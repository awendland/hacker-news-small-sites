<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Tue, 22 Sep 2020 16:25:58 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Tue, 22 Sep 2020 16:25:58 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Aligning Span Annotations to Hugginface Tokenizers]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24541780">thread link</a>) | @talolard
<br/>
September 21, 2020 | https://www.lighttag.io/blog/sequence-labeling-with-transformers/example | <a href="https://web.archive.org/web/*/https://www.lighttag.io/blog/sequence-labeling-with-transformers/example">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote>
<p><em>This post <a href="https://github.com/LightTag/sequence-labeling-with-transformers">comes with a repo</a></em></p>
</blockquote>
<p>Our previous post on
<a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/">aligning span annotations to Hugginface's tokenizer outputs</a>
discussed the various tradeoffs one needs to consider, and concluded that a windowing strategy over the tokenized text
and labels is optimal for our use cases. </p>
<p>This post demonstrates an end to end implementation of token alignment and windowing. We'll start by implementing
utility classes that make programming a little easier, then implement the alignment functionality which aligns offset
annotations to the out of a tokenizer. Finnaly we'll implement a PyTorch Dataset that stores our aligned tokens and
labels as windows, a Collator to implement batching and a simple DataLoader to be used in training. </p>
<p>We'll show and end to end flow on the DDI Corpus, recognizing pharmacological entities with BERT.</p>
<h2>Utility Classes For Convenient APIs</h2>
<p>We'll start by defining some types and utility classes that will make our work more convenient</p>
<div data-language="python"><pre><code><span>from</span> typing_extensions <span>import</span> TypedDict
<span>from</span> typing <span>import</span> List<span>,</span>Any
IntList <span>=</span> List<span>[</span><span>int</span><span>]</span> 
IntListList <span>=</span> List<span>[</span>IntList<span>]</span> </code></pre></div>

<h2>The Alignment Algorithm</h2>
<h3>FastTokenizers Simplify Alignment</h3>
<p>Recent versions of Hugginface's tokenizers library include variants of Tokenizers that end with Fast and inherit
from <a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.PreTrainedTokenizerFast">PreTrainedTokenizerFast</a><br>
such as <a href="https://huggingface.co/transformers/model_doc/bert.html#berttokenizerfast">BertTokenizerFast</a>
and <a href="https://huggingface.co/transformers/model_doc/gpt2.html#gpt2tokenizerfast">GPT2TokenizerFast</a>. </p>
<p>Per the tokenizer's documentation</p>
<blockquote>
<p>When the tokenizer is a ‚ÄúFast‚Äù tokenizer (i.e., backed by HuggingFace tokenizers library), [the output] provides in addition several advanced alignment methods which can be used to map between the original string (character and words) and the token space (e.g., getting the index of the token comprising a given character or the span of characters corresponding to a given token).</p>
</blockquote>
<p>Notably, the output provides the methods
<a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.BatchEncoding.token_to_chars">token<em>to</em>chars</a>
and <a href="https://huggingface.co/transformers/main_classes/tokenizer.html#transformers.BatchEncoding.char_to_token">char<em>to</em>token</a>
which do exactly what their name implies, provide mappings between tokens and character offsets in the original text.
That's exactly what we need to align annotations in offset format with tokens.</p>
<h2>A warmup implementation</h2>
<p>Our final implementation will use the BIOUL scheme we mentioned before. But before we do that, let's try a simple
alignment to see what it feels like</p>
<div data-language="python"><pre><code>text <span>=</span> <span>"I am Tal Perry, founder of LightTag"</span>
annotations <span>=</span> <span>[</span>
    <span>dict</span><span>(</span>start<span>=</span><span>5</span><span>,</span>end<span>=</span><span>14</span><span>,</span>text<span>=</span><span>"Tal Perry"</span><span>,</span>label<span>=</span><span>"Person"</span><span>)</span><span>,</span>
    <span>dict</span><span>(</span>start<span>=</span><span>16</span><span>,</span>end<span>=</span><span>23</span><span>,</span>text<span>=</span><span>"founder"</span><span>,</span>label<span>=</span><span>"Title"</span><span>)</span><span>,</span>
    <span>dict</span><span>(</span>start<span>=</span><span>27</span><span>,</span>end<span>=</span><span>35</span><span>,</span>text<span>=</span><span>"LightTag"</span><span>,</span>label<span>=</span><span>"Org"</span><span>)</span><span>,</span>
    
              <span>]</span>
<span>for</span> anno <span>in</span> annotations<span>:</span>
    
    <span>print</span> <span>(</span>text<span>[</span>anno<span>[</span><span>'start'</span><span>]</span><span>:</span>anno<span>[</span><span>'end'</span><span>]</span><span>]</span><span>,</span>anno<span>[</span><span>'label'</span><span>]</span><span>)</span>
    </code></pre></div>
<div data-language="text"><pre><code>Tal Perry Person
founder Title
LightTag Org</code></pre></div>
<div data-language="python"><pre><code><span>from</span> transformers <span>import</span> BertTokenizerFast<span>,</span>  BatchEncoding
<span>from</span> tokenizers <span>import</span> Encoding
tokenizer <span>=</span> BertTokenizerFast<span>.</span>from_pretrained<span>(</span><span>'bert-base-cased'</span><span>)</span> 
tokenized_batch <span>:</span> BatchEncoding <span>=</span> tokenizer<span>(</span>text<span>)</span>
tokenized_text <span>:</span>Encoding  <span>=</span>tokenized_batch<span>[</span><span>0</span><span>]</span></code></pre></div>
<div data-language="python"><pre><code>tokens <span>=</span> tokenized_text<span>.</span>tokens
aligned_labels <span>=</span> <span>[</span><span>"O"</span><span>]</span><span>*</span><span>len</span><span>(</span>tokens<span>)</span> 
<span>for</span> anno <span>in</span> <span>(</span>annotations<span>)</span><span>:</span>
    <span>for</span> char_ix <span>in</span> <span>range</span><span>(</span>anno<span>[</span><span>'start'</span><span>]</span><span>,</span>anno<span>[</span><span>'end'</span><span>]</span><span>)</span><span>:</span>
        token_ix <span>=</span> tokenized_text<span>.</span>char_to_token<span>(</span>char_ix<span>)</span>
        <span>if</span> token_ix <span>is</span> <span>not</span> <span>None</span><span>:</span> 
            aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> anno<span>[</span><span>'label'</span><span>]</span>
<span>for</span> token<span>,</span>label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span>aligned_labels<span>)</span><span>:</span>
    <span>print</span> <span>(</span>token<span>,</span><span>"-"</span><span>,</span>label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
I - O
am - O
Ta - Person
##l - Person
Perry - Person
, - O
founder - Title
of - O
Light - Org
##T - Org
##ag - Org
[SEP] - O</code></pre></div>
<h3>Accounting For Multi Token Annotations</h3>
<p>In the above example, some of our annotations spanned multiple tokens.
For instance "Tal Perry" spanned "Ta", "##l" and "Perry". Clearly by themselves none of those tokens are a Person, and
so our current alignment scheme isn't as useful as it could be.
To overcome that, we'll use the previously mentioned BIOLU scheme, which will indicate if a token is the beginning,
inside, last token in an annotation or if it is not part of an annotation or if it is perfectly aligned with an annotation.</p>
<div data-language="python"><pre><code><span>def</span> <span>align_tokens_and_annotations_bilou</span><span>(</span>tokenized<span>:</span> Encoding<span>,</span> annotations<span>)</span><span>:</span>
    tokens <span>=</span> tokenized<span>.</span>tokens
    aligned_labels <span>=</span> <span>[</span><span>"O"</span><span>]</span> <span>*</span> <span>len</span><span>(</span>
        tokens
    <span>)</span>  
    <span>for</span> anno <span>in</span> annotations<span>:</span>
        annotation_token_ix_set <span>=</span> <span>(</span>
            <span>set</span><span>(</span><span>)</span>
        <span>)</span>  
        <span>for</span> char_ix <span>in</span> <span>range</span><span>(</span>anno<span>[</span><span>"start"</span><span>]</span><span>,</span> anno<span>[</span><span>"end"</span><span>]</span><span>)</span><span>:</span>

            token_ix <span>=</span> tokenized<span>.</span>char_to_token<span>(</span>char_ix<span>)</span>
            <span>if</span> token_ix <span>is</span> <span>not</span> <span>None</span><span>:</span>
                annotation_token_ix_set<span>.</span>add<span>(</span>token_ix<span>)</span>
        <span>if</span> <span>len</span><span>(</span>annotation_token_ix_set<span>)</span> <span>==</span> <span>1</span><span>:</span>
            
            token_ix <span>=</span> annotation_token_ix_set<span>.</span>pop<span>(</span><span>)</span>
            prefix <span>=</span> <span>(</span>
                <span>"U"</span>  
            <span>)</span>
            aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> <span><span>f"</span><span><span>{</span>prefix<span>}</span></span><span>-</span><span><span>{</span>anno<span>[</span><span>'label'</span><span>]</span><span>}</span></span><span>"</span></span>

        <span>else</span><span>:</span>

            last_token_in_anno_ix <span>=</span> <span>len</span><span>(</span>annotation_token_ix_set<span>)</span> <span>-</span> <span>1</span>
            <span>for</span> num<span>,</span> token_ix <span>in</span> <span>enumerate</span><span>(</span><span>sorted</span><span>(</span>annotation_token_ix_set<span>)</span><span>)</span><span>:</span>
                <span>if</span> num <span>==</span> <span>0</span><span>:</span>
                    prefix <span>=</span> <span>"B"</span>
                <span>elif</span> num <span>==</span> last_token_in_anno_ix<span>:</span>
                    prefix <span>=</span> <span>"L"</span>  
                <span>else</span><span>:</span>
                    prefix <span>=</span> <span>"I"</span>  
                aligned_labels<span>[</span>token_ix<span>]</span> <span>=</span> <span><span>f"</span><span><span>{</span>prefix<span>}</span></span><span>-</span><span><span>{</span>anno<span>[</span><span>'label'</span><span>]</span><span>}</span></span><span>"</span></span>
    <span>return</span> aligned_labels


labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> annotations<span>)</span>
<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span> labels<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
I - O
am - O
Ta - B-Person
##l - I-Person
Perry - L-Person
, - O
founder - U-Title
of - O
Light - B-Org
##T - I-Org
##ag - L-Org
[SEP] - O</code></pre></div>
<p>Notice how <strong>founder</strong> above has a <strong>U</strong> prefix and the other annotations now follow a BIL scheme.</p>
<h3>Mapping Labels To Ids</h3>
<p>It's great that we have our annotations aligned, but we need the labels as integer ids for training.
During inference, we'll also need a way to map predicted ids back to labels.
I'm going to make a custom class that handles that, called a LabelSet. </p>
<div data-language="python"><pre><code><span>import</span> itertools


<span>class</span> <span>LabelSet</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span>self<span>,</span> labels<span>:</span> List<span>[</span><span>str</span><span>]</span><span>)</span><span>:</span>
        self<span>.</span>labels_to_id <span>=</span> <span>{</span><span>}</span>
        self<span>.</span>ids_to_label <span>=</span> <span>{</span><span>}</span>
        self<span>.</span>labels_to_id<span>[</span><span>"O"</span><span>]</span> <span>=</span> <span>0</span>
        self<span>.</span>ids_to_label<span>[</span><span>0</span><span>]</span> <span>=</span> <span>"O"</span>
        num <span>=</span> <span>0</span>  
        
        <span>for</span> _num<span>,</span> <span>(</span>label<span>,</span> s<span>)</span> <span>in</span> <span>enumerate</span><span>(</span>itertools<span>.</span>product<span>(</span>labels<span>,</span> <span>"BILU"</span><span>)</span><span>)</span><span>:</span>
            num <span>=</span> _num <span>+</span> <span>1</span>  
            l <span>=</span> <span><span>f"</span><span><span>{</span>s<span>}</span></span><span>-</span><span><span>{</span>label<span>}</span></span><span>"</span></span>
            self<span>.</span>labels_to_id<span>[</span>l<span>]</span> <span>=</span> num
            self<span>.</span>ids_to_label<span>[</span>num<span>]</span> <span>=</span> l
        

    <span>def</span> <span>get_aligned_label_ids_from_annotations</span><span>(</span>self<span>,</span> tokenized_text<span>,</span> annotations<span>)</span><span>:</span>
        raw_labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> annotations<span>)</span>    
        <span>return</span> <span>list</span><span>(</span><span>map</span><span>(</span>self<span>.</span>labels_to_id<span>.</span>get<span>,</span> raw_labels<span>)</span><span>)</span>


example_label_set <span>=</span> LabelSet<span>(</span>labels<span>=</span><span>[</span><span>"Person"</span><span>,</span> <span>"Org"</span><span>,</span> <span>"Title"</span><span>]</span><span>)</span>
aligned_label_ids <span>=</span> example_label_set<span>.</span>get_aligned_label_ids_from_annotations<span>(</span>
    tokenized_text<span>,</span> annotations
<span>)</span>

<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokens<span>,</span> aligned_label_ids<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - 0
I - 0
am - 0
Ta - 1
##l - 2
Perry - 3
, - 0
founder - 12
of - 0
Light - 5
##T - 6
##ag - 7
[SEP] - 0</code></pre></div>

<p>Now that we have alignment logic in place, we need to figure out how to load, batch and pad the data. We also need
to handle the case where our text is longer than we can feed our model. Below we show an implementation of a
particular strategy, windowing over uniform length segments of the text. This isn't the only strategy, or even
necessarily the best, but it fits our use case well. You can read more about
why <a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/">we use windowing when training ner models with BERT here</a>.
Below we'll just show how to do that.</p>
<h2>The Raw Dataset</h2>
<p>We'll be using the <a href="https://www.sciencedirect.com/science/article/pii/S1532046413001123">DDI Corpus</a>. You can download
a JSON verion of it  <a href="https://github.com/LightTag/DDICorpus">here</a>.
Let's take a quick look at the data</p>
<div data-language="python"><pre><code><span>import</span> json
<span>from</span> pprint <span>import</span> pprint

raw <span>=</span> json<span>.</span>load<span>(</span><span>open</span><span>(</span><span>"./ddi_train.json"</span><span>)</span><span>)</span>
<span>for</span> example <span>in</span> raw<span>:</span>
    
    <span>for</span> anno <span>in</span> example<span>[</span><span>"annotations"</span><span>]</span><span>:</span>
        anno<span>[</span><span>"label"</span><span>]</span> <span>=</span> anno<span>[</span><span>"tag"</span><span>]</span>
pprint<span>(</span>raw<span>[</span><span>2</span><span>]</span><span>)</span></code></pre></div>
<div data-language="text"><pre><code>{'annotations': [{'end': 58, 'label': 'drug', 'start': 47, 'tag': 'drug'},
                 {'end': 75, 'label': 'drug', 'start': 62, 'tag': 'drug'},
                 {'end': 135, 'label': 'drug', 'start': 124, 'tag': 'drug'},
                 {'end': 164, 'label': 'drug', 'start': 152, 'tag': 'drug'}],
 'content': 'Pharmacokinetic studies have demonstrated that omeprazole and '
            'erythromycin significantly increased the systemic exposure of '
            'cilostazol and/or its major metabolites.',
 'metadata': {'original_id': 'DrugDDI.d452.s1'}}</code></pre></div>
<p>Lets take a look at that tokenized and aligned</p>
<div data-language="python"><pre><code>example <span>=</span> raw<span>[</span><span>2</span><span>]</span>
tokenized_batch <span>=</span> tokenizer<span>(</span>example<span>[</span><span>"content"</span><span>]</span><span>)</span>
tokenized_text <span>=</span> tokenized_batch<span>[</span><span>0</span><span>]</span>
labels <span>=</span> align_tokens_and_annotations_bilou<span>(</span>tokenized_text<span>,</span> example<span>[</span><span>"annotations"</span><span>]</span><span>)</span>
<span>for</span> token<span>,</span> label <span>in</span> <span>zip</span><span>(</span>tokenized_text<span>.</span>tokens<span>,</span> labels<span>)</span><span>:</span>
    <span>print</span><span>(</span>token<span>,</span> <span>"-"</span><span>,</span> label<span>)</span></code></pre></div>
<div data-language="text"><pre><code>[CLS] - O
Ph - O
##arma - O
##co - O
##kin - O
##etic - O
studies - O
have - O
demonstrated - O
that - O
o - B-drug
##me - I-drug
##pra - I-drug
##zo - I-drug
##le - L-drug
and - O
er - B-drug
##yt - I-drug
##hr - I-drug
##omy - I-drug
##cin - L-drug
significantly - O
increased - O
the - O
systemic - O
exposure - O
of - O
c - B-drug
##ilo - I-drug
##sta - I-drug
##zo - I-drug
##l - L-drug
and - O
/ - O
or - O
its - O
major - O
meta - B-drug
##bol - I-drug
##ites - I-drug
. - L-drug
[SEP] - O</code></pre></div>
<h2>Padding and Windowing in a Dataset</h2>
<p>Our dataset is conveniently split into sentences. We still need to batch it and pad the examples.
More commonly, data is not split into sentences, and so we will window over fixed sized parts of it.
The windowing, padding and alignment logic will be done in a pytorch Dataset and we'll get to batching in a moment.</p>
<div data-language="python"><pre><code><span>from</span> dataclasses <span>import</span> dataclass
<span>from</span> torch<span>.</span>utils<span>.</span>data <span>import</span> Dataset
<span>from</span> transformers <span>import</span> PreTrainedTokenizerFast</code></pre></div>
<div data-language="python"><pre><code><span>@dataclass</span>
<span>class</span> <span>TrainingExample</span><span>:</span>
    input_ids<span>:</span> IntList
    attention_masks<span>:</span> IntList
    labels<span>:</span> IntList


<span>class</span> <span>TraingDataset</span><span>(</span>Dataset<span>)</span><span>:</span>
    <span>def</span> <span>__init__</span><span>(</span>
        self<span>,</span>
        data<span>:</span> Any<span>,</span>
        label_set<span>:</span> LabelSet<span>,</span>
        tokenizer<span>:</span> PreTrainedTokenizerFast<span>,</span>
        tokens_per_batch<span>=</span><span>32</span><span>,</span>
        window_stride<span>=</span><span>None</span><span>,</span>
    <span>)</span><span>:</span>
        self<span>.</span>label_set <span>=</span> label_set
        <span>if</span> window_stride <span>is</span> <span>None</span><span>:</span>
            self<span>.</span>window_stride <span>=</span> tokens_per_batch
        self<span>.</span>tokenizer <span>=</span> tokenizer
        <span>for</span> example <span>in</span> data<span>:</span>
            
            <span>for</span> a <span>in</span> example<span>[</span><span>"annotations"</span><span>]</span><span>:</span>
        ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lighttag.io/blog/sequence-labeling-with-transformers/example">https://www.lighttag.io/blog/sequence-labeling-with-transformers/example</a></em></p>]]>
            </description>
            <link>https://www.lighttag.io/blog/sequence-labeling-with-transformers/example</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541780</guid>
            <pubDate>Mon, 21 Sep 2020 10:34:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Code Cleanup for Beginners]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24541386">thread link</a>) | @imankulov
<br/>
September 21, 2020 | https://imankulov.name/posts/python-cleanup/ | <a href="https://web.archive.org/web/*/https://imankulov.name/posts/python-cleanup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        






<p><img src="https://imankulov.name/posts/python-cleanup/priorities_hu3b283fe0159607ee8664386d7eab28b3_134269_1000x700_fill_q75_box_smart1.jpg" width="1000" height="700" alt="Programmer Priorities">

<span>
    <small>
        Photo by <a href="https://twitter.com/LeaVerou/status/1306001020636540934">Lea Verou</a>
    </small>
</span></p><p>It‚Äôs my responsibility to hire Python developers. If you have a GitHub account, I will check it out. Everyone does it. Maybe you don‚Äôt know, but your playground project with zero stars can help you to get that job offer.</p>
<p>The same goes for your take-home test task. You heard this, when we meet a person for the first time, we make the first impression in 30 seconds, and this biases the rest of our judgment. I find it uncomfortably unfair that beautiful people get everything easier than the rest of us. The same bias applies to the code. You look at the project, and something immediately catches your eye. Leftovers of the old code in the repo, like leftovers of your breakfast in your beard, can ruin everything. You may not have a beard, but you get the point.</p>
<p>Usually, it‚Äôs easy to see when it‚Äôs a beginner‚Äôs code. Below, I provide some tricks to fool recruiters like me and increase your chances of passing to the next interview level. Don‚Äôt feel bad if you think like you‚Äôre gaming the system, because you are not. Applying these little improvements to your code not only increases your chances to succeed at the interview, but you also become a better developer. Which I can‚Äôt tell for drilling focusing on memorizing algorithms or modules of the standard library.</p>
<p>What‚Äôs the difference between a beginner and a more experienced developer? Beginners did not work with the legacy codebase, and they don‚Äôt see value in investing in a maintainable solution. Quite often, they work alone and equally, they don‚Äôt care much about the readability.</p>
<p><strong>Your goal is to show that you care about the readability and maintainability of your solution.</strong></p>
<p>Let‚Äôs see what we can do to improve the quality of your Python project. These tips make your code better, and if you don‚Äôt cargo-cult them, they also make you a better developer.</p>
<p><strong>1. Declutter the repo</strong><br>
Open your repo page on GitHub. Do you have <code>.idea</code>, <code>.vscode</code>, <code>.DS_Store</code> or <code>*.pyc</code> files? Have you committed your virtualenv there? Remove them now, and add files and directories to the gitignore. The rule of thumb is to avoid keeping in the codebase anything that you haven‚Äôt created yourself. There is a good <a href="https://www.atlassian.com/git/tutorials/saving-changes/gitignore">tutorial from Atlassian</a> to know more about gitignore and what to ignore in general.</p>
<details>
<summary>Example</summary>
<p><strong>‚úÖ A minimal gitignore example for the Python project</strong><br>
A good starting point for the <code>.gitignore</code>. Add it to your repository in the first place.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="fallback">*.pyc
*.egg-info

# If you're on Mac
.DS_Store

# If you have a habit of creating a virtual environment
# inside the project, as I do
/env

# Configuration and secrets (see an example in the next section)
/.env
</code></pre></td></tr></tbody></table>
</div>
</div><p>For a bigger gitignore, use <a href="https://github.com/github/gitignore/blob/master/Python.gitignore">the one from the GitHub‚Äôs collection</a> as a stargting point and a source of the inspiration.</p>
</details>
<p><strong>2. No passwords in the code</strong><br>
No passwords to the databases, API keys to external services, or secret keys for encryption in the repo! Move the secrets to configuration files or environment variables, or read them from the secret store, and never commit them to the codebase. The 12-factor guide is an excellent and always relevant read, and its advice about <a href="https://12factor.net/config">configs</a> is on-point.</p>
<details>
<summary>Example</summary>
<p><strong>üö´ Database requisites in the code</strong><br>
It‚Äôs a snippet from a Flask application where the author keeps the database requisites in the code.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>from</span> <span>flask</span> <span>import</span> Flask

app <span>=</span> Flask(__name__)
app<span>.</span>config[<span>"SQLALCHEMY_DATABASE_URI"</span>] <span>=</span> <span>"postgresql://user:secret@localhost:5432/my_db"</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>‚úÖ Database requisites in environment</strong><br>
Moving requisites to the environment is quite straightforward.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>import</span> <span>os</span>
<span>from</span> <span>flask</span> <span>import</span> Flask

app <span>=</span> Flask(__name__)
app<span>.</span>config[<span>"SQLALCHEMY_DATABASE_URI"</span>] <span>=</span> os<span>.</span>getenv(<span>"SQLALCHEMY_DATABASE_URI"</span>)
</code></pre></td></tr></tbody></table>
</div>
</div><p>Now, before starting the application, you need to initialize the environment.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span></code></pre></td>
<td>
<pre><code data-lang="bash"><span>export</span> <span>SQLALCHEMY_DATABASE_URI</span><span>=</span>postgresql://user:secret@localhost:5432/my_db
flask run
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>‚úÖ Database requisites in the .env file</strong><br>
To avoid initializing the environment from your console, take a step further and include your requisites in a file <code>.env</code>. Install the package <a href="https://pypi.org/project/python-dotenv/">python-dotenv</a> and initialize your environment right from the Python code.</p>
<p>That‚Äôs how the <code>.env</code> would look like</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span></code></pre></td>
<td>
<pre><code data-lang="fallback">SQLALCHEMY_DATABASE_URI=postgresql://user:secret@localhost:5432/my_db
</code></pre></td></tr></tbody></table>
</div>
</div><p>Reading this file from your application looks like this:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span><span>5
</span><span>6
</span><span>7
</span><span>8
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>import</span> <span>os</span>
<span>from</span> <span>dotenv</span> <span>import</span> load_dotenv
<span>from</span> <span>flask</span> <span>import</span> Flask

load_dotenv()

app <span>=</span> Flask(__name__)
app<span>.</span>config[<span>"SQLALCHEMY_DATABASE_URI"</span>] <span>=</span> os<span>.</span>getenv(<span>"SQLALCHEMY_DATABASE_URI"</span>)
</code></pre></td></tr></tbody></table>
</div>
</div><p>Don‚Äôt forget to add the path to your <code>.env</code> file to <code>.gitignore</code> so that you don‚Äôt commit it accidentally.</p>
</details>
<p><strong>3. Have a README</strong><br>
Have a top-level README with the purpose of your project, installation instructions, and the quick start guide. If you don‚Äôt know what to write there, follow the <a href="https://www.makeareadme.com/">Make a README</a> guideline.</p>
<details>
<summary>Example</summary>
<p><strong>‚úÖ A sample README for a Python project</strong><br>
As suggested by the ‚ÄúMake a README‚Äù resource, include in the README installation and usage instructions. The example below also includes contributing guidelines and a license, which is crucial for an open-source project.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span><span>32
</span><span>33
</span><span>34
</span><span>35
</span><span>36
</span></code></pre></td>
<td>
<pre><code data-lang="markdown"><span># Foobar
</span><span></span>
Foobar is a Python application for dealing with word pluralization.

<span>## Installation
</span><span></span>
Clone the repository from GitHub. Then create a virtual environment, and install all the dependencies.

<span>```bash
</span><span></span>git clone https://github.com/username/foobar.git
python3 -m venv env
<span>source</span> env/bin/activate
python -m pip install -r requirements.txt
<span>```</span>

<span>## Usage
</span><span></span>
Initialize the virtual environment, and run the script

<span>```bash
</span><span></span><span>source</span> env/bin/activate
./pluralize word
words
./pluralize goos
geese
<span>```</span>

<span>## Contributing
</span><span></span>
Pull requests are welcome. For major changes, please open an issue first to discuss what you would like to change.

Please make sure to update the tests as appropriate.

<span>## License
</span><span></span>
[<span>MIT</span>](<span>https://choosealicense.com/licenses/mit/</span>)
</code></pre></td></tr></tbody></table>
</div>
</div></details>
<p><strong>4. If you use third-party libraries, have a requirements.txt</strong><br>
If your project requires third-party dependencies, declare them explicitly. The simplest way is to create a requirements.txt file in the top-level directory, one dependency per line. Don‚Äôt forget to add an instruction to use requirements.txt to the README. Read more about the file in the <a href="https://pip.pypa.io/en/stable/user_guide/#requirements-files">pip user guide</a></p>
<details>
<summary>Example</summary>
<p><strong>‚úÖ A sample requirements.txt for a Flask application</strong><br>
Adding requirements.txt to the root of your project is the simplest way of keeping track of project dependencies. Optionally, you can define the version constraints for them.</p>
<p><em>requirements.txt</em></p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="fallback">gunicorn
Flask&gt;=1.1
Flask-SQLAlchemy
psycopg2
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>‚úÖ A more elaborated example with requirements.in</strong><br>
It‚Äôs always good to have a reproducible environment. Even if a new library comes out, you keep using the old battle-tested version until you explicitly decide to upgrade the version. It‚Äôs called ‚Äúdependency pinning‚Äù and the easiest way to advance with it is to use <a href="https://pypi.org/project/pip-tools/">pip-tools</a>. There, you have two files: requirements.in and requirements.txt. You never modify the latter by hand, but you commit it along with requirements.in.</p>
<p>Here‚Äôs the source file <em>requirements.in</em>:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="fallback">gunicorn
Flask&gt;=1.1
Flask-SQLAlchemy
psycopg2
</code></pre></td></tr></tbody></table>
</div>
</div><p>To get <em>requirements.txt</em> you compile it by running a command <code>pip-compile</code></p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span></code></pre></td>
<td>
<pre><code data-lang="fallback">#
# This file is autogenerated by pip-compile
# To update, run:
#
#    pip-compile
#
click==7.1.2              # via flask
flask-sqlalchemy==2.4.4   # via -r requirements.in
flask==1.1.2              # via -r requirements.in, flask-sqlalchemy
gunicorn==20.0.4          # via -r requirements.in
itsdangerous==1.1.0       # via flask
jinja2==2.11.2            # via flask
markupsafe==1.1.1         # via jinja2
psycopg2==2.8.6           # via -r requirements.in
sqlalchemy==1.3.19        # via flask-sqlalchemy
werkzeug==1.0.1           # via flask

# The following packages are considered to be unsafe in a requirements file:
# setuptools
</code></pre></td></tr></tbody></table>
</div>
</div><p>As you can see, the resulted file contains the exact versions of all the dependencies.</p>
</details>
<p><strong>5. Format your code with black</strong><br>
Inconsistent formatting doesn‚Äôt prevent your code from working. Still, formatted code makes your code easier to read and to maintain. Fortunately, code formatting can and should be automated. If you use VSCode, it suggests installing ‚Äúblack‚Äù, an automatic source code formatter for Python, and reformats your code on save. Also, you can install <a href="https://black.readthedocs.io/en/stable/">black</a> and do the same from the console.</p>
<details>
<summary>Example</summary>
<p><strong>üö´ Unformatted code</strong><br>
The code is hard to read and to extend</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>def</span> <span>pluralize</span> ( word ):
    exceptions<span>=</span>{
<span>"goose"</span>:<span>'geese'</span>,<span>'phenomena'</span> : <span>'phenomenon'</span>   }
    <span>if</span> word <span>in</span> exceptions :
        <span>return</span> exceptions [ word ]
    <span>return</span> word<span>+</span><span>'s'</span>

<span>if</span> __name__<span>==</span><span>'__main__'</span> :
    <span>import</span> <span>sys</span>
    <span>print</span> ( pluralize ( sys<span>.</span>argv[<span>1</span>] ) )
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>‚úÖ The same code, formatted with black</strong><br>
Black guarantees that the code keeps the same functionality. It only saves you from the mental burden of manually following the same formatting guideline.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>def</span> <span>pluralize</span>(word):
    exceptions <span>=</span> {<span>"goose"</span>: <span>"geese"</span>, <span>"phenomena"</span>: <span>"phenomenon"</span>}
    <span>if</span> word <span>in</span> exceptions:
        <span>return</span> exceptions[word]
    <span>return</span> word <span>+</span> <span>"s"</span>


<span>if</span> __name__ <span>==</span> <span>"__main__"</span>:
    <span>import</span> <span>sys</span>

    <span>print</span>(pluralize(sys<span>.</span>argv[<span>1</span>]))
</code></pre></td></tr></tbody></table>
</div>
</div></details>
<p><strong>6. Remove unused imports</strong><br>
Unused imports are usually left hanging in the codebase after some experiments and refactoring. If you don‚Äôt use a module anymore, don‚Äôt forget to remove it from the file. Editors usually highlight unused imports, making them an easy target.</p>
<details>
<summary>Example</summary>
<p><strong>üö´ Unused imports</strong><br>
The import ‚Äúos‚Äù is not used.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span></code></pre></td>
<td>
<pre><code data-lang="python"><span>import</span> <span>os</span>

<span>print</span>(<span>"Hello world"</span>)
</code></pre></td></tr></tbody></table>
</div>
</div><p><strong>‚úÖ No unused imports</strong><br>
Well, that is trivial.</p>
</details>
<p><strong>7. Remove unused variables</strong><br>
The same goes for unused variables. You may have them because you followed the flow and though that a variable will be useful later on, but it turned out to be never used in the first place.</p>
<details>
<summary>Example</summary>
<p><strong>üö´ Unused variables</strong><br>
The ‚Ä¶</p></details></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://imankulov.name/posts/python-cleanup/">https://imankulov.name/posts/python-cleanup/</a></em></p>]]>
            </description>
            <link>https://imankulov.name/posts/python-cleanup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541386</guid>
            <pubDate>Mon, 21 Sep 2020 09:29:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to catch a spy that is using a numbers station ‚Äì The KGB Experience]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24541163">thread link</a>) | @Shaddox
<br/>
September 21, 2020 | https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/ | <a href="https://web.archive.org/web/*/https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div id="attachment_166048"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166048" src="https://i2.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547.jpg?resize=183%2C300&amp;ssl=1" alt="" width="183" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=183%2C300&amp;ssl=1 183w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=624%2C1024&amp;ssl=1 624w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=768%2C1261&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=935%2C1536&amp;ssl=1 935w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?resize=1247%2C2048&amp;ssl=1 1247w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1559&amp;ssl=1 1559w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135547-scaled.jpg?w=1500&amp;ssl=1 1500w" sizes="(max-width: 183px) 100vw, 183px" data-recalc-dims="1"></a></p><p id="caption-attachment-166048">Cover of the KGB manual. Mobile screen grab from Latvian national archive</p></div>


<p>From 2019 onwards the Latvian National Archive offers access to various KGB documents. The author had already previously shown the very detailed efforts of the Latvian KGB counterintelligence to monitor and study the CIA and BND numbers stations broadcasts, or what they called ‚Äì ‚Äúone directional communications‚Äù.<a href="#_ftn1" name="_ftnref1"><sup>[1]</sup></a> These are one of the most definitive archival sources which prove that foreign intelligence actively used shortwave in the USSR and that the KGB was aware of it. The documents showed that the KGB had monitored these broadcasts from at least 1978, but the files spoke very vaguely if the monitoring effort led to any apprehension and capture of a foreign agent. We, however, know that there were such cases like Alexander Ogorodnik<a href="#_ftn2" name="_ftnref2"><sup>[2]</sup></a>, and others where the use of shortwave signals was determined.</p>
<p>The Latvian National Archive digitized operational cases and also special KGB training manuals. These manuals were published for inner agency use and were never issued in public because they contained secret information. One such manual called ‚Äú<em>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Ä–∞–±–æ—Ç—ã –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º –∏ –¥–µ–ª–∞–º –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ —É—á–µ—Ç–∞ –ª–∏—Ü –ø—Ä–∏—á–∞—Å—Ç–∏–π –≤ —à–ø–∏–æ–Ω–∞–∂—É‚Äù</em> published in 1985 by KGB of F. E Dzherzhinsky in Moscow.<a href="#_ftn3" name="_ftnref3"><sup>[3]</sup></a> (A few issues on organizing work on signals and cases recognizing persons taking part in espionage‚Äù). The manual was credited to major general A. A Fabrichinikov and colonel V.V Holopov The word ‚Äúsignal‚Äù in the title does not mean just a radio signal. In the KGB terminology ‚Äúsignal‚Äù meant a sign or report of a foreign intelligence or anti Soviet activity. If this ‚Äúsignal‚Äù indicated that the person is taking part in espionage he had to be investigated and evidence to be collected. The manual showed various historical cases as examples on how to apprehend and capture a foreign agent.</p>



<p>One such case was called‚Äù Case on Filatov‚Äù. Starting from page 41 the manual examples this case as one of the cases where radio communication was used between the agency and agent and how it was uncovered by counter intelligence. <strong>Anatoly N. Filatov</strong> was according to a 1981 Washington Post report sentenced in 1978 to be shot by a firing squad, though the sentence was commuted later to 15 years in prison.<a href="#_ftn4" name="_ftnref4"><sup>[4]</sup></a> A New York Times article in 1980 had rumored that A. Filatov was the same ‚ÄúTrigon‚Äù who is now commonly known as Alexandr Ogorodnik. The article states that A. Filatov was suspected of being discovered by the KGB counterintelligence and forced to send the CIA false information. The reasoning behind this hypothesis was that in 1977 ‚ÄúTrigon‚Äù went dark at the same time as A. Filatov sent a very questionable cable about Secretary of State Henry Kissinger, where he questioned the ‚Äúbargaining position of president Carter‚Äù during the 1977 missile control talks.<a href="#_ftn5" name="_ftnref5"><sup>[5]</sup></a> Alexander Ogorodnik aka ‚ÄúTrigon‚Äù died on June 22 1977 after swallowing cyanide pills during a KGB break in.<a href="#_ftn6" name="_ftnref6"><sup>[6]</sup></a></p>
<p>David E. Hoffman, author of the book ‚ÄúThe Million Dollar Spy‚Äù states that Filatov was arrested during a ‚Äúcar toss‚Äù, where a package is quickly swapped between two passing cars.<a href="#_ftn7" name="_ftnref7"><sup>[7]</sup></a> Russian author Aleksandr Kolpakidi in his book ‚ÄúThe GRU Empire‚Äù writes that Filatov was born in 1940 in the Saratov district, joined the GRU in 1973. (GRU ‚Äì the Main Intelligence Directorate ‚Äì Soviet military intelligence agency) and served in Algiers where in 1974 he established contact with the CIA. Filatov had stated that his involvement with the adversary CIA happened as a result of being lured into a honey trap with a woman called Nadia, as similar happened to&nbsp; A. Ogorodnik. Either so or A. Filatov himself decided to become a double agent and started meeting CIA agent Edward Kane. In 1976 A. Filatov was called back to Moscow and the CIA had instructed him to receive shortwave coded broadcasts in German numbers from Frankfurt near Main, the broadcasts were to be carried out twice a week. Operative broadcast would be started with uneven numbers and training with even numbers. The broadcasts on precaution were carried out before A. Filatov returned to Moscow. The return message was to be carried out in a dead drop in an area near Dinamo sports stadium.</p>
<p>As the author states the coded messages contained such instructions: ‚ÄúDo not contain yourself with gathering information within your service only. Gain trust of friends and relatives. Visit them at their workplaces, their homes, invite them to restaurants, and with careful, clever talking gain information you could not get yourself‚Äù<a href="#_ftn8" name="_ftnref8"><sup>[8]</sup></a>. The instructions also stated that the agency is not just interested in documents with ‚ÄúTop Secret‚Äù on it but also common information about his department and situation in it. Filatov was arrested on the 2nd of September 1977. As A. Kolpakidi states he was first sentenced to death in 1978 but instead was sent to labor camp 389/35 near Perm. In 1989 Filatov was visited by French journalists to whom he stated that he took very high stakes risks in his life which he lost and now naturally pays for it.</p>
<p>After release he demanded compensation from the US embassy, but was denied as a non citizen. The Russian TV company TV Center in 2014 made the documentary series ‚Äú–ó–∞–≤–µ—Ä–±—É–π –º–µ–Ω—è, –µ—Å–ª–∏ —Å–º–æ–∂–µ—à—å‚Äù (Contract me if you can) and featured the A. Filatov case showing various pictures of him and accounts from his colleagues, such as Anatoly Tereshchenko, colonel of the military counter intel. Tereshchenko stated that if A. Filatov had come to the GRU and reported that he was lured into cooperation with the CIA, they could outplay the CIA, and Filatov would be a hero.<a href="#_ftn9" name="_ftnref9"><sup>[9]</sup></a> What became of Filatov after his release, is not known, the TV documentary showed his picture after his release. Possibly A. Filatov is dead now.</p>
<div id="attachment_166050"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?ssl=1"><img aria-describedby="caption-attachment-166050" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1" alt="" width="300" height="177" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=300%2C177&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?resize=768%2C453&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov.png?w=873&amp;ssl=1 873w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166050">Anatoly Filatov</p></div>
<div id="attachment_166051"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?ssl=1"><img aria-describedby="caption-attachment-166051" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1" alt="" width="300" height="173" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=300%2C173&amp;ssl=1 300w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?resize=768%2C442&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/A_Filatov_2.png?w=871&amp;ssl=1 871w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1"></a></p><p id="caption-attachment-166051">Anatoly Filatov years after the arrest</p></div>
<p>What will follow is a translation from Russian to English from the mentioned KGB manual, where the case about Filatov is described as an example of apprehending and capturing foreign spies who use radio signals and codes. With photo scans of included photo evidence.</p>

<p><em>Start of the original translation</em></p>
<div id="attachment_166052"><p><a href="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?ssl=1"><img aria-describedby="caption-attachment-166052" src="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640.jpg?resize=225%2C300&amp;ssl=1" alt="" width="225" height="300" srcset="https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=225%2C300&amp;ssl=1 225w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=768%2C1024&amp;ssl=1 768w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1152%2C1536&amp;ssl=1 1152w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?resize=1536%2C2048&amp;ssl=1 1536w, https://i1.wp.com/www.numbers-stations.com/wp-content/uploads/2020/09/20200224_135640-scaled.jpg?w=1920&amp;ssl=1 1920w" sizes="(max-width: 225px) 100vw, 225px" data-recalc-dims="1"></a></p><p id="caption-attachment-166052">First page in the manual about A.FIlatov case</p></div>
<p>The case regarding American agent Filatov is particularly useful for agency and operative workers. Two agents who worked on this case had limited, but clear objectives: one controlled his work shifts, the other one lured him to a position within a GRU object (facility), where he was arrested. Secondary events were mostly carried out by the workers of the operational staff.</p>
<p>In the case materials the use of operational technical and criminal resources is very clearly displayed. The workers of the operational services had a clear objective: gain information about practical espionage activity.</p>
<p>A lot of support for apprehending the spy was provided by the GRU radio counterintelligence. During the first phase of the operation the counter radio intelligence played a helpful, but mostly backseat role, in terms of gaining radio information. However, after Filatov was discovered in possession of multiple ciphers the RCI<a href="#_ftn11" name="_ftnref11"><sup>[11]</sup></a> played the most active role in gaining information about the adversary‚Äôs plans for their agent. It must be asserted that the RCI data about the new communication line only gained importance after comprehensive analysis about known agents and data gained from agency postal communication lines.</p>
<p>It is useful to take note of the surveillance tactics used to monitor&nbsp; FIlatov, during all phases of the operation. Here the artistic use of surveillance, determination of the personality of the object, working out on his work conditions and living place (such an approach is essential for any future attempts for apprehending an adversary agent).</p>
<p>Finally it‚Äôs important to point out the very high level of secrecy is required to successfully&nbsp; carry out the operation, with minimal numbers&nbsp; of agents and operative staff workers as reglamented by the authority of KGB, and adjusted fully to the set parameters.</p>
<p>All this taken to an account assured that the case was carried out in highest quality the tasks were carried out decisively.</p>
<p>‚Äú‚Äù‚Äù</p>
<p>The investigation into the incoming signals, and the timeline for the search for the CIA agent Filatov took place in the following order.</p>
<p>At the start of 1977 the second chief directorate of the KGB had received data that led to the belief that a new agent from American intelligence had become active within Soviet Union.</p>
<p>On January 21 and February 6 1977 the RCI had detected the transmission of operational (combat)<a href="#_ftn12" name="_ftnref12"><sup>[12]</sup></a> radiograms on the communication line sent from Frankfurt CIA radio center, that had appeared already in the first half of 1976.<a href="#_ftn13" name="_ftnref13"><sup>[13]</sup></a> With that the general reception of the radiograms was possible within the central part of European side of the USSR. <a href="#_ftn14" name="_ftnref14"><sup>[14]</sup></a></p>
<p>In this same timeframe espionage activity within CIA station inside the US embassy in Moscow, was observed to have increased, showing signs of preparing for creating operational dead drop communications, it was determined that these activities could not be part of the ongoing cases and operational games.</p>
<p>It was expected that the agent, after receiving operational radiograms, will likely make contact with the Frankfurt radio center using postal telegraph, telephone, dead drop, radio transmission or make a meeting with his handler, usually from US diplomatic service.</p>
<p>Taking this into account together with Operative-technical and Seventh authority of the KGB, extra measures were made to control the agency channels within Moscow and eavesdrop on CIA actions.</p>
<p>On February 9 1977 a postal parcel coming from Moscow to the US, a suspicious letter was identified which had signs which made its purpose likely being for espionage uses. This letter had a date indicating it was sent on February 7 and was written in the in English language ‚Äúfrom English tourist‚Äù<a href="#_ftn15" name="_ftnref15"><sup>[15]</sup></a>. By using a physical-chemical method on the blank side of the letter, a cipher of 353 five number ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/">https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</a></em></p>]]>
            </description>
            <link>https://www.numbers-stations.com/how-to-catch-a-spy-who-uses-numbers-stations-the-kgb-experience/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24541163</guid>
            <pubDate>Mon, 21 Sep 2020 08:50:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook fears ruling may force it to pull social media platforms from EU]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 69 (<a href="https://news.ycombinator.com/item?id=24540991">thread link</a>) | @rusk
<br/>
September 21, 2020 | https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4 | <a href="https://web.archive.org/web/*/https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="app">

        





<div>
    <div>
        <p>
            Tuesday September 22, 2020
        </p>
        
    </div>
</div>





        

        
    <div>
        
        
        <div>

            
            
                            <div>
                    
            
                            <p>Court filings show tech giant doesn‚Äôt believe it can convince Data Protection Commission to overturn preliminary ruling that bans transfer of data from EU to US</p>
                    
        
        

        
        
    </div>
            
                            
                <div id="img-article">
                    <figure>
                        
                        <figcaption>Under fire: Data Protection Commissioner Helen Dixon</figcaption>
                    </figure>
                </div>
                    </div>

        
        <div>
            <div>
                
                                    <div>
                                                    <div>
                                
                                <p>Facebook fears that a ruling by the Data Protection Commission (DPC) could force it to pull its social media platforms from Europe, High Court filings show.</p> <p>The social media giant said it does not believe it can convince the watchdog to overturn a preliminary ruling banning the transfer of personal data from EU citizens to servers in the US which relates to concerns about American intelligence agencies.</p> <p>In the filings which detail the gravity of...</p>
                            </div>
                        
                        
                                                    <div>
                                <div>
    <div>
        <h2>Subscribe from just ‚Ç¨1 for the first month!</h2>
        <p>Exclusive offers:</p>
        <p>All Digital Access + eReader</p>
    </div>

            
        <div>
            <div>

                
                <div>
                    <h2>Trial</h2>
                                        <p>
                        ‚Ç¨1
                                            </p>
                    <p>Unlimited Access for 1 Month</p>
                                            <p>Then ‚Ç¨19.99 a month after the offer period.</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Annual</h2>
                                            <p>‚Ç¨200</p>
                                        <p>
                        ‚Ç¨149
                                                    <span>For the 1st Year</span>
                                            </p>
                    <p>Unlimited Access for 1 Year</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                
                <div>
                    <h2>Quarterly</h2>
                                            <p>‚Ç¨55</p>
                                        <p>
                        ‚Ç¨42
                                            </p>
                    <p>90 Day Pass</p>
                                    </div>
                

                
            </div>
        </div>
            
        <div>
            <div>

                                    
                    <svg version="1.1" fill="#FFF" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49.94 49.94" xml:space="preserve">
                        <path d="M48.856,22.73c0.983-0.958,1.33-2.364,0.906-3.671c-0.425-1.307-1.532-2.24-2.892-2.438l-12.092-1.757
                            c-0.515-0.075-0.96-0.398-1.19-0.865L28.182,3.043c-0.607-1.231-1.839-1.996-3.212-1.996c-1.372,0-2.604,0.765-3.211,1.996
                            L16.352,14c-0.23,0.467-0.676,0.79-1.191,0.865L3.069,16.622c-1.359,0.197-2.467,1.131-2.892,2.438
                            c-0.424,1.307-0.077,2.713,0.906,3.671l8.749,8.528c0.373,0.364,0.544,0.888,0.456,1.4L8.224,44.701
                            c-0.183,1.06,0.095,2.091,0.781,2.904c1.066,1.267,2.927,1.653,4.415,0.871l10.814-5.686c0.452-0.237,1.021-0.235,1.472,0
                            l10.815,5.686c0.526,0.277,1.087,0.417,1.666,0.417c1.057,0,2.059-0.47,2.748-1.288c0.687-0.813,0.964-1.846,0.781-2.904
                            l-2.065-12.042c-0.088-0.513,0.083-1.036,0.456-1.4L48.856,22.73z"></path>
                    </svg>
                
                <div>
                    <h2>2 Yearly</h2>
                                            <p>‚Ç¨315</p>
                                        <p>
                        ‚Ç¨248
                                            </p>
                    <p>Unlimited Access for 2 Years</p>
                                    </div>
                

                <div>
                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="442.533px" height="442.533px" viewBox="0 0 442.533 442.533" style="enable-background:new 0 0 442.533 442.533;" xml:space="preserve">
                        <path d="M434.539,98.499l-38.828-38.828c-5.324-5.328-11.799-7.993-19.41-7.993c-7.618,0-14.093,2.665-19.417,7.993L169.59,247.248
                            l-83.939-84.225c-5.33-5.33-11.801-7.992-19.412-7.992c-7.616,0-14.087,2.662-19.417,7.992L7.994,201.852
                            C2.664,207.181,0,213.654,0,221.269c0,7.609,2.664,14.088,7.994,19.416l103.351,103.349l38.831,38.828
                            c5.327,5.332,11.8,7.994,19.414,7.994c7.611,0,14.084-2.669,19.414-7.994l38.83-38.828L434.539,137.33
                            c5.325-5.33,7.994-11.802,7.994-19.417C442.537,110.302,439.864,103.829,434.539,98.499z"></path>
                    </svg><p>
                    This product does not auto-renew
                </p></div>
            </div>
        </div>
    
    
    <div>
        <div>
            <h2>Team Pass</h2>
            <p>Get a Business Account for you and your team</p>
        </div>
        
    </div>
    
    
</div>

                            </div>
                                            </div>
                            </div>
        </div>

        

        
                    
            </div>

        

    </div></div>]]>
            </description>
            <link>https://www.businesspost.ie/legal/facebook-fears-ruling-may-force-it-to-pull-social-media-platforms-from-eu-00644da4</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540991</guid>
            <pubDate>Mon, 21 Sep 2020 08:18:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We need young programmers; We need old programmers]]>
            </title>
            <description>
<![CDATA[
Score 78 | Comments 72 (<a href="https://news.ycombinator.com/item?id=24540919">thread link</a>) | @mrcsharp
<br/>
September 21, 2020 | https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/ | <a href="https://web.archive.org/web/*/https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
	<p>
		<em>The software industry loves young people, but old-timers serve an important purpose, too.</em>
	</p>
	<p>
		Our culture idolises youth. There's several reasons for this, I believe. Youth seems synonymous with vigour, strength, beauty, and many other desirable qualities. The cynical perspective is that young people, while rebellious, also tend to be easy to manipulate, if you know which buttons to push. A middle-aged man like me isn't susceptible to the argument that I should buy a particular pair of Nike shoes because they're named after Michael Jordan, but for a while, one pair wasn't enough for my teenage daughter.
	</p>
	<p>
		In intellectual pursuits (like software development), youth is often extolled as the source of innovation. You're often confronted with examples like that of <a href="https://en.wikipedia.org/wiki/%C3%89variste_Galois">√âvariste Galois</a>, who made all his discoveries before turning 21. <a href="https://en.wikipedia.org/wiki/Ada_Lovelace">Ada Lovelace</a> was around 28 years when she produced what is considered the 'first computer program'. <a href="https://en.wikipedia.org/wiki/Alan_Turing">Alan Turing</a> was 24 when he wrote <a href="https://en.wikipedia.org/wiki/Turing%27s_proof">On Computable Numbers, with an Application to the Entscheidungsproblem</a>.
	</p>
	<p>
		Clearly, young age is no detriment to making ground-breaking contributions. It has even become folklore that everyone past the age of 35 is a has-been whose only chance at academic influence is to write a textbook.
	</p>
	<h3 id="800321a74c054ea0b75815c86f4ce18d">
		The story of the five monkeys <a href="#800321a74c054ea0b75815c86f4ce18d" title="permalink">#</a>
	</h3>
	<p>
		You may have seen a story called <em>the five monkeys experiment</em>. It's most likely a fabrication, but it goes like this:
	</p>
	<p>
		A group of scientists placed five monkeys in a cage, and in the middle, a ladder with bananas on the top. Every time a monkey went up the ladder, the scientists soaked the rest of the monkeys with cold water. After a while, every time a monkey went up the ladder, the others would beat it up.
	</p>
	<p>
		After some time, none of the monkeys dared go up the ladder regardless of the temptation. The scientists then substituted one of the monkeys with a new one, who'd immediately  go for the bananas, only to be beaten up by the others. After several beatings, the new member learned not to climb the ladder even though it never knew why.
	</p>
	<p>
		A second monkey was substituted and the same occurred. The first monkey participated in beating the second. A third monkey was exchanged and the story repeated. The fourth was substituted and the beating was repeated. Finally the fifth monkey was replaced.
	</p>
	<p>
		Left was a group of five monkeys who, even though they never received a cold shower, continued to beat up any monkey who attempted to climb the ladder. If it was possible to ask the monkeys why they would beat up all who attempted to go up the ladder, the answer would probably be:
	</p>
	<p>
		"That's how we do things here."
	</p>
	<p>
		While the story is probably just that: a story, it tells us something about the drag induced by age and experience. If you've been in the business for decades, you've seen numerous failed attempts at something you yourself tried when you were young. You know that it can't be done.
	</p>
	<p>
		Young people don't know that a thing can't be done. If they can avoid the monkey-beating, they'll attempt the impossible.
	</p>
	<h3 id="4add8a9af0424d7e889d3125837ed611">
		Changing circumstances <a href="#4add8a9af0424d7e889d3125837ed611" title="permalink">#</a>
	</h3>
	<p>
		Is attempting the impossible a good idea?
	</p>
	<p>
		In general, no, because it's... impossible. There's a reason older people tell young people that a thing can't be done. It's not just because they're stodgy conservatives who abhor change. It's because they see the effort as wasteful. Perhaps they're even trying to be kind, guiding young people off a path where only toil and disappointment is to be found.
	</p>
	<p>
		What old people don't realise is that sometimes, circumstances change.
	</p>
	<p>
		What was impossible twenty years ago may not be impossible today. We see this happening in many fields. Producing a commercially viable electric car was impossible for decades, until, with the advances made in battery technology, it became possible.
	</p>
	<p>
		Technology changes rapidly in software development. People trying something previously impossible may find that it's possible today. Once, if you had lots of data, you had to store it in fully normalised form, because storage was expensive. For a decade, relational databases were the only game in town. Then circumstances changed. Storage became cheaper, and a new movement of NoSQL storage emerged. What was before impossible became possible.
	</p>
	<p>
		Older people often don't see the new opportunities, because they 'know' that some things are impossible. Young people push the envelope driven by a combination of zest and ignorance. Most fail, but a few succeed.
	</p>
	<h3 id="4272a069588e47f796646bd282b9de02">
		Lottery of the impossible <a href="#4272a069588e47f796646bd282b9de02" title="permalink">#</a>
	</h3>
	<p>
		I think of this process as a lottery. Imagine that every impossible thing is a red ball in an urn. Every young person who tries the impossible draws a random ball from the urn.
	</p>
	<p>
		The urn contains millions of red balls, but every now and then, one of them turns green. You don't know which one, but if you draw it, it represents something that was previously impossible which has now become possible.
	</p>
	<p>
		This process produces growth, because once discovered, the new and better way of doing things can improve society in general. Occasionally, the young discoverer may even gain some fame and fortune.
	</p>
	<p>
		It seems wasteful, though. Most people who attempt the impossible will reach the predictable conclusion. What was deemed impossible was, indeed, impossible.
	</p>
	<p>
		When I'm in a cynical mood, I don't think that it's youth in itself that is the source of progress. It's just the <a href="https://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a> applied. If there's a one in million chance that something will succeed, but ten million people attempt it, it's only a matter of time before one succeeds.
	</p>
	<p>
		Society at large can benefit from the success of the few, but ten million people still wasted their efforts.
	</p>
	<h3 id="016744f0ea77495c958a7914f08187db">
		We need the old, too <a href="#016744f0ea77495c958a7914f08187db" title="permalink">#</a>
	</h3>
	<p>
		If you accept the argument that young people are more likely to try the impossible, we need the young people. Do we need the old people?
	</p>
	<p>
		I'm turning fifty in 2020. You may consider that old, but I expect to work for many more years. I don't know if the software industry needs fifty-year-olds, but that's not the kind of old I have in mind. I'm thinking of people who have retired, or are close to retirement.
	</p>
	<p>
		In our youth-glorifying culture, we tend to dismiss the opinion and experiences of old people. <em>Oh, well, it's just a codgy old man</em> (or woman), we'll say.
	</p>
	<p>
		We ignore the experience of the old, because we believe that they haven't been keeping up with times. Their experiences don't apply to us, because we live under new circumstance. Well, see above.
	</p>
	<p>
		I'm not advocating that we turn into a gerontocracy that venerates our elders solely because of their age. Again, according to the law of large numbers, some people live to old age. There need not be any correlation between survivors and wisdom.
	</p>
	<p>
		We need the old to tell us the truth, because they have little to lose.
	</p>
	<h3 id="8b5c613ba6c44bb4b4e6dbba7ae7d19a">
		Nothing to lose <a href="#8b5c613ba6c44bb4b4e6dbba7ae7d19a" title="permalink">#</a>
	</h3>
	<p>
		In the last couple of years, I've noticed a trend. A book comes out, exposing the sad state of affairs in some organisation. This has happened regularly in Denmark, where I live. One book may expose the deplorable conditions of the Danish tax authorities, one may describe the situation in the ministry of defence, one criticises the groupthink associated with the climate crisis, and so on.
	</p>
	<p>
		Invariably, it turns out that the book is written by a professor emeritus or a retired department head.
	</p>
	<p>
		I don't think that these people, all of a sudden, had an epiphany after they retired. They knew all about the rot in the system they were part of, while they were part of it, but they've had too much to lose. You could argue that they should have said something before they retired, but that requires a moral backbone we can't expect most people to have.
	</p>
	<p>
		When people retire, the threat of getting fired disappears. Old people can speak freely to a degree most other people can't.
	</p>
	<p>
		Granted, many may simply use that freedom to spew bile or shout <em>Get off my lawn!</em>, but many are in the unique position to reveal truths no-one else dare speak. Many are, perhaps, just bitter, but some may possess knowledge that they are in a unique position to reveal.
	</p>
	<p>
		When that grumpy old guy on Twitter writes something that makes you uncomfortable, consider this: he may still be right.
	</p>
	<h3 id="2d64bd2c7ccb4b7ca2418802ed82689e">
		Being unreasonable <a href="#2d64bd2c7ccb4b7ca2418802ed82689e" title="permalink">#</a>
	</h3>
	<p>
		In a way, you could say that we need young and old people for the same fundamental reason. Not all of them, but enough of them, are in a position to be unreasonable.
		</p><blockquote>
			<p>
				"The reasonable man adapts himself to the world: the unreasonable one persists in trying to adapt the world to himself. Therefore all progress depends on the unreasonable man."
			</p>
			
		</blockquote><p>
		Young people and old people are unreasonable in each their own way, and we need both.
	</p>
	<h3 id="df88f595ec814e2bafcbd018ff5f5ad2">
		Conclusion <a href="#df88f595ec814e2bafcbd018ff5f5ad2" title="permalink">#</a>
	</h3>
	<p>
		We need young people in the software development industry. Because of their vigour and inexperience, they'll push the envelope. Most will fail to do the impossible, but a few succeed.
	</p>
	<p>
		This may seem like a cynical view, but we've all been young, and most of us have been through such a phase. It's like a rite of passage, and even if you fail to make your mark on the world, you're still likely to have learned a lot.
	</p>
	<p>
		We need old people because they're in a position to speak truth to the world. Notice that I didn't make my argument about the <em>experience</em> of old-timers. Actually, I find that valuable as well, but that's the ordinary argument: <em>Listen to old people, because they have experience and wisdom.</em>
	</p>
	<p>
		Some of them do, at least.
	</p>
	<p>
		I didn't make much out of that argument, because you already know it. There'd be no reason to write this essay if that was all I had to say. Old people have less on the line, so they can speak more freely. If someone you used to admire retires and all of a sudden starts saying or writing unpleasant and surprising things, there might be a good explanation, and it might be a good idea to pay attention.
	</p>
	<p>
		Or ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/">https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</a></em></p>]]>
            </description>
            <link>https://blog.ploeh.dk/2020/09/14/we-need-young-programmers-we-need-old-programmers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540919</guid>
            <pubDate>Mon, 21 Sep 2020 08:05:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Availability, Maintainability, Reliability: What's the Difference?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540809">thread link</a>) | @kiyanwang
<br/>
September 21, 2020 | https://www.blameless.com/blog/availability-maintainability-reliability-whats-the-difference | <a href="https://web.archive.org/web/*/https://www.blameless.com/blog/availability-maintainability-reliability-whats-the-difference">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>We live in an era of reliability where users depend on having consistent access to services. When choosing between competing services, <a href="https://www.blameless.com/blog/the-importance-of-reliability-engineering">no feature is more important to users than reliability</a>. But what does reliability mean?<br></p><p>To answer this question, we‚Äôll break down reliability in terms of other metrics within reliability engineering: availability and maintainability. Distinguishing these terms isn‚Äôt a matter of semantics. Understanding the differences can help you better prioritize development efforts towards customer happiness.</p><h3>Availability</h3><p><strong>Availability</strong> is the simplest building block of reliability. This metric describes what percentage of the time a service is functioning. This is also referred to as the ‚Äúuptime‚Äù of a service. Availability can be monitored by continuously querying the service and confirming responses return with expected speed and accuracy.<br></p><p>A service‚Äôs availability is a major component in how a user perceives the reliability. With this in mind, it can be tempting to set a goal for 100% uptime. But SRE teaches us that failure is inevitable; downtime-causing incidents will always occur outside of engineering expectations. Availability is often expressed in ‚Äúnines,‚Äù representing how many decimal places the percentage of uptime can reach. Some major software companies will boast of ‚Äúfive nines,‚Äù or 99.999% uptime‚Äîbut never 100%<br></p><p>Moreover, users will tolerate or even fail to notice downtime in some areas of your service. Development resources devoted to improving availability beyond expectations won‚Äôt increase customer happiness. Your service‚Äôs maintainability might need these resources instead.&nbsp;</p><h3>Maintainability</h3><p>Another major building block of reliability is <strong>maintainability</strong>. Maintainability factors into availability by describing how downtime originates and is resolved. When an incident causing downtime occurs, maintainable services can be repaired quickly. The sooner the incident is resolved, the sooner the service becomes available again.<br></p><p>There are two major components of maintainability: proactive and reactive.&nbsp;<br></p><ul role="list"><li><strong>Proactive maintainability</strong> involves building a codebase that can be easily understood and changed. As development progresses, issues will arise from incompatibility with existing code. If engineers are writing ‚Äú<a href="https://en.wikipedia.org/wiki/Spaghetti_code">spaghetti code</a>‚Äù instead of prioritizing maintainability, issues are likely to occur and be difficult to find and solve. Proactive maintenance also includes procedures such as quality assurance and testing.<br></li></ul><ul role="list"><li><strong>Reactive maintainability</strong> describes a service‚Äôs ability to be repaired after incidents. This is influenced by a service's incident response procedures. As incidents are inevitable, <a href="https://www.blameless.com/blog/great-incident-response-3-components">great incident response</a> and guardrails are a necessity. If incident response procedures are reliable, teams will resolve incidents quickly. Proper incident responses also foster learning to reduce recurrence. A highly maintainable service allows engineers to implement these lessons effectively<br></li></ul><p>Maintainability is reflected in availability metrics. Shortening downtime in length or frequency results in higher availability. But, maintainability isn't only a means to an end for availability. Taking that approach can result in poorly allocated development resources. Investing in maintainability may not immediately result in better uptime. When you refactor old code to resolve technical debt, the service will function the same as before, with the same availability. It isn‚Äôt until incidents occur that you‚Äôll see the benefits of this higher maintainability. Maintainability should be thought of as an investment in reliability, rather than just a component of availability.</p><h3>Reliability</h3><p>Reliability can be defined as the likelihood of a service functioning as expected when accessed by a user. This may seem identical to how we defined availability, but there are key differences. Availability looks at whether the service is working, whether a user is accessing it or not. If users accessed the service uniformly across all features and at all times, availability would determine reliability. This is generally never the case. Consider two services:<br></p><p><strong>Service A:</strong></p><ul role="list"><li>User log-on page has 97% availability</li><li>Catalog search has 97% availability</li><li>Site settings page has 97% availability<br></li></ul><p><strong>Service B:</strong></p><ul role="list"><li>User log-on page has 99% availability</li><li>Catalog search has 98% availability</li><li>Site settings page has 90% availability<br></li></ul><p>Just looking at the metric of availability, Service A wins out. But if the log-on page is used by 100% of users, the catalog search by 90% of users, and the site settings page by only 30% of users, Service B will be perceived as more reliable. Reliability accounts for actual usage, converting availability metrics into a measure of customer happiness.<br></p><p>By understanding the reliability of a system, development can avoid wasting time improving availability beyond what the customer can appreciate. <a href="https://www.blameless.com/blog/slis-understand-users-needs">Service level indicators</a> bundle metrics such as latency and availability into a more impactful measurement. Then, <a href="https://www.blameless.com/blog/service-level-objectives-slos-lessons-learned">service level objectives</a> can be set at the threshold for customers becoming dissatisfied. This approach looks at reliability from the perspective of customers. How they perceive the reliability of the service is more important than its availability.<br></p><p>Maintainability can also be evaluated through this lens. The time spent responding to incidents drains a service's error budget for uptime.. SLIs and SLOs can help allocate development efforts to improving the maintainability and incident response procedures most impacting customer happiness.<br></p><p>Here is a table summarizing the distinctions between availability, maintainability, and reliability:</p><figure id="w-node-f882187c6816-359a5214"><p><img src="https://uploads-ssl.webflow.com/5ec0224560bd6a6ef89a51ae/5f625dd5c056a2f2960b4f83_blog_table_avail-maintain-reliability_v1.jpg" loading="lazy" alt=""></p></figure><p>‚Äç<br></p><div><p>Reliability isn‚Äôt only a collection of metrics or a quality of your codebase. It‚Äôs a big-picture concept, incorporating the perspective of the users, the inevitability of change and growth, and the humans developing your code. This holistic approach is the foundation of SRE, a collection of practices and cultural lessons that improve your service's reliability.</p><p>Blameless helps take your reliability solution to the next level. Understand the impact of your availability metrics, improve incident response with better collaboration and retrospectives, and focus development with SLOs and error budgets. If you want to thrive in the era of SRE, learn the basics by checking out our <a href="https://www.blameless.com/resources/bi-weekly-live-demo-of-blameless">bi-weekly live demo</a>.</p></div></div></div>]]>
            </description>
            <link>https://www.blameless.com/blog/availability-maintainability-reliability-whats-the-difference</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540809</guid>
            <pubDate>Mon, 21 Sep 2020 07:38:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft Teams as a Platform]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 65 (<a href="https://news.ycombinator.com/item?id=24540799">thread link</a>) | @homarp
<br/>
September 21, 2020 | https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/ | <a href="https://web.archive.org/web/*/https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article aria-label="Microsoft Teams as a platform" itemref="hero-page-title"><div>
<p>2020 became the year of #WFH (work from home) and for many organizations also the turning point when Microsoft Teams became the primary place where being ‚Äúat work‚Äù happens. This is accelerating the evolution of Teams from being merely a communication tool that connects human beings into a foundational service layer for many types of business applications.</p>



<p>How the concept of Teams as a platform contrasts with Microsoft‚Äôs Power Platform suite of technology is something I‚Äôve been thinking about a lot lately. In this post I‚Äôll first reflect on the relatively short history of where Teams came from. I‚Äôll then examine how the recent feature announcements are brining apps front &amp; center in Teams. Finally, a few words on the possible future for Teams as part of Microsoft‚Äôs broader strategy.</p>



<h2>The road that lead to Teams</h2>



<p>Looking back ~10 years, the real-time communication &amp; instant messaging tools from MS seemed to be going through an endless renaming cycle: from OCS to Lync to Skype for Business. The core feature set presented to the end user didn‚Äôt seem to evolve nearly as much as product branding did. On a broader level, the communication activities of information workers within an organization still typically took place within Outlook‚Äôs inbox, and different servers like SharePoint and Dynamics CRM all packed their own features for posting short messages to other users.</p>



<figure></figure>



<p>4 years ago, when the first images of what was then called ‚ÄúSkype Teams‚Äù started to leak out, we were already waiting for MS to create something a bit more ambitious than just another online meeting tool. Office Groups had began to emerge in various different places inside the MS Cloud, but they were primarily a technical construct with no sensible UX for everyday people to approach them. Even Dynamics CRM had it‚Äôs own solution that attempted to bring together the dicussion, calendars, notes, documents and team memberships from under an Office 365 Group associated with a record like account or opportunity:</p>



<div><figure><a href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/collaborate-with-colleagues-using-office-365-groups" target="_blank" rel="noopener noreferrer"><img src="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/basics/media/office-groups-dashboard.png" alt=""></a></figure></div>



<p>I remember having many discussions with our CRM customers where I attempted to steer people away from deploying this Groups solution. Instead I wanted to encourage them to wait for something a bit more polished that I knew had to be on it‚Äôs way sooner or later.</p>



<p>At one point there was a clear &amp; present danger of another ‚ÄúYammer moment‚Äù taking place, as Microsoft was reportedly quite serious about their plans to acquire Slack. In retrospect it was a blessing for both parties that MS decided to keep investing in building their own product, instead of trying to retrofit an established service like Slack into their existing software offering.</p>



<p>I would argue that this ‚Äúbuild over buy‚Äù strategy which Microsoft has since then followed across their business software stack has been a key success factor for BizApps in particular.  It has enabled MS to move from merely chasing CRM competitors like Salesforce into redefining the business apps playing field with Power Platform. There‚Äôs a stark difference between acquiring companies and bundling them as ‚ÄúX Cloud‚Äù versus engineering your own software stack to act as a true platform.</p>



<h2>Teams: the collaboration chapter</h2>



<p>Initially the first version of the Microsoft Teams product that became generally available in Spring 2017 was pretty much focused on being three things: </p>



<ol><li>Replacement for Skype for Business</li><li>Alternative to Slack</li><li>UI layer for Office 365 Groups</li></ol>



<p>From a business applications perspective there wasn‚Äôt all that much you could do to hook Teams up with Dynamics 365, until Fall 2018 when the previews for the first integrated features were launched. In particular the integrated file sharing experience that Teams offered seemed almost like the Holy Grail for many CRM professionals, offering to fix the glaring hole in the SharePoint integration story that lacked any security model synchronization. The roadmap image below presents the plans from 2 years ago on how Teams and Dynamics 365 were going to be integrated:</p>



<figure></figure>







<p>The last item on the roadmap has still not been delivered, which is the visibility of Teams conversations inside the Dynamics 365 record form. Why this hasn‚Äôt been a higher priority for MS to implement seems to me like a sign of how Microsoft Teams is nowadays positioned as the primary UI for all information work. MS probably would prefer if everything always started from inside Teams. You pin record tabs into channels, you show previews of records inside teams discussions, you interact with records via bot interfaces and so on. As long as Teams is that big umbrella under which all work takes place.</p>



<p>The lack of a deep 2-way integration does not therefore mean that investments aren‚Äôt being made into the products involved. It can simply be a reflection of the new vision that is being built, by aligning many existing services to form a whole that aims to be greater than the sum of its parts.</p>



<p>As an example, if you look at Microsoft‚Äôs task management story, you‚Äôll see that features and data from across various apps like To Do, Planner and Outlook tasks / flagged emails are currently being collapsed into a central location that is the <a href="https://docs.microsoft.com/en-us/microsoftteams/manage-tasks-app" target="_blank" rel="noreferrer noopener">Tasks app for Teams</a>. Tasks as a generic construct don‚Äôt necessarily need to be fully controlled by a single database, yet they very much need to be logically represented within ‚Äúthe hub for teamwork‚Äù that Teams is positioned as.</p>



<p>Going forward, when new apps appear into the MS cloud product portfolio and they need to offer task management features to users, the logical integration point to focus on would be Teams. For activity feed type of functionality the choice is even more clear for product development: choose to piggyback on Teams instead of inventing yet another stream of short messages.</p>



<h2>Teams: the platform chapter</h2>



<p>Moving beyond simply integrating Teams with products X, Y and Z, we‚Äôre now seeing the rise of a model where apps are built specifically to be used in Teams. This has of course been possible for a long time already, by developing custom web services and using the SDKs. Now there are many features coming up that will amplify the platform story around Teams on the no-code/low-code front specifically.</p>



<figure><img src="https://techcommunity.microsoft.com/t5/image/serverpage/image-id/215495iAC8095B3BF8D5E46/image-size/large?v=1.0&amp;px=999" alt="lists in teams1.png"></figure>



<p>Microsoft Lists app has been the  first to <a href="https://techcommunity.microsoft.com/t5/microsoft-teams-blog/microsoft-lists-in-microsoft-teams-is-now-generally-available/ba-p/1621979" target="_blank" rel="noreferrer noopener">reach GA</a> and offers an ultra low barrier for users to process data in a single table through a configurable, readymade UI. When accessed via Teams, the list data gains one more special dimension: discussions to be had regarding a list item. This is pretty much the same as the usage pattern offered for a Dynamics 365 record with the integration mentioned earlier.</p>



<p>Underneath the new covers of MS Lists is the technology familiar from SharePoint lists. If we were to only examine the UI layer, there is actually a remarkable similarity to a popular no-code service called Airtable. So much that the <a rel="noreferrer noopener" href="https://mspoweruser.com/airtable-accuses-microsoft-of-copying-its-service/" target="_blank">accusations</a> of MS simply copying the visuals and core features from this competitor don‚Äôt seem entirely unjustified. </p>



<figure><img loading="lazy" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png" alt="" width="583" height="729" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams.png 777w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-240x300.png 240w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Airtable_for_teams-768x961.png 768w" sizes="(max-width: 583px) 100vw, 583px"></figure>



<p>Comparing these two offerings gives us some perspective on what exactly is the market position these tools are aiming to conquer. Simple lists themselves are not a particularly unique feature, rather it‚Äôs the team collaboration capabilities and ease of data sharing that turns these tables into what you‚Äôd call an actual app. Incidentally, just this week Airtable <a href="https://blog.airtable.com/airtable-platform-launch-automations-sync-apps/" target="_blank" rel="noreferrer noopener">announced</a> they were building a full platform with apps offering JavaScript based extensibility, a marketplace for sharing apps, automations for executing business logic, and finally a sync service to transfer data across environments (‚Äúbases‚Äù).</p>



<p>Collaboration scenarios around semi-structured data like lists and Excel style tables can be seen as a  gateway drug. They allow turning email or paper based manual processes into a quick first draft of what the digital process could be like. If there are indeed clear business benefits in automating the said process, the requirements for more complex app features will soon begin to emerge from the user base. Hence the collaboration platform should offer an obvious path to grow these pre-built app experiences into more advanced no-code/low-code apps.</p>



<h2>Project Oakdale a.k.a bringing CDS to Teams</h2>



<p>If Microsoft Lists is the equivalent of an Excel table within the Teams context, then <a href="https://jukkaniiranen.com/2020/07/dataflex-is-more-and-less-than-cds/">Project Oakdale</a> / ‚ÄúCDS Lite‚Äù could be though of as bringing SQL Server inside Teams. Now, obviously Microsoft has zero intent on actually replacing Excel nor SQL with features built into Teams. They only need to introduce those parts that make sense from a team collabocation perspective.</p>



<p>Microsoft Lists is a far cry from what a real Excel workbook can do, yet it can offer much more value in a collaboration scenarios that those lone .xlsx files ever could. Similarly, the version of CDS that will very soon be available for building Power Apps within Teams is nowhere near as powerful as the services powering enterprise CRM systems like Dynamics 365 (or the raw power offered by SQL). Still, the fact that it can be found from within every team and used by a much larger audience than what Power Apps citizen developer tools could hope to capture ‚Äì those are the factors that can truly make CDS a mainstream service that most information workers in the Microsoft 365 cloud interact it.</p>



<figure><img loading="lazy" width="1024" height="576" src="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg" alt="" srcset="https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-1024x576.jpg 1024w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-300x169.jpg 300w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design-768x432.jpg 768w, https://jukkaniiranen.com/wp-content/uploads/2020/09/Oakdale_Teams_table_design.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The experience of defining the CDS data model in Project Oakdale will be very different from the path that Power Apps makers have gone through ‚Äì let alone the XRM veterans. In fact, you could easily mistake the table design and row entry UX to be that of Microsoft Lists rather than CDS. This highlights a key aspect that not all Power Platform experts may yet have grasped: for MS this ‚ÄúCDS Lite‚Äù is not so much about deciding what premium features of the full Power Platform to give away for free to Teams subscibers ‚Äì rather it‚Äôs about how to best simplify the enterprise CRM features of CDS into a new product that Teams users could adopt on their own.</p>



<p>This doesn‚Äôt mean that ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/">https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</a></em></p>]]>
            </description>
            <link>https://jukkaniiranen.com/2020/09/microsoft-teams-as-a-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540799</guid>
            <pubDate>Mon, 21 Sep 2020 07:36:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What do good Engineering Managers do? They taste the soup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540624">thread link</a>) | @liveweird
<br/>
September 21, 2020 | https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/ | <a href="https://web.archive.org/web/*/https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-post-id="5f665b145e15b200392aedb9">
	

	<section>
		<p>Sometimes you encounter a striking figure of speech, comparison or just a metaphor that illustrates some concept in a much better way than anything you knew until now. It's so good you can't let it get unnoticed. In my case, it happened e.g. when I've learned to think about architects as "navigators". Or quite recently, while I was reading a very decent book by <a href="https://twitter.com/rands">Michael Lopp</a> - <a href="https://www.goodreads.com/book/show/50083106-the-art-of-leadership">"The Art of Leadership: Small Things, Done Well"</a>.</p><p>Speaking about the latter: my epiphany moment happened during chapter IV, entirely dedicated to the author's actionable advice for engineering leaders. The concluding one was about a reasonable alternative to micro-management: Lopp calls it ... <em>"tasting the soup"</em>. And I think it's brilliant and 100% spot-on.</p><p><strong>Tasting the soup</strong> - what does it mean?</p><p>Imagine a professional chef. A chief boss-cook. A reigning monarch of the kitchen (e.g. in a top-notch, highly reputed, Michelin-starred restaurant). (S)he is the person accountable for the quality of the holistic culinary experience here. It's his(/her) reputation at stake if customers are dissatisfied (for any reason). But still, it doesn't mean (s)he does all the job him(/her)self (to guarantee a suitable level of quality) - quite the opposite. There's the talented, hand-picked crew doing all the "dirty" work, while the chef-in-charge:</p><ul><li>tastes</li><li>probes</li><li>verifies</li></ul><p>It's not that (s)he cares only about the final outcome - the 100% ready dish. (S)he engages <u>at all the various stages</u> (of meal preparation): by inspecting raw materials, half-cooked ingredients, nearly ready products about to get the final touch. &nbsp;What's more - the soup is <u>"multi-dimensional"</u> - it has several equally important aspects (to assess separately): consistency, smell, color, temperature, sweetness, bitterness, spiciness, etc.</p><p>Needless to say - the chef can't (&amp; shouldn't) be everywhere, all the time. (S)he <strong>can't assist every elementary activity</strong> - which is good and ... desirable. One <u>should not judge</u> the effect by the activities performed (which are - in many cases - meaningful "implementation" details or just elements of a highly-individualized style) but <strong>by the outcomes and how they match expectations </strong>(stated beforehand).</p><p>That's why (s)he restrains her(/him)self <u>to taste and probe</u> - it's sufficient because of <strong>past, practical experience</strong>. Precisely because of her/his experience, (s)he knows what to expect, whether the chosen direction is correct, whether there's a chance the final product will be edible &amp; satisfactory (aka will meet the given success criteria). (S)he's been there, (s)he's seen that. And as the one who knows what to expect, the chef is more probably able to detect all those very early warning lights and propose corrective actions.</p><p>Let me emphasize it again - micro-managing all the actions is not the way. Even with experience - <strong>it's NOT possible to know all the correct paths</strong>. Never ever. The number (of correct, good enough options) is endless.</p><p>I hope you've already figured it out by yourself - this chef soup tasting story can be easily mapped onto engineering management scenarios. Everything that has been said about the chef above can be directly translated into software development leaders' reality ‚Äî starting with the role of experience and the importance of probing the effects (the current state of - process, tooling, various stages of deliverable completeness).</p><p>The default mode of an engineering manager's work should NOT be to dive deep into every possible (implementation) detail - it's just not feasible (but necessary in carefully chosen, critical situations that demand a more direct approach because of some warning lights flashing). A good engineering manager has to be able to:</p><ul><li>quickly orient her(/him)self in a situational context</li><li>identify the qualities that need to be assessed at this point</li><li>find a way to inspect them efficiently and objectively</li><li>confront the perceived learnings with expectations and past experience of similar endeavors</li></ul><p>In other words - to <em>"taste the engineering soup"</em>.</p><p>I think this metaphor is useful not just in calibrating your efforts (as an engineer manager), but also (as it's very "visual") can be very helpful in clarifying the meaning and importance of the engineering manager role: why is it needed, what value does it provide and what kind of input can one expect from a person bearing such a role.</p>
	</section>

	
</article></div>]]>
            </description>
            <link>https://no-kill-switch.ghost.io/what-do-good-engineering-managers-do-they-taste-the-soup/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540624</guid>
            <pubDate>Mon, 21 Sep 2020 07:05:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How the CPython compiler works]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540490">thread link</a>) | @r4victor
<br/>
September 20, 2020 | https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/ | <a href="https://web.archive.org/web/*/https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <h3>Today's subject</h3>
<p>In <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">the first post</a> of the series we've looked at the CPython VM. We've learned that it works by executing a series of instructions called bytecode. We've also seen that Python bytecode is not sufficient to fully describe what a piece of code does. That's why there exists a notion of a code object. To execute a code block such as a module or a function means to execute a corresponding code object. A code object contains block's bytecode, constants and names of variables used in the block and block's various properties.</p>
<p>Typically, a Python programmer doesn't write bytecode and doesn't create the code objects but writes a normal Python code. So CPython must be able to create a code object from a source code. This job is done by the CPython compiler. In this part we'll explore how it works.</p>
<p><strong>Note</strong>: In this post I'm referring to CPython 3.9. Some implementation details will certainly change as CPython evolves. I'll try to keep track of important changes and add update notes.</p>
<h3>What CPython compiler is</h3>
<p>We understood what the responsibilities of the CPython compiler are, but before looking at how it is implemented, let's figure out why we call it a compiler in the first place?</p>
<p>A compiler, in its general sense, is a program that translates a program in one language into an equivalent program in another language. There are many types of compilers, but most of the times by a compiler we mean a static compiler, which translates a program in a high-level language to a machine code. Does the CPython compiler have something in common with this type of a compiler? To answer this question, let's take a look at the traditional three-stage design of a static compiler.</p>
<p><img src="https://tenthousandmeters.com/blog/python_bts_02/diagram1.png" alt="diagram1"></p>
<p>The frontend of a compiler transforms a source code into some intermediate representation (IR). The optimizer then takes an IR, optimizes it and passes an optimized IR to the backend that generates machine code. If we choose an IR that is not specific to any source language and any target machine, then we get a key benefit of the three-stage design: for a compiler to support a new source language only an additional frontend is needed and to support a new target machine only an additional backend is needed.</p>
<p>The LLVM toolchain is a great example of a success of this model. There are frontends for C, Rust, Swift and many other programming languages that rely on LLVM to provide more complicated parts of the compiler. LLVM's creator, Chris Lattner, gives a good <a href="http://aosabook.org/en/llvm.html">overview of its architecture</a>.</p>
<p>CPython, however, doesn't need to support multiple source languages and target machines but only a Python code and the CPython VM. Nevertheless, CPython compiler is an implementation of the three-stage design. To see why, we should examine the stages of a three-stage compiler in more detail. </p>
<p><img src="https://tenthousandmeters.com/blog/python_bts_02/diagram2.png" alt="diagram1"></p>
<p>The picture above represents a model of a classic compiler. Now compare it to the architecture of the CPython compiler in the picture below.</p>
<p><img src="https://tenthousandmeters.com/blog/python_bts_02/diagram3.png" alt="diagram1"></p>
<p>Looks similar, isn't it? The point here is that the structure of the CPython compiler should be familiar to anyone who studied compilers before. If you didn't, a famous <a href="https://en.wikipedia.org/wiki/Compilers:_Principles,_Techniques,_and_Tools">Dragon Book</a> is an excellent introduction to the theory of compiler construction. It's long, but you'll benefit even by reading only the first few chapters.</p>
<p>The comparison we've made requires several comments. First, since version 3.9, CPython uses a new parser by default that outputs an AST (Abstract Syntax Tree) straight away without an intermediate step of building a parse tree. Thus, the model of the CPython compiler is simplified even further. Second, some of the presented phases of the CPython compiler do so little compared to their counterparts of the static compilers that some may say that the CPython compiler is no more than a frontend. We won't take this view of the hardcore compiler writers.</p>
<h3>Overview of the compiler's architecture</h3>
<p>The diagrams are nice, but they hide many details and can be misleading, so let's spend some time discussing the overall design of the CPython compiler.</p>
<p>The two major components of the CPython compiler are:</p>
<ol>
<li>the frontend; and</li>
<li>the backend.</li>
</ol>
<p>The frontend takes a Python code and produces an AST. The backend takes an AST and produces a code object. Throughout the CPython source code the terms parser and compiler are used for the frontend and the backend respectively. This is yet another meaning of the word compiler. It was probably better to call it something like a code object generator, but we'll stick with the compiler since it doesn't seem to cause much trouble.</p>
<p>The job of the parser is to check whether the input is a syntactically correct Python code. If it's not, then the parser reports an error like the following:</p>
<div><pre><span></span><span>x</span> <span>=</span> <span>y</span> <span>=</span> <span>=</span> <span>12</span>
        <span>^</span>
<span>SyntaxError</span><span>:</span> <span>invalid</span> <span>syntax</span>
</pre></div>


<p>If the input is correct, then the parser organizes it according to the rules of the grammar. A grammar defines the syntax of a language. The notion of a formal grammar is so crucial for our discussion that, I think, we should digress a little to remember its formal definition.</p>
<p>According to the classic definition, a grammar is a tuple of four items:</p>
<ul>
<li><span>\(\Sigma\)</span> ‚Äì a finite set of terminal symbols, or simply terminals (usually denoted by lowercase letters).</li>
<li><span>\(N\)</span> ‚Äì a finite set of nonterminal symbols, or simply nonterminals (usually denoted by uppercase letters).</li>
<li><span>\(P\)</span> ‚Äì a set of production rules. In the case of context-free grammars, which include the Python grammar, a production rule is just a mapping from a nonterminal to any sequence of terminals and nonterminals like <span>\(A \to aB\)</span>.</li>
<li><span>\(S\)</span> ‚Äì one distinguished nonterminal.</li>
</ul>
<p>A grammar defines a language that consists of all sequences of terminals that can be generated by applying production rules. To generate some sequence, one starts with the symbol <span>\(S\)</span> and then recursively replaces each nonterminal with a sequence according to production rules until the whole sequence consists of terminals. Using established convention for the notation, it's sufficient to list production rules to specify the grammar. Here is, for example, a simple grammar that generates sequences of alternating ones and zeros:</p>
<p><span>\(S \to 10S \;| \;10\)</span></p>
<p>We'll continue to discuss grammars when we look at the parser in more detail.</p>
<h3>Abstract syntax tree</h3>
<p>The ultimate goal of the parser is to produce an AST. An AST is a tree data structure that serves as a high-level representation of a source code. Here's an example of a piece of code and a dump of the corresponding AST produced by the standard <a href="https://docs.python.org/3/library/ast.html"><code>ast</code></a> module:</p>



<div><pre><span></span>$ python -m ast example1.py
Module(
   body=[
      Assign(
         targets=[
            Name(id='x', ctx=Store())],
         value=Constant(value=123)),
      Expr(
         value=Call(
            func=Name(id='f', ctx=Load()),
            args=[
               Name(id='x', ctx=Load())],
            keywords=[]))],
   type_ignores=[])
</pre></div>


<p>The types of the AST nodes are formally defined using <a href="https://www.cs.princeton.edu/research/techreps/TR-554-97">the Zephyr Abstract Syntax Definition Language</a> (ASDL). The ASDL is a simple declarative language that was created to describe tree-like IRs, which is what the AST is. Here is the definitions of the <code>Assign</code> and <code>Expr</code> nodes from <a href="https://github.com/python/cpython/blob/master/Parser/Python.asdl">Parser/Python.asdl</a>:</p>
<div><pre><span></span>stmt = ... | Assign(expr* targets, expr value, string? type_comment) | ...
expr = ... | Call(expr func, expr* args, keyword* keywords) | ...
</pre></div>


<p>The ASDL specification should give us an idea of what the Python AST looks like. The parser, however, needs to represent an AST in the C code. Fortunately, it's easy to generate the C structs for the AST nodes from their ASDL descriptions. That's what CPython does, and the result looks like this:</p>
<div><pre><span></span><span>struct</span> <span>_stmt</span> <span>{</span>
    <span>enum</span> <span>_stmt_kind</span> <span>kind</span><span>;</span>
    <span>union</span> <span>{</span>
        <span>// ... other kinds of statements</span>
        <span>struct</span> <span>{</span>
            <span>asdl_seq</span> <span>*</span><span>targets</span><span>;</span>
            <span>expr_ty</span> <span>value</span><span>;</span>
            <span>string</span> <span>type_comment</span><span>;</span>
        <span>}</span> <span>Assign</span><span>;</span>
        <span>// ... other kinds of statements</span>
    <span>}</span> <span>v</span><span>;</span>
    <span>int</span> <span>lineno</span><span>;</span>
    <span>int</span> <span>col_offset</span><span>;</span>
    <span>int</span> <span>end_lineno</span><span>;</span>
    <span>int</span> <span>end_col_offset</span><span>;</span>
<span>};</span>

<span>struct</span> <span>_expr</span> <span>{</span>
    <span>enum</span> <span>_expr_kind</span> <span>kind</span><span>;</span>
    <span>union</span> <span>{</span>
        <span>// ... other kinds of expressions</span>
        <span>struct</span> <span>{</span>
            <span>expr_ty</span> <span>func</span><span>;</span>
            <span>asdl_seq</span> <span>*</span><span>args</span><span>;</span>
            <span>asdl_seq</span> <span>*</span><span>keywords</span><span>;</span>
        <span>}</span> <span>Call</span><span>;</span>
        <span>// ... other kinds of expressions</span>
    <span>}</span> <span>v</span><span>;</span>
    <span>// ... same as in _stmt</span>
<span>};</span>
</pre></div>


<p>An AST is a handy representation to work with. It tells what a program does, hiding all non-essential information such as indentation, punctuation and other Python's syntactic features.</p>
<p>One of the main beneficiaries of the AST representation is the compiler, which can walk an AST and emit bytecode in a relatively straightforward manner. Many Python tools, besides the compiler, use the AST to work with Python code. For example, <a href="https://github.com/pytest-dev/pytest/">pytest</a> makes changes to an AST to provide useful information when the <code>assert</code> statement fails, which by itself does nothing but raises an <code>AssertionError</code> if the expression evaluates to <code>False</code>. Another example is <a href="https://github.com/PyCQA/bandit">Bandit</a> that finds common security issues in Python code by analyzing an AST.</p>
<p>Now, when we've studied the Python AST a little bit, we can look at how the parser builds it from a source code.</p>
<h3>From source code to AST</h3>
<p>In fact, as I mentioned earlier, starting with version 3.9, CPython has not one but two parsers. The new parser is used by default. It's also possible to use the old parser by passing <code>-X oldparser</code> option. In CPython 3.10, however, the old parser will be completely removed.</p>
<p>The two parser are very different. We'll focus on the new one but before discuss the old parser as well.</p>
<h4>old parser</h4>
<p>For a long time the Python's syntax was formally defined by the generative grammar. It's a kind of grammar we've talked about earlier. It tells us how to generate sequences belonging to the language. The problem is that a generative grammar doesn't directly corresponds to the parsing algorithm that would be able to parse those sequences. Fortunately, smart people have been able to distinguish classes of generative grammars for which the corresponding parser can be built. These include <a href="https://en.wikipedia.org/wiki/Context-free_grammar">context free</a>, <a href="https://en.wikipedia.org/wiki/LL_grammar">LL(k),</a> <a href="https://en.wikipedia.org/wiki/LR_parser">LR(k)</a>, <a href="https://en.wikipedia.org/wiki/LALR_parser">LALR</a> and many ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/">https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/</a></em></p>]]>
            </description>
            <link>https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540490</guid>
            <pubDate>Mon, 21 Sep 2020 06:38:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Monitor your internet speed with a Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24540344">thread link</a>) | @perryizgr8
<br/>
September 20, 2020 | https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html | <a href="https://web.archive.org/web/*/https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>While cleaning out some old cartons last weekend, I found my old Raspberry Pi Model B+. It is the first iteration of the Pi. It has a 700MHz ARM CPU and 512MB of RAM. It uses a micro-SD card for non-volatile storage. So as you can see, it is quite a capable little computer, and you can power it off a standard 5V USB charger, which means you can run it all the time without worrying about power consumption.</p>

<p>I decided to track my home internet speed to see if my ISP is ripping me off üòâ. Here‚Äôs how I did it.</p>

<h2 id="measuring-speed-on-raspberry-pi">Measuring speed on Raspberry Pi</h2>
<p><a href="https://www.speedtest.net/">Speedtest.net</a> has an <a href="https://www.speedtest.net/apps/cli">official CLI client</a> that you can install directly using <code>apt</code>. It selects the best server automatically and reports the download and upload speed, along with the latency of your connection.</p>

<figure><pre><code data-lang="shell"><span>$ </span>speedtest-cli
Retrieving speedtest.net configuration...
Testing from ACT Fibernet <span>(</span>X.X.X.X<span>)</span>...
Retrieving speedtest.net server list...
Selecting best server based on ping...
Hosted by North East Dataa Network Pvt Ltd <span>(</span>Bangalore<span>)</span> <span>[</span>0.10 km]: 9.601 ms
Testing download speed................................................................................
Download: 83.85 Mbit/s
Testing upload speed................................................................................................
Upload: 60.37 Mbit/s</code></pre></figure>

<p>There is an option to get this info in json format, which is easier to parse.</p>

<figure><pre><code data-lang="json"><span>{</span><span>
  </span><span>"download"</span><span>:</span><span> </span><span>30421342.381950885</span><span>,</span><span>
  </span><span>"upload"</span><span>:</span><span> </span><span>19739920.106307168</span><span>,</span><span>
  </span><span>"ping"</span><span>:</span><span> </span><span>30.315</span><span>,</span><span>
  </span><span>"server"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"url"</span><span>:</span><span> </span><span>"http://speed.telexair.in:8080/speedtest/upload.php"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9716"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5946"</span><span>,</span><span>
    </span><span>"name"</span><span>:</span><span> </span><span>"Bangalore"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"India"</span><span>,</span><span>
    </span><span>"cc"</span><span>:</span><span> </span><span>"IN"</span><span>,</span><span>
    </span><span>"sponsor"</span><span>:</span><span> </span><span>"TelexAir Telecom Pvt Ltd"</span><span>,</span><span>
    </span><span>"id"</span><span>:</span><span> </span><span>"14493"</span><span>,</span><span>
    </span><span>"host"</span><span>:</span><span> </span><span>"speed.telexair.in:8080"</span><span>,</span><span>
    </span><span>"d"</span><span>:</span><span> </span><span>0.10306914928173351</span><span>,</span><span>
    </span><span>"latency"</span><span>:</span><span> </span><span>30.315</span><span>
  </span><span>},</span><span>
  </span><span>"timestamp"</span><span>:</span><span> </span><span>"2020-09-18T16:47:59.425361Z"</span><span>,</span><span>
  </span><span>"bytes_sent"</span><span>:</span><span> </span><span>24870912</span><span>,</span><span>
  </span><span>"bytes_received"</span><span>:</span><span> </span><span>38423553</span><span>,</span><span>
  </span><span>"share"</span><span>:</span><span> </span><span>null</span><span>,</span><span>
  </span><span>"client"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"ip"</span><span>:</span><span> </span><span>"X.X.X.X"</span><span>,</span><span>
    </span><span>"lat"</span><span>:</span><span> </span><span>"12.9719"</span><span>,</span><span>
    </span><span>"lon"</span><span>:</span><span> </span><span>"77.5937"</span><span>,</span><span>
    </span><span>"isp"</span><span>:</span><span> </span><span>"ACT Fibernet"</span><span>,</span><span>
    </span><span>"isprating"</span><span>:</span><span> </span><span>"3.7"</span><span>,</span><span>
    </span><span>"rating"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>""</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"ispulavg"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"loggedin"</span><span>:</span><span> </span><span>"0"</span><span>,</span><span>
    </span><span>"country"</span><span>:</span><span> </span><span>"IN"</span><span>
  </span><span>}</span><span>
</span><span>}</span></code></pre></figure>

<p>So I wrote a simple python script to capture this output.</p>

<figure><pre><code data-lang="python"><span>import</span> <span>subprocess</span>
<span>import</span> <span>json</span>

<span>speed_test</span> <span>=</span> <span>subprocess</span><span>.</span><span>Popen</span><span>([</span><span>'speedtest-cli'</span><span>,</span> <span>'--json'</span><span>],</span> 
    <span>stdout</span><span>=</span><span>subprocess</span><span>.</span><span>PIPE</span><span>,</span> <span>stderr</span><span>=</span><span>subprocess</span><span>.</span><span>STDOUT</span><span>)</span>
<span>out</span><span>,</span> <span>err</span> <span>=</span> <span>speed_test</span><span>.</span><span>communicate</span><span>()</span>
<span>speed_dict</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>out</span><span>)</span>

<span>print</span><span>(</span><span>'download='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])))</span>
<span>print</span><span>(</span><span>'upload='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])))</span>
<span>print</span><span>(</span><span>'time='</span> <span>+</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span></code></pre></figure>

<h2 id="store-measurments-in-a-firestore-db">Store measurments in a Firestore DB</h2>
<p>A bit of code will push this to a Firestore DB. Google lets you use a Firestore DB for free if you stay within a reasonable number of operations per day.</p>

<figure><pre><code data-lang="python"><span>from</span> <span>google.cloud</span> <span>import</span> <span>firestore</span>

<span>now</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
<span>db</span> <span>=</span> <span>firestore</span><span>.</span><span>Client</span><span>()</span>
<span>doc_ref</span> <span>=</span> <span>db</span><span>.</span><span>collection</span><span>(</span><span>'speedtests'</span><span>).</span><span>document</span><span>(</span><span>str</span><span>(</span><span>int</span><span>(</span><span>now</span><span>)))</span>
<span>doc_ref</span><span>.</span><span>set</span><span>({</span>
    <span>'download'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'download'</span><span>])),</span>
    <span>'upload'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'upload'</span><span>])),</span>
    <span>'ping'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'ping'</span><span>])),</span>
    <span>'server_url'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'url'</span><span>]),</span>
    <span>'server_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'server_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'server_name'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'name'</span><span>]),</span>
    <span>'server_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'country'</span><span>]),</span>
    <span>'server_cc'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'cc'</span><span>]),</span>
    <span>'server_sponsor'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'sponsor'</span><span>]),</span>
    <span>'server_id'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'id'</span><span>]),</span>
    <span>'server_host'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'host'</span><span>]),</span>
    <span>'server_distance'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'d'</span><span>]),</span>
    <span>'server_latency'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'server'</span><span>][</span><span>'latency'</span><span>]),</span>
    <span>'bytes_sent'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_sent'</span><span>])),</span>
    <span>'bytes_received'</span><span>:</span> <span>str</span><span>(</span><span>int</span><span>(</span><span>speed_dict</span><span>[</span><span>'bytes_received'</span><span>])),</span>
    <span>'client_ip'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ip'</span><span>]),</span>
    <span>'client_lat'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lat'</span><span>]),</span>
    <span>'client_lon'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'lon'</span><span>]),</span>
    <span>'client_isp'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isp'</span><span>]),</span>
    <span>'client_isp_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'isprating'</span><span>]),</span>
    <span>'client_rating'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'rating'</span><span>]),</span>
    <span>'client_ispdlavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispdlavg'</span><span>]),</span>
    <span>'client_ispulavg'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'ispulavg'</span><span>]),</span>
    <span>'client_loggedin'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'loggedin'</span><span>]),</span>
    <span>'client_country'</span><span>:</span> <span>str</span><span>(</span><span>speed_dict</span><span>[</span><span>'client'</span><span>][</span><span>'country'</span><span>]),</span>
<span>})</span></code></pre></figure>

<h2 id="take-measurements-every-30-minutes">Take measurements every 30 minutes</h2>
<p>Then I added this to <code>crontab</code> so it runs every 30 minutes.</p>

<figure><pre><code data-lang="shell"><span>GOOGLE_APPLICATION_CREDENTIALS</span><span>=</span><span>"/home/pi/speed-monitor/speed-db-key.json"</span>
<span>*</span>/30 <span>*</span> <span>*</span> <span>*</span> <span>*</span> python3 speed-monitor.py</code></pre></figure>

<h2 id="pulling-records-from-firestore-to-google-sheets">Pulling records from Firestore to Google Sheets</h2>
<p>I let this run for a bit over 24 hours, and got 52 readings. Next step was to write a small Google Apps Script to pull these records from Firestore and put them in rows in a Google Sheets worksheet.</p>

<figure><pre><code data-lang="javascript"><span>function</span> <span>copyFromFirestore</span><span>()</span> <span>{</span>
  <span>const</span> <span>firestore</span> <span>=</span> <span>FirestoreApp</span><span>.</span><span>getFirestore</span><span>(</span><span>email</span><span>,</span> <span>key</span><span>,</span> <span>projectId</span><span>);</span>
  <span>const</span> <span>allDocuments</span> <span>=</span> <span>firestore</span><span>.</span><span>getDocuments</span><span>(</span><span>"</span><span>speedtests</span><span>"</span><span>);</span>
  <span>Logger</span><span>.</span><span>log</span><span>(</span><span>'</span><span>num=</span><span>'</span> <span>+</span> <span>allDocuments</span><span>.</span><span>length</span><span>);</span>
  <span>for</span><span>(</span><span>i</span><span>=</span><span>0</span><span>;</span><span>i</span><span>&lt;</span><span>allDocuments</span><span>.</span><span>length</span><span>;</span><span>i</span><span>++</span><span>)</span> <span>{</span>
    <span>var</span> <span>sheet</span> <span>=</span> <span>SpreadsheetApp</span><span>.</span><span>getActiveSheet</span><span>();</span>
    <span>sheet</span><span>.</span><span>appendRow</span><span>([</span><span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>createTime</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>download</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>upload</span><span>.</span><span>stringValue</span><span>,</span> <span>allDocuments</span><span>[</span><span>i</span><span>].</span><span>fields</span><span>.</span><span>ping</span><span>.</span><span>stringValue</span><span>]);</span>
  <span>}</span>
<span>}</span></code></pre></figure>

<p>Then it‚Äôs simple to chart the speeds and latency over the roughly 24-hour period.</p>

<p><img src="https://perryizgr8.github.io/images/speedtest.png" alt="Speed test chart"></p>

<h2 id="problem-in-the-setup">Problem in the setup</h2>
<p>This chart shows that my download speed varies between 20 to 35Mbps, and the upload varies between 15 to 20Mbps. This is significantly lower than the 100Mbps symmetric I pay for. If you go back to the first test result I showed in this post, which I ran from my laptop, it shows 83Mbps download and 60Mbps upload. So why this discrepancy?</p>

<p>I suspect this is where my old Pi is showing its age. Even though it is connected to my router using a 100Mbps ethernet cable, the hardware is simply not powerful enough to fully saturate the connection. So I will not be running this setup anymore. Maybe one day I‚Äôll get a newer model and run this for a longer duration. That would hopefully reveal some interesting patterns.</p>

<p>Another concern of mine is the amount of data transfered. Each run of the test consumes around 60MB of data. Running it every half hour for a month would use up ~85GB. That is close to 17% of my plan‚Äôs monthly quota. That would probably push me over the limit and cause the connection to slow down to something unusable like 1Mbps.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://perryizgr8.github.io/raspberry-pi/2020/09/20/monitoring-speed-rpi.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540344</guid>
            <pubDate>Mon, 21 Sep 2020 06:12:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Letter to My Undergraduate Self]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540343">thread link</a>) | @prabhupant
<br/>
September 20, 2020 | https://prabhupant.github.io/2020/09/15/letter-to-my-undergraduate-self.html | <a href="https://web.archive.org/web/*/https://prabhupant.github.io/2020/09/15/letter-to-my-undergraduate-self.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Going to a university is important because you not only learn about the subject of your choice to build a foundation for your career, but also it is the place where your ideas and opinions about the world are formed and your personality is developed. For many it is the beginning of their independent life and teaches them how to overcome hurdles on their own.</p>

<p>I loved my time in my undergraduate. Not because my college was great or anything, it was hardly average, but because I made many great friends for life, tasted independence and the cost associated with it, and tried to explore many new things and failed miserably or gave up halfway in most of them. But when I look back, there are some things which I feel I could have done way better and some amazing opportunities which I completely let pass by me. I am writing this to myself to introspect where I could have improved back then so that I can improve right now and if someone else finds this useful, I will be a happy person.</p>

<p>Don‚Äôt take this as a structure or guiding principle of your university life. It is your youth life and you have to shape it yourself, not let others shape it for you because if you let others shape your life for you then you are not learning anything. On top of that, you are losing your freedom and a major part of yourself. I am a believer in Herman Hesse‚Äôs philosophy (in his book Siddhartha). Learn from everything that comes to you, analyse it, absorb the good things, let go of the negative things, and then go on your journey to find what you are and explore your life, because it is yours. Remember, the meaning of life is not to copy a billionaire or a sports person and become successful like them. The meaning of life is - why. Why is this your life? Why do you want to live your life? Be yourself, not imitate others.</p>

<p>In Zen Buddhism there is a saying (or <em>koan</em> as they call it) which I truly love. ‚ÄúWhen you meet the Buddha, kill him.‚Äù What it means is be open and courageous even towards things you don‚Äôt know. Don‚Äôt follow Buddha as is, rather learn from him and go on your own path. Resume your own Buddha. There is no path in life. If there is a path in your life, you are living someone else‚Äôs life.</p>

<p>Here are some of things which improved me and I recommend them to everyone.</p>



<p>The habit that brought about the biggest positive change in me is reading which I inculcated in myself during my sophomore year. I used to read books prior to that as well but reading wasn‚Äôt such a habit per se. I barely read 3-4 books a year. If at that point you had asked me which was the last book I had read, I would have said 1984 by George Orwell, which I had read almost an year before.</p>

<p>I started with a goal in mind - 50 books in 2017 - and I was lucky enough that the first book I picked, Steve Jobs by Walter Issacson, really inspired me to do what I wanted to do.</p>

<p>Why I recommend reading as habit to everyone is because of three reasons (or positive changes which I have felt in myself) -</p>

<ol>
  <li>
    <p><strong>Reading teaches patience -</strong> At first, it is very difficult to sit down with a book for 30 minutes and focus on nothing but the text. You won‚Äôt be able to concentrate properly because there are too many distractions around and the biggest is the mobile phone and social media. In terms of negative effects on patience, mobile phones and social media train your mind towards short and quick sources of information, like Facebook notifications, news pop-ups, etc, and because of that many find it really hard to sit calmly through a book. Ask yourself, can you or your friends sit alone for an hour without getting impatient about not checking their phones? If the answer is no, you know you lack self-control and patience. If the answer is yes, you are doing quite well and you have an amazing company of people!</p>
  </li>
  <li>
    <p><strong>You learn a lot -</strong> Reading any book, irrespective of the genre, teaches you how to frame your thoughts and convey them, increases your vocabulary, improves your grammar and teaches you how to write. Reading non-fiction especially teaches you about things like history, science, and great people, for example. No matter which genre you are reading, you end up learning a lot of things. The only genre of books that I don‚Äôt recommend is cheap modern fiction because they do not make any sense to me - there is no literature in them.</p>
  </li>
  <li>
    <p><strong>You learn about yourself -</strong> Reading is like meditation. It is a conversation between yourself and the writer. Fully absorbing the meaning of the words requires a certain amount of focus. In understanding what the writer is trying to convey, you will sometimes realise that you know so little about this topic or your opinions about a particular topic is narrow, biased etc. This introspection opens up a tunnel to your consciousness and helps to clear your thinking. I believe this introspection is essential for assessing yourself.</p>
  </li>
</ol>



<p>Reality is neutral. The world is how we perceive it to be. It is only after changing your attitude that you will learn to be welcoming towards new challenges and be positive. Three main changes in my attitude which really made me better -</p>

<ol>
  <li>
    <p>Be curious about everything and learn new things, not just the things that are related to your field of study, but also other disparate fields. For example, if you are studying computer science, learn psychology and try to see computer science through glasses of psychology.</p>
  </li>
  <li>
    <p>Be welcoming towards change. Life is like a sine graph, it is never constant. Changes will come and it is our attitude that defines how we deal with it.</p>
  </li>
  <li>
    <p>Be responsible for your actions and life. Don‚Äôt blame your failures on circumstances or family, especially on your parents. They have tried hard and sacrificed a lot to make sure you become a better person - better than they are.</p>
  </li>
</ol>



<p>We are social animals and as social animals one of the most important qualities that any of us can possess is to think logically and in a heuristic way by taking first principles into considerations and write down clearly what you think and be able to speak them out cogently. These skills are essential in modern day and age because society is so intertwined that you will have to constantly communicate with others and persuade them if you want to progress towards your goal. Interviews, persuasion, salary hikes, relationships, etc are just some examples where a good communication skill can pay off huge dividends.</p>

<p>This is one field where I still lack. What works best, according to me, is to write daily for at least 30 mins and try to speak to yourself what you just read in a book or article. It improves the clarity of the chain of your thoughts and also helps to shuffle and select striking points.</p>



<p>You cannot get complete freedom until you take control of certain aspects of your life and don‚Äôt worry about things that are not in your control.</p>

<p>What I found most helpful was to create a schedule and follow it. At first it takes a lot of effort to adjust yourself accordingly but after sometime you find it quite revitalizing. At first you might be able to stick to only 50% of your schedule and that‚Äôs fine. Try to make it 55% the next day. Remember the process to follow a schedule is incremental not instantaneous. Some unprecedented things will always come to break you out of the schedule and that is completely okay. Life is, after all, like a wave with ups and downs, not a still ocean. From my experience, the optimal stick-to-itiveness to a schedule is around 90% and I don‚Äôt think anyone can stick to their schedule 100% of the time because life is serendipitous.</p>



<p>Occasional procrastination is normal but if you are procrastinating everytime, skipping your work to nap for thirty minutes, or your tasks in your to-do-list are increasing constantly, then you are procrastinating and need to get back on the driver‚Äôs seat.</p>

<p>Some things I found quite useful to tackle procrastination -</p>

<ol>
  <li>
    <p><strong>There is no fun in procrastination -</strong>  For example, if you complete your work on time, you get more time to focus on your hobbies or watch a movie. Even resting with an empty mind is way better than pretending to work.</p>
  </li>
  <li>
    <p><strong>Making a schedule -</strong> Schedule really helps in arranging your day to utilise it to the fullest. That is why many CEOs have such a tight schedule to get maximum out of their day. Also, schedule provides a sort of supervision that helps to make sure you are on the correct path.</p>
  </li>
  <li>
    <p><strong>Cut social media -</strong> One of the best things I have done in my life is delete Facebook. But eventually I got addicted to Twitter and Instagram and it was consuming a lot of my time, focus and emotions and increased my procrastination. The thing that works for me is to open Twitter and Instagram only in a half an hour window during the evening coffee break.</p>
  </li>
</ol>



<p>Explore things that are around you, collect experiences, travel, be in nature. I have been to many trips but there were a couple of them I missed and I still regret them. Nevertheless, it‚Äôs never too late to plan another trip.</p>



<p>If you think about the future, you will be constantly worried. If you think about the past, you will be constantly regretful. What has happened and will happen is not in your control. What is in your control is what can happen.</p>

<p>I have lived a substantial chunk of my undergraduate life thinking about how things could have been or how things should have been but I was rarely mindful of how things actually are. Having this kind of mental state is akin to living in a pseudo-simulation, where you are living in a self-created illusion which seems real to you but, on the contrary, reality becomes an illusion.</p>

<p>Learn from the past, be mindful and conscious of the things in hand, and shape your future.</p>

<p>Be lively, fun loving. Search for love, spread love.</p>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://prabhupant.github.io/2020/09/15/letter-to-my-undergraduate-self.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540343</guid>
            <pubDate>Mon, 21 Sep 2020 06:12:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lab Snacks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24540166">thread link</a>) | @neilpanchal
<br/>
September 20, 2020 | https://neil.computer/notes/thorlabs-lab-snacks/ | <a href="https://web.archive.org/web/*/https://neil.computer/notes/thorlabs-lab-snacks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article>
        
        <p>Throughout my engineering career (Semiconductor industry), I've come across dozens if not hundreds of equipment suppliers. But there are a few suppliers that leave a long lasting impression. Thorlabs is one of them. Why?</p><p>It is quite silly actually. Everytime I order a linear actuator, motorized stage or axis controller... something that's just normal industrial hardware, it ships unremarkably with billable weight in hundreds of dollars, docks and sits at the shipping &amp; receiving until I haul it into the lab. Cut open the box, and you see this:</p><figure><img src="https://neil.computer/content/images/2020/09/image.png" alt=""><figcaption>Source: https://jlfenimore.wixsite.com/jenniferfenimore/lab-snacks</figcaption></figure><p>Food and Drink are not allowed in our lab, except when it comes to the Thorlabs Snacks. This little red box brings so much joy it is hard to describe. Thorlabs shipping boxes contain one or more of these red boxes, it's got - cookies, candies, granola bars, chips, etc. to put a smile on the face. They didn't have to do it but they did. And they've been doing this for many years. Infact, they've trademarked "Lab Snacks" which is such a cool name on its own!</p><p>Thorlabs founder, Alex Cable, wrote an <a href="https://www.thorlabs.com/about_us.cfm">article</a> about his vision of what customer centricity is, there is so much to learn from it, Wikipedia quotes:</p><blockquote>An important part of Thorlabs' brand and culture is Lab Snacks. Lab Snacks were created to support the famished grad student researching all night, serving as an occasional meal for someone hard at work.</blockquote><p>I implore you to read the original <a href="https://www.thorlabs.com/about_us.cfm">source</a> because it exemplifies what a CEO and Founder should do to build an honest, customer centric business and how to genuinely connect with them. Everything at Thorlabs, from their phone support to documentation, is focusing on how best to make you, the customer, successful. Therein lies their success and they double-down on it.</p><p>Thorlabs has left such a long-lasting impact on me that I am writing this post after last enjoying Lab Snacks 2 years ago.</p>
        </article>
</div></div>]]>
            </description>
            <link>https://neil.computer/notes/thorlabs-lab-snacks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540166</guid>
            <pubDate>Mon, 21 Sep 2020 05:38:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SEO Workflows with Machine Learning and Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540059">thread link</a>) | @shrikar
<br/>
September 20, 2020 | https://shrikar.com/python-for-seo-using-google-search-console/ | <a href="https://web.archive.org/web/*/https://shrikar.com/python-for-seo-using-google-search-console/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In this post we will learn how to use python for improving the SEO of your site and understanding opportunities. We will start by exploring google search console data and finding topics that convert well and also topics which get impressions but doesn‚Äôt convert.</p><p>Lets start by looking at the google search console and export the performance data for our website.<br>
<a href="https://shrikar.com/wp-content/uploads/2020/09/search_console.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/search_console-1024x198.png?x45224" alt="search_console" width="810" height="157"></a></p><p>Next upload the Queries file exported from google search console data to Google Drive.<br>
<a href="https://shrikar.com/wp-content/uploads/2020/09/drive.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/drive-1024x374.png?x45224" alt="drive" width="810" height="296"></a></p><p>Next we will start looking at the queries and building topic clusters which will help us figure out the next course of action ( Note for this case we will not use LDA). We will use a simple TfidfVectorizer to convert the text into vector format and run KMeans Clustering Algorithm on the vectorized form of the search queries to generate clusters</p><pre>import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.cluster import KMeans
from sklearn.metrics import adjusted_rand_score
from google.colab import drive

# Mount the drive.
drive.mount('/content/drive')

# Read the performance data into Pandas data frame.

df = pd.read_csv("/content/drive/My Drive/ColabData SearchConsole/Queries.csv")

documents = list(df.Query.values)
vectorizer = TfidfVectorizer(stop_words='english', ngram_range=(1,3))
X = vectorizer.fit_transform(documents)

true_k = 20
model = KMeans(n_clusters=true_k, init='k-means++', max_iter=1000, n_init=42, random_state=42)
model.fit(X)

print("Top terms per cluster:")
order_centroids = model.cluster_centers_.argsort()[:, ::-1]
terms = vectorizer.get_feature_names()
for i in range(true_k):
    
    cluster_terms = []
    for ind in order_centroids[i, :10]:
        cluster_terms.append(' %s' % terms[ind])        
    print("Cluster {}, Terms : {}".format(i, cluster_terms)),

Top terms per cluster:
Cluster 0, Terms : [' classification', ' multiclass', ' keras', ' multiclass classification', ' classification keras', ' lstm', ' multiclass classification keras', ' keras classification', ' keras multiclass', ' text classification']
Cluster 1, Terms : [' uiactivityviewcontroller', ' uiactivityviewcontroller swift', ' uiactivityviewcontroller share', ' share', ' swift', ' uiactivityviewcontroller ipad', ' ipad', ' url', ' swift uiactivityviewcontroller', ' uiactivityviewcontroller delegate']
Cluster 2, Terms : [' ios', ' xcode', ' ios swift', ' charts', ' swift', ' charts ios', ' tutorial', ' ios charts', ' s3', ' app']
Cluster 3, Terms : [' inventory', ' iphone', ' inventory app', ' app', ' app iphone', ' inventory app iphone', ' barcode', ' ios inventory', ' management', ' inventory management']
Cluster 4, Terms : [' multi class', ' class', ' multi', ' class classification', ' multi class classification', ' classification', ' keras', ' keras multi class', ' python', ' classification keras']
Cluster 5, Terms : [' uitableview', ' delegate', ' swift', ' delegate swift', ' uitableview delegate', ' datasource', ' grouped', ' delegate datasource', ' swift uitableview', ' uitableview tutorial']
Cluster 6, Terms : [' make', ' like', ' uber', ' app', ' like app', ' uber like app', ' uber like', ' make app', ' like uber', ' make uber']
Cluster 7, Terms : [' swift', ' share', ' share swift', ' swift share', ' charts', ' uipageviewcontroller', ' charts swift', ' uipageviewcontroller swift', ' coredata', ' chart']
Cluster 8, Terms : [' tutorial', ' apple', ' pay', ' apple pay', ' swift', ' swift tutorial', ' xcode', ' serverless', ' aws', ' app tutorial']
Cluster 9, Terms : [' uisearchbar', ' uisearchbar swift', ' swift', ' swift uisearchbar', ' uisearchbar example', ' uisearchbar delegate', ' ios uisearchbar', ' uisearchbar ios', ' uisearchbar tutorial', ' example']
Cluster 10, Terms : [' uitableviewcell', ' uitableviewcell swift', ' init', ' custom', ' uitableviewcell init', ' swift uitableviewcell', ' swift', ' uitableview uitableviewcell', ' custom uitableviewcell', ' uitableviewcell custom']
Cluster 11, Terms : [' counter', ' step', ' step counter', ' counter app', ' iphone', ' step counter app', ' app', ' counter iphone', ' iphone step counter', ' iphone step']
Cluster 12, Terms : [' core', ' core data', ' data', ' data swift', ' core data swift', ' swift', ' core data tutorial', ' data tutorial', ' swift core', ' tutorial']
Cluster 13, Terms : [' uber', ' uber app', ' app', ' build uber', ' build uber app', ' build', ' tutorial', ' iphone', ' create uber', ' create uber app']
Cluster 14, Terms : [' pedometer', ' iphone', ' pedometer app', ' iphone pedometer', ' pedometer iphone', ' app', ' pedometer app iphone', ' app iphone', ' pedometer swift', ' swift pedometer']
Cluster 15, Terms : [' tableview', ' tableview delegate', ' tableview datasource', ' delegate', ' swift tableview', ' datasource', ' swift', ' methods', ' grouped', ' grouped tableview']
Cluster 16, Terms : [' search', ' bar', ' search bar', ' swift search', ' swift', ' bar swift', ' search bar swift', ' swift search bar', ' search bar ios', ' bar ios']
Cluster 17, Terms : [' example', ' word2vec', ' sagemaker', ' serverless', ' framework', ' cloudkit', ' python', ' uivisualeffectview', ' serverless framework', ' view']
Cluster 18, Terms : [' uialertcontroller', ' uialertcontroller swift', ' uialertcontroller image', ' image', ' swift uialertcontroller', ' ios uialertcontroller', ' uialertcontroller ios', ' uialertcontroller example', ' swift', ' ios']
Cluster 19, Terms : [' lsa', ' gensim', ' vs', ' gensim lsa', ' lsa vs', ' word2vec', ' lda', ' lsa python', ' lsa word2vec', ' lsa gensim']

</pre><p>Google Search Console allows us to download around 1000 keywords and with the above method we have been able to cluster similar search queries together. Now it‚Äôss time to map the clusters to well defined topics.</p><p>Next we will assign a topic label to each cluster by looking at the terms which the Clustering Algorithm has provided us. Here are the manually assigned topics.</p><pre>topic_map = {
    0: 'Multi Class Classification',
    1: 'iOS Sharing (How To)',
    2: 'iOS Charts',
    3: 'iOS BarCode and Inventory Management',
    4: 'Multi Class Classification',
    5: 'iOS UI TableViews',
    6: 'How to make an app series',
    7: 'Core Data &amp; Swift',
    8: 'Apple Pay',
    9: 'Implement Search in iOS',
    10: 'UITableViews &amp; Layouts',
    11: 'iOS HealthKit',
    12: 'Core Data',
    13: 'Build by example: Uber',
    14: 'iOS Step Counter App',
    15: 'iOS UI TableViews',
    16: 'Swift Search Bar',
    17: 'AWS Serverless',
    18: 'Notifications / Alerts Swift',
    19: 'Word Vectors'    
}
</pre><p>Next we will use the model to predict the cluster label to each of the search query we got from the google search console data.</p><pre># This will generate labels from 0 to 19 and we will use the map above to map it to readable cluster labels

df['cluster'] = model.predict(vectorizer.transform(df.Query))

df['cluster_label'] = df.cluster.map(topic_map)

# Next create the ctr from Click and impression data
df['ctr'] = df.Clicks/df.Impressions

# Find the topic cluster on your site which are converting the best and also the topic which get impression but doesn't convert well.
df['ctr'] = df.Clicks/df.Impressions
df.groupby('cluster_label')[['ctr', 'Impressions']].mean().reset_index().sort_values('ctr', ascending=False)

</pre><p><a href="https://shrikar.com/wp-content/uploads/2020/09/cluster_labels1.png?x45224"><img src="https://shrikar.com/wp-content/uploads/2020/09/cluster_labels1-1024x675.png?x45224" alt="cluster_labels" width="810" height="534"></a></p><h2>How to use this data</h2><p>The clusters with low ctr data but high impression data is the opportunity zone and you can either build new posts of improve the existing page to make it more useful. Start with updating meta description aka the snippet that the google show for you link.</p><ul><li>Add more topic pages and improve the existing ones.</li><li>Find related keywords for these topic clusters and add new pages</li><li>Linking to these new pages from existing high traffic pages.</li><li>Once we start building more content and improving&nbsp; existing pages&nbsp;we can use the model built above to see how the CTR of the topic improve over time by automating the google search console data and the clustering method described above.</li></ul><p>I am not a SEO pro please provide any feedback and if you are interested in collaborating on a areas related to SEO and Machine Learning feel free to ping me.</p></div></div>]]>
            </description>
            <link>https://shrikar.com/python-for-seo-using-google-search-console/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540059</guid>
            <pubDate>Mon, 21 Sep 2020 05:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Choosing the right tech stack for your product]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24540001">thread link</a>) | @root993
<br/>
September 20, 2020 | https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>It is always difficult to choose a tech stack for your application. Especially one that is going to be worked on by many people in the future. The fact that technologies like Javascript change almost on a daily basis and new frameworks come up every time I browse the internet does not make this job any easier.<br></p><p>On one hand you want to be using the latest technologies available but on the other hand you can‚Äôt afford to have a high learning curve or use something that is not a 100% stable yet because you are most likely going to build a long term business that must stand the test of time.<br></p><p>In many ways it is similar to choosing a person to date. You wanna go with the best looking one but you also need the person to have some depth so that you can have a long term relationship!<br></p><p>So how do you choose the right tech stack? I can‚Äôt say for sure that the methods that am employing are the best ones and readers can always reach out to me on twitter and correct me but here are some of the things that I am keeping in mind right now<br></p><h3><strong>Prioritising speed over ‚Äúdoing the right thing‚Äù</strong><br></h3><p>It is important for a startup to move fast. If I spend time learning new technologies and understanding all the nuances of those technologies it might take a long time to actually build a product and get it out the door. <br></p><p>For instance, I am currently building a <a href="https://www.delight.chat/" target="_blank">customer support software for e-commerce businesses</a> and I have been advised by a few folks that my use case would involve dealing with a lot of unstructured data so MongoDB is the right database to use. <br></p><p>The issue here is that I do not have much experience with nosql and I have personally never used it in production. So even if this is the right thing, it might end up causing me a lot of grief down the line when I am not able to debug certain issues just because I don‚Äôt have a deeper understanding of the subject. <br></p><p>I decided to go with Postgres instead because while being a relational database which I am comfortable with, Postgres supports a datatype called JSONB where you can store unstructured data much like in Mongo. This seemed like the optimal thing to do.<br></p><h3><strong>Other people will be working on your codebase</strong><br></h3><p>I my previous venture, I wrote some services in Golang. I did this because I enjoy writing code in Go, not to mention that it is a compiled language with syntax that is easy to understand and yields performance that is close to C/C++.<br></p><p>This seemed like a good idea at the time because the services I wrote in Go were highly scalable and I did not have to touch them again for a long time. The issue came up when we exited the business and I had to transfer the codebase to folks who never worked in Golang. <br></p><p>The same thing could happen when you hire new folks who might have great aptitude for the role but do not necessarily know all the nuances of working with a brand new language. This is going to delay development time significantly.<br></p><h3><strong>Do not spend time on solved problems </strong><br></h3><p>The amount of work required to build your core product is already quite high, you don‚Äôt want to be making it worse by spending valuable development hours on building things that are not core to your product.<br></p><p>For our current product we needed a socket infrastructure so that the server can push real time updates to the browser when a certain event takes place. At first I thought of using something like <a href="http://socket.io/" target="_blank">socket.io</a> but after giving it some further thought, I realised that it would take up considerable bandwidth to maintain the socket service as the product scales in usage.<br></p><p>We decided to cough up some $$ and go with <a href="http://pusher.com/" target="_blank">pusher.com</a> instead. They are a SaaS that offer socket infrastructure as a service. If their entire business depends on one particular pain point, it is safe to assume that they would have done the best possible job of handling it and would have found out all the edge cases and bugs that might come up. <br></p><h3><strong>Break up the product into microservices</strong><br></h3><p>For a monolithic codebase there is pretty much no choice but to work on the same language and frameworks for the foreseeable future. This means that not only are you stuck with a tech stack that you choose a long time ago, but even the folks you hire in the future will be stuck working on the same thing as well.<br></p><p>To prevent this, it is important to segregate your product into micro services that can be developed, maintained and deployed independently so that you can easily swap some of these services with new ones written in a new language or framework without affecting the working of the rest of the product.<br></p><h3><strong>Closing notes</strong><br></h3><p>While speed is important, it is also important to make sure that your employees are comfortable with the tech stack and do not feel like their careers are being jeopardised due to not being able to work on the latest technologies and frameworks that are available in the market. It would not be fair for me to say that we will only use PHP and nothing else and whoever joins us must suck it up and work on it. <br></p><p>It could also negatively impact us if we miss out on the ease of problem solving that new technologies and frameworks provide. So there must always be balance &nbsp;between speed and upgrading yourself to something new and better. <br></p><p>So if you find yourself in a position where there is a new technology that can make things significantly better but it would require a learning curve and a considerable risk of not being able to find employees who can work on this technology very easily, it might still be worth to go for it.</p><p>‚Äç</p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/choosing-the-right-tech-stack-for-your-product</link>
            <guid isPermaLink="false">hacker-news-small-sites-24540001</guid>
            <pubDate>Mon, 21 Sep 2020 05:06:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stack script: A guide to scripting in Haskell]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539987">thread link</a>) | @wespiser_2018
<br/>
September 20, 2020 | https://www.wespiser.com/posts/2020-02-02-Command-Line-Haskell.html | <a href="https://web.archive.org/web/*/https://www.wespiser.com/posts/2020-02-02-Command-Line-Haskell.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div id="content">
            
            <p>
    Posted on February  2, 2020
    
</p>

<h2 id="intro">Intro</h2>
<h4 id="why-stack-script">Why stack script ?</h4>
<p>If you share small, single module, self contained haskell examples, stack script gives us an easy way to get reproducible builds, by pinning the dependencies to a Stackage snapshot within a comment at the top of your Haskell code.<br>
There are at least two additional motivations, besides reproducible builds, that you might want to use Stack‚Äôs scripting feature:</p>
<ul>
<li><p>Lower the configuration barrier: write an independently compiling Haskell source code file with package dependencies without having to configure a new stack or cabal project. Personally, I find this helpful when exploring new libraries or writing small programs.</p></li>
<li><p>Using Haskell as a scripting language, or replacement for Shell/Bash/Zsh. This use case pairs well with the <code>Turtle</code> library, although this approach does have downsides.</p></li>
</ul>
<h4 id="about">About</h4>
<p>Stack is a build tool primarily designed for reproducible builds, done by specifying a resolver in a configuration file, usually your projects <code>stack.yaml</code> and <code>package.yaml</code> With Stack‚Äôs scripting feature, we still get reproducible builds by specifying a resolver, but move this specification to the file we are compiling, or as a command line argument. Therefore, for the sake of simplicity, we‚Äôll assume that these scripts are run outside of a stack project, and stack is invoked in the same directory as the script file.<br>
<em>Note:</em> When running a stack script inside of a stack project, it‚Äôs important to consider that stack will read settings from your <code>project.yaml</code> and <code>stack.yaml</code>, which may cause issues.</p>
<h2 id="code-examples">Code Examples</h2>
<h4 id="outline">Outline</h4>
<p>This article contains the following examples of using scripting with stack:</p>
<ul>
<li>A basic example of the Scripting Interpreter</li>
<li>A simple Servant server that statically serves your current working directory</li>
<li>An example of stack as a bash replacement</li>
<li>Using stack script to launch ghci</li>
</ul>
<h4 id="basic-example-of-stack-script">Basic example of stack script</h4>
<p>For our first example, we‚Äôll use stack to run a single file of Haskell source code as a script.</p>
<p>Here‚Äôs the source code we want to run, in a filed called <code>simple.hs</code>:</p>
<pre><code>main :: IO ()
main = putStrLn "compiled &amp; run"</code></pre>
<p>To run this with the stack script interpreter, we can do the following:</p>
<pre><code>$ stack script simple.hs --resolver lts-14.18</code></pre>
<p>The resolver argument is mandatory, and Stack will compile and run the <code>simple.hs</code> file immediately after invocation using the <code>lts-14.18</code> Stackage snapshot.<br>
Alternatively, we can put all of the configuration information into the script itself, like this:</p>
<pre><code>{- stack script 
 --resolver lts-14.18
-}
main :: IO ()
main = putStrLn "compiled &amp; run"</code></pre>
<p>which can be compiled and run with <code>$ stack simple.hs</code>.</p>
<h4 id="a-simple-servant-server">A simple Servant server</h4>
<p>The ‚Äúkiller feature‚Äù for scripting with stack is probably the ability to pull in packages without having to a <code>stack.yaml</code> or<br>
This can probably be best seen with <code>stack ghci</code>, where the following command will drop you into a ghci repl where you have <code>lens</code> and <code>text</code> packages available from the specificied resolver.</p>
<pre><code>stack ghci --package text --package lens --resolver lts-14.18</code></pre>
<p>An example of this concept with the stack scripting engine, is a quick and dirty file server, <code>explore.hs</code> would be as follows:</p>
<pre><code>~/projects/stack-script$ cat explore.hs
#!/usr/bin/env stack
{- stack script
 --resolver nightly-2019-12-22
 --install-ghc
 --package "servant-server warp"
 --ghc-options -Wall
-}
{-# LANGUAGE DataKinds, TypeOperators, TypeApplications #-}

module FileServer where

import Network.Wai.Handler.Warp( defaultSettings, runSettings, setBeforeMainLoop, setPort)
import Servant (Proxy(Proxy), Raw, serve, serveDirectoryWebApp)

main :: IO ()
main = runSettings settings . serve (Proxy @Raw) $ serveDirectoryWebApp "."
  where port = 8080
        msg = "serving on http://localhost:" ++ show port ++ "/{pathToFile}"
        settings = setPort port $ setBeforeMainLoop (putStrLn msg) defaultSettings</code></pre>
<p>Noting a couple of features</p>
<ul>
<li><code>--install-ghc</code> is the flag to install ghc, if it is not already available.</li>
<li>The addition of the hash bang, (line 1), <code>#!/usr/bin/env stack</code>, let‚Äôs you run this as an executable, <code>$ ./explore.hs</code></li>
<li>If running, this script will let you see it‚Äôs source code at <code>localhost:8080/static/explore.hs</code>, along with any other files within the current working directory the script was run.</li>
<li>The snapshot here is a nightly from the day the script was written, <a href="https://www.stackage.org/nightly-2019-12-22">nightly-2019-12-22</a>, which ensures the most up to date version of libraries are used when the script is written while still pinning us to a specific snapshot.</li>
<li>We pass in <code>-Wall</code> to ghc-options, and can give additional ghc options here.</li>
</ul>
<p>On a fresh compilation, this will take a few minutes to run, as Stack needs to go and grab about 255Mb worth of source code in ~86 dependent packages, compile and link it in order for the above code to run. However, on subsequent runs, Stack can use a local cache of of the packages, and we can reproduce our project build without downloading and building all the dependencies!</p>
<h4 id="stack-script-as-a-bash-replacement">Stack Script as a Bash Replacement</h4>
<p>It‚Äôs possible to use haskell, and Stack scripting feature, along with the Turtle library as a drop in replacement for shell scripting!<br>
To do this, we need the following at the top of our Haskell file:</p>
<pre><code>#!/usr/bin/env stack
{- stack script
 --compile
 --copy-bins
 --resolver lts-14.17
 --install-ghc
 --package "turtle text foldl async"
 --ghc-options=-Wall
-}</code></pre>
<p>This stack script does a couple of things:</p>
<ul>
<li><code>--compile</code> and <code>--copy-bins</code> create a binary executable based on the file name.<br>
</li>
<li>installs ghc, if needed with <code>install-ghc</code><br>
</li>
<li>builds the scripts with the set of packages from <code>lts-14.17</code></li>
</ul>
<p>With <a href="https://hackage.haskell.org/package/turtle">tutle</a>, we get a portable way to to run external shell commands, and I was able to create a nice haskell program to replace the shell script I used to automate the server tasks needed to deploy this blog!<br>
The basics my deploy turtle script are as follows, and you can see the <a href="https://gist.github.com/adamwespiser/25b0af28529a6de1272af6af6275f2a4#file-updatesite-hs">full example on github here</a></p>
<pre><code>import qualified Turtle as Tu
import qualified Control.Foldl as L
import qualified Data.Text as T
import Control.Concurrent.Async
import System.IO

argParser :: Tu.Parser Tu.FilePath
argParser = Tu.argPath "html" "html destination directory"

main :: IO ()
main = do
  -- 53 files copied over into destinationDir
  hSetBuffering stdout NoBuffering
  destinationDir &lt;- Tu.options "Build blog and copy to directory" argParser
  Tu.with (Tu.mktempdir "/tmp" "deploy") (mainLoop destinationDir)</code></pre>
<p>One nice thing about turtle is the <code>Tu.with</code> function, which lets use run our the main logic of our program with a temporary directory which is subsequently cleaned up after the <code>mainLoop</code> function returns.<br>
Despite turtle being a handy library, I did find some downsides - Use of <code>FilePath</code>, which uses a pretty clunky, <code>String</code> based file representation - Often times clunkier semantics than just writing bash: for instance, <code>cp -r SRC TRG</code> is requires a fold over the result of <code>ls SRC</code> and construction of an explicit <code>cp</code> with each file, instead, you need to use <code>cptree</code>, which took me a while to figure out, so it would be nice if the semantics matched better! - Turtle is a monolithic framework for interacting with OS through a set of mirrored shell commands trying to match <code>coreutiles</code>, and it‚Äôs tightly couple parts makes it not very easy to pick the parts you like, and disregard the rest!</p>
<h4 id="using-stack-script-to-run-ghci">Using stack script to run ghci</h4>
<p>We‚Äôve already seen a few examples of stack script, but there is one more that should be in every Haskeller‚Äôs toolkit. Stack script can be used to launch a ghci repl. Let‚Äôs say we are working with a new ADT, and want to write a new QuickCheck instance, how can stack script help us?<br>
The following header will load the listed packages into a ghci repl:</p>
<pre><code>{- stack 
 --resolver nightly
 --install-ghc
 exec ghci
 --package "QuickCheck checkers"
-}
module XTest where</code></pre>
<p>There is one note to make here about the order of the arguments:</p>
<ul>
<li>The file will compile, then drop you into with module <code>XTest</code> is loaded</li>
<li>If <code>exec ghci</code> does not immediately follow <code>stack</code>, then the <code>--packages</code> must be before <code>exec ghci</code></li>
</ul>
<h5 id="ghcid">ghcid</h5>
<p>You can run the above stack script with <a href="https://github.com/ndmitchell/ghcid">ghcid</a> to get nearly instant compiler feedback using the following:</p>
<pre><code>bash$ ghcid -c "stack XTest.hs"</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>I often find myself coding up small Haskell snippets, whether it‚Äôs playing around with a new data type, trying out a library, or reproducing an example from a paper or a book. In these cases, Stack‚Äô scripting feature shines at giving me a self contained file where I can specify the dependencies via a snapshot in the file header, and not have to worry about breaking changes, or setting up a project with all the correct dependencies. Thus, I would urge my fellow Haskellers to consider using stack‚Äôs scripting feature when they share code online, to help others run their code today, and keep that way far into the future!</p>
<h2 id="additional-information">Additional Information</h2>
<ul>
<li><a href="https://docs.haskellstack.org/en/stable/GUIDE/#script-interpreter">Stack Docs: Script Interpreter</a><br>
</li>
<li><a href="https://tech.fpcomplete.com/haskell/tutorial/stack-script">FPComplete: How to Script with Stack</a></li>
<li><a href="http://hackage.haskell.org/package/stack-1.9.3/docs/Stack-Script.html">Hackage: Stack.Script</a> Useful for figuring out what is going on underneath the hood!<br>
</li>
<li><a href="https://odone.io/posts/2019-07-08-scripting-in-haskell-and-purescript.html">Richard Odone: Scripting in Haskell and PureScript</a></li>
</ul>

        </div>
    </div></div>]]>
            </description>
            <link>https://www.wespiser.com/posts/2020-02-02-Command-Line-Haskell.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539987</guid>
            <pubDate>Mon, 21 Sep 2020 05:04:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Not Rust?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539955">thread link</a>) | @signa11
<br/>
September 20, 2020 | https://matklad.github.io//2020/09/20/why-not-rust.html | <a href="https://web.archive.org/web/*/https://matklad.github.io//2020/09/20/why-not-rust.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Sep 20, 2020</p>
  <p>I‚Äôve recently read an article criticizing Rust, and, while it made a bunch of good points, I didn‚Äôt enjoy it‚Äâ‚Äî‚Äâit was an easy to argue with piece.
In general, I feel that I can‚Äôt recommend an article criticizing Rust.
This is a shame‚Äâ‚Äî‚Äâconfronting drawbacks is important, and debunking low effort/miss informed attempts at critique sadly inoculates against actually good arguments.</p>
<p>So, here‚Äôs my attempt to argue <em>against</em> Rust:</p>
<div>
<dl>
<dt>Not All Programming is Systems Programming</dt>
<dd>
<div>
<div>
<p>Rust is a systems programming language.
It offers precise control over data layout and runtime behavior of the code, granting  you maximal performance and flexibility.
Unlike other systems programming languages, it also provides memory safety‚Äâ‚Äî‚Äâbuggy programs terminate in a well-defined manner, instead of unleashing (potentially security-sensitive) undefined behavior.</p>
<p>However, in many (most) cases, one doesn‚Äôt need ultimate performance or control over hardware resources.
For these situations, modern managed languages like Kotlin or Go offer decent speed, enviable
<a href="https://qconlondon.com/london-2017/system/files/presentation-slides/highperformancemanagedlanguages.pdf">time to performance</a>, and are memory safe by virtue of using a garbage collector for dynamic memory management.</p>
</div>
</div>
</dd>
<dt>Complexity</dt>
<dd>
<div>
<div>
<p>Programmer‚Äôs time is valuable, and, if you pick Rust, expect to spend some of it on learning the ropes.
Rust community poured a lot of time into creating high-quality teaching materials, but the Rust language <em>is</em> big.
Even if a Rust implementation would provide value for you, you might not have resources to invest into growing the language expertise.</p>
<p>Rust‚Äôs price for improved control is the curse of choice:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
6
</pre></td><td><pre><span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Bar</span>         <span>}</span>
<span>struct</span> <span>Foo</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span> <span>bar</span><span>:</span> <span>&amp;</span><span>'a</span> <span>Bar</span>     <span>}</span>
<span>struct</span> <span>Foo</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span> <span>bar</span><span>:</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>Bar</span> <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Box</span><span>&lt;</span><span>Bar</span><span>&gt;</span>    <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Rc</span><span>&lt;</span><span>Bar</span><span>&gt;</span>     <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Arc</span><span>&lt;</span><span>Bar</span><span>&gt;</span>    <span>}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>In Kotlin, you write <code>class Foo(val bar: Bar)</code>, and proceed with solving your business problem.
In Rust, there are choices to be made, some important enough to have dedicated syntax.</p>
<p>All this complexity is there for a reason‚Äâ‚Äî‚Äâwe don‚Äôt know how to create a simpler memory safe low-level language.
But not every task requires a low-level language to solve it.</p>

</div>
</div>
</dd>
<dt>Compile Times</dt>
<dd>
<div>
<div>
<p>Compile times are a multiplier for everything.
A program written in a slower to run but faster to compile programming language can be <em>faster</em> to run because the programmer will have more time to optimize!</p>
<p>Rust intentionally picked slow compilers in the <a href="https://research.swtch.com/generic">generics dilemma</a>.
This is not necessary the end of the world (the resulting runtime performance improvements are real), but it does mean that you‚Äôll have to fight tooth and nail for reasonable build times in larger projects.</p>
<p><code>rustc</code> implements what is probably the most advanced <a href="https://rustc-dev-guide.rust-lang.org/queries/incremental-compilation.html">incremental compilation</a> algorithm in production compilers, but this feels a bit like fighting with language compilation model.</p>
<p>Unlike C++, Rust build is not embarrassingly parallel; the amount of parallelism is limited by length of the critical path in the dependency graph.
If you have 40+ cores to compile, this shows.</p>
<p>Rust also lacks an analog for the <a href="https://en.cppreference.com/w/cpp/language/pimpl">pimpl</a> idiom, which means that changing a crate requires recompiling (and not just relinking) all of its reverse dependencies.</p>
</div>
</div>
</dd>
<dt>Maturity</dt>
<dd>
<div>
<div>
<p>Five years old, Rust is definitely a young language.
Even though its future looks bright, I will bet more money on ‚ÄúC will be around in ten years‚Äù than on ‚ÄúRust will be around in ten years‚Äù
(See <a href="https://en.wikipedia.org/wiki/Lindy_effect">Lindy Effect</a>).
If you are writing software to last decades, you should seriously consider risks associated with picking new technologies.
(But keep in mind that picking Java over Cobol for banking software in 90s retrospectively turned out to be the right choice).</p>
<p>There‚Äôs only one complete implementation of Rust‚Äâ‚Äî‚Äâthe <a href="https://github.com/rust-lang/rust/"><code>rustc</code></a> compiler.
The most advanced alternative implementation, <a href="https://github.com/thepowersgang/mrustc"><code>mrustc</code></a>, purposefully omits many static safety checks.
<code>rustc</code> at the moment supports only a single production-ready backend‚Äâ‚Äî‚ÄâLLVM.
Hence, its support for CPU architectures is narrower than that of C, which has GCC implementation as well as a number of vendor specific proprietary compilers.</p>
<p>Finally, Rust lacks an official specification.
<a href="https://doc.rust-lang.org/reference/">The reference</a> is a work in progress, and does not yet document all the fine implementation details.</p>
</div>
</div>
</dd>
<dt>Alternatives</dt>
<dd>
<div>
<div>
<p>There are other languages besides Rust in systems programming space, notably, C, C++, and Ada.</p>
<p>Modern C++ provides <a href="https://www.viva64.com/en/pvs-studio/">tools</a> and <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">guidelines</a> for improving safety.
There‚Äôs even a proposal for a Rust-like <a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/docs/Lifetime.pdf">lifetimes</a> mechanism!
Unlike Rust, using these tools does not <em>guarantee</em> the absence of memory safety issues.
However, if you already maintain a large body of C++ code, it makes sense to check if following best practices and using <a href="https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html">sanitizers</a> helps with security issues.
This is hard, but clearly is easier than rewriting in another language!</p>
<p>If you use C, you can use formal methods to <a href="https://sel4.systems/Info/FAQ/proof.pml">prove</a> the absence of undefined behaviors, or just <a href="https://sqlite.org/testing.html">exhaustively test</a> everything.</p>
<p>Ada is memory safe if you don‚Äôt use dynamic memory (never call <code>free</code>).</p>
<p>Rust is an interesting point on the cost/safety curve, but is far from the only one!</p>
</div>
</div>
</dd>
<dt>Tooling</dt>
<dd>
<div>
<div>
<p>Rust tooling is a bit of a hit and miss.
The baseline tooling, the compiler and the build system
(<a href="https://doc.rust-lang.org/cargo/index.html">cargo</a>), are often cited as best in class.</p>
<p>But, for example, some runtime-related tools (most notably, heap profiling) are just absent‚Äâ‚Äî‚Äâit‚Äôs hard to reflect on the runtime of the program if there‚Äôs no runtime!
Additionally, while IDE support is decent, it is nowhere near the Java-level of reliability.
Automated complex refactors of multi-million line programs are not possible in Rust today.</p>
</div>
</div>
</dd>
<dt>Integration</dt>
<dd>
<div>
<div>
<p>Whatever the Rust promise is, it‚Äôs a fact of life that today‚Äôs systems programming world speaks C, and is inhabited by C and C++.
Rust intentionally doesn‚Äôt try to mimic these languages‚Äâ‚Äî‚Äâit doesn‚Äôt use C++-style classes or C ABI.</p>
<p>That means that integration between the worlds needs explicit bridges.
These are not seamless.
They are <code>unsafe</code>, not always completely zero-cost and need to be synchronized between the languages.
While the general promise of <a href="http://adventures.michaelfbryan.com/posts/how-to-riir/">piece-wise integration</a> holds up and the <a href="https://github.com/dtolnay/cxx">tooling</a> catches up, there is accidental complexity along the way.</p>
<p>One specific gotcha is that Cargo‚Äôs opinionated world view (which <em>is</em> a blessing for pure Rust projects) might make it harder to integrate with a bigger build system.</p>
</div>
</div>
</dd>
<dt>Performance</dt>
<dd>
<div>
<div>
<p>‚ÄúUsing LLVM‚Äù is not a universal solution to all performance problems.
While I am not aware of benchmarks comparing performance of C++ and Rust at scale, it‚Äôs not to hard to come up with a list of cases where Rust leaves some performance on the table relative to C++.</p>
<p>The biggest one is probably the fact that Rust‚Äôs move semantics is based on values (<code>memcpy</code> at the machine code level).
In contrast, C++ semantics uses special references you can steal data from (pointers at the machine code level).
In theory, compiler should be able to see through chain of copies; in practice it often doesn‚Äôt: <a href="https://github.com/rust-lang/rust/issues/57077">#57077</a>.
A related problem is the absence of placement new‚Äâ‚Äî‚ÄâRust sometimes need to copy bytes to/from the stack, while C++ can construct the thing in place.</p>
<p>Somewhat amusingly, Rust‚Äôs default ABI (which is not stable, to make it as efficient as possible) is sometimes worse than that of C: <a href="https://github.com/rust-lang/rust/issues/26494#issuecomment-619506345">#26494</a>.</p>
<p>Finally, while in theory Rust code should be more efficient due to the significantly richer aliasing information, enabling aliasing-related optimizations triggers LLVM bugs and miscompilations: <a href="https://github.com/rust-lang/rust/issues/54878">#54878</a>.</p>
<p>But, to reiterate, these are cherry-picked examples, sometimes the field is tilted the other way.
For example, <code>std::unique_ptr</code> <a href="https://www.youtube.com/watch?v=rHIkrotSwcc&amp;feature=youtu.be&amp;t=1261">has a performance problem</a> which Rust‚Äôs <code>Box</code> lacks.</p>
<p>A potentially bigger issue is that Rust, with its definition time checked generics, is less expressive than C++.
So, some C++ <a href="http://eigen.tuxfamily.org/index.php?title=Expression_templates">template tricks</a> for high performance are not expressible in Rust using a nice syntax.</p>
</div>
</div>
</dd>
<dt>Meaning of Unsafe</dt>
<dd>
<div>
<div>
<p>An idea which is even more core to Rust than ownership &amp; borrowing is perhaps that of <code>unsafe</code> boundary.
That, by delineating all dangerous operations behind <code>unsafe</code> blocks and functions and insisting on providing a safe higher-level interface to them, it is possible to create a system which is both</p>
<div>
<ol>
<li>
<p>sound (non-<code>unsafe</code> code can‚Äôt cause undefined behavior),</p>
</li>
<li>
<p>and modular (different <code>unsafe</code> blocks can be checked separately).</p>
</li>
</ol>
</div>
<p>It‚Äôs pretty clear that the promise works out in practice: <a href="https://github.com/rust-fuzz/trophy-case">fuzzing Rust code</a> unearths panics, not buffer overruns.</p>
<p>But the theoretical outlook is not as rosy.</p>
<p><em>First</em>, there‚Äôs no definition of Rust memory model, so it is impossible to formally check if a given unsafe block is valid or not.
There‚Äôs informal definition of ‚Äúthings rustc does or might rely on‚Äù and in in-progress <a href="https://github.com/rust-lang/miri">runtime verifier</a>, but the actual model is in flux.
So there might be some <code>unsafe</code> code somewhere which works OK in practice today, might be declared invalid tomorrow, and broken by a new compiler optimization next year.</p>
<p><em>Second</em>, there‚Äôs also an observation that <code>unsafe</code> blocks are not, in fact, modular.
Sufficiently powerful <code>unsafe</code> blocks can, in effect, extend the language.
Two such extensions might be fine in isolation, but lead to undefined behavior if used simultaneously:
<a href="https://smallcultfollowing.com/babysteps/blog/2016/10/02/observational-equivalence-and-unsafe-code/">Observational equivalence and unsafe code</a>.</p>

</div>
</div>
</dd>
</dl>
</div>
<p>Here are some thing I‚Äôve deliberately omitted from the list:</p>
<div>
<ul>
<li>
<p>Economics (‚Äúit‚Äôs harder to hire Rust programmers‚Äù)‚Äâ‚Äî‚ÄâI feel that the ‚Äúmaturity‚Äù section captures the essence of it which is not reducible to chicken and egg problem.</p>
</li>
<li>
<p>Dependencies (‚Äústdlib is too small / everything has too many deps‚Äù)‚Äâ‚Äî‚Äâgiven how good Cargo and the relevant parts of the language are, I personally don‚Äôt see this as a problem.</p>
</li>
<li>
<p>Dynamic linking (‚ÄúRust should have stable ABI‚Äù)‚Äâ‚Äî‚ÄâI don‚Äôt think this is a strong argument. Monomorphization is pretty fundamentally incompatible with dynamic linking and there‚Äôs C ABI if you really need to. I do think that the situation here can be improved, <a href="https://internals.rust-lang.org/t/a-stable-modular-abi-for-rust/12347/10?u=matklad">but I don‚Äôt think that improvement needs to be Rust-specific</a>.</p>
</li>
</ul>
</div>

</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io//2020/09/20/why-not-rust.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539955</guid>
            <pubDate>Mon, 21 Sep 2020 04:58:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gitlab sped up Puma using sleep sort]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539706">thread link</a>) | @eddietejeda
<br/>
September 20, 2020 | https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html | <a href="https://web.archive.org/web/*/https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<article>



<p><b>Summary:</b> Puma 5 is a huge major release for the project. It brings several new experimental performance features, along with tons of bugfixes and features. Let's talk about some of the most important ones. <i>(1839 words / 7 minutes)</i>
</p>
<p>Puma 5 (codename Spoony Bard<sup>1</sup><span>(When Puma gets a new ‚Äòsupercontributor‚Äô that submits lots of important work to the project, we let them name the next release. This release features a lot of code from Will Jordan, who named this release ‚ÄòSpoony Bard‚Äô. Will said: ‚ÄòFinal Fantasy IV is especially nostalgic for me, the first big open-source project I ever worked on was a fan re-translation of the game back in the late 90s.‚Äô)</span><span><sup>1</sup> When Puma gets a new ‚Äòsupercontributor‚Äô that submits lots of important work to the project, we let them name the next release. This release features a lot of code from Will Jordan, who named this release ‚ÄòSpoony Bard‚Äô. Will said: ‚ÄòFinal Fantasy IV is especially nostalgic for me, the first big open-source project I ever worked on was a fan re-translation of the game back in the late 90s.‚Äô</span>) was released today (my birthday!). There‚Äôs a lot going on in this release, so I wanted to talk about the different features and changes to give Puma users confidence in upgrading.</p>
<h2 id="experimental-performance-features-for-cluster-mode-on-mri">Experimental Performance Features For Cluster Mode on MRI</h2>
<p>This is probably the headline of the release - two features for reducing memory usage, and one for reducing latency.</p>
<p>Puma 5 contains 3 new experimental performance features:</p>
<ul>
<li><code>wait_for_less_busy_worker</code> config. This may reduce latency on MRI through inserting a small delay (sleep sort!) before re-listening on the socket if worker is busy. Intended result: If enabled, should reduce latency in high-load (&gt;50% utilization) Puma clusters.</li>
<li><code>fork_worker</code> option and <code>refork</code> command for reduced memory usage by forking from a worker process instead of the master process. Intended result: If enabled, should reduce memory usage.</li>
<li>Added <code>nakayoshi_fork</code> config option. Reduce memory usage in preloaded cluster-mode apps by GCing before fork and compacting, where available. Intended result: If enabled, should reduce memory usage.</li>
</ul>
<p>All of these experiments are only for <strong>cluster mode</strong> Puma configs running on <strong>MRI</strong>.</p>
<p>We‚Äôre calling them <em>experimental</em> because we‚Äôre not sure if they‚Äôll actually have any benefit. We‚Äôre pretty sure they‚Äôre stable and won‚Äôt break anything, but we‚Äôre not sure they‚Äôre actually going to have big benefits in the real world. People‚Äôs workloads are often not what we anticipate, and synthetic benchmarks are usually not of any help in figuring out if a change will be beneficial or not.</p>
<p>We do not believe any of the new features will have a negative effect or impact the stability of your application. This is either a ‚Äúit works‚Äù or ‚Äúit does nothing‚Äù experiment.</p>
<p>If any of the features turn out to be particularly beneficial, we may make them defaults in future versions of Puma.</p>
<p><strong>If you upgrade and try any of the 3 new features, please post before and after results or screenshots to <a href="https://github.com/puma/puma/issues/2258">this Github issue</a>.</strong> ‚ÄúIt didn‚Äôt do anything‚Äù is still a useful report in this case. Posting ~24 hours of ‚Äúbefore‚Äù and ~24 hours of ‚Äúafter‚Äù data would be most helpful.</p>
<h3 id="wait_for_less_busy_worker-sleep-sort-for-faster-apps">wait_for_less_busy_worker: sleep sort for faster apps?!</h3>
<p>This feature was contributed to Puma by Gitlab. Turn it on by adding <code>wait_for_less_busy_worker</code> to your Puma config.</p>
<p>When a request comes in to a Puma cluster, the operating system randomly selects a listening, free Puma worker process to pick up the request. ‚ÄúListening‚Äù and ‚Äúfree‚Äù being the key words - a Puma process will only listen to the socket (and pick up more requests) if it has nothing else to do. However, when running Puma with multiple threads, Puma will also listen on the socket when all of its busy threads are waiting on I/O or have otherwise released <a href="https://www.speedshop.co/2020/09/17/2020/05/11/the-ruby-gvl-and-scaling.html">the Global VM Lock</a>.</p>
<p>When Gitlab investigated switching from Unicorn to Puma, they encountered an issue with this behavior. Under high load with moderate thread settings (a max pool size of 5 in their case), average request latency increased. Why?</p>
<p>Remember, I said that the operating system <em>randomly</em> assigns a request to a <em>listening</em> worker process. So, it will never send a request to a worker process that‚Äôs busy doing other things, but what about a worker process that‚Äôs got 4 threads that are processing other requests, but all 4 of those threads happen to be waiting on I/O right now?</p>
<p>Imagine a Puma cluster with 3 workers:</p>
<ul>
<li>Worker 1: 0/5 threads busy.</li>
<li>Worker 2: 1/5 threads busy.</li>
<li>Worker 3: 4/5 threads busy.</li>
</ul>
<p>If Worker 3‚Äôs 4 active threads happen to all have released the GVL, allowing that worker to listen to the socket, and a new request comes in - which worker process should we assign the request to, ideally? Worker 1, right? Unfortunately, most operating systems will assign the request to Worker 3 33% of the time.</p>
<p>So, what do we do? We want the operating system to prefer less-loaded workers. It would be really cool if we could sort the list of workers listening on the socket so that the operating system would give requests to the least-loaded worker. Well, we can‚Äôt really do that easily, but we can do something else.</p>
<p><code>wait_for_less_busy_worker</code> causes a worker to <em>wait</em> to re-listen on the socket if it‚Äôs thread pool isn‚Äôt completely empty. This means that in high-load scenarios, the operating system will assign requests to less-loaded workers.</p>
<p><strong>This is basically sleep-sorting our workers</strong>. We‚Äôre kind of doing doing this:</p>
<div><div><pre><code>[].tap { |a| workers.map { |e| Thread.new{ sleep worker_busyness.to_f/1000; a &lt;&lt; e} }.each{|t| t.join} }
</code></pre></div></div>
<p>‚Ä¶ and hiding ‚Äúmore loaded‚Äù workers from the operating system by letting less-loaded workers listen first!</p>
<p>Originally the proposal was for a more complicated sort - processes slept longer if they had more busy threads - but that was removed when it was found that a simpler on/off sleep was just as effective.</p>
<p>The net effect is that in high-load scenarios, request latency decreases. This is because workers with more busy threads are slower than workers with no busy threads. We‚Äôre assuring that requests get assigned to the faster workers. Prior to this patch, Gitlab saw an increase in latency using Puma compared to Unicorn - after this patch, latency was the same (they also were able to reduce their fleet size by almost 30% thanks to Puma‚Äôs memory-saving multithreaded design).</p>
<p>There may be even more efficient ways for us to implement this behavior in the future. There‚Äôs some magic you can do with <code>libev</code>, I‚Äôm pretty sure, or we can just implement a different sleep/wait strategy.</p>
<h3 id="fork_worker">fork_worker</h3>
<p>Adding <code>fork_worker</code> to your puma.rb config file (or <code>--fork-worker</code> from the CLI) turns on this feature. This mode causes Puma to fork additional workers from worker 0, instead of directly from the master process:</p>
<div><div><pre><code>10000   \_ puma 5.0.0 (tcp://0.0.0.0:9292) [puma]
10001       \_ puma: cluster worker 0: 10000 [puma]
10002           \_ puma: cluster worker 1: 10000 [puma]
10003           \_ puma: cluster worker 2: 10000 [puma]
10004           \_ puma: cluster worker 3: 10000 [puma]
</code></pre></div></div>
<p>Similar to the <code>preload_app!</code> option, the <code>fork_worker</code> option allows your application to be initialized only once for copy-on-write memory savings, and it has two additional advantages:</p>
<ol>
<li><strong>Compatible with phased restart.</strong> Because the master process itself doesn‚Äôt preload the application, this mode works with phased restart (<code>SIGUSR1</code> or <code>pumactl phased-restart</code>), unlike <code>preload_app!</code>. When worker 0 reloads as part of a phased restart, it initializes a new copy of your application first, then the other workers reload by forking from this new worker already containing the new preloaded application.</li>
</ol>
<p>This allows a phased restart to complete as quickly as a hot restart (<code>SIGUSR2</code> or <code>pumactl restart</code>), while still minimizing downtime by staggering the restart across cluster workers.</p>
<ol>
<li><strong>‚ÄòRefork‚Äô for additional copy-on-write improvements in running applications.</strong> Fork-worker mode introduces a new <code>refork</code> command that re-loads all nonzero workers by re-forking them from worker 0.</li>
</ol>
<p>This command can potentially improve memory utilization in large or complex applications that don‚Äôt fully pre-initialize on startup, because the re-forked workers can share copy-on-write memory with a worker that has been running for a while and serving requests.</p>
<p>You can trigger a refork by sending the cluster the <code>SIGURG</code> signal or running the <code>pumactl refork</code> command at any time. A refork will also automatically trigger once, after a certain number of requests have been processed by worker 0 (default 1000). To configure the number of requests before the auto-refork, pass a positive integer argument to <code>fork_worker</code> (e.g., <code>fork_worker 1000</code>), or <code>0</code> to disable.</p>
<h3 id="nakayoshi_fork">nakayoshi_fork</h3>
<p>Add <code>nakayoshi_fork</code> to your puma.rb config to try this option.</p>
<p>Nakayoshi means ‚Äúfriendly‚Äù, so this is a ‚Äúfriendly fork‚Äù. The concept was <a href="https://github.com/ko1/nakayoshi_fork">originally implemented by MRI supercontributor Koichi Sasada</a> in a gem, but we wanted to see if we could bring a simpler version into Puma.</p>
<p>Basically, we just do the following before forking a worker:</p>
<div><div><pre><code><span>4</span><span>.</span><span>times</span> <span>{</span> <span>GC</span><span>.</span><span>start</span> <span>}</span>
<span>GC</span><span>.</span><span>compact</span> <span># if available</span>
</code></pre></div></div>
<p>The concept here is that we‚Äôre trying to get as clean of a Ruby heap as possible before forking to maximize <a href="https://en.wikipedia.org/wiki/Copy-on-write">copy-on-write</a> benefits. That should, in turn, lead to reduced memory usage.</p>
<h2 id="other-new-features">Other New Features</h2>
<p>A few more things in the grab-bag:</p>
<ul>
<li>You can now compile Puma on machines where OpenSSL is not installed.</li>
<li>There is now a <code>thread-backtraces</code> command in pumactl to print all active threads backtraces. This has been available via SIGINFO on Darwin, but now it works on Linux via this new command.</li>
<li><code>Puma.stats</code> now has a <code>requests_count</code> counter.</li>
<li><code>lowlevel_error_handler</code> got some enhancements - we also pass the status code to it now.</li>
<li>Phased restarts and worker timeouts should be faster.</li>
<li><code>Puma.stats_hash</code> provides Puma statistics as a hash, rather than as JSON.</li>
</ul>
<h2 id="loads-of-bugfixes">Loads of Bugfixes</h2>
<p>The number of bugfixes in this release is pretty huge. Here‚Äôs the most important ones:</p>
<ul>
<li>Shutdowns should be more reliable.</li>
<li>Issues surrounding socket closing on shutdown have been resolved.</li>
<li>Fixed some concurrency ‚Ä¶</li></ul></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html">https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html</a></em></p>]]>
            </description>
            <link>https://www.speedshop.co/2020/09/17/we-made-puma-faster-with-sleep-sort.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539706</guid>
            <pubDate>Mon, 21 Sep 2020 04:10:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Do Musical Scales Have Certain Numbers of Notes?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24539480">thread link</a>) | @lucaspauker
<br/>
September 20, 2020 | https://www.lucaspauker.ml/articles/16 | <a href="https://web.archive.org/web/*/https://www.lucaspauker.ml/articles/16">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.lucaspauker.ml/articles/16</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539480</guid>
            <pubDate>Mon, 21 Sep 2020 03:24:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pinephone Postmarket OS CE Review]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539466">thread link</a>) | @georgeoliver
<br/>
September 20, 2020 | https://portal.mozz.us/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini | <a href="https://web.archive.org/web/*/https://portal.mozz.us/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div><p><a href="https://portal.mozz.us/gemini/tanelorn.city/~vidak">Return to EPICURICS Index Page</a></p>

<p>
The version of the Pinephone that I am reviewing is the postmarketOS
Community Edition (CE).

</p>
<h2>First Impressions</h2>
<p>
My first impression of the Pinephone after I unboxed the device was
very good. I enjoyed the feeling of the weight of the Pinephone in my
hand, and the overall build quality of the system still impresses
me. It is my opinion that the PINE64 hardware development and
manufacturing process is very solid. For what I paid, which was about
AUD$200 all up, I believe I have received hardware that is superior
than a phone that I could have bought from a retail store in my city
for the same price.

The screen is glossy, and the capacitive touch screen (this is a
question fellow smolnet citizen Shufei wanted answered in some detail)
responds well.

I was, however, disappointed with the stock postmarketOS software that
came flashed on the eMMC. The Software Centre was a particular
disappointment. It, by default, only showed the currently installed
software, and it was not possible to browse any other software which
was not already installed.

Also, the camera application that came installed by default, 'Cheese',
did not allow the camera to function.

I attempted to install Plasma Mobile using the command line, following
these instructions:

</p>
<p><a href="https://wiki.postmarketos.org/wiki/Plasma_Mobile">https://wiki.postmarketos.org/wiki/Plasma_Mobile</a></p><p>
But it ended up completely wrecking the function of the
phone. Installing the package that the wiki article recommended did
not update LightDM, and I ended up soft-bricking the phone while
fiddling with the LightDM configuration in order to stop the phone
from (still) booting into phosh, and not Plasma Mobile.

It also disabled cell data functionality, and ended up messing with a
lot of the guts of the Linux installation. So I do not recommend
attempting to switch to Plasma Mobile on the Pinephone from inside an
already-existing postmarketOS installation. I recommend getting a
Plasma Mobile system image, and flashing that from the start if you
wish to experiment with different user interfaces.

</p>
<h2>Linux Software Distributions</h2>
<p>
There is a great many Linux distributions available for the
Pinephone. The following link to the PINE64 wiki contains a
more-or-less exhaustive list of each of them:

</p>
<p><a href="https://wiki.pine64.org/index.php/PinePhone_Software_Releases">https://wiki.pine64.org/index.php/PinePhone_Software_Releases</a></p><p>
The Linux distributions that I tested out are:

</p>
<h3>postmarketOS (phosh UI)</h3>
<p>
I enjoyed this system image because it came with a wizard for
NetworkManager which enabled me to make sure cell data worked most
consistently. However, the power consumption of this image was
prohibitively high, and it caused the phone to run very hot. When the
battery was at 10% charge, rebooting the phone would cause the last of
this precious charge to be used up, and the phone would run completely
out of power.

</p>
<h3>postmarketOS (GNOME)</h3>
<p>
This image was basically a desktop UI, and did not have many, if any
mobile UI configurations present. It was rather fun to see the
Pinephone boot into a full GNOME desktop environment. I imagine if you
had a bigger screen connected to the Pinephone, you would be quite
impressed with what this phone could pull off.

</p>
<h3>postmarketOS (Plasma Mobile)</h3>
<p>
Slow and buggy, really.

</p>
<h3>Ubuntu Touch</h3>
<p>
This distribution has a major problem at the moment: the unlock/power
button is not properly debounced, and it makes it virtually impossible
sometimes to unlock the phone. Otherwise, this distribution is very,
very impressive, and I would actually like to switch to it, because
cell data works best for Optus on Ubuntu Touch.

This distribution could indeed be a daily driver for someone if they
could sort out the button debouncing problem.

</p>
<h3>SailfishOS</h3>
<p>
This is a Linux-based operating system that uses a closed-source
UI. It was so glossy and locked-down in terms of configurability that
I was turned off using it. It has a great tutorial for teaching you
the gestures you need to learn in order to use the touch screen.

I did like the fact that it organised all your contacts and messages
into interesting metaphors, and it ran reasonably quickly, but there
is no way of configuring the UI beyond what how it arrives to you.

</p>
<h3>Manjaro ARM</h3>
<p>
This image was fairly slow to run on the Pinephone, but in my opinion
it is the absolute best demonstration of KDE Plasma Mobile. It was
very visually impressive, and the menus were full-featured and
informative. It did not, however, support phone calls or SMS.

</p>
<h3>Mobian</h3>
<p>
This is my current choice of Linux distribution for the phone. It has
a software centre full of different and interesting programs,
including Transmission (torrent client) and GIMP (!!! I have yet to
install this to see how or if it works well, but the fact that it is
possible to at least _run_ GIMP in some capacity on the Pinephone
would like like running Adobe Photoshop on a Samsung Galaxy).

This is merely anecdotal, and I have not performed any scientific
tests to work out if this is true, but the latest September 2020
stable release of this image seems to have the best power settings of
any of the other distributions for this phone.

I hesitate to give an estimate of exactly how long this phone will
last on a single charge, given normal use. But, I finished charging
this phone at 0700HRS this morning, and, with no other charge, it is now
on 50% charge, and the current time is 1230HRS. I think I have put the
phone through a little heavier use than I do normally, this morning,
however.

Virtually all of the functions of the phone are enabled without any
configuration in Mobian.

</p>
<h3>Multi-boot Image</h3>
<p>
I highly recommend flashing the following system image to an SD card
so you can try out all the major Linux distributions for your phone:

</p>
<p><a href="https://xnux.eu/p-boot-demo/">https://xnux.eu/p-boot-demo/</a></p><p>
It contains 13 different distributions, and it is trivial to switch
between each of them through the main boot menu.

</p>
<h2>Mobile Phone Calls</h2>
<p>
I have rung a few people on the phone, and, assuming you have a
distribution flashed on the phone that supports phonecalls (like the
one I am currently using, Mobian), there should be absolutely no issue
using this fundamental feature of the Pinephone.

</p>
<h2>Cell Data</h2>
<p>
For the most part, the cell data modem in the Pinephone works well for
me. There is a fairly large problem with my use of the Pinephone with
its cell data, however.

I live in Australia, and the mobile phone carrier that I use is
Optus. The setup(s) that work for me with my Pinephone, running
Mobian, is:

</p>
<blockquote> Name: 1
 APN: yesinternet</blockquote>

<blockquote> Name: Optus Yes Internet
 APN: yesinternet</blockquote>
<p>
After about 3 or 4 hours after I boot up the phone, the cell data
stops working, and the Network Mode in the 'Mobile' submenu of
Settings changes from

</p>
<blockquote> 2G, 3G, 4G (Preferred)</blockquote>
<p>
to just

</p>
<blockquote> 2G, 3G, 4G</blockquote>
<p>
This issue is fixed for another 3 or 4 hours by rebooting the phone,
which does not actually take that long (about 10 to 15 seconds), but
it is a hassle to be cut off from mobile data if you forget about your
phone.

These two links help shed light on exactly what is happening with the
Pinephone when it tries to remain connected to the Optus network:

</p>
<p><a href="https://forum.gl-inet.com/t/using-rooter-on-the-gl-x750/8983/4">https://forum.gl-inet.com/t/using-rooter-on-the-gl-x750/8983/4</a></p><p>
(A forum post. Someone using a similar, if not identical mobile data
modem as the Pinephone in Australia, with the Optus network)

</p>
<p><a href="https://gist.github.com/Juul/e42c5b6ec71ce11923526b36d3f1cb2c">https://gist.github.com/Juul/e42c5b6ec71ce11923526b36d3f1cb2c</a></p><p>
(A Github post which familiarises the reader with the concepts and
command line tools involved in using Linux with 4G LTE modems on
Debian and Ubuntu)

The issue with the Pinephone is explained the forum thread (the first
link). The issue is that there are at least two modes for the Quectel
EG25 modem that the Pinephone uses, only one of which seems to be
supported by Optus. The two modes are QMI and MBIM. Optus, I assume,
only supoprts MBIM:

https://forum.gl-inet.com/t/using-rooter-on-the-gl-x750/8983/8 Forum post

The relevant sentence from the above forum post is:

</p>
<blockquote> Also, MBIM is buggy for Quectel modems even in OpenWRT 19.07
 (snapshot), mostly sometimes modem ‚Äúfreezes‚Äù and I need to restart.</blockquote>
<p>
The issue that the original poster was having with this modem is
explained in the same post:

</p>
<blockquote> The reason is exactly this: user.notice Create Connection:
 WDA-GET-DATA-FORMAT is ‚Äúraw-ip‚Äù</blockquote>

<blockquote> When you use a modem over QMI and the data-format is ‚Äúraw-ip‚Äù the
 system needs to know that modem is on ‚Äúraw-ip‚Äù, without that,
 interface doesn‚Äôt get an IP address.</blockquote>
<p>
When I was using the postmarketOS version of phosh, the NetworkManager
program started a wizard which contained a lot more options about how
to configure the Pinephone's Quectel LTE modem. One activity I would
like to carry out is learning how to start this wizard from within
Mobian. I wish to keep Mobian as the primary operating system for the
Pinephone just because its Software Centre has such an amazing
quantity and quality of different programs, and the postmarketOS
Centre requires you to manually search for the programs you want, in
order for them to show up at all inside the Centre.

</p>
<h2>GPS</h2>
<p>
The GPS seems to function perfectly fine inside the default Mobian
maps program. It can show you, with reasonable accuracy (although not
to the same accuracy as, say, a proprietary maps application) exactly
where you are. I think the accuracy of the GPS on the Pinephone is
somewhere in the region of 10 square metres.

The main issue with the GPS, however, is that it does not currently
link in with the Perth public transport system. I cannot use this
program to plan public transport journeys. But I believe I should be
able to take care of this problem by either (a) adding data to
OpenStreetMap, or (b) using a web browser, where I should be able to
access the Transperth public transport trip planner webpage.

</p>
<h2>Text Messages (SMS)</h2>
<p>
This is a feature that works without a hitch in Mobian. I was
surprised to see myself receiving SMS messages unexpectedly from
friends as I left the phone in my pocket and forgot about it.

</p>
<h2>Camera</h2>
<p>
The camera application in Mobian works. However it has a ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://portal.mozz.us/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini">https://portal.mozz.us/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini</a></em></p>]]>
            </description>
            <link>https://portal.mozz.us/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539466</guid>
            <pubDate>Mon, 21 Sep 2020 03:20:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Doing Things]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539262">thread link</a>) | @luu
<br/>
September 20, 2020 | https://www.benkuhn.net/actually-doing-things/ | <a href="https://web.archive.org/web/*/https://www.benkuhn.net/actually-doing-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>I‚Äôve written about <a href="http://www.benkuhn.net/exploration" target="_blank">exploration and exploitation</a> before, but I realized recently that this may be more important than I thought. Talking to a friend about what different people thought about what role effort vs. innate ability played in success, I went down my list of successes and ended up realizing that the only ‚Äúdifficult‚Äù part (in the sense of ‚Äúpart I was closest to not doing‚Äù) was actually getting up and doing things outside my normal routine.</p><p>For example, here‚Äôs a list of the things that have led to my biggest wins so far:</p><ul><li>trying out contra dancing in middle school</li><li>joining <a href="http://harvardhip.org/" target="_blank">Harvard High-Impact Philanthropy</a></li><li>interning at Fog Creek Software</li><li>being president of HHIP</li><li>starting <a href="http://harvard-class.com/" target="_blank">Harvard Class</a></li><li>starting a blog</li><li>going to a <a href="http://rationality.org/" target="_blank">CFAR</a> workshop</li><li>going to the <a href="http://www.effectivealtruismsummit.com/" target="_blank">EA summit</a></li><li>running an <a href="http://harvardhip.org/events/" target="_blank">EA speaker series</a> this semester</li></ul><p>I‚Äôd say these were about 25% effort, 25% ability, and 50% ‚Äúluck‚Äù from doing lots of things outside my normal experience.</p><p>At a guess, the reason doing lots of different things is so important is that it simply exposes you to more potential random ‚Äústrokes of luck‚Äù. When you do a thing, often lots of the exposure to luck comes from the first relatively small bit of effort you put in. For instance, if I turned out not to like contra dancing, I could have stopped going, so it was a pretty small cost for a large potential upside.</p><p>This stuff compounds, too. The more you do stuff, the more ‚Äúluck‚Äù you get, which helps you do more stuff, etc. In other words, it seems like the main factor in success is a <a href="http://en.wikipedia.org/wiki/Preferential_attachment" target="_blank">preferential attachment</a> process, which explains why there‚Äôs such a power-law distribution and why similar people often end up with such wildly different outcomes: relatively small differences in initial conditions, caused by noise, can blow up to huge effects later.</p><p>Notes on this theory:</p><ol><li>Some predictions: people who experience more different things will ceteris paribus succeed more. For example, for college graduates, life outcomes later will be correlated with diversity of the things they did over their summers. Success might be correlated with number of different places you lived growing up (there are lots of confounders here of course). A supporting piece of evidence here is <a href="http://www.benkuhn.net/satvik" target="_blank">Satvik‚Äôs assertion</a> to me that ‚ÄúStatistically, CEOs of large companies tend to have worked in multiple areas during their early career at a rate far higher than baseline.‚Äù</li><li>I‚Äôd guess that the preferential attachment process starts gaining significance almost as soon as the person starts getting agency, which can be as early as, I don‚Äôt know, three or four? There‚Äôs a famous story about Elon Musk when he was maybe six years old and loved to go visit his cousin who lived across town. One day he was grounded and his parents wouldn‚Äôt take him to visit his cousin, so he escaped and wandered around the town himself until he found his cousin‚Äôs house. That‚Äôs the kind of doing-things-ness that can compound ridiculously.</li><li>I think I‚Äôm probably better (comparatively) at Actually Doing Things than I am at putting in effort, but that even still, the returns from spending more attention on Actually Doing Things are probably higher than spending that attention on putting in effort. Unfortunately, this is hard to convince myself of in a way that actually compels me to act, for reasons I‚Äôve mentioned <a href="http://www.benkuhn.net/exploration" target="_blank">previously</a>.</li><li>If this theory is true, it has some implications for my behavior: I should be spending less time on classes, taking more variety of classes (this will be easier in the future as I‚Äôve basically finished my major), try to get rid of my most time-consuming commitments (e.g. get someone else to run HHIP next year), and generally say ‚Äúyes‚Äù to more things. <del>The college</del> Harvard‚Äôs environment is set up pretty poorly for this, inasmuch as I have to spend 20-30 hours a week thinking about math.</li></ol></article></div>]]>
            </description>
            <link>https://www.benkuhn.net/actually-doing-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539262</guid>
            <pubDate>Mon, 21 Sep 2020 02:40:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding the Transformer Architecture]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24539169">thread link</a>) | @rahulagwl
<br/>
September 20, 2020 | https://mlwhiz.com/blog/2020/09/20/transformers/ | <a href="https://web.archive.org/web/*/https://mlwhiz.com/blog/2020/09/20/transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Transformers have become the defacto standard for NLP tasks nowadays.</p>
<p>While the Transformer architecture was introduced with NLP, they are now being used in Computer Vision and to generate music as well. I am sure you would all have heard about the GPT3 Transformer and its applications thereof.</p>
<p><em><strong>But all these things aside, they are still hard to understand as ever.</strong></em></p>
<p>It has taken me multiple readings through the Google research <a href="https://arxiv.org/pdf/1706.03762.pdf">paper</a> that first introduced transformers along with just so many blog posts to really understand how a transformer works.</p>
<p>So, I thought of putting the whole idea down in as simple words as possible and with some very basic Math and some puns as I am a proponent of having some fun while learning. I will try to keep both the jargon and the technicality to a minimum, yet it is such a topic that I could only do so much. And my goal is to make the reader understand even the most gory details of Transformer by the end of this post.</p>
<p><em><strong>Also, this is officially my longest post both in terms of time taken to write it as well as length of the post. Hence, I will advice you to Grab A Coffee.</strong></em> ‚òïÔ∏è</p>
<p>So, here goes ‚Äî This post will be a highly conversational one and it is about ‚Äú<em><strong>Decoding The Transformer‚Äù.</strong></em></p>
<hr>
<p><em><strong>Q: So, Why should I even understand Transformer?</strong></em></p>
<p>In the past, the LSTM and GRU architecture(as explained here in my past <a href="https://towardsdatascience.com/nlp-learning-series-part-3-attention-cnn-and-what-not-for-text-classification-4313930ed566">post</a> on NLP) along with attention mechanism used to be the State of the Art Approach for Language modeling problems (put very simply, predict the next word) and Translation systems. But, the main problem with these architectures is that they are recurrent in nature, and the runtime increases as the sequence length increases. That is, these architectures take a sentence and process each word in a <em><strong>sequential</strong></em> way, and hence with the increase in sentence length the whole runtime increases.</p>
<p>Transformer, a model architecture first explained in the paper Attention is all you need, lets go of this recurrence and instead relies entirely on an attention mechanism to draw global dependencies between input and output. And that makes it FAST.</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/0.png" alt="<a href=&quot;https://arxiv.org/pdf/1706.03762.pdf&quot;>Source</a>">
<figcaption>From the Paper</figcaption>
</figure>

<p>This is the picture of the full transformer as taken from the paper. And, it surely is intimidating. So, I will aim to demystify it in this post by going through each individual piece. So read ahead.</p>
<hr>
<h2 id="the-big-picture">The Big Picture</h2>
<p><em><strong>Q: That sounds interesting. So, what does a transformer do exactly?</strong></em></p>
<p>Essentially, a transformer can perform almost any NLP task. It can be used for language modeling, Translation, or Classification as required, and it does it fast by removing the sequential nature of the problem. So, the transformer in a machine translation application would convert one language to another, or for a classification problem will provide the class probability using an appropriate output layer.</p>
<p>It all will depend on the final outputs layer for the network but, the Transformer basic structure will remain quite the same for any task. For this particular post, I will be continuing with the machine translation example.</p>
<p>So from a very high place, this is how the transformer looks for a translation task. It takes as input an English sentence and returns a German sentence.</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/1.png" alt="Transformer for Translation">
<figcaption>Transformer for Translation</figcaption>
</figure>

<hr>
<h2 id="the-building-blocks">The Building Blocks</h2>
<p><em><strong>Q: That was too basic. <em>üòé</em> Can you expand on it?</strong></em></p>
<p>Okay, just remember in the end, you asked for it. Let‚Äôs go a little deeper and try to understand what a transformer is composed of.</p>
<p>So, a transformer is essentially composed of a stack of encoder and decoder layers. The role of an encoder layer is to encode the English sentence into a numerical form using the attention mechanism, while the decoder aims to use the encoded information from the encoder layers to give the German translation for the particular English sentence.</p>
<p>In the figure below, the transformer is given as input an English sentence, which gets encoded using 6 encoder layers. The output from the final encoder layer then goes to each decoder layer to translate English to German.</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/2.png" alt="Data Flow in a Transformer">
<figcaption>Data Flow in a Transformer</figcaption>
</figure>

<hr>
<h2 id="1-encoder-architecture">1. Encoder Architecture</h2>
<p><em><strong>Q: That‚Äôs alright but, how does an encoder stack encode an English sentence exactly?</strong></em></p>
<p>Patience, I am getting to it. So, as I said the encoder stack contains six encoder layers on top of each other(As given in the paper, but the future versions of transformers use even more layers). And each encoder in the stack has essentially two main layers:</p>
<ul>
<li>
<p><strong>a multi-head self-attention Layer, and</strong></p>
</li>
<li>
<p><strong>a position-wise fully connected feed-forward network</strong></p>
</li>
</ul>
<figure>
<img src="https://mlwhiz.com/images/transformers/3.png" alt="Very basic encoder Layer">
<figcaption>Very basic encoder Layer</figcaption>
</figure>

<p>They are a mouthful. Right? Don‚Äôt lose me yet as I will explain both of them in the coming sections. Right now, just remember that the encoder layer incorporates attention and a position-wise feed-forward network.</p>
<p><em><strong>Q: But, how does this layer expect its inputs to be?</strong></em></p>
<p>This layer expects its inputs to be of the shape <code>SxD</code> (as shown in the figure below) where <code>S</code> is the source sentence(English Sentence) length, and <code>D</code> is the dimension of the embedding whose weights can be trained with the network. In this post, we will be using D as 512 by default throughout. While S will be the maximum length of sentence in a batch. So it normally changes with batches.</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/4.png" alt="Encoder ‚Äî Input and Output shapes are the same">
<figcaption>Encoder ‚Äî Input and Output shapes are the same</figcaption>
</figure>

<p>And what about the outputs of this layer? Remember that the encoder layers are stacked on top of each other. So, we want to be able to have an output of the same dimension as the input so that the output can flow easily into the next encoder. So the output is also of the shape, <code>SxD</code>.</p>
<p><em><strong>Q: Enough about the sizes talk, I understand what goes in and what goes out but what actually happens in the Encoder layer?</strong></em></p>
<p>Okay, let‚Äôs go through the attention layer and the feedforward layer one by one:</p>
<h3 id="a-self-attention-layer">A) Self-attention layer</h3>
<figure>
<img src="https://mlwhiz.com/images/transformers/5.png" alt="How Self-Attention Works">
<figcaption>How Self-Attention Works</figcaption>
</figure>

<p>The above figure must look daunting but it is easy to understand. So just stay with me here.</p>
<p>Deep Learning is essentially nothing but a lot of matrix calculations and what we are essentially doing in this layer is a lot of matrix calculations intelligently. The self-attention layer initializes with 3 weight matrices ‚Äî Query($W_q$), Key($W_k$), and Value($W_v$). Each of these matrices has a size of (<code>Dxd</code>) where d is taken as 64 in the paper. The weights for these matrices will be trained when we train the model.</p>
<p>In the first calculation(Calc 1 in the figure), we create matrices Q, K, and V by multiplying the input with the respective Query, Key, and Value matrix.</p>
<p>Till now it is trivial and shouldn‚Äôt make any sense, but it is at the second calculation where it gets interesting. Let‚Äôs try to understand the output of the softmax function. We start by multiplying the Q and K·µÄ matrix to get a matrix of size (<code>SxS</code>) and divide it by the scalar ‚àöd. We then take a softmax to make the rows sum to one.</p>
<p>Intuitively, we can think of the resultant <code>SxS</code> matrix as the contribution of each word in another word. For example, it might look like this:</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/6.png" alt="Softmax(QxKt/sqrt(d))">
<figcaption>After Softmax</figcaption>
</figure>

<p>As you can see the diagonal entries are big. This is because the word contribution to itself is high. That is reasonable. But we can see here that the word ‚Äúquick‚Äù devolves into ‚Äúquick‚Äù and ‚Äúfox‚Äù and the word ‚Äúbrown‚Äù also devolves into ‚Äúbrown‚Äù and ‚Äúfox‚Äù. That intuitively helps us to say that both the words ‚Äî ‚Äúquick‚Äù and ‚Äúbrown‚Äù each refers to the ‚Äúfox‚Äù.</p>
<p>Once we have this SxS matrix with contributions we multiply this matrix by the Value matrix(Sxd) of the sentence and it gives us back a matrix of shape Sxd(4x64). So, what the operation actually does is that it replaces the embedding vector of a word like ‚Äúquick‚Äù with say .75 x (quick embedding) and .2x(fox embedding) and thus now the resultant output for the word ‚Äúquick‚Äù has attention embedded in itself.</p>
<p>Note that the output of this layer has the dimension (Sxd) and before we get done with the whole encoder we need to change it back to D=512 as we need the output of this encoder as the input of another encoder.</p>
<p><em><strong>Q: But, you called this layer Multi-head self-attention Layer. What is the multi-head?</strong></em></p>
<p>Okay, my bad but in my defense, I was just getting to that.</p>
<p>It‚Äôs called a multi-head because we use many such self-attention layers in parallel. That is, we have many self-attention layers stacked on top of each other. The number of attention layers,h, is kept as 8 in the paper. So the input X goes through many self-attention layers parallelly, each of which gives a z matrix of shape (Sxd) = 4x64. We concatenate these 8(h) matrices and again apply a final output linear layer, $W_o$, of size DxD.</p>
<p>What size do we get? For the concatenate operation we get a size of SxD(4x(64x8) = 4x512). And multiplying this output by $W_o$, we get the final output Z with the shape of SxD(4x512) as desired.</p>
<p>Also, note the relation between h,d, and D i.e. h x d = D</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/7.png" alt="The Full multi-headed self-attention Layer">
<figcaption>The Full multi-headed self-attention Layer</figcaption>
</figure>

<p>Thus, we finally get the output Z of shape 4x512 as intended. But before it goes into another encoder we pass it through a Feed-Forward Network.</p>
<h3 id="b-position-wise-feed-forward-network">B) Position-wise feed-forward network</h3>
<p>Once we understand the multi-headed attention layer, the Feed-forward network is actually pretty easy to understand. It is just a combination of various linear and dropout layers on the output Z. Consequentially, it is again just a lot of Matrix multiplication here.</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/8.png" alt="Each word goes into the feed-forward network.">
<figcaption>Each word goes into the feed-forward network</figcaption>
</figure>

<p>The feed-forward network applies itself to each position in the output Z parallelly(Each position can be thought of as a word) and hence the name Position-wise feed-forward network. The feed-forward network also shares weight, so that the length of the source sentence doesn‚Äôt matter(Also, if it didn‚Äôt share weights, we would have to initialize a lot of such networks based on max source sentence length and that is not feasible)</p>
<figure>
<img src="https://mlwhiz.com/images/transformers/9.png" alt="It is actually just a linear layer that gets applied to each position(or word)">
<figcaption>It is actually just a linear layer that gets applied to each position(or word)</figcaption>
</figure>

<p>With this, we near an okayish understanding of the encoder part of the Transformer.</p>
<p><em><strong>Q: Hey, I was just going through the picture in the paper, and the encoder stack has something ‚Ä¶</strong></em></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mlwhiz.com/blog/2020/09/20/transformers/">https://mlwhiz.com/blog/2020/09/20/transformers/</a></em></p>]]>
            </description>
            <link>https://mlwhiz.com/blog/2020/09/20/transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24539169</guid>
            <pubDate>Mon, 21 Sep 2020 02:23:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is the Fediverse? Briefly]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24538962">thread link</a>) | @torresjrjr
<br/>
September 20, 2020 | https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse | <a href="https://web.archive.org/web/*/https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>

<header id="Title">
  
  
  <time>2020-07-20</time>
</header>

<p><small> See also: <a href="https://torresjrjr.com/archive/2020-07-19-guide-to-the-fediverse"><em>full guide version</em></a> </small></p>
<p>Say you have a Twitter account üê¶, <code>@alice</code>. Your friends Bob and Charlie have Twitter accounts too, <code>@bob</code> and <code>@charlie</code>. You can talk seamlessly to each other, but <em>only</em> on <code>twitter.com</code> and nowhere else. Bad.</p>
<p>Now, you have an email account üìß, <code>alice@gmail.com</code>. Your friends Bob and Charlie also have email accounts, <code>bob@hotmail.com</code> and <code>charlie@yahoo.com</code>. You all can talk from different websites. Great, but email sucks as social media.</p>
<p>Now, imagine this. You have a Fediverse account üåü, <code>@alice@tweet.com</code>. Your friends Bob and Charlie also have Fediverse accounts, <code>@bob@toot.net</code> and <code>@charlie@social.org</code>. <strong>You all can talk seamlessly like Twitter, from anywhere like email.</strong> That‚Äôs the Fediverse, and it‚Äôs amazing.</p>
<figure>
<img src="https://upload.wikimedia.org/wikipedia/commons/9/93/Fediverse_logo_proposal.svg" height="128" alt="Unofficial Fediverse logo">
</figure>
<h2 id="what-does-it-look-like">What does it look like?</h2>
<p>Like this. Microblogging, video sharing, photo sharing‚Ä¶ And these Fediverse websites are <strong>all interconnected</strong>.</p>
<figure>
<img src="https://i.imgur.com/MDoyecc.png" alt="Mastodon, Pleroma, and PeerTube. All interconnected.">
</figure>
<p>Here‚Äôs an example of Fediverse accounts ‚Äútweeting‚Äù to each other across different websites. Talk to anyone, anywhere.</p>
<figure>
<img src="https://i.imgur.com/zdG7B0k.png" alt="A post and reply on Mastodon. Notice the handles in red.">
</figure>
<p>No more being tied down to a single place which abuses their power or your data. You decide were you reside.</p>
<h2 id="how-do-i-join">How do I join?</h2>
<p>Easiest way is to sign up to a <a href="https://joinmastodon.org/">Mastodon</a> instance (website/server) of your choice. If you‚Äôre feeling adventurous, browse <a href="https://fediverse.network/">Fediverse.network</a> for other Fediverse instances, including non-Mastodon ones. Remember, <strong>you can talk to anyone anywhere regardless of where they are on the Fediverse!</strong></p>
<figure>
<img src="https://i.imgur.com/EIlnJXc.png" alt="Pick a Mastodon instance and browse the Fediverse.">
</figure>
<h2 id="is-there-more-than-just-microblogging">Is there more than just microblogging?</h2>
<p>Yes, plenty! Check out <a href="https://fediverse.party/">Fediverse.party</a> for a cool interactive guide. The Fediverse is a whole family of miraculously <strong>interconnected</strong> (federated) services.</p>
<ul>
<li><a href="https://joinmastodon.org/">Mastodon</a> - Microblogging. The most popular service and Twitter alt.</li>
<li><a href="https://pleroma.com/">Pleroma</a> - Microblogging. A more lightweight, customisable alt.</li>
<li><a href="https://joinpeertube.org/">PeerTube</a> - Video streaming. YouTube alt.</li>
<li><a href="https://funkwhale.audio/">Funkwhale</a> - Audio streaming. Spotify alt.</li>
<li><a href="https://beta.joinpixelfed.org/">Pixelfed</a> - Photo sharing. Instagram alt.</li>
<li><a href="https://friendi.ca/">Friendica</a> - Microblogging+. Facebook alt.</li>
<li><a href="https://write.as/">Write.as</a> - Federated blogging.</li>
<li><a href="https://joinplu.me/">Plume</a> - Federated blogging.</li>
<li>And many more.</li>
</ul>
<h2 id="why-should-i-join">Why should I join?</h2>
<p>It‚Äôs no surprise nobody trust the big monster tech giants (Twitter, Facebook, YouTube, etc.) anymore. Why wait until the next case of them abusing your data, keeping permanent records, censoring arbitrarily, and manipulating your feed, when there is a better, thriving alternative? There‚Äôs no need to be kept shackled within their walled gardens.</p>
<figure>
<img src="https://i.imgur.com/qIttu4i.png" alt="Greedy big tech profiting from your ignorance.">
</figure>
<p>The Fediverse offers real internet <em>freedom</em>, and it‚Äôs come a long way since it‚Äôs beginnings. Sometimes you don‚Äôt value something until it‚Äôs truly gone. So don‚Äôt wait! Don‚Äôt miss out on this special internet subculture. <a href="https://joinmastodon.org/">Join</a> one of the thousands of thriving communities and get talking. It won‚Äôt hurt to sign up. We‚Äôre all waiting here for you!</p>
<p>Read <a href="https://write.as/eloquence/why-mastodon-and-the-fediverse-are-doomed-to-fail">eloquence‚Äôs article</a> for a sober take.</p>
<hr>
<p>Want to learn more? I wrote a simple <a href="https://torresjrjr.com/archive/2020-07-19-guide-to-the-fediverse"><em>Guide to the Fediverse</em></a>.</p>
<p>Or watch this great explanatory video.</p>

<p>Here‚Äôs a proper definition of the Fediverse.</p>
<blockquote>
<p>The <strong>Fediverse</strong> (federated + universe) is the decentralised social media network of federated (independent &amp; interconnected) servers, communicating via open protocols, especially ActivityPub.<br>
‚Äì <a href="https://en.wiktionary.org/wiki/Fediverse"><em>Wiktionary</em></a>, modified.</p>
</blockquote>
<p>OK now, go join the Fediverse, and enjoy internet freedom!</p>
<hr>
<p><small> Comments: <a href="https://qoto.org/@torresjrjr/104865046295137278">Fediverse</a></small></p><small>
<p><a href="https://torresjrjr.com/links#contact">Contribute</a>. Note, this article aims to explain the gist of the Fediverse to people unfamiliar with technology, not to be a comprehensive or technical overview.</p>
</small><p><small><em>Last updated: 2020 September 21th</em> </small></p>

  </article>
</div></div>]]>
            </description>
            <link>https://torresjrjr.com/archive/2020-07-20-what-is-the-fediverse</link>
            <guid isPermaLink="false">hacker-news-small-sites-24538962</guid>
            <pubDate>Mon, 21 Sep 2020 01:38:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Commons ‚Äì Simple mini-forums for communities]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24538774">thread link</a>) | @kthez
<br/>
September 20, 2020 | https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23 | <a href="https://web.archive.org/web/*/https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.startcommons.com/634fcf24-7448-4ac3-b393-35f52699dc23</link>
            <guid isPermaLink="false">hacker-news-small-sites-24538774</guid>
            <pubDate>Mon, 21 Sep 2020 00:58:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Are Trademark Classes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24538359">thread link</a>) | @FoxtelMan
<br/>
September 20, 2020 | https://www.legallyinsightful.com/2020/09/what-are-trademark-classes.html | <a href="https://web.archive.org/web/*/https://www.legallyinsightful.com/2020/09/what-are-trademark-classes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-2784187417912761080">
<p>&nbsp;<span>What are Trademark Classes</span></p><p><span data-preserver-spaces="true">When you are registering a trademark, it is essential to think about what the kind of classes of object/services you want your trademark to apply to.  The World Intellectual Property Organization (WIPO) has designated 45 classes in which you can register a trademark. Classes 1-34 are for goods that you may produce (like food or technology) and classes 35-45 are for services (like legal or medical services). This is known as the Nice International Classification of Goods and Services and has been the method of classifying what areas a trademark is registered in over 85 countries, including Australia.&nbsp;</span></p><p><span data-preserver-spaces="true">How to pick a class?</span></p><p><span data-preserver-spaces="true">When you a completing a trademark application, you must determine precisely what bounds you wish you apply to your trademark. An application for a trademark is likely to be rejected if you set the bounds to be too big and ineffective if you set the bounds to be too small. There is a sweet spot which you must find. But it is essential to keep in mind that trademark protection extends only so far as is specified in the application if your trademark application includes a particular class or service you are not necessarily guaranteed protection for every item in that class or service.&nbsp;&nbsp;</span></p><p><strong>What are the Classes</strong></p><p><strong>Trademark Classes 1.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Chemicals used in industry, science and photography, as well as in agriculture, horticulture and forestry; unprocessed artificial resins, unprocessed plastics; manures; fire extinguishing compositions; tempering and soldering preparations; chemical substances for preserving foodstuffs; tanning substances; adhesives used in industry.</span></p><p><strong>Trademark Classes 2.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Paints, varnishes, lacquers; preservatives against rust and against deterioration of wood; colourants; mordants; raw natural resins; metals in foil and powder form for painters, decorators, printers and artists.</span></p><p><strong>Trademark Classes 3.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Bleaching preparations and other substances for laundry use; cleaning, polishing, scouring and abrasive preparations; soaps; perfumery, essential oils, cosmetics, hair lotions; dentifrices.</span></p><p><strong>Trademark Classes 4.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Industrial oils and greases; lubricants; dust absorbing, wetting and binding compositions; fuels (including motor spirit) and illuminants; candles and wicks for lighting.</span></p><p><strong>Trademark Classes 5.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Pharmaceutical and veterinary preparations; sanitary preparations for medical purposes; dietetic food and substances adapted for medical or veterinary use, food for babies; dietary supplements for humans and animals; plasters, materials for dressings; material for stopping teeth, dental wax; disinfectants; preparations for destroying vermin; fungicides, herbicides.</span></p><p><strong>Trademark Classes 6.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Common metals and their alloys; metal building materials; transportable buildings of metal; materials of metal for railway tracks; non-electric cables and wires of common metal; ironmongery, small items of metal hardware; pipes and tubes of metal; safes; goods of common metal not included in other classes; ores.</span></p><p><strong>Trademark Classes 7.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Machines and machine tools; motors and engines (except for land vehicles); machine coupling and transmission components (except for land vehicles); agricultural implements other than hand-operated; incubators for eggs; automatic vending machines.</span></p><p><strong>Trademark Classes 8.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Hand tools and implements (hand-operated); cutlery; side arms; razors.</span></p><p><strong>Trademark Classes 9.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Scientific, nautical, surveying, photographic, cinematographic, optical, weighing, measuring, signalling, checking (supervision), life-saving and teaching apparatus and instruments; apparatus and instruments for conducting, switching, transforming, accumulating, regulating or controlling electricity; apparatus for recording, transmission or reproduction of sound or images; magnetic data carriers, recording discs; compact discs, DVDs and other digital recording media; mechanisms for coin-operated apparatus; cash registers, calculating machines, data processing equipment, computers; computer software; fire-extinguishing apparatus.</span></p><p><strong>Trademark Classes 10.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Surgical, medical, dental and veterinary apparatus and instruments, artificial limbs, eyes and teeth; orthopedic articles; suture materials.</span></p><p><strong>Trademark Classes 11.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Apparatus for lighting, heating, steam generating, cooking, refrigerating, drying, ventilating, water supply and sanitary purposes.</span></p><p><strong>Trademark Classes 12.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Vehicles; apparatus for locomotion by land, air or water.</span></p><p><strong>Trademark Classes 13.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Firearms; ammunition and projectiles; explosives; fireworks.</span></p><p><strong>Trademark Classes 14.</strong><span data-preserver-spaces="true">&nbsp;Precious metals and their alloys and goods in precious metals or coated therewith, not included in other classes; jewellery, precious stones; horological and chronometric instruments.</span></p><p><strong>Trademark Classes 15.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Musical instruments.</span></p><p><strong>Trademark Classes 16.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Paper, cardboard and goods made from these materials, not included in other classes; printed matter; bookbinding material; photographs; stationery; adhesives for stationery or household purposes; artists‚Äô materials; paintbrushes; typewriters and office requisites (except furniture); instructional and teaching material (except apparatus); plastic materials for packaging (not included in other classes); printers‚Äô type; printing blocks.</span></p><p><strong>Trademark Classes 17.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Rubber, gutta-percha, gum, asbestos, mica and goods made from these materials and not included in other classes; plastics in extruded form for use in manufacture; packing, stopping and insulating materials; flexible pipes, not of metal.</span></p><p><strong>Trademark Classes 18.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Leather and imitations of leather, and goods made of these materials and not included in other classes; animal skins, hides; trunks and travelling bags; umbrellas and parasols; walking sticks; whips, harness and saddlery.</span></p><p><strong>Trademark Classes 19.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Building materials (non-metallic); non-metallic rigid pipes for building; asphalt, pitch and bitumen; non-metallic transportable buildings; monuments, not of metal.</span></p><p><strong>Trademark Classes 20.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Furniture, mirrors, picture frames; goods (not included in other classes) of wood, cork, reed, cane, wicker, horn, bone, ivory, whalebone, shell, amber, mother-of-pearl, meerschaum and substitutes for all these materials, or of plastics.</span></p><p><strong>Trademark Classes 21.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Household or kitchen utensils and containers; combs and sponges; brushes (except paint brushes); brush-making materials; articles for cleaning purposes; steelwool; unworked or semi-worked glass (except glass used in building); glassware, porcelain and earthenware not included in other classes.</span></p><p><strong>Trademark Classes 22.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Ropes, string, nets, tents, awnings, tarpaulins, sails, sacks and bags (not included in other classes); padding and stuffing materials (except of rubber or plastics); raw fibrous textile materials.</span></p><p><strong>Trademark Classes 23.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Yarns and threads, for textile use.</span></p><p><strong>Trademark Classes 24.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Textiles and textile goods, not included in other classes; bed covers; table covers.</span></p><p><strong>Trademark Classes 25.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Clothing, footwear, headgear.</span></p><p><strong>Trademark Classes 26.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Lace and embroidery, ribbons and braid; buttons, hooks and eyes, pins and needles; artificial flowers.</span></p><p><strong>Trademark Classes 27.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Carpets, rugs, mats and matting, linoleum and other materials for covering existing floors; wall hangings (non-textile).</span></p><p><strong>Trademark Classes 28.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Games and playthings; gymnastic and sporting articles not included in other classes; decorations for Christmas trees.</span></p><p><strong>Trademark Classes 29.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Meat, fish, poultry and game; meat extracts; preserved, dried and cooked fruits and vegetables; jellies, jams, compotes; eggs; milk and milk products; edible oils and fats.</span></p><p><strong>Trademark Classes 30.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Coffee, tea, cocoa and artificial coffee; rice; tapioca and sago; flour and preparations made from cereals; bread, pastry and confectionery; edible ices; sugar, honey, treacle; yeast, baking-powder; salt; mustard; vinegar, sauces (condiments); spices; ice.</span></p><p><strong>Trademark Classes 31.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Grains and agricultural, horticultural and forestry products and grains not included in other classes; live animals; fresh fruits and vegetables; seeds; natural plants and flowers; foodstuffs for animals, malt.</span></p><p><strong>Trademark Classes 32.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Beers; mineral and aerated waters and other non-alcoholic beverages; fruit beverages and fruit juices; syrups and other preparations for making beverages.</span></p><p><strong>Trademark Classes 33.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Alcoholic beverages (except beers).</span></p><p><strong>Trademark Classes 34.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Tobacco; smokers‚Äô articles; matches.</span></p><p><strong>Trademark Classes 35.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Advertising; business management; business administration; office functions.</span></p><p><strong>Trademark Classes 36.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Insurance; financial affairs; monetary affairs; real estate affairs.</span></p><p><strong>Trademark Classes 37.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Building construction; repair; installation services.</span></p><p><strong>Trademark Classes 38.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Telecommunications.</span></p><p><strong>Trademark Classes 39.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Transport; packaging and storage of goods; travel arrangement.</span></p><p><strong>Trademark Class 40.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Treatment of materials.</span></p><p><strong>Trademark Classes 41.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Education; providing of training; entertainment; sporting and cultural activities.</span></p><p><strong>Trademark Classes 42.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Scientific and technological services and research and design relating thereto; industrial analysis and research services; design and development of computer hardware and software.</span></p><p><strong>Trademark Classes 43.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Services for providing food and drink; temporary accommodation.</span></p><p><strong>Trademark Class 44.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Medical services; veterinary services; hygienic and beauty care for human beings or animals; agriculture, horticulture and forestry services.</span></p><p><strong>Trademark Class 45.</strong><span data-preserver-spaces="true">&nbsp;&nbsp;Legal services; security services for the protection of property and individuals; personal and social services rendered by others to meet the needs of individuals.</span></p><p><span data-preserver-spaces="true">How to select a trademark?</span></p><p><span data-preserver-spaces="true">When selecting classes in a trademark application on IP Australia, there are two ways to choose courses, either by picklist or by non-picklist.</span></p><p><strong>Picklist</strong></p><p><span data-preserver-spaces="true">A picklist trademark application will provide you with the most commonly used goods/services in a trademark class for you to select. This may be a suitable choice for your trademark. When it comes to determinizing whether your trademark is capable of registration, an application which uses picklist goods/services may be determined quicker as ‚Ä¶</span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.legallyinsightful.com/2020/09/what-are-trademark-classes.html">https://www.legallyinsightful.com/2020/09/what-are-trademark-classes.html</a></em></p>]]>
            </description>
            <link>https://www.legallyinsightful.com/2020/09/what-are-trademark-classes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24538359</guid>
            <pubDate>Sun, 20 Sep 2020 23:37:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Does Rails Assign Variables to Rendered Views?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24537617">thread link</a>) | @devrob
<br/>
September 20, 2020 | https://blog.robsdomain.com/how-does-rails-assign-view-variables/ | <a href="https://web.archive.org/web/*/https://blog.robsdomain.com/how-does-rails-assign-view-variables/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <p><em>If you enjoy this article you may be interested in the book I am working on called <a href="https://buildingcryptotradingbots.com/">Building and Deploying Crypto Trading Bots</a>.</em></p><p>Throughout this post, we will investigate one source of that "Rails magic" that perplexes developers: how Rails assigns Controller instance variables to view templates.</p><p>Take the following for example:</p><figure><pre><code># If you inspect action_controller.rb you will find it inerhits from ActionController::Base
class MyController &lt; ApplicationController
 def index
  @my_index_var = [1,2,3,4]
 end
end</code></pre><figcaption>app/controller/my_controller.rb</figcaption></figure><figure><pre><code>&lt;% @my_index_var.each do |i| %&gt;
  &lt;p&gt; Number: &lt;%= I %&gt; &lt;/p&gt;
&lt;% end %&gt;</code></pre><figcaption>app/views/my_controller/index.html.erb</figcaption></figure><p>Have you ever wondered how on earth the view template <code>index.html.erb</code> gets access to the instance variable <code>@my_index_var</code> ? Well, let's find out.</p><h3 id="what-is-rails-anyway">What is Rails Anyway?</h3><p>Without jumping too far into Rails source code (yet), recall that the Ruby on Rails source code isn't a massive monolithic code base. Rather, it is a collection of isolated Ruby gems that are strung together to make up the tool we call Rails. Inside the &nbsp;codebase, the responsibilities of template rendering, rack request routing, object relational mapping and more are divided across &nbsp;several key gems that are usually prefixed with <code>Action*</code> or <code>Active*</code> . All these gems work together to deliver the end framework you and I use for web application development. With the primer out of the way, let's begin the journey to expose how controller instance variables are assigned to views.</p><h3 id="actionpack-d">ActionPack'd</h3><p>Our first stop is the gem called <code>ActionPack</code>. <code><a href="https://rubygems.org/gems/actionpack">ActionPack</a></code> defines several important modules including <code>ActionController</code>, <code>ActionDispatch</code> and <code>AbstractController</code>. Thematically the gem revolves around framework controller code, rendering and routing of rack requests.</p><p>For our investigation, the first class in <code>ActionPack</code> to take a look at is &nbsp;<code><a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/action_controller/base.rb#L166">ActionController::Base</a></code> . This is the base class that all your application controllers will inherit from. </p><pre><code>class ApplicationController &lt; ActionController::Base
end

class Posts &lt; ApplicationController
end</code></pre><p>In essence <code>ActionController::Base</code> is the core of a web request in Rails. It gives controllers the ability to define actions for requests, and have requests routed to those actions in order to render a template or redirecting somewhere else. <code>ActionController::Base</code> inherits from a parent class <a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/action_controller/metal.rb#L119"><code>ActionController::Metal</code></a> which in turn inherits from <code>AbstractController::Base</code>. <code>ActionController::Metal</code> isn't very interesting so we won't spend too much time on it. The in-line source comments describes it as:</p><p><em>... the simplest possible controller, providing a valid Rack interface without the additional niceties provided by ActionController::Base</em></p><p>Circling back to <code>ActionController::Base</code>, the class itself doesn't actually define many interesting methods. Instead <code>ActionController::Base</code> is a composite of <a href="https://github.com/rails/rails/blob/master/actionpack/lib/action_controller/base.rb#L210https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/action_controller/base.rb#L210">various modules</a> such as <code>UrlFor</code>, <code>Redirecting</code>, <code>HttpAuthentication</code>, <code>Logging</code>, <code>Cookies</code> that are loaded into the class at require time. One module in deserving of our focus is &nbsp;<code>AbstractController::Rendering</code>. </p><p>The <code>AbstractController::<code>Rendering</code></code> module provides <code>ActionController</code> a variety of handy methods including the <code><a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L23">render</a></code> method we know and love. </p><figure><pre><code>def render(*args, &amp;block)
  options = _normalize_render(*args, &amp;block)
  rendered_body = render_to_body(options)
  if options[:html]
    _set_html_content_type
  else
    _set_rendered_content_type rendered_format
  end
  _set_vary_header
  self.response_body = rendered_body
end</code></pre><figcaption><a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L23">https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L23</a></figcaption></figure><pre><code>class Posts &lt; ApplicationController
  def new
    render 'new'
  end
end</code></pre><p>In addition to <code>render</code>, the module also contains a method called <code><a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L63">view_assigns</a></code> . The <code>view_assigns</code> method is pretty quirky:</p><figure><pre><code># This method should return a hash with assigns.
# You can overwrite this configuration per controller.
def view_assigns
  variables = instance_variables - _protected_ivars

  variables.each_with_object({}) do |name, hash|
    hash[name.slice(1, name.length)] = instance_variable_get(name)
  end
end</code></pre><figcaption>https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L63</figcaption></figure><p>Basically, it calls the Ruby base <code>Object</code> method <code><a href="https://ruby-doc.org/core-2.7.1/Object.html#method-i-instance_variables">instance_variables</a></code> which returns an Array of all the currently defined instance variables for an object and creates a hash mapping their names to their values. &nbsp;Now, recall that <code>AbstractController::Rendering</code> is a <strong>module</strong> that is mixed in the <strong>class</strong> <code>ActionController::Base</code> which is what your concrete controller implementation inherits from. This means that if <code>view_assigns</code> is invoked from your controller all the currently defined instance variables will be assigned to this hash. Interesting.... We've discovered how the instance variables are captured but how does the controller connect to the view?</p><h3 id="actionview">ActionView</h3><p>Returning to our previous note about Rails being built from "Action" type gems, view and templating logic live in a fun little gem called <code><a href="https://rubygems.org/gems/actionview">ActionView</a></code>. <code>ActionView</code> is responsible for understanding <em>how to render</em> different template engines like embedded ruby, and HTML. To draw the lines of responsibility a bit more clearly, <code>ActionController</code> can tell us <em>what</em> to render, but, it does not know <em>how </em>to render it. That's <code>ActionView</code>'s job.</p><p>The base class for <code>ActionView</code> is somewhat anti-climatically named <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/base.rb#L141">ActionView::Base</a></code>. The class itself does quite a bit of serious business. The job of hierarchal template rendering doesn't sound like a laughing matter (but then again maybe it is? <a href="https://twitter.com/dhh">DHH</a> seems to have a lot of fun on Twitter). Anyway, when an <code>ActionView</code> is <a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/base.rb#L243">instantia</a>ted it eventually calls an important method named <a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/base.rb#L267">assign</a> with a payload called <code>assigns</code>:</p><figure><pre><code>def assign(new_assigns) # :nodoc:
  @_assigns = new_assigns.each do |key, value|
    instance_variable_set("@#{key}", value)
  end
end</code></pre><figcaption><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/base.rb#L206">https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/base.rb#L206</a></figcaption></figure><p>The <code>ActionView::Base</code> <code>assign</code> method is responsible for taking the <code>new_assigns</code> argument iterating through it to define instance variables using the <code>instance_variable_set</code> method. These instance variables are named, assigned and set in the template object using the key and value pairs in the <code>new_assigns</code> hash. This means that the template object rendered will have access to these variables immediately after being instantiated. Does this look familiar?</p><figure><pre><code>&lt;% @my_index_var.each do |i| %&gt;
  &lt;p&gt; Number: &lt;%= I %&gt; &lt;/p&gt;
&lt;% end %&gt;</code></pre><figcaption>app/views/my_controller/index.html.erb</figcaption></figure><p>Ok so that all makes sense but how and where does the <code>new_assigns</code> payload come from?</p><h3 id="actionview-take-two">ActionView Take Two</h3><p>In the same <code>ActionView</code> gem lives a module called <code>ActionView::Rendering</code> where a view's "context" is built before it is rendered to the screen. In specific, the <code>ActionView::Rendering</code> module has a public hook method called <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L101">render_to_body</a></code> which is invoked by <code>ActionController</code> when the <a href="https://github.com/rails/rails/blob/661da266b94909574426fd1121ef13b800e01b9a/actionpack/lib/abstract_controller/rendering.rb#L25"><code>render</code> method</a> is called. Under the hood <code>render_to_body</code> calls a <strong>private</strong> method <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L108">_render_template</a></code>:</p><figure><pre><code> def _render_template(options)
    variant = options.delete(:variant)
    assigns = options.delete(:assigns)
    
    context = view_context

    context.assign assigns if assigns
    lookup_context.variants = variant if variant

    rendered_template = context.in_rendering_context(options) do |renderer|
      renderer.render_to_object(context, options)
    end

    rendered_format = rendered_template.format || lookup_context.formats.first
    @rendered_format = Template::Types[rendered_format]

    rendered_template.body
end</code></pre><figcaption><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L108">https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L108</a></figcaption></figure><p>Now, <code>_render_template</code> does quite a number of things but the important line for us to close in on is the invocation of the method <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L111">view_context</a></code>.</p><p> The <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L92">view_context</a></code> method is the glue that wraps everything together here:</p><figure><pre><code> def view_context
  view_context_class.new(lookup_context, view_assigns, self)
end</code></pre><figcaption><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L92">https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L92</a></figcaption></figure><p>It instantiates a new <code><a href="https://github.com/rails/rails/blob/d2cdf0be675b44771f950697fc0b19ef0ea453f9/actionview/lib/action_view/rendering.rb#L65">ActionView::Base</a></code> object (<code>view_context_class</code>) and passes it an <code>assigns</code> hash consisting of... a call to the <code>view_assigns</code> method from <code>AbstractController::Base</code> !!</p><p>This means that a hash of the currently defined instance variables for the controller that called render will be passed along as an argument to the <code>ActionView::Base</code> <code>initialize</code> method. Nice! We've found the source. Here is the the above words in image form:</p><figure><img src="https://blog.robsdomain.com/content/images/2020/06/Rails-Rendering-Variables.png"></figure><p>Phew... quite the journey but we've pulled &nbsp;the curtains back on one of the more opaque parts of the Ruby on Rails framework and have made it through in one piece.</p><p>Have fun!</p>
        </section>

        
    </article>
</div></div>]]>
            </description>
            <link>https://blog.robsdomain.com/how-does-rails-assign-view-variables/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537617</guid>
            <pubDate>Sun, 20 Sep 2020 21:37:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BridgeCom Systems SkyBridge Hotspot Review]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24537600">thread link</a>) | @RFTinker
<br/>
September 20, 2020 | http://k0lwc.com/bridgecom-systems-skybridge-hotspot-review/ | <a href="https://web.archive.org/web/*/http://k0lwc.com/bridgecom-systems-skybridge-hotspot-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-248">
	<!-- .entry-header -->

	<div>
		
<p>Are you a ham radio operator interested in DMR? Getting started can be intimidating, but not with the <a href="https://www.bridgecomsystems.com/pages/plug-and-play-878-plus-skybridge">SkyBridge Hotspot DMR Plug N‚Äô Play package</a> from BridgeCom Systems. </p>



<p>BridgeCom‚Äôs SkyBridge dual band hotspot is the latest hotspot on the market for amateur radio operators. What makes it such a compelling buy is the ease at which you can get on the air. BridgeCom will take care of programming the radio <em>and</em> the hotspot before it ships. Once it arrives, simply plug in the hotspot, turn on the radio and you‚Äôre on the air rag chewing. </p>



<h2>BridgeCom SkyBridge Hotspot features</h2>



<p>The SkyBridges uses a Pi-Zero board with a custom MMDVM hat putting out 10mW of output power. More than enough power to blanket your entire house and property (unless you live on acres of property) with seamless digital coverage. </p>



<ul><li>Wired and wireless Internet capability</li><li>High-performance 32-bit ARM processor</li><li>SkyBridge&nbsp;Board Fully Assembled And Tested</li><li><a href="https://www.pistar.uk/">Pi-Star Operating System</a></li><li>Compatible with DMR, D-Star, Yaesu System Fuzion (YSF),&nbsp; NXDN, P25 and POCSAG radios</li><li>Supports the following Cross-Mode Capabilities: DMR to NXDN, DMR to YSF, YSF to DMR and YSF to NXDN</li><li>Supports operation in both 2m (144Mhz) and 70cm (440Mhz) bands</li><li>Onboard LEDs to show status (Tx, Rx, PTT, Mode)</li><li>Up to 10mW RF power</li><li>SMA antenna connector, dual-band VHF/UHF antenna included</li><li>MMDVM open-source firmware is pre-loaded and is easily upgraded via software</li><li>Built-in 1.3‚Ä≥ OLED display</li><li>Connection for Nextion LCD display</li><li><strong>1 Year Warranty</strong></li><li><strong>FCC Part 15 Certified</strong></li></ul>



<p>The most important thing you get, in my opinion, is fantastic support form BridgeCom. You‚Äôre paying for the piece of mind you‚Äôll have someone to call if you have troubles, or something malfunctions. You will also get access to BridgeCom University, and online portal that provides a long list of videos that will help you learn everything you need to know about DMR. </p>







<h2>How far does the BridgeCom SkyBridge reach?</h2>



<p>Many hams wonder just how far a little 10mW transmitter will work. The answer is‚Äî surprisingly far. I set my SkyBridge near the window in my basement and was able to walk about 600 feet in my suburban neighborhood before losing the signal from my hotspot. Don‚Äôt worry about having coverage around your home or property. This hotspot has you covered! I <a href="http://k0lwc.com/what-is-the-range-of-a-dmr-hotspot/">tested the coverage from my PiSpot</a> with a high gain antenna at 40 feet HAAT, it‚Äôs worth checking out. </p>



<h2>Is the SkyBridge hotspot reliable?</h2>



<p>I was able to use the SkyBridge for a week and I found it to be incredibly reliable. It handled my day-to-day just as well as my PiSpot hotspot running a Raspberry PiB3 board and a DVMega hat. In fact, it ran cooler in temperature than my custom built PiB3. </p>



<h2>Can I talk to friends who use D-Star or YSF?</h2>



<p>Yes! The hotspot supports cross-mode capability thanks to the Pi-Star firmware. You can use your DMR radio to talk to your ham radio friends who may be using D-Star, YSF, P25 or NXDN. This is huge. It sucks we have a fragmented digital protocol system. With this hotspot that becomes less of an issue.</p>



<h2>Is the SkyBridge hotspot worth the money?</h2>



<p>If you‚Äôre a ham looking to make the jump into DMR, I think it‚Äôs absolutely worth it. The real value of the SkyBridge Plug N‚Äô Play package is the ease of getting on the air. BridgeCom makes it incredibly easy. Pair that with access to BridgeCom University you can watch hours and hours worth of tutorials on DMR ‚Äî that‚Äôs a lot of value in a single package. </p>



<p>You can buy the BridgeCom SkyBridge hotspot <a href="https://www.bridgecomsystems.com/pages/skybridge">here</a>, or get their SkyBridge Plug N‚Äô Play package <a href="https://www.bridgecomsystems.com/pages/plug-and-play-878-plus-skybridge">here</a>. </p>



<h2>Take a look at what you get in this YouTube video</h2>



<figure><p>
<iframe id="_ytid_87122" width="640" height="360" data-origwidth="640" data-origheight="360" src="https://www.youtube.com/embed/bghFnES-KI4?enablejsapi=1&amp;rel=0&amp;modestbranding=0&amp;autoplay=0&amp;cc_load_policy=0&amp;iv_load_policy=1&amp;loop=0&amp;fs=1&amp;playsinline=0&amp;autohide=2&amp;theme=dark&amp;color=red&amp;controls=1&amp;" title="YouTube player" allow="autoplay; encrypted-media" allowfullscreen="" data-no-lazy="1" data-skipgform_ajax_framebjll=""></iframe>
</p></figure>
<br>
			</div><!-- .entry-content -->
</article></div>]]>
            </description>
            <link>http://k0lwc.com/bridgecom-systems-skybridge-hotspot-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537600</guid>
            <pubDate>Sun, 20 Sep 2020 21:35:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building underground tunnels for 30 second delivery times]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24537480">thread link</a>) | @Mat_Sherman
<br/>
September 20, 2020 | https://share.transistor.fm/s/feaa771d | <a href="https://web.archive.org/web/*/https://share.transistor.fm/s/feaa771d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  

  <article>
    <section>
      <h4>Summary</h4>
      <p>Garrett McCurrach is the cofounder of Pipedream Labs. Pipedream is a network of underground tubes that offers near-instantaneous delivery of objects to and from homes and businesses.
</p>
    </section>
        <section>
          <h4>Show Notes</h4>
          <div><p>Garrett McCurrach is the cofounder of <a href="https://pipedreamlabs.co/">Pipedream</a>. Pipedream is a network of underground tubes that offers near-instantaneous delivery of objects to and from homes and businesses.</p><p><strong>Listen to this episode if you:</strong></p></div><ul><li>You love moonshots</li><li>You want to see underground transportation more ubiquitous&nbsp;</li><li>You want to hear the big vision for Pipedream.</li></ul><p><strong>Thanks to Primeflow for sponsoring this episode of FTF!<br></strong>It√¢‚Ç¨‚Ñ¢s time to focus on your biggest advantage - your relationships. Partner up with your network and drive business. Their software takes care of everything else. With Primeflow, you can source partners, manage your leads, and collect your fees, all within one easy software product. Check it out <a href="https://bit.ly/3hMvKET">here</a>.<strong><br></strong><br></p><p><strong><a target="_donate" rel="payment" title="√¢Àú‚Ä¶ Support this podcast by donating √¢Àú‚Ä¶" href="https://forwardthinking.substack.com/">√¢Àú‚Ä¶ Support this podcast by donating √¢Àú‚Ä¶</a></strong></p>
        </section>
    <section>
      <h4>What is Forward Thinking Founders?</h4>
      <p>Forward Thinking Founders is a podcast where Mat interviews high potential founders with early stage companies. This allows us to see inside the brain of genius founders before the rest of the world knows they even exist. On this show, you'll learn all about how to start a startup, pros and cons of different verticals, and learn the backstory and vision of tomorrow's billion-dollar companies, straight from the founders. With guests coming from Y Combinator, The Thiel Fellowship, Pioneer, and the f20r.com network, you're sure to get a sneak peek at world-class founders at work, every day. This is Forward Thinking Founders.</p>
    </section>
  </article>
</div></div>]]>
            </description>
            <link>https://share.transistor.fm/s/feaa771d</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537480</guid>
            <pubDate>Sun, 20 Sep 2020 21:16:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Little Things: Speeding up C++ compilation]]>
            </title>
            <description>
<![CDATA[
Score 118 | Comments 61 (<a href="https://news.ycombinator.com/item?id=24537231">thread link</a>) | @ingve
<br/>
September 20, 2020 | https://codingnest.com/the-little-things-speeding-up-c-compilation/ | <a href="https://web.archive.org/web/*/https://codingnest.com/the-little-things-speeding-up-c-compilation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

        <section>
            <p><em>The Little Things</em> is a new series of posts based on Locksley's internal training sessions. Often the contents are either proprietary (e.g. the inner workings of specific master key platforms) or not generally interesting (e.g. our internal libraries and tooling), but sometimes the contents are suitable for a wider audience, in which case I want to share them.</p>
<hr>
<p>This post will be about some source-level techniques for speeding up C++ compilation, and their (dis)advantages. It will <strong>not</strong> talk about things external to C++, such as buying better hardware, using a better build system, or using smarter linker<sup><a href="#fn1" id="fnref1">[1]</a></sup>. It will also not talk about the tooling that can find compilation bottlenecks, as that will be a subject of a later post.</p>
<h2 id="overviewofccompilationmodel">Overview of C++ compilation model</h2>
<p>I will start with a quick overview of the C++ compilation model, to provide context for some of the tricks I will show later. Note that this overview will be very coarse, if you want a detailed look at the subtleties of the <em>9</em> phase compilation model defined in the C++ standard, look elsewhere.</p>
<p>We will consider the compilation of C++ binary to happen in 3 steps:</p>
<ol>
<li>Preprocessing</li>
<li>Compilation</li>
<li>Linking</li>
</ol>
<h3 id="preprocessing">Preprocessing</h3>
<p>The first step is preprocessing. During it, the preprocessor takes a .cpp file and parses it, looking for <em>preprocessor directives</em>, such as <code>#include</code>, <code>#define</code>, <code>#ifdef</code>, etc.</p>
<p>Let's take this super simple file as an example</p>
<pre><code>// tiny.cpp
#define KONSTANTA 123

int main() {
    return KONSTANTA;
}
</code></pre>
<p>It contains one preprocessor directive, <code>#define</code>. It says that any following occurence of <code>KONSTANTA</code> should be replaced with <code>123</code>. Running the file through a preprocessor leads to output like this one:</p>
<pre><code>$ clang++ -E tiny.cpp
# 1 "tiny.cpp"
# 1 "&lt;built-in&gt;" 1
# 1 "&lt;built-in&gt;" 3
# 383 "&lt;built-in&gt;" 3
# 1 "&lt;command line&gt;" 1
# 1 "&lt;built-in&gt;" 2
# 1 "tiny.cpp" 2


int main() {
    return 123;
}
</code></pre>
<p>We can see that in <code>return KONSTANTA</code> the <code>KONSTANTA</code> part was replaced with <code>123</code>, as it should be. We also see that the compiler left itself a bunch of other notes, that we do not care about that much<sup><a href="#fn2" id="fnref2">[2]</a></sup>.</p>
<p>The big problem with the preprocessor model is that the <code>#include</code> directive literally means "copy-paste all of this file's contents here". Of course, if that file's contents contain further <code>#include</code> directives, then more files will be opened, their contents copied out, and in turn, the compiler will have more code to deal with. In other words, preprocessing increases the size of the input, usually significantly so.</p>
<p>The following is a simple "Hello World" in C++, using streams.</p>
<pre><code>// hello-world.cpp
#include &lt;iostream&gt;

int main() {
    std::cout &lt;&lt; "Hello World\n";
}
</code></pre>
<p>After preprocessing, the file will have <strong>28115</strong><sup><a href="#fn3" id="fnref3">[3]</a></sup> lines for the next step, compilation, to deal with.</p>
<pre><code>$ clang++ -E hello-world.cpp | wc -l
28115
</code></pre>
<h3 id="compilation">Compilation</h3>
<p>After a file is preprocessed, it is compiled into an <em>object file</em>. Object files contain the actual code to run, but cannot be run without linking. One of the reasons for this is that object files can refer to symbols (usually functions) that they do not have the definition (code) for. This happens, e.g. if a .cpp file uses a function that has been declared, but not defined, like so:</p>
<pre><code>// unlinked.cpp
void bar(); // defined elsewhere (hopefully)

void foo() {
    bar();
}
</code></pre>
<p>You can look inside a compiled object file to see what symbols it provides and what symbols it needs, using <code>nm</code> (Linux) or <code>dumpbin</code> (Windows). If we look at the output for the <code>unlinked.cpp</code> file, we get this:</p>
<pre><code>$ clang++ -c unlinked.cpp &amp;&amp; nm -C unlinked.o
                 U bar()
0000000000000000 T foo()
</code></pre>
<p><code>U</code> means that the symbol is not defined in this object file. <code>T</code> means that the symbol is in the text/code section and that it is exported, which means that other object files can get <code>foo</code> from this <code>unlinked.o</code>. It is important to know that symbols might also be present in an object file, but not be available to other object files. Such symbols are marked with <code>t</code>.</p>
<h3 id="linking">Linking</h3>
<p>After all the files have been compiled into object files, they have to be <em>linked</em> into the final binary artefact. During linking, all the various object files are smashed together in a specific format, e.g. ELF, and the various references to undefined symbols in object files are resolved with the address of the symbol, as provided by a different object file (or library).</p>
<p>With this overview done, we can start tackling the different ways to speed up the compilation of your code. Let's start simple.</p>
<h2 id="includeless"><code>#include</code> less</h2>
<p>Including a file usually brings in a <em>lot</em> of extra code, which the compiler then needs to parse and check. Thus the simplest, and usually also the biggest, way to speed up the compilation of your code, is to just <code>#include</code> fewer files. Reducing the include set is especially beneficial in header files, as they are likely to be included from other files, thus amplifying the impact of your improvements.</p>
<p>The easiest way to do this is to remove any unused includes. Unused includes shouldn't happen often, but sometimes they are left behind during refactoring, and using a tool like <a href="https://include-what-you-use.org/">IWYU</a> <em>can</em><sup><a href="#fn4" id="fnref4">[4]</a></sup> make it simple to do. However, just cleaning up unused includes is unlikely to provide many benefits, and so you will have to reach for bigger guns, forward declarations and manual outlining.</p>
<p>But before explaining forward declarations and manual outlining, I want to go over the costs of header inclusion quickly, so we can build up intuition on what sort of speed-ups we can expect from pruning down include graphs.</p>

<p>The table below shows the time required by Clang<sup><a href="#fn5" id="fnref5">[5]</a></sup> to compile a file that <em>only</em> includes some stdlib headers.</p>

<table>
<thead>
<tr>
<th>header(s) included</th>
<th>time to compile (ms)</th>
<th>difference from baseline (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>none</td>
<td>11.3  ¬± 0.2</td>
<td>-</td>
</tr>
<tr>
<td><code>&lt;vector&gt;</code></td>
<td>68.8  ¬± 0.3</td>
<td>57.5 ¬±  0.36</td>
</tr>
<tr>
<td><code>&lt;string&gt;</code></td>
<td>136.3  ¬± 0.8</td>
<td>125.0 ¬±  0.82</td>
</tr>
<tr>
<td><code>&lt;stdexcept&gt;</code></td>
<td>137.0  ¬± 0.8</td>
<td>125.7 ¬±  0.82</td>
</tr>
<tr>
<td><code>&lt;vector&gt;</code>, <code>&lt;string&gt;</code></td>
<td>155.3  ¬± 0.9</td>
<td>144.0 ¬±  0.92</td>
</tr>
<tr>
<td><code>&lt;string&gt;</code>, <code>&lt;stdexcept&gt;</code></td>
<td>136.7  ¬± 0.7</td>
<td>125.4 ¬±  0.73</td>
</tr>
<tr>
<td><code>&lt;vector&gt;</code>, <code>&lt;string&gt;</code>, <code>&lt;stdexcept&gt;</code></td>
<td>156.1  ¬± 0.8</td>
<td>144.8 ¬±  0.82</td>
</tr>
</tbody>
</table>
<p>The first row shows the time needed to compile a completely empty file, to provide a baseline time required by the compiler to start, read the file, and do nothing. The other lines are more interesting. As the second line says, just including <code>&lt;vector&gt;</code> adds 57 ms to compilation times, even though there will be no actual line emitted. As we can see, the cost to include <code>&lt;string&gt;</code> is more than double of <code>&lt;vector&gt;</code>, and the cost to include <code>&lt;stdexcept&gt;</code> is about the same as for <code>&lt;string&gt;</code>.</p>
<p>More interesting are the rows for combinations of headers, because no combination of headers is as expensive as compiling each of them on its own. The reason is quite simple: their internal include overlap. The most extreme case is <code>&lt;string&gt;</code> + <code>&lt;stdexcept&gt;</code>, because <code>&lt;stdexcept&gt;</code> is basically <code>&lt;string&gt;</code> + couple of types deriving from <code>std::exception</code>.</p>
<p>What you should take away from this are two things:</p>
<ul>
<li>Even if you do not use anything from a header, you still have to pay for it.</li>
<li>Include costs do not neatly sum, nor subtract.</li>
</ul>
<p>Now let's go through techniques we can use to include fewer files.</p>
<h3 id="forwarddeclarations">Forward declarations</h3>
<p>Quite often, when we mention a type, we only need to know that it exists but do not need to know its definition. The common case is creating a pointer or a reference to a type, in which case you need a knowledge that the type exists (a <em>forward declaration</em>), but not what it looks like (a <em>definition</em>).</p>
<p>As an example, this header is valid:</p>
<pre><code>class KeyShape; // forward declaration

size_t count_differences(KeyShape const&amp; lhs, KeyShape const&amp; rhs);
</code></pre>
<p>as long as the implementation file includes the appropriate headers:</p>
<pre><code>#include "key-shape.hpp" // provides the full definition of KeyShape

size_t count_differences(KeyShape const&amp; lhs, KeyShape const&amp; rhs) {
    assert(lhs.positions() == rhs.positions());
    ...
}
</code></pre>
<p>You can also use forward declaration together with some templated classes, whose size does not change depending on the template argument, e.g. <code>std::unique_ptr</code> and <code>std::vector</code><sup><a href="#fn6" id="fnref6">[6]</a></sup>. However, doing so can force you to outline your constructors, destructors and other special member functions (<em>SMFs</em>), as those usually need to see the full definition of the type. Your code then ends up looking like this:</p>
<pre><code>// foo.hpp
#include &lt;memory&gt;

class Bar;

class Foo {
    std::unique_ptr&lt;Bar&gt; m_ptr;
public:
    Foo(); // = default;
    ~Foo(); // = default;
};
</code></pre>
<pre><code>// foo.cpp
#include "bar.hpp"

Foo::Foo() = default;
Foo::~Foo() = default;
</code></pre>
<p>Notice that we still use the compiler-generated default constructor and destructor, but do so in the <code>.cpp</code> file, where we see the full definition of <code>Bar</code>. I also like to use the <code>// = default;</code> comment to signal to other programmers reading the code that the SMF is explicitly declared but will be defaulted, and thus there won't be any special logic in it.</p>
<p>When using this technique, please remember that the outlined functions cannot be inlined without LTO. In other words, you probably do not want to outline <em>every</em> function just because you can, because calling trivial functions can be much more expensive than inlining their code directly.</p>
<h3 id="explicitoutlining">Explicit outlining</h3>
<p>The idea underlying explicit outlining is quite simple: sometimes we get better results if a piece of code is explicitly split away from a function. One of the most common reasons is, perhaps ironically, improving inlining by making the common path of a function small. However, in our case, the reason for doing this is to improve the compilation times.</p>
<p>If a piece of code is expensive to compile, and inlining it is not crucial for performance, only one TU has to pay for compiling it. The canonical example of this is throwing an exception in general, and exceptions from <code>&lt;stdexcept&gt;</code> in particular. Throwing an exception generates quite a lot of code, and throwing more complex standard exception types, such as <code>std::runtime_error</code>, also requires an expensive<sup><a href="#fn7" id="fnref7">[7]</a></sup> header, <code>&lt;stdexcept&gt;</code> to be included.</p>
<p>By instead replacing all <code>throw foo;</code> statements with calls to a helper function along the lines of <code>[[noreturn]] void throw_foo(char const* msg)</code>, the call sites become ‚Ä¶</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://codingnest.com/the-little-things-speeding-up-c-compilation/">https://codingnest.com/the-little-things-speeding-up-c-compilation/</a></em></p>]]>
            </description>
            <link>https://codingnest.com/the-little-things-speeding-up-c-compilation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537231</guid>
            <pubDate>Sun, 20 Sep 2020 20:41:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why aren‚Äôt you more serious?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24537147">thread link</a>) | @luu
<br/>
September 20, 2020 | https://rubenerd.com/why-arent-you-more-serious/ | <a href="https://web.archive.org/web/*/https://rubenerd.com/why-arent-you-more-serious/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div property="articleBody">
<p>I get more hits to my site and RSS feed in a typical month now than I used to get in a given year. For a fifteen year old blog that started life as a Perl CGI script in high school, it‚Äôs been wild to see. Whether you‚Äôre coming here from Hacker News, Reddit, Twitter, Discord, newsgroups, or the BSD Now podcast, hi! Sometimes I talk about tech here.</p>
<p>This marked increase in traffic corresponds with more feedback email, a not altogether insignificant number of which are negative. I‚Äôll address some recurring themes here, because they‚Äôre Jason Bourne of the same misunderstanding of the kind of site people have come across.</p>
<p>Once you filter out the obvious trolls saying BSD is dead, Apple computers are for posers who value form over function, and that we‚Äôre all sheep for wearing a mask, most of the remainder concern the tone of my posts, and what they consider the ancillary topics I cover. They claim that my writing is too jovial, my site <a href="https://rubenerd.com/about/#mascot">mascot</a> drawn by Clara is inappropriate, and inclusion of posts about <a href="https://rubenerd.com/josh-on-how-to-peel-garlic/" title="Josh on how to peel garlic">cooking garlic</a> are a waste of time and somehow detract from my serious technical and political posts.</p>
<p><em>(One gentleman spent an inordinate amount of time criticising Rubi‚Äôs skirt in such lurid detail I felt but the tiniest twinge of what women must feel as creepy men ogle them walking past).</em></p>
<p>I appreciate‚Äîmost of‚Äîthe feedback, but respectfully disagree. There may not be many of us doing this anymore, but this is specifically a personal blog. This site has always been a labour of love for me since I started it in high school in 2004, and will necessarily be about stuff that‚Äôs on my mind and that I‚Äôm interested in. There are drier technical blogs by people I respect out there, but that‚Äôs not my style.</p>
<p>I‚Äôm also unsure how one can quantify detraction in this context. I remember having a similar debate with a WikiProject Albums contributor, who claimed compilation album articles similarly detracted from the quality of Wikipedia. In a finite space like a newspaper or book that might make sense, but in an electronic medium it seems to me the easiest solution is to ignore things in which you have no interest. Your also free to find an anime mascot drawn by my girlfriend offensive, just as I‚Äôm free to include her to make the world a slightly nicer place.</p>
<p>Which dovetails to the third comment which I take more seriously. I haven‚Äôt received permission to quote their email, but in summary they said my serious posts about COVID, social security, and attitudes in open source software communities are valuable, but sporadic. The implication is it‚Äôs incumbent upon me to only discuss important topics, and that by including what amounts to sidebars I‚Äôm trivialising them.</p>
<p>This one, selfishly, comes down to self-preservation. I need to write about the intricacies of BSD text editors and fun engineering or cooking videos to afford me sufficient mental fortitude to discuss serious topics. Sometimes we all need a break, and this is how I do it.</p>
<p>As I wrote on my <a href="https://rubenerd.com/the-first-post/">first post</a> fifteen years ago:</p>
<blockquote>
<p>‚Ä¶ it‚Äôs a blog site with random stuff on it that I think is groovy, weird etc ‚Ä¶ maybe one percent of it, or maybe two, might be useful to someone, especially with respect to some of the tech problems I‚Äôve had and solved over the years. So here it is.</p>
</blockquote>
<p>Thanks for reading.</p>
</div></div>]]>
            </description>
            <link>https://rubenerd.com/why-arent-you-more-serious/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537147</guid>
            <pubDate>Sun, 20 Sep 2020 20:30:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Deploy any-size Keras model with a drag and drop]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24537099">thread link</a>) | @theo31
<br/>
September 20, 2020 | https://inferrd.com/deploy-keras | <a href="https://web.archive.org/web/*/https://inferrd.com/deploy-keras">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://inferrd.com/deploy-keras</link>
            <guid isPermaLink="false">hacker-news-small-sites-24537099</guid>
            <pubDate>Sun, 20 Sep 2020 20:25:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Welcome to the Turbulent Twenties]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24536933">thread link</a>) | @dforrestwilson
<br/>
September 20, 2020 | https://www.noemamag.com/welcome-to-the-turbulent-twenties/ | <a href="https://web.archive.org/web/*/https://www.noemamag.com/welcome-to-the-turbulent-twenties/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

				


<p>Almost three decades ago, one of us, Jack Goldstone, published a <a href="https://www.amazon.com/Revolution-Rebellion-Early-Modern-World/dp/1138222127/ref=pd_lpo_14_img_0/140-4438334-0411838?_encoding=UTF8&amp;pd_rd_i=1138222127&amp;pd_rd_r=48abcf2c-170c-43f1-ac2b-6aceb88ec983&amp;pd_rd_w=ROnfs&amp;pd_rd_wg=qroCO&amp;pf_rd_p=7b36d496-f366-">simple model</a> to determine a country‚Äôs vulnerability to political crisis. The model was based on how population changes shifted state, elite and popular behavior. Goldstone argued that, according to this Demographic-Structural Theory, in the 21st century, America was likely to get a populist, America-first leader who would sow a whirlwind of conflict.</p>



<p>Then ten years ago, the other of us, Peter Turchin, <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0237458">applied</a> Goldstone‚Äôs model to U.S. history, using current data. What emerged was alarming: The U.S. was heading toward the highest level of vulnerability to political crisis seen in this country in over a hundred years. Even before Trump was elected, Turchin <a href="https://www.nature.com/articles/463608a">published</a> his prediction that the U.S. was headed for the ‚ÄúTurbulent Twenties,‚Äù forecasting a period of growing instability in the United States and western Europe.</p>



<p>Given the Black Lives Matter protests and cascading clashes between competing armed factions in cities across the United States, from Portland, Oregon to Kenosha, Wisconsin, we are already well on our way there. But worse likely lies ahead.</p>



<p>Our model is based on the fact that across history, what creates the risk of political instability is the behavior of elites, who all too often react to long-term increases in population by committing three cardinal sins. First, faced with a surge of labor that dampens growth in wages and productivity, elites<strong> </strong><em>seek to take a larger portion of economic gains for themselves</em>, driving up inequality. Second, facing greater competition for elite wealth and status, <em>they tighten up the path to mobility to favor themselves and their progeny</em>. For example, in an increasingly meritocratic society, elites could keep places at top universities limited and raise the entry requirements and costs in ways that favor the children of those who had already succeeded. </p>



<p>Third, anxious to hold on to their rising fortunes, they <em>do all they can to resist taxation of their wealth and profits</em>, even if that means starving the government of needed revenues, leading to decaying infrastructure, declining public services and fast-rising government debts.</p>



<p>Such selfish elites lead the way to revolutions. They create simmering conditions of greater inequality and declining effectiveness of, and respect for, government. But their actions alone are not sufficient. Urbanization and greater education are needed to create concentrations of aware and organized groups in the populace who can mobilize and act for change.</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúSuch selfish elites lead the way to revolutions.‚Äù    </p>

    
    
  </div>
</div>




<p>Top leadership matters. Leaders who aim to be inclusive and solve national problems can manage conflicts and defer a crisis. However, leaders who seek to benefit from and fan political divisions bring the final crisis closer. Typically, tensions build between elites who back a leader seeking to preserve their privileges and reforming elites who seek to rally popular support for major changes to bring a more open and inclusive social order. Each side works to paint the other as a fatal threat to society, creating such deep polarization that little of value can be accomplished, and problems grow worse until a crisis comes along that explodes the fragile social order.</p>



<p>These were the conditions that prevailed in the lead-up to the great upheavals in political history, from the French Revolution in the eighteenth century, to the revolutions of 1848 and the U.S. Civil War in the nineteenth century, the Russian and Chinese revolutions of the twentieth century and the many ‚Äúcolor revolutions‚Äù that opened the twenty-first century. So, it is eye-opening that the data show very similar conditions now building up in the United States.</p>



<p>In applying our model to the U.S., we tracked a number of indicators of popular well-being, inequality and political polarization, all the way from 1800 to the present. These included the ratio of median workers‚Äô wages to GDP per capita, life expectancy, the number of new millionaires and their influence on politics, the degree of strict party-line voting in Congress, and the incidence of deadly riots, terrorism and political assassinations. We found that all of these indicators pointed to two broad cycles in U.S. history.</p>



<p>In the decades following independence, despite growing party competition, elites in office often compromised and voted together, and rising national prosperity was broadly shared. But that wave of positive conditions peaked around 1820; from there, political polarization and economic inequality rose sharply in the years leading up to the Civil War. The crisis indicators peaked in the 1860s but did not fall sharply after the war; instead, they remained high until 1920 (the years of Reconstruction, Jim Crow, Gilded Age and violent labor unrest, and the anarchists).</p>



<p>Then, the tide shifted, and a second wave of greater unity and prosperity began to gather strength. Contrary to expectations, World War I and the Great Depression did <em>not </em>produce a rise in political instability indicators. Instead, the country pulled together. The reforms introduced during the Progressive Era and clinched in the New Deal reduced inequality and strengthened the economic share of workers; during and after World War II, the country agreed on new tax policies and increased spending on roads and schools.</p>



<p>The 1950s were a golden age of worker progress and party cooperation; even in the 1960s and 1970s, despite serious racial conflicts, the country‚Äôs leaders were able to agree on remarkably far-reaching reforms to improve civil rights and environmental protection. However, the 1960s were a high point in our indicators of political resilience; in the 1970s and 1980s, things began to turn, and by the 1990s, a new wave of rising inequality and political divisions was well underway, exemplified by Newt Gingrich‚Äôs policies as speaker of the House. In the next two decades, the crisis indicators rose just as sharply as they had in the decades before the Civil War. It was not just that by the late 2010s, overall inequality was rising to the levels not seen since the Gilded Age; median wages in relation to GDP per capita also were falling to historically low levels.</p>



<p>Writing in the journal <a href="https://www.nature.com/articles/463608a">Nature in 2010</a>, we pointed out that such trends were a reliable indicator of looming political instability and that they ‚Äúlook set to peak in the years around 2020.‚Äù In <a href="https://www.amazon.com/Ages-Discord-Peter-Turchin/dp/0996139540/ref=pd_lpo_14_img_1/140-4438334-0411838?_encoding=UTF8&amp;pd_rd_i=0996139540&amp;pd_rd_r=e31aa110-1e97-41b5-b8b9-59732b68e1b1&amp;pd_rd_w=NKvjs&amp;pd_rd_wg=QoYuR&amp;pf_rd_p=7b36d496-f366-4631-94d3-61b87b52511b&amp;pf_rd_r=53CDBB3DFVBED71T3PKV&amp;psc=1&amp;refRID=53CDBB3DFVBED71T3PKV">Ages of Discord</a>, published early in 2016, we showed that America‚Äôs ‚Äúpolitical stress indicator‚Äù had turned up sharply in recent years and was on track to send us into the ‚ÄúTurbulent Twenties.‚Äù</p>


<!-- Content Image Block Template -->
<div>

  <div>

    <!-- Main Image -->
    <div>

            <div>
              <p><img width="1024" height="730" src="https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord.png" alt="" srcset="https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord.png 1024w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-300x214.png 300w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-768x548.png 768w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-540x385.png 540w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-701x500.png 701w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-898x640.png 898w, https://www.noemamag.com/wp-content/uploads/2020/09/Ages_of_Discord-600x428.png 600w" sizes="(max-width: 1024px) 100vw, 1024px"></p>
      </div>

              <div>
              
      <figcaption>
        <p>The Political Stress Index (PSI) combines the three crisis indicators in the Goldstone-Turchin theory: declining living standards, increasing intra-elite competition/conflict and a weakening state. Growing PSI indicates increased likelihood of political violence. The Well-Being Index indicates greater equality, greater elite consensus and a more legitimate state.</p>
      </figcaption>

            </div>
      
    </div>


      </div>

</div>



<hr>



<p>This year, the COVID-19 pandemic and the death of George Floyd at the hands of the Minneapolis police have delivered a double-barreled crisis to U.S. politics. America has reacted with a nationwide, months-long series of urban protests. But this explosion of protest is not just the result of this year‚Äôs events. The U.S. has weathered epidemics and racial protests before and produced legislation that made the country better as a result. What is different this decade is that these events are occurring at a time of extreme political polarization, after decades of falling worker‚Äôs share in national income, and with entrenched elite opposition to increased spending on public services. These trends have crippled the U.S. government‚Äôs ability to mount an effective response to the pandemic, hampered our ability to deliver an inclusive economic relief policy and exacerbated the tensions over racial injustice that boiled over in response to the video of Floyd‚Äôs death.</p>



<p>Is the U.S. likely headed for still greater protests and violence? In a word, yes. Inequality and polarization have not been this high since the nineteenth century. Democrats are certain that if Donald Trump is re-elected, American democracy will not survive. Republicans are equally certain that if Trump loses, radical socialists will seize the wealth of elites and distribute it to underserving poor and minorities, forever destroying the economy of the United States. Both sides are also convinced that the other side intends to change the democratic ‚Äúrules of the game‚Äù in ways that will make it impossible for them to compete effectively in future elections. In such conditions, elections are not merely contests over policy preferences; they become existential battles for the future of the nation. Whichever party loses is likely to view the results as rigged and the outcome as intolerable.</p>


<!-- Quote Block Template -->

<div>

  <div>

    <p>
      ‚ÄúAlmost any election scenario this fall is likely to lead to popular protests on a scale we have not seen this century.‚Äù    </p>

    
    
  </div>
</div>




<p>The upcoming election therefore offers <a href="https://www.bostonglobe.com/2020/07/25/nation/bipartisan-group-secretly-gathered-game-out-contested-trump-biden-election-it-wasnt-pretty/">several outcomes</a> that could trigger mass violence. If Trump wins narrowly in the electoral college but loses the popular vote by a large margin, there will surely be massive demonstrations protesting the outcome, calling it illegitimate and demanding allegiance to the will of the majority of Americans. Trump may then be tempted to call in federal forces to put down these protests (as in Portland), which may in turn, as in Portland, provoke even larger uprisings.</p>



<p>If Trump loses, he is likely to contest the outcome as a ‚Äú<a href="https://nymag.com/intelligencer/2020/05/trump-is-preparing-to-contest-any-election-loss.html">rigged</a>‚Äù election. But that action will again lead to massive popular protests, this time to insist that the election results be honored. If Trump again puts federal security forces in ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.noemamag.com/welcome-to-the-turbulent-twenties/">https://www.noemamag.com/welcome-to-the-turbulent-twenties/</a></em></p>]]>
            </description>
            <link>https://www.noemamag.com/welcome-to-the-turbulent-twenties/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536933</guid>
            <pubDate>Sun, 20 Sep 2020 20:03:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Throw Away Code]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24536854">thread link</a>) | @yannikyeo
<br/>
September 20, 2020 | https://vorner.github.io/2020/09/20/throw-away-code.html | <a href="https://web.archive.org/web/*/https://vorner.github.io/2020/09/20/throw-away-code.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content_wrap">
      <section id="main_content">
        

<p>There‚Äôs an ongoing discussion about what makes Python better prototyping
language than Rust (with Python being probably just the archetype of some
scripted weakly-typed language). The thing is, I prefer doing my prototypes in
Rust over Python. Apparently, I‚Äôm not the only one. So I wanted to share few
things about what makes Rust viable for these kinds of throw-away coding
sprints, at least for me.</p>

<h2 id="our-goals">Our goals</h2>

<p>Sometimes, our goal isn‚Äôt really to write perfect code that is performant,
correct, handles all kinds of errors sanely, has great UX and is maintainable.
These projects are what we are proud of, sure. We pin them on github profiles.
We write blog posts about them. We write whole handbooks of best practices how
to do them.</p>

<p>But sometimes we just need to throw something together really fast and don‚Äôt
care about the quality as much. That kind of bit of cardboard and huge amount of
duck tape thing. These include:</p>

<ul>
  <li>Single-use debugging tools (‚ÄûI need to throw 10k of these weird requests at
the server to see if it triggers the bug. It didn‚Äôt? Ok, let‚Äôs try something
else‚Ä¶‚Äú)</li>
  <li>Searching for a counter-example to a claim in a scientific paper (‚ÄûI can prove
it‚Äôs a counter example once I have it, so I won‚Äôt need the code any more‚Äú)</li>
  <li>Processing bunch of data just once (‚ÄûI wonder how many of these <code>.txt</code> files
have broken unicode in them‚Äú)</li>
  <li>Figuring if something has any chance to fly at all, before committing to it
(‚ÄûCould I distribute the changes as compressed binary diffs, or would that be
too large?‚Äú)</li>
  <li>Demonstration purposes (‚ÄûWe would like to build something in lines of this,
but, you know, actually working‚Äú)</li>
</ul>

<p>Of course, there‚Äôs a lot more. I‚Äôm not even sure if there‚Äôs more of the ‚Äûproper‚Äú
coding or of this ‚Äûthrow away‚Äú coding. Except that we don‚Äôt really brag about
our throw-away code (‚ÄûLook what terrible monster I‚Äôve stitched together during
the lunch break‚Äú), we don‚Äôt write tutorials how to write them much, etc. So this
is exactly the kind of blog post we don‚Äôt write üòà.</p>

<p>Instead of writing something proper this time, we are going to talk about
how to write terrible code, but fast. We have decided to make an explicitly
sloppy job of this one and admit it to ourselves not to feel ashamed of it
later:</p>

<ul>
  <li>We want to spend as little time on it as possible. Just do it, throw the code
away after it had its use and move on. This one is going to be over by lunch
time.</li>
  <li>We don‚Äôt care about performance that much (as long as it finishes running
before the lunch too).</li>
  <li>We don‚Äôt care about handling all corner cases, only the ones we actually
encounter in the data.</li>
  <li>We don‚Äôt care about documentation or readability.</li>
  <li>We don‚Äôt care about tests, provided we are confident enough the answers are
accurate enough.</li>
  <li>Actually, we don‚Äôt really care at all‚Ä¶</li>
</ul>

<p><em>Note: make sure not to let anyone put this into production üòá. If you don‚Äôt
delete it, make sure there‚Äôs a comment on a prominent place warning people not
to use it.</em></p>

<h2 id="why-do-people-think-python-fits-here-better-than-rust">Why do people think Python fits here better than Rust</h2>

<p>The thing is, Rust <em>makes us</em> care. That‚Äôs one of the points of Rust. It‚Äôll
complain that our code is not production quality and that we need to do better
to save on the pain down the line. Its type system can be a real prick in
insisting on little details, like that ints and strings are not really the same
thing and that there‚Äôs a difference between owned and borrowed thing and‚Ä¶ Well,
you know, all that stuff. Rust wants you to make good, proper, maintainable
code.</p>

<p>On the other hand, Python doesn‚Äôt really insist on anything. Therefore, it is
easier to not care in Python.</p>

<h2 id="my-own-experience">My own experience</h2>

<p>I know a bunch of programming languages and reach for the one that I hope would
suit me best in the given time. So, for some really simple things I simply put
together few lines of shell (and some slightly less simple ones ‚Äí I‚Äôm ashamed to
admit that some 1000 lines long shell monster kept running in real production
for years ‚Äí but it <em>did run</em>). If it can be done by 2 or 3 ugly pipelines, it‚Äôs
fine.</p>

<p>Over the years, I‚Äôve used Perl a lot (that one doesn‚Äôt care if it‚Äôs int or
string‚Ä¶ no, correction, in Perl everything is a string, ints just don‚Äôt exist.
Well, kind of). It‚Äôs probably <em>the</em> language designed for throw away coding.
I‚Äôve done some Python too (that‚Äôs like Perl, but with proper objects in it, and
everything is a dictionary there).</p>

<p>But recently I‚Äôve noticed that if I try to do a similar thing, I do it faster in
Rust. Not that it runs faster (well, that usually too, but that‚Äôs not the
point), but that I‚Äôm done with the task at hand sooner and with slightly smaller
amount of cursing.</p>

<p>This certainly is in part because I‚Äôm more proficient in Rust than in Python.
It‚Äôs also because the Rust mental model is closer to how my brain works than the
Python one. <strong>Your mileage will vary</strong> ‚Äí if you‚Äôre a Python matador who‚Äôs been
coding in it for decades and are just learning Rust, you‚Äôll certainly do it
faster in Python.</p>

<p>But also, there are some tricks you might employ to do these things in Rust
faster (that is, faster than you do now, not necessarily faster than in
<code>$OTHER_LANGUAGE</code>).</p>

<h2 id="tricks-for-faster-coding">Tricks for faster coding</h2>

<h3 id="compile-times">Compile times</h3>

<p>Rust is known for its slow compile times. Python has <em>no</em> compile times. If you
have to wait every time for the compilation just to have a bunch of errors
thrown into your face, it‚Äôs going to slow you down. Especially because Rust
<em>likes to</em> throw bunch of errors at you every time you try to compile it. Rust
is known for its great error messages, so it wants to brag how good they are by
using them <em>a lot</em>.</p>

<p>You can, however, notice that you don‚Äôt really need to <em>build and run</em> every
time. That you often just want to check everything is on the right path. For
Python, you do need to actually run the thing (because Python doesn‚Äôt really
have much of a compile time so it likes to throw the bunch of errors into your
face at <em>run time</em>), but Rust is the language that ‚Äûif
it compiles, it‚Äôs correct‚Äú. And by complies, I actually mean mostly type-checks.</p>

<p>What does this all mean? You can check out:</p>

<ul>
  <li>The <code>rust-analyzer</code> language server. You‚Äôll be getting red squiggles in the
editor instead of having to compile. It‚Äôs not perfect (sometimes the list of
errors is different, sometimes it just gives up on that particular project),
but it‚Äôs getting better and it points out most of the errors without any
compilation at all.</li>
  <li><code>cargo check</code> performs just the first stages of compilation and will stop
before codegen. It means it doesn‚Äôt produce anything that could be run, but
it is so much faster and provides the bunch of errors we so much want to have.</li>
  <li>You can let <code>cargo watch</code> keep recompiling the code asynchronously in another
terminal. I just glance at it to check if there are any errors around, but I
don‚Äôt wait for it ‚Äí at worst, the list of errors is one iteration outdated. It
can be used for other things, like keeping the documentation of the current
crate up to date, or having a head start at compiling the executable, or even
having all the tests being re-run on each save (I‚Äôm getting off topic here; we
are being sloppy here on purpose, so what tests are we talking about?)</li>
</ul>

<p>These don‚Äôt make the compile times shorter, but it eliminates the <em>waiting</em> for
them from the hot coding path. It still takes some time to compile (especially
if you have a lot of dependencies and do a clean release build), but that
doesn‚Äôt mean it has to slow you down.</p>

<h3 id="embrace-the-type-system-and-borrow-checker-and-all-of-these-things">Embrace the type system (and borrow checker and all of these things)</h3>

<p>After some time working with Rust, one learns to lean onto them instead of
fighting them.</p>

<p>This is where most of my own speed up comes from and what I miss about Python.
When I want to know if my code is working, I actually have to run the Python
thing and feed it with data. Which means I either need to set up a smaller input
or wait for the whole thing to get crunched, only to have it explode on some
typo or switched order of parameters after 5 minutes of running. After 10
iterations of running the Python code (each crashing later and later in the
code), it finally finishes. By that time, I‚Äôm no longer confident it does what
it should, after all these retries, so I go back and have to figure a way to
double-check it.</p>

<p>In Rust not only I don‚Äôt have to run the code until it is almost finished and
even when I feed it the whole input (which I usually do), it‚Äôs usually faster
and it runs to completion the first time. I also can move through the code much
faster. With Python, I stop to check the documentation, think about what type
goes where, etc, exactly because it‚Äôs so painful to find out only at runtime. I
need to be careful while writing the code.
With Rust, I just type the code, get the red squiggly, fix it and move on. I
outsource that effort of checking if these things click together in any
meaningful way to the compiler.</p>

<p>This is kind of in the theme of ‚Äûhurry slowly‚Äú approach. By making sure
everything has the right types and aligns well, it makes each iteration slower.
But it also makes it possible to have much fewer iterations before the whole
thing works well enough.</p>

<p>Also, don‚Äôt fall for the impression that throwing <code>unsafe</code> in there to bypass
some of the checking will save you time. It won‚Äôt. It‚Äôs a trap. If you don‚Äôt
know for sure that you need it, then you probably don‚Äôt and doing <code>unsafe</code> right
is a lot of work. Doing it wrong is easy, maybe easier than doing it safely, but
you‚Äôll pay for it later on, when trying to figure out why the thing does
something arcanely weird. If you put any non-trivial <code>unsafe</code> in the code,
you‚Äôre risking spending days and nights in front of a debugger. The checks are
there for a reason.</p>

<h3 id="take-the-easy-way-out">Take the easy way out</h3>

<p>I don‚Äôt say to clone everything. Even in prototyping code, I often take <code>&amp;str</code>
as parameter if it‚Äôs just ‚Äûlooking at it‚Äú. But I do so in the obvious, trivial
cases. The ones I don‚Äôt really need to think about any more.</p>

<p>But if you ever find yourself thinking about writing any kind of
<code>-&gt; impl Iterator&lt;Item = &amp;impl Display&gt; + '_</code>, just stop and throw a
<code>Vec&lt;String‚Ä¶</code></p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vorner.github.io/2020/09/20/throw-away-code.html">https://vorner.github.io/2020/09/20/throw-away-code.html</a></em></p>]]>
            </description>
            <link>https://vorner.github.io/2020/09/20/throw-away-code.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536854</guid>
            <pubDate>Sun, 20 Sep 2020 19:54:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Secrets I use to becoming a better remote developer]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24536775">thread link</a>) | @mateusfreira
<br/>
September 20, 2020 | https://mateusfreira.github.io/@mateusfreira-secrets-to-becoming-a-better-remote-developer/ | <a href="https://web.archive.org/web/*/https://mateusfreira.github.io/@mateusfreira-secrets-to-becoming-a-better-remote-developer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>I have been working as a remote developer fulltime, for the last five years. Part-time/freelancing for at least ten years, over this time, I have collected several tips and tricks on how to become better at it and how to succeed and deliver results under this environment. I am writing this post to share some of these tricks, while this is a brief list. I am always testing these things. I thought it would be useful to do this one and periodically create a new one to share some updates.</p>

<p>If you are a TLDR reader, I am sharing here the list of the subtitles:</p>

<ul id="markdown-toc">
  <li><a href="#secrets" id="markdown-toc-secrets">Secrets</a>    <ul>
      <li><a href="#be-positive-and-open-minded" id="markdown-toc-be-positive-and-open-minded">Be Positive and Open-minded</a></li>
      <li><a href="#create-a-clean-setup-and-neat-workspace" id="markdown-toc-create-a-clean-setup-and-neat-workspace">Create a clean setup and neat workspace</a></li>
      <li><a href="#create-a-before-commit-secret-message" id="markdown-toc-create-a-before-commit-secret-message">Create a ‚Äúbefore commit‚Äù secret message</a></li>
      <li><a href="#create-a-pull-request-checklist" id="markdown-toc-create-a-pull-request-checklist">Create a Pull request checklist</a></li>
      <li><a href="#address-daily-meetings-like-a-diary" id="markdown-toc-address-daily-meetings-like-a-diary">Address daily meetings like a diary</a></li>
      <li><a href="#tools-you-should-use" id="markdown-toc-tools-you-should-use">Tools you should use</a>        <ul>
          <li><a href="#1-grammarly" id="markdown-toc-1-grammarly">1. Grammarly</a></li>
          <li><a href="#2-time-tracker" id="markdown-toc-2-time-tracker">2. Time tracker</a></li>
          <li><a href="#3-skitch" id="markdown-toc-3-skitch">3. Skitch</a></li>
          <li><a href="#4-obs-screen-recording" id="markdown-toc-4-obs-screen-recording">4. OBS (screen recording)</a></li>
        </ul>
      </li>
      <li><a href="#take-notes-notes-and-notes" id="markdown-toc-take-notes-notes-and-notes">Take Notes, notes, and notes</a></li>
      <li><a href="#work-in-the-morning" id="markdown-toc-work-in-the-morning">Work in the morning</a></li>
      <li><a href="#create-a-routine" id="markdown-toc-create-a-routine">Create a routine</a>        <ul>
          <li><a href="#1-wake-up-early" id="markdown-toc-1-wake-up-early">1. Wake up early</a></li>
          <li><a href="#2-prepare-coffee" id="markdown-toc-2-prepare-coffee">2. Prepare coffee</a></li>
          <li><a href="#3-workout-3-times-a-week" id="markdown-toc-3-workout-3-times-a-week">3. Workout 3 times a week</a></li>
          <li><a href="#4-read" id="markdown-toc-4-read">4. Read</a></li>
          <li><a href="#5-write" id="markdown-toc-5-write">5. Write</a></li>
          <li><a href="#6-sleep-regularly" id="markdown-toc-6-sleep-regularly">6. Sleep regularly</a></li>
        </ul>
      </li>
      <li><a href="#use-vim-and-tmux-or-at-least-master-your-env-and-editor" id="markdown-toc-use-vim-and-tmux-or-at-least-master-your-env-and-editor">Use Vim and Tmux (or at least master your Env and editor)</a></li>
      <li><a href="#create-a-dotproject" id="markdown-toc-create-a-dotproject">Create a Dotproject</a></li>
      <li><a href="#read-these-books" id="markdown-toc-read-these-books">Read these books</a>        <ul>
          <li><a href="#1-the-culture-map" id="markdown-toc-1-the-culture-map">1. The Culture map</a></li>
          <li><a href="#2-the-pragmatic-programmer" id="markdown-toc-2-the-pragmatic-programmer">2. The Pragmatic Programmer</a></li>
          <li><a href="#3-getting-thins-done" id="markdown-toc-3-getting-thins-done">3. Getting Thins done</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
  <li><a href="#reviewers" id="markdown-toc-reviewers">Reviewers</a></li>
</ul>

<p>Now, if you find something interesting, stay with me and let‚Äôs learn something.</p>

<h2 id="secrets">Secrets</h2>

<p>From the easiest to the hardest.</p>

<h3 id="be-positive-and-open-minded">Be Positive and Open-minded</h3>

<p>This may be cliche, and not everyone is a positive person (and does not need to be). Still, is cool to have a positive attitude upfront a challenge or request; I am not saying you should be a yes man, I am saying that when you get a request, try to think about it as if is a challenge rather than a boring request,  or someone wanting to steal some of your time.</p>

<p>Be energetic and show what happens when you overcome some hard challenges, push the time to be more positive (for example). Being positive and expressing the success will increase yours and your team morale, and high team morale increases the chance of success.</p>

<h3 id="create-a-clean-setup-and-neat-workspace">Create a clean setup and neat workspace</h3>

<p>My workspace has a significant impact on my state of mind and even my productivity; back when I started working remotely, my office was a mess. I had a lot of objects on my table, and lots of them I had never used or even touched. That all ended-up on a day that I got a massive allergy that lasted for over two weeks. I noticed that was because of the dust in my office. It was out of control, and it would have been easier to clean it up weren‚Äôt for all the objects I had on my table.</p>

<p><img src="https://user-images.githubusercontent.com/234049/92327865-0b314c80-f033-11ea-9727-baa8721d65a7.png" alt="Old office"></p>

<p>At that time, I also noticed I would work anywhere but in the office. After that day, I cleaned my office and removed everything from my table. In one week, I noticed a productivity-boosting and a much better sense of peace while working in my office. Then I started reading about all of that ‚Äúclean-setup‚Äù movement, which immediately made sense. So I started the journey on how I could de more productive without working more hours, and I decided to go all-in. I stopped buying electronics that I rarely used and instead, I used the money to make my office simpler, cleaner, and more set to productivity.
I bought two ergonomic chairs, started using a single and bigger monitor instead of two. I got a mechanical arm that suspends it and therefore I do not occupy my table with supports. I switched my wired mouse and keyboard for wireless, added a plant, and even a fancy lamp to my office table.</p>

<p>Here is how it looks now.</p>

<p><img src="https://user-images.githubusercontent.com/234049/93273814-36ccd900-f78f-11ea-844e-bad54f0d8dab.png" alt="New office"></p>

<p>Since these changes, I‚Äôve noticed an even more significant increase in my productivity and well-being while working. I am still working out of the office sometimes, like from the garden of my house, from coffee shops or libraries, but now I feel there is no more productive place than my office in the quiet hours of the day. And I have tested myself to see how to return to the old mess environment. I placed a single page of paper on my table next to my keyboard, and at the end of that day, I felt exhausted. That day didn‚Äôt feel productive at all. It amazes me how much impact can a little mess do to my well-being nowadays, and how could I possibly work on such a chaotic environment in a close past.</p>

<p><img src="https://user-images.githubusercontent.com/234049/92327958-bcd07d80-f033-11ea-86d5-4c8205b63a1f.jpg" alt="Garden"></p>

<h3 id="create-a-before-commit-secret-message">Create a ‚Äúbefore commit‚Äù secret message</h3>

<p>Before doing any commit, my secret is that I will have my editor asking me, <code>Is it easy to change?</code>. This advice comes from several coding or software design books. The most important factory of a useful feature, project, software, method, and commit is that it needs to be changed easily. The idea for that message came from the book <a href="https://amzn.to/2AVGWiZ">Pragmatic programmer</a> (This is an outstanding book I recommend for any programmer at any level). As soon as I read it, I knew it would be a good idea to ask my self that question from time to time, once every commit seems to be the best I have for the moment.</p>

<p><img src="https://mateusfreira.github.io/images/commit-message.png" alt="Secret commit question"></p>

<h3 id="create-a-pull-request-checklist">Create a Pull request checklist</h3>

<p>In my daily notes, I have one checklist for each PR I will open for any project. This will help me making sure that PR will be good and will pass easily on review. I am also giving a grammar checking on Grammarly (I will talk about it in detail later in the Grammarly chapter). Check the variable names I have added in (You know how hard naming is), check the docs of the methods (So I make sure I‚Äôve documented any critical information), check API docs (Changes in public APIs are usually rare, but when they happen you better remember to also update their docs). Smoke testing (of course, running the tests locally and seeing how they go). And finally, improve something I see that is bad (I try as much as I can not to rush on PR opening and to have this last step to improve something work for me like and ‚ÄúIt won‚Äôt be possible to rush at this point‚Äù. The thing is, I usually find other small problem on the code in this step and consider it to be one of the most important)</p>

<div><div><pre><code><span># PR self review check list</span>
- <span>[</span> <span>]</span> Pass grammarly <span>in </span>the PR body
- <span>[</span> <span>]</span> Pass grammarly <span>in </span>the <span>test </span>spec
- <span>[</span> <span>]</span> Revisit variables and methods names
- <span>[</span> <span>]</span> Check every public method doc
- <span>[</span> <span>]</span> Check API docs
- <span>[</span> <span>]</span> Smoke <span>test </span>everyting
- <span>[</span> <span>]</span> Improvement
</code></pre></div></div>

<h3 id="address-daily-meetings-like-a-diary">Address daily meetings like a diary</h3>

<p>Some people think that daily meetings are boring, but I think they can and should be fun and productive. I write my daily meeting notes every day as if I were keeping a diary, telling a short story about yesterday and this morning, as well as what I plan to do today and whether the plan for the week needs to change. I usually start working 4 hours before the next member of my team wakes up (I work from Brazil with a team located in the USA), so I write the notes of the daily meetings between 2 and 3 hours after starting work, which helps me to clarify how my day was yesterday, what should I keep doing, what should I avoid and what is blocking.</p>

<p>Also, the notes will give you a direct message to say at daily meetings, and I avoid starting the meeting by saying, ‚ÄúLet me remember what I did yesterday !!!‚Äù you will look professional, having the updates you need to provide at your fingertips. It also gives you a sense of how things are going over the days; you can look back at your daily notes and see if you‚Äôre making progress or not.</p>

<p>The time tracker is your ally when taking notes; this will help you not to forget any details, even if you take notes 3 days later, on a Monday. After a while, it will be natural, and you will not need to remember to do them, to start this habit, I recommend adding a task in your agenda 1 hour before the daily meeting to make notes this way once in the daily meeting begins you will be ready.</p>

<h3 id="tools-you-should-use">Tools you should use</h3>

<h4 id="1-grammarly">1. <a href="https://www.grammarly.com/">Grammarly</a></h4>

<p>Grammarly, for me, is one of the most essential tools for my day-to-day, whether as my text editor or email corrector. Writing for me is a superpower for remote workers and we have to make sure our text is reasonable; you do not need to proofread every single document you produce but it helps you not having any typos or structural problems. I do overuse Grammarly, and it has paid dividends for the last three years. Since I started my master‚Äôs degree, I had it verifying every single article and master thesis. Since then, I use to say it is the best investment I do every year.</p>

<h4 id="2-time-tracker">2. Time tracker</h4>

<p>Time tracking is a superpower that will enable you to see where you are putting your time on, even if your employer does not require it, I would recommend you to have one for many reasons.</p>
<ul>
  <li>You will where you are spending most of your time in.</li>
  <li>You can avoid overworking by knowing how many hours you worked on that day and not trusting your sense of ‚Äúhave I worked too much or too few?‚Äù</li>
</ul>

<p>Today I use <a href="https://www.getharvest.com/">Harvest</a> but in the past, while working as independet contractor I have used <a href="http://toggl.com/">Toggl</a>, and I track my activities in real time, without caring about all about details (Like I will not stop the clock if I go out to grap coffee or to read email), but I would recommend using any if them that you like using.</p>

<h4 id="3-skitch">3. <a href="https://evernote.com/products/skitch">Skitch</a></h4>

<p>One picture worths a thousand words, but it needs to be good, because sometimes you need to explain complex subjects to people that will not have the same context you have about the topic you are talking about. In that matter, Skitch is a great tool to take prints and show critical points and do short explanations. Check out the next image, where I was explaining a chart just as an example.</p>

<p><img width="1849" alt="Grafana_-_Nun-Db_Monitoring" src="https://user-images.githubusercontent.com/234049/93271844-9d032d00-f78a-11ea-9e1c-922578623c36.png"></p>

<h4 id="4-obs-screen-recording">4. <a href="https://obsproject.com/">OBS</a> (screen recording)</h4>

<p>As well as writing, showing information as video can be a superpower. Some subjects are much easier to demonstrate as a video than as a text. For example, simulating a bug or showing a problem needs to touch several services and multiple monitoring charts and sources.
Recording a good video showing how you find the bug, how you made sure it was fixed, or even explaining the process you have implemented can save you several paragraphs of text, and save you from having a PR rejected. Any complex new feature or bug fix, I would advise you to come with an excellent text in the PR, great code comments, great self-review showing the critical areas, and a good video explaining ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mateusfreira.github.io/@mateusfreira-secrets-to-becoming-a-better-remote-developer/">https://mateusfreira.github.io/@mateusfreira-secrets-to-becoming-a-better-remote-developer/</a></em></p>]]>
            </description>
            <link>https://mateusfreira.github.io/@mateusfreira-secrets-to-becoming-a-better-remote-developer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536775</guid>
            <pubDate>Sun, 20 Sep 2020 19:44:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Not Rust?]]>
            </title>
            <description>
<![CDATA[
Score 291 | Comments 271 (<a href="https://news.ycombinator.com/item?id=24536645">thread link</a>) | @dochtman
<br/>
September 20, 2020 | https://matklad.github.io/2020/09/20/why-not-rust.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2020/09/20/why-not-rust.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Sep 20, 2020</p>
  <p>I‚Äôve recently read an article criticizing Rust, and, while it made a bunch of good points, I didn‚Äôt enjoy it‚Äâ‚Äî‚Äâit was an easy to argue with piece.
In general, I feel that I can‚Äôt recommend an article criticizing Rust.
This is a shame‚Äâ‚Äî‚Äâconfronting drawbacks is important, and debunking low effort/miss informed attempts at critique sadly inoculates against actually good arguments.</p>
<p>So, here‚Äôs my attempt to argue <em>against</em> Rust:</p>
<div>
<dl>
<dt>Not All Programming is Systems Programming</dt>
<dd>
<div>
<div>
<p>Rust is a systems programming language.
It offers precise control over data layout and runtime behavior of the code, granting  you maximal performance and flexibility.
Unlike other systems programming languages, it also provides memory safety‚Äâ‚Äî‚Äâbuggy programs terminate in a well-defined manner, instead of unleashing (potentially security-sensitive) undefined behavior.</p>
<p>However, in many (most) cases, one doesn‚Äôt need ultimate performance or control over hardware resources.
For these situations, modern managed languages like Kotlin or Go offer decent speed, enviable
<a href="https://qconlondon.com/london-2017/system/files/presentation-slides/highperformancemanagedlanguages.pdf">time to performance</a>, and are memory safe by virtue of using a garbage collector for dynamic memory management.</p>
</div>
</div>
</dd>
<dt>Complexity</dt>
<dd>
<div>
<div>
<p>Programmer‚Äôs time is valuable, and, if you pick Rust, expect to spend some of it on learning the ropes.
Rust community poured a lot of time into creating high-quality teaching materials, but the Rust language <em>is</em> big.
Even if a Rust implementation would provide value for you, you might not have resources to invest into growing the language expertise.</p>
<p>Rust‚Äôs price for improved control is the curse of choice:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
6
</pre></td><td><pre><span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Bar</span>         <span>}</span>
<span>struct</span> <span>Foo</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span> <span>bar</span><span>:</span> <span>&amp;</span><span>'a</span> <span>Bar</span>     <span>}</span>
<span>struct</span> <span>Foo</span><span>&lt;</span><span>'a</span><span>&gt;</span> <span>{</span> <span>bar</span><span>:</span> <span>&amp;</span><span>'a</span> <span>mut</span> <span>Bar</span> <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Box</span><span>&lt;</span><span>Bar</span><span>&gt;</span>    <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Rc</span><span>&lt;</span><span>Bar</span><span>&gt;</span>     <span>}</span>
<span>struct</span> <span>Foo</span>     <span>{</span> <span>bar</span><span>:</span> <span>Arc</span><span>&lt;</span><span>Bar</span><span>&gt;</span>    <span>}</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>In Kotlin, you write <code>class Foo(val bar: Bar)</code>, and proceed with solving your business problem.
In Rust, there are choices to be made, some important enough to have dedicated syntax.</p>
<p>All this complexity is there for a reason‚Äâ‚Äî‚Äâwe don‚Äôt know how to create a simpler memory safe low-level language.
But not every task requires a low-level language to solve it.</p>

</div>
</div>
</dd>
<dt>Compile Times</dt>
<dd>
<div>
<div>
<p>Compile times are a multiplier for everything.
A program written in a slower to run but faster to compile programming language can be <em>faster</em> to run because the programmer will have more time to optimize!</p>
<p>Rust intentionally picked slow compilers in the <a href="https://research.swtch.com/generic">generics dilemma</a>.
This is not necessary the end of the world (the resulting runtime performance improvements are real), but it does mean that you‚Äôll have to fight tooth and nail for reasonable build times in larger projects.</p>
<p><code>rustc</code> implements what is probably the most advanced <a href="https://rustc-dev-guide.rust-lang.org/queries/incremental-compilation.html">incremental compilation</a> algorithm in production compilers, but this feels a bit like fighting with language compilation model.</p>
<p>Unlike C++, Rust build is not embarrassingly parallel; the amount of parallelism is limited by length of the critical path in the dependency graph.
If you have 40+ cores to compile, this shows.</p>
<p>Rust also lacks an analog for the <a href="https://en.cppreference.com/w/cpp/language/pimpl">pimpl</a> idiom, which means that changing a crate requires recompiling (and not just relinking) all of its reverse dependencies.</p>
</div>
</div>
</dd>
<dt>Maturity</dt>
<dd>
<div>
<div>
<p>Five years old, Rust is definitely a young language.
Even though its future looks bright, I will bet more money on ‚ÄúC will be around in ten years‚Äù than on ‚ÄúRust will be around in ten years‚Äù
(See <a href="https://en.wikipedia.org/wiki/Lindy_effect">Lindy Effect</a>).
If you are writing software to last decades, you should seriously consider risks associated with picking new technologies.
(But keep in mind that picking Java over Cobol for banking software in 90s retrospectively turned out to be the right choice).</p>
<p>There‚Äôs only one complete implementation of Rust‚Äâ‚Äî‚Äâthe <a href="https://github.com/rust-lang/rust/"><code>rustc</code></a> compiler.
The most advanced alternative implementation, <a href="https://github.com/thepowersgang/mrustc"><code>mrustc</code></a>, purposefully omits many static safety checks.
<code>rustc</code> at the moment supports only a single production-ready backend‚Äâ‚Äî‚ÄâLLVM.
Hence, its support for CPU architectures is narrower than that of C, which has GCC implementation as well as a number of vendor specific proprietary compilers.</p>
<p>Finally, Rust lacks an official specification.
<a href="https://doc.rust-lang.org/reference/">The reference</a> is a work in progress, and does not yet document all the fine implementation details.</p>
</div>
</div>
</dd>
<dt>Alternatives</dt>
<dd>
<div>
<div>
<p>There are other languages besides Rust in systems programming space, notably, C, C++, and Ada.</p>
<p>Modern C++ provides <a href="https://www.viva64.com/en/pvs-studio/">tools</a> and <a href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">guidelines</a> for improving safety.
There‚Äôs even a proposal for a Rust-like <a href="https://github.com/isocpp/CppCoreGuidelines/blob/master/docs/Lifetime.pdf">lifetimes</a> mechanism!
Unlike Rust, using these tools does not <em>guarantee</em> the absence of memory safety issues.
However, if you already maintain a large body of C++ code, it makes sense to check if following best practices and using <a href="https://clang.llvm.org/docs/UndefinedBehaviorSanitizer.html">sanitizers</a> helps with security issues.
This is hard, but clearly is easier than rewriting in another language!</p>
<p>If you use C, you can use formal methods to <a href="https://sel4.systems/Info/FAQ/proof.pml">prove</a> the absence of undefined behaviors, or just <a href="https://sqlite.org/testing.html">exhaustively test</a> everything.</p>
<p>Ada is memory safe if you don‚Äôt use dynamic memory (never call <code>free</code>).</p>
<p>Rust is an interesting point on the cost/safety curve, but is far from the only one!</p>
</div>
</div>
</dd>
<dt>Tooling</dt>
<dd>
<div>
<div>
<p>Rust tooling is a bit of a hit and miss.
The baseline tooling, the compiler and the build system
(<a href="https://doc.rust-lang.org/cargo/index.html">cargo</a>), are often cited as best in class.</p>
<p>But, for example, some runtime-related tools (most notably, heap profiling) are just absent‚Äâ‚Äî‚Äâit‚Äôs hard to reflect on the runtime of the program if there‚Äôs no runtime!
Additionally, while IDE support is decent, it is nowhere near the Java-level of reliability.
Automated complex refactors of multi-million line programs are not possible in Rust today.</p>
</div>
</div>
</dd>
<dt>Integration</dt>
<dd>
<div>
<div>
<p>Whatever the Rust promise is, it‚Äôs a fact of life that today‚Äôs systems programming world speaks C, and is inhabited by C and C++.
Rust intentionally doesn‚Äôt try to mimic these languages‚Äâ‚Äî‚Äâit doesn‚Äôt use C++-style classes or C ABI.</p>
<p>That means that integration between the worlds needs explicit bridges.
These are not seamless.
They are <code>unsafe</code>, not always completely zero-cost and need to be synchronized between the languages.
While the general promise of <a href="http://adventures.michaelfbryan.com/posts/how-to-riir/">piece-wise integration</a> holds up and the <a href="https://github.com/dtolnay/cxx">tooling</a> catches up, there is accidental complexity along the way.</p>
<p>One specific gotcha is that Cargo‚Äôs opinionated world view (which <em>is</em> a blessing for pure Rust projects) might make it harder to integrate with a bigger build system.</p>
</div>
</div>
</dd>
<dt>Performance</dt>
<dd>
<div>
<div>
<p>‚ÄúUsing LLVM‚Äù is not a universal solution to all performance problems.
While I am not aware of benchmarks comparing performance of C++ and Rust at scale, it‚Äôs not to hard to come up with a list of cases where Rust leaves some performance on the table relative to C++.</p>
<p>The biggest one is probably the fact that Rust‚Äôs move semantics is based on values (<code>memcpy</code> at the machine code level).
In contrast, C++ semantics uses special references you can steal data from (pointers at the machine code level).
In theory, compiler should be able to see through chain of copies; in practice it often doesn‚Äôt: <a href="https://github.com/rust-lang/rust/issues/57077">#57077</a>.
A related problem is the absence of placement new‚Äâ‚Äî‚ÄâRust sometimes need to copy bytes to/from the stack, while C++ can construct the thing in place.</p>
<p>Somewhat amusingly, Rust‚Äôs default ABI (which is not stable, to make it as efficient as possible) is sometimes worse than that of C: <a href="https://github.com/rust-lang/rust/issues/26494#issuecomment-619506345">#26494</a>.</p>
<p>Finally, while in theory Rust code should be more efficient due to the significantly richer aliasing information, enabling aliasing-related optimizations triggers LLVM bugs and miscompilations: <a href="https://github.com/rust-lang/rust/issues/54878">#54878</a>.</p>
<p>But, to reiterate, these are cherry-picked examples, sometimes the field is tilted the other way.
For example, <code>std::unique_ptr</code> <a href="https://www.youtube.com/watch?v=rHIkrotSwcc&amp;feature=youtu.be&amp;t=1261">has a performance problem</a> which Rust‚Äôs <code>Box</code> lacks.</p>
<p>A potentially bigger issue is that Rust, with its definition time checked generics, is less expressive than C++.
So, some C++ <a href="http://eigen.tuxfamily.org/index.php?title=Expression_templates">template tricks</a> for high performance are not expressible in Rust using a nice syntax.</p>
</div>
</div>
</dd>
<dt>Meaning of Unsafe</dt>
<dd>
<div>
<div>
<p>An idea which is even more core to Rust than ownership &amp; borrowing is perhaps that of <code>unsafe</code> boundary.
That, by delineating all dangerous operations behind <code>unsafe</code> blocks and functions and insisting on providing a safe higher-level interface to them, it is possible to create a system which is both</p>
<div>
<ol>
<li>
<p>sound (non-<code>unsafe</code> code can‚Äôt cause undefined behavior),</p>
</li>
<li>
<p>and modular (different <code>unsafe</code> blocks can be checked separately).</p>
</li>
</ol>
</div>
<p>It‚Äôs pretty clear that the promise works out in practice: <a href="https://github.com/rust-fuzz/trophy-case">fuzzing Rust code</a> unearths panics, not buffer overruns.</p>
<p>But the theoretical outlook is not as rosy.</p>
<p><em>First</em>, there‚Äôs no definition of Rust memory model, so it is impossible to formally check if a given unsafe block is valid or not.
There‚Äôs informal definition of ‚Äúthings rustc does or might rely on‚Äù and in in-progress <a href="https://github.com/rust-lang/miri">runtime verifier</a>, but the actual model is in flux.
So there might be some <code>unsafe</code> code somewhere which works OK in practice today, might be declared invalid tomorrow, and broken by a new compiler optimization next year.</p>
<p><em>Second</em>, there‚Äôs also an observation that <code>unsafe</code> blocks are not, in fact, modular.
Sufficiently powerful <code>unsafe</code> blocks can, in effect, extend the language.
Two such extensions might be fine in isolation, but lead to undefined behavior if used simultaneously:
<a href="https://smallcultfollowing.com/babysteps/blog/2016/10/02/observational-equivalence-and-unsafe-code/">Observational equivalence and unsafe code</a>.</p>

</div>
</div>
</dd>
</dl>
</div>
<p>Here are some thing I‚Äôve deliberately omitted from the list:</p>
<div>
<ul>
<li>
<p>Economics (‚Äúit‚Äôs harder to hire Rust programmers‚Äù)‚Äâ‚Äî‚ÄâI feel that the ‚Äúmaturity‚Äù section captures the essence of it which is not reducible to chicken and egg problem.</p>
</li>
<li>
<p>Dependencies (‚Äústdlib is too small / everything has too many deps‚Äù)‚Äâ‚Äî‚Äâgiven how good Cargo and the relevant parts of the language are, I personally don‚Äôt see this as a problem.</p>
</li>
<li>
<p>Dynamic linking (‚ÄúRust should have stable ABI‚Äù)‚Äâ‚Äî‚ÄâI don‚Äôt think this is a strong argument. Monomorphization is pretty fundamentally incompatible with dynamic linking and there‚Äôs C ABI if you really need to. I do think that the situation here can be improved, <a href="https://internals.rust-lang.org/t/a-stable-modular-abi-for-rust/12347/10?u=matklad">but I don‚Äôt think that improvement needs to be Rust-specific</a>.</p>
</li>
</ul>
</div>

</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2020/09/20/why-not-rust.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536645</guid>
            <pubDate>Sun, 20 Sep 2020 19:27:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tracing the NYC Trip in ‚ÄúThe Warriors‚Äù (2006)]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24536427">thread link</a>) | @keiferski
<br/>
September 20, 2020 | http://www.stonegreasers.com/greaser/conclay.html | <a href="https://web.archive.org/web/*/http://www.stonegreasers.com/greaser/conclay.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="centernote"> 	
		<h3>Coney Island to The Bronx</h3>  
  		<p>"The Warriors" Movie: In 1979, the Street Gang the Coney Island Warriors made their Famous Trip - From Coney Island to Dyre Avenue/Eastchester in the Bronx - which would Change Their Lives Forever!. March 27, 2006, I Documented their Legendary Trip. "<em>It's still on, and we're going. Cyrus sent an emissary this afternoon to make sure. Cyrus don't want anybody packed or anybody flexing any muscle. So I gave him my word that the Warriors would uphold the truce. Everybody says that Cyrus is the one and only. I think we'd better go have a look for ourself</em>."</p>
		
<div><p><img src="http://www.stonegreasers.com/greaser/coney_station.jpg" alt="Its still and were going! Stillwells and Ocean Avenue Subway Station"> From Stillwells and Ocean Avenue, you take the Q Train to Union Square, that is where you catch the Number 5 Bronx train to Eastchester. 
		</p><p><span>"We ain't been to the Bronx before!"</span></p><p> <span>"No sweat! This Conclave is going to be a big item, every gang in the city is going to be there!"</span></p></div>

		<h2>The Big CI Coney Island</h2>
		<p><img src="http://www.stonegreasers.com/greaser/coney1.jpg" alt="Coney Island freak show building"><br>
      		<img src="http://www.stonegreasers.com/greaser/coney2.jpg" alt="Coney Island Neighborhood to the west from station">	
                <img src="http://www.stonegreasers.com/greaser/coney3.jpg" alt="Coney Island neighborhood to the North from the station">
      		<span>"We Fought All Night to Get Back to this?"</span></p>     	
  
    		<h2>Wonderwheel, The Cyclone, and the Observation Tower</h2>
		<div><p><img src="http://www.stonegreasers.com/greaser/q_train1.jpg" alt="From the Q Train, Coney Island and the Ocean">Q Train leaving Stillwells Station, you can see the world famous Cyclone Roller Coaster, the observation tower, the Wonderwheel, and the Ocean in the background. </p><p><span>"Were goin in there with nothing! Were goin in their like everybody else - nine guys, no weapons!"</span></p></div>
    
		<h4>At the Q line curve (East 16th Street) - Taggings on Buildings</h4>

         	<div><p><img src="http://www.stonegreasers.com/greaser/q_train2.jpg" alt="Around the curve, gang taggings on the buildings.">      The Q Train runs along Ocean Parkway, curves and heads up East 16th Street until it hits Prospect Park and runs along Flatbush Avenue.</p><p><span>"What do you know about Cyrus? He's the One and Only!" </span></p></div>
    
    		<h4>Union Square - 14th Street Station - Little Break in the Action</h4>
		<div><p><img src="http://www.stonegreasers.com/greaser/Union_sq.jpg" alt="Break in the action - the Gray Mime at Union Square">On my way down the ramp to pick up the Number 5 Bronx bound Lexington, I did not get delayed by the Punks or the Baseball Furies, but I did run into the Gray Lady Mime.</p><p><span>"You never what you're gonna run into. In our colours, we can't hide."<p>"Who wants to hide?"</p></span></p></div>

          	<h4>42nd Street - Grand Central Station</h4>
        	<div><p><img src="http://www.stonegreasers.com/greaser/lexington1.jpg" alt="The Lexington Number 5 Train"><span>"42nd Street - Next Stop!" </span></p><p>Made it to Grand Central. Now pick up the number 5 Bronx bound train.</p><p><span>"That's our train!" </span></p></div>
      
    		<h4>Lexington Number 5 Sights and Scenes</h4>    
      		<p><img src="http://www.stonegreasers.com/greaser/morris.jpg" alt="Bronx Morris Station">Morris Park Station - we are in the Bronx.  </p>
		<p><img src="http://www.stonegreasers.com/greaser/prospect.jpg" alt="Prospect Park Subway Station">Passing Prospect Avenue</p>
		<p><img src="http://www.stonegreasers.com/greaser/gunhill.jpg" alt="Gun Hill Subway station">Passing Gun Hill Road </p>
     
   		<h4>Dyre Avenue - Eastchester Final Stop</h4>
		<div><p><img src="http://www.stonegreasers.com/greaser/dyre.jpg" alt="Dyre Road Subway station">We made it! Dyre Avenue Station, the last stop on the Number 5. Now to make it to the Conclave to meet Cyrus.</p><p>Standing on the station platform, you can imagine the various gangs coming into the station and heading down the steps on their way to the Conclave.</p></div>
     
    		<h4>Scenes of the Dyre Avenue Hood</h4>
   		<p><img src="http://www.stonegreasers.com/greaser/dyre_station_3.jpg" alt="Dyre Road/Eastchester Subway Station">Eastchester Station </p>
          	<p><img src="http://www.stonegreasers.com/greaser/dyre_station_2.jpg" alt="Dyre Road Station - different angle photo">Not much in the way of a cemetery in the area, as I walked around looking for the Conclave. Today, the area seems to be desserted, or just a commuter stop. </p>
		<div><p><img src="http://www.stonegreasers.com/greaser/dyre_station_4.jpg" alt="Syre Road Subway station from a different angle">Picture taken from the Dyre Avenue Station platform.</p><p>Reminds me of the neighborhood the Orphans were from.</p></div>
     
    		<h4>Number 4 (Muggers' Express) Woodlawn Station</h4>
  		<p><img src="http://www.stonegreasers.com/greaser/woodlawn1.jpg" alt="Woodlawn Subway Station and Cementary">You have to wonder if the producer of the Warriors wanted us to imagine where the location of the Conclave was really at, because it seems like the Woodlawn line (aka. Muggers' Express), Route 4, would have been a better choice since across the street from the Woodlawn Station is the famous Civil War era Woodlawn Cemetery? </p>
  
		<h3>Retracing The Warriors By Subway Lines</h3> 
<ul>
<li>Looking at the MTA Subway Map, and considering that the map in the movie showed them taking the Number 5 Train to Eastchester, I would have to assume after the Warriors were chased by the Turnbull A.C's, they rode the Number 5 down as far as Morris Park before they were detoured by the subway line fire. That way they could walk to the Pelham Parkway Station and pick up the Number 2 line. If they were able to make it down as far as the 149th Street and Grand Concourse Station, they would be able to run between the B, D, 2, 4, 5, and 6 Lines. I assume that is what the Director wanted us to think. </li>

<li>After watching the Directors-cut DVD, you find that the producer wanted you to come to your own conclusion to the various questions that you have about the famous trip. He gave you the map on where the Warriors arrived, and I think the rest is up to
  	 your imagination on where the following events took place.</li>


<li>The subway map in "The Warriors" movie, showed that the "D", "M", "Q", and "B" trains made the Brighton Beach Coney Island loop. Today, the "B" train stops at Brighton Beach and the "M" train travels on the Fourth Avenue/New Utrecht line. The "Q" Train is the only train that still travels to Coney Island via the Brighton line. The trains that travel to and from Coney Island are the D, F, N, and Q lines. The N and D Trains connect to the number 4, 5, and 6 Bronx bound trains at the Broadway-Lafayette Street Station. The F Train connects to those lines at the Canal Street Station. The Q and the N Trains are the only two trains making the Union Square - 14th Street connection, but the Q train is the only one that swings out towards Brighton Beach from the Stillwell's station like the 1970 Subway map in the movie. The N train also runs through Bay Ridge instead of running either the Culver or Brighton Lines. Like the Fox said to Rembrant, "Nobody can read these maps anyways!"</li>
<li>I could not find Cyrus, the Turnbull A.C's, the Rogues, or the rest of the gangs at either location, but I wanted everyone to know - The Gaylords were there! <a href="http://www.stonegreasers.com/greaser/lords_of_kilbourn.html">"Lords of Kilbourn"</a></li>
<li><a href="http://www.scoutingny.com/the-new-york-city-filming-locations-of-the-warriors-ny-youve-changed/">New York City Filming Location for The Warriors</a> - Great website that takes you through the filming loacations in the movie.</li>
</ul>



        </div></div>]]>
            </description>
            <link>http://www.stonegreasers.com/greaser/conclay.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536427</guid>
            <pubDate>Sun, 20 Sep 2020 19:03:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Octopods: Shape matters for light-activated nanocatalysts]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24536394">thread link</a>) | @finphil
<br/>
September 20, 2020 | https://nuadox.com/post/629803542619799552/octopods-nanocatalysts | <a href="https://web.archive.org/web/*/https://nuadox.com/post/629803542619799552/octopods-nanocatalysts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="629803542619799552">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/629803542619799552/octopods-nanocatalysts"><h2>Octopods:&nbsp;Shape matters for light-activated nanocatalysts</h2></a>
                                <figure data-orig-width="1800" data-orig-height="1200"><img src="https://64.media.tumblr.com/61f770ac6dbb075d4c46dddf67290c00/40946e0589ad0ccd-3d/s1280x1920/b0d1a3556e40d1eafe7b8793a38ee67149a7d702.jpg" alt="image" data-orig-width="1800" data-orig-height="1200" width="1280" height="853"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnews.rice.edu%2Fauthor%2Fjadeboyd%2F&amp;t=YzY5NzliYjdhN2IwN2Y0NmY4MTY5OGUwNjNkZTRlZWU3OGQ5Nzk4MSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Jade Boyd</a> , <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.rice.edu%2F&amp;t=YWJmOTk2ZGZmMGE4NjVhNmU3ZWQxMjg4YWUyMDI1Y2JmYjE4MzBkZSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Rice University</a> -</b></p><p>

Points matter when designing nanoparticles that drive important chemical reactions using the power of light. Researchers at Rice University‚Äôs <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Flanp.blogs.rice.edu%2F&amp;t=YWQyNzBiZWNjNzI0ODkzMTRlMjJiYTk0ZGNjNDYzYzhhYzZlN2YzYixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Laboratory for Nanophotonics</a> (LANP) have <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2006%2F03%2F14%2Frice-university-researchers-create-nanorice%2F&amp;t=NGNlNjkzZmQwYmVlY2NkMDFiMDlkYmI4MTQ3OGM4ZTE2ZjNjZTQxMyxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">long known</a> that a nanoparticle‚Äôs shape affects how it interacts with light, and their <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdx.doi.org%2F10.1021%2Facsnano.0c05383&amp;t=ZjlmODVjNGJmYzE5YTI1NmU2YTczOTQ1Y2NlZDA4ODk2MzhiMjI4ZCxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">latest study</a> shows how shape affects a particle‚Äôs ability to use light to catalyze important chemical reactions.</p><p>In a comparative study, LANP graduate students Lin Yuan and Minhan Lou and their colleagues studied aluminum nanoparticles with identical optical properties but different shapes. The most rounded had 14 sides and 24 blunt points. Another was cube-shaped, with six sides and eight 90-degree corners. The third, which the team dubbed ‚Äúoctopod,‚Äù also had six sides, but each of its eight corners ended in a pointed tip.</p><p>All three varieties have the ability to capture energy from light and release it periodically in the form of super-energetic <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2015%2F07%2F22%2Frice-finding-could-lead-to-cheap-efficient-metal-based-solar-cells%2F&amp;t=NmNiOWM2NGM0NDQyMzNhYWE2Mzg1NDQ1NTFjNTI2YWMzMjkzYWRiZixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">hot electrons</a> that can speed up catalytic reactions. Yuan, a chemist in the research group of LANP director <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fprofiles.rice.edu%2Ffaculty%2Fnaomi-j-halas&amp;t=ZjA4YmRhOGM2YmVmNmQzZDkwYWEyNzFiNDIwYjE3OWZkYWM5MjNjZCxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Naomi Halas</a>, conducted experiments to see how well each of the particles performed as photocatalysts for hydrogen dissociation reaction. The tests showed octopods had a 10 times higher reaction rate than the 14-sided nanocrystals and five times higher than the nanocubes. Octopods also had a lower apparent <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.khanacademy.org%2Fscience%2Fhigh-school-biology%2Fhs-energy-and-transport%2Fhs-enzymes%2Fa%2Factivation-energy&amp;t=NjQ5NjEyMDgzODAxNWY2Y2JhOWQ4Mjk5Yzk3NGY4MzMwYmZjNjk1NCxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">activation energy</a>, about 45% lower than nanocubes and 49% lower than nanocrystals.</p><p>‚ÄúThe experiments demonstrated that sharper corners increased efficiencies,‚Äù said Yuan, co-lead author of the study, which is published in the American Chemical Society journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fpubs.acs.org%2Fjournal%2Fancac3&amp;t=YjgwZDNhMWIwOGUzYWNlMzE5ZGFmYzVjNTMwZjVhOTljODg1NzQ5NSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968"><i>ACS Nano</i></a>. ‚ÄúFor the octopods, the angle of the corners is about 60 degrees, compared to 90 degrees for the cubes and more rounded points on the nanocrystals. So the smaller the angle, the greater the increase in reaction efficiencies. But how small the angle can be is limited by chemical synthesis. These are single crystals that prefer certain structures. You cannot make infinitely more sharpness.‚Äù</p><p>Lou, a physicist and study co-lead author in the research group of LANP‚Äôs <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnordlander.rice.edu%2Fmembers%2Fnordlander&amp;t=YjY3NjlmODM5NDljNWI2N2IwMzU4MjQyMjE2MmM3NzFkY2U4NjNhMyxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Peter Nordlander</a>, verified the results of the catalytic experiments by developing a theoretical model of the hot electron energy transfer process between the light-activated aluminum nanoparticles and hydrogen molecules.</p><p>‚ÄúWe input the wavelength of light and particle shape,‚Äù Lou said. ‚ÄúUsing these two aspects, we can accurately predict which shape will produce the best catalyst.‚Äù</p><p>The work is part of an ongoing <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.epa.gov%2Fgreenchemistry%2Fbasics-green-chemistry%23twelve&amp;t=YjQ5NjVmZjgyNWNlNmQ3ZmI3OTE1ZDdhMTVkODFkZWVkZWY5OTJhNyxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">green chemistry</a> effort by LANP to develop commercially viable light-activated nanocatalysts that can insert energy into chemical reactions with <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fmagazine.rice.edu%2F2018%2F02%2Fwe-dont-know%2F&amp;t=ZTAxZjE3MjU2MTE3NzYzMWI3ZGQ0NjczNGU2N2YwMmEwMWE5MGEzNyxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">surgical precision</a>. LANP has previously demonstrated catalysts for <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnews.rice.edu%2F2016%2F07%2F18%2Frices-antenna-reactor-catalysts-offer-best-of-both-worlds%2F&amp;t=YjVkNDk5OWRjMmU5NWJmMTZiN2ZhMTg3MzM5Y2U3MjJmMzBiZjU0MixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">ethylene</a> and <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2020%2F01%2F10%2Fgasification-goes-green%2F&amp;t=NzhiMjkwMDljNzM2Yzg0NzE3M2U2ZmEzYmQ2N2RkZDI3NWM1NTUwYSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">syngas</a> production, the <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnews.rice.edu%2F2018%2F10%2F04%2Flight-makes-rice-u-catalyst-more-effective-2%2F&amp;t=NWRkNzY0OWM3NDgxNzQ1YjcxOGZjN2EyOGQxZmM1YWM0ZjBmZTk3YSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">splitting of ammonia</a> to produce hydrogen fuel and for <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.rice.edu%2F2020%2F06%2F22%2Ffluorocarbon-bonds-are-no-match-for-light-powered-nanocatalyst-2%2F&amp;t=NDJlZDM5YmI1M2ZkY2Y1OGJhZGJlM2E2ZWQ0YmUwNzMxNDljNTdjOCxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">breaking apart ‚Äúforever chemicals.‚Äù</a></p><p>‚ÄúThis study shows that photocatalyst shape is another design element engineers can use to create photocatalysts with the higher reaction rates and lower activation barriers,‚Äù said Halas, Rice‚Äôs &nbsp;Stanley C. Moore Professor of Electrical and Computer Engineering, director of Rice‚Äôs <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fsci.rice.edu%2F&amp;t=NjQxZjllNGMzNDgyN2I1N2MyOTdjM2YwZmJhMTg2NzU1YWNhODJmOSxUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Smalley-Curl Institute</a> and a professor of chemistry, bioengineering, physics and astronomy, and materials science and nanoengineering.</p><p>‚Äì</p><p><i>Header image: A study of aluminum nanocatalysts by Rice University‚Äôs Laboratory for Nanophotonics found that octopods (left), six-sided particles with sharply pointed corners, had a reaction rate five times higher than nanocubes (center) and 10 times higher than 14-sided nanocrystals. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnews.rice.edu%2F2020%2F09%2F18%2Fshape-matters-for-light-activated-nanocatalysts-2%2F&amp;t=OTQ0YWI4ZmE5OTZhYjRjODAzM2RmZDVmYzdmMjY4NmVhNGMzZTdkMixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Lin Yuan/Rice University</a>.</i></p><p><b>Source: <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnews.rice.edu%2F2020%2F09%2F18%2Fshape-matters-for-light-activated-nanocatalysts-2%2F&amp;t=OTQ0YWI4ZmE5OTZhYjRjODAzM2RmZDVmYzdmMjY4NmVhNGMzZTdkMixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">Rice University</a></b></p><p><b>Full study:</b>&nbsp;‚ÄúMorphology-Dependent Reactivity of a Plasmonic Photocatalyst‚Äù, <i>ACS Nano</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1021%2Facsnano.0c05383&amp;t=Y2Q2OTRhM2YxNDE4OGNmMjU1MDBhNmVmZjFjMGY5YWU1ZmQ4MTRkZixUdllIZnBneA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F629803542619799552%2Foctopods-nanocatalysts&amp;m=0&amp;ts=1600791968">https://doi.org/10.1021/acsnano.0c05383</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/619930090543955968/smallest-semiconductor-laser">Researchers conceive smallest semiconductor laser</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/physics">physics</a>
                                    
                                        <a href="https://nuadox.com/tagged/nanotechnology">nanotechnology</a>
                                    
                                        <a href="https://nuadox.com/tagged/optics">optics</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/629803542619799552/octopods-nanocatalysts</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536394</guid>
            <pubDate>Sun, 20 Sep 2020 18:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[EasyOCR]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24536346">thread link</a>) | @jonbaer
<br/>
September 20, 2020 | https://www.jaided.ai/easyocr | <a href="https://web.archive.org/web/*/https://www.jaided.ai/easyocr">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

                    <div>

                        <article>

                            <div>
															
															

															<p>
																	EasyOCR is a python module for extracting text from image. It is a general OCR that can read both natural scene text and dense text in document.
																	We are currently supporting 70+ languages and expanding.
																</p>

															  <h3>Supported Languages</h3>
															    <table>
																			 <tbody><tr><th>Language</th><th>Code Name</th></tr>
																			 <tr><td>Abaza</td><td>abq</td></tr>
																			 <tr><td>Adyghe</td><td>ady</td></tr>
																			 <tr><td>Afrikaans</td><td>af</td></tr>
																			 <tr><td>Angika</td><td>ang</td></tr>
																			 <tr><td>Arabic</td><td>ar</td></tr>
																			 <tr><td>Assamese</td><td>as</td></tr>
																			 <tr><td>Avar</td><td>ava</td></tr>
																			 <tr><td>Azerbaijani</td><td>az</td></tr>
																			 <tr><td>Belarusian</td><td>be</td></tr>
																			 <tr><td>Bulgarian</td><td>bg</td></tr>
																			 <tr><td>Bihari</td><td>bh</td></tr>
																			 <tr><td>Bhojpuri</td><td>bho</td></tr>
																			 <tr><td>Bengali</td><td>bn</td></tr>
																			 <tr><td>Bosnian</td><td>bs</td></tr>
																			 <tr><td>Simplified Chinese</td><td>ch_sim</td></tr>
																			 <tr><td>Traditional Chinese</td><td>ch_tra</td></tr>
																			 <tr><td>Chechen</td><td>che</td></tr>
																			 <tr><td>Czech</td><td>cs</td></tr>
																			 <tr><td>Welsh</td><td>cy</td></tr>
																			 <tr><td>Danish</td><td>da</td></tr>
																			 <tr><td>Dargwa</td><td>dar</td></tr>
																			 <tr><td>German</td><td>de</td></tr>
																			 <tr><td>English</td><td>en</td></tr>
																			 <tr><td>Spanish</td><td>es</td></tr>
																			 <tr><td>Estonian</td><td>et</td></tr>
																			 <tr><td>Persian (Farsi)</td><td>fa</td></tr>
																			 <tr><td>French</td><td>fr</td></tr>
																			 <tr><td>Irish</td><td>ga</td></tr>
																			 <tr><td>Goan Konkani</td><td>gom</td></tr>
																			 <tr><td>Hindi</td><td>hi</td></tr>
																			 <tr><td>Croatian</td><td>hr</td></tr>
																			 <tr><td>Hungarian</td><td>hu</td></tr>
																			 <tr><td>Indonesian</td><td>id</td></tr>
																			 <tr><td>Ingush</td><td>inh</td></tr>
																			 <tr><td>Icelandic</td><td>is</td></tr>
																			 <tr><td>Italian</td><td>it</td></tr>
																			 <tr><td>Japanese</td><td>ja</td></tr>
																			 <tr><td>Kabardian</td><td>kbd</td></tr>
																			 <tr><td>Korean</td><td>ko</td></tr>
																			 <tr><td>Kurdish</td><td>ku</td></tr>
																			 <tr><td>Latin</td><td>la</td></tr>
																			 <tr><td>Lak</td><td>lbe</td></tr>
																			 <tr><td>Lezghian</td><td>lez</td></tr>
																			 <tr><td>Lithuanian</td><td>lt</td></tr>
																			 <tr><td>Latvian</td><td>lv</td></tr>
																			 <tr><td>Magahi</td><td>mah</td></tr>
																			 <tr><td>Maithili</td><td>mai</td></tr>
																			 <tr><td>Maori</td><td>mi</td></tr>
																			 <tr><td>Mongolian</td><td>mn</td></tr>
																			 <tr><td>Marathi</td><td>mr</td></tr>
																			 <tr><td>Malay</td><td>ms</td></tr>
																			 <tr><td>Maltese</td><td>mt</td></tr>
																			 <tr><td>Nepali</td><td>ne</td></tr>
																			 <tr><td>Newari</td><td>new</td></tr>
																			 <tr><td>Dutch</td><td>nl</td></tr>
																			 <tr><td>Norwegian</td><td>no</td></tr>
																			 <tr><td>Occitan</td><td>oc</td></tr>
																			 <tr><td>Polish</td><td>pl</td></tr>
																			 <tr><td>Portuguese</td><td>pt</td></tr>
																			 <tr><td>Romanian</td><td>ro</td></tr>
																			 <tr><td>Russian</td><td>ru</td></tr>
																			 <tr><td>Serbian (cyrillic)</td><td>rs_cyrillic</td></tr>
																			 <tr><td>Serbian (latin)</td><td>rs_latin</td></tr>
																			 <tr><td>Nagpuri</td><td>sck</td></tr>
																			 <tr><td>Slovak (need revisit)</td><td>sk</td></tr>
																			 <tr><td>Slovenian</td><td>sl</td></tr>
																			 <tr><td>Albanian</td><td>sq</td></tr>
																			 <tr><td>Swedish</td><td>sv</td></tr>
																			 <tr><td>Swahili</td><td>sw</td></tr>
																			 <tr><td>Tamil</td><td>ta</td></tr>
																			 <tr><td>Tabassaran</td><td>tab</td></tr>
																			 <tr><td>Thai</td><td>th</td></tr>
																			 <tr><td>Tagalog</td><td>tl</td></tr>
																			 <tr><td>Turkish</td><td>tr</td></tr>
																			 <tr><td>Uyghur</td><td>ug</td></tr>
																			 <tr><td>Ukranian</td><td>uk</td></tr>
																			 <tr><td>Urdu</td><td>ur</td></tr>
																			 <tr><td>Uzbek</td><td>uz</td></tr>
																			 <tr><td>Vietnamese (need revisit)</td><td>vi</td></tr>
																			</tbody></table>
																	
															  
															
                            </div>
                        </article>


                    </div>
                </div></div>]]>
            </description>
            <link>https://www.jaided.ai/easyocr</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536346</guid>
            <pubDate>Sun, 20 Sep 2020 18:54:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sixty second stories of exceptional founders every 10 days]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24536331">thread link</a>) | @evla
<br/>
September 20, 2020 | http://tareksway.com/visionaries | <a href="https://web.archive.org/web/*/http://tareksway.com/visionaries">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">	
<section>
<article id="page-5046">
<section>
<div data-token="zSb1c"><div><div><div><div>
<div>
<div>
<p><img src="https://tareksway.com/wp-content/uploads/2020/08/visionaries-logo-250-03-copy.png" alt="" width="250" height="40"></p><h5>60-SECOND STORIES OF EXCEPTIONAL FOUNDERS</h5>
<p>1 STORY EVERY 10 DAYS</p>

<h5>‚¨áÔ∏é Read an example below ‚¨áÔ∏é</h5></div></div></div></div></div></div></div><div id="posts" data-token="5gLXL"><div><div><div><div><section>
<article id="post-5202">
<p><a href="https://tareksway.com/visionaries/sew-much-hope/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="600" height="444" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2020/09/Singer-image.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2020/09/Singer-image.jpg 600w, https://tareksway.com/wp-content/uploads/2020/09/Singer-image-300x222.jpg 300w" sizes="(max-width: 600px) 100vw, 600px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/sew-much-hope/" rel="bookmark" title="Permanent Link to Sew much hope">Sew much hope</a>
</h3>
<p><span>
<i></i><i></i>
<em>September 7, 2020</em>		</span></p><p><span>Reading time: 54 seconds</span></p>
<p>In 19th century America, less than 5% of US citizens had access to electricity and the average life expectancy was 45. Life was tough and opportunities were desperately needed.</p>
</div></article>
<article id="post-2525">
<p><a href="https://tareksway.com/visionaries/a-surprise-delivery-will-shu-deliveroo-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="597" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-780x597.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-780x597.jpg 780w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-300x230.jpg 300w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini-768x588.jpg 768w, https://tareksway.com/wp-content/uploads/2018/05/Will-Shu-Deliveroo-mini.jpg 900w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/a-surprise-delivery-will-shu-deliveroo-story/" rel="bookmark" title="Permanent Link to A surprise delivery">A surprise delivery</a>
</h3>
<p><span>
<i></i><i></i>
<em>May 22, 2018</em>		</span></p><p><span>Reading time: 60 seconds</span></p>
<p>It was 2001 and American Will Shu was fresh out of college with a shiny new job at Morgan Stanley, New York. The money was awesome but the 100-hour workweek‚Ä¶ not so much. </p>
</div></article>
<article id="post-2520">
<p><a href="https://tareksway.com/visionaries/from-grade-c-to-the-skies-fedex-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="417" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-780x417.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-780x417.jpg 780w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-300x161.jpg 300w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx-768x411.jpg 768w, https://tareksway.com/wp-content/uploads/2018/03/Frederick-Smith-FedEx.jpg 1000w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/from-grade-c-to-the-skies-fedex-story/" rel="bookmark" title="Permanent Link to From grade ‚ÄúC‚Äù to the skies">From grade ‚ÄúC‚Äù to the skies</a>
</h3>
<p><span>
<i></i><i></i>
<em>March 15, 2018</em>		</span></p><p><span>Reading time: 60 seconds</span></p>
<p>Frederick Smith wasn‚Äôt exactly in love with academics. He attended Yale in 1962 and was a solid ‚ÄúC‚Äù student. When one of his courses assigned a paper, he wrote one at the last minute. He later admitted that it likely also got him a ‚ÄúC‚Äù.</p>
</div></article>
<article id="post-2516">
<p><a href="https://tareksway.com/visionaries/when-the-stars-are-misaligned-instagram-story/"> <span><span><i></i></span></span> <img onload="Wpfcll.r(this,true);" src="https://tareksway.com/wp-content/plugins/wp-fastest-cache-premium/pro/images/blank.gif" width="780" height="569" data-wpfc-original-src="https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-780x569.jpg" alt="blank" data-wpfc-original-srcset="https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-780x569.jpg 780w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-300x219.jpg 300w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497-768x560.jpg 768w, https://tareksway.com/wp-content/uploads/2018/02/22639499_1454023074646352_7020349780203143168_n900px-2-e1517504855497.jpg 897w" sizes="(max-width: 780px) 100vw, 780px"> </a></p><div>
<h3>
<a href="https://tareksway.com/visionaries/when-the-stars-are-misaligned-instagram-story/" rel="bookmark" title="Permanent Link to When the stars are misaligned">When the stars are misaligned</a>
</h3>
<p><span>
<i></i><i></i>
<em>February 4, 2018</em>		</span></p><p><span>Reading time: 59 seconds</span></p>
<p>In 2009, Kevin Systrom was working full time at a travel startup but was learning to code at night. Smartphones had only recently become ‚Äúsmart‚Äù after acquiring a camera and location capabilities.</p>
</div></article></section></div></div></div></div></div></section>
</article>
</section>
</div></div>]]>
            </description>
            <link>http://tareksway.com/visionaries</link>
            <guid isPermaLink="false">hacker-news-small-sites-24536331</guid>
            <pubDate>Sun, 20 Sep 2020 18:52:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In the computer]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24535977">thread link</a>) | @todsacerdoti
<br/>
September 20, 2020 | https://chris-martin.org/2020/in-the-computer | <a href="https://web.archive.org/web/*/https://chris-martin.org/2020/in-the-computer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>When people talk about "algebraic reasoning", explanations fall flat because we neglect to first figure out kind of reasoning we're contrasting it against. When we write computer code using an operational model, we do <i>think about</i> what we write ‚Äî so what manner of reasoning are we using? Can we give it a name? And can we explain why it seems so incompatible with the sort of reasoning that Lambda Man is always going on about?</p><p>I propose that the culture of programming at present may be divided into two approaches, explained by the following competing conceptions of the act of programming:</p><ol><li>An operational programmer <i>goes into</i> the computer;</li><li>An algebraic programmer remains <i>outside</i> the computer.</li></ol><p>We all have some need to shift between the two perspectives, but many of us become more entrenched in one or the other.</p><h2>Who calls the calls</h2><p>To start piecing together the orientation of each kind of programmer with respect to the computer, I'd like to look at a curious question of agency regarding function calls.</p><ul><li>When I write the expression "f x", I may describe my act of programming by saying that "we <b>apply</b> the function <i>f</i> to an argument <i>x</i>".</li><li>When the machine executes the program, I expect that "it will <b>evaluate</b> the function <i>f</i> at the argument <i>x</i>".</li></ul><p>But this separation between my action as an author and the machine's action as an automaton is only so distinct in the parlance of an algebraic programmer. If I were a Python programmer:</p><ul><li>When I write the expression "f(x)", I am "calling the function <i>f</i>".</li><li>When the machine executes my program, I expect that the Python interpreter will "call the function <i>f</i>".</li></ul><p>So who calls the function: me or Python? The answer is both; I <i>am</i> Python, and its actions are my actions, regardless of whether I am present and typing into a REPL or whether I have scripted them out ahead of time in a program that may run in my absence.</p><h2>One with the machine</h2><p>In either variety of programming, we sometimes put ourselves in the shoes of the machine to reason about the anticipated outcome of what we write. But how this imagination works depends on a great deal on whether we are outside or in. When we trace an operational program flow, the text of the program forms a space we can move within, and each variable is a statue that comes alive and begins to talk. Algebraic expression evaluation is a much more sterile and dull affair, and we remain seated in our desk chair. <i>Evaluating</i> is rewriting an expression in another form; it does not take us into different headspace from the one in which we wrote the code in the first place.</p><h2>Removing the lime from the coconut</h2><p>When an experienced inside-the-computer author begins in a programming language that forces us to approach programs from the outside, we can expect the question: If "I have an <code>IO String</code>", then "how do I get to the <code>String</code>"?</p><p>While others have already addressed this question in detail, what I want to draw attention to here is that the misunderstanding originates from trying to apply the <i>inside</i> conceptual mapping to a programming model that is strongly <i>outside</i>. An <code>IO String</code> is a process that produces a <code>String</code> result. So if I <i>were</i> standing inside a Haskell program, holding such a thing in my hands, it stands to reason that I could run the process and get the string. But we do not <i>have</i> such values because we do not <i>go</i> inside to <i>get</i> anything. We remain at the text editor, writing definitions. One such definition might be for a process which consists of the machine 1. first running some <code>IO String</code> process; and then 2. doing some other action with the resulting string.</p><p>This is not an unfamiliar task for a JavaScript programmer, who knows that one cannot get the value from a Promise ‚Äî all we can do is set up plans for what to do once the Promise is fulfilled. A JavaScript programmer, although inside of the computer, is outside of the event loop. When my callbacks are roused, I do my work, then I fall back sleep to await another gig.</p><h2>What you got in that room</h2><p>The term "global variable" reveals something interesting about our mental picture. Such a variable does not span the globe, nor even a local network. To what scope does a word so grand as "global" refer? Humbly, the scope of a process. Or perhaps an entire machine, if I am a kernel developer. When I code operationally, I reside in a tiny world ‚Äî the landmasses on my little blue marble are the memory segments to which I have access.</p><p>When I switched from operational to algebraic programming, first I learned that there are no global variables, then that terminology began to fade from consciousness altogether. As a Haskell programmer, I'm not in a little globe on the desk; I live on the Earth and I type definitions. Among those definitions may be a datatype that represents the state of a process, true. But this datatype is not my world, and the vast majority definitions I write in service of the program will not be functions of it.</p><p>Private "member variables" in a Java class can only be accessed <i>from within</i> the class. Perhaps the preposition can be taken to refer somewhat literally to the lexical scope of the class definition ‚Äî that is, the code that is written between the opening and closing braces. But do we employ a deeper container metaphor here? Maybe this one is just me, but I see the <i>instance</i> as a <i>room</i>, and the members as the stuff I have at my disposal when I'm working inside that room.</p><p>In Haskell we also have lexical scoping, as well as a notion of modules with definitions that are either exported or not exported, which for many purposes mirrors the public/private field distinction. But I do not have the experience of mentally going inside a module in the same sense as reasoning inside of a Java instance. I believe it is Java's coupling of modules with mutable state that encourages this spacial reasoning.</p><h2>Getting your steps in</h2><p>When you use a step debugger, you actually <i>step into</i> the program! This is true regardless of whether you are using the debugging facilities of Python or Haskell. Though the code may be algebraic, when we use a step debugger we are always looking at it from an operational perspective.</p><h2>Working on documents</h2><p>Lately I like to refer to my role as "author" more than "programmer" ‚Äî regardless of whether the file extension is ".md" or ".hs". It's because I don't feel like I work inside a computer anymore. I work sitting <i>at</i> a computer, I write <i>about</i> programs, and ‚Äî although much of what I write can be executed by a machine ‚Äî I do not often become lost within, because I remain safely on the outside.</p></div></div></div>]]>
            </description>
            <link>https://chris-martin.org/2020/in-the-computer</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535977</guid>
            <pubDate>Sun, 20 Sep 2020 18:18:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Calculus and Analysis Symbols Explained]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24535853">thread link</a>) | @R3G1R
<br/>
September 20, 2020 | https://mathvault.ca/hub/higher-math/math-symbols/calculus-analysis-symbols/ | <a href="https://web.archive.org/web/*/https://mathvault.ca/hub/higher-math/math-symbols/calculus-analysis-symbols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div id="theme-content-section"><div><section data-css="tve-u-16ec5d248bb"><p><span>I</span>n mathematics, <strong>calculus</strong> formalizes the study of continuous change, while <strong>analysis</strong> provides it with a rigorous foundation in <a href="https://mathvault.ca/hub/higher-math/math-symbols/logic-symbols/" target="_blank" aria-label="logic (opens in a new tab)" rel="noreferrer noopener">logic</a>. The following list documents some of the most notable symbols and notations in calculus and analysis, along with each symbol‚Äôs usage and meaning.</p><p>For readability purpose, these symbols are categorized by <strong>topic</strong> and <strong>function</strong> into tables. Other comprehensive lists of <a href="https://mathvault.ca/hub/higher-math/math-symbols/" target="_blank" aria-label="math symbols (opens in a new tab)" rel="noreferrer noopener">math symbols</a> ‚Äî as categorized by subject&nbsp;and type ‚Äî can be also found in the relevant pages below (or in the navigational panel).</p><div><div><div><figure><img loading="lazy" width="400" height="518" src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" title="Math Symbols eBook Cover"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> ‚Äî along with each symbol‚Äôs usage and LaTeX code.</p></div></div></div></div><h2><span id="Constants_and_Variables"></span>Constants and Variables<span></span></h2><p>In calculus and analysis, constants and variables are often reserved for <strong>key mathematical numbers</strong> and <strong>arbitrarily small quantities</strong>. The following table documents some of the most notable symbols in these categories ‚Äî along with each symbol‚Äôs example and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$e$</td><td><strong><a aria-label="Euler's number (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/E_(mathematical_constant)" target="_blank">Euler‚Äôs number e</a></strong></td><td>$\displaystyle e = \frac{1}{0!} + \frac{1}{1!} + \cdots$</td></tr><tr><td>$\pi$<br>(<a href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" aria-label="Pi (opens in a new tab)" rel="noreferrer noopener">Pi</a>)</td><td><strong><a href="https://en.wikipedia.org/wiki/Pi" target="_blank" aria-label="Archimedes' constant (opens in a new tab)" rel="noreferrer noopener">Archimedes‚Äô constant</a></strong></td><td>$\dfrac{\pi^2}{6} = \dfrac{1}{1^2} + \dfrac{1}{2^2} +$<br>$\dfrac{1}{3^2} + \dfrac{1}{4^2} + \cdots$</td></tr><tr><td>$i$</td><td><strong><a href="https://en.wikipedia.org/wiki/Imaginary_unit" target="_blank" aria-label="Imaginary unit (opens in a new tab)" rel="noreferrer noopener">Imaginary unit</a></strong></td><td>$e^{\pi i} = \cos \pi + i \sin \pi$</td></tr><tr><td>$\gamma$<br>(<a href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" aria-label="Gamma (opens in a new tab)" rel="noreferrer noopener">Gamma</a>)</td><td><strong><a href="https://en.wikipedia.org/wiki/Euler%E2%80%93Mascheroni_constant" target="_blank" aria-label="Euler‚ÄìMascheroni constant (opens in a new tab)" rel="noreferrer noopener">Euler‚ÄìMascheroni constant</a></strong></td><td>$\displaystyle \left( \sum_{k=1}^{n} \dfrac{1}{k}-\ln n \right) \to$<br>$\gamma \approx 0.577$</td></tr><tr><td>$\Omega$<br>(<a href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" aria-label="Capital omega (opens in a new tab)" rel="noreferrer noopener">Capital omega</a>)</td><td><strong><a href="https://en.wikipedia.org/wiki/Omega_constant" target="_blank" aria-label="Omega constant (opens in a new tab)" rel="noreferrer noopener">Omega constant</a></strong></td><td>$\Omega e^{\Omega} = 1$</td></tr><tr><td>$m$</td><td>Variable for <strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Slope" target="_blank">slope</a></strong></td><td>$m = \dfrac{y_2-y_1}{x_2-x_1}$</td></tr><tr><td>$h$, $\Delta x$, $\delta x$</td><td><strong><a aria-label="Limiting variables (opens in a new tab)" href="https://en.wikipedia.org/wiki/List_of_limits#Limits_involving_derivatives_or_infinitesimal_changes" target="_blank" rel="noreferrer noopener">Limiting variables</a></strong> for <a href="https://en.wikipedia.org/wiki/Difference_quotient" target="_blank" aria-label="difference quotient (opens in a new tab)" rel="noreferrer noopener">difference quotient</a></td><td>$\displaystyle \lim_{h \to 0} \dfrac{f(x+h)-f(x)}{h}$</td></tr><tr><td>$L$</td><td>Variable for <strong><a aria-label="limiting value (opens in a new tab)" href="https://en.wikipedia.org/wiki/Limit_(mathematics)" target="_blank" rel="noreferrer noopener">limit</a></strong></td><td>If $f(x) \to L$, then $f(x)^2 \to L^2$.</td></tr><tr><td>$\varepsilon$ (<a aria-label="Epsilon (opens in a new tab)" href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" rel="noreferrer noopener">Epsilon</a>),<br>$\delta$ (<a aria-label="Delta (opens in a new tab)" href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Greek_Symbols" target="_blank" rel="noreferrer noopener">Delta</a>)</td><td>Variables for <strong><a href="https://en.wikipedia.org/wiki/(%CE%B5,_%CE%B4)-definition_of_limit" target="_blank" aria-label="arbitrarily small quantities (opens in a new tab)" rel="noreferrer noopener">arbitrarily small quantities</a></strong></td><td>$\forall \varepsilon \, \exists \delta \, \big( 0&lt;|x-x_0|&lt;\delta$ $\implies |f(x)-L|&lt; \varepsilon \big) $</td></tr><tr><td>$a, b$</td><td>Variables for <strong>endpoints</strong> in <a aria-label=" (opens in a new tab)" rel="noreferrer noopener" href="https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/#Intervals" target="_blank">intervals</a> and <a href="#Univariate_Integralrelated_Symbols" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">definite integrals</a></td><td>$\displaystyle \int_a^b 2x \, \mathrm{d}x= b^2-a^2$</td></tr><tr><td>$C$</td><td><strong><a href="https://en.wikipedia.org/wiki/Constant_of_integration" target="_blank" aria-label="Constant of integration (opens in a new tab)" rel="noreferrer noopener">Constant of integration</a></strong></td><td>$\displaystyle \int \dfrac{1}{x} \, \mathrm{d} x = \ln |x| + C$</td></tr></tbody></table></figure><h2><span id="Sequence,_Series_and_Limit"></span>Sequence, Series and Limit<span></span></h2><p>The concepts of <strong><a href="https://en.wikipedia.org/wiki/Sequence" target="_blank" rel="noopener noreferrer">sequence</a></strong>, <strong><a href="https://en.wikipedia.org/wiki/Series_(mathematics)" target="_blank" rel="noopener noreferrer">series</a></strong> and <strong><a href="https://en.wikipedia.org/wiki/Limit_(mathematics)" target="_blank" rel="noopener noreferrer">limit</a></strong> form the foundation of calculus (and by extension real and complex analysis). The following table features some of the most common symbols related to these topics ‚Äî along with each symbol‚Äôs usage and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$+\infty$</td><td><strong><a href="https://en.wikipedia.org/wiki/Infinity#Real_analysis" target="_blank" aria-label="Positive infinity (opens in a new tab)" rel="noreferrer noopener">Positive infinity</a></strong></td><td>$\dfrac{1}{1} + \dfrac{1}{2} + \cdots = \infty$</td></tr><tr><td>$-\infty$</td><td><strong><a href="https://en.wikipedia.org/wiki/Infinity#Real_analysis" target="_blank" aria-label="Negative infinity (opens in a new tab)" rel="noreferrer noopener">Negative infinity</a></strong></td><td>As $x \to -\infty$, $e^x \to 0$.</td></tr><tr><td>$(a_n), (b_n), (c_n)$</td><td><strong><a aria-label="Sequence (opens in a new tab)" href="https://en.wikipedia.org/wiki/Sequence" target="_blank" rel="noreferrer noopener">Sequences</a></strong></td><td>$\displaystyle (a_n)_{n=0}^\infty =$<br>$(a_0, a_1, a_2, \ldots)$</td></tr><tr><td>$\displaystyle \sum_{n = i}^k a_n$</td><td><strong><a href="https://en.wikipedia.org/wiki/Series_(mathematics)" target="_blank" aria-label="Series (opens in a new tab)" rel="noreferrer noopener">Series</a></strong></td><td>$\displaystyle \sum_{n=1}^k b_n = \\ b_1 + \cdots + b_k$</td></tr><tr><td>$\| \mathrm{x}-\mathrm{y}\|$</td><td><strong><a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank" aria-label="Euclidean distance (opens in a new tab)" rel="noreferrer noopener">Euclidean distance</a></strong> between points $\mathrm{x}$ and $\mathrm{y}$</td><td>$\| \mathrm{x}-\mathrm{x}_0 \| &lt; 1 \implies$<br>$| f(\mathrm{x})-f(\mathrm{x}_0) | &lt; 2 $</td></tr><tr><td>$d(x, y)$</td><td><strong><a aria-label="Metric (opens in a new tab)" href="https://en.wikipedia.org/wiki/Metric_(mathematics)" target="_blank" rel="noreferrer noopener">Distance function</a></strong></td><td>$d(x, y) = |x-y|$</td></tr><tr><td>$\displaystyle \lim_{n \to \infty} a_n$</td><td><strong><a href="https://en.wikipedia.org/wiki/Limit_of_a_sequence" target="_blank" aria-label="Limit of sequence (opens in a new tab)" rel="noreferrer noopener">Limit of sequence</a></strong></td><td>$\displaystyle \lim_{n \to \infty} \left(1+\dfrac{1}{n}\right)^n = e$</td></tr><tr><td>$\displaystyle \lim_{k \to \infty} \sum_{n=i}^k a_n, \sum_{n=i}^{\infty} a_n$</td><td><strong><a href="https://en.wikipedia.org/wiki/Series_(mathematics)" target="_blank" aria-label="Limit of series (opens in a new tab)" rel="noreferrer noopener">Limit of series</a></strong></td><td>$\displaystyle \sum_{n=0}^{\infty} \dfrac{1}{2^n} = 2$</td></tr><tr><td>$\mathrm{x} \to a$</td><td>Variable $\mathrm{x}$ <strong><a href="https://en.wikipedia.org/wiki/Limit_(mathematics)" target="_blank" aria-label="tends to (opens in a new tab)" rel="noreferrer noopener">tends to</a></strong> $a$</td><td>$\lim (a_n) = 1/4$ as $n \to \infty$.</td></tr><tr><td>$f(x) \to L$</td><td>Function $f(x)$ <strong><a href="https://en.wikipedia.org/wiki/Limit_(mathematics)" target="_blank" aria-label="tends to (opens in a new tab)" rel="noreferrer noopener">tends to</a></strong> limit $L$</td><td>Since $g(x)$ is continuous at $c$, $g(x) \to g(c)$ as $x \to c$.</td></tr><tr><td>$\displaystyle \lim_{x \to a} f(x)$</td><td><strong><a aria-label="Limit of function (opens in a new tab)" href="https://en.wikipedia.org/wiki/Limit_of_a_function" target="_blank" rel="noreferrer noopener">Limit of function</a></strong> $f(x)$ as $x$ tends to $a$</td><td>$\displaystyle \lim_{x \to 0} \dfrac{\sin x}{x} = 1$</td></tr><tr><td>$\displaystyle \lim_{x \to a^+} f(x)$, $\displaystyle \lim_{x \, \downarrow \, a} f(x)$</td><td><strong><a href="https://en.wikipedia.org/wiki/One-sided_limit" target="_blank" aria-label="Right-sided limit (opens in a new tab)" rel="noreferrer noopener">Right-sided limit</a></strong><br>(Limit of $f(x)$ as $x$ tends to $a$ from the right)</td><td>$\displaystyle \lim_{x \to 3^+} \dfrac{1}{x-3} = +\infty$</td></tr><tr><td>$\displaystyle \lim_{x \to a^-} f(x)$, $\displaystyle \lim_{x \, \uparrow \, a} f(x)$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/One-sided_limit" target="_blank">Left-sided limit</a></strong><br>(Limit of $f(x)$ as $x$ tends to $a$ from the left)</td><td>$\displaystyle \lim_{x \to 0^-} \sqrt{-x} = 0$</td></tr><tr><td>$\min (A)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Maxima_and_minima#In_relation_to_sets" target="_blank" aria-label="Minimum (opens in a new tab)" rel="noreferrer noopener">Minimum</a></strong> of set $A$</td><td>$\min (a_n) + \min (b_n) \le$ $\min (a_n + b_n)$</td></tr><tr><td>$\max (A)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Maxima_and_minima#In_relation_to_sets" target="_blank" aria-label="Maximum (opens in a new tab)" rel="noreferrer noopener">Maximum</a></strong> of set $A$</td><td>If $f$ is continuous on $[a, b]$, then $\max (f(x))$ exists on that interval.</td></tr><tr><td>$\inf (A)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Infimum_and_supremum" target="_blank" aria-label="Greatest lower bound (opens in a new tab)" rel="noreferrer noopener">Greatest lower bound</a></strong> of set $A$</td><td>$\inf\left(\left\{\dfrac{1}{n} \, \middle| \, n \in \mathbb{N} \right\}\right)$<br>$= 0$</td></tr><tr><td>$\sup (A)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Infimum_and_supremum" target="_blank" aria-label="Least upper bound (opens in a new tab)" rel="noreferrer noopener">Least upper bound</a></strong> of set $A$</td><td>$\sup \left(\left\{x \in \mathbb{Q} \, \middle| \, x^2 &lt; 2 \right\}\right)$ $= \sqrt{2}$</td></tr><tr><td>$\liminf a_n$</td><td><strong><a aria-label="Limit infimum (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Limit_superior_and_limit_inferior" target="_blank">Limit inferior</a></strong> of sequence $a_n$</td><td>$\displaystyle \liminf_{n \to \infty} \dfrac{2}{n+1} =$<br>$\displaystyle \lim_{n \to \infty} 0$</td></tr><tr><td>$\limsup a_n$</td><td><strong><a href="https://en.wikipedia.org/wiki/Limit_superior_and_limit_inferior" target="_blank" aria-label="Limit superior (opens in a new tab)" rel="noreferrer noopener">Limit superior</a></strong> of sequence $a_n$</td><td>$\displaystyle \limsup_{n \to \infty} b_n =$<br>$\displaystyle \lim_{n \to \infty} \left( \sup_{m \ge n} b_m \right)$</td></tr></tbody></table></figure><h2><span id="Derivative_and_Integral"></span>Derivative and Integral<span></span></h2><p>The field of calculus (e.g., multivariate/vector calculus, differential equations) is often said to revolve around two opposing but complementary concepts: <strong>derivative</strong> and <strong>integral</strong>. The following tables document the most notable symbols related to these ‚Äî along with each symbol‚Äôs usage and meaning.</p><p>(For a review on function and related operators, see <a href="https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/#Functionrelated_Symbols" target="_blank" rel="noopener noreferrer"><strong>function-related operators</strong></a>.)</p><h3>Univariate Derivative-related Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$f^{\prime}(\mathrm{x}), f^{\prime \prime}(\mathrm{x}), f^{(n)}(\mathrm{x})$</td><td>First, second and $n$th <strong><a aria-label="derivative (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Lagrange's_notation" target="_blank">derivative</a></strong> of $f$ at $\mathrm{x}$<br>(Lagrange‚Äôs notation)</td><td>$f'(c) =$<br>$\displaystyle \lim_{h \to 0} \dfrac{f(c + h)-f(c)}{h}$</td></tr><tr><td>$\dfrac{d}{d\mathrm{x}} f, \dfrac{df}{d\mathrm{x}}$</td><td><strong><a aria-label="Derivative (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Leibniz's_notation" target="_blank">Derivative</a></strong> of function $f$ in terms of $\mathrm{x}$<br>(Leibniz‚Äôs notation)</td><td>$\dfrac{d}{dx} f = f'(x)$</td></tr><tr><td>$\dfrac{d^n}{d\mathrm{x}^n} f, \dfrac{d^n f}{d\mathrm{x}^n}$</td><td><strong><a aria-label="Nth derivative (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Leibniz's_notation" target="_blank">Nth derivative</a></strong> of function $f$ in terms of $\mathrm{x}$<br>(Leibniz‚Äôs notation)</td><td>$\dfrac{d^2 f}{dx^2} = \dfrac{d}{dx}\left(\dfrac{df}{dx}\right)$</td></tr><tr><td>$\dot{y}$, $\ddot{y}$, $\overset{n}{\dot{y}}$</td><td>First, second and $n$th <strong><a aria-label="derivative (opens in a new tab)" href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Newton's_notation" target="_blank" rel="noreferrer noopener">derivative</a></strong> of $y$ in terms of time variable $t$<br>(Newton‚Äôs notation)</td><td>$\ddot{y}= \dfrac{d^2 y}{dt^2}$</td></tr><tr><td>$D(f), D^2(f), D^{n}(f)$</td><td>First, second and $n$th <strong><a href="https://en.wikipedia.org/wiki/Notation_for_differentiation#Euler's_notation" target="_blank" aria-label="derivative (opens in a new tab)" rel="noreferrer noopener">derivative</a></strong> of $f$<br>(Euler‚Äôs notation)</td><td>$D^2(f) = D(D(f))$</td></tr><tr><td>$\Delta \mathrm{x}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Delta_(letter)#Upper_case" target="_blank" aria-label="Increment (opens in a new tab)" rel="noreferrer noopener">Increment</a></strong> in variable $\mathrm{x}$</td><td>$\Delta y \approx f'(x) \Delta x$</td></tr><tr><td>$d \mathrm{x}$</td><td><strong><a aria-label="Differential (opens in a new tab)" href="https://en.wikipedia.org/wiki/Differential_(infinitesimal)" target="_blank" rel="noreferrer noopener">Differential</a> </strong>of variable $\mathrm{x}$</td><td>$dy = \dfrac{dy}{dx}\,  dx$</td></tr></tbody></table></figure><h3>Multivariate Derivative-related Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$f_\mathbf{x}$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Partial_derivative" target="_blank">Partial derivative</a></strong> of $f$ in terms of $\mathbf{x}$<br>(Lagrange‚Äôs notation)</td><td>$\displaystyle f_x (a, b) = \lim_{h \to 0}$<br>$\frac{f(a+h, \, b) \, ‚Äì \, f(a,\, b)}{h}$</td></tr><tr><td>$\dfrac{\partial}{\partial \mathrm{x}} f, \dfrac{\partial f}{\partial \mathrm{x}}$</td><td><strong><a aria-label="Partial derivative (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Partial_derivative" target="_blank">Partial derivative</a></strong> of $f$ in terms of $\mathrm{x}$<br>(Leibniz‚Äôs style)</td><td>If $f$ has continuous second partial derivatives, then $\dfrac{\partial}{\partial  y}\dfrac{\partial f}{\partial x} = \dfrac{\partial}{\partial x}\dfrac{\partial f}{\partial y}$</td></tr><tr><td>$\dfrac{\partial^n}{\partial \mathrm{x}^<br>n} f, \dfrac{\partial^n f}{\partial \mathrm{x}^n}$</td><td><strong><a aria-label="Nth partial derivative (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Partial_derivative#Notation" target="_blank">Nth partial derivative</a></strong> of $f$ in terms of $\mathrm{x}$<br>(Leibniz‚Äôs style)</td><td>$\dfrac{\partial^2 f}{\partial y^2} = \dfrac{\partial}{\partial y}\dfrac{\partial f}{\partial y}$</td></tr><tr><td>$\partial_x f$</td><td><strong><a href="https://en.wikipedia.org/wiki/Partial_derivative" target="_blank" aria-label="Partial derivative (opens in a new tab)" rel="noreferrer noopener">Partial derivative</a></strong> of $f$ in terms of $x$<br>(Euler‚Äôs notation)</td><td>$\partial_{xy} f = \dfrac{\partial}{\partial y} \dfrac{\partial f}{\partial x}$</td></tr><tr><td>$\nabla_{\mathbf{v}} f$</td><td><strong><a aria-label="Directional derivative (opens in a new tab)" href="https://en.wikipedia.org/wiki/Directional_derivative" target="_blank" rel="noreferrer noopener">Directional derivative</a></strong> of $f$ with respect to direction $\mathbf{v}$</td><td>$\nabla_{\mathbb{v}} f(\mathbf{x}) =$<br>$\displaystyle \lim_{h \to 0} \dfrac{f(\mathbf{x}+h\mathbf{v})-f(\mathrm{x})}{h}$</td></tr><tr><td>$\partial \mathrm{x}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Differential_of_a_function#Differentials_in_several_variables" target="_blank" aria-label="Partial differential (opens in a new tab)" rel="noreferrer noopener">Partial differential</a></strong> of variable $\mathrm{x}$</td><td>$\dfrac{\partial f}{\partial x} dx \le df$</td></tr><tr><td>$df$</td><td><strong><a aria-label="Total differential (opens in a new tab)" href="https://en.wikipedia.org/wiki/Differential_of_a_function#Differentials_in_several_variables" target="_blank" rel="noreferrer noopener">Total differential</a></strong> of function $f$</td><td>$df = \dfrac{\partial f}{\partial x_1} dx_1 +$<br>$\displaystyle \cdots + \dfrac{\partial f}{\partial x_n} dx_n$</td></tr><tr><td>$\nabla f, \mathrm{grad}\,f$</td><td><strong><a href="https://en.wikipedia.org/wiki/Gradient" target="_blank" aria-label="Gradient (opens in a new tab)" rel="noreferrer noopener">Gradient</a></strong> of function $f$</td><td>$\nabla f =$<br>$\left( \dfrac{\partial f}{\partial x_1}, \ldots, \dfrac{\partial f}{\partial x_n} \right)$</td></tr><tr><td>$\Delta f$</td><td><strong><a href="https://en.wikipedia.org/wiki/Laplace_operator#Definition" target="_blank" aria-label="Laplace operator (opens in a new tab)" rel="noreferrer noopener">Laplace operator</a></strong> of function $f$</td><td>$\displaystyle \Delta f = \sum_{i=1}^n \dfrac{\partial^2 f}{\partial x_i^2}$</td></tr><tr><td>$\nabla \cdot \mathbf{F}, \mathrm{div}\, \mathbf{F}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Divergence" target="_blank" aria-label="Divergence (opens in a new tab)" rel="noreferrer noopener">Divergence</a></strong> of vector field $\mathbf{F}$</td><td>$\nabla \cdot \mathbf{F} = \dfrac{\partial F_x}{\partial x} +$<br>$\dfrac{\partial F_y}{\partial y} + \dfrac{\partial F_z}{\partial z}$</td></tr><tr><td>$\nabla \times \mathbf{F}, \mathrm{curl} \, \mathbf{F}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Curl_(mathematics)" target="_blank" aria-label="Curl (opens in a new tab)" rel="noreferrer noopener">Curl</a></strong> of vector field $\mathbf{F}$</td><td>$\nabla \times \mathbf{F} =$<br>$\left( \dfrac{\partial}{\partial x}, \dfrac{\partial}{\partial y}, \dfrac{\partial}{\partial z} \right) \times$<br>$\left( F_x, F_y, F_z \right)$</td></tr></tbody></table></figure><h3><span id="Derivative/Integralrelated_Shorthands"></span>Derivative/Integral-related Shorthands<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\displaystyle \left. f(x) \right|_{x = a}$</td><td><strong>Shorthand</strong> for ‚Äò$f(x)$ with $x$ substituted by $a$‚Äô</td><td>$\displaystyle \left. f'(x) \right|_{x =g(t)} =$<br>$f'(g(t))$</td></tr><tr><td>$\displaystyle \left[f(x)\right]_{a}^{b}$</td><td><strong>Shorthand</strong> for <br>‚Äò$f(b)-f(a)$‚Äô</td><td>$\left[\dfrac{x^2}{2}\right]_{1}^{\pi} = \dfrac{\pi^2}{2}-\dfrac{1}{2}$</td></tr></tbody></table></figure><h3>Univariate Integral-related Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\displaystyle \int_a^b f(x) \, dx$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Integral" target="_blank">Integral</a></strong> of function $f$ with respect to $x$ from $a$ to $b$</td><td>$\displaystyle \int_0^{\infty} \dfrac{1}{1+x^2} \, dx = \dfrac{\pi}{2}$</td></tr><tr><td>$\displaystyle \int f(x) \, dx$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Antiderivative#Uses_and_properties" target="_blank">Indefinite integral</a></strong> of function $f$ with respect to $x$</td><td>$\displaystyle \int \cos y \, dy = \\ \sin y + C$</td></tr><tr><td>$F(x)$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Antiderivative" target="_blank">Antiderivative</a></strong> of function $f$</td><td>For all constants $c$, $(F(x) + c)‚Äô = f(x)$.</td></tr><tr><td>$(Jf)(x)$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Fractional_calculus" target="_blank">Integration operator</a></strong><br>(Integral function of $f$)</td><td>$(Jf)(x) =$<br>$\displaystyle \int_0^x f(t) \, dt$</td></tr></tbody></table></figure><h3>Multivariate Integral-related Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\displaystyle \int_C f(\mathbf{r}) \, ds$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Line_integral#Definition" target="_blank">Line integral</a></strong> of function $f$ along curve $C$ (under parametrization $\mathbf{r}$)</td><td>$\displaystyle \int_C f(\mathbf{r}) \, d s =$<br>$\displaystyle \int_a^b f(\mathbf{r}(t)) \, |\mathbf{r}'(t)| \, d t$</td></tr><tr><td>$\displaystyle \int_{C} f(z) \, dz$, $\displaystyle \oint_{C} f(z) \, dz$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Contour_integration#For_continuous_functions" target="_blank">Contour integral</a></strong> of function $f$ along curve $C$</td><td>$\displaystyle \int_{\gamma} f(z) \, dz =$<br>$\displaystyle \int_a^b f(\gamma(t)) \, \gamma'(t) \, dt$</td></tr><tr><td>$\displaystyle \int_C \mathbf{F}(\mathbf{r}) \cdot d\mathbf{r}$</td><td><strong><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Line_integral#Definition_2" target="_blank">Line integral</a></strong> of vector field $\mathbf{F}$ along curve $C$</td><td>$\displaystyle \int_C \mathbf{F}(\mathbf{r}) \cdot d \mathbf{r} =$<br>$\displaystyle \int_a^b \mathbf{F}(\mathbf{r}(t)) \cdot \mathbf{r}'(t) \, d t$</td></tr><tr><td>$\displaystyle \iint_D f ‚Ä¶</td></tr></tbody></table></figure></section></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mathvault.ca/hub/higher-math/math-symbols/calculus-analysis-symbols/">https://mathvault.ca/hub/higher-math/math-symbols/calculus-analysis-symbols/</a></em></p>]]>
            </description>
            <link>https://mathvault.ca/hub/higher-math/math-symbols/calculus-analysis-symbols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535853</guid>
            <pubDate>Sun, 20 Sep 2020 18:03:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Waiting for the Next Python Implementation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24535503">thread link</a>) | @pcr910303
<br/>
September 20, 2020 | http://ballingt.com/next-python/ | <a href="https://web.archive.org/web/*/http://ballingt.com/next-python/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>The time may be ripe for a new Python implementation.</p>
<p>A <a href="https://www.youtube.com/watch?v=ITksU31c1WY">lot</a> <a href="https://www.youtube.com/watch?v=KDXhu4rxTNY">of</a> <a href="https://www.youtube.com/watch?v=ftP5BQh1-YM">keynotes</a> lately have called for one anyway. They are joined ‚Äî informally, not speaking in an official capacity ‚Äî by Python core developers in issuing a wakeup call: where is Python in the browser? Where is Python on mobile devices? How could Python be 2x faster?</p>
<p>Barry Warsaw at the <a href="https://youtu.be/8dDp-UHBJ_A?t=2288">PyCon 2019 Python Steering Council Panel Keynote</a>:</p>
<blockquote>
<p>The language is pretty awesome.
[‚Ä¶]
The interpreter, in a sense, is 28 years old.</p>
</blockquote>
<p>Such a new Python implementation might be faster, work on different platforms, or have a smaller end deliverable.</p>
<p>It might accomplish these goals with a just-in-time or ahead-of-time compiler.</p>
<p>WebAssembly might significantly influence its implementation.</p>
<p>And critically, it might implement a different specification of Python.</p>
<hr>
<p>Wait, what? Will this still be Python?</p>
<p>If the new implementation is useful enough and has a level of compatibility with CPython that the community can deal with, (Brett Cannon said <a href="https://talkpython.fm/episodes/transcript/213/webassembly-and-cpython">something like this on a podcast</a> a few months ago) then it might somehow be canonized.</p>
<p>This ‚ÄúOptimizable Python‚Äù or ‚ÄúRestricted Python‚Äù or ‚ÄúFast Python‚Äù or ‚ÄúStatic Python‚Äù or ‚ÄúBoring Python,‚Äù subset could, once agreed upon, have its semantics shadowed in CPython in an optional mode.</p>
<p>What might be up for debate? A few suggestions from <a href="https://youtu.be/KDXhu4rxTNY?t=1168">≈Åukasz‚Äôs talk</a>:</p>
<ul>
<li>eval / exec (compiled in an environment that doesn‚Äôt allow setting regions as executable, like iOS or (perhaps? I haven‚Äôt looked) the webassembly spec.</li>
<li>the complexities and dynamism of the import system.</li>
<li>metaclasses - I don‚Äôt know what this enables, but it seems like a concession parts of the community might be willing to make</li>
<li>descriptors</li>
<li>dynamic attribute access</li>
</ul>
<hr>
<p>So now that the Python 2 to 3 transition is wrapping up and the Python language‚Äôs governance issues have been dealt with, it‚Äôs time for some dramatic initiatives: let‚Äôs grab some stakeholders and come up with the parts of the Python spec to mark optional and get this into CPython so we can start porting code again! I propose <code>python -z</code> for zoom ‚Äî there we go, ZoomPython! ‚Äî because I don‚Äôt see <code>-z</code> in python or IPython command line tools. We‚Äôll need some syntax like JavaScript‚Äôs <code>use strict</code> to mark code this way, I propose the magic string <code># this code zooms</code>. Can the committee just tell us what the new spec is already?</p>
<p>No! Or as ≈Åukasz Langa says <a href="https://youtu.be/KDXhu4rxTNY?t=2470">in response to a a better question after his keynote</a>,</p>
<blockquote>
<p>‚ÄúYes, but the way you get there is to have an alternative platform that informs you what the constrained version of the language should be. If you try to predict the future of what are people are going to need, you‚Äôre likely to end up with a design that is artificial and not necessarily useful.‚Äù</p>
</blockquote>
<p>So we‚Äôre back to the hoping and waiting and wondering: where will the implementation proposal for FastPython come from?</p>
<hr>
<p>Despite some <a href="https://youtu.be/ftP5BQh1-YM?t=2898">calls for financially support of such an effort</a> it seems that leading the prototyping of a new language implementation is not at the top of the priority list for committee. Core developers and language steering committee members seem to believe that this kind of experimental project should come from the outside. (try searching for the word Community in the transcript of <a href="https://talkpython.fm/episodes/transcript/213/webassembly-and-cpython">the podcast Brett was on</a>) This makes sense to me.</p>
<p>PyPy is the second-most popular Python implementation. It‚Äôs ‚Äúbug-compatible‚Äù with CPython, including the C extension interface, making it a viable drop-in, faster replacement for many CPython programs. It‚Äôs an incredible engineering effort, perhaps comparable in scope to the work optimizing JavaScript engines that made that language the fasted dynamically typed language in wide use. If dedicated graduate student and individual hackers, academic funding, and governments grants could make a Python so compliant and fast a Python implementation once, maybe that‚Äôs where the next implementation will come from too!</p>
<p>MicroPython is closer in design to an imagined implementation of the future: its behavior is <a href="https://docs.micropython.org/en/latest/genrst/index.html">different than CPython in a variety of cases</a> and includes <a href="https://docs.micropython.org/en/latest/reference/speed_python.html#the-native-code-emitter">the ability to compile individual functions</a> that do not use features like context managers and generators. MicroPython was initially a Kickstarter-backed effort, then later supported by the Python Software Foundation <a href="https://en.wikipedia.org/wiki/MicroPython">as part of its inclusion on the BBC Micro Bit</a>. The development of MicroPython provides an example of how an alternate implementation might be started by a single individual.</p>
<p>But I think the most likely place for a new implementation to come from is a large company that uses Python and has a specific need for a new interpreter. This belief comes from my time at Dropbox, where I‚Äôve seen how projects to improve languages can happen at a company of that size: since we had so many programmers working on so much Python code, better Python tooling would be so useful a case could be made for doing it ourselves. At Dropbox this project has been the Mypy Python static type checker, but I could imagine similar projects to write language implementations. (I‚Äôm not imagining too hard; Dropbox is also supporting work on mypyc, a Python compiler I‚Äôll discuss more in a future post.)</p>
<p>If you are employed at such a company, it‚Äôs hard for me to know how to help you make the business case, but know that it has been done before! Please consider it.</p>
<p>Where would that be? A lot of companies! Some of my favorite corporate contributions to the Python community have come from Dropbox and Instagram, but Python isn‚Äôt a niche thing anymore and there must be dozens? hundreds? of companies with idiosyncratic business interests such that a Python implementation that ran in the browser, or ran faster, or ran sandboxed, would save them millions of dollars.</p>
<hr>
<p>In <a href="https://youtu.be/KDXhu4rxTNY?t=962">his inspirational keynote</a>, ≈Åukasz phrased this as a call to action:</p>
<blockquote>
<p>This is where you come in. Truly tremendous impact awaits!</p>
</blockquote>
<p>I don‚Äôt think I‚Äôll be one the call-answerers here, but I wish these implementers the best!</p>
<p>I think I support the apparent decision for the search for the next implementation not to be centrally directed; I agree that this can come from the community, and the proof of its usefulness can too. But there is something I think we can do centrally.</p>
<p>Without pre-emptively deprecating Python language features or designating them as optional, Python can be made a more attractive implementation target by making it smaller in a another way: separating the language from standard library.</p>
<p>Glyph proposes moving CPython <a href="https://glyph.twistedmatrix.com/2019/06/kernel-python.html">toward a Kernel Python</a> for a variety of reasons. I find that case convincing.</p>

</div></div>]]>
            </description>
            <link>http://ballingt.com/next-python/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535503</guid>
            <pubDate>Sun, 20 Sep 2020 17:29:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We need physical audio kill switches]]>
            </title>
            <description>
<![CDATA[
Score 418 | Comments 401 (<a href="https://news.ycombinator.com/item?id=24535408">thread link</a>) | @stargrave
<br/>
September 20, 2020 | https://rubenerd.com/we-need-physical-audio-kill-switches/ | <a href="https://web.archive.org/web/*/https://rubenerd.com/we-need-physical-audio-kill-switches/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div property="articleBody">
<p>(Update: I didn‚Äôt mention this concerned <strong>wired</strong> headphones).</p>
<p>I aggressively disagree with any computer design decisions that detract from ergonomics or health, and nowhere does this continue to remain bafflingly true than audio output. Strap in, I‚Äôm about to get a bit ranty!</p>
<p>If we encounter an unwanted audio signal emanating from our computers, especially an uncomfortably-loud one over headphones, we should <em>immediately</em> be able to terminate it. No exceptions. If there is any latency <em>whatsoever</em> between us hitting a mute button and the audio not cutting out, the hardware or software has failed. Crypton Future Media‚Äôs Hatsune Miku wouldn‚Äôt tolerate latency with her headphones, and neither should we.</p>
<p><img src="https://rubenerd.com/files/2020/miku-headphones@1x.jpg" srcset="https://rubenerd.com/files/2020/miku-headphones@1x.jpg 1x, https://rubenerd.com/files/2020/miku-headphones@2x.jpg 2x" alt=""></p>
<p>I was in a conference call last Friday where I‚Äôd adjusted the volume up to compensate for the client‚Äôs quiet microphone, only to be audibly shot in the ears by an auto-playing video on a website. There is a <em>lot</em> of problematic stuff to unpack there, much of which is not the fault of the audio hardware or OS. But shocked in the moment, I hit the mute button on my MacBook Pro Touchbar, and it took a solid two seconds for it to register. My ears were ringing throughout the whole call. <em>This is unacceptable.</em></p>
<p>Well-engineered mute buttons on keyboards shouldn‚Äôt need to go to software, they should immediately send a signal to the motherboard‚Äôs DAC‚Äîideally on a separate wire or connection‚Äîto say <em>terminate this signal</em>. Then it‚Äôs less of a concern if it takes the OS a few seconds to react to the change, because our ears have been spared.</p>
<p id="just-ackchyually">The <em>just ackchyually</em> crowd would don their Captain Obvious capes and brightly-coloured underwear to proclaim that people could <em>just</em> unplug their headphones, or rip them off ones head when suddenly inundated with loud audio. Sure, and if you start getting electric shocks from your keyboard you could <em>just</em> use an external one, bro. Or if you get your hand caught in a mixer, <em>just</em> use your other hand, that‚Äôs why you have two of them. There are so many reasons why this dismissive attitude is specious, but even if it weren‚Äôt, it would still take more physical effort <em>than a button</em>. And if a mute button doesn‚Äôt fulfill the function for which it‚Äôs labelled and designed, what‚Äôs the point of it? But then, these people know all that, they‚Äôre just being obtuse.</p>
<p>We have valid privacy arguments advocating for physical Wi-Fi, camera, and microphone buttons; I‚Äôd say audio should be voiced in these discussions too. They should be heard. Sound ideas should be reverberated. Miku.</p>
</div></div>]]>
            </description>
            <link>https://rubenerd.com/we-need-physical-audio-kill-switches/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535408</guid>
            <pubDate>Sun, 20 Sep 2020 17:19:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic Printing on OpenBSD]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 27 (<a href="https://news.ycombinator.com/item?id=24535357">thread link</a>) | @paedubucher
<br/>
September 20, 2020 | https://paedubucher.ch/articles/2020-09-20-basic-printing-on-openbsd.html | <a href="https://web.archive.org/web/*/https://paedubucher.ch/articles/2020-09-20-basic-printing-on-openbsd.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I have a roughly ten year old Brother HL-5370DW printer on the shelf next to me.
This printer is mostly used by my wife to print sewing patterns. When I was
studying computer science, I sometimes printed documents I've written for
proofreading. I often was able to find typos that I didn't see on the screen
even after proofreading the document two or three times. However, I didn't
bother to print out my bachelor thesis. Printing 120 pages just for proofreading
just seemed a waste to me. I did my proofreading on the screen extra carefully,
and nobody complained about typos. (Which doesn't mean that there were none.)</p>
<p>Having finished my studies, I hardly ever print out documents. However, I still
prefer to read long texts on paper rather than on the screen. Therefore I often
buy technical books as paperbacks or hardcovers rather than ebooks. And if I buy
an ebook with demanding content, I print out those sections for offline reading.</p>
<p>Having switched to OpenBSD for my private computing shifted my reading habits
more towards manpages. When I need to figure out how something works on
OpenBSD, <code>apropos(1)</code> beats Google as a starting point in many cases. Some
manpages are really long, for example <code>ksh(1)</code>. I have a book on the Korn Shell
in my basement, which covers <code>ksh93</code>.  However, there are some differences
between <code>ksh93</code> and OpenBSD's <code>pdksh</code>. So reading the manpage not only gives me
more accurate information, but also <em>less</em> to read.</p>
<p>So why not printing out the manpage <code>ksh(1)</code>? I can do so even nicely formatted
using PostScript:</p>
<pre><code>$ man -T ps -O paper=a4 ksh &gt;ksh.1.ps
</code></pre>
<p>Now <code>ksh.1.ps</code> can be read with <code>zathura(1)</code>, given that the package
<code>zathura-ps</code> is installed:</p>
<pre><code># pkg_add zathura zathura-ps
$ zathura ksh.1.ps
</code></pre>
<p>But why using PostScript and not PDF like anybody else for the last twenty five
years? Because PostScript is the least common denominator and, thus, supported
out of the box by OpenBSD. (For fancier printing options, check out <code>cups</code>, but
I'd like to keep it minimalistic for the moment.)</p>

<p>I figured out how to configure my printer by reading the section <em>The lpd
Printing Daemon</em> in the 16th chapter of <a href="https://nostarch.com/obenbsd2e">Absolute OpenBSD (2nd
Edition)</a> (p. 306-307) by <a href="https://mwl.io/">Michael W
Lucas</a>. This is how I applied the configuration to my local
setup.</p>
<p>First, I created the file <code>/etc/printcap</code> with the following content:</p>
<pre><code>lp|brother:\
    :sh=:\
    :rm=192.168.178.52:\
    :sd=/var/spool/output/brother:\
    :lf=/var/log/lpd-errs:\
    :rp=brother
</code></pre>
<p>There must be a newline at the end of the file. The line breaks are escaped
using backslashes, except for the last line. The options are defined as follows:</p>
<ul>
<li>The first line defines two names for my printer: <code>lp</code>, which should always be
  there, and <code>brother</code>, which is my arbitrary name for the printer.</li>
<li>The second line (<code>sh</code>) defines that no <em>burst page</em> (summarizing the last
  print job on a special page) should be printed.</li>
<li>The third line (<code>rm</code>) refers to the printer on the network. My FritzBox always
  gives the same IP to my printer. It's also possible to use the printer's
  hostname.</li>
<li>The fourth line (<code>sd</code>) defines the spooler directory for this printer. Print
  jobs are written into that directory.</li>
<li>The fifth line (<code>lf</code>) defines a log file for error messages, which you hopefully
  never need to check.</li>
<li>The sixth line (<code>rp</code>) defines the remote printer name.</li>
</ul>
<p>Next, the spooler directory needs to be created. It must be owned by the user
<code>root</code> and the group <code>daemon</code>. Regular users need write access to this directory
in order to print documents:</p>
<pre><code># mkdir /var/spool/output/brother
# chown -R root:daemon /var/spool/output/brother
# chmod 770 /var/spool/output/brother
</code></pre>
<p>Now the printer daemon <code>lpd</code> needs to be activated. To do so on system startup,
add the following line to <code>/etc/rc.conf/local</code>:</p>
<pre><code>lpd_flags=""
</code></pre>
<p>Then start the service:</p>
<pre><code># /etc/rc.d/lpd restart
</code></pre>
<p><strong>Update (2020-09-21)</strong>: As one reader on
<a href="https://news.ycombinator.com/item?id=24535357#24538879">Hacker News</a> pointed
out, the last two steps can be performed using <code>rcctl(8)</code>:</p>
<pre><code># rcctl enable lpd
# rcctl restart lpd
</code></pre>
<p>The manpage says that <code>rcctl(8)</code> was introduced in OpenBSD 5.7 back in 2015.
<em>Absolute OpenBSD (2nd Edition)</em> is from 2013 and, thus, older than that. (At
the time of this writing, I'm using Version 6.7.)</p>
<p>Another reader pointed out that setting the access rights to <code>777</code> is a bad
practice. That's true, and I actually got the reasoning behind this wrong: I
thought any user must be able to write to the spooler, because any user is
supposed to print. However, it's <code>lpd</code> that is writing to the spooler, which of
course runs under the <code>daemon</code> group. Therefore, the access rights for
<code>/var/spool/output/brother</code> should be set to <code>770</code>, not to <code>777</code> (as corrected
above).</p>

<p>Now the printer is ready to accept jobs. In order to print the PostScript file
generated before, just run <code>lpr</code> on the file:</p>
<pre><code>$ lpr ksh.1.ps
</code></pre>
<p>It's also possible to send the PostScript output directly to the printer (this
is Unix, after all), if no preview is needed:</p>
<pre><code>$ man -T ps -O paper=a4 ksh | lpr
</code></pre>
<p>Printing plain text files behaved strange on my setup, but could to using the
<code>pr</code> formatter with <code>lpr</code> as follows:</p>
<pre><code>$ lpr -p plain.txt
</code></pre>
<p>Instead, I also convert plain text files to PostScript, which looks quite nice
on paper. I use <code>enscript(1)</code> for this task:</p>
<pre><code># pkg_add enscript
$ enscript plain.txt -o plain.ps
$ lpr plain.ps
</code></pre>
<p>PDFs can also be converted to PostScript using <code>pdf2ps(1)</code>, which comes with
GhostScript, i.e. the <code>ghostscript</code> package:</p>
<pre><code>$ pdf2ps document.pdf document.ps
</code></pre>
<p>Unfortunately, this doesn't work with all PDFs. But for the time being, I have
enough manpages to read. Printing PostScript works extremely fast, by the way.
When I press return at the end of a <code>lpr</code> command, I can see the status LED on
my printer start blinking almost immediately.</p></div></div>]]>
            </description>
            <link>https://paedubucher.ch/articles/2020-09-20-basic-printing-on-openbsd.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535357</guid>
            <pubDate>Sun, 20 Sep 2020 17:15:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bert NLP: Using DistilBert to Build a Question Answering System]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24535160">thread link</a>) | @boduma
<br/>
September 20, 2020 | https://programmerbackpack.com/bert-nlp-using-distilbert-to-build-a-question-answering-system/ | <a href="https://web.archive.org/web/*/https://programmerbackpack.com/bert-nlp-using-distilbert-to-build-a-question-answering-system/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p><strong>Question answering systems </strong>are being heavily researched at the moment thanks to huge advancements gained in the <a href="https://programmerbackpack.com/what-is-natural-language-processing-a-gentle-introduction-to-nlp/">Natural Language Processing</a> field. Key players in the industry have developed incredibly advanced models, some of which are already performing at human level. This is also the case for BERT (Bidirectional Encoder Representations from Transformers) which was developed by researchers at Google. </p><p>In this article we're going to use DistilBERT (a smaller, lightweight version of BERT) to build a small question answering system. This system will process text from Wikipedia pages and answer some questions for us. We are then going to put our model to test with some questions and analyze the results.</p><p><em>Interested in more? Follow me on Twitter at <a href="https://twitter.com/b_dmarius">@b_dmarius</a> and I'll post there every new article.</em></p><figure><img src="https://images.unsplash.com/photo-1527430253228-e93688616381?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="A little Robot"><figcaption>Photo by <a href="https://unsplash.com/@rocknrollmonkey?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Rock'n Roll Monkey</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><h3 id="article-overview">Article overview</h3><ul><li>Approach for building a question answering system</li><li>Project setup</li><li>Building a Wikipedia text extractor</li><li>Question processing</li><li>Searching for relevant context - BM25</li><li>Using DistilBERT for question answering</li><li>Building the question answering logic</li><li>Testing our system</li><li>Related articles</li><li>Conclusions</li></ul><p>Our question answering system will work in 4 stages:</p><ul><li><strong>Extract text from Wikipedia: </strong>We will download text from a few Wikipedia articles in order to build our dataset. I will cache the text in my local environment because there is no need to download the same text again and again everytime I make changes to the system.</li><li><strong>Process the question</strong>: Here I'm going to extract the most important bits of the input question, because using every word in the question would lower the accuracy of the results.</li><li><strong>Retrieve context from the text:</strong> Given an input question, we will try to find the most relevant sentences in the entire data corpus. This will help have a small search space for our answer retriever model and will lead to a higher accuracy</li><li><strong>Retrieve answer from the context: </strong>This is where our BERT model will come into action. We will feed the context from the earlier step to our model and will get our answer in return.</li></ul><p>What I'm trying to do here is what I think is found behind the instant answers that search engines sometimes offer for some search queries. If you Google "what is the capital city of Romania?" you will first get an answer box with "Bucharest" and results from other pages around the internet come below this box.</p><p>What my intuition tells me is that the search engine looks at your query and tries to find first the most relevant pages related to your question and it then looks at these pages and tries to extract a direct answer for you. This is what I also tried to do for this project.</p><p>As I was writing in the beginning of this article, a lot of research is going on in this field and the community can only benefit from this. A lot of tools have been built using the latest research results and awesome tools like this are exactly what makes this project not only possible, but also very easy and quick üòä.</p><p>First let's install <a href="https://spacy.io/">spaCy</a>, a library which I really like and which I've been using in many projects, such as <a href="https://programmerbackpack.com/python-nlp-tutorial-information-extraction-and-knowledge-graphs/">building a knowledge graph</a> or <a href="https://programmerbackpack.com/python-knowledge-graph-understanding-semantic-relationships/">analyzing semantic relationships</a>. I'm also going to download the small version of the spaCy language model for English. Larger models are available but the small version is just enough for this project.</p><pre><code>pip install spacy
python -m spacy download en_core_web_sm</code></pre><p>It's time now to install <a href="https://pypi.org/project/wikipedia/">wikipedia</a>, an awesome package for extracting text from Wikipedia pages.</p><pre><code>pip install wikipedia</code></pre><p>Next up is <a href="https://radimrehurek.com/gensim/">Gensim</a>, another package which I really enjoy using, especially for its really good <a href="https://programmerbackpack.com/explained-word2vec-word-embeddings-gensim-implementation-tutorial-and-vizualization/">Word2Vec implementation</a>.</p><pre><code>pip install gensim</code></pre><p>For the last 2 dependencies, I'll install <a href="https://pytorch.org/">pytorch</a> and t<a href="https://github.com/huggingface/transformers">ransformers from HuggingFace</a> ü§ó. It's my first time using these 2 packages but I think they are really powerful and really easy and fun to work with.</p><pre><code>pip install torch
pip install transformers</code></pre><p>Now, with all our dependencies in place, it's time to start building our question answering system.</p><p>If you've been reading other articles on this blog you might already be familiar with my approach for extracting articles from Wikipedia pages. I know it's not the best or most efficient way of extracting the text, but it's quick and easy and let's you build a small, play dataset for a project. </p><p>First let's write a small class to extract the text from one Wikipedia page. Let's create a <strong>text_extractor.py </strong>file and put it in our project directory.</p><figure><pre><code>import wikipedia
import os


class TextExtractor:

    __pageTitle: str
    __pageId: str

    def __init__(self, pageTitle, pageId):
        self.__pageTitle = pageTitle
        self.__pageId = pageId

    def extract(self):
        fileName = "./text/" + self.__pageTitle + ".txt"
        if not os.path.isfile(fileName):
            page = wikipedia.page(title=self.__pageTitle, pageid=self.__pageId)
            f = open(fileName, "w")
            f.write(page.content)
            f.close()

    def getText(self):
        f = open("./text/" + self.__pageTitle + ".txt", "r")
        return f.read()</code></pre><figcaption>text_extractor.py</figcaption></figure><p>The approach is very simple here. The constructor takes 2 params, a page title and a page id. The reason for also requiring a page id is because I noticed that sometimes the wikipedia package gets confused for some titles and that's why I prefer to also use this param. To extract the page id for one Wikipedia article, go to <a href="https://www.wikidata.org/wiki/Wikidata:Main_Page">Wikidata</a> and search for your article there. The page id is the one in the brackets right after the title of your result.</p><p>As I said earlier, I'm storing the text in a local directory (/text) so that downloading the text is not necessary for every run of the project. </p><p>The second class needed for this step is a text extractor pipe. This allow us to collect multiple TextExtractor instances and combine the text from all of them into one big chunk. This is the content of the <strong>text_extractor_pipe.py </strong>file.</p><figure><pre><code>from text_extractor import TextExtractor


class TextExtractorPipe:

    __textExtractors: [TextExtractor]

    def __init__(self):
        self.__textExtractors = []

    def addTextExtractor(self, textExtractor: TextExtractor):
        self.__textExtractors.append(textExtractor)

    def extract(self) -&gt; str:
        result = ''
        for textExtractor in self.__textExtractors:
            result = result + textExtractor.getText()
        return result</code></pre><figcaption>text_extractor_pipe.py</figcaption></figure><p>It's time for the first real NLP step of this project. I'm going to do a little bit of question processing here. By that I mean I'm going to remove stop words from the original question text and keep only the essential parts. For example:</p><p><strong>Original question: </strong>"What is the capital city of Romania?"</p><p><strong>Processed question: </strong>"capital city Romania"</p><p>Why am I doing this? You might notice that the text contains words that are not necessarily essential for the question. This is especially for the purpose of this step, because we need to extract only the sentences that are the closest of all to our original question. Words like "what", "is", and especially "the" appear in too many places in our dataset and that can lower the accuracy of our search.</p><p>You might argue that the other words are important too, because once I find mentions of the capital city of Romania in the dataset, I need to know what to extract from there, what is the question that I need to answer too. And you're right, don't worry about it, we'll also keep the original question because we are going to reuse it later. But for searching purposes, the processed question should be enough.</p><p>I'm going to use spaCy to process the question. The logic here is very simple, I'm going to apply spaCy's NLP model to the question text in order to tokenize it and identify the parts of speech of all the words in the question. Then I'm going to keep only the parts of speech I'm interested in: nouns, proper nouns, and adjectives.</p><p>Here are the contents of <strong>question_processor.py.</strong></p><figure><pre><code>

class QuestionProcessor:


    def __init__(self, nlp):
        self.pos = ["NOUN", "PROPN", "ADJ"]
        self.nlp = nlp


    def process(self, text):
        tokens = self.nlp(text)
        return ' '.join(token.text for token in tokens if token.pos_ in self.pos)

</code></pre><figcaption>question_processor.py</figcaption></figure><p>Here starts the actual search for the context in which the answer to our question will probably be found. But first, we need to mention what <a href="https://en.wikipedia.org/wiki/Okapi_BM25">BM25 </a>is.</p><p><strong>BM25 </strong>is a function or an algorithm used to rank a list of documents based on a given query. That's why it is also called a ranking function. It is very similar to <a href="https://programmerbackpack.com/tf-idf-explained-and-python-implementation/">TF-IDF</a> and it is actually so good that I understand it is used in ElasticSearch for document ranking. I'm not going to go into the maths behind BM25 because it is a little too complicated for the purpose of this project, but the most relevant aspects here are:</p><ul><li>It is a bag-of-words model, and that means the algorithm disregards grammar structure but takes into account term frequencies - making it just ideal for our project.</li><li>It takes a query and helps us sort a collection of documents based on how relevant they are for that query.</li><li>The Gensim package has a very good BM25 implementation that is very easy to use.</li></ul><p>I see only good news in the list above, so let's get working üòÉ. Here's the approach I'm going to use:</p><ul><li>Get a list of all sentences in our dataset and the <strong>processed question</strong>.</li><li>Tokenize all our sentences and use lemmas of the words instead of the original words. The lemma of a given word is its base form (for example, we're transforming "running" to "run") and we are using it in order to improve the accuracy of our search. We're also doing it for the question text. If you want to know more about <a href="https://programmerbackpack.com/lemmatization-and-stemming-in-nlp-the-complete-practical-guide/">lemmatization and stemming you can read this article</a>.</li><li>Use the BM25 ranking function to rank all our documents against the given query.</li><li>Extract the top <em>N </em>results from the step above and build a paragraph out of all those <em>N</em> sentences.</li></ul><p>Here is the content of <strong>context_retriever.py</strong></p><figure><pre><code>from gensim.summarization.bm25 import BM25


class ContextRetriever:

    def ‚Ä¶</code></pre></figure></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://programmerbackpack.com/bert-nlp-using-distilbert-to-build-a-question-answering-system/">https://programmerbackpack.com/bert-nlp-using-distilbert-to-build-a-question-answering-system/</a></em></p>]]>
            </description>
            <link>https://programmerbackpack.com/bert-nlp-using-distilbert-to-build-a-question-answering-system/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535160</guid>
            <pubDate>Sun, 20 Sep 2020 16:55:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tarsnap ‚Äì cleaning up old backups]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 23 (<a href="https://news.ycombinator.com/item?id=24535046">thread link</a>) | @tosh
<br/>
September 20, 2020 | https://dan.langille.org/2020/09/10/tarsnap-cleaning-up-old-backups/ | <a href="https://web.archive.org/web/*/https://dan.langille.org/2020/09/10/tarsnap-cleaning-up-old-backups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<div>
<p>I use <a href="https://www.tarsnap.com/">Tarsnap</a> for my critical data. Case in point, I use it to backup my Bacula database dump. I use Bacula to backup my hosts. The database in question keeps track of what was backed up, from what host, the file size, checksum, where that backup is now, and many other items. Losing this data is annoying but not a disaster. It can be recreated from the backup volumes, but that is time consuming. As it is, the file is dumped daily, and rsynced to multiple locations.</p>
<p>I also backup that database daily via <span>tarsnap</span>. I‚Äôve been doing this since at least 2015-10-09.</p>
<p>The uncompressed dump of this PostgreSQL database is now about 117G. </p>
<pre># ls -l bacula.dump 
-rw-r-----  1 10839  10839  125497737071 Sep  8 03:29 bacula.dump
</pre>
<p>Let‚Äôs look at recent usage by that host:</p>
<div id="attachment_6180"><p><a href="https://dan.langille.org/wp-content/uploads/2020/09/tarsnap-usage.png"><img aria-describedby="caption-attachment-6180" loading="lazy" src="https://dan.langille.org/wp-content/uploads/2020/09/tarsnap-usage-634x1024.png" alt="tarsnap recent usaage" width="634" height="1024" srcset="https://dan.langille.org/wp-content/uploads/2020/09/tarsnap-usage-634x1024.png 634w, https://dan.langille.org/wp-content/uploads/2020/09/tarsnap-usage-186x300.png 186w, https://dan.langille.org/wp-content/uploads/2020/09/tarsnap-usage.png 747w" sizes="(max-width: 634px) 100vw, 634px"></a></p><p id="caption-attachment-6180">tarsnap recent usaage</p></div>
<p>The latest <span>Daily storage</span> value is 96G.</p>
<p>Using this command, I obtained a list of the archives stored:</p>
<pre>tarsnap --list-archives -vv &gt; ~/tarsnap-knew-archive-list
</pre>
<p>See <a href="https://www.tarsnap.com/man-tarsnap.1.html">man 1 tarsnap</a></p>
<p>I found 1751 archives, the oldest one was created on 2015-10-08 19:01:17.</p>
<p>This is a great example of <a href="https://www.tarsnap.com/deduplication-examples.html">Tarsnap deduplication and compression</a>.  I have 5 years of backups taking up only 96G and the latest backup is 113G.</p>
<p>By comparison, my other <span>tarsnap</span> backups take up this amount of space:</p>
<hr>
<table>
<tbody><tr>
<th>backup</th>
<th>size</th>
</tr>
<tr>
<td>bacula dump</td>
<td>96G</td>
</tr>
<tr>
<td>bacula configuration</td>
<td>13.7G</td>
</tr>
<tr>
<td>subversion</td>
<td>8G</td>
</tr>
<tr>
<td>supernews</td>
<td>32.5G</td>
</tr>
<tr>
<td>zuul-postgresql</td>
<td>0.18G</td>
</tr>
<tr>
<td>zuul-mysql</td>
<td>0.57G</td>
</tr>
<tr>
<td>zuul-pg02</td>
<td>5.7G</td>
</tr>
</tbody></table>
<hr>
<p>I‚Äôm going to trim down the dump archives, for sure.</p>
<p>I‚Äôm curious about that bacula configuration archive.  The Bacula configuration is only about 600K:</p>
<pre>$ cd /usr/local/etc/bacula
$ sudo du -ch .
608K	.
608K	total
$ </pre>
<p>Checking the archive list for that machine, I find 6 database backups from early October 2015.</p>
<p>Let‚Äôs delete those backups first. The names of those archives are:</p>
<pre title="">bacula.int.BaculaDatabase.2015-10-02
bacula.int.BaculaDatabase.2015-10-03
bacula.int.BaculaDatabase.2015-10-05
bacula.int.BaculaDatabase.2015-10-06
bacula.int.BaculaDatabase.2015-10-07
bacula.int.BaculaDatabase.2015-10-08
</pre>
<p>Let‚Äôs delete one:</p>
<pre># tarsnap -d -f bacula.int.BaculaDatabase.2015-10-02
                                       Total size  Compressed size
All archives                         196056412740      57482749453
  (unique data)                       50147278933      14694175940
This archive                          48831544077      14324291125
Deleted data                              2073099          1672760
# 
</pre>
<p>Let‚Äôs delete the rest (based on <a href="https://www.tarsnap.com/improve-speed.html">Delete multiple archives faster</a>:</p>
<pre>[dan@bacula:~] $ sudo tarsnap -d \
&gt; -f bacula.int.BaculaDatabase.2015-10-03 \
&gt; -f bacula.int.BaculaDatabase.2015-10-05 \
&gt; -f bacula.int.BaculaDatabase.2015-10-06 \
&gt; -f bacula.int.BaculaDatabase.2015-10-07 \
&gt; -f bacula.int.BaculaDatabase.2015-10-08
                                       Total size  Compressed size
All archives                         147224869967      43158468600
  (unique data)                       50147260360      14694156775
bacula.int.BaculaDatabase.2015-10-03      48831542773      14324280853
Deleted data                                18573            19165
                                       Total size  Compressed size
All archives                          98393327194      28834187747
  (unique data)                       50147241787      14694137610
bacula.int.BaculaDatabase.2015-10-05      48831542773      14324280853
Deleted data                                18573            19165
                                       Total size  Compressed size
All archives                          49561784421      14509906894
  (unique data)                       49265856159      14448990041
bacula.int.BaculaDatabase.2015-10-06      48831542773      14324280853
Deleted data                            881385628        245147569
                                       Total size  Compressed size
All archives                            314745728         65670242
  (unique data)                          19214507          4841679
bacula.int.BaculaDatabase.2015-10-07      49247038693      14444236652
Deleted data                          49246641652      14444148362
                                       Total size  Compressed size
All archives                            314744195         65668842
  (unique data)                          19212974          4840279
bacula.int.BaculaDatabase.2015-10-08             1533             1400
Deleted data                                 1533             1400
[dan@bacula:~] $ [dan@bacula:~] $ sudo tarsnap -d \
</pre>
<p>I won‚Äôt see the change in the ‚ÄòRecent account usage by machine‚Äô page because that ‚Äòupdates shortly after midnight UTC‚Äô.  I‚Äôll come back tomorrow.</p>
<p>In the meantime, I think I can delete all my old Bacula database backups from before 2020.  For fun, I will keep each backup from 01-01, and the oldest backup.</p>
<p>Here is how I can get that list from the existing file:</p>
<pre>[dan@knew:~] $ head /root/tarsnap-knew-archive-list 
bacula.int.BaculaDatabase.2020-08-13	2020-08-13 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2020-08-13 bacula.dump
bacula.int.BaculaDatabase.2018-08-17	2018-08-17 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2018-08-17 bacula.dump
bacula.int.BaculaDatabase.2018-11-08	2018-11-08 13:25:01	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2018-11-08 bacula.dump
bacula.int.BaculaDatabase.2020-07-08	2020-07-08 13:25:00	/usr/local/bin/tarsnap -c -f Àútarbacula.int.BaculaDatabase.2020-07-08 bacula.dump
bacula.int.BaculaDatabase.2016-05-25	2016-05-25 13:25:02	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2016-05-25 bacula.dump
bacula.int.BaculaDatabase.2018-08-09	2018-08-09 13:25:02	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2018-08-09 bacula.dump
bacula.int.BaculaDatabase.2016-10-12	2016-10-12 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2016-10-12 bacula.dump
bacula.int.BaculaDatabase.2016-01-20	2016-01-20 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2016-01-20 bacula.dump
bacula.int.BaculaDatabase.2019-02-06	2019-02-06 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2019-02-06 bacula.dump
bacula.int.BaculaDatabase.2016-03-18	2016-03-18 13:25:04	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2016-03-18 bacula.dump
[dan@knew:~] $ cut -f 1 -w /root/tarsnap-knew-archive-list  | head
bacula.int.BaculaDatabase.2020-08-13
bacula.int.BaculaDatabase.2018-08-17
bacula.int.BaculaDatabase.2018-11-08
bacula.int.BaculaDatabase.2020-07-08
bacula.int.BaculaDatabase.2016-05-25
bacula.int.BaculaDatabase.2018-08-09
bacula.int.BaculaDatabase.2016-10-12
bacula.int.BaculaDatabase.2016-01-20
bacula.int.BaculaDatabase.2019-02-06
bacula.int.BaculaDatabase.2016-03-18
[dan@knew:~] $ 
</pre>
<p>Oh wait, let‚Äôs sort that to get a proper range:</p>
<pre>[dan@knew:/root] $ sort tarsnap-knew-archive-list | tail -2
bacula.int.BaculaDatabase.2020-09-05	2020-09-05 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2020-09-05 bacula.dump
bacula.int.BaculaDatabase.2020-09-07	2020-09-07 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2020-09-07 bacula.dump
[dan@knew:/root] $ 
</pre>
<pre>[dan@knew:/root] $ sort tarsnap-knew-archive-list | head -2
bacula.int.BaculaDatabase.2015-10-08	2015-10-08 19:01:17	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2015-10-08 bacula.dump
bacula.int.BaculaDatabase.2015-10-09	2015-10-09 13:25:00	/usr/local/bin/tarsnap -c -f bacula.int.BaculaDatabase.2015-10-09 bacula.dump
</pre>
<p>Backups going back 5 years. Yeah, that might be a bit excessive, even for me. I usually keep them for three years at home.</p>
<p>Knowing that, let‚Äôs select the entries I want to keep:</p>
<pre>[dan@knew:~] $ cut -f 1 -w /root/tarsnap-knew-archive-list  | egrep -e '-01-01|2015-10-08' | sort
bacula.int.BaculaDatabase.2015-10-08
bacula.int.BaculaDatabase.2016-01-01
bacula.int.BaculaDatabase.2017-01-01
bacula.int.BaculaDatabase.2019-01-01
bacula.int.BaculaDatabase.2020-01-01
[dan@knew:~] $ 
</pre>
<p>I sorted the output just to make it easier.</p>
<p>Now, dump everything else, by using <span>-v</span>, into a file:</p>
<pre>[dan@knew:~] $ cut -f 1 -w /root/tarsnap-knew-archive-list  | egrep -ve '-01-01|2015-10-08' &gt; tarsnap-volumes-to-delete
[dan@knew:~] $ wc -l tarsnap-volumes-to-delete 
    1746 tarsnap-volumes-to-delete
</pre>
<p>Oh wait, I forgot to exclude 2020</p>
<pre>[dan@knew:~] $ cut -f 1 -w /root/tarsnap-knew-archive-list  | egrep -ve '-01-01|2015-10-08|bacula.int.BaculaDatabase.2020' &gt; tarsnap-volumes-to-delete
[dan@knew:~] $ wc -l tarsnap-volumes-to-delete 
    1503 tarsnap-volumes-to-delete
[dan@knew:~] $ 
</pre>
<p>I used an editor to quickly modify that file to look like this:</p>
<pre>[dan@knew:~] $ head tarsnap-volumes-to-delete 
#!/bin/sh
-f bacula.int.BaculaDatabase.2018-08-17 \
-f bacula.int.BaculaDatabase.2018-11-08 \
-f bacula.int.BaculaDatabase.2016-05-25 \
-f bacula.int.BaculaDatabase.2018-08-09 \
-f bacula.int.BaculaDatabase.2016-10-12 \
-f bacula.int.BaculaDatabase.2016-01-20 \
-f bacula.int.BaculaDatabase.2019-02-06 \
-f bacula.int.BaculaDatabase.2016-03-18 \
-f bacula.int.BaculaDatabase.2018-01-15 \
[dan@knew:~] $ 
</pre>
<p>This delete will take a while so I started a <span>tmux</span> session.  I did a <span>chmod +x</span> on the file.</p>
<p>I started the command and went on to do other lines.  It is deleting 1500 archives. It will be a few hours at least I think.</p>
<pre>[dan@knew:~] $ time sudo ./tarsnap-volumes-to-delete
</pre>
<p>I wish I sorted that list. I‚Äôd know easily where we were.</p>
<p>I know we are on <span>bacula.int.BaculaDatabase.2018-08-19</span> which is line 836 of 1505.</p>
<pre> $ ps auwwx | grep tmux
dan        78234   0.0  0.0   14344    5872  -  Is   13:15       0:00.36 tmux: server (/tmp//tmux-1001/default) (tmux)
</pre>
<p><span>tmux</span> was started at 13:15 and it is now 20:49 ‚Äì so that‚Äôs 7.5 hours to get about half-way through. This should finish overnight.</p>
<p>Night passes‚Ä¶.</p>
<p>The next morning I found:</p>
<pre>real    819m10.118s
user    372m34.315s
sys     3m23.045s
</pre>
<p>That is 13 hours and 40 minutes, or about 18 every 10 minutes.</p>
<p>I want to compare before and after disk usage, but I may have to wait until 0000 UTC when the statistics are updated.</p>
<p>The next day (2020-09-10), I found these ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dan.langille.org/2020/09/10/tarsnap-cleaning-up-old-backups/">https://dan.langille.org/2020/09/10/tarsnap-cleaning-up-old-backups/</a></em></p>]]>
            </description>
            <link>https://dan.langille.org/2020/09/10/tarsnap-cleaning-up-old-backups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24535046</guid>
            <pubDate>Sun, 20 Sep 2020 16:43:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A McLuhan-Syntonic Approach to Computer Literacy: Toppling Pillars of Cyberspace]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534975">thread link</a>) | @finnthehuman
<br/>
September 20, 2020 | http://www.concernednetizen.com/2019/01/a-mcluhan-syntonic-approach-to-computer-literacy-toppling-the-pillars-of-cyberspace/ | <a href="https://web.archive.org/web/*/http://www.concernednetizen.com/2019/01/a-mcluhan-syntonic-approach-to-computer-literacy-toppling-the-pillars-of-cyberspace/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
		<p><iframe title="My MEA Presentation at UofT: Toppling the Pillars of Cyberspace" width="676" height="380" src="https://www.youtube.com/embed/IhwLDQakjNA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p><em>On June 29th, 2019, I delivered the above presentation to the Media Ecology Association at their 20th Annual Convention in Toronto, on the U of T campus, based on this paper. Learn more about the convention at <a href="http://mediaethics.ca/">mediaethics.ca</a>. Attempts to move the paper toward a more finalized form have resulted in sprawling additions which will require much work, however I hope the draft below suffices to entertain curiosity piqued by the video. üôÇ ‚Äì Clinton, 08/02/19</em></p>
<p><em>This paper is undergoing a significant re-write, not least to address some typos and add more sources. Please consider it a draft in its present form. ‚Äì Clinton, 02/21/19</em></p>
<p>Cyberspace is a fictional sensory environment with a traceable history. It is formally defined ‚Äî much like the Euclidean space which Wyndham Lewis feared losing, and which Marshall McLuhan announced obsolete thirty years later. Its origins lie in the mid-1960s with the programming language Simula, which standardized the now-ubiquitous object-oriented approach toward computer programming (Rheingold, 238). Combined with the file-systems of magnetic data storage devices and graphic user interfaces, cyberspace has become synonymous with computing and media as a whole. Examinations of cyberspace emphasize the fantastic and unreal nature of the medium, but seldom puncture through to the realities of computing itself.<br>
The applied methods of Marshall McLuhan promise great exploratory and explanatory power in today‚Äôs media environment if, and only if, the precise nature of digital technology as machines and as media can be acknowledged in a way commensurate to all various perceptions of them. Unlike analogue media, whose inner-workings are discrete, computing devices employ the universal Turing Machine concept which renders their operations evasive of straightforward explanation. Modern media literacy absolutely demands some basic form of full-stack computer literacy, without any permissible exceptions or objections. The alternative is control over the programmable, invisible environment being ceded to an arbitrary, self-selected few who are granted the power of technical determination over the many.<br>
After demonstrating a model of simple, full-stack computer literacy this paper will offer some exploratory probes into the nature of media and its effects in the style of Marshall McLuhan, with the aim of putting cyberspace in its proper place and revealing the hidden ground it has covered up.<span id="more-186"></span></p>
<h3>1. Computer Content vs. Media Content</h3>
<p>In the McLuhanesque sense, the content of a medium is highly visible or noticeable, to the extent that it distracts attention from the medium itself. A new medium constitutes an environment which is only subliminally processed by (and so, in turn, is subliminally processing) the beholder who is consciously fixated on the content. The content is easy to perceive because it presents itself as something old and familiar.</p>
<p>McLuhan posited that the electronic media of his time offered too much too quickly, thwarting conscious linear consideration. He claimed that human perception of them called upon in-depth, right-brain processing via mythic forms. We end up ‚Äúfeeling‚Äù electronic media and dynamically ‚Äúmaking‚Äù our perception of it instead of detachedly considering it through a left-brain conceptual model which ‚Äúmatches‚Äù it. Since his time analogue media has been largely swallowed up by digital computers, necessitating a fresh analysis of electronic media capable of encapsulating the nature of this new medium.</p>
<p>What is the content of a computer? One answer might be the hardware inside and its specifications. A more likely answer would be the files on the hard drive, which is to say the content of the storage device. Still another answer might involve the enumeration of the software environments providing useful applications to a user‚Äôs daily or professional life. By using Marshall McLuhan‚Äôs approach toward media studies, we can develop a nuanced, technically accurate to considering computers as a medium. First, we must re-cognize the development of computer interfaces themselves, from direct representation of hardware states up to the erection of simulations of cyberspace. This can be done by roughly tracing the historical development of the personal microcomputer, beginning in 1975.</p>
<h3>2. Definition of computers and interface</h3>
<p>At the lowest level, the content of a computer is the state of each flip-flop in the RAM hardware components, signifying either a 1 or a 0 in the abstract binary code. In computer science, RAM is invariably conceptualized as a memory-space of addressable regions of bytes. When a computer is running,&nbsp; the CPU defaults to moving sequentially through each addressable byte in memory, rather like a boardgame piece or the reader of a Choose Your Own Adventure Novel. Occasionally the CPU will encounter a novel instruction at a memory address. Perhaps it hits an instruction to jump elsewhere in RAM to work on a subtask and return with an appropriate response, or to circle about in a loop, or to decide a heading on a branching path by with a logical decision based on a mathematical operation. Sometimes it is told to go to access special addresses which correspond to hardware such as the keyboard, on-screen characters, mouse, or storage devices. This is the the most straight-forward, low-level way of conceptualizing the operation of computer hardware.</p>
<p>This convoluted linearity is mirrored by the procedural programming style, in which the programmer writes the directions which the CPU will follow. The computer processor itself, in either a direct or abstracted and simplified way, is conceived as the sole agent within the computer, performing instructions as-written line by line. In the language of Alan Turing‚Äôs definition for a universal computing device, his Turing Machine, the RAM serves as the endless memory ‚Äútape‚Äù whose ‚Äúcells‚Äù (memory addresses) of ‚Äúsymbols‚Äù (bytes) are read by the CPU in the role of ‚Äúhead.‚Äù</p>
<p>Programming languages are classified from low to high, depending on their level of abstraction up and away from this basic Turing Machine functionality. Machine language and its corresponding assembly language are the most low-level, meaning they directly represent the CPU‚Äôs actual operation. For the sake of this paper, they will be grouped with somewhat higher-level procedural programming languages. These afford the programmer many useful shortcuts, pre-defined functions and variables, and rudimentary use of natural language. Yet since procedural programs maintain the perspective of the CPU as the sole-agent in the computer, being instructed through a program-flow of convolutions of linear structure line-by-line, we will consider all of these to be low-level.</p>
<h3>3. Interfaces as medium</h3>
<p>Input into large, early, institutional computers from the 40s through to the 70s had been done via physical rewiring, byte-by-byte toggle switches, paper telegraph tape, paper punch cards, and teletype or typewriter-style keyboards. Output was through blinking lights, paper print-outs, and various cathode-ray tubes such as oscilloscopes and television screens. The recapitulation of this procession at the microcomputer level was very quick. The toggle switches and blinking lights of the MITS Altair 8800 in allowed hobbyists in 1975 to enter machine-code into the RAM byte by byte and inspect the contents. By only 1977 the Apple II, Commodore PET, and Radio Shack TRS-80 provided home and business users with affordable use of a keyboard and television interface to an interactive, procedural BASIC-language prompt.</p>
<p>Marshall McLuhan warned that the content of a medium, the object of focus, was always a distraction from the medium itself. Low-level software inheres tightly to the hardware of the machine in a complementary way, rendering the hardware naked for use. The computer is, in this case, a highly-intricate mechanical machine and its software is merely a highly-mutable part of its mechanism and not ‚Äúcontent‚Äù in the media-sense of the term. Content must be whatever meaningful thing the keyboard and screen ‚Äì the input and output devices ‚Äì are communicating with the user about via interface.</p>
<p>In a media-studies sense, content is perception, Even though we might know something is in a computer, it is not ‚Äúcontent‚Äù until it is striking our raw senses.</p>
<h3>4. Code in execution and storage</h3>
<p>Putting a program into RAM requires the computer to be turned on, and for the CPU to be ‚Äúidling‚Äù until it can be set on its path through the memory addresses containing the software to be executed. The MITS Altair 8800 had a ‚ÄúSTOP/RUN‚Äù toggle switch to change between these two modes in their purest, most direct form. Afterwards microcomputers would come with a bare-minimum of programming pre-written into a ROM chip soldered onto the motherboard, automatically be loaded into RAM the moment it powered on. On the Apple II, PET, and TRS-80 this ROM chip contain an interactive BASIC programming language environment which, in execution, would present an on-screen prompt in which the user could type individual BASIC instructions for instant execution, or complete BASIC programs.</p>
<p>This back and forth between source code and execution reveals or closely mimics the interplay between RAM and CPU. For this reason, I would say that these first generation microcomputers present the computer as content of its own interface. To program a computer at a low-level is to have perception of the dynamics of its deepest inner-workings. This might be an exaggeration, but this is as purely transparent as it gets for commercially-produced, mass-market computers. The RAM is clearly presented as a space to be filled with bytes from the keyboard; instructions written in the convoluted linear procedural style of the operations of a CPU. The computer screen is like an open box with no false-bottoms, revealing all contents.</p>
<p>RAM is volatile, which means it is cleared when power is turned off. Saving computer data between power-cycles requires ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.concernednetizen.com/2019/01/a-mcluhan-syntonic-approach-to-computer-literacy-toppling-the-pillars-of-cyberspace/">http://www.concernednetizen.com/2019/01/a-mcluhan-syntonic-approach-to-computer-literacy-toppling-the-pillars-of-cyberspace/</a></em></p>]]>
            </description>
            <link>http://www.concernednetizen.com/2019/01/a-mcluhan-syntonic-approach-to-computer-literacy-toppling-the-pillars-of-cyberspace/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534975</guid>
            <pubDate>Sun, 20 Sep 2020 16:34:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stop scrambling and just auto prep your meetings]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534859">thread link</a>) | @iamwil
<br/>
September 20, 2020 | https://automationcookbook.io/stop-scrambling-and-just-auto-prep-your-meetings/ | <a href="https://web.archive.org/web/*/https://automationcookbook.io/stop-scrambling-and-just-auto-prep-your-meetings/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://automationcookbook.io/content/images/size/w300/2020/09/13905440592_6578300b9d_c.jpg 300w,
                            https://automationcookbook.io/content/images/size/w600/2020/09/13905440592_6578300b9d_c.jpg 600w,
                            https://automationcookbook.io/content/images/size/w1000/2020/09/13905440592_6578300b9d_c.jpg 1000w,
                            https://automationcookbook.io/content/images/size/w2000/2020/09/13905440592_6578300b9d_c.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://automationcookbook.io/content/images/size/w2000/2020/09/13905440592_6578300b9d_c.jpg" alt="Stop scrambling and just auto prep your meetings">
            </figure>

            <section>
                <div>
                    <p><em>Running a business has many moving parts. The more you can automate, the more it frees you up to address higher level and strategic problems of your business. This is a newsletter about automating aspects of your business.</em></p><h3 id="story-and-problem">Story and Problem</h3><blockquote>I have Zaps for automatically adding new customers (who purchase books<br>from my online shop) to my email list, and I specify which tags to add<br>to them depending on the product they buy. I have a Zap for creating a<br>new meeting notes document (from a template) for consulting clients in a<br>Google Drive folder as soon as they book a coaching call with me on<br>Calendly, and I'm working on a Zap to remove subscribers from my list<br>the moment they unsubscribe. I'm still in the process of building out<br>workflows but I'm really happy with how it automates several tedious<br>tasks.</blockquote><p>Stephanie Morillo is the creator of <a href="https://www.developersguidetocontent.com/">The Developer's Guide to Content Creation</a>, a book featuring exercises, worksheets, and content helping developers become better content creators.</p><p>She was the main writer for <a href="https://bundler.io/">Bundler</a> and <a href="https://rubygems.org/">RubyGems</a> open source projects, the editor-in-chief of <a href="https://www.digitalocean.com/">DigitalOcean</a> and <a href="https://github.com/">GitHub</a>'s company blogs, as well as a content strategist on Microsoft's Cloud Advocate team. </p><p>In addition to her book, she also sells a complementary service where she does 1 on 1 chats for people looking for more in-depth consultation. Here, she's automated the process of setting up the required notes and documents in preparation for the consultation as soon as a client books her on her <a href="https://calendly.com/">Calendly</a>.</p><p>Do you have recurring meetings where the format is the same? Maybe it's a sale call, or maybe it's a consulting call, where you find that you need to have certain source material, notes, or answers to commonly asked questions. </p><p>Instead of scrambling every time, set up some automation up front, triggered by your Calendly appointment to have every thing you need to be successful in your meetings every time. You'll still need to do any rehearsing, but let these logistics be the least of your worries!</p><h3 id="automation">Automation</h3><p>Calendly easily integrates into a lot of major workflow management software like Integromat or Zapier. Use it to trigger </p><ul><li>adding links to zoom meetings in your Google Calendar</li><li>the creation of template documents for the meeting</li><li>add links answers to commonly asked questions</li><li>numbers and figures that you need to know on these calls. </li><li>or anything else you find you're usually scrambling for.</li></ul><p>For any of these documents, if you do link them in the event, and that event is shared by your counterpart in your meeting, make sure the default permissions is only you! Otherwise, it might get real embarrassing!</p><p>As usual, these are just the tools I've heard of and used before. If you like to find alternatives, here are a couple below.</p><ul><li><a href="https://alternativeto.net/software/zapier/">Zapier Alternatives</a></li><li><a href="https://alternativeto.net/software/calendly/">Calendly Alternatives</a></li></ul><p>Happy Automating! Make your meetings a success!</p><p>[*] Header photo by <a href="https://www.flickr.com/photos/krb_events/13905440592/in/photolist-nbM22J-7XcKqs-9T5UoV-9T5Ske-8QsdLd-62xpeo-ndLkwa-nbNP6Q-n9ZiBK-nbPhmY-nc3efz-8UQaAt-na1q1f-n9ZB9d-ndRgHP-nc58Yh-na1aKq-nbTGiB-nbKDum-ndPXv9-ndSbKv-AW98A-6CZHmV-nc53Eb-ndKHve-ndKKqB-nbPnC8-nbJE63-6CZEhi-ndKTkH-ndMYyr-ndLBZR-n9ZtBq-ndMM7Z-nbKgDH-ndT94s-nbKrDJ-mnMHwp-ndKkDg-7FmhTj-nbLMSC-ndU95s-29hLz-na1z6y-ndPxGB-8v1ZNZ-5uXnRM-nbJCXX-6nKv4C-nc3Nw4">Kerrie _</a>. (CC BY-SA 2.0)</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to Automation Cookbook</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://automationcookbook.io/stop-scrambling-and-just-auto-prep-your-meetings/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534859</guid>
            <pubDate>Sun, 20 Sep 2020 16:18:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building nested JSON objects with Postgres]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534853">thread link</a>) | @shusson
<br/>
September 20, 2020 | https://shusson.info/post/building-nested-json-objects-with-postgres | <a href="https://web.archive.org/web/*/https://shusson.info/post/building-nested-json-objects-with-postgres">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  

<p><strong>20/09/2020</strong></p>

<p>Often the application layer will transform normalized data from the db into a hierarchical object. For example many ORMs will support something like <code>formRepository.find({ relations: ["section", "section.question"] });</code>, which will do something like <a href="https://github.com/typeorm/typeorm/blob/c714867d3d0c43ccbb7ca8fb3ce969207e4d5c04/src/query-builder/SelectQueryBuilder.ts#L1926">this</a> behind the scenes. Moving the normalized data between the db and the application layer is redundant. With <a href="https://www.postgresql.org/docs/12/functions-json.html">json functions</a>, postgres can do the transformations instead.</p>

<p>Basic model:</p>
<pre><code>DROP TABLE IF EXISTS question;
DROP TABLE IF EXISTS section;
DROP TABLE IF EXISTS form;


CREATE TABLE form (
    id serial primary key,
    description text
);

CREATE TABLE section (
    id serial primary key,
    name text,
    form_id serial references form(id)
);

CREATE TABLE question (
    id serial primary key,
    name text,
    section_id serial references section(id)
);
</code></pre>

<p>Generate some data:</p>
<pre><code>INSERT INTO
    form (description)
VALUES
    (
        md5(random()::text)
    ),
    (
        md5(random()::text)
    );

INSERT INTO
    section (name, form_id)
SELECT
    md5(random()::text),
    1
FROM
    generate_series(1, 10) s(i);


INSERT INTO
    question (name, section_id)
SELECT
    md5(random()::text),
    floor(i)
FROM
    generate_series(1, 10, 0.2) s(i);
</code></pre>

<p>Fetch the normalized representation of a form:</p>
<pre><code>SELECT
	form.id AS form_id,
	section.id AS section_id,
	question.id AS question_id
FROM form
LEFT JOIN section ON section.form_id = form.id
LEFT JOIN question ON question.section_id = form.id
WHERE form.id = 1;

form_id|section_id|question_id|
-------|----------|-----------|
      1|         1|          1|
      1|         1|          2|
      1|         1|          3|
      1|         1|          4|
...
</code></pre>

<p>Fetch the JSON objects of a form using nested sub-queries:</p>
<pre><code>SELECT row_to_json(forms)
FROM (
    SELECT
    	form.*,
        (
        	SELECT jsonb_agg(nested_section)
        	FROM (
	        	SELECT
		     		section.id,
		     		section.name,
		     		(
		     			SELECT json_agg(nested_question)
		     			FROM (
		     				SELECT
		     				question.id,
		     				question.name
			     			FROM question
			     			where question.section_id = section.id
		     			) AS nested_question
		     		) AS questions
		        FROM section
		        WHERE section.form_id = form.id
        	) AS nested_section
        ) AS sections
    FROM form
) AS forms;
</code></pre>

<p>Each row will look like:</p>
<pre><code>{
    "id": 1,
    "description": "53f6420b9ba0c269a9eb611a47480536",
    "sections": [
        {
            "id": 1,
            "name": "3d670fbce46e67b67a42eb743a700529",
            "questions": [
                {
                    "id": 1,
                    "name": "ee4918cd0b77b3fe2b7a4f5a8fd1c163"
                },
                {
                    "id": 2,
                    "name": "a1337f89c3cb2c369ef959741d5aed33"
                },
                {
                    "id": 3,
                    "name": "c0db64d35a0253561514ee929d813101"
                }
                ...
            ]
        },
    ...
</code></pre>

<p>Alternatively you can use Common Table Expressions:</p>

<pre><code>WITH questions as (
    SELECT
      question.*
    FROM question
    GROUP BY question.id
    order by question.id
), sections AS (
    SELECT
      section.*,
      json_agg(questions) as questions
    FROM section
    LEFT JOIN questions ON questions.section_id = section.id
    GROUP BY section.id
    order by section.id
), forms AS (
    SELECT
      form.*,
      json_agg(sections) as sections
    FROM form
    LEFT JOIN sections ON sections.form_id = form.id
    group by form.id
    order by form.id
)
SELECT row_to_json(forms)
FROM forms;
</code></pre>

<p>In a following blog post I plan to investigate the performance these json functions.</p>

      

  <span><time datetime="2020-09-20T00:00:00+02:00"></time></span>


  
  <!--<span class="meta"><time datetime="2020-09-20T00:00:00+02:00">September 20, 2020</time> &middot; </span>
  -->
</section></div>]]>
            </description>
            <link>https://shusson.info/post/building-nested-json-objects-with-postgres</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534853</guid>
            <pubDate>Sun, 20 Sep 2020 16:16:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[JO-SQL Database]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534692">thread link</a>) | @elvis70
<br/>
September 20, 2020 | http://www.die-schoens.de/prg/josql.html | <a href="https://web.archive.org/web/*/http://www.die-schoens.de/prg/josql.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <center>
      
      <h4>(last updated Jan 13tht 2013) </h4>
   </center>
    <hr size="6">

    <p>
      Welcome to JO-SQL - a versatile multiuser database with reusable parts.
      A presentation about architecture and main feature
      is <a href="http://www.die-schoens.de/prg/JOSQL.ppt">here</a>.
      <br>
      In short, the database
      </p><ul>
	<li>provides configurable multiuser access through shared memory.
	  Most parameters are runtime configurable.
        </li>
	<li>can directly or via a server process access tables. A PERL
	  frontend to the server exists as well.
        </li>
	<li>does table access from the SQL layer via an API so other drivers
	  can be plugged in easily.
        </li>
	<li>comes along with a shell front end for easy use and scripting.
        </li>
	<li>extends SQL with programming facilities to serve as a powerful
	  report generator.
        </li>
	<li>is carefully layered to allow using various parts independently.
	  Various test and demo programs show how to re-use parts for own
	  projects.
        </li>
      </ul>
   
    <p>
      The full tarball including all sources is at
      <a href="http://www.die-schoens.de/prg/josql_full.tgz">JOSQL-full</a>:
      <br>
      A smaller version without server and network library can be found at
      <a href="http://www.die-schoens.de/prg/josql.tgz">JOSQL</a>:
      <br>
      As detailed on the main page, alternatively a Windows version or a merged
      version is available on demand. Just drop me an email.
    </p>

    Any questions, bugs, improvements, mail to
    <em>my-first-name AT die-Schoens DOT de</em>
   

</div>]]>
            </description>
            <link>http://www.die-schoens.de/prg/josql.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534692</guid>
            <pubDate>Sun, 20 Sep 2020 15:56:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Laid Off, Now What?]]>
            </title>
            <description>
<![CDATA[
Score 374 | Comments 334 (<a href="https://news.ycombinator.com/item?id=24534685">thread link</a>) | @bbhat
<br/>
September 20, 2020 | https://bharathpbhat.github.io/2020/09/19/laid-off-now-what.html | <a href="https://web.archive.org/web/*/https://bharathpbhat.github.io/2020/09/19/laid-off-now-what.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>As an immigrant on an H1B, you have exactly 60 days to find a new job when you are laid-off. This is a very short window of time to explore and land any job, let alone a job that matches your skills and interests. I found myself in this situation along with many others when Uber announced <a href="https://www.theverge.com/2020/5/18/21262337/uber-layoff-3000-employees-covid-19-coronavirus">layoffs</a> earlier this year. The following is a recollection of some things that worked well for me during my eventually successful job hunt.</p>
<ul>
<li><a href="#always-be-prepping">Always be Prepping</a></li>
<li><a href="#reach-out-to-everyone">Reaching Out</a></li>
<li><a href="#interview-preparation">Interview Preparation</a></li>
<li><a href="#closing-thoughts">Closing Thoughts</a></li>
</ul>
<h3 id="always-be-prepping">Always be prepping</h3>
<p>Coding interviews are hard to crack if you haven't been prepping, so I was lucky that I had been spending roughly 3-4 hours every week on <a href="http://leetcode.com/">leetcode</a>, from about 2 months before the layoff rumours broke. I was lucky that</p>
<ul>
<li>I knew that I wanted to change jobs in any case and</li>
<li>Rumours of layoffs broke approximately a month before the actual layoffs happened, giving me more lead time to prepare and send out emails to recruiters and friends.</li>
</ul>
<p>Whenever there's an economic downturn, I think it's critical to be acutely aware of what's happening at the company and start preparing for job interviews right away.</p>
<h3 id="reach-out-to-everyone">Reach out to everyone</h3>
<p>One of the hardest things to do when you are laid off is to write to your friends and family seeking help. But if there's ever a time to swallow your pride, then this is it. I reached out to everyone I knew, and told them plainly about my situation, and asked to be recommended to specific roles at their companies, or to tell their friends who may be hiring. I am extremely grateful to the help I got from my network, and the kind messages that I received. So many friends wrote to make sure I was okay, and kept checking in throughout the interview process, and they all have my immense gratitude.</p>
<p>It is tempting to just apply on the careers page when you find relevant roles at a company instead of spending time on finding connections and reaching out to them, but in my experience, it was very much worth it. Response times from recruiters was roughly 1-2 days when I was referred by an employee, whereas applying on the careers page was a hit or miss. One BigCo. took 40 days to respond, while some smaller companies were much quicker (3-4 days).</p>
<h4 id="the-process">The Process</h4>
<p>In terms of companies, cast a wide net because you absolutely need <em>a</em> job before a deadline. The steps are the obvious ones:</p>
<ol>
<li>Make a list of companies</li>
<li>For each company, compile a list of open job profiles that are relevant.</li>
<li>Email/Text a connection at the company, or apply on the careers page if all else fails.</li>
</ol>
<p>I think I reached out to an initial list of 10 companies or so on the day news of the layoffs broke. This worked well because there's at least a week's time before you speak to a hiring manager or interviewer from when you reach out, so there's ample time to prepare.</p>
<p>What companies to reach out to? In my case, it was the usual suspects (FAANG), and then some domain specific ones such as autonomous vehicle companies. The two most common roles that I applied to were:</p>
<ul>
<li><strong>Machine Learning Engineer</strong> - This is a hybrid role with ML + Software Engineering skills needed, and job roles usually talk about some specific domain such as recommendation systems, or in the case of autonomous vehicles, things such as perception or object detection. I typically looked for some mention of Computer Vision, NLP and deep learning.</li>
<li><strong>Machine Learning Infra Engineer</strong> - This role tends to be more on the software systems side, and deals with the infra for training and serving ML models for production workloads.</li>
</ul>
<h3 id="interview-preparation">Interview Preparation</h3>
<ul>
<li><a href="#an-initial-screen-with-the-hiring-manager">Hiring Manager Screen</a></li>
<li><a href="#coding-interviews-phone--onsite">Coding Interviews</a></li>
<li><a href="#machine-learning-interviews">Machine Learning Interviews</a></li>
<li><a href="#behavioral-interviews">Behavioral Interviews</a></li>
</ul>
<p>Interviewing for ML specific roles typically involves a few different kinds of interviews, each of which needs specific preparation. I'm outlining the most common ones I saw below:</p>
<h3 id="an-initial-screen-with-the-hiring-manager">An initial screen with the hiring manager</h3>
<p>Companies that do general interviews (Google / Facebook) don't have this step, but most others do. I personally like this, because it means that you are interviewing for a specific position in a specific team, and there's a high level of engagement from the beginning. Most of these calls were about getting to know me, and making sure I have relevant work experience, while some of them also were rapid fire technical questions. The latter ones were rare, and I encountered them when the manager wasn't certain that I was the right person for the job. In my experience, the introduction is the most important part of this interview (<strong>Tell me about yourself</strong>), and it helps to have prepared intros for each type of role that you are applying to. The idea is to tailor your story to highlight aspects of your work experience that are relevant to the job role. The next most important question is "<strong>What would you like to do in your next role?</strong>". Again, it helps immensely to be prepared to answer this question, and ideally, in a way so that there's reasonable overlap between your answer and what the role offers. Being able to answer this question also provides clarity to the job search process. For example, a consistent theme for me was to be (a) in an impactful / critical role for the company and (b) continue to work with the latest in ML.</p>
<p>Writing and rehearsing your stories often seems unimportant when compared to more tangible preparation steps such as spending time on leetcode, but I believe that it was critical, because it sets the tone and gives you confidence that you have done this in the past, and done it well, and there's no reason for the interviewer to doubt your abilities.</p>
<h3 id="coding-interviews-phone--onsite">Coding Interviews (Phone / Onsite)</h3>
<p>These are the standard leetcode style coding interviews, done using coderpad, or some similar service. The template for these is consistent across all companies, and involves 1 or 2 coding questions (or 1 question with follow-ups) that you are expected to implement and test. Some tips that were helpful for me preparation:</p>
<ol>
<li><strong>Get a premium subscription with leetcode</strong> - It is nice to be able to filter by companies and have access to the entire question bank, and it is good karma. The service is valuable and the creators should be compensated.</li>
<li><strong>Simulate the interview setting as much as possible</strong> - For example, I would set aside a 3 hour block of time for leetcode, shut myself in a room, and do 4 questions, 45 minutes each. If you are unable to solve a question in 45 minutes, you still move on to the next one. No extensions or looking at the solution. Think of it like moving on to the next interviewer. After the 3 hour session is done, go back to the questions as needed, either to look at solutions or to understand them better. A question is <code>Done</code> when your solution passes all the tests on leetcode and is <code>Accepted</code>.</li>
<li><strong>Talk out loud</strong> - This is big. Again, assuming that you are in an actual interview, talk out loud about the process you are using during these practice sessions. Talking out loud helps massively because you are forced to put your current train of thought into words, and it is often evident when a solution isn't justifiable.</li>
<li><strong>How to pick questions?</strong> - I filtered for questions that were tagged <code>Hard</code>, and then picked at random. No filter for company, or problem type. I went from doing all Mediums to a mix of Mediums and Hard to all Hards over a span of 4-5 weeks.</li>
<li><strong>How many questions to do?</strong> - In the first 2-3 weeks of my prep, I was doing 4 questions on one of the weekend days, and once I had more time post the lay-off news, it was 4 questions every 3 days or so. Overall, my stats look so:</li>
</ol>
<p><img src="https://bharathpbhat.github.io/assets/images/leetcode_xp.png" alt="Leetcode stats"></p>
<h3 id="machine-learning-interviews">Machine Learning Interviews</h3>
<p>These typically come in two flavors:</p>
<h4 id="concepts--basics">Concepts / Basics</h4>
<p>These are kind of like rapid fire questions where the interviewer will quiz you about ML basics. Some questions that I recall right now, to give a flavor of things:</p>
<pre><code>- What are some unsupervised learning methods?
- What is underfitting / overfitting?
- What is batch normalization? What's the motivation behind it?
- What is dropout? 
- What optimizers have you used? And typically some follow-up like, why does momentum make sense?
- What are some object detection techniques / papers that you are familiar with? (Computer Vision specific)
- What are decision trees? 
- How does logistic regression work?
- How do you train a linear regression model?
- What are some loss functions that you are familiar with?
- Why does Cross Entropy loss make sense?
- What are residual networks?
</code></pre>
<p>These are usually follow up questions where the interviewer will try to dig deeper into these concepts, often picking on some portion of the initial answer.</p>
<p>I did a lot of reading, and then some writing with a pen and paper for this part of the interview. If I am already somewhat/fairly familiar with a topic, like say, object detection, then my process was:</p>
<ol>
<li><strong>Write</strong> from memory a summary of what I remember about the topic</li>
<li>Note down <strong>questions</strong> for the parts that I am not clear about</li>
<li><strong>Read</strong> about the topic, and fill in whatever I missed on first go.</li>
</ol>
<p>If I don't remember much about a topic at all, like say, multi-armed bandits, then I would do step (3) first, and then do steps (1) and (2) a few days later, and eventually repeating step (3) as needed.</p>
<p>It helps to start with a list of topics that you want do this for. This list will grow as you remember more topics or expand the list of companies you are interviewing at. For reference, the list of topics I looked at is <a href="https://bharathpbhat.github.io/assets/files/index_card.pdf">here</a>, and a sample of the handwritten notes I made is here, for <a href="https://bharathpbhat.github.io/assets/files/rec_sys.pdf">recommendation systems</a>.</p>
<h4 id="ml-system-design">ML System Design</h4>
<p>This is my favorite interview, and corresponds neatly to skills used day to day as a ML practitioner. These are typically open ended interviews where the candidate is expected to design a product with some ML at its core. For example, things like:</p>
<pre><code>- Let's build a model that ranks photos in your photo library based on quality.
- How would you build a model that identifies pedestrians from drone imagery?
- Let's build a model that can does face detection for a user's photo library.
- How do you build a model that automatically picks out ‚Ä¶</code></pre></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bharathpbhat.github.io/2020/09/19/laid-off-now-what.html">https://bharathpbhat.github.io/2020/09/19/laid-off-now-what.html</a></em></p>]]>
            </description>
            <link>https://bharathpbhat.github.io/2020/09/19/laid-off-now-what.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534685</guid>
            <pubDate>Sun, 20 Sep 2020 15:54:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dreamhack Starcraft 2 Masters 2020 Fall: Season Finals [live]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534657">thread link</a>) | @tosh
<br/>
September 20, 2020 | https://www.twitch.tv/esl_sc2 | <a href="https://web.archive.org/web/*/https://www.twitch.tv/esl_sc2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.twitch.tv/esl_sc2</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534657</guid>
            <pubDate>Sun, 20 Sep 2020 15:49:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is unauthenticated encryption insecure?]]>
            </title>
            <description>
<![CDATA[
Score 58 | Comments 34 (<a href="https://news.ycombinator.com/item?id=24534619">thread link</a>) | @todsacerdoti
<br/>
September 20, 2020 | https://cybergibbons.com/reverse-engineering-2/why-is-unauthenticated-encryption-insecure/ | <a href="https://web.archive.org/web/*/https://cybergibbons.com/reverse-engineering-2/why-is-unauthenticated-encryption-insecure/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Cryptography is a complex subject. There are many subtle issues that can be introduced if you don‚Äôt know what you are doing.</p>



<p>There is a common mantra: ‚Äúdon‚Äôt roll your own crypto‚Äù. This is because both inexperienced and experienced developers frequently build cryptographic systems that are insecure.</p>



<p>However, there has to be a line ‚Äì when does it start becoming ‚Äúrolling your own‚Äù? Particularly in embedded systems, there are times when custom protocols need to be used, and developers stray into the dangerous area of cryptography.</p>



<p>One of the most common mistakes we have seen is the use of unauthenticated encryption.</p>



<h3>What is encryption?</h3>



<p>Encryption is encoding a plaintext into a ciphertext using a key, with the goal of keeping the plaintext confidential.</p>



<p>Only someone with the correct key should be able to decrypt the ciphertext and turn it back into plaintext.</p>



<p>Encryption provides confidentiality. It stops someone working out what the message is.</p>



<h3>So what‚Äôs the issue?</h3>



<p>An attacker can modify the ciphertext and cause the plaintext to change. There is no inherent means in encryption to detect this change.</p>



<p>Encryption does not provide authenticity. You cannot check that the message is genuine and has not been tampered with.</p>



<h3>What can an attacker do with this?</h3>



<p>I‚Äôm going to describe one attack against unauthenticated encryption.</p>



<p>Many encryption algorithms only operate on fixed-size blocks of data ‚Äì they are called <a href="https://en.wikipedia.org/wiki/Block_cipher">block ciphers</a>. To encrypt longer lengths of data, a <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation">mode of operation</a> is used to apply the block cipher repeatedly.</p>



<p>One mode of operation is called <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC)">CBC</a> (Cipher Block Chaining). When encrypting the data, the previous ciphertext block is mixed into the current plaintext block using an operation called ‚Äú<a href="https://en.wikipedia.org/wiki/Exclusive_or">exclusive OR</a>‚Äú. This is denoted with the + in a circle in diagrams.</p>



<figure><img src="https://upload.wikimedia.org/wikipedia/commons/8/80/CBC_encryption.svg" alt=""></figure>



<p>There is also an input called the initialisation vector, or IV. This is a random input to the algorithm, and is intended to ensure that the ciphertext is different, even if the same plaintext is encrypted. This prevents leaking information about the content.</p>



<p>The initialisation vector is transmitted alongside the ciphertext.</p>



<p>Decryption is similar. The previous ciphertext block is exclusive ORed with the output of the block cipher to obtain the plaintext.</p>



<figure><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/CBC_decryption.svg/1200px-CBC_decryption.svg.png" alt=""></figure>



<p>Exclusive OR is a deterministic operation. If we look at a single bit, then it operates as follows:</p>



<figure><table><tbody><tr><td>A</td><td>B</td><td>Output</td></tr><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table></figure>



<p>I always think of this as ‚Äúif one input is high, invert the other input, otherwise leave it alone‚Äù.</p>



<p>The operation is carried out for each bit in a byte.</p>



<pre><code>A: 0 1 0 1 1 0 0 1 (0x59)
B: 1 1 1 1 0 0 0 0 (0xF0)
O: 1 0 1 0 1 0 0 1 (0xA9)</code></pre>



<p>What this means is that modifying one of the inputs to exclusive OR results in a predictable change to the output. And the operation can be easily reversed.</p>



<pre><code>A: 0123456789ABCDEF
B: FFFF00FFF00F0FF0
O: FEDC459879A4C21F</code></pre>



<p>If we now exclusive OR the output with one of the inputs:</p>



<pre><code>A: FEDC459879A4C21F
B: FFFF00FFF00F0FF0
O: 0123456789ABCDEF</code></pre>



<p>Hopefully that explains exclusive OR.</p>



<p>Let‚Äôs look back to how CBC uses this in decryption. In the first block, the IV is exclusive ORed with the output of the block cipher. The IV is transmitted alongside the ciphertext and an attacker can modify both at at will.</p>



<figure><img loading="lazy" width="922" height="786" src="https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-14.55.37.png" alt="" srcset="https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-14.55.37.png 922w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-14.55.37-300x256.png 300w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-14.55.37-768x655.png 768w" sizes="(max-width: 922px) 100vw, 922px"></figure>



<p>We can encrypt the string ‚ÄúA dog‚Äôs breakfast‚Äù using a key and the initialisation vector of all 0x00 (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Encrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000000000000000000000000000000'%7D,'CBC','Raw','Hex')&amp;input=QSBkb2cncyBicmVha2Zhc3Q">here</a> on CyberChef).</p>



<pre><code>Key: 0123456789ABCDEF0123456789ABCDEF
IV:  0000000000000000000000000000000
Plaintext: A dog's breakfast
Ciphertext: c7b1d96f0f520f33faaccfdc107f718aafe8892c3a29c76b0732a760a0f54f50</code></pre>



<p>Of course, this can be decrypted (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000000000000000000000000000000'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=YzdiMWQ5NmYwZjUyMGYzM2ZhYWNjZmRjMTA3ZjcxOGFhZmU4ODkyYzNhMjljNzZiMDczMmE3NjBhMGY1NGY1MA">here</a> on CyberChef).</p>



<p>If I change just one byte in the ciphertext, the entire message is corrupted (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000000000000000000000000000000'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=YzdiMmQ5NmYwZjUyMGYzM2ZhYWNjZmRjMTA3ZjcxOGFhZmU4ODkyYzNhMjljNzZiMDczMmE3NjBhMGY1NGY1MA">here</a> on Cyberchef). There‚Äôs no way for me to predictably modify this plaintext by changing the ciphertext.</p>



<pre><code>Key: 0123456789ABCDEF0123456789ABCDEF
IV:  0000000000000000000000000000000
Ciphertext: c7b2d96f0f520f33faaccfdc107f718aafe8892c3a29c76b0732a760a0f54f50
Plaintext: .L...Q¬Ω√™U...√¨7√í.t</code></pre>



<p>But the attacker also has control over the IV. Let‚Äôs set the first byte of the IV to 0xFF (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'FF00000000000000000000000000000'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=YzdiMWQ5NmYwZjUyMGYzM2ZhYWNjZmRjMTA3ZjcxOGFhZmU4ODkyYzNhMjljNzZiMDczMmE3NjBhMGY1NGY1MA">here</a> on CyberChef). Only the first byte of the plaintext has changed!</p>



<pre><code>Key: 0123456789ABCDEF0123456789ABCDEF
IV:  FF00000000000000000000000000000
Ciphertext: c7b1d96f0f520f33faaccfdc107f718aafe8892c3a29c76b0732a760a0f54f50
Plaintext: ¬æ dog's breakfast</code></pre>



<p>And it has changed predictably. The capital A (ASCII 0x41) has been exclusive ORed with 0xFF to become 0xBE (which decodes as ¬æ although it‚Äôs above the normal ASCII range).</p>



<pre><code>A: 0 1 0 0 0 0 0 1 (0x41)
B: 1 1 1 1 1 1 1 1 (0xFF)
O: 1 0 1 1 1 1 1 0 (0xBE)</code></pre>



<p>This is a very high level of control! The attacker can now modify the plaintext without detection. Let‚Äôs try and significantly change the meaning of it.</p>



<p>The original message contained ‚ÄúA dog‚Äôs breakfast‚Äù. Can we change this canine feast into a feline one?</p>



<p>We exclusive OR the original plaintext with the desired one (<a href="https://gchq.github.io/CyberChef/#recipe=XOR(%7B'option':'UTF8','string':'The%20cat%5C's%20breakfast'%7D,'Standard',false)To_Hex('Space',0)&amp;input=VGhlIGRvZydzIGJyZWFrZmFzdA">here</a> on CyberChef). Notice how the output only has value for the characters we have changed.</p>



<pre><code>Original: A. .d.o.g.'.s. .b.r.e.a.k.f.a.s.t.
Original: 4120646f67277320627265616b66617374
Desired:  A. .c.a.t.'.s. .b.r.e.a.k.f.a.s.t.
Desired:  4120636174277320627265616b66617374
Output:   0000070e13000000000000000000000000</code></pre>



<p>Pop that output in as the IV to the decryption, and we‚Äôve successfully changed the message (here on <a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000070e13000000000000000000000000'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=YzdiMWQ5NmYwZjUyMGYzM2ZhYWNjZmRjMTA3ZjcxOGFhZmU4ODkyYzNhMjljNzZiMDczMmE3NjBhMGY1NGY1MA">CyberChef</a>). All of this without even knowing the key.</p>



<pre><code>Key: 0123456789ABCDEF0123456789ABCDEF
IV:  0000070e130000000000000000000000
Ciphertext: c7b1d96f0f520f33faaccfdc107f718aafe8892c3a29c76b0732a760a0f54f50
Plaintext: A cat's breakfast</code></pre>



<p>Of course, the attacker needs to have knowledge of the plaintext to make use of this attack. However, it‚Äôs extremely common for some or all of the message to be known. For example, when we visit most websites, the first part of the response will be ‚ÄúHTTP/1.1 200 OK‚Äù. If this was only protected by CBC encryption, we could change that to ‚ÄúHTTP/1.1 404 No‚Äù, changing the behaviour of the browser (here on <a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'00000000000000000006000000012400'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=ZGJkY2FkYWZjYjQ5NTJiNDE0OTBhODM4NDFhYzgxZGE">CyberChef</a>).</p>



<p>This doesn‚Äôt just impact the first block of data either. After the first block, instead of the IV, the previous ciphertext block is used in the exclusive OR operation. The attacker can modify the ciphertext and end up controlling the plaintext.</p>



<figure><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/CBC_decryption.svg/2880px-CBC_decryption.svg.png" alt=""></figure>



<p>This comes at a cost though ‚Äì the previous plaintext block will be totally corrupted as a result.</p>



<p>To illustrate this, we can encrypt a longer block of text (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Encrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000000000000000000000000000000'%7D,'CBC','Raw','Hex')&amp;input=VGhpcyBpcyBvdXIgd29ybGQgbm93Li4uIHRoZSB3b3JsZCBvZiB0aGUgZWxlY3Ryb24gYW5kIHRoZSBzd2l0Y2gsIHRoZQpiZWF1dHkgb2YgdGhlIGJhdWQuICBXZSBtYWtlIHVzZSBvZiBhIHNlcnZpY2UgYWxyZWFkeSBleGlzdGluZyB3aXRob3V0IHBheWluZwpmb3Igd2hhdCBjb3VsZCBiZSBkaXJ0LWNoZWFwIGlmIGl0IHdhc24ndCBydW4gYnkgcHJvZml0ZWVyaW5nIGdsdXR0b25zLCBhbmQKeW91IGNhbGwgdXMgY3JpbWluYWxzLiAgV2UgZXhwbG9yZS4uLiBhbmQgeW91IGNhbGwgdXMgY3JpbWluYWxzLiAgV2Ugc2VlawphZnRlciBrbm93bGVkZ2UuLi4gYW5kIHlvdSBjYWxsIHVzIGNyaW1pbmFscy4gIFdlIGV4aXN0IHdpdGhvdXQgc2tpbiBjb2xvciwKd2l0aG91dCBuYXRpb25hbGl0eSwgd2l0aG91dCByZWxpZ2lvdXMgYmlhcy4uLiBhbmQgeW91IGNhbGwgdXMgY3JpbWluYWxzLgpZb3UgYnVpbGQgYXRvbWljIGJvbWJzLCB5b3Ugd2FnZSB3YXJzLCB5b3UgbXVyZGVyLCBjaGVhdCwgYW5kIGxpZSB0byB1cwphbmQgdHJ5IHRvIG1ha2UgdXMgYmVsaWV2ZSBpdCdzIGZvciBvdXIgb3duIGdvb2QsIHlldCB3ZSdyZSB0aGUgY3JpbWluYWxzLg">here</a> on CyberChef).</p>



<p>Let‚Äôs change ‚Äúbaud‚Äù to ‚Äúcats‚Äù. We need to locate the correct place in the ciphertext. AES (the encryption algorithm we are using) works in 16 byte blocks. The word ‚Äúbaud‚Äù is 85 characters in, so in the 6th block. We therefore want to modify the 5th block of ciphertext.</p>



<p>The exclusive OR is a bit more complex than last time ‚Äì we now need to exclusive OR the ciphertext, the original text, and the desired text (<a href="https://gchq.github.io/CyberChef/#recipe=AES_Decrypt(%7B'option':'Hex','string':'0123456789ABCDEF0123456789ABCDEF'%7D,%7B'option':'Hex','string':'0000000000000000000000000000000'%7D,'CBC','Hex','Raw',%7B'option':'Hex','string':''%7D)&amp;input=MTkxNWRkOGU4ODBhN2JlZjgzN2Y1NDRlMzBlZGI5YmQxMjA3ZjMwMmRjM2NlZGQwY2I2NGJkY2JiOTk3YjVkYmM4M2RhNjU3MmZkNmMyMDVmOGQ4ZDI2NjQ5MmQyMDY3M2U0NGZhNzUwNGU2YzY0ZTI4M2E2NzI2MmIyYzMwNjM4OGI4ZjQyZTBmYjMxNzdmNmFmMTNlMWE0OGUxNDBmYTFhNDhmMThmZGYyNTc3MzgwMTUwYzM5ZDIwZTYyY2QzMzQ1ZDVmNTFiYzU4NDU2NGUwMzc5MTFkYTM1MTc3YjVkY2ZmOTkxZTRmYzg3NDFlYmJjMmRmM2I2YTc3OGViOTU3MTI1MmQxYTY0Yjk5NmRhOWFkMzFmNGE5MTI3NjM0M2FhMmU1ODQ1NjEyOTM1MDg0Zjc3Y2FhMmRiNDRiYTM5OTA5NzFkOTcwZWVlMjFlZDc3MjRiOWU3MDMwODEyZWI4N2U1ZDVmYmI3Y2M1MGE1NzYxNDBiN2I0NzhiYmZiNzU1MGU1MWU3ZmM0ZTg5ODExY2Y4MTg1OTJjNGY4ZWU3NGIyNTQ0Y2VhMGE4ZDdkZjM0OTE2YjIzYmMwOWIxYWJhN2IwN2ZlNDM0YWRjNjY5MzhhNzczMDU4MjNhYzdkMWJjZmEwOGNlOTRhYzc0MjUzNjdiODQwMGE5NGFlMDc0ZTFhY2NmZDkwYThjNDllYmYzNDNkMmU4YWQ5MmI2NDZlZDM0OTM4Yzg3NTI2MDUyYjA4ZjQ1MzgxMWQ4YTYyZjE2MzczMzkxZmE4YTBlZGIwZDJlZDBhYWQyNDViY2RlZmI1YTk0ZmRmZTBkNzA4YTMwYTVjZDVlZmI5ZjExNTk3MDU2NWFiMjg1ZGUyY2FlYWNkMTI3YzBhNzhkZDRjNmE4Y2U2NjRjYTFiOWI0YjI1ODk0MTYxMmUzMjgwOWEwNGRhYzIxODlkNGVkN2Q2ZDU4ZDcwMGNlODM5NTIzYzlmNTZiOGU2YWY1NGIzYjMxYjAxM2E4ODM4MjljM2Y0YTJhZmI3Mzc3OTFjNjBiN2E1N2I4NGNhOTgxYjFiM2E3N2M2YmI5ZWNiMzIwNzk3YmVhNzAyMDk5NGUwNzRmYmQ1NzM0MWQwMmVjYTY3ZWM1NWU5YzA1MmFkODA3NjUzMmUxZTI4MDJjMzc2YmRhMzg1NWIxYzYzY2FhNzRhZmI0YTRjNTFkMDNlNGZiMjEzY2ZiMTM4YjcxMTc1NzFhNTIzOTQzZGU1MWJiNzZiYTgwMzY2MDNkNDI2NmFmMzI3MGMyYjBhOTNjZDdlYzkyZmVjMjA0MTAyYjJkYWZlNDliMzUwZDFhNDk2NjVhYjE0MTFiMjhkZWQ1MmE5ZWE5NTA3ZWU5ZDljM2M0NzI4ZDBlNTk0YjEzM2VkMmRiOGUwYWQxZjBjZWM0NWRhYjJlN2Y1ODE5YTQyNWQ4NTY2ZWQ5MGQwYzI4MTMzZjlkZTM4ODQ4OTE3NjJhYTcxMzc2MjZmNmM2MTEzMDY4M2NkNWEzYmFjN2EzNTFkZDY0MjZjYzI2NzdjOGRjYWI0ZDMwZjg0OGNiZjYwOTBmMjM4MDM2ZTFlMzczMGZmODc4MTk2YWYyMjg4YWY5MTU5ZThkZA">here</a> on CyberChef). But change those 4 bytes, and we change the word ‚Äúbaud‚Äù to ‚Äúcats‚Äù.</p>



<figure><img loading="lazy" width="1024" height="272" src="https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54-1024x272.png" alt="" srcset="https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54-1024x272.png 1024w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54-300x80.png 300w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54-768x204.png 768w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54-1536x407.png 1536w, https://cybergibbons.com/wp-content/uploads/2020/09/Screenshot-2020-09-20-at-16.03.54.png 1682w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The only issue is, as expected, the previous block has been entirely corrupted. Whilst in this case, it‚Äôs made part of the message nonsensical, it frequently has no impact when carrying out attacks.</p>



<h3>But there are worse problems?</h3>



<p>The above issue allows an attacker to modify the plaintext without detection. This would be an issue in certain situations, such as lock/unlock messages to a door.</p>



<p>But not authenticating your encryption can lead to worse issues. A type of attack called <a href="https://en.wikipedia.org/wiki/Padding_oracle_attack">padding oracle attacks</a> can let an attacker obtain the plaintext by sending a large number of specially crafted packets.</p>



<p>Block ciphers only operated on fixed blocks. If the data is shorter than a block, it must be padded. There are a number of ways of doing this, such as appending the number of padding bytes (e.g. 0x02 0x02 or 0x05 0x05 0x05 0x05 0x05). The process of decryption may check this padding is correct or not, and respond differently in each case. </p>



<p>An attacker can exploit these differential responses to leak the plaintext. This can break the confidentiality of messages.</p>



<h3>What‚Äôs the solution to this?</h3>



<p>Encryption should always be authenticated. There are two common solutions to this:</p>



<ul><li>Add a <a href="https://en.wikipedia.org/wiki/Message_authentication_code">Message Authentication Code</a> (MAC). This is a keyed cryptographic checksum that provides authenticity and integrity.</li><li>Use an authenticated mode of operation such as <a href="https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Galois/Counter_(GCM)">GCM</a>.  </li></ul>



<p>Even with this advice, there are many pitfalls. Applying the authentication and encryption in the wrong order can lead to weaknesses; this is so common that it has been deemed the <a href="https://moxie.org/2011/12/13/the-cryptographic-doom-principle.html">Cryptographic Doom Principle</a>.</p>



<p>Generally, developers shouldn‚Äôt be working with cryptography at this level unless they are suitably skilled. That‚Äôs easy to say, harder to put into action. There is a big movement to make use of secure-by-default cryptographic libraries and APIs that provide developers with useful functions without giving them so much rope they can hang themselves.</p>



<p>There are scant few reasons for not authenticating encryption.</p>
			</div></div>]]>
            </description>
            <link>https://cybergibbons.com/reverse-engineering-2/why-is-unauthenticated-encryption-insecure/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534619</guid>
            <pubDate>Sun, 20 Sep 2020 15:42:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ownership in the Age of DRM]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534616">thread link</a>) | @0goel0
<br/>
September 20, 2020 | https://goel.io/drm-ownership | <a href="https://web.archive.org/web/*/https://goel.io/drm-ownership">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>I‚Äôve been thinking about what it means to own something. The definition that resonated the most with me is this<sup><a href="#footnote1">1</a></sup>:</p>

<blockquote>
  <p>You own what you can pass down</p>
</blockquote>

<p>It used to be common decades ago for people to pass down their property including media (vinyl records, disks, cassettes). You paid for hard assets that you owned.</p>

<p>Objectively, it‚Äôs easier to hold on to, and pass down, digital assets - you just have to change the ‚Äúownership‚Äù field in a database, or hand over a hard drive.</p>

<p>Instead, we got <a href="https://www.eff.org/issues/drm">Digital Rights Management</a>. DRM comprises of tools to lock down <em>who</em> has access to content, <em>where</em> it can be accessed, and for <em>how long</em>.</p>

<p>Simply put, if you buy an album on iTunes, it‚Äôs DRM protected. You cannot watch it on an Android device. Legally, you can‚Äôt even share it with your partner or family.</p>

<p>If you buy an ebook on Amazon, you merely get a license to read it. If Amazon decides they don‚Äôt like you as a customer and delete your account, you lose your book. Or, if your Kindle dies, you can‚Äôt just open the book on your computer or phone.</p>

<p>Using DRM, media companies can prosecute anyone that trying to transfer a Blu-Ray movie to their own computer.</p>

<p>That‚Äôs not ownership. In the digital age, we merely borrow when we ‚Äúbuy‚Äù.</p>

<p>To me, I only own media if:</p>

<ul>
  <li>I can store it on any device I own</li>
  <li>I can transfer it freely between devices I own</li>
  <li>I can consume it through any device<sup><a href="#footnote2">2</a></sup></li>
  <li>The seller cannot take it away from me</li>
  <li>I can transfer ownership freely</li>
</ul>

<p>Based on that criteria, the following are not ownership:</p>

<ul>
  <li>Netflix, Spotify, Pandora (is that still a thing) etc</li>
  <li>iTunes</li>
  <li><a href="https://www.salon.com/2013/03/01/do_you_truly_own_your_e_books/">Kindle books</a></li>
  <li>Blu-Ray disks (and some DVDs)</li>
  <li>Gaming console disks, or digital games (Steam)</li>
</ul>

<p>The only media marketplace I use that meets that criteria is <a href="https://bandcamp.com/">Bandcamp</a> where you buy music directly from artists and get to download it.</p>

<p><img src="https://goel.io/assets/img/posts/2020/2020-07-02-ownership-drm.png" alt="">
<em><a href="https://nadasurf.bandcamp.com/">Nada Surf</a> is an awesome alt-rock band!</em></p>

<p>I prefer straight up MP3 files. That‚Äôs what doing digital media the right way looks like.</p>

<p>Don‚Äôt get me wrong. For creators piracy is a big problem. Some common reasons for piracy and illegal media sharing are:</p>

<ul>
  <li>Not available in consumers‚Äô region</li>
  <li>Delayed release in consumers‚Äô region</li>
  <li>Not convenient to purchase</li>
  <li>Not convenient to consume the media (DRM)</li>
</ul>

<p>However, DRM is not a solution. It‚Äôs a duct tape on a crumbling building.</p>

<p>I do recognize that creators have bills and should be paid fairly for their work. I will continue to pay for my media (that‚Äôs both ‚Äúbought‚Äù and <em>bought</em>) as well support creators directly (Patreon etc).</p>

<hr>

<p><a name="footnote1">1</a>: I did not come up with this, but I also can‚Äôt find out where I read/watched/listened this idea. If you do, let me know.</p>

<p><a name="footnote2">2</a>: I don‚Äôt necessarily mean that if the latest video or audio codec is not supported on Android for example, then the media encoded in that codec breaks my criterion. However the codec spec must be open and not proprietary for alternative implementations.</p>

  </div></div>]]>
            </description>
            <link>https://goel.io/drm-ownership</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534616</guid>
            <pubDate>Sun, 20 Sep 2020 15:42:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing an Overkill workbench for home office Part 3]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534595">thread link</a>) | @gcds
<br/>
September 20, 2020 | https://www.techprowd.com/home-office-project-overkill-workbench-series-part-3-delivery-of-materials-and-a-few-things-builds/ | <a href="https://web.archive.org/web/*/https://www.techprowd.com/home-office-project-overkill-workbench-series-part-3-delivery-of-materials-and-a-few-things-builds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>Today is finally the day the materials were delivered to my home.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-83.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-83.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-83.png 1000w, https://www.techprowd.com/content/images/2020/09/image-83.png 1024w"></figure><p>Unloading was pretty quick as it was 3 (including me) unloading it near the staircases to my apartment on the 4th floor.</p><figure><div><div><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3140.jpeg" width="3024" height="4032" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3140.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3140.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3140.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3140.jpeg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3141.jpeg" width="3024" height="4032" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3141.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3141.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3141.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3141.jpeg 2400w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>The funniest thing about all this is that my apartment on the 4th floor has no elevator, pretty unusual for a Japanese apartment complex. So I had to carry on everything by myself to the 4th floor.</p><p>One of the optimizations I have done is to pack everything in small batches with packing tape to be solid peace. Much easier that way.</p><figure><div><div><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3142.jpeg" width="3024" height="4032" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3142.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3142.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3142.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3142.jpeg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3144.jpeg" width="3024" height="4032" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3144.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3144.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3144.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3144.jpeg 2400w" sizes="(min-width: 720px) 720px"></p></div></div></figure><p>Two hours and a half later, 21 journeys up the stairs, I got everything delivered to the apartment. According to Apple, I have burned 2500cal while doing this by myself.</p><figure><div><div><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3145.jpeg" width="4032" height="3024" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3145.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3145.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3145.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3145.jpeg 2400w" sizes="(min-width: 720px) 720px"></p><p><img src="https://www.techprowd.com/content/images/2020/09/IMG_3148.jpeg" width="4032" height="3024" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/IMG_3148.jpeg 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/IMG_3148.jpeg 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/IMG_3148.jpeg 1600w, https://www.techprowd.com/content/images/size/w2400/2020/09/IMG_3148.jpeg 2400w" sizes="(min-width: 720px) 720px"></p></div></div></figure><h2 id="first-small-project-diy-sawhorse">First small project: DIY Sawhorse</h2><p>As I will have to cut many planks to size, I decided to build sawhorse myself instead of buying one, 3 x 2x4 vs. 2-3k¬• bought one from a home improvement store. This is my first time trying to make something like this, but I had seen plenty of these built when I was a kid looking around construction workers.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-84.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-84.png 600w, https://www.techprowd.com/content/images/2020/09/image-84.png 768w" sizes="(min-width: 720px) 720px"></figure><p>3 x 2x4 1820mm planks to start with, split all 3 of them in the middle to two 910mm parts.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-85.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-85.png 600w, https://www.techprowd.com/content/images/2020/09/image-85.png 768w" sizes="(min-width: 720px) 720px"></figure><p>I got this angle ruler from a local store. According to the internet, it's the most popular product among workers. Makes perfect straight lines.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-86.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-86.png 600w, https://www.techprowd.com/content/images/2020/09/image-86.png 768w" sizes="(min-width: 720px) 720px"></figure><p>For cutting, I am going to use Japanese. hand saw as I do not want to use a loud circular saw in the apartment (neighbors would not be happy about it)</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-87.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-87.png 600w, https://www.techprowd.com/content/images/2020/09/image-87.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-88.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-88.png 600w, https://www.techprowd.com/content/images/2020/09/image-88.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-89.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-89.png 600w, https://www.techprowd.com/content/images/2020/09/image-89.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-90.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-90.png 600w, https://www.techprowd.com/content/images/2020/09/image-90.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Repeat this on all three pieces.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-91.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-91.png 600w, https://www.techprowd.com/content/images/2020/09/image-91.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Now to join them together to form X shape</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-92.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-92.png 600w, https://www.techprowd.com/content/images/2020/09/image-92.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-93.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-93.png 600w, https://www.techprowd.com/content/images/2020/09/image-93.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Then use two left pieces to join them together horizontally.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-94.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-94.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-94.png 1000w, https://www.techprowd.com/content/images/2020/09/image-94.png 1024w" sizes="(min-width: 720px) 720px"></figure><h2 id="the-first-part-of-works-for-workbench-columns-feets">The first part of works for workbench: Columns/Feets</h2><p>As I still have an hour before it gets dark, I decided to cut and make columns for the workbench.</p><p>Measure length; I am going to use a 230cm length for the rear columns.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-95.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-95.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-95.png 1000w, https://www.techprowd.com/content/images/2020/09/image-95.png 1024w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-96.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-96.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-96.png 1000w, https://www.techprowd.com/content/images/2020/09/image-96.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>Use angle ruler to make perfect straight lines and then cut to size.</p><p>I have not mentioned or included in the CAD plans the metal levelers/feets I am going to use. Those come with screw in holder with nut and leveler itselfs.</p><p>As the holder has a pimple, I will use a Forstner bit to make a pimple hole. Then use a wood drill bit to make a hole for the leveler threaded rod.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-97.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-97.png 600w, https://www.techprowd.com/content/images/2020/09/image-97.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-98.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-98.png 600w, https://www.techprowd.com/content/images/2020/09/image-98.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-99.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-99.png 600w, https://www.techprowd.com/content/images/2020/09/image-99.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-100.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-100.png 600w, https://www.techprowd.com/content/images/2020/09/image-100.png 768w" sizes="(min-width: 720px) 720px"></figure><p>I am going to make around 70mm height which would give me plenty of space to adjust the leveler is 100mm long, smallest height is 40mm together with table top and front feets it should be around 730mm height.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-101.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-101.png 600w, https://www.techprowd.com/content/images/2020/09/image-101.png 768w" sizes="(min-width: 720px) 720px"></figure><p>Now just repeat it all for all elevel columns</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-102.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-102.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-102.png 1000w, https://www.techprowd.com/content/images/2020/09/image-102.png 1024w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-103.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-103.png 600w, https://www.techprowd.com/content/images/2020/09/image-103.png 768w" sizes="(min-width: 720px) 720px"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-104.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-104.png 600w, https://www.techprowd.com/content/images/2020/09/image-104.png 768w" sizes="(min-width: 720px) 720px"></figure><p>After placing columns in the room it looks like I am going to frame the room üòÖ</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-105.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-105.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-105.png 1000w, https://www.techprowd.com/content/images/2020/09/image-105.png 1024w" sizes="(min-width: 720px) 720px"></figure><p>I am going to continue working tomorrow morning on the workbench.</p><p>As I have promised, I will try to stream the whole process. I managed to get my GoPro to live stream to OBS (but it will have some delay). So if hardware did not let me down tomorrow morning, I would be live on my <a href="https://www.twitch.tv/techprowd">twitch channel</a>.</p><p>I plan to start streaming tomorrow at 10 AM (JST) time.</p><ul><li>AEST: 11:00 AM</li><li>GMT: 01:00 AM</li><li>EET: 04:00 AM</li><li>PST 06:00 PM</li><li>EST: 09:00 PM</li><li>CST: 08:00 PM</li></ul><!--kg-card-begin: html--><iframe src="https://player.twitch.tv/?channel=techprowd&amp;parent=www.techprowd.com&amp;muted=true" height="394" width="700" frameborder="0" scrolling="no" allowfullscreen="true">
</iframe><!--kg-card-end: html--><p>Don't forget to subscribe to the newsletters down bellow. Every new article will be delivered in a friendly email, readable format straight into your mailbox!</p>
                </div>
            </section></div>]]>
            </description>
            <link>https://www.techprowd.com/home-office-project-overkill-workbench-series-part-3-delivery-of-materials-and-a-few-things-builds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534595</guid>
            <pubDate>Sun, 20 Sep 2020 15:37:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why is Backblaze tracking me?]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 10 (<a href="https://news.ycombinator.com/item?id=24534572">thread link</a>) | @gingerlime
<br/>
September 20, 2020 | https://blog.gingerlime.com/2020/why-is-backblaze-tracking-me/ | <a href="https://web.archive.org/web/*/https://blog.gingerlime.com/2020/why-is-backblaze-tracking-me/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<div id="content">

<div>
	<div id="primary">
		<main id="main" role="main">

			
<article id="post-2612">
		<!-- .entry-header -->

	
	<div>
		
<p>This is a follow-up to my previous post: <a href="https://blog.gingerlime.com/2020/hey-com-is-onto-something-with-its-tracking-pixel-blocker/">hey.com is onto something with its tracking-pixel blocker</a>. I mentioned contacting Backblaze about their email tracking there. </p>



<div><figure><img loading="lazy" width="630" height="396" src="https://blog.gingerlime.com/assets/Screenshot-2020-06-21-at-08.17.12.png" alt="" srcset="https://blog.gingerlime.com/assets/Screenshot-2020-06-21-at-08.17.12.png 630w, https://blog.gingerlime.com/assets/Screenshot-2020-06-21-at-08.17.12-300x189.png 300w" sizes="(max-width: 630px) 100vw, 630px"></figure></div>



<p>I didn‚Äôt think too much of it at the time, and honestly (or naively?) was expecting some kind of a ‚ÄúOh, yes, you‚Äôre right, there‚Äôs no need to track those emails‚Äù‚Ä¶ But it didn‚Äôt unfold in quite the same way.</p>



<h2>TL;DR</h2>



<p>This is my own interpretation, obviously. Backblaze seems to think that tracking emails is totally fine, even under the GDPR. They‚Äôre not going to stop doing it until further notice.</p>



<h2>Blow by blow details</h2>



<p>Rather than describing the conversation, I think for the sake of transparency it‚Äôs easier to just quote the entire thread. So here goes, in chronological order‚Ä¶ I removed names and identifying details to protect the privacy of the people involved, but the text was otherwise left exactly as-is. Some of the interaction is fairly mundane, but you can skip to the end to see how it was resolved (or rather, not resolved).</p>



<h2>Initial conversations with Backblaze support</h2>



<figure><div>Jun 20, 2020<p>Hi Backblaze,</p><p>I started forwarding my emails to hey.com and they spotted the use of tracking pixels on your emails. I (and I believe many other customers, especially in Europe) would appreciate not being tracked without explicit consent (and I didn‚Äôt give such consent).</p><p>Respectfully,<br>Yoav</p></div></figure>



<figure><div>Jun 21, 2020<p>Hello,&nbsp;</p><p>Thank you for writing in. We do use Sendgrid to send system emails, and only collect if an email was delivered, opened, and how many times it was opened. We do not gather other information beyond that.&nbsp;</p><p>Please note that the terms can be found when you click on the link below and by using the service agree to our terms:<br>‚Äì&nbsp;<a href="http://www.backblaze.com/terms.html" rel="noreferrer noopener" target="_blank">http://www.backblaze.com/terms.html</a></p><p>All the best,<br>A.<br>Support Technician</p></div></figure>



<figure><div>Jun 21, 2020<p>Hi A.,</p><p>Thanks for getting back to me. Your terms page doesn‚Äôt actually say anything about tracking my email opens etc. Or at least I couldn‚Äôt find anything.</p><p>Regardless, I don‚Äôt believe this is permissible without explicit consent under the GDPR. I also don‚Äôt quite understand why you would even want to track those alert emails?</p><p>Sincerely,<br>Yoav</p></div></figure>



<figure></figure>



<figure><div>Jun 22, 2020<p>Hi A.,</p><p>Perhaps the timestamps on their own aren‚Äôt considered personal data, but combined with my email address, IP, browser info etc, I‚Äôm pretty sure falls under personal data as defined by the GDPR. According to two articles I was able to find, this kind of tracking isn‚Äôt permissible by GDPR and the e-Privacy directive without explicit consent, which was not requested, nor given by me.</p><p><a href="https://www.lexology.com/library/detail.aspx?g=ac233fd4-cd49-45a7-9494-6085512c0312" rel="noreferrer noopener" target="_blank">https://www.lexology.com/library/detail.aspx?g=ac233fd4-cd49-45a7-9494-6085512c0312</a><br><a href="https://www.pipedrive.com/en/blog/gdpr-email-tracking" rel="noreferrer noopener" target="_blank">https://www.pipedrive.com/en/blog/gdpr-email-tracking</a></p><p>The links you provided so far do not appear to address this issue. Would appreciate if you could look into this more seriously.</p><p>Sincerely,<br>Yoav</p></div></figure>



<figure><div>Jun 23, 2020<p>Hello Yoav,</p><p>I asked my Compliance organization to review your concerns. They noted that much of the literature around this topic deals with Marketing Emails, which you can opt-out of at any time.&nbsp;&nbsp;</p><p>For Service Emails, which the message in question is, the rules are less clear and they will contact our GDPR attorney in the EU for clarification. That said, I believe you have four choices:<br>1) You may alter the settings on your email system to receive such emails as text, this will remove all tracking,<br>2) You can discontinue using the Backblaze service and delete your Backblaze account if you remain an active customer we will continue to send you Service emails per our Terms,<br>3) You can wait to see what our GDPR attorney says, or<br>4) You may file a complaint with the GDPR authorities in your jurisdiction.</p><p>All the best,<br>A.<br>Support Technician</p></div></figure>



<figure><div>Jun 23, 2020<p>Hi A.,</p><p>Happy to wait and hear from your GDPR attorneys.</p><p>I agree that most resources talk about marketing emails, because those are the most prevalent and most common use-case of B2C and B2B emails these days. Transactional emails are generally considered legitimate use, and in this case, I explicitly asked for those emails. So there‚Äôs no question there about *sending* these emails. As far as *tracking* how I interacted with the email, as well as further personal data like IP address, device/browser info etc (that this type of tracking typically involves), and storing this info on Sendgrid‚Äôs servers, I‚Äôm pretty confident that this isn‚Äôt considered legitimate without informed and explicit consent under the GDPR and the ePrivacy directives. hey.com seem also quite confident that this is illegal (although I don‚Äôt take legal advice from them).</p><p>But besides that, I‚Äôm just curious to understand why Backblaze even cares to track those emails? what insights do you gain from knowing that X% of those emails were opened? (especially given that those stats are hugely inaccurate and some email clients block them anyway?). Wouldn‚Äôt it be easier to do the right thing here, respect your customers privacy, and stop tracking those emails? (or if you do gain important insights, explicitly and clearly ask for consent?)</p><p>Sincerely,<br>Yoav</p><p>p.s. I also believe the same rules apply to tracking of marketing emails, even if someone explicitly gives consent to *receive* those, it does not automatically mean that they give consent to being tracked, and the privacy implications of such tracking.</p></div></figure>



<figure><div>Jun 24, 2020<p>Hello,&nbsp;</p><p>I have referred the matter to the legal department and will need to close this ticket. Any further communication will come from <a href="mailto:legal@backblaze.com" rel="noreferrer noopener" target="_blank">legal@backblaze.com</a>.</p><p>All the best,<br>A.<br>Support Technician</p></div></figure>



<h2>A month passes‚Ä¶</h2>



<p>I was losing my patience, so sent another message to Backblaze.</p>



<figure><div>Jul 25, 2020<p>This is a follow-up to your previous request #ZZZZZZZ ‚Äúemail tracking‚Äù</p><p>Hi A.,It‚Äôs been a month now, and I still haven‚Äôt heard back. Would appreciate if someone can get back to me on this.</p><p>Sincerely,<br>Yoav</p></div></figure>



<div><div>
<figure><div>Jul 25, 2020<p>Hi Yoav,</p><p>Thank you for reaching out regarding this issue. Apologies for any delay. I‚Äôm sorry to say but further communication will need to go through <a href="mailto:legal@backblaze.com" rel="noreferrer noopener" target="_blank">legal@backblaze.com</a>.</p><p>Please reach out to that email for additional information.<br>M.<br>Support Technician</p></div></figure>



<figure><div>Jul 26, 2020<p>Hi M.,</p><p>Yes, but it‚Äôs been a month, and I believe that under GDPR I can typically expect an answer within a month? see https://ico.org.uk/your-data-matters/time-limits-for-responding-to-data-protection-rights-requests/</p><p>Looking forward to hearing back from whichever team/person that can handle my enquiry.</p><p>Sincerely,<br>Yoav</p></div></figure>



<h2>Legal department steps in</h2>



<figure><div>Jul 31, 2020<p>Hi Yoav,</p><p>Thank you for following up on this matter. We take data privacy matters very seriously at Backblaze, Inc. We have reviewed your concerns and understand your sensitivity regarding the use of tracking technology on emails. In this particular case, we believe there is an exception allowed for doing so for a valid business purpose. There are two reasons we believe this is necessary.</p><p>The first reason is to accurately measure the reach and usefulness of our service email messages to our customers. Service emails communicate important information to the customer and if they are not being received or opened, valuable information is being missed. For example, the customer‚Äôs data we are storing could be at risk of being deleted, or their account could be in peril of being compromised. We use the tracking technology to provide an aggregated measure of this information versus using more invasive technologies such as user surveys or onscreen popups. Over the years we have sent many service emails and we have a full understanding as to the delivery and open rates of our service emails. As such, any anomalies are easily detected and can be acted upon to improve how well we communicate with our customers.</p><p>The second reason is for forensic purposes to respond to questions from customers and defend ourselves as needed. For example, we send multiple service emails to a customer whose subscription is expiring, as once it does expire, we will close their account and delete the data we are storing for them. From time-to-time an ex-customer will want their data and claim we did not notify them that their account was expiring. The tracking technology allows us to show what messages we have sent and what messages the customer received and opened. While not perfect, it has helped us defend ourselves in the past. There is no reasonable replacement for using the tracking technology in such cases. By the way, the same technology also allows us to prove the customer right in many cases, so it delivers value and protects both us and the customer at the same time.</p><p>Thank you for being a valued customer.</p><p>Best regards,<br>T.<br>Legal Department</p></div></figure>



<figure><div>Aug 1, 2020<p>Hi T.,</p><p>Thanks for getting back to me and explaining your reasoning in detail.</p><p>I have to admit, it sounds a bit like a husband spying on their wife ‚Äúbecause they love her‚Äù to some extent. I don‚Äôt feel like these are valid reasons for blanket tracking of ALL emails across all customers, which seems to be the case at Backblaze. As far as I can tell, all Backblaze emails are tracking me and all other customers, from newsletters, across minor service notifications all the way to billing and other messages. Not all messages are the same, but they are all tracked in the same way as far as I can tell. Furthermore, not only there is no informed consent for this tracking, there‚Äôs actually no opt-out mechanism either. As a customer, I cannot tell you that I want your service emails, but I don‚Äôt want them tracking me. I don‚Äôt believe this meets the spirit nor the letter of the GDPR.</p><p>The first example does not at all sound like a legitimate reason to me, and I doubt the data protection authorities will accept it as legitimate either. Especially when it applies to all emails, including minor notifications, newsletters and other marketing materials. What you‚Äôre describing is that you‚Äôre compromising the privacy of your customers for your own internal reasons for marketing purposes. And as I mentioned before, with no informed consent, nor opt-out options. But besides that, given ‚Ä¶</p></div></figure></div></div></div></article></main></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.gingerlime.com/2020/why-is-backblaze-tracking-me/">https://blog.gingerlime.com/2020/why-is-backblaze-tracking-me/</a></em></p>]]>
            </description>
            <link>https://blog.gingerlime.com/2020/why-is-backblaze-tracking-me/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534572</guid>
            <pubDate>Sun, 20 Sep 2020 15:32:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Labelai ‚Äì speed up training your AI models with a free open-source app]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24534538">thread link</a>) | @aralroca
<br/>
September 20, 2020 | https://aralroca.com/blog/labelai | <a href="https://web.archive.org/web/*/https://aralroca.com/blog/labelai">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I'd like to tell you why I made <strong><a href="https://github.com/aralroca/labelai">Labelai</a></strong>, a tool that makes it easier to train image recognition AI models (ImageNet, YOLO and its variants) from any device ensuring security.</p>
<h2 id="a-little-bit-of-context">A little bit of context</h2>
<p>When we want to directly use existing image recognition models such as ImageNet, COCO-ssd or YOLO, we are limited to predict only everyday objects such as cars, people, etc. This is because these models have only learned to recognize these objects within an image. However, there are techniques such as transfer-learning that allow us to retrain these models to <strong>predict what we want</strong>. </p>
<p>In order to retrain these models, we have to <strong>manually label each object</strong> that we want to recognize by writing the coordinates of the object in a text file for each image to train. This way the model will be able to learn how to recognize them. This labeling process can be very boring and tedious.</p>
<p>Currently, there are not many alternative tools for this labeling process. The best known current tool is <a href="https://github.com/tzutalin/labelImg">labelImg</a>. The tool is good and does its job, although it has some root problems:</p>
<ul>
<li><strong>Not available in all devices</strong>. It can only be downloaded as a desktop application.</li>
<li><strong>Requires installation</strong>. It requires installation and it isn't very beginner-friendly. Depending on your OS and Python version the dependencies will be different. For example on Mac with Python 3+, you need to install first some dependencies like <code>qt</code> and <code>libxml2</code> with Homebrew, and <code>pyqt5</code> and <code>lxml</code> with pip.</li>
<li><strong>Security</strong>. The application manipulates the files on your system. In theory, it only manipulates files related to annotations. I say "in theory", because we hope there won't be a bug in the future touching what it shouldn't... </li>
<li><strong>Updates are not automatic</strong>. Related to the previous point, many updates are made for security reasons, especially if it has dependencies. The fact that updates are not done automatically makes it your responsibility to keep your application up to date.</li>
</ul>
<h2 id="launching-labelai">Launching Labelai</h2>
<p>Using labelImg during the last months, I realized that a <strong>web application</strong> inspired by it would solve several of these problems:</p>
<ul>
<li><strong>Available in all devices</strong>. Being a web application makes it accessible from any device, even tablets, and mobiles.</li>
<li><strong>No installation required</strong>. It speeds up the start, as it does not require installation and has no dependencies on your operating system. Only the browser.</li>
<li><strong>Automatic updates</strong>. You will always have the latest version available.</li>
<li><strong>Security</strong>. No file on your system is directly manipulated. Files are imported/saved using the security layer of your browser.</li>
<li><strong>Beginner-friendly</strong>. We want it to be an easy-to-use process without losing flexibility. To start, you only need to open a browser with any device.</li>
</ul>
<p>So during my August holiday, I took the opportunity to implement the first POC of my idea. And today, I announce that its <strong>first version is out</strong>.</p>
<a href="https://github.com/aralroca/labelai">
  <figure>
    <img loading="lazy" src="https://aralroca.com/images/blog-images/labelai.png" alt="Labelai logo">
    <figcaption><small>Labelai</small></figcaption>
  </figure>
</a>

<p>This version 1.0.0 is focused on being useful as a web tool to label your images and supports both <strong>ImageNet</strong> and <strong>YOLO</strong>, and its variants.</p>
<p>In addition, I tried to improve the user experience when labeling by making it less necessary to press so many buttons.</p>
<p>Currently, I have some future ideas to expand the features so that it does not remain only as an annotation tool, but to train models after labeling the images.</p>
<figure>
  <img loading="lazy" src="https://aralroca.com/images/blog-images/demo.gif" alt="Labelai demo">
  <figcaption><small>Labelai demo</small></figcaption>
</figure>


<h2 id="future-features">Future features</h2>
<p>As a free open-source tool we want to evolve according to the contributions of the community. However, in the first version, there are some things that have not yet been implemented and the idea is to implement them for the next version:</p>
<ul>
<li><strong>Improve tablet / mobile experience</strong>. Now the support is minimal, it works, but not as well as some users would like. For example, it is not very responsive. This should be improved in a next version.</li>
<li>Possibility to <strong>train directly</strong> your labeled images <strong>with the same app</strong> and also to save the generated model.</li>
<li><strong>Offline</strong> support. Now it only works online, but one of the improvements would be to support it offline as PWA.</li>
</ul>
<p>Any further improvements you would like to make? Please let me know in the comments.</p>
<h2 id="try-it">Try it</h2>
<p>I encourage you to try the app and contribute to GitHub to evolve this tool according to the community.</p>
<ul>
<li>App: <a href="https://labelai.vercel.app/">https://labelai.vercel.app/</a></li>
<li>GitHub: <a href="https://github.com/aralroca/labelai">https://github.com/aralroca/labelai</a></li>
</ul>
<p>To help me boost this project, please, let me know that you like it by <strong>starring on GitHub</strong>.</p>
</div></div>]]>
            </description>
            <link>https://aralroca.com/blog/labelai</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534538</guid>
            <pubDate>Sun, 20 Sep 2020 15:25:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Overview of Remote Build Execution]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534447">thread link</a>) | @kousikk
<br/>
September 20, 2020 | https://kousiktn.github.io/posts/2020-09-20-remote-build-execution/ | <a href="https://web.archive.org/web/*/https://kousiktn.github.io/posts/2020-09-20-remote-build-execution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section>
    <article>
      <header>
        
        <div>
          <p><span>
              <i></i>
              <time datetime="2020-09-20T00:00:00Z">
                September 20, 2020
              </time>
            </span>
            <span>
              <i></i>
              5-minute read
            </span>
          </p>
          
          
        </div>
      </header>

      <div>
        
        
<p>One of the big benefits of using build systems like Bazel is that it supports remote-execution and caching of the build out of the box. Each action in the build graph can be executed on a remote machine, cached and then downloaded onto the local machine. When there are multiple developers on the team (or you are re-building your project from scratch on a different machine), and if the build has already been run by a developer in the team, then the other developers can simply reuse the results of the previous build thereby reducing the build time and load on the their local machines.</p>
<h2 id="how-is-a-remotely-executed-build-faster">How is a remotely executed build faster?</h2>
<p>Faster end-to-end build time is achieved in two ways:</p>
<ol>
<li><em><strong>High Parallelism</strong></em></li>
</ol>
<p>In a locally executed build, the build parallelism is usually capped to the number of CPU cores / RAM available on the machine (for example <code>-j 16</code> of <code>-j 96</code> if you are on one of those more expensive machines). With a remotely executed build you can far exceed the local parallelism and can go upto <code>-j 500</code> or even <code>-j 1000</code> depending on how good and light-weight the client implementation is. If portions of the build graph are wider than the <code>-j</code> value of the local machine, then those portions will heavily benefit by high parallelism.</p>
<ol start="2">
<li><em><strong>Cached Action Results</strong></em></li>
</ol>
<p>While remote-execution of an individual action is generally expected to be slower than a locally executed action (remote-execution has overhead like shipping local input files to remote server, running the action on remote-server and downloading remotely executed results), fetching the cached result of a previously remotely executed action is usually faster than locally executing a build action. In a large organization (like Google :D) or a large repository, <a href="http://google-engtools.blogspot.com/2011/09/build-in-cloud-distributing-build-steps.html"><code>&gt; 90%</code></a> of the overall actions generally result in cache-hits. The larger the number of repetitive builds you do, the higher your cache-hit rate will be.</p>
<h2 id="remote-execution-api">Remote Execution API</h2>
<h3 id="action-specification">Action Specification</h3>
<p>Build systems like Bazel use the open source <a href="https://github.com/bazelbuild/remote-apis">Remote Execution API</a> with a corresponding gRPC server that implements a remote-execution API. The remote-execution API describes a mechanism for executing an arbitrary local command remotely. In order to execute a command on a remote machine you would need the following basic things:</p>
<ol>
<li>The command line invocation</li>
<li>Input files / directories</li>
<li>Environment variables</li>
<li>Output files / directories</li>
<li>Platform configuration (like Mac / Linux / Windows)</li>
</ol>
<p>For example, lets say you want to run a compilation action like the following on a remote Linux machine</p>
<div><pre><code data-lang="fallback">PWD=/proc/self/cwd clang++ -c test.cpp -o test.o
</code></pre></div><p>Here‚Äôs what the various requirements mentioned above would map to:</p>
<ol>
<li>The command line invocation = <code>clang++ -c test.cpp -o test.o</code>.</li>
<li>Input files / directories
This would include the following files:</li>
</ol>
<div><pre><code data-lang="fallback">1. test.cpp
2. test.h
3. ... other header files included by test.h / test.cpp transitively ...
</code></pre></div><ol start="3">
<li>Environment variables = <code>PWD=/proc/self/cwd</code></li>
<li>Output files / directories = <code>test.o</code></li>
<li>Platform configuration = <code>OS=Linux, toolchain=clang-10</code>
Note that the platform configuration you specify depends on what platform configurations the remote-execution server respects. In the example above, the remote-execution server would have to know to make <code>clang-10</code> binaries available during command execution and must execute the command on a Linux machine. As you can imagine, more fancier platform specifications are possible.</li>
</ol>
<p>An encapsulation of the various things described above is what we call an <a href="https://github.com/bazelbuild/remote-apis/blob/master/build/bazel/remote/execution/v2/remote_execution.proto#L388"><code>Action</code></a>. An <code>Action</code> captures the various information needed to run the command on a remote server.</p>
<h3 id="content-addressable-storage">Content Addressable Storage</h3>
<p>We looked at what goes into an action but haven‚Äôt described how the action is presented to the remote-execution server by the client. In the remote-execution API specification, content-addressable storage (CAS) is used to present the action and also the dependencies specified by the action. The CAS is a common key-value store that both the remote-execution client and remote-execution server utilize for exchanging data.
The general series of steps in presenting an a piece of data (an action spec / an input file etc) to a remote-execution server using content-addressable storage is:</p>
<ol>
<li>
<p>Compute the digest of the what you want to store.</p>
<p>a. In the case of a regular file, it will be a digest of the file.</p>
<p>b. In the case of a directory, it will be a digest of the Merkle tree root of the directory.</p>
<p>c. In the case of an action specification, it will be a digest of the wire format of the action spec.</p>
</li>
<li>
<p>Store the digest along with the data in CAS. The digest will be the key and the data itself will be the value.</p>
</li>
<li>
<p>Present the digest to the remote-execution server which can in-turn utilize the CAS service to fetch the data.</p>
</li>
</ol>
<h3 id="steps-involved-in-running-an-action">Steps involved in running an action</h3>
<p>At this point we have all the basic building blocks we need to see how we can run an action remotely. Lets take a sample C++ compile command we saw above, add more details to it and see how it can be remotely executed with the remote-execution API.</p>
<p>test.cpp:</p>
<div><pre><code data-lang="fallback">#include "test.h"
int main() {
    std::cout &lt;&lt; "Hello world!\n";
    return 0;
}
</code></pre></div><p>test.h</p>
<div><pre><code data-lang="fallback">#ifndef TEST_H
#define TEST_H

#include &lt;iostream&gt;

#endif
</code></pre></div><ol>
<li>Determine the inputs of above action. In Bazel, the dependent header files are described in <code>BUILD</code> file. In scenarios where that is not the case, the test.cpp file will be preprocessed to find out the dependent header files.</li>
<li>Upload each of the header files along to CAS keyed with their digest.</li>
<li>Determine the output to be produced by the action. In this case, the output is going to be <code>test.o</code> file.</li>
<li>Determine the toolchain to be used for this compilation. Lets assume that we are going to use <code>clang-10</code> and assume that the remote-execution server will make it available when remotely running the action.</li>
<li>Construct the action spec. It would look something like (in textproto):</li>
</ol>
<div><pre><code data-lang="fallback">input_root_digest: &lt;input-dir-digest&gt;
output_files: "test.o"
platform: {
    key: "toolchain"
    value: "clang-10"
}
platform: {
    key: "OS"
    value: "Linux"
}
</code></pre></div><ol start="6">
<li>Serialize the action spec to binary format and compute the digest of the serialized action spec.</li>
<li>Upload the action spec to CAS keyed by its digest.</li>
<li>Call <a href="https://github.com/bazelbuild/remote-apis/blob/master/build/bazel/remote/execution/v2/remote_execution.proto#L107">Execute()</a> RPC on the remote-execution server.</li>
<li>Download the output file from the CAS using the digest present in the result of the <code>Execute()</code> call.</li>
</ol>

      </div>


      
    </article>

    
  
  
  
  </section>

      </div></div>]]>
            </description>
            <link>https://kousiktn.github.io/posts/2020-09-20-remote-build-execution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534447</guid>
            <pubDate>Sun, 20 Sep 2020 15:05:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Revenue Model, Not Culture, Is the Dominant Term]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534307">thread link</a>) | @Ozzie_osman
<br/>
September 20, 2020 | https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-101">

	

	
	<div>
		
<p>I always loved getting problems of the type ‚ÄúWhat is the limit as x approaches infinity‚Äù type in high-school/college. You‚Äôre given an equation (of the classic y=x format), and asked to derive what the value of y will be as x grows to infinity.</p>



<p>One thing you learn pretty quickly about these types of problems is that often it doesn‚Äôt matter where the function ‚Äústarts‚Äù (or where it is at small values of x). It could start at zero, or at negative infinity, but its limit might be infinity, and vice versa (it could start large but have a limit of zero or negative infinity).</p>



<p>In fact, for many equations, there‚Äôs usually one <strong>dominant term</strong>. This is the term that dominates the limit. There might be countless other factors or parts of the equation that matter initially, but eventually it‚Äôs that dominant term that wins. This is sometimes known as the <strong>dominant term rule</strong>. We‚Äôll get back to this in a second.</p>



<h3>Ads vs. Search</h3>



<p>Google had a little press kerfuffle a few months ago. You can read a summary in the New York Times <a href="https://www.nytimes.com/2020/01/31/technology/google-search-results.html">here</a>, but the short of it is that the company launched a design change that made search results and ads look very similar. Presumably, this increased revenue for Google, since many people ignore ads when they can easily identify them, the same way you‚Äôd ignore stepping in dog crap if you can identify it in the mud (and yes, given the state of online ads and content I pick this analogy deliberately). But there was a pretty strong backlash against this as a ‚Äúdark pattern‚Äù designed to trick users. After the negative press, Google walked back the change.</p>



<p>If you‚Äôve been following the news around big tech companies these past couple of years, this type of behavior is not surprising at all. These companies have grown really large, are arguably monopolistic, and hyper-focused on growth and revenue. Over and over, they have made decisions that have resulted in backlash from the press and from their users.</p>



<p>On the other hand, if I ignore the past ten years, and jump back to when I worked at Google as an entry-level Software Engineer, it is a <em>little</em> surprising to me. I worked at Google from 2006-2009. At the time, it was already a rapidly-growing public company (I think I joined when there were around 8,000 employees, and left when there were 20,000). I initially worked on the team responsible for AdWords, so I had some exposure to the culture and decisions that were made at the time (of course it wasn‚Äôt <em>deep</em> exposure, since I was an entry-level Software Engineer on the lowest rung of the ladder‚Ä¶ but it was exposure nonetheless).</p>



<p><em>Note: I‚Äôm going to pick on Google a little bit here, but I do love that company. I think there‚Äôs a lot it can improve on, but it‚Äôs still one of my favorite and least ‚Äúevil‚Äù large tech company. I chose them simply because I‚Äôm more familiar with them.</em></p>



<p>At the time, Google employees might have argued against making a change because it was ‚Äúevil‚Äù. The ‚Äúdon‚Äôt be evil‚Äù motto was still around, and as engineers who were building parts of the product and making decisions, we were pretty ideological about it. One of the company‚Äôs values was also to put users first, employees second, and shareholders third. By any of these lenses, the type of design change that Google got flak for recently would have been highly unlikely at the time.</p>



<h3>Revenue is the Dominant Term</h3>



<p>Let‚Äôs take a dominant term view of this problem. When a company is first built, several variables dictate its decisions:</p>



<ul><li>The <em>implicit </em>values/culture of the early team. As Ben Horowitz would say, ‚Äúwhat you do is who you are.‚Äù&nbsp;</li><li>The <em>explicit </em>values/culture of the early team. Are we user-centric? Data-driven? ‚Ä¶</li><li>The revenue model.</li></ul>



<p>I think that over time, the revenue model is the dominant term. The limit of a product towards infinity, so to speak, is based on its revenue model. If your revenue model is ads, it doesn‚Äôt matter if your stated mission is ‚Äúto organize the world‚Äôs knowledge and make it universally accessible and useful‚Äù, ‚Äúto give people the power to build community and bring the world closer together‚Äù, or anything else. If your revenue model is ads, you are an ads company.</p>



<p>I‚Äôm not diminishing the role of culture and values. I think those are critical. Part of me would love to believe the hundreds of books written on how culture determines everything. But I don‚Äôt. At least not for companies that can hire some of the smartest people in the world, gather massive amounts of data, and build technology more sophisticated than ever. And be trying to ‚Äúmaximize shareholder value‚Äù.</p>



<p>I‚Äôve actually agonized over whether culture or revenue are the dominant term. In fact, I agonized so much that I‚Äôve had this article in my head for years, and in a Google Doc for months, but I couldn‚Äôt get myself to write it / publish it. Because part of me believes culture always wins. Actually, <em>all</em> of me <em>wants </em>to believe culture <em>always</em> wins. But I‚Äôve had my idealism crushed enough times by hard realities.&nbsp;</p>



<p>Yes, having and espousing a positive culture and set of values are important. And they may shape how and how quickly the revenue model dominates (for example, companies like Enron or pre-IPO Uber show how bad things can get if you have a terrible culture). But regardless of your mission statement, your culture, your values, and so on, if you choose the wrong revenue model, it will dominate them in a shareholder-value-driven, capitalistic society. Culture can only dominate if it‚Äôs negative. A positive culture <em>is </em>necessary, but it‚Äôs not sufficient.</p>



<p><em>In other words, over the long term, a company (and its product) will morph to take the shape of its revenue streams.</em></p>



<h3>Charlie Munger Knew It</h3>



<p>Charlie Munger, Warren Buffet‚Äôs business partner, has a pretty famous speech where he talks about the power of incentives.</p>



<blockquote><p>‚ÄúWell I think I‚Äôve been in the top 5% of my age cohort all my life in understanding the power of incentives, and all my life I‚Äôve underestimated it. And never a year passes, but I get some surprise that pushes my limit a little farther.‚Äù ‚Äî<a href="https://fs.blog/2013/02/the-psychology-of-human-misjudgement/">Charlie Munger</a></p></blockquote>



<p>Charlie gives several examples: for instance, FedEx needed to move/sort their packages more quickly, so instead of paying employees per hour, they paid them per shift: productivity increased dramatically (employees now had less incentive to take longer hours to do the same amount of work). Charlie‚Äôs model of human behavior is pretty simple: we follow incentives. He makes people sound almost coin-operated.</p>



<p>Now, this isn‚Äôt entirely true‚Äîthere are plenty of examples and research showing that our behavior is more complicated than simple incentives would predict. But Charlie is arguably one of the best investors in the world, and he‚Äôs onto something. Even though there might be other variables that influence our behavior, you can still simplify things down to incentives. Incentives are his dominant term.</p>



<p>That incentives are dominant is actually pretty obvious to a lot of people. Somehow in the tech industry, we seem to have just clouded our own judgement through some sense of moral superiority. We care about the impact we‚Äôre having on the world. We have noble missions that we rally around and try to hire people who are excited by them. So far, so good. But then we shoot ourselves in the foot by setting up business models with misaligned incentives.</p>



<h3>Look for Aligned Business Models</h3>



<p>So what does this mean in practice? Well, if you only care about making money, it doesn‚Äôt mean much. But if you do care about more than money, if you care about the impact your work has and you want to be proud of what you do, it‚Äôs worth thinking through this a little more deeply.</p>



<p>Whether you‚Äôre starting a company or joining one, look for a business model <em>without</em> perverse incentives. A business model that sets things up so that the better a product is, the better off the company is and its users are.</p>



<p>Sometimes, counterintuitively, a business model may seem aligned at first glance, but end up being quite harmful. The classic example that we‚Äôre all now aware of is free products. Free seems great at first glance. But companies have to make money somehow. So they sell ads, or data, or some mix of the two that their users don‚Äôt quite understand. And so now, success for the company means more time spent on the product (which may or may not be a good thing for users), less privacy (definitely not a good thing for users), and ultimately more ads.*</p>



<p>So often, paid is better than free*.  At <a href="https://www.monarchmoney.com/">Monarch Money</a>, my current startup, we‚Äôve chosen to go with a paid model, with a hope that we‚Äôll be more aligned in creating value for our users (who we can now call customers‚Ä¶ notice how there‚Äôs a word for ‚Äúcustomer service‚Äù, but no ‚Äúuser service‚Äù?). There will still be plenty of forks in the road where we can decide whether we help our customers, or take advantage of them, and I hope our values will help us navigate those forks, but at least the revenue model is in our favor.</p>



<p>Another layer to consider is whether your product and revenue model help people with just short-term goals, or a mix of both short and long-term goals. Products that are great and helpful, help their users with both. Good products might help with one or the other. The products with the most potential for damage provide some short-term benefit at the <em>expense</em> of longer-term goals.</p>



<p>So when you consider starting or joining a company, look at the business model, and do the ‚Äúlimit math‚Äù. Think about what things might look like if you become massively successful, because you might be.</p>



<hr>



<p><em>*This is an opinion piece. I had to draw a lot of simplifications to keep this article short. A lot of statements are definitely not universally true, but are true enough that they‚Äôre worth using as examples.</em></p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/09/20/revenue-model-not-culture-is-the-dominant-term/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534307</guid>
            <pubDate>Sun, 20 Sep 2020 14:39:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apache Arrow and MinIO]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 32 (<a href="https://news.ycombinator.com/item?id=24534274">thread link</a>) | @jtsymonds
<br/>
September 20, 2020 | https://blog.min.io/turbocharging-minio-datalakes-with-arrowrdd/ | <a href="https://web.archive.org/web/*/https://blog.min.io/turbocharging-minio-datalakes-with-arrowrdd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                    <p>More and more enterprises have begun or have already implemented a data lake strategy based on some of the work we did a couple of years ago. If you want to take a moment to review - you can find those posts below <a href="https://blog.min.io/modern-data-lake-with-minio-part-1/">here</a> and <a href="https://blog.min.io/modern-data-lake-with-minio-part-2/">here</a>. </p><h2 id="objective">Objective</h2><p>In this article, I am going to explain a mechanism to turbocharge the use of MinIO. Nothing changes as far as MinIO is concerned, the optimization will be on the underlying storage of our data. We are going to choose one of the latest formats to improve agility manifoldly. We are going to show the ways by which your data lake data can travel across systems without experiencing any "conversion" time. </p><h2 id="apache-arrow">Apache Arrow</h2><p>I believe understanding this article needs some basic concepts of<a href="https://arrow.apache.org/"> </a>how applications like Spark works. Let me explain it in simple terms.</p><p>Imagine you got a nice job at a location different from where you live currently and you want to relocate, as the new company demands it and pays for it. You have got the most modern televisions, refrigerators, super soft leather sofas, bed and so on. You engage a moving company, who comes, disassembles everything, packs it conveniently. They also make sure to pack as much possible in containers to fill the truck such that they can do it in a single trip. Once they reach the destination, they unpack, assembles and restore everything as it was.</p><p>The same applies to data. When I store some data in MinIO , and I need to feed it to, say, another application, say Spark, the consuming application needs to disassemble the data from MinIO data lake, pack it and transport it through the wire (or wireless), receive, unpack and re-assemble. </p><p>Let's use more technical terms for this disassembly and assembly - serialization and de-serialization of data. The unfortunate part is, both these processes are complex and time consuming. Here is a brief diagram illustrating what happens in Apache Spark when it reads data</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-1.54.30-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-1.54.30-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-1.54.30-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-1.54.30-AM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-1.54.30-AM.png 1944w" sizes="(min-width: 720px) 720px"><figcaption>Experimental setup. Courtesy: <a href="https://databricks.com/session/running-apache-spark-on-a-high-performance-cluster-using-rdma-and-nvme-flash">Spark Summit</a></figcaption></figure><p>You may not have noticed this problem before. Assume that MinIO is on a machine(s) on the network. We write a Spark Map-Reduce application. Eventhough the network limit is 100 GbE, we are almost getting less that 10 GbE speed. What's the use of this high speed network then? What is the potential problem which is not allowing us to utilize the full potential of the network, or at least 70-80% of it?</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-2.00.34-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-2.00.34-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-2.00.34-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-2.00.34-AM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-2.00.34-AM.png 1948w" sizes="(min-width: 720px) 720px"><figcaption>Additional layers, buffers and serializers</figcaption></figure><p>The issues are with the way in which Spark is retrieving the data. Look at the number of layers the data has to pass though. This creates a limit on the throughput that we can achieve. There are projects like <a href="https://crail.apache.org/">Apache Crail,</a> which are designed to address these issues.</p><h2 id="optimization-columnar-data-format">Optimization : Columnar Data Format </h2><div><p>If we think about the relocation example mentioned above, we see that the logistic company will never take the sofa as it is, they will break it down to make it easy to transport. Note that this is for transportation purposes only - if that objective is different, then disassembling the sofa might not be the right approach. </p><p>Given that the objective for a data lake is analytics - rather than transactional needs we must take that under consideration. For transactions, we often use OLTP systems like Oracle or PostGres - given that they are particularly well suited for the job. A quick review of OLAP's analytics requirements is probably in order. </p></div><figure><img src="https://blog.min.io/content/images/2020/09/Picture1.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Picture1.png 600w, https://blog.min.io/content/images/2020/09/Picture1.png 966w" sizes="(min-width: 720px) 720px"><figcaption>Introducing columnar format</figcaption></figure><p>Let's start with one of the most famous RDMBS table - the "emp" table of Oracle. The top part shows how the data is stored in RDBMS as a "relation" or "tuple". We call it a table. I am providing you two queries</p><!--kg-card-begin: markdown--><ol>
<li>select ename from emp where job = 'CLERK'</li>
<li>select sum(sal) from emp</li>
</ol>
<!--kg-card-end: markdown--><p>The first is a transactional query. It has to scan every row on the table and find out the name of the employee wherever the job is clerk. The second is an analytical query - rather than an atomic result, the goal is a general result. Unfortunately, the first and second query has to scan through all the rows, if we use RDBMS way of representation of data. If the size of data is 20 GB, all the 20 GB more or less will be scanned. This is the top part of above figure.</p><p>Let's make some changes - taking all of our columns and make them into rows. Like a transpose of a matrix - and see the bottom part of above figure, how your data will look like. Following this transposition, an entire block is just representing one column. How many blocks need to be scanned for the second analytical query? Just one block, probably around 2 GB of size. </p><p>The difference is significant? Columnar representation is what is being used in ORC (Optimized Row Columnar) and Parquet files - with the goal of making the analytics faster.</p><p>Columnar formats are easier to read, however, they pose another problem - they are usually stored in compressed format. As a result, the consuming application will need to uncompress it while reading and compress it back while writing. </p><p>Note this, as we will revisit the point later.</p><h2 id="the-science-of-reading-writing-data">The Science of Reading/Writing Data</h2><p>Let me explain briefly how reading/writing happens in a software system and what role is played by the hardware.</p><p>Microprocessors normally use two methods to connect external devices: <strong>memory mapped</strong> or <strong>port mapped</strong> I/O. </p><p>Memory mapped I/O is mapped into the same address space as program memory and/or user memory, and is accessed in the same way.</p><p>Port mapped I/O uses a separate, dedicated address space and is accessed via a dedicated set of microprocessor instructions.</p><p>In memory mapped approach, I/O devices are mapped into the system memory map along with RAM and ROM. To access a hardware device, simply read or write to those 'special' addresses using the normal memory access instructions.The advantage to this method is that every instruction which can access memory can be used to manipulate an I/O device.</p><p>Usually applications use Port mapped I/O. If we are using memory mapped I/O for a particular format, it will be faster, especially for analytical needs. When combined with our columnar data format, then it becomes even more advantageous.</p><p>Welcome to <a href="https://arrow.apache.org/">Apache Arrow</a>. </p><p>Arrow uses memory mapped I/O and avoids serialization/deserialization overheads when you convert between most of the formats while leveraging the columnar data format. </p><p>Thanks to <a href="https://wesmckinney.com/">Wes McKinney</a> for this brilliant innovation, its not a surprise that such an idea came from him and team, as he is well known as the creator of Pandas in Python. He calls Arrow as the future of data transfer.</p><h2 id="store-data-in-minio-in-arrow-format">Store Data in MinIO in Arrow Format</h2><p>This is how we are going to make MinIO even more powerful. </p><p>We are going to store that data in Arrow and then let the consuming applications read it - resulting in dramatically increased speeds. Step one has us putting the data into MinIO in Arrow format. I was using my own approach until I saw a much better implementation from <a href="https://github.com/BryanCutler">Bryan Cutler</a>, whose contributions include integrating Arrow formats to Spark as well.</p><p>We will start with a a .csv file, in this case movie ratings downloaded from the <a href="https://movielens.org/">movielens</a> site. For illustration purposes, I took about 100K rows. First, let's write a Spark program to read this CSV file and write it into Arrow format using Arrow RDD. You can get the full code from the link given towards the bottom of this article.</p><p>Step 1: build.sbt , please note the arrow dependencies</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.38.17-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-4.38.17-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-4.38.17-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-4.38.17-AM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.38.17-AM.png 1990w" sizes="(min-width: 720px) 720px"><figcaption>See lines 18 and 19, we have Arrow related dependencies with Spark</figcaption></figure><p>We will use Spark 3.0, with Apache Arrow 0.17.1</p><p>The ArrowRDD class has an iterator and RDD itself. For creating a custom RDD, essentially you must override mapPartitions method. You can browse the code for details. </p><p>Next, start MinIO and create a bucket named "arrowbucket". </p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.26.37-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-4.26.37-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-4.26.37-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-4.26.37-AM.png 1600w, https://blog.min.io/content/images/size/w2400/2020/09/Screen-Shot-2020-09-06-at-4.26.37-AM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Create a bucket named "arrowbucket" in MinIO</figcaption></figure><p>Let's use ArrowRDD and create an ArrowFile in local. Here is the code:</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.48.45-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-4.48.45-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-4.48.45-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-4.48.45-AM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.48.45-AM.png 2372w" sizes="(min-width: 720px) 720px"><figcaption>Writing Arrow file with ArrowRDD</figcaption></figure><p>Lines 22 to 34 do the main part. Compile and execute the code:</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-4.50.42-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-4.50.42-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-4.50.42-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-4.50.42-AM.png 1600w, https://blog.min.io/content/images/size/w2400/2020/09/Screen-Shot-2020-09-06-at-4.50.42-AM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Execute the code</figcaption></figure><p>As you see from code, the Arrow format file is is generated in data directory. Let's copy it to the MinIO bucket we created earlier (bucket name is arrowbucket)</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-5.04.23-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-5.04.23-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-5.04.23-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-5.04.23-AM.png 1600w, https://blog.min.io/content/images/size/w2400/2020/09/Screen-Shot-2020-09-06-at-5.04.23-AM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Copy the arrow file we generated to MinIO bucket</figcaption></figure><p>Let's have some fun now. </p><p>Use your favorite Python editor, and write some code. First, let us start with Spark reading the file and converting it to a dataframe, with and without Arrow enabled options.</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.52.01-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-11.52.01-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-11.52.01-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-11.52.01-AM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.52.01-AM.png 1698w" sizes="(min-width: 720px) 720px"><figcaption>Initializing Spark context and connection parameters to Minio</figcaption></figure><p>Start your Spark cluster. Complete the code with all settings and check whether we created the Spark context successfully. To ensure that our app (named Minio-Arrow-Spark at line 8) is connected, just check the Spark UI. You should see something like this:</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.46.01-AM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-11.46.01-AM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-11.46.01-AM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-11.46.01-AM.png 1600w, https://blog.min.io/content/images/size/w2400/2020/09/Screen-Shot-2020-09-06-at-11.46.01-AM.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Spark UI (default localhost:8080) is showing our app is connected</figcaption></figure><p>Run the below code now:</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.09.47-PM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-11.09.47-PM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-11.09.47-PM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-11.09.47-PM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.09.47-PM.png 1708w" sizes="(min-width: 720px) 720px"><figcaption>Reading from MinIO with Arrow format "not enabled" (top) and "enabled"(bottom)</figcaption></figure><p>The output which displays the time, shows the power of this approach. The performance boost is tremendous, almost 50%.</p><p>Recall that we created an ArrowRDD earlier and used it to write to MinIO. Let us test the memory consumption in reading it. We will use different methods.</p><figure><img src="https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.17.22-PM.png" alt="" srcset="https://blog.min.io/content/images/size/w600/2020/09/Screen-Shot-2020-09-06-at-11.17.22-PM.png 600w, https://blog.min.io/content/images/size/w1000/2020/09/Screen-Shot-2020-09-06-at-11.17.22-PM.png 1000w, https://blog.min.io/content/images/size/w1600/2020/09/Screen-Shot-2020-09-06-at-11.17.22-PM.png 1600w, https://blog.min.io/content/images/2020/09/Screen-Shot-2020-09-06-at-11.17.22-PM.png 1882w" sizes="(min-width: 720px) 720px"><figcaption>See the results - Arrow is zero copy memory format</figcaption></figure><p>We are reading different file formats and seeing the memory consumption for each. As it is evident, Arrow format based files are zero copy - almost no memory consumed at all.</p><p>By combining MinIO with the Arrow Format, you can enhance your analytics ecosystem and virtually eliminating the friction associated with converting between different formats. This is primarily due to the reduction of serialization overhead.</p><h2 id="code">Code </h2><p>You can see the<a href="https://github.com/passionbytes/ArrowRDD"> Jupyter notebook and ArrowRDD code here</a>.</p><p>Ravishankar Nair is a technology evangelist, a consultant and an inspiring speaker. He is the CTO of PassionBytes, based in Florida. With his vast expertise in data engineering, Ravi provides consultancy in machine learning, modern data lakes and distributed computing technology. You can refer to his other articles related to MinIO here:</p><p>1) <a href="https://blog.min.io/modern-data-lake-with-minio-part-1/">Modern Data Lakes with Minio - Part 1</a></p><p>2) <a href="https://blog.min.io/modern-data-lake-with-minio-part-2/">Modern Data Lakes with MinIO - Part 2</a></p><p>3) <a href="https://blog.min.io/building-an-on-premise-ml-ecosystem-with-minio-powered-by-presto-r-and-s3select-feature/">Building an ‚Ä¶</a></p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.min.io/turbocharging-minio-datalakes-with-arrowrdd/">https://blog.min.io/turbocharging-minio-datalakes-with-arrowrdd/</a></em></p>]]>
            </description>
            <link>https://blog.min.io/turbocharging-minio-datalakes-with-arrowrdd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534274</guid>
            <pubDate>Sun, 20 Sep 2020 14:32:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dictionary of Arguments and Positions (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534203">thread link</a>) | @abetterday
<br/>
September 20, 2020 | https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/ | <a href="https://web.archive.org/web/*/https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I‚Äôve long been bothered by impediments to good-faith inquiry and difficulty of accurate information transmission. Positions seem disadvantaged by candor and sophistication. This tempts disillusionment, carelessness, and manipulativeness.</p>
<p>While some difficulties are inescapable, I‚Äôve begun to feel that many are created or nurtured by outdated expectations and tools we bring to discourse. I am not yet confident that my thoughts coalesce into a coherent and achievable alternative, but they feel far enough along to attempt relaying.</p>
<p>I‚Äôll start by briefly expanding on annoyances driving this. Next, I‚Äôll diagnose the problem and sketch elements of the solution. Then, I‚Äôll discuss components of implementation. I‚Äôll conclude by touching on difficulties and objections. Finally, in an <a href="https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/#tools">addendum</a>, I‚Äôll list potentially compatible efforts and tools.<span id="more-425"></span></p>
<h2 id="incoherence">Incoherence</h2>
<p>If you approach complaints, requests, demands, suggestions, and pleas with an open mind you‚Äôll <a href="https://en.wikipedia.org/wiki/Principle_of_charity">look</a> for truth and coherence in them. If you also approach them with compassion and optimism you‚Äôll want aid them. If integrity is important, you‚Äôll attempt to adjust personal and institutional <a href="https://www.growwiser.com/2015/04/28/anatomy-of-action-and-understanding/">action hierarchies</a> to incorporate resulting truths, constraints, and goals. With enough effort and sacrifice you might make progress and feel more confident, driven, virtuous, and wise.</p>
<p>But each new request adds facts, constraints, and desires that make integration with previously assimilated requests increasingly difficult. Eventually, even the most resourceful and determined will relent and admit that demands cannot be reconciled. Desires, axioms, and constraints of independently reasonable requests conflict with each other; to make progress, one has to choose.</p>
<p>Such conflicts are too <a href="https://www.growwiser.com/2017/03/01/laws-of-absolute-belief-and-plurality/">fundamental</a> to be confined to overtly incompatible positions. Ostensibly sensible combinations of requests and positions hide incoherence. Usually, inconsistencies simply aren‚Äôt sought. Sometimes, they are obscured by seemingly innocuous justifications.<sup id="footnote_plugin_tooltip_1" onclick="footnote_moveToAnchor('footnote_plugin_reference_1');">1</sup><span id="footnote_plugin_tooltip_text_1">As <a href="https://en.wikipedia.org/wiki/Willard_Van_Orman_Quine">W. V. Quine</a> argued in&nbsp;<a href="https://en.wikipedia.org/wiki/Two_Dogmas_of_Empiricism"><em>Two Dogmas of Empiricism</em></a>: ‚ÄúAny statement can be held true come what may, if we make drastic enough adjustments elsewhere in the system.‚Äù</span> Occasionally, consistency itself is downplayed. In one way or another, positions often end up depending on premises that are trivialized, denied, or disproved elsewhere.</p>
<p>Or maybe it just seems that way. Maybe there is misunderstanding rather than negligence, ignorance, or hypocrisy. After all, no one knows all the truths and constraints we are trying to balance. No one knows the amount of effort we‚Äôve put into coherence or the sacrifices we‚Äôve made to accommodate requests of others. No one understands the precise problem we are trying to solve. Perhaps, not even ourselves. Of course, no one knows all the mistakes we‚Äôve made either.</p>
<p>But whether incoherence is real or imagined, it must be untangled to approach truth. Unfortunately, the responsible axioms and connections hide well.</p>
<p>Even with good faith, we talk past each other because we are solving different problems. We misunderstand because these problems aren‚Äôt adequately defined. We make logical errors because the same challenges apply within ourselves.</p>
<h2 id="repetitiveness-and-verbosity">Repetitiveness and Verbosity</h2>
<p>There is little new under the sun. Attempts to explain, prove, and understand involve an overwhelming amount of duplication. This duplication makes continued engagement difficult. Positions become cliches. Arguments become strawmen. Inquiries become annoyances. Adversaries become contemptible.</p>
<p>But careful attention, <a href="https://rationalwiki.org/wiki/Straw_man#Steelmanning">steelmanning</a>, and avoidance of platitudes just leads to complex prose that duplicates in unique, verbose, error-prone ways. Instead of glossing over with compression and simplification, it obscures with volume and nuance. Instead of being countered with opposing platitudes, it gets countered with misunderstanding and pedantry.</p>
<p>To make progress, we need to <a href="https://www.growwiser.com/2015/06/24/magic-and-the-challenge-of-action/#magic-and-communication">discuss the same axiom or connection</a>. Showcasing knowledge elsewhere just encourages more sophisticated <a href="https://en.wikipedia.org/wiki/Talking_past_each_other">talking past each other</a>. And proving&nbsp;such knowledge only further endangers focus and inflates effort.</p>
<p>There are good reasons for quality content to retrace territory. It validates author‚Äôs understanding of the subject and of their interlocutor‚Äôs arguments. It makes the material a more complete work that can stand alone. It makes the subject more accessible to curious bystanders.</p>
<p>But reasons like these come from a time when knowledge was precious and difficult to access. They make less sense in a world of online resources, cheap publishing, and volumes of content optimized for every conceivable audience. Yet publications continue to retrace enough territory to bury their core point. Indeed, resulting discussion rarely ends up centered on anything likely to have been one.</p>
<h2 id="difficulty-of-progress">Difficulty of Making Progress</h2>
<p>Incoherence, repetitiveness, and verbosity wouldn‚Äôt be so bad if language was precise: we could retrace the argument with a bit of effort. Unfortunately, <a href="https://en.wikipedia.org/wiki/Philosophy_of_language">it is anything but</a>.</p>
<p>Every sentence brings a possibility of mistaken construction or interpretation. Every simplification, metaphor, or example can be confused for the point itself or questioned on its accuracy and relevance. Possible interpretations multiply with every statement, repetition, ambiguity, and mistake.</p>
<p>Nor would it be so bad if we had perfect recall: we could return to potential conflicts together with context and when we did resolve issues, we‚Äôd remember how we did it. Unfortunately, all we get is a faint intuition of inconsistency.</p>
<p>It takes much error-prone effort to approach the state where we formed connections that now appear suspect. And we remain uncertain of its differences from the original. This can be true even within the confines of a conversation and only worsens with time. We progress by turning solutions into <a href="https://www.growwiser.com/2015/06/24/magic-and-the-challenge-of-action/">magic</a> and the process is rarely reversible. Even when our magic is a result of exhaustive inquiry, after a enough time we might only be able to stare blankly at an interlocutor who questions it.</p>
<h2 id="positions-as-programs">Positions as Computer Programs</h2>
<p>Positions are comparable to computer programs: they encode beliefs into <a href="https://en.wikipedia.org/wiki/Black_box">systems</a> that provide answers to questions posed by incoming data. Like computer programs they are susceptible to flaws: from invalid assumptions to logical errors, from misprocessed input to unclear output. And computer programs demonstrate just how large, delicate, and <a href="https://en.wikipedia.org/wiki/Programming_complexity">complex</a> the task of making positions explicit is.</p>
<p>But while software engineering has <a href="https://en.wikipedia.org/wiki/Software_design">evolved</a> to reduce the burden and risk, argumentation remains barely at <a href="https://en.wikipedia.org/wiki/Punched_card">punch cards</a>. We continue to interact with positions through ancient approaches despite availability of modern resources, despite the variety and intricacy of modern positions, despite them arguably encoding more information than complex programs.</p>
<p>It is terrifying to imagine modern software without <a href="https://en.wikipedia.org/wiki/Code_reuse">code reuse</a>, <a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)">side-effect management</a>, <a href="https://en.wikipedia.org/wiki/Test_automation">automated testing</a>, <a href="https://en.wikipedia.org/wiki/Version_control">version control</a>, <a href="https://en.wikipedia.org/wiki/Debugging">interactive debugging</a>. Every line of code in every program written from scratch: referencing the work of others, but always reinterpreting and rewriting it in unique ways. Haphazard jumps between program areas being modified. Little verification that changes leave working code. Loose, if any, tracking of the logic behind, or the content of, such jumps and changes. Limited ability to deterministically trace through running code.</p>
<p>Argumentation is worse than even that. It‚Äôs like we try to modify the same code base, but all insist on using separate evolving languages to implement different goals based on distinct assumptions while presuming that our beliefs and intentions are too obvious to be misunderstood. And we all feel entitled to change other people‚Äôs code at will. Incoherence, misunderstanding, repetitiveness, verbosity, and disillusionment indeed.</p>
<h2 id="essence-of-issue">Essence of the Issue</h2>
<p>The core of the problem is that we don‚Äôt store positions in an accessible manner. We develop them through a messy combination of reading, experience, thought, and interaction. Then we turn them into inaccessible magic or relay them using error-prone communication.</p>
<p>Original beliefs and goals become fuzzy. The ‚Äòaha‚Äô moments and their supporting circumstances ‚Äì so crucial to the path we end up taking ‚Äì lose their clarity. We feel evermore compelled to explain, but rarely end up feeling more understood. And we can‚Äôt truly understand positions of others without going through a painstaking, unique, error-prone process comparable to theirs.</p>
<p>Which is stupefying and infuriating because while the specific hierarchy of axioms, constraints, and goals that drives our action and understanding is highly individual, perhaps even unique, few, if any, of the parts are. Nearly every component has been extensively argued, researched, and experimented with. Each has been subdivided into nearly every possible set of coherent axioms, trade-offs, and conclusions. Many of these sets have been named. We should be able to build our positions simply by selecting canonical versions of components that match our beliefs.</p>
<p>The components aren‚Äôt beyond doubt or improvement. But as with <a href="https://en.wikipedia.org/wiki/Library_(computing)">code libraries</a> and the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY programming principle</a>, we should reserve unique explanations and proofs for integrations, deviations, and extensions where we hope to add value. We should not attempt them unnecessarily en route to somewhere else.</p>
<p>The good news is that the work humanity has done over thousands of years to discover, cohere, elaborate, and name these different components is readily accessible. The bad news is that it is accessible in written form with all its imperfections. And many people have generated many words interpreting, reinterpreting, clarifying, embellishing, and confusing these positions so we can‚Äôt trust that use of <a href="https://en.wikipedia.org/wiki/Essentially_contested_concept">same terms</a> describes the same underlying beliefs.</p>
<p>Canonical positions exist, yet can‚Äôt easily be found. We add volumes of prose to explain ourselves. This only buries canonical positions deeper.</p>
<p>The issue isn‚Äôt primarily that of authority. From Wikipedia to the Stanford Encyclopedia of ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/">https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/</a></em></p>]]>
            </description>
            <link>https://www.growwiser.com/2018/10/01/dictionary-of-arguments-and-positions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534203</guid>
            <pubDate>Sun, 20 Sep 2020 14:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yelp: Local Economic Impact Report]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 170 (<a href="https://news.ycombinator.com/item?id=24534186">thread link</a>) | @bookofjoe
<br/>
September 20, 2020 | https://www.yelpeconomicaverage.com/business-closures-update-sep-2020.html | <a href="https://web.archive.org/web/*/https://www.yelpeconomicaverage.com/business-closures-update-sep-2020.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
      
    
    <section>
      <!--<p class='prose flag'><i>If you'd like additional detail on how the economy is shifting, please contact us at <a href='mailto:press@yelp.com'>press@yelp.com</a> or <a class=underline href=http://eepurl.com/cMFvGL target=_blank>join our mailing list</a> to receive an email when new reports are released.</i></p>-->
    
      
        <p>Since the first fears of the pandemic emerged in the U.S. in early March, businesses across the nation have endured six months of uncertainty. Yet, businesses are adapting and proving their resilience through lockdowns, reopenings, a <a href="https://www.nytimes.com/interactive/2020/us/coronavirus-us-cases.html?name=styln-coronavirus-markets&amp;region=TOP_BANNER&amp;variant=1_Show&amp;block=storyline_menu_recirc&amp;action=click&amp;pgtype=Article&amp;impression_id=76e345d2-e946-11ea-8ee3-5b12c6c78bc9" target="_blank">summer surge in virus cases</a>, new ways of doing business such as <a href="https://www.nytimes.com/2020/08/23/nyregion/outdoor-dining-new-york.html" target="_blank">outdoor dining</a>, new mask wearing rules and backlash from <a href="https://www.washingtonpost.com/nation/2020/07/18/covid-pandemic-store-clerk-north-carolina/?arc404=true" target="_blank">anti-mask patrons</a>, as well as milestones such as the <a href="https://www.yelpeconomicaverage.com/back-to-school-2020.html" target="_blank">return to school</a>. Even in the wake of increased closures we‚Äôre seeing businesses effectively transition to new operating models while keeping their employees and consumers safe.</p>
        <p>Yelp closure data shows that businesses providing home, local and professional services have been able to withstand the effects of the pandemic particularly well. But despite bright spots in some sectors, restaurants and retail continue to struggle and total closures nationwide have started to increase.</p>
        <p>The <a href="https://www.yelpeconomicaverage.com/yea-q2-2020.html" target="_blank">last Yelp Economic Average</a> showed a decreasing number of overall closures, 132,580 in total. As of August 31, 163,735 total U.S. businesses on Yelp have closed since the beginning of the pandemic (observed as March 1), a 23% increase since July 10. In the wake of COVID-19 cases increasing and local restrictions continuing to change in many states we‚Äôre seeing both permanent and temporary closures rise across the nation, with 60% of those closed businesses not reopening (97,966 permanently closed).</p>
    </section>
    
    <section>
      <h3>Business Closures Continue to Increase Nationally</h3>
      <h4>Number of businesses marked closed on Yelp that were open March 1</h4>
      <p><i></i>Hover over a circle to see closures</p>
    	
    </section>
    
    <!--
    <section class='report-wrapper'>
    	<h3 class='centered-title'>Business Closures Continue to Increase Nationally</h3>
      <h4 class='centered-title'>Number of businesses marked closed on Yelp that were open March 1</h4>
    
    	<div class='static-image-container'>
    		<img class='static-image-desktop' src='./assets/img/closures092020/Closures_Rate_Desktop-2a05305cb0.png'/>
    		<img class='static-image-tablet' src='./assets/img/closures092020/Closures_Rate_Desktop-2a05305cb0.png'/>
    		<img class='static-image-mobile' src='./assets/img/closures092020/Closures_Rate_Mobile-f0f8a42c99.png'/>
    	</div>
    </section>
    -->    <section>
    	<h2>Resilient Businesses Operating in an Unpredictable Economy</h2>
        <p>Some business sectors have been able to weather the COVID-19 storm particularly well. In general, professional services and solo proprietors as a whole have been able to maintain a relatively low fraction of closures since March 1. This group includes lawyers, real estate agents, architects, and accountants ‚Äì all with only two to three out of every thousand businesses closed, as of August 31. Health related businesses in particular have been able to maintain a low rate of closures ‚Äì orthopedists, internal medicine, hospitals, physicians, family doctors and OB/GYNs all have less than three closures out of every thousand businesses.</p>
        <p>Yelp‚Äôs closure data also shows that demand for <a href="https://blog.yelp.com/2020/08/yelp-reinvents-the-hiring-experience-for-home-and-local-services" target="_blank">home, local</a> and automotive services has remained robust with a far lower rate of closures compared to restaurants and retail. Towing companies, plumbers and contractors in particular have maintained a low rate of closures, with only six to seven out of every thousand businesses closed. In fact, the share of consumer interest in home and local services is up 24% between March 1 and August 31, relative to all categories on Yelp, compared to the same time last year.</p>
    </section>
    
    <section>
    	<h3>Home, Local, Professional, and Auto Services Prove Their Strength Amid the Pandemic</h3>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Sector_Desktop-b84f739960.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Sector_Desktop-b84f739960.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Sector_Mobile-069e01b319.png">
    	</p>
    </section>    <section>
      <h2>Restaurants Remain Hardest Hit, Permanent and Temporary Closures Increase</h2>
        <p>The restaurant industry continues to be among the most impacted with an increasing number of closures ‚Äì totalling 32,109 closures as of August 31, with 19,590 of these business closures indicated to be permanent (61%). Breakfast and brunch restaurants, burger joints, sandwich shops, dessert places and Mexican restaurants are among the types of restaurants with the highest rate of business closures. Foods that work well for delivery and takeout have been able to keep their closure rates lower than others, including pizza places, delis, food trucks, bakeries and coffee shops.</p>
        <p>Meanwhile, bars and nightlife, an industry 6X smaller than restaurants, has endured an especially high closure rate, with an increasing percentage of closures being permanent. As of the end of August there were 6,451 total business closures, of which 3,499 were permanently closed (54%). The share of permanent closures within bars and nightlife have increased by 10% since our <a href="https://www.yelpeconomicaverage.com/yea-q2-2020.html" target="_blank">Economic Average Report</a> in July.</p>
        <p>Retail and shopping follows closely behind restaurants with 30,374 total business closures, 17,503 of which are permanent (58%). Similar to bars and nightlife, the share of permanent closures increased by 10% since July. Both men and women‚Äôs clothing, as well as home decor, have the highest rate of business closures.</p>
        <p>The beauty industry has seen a 22% increase in closures since July, totalling 16,585 closures. Of all closed businesses in the beauty industry 7,002 won‚Äôt reopen (42%), a significant 43% increase since July when we reported that 4,897 of all closures in the beauty industry were permanent. Similarly the fitness industry has endured a 23% increase in closures since July, with 6,024 total closures, 2,616 of which are permanently closed.</p>
    </section>
    
    <section>
    	<h3>Restaurants and Retail Continue to Struggle</h3>
      <h4>Number of businesses marked closed on Yelp that were open March 1</h4>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Category_Desktop-91d671567c.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Category_Desktop-91d671567c.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Category_Mobile-529b856e87.png">
    	</p>
    </section>    <section>
      <h2>Larger States and Metros See a Greater COVID-19 Impact on Local Businesses</h2>
        <p>Even as the pandemic spreads nationally, geographically Yelp data shows business closure rates vary across the country. Bigger states and metros with higher rents and more stringent local operations for small businesses throughout the last six months have felt a greater toll. So have businesses more closely linked to physical locations that require crowds of consumers to attain profitability. Meanwhile, smaller cities and solo operations that can do their work one-on-one or virtually have proven better positioned to stay in business.</p>
        <p>For the states with widespread business closures, the economic struggle appears to be closely coupled with unemployment rates. Hawaii, California, and Nevada have the highest rate of total closures and permanent closures ‚Äì they‚Äôre also the three states with the <a href="https://finance.yahoo.com/news/these-states-are-suffering-from-the-worst-unemployment-rates-144451899.html?guccounter=1&amp;guce_referrer=aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8&amp;guce_referrer_sig=AQAAABND8yZDak2Xg6GnNC9LukDHqDayj3GYnFbfZn_9NctEnowVC1JMpg9oZFKixnWrRLGLPortUEEaymyEAYmZ0jMN8vOuriLR1N7S0Roqv9OT99H-WdN5XH_sd_I_r0-EgEJSDExY9yTtI7Xduv3Q-Agxb55dUepi3-k8T1fGZ153" target="_blank">highest unemployment rates</a>, and among the <a href="https://www.worldatlas.com/articles/the-most-visited-states-in-the-us.html" target="_blank">biggest states for tourism</a>. Meanwhile, West Virginia and the Dakotas have the lowest closure rates.</p>
        <p>The states with the most closures are home to the hardest-hit metros: Las Vegas in Nevada, Honolulu in Hawaii, and several of the largest California urban areas all are among the metro areas with the highest total closure and permanent closure rates (San Diego, San Francisco, San Jose, Los Angeles and others), with roughly 20 businesses per thousand temporarily or permanently closing their doors since March 1. Larger metros with far fewer closures tend to be in the East, including Pittsburgh, Philadelphia, and Baltimore, all with closure rates below 10 per thousand.</p>
    </section>
    
    <section>
    	<h3>Where are the Most Businesses Closed?</h3>
      <h4>Geographic areas with the largest number of business closures since March 1</h4>
    	<div>
    		<p>Total Closures</p>
    		<p>Closures per 1,000</p>
    	</div>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Total_Desktop-dce0442da9.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Total_Desktop-dce0442da9.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Total_Mobile-98f53c8115.png">
    	</p>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Capita_Desktop-846de29ad1.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Capita_Desktop-846de29ad1.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/closures092020/Closures_Geography_Capita_Mobile-1878bbd645.png">
    	</p>
    </section>
    <section>
        <p>Keep an eye out for our next update in our Q3 <a href="https://www.yelpeconomicaverage.com/index.html" target="_blank">Yelp Economic Average</a>.</p>
        <p>‚ÄîCarl Bialik and Daniel Gole contributed to this report</p>
    </section>
    
    <section>
        <p><em>If you'd like additional detail on how the economy is shifting, please contact us at <a href="https://www.yelpeconomicaverage.com/cdn-cgi/l/email-protection#2b5b594e58586b524e475b05484446"><span data-cfemail="d3a3a1b6a0a093aab6bfa3fdb0bcbe">[email&nbsp;protected]</span></a> or <a href="http://eepurl.com/cMFvGL" target="_blank">join our mailing list</a> to receive an email when new reports are released.</em></p>
        <p><em>Interested in learning how Yelp data can assist you in developing market insights for your business? Yelp Knowledge can help, learn more <a href="https://www.yelp.com/knowledge" target="_blank">here</a>.</em></p>
    </section>
    
    
    <!--
    <section class='report-wrapper'>
    </section>
    -->
    
    <section>
    	
    	<h2>Methodology</h2>
    
    		<p><em>Business Closures</em></p>
    		<p>On each date, starting with March 1, we count U.S. businesses that were open on March 1 and were closed on that day. Closure can be permanent or temporary, and is signaled by a business owner marking the business as closed, including by changing its hours or through a COVID-19 banner on its Yelp page. Closure counts are likely an estimate of the businesses most impacted, with many others not counted because they remain open with curtailed hours and staffing, or because they have not yet updated their Yelp business pages to reflect closures. Additionally, we only count closures that have been vetted by our User Ops team or have been updated directly by a business owner. Closures are counted by state, metro area, and category; some businesses are in more than one category. Businesses can also set automatic reopening dates on Yelp, which are counted as reopenings unless the business updates their information.</p>
    		<p><em>Downloadable static graphics can be found <a href="https://drive.google.com/drive/folders/1kSIOmVz_06NEP37NRfkODkzrpE0lAl3X?usp=sharing" target="_blank">here</a>.</em></p>
    		<p><em>See Yelp's previous Local Economic Impact Reports at our Data Science Medium, <a href="https://medium.com/tag/yelp-coronavirus-report/archive" target="_blank">Locally Optimal</a>.</em></p>
    </section>
    <section>
      <!-- <p class='prose'><strong>Interested in the numbers behind YEA? Check out the <a class='underline' href='./methodology.html'>methodology</a>.</strong></p> -->
      
    </section>    
  </div></div>]]>
            </description>
            <link>https://www.yelpeconomicaverage.com/business-closures-update-sep-2020.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534186</guid>
            <pubDate>Sun, 20 Sep 2020 14:17:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Syntax for Self-Tracking]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534179">thread link</a>) | @mg
<br/>
September 20, 2020 | https://www.gibney.de/a_syntax_for_self-tracking | <a href="https://web.archive.org/web/*/https://www.gibney.de/a_syntax_for_self-tracking">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div><meta property="og:image" content="https://www.gibney.de/images/direct/cat_size02/162.jpg?v2">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@marekgibney">
<meta name="twitter:title" content="A Syntax for Self-Tracking">
<meta name="twitter:description" content="How I keep a machine readable self-tracking log in a text file.">
<meta name="twitter:image" content="http://www.gibney.de/images/direct/cat_size02/162.jpg?v2">





<p>For a while now, I have been doing self-tracking in a text file. The reason is that I want to track not only one aspect of life, like fitness or health or nutrition, but anything that I suspect might be interesting to analyze later. Like how the time I wake up impacts my mood. Or which eye drops work best to prevent dry eyes. Or how the temperature of my bedroom impacts my energy the next day. Did I wake up with a headache because I ate pizza late at night? Or because I slept with the window wide open? Maybe I should avoid one of these in the future?</p>

<p>If a completely context-free self-tracking app exists, I am not aware of it. Every tracking app seems to apply only to a certain narrow topic - often sport or food. And then all the apps send the data to a central server, which makes me uncomfortable.</p>

<p>To get started experimenting with context-free self-tracking, I tried it in a simple text file. As it turns out, it is surprisingly doable, and it has led me to a bunch of interesting results already.</p>

<p>It has led to a data structure that I find useful to do context-free self-tracking. A bit like the Git data structure: you can manipulate it with simple tools, and if you are nerd enough you might stick with those. I, for example, use only raw Git to do version control. And I only use Vim to operate on the self-tracking data structure I describe in this article. The general population would probably prefer higher-level tools (i.e., an app), which I will probably write later on. But first I want to get the data structure right.</p>

<p>I started with a simple space-separated approach of "date time event":</p>

<p>
2020-05-28 18:41 Eat Pizza<br>
2020-05-29 09:00 Slept with the window open<br>
2020-05-29 09:00 Headaches<br>
</p>

<p>Everything is freeform. There is just one rule:</p>

<p>
 1: Every line starts with the date and time
</p>

<p>This gives me the complete freedom to log whatever data I want. But I knew there would be more than just free text logging in the future. Structured logging of quantities (how many kilometers I ran, how many hours I slept), fine-grain data on multiple levels (How strong is the headache? Is it on the right or left side?), proper A/B tests, etc. I wanted to keep the option to introduce all this into the syntax without losing the freedom of logging free text. So I made this second rule:</p>

<p>
2: Everything until [^a-z ] describes an observation
</p>

<p>(A non-technical way to put it: Everything that only consists of the characters A-Z plus the space sign describes an observation.)</p>

<p>To do away with any confusion about capitalization, I decided to make everything case-insensitive:</p>

<p>
3: Uppercase characters equal their lowercase counterparts
</p>

<p>This way, I can write anything into the log that comes to my mind without thinking about syntax at all. As long as I stick to the characters A-Z and the space, I can log anything in any way I like.</p>

<p>Another early design decision about my self-tracking was that it is OK to write events into the log at any time. So I wrote all three log entries above at 09:00 in the morning, even the one about 18:41 of the last day. It is impossible to proactively track everything that could be of interest later. This is different to scientific studies where you would usually define upfront which causes to measure against which outcomes. But I think it is still useful to retroactively log data in the hopes that you can later make sense of it. That is how the human mind works. It's normal to think about past events when you try to find causes for the current situation. And I think a proper lifelong log can help us with this, even if we do not set up A/B tests - but we will, further down in this article.</p>

<p>As you can see, I also took the liberty to log observations about the past. "Slept with the window open." An acceptable alternative is to retroactively put the beginning of the event into the log, like I did with the pizza:</p>

<p>
2020-05-28 18:41 Eat Pizza<br>
2020-05-28 23:20 Go to bed with the window open<br>
2020-05-29 09:00 Headaches<br>
</p>

<p>The idea is to log a lot of data quickly when I feel like logging it. The data can be dirty. No problem - clean it up later. Keep it in Git to have a track record how it changed.</p>

<p>A nice convenience in Vim is that you can make it suggest the next word by pressing CTRL+N. This makes logging very fast. Instead of typing "Headache" you can just type H and CTRL+N and it will give you a list of every word with H you already have in your log. It also prevents typos and makes the data cleaner.</p>

<p>For even greater convenience, I added another rule to my syntax:</p>

<p>
4: _ equals space.
</p>

<p>This means that instead of writing "Slept with the window open" I can write "Slept_with_the_window_open". From a data perspective, the two are equivalent. But for typing, now all I have to do is type S-CTRL+N and I get the whole event suggested by Vim "Slept_with_the_window_open". Which makes typing this event a matter of three keystrokes and keeps the data clean as I will always write it the same way.</p>

<p>At this point, writing the events was already super fast. The most cumbersome part of logging was typing the date and time manually. So I added a shortcut to Vim:</p>

<p>
nnoremap &lt;space&gt;t o&lt;C-r&gt;=strftime("%F %H:%M ")&lt;cr&gt;
</p>

<p>Now all I have to do to add a log line is to hit space+t and I will be on a line that already has the date and time. So I can directly start typing the event that I want to log. Making a log entry now usually only takes about three seconds as the date/time is automatically inserted and the event is usually suggested too after I type the first few characters.</p>

<p>After dabbling with freeform log events for a while, I wanted multiple levels of an observation. So instead of</p>

<p>
2020-06-01 18:41 Meeting with Hugo Mayer
</p>

<p>I started writing:</p>

<p>
2020-06-01 17:00 Meeting: Hugo Mayer
</p>

<p>So the colon has a special meaning:</p>

<p>
5: A colon begins another level of the observation
</p>

<p>I use this for measurements all the time:</p>

<p>
2020-06-02 11:00 Temperature: 22¬∞C<br>
2020-06-02 11:00 Humidity: 43%
</p>

<p>And also for subjective measurements:</p>

<p>
2020-06-02 12:15 Mood: Very Good<br>
2020-06-04 13:20 Sore eyes: Medium<br>
</p>

<p>There can be multiple colons in one line. For example, the following would log that I had sore eyes and felt it mostly in my left eye:</p>

<p>
2020-06-04 13:20 Sore eyes: Medium: Mostly Left
</p>

<h2>A/B Tests</h2>

<p>What about A/B tests? Maybe it is not the pizza that causes headaches the next day, but that eating pizza and having a headache the next day have the same root cause, like not eating enough for breakfast?</p>

<p>Here comes the question mark:</p>

<p>
2020-06-05 22:30 Eat: Pizza? Yes
</p>

<p>A question mark marks a coin flip. So if I say to myself, "I am hungry, but should I really eat pizza at this time?" then I write down the thing I am about to do and add a question mark. This means I will now have to do a coin flip and decide between Yes and No. Yes means the event left to the coin flip took place. No means it did not.</p>

<p>To make this easier, I added this shortcut to my bashrc:</p>

<p>
alias coindecide='if (( RANDOM % 2 == 0 )); then echo Yes; else echo No; fi'
</p>

<p>So now I can just type "coindecide&lt;enter&gt;" to get a decision by coin flip. And since bash has autocompletion, I usually just type "coi&lt;tab&gt;&lt;enter&gt;" and have my decision. Super fast.</p>

<p>I could have put a coindecide macro into Vim, of course. But it is a nice tool in many situations, not only when writing. So I added it to the shell instead.</p>

<h2>Additional information</h2>

<p>To be able to put more info into the log even in lines structured according to the aforementioned six rules, I use parenthesis:</p>

<p>
2020-07-08 12:30 Take a walk? Yes (60min)
</p>



<p>
7: Parenthesis can be used to add additional information
</p>

<h2>Order</h2>

<p>Since I want a human-friendly format, the time is only tracked by the minute. This means that the order of events that are happening within the same minute is defined by their order in the log.
This is important when using tools on the log to convert, filter, or merge it with other logs. Or when importing it into a database. Order always has to be preserved.</p>

<p>
8: Order is important
</p>

<p>So these are the eight rules I have been developing over the last five months of self-tracking:</p>

<p>
1: Every line starts with the date and time<br>
2: Everything until [^a-z ] describes an observation<br>
3: Uppercase characters equal their lowercase counterparts<br>
4: _ equals space<br>
5: A colon begins another level of the observation<br>
6: A question mark indicates a coin flip<br>
7: Parenthesis can be used to add more information<br>
8: Order is important<br>
</p>

<p>
 Discussions about this text are taking place on <a href="https://twitter.com/marekgibney/status/1307690563198750723" target="_blank">Twitter</a> and <a href="https://lobste.rs/s/ri5utx/syntax_for_self_tracking" target="_blank">Lobste.rs</a>
</p></div>


</div></div>]]>
            </description>
            <link>https://www.gibney.de/a_syntax_for_self-tracking</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534179</guid>
            <pubDate>Sun, 20 Sep 2020 14:16:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Web Assembly Playground]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24534088">thread link</a>) | @lanecwagner
<br/>
September 20, 2020 | https://app.qvault.io/playground/python | <a href="https://web.archive.org/web/*/https://app.qvault.io/playground/python">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://app.qvault.io/playground/python</link>
            <guid isPermaLink="false">hacker-news-small-sites-24534088</guid>
            <pubDate>Sun, 20 Sep 2020 14:00:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why explore Venus, besides finding life]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533926">thread link</a>) | @uncertainquark
<br/>
September 20, 2020 | https://jatan.space/why-explore-venus/ | <a href="https://web.archive.org/web/*/https://jatan.space/why-explore-venus/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div><figure><img loading="lazy" width="720" height="720" src="https://i2.wp.com/jatan.space/wp-content/uploads/2020/05/venus-visible-radar.jpg?resize=720%2C720&amp;ssl=1" alt="" srcset="https://i2.wp.com/jatan.space/wp-content/uploads/2020/05/venus-visible-radar.jpg?w=720&amp;ssl=1 720w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/05/venus-visible-radar.jpg?resize=200%2C200&amp;ssl=1 200w, https://i2.wp.com/jatan.space/wp-content/uploads/2020/05/venus-visible-radar.jpg?resize=400%2C400&amp;ssl=1 400w" sizes="(max-width: 720px) 100vw, 720px" data-recalc-dims="1"><figcaption>Left ‚Äì Venus as it would approximately look to the human eye, imaged by NASA‚Äôs Mariner 10 spacecraft (<a href="https://www.planetary.org/multimedia/space-images/venus/global-view-of-venus-from.html">full globe view</a>), Right ‚Äì Radar image (false-color) of Venus‚Äô surface taken by NASA‚Äôs Magellan orbiter (<a href="https://photojournal.jpl.nasa.gov/catalog/PIA00104">full globe view</a>).</figcaption></figure></div>



<h3>Why study Venus?</h3>



<p>The Sun rises in the east and sets in the west, except if you are on Venus. That‚Äôs because it rotates on its axis in the opposite direction from other planets, and nobody knows why. This is just one of the many mysteries of Venus, a cloud-shrouded hellscape with an atmosphere 50 times denser than Earth‚Äôs, and average surface temperatures of 470 degrees Celsius ‚Äî hot enough to melt lead.</p>



<p>Venus is currently inhospitable, but it wasn‚Äôt always that way. Past missions there have observed <a href="https://www.semanticscholar.org/paper/Felsic-highland-crust-on-Venus-suggested-by-Galileo-Hashimoto-Roos-Serote/e251f805ea0cc28680788f0dc865acde415cda38">granite-like rocks</a> on the surface, which require abundant water to form. In the early solar system when the Sun was cooler, scientists think Venus may have had <a href="https://www.nasa.gov/feature/goddard/2016/nasa-climate-modeling-suggests-venus-may-have-been-habitable">liquid water on the surface for two billion years</a>‚Äîfar longer than Mars, which may have had liquid water for <a href="https://www.planetary.org/blogs/guest-blogs/2019/mars-water-stable-paradox.html">300 million years</a>. Water is the key to life as we know it, so did Venus once have life?</p>



<div><figure><img loading="lazy" width="4096" height="4096" src="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?fit=1024%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?w=4096&amp;ssl=1 4096w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=200%2C200&amp;ssl=1 200w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=1536%2C1536&amp;ssl=1 1536w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=2048%2C2048&amp;ssl=1 2048w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=1200%2C1200&amp;ssl=1 1200w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=800%2C800&amp;ssl=1 800w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?resize=400%2C400&amp;ssl=1 400w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?w=2400&amp;ssl=1 2400w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/ancient-venus-water-oceans.jpg?w=3600&amp;ssl=1 3600w" sizes="(max-width: 1200px) 100vw, 1200px"><figcaption>This artist‚Äôs rendering shows what Venus might have looked like in the past, boasting a global ocean. <a href="https://www.nasa.gov/feature/goddard/2016/nasa-climate-modeling-suggests-venus-may-have-been-habitable">Credit: NASA</a></figcaption></figure></div>



<pre><strong>The hottest planet</strong>
Venus is the hottest planet in the solar system, even though Mercury is twice as close to the Sun and receives four times more solar energy. The reason? Mercury has no atmosphere, whereas Venus‚Äô thick, carbon dioxide atmosphere creates a runaway greenhouse effect, trapping in heat. That‚Äôs also why unlike Mercury whose nightside can get as cold as -220 degrees Celsius, Venus continues to be equally hot even at night.</pre>



<p>How did Venus transform from a potentially habitable world to its current hellish state? Studying Venus helps scientists get answers to questions like that while simultaneously gaining insights into what makes Earth a haven for life. Scientists also use Venus as a reference to understand how Earth-sized planets around other stars evolve and what conditions might exist there. To that end, Venus also helps scientists model Earth‚Äôs climate, and serves as a cautionary tale on how dramatically a planet‚Äôs climate can change.</p>



<p>There is also a <a href="https://www.liebertpub.com/doi/10.1089/ast.2017.1783">slim chance microbial life currently exists</a> in Venus‚Äôs upper atmosphere, where mysterious dark patches absorb more than half the solar energy the planet receives. This region, approximately 50 kilometers above the surface, has Earth-like temperatures and pressures. In September 2020, scientists announced that Earth-based radio telescopes have <a href="https://ras.ac.uk/news-and-press/news/hints-life-venus">detected phosphine molecules</a> in this region, which could be a biosignature of microbial life. Venus is on average almost three times closer to Earth than Mars, often shining as a bright evening star in our skies. Have we been looking for life on the wrong planet?</p>



<h3>A brief history of Venus exploration</h3>



<p>Venus was the first planet to be visited by a spacecraft. In 1962, NASA‚Äôs Mariner 2 flew by the planet and discovered it was a hot world with no self-generated magnetic field. The Soviet Union became the world leader in early Venus exploration after that.</p>



<p>The Soviet Union sent the Venera 4, 5 and 6 spacecraft to explore Venus‚Äô atmosphere in the same decade. As the probes descended, their instruments revealed the dense atmosphere to contain 96% carbon dioxide and atmospheric pressures to exceed Earth‚Äôs by 50 to 100 times, depending on the altitude.</p>



<p>The Soviet Union then went on to successfully land ten spacecraft on Venus from 1970 to 1985 ‚Äì the Venera landers labelled 7 through 14 and Vega 1 &amp; 2. During their atmospheric descent, their instruments measured temperature and pressure profiles, elemental makeup of Venus‚Äô clouds and their layering. After landing, these spacecraft lasted from a few tens of minutes to two hours at best under the harsh conditions. During that time, they took the first and the only images of Venus‚Äô surface and also determined the chemical composition of nearby rocks. To this day, the Soviet Union remains the only nation to have landed spacecraft on the surface and transmitted both data and images back to Earth.</p>



<div><figure><img loading="lazy" width="960" height="481" src="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-venera-13.jpg?resize=960%2C481&amp;ssl=1" alt="" srcset="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-venera-13.jpg?w=960&amp;ssl=1 960w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-venera-13.jpg?resize=200%2C100&amp;ssl=1 200w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-venera-13.jpg?resize=768%2C385&amp;ssl=1 768w" sizes="(max-width: 960px) 100vw, 960px" data-recalc-dims="1"><figcaption>Composite views created from images of Venus‚Äô surface taken by the Soviet Venera 13 Venus lander. Credit: Venera team/Don P. Mitchell.</figcaption></figure></div>



<p>Due to thick clouds, it is impossible to see Venus‚Äô surface without radar. NASA‚Äôs Magellan orbiter, launched in 1990, used radar to map Venus‚Äô surface at the highest resolution to date. Magellan revealed that all of the planet‚Äôs impact craters are formed <a href="https://www.semanticscholar.org/paper/VOLCANISM-AND-TECTONICS-ON-VENUS-Nimmo-Mckenzie/ca688453629b3971152c65443da14675fcbe3cf8">within the last 700 million years</a>. This implies that Venus‚Äô surface was completely reshaped by a worldwide volcanic event in its recent geologic past‚Äîbut <a href="https://www.planetary.org/blogs/guest-blogs/the-venus-controversy.html">exactly what happened is still up for debate</a>.</p>



<p>Magellan also found no sign of plate tectonics. On Earth, plate tectonics is a process in which sections of the planet‚Äôs outer crust glide over the mantle‚Äîthe rocky inner layer above the core‚Äîallowing heat to escape through volcanism. Since we think Venus‚Äôs interior is similar to Earth‚Äôs, the lack of plate tectonics means that volcanoes on Venus must work differently than on Earth.</p>



<figure><img loading="lazy" width="1200" height="675" src="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?resize=1200%2C675&amp;ssl=1" alt="" srcset="https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?w=1249&amp;ssl=1 1249w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?resize=200%2C113&amp;ssl=1 200w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/jatan.space/wp-content/uploads/2020/05/venus-surface-volcano-crater-magellan-radar.jpg?resize=1200%2C675&amp;ssl=1 1200w" sizes="(max-width: 1200px) 100vw, 1200px" data-recalc-dims="1"><figcaption>This 3D image of Venus‚Äô surface was generated using radar data from NASA‚Äôs Magellan spacecraft. The 3-kilometer-tall volcano Gula Mons can be seen on the horizon, along with the 48-kilometer-wide Cunitz crater at near-center. <a href="https://photojournal.jpl.nasa.gov/catalog/PIA00233">Credit: NASA</a></figcaption></figure>



<p>The European Space Agency launched the Venus Express orbiter in 2006. By observing <a href="http://www.esa.int/Science_Exploration/Space_Science/Venus_Express/Hot_lava_flows_discovered_on_Venus">hotspots on the surface</a> and <a href="http://www.esa.int/Science_Exploration/Space_Science/Venus_Express/Have_Venusian_volcanoes_been_caught_in_the_act">changing sulfur dioxide levels</a> in the atmosphere over six years, the spacecraft collected the best evidence yet of active volcanism on Venus. Venus Express also discovered granite-like rocks across the planet that require abundant liquid water to form, solidifying the idea of the planet having past oceans.</p>



<p>Japan‚Äôs Akatsuki spacecraft is the only probe currently orbiting Venus. It <a href="https://www.bbc.com/news/science-environment-38638067">discovered a giant stationary wave</a> in Venus‚Äô atmosphere that stretches across the planet, the largest of its kind in the solar system. Akatsuki continues to study Venus‚Äôs atmosphere in frequencies of light that human eyes cannot see, specifically ultraviolet, infrared, microwave and radio, so as to paint a complete picture of happenings on Venus.</p>



<h3>The road ahead</h3>



<p>Only three missions have visited Venus in the past 30 years, and many scientists feel <a href="https://www.planetary.org/blogs/guest-blogs/2020/the-next-10-years.html">new missions are long overdue</a>. The idea that Venus used to be at least as habitable as Mars and for a much longer period warrants further exploration and can have profound implications. Thanks to technological advancements in the last two decades, we can now unravel many of Venus‚Äô mysteries.</p>



<p>Precise atmospheric measurements with a probe could test the hypothesis of microbial life in Venus‚Äô upper atmosphere. Atmospheric probes would also analyze the extent that water may have existed on the surface, what the planet‚Äôs atmosphere was like, and how it changed into its present-day state. A spacecraft with a higher-resolution radar could help us solve the mystery of how Venus‚Äôs surface changed within the last billion years.</p>



<p>India aims to launch a Venus orbiter called Shukrayaan in 2023 equipped with a radar and infrared camera to map the surface. The spacecraft has a total of 12 instruments, and India‚Äôs space agency ISRO has <a href="https://www.isro.gov.in/sites/default/files/ao_venus.pdf">called for instrument proposals</a> in which scientists from international space agencies, including NASA, are expected to participate.</p>



<p>In February 2020 <a href="https://www.nasa.gov/press-release/nasa-selects-four-possible-missions-to-study-the-secrets-of-the-solar-system">NASA announced the selection of 4 mission concepts</a> that are under consideration to fly as part of the agency‚Äôs low-cost Discovery program. Two of these are Venus missions, DAVINCI+ and VERITAS.</p>



<p>DAVINCI+ consists of an orbiter and an atmospheric descent probe. The probe would make high precision measurements of trace gases in Venus‚Äô atmosphere, helping firmly determine how much water Venus‚Äô oceans had and how long they existed.</p>



<p>VERITAS will orbit Venus with a state-of-the-art radar and map the entire planet up to 100 times higher resolution than Magellan. This would give scientists a better handle on Venus‚Äô geology and evolution and also reveal why the planet lacks large-scale plate tectonics.</p>



<p>Scientists hope that results from all these future orbiters will pave the way for renewed surface exploration of Venus, including roving platforms built specifically to endure the harsh environment.</p>



<hr>



<p><em>Originally published at <a href="https://www.planetary.org/explore/space-topics/venus/venus.html">The Planetary Society</a>.</em></p>

</div></div>]]>
            </description>
            <link>https://jatan.space/why-explore-venus/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533926</guid>
            <pubDate>Sun, 20 Sep 2020 13:31:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing Terraform Stacks with TypeScript]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533905">thread link</a>) | @juliankrispel
<br/>
September 20, 2020 | https://jkrsp.com/writing-terraform-with-typescript/ | <a href="https://web.archive.org/web/*/https://jkrsp.com/writing-terraform-with-typescript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>You may or may not have heard about the release of the <a href="https://github.com/hashicorp/terraform-cdk">terraform cdk</a> (short for cloud development kit). It‚Äôs HashiCorps answer to the aws cdk. In the words of the projects readme:</p>
<blockquote>
<p>CDK (Cloud Development Kit) for Terraform allows developers to use familiar programming languages to define cloud infrastructure and provision it through HashiCorp Terraform.</p>
</blockquote>
<p>Let‚Äôs try this out shall we?</p>
<p>To get the full developer experience, make sure you have <a href="https://github.com/Microsoft/TypeScript/wiki/TypeScript-Editor-Support">typescript support installed for your IDE</a></p>
<p><span>
      <a href="https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/00172/cover.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="autocomplete-terraform" title="autocomplete-terraform" src="https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/fcda8/cover.png" srcset="https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/12f09/cover.png 148w,
https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/e4a3f/cover.png 295w,
https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/fcda8/cover.png 590w,
https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/efc66/cover.png 885w,
https://jkrsp.com/static/006a51697ab63c90c57788793394fd25/00172/cover.png 1044w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h3>Generating the boilerplate</h3>
<p>Let‚Äôs open our terminal and install install cdktf-cli:</p>

<p>Next we‚Äôll initialize the project</p>
<div data-language="bash"><pre><code><span>mkdir</span> hello-cdktf
<span>cd</span> hello-cdktf
cdktf init --template<span>=</span><span>"typescript"</span> --local</code></pre></div>
<p>Answer the two configuration questions and the project boilerplate will be generated.</p>
<p>Now we should see a <code>main.ts</code> file with the following contents in our folder:</p>
<div data-language="ts"><pre><code><span>import</span> <span>{</span> Construct <span>}</span> <span>from</span> <span>'constructs'</span><span>;</span>
<span>import</span> <span>{</span> App<span>,</span> TerraformStack <span>}</span> <span>from</span> <span>'cdktf'</span><span>;</span>

<span>class</span> <span>MyStack</span> <span>extends</span> <span>TerraformStack</span> <span>{</span>
  <span>constructor</span><span>(</span>scope<span>:</span> Construct<span>,</span> name<span>:</span> <span>string</span><span>)</span> <span>{</span>
    <span>super</span><span>(</span>scope<span>,</span> name<span>)</span><span>;</span>

    

  <span>}</span>
<span>}</span>

<span>const</span> app <span>=</span> <span>new</span> <span>App</span><span>(</span><span>)</span><span>;</span>
<span>new</span> <span>MyStack</span><span>(</span>app<span>,</span> <span>'hello-cdktf2'</span><span>)</span><span>;</span>
app<span>.</span><span>synth</span><span>(</span><span>)</span><span>;</span></code></pre></div>
<h3>Adding a provider package and importing modules from it</h3>
<p>After generation finishes you‚Äôll see a message in the console listing instructions of what to do next. To add the prebuilt aws provider (which also gives us all the modules and types that we might want).</p>
<div data-language="bash"><pre><code><span>npm</span> <span>install</span> -a @cdktf/provider-aws</code></pre></div>
<p>Now you can import modules from <code>@cdktf/provider-aws</code> such as <code>AwsProvider</code> and others. We‚Äôll go for the <code>AwsProvider</code>, <code>LambdaFunction</code> and <code>IamRole</code>. Add this at the top of your file:</p>
<div data-language="ts"><pre><code><span>import</span> <span>{</span> AwsProvider<span>,</span> LambdaFunction<span>,</span> IamRole <span>}</span> <span>from</span> <span>'@cdktf/provider-aws'</span><span>;</span></code></pre></div>
<p>and then create an AwsProvider in your stack:</p>
<div data-language="ts"><pre><code><span>new</span> <span>AwsProvider</span><span>(</span><span>this</span><span>,</span> <span>'aws'</span><span>,</span> <span>{</span>
  region<span>:</span> <span>'eu-west-2'</span>
<span>}</span><span>)</span></code></pre></div>
<h3>Adding a lambda function to our stack</h3>
<p>To create a lambda we need to define an IAM role at first. Boring, but made easier by autocomplete of cours. Anyway here‚Äôs the default policy:</p>
<div data-language="ts"><pre><code><span>const</span> roleForLambda <span>=</span> <span>new</span> <span>IamRole</span><span>(</span><span>this</span><span>,</span> <span>'iam-role-for-lambda'</span><span>,</span> <span>{</span>
  name<span>:</span> <span>'iam-role-for-lambda'</span><span>,</span>
  assumeRolePolicy<span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>{</span>
    <span>"Version"</span><span>:</span> <span>"2012-10-17"</span><span>,</span>
    <span>"Statement"</span><span>:</span> <span>[</span>
      <span>{</span>
        <span>"Action"</span><span>:</span> <span>"sts:AssumeRole"</span><span>,</span>
        <span>"Principal"</span><span>:</span> <span>{</span>
          <span>"Service"</span><span>:</span> <span>"lambda.amazonaws.com"</span>
        <span>}</span><span>,</span>
        <span>"Effect"</span><span>:</span> <span>"Allow"</span>
      <span>}</span>
    <span>]</span>
  <span>}</span><span>)</span>
<span>}</span><span>)</span></code></pre></div>
<p>Now we can add a lambda function to the stack like this:</p>
<div data-language="typescript"><pre><code><span>new</span> <span>LambdaFunction</span><span>(</span><span>this</span><span>,</span> <span>'hello-world'</span><span>,</span> <span>{</span>
  filename<span>:</span> process<span>.</span><span>cwd</span><span>(</span><span>)</span> <span>+</span> <span>'hello-world.zip'</span>
  functionName<span>:</span> <span>'hello-world'</span><span>,</span>
  handler<span>:</span> <span>'index.handler'</span><span>,</span>
  runtime<span>:</span> <span>'nodejs12.x'</span><span>,</span>
  role<span>:</span> roleForLambda<span>.</span>arn<span>,</span>
<span>}</span><span>)</span></code></pre></div>
<p>You will need to zip your lambda function - which is usually a separate step before running terraform. For example sake, let‚Äôs say you have a file in your project named <code>hello-world.js</code>:</p>
<div data-language="js"><pre><code><span>export</span> <span>const</span> <span>handler</span> <span>=</span> <span>async</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>{</span> hello<span>:</span> world <span>}</span>
<span>}</span></code></pre></div>
<p>Then zip your lambda <code>zip -r lambda.zip hello-world.js</code></p>
<h3>Deploying your stack</h3>
<p>Before you deploy don‚Äôt forget need to <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html">have your aws credentials in your path</a>.</p>
<p>Now that you have everything ready you can deploy your stack with <code>cdktf deploy</code>. This command will display an execution plan and ask you if you want to deploy. Press the <code>Y</code> and <code>Enter</code> key to deploy.</p>
<p>Any errors at this stage should be farely self-explanatory. If they don‚Äôt make sense, google the error message - other people have likely run into the same problem.</p>
<hr>
<p>If you‚Äôre a terraform user and you‚Äôve used the <code>lambda_function</code> module before, you‚Äôll notice that the configuration is exactly the same.</p>
<p>Ultimately, when you run <code>cdktf synth</code> cdktf compiles your javascript/typescript modules into terraforms alternative <a href="https://www.terraform.io/docs/configuration/syntax-json.html"><code>JSON</code> configuration syntax</a>.</p>
<p>This is an extremely powerful feature of terraform‚Äôs design since it can be a compile target not just for javascript and typescript, but any kind of language. The open source community could add it‚Äôs own language compilers.</p>
<p>Why not write one in rust? üòÖ</p></section></div>]]>
            </description>
            <link>https://jkrsp.com/writing-terraform-with-typescript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533905</guid>
            <pubDate>Sun, 20 Sep 2020 13:28:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Read the Paper: Don't Be a Victim of Algorithms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533774">thread link</a>) | @robmay
<br/>
September 20, 2020 | http://coconutheadsets.com/2020/09/read-the-paper-dont-be-a-victim-of-algorithms/ | <a href="https://web.archive.org/web/*/http://coconutheadsets.com/2020/09/read-the-paper-dont-be-a-victim-of-algorithms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-63">
		
	
	<div>
		
<p>There are a few lessons I‚Äôve learned in life.  The first was about reading hard things.  I started my career as an ASIC/FPGA designer, and I often designed chips that had to connect to other integrated circuits.  These ICs often had specification documents that described how they worked that were over 100 pages long.  I found it difficult to read through them, and I could rarely find what I was looking for, so I frequently asked colleagues questions about those ICs.  They would get frustrated and point to page 70 where I could find the answer.  And so I realized that I needed to suck it up and learn to read these dense technical specs.</p>



<p>The surprising thing that came from that is after a year of doing it, it became much easier.  The specs started to feel ‚Äúnormal‚Äù and easy to read.  They made sense and didn‚Äôt seem as dense as they did when I started.  I even became more willing than most people to read the dense specification documents, and thus became a valuable resource to my team as everyone knew if they had a question I had read the spec.</p>



<p>I‚Äôve maintained this view since then that occasionally struggling through dense writings is valuable, and does something to your brain that shallow writing doesn‚Äôt do.</p>



<p>That is part of the reason I never gave up on the paper.  I‚Äôve been a regular paper Wall Street Journal subscriber since 1996, when I was in college.  And today I also get the paper New York Times, and a handful of tech and business paper magazines.  The reason I stuck with paper is because I realized in the early days of the internet that the dense stuff rarely gets popular online, and online algorithms, even the early ones that were mostly just crowd sourced, focused more on linkbaity kinds of content.  If I wanted meatier information, I had to stick with paper.</p>



<p>But over time I realized something ‚Äì that by sticking with the paper version of these things, I get a more balanced view.  Why?  Because when an editor has to choose what goes into a paper that is going to be distributed to thousands of different people, and the format is unchangeable, it can‚Äôt be highly personalized, and they can‚Äôt put in much linkbait.  The very fact that the paper has to go to a whole neighborhood insures it will have more even-keeled content than online algorithms.</p>



<p>I know.  I know.  It‚Äôs terrible that editors are gatekeepers and are in control of what you see if you read the paper.  They suppress things sometimes.  I understand that.  But, it‚Äôs naive to think any other systems are better.  Reddit or Hacker News?  The crowd is the gatekeeper.  Google or Flipboard?  The algorithm is the gatekeeper.  There is too much content in the world, so in every scenario there is a gatekeeper, and those gatekeepers are <a href="https://thewalrus.ca/how-algorithms-are-changing-what-we-read-online/#.X2OcIcqBphQ.twitter">changing what we read</a>.  Once you accept that fact, you ask yourself a different question ‚Äì what are the incentives of that gatekeeper?  And I believe a human editor is the gatekeeper that has the strongest incentives to stay the most balanced.  </p>



<p>One way to be less of a victim of the online algorithms or crowd based information cascades is to read the physical paper.  It is more difficult for a medium to control what you think when it can‚Äôt hyper-personalize the information to your specific needs and wants.  And that‚Äôs a good thing.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-63 -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://coconutheadsets.com/2020/09/read-the-paper-dont-be-a-victim-of-algorithms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533774</guid>
            <pubDate>Sun, 20 Sep 2020 13:03:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using QEMU to Create a Ubuntu 20.04 Desktop VM on macOS]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24533742">thread link</a>) | @arthurk
<br/>
September 20, 2020 | https://www.arthurkoziel.com/qemu-ubuntu-20-04/ | <a href="https://web.archive.org/web/*/https://www.arthurkoziel.com/qemu-ubuntu-20-04/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        
        <time datetime="2020-09-20">September 20, 2020</time>
<p>In this blog post we‚Äôre going to create a Ubuntu 20.04 VM using <a href="https://www.qemu.org/">QEMU</a> on MacOS.</p>
<p><img src="https://www.arthurkoziel.com/qemu-ubuntu-20-04/ubuntu-20-04-with-qemu.png" alt="A picture of the Ubuntu 20.04 Desktop"></p>
<p>QEMU is a hardware emulator which can make use of different accelerators when running VMs. The most popular accelerator is <a href="https://www.linux-kvm.org/page/Main_Page">KVM</a> which is built into the Linux kernel and allows Linux hosts to run VMs with native performance.</p>
<p>Using QEMU on macOS used to be very slow as no accelerator was available. This changed 2 years ago when the project <a href="https://wiki.qemu.org/ChangeLog/2.12">added support</a> for the macOS native hypervisor with Hypervisor.framework (HVF) as an accelerator.</p>
<p>Before we begin with the setup I assume that the <a href="https://releases.ubuntu.com/20.04/">Ubuntu 20.04 Desktop ISO</a> has been downloaded in the current working directory.</p>
<h2 id="qemu-installation">QEMU Installation</h2>
<p>We can use Homebrew to install QEMU. The version we‚Äôre using in this tutorial is 5.1.0:</p>
<pre><code>$ brew install qemu

qemu-system-x86_64 --version
QEMU emulator version 5.1.0
Copyright (c) 2003-2020 Fabrice Bellard and the QEMU Project developers</code></pre>
<p>It will pull in a few dependencies (the package depends on 14 other packages) and the installation can take a few minutes.</p>
<h2 id="create-the-disk-image">Create the disk image</h2>
<p>Once the installation is done, we can create the disk image that we‚Äôre going to install Ubuntu on.</p>
<p>We‚Äôre using the QCOW2 format to create a 20GB image. This can be resized later on if needed. The Ubuntu installation took around 5GB of space when I installed it.</p>
<pre><code>qemu-img create -f qcow2 ubuntu-20.04.1-desktop-amd64.qcow2 20G</code></pre>
<h2 id="boot-machine-with-ubuntu-iso-mounted">Boot machine with Ubuntu ISO mounted</h2>
<p>We can now boot up the machine with the Ubuntu ISO attached as a</p>
<p>In this step we boot up the machine with the Ubuntu ISO mounted in the CD drive:</p>
<pre><code>qemu-system-x86_64 \
    -machine type=q35,accel=hvf \
    -cpu host \
    -smp 2 \
    -hda ubuntu-20.04.1-desktop-amd64.qcow2 \
    -cdrom ./ubuntu-20.04.1-desktop-amd64.iso \
    -m 4G \
    -vga virtio \
    -usb \
    -device usb-tablet \
    -display default,show-cursor=on</code></pre>
<p>The options are:</p>
<ul>
<li><code>-machine</code>: The emulated machine and the accelerator. q35 is the newest machine type and HVF is the macOS native hypervisor.</li>
<li><code>-cpu</code>: The CPU architecture. The value <code>host</code> will use the HVF processor with all supported host features</li>
<li><code>-smp</code>: Number of CPUs to use</li>
<li><code>-m</code>: Amount of memory to use</li>
<li><code>-hda</code>: Disk drive (the one we created earlier)</li>
<li><code>-cdrom</code>: The ISO image to put into the CD drive</li>
<li><code>-vga</code>: The graphic card to use. I found <code>virtio</code> (based on <a href="https://virgil3d.github.io/">Virgil</a> to have the best performance</li>
<li><code>-usb</code>: Enable USB host controller</li>
<li><code>-device</code> Adding a ‚Äúusb-tablet‚Äù as an input device. I‚Äôm running this on a laptop and without this setting the mouse did not work.</li>
<li><code>-display</code>: To show the mouse cursor (disabled by default)</li>
</ul>
<p>During testing I had problems with the Linux kernel as it would panic during the boot process. The issue was the <code>-cpu host</code> parameter. I fixed it by specifying the CPU architecture manually (see <code>qemu-system-x86_64 -cpu help</code> for a list of all available architectures).</p>
<p>My machine has an IvyBridge processor (Core i7):</p>
<pre><code>$ sysctl -n machdep.cpu.brand_string

Intel(R) Core(TM) i7-3740QM CPU @ 2.70GHz</code></pre>
<p>And using <code>-cpu IvyBridge</code> would fail. However when using <code>-cpu Nehalem</code> (<a href="https://en.wikipedia.org/wiki/List_of_Intel_CPU_microarchitectures">also an i7 CPU</a>) everything worked well.</p>
<p>Now after the machine is booted up the Ubuntu installer will run. Follow the installation steps and don‚Äôt restart the VM at the end of the installation, instead shut it down by stopping the qemu process with CTRL-C on the host.</p>
<h2 id="boot-without-iso-mounted">Boot without ISO mounted</h2>
<p>When running the VM we don‚Äôt need the Ubuntu ISO mounted and can remove it by leaving out the <code>-cdrom</code> option:</p>
<pre><code>qemu-system-x86_64 \
    -machine type=q35,accel=hvf \
    -cpu host \
    -smp 2 \
    -hda ubuntu-20.04.1-desktop-amd64.qcow2 \
    -m 4G \
    -vga virtio \
    -usb \
    -device usb-tablet \
    -display default,show-cursor=on</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>In my experience QEMU is faster, more responsive and uses less CPU/RAM than VirtualBox. I didn‚Äôt have to configure any display scaling for HiDPI screens as it worked out of the box. The only thing I‚Äôm missing are shared clipboards and drag-and-drop of files (which are available when installing the VirtualBox Guest Additions).</p>
    </article></div>]]>
            </description>
            <link>https://www.arthurkoziel.com/qemu-ubuntu-20-04/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533742</guid>
            <pubDate>Sun, 20 Sep 2020 12:58:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SMAT ‚Äì The Social Media Analysis Toolkit]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533674">thread link</a>) | @stareatgoats
<br/>
September 20, 2020 | https://www.smat-app.com/timeline?searchTerm=Hacker%20News&startDate=2020-08-20&endDate=2020-09-20&websites=twitter,reddit,4chan,8kun&aggRedditBy=author&numberOf=10&interval=day&limit=1000&changepoint=false | <a href="https://web.archive.org/web/*/https://www.smat-app.com/timeline?searchTerm=Hacker%20News&startDate=2020-08-20&endDate=2020-09-20&websites=twitter,reddit,4chan,8kun&aggRedditBy=author&numberOf=10&interval=day&limit=1000&changepoint=false">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.smat-app.com/timeline?searchTerm=Hacker%20News&amp;startDate=2020-08-20&amp;endDate=2020-09-20&amp;websites=twitter,reddit,4chan,8kun&amp;aggRedditBy=author&amp;numberOf=10&amp;interval=day&amp;limit=1000&amp;changepoint=false</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533674</guid>
            <pubDate>Sun, 20 Sep 2020 12:41:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Trump backs proposed TikTok deal with Oracle, Walmart; banning of app postponed]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533614">thread link</a>) | @ilovefood
<br/>
September 20, 2020 | https://www.kgns.tv/2020/09/19/trump-backs-proposed-tiktok-deal-with-oracle-walmart/ | <a href="https://web.archive.org/web/*/https://www.kgns.tv/2020/09/19/trump-backs-proposed-tiktok-deal-with-oracle-walmart/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><p>NEW YORK (AP) ‚Äî President Donald Trump said Saturday he‚Äôs given his ‚Äúblessing‚Äù to a proposed deal that would see the popular video-sharing app TikTok partner with Oracle and Walmart and form a U.S. company.</p><p>Trump has targeted Chinese-owned TikTok for national security and data privacy concerns in the latest flashpoint in the rising tensions between Washington and Beijing. The president‚Äôs support for a deal comes just a day after the Commerce Department announced restrictions that if put in place could eventually make it nearly impossible for TikTok‚Äôs legions of younger fans to use the app.</p><p>Trump said if completed the deal would create a new company likely to be based in Texas.</p><p>‚ÄúI have given the deal my blessing,‚Äù he said. ‚ÄúIf they get it done, that‚Äôs great. If they don‚Äôt, that‚Äôs OK too.‚Äù</p><p>Trump said the new company will be hiring at least 25,000 people and making a $5 billion contribution to a fund dedicated to education for Americans. ‚ÄúThat‚Äôs their contribution that I‚Äôve been asking for,‚Äù he said.</p><p>TikTok said Oracle and Walmart could acquire up to a cumulative 20% stake in the new company in a financing round to be held before an initial public offering of stock, which Walmart said could happen within the next year. Oracle‚Äôs stake would be 12.5%, and Walmart‚Äôs would be 7.5%, the companies said in separate statements.</p><p>The deal will make Oracle responsible for hosting all TikTok‚Äôs U.S. user data and securing computer systems to ensure U.S. national security requirements are satisfied. Walmart said it will provide its ecommerce, fulfillment, payments and other services to the new company.</p><p>‚ÄúWe are pleased that the proposal by TikTok, Oracle, and Walmart will resolve the security concerns of the U.S. administration and settle questions around TikTok‚Äôs future in the U.S.,‚Äù TikTok said in a statement.</p><p>Trump has been demanding that the U.S. operations of TikTok be sold to a U.S. company or else be shut down. He‚Äôs also been targeting WeChat, another Chinese-owned app.</p><p>The administration contends that the user data collected by the two apps could be shared with the Chinese government. On Saturday, Trump said the U.S.-based TikTok ‚Äúwill have nothing to do with China.‚Äù TikTok says it has 100 million U.S. users.</p><p>On Friday, the U.S. Commerce Department said it would bar TikTok from U.S. app stores as of late Sunday. Further restrictions that would prevent TikTok from accessing essential internet services in the country would go into effect on Nov. 12. Commerce said Saturday that it will delay the barring of TikTok from U.S. app stores until Sept. 27 at 11:59 p.m.</p><p>Commerce is imposing similar restrictions on WeChat, although all of the restrictions on that app are set to go into effect Sunday night at 11:59 p.m.</p><p>Earlier Saturday, WeChat users asked a U.S. judge to block the government‚Äôs actions, saying they would restrict free speech. WeChat is an all-in-one app with instant-messaging, social media and other communication tools. The U.S. government argued that it is not restricting free speech because WeChat users still ‚Äúare free to speak on alternative platforms that do not pose a national security threat.‚Äù</p><p>U.S. Magistrate Judge Laurel Beeler asked lawyers for the government and WeChat users whether the prohibitions would cripple WeChat as soon as the clock ticked from Sunday night into Monday morning without a resolution. An attorney for the government said they would likely lead to a ‚Äúdegradation‚Äù of WeChat over time.</p><p>Judge Beeler did not rule immediately on the motion.</p><p>WeChat has millions of U.S. users who rely on the app to stay in touch and conduct business with people and companies in China and around the world. In court filings, the founder of the Mental Health Association for Chinese Communities, who is a U.S. citizen in California, said that the group‚Äôs primary tool to reach out and provide services to Chinese Americans is WeChat.</p><p>‚ÄúSince many of the Chinese community members we serve are not fluent in English, WeChat is the only online tool that they rely on,‚Äù Elaine Peng said.</p><p>The Trump administration‚Äôs aggressive tactics are part of its latest attempt to counter the influence of China, a rising economic superpower. Since taking office in 2017, Trump has waged a trade war with China, blocked mergers involving Chinese companies and stifled the business of Chinese firms like Huawei, a maker of phones and telecom equipment.</p><p>China-backed hackers, meanwhile, have been blamed for data breaches of U.S. federal databases and the credit agency Equifax, and the Chinese government strictly limits what U.S. tech companies can do in China.</p><p>China‚Äôs ministry of commerce condemned the U.S. moves and urged it to stop what it called bullying behavior. It also said China may take ‚Äúnecessary measures‚Äù to protect Chinese companies.</p><p>The U.S. Treasury Department said Saturday that TikTok‚Äôs deal still needs to close with Oracle and Walmart, and it also needs documentation and conditions to be approved by the Committee on Foreign Investment in the United States.</p><p>That, of course, also leaves the potential for more roller coasters of emotion for TikTok users, such as Haley Hoffman Smith, a 24-year-old who moved to Manhattan this year to pursue her dream of becoming a talk-show host. She said she had just hit 100,000 followers on TikTok and was crushed on Friday to hear it may be headed for a shutdown.</p><p>‚ÄúTikTok is an inextricable part of my dream chasing story,‚Äù she said, ‚Äúand to lose it forever would not only be an inconvenient setback, but an absolute heartbreak.‚Äù</p><p>___</p><p>AP Business Writers Tali Arbel, Matt O‚ÄôBrien and Barbara Ortutay contributed.</p><p><i>Copyright 2020 The Associated Press. All rights reserved.</i></p></div></section><section></section></div></div>]]>
            </description>
            <link>https://www.kgns.tv/2020/09/19/trump-backs-proposed-tiktok-deal-with-oracle-walmart/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533614</guid>
            <pubDate>Sun, 20 Sep 2020 12:28:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Interactive tutorial for learning Git's internals]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533602">thread link</a>) | @chrisparnin
<br/>
September 20, 2020 | https://docable.cloud/chrisparnin/examples/tutorials/Git.md | <a href="https://web.archive.org/web/*/https://docable.cloud/chrisparnin/examples/tutorials/Git.md">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main" id="main">

        <!-- Display major errors here -->
        


        

        <!-- style="flex: 1;" -->
        <div>
            <!-- Rendered notebook content -->
            <!--
setup: 
  docker:
    image: git_workshop
-->
<p><img src="https://cloud.githubusercontent.com/assets/742934/15635543/d1044ff6-25ae-11e6-9680-077830cff8f5.png" alt="image"></p>
<p>Have you ever wondered how git worked <em>inside</em>? Here‚Äôs a chance to interactively play around with a few git commands that will help reveal the inner workings of git, itself!</p>
<p>Just click on the ‚ÄúRun‚Äù button in each cell, and see the result of the command, below. Some command results can be clicked on to reveal a few more details.</p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/docable-click.gif" alt="docable-click"></p>
<blockquote>
<p>See how this tutorial was built from simple markdown with <a href="https://github.com/ottomatica/docable-notebooks">docable notebooks</a>!</p>
</blockquote>
<h2 id="understanding-git-internals">Understanding Git Internals</h2>
<blockquote>
<p>By <a href="https://stolee.dev/">Derrick Stolee</a>, git core contributor, adapted into interactive notebook by <a href="http://chrisparnin.me/">Chris Parnin</a>.</p>
</blockquote>
<p>What better way to understand git, then check out git itself. </p>
<p><em>Note:</em> We have already run this step for you! Otherwise, this might take a while!</p>
<pre><code>git <span>clone</span> https://github.com/git/git</code></pre><p>We‚Äôll be working inside the git/ directory set our working state to v2.23.0.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-failed_when="exitCode!=0" id="9a2cc51c-a60e-4ad3-a153-8628e768a422"><code><span>cd</span> git
git reset --hard v2.23.0</code></pre></div></div><h3 id="gits-object-model-content-addressable-data-store">Git‚Äôs Object Model: Content-Addressable Data Store.</h3>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-object-model.png" alt="git object model"></p>
<ul>
<li>Every object has a SHA-1 hash: 40 hex characters.</li>
<li>Given 40 hex characters, we can find the unique object with that hash.</li>
</ul>
<p>Let‚Äôs examine a single commit.</p>
<h3 id="object-types-blobs-trees-commits">Object Types: Blobs, Trees, Commits</h3>
<p>We will use the <code>git cat-file</code> command to help us search for objects inside the store.
If we provide git with a partial hash, it will attempt to find a unique match, and if it is unable to, it will provide a list of those that did match.</p>
<h4 id="blobs">Blobs</h4>
<p>Let‚Äôs examine a <strong>blob</strong> object. A blob contains <em>file contents</em>. 
<img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-blob.png" alt="img"></p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="git" data-highlight="{&quot;word&quot;:&quot;Here are the topics that have been cooking&quot;,&quot;title&quot;:&quot;Note: the file name is not part of the object! It is just the text or binary contents.&quot;}" id="c9d943a4-89a4-440b-bb00-8932f83fc9a4"><code>git cat-file -p 5fa073a885</code></pre></div></div><h4 id="trees">Trees</h4>
<p>Let‚Äôs examine a <strong>tree</strong> object. A tree contains <em>folder contents</em>. 
<img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-tree.png" alt="img"></p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="git" data-block="{&quot;word&quot;:&quot;CodingGuidelines&quot;,&quot;rows&quot;:8,&quot;title&quot;:&quot;A tree can contain blobs and other trees. Notice that RelNotes is another tree with additional folder content.&quot;}" id="f0a05c07-9e6d-405f-a8be-339505bda61e"><code>git cat-file -p 5fa02bff4e</code></pre></div></div><p>Example representation of folder contents contained by a tree: </p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-tree-folder.png" alt="img"></p>
<h4 id="commits">Commits</h4>
<p>Perhaps one of the most important type of object inside the object model is a commit. A <strong>commit</strong> contains many things:</p>
<ul>
<li>A root <strong>tree</strong></li>
<li>A list of <strong>parent commits</strong></li>
<li>A commit message</li>
<li>An author name, email, time.</li>
<li>A committer name, email, time.</li>
</ul>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-commit.png" alt="git commit"></p>
<p>Let‚Äôs examine an example commit.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="git" data-highlight="{&quot;word&quot;:&quot;committer&quot;,&quot;title&quot;:&quot;A committer can differ from an author, for example, a committer may be merging a pull request from another author.&quot;}" id="dfa324d6-4a4a-478c-be19-187c588497cb"><code>git cat-file -p 5fa00a4dcf</code></pre></div></div><p>We can examine the commit graph (but only the first part!).</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="git" data-tty="true" id="ce96bf01-6d68-4680-b521-1be6ae58c542"><code>PAGER=<span>'head -n 80'</span> git <span>log</span> --graph --oneline</code></pre></div></div><h4 id="diffs">Diffs</h4>
<p>Diffs are not part of the object model!</p>
<blockquote>
<p><strong>Commits are NOT diffs</strong></p>
</blockquote>
<p>Instead, diffs are dynamically calculated from the commit graph inside the object store. For example, even object attributes, such as <em>file renames</em> are not represented inside the datastore and must be calculated dynamically.</p>
<p>Let‚Äôs examine a diff.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="git" id="09df604a-8868-46f6-9d51-e677f9e8ca37"><code>git diff --raw v2.22.0 v2.23.0</code></pre></div></div><h4 id="merkle-trees">Merkle Trees</h4>
<p>To enable efficient representation and fast computations of git operations, <em>merkle trees</em> provide forward references within the graph to blobs.</p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-merkle-tree.png" alt="merkle-tree"></p>
<h3 id="branches">Branches</h3>
<p><em>Branches</em> are simply pointers to commits. <em>Tags</em> are pointers to anything (commits, trees, blobs).</p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-branches.png" alt="git-branches"></p>
<h4 id="move-between-branches-with-git-switch">Move between branches with git switch</h4>
<p><code>git switch</code> is a new feature in v2.23.0 of git. It essentially replaces and does less work than <code>git checkout</code>. Primarily, <code>git switch</code> will:</p>
<ul>
<li>Change <code>HEAD</code> to point to a new branch.</li>
<li>Updates the working directory to match the commit‚Äôs tree.</li>
</ul>
<p>We can switch our branch to the maintenance branch.</p>
<p>Let‚Äôs confirm.</p>
<p>We can return to the main branch.</p>
<h2 id="practice-creating-a-repo">Practice: Creating a Repo</h2>
<p>Let‚Äôs try the basics. Let‚Äôs create a new local git repository.</p>
<p>Create a new directory (Basics) and file (README.md).</p>
<p>We are going to create a new git repository, but maybe not the way you‚Äôve done it before. 
In the next set of commands, we will be working inside the <code>Basics/</code> directory.</p>
<p>This will create a new .git directory to store commits and other objects.</p>
<p>We can quickly inspect the contents of the git‚Äôs directory and object store.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="Basics" id="c51917a9-a216-45ce-8d5f-5d0ee0b16f75"><code>ls -l .git
<span>echo</span> <span>"objects:"</span>
ls -l .git/objects</code></pre></div></div><p>Before adding a file to the repository, it must first be staged.</p>
<p>We will commit our staged changes into the repository.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="Basics" id="aece6e24-add4-4542-837d-8164dcf27cfd"><code>git commit -m <span>"initial commit"</span></code></pre></div></div><p>Nice work!</p>
<h3 id="stage-unstage-and-discard-changes">Stage, unstage, and discard changes</h3>
<p>Changes flow from our working tree, to staging index, and into repository.</p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-staging.png" alt="git-staging"></p>
<p><strong>Exercise</strong>: Use the following sets of steps and execute them in any order you wish. Observe what happens to the <em>working tree</em> and <em>index</em>, by running the <code>git status</code> step.</p>
<p>Update the README.md and stage our change.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="Basics" data-shell="bash" id="9cf98f67-7f9d-4bfb-a186-73423559b862"><code><span>echo</span> <span>" Update: <span>$(date)</span>"</span> &gt;&gt; README.md
cat README.md
git add README.md</code></pre></div></div><p>View the current state of our <strong>working tree</strong> and <strong>index</strong>.</p>
<p>Unstage file (remove from index), but keep changes in working tree.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="Basics" id="da39cc19-87dc-4a44-859f-75ea2d7f5dfc"><code>git restore --staged README.md</code></pre></div></div><p>Discard changes in worktree (we will lose our work!). This will restore changes to both the index and the working tree based on the latest version in the repo.</p>
<div><p>[command:]</p><div><pre data-docable="true" data-lang="bash" data-type="command" data-path="Basics" id="d7feff84-03f2-4fcd-aae1-9bded6c7d7d1"><code>git restore --<span>source</span>=HEAD --staged --worktree README.md</code></pre></div></div><h3 id="remotes">Remotes</h3>
<p>While having a local git repository is cool, we should connect it to another remote repository. In other words, we have no place to <code>git push</code> to‚Ä¶</p>
<p><img src="https://docable.cloud/chrisparnin/examples/tutorials/resources/imgs/git-remote.png" alt="git-remote"></p>
<h4 id="remote-operations">Remote operations</h4>
<ul>
<li>Get new data: <code>git fetch &lt;remote&gt; [branch]</code></li>
<li>Upload your data: <code>git push &lt;remote&gt; &lt;branch&gt;</code></li>
<li>Get new data and merge into working tree: <code>git pull &lt;remote&gt; &lt;refspec&gt;</code></li>
</ul>
<p><em>Hot Take</em>: Avoid <code>git pull</code> on large repositories! You may want to handle merges yourself into your target branch instead of having git mess with your working tree.</p>
<p><strong>Exercise</strong>: Let‚Äôs open a terminal and perform the following steps.</p>
<p><em>Note</em>: You must be running local docable server to run these steps.</p>
<p>Windows:</p>
<p>Mac/Linux:</p>
<ol>
<li><p>Create a repo on GitHub (If you are a NCSU student, use GitHub Enterprise: <a href="https://github.ncsu.edu/">https://github.ncsu.edu</a>). </p>
</li>
<li><p>Follow the instructions on GitHub to add a remote url to an <em>existing git repository</em>. Basically, you need to run something like: <code>git remote add origin https://github.com/&lt;user&gt;/&lt;repo&gt;.git</code></p>
</li>
<li><p>Push your changes to GitHub. Verify you can see your updated README.md!</p>
</li>
<li><p>On GitHub, edit the README.md, to say ‚ÄúHello GitHub!‚Äù. Commit the changes on GitHub. Now you have changes in your remote (origin), that are missing on your local copy.</p>
</li>
<li><p>Run <code>git pull</code> and verify you now have the updated changes.</p>
</li>
</ol>
<h2 id="git-branching-playground">Git Branching Playground</h2>
<p>Manipulating the commit graph can get quite complicated! This interactive visualization is very useful for getting a deeper understanding of how operations such as branches, merges, cherry-picking, and more work!</p>
<p>We will solve the ‚ÄúIntroduction Sequence‚Äù levels in:<br><a href="http://pcottle.github.io/learnGitBranching/">http://pcottle.github.io/learnGitBranching/</a>   </p>
<p><img src="https://cloud.githubusercontent.com/assets/742934/9494425/c4dd4b66-4bd3-11e5-9aac-04bfc8fed771.png" alt="example"></p>
<h2 id="git-configuration-and-security">Git Configuration and Security</h2>
<p>If you want to make sure your commits are properly linked to your GitHub account, make sure you have configured your computer to have your name and email filled out.</p>
<pre><code>$ git config --global user.name "FirstName LastName"
$ git config --global user.email email@example.com</code></pre><p>You might also consider an authenication strategy. If you‚Äôre being asked to login everytime your pull/push to your remote repository, you might want to enable caching of your credentials. For example, you could use: </p>
<pre><code>git config --global credential.helper store</code></pre><p>However, this may store your credentials in plain text on your computer. There are other platform-specific credential.helpers that you can use to more securely store your credentials. It is also possible to generate <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">personal access tokens</a> that you can use authenicate instead of a passcode.</p>
<p>An alternative approach is to use sshkeys. In this case, you have a public/private keypair, with the public key stored on GitHub. You then use a <a href="https://help.github.com/articles/which-remote-url-should-i-use/">different url pattern</a> for your commands such as <code>git clone</code>. Instead of the <code>https://</code> prefix, you instead use <code>git@github.com:user/repo.git</code>.</p>
<p>If you are interested in exploring this option: See these guides on GitHub:</p>
<ul>
<li><a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">Generating SSH Key</a></li>
<li><a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/">Adding SSH Key to GitHub</a></li>
<li><a href="https://help.github.com/articles/testing-your-ssh-connection/">Testing SSH Connection</a></li>
</ul>

        </div>

        <!--- init and style customization not supported by css -->
        

    </div></div>]]>
            </description>
            <link>https://docable.cloud/chrisparnin/examples/tutorials/Git.md</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533602</guid>
            <pubDate>Sun, 20 Sep 2020 12:25:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Quality DOSBox Video Capture]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24533484">thread link</a>) | @susam
<br/>
September 20, 2020 | https://susam.in/blog/good-quality-dosbox-video-capture/ | <a href="https://web.archive.org/web/*/https://susam.in/blog/good-quality-dosbox-video-capture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>By <b>Susam Pal</b> on 01 Sep 2020</p>
<h2 id="vintage-dos-programs"><a href="#vintage-dos-programs">Vintage DOS Programs</a></h2>

<p>
Once in a while, I fire up one of the vintage DOS games or language
interpreters in DOSBox for nostalgia's sake. I have archived these
vintage programs at <a href="https://github.com/susam/dosage">github.com/susam/dosage</a>.
DOSBox is an emulator program that emulates IBM PC compatible computers
running DOS. Trying my hands on these antiquated DOS programs now evokes
old memories from my childhood days days when I first came across
computers as part of our primary school curriculum.
</p>

<p>
Computers were much simpler in those days. The ones in our school were
IBM PC compatible computers with mostly monochrome displays. A couple of
them had support for a very limited number of colours provided by CGA or
EGA graphics cards. The ability to boot a computer using a
5¬º-inch floppy disk containing MS-DOS, load a Logo or BASIC
interpreter, or a computer game from another floppy disk, and then write
some programs or play a few games without any distraction had its own
charm that I find missing from modern day computing.
</p>

<p>
Often while using old DOS programs with DOSBox in this day and age, I
want to take screenshot captures or video captures of the DOSBox
sessions and share them with my friends. In this article, I will explain
how I create good quality screenshot captures and video captures of
DOSBox sessions in formats that I can share with others.
</p>


<h2 id="contents"><a href="#contents">Contents</a></h2>
<ul>
  <li><a href="#vintage-dos-programs">Vintage DOS Programs</a></li>
  <li><a href="#software-versions">Software Versions</a></li>
  <li><a href="#ibm-pc-logo-in-dosbox">IBM PC Logo in DOSBox</a></li>
  <li><a href="#digger-in-dosbox">Digger in DOSBox</a></li>
  <li><a href="#dosbox-screenshot-capture">DOSBox Screenshot Capture</a></li>
  <li><a href="#dosbox-video-capture">DOSBox Video Capture</a></li>
  <li><a href="#dosbox-audio-video-capture">DOSBox Audio/Video Capture</a></li>
  <li><a href="#dosbox-gif-animation">DOSBox GIF Animation</a></li>
  <li><a href="#references">References</a></li>
</ul>


<h2 id="software-versions"><a href="#software-versions">Software Versions</a></h2>

<p>
Since this article involves several pieces of software, some of what is
written here may not hold good in future if the behaviour of any of
these software tools change in future. The list below contains the
versions of all software tools that were used to test the commands
provided in this article:
</p>

<ol>
  <li>macOS High Sierra 10.13.6</li>
  <li>DOSBox 0.74-3</li>
  <li>FFmpeg 4.3.1</li>
  <li>ImageMagick 7.0.10-28
  </li><li>IBM Personal Computer Logo Version 1.00</li>
  <li>Digger (Original PC booter version by Windmill Software)</li>
</ol>

<p>
Note that both Logo and Digger programs in the list above are DOS
programs that were released in 1983. They cannot be run directly on
modern computers but they can be run with DOSBox since it emulates old
IBM PC compatible computers.
</p>


<h2 id="ibm-pc-logo-in-dosbox"><a href="#ibm-pc-logo-in-dosbox">IBM PC Logo in DOSBox</a></h2>

<p>
IBM Personal Computer Logo developed by Logo Computer Systems Inc.
(LCSI) in 1983 was the first piece of software I got introduced to while
learning computers as a kid. I came across it at the age of 8 when I was
in Class 4 and our school had a 5¬º-inch floppy disk with IBM PC
Logo on it. As a result, Logo was the first programming language I
learnt in my life. About 20 years later, I would realize that the first
programming language I learnt is a dialect of Lisp. How wonderful!
</p>

<figure id="logo-welcome-screenshot">
  <a href="https://susam.in/files/blog/dosbox-logo-0.png"><img src="https://susam.in/files/blog/dosbox-logo-0.png" alt="A screenshot of IBM Personal Computer Logo with copyright notices of IBM and LCSI, welcome message, and question mark prompt"></a>
  <figcaption>
    Welcome screen of IBM Personal Computer Logo
  </figcaption>
</figure>

<!--
Class Age Year
   KG   4   88
    1   5   89
    2   6   90
    3   7   91
    4   8   92
    5   9   93
    6  10   94
    7  11   95
    8  12   96
    9  13   97
   10  14   98
-->

<p>
If the Logo interpreter program <code>LOGO.COM</code> exists in the
current directory, it can be run with DOSBox using the following
command:
</p>

<pre><code>dosbox LOGO.COM</code></pre>

<p>
One of the things I enjoyed drawing with Logo was a grid of overlapping
circles like this:
</p>

<figure id="logo-program-screenshot">
  <a href="https://susam.in/files/blog/dosbox-logo-1.png"><img src="https://susam.in/files/blog/dosbox-logo-1.png" alt="A grid made with 20 circles along with Logo source code for it"></a>
  <figcaption>
    Grid of circles drawn with IBM Personal Computer Logo
  </figcaption>
</figure>

<p>
Here is the Logo source code for the above output:
</p>

<pre><code>REPEAT 20 [REPEAT 180 [FD 1 RT 2] RT 18]</code>
</pre>


<h2 id="digger-in-dosbox"><a href="#digger-in-dosbox">Digger in DOSBox</a></h2>

<p>
At around the same time I learnt Logo, I also came across Digger, a
computer game for IBM PC developed by Windmill Software in 1983.
</p>

<figure id="digger-welcome-screenshot">
  <a href="https://susam.in/files/blog/dosbox-digger-0.png"><img src="https://susam.in/files/blog/dosbox-digger-0.png" alt="A screenshot of Digger welcome screen with the names and pictures of various game characters with a copyright notice of Windmill Software"></a>
  <figcaption>
    Welcome screen of Digger
  </figcaption>
</figure>

<p>
If the Digger program <code>DIGGER.COM</code> exists in the directory,
it can be run using DOSBox with the following command:
</p>

<pre><code>dosbox DIGGER.COM -c "config -set cpu cycles=500" -machine cga</code>
</pre>

<p>
The <code>-machine cga</code> option emulates a machine with Color
Graphics Adapter (CGA) because Digger requires a machine of this type to
run correctly. The <code>cycles=500</code> configuration option slows
down the speed at which DOSBox emulates instructions in order to emulate
the slow machines of olden days. Without this option, Digger runs too
fast to be able to be conveniently playable.
</p>

<figure id="digger-game-screenshot">
  <a href="https://susam.in/files/blog/dosbox-digger-1.png"><img src="https://susam.in/files/blog/dosbox-digger-1.png" alt="A screenshot of underground maze in the game of Digger"></a>
  <figcaption>
    A game of Digger that has just begun
  </figcaption>
</figure>

<p>
Digger has an excellent gameplay where the player digs through
underground tunnels to pick up emeralds, drop gold bags to release the
gold or squash nobbins and hobbins, collect the released gold to earn
more points, and so on. It uses bright and attractive colours. The music
is great. When Digger was released in 1983, it was quite advanced for
its time.
</p>



<h2 id="dosbox-screenshot-capture"><a href="#dosbox-screenshot-capture">DOSBox Screenshot Capture</a></h2>

<p>
The screenshots above were obtained by running IBM PC Logo and the
original 1983 PC booter version of Digger on DOSBox and then resizing
the screenshots such that their aspect ratio matches the aspect ratio of
old CRT computer monitors.
</p>

<p>
To obtain the screenshots, we first press <kbd>Ctrl</kbd> +
<kbd>F5</kbd> while DOSBox is running. The paths of the screenshots
appear in the console output at the terminal where DOSBox was launched.
For example:
</p>

<pre><samp>Capturing Screenshot to /Users/susam/Library/Preferences/capture/logo_000.png
Capturing Screenshot to /Users/susam/Library/Preferences/capture/logo_001.png</samp>
</pre>

<pre><samp>Capturing Screenshot to /Users/susam/Library/Preferences/capture/digger_000.png
Capturing Screenshot to /Users/susam/Library/Preferences/capture/digger_001.png</samp>
</pre>

<p>
The screenshots obtained in this manner have an aspect ratio of 8:5
which makes the output look stretched horizontally. The old CRT computer
monitors for which these old DOS programs were written had an aspect
ratio of 4:3 instead. This stretched look can be fixed by resizing the
images to an aspect ratio of 4:3. Here are the commands used to fix the
aspect ratio and produce the images:
</p>

<pre><code>convert logo_000.png -sample '1920x1440!' dosbox-logo-0.png
convert logo_001.png -sample '1920x1440!' dosbox-logo-1.png</code>
</pre>
<pre><code>convert digger_000.png -sample '1920x1440!' dosbox-digger-0.png
convert digger_001.png -sample '1920x1440!' dosbox-digger-1.png</code>
</pre>

<!--
According to Screen Resolution Statistics for January 2020 by
w3schools.com, here are the statistics of browser resolutions:

Resolution   %age  Cumulative

Lower         9.0    9.0
1280 x  720   3.9   12.9
1024 x  768   1.4   14.3
1360 x  768   1.0   15.3
1366 x  768  27.6   42.9
1280 x  800   1.8   44.7
1536 x  864   9.8   54.5
1440 x  900   5.6   60.1
1600 x  900   4.1   64.2
1280 x 1024   2.4   66.6
1680 x 1050   2.6   69.2
1920 x 1080  20.3   89.5
1920 x 1200   1.5   91.0
2560 x 1440   1.7   92.7
Other High    7.3  100.0

1440 x 1080 is strictly larger than 55.3% displays.
1600 x 1200 is strictly larger than 66.6% displays.
1920 x 1440 is strictly larger than 91.0% displays.
x 1080 >= 89.5% displays
x 1200 >= 91.0% displays.
x 1440 >= 92.7% displays
-->

<p>
The <code>convert</code> program comes with ImageMagick. There are a few
things worth noting here:
</p>

<ul>
  <li>
    We use the <code>-sample</code> option here to resize the image as
    opposed to using <code>-resize</code> or <code>-scale</code>. The
    <code>-resize</code> or <code>-scale</code> option would smooth the
    jagged edges in the text and graphics by introducing additional
    colours. The <code>-resize</code> option is great for real world
    images where we do want the edges to be smooth while scaling up or
    down but in these screenshots we want to retain the crisp and jagged
    edges that is typical of DOSBox and the old CRT monitors. Therefore
    we use the <code>-sample</code> option that does not introduce any
    new colours. Instead it uses nearest-neighbour interpolation (point
    sampling) to decide the colours of the scaled image.
  </li>
  <li>
    The <code>!</code> flag is used to ignore the aspect ratio of the
    original image. Without this flag, the output files would be
    1920x1200 in size, that is, the largest size with an aspect ratio of
    8:5 that fits in a 1920x1440 box. With this flag, the original
    aspect ratio of 8:5 is ignored and the output is exactly 1920x1440
    in size.
  </li>
</ul>

<p>
By the way, I have donated these images above to Wikimedia Commons under
the Creative Commons Attribution 4.0 International (CC BY 4.0) license:
</p>

<ul>
  <li><a href="https://commons.wikimedia.org/wiki/File:IBM_LCSI_Logo_Welcome_Screen.png">File:IBM_LCSI_Logo_Welcome_Screen.png</a></li>
  <li><a href="https://commons.wikimedia.org/wiki/File:IBM_LCSI_Logo_Circles.png">File:IBM_LCSI_Logo_Circles.png</a></li>
  <li><a href="https://commons.wikimedia.org/wiki/File:Digger_Original_PC_Booter_Version_Welcome_Screen.png">File:Digger_Original_PC_Booter_Version_Welcome_Screen.png</a>
  </li><li><a href="https://commons.wikimedia.org/wiki/File:Digger_Original_PC_Booter_Version_Game.png">File:Digger_Original_PC_Booter_Version_Game.png</a></li>
</ul>

<p>
Having the images on Wikimedia Commons helps to include these
screenshots in the Wikipedia articles on <a href="https://en.wikipedia.org/wiki/Logo_(programming_language)#Implementations">Logo</a>
and <a href="https://en.wikipedia.org/wiki/Digger_(video_game)">Digger</a>.
</p>


<h2 id="dosbox-video-capture"><a href="#dosbox-video-capture">DOSBox Video Capture</a></h2>

<p>
To start capturing video of DOSBox, we press <kbd>Ctrl</kbd> +
<kbd>Alt</kbd> + <kbd>F5</kbd>. The same key combination stops capturing
video. The following output appears in the console output to show where
the video file is saved:
</p>

<pre><samp>Capturing Video to /Users/susam/Library/Preferences/capture/logo_000.avi
Stopped capturing video.</samp>
</pre>

<p>
Say, I want to share a video capture of DOSBox with Logo running on it
with my friends who might be on devices that do not support playing AVI
files. The following FFmpeg command converts the video to a format that
can be distributed widely and played on a wide range of devices and
players:
</p>

<pre><code>ffmpeg -i logo_000.avi -an -c:v libx264 -preset veryslow \
       -crf 17 -vf format=yuv420p,scale=1920:1440:flags=neighbor,fps=30 \
       dosbox-logo.mp4</code>
</pre>

<p>
Here is what the output looks like:
</p>

<figure id="logo-video">
  <video controls="">
    <source src="https://susam.in/files/blog/dosbox-logo.mp4" type="video/mp4">
  </video>
  <figcaption>
    Video capture of IBM Personal Computer Logo
    [<a href="https://susam.in/files/blog/dosbox-logo.mp4">MP4</a>]
  </figcaption>
</figure>

<p>
Let us briefly discuss the various FFmpeg options used here:
</p>

<ul>
  <li>
    <p>
      <code>-i logo_000.avi</code>
    </p>
    <p>
      This, of course, specifies the input file.
    </p>
  </li>
  <li>
    <p>
      <code>-an</code>
    </p>
    <p>
      The audio is silent in this video, so we reduce the file size a
      little by disabling the audio stream with this option. For
      example, without this option the output file size was 317 KB but
      with this option it turned out to be 282 KB.
    </p>
    <p>
      This option should not be specified if the audio stream needs to
      preserved, for example, with DOS games that have audio. We will
      see an example of this in the next section.
    </p>
  </li>
  <li>
    <p>
      <code>-c:v libx264</code>
    </p>
    <p>
      This option selects the x264 encoder to encode the video stream
      into H.264 format. H.264 is also known as MPEG-4 Part 10, Advanced
      Video Coding (MPEG-4 AVC). Currently, it is the most popular
      format for recording, compression, and distribution of video
      content.
    </p>
  </li>
  <li>
    <p>
      <code>-crf 17</code>
    </p>
    <p>
      This option provides visually lossless output, that is, high
      quality output without any loss in quality that can be perceived
      by human eyes. For completely lossless output, we need to use the
      <code>-crf 0</code> option. However, this option sets the video
      profile to <code>High 4:4:4 Predictive</code> which prevents the
      video from playing in some video players. This issue is discussed
      in more detail in the point about <code>yuv420p</code> pixel
      format that comes later in this list. Since <code>-crf 0</code>
      cannot be used due to this issue, the next best option is
      <code>-crf 1</code> which while not completely lossless is much
      better than ‚Ä¶</p></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://susam.in/blog/good-quality-dosbox-video-capture/">https://susam.in/blog/good-quality-dosbox-video-capture/</a></em></p>]]>
            </description>
            <link>https://susam.in/blog/good-quality-dosbox-video-capture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533484</guid>
            <pubDate>Sun, 20 Sep 2020 12:02:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elixir in Production: Plausible Analytics]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533464">thread link</a>) | @ksec
<br/>
September 20, 2020 | https://serokell.io/blog/elixir-in-production-plausible-analytics | <a href="https://web.archive.org/web/*/https://serokell.io/blog/elixir-in-production-plausible-analytics">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Searching for an open-source Google Analytics alternative?</em></p><p><em>Our guest has your back. Uku T√§ht is the founder of <a href="https://plausible.io/">Plausible Analytics</a>, an open-source web analytics project built with Elixir. For the last couple of months, his project has attracted a lot of attention through <a href="https://plausible.io/blog/remove-google-analytics">informative blog posts</a> and very positive user reviews.</em></p><p><em>In this interview, we talk about his use of Elixir in production: the benefits, the downsides, the specifics, and why Elixir is so good for projects like Plausible Analytics.</em></p><h2 id="interview-with-uku-t%C3%A4ht">Interview with Uku T√§ht</h2><p><strong>Could you tell us a little about your company and your role there?</strong></p><p>Plausible Analytics is an open-source project dedicated to making web analytics more privacy-friendly. Our mission is to reduce corporate surveillance by providing an alternative web analytics tool that doesn‚Äôt have any links to AdTech.</p><p>I started building Plausible almost two years ago as a side project. I‚Äôve been working on it full-time since the beginning of this year and I‚Äôve also partnered up with Marko who handles the marketing and communication side of things.</p><p><img src="https://serokell.io/files/uj/ujixp3oy.2_(22)_(1).jpg" alt="ujixp3oy.2_(22)_(1).jpg"></p><hr><center><i>Uku T√§ht, the founder of Plausible Analytics.</i></center><p><strong>What is the key feature or set of features that make using Plausible Analytics a feasible replacement over Google Analytics?</strong></p><p>Google Analytics is overkill for most website owners. Plausible cuts through the noise by presenting all the important website traffic insights and metrics on one single page. You don‚Äôt need training or experience in web analytics to get started.</p><p>Keeping the script lightweight is also a priority. Our script is more than 17 times smaller than the Google Analytics script and more than 45 times smaller than the recommended Google Analytics integration using the Google Tag Manager.</p><p>But the biggest reason to choose Plausible is the fact that we‚Äôre committed to building open source software. The code behind our service is freely available for anyone. By using Plausible you help build software that everyone can benefit from, not just the corporations.</p><p><strong>How did Elixir as the language of choice work for you when implementing these features?</strong></p><p>I think Elixir is perfect for our use-case. It‚Äôs a very productive language once you learn it and it can also handle tons of traffic. Last month we processed 60 million pageviews with absolutely no issues.</p><p>Elixir really shines when you have stateful requirements for the app server. For example, we keep all the active sessions in memory so we don‚Äôt have to look a session up from the database on every event. It was a joy to build this part of the app using the GenServer primitives.</p><p><strong>How much did the fact that your product is not only self-hosted but also a SaaS inform your decision to go with Elixir? Did you choose it to scale a SaaS?</strong></p><p>I do believe that using Elixir allows us to make self-hosting a bit easier. In other languages, it‚Äôs common to use tools like Redis and external message queues but in Elixir we can often avoid these extra tools and keep the infrastructure requirements simple.</p><p>Plausible is currently designed to run on just one node. Once we start building out support for multi-node deployments, things will get really interesting. I feel like Elixir and the BEAM are designed perfectly for our use-case where we need multiple nodes to share state about visitors sessions.</p><p>Hopefully, we can evolve the architecture without needing extra infrastructure bits and pieces. The goal is to keep the requirements as simple as possible so everyone can run the code on their own server. By relying on BEAM fundamentals, we can probably avoid in-memoy stores, external message queues, and cluster managers altogether, making Plausible easy to self-host.</p><p><strong>Could you tell us more about your deployment: where do you host, how do you deploy, do you use the hot code reload functionality?</strong></p><p>We <a href="https://plausible.io/blog/made-in-eu">recently moved</a> from Heroku to using Digital Ocean. I wanted to eat our own dog food when it comes to the Docker infrastructure we built for self-hosting. So now we have a Digital Ocean droplet pre-configured with Docker and we just pull new images from our <a href="https://hub.docker.com/r/plausible/analytics">DockerHub</a>.</p><p>Since we have a single node deployment, we do have around 30 seconds of downtime on each deploy and we don‚Äôt have auto-scaling support. We will deal with these issues as we scale, I just wanted to be upfront about the downsides of how we‚Äôre running it.</p><p>We don‚Äôt use hot code reloading since it doesn‚Äôt play well with the Docker flow.</p><p><strong>What was the biggest challenge while developing Plausible Analytics with Elixir?</strong></p><p>We use a database called Clickhouse for storing our stats. It‚Äôs a fairly new and cutting-edge database and it doesn‚Äôt have a robust integration with Elixir yet. We use a low-level connection library which gives us random errors sometimes.</p><p>I‚Äôm thinking about taking the time to write a proper Ecto adapter for Clickhouse so we can run migrations and have better error handling. It‚Äôs easy to complain about the lack of libraries in the Elixir ecosystem but I‚Äôd like to do my part in helping the ecosystem thrive.</p><p><strong>Are you satisfied with the result?</strong></p><p>Definitely. If I could go back and do it all over, I would choose the same stack again. Elixir+Phoenix is really fun to work with and it performs even better than I expected.</p><p><strong>Any key takeaways that you would like to share with our audience?</strong></p><p>Elixir is a wonderful language and its ecosystem is really coming along. I would encourage everyone to give it a try and contribute back to the ever-growing list of libraries and frameworks to make it even more powerful.</p><hr><p>I‚Äôd like to thank Uku for the interview! If you want to see more examples of Elixir used in production, check out <a href="https://serokell.io/blog/elixir-in-production-venu">our interview</a> with one of the Venu co-founders or read our post about <a href="https://serokell.io/blog/elixir-companies">companies that use Elixir</a>.</p><p>Additionally, if you have your own Elixir in production story to tell (both good and bad), we definitely want to hear it! You are welcome to write to us: <a href="mailto:hi@serokell.io">hi@serokell.io</a>.</p></div></div>]]>
            </description>
            <link>https://serokell.io/blog/elixir-in-production-plausible-analytics</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533464</guid>
            <pubDate>Sun, 20 Sep 2020 11:57:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where's the Yelp for open-source tools?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533402">thread link</a>) | @kiyanwang
<br/>
September 20, 2020 | https://www.functionize.com/blog/wheres-the-yelp-for-open-source-tools/ | <a href="https://web.archive.org/web/*/https://www.functionize.com/blog/wheres-the-yelp-for-open-source-tools/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img width="1080" height="634" src="https://3laqvw22wekb3ykm8z4dbnq8-wpengine.netdna-ssl.com/wp-content/uploads/2020/09/ft-opensource-tools-yelp.jpg" alt="Where‚Äôs the Yelp for open-source tools?" srcset="https://www.functionize.com/wp-content/uploads/2020/09/ft-opensource-tools-yelp.jpg 1080w, https://www.functionize.com/wp-content/uploads/2020/09/ft-opensource-tools-yelp-300x176.jpg 300w, https://www.functionize.com/wp-content/uploads/2020/09/ft-opensource-tools-yelp-1024x601.jpg 1024w, https://www.functionize.com/wp-content/uploads/2020/09/ft-opensource-tools-yelp-768x451.jpg 768w" sizes="(max-width: 1080px) 100vw, 1080px">      </p>	  
    
        <p><strong>We‚Äôd like an easy way to judge open-source programs. It can be done. But easily? That‚Äôs another matter. When it comes to open source, you can‚Äôt rely on star power.</strong></p>
<p>The ‚Äú<a href="https://www.bbc.com/future/article/20140708-when-crowd-wisdom-goes-wrong" target="_blank" rel="noopener noreferrer">wisdom of the crowd</a>‚Äù has inspired all sorts of online services wherein people share their opinions and guide others in making choices. The Internet community has created many ways to do this, such as Amazon reviews, <a href="https://www.glassdoor.com/index.htm" target="_blank" rel="noopener noreferrer">Glassdoor</a> (where you can rate employers), and <a href="https://www.tripadvisor.com/" target="_blank" rel="noopener noreferrer">TripAdvisor</a> and <a href="https://yelp.com/" target="_blank" rel="noopener noreferrer">Yelp</a> (for hotels, restaurants, and other service providers). You can rate or recommend commercial software, too, such as on mobile app stores or through sites like <a href="https://www.producthunt.com/" target="_blank" rel="noopener noreferrer">product hunt</a>. But if you want advice to help you choose open-source applications, the results are disappointing.</p>
<p>It isn‚Äôt for lack of trying. Plenty of people have created systems to collect, judge, and evaluate open-source projects, including information about a project‚Äôs popularity, reliability, and activity. But each of those review sites ‚Äì and their methodologies ‚Äì have flaws.</p>
<p>Take that most archaic of programming metrics: Lines of code (LoC). Yes, it‚Äôs easy to measure. But <a href="https://www.functionize.com/blog/the-myth-of-100-code-coverage/">it‚Äôs also profoundly misleading</a>. As programming genius Edsger Dijkstra observed in 1988, LoC gives people ‚Äú<a href="http://www.cs.utexas.edu/users/EWD/transcriptions/EWD10xx/EWD1036.html" target="_blank" rel="noopener noreferrer">the reassuring illusion that programs are just devices like any others</a>, the only difference admitted being that their manufacture might require a new type of craftsmen, viz. programmers. From there it is only a small step to measuring ‚Äòprogrammer productivity‚Äô in terms of ‚Äònumber of lines of code produced per month.‚Äô This is a very costly measuring unit because it encourages the writing of insipid code.‚Äù</p>
<p>We‚Äôve gotten better since then, haven‚Äôt we? Perhaps not.</p>
<h3>First attempts</h3>
<p>In 1997, well-known developer Patrick Lenz founded the first listing and announcement site for free and open-source software, freshmeat.net. It was meant to be <em>the</em> guide to open-source programs. But freshmeat never lived up to its promise.</p>
<p>Due to changes in direction and ownership, <a href="https://jeffcovey.net/2014/06/19/freshmeat-net-1997-2014/" target="_blank" rel="noopener noreferrer">freshmeat sputtered into failure</a>. In the end, no one really had a clear idea of how to monetize the site.</p>
<p>Freshmeat was quickly followed by <a href="http://freshmeat.sourceforge.net/about" target="_blank" rel="noopener noreferrer">Freecode</a>. This site‚Äôs mission was to maintain the ‚Äú<a href="https://web.archive.org/web/20111031160805/http:/freecode.com/about" target="_blank" rel="noopener noreferrer">Web‚Äôs largest index of Linux, Unix, and cross-platform software</a> and mobile applications.‚Äù It explained, ‚ÄúEach entry provides a description of the software, links to download it and to obtain more information, and a history of the project‚Äôs releases, so readers can keep up-to-date on the latest developments.‚Äù You could think of Freecode as an open-source software-specific version of Yahoo‚Äôs first iteration as a guide to the web.</p>
<p>Like its predecessor, the site slowly came to a stop ‚Äì and then halted entirely. Its owners declared, ‚ÄúThe Freecode site has been moved to a static state effective June 18, 2014, due to low traffic levels and so that folks will focus on more useful endeavors than site upkeep.‚Äù</p>
<p>Open-source co-creator <a href="http://esr.ibiblio.org/?p=5948" target="_blank" rel="noopener noreferrer">Eric S. Raymond tried to revive Freecode.</a> Raymond believed no other site was ‚Äúquite so good for getting a cross-sectional view of what the open-source world is doing.‚Äù From his perspective, Freecode had numerous but fixable, problems. Among them: cutting down on human moderation, focusing exclusively on open-source software, and paring it down to essential features. Alas, his efforts came to little. The site remains a static antique.</p>
<h3>Case in point: GitHub</h3>
<p>Today, <a href="https://docs.github.com/en/github/getting-started-with-github/saving-repositories-with-stars" target="_blank" rel="noopener noreferrer">GitHub Stars</a> is presented as a quick, easy way to evaluate the virtues of an open-source program. <a href="https://github.com/">GitHub</a>, the biggest open-source Git repository, describes its star system as just a way to keep track of projects people find interesting. However, many developers use the stars as a way of boosting their reputations.</p>
<p>Theoretically, the more stars, the better the software. Or is it?</p>
<p>Solomon Hykes, Docker‚Äôs co-founder, strongly disagrees. ‚Äú<a href="https://twitter.com/solomonstre/status/1294189350419181575?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1294189350419181575%7Ctwgr%5E&amp;ref_url=https%3A%2F%2Fwww.redditmedia.com%2Fmediaembed%2Fi9rtbb%3Fresponsive%3Dtrueis_nightmode%3Dfalse" target="_blank" rel="noopener noreferrer">GitHub stars are a scam.</a> This bullshit metric is so pervasive, and GitHub‚Äôs chokehold on the open-source community so complete, that maintainers have to distort their workflows to fit the ‚ÄòGitHub model‚Äô or risk being publicly shamed by industry analysts. What a disgrace.‚Äù</p>
<p>Hykes isn‚Äôt the only one who views GitHub stars as a misleading flop. Fintan Ryan, a Gartner senior director, thinks <a href="https://twitter.com/fintanr/status/1294173608558952448" target="_blank" rel="noopener noreferrer">stars are just a game</a> that confuses marketing and the code that‚Äôs actually on GitHub. And Microsoft project manager for open-source development on Azure, Ralph Squillace, tweeted, ‚ÄúIn my opinion and for Microsoft project [engineering] and management <a href="https://twitter.com/ralph_squillace/status/1294196384237785088" target="_blank" rel="noopener noreferrer">they are worthless</a>. [But] There are always people who seize on them anyway.‚Äù</p>
<p>And that‚Äôs the problem. People love easy metrics. They want a quick, one-glance <a href="https://www.functionize.com/blog/how-personality-traits-affect-the-open-source-development-process/">answer to their coding (and other) problems</a>. Spoiler alert: There is no such thing.</p>
<h3>Opening the code: Open Hub</h3>
<p>Still, some sites and services provide valuable insights into a project‚Äôs overall health. Many of those websites, such as <a href="https://github.com/features/insights" target="_blank" rel="noopener noreferrer">GitHub Insights</a>, a commercial standalone application for <a href="https://github.com/enterprise#github-one" target="_blank" rel="noopener noreferrer">GitHub One</a> customers, are restricted to project‚Äôs development managers rather than outsiders looking in on a project.</p>
<p>One service that does give everyone a look into open-source projects is <a href="https://www.synopsys.com/" target="_blank" rel="noopener noreferrer">Synopsys</a>‚Äòs <a href="https://www.openhub.net/" target="_blank" rel="noopener noreferrer">Black Duck Open Hub</a>, formerly Ohloh. By searching on the site, anyone can dive deep into major projects to see who‚Äôs doing what in a given open-source application‚Äôs version control system.</p>
<p>While Open Hub doesn‚Äôt give you simple answers about a project, it does share such important information as security vulnerabilities per the last ten versions; the number of commits per month; and the number of recently active developers. You can determine a project‚Äôs most active developers, too. Armed with this data, you can come to <a href="https://www.functionize.com/blog/from-the-qa-trenches-6-signs-of-project-success-or-failure/">your own conclusions about a particular project‚Äôs worthiness</a>.</p>
<h3>Simple tools for complex answers: Google Trends</h3>
<p>Let‚Äôs say you want to know which open-source program is the most popular for a given need. Thanks to <a href="https://trends.google.com/trends/">Google Trends</a>, comparing projects is easier to determine than you might think.</p>
<p>For instance, one eternal open-source debate is whether <a href="https://www.openoffice.org/" target="_blank" rel="noopener noreferrer">OpenOffice</a> or <a href="https://www.libreoffice.org/" target="_blank" rel="noopener noreferrer">LibreOffice</a> is the better open-source office suite. Its relative quality may remain open to question, but by comparing searches for both programs, you can see in a jiffy that LibreOffice shows up in searches on average more than twice as often as OpenOffice.</p>
<p>That only scratches the surface. You can also use the service‚Äôs time range option to find that <a href="https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=LibreOffice,OpenOffice" target="_blank" rel="noopener noreferrer">LibreOffice has been more popular than OpenOffice since late 2016</a>. (Which, as it happens, is a few months after I declared LibreOffice the victor between the two.)</p>
<p>Or, to pick a more enterprise-oriented search, when it comes to container orchestration, we all know <a href="https://www.zdnet.com/article/kubernetes-jumps-in-popularity/" target="_blank" rel="noopener noreferrer">Kubernetes is the winner</a>. But, when did it become clear that it was going to beat <a href="https://docs.docker.com/engine/swarm/" target="_blank" rel="noopener noreferrer">Docker Swarm Mode</a> and <a href="https://d2iq.com/" target="_blank" rel="noopener noreferrer">Mesosphere, now D2IQ</a>? One Google Trend search later, and you see that by the spring of 2016, <a href="https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=Kubernetes,Docker%20Swarm,Mesosphere" target="_blank" rel="noopener noreferrer">Kubernetes had already grabbed a large lead</a> in container orchestration mindshare.</p>
<p>Finally, Google Trends is also good when you want to look at what hasn‚Äôt happened yet. For example, ‚Äúbreakouts‚Äù are sudden rises of traffic on a specific search term. By doing a general search on ‚Äútechnology,‚Äù I found the top breakout term was one I‚Äôd never even heard of‚Äîalthough I make my living from tracking what‚Äôs hot in tech: Transportation as a Service (TaaS). Keep an eye on it; interest is high.</p>
<h3>Moving to a new model of judging open-source software</h3>
<p>It would be great if there were a genuinely useful rating system that would help people discover excellent but less-visible open-source projects. But an easy way to work out which of the tens of thousands of projects are the vital, important ones ‚Äì a software Yelp, if you will ‚Äì doesn‚Äôt exist. It may never come to be.</p>
<p>Hope springs eternal. Brian Profitt, <a href="https://www.redhat.com/en" target="_blank" rel="noopener noreferrer">Red Hat</a>‚Äòs Open Source Program Office (OSPO) manager, is working with others on a new project to make it easy to evaluate open-source projects: <a href="https://chaoss.community/" target="_blank" rel="noopener noreferrer">Project CHAOSS</a>. This Linux Foundation project is devoted to creating analytics and metrics that help define open-source community health.</p>
<p>‚ÄúSince I started working at Red Hat, figuring out a way to quantifiably measure community health has been a priority for my team,‚Äù Profitt explains. ‚ÄúAt first, we took a mega-dashboard approach, using the tools provided by the Spanish vendor <a href="https://bitergia.com/" target="_blank" rel="noopener noreferrer">Bitergia</a>. They use open-source projects like <a href="https://chaoss.github.io/grimoirelab/" target="_blank" rel="noopener noreferrer">Grimoirelabs</a> to put together amazing dashboards that give daily updated reports on how our stewarded projects were doing.‚Äù</p>
<p>However, like the other efforts we‚Äôve been discussing, this approach ran into trouble. This time it‚Äôs too much information. ‚ÄúMost of our community managers did not have the time to analyze this firehose of data and make meaningful decisions based on this,‚Äù Profitt says.</p>
<p>So Red Hat also began working on Project CHAOSS. This pulled together Grimoirelab and similar programs, such as <a href="http://www.augurlabs.io/" target="_blank" rel="noopener noreferrer">Augur</a> and Red Hat‚Äôs own <a href="https://github.com/chaoss/prospector" target="_blank" rel="noopener noreferrer">Prospector</a>. CHAOSS has two sides: People working on software applications, and ‚Äúothers working on what things could be defined as part of a community‚Äôs health,‚Äù Profitt says. ‚ÄúIn the past, the argument was always, ‚ÄòWell, my community is different because of X, so you can‚Äôt judge us by the same standards as Y.‚Äô‚Äù</p>
<p>Profitt and CHAOSS disagree with such an argument. ‚ÄúLook at a small hamlet in rural China. Look at a mega-city in Europe. Both communities, but vastly different, right? Except they both have to have ways to deal with water, food, sanitation. They both have to have ways of getting around. Yes, in the hamlet it could be bicycles on a dirt road, and in the big city, it will be streets, highways, trams, subways. But at a fundamental level, the health of the community only depends on if the appropriate level of transportation is available, not what kind.‚Äù</p>
<p>While the focus is on community,<a href="https://chaoss.community/metrics/" target="_blank" rel="noopener noreferrer"> CHAOSS‚Äôs metrics</a> can be used by project managers and maintainers as well. Its metrics include <a href="https://chaoss.community/metric-types-of-contributions/" target="_blank" rel="noopener noreferrer">what kinds of contributions are being made</a>; <a href="https://chaoss.community/metrics/#user-content-focus-area---when" target="_blank" rel="noopener noreferrer">when the contributions are made</a>; and <a href="https://chaoss.community/metrics/#user-content-focus-area---who" target="_blank" rel="noopener noreferrer">who‚Äôs making the contributions</a>. All of which are vital to understanding the overall health of a project.</p>
<p>C‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.functionize.com/blog/wheres-the-yelp-for-open-source-tools/">https://www.functionize.com/blog/wheres-the-yelp-for-open-source-tools/</a></em></p>]]>
            </description>
            <link>https://www.functionize.com/blog/wheres-the-yelp-for-open-source-tools/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533402</guid>
            <pubDate>Sun, 20 Sep 2020 11:42:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Revisiting Apple Notes (6): The Protobuf]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533249">thread link</a>) | @LaSombra
<br/>
September 20, 2020 | https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/ | <a href="https://web.archive.org/web/*/https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody"> <p><strong>TL;DR</strong>: This post explains portions of two protobufs used by Apple, one for the Note format itself and another for embedded objects. More importantly, it explains how you can figure out the structure of protobufs.</p> <!--more--> <h2 id="background">Background</h2> <p>Previous entries in this series covered how to deal with <a href="https://ciofecaforensics.com/2020/01/10/apple-notes-revisited/">Apple Notes</a> and the <a href="https://ciofecaforensics.com/2020/01/13/apple-notes-revisited-easy-embedded-objects/">embedded objects</a> in them, including <a href="https://ciofecaforensics.com/2020/01/14/apple-notes-revisited-embedded-tables/">embedded tables</a> and <a href="https://ciofecaforensics.com/2020/01/20/apple-notes-revisited-galleries/">galleries</a>. Throughout these posts, I have referred to the fact that Apple uses protocol buffers (protobufs) to store the information for both notes and the embedded objects within them. What I have not yet done is actually provide the .proto file that was used to generate the Ruby output, or explained how you can develop the same on your app of interest. If you only care about the first part of that, you can view the <a href="https://github.com/threeplanetssoftware/apple_cloud_notes_parser/blob/master/proto/notestore.proto">.proto file</a> or the <a href="https://github.com/threeplanetssoftware/apple_cloud_notes_parser/blob/master/proto/protobuf_config.py">config</a> I use for <a href="https://github.com/jmendeth/protobuf-inspector">protobuf-inspector</a>. Both of these files are just a start to pull out the important parts for processing and can certainly be improved.</p> <p>As with previous entries, I want to make sure I give credit where it is due. After pulling apart the Note protobuf and while I was trying to figure out the table protobuf, I came across <a href="https://github.com/dunhamsteve">dunhamsteve‚Äôs</a> work. As a result, I went back and modified some of my naming to better align to what he had <a href="https://github.com/dunhamsteve/notesutils/blob/master/notes.md">published</a> and added in some fields like version which I did not have the data to discover.</p> <h2 id="what-is-a-protocol-buffer">What is a Protocol Buffer?</h2> <p>To quote directly from <a href="https://developers.google.com/protocol-buffers">the source</a>,</p> <blockquote> <p>Protocol buffers are Google‚Äôs language-neutral, platform-neutral, extensible mechanism for serializing structured data ‚Äì think XML, but smaller, faster, and simpler. You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages.</p> </blockquote> <p>What does that mean? It means a protocol buffer is a way you can write a specification for your data and use it in many projects and languages with one command. The end result is source code for whatever language you are writing in. For example, <a href="https://github.com/sballin/alfred-search-notes-app/blob/master/search/proto/notestore.pb.go">Sean Ballinger‚Äôs Alfred Search Notes App</a> used my <code>notestore.proto</code> file to compile to Go instead of Ruby to interact with Notes on MacOS. When you use it in your program, the data which you save will be a raw data stream which won‚Äôt look like much, but will be intelligable to any code with that protobuf definition.</p> <p>The definition is generally a <code>.proto</code> file which would look something like:</p> <figure><pre><code data-lang="protobuf"><span>syntax</span> <span>=</span> <span>"proto2"</span><span>;</span>

<span>// Represents an attachment (embedded object)</span>
<span>message</span> <span>AttachmentInfo</span> <span>{</span>
   <span>optional</span> <span>string</span> <span>attachment_identifier</span> <span>=</span> <span>1</span><span>;</span>
   <span>optional</span> <span>string</span> <span>type_uti</span> <span>=</span> <span>2</span><span>;</span>
<span>}</span></code></pre></figure> <p>This definition would have just one message type (AttachmentInfo), with two fields (attachment_identifier and type_uti), both optional. This is using the <code>proto2</code> syntax.</p> <h2 id="why-care-about-protobufs">Why Care About Protobufs</h2> <p>Protobufs are everywhere, especially if you happen to be working with or looking at Google-based systems, such as Android. Apple also uses a lot of them in iOS, and for people that have to support both operating systems, using a protobuf makes the pain of maintaining two different code bases slightly less annoying because you can compile the same definition to different languages. If you are in forensics, you may come across something that looks like it isn‚Äôt plaintext and discover that you‚Äôre actually looking at a protobuf. When it comes specifically to Apple Notes, protobufs are used both for the Note itself and the attachments.</p> <h2 id="how-to-use-a-proto-file">How to Use a .proto file</h2> <p>Assuming you have a <code>.proto</code> file, either from building one yourself or from finding one from your favorite application, you can compile it to your target language using <a href="https://github.com/protocolbuffers/protobuf/releases">protoc</a>. The resulting file can then be included in your project using whatever that language‚Äôs include statement is to create the necessary classes for the data. For example, when writing Apple Cloud Notes Parser in Ruby, I used <code>protoc --ruby_out=. ./proto/notestore.proto</code> to compile it and then <code>require_relative 'notestore_pb.rb'</code> in my code to include it.</p> <p>If I wanted instead to add in support for python, I would only have to make this change: <code>protoc --ruby_out=. --python_out=. ./proto/notestore.proto</code></p> <h2 id="how-can-you-find-a-protobuf-definition-file">How Can You Find a Protobuf Definition File?</h2> <p>If you come up against a protobuf in an application you are looking at, you might be able to find the <code>.proto</code> protobuf definition file in the application itself or somewhere on the forensic image. I ended up going through an iOS 13 forensic image earlier this year and found that Apple still had some of theirs on disk:</p> <figure><pre><code data-lang="shell"><span>[</span>notta@cuppa iOS13_logical]<span>$ </span>find | <span>grep</span> <span>'\.proto$'</span>
./System/Library/Frameworks/MultipeerConnectivity.framework/MultipeerConnectivity.proto
./System/Library/PrivateFrameworks/ActivityAchievements.framework/ActivityAchievementsBackCompat.proto
./System/Library/PrivateFrameworks/ActivityAchievements.framework/ActivityAchievements.proto
./System/Library/PrivateFrameworks/CoreLocationProtobuf.framework/Support/Harvest/CLPCollectionRequest.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingDatabaseCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingDomainCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingInvitationCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingCloudKitCodables.proto
./System/Library/PrivateFrameworks/CloudKitCode.framework/RecordTransport.proto
./System/Library/PrivateFrameworks/RemoteMediaServices.framework/RemoteMediaServices.proto
./System/Library/PrivateFrameworks/CoreDuet.framework/knowledge.proto
./System/Library/PrivateFrameworks/HealthDaemon.framework/Statistics.proto
./System/Library/PrivateFrameworks/AVConference.framework/VCCallInfoBlob.proto
./System/Library/PrivateFrameworks/AVConference.framework/captions.proto</code></pre></figure> <p>Some of these are <em>really</em> interesting when you look at them, particularly if you care about their location data and pairing. You don‚Äôt even have to have an iOS forensic image sitting around as all of the same files are included in your copy of MacOS 10.15.6, as well, if you run <code>sudo find /System/ -iname "*.proto"</code>. I am not including any interesting snippets of those because they are copyrighted by Apple and I would explicitly note that none are related to Apple Notes or the contents of this post.</p> <p>In general, you should not expect to find these definitions sitting around since the definition file isn‚Äôt needed once the code is generated. For more open source applications, you might be interested in some <a href="https://www.google.com/search?q=ext%3Aproto++AND+inurl%3Aproto+AND+message+AND+proto2">Google Dorks</a>, especially when looking at Android artifacts, as you might still find them.</p> <h2 id="how-can-you-rebuild-the-protobuf">How Can You Rebuild The Protobuf?</h2> <p>But what if you can‚Äôt find the definition file, how can you rebuild it yourself? This was the most interesting part of rewriting Apple Cloud Notes Parser as I had no knowledge of how Apple typically represents data, nor protobufs, so it was a fun learning adventure.</p> <p>If you have nothing else, the <code>protoc --decode-raw</code> command can give you an intial look at what is in the data, however this amounts to not much more than pretty printing a JSON object, it doesn‚Äôt do a great job of telling you you what might be in there. I made heavy use of mildsunrise‚Äôs <a href="https://github.com/mildsunrise/protobuf-inspector">protobuf-inspector</a> which at least makes an attempt to tell you what you might be looking at. Another benefit to using this is that it lets you incrementally build up your own definition by editing a file named <code>protobuf_config.py</code> in the protobuf-insepctor folder.</p> <p>For example, below is the output from protobuf-inspector when I ran it on the Gunzipped contents of one of the first notes in my test database.</p> <figure><pre><code data-lang="python"><span>[</span><span>notta</span><span>@</span><span>cuppa</span> <span>protobuf</span><span>-</span><span>inspector</span><span>]</span><span>$</span> <span>python3</span> <span>main</span><span>.</span><span>py</span> <span>&lt;</span> <span>~/</span><span>note_18</span><span>.</span><span>blob</span> 
<span>root</span><span>:</span>
    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
        <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
        <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
        <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
            <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>"Pure blob title"</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>2</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>8</span><span>)</span>
                <span>4</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>3</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>10</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>4</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>14</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>10</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                    <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4294967295</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                    <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4294967295</span>
            <span>4</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>bytes</span> <span>(</span><span>16</span><span>)</span>
                        <span>0000</span>   <span>EE</span> <span>FE</span> <span>10</span> <span>DA</span> <span>5</span><span>A</span> <span>79</span> <span>43</span> <span>25</span> <span>88</span> <span>BA</span> <span>6</span><span>D</span> <span>CA</span> <span>E2</span> <span>E9</span> <span>B7</span> <span>EC</span>                          <span>....</span><span>ZyC</span><span>%</span><span>..</span><span>m</span><span>.....</span>
                    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>24</span><span>)</span>
                    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>9</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>3</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>3</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
          ‚Ä¶</code></pre></figure></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/">https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/</a></em></p>]]>
            </description>
            <link>https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533249</guid>
            <pubDate>Sun, 20 Sep 2020 11:02:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Demystifying AWS VPC: A short step-by-step guide to creating a secure AWS VPC]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533200">thread link</a>) | @dinomad
<br/>
September 20, 2020 | https://scorpil.com/post/aws-vpc/ | <a href="https://web.archive.org/web/*/https://scorpil.com/post/aws-vpc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper"><div id="container"><div><article itemscope="" itemtype="http://schema.org/BlogPosting"><div itemprop="articleBody"><p>VPC is the topic that flies under the radar of many Software Developers, despite being present in every AWS account (well, maybe not for accounts created before 2009‚Ä¶ But that‚Äôs unlikely). There are a few reasons for this I can think of:</p><ol><li>Big companies have Ops/DevOps/SysAdmin/SRE/Security departments that take care of VPC</li><li>Startups often don‚Äôt bother tuning it - everything works with default settings after all</li><li>Networking is complicated and is rarely regarded as fun</li></ol><p>Despite those somewhat justified arguments, most developers that deal with AWS would benefit from digging deeper into VPC setup and it‚Äôs configuration. Here are my counterpoints:</p><ol><li>Understanding VPC will help you communicate with; Ops/DevOps/SysAdmin/SRE/Security department much more efficiently</li><li>Everything works by default because everything is open (i.e. unsecure) by default</li><li>Oh but it <em>is</em> fun when you dig deep enough</li></ol><p>So let‚Äôs take a careful look into AWS networking from the software engineering perspective. This post requires from the reader a very basic level of familiarity with AWS terminology and networking: you need to understand things like regions and availability zones, and have an idea of what an IP address is.</p><p>To make this post a bit less abstract, we will configure a VPC for a common real-world scenario: distributed application running in two availability zones in a single region consisting of <em>public</em> EC-2 instances serving a web-application and <em>private</em> EC-2 instances hosting a database. You can improve on the architecture by using RDS, adding a loadbalancer, configuring VPC peering with other regions, etc., but we will leave those topics out of the scope of this post - the topic at hand is complicated enough.</p><h3 id="vpc---what-is-it-actually">VPC - what is it actually</h3><p>VPC stands for Virtual Private Cloud, which is a very apt name for a service, unlike some other AWS services I can think of‚Ä¶</p><ul><li>It‚Äôs <strong>Virtual</strong>, because like most user-facing things in modern clouds it‚Äôs powered by software and not copper. Hence its flexibility: neither you nor AWS will need to plug in a single RJ45 jack to configure it;</li><li>It‚Äôs <strong>Private</strong>, because it allows you to carve out your own dedicated space for your cloud infrastructure, walled out and carefully guarded against the dangers of the public internet;</li><li>It‚Äôs a <strong>Cloud</strong> because, well, it‚Äôs in <strong>AWS</strong>. Or, actually, the better way to think about it as being <em>around</em> AWS.</li></ul><p>In other words, the idea of VPC is to give the user a granular set of controls over what networks requests are allowed to reach its services from the outside, and how to route the requests inside the cloud infrastructure.</p><p>VPC operates on the regional level, meaning that if you want your application to span multiple regions you will need to perform VPC setup for each region separately and configure a VPC peering between them.</p><p>‚ÄûFresh‚Äú AWS accounts come with the ‚Äûdefault‚Äú VPC preconfigured. You can‚Äôt really start, for example, an EC2 instance without any VPC at all, so ‚Äûdefault‚Äú VPC is where the new instances get launched into if nothing else is configured (hence the ‚Äûdefault‚Äú name). This way amazon manages to balance user-friendliness with flexibility, and that‚Äôs why launching an EC2 instance on a ‚Äûfresh‚Äú account works out of the box. The problem is, however, that the default VPC is not tailored in any way to the needs of your application, so it will allow all incoming traffic to all existing instances. Correctly configured Security Groups help somewhat protect your resources from completely exposing their ports to the public, and to be frank they are often completely sufficient to protect a simple app. However, as the infrastructure grows to accommodate more distinct components and services with complicated access patterns between them, you might want to invest in a more delicate access configuration.</p><p>When creating a custom VPC, there are two important decisions to make:</p><ul><li><p>the size of the VPC: e.g. roughly the number of instances and services you plan to <strong>ever</strong> host inside the VPC. You can‚Äôt change this value so make it big. Normally, you wouldn‚Äôt go lower than a few thousand addresses.</p></li><li><p>the private IP address range. Instances inside your VPC will receive IP addresses from this address range. Technically, nothing stops you from choosing any IP range you‚Äòd like; however, if your private IP matches the IP of anything on the public internet you won‚Äôt be able to access it from within the VPC. For this reason, internal networks are configured to use the subset of one of the following <a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses">reserved</a> IP ranges:</p><ul><li>10.0.0.0-10.255.255.255 - 16 million private IPs in total, the default choice for cloud hosting.</li><li>172.16.0.0 ‚Äì 172.31.255.255 - almost 1 million IPs</li><li>192.168.0.0 ‚Äì 192.168.255.255 - 65536 IP‚Äòs, commonly seen on home routers</li></ul></li></ul><p>For our VPC we want to have around 4000 IPs available in 10.x.x.x range. We can‚Äôt enter those numbers directly into the VPC configuration, we need to translate them into a <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR</a> notation first. CIDR is just a special format to describe an IP sub-range concisely. You can use IP subnet calculators like <a href="https://cidr.xyz/">cidr.xyz</a> (for IPv4) and <a href="https://cidrv6.xyz/">cidrv6.xyz</a> (for IPv6) to get an intuition into how CIDR works. CIDR value for our example is 10.0.0.0/20.</p><p>We will also enable IPv6 on our VPC. AWS VPC‚Äôs use IPv4 as a default addressing format, IPv6 configuration is completely optional. The approach AWS takes to IPv6 routing is quite different than what we used to for IPv4. IPv6 spec defines address range `fc00::/7` to be private but it‚Äôs used much less frequently than 10.x.x.x in IPv4. Ipv6 address space is just so large, that AWS simply allocates /56 public address range from his own address pool to your VPC and calls it a day. For this reason, there are no ‚Äúprivate‚Äù IPv6 addresses in AWS. IPv6 range allocated to every VPC in AWS contains 2^72 addresses, which will be more than enough for *any* VPC ever. Just to put the number into perspective, it‚Äôs enough to assign an IPv6 address to each grain of sand on the planet. The ability to assign globally unique addresses to each of your resources makes network architecture in many ways simpler, but at the same time, it makes secure routing configuration even more important. We‚Äôll discuss the reasons for it in more detail in a subnet section.</p><p>As a summary, here‚Äôs what our initial VPC configuration looks like:</p><table><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr><td>Name</td><td><code>my-secure-vpc</code> (can be anything really)</td></tr><tr><td>CIDR block</td><td><code>10.0.0.0/20</code></td></tr><tr><td>IPv6</td><td>Amazon-provided IPv6 CIDR block (in context of this post let‚Äôs assume it‚Äôs <code>2001:db8::aa00::/56</code>)</td></tr></tbody></table><h3 id="internet-gateway">Internet Gateway</h3><p>Internet Gateway is an abstract VPC component that represents internet access. The only purpose of the Internet Gateway is to serve as a source/target in the VPC routing configuration. You can‚Äôt really configure it in any meaningful way, apart from attaching it to VPC. Internet Gateway is present from the start in the default VPC, but <strong>it won‚Äôt be created</strong> for any custom VPC you create. Since we want to be able to access some resources in our VPC from the Internet, we need to create a new Internet Gateway and attach it to our VPC.</p><h3 id="subnets">Subnets</h3><p>The cornerstone of understanding VPC is understanding the concept of subnets. In short, <strong>subnet</strong> is a way of splitting your VPC into small manageable chunks, each of which contains instances and services with a similar type of network access. The ‚Äûtype of network access‚Äú here is up to you to define, but in our case, we want a ‚Äûprivate‚Äú subnets for database instances and a ‚Äûpublic‚Äú subnet for our webserver. An important detail to remember is that subnets can‚Äôt span multiple availability zones. In our case we want our application to work in two different availability zones, this means we need ‚Äúprivate‚Äù and ‚Äúpublic‚Äù subnet in each of them, 4 subnets in total. Fortunately, it‚Äôs easy to configure functionally similar subnets by attaching them to the same routing table (more about them in the next section).</p><p>Subnets are defined in CIDR notation, which we already discussed in VPC section. AWS makes sure that you will not define two overlapping subnets, because that would break our routing logic. For each subnet, AWS reserves first four and last one IP‚Äôs for its internal tasks, so it‚Äôs common to configure the size of the subnet of at least /24. This size makes our IP addresses look ‚Äúcleaner‚Äù: we can distinguish subnet based on the value of the second-to-last octet in the IP address. You can play around with a subnet calculator to understand why that‚Äôs the case. For IPv6, AWS set subnet size to /64 (not configurable).</p><p>You can configure the subnet to automatically map a public IPv4 address for all instances launched into it - we will need to do this for our public subnet.</p><p>Considering anything above, our 4 new subnets would look something like this:</p><table><thead><tr><th>Name</th><th>CIDR (v4)</th><th>CIDR (v6)</th><th>AZ</th><th>Public IPv4</th></tr></thead><tbody><tr><td>public-a</td><td>10.0.1.0/24</td><td>2001:db8::aa01/56</td><td>a</td><td>‚úì</td></tr><tr><td>public-b</td><td>10.0.2.0/24</td><td>2001:db8::aa02/56</td><td>b</td><td>‚úì</td></tr><tr><td>private-a</td><td>10.0.3.0/24</td><td>2001:db8::aa03/56</td><td>a</td><td></td></tr><tr><td>private-b</td><td>10.0.4.0/24</td><td>2001:db8::aa04/56</td><td>b</td><td></td></tr></tbody></table><h3 id="route-tables">Route tables</h3><p><em>Route tables</em> fill the role of the router for your VPC. They allow you to configure destinations for packets depending on their destination IP.</p><p>When you first create a VPC, a single ‚Äúdefault‚Äù route table is created for you. It contains two rules needed to route private traffic internally within our VPC:</p><table><thead><tr><th>Destination</th><th>Target</th></tr></thead><tbody><tr><td><code>10.0.0.0/20</code></td><td>local</td></tr><tr><td><code>2001:db8::aa01/64</code></td><td>local</td></tr></tbody></table><p>All subnets that we created are by default associated with this route table. It‚Äôs a good security practice to make defaults as restricted as possible, so we will keep default route table private. For our public subnet we need to make a new table, and add routes to Internet Gateway there:</p><table><thead><tr><th>Destination</th><th>Target</th></tr></thead><tbody><tr><td><code>10.0.0.0/20</code></td><td>local</td></tr><tr><td><code>2001:db8::aa01/64</code></td><td>local</td></tr><tr><td><code>0.0.0.0/0</code></td><td>internet gateway</td></tr><tr><td><code>::/0</code></td><td>internet gateway</td></tr></tbody></table><p>Now we just associate our public subnet with the new route table to make them <em>really</em> public.</p><h3 id="network-access-control-lists-nacls">Network Access Control Lists (nACL‚Äôs)</h3><p><em>nACL‚Äôs</em> are an additional level of protection that sits in front of your subnets. You can configure them by adding firewall rules operating on <a href="https://en.wikipedia.org/wiki/OSI_model#Layer_4:_Transport_Layer">OSI layer 4</a>. Default NACL configuration allows all traffic through, and it suits our usecase. If you need to block a particular source IP or destination port ‚Ä¶</p></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://scorpil.com/post/aws-vpc/">https://scorpil.com/post/aws-vpc/</a></em></p>]]>
            </description>
            <link>https://scorpil.com/post/aws-vpc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533200</guid>
            <pubDate>Sun, 20 Sep 2020 10:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Writing a Ractor-based web server]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24533152">thread link</a>) | @todsacerdoti
<br/>
September 20, 2020 | http://kirshatrov.com/2020/09/08/ruby-ractor-web-server/ | <a href="https://web.archive.org/web/*/http://kirshatrov.com/2020/09/08/ruby-ractor-web-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <p><span>08 Sep 2020</span></p><p>Ractor, the new concurrency primitive in Ruby, <a href="https://github.com/ruby/ruby/pull/3365" target="_blank">has been merged</a> to the upstream few days ago. I‚Äôve been following that PR and watching the author‚Äôs <a href="https://www.youtube.com/watch?v=40t8EPpnujg&amp;list=PLbFmgWm555yZeLpdOLhYwORIF9UjBAFHw&amp;index=17" target="_blank">talk at RubyKaigi</a> (in Japanese, I wasn‚Äôt able to find the translated version but it should be available <em>somewhere</em>), which got me excited to try Ractor myself.</p>

<p>A web application server is the first thing that comes to mind when playing with concurrency. On top of that, not too long ago I‚Äôve implemented TCP servers in Rust and Go, so I got curious to write a <strong>simple web server using Ractor</strong>.</p>

<p>Let‚Äôs dive in!</p>

<h2 id="whats-in-a-web-server">What‚Äôs in a web server?</h2>

<p>A web server is something that accepts a TCP socket, reads from it, parses HTTP headers and responds with HTTP body. It‚Äôs a text-based protocol that is easy to implement.</p>

<p>Here‚Äôs a sample request (what you‚Äôd read from the socket):</p>

<div><div><pre><code>GET / HTTP/1.1
Host: localhost:10000
User-Agent: curl/7.64.1
Accept: */*
</code></pre></div></div>

<p>And a sample response (what you‚Äôd write):</p>

<div><div><pre><code>HTTP/1.1 200
Content-Type: text/html

Hello world
</code></pre></div></div>

<p>We will start by grabbing a gist from the <a href="https://blog.appsignal.com/2016/11/23/ruby-magic-building-a-30-line-http-server-in-ruby.html" target="_blank">Building a 30 line HTTP server in Ruby</a> post by AppSignal.</p>

<div><div><pre><code><span>require</span> <span>'socket'</span>
<span>server</span> <span>=</span> <span>TCPServer</span><span>.</span><span>new</span><span>(</span><span>8080</span><span>)</span>

<span>while</span> <span>session</span> <span>=</span> <span>server</span><span>.</span><span>accept</span>
  <span>request</span> <span>=</span> <span>session</span><span>.</span><span>gets</span>
  <span>puts</span> <span>request</span>

  <span>session</span><span>.</span><span>print</span> <span>"HTTP/1.1 200</span><span>\r\n</span><span>"</span>
  <span>session</span><span>.</span><span>print</span> <span>"Content-Type: text/html</span><span>\r\n</span><span>"</span>
  <span>session</span><span>.</span><span>print</span> <span>"</span><span>\r\n</span><span>"</span>
  <span>session</span><span>.</span><span>print</span> <span>"Hello world! The time is </span><span>#{</span><span>Time</span><span>.</span><span>now</span><span>}</span><span>"</span>

  <span>session</span><span>.</span><span>close</span>
<span>end</span>
</code></pre></div></div>

<h2 id="starting-with-ractor">Starting with Ractor</h2>

<p>To get started with Ractor, I recommend to read the <a href="https://github.com/ko1/ruby/blob/dc7f421bbb129a7288fade62afe581279f4d06cd/doc/ractor.md" target="_blank">doc</a> in the ruby repo.</p>

<p>Now, let‚Äôs wrap the example from above into Ractors.</p>

<div><div><pre><code><span>require</span> <span>'socket'</span>
<span>server</span> <span>=</span> <span>TCPServer</span><span>.</span><span>new</span><span>(</span><span>8080</span><span>)</span>
<span>CPU_COUNT</span> <span>=</span> <span>4</span>
<span>workers</span> <span>=</span> <span>CPU_COUNT</span><span>.</span><span>times</span><span>.</span><span>map</span> <span>do</span>
  <span>Ractor</span><span>.</span><span>new</span> <span>do</span>
    <span>loop</span> <span>do</span>
      <span># receive TCPSocket</span>
      <span>s</span> <span>=</span> <span>Ractor</span><span>.</span><span>recv</span>

      <span>request</span> <span>=</span> <span>s</span><span>.</span><span>gets</span>
      <span>puts</span> <span>request</span>

      <span>s</span><span>.</span><span>print</span> <span>"HTTP/1.1 200</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Content-Type: text/html</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Hello world! The time is </span><span>#{</span><span>Time</span><span>.</span><span>now</span><span>}</span><span>\n</span><span>"</span>
      <span>s</span><span>.</span><span>close</span>
    <span>end</span>
  <span>end</span>
<span>end</span>

<span>loop</span> <span>do</span>
  <span>conn</span><span>,</span> <span>_</span> <span>=</span> <span>server</span><span>.</span><span>accept</span>
  <span># pass TCPSocket to one of the workers</span>
  <span>workers</span><span>.</span><span>sample</span><span>.</span><span>send</span><span>(</span><span>conn</span><span>,</span> <span>move: </span><span>true</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>We start the number of workers that equals the number of CPUs and have the main thread to listen to connections on the socket and send accepted connection to a random Ractor. We can validate that it works as expect by making a request with <code>curl</code>.</p>

<p>However, distributing requests among workers using <code>workers.sample</code> is not very efficient. That random worker might still be busy serving the previous request. We‚Äôd rather have workers pull from a shared queue where we‚Äôd send all requests.</p>

<p>I wanted to make that part better but I didn‚Äôt find any Ractor-friendly queue implementation. However, the <a href="https://github.com/ko1/ruby/blob/dc7f421bbb129a7288fade62afe581279f4d06cd/doc/ractor.md" target="_blank">doc</a> suggesting using a pipe like a queue. Let‚Äôs try that!</p>

<div><div><pre><code><span>require</span> <span>'socket'</span>

<span># pipe aka a queue</span>
<span>pipe</span> <span>=</span> <span>Ractor</span><span>.</span><span>new</span> <span>do</span>
  <span>loop</span> <span>do</span>
    <span>Ractor</span><span>.</span><span>yield</span><span>(</span><span>Ractor</span><span>.</span><span>recv</span><span>,</span> <span>move: </span><span>true</span><span>)</span>
  <span>end</span>
<span>end</span>

<span>CPU_COUNT</span> <span>=</span> <span>4</span>
<span>workers</span> <span>=</span> <span>CPU_COUNT</span><span>.</span><span>times</span><span>.</span><span>map</span> <span>do</span>
  <span>Ractor</span><span>.</span><span>new</span><span>(</span><span>pipe</span><span>)</span> <span>do</span> <span>|</span><span>pipe</span><span>|</span>
    <span>loop</span> <span>do</span>
      <span>s</span> <span>=</span> <span>pipe</span><span>.</span><span>take</span>

      <span>data</span> <span>=</span> <span>s</span><span>.</span><span>recv</span><span>(</span><span>1024</span><span>)</span>
      <span>puts</span> <span>data</span><span>.</span><span>inspect</span>

      <span>s</span><span>.</span><span>print</span> <span>"HTTP/1.1 200</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Content-Type: text/html</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Hello world!</span><span>\n</span><span>"</span>
      <span>s</span><span>.</span><span>close</span>
    <span>end</span>
  <span>end</span>
<span>end</span>

<span>server</span> <span>=</span> <span>TCPServer</span><span>.</span><span>new</span><span>(</span><span>8080</span><span>)</span>
<span>loop</span> <span>do</span>
  <span>conn</span><span>,</span> <span>_</span> <span>=</span> <span>server</span><span>.</span><span>accept</span>
  <span>pipe</span><span>.</span><span>send</span><span>(</span><span>conn</span><span>,</span> <span>move: </span><span>true</span><span>)</span>
<span>end</span>
</code></pre></div></div>

<p>It worked! By using the pipe I was able to make all workers to pull for sockets which improved the load balancing part.</p>

<p>What‚Äôs still not great is that there‚Äôs nothing that monitors workers in case one of them unexpectedly dies. And similar to <a href="https://github.com/puma/puma/blob/master/docs/architecture.md" target="_blank">Puma‚Äôs architecture</a>, it would be more efficient to have a separate thread to wait for sockets to become ready to read before passing them to actual workers.</p>

<p>I was able to move listener into its own Ractor and to make the main thread to watch all Ractors:</p>

<div><div><pre><code><span>require</span> <span>'socket'</span>

<span>pipe</span> <span>=</span> <span>Ractor</span><span>.</span><span>new</span> <span>do</span>
  <span>loop</span> <span>do</span>
    <span>Ractor</span><span>.</span><span>yield</span><span>(</span><span>Ractor</span><span>.</span><span>recv</span><span>,</span> <span>move: </span><span>true</span><span>)</span>
  <span>end</span>
<span>end</span>

<span>CPU_COUNT</span> <span>=</span> <span>4</span>
<span>workers</span> <span>=</span> <span>CPU_COUNT</span><span>.</span><span>times</span><span>.</span><span>map</span> <span>do</span>
  <span>Ractor</span><span>.</span><span>new</span><span>(</span><span>pipe</span><span>)</span> <span>do</span> <span>|</span><span>pipe</span><span>|</span>
    <span>loop</span> <span>do</span>
      <span>s</span> <span>=</span> <span>pipe</span><span>.</span><span>take</span>
      <span>puts</span> <span>"taken from pipe by </span><span>#{</span><span>Ractor</span><span>.</span><span>current</span><span>}</span><span>"</span>

      <span>data</span> <span>=</span> <span>s</span><span>.</span><span>recv</span><span>(</span><span>1024</span><span>)</span>
      <span>puts</span> <span>data</span><span>.</span><span>inspect</span>

      <span>s</span><span>.</span><span>print</span> <span>"HTTP/1.1 200</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Content-Type: text/html</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Hello world!</span><span>\n</span><span>"</span>
      <span>s</span><span>.</span><span>close</span>
    <span>end</span>
  <span>end</span>
<span>end</span>

<span>listener</span> <span>=</span> <span>Ractor</span><span>.</span><span>new</span><span>(</span><span>pipe</span><span>)</span> <span>do</span> <span>|</span><span>pipe</span><span>|</span>
  <span>server</span> <span>=</span> <span>TCPServer</span><span>.</span><span>new</span><span>(</span><span>8080</span><span>)</span>
  <span>loop</span> <span>do</span>
    <span>conn</span><span>,</span> <span>_</span> <span>=</span> <span>server</span><span>.</span><span>accept</span>
    <span>pipe</span><span>.</span><span>send</span><span>(</span><span>conn</span><span>,</span> <span>move: </span><span>true</span><span>)</span>
  <span>end</span>
<span>end</span>

<span>loop</span> <span>do</span>
  <span>Ractor</span><span>.</span><span>select</span><span>(</span><span>listener</span><span>,</span> <span>*</span><span>workers</span><span>)</span>
  <span># if the line above returned, one of the workers or the listener has crashed</span>
<span>end</span>
</code></pre></div></div>

<p>Again, it worked!</p>

<p>The next step of implementing a web server would be to bake a HTTP parser to read request headers. There‚Äôs a <a href="https://github.com/cotag/http-parser" target="_blank">http-parser</a> gem that is using a C extension, and I‚Äôve heard that is not supported by Ractor yet.</p>

<p>I found an HTTP parser that comes as a part of WEBrick which is a built into Ruby‚Äôs standard library.</p>

<p>I tried the following snippet:</p>

<div><div><pre><code><span>require</span> <span>'webrick'</span>

<span>CPU_COUNT</span> <span>=</span> <span>4</span>
<span>workers</span> <span>=</span> <span>CPU_COUNT</span><span>.</span><span>times</span><span>.</span><span>map</span> <span>do</span>
  <span>Ractor</span><span>.</span><span>new</span><span>(</span><span>pipe</span><span>)</span> <span>do</span> <span>|</span><span>pipe</span><span>|</span>
    <span>loop</span> <span>do</span>
      <span>s</span> <span>=</span> <span>pipe</span><span>.</span><span>take</span>

      <span># raises "can not access non-sharable objects in constant HTTP by non-main Ractors (NameError)"</span>
      <span>req</span> <span>=</span> <span>WEBrick</span><span>::</span><span>HTTPRequest</span><span>.</span><span>new</span><span>(</span><span>WEBrick</span><span>::</span><span>Config</span><span>::</span><span>HTTP</span><span>)</span>
      <span>req</span><span>.</span><span>parse</span><span>(</span><span>s</span><span>)</span>

      <span>s</span><span>.</span><span>print</span> <span>"HTTP/1.1 200</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Content-Type: text/html</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"</span><span>\r\n</span><span>"</span>
      <span>s</span><span>.</span><span>print</span> <span>"Hello world!</span><span>\n</span><span>"</span>
      <span>s</span><span>.</span><span>close</span>
    <span>end</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p><code>WEBrick::Config::HTTP</code> turned to be a mutable hash with some configuration objects. Since that constant and a hash were initialized in the main thread, it wasn‚Äôt allowed to be safely used from ractors. I worked around by inlining the hash definition but then I hit another non-shareable constant referenced from the WEBrick code that wasn‚Äôt too easy to inline.</p>

<p>This is probably the part that will improve on the upstream very soon. After all, this is the earliest Ractor implementation.</p>

<h2 id="the-end">The end</h2>

<p>I‚Äôm really excited about new concurrency primitives like Ractor getting pushed into Ruby‚Äôs upstream.</p>

<p>The Ractor model seems powerful and ready for experimental use. Within the next 6 months (Ruby 3.0 release is scheduled for December), I foresee a Ractor-based web server to come out to leverage this feature and get the most out of server CPUs. This is a great opportunity to learn concurrent programming and to contribute to the Ruby community.</p>

<p>For those curious to try Ractor, I‚Äôd suggest to try implementing other things that benefit from parallel execution, for instance a background job processor.</p>

<p>To try Ractor, you‚Äôll need to build Ruby from the upstream. Read my previous posts (<a href="https://kirshatrov.com/2020/01/11/contributing-to-mri/" target="_blank">Contributing to Ruby MRI</a>) to learn about how to do that.</p>

</div></div>]]>
            </description>
            <link>http://kirshatrov.com/2020/09/08/ruby-ractor-web-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24533152</guid>
            <pubDate>Sun, 20 Sep 2020 10:35:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Orb√°n played Germany, Europe's great power]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532961">thread link</a>) | @vr46
<br/>
September 20, 2020 | https://www.direkt36.hu/en/a-magyar-nemet-kapcsolatok-rejtett-tortenete/ | <a href="https://web.archive.org/web/*/https://www.direkt36.hu/en/a-magyar-nemet-kapcsolatok-rejtett-tortenete/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>In October 2017, important figures of German and international business and political life gathered at a reception in a glass-walled hall on one of the upper floors of Frankfurt‚Äôs tallest skyscraper. At the event, one of the top executives of a German automobile manufacturing group, warmed and loosened up by some glasses of wine, started entertaining those around him with anecdotes. After some time, the conversation was directed to Hungary.</p>
<p>The senior automotive manager bragged about the fact that the executives of his company could call Hungarian Foreign Minister P√©ter Szijj√°rt√≥ at any time if they had any requests regarding their factories in Hungary. He then added that if necessary, they could even speak directly to Viktor Orb√°n ‚Äì in fact, he said, the Hungarian Prime Minister had already helped them with a specific case.</p>
<p>Two years earlier, in September 2015, Germany‚Äôs automotive industry was hit by its biggest scandal ever. It was found that Volkswagen Group‚Äôs (VW) diesel cars used software manipulation to cheat on emission tests for many years (later several other German and non-German companies were found to have manipulated their data in a similar way). As a result of the scandal, the price of VW shares began to plummet and it looked like several companies could be seriously endangered, forcing them to close factories and cut jobs.</p>
<p>At the reception in Frankfurt, the German automotive executive claimed that the diesel emissions scandal had become so embarrassing for the federal government after a while that they felt the German state was starting to back out from behind them. Executives of his group of companies then turned directly to Viktor Orb√°n, asking him to represent the interests of car manufacturers in the European Council that was currently discussing the matter. Viktor Orb√°n agreed to help and kept his promise, the German automotive executive said with satisfaction.</p>
<div itemscope="" itemtype="http://schema.org/VideoObject"><p><iframe src="//www.youtube.com/embed/xCtaFfcysH4?iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;wmode=transparent&amp;autoplay=0" frameborder="0" scrolling="no" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe></p></div>
<p>Since the beginning of 2016, the European Council, which represents governments of European Union member states, has repeatedly addressed the reform of vehicle emission rules. However, Germany has been trying to soften stricter regulations in alliance with Italy and Eastern European member states with significant German automotive investments. In September 2017, a new regulation finally came into force but it was full of loopholes, applied only to new cars not yet on the roads, and made many other concessions to automakers.</p>
<p>A German business source present at the Frankfurt reception told Direkt36 about the lobbying and the role of Orb√°n, adding that there was nothing glaring about it. ‚ÄúRepresentatives of every important company say they have Szijj√°rt√≥ and others‚Äô phone numbers,‚Äù the source said, adding that top executives of several German carmakers told similar stories, and that they all</p>
<blockquote><p>‚Äúabsolutely feel that the Hungarian government is in their pockets.‚Äù</p></blockquote>
<p>The spokesperson of Viktor Orb√°n and the Ministry of Foreign Affairs and Trade headed by Szijj√°rt√≥ did not respond to our request.</p>
<p>However, a former senior official in the Orb√°n government confirmed that ‚ÄúViktor Orb√°n defends the interests of German car manufacturers in the European Council‚Äù. Nevertheless, according to the source, there is nothing surprising in this, as Hungarian governments have always been accommodating to German carmakers. Following the outbreak of the diesel emissions scandal, Mih√°ly Varga, Minister of Finance of the Orb√°n government, said that 2-2.5 million of the Volkswagen Group‚Äôs 11 million diesel cars with cheating engines were manufactured at the Audi plant in the city of Gy≈ër and that ‚Äúthe government‚Äôs most important goal is maintaining jobs in the automotive industry and preserving the stability that the automotive industry provides in Hungary‚Äù.</p>
<p>The above story is a good example of how a relationship based on mutual benefits and dependence has developed between German policy makers, influential companies in German industry and the Hungarian government over the years and decades. German carmakers are the number one engine of Hungarian economic growth and, through this, of the Orb√°n government‚Äôs political successes. According to data by the Hungarian Central Statistical Office, car manufacturing accounts for 4.5% of Hungary‚Äôs GDP and suppliers working for large car manufacturers account for another 5-8%. This means that every eighth to tenth forint produced in Hungary has to do something with the Germany-dominated car industry.</p>
<p>Now is a particularly sensitive period in Hungarian-German relations. In the coming months, political issues determining the long-term European bargaining power of the Orb√°n government and Hungary will be settled in the European Union. In these debates, Viktor Orb√°n‚Äôs German allies will have the final say, and although they have repeatedly criticized decisions of the Hungarian government, they have so far refrained from acting really hard.</p>
<p>Direkt36 uncovered details of this intricate system of relationships, the interests that drive it, and the key players in a months-long investigation. We found how decades of personal relationships control Orb√°n‚Äôs maneuvers in Germany; how German companies give up much-talked-about democratic values ‚Äã‚Äãif it is in their business interests; and, for example, that the Hungarian government was able to prevent Jewish leaders in Budapest from sharing their concerns with Angela Merkel.</p>
<p>In our research, we had in-depth background conversations with two dozen sources ‚Äî current and former government officials, diplomats, political intermediaries, business executives, and analysts. Most of them shared information about behind-the-scenes events if we did not write down their names.</p>
<h2>I. Orb√°n‚Äôs German patrons</h2>
<figure id="attachment_6438"><img src="https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001.jpeg" alt="" width="3868" height="2416" srcset="https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001.jpeg 3868w, https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001-150x94.jpeg 150w, https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001-300x187.jpeg 300w, https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001-768x480.jpeg 768w, https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001-1200x750.jpeg 1200w, https://www.direkt36.hu/wp-content/uploads/2020/09/signal-2020-09-17-093904_001-1177x735.jpeg 1177w" sizes="(max-width: 3868px) 100vw, 3868px"><figcaption>Source: kormany.hu</figcaption></figure>
<p>‚ÄúCall the Count and tell him we‚Äôd like to visit him!‚Äù <span lang="EN">This is the task Viktor Orb√°n gave Gergely Pr≈ëhle on the night of his first election victory, on May 24, 1998. Pr≈ëhle was the head of the Budapest office of the Friedrich Naumann Foundation (ie the party foundation of the German Free Democratic Party, the FDP). </span> Four days later, the new prime minister-elect was already in Bonn, where executives of German industrial giants like Audi, Bosch or Siemens were waiting to meet him. Orb√°n reassured them, according to the Hungarian state news agency‚Äôs report, that a predictable economic environment awaits them, moreover, his government wants to increase foreign investment, primarily in manufacturing.</p>
<p>The meeting, which was organized in only matter of few days, was thanks to to Otto Graf Lambsdorff, the influential liberal politician and honorary president of the FDP, who was most often referred to by his acquaintances only as ‚Äúthe Count‚Äù. Lambsdorff had known Orban for a long time, he led the Liberal International when Fidesz became a member in 1992. During Orb√°n‚Äôs visit, Lambsdorff proudly talked to the German press about the future prime minister and boasted that he ‚Äúhas been watching Orb√°n‚Äôs political career since the regime change in Hungary and is very happy to support him‚Äù. Gergely Pr≈ëhle, who later also served as ambassador to Berlin and deputy secretary of state for foreign affairs under the Orb√°n government, told Direkt36 that ‚ÄúLambsdorff had already started traveling to Eastern Europe before 1989 and had become Orb√°n‚Äôs first German patron. He was an infinitely smart person from whom much could be learned. The count saw the economic-political ties in light of a full historical context, he was a formidable personality‚Äù.</p>
<p><span lang="EN">The relationship between Orb√°n and Lambsdorff was so close that it even survived when Fidesz broke ties with the European political family the Count represented. Pr≈ëhle also wrote an article on Lambsdorff for <a href="https://www.valaszonline.hu/2019/12/05/ezt-a-libprohle-gergely-otto-graf-lambsdorff/">Valasz Online</a>. According to him, the Count watched Orb√°n‚Äôs politics turn conservative in the mid-1990s with some disappointment, but accepted the political realities. He also observed, how over time, leader of the Christian Democratic Union (CDU) Helmut Kohl became the most important point of reference for Orb√°n. At one point, Orb√°n explained to Lambsdorff that </span></p>
<blockquote><p><span lang="EN">‚Äúin order for him to maximize votes in Hungary, the liberal slogan is not good, and the Count understood that‚Äù. </span></p></blockquote>
<p><span lang="EN">However, the two politicians remained close friends, and later in 2009 Orb√°n was the only foreign guest at Lambsdorff‚Äôs private funeral.</span></p>
<p><span lang="EN">During his visit to Germany in May 1998, Orb√°n not only spoke to company executives, but also spent an hour and a half meeting with German Chancellor Helmut Kohl, then head of government for 16 years, who was facing a really close election a few months later. At that time, officials from the Hungarian foreign ministry, which was still under socialist leadership, advised Orb√°n to also meet Kohl‚Äôs challenger, Gerhard Schr√∂der, because he seemed more likely to win the election. However, because of his loyalty to Kohl, ‚ÄúOrb√°n rejected this idea, while for example, the Polish Prime Minister did meet with Schr√∂der. Schr√∂der and his people didn‚Äôt forget this later, neither for the Poles, nor for us,‚Äù a former Hungarian foreign ministry official told Direkt36.</span></p>
<p><span lang="EN">It was a tight race, but Schr√∂der eventually defeated Kohl. According to S√°ndor Peisch, who served as Hungarian ambassador to Berlin under the Socialist MSZP governments between 2003 and 2010, this was also the end of an era when the German leadership still looked at Hungary with gratitude for its role in the country‚Äôs reunification. An important milestone in the process leading to the fall of the Berlin Wall, was the opening of the Hungarian-Austrian border. It started in the summer of 1989 and was officially announced in September, paving the way for East German refugees to travel via Austria to West Germany. But ‚Äúthe SPD was never enthusiastic about reunification. At one of our meetings, for example, Chancellor Schr√∂der began to complain about how much money it had costed,‚Äù Peisch told Direkt36.</span></p>
<p><span lang="EN">Viktor Orb√°n and Helmut Kohl thus ruled simultaneously for only a few months. While Lambsdorff was a true ‚Ä¶</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.direkt36.hu/en/a-magyar-nemet-kapcsolatok-rejtett-tortenete/">https://www.direkt36.hu/en/a-magyar-nemet-kapcsolatok-rejtett-tortenete/</a></em></p>]]>
            </description>
            <link>https://www.direkt36.hu/en/a-magyar-nemet-kapcsolatok-rejtett-tortenete/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532961</guid>
            <pubDate>Sun, 20 Sep 2020 09:50:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Seeing things a different way; simple test for aphantasia]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532946">thread link</a>) | @avoidboringppl
<br/>
September 20, 2020 | https://www.leonlinsx.com/aphantasia/ | <a href="https://web.archive.org/web/*/https://www.leonlinsx.com/aphantasia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
        <header>
          
          
            <p> 




  15 minute read
</p>
          
        </header>
      

      <section itemprop="text">
        
        <h2 id="takeaways">Takeaways</h2>

<ol>
  <li>The way you imagine things could be drastically different compared to most. There‚Äôs a simple test to find out how</li>
  <li>IPO pricing is difficult and success is hard to measure</li>
  <li>The direct relationship newsletters provide is game-changing, and I think the industry has huge room for growth</li>
</ol>

<p><em>This is a lightly edited version of <a href="https://avoidboringpeople.substack.com/" title="ABP">my monthly newsletter.</a> Sign up below</em></p>





<h2 id="how-well-can-you-visualise-something">How well can you visualise something?</h2>

<p>I just learnt that people visualise differently. Take this 10 second test:</p>

<p><img src="https://www.leonlinsx.com/assets/images/Aphantasia-test.png" alt="aphantasia"></p>

<p>I‚Äôm at a 3 to 4, whereas my cousin swears she‚Äôs at a 6 [1]. This goes a long way towards explaining my confusion whenever people were telling me to visualise things‚Ä¶ I never could get the detail and clarity that everyone else seemed to be experiencing.</p>

<p><strong>For those people that score a 1, you likely have <a href="https://www.bbc.com/news/health-34039054" title="BBC">aphantasia</a>, a condition in which you‚Äôre unable to visualise mental images.</strong> <a href="https://www.reddit.com/r/slatestarcodex/comments/ab1fi4/is_aphantasia_real_exaggerated_or_a/" title="reddit">There‚Äôs skepticism over whether it‚Äôs real,</a> but the research seems convincing. The <a href="https://www.researchgate.net/publication/26792259_Loss_of_imagery_phenomenology_with_intact_visuo-spatial_task_performance_A_case_of_'blind_imagination'" title="older">initial paper</a> studied a person who initially had high visual memory and then lost it. Since he was able to talk about the distinct difference between his two states, I‚Äôm inclined to think this is a real phenomenon.</p>

<p>The research estimates 2% of the population having aphantasia, a small amount on the other extreme (hyperphantasia), and most people are in the middle with good visualisation ability.</p>

<p><a href="https://www.eugencpopa.ro/wp-content/uploads/Afantazia-.pdf" title="newer">The newer paper</a> has a questionnaire, more scientific than my simple test above, that you might want to check out for confirmation. I‚Äôm inferring that a score of ~30 or lower indicates aphantasia, and a higher score close to 80 indicates hyperphantasia [2].</p>

<p>Was an interesting day when I realised the way I think is completely different from how most people think! The strange thing is I could have gone my entire life without knowing, since it‚Äôs not something you‚Äôd discover on your own. Combined with the low occurrence rate, no wonder it‚Äôs taken so long for the scientific community to realise the existence of aphantasia.</p>

<p>What‚Äôs even stranger is that despite this literally life-changing knowledge, I don‚Äôt see how anything changes for me. <a href="https://www.scientificamerican.com/article/when-the-minds-eye-is-blind1/" title="learning">It doesn‚Äôt seem like you can learn to get better</a>, implying we‚Äôre all stuck at whatever we grew up with (or were born into?).</p>

<p>It also doesn‚Äôt seem like there have been many negative side effects thus far [3]. Knowing about this <em>has</em> made me less confused whenever I read or hear people talking about using my imagination though! Do let me know how you end up scoring!</p>

<h2 id="what-goes-on-behind-the-scenes-of-an-ipo">What goes on behind the scenes of an IPO?</h2>

<p>People hear about IPOs frequently, but usually are less aware of what happens behind the scenes. a16z recently <a href="https://a16z.com/2019/07/09/ipo-process-prices-behind-scenes-companies/" title="a16z">wrote a post</a> about the process, and I‚Äôm following up with some of my experience. As a reminder, none of this is investment advice. Ever.</p>

<blockquote>
  <p>[The S1] also serves as a marketing document positioning the company and its role in the marketplace, because the company has to avoid public promotion during the waiting period and follow strict rules around what they can and can‚Äôt say on behalf of the company. But behind closed doors during this time, the company does pre-pitch the company story and financials to potential investors.</p>
</blockquote>

<p>The ‚Äúdumb‚Äù retail investor buys into an IPO because they‚Äôve heard the stock will do well. The ‚Äúsmart‚Äù retail investor does diligence on the S1, comes up with their own financial model, and then decides whether they should participate.</p>

<p>Most retail investors assume there‚Äôs a level playing field, since the S1 should show all the important publicly available information and there shouldn‚Äôt be anything they‚Äôre missing out. <strong>This has never been true.</strong> Professional investors meet with management <em>all the time</em>, even pre-IPO. They don‚Äôt get material non-public information from these meetings, but I can assure you that nobody would waste their time doing management meetings if they weren‚Äôt helpful in some way.</p>

<blockquote>
  <p>With the order book in hand, the underwriters (banks) will allocate the shares to institutional investors. As part of this, they ‚Äî and the company ‚Äî want to minimize IPO allocations to investors that have a track record of selling the stock too quickly. They don‚Äôt always succeed in doing this, but that‚Äôs OK, since some selling helps make a ‚Äúmarket‚Äù.</p>
</blockquote>

<p>There‚Äôs a capital markets team in the investment bank that works together with the company to decide how much stock to initially give out to the interested investors. Investors could ask for 10 shares at a $40 IPO price, but just 5 shares if the IPO price goes up to $45. Investors frequently ask for more shares than they think they‚Äôll get, leading to an offering being ‚Äúoversubscribed‚Äù. <strong>Nearly all offerings are oversubscribed,</strong> so if you read the news reporting that, just ignore it.</p>

<p>The intent during this bookbuilding process is to determine what price the company should IPO at, how much ‚Äúreal‚Äù demand there is, and who to give it to. I think regular IPOs usually allocate ~80% to institutional clients and ~20% other (<strong>Winnie</strong>, correct me if I‚Äôm mistaken here). Importantly, you and I don‚Äôt get to buy at the IPO price, but only at the price the stock starts trading at, which is usually higher.</p>

<blockquote>
  <p>People often assume an IPO means the entire company is going public ‚Äî just because those companies are required to open their books and report their earnings on a quarterly basis ‚Äî but actually no more than 10%-15% of the company is typically being sold. Such limited supply can have outsize impact in a short time frame, especially if there‚Äôs great demand.</p>
</blockquote>

<p>No company I know of has given 100% of the company away during an IPO. I suppose it‚Äôs possible, but that would be strange and probably a red flag [4]. The price is <a href="https://clutejournals.com/index.php/JBER/article/view/2412" title="IPO pop">usually set to have a first day ‚Äúpop‚Äù</a> as a form of reward to the shareholders that supported the company and to also generate positive publicity and good vibes for the company employees.</p>

<p><a href="https://markets.businessinsider.com/news/stocks/slacks-direct-listing-bill-gurley-says-startups-call-morgan-stanley-2019-6-1028298641" title="Bill">Critics of the IPO process</a> think that this ‚Äúpop‚Äù leaves money on the table, which is true, but <strong>most employees would (irrationally) prefer to have the stock IPO and keep going up</strong> rather than the reverse.</p>

<blockquote>
  <p>So how to gauge the success of IPO after the ‚Äúpop‚Äù? Beyond Meat is trading today above $100. Does that mean the company left money on the table? If you do the math, the company raised about $240 million from the IPO. Had the stock been priced at the first-trade price ($46), however, it could have raised nearly double that amount ‚Äî and well more if it had priced at the closing stock price. Then again, people might not have invested as much at that price.</p>
</blockquote>

<p>To further explain the <a href="http://www.underpricing.de/Downloads/Louhgran_Why%20Dont%20Issuers.pdf" title="research">‚Äúmoney on the table‚Äù issue</a>, BYND priced at $25, meaning institutional investors (not you and I) bought it at $25. When it started trading, someone (could be you or I now) put in an order at $46, and a holder of the share was willing to sell at $46, hence filling that order.</p>

<p>Some people would argue that if there was demand at $46, perhaps BYND should just have priced at $46 instead and gotten more cash from investors. Bill Gurley would argue to use a direct listing instead to match all demand and supply.</p>

<p><img src="https://www.leonlinsx.com/assets/images/Tilray-IPO.png" alt="Tilray"></p>

<p>I agree there‚Äôs money left on the table, but think about the alternative. Suppose BYND priced at $100 right from the start. That leaves nothing on the table, but now there‚Äôs a much higher chance the price declines after the IPO. And if it does decline, perhaps the price momentum keeps sinking it lower. We don‚Äôt know how much of the current trading price of BYND is due to momentum, and it seems to me it could have gone the other way as well. The general public still thinks of FB, GOOG, and Uber‚Äôs IPOs as failures due to the lack of a ‚Äúpop‚Äù. You might argue who cares about the general public, but employee morale within the company is affected as well. My point here is there‚Äôs currently less incentive for companies to get pricing exactly right, and who knows what the right price is anyway [5]?</p>

<h2 id="why-are-newsletters-becoming-popular-and-where-is-this-trend-going">Why are newsletters becoming popular and where is this trend going?</h2>

<p>After I published last month‚Äôs newsletter, <a href="https://on.substack.com/p/the-future-of-substack" title="substack site">a16z led a $15mm funding round in Substack</a>, the platform I‚Äôm currently using to send this [6]. I‚Äôm going to talk about why a16z was interested in Substack and where I think this trend is headed.</p>

<p>From <a href="https://a16z.com/2019/07/16/substack/" title="a16z">a16z‚Äôs press release</a>:</p>

<blockquote>
  <p>Since then, the internet has opened up new opportunities for media producers. A writer, streamer, or podcaster can now reach an audience of millions. Powerful tools have been created to make it easier to self-publish any format of content. [‚Ä¶] But most of this is driven by advertising-based business models from the 1800s ‚Äî the technology may have changed, yet the economic model is largely the same.</p>
</blockquote>

<p>Stratechery has <a href="https://stratechery.com/2015/why-web-pages-suck/" title="ads">written before</a> on how ad networks facilitated the growth of advertising on the internet. The move from print media to digital media implied that the marginal cost to serve a consumer was zero. This reduction of the barrier to entry led to an influx of free content online, a trend which has still persisted but evolved into different forms [7].</p>

<p><strong>Because of the low cost to produce, high degree of substitutability, and high degree of fragmentation in the suppliers of content, content producers assumed that <a href="https://www.cnbc.com/2018/11/17/subscription-news-services-flourish-as-google-facebook-dominate-ads.html" title="cnbc">people wouldn‚Äôt pay for content</a>, and that selling ads was the better business model.</strong></p>

<p>As <a href="https://www.cnbc.com/2018/11/17/subscription-news-services-flourish-as-google-facebook-dominate-ads.html" title="cnbc">the CNBC article</a> notes though, a few factors have led to the rise of alternative, subscription based models instead. <strong>The dominance and effectiveness of google and facebook in digital advertising means that advertising on traditional content producers such as news sites has become less effective.</strong> As an advertiser, I‚Äôd rather spend more of my ad budget on where 60% of the internet is going to pass through and get a higher ROI on my ad spend.</p>

<p><img src="https://www.leonlinsx.com/assets/images/US-digital-advertising-share-2018.png" alt="ads"></p>

<p>The stranglehold on traffic by Google and Facebook also potentially result in a cost to acquire the marginal user, implying that the marginal cost to serve is no longer zero. For the normal media site, you‚Äôre now facing a ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.leonlinsx.com/aphantasia/">https://www.leonlinsx.com/aphantasia/</a></em></p>]]>
            </description>
            <link>https://www.leonlinsx.com/aphantasia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532946</guid>
            <pubDate>Sun, 20 Sep 2020 09:47:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Memex ‚Äì A proof of concept built in Electron and Chrome Extension]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24532788">thread link</a>) | @steve1820
<br/>
September 20, 2020 | https://www.steveliu.co/memex | <a href="https://web.archive.org/web/*/https://www.steveliu.co/memex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div data-block-type="2" id="block-33de0799eab39cfadbe1"><div><p>I‚Äôve never been a huge online note taker. From high school to university, I‚Äôve always relied on pen and paper as my weapon of choice. At the time and even to some extent now, I‚Äôve felt like this was a good enough solution to my problems.</p><p>I‚Äôve always felt the simpler the solution the better. Why complicate things?</p><p>This changed however after working as a software engineer in industry. As I worked on a software product that derived its core functionality from machine learning, it seemed that I was constantly drowning in a sea of information.&nbsp;</p><p>It was a constant repetition of learning something, forgetting about it 5 months later and then having to recycle through my notes and reread the article/paper/blog.</p><p>My brain was a leaky bucket. Every time I poured something in, something else would leak out.</p><p>It was during those dark times of desperation that I stumbled upon the ‚Äúniche‚Äù industry of Knowledge Management Systems (KMS) and as an extension, the Memex.</p><p> I was fascinated with all the innovation coming from up and coming open source projects and companies in this space. Software like Athens (https://github.com/athensresearch/athens), Roam (https://roamresearch.com/), Obsidian (https://obsidian.md/) all seemed so promising. </p><p>I was particularly inspired by reading karlicoss‚Äôs blog (https://beepb00p.xyz/promnesia.html). He outlines so many good and intuitive reasons why the current solutions are broken (although in this particular post he focuses on browser history).</p></div></div></div></div>]]>
            </description>
            <link>https://www.steveliu.co/memex</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532788</guid>
            <pubDate>Sun, 20 Sep 2020 08:55:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making Skeletonised Leaves]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24532709">thread link</a>) | @arbol
<br/>
September 20, 2020 | https://blog.lidskialf.net/2020/09/17/making-skeletonised-leaves/ | <a href="https://web.archive.org/web/*/https://blog.lidskialf.net/2020/09/17/making-skeletonised-leaves/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1332">

	

	
			<figure>
				<img width="992" height="1331" src="https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=992" alt="" loading="lazy" srcset="https://adq454703481.files.wordpress.com/2020/09/dried.jpg 992w, https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=224 224w, https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=768 768w" sizes="(max-width: 992px) 100vw, 992px" data-attachment-id="1333" data-permalink="https://blog.lidskialf.net/dried/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/dried.jpg" data-orig-size="992,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600352312&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;211&quot;,&quot;shutter_speed&quot;:&quot;0.010013&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="dried" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=224" data-large-file="https://adq454703481.files.wordpress.com/2020/09/dried.jpg?w=763">			</figure><!-- .post-thumbnail -->

		
	<div>
		
<p>I decided I wanted to try making some skeletonised leaves. So I did some Googling and decided to try <a href="https://penguinbaybiology.org/make-clear-leaf-view-vein-structure/">this</a> approach.</p>



<p>We went out in the evening and gathered some leaves from the local  Shrubbery. Totally not suspicious üôÇ</p>



<figure><img data-attachment-id="1343" data-permalink="https://blog.lidskialf.net/leaves/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/leaves.jpg" data-orig-size="992,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600203574&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;909&quot;,&quot;shutter_speed&quot;:&quot;0.03&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="leaves" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=224" data-large-file="https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=763" src="https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=763" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=763 763w, https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=224 224w, https://adq454703481.files.wordpress.com/2020/09/leaves.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/leaves.jpg 992w" sizes="(max-width: 763px) 100vw, 763px"></figure>



<p>I bought some Sodium Hydroxide and a cheap steel pot from ebay. Note: it must <strong>not</strong> be Aluminium as the Sodium Hydroxide will react with Aluminium!</p>



<figure><img data-attachment-id="1336" data-permalink="https://blog.lidskialf.net/ingredients/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg" data-orig-size="1331,998" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600381793&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;543&quot;,&quot;shutter_speed&quot;:&quot;0.03&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="ingredients" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=300" data-large-file="https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=900" src="https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=1024" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=1024 1024w, https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=150 150w, https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=300 300w, https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/ingredients.jpg 1331w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Although Sodium Hydroxide isn‚Äôt a deadly poison, you really don‚Äôt want it on your skin or in your eyes, so gloves/goggles are a necessity for safety. Hmm, I should really look into some sort of cheap lab coat as well to protect my clothes for this sorta stuff:</p>



<figure><img data-attachment-id="1339" data-permalink="https://blog.lidskialf.net/safety/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/safety.jpg" data-orig-size="1331,998" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600381856&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;634&quot;,&quot;shutter_speed&quot;:&quot;0.03&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="safety" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=300" data-large-file="https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=900" src="https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=1024" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=1024 1024w, https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=150 150w, https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=300 300w, https://adq454703481.files.wordpress.com/2020/09/safety.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/safety.jpg 1331w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>I scaled up the proportions to 1L of (Edinburgh) tap water and 30G of Sodium Hydroxide powder. I put them in the pot, brought it to the boil and added the leaves. </p>



<p>For fun I also tested the pH of the solution with my new pH paper (also from Ebay/China). Its about a 14, so pretty alkaline!</p>



<figure><img data-attachment-id="1340" data-permalink="https://blog.lidskialf.net/phpaper/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg" data-orig-size="992,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600203853&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;108&quot;,&quot;shutter_speed&quot;:&quot;0.04001&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="phpaper" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=224" data-large-file="https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=763" src="https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=763" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=763 763w, https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=224 224w, https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/phpaper.jpg 992w" sizes="(max-width: 763px) 100vw, 763px"></figure>



<p>The instructions suggested boiling for about two hours, but it appears to depend on the leaves you choose. I checked on it every 20 minutes or so, and pulled leaves out as they became ready. </p>



<p>To process them, I had the following set up next to the pot:</p>



<ul><li>Tray 1: Plain tap water to wash off the Sodium Hydroxide.</li><li>Tray 2: Some ‚ÄúOrdinary Household Bleach‚Äù (aka Sodium Hypochlorite) to bleach any remaining colour out.</li><li>Tray 3: More plain tap water to wash off the bleach.</li><li>A sheet of alumunium foil to put the leaves on to dry out.</li></ul>



<p>After all of them were processed, I ended up with this:</p>



<figure><img data-attachment-id="1345" data-permalink="https://blog.lidskialf.net/drying/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/drying.jpg" data-orig-size="1331,998" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600212131&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;104&quot;,&quot;shutter_speed&quot;:&quot;0.010013&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="drying" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=300" data-large-file="https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=900" src="https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=1024" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=1024 1024w, https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=150 150w, https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=300 300w, https://adq454703481.files.wordpress.com/2020/09/drying.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/drying.jpg 1331w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>The next morning I was able to unpeel the more robust leaves, yielding me these:</p>



<figure><img data-attachment-id="1346" data-permalink="https://blog.lidskialf.net/dried-1/" data-orig-file="https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg" data-orig-size="992,1331" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;1.8&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Pixel 3&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1600352312&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;4.44&quot;,&quot;iso&quot;:&quot;211&quot;,&quot;shutter_speed&quot;:&quot;0.010013&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="dried-1" data-image-description="" data-medium-file="https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=224" data-large-file="https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=763" src="https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=763" alt="" srcset="https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=763 763w, https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=112 112w, https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=224 224w, https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg?w=768 768w, https://adq454703481.files.wordpress.com/2020/09/dried-1.jpg 992w" sizes="(max-width: 763px) 100vw, 763px"></figure>



<p>Observations</p>



<ul><li>You need to use <em>robust</em> leaves from trees. I tried some nettle leaves, but they quickly turned to mush. Some of the tree leaves appeared to process fine, but turned out to be way too delicate to remove from the foil after drying: definitely depends on the species. There may be a better way to dry them, will think on it.</li><li>Only process one species of leaf at a time, otherwise you constantly have to check each one in the pot, which means you‚Äôre disturbing them more to check.</li><li>Make sure to check on the water level! I <em>almost</em> boiled it dry.</li><li>Its fiddly! During processing, you have to <em>carefully</em> unroll the leaves by hand while wearing gloves to get them flat prior to drying.</li><li>I tried processing a dried up Oak leaf since theoretically it should be closer to being skeletonised: it didn‚Äôt seem to work very well (you can see the unsuccessful result on the aluminium foil photo).</li></ul>



<p>What Next?</p>



<p>They‚Äôre definitely more robust than I expected, but they‚Äôre still quite delicate. I fancy trying dying them and embedding them into some transparent resin next.</p>




	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://blog.lidskialf.net/2020/09/17/making-skeletonised-leaves/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532709</guid>
            <pubDate>Sun, 20 Sep 2020 08:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tracking All Paper Trail Version from a Single Request with Correlation UUIDs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532550">thread link</a>) | @Azdaroth
<br/>
September 20, 2020 | https://karolgalanciak.com/blog/2020/09/20/tracking-all-paper-trail-version-from-a-single-request-with-correlation-uuids/ | <a href="https://web.archive.org/web/*/https://karolgalanciak.com/blog/2020/09/20/tracking-all-paper-trail-version-from-a-single-request-with-correlation-uuids/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <p>If you‚Äôve ever had a need to implement an <strong>audit log</strong> to track all the changes that get persisted for all or at least some models in your application, there is a good chance that you‚Äôve encountered <a href="https://github.com/paper-trail-gem/paper_trail">PaperTrail gem</a> that makes it trivial to <strong>track all the changes</strong> - it might be as easy as adding <code>has_paper_trail</code> to the desired models.</p>

<p>However, storing versions is just one thing. The other one is using them later, which sometimes might be far from obvious. For example, you see that some record was updated, but you don‚Äôt exactly know why. Maybe you have <code>whodunnit</code> stored, but it still doesn‚Äôt give you the entire picture as there might be multiple ways how a given record can be updated and you are trying to establish some <strong>causality</strong> between multiple actions as one update can lead to another one that can lead to yet another one. Not to mention that the persistence can be executed from the background jobs, which will mean that <code>whodunnit</code> will either be nil or be something else (if you, for example, decide to use the name of the job class for <code>paper_trail_user</code>). Merely using <code>created_at</code> won‚Äôt be that useful for sure as it‚Äôs not enough to group versions form the same context.</p>

<p>Fortunately, there is an easy solution to this problem, which is also quite simple to implement - it‚Äôs adding a <code>correlation UUID</code>.</p>

<h2 id="what-is-correlation-uuid">What Is Correlation UUID?</h2>

<p>Correlation UUID is a value in UUID format that is used for grouping <em>things</em> (events, logs‚Ä¶) that have the same origin (e.g., a specific action) that helps establish the causality (how exactly you ended up with something and what events lead to it). Thanks to that, you can easily figure out what happened during a specific request by assigning the same value of correlation UUID to all PaperTrailVersion records that got created. Furthermore, you can also track its side effects by reusing the same value in background jobs, e.g., in Sidekiq.</p>

<p>You might be wondering if this really has to be in UUID format, but the answer here is simple: no, it doesn‚Äôt need to be. For example, you can use ULID, which could even be a better choice as it has the benefit of being lexicographically sortable. It just happens that UUID is the most popular approach and it‚Äôs easy to generate.</p>

<h2 id="how-to-implement-correlation-uuid-for-papertrailversions">How to implement Correlation UUID for PaperTrailVersions</h2>

<p>The most straightforward approach would be assigning some global value unique per request (which implies the need for thread-safety) before saving the version. So what we need is an extra column (<code>correlation_uuid</code>) and something like <code>Thread.current</code> store but with values erased after each request. Fortunately, there is a gem that does exactly that: <a href="https://github.com/steveklabnik/request_store">request_store</a>.</p>

<p>Using a global is quite ugly, but it allows us to implement the desired feature in a simple way, and it doesn‚Äôt necessarily make the design worse as <code>paper_trail</code> already uses a similar global for storing, e.g. <code>whodunnit</code> value.</p>

<p>Here is how an example UUID generator could look like:</p>

<div><div><pre><code><span>class</span> <span>RequestCorrelationUuidGenerator</span>
  <span>def</span> <span>self</span><span>.</span><span>uuid</span>
    <span>store</span><span>[</span><span>:correlation_uuid</span><span>]</span> <span>||=</span> <span>SecureRandom</span><span>.</span><span>uuid</span>
  <span>end</span>

  <span>def</span> <span>self</span><span>.</span><span>uuid</span><span>=</span><span>(</span><span>value</span><span>)</span>
    <span>store</span><span>[</span><span>:correlation_uuid</span><span>]</span> <span>=</span> <span>value</span>
  <span>end</span>

  <span>def</span> <span>self</span><span>.</span><span>store</span>
    <span>RequestStore</span><span>.</span><span>store</span><span>[</span><span>:paper_trail</span><span>]</span> <span>||=</span> <span>{}</span>
  <span>end</span>
  <span>private_class_method</span> <span>:store</span>
<span>end</span>
</code></pre></div></div>

<p><code>paper_trail</code> stores global data in <code>RequestStore.store[:paper_trail]</code> so it‚Äôs a reasonable idea to reuse it for storing our correlation UUID.</p>

<p>Now, that we have a generator, let‚Äôs add a callback to the to PaperTrailVersion model:</p>

<div><div><pre><code><span>class</span> <span>Version</span> <span>&lt;</span> <span>PaperTrail</span><span>::</span><span>Version</span>
  <span>before_create</span> <span>:ensure_correlation_uuid_assigned</span>

  <span>private</span>

  <span>def</span> <span>ensure_correlation_uuid_assigned</span>
    <span>self</span><span>.</span><span>correlation_uuid</span> <span>=</span> <span>RequestCorrelationUuidGenerator</span><span>.</span><span>uuid</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>And that‚Äôs it! That will be enough to group version coming from a single request. Now, if you find something suspicious, you can take the correlation UUID, find other versions with that value, order them by <code>created_at,</code> and the debugging should be way more pleasant. Just don‚Äôt forget to add the index ;).</p>

<h2 id="correlation-uuid-for-further-side-effects---how-to-use-it-in-background-jobs">Correlation UUID for further side-effects - how to use it in background jobs?</h2>

<p>As I mentioned earlier, it might be quite valuable to pass the correlation UUID further to the background jobs, so that we can understand every step of the saga that originated from a specific action.</p>

<p>Of course, background jobs are not requests, but fortunately, it‚Äôs not that difficult to reuse our <code>RequestCorrelationUuidGenerator</code> inside jobs.</p>

<p>Since Sidekiq is arguably the most popular solution for background jobs processing in Rails apps, I will show an example solution for Sidekiq. However, the idea itself should be possible to replicate for every other processor.</p>

<p>As a prerequisite to make it work with Sidekiq, we will need to introduce <a href="https://github.com/madebylotus/request_store-sidekiq">request_store-sidekiq</a> gem. Since <code>request_store</code> clears the storage after each request, so that the values don‚Äôt stick between them, we need something that will do the same thing, but after the job is processed. And that‚Äôs exactly what this gem does.</p>

<p>The first problem that we need to solve is to make the correlation UUID somehow available in the job. One way to do this would be to make it an argument of the job, but that sounds painful to deal with. Ideally, we would have something that doesn‚Äôt force us to change the signature of the <code>perform</code> method, and that injects the value without us doing it directly in any place. The second problem to solve would be to extract somehow the value of correlation UUID before the job gets executed and set that UUID for the global context (for a current Thread) using <code>RequestCorrelationUuidGenerator.uuid=</code> attribute writer.</p>

<p>Fortunately, Sidekiq has us covered as it allows us to add some extra behavior when enqueuing the job and around the execution of the job. We can do that using <a href="https://github.com/mperham/sidekiq/wiki/Middleware">middlewares</a>.</p>

<p>What we will need are two middlewares:</p>
<ul>
  <li>a client middleware that will inject the correlation UUID to the job</li>
  <li>a server middleware that will set the correlation UUID</li>
</ul>

<p>Here is an example implementation of the desired client middleware:</p>

<div><div><pre><code><span>class</span> <span>InjectCorrelationUuidMiddleware</span>
  <span>def</span> <span>call</span><span>(</span><span>_worker_class</span><span>,</span> <span>job</span><span>,</span> <span>_queue</span><span>,</span> <span>_redis_pool</span><span>)</span>
    <span>job</span><span>[</span><span>"correlation_uuid"</span><span>]</span> <span>=</span> <span>RequestCorrelationUuidGenerator</span><span>.</span><span>uuid</span>
    <span>yield</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>Since <code>job</code> is a hash of a serialized job, we can put there pretty much anything we want. That way, we will make sure that the correlation UUID is stored in Redis.</p>

<p>And here is the server middleware:</p>

<div><div><pre><code><span>class</span> <span>SetCorrelationUuidMiddleware</span>
  <span>def</span> <span>call</span><span>(</span><span>_worker</span><span>,</span> <span>job</span><span>,</span> <span>_queue</span><span>)</span>
    <span>RequestCorrelationUuidGenerator</span><span>.</span><span>uuid</span> <span>=</span> <span>job</span><span>.</span><span>fetch</span><span>(</span><span>"correlation_uuid"</span><span>,</span> <span>RequestCorrelationUuidGenerator</span><span>.</span><span>uuid</span><span>)</span>
    <span>yield</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>The last thing we need to do is to actually inject these middlewares so that Sidekiq can make the proper use of them. We can put that in an initializer:</p>

<div><div><pre><code><span>Sidekiq</span><span>.</span><span>configure_client</span> <span>do</span> <span>|</span><span>config</span><span>|</span>
  <span>config</span><span>.</span><span>client_middleware</span> <span>do</span> <span>|</span><span>chain</span><span>|</span>
    <span>chain</span><span>.</span><span>add</span> <span>InjectCorrelationUuidMiddleware</span>
  <span>end</span>
<span>end</span>

<span>Sidekiq</span><span>.</span><span>configure_server</span> <span>do</span> <span>|</span><span>config</span><span>|</span>
  <span>config</span><span>.</span><span>client_middleware</span> <span>do</span> <span>|</span><span>chain</span><span>|</span>
    <span>chain</span><span>.</span><span>add</span> <span>InjectCorrelationUuidMiddleware</span>
  <span>end</span>

  <span>config</span><span>.</span><span>server_middleware</span> <span>do</span> <span>|</span><span>chain</span><span>|</span>
    <span>chain</span><span>.</span><span>add</span> <span>SetCorrelationUuidMiddleware</span>
  <span>end</span>
<span>end</span>
</code></pre></div></div>

<p>To understand more about middlewares, it would definitely help to get through the <a href="https://github.com/mperham/sidekiq/wiki/Middleware">docs</a>. What is important to remember here is that jobs can also enqueue other jobs. That‚Äôs why we need to add <code>SetCorrelationUuidMiddleware</code> twice - one for the client (e.g., for the request) and for the server (other jobs).</p>

<h2 id="alternatives-and-similar-problems">Alternatives and similar problems</h2>

<p>If you find yourself often wondering about the causality between the events, state transition, and trying to figure out how you exactly ended up in a given state, you might consider changing the implementation of your domain model and perhaps introduce CQRS and Event Sourcing. You might also want to check Sagas and Process Managers. Even though these are the concepts that are used rather in distributed systems, you might still find them useful if you have a complex logic that gets executed in the jobs that often enqueue other jobs.</p>

<h2 id="wrapping-up">Wrapping Up</h2>

<p>Having <strong>correlation UUID</strong> assigned to <strong>PaperTrail Versions</strong> is something that might significantly <strong>help with debugging</strong>. Fortunately, it‚Äôs something that is not that difficult to implement.</p>


      
      <section>
  <b>posted in:</b>

  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/ruby">
        Ruby,
      </a>
    </span>
  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/rails">
        Rails,
      </a>
    </span>
  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/ruby-on-rails">
        Ruby on Rails,
      </a>
    </span>
  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/paper-trail">
        Paper Trail,
      </a>
    </span>
  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/audit-log">
        Audit Log,
      </a>
    </span>
  
    <span>
      <a href="https://karolgalanciak.com/blog/categories/correlation-uuid">
        Correlation UUID
      </a>
    </span>
  
</section>

    </div></div>]]>
            </description>
            <link>https://karolgalanciak.com/blog/2020/09/20/tracking-all-paper-trail-version-from-a-single-request-with-correlation-uuids/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532550</guid>
            <pubDate>Sun, 20 Sep 2020 07:48:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generative Bad Handwriting]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 15 (<a href="https://news.ycombinator.com/item?id=24532352">thread link</a>) | @atulvi
<br/>
September 19, 2020 | https://avinayak.github.io/programming/art/2020/09/18/p5-strokes.html | <a href="https://web.archive.org/web/*/https://avinayak.github.io/programming/art/2020/09/18/p5-strokes.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>So.. I made a popular tweet last week in the <a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hashtag_click">#„Å§„Å∂„ÇÑ„ÅçProcessing</a> circles.</p>

<blockquote><p lang="cy" dir="ltr">j=24,m=0,draw=(a=&gt;{for(v=(i=&gt;w/3*(n=noise)(i)-k),createCanvas(w=1e3,w),noFill(),background('<a href="https://twitter.com/hashtag/fd7?src=hash&amp;ref_src=twsrc%5Etfw">#fd7</a>'),translate(0,m--),i=0,y=0;y&lt;w-m;y+=j)for(x=k=90;x&lt;w-k;x+=9)if(y+k&gt;-m?curve(v(i++)+x,v(i++)+y,x,j+y,x+9,j+y,v(i++)+x,v(i++)+y):i+=4,x+=v(i++)%9,n(x*y)&lt;.13)y+=j});//<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#„Å§„Å∂„ÇÑ„ÅçProcessing</a> <a href="https://t.co/WNIwAAAXjQ">pic.twitter.com/WNIwAAAXjQ</a></p>‚Äî atulvinayak (@atulvinayak) <a href="https://twitter.com/atulvinayak/status/1305116417419653120?ref_src=twsrc%5Etfw">September 13, 2020</a></blockquote>


<p>I‚Äôll try to explain how this script worked and how I was able to fit the whole thing into 280 characters.</p>



<p>All of this started when last week when I was experimenting with the p5js <code>curve()</code> function. Internally this is an implementation of the <a href="https://en.wikipedia.org/wiki/Centripetal_Catmull%E2%80%93Rom_spline" title="Centripetal Catmull‚ÄìRom spline">Centripetal Catmull‚ÄìRom spline</a>. I tried generating a bunch of 8 legged water spiders for fun :)</p>

<video controls="" muted="" src="https://video.twimg.com/ext_tw_video/1303620577589039104/pu/vid/720x720/8iYWjReFxe-9kWVl.mp4?tag=10">
</video>

<p>I admit this looks pretty stupid. The aim was to generate an animation a whole bunch of water spiders with the camera panning around. But then, for me to understand how exactly the Catmull-Rom spline worked, I decided to randomly plot a bunch of curves on a 2D canvas and it somehow resembled handwriting from my native language (<a href="https://en.wikipedia.org/wiki/Malayalam">Malayalam</a>).</p>

<p><img src="https://avinayak.github.io/uploads/download-12.png" alt=""></p>

<p>Actual Malayalam handwriting sample.<br>
<img src="https://avinayak.github.io/uploads/4f31bc2ce9a02537444fc6eeea276dc5.jpg" alt=""></p>

<p>Reducing character spacing.. Do you see the similarity now?<br>
<img src="https://avinayak.github.io/uploads/download-10.png" alt=""></p>

<p>Also, at this time I was playing the PC remaster of <a href="https://en.wikipedia.org/wiki/Journey_(2012_video_game)">Journey (2012)</a>. Journey has a very beautiful blocky scriptures all over the temples in the game.</p>

<p><img src="https://avinayak.github.io/uploads/eayhyxhueaagmqu.jpg" alt=""></p>

<p>I guessed this is pretty easy generate. I made a few attempts to reproduce the approximate style using p5.js</p>

<p><img src="https://avinayak.github.io/uploads/download-8.png" alt=""></p>

<p>and even an infinite scrolling version</p>

<video controls="" muted="" src="https://video.twimg.com/ext_tw_video/1304311867284664323/pu/vid/720x720/zNWZ-LQrIl0KrnCU.mp4?tag=10">
</video>

<p>This script had some serious performance issues(you can see it slowing down towards the end). Later I learned that this style of meaningless writing is a thing in the art community known as Generative <a href="https://en.wikipedia.org/wiki/Asemic_writing">Asemic Writing</a>. According to Wikipedia:</p>

<blockquote>
  <p><strong>Asemic writing</strong> is a wordless open semantic form of writing. The word asemic means ‚Äúhaving no specific semantic content‚Äù. With the nonspecificity of asemic writing there comes a vacuum of meaning which is left for the reader to fill in and interpret.</p>
</blockquote>

<p>I decided to combine the two and make an infinite generator of malayalam-esque asemic writing. I‚Äôve seen curve generated asemic <a href="https://www.reddit.com/r/asemic/comments/dw5ze3/generative_script/?ref=share&amp;ref_source=link">before</a>. So, What I did is not something new.. however, maybe the way I made it infinite scrolling was something new(?). I‚Äôll try to explain how the code works.</p>



<p>I lost the original script in the minifying process, but I managed to unminify the tweet somehow.</p>

<div><div><pre><code>var yOffset = 24;
var scrollPosition = 0;
var canvasWidth = 800;
var margin = 90

function setup() {
    createCanvas(canvasWidth, canvasWidth)
    noFill();
}

function deterministicRandom(index) {
  return 1000 / 3 * noise(index) - 90
}

function draw() {
    background('#fd7');
    translate(0, scrollPosition--);

    for (i = 0, y = 0; y &lt; canvasWidth - scrollPosition; y += yOffset)
        for (x = 90; x &lt; canvasWidth - margin;) {
            if (y + margin &gt; -scrollPosition) {
                curve(
                  deterministicRandom(i++) + x, 
                  deterministicRandom(i++) + y, 
                  x, 
                  y + yOffset, 
                  x + 9, 
                  y + yOffset, 
                  deterministicRandom(i++) + x, 
                  deterministicRandom(i++) + y
                )
            } else {
                i += 4
            }
            x += (9 + deterministicRandom(i++) % 9)
            if (noise(x * y) &lt; .13)
            {
              y += 2*yOffset
              x = margin
            }
        }

}
</code></pre></div></div>

<p>The most important part of the code is the function <code>deterministicRandom()</code> which is used a lot of times in the sketch. It‚Äôs basically <code>noise()</code> but mapped to range <code>[243, -90]</code>. p5 js <code>curve()</code> takes in 2 control point and 2 physical point coordinate to determine the location and shape of the curve. Each character is is thus a set of 4 deterministically random numbers for control points + 4 constants for physical points. All of these points are offset by a base <code>&lt;x,y&gt;</code> coordinate to place the curve in a line. <em>Because it‚Äôs deterministically random, the shapes and location of the curves are preserved in every frame</em>.. making the infinite scroll effect work.</p>

<p>The 2 loops iterate over x and y, at a constant rate. x by 9 pixels and y by 24 pixels. But, inside the loop, based on deterministic random, x is randomly incremented by up to 9 pixels to simulate the randomness in spaces between characters. Also, if for a random condition with somewhat low probability (<code>noise(x * y) &lt; .13</code>), a line-break is added. Which means, y is incremented thrice in that loop and x is reset to a margin value (90).</p>





<p>The infinite scroll effect is basically done using <code>translate(0, scrollPosition--)</code>. The loop termination clause is adjusted such that only lines within the frame are rendered (between <code>y = scrollPosition to scrollPosition+canvasHeight</code>). The condition <code>y + margin &gt; -scrollPosition</code> directly inside the loop checks for this. This also offsets the random number index to the one needed by the lines being rendered in the else case. Here‚Äôs a version of the script that shows lines being rendered as the script runs:</p>



<p>And that‚Äôs basically it. The initial version I designed rendered every line from the first scroll position to the last in every frame, even if those lines were not visible. This is terrible for performance and the if condition inside the loop fixed this.</p>



<p>Step one of minifying was converting all the functions to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a>. This took up way less space. Then I moved all the <code>setup()</code> stuff to <code>draw()</code>. p5 does not re-execute <code>createCanvas</code> even if you place it in <code>draw()</code>. Then I had to cut down number of variables as much as I can. 2 of them were reused: <code>canvasWidth(w)</code> and <code>margin(k)</code> were also used as a coefficient in <code>deterministicRandom()</code>. Finally spaces were removed and long names were truncated to single characters.</p>



<p>This script was written in about 2-3 hours. Looking back, I can see a lot of places where I‚Äôd try to reduce repeated code and make it smoother. I never thought this would go so popular, so I never really cared to optimize so much. But there you go.. a simple way to generate bad handwriting :)</p>

</div></div>]]>
            </description>
            <link>https://avinayak.github.io/programming/art/2020/09/18/p5-strokes.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532352</guid>
            <pubDate>Sun, 20 Sep 2020 06:53:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Test API Client Applications in Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532337">thread link</a>) | @miguendes
<br/>
September 19, 2020 | https://miguendes.me/3-ways-to-test-api-client-applications-in-python-ckf9id01c01302zs15m1off81 | <a href="https://web.archive.org/web/*/https://miguendes.me/3-ways-to-test-api-client-applications-in-python-ckf9id01c01302zs15m1off81">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>In this tutorial, we‚Äôll learn how to unit test code that issues HTTP requests in Python. Unit tests are meant to test a single unit of behavior. A well-known rule of thumb is to isolate code that reaches external dependencies. For instance, when testing a code that performs HTTP requests, we must replace the real call by a fake call during test time. This way we can to unit test it without performing a request every time we run the test. The question is, how can we isolate it? Hopefully, that‚Äôs what I‚Äôm going to answer in this post! I‚Äôll not only show you how to do it but also weigh the pros and cons of each approach.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#creating-a-demo-app">Creating a Demo App</a><ul>
<li><a href="#retrieving-the-data">Retrieving the Data</a></li>
</ul>
</li>
<li><a href="#1-using-mocks">Using Mocks</a></li>
<li><a href="#2-using-an-adapter">Using an Adapter</a></li>
<li><a href="#3-using-vcrpy">Using <code>VCR.py</code></a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<h2 id="requirements">Requirements</h2>
<ul>
<li><code>Python 3.8</code></li>
<li><code>pytest-mock</code></li>
<li><code>requests</code></li>
<li><code>flask</code></li>
<li><code>requests</code></li>
<li><code>responses</code></li>
<li><code>VCR.py</code></li>
</ul>
<h2 id="creating-a-demo-app">Creating a Demo App</h2>
<p>To put this problem in context, let's imagine that we're building a weather app. This app uses a third-party API to retrieve weather information for a particular city. Our app must generate a simple HTML page, like the image below.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1600427026729/SbZKkiywH.png?auto=format&amp;q=60" alt="weather_app.png">
To get the information about the weather, we must find it somewhere. Fortunately,  <a target="_blank" href="https://openweathermap.org/">OpenWeatherMap</a> provides everything we need through its REST API service.</p>
<blockquote>
<p>Ok, that's cool, but how can we use it? </p>
</blockquote>
<p>We can get everything we need by sending a GET request to: <code>'https://api.openweathermap.org/data/2.5/weather?q={city_name}&amp;appid={api_key}&amp;units=metric'</code>. For this tutorial, we‚Äôll parametrize the city name and settle with the metric unit.</p>
<h3 id="retrieving-the-data">Retrieving the Data</h3>
<p>To retrieve the weather data, we'll use <a target="_blank" href="https://github.com/psf/requests"><code>requests</code></a>. We can create a function that receives a city name as parameter and returns a <em>json</em>. The <em>json</em> will contain the temperature, weather description, sunset, sunrise time and so on. </p>
<p>The example below illustrates such function.</p>
<pre><code><span><span>def</span> <span>find_weather_for</span>(<span>city: str</span>) -&gt; dict:</span>
    <span>"""Queries the weather API and returns the weather data for a particular city."""</span>
    url = API.format(city_name=city, api_key=API_KEY)
    resp = requests.get(url)
    <span>return</span> resp.json()
</code></pre>
<p>The URL is made up from two global variables.</p>
<pre><code>BASE_URL = <span>"https://api.openweathermap.org/data/2.5/weather"</span>
API = BASE_URL + <span>"?q={city_name}&amp;appid={api_key}&amp;units=metric"</span>
</code></pre>
<p>The API returns a <em>json</em> in this format:</p>
<pre><code>{
  <span>"coord"</span>: {
    <span>"lon"</span>: <span>-0.13</span>,
    <span>"lat"</span>: <span>51.51</span>
  },
  <span>"weather"</span>: [
    {
      <span>"id"</span>: <span>800</span>,
      <span>"main"</span>: <span>"Clear"</span>,
      <span>"description"</span>: <span>"clear sky"</span>,
      <span>"icon"</span>: <span>"01d"</span>
    }
  ],
  <span>"base"</span>: <span>"stations"</span>,
  <span>"main"</span>: {
    <span>"temp"</span>: <span>16.53</span>,
    <span>"feels_like"</span>: <span>15.52</span>,
    <span>"temp_min"</span>: <span>15</span>,
    <span>"temp_max"</span>: <span>17.78</span>,
    <span>"pressure"</span>: <span>1023</span>,
    <span>"humidity"</span>: <span>72</span>
  },
  <span>"visibility"</span>: <span>10000</span>,
  <span>"wind"</span>: {
    <span>"speed"</span>: <span>2.1</span>,
    <span>"deg"</span>: <span>40</span>
  },
  <span>"clouds"</span>: {
    <span>"all"</span>: <span>0</span>
  },
  <span>"dt"</span>: <span>1600420164</span>,
  <span>"sys"</span>: {
    <span>"type"</span>: <span>1</span>,
    <span>"id"</span>: <span>1414</span>,
    <span>"country"</span>: <span>"GB"</span>,
    <span>"sunrise"</span>: <span>1600407646</span>,
    <span>"sunset"</span>: <span>1600452509</span>
  },
  <span>"timezone"</span>: <span>3600</span>,
  <span>"id"</span>: <span>2643743</span>,
  <span>"name"</span>: <span>"London"</span>,
  <span>"cod"</span>: <span>200</span>
}
</code></pre>
<p>The data is returned as a python dictionary when we call <code>resp.json()</code>. In order to encapsulate all the details, we can represent them as a <code>dataclass</code>. This class has a factory method that gets the dictionary and returns a <code>WeatherInfo</code> instance.</p>
<p>This is good because we keep the representation stable. For example, if the API changes the way it structures the <em>json</em>, we can change the logic in just one place, in the <code>from_dict</code> method. So, other parts of the code won‚Äôt be affected. We can even get information from different sources and combining them in the <code>from_dict</code> method!</p>
<pre><code><span>@dataclass</span>
<span><span>class</span> <span>WeatherInfo</span>:</span>
    temp: float
    sunset: str
    sunrise: str
    temp_min: float
    temp_max: float
    desc: str

<span>    @classmethod</span>
    <span><span>def</span> <span>from_dict</span>(<span>cls, data: dict</span>) -&gt; "WeatherInfo":</span>
        <span>return</span> cls(
            temp=data[<span>"main"</span>][<span>"temp"</span>],
            temp_min=data[<span>"main"</span>][<span>"temp_min"</span>],
            temp_max=data[<span>"main"</span>][<span>"temp_max"</span>],
            desc=data[<span>"weather"</span>][<span>0</span>][<span>"main"</span>],
            sunset=format_date(data[<span>"sys"</span>][<span>"sunset"</span>]),
            sunrise=format_date(data[<span>"sys"</span>][<span>"sunrise"</span>]),
        )
</code></pre>
<p>Now, let's create a function called <code>retrieve_weather</code>. We'll use this function to call the API and return a <code>WeatherInfo</code> so we can build our HTML page.</p>
<pre><code><span><span>def</span> <span>retrieve_weather</span>(<span>city: str</span>) -&gt; WeatherInfo:</span>
    <span>"""Finds the weather for a city and returns a WeatherInfo instance."""</span>
    data = find_weather_for(city)
    <span>return</span> WeatherInfo.from_dict(data)
</code></pre>
<p>Good, we have the basic building blocks for our app. Before moving forward, let's unit test those functions.</p>
<h2 id="1-using-mocks">1. Using Mocks</h2>
<p><a target="_blank" href="https://en.wikipedia.org/wiki/Mock_object">According to wikipedia</a>, a mock object is an object that simulates the behavior of a real object by mimicking it. In Python, we can mock any object using the <code>unittest.mock</code> lib that is part of the standard library. To test the <code>retrieve_weather</code> function, we can then mock <code>requests.get</code> and return a static data.</p>
<h3 id="pytest-mock"><code>pytest-mock</code></h3>
<p>For this tutorial, we‚Äôll use <code>pytest</code> as our testing framework of choice. <code>pytest</code> is a very extensible library that allows the extension through plugins. And to accomplish our <em>mocking</em> goals, let‚Äôs use <code>pytest-mock</code>. This plugin abstracts a bunch of setups from <code>unittest.mock</code> and makes our testing code very concise. If you are curious, I discuss more about it in <a target="_blank" href="https://miguendes.me/7-pytest-plugins-you-must-definitely-use-ckesvzzt60014e2s1b89a08o7">another blog post</a>.</p>
<blockquote>
<p>Ok, enough talking, show me the code.</p>
</blockquote>
<p>Here's a complete test case for the <code>retrieve_weather</code> function. This test uses two fixures, one is the <code>mocker</code> fixture provided by the <code>pytest-mock</code> plugin. The other one is ours. It's just the static data we saved from a previous request.</p>
<pre><code><span>@pytest.fixture()</span>
<span><span>def</span> <span>fake_weather_info</span>():</span>
    <span>"""Fixture that returns a static weather data."""</span>
    <span>with</span> open(<span>"tests/resources/weather.json"</span>) <span>as</span> f:
        <span>return</span> json.load(f)
</code></pre>
<pre><code><span><span>def</span> <span>test_retrieve_weather_using_mocks</span>(<span>mocker, fake_weather_info</span>):</span>
    <span>"""Given a city name, test that a HTML report about the weather is generated
    correctly."""</span>
    
    fake_resp = mocker.Mock()
    
    fake_resp.json = mocker.Mock(return_value=fake_weather_info)
    
    fake_resp.status_code = HTTPStatus.OK

    mocker.patch(<span>"weather_app.requests.get"</span>, return_value=fake_resp)

    weather_info = retrieve_weather(city=<span>"London"</span>)
    <span>assert</span> weather_info == WeatherInfo.from_dict(fake_weather_info)
</code></pre>
<p>If we run the test, we get the following output:</p>
<pre><code>============================= test session starts ==============================
...[omitted]...
tests/test_weather_app.py::test_retrieve_weather_using_mocks PASSED      [100%]
============================== 1 passed in 0.20s ===============================
Process finished with exit code 0
</code></pre>
<p>Great, our tests pass! But... Life is not a bed of roses. This test has pros and cons. Let's take a look at them.</p>
<h4 id="pros">Pros</h4>
<p>Well, one pro we already discussed is that by mocking the return of the API we make our tests easier. We isolate the communication with the API and make the test predictable. It will always return what we want.</p>
<h4 id="cons">Cons</h4>
<p>As cons, the problem is, what if we don‚Äôt want to use <code>requests</code> anymore and decide to go with the standard‚Äôs lib <code>urllib</code>. Every time we change the implementation of <code>find_weather_for</code> we will have to adapt the test. A good test is a test that doesn‚Äôt change when our implementation change. So, by mocking, we end up coupling our test with the implementation.</p>
<p>Also, another downside is the amount of setup we have to do before calling the function. At lest, 3 lines of code.</p>
<pre><code>...
    
    fake_resp = mocker.Mock()
    
    fake_resp.json = mocker.Mock(return_value=fake_weather_info)
    
    fake_resp.status_code = HTTPStatus.OK
...
</code></pre>
<blockquote>
<p>Can we do better? </p>
</blockquote>
<p>Yes, please, follow along. Let's see now how to improve it a bit.</p>
<h3 id="responses"><code>responses</code></h3>
<p>Mocking <code>requests</code> using the <code>mocker</code> feature has the downside of having a long setup. A good way to avoid that is to use a library that intercepts <code>requests</code> calls and patch it. There are more than one lib for that, but simplest to me is <code>responses</code>. Let‚Äôs see how can we use it to replace <code>mock</code>.</p>
<pre><code><span>@responses.activate</span>
<span><span>def</span> <span>test_retrieve_weather_using_responses</span>(<span>fake_weather_info</span>):</span>
    <span>"""Given a city name, test that a HTML report about the weather is generated
    correctly."""</span>
    api_uri = API.format(city_name=<span>"London"</span>, api_key=API_KEY)
    responses.add(responses.GET, api_uri, json=fake_weather_info, status=HTTPStatus.OK)

    weather_info = retrieve_weather(city=<span>"London"</span>)
    <span>assert</span> weather_info == WeatherInfo.from_dict(fake_weather_info)
</code></pre>
<p>Again, this function makes use of our <code>fake_weather_info</code> fixture.</p>
<p>Good... let's run the test.</p>
<pre><code>============================= test session starts ==============================
...
tests/test_weather_app.py::test_retrieve_weather_using_responses PASSED  [100%]
============================== 1 passed in 0.19s ===============================
</code></pre>
<p>Great! This test pass too. But... It's still not that great...</p>
<h3 id="pros">Pros</h3>
<p>The good thing about using libraries like <code>responses</code> is that we don't need to patch <code>requests</code> ourselves. We save some setup by delegating the abstraction to the library. However, in case you haven't noticed, we have problems.</p>
<h3 id="cons">Cons</h3>
<p>Again, the problem is, much like <code>unittest.mock</code>, our test is coupled to the implementation. If we replace <code>requests</code>, our test break.</p>
<h2 id="2-using-an-adapter">2. Using an Adapter</h2>
<blockquote>
<p>If by using mocks we couple our tests, what can we do?</p>
</blockquote>
<p>Let‚Äôs image the following scenario: Say that we can no longer use <code>requests</code> and we‚Äôll have to replace it by <code>urllib</code>, since it comes with Python. Not only that, we learned the lessons of not coupling test code with implementation and we want to avoid that in the future. We want to replace <code>urllib</code> and not have to rewrite the tests.</p>
<p>It turns out we can abstract away the code that performs the GET request.</p>
<blockquote>
<p>Really? How?</p>
</blockquote>
<p>We can abstract it by using an adapter. The adapter is a design pattern that is used to encapsulate, or wrap, the interface of other class and expose it as a new interface. This way we can change the adapters without changing our code. For example, we can encapsulate the details about <code>requests</code> in our <code>find_weather_for</code> and expose it via a function that takes only the URL.</p>
<p>So, this...</p>
<pre><code><span><span>def</span> <span>find_weather_for</span>(<span>city: str</span>) -&gt; dict:</span>
    <span>"""Queries the weather ‚Ä¶</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://miguendes.me/3-ways-to-test-api-client-applications-in-python-ckf9id01c01302zs15m1off81">https://miguendes.me/3-ways-to-test-api-client-applications-in-python-ckf9id01c01302zs15m1off81</a></em></p>]]>
            </description>
            <link>https://miguendes.me/3-ways-to-test-api-client-applications-in-python-ckf9id01c01302zs15m1off81</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532337</guid>
            <pubDate>Sun, 20 Sep 2020 06:47:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You Are an Impostor]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532307">thread link</a>) | @abyx
<br/>
September 19, 2020 | https://softwaresaltmines.com/2020/09/09/you-are-an-impostor/ | <a href="https://web.archive.org/web/*/https://softwaresaltmines.com/2020/09/09/you-are-an-impostor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-2229">

	
<!-- .entry-header -->

	<div>

		<div>

			
<h5>By Jim Grey (<a rel="noreferrer noopener" href="https://softwaresaltmines.com/about/" target="_blank">about</a>)</h5>



<p>I hired a software developer right out of college. He had a lot to learn, but he learned it steadily. Yet he admitted to me privately that he wasn‚Äôt sure he belonged. He thought that the other developers spoke so confidently and delivered so competently. He compared himself to them and, in his mind, came up wanting.</p>



<div><figure><img loading="lazy" data-attachment-id="2237" data-permalink="https://dev.jimgrey.net/me-at-crown-hill/" data-orig-file="https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg" data-orig-size="1071,1339" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;Jim Grey&quot;,&quot;camera&quot;:&quot;F2AS&quot;,&quot;caption&quot;:&quot;Nikon F2\r50mm f\/2 AI Nikkor\rFujifilm Neopan 100 Acros\r\rMy son Damion shot these. I was going for a serious look but I think what I got was a bored look.&quot;,&quot;created_timestamp&quot;:&quot;1472162857&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;Me at Crown Hill&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Me at Crown Hill" data-image-description="" data-medium-file="https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=240" data-large-file="https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=580" src="https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=819" alt="" width="413" height="516" srcset="https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=819 819w, https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=413 413w, https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=826 826w, https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=120 120w, https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=240 240w, https://softwaresaltmines.files.wordpress.com/2020/09/impostor.jpg?w=768 768w" sizes="(max-width: 413px) 100vw, 413px"><figcaption>Impostor.</figcaption></figure></div>



<p>What he didn‚Äôt know was that I was leading developers for the first time. I‚Äôd been in management roles in the industry for a very long time, but always of testing and communications teams. </p>



<p>Worse, I hadn‚Äôt written a meaningful line of code in about a decade. Even then, most of that code was test automation. That‚Äôs not the same as writing product code.</p>



<p>Yet here I was, leading developers. The CTO who hired me wanted my skill in managing people, leading projects, and refining process. But I had so much to learn about modern software development. It was embarrassing to need the developers to explain the basics to me.</p>



<p>I told this young developer this story and admitted that I felt like an impostor, too. But I‚Äôd experienced impostor syndrome before. I knew that with effort and time I‚Äôd learn what I needed to learn and the feeling would abate. More importantly, even with all I needed to learn, I knew I had something valuable to offer right now. He did too, I told him.</p>



<p>We all figure it out as we go. In time, we build experience that lets us get it right more often.</p>



<p>What I wish I‚Äôd told him, what I‚Äôve learned since then, is that there are three kinds of impostors. There are the impostors who don‚Äôt know they‚Äôre impostors. They‚Äôre so self-possessed that they overestimate themselves. There are the impostors who know it but do everything they can to hide it. They live in fear and anxiety that they will be found out. And then there are the impostors who know it, admit it to themselves, and sometimes even admit it to others. They‚Äôre the ones who can grow the fastest.</p>



<p>This young developer was the best kind: he admitted it. It let me tell him my own story, which helped put his mind at ease. Then it let us talk frankly about the areas where he felt like he didn‚Äôt know what he was doing, so I could pair him with other engineers who could level him up faster.</p>

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://softwaresaltmines.com/2020/09/09/you-are-an-impostor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532307</guid>
            <pubDate>Sun, 20 Sep 2020 06:37:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Internet, Social Media and the Individual]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24532213">thread link</a>) | @nktsg
<br/>
September 19, 2020 | https://techimadions.com/internet-social-media-individual/ | <a href="https://web.archive.org/web/*/https://techimadions.com/internet-social-media-individual/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>As the COVID-19 pandemic has proliferated and as we have come to terms with it, the Internet became the heartbeat of our world. It has already become ubiquitous in our lives but the pandemic has forced people and businesses to realize how our socioeconomic lives have become dependent on it. This is only going to accelerate in the coming years considering the new ways of work and interaction people have adopted over the previous few months.</p>
<p>On the other hand, this has left people with increased psychological disquiet since we're already overwhelmed by the influence of the Internet and social media in our day to day lives. It's ever more important to reflect on our relationship with the Internet on the individual front and ask hard questions about our future with it.</p>
<p>The following are some of my reflections on the current state of the influence of the Internet in our individual lives and what can be done.</p>
<h3>Connected But Dejected</h3>
<p>We are living in the most connected times, yet we've never felt more isolated collectively. Our phones ring with so many notifications in a day that no single notification has more value. The asynchronicity of our communication patterns has no definite coherent start and end. Text is not suitable for hourly long conversations over food and drinks; so now we talk in bits and pieces. Instant messaging has made communication so cheap and effortless that talking on the phone for more than a few minutes feels like dread. Social media, online news, and videos on anything take so much of our time that later we end up deciding whether to work or check for what's up with a friend/family member.</p>
<p>I think it's not the time that we end up sacrificing, it's the fear of missing out of things. Information moves so fast on the Internet that we trade-off attention for aggregation. We've started to live in two realities. One is physical and the other is digital and unfortunately, the digital one is taking the lead. Even when we are in the physical one, we left some part of ourselves in the digital one. It's like we're sailing two boats at the same time. We're in constant flux. It's not so difficult to map both the realities with the characteristics of the modern world that humans cherish. The digital one is fast, productive, opportunistic, economic, scalable, reliable, and mostly non-discriminatory. But all this comes at the cost of our psychological health. While we marvel at the disruptive innovations of digital connection that the Internet has sown seeds for, it's no substitute for our fundamental biological and physical need for connection. We still long to sense fellow humans by engaging with them in a physical medium. And that's when our psychological instincts find refuge.</p>
<h3>The Desire For Feedback</h3>
<p>We are a creature that loves attention. This starts from the day we are born. Babies demand attention to care. Teens demand attention to self-esteem. Adults require attention to form new connections that help in job prospects. Attention is a natural and necessary part of our biological behavior. The problem occurs when instead of getting attention as a result of our personalities, we tend to <strong>seek</strong> attention. What popular culture does is divide people into two categories: the influencer and the follower. Class-based societies are everywhere in the world. But popular culture creates another category.</p>
<p>Before the internet, there were fixed avenues for a person to become popular. Internet followed by social media turned the table upside down. And after the smartphone revolution, anyone having a phone got the tools to broadcast to possibly every other person on the planet. Social media started with networks of friends and family and platforms like Instagram and YouTube eventually turned it into a worldwide virtual stage.</p>
<p>Now, everybody has got everybody's attention. The playing field has been leveled. Everyone wants a piece of it. This behavior is not permanent though. In the end, everybody can't win. Since social media is far less daunting than the physical space, we tend to delegate the feedback mechanism of society to it. The effort required to represent oneself is frugal and the consequences are far less intimidating. And since the said rules and codes of society are not applicable here, the expectation for feedback increases.</p>
<h3>The Perfect Life Diet</h3>
<p>Social media was started as a way to connect with friends and family. At least, it was projected like that. It's not that we didn't have mediums for that before. I think it provided a great escape from physical reality especially for teens and young adults. We know that these years are an intimidating phase of our lives. Connecting with other people to know a little more something about their life and creating your persona was way much easier.</p>
<p>Once all the young people onboarded, the network effects made the older generation to join it. Text was still a banal way of sharing your life. Soon after, the social media companies realized that photos are more stimulating to us than text and activate more parts of our brain. Then came platforms like Instagram and Snapchat. Photos became the dominant media crossing through our minds. <a href="https://marshallmcluhan.com/">Marshall McLuhan</a> in his book quotes that in the long run, content matters less than the medium itself in influencing how we think and act. Soon after, the advertisers got hold of this fact and since more people were shifting to these platforms leaving TV and newspapers behind, advertising gave way for people to make some extra cash. Eventually, the ship started sailing and marketing picked up speed.</p>
<p>Advertising has always worked on exaggerated product characteristics and contrived human behaviors. As a result, people started sharing their ideal lives. The perfect couple, the perfect job, the perfect clothing, the perfect diet, the perfect fitness regime, the perfect accessories, the perfect home, the perfect vacation became mainstream outlook.  Some people post multiple photos in a single day. Young people have even started to start their professional journey on social media. Dissatisfaction start to seep in when we start to compare our persona with other people's personas. Comparison is a natural trait of us. That's how we perceive the world around us and separate one thing from another.</p>
<p>But it doesn't work the same way in the physical and digital space. In the physical space, there can only be a handful of objects or people in our line of vision. Hence, our brains get an ample amount of time to process our emotions.  This changes completely in the digital space. We go through so much media in so little time that the brain is not able to register all of them at the moment. Instead, it registers hooks to all the information which resurface later in our daily lives</p>
<h3>Mimetic Paralysis</h3>
<p><a href="https://iep.utm.edu/girard/">Ren√© Girard's</a> Mimetic theory‚Äôs key insight is that human desire is not an autonomous process, but a collective one. We want things because other people want them. This is ever more visible today as we spend more of our time watching what's going on with other people and the world. The increased consumption of digital media might be rewiring our brain structures in ways that we don't understand yet. While we are mapping our social behaviors in the physical world onto the digital world, our digital persona is creating a space of its own. This novel persona is being shaped by the values and norms of the digital atmosphere.</p>
<p>We can already see the effect on how people have started curating their digital persona according to these rules and how the nature of every social profile has started to look the same. Someone creates a new style of content and soon after you can see mushrooms of other people creating the same content. It's not a special trait of social media. Just that it has aggravated this trend. We don't realize when our digital worlds start to influence our physical world. The places we go, the things we buy, the food we eat. Some people have started even doing things in their physical worlds just to enhance their digital curation. The mostly independent nature of social media also attracts many of the young people. Bringing up connected is also a huge reason for the current generation of teens trying to find a stable work opportunity out of it.</p>
<h3>The Information Rabbit Hole</h3>
<p>How many times have you opened a bunch of links in different browser tabs; all seeming interesting just to realize that you can't possibly read all of it? How many times have you started watching something on YouTube just to realize that it's been hours? Every new second, someone is publishing content somewhere in the world. And it's all available instantly. There are no distribution costs. There is simply too much information now. There are news sites, wiki sites, videos, blog posts, independent publishers, newsletters, twitter threads, documentaries, etc.</p>
<p>But information is not a substitute for knowledge. This is a great misunderstanding of the post-internet era. Cramming our minds with disparate information doesn't make us knowledgeable. The brain is a very efficient machine. It doesn't retain information which it doesn't find useful regularly. That's why however a great article you've read days ago, you don't remember much of it.  We've delegated memorization to search engines. Memorization is a key element in forming a solid understanding of the world.  Since there is so much content, every different person is reading, watching, and listening to different things.</p>
<p>That's why it's getting harder to talk or chat about a common topic of interest. Consequences are FOMO and despair. You're now subject to know every social, political, national, geopolitical news. Every second something bad is happening in some part of the world and it's all visible in plain sight. But we can't do much about any single incident. This ends up in a lot of mental despair. In the end, we've to pick our battles. There is limited fuel in our brains and it's in our control what we choose to put it at work.</p>
<h3>Where's the ‚Ä¶</h3></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://techimadions.com/internet-social-media-individual/">https://techimadions.com/internet-social-media-individual/</a></em></p>]]>
            </description>
            <link>https://techimadions.com/internet-social-media-individual/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532213</guid>
            <pubDate>Sun, 20 Sep 2020 06:09:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is macOS under the biggest malware attack ever?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24532184">thread link</a>) | @todsacerdoti
<br/>
September 19, 2020 | https://reverse.put.as/2020/09/17/evilquest-revisited/ | <a href="https://web.archive.org/web/*/https://reverse.put.as/2020/09/17/evilquest-revisited/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
  <div>
    <div>
      <article role="main">
        <p>No. I just clickbaited you but don‚Äôt leave yet, keep reading for something fun!</p>
<p>A couple of days ago I found something curious on <a href="https://www.virustotal.com/gui/">VirusTotal</a>. There were more than 40 thousand binaries with the same size in a single day. That seemed very odd so I loaded two random binaries and compared their contents. The only difference was on strings section.</p>
<p>VirusTotal detections were very low (two to three) and identified the samples as EvilQuest/ThiefQuest malware.</p>
<p>To prove that all the binaries were the same except for strings, I wrote a quick <a href="https://github.com/gdbinit/evilquest_stats">Mach-O stats</a> utility in <a href="https://golang.org/">Go</a> (yes, 2020 is this crazy!) to hash the code and strings sections separately. The hypothesis is that the code section would have the same hash for all the samples, and the strings section would have a unique hash for each sample. The output confirmed that this was indeed the case - same code, different strings.</p>
<p>Running this program against 206091 binaries totalling 34GB of data:</p>
<div><pre><code data-lang="bash">Mach-O Stats
<span>(</span>c<span>)</span> <span>2020</span> Pedro Vilaca. All Rights Reserved
 100% |‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| <span>(</span>206091/206091, <span>1563</span> it/s<span>)</span> <span>[</span>2m11s:0s<span>]</span>
__text map
cd87dfd659fc2334ccc59093c1f41ba9abf4c88046d438ddd8bc2d82f55859d7 <span>206091</span>
</code></pre></div><p>Given that the strings are encrypted/obfuscated, my first idea was that this could be a new version with mutated versions being used in different sources. Doesn‚Äôt make that much sense given that the code was the same but given that EvilQuest has ransomware features, this could be for example different BitCoin wallets for each sample.</p>
<p>Now it was time to load one of the samples into a disassembler and give a look at its contents. Assuming that the VirusTotal detections were correct even if too low, I grabbed the <a href="https://objective-see.com/downloads/malware/EvilOSX.zip">known sample</a> of EvilQuest. This sample contains debugging symbols so it‚Äôs very easy to navigate since most function names are explicit about their intents. The new sample fixed that mistake and had that information removed.</p>
<p>Before bringing the heavy diffing guns such as <a href="https://www.zynamics.com/software.html">BinDiff</a> and <a href="http://diaphora.re/">Diaphora</a> I like to give a look around to feel what‚Äôs going on. In this case the code had differences but was very similar. I could see what were clearly obfuscated/encrypted strings like in the original sample. So, I tried to find those functions using the symbols from the first sample. That was fast and easy and confirmed that the code was related (either from the same author or someone reusing it - attribution is hard :P).</p>
<p>Scott Knight released a <a href="https://github.com/carbonblack/tau-tools/tree/master/malware_specific/ThiefQuest">script</a> to decrypt/encrypt the original samples strings, but it doesn‚Äôt work with the new samples. It makes sense given that there are keys and tables that could have changed, and also what appears to be a new type of obfuscated/encrypted string format.</p>
<div><pre><code data-lang="plaintext">000Bg{0000090nQ4XL1qPsnl1ZjpKX0lkFoa0000053
</code></pre></div><p>The new strings type appears to always starts with <strong>000Bg{</strong>.</p>
<p>Learning a new programming language is easier when you have things to do with it, so I decided to write a <a href="https://github.com/gdbinit/evilquest_deobfuscator">decrypter/deobfuscator</a> in Go. In hindsight it wasn‚Äôt a smart decision because it‚Äôs kind of ugly to deal with buffers in Go and much easier in C (or I don‚Äôt know yet the best way to do it in Go).</p>
<div><pre><code data-lang="bash">$ ./evilquest_deobfuscator -s <span>"000Bg{0000090nQ4XL1qPsnl1ZjpKX0lkFoa0000053"</span>
EvilQuest String Deobfuscator
<span>(</span>c<span>)</span> <span>2020</span> Pedro Vilaca. All Rights Reserved
000Bg<span>{</span>0000090nQ4XL1qPsnl1ZjpKX0lkFoa0000053 -&gt; rb+
</code></pre></div><p>Meanwhile, the next day there were again more than 40 thousand new samples with the same size. Confirmed again that the only difference was in strings. While reversing and writing the strings decrypter I noticed that the hash of the sample I was using was modified. That generated a brain click and I went to bed thinking that this wasn‚Äôt a big malware campaign (very sad!) because it didn‚Äôt make sense with so many samples but it could be a VirusTotal issue. VirusTotal sandbox just got trapped into an analysis loop. This idea was reinforced by the fact that the sample had been submitted from the <strong>ZZ</strong> country code, meaning unknown origin. Connecting these two ideas reinforced my belief that this was the right path.</p>
<p>After I finished the <a href="https://github.com/gdbinit/evilquest_deobfuscator">strings decrypter</a> I could verify that my unique samples campaign hypothesis wasn‚Äôt valid. The strings were all the same, just encrypted/obfuscated with different keys.</p>
<p>So, the next step was to verify the code to see what was happening there. This was very easy to find since it‚Äôs the first thing the sample does.</p>
<p>At the entrypoint we can observe the mutation function being called first with <code>argv[0]</code> as its argument.</p>
<div><pre><code data-lang="plaintext">000000010001A8D0         public start
000000010001A8D0 start   proc near
(...)
000000010001A8D0         push    rbp
000000010001A8D1         mov     rbp, rsp
000000010001A8D4         sub     rsp, 2F0h
000000010001A8DB         mov     rax, cs:___stack_chk_guard_ptr
000000010001A8E2         mov     rax, [rax]
000000010001A8E5         mov     [rbp+var_8], rax
000000010001A8E9         mov     [rbp+var_94], 0
000000010001A8F3         mov     [rbp+var_98], edi
000000010001A8F9         mov     [rbp+var_A0], rsi
000000010001A900         mov     rax, [rbp+var_A0]
000000010001A907         mov     rdi, [rax]      ; argv[0]
000000010001A90A         call    fg_open_and_reencrypt_cstrings ; binary self modifies here
(...)
</code></pre></div><p>Next follows opening the executable itself with <code>rb+</code> mode (reading and writing). Fun enough there is a memory leak because the decrypted string buffer is malloc‚Äôed in the decryptor function. One of the differences from this sample versus the previous is the increased usage of dynamically allocated memory, increasing the potential for memory leaks. There are a lot more memory leaks all over the code. Xcode Instruments has a nice leak detector (<em>hint, hint</em>).</p>
<div><pre><code data-lang="plaintext">000000010001A840 fg_open_and_reencrypt_cstrings proc near
000000010001A840                                         ; CODE XREF: start+3A‚Üìp
000000010001A840
000000010001A840 var_24          = dword ptr -24h
000000010001A840 __filename      = qword ptr -20h
000000010001A840 FILE_pointer    = qword ptr -18h
000000010001A840 var_10          = qword ptr -10h
000000010001A840 var_4           = dword ptr -4
000000010001A840
000000010001A840         push    rbp
000000010001A841         mov     rbp, rsp
000000010001A844         sub     rsp, 30h
000000010001A848         mov     [rbp+var_10], rdi
000000010001A84C         mov     rdi, [rbp+var_10]
000000010001A850         lea     rax, a000bg0000090nq_18 ; "000Bg{0000090nQ4XL1qPsnl1ZjpKX0lkFoa000"...
000000010001A857         mov     [rbp+__filename], rdi
000000010001A85B         mov     rdi, rax
000000010001A85E         call    fg_decrypt_0000Bg_string ; decrypt/decode string
000000010001A863         mov     rdi, [rbp+__filename]
000000010001A867         mov     rsi, rax  ; "rb+"
000000010001A867                           ; memleak here since the returned ptr was calloc'ed
000000010001A86A         call    _fopen
000000010001A86F         mov     [rbp+FILE_pointer], rax
000000010001A873         cmp     [rbp+FILE_pointer], 0
000000010001A878         jz      loc_10001A890
000000010001A87E         mov     rdi, [rbp+FILE_pointer] ; FILE *
000000010001A882         call    _ftrylockfile
000000010001A887         cmp     eax, 0
000000010001A88A         jz      loc_10001A89C
000000010001A890
000000010001A890 loc_10001A890:            ; CODE XREF: fg_open_and_reencrypt_cstrings+38‚Üëj
000000010001A890         mov     [rbp+var_4], 0FFFFFFFFh
000000010001A897         jmp     loc_10001A8C1
000000010001A89C ; ---------------------------------------------------------------------------
000000010001A89C
000000010001A89C loc_10001A89C:            ; CODE XREF: fg_open_and_reencrypt_cstrings+4A‚Üëj
000000010001A89C         mov     rdi, [rbp+FILE_pointer] ; FILE* handle
000000010001A8A0         call    fg_reencrypt_cstrings
000000010001A8A5         mov     rdi, [rbp+FILE_pointer] ; FILE *
000000010001A8A9         call    _funlockfile
000000010001A8AE         mov     rdi, [rbp+FILE_pointer] ; FILE *
000000010001A8B2         call    _fclose
000000010001A8B7         mov     [rbp+var_4], 0
000000010001A8BE         mov     [rbp+var_24], eax
000000010001A8C1
000000010001A8C1 loc_10001A8C1:            ; CODE XREF: fg_open_and_reencrypt_cstrings+57‚Üëj
000000010001A8C1         mov     eax, [rbp+var_4]
000000010001A8C4         add     rsp, 30h
000000010001A8C8         pop     rbp
000000010001A8C9         retn
000000010001A8C9 fg_open_and_reencrypt_cstrings endp
</code></pre></div><p>The <code>fg_reencrypt_cstrings</code> function is previous listing is where the mutation occurs.
The function will find the <code>__cstring</code> section and iterate over its contents, decrypting and encrypting the strings, and write back to the binary. The original binary is already modified when it returns from <code>fg_open_and_reencrypt_cstrings</code> .</p>
<div><pre><code data-lang="c">(...)
<span>for</span> ( j <span>=</span> <span>0</span>; j <span>&lt;</span> sg<span>-&gt;</span>nsects; <span>++</span>j ) {
    v12 <span>=</span> (<span>__int64</span>)sub_100006580(a1, v17, <span>80LL</span>);
    <span>// obfuscated string is "__cstring"
</span><span></span>    v2 <span>=</span> fg_decrypt_0000Bg_string(<span>"000Bg{00000H0nQ4XL1qPsnl3oBkir1CDCUq3Z{iy|22B2MZ0000073"</span>);
    <span>if</span> ( <span>!</span>strcmp((<span>const</span> <span>char</span> <span>*</span>)v12, v2) ) {
        v11 <span>=</span> (<span>__int64</span>)sub_100006580(a1, <span>*</span>(<span>unsigned</span> <span>int</span> <span>*</span>)(v12 <span>+</span> <span>48</span>), <span>*</span>(_QWORD <span>*</span>)(v12 <span>+</span> <span>40</span>));
        v10 <span>=</span> <span>0LL</span>;
        v9 <span>=</span> <span>0LL</span>;
        v8 <span>=</span> <span>0</span>;
        fseek(a1, <span>*</span>(<span>unsigned</span> <span>int</span> <span>*</span>)(v12 <span>+</span> <span>48</span>), <span>0</span>);
        <span>while</span> ( (<span>unsigned</span> <span>__int64</span>)v8 <span>&lt;</span> <span>*</span>(_QWORD <span>*</span>)(v12 <span>+</span> <span>40</span>) ) {
            <span>if</span> ( <span>*</span>(_BYTE <span>*</span>)(v11 <span>+</span> v8) ) {
                <span>++</span>v9;
            }
            <span>else</span> <span>if</span> ( v9 ) {
                v7 <span>=</span> (<span>char</span> <span>*</span>)calloc(<span>1uLL</span>, v9 <span>+</span> <span>1</span>);
                __memcpy_chk(v7, v10 <span>+</span> v11, v9, <span>-</span><span>1LL</span>);
                v6 <span>=</span> fg_decrypt_0000Bg_string(v7);
                __s <span>=</span> (<span>char</span> <span>*</span>)fg_encrypt_0000Bg_string(v6);
                <span>if</span> ( v7 <span>!=</span> v6 ) {
                    v3 <span>=</span> strlen(__s);
                    <span>if</span> ( v3 <span>==</span> strlen(v7) ) {
                        fseek(a1, v10 <span>+</span> <span>*</span>(<span>unsigned</span> <span>int</span> <span>*</span>)(v12 <span>+</span> <span>48</span>), <span>0</span>);
                        fwrite(__s, <span>1uLL</span>, v9, a1);
                        free(v6);
                    }
                }
                free(v7);
                free(__s);
                v10 <span>+=</span> v9 <span>+</span> <span>1</span>;
                v9 <span>=</span> <span>0LL</span>;
            }
            <span>else</span> {
           ‚Ä¶</code></pre></div></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reverse.put.as/2020/09/17/evilquest-revisited/">https://reverse.put.as/2020/09/17/evilquest-revisited/</a></em></p>]]>
            </description>
            <link>https://reverse.put.as/2020/09/17/evilquest-revisited/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24532184</guid>
            <pubDate>Sun, 20 Sep 2020 06:02:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Startups are a complex multivariable equation]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24531852">thread link</a>) | @grwthckrmstr
<br/>
September 19, 2020 | https://www.preetamnath.com/blog/startups-multivariable-equation | <a href="https://web.archive.org/web/*/https://www.preetamnath.com/blog/startups-multivariable-equation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Launching a startup and building it into a successful business requires a multidisciplinary skillset. Because startups are a complex <a href="https://en.wikipedia.org/wiki/Multivariable_calculus" target="_blank">multivariable equation</a>.</p><p>You have moving target, which is somewhat in sight but not really. You‚Äôre wearing glasses but objects at a great distance are blurry.&nbsp;</p><p>The multivariable equation looks something like this</p><ul role="list"><li>understanding the market and finding a gap</li><li>coming up with a product thesis to solve the customer‚Äôs needs</li><li>finding the right distribution channels that are profitable</li><li>discovering pockets of places to find the initial set of customers</li><li>positioning the solution with the right messaging</li><li>creating the right business model and pricing structure</li><li>building competitive differentiation to fight off competition</li><li>having a founding team that has the right skillset for all the problems listed above and the million others that aren‚Äôt</li></ul><figure id="w-node-2bc32fdcbb34-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f66be2bf4382616b86f3dba_startup%20complex%20multivariable%20equation%20photo.jpg" loading="lazy" alt=""></p><figcaption><em>Photo by </em><a href="https://unsplash.com/@barkiple?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank"><em>John Barkiple</em></a></figcaption></figure><p>There‚Äôs a million reasons a startup might fail. And you cannot control those million factors of chaos.</p><p>But you can piece together parts of this equation (via discovery) and solve them one by one. Solving a piece of the equation reduces your chances of crash and burn, i.e. increases your chances of success.</p><p>The factors I‚Äôve listed above are some of the more well understood parts of this equation, and ones that you can actually control and influence.</p><p>However, it doesn‚Äôt matter if you get only solve a few parts of the equation, because one or two wrong answers such as distribution channels or business model might be enough to kill your business. That‚Äôs what runway (frugality, burn rate, funding, customer revenue) is for.</p><p>Even if you get all the above factors right, it takes a lot of time and effort for your business to take off, to build up momentum and achieve <a href="https://www.preetamnath.com/blog/momentum-escape-velocity" target="_blank">escape velocity</a>.</p><p>It boils down to - Can you solve your startup's multivariable equation before you run out of runway?</p><figure id="w-node-c061837fdebd-2f0d8df6"><p><img src="https://uploads-ssl.webflow.com/5e085291ed2a2769a872e587/5f66c1f176b8944f5e9c79f3_startup%20runway.jpg" loading="lazy" alt=""></p><figcaption><em>Photo by </em><a href="https://unsplash.com/@jmoncasi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank"><em>Jordi Moncasi</em></a><a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"></a></figcaption></figure><p>This is why a lot of successful businesses don‚Äôt do something entirely new and from the ground up. They take something existing and working and improve parts of the equation. </p><p>Zoom took WebEx and made the product delightfully easy to use.</p><p>And similarly, a lot of businesses are copycats. They copy something existing and improve upon it slightly and meaningfully. One can argue that <a href="https://invertedpassion.com/copying-ideas-is-highly-underrated/" target="_blank">copying ideas</a> is highly underrated. </p><p>Instagram Stories is basically Snapchat‚Äôs innovation, but they won because the distribution piece of the equation was far ahead.</p><p>Zoom and Instagram simply picked a multivariable equation where some of the unknowns were already solved for.</p></div></div>]]>
            </description>
            <link>https://www.preetamnath.com/blog/startups-multivariable-equation</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531852</guid>
            <pubDate>Sun, 20 Sep 2020 04:15:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Backing up data like the adult I supposedly am]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24531670">thread link</a>) | @signa11
<br/>
September 19, 2020 | https://magnusson.io/post/backups/ | <a href="https://web.archive.org/web/*/https://magnusson.io/post/backups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      <div>
        

<article>
  <header>
  
  
  <time datetime="2020-09-18T10:47:47+02:00">
    18 September, 2020
  </time>
  
</header>

  <p>Like so many things I‚Äôm supposed to do but don‚Äôt‚Äâ‚Äî‚Äâgetting exercise, eating right, sleeping well, standing up for women and minorities in public spaces‚Äâ‚Äî‚Äâbacking up my data has always been something I‚Äôve half-assed at best.</p>
<p>I‚Äôve lugged around an external hard drive with a few hundred gigabytes of data for the last 10 years, and made backups to it once every three or four years or so. Every time I‚Äôve tried restoring anything from those backups I‚Äôve regretted it, because of course I just bought the drive, plugged it in and copied stuff to it, so it is a FAT32 drive while I have mostly had EXT4 filesystems, which means all my file permissions get lost during the process.</p>
<p>I‚Äôve written shameful little shell scripts to set file permissions to 0644 and directory permissions to 0755, recursively, many many times.</p>
<p>Part of my problem was that I both know just enough rsync to be dangerous and have a credit card so I can provision cloud VMs, so forever just around the corner was my perfect backup solution that I‚Äôd write myself and maintain and actually do instead of dealing with whatever I had going on in my life. I‚Äôve come to accept that this will never happen, or perhaps more definitively, that I‚Äôd rather cut myself than write and maintain another piece of ad-hoc software for myself.</p>
<p>Luckily I recently found two things that have solved this whole problem for me: <a href="https://borgbackup.readthedocs.io/en/stable/">borg</a> and <a href="https://www.rsync.net/">rsync.net</a>.</p>
<p>Borg is backup software. It compresses and deduplicates data at the block level, and strongly encourages (but does not force) you to encrypt data before backing it up. It is everything I‚Äôd want from my half-assed rsync and shell script abomination.</p>
<p>I read its documentation a couple of times and was impressed. I then set about comparing different VM hosts to see which one would give me the cheapest block storage option, when the result of some <a href="https://github.com/scotte/borgsnap">random google search</a> led me to rsync.net. They are a company that stores backups, pretty cheaply, and <a href="http://www.rsync.net/products/attic.html">even more cheaply</a> if you use borg to take them. I guess they just really love borg and want us to love it too.</p>
<p>I signed up for their cheapest plan, which starts at 100GB stored for $18 per year. They have no network in- or egress costs, and the storage amount can be adjusted at any time. Once my account had been activated, I did a little password reset dance, and uploaded a public SSH key.</p>
<p>I wanted to back up my <code>$HOME</code> directory, so after installing borg I ran:</p>
<div>
<div>
<pre>export BORG_REMOTE_PATH="borg1"
borg init --encryption repokey-blake2 UID@ch-s011.rsync.net:home</pre>
</div>
</div>
<p>This created a remote borg repository called "home" on rsync.net‚Äôs servers. The environment variable is so we use a more recent version of borg on the remote server (version 1.1.11 at the time of writing), as the default version is rather old (version 0.29.0).</p>
<p>When choosing what encryption method to use, one can choose between a "repokey" or a "keyfile". They both create a private key locked with a passphrase; the difference is that with "repokey" the key is stored in the borg repo, while with "keyfile" it is stored outside of it. This boils down to whether we think a passphrase is enough security for our data, or whether we think having a secret keyfile is necessary. I figured my password manager could create a strong enough passphrase for my needs, and I didn‚Äôt want to think about losing the keyfile, so I chose "repokey-blake2".</p>
<p>To create my first backup, I ran</p>
<div>
<div>
<pre>borg create --exclude "$HOME/.cache" UID@ch-s011.rsync.net:home::backup-1 "$HOME"</pre>
</div>
</div>
<p>which created the archive "backup-1" in my "home" borg repository. I didn‚Äôt change the compression algorithm from the default one.</p>
<p>By default borg compresses data with lz4. It can use other compression methods (xz, zlib, zstd). I compared their compression ratios on some binary files I had and found no difference between them. I think this is because the large binary files I have are mostly audio and video files in lossy formats, which don‚Äôt seem to benefit very much from further compression. I have a lot of text files as well, but text takes up so little relative space on today‚Äôs hardware that it makes no sense to spend CPU cycles on compressing it better than lz4 does.</p>
<p>This backup command hummed along for a good while, and through a couple of reboot cycles. Doing a second backup right after it finished (or the day after) took a lot less time because of the deduplication:</p>
<div>
<div>
<pre>borg create --exclude "$HOME/.cache" UID@ch-s011.rsync.net:home::backup-2 "$HOME"</pre>
</div>
</div>
<p>Restoring from backup is also easy:</p>
<div>
<div>
<pre>borg extract UID@ch-s011.rsync.net:home::backup-2</pre>
</div>
</div>
<p>I set this up to run as a daily timed systemd service at noon (very easy on NixOS, which every Linux user should be using unless they hate themselves), and will never, ever think about this again. For a handful of bucks a year, that is a good deal.</p>

  







  



</article>


      </div>
    </div>
  </div></div>]]>
            </description>
            <link>https://magnusson.io/post/backups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531670</guid>
            <pubDate>Sun, 20 Sep 2020 03:16:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Era of Regulatory Grift: TikTok-Oracle, NXP-Qualcomm, Arm-Nvidia]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24531657">thread link</a>) | @ceohockey60
<br/>
September 19, 2020 | https://interconnected.blog/era-of-regulatory-grift-tiktok-oracle-nxp-qualcomm-arm-nvidia/ | <a href="https://web.archive.org/web/*/https://interconnected.blog/era-of-regulatory-grift-tiktok-oracle-nxp-qualcomm-arm-nvidia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="english-version">
                        <p>The dictionary definition of the word ‚Äúgrift‚Äù is as follows: ‚Äú<a href="https://www.merriam-webster.com/dictionary/grift">to acquire money or property illicitly</a>‚Äù. It may be a strong word, but also more or less encapsulates the regulatory ethos that‚Äôs governing cross-border technology businesses these days.</p><p>The TikTok-Oracle deal flaunts this grifting ethos, but it‚Äôs just the latest example of a series of haphazard regulatory actions mired in geopolitical brinkmanship -- a trend that may implicate deals with much larger impact, like the pending Nvidia acquisition of Arm.</p><h2 id="tiktok-oracle">TikTok-Oracle</h2><p>There are still many missing details to the TikTok-Oracle deal, and Trump <a href="https://uk.reuters.com/article/us-usa-tiktok-oracle/trump-raises-questions-about-tiktok-oracle-deal-if-bytedance-ties-remain-idUKKBN2672KD">may not approve the deal</a>. But in the grand scheme of things, many of these details are no longer important, because the spirit of the entire TikTok ‚Äúsoap opera‚Äù is cemented: a <strong>regulatory grift </strong>by the Trump administration that enriches its political donor (Larry Ellison), strengthens its campaign message (anti-China, job creation), while doing next to nothing to protect Americans from either intrusive data collection or foreign influence.</p><p>Let‚Äôs look at each of these malfeasances.</p><p><strong><em>What Oracle gets.</em></strong> TikTok‚Äôs immediate business value accrues to Oracle Cloud to the tune of possibly <a href="https://www.theinformation.com/articles/with-tiktok-deal-oracle-could-gain-billion-dollar-cloud-customer?utm_content=article-4850&amp;utm_campaign=article_email&amp;utm_source=sg&amp;utm_medium=email">$1 billion in annual revenue</a> in the coming years, as it desperately tries to catch up to AWS and Azure. The Oracle brand may also get a boost from this young, cool consumer product, even though Oracle has no experience running such a product. Since I‚Äôve written in detail about TikTok‚Äôs business value in ‚Äú<a href="https://interconnected.blog/what-is-tiktok-worth-to-whom-and-why/"><strong>What is TikTok Worth to Whom and Why?</strong></a>‚Äù, I won‚Äôt repeat myself here. <strong>One element I did not discuss so explicitly is how valuable TikTok‚Äôs user data is to the Oracle data broker business.</strong></p><p>In a nutshell, a data broker sells data to third parties mostly for marketing or advertisement purposes. Oracle‚Äôs data broker businesses are euphemistically called <a href="https://www.oracle.com/cx/marketing/">Oracle CX Marketing</a> and <a href="https://www.oracle.com/data-cloud/">Oracle Data Cloud</a>. Having the treasure trove of data that TikTok has already collected is perhaps an even more immediate business boost to Oracle than getting the product‚Äôs workload onto its cloud. Ironically (or perhaps appropriately), the person who called out the privacy violations of data brokers like Oracle, Equifax, and others is <a href="https://www.linkedin.com/in/michael-beckerman-9b750a58/"><strong>Michael Berkerman</strong></a><strong>, who is currently TikTok US‚Äôs Head of Public Policy</strong>. He did so last year as the then President and CEO of the Internet Association in <a href="https://www.foxnews.com/opinion/michael-beckerman-why-do-we-need-a-federal-privacy-law-ask-the-data-brokers-selling-your-private-information">an OpEd published on Fox News</a> -- a ‚Äúmedia‚Äù outlet that the President of the United States most certainly pays attention to. I wonder how long Berkerman will be sticking around, if at all, after the TikTok-Oracle deal closes.</p><p>Lastly, Oracle will likely get a <a href="https://www.ft.com/content/58eb7c26-2154-477f-af19-19157ae29261">minority stake in TikTok</a> with ByteDance still being the majority shareholder. This piece of equity in one of the most valuable private tech companies in the world -- trading at a $140 billion valuation in the secondary market earlier this year -- is something that Oracle would have no business getting in a normal investing situation. Not a bad deal <a href="https://www.businessinsider.com/oracle-billionaire-larry-ellison-is-fundraising-for-donald-trump-2020-2">for hosting a single fundraiser</a>.</p><p><strong><em>What the Trump campaign gets.</em> </strong>Being more ‚Äúanti-China‚Äù than Biden and going after the Vice President‚Äôs son‚Äôs business dealings in China has been a messaging tentpole of the Trump re-election campaign. It can now claim credit for acting tough and forcing a marquee Chinese tech company to ‚Äúsurrender‚Äù its crown jewel product to America, while accomplishing none of those things, because TikTok‚Äôs core technology is staying with ByteDance in China.</p><p>The Oracle bid also apparently includes a ‚Äú<strong>20,000 new jobs‚Äù </strong>commitment -- a typical public relations promise with no legally binding effect. Being ‚Äúanti‚Äù-China while ‚Äúcreating‚Äù jobs is a strong one-two punch as we approach the final stretch of the 2020 election season, so much so that Secretary Mnuchin couldn't wait to sell the 20,000 jobs message on CNBC the day after Oracle‚Äôs winning bid was made public, <em>even though</em> the deal hasn‚Äôt been approved or finalized yet.</p><figure><iframe width="612" height="344" src="https://www.youtube.com/embed/ZPRPswu2Cyc?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>TikTok US‚Äôs current payroll is about 1,400 people. <strong>That would be an almost 20x increase in headcount.</strong> Theoretically possible? Sure. Practical and sensible? Hardly.</p><p><em><strong>What the American people get.</strong> </em>Nothing, except that they still get to watch cool dance videos and <a href="https://www.tiktok.com/@rosssmith/video/6797540353730743557">grandmas do this</a> on their phones. We have no new information or answer to any of the three legitimate concerns surrounding TikTok:</p><ul><li>Does it send data to China?</li><li>Is its user data collection practices proper?</li><li>Is it being used as a tool for foreign influence?</li></ul><p>To be clear, there <em>are</em> regulatory tools based on technology at our disposal to answer these questions, <strong>with or without Oracle</strong>. I‚Äôve laid them out in detail in ‚Äú<a href="https://interconnected.blog/a-framework-to-dis-trust-and-verify-tiktok/"><strong>A Framework to (Dis)trust and Verify TikTok</strong></a>‚Äù. Unfortunately, it‚Äôs clear as day that the Trump administration is only interested in the political messaging benefits of TikTok-Oracle, not doing the actual work that is required to protect the interests of the American people.</p><p><strong>There is another winner that we should all take note of: <em>Chinese regulators.</em></strong></p><p>Chinese regulators typically use their power to force technology and IP transfers from foreign entities to domestic companies via joint-ventures or outright acquisitions -- <strong>another form of regulatory grift</strong>. This TikTok-Oracle deal is the first time to my knowledge, where Chinese regulators use their power to protect a home-grown technology from being <em>transferred out</em> to a foreign entity.</p><p>This win has just as much to do with exerting their regulatory power as the sucker on the other side of the negotiation table. This dynamic isn‚Äôt new, if we look at the failed NXP-Qualcomm acquisition in 2018.</p><h2 id="nxp-qualcomm">NXP-Qualcomm</h2><p>Qualcomm‚Äôs attempt to buy the Dutch semiconductor maker, NXP, for $44 billion was abandoned, because it could not get approval from Chinese regulators. This occurred during the previous height of tension when the U.S. and China were tossing retaliatory trade tariffs at each other like a couple of teenage boys in a backyard snowball fight.</p><p>The Chinese regulators did not disapprove of the deal and asked for changes to gain approval, which would‚Äôve been a good faith move. <strong>They just ignored it and let the deadline pass.</strong> This is after Secretary Mnuchin and his Commerce Department counterpart, Wilbur Ross, lobbied the Chinese Vice Minister, Liu He, and Ambassador to the US, Cui Tiankai, to approve the deal. The backdrop of this lobbying was Trump easing the penalties on the Chinese telecom equipment maker, ZTE, for violating U.S. sanction rules with regard to Iran and North Korea -- hoping for some reciprocity and dealmaking.</p><p>This foolish hope did not pan out. Instead, Qualcomm, America‚Äôs national champion in the race to 5G, had to fork up a <a href="https://www.wsj.com/articles/qualcomm-plans-to-abandon-nxp-deal-1532549728">$2 billion cancellation fee to NXP and increase its stock buyback program from $10 to $30 billion</a> to appease its shareholders. What‚Äôs more, this turn of events showed Chinese regulators that given the <strong>interconnected nature of the global economy</strong>, particularly technology businesses, they have far-reaching authority and leverage to shape deals, events, and technology acquisition vis-a-vis <strong>a tough-talking, weak-acting </strong>Trump administration. It is a key reversal in fortune, when a large swath of China‚Äôs technology sector, particularly Huawei, has been hammered by U.S. sanctions.</p><p>Qualcomm-NXP was a defensive play -- not approving a deal. TikTok-Oracle is a proactive play -- not losing control of domestic technology. <strong>There‚Äôs now an opportunity for even more aggressive ‚Äúregulatory grift‚Äù: Arm-Nvidia.</strong></p><h2 id="arm-nvidia">Arm-Nvidia</h2><p>It‚Äôs hard to comprehend the long-term impact that Nvidia‚Äôs $40 billion acquisition of Arm will have on the future of technology. One thing is certain though: it‚Äôs way more important than TikTok and Oracle, separately and combined.</p><p>We shouldn‚Äôt assume the Arm-Nvidia deal will be closed as expected given all the corporate governance issues with Arm‚Äôs China operation. Arm China‚Äôs CEO, Allen Wu, has been fired by the board for various acts of conflicts of interest and double dealing, <a href="https://www.zdnet.com/article/arms-fired-china-jv-head-refuses-to-leave-company-reps-banned-from-company-premises/">yet refuses to leave</a>. Arm‚Äôs CEO, Simon Segars, is trying to assure the public that the mess <a href="https://www.yicaiglobal.com/news/chip-designer-arm-to-solve-chinese-jv-management-issue-before-nvidia-buyout">will be cleaned up </a>in order to not endanger the sale, but he‚Äôs not in a position of leverage, now that the deal is public and the expectations are high. (Nvidia‚Äôs market cap increased by $17.5 billion the day after the deal was announced.)</p><p>Furthermore, the Arm China division is a joint-venture where 51% of the entity is owned by a consortium of these three funds:</p><ul><li><a href="https://en.wikipedia.org/wiki/China_Investment_Corporation">China Investment Corporation</a> (China‚Äôs sovereign wealth fund)</li><li><a href="https://en.wikipedia.org/wiki/Silk_Road_Fund">Silk Road Fund</a> (a state-owned fund focused on projects related to the Belt &amp; Road Initiative)</li><li><a href="https://en.wikipedia.org/wiki/Temasek_Holdings">Temasek Holding</a> (Singapore‚Äôs sovereign wealth fund)</li></ul><p>The other 49% is owned by Softbank via Arm. The joint venture structure is par for the course for any foreign technology company doing business in China. But such a tight ownership by state-owned funds means Chinese regulators (and Singaporean regulators for that matter) have strong jurisdictional power over the deal from the get-go. NXP-Qualcomm‚Äôs legal hook was a tenuous nexus. TikTok-Oracle‚Äôs hook was established by <a href="https://en.pingwest.com/a/7657">an eleventh hour change</a> to the government‚Äôs technology ‚Äúentity list‚Äù. Arm-Nvidia doesn‚Äôt need any extra work for regulators to aggressively insert themselves into the picture.</p><p>What will the Chinese regulators do is hard to tell at this moment. However, given the fact that Arm‚Äôs chip design IP has a 95% global market share in mobile devices and is <a href="https://www.zdnet.com/article/aws-graviton2-what-it-means-for-arm-in-the-data-center-cloud-enterprise-aws/">making inroads into cloud data centers</a> as well, <strong>it‚Äôs likely that China will either veto the deal (like NXP-Qualcomm) or try to keep any semiconductor IP that Arm China has even a tangential connection to</strong>. Some Chinese tech media <a href="https://mp.weixin.qq.com/s/W8nhj6udDTdr54ui7_0RIQ">are already speculating about a veto</a>. Using this opportunity to acquire some key technology also makes sense, because by <em>not</em> doing so, China runs the monumental risk of having the entire Arm ecosystem be subject to U.S. sanctions after it becomes a property of Nvidia. An ‚Äú<strong>Arm sanction</strong>‚Äù would cripple China‚Äôs entire mobile technology sector, where domestic chip design options barely exist and the open source option, RISC-V, still ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://interconnected.blog/era-of-regulatory-grift-tiktok-oracle-nxp-qualcomm-arm-nvidia/">https://interconnected.blog/era-of-regulatory-grift-tiktok-oracle-nxp-qualcomm-arm-nvidia/</a></em></p>]]>
            </description>
            <link>https://interconnected.blog/era-of-regulatory-grift-tiktok-oracle-nxp-qualcomm-arm-nvidia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531657</guid>
            <pubDate>Sun, 20 Sep 2020 03:08:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Prodigal Techbro]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24531490">thread link</a>) | @cyunker
<br/>
September 19, 2020 | https://conversationalist.org/2020/03/05/the-prodigal-techbro/ | <a href="https://web.archive.org/web/*/https://conversationalist.org/2020/03/05/the-prodigal-techbro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

               <div>


                  <p><em>The tech executive turned data justice warrior is celebrated as a truth-telling hero, but there‚Äôs something a bit too smooth about this narrative arc.</em></p><div><p><img src="https://conversationalist.org/wp-content/uploads/2020/03/Tristan-Harris.jpg" alt="" srcset="https://conversationalist.org/wp-content/uploads/2020/03/Tristan-Harris.jpg 799w, https://conversationalist.org/wp-content/uploads/2020/03/Tristan-Harris-300x200.jpg 300w, https://conversationalist.org/wp-content/uploads/2020/03/Tristan-Harris-768x512.jpg 768w" sizes="(max-width: 640px) 100vw, 640px"></p><p><span>Credit: Stuart Isett/Fortune</span><span></span></p></div>
<p>A few months ago, I was contacted by a senior executive who was about to leave a marketing firm. He got in touch because I‚Äôve worked on the non-profit side of tech for a long time, with lots of volunteering on digital and human rights. He wanted to ‚Äògive back‚Äô. Could I put him in touch with digital rights activists? Sure. We met for coffee and I made some introductions. It was a perfectly lovely interaction with a perfectly lovely man. Perhaps he will do some good, sharing his expertise with the people working to save democracy and our private lives from the surveillance capitalism machine of his former employers. The way I rationalized helping him was: firstly, it‚Äôs nice to be nice; and secondly, movements are made of people who start off far apart but converge on a destination. And isn‚Äôt it an unqualified good when an insider decides to do the right thing, however late?</p>
<p>The Prodigal Son is a New Testament parable about two sons. One stays home to work the farm. The other cashes in his inheritance and gambles it away. When the gambler comes home, his father slaughters the fattened calf to celebrate, leaving the virtuous, hard-working brother to complain that all these years he wasn‚Äôt even given a small goat to share with his friends. His father replies that the prodigal son ‚Äòwas dead, now he‚Äôs alive; lost, now he‚Äôs found‚Äô. Cue party streamers. It‚Äôs a touching story of redemption, with a massive payload of moral hazard. It‚Äôs about coming home, saying sorry, being joyfully forgiven and starting again. Most of us would love to star in it, but few of us will be given the chance.</p>
<p>The Prodigal Tech Bro is a similar story, about tech executives who experience a sort of religious awakening. They suddenly see their former employers as toxic, and reinvent themselves as experts on taming the tech giants. They were lost and are now found. They are warmly welcomed home to the center of our discourse with invitations to write opeds for major newspapers, for think tank funding, book deals and TED talks. These guys ‚Äì and yes, they are all guys ‚Äì are generally thoughtful and well-meaning, and I wish them well. But I question why they seize so much attention and are awarded scarce resources, and why they‚Äôre given not just a second chance, but also the mantle of moral and expert authority.</p>
<p>I‚Äôm glad that Roger McNamee, the early Facebook investor, has <a href="https://www.theguardian.com/world/2020/feb/29/rebecca-solnit-younger-feminists-shift-understanding-give-new-tools">testified to the U.S. Congress</a> about Facebook‚Äôs wildly self-interested near-silence about its amplification of Russian disinformation during the 2016 presidential election. I‚Äôm thrilled that Google‚Äôs ex-‚Äòdesign ethicist‚Äô, Tristan Harris, ‚Äú<a href="https://www.theguardian.com/world/2020/feb/29/rebecca-solnit-younger-feminists-shift-understanding-give-new-tools">the </a><em>closest thing Silicon Valley has to a conscience,</em>‚Äú(startlingly faint praise) now runs a Center for Humane Technology, exposing the mind-hacking tricks of his former employer. I even <a href="https://www.youtube.com/watch?v=3hSrUaSNFSY&amp;t=2309s">spoke</a> ‚Äîcritically but, I hope, warmly‚Äîat the book launch of James Williams, another ex-Googler turned attention evangelist, who ‚Äú<a href="https://en.wikipedia.org/wiki/Center_for_Humane_Technology">co-founded the movement</a>‚Äùof awareness of designed-in addiction. I wish all these guys well. I also wish that the many, exhausted activists who didn‚Äôt take money from Google or Facebook could have even a quarter of the attention, status and authority the Prodigal Techbro assumes is his birth-right.</p>
<p>Today, when the tide of public opinion on Big Tech is finally turning, the brothers (and sisters) who worked hard in the field all those years aren‚Äôt even invited to the party. No fattened calf for you, my all but unemployable tech activist. The moral hazard is clear; why would anyone do the right thing from the beginning when they can take the money, have their fun, and then, when the wind changes, convert their status and relative wealth into special pleading and a whole new career?</p>
<p>Just half an hour flipping through my contacts produced half a dozen friends and acquaintances who didn‚Äôt require a ‚Äòroad to Damascus‚Äô conversion to see what was wrong with big tech or the ways governments abuse it. Nighat Dad runs the <a href="https://digitalrightsfoundation.pk/">Digital Rights Foundation in Pakistan</a>, defending online freedom of expression and privacy for women, minorities and dissidents. That‚Äôs real courage. <a href="https://privacyinternational.org/people/95/gus-hosein">Gus Hosein</a> has worked in tech and human rights for over 20 years, runs Privacy International, the UK-based non-profit, and is the most visionary thinker I know on how to shake up our assumptions about why things are as they are.&nbsp; <a href="https://biancawylie.com/">Bianca Wylie </a>founded the volunteer-run Open Data Institute Toronto, and works on open data, citizen privacy and civic engagement. The ‚Äú<a href="https://www.citylab.com/life/2018/12/bianca-wylie-interview-toronto-quayside-protest-criticism/574477/">Jane Jacobs of the Smart Cities Age</a>,‚Äù she‚Äôs been a key figure in opening up and slowing down Alphabet‚Äôs Sidewalk Labs juggernaut in Toronto. Aral Balkan runs <a href="https://small-tech.org/">Small Technology Foundation </a>and works on both the tools and the policies to resist surveillance capitalism. Unafraid of being unpopular, even with other activists, Balkan freely hammers rights organizations or conferences for taking big tech‚Äôs sponsorship money while criticizing the companies‚Äô practices. In the western Balkans, <a href="https://hvale.me/">hvale vale</a><a href="#_ftn10" name="_ftnref10"></a> works tirelessly and cheerfully on women‚Äôs rights, sexual rights and the political and practical path to a feminist internet. <a href="https://en.wikipedia.org/wiki/Robin_Gross">Robin Gross</a>, &nbsp;a Californian intellectual property lawyer, could have put her persistence and sheer pizazz to work defending big entertainment companies, but instead she‚Äôs worked for decades against the copyright maximalism that strangles artists‚Äô creativity and does nothing to increase their incomes. I would love to hear their voices amplified, not (just) the voices of those who took a decade and more to work out the rottenness at the core of big tech.</p>
<p>Ex-Google lobbyist Ross Lajeunesse left the company in 2019 over its censored search engine for China and also because of homophobic, sexist and racist work practices. He‚Äôs now running for a Democratic senate nomination, and recently wrote a classic of the ‚Äòscales have fallen from my eyes‚Äô genre, called ‚ÄúI Was Google‚Äôs Head of International Relations. <a href="https://medium.com/@rossformaine/i-was-googles-head-of-international-relations-here-s-why-i-left-49313d23065">Here‚Äôs Why I Left</a>.‚Äù Its lede is <em>‚ÄúThe company‚Äôs motto used to be ‚ÄúDon‚Äôt be evil.‚Äù Things have changed.‚Äù</em></p>
<p>Really? Has Google really changed? Lajeunesse joined in 2008, years into Google‚Äôs multi-billion dollar <a href="https://www.bloomberg.com/news/articles/2010-10-21/google-2-4-rate-shows-how-60-billion-u-s-revenue-lost-to-tax-loopholes">tax avoidance</a>, <a href="https://www.cnet.com/news/google-hit-with-job-discrimination-lawsuit/">sexist labor practices</a> and <a href="http://news.bbc.co.uk/2/hi/technology/6740075.stm">privacy hostility</a> and continued to work there through the years of <a href="https://www.bbc.co.uk/news/technology-40406542">antitrust fines</a>, misuse of <a href="https://www.bbc.com/news/technology-40406542">personal health data</a>, <a href="https://www.cnet.com/news/judge-rejects-324-5m-wage-fixing-settlement-struck-by-apple-google-others/">wage fixing</a>, and financially <a href="https://www.nytimes.com/2017/08/30/us/politics/eric-schmidt-google-new-america.html">pressuring think tanks</a>. Google didn‚Äôt change. It just started treating some of its insiders like it already treated outsiders. That only looks like radical change if you‚Äôve never thought too hard about what you are doing and to whom.</p>
<p>One hundred thousand people work for Google/Alphabet; some of them have much more power than others. The point isn‚Äôt whether Lajeunesse is or isn‚Äôt culpable for the many acts of the enormous company he represented‚Äîas its chief lobbyist in Asia for several years‚Äîit‚Äôs that of all the people who spent the decade of 2010-20 working thanklessly to expose and reduce the firm‚Äôs monopolistic abuse and assault on global privacy, it‚Äôs the ex-lobbyist who gets our attention now.</p>
<p>We all need second chances. Even if we don‚Äôt need those fresh starts ourselves, we want to live in a world where people have a reason to do better. But the prodigal tech bro‚Äôs redemption arc is so quick and smooth it‚Äôs barely a road bump. That‚Äôs because we keep skipping the most important part of the prodigal son story‚Äîwhere he hits rock bottom. In the original parable, the prodigal son wakes up in a pig sty, starving, and realizes his father‚Äôs servants now live better than he does. He resolves to go home to the people and place he did not value or respect before. He will beg to be one of his father‚Äôs servants. He accepts his complete loss of status. But instead of chastising and punishing his prodigal son, the rejoicing father greets him joyfully and heads off the apology with a huge party. It‚Äôs a great metaphor for how to run a religion, but a lousy way to run everything else.</p>
<p>Prodigal tech bro stories skip straight from the past, when they were part of something that‚Äîsurprise!‚Äîturned out to be bad, to the present, where they are now a moral authority on how to do good, but without the transitional moments of revelation and remorse. &nbsp;But the bit where you say you got things wrong and people were hurt? That‚Äôs the most important part. It‚Äôs why these corporatized reinventions feel so slick and tinny, and why so many of the comments on Lajeunesse‚Äôs <a href="https://medium.com/@rossformaine/i-was-googles-head-of-international-relations-here-s-why-i-left-49313d23065">train wreck post</a> on Medium were critical. The journey feels fake. These ‚ÄòI was lost but now I‚Äôm found, please come to my TED talk‚Äô accounts typically miss most of the actual journey, yet claim the moral authority of one who‚Äôs ‚Äòbeen there‚Äô but came back. It‚Äôs a teleportation machine, but for ethics.</p>
<p>(While we‚Äôre thinking about the neatly elided parts of the prodigal tech bro story, let‚Äôs dwell for one moment on the deletion of the entire stories of so many women and people of color barely given a first chance in Silicon Valley, let alone multiple reinventions.)</p>
<p>The only thing more fungible than cold, hard cash is privilege. The prodigal tech bro doesn‚Äôt so much take an off-ramp from the relatively high status and well-paid job he left when the scales fell from his eyes, as zoom up an on-ramp into a new sector that accepts the reputational currency he has accumulated. He‚Äôs not joining the resistance. He‚Äôs launching a new kind of start-up using his industry contacts for seed-funding in return for some reputation-laundering.</p>
<p>So what? Sure, it‚Äôs a little galling, but where‚Äôs the harm?</p>
<p>Allowing people who share responsibility for our tech dystopia to keep control of the narrative means we never get to the bottom of how and why we got here, and we artificially narrow the possibilities for where we go next. And centering people who were insiders before and claim to be leading the outsiders ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://conversationalist.org/2020/03/05/the-prodigal-techbro/">https://conversationalist.org/2020/03/05/the-prodigal-techbro/</a></em></p>]]>
            </description>
            <link>https://conversationalist.org/2020/03/05/the-prodigal-techbro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531490</guid>
            <pubDate>Sun, 20 Sep 2020 02:06:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Apple Notes Protobuf]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24531472">thread link</a>) | @todsacerdoti
<br/>
September 19, 2020 | https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/ | <a href="https://web.archive.org/web/*/https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody"> <p><strong>TL;DR</strong>: This post explains portions of two protobufs used by Apple, one for the Note format itself and another for embedded objects. More importantly, it explains how you can figure out the structure of protobufs.</p> <!--more--> <h2 id="background">Background</h2> <p>Previous entries in this series covered how to deal with <a href="https://ciofecaforensics.com/2020/01/10/apple-notes-revisited/">Apple Notes</a> and the <a href="https://ciofecaforensics.com/2020/01/13/apple-notes-revisited-easy-embedded-objects/">embedded objects</a> in them, including <a href="https://ciofecaforensics.com/2020/01/14/apple-notes-revisited-embedded-tables/">embedded tables</a> and <a href="https://ciofecaforensics.com/2020/01/20/apple-notes-revisited-galleries/">galleries</a>. Throughout these posts, I have referred to the fact that Apple uses protocol buffers (protobufs) to store the information for both notes and the embedded objects within them. What I have not yet done is actually provide the .proto file that was used to generate the Ruby output, or explained how you can develop the same on your app of interest. If you only care about the first part of that, you can view the <a href="https://github.com/threeplanetssoftware/apple_cloud_notes_parser/blob/master/proto/notestore.proto">.proto file</a> or the <a href="https://github.com/threeplanetssoftware/apple_cloud_notes_parser/blob/master/proto/protobuf_config.py">config</a> I use for <a href="https://github.com/jmendeth/protobuf-inspector">protobuf-inspector</a>. Both of these files are just a start to pull out the important parts for processing and can certainly be improved.</p> <p>As with previous entries, I want to make sure I give credit where it is due. After pulling apart the Note protobuf and while I was trying to figure out the table protobuf, I came across <a href="https://github.com/dunhamsteve">dunhamsteve‚Äôs</a> work. As a result, I went back and modified some of my naming to better align to what he had <a href="https://github.com/dunhamsteve/notesutils/blob/master/notes.md">published</a> and added in some fields like version which I did not have the data to discover.</p> <h2 id="what-is-a-protocol-buffer">What is a Protocol Buffer?</h2> <p>To quote directly from <a href="https://developers.google.com/protocol-buffers">the source</a>,</p> <blockquote> <p>Protocol buffers are Google‚Äôs language-neutral, platform-neutral, extensible mechanism for serializing structured data ‚Äì think XML, but smaller, faster, and simpler. You define how you want your data to be structured once, then you can use special generated source code to easily write and read your structured data to and from a variety of data streams and using a variety of languages.</p> </blockquote> <p>What does that mean? It means a protocol buffer is a way you can write a specification for your data and use it in many projects and languages with one command. The end result is source code for whatever language you are writing in. For example, <a href="https://github.com/sballin/alfred-search-notes-app/blob/master/search/proto/notestore.pb.go">Sean Ballinger‚Äôs Alfred Search Notes App</a> used my <code>notestore.proto</code> file to compile to Go instead of Ruby to interact with Notes on MacOS. When you use it in your program, the data which you save will be a raw data stream which won‚Äôt look like much, but will be intelligable to any code with that protobuf definition.</p> <p>The definition is generally a <code>.proto</code> file which would look something like:</p> <figure><pre><code data-lang="protobuf"><span>syntax</span> <span>=</span> <span>"proto2"</span><span>;</span>

<span>// Represents an attachment (embedded object)</span>
<span>message</span> <span>AttachmentInfo</span> <span>{</span>
   <span>optional</span> <span>string</span> <span>attachment_identifier</span> <span>=</span> <span>1</span><span>;</span>
   <span>optional</span> <span>string</span> <span>type_uti</span> <span>=</span> <span>2</span><span>;</span>
<span>}</span></code></pre></figure> <p>This definition would have just one message type (AttachmentInfo), with two fields (attachment_identifier and type_uti), both optional. This is using the <code>proto2</code> syntax.</p> <h2 id="why-care-about-protobufs">Why Care About Protobufs</h2> <p>Protobufs are everywhere, especially if you happen to be working with or looking at Google-based systems, such as Android. Apple also uses a lot of them in iOS, and for people that have to support both operating systems, using a protobuf makes the pain of maintaining two different code bases slightly less annoying because you can compile the same definition to different languages. If you are in forensics, you may come across something that looks like it isn‚Äôt plaintext and discover that you‚Äôre actually looking at a protobuf. When it comes specifically to Apple Notes, protobufs are used both for the Note itself and the attachments.</p> <h2 id="how-to-use-a-proto-file">How to Use a .proto file</h2> <p>Assuming you have a <code>.proto</code> file, either from building one yourself or from finding one from your favorite application, you can compile it to your target language using <a href="https://github.com/protocolbuffers/protobuf/releases">protoc</a>. The resulting file can then be included in your project using whatever that language‚Äôs include statement is to create the necessary classes for the data. For example, when writing Apple Cloud Notes Parser in Ruby, I used <code>protoc --ruby_out=. ./proto/notestore.proto</code> to compile it and then <code>require_relative 'notestore_pb.rb'</code> in my code to include it.</p> <p>If I wanted instead to add in support for python, I would only have to make this change: <code>protoc --ruby_out=. --python_out=. ./proto/notestore.proto</code></p> <h2 id="how-can-you-find-a-protobuf-definition-file">How Can You Find a Protobuf Definition File?</h2> <p>If you come up against a protobuf in an application you are looking at, you might be able to find the <code>.proto</code> protobuf definition file in the application itself or somewhere on the forensic image. I ended up going through an iOS 13 forensic image earlier this year and found that Apple still had some of theirs on disk:</p> <figure><pre><code data-lang="shell"><span>[</span>notta@cuppa iOS13_logical]<span>$ </span>find | <span>grep</span> <span>'\.proto$'</span>
./System/Library/Frameworks/MultipeerConnectivity.framework/MultipeerConnectivity.proto
./System/Library/PrivateFrameworks/ActivityAchievements.framework/ActivityAchievementsBackCompat.proto
./System/Library/PrivateFrameworks/ActivityAchievements.framework/ActivityAchievements.proto
./System/Library/PrivateFrameworks/CoreLocationProtobuf.framework/Support/Harvest/CLPCollectionRequest.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingDatabaseCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingDomainCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingInvitationCodables.proto
./System/Library/PrivateFrameworks/ActivitySharing.framework/ActivitySharingCloudKitCodables.proto
./System/Library/PrivateFrameworks/CloudKitCode.framework/RecordTransport.proto
./System/Library/PrivateFrameworks/RemoteMediaServices.framework/RemoteMediaServices.proto
./System/Library/PrivateFrameworks/CoreDuet.framework/knowledge.proto
./System/Library/PrivateFrameworks/HealthDaemon.framework/Statistics.proto
./System/Library/PrivateFrameworks/AVConference.framework/VCCallInfoBlob.proto
./System/Library/PrivateFrameworks/AVConference.framework/captions.proto</code></pre></figure> <p>Some of these are <em>really</em> interesting when you look at them, particularly if you care about their location data and pairing. You don‚Äôt even have to have an iOS forensic image sitting around as all of the same files are included in your copy of MacOS 10.15.6, as well, if you run <code>sudo find /System/ -iname "*.proto"</code>. I am not including any interesting snippets of those because they are copyrighted by Apple and I would explicitly note that none are related to Apple Notes or the contents of this post.</p> <p>In general, you should not expect to find these definitions sitting around since the definition file isn‚Äôt needed once the code is generated. For more open source applications, you might be interested in some <a href="https://www.google.com/search?q=ext%3Aproto++AND+inurl%3Aproto+AND+message+AND+proto2">Google Dorks</a>, especially when looking at Android artifacts, as you might still find them.</p> <h2 id="how-can-you-rebuild-the-protobuf">How Can You Rebuild The Protobuf?</h2> <p>But what if you can‚Äôt find the definition file, how can you rebuild it yourself? This was the most interesting part of rewriting Apple Cloud Notes Parser as I had no knowledge of how Apple typically represents data, nor protobufs, so it was a fun learning adventure.</p> <p>If you have nothing else, the <code>protoc --decode-raw</code> command can give you an intial look at what is in the data, however this amounts to not much more than pretty printing a JSON object, it doesn‚Äôt do a great job of telling you you what might be in there. I made heavy use of mildsunrise‚Äôs <a href="https://github.com/mildsunrise/protobuf-inspector">protobuf-inspector</a> which at least makes an attempt to tell you what you might be looking at. Another benefit to using this is that it lets you incrementally build up your own definition by editing a file named <code>protobuf_config.py</code> in the protobuf-insepctor folder.</p> <p>For example, below is the output from protobuf-inspector when I ran it on the Gunzipped contents of one of the first notes in my test database.</p> <figure><pre><code data-lang="python"><span>[</span><span>notta</span><span>@</span><span>cuppa</span> <span>protobuf</span><span>-</span><span>inspector</span><span>]</span><span>$</span> <span>python3</span> <span>main</span><span>.</span><span>py</span> <span>&lt;</span> <span>~/</span><span>note_18</span><span>.</span><span>blob</span> 
<span>root</span><span>:</span>
    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
        <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
        <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
        <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
            <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>"Pure blob title"</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>2</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>8</span><span>)</span>
                <span>4</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>3</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>10</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>4</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>14</span><span>)</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>10</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>,</span> <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>)</span>
                <span>5</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
            <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                    <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4294967295</span>
                <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                <span>3</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span>
                    <span>2</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>4294967295</span>
            <span>4</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                    <span>1</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>bytes</span> <span>(</span><span>16</span><span>)</span>
                        <span>0000</span>   <span>EE</span> <span>FE</span> <span>10</span> <span>DA</span> <span>5</span><span>A</span> <span>79</span> <span>43</span> <span>25</span> <span>88</span> <span>BA</span> <span>6</span><span>D</span> <span>CA</span> <span>E2</span> <span>E9</span> <span>B7</span> <span>EC</span>                          <span>....</span><span>ZyC</span><span>%</span><span>..</span><span>m</span><span>.....</span>
                    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>24</span><span>)</span>
                    <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>9</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>3</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
                <span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>5</span>
                <span>2</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>(</span><span>1</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>0</span><span>,</span> <span>3</span> <span>&lt;</span><span>varint</span><span>&gt;</span> <span>=</span> <span>1</span><span>)</span>
            <span>5</span> <span>&lt;</span><span>chunk</span><span>&gt;</span> <span>=</span> <span>message</span><span>:</span>
          ‚Ä¶</code></pre></figure></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/">https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/</a></em></p>]]>
            </description>
            <link>https://ciofecaforensics.com/2020/09/18/apple-notes-revisited-protobuf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531472</guid>
            <pubDate>Sun, 20 Sep 2020 02:00:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Do Neobanks Make Money?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24531372">thread link</a>) | @michaelm244
<br/>
September 19, 2020 | https://blog.mattheakis.com/how_do_neobanks_make_money/ | <a href="https://web.archive.org/web/*/https://blog.mattheakis.com/how_do_neobanks_make_money/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <article>
  
  <time datetime="2020-09-15T06:52:31+00:00">15 Sep 2020</time>
  <p>Neobanks are on a tear and users are loving them. Neobanks are online-only banks, typically funded by venture capital, that piggy-back on top of an existing institution‚Äôs banking license and offer a way for customers to store/spend money. Examples include Revolut, Nubank, Chime, Simple, N26, and more. They have a real shot at becoming the mainstream banking choice for customers over the next decade. Nubank, the most popular neobank in Brazil, recently <a href="https://www.reuters.com/article/us-nubank-brazil-growth/brazilian-fintech-nubank-has-grown-to-15-million-users-ceo-idUSKBN1WQ26C" target="_blank">announced</a> that they have 15 million customers. For reference, Wells Fargo has <a href="https://google.com/" target="_blank">22 million active users</a> on its mobile app. Neobanks are a rising force and key in understanding where the financial services industry is headed.</p>

<p>But how do these neobanks make money? The imprecise answer of ‚Äúthey make money when you swipe their card‚Äù doesn‚Äôt tell you much. In this post, I‚Äôll concretely show how the mechanics of a neobank‚Äôs business model works.</p>

<p>Let‚Äôs take a look at <a href="https://www.chime.com/" target="_blank">Chime</a>, the largest consumer neobank in the US. Chime‚Äôs core offering is a debit card alongside checking and savings accounts. They have nifty features like the ability to receive your paycheck two days early, no overdraft fees, and 100% mobile banking. With 60% of Americans not being able to cover a surprise $1,000 expense, a 2-day advance on a paycheck can be a huge relief for managing expenses. And the nixing of overdraft fees is a massive help for the <a href="https://www.pymnts.com/news/banking/2018/banking-overdraft-fees-cfbp-credit-unions/" target="_blank">US consumers paying a mind-boggling $34 billion/year</a> in overdraft fees. These differentiated features have led to Chime amassing <a href="https://techcrunch.com/2019/09/04/chime-now-has-5-million-customers-and-introduces-overdraft-alternative/" target="_blank">5 million customers</a> and <a href="https://www.businessinsider.com/chime-set-to-quadruple-revenue-in-2019-2019-11" target="_blank">$200 million in annualized revenue</a>.</p>

<p><strong>A neobank like Chime primarily makes money in two ways:</strong></p>

<ol>
  <li>Interchange revenue paid by payment processors (e.g., Stripe) when they process a payment for a Chime card</li>
  <li>Collecting interest from users‚Äô deposits</li>
</ol>

<p>Although some neobanks have different revenue streams (e.g., Wealthfront charges users roboadvisor fees as a percentage of the total value of assets stored with them), interchange and deposits interest are the two largest and most common revenue streams for neobanks. These are also some of the largest revenue streams for big banks (lending though typically being the largest).</p>

<h3 id="interchange"><strong>Interchange</strong></h3>

<p>Interchange revenue is money that a card issuer (such as Chime) receives when someone swipes their card. Interchange is paid by the merchant through payment processing fees. The merchant is the party accepting a card payment in return for goods/services (e.g., your local supermarket). As an example, if a merchant uses <a href="https://stripe.com/" target="_blank">Stripe</a> for payment processing and is paying the standard <a href="https://stripe.com/pricing" target="_blank">2.9%</a> in transaction fees, Stripe will use a portion of that 2.9% to pay the card issuer.</p>

<h2><img src="https://www.helcim.com/pictures/credit-card-processing-flow-152858808066.jpg" alt="card_process"></h2>

<p>Image Credit: <a href="https://www.helcim.com/article/how-credit-card-processing-works/" target="_blank">Helcim</a></p>

<p>The specific amount paid to the card issuer depends on a number of factors and it varies for every transaction. The most important factors are:</p>

<ul>
  <li>Whether the card is debit or credit
    <ul>
      <li>Credit is significantly higher interchange</li>
    </ul>
  </li>
  <li>Whether the card has specific rewards/perks
    <ul>
      <li><a href="https://usa.visa.com/pay-with-visa/cards/visa-credit-cards/visa-infinite-credit-cards.html" target="_blank">Visa Infinite</a> (many rewards/perks) has a higher interchange rate than the standard Visa card</li>
    </ul>
  </li>
  <li>The type of the merchant for a given transaction
    <ul>
      <li>Hotels have some of the highest interchange rates</li>
    </ul>
  </li>
</ul>

<p>Ultimately the card network (e.g., Visa) decides what the interchange rates are. The key equation for an interchange revenue stream is:</p>

<p><i>avg. interchange rate * total transaction volume</i></p>

<p>In Chime‚Äôs case, their cards are on the Visa network so Visa decides how much interchange they receive. The Visa interchange rates, along with Chime‚Äôs specific rates, are <a href="https://usa.visa.com/dam/VCOM/download/merchants/visa-usa-interchange-reimbursement-fees.pdf" target="_blank">public</a> <sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>. Depending on the type of merchant and transaction, Chime earns between 0.8% - 1.9% of a transaction‚Äôs amount, Although it‚Äôs impossible to know the exact amount of interchange Chime receives without knowing the distribution of Chime users‚Äô spending, a reasonable guess based on aggregate consumer spending would put Chime‚Äôs average interchange rate at 1.25%<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>. This means that Chime receives around 1.25% of _all spending on their cards_. Not bad! There are still a handful of costs that Chime has to pay per transaction:</p>

<ul>
  <li>Intermediary card processors
    <ul>
      <li>Example: Chime uses <a href="https://www.galileo-ft.com/" target="_blank">Galileo</a>, which likely charges them anywhere from 0.05% - 0.4% of transaction volume</li>
    </ul>
  </li>
  <li>Fraud: if a customer loses their card and a thief spends money on it, Chime may have to cover the cost
    <ul>
      <li>Note: keep in mind that since Chime is offering debit cards, not credit cards, there is no risk of the customer not paying back Chime for transactions</li>
    </ul>
  </li>
  <li>Server costs: the server that has to process a transaction</li>
</ul>

<p>Even with these costs, Chime is still making a handsome profit per transaction. Being the card issuer, as they are here, is a very high-margin business.</p>

<h3 id="deposits-interest"><strong>Deposits Interest</strong></h3>

<p>Interest revenue is earned by a depository institution investing customer funds in low-risk securities. The depository institution typically also pays the customer for keeping their deposits at the institution. The key equation for profitability of this revenue stream is:</p>

<p><i>(% interest earned - % interest paid to depositor) * deposits amount</i></p>

<p>The <em>% interest earned</em> for neobanks is typically equal to the <a href="https://fred.stlouisfed.org/series/FEDFUNDS" target="_blank">effective federal funds rate</a>. Because the federal funds rate is constantly shifting, the profitability of this revenue stream for neobanks is constantly shifting. This is why neobanks frequently change the interest rate offered to depositors (see <a href="https://blog.wealthfront.com/category/product-news/" target="_blank">Wealthfront‚Äôs blog</a> as an example). This is a stark contrast to big banks however. A key benefit of a banking charter is that banks can lend out a multiple of their deposits as loans (e.g., mortgages, business loans). This amount is referred to as net interest margin, and is typically much higher than the federal funds rate - <a href="https://www.investopedia.com/ask/answers/061715/what-net-interest-margin-typical-bank.asp" target="_blank">it was 3.3% on average for banks in 2018</a>. The _% interest paid to depositor* is how much the depositor earns by storing their funds with the institution, and is set by the depository institution. For the recent wave of high-yield accounts offered by neobanks, they‚Äôve set <em>% interest paid to depositor</em> essentially equal to *% interest earned_, making this revenue stream‚Äôs profitability close to zero. The typical rationale is for the high-yield account to draw in consumers for other higher-margin products such as debit/credit cards or loans.</p>

<p>In Chime‚Äôs case, <em>% interest earned</em> (the federal funds rate) is 0.09% at the time of writing (Sept. 2020), and <a href="https://chime.zendesk.com/hc/en-us/articles/221487887-What-do-I-need-to-know-about-the-Chime-Savings-Account-" target="_blank"><em>% interest paid to depositor</em></a> is 1.00%. This means that Chime is actually losing money on their deposit account product, and likely using it as a <a href="https://en.wikipedia.org/wiki/Loss_leader" target="_blank">loss leader</a> for the debit card, which has far higher profit margins. Also note that Chime only gives depositors 1% in interest for funds in their savings account. For any funds in the checking account (which over all customers may be larger), no interest is given.</p>

<p>These are the two main revenue streams for the majority of neobanks, but there are also others such as <a href="https://en.wikipedia.org/wiki/Cross-selling" target="_blank">cross-selling</a>, <a href="https://www.svmcards.com/" target="_blank">reward redemption referrals</a>, and new ones being created by startups. Hopefully this has given you a grasp of the basics, let me know if you have any thoughts/questions below!</p>




  <br>
  
  
  
</article>

      </div></div>]]>
            </description>
            <link>https://blog.mattheakis.com/how_do_neobanks_make_money/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531372</guid>
            <pubDate>Sun, 20 Sep 2020 01:29:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The UX Reasons Why GatsbyJS Will Win Long Term]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24531185">thread link</a>) | @taphangum
<br/>
September 19, 2020 | https://planflow.dev/blog/5-ux-reasons-why-gatsby-will-win | <a href="https://web.archive.org/web/*/https://planflow.dev/blog/5-ux-reasons-why-gatsby-will-win">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>The Emergence Of Front End Frameworks</h2><p>The increasing complexity of the web has led to a rise in demand for tools that appropriately respond to and manage that complexity.</p><p>This complexity has been felt not just by the user (in the form of more information filled, dynamic UI‚Äôs), but by the people who are trying to build the tools that manage that complexity (the developers) as well.</p><p>The best tools that have come to the forefront, which have succeeded in managing complexity on both sides of the table, have been Front End Frameworks.</p><p>On the user‚Äôs end, the usage of Front End Framework‚Äôs has led to dramatically faster load times, as well as more responsive UI‚Äôs. Making the increased information that now needs to be handled by them, much easier to deal with.</p><p>On the developer‚Äôs side, the use of Front End Frameworks (and the resource that is the vast ecosystems within them) has given them immense leverage, by not having to reinvent the wheels that handle a lot of the complex actions that need to be done on the modern web. It has also allowed developers to no longer have to worry about their feature choices slowing down the site, as the ‚Äòbuild‚Äô process has offloaded the majority of the heavy lifting away from the browser or any servers that would be connected to it.</p><p>Overall, Front End Frameworks have now become a serious consideration for any new project that is intended for the modern web.</p><h2>The Emergence Of GatsbyJS</h2><p>Among the many Front End Frameworks that have popped up over the last few years, a few have stood out among the rest as being the ideal choice for the vast majority of use cases.</p><p>One that has begun to stand out, in particular, has been <a target="_blank" title="GatsbyJS" href="https://gatsbyjs.com/">GatsbyJS</a>.</p><p>It is a framework that I am personally a big fan of, though I have, <a target="_blank" title="https://jaredpalmer.com/gatsby-vs-nextjs" href="https://jaredpalmer.com/gatsby-vs-nextjs">as with many others</a>, had my fair share of frustrations with it<a target="_blank" title="https://jaredpalmer.com/gatsby-vs-nextjs" href="https://jaredpalmer.com/gatsby-vs-nextjs"></a>. Despite this, there are a few key UX reasons that I believe will make it the biggest player in the Front End Framework space within the next few years.</p><p>Below I will outline what those UX reasons are and why they are crucial to the adoption of Gatsby over other frameworks in the future.</p><h3><strong>The 5 UX reasons why Gatsby will win long term</strong></h3><h4><strong>1. A FAST installation experience (with the ability to use templates!)</strong></h4><p>The first thing that caught my attention when I first came across and used Gatsby for the first time was just how easy it was to get something up and running.&nbsp;</p><p>A simple installation of the Gatsby CLI 'npm install -g gatsby-cli', followed by a Gatsby creation command that pulled from any relevant repo I wanted (<strong>as a template</strong>) 'gatsby&nbsp;new&nbsp;my-tailwind-starter&nbsp;https://github.com/PlanFlowDev/Simplicity-Itself-Gatsby-Tailwind-Starter-Theme', was enough to get me a project setup. Once installed, to run it, all I had to do was run ‚Äògatsby develop‚Äô within my project directory.&nbsp;</p><p>Everything just worked. And I was ready to go quickly.&nbsp;</p><p>The ability to get up and running quickly with a template was key to making this experience both unique and very satisfying.&nbsp;</p><p>In terms of UX, having to ‚Äòstart from scratch‚Äô is one of the worst, yet mostly unknown UX mistakes that most new technologies make when trying to attract new users.&nbsp;</p><p>The more you can reduce the overhead to getting the user to a <a target="_blank" title="Kathy Sierra - Badass - Making Users Awesome" href="https://www.youtube.com/watch?v=3fpHYm6kTik">satisfied state of ‚Äòhaving something‚Äô,</a> the better adoption rates you‚Äôll see.&nbsp;</p><p>Gatsby‚Äôs fast installation with the ability (even encouragement) to use a template, does this well.</p><h4><strong>2. A fast-growing ecosystem (plugins and themes)</strong></h4><p>Getting up and running with new technology is always a situation that requires learning and the use of additional resources, to help make the integration process easier, both mentally and with the technology itself.</p><p>The size and activity of the ecosystem that supports and underpins a technology is key to assisting rapid adoption and a positive experience for the users.</p><p>The momentum that an active and growing community also makes people very forgiving of errors and mishaps with the technology, which are inevitable, and keeps the plugins, themes, and projects coming because people can usually find solutions (ie. via StackOverflow or Reddit) to their problems as they‚Äôre building.</p><p>Gatsby, of all the Front End Frameworks I‚Äôve seen, especially for building static sites, has the best community.</p><h4><strong>3. Easy to read documentation</strong></h4><p>When you find yourself on the documentation page of the technology you‚Äôre using more often than other sources (very common in web dev), you can be sure that that technology has pretty good documentation. Usually, there are many alternatives to technology‚Äôs own official docs for most use cases (StackOverflow being one big one). Finding yourself on the official docs more often than not is a good sign.</p><p>I find Gatsby‚Äôs docs a lot better than the docs I‚Äôve found in a few other Front End Frameworks.&nbsp;</p><p>Gatsby docs are a lot less jargon-filled and easier to parse. This, even when you are a developer who can understand the jargon, is a massive benefit.&nbsp;</p><h4><strong>4. A unique design aesthetic that stands out</strong></h4><p>Most frameworks have forgettable designs.</p><p>My guess is that this is partly down to the developer‚Äôs focus on how it works rather than how it looks.</p><p>Gatsby seems to take a different approach. It‚Äôs hard to forget Gatsby‚Äôs big purple G once you see it, along with its overall very well designed and consistent website design and general branding.&nbsp;</p><p>This is bigger than people think when it comes to user adoption (which is the most important UX consideration for new technologies), particularly within the front end development space, where the overlap of design and development is only becoming more obvious.</p><p>Gatsby is the clear winner in this space.&nbsp;</p><h4><strong>5. Strong alignments (bundling) with other key, fast-growing technologies (GraphQL, ReactJS)</strong></h4><p>Since the beginning of the software industry, bundling has been a key method of growing the market share of individual pieces of software. For the most part, software needs a lot of other parts to work functionally, so the logic behind also selling them together conceptually is a natural extension.&nbsp;</p><p>Microsoft, the largest software company in the world, became (in a <a target="_blank" title="https://www.ozy.com/true-and-stories/the-agreement-that-catapulted-microsoft-over-ibm/94437/" href="https://www.ozy.com/true-and-stories/the-agreement-that-catapulted-microsoft-over-ibm/94437/">now infamous</a> deal) what it is today by bundling its MS-Dos operating system with an early IBM desktop machine.</p><p>Apple‚Äôs launch of the iPhone, and its eventual dominance in the market was largely fueled by its bundling of its phone with the millions of applications that developers ultimately filled within their app store.&nbsp;</p><p>Within the Front End Framework space, Gatsby has done a very good job of bundling itself with GraphQL. Most searches of GraphQL on Google and YouTube very often pull up a Gatsby related tutorial, which means that in some small way, they are beginning to become synonymous. Even more so than other frameworks have managed to so far.</p><p>Gatsby‚Äôs close association with the React community has also done a lot to propel its position within the Front End Framework space.</p><h4><strong>UX Determines Adoption, Adoption Determines Success</strong></h4><p>Ultimately, among the many Front End Frameworks that exist, Gatsby is built in the right way to succeed. Having hit a lot of the key UX points outlined above, it is the choice I‚Äôd most highly recommend for a Front End Developer looking for the right framework to use for your next project.</p></div></div>]]>
            </description>
            <link>https://planflow.dev/blog/5-ux-reasons-why-gatsby-will-win</link>
            <guid isPermaLink="false">hacker-news-small-sites-24531185</guid>
            <pubDate>Sun, 20 Sep 2020 00:32:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Bug Could Let Attackers Hijack Firefox for Android via Wi-Fi Network]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530986">thread link</a>) | @assineproff
<br/>
September 19, 2020 | http://tech.thewebgangs.com/a-bug-could-let-attackers-hijack-firefox-for-android-via-wi-fi-network/ | <a href="https://web.archive.org/web/*/http://tech.thewebgangs.com/a-bug-could-let-attackers-hijack-firefox-for-android-via-wi-fi-network/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="tps_slideContainer_1237"><div>

<p>Dear Android users, if you use the Firefox web browser on your smartphones, make sure it has been updated to version 80 or the latest available version on the Google Play Store.</p>

<p>ESET security researcher Lukas Stefanko yesterday&nbsp;<a href="https://twitter.com/LukasStefanko/status/1307013106615418883" target="_blank" rel="noopener noreferrer">tweeted</a>&nbsp;an alert demonstrating the exploitation of a recently disclosed high-risk remote command execution vulnerability affecting the Firefox app for Android.</p>

<p>Discovered originally by Australian security researcher&nbsp;<a href="https://gitlab.com/gitlab-com/gl-security/security-operations/gl-redteam/red-team-tech-notes/-/tree/master/firefox-android-2020" target="_blank" rel="noopener noreferrer">Chris Moberly</a>, the vulnerability resides in the SSDP engine of the browser that can be exploited by an attacker to target Android smartphones connected to the same Wi-Fi network as the attacker, with Firefox app installed.</p>
<p>SSDP, stands for Simple Service Discovery Protocol, is a UDP based protocol that is a part of UPnP for finding other devices on a network. In Android, Firefox periodically sends out SSDP discovery messages to other devices connected to the same network, looking for second-screen devices to cast.</p>
<p>Any device on the local network can respond to these broadcasts and provide a location to obtain detailed information on a UPnP device, after which, Firefox attempts to access that location, expecting to find an XML file conforming to the UPnP specifications.</p>

<p>According to the vulnerability report Moberly submitted to the Firefox team, the SSDP engine of the victims‚Äô Firefox browsers can be tricked into triggering an Android intent by simply replacing location of the XML file in the response packets with a specially crafted message pointing to an Android intent URI.</p>
<p>For this, an attacker connected to a targeted Wi-Fi network can run a malicious SSDP server on his/her device and trigger intent-based commands on nearby Android devices through Firefox‚Äîwithout requiring any interaction from the victims.</p>
<p>Activities allowed by the intent also includes automatically launching the browser and open any defined URL, which, according to the researchers, is sufficient to trick victims into providing their credentials, install malicious apps, and other malicious activities based on the surrounding scenarios.</p>
<p>‚ÄúThe target simply has to have the Firefox application running on their phone. They do not need to access any malicious websites or click any malicious links. No attacker-in-the-middle or malicious app installation is required. They can simply be sipping coffee while on a cafe‚Äôs Wi-Fi, and their device will start launching application URIs under the attacker‚Äôs control,‚Äù Moberly said.</p>

<p>‚Äúit could have been used in a way similar to phishing attacks where a malicious site is forced onto the target without their knowledge in the hopes they would enter some sensitive info or agree to install a malicious application.‚Äù</p>
<p>Moberly reported this vulnerability to the Firefox team a few weeks back, which the browser maker has now patched in the Firefox for Android versions 80 and later.</p>
<p>Moberly has also released a&nbsp;<a href="https://gitlab.com/gitlab-com/gl-security/security-operations/gl-redteam/red-team-tech-notes/-/blob/master/firefox-android-2020/ffssdp.py" target="_blank" rel="noopener noreferrer">proof-of-concept exploit</a>&nbsp;to the public that Stefanko used to demonstrate the issue in the above video against three devices connected to the same network.</p>

</div></div></div>]]>
            </description>
            <link>http://tech.thewebgangs.com/a-bug-could-let-attackers-hijack-firefox-for-android-via-wi-fi-network/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530986</guid>
            <pubDate>Sat, 19 Sep 2020 23:34:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SCons Is Still Slow]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=24530845">thread link</a>) | @luu
<br/>
September 19, 2020 | https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/ | <a href="https://web.archive.org/web/*/https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div>
					
					<!-- .entry-header -->

											<div>
							<p>A while back I posted a series of articles exploring the scalability of SCons, a popular Python-based build tool.  In a nutshell, my experiments showed that <b>SCons exhibits roughly quadratic growth in build runtimes as the number of targets increases</b>:</p>
<ul>
<li><a href="https://blog.melski.net/2011/05/23/why-is-scons-so-slow/">Why is SCons so slow?</a></li>
<li><a href="http://www.electric-cloud.com/blog/2010/03/08/how-scalable-is-scons/">How scalable is SCons?</a></li>
<li><a href="http://www.electric-cloud.com/blog/2010/07/21/a-second-look-at-scons-performance/">A second look at SCons performance</a></li>
<li><a href="http://www.electric-cloud.com/blog/2010/08/11/the-last-word-on-scons-performance/">The last word on SCons performance</a></li>
</ul>
<p>
Recently Dirk Baechle attempted to rebut my findings in an entry on the SCons wiki:  <a href="http://scons.org/wiki/WhySconsIsNotSlow">Why SCons is not slow</a>.  I thought Dirk made some credible suggestions that could explain my results, and he did some smart things in his effort to invalidate my results.  Unfortunately, his methods were flawed and his conclusions are invalid.  My original results still stand: <b>SCons really is slow.</b>  In the sections that follow I‚Äôll share my own updated benchmarks and show where Dirk‚Äôs analysis went wrong.</p>
<h3>Test setup</h3>
<p>
As before, I used <a href="https://github.com/emelski/scons_bench/blob/master/genscons.pl">genscons.pl</a> to generate sample builds ranging from 2,000 to 50,000 targets.  However, my test system was much beefier this time:</p>
<table>
<tbody><tr>
<th></th>
<th>2013</th>
<th>2010</th>
</tr>
<tr>
<th>OS</th>
<td>Linux Mint 14 (kernel version 3.5.0-17-generic)</td>
<td>RedHat Desktop 3 (kernel version 2.4.21-58.ELsmp)</td>
</tr>
<tr>
<th>CPU</th>
<td>Quad 1.7GHz Intel Core i7, hyperthreaded</td>
<td>Dual 2.4GHz Intel Xeon, hyperthreaded</td>
</tr>
<tr>
<th>RAM</th>
<td>16 GB</td>
<td>2 GB</td>
</tr>
<tr>
<th>HD</th>
<td>SSD</td>
<td>(unknown)</td>
</tr><tr>
<th>SCons</th>
<td>2.3.0</td>
<td>1.2.0.r3842</td>
</tr>
<tr>
<th>Python</th>
<td>2.7.3 (system default)</td>
<td>2.6.2</td>
</tr>
</tbody></table>
<p>
Before running the tests, I rebooted the system to ensure there were no rogue processes consuming memory or CPU.  I also forced the CPU cores into ‚Äúperformance‚Äù mode to ensure that they ran at their full 1.7GHz speed, rather than at the lower 933MHz they switch to when idle.</p>
<h3>Revisiting the original benchmark</h3>
<p>
I think Dirk had two credible theories to explain the results I obtained in my original tests.  First, Dirk wondered if those results may have been the result of <i>virtual memory swapping</i> ‚Äî my original test system had relatively little RAM, and SCons itself uses a lot of memory.  It‚Äôs plausible that physical memory was exhausted, forcing the OS to swap memory to disk.  As Dirk said, ‚Äúthis would explain the increase of build times‚Äù ‚Äî you bet it would!  I don‚Äôt remember seeing any indication of memory swapping when I ran these tests originally, but to be honest it was nearly 4 years ago and perhaps my memory is not reliable.  To eliminate this possibility, I ran the tests on a system with 16 GB RAM this time.  During the tests I ran <span><span face="Courier New">vmstat 5</span></span>, which collects memory and swap usage information at five second intervals, and captured the result in a log.</p>
<p>
Next, he suggested that I skewed the results by directing SCons to inherit the ambient environment, rather than using SCons‚Äô default ‚Äúsanitized‚Äù environment.  That is, he felt I should have used <span><span face="Courier New">env = Environment()</span></span> rather than <span><span face="Courier New">env = Environment(ENV = os.environ)</span></span>.  To ensure that this was not a factor, I modified the tests so that they did not inherit the environment.  At the same time, I substituted <span><span face="Courier New">echo</span></span> for the compiler and other commands, in order to make the tests faster.  Besides, I‚Äôm not interested in benchmarking the compiler ‚Äî just SCons!  Here‚Äôs what my <span><span face="Courier New">Environment</span></span> declaration looks like now:</p>
<pre title="">env = Environment(CC = 'echo', AR = 'echo', RANLIB = 'echo')
</pre>
<p>With these changes in place I reran my benchmarks.  As expected, there was no change in the outcome.  There is no doubt:  <b>SCons does <i>not</i> scale linearly</b>.  Instead the growth is <i>polynomial</i>, following an n<sup>1.85</sup> curve.  And thanks to the the <a href="https://github.com/emelski/scons_bench/blob/master/logs/2.3.0/001/50000.vmstat">vmstat output</a> we can be certain that there was absolutely no swapping affecting the benchmarks.  Here‚Äôs a graph of the results, including an n<sup>1.85</sup> curve for comparison ‚Äî notice that you can barely see that curve because it matches the observed data so well!</p>
<p>
<a href="https://emelski.files.wordpress.com/2013/12/scons_full.png"><img data-attachment-id="1040" data-permalink="https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/scons_full/#main" data-orig-file="https://emelski.files.wordpress.com/2013/12/scons_full.png" data-orig-size="500,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="SCons full build runtime" data-image-description="" data-medium-file="https://emelski.files.wordpress.com/2013/12/scons_full.png?w=300" data-large-file="https://emelski.files.wordpress.com/2013/12/scons_full.png?w=500" src="https://emelski.files.wordpress.com/2013/12/scons_full.png?w=640&amp;h=384" alt="SCons full build runtime - click for larger view" srcset="https://emelski.files.wordpress.com/2013/12/scons_full.png 500w, https://emelski.files.wordpress.com/2013/12/scons_full.png?w=150&amp;h=150 150w, https://emelski.files.wordpress.com/2013/12/scons_full.png?w=300&amp;h=300 300w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<p>
For comparison, I used the SCons build log to make a shell script that executes the same series of <span><span face="Courier New">echo</span></span> commands.  At 50,000 targets, the shell script ran in 1.097s.  You read that right:  <b>1.097s</b>.  Granted, the shell script doesn‚Äôt do stuff like up-to-date checks, etc., but still ‚Äî of the 3,759s average SCons runtime, 3,758s ‚Äî 99.97% ‚Äî is SCons overhead.</p>
<p>
I also created a non-recursive Makefile that ‚Äúbuilds‚Äù the same targets with the same <span><span face="Courier New">echo</span></span> commands.  This is a more realistic comparison to SCons ‚Äî after all, nobody would dream of actually controlling a build with a straight-line shell script, but lots of people would use GNU make to do it.  With 50,000 targets, GNU make ran for <b>82.469s</b> ‚Äî more than 45 times faster than SCons.</p>
<h3>What is linear scaling?</h3>
<p>
If the performance problems are so obvious, why did Dirk fail to see them?  Here‚Äôs a graph made from his test results:</p>
<p>
<a href="https://emelski.files.wordpress.com/2013/12/scons_baechle.png"><img data-attachment-id="1038" data-permalink="https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/scons_baechle/#main" data-orig-file="https://emelski.files.wordpress.com/2013/12/scons_baechle.png" data-orig-size="500,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="SCons full build runtime, via D. Baechle" data-image-description="" data-medium-file="https://emelski.files.wordpress.com/2013/12/scons_baechle.png?w=300" data-large-file="https://emelski.files.wordpress.com/2013/12/scons_baechle.png?w=500" src="https://emelski.files.wordpress.com/2013/12/scons_baechle.png?w=640&amp;h=640" alt="SCons full build runtime, via D. Baechle - click for full size" srcset="https://emelski.files.wordpress.com/2013/12/scons_baechle.png 500w, https://emelski.files.wordpress.com/2013/12/scons_baechle.png?w=150&amp;h=150 150w, https://emelski.files.wordpress.com/2013/12/scons_baechle.png?w=300&amp;h=300 300w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<p>
Dirk says that this <a href="http://scons.org/wiki/WhySconsIsNotSlow#Linear_scaling">demonstrates ‚ÄúSCons‚Äô linear scaling‚Äù</a>.  I find this statement baffling, because his data clearly shows that <i>SCons does not scale linearly</i>.  It‚Äôs simple, really:  <i>linear scaling</i> just means that the build time increases by the same amount for each new target you add, regardless of how many targets you already have.  Put another way, it means that the difference in build time between 1,000 targets and 2,000 targets is <i>exactly the same</i> as the difference between 10,000 and 11,000 targets, or between 30,000 and 31,000 targets.  Or, put yet another way, it means that when you plot the build time versus the number of targets, you should get a straight line with <i>no change in slope at any point</i>.  Now you tell me:  does that describe Dirk‚Äôs graph?</p>
<p>
Here‚Äôs another version of that graph, this time augmented with a couple additional lines that show what the plot would look like if SCons were truly scaling linearly.  The first projection is based on the original graph from 2,500 to 4,500 targets ‚Äî that is, if we assume that SCons scales linearly and that the increase in build time between 2,500 and 4,500 targets is representative of the cost to add 2,000 more targets, then this line shows us how we should expect the build time to increase.  Similarly, the second projection is based on the original graph between 4,500 and 8,500 targets.  You can easily see that the actual data does not match either projection.  Furthermore you can see that the slope of these projections is <i>increasing</i>:</p>
<p>
<a href="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png"><img data-attachment-id="1039" data-permalink="https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/scons_baechle_augmented/#main" data-orig-file="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png" data-orig-size="500,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="SCons full build runtime with linear projections, via D. Baechle" data-image-description="" data-medium-file="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png?w=300" data-large-file="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png?w=500" src="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png?w=640&amp;h=640" alt="SCons full build runtime with linear projections, via D. Baechle - click for full size" srcset="https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png 500w, https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png?w=150&amp;h=150 150w, https://emelski.files.wordpress.com/2013/12/scons_baechle_augmented.png?w=300&amp;h=300 300w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<p>
This shows the importance of testing at large scale when you‚Äôre trying to characterize the scalability of a system from empirical data.  It can be difficult to differentiate polynomial from logarithmic or linear at low scales, especially once you incorporate the constant factors ‚Äî polynomial algorithms can sometimes even give <i>better</i> absolute performance for small inputs than linear algorithms!  It‚Äôs not until you plot enough data points at large enough values, as I‚Äôve done, that it becomes easy to see and identify the curve.</p>
<h3>What does profiling tell us?</h3>
<p>
Next, Dirk reran some of his tests under a profiler, on the very reasonable assumption that if there was a performance problem to be found, it would manifest in the profiling data ‚Äî surely at least one function would demonstrate a larger-than-expected growth in runtime.  Dirk only shared profiling data for two runs, both incremental builds, at 8,500 and 16,500 targets.  That‚Äôs unfortunate for a couple reasons.  First, the performance problem is less apparent on incremental builds than on full builds.  Second, with only two datapoints it is literally not possible to determine whether growth is linear or polynomial.  The results of Dirk‚Äôs profiling was negative:  he found no ‚Äúsignificant difference or increase‚Äù in any function.</p>
<p>
Fortunately it‚Äôs easy to run this experiment myself.  Dirk used <a href="http://docs.python.org/2/library/profile.html">cProfile</a>, which is built-in to Python.  To profile a Python script you can inject cProfile from the command-line, like this: <span><span face="Courier New">python -m cProfile scons</span></span>.  Just before Python exits, cProfile dumps timing data for every function invoked during the run.  I ran several full builds with the profiler enabled, from 2,000 to 20,000 targets.  Then I sorted the profiling data by function internal time (time spent in the function exclusively, not in its descendents).  <i>In every run</i>, the same two functions appeared at the top of the list:  <span><span face="Courier New">posix.waitpid</span></span> and <span><span face="Courier New">posix.fork</span></span>.  To be honest this was a surprise to me ‚Äî previously I believed the problem was in SCons‚Äô Taskmaster implementation.  But I can‚Äôt really argue with the data.  It makes sense that SCons would spend most of its time running and waiting for child processes to execute, and even that the amount of time spent in these functions would increase as the number of child processes increases.  But look at the growth in runtimes in these two functions:</p>
<p>
<a href="https://emelski.files.wordpress.com/2013/12/scons_profiler.png"><img data-attachment-id="1041" data-permalink="https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/scons_profiler/#main" data-orig-file="https://emelski.files.wordpress.com/2013/12/scons_profiler.png" data-orig-size="500,500" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;}" data-image-title="SCons full build function time, top two functions" data-image-description="" data-medium-file="https://emelski.files.wordpress.com/2013/12/scons_profiler.png?w=300" data-large-file="https://emelski.files.wordpress.com/2013/12/scons_profiler.png?w=500" src="https://emelski.files.wordpress.com/2013/12/scons_profiler.png?w=640&amp;h=640" alt="SCons full build function time, top two functions - click for full size" srcset="https://emelski.files.wordpress.com/2013/12/scons_profiler.png 500w, https://emelski.files.wordpress.com/2013/12/scons_profiler.png?w=150&amp;h=150 150w, https://emelski.files.wordpress.com/2013/12/scons_profiler.png?w=300&amp;h=300 300w" sizes="(max-width: 500px) 100vw, 500px"></a></p>
<p>
Like the overall build time, these curves are obviously non-linear.  Armed with this knowledge, I went back to Dirk‚Äôs profiling data.  To my surprise, <i>posix.waitpid and posix.fork don‚Äôt even appear in Dirk‚Äôs data</i>.  On closer inspection, his data seems to include only a subset of all functions ‚Äî about 600 functions, whereas <a href="https://github.com/emelski/scons_bench/blob/master/logs/2.3.0_profiling/001/20000.prof">my profiling data</a> contains more than 1,500.  I cannot explain this ‚Äî perhaps Dirk filtered the results to exclude functions that are part of the Python library, assuming that the problem must be in SCons‚Äô own code rather than in the library on which it is built.</p>
<p>
This demonstrates a second fundamental principle of performance analysis:  make sure that you consider <i>all</i> the data.  Programmers‚Äô intuition about performance problems is notoriously bad ‚Äî even mine! ‚Äî which is why it‚Äôs important to measure before acting.  But measuring won‚Äôt help if you‚Äôre missing critical data or if you discard part of the data before doing any analysis.</p>
<h3>Conclusions</h3>
<p>
On the surface, performance analysis seems like it should be simple:  start a timer, run some code, stop the timer.  Done correctly, performance analysis can illuminate the dark corners of your application‚Äôs performance.  Done incorrectly ‚Äî and there are <i>many</i> ways to do it incorrectly ‚Äî it can lead you on a wild goose chase and cause you to squander resources fixing the wrong problems.</p>
<p>
Dirk Baechle had good intentions when he set out to analyze SCons performance, but he made some mistakes in his process that led him to an erroneous conclusion.  First, he didn‚Äôt run enough ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/">https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/</a></em></p>]]>
            </description>
            <link>https://blog.melski.net/2013/12/11/update-scons-is-still-really-slow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530845</guid>
            <pubDate>Sat, 19 Sep 2020 22:56:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Calculus in SaaS]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530760">thread link</a>) | @Lukas1994
<br/>
September 19, 2020 | https://www.causal.app/blog/calculus-in-saas | <a href="https://web.archive.org/web/*/https://www.causal.app/blog/calculus-in-saas">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>Note:&nbsp;this was originally published at </em><a href="https://alexoppenheimer.substack.com/" target="_blank"><em>https://alexoppenheimer.substack.com/</em></a>‚Äç</p><p>I have been studying the SaaS model in depth for almost 7 years now. Since the day <a href="https://alexoppenheimer.substack.com/p/harry-2d5d1af6bf">Harry Weller</a> walked into my office with a stack of materials and told me to study it and then SaaS build models and bring them to portfolio companies, I don't think a day has gone by where I have not thought about the conceptual and operational nuances of the recurring revenue business model.</p><p>Somewhere around mid 2015 I had my "aha" moment in my research when I tied my academic training in mechanical engineering to the startup business models I was building: it's all calculus. The integral-derivative relationship applies incredibly well to the ARR and Recognized Revenue relationship. Making this connection between engineering math and financial math gave me a feeling that only a true nerd could appreciate: the joy of putting integral symbols and accounting terms on the same slide.</p><p>The simplest way to illustrate this mathematical parallel is with a car:</p><figure id="w-node-2abd43418357-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5f649b33c9e3271323643b3d_https%253A%252F%252Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%252Fpublic%252Fimages%252F42d5ef92-52d9-49fe-8be7-16028bee1ff4_884x306.png" alt=""></p></figure><p>If a car is moving at 60mph, then in one hour it will travel 60 miles (assuming its speed does not change). That is the definition of "miles per hour." ARR is very similar: if a company is "moving" at $10M ARR, then in one year it will recognize $10M of revenue (assuming everything stays consistent). Recognized revenue is the distance, ARR is the speed. It's critical to recognize that ARR is a rate at a specific point in time used to imply something (here, expected recognized revenue in the future period).</p><p>For the more accounting oriented, another analogy can be made to the balance sheet:</p><figure id="w-node-9fc87f218c80-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5f649b3392b0138c4e64006b_https%253A%252F%252Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%252Fpublic%252Fimages%252F6c06ddcc-de3e-4d96-960a-22b4b39e334e_842x455.png" alt=""></p></figure><p>While revenue is the top line metric on the income statement, ARR works more like a balance sheet metric: it is taken at a single point in time rather than over a period of time. This can make income statements confusing and misaligned - another example of the divergence of accounting in economics in subscription businesses.</p><p>Now back to calculus... if the ARR function was actually a mathematical equation, you could integrate it. If y = 10x where y = ARR and x = time in months, then after two months ARR = $20. After 12 months, ARR = $120 (assuming we start from $0 of ARR). So at the end of a year, the business has grown from $0 to $120 in ARR. But what is the recognized revenue? The complex answer is that it's the integral of 10x from 0 to 12 months. (Apologies in advance if this triggers a high school calculus flashback.)</p><figure><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5f649b337d3c7911d7362b81_https%253A%252F%252Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%252Fpublic%252Fimages%252Ff7fcb57f-644b-490c-bfa8-6d0c986d2fda_305x80.png" alt=""></p></figure><p>You could also chart this out and see that it is a right triangle with the area of 1/2*base*height. Where the base is 12 months and the height is $120: $1,440/2 = $720).</p><p>Pretty cool relationship and calculation conceptually, but in real businesses ARR growth doesn't fit a simple equation (or any equation at all), so it's not inherently practical to start breaking out the power rule and your old textbooks to predict ARR growth.</p><p>If we switch back to the car analogy, it takes on a little more of a nuanced meaning. Just like a business doesn't grow on a smooth curve, car speeds do not either. Just like the gas pedal makes the car go faster and the brake pedal &amp; friction make it go slower, so too in a SaaS company, <a href="https://alexoppenheimer.substack.com/p/thin-slicing-arr">the new sales are making the speed/ARR increase and the churned customers are making the speed/ARR decrease</a>. I will dive into more details in later posts, but the goal in a car is to go as far and fast as you can while burning the least amount of fuel. So too in a SaaS company, the goal is to have the highest ARR you can, recognize the most revenue and burn the least cash. You can think about SaaS Magic Number like the fuel efficiency of a SaaS business - looking forward to diving into why this is actually helpful in building a company.</p></div></div>]]>
            </description>
            <link>https://www.causal.app/blog/calculus-in-saas</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530760</guid>
            <pubDate>Sat, 19 Sep 2020 22:33:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bevy 0.2]]>
            </title>
            <description>
<![CDATA[
Score 252 | Comments 42 (<a href="https://news.ycombinator.com/item?id=24530698">thread link</a>) | @_cart
<br/>
September 19, 2020 | https://bevyengine.org/news/bevy-0-2/ | <a href="https://web.archive.org/web/*/https://bevyengine.org/news/bevy-0-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://bevyengine.org/news/bevy-0-2/matching_squares.png"></p>
      
    
  </div><div><p>A month after the initial Bevy release, and thanks to <strong>87</strong> contributors, <strong>174</strong> pull requests, and our <a href="https://github.com/sponsors/cart"><strong>generous sponsors</strong></a>, I'm happy to announce the <strong>Bevy 0.2</strong> release on <a href="https://crates.io/crates/bevy">crates.io</a>!</p>
<p>For those who don't know, Bevy is a refreshingly simple data-driven game engine built in Rust. You can check out <a href="https://bevyengine.org/learn/book/getting-started/">Quick Start Guide</a> to get started. Bevy is also free and open source forever! You can grab the full <a href="https://github.com/bevyengine/bevy">source code</a> on GitHub.</p>
<p>Here are some of the highlights from this release:</p>
<h2 id="async-task-system">Async Task System</h2>

<p>Bevy uses multi-threading throughout the engine: ECS scheduling, asset loading, rendering, etc. Before this release it used <a href="https://github.com/rayon-rs/rayon">Rayon</a> for almost all of these tasks. Rayon is nice because it is generally as simple as calling <code>some_list.par_iter().for_each(|x| do_something(x))</code>. Rayon then automatically breaks the <code>for_each</code> into tasks and runs them on as many cores as it can. Rayon is a great choice if you want to easily parallelize code, but it has the downside of being pretty cpu-hungry.</p>
<p>Bevy (and a number of other rust game engines and ecs frameworks using rayon) have received feedback that they were overly cpu hungry / usage was not proportional to "real" work done.</p>
<p>We decided to resolve this problem by building a custom async-friendly task system, which enables the creation of context-specific task pools. For example, you might have separate pools for compute, IO, networking, etc. This also gives us the flexibility to load balance work appropriately according to work type and/or priority. The cpu usage wins have been huge:</p>
<h3 id="total-combined-percent-cpu-usage-8-core-machine-smaller-is-better">Total Combined Percent CPU Usage - 8 Core Machine (smaller is better)</h3>
<p><img src="https://bevyengine.org/news/bevy-0-2/bevy_tasks_1.svg" alt="threading cpu usage 8 core"></p>
<h3 id="total-combined-percent-cpu-usage-32-core-machine-smaller-is-better">Total Combined Percent CPU Usage - 32 Core Machine (smaller is better)</h3>
<p><img src="https://bevyengine.org/news/bevy-0-2/bevy_tasks_2.svg" alt="threading cpu usage 32 core"></p>
<h2 id="initial-web-platform-support">Initial Web Platform Support</h2>
<p>authors: @smokku</p>
<p>(A subset of) Bevy now runs on the web using WebAssembly/WASM! Specifically, Bevy apps can run Bevy ECS schedules, react to input events, create an empty canvas (using winit), and a few other things. This is a huge first step, but it is important to call out that there are still a number of missing pieces, such as 2D/3D rendering, multi-threading, and sound. </p>
<p>Those limitations haven't stopped @mrk-its from building the first WASM Bevy game!</p>
<h3 id="bevy-robbo-playable-here"><a href="https://github.com/mrk-its/bevy-robbo">bevy-robbo</a> (<a href="https://s3.eu-central-1.amazonaws.com/mrk-public/bevy-robbo/index.html">playable here</a>)</h3>
<p><img src="https://bevyengine.org/news/bevy-0-2/bevy-robbo.png" alt="bevy-robbo"></p>
<p>They use Bevy for game logic and cleverly work around the render limitations by passing ASCII art game state from <a href="https://github.com/mrk-its/bevy-robbo/blob/master/src/systems/js_render.rs">this Bevy system</a> to <a href="https://github.com/mrk-its/bevy-robbo/blob/master/assets/render.js">this JavaScript function</a>. </p>
<p>You can play around with some Bevy WASM examples by <a href="https://github.com/bevyengine/bevy/tree/master/examples#wasm">following the instructions here</a>.</p>
<h2 id="parallel-queries">Parallel Queries</h2>
<p>authors: @GrantMoyer</p>
<p>Bevy ECS Queries are a flexible way to retrieve data from the Entity Component System. Systems that <em>use</em> queries already run in parallel, but before this change the queries themselves could not be <em>iterated</em> in parallel. <strong>Bevy 0.2</strong> adds the ability to easily iterate queries in parallel:</p>
<pre><code><span>fn </span><span>system</span><span>(</span><span>pool</span><span>: </span><span>Res</span><span>&lt;</span><span>ComputeTaskPool</span><span>&gt;</span><span>, </span><span>mut </span><span>query</span><span>: </span><span>Query</span><span>&lt;&amp;</span><span>mut</span><span> Transform</span><span>&gt;) {</span><span>
    query</span><span>.</span><span>iter</span><span>().</span><span>par_iter</span><span>(</span><span>32</span><span>).</span><span>for_each</span><span>(&amp;</span><span>pool</span><span>, |</span><span>mut </span><span>transform</span><span>| {</span><span>
      transform</span><span>.</span><span>translate</span><span>(</span><span>Vec3</span><span>::</span><span>new</span><span>(</span><span>1.0</span><span>, </span><span>0.0</span><span>, </span><span>0.0</span><span>));
    });
}
</span></code></pre>
<p>This provides a nice functional api (similar to Rayon) that runs on top of the new <code>bevy_tasks</code> system. It breaks the query up into 32 "batches" and runs each batch as a different task in the bevy task system. </p>
<h2 id="transform-system-rewrite">Transform System Rewrite</h2>
<p>authors: @MarekLg</p>
<pre><code><span>// old
</span><span>fn </span><span>system</span><span>(</span><span>translation</span><span>: &amp;</span><span>Translation, </span><span>rotation</span><span>: &amp;</span><span>Rotation, </span><span>scale</span><span>: &amp;</span><span>Scale</span><span>) {
  </span><span>println!</span><span>("</span><span>{} {} {}</span><span>",</span><span> translation</span><span>.</span><span>0</span><span>,</span><span> rotation</span><span>.</span><span>0</span><span>,</span><span> scale</span><span>.</span><span>0</span><span>);
}

</span><span>// new
</span><span>fn </span><span>system</span><span>(</span><span>transform</span><span>: &amp;</span><span>Transform</span><span>) {
  </span><span>println!</span><span>("</span><span>{} {} {}</span><span>",</span><span> transform</span><span>.</span><span>translation</span><span>(),</span><span> transform</span><span>.</span><span>rotation</span><span>(),</span><span> transform</span><span>.</span><span>scale</span><span>());
}
</span></code></pre>
<p>Bevy's old transform system used separate <code>Translation</code>, <code>Rotation</code>, and <code>Scale</code> components as the "source of truth". Users modified with these components in their systems, after which they were synced to a <code>LocalTransform</code> component, which was in turn synced to a global <code>Transform</code> component, taking hierarchy into account. This was nice for a couple of reasons:</p>
<ul>
<li>Slightly more cache efficient to retrieve individual components like <code>Translation</code> (because less data needs to be accessed)</li>
<li>Theoretically more parallel-friendly. Systems that only access <code>Translation</code> won't block systems accessing <code>Rotation</code>.</li>
</ul>
<p>However this approach also has some pretty serious downsides:</p>
<ul>
<li>The "individual components" are the source of truth, so <code>LocalTransform</code> is out of date when user systems are running. If an up to date "full transform" is needed, it must be manually constructed by accessing all three components.</li>
<li>Very hard to reason about. There are 5 components users need to think about and they all interact with each other differently.</li>
<li>Setting a Transform to a specific matrix value (ex: <code>Mat4::look_at()</code>) was extremely cumbersome, and the value would be immediately overwritten unless the user explicitly disabled component syncing.</li>
</ul>
<p>Given these issues, we decided to move to a single unified local-to-parent <code>Transform</code> component as the source of truth, and a computed <code>GlobalTransform</code> component for world-space transforms. We think this api will be much easier to use and to reason about. <a href="https://gist.github.com/joeante/79d25ec3a0e86436e53eb74f3ac82c0c">Unity is also considering a similar Transform rework for their ECS</a> and a lot of discussion on this topic happened in this <a href="https://community.amethyst.rs/t/legion-transform-design-discussion">Amethyst Forum Thread</a>.</p>
<h2 id="joystick-gamepad-input">Joystick/Gamepad Input</h2>
<p>authors: @simpuid</p>
<p>The Bevy Input plugin now has cross-platform support for most controllers thanks to the <a href="https://gitlab.com/gilrs-project/gilrs">gilrs</a> library!</p>
<pre><code><span>fn </span><span>button_system</span><span>(</span><span>gamepads</span><span>: </span><span>Res</span><span>&lt;</span><span>Vec</span><span>&lt;</span><span>Gamepad</span><span>&gt;&gt;</span><span>, </span><span>button_input</span><span>: </span><span>Res</span><span>&lt;</span><span>Input</span><span>&lt;</span><span>GamepadButton</span><span>&gt;&gt;) {
    </span><span>for</span><span> gamepad </span><span>in</span><span> gamepads</span><span>.</span><span>iter</span><span>() {
        </span><span>if</span><span> button_input</span><span>.</span><span>just_pressed</span><span>(</span><span>GamepadButton</span><span>(*</span><span>gamepad</span><span>, </span><span>GamepadButtonType</span><span>::</span><span>RightTrigger</span><span>)) {
            </span><span>println!</span><span>("</span><span>Pressed right trigger!</span><span>");
        }
    }
}
</span></code></pre><h2 id="bevy-ecs-performance-improvements">Bevy ECS Performance Improvements</h2>
<p>authors: @cart</p>
<h3 id="generational-entity-ids">Generational Entity IDs</h3>
<p>We changed Entity IDs from being random UUIDs to incrementing generational indices. Random UUIDs were nice because they could be created anywhere, were unique across game runs, and could be safely persisted to files or reused across networks. I was really hoping we could make them work, but they ended up being too slow relative to the alternatives. The randomness had a measurable cost and entity locations had to be looked up using a hash map.</p>
<p>By moving to generational indices (we use the hecs implementation), we can directly use entity ids as array indices, which makes entity location lookups lightning fast.</p>
<h3 id="read-only-queries">Read Only Queries</h3>
<p>I implemented "read only" traits for queries that don't mutate anything. This allows us to guarantee that a query won't mutate anything.</p>
<h3 id="removed-locking-from-world-apis">Removed locking from World apis</h3>
<p>This gives us a really nice speed boost. We can do this safely due to a combination of the new "read only queries" and changing World mutation apis to be a mutable World borrow.</p>
<p>This is not yet enabled for <code>Queries</code> in systems because a system could have multiple <code>Queries</code>, which could be simultaneously accessed in a way that doesn't make mutable access unique. I think thats a solve-able problem, but it will take a bit more work. Fortunately "for-each" systems don't have any collision risk, so we now use lock-less queries there.</p>
<h3 id="direct-component-lookup-in-nanoseconds-smaller-is-better">Direct component lookup (in nanoseconds, smaller is better)</h3>
<p>As a result of these optimizations, direct component lookup is <em>much</em> faster than it used to be:</p>
<p><img src="https://bevyengine.org/news/bevy-0-2/get_component.svg" alt="get_component graph"></p>
<p>Note that this benchmark used <code>world.get::&lt;T&gt;(entity)</code>. <code>query.get::&lt;T&gt;(entity)</code> should have results similar to the <code>hecs</code> results because it still uses a lock. Eventually I'm hoping that we can remove locks from system queries too.</p>
<h2 id="change-log">Change Log</h2>
<h3 id="added">Added</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/384">Task System for Bevy</a>
<ul>
<li>Replaces rayon with a custom designed task system that consists of several "TaskPools".</li>
<li>Exports <code>IOTaskPool</code>, <code>ComputePool</code>, and <code>AsyncComputePool</code> in <code>bevy_tasks</code> crate.</li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/292">Parallel queries for distributing work over with the <code>ParallelIterator</code> trait.</a>
<ul>
<li>e.g. <code>query.iter().par_iter(batch_size).for_each(/* ... */)</code></li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/280">Added gamepad support using Gilrs</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/503">Implement WASM support for bevy_winit</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/506">Create winit canvas under WebAssembly</a> </li>
<li><a href="https://github.com/bevyengine/bevy/pull/496">Implement single threaded task scheduler for WebAssembly</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/271">Support for binary glTF (.glb).</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/358">Support for <code>Or</code> in ECS queries.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/339">Added methods <code>unload()</code> and <code>unload_sync()</code> on <code>SceneSpawner</code> for unloading scenes.</a>.</li>
<li><a href="https://github.com/bevyengine/bevy/pull/145">Custom rodio source for audio.</a>
<ul>
<li><code>AudioOuput</code> is now able to play anything <code>Decodable</code>.</li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/362"><code>Color::hex</code></a> for creating <code>Color</code> from string hex values.
<ul>
<li>Accepts the forms RGB, RGBA, RRGGBB, and RRGGBBAA.</li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/381"><code>Color::rgb_u8</code> and <code>Color::rgba_u8</code>.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/396">Added <code>bevy_render::pass::ClearColor</code> to prelude.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/430"><code>SpriteResizeMode</code> may choose how <code>Sprite</code> resizing should be handled. <code>Automatic</code> by default.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/428">Added methods on <code>Input&lt;T&gt;</code></a> for iterator access to keys.
<ul>
<li><code>get_pressed()</code>, <code>get_just_pressed()</code>, <code>get_just_released()</code></li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/270">Derived <code>Copy</code> for <code>MouseScrollUnit</code>.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/390">Derived <code>Clone</code> for UI component bundles.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/332">Some examples of documentation</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/451">Update docs for Updated, Changed and Mutated</a></li>
<li>Tips for faster builds on macOS: <a href="https://github.com/bevyengine/bevy/pull/312">#312</a>, <a href="https://github.com/bevyengine/bevy/pull/314">#314</a>, <a href="https://github.com/bevyengine/bevy/pull/433">#433</a></li>
<li>Added and documented cargo features
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/249">Created document <code>docs/cargo_features.md</code>.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/249">Added features for x11 and wayland display servers.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/363">and added a feature to disable libloading.</a> (helpful for WASM support)</li>
</ul>
</li>
<li>Added more instructions for Linux dependencies
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/275">Arch / Manjaro</a>, <a href="https://github.com/bevyengine/bevy/pull/290">NixOS</a>, <a href="https://github.com/bevyengine/bevy/pull/463">Ubuntu</a> and <a href="https://github.com/bevyengine/bevy/pull/331">Solus</a></li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/491">Provide shell.nix for easier compiling with nix-shell</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/505">Add <code>AppBuilder::add_startup_stage_|before/after</code></a></li>
</ul>
<h3 id="changed">Changed</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/374">Transform rewrite</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/504">Use generational entity ids and other optimizations</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/417">Optimize transform systems to only run on changes.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/323">Send an AssetEvent when modifying using <code>get_id_mut</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/332">Rename <code>Assets::get_id_mut</code> -&gt; <code>Assets::get_with_id_mut</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/183">Support multiline text in <code>DrawableText</code></a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/324">iOS: use shaderc-rs for glsl to spirv compilation</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/304">Changed the default node size to Auto instead of Undefined to match the Stretch implementation.</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/478">Load assets from root path when loading directly</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/485">Add <code>render</code> feature</a>, which makes the entire render pipeline optional.</li>
</ul>
<h3 id="fixed">Fixed</h3>
<ul>
<li><a href="https://github.com/bevyengine/bevy/pull/361">Properly track added and removed RenderResources in RenderResourcesNode.</a>
<ul>
<li>Fixes issues where entities vanished or changed color when new entities were spawned/despawned.</li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/385">Fixed sprite clipping at same depth</a>
<ul>
<li>Transparent sprites should no longer clip.</li>
</ul>
</li>
<li><a href="https://github.com/bevyengine/bevy/pull/345">Check asset path existence</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/376">Fixed deadlock in hot asset reloading</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/394">Fixed hot asset reloading on Windows</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/406">Allow glTFs to be loaded that don't have uvs and normals</a></li>
<li><a href="https://github.com/bevyengine/bevy/pull/383">Fixed archetypes_generation being ‚Ä¶</a></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bevyengine.org/news/bevy-0-2/">https://bevyengine.org/news/bevy-0-2/</a></em></p>]]>
            </description>
            <link>https://bevyengine.org/news/bevy-0-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530698</guid>
            <pubDate>Sat, 19 Sep 2020 22:21:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CNC Fabric Cutting]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530681">thread link</a>) | @zdw
<br/>
September 19, 2020 | http://www.neufeld.newton.ks.us/electronics/?p=1827 | <a href="https://web.archive.org/web/*/http://www.neufeld.newton.ks.us/electronics/?p=1827">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://www.neufeld.newton.ks.us/electronics/?p=1827</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530681</guid>
            <pubDate>Sat, 19 Sep 2020 22:18:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Provisioning an App Service on Azure Using Terraform with AzureDevOps]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530366">thread link</a>) | @lokethien
<br/>
September 19, 2020 | https://www.andreasrein.net/posts/app-service-terraform-azure-azuredevops/ | <a href="https://web.archive.org/web/*/https://www.andreasrein.net/posts/app-service-terraform-azure-azuredevops/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<article>
  
  <div><p>Part of a good DevOps routine is to have the infrastructure as code. This way you can utilize a high level of control with source control. You can also effortlessly spin up another identical environment.</p>

<h2 id="terraform">Terraform</h2>

<p>If you have a sizable project that has a lot of resources or a DevOps enthusiast, it may be smart to keep it in source control.</p>

<p>Terraform is Hashicorp‚Äôs solution for <em>IaC</em>. The configuration language of choice is HcL (Hashicorp configuration language). Please do not fear learning a new language. HcL is highly enjoyable and simple to learn. It‚Äôs also multi-cloud so you can learn Terraform once and use it to provision resources on AWS, Azure, and Google Cloud.</p>

<p>The Azure provider is relatively mature and it‚Äôs in constant development. It‚Äôs open-source so if you are having issues, you can always create an issue on their repository. If you absolutely cannot do what you want to do using Terraform, you could always use ARM templates in Terraform or even CLI commands. So let‚Äôs go through the tutorial of using it in Azure with CI/CD using Azure DevOps.</p>

<h2 id="recipe">Recipe</h2>

<h3 id="1-install-terraform-extension">1. Install Terraform extension</h3>

<p>In this tutorial, I will use an extension to AzureDevOps that will enable us to run Terraform in our build pipeline. Get it <a href="https://marketplace.visualstudio.com/items?itemName=ms-devlabs.custom-terraform-tasks">here</a> and install it in your organization.</p>

<h3 id="2-create-project-on-azuredevops">2. Create project on AzureDevOps</h3>

<p>Before you start creating a pipeline, you should have a project ready on AzureDevOps. Remember that the service <code>Pipelines</code> needs to be on (can be turned on in settings -&gt; overview) and <code>Repos</code> as well.</p>

<p>After that, you should create a repository and clone it to your desktop. Since the pipeline will include two stages; develop and master, it is smart to create a branch <code>develop</code> out from <code>master</code>.</p>

<h3 id="3-set-up-a-service-connection">3. Set-up a service connection</h3>

<p>A service connection enables you to hook-up the AzureDevOps project to the magical fairy-cloud of Azure. Create it by going to <code>Project settings</code> ‚Üí <code>Service connections</code> and hit new service connection from the top right corner. There you select <code>Azure Resource Manager</code> and then you can use <code>Service principal (automatic)</code> as the authentication method.</p>

<p><img src="https://www.andreasrein.net/images/06-app-service-terraform/azure-devops-service-connection.png"></p>

<p>You then select the scope but remember that if you want Terraform to be able to create resource groups, you should leave the <code>Resource group</code> select as unselected. Pick a short and sweet name, create and you are good to go. I distinguish between the development environment and the production environment in this tutorial and, you should preferably do that too. If you do so, you can use two different subscriptions.</p>

<h3 id="4-install-terraform">4. Install Terraform</h3>

<p>Download Terraform <a href="https://www.terraform.io/downloads.html">here</a>, zip it out and put it somewhere on your disk. Remember to add it to your system‚Äôs <code>PATH</code>.</p>

<h3 id="5-write-infrastructure-code">5. Write infrastructure code</h3>

<p>The fun begins after you have successfully installed Terraform. You can finally start writing deliberate infrastructure code in HcL so warm your fingers up and let‚Äôs start by getting your editor ready. If you are using Visual Studio Code, I highly recommend the excellent plugin <a href="https://marketplace.visualstudio.com/items?itemName=mauve.terraform">Terraform</a>.</p>

<p>So create these files:</p>

<ul>
<li>variables.tf</li>
<li>variables/dev.tfvars</li>
<li>variables/prod.tfvars</li>
<li>main.tf</li>
</ul>

<p><em>Terraform can be highly modular but for the purpose of this guide, I have decided to keep it as simple as possible.</em></p>

<h4 id="variables-tf">variables.tf</h4>

<p><code>variables.tf</code> is the home of all the variables but not the values themselves. The values can be found in the environment specific .tfvars files.</p>

<pre><code># General
variable "resource_group_name" {
  description = "The name of the resource group"
}

variable "location" {
  description = "The Azure region in which all resources should be created"
}

# App Service
variable "app_service_plan_name" {
  description = "The name of the app service plan for the backend"
}

variable "app_service_name" {
  description = "The name of the app service for the backend"
}

# Application Insights
variable "application_insights_name" {
  description = "The name of the application insights resource"
}
</code></pre>

<h4 id="variables-dev-tfvars">variables/dev.tfvars</h4>

<p><code>variables/</code> is the folder with the environment specific variable values. The example uses an homegrown Azure resources naming convention. Go with what you like as long as you keep it consistent.</p>

<pre><code>resource_group_name                       = "rg-terraform-dev"
location                                  = "West Europe"
app_service_plan_name_backend             = "azappp-terraform-dev"
app_service_name_backend                  = "azapp-terraform-dev"
application_insights_name                 = "appi-terraform-dev"
</code></pre>

<h4 id="variables-prod-tfvars">variables/prod.tfvars</h4>

<pre><code>resource_group_name                       = "rg-terraform-prod"
location                                  = "West Europe"
app_service_plan_name_backend             = "azappp-terraform-prod"
app_service_name_backend                  = "azapp-terraform-prod"
application_insights_name                 = "appi-terraform-prod"
</code></pre>

<h4 id="main-tf">main.tf</h4>

<p><code>main.tf</code> is where the infrastructure code resides. The Azure Provider is well documented and it can be found <a href="https://www.terraform.io/docs/providers/azurerm/">here</a>.</p>

<pre><code>/*
* Provider block defines which provider they require
*/

provider "azurerm" {
  version = "=2.26.0"
  features {}
}

terraform {
  backend "azurerm" {}
}

/*
* Resource Group
*/
resource "azurerm_resource_group" "this" {
  name     = var.resource_group_name
  location = var.location
}

/*
* App Service Plan
*/
resource "azurerm_app_service_plan" "this" {
  name                = var.app_service_plan_name
  location            = azurerm_resource_group.this.location
  resource_group_name = azurerm_resource_group.this.name
  kind                = "Windows"

  sku {
    tier = "Standard"
    size = "S1"
  }
}

/*
* App Service
*/
resource "azurerm_app_service" "this" {
  name                = var.app_service_name
  location            = azurerm_resource_group.this.location
  resource_group_name = azurerm_resource_group.this.name
  app_service_plan_id = azurerm_app_service_plan.this.id

  site_config {
    websockets_enabled = true
  }

  app_settings = {
    "APPINSIGHTS_INSTRUMENTATIONKEY"      = "${azurerm_application_insights.this.instrumentation_key}"
    "APPINSIGHTS_PORTALINFO"              = "ASP.NET"
    "APPINSIGHTS_PROFILERFEATURE_VERSION" = "1.0.0"
    "WEBSITE_HTTPLOGGING_RETENTION_DAYS"  = "35"
  }
}

/*
* Application Insights
*/
resource "azurerm_application_insights" "this" {
  name                = var.application_insights_name
  location            = azurerm_resource_group.this.location
  resource_group_name = azurerm_resource_group.this.name
  application_type    = "web"
}
</code></pre>

<h3 id="6-create-storage-account-for-state-files">6. Create storage account for state files</h3>

<p>Terraform relies on a state file so it can know what has been done and so forth. The Terraform extension will use a storage account in Azure that we define. So go to your Azure portal and create these resources or use your existing ones.</p>

<ul>
<li>Resource Group: rg-terraform-demo</li>
<li>Storage Account: stterraformdemo</li>
<li>Storage Container: terraform</li>
</ul>

<p>The resource naming is completely optional since they are inside the azure-pipelines.yml file. Remember to double-check the state file resources in <code>azure-pipelines.yml</code>.</p>

<h3 id="7-write-build-pipeline">7. Write build pipeline</h3>

<p>The infrastructure is defined and ready to be deployed on Azure but before we can do that, we would have to define the AzureDevOps build pipeline.</p>

<p>In this example, I will use a deployment template so we can keep it clean in the main azure-pipelines file and reuse it later.</p>

<p>So create these files:</p>

<ul>
<li>azure-pipelines.yml</li>
<li>azure-pipelines-deployment-template.yml</li>
</ul>

<h4 id="azure-pipelines-yml">azure-pipelines.yml</h4>

<p>The two stages, <code>DeployDev</code> and <code>DeployProd</code> is identical apart from the variables passed in the template and that the <code>DeployProd</code> only triggers from the <code>master</code> branch.</p>

<pre><code># Set how the build pipeline triggers
trigger:
  branches:
    include:
      - develop
      - master

# Just say its gonna trigger on pull requests too
pr:
  branches:
    include:
      - develop
      - master

variables:
  # Name of the pipeline. Defaults to the AzureDevOps project name but it can be changed.
  - name: pipelineName
    value: TerraformDemo
  # Name of the resource group where the state file lies
  - name: tfStateRgName
    value: rg-terraform-demo
  # Name of the storage account for the state file
  - name: tfStateStName
    value: stterraformdemo
  # Name of the container for the state file
  - name: tfStateCtrName
    value: terraform

stages:
- stage: DeployDev
  displayName: Deploy Dev
  jobs:
  - template: azure-pipelines-deployment-template.yml
    parameters:
      environment: 'Dev'
      pipelineName: ${{variables.pipelineName}}
      backendServiceName: AzureDev
      tfStateRgName: ${{variables.tfStateRgName}}
      tfStateStName: ${{variables.tfStateStName}}
      tfStateCtrName: ${{variables.tfStateCtrName}}

- stage: DeployProd
  displayName: Deploy Prod
  condition: and(succeeded(), eq(variables['Build.SourceBranch'], 'refs/heads/master'))
  jobs:
  - template: azure-pipelines-deployment-template.yml
    parameters:
      environment: 'Prod'
      pipelineName: '${{variables.pipelineName}}'
      backendServiceName: AzureProd
      tfStateRgName: '${{variables.tfStateRgName}}'
      tfStateStName: '${{variables.tfStateStName}}'
      tfStateCtrName: '${{variables.tfStateCtrName}}'
</code></pre>

<h4 id="azure-pipelines-deployment-template-yml">azure-pipelines-deployment-template.yml</h4>

<pre><code>parameters:
- name: 'environment'
  type: 'string'
  displayName: 'The name of the environment'

- name: 'pipelineName'
  type: 'string'
  displayName: 'The name of the pipeline'

- name: 'backendServiceName'
  type: 'string'
  displayName: 'The name of the backend service'

- name: 'tfStateRgName'
  type: 'string'
  displayName: 'The name of the az resource group where the tf state file should be'

- name: 'tfStateStName'
  type: 'string'
  displayName: 'The name of the az storage account where the tf state file should be'

- name: 'tfStateCtrName'
  type: 'string'
  displayName: 'The name of the az storage account container where the tf state should be'

jobs:
  - job: Deploy
    displayName: Deploy ${{parameters.environment}}
    continueOnError: false
    pool:
      name: 'Azure Pipelines'
      vmImage: 'windows-latest'
    steps:
    - task: ‚Ä¶</code></pre></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.andreasrein.net/posts/app-service-terraform-azure-azuredevops/">https://www.andreasrein.net/posts/app-service-terraform-azure-azuredevops/</a></em></p>]]>
            </description>
            <link>https://www.andreasrein.net/posts/app-service-terraform-azure-azuredevops/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530366</guid>
            <pubDate>Sat, 19 Sep 2020 21:16:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tips for Passing the (Broken) Tech Interview]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530334">thread link</a>) | @mgdev
<br/>
September 19, 2020 | https://mg.dev/3-tips-for-passing-the-broken-tech-interview/ | <a href="https://web.archive.org/web/*/https://mg.dev/3-tips-for-passing-the-broken-tech-interview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>I've been fortunate to work for multiple top technology companies in my career, including AWS/Amazon, Oracle, and Facebook. There are classes of problems you can only tackle at companies like these, where billions of dollars of business flows through systems that you design and build. It's fulfilling knowing something you've created has touched thousands, millions, or in some cases of <em>billions</em> of people. </p><p>But I didn't start my career in big tech. I'm just a simple kid from Montana‚Äîand a college dropout at that. My entry into the world of software started with freelancing, contract gigs, and startups. While landing that work without a "proper education" certainly wasn't easy, the level of scrutiny that smaller companies apply in their interview process tended to be considerably lower than most Bay Area and Seattle technology companies. </p><p>I remember my first interview at one of these giants. It was for a Software Development Engineer (SDE) position at AWS. <strong>I didn't pass the interview loop.</strong> But did well enough that they invited me back for a Web Development Engineer (WDE) loop, which I cleared. I converted to SDE roughly six months later. </p><p>After joining, I remember thinking how poorly I prepared for the interview process, and how much time I wasted by not preparing. I could clearly do the job, or else they wouldn't have let me convert so quickly. I wished I knew how different it was compared to anything I had done before. In total, I had to clear <em>nine interviews</em> to get that WDE offer. It was intense. </p><p>That was a decade ago. Since then, I've been been in many similar interviews, and have been on the other side of the table hundreds of times‚Äîas interviewer, interview lead, and hiring manager. </p><p>There are dozens of great books on technical interviewing. But I'd like to offer three tips that I think are most easily overlooked while preparing for a technical interview. <strong>These tips are overlooked because they acknowledge that technical interviewing is a fundamentally broken process at most large companies.</strong> </p><p>Yes, they ask you to solve problems that you'll rarely have to tackle day-to-day. This is well-known and discussed often in tech circles. But more importantly, <em><strong>interviewers are biased and often poorly trained</strong></em>. Corporate cross-breeding spawns interview behaviors that are poor imitations of their original, more effective versions. These things‚Äîmore than anything technical‚Äîhave the greatest potential to tank your interview.</p><p>Here are three tips to help you survive this mess.</p><h3 id="1-assess-your-interviewer-">1: Assess your interviewer. </h3><p>Technical interviewing is a distinct skill from software development. </p><p>But... tech interviewing is broken. So your meta-job as an interviewee is to understand what kind <em>what kind of broken</em>‚Äîwhat kind of company you're interviewing at, what kind of process they have, what kind of cultural background has informed their evaluation processes. You need to quickly understand how proficient your interviewer is, what their biases are, and whether or not he or she will do a faithful job representing you, the candidate. </p><p>Your job during an interview is to 1) convince that person they like you, and 2) arm that person with all the evidence they need to support you‚Äîpreferably in that order.</p><h3 id="2-keep-talking-interviewers-fill-silences-with-their-own-biases-">2: Keep talking. Interviewers fill silences with their own biases. &nbsp; </h3><p>Silence can be deadly in an interview, so keep information flowing. If you truly need quiet to think, explicitly say this to your interviewer: "I need a few moments to collect my thoughts. I'll explain my thinking in a minute, before I begin."</p><p>Your interviewer's job is to evaluate not just your skills, but your working method and clarity of thought. Does this person get along with his/her peers? Do they have a structured way of breaking down problems? Would I enjoy working with this person? </p><p>They're in evaluation mode, trying to understand what's going through your head. <em>But they're also human.</em> If they don't know what you're thinking, they'll almost inevitably fill in the blanks with whatever biases they've formed so far. </p><p>I've seen 3 minutes of silence by one candidate reported as, <em>"They thoughtfully considered the problem before trying to put code on the board."</em> </p><p>I've seen those same 3 minutes described as, <em>"They struggled to get traction on the problem, and didn't start writing code without repeated prompting."</em></p><p>Messed up, huh? I'm not saying it's right. I'm saying you have to assume it will happen, and prepare for it. </p><h3 id="3-create-a-conspiracy-interviewers-are-more-likely-to-recommend-someone-they-feel-an-affinity-with-">3: Create a conspiracy. Interviewers are more likely to recommend someone they feel an affinity with. </h3><p>While #1 and #2 are about overcoming unfair flaws in the interview process, #3 is about exploiting them for your own gain. </p><p>Your tech interviewer is probably a mostly-normal person. It's easy to forget that when they're grilling you about compression algorithms and time complexities. But underneath that piercing glare is a meat-sack of hopes, fears, insecurities, and desires‚Äîjust like anyone else. </p><p>In an interview setting, the <em>desire for belonging</em> is the easiest to exploit. We all want to feel like we're part of the group‚Äîsafe, powerful.</p><p>The maneuver for this is simple enough:</p><ol><li><strong><em>Briefly discuss something you know your interview would like to strongly associate with, but may not actually be.</em></strong> Maybe it's being the most senior engineer in the org. Maybe it's working on the hardest problems in the industry. </li><li><strong><em>Associate yourself with that thing.</em></strong> Humbly imply that you were associated with these things in the past (without lying), and that you're excited to see what kind of similar opportunities are available here, at this company.</li><li><strong><em>Imply that the interviewer is obviously also associated with that thing.</em></strong> Imply that they obviously understand what you're talking about‚Äîthat you're part of the same club.</li></ol><p>With these three steps, you've created a co-conspirator‚Äîsomeone who shares a special, secret connection. If it sticks, they can't help but start to like you, because they've associated <em>themselves</em> with you, and the natural bias to to favor themselves‚Äîand thus you.</p><h2 id="unfortunate-truths">Unfortunate Truths</h2><p>You may not want to participate in such a broken process. You may think that by playing to the process, you're somehow reinforcing it. To some extent, you are. But shy of instigating an industry-wide boycott or starting your own company, if you want to work at one of these big tech companies, you take the good‚Äîthe ability to create value for millions of people, to develop and empower your teammates, to create cool things‚Äîwith the bad. Your options are to ignore these realities, or plan for them. </p><p><strong><em>And once you've made it, gosh darnit, make it your mission to improve things! </em></strong>Lobby to change the interview process, focusing on ownership, effective cross-functional collaboration (including so-called "soft skills"), and customer obsession. Take or help create interview training, <em>especially around unconscious bias</em>. Fix inefficiencies. Focus on candidate experience, and on align it with the outcomes you want.</p><p>But until then, tuck these tips in your back pocket, and don't be afraid to use them. </p>
			</section></div>]]>
            </description>
            <link>https://mg.dev/3-tips-for-passing-the-broken-tech-interview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530334</guid>
            <pubDate>Sat, 19 Sep 2020 21:11:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: My Python Notebook Driven Book on Evolutionary Algorithms]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530288">thread link</a>) | @DataCrayon
<br/>
September 19, 2020 | https://datacrayon.com/posts/search-and-optimisation/practical-evolutionary-algorithms/preface/ | <a href="https://web.archive.org/web/*/https://datacrayon.com/posts/search-and-optimisation/practical-evolutionary-algorithms/preface/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div>
<div>

<p>Evolutionary Algorithms (<em>EAs</em>) are a fascinating class of algorithms for meta-heuristic optimisation. There exist many books on the topic of EAs, ranging from their theory to practice. The first book I read on the topic was <em>Genetic algorithms in search, optimization, and machine learning</em> by David E. Goldberg (1989), and to this day I still recommend it to new students in the field.</p>

</div>
</div>
</div><div>

<div>
<p>However, there is a re-occurring difficulty when my students are starting out in the field, <em>"how do I move from theory to practice?"</em>. Most books will have some chapters dedicated to applications of EAs, but what's missing is an up-to-date book dedicated to using modern technology and concepts.</p>
</div>
</div><div>

<div>
<div>
<p>When writing this book, I had to answer some difficult questions:</p>
<ul>
<li>What programming language will my examples be written in?</li>
<li>What software libraries will I use?</li>
<li>How do I structure the chapters and sections, do I lead entirely by example or do I dedicate some parts to the theory?</li>
<li>Do I focus on single-objective EAs or multi-objective EAs?</li>
</ul>
<p>Nevertheless, the decisions had to be made. I selected Python as the programming language simply due to its rise in popularity (in 2019), and this was only a difficult choice because there is a wealth of resources written for MATLAB. Of the resources written in MATLAB, it is a shame to not be able to use PlatEMO, which is a well-maintained open-source platform for Evolutionary Multi-objective Optimisation. In its place, when a software library is needed, I will turn to Platypus, which provides optimisation algorithms and analysis tools for multi-objective optimisation.</p>
<p>For the structure of the chapters and sections, I have decided to lead entirely by example. There will be code to demonstrate every concept used, and I will show how we can implement algorithms from their mathematical representation. In these cases, I will focus on the readability of the implementations rather than their performance.</p>
<p>Finally, I will focus on multi-objective EAs as this represents the majority of real-world problems. However, single-objective EAs will make an appearance to highlight the differences between the two.</p>

</div>
</div>
</div><div>

<div>
<p>Perhaps the most difficult question to answer is <em>where do we start?</em> There is so much to cover, and many potential starting points. For this book, I will start with a definition of objective functions, and illustrate the relationship between what we call the problem space and the objective space. With this approach, I hope there will be a clear understanding of what the various operators within an EA are affecting.</p>
</div>
</div></div>]]>
            </description>
            <link>https://datacrayon.com/posts/search-and-optimisation/practical-evolutionary-algorithms/preface/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530288</guid>
            <pubDate>Sat, 19 Sep 2020 21:01:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blog of David Eppstein]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530267">thread link</a>) | @nurettin
<br/>
September 19, 2020 | https://11011110.github.io/blog/all/ | <a href="https://web.archive.org/web/*/https://11011110.github.io/blog/all/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <div>
  
  <ul>
    
      <li>
        <span>Sep 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/09/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 7, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/09/07/eberhards-theorem-bipartite.html">Eberhard's theorem for bipartite polyhedra with one big face</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 1, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/09/01/isosceles-polyhedra.html">Isosceles polyhedra</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 30, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/08/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 22, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/08/22/bricards-jumping-octahedron.html">Bricard's jumping octahedron</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/08/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 7, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/08/07/report-from-cccg.html">Report from CCCG</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 2, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/08/02/sona-enumeration.html">Sona enumeration</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 31, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 29, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/29/polyhedra-convex-unfoldings.html">Polyhedra with convex unfoldings</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 22, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/22/three-cccg-videos.html">Three CCCG videos</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 16, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/16/comparing-multi-sport.html">Comparing multi-sport athletes using bounding-box area</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 12, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/12/graham-pollak-partitions.html">Graham‚ÄìPollak partitions</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 5, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/07/05/shape-wankel-rotor.html">The shape of the Wankel rotor</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 30, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/06/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 28, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/06/28/sorting-integer-offsets.html">Sorting with integer offsets</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 21, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/06/21/subpract.html">Subpract</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/06/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 14, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/06/14/infinite-threshold-graphs.html">Infinite threshold graphs, four different ways</a>
        </h2>
      </li>
    
      <li>
        <span>May 31, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/05/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>May 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/05/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>May 12, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/05/12/inbox-of-triangle.html">The inbox of a triangle</a>
        </h2>
      </li>
    
      <li>
        <span>May 3, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/05/03/hanoi-vs-sierpinski.html">Hanoi vs Sierpi≈Ñski</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 30, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/04/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 28, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/04/28/cartesian-triangle-centers.html">Cartesian triangle centers</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 19, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/04/19/stretch-average-stretch.html">Stretch, average stretch, and expected stretch of spanning trees</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/04/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 31, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 29, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/29/backyard-sunlight.html">Backyard sunlight</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 22, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/22/uci-ecological-preserve.html">UCI Ecological Preserve</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/15/stay-home-linkage.html">Stay-at-home linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 11, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/11/more-uniqueness-sudoku.html">More on uniqueness in Sudoku</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 8, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/03/08/mathematics-books-women.html">Mathematics books by women</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 29, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/02/29/leap-day-linkage.html">Leap day linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 22, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/02/22/applications-maximum-matching.html">Two applications of maximum matching</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 19, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/02/19/snowflake-spanners.html">Snowflake spanners</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 17, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/02/17/spanners-have-sparse.html">Spanners have sparse crossings</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/02/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 31, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/01/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 29, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/01/29/unflippable-polygon.html">An unflippable polygon</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 18, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/01/18/when-does-2sat.html">When does 2SAT have an integral relaxation?</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 15, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/01/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 12, 2020</span>

        <h2>
          <a href="https://11011110.github.io/blog/2020/01/12/counting-grid-polygonalizations.html">Counting grid polygonalizations</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/12/31/year-end-linkage.html">Year-end linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 20, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/12/20/asymptotics-recamans-sequence.html">Asymptotics of Recam√°n's sequence</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/12/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 30, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/11/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 27, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/11/27/recoloring-infinite-paths.html">Recoloring infinite paths</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 25, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/11/25/reconfiguring-3-colorings.html">Reconfiguring 3-colorings</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/11/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/31/halloween-linkage.html">Halloween linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 19, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/19/dont-walk.html">Don't walk</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 17, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/17/mathjax-3-jekyll.html">MathJax 3 in Jekyll and Kramdown</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 16, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/16/from-one-fold.html">From one fold to another</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 12, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/12/hardness-planar-hamiltonian.html">Hardness of planar Hamiltonian decomposition and linear arboricity</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 7, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/10/07/drawing-clustered-graphs.html">Drawing clustered graphs of bounded width</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 30, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/09/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 26, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/09/26/congratulations-dr-mamano.html">Congratulations, Dr. Mamano!</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 22, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/09/22/1000-women-stem.html">One thousand women of STEM!</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/09/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 29, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/29/grid-majors.html">Grid majors</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 27, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/27/congratulations-dr-besa.html">Congratulations, Dr. Besa!</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 22, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/22/serpentine-belts.html">Serpentine belts</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 17, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/17/footprints-in-snow.html">Footprints in the snow</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 10, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/10/report-from-cccg.html">Report from CCCG</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 9, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/09/university-alberta-botanic.html">University of Alberta Botanic Gardens</a>
        </h2>
      </li>
    
      <li>
        <span>Aug 7, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/08/07/report-from-wads.html">Report from WADS</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/07/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 29, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/07/29/zipless-polycube.html">A zipless polycube</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 28, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/07/28/any-order-puzzle.html">Any-order puzzle deduction</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/07/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jul 13, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/07/13/connectivity-finiteness-modal.html">Connectivity and finiteness in modal graph logic</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 30, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 21, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/21/report-from-socg.html">Report from SoCG</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 20, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/20/portland-street-art.html">Portland street art</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/15/linkage.html">Linkage for the end of an academic year</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 11, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/11/dancing-arc-quadrilaterals.html">Dancing arc-quadrilaterals</a>
        </h2>
      </li>
    
      <li>
        <span>Jun 7, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/06/07/little-knowledge-can.html">A little knowledge can make the next step harder</a>
        </h2>
      </li>
    
      <li>
        <span>May 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>May 27, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/27/shattering-quasipolynomiality.html">Shattering and quasipolynomiality</a>
        </h2>
      </li>
    
      <li>
        <span>May 25, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/25/more-matching-mimicking.html">More matching-mimicking networks</a>
        </h2>
      </li>
    
      <li>
        <span>May 21, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/21/congratulations-dr-tillman.html">Congratulations, Dr. Tillman!</a>
        </h2>
      </li>
    
      <li>
        <span>May 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>May 2, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/05/02/playing-model-trains.html">Playing with model trains and calling it graph theory</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 30, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 23, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/23/euler-characteristics-nonmanifold.html">Euler characteristics of non-manifold polycubes</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 14, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/14/monochromatic-grids-colored.html">Monochromatic grids in colored grids</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 11, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/11/coloring-kinggraphs.html">Coloring kinggraphs</a>
        </h2>
      </li>
    
      <li>
        <span>Apr 7, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/04/07/photos-from-barbados.html">Photos from Barbados</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/03/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/03/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 13, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/03/13/planar-graphs-needing.html">Planar graphs needing many lines</a>
        </h2>
      </li>
    
      <li>
        <span>Mar 12, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/03/12/counting-polygon-triangulations.html">Counting polygon triangulations is hard</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 28, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/02/28/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 21, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/02/21/mutual-nearest-neighbors.html">Mutual nearest neighbors versus closest pairs</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/02/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Feb 9, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/02/09/big-convex-polyhedra.html">Big convex polyhedra in grids</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 31, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/01/31/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 29, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/01/29/simplifying-task-milestone.html">Simplifying task-milestone diagrams</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 17, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/01/17/orientations-infinite-graphs.html">Orientations of infinite graphs</a>
        </h2>
      </li>
    
      <li>
        <span>Jan 15, 2019</span>

        <h2>
          <a href="https://11011110.github.io/blog/2019/01/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 31, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/31/linkage.html">Linkage for the end of the year</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 27, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/27/motorcycle-graphs-eventual.html">Motorcycle graphs and the eventual fate of sparse Life</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 22, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/22/circles-crossing-equal.html">Circles crossing at equal angles</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 15, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 8, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/08/general-position-hypercube.html">General-position hypercube projections</a>
        </h2>
      </li>
    
      <li>
        <span>Dec 2, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/12/02/triply-hamiltonian-edge.html">Triply-Hamiltonian edge colorings</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 30, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/11/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 15, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/11/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 12, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/11/12/gurobi-vs-no.html">Gurobi versus the no-three-in-line problem</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 10, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/11/10/random-no-three.html">Random no-three-in-line sets</a>
        </h2>
      </li>
    
      <li>
        <span>Nov 1, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/11/01/95-women-stem.html">95 women of STEM</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 31, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/10/31/linkage-for-halloween.html">Linkage for Halloween</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 22, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/10/22/layered-pathwidth-obstacles.html">Layered pathwidth and its obstacles</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 20, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/10/20/laminar-3-separators.html">Laminar 3-separators</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 15, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/10/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Oct 7, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/10/07/recognizing-sparse-leaf.html">Recognizing sparse leaf powers</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 30, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/09/30/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 15, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/09/15/linkage.html">Linkage</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 8, 2018</span>

        <h2>
          <a href="https://11011110.github.io/blog/2018/09/08/pictures-from-manila.html">Pictures from Manila</a>
        </h2>
      </li>
    
      <li>
        <span>Sep 5, 2018</span>

   ‚Ä¶</li></ul></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://11011110.github.io/blog/all/">https://11011110.github.io/blog/all/</a></em></p>]]>
            </description>
            <link>https://11011110.github.io/blog/all/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530267</guid>
            <pubDate>Sat, 19 Sep 2020 20:56:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rethinking CSS Frameworks]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530230">thread link</a>) | @marvindanig
<br/>
September 19, 2020 | https://bubblin.io/blog/toucaan-introduction | <a href="https://web.archive.org/web/*/https://bubblin.io/blog/toucaan-introduction">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>[Updated on: Jun, 09<sup>st</sup> 2020.]</p>
<blockquote>
<p>These notes are available on
a <a href="https://bubblin.io/cover/the-toucaan-framework-by-marvin-danig#frontmatter" target="_blank">book</a>.</p>
</blockquote>
<h2 id="introduction">Introduction</h2>
<p>2020 is <del>almost</del> here.</p>
<p>It is unlikely that you and I are going to blast off to Mars or the Moon
on a <a href="https://www.spacex.com/starship" rel="nofollow" target="_blank">Spacex Starship</a> <del>anytime soon</del> ever,
so we better turn our gaze towards another frontier of technology:</p>
<p>CSS. üôÉ</p>
<p>Let‚Äôs take a look at how we could use the new powers of CSS to write modern
web applications of 2020 and beyond, here on Earth.</p>
<p>On this post, we will revisit the basics of a webpage, i.e. HTML &amp; CSS,
and develop a clean intelligent and maintainable CSS framework from scratch.
I have named our new CSS framework <a href="https://toucaan.com/" target="_blank">Toucaan</a> and you can
join me on the journey of building it together.</p>
<p>Here is its official <a href="https://github.com/bookiza/toucaan" rel="nofollow" target="_blank">repository</a> and a
noddy Toucan logo that I made using CSS.</p>

<div>
<p><a href="http://toucaan.com/" target="_blank"><img src="https://raw.githubusercontent.com/bookiza/toucaan/master/assets/toucaan.png" alt="Toucaan-A Tropical CSS Framework" width="400"></a></p><h2>The Tropical CSS Framework.</h2>
</div>

<p>Qualitatively speaking the intent of Toucaan is to weed out all the unwanted
CSS that a framework doesn‚Äôt need anymore. It is a deep-dive into the core
properties of CSS standards in a bid to discover new and useful patterns
according to <a href="https://bubblin.io/blog/the-new-landscape-of-the-web" target="_blank">the new landscape of the web</a>.</p>
<p>Who knows we might even identify a few industry-wide antipatterns in the process
and we can address those with a few suggestions as we go about building
Toucaan ground up.</p>
<h3 id="why-call-it-toucaan">Why call it Toucaan</h3>
<p>Well, quite simply because I owned the pretty domain name.</p>
<p>Besides Toucan is a beautiful bird. This aggressive little arboreal ramphastidus symbolizes both beauty and strength. We are going to base our CSS framework on this highly social and resilient bird to implement a styling stricture that will cover all the wilderness on the web. Ocassionally‚Äîthough rarely‚Äîwe may even spar with other CSS frameworks using our ‚Äúcolorful, mean and oversized‚Äù bill.</p>
<p>So‚Äîsay hello to <strong>Toucaan</strong>‚Äîthe tropical CSS framework for the web. üòâ</p>
<div><div><pre><code>üëâ CSS may be hard but‚Ä¶ **if Tou-caan, then you can too!**
</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/charlesbabbage.jpg" width="100%">
</p>

<p>With Toucaan we will revisit every web design and layouting principle that there is.
Test our ideas out in the open. No trick or technique, whether old or new is off the
table, but we will certainly avoid using hacks. There are a few other rules that
Toucaan will adhere to and those are described over <a href="https://github.com/bookiza/toucaan/blob/master/RULES.md" rel="nofollow" target="_blank">here</a>.</p>
<p>Now there are a lot of well-established CSS frameworks out there like the Bootstrap,
Bulma, Foundation, TailwindCSS, and a bunch of strategies like the BEM, OOCSS, or SMACSS
(and others) to organize the application code but we will not try to imitate or wrestle with those.</p>
<p>We will rather write Toucaan on a blank slate and in such a way that we do not take away
most of what these tools have to offer, but we also end-up with more that is possible
with what‚Äôs new on the table for everyone to use lately. On production.</p>
<p>Let‚Äôs begin.</p>

<p>Before we write our first line of code let us take a deep breath and look at the
variety of devices that are a part of the web today. With subtle differences in
their aspect ratios, device handling &amp; user behavior, browser support, and screen-wise
capabilities it is important to understand what the new landscape of the web looks
like today and understand exactly what we are up against for the new framework of 2020.</p>
<p>Here are some of the devices that sport a modern web browser:
<br></p>
<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/major-devices.png" alt="Major web devices." width="100%">
</p>
<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/web-devices.png" alt="Major web devices." width="100%">
</p>

<p>There is the Apple Watch 5 with a Webkit browser and the iPhones are available
in numerous sizes instead of just the one model that Apple used to promote earlier.
There are multiple iPads and iPad Pros, a slew of Android tablets
of different form-factors plus the desktops, laptops, and touchscreen tablet-PCs.</p>
<p>Smart televisions like the LG OLED series (and many others) come with a solid stock
browser and a pointer driven UI as well. Given that Samsung came out with a foldable phone recently and Microsoft
has <del>is probably coming out with</del> outed a foldable Surface tablet, it is
rather safe to assume that screens available today are on
a <strong>linear continuum</strong> of size and form-factor.</p>
<p>That the slate of glass is practically resizable freely just like the desktop browser itself.</p>
<p>And the web is no longer tied to a ‚Äúmobile-first‚Äù paradigm alone.</p>
<p>One can easily consider a large phone a tablet (phablet?) or a tablet could
easily be turned into a desktop with options. While there is a large variety
of devices that are available on the web today, there is also a great
difference in the behavior, the way users interact with each of these devices‚Äî‚Äìala,
subtle differences in controls and input methods, accessibility over the content.</p>
<p>Other than that there are cars too on the web‚Äî‚Äìin that, smartcars
sport a neat web browser for those who need to be online on road.
And low-powered devices on the budget end of the market, like the Nokia 2.2
on Android (with A53 core) or similar that are very popular in their segment.</p>

<div>
<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/tesla-falcon.png" alt="Major web devices." width="50%"></p><p>Credit: Stuart O'Neil, The Noun Project.</p>
</div>

<p>Since Toucaan is about living CSS a short distance into the future, we
will consider the V9 web browser on Tesla into the scope of our project as well.
This is something that I have been meaning to do for quite some time and given
that people will have nothing to do but surf the web or <a href="https://bubblin.io/" target="_blank">read a book</a> in
a self-driving car, this sounds like a reasonable thing to do.</p>

<div>
<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/tesla-web-browser.png" alt="Major web devices." width="100%"></p><p>Web is way bigger than it ever was.</p>
</div>

<blockquote>
<p><strong>Quick note</strong>: I wanted to publish this article three&gt; years ago but the
rate of change in the industry kept me from doing so. With new features being
rolled out every week it was hard to keep up and decide on a strategy.
CSS grids or Flexbox, ES6 or not, and that whole reactive developer toolchain thing.
All those ‚Äúdeveloper happiness‚Äù bits kept flowing while Apple &amp; Google announced a
non-rectangular <a href="https://bubblin.io/blog/notch" target="_blank">notched phones</a>
upsetting my plans to do a paced research.</p>
</blockquote>
<p>The web is enormous now and it is no doubt much harder to design and scale
web-apps between the lowest and the highest options available today.</p>
<p>Notice that we are not even talking about browsers inconsistencies at this point.
The range of hardware itself is wide enough to somewhat trump the very
first assumption taken by nearly all the major CSS frameworks:</p>
<blockquote>
<p><strong>‚ÄúHardcoded breakpoints on CSS @media-queries‚Äù</strong>.</p>
</blockquote>
<p>Voila, and now we have our first <strong>anti-pattern</strong> to go after! ( Õ°¬∞ Õú ñ Õ°¬∞)</p>

<p>Breakpoints are hardcoded on Tailwind CSS like this [<a href="https://tailwindcss.com/docs/theme#screens" rel="nofollow" target="_blank">1</a>, <a href="https://tailwindcss.com/docs/breakpoints/" rel="nofollow" target="_blank">2</a>], for example.</p>
<div><div><pre><code><span>// tailwind.config.js</span>
<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>{</span>
  <span>theme</span><span>:</span> <span>{</span>
    <span>screens</span><span>:</span> <span>{</span>
      <span>'</span><span>sm</span><span>'</span><span>:</span> <span>'</span><span>640px</span><span>'</span><span>,</span> <span>// Translates to hardcoded break-points in media queries.</span>
      <span>'</span><span>md</span><span>'</span><span>:</span> <span>'</span><span>768px</span><span>'</span><span>,</span>
      <span>'</span><span>lg</span><span>'</span><span>:</span> <span>'</span><span>1024px</span><span>'</span><span>,</span>
      <span>'</span><span>xl</span><span>'</span><span>:</span> <span>'</span><span>1280px</span><span>'</span><span>,</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>
<p>On Bulma, the breakpoints [<a href="https://github.com/jgthms/bulma/blob/49708a36a1f88870ec19db74888acc526a4188f3/css/bulma.css#L497" rel="nofollow" target="_blank">1</a>] are used similarly
to silo the blocks of css code like so:</p>
<div><div><pre><code><span>/* Bulma CSS like any other framework uses hardcoded breakpoints like so: */</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>max-width</span><span>:</span> <span>768px</span><span>)</span> <span>{</span> <span>/* Some style classes &amp; rules here. */</span> <span>}</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>min-width</span><span>:</span> <span>769px</span><span>),</span> <span>print</span> <span>{</span> <span>/* Same classNames but different rules here. */</span> <span>}</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>max-width</span><span>:</span> <span>1023px</span><span>)</span> <span>{</span> <span>/* We armtwist the ruleset again‚Ä¶ */</span> <span>}</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>min-width</span><span>:</span> <span>1024px</span><span>)</span> <span>{</span> <span>/* Are we on the desktops now? */</span> <span>}</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>min-width</span><span>:</span> <span>1216px</span><span>)</span> <span>{</span> <span>/* Dang!, what are we supporting here? */</span> <span>}</span>

<span>@media</span> <span>screen</span> <span>and</span> <span>(</span><span>min-width</span><span>:</span> <span>1408px</span><span>)</span> <span>{</span> <span>/* Is this the iPad Pro 12.9 inches or something else? */</span> <span>}</span>
</code></pre></div></div>
<p>Then for each silo this happens on the CSS elsewhere‚Ä¶</p>
<div><div><pre><code><span>+</span><span>mobile</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'mobile'</span><span>)</span>

<span>+</span><span>tablet</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'tablet'</span><span>)</span>

<span>+</span><span>touch</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'touch'</span><span>)</span>

<span>+</span><span>desktop</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'desktop'</span><span>)</span>

<span>+</span><span>widescreen</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'widescreen'</span><span>)</span>

<span>+</span><span>fullhd</span>
  <span>+</span><span>typography-size</span><span>(</span><span>'fullhd'</span><span>)</span>
</code></pre></div></div>
<p>Bootstrap does the same thing‚Ä¶ and then thousands of utility <code>classNames</code> are
repeated on each silo of devices to cater to the behavior desired of that group.</p>
<p>Pretty much every CSS framework follows this pattern and a new breakpoint is added
every few years to account for industry-level changes. The question is how many
breakpoints will cover the new landscape of the web now?</p>
<p>Can we continue this way as the industry continues to evolve at a break-neck speed.</p>
<p>At what point will the hardcoded breakpoints become all too many?</p>
<h3 id="mode-driven-instead-of-data-driven">Mode-driven instead of data-driven:</h3>
<p>While it would be a nice exercise to plot a graph of all the screen sizes
(pixel ratio data) that are available on the market, but going down this path to
figure out the ideal set of breaking point values to separate watches from mobile
from tablets from desktops from cars to any other larger surface that is about to
come on the web is anything but scalable. Or even practical.</p>
<p>In my opinion, using hardcoded values on CSS media queries is an artifact of the
mobile-web. A result from the tunnel vision that we have had of the web since the very first iPhone.
It is a simplistic solution from a simpler time that is no longer valid today.</p>
<p>An anti-pattern that should be done away with.</p>
<p>So, is there a way to implement layout responsively without using hardcoded
break-points?</p>
<p>Turns out, there is!</p>
<p>We can build any kind of responsive application using a really simple and smart
set of rules that we will talk about in the next section.</p>
<h2 id="the-two-states-of-web-design">The Two States of Web Design.</h2>
<p>There are only two states of web-design. Let‚Äôs see how:</p>
<p>Ccreate a <a href="https://raw.githubusercontent.com/bookiza/toucaan/master/examples/example0.html" rel="nofollow" target="_blank">blank page</a>
on your machine and load it on a browser (desktop) first.</p>
<p>This is easy enough, simply jump into the terminal and:</p>
<div><div><pre><code><span>$ </span><span>touch </span>example0.html     // Create a new file but <span>do </span>not write anything on it.

<span>$ </span>chrome example0.html    // Open this 0 byte files on your favorite browser.
</code></pre></div></div>
<p>What do you see on this blank page?</p>
<p>Of course nothing. It is an all-white or an all-black blank page depending
on settings. Did you know that this blank webpage is already responsive?</p>
<p>No CSS or media-query is required to adapt the UX/UI of a blank page on mobile
or desktop or any other web device. You can resize the browser to any size or
aspect ratio and the blank page will continue to scale accurately.</p>
<p>It‚Äôs perfectly responsive, and just ‚Äúbelongs to‚Äù the device naturally. Intrinsically.</p>

<div>
<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/viewports.png" alt="Major web devices." width="66%"></p><p>Viewport rectangles of the browser window on resize.</p>
</div>

<p>Let‚Äôs switch gears and mount the desktop in portrait mode instead:</p>

<p><img src="https://raw.githubusercontent.com/marvindanig/assets/master/desktop-portrait-landscape.png" width="100%">
</p>

<p>Now the rectangular screen is in portrait orientation so the browser window
will appear longer in height‚Äîkind of like a mobile phone but</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bubblin.io/blog/toucaan-introduction">https://bubblin.io/blog/toucaan-introduction</a></em></p>]]>
            </description>
            <link>https://bubblin.io/blog/toucaan-introduction</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530230</guid>
            <pubDate>Sat, 19 Sep 2020 20:50:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can TikTok be banned from US based Android devices?]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24530155">thread link</a>) | @bluegopher
<br/>
September 19, 2020 | https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      Legal questions aside, let's explore the technical possibilities.
    </p><div>

<p>Let‚Äôs be very clear here. I am not a fan of TikTok. I had the misfortune of coming across it when it was still called Musically and I had to explain to a little girl that she, unlike her friends, was not allowed to dance for strangers. That ruined an otherwise perfect evening.</p>

<p>I‚Äôm also not a fan of Donald Trump(et). It‚Äôs safe to assume that he threatens to shut down TikTok for all the wrong reasons, but if he manages to pull through, it will be a benefit for mankind. So, is it actually technically possible to get TikTok and WeChat banned in the US?</p>

<h2 id="removing-apps-from-google-play">Removing apps from Google Play</h2>

<p>Story time (you can skip ahead two paragraphs for an obvious revelation)!</p>

<p>I once wrote a pretty silly slot machine game for Android. It was as a coding exercise and failed in pretty much every aspect except being recognized for what it actually wasn‚Äôt: a real gambling app.
</p><figure>
  <a href="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/pocketbandit.png">
    <img src="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/pocketbandit.png">
  </a>
  
  <figcaption>Pocket Bandit: pretty (, colorful,) boring</figcaption>
  
</figure><p>
                             
                             
All you could do was to bet one to three coins, then pull the lever and watch the reels spin. You started with a fixed amount of credit and the laws of probability dictated that you‚Äôd eventually go bankrupt. Once that happened, you could simply restarted the ‚Äúgame‚Äù and had a full purse again. No <em>wait x hours or pay $$$ to continue playing</em> bullshit. No way of winning anything either. In other words: the most boring one-armed bandit ever. Not even suitable for detoxing a gambling addict. I had somehow managed to put in all the mechanics of a classical slot machine except the one (winning/loosing) that was responsible for producing the excitement.</p>

<p>Well, there‚Äôs no rule that states, you can‚Äôt publish rubbish on Google Play. Much to my surprise though, there is a rule that says, you can‚Äôt publish gambling apps in some Arab countries without governmental approval. So, one fateful morning, I received a mail from Google telling me that my app had been pulled from Play in those countries. I was pissed. Not because the world needed my app. Not because some Arabs were now deprived of the most dull entertainment, only I could provide. I was pissed because someone had obviously only spent the time of looking at the screenshots to determine that this was a gambling app, but hadn‚Äôt bothered to reason how you were suppose to spend (real) money in an app that doesn‚Äôt even request network permission. It felt unjustified. Like a downvote driven in with the banhammer. Someone with the attention span of a puppy had the power of Thor.</p>

<p>There was no point in appealing. After all, the game was crap, but the incident was a nice reminder on how fragile businesses, build on apps are. Somewhere, someone with too little time to be thorough can simply nuke them without prior warning. Needless to say, that in time, the same  kind of sloppiness resulted in more of my apps being pulled ‚Ä¶</p>

<p>So, what‚Äôs the take away from my story?</p>

<p>Geo fencing has always been a core feature of Play and Google never really went out of its way to stand up for developers. Sure, my apps are small fries compared to behemoths like TikTok, but then again, they aren‚Äôt direct competitors to youtube either. Let‚Äôs keep that in mind in case anyone has high hopes for Google putting up a fight.</p>

<h2 id="what-about-sideloading">What about sideloading?</h2>

<p>Who needs Play anyway? Android is not IOS, we can simply download the APK off the web and install it ourselves, right? Eh well, no. It‚Äôs not that simple. Bytedance swallowed Google‚Äôs Cool Aid and switched to App Bundles/Dynamic Delivery in order to reduce the size of their app. So instead of a single, one size fits all APK, you get a bunch of individual files. In case of TikTok v17.6.3 and depending on your device, the list might look like this:</p>

<ul>
<li>com.zhiliaoapp.musically-2021706030.apk</li>
<li>com.zhiliaoapp.musically-2021706030_config.armeabi_v7a.apk</li>
<li>com.zhiliaoapp.musically-2021706030_config.en.apk</li>
<li>com.zhiliaoapp.musically-2021706030_config.xhdpi.apk</li>
<li>com.zhiliaoapp.musically-2021706030_df_creationtool_so.apk</li>
<li>com.zhiliaoapp.musically-2021706030_df_creationtool_so.config.armeabi_v7a.apk</li>
<li>com.zhiliaoapp.musically-2021706030_df_fusing.apk</li>
<li>com.zhiliaoapp.musically-2021706030_df_photomovie.apk</li>
</ul>

<p>Split APKs cannot be sideloaded (easily). On plain Android, there‚Äôs simply no user interface for telling the packagemanager that you want it to install an app from several connected files (<a href="https://raccoon.onyxbits.de/blog/merge-split-apk/">after all, making sideloading difficult was/is the whole idea behind App Bundles</a>). You need extra tools (e.g. ADB) for that. But let‚Äôs be brutally honest here, if you are in the target audience of TikTok, then you are probably missing a brain cell or two (out of a total of two) and won‚Äôt be able to use them.</p>

<div>
  
  <p><span>Fun fact</span>
  
  
App Bundles have a build in security flaw. Traditional APKs cannot be modified by the Playstore. App Bundles can. For rogue government agencies, this provides the option of pushing hacked app updates to </p><u>selected</u><p> individuals. For that reason, <b>no</b> app in the "communications" category should ever use App Bundles as a distribution format. Imagine that! Coincidentally, Trump was actually right when calling TikTok a security issue. Cheers ByteDance!

</p></div>
                             
                             

<p>So, why doesn‚Äôt ByteDance simply host a traditional APK on the TikTok website then?</p>

<p>Two reasons actually</p>

<ol>
<li>Self hosting your app means, people will download the self hosted version (duh!), even if they could get it from the Playstore. As a result, the Playstore version sees less downloads, less reviews and less ratings which may eventually lead to it spiraling down in the rankings (ever wondered why all youtubers end their videos with the magic mantra ‚Äúlike and subscribe, hit the bell and give me a thumbs up‚Äù? Same mechanic there). This, by the way was the leverage, Google used to monopolize the app store market on Android: you are free to host elsewhere, but if your competitors solely host with us, they will eventually outrank you.</li>
<li>ByteDance not only drank the Google Cool aid, but also coughed it up and swallowed it again. Part of their revenue is in-app purchases. Those don‚Äôt work with sideloaded APKs. They could, of course, implement their own <abbr title="In App Purchase">IAP</abbr>, but that‚Äôs something <a href="https://raccoon.onyxbits.de/blog/2020081401/">Epic tried with Fortnite</a> recently‚Ä¶</li>
</ol>

<h2 id="removing-existing-tiktok-installations-from-devices">Removing existing TikTok installations from devices</h2>

<p>Buckle up, this may come as a surprise or as a confirmation of your fears!</p>

<p>Did you ever notice the big green ‚Äúinstall‚Äù button on the Google Play website? With it, you can conveniently browse the store on your PC and send apps to your phone for installation.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/googleplay-tiktok.png">
    <img src="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/googleplay-tiktok.png">
  </a>
  
  <figcaption>Screencap: The install button on the Play website is sort off a remnant from the old days when 320x480 screens where the norm and you'd rather browse the androidmarket (as it was called back then) on your PC.</figcaption>
  
</figure>
                             
                             

<p>This is done via ‚ÄúPush messages‚Äù. Which is just a modern way of saying that your phone wakes up every couple of minutes in order to waste battery and bandwidth on checking if there are any new ads you should see. It also checks if there are any app updates or pending installs (from the green button) while it is at it, just so you have a reason not to disable the <del>spy</del> playstore app when you don‚Äôt need it. The relevant <a href="https://developers.google.com/protocol-buffers/">message structure</a> looks like this:</p>

<div><pre><code data-lang="protobuf"><span>message</span> <span>Notification</span> {<span>
</span><span></span>  <span>optional</span> <span>int32</span> notificationType <span>=</span> <span>1</span>;<span>
</span><span></span>  <span>optional</span> <span>int64</span> timestamp <span>=</span> <span>3</span>;<span>
</span><span></span>  <span>optional</span> Docid docid <span>=</span> <span>4</span>;<span>
</span><span></span>  <span>optional</span> <span>string</span> docTitle <span>=</span> <span>5</span>;<span>
</span><span></span>  <span>optional</span> <span>string</span> userEmail <span>=</span> <span>6</span>;<span>
</span><span></span>  <span>optional</span> AndroidAppNotificationData appData <span>=</span> <span>7</span>;<span>
</span><span></span>  <span>optional</span> AndroidAppDeliveryData appDeliveryData <span>=</span> <span>8</span>;<span>
</span><span></span>  <span>optional</span> PurchaseRemovalData purchaseRemovalData <span>=</span> <span>9</span>;<span>
</span><span></span>  <span>optional</span> UserNotificationData userNotificationData <span>=</span> <span>10</span>;<span>
</span><span></span>  <span>//optional InAppNotificationData inAppNotificationData = 11;
</span><span></span>  <span>//optional PurchaseDeclinedData purchaseDeclinedData = 12;
</span><span></span>  <span>optional</span> <span>string</span> notificationId <span>=</span> <span>13</span>;<span>
</span><span></span>  <span>optional</span> LibraryUpdate libraryUpdate <span>=</span> <span>14</span>;<span>
</span><span></span>  <span>optional</span> LibraryDirtyData libraryDirtyData <span>=</span> <span>15</span>;<span>
</span><span></span>}<span>
</span><span>
</span><span></span><span>message</span> <span>AndroidAppDeliveryData</span> {<span>
</span><span></span>  <span>optional</span> <span>int64</span> downloadSize <span>=</span> <span>1</span>;<span>
</span><span></span>  <span>optional</span> <span>string</span> signature <span>=</span> <span>2</span>;<span>
</span><span></span>  <span>optional</span> <span>string</span> downloadUrl <span>=</span> <span>3</span>;<span>
</span><span></span>  <span>repeated</span> AppFileMetadata additionalFile <span>=</span> <span>4</span>;<span>
</span><span></span>  <span>repeated</span> HttpCookie downloadAuthCookie <span>=</span> <span>5</span>;<span>
</span><span></span>  <span>optional</span> <span>bool</span> forwardLocked <span>=</span> <span>6</span>;<span>
</span><span></span>  <span>optional</span> <span>int64</span> refundTimeout <span>=</span> <span>7</span>;<span>
</span><span></span>  <span>optional</span> <span>bool</span> serverInitiated <span>=</span> <span>8</span>;<span>
</span><span></span>  <span>optional</span> <span>int64</span> postInstallRefundWindowMillis <span>=</span> <span>9</span>;<span>
</span><span></span>  <span>optional</span> <span>bool</span> immediateStartNeeded <span>=</span> <span>10</span>;<span>
</span><span></span>  <span>optional</span> AndroidAppPatchData patchData <span>=</span> <span>11</span>;<span>
</span><span></span>  <span>optional</span> EncryptionParams encryptionParams <span>=</span> <span>12</span>;<span>
</span><span></span>  <span>optional</span> <span>string</span> gzippedDownloadUrl <span>=</span> <span>13</span>;<span>
</span><span></span>  <span>optional</span> <span>int64</span> gzippedDownloadSize <span>=</span> <span>14</span>;<span>
</span><span></span>  <span>repeated</span> SplitDeliveryData splitDeliveryData <span>=</span> <span>15</span>;<span>
</span><span></span>  <span>optional</span> <span>int32</span> installLocation <span>=</span> <span>16</span>;<span>
</span><span></span>}<span>
</span><span>
</span><span></span><span>message</span> <span>PurchaseRemovalData</span> {<span>
</span><span></span>  <span>optional</span> <span>bool</span> malicious <span>=</span> <span>1</span>;<span>
</span><span></span>}</code></pre></div>

<p>A request to delete an app from a device looks like this:</p>

<div><pre><code data-lang="protobuf">notificationType<span>:</span> <span>2</span><span>
</span><span></span>docid {<span>
</span><span></span>  backendDocId<span>:</span> <span>"com.zhiliaoapp.musically"</span><span>
</span><span></span>}<span>
</span><span></span>purchaseRemovalData {<span>
</span><span></span>  malicious<span>:</span> <span>true</span><span>
</span><span></span>}</code></pre></div>

<p>Note that the malicious flag is purely cosmetic. The only thing Play has to send is the package name of the app and the notificationType 2. The app gets deleted, even if it wasn‚Äôt installed via Play.</p>

<h2 id="blocking-tiktok-in-the-usa">Blocking TikTok in the USA</h2>

<p>Let‚Äôs say you are an existing TikTok user and a US citizen. Let‚Äôs say, after reading the above, you disable the Playstore client, so Google can‚Äôt delete apps from your phone. What are they going to do then? Tell your ISP to firewall the TikTok servers (I heard, China has the tech for that. Maybe they‚Äôll share‚Ä¶)? Well, curiously, there‚Äôs a much simpler solution. Did I already mention that ByteDance drank the Google Coolaid to the last drip? Let‚Äôs use an <a href="https://raccoon.onyxbits.de/">apk downloader</a> to request the <a href="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/com_zhiliaoapp_musically.json">Google Playstore entry for the TikTok app</a>. Here‚Äôs an excerpt:</p>

<div><pre><code data-lang="json"><span>"dependency"</span><span>:</span> [{
          <span>"packageName"</span>: <span>"com.google.android.gms"</span>,
          <span>"minVersionCode"</span>: <span>12451000</span>,
          <span>"skipPermissions"</span>: <span>true</span>,
          <span>"deferredInstallAllowed"</span>: <span>false</span>
        }]</code></pre></div>

<p>The <code>com.google.android.gms</code>package is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/">https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/</a></em></p>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/trump-ban-tiktok-wechat-usa/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530155</guid>
            <pubDate>Sat, 19 Sep 2020 20:35:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Stone Oakvalley's Amiga Music Collection (Soamc=) Collection]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530012">thread link</a>) | @bane
<br/>
September 19, 2020 | https://www.paula8364.com/0000_00_dashboard_index.php | <a href="https://web.archive.org/web/*/https://www.paula8364.com/0000_00_dashboard_index.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.paula8364.com/0000_00_dashboard_index.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530012</guid>
            <pubDate>Sat, 19 Sep 2020 20:03:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zerologon: Instantly become domain admin (CVE-2020-1472)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24530005">thread link</a>) | @LeonM
<br/>
September 19, 2020 | https://www.secura.com/blog/zero-logon | <a href="https://web.archive.org/web/*/https://www.secura.com/blog/zero-logon">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span>Blog post 11 September 2020, by Tom Tervoort, Senior Security Specialist and Ralph Moonen, Technical Director at Secura</span></p>
<p><span><span><em></em></span></span><span><strong><span>Last month, Microsoft patched a very interesting vulnerability that would allow an attacker with a foothold on your internal network to essentially become Domain Admin with one click. All that is required is for a connection to the Domain Controller to be possible from the attacker‚Äôs viewpoint. </span></strong></span></p>
<p><span>Secura's security expert Tom Tervoort previously discovered <strong><span><a target="_blank" href="https://www.secura.com/blog-cve-2019-1424" rel="noopener noreferrer">a less severe Netlogon vulnerability last year that allowed workstations to be taken over</a></span></strong>, but the attacker required a Person-in-the-Middle (PitM) position for that to work. Now, he discovered this second, much more severe (CVSS score: 10.0) vulnerability in the protocol. By forging an authentication token for specific Netlogon functionality, he was able to call a function to set the computer password of the Domain Controller to a known value. After that, the attacker can use this new password to take control over the domain controller and steal credentials of a domain admin. </span></p>
<p><span>The vulnerability stems from a flaw in a cryptographic authentication scheme used by the Netlogon Remote Protocol, which among other things can be used to update computer passwords. This flaw allows attackers to impersonate any computer, including the domain controller itself, and execute remote procedure calls on their behalf. </span></p>
<p><span>Secura urges everybody to install the patch on all their domain controllers as fast as possible. Please refer to Microsoft‚Äôs advisory. <strong>We published a test tool on Github</strong>, which you can download here:&nbsp;<strong><span><a href="https://github.com/SecuraBV/CVE-2020-1472">https://github.com/SecuraBV/CVE-2020-1472</a></span></strong> that can tell you whether a domain controller is vulnerable or not.&nbsp;</span></p>
<p><span>If you are interested in the technical details behind this pretty unique vulnerability and how it was discovered,<span><strong> <a target="_blank" href="https://www.secura.com/pathtoimg.php?id=2055" rel="noopener noreferrer">download the whitepaper here</a></strong></span>.&nbsp;</span></p>
<p><span><strong>For more information about the CVE, <span><a href="mailto:info@secura.com">contact Secura&nbsp;at </a><a href="mailto:info@secura.com">info@secura.com</a><a href="mailto:info@secura.com">.</a></span></strong></span></p>
<p><span><a title="Zerologon whitepaper" target="_blank" href="https://www.secura.com/pathtoimg.php?id=2055" rel="noopener noreferrer"><span><strong><span><img alt="" src="https://www.secura.com/pathtoimg.php?id=2056&amp;image=zerologon_whitepaper.png" width="193" height="272"></span></strong></span></a></span></p>
<p><span>Read more about Zerologon: CVE-2020-1472&nbsp;in our&nbsp;<strong><span><a target="_blank" href="https://www.secura.com/pathtoimg.php?id=2055" rel="noopener noreferrer">whitepaper</a>.&nbsp;</span></strong></span><span>If you have any questions, please contact us at&nbsp;<span><strong><a href="mailto:info@secura.com">info@secura.com</a>.</strong></span></span></p>
<p><span><span><strong><a href="mailto:info@secura.com"><span></span>&nbsp;Contact us</a></strong></span></span></p>


</div></div>]]>
            </description>
            <link>https://www.secura.com/blog/zero-logon</link>
            <guid isPermaLink="false">hacker-news-small-sites-24530005</guid>
            <pubDate>Sat, 19 Sep 2020 20:02:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Web Assembly Playground]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529981">thread link</a>) | @lanecwagner
<br/>
September 19, 2020 | https://app.qvault.io/playground/python | <a href="https://web.archive.org/web/*/https://app.qvault.io/playground/python">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://app.qvault.io/playground/python</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529981</guid>
            <pubDate>Sat, 19 Sep 2020 19:59:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distributed Task Processing Using Celery]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529889">thread link</a>) | @bswamina
<br/>
September 19, 2020 | https://www.polarsparc.com/xhtml/Celery.html | <a href="https://web.archive.org/web/*/https://www.polarsparc.com/xhtml/Celery.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.polarsparc.com/xhtml/Celery.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529889</guid>
            <pubDate>Sat, 19 Sep 2020 19:37:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Effective ML (and F#)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529774">thread link</a>) | @jasim
<br/>
September 19, 2020 | http://bugfree.dk/blog/2012/06/24/effective-ml-and-fsharp | <a href="https://web.archive.org/web/*/http://bugfree.dk/blog/2012/06/24/effective-ml-and-fsharp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
  <p>
    This is a summary of <a href="http://twitter.com/#!/yminsky">Yaron Minsky</a>'s nine pieces of advice from the <a href="http://vimeo.com/14313378">Effective ML</a> video. Since ML is a predecessor of F#, most of the advice applies to F# as well.
  </p>
  <p>
    <strong>1. Favor readers over writers (10:20)</strong>. There're systematic differences in opinion between those who spent their time reading code and those who spent it writing code. Whenever there's a difference in opinion between these two groups, the readers are always right and the writers are always wrong. The readers will always push in the direction of clarity and simplicity and the ability to change behavior easily. At least if you're building software that's going to last.
  </p>
  <p>
    <strong>2. Create uniform interfaces (12:15)</strong>. Always create an interface to your code to make it easier on the reader. When you build interfaces, you should have standards that apply uniformly across your code base to build solid expectations. Those who use your code should know what to provide and what to expect when interfacing with your codebase.
  </p>
  <p>
    <strong>3. Make illegal states unrepresentable (18:03)</strong>. Use the type system as a tool to enforce invariants on the code you write. Choose your data types such that states that are illegal don't show up as legal states in the program. Take this code representing various connection information as an example. It keeps track of relevant information in a fairly readable manner:
  </p>
  <pre>type connection_state =
  | Connecting
  | Connected
  | Disconnected

type connection_info = {
    state:             connection_state
    server:            IPAddress
    last_ping_time:    DateTime option
    last_ping_id:      int option
    session_id:        string option
    when_initiated:    DateTime option
    when_disconnected: DateTime option
}</pre>
  <p>On the surface these types look reasonable, but there're some tricky invariants that need to hold about the data. For instance, if you have a last_ping_time, you should probably also have a last_ping_id and vice versa. And the session_id and when_initiated probably only makes sense when you're connected. Similarly, when_disconnected only makes sense if you've been disconnected.</p>
  <p>The key is that there's nothing about the types that help you enforce all these invariants. A better approach would be to refactor the connection_info into a series of types where the invariants would be inherent in the types themselves rather than being implicit in the logic surrounding the types:</p>
  <pre>type connecting = { when_initiated: DateTime }
type connected = { last_ping: (DateTime * int) option
                   session_id: string }
type disconnected = { when_connected: DateTime }

type connection_state =
  | Connecting of connecting
  | Connected of connected
  | Disconnected of disconnected

type connection_info = {
    state: connection_state
    server: IPAddress
}</pre>
  <p>server remains in connection_info because it applies to any of the states. The other information have been grouped together with the state it related to. The different connection_states are no longer merely a simple enumerated type but each of the different tags have content. Note also how the last_ping is now both the last_ping_time and last_ping_id. Either both are present, and grouped together, or not.</p>
  <p>
    <strong>4. Code for exhaustiveness (28:33)</strong>. This one is closely related to making illegal states unrepresentable in that you should write your code aiming at exhaustiveness guarantees. For instance, when you have a match statement, the compiler will warn you if the match isn't exhaustive. The key benefit is as a refactoring tool because it guides changes in the code base. Don't use the match all because it means that if you expand on the discriminated union the compiler will not warn you.
  </p>
  <p>
    <strong>5. Open few modules (34:08)</strong>. When you open a module, it makes your code a bit shorter, and that's great for the guy who wrote the code, but not the guy reading it. Now you can no longer just look at the code and tell where the value came from. In F#, with Visual Studio integration and IntelliSense, this is less of a problem. But the key advice is to respect the cognitive limitation of the people reading the code. If you want people to remember something, make them remember only for a short period of time.
  </p>
  <p>
    <strong>6. Make common errors obvious (38:10)</strong>. Use exceptions for exceptional conditions is what people often tell you. But whether something is a common case depends on context. For instance, in one context it's an error if an element isn't in a list, whereas in others it's perfectly acceptable. For your API it may depend on the caller if a case is exceptional or not. To better support the caller, you could create two versions depending on how you want to communicate an error:
  </p>
  <pre>val hd : 'T list -&gt; 'T option
val hd_exn : 'T list -&gt; 'T</pre>
  <p>Now you can tell from the name of the function weather it throws an exception or not. For people reading the code it makes it easier to understand the error behavior of the code.</p>
  <p>
    <strong>7. Avoid boilerplate (40:52)</strong>. Avoid repeating the same code, or almost the same code, in multiple places. Boilerplate appears, in general, because people have a cut and paste template they use to do almost the same thing in multiple spots and because their language isn't good enough to encode what they want to do in a clean way. You want to get rid of boilerplate because the structure you're repeating is there for a reason, and your code evolves. At that point you're not going to remember all the places where the repetition shows up. It also goes back to readability. It's hard to convince people to read code if it's dull. And nothing is duller than boilerplate, even though the code is critical.
  </p>
  <p>Interestingly, reducing boilerplate doesn't always make code less verbose. The goal isn't to make the code shorter but to separate out which parts of the code is the same and which parts vary.</p>
  <p>
    <strong>8. Avoid complex type hackery (45:30)</strong>. The enemy of good code, of correctness, isn't dynamic guarantees, properties about the code that cannot be proved at compile time, but complexity. Refrain from making your code more complex (using <a href="http://mlton.org/PhantomType">phantom types</a>, for instance), just so you can have the type system verify additional properties of the code.
  </p>
  <p>
    <strong>9. Don't be puritanical about purity (47:10)</strong>. Avoiding side-effect is generally worth striving for, because code without side-effects tends to be easier to reason about. But sometimes it's also just easier to code with side-effects. There may even be performance reasons for allowing side-effects so don't be embarrassed about it. In reality, programs don't just compute things, they do things like write files, send messages, and so on. All this doing involves side-effects. Again, remember that the enemy of correctness is complexity. Don't jump through hoops to make your code too complex just to make it pure.
  </p>
</div></div>]]>
            </description>
            <link>http://bugfree.dk/blog/2012/06/24/effective-ml-and-fsharp</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529774</guid>
            <pubDate>Sat, 19 Sep 2020 19:17:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How does Django validate passwords?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529740">thread link</a>) | @rangerranvir
<br/>
September 19, 2020 | https://ranvir.xyz/blog/how-does-django-validate-passwords/ | <a href="https://web.archive.org/web/*/https://ranvir.xyz/blog/how-does-django-validate-passwords/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><img data-src="https://i.ibb.co/n3YzYyF/Main-Images-4-1.png" alt="How does Django validate passwords" title="How does Django validate passwords" src="https://i.ibb.co/n3YzYyF/Main-Images-4-1.png">
</p><p>
A few days ago, I was working on one of my old Django projects. It was running an old version of Django and I wanted to keep it updated with the latest changes of the framework.</p>
<p>
So to check the <a href="https://ranvir.xyz/blog/django-admin-tips-and-tricks/">admin site</a>, I tried to create the superuser after connection to the local database.</p>
<div><div><pre><code><span>python</span> <span>manage</span><span>.</span><span>py</span> <span>createsuperuser</span>
</code></pre></div></div>

<p>
When I passed a password similar to the username it failed saying, <code>The password is too similar to the username.</code></p>
<p><img data-src="https://i.ibb.co/94D2x9G/Screenshot-2020-09-19-at-1-32-17-AM.png" alt="The password is too similar to the username" title="The password is too similar to the username" src="https://i.ibb.co/94D2x9G/Screenshot-2020-09-19-at-1-32-17-AM.png">
</p><p>
This error triggered me to check the working behind this password validation feature.</p><p>
The first thing that I looked into was the <code>manage.py</code> file itself which in turn was importing and executing a method called, <code>execute_from_command_line</code>.</p><p>
I traced it back and found a package <code>commands</code> containing everything that I wanted to know. This directory had two files.</p>
<div><div><pre><code><span>1.</span> <span>createsuperuser</span><span>.</span><span>py</span>
<span>2.</span> <span>changepassword</span><span>.</span><span>py</span>
</code></pre></div></div>
<h2 id="the-changepassword-command">The changepassword command</h2><p>
Since I had never used/ heard about the <code>changepassword</code> command, I thought of trying it first and to my great pleasure, it worked. You have to pass the username as the first argument.</p>
<div><div><pre><code><span>python</span> <span>manage</span><span>.</span><span>py</span> <span>changepassword</span> <span>username</span>
</code></pre></div></div>
<p><img data-src="https://i.ibb.co/YRfMkYW/Screenshot-2020-09-19-at-3-10-09-AM.png" alt="python manage.py changepassword" title="python manage.py changepassword" src="https://i.ibb.co/YRfMkYW/Screenshot-2020-09-19-at-3-10-09-AM.png">
</p><p>
Sometimes you find gold when you read the code, right? √∞≈∏ÀúÔøΩ</p><p>
Now let√¢‚Ç¨‚Ñ¢s get back to the business and look into the <code>createsuperuser</code> command class in more detail.</p>
<h2 id="fetching-the-correct-database">Fetching the correct database</h2><p>
If you have been using Django for some time, you would know that Django allows you to change a lot of things depending upon the settings you define.</p><p>
This also includes using some random model as your base User model. This is the first thing that the superuser creation <code>__init__</code> constructor method checks for.</p>
<h2 id="creating-the-superuser-without-interaction">Creating the superuser without interaction</h2><p>
You can use a version of the command that allows you to create the superuser without any interaction.</p>
<div><div><pre><code><span>python</span> <span>manage</span><span>.</span><span>py</span> <span>createsuperuser</span> <span>--</span><span>username</span> <span>ranvir</span> <span>--</span><span>email</span> <span>abc</span><span>@</span><span>abc</span><span>.</span><span>com</span> <span>--</span><span>no</span><span>-</span><span>input</span>
</code></pre></div></div>
<p><img data-src="https://i.ibb.co/LJtHHq5/Screenshot-2020-09-19-at-3-17-49-AM.png" alt="python manage.py createsuperuser no-input" title="python manage.py createsuperuser no-input" src="https://i.ibb.co/LJtHHq5/Screenshot-2020-09-19-at-3-17-49-AM.png">
</p><p>
Although the user created using this process will have no password. We can create the password either using the <code>changepassword</code> command or the admin panel.</p>
<h2 id="required-fields-and-interactive-mode">Required fields and interactive mode</h2><p>
For the default <code>User</code> model, <code>email</code> is the only required field but you can change that by changing your <code>REQUIRED_FIELD</code> setting as well.</p><p>
In the interactive mode( which is the default mode as well), the first thing that the prompt asks you to fill, is the username.</p><p>

Django tries to smartly suggest the current system username as the default username. (Just Wow)</p>
<p><img data-src="https://i.ibb.co/pr1Z1Qw/Screenshot-2020-09-19-at-2-14-46-AM.png" alt="django suggest the current system username" title="django suggest the current system username" src="https://i.ibb.co/pr1Z1Qw/Screenshot-2020-09-19-at-2-14-46-AM.png">
</p><p>
It won√¢‚Ç¨‚Ñ¢t suggest the system username if it is already taken. (That√¢‚Ç¨‚Ñ¢s AI for me √∞≈∏Àú‚Äö)</p>
<p><img data-src="https://i.ibb.co/r3YxbKL/Screenshot-2020-09-19-at-2-15-41-AM.png" alt="django doens't suggest the current system username if already taken" title="django doens't suggest the current system username if already taken" src="https://i.ibb.co/r3YxbKL/Screenshot-2020-09-19-at-2-15-41-AM.png">
</p><p>
After the username, you have to fill in the required field which is the email field for the default User model.</p><p>
Finally, you have to fill in the password field.</p>
<h2 id="the-validate-password-method">The validate password method</h2><p>
Sorry for keeping you waiting this long before jumping onto the real reason behind the post.</p><p>
The <code>validatepassword</code> is the function that is used to validate the password provided by the user.</p><p>
Again, we can configure all these validators as well, if these different password validation doesn√¢‚Ç¨‚Ñ¢t work for you, go forward and remove the classes from your settings file.</p><p>
These are the default validators.</p>
<div><div><pre><code><span>AUTH_PASSWORD_VALIDATORS</span> <span>=</span> <span>[</span>
    <span>{</span>
        <span>'NAME'</span><span>:</span> <span>'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'</span><span>,</span>
    <span>},</span>
    <span>{</span>
        <span>'NAME'</span><span>:</span> <span>'django.contrib.auth.password_validation.MinimumLengthValidator'</span><span>,</span>
    <span>},</span>
    <span>{</span>
        <span>'NAME'</span><span>:</span> <span>'django.contrib.auth.password_validation.CommonPasswordValidator'</span><span>,</span>
    <span>},</span>
    <span>{</span>
        <span>'NAME'</span><span>:</span> <span>'django.contrib.auth.password_validation.NumericPasswordValidator'</span><span>,</span>
    <span>},</span>
<span>]</span>
</code></pre></div></div><p>
If we use the default validators, then the password,</p>
<ol>
<li>Should not be similar to <code>username</code>, <code>first_name</code>, <code>last_name</code> and <code>email</code>. It also checks for the similarity using <a href="https://docs.python.org/2.4/lib/sequence-matcher.html">SequenceMatcher</a>. It should be less than 0.7 similar which you can customize. (Told you, it√¢‚Ç¨‚Ñ¢s AI)</li>
<li>Should be greater than 8 characters.</li>
<li>Should not be in the list of common passwords. The list of common passwords is in the file, <code>common-passwords.txt.gz</code>. It contains a list of around 20000 common passwords which you should not use.</li>
<li>Should not contain all numeric characters.</li>
</ol><p>
I would suggest keeping the basic configuration intact for the password handling. You can use your own validations on top of it as well.</p><p>
So, that√¢‚Ç¨‚Ñ¢s it for this time. Till next time.</p>
</div></div>]]>
            </description>
            <link>https://ranvir.xyz/blog/how-does-django-validate-passwords/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529740</guid>
            <pubDate>Sat, 19 Sep 2020 19:11:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Model Y vs. VW ID.4 comparison (ext dimensions, range, specs)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529692">thread link</a>) | @iqtidar
<br/>
September 19, 2020 | https://www.teslaoracle.com/2020/09/19/volkswagen-compares-id4-tesla-model-y/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2020/09/19/volkswagen-compares-id4-tesla-model-y/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
			<figure>
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>In a recently leaked internal drawing from Volkswagen AG, the German automaker is seen comparing its upcoming ID.4 compact electric SUV to the Tesla Model Y.</p>



<p>Translating a word on the drawing revealed that this is a hand-drawn sketch of both cars probably by a Volkswagen car designer. The sketch mostly outlines the comparison of the exterior dimensions between both EVs.</p>



<figure data-amp-lightbox="true"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1024x517.jpg" alt="Exterior, interior dimensions, and vital specs  of the VW ID.4 and Tesla Model Y compared by Volkswagen (illustration and numbers)." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1024x517.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-300x151.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-768x388.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1536x775.jpg 1536w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1200x606.jpg 1200w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1.jpg 1817w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="517" data-amp-lightbox="" lightbox="" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1024x517.jpg" alt="Exterior, interior dimensions, and vital specs  of the VW ID.4 and Tesla Model Y compared by Volkswagen (illustration and numbers)." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1024x517.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-300x151.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-768x388.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1536x775.jpg 1536w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1-1200x606.jpg 1200w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Y-VW-ID4-Comparison-1.jpg 1817w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="517" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzUxNycgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img><figcaption>Exterior, interior dimensions, and vital specs of the VW ID.4 and Tesla Model Y compared by Volkswagen (illustration and numbers). Credits: <a href="https://www.reddit.com/r/electricvehicles/comments/it61y9/vw_group_directly_comperes_the_id4_with_tesla/" target="_blank" rel="noreferrer noopener nofollow">u/fxkingrich</a> via r/electricvehicles.</figcaption></figure>



<p>For the ease of understanding the comparison, I took the numbers mentioned on the above sketch sheet and put it in the following table. I also converted millimeters to inches for readers acquainted with the imperial unit system.</p>



<h2>Table: Tesla Model Y vs. VW ID.4 Dimensions and Specs Comparison</h2>



<figure><table><tbody><tr><th scope="col">&nbsp;</th><th scope="col">VW ID.4</th><th scope="col">Tesla Model Y</th><th scope="col">Difference</th></tr><tr><th scope="row">Length</th><td>4,584 mm (180.4 in)</td><td>4,751 mm (187 in)</td><td>-167 mm (-6.6 in)</td></tr><tr><th scope="row">Wheelbase</th><td>2,766 mm (109 in)</td><td>2,875 mm (113 in)</td><td>-109 mm (-4 in)</td></tr><tr><th scope="row">Turning Circle</th><td>10.2 m</td><td>12.1 m</td><td>+1.9 m</td></tr><tr><th scope="row">Battery Pack</th><td>78 kWh</td><td>78.3 kWh</td><td>Similar</td></tr><tr><th scope="row">Range (WLTP)</th><td>522 km</td><td>~505 km</td><td>Almost similar</td></tr><tr><th scope="row">Peak Charging Rate</th><td>125 kW</td><td>250 kW</td><td>-125 kW (50% slower)</td></tr><tr><th scope="row">Acceleration (0-100 km/h)</th><td>8.5s</td><td>5.1s</td><td>-3.4s</td></tr><tr><th scope="row">Price (Euros)</th><td>44,500 (RWD)<br>49,000 (AWD)</td><td>&nbsp;~54,000 (RWD)*<br>58,620 (AWD)</td><td>-10,000<br>-9,000</td></tr></tbody></table><figcaption>*It‚Äôs Volkswagen‚Äôs estimated price for the RWD variant of the Tesla Model Y which is still not in production. Data Source: Manufacturer Specs.</figcaption></figure>



<div><figure><a href="https://evannex.com/pages/tesla-model-y-accessories/?ref=Iqtidar_TeslaOracle_ModelY_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/06/Tesla-Model-Y-Accessories_small.jpg" alt="" width="508" height="360" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/06/Tesla-Model-Y-Accessories_small.jpg" alt="" width="508" height="360" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM2MCcgd2lkdGg9JzUwOCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<h3>Price Comparison</h3>



<p>The most interesting bit from this comparison is the price point at which Volkswagen is able to offer a comparable range electric SUV against the <a href="https://www.teslaoracle.com/topic/model-y/">Tesla Model Y</a>. A difference of around ‚Ç¨10k is a huge plus point for the VW ID.4 at the moment.</p>



<p>The price of the Model Y will certainly go down once <a href="https://www.teslaoracle.com/tag/giga-berlin/">Giga Berlin</a> is up and running with Model Y production next year. The plant will save the time and cost of shipping all the way from the United States and result in a possibly significant price decrease.</p>



<figure data-amp-lightbox="true" data-amp-noloading="false"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-1024x576.jpg" alt="Tesla Model Y in Metallic Blue color (rear view)." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-1024x576.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-768x432.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="576" data-amp-lightbox="" lightbox="" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-1024x576.jpg" alt="Tesla Model Y in Metallic Blue color (rear view)." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-1024x576.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic-768x432.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/Tesla-Model-Blue-Metallic.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="576" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU3Nicgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img><figcaption>Tesla Model Y in Metallic Blue color (rear view). Source: Tesla Inc. (TSLA)</figcaption></figure>



<h3>Charging &amp; Charging Infrastructure</h3>



<p>But VW ID.4‚Äôs peak charging rate or at the speed that it can be charged is lacking at least 1 generation behind the Tesla Model Y‚Äôs.</p>



<p>Tesla‚Äôs older V2 Superchargers are able to charge Teslas at 120 to 145 kW. With the latest V3 stations, Teslas are able to charge at 250 kW peak rate which translates to around <a href="https://www.xautoworld.com/tesla/model3-v3-supercharging-time/" target="_blank" rel="noreferrer noopener">1000 miles or 1600 kilometers of range added to the battery pack in 1 hour</a> of charging.</p>



<p>Tesla Model Y has another advantage as the automaker‚Äôs dedicated Supercharger Network is already abundant in Europe, North American, and the main Chinese cities. </p>



<p><a href="https://www.teslaoracle.com/tag/volkswagen/">Volkswagen</a>, besides partnering with 3rd-party EV charging providers will have to build its own infrastructure as well to compete with Tesla ‚Äî because electric car drivers need peace of mind when they need electrons for the battery.</p>



<figure data-amp-lightbox="true"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative.jpg" alt="Heading for emission-free mobility - the ID.4 (infographic)." width="700" height="393" srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative-768x432.jpg 768w" sizes="(max-width: 700px) 100vw, 700px" data-amp-lightbox="" lightbox="" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative.jpg" alt="Heading for emission-free mobility - the ID.4 (infographic)." width="700" height="393" srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Green-Mobility-Initiative-768x432.jpg 768w" sizes="(max-width: 700px) 100vw, 700px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM5Mycgd2lkdGg9JzcwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Heading for emission-free mobility ‚Äì the ID.4 (infographic). Credits: Volkswagen AG.</figcaption></figure>



<h3>Verdict</h3>



<p>The good news in all of this is VW is taking electric mobility seriously now and recently, <a href="https://www.teslaoracle.com/2020/09/08/elon-musk-test-drove-the-vw-id-3-germany/">Volkswagen Chairman Herbert Diess invited Elon Musk for a test drive on the company‚Äôs ID.3</a> hatchback EV.  Elon Musk said, ‚ÄúI think for a non-sporty car it‚Äôs pretty good‚Äù. </p>



<p>Looks like Tesla and Elon Musk are well prepared for this type of competition in the compact SUV / Crossover segment, therefore the Gigafactory Berlin is taking shape so fast. If Tesla is also able to source Model Y parts from local suppliers at competitive prices <a href="https://www.teslaoracle.com/2020/09/14/tesla-450k-heat-pumps-china-mdoel-3-model-y/">like China</a>, the Model Y price might be further reduced to give thought time to the VW ID.4.</p>



<p>Volkswagen‚Äôs electric mobility division is moving fast as last week they handed over ID.3 to its first owner and the ID.4 production as seen in the following picture has already started at the automaker‚Äôs Zwickau manufacturing plant. </p>



<figure data-amp-lightbox="true"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-1024x576.jpg" alt="VW ID.4 electric SUV at the German automaker's Zwickau manufacturing facility." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-1024x576.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-768x432.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="576" data-amp-lightbox="" lightbox="" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-1024x576.jpg" alt="VW ID.4 electric SUV at the German automaker's Zwickau manufacturing facility." srcset="https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-1024x576.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-300x169.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant-768x432.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/09/VW-ID4-Zwickau-Plant.jpg 1200w" sizes="(max-width: 1024px) 100vw, 1024px" width="1024" height="576" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzU3Nicgd2lkdGg9JzEwMjQnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img><figcaption>VW ID.4 electric SUV at the German automaker‚Äôs Zwickau manufacturing facility. Credits: Volkswagen AG.</figcaption></figure>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<p>As Tesla is willing to ramp the Tesla Model Y production at the Gigafactory Berlin to 500,000 units/year in the coming years. Volkswagen is also aiming for the same number of ID.4 vehicles produced and sold till 2025.</p>



<blockquote><p>Volkswagen wants to become the world market leader in e-mobility ‚Äì but that won‚Äôt happen by itself. The Volkswagen brand is therefore investing around 11 billion euros by 2024. As a compact SUV, the ID.4 has, in our view, the best prerequisites for being successful in a large scale in all important markets. We, therefore, expect the Volkswagen brand to produce a total of 1.5 million e-cars per year by 2025. And the ID.4 is likely to account for around a third of this. The ID.4 will thus become the driving force behind our reorientation a hundred thousand times over.</p><cite>Volkswagen CEO Ralf Brandst√§tter via a company <a href="https://www.volkswagen-newsroom.com/en/stories/the-id4-to-become-an-electrically-powered-world-car-6423" target="_blank" rel="noreferrer noopener">press-release</a>.</cite></blockquote>



<p>On the other end, Tesla CEO <a href="https://www.teslaoracle.com/2020/09/03/model-y-gigafactory-berlin-radical-technology-shif-elon-musk/">Elon Musk on his visit to Germany said that Model Y production at Giga Berlin</a> will mark a radical shift in how cars are made. Part of this is revealed that Tesla plans to install <a href="https://www.teslaoracle.com/2020/09/11/tesla-fremont-factory-drone-video-shows-the-model-y-gigacast-machines-roadrunner-magic-cube/">giant casting machines at the German Gigafactory</a> that will accelerate the production process manyfold.</p>



<p>The competition between these two automotive giants in the electric vehicle universe will be interesting to see in the near future.</p>



<p>Follow us on <a href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank" rel="noreferrer noopener">Google News</a> | <a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a> | <a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a> to stay tuned with the news and updates.</p>



<h4>Related:</h4>



		</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2020/09/19/volkswagen-compares-id4-tesla-model-y/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529692</guid>
            <pubDate>Sat, 19 Sep 2020 19:03:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pachyderm vs. Airflow]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529683">thread link</a>) | @ishcheklein
<br/>
September 19, 2020 | https://szeitlin.github.io/posts/engineering/pachyderm-vs-airflow/ | <a href="https://web.archive.org/web/*/https://szeitlin.github.io/posts/engineering/pachyderm-vs-airflow/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        

<p>If you do a lot of data pipelining, you‚Äôve probably heard a lot about Airflow by now. I gave a talk
about it a while back at a meetup, and wrote a blog post about it. The gist of my pitch for Airflow
was essentially <em>‚ÄúLook, it‚Äôs so much better than cron.‚Äù</em></p>

<p>Fast-forward a year or two, and my team is using Pachyderm now. This post is about why I wanted to try Pachyderm,
what I love about it, some things that can be improved about it, and some of the tricks you‚Äôll need to know if you want to start using it.</p>

<p><em>Note: I am not in any way being paid by Pachyderm.</em></p>

<hr>



<ul>
<li><p>Designed for a machine learning model workflow, but can also handle regular data pipelining
(including cron-style scheduling). This is incredibly reassuring to me, because Airflow is kind of the other way around.</p></li>

<li><p>Scalability (parallelization support). I haven‚Äôt done much with this yet, but it‚Äôs also reassuring to know it‚Äôs there,
since we‚Äôre a rapidly growing company, and I‚Äôm sure our data needs are going to continue to expand.</p></li>

<li><p>Data and code provenance tracking are built-in.</p></li>
</ul>

<p><em>What that means:</em> It‚Äôs easy to figure out what version
 of your code was running at any given time, and on what data. This is critical if you‚Äôre iterating on
 code for ETL processes or models, or tracking a model that‚Äôs going to evolve over time based on what data it has seen.</p>

<ul>
<li>The egress feature and built-in feed-forward are amazingly elegant.<br></li>
</ul>

<p>Feed-forward (I don‚Äôt know what they call it, that‚Äôs just what I call it) means
you can have one pipeline read from the output of another, and trigger off of that directly.</p>

<p>In Airflow, for comparison, you had to configure this with messaging and it was kind of clunky
(and originally there was no push, only pull, so you were always polling for <em>is that thing done yet?</em>).</p>

<p>In Pachyderm, it‚Äôs an extremely simple configuration.</p>

<p>Egress means you don‚Äôt have to write a plugin to do something as basic as push your data to s3. Pachyderm already
knows how to do that for you (see below for an example of how this is specified in a pipeline).</p>

<p>There‚Äôs also an easy way to tell it to re-process as much data as you want (*except for cron inputs, but they‚Äôre
going to fix that).</p>

<ul>
<li>Not having to clean up the fallout from runaway backfills</li>
</ul>

<p>Runaway backfill in Airflow made our server fall down more than once whenever anybody
forgot to update the start date or name of their DAG. This was a built-in default setting that we couldn‚Äôt change,
where Airflow would try to backfill any missing data to the beginning of time
(1970, of course), and celery would get overloaded.</p>

<p>We tried numerous approaches to make it impossible to do this
by accident, including having tests for checking that the start_date for a revised DAG
was always after the date of the latest changes.</p>

<p>It was the bane of my Airflow existence. Clearing the celery cache
and getting it to restart, and then backfill what we <em>actually</em> wanted was always a time-consuming process, including
kicking the web server again and getting everything back online.</p>

<ul>
<li>Smart re-tries by default (and this is configurable).</li>
</ul>

<p>Having retries at all was a big advantage of Airflow over basic cron, especially since it‚Äôs modular, so you can
have different re-try settings for each step of an ETL pipeline.</p>

<p>Having said that, this was a also kind of a pain to deal with in Airflow, because
if somebody set a ridiculous number of retries, or a backfill job was failing,
it could easily become a blocker for unrelated pipelines just by
gunking up the celery queue with tons of re-tries for something that was
 already failing (see above re: runaway backfill).</p>

<p>With Airflow, we were always having to guess about how many
retries to do, and how much back-off to add in between tries.</p>

<p>Pachyderm‚Äôs defaults for this are completely reasonable
(3 retries, with increasing delay in between each try).</p>

<p>If you get the enterprise version (which is cheap for an enterprise product):</p>

<ul>
<li><p>It‚Äôs more secure than Airflow, with built-in encryption (There‚Äôs also no risk of exposing
passwords by printing all the logs to a webpage that anyone can see, the way Airflow did by default.)</p></li>

<li><p>Really responsive and smart team, and a growing community of users</p></li>

<li><p>Nice dashboard to go with the CLI tool</p></li>

<li><p>Finally, if you don‚Äôt like writing DAGs in Airflow, and are considering one of the myriad (!) new tools
to simplify that for you, this is even simpler than that. (And in my opinion, makes a lot more sense.)</p></li>
</ul>

<p>And here‚Äôs an example of a full ETL process with 3 pipeline steps:</p>

<p><strong>1. Get the data from an api</strong></p>

<pre><code>{
    "pipeline": {
       "name": "api_to_s3_pipeline"
    },

    "transform": {
       "cmd": ["python3", "get_requests.py"],
       "image": "pathto.ecr.region.aws.com/mydockerregistry:my_api_image_v1",
       "image_pull_secrets": ["regcred"]
    },
    "input":{
        "cron": {
            "name": "api_daily_job",
            "spec": "16 6 * * *",
            "repo": "api_to_s3"
         }
    },
    "egress": {"URL": "s3://mys3bucket/"},
    "enable_stats": true,
    "job_timeout": 10m
}
</code></pre>

<p><strong>2. Process the data with pyspark on kubernetes</strong></p>

<pre><code>{
    "pipeline": {
       "name": "pyspark_pipeline"
    },

    "transform": {
       "cmd": ["python3", "pyspark_processsing.py"],
       "image": "pathto.ecr.region.aws.com/mydockerregistry:my_pyspark_image_v1",
       "image_pull_secrets": ["regcred"]
    },
    "input":{
        "atom": {
            "name": "pyspark_daily_job",
            "repo": "pyspark_daily_job",
            "glob: "/*/*/*/"
         }
    },
    "egress": {"URL": "s3://my-pyspark-bucket/"},
    "enable_stats": true,
    "job_timeout": 120m
}
</code></pre>

<p><strong>3. Load the data to Redshift</strong></p>

<pre><code>{
    "pipeline": {
       "name": "load_to_redshift_pipeline"
    },

    "transform": {
       "cmd": ["python3", "load_to_redshift.py"],
       "image": "pathto.ecr.region.aws.com/mydockerregistry:my_psycopg2_image_v1",
       "image_pull_secrets": ["regcred"]
    },
    "input":{
        "atom": {
            "name": "daily_load_job",
            "repo": "daily_load_job",
            "glob: "daily_*.gz"
         }
    },
    "enable_stats": true,
    "job_timeout": 125m
}
</code></pre>

<p>Also, they just got Series A funding, so they‚Äôre going to be around for a while.</p>

<hr>



<p>This was my first time using kubernetes, never mind suddenly being in charge of it (!).</p>

<p>Fair warning: Minikube is deceptively easy to set up and use for very basic testing. If this is all you do with
kubernetes, you‚Äôll think Kubernetes very simple.</p>

<p>Kubernetes itself
isn‚Äôt that hard to deploy if you know what needs to be configured, but I really didn‚Äôt
know any of that when I started. I ran into some weird issues where the kubernetes control script
<code>kubectl</code> didn‚Äôt set the permissions correctly on some of the config files. (Shoutout to Sean Jezewski for helping me
troubleshoot unintuitive stuff like that.)</p>

<p>In case you‚Äôre wondering, as did almost everyone I spoke to while I was doing this,
EKS on AWS is not really ready for prime-time yet.</p>

<p>I ended up relying on a script that the Pachyderm guys wrote to deploy Kubernetes
directly on EC2, and just adapted that for our needs.</p>

<p>Things that are great about deploying in the cloud:</p>

<ul>
<li><p>Encapsulation is your friend. It‚Äôs so much easier when you have complete control of the environment, and there‚Äôs no mystery
about what packages are available or what the paths are.</p></li>

<li><p>Scaling becomes relatively easy. Just split your data and run more jobs in parallel.</p></li>
</ul>

<p>Things to remember about deploying in the cloud:</p>

<ul>
<li><p>Logging is your friend. You won‚Äôt be able to debug with print statements on a remote, headless machine. Some of my
teammates didn‚Äôt quite understand this until they actually did it. Good logging makes it trivially easy to figure out what went wrong.</p></li>

<li><p>Versioning is your friend. Kubernetes won‚Äôt pull the container unless it knows it needs to, so you have to keep renaming your container
if you want to test changes. It‚Äôs kind of a pain, but it‚Äôs simple enough to
just make it part of the workflow (and our next step is to have Jenkins do this for us as part of our
CICD workflow).</p></li>

<li><p>Having to rebuild the container and version it and push it up each time does a couple of things:</p></li>
</ul>

<p>a) Testing is even more important. It‚Äôs a lot nicer if you can do enough testing that after a few bug fixes you‚Äôre on version 4, rather than
(as one of my early pipelines is) version 16.</p>

<p>b) It can be a little bit more annoying to push bug fixes/updates (especially without a CICD system
to build and deploy the containers for you)</p>

<hr>



<ul>
<li>People steered us away from EKS, so then setting up our own kubernetes cluster without a
devops person (!) was challenging, mostly because of</li>

<li><p>AWS permissions issues, including but not limited to:</p>

<p>a) giving the cluster the ability to run queries on the RDS database in the same account</p>

<p>b) creating a separate VPC for Redshift so I could create a peering connection for that (see separate post)</p>

<p>c) giving the cluster the ability to access s3 buckets</p>

<p>d) giving my team access to the docker registries on ECS</p>

<p>e) stupid things like legacy s3 bucket region restrictions that are (or should be?)
going away any minute now(?), but EC2 still cares about, which generate completely
uninformative AccessDenied errors</p></li>

<li><p>Figuring out the workflow for deploying and debugging. This was a little weird at first, but once I got the hang of it,
actually very easy (more on that below)</p></li>

<li><p>Setting up a docker registry and using that (and we don‚Äôt have Jenkins handling that for us yet)</p></li>

<li><p>Managing two clusters on two separate accounts, and switching between them (learning in hard mode is not
always twice as fun as just learning!)</p></li>

<li><p>There is a built-in outlet to connect Pachyderm up with Prometheus, but no built-in monitoring means we‚Äôre doing it downstream
(i.e with automated email alerts sent from Looker if something fails) or manually checking via the
CLI or dashboard view. I have been using the CLI thus far, but now that we have more than a few pipelines
going on one cluster, the dashboard is starting to make more sense.</p></li>

<li><p>Understanding how the ‚Ä¶</p></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://szeitlin.github.io/posts/engineering/pachyderm-vs-airflow/">https://szeitlin.github.io/posts/engineering/pachyderm-vs-airflow/</a></em></p>]]>
            </description>
            <link>https://szeitlin.github.io/posts/engineering/pachyderm-vs-airflow/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529683</guid>
            <pubDate>Sat, 19 Sep 2020 19:02:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On fast navigation in the command line]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529677">thread link</a>) | @kkoncevicius
<br/>
September 19, 2020 | http://karolis.koncevicius.lt/posts/fast_navigation_in_terminal_coming_full_cirlce/ | <a href="https://web.archive.org/web/*/http://karolis.koncevicius.lt/posts/fast_navigation_in_terminal_coming_full_cirlce/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">




<p>A small list of methods for fast file system navigation from the command line.
While I tried all of them and finally settled on a minimal approach described at the end, the article doesn‚Äôt advocate for one method over the others.
Different users have different needs and should choose the approach most suitable in their circumstances.</p>

<h2 id="spring">Spring</h2>

<p>At the beginning, just after learning to use the command line, my terminal navigation included a lot of <code>cd</code> and a lot of <code>ls</code>.
I jumped around folders, learned shortcuts like, <code>cd ~</code>, <code>cd -</code>, and started becoming familiar with the shell.
Having multi-argument commands for quick file manipulation felt powerful and fresh, or so I remember.</p>

<p>After going to command line you no longer have to open folders in a graphical window manager, scan their names, use <code>&lt;ctrl + mouse click&gt;</code> to select them, and then drag the mouse to move those selected folders to another place.
You do <code>'mv pattern* place/'</code> instead.
All is nice.</p>

<p>But there was one problem.</p>

<h2 id="summer">Summer</h2>

<p>Along the way I started organizing my folders using a structure like this:</p>

<pre><code>‚îî‚îÄ‚îÄ work
    ‚îú‚îÄ‚îÄ bitbucket
    ‚îÇ   ‚îî‚îÄ‚îÄ user1
    ‚îÇ       ‚îú‚îÄ‚îÄ repo1
    ‚îÇ       ‚îî‚îÄ‚îÄ repo2
    ‚îú‚îÄ‚îÄ github
    ‚îÇ   ‚îú‚îÄ‚îÄ user1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo2
    ‚îÇ   ‚îú‚îÄ‚îÄ user2
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo2
    ‚îÇ   ‚îú‚îÄ‚îÄ user3
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo2
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo3
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo4
    ‚îÇ   ‚îî‚îÄ‚îÄ user4
    ‚îÇ       ‚îî‚îÄ‚îÄ repo1
    ‚îú‚îÄ‚îÄ teaching
    ‚îÇ   ‚îú‚îÄ‚îÄ class1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lecture1
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lecture2
    ‚îÇ   ‚îî‚îÄ‚îÄ class2
    ‚îÇ       ‚îú‚îÄ‚îÄ lecture1
    ‚îÇ       ‚îî‚îÄ‚îÄ lecture2
    ‚îú‚îÄ‚îÄ‚îÄ clients
    ‚îÇ   ‚îú‚îÄ‚îÄ client1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project2
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project3
    ‚îÇ   ‚îú‚îÄ‚îÄ client2
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project1
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project2
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project3
    ‚îÇ   ‚îî‚îÄ‚îÄ client3
    ‚îÇ      ‚îî‚îÄ‚îÄ project1
    ‚îî‚îÄ‚îÄ‚îÄ ...
</code></pre>

<p>I often had to go in and out of various project folders and my <code>cd</code> + <code>ls</code> navigation became tedious.
Reaching a project involved navigating a big tree of directories.
On top of that a lot of directories had similar names which got in the way of tab completion.
This is where I found ‚Äúz‚Äù - a command line utility that tracks your most visited folders based on frequency and recency<a href="#fn:1" id="fnref:1" title="see footnote"><sup>‚ó¶</sup></a>.</p>

<p>‚Äúz‚Äù keeps a database of your most frequently used folders and allows to quickly jump to these folders even if you don‚Äôt remember their full name.
Instead of doing a lot of <code>cd</code> + <code>&lt;tab&gt;</code> all you have to do is type <code>'z proj'</code> and <code>z</code> will take you to your most frequently/recently accessed folder that has <code>proj</code> somewhere in its name.
It takes a short amount of time for ‚Äúz‚Äù to learn about your most visited places but after that it becomes quick and convenient.</p>

<p>But there was one problem.</p>

<h2 id="autumn">Autumn</h2>

<p>‚Äúz‚Äù didn‚Äôt always take me where I wanted to be.
It worked, I would say, around 95% of the time or more.
But those other times it took me to an unrelated directory and distracted from the work at hand forcing to navigate my way back using the old <code>cd</code>.
Moreover, sometimes I moved and renamed various folders which likely contributed to its disorientation.</p>

<p>After this experience I decided that the terminal should be dumb and deterministic without any fuzziness or smart guessing.
And here I found <code>marks</code> - a short and sweet command line script for keeping manual directory bookmarks.<a href="#fn:2" id="fnref:2" title="see footnote"><sup>‚ó¶</sup></a>
It consisted of 4 tiny functions: one for creating a mark, one for removing, one for listing all the marks, and one for jumping to the bookmarked folder:</p>

<pre><code>export MARKPATH=$HOME/.marks

function mark {
  mkdir -p "$MARKPATH"; ln -s "$(pwd)" "$MARKPATH/$1"
}

function unmark {
  rm -i "$MARKPATH/$1"
}

function marks {
  ls -l "$MARKPATH" | sed 's/  / /g' | cut -d' ' -f9- | sed 's/ -/\t-/g' &amp;&amp; echo
}

function jump {
  cd -P "$MARKPATH/$1" 2&gt;/dev/null || echo "No such mark: $1"
}
</code></pre>

<p>As well as a function generating completion suggestions after pressing <code>&lt;tab&gt;</code>:</p>

<pre><code>_completemarks() {
  local curw=${COMP_WORDS[COMP_CWORD]}
  local wordlist=$(find $MARKPATH -type l -printf "%f\n")
    COMPREPLY=($(compgen -W '${wordlist[@]}' -- "$curw"))
    return 0
}

complete -F _completemarks jump unmark
</code></pre>

<p>The workflow of marks is manual but convenient.
You have to go into the directory you want to bookmark and execute the <code>mark</code> command followed by the custom name, like <code>'mark myproject'</code>.
After that you can quickly jump back to this bookmarked folder using <code>'jump myproject'</code> and when the bookmark is no longer relevant you can get rid of it with <code>'unmark myproject'</code>.</p>

<p>With this approach the user is in control.
There is no secret smart behaviour which means no auto-magic and no surprises.
And after moving a project to another place the bookmark can be easily adjusted to point to its new location immediately, without waiting for a hidden automatic process to update its location, frequency, and recency.</p>

<p>But there was one problem.</p>

<h2 id="winter">Winter</h2>

<p>Neither of those <code>jump</code> nor <code>z</code> commands could take me everywhere I needed to go.
So the typical workflow would start with jumping to a project via the <code>jump</code> command but then switching to the old navigation via <code>cd</code> once inside it.
Which meant that for navigating the file system I always had to keep using both: <code>jump</code> and <code>cd</code>.
And having two distinct commands for doing the same thing felt a bit weird.
This is where I learned about the <code>$CDPATH</code><a href="#fn:3" id="fnref:3" title="see footnote"><sup>‚ó¶</sup></a> variable and rolled out my own solution.</p>

<p>All you have to do is add this to your .bashrc:</p>

<pre><code>export CDPATH=.:~/.marks/
</code></pre>

<p>Then, to add a bookmark called <code>@name</code> pointing to a <code>"dir"</code> directory:</p>

<pre><code>ln -sr dir ~/.marks/@name
</code></pre>

<p>To delete a bookmark:</p>

<pre><code>rm ~/.marks/@name
</code></pre>

<p>To jump to its location:</p>

<pre><code>cd @name
</code></pre>

<p>And to list all available bookmarks:</p>

<pre><code>cd @&lt;tab&gt;
</code></pre>

<p>The <code>$CDPATH</code> solution works best when all the bookmarks are started with a special symbol which in my case was <code>@</code>.
This solves a couple of problems.
One, the bookmarked directories, if prefixed with <code>@</code> symbol, will not interfere with directories in the current folder.
Second, all the available bookmarks will be displayed by typing <code>'cd @&lt;tab&gt;'</code>.
And third, all bookmarks are now part of <code>cd</code> and so they gain tab completion for free.
You can even use tab completion for jumping directly to folders nested within bookmarks by doing <code>'cd @bookmark/subfolder/'</code>.</p>

<p>Using this method you no longer have to maintain a short list of custom bookmark functions and their autocompletion in your .bashrc.
And command for ‚Äúchange directory‚Äù can always be done with the same old and familiar <code>cd</code> command, independant of context.</p>

<p>But there was one problem.</p>

<h2 id="springagain">Spring again</h2>

<p>After working with the <code>$CDPATH</code> approach for a while I began noticing something peculiar.
At no point in time did I have a list with a dozen or more bookmarks.
Instead I found myself constantly going to the same 2 or 3 projects, finishing them, removing them from <code>~/.marks/</code> folder, adding new ones, and repeating the cycle again.
Why would someone keep bookmarks for 3 directories?</p>

<p>This time, instead of changing the command, I tried to do something different and changed the folder structure.
My projects moved from the state of being relevant to being archived so why not create an archive directory and organize folders based not on their name or type but on state?
Thus the <code>"zzz"</code> folder was born.
And now my project structure looks something like this:</p>

<pre><code>‚îî‚îÄ‚îÄ work
    ‚îú‚îÄ‚îÄ active_project1
    ‚îú‚îÄ‚îÄ active_project2
    ‚îî‚îÄ‚îÄ zzz
        ‚îú‚îÄ‚îÄ bitbucket
        ‚îÇ   ‚îî‚îÄ‚îÄ user1
        ‚îÇ       ‚îú‚îÄ‚îÄ repo1
        ‚îÇ       ‚îî‚îÄ‚îÄ repo2
        ‚îú‚îÄ‚îÄ github
        ‚îÇ   ‚îú‚îÄ‚îÄ user1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo2
        ‚îÇ   ‚îú‚îÄ‚îÄ user2
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo2
        ‚îÇ   ‚îú‚îÄ‚îÄ user3
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo2
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo3
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ repo4
        ‚îÇ   ‚îî‚îÄ‚îÄ user4
        ‚îÇ       ‚îî‚îÄ‚îÄ repo1
        ‚îú‚îÄ‚îÄ teaching
        ‚îÇ   ‚îú‚îÄ‚îÄ class1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lecture1
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lecture2
        ‚îÇ   ‚îî‚îÄ‚îÄ class2
        ‚îÇ       ‚îú‚îÄ‚îÄ lecture1
        ‚îÇ       ‚îî‚îÄ‚îÄ lecture2
        ‚îú‚îÄ‚îÄ‚îÄ clients
        ‚îÇ   ‚îú‚îÄ‚îÄ client1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project2
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project3
        ‚îÇ   ‚îú‚îÄ‚îÄ client2
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project1
        ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ project2
        ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ project3
        ‚îÇ   ‚îî‚îÄ‚îÄ client3
        ‚îÇ      ‚îî‚îÄ‚îÄ project1
        ‚îî‚îÄ‚îÄ‚îÄ ...
</code></pre>

<p>With this structure the bookmarking systems no longer provide big benefits as most frequent and recent folders are always under ~/work/some_project.
And since at any timepoint only a few of them are visible the tab completion will do its job: <code>'cd ~/w&lt;tab&gt;/s&lt;tab&gt;'</code>.</p>

<p>The name <code>"zzz"</code> might seem strange but is convenient: the letters ‚Äúzzz‚Äù symbolically mark the projects within as being in a ‚Äúsleeping‚Äù state while the 3 ‚Äúz‚Äù letters in a row make sure that this folder is always placed at the very end of your active project list.
A nice folder structure is still maintained in the archive but for the ease of access all active folders are layed flat under the <code>~/work/</code> directory.
When the project is paused or completed it is moved to its place within the <code>"zzz"</code> hierarchy, maintaining the previous structure.
There is one extra benefit - contents of the <code>"work"</code> directory act as a reminder about all the projects that are in progress.
If necessary a to-do list with concrete details might be placed at the same level.</p>

<p>And just like that, like a newbie, I navigate the file system with <code>cd</code> and <code>ls</code> again.</p>






</div>]]>
            </description>
            <link>http://karolis.koncevicius.lt/posts/fast_navigation_in_terminal_coming_full_cirlce/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529677</guid>
            <pubDate>Sat, 19 Sep 2020 19:00:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: The Financial Status Template]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24529631">thread link</a>) | @jrdi
<br/>
September 19, 2020 | https://jordivillar.com/financial-status/ | <a href="https://web.archive.org/web/*/https://jordivillar.com/financial-status/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><h2><a href="https://bit.ly/2Fm374g">The Financial Status Template</a><svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 13V18.5H6.5V8.5H12" stroke="#4A5568"></path> <path d="M10 15L18.5 6.5" stroke="#4A5568"></path> <path d="M14 6.5H18.5V11" stroke="#4A5568"></path></svg></h2><h3>How to stay on top of your personal finances.</h3><p>Staying on top of your <stron>personal finances</stron> can be challenging, tedious, and even discouraging, but for most people this process is a necessary evil. Spending more than you earn is a sure way to bury yourself in debt, and not being careful about precisely where <strong>your money is going</strong> can leave you struggling to pay for the day-to-day necessites.</p><p>During the last year, I have been <strong>tracking my personal finances</strong> on a monthly basis. Nothing too complicated but useful with <strong>insightful visualizations</strong>, allowing you to evaluate your financial status at-a-glance.</p><figure><a href="https://bit.ly/2Fm374g"><img src="https://i.ibb.co/1sRmTpJ/Screenshot-2020-09-19-at-13-43-31.png" alt="The Financial Status Template"></a></figure><p>I share similar personal finances insights in Twitter, you can <a href="https://twitter.com/jrdi">follow me there</a> as I continue to document my journey.</p></div></div></div>]]>
            </description>
            <link>https://jordivillar.com/financial-status/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529631</guid>
            <pubDate>Sat, 19 Sep 2020 18:51:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Python has won among dynamic languages]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529615">thread link</a>) | @arnvald
<br/>
September 19, 2020 | https://www.notonlycode.org/why-python-has-won/ | <a href="https://web.archive.org/web/*/https://www.notonlycode.org/why-python-has-won/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.notonlycode.org/content/images/size/w300/2020/09/python-other-king.png 300w,
                            https://www.notonlycode.org/content/images/size/w600/2020/09/python-other-king.png 600w,
                            https://www.notonlycode.org/content/images/size/w1000/2020/09/python-other-king.png 1000w,
                            https://www.notonlycode.org/content/images/size/w2000/2020/09/python-other-king.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.notonlycode.org/content/images/size/w2000/2020/09/python-other-king.png" alt="Why Python has won among dynamic languages">
            </figure>

            <section>
                <div>
                    <p>Recently I've been reflecting on the (loosely defined) quality and popularity of programing languages. Despite growing appreciation for static typing and compilers (whether in fully-compiled languages like Java or with JIT recently introduced in PHP or Ruby), 2 dynamic, scripting languages pushed their way up in the popularity rankings in the last couple of years. These languages are JavaScript and Python.</p><p>While JavaScript has had a huge advantages of having its interpreter installed on most of computers and of being the only language that could be directly executed in the browser, Python's success on the surface seems more unexpected and less obvious. In this post I'm going to think and try to find out why Python has won against other, similar languages.</p><p>If you can think some other reasons you'd like to share, drop me a message or leave a comment in the discussions linked below. And if you enjoy my content, make sure to check out my YouTube channel where I share career-related advice for programmers.</p><figure><img src="https://www.notonlycode.org/content/images/2020/09/Screenshot-2020-09-17-at-11.38.27-PM.png" alt="Chart showing popularity of programming languages over time according to TIOBE index; Python popularity remains rather steady from 2005 to 2018 and then suddenly grows" srcset="https://www.notonlycode.org/content/images/size/w600/2020/09/Screenshot-2020-09-17-at-11.38.27-PM.png 600w, https://www.notonlycode.org/content/images/2020/09/Screenshot-2020-09-17-at-11.38.27-PM.png 933w" sizes="(min-width: 720px) 720px"><figcaption>TIOBE creates one of the most popular (hard to evaluate quality) rankings of programming languages popularity</figcaption></figure><h2 id="competitors">Competitors</h2><p>In a relatively short period of time, between 1987 and 1995, a few major and influential languages were created. Among them there were a couple of high-level scripting languages that gained a lot of popularity and that remain used and are developed until today:</p><ul><li><strong>Python</strong> was created by Guido van Rossum, a Dutch programmer working at a research institute. Inspired by ABC, created at the institution where van Rossum worked at that time, Python was initially created in late 1980s. Driven by values like explicitness, simplicity and readability, 30 years later Python is among the most popular languages in the world and is heavily used in many areas like machine learning, academia or web development</li><li><strong>PHP</strong> wasn't really meant to be a language, but rather a preprocessor which was supposed to help generating HTML more dynamically. Created in 1994 in Canada, PHP quickly gained popularity as a new, easy way to create websites that can connect to database and dynamically generate content before sending it to the user. It's been 20 years since arguably the most influential version of PHP was released (4.0). Today PHP team aims to release version 8 soon, and the language they develop, despite a lot of competition, continues to power a significant portion of websites and web applications all around the world.</li><li><strong>Perl</strong> might not be so well known by younger readers due to a complicated history over the last 15 years, but once it was a language of hackers and programming enthusiasts. Its development started in 1987, the last major version, Perl 5, &nbsp;was released in 2000, but a new one, Perl 7 (the history of Perl 6 is complicated) is just around the corner. Perl does not have a single purpose like PHP. While it has been used extensively as a backend server language, it's also used for some system tools in utilities in GNU/Linux.</li><li><strong>Ruby</strong> is a creation of Japanese programmer, Yukihiro Matsumoto, who wanted to create a language that would be pleasant to work with. Programmer's happiness, freedom and flexibility are values that drove the development of the language. The project waas started in 1993, and in December 2020, a new major version, Ruby 3, is expected. While Ruby gained worldwide popularity thanks to a web framework, Ruby on Rails, and is often considered a web programming language, it has significant usage in other domains like server tooling and, primarily in Japan, embedded devices</li><li><strong>JavaScript </strong>is kind of a guest in this article, as I can't say that it's clearly less popular than Python, so I will mention it here and there. Created in 1995 in USA it started as a language to be included in Netscape Navigator browser. Its goal was to add more dynamic elements to websites. It later became de facto standard for other browsers, and in early 2010s, with creation of NodeJS, it moved out of the browser to become a general purpose language. While it remains primarily used for the web, we see an increase in number of desktop applications and various utilities created in JavaScript (or one of languages compiling to JS like TypeScript).</li></ul><figure><img src="https://www.notonlycode.org/content/images/2020/09/scripting-creators.jpg" alt="Collage of multiple photos. From the left: Rasmus Lerdorf (creator of PHP), Brendan Eich (creator of JavaScript), Guido van Rossum (creator of Python), Larry Wall (creator of Perl) and Yukihiro Matsumoto (creator of Ruby)" srcset="https://www.notonlycode.org/content/images/size/w600/2020/09/scripting-creators.jpg 600w, https://www.notonlycode.org/content/images/size/w1000/2020/09/scripting-creators.jpg 1000w, https://www.notonlycode.org/content/images/size/w1600/2020/09/scripting-creators.jpg 1600w, https://www.notonlycode.org/content/images/size/w2400/2020/09/scripting-creators.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>From the left: Rasmus Lerdorf (creator of PHP), Brendan Eich (creator of JavaScript), Guido van Rossum (creator of Python), Larry Wall (creator of Perl) and Yukihiro Matsumoto (creator of Ruby)</figcaption></figure><h2 id="what-made-python-1">What made Python #1</h2><h3 id="features">Features?</h3><p>When I think about the languages above, I can't clearly choose the best one in terms of capabilities. While Ruby has been my go to language for many years, I understand why others might prefer basically any other language from the list and they can make very valid arguments to justify their choice. </p><p>Over time all these languages became more and more similar to each other. Don't get me wrong, there are still major differences between them - different philosophies, syntaxes, different legacy issues - in the recent years they all became much closer to each other in terms of features though. So while I am sure that certain features can drive the initial interest and usage of the language (PHP made it simple to generate dynamic websites, Perl's syntax was created with linguistic principles in mind), I don't think that Python won because of having tuples, shorter syntax or enforced indentation. There must be more than that.</p><h3 id="corporate-adoption">Corporate adoption</h3><p>A strong corporate player which adopts some language in its own software and openly declares it can be a huge boost for the language popularity. Even more if the language is created by the company. The success of Java as an enterprise language is owed at least in part to marketing efforts of Sun. C# would never reach its current position if it wasn't created and promoted by Microsoft.</p><p>While Python was created as a hobby project and not a business tool, it got some strong support in 2000s, with Google as the biggest company adopting Python. Neither of the other languages has ever received such a strong support. Even though Facebook was initially written in PHP, today it's hard to see any PHP code among their open source projects (beside Hack, their language built from PHP).</p><p>Corporate support does not guarantee success - Dart created by Google is still actively developed, but never reached popularity of Python or even Go (another Google's language). Therefore it can't be the solely reason explaining Python's popularity over other languages, but it gave Python a big boost in 2010s and the age of data science.</p><figure><img src="https://www.notonlycode.org/content/images/2020/09/python-google-academia.png" alt="logo Google, +, logo of Python, +, academic hat" srcset="https://www.notonlycode.org/content/images/size/w600/2020/09/python-google-academia.png 600w, https://www.notonlycode.org/content/images/2020/09/python-google-academia.png 960w" sizes="(min-width: 720px) 720px"><figcaption>Google and other corporations that adopted Python together with academia boosted language adoption</figcaption></figure><h3 id="academia-and-first-mover-advantage">Academia and first mover advantage</h3><p>I'm pretty sure you know the history of QWERTY - the keyboard layout used by nearly 100% of people using Latin alphabet (with some minor modifications in various countries). QWERTY was not designed for fast typing - quite the opposite, its goal was to prevent people from typing too fast, because that blocked the typing machines, which were very common before invention of modern computers. The old limitations do not apply anymore, yet we still use the same suboptimal layout. Why? Because everyone else uses is. Because almost every keyboard in the world is designed with this layout in mind, and making people switch would require enormous effort.</p><p>It's quite hard to change habit as an individual, and even harder as a large group of individuals with their own opinions. I believe this is one of the reasons behind lasting popularity of some programing languages. Let's take PHP - since early 2000s it's been supported by basically any hosting provider. If you wanted to run applications in Python you had to buy VPS and install the interpreter on your own, or ask the admin to provide it for you. And PHP was already there, so why not to use it instead?</p><p>This might be a bit of a stretch, but I think a similar thing can be said about Python in academia. Yes, technically it wasn't the first language used by academic institutions, but I believe it was the first language that allowed scientists to write high-level code and provided them with large set of functions that allowed scientists to work with complex numbers and equations. While significantly slower than PHP, Python allowed everyone to quickly build prototypes which later could be moved to C or C++ if performance was the problem.</p><p>With the rise of open source and growing number of available libraries, Python became go-to scripting language in academia and while there are other tools that might be more popular (looking at MATLAB for calculations and Java as intro to programming for students), Python's position is very strong, and any language that will try to take its position has to compete against 20+ years of work on libraries and tools written for scientists.</p><!--kg-card-begin: html-->  
  
<!--kg-card-end: html--><h3 id="the-rise-of-the-new">The rise of the new</h3><p>Together with the two reasons above comes timing and the changes happening in software industry. In the last few years the large web frameworks started losing steam. Growing popularity of microservices and function-as-a-service, together with some benefits of using the same language for the client and the API, pushed adoption of JavaScript as the language of the web (there were more reasons for sure). Other languages which were primarily used in the webdev had to either find other niches or accept losing popularity.</p><p>At the same time another area started gaining huge popularity - data science. Such a powerful, new discipline had a chance to open door for new players - in terms of business, technological advancement, and (among many others) programming tools. It also helped Python to establish and strengthen its position as the programming language on the verge of science and engineering.</p><figure><img src="https://www.notonlycode.org/content/images/2020/09/python-ecosystem.png" alt="Collage of logos. Python's popular libraries, from top left: Ansible, NumPy, Tensorflow, pandas, django, Python itself, Flask, PyTorch, SciPy" srcset="https://www.notonlycode.org/content/images/size/w600/2020/09/python-ecosystem.png 600w, https://www.notonlycode.org/content/images/2020/09/python-ecosystem.png 960w" sizes="(min-width: 720px) 720px"><figcaption>Python's popular libraries, from top left: Ansible, NumPy, Tensorflow, pandas, django, Python itself, Flask, PyTorch, SciPy</figcaption></figure><h3 id="1-2-3-python-the-king">1+2+3 = Python the King</h3><p>Let's add these 3 points together. It's some time ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.notonlycode.org/why-python-has-won/">https://www.notonlycode.org/why-python-has-won/</a></em></p>]]>
            </description>
            <link>https://www.notonlycode.org/why-python-has-won/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529615</guid>
            <pubDate>Sat, 19 Sep 2020 18:49:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Epsy Widgets for Epilepsy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529613">thread link</a>) | @epsy-hn
<br/>
September 19, 2020 | https://www.epsyhealth.com/news/epsy-introduces-new-ios14-widgets | <a href="https://web.archive.org/web/*/https://www.epsyhealth.com/news/epsy-introduces-new-ios14-widgets">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>New Epsy App widgets allow users to have their daily medication reminders all in one place. Users can log medications and seizures without having to open the app.</p><div><p>Sep 18 2020 - <a href="https://www.epsyhealth.com/">Epsy Health</a>, the leading digital health platform for the management of epilepsy, today unveiled a new iOS widgets feature for the Epsy App, designed to help users manage their epilepsy easier and improve their health and wellness.&nbsp;&nbsp;<br></p><p>Epsy widgets lets users see, at a glance, their weekly medication progress and upcoming or missed medications: this allows users to continually be on-top of their medication compliance. Users can choose from three different widget sizes, which can be&nbsp; arranged however they like, including on their iPhone home screen. Another key benefit is that Epsy widgets can replace the need to open the app directly, making the process of seizure logging easier and quicker.&nbsp;<br></p><p>The full list of features of the Epsy widgets include:</p><ul role="list"><li>Three widget sizes can be chosen, with the smallest widget size offering a focused view on the next action of the day, and the largest widget size displaying a 7-day medication compliance view;</li><li>The widget dashboard displaying both past and upcoming medications an works in both light and dark mode;;</li><li>Easy one-tap logging of seizures;</li><li>Easy one-tap logging of medications.<br></li></ul><p>Epsy‚Äôs mission to offer a comprehensive and easier approach to managing epilepsy is propelled by a relentless drive for innovation and user-centric design. ‚ÄúD<em>espite the success of digital health services and devices over the last decade, we have not seen a corresponding improvement in digital, mobile technologies for epilepsy, and Epsy is here to change that</em>‚Äù commented Marco Peluso, the Vice President, and co-creator of Epsy. ‚Äú<em>By embracing Apple‚Äôs iOS 14 widgets as early adopters in the iOS ecosystem, Epsy Health is making another step in fulfilling its purpose to introduce exceptional designs and revolutionary features that empower consumers, patients and physicians.</em>‚Äù<br></p><h2><strong>Availability&nbsp;</strong></h2><p>Epsy widgets require iOS 14, or later, and are available on the Epsy App for iOS, in the USA only. The Epsy App is <a href="https://apps.apple.com/app/id1479108189?fbclid=IwAR0lvR6LdOigqEmL2i-s1z7YeZvOE6u8qsZb_eANmIzUKsPDBm6dzQF7-Kk">available for download now here</a><br></p><h2><strong>About Epsy Health</strong></h2><p>Epsy Health is a leading digital health platform for the management of epilepsy that empowers patients, caregivers and healthcare professionals. By combining innovative technologies, user-centric designs and state-of-the-art data analytics, Epsy provides patients and physicians with actionable insights that can help to accelerate the pathway towards better outcomes. You should not rely on Epsy Health apps as a substitute or a replacement for professional medical advice, diagnosis, or treatment. Epsy Health apps should be only used in conjunction with professional medical advice. Epsy Health, Epsy App, Epsy Hub and their respective logos are either registered trademarks or trademarks in the United States and/or other countries. All other trademarks are property of their respective owners. To learn more visit: <a href="https://www.epsyhealth.com/">https://www.epsyhealth.com</a> and follow @epsyhealth</p><p>‚Äç<br></p><h4><strong>Media Contact for inquiries or demos:</strong></h4><p>- Contact name: Alex Meredith</p><p>- Email: <a href="mailto:press@epsyhealth.com">press@epsyhealth.com</a></p><p>- View our full <a href="https://www.epsyhealth.com/press-kit">press kit here</a><br></p></div></div>]]>
            </description>
            <link>https://www.epsyhealth.com/news/epsy-introduces-new-ios14-widgets</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529613</guid>
            <pubDate>Sat, 19 Sep 2020 18:48:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Quit a $500K Job at Amazon to Work for Myself (2019)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24529590">thread link</a>) | @jkchu
<br/>
September 19, 2020 | https://danielvassallo.com/only-intrinsic-motivation-lasts/ | <a href="https://web.archive.org/web/*/https://danielvassallo.com/only-intrinsic-motivation-lasts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-92">
			<!-- .entry-header -->
	<div>
		
<h2>Why I Quit a $500K Job at Amazon to Work for Myself</h2>



<p>Last week I left my cushy job at Amazon after 8 years. Despite getting rewarded repeatedly with promotions, compensation, recognition, and praise, I wasn‚Äôt motivated enough to do another year.</p>



<p>I spent my entire time in AWS building tools for developers. I liked that field so much that I would have been satisfied working in it for the rest of my life.</p>



<p>I joined Amazon as an entry level developer. Within 3.5 years I had been promoted twice to a senior engineer, and I was practically guaranteed another promotion to principal engineer this year if I had stayed. My potential at the company was high, I was told.</p>



<p>My esteem within the company grew along the years and I was regarded an expert and a leader in my field. People looked up to me and respected me.</p>



<p>I made $75K in my first year and that gradually grew to $511K by my last year. I could have made another $1M if I stayed another couple of years.</p>



<p>My work‚Äìlife balance was good too, despite Amazon‚Äôs reputation. I didn‚Äôt need to prove myself anymore, and I could get everything done in 40 hours a week. My team worked from home one day a week, and I rarely opened my laptop at night or weekends.</p>



<p>Also, the people I worked with were exceptional. I had three managers in total, and all were generous people with lots of empathy. I‚Äôm very grateful to everyone I worked with.</p>



<p>Everything was going well and getting better. But despite all this, my motivation to go to work each morning was decreasing‚Äîalmost in an inverse trend to my career and income growth.</p>



<figure><img loading="lazy" width="1024" height="576" src="https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?resize=1024%2C576&amp;ssl=1" alt="Rewards up, motivation down." srcset="https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?resize=1024%2C576&amp;ssl=1 1024w, https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?resize=300%2C169&amp;ssl=1 300w, https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?resize=768%2C432&amp;ssl=1 768w, https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?resize=1100%2C619&amp;ssl=1 1100w, https://i0.wp.com/danielvassallo.com/wp-content/uploads/2019/02/rewards_motivation-2340812862-1549830899929.png?w=1801&amp;ssl=1 1801w" sizes="(max-width: 1024px) 100vw, 1024px" data-recalc-dims="1"><figcaption>Rewards up, motivation down.</figcaption></figure>



<p>It would have been foolish of me to expect my motivation to start increasing if I got yet another promotion, or another compensation bump, or another big project. But there was something else that was trending down with my motivation. It was my freedom.</p>



<h3>The Motivation Decline</h3>



<p>For the first couple of years my motivation was off the charts. I was mostly working with another person on an internal tool, and there was very little scrutiny around it. It was a time where I had a lot of independence in choosing how to work and what to work on‚Äîat least relative to more recent years.  It was just me and the other person improving this thing, talking to users, releasing updates, testing it, and everything else. Whatever we felt was important, we generally got to do. We did the best work we could for its own sake and we were mostly self-directed.</p>



<p>The last couple of years, however, were quite different. I was leading the most important project in the history of my department, with many stakeholders and complex goals. What I could do was always bounded by my ability to convince all the people involved that it was the best way to navigate our goals. </p>



<p>I was always going to be working on somebody else‚Äôs terms at Amazon. The terms were simple in the beginning (keep fixing the thing), but kept getting more complicated as the years passed by (maximize all goals; satisfy all stakeholders). Then there were other restrictions inherent to working in a large organization about how to do the work, what work to do, what goals to set, and what business was worth pursuing. This situation was squeezing me into doing things that I‚Äôd rather not do, and vice versa.</p>



<h3 id="mce_19">Finding New Motivation</h3>



<p>What kind of work would I do if I had to do it forever? Not something that I did until I reached some milestone (an exit), but something that I would consider satisfactory if I continued to do it until I‚Äôm 80. What is out there that I could do that would make me excited waking up every day for the next 45 years that could also earn me enough money to cover my expenses? Is that too unambitious? I don‚Äôt think so. Because there are two types of drivers that get me out of bed in the morning.</p>



<p>One comes from the outside in the form of a carrot or a stick. For instance, I‚Äôm not automatically driven to do my tax returns every April, but I make sure I do because I don‚Äôt want to go to prison. Or I might not want to work on something I dislike, but I do so anyway because I may need to pay the bills, or want to buy a fancy car. These are the extrinsic motivators.</p>



<p>The other comes from within. This is what drives me to do things when there isn‚Äôt a carrot or a stick. Hobbies are one activity driven by this. But what I was looking for was something that I could do for a living that was also driven by this type of motivation: the intrinsic kind.</p>



<p>Back to the question of whether this is too unambitious. See, I realized that extrinsic motivation doesn‚Äôt last. Whenever I got promoted, it felt good for a week, and then it was as over. When I first hit $100K income, I would take a peek at my W2 for a few days admiring the six digits, but then it wore off. When I hit $200K, $300K, $400K, and $500K, it was the same thing. I would be delusional to think that earning $1M, or $10M would suddenly make it different. And I feel the same with every other extrinsic reward or material possession. Getting them feels good for a while, but this wears off quickly.</p>



<p>The things that don‚Äôt wear off are those that I‚Äôve been doing since I was a kid, when nothing was forcing me to do them. Things such as writing code, selling my creations, charting my own path, calling it like I saw it. I know my strengths, and I know what motivates me, so why not do this all the time? I‚Äôm lucky to live in a time where I can do something independently in my area of expertise without requiring large amounts of capital or outside investors. So that‚Äôs what I‚Äôm doing.</p>



<h3>What‚Äôs Next?</h3>



<p>I‚Äôm going all in on independence, and I‚Äôm going to try to make a living with my own bare hands starting from nothing. I don‚Äôt expect to only do things that I like, but it will be on my terms. My target is to cover my family‚Äôs expenses before I run out of savings while doing something that intrinsically motivates me. What more would I ever want to be satisfied with my work?</p>



<p>If you liked this article, check out:</p>



<ul><li><a href="https://danielvassallo.com/from-employee-to-bootstrapper/">How I set myself up financially before I took the plunge</a>.</li><li><a rel="noreferrer noopener" aria-label="And obviously about what I‚Äôll be doing for a living (opens in a new tab)" href="http://danielvassallo.com/#doing" target="_blank">And what I‚Äôm doing now for a living</a>.</li></ul>



<p>Now that I can use Twitter without being subject to Amazon‚Äôs social media policy, you can <a href="https://twitter.com/dvassallo">follow me there</a> as I continue to document my journey.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article></div>]]>
            </description>
            <link>https://danielvassallo.com/only-intrinsic-motivation-lasts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529590</guid>
            <pubDate>Sat, 19 Sep 2020 18:44:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What is relativity, anyway?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529573">thread link</a>) | @frisco
<br/>
September 19, 2020 | https://maxhodak.com/nonfiction/2020/09/18/relativity.html | <a href="https://web.archive.org/web/*/https://maxhodak.com/nonfiction/2020/09/18/relativity.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
  <p>Relativity is one of my favorite topics in physics. Its origins were almost pure <a href="https://en.wikipedia.org/wiki/Einstein's_thought_experiments">logic puzzle science</a>, which in my opinion is one of the most fun and satisfying types of science. Most people have a vague sense of what relativity is ‚Äì the speed of light is finite, and something about time travel? ‚Äì but they don‚Äôt really know what it is, which is too bad because the principles are very simple, and the results are pretty awesome.</p>

<p>There are two halves of relativity as Einstein developed it: special relativity and general relativity.</p>

<p>Special relativity is, at heart, two ideas:</p>
<ul>
  <li>The laws of physics are the same to everyone everywhere, as long as they are using a non-accelerating (‚Äúinertial‚Äù) frame of reference.</li>
  <li>The speed of light in a vacuum is the same regardless of frame of reference.</li>
</ul>

<p>Before Einstein, these two things were widely considered to be paradoxical: how could it be that the speed of light is constant for everyone ‚Äì its velocity is not added to your velocity, if you are moving ‚Äì but also physics doesn‚Äôt depend on your perspective? What Einstein did was take both of these things seriously and realized that when you put them together, you get a space-time connection and lot of other really powerful stuff.</p>

<p>For example, <a href="https://en.wikipedia.org/wiki/Time_dilation">time dilation</a> immediately falls out. Imagine that you are standing on the platform of a train station while a train flies past, and your friend is onboard the train. If your friend puts a mirror on the ceiling of the train car and, lying on the floor, points a flashlight at it, he will see the light reflected back at him having gone up in a straight line and returned in a straight line to the floor. However, from your perspective on the platform, while the light is traveling up and down, it is also traveling sideways. This means the path it travels is <em>longer</em> than the path it appears to travel to your friend. Since the speed of light is constant, and the distance between the floor and the ceiling don‚Äôt change, from your perspective, time must be passing more slowly for your friend than for you. And indeed this is an experimentally tested real effect! (For example, you need to take it into account for GPS to work reliably.) It is important to note that your friend, on the train, never feels anything different: from their perspective, time is passing just fine at the same rate it always does. The effect is entirely about the difference in your perspectives.</p>

<p>The idea that the laws of physics are the same of everyone is sometimes called ‚Äúgeneral covariance‚Äù and is really important for the tractability of a description of physics overall. There isn‚Äôt necessarily a guarantee that it would be true in our universe, but it turns out that it is.</p>

<p>General relativity adds one more idea: when an observer is using an accelerating (‚Äúnon-inertial‚Äù) frame of reference, the laws of physics might appear to be different, and that difference shows up as a gravitational field.</p>

<p>For example, if you are in a car accelerating on the highway and you throw a ball into the air, it will veer towards the back of the car. You know that this is because the car is accelerating - but it is also completely equivalent to model this as a gravitational field coming from the back of a non-accelerating car! In fact, the equivalence principle says that if you were in a windowless box that was either being accelerated by a rope or is in the presence of a gravitational field, there is no measurement you could make that would tell them apart.</p>

<p>The language of physics is math, and so while it‚Äôs easy to get the big ideas that underlie relativity, getting the full depth of the implications requires going to the equations. The math of special relativity is mostly pretty easy ‚Äì you can get surprisingly far with high school level math ‚Äì but general relativity is a completely different beast, and one of the reasons Einstein‚Äôs original GR papers are so challenging is because the math really required to do it well (e.g. differential geometry) didn‚Äôt exist at the time. Einstein had the realization that the universe has no sense of coordinates, just a way of measuring distances between events, which he described as ‚Äúno prior geometry,‚Äù but it took a while for the full mathematical description of what this actually meant to be worked out.</p>

<p>Anyway, relativity is incredibly trippy and fascinating, so if you‚Äôve liked this sneak peek I highly recommend checking out Einstein‚Äôs short 1916 book <a href="https://en.wikipedia.org/wiki/Relativity:_The_Special_and_the_General_Theory">‚ÄúRelativity: The Special and the General Theory‚Äù</a> which is written for laypeople and uses very little math while still walking you through the core of it all with Einstein‚Äôs unique incisive clarity. General relativity is certainly one of the most beautiful things in all of science (possibly <em>the</em> most; quantum field theory is very cool too, though it lacks the intrinsic elegance of GR), and I wish more people had the chance to understand and appreciate it.</p>

</div></div>]]>
            </description>
            <link>https://maxhodak.com/nonfiction/2020/09/18/relativity.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529573</guid>
            <pubDate>Sat, 19 Sep 2020 18:42:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Cruel Deception ‚Äì RAF Pilot Remains Discovered in North Korea]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529345">thread link</a>) | @Hansig_jw
<br/>
September 19, 2020 | https://www.mydiplomaticlife.com/a-cruel-deception-raf-pilots-remains-discovered-in-north-korea/ | <a href="https://web.archive.org/web/*/https://www.mydiplomaticlife.com/a-cruel-deception-raf-pilots-remains-discovered-in-north-korea/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p><strong>A cruel</strong> <strong>deception</strong> ‚Äì <strong>RAF pilot</strong> <strong>remains</strong> discovered in <strong>North Korea</strong> is a story that once I had the full details of the aftermath several years later, quite frankly left me speechless and angry.</p><p>In early 2004, I was contacted at the embassy in Pyongyang by David Hinton, the brother of an RAF pilot who had been shot down in 1952 over North Korea during the Korean war. He said he had been working for several years trying to garner as much information from a variety of primary sources as to the fate of his brother.√Ç&nbsp; He said he now had in his possession most of the details of the shoot down supplied by eyewitness United States Air Force (USAF) pilots and map coordinates of the site of the crash (which he later sent to me).</p><p>He then expressed a wish to be able to visit North Korea and hopefully, finally discover the fate of his brother. Could we help?</p><p>The background was that the pilot, Flt Lt Desmond Hinton, who received the Distinguished Flying Cross in World War II for shooting down two Japanese fighters had bailed out of his burning F84e Thunderjet whilst carrying out a strafing mission north east of Pyongyang on 2 January 1952. At the time, Flt Lt Hinton was one of a number of RAF pilots who were attached to and flying with the USAF. Despite enquiries after the war and with no further information as to his fate forthcoming, Flt Lt Hinton was subsequently officially listed as missing in action.</p><div id="gallery-1"><figure><p><a href="https://www.mydiplomaticlife.com/british-diplomat-works-with-north-korean-military/thumbnail-1/#main"><img width="400" height="311" src="https://i0.wp.com/www.mydiplomaticlife.com/wp-content/uploads/2020/07/thumbnail-1-1.jpg?fit=400%2C311&amp;ssl=1&amp;is-pending-load=1" alt="Flt Lt Hinton North Korea" aria-describedby="gallery-1-980" data-lazy-srcset="https://i0.wp.com/www.mydiplomaticlife.com/wp-content/uploads/2020/07/thumbnail-1-1.jpg?w=400&amp;ssl=1 400w, https://i0.wp.com/www.mydiplomaticlife.com/wp-content/uploads/2020/07/thumbnail-1-1.jpg?resize=300%2C233&amp;ssl=1 300w" data-lazy-sizes="(max-width: 400px) 100vw, 400px" data-lazy-src="https://i0.wp.com/www.mydiplomaticlife.com/wp-content/uploads/2020/07/thumbnail-1-1.jpg?fit=400%2C311&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP/yH5BAEAAAAALAAAAAABAAEAAAIBRAA7 "></a></p><figcaption id="gallery-1-980"> Flt Lt Hinton with USAF colleagues -Photo David Hinton</figcaption></figure></div><p>I knew that this was going to be a tall order to try and carry out. The Korean War itself was and still is a huge propaganda tool for the Kim dynasty. So requesting assistance in finding a hated enemy, albeit a fallen one, was perhaps a request too far.</p><p>But surprisingly, no.</p><p>Permission was granted for me to meet with the North Korean military and at the initial meeting, I provided them with all the research material sent to me by David Hinton and they said they would investigate.</p><p><em><strong>The</strong><strong> process of making this project happen, working with the North Korean military, I have covered in a previous post</strong></em> <a href="https://www.mydiplomaticlife.com/british-diplomat-works-with-north-korean-military/">British Diplomat Works With North Korean Military </a></p><p>Against all expectations, the military did get back to me shortly afterwards with some quite startling news. Based on the information I had given them, they had identified the crash site which was close to a village called Kuso-ri/Gueso-ri situated near to what is currently the main airport for Pyongyang.</p><p>They had spoken with villagers including two elders who had witnessed the shoot down. Flt Lt Hinton had indeed ejected but his parachute failed and he was killed on impact. The villagers had then interred him in an unmarked grave in a field adjacent to the village. An exact location had been identified and human bones and fragments of uniform and aircraft had been uncovered. <em><strong>This scenario is somewhat similar to my previous post</strong> </em><a href="https://www.mydiplomaticlife.com/tragic-raf-pilots-secret-grave-discovered-in-albania/">Tragic RAF Pilot√¢‚Ç¨‚Ñ¢s Secret Grave Discovered In Albania</a></p><p>With this discovery, events moved quickly. A visa for David to enter North Korea was fast tracked and he duly arrived hopeful for some form of final closure. During his visit, he was treated as an honoured guest by the North Koreans and enjoyed the rare distinction of being accompanied throughout his visit by a senior Korean People‚Äôs Army officer, Colonel Kwak Chol-hui, who was at that time Director of Negotiations for Remains at the armistice site at Panmunjom.</p><p>So, on the day appointed to visit the village to view the grave, we arrived early and were met by the Colonel and both witnesses who then led us to the gravesite which was a short distance away.</p><p>The grave consisted simply of a mound of earth surrounded by a white picket fence, without any inscription. It lay close to a narrow footpath on a hillside 200 meters from the road.</p><p>David was introduced at the grave to the two witnesses to Desmond‚Äôs crash, a Mr Ri and Mr Han, local villagers who were only 13-years old at the time of the incident but who still appeared to have perfect recollections of the event. Perhaps a little too perfect and too detailed I thought at the time. But, maybe it was just me being a tad too cynical.</p><p>David then gave a short speech at the grave, thanking Colonel Kwak and the British embassy for making his visit possible, while the head of the village promised to tend the grave and paint the fence regularly.</p><p>We spent about 2 hours in the village and at the gravesite before it was time to leave. We said farewell to the Colonel and the witnesses and set off back to Pyongyang and David left North Korea the next day.</p><p>Upon his return to the UK, he was kind enough to send me copies of the many photographs he had taken that day and which I still have.</p><p>I learnt later that in 2011, a casket containing the bones of Flt Lt Hinton had been passed with great ceremony to the then British ambassador to North Korea for repatriation and presumably for burial at the UN Korean War cemetery in Busan, South Korea.</p><p><strong>And here the story would have finally ended. But no!</strong></p><p>The British Daily Mail ran a story on 17th June 2018 that was a shocker to me. It was revealed that subsequent DNA testing carried out on the bones after the repatriation identified them not as those of Flt Lieutenant Hinton but those of an animal!</p><p>According to the paper, family members were informed but the media was kept in the dark for fear of damaging relations between North Korea and the UK. Don‚Äôt you just love political machinations!</p><p>The paper then went on to quote the source as the memoirs of Mr Thae Yong-Ho, a North Korean diplomat who was Deputy North Korean Ambassador to the UK at the time and who defected to South Korea in 2016.</p><p>It also came as North Korean dictator Kim Jong Un had agreed with US President Donald Trump at their Singapore summit that all remains of US servicemen who died in the Korean War would now be returned.</p><p>Interestingly, the New York Times ran a story on 1st August 2018 detailing how difficult it had been to identify remains of American MIA‚Äôs handed over by the North Koreans to the US as a result of the Agreement with the paper also quoting the Hinton DNA story.</p><p>Mr Thae maintained that the Hinton episode was a case of crass incompetence. He also stated that Britain did protest but North Korean officials countered by saying they lacked the proper equipment to distinguish human from animal bones.</p><p>To this day, I cannot believe how stupid the North Koreans behaved in this matter. They must have known that DNA would be carried out on the bones.√Ç&nbsp; If so, why did they release them?</p><p>A country that has a nuclear programme, the ability to launch missiles and a sophisticated scientific infrastructure coming out with such a lame excuse just didn‚Äôt hold water.</p><p>I might add that at the time of the Hinton project, Mr Thae was well known to the embassy in Pyongyang, both professionally and socially. He was an experienced diplomat at the Ministry of Foreign Affairs where as part of his portfolio, he was in charge of the UK desk, hence the contacts. So, he would have been well aware (and probably involved behind the scenes) in what developed.</p><p>So what should have been a positive North Korean story about the discovery and dignified burial of a fallen RAF pilot and the assistance given to a close relative to enable him to pay his last respects, in the end turned out to be nothing but a cruel and wicked deception.</p><p><em><strong>Sources:</strong></em></p><p>https://www.dailymail.co.uk/news/article-5852503/Remains-RAF-hero-shot-North-Korea-2011-turns-animal-bones.html</p><p>‚ÄúCryptography From the Third-<wbr>Floor Secretariat√¢‚Ç¨ÔøΩ 2018 Thae Yong-Ho</p><div heateor-sss-data-href="https://www.mydiplomaticlife.com/a-cruel-deception-raf-pilots-remains-discovered-in-north-korea/"><p>Spread the love</p><ul><li><a data-pin-lang="en_US" href="https://www.pinterest.com/pin/create/button/?url=https://www.mydiplomaticlife.com/a-cruel-deception-raf-pilots-remains-discovered-in-north-korea/" data-pin-count="false" data-pin-do="buttonPin" data-pin-config="beside"><img src="https://i2.wp.com/assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png?w=845" data-recalc-dims="1" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" data-lazy-src="https://i2.wp.com/assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png?w=845"></a></li></ul></div></div></div>]]>
            </description>
            <link>https://www.mydiplomaticlife.com/a-cruel-deception-raf-pilots-remains-discovered-in-north-korea/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529345</guid>
            <pubDate>Sat, 19 Sep 2020 18:09:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Maker Tech on the Land]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529300">thread link</a>) | @joshka
<br/>
September 19, 2020 | https://tatham.blog/2020/08/22/maker-tech-on-the-land/ | <a href="https://web.archive.org/web/*/https://tatham.blog/2020/08/22/maker-tech-on-the-land/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I live in an inner-city apartment. There‚Äôs a concrete slab, brick walls, and no ceiling cavity access. Oh, and we rent, so drilling into things is frowned upon. The home automation potential in a scenario like this consists of some coloured lights, and watering about four plants on a timer. It‚Äôs not exactly an inspiring IoT site. There‚Äôs also not much wrong with the humble light switch that works instantly, every time.</p>



<p>In complete contrast to this, my parents live on 100 acres / 40 hectares of land, a few hours out of the city. It‚Äôs quintessential rural Australia. They‚Äôre mostly off the grid: there‚Äôs a skerrick of Telstra 4G signal, and some power, except when there isn‚Äôt, which is surprisingly often. This is an absolute IoT playground, and we‚Äôve given that a fair crack over the seven years as they‚Äôve established themselves there.</p>



<h2>Opportunity</h2>



<p>On a property like this, water is critical. There are the basic living requirements, the opportunity of gardens, and the very real risk of bushfires. All up, we have ~300,000 litres of water tanks on the property, and then a small dam and two creeks. We use sensors to track tank volumes. We measure flow rates at key plumbing points (for both instantaneous oversight and tracking cumulative usage). We use power meters to detect when pressure pumps are running.</p>



<p>Energy management is also important. Whilst there is the option of grid connectivity, we try to run as off-grid as possible, or at least export-only. This requires some smarts around load management. For example, instead of just having a hot water system that aggressively chases a specific temperature, we want the hot water systems to head for a temperature range, but only use excess solar production to do it. If there‚Äôs a bit less sun for the day, it‚Äôs ok if the water it a few degrees cooler: don‚Äôt burn down the batteries or import power just to hit a specific temperature.</p>



<p>And then there‚Äôs a safety aspect. The property is on the top of an escarpment where storms can roll in fast from a few different directions. By running things like lightning sensors on the property, we can trigger our own localised alerts for approaching storms.</p>



<h2>Challenges</h2>



<p>The challenge is to convert all these possibilities into something real, that works, and doesn‚Äôt cost an absolute mint. Over the years, we found this incredibly hard to solve for. You‚Äôll find a solution for measuring tank volume, but it comes with its own LoRA gateway, a cloud dependency, and a new app. You‚Äôll find a cheap Z-Wave temperature sensor, but it‚Äôs only really good for a room, and doesn‚Äôt have a probe that you can put into the measurement point in a hot water system. You‚Äôll find a flow meter, but it‚Äôs only an industrial solution that wants to talk RS485 serial. Who even does that anymore‚Åà You‚Äôll find a garage door opener that works for the extra-high roller doors on the shed, but it has its own 433MHz RF remote.</p>



<p>It‚Äôs easy to end up with a horrible mishmash of radio technologies, software platforms, and APIs, not to mention some scary pricing as you drift from the traditional world of home automation into the more dated world of industrial automation.</p>



<h2>Goal</h2>



<p>We want to be able to dream up crazy new ideas, pick and choose the right sensors, and then integrate them with relative ease and consistency. That means a balance between the ability to build new things ourselves, but not having to go and custom fabricate a circuit board and write new firmware just to add a new sensor.</p>



<h2>Considerations</h2>



<h3>Sense</h3>



<p>Most sensors give out some kind of analogue signal (like a pressure sensor where the output voltage varies from 0V to 5V depending on applied pressure), a pulse (like a flow meter that pulses once for every 500mL of water that flows through it), or a digital signal (like a temperate and humidity sensor with a <a href="https://en.wikipedia.org/wiki/1-Wire">1-Wire</a> output).</p>



<p>To handle all of these scenarios, we‚Äôll need some <a href="https://en.wikipedia.org/wiki/GPIO">GPIO pins</a> (the most basic of digital connections), and something with an analogue-to-digital-converter onboard (so that we can measure that variable pressure scenario).</p>



<h3>Affect</h3>



<p>Most of the outputs that we‚Äôre dealing with are straight up binary: turn a pump on, open a valve, flash a light. This means that they can be again driven by some GPIO pins, paired with an appropriately sized relay.</p>



<p>For more complex outputs, like sound, we can defer back to more consumer-grade hardware, like just broadcasting an announcement on the Google Home speaker in the kitchen.</p>



<h3>Plug and Play</h3>



<p>As much as we‚Äôre building things ourselves, we don‚Äôt need to put too many barriers in front of ourselves. We‚Äôre after a module that we can connect sensors to easily, without too much soldering, and certainly not having to build up our own circuit boards / <a href="https://en.wikipedia.org/wiki/Veroboard">Veroboard</a>. We want to be out of the lab and into the environment as fast as possible.</p>



<h3>Secure</h3>



<p>There‚Äôs a persistent joke about how the ‚ÄòS‚Äô in IoT stands for security.</p>



<p>Security was absolutely a consideration for us though: both on-property, and when it comes to remote access. When you‚Äôre switching things like power, or controlling a precious resource like water, you want to be confident that you‚Äôre the only person in control.</p>



<p>Our preference has been to keep connectivity and control local to the property, via authenticated connections, and then apply a separate remote access approach further up the stack. This means the hardware needs to have enough power and smarts to handle secured local connections, and not be dependent on its own path to the internet.</p>



<h3>Compute</h3>



<p>Some sensors require both precise timing and persistence to count things like pulses and turn them into natural measures. For example, a flow meter might give you a signal pulse for very 500mL of water that flows through it. If you miss a pulse and stop counting for a bit, you‚Äôre missing water. Our preference has been to count pulses on the hardware attached to the sensor, and then report back the natural values (L/min, L/day) whenever the network and central compute is available. We want to keep sensor-specific concepts, like pulses, at the sensor, and just send meaningful information over the network.</p>



<p>As much as we want things to be connected, they can still be somewhat smart in their own right. If a hardware module has both a temperature sensor and a relay to turn a heating element on and off, it‚Äôs perfectly capable of being a thermostat on its own, regardless of what‚Äôs happening to the wider network or any centralised compute. It will be <em>smarter</em> when the central controls are online, because it can be aware of other datapoints like the solar charge status, but it doesn‚Äôt have to be totally bound to the availability of those other systems to operate its basic function. Achieving this balance requires us to be able to run basic logic directly on the module.</p>



<p>The world is not static. If we want to run logic on these devices, and keep them secure, they need to be able to receive firmware updates over-the-air. We don‚Äôt want to be clambering around under sheds with laptops to reprogram a thermostat.</p>



<h3>Connect</h3>



<p>Network standards are still the multi-billion-dollar question in IoT.</p>



<p>Early on, we deployed a number of <a href="https://en.wikipedia.org/wiki/Z-Wave">Z-Wave</a> and <a href="https://en.wikipedia.org/wiki/Zigbee">Zigbee</a> based devices. These are two different mesh protocols, at the mid-point of their VHS vs. Betamax battle for dominance. They‚Äôre common in consumer automation solutions like smart switches, and good for extremely low power environments, like where you want to be able to throw a temperature sensor in the corner of a room with a coin-cell battery in it and then forget about it for a year. The sensor ecosystem is very consumer focussed (you‚Äôll find a million temperate sensors, but no tank pressure sensors). The communication protocol is constrained: by design, it‚Äôs a very low bandwidth data network, operating up to 40kbps for Z-Wave, or a whopping 250kbps for Zigbee. Range is limited to keep within the power limits, so typically as low as ~15-20m. There‚Äôs no common way of building on-device logic, and if you do manage to, then it‚Äôs incredibly hard to apply firmware updates over-the-air for either of them.</p>



<p>Our exploration continued into LoRA and NB-IoT, but we‚Äôve opted away from both for this property. They‚Äôd each be very compelling options if we wanted to cover the larger property, such as if it was more of a working farm with distributed infrastructure than predominantly bushland and gardens with clustered buildings.</p>



<p>Ultimately, we settled on Wi-Fi as our preferred connectivity on the property. We‚Äôre already got great coverage throughout the house, cottage, shed, and key outdoor locations via <a href="https://unifi-network.ui.com/">a UniFi deployment</a>. Whilst this is heavily centred on the built infrastructure, and not the full 100 acres of property, that‚Äôs where most of the sense-and-act needs to occur anyway. Investing in the Wi-Fi coverage provides other benefits, like <a href="https://www.telstra.com.au/support/mobiles-devices/telstra-wifi-calling">Wi-Fi calling</a> for mobiles where we‚Äôre otherwise on the fringe of 4G coverage. The UniFi infrastructure is readily extensible, as <a href="https://larsklint.com/updating-farm-wi-fi-with-ubiquiti-unify/">Lars has proven on his property</a> with the deployment of <a href="https://llamacam.com.au/">Llama Cam</a>, and even <a href="https://larsklint.com/farm-wifi-off-the-grid-with-ubiquiti-solar/">extending the coverage to places without power</a>. Finally, it gives us a pretty amazing management plane that‚Äôs a lot nicer to work with than trying to diagnose a Z-Wave/Zigbee mesh.</p>



<figure><img data-attachment-id="1173" data-permalink="https://tatham.blog/uni-fi-infrastructure-topology/" data-orig-file="https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png" data-orig-size="2248,1407" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="uni-fi-infrastructure-topology" data-image-description="" data-medium-file="https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=300" data-large-file="https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=1024" src="https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=1024" alt="Topology diagram of UniFi network showing switches and access points" srcset="https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=1024 1024w, https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=2048 2048w, https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=150 150w, https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=300 300w, https://tatham.files.wordpress.com/2020/08/uni-fi-infrastructure-topology.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>UniFi infrastructure topology</figcaption></figure>



<h3>Power</h3>



<p>We‚Äôre happy to depend on a power source for most devices: they‚Äôre usually located near other loads that are already powered, or it‚Äôs easy enough to get power to them, such as dropping in a 12V cable out to a water tank at the same time as trenching the plumbing in. If we really want to run on battery, it‚Äôll be ok to have a larger 12v battery and a small solar panel or something: we don‚Äôt need to try and run off a coin-cell battery for years on end.</p>



<h3>Cost</h3>



<p>The approach needs to be reasonably affordable if it‚Äôs going to grow over time: tens of dollars to add a new thing, not hundreds.</p>



<p>Sensors themselves range from <a href="https://www.aliexpress.com/wholesale?SearchText=DS18B20+cable">$1 for a temperature probe</a>, to <a href="https://www.aliexpress.com/wholesale?SearchText=as3935">$20 for a lightning sensor</a>,‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tatham.blog/2020/08/22/maker-tech-on-the-land/">https://tatham.blog/2020/08/22/maker-tech-on-the-land/</a></em></p>]]>
            </description>
            <link>https://tatham.blog/2020/08/22/maker-tech-on-the-land/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529300</guid>
            <pubDate>Sat, 19 Sep 2020 18:02:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Discussion of Li-Meng Yan's Paper on SARS-CoV-2]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 6 (<a href="https://news.ycombinator.com/item?id=24529261">thread link</a>) | @akvadrako
<br/>
September 19, 2020 | https://www.randombio.com/ratg132.html | <a href="https://web.archive.org/web/*/https://www.randombio.com/ratg132.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- change font to prevent FauI coming out as Faul -->
<section>

<p>
<span> <img src="https://www.randombio.com/O40gray-gray.png" alt="O" title="O"></span>
n September 14 2020, Li-Meng Yan, a dissident Chinese virologist, along with three
colleagues, posted an article at <a href="https://zenodo.org/record/4028830">zenodo.org</a>
<sup>[1]</sup> claiming to prove that SARS-CoV-2 was artificially created. Twitter 
canceled the author's account two days later and political activists vociferously 
attacked the paper on political grounds. It is clear that many people don't want to 
hear her evidence. But the issue is extremely important. If the virus was produced 
in an experiment and accidentally released, as this paper claims, it means the Wuhan 
Institute of Virology is in dire need of upgrades to their virus-handling procedures 
to prevent it from happening again.
</p><p>
My background is 30 years as a researcher in protein biochemistry using biophysical 
techniques and molecular biology, including design, cloning, and expression of 
recombinant proteins, to study protein function and structure. Here's a brief
summary of the argument put forward in the paper along with my comments.
</p><p>
<i>Update, Sep 20 2020</i>: I've expanded the comments to describe the evidence they
would need to make their case more convincing.
</p><hr><p>
<b>Claim 1:</b> 
   ‚Äú[the sequences of] RaTG13, RmYN02, and several pangolin viruses recently
   published are highly suspicious and likely fraudulent.‚Äù
   ‚ÄúThe RaTG13 virus is excluded from this analysis given the strong evidence 
   suggesting that its sequence may have been fabricated and the virus does not exist 
   in nature.‚Äù
</p><p>
<b>Comment:</b>
   RaTG13 was published by Shi Zhengli at the same time as the SARS-CoV-2 sequence. 
   In 2013 Shi also published a partial gene segment of RaBtCoV/4991, which is identical 
   to RaTG13, but it is incomplete. The authors say that the WIV took this partial
   sequence and fraudulently added the remainder to exculpate themselves, trying
   to make it appear that RaTG13 was a pre-existing virus. 
</p><p>
   Evidence in favor of this claim is that Shi <i>et al.</i> made no mention of 
   RaBtCoV/4991 in their 2020 paper. But unless someone wants to claim that 4991 
   was also fabricated, RaBtCoV/4991 had to come from somewhere, which is to say it is 
   a real virus. So Claim 1 doesn't make sense. 
</p><p>
<b>What is needed:</b>
   To prove this the authors would have to find another virus that is 100% identical 
   with the published partial RaBtCoV/4991 sequence but which differs from RaTG13. 
</p><hr><p>

<b>Claim 2:</b> 
   The WIV could have used transgenic hACE2 transgenic mice to improve the virus's
   ability to bind to its receptor. ‚ÄúThis animal model 
   has been established during the study of SARS-CoV and has been available in the 
   Jackson Laboratory [a commercial supplier of transgenic mice] for many years.‚Äù
   However, hACE2 mice are ‚Äúnot a good model to reflect the virus' transmissibility
   and associated clinical symptoms in humans.‚Äù If they had used golden Syrian
   hamster instead, the authors say, ‚Äúthe highly contagious nature of SARS-CoV-2 
   would be extremely evident‚Äù and they could have released accurate information.
</p><p>
<b>Comment:</b> 
   This is a good point. If true, it would tend to exculpate the Chinese researchers.
   But we already know many techniques they could have used. No one was claiming 
   that making the virus was impossible. 
</p><p>
<b>What is needed:</b> 
   Sending live animals to another country requires tons of paperwork. They would need
   Jax's sales records or government export records (which might be available via a
   FOIA request). 
</p><hr><p>
<b>Claim 3:</b> 
   The paper provides a flow chart for how the virus could have been constructed.
   ‚ÄúTwo restriction sites are present at either end of the RBM [receptor-binding
   motif] of SARS-CoV-2, providing convenience for replacing the RBM within the spike 
   gene.‚Äù
</p><p>
<b>Comment:</b> 
   The spike protein consists of two parts: S1, which binds to the receptor, and S2,
   which fuses the viral and cellular membranes. The point where the subunits are joined 
   is called the S1/S2 site. Proteolysis of this site is essential for infection.
   The RBM is the part of S1 that binds to the receptor. A common technique is 
   to take functional domains out of one protein and put them into another. The easiest 
   way to do this is by finding (or creating) restriction sites in the DNA that allow 
   you to cut the DNA in a specific place.
</p><p>
   The flow chart is quite reasonable, but again no one doubted that artificially 
   creating the virus is possible. So describing how someone could have done it
   doesn't tell us much; any competent molecular biologist could come up with
   a similar scheme.
</p><p>
   The article makes a big deal about the presence of restriction sites on the S1/S2 
   sequence, including an <code>EcoRI</code> site and a <code>BstEII</code> site. 
   But this does not indicate engineering. Many restriction sites occur naturally by 
   chance. Their presence is not unusual, but they are a major inconvenience for those 
   of us who try to clone DNA‚Äîmany restriction sites we might wish to use are 
   ruled out by the presence of another one in an inconvenient location. The 
   probability of finding one of over a thousand known 
   <a href="http://rebase.neb.com/rebase/rebase.html">restriction sites</a> at an 
   arbitrary location in a 3800 base sequence by chance is very high.
</p><p>
<b>What is needed:</b> 
   To prove this convincingly, the authors would need to find an authentic copy 
   of the original virus sequence without the restriction sites to show what the virus 
   was like before the supposed change was made. 
</p><hr><p>
<b>Claim 4:</b> 
   The furin cleavage site contains rare codons, an unusual sequence not shared by other 
   lineage B betacoronaviruses, and a <code>FauI</code> restriction site. It 
   could not have been introduced by evolution, say the authors, and the probability 
   of successful homologous recombination ever occurring among the ancestors of these 
   viruses is low. ‚ÄúA  <code>FauI</code> restriction site is formulated by the codon choices 
   here, suggesting the possibility that the restriction fragment length polymorphism,
   a technique that a WIV lab is proficient at, could have been involved.‚Äù
   The authors suggest that the <code>FauI</code> site was added to monitor the presence
   of the furin-cleavage site.
</p><p>
<b>Comment:</b> 
   The furin cleavage site is known to increase the tropism of the virus, and it is 
   now known that the virus even infects the brain, but there is little evidence so
   far that it increases pathogenicity. There is as yet no good explanation for the 
   presence of the furin cleavage site. 
</p><p>
   It might make sense for a virus creator to put a restriction site in the middle of
   the furin cleavage site to make sure it didn't disappear. RFLP analysis is a simple 
   technique and any molecular biology lab could handle it easily. However, as mentioned,
   restriction sites pop up randomly all the time, so finding one proves little.
</p><p>
<b>What is needed:</b> 
   The <code>FauI</code> restriction site is a red herring. To prove that the furin cleavage
   site was added, the authors would have to find a trail of evidence showing step
   by step how the sequence was manipulated from whatever virus the WIV started from.
   It would also be helpful to have data showing that furin cleavage increases 
   pathogenicity. This is plausible but it needs to be shown experimentally.
</p><hr><p>
<b>Claim 5:</b> 
   WIV most likely used ZC45 and ZXC21, not RaTG13, to create SARS-CoV-2 because RaTG13 is 
   not real. The reasoning behind this claim is that the S1 sequence of SARS-CoV-2 
   is quite similar to these other viruses except for the receptor-binding motif and 
   furin-cleavage sites. Also, two other proteins on these viruses, the Orf8 protein 
   and E protein, are 94.2% and 100% identical to SARS-CoV-2.
</p><p>
<b>Comment:</b> 
   This is indeed strange but so far circumstantial.
</p><p>
<b>What is needed:</b> 
   The authors need to prove that RaTG13 is not real. They claim to have evidence,
   and I look forward to seeing it,  but to be convincing it would have to be more 
   than the discovery of mysterious unexplained features in the DNA sequence.
</p><hr><p>
The authors say they plan to prove that RaTG13 is fabricated in a follow-up report. 
If they can do this, it would be solid evidence of consciousness of guilt on the part 
of WIV researchers. However, the current paper doesn't say very much more than what 
other bloggers have already revealed.
</p><p>
It would be premature to draw any conclusion about the origins of the virus from this
paper. The authors have set for themselves a difficult and possibly impossible task: 
finding a signature of intel¬≠ligent design in a virus is much like what the 
creationists have been doing without success for years. 
</p><p>
But what is not premature is that social media giants deciding for us what is 
true and what is false may turn out to be as big a threat as the virus. It is unfair 
and unscientific to dismiss ideas that one doesn't want to hear as ‚Äúconspiracy 
theories‚Äù as many people are doing. 
</p><hr><p>
1. Yan LM, Kang S, Guan J, Hu S (2020). Unusual Features of the SARS-CoV-2 
Genome Suggesting Sophisticated Laboratory Modification Rather Than Natural 
Evolution and Delineation of Its Probable Synthetic Route.
https://zenodo.org/record/4028830
</p><hr><p>
<i>
sep 16 2020, 6:52 pm (Updated Sep 20 2020)
</i>
</p>
</section>
</div></div>]]>
            </description>
            <link>https://www.randombio.com/ratg132.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529261</guid>
            <pubDate>Sat, 19 Sep 2020 17:57:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meeting everyone on a new team]]>
            </title>
            <description>
<![CDATA[
Score 256 | Comments 83 (<a href="https://news.ycombinator.com/item?id=24529176">thread link</a>) | @craigkerstiens
<br/>
September 19, 2020 | https://www.annashipman.co.uk/jfdi/meeting-everyone.html | <a href="https://web.archive.org/web/*/https://www.annashipman.co.uk/jfdi/meeting-everyone.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="meeting-everyone">
    
    <date>17 September 2020</date>
      <p>When I joined the Financial Times as Technical Director for FT.com, I inherited a team of around 50 engineers. One of the first things I did was meet each of them for a one-to-one. I was initially resistant, but it was extremely valuable, I‚Äôm glad I did it, and I would definitely do it again in a future role.</p>

<h2 id="my-mentors-advice-about-the-content-of-the-meeting">My mentor‚Äôs advice about the content of the meeting</h2>

<p>The idea was suggested to me by a mentor, who‚Äôd been advised to do it by <em>his</em> mentor, a Rear Admiral, who said this was something you should do whenever you have a team of fewer than 150 people. My mentor gave me some tips:</p>

<ul>
  <li>Be clear about whether you will take action or whether this is for information only.</li>
  <li>This should mostly be about listening ‚Äì you should talk for maybe 5 minutes and they should talk for 25.</li>
  <li>It‚Äôs to find out what‚Äôs going well and what‚Äôs not going well.</li>
  <li>It‚Äôs informal, but make sure it‚Äôs in an enclosed meeting room so that people feel they can speak freely.</li>
  <li>Sometimes it will be quite boring, sometimes you may just learn a lot about someone‚Äôs family or hobbies, but that is useful from a getting to know people/relationship-building perspective and it means that you know some things about that person.</li>
  <li>Aim is to get a bit about their background, their priorities and their pressures.</li>
</ul>

<h2 id="making-time-was-hard">Making time was hard</h2>

<p>I was initially resistant because of the time commmitment. With a team of ~50, that‚Äôs a lot of hours, and I was also working four days a week so each meeting takes up a greater proportion of time. However, once I‚Äôd made the decision to do this and announced my intention, it was important to me to follow through, so I made sure to make time.</p>

<p>I scheduled four of these 1:1s a week, starting with the people reporting directly to me and then on down the management chain.</p>

<h2 id="i-ran-each-meeting-in-the-same-way">I ran each meeting in the same way</h2>

<p>Firstly I ran through everything I planned to cover, and then stepped through it.</p>


<ul>
  <li>I am asking the same questions to everyone</li>
  <li>This is information for me only to get an idea of themes and how things are going; I‚Äôm not explicitly planning to take action on anything we discuss, so if something comes up that I need to take action on, let‚Äôs make sure we discuss that after this meeting</li>
  <li>This is confidential. If you say something about someone else I‚Äôm not going to go and tell them. I may report on ‚Äòwhat people are saying‚Äô, but I‚Äôll say ‚Äòthe engineers feel‚Äô or ‚Äòan engineer said‚Äô; I won‚Äôt say ‚Äú[Your name] said‚Ä¶‚Äù</li>
</ul>

<h3 id="what-were-going-to-discuss">What we‚Äôre going to discuss</h3>

<ul>
  <li>First I‚Äôll introduce myself, and tell you a bit about my background</li>
  <li>Then, if you like, I‚Äôd love you to tell me a bit about yourself ‚Äì as much or as little as you feel like sharing</li>
  <li>Then we‚Äôll discuss the following questions:</li>
</ul>

<ol>
  <li>What do you think the most important things we should be doing over the next year?</li>
  <li>What will get in the way of us doing that?</li>
  <li>What‚Äôs going well, i.e. what should we make sure we don‚Äôt change?</li>
  <li>Is there anything you think I should know about?</li>
</ol>

<h2 id="is-there-anything-i-should-know-about">Is there anything I should know about?</h2>

<p>When I asked this question I talked a bit about why I was asking. I explained that I might not necessarily see or know things that may seem apparent to them, and while they should always feel able to bring things to me, now was a good opportunity to do so. It was an opportunity to make sure I‚Äôve heard what‚Äôs important to you, what things should change and what things should stay the same.</p>

<p>This question always elicited very interesting responses, from organisational issues, to personal information people felt it was valuable for me to know about them.</p>

<h2 id="i-told-them-what-i-was-planning-to-ask-in-advance">I told them what I was planning to ask in advance</h2>

<p>I put all the information in the meeting invite.</p>

<div>
<p>I mentioned that I wanted to have a chat with everyone on FT.com to understand how things are going, does this time suit you for this?</p>

<p>The meeting agenda is the same for everyone; a quick intro and then the following questions (I'll go through this in the meeting too):</p>

<ul>
<li>What do you think the most important things we should be doing over the next year?</li>
<li>What will get in the way of us doing that?</li>
<li>What‚Äôs going well, i.e. what should we make sure we don‚Äôt change?</li>
<li>Is there anything you think I should know about?</li>
</ul>

<p>Thanks,</p>
<p>Anna</p>
</div>

<p>Some people did not read the meeting invite and came with no idea what the meeting was about. Some people had fully prepared and written notes that they then read out to me. Actually people having prepared sometimes was less useful, because sometimes it led the conversation to solutions rather than problems. However it was great that people had really given it some thought.</p>

<h2 id="making-notes-felt-too-much-like-a-promise">Making notes felt too much like a promise</h2>

<p>Each meeting was half an hour. In the very first one, I made notes in a notebook, but I realised that created an implicit commitment that I was going to take action on everything that was said, even though I had said it was information only.</p>

<p>However, I do not have a very good memory, so for all the subsequent ones I made a few notes after each meeting of key themes. This meant I couldn‚Äôt do more than two in a row or go straight into another meeting, so it made scheduling slightly harder. These days, people are much more aware of the shorter meeting approach so if doing this again, I‚Äôd go for the ‚Äòtherapy hour‚Äô ‚Äì 25 minutes for conversation then 5 minutes for me to make the notes.</p>

<h2 id="introducing-myself">Introducing myself</h2>

<p>In my intro, I gave a potted career history. Starting from my degree in philosophy, and my first career in <a href="https://www.barringtonstoke.co.uk/">children‚Äôs book publishing</a>, through teaching myself to code, my <a href="https://www.hw.ac.uk/study/uk/postgraduate/information-technology-software-systems.htm">masters in Software Systems</a> and then my 15+ year career in programming, infrastructure and operations, technical architecture, and my previous role as <a href="https://www.annashipman.co.uk/jfdi/a-year-in-the-life-os-lead.html">Open Source lead</a>. I also talked about what appealed to me about the job as Technical Director at the FT.</p>

<p>I said roughly the same thing to everyone. I don‚Äôt normally introduce myself and give my background, but in this case I thought that as a new Tech Director most of them would not be working closely with me, and I would not be contributing code, so it was worth giving my credentials.</p>

<p>My mentor had suggested I also say something personal. I think he intended something like ‚Äúmarried with two children‚Äù (or whatever), but instead, I tried to give a different kind of personal detail, something about my interests. I tried to come up with a different one for each conversation, for example something about my <a href="https://twitter.com/annashipman/status/1043917006477643777">cross-stitch hobby</a>.</p>

<p>This part was the hardest part for me, because prior to this I had generally enjoyed keeping a clear boundary between work stuff and personal stuff, so that definitely didn‚Äôt cover talking about cross-stitch, or my home life, on a first meeting. However, I had been trying to bring more of my personal self to work, and this part of the intro did lead to some really interesting conversations and I think helped make a better connection.</p>

<p>Of course, these days, when we are all at home, my personal life is in meetings with me, so it‚Äôs good I‚Äôd already started on that journey!</p>

<p>Giving so much information in my introduction also allowed the other person to introduce themselves how they wanted. Some talked career history, some focused on their hobbies, others were really open about their lives and aspirations.</p>

<h2 id="i-am-so-glad-i-did-this">I am so glad I did this</h2>

<p>My mentor was wrong about one thing ‚Äì&nbsp;none of the conversations were boring.</p>

<p>In my first few months in the new job, I often felt really stretched for time, but I never regretted a single one of these meetings; it was always extremely interesting, my team are brilliant and it was great to meet them one on one, and each conversation always contained some valuable information.</p>

<p>There were two very valuable things about this for me.</p>

<p>The first was getting an idea of what change was needed. These meetings gave me a brilliant insight that wasn‚Äôt available elsewhere. Patterns started emerging very quickly, and formed the basis of our <a href="https://medium.com/ft-product-technology/the-difficult-teenage-years-setting-tech-strategy-after-a-launch-7f42eb94a424">tech strategy</a>.</p>

<p>The second was building relationships. A lot of the people I had 1:1s with I would not have come into contact with during the course of the ordinary working week. It would have taken time to meet everyone at socials, and it wouldn‚Äôt have been the same quality of conversation. I still feel, two years on, that I know a bit about all the people I had those conversations with, which has felt to me like a good foundation for our subsequent conversations.</p>

<p>It was also good, as someone who is a bit shy, to have names to faces quite quickly and people to say hello to when walking round the office.</p>

<h2 id="was-it-useful-for-my-team">Was it useful for my team?</h2>

<p>About a year later, I asked some of the people with whom I‚Äôd had these conversations whether they‚Äôd been useful (in an anonymous form).</p>

<p>All of the people who responded said they found the conversation valuable, and some of their comments were:</p>

<ul>
  <li>‚ÄúIt broke down barriers and helped me feel less intimidated about approaching you, whether to talk about work or just to have a general chit chat. You are a very busy person who I wouldn‚Äôt ever work with directly so it was good to feel that you knew I existed.‚Äù</li>
  <li>‚ÄúThere is hardly any opportunity for me to talk to people in higher position like you except when the team has a big problem. The 1:1 was really casual and I felt really comfortable talking to you. It was a good time to know what kind of person you are. If we didn‚Äôt do the 1:1, the answer of the question below ‚ÄúDo you feel able to raise issues with me?‚Äù would be ‚ÄúNo‚Äù.‚Äù</li>
  <li>‚ÄúWe sat down when you first started and it was nice to get some one-to-one time because it‚Äôs not often you get to do that with a Technical Director. It was nice to raise issues but for me, it was more of an opportunity to understand if I could trust you in the future with raising issues. Raising issues can be difficult and scary so it‚Äôs important to know if the person you are raising them to is receptive.‚Äù</li>
  <li>‚ÄúIt really showed that you cared about us as humans, and how we fit with the rest of the team. It was also a great opportunity to get to know you‚Äù</li>
  <li>‚ÄúI think often of that conversation‚Äù</li>
</ul>

<h2 id="did-it-make-them-feel-more-able-to-raise-issues-with-me">Did it make them feel more able to raise issues with me?</h2>
</div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.annashipman.co.uk/jfdi/meeting-everyone.html">https://www.annashipman.co.uk/jfdi/meeting-everyone.html</a></em></p>]]>
            </description>
            <link>https://www.annashipman.co.uk/jfdi/meeting-everyone.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529176</guid>
            <pubDate>Sat, 19 Sep 2020 17:45:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reasons Your Growth Startup Is Hiring Too Junior]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24529137">thread link</a>) | @svmanager
<br/>
September 19, 2020 | https://staysaasy.com/management/2020/09/11/Hiring-Too-Junior.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/management/2020/09/11/Hiring-Too-Junior.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Growth startups often find themselves lacking senior team members as they scale. The problems that arise from this are plentiful, including things like:</p>
<ul>
  <li>Requiring heroics to fix things</li>
  <li>Penalizing junior team members for failure to meet responsibilities well above their pay grade.</li>
  <li>Building technology that doesn‚Äôt scale</li>
</ul>

<p>Here‚Äôs some reasons why companies get into this situation.</p>

<h2 id="reason-1-habit">Reason 1: Habit</h2>

<p>When you‚Äôre a tiny startup budgets are extremely lean and products don‚Äôt have a lot of users. In that environment companies often prioritize breadth of functionality (see what works) and getting that via several (more affordable) junior team members guided by a smaller group of senior team members.</p>

<p>Problems arise if that strategy exists past market fit. The add-a-junior-to-do-more strategy implodes as the team grows too large for the senior staff to manage closely and the technical challenges start to look more daunting.</p>

<h2 id="reason-2-hubris">Reason 2: Hubris</h2>

<p>Sometimes people recognize the problems are getting more difficult but still don‚Äôt hire more seniors. This can often be chalked up to hubris - surely I can just direct a bunch of juniors to execute on the genius solutions I come up with for all our problems. The problem here is that you‚Äôre not a genius and even if you were that strategy doesn‚Äôt scale.</p>

<h2 id="reason-3-fear">Reason 3: Fear</h2>

<p>The flip side of hubris is fear. New senior staff can look like a threat to the power of existing senior staff. You might have to choose between doing what‚Äôs right for the company and retaining certain kinds of power. The answer there is simple - it‚Äôs better to be part of something great than the owner of something that fails.</p>

<p>A different play on this theme is junior teammates fearing that new senior teammates will take away some of their opportunities. It‚Äôs possible, sure. But more often the opportunities they will take over are the ones juniors would have had trouble succeeding in.</p>

<p>In a growing company with reasonably difficult challenges, good seniors will do more to expand the set of opportunities than shrink them. And good senior talent will help juniors via mentorship and guidance.</p>

<h2 id="reason-4-money-issues">Reason 4: Money Issues</h2>

<p>Money issues play out in a couple ways.</p>

<p>First, the cost of senior talent can subconsciously make you concerned about the remaining budget for yourself. I haven‚Äôt seen this played out directly and blatantly, but it‚Äôs another version of the fear game - assuming compensation is a zero sum game leads to weird incentives.</p>

<p>Second, it‚Äôs easy to think 2 juniors are better than one senior. As you read about the myth of the 10x engineer you might find yourself thinking this way. Let‚Äôs talk more about how this is a misconception in reason 5‚Ä¶</p>

<h2 id="reason-5-miscalculation-of-necessary-skills-for-right-now">Reason 5: Miscalculation of Necessary Skills For Right Now</h2>

<p>As referenced earlier, problems get much harder when you add significant growth to a platform. It‚Äôs not uncommon to underestimate the challenges at hand. In reality, even simple products at massive scale need significant senior leadership to ensure they are being built and operated effectively. Trying to replace the leadership of senior talent with a volume of junior talent is a sure-fire way to screw this up.</p>

<h2 id="reason-6-miscalculation-of-necessary-skills-in-the-future">Reason 6: Miscalculation of Necessary Skills In the Future</h2>

<p>To make things more difficult, you don‚Äôt just have to hire for right now, you have to hire for 2 or more years in the future. The senior talent you hire now must seed the leadership ranks you need in the future. Especially in product and engineering, you can‚Äôt just hire everyone you need when you need them. For starters, the job market would laugh at that sort of just-in-time attempt at hiring. But also, these roles require much more detailed understanding of the systems at play, so you need to have people with intimate knowledge developed in advance.</p>

<p>Think of it this way - look at whatever company you‚Äôre trying to be like in 5 years. Look at their team. If you don‚Äôt start hiring towards something like that team sooner rather than later you‚Äôll never be that company.</p>

<h2 id="reason-7-arguments-about-what-seniors-need">Reason 7: Arguments About What-Seniors-Need</h2>

<p>Another reason people hire too junior is thinking around senior talent needing explicit areas of responsibility that don‚Äôt overlap. This is the ‚Äúone alpha‚Äù theory - that senior talent can‚Äôt collaborate productively and need their own pack. There might be some nuggets of truth here, but most of it is nonsense. That‚Äôs like NASA saying they couldn‚Äôt have smart people work together on getting to the moon because these great scientists need their own domains.</p>

<p>Ultimately you have to look at the problems you‚Äôre solving. If they are truly challenging they can support a number of seniors. If they aren‚Äôt you‚Äôll probably have trouble hiring and retaining more than a few.</p>

<h2 id="conclusion">Conclusion</h2>

<p>There‚Äôs a lot of reasons why you might hire too junior as your company grows. Know them and hire intentionally.</p>


    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/management/2020/09/11/Hiring-Too-Junior.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24529137</guid>
            <pubDate>Sat, 19 Sep 2020 17:39:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Notations and concepts in basic, linear and abstract algebra]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528969">thread link</a>) | @R3G1R
<br/>
September 19, 2020 | https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/ | <a href="https://web.archive.org/web/*/https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div id="theme-content-section"><div><section data-css="tve-u-16ec5d248bb"><p><span>A</span>lgebra is a subfield of mathematics pertaining to the manipulation of symbols and their governing rules. The following is a compilation of <strong>symbols</strong> from the different branches of algebra, which include basic algebra, number theory, linear algebra and abstract algebra.</p><p>For readability purpose, these symbols are categorized by their function and topic into <strong>charts</strong> and <strong>tables</strong>. Other comprehensive lists of symbols ‚Äî as categorized by subject&nbsp;and type ‚Äî can be also found in the relevant pages below (or in the navigational panel).</p><div><div><div><figure><img loading="lazy" width="400" height="518" src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" title="Math Symbols eBook Cover"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> ‚Äî along with each symbol‚Äôs usage and LaTeX code.</p></div></div></div></div><h2><span id="Constants"></span>Constants<span></span></h2><p>In algebra, <strong>constants</strong> are symbols used to denote key mathematical elements and sets. The following tables document the most common of these ‚Äî along with each symbol‚Äôs name, usage and example.</p><p>(For common constants in general, see <a href="https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/#Mathematical_Constants" target="_blank" rel="noopener noreferrer">common math constants</a>.)</p><h3><span id="Key_Mathematical_Elements"></span>Key Mathematical Elements<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$i$</td><td><a rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Imaginary_unit" target="_blank"><strong>Imaginary unit</strong></a></td><td>$i^2 + 1 = 0$</td></tr><tr><td>$\mathbf{0}$, $\vec{0}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Zero_element#Additive_identities" target="_blank" aria-label="Zero vector (opens in a new tab)" rel="noreferrer noopener">Zero vector</a></strong></td><td>$\mathbf{0} \ne 0$</td></tr><tr><td>$O$</td><td><strong><a href="https://en.wikipedia.org/wiki/Zero_matrix" target="_blank" aria-label="Zero matrix (opens in a new tab)" rel="noreferrer noopener">Zero matrix</a></strong></td><td>$O_{2 \times 3} = \\ \begin{pmatrix} 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 \end{pmatrix}$</td></tr><tr><td>$I$</td><td><strong><a aria-label="$n$-dimensional identity matrix (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Identity_matrix" target="_blank">Identity matrix</a></strong></td><td>$I_2 = \begin{pmatrix} 1 &amp; 0 \\ 0 &amp; 1 \end{pmatrix}$</td></tr><tr><td>$e$</td><td><a href="https://en.wikipedia.org/wiki/Identity_element" target="_blank" aria-label="Identity element of a group (opens in a new tab)" rel="noreferrer noopener"><strong>Identity element of a group</strong></a></td><td>For all $g \in G$, $g \circ e = e \circ g = g$.</td></tr></tbody></table></figure><h3><span id="Key_Mathematical_Sets"></span>Key Mathematical Sets<span></span></h3><p>In algebra, certain sets of numbers (or other more elaborated objects) tend to occur more frequently than others. These sets are often denoted by some variants of <strong>alphabetical letters</strong>&nbsp;‚Äî many of which are of the <a href="https://mathvault.ca/hub/higher-math/math-symbols/greek-hebrew-latin-symbols/#Latin-based_Alphabets" target="_blank" rel="noopener noreferrer">blackboard bold</a> typeface.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\mathbb{P}$</td><td>Set of <strong>prime numbers</strong></td><td>$127 \in \mathbb{P}$</td></tr><tr><td>$\mathbb{N}_0$</td><td>Set of <strong>natural numbers</strong> <br>(starting with $0$)</td><td>$0 \in \mathbb{N}_0$</td></tr><tr><td>$\mathbb{N}_1$</td><td>Set of <strong>natural numbers</strong><br>(starting with $1$)</td><td>$0 \notin \mathbb{N}_1$</td></tr><tr><td>$\mathbb{Z}$</td><td>Set of <strong>integers</strong></td><td>For all $x, y \in \mathbb{N}$, $x-y \in \mathbb{Z}$.</td></tr><tr><td>$\mathbb{Z}_+$</td><td>Set of <strong>positive integers</strong></td><td>$\mathbb{Z}_+ = \mathbb{N}_1$</td></tr><tr><td>$\mathbb{Q}$</td><td>Set of <strong>rational numbers</strong></td><td>$3.\overline{73} \in \mathbb{Q}$</td></tr><tr><td>$\mathbb{Q}_p$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/P-adic_number#Introduction" target="_blank" aria-label="p-adic numbers (opens in a new tab)" rel="noreferrer noopener">p-adic numbers</a></strong></td><td>In $\mathbb{Q}_{10}$, $-1 = ‚Ä¶999$ (as $1 +  ‚Ä¶999  = 0$).</td></tr><tr><td>$\mathbb{A}$</td><td>Set of <strong><a aria-label="algebraic numbers (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Algebraic_number" target="_blank">algebraic numbers</a></strong></td><td>$\sqrt{5} + 3 \in \mathbb{A}$</td></tr><tr><td>$\mathbb{R}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Real_number" target="_blank" aria-label="real numbers (opens in a new tab)" rel="noreferrer noopener">real numbers</a></strong></td><td>$i \notin \mathbb{R}$</td></tr><tr><td>$\mathbb{R}_+$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Positive_real_numbers" target="_blank" aria-label="positive real numbers (opens in a new tab)" rel="noreferrer noopener">positive real numbers</a></strong></td><td>For all $x, y \in \mathbb{R}_+$, $xy \in \mathbb{R}_+$.</td></tr><tr><td>$\mathbb{R}_-$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Real_number#Vocabulary_and_notation" target="_blank" aria-label="negative real numbers (opens in a new tab)" rel="noreferrer noopener">negative real numbers</a></strong></td><td>If $a, b \in \mathbb{R}_-$, then $a+b \in \mathbb{R}_-$.</td></tr><tr><td>$\mathbb{R}-\mathbb{Q}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Irrational_number" target="_blank" aria-label="irrational numbers (opens in a new tab)" rel="noreferrer noopener">irrational numbers</a></strong></td><td>$\log 2 \in \mathbb{R}-\mathbb{Q}$</td></tr><tr><td>$\mathbb{I}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Imaginary_number" target="_blank" aria-label="imaginary numbers (opens in a new tab)" rel="noreferrer noopener">imaginary numbers</a></strong></td><td>$5i \in \mathbb{I}, 2+3i \notin \mathbb{I}$</td></tr><tr><td>$\mathbb{C}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank" aria-label="complex numbers (opens in a new tab)" rel="noreferrer noopener">complex numbers</a></strong></td><td>There exists a number $x \in \mathbb{C}$ such that $x^2 + 2x + 3 = 0$.</td></tr><tr><td>$\mathbb{H}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Quaternion" target="_blank" aria-label="quaternions (opens in a new tab)" rel="noreferrer noopener">quaternions</a></strong></td><td>$5+6i-2j+3k \in \mathbb{H}$</td></tr><tr><td>$\mathbb{O}$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Octonion" target="_blank" aria-label="octonions (opens in a new tab)" rel="noreferrer noopener">octonions</a></strong></td><td>$e_0 + \cdots + e_7 \in \mathbb{O}$</td></tr><tr><td>$\mathbb{R}^n$</td><td>N-dimensional <strong><a href="https://en.wikipedia.org/wiki/Euclidean_space" target="_blank" aria-label="Euclidean space (opens in a new tab)" rel="noreferrer noopener">Euclidean space</a></strong></td><td>$\mathbf{i}, \mathbf{j}, \mathbf{k} \in \mathbb{R}^3$</td></tr><tr><td>$B_r(p)$</td><td><strong><a aria-label="Ball (opens in a new tab)" href="https://en.wikipedia.org/wiki/Ball_(mathematics)#In_general_metric_spaces" target="_blank" rel="noreferrer noopener">Open ball</a></strong> of radius $r$ around point $p$</td><td>$(0.5, 0.8, 0.4) \notin$<br>$B_1(0)$</td></tr><tr><td>$\mathbb{Z}_n$</td><td>Set of <strong><a href="https://en.wikipedia.org/wiki/Modular_arithmetic#Integers_modulo_n" target="_blank" aria-label="integers modulo $n$ (opens in a new tab)" rel="noreferrer noopener">integers modulo $n$</a></strong></td><td>$[24] = [11] \in \mathbb{Z}_{13}$</td></tr><tr><td>$R^{m \times n}$</td><td>Set of <strong><a aria-label="$m \times n$ matrices (opens in a new tab)" href="https://en.wikipedia.org/wiki/Matrix_(mathematics)#Notation" target="_blank" rel="noreferrer noopener">$m \times n$ matrices</a></strong> with entries from ring $R$</td><td>$\begin{pmatrix} 2 &amp; 3 \\ 1 &amp; 4 \end{pmatrix} \in \mathbb{R}^{2 \times 2}$</td></tr><tr><td>$GL_n(R)$</td><td>Group of <strong><a href="https://en.wikipedia.org/wiki/General_linear_group" target="_blank" aria-label="$n \times n$ invertible matrices (opens in a new tab)" rel="noreferrer noopener">$n \times n$ invertible matrices</a></strong> with entries from ring $R$</td><td>$\begin{pmatrix} 1 &amp; 0 \\ 2 &amp; 0 \end{pmatrix} \notin GL_2(\mathbb{R})$</td></tr><tr><td>$S_n$</td><td><strong><a href="https://en.wikipedia.org/wiki/Symmetric_group" target="_blank" aria-label="Symmetric group (opens in a new tab)" rel="noreferrer noopener">Symmetric group</a></strong> on a set of $n$ elements</td><td>$|S_n| = n!$</td></tr><tr><td>$R^{\times}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Unit_(ring_theory)#Group_of_units" target="_blank" aria-label="Group of units (opens in a new tab)" rel="noreferrer noopener">Group of units</a></strong> of ring $R$</td><td>$x \in \mathbb{Z}^{\times}$ if $x \in \mathbb{Z}$ and $\exists y \in \mathbb{Z}$ such that $xy = yx = 1$.</td></tr><tr><td>$R[x]$</td><td><strong><a href="https://en.wikipedia.org/wiki/Polynomial_ring" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">Polynomial ring</a></strong> with coefficients from ring $R$</td><td>$-3x^3 + x^2 + 2x +1$<br>$\in \mathbb{Z}[x]$</td></tr></tbody></table></figure><h2><span id="Variables"></span>Variables<span></span></h2><p>Since algebra is concerned with the manipulation of mathematical symbols, it often draws upon a wide range of <strong>variables</strong> as placeholders for varying objects and quantities. The following table documents the most common of these ‚Äî along with their respective usage and example.</p><figure><table><thead><tr><th>Symbol Name</th><th>Used For</th><th>Example</th></tr></thead><tbody><tr><td>$m, n, p, q$</td><td><strong>Natural numbers</strong> and <strong>integers</strong></td><td>$m+n-2p = q$</td></tr><tr><td>$a, b, c$</td><td><strong>Coefficients</strong> of functions and equations</td><td>A linear equation has the general form $ax+by+c = 0$.</td></tr><tr><td>$x, y, z$</td><td><strong>Unknowns</strong> in functions and equations</td><td>If $14x + 2y = 4$, then $y = 2-7x$.</td></tr><tr><td>$\Delta$</td><td><strong><a href="https://en.wikipedia.org/wiki/Discriminant" target="_blank" aria-label="Discriminant (opens in a new tab)" rel="noreferrer noopener">Discriminant</a></strong></td><td>For <a aria-label="quadratic polynomials (opens in a new tab)" rel="noreferrer noopener" href="https://mathvault.ca/quadratic-factorisation/#The_General_Method_Theory" target="_blank">quadratic polynomials</a>, $\Delta = b^2 ‚Äì 4ac$.</td></tr><tr><td>$i, j, k$</td><td><strong>Index variables</strong></td><td>$\displaystyle \prod_{(i,j)=(1,1)}^{(3,5)} \frac{i + j}{2}$</td></tr><tr><td>$z$</td><td><strong><a href="https://en.wikipedia.org/wiki/Complex_number" target="_blank" aria-label="Complex numbers (opens in a new tab)" rel="noreferrer noopener">Complex numbers</a></strong></td><td>$ |z_1 z_2| = |z_1| |z_2|$</td></tr><tr><td>$f(x)$, $g(x, y)$, $h(z)$</td><td><strong>Functions</strong></td><td>$g(f(x), 3) = h(x)$</td></tr><tr><td>$\mathbf{u}, \mathbf{v}, \mathbf{w}$<br>(or $\vec{u}, \vec{v}, \vec{w}$)</td><td><strong><a href="https://en.wikipedia.org/wiki/Euclidean_vector" target="_blank" aria-label="Vectors (opens in a new tab)" rel="noreferrer noopener">Vectors</a></strong></td><td>$2\mathbf{u} + 3\mathbf{v} = 5\mathbf{w}$</td></tr><tr><td>$U, V, W$</td><td><strong><a href="https://en.wikipedia.org/wiki/Vector_space" target="_blank" aria-label="Vector spaces (opens in a new tab)" rel="noreferrer noopener">Vector spaces</a></strong></td><td>$U$ is a subspace of vector space $V$.</td></tr><tr><td>$A, B, C$</td><td><strong><a href="https://en.wikipedia.org/wiki/Matrix_(mathematics)" target="_blank" aria-label="Matrices (opens in a new tab)" rel="noreferrer noopener">Matrices</a></strong></td><td>$AB \ne BA$</td></tr><tr><td>$\lambda$</td><td><strong><a href="https://en.wikipedia.org/wiki/Eigenvalues_and_eigenvectors#Formal_definition" target="_blank" aria-label="Eigenvalues (opens in a new tab)" rel="noreferrer noopener">Eigenvalues</a></strong></td><td>Since $A\mathbf{v_0}=3\mathbf{v_0}$, $3$ is an eigenvalue of $A$.</td></tr><tr><td>$G, H$</td><td><strong><a href="https://en.wikipedia.org/wiki/Group_(mathematics)#Definition" target="_blank" aria-label="Groups (opens in a new tab)" rel="noreferrer noopener">Groups</a></strong></td><td>There exists an element $e \in G$ such that for all $x \in G$, $x \circ e = x$.</td></tr><tr><td>$\mathbb{F}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Field_(mathematics)" target="_blank" aria-label="Fields (opens in a new tab)" rel="noreferrer noopener">Fields</a></strong></td><td>A polynomial ring $\mathbb{F}[x]$ consists of polynomials with coefficients from field $\mathbb{F}$.</td></tr><tr><td>$X, Y$</td><td><strong><a href="https://en.wikipedia.org/wiki/Indeterminate_(variable)" target="_blank" aria-label="Indeterminates (opens in a new tab)" rel="noreferrer noopener">Indeterminates</a></strong></td><td>$3X^2Y + 5Y \in \\ \mathbb{Z}[X, Y]$</td></tr></tbody></table></figure><h2><span id="Delimiters"></span>Delimiters<span></span></h2><p>In mathematics, delimiters are symbols used to denote the separation between independent mathematical entities. The following table features some of the most common delimiters in algebra. For common delimiters in general, see <a href="https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/#Delimiters" target="_blank" rel="noopener noreferrer">common delimiters</a>.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$()$, $[]$, $\begin{pmatrix} x \\ y \\ z \end{pmatrix}$, $\begin{bmatrix} x &amp; y \\ w &amp; z\end{bmatrix}$</td><td><strong>Vectors/matrices indicators</strong></td><td>$\begin{pmatrix} 1 \\ 2 \\ 3 \end{pmatrix} +  \begin{pmatrix} 4 \\ 5 \\ 6 \end{pmatrix} = \\ \begin{pmatrix} 5 \\ 7 \\ 9 \end{pmatrix} $</td></tr><tr><td>$\{ \}$</td><td><strong>Set builder</strong></td><td>$\{ -1, 3.\overline{5}, \pi \} \in \mathbb{R}$</td></tr><tr><td>$\bigg\{$</td><td><strong><a href="https://en.wikipedia.org/wiki/Piecewise" target="_blank" aria-label="Piecewise-function (opens in a new tab)" rel="noreferrer noopener">Piecewise-function</a> indicator</strong></td><td>$|x| = \begin{cases} x &amp; x \ge 0 \\ -x &amp; x&lt;0 \end{cases}$</td></tr><tr><td>$:$, $\mid$</td><td><strong>‚ÄúSuch that‚Äù marker</strong></td><td>$\mathbb{Q} =$<br>$\displaystyle \left\{ \frac{x}{y} \,\middle|\, x \in \mathbb{Z}, y \in \mathbb{N} \right\}$</td></tr></tbody></table></figure><h2>Function-related Symbols<span></span></h2><p>As a foundational component of algebra, <strong>function</strong> plays a key role in establishing the rules pertaining to the manipulation of symbols. The following table documents some of the most common function-related operators and notational symbols ‚Äî along with their meaning and example.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$f : A \to B$,<br>$A \overset{f}{\to} B$</td><td><strong>Function mapping rule</strong><br>($f$ maps set $A$ to set $B$)</td><td>The function $f:\mathbb{N} \to \mathbb{R}$ with $f(x)=x^2$ is strictly increasing.</td></tr><tr><td>$f: x \mapsto y$,<br>$x \overset{f}{\mapsto} y$</td><td><strong>Function mapping rule</strong><br>($f$ maps element $x$ to element $y$)</td><td>The function $g: x \to x^3$ takes a number to its cube.</td></tr><tr><td>$\mathrm{dom}(f)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Domain_of_a_function" target="_blank" aria-label="Domain (opens in a new tab)" rel="noreferrer noopener">Domain</a></strong> of $f$</td><td>$\mathrm{dom} (g) = \mathbb{R}_+$</td></tr><tr><td>$\mathrm{ran}(f)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Range_of_a_function" target="_blank" aria-label="Range (opens in a new tab)" rel="noreferrer noopener">Range</a></strong> of $f$</td><td>If $\mathrm{ran} (f) = \mathbb{Z}$, then $f$ is an integer-valued function.</td></tr><tr><td>$f(x)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Image_(mathematics)#Image_of_an_element" target="_blank" aria-label="Image of element (opens in a new tab)" rel="noreferrer noopener">Image of element</a></strong> $x$ under function $f$</td><td>$f(g(3)) = f(5) = 7$</td></tr><tr><td>$f(X)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Image_(mathematics)#Image_of_a_subset" target="_blank" aria-label="Image of set (opens in a new tab)" rel="noreferrer noopener">Image of set</a> </strong>$X$ under function $f$</td><td>If $f(x) = \tan(x)$, then $f\left[ \left(-\frac{\pi}{2}, \frac{\pi}{2}\right) \right] = \mathbb{R}$</td></tr><tr><td>$f^{-1}(y)$</td><td><strong><a aria-label="Inverse function (opens in a new tab)" rel="noreferrer noopener" href="https://mathvault.ca/derivative-inverse-functions/#A_Primer_on_Inverse_Functions" target="_blank">Inverse function</a></strong> of $f$, <strong><a href="https://en.wikipedia.org/wiki/Image_(mathematics)#Inverse_image" target="_blank" aria-label="pre-image (opens in a new tab)" rel="noreferrer noopener">pre-image</a></strong> of element $y$ under function $f$</td><td>If $f$ is an <a href="https://mathvault.ca/math-glossary/#onetoone" target="_blank" aria-label="one-to-one (opens in a new tab)" rel="noreferrer noopener">one-to-one</a> function with $f(3)=5$, then $f^{-1}(5)=3$.</td></tr><tr><td>$f^{-1}(Y)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Image_(mathematics)#Inverse_image" target="_blank" aria-label="Pre-image (opens in a new tab)" rel="noreferrer noopener">Pre-image</a></strong> of set $Y$ under function $f$</td><td>If $g: \mathbb{R} \to \mathbb{R}$ with $g(x)=x^2$, then $g^{-1}([0, 1]) = [-1, 1]$.</td></tr><tr><td>$f \circ g$</td><td><strong><a href="https://mathvault.ca/chain-rule-derivative/#Chain_Rule_A_Review" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">Composite function</a></strong> $f$ of $g$</td><td>If $f(x)=5x$ and $g(x)=x^3$, then $(f \circ g) (x) = 5x^3$.</td></tr><tr><td>$f |_A$</td><td><strong><a aria-label="Restriction (opens in a new tab)" href="https://en.wikipedia.org/wiki/Restriction_(mathematics)" target="_blank" rel="noreferrer noopener">Restriction</a></strong> of function $f$ to set $A$</td><td>$\mathrm{dom}(f |_A) =$<br>$A \cap \mathrm{dom}(f)$</td></tr><tr><td>$R \circ S$</td><td><strong><a aria-label="Composite relation (opens in a new tab)" href="https://en.wikipedia.org/wiki/Composition_of_relations" target="_blank" rel="noreferrer noopener">Composite relation</a></strong> $R$ of $S$</td><td>If $(1, 3) \in R$ and $(3, 6) \in S$, then $(1, 6) \in R \circ S$.</td></tr><tr><td>$R^{-1}$</td><td><strong><a aria-label="Inverse relation (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Converse_relation" target="_blank">Converse relation</a></strong> of $R$</td><td>$(x, y) \in R^{-1} \iff$<br>$(y, x) \in R$</td></tr><tr><td>$R^{+}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Transitive_closure" target="_blank" aria-label="Transitive closure (opens in a new tab)" rel="noreferrer noopener">Transitive closure</a></strong> of relation $R$</td><td>For all transitive relations $T$ containing $R$, $R^{+} \subseteq T$.</td></tr></tbody></table></figure><h2><span id="Operators"></span>Operators<span></span></h2><p>In algebra, <strong>operators</strong> can be thought of as a special type of function mapping one or multiple mathematical entities to another, and are often given special names or notations due to their repeated occurrences.</p><p>In particular, these operators are often related to <strong>numbers</strong>, <strong>key functions</strong>, <strong>linear algebra</strong> and <strong>abstract algebra</strong> ‚Äî the vast majority of which are found in the tables below. For common operators in general, see <a href="https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/#Operators" target="_blank" rel="noopener noreferrer">common operators</a>.</p><h3>Number-related Operators<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\gcd (x,y)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Greatest_common_divisor" target="_blank" aria-label="Greatest common divisor (opens in a new tab)" rel="noreferrer noopener">Greatest common divisor</a></strong> of $x$ and $y$</td><td>$\gcd (20, 15) = 5$</td></tr><tr><td>$\mathrm{lcm} (x, y)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Least_common_multiple" target="_blank" aria-label="Least common multiple (opens in a new tab)" rel="noreferrer noopener">Least common multiple</a></strong> of $x$ and $y$</td><td>$\mathrm{lcm} (x, y) = \dfrac{xy}{\gcd (x, y)}$</td></tr><tr><td>$x \bmod y$</td><td><strong><a aria-label=" (opens in a new tab)" rel="noreferrer noopener" href="https://mathvault.ca/long-division/#Euclidean_Division_Terminology" target="_blank">Remainder</a></strong> of $x$ when divided by $y$</td><td>$23 \bmod 4 = 3$</td></tr><tr><td>$|x|$</td><td><strong>Absolute value</strong> of $x$</td><td>$|-5| = |5| = 5$</td></tr><tr><td>$\lfloor x \rfloor$</td><td><strong><a href="https://en.wikipedia.org/wiki/Floor_and_ceiling_functions" target="_blank" aria-label="Floor (opens in a new tab)" rel="noreferrer noopener">Floor</a></strong> of $x$</td><td>$\lfloor 5.999 \rfloor = 5$</td></tr><tr><td>$\lceil x \rceil$</td><td><strong><a href="https://en.wikipedia.org/wiki/Floor_and_ceiling_functions" target="_blank" aria-label="Ceiling (opens in a new tab)" rel="noreferrer noopener">Ceiling</a></strong> of $x$</td><td>For all $x \in \mathbb{R}$,  $\lceil x \rceil-1 &lt; x \le \lceil x \rceil$.</td></tr><tr><td>$\lfloor x \rceil$, $\mathrm{round}(x)$</td><td><strong><a href="https://mathworld.wolfram.com/NearestIntegerFunction.html" target="_blank" aria-label="Nearest integer (opens in a new tab)" rel="noreferrer noopener">Nearest integer</a></strong> of $x$</td><td>$\mathrm{round}(3.5) =4$</td></tr><tr><td>$\max (A)$</td><td><strong>Maximum </strong>of set $A$</td><td>$\max \left( \{3, 11, 5 \}\right) = 11$</td></tr><tr><td>$\min (A)$</td><td><strong>Minimum</strong> of set $A$</td><td>For all $x \in A$, $\min (A) \le x$.</td></tr><tr><td>$\displaystyle \sum_{i=1}^{n} a_i$, $ \displaystyle \sum_{(i, j) = (1, 1)}^{(m, n)} a_{ij}$, $\displaystyle \sum_{i \in I} a_i$</td><td><strong><a href="https://en.wikipedia.org/wiki/Summation#Notation" target="_blank" aria-label="Sum (opens in a new tab)" rel="noreferrer noopener">Sum</a></strong> of $a_i$/$a_{ij}$</td><td>$\displaystyle \sum_{(i, j) = (1, 1)}^{(5, 5)} \frac{i+j}{2} \ge 15$</td></tr><tr><td>$\displaystyle \prod_{i=1}^n a_i$, $ \displaystyle \prod_{(i, j) = (1, 1)}^{(m, n)} a_{ij}$,  $\displaystyle \prod_{i \in I} a_i$</td><td><strong><a href="https://en.wikipedia.org/wiki/Multiplication#Capital_pi_notation" target="_blank" aria-label="Product (opens in a new tab)" rel="noreferrer noopener">Product</a></strong> of $a_i$/$a_{ij}$</td><td>$\displaystyle \prod_{i \in \{ 3, 5, 7\} } (i^2-1) =$<br>$8 \cdot 24 \cdot 48$</td></tr></tbody></table></figure><h3><span id="Key_Functions"></span>Key Functions<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$k_n x^n + \cdots + k_0 x^0$</td><td><strong><a href="https://mathvault.ca/polynomial-infinity/#Polynomials_A_Review" target="_blank" aria-label="Polynomial (opens in a new tab)" rel="noreferrer noopener">Polynomial</a></strong> of degree $n$ with coefficients $k_0, \ldots, k_n$</td><td>$2x^3 (x+1) = $<br>$2x^4 + 2x^3$</td></tr><tr><td>$e^x, \exp x$</td><td><strong><a href="https://en.wikipedia.org/wiki/Exponential_function" target="_blank" aria-label="Natural exponential function (opens in a new tab)" rel="noreferrer noopener">Natural exponential function</a></strong></td><td>For all $x \ge 3$, $e^x \ge 20$.</td></tr><tr><td>$b^x$</td><td><strong><a href="https://en.wikipedia.org/wiki/Exponential_function" target="_blank" aria-label="Exponential function (opens in a new tab)" rel="noreferrer noopener">Exponential function</a></strong> with base $b$</td><td>$2^{x+y} = 2^x \cdot 2^y$</td></tr><tr><td>$\ln x$</td><td><strong><a href="https://mathvault.ca/logarithm-theory/#Natural_Logarithm_Base_e" target="_blank" aria-label="Natural logarithmic function (opens in a new tab)" rel="noreferrer noopener">Natural logarithmic function</a></strong></td><td>$\ln 10 = \ln 2 + \ln 5$</td></tr><tr><td>$\log x$</td><td><strong><a aria-label="Common logarithmic function (opens in a new tab)" href="https://mathvault.ca/logarithm-theory/#Common_Logarithm_Base_10" target="_blank" rel="noreferrer noopener">Common logarithmic function</a></strong></td><td>$\log 1000000 = 6$</td></tr><tr><td>$\log_b x$</td><td><strong><a href="https://en.wikipedia.org/wiki/Logarithm" target="_blank" aria-label="Logarithmic function (opens in a new tab)" rel="noreferrer noopener">Logarithmic function</a></strong> of base $b$</td><td>$\log_{11} 23 = \dfrac{\ln 23}{\ln 11}$</td></tr><tr><td>$\sin x$, $\cos x$, $\tan x$, $\sec x$, $\csc x$, $\cot x$</td><td>6 <strong><a href="https://mathvault.ca/hub/higher-math/math-symbols/geometry-trigonometry-symbols/#Trigonometric_Functions" target="_blank" aria-label=" (opens in a new tab)" rel="noreferrer noopener">trigonometric functions</a></strong> (sine, cosine, tangent, secant, cosecant, cotangent)</td><td>$\csc x = \dfrac{1}{\sin x}$</td></tr><tr><td>$\arcsin(x)$, $\sin^{-1}(x)$, $\arccos(x)$, $\cos^{-1}(x)$, $\arctan(x)$, $\tan^{-1}(x)$</td><td><strong><a aria-label="Inverse trigonometric functions (opens in a new tab)" href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" target="_blank" rel="noreferrer noopener">Inverse trigonometric functions</a></strong> (inverse sine, inverse cosine, ‚Ä¶</td></tr></tbody></table></figure></section></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/">https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/</a></em></p>]]>
            </description>
            <link>https://mathvault.ca/hub/higher-math/math-symbols/algebra-symbols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528969</guid>
            <pubDate>Sat, 19 Sep 2020 17:18:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Save Money]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528822">thread link</a>) | @electricant
<br/>
September 19, 2020 | https://psyche.co/guides/how-to-save-a-psychological-approach-to-better-spending-and-saving | <a href="https://web.archive.org/web/*/https://psyche.co/guides/how-to-save-a-psychological-approach-to-better-spending-and-saving">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><h2 data-guide-section-number="1"><span>Need to know</span></h2><div><p>People save for a variety of reasons: to put money by for unforeseen contingencies; for retirement; for holidays or other expensive purchases; to leave money for a spouse or children after death; to avoid debt. Others save only because they think it is a good idea or that they √¢‚Ç¨Àúought to√¢‚Ç¨‚Ñ¢. Whatever the motive, saving not only has financial benefits, it can also improve <a href="https://www.sciencedirect.com/science/article/abs/pii/S0167487011001231">psychological wellbeing</a> and <a href="https://link.springer.com/article/10.1007/s00038-019-01214-3">emotional health</a>.</p>
<p>Of course, not everyone is in a position to save, particularly right now √¢‚Ç¨‚Äú for people with significant debt, living on minimum wages or chronically unemployed, saving is not a realistic priority. Yet for those who do have the means to save, and given its benefits, why do so few of us do it?</p>
<p>For instance, in the United Kingdom in 2019, of more than 27 million households, nearly 13 million had no savings at all, <a href="https://themoneycharity.org.uk/media/March-2020-Money-Statistics.pdf">according</a> to the Money Charity. So, approximately half of all Britons have no money of their own to fall back on or to use either short- or long-term. In the United States, average personal saving rates (the amount of disposable income that people put by) were around 7.6 per cent in 2019, and even below 5 per cent in the decade prior, which is significantly less than required to retire comfortably, according to financial commentators.</p>
<p>There are countless articles and advice columns available online that will tell you why you need to save and that teach you the basic practicalities of saving √¢‚Ç¨‚Äú such as how to compare interest rates or where to find the banking apps that allow you to partition your money into virtual savings pots. The trouble is, such advice fails to address the fundamental psychological reasons that impede so many people√¢‚Ç¨‚Ñ¢s intentions to save. In this Guide, we√¢‚Ç¨‚Ñ¢ll take you through these psychological hurdles and show you how to overcome them.</p>
<p>Underlying many of our difficulties with saving is that we evolved to cope with short-term, usually physical, threats and to prioritise satisfying our most immediate needs. For instance, rather than responding to a threatening letter from your credit card company with a long-term saving strategy, it is all too easy to react instead as you would to an acute physical threat √¢‚Ç¨‚Äú to run, fight or freeze. These automatic survival responses narrow attention on the threat and speed up short-term decision-making at the expense of longer-term strategy. But you can√¢‚Ç¨‚Ñ¢t run from or kill the creditor. Likewise, freezing and hoping that the threat will go away might have saved your distant ancestor from a physical predator, but it won√¢‚Ç¨‚Ñ¢t work with your bank.</p>
<p>It√¢‚Ç¨‚Ñ¢s partly because of these evolved survival mechanisms that, rather than planning ahead, so many people take out instant √¢‚Ç¨Àúpayday loans√¢‚Ç¨‚Ñ¢ with punitive interest rates to tide them over until the next pay cheque. To the stressed or scared brain, such loans can seem like a good survival option, but in reality they are a long-term financial disaster.</p>
<p>We also evolved to attract mates. Status was (and still can be) a good attractor, so it might be very tempting to buy shiny things to show off, such as a new phone (despite your existing one being adequate) or new clothes and shoes (although you might not wear half the stuff you already own). Left unchecked, these impulses to keep purchasing new and impressive items can also thwart any intentions to save.</p>
<p>You√¢‚Ç¨‚Ñ¢re more likely to become a successful saver and to overcome your unhelpful evolved tendencies if you do three things: take the time to consider what your overarching values and long-term goals are in life; develop a sense of balance (allowing you to weigh your current needs against your future plans); and build new monetary habits, so that saving is no longer a constant battle or test of willpower, but something you do automatically.</p>
<p>If you√¢‚Ç¨‚Ñ¢re in a position to save, you might feel that the middle of a pandemic, with uncertainty high and many salaries falling, is not the right time to pay attention to saving. That√¢‚Ç¨‚Ñ¢s understandable, but our advice about identifying your priorities and finding ways to make better use of the money you have is arguably more important than ever.</p></div></div></section><section><div><h2 data-guide-section-number="2"><span>What to do</span></h2><div><p>To increase your chances of saving successfully, the first thing you need to do is to define what matters to you √¢‚Ç¨‚Äú in other words, your values. What are you saving <em>for</em>? When it comes to your behaviour, your <a href="https://doi.org/10.1177/0956797612439069">motivation</a> is far more important to initiating change than your energy levels. Imagine you√¢‚Ç¨‚Ñ¢re hiking in the woods and become so tired that you feel like you can√¢‚Ç¨‚Ñ¢t take another step. If a bear appears and goes for you, don√¢‚Ç¨‚Ñ¢t you think you could run a bit more, let alone walk again? Motivation is just as critical when it comes to saving money, so think about what matters to you. Maybe you√¢‚Ç¨‚Ñ¢d like to run your own business, start a charity, or simply have enough money to go away next year? These are the kind of meaningful, long-term goals that you need to have at the forefront of your mind if you are to overcome short-term temptations and find the motivation to save money.</p>
<p>If you√¢‚Ç¨‚Ñ¢re struggling to figure out what you <em>really</em> want in the long-term (and what you want your money to do for you), there are several thought experiments you can try. Research <a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0079407">suggests</a> that contemplating death can alter your financial priorities. Imagine that you√¢‚Ç¨‚Ñ¢ve died and that your life is being commemorated on the news: what would you like your significant achievements or experiences to have been? Or imagine you√¢‚Ç¨‚Ñ¢re nearing death: what would the future √¢‚Ç¨Àúyou√¢‚Ç¨‚Ñ¢ tell the current √¢‚Ç¨Àúyou√¢‚Ç¨‚Ñ¢ about what was actually important? These thought experiments are good for working out what you√¢‚Ç¨‚Ñ¢ll regret if you don√¢‚Ç¨‚Ñ¢t get started on longer-term goals, but death can be a bit depressing. An alternative is to imagine appearing on a TV show with your favourite interviewer in 15 to 20 years√¢‚Ç¨‚Ñ¢ time. What would you like to say you√¢‚Ç¨‚Ñ¢re grateful for √¢‚Ç¨‚Äú what were your greatest achievements, or your happiest, most meaningful moments?</p>
<p>When you√¢‚Ç¨‚Ñ¢ve got a goal or value, picture it. The more detail the better. Draw it, describe it, get a clear image of it. Then get some of those little sticky dots you can find in stationery stores. Put one on the picture, or on your computer, phone, TV, mirror. Make sure you keep in mind why you√¢‚Ç¨‚Ñ¢re doing what you√¢‚Ç¨‚Ñ¢re doing. Then, when you get out your credit card to buy something, or look at your phone to pay online, you√¢‚Ç¨‚Ñ¢ll see the dot, think about why you√¢‚Ç¨‚Ñ¢re saving and how great that goal or value is, and won√¢‚Ç¨‚Ñ¢t spend the money. You√¢‚Ç¨‚Ñ¢ll use your dreams and motivations to change your behaviour and, each time you do, you√¢‚Ç¨‚Ñ¢ll take a step towards that day when you√¢‚Ç¨‚Ñ¢ll have achieved what you√¢‚Ç¨‚Ñ¢d like to celebrate in your fantasy TV interview.</p>
<p>The next thing you need to do is to create a sense of balance between your immediate needs and your more optional or discretionary desires, so that you stay happy and motivated while also having enough resources left over to put toward your overarching, long-term values and aims.</p>
<p>Only you know the things you absolutely must have (apart from food and shelter, and ideally companionship). But do bear in mind that, if you√¢‚Ç¨‚Ñ¢re completely honest with yourself, most material things are really optional √¢‚Ç¨‚Äú you might think you must have the dozens of things your grandparents had never even heard of, such as dishwashers, wireless headphones, instantaneous, unlimited internet and a phone with a teleport app. Yet you don√¢‚Ç¨‚Ñ¢t. You need essentials for life, the rest you have to prioritise, and your priorities are up to you.</p>
<p>One important thing to consider is that there are times in life when it√¢‚Ç¨‚Ñ¢s unwise to save. For example, it√¢‚Ç¨‚Ñ¢s better to clear high-interest debt, such as credit cards, first. There is little point in putting aside savings at a 2 per cent interest rate if you√¢‚Ç¨‚Ñ¢re simultaneously paying 20 per cent interest or more on your credit card debt. That might sound obvious, but in the UK in 2019 credit card debt <a href="https://themoneycharity.org.uk/money-statistics/?gclid=CjwKCAjwkun1BRAIEiwA2mJRWZnvjJxcJXuKA4Cmkm8KJYTbZ63tTZiYMmXdVocn0O2F-c7LG38SrRoCObYQAvD_BwE">averaged</a> √Ç¬£2,591 per household, so it√¢‚Ç¨‚Ñ¢s not as obvious as it should be.</p>
<p>An inappropriate savings habit can be as bad as an inappropriate spending habit, the key is balance and planning</p>
<p>Similarly, it√¢‚Ç¨‚Ñ¢s all too common for people to save while neglecting urgent essentials. Consider the case of pre-pandemic winter-related deaths among people aged 65 and over √¢‚Ç¨‚Äú which in the UK are around 379 per day in excess of the rest of the year, <a href="https://www.ageuk.org.uk/latest-press/articles/2018/november/response-to-new-excess-winter-death-figures/">according</a> to the charity Age UK, due largely to increases in respiratory illness, especially pneumonia. Yes, poor conditions, poverty and seasonal viruses play a role, but we√¢‚Ç¨‚Ñ¢ve also heard many stories of people continuing to try to save rather than spending sufficient money on vital heating. A lifelong habit of saving can be dangerous, when the more appropriate action is spending on self-protection.</p>
<p>Another reason that balance is so important in choosing how much, when and what to save for is that living like a monk through force of habit rather than conscious choice is actually bad for wellbeing. An inappropriate savings habit can be as bad as an inappropriate spending habit, the key is balance and planning. After all, if life under your new saving regime is too dull and arduous, you√¢‚Ç¨‚Ñ¢re unlikely to keep to it. So remember to set exciting short-term goals along the path to your big dreams (such as clearing out the garage to use as an office, and selling the junk to use as starting capital). And do make sure to reward yourself from time to time √¢‚Ç¨‚Äú buy some music you love or something else that gives you joy, to celebrate your progress when you stick to your new plans.</p>
<p>To help find the balance in your spending priorities, try this exercise: imagine you√¢‚Ç¨‚Ñ¢ve won √Ç¬£25 million in the lottery. Write down the first 15 things you√¢‚Ç¨‚Ñ¢d buy in as much detail as you can. Next, read through the list (you can do this alone, or with a trusted friend) and consider where the desires came from. Categorise them: which items are driven by expectations (√¢‚Ç¨Àúif I√¢‚Ç¨‚Ñ¢m ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/guides/how-to-save-a-psychological-approach-to-better-spending-and-saving">https://psyche.co/guides/how-to-save-a-psychological-approach-to-better-spending-and-saving</a></em></p>]]>
            </description>
            <link>https://psyche.co/guides/how-to-save-a-psychological-approach-to-better-spending-and-saving</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528822</guid>
            <pubDate>Sat, 19 Sep 2020 17:01:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Twister OS: Make Raspberry Pi Look Like Windows or macOS]]>
            </title>
            <description>
<![CDATA[
Score 147 | Comments 62 (<a href="https://news.ycombinator.com/item?id=24528732">thread link</a>) | @yboris
<br/>
September 19, 2020 | https://twisteros.com/index.html | <a href="https://web.archive.org/web/*/https://twisteros.com/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Twister OS 2020 | <a href="https://discord.gg/Fh8sjmu" target="_blank">Join our Discord!</a></p></div></div>]]>
            </description>
            <link>https://twisteros.com/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528732</guid>
            <pubDate>Sat, 19 Sep 2020 16:50:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debugging Next.js]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528681">thread link</a>) | @lazar_nikolov
<br/>
September 19, 2020 | https://nikolovlazar.com/debugging-nextjs | <a href="https://web.archive.org/web/*/https://nikolovlazar.com/debugging-nextjs">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1600534200717/rO1es5pbF.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=format&amp;q=60"><div><div itemprop="text"><h2 id="what-is-nextjs">What is Next.JS</h2>
<p><a target="_blank" href="https://nextjs.org/">Next.JS</a> is an amazing React framework created by <a target="_blank" href="https://vercel.com/">Vercel</a>. It allows the developers to create Server-side, Client-side or Static websites. Unlike the other frameworks, the rendering in Next JS is <strong>per page</strong>. That means, the "about" page can be static, while the "home" page can be server-side. Next JS is on the rise, loved by the developers, and my favorite React framework so far.</p>
<blockquote>
<p>If you want to learn more about website rendering, read my other post <a target="_blank" href="https://nikolovlazar.com/how-to-render-your-website">here</a>.</p>
</blockquote>
<h2 id="environment">Environment</h2>
<p>This article covers the debugging process using <a target="_blank" href="https://code.visualstudio.com/">Visual Studio Code</a>. You can use the same commands in other IDEs, but you need to write them in the specific format.</p>
<p>For simplicity, we will use <a target="_blank" href="https://github.com/lazarnikolov94/debugging-nextjs">this repo</a> to show the debugging process. So, go ahead and clone it on your computer, execute <code>yarn install</code> and open it in Visual Studio Code.</p>
<h2 id="debugging-nextjs">Debugging Next.JS</h2>
<p>A Next.JS page has two parts: a server-side part and a client-side part. To debug both parts you will need two VSCode launch tasks. Let's dive in.</p>
<h2 id="debugging-the-server-side">Debugging the Server-side</h2>
<p>The server-side code lives in the <code>getServerSideProps</code> method. It executes every time there's a request. To debug the server-side code we will need to add a new VSCode launch task. First, create a <code>.vscode</code> folder in the root of the project, and then inside that folder create a <code>launch.json</code> file. We will add our launch tasks here.</p>
<p>Inside the <code>launch.json</code> file add a new "Node: Launch Program" configuration. Then, you will need to add the following changes:</p>
<ul>
<li>Remove the <code>skipFiles</code> property</li>
<li>Remove the <code>program</code> property</li>
<li>Add a new property <code>runtimeExecutable</code> with value <code>${workspaceFolder}/node_modules/.bin/next</code></li>
</ul>
<p>Your <code>launch.json</code> file should look something like this:</p>
<pre><code>{
    <span>"configurations"</span>: [
        {
            <span>"type"</span>: <span>"pwa-node"</span>,
            <span>"request"</span>: <span>"launch"</span>,
            <span>"name"</span>: <span>"Next: Node"</span>,
            <span>"runtimeExecutable"</span>: <span>"${workspaceFolder}/node_modules/.bin/next"</span>
        }
    ]
}
</code></pre>
<p>That's it! Now open the <code>/pages/[owner]/[repo].tsx</code> file, add a breakpoint on line 32 and hit F5. When the Next.JS server starts navigate to <a target="_blank" href="http://localhost:3000/">http://localhost:3000</a> and click on one of the repos in the list. After clicking it, you should hit the breakpoint. Now you have the ability to inspect the <code>ctx</code> argument and the data received from GitHub's API.</p>
<h2 id="debugging-the-client-side">Debugging the Client-side</h2>
<p>To debug the Client-side first you need to install the <a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=msjsdiag.debugger-for-chrome">Debugger for Chrome</a> extension. Open the link and click on the Install button. It will ask you to open the link in Visual Studio Code, so click on the "Open Visual Studio Code" button.</p>
<p>As I mentioned above, you will need two launch tasks, so let's create the client-side one. Head to <code>launch.json</code> and add a new "Chrome: Launch" task. Then, you will only need to make one change:</p>
<ul>
<li>Change the <code>url</code> value to <code>http://localhost:3000</code></li>
</ul>
<p>Your complete <code>launch.json</code> file should look something like this:</p>
<pre><code>{
    <span>"configurations"</span>: [
        {
            <span>"name"</span>: <span>"Launch Chrome"</span>,
            <span>"request"</span>: <span>"launch"</span>,
            <span>"type"</span>: <span>"pwa-chrome"</span>,
            <span>"url"</span>: <span>"http://localhost:3000"</span>,
            <span>"webRoot"</span>: <span>"${workspaceFolder}"</span>
        },
        {
            <span>"type"</span>: <span>"pwa-node"</span>,
            <span>"request"</span>: <span>"launch"</span>,
            <span>"name"</span>: <span>"Next: Node"</span>,
            <span>"runtimeExecutable"</span>: <span>"${workspaceFolder}/node_modules/.bin/next"</span>
        }
    ]
}
</code></pre>
<p>And that's it! Now, open the <code>/pages/index.tsx</code> file and add a breakpoint on line 9. You can now launch the Launch Chrome task from the debug panel. The Launch Chrome task should open a new Chrome window on the home page. Start typing into the input on the screen and you will hit the breakpoint in the <code>index.tsx</code> file. Now you have the ability to inspect the client-side properties, like the <code>repo</code> variable. Click continue and type another letter. You will hit the breakpoint every time you type something in the input. Hover on the <code>repo</code> variable to see the value changing. You're now debugging the client-side code!</p>
<h2 id="conclusion">Conclusion</h2>
<p>Now you know how to debug both sides in a Next.JS app. The server side code is node, so you need a Node debug task for it. The client side is Chrome, so you need a Chrome debug task for it.</p>
<p>Also, debugging is a vital process in software engineering, so use it everywhere you can! Don't use only <code>console.log</code> for debugging.</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://nikolovlazar.com/debugging-nextjs</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528681</guid>
            <pubDate>Sat, 19 Sep 2020 16:43:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Martin Schlachter and Justina Tschosick]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528651">thread link</a>) | @dddddaviddddd
<br/>
September 19, 2020 | https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick | <a href="https://web.archive.org/web/*/https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		




<p>My great-grandfather's grandparents, Martin Schlachter and Justina Tschosick, immigrated to Canada from Europe at the beginning of the 20th century. This page collects everything I know about them. I'll keep this updated when I discover something new. If you'd like to share something that I've missed, please <a href="mailto:martinandjustinaschlachter@schlachter.ca">contact me</a>!</p>

<p><a href="#portraits"><img src="https://www.davidschlachter.com/misc/martin-schlachter-portrait-thumb.jpg" alt="Martin Schlachter portrait"></a>
<a href="#portraits"><img src="https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick-portrait-thumb.jpg" alt="Justina Tschosick portrait"></a></p>

<p>I've organized this page by sources in chronological order. Click any image for the full version.</p>

<p>The one personal anecdote I have about Martin and Justina comes from a brief family history from the collection of Jacquie Doran: "A little tiny house was constructed in the back yard of [their son] Anton's house. Anton's children all had fond memories of their Grandparents living there. Grandma Justina always had candy and Grandpa Martin sat with his legs crossed, smoking his pipe."
</p>

<h4>Table of contents:</h4>

<ul>
	<li><a href="#passport">Russian passport (1890)</a></li>
	<li><a href="#military">Military booklet of Anton Schlachter (1894)</a></li>
	<li><a href="#manifest">Ship manifest for the SS Koln (1902)</a></li>
	<li><a href="#saskhomestead">Saskatchewan homestead application (1903)</a></li>
	<li><a href="#ndhomestead">North Dakota homestead application (1904 ‚Äì 1910)</a></li>
	<li><a href="#abhomestead">Alberta homestead applications (1910 ‚Äì 1917)</a></li>
	<li><a href="#census1911">Census of Canada (1911)</a></li>
	<li><a href="#home">Photo beside home (circa 1909 ‚Äì 1916)</a></li>
	<li><a href="#portraits">Portraits (maybe circa 1909 ‚Äì 1916?)</a></li>
	<li><a href="#census1916">Census of the Prairie Provinces (1916)</a></li>
	<li><a href="#headstones">Headstones in St. Anthony's Cemetery</a></li>
	<li><a href="#misc">Miscellaneous</a></li>
</ul>


<h2 id="passport">Russian passport (1890)</h2>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-01.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-01-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 1"></a><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-02.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-02-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 2"></a></p>

<blockquote>Source: scan (2013) of copy from collection of Jacquie Doran, from the original.</blockquote>

<p>Martin and Justina used this passport when they moved from the Russian Empire to Romania around 1890. The cover is inscribed with Martin's name, and the first page is signed by Martin. The first page indicates that the document has 24 pages (24 —Å—Ç—Ä–∞–Ω–∏—Ü—ã) and is an passport (–ó–ê–ì–†–ê–ù–ò–ß–ù–´–ô –ü–ê–°–°–ü–û–†–¢, literally Overseas (or Transnational) Passport, often called a <a href="http://www.doukhobor.org/Passports.html">Foreign Passport</a>). The signature block has instructions in Russian, German, and French ("Signature of the bearer").</p>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-03.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-03-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 3"></a><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-04.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-04-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 4"></a></p>

<p>The second page is a description of the bearer in Russian:</p>

<blockquote>–ü—Ä–µ–¥—ä—è–≤–∏—Ç–µ–ª—å —Å–µ–≥–æ –ü–æ—Å–µ–ª—è–Ω–∏–Ω –ú–∞—Ä—Ç—ã–Ω –Ü–æ—Å–∏—Ñ–æ–≤–∏—á –®–ª–∞—Ö—Ç–µ—Ä —Å –∂–µ–Ω–æ–π –Æ—Å—Ç–∏–Ω–æ–π, –¥–µ—Ç—å–º–∏: –ê–Ω—Ç–æ–Ω–æ–º, –ò–æ—Å–∏—Ñ–æ–º, –ê–Ω–Ω–æ–π, –ï–ª–∏–∑–∞–≤–µ—Ç–æ–π –∏ –†–æ–∑–æ–π –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É, –≤–æ —Å–≤–∏–¥–µ—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ–≥–æ –∏ –¥–ª—è —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –ø—Ä–æ–µ–∑–¥–∞ –¥–∞–Ω —Å–µ–π –ø–∞—Å–ø–æ—Ä—Ç —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –ø–µ—á–∞—Ç–∏.</blockquote>

<p>The declaration is signed at Odessa, September 18, 1890 (–í –û–¥–µ—Å—Å–µ, –°–µ–Ω—Ç—è–±—Ä—å –¥–Ω—è 18 1890 –≥–æ–¥–∞). A stamp is affixed which reads "Gradonachalnik of Odessa, Counter Admiral" (–û–¥–µ—Å—Å–∫–∏–π –≥—Ä–∞–¥–æ–Ω–∞—á–∞–ª—å–Ω–∏–∫ –ö–æ–Ω—Ç—Ä-–∞–¥–º–∏—Ä–∞–ª) with the signature of the official. (Note that some letters <a href="https://en.wikipedia.org/wiki/Russian_alphabet">look different</a> between the font on this webpage, and the handwriting and italic script used inside the passport.)</p>

<p>The description of the bearer is subsequently repeated, in German (page 4) and then in French (page 5).</p>

<p>My translation from French: "The bearer of the present document, villager Martin Schlachter, goes abroad with his wife Justine and his children: Antoine, Joseph, Anne, Elisabeth and Rose, in faith of which this passport, confirmed by the affixed seal, is given for free passage in foreign countries." Again, the declaration is signed at Odessa, September 18, 1890. Note how "Anton" is written in German, "Antoine" in French.</p>

<p>The Russian text includes one detail that is missing in the French and German translations: in Russian, Martin's name is accompanied by a patronymic, as "Martin son of Joseph" (–Ü–æ—Å–∏—Ñ–æ–≤–∏—á, in latin script: Iosifovich). His full name in cursive in the Russian description reads: –ú–∞—Ä—Ç—ã–Ω –Ü–æ—Å–∏—Ñ–æ–≤–∏—á –®–ª–∞—Ö—Ç–µ—Ä; in latin script: Martin Iosifovich Schlachter; <em>i.e.</em> Martin (son of Joseph) Schlachter.</p>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-05.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-05-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 5"></a><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-08.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-08-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 8"></a><a href="https://www.davidschlachter.com/misc/martin-schlachter-passport-09.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-passport-09-thumb.jpg" alt="Martin Schlachter Russian Empire foreign passport, page 9"></a></p>

<p>Passport stamps follow, along with a list of family members and other contacts in the USA and Canada. These include their son Anton (Balgonie, Saskatchewan) and their son-in-law John Leibham (Plantersville, Texas, USA, wife of their daughter Agnes).</p>

<p>I'm grateful to reddit users rsotnik and mDeltroy for their help with the Russian text.</p>



<h2 id="military">Military booklet of Anton Schlachter (1894)</h2>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-anton-booklet.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-anton-booklet-thumb.jpg" alt="Page from Anton Schlachter's military booklet from 1894"></a><a href="https://www.davidschlachter.com/misc/martin-schlachter-anton-booklet-02.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-anton-booklet-02-thumb.jpg" alt="Page from Anton Schlachter's military booklet from 1894"></a></p>

<blockquote>Source: scan (2013) of copy from collection of Jacquie Doran.</blockquote>

<p>Martin and Justina's son Anton entered the Romanian military in January 1894, serving until some point before his departure from Europe in 1905. His service was recorded in a small booklet which begins with his biographical details. The booklet lists his parents as Anton (a mystery since this name does not appear to be used elsewhere by Martin) and Justina, apparently residing in Chirage.</p>



<h2 id="manifest">Ship manifest for the SS Koln (1902)</h2>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-koln-manifest-1902.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-koln-manifest-1902-thumb.jpg" alt="Page from the passenger list of the SS Koln showing Martin Schlachter and Justina Tschosick, Dec 18, 1902"></a></p>

<blockquote>Source: Selected Passenger and Crew Lists and Manifests. National Archives, Washington, D.C., via Ancestry.com. This source was brought to my attention by <a href="https://schlachter.ca/familyweb/martin.html">Alan Schlachter</a>.</blockquote>

<p>Martin and Justina immigrated to the Americas aboard the SS Koln, a ship operated by the Norddeutscher Lloyd Steamship Company. They left Bremen in the northern German Empire (probably the port of Bremen, 50 km downstream of the city itself), arriving in Galveston, Texas, USA on December 12, 1902.</p>

<p>Martin declares himself to be 55 years old, a farmer, able to read and write. He is declared as a Romanian national, with his last residence at Constan»õa, Romania (roughly 2000 km from Bremen!), and he indicates that he intends to join his son in Plantersville, Texas. Justina is declared as age 50, unable to read or write. The family was travelling with their youngest daughters, Elizabeth (17) and Rosa (15). The manifest notes that Martin was carrying more than $30 (roughly $1000 USD in 2020) and had paid the fare for the family.</p>

<p>The ship, the SS Koln, was built in 1899, and was the <a href="https://www.theshipslist.com/ships/lines/nglloyd.shtml">second second ship of this name</a> operated by Norddeutscher Lloyd. The ship is <a href="http://web.archive.org/web/20080616161131/http://www.fortunecity.com/littleitaly/amalfi/13/shipik.htm">described as follows</a>:</p>

<blockquote>
	The "Koln" of 1899 was a 7409 gross ton vessel built in 1899 by J.C.Tecklenborg of Geestemunde for Norddeutscher Lloyd. Her details were - length 428.9ft x beam 54.3ft, one funnel [smoke-stack], two masts, twin screw and a speed of 13 knots [25 km/h]. There was accommodation for 120 [second]- and 1,850 [third]-class passengers. Launched on 24/7/1899, she sailed from Bremen on her maiden voyage to Galveston on 20/10/1899. On 21/12/1899 she commenced her first voyage from Bremen to Baltimore, and on 4/1/1902 her first run from Bremen to New York. Subsequently she ran from [B]remen to Baltimore or Galveston, occasionally to or via New York.<br>
	‚Äî Posted to the Emigration-Ships Mailing List by Ted Finch - 2 October 1997 (see also <a href="https://www.theshipslist.com/ships/descriptions/ShipsK.shtml">quote from North Atlantic Seaway</a>)
</blockquote>



<h2 id="saskhomestead">Saskatchewan homestead application (1903)</h2>

<!-- I've requested a copy of the actual application from the Saskatchewan provincial archives, 2020-09-18 -->

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-sask-homestead-01.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-sask-homestead-01-thumb.jpg" alt="Saskatchewan homestead grant register for Martin Schlachter"></a></p>

<blockquote>Source: Manitoba, Saskatchewan and Alberta, Canada, Homestead Grant Registers, 1872-1930 from Ancestry.com.</blockquote>

<p>Beginning with the <em>Dominion Lands Act</em> of 1872, the Canadian government <a href="https://www.bac-lac.gc.ca/eng/discover/land/land-grants-western-canada-1870-1930/Pages/land-grants-western-canada.aspx">offered land ownership</a> in Western Canada to those willing to settle and cultivate it. Martin and Justina formally began the application process in Saskatchewan in October of 1903. While I haven't found their actual application<!--(I've requested any relevant records from the Saskatchewan Provincial Archives)-->, this register shows that their application was received. Their original application number was 149474.</p>

<p>The plot of land was the South-West quarter-section of Section 34 in Township 1, Range 12 West of the 2nd meridian, near modern-day Torquay, SK, centred around <a href="http://www.bing.com/maps/default.aspx?cp=49.079460~-103.531347&amp;sp=Polyline.49.072172_-103.520310_49.086649_-103.520343_49.086647_-103.542302_49.072371_-103.542433_49.072172_-103.520310_34-1-12-W2_Saskatchewan_http://legallandconverter.com__%2300ff00__4px_Single_Solid&amp;lvl=13&amp;v=2&amp;sV=2&amp;style=a">49.079460, -103.531347</a> (<a href="https://goo.gl/maps/BKmR1ReFXRhfVEY77">alternate link</a>).</p>

<p>According to their next homestead application, they abandoned this plot, applying next in Alberta. They must have left the land before 1906, by which point homesteader Johanne Kroche is recorded as living there in the 1906 Census and in a homesteading file. As well, when Anton Schlachter left Bremen for America in November 1905, the passenger manifest shows that he declared his intention to join his father, Martin, in Berwick, North Dakota.</p>



<h2 id="ndhomestead">North Dakota homestead application (1904 ‚Äì 1910)</h2>

<!-- Homesteading in the US also required naturalization. I've requested a copy of Martin's naturalization records from the ND Archives, 2020-09-19 -->

<!-- Homesteading records are available from the National Archives for a $50 fee. However, they are not currently processessing document requests due to the pandemic -->

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-nd-land-tract.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-nd-land-tract-thumb.jpg" alt="Bureau of Land Management Tract Book entry for Martin Schlachter"></a>
</p>

<blockquote>Source: United States Bureau of Land Management Tract Books, Dakota Territory, Vol 74, page 231, via FamilySearch.org.</blockquote>

<p>After leaving Saskatchewan, Martin and Justina made a homestead application in North Dakota. Martin appears in the land tract register as Martin Schlagter, application date ('date of sale') April 15, 1904, for a homestead ("Hd."). He paid $5, presumably part of the application fee. According to the register, he was granted title to the land (a 'land patent') on September 4, 1909. This was recorded through land patent number 122219, issued March 31, 1910.</p>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-nd-patent.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-nd-patent-thumb.jpg" alt="North Dakota land patent for Martin Schlachter"></a>
</p>

<blockquote>Source: United States Bureau of Land Management Land Patents database, BLM serial number NDDL 0002356, accessed through glorecords.blm.gov.</blockquote>

<p>The actual land patent shows the grant of Lot 4 of Section 3, Township 152 North of Range 74 West of the Fifth Principal Meridian, North Dakota, to Martin Schlachter. The Section is centred roughly on <a href="https://goo.gl/maps/eMV8Ejtxrr3VXmGLA">48.01399, -99.99462</a>, in modern-day Pierce County, North Dakota. The patent is dated March 31, 1910.</p>

<p>It is possible that this lot was sold, since Martin and Justina left North Dakota shortly after obtaining the land patent. Their next destination was Alberta, departing North Dakota sometime before April 1910.</p>

<!--<p>(Note: their son Joseph's nearby homestead plot is in Volume 79, p. 167, 'purchase date' date May 16, 1908, patent date Nov 13, 1908, actual patent dated Oct 14, 1909, see https://www.familysearch.org/ark:/61903/3:1:3QS7-L9WS-ZNLK?i=166&wc=M7W7-S6K%3A356164401%2C356169401&cc=2074276)</p>-->


<h2 id="abhomestead">Alberta homestead applications (1910 ‚Äì 1917)</h2>

<p><a href="https://www.davidschlachter.com/misc/martin-schlachter-homestead-application-01.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-homestead-application-01-thumb.jpg" alt="Homestead application for Martin Schlachter, first page"></a>
<a href="https://www.davidschlachter.com/misc/martin-schlachter-homestead-application-02.jpg"><img src="https://www.davidschlachter.com/misc/martin-schlachter-homestead-application-02-thumb.jpg" alt="Homestead application for Martin Schlachter, second page"></a></p>

<blockquote>Source: Alberta Homestead Records 1870-1940 at Archive.org and Ancestry.com, via the <a href="https://www.abgenealogy.ca/alberta-homestead-index">Alberta Homestead Index</a>.</blockquote>

<p>The first form to <a href="http://archaeologyblog.treetimeservices.ca/2017/08/14/the-alberta-homestead-process/">start the homesteading process</a> was an <em>Application for entry</em>. At the time that Martin applied in Alberta in April of 1910, <a href="https://www.saskarchives.com/collections/land-records/history-and-background-administration-land-saskatchewan/homesteading">the eligibility requirements</a> were as follows:
</p>

<ul>
	<li>Male over 18 years old, or female sole head of family</li>
	<li>Intention to become a British subject (if not already)</li>
</ul>

<p>In order to gain the title for the land, a plot of 160 acres often called a homestead, Martin <a href="https://www.saskarchives.com/collections/land-records/history-and-background-administration-land-saskatchewan/homesteading">would need to</a>:
</p>

<ul>
	<li>Cultivate the land for three years</li>
	<li>Commence cultivation within six months of arrival</li>
	<li>Crop (harvest) at least 5 acres in the first year, and 15 in the second</li>
	<li>Build a 'habitable house' before the end of the second year, and reside in it from the beginning of the third year</li>
	<li>Reside within a distance of nine miles of the homestead</li>
	<li>Finish the naturalization process to become a British subject</li>
</ul>

<p>In his application for entry, Martin declares that he is 69 years old and a Russian subject, born in southern Russia, and the he intends to settle the homestead with his wife (age 64) and (presumably) a son aged 37 (Anton, born ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick">https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick</a></em></p>]]>
            </description>
            <link>https://www.davidschlachter.com/misc/martin-schlachter-justina-tschosick</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528651</guid>
            <pubDate>Sat, 19 Sep 2020 16:39:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Think About Your Marketing Career]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528290">thread link</a>) | @krackpipio
<br/>
September 19, 2020 | https://kracov.co/writing/how-to-think-about-your-marketing-career | <a href="https://web.archive.org/web/*/https://kracov.co/writing/how-to-think-about-your-marketing-career">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>In this post, I provide a framework for how to think about building a marketing career.</p><h2><strong>Career North star: Ikigai</strong>&nbsp;</h2><p>Before talking about marketing specifically, it's important to take a step back and look at what a successful career means. The Japanese have a wonderful concept called Ikigai that provides a&nbsp; framework for how to approach your career and life. Ikigai is a concept that translates to ‚ÄúA Reason for Being‚Äù and is typically explained through a venn diagram.</p><p>‚Äç</p><figure id="w-node-a3d6c5d9ff99-32481ab0"><p><img src="https://assets-global.website-files.com/5ea5d85d88b3bd7015481ab4/5f65173608a72e8df53b2d20_5b983488b34ddc1d0ab4c69b_1524071183-ikigai.png" loading="lazy" alt=""></p></figure><p>‚Äç<br></p><p>As you think about your career, you should be asking yourself the four Ikigai questions:</p><p>What do I love?</p><p>What am I good at?</p><p>What does the world need?&nbsp;</p><p>What can I get paid to do?&nbsp;</p><p>The intersection of the answers to these four questions is Ikgai. This intersection should be the north star that everyone follows throughout their career. Keep this in the back of your mind as you think about your place in marketing.</p><h2><strong>Framework for Marketing Careers</strong></h2><p>There‚Äôs a lot of reasons why people decide to work in marketing. Maybe you always liked ads, or took a marketing course in college&nbsp; or maybe you&nbsp; sort of fell into it (like me). Whatever your reasoning. Welcome! I‚Äôm glad you‚Äôre here.&nbsp;</p><p>Marketing is a fun job. You get to be creative. You get to work with technology. You get to always be on the bleeding edge. And if you stick around long enough, you‚Äôll get to work on a variety of different subject matters and industries.&nbsp;</p><p>There‚Äôs a wide range of disciplines within marketing. This dynamic makes approaching a marketing career a complex puzzle. The general framework I use to think about this decision comes down to four elements:</p><p><strong>Function</strong>: the type of marketing you do (communications, creative, product, demand, etc.)</p><p><strong>Industry: </strong>the market you focus on (software, ecommerce, non-profit, cpg, etc.)</p><p><strong>In or Out: </strong>whether you work on the brand side (in-house) or work at a a service business (agency)</p><p><strong>Company Size: </strong>how big of a company you want to work for&nbsp;</p><p>Throughout your career, you‚Äôll likely bounce back and forth between different roles across these elements. I‚Äôve found that the only way to really understand what you prefer is by trying something for a period of time. It‚Äôs going to be an iterative process to figure out what you want to do.</p><p>Here‚Äôs how I would think about each of these elements:</p><h3><strong>Function</strong></h3><p>Marketing has a wide range of functions to choose from.</p><figure id="w-node-47ec6285e7e0-32481ab0"><p><img src="https://assets-global.website-files.com/5ea5d85d88b3bd7015481ab4/5f6522b720f36def48b04827_Marketing%20program%20snapshot.jpg" loading="lazy" alt=""></p></figure><p>To determine your function, you should ask yourself two different questions:</p><p><strong>What am I good at?</strong> Think about the skills you‚Äôre bringing to the table and think about how those skills match to the job. For example, if you‚Äôre good at writing, perhaps communications, copywriting or content marketing is the right choice for you.</p><p><strong>What do you want to learn? </strong>Ask yourself what you‚Äôre interested in learning more about or what elements of marketing intrigue you. For example, maybe growing up you were obsessed with commercials and viral brand videos,. Then you should consider getting a job in video production and creative direction.</p><p>It can be challenging to answer these questions, especially when you‚Äôre early in your career. You likely don‚Äôt know enough about the nuances of each function to understand where you best fit. You might not even know what you want to learn.</p><p>As a result, I would tell anyone looking for entry-level jobs to get a junior marketing role. This will help you get your foot in the door, but also allow you to get a sense of what functions within marketing you enjoy and which functions you hate.</p><p>I also recommend that you should constantly be learning by osmosis and observing the people around you to figure out what you might enjoy.</p><p>As you advance in your career, the function and expertise of choice will become more clear. You‚Äôll start to develop a set of skills that will come to define your functional area.</p><h3><strong>Industry</strong>&nbsp;</h3><p>The next element to consider is what industry you want to work in. Marketing exists in every industry and looks different depending on what industry you choose. Marketing for a consumer product looks different then marketing for a software company.</p><p>To determine what industry you want to work in, you should put a mirror up to yourself and consider what you are interested in. What do you enjoy talking about? What do you spend your free time doing? What are you a nerd about?&nbsp;</p><p>The best marketers know the ins and outs of their industry and can&nbsp; understand their audience. You‚Äôll have a leg up if you are your own audience. If you spend your free time learning/engaging with a specific industry, then you‚Äôll be more successful in marketing to that industry. For example, if you‚Äôre a gaming nerd then you‚Äôll know how to market to other gaming nerds, since you are one. You‚Äôll be able to take your innate knowledge and apply that to your marketing work.</p><p>The other way to look at the Industry decision is through the lens of emerging trends. What categories are increasing? You want to be in a growing industry, so that you can grow your career with the category and become an expert.</p><p>For me, the answer to both of these questions was technology, software companies and startups. In college, I became obsessed with entrepreneurship and Silicon Valley. I wanted to learn how to build companies that make money online, so I focused my career on that theme.</p><h3><strong>In-house or Out (agency/freelancer)</strong></h3><p>The last decision you should consider is whether you want to work in-house at a company or work in a marketing service role (i.e.&nbsp; agency or freelancer). It‚Äôs common for marketers to switch back and forth between agency and in-house depending on personal preference and career stage. I started my career at an agency and then moved in-house. I enjoyed both for different reasons.</p><h4><strong>Agencies</strong></h4><p>Agencies can be a great place to sharpen your marketing skills and get exposed to a wide range of problems. Agencies have a wide range of different setups and specialize in different things. Some focus on digital marketing others make commercials. You need to pick an agency that matches your interest.</p><p>Agencies are also traditionally split between Accounts and Creative teams. The accounts team acts as a project manager and manages the client relationship. When working on the Accounts team, you get valuable project management skills. You also tend to develop a more generalist skill set and learn how to run a team. I‚Äôm biased, but I think working on an Accounts team sets you up well to run a marketing team in the future (that‚Äôs what happened to me).&nbsp;</p><p>When you‚Äôre on the Creative side, you get to specialize in your selected craft. This can range across the different functions that we discussed above. This usually depends on the agency's speciality.</p><p>Generally speaking, the benefit of working at an agency is that you get to work across a variety of different accounts. When I worked at the agency, I worked on projects for Google, California Hospital Association, Green Bay Packers and the Vietnam Veterans Memorial Fund. I experienced a wide range of challenges that gave me a valuable breadth of experience. One day I was running a digital fundraising campaign and the next I was supporting the launch of a Google product.</p><p>There‚Äôs also some downsides to agencies. The first is that you‚Äôre constantly at the mercy of the clients. It can feel like you‚Äôre playing a game to make clients happy, rather than to do the best work for the brand. There‚Äôs also a feeling that you don‚Äôt get to take things to the finish line or own a project from end to end. Oftentimes, agencies are focusing on just one part of a campaign (ex. video in a broader product launch), but the rest of the campaign is left to internal teams or other agencies. For me, this dynamic made projects less rewarding, and at times, frustrating.&nbsp; I felt like the clients messed up our vision for whatever we were working on.</p><h4><strong>In-house</strong></h4><p>When you work in-house, the main benefit is ownership.&nbsp; You get to feel like you‚Äôre building something and owning projects from start to finish. There‚Äôs a sense of ownership and accomplishment that‚Äôs hard to get at an agency. I‚Äôm way prouder of my work building Lattice, than any of my agency work.</p><p>You become intimately familiar with the company‚Äôs brand/strategy. You get the chance to go deep and understand all the nuances of the market. You get to build a marketing strategy that captures the market's attention.&nbsp;</p><p>For me, the most rewarding part of working in-house is the ability to architect plans and watch them come to life. You get to be the strategist and the executor. You get to be the person who manages budgets, runs campaigns and hires agencies. It‚Äôs fun turning concepts into reality, and then seeing your impact on the business.</p><p>There‚Äôs also greater accountability to impact the companies goals. You have real metrics and goals that you need to hit. When you actually achieve these goals it's rewarding. (Of course, agencies have goals, but I found this dynamic to be different. Your goal is making the client happy, not the business's goal). For some people, this level of accountability and the idea of ‚Äúowning a number‚Äù can be daunting. But for others, this level of ownership is inspiring and rewarding.</p><p>In-house marketers also get exposed to how (non-service) companies operate, especially cross-functional relationships. When you‚Äôre in this role, you‚Äôre able to see how Sales, Product, Customer Success, Finance, Operations and HR all interact with Marketing. You get to feel the tension between marketing and sales around leads. You experience product roadmapping and get to launch products. You work with finance to set up budgets and partner with HR to solve people challenges.</p><p>When compared to agencies, the main downside of in-house is the limited exposure to different problems and industries. It can be boring/annoying to work on the same brand year after year. You‚Äôre constantly dealing with the same challenges and it can also feel like you‚Äôre not learning anymore, which is never a good thing.</p><p>In the end, there‚Äôs no wrong answer. Working at an agency or in-house both have their pros and cons, and are the right fit for different people, at ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kracov.co/writing/how-to-think-about-your-marketing-career">https://kracov.co/writing/how-to-think-about-your-marketing-career</a></em></p>]]>
            </description>
            <link>https://kracov.co/writing/how-to-think-about-your-marketing-career</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528290</guid>
            <pubDate>Sat, 19 Sep 2020 15:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Build Team Trust with Code Reviews]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528172">thread link</a>) | @mpgarate
<br/>
September 19, 2020 | https://mpgarate.com/2020/05/27/building-trust-with-code-reviews.html | <a href="https://web.archive.org/web/*/https://mpgarate.com/2020/05/27/building-trust-with-code-reviews.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      
      
<p>I‚Äôm a <strong>Senior Software Engineer</strong> at <strong>LinkedIn</strong> building <strong>Production Infrastructure</strong>. Previously, I was at <strong>Etsy</strong> leading the <strong>Machine Learning Infrastructure</strong> team.</p>


      
<p><em>May 2020</em></p><p>As developers, we can treat code review as an opportunity to build trust. There is something vulnerable about asking for feedback, and by responding with collaboration rather than confrontation, we build psychological safety. Imagine a world where you look forward to getting a review because the feedback makes the code better, shows respect for your work, and makes you glad you work with the people around you. We can choose to live in that world.</p>

<h3 id="show-gratitude">Show gratitude</h3>

<p><strong>Consider saying ‚Äúthanks for putting this together!‚Äù or ‚Äúthanks for reviewing this!‚Äù</strong> The reviewer and author both went to work in good faith to make an improvement to the software. No matter what feedback we might have, we should show appreciation for the effort spent on it.</p>

<p>There is a <a href="https://en.wikipedia.org/wiki/Gratitude#Empirical_findings">body of research</a> (outside my area of expertise) that links gratitude to happiness, stress reduction, relationship satisfaction, and personal growth. When we review a piece of code, in addition to showing gratitude, we can take a few seconds to <strong>actually believe it</strong>. Isn‚Äôt it great that someone took the time to improve this software?</p>

<h3 id="language-matters">Language matters</h3>

<p>Text on code reviews lacks the expressiveness of other mediums that can help show good faith (i.e. smiling, voice tone, real time responsiveness). With this in mind, we can <strong>over</strong>compensate to make up for the limitations of text.</p>

<p><strong>Consider using ‚Äúwe‚Äù instead of ‚Äúyou‚Äù</strong>. When one developer writes code and submits it to the team for review, they may be tempted to have a ‚Äúme vs them‚Äù mentality: my code is ready and good, and they just need to give approval. A comment framed as ‚Äúwe‚Äù shows that the reviewer and author are aligned in an effort to improve the code and release it promptly. A comment framed as ‚Äúyou‚Äù can come across as combative and blameful, even though that is not the intent. The ‚Äúwe‚Äù mentality goes beyond language. Code changes are owned by the team as a whole, and except in an emergency, no one individual should release something without the support of teammates. Effective teams succeed and fail as a group.</p>

<p><strong>Consider saying ‚ÄúI think.‚Äù</strong> Using the phrase ‚ÄúI think‚Äù shows the reader that you acknowledge your own limitations and are open to hearing their input as well. Guides for academic writing and presentations suggest avoiding the phrase ‚ÄúI think‚Äù in order to sound more assertive. Code reviews, on the other hand, benefit from collaboration, where increased information flow from multiple sources leads to a better result. Underrepresented people in tech sometimes hear advice to sound more assertive at work, and this places responsibility in the wrong place. Strong communicators know how to listen well and identify good ideas from anyone on the team, regardless of background, seniority, or role.</p>

<h3 id="review-to-release">Review to release</h3>

<p><strong>Consider saying ‚ÄúIt‚Äôs ok to address this comment in a later change.‚Äù</strong> Code authors and managers want code to ship ASAP. Time spent rewriting code after code review is time where the user benefit is not in production and where the author could be working on a new task. Code reviewers can support this interest by distinguishing between changes that should be addressed before or after release. For example, it might be a good idea to refactor a long function, but if that is the only thing blocking release, then the team could agree to release the user benefit, refactor, and release again. This also leads to smaller changesets, which allows for faster feedback cycles.</p>

<h3 id="trivial-changes">Trivial changes</h3>

<p><strong>Consider applying the trivial suggestions.</strong> Choosing not to battle a nitpick can be a cheap way to build team ownership of a shared codebase. Reviewers should ideally keep comments about minor syntax changes to a minimum to prioritize discussion on impactful issues. If there is a pattern of too many nitpicks, that can be discussed in a team meeting. Still, nitpicks will inevitably come up, and while it can be tempting to push back against these, that also takes time away from bigger issues and releasing the user benefit. When implementing a nitpick is trivial and not harmful to the codebase, doing so tells your teammate that you value their input and increases their sense of ownership of the code. This helps people internalize the reality that once released, the code is owned by the team and no individual.</p>


<hr>


      
      
<ul>
  <li><a href="mailto:michael@garate.email">michael@garate.email</a></li>
  <li><a href="http://linkedin.com/in/mpgarate/">LinkedIn</a></li>
  <li><a href="https://github.com/mpgarate">GitHub</a></li>
  <li><a href="https://docs.google.com/document/d/1MXwxtcTSsGAPKCYOreMZ3lpVVDFdWO_2-o7R80zpNzc/edit?usp=sharing">Resume</a></li>
</ul>

    </div></div>]]>
            </description>
            <link>https://mpgarate.com/2020/05/27/building-trust-with-code-reviews.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528172</guid>
            <pubDate>Sat, 19 Sep 2020 15:41:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LLVM's Getelementptr, by Example]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24528033">thread link</a>) | @woodruffw
<br/>
September 19, 2020 | https://blog.yossarian.net/2020/09/19/LLVMs-getelementptr-by-example | <a href="https://web.archive.org/web/*/https://blog.yossarian.net/2020/09/19/LLVMs-getelementptr-by-example">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">


<h2><em>Programming, philosophy, pedaling.</em></h2>

<ul>
    <li><a href="https://blog.yossarian.net/">Home</a></li>
    <li><a href="https://blog.yossarian.net/tags">Tags</a></li>
    <li><a href="https://blog.yossarian.net/favorites">Favorites</a></li>
    <li><a href="https://blog.yossarian.net/archive">Archive</a></li>
    
      <li><a href="https://yossarian.net/">Main Site</a></li>
    
</ul>

<hr>



<h2>
  <em>Sep 19, 2020</em>
</h2>

  <p>Tags:
  
    
    <a href="https://blog.yossarian.net/tags#programming">programming</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#devblog">devblog</a>,
    
  
    
    <a href="https://blog.yossarian.net/tags#llvm">llvm</a>
    
  
  </p>


<p><img src="https://blog.yossarian.net/assets/one-fear-gep.png" alt="">
<em>(With apologies to <a href="https://www.branson-reese.com/">Branson Reese</a>.)</em></p>

<h2 id="preword">Preword</h2>

<p>I‚Äôve been working inside of codebases built on LLVM for a little over two years. I‚Äôm used
to (and very comfortable) reading LLVM IR.</p>

<p>Despite all that, I <em>still</em> need to stop and think about <code>getelementptr</code>‚Äôs semantics whenever I see
it. Thus: this post will serve to help myself (and maybe you, reader) feel more comfortable with
<code>getelementptr</code>.</p>

<h2 id="background">Background</h2>

<p>First of all, there‚Äôs this thing called <a href="https://llvm.org/">LLVM</a>.</p>

<p>LLVM originally stood Low Level Virtual Machine, but
<a href="https://lists.llvm.org/pipermail/llvm-dev/2011-December/046445.html">no longer stands for anything</a>.</p>

<p>The LLVM Project has many parts, but is perhaps best known by ordinary developers
for being the home of Clang, an optimizing C/C++ compiler<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p>

<p>Beyond being an impressive piece of compiler engineering, LLVM‚Äôs greatest claim to fame is
its <em>Intermediate Representation</em>, or IR. Having a (well-designed, mature, stable) IR confers
several advantages to an optimizing compiler:</p>

<ul>
  <li>Effective optimization: LLVM‚Äôs IR correctly reflects the original program semantics (including
C abstract machine semantics) while providing
<a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">important</a>
<a href="https://en.wikipedia.org/wiki/Basic_block">optimization</a>
<a href="https://llvm.org/docs/LangRef.html#vector-type">primitives</a>. Optimizations happen on the IR itself
through a series of mostly independent transformations (‚Äúpasses‚Äù).</li>
  <li>Rapid language development: programming language authors can target LLVM‚Äôs IR instead of native
code, giving them immediate access to
<a href="https://github.com/llvm/llvm-project/tree/master/llvm/lib/Target">all of LLVM‚Äôs supported targets</a>
and in-tree optimizations.</li>
  <li>Program analysis: the same properties that make LLVM‚Äôs IR amendable to optimization also make it
amenable to program analysis, both static and dynamic. Similarly, the general stability of LLVM‚Äôs
IR and APIs has made it the go-to ecosystem for program analysis research.</li>
</ul>

<p>Broadly speaking, LLVM‚Äôs IR is divided into four (increasingly narrow) scopes:</p>

<ul>
  <li><a href="https://llvm.org/doxygen/classllvm_1_1Module.html"><em>Modules</em></a>,
corresponding (roughly) to translation units (e.g., a C source file and its headers)</li>
  <li><a href="https://llvm.org/doxygen/classllvm_1_1Function.html"><em>Functions</em></a>,
corresponding to (you guessed it) source functions</li>
  <li><a href="https://llvm.org/doxygen/classllvm_1_1BasicBlock.html"><em>Basic blocks</em></a>,
corresponding to straight-line sections of code connected to each other via
control flow</li>
  <li><a href="https://llvm.org/doxygen/classllvm_1_1Instruction.html"><em>Instructions</em></a>,
corresponding to individual semantics (think add, subtract, load, store, &amp;c)</li>
</ul>

<p>Instructions, in turn, take <a href="https://llvm.org/doxygen/classllvm_1_1Value.html"><em>Values</em></a>.
Functions, basic blocks, and instructions are themselves kinds of values<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>
(among many other kinds), completing the picture.</p>

<p>This blog post concerns a single LLVM instruction: <code>getelementptr</code>.</p>

<h2 id="first-steps">First steps</h2>

<p>Here‚Äôs how the
<a href="https://llvm.org/docs/LangRef.html#getelementptr-instruction">LLVM Language Reference</a> defines and
describes <code>getelementptr</code> as of LLVM 10:</p>

<div><div><pre><code>&lt;result&gt; = getelementptr &lt;ty&gt;, &lt;ty&gt;* &lt;ptrval&gt;{, [inrange] &lt;ty&gt; &lt;idx&gt;}*
&lt;result&gt; = getelementptr inbounds &lt;ty&gt;, &lt;ty&gt;* &lt;ptrval&gt;{, [inrange] &lt;ty&gt; &lt;idx&gt;}*
&lt;result&gt; = getelementptr &lt;ty&gt;, &lt;ptr vector&gt; &lt;ptrval&gt;, [inrange] &lt;vector index type&gt; &lt;idx&gt;
</code></pre></div></div>

<blockquote>
  <p>The ‚Äò<code>getelementptr</code>‚Äô instruction is used to get the address of a subelement of an aggregate data
structure. It performs address calculation only and does not access memory. The instruction can
also be used to calculate a vector of such addresses.</p>
</blockquote>

<p>In other words: it‚Äôs a souped up LLVM version of x86‚Äôs
<a href="https://c9x.me/x86/html/file_module_x86_id_153.html"><code>lea</code></a>: it computes the effective address of
some field <em>without</em> actually touching any memory. I say ‚Äúsouped up‚Äù because it can do a few things
that (a single) <code>lea</code> can‚Äôt:</p>

<ul>
  <li>
    <p>A single <code>lea</code>‚Äôs ability to compute an indirect address is constrained by
<a href="https://blog.yossarian.net/2020/06/13/How-x86_64-addresses-memory">x86‚Äôs addressing modes</a>: if an effective
address into some data structure can‚Äôt be computed by the combination of the
<em>scale</em>, <em>index</em>, <em>base</em>, and <em>displacement</em> parameters, then multiple <code>lea</code>s are necessary to get
to the ultimate address. This is <strong>not</strong> true for <code>getelementptr</code>: a single <code>getelementptr</code>
instruction can have as many nested indices as an LLVM frontend is content to generate.</p>
  </li>
  <li>
    <p>Like most LLVM instructions, <code>getelementptr</code> has a ‚Äúvector‚Äù variant: instead of returning a
single computed address, it can return a vector of addresses computed together. Consequently,
for the vectorized variant, some (or even all) of the <code>getelementptr</code>‚Äôs index arguments
must be vectors themselves.</p>
  </li>
</ul>

<p>I‚Äôve read this official overview <em>dozens</em> of times, and I <em>basically</em> understand it. Nonetheless,
my eyes still swim whenever I actually <em>read</em> a <code>getelementptr</code> in real IR. LLVM‚Äôs developers
are aware of how confusing <code>getelementptr</code> is: they have an
<a href="https://llvm.org/docs/GetElementPtr.html">entire separate page</a> dedicated to explaining its syntax,
why it doesn‚Äôt touch memory, and the various constraints on constructing a valid one.</p>

<p>Unfortunately, what that page <em>doesn‚Äôt</em> have is a ton of side-by-side examples with real C code.
So that‚Äôs what I‚Äôm going to do today. All examples will use global variables and
<code>-fno-discard-value-names</code> to make the generated IR a bit easier to read.</p>

<h3 id="basic-addressing">Basic addressing</h3>

<p>Let‚Äôs take a look at a trivial C function that just returns the first element in a global array:</p>

<div><div><pre><code><span>long</span> <span>*</span><span>nums</span> <span>=</span> <span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>};</span>
<span>long</span> <span>index_first</span><span>(</span><span>void</span><span>)</span> <span>{</span>
    <span>return</span> <span>nums</span><span>[</span><span>0</span><span>];</span>
<span>}</span>
</code></pre></div></div>

<p>and the generated IR (cleaned up a bit):</p>

<div><div><pre><code><span>@nums</span> <span>=</span> <span>dso_local</span> <span>global</span> <span>i64</span><span>*</span> <span>inttoptr</span> <span>(</span><span>i64</span> <span>1</span> <span>to</span> <span>i64</span><span>*),</span> <span>align</span> <span>8</span>

<span>define</span> <span>dso_local</span> <span>i64</span> <span>@index_first</span><span>()</span> <span>#0</span><span>{</span>
  <span>%0</span> <span>=</span> <span>load</span> <span>i64</span><span>*,</span> <span>i64</span><span>**</span> <span>@nums</span><span>,</span> <span>align</span> <span>8</span>
  <span>%arrayidx</span> <span>=</span> <span>getelementptr</span> <span>inbounds</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>%0</span><span>,</span> <span>i64</span> <span>0</span>
  <span>%1</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>%arrayidx</span><span>,</span> <span>align</span> <span>8</span>
  <span>ret</span> <span>i64</span> <span>%1</span>
<span>}</span>
</code></pre></div></div>

<p><em>(View it on <a href="https://godbolt.org/z/G6G1xr">Godbolt</a>.)</em></p>

<p>Now, step by step:</p>

<ol>
  <li>We <code>load</code> our global <code>nums</code> into <code>%0</code>, with type <code>i64*</code><sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup></li>
  <li>
    <p>We use <code>getelementptr</code> to calculate the address of an <code>i64</code> (the first argument), using:</p>

    <ul>
      <li><code>%0</code> as our base address (the second argument)</li>
      <li><code>0</code> as our index (the third argument)</li>
    </ul>

    <p>‚Ä¶and we store our calculated address into <code>%arrayidx</code>.</p>
  </li>
  <li>We <code>load</code> an <code>i64</code> from our calculated address (<code>%arrayidx</code>) into <code>%1</code></li>
  <li>We <code>ret</code> our loaded value (<code>%1</code>)</li>
</ol>

<p>That‚Äôs not too bad at all! <code>getelementptr</code> behaves <em>exactly</em> like the simple index operation that
it models.</p>

<p>What if we change <code>nums</code> to an array? Arrays decompose to pointers in C so it should be the same, right?</p>

<div><div><pre><code><span>long</span> <span>nums</span><span>[]</span> <span>=</span> <span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>};</span>
<span>long</span> <span>index_first</span><span>(</span><span>void</span><span>)</span> <span>{</span>
    <span>return</span> <span>nums</span><span>[</span><span>0</span><span>];</span>
<span>}</span>
</code></pre></div></div>

<p>Wrong! LLVM IR isn‚Äôt C, and doesn‚Äôt play by C‚Äôs rules. In particular, it has sized array types that
can be <em>cast</em> to pointers, but that don‚Äôt decompose on their own:</p>

<div><div><pre><code><span>@nums</span> <span>=</span> <span>dso_local</span> <span>global</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>1</span><span>,</span> <span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>],</span> <span>align</span> <span>16</span>

<span>define</span> <span>dso_local</span> <span>i64</span> <span>@index_first</span><span>()</span> <span>#0</span> <span>{</span>
  <span>%0</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>getelementptr</span> <span>inbounds</span> <span>([</span><span>3</span> <span>x</span> <span>i64</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]*</span> <span>@nums</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>0</span><span>),</span> <span>align</span> <span>16</span>
  <span>ret</span> <span>i64</span> <span>%0</span>
<span>}</span>
</code></pre></div></div>

<p><em>(View it on <a href="https://godbolt.org/z/eYebqK">Godbolt</a>.)</em></p>

<p>This is simpler in some ways and more complicated in others: <code>getelementptr</code> is now invoked
inline within the <code>load</code><sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup>, but we‚Äôve also saved a <code>load</code> and two SSA variables.</p>

<p>Breaking the <code>getelementptr</code> down:</p>

<ul>
  <li>We‚Äôre calculating the address of an <code>[3 x i64]</code> (i.e., an array of 3 <code>i64</code>s) (first argument)</li>
  <li><code>nums</code> is our base address, which has type <code>[3 x i64]*</code> (second argument)</li>
</ul>

<p>But wait, there are <strong>two</strong> <code>i64 0</code> indexes instead of just one! What gives?</p>

<p>As best I can tell, this is a quirk of the new type of <code>nums</code>: it‚Äôs not a pointer anymore, but an
array. However, because we‚Äôre accessing it <em>through</em> a pointer (because that‚Äôs how <code>getelementptr</code>
is defined), we actually need two <code>0</code> indexes: the first to piece the pointer, and the second to
index the array itself. Same operation, slightly more indirection within the IR<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup>.</p>

<h3 id="more-indirection">More indirection</h3>

<p>What happens when we add a level of source indirection, like an index variable?</p>

<div><div><pre><code><span>long</span> <span>nums</span><span>[]</span> <span>=</span> <span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>};</span>
<span>long</span> <span>i</span><span>;</span>
<span>long</span> <span>index_i</span><span>(</span><span>void</span><span>)</span> <span>{</span>
  <span>return</span> <span>nums</span><span>[</span><span>i</span><span>];</span>
<span>}</span>
</code></pre></div></div>

<div><div><pre><code><span>@nums</span> <span>=</span> <span>dso_local</span> <span>global</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>1</span><span>,</span> <span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>],</span> <span>align</span> <span>16</span>
<span>@i</span> <span>=</span> <span>common</span> <span>dso_local</span> <span>global</span> <span>i64</span> <span>0</span><span>,</span> <span>align</span> <span>8</span>

<span>define</span> <span>dso_local</span> <span>i64</span> <span>@index_i</span><span>()</span> <span>#0</span> <span>{</span>
  <span>%0</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>@i</span><span>,</span> <span>align</span> <span>8</span>
  <span>%arrayidx</span> <span>=</span> <span>getelementptr</span> <span>inbounds</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]*</span> <span>@nums</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>%0</span>
  <span>%1</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>%arrayidx</span><span>,</span> <span>align</span> <span>8</span>
  <span>ret</span> <span>i64</span> <span>%1</span>
<span>}</span>
</code></pre></div></div>

<p><em>(View it on <a href="https://godbolt.org/z/MvMj5o">Godbolt</a>.)</em></p>

<p>It‚Äôs nearly identical to our second trivial example! The only thing that‚Äôs changed is our
last index, going from <code>0</code> to <code>%0</code> (which corresponds to our loaded <code>i</code>). This in
turn confirms what we thought about the two <code>i64 0</code>s above: that the first (still present)
simply pierces the pointer, while the second performs the ‚Äúactual‚Äù indexing.</p>

<p>Let‚Äôs try it with more <del>flavor</del> dimensionality:</p>

<div><div><pre><code><span>long</span> <span>nums</span><span>[</span><span>3</span><span>][</span><span>3</span><span>]</span> <span>=</span> <span>{</span> <span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>},</span> <span>{</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>},</span> <span>{</span><span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>}</span> <span>};</span>
<span>long</span> <span>i</span><span>;</span>
<span>long</span> <span>index_i2</span><span>(</span><span>void</span><span>)</span> <span>{</span>
  <span>return</span> <span>nums</span><span>[</span><span>i</span><span>][</span><span>i</span><span>];</span>
<span>}</span>
</code></pre></div></div>

<p>yields:</p>

<div><div><pre><code><span>@nums</span> <span>=</span> <span>dso_local</span> <span>local_unnamed_addr</span> <span>global</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]]</span> <span>[[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>1</span><span>,</span> <span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>,</span> <span>i64</span> <span>4</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>3</span><span>,</span> <span>i64</span> <span>4</span><span>,</span> <span>i64</span> <span>5</span><span>]],</span> <span>align</span> <span>16</span>
<span>@i</span> <span>=</span> <span>common</span> <span>dso_local</span> <span>local_unnamed_addr</span> <span>global</span> <span>i64</span> <span>0</span><span>,</span> <span>align</span> <span>8</span>

<span>define</span> <span>dso_local</span> <span>i64</span> <span>@index_i2</span><span>()</span> <span>local_unnamed_addr</span> <span>#0</span> <span>{</span>
  <span>%0</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>@i</span><span>,</span> <span>align</span> <span>8</span>
  <span>%arrayidx1</span> <span>=</span> <span>getelementptr</span> <span>inbounds</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]],</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]]*</span> <span>@nums</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>%0</span><span>,</span> <span>i64</span> <span>%0</span>
  <span>%1</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>%arrayidx1</span><span>,</span> <span>align</span> <span>8</span>
  <span>ret</span> <span>i64</span> <span>%1</span>
<span>}</span>
</code></pre></div></div>

<p><em>(View it on <a href="https://godbolt.org/z/6rshW3">Godbolt</a>.)</em></p>

<p>Exactly as expected: all we‚Äôre doing is indexing one layer deeper into the aggregate with the same
index (<code>%0</code>) and, sure, enough, our <code>getelementptr</code> has one additional argument.</p>

<p>Adding a little bit of math makes it clear that the order of the indexes is as we expect:</p>

<div><div><pre><code><span>long</span> <span>nums</span><span>[</span><span>3</span><span>][</span><span>3</span><span>]</span> <span>=</span> <span>{</span> <span>{</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>},</span> <span>{</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>},</span> <span>{</span><span>3</span><span>,</span> <span>4</span><span>,</span> <span>5</span><span>}</span> <span>};</span>
<span>long</span> <span>i</span><span>;</span>
<span>long</span> <span>index_i2</span><span>(</span><span>void</span><span>)</span> <span>{</span>
  <span>return</span> <span>nums</span><span>[</span><span>i</span><span>][</span><span>i</span> <span>+</span> <span>1</span><span>];</span>
<span>}</span>
</code></pre></div></div>

<p>becomes:</p>

<div><div><pre><code><span>@nums</span> <span>=</span> <span>dso_local</span> <span>local_unnamed_addr</span> <span>global</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]]</span> <span>[[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>1</span><span>,</span> <span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>2</span><span>,</span> <span>i64</span> <span>3</span><span>,</span> <span>i64</span> <span>4</span><span>],</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]</span> <span>[</span><span>i64</span> <span>3</span><span>,</span> <span>i64</span> <span>4</span><span>,</span> <span>i64</span> <span>5</span><span>]],</span> <span>align</span> <span>16</span>
<span>@i</span> <span>=</span> <span>common</span> <span>dso_local</span> <span>local_unnamed_addr</span> <span>global</span> <span>i64</span> <span>0</span><span>,</span> <span>align</span> <span>8</span>

<span>define</span> <span>dso_local</span> <span>i64</span> <span>@index_i2</span><span>()</span> <span>local_unnamed_addr</span> <span>#0</span> <span>{</span>
  <span>%0</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>@i</span><span>,</span> <span>align</span> <span>8</span>
  <span>%add</span> <span>=</span> <span>add</span> <span>nsw</span> <span>i64</span> <span>%0</span><span>,</span> <span>1</span>
  <span>%arrayidx1</span> <span>=</span> <span>getelementptr</span> <span>inbounds</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]],</span> <span>[</span><span>3</span> <span>x</span> <span>[</span><span>3</span> <span>x</span> <span>i64</span><span>]]*</span> <span>@nums</span><span>,</span> <span>i64</span> <span>0</span><span>,</span> <span>i64</span> <span>%0</span><span>,</span> <span>i64</span> <span>%add</span>
  <span>%1</span> <span>=</span> <span>load</span> <span>i64</span><span>,</span> <span>i64</span><span>*</span> <span>%arrayidx1</span><span>,</span> <span>align</span> <span>8</span>
  <span>ret</span> <span>i64</span> <span>%1</span>
<span>}</span>
</code></pre></div></div>

<p><em>(View it on <a href="https://godbolt.org/z/c85rsx">Godbolt</a>.)</em></p>

<p><code>%add</code> boils down to <code>i + 1</code>, as expected.</p>

<h3 id="structures-and-other-composites">Structures and other composites</h3>

<p>We‚Äôve been doing pointers and arrays so far, but <code>getelementptr</code> is well defined for <em>any</em>
<a href="https://llvm.org/docs/LangRef.html#t-aggregate">aggregate</a>, including structures.</p>

<p>Let‚Äôs go all in:</p>

<div><div><pre><code><span>typedef</span> <span>struct</span> <span>foo</span> <span>{</span>
  <span>struct</span> <span>{</span>
    <span>long</span> <span>field1</span><span>;</span>
    <span>struct</span> <span>{</span>
      <span>long</span> <span>field2</span><span>;</span>
      <span>long</span> <span>field3</span><span>;</span>
      <span>union</span> <span>{</span>
        <span>long</span> <span>field4</span><span>;</span>
        <span>char</span> <span>field5</span><span>[</span><span>32</span><span>];</span>
      <span>}</span> <span>quux</span><span>;</span>
      <span>long</span> <span>field6</span><span>;</span>
      <span>long</span> <span>fiel‚Ä¶</span></code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.yossarian.net/2020/09/19/LLVMs-getelementptr-by-example">https://blog.yossarian.net/2020/09/19/LLVMs-getelementptr-by-example</a></em></p>]]>
            </description>
            <link>https://blog.yossarian.net/2020/09/19/LLVMs-getelementptr-by-example</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528033</guid>
            <pubDate>Sat, 19 Sep 2020 15:25:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The History of Mozilla Firefox [video]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24528015">thread link</a>) | @sus_007
<br/>
September 19, 2020 | https://tilvids.com/videos/watch/294b946e-c0f9-4da0-8307-9512ef309755 | <a href="https://web.archive.org/web/*/https://tilvids.com/videos/watch/294b946e-c0f9-4da0-8307-9512ef309755">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tilvids.com/videos/watch/294b946e-c0f9-4da0-8307-9512ef309755</link>
            <guid isPermaLink="false">hacker-news-small-sites-24528015</guid>
            <pubDate>Sat, 19 Sep 2020 15:23:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Physics-Based Differentiable Rendering a Comprehensive Introduction]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24527870">thread link</a>) | @adamnemecek
<br/>
September 19, 2020 | https://shuangz.com/courses/pbdr-course-sg20/? | <a href="https://web.archive.org/web/*/https://shuangz.com/courses/pbdr-course-sg20/?">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img alt="teaser" src="https://shuangz.com/courses/pbdr-course-sg20/pbdr_teaser.png">

</p>
<p><span>Abstract</span></p>
<p>
Physics-based rendering algorithms generate photorealistic images by simulating the flow of light through a detailed mathematical representation of a virtual scene. In contrast, <b>physics-based differentiable rendering</b> algorithms focus on computing derivative of images exhibiting complex light transport effects (e.g., soft shadows, interreflection, and caustics) with respect to arbitrary scene parameters such as camera pose, object geometry (e.g., vertex positions) as well as spatially varying material properties expressed as 2D textures and 3D volumes. This new level of generality has made physics-based differentiable rendering a key ingredient for solving many challenging inverse-rendering problems, that is, the search of scene configurations optimizing user-specified objective functions, using gradient-based methods
</p>
<p>
Further, these techniques can be incorporated into probabilistic inference and machine learning pipelines. For instance, differentiable renderers allow "rendering losses" to be computed with complex light transport effects captured. Additionally, they can be used as generative models that synthesize photorealistic images.
</p>
<p>
<u><b>Challenges.</b></u> Compared to its "ordinary" counterpart, physics-based differentiable rendering introduces unique theoretical and practical challenges. For instance, practical problems can involve many (e.g., 10<sup>6</sup>--10<sup>10</sup>) parameters, making simple techniques for differentiation such as finite differences impractical. More advanced tools for automatic differentiation (e.g., <tt>PyTorch</tt> or <tt>Tensorflow</tt>) record a graph of intermediate computation steps that tends to become prohibitively large. Lastly, geometric derivatives involve a unique challenge: boundaries of objects introduce troublesome discontinuities during the computation of shadows and interreflections that lead to incorrect gradients if precautions are not taken. Thankfully, recent advances in physics-based differentiable rendering theory have enabled the differentiation of radiometric measurements with respect to arbitrary scene parameters as well as unbiased Monte Carlo estimators. <b>In this course, we provide an in-depth introduction to general-purpose physics-based differentiable rendering.</b>
</p>
<p><span>Course Recording</span></p>
<iframe src="https://player.vimeo.com/video/455558682" width="920" height="518" frameborder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe>
<p><span>Resources</span></p>
<ul>
<li>
<b>Slides:</b> <a href="https://shuangz.com/courses/pbdr-course-sg20/downloads/pbdr-course-sg20-slides.key">key</a> (548 MB), <a href="https://shuangz.com/courses/pbdr-course-sg20/downloads/pbdr-course-sg20-slides.pdf">pdf</a> (122 MB)
</li>
<li>
<b>Course notes:</b> <a href="https://shuangz.com/courses/pbdr-course-sg20/downloads/pbdr-course-sg20-notes.pdf">pdf</a> (9 MB, work in progress)
</li>
<li>
<b>Demo code:</b> <a href="https://github.com/BachiLi/diffrender_tutorials">github</a>
</li>
</ul>
</div><p>
¬© 2020. All Rights Reserved.
</p></div>]]>
            </description>
            <link>https://shuangz.com/courses/pbdr-course-sg20/?</link>
            <guid isPermaLink="false">hacker-news-small-sites-24527870</guid>
            <pubDate>Sat, 19 Sep 2020 15:05:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I built a serverless recipes app with FaunaDB and Vue.js ‚Äì ttntm.me]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24527105">thread link</a>) | @kiyanwang
<br/>
September 19, 2020 | https://ttntm.me/blog/serverless-recipes-app-faunadb-vuejs/ | <a href="https://web.archive.org/web/*/https://ttntm.me/blog/serverless-recipes-app-faunadb-vuejs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="introduction">Introduction</h2><p>I had already heard of
<a href="https://fauna.com/client-serverless" title="client-serverless architecture" target="_blank" rel="noopener">client-serverless architecture</a> and read a bunch of articles about the subject when I came up with the idea of creating a
<a href="https://recept0r.com/" title="personal use recipes app" target="_blank" rel="noopener">personal use recipes app</a> earlier this year - I hadn‚Äôt done anything like that before though.</p><p><img src="https://ttntm.me/img/blog/client-serverless-credit-faunadb.png" alt="client-serverless application model"></p><p>What I had in mind at this point was a minimal web application that would serve me and my wife as a recipes collection for food that we enjoy cooking. Convenient bonus features like PWA functionality (i.e. using the app on the phone or tablet when standing in the kitchen) and user authentication should be available too, making sure it‚Äôs not just functional, but also enjoyable to use.</p><p>At first, I was tempted to go for a static site + headless CMS approach that worked really well for many other projects I did - it could be considered serverless, but it wouldn‚Äôt have been a challenge, nor anything I hadn‚Äôt done before; and that‚Äôs precisely the reason I went looking for something else, eventually going for Vue.js + FaunaDB for this project.</p><h3 id="why-fauna">Why Fauna?</h3><p>The first time I came across
<a href="https://dashboard.fauna.com/accounts/register?utm_source=DevTo&amp;utm_medium=referral&amp;utm_campaign=WritewithFauna_ServerlessRecipes_TDoe" title="FaunaDB" target="_blank" rel="noopener">FaunaDB</a> was when I was looking for SQL alternatives for a project at work last year. We didn‚Äôt go for it (PostgreSQL was chosen in the end), but I kept it in mind for the future. Back then, it may have sounded a little ‚Äútoo good to be true‚Äù for the majority of the decision makers involved, but marketing statements like ‚Äúadd a global datastore to your app in minutes‚Äù and ‚Äúdon‚Äôt worry about database correctness, sharding, provisioning, latency, or scale‚Äù left me with an overall positive impression of their service.</p><p>So, when I had to pick a database for my recipes app, I found myself looking at FaunaDB‚Äôs website again, checking out their
<a href="https://dashboard.fauna.com/accounts/register?utm_source=DevTo&amp;utm_medium=referral&amp;utm_campaign=WritewithFauna_ServerlessRecipes_TDoe" title="pricing model" target="_blank" rel="noopener">pricing model</a> this time. The ‚ÄúAlways Free‚Äù plan seemed generous enough to support a small personal use app, so I didn‚Äôt hesitate much and signed up right away.</p><p>To be honest, I didn‚Äôt really bother looking for alternatives too much - self hosted databases or things like AWS/Azure/Firebase were not quite what I had in mind.</p><h2 id="basic-app-functionality">Basic App Functionality</h2><p>The recipes app I built can be described as a basic CRUD (create-read-update-delete) application - there‚Äôs no intense computing or sophisticated algorithms. The recipes are available in read-only mode to the public, whereas creating, editing and deleting them requires an authenticated user (i.e. the author). Other than that, there are smaller convenience features like search, filtering and a dedicated page to see your own recipes.</p><h3 id="vue-app-setup">Vue App Setup</h3><p>Vue.js was on my list of ‚Äúframeworks I‚Äôd like to work with‚Äù for a while, so the decision of going for it was a rather easy one. If you‚Äôre looking for some good reasons in favor of using Vue in general, some of them can be found here:
<a href="https://michaelnthiessen.com/underdog-framework" title="michaelnthiessen.com/underdog-framework" target="_blank" rel="noopener">michaelnthiessen.com/underdog-framework</a></p><p>What I ended up building can be described as a classic SPA with multiple routes (i.e. pages) for different functions. For anonymous users, it loads a page of recipe cards that can be searched and an ‚ÄúAbout‚Äù page. Each recipe card can be clicked, which opens its respective details page containing the actual cooking instructions and a nice image. There‚Äôs a login button that can be used to both sign up and sign in - public signup is currently disabled though, as this is an invite only service at the moment.</p><p>Once logged in, registered users get 2 additional routes: ‚ÄúCreate‚Äù and ‚ÄúMy Recipes‚Äù. As the respective title suggests, these pages can be used to either create additional recipes or to view a sortable list of the current user‚Äôs recipes. Editing and deleting recipes is a part of each recipe‚Äôs details page when logged in as the recipe‚Äôs author.</p><p>Each of the app‚Äôs individual routes=pages was implemented as its own Vue
<a href="https://vuejs.org/v2/guide/single-file-components.html" title="SFC" target="_blank" rel="noopener">SFC</a> file, shared functionality (i.e. navbar, toast messages, etc.) makes use of reusable components. To tie it all together, Vue extensions like <code>vue-router</code> and <code>vuex</code> were used to manage rounting and application state more efficiently - you‚Äôre welcome to browse the full list of dependencies
<a href="https://github.com/ttntm/recept0r/blob/master/package.json" title="on GitHub" target="_blank" rel="noopener">on GitHub</a> if you‚Äôre interested in what other packages I used.</p><h3 id="faunadb-setup">FaunaDB Setup</h3><p>Setting up a database in FaunaDB is surprisingly easy - log in to your account, create a database and finally create a collection for your data (i.e. recipes). Their
<a href="https://docs.fauna.com/fauna/current/start/cloud" title="documentation" target="_blank" rel="noopener">documentation</a> regarding ‚Äúgetting started‚Äù is quite good and there‚Äôs also an interactive tutorial that provides a practical introduction once you signed up.</p><p>As FaunaDB is schema-less and close to zero-config, the structure of my app‚Äôs data organically grew from its needs. An example can probably help to clarify what I mean here: initially, I didn‚Äôt really think much about where to store the images for the recipes. FaunaDB is technically able to store Base64 encoded images inside the recipe objects, so I went for that approach initially. As images tend to be large though, this inflated my database, added a lot of bandwidth consumption and crippled loading times on top of that - I can assure you that it‚Äôs not a good idea (also
<a href="https://docs.fauna.com/fauna/current/api/fql/documents#limits" title="not recommended" target="_blank" rel="noopener">not recommended</a> by FaunaDB themselves).</p><p>That‚Äôs not the point though - my app wrote the Base64 images into the database without any specific configuration and later <a href="https://ttntm.me/blog/how-to-use-cloudinary-with-vue-app/">replaced them with links to the actual images</a> just like that as well. FaunaDB simply adjusts to the data you provide, even if not all data inside a collection has the same set of properties (i.e. some recipes with picture, others without).</p><p><strong>To sum it up</strong>: as far as my rather simple application is concerned, FaunaDB was quick and easy to set up and configure, no matter what data I provided or how I ended up transforming and manipulating it.</p><h2 id="serverless-functionality">Serverless Functionality</h2><p>It would have been possible to implement the necessary database operations directly in the Vue app (see
<a href="https://docs.fauna.com/fauna/current/drivers/javascript.html" title="Fauna's JS driver" target="_blank" rel="noopener">Fauna's JS driver</a>, but that would have been a severe security concern. I decided to add a 3rd layer here, forcing database operations to go through Netlify functions. These serverless functions provide a clear separation of concerns and added security for the database access token.</p><p>But what are Netlify functions?</p><p>Here‚Äôs an explanatory paragraph from
<a href="https://functions.netlify.com/" title="their website" target="_blank" rel="noopener">their website</a>:</p><blockquote><p>Functions are scripts that you write and deploy with Netlify. The function‚Äôs code is hidden from the public, but you can interact with it just like any other API service.</p></blockquote><p>For my app, I am using a couple of these functions for what would otherwise have to be backend or server-side functionality - more specifically for all database operations and user identity management (via
<a href="https://docs.netlify.com/visitor-access/identity" title="Netlify Identity" target="_blank" rel="noopener">Netlify Identity</a>).</p><h3 id="local-development-configuration">Local Development Configuration</h3><p>It was my first time using Netlify functions and as such, I based my choice of Node modules and configuration on seemingly outdated information; my functions returned errors instead of data‚Ä¶</p><p>After some hours of less successful trial and error cycles, I stumbled upon this article recommending the&nbsp;<code>netlify-cli</code> module:&nbsp;
<a href="https://alligator.io/nodejs/solve-cors-once-and-for-all-netlify-dev" title="Solve CORS once and for all with Netlify Dev" target="_blank" rel="noopener">Solve CORS once and for all with Netlify Dev</a></p><p>So, if you‚Äôre going to use Netlify functions, this is as good as it gets - really simple configuration and immediate success. Just keep in mind or bookmark&nbsp;<code>localhost:8888</code> - your terminal output (based on Vue CLI and Webpack) will continue to direct you to port 8080 instead where functions don‚Äôt work and none of the success is visible.</p><h3 id="user-authentication">User Authentication</h3><p>The user signup and login procedures I used for my app are based on a library called
<a href="https://github.com/netlify/gotrue-js" title="gotrue-js" target="_blank" rel="noopener">gotrue-js</a> that in itself ‚Äúis a client library for the
<a href="https://github.com/netlify/gotrue" title="GoTrue" target="_blank" rel="noopener">GoTrue</a> API‚Äù (both by Netlify).</p><blockquote><p>GoTrue is a small open-source API written in golang, that can act as a self-standing API service for handling user registration and authentication for JAM projects.</p></blockquote><p>On top of that, large parts of the code I used for my app‚Äôs user authentication process are based on
<a href="https://github.com/chiubaca/vue-netlify-fauna-starter-kit" title="this repository" target="_blank" rel="noopener">this repository</a> where <code>gotrue-js</code> was successfully implemented for a Vue.js based application. A truly helpful resource indeed.</p><h3 id="functions">Functions</h3><p>With both the Vue app and the FaunaDB instance up and running, the following serverless functions can be considered the app‚Äôs backbone. To make them work, FaunaDB‚Äôs JavaScript Driver, the client secret and
<a href="https://docs.fauna.com/fauna/current/api/fql/" title="Fauna Query Language" target="_blank" rel="noopener">Fauna Query Language</a> are used.</p><h4 id="read-recipes-from-the-database">Read Recipes from the Database</h4><p>Recipes are stored in the database as an array of JSON data. In order to display those recipes to the app‚Äôs users, they have to be obtained from the database when one of these things happens:</p><ol><li>User navigates to the app‚Äôs front page</li><li>User navigates to an individual recipe‚Äôs details page</li><li>User navigates to the ‚ÄúMy Recipes‚Äù page</li></ol><p>These cases are implemented as a separate Netlify function each. First, we‚Äôll have a look at the function called <code>all-recipes.js</code>:</p><div><pre><code data-lang="js"><span>const</span> <span>faunadb</span> <span>=</span> <span>require</span><span>(</span><span>'faunadb'</span><span>);</span>

<span>const</span> <span>q</span> <span>=</span> <span>faunadb</span><span>.</span><span>query</span>
<span>const</span> <span>client</span> <span>=</span> <span>new</span> <span>faunadb</span><span>.</span><span>Client</span><span>({</span>
  <span>secret</span><span>:</span> <span>process</span><span>.</span><span>env</span><span>.</span><span>FAUNADB_SECRET</span>
<span>})</span>

<span>exports</span><span>.</span><span>handler</span> <span>=</span> <span>(</span><span>event</span><span>,</span> <span>context</span><span>,</span> <span>callback</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>console</span><span>.</span><span>log</span><span>(</span><span>"Function `all-recipes` invoked"</span><span>)</span>
  <span>return</span> <span>client</span><span>.</span><span>query</span><span>(</span><span>q</span><span>.</span><span>Paginate</span><span>(</span><span>q</span><span>.</span><span>Match</span><span>(</span><span>q</span><span>.</span><span>Ref</span><span>(</span><span>"indexes/all_recipes"</span><span>))))</span>
  <span>.</span><span>then</span><span>((</span><span>response</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> <span>recipeRefs</span> <span>=</span> <span>response</span><span>.</span><span>data</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>"Recipe refs"</span><span>,</span> <span>recipeRefs</span><span>)</span>
    <span>console</span><span>.</span><span>log</span><span>(</span><span>`</span><span>${</span><span>recipeRefs</span><span>.</span><span>length</span><span>}</span><span> recipes found`</span><span>)</span>
    <span>const</span> <span>getAllRecipeDataQuery</span> <span>=</span> <span>recipeRefs</span><span>.</span><span>map</span><span>((</span><span>ref</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>return</span> <span>q</span><span>.</span><span>Get</span><span>(</span><span>ref</span><span>)</span>
    <span>})</span>
    <span>return</span> <span>client</span><span>.</span><span>query</span><span>(</span><span>getAllRecipeDataQuery</span><span>).</span><span>then</span><span>((</span><span>ret</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>return</span> <span>callback</span><span>(</span><span>null</span><span>,</span> <span>{</span>
        <span>statusCode</span><span>:</span> <span>200</span><span>,</span>
        <span>body</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>ret</span><span>)</span>
      <span>})</span>
    <span>})</span>
  <span>}).</span><span>catch</span><span>((</span><span>error</span><span>)</span> <span>=&gt;</span> <span>{...})</span>
<span>}</span>
</code></pre></div><p>Once a connection is established, the function queries for the <code>all_recipes</code> index (manually generated for the recipes collection when setting up the database) which returns a
<a href="https://docs.fauna.com/fauna/current/api/fql/functions/paginate?lang=javascript" title="Page" target="_blank" rel="noopener">Page</a> of results. These results - essentially an array of recipe IDs - are then processed by the function <code>getAllRecipeDataQuery()</code> which eventually returns an array of all recipes complete which each one of their individual properties (name, description, image, etc.).</p><p>The Netlify function <code>recipe-get.js</code> queries the database for a single recipe and looks like this:</p><div><pre><code data-lang="js"><span>const</span> <span>faunadb</span> <span>=</span> <span>require</span><span>(</span><span>'faunadb'</span><span>);</span>

<span>function</span> <span>getId</span><span>(</span><span>urlPath</span><span>)</span> <span>{</span>
  <span>return</span> <span>urlPath</span><span>.</span><span>match</span><span>(</span><span>/([^\/]*)\/*$/</span><span>)[</span><span>0</span><span>]</span>
<span>}</span>

<span>const</span> <span>q</span> <span>=</span> <span>faunadb</span><span>.</span><span>query</span>
<span>const</span> <span>client</span> <span>=</span> <span>new</span> <span>faunadb</span><span>.</span><span>Client</span><span>({</span>
  <span>secret</span><span>:</span> <span>process</span><span>.</span><span>env</span><span>.</span><span>FAUNADB_SECRET</span>
<span>})</span>

<span>exports</span><span>.</span><span>handler</span> <span>=</span> <span>(</span><span>event</span><span>,</span> <span>context</span><span>,</span> <span>callback</span><span>)</span> <span>=&gt;</span> ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ttntm.me/blog/serverless-recipes-app-faunadb-vuejs/">https://ttntm.me/blog/serverless-recipes-app-faunadb-vuejs/</a></em></p>]]>
            </description>
            <link>https://ttntm.me/blog/serverless-recipes-app-faunadb-vuejs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24527105</guid>
            <pubDate>Sat, 19 Sep 2020 12:55:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NATO Strap and James Bond]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24527065">thread link</a>) | @tosh
<br/>
September 19, 2020 | https://www.esprit-nato.com/en/content/10-nato-watch-strap-band-and-james-bond-007 | <a href="https://web.archive.org/web/*/https://www.esprit-nato.com/en/content/10-nato-watch-strap-band-and-james-bond-007">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content-wrapper">
    
    

  <section id="main">

    
      
        
      
    

    
  <section id="content">

    
      
<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>

<p>We widely detail attractive features of NATO strap on Esprit NATO, we are here concentrating on the myth "James Bond and NATO straps".</p>
<p>Let's start with the bad news : <strong>Sean Connery's strap in Golfinger (1964) was not a NATO strap</strong>. Many of us think the opposite, which have most likely contributed to the sucess of NATO straps, but we believe this watch strap first became famous mainly because of its characteristics and many benefits.</p>
<p>However, <strong>James Bond and NATO straps are indeniably connected</strong>. Why ? This is what we suggest to focus on this page...</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>James Bond was wearing a nylon strap in Goldfinger in 1964</h3>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Sean-Connery-nylon-watch-strap-Goldfinger-1964.jpg" alt="" width="800" height="649"></p>

<p>The nylon strap was then put on the famous <strong>Rolex Submariner ref. 6538</strong>, iconic James Bond's watch.</p>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Sean-Connery-nylon-watch-strap-Goldfinger-1964-focus-1.jpg" alt="" width="800" height="480"></p>

<p>It was 16 mm wide on a 20 mm lug width watch. It's a unique and surprising style as much aesthetically as functionaly. Not so British...</p>
<p>It is said that the strap <strong>belonged to a member of the production team</strong> who came to the assitance of this Submariner at the last minute. This would be an explanation of the wrong width... A mishap that would have left its mark in history ? We were unable to verify this information.</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>Why did this Submariner 6538 absolutely need a nylon strap ?</h3>
<p>Because at that time none other strap enabled to put James Bond's watch both on his wrist and on his diving suit, <strong>typical feature of nylon strap,</strong> which thereafter is part of&nbsp;<a href="https://www.esprit-nato.com/content/9-l-histoire-du-bracelet-nato" target="_blank" rel="noreferrer noopener">some requirements for the Royal Navy</a>...</p>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Sean-Connery-nylon-watch-strap-Goldfinger-1964-focus-2.jpg" alt="" width="800" height="628"></p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>Why is this Goldfinger strap not a NATO strap ?</h3>
<p>For two reasons :</p>
<p>- NATO straps and its strict requirements emerged <strong>nine years after</strong>, in 1973, further to British MOD request - <a href="https://www.esprit-nato.com/content/9-l-histoire-du-bracelet-nato" target="_blank" rel="noreferrer noopener">we explain this in detail on a dedicated page</a>.</p>
<p>- Sean Connery's Submariner strap in Goldfinger has <strong>a nylon loop</strong>, whereas NATO straps have two steel loops.</p>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Sean-Connery-nylon-watch-strap-Goldfinger-1964-focus-3.jpg" alt="" width="800" height="827"></p>

<p>James Bond was then wearing a single pass nylon strap with a nylon loop from the same band (same width and pattern).</p>
<p><a href="https://www.esprit-nato.com/bracelets-montre-nylon/153-le-vrai-james-bond-sean-connery-dans-goldfinger-noir-kaki-rouge.html" target="_blank" rel="noreferrer noopener">We are proposing a version here on Esprit NATO</a>.</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>Another nylon strap in Goldfinger</h3>
<p>Pussy Galore, Goldfinger's private pilot, was wearing a Coke Rolex GMT Master ref. 6542 on a nylon strap too. Her character was one of the first woman to wear a Rolex sport watch for men in a movie.</p>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Pussy-Galore-nylon-strap-Rolex-6542-Goldfinger-1964.jpg" alt="" width="800" height="1077"></p>

<p>Was nylon strap already essential ?</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>The real NATO strap in James Bond world</h3>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/publicite-bracelet-NATO-James-Bond.jpg" alt="" width="800" height="360"></p>

<p>We have seen several similarities between Sean Connery's nylon strap in Goldfinger and <a href="https://www.esprit-nato.com/content/9-l-histoire-du-bracelet-nato" target="_blank" rel="noreferrer noopener">the original NATO designed for British army</a>. It is probably <strong>the origin of the confusion</strong>...</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>Myth becomes reality</h3>
<p>In 2008, Daniel Craig is wearing a Rolex 6538 Submariner "Big Crown" offered by Barbara Broccoli, current producer of James Bond movies, and daughter of the original James Bond producer (Albert "Cubby" Broccoli), and he is wearing this inconic watch on ...</p>

<p><img src="https://www.esprit-nato.com/img/cms/James%20Bond/bracelet-NATO-Daniel-Craig-James-Bond-Rolex-Submariner-6538-1.jpg" alt="" width="799" height="1249"></p>

<p>No doubt, it is a real NATO strap as we clearly identify one of its typical stainless steel loops.</p>

<p>‚Äî‚Äî‚Äî‚Äî ‚ô¶ ‚Äî‚Äî‚Äî‚Äî</p>
<h3>James Bond straps on Esprit NATO</h3>
<h4>The most mythical</h4>
<p>The most mythical pattern is Sean Connery's one in Goldfinger, Black 2 Green stripes and Burgundy borders. We propose it in multiple variations <strong>under the name "Bond Original"</strong>.</p>
<p><a href="https://www.esprit-nato.com/bracelets-montre-nylon/153-le-vrai-james-bond-sean-connery-dans-goldfinger-noir-kaki-rouge.html" target="_blank" rel="noreferrer noopener">But here is the authentic Bond Original Goldfinger strap</a> :</p>

<p><a href="https://www.esprit-nato.com/bracelets-montre-nylon/153-le-vrai-james-bond-sean-connery-dans-goldfinger-noir-kaki-rouge.html" target="_blank" rel="noreferrer noopener"><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Bracelet-US-Military-Vrai-James-Bond-Sean-Connery-Noir-Kaki-Rouge.jpg" alt="" width="801" height="534"></a></p>

<h4>The most famous</h4>
<p>The most famous James Bond pattern is the Black 2 Grey stripes, for several reasons :</p>
<ul><li>It is Daniel Craig's one.</li>
<li>Goldfinger movie was initially in black and white, so the original pattern looked like black and grey. Confusion has existed for a long time...</li>
<li>It matches to any watch, any style and any other colours, and remains sober despite its strong character.</li>
</ul><p>We propose it <strong>under the name "Craig Bond"</strong>. It is so essential that you will find on Esprit NATO in <strong>every design and size</strong>.</p>

<p><a href="https://www.esprit-nato.com/nato-boucles-polies-bracelets-montre/276-bracelet-nylon-nato-bond-craig-noir-gris-boucle-polie.html" target="_blank" rel="noreferrer noopener"><img src="https://www.esprit-nato.com/img/cms/James%20Bond/Bracelet-NATO-Prestige-James-Bond-Craig-Noir-Gris.jpg" alt="" width="801" height="534"></a></p>

<h4>Others</h4>
<p>By extension, we name <a href="https://www.esprit-nato.com/6-nato-james-bond-bracelets-montre" target="_blank" rel="noreferrer noopener"><strong>"James Bond NATO straps"</strong></a> every 2 stripes strap (with or without borders).</p>

<p><a href="https://www.esprit-nato.com/6-nato-james-bond-bracelets-montre" target="_blank" rel="noreferrer noopener"><img src="https://www.esprit-nato.com/img/cms/James%20Bond/bracelets-nato-james-bond-straps.jpg" alt="" width="800" height="435"></a></p>

<hr><p><em>We hope you are now convinced that NATO strap and James Bond are connected forever.</em></p>
<p><em>However, if you want to watch Goldfinger again or to buy a Bond NATO, then we succeeded in our mission...</em></p>

    

    
      
    

    
      
    

  </section>


    
      
    

  </section>


    
  </div></div>]]>
            </description>
            <link>https://www.esprit-nato.com/en/content/10-nato-watch-strap-band-and-james-bond-007</link>
            <guid isPermaLink="false">hacker-news-small-sites-24527065</guid>
            <pubDate>Sat, 19 Sep 2020 12:48:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Describing and Inventing a New Regular Expression Quantifier]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 14 (<a href="https://news.ycombinator.com/item?id=24526895">thread link</a>) | @robertelder
<br/>
September 19, 2020 | https://blog.robertelder.org/regular-expression-quantifiers/ | <a href="https://web.archive.org/web/*/https://blog.robertelder.org/regular-expression-quantifiers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<div>


<h5>2020-08-18 - By Robert Elder</h5>






<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This article is part of a <a href="https://blog.robertelder.org/regular-expressions/">Series On Regular Expressions</a>.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In this article, we will discuss regular expression quantifiers with the ultimate goal of developing a very deep understanding of how they work. &nbsp;In fact, by the end of this article you'll understand quantifiers so well, that you'll be able to extend your knowledge to invent a completely new quantifier has never been seen before in any regular expression engine.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;By the end of this article, you will understand everything in the following diagram:</p>

<table>
	<tbody>
		<tr><td>Quantifier Symbol</td><td>Min # Matches</td><td>Max # Matches</td><td>As Many/Few As Possible</td><td>Allow Backtracking?</td></tr>
		<tr><td>?</td><td>0</td><td>1</td><td>Many</td><td>Yes</td></tr>
		<tr><td>*</td><td>0</td><td>Infinity</td><td>Many</td><td>Yes</td></tr>
		<tr><td>+</td><td>1</td><td>Infinity</td><td>Many</td><td>Yes</td></tr>
		<tr><td>{N}</td><td>N</td><td>N</td><td>Many</td><td>Yes</td></tr>
		<tr><td>{,N}</td><td>0</td><td>N</td><td>Many</td><td>Yes</td></tr>
		<tr><td>{N,}</td><td>N</td><td>Infinity</td><td>Many</td><td>Yes</td></tr>
		<tr><td>{N,M}</td><td>N</td><td>M</td><td>Many</td><td>Yes</td></tr>

		<tr><td>??</td><td>0</td><td>1</td><td>Few</td><td>Yes</td></tr>
		<tr><td>*?</td><td>0</td><td>Infinity</td><td>Few</td><td>Yes</td></tr>
		<tr><td>+?</td><td>1</td><td>Infinity</td><td>Few</td><td>Yes</td></tr>
		<tr><td>{N}?</td><td>N</td><td>N</td><td>Few</td><td>Yes</td></tr>
		<tr><td>{,N}?</td><td>0</td><td>N</td><td>Few</td><td>Yes</td></tr>
		<tr><td>{N,}?</td><td>N</td><td>Infinity</td><td>Few</td><td>Yes</td></tr>
		<tr><td>{N,M}?</td><td>N</td><td>M</td><td>Few</td><td>Yes</td></tr>

		<tr><td>?+</td><td>0</td><td>1</td><td>Many</td><td>No</td></tr>
		<tr><td>*+</td><td>0</td><td>Infinity</td><td>Many</td><td>No</td></tr>
		<tr><td>++</td><td>1</td><td>Infinity</td><td>Many</td><td>No</td></tr>
		<tr><td>{N}+</td><td>N</td><td>N</td><td>Many</td><td>No</td></tr>
		<tr><td>{,N}+</td><td>0</td><td>N</td><td>Many</td><td>No</td></tr>
		<tr><td>{N,}+</td><td>N</td><td>Infinity</td><td>Many</td><td>No</td></tr>
		<tr><td>{N,M}+</td><td>N</td><td>M</td><td>Many</td><td>No</td></tr>

		<tr><td>?üí©</td><td>0</td><td>1</td><td>Few</td><td>No</td></tr>
		<tr><td>*üí©</td><td>0</td><td>Infinity</td><td>Few</td><td>No</td></tr>
		<tr><td>+üí©</td><td>1</td><td>Infinity</td><td>Few</td><td>No</td></tr>
		<tr><td>{N}üí©</td><td>N</td><td>N</td><td>Few</td><td>No</td></tr>
		<tr><td>{,N}üí©</td><td>0</td><td>N</td><td>Few</td><td>No</td></tr>
		<tr><td>{N,}üí©</td><td>N</td><td>Infinity</td><td>Few</td><td>No</td></tr>
		<tr><td>{N,M}üí©</td><td>N</td><td>M</td><td>Few</td><td>No</td></tr>
	</tbody>
</table>

<iframe src="https://www.youtube.com/embed/YTMJ4E5qVkM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Quantifiers are used to quantify how many times a part of your regular expression should be repeated. &nbsp;Every time you want to repeat something in a regex (an individual character, a character class or a sub-expression) you can write a quantifier after it to specify how many times it should be repeated.</p>


<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The following list shows some examples of the most common quantifiers:</p>

<ul>
<li><strong>?</strong></li>
<li><strong>*</strong></li>
<li><strong>+</strong></li>
<li><strong>{N}</strong></li>
<li><strong>{,N}</strong></li>
<li><strong>{N,}</strong></li>
<li><strong>{N,M}</strong></li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This article will only discuss these quantifiers within the context of Perl-like regular expressions (<em>not</em> POSIX regular expressions). &nbsp;This is worth mentioning since the older POSIX style regular expression quantifiers lack certain features, and have significantly different behaviour in some cases.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Most typical guides to regular expressions would probably start by immediately diving into a detailed description of what each of these symbols does. &nbsp;They would probably start by explaining the meaning of the '*', '+', and '?' symbols. &nbsp;However, <em><strong>this won't be your typical guide to regular expressions</strong></em>.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instead, we'll start by focusing on understanding this quantifier:</p>

<p><code><pre>{N,M}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The reason for this atypical approach is simple: &nbsp;Once you understand what <em>this</em> quantifier does, you're already 50% done learning everything there is to know about quantifiers. &nbsp;Let's do a few examples.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assume you need to write a regular expression that can match both spellings of the word 'enroll'. &nbsp;The word 'enroll' can sometimes be spelled with one 'l' or two 'l's depending on whether the author chooses to use British or American spelling conventions. &nbsp;Using this regex:</p>

<p><code><pre>enrol{1,2}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;you'll be able to match both spellings of 'enroll':</p>

<ul>
	<li>enrol</li>
	<li>enroll</li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here is a link to an <a href="https://blog.robertelder.org/regular-expression-visualizer/?the_regex=enrol%7B1%2C2%7D">interactive visualization of the regex enrol{1,2}</a></p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In this case the quantifier is the '{1,2}' part. &nbsp;The '{1,2}' quantifier can be interpreted in English to mean "Whatever came just before this quantifier, repeated anywhere from 1 to 2 times.". &nbsp;If you wanted to change the regex to also match any misspellings of 'enroll' that have 3 'l's, you could just change the upper bound of the range from 2 to 3:</p>

<p><code><pre>enrol{1,3}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And now, using the regex above, you can match all three spellings of the word 'enroll':</p>

<ul>
	<li>enrol</li>
	<li>enroll</li>
	<li>enrolll</li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You could go even further and change the regex to include misspellings that don't have any 'l's at all, by decreasing the lower bound of the range 0:</p>

<p><code><pre>enrol{0,3}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Using the regex above, you can match these four (miss)spellings of the word 'enroll':</p>

<ul>
	<li>enro</li>
	<li>enrol</li>
	<li>enroll</li>
	<li>enrolll</li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The pattern that this quantifier uses should now be a bit more obvious: &nbsp;Whenever we want specify that the previous character can be repeated a lower bound of N times up to an upper bound of M times, we can write this quantifier after the character:</p>

<p><code><pre>{N,M}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Of course, the letters 'N' and 'M' here are placeholders that are used for the purposes of documentation. &nbsp;In reality, you would never literally write '{N,M}' as a quantifier in your regular expression. &nbsp;You would would write something like '{2,8}', '{0,20}' or any other pair of positive integers.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In order to make things crystal clear, there are a few cases where the endpoints of the range are not explicitly written, but are instead implied. &nbsp;Here is an example:</p>

<p><code><pre>a{,5}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The interpretation of this quantifier is to repeat the character 'a' anywhere from (it doesn't matter times) to 5 times. &nbsp;Another way to describe the same thing would be to say "repeat the character 'a' anywhere from 0 times to 5 times" which you could do with the following equivalent regex:</p>

<p><code><pre>a{0,5}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You'll sometimes see the same thing with the upper bound of the range:</p>

<p><code><pre>a{3,}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and in these cases the upper end of the range is assumed to be "Infinity", however there is no equivalent way to write this explicitly. &nbsp;You simply can't write something like this:</p>

<p><code><pre>a{3,Infinity} (This does not work)
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;since most regex engines will default to interpreting the range quantifier as literal text if it doesn't see the format it expects. &nbsp;Therefore, when the upper bound of your range is 'infinity', you must simply omit the second number like this: '{3,}'.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;One final important case to consider is when a single number is used to describe that the previous character should be matched <em>exactly</em> the number of times specified. &nbsp;For example, this regex will match any sequence of <em>exactly</em> 4 'a' characters:</p>

<p><code><pre>a{4}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If we wanted to re-write this using a range, we could write:</p>

<p><code><pre>a{4,4}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which means the same thing.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Of the quantifiers we've reviewed so far, it should be clear that they can all be re-written in the following standardized form:</p>

<p><code><pre>{N,M}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where</p>

<ul>
	<li>'N' is a positive integer.</li>
	<li>'M' is a positive integer OR left blank to represent 'infinity'.</li>
</ul>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We still haven't discussed the meaning of the '?', '*' and '+' quantifiers, so let's do that now:</p>

<ul>
	<li>'<strong>?</strong>' is just <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntax sugar</a> for '<strong>{0,1}</strong>'.</li>
	<li>'<strong>*</strong>' is just <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntax sugar</a> for '<strong>{0,}</strong>'.</li>
	<li>'<strong>+</strong>' is just <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntax sugar</a> for '<strong>{1,}</strong>'.</li>
</ul>


<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here is an <a href="https://blog.robertelder.org/regular-expression-visualizer/?the_regex=a%3F&amp;the_subject=a">example interactive visualization showing the '?' quantifier</a> that makes the character 'a' optional. &nbsp;As you can see, the control flow graph splits into two possible paths: &nbsp;One that skips the character 'a', and one that requires it. &nbsp;If one path fails, the regular expression engine simply backtracks to try the other path.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here is an <a href="https://blog.robertelder.org/regular-expression-visualizer/?the_regex=a%2B&amp;the_subject=a">example interactive visualization showing the '+' quantifier</a> that matches the character 'a' one or more times. &nbsp;As you can see, the control flow graph starts by requiring an 'a' character. &nbsp;If there are no 'a' characters, it fails immediately. &nbsp;If there is at least one, control will split into two possible paths: &nbsp;One path goes back to try and get yet another 'a' character, and the other continues with the rest of the regex. &nbsp;By default, the regex engine will first try the path that consumes yet another 'a' character until there are no more in the search text.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here is an <a href="https://blog.robertelder.org/regular-expression-visualizer/?the_regex=a*&amp;the_subject=a">example interactive visualization showing the '*' quantifier</a> that matches the character 'a' zero or more times. &nbsp;As you can see, the control flow graph starts by splitting into two possible paths: &nbsp;One path immediately continues on with the rest of the regex, and the other attempts to consume an 'a' character. &nbsp;By default, this quantifier will first try the path that consumes an 'a' character. &nbsp;Once it fails to find another 'a' character, it will give up and continue on with the rest of the regex.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Here is a table to summarize what we've learned so far:</p>

<table>
	<tbody>
		<tr><td>Quantifier Symbol</td><td>Normalized As A Range</td><td>What It Really Means</td></tr>
		<tr><td>?</td><td>{0,1}</td><td>"Repeated from 0 to 1 times."</td></tr>
		<tr><td>*</td><td>{0,}</td><td>"Repeated from 0 to Infinity times."</td></tr>
		<tr><td>+</td><td>{1,}</td><td>"Repeated from 1 to Infinity times."</td></tr>
		<tr><td>{N}</td><td>{N,N}</td><td>"Repeated from N to N times."</td></tr>
		<tr><td>{,N}</td><td>{0,N}</td><td>"Repeated from 0 to N times."</td></tr>
		<tr><td>{N,}</td><td>{N,}</td><td>"Repeated from N to Infinity times."</td></tr>
		<tr><td>{N,M}</td><td>{N,M}</td><td>"Repeated from N to M times."</td></tr>
	</tbody>
</table>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;As discussed previously, quantifiers can be used to specify how many times a character in your regular expression can be repeated:</p>

<p><code><pre>a{0,5}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;But, you can also apply quantifiers to character classes too:</p>

<p><code><pre>[0-9]{0,5}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For example, you could use this regular expression to match chapter titles in a book, regardless of how many digits are in the chapter number:</p>

<p><code><pre>[Cc]hapter [0-9]+
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And most importantly, you can also apply a quantifier to a sub-expression to repeat a sequence of characters. &nbsp;For example this regex:</p>

<p><code><pre>(Hello){2,5}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will match any of the following strings:</p>

<ul>
	<li>HelloHello</li>
	<li>HelloHelloHello</li>
	<li>HelloHelloHelloHello</li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You can even apply quantifiers to a sub-expression that contains an alternation. &nbsp;This regex:</p>

<p><code><pre>(cat|dog|bird){1,2}
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will match any of the following strings:</p>

<ul>
	<li>cat</li>
	<li>dog</li>
	<li>bird</li>
	<li>catcat</li>
	<li>catdog</li>
	<li>catbird</li>
	<li>dogcat</li>
	<li>dogdog</li>
	<li>dogbird</li>
	<li>birdcat</li>
	<li>birddog</li>
	<li>birdbird</li>
</ul>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Just as promised earlier, you're already 50% done learning everything there is to know about quantifiers. &nbsp;There are many more quantifiers than what we've seen so far, but fortunately, there are only 4 fundamental aspects to every regular expression quantifier, and you'll understand them all by the end of this article. &nbsp;Here are those 4 aspects:</p>

<ul>
	<li><strong>1)  The minimum number of times it can match.</strong></li>
	<li><strong>2)  The maximum number of times it can match.</strong></li>
	<li>3)  Whether it prefers to match as many times as possible, or as few times as possible.</li>
	<li>4)  Whether it will disable backtracking or not.</li>
</ul>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and as you can see, we've already covered the first two, so 2/4 = 50% done.</p>



<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Now let's cover item #3 from the list above: "Whether it prefers to match as many times as possible, or as few times as possible.". &nbsp;Consider a case where we want to match this regular expression:</p>

<p><code><pre>a{2,4}(aabbcc|bb)
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;against this piece of text:</p>

<p><code><pre>aaaabbcc
</pre></code></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;You can follow through the matching process with an <a href="https://blog.robertelder.org/regular-expression-visualizer/?the_regex=a%7B2%2C4%7D(aabbcc%7Cbb)&amp;the_subject=aaaabbcc">interactive visualization of the matching process for this regex here</a>.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Since the quantifier '{2,4}' can match the 'a' anywhere from 2 times to 4 times, and the text we're searching starts with 4 consecutive 'a's, it's ok for the regular ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.robertelder.org/regular-expression-quantifiers/">https://blog.robertelder.org/regular-expression-quantifiers/</a></em></p>]]>
            </description>
            <link>https://blog.robertelder.org/regular-expression-quantifiers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526895</guid>
            <pubDate>Sat, 19 Sep 2020 12:12:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Benchmark of popular graph/network packages]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526881">thread link</a>) | @dvfjsdhgfv
<br/>
September 19, 2020 | https://www.timlrx.com/2019/05/05/benchmark-of-popular-graph-network-packages/ | <a href="https://web.archive.org/web/*/https://www.timlrx.com/2019/05/05/benchmark-of-popular-graph-network-packages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
  <div>
    <div>
      <article role="main">
        



<p><strong>This post is superseded by an <a href="https://www.timlrx.com/2020/05/10/benchmark-of-popular-graph-network-packages-v2/">updated benchmark</a></strong></p>
<p>In this post I benchmark the performance of 5 popular graph/network packages. This was inspired by two questions I had:</p>
<ol>
<li><p>Recently, I have been working with large networks (millions of vertices and edges) and often wonder what is the best currently available package/tool that would scale well and handle large scale network analysis tasks. Having tried out a few (networkx in Python and igraph in R) but on different problems, I thought it would be nice to have a head to head comparison.</p></li>
<li><p>Running large scale computations is also much easier nowadays with the availability of virtual machines that could be easily spinned up thanks to the growth of cloud computing. I think the trend of powerful single machines will eliminate a lot of the need for enterprise clusters so it will be interesting to see how far we can push a single machine using optimised algorithms.<a href="#fn1" id="fnref1"><sup>1</sup></a></p></li>
</ol>
<p>To replicate the benchmark study and for the full codes, please refer to <a href="https://github.com/timlrx/graph-benchmarks">my github repository</a>. Instructions on how to setup and install the packages are also located in the repository.</p>
<div id="setup">
<h2>Setup</h2>
<p>The benchmark was carried out using a Google Compute n1-standard-16 instance (16vCPU Haswell 2.3GHz, 60 GB memory). I compare 5 different packages:</p>
<ul>
<li><a href="https://graph-tool.skewed.de/">graph-tool</a></li>
<li><a href="https://igraph.org/redirect.html">igraph</a></li>
<li><a href="https://networkit.github.io/">networkit</a></li>
<li><a href="https://networkx.github.io/">networkx</a></li>
<li><a href="https://snap.stanford.edu/snappy/">snap</a></li>
</ul>
<p>Networkx is written in Python while the other four packages are based on C / C++ but have Python APIs. Igraph has a R and Mathematica binding as well but to be consistent the following benchmark was based on the Python one. The other 3 libraries (snap, networkit and graph-tool) have an additional emphasis on performance with multi-processing capabilities built in.</p>
<p>Selecting what tasks to compare on is not really a trivial task with each package offering various tools and capabilities. In the end, I decided to focus on 5 specific problems:</p>
<ul>
<li>loading the data</li>
<li>single source shortest path</li>
<li>page rank</li>
<li>k-core decomposition</li>
<li>strongly connected components</li>
</ul>
<p>Loading is more of an I/O task while the other 4 are common graph algorithms. Disclaimer: I try as much as possible to specify the same parameters for each algorithm but differences in API across the packages could translate to actual differences in how the algorithm is run and the final output.</p>
<p><span>13/12/2019 Edit: Some of the observed differences in performance might be a result of different stopping criteria used - see algorithms for more information.</span></p>
<p>3 datasets from the <a href="https://snap.stanford.edu/data/index.html">Stanford Large Network Dataset Collection</a> were used in the exercise:</p>
<ul>
<li><a href="https://snap.stanford.edu/data/amazon0302.html">amazon</a>, 262k nodes, 1.2m edges</li>
<li><a href="https://snap.stanford.edu/data/web-Google.html">google</a>, 875k nodes, 5.1m edges</li>
<li><a href="https://snap.stanford.edu/data/soc-Pokec.html">pokec</a>, 1.6m nodes, 30.6m edges</li>
</ul>
<p>While it is the easiest to rank the packages based on the run-time of the algorithms, it is only one of the many considerations of what makes a good package. I try to offer a more subjective view based on my experience with these packages.</p>
</div>

<div id="results">
<h2>Results</h2>
<p>All timings reported are normalised to reflect the run time for a single run of the task.</p>
<p>Networkx is much slower than any of the other libraries. Across all computation tasks and for all datasets it is around 10 times slower than the <em>slowest</em> library.<a href="#fn2" id="fnref2"><sup>2</sup></a> For example, it took 67s to run the single source shortest path problem on the Pokec dataset compared to 6.8s for networkit (the next slowest). Page rank took more than 10 minutes to run compared to 1 minute for igraph. Hence, I left it out of the comparison plots.</p>
<p>Here are the run times of the remaining four packages:</p>
<p><img src="https://d33wubrfki0l68.cloudfront.net/b13c3d06c53af36cafd2b861d21948ee7613dd3a/3c0f3/post/2019-05-05-benchmark-of-popular-graph-network-packages_files/figure-html/plot_all-1.png" width="672"></p>
<p>Full results can be seen from the table below:</p>
<table>
<thead>
<tr>
<th>
dataset
</th>
<th>
Algorithm
</th>
<th>
graph-tool
</th>
<th>
igraph
</th>
<th>
networkit
</th>
<th>
networkx
</th>
<th>
snap
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
Amazon
</td>
<td>
connected components
</td>
<td>
0.09
</td>
<td>
0.48
</td>
<td>
0.21
</td>
<td>
5.94
</td>
<td>
0.40
</td>
</tr>
<tr>
<td>
Amazon
</td>
<td>
k-core
</td>
<td>
0.11
</td>
<td>
0.33
</td>
<td>
0.01
</td>
<td>
8.62
</td>
<td>
0.42
</td>
</tr>
<tr>
<td>
Amazon
</td>
<td>
loading
</td>
<td>
5.00
</td>
<td>
0.79
</td>
<td>
3.27
</td>
<td>
9.96
</td>
<td>
1.90
</td>
</tr>
<tr>
<td>
Amazon
</td>
<td>
page rank
</td>
<td>
0.05
</td>
<td>
1.59
</td>
<td>
0.01
</td>
<td>
25.71
</td>
<td>
0.90
</td>
</tr>
<tr>
<td>
Amazon
</td>
<td>
shortest path
</td>
<td>
0.06
</td>
<td>
0.12
</td>
<td>
0.32
</td>
<td>
3.31
</td>
<td>
0.14
</td>
</tr>
<tr>
<td>
Google
</td>
<td>
connected components
</td>
<td>
0.32
</td>
<td>
2.23
</td>
<td>
0.65
</td>
<td>
21.71
</td>
<td>
2.02
</td>
</tr>
<tr>
<td>
Google
</td>
<td>
k-core
</td>
<td>
0.57
</td>
<td>
1.68
</td>
<td>
0.06
</td>
<td>
153.21
</td>
<td>
1.57
</td>
</tr>
<tr>
<td>
Google
</td>
<td>
loading
</td>
<td>
67.27
</td>
<td>
5.51
</td>
<td>
17.94
</td>
<td>
39.69
</td>
<td>
9.03
</td>
</tr>
<tr>
<td>
Google
</td>
<td>
page rank
</td>
<td>
0.76
</td>
<td>
5.24
</td>
<td>
0.12
</td>
<td>
106.49
</td>
<td>
4.16
</td>
</tr>
<tr>
<td>
Google
</td>
<td>
shortest path
</td>
<td>
0.20
</td>
<td>
0.69
</td>
<td>
0.98
</td>
<td>
12.33
</td>
<td>
0.30
</td>
</tr>
<tr>
<td>
Pokec
</td>
<td>
connected components
</td>
<td>
1.35
</td>
<td>
17.75
</td>
<td>
4.69
</td>
<td>
108.07
</td>
<td>
15.28
</td>
</tr>
<tr>
<td>
Pokec
</td>
<td>
k-core
</td>
<td>
5.73
</td>
<td>
10.87
</td>
<td>
0.34
</td>
<td>
649.81
</td>
<td>
8.87
</td>
</tr>
<tr>
<td>
Pokec
</td>
<td>
loading
</td>
<td>
119.57
</td>
<td>
34.53
</td>
<td>
157.61
</td>
<td>
237.72
</td>
<td>
59.75
</td>
</tr>
<tr>
<td>
Pokec
</td>
<td>
page rank
</td>
<td>
1.74
</td>
<td>
59.55
</td>
<td>
0.20
</td>
<td>
611.24
</td>
<td>
19.52
</td>
</tr>
<tr>
<td>
Pokec
</td>
<td>
shortest path
</td>
<td>
0.86
</td>
<td>
0.87
</td>
<td>
6.87
</td>
<td>
67.15
</td>
<td>
3.09
</td>
</tr>
</tbody>
</table>
<div id="io">
<h3>I/O</h3>
<p>Looking at the plots above, graph-tool and networkit loads data much more slowly than the other two libraries. I was reading the datasets as a tab delimited file and graph-tool basically uses a Python code to parse the input. The other 3 packages should be using C libraries to read the files which result in better performance.<a href="#fn3" id="fnref3"><sup>3</sup></a></p>
</div>
<div id="algorithms">
<h3>Algorithms</h3>
<p>Networkit and graph-tool takes the top spot in most of the tests with graph-tool having the shortest run time for the single source shortest path and connected components problems and networkit winning the race for k-core and page rank.</p>
<p>When networkit is fast, it is extremely fast. On the pokec dataset it takes just 0.2s to run the page rank algorithm (graph-tool: 1.7s, igraph: 59.6s, snap: 19.5s). For the k-core decomposition it is also 10 times faster than all other competitors or 2000 times networkx. That is consistent with the findings of their research paper where they claim that using some of the latest state of the art algorithms led to their processing speed being faster by an order of magnitude. However, for the shortest path problem (not analysed in their paper) it lags behind all other packages.<a href="#fn4" id="fnref4"><sup>4</sup></a></p>
<p><span>13/12/2019 Edit: Matthew Galati from SAS pointed out that for the pagerank algorithm, networkit (as of version 6.0) uses L2 norm as a stopping criteria while other packages use the L1 norm. This means that it is doing fewer iterations and the speed is somewhat artificial. Thanks Matthew!</span></p>
<p>graph-tool is the most steady performer and achieves very impressive performance across all four tasks. With openMP support it betters igraph and snap across all tasks. It is 3 to 10+ times faster than those two packages.</p>
<p>igraph and snap achieves mostly similar performance across all tasks with a slight edge towards snap. This is also consistent with snap‚Äôs research findings.</p>
</div>
<div id="other-considerations">
<h3>Other Considerations</h3>
<p>There are also other important considerations when making a switch from networkx or igraph to one graph-tool or networkit.</p>
<p><strong>Packages</strong><br>
First, the algorithms available differ quite significantly across the packages. Users interested in switching to one of these packages should read the documentation on the list of features available. For example, while they all contain the basic tools needed to manipulate networks, graph-tool does not have the more usual modular clustering tools but has additional functionalities on statistical inference on graphs using stochastic block models.</p>
<p>Visualising networks is also an important part of the analytical tool chain. Igraph implements quite a few layout algorithms and renders them using the cairo library. Snap supports graphviz while graph-tool supports both graphviz and cairo. Networkit takes a different approach and relies on networkx to draw while also providing support and integration with Gephi via its streaming plugin.</p>
<p><strong>API</strong><br>
Moving away from native Python or R means that the syntax for the packages can sometimes be quite convoluted. I compare the syntax for the shortest path problem below. Writing it in networkx would look something like this:</p>
<pre><code>nx.shortest_path_length(g, nodeid)</code></pre>
<p>igraph:</p>
<pre><code>g.shortest_paths([g.vs[node_index]])</code></pre>
<p>graph-tool:</p>
<pre><code>shortest_distance(g, g.vertex(node_index))</code></pre>
<p>networkit:</p>
<pre><code>distance.BFS(g, node_index).run()</code></pre>
<p>snap:</p>
<pre><code>NIdToDistH = snap.TIntH()
snap.GetShortPath(g, node_index, NIdToDistH, True)</code></pre>
<p>Of all, I find snap‚Äôs the most cumbersome since one has to define an additional variable (with the correct variable type) to store the results before running it. Running more advanced functions on graph-tool and networkit also requires a user to pre-define variables with the correct type to store results.<a href="#fn5" id="fnref5"><sup>5</sup></a></p>
<p><strong>Support and Documentation</strong><br>
User support and documentation is really important when one wants to use the project in an actual project setting. Networkx is by far the winner in this category with more than 4k github stars and lots of issues documented in github and stackoverflow. Igraph fairs decently as well with more than a thousand stars across its different modules.</p>
<p>graph-tool and networkit has much smaller followings though the creators seem relatively responsive to user issues and the packages are in active development.</p>
<p>snap was last updated on July 2018 but still supports only Python 2.7.x versions.</p>
</div>
<div id="conclusion">
<h3>Conclusion</h3>
<p>Overall, I am pleasantly surprised at the performance of the libraries especially graph-tool and networkit and plan to play around with them further. The fact that they breeze through the Pokec dataset is a good sign, but it will be interesting to find out what is the limit before computation becomes slow or memory issues start appearing.</p>
<p>As for recommendations on which package people should learn, I think picking up networkx is still important as it makes network science very accessible with a wide range of tools and capabilities. If analysis starts being too slow (and maybe that‚Äôs why you are here) then I will suggest taking a look at graph-tool or networkit to see if they contain the necessary algorithms for your needs.</p>
</div>
</div>



        
          
        

        

        
      </article>

      
        
      


      

    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://www.timlrx.com/2019/05/05/benchmark-of-popular-graph-network-packages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526881</guid>
            <pubDate>Sat, 19 Sep 2020 12:09:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Rust is not a mature programming language]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 69 (<a href="https://news.ycombinator.com/item?id=24526861">thread link</a>) | @DarkCrusader2
<br/>
September 19, 2020 | https://codecs.multimedia.cx/2020/09/why-rust-is-not-a-mature-programming-language/ | <a href="https://web.archive.org/web/*/https://codecs.multimedia.cx/2020/09/why-rust-is-not-a-mature-programming-language/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>While I have nothing against Rust as such and keep writing my pet project in Rust, there are still some deficiencies I find preventing Rust from being a proper programming language. Here I‚Äôd like to present them and explain why I deem them as such even if not all of them have any impact on me.<br>
<span id="more-1971"></span></p>
<h3>Rust language problems</h3>
<p>First and foremost, <strong>Rust does not have a formal language specification</strong> and by that I mean that while some bits like grammar and objects are explained, there are no formal rules to describe what language features can and cannot be. If you‚Äôve ever looked at ISO C standard you‚Äôve seen that almost any entity there has three or four parts in the description: formal syntax, constraints (i.e. what is not allowed or what can‚Äôt be done with it), semantics (i.e. what it does, how it impacts the program, what implementation caveats are there), and there may be some examples to illustrate the points. The best close equivalent in Rust is <a href="https://doc.rust-lang.org/reference/" rel="noopener noreferrer" target="_blank">The Rust Reference</a> and e.g. structure there is described in the following way: syntax (no objections there), definition in a form of ‚ÄúA struct is a nominal struct type defined with the keyword <code>struct</code>.‚Äù, examples, a brief mention of empty (or unit-like) structures in the middle of examples, and ‚ÄúThe precise memory layout of a struct is not specified.‚Äù at the end. I understand that adding new features is more important than documenting them but this is lame.</p>
<p>A proper mature language (with 1.0 in its version) should have a formal specification that should be useful both for people developing compilers and the programmers trying to understand certain intricacies of the language and why it does not work as expected (more on that later). For example, for that <code>struct</code> definition I find lacking at least these: mentioning that you can have <code>impl</code> for it (even a reference would do‚Äîeven if you have to repeat it for every type), split off tuples into a separate entry because it‚Äôs very different syntactically and raises a question why you have anonymous tuples and not anonymous structs (which you also can‚Äôt find from the documentation), and of course create proper layout so that rather important information (about memory layout for example) is not lost among examples.</p>
<p>And now to the specific problems I encounter quite often and I don‚Äôt know whether I understand it wrong or the compiler understands it wrong. And since there‚Äôs no formal specification I can‚Äôt tell which one it is (even if the former is most probable).</p>
<p><strong>Function/method calling convention.</strong> Here‚Äôs a simple example:</p>
<blockquote><p>
struct Foo { a: i32 }<br>
impl Foo { fn bar(&amp;mut self, val: i32) { self.a = val + 42; } }<br>
fn main() {<br>
&nbsp; let mut foo = Foo { a: 0 };<br>
&nbsp; foo.bar(foo.a);<br>
}
</p></blockquote>
<p>For now this won‚Äôt compile because of the borrowing but shouldn‚Äôt the compiler be smart enough to create a copy of <code>foo.a</code> before call? I‚Äôm not sure but IIRC current implementation first mutably borrows object for the call and only then tries to borrow the arguments. Is it really so and if yes, why? <em>Update:</em> I‚Äôm told that newer versions of the compiler handle it just fine but the question still stands (was it just a compiler problem or the call definition has been changed?).</p>
<p>The other thing is the old C caveat of function arguments evaluation. Here‚Äôs a simple example:</p>
<blockquote><p>
let mut iter = ‚Äúabc‚Äù.chars();<br>
foo(iter.next().unwrap(), iter.next().unwrap(), iter.next().unwrap());
</p></blockquote>
<p>So would it be <code>foo('a','b','c')</code> or <code>foo('c','b','a')</code> call. In C it‚Äôs undefined because it depends on how arguments are passed on the current platform (consider yourself lucky if you don‚Äôt remember <code>__pascal</code> or <code>__stdcall</code>). In Rust it‚Äôs undefined because there‚Äôs no formal specification to tell you even that much. And it would be even worse if you consider that you may use the same source for indexing the caller object like <code>handler[iter.next().unwrap() as usize].process(iter.next().unwrap());</code> in some theoretical bytecode handler (of course it‚Äôs a horrible way to write code and you should use named temporary variables but it should illustrate the problem).</p>
<p>And another source of annoyance for me is <strong>traits</strong>. I have almost no problems with owning/lifetime/borrowing concepts but traits get me almost every time. I‚Äôm vaguely aware that the answer to why the following problems exist is ‚Äúbecause traits are implemented as a call table‚Äù but again, <em>should</em> they be implemented like that and what should be the constraints on them (after all the original object should be somehow linked to the trait pointer). So when you have a supertrait (i.e. <code>trait Foo: Bar</code>) you can‚Äôt easily cast it for subtrait (e.g. <code>&amp;Foo -&gt; &amp;Bar</code>) without writing a lot of boilerplate code. And even worse if you convert an object into <code>Box&lt;trait&gt;</code> there‚Äôs no way to get the original object back (still in boxed form of course; I remember seeing a special crate that implements a lot of boilerplate code in order to get a mutable reference though). To reiterate: the problem is not me being stupid but rather the lack of formal description on how it‚Äôs done and why what I want is so hard. Then I‚Äôd probably at least be able to realize how I should change my code to work around the limitations.</p>
<h3><code>rustc</code> problems</h3>
<p>No, I‚Äôm not going to talk about compilation speed. It‚Äôs certainly a nuisance but not a problem per se. Here I want to point rather theoretical problems that a mature language should not have. And having just one compiler is one of those problems (call that problem zero).</p>
<p>First of all, <strong>bootstrapping process</strong> is laughably bad. I realize that it‚Äôs never too easy but if you call yourself a systems programming language you should be able to bootstrap a compiler in a sane amount of steps. For instance, IIRC <code>Guix</code> has the following bootstrapping process for C compiler: simple C complier in Scheme (for which you can often write an implementation in assembly by hand) compiles TCC, TCC compiles GCC 2.95, GCC 2.95 compiles GCC 3.7, GCC 3.7 compiles GCC 4.9. For <code>rustc</code> you should either start with the original compiler written in OCaml and compile every following version with the previous one (i.e. 1.17 with 1.16) or cheat by using <code>mrustc</code> written in C++ which can compile Rust 1.19 or 1.29 (without borrow checks), then compile 1.30 with 1.29, 1.31 with 1.30 etc etc. The problem here is that you cannot skip versions and e.g. compile <code>rustc 1.46</code> with <code>rustc 1.36</code> (I‚Äôd be happy to learn that I‚Äôm wrong). IMO you should have maybe an ineffective compiler but written in a dialect that much older compiler should understand i.e. <code>rustc 1.0</code> should be able to compile a compiler for 1.10, which can be used to compile 1.20 and so forth. Of course it‚Äôs a huge waste of resources for rather theoretical problem but it may prove beneficial for compiler design itself.</p>
<p>Then there‚Äôs <strong>LLVM dependency.</strong> I understand that <code>LLVM</code> provides many advantages (like no need to worry about code generation for many platforms and optimising it) but it gives some disadvantages too. First, you don‚Äôt have a really self-hosting compiler (a theoretical problem but still a thing worth thinking about; also consider that you have to rely on a framework developed mostly by large corporations mostly in their own interests). Second, you‚Äôre limited by what it does e.g. I read complaints about debug builds being too slow mostly because of LLVM backend. And I suspect it still can‚Äôt do certain kinds of memory-related optimisations because it was designed with C++ compiler in mind which still has certain quirks regarding multiple memory access (plus IIRC there was one LLVM bug triggered by an infinite loop in Rust code that‚Äôs perfectly valid there but not according to C++ rules). I‚Äôm aware that <code>cranelift</code> exists (and Rust front-end for <code>GCC</code>) so hopefully this will be improved.</p>
<p>And finally there‚Äôs a thing related to the previous problem. Rust has poor <strong>support for assembly</strong>. Of course not so many people need standalone assembly and not inline one (which is still lacking but <code>asm!</code> is almost there) but languages oriented for systems programming support compiling assembly in addition to the higher-language code so it would be <em>proper</em> to support assembly files even with not so rich preprocessor syntax as GAS has. Fiddling with <code>build.rs</code> to invoke an external assembler is possible but not nice at all.</p>
<h3>Other Rust language problems</h3>
<p>There‚Äôs also one problem with Rust <code>std</code> library that I should mention too. It‚Äôs useless for interfacing OS. Now if I want to do something natural to any UNIX system I need to at least import <code>libc</code> crate <del datetime="2020-09-19T03:32:25+00:00">and link against an external libc</del> (it‚Äôs part of the runtime anyway). One solution would be that crate I heard of that wanted to translate <code>musl</code> into Rust so you can at least eliminate the linking step. But the proper solution would be to support at least OS-specific syscall() in <code>std</code> crate as many interesting libc functions are just a wrapper over it (like <code>open()</code>/<code>write()</code>/<code>ioctl()</code>; Windows is a different beast so I don‚Äôt mind if it‚Äôs <code>std::os::unix::syscall</code> and not something more common).</p>
<hr>
<p>I‚Äôm not a Rust language architect and I‚Äôm extremely unlikely to become one but I have an opinion on what Rust lacks in order to become a proper mature language really fit for systems development (three things essentially: being fully self-hosted, having a specification, and being able to interface low-level stuff without resorting to C compiler or assembler). Hopefully this will be rectified despite the lack of Mozilla.</p>

								
				<p>
					<small>
												This entry was posted on Friday, September 18th, 2020 at 2:03 pm and is filed under <a href="https://codecs.multimedia.cx/category/rust/" rel="category tag">Rust</a>, <a href="https://codecs.multimedia.cx/category/useless-rants/" rel="category tag">Useless Rants</a>.						You can follow any responses to this entry through the <a href="https://codecs.multimedia.cx/2020/09/why-rust-is-not-a-mature-programming-language/feed/">RSS 2.0</a> feed. 

													You can <a href="#respond">leave a response</a>, or <a href="https://codecs.multimedia.cx/2020/09/why-rust-is-not-a-mature-programming-language/trackback/" rel="trackback">trackback</a> from your own site.
						
					</small>
				</p>

			</div></div>]]>
            </description>
            <link>https://codecs.multimedia.cx/2020/09/why-rust-is-not-a-mature-programming-language/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526861</guid>
            <pubDate>Sat, 19 Sep 2020 12:05:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Backing up data like the adult I supposedly am]]>
            </title>
            <description>
<![CDATA[
Score 182 | Comments 121 (<a href="https://news.ycombinator.com/item?id=24526706">thread link</a>) | @miked85
<br/>
September 19, 2020 | https://magnusson.io/post/backups/ | <a href="https://web.archive.org/web/*/https://magnusson.io/post/backups/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      <div>
        

<article>
  <header>
  
  
  <time datetime="2020-09-18T10:47:47+02:00">
    18 September, 2020
  </time>
  
</header>

  <p>Like so many things I‚Äôm supposed to do but don‚Äôt‚Äâ‚Äî‚Äâgetting exercise, eating right, sleeping well, standing up for women and minorities in public spaces‚Äâ‚Äî‚Äâbacking up my data has always been something I‚Äôve half-assed at best.</p>
<p>I‚Äôve lugged around an external hard drive with a few hundred gigabytes of data for the last 10 years, and made backups to it once every three or four years or so. Every time I‚Äôve tried restoring anything from those backups I‚Äôve regretted it, because of course I just bought the drive, plugged it in and copied stuff to it, so it is a FAT32 drive while I have mostly had EXT4 filesystems, which means all my file permissions get lost during the process.</p>
<p>I‚Äôve written shameful little shell scripts to set file permissions to 0644 and directory permissions to 0755, recursively, many many times.</p>
<p>Part of my problem was that I both know just enough rsync to be dangerous and have a credit card so I can provision cloud VMs, so forever just around the corner was my perfect backup solution that I‚Äôd write myself and maintain and actually do instead of dealing with whatever I had going on in my life. I‚Äôve come to accept that this will never happen, or perhaps more definitively, that I‚Äôd rather cut myself than write and maintain another piece of ad-hoc software for myself.</p>
<p>Luckily I recently found two things that have solved this whole problem for me: <a href="https://borgbackup.readthedocs.io/en/stable/">borg</a> and <a href="https://www.rsync.net/">rsync.net</a>.</p>
<p>Borg is backup software. It compresses and deduplicates data at the block level, and strongly encourages (but does not force) you to encrypt data before backing it up. It is everything I‚Äôd want from my half-assed rsync and shell script abomination.</p>
<p>I read its documentation a couple of times and was impressed. I then set about comparing different VM hosts to see which one would give me the cheapest block storage option, when the result of some <a href="https://github.com/scotte/borgsnap">random google search</a> led me to rsync.net. They are a company that stores backups, pretty cheaply, and <a href="http://www.rsync.net/products/attic.html">even more cheaply</a> if you use borg to take them. I guess they just really love borg and want us to love it too.</p>
<p>I signed up for their cheapest plan, which starts at 100GB stored for $18 per year. They have no network in- or egress costs, and the storage amount can be adjusted at any time. Once my account had been activated, I did a little password reset dance, and uploaded a public SSH key.</p>
<p>I wanted to back up my <code>$HOME</code> directory, so after installing borg I ran:</p>
<div>
<div>
<pre>export BORG_REMOTE_PATH="borg1"
borg init --encryption repokey-blake2 UID@ch-s011.rsync.net:home</pre>
</div>
</div>
<p>This created a remote borg repository called "home" on rsync.net‚Äôs servers. The environment variable is so we use a more recent version of borg on the remote server (version 1.1.11 at the time of writing), as the default version is rather old (version 0.29.0).</p>
<p>When choosing what encryption method to use, one can choose between a "repokey" or a "keyfile". They both create a private key locked with a passphrase; the difference is that with "repokey" the key is stored in the borg repo, while with "keyfile" it is stored outside of it. This boils down to whether we think a passphrase is enough security for our data, or whether we think having a secret keyfile is necessary. I figured my password manager could create a strong enough passphrase for my needs, and I didn‚Äôt want to think about losing the keyfile, so I chose "repokey-blake2".</p>
<p>To create my first backup, I ran</p>
<div>
<div>
<pre>borg create --exclude "$HOME/.cache" UID@ch-s011.rsync.net:home::backup-1 "$HOME"</pre>
</div>
</div>
<p>which created the archive "backup-1" in my "home" borg repository. I didn‚Äôt change the compression algorithm from the default one.</p>
<p>By default borg compresses data with lz4. It can use other compression methods (xz, zlib, zstd). I compared their compression ratios on some binary files I had and found no difference between them. I think this is because the large binary files I have are mostly audio and video files in lossy formats, which don‚Äôt seem to benefit very much from further compression. I have a lot of text files as well, but text takes up so little relative space on today‚Äôs hardware that it makes no sense to spend CPU cycles on compressing it better than lz4 does.</p>
<p>This backup command hummed along for a good while, and through a couple of reboot cycles. Doing a second backup right after it finished (or the day after) took a lot less time because of the deduplication:</p>
<div>
<div>
<pre>borg create --exclude "$HOME/.cache" UID@ch-s011.rsync.net:home::backup-2 "$HOME"</pre>
</div>
</div>
<p>Restoring from backup is also easy:</p>
<div>
<div>
<pre>borg extract UID@ch-s011.rsync.net:home::backup-2</pre>
</div>
</div>
<p>I set this up to run as a daily timed systemd service at noon (very easy on NixOS, which every Linux user should be using unless they hate themselves), and will never, ever think about this again. For a handful of bucks a year, that is a good deal.</p>

  







  



</article>


      </div>
    </div>
  </div></div>]]>
            </description>
            <link>https://magnusson.io/post/backups/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526706</guid>
            <pubDate>Sat, 19 Sep 2020 11:32:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stanis≈Çaw Le≈õniewski: rethinking the philosophy of mathematics [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 9 (<a href="https://news.ycombinator.com/item?id=24526676">thread link</a>) | @danielam
<br/>
September 19, 2020 | https://biblio.ugent.be/publication/4443772/file/4443780.pdf | <a href="https://web.archive.org/web/*/https://biblio.ugent.be/publication/4443772/file/4443780.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://biblio.ugent.be/publication/4443772/file/4443780.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526676</guid>
            <pubDate>Sat, 19 Sep 2020 11:27:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Currents API now include news from over 154 countries]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526640">thread link</a>) | @blackcat201
<br/>
September 19, 2020 | https://currentsapi.services/en/data | <a href="https://web.archive.org/web/*/https://currentsapi.services/en/data">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    

    <div>
        <p>We believe diverse news coverage should be prioritize over popularity and website traffic. Hence, we always ensure our news stream is diverse in terms of opinion, geo location and language.</p>
    </div>

    <section>
        <div>
        <p><span>Diverse Geolocation Distribution</span></p><p>Our swarm of spiders constantly monitor news happening over 154 countries, capturing any nation level events such elections, natural disaster, riots before receiving global converage. </p>
        </div>
        
    </section>

    <section>
        <div>

        <p><span>Fine Geolocation Coverage</span></p><p>
            News coverage in over 400 cities, including all states from United States, major cities in Australia, Canada, China, and Europe countries. 
            This means our news api also includes city level events such as community event, local corruption, petty crime that you won't found in major news agencies.
        </p>
        </div>
    </section>

    <section>
        <div>
            <p><span>Stock Exchange Announcements</span></p><p>
            Our news source also include company announcement from Singapore Stock Exchange, Japan Stock Group, London Stock Exchange and Taiwan Stock Exchange.
            </p>
            <p><a href="https://carbon.now.sh/?bg=rgba(255%2C255%2C255%2C1)&amp;t=seti&amp;wt=none&amp;l=auto&amp;ds=true&amp;dsyoff=9px&amp;dsblur=20px&amp;wc=true&amp;wa=false&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=13.5px&amp;lh=139%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=%250A%250Aimport%2520requests%250A%250Aurl%2520%253D%2520%2522https%253A%252F%252Fapi.currentsapi.services%252Fv1%252Flatest-news%253Fdomain%253Dsgx.com%252Cjpx.co.jp%252Clondonstockexchange.com%252Ctwse.com.tw%2522%250A%250Aheaders%2520%253D%2520%257B%250A%2520%2520%27Authorization%27%253A%2520%27API-KEY%27%250A%257D%250A%250Aresponse%2520%253D%2520requests.request(%2522GET%2522%252C%2520url%252C%2520headers%253Dheaders)%250A%250Aprint(response.json())%250A%250A" target="_blank">
                    <img src="https://currentsapi.services/images/sgx-example.png" alt="python requests example for loading Singapore Stock Exchange data">
                </a>                
            </p>
        </div>
    </section>


</section></div>]]>
            </description>
            <link>https://currentsapi.services/en/data</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526640</guid>
            <pubDate>Sat, 19 Sep 2020 11:17:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Shortcuts Catalog (updated for iOS 14)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526635">thread link</a>) | @tosh
<br/>
September 19, 2020 | https://www.matthewcassinelli.com/sirishortcuts/ | <a href="https://web.archive.org/web/*/https://www.matthewcassinelli.com/sirishortcuts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div data-elementor-type="wp-page" data-elementor-id="3397" data-post-id="3397" data-obj-id="3397" data-elementor-settings="[]"><div><div><section data-id="fe1d51b" data-element_type="section"><div><div><div data-id="6f7af17" data-element_type="column"><div><div><section data-id="f711d04" data-element_type="section"><div><div><div data-id="77b1ef2" data-element_type="column"><div><div><div data-id="25114dc" data-element_type="widget" data-widget_type="image.default"><div><p><img width="150" height="150" src="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" alt="Shortcuts Catalog" data-attachment-id="7189" data-permalink="https://www.matthewcassinelli.com/shortcuts-catalog-icon/" data-orig-file="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?fit=550%2C550&amp;ssl=1" data-orig-size="550,550" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shortcuts Catalog icon" data-image-description="" data-medium-file="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?fit=550%2C550&amp;ssl=1" data-lazy-srcset="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?w=550&amp;ssl=1 550w, https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?resize=300%2C300&amp;ssl=1 300w, https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?resize=150%2C150&amp;ssl=1 150w" data-lazy-sizes="(max-width: 150px) 100vw, 150px" data-lazy-src="https://i2.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Catalog-icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" title="Shortcuts Catalog"></p></div></div></div></div></div><div data-id="9be9bce" data-element_type="column"><div><div><div data-id="5b9c656" data-element_type="widget" data-widget_type="heading.default"><p><h2>Welcome</h2></p></div></div></div></div></div></div></section><div data-id="71f8b10" data-element_type="widget" data-widget_type="text-editor.default"><div><div><p>Hello and welcome to the <b>Shortcuts Catalog</b>!</p><p>This is a public resource designed to help people get started with <b>Siri Shortcuts</b> and the <b>Shortcuts app</b>.</p><p>It‚Äôs made up of the <b>Shortcuts Library</b>, a collection of over 300 shortcuts grouped into folders, and the <b>Action Directory</b>, a documentation of 300 of the actions in the Shortcuts app used to build shortcuts.</p><p><span>Plus, if you sign up for a </span><a href="http://matthewcassinelli.com/membership">Membership</a><span>, you‚Äôll get <b>new</b></span><b>&nbsp;shortcuts every week</b><span>,</span><b> </b><span>extra</span><b> ways to browse</b><span>, and</span><b> prerelease content </b><span>‚Äì</span><b>&nbsp;</b><a href="http://matthewcassinelli.com/membership">learn more</a><b>.</b></p><p><span>Enjoy!</span></p></div></div></div></div></div></div></div></div></section><section data-id="8bde51e" data-element_type="section"><div><div><div data-id="e9814f0" data-element_type="column"><div><div><section data-id="f5bfdd7" data-element_type="section"><div><div><div data-id="01f2811" data-element_type="column"><div><div><div data-id="6dc0831" data-element_type="widget" data-widget_type="image.default"><div><p><img width="150" height="150" src="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" alt="Shortcuts Catalog" data-attachment-id="7196" data-permalink="https://www.matthewcassinelli.com/sirishortcuts/shortcuts-library-icon/" data-orig-file="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?fit=550%2C550&amp;ssl=1" data-orig-size="550,550" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Shortcuts Library icon" data-image-description="" data-medium-file="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?fit=550%2C550&amp;ssl=1" data-lazy-srcset="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?w=550&amp;ssl=1 550w, https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?resize=150%2C150&amp;ssl=1 150w" data-lazy-sizes="(max-width: 150px) 100vw, 150px" data-lazy-src="https://i1.wp.com/www.matthewcassinelli.com/wp-content/uploads/Shortcuts-Library-icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" title="Shortcuts Catalog"></p></div></div></div></div></div><div data-id="b43d09b" data-element_type="column"><div><div><div data-id="1f66e42" data-element_type="widget" data-widget_type="heading.default"><p><h2>Shortcuts Library</h2></p></div></div></div></div></div></div></section><div data-id="dcea470" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3>My Folders</h3><ul><li><a href="https://www.matthewcassinelli.com/folders/schedule/"><span>Schedule</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/shazam/"><span>Shazam</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/listen-now/"><span>Listen Now</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/activism/"><span>Activism</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/launchpad/"><span>LaunchPad</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/smart-home/"><span>Smart Home</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/apple-music/"><span>Apple Music</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/emergencies/"><span>Emergencies</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/quick-moves/"><span>Quick Moves</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/speaker-control/"><span>Speaker Control</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/apple-tv/"><span>Apple TV</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/weather/"><span>Weather</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/notes/"><span>Notes</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/notes-folders/"><span>Notes folders</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/gifs/"><span>GIFs</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/shared-albums/"><span>Shared Albums</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/battery/"><span>Battery</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/sound-recognition/"><span>Sound Recognition</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/reminders/"><span>Reminders</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/voice/"><span>Voice</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/messaging/"><span>Messaging</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/copy-paste/"><span>Copy &amp; Paste</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/special-characters/"><span>Special Characters</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/wind-down/"><span>Wind Down</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/workouts/"><span>Workouts</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/health/"><span>Health</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/charging/"><span>Charging</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/internet/"><span>Internet</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/local/"><span>Local</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/transportation/"><span>Transportation</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/reading/"><span>Reading</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/news/"><span>News</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/location/"><span>Location</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/podcasts/"><span>Podcasts</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/photography/"><span>Photography</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/camera/"><span>Camera</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/measurements/"><span>Measurements</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/finances/"><span>Finances</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/stonks/"><span>Stonks</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/connection/"><span>Connection</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/ringers/"><span>Ringers</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/back-tap/"><span>Back Tap</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/entertainment/"><span>Entertainment</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/apple-event/"><span>Apple event</span></a></li><li><a href="https://www.matthewcassinelli.com/folders/tims-watch-routine/"><span>Tim‚Äôs Watch Routine</span></a></li></ul></nav></div></div></div></div></div></div></div></section><section data-id="1839cfd" data-element_type="section"><div><div><div data-id="edf1b20" data-element_type="column"><div><div><section data-id="d12ffba" data-element_type="section"><div><div><div data-id="3a63e57" data-element_type="column"><div><div><div data-id="eaa99dd" data-element_type="widget" data-widget_type="image.default"><div><p><img width="150" height="150" src="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" alt="Shortcuts Catalog" data-attachment-id="7195" data-permalink="https://www.matthewcassinelli.com/sirishortcuts/action-directory-icon/" data-orig-file="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?fit=550%2C550&amp;ssl=1" data-orig-size="550,550" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Action Directory Icon" data-image-description="" data-medium-file="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?fit=550%2C550&amp;ssl=1" data-lazy-srcset="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?w=550&amp;ssl=1 550w, https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?resize=150%2C150&amp;ssl=1 150w" data-lazy-sizes="(max-width: 150px) 100vw, 150px" data-lazy-src="https://i0.wp.com/www.matthewcassinelli.com/wp-content/uploads/Action-Directory-Icon.png?resize=150%2C150&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" title="Shortcuts Catalog"></p></div></div></div></div></div><div data-id="5376048" data-element_type="column"><div><div><div data-id="3564813" data-element_type="widget" data-widget_type="heading.default"><p><h2>Action Directory</h2></p></div></div></div></div></div></div></section><div data-id="f9fc864" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3>Groups</h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/"><span>Apps</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/"><span>Scripting</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/"><span>Media</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/"><span>Location</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/"><span>Document</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/"><span>Sharing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/web/"><span>Web</span></a></li></ul></nav></div></div><div data-id="9e9ac00" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/apps/">Apps</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/dates/"><span>Dates</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/apple-watch/"><span>Apple Watch</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/apple-tv-remote/"><span>Apple TV Remote</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/calendar/"><span>Calendar</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/clock/"><span>Clock</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/contacts/"><span>Contacts</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/health/"><span>Health</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/home/"><span>Home</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/facetime/"><span>FaceTime</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/mail-apps/"><span>Mail</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/reminders/"><span>Reminders</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/settings/"><span>Settings</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/wallet/"><span>Wallet</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/workout/"><span>Workout</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/news/"><span>News</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/stocks/"><span>Stocks</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/keynote/"><span>Keynote</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/pages/"><span>Pages</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/apps/numbers-app/"><span>Numbers app</span></a></li></ul></nav></div></div><div data-id="9f06fdd" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/media/">Media</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/media/app-store/"><span>App Store</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/audio/"><span>Audio</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/camera/"><span>Camera</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/gifs/"><span>GIFs</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/image-editing/"><span>Image Editing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/images/"><span>Images</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/itunes-store/"><span>iTunes Store</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/music/"><span>Music</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/photos/"><span>Photos</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/playback/"><span>Playback</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/playlists/"><span>Playlists</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/podcasts/"><span>Podcasts</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/up-next/"><span>Up Next</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/media/video/"><span>Video</span></a></li></ul></nav></div></div><div data-id="e86d54a" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/location/">Location</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/location/location-location/"><span>Location</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/addresses/"><span>Addresses</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/maps/"><span>Maps</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/routing/"><span>Routing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/weather/"><span>Weather</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/location/ride/"><span>Ride</span></a></li></ul></nav></div></div><div data-id="eda41e4" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/document/">Documents</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/document/archives/"><span>Archives</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/books/"><span>Books</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/editing/"><span>Editing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/file-storage/"><span>File storage</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/files-document/"><span>Files</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/notes/"><span>Notes</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/previewing/"><span>Previewing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/printing/"><span>Printing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/rich-text/"><span>Rich Text</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/text/"><span>Text</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/text-editing/"><span>Text Editing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/translation/"><span>Translation</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/document/qr-codes/"><span>QR Codes</span></a></li></ul></nav></div></div><div data-id="59a1fbd" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/sharing/">Sharing</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/clipboard/"><span>Clipboard</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/mail/"><span>Mail</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/messaging/"><span>Messaging</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/photos-sharing/"><span>Photos Sharing</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/sharing/system/"><span>System</span></a></li></ul></nav></div></div><div data-id="386b7b6" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/web/">Web</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/web/articles/"><span>Articles</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/web/safari/"><span>Safari</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/web/urls/"><span>URLs</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/web/web-requests/"><span>Web Requests</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/web/rss/"><span>RSS</span></a></li></ul></nav></div></div><div data-id="793f01b" data-element_type="widget" data-widget_type="taxonomy-terms-menu.default"><div><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"><h3><a href="https://www.matthewcassinelli.com/actions/groups/scripting/">Scripting</a></h3><ul><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/apps-scripting-2/"><span>Apps</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/control-flow/"><span>Control Flow</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/device/"><span>Device</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/dictionaries/"><span>Dictionaries</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/files/"><span>Files</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/items/"><span>Items</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/lists/"><span>Lists</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/math/"><span>Math</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/measurements/"><span>Measurements</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/network/"><span>Network</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/no-ops/"><span>No-ops</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/notification/"><span>Notification</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/numbers/"><span>Numbers</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/shell/"><span>Shell</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/shortcuts/"><span>Shortcuts</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/variables/"><span>Variables</span></a></li><li><a href="https://www.matthewcassinelli.com/actions/groups/scripting/x-callback/"><span>X-Callback</span></a></li></ul></nav></div></div></div></div></div></div></div></section></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.matthewcassinelli.com/sirishortcuts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526635</guid>
            <pubDate>Sat, 19 Sep 2020 11:16:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Philosophers in an influence graph with PageRank scores]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526402">thread link</a>) | @jonersRochen
<br/>
September 19, 2020 | https://s4n0i.github.io/schoolofathens/ | <a href="https://web.archive.org/web/*/https://s4n0i.github.io/schoolofathens/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Each node represents a philosopher. Nodes are linked if one philosopher was an influence to the other.
                The size of a node represents the overall influence of a philosopher on the network.</p><p>
                
                Click on a philosopher's node to get more info about them. You can also interact with the graph by dragging nodes, panning and zooming.
            </p></div></div>]]>
            </description>
            <link>https://s4n0i.github.io/schoolofathens/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526402</guid>
            <pubDate>Sat, 19 Sep 2020 10:19:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I made a scraper that finds the Best Remote Jobs Every Week on the web]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 3 (<a href="https://news.ycombinator.com/item?id=24526323">thread link</a>) | @xoelop
<br/>
September 19, 2020 | https://blog.noicejobs.com/best-remote-jobs-in-the-world-between-sep-11-and-sep-18/ | <a href="https://web.archive.org/web/*/https://blog.noicejobs.com/best-remote-jobs-in-the-world-between-sep-11-and-sep-18/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<section>
<div>
<p>Hey everyone!</p><p>I'm <a href="https://twitter.com/xoelipedes" rel="noopener noreferrer">Xoel</a>, the creator of <a href="https://noicejobs.com/" rel="noopener noreferrer">NoiceJobs.com</a>. On this blog, we'll post the best remote jobs found every week, scraped, aggregated and curated from pretty much all job boards in the Internet.</p><p>For example...</p><ul> <li> üëâ üèù <a target="blank" href="https://bit.ly/2RxVom5">Senior Software Developer</a> at <b>Jupiter</b>
<br>
<b>$70,000 - $120,000 USD + Equity depending on experience</b>
<br> üè° Hiring in EU, Canada, US, Mexico, Central &amp; South America, Rest of Europe  <p>‚Ä¢ We're looking for someone to help <strong>build and support new features</strong> as we scale out the product and company. You will be primarily working with <strong>React, React Native, Node.js</strong>, and <strong>GraphQL</strong>.<br>‚Ä¢ We're looking for someone who is particularly interested in creating systems within the constraints of a <strong>start-up</strong>.<br>‚Ä¢ And finally: we're <strong>bootstrapped</strong>, so far, <strong>building a sustainable business we all want to work at</strong>.</p>
<br> üì® Wanna get an intro with Rich, CTO at Jupiter? <a href="https://airtable.com/shrzoNF0Lcz50u9oh?prefill_open_for_offers=TRUE%20&amp;prefill_extra_info_reported=I%27m%20interested%20in%20the%20Senior%20Software%20Developer%20position%20at%20Jupiter.%0A%0AThis%20is%20why%20I%20think%20I%27m%20a%20great%20candidate%20for%20this%20position%3A" target="_blank" rel="noopener noreferrer">Join NoiceJobs</a> if you haven't yet or <a href="https://blog.noicejobs.com/cdn-cgi/l/email-protection#4a32252f260a242523292f202528396429252775393f28202f293e7703243e38256f787a2c25386f787a3e222f6f787a192f242325386f787a19252c3e3d2b382f6f787a0e2f3c2f26253a2f386f787a3a2539233e2325246f787a2b3e6f787a003f3a233e2f38" target="_blank" rel="noopener noreferrer">email us</a> if you're a member already.
<br> </li> </ul>
<p> Wanna promote your job on NoiceJobs? <a href="#hiring">Check this out</a> </p><p>This post will make it easier to navigate the blog and all the different categories. Jump to...</p><ul> <li> <a href="#Engineering">üñ• Best Remote Engineering jobs found this week</a> </li> <li> <a href="#Product">üñº Best Remote Product jobs found this week</a> </li> <li> <a href="#Business">üíµ Best Remote Business jobs found this week</a> </li> <li> <a href="#Other">üíº Best Other Remote jobs found this week</a> </li> </ul>
<p>BTW: now you can also get these jobs every week <a href="#newsletter">via email!</a></p><h2 id="-best-remote-engineering-jobs-found-this-week">üñ• Best Remote Engineering jobs found this week</h2><p><a href="https://blog.noicejobs.com/best-senior-cto-26-tech-lead-remote-jobs-between-sep-11-and-sep-18/">CTO &amp; Tech Lead jobs</a><br><a href="https://blog.noicejobs.com/best-senior-engineering-manager-remote-jobs-between-sep-11-and-sep-18/">Engineering Manager jobs</a><br><a href="https://blog.noicejobs.com/best-senior-fullstack-remote-jobs-between-sep-11-and-sep-18/">Fullstack jobs</a><br><a href="https://blog.noicejobs.com/best-senior-frontend-remote-jobs-between-sep-11-and-sep-18/">Frontend jobs</a><br><a href="https://blog.noicejobs.com/best-senior-backend-remote-jobs-between-sep-11-and-sep-18/">Backend jobs</a><br><a href="https://blog.noicejobs.com/best-senior-sre-26-devops-remote-jobs-between-sep-11-and-sep-18/">SRE &amp; Devops jobs</a><br><a href="https://blog.noicejobs.com/best-senior-infosec-remote-jobs-between-sep-11-and-sep-18/">Infosec jobs</a><br><a href="https://blog.noicejobs.com/best-senior-mobile-remote-jobs-between-sep-11-and-sep-18/">Mobile jobs</a><br><a href="https://blog.noicejobs.com/best-senior-ios-remote-jobs-between-sep-11-and-sep-18/">iOS jobs</a><br><a href="https://blog.noicejobs.com/best-senior-android-remote-jobs-between-sep-11-and-sep-18/">Android jobs</a><br><a href="https://blog.noicejobs.com/best-senior-python-remote-jobs-between-sep-11-and-sep-18/">Python jobs</a><br><a href="https://blog.noicejobs.com/best-senior-javascript-remote-jobs-between-sep-11-and-sep-18/">Javascript jobs</a><br><a href="https://blog.noicejobs.com/best-senior-java-remote-jobs-between-sep-11-and-sep-18/">Java jobs</a><br><a href="https://blog.noicejobs.com/best-senior-rails-ruby-remote-jobs-between-sep-11-and-sep-18-2/">Rails/Ruby jobs</a><br><a href="https://blog.noicejobs.com/best-senior-go-remote-jobs-between-sep-11-and-sep-18/">Go jobs</a><br><a href="https://blog.noicejobs.com/best-senior-rust-remote-jobs-between-sep-11-and-sep-18/">Rust jobs</a><br><a href="https://blog.noicejobs.com/best-senior-php-remote-jobs-between-sep-11-and-sep-18/">PHP jobs</a><br><a href="https://blog.noicejobs.com/best-senior-wordpress-remote-jobs-between-sep-11-and-sep-18/">Wordpress jobs</a><br><a href="https://blog.noicejobs.com/best-senior-qa-remote-jobs-between-sep-11-and-sep-18/">QA jobs</a><br><a href="https://blog.noicejobs.com/best-senior-solutions-architect-remote-jobs-between-sep-11-and-sep-18/">Solutions Architect jobs</a><br><a href="https://blog.noicejobs.com/best-senior-data-science-26-ml-remote-jobs-between-sep-11-and-sep-18-2/">Data Science &amp; ML jobs</a><br><a href="https://blog.noicejobs.com/best-senior-nlp-26-nlg-remote-jobs-between-sep-11-and-sep-18-2/">NLP &amp; NLG jobs</a><br><a href="https://blog.noicejobs.com/best-senior-data-engineering-26-big-data-remote-jobs-between-sep-11-and-sep-18-2/">Data Engineering &amp; Big Data jobs</a><br><a href="https://blog.noicejobs.com/best-senior-shopify-remote-jobs-between-sep-11-and-sep-18/">Shopify jobs</a><br><a href="https://blog.noicejobs.com/best-senior-gis-remote-jobs-between-sep-11-and-sep-18/">GIS jobs</a><br><a href="https://blog.noicejobs.com/best-senior-react-remote-jobs-between-sep-11-and-sep-18/">React jobs</a><br><a href="https://blog.noicejobs.com/best-senior-vue-remote-jobs-between-sep-11-and-sep-18/">Vue jobs</a><br><a href="https://blog.noicejobs.com/best-devrel-remote-jobs-found-between-sep-02-and-sep-09/">DevRel jobs</a><br><a href="https://blog.noicejobs.com/best-senior-game-dev-26-design-remote-jobs-between-sep-11-and-sep-18-2/">Game Dev &amp; Design jobs</a><br><a href="https://blog.noicejobs.com/best-senior-haskell-remote-jobs-between-sep-11-and-sep-18/">Haskell jobs</a><br><a href="https://blog.noicejobs.com/best-senior-scala-remote-jobs-between-sep-11-and-sep-18/">Scala jobs</a><br><a href="https://blog.noicejobs.com/best-generalist-remote-jobs-between-sep-11-and-sep-18/">Generalist jobs</a><br><a href="https://blog.noicejobs.com/best-senior-c-2b-2b-remote-jobs-between-sep-11-and-sep-18-2/">C++ jobs</a><br><a href="https://blog.noicejobs.com/best-senior-net-remote-jobs-between-sep-11-and-sep-18-2/">.NET jobs</a><br></p><h2 id="-best-remote-product-jobs-found-this-week">üñº Best Remote Product jobs found this week</h2><p><a href="https://blog.noicejobs.com/best-senior-cpo-remote-jobs-between-sep-11-and-sep-18/">CPO jobs</a><br><a href="https://blog.noicejobs.com/best-senior-product-manager-remote-jobs-between-sep-11-and-sep-18/">Product Manager jobs</a><br><a href="https://blog.noicejobs.com/best-senior-ux-26-product-design-remote-jobs-between-sep-11-and-sep-18/">UX &amp; Product Design jobs</a><br><a href="https://blog.noicejobs.com/best-senior-ui-design-remote-jobs-between-sep-11-and-sep-18/">UI Design jobs</a><br><a href="https://blog.noicejobs.com/best-senior-art-26-visual-design-remote-jobs-between-sep-11-and-sep-18/">Art &amp; Visual Design jobs</a><br><a href="https://blog.noicejobs.com/best-senior-copywriting-remote-jobs-between-sep-11-and-sep-18/">Copywriting jobs</a><br><a href="https://blog.noicejobs.com/best-senior-video-editing-remote-jobs-between-sep-11-and-sep-18/">Video Editing jobs</a><br></p><h2 id="-best-remote-business-jobs-found-this-week">üíµ Best Remote Business jobs found this week</h2><p><a href="https://blog.noicejobs.com/best-senior-sales-remote-jobs-between-sep-11-and-sep-18/">Sales jobs</a><br><a href="https://blog.noicejobs.com/best-senior-sdr-remote-jobs-between-sep-11-and-sep-18/">SDR jobs</a><br><a href="https://blog.noicejobs.com/best-senior-legal-remote-jobs-between-sep-11-and-sep-18/">Legal jobs</a><br><a href="https://blog.noicejobs.com/best-senior-operations-remote-jobs-between-sep-11-and-sep-18/">Operations jobs</a><br><a href="https://blog.noicejobs.com/best-senior-customer-support-remote-jobs-between-sep-11-and-sep-18/">Customer Support jobs</a><br><a href="https://blog.noicejobs.com/best-senior-seo-2c-sem-remote-jobs-between-sep-11-and-sep-18/">SEO, SEM jobs</a><br><a href="https://blog.noicejobs.com/best-senior-marketing-remote-jobs-between-sep-11-and-sep-18/">Marketing jobs</a><br><a href="https://blog.noicejobs.com/best-senior-growth-remote-jobs-between-sep-11-and-sep-18/">Growth jobs</a><br><a href="https://blog.noicejobs.com/best-senior-agile-scrum-remote-jobs-between-sep-11-and-sep-18-2/">Agile/Scrum jobs</a><br><a href="https://blog.noicejobs.com/best-senior-data-business-analyst-remote-jobs-between-sep-11-and-sep-18-2/">Data/Business Analyst jobs</a><br><a href="https://blog.noicejobs.com/best-senior-finance-26-investing-remote-jobs-between-sep-11-and-sep-18-2/">Finance &amp; Investing jobs</a><br><a href="https://blog.noicejobs.com/best-senior-accounting-26-bookkeping-remote-jobs-between-sep-11-and-sep-18-2/">Accounting &amp; Bookkeping jobs</a><br><a href="https://blog.noicejobs.com/best-senior-ecommerce-remote-jobs-between-sep-11-and-sep-18/">Ecommerce jobs</a><br><a href="https://blog.noicejobs.com/best-senior-social-media-remote-jobs-between-sep-11-and-sep-18/">Social Media jobs</a><br></p><h2 id="-best-other-remote-jobs-found-this-week">üíº Best Other Remote jobs found this week</h2><p><a href="https://blog.noicejobs.com/best-senior-software-contract-26-freelance-remote-jobs-between-sep-11-and-sep-18/">Software Contract &amp; Freelance jobs</a><br><a href="https://blog.noicejobs.com/best-senior-software-part-time-remote-jobs-between-sep-11-and-sep-18/">Software Part-time jobs</a><br><a href="https://blog.noicejobs.com/best-junior-remote-jobs-between-sep-11-and-sep-18/">Junior jobs</a><br></p>
<h2>üì© Get these jobs as weekly newsletters</h2>

<h2 id="hiring"> Are you hiring remotely?
</h2>
<p> üì£ If so, you can now <a href="https://airtable.com/shreWkzRKtq6oQFiK" target="_blank" rel="noopener noreferrer">post a job on NoiceJobs</a> to reach up to thousands of talented remote workers.
</p>
<p> Some numbers on NoiceJobs' audience:
</p>
<ul> <li> More than <b>3000 subscribers</b> on our <a href="https://t.me/noicejobs" target="_blank" rel="noopener noreferrer">Telegram channels</a> </li> <li> <b>Hundreds of people registered</b> on NoiceJobs and get these posts weekly </li> <li> This blog (launched on September 9) had <b><span id="pageviews"></span> page views</b> in the last month (verified by <a href="https://referral.simpleanalytics.com/xoel" target="_blank" rel="noopener noreferrer">Simple Analytics</a>). </li> <li> Our traffic analytics are 100% open. <a href="https://simpleanalytics.com/blog.noicejobs.com" target="_blank" rel="noopener noreferrer">Check them out here üëÄ</a> and see our pageviews in the graph below </li>
</ul>
<div> <p> A cool graph with our visits would go here, but ad blockers don't like the Simple Analytics embed. Disable yours if you'd like to view it :) </p>
</div>
<h3 id="that-s-it-">That's it!</h3><p>I also share jobs like these in these <a href="https://t.me/NoiceJobs">Telegram channels</a>. More than 3,000 people are subscribed to them.</p><p>Have a good weekend!</p><p>Xoel - <a href="https://twitter.com/xoelipedes" rel="noopener noreferrer">I'm on Twitter too. Say hi!</a></p>
</div>
</section>
</article>
</div>
</div></div>]]>
            </description>
            <link>https://blog.noicejobs.com/best-remote-jobs-in-the-world-between-sep-11-and-sep-18/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526323</guid>
            <pubDate>Sat, 19 Sep 2020 09:51:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Better Way to Find Clients for Your IT Consulting Business]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526274">thread link</a>) | @kureikain
<br/>
September 19, 2020 | https://corebrief.com/2020/09/09/a-better-way-to-find-clients-for-your-it-consulting-business/ | <a href="https://web.archive.org/web/*/https://corebrief.com/2020/09/09/a-better-way-to-find-clients-for-your-it-consulting-business/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-197">

    

	<div>

		
<p>As an experienced software engineer or IT professional, you have spent many years building up your expertise and your skill-set. You‚Äôve built many solutions and you have solved many problems for clients of various sizes. You have finally decided to turn your expertise into a proper business and escape the rat race once and for all. </p>



<p>Perhaps you‚Äôve even put a team together and have managed to secure a client or two with some decent projects. Everything is looking promising. </p>



<p>Except you run into a little problem. </p>



<p>You have NO idea how to get more clients. </p>



<p>The B2B sales process for technology products and services is complicated, it requires reaching out to the right people who are in a position to make a decision and navigating a complex sales cycle, and you don‚Äôt even know where to begin. In fact, you hate this part You really really do. You‚Äôre a technology person after all. You‚Äôre brilliant at what you do. Surely you shouldn‚Äôt have to engage in low-life scummy sales tactics to find clients. You really hate this part. </p>



<p>But you have a business now, so you try. You send out some cold e-mails. You pitch some people on LinkedIn. You spend some money on social media ads, and it just goes down a drain. And then‚Ä¶. nothing. Zero. You have NO new clients. You‚Äôre in a rut. You begin to panic.</p>



<hr>



<p>But there is good news. </p>



<p>Let‚Äôs take a step back. Whenever you find yourself in a rut, always take a step back. Take a few deep breaths, calm yourself down for a moment, and try to get more general. Try to look at the big picture. You have to put the problems aside for a moment so you can clear your mind and take a fresh look.</p>



<p>The good news is that there is a clear path to what you want.</p>



<p>In fact, you already have the components in place.</p>



<p>The first step is to realise that your professional career so far has given you a valuable competitive advantage.</p>



<p>You now know certain things and can do certain things that very few people on the planet know or can do. </p>



<p>The second step is to realise there is demand for these special skills and knowledge you possess.</p>



<p>There are business owners, managers, decision makers, leaders who are, right now, in need of what you know and what you can do for them. More importantly, many of them have both the willingness and the ability to compensate you generously if you can help them solve specific challenges they are currently facing, or specific goals they are currently committed to achieving.</p>



<p>The third step is to realise that you already have direct access to most of these people. It‚Äôs called LinkedIn (or, more broadly, social media).</p>



<p>As you can see, I was not being wishy-washy when I said the components are already in place. All 3 of the above are indeed already in place.</p>



<p>The path to what you want is through aligning yourself ‚Äì your internal beliefs, your presentation and the messaging you put out ‚Äì so you position yourself to be the natural choice for those seeking your expertise.</p>



<p>And yes, you do have to learn to sell. But this doesn‚Äôt have to be so intimidating and you certainly don‚Äôt have to feel like a low-life doing this. So take another deep breath, and allow yourself to get friendly with sales for a moment. Soon you will be best friends ‚Äì better than you know. </p>



<p>I‚Äôll give you a blueprint to follow, right here in this post. And in the future I‚Äôll go into many more details, but this here should be more than enough to get you started. You shouldn‚Äôt need ANYTHING else, don‚Äôt get yourself overwhelmed. It‚Äôs actually very simple and even easy. </p>



<p>First I‚Äôll tell you what NOT to do. </p>



<p>Then I‚Äôll give you a few basic steps to follow.</p>



<hr>



<p>First and foremost ‚Äì DO NOT go hire anyone to do this for you. Trust me on this one. No one can market or sell your product for you before you‚Äôve mastered this process yourself first. You MUST learn to sell your own products and services, there is no way around it. What‚Äôs more ‚Äì no one can do it better than you. You KNOW what you‚Äôre good at. You KNOW what you‚Äôve been able to do for other clients before. You KNOW what problems you‚Äôve been able to solve. You‚Äôve SEEN people and businesses struggle and make wrong decisions and regret them and you KNOW how to do this right. You know how to do it better. No one else can communicate this better than you. No one can be more convincing. No one can connect with your future clients better than you. </p>



<p>Second, avoid paid advertising before you‚Äôve learned how to generate high-ticket sales without it. Paid ads are an amplifier. If you‚Äôre making zero sales right now, the result of putting lots and lots of money in paid ads will be lots and lots of money multiplied by zero. Don‚Äôt waste your time and money doing this. I‚Äôve been there. It ain‚Äôt pretty. </p>



<p>Repeat after me: Paid ads and sales people are for scaling only. Once you‚Äôve got your offer and your messaging down to a proven working system, you can then pay for ads and hire sales people to go 10x or 100x bigger. But you are not ready for this. Delay this phase as long as possible. When the time comes, you will know it. </p>



<p>Finally, for the love kittens, please don‚Äôt go spamming people left and right with your offer. Don‚Äôt send e-mails. Don‚Äôt talk to strangers on messenger. Don‚Äôt call them on the phone. Don‚Äôt ask for appointments. Just don‚Äôt, ok? Don‚Äôt do it. No one likes that. It won‚Äôt get you anywhere. </p>



<p>There IS a better way.</p>



<hr>



<p>So here is what to do.</p>



<p>You can get started today, easily. And you can see results quickly, without spending a fortune on anyone or anything.</p>



<p>Your biggest problem right now is obscurity. No one knows you exist. Simple as that.</p>



<p>To start getting more sales, you have to get out there where relevant people can see you so that A) they know you exist and B) you get an opportunity to speak directly to their current pains and frustrations.</p>



<p>As tacky as it sounds, social media turns out to be useful for this.</p>



<p>I‚Äôve found that LinkedIn can be pretty great for B2B sales ‚Äì but I‚Äôve also seen people get good results with high-ticket sales on Facebook as well. (Once again, though ‚Äì DO NOT just go spamming people on LinkedIn! Keep calm and read on.)</p>



<p>There is a structure and sequence to the approach. You have to do things in the right order  and you have to get through some things first, but it‚Äôs easy, there‚Äôs no big expenses involved, and you can start getting results in weeks or even days if you do this right.</p>



<p>The first steps go like this:</p>



<ol><li>Get as much clarity as you can on who your ideal clients are and what your main offer is. I think you already have a good idea about this, but always worth thinking harder about it and putting it in writing for yourself and your team. Make sure to think about your ideal client as A PERSON, even if we‚Äôre talking billion-dollar corporations here. At the end of the day someone has to make a decision and write a check.</li><li>Prime your LinkedIn profile. Make it look professional. Use the tag-line to speak directly to your ideal buyer (this requires some creativity and it‚Äôs a bit of a process ‚Äì don‚Äôt be afraid to keep changing it, but once you find something that works, stick with it.) Use the longer ‚ÄúAbout‚Äù section to do more of the same. You have to basically turn that into a mini sales letter. Don‚Äôt go into many technical details ‚Äì always write as if it‚Äôs coming out of your ideal client‚Äôs head. Think of their situation, their current struggles and challenges, the urgency of the problem, and how you can relieve that. Talk about what they will gain from working with you and the amount of time, effort and money they will save.</li><li>Start adding very targeted connections ‚Äì on a daily basis. If you wish, you can pay for LinkedIn‚Äôs Sales Navigator, but I‚Äôve found that the basic search works good enough for me. Every day run a search for people who may be in a position to make decisions about your offer (or go through your LinkedIn network recommendations) and just send out connection requests to 5 ‚Äì 10 people each day day (but don‚Äôt go crazy and start adding everyone indiscriminately.) You can add a little personalisation note, but I‚Äôm not sure it makes much of a difference with most people. Your profile (and especially the tag-line) should be able to speak for itself. There are people who use LinkedIn for networking and they will usually accept your connection request. Then there are people who don‚Äôt like connecting with strangers and they will ignore you. Don‚Äôt make a big deal out of it, don‚Äôt take it personally, just stick to the process and turn it into a habit.</li><li>While you are growing your network, start making more regular posts. You should aim for once a day, on average. You can do more (but not much more) or less (but not much less). In your posts, you can do a number of different things, but the whole point is to imagine you are speaking directly to your ideal clients. Don‚Äôt be too sales-y all the time, just speak from your expertise and experience. Talk about their problems and your solution to them. Talk about what you‚Äôve done for other similar clients and the specific benefits they‚Äôve experienced. Talk especially about saving time ‚Äì that‚Äôs a big one. </li><li>Don‚Äôt be discouraged if you get little to no interactions with your posts at first! This DOESN‚ÄôT mean people aren‚Äôt reading your content. Many people (especially busy people) will not react to your content, but if it‚Äôs relevant they WILL read it. When people do start interacting with your posts, feel free to start conversations with them. Keep the conversation exploratory and see how you can be of service. If you can get them on the phone, even better. Just keep this in mind: your first job is NOT to try to sell them anything. It‚Äôs to understand whether or not you‚Äôre a good fit for working together and to genuinely give them the advice that‚Äôs best for them. If this happens to mean working with you, great ‚Äì don‚Äôt be shy about it either. </li><li>Once every few weeks, make a post with a very direct offer, ‚Ä¶</li></ol></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://corebrief.com/2020/09/09/a-better-way-to-find-clients-for-your-it-consulting-business/">https://corebrief.com/2020/09/09/a-better-way-to-find-clients-for-your-it-consulting-business/</a></em></p>]]>
            </description>
            <link>https://corebrief.com/2020/09/09/a-better-way-to-find-clients-for-your-it-consulting-business/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526274</guid>
            <pubDate>Sat, 19 Sep 2020 09:38:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A New Back End for Cranelift: Instruction Selection]]>
            </title>
            <description>
<![CDATA[
Score 73 | Comments 4 (<a href="https://news.ycombinator.com/item?id=24526088">thread link</a>) | @pcr910303
<br/>
September 19, 2020 | https://cfallin.org/blog/2020/09/18/cranelift-isel-1/ | <a href="https://web.archive.org/web/*/https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>This post is the first in a three-part series about my recent work on
<a href="https://github.com/bytecodealliance/wasmtime/tree/main/cranelift">Cranelift</a>
as part of my day job at Mozilla. In this first post, I will set some context
and describe the instruction selection problem. In particular, I‚Äôll talk about
a revamp to the instruction selector and backend framework in general that
we‚Äôve been working on for the last nine months or so. This work has been
co-developed with my brilliant colleagues Julian Seward and <a href="https://benj.me/">Benjamin
Bouvier</a>, with significant early input from <a href="https://github.com/sunfishcode">Dan
Gohman</a> as well, and help from all of the
wonderful Cranelift hackers.</p>

<h2 id="background-cranelift">Background: Cranelift</h2>

<p>So what is Cranelift? The project is a compiler framework written in
<a href="https://www.rust-lang.org/">Rust</a> that is designed especially (but not
exclusively) for <a href="https://en.wikipedia.org/wiki/Just-in-time_compilation">just-in-time
compilation</a>. It‚Äôs a
general-purpose compiler: its most popular use-case is to compile
<a href="https://www.webassembly.org/">WebAssembly</a>, though several other frontends
exist, for example,
<a href="https://github.com/bjorn3/rustc_codegen_cranelift">cg_clif</a>, which adapts the
Rust compiler itself to use Cranelift. Folks at Mozilla and several other
places have been developing the compiler for a few years now.  It is the
default compiler backend for
<a href="https://github.com/bytecodealliance/wasmtime">wasmtime</a>, a runtime for
WebAssembly outside the browser, and is used in production in several other
places as well. We recently flipped the switch to turn on Cranelift-based
WebAssembly support in nightly Firefox on <a href="https://en.wikipedia.org/wiki/AArch64">ARM64
(AArch64)</a> machines, including most
smartphones, and if all goes well, it will eventually go out in a stable
Firefox release. Cranelift is developed under the umbrella of the <a href="https://bytecodealliance.org/">Bytecode
Alliance</a>.</p>

<p>In the past nine months, we have built a new framework in Cranelift for the
‚Äúmachine backends‚Äù, or the parts of the compiler that support particular CPU
instruction sets. We also added a new backend for AArch64, mentioned above, and
filled out features as needed until Cranelift was ready for production use in
Firefox. This blog post sets some context and describes the design process that
went into the backend-framework revamp.</p>

<p>It can be a bit confusing to keep all of the moving parts straight. Here‚Äôs a
visual overview of Cranelift‚Äôs place among various other components, focusing
on two of the major Rust crates (the Wasm frontend and the codegen backend) and
several of the other programs that make use of Cranelift:</p>

<p><img src="https://cfallin.org/assets/2020-09-10-cranelift-components.svg" alt="Figure: Cranelift and other components"></p>

<h2 id="old-backend-design-instruction-legalizations">Old Backend Design: Instruction Legalizations</h2>

<p>To understand the work that we‚Äôve done recently on Cranelift, we‚Äôll need to
zoom into the <code>cranelift_codegen</code> crate above and talk about how it <em>used to</em>
work. What is this ‚ÄúCLIF‚Äù input, and how does the compiler translate it to
machine code that the CPU can execute?</p>

<p>Cranelift makes use of
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/ir.md">CLIF</a>,
or the Cranelift IR (Intermediate Representation) Format, to represent the code
that it is compiling. Every compiler that performs program optimizations uses
some form of an <a href="https://en.wikipedia.org/wiki/Intermediate_representation">Intermediate Representation
(IR)</a>: you can think
of this like a virtual instruction set that can represent all the operations a
program is allowed to do. The IR is typically simpler than real instruction
sets, designed to use a small set of well-defined instructions so that the
compiler can easily reason about what a program means. The IR is also
independent of the CPU architecture that the compiler eventually targets; this
lets much of the compiler (such as the part that generates IR from the input
programming language, and the parts that optimize the IR) be reused whenever
the compiler is adapted to target a new CPU architecture.  CLIF is in <a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">Static
Single Assignment
(SSA)</a> form, and
uses a conventional <a href="https://en.wikipedia.org/wiki/Control-flow_graph">control-flow
graph</a> with basic blocks
(though it previously allowed extended basic blocks, these have been phased
out). Unlike many SSA IRs, it represents œÜ-nodes with block parameters
rather than explicit œÜ-instructions.</p>

<p>Within <code>cranelift_codegen</code>, before we revamped the backend design, the program
remained in CLIF throughout compilation and up until the compiler emitted the
final machine code. This might seem to contradict what we just said: how can
the IR be machine-independent, but also be the final form from which we emit
machine code?</p>

<p>The answer is that the old backends were built around the concept of
‚Äúlegalization‚Äù and ‚Äúencodings‚Äù. At a high level, the idea is that every
<em>Cranelift</em> instruction either corresponds to one <em>machine</em> instruction, or can
be replaced by a sequence of other <em>Cranelift</em> instructions. Given such a
mapping, we can refine the CLIF in steps, starting from arbitrary
machine-independent instructions from earlier compiler stages, performing edits
until the CLIF corresponds 1-to-1 with machine code. Let‚Äôs visualize this
process:</p>

<p><img src="https://cfallin.org/assets/2020-09-10-cranelift-legalization.svg" alt="Figure: legalization by repeated instruction expansion"></p>

<p>A very simple example of a CLIF instruction that has a direct ‚Äúencoding‚Äù to a
machine instruction is <code>iadd</code>, which just adds two integers. On essentially any
modern architecture, this should map to a simple ALU instruction that adds two
registers.</p>

<p>On the other hand, many CLIF instructions do not map cleanly. Some arithmetic
instructions fall into this category: for example, there is a CLIF instruction
to count the number of set bits in an integer‚Äôs binary representation
(<code>popcount</code>); not every CPU has a single instruction for this, so it might be
expanded into a longer series of bit manipulations. There are operations that
are defined at a higher semantic level, as well, that will necessarily be
lowered with expansions: for example, accesses to Wasm memories are lowered
into operations that fetch the linear memory base and its size, bounds-check
the Wasm address against the limit, compute the real address for the Wasm
address, and perform the access.</p>

<p>To compile a function, then, we iterate over the CLIF and find instructions
with no direct machine encodings; for each, we simply expand into the legalized
sequence, and then recursively consider the instructions in that sequence. We
loop until all instructions have machine encodings. At that point, we can emit
the bytes corresponding to each instruction‚Äôs encoding<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p>

<h2 id="growing-pains-and-a-new-backend-framework">Growing Pains, and a New Backend Framework?</h2>

<p>There are a number of advantages to the legacy Cranelift backend design, which
performs expansion-based legalization with a single IR throughout. As one might
expect, though, there are also a number of drawbacks. Let‚Äôs discuss a few of
each.</p>

<h3 id="single-ir-and-legalization-pros">Single IR and Legalization: Pros</h3>

<ol>
  <li>
    <p>By operating on a single IR all the way to machine-code emission, the same
optimizations can be applied at multiple stages. For example, consider a
legalization expansion that turns a high-level ‚Äúaccess Wasm memory‚Äù
instruction into a sequence of loads, adds and bounds-checks. If many such
sequences occur in one function, we might be able to factor out common
portions (e.g.: computing the base of the Wasm memory).  Thus the
legalization scheme exposes as much code as possible, at as many stages as
possible, to opportunities for optimization. The legacy Cranelift pipeline
in fact works in this way: it runs ‚Äúpre-opt‚Äù and ‚Äúpost-opt‚Äù optimization
passes, before and after legalization respectively.</p>
  </li>
  <li>
    <p>If <em>most</em> of the Cranelift instructions become one machine instruction, and
few legalizations are necessary, then this scheme can be very fast: it
becomes simply a single traversal to fill in ‚Äúencodings‚Äù, which were
represented by small indices into a table.</p>
  </li>
</ol>

<h3 id="single-ir-and-legalization-cons">Single IR and Legalization: Cons</h3>

<ol>
  <li>
    <p>Expansion-based legalization may not always result in
optimal code. So far we‚Äôve seen that legalization can convert from CLIF to
machine instructions with one-to-one or one-to-many mappings. However, there
are sometimes also <em>single</em> machine instructions that implement the behavior of
<em>multiple</em> CLIF instructions, i.e. a many-to-one mapping. In order to generate
efficient code, we want to be able to make use of these instructions.</p>

    <p>For example, on x86, an instruction that references memory can compute an
address like <code>base + scale * index</code>, where <code>base</code> and <code>index</code> are registers
and <code>scale</code> is 1, 2, 4, or 8. There is no notion of such an address mode in
CLIF, so we would want to pattern-match the raw <code>iadd</code> (add) and <code>ishl</code>
(shift) or <code>imul</code> (multiply) operations when they occur in the address
computation. Then, we would want to somehow select the encoding on the
<code>load</code> instruction based on the fact that its input is some specific
combination of adds and shifts/multiplies.  This seems to break the
abstraction that the encoding represents only that instruction‚Äôs operation.</p>

    <p>In principle, we could implement more general pattern matching for legalization
rules to allow many-to-one mappings. However, this would be a significant
refactor; and as long as we were reconsidering the design in whole, there were
other reasons to avoid patching the problem in this way.</p>
  </li>
  <li>
    <p>There is a conceptual difficulty with the single-IR approach: there is
no static representation of which instructions are expanded into which others
and it is difficult to reason about the correctness and termination properties
of legalization as a whole.</p>

    <p>Specifically, the expansion-based legalization rules must obey a partial
order among instructions: if A expands into a sequence including B, then B
cannot later expand into A. In practice, mappings were mostly one-to-one,
and for those that weren‚Äôt, there was a clear domain separation between the
‚Äúinput‚Äù high-level instructions and the ‚Äúmachine-level‚Äù instructions.
However, for more complex machines, or more complex matching schemes that
attempt to make better use of the target instruction set, this could become
a real difficulty for the machine-backend author to keep straight.</p>
  </li>
  <li>
    <p>There are efficiency concerns with expansion-based legalization. At
an algorithmic level, we prefer to avoid fixpoint loops (in this case,
‚Äúcontinue expanding until no more expansions exist‚Äù) whenever possible. The
runtime is bounded, but the bound is somewhat difficult to reason about,
because it depends on the maximum depth of chained expansions.</p>

    <p>The data structures that enable in-place editing are also much slower than
we would like. Typically, compilers store IR instructions in linked lists to
allow for in-place editing. ‚Ä¶</p></li></ol></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cfallin.org/blog/2020/09/18/cranelift-isel-1/">https://cfallin.org/blog/2020/09/18/cranelift-isel-1/</a></em></p>]]>
            </description>
            <link>https://cfallin.org/blog/2020/09/18/cranelift-isel-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526088</guid>
            <pubDate>Sat, 19 Sep 2020 08:40:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chip8 Emulator Games]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24526006">thread link</a>) | @spencerwgreene
<br/>
September 19, 2020 | https://ajor.co.uk/chip8/ | <a href="https://web.archive.org/web/*/https://ajor.co.uk/chip8/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><a href="https://ajor.co.uk/chip8/chip8.html">Play in your browser with your own Chip8 games</a>, or select a game from below.</p>

<h2 id="chip-8-games">Chip-8 games:</h2>

<p><a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/CONNECT4&amp;speed=1"><img src="https://ajor.co.uk/images/chip8/connect4.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/BLINKY&amp;speed=10"><img src="https://ajor.co.uk/images/chip8/blinky.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/BRIX&amp;speed=10"><img src="https://ajor.co.uk/images/chip8/brix.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/PONG2&amp;speed=10"><img src="https://ajor.co.uk/images/chip8/pong.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/TETRIS&amp;speed=10"><img src="https://ajor.co.uk/images/chip8/tetris.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/HIDDEN&amp;speed=1"><img src="https://ajor.co.uk/images/chip8/hidden.png" alt="Chip8 screenshot"></a></p>

<h2 id="super-chip-games">Super-Chip games:</h2>

<p><a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/CAR&amp;speed=50"><img src="https://ajor.co.uk/images/chip8/super-car.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/PIPER&amp;speed=20"><img src="https://ajor.co.uk/images/chip8/super-piper.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/ALIEN&amp;speed=50"><img src="https://ajor.co.uk/images/chip8/super-alien.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/ANT&amp;speed=30"><img src="https://ajor.co.uk/images/chip8/super-ant.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/SPACEFIG&amp;speed=50"><img src="https://ajor.co.uk/images/chip8/super-spacefig.png" alt="Chip8 screenshot"></a>
<a href="https://ajor.co.uk/chip8/chip8.html?rom=/chip8/games/WORM3&amp;speed=20"><img src="https://ajor.co.uk/images/chip8/super-worm.png" alt="Chip8 screenshot"></a></p>

<h2 id="keyboard-map">Keyboard map</h2>
<div><div><pre><code>Chip-8:    QWERTY keyboard:

1 2 3 C        1 2 3 4
4 5 6 D        Q W E R
7 8 9 E        A S D F
A 0 B F        Z X C V
</code></pre></div></div>

<p>Pressing Enter resets the emulator.</p>

<p>All the games seem to have different controls, so you‚Äôll just have to try them and see what works.</p>

  </div></div>]]>
            </description>
            <link>https://ajor.co.uk/chip8/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24526006</guid>
            <pubDate>Sat, 19 Sep 2020 08:15:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How attractive is your website? Check using Visual Mind AI]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 169 (<a href="https://news.ycombinator.com/item?id=24525995">thread link</a>) | @myraahio
<br/>
September 19, 2020 | https://myraah.io/visualmind | <a href="https://web.archive.org/web/*/https://myraah.io/visualmind">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <div>
            <div>
              
              <h4>Visual rank of your website is as important as your SEO rank.</h4>
              <p>Users make lasting judgments about a website‚Äôs appeal within a split second.  This first impression is influential enough to later affect their opinions of a site‚Äôs usability and trustworthiness.</p>
            </div>
          </div> <!-- col -->
        </div><div>
          <div>
            <div>
              
              <h4>What is Visual Mind ?</h4>
              <p>Visual Mind is an AI engine specifically designed for understanding and scoring visual appearance of a website. Visual Mind has analyzed over a million websites to achieve an accuracy rate of over 97%.</p>
            </div>
          </div> <!-- col -->
        </div><div>
          <div>
            <div>
              
              <h4>What is Visual Mind Score and why it matters ?</h4>
              <p>For too long, aesthetics of a website has been dismissed as a superficial concern. That is a mistake. As latest research demonstrates ( See recommended ref) , the visual appeal of a website is tied up with far weightier issues, such as functionality and trustworthiness.</p>
              <p>Have you ‚Äúfast-tested‚Äù your website? Remember, you have only fifty milliseconds to impress your visitors. Flash your website to people for a very short period of time and then ask for their opinion. That is the opinion that matters.</p>
              <p>Visual Mind score ‚Äì provides you with a qualitative score about that first impression. It can help you evaluate your website aesthetics and make improvements.</p>
              <p><a href="https://myraah.io/index.php/visualmind">Check Your VM SCORE</a></p>
            </div>
          </div> <!-- col -->
        </div><div>
          <div>
            <div>
				<h4>Want to explore more ‚Äì we recommend</h4>
              <p>A.  Bauerly, M., and Liu, Y. Effects of Symmetry and Number of Compositional Elements on Interface and Design Aesthetics. Int. Journal of Human-Computer Interaction 3 (2008).</p>
              <p>B. Cyr, D. Modeling Website Design across Cultures: Relationships to Trust, Satisfaction and E-loyalty. Journal of Management Information Systems 24, 4 (2008)</p>
              <p>C. Everard, A., and Galletta, D. How presentation flaws affect perceived site quality, trust, and intention to purchase from an online store. Journal of Management Information Systems 22, 3 (2006)</p>
              <p>D. Geissler, G., Zinkhan, G., and Watson, R. The Influence of Home Page Complexity on Consumer Attention, Attitudes, and Purchase Intent. Journal of Advertising 35, 2 (2006)</p>
              <p>E. Hall, R. H., and Hanna, P. The Impact of Web Page Text-background Colour Combinations on Readability,Retention, Aesthetics and Behavioural Intention. Behaviour &amp; Information Technology 23, 3 (2004)</p>
              <p>G. Lindgaard, G., Fernandes, G., Dudek, C., and Brown, J. Attention Web Designers: You Have 50 Milliseconds to Make a Good First Impression! Behaviour &amp; Information Technology 25, 2 (2006)</p>
              <p>H. Michailidou, E., Harper, S., and Bechhofer, S. Visual Complexity and Aesthetic Perception of Web Pages. Proc. Design of Communication (2008)</p>
              <p>I. Tuch, A. N., Bargas-Avila, J. A., and Opwis, K. Symmetry and Aesthetics in Website Design: It‚Äôs a Man‚Äôs Business. Computers in Human Behavior 26, 6 (2010)</p>
              
			</div>
          </div> <!-- col -->
        </div></div>]]>
            </description>
            <link>https://myraah.io/visualmind</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525995</guid>
            <pubDate>Sat, 19 Sep 2020 08:13:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CrazyFast Crystal based 88x31 visitor counter img generator brought back to 2020]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24525873">thread link</a>) | @gcds
<br/>
September 19, 2020 | https://www.techprowd.com/evening-project-a-crystal-based-super-fast-visitor-counter/ | <a href="https://web.archive.org/web/*/https://www.techprowd.com/evening-project-a-crystal-based-super-fast-visitor-counter/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 300w,
                            https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 600w,
                            https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 1000w,
                            https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1502570149819-b2260483d302?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Evening Project: A Crystal based super fast visitor counter">
            </figure>

            <section>
                <div>
                    <p>I have taken this week's holidays with the plan that the Overkill Workbench materials would be delivered today, but in the end, it will be delivered on Sunday, so I have a lot of free time on my hands.</p><p>Yesterday, while talking with some friends, I remembered old good &lt;2008 websites, portals, and how we created them; one of the most prominent features I loved about that period was 88x31, and 120x60 sized Ad's/Counters and other goodies. It was always a fight between website authors fighting for a higher number of page visits and similar metrics. Nowadays, everything is hidden and typical, only seen by webmasters on Google Analytics and similar tools.</p><p>So today's my evening project is <a href="https://crystal-lang.org/">Crystal</a> language-based 88x31 website visitor counter image rendered entirely in <a href="https://crystal-lang.org/">Crystal</a>.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-60.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-60.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-60.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-60.png 1600w, https://www.techprowd.com/content/images/2020/09/image-60.png 1754w" sizes="(min-width: 720px) 720px"></figure><h2 id="requirements-">Requirements:</h2><ul><li>A single endpoint would return 88x31 sized png with numbers</li><li>Provide two numbers, one unique visitor count, and other total visits.</li><li>Do not depend on external libraries for image generation.</li><li>Use the least amount of resources like memory and disk space. (Maybe one day my blog will be viral, who knows)</li><li>Most important, be as fast as possible!</li></ul><h2 id="architecture-">Architecture:</h2><p>The plan is to run the crystal internal HTTP server without any overhangs and host it on Heroku free plan.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-61.png" alt=""></figure><p>Store user identifiers in Redis for uniqueness measurement and fast lookup (Remember we need speed)</p><figure><img src="https://www.techprowd.com/content/images/2020/09/source.gif" alt=""></figure><p>I found a shard (Crystal libraries are called shards) for image rendering, which can generate a PNG image using raw X, Y pixel information no external libraries used.</p><figure><a href="https://github.com/stumpycr/stumpy_png"><div><p>stumpycr/stumpy_png</p><p>Read/Write PNG images in pure Crystal. Contribute to stumpycr/stumpy_png development by creating an account on GitHub.</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>GitHub</span></p></div><p><img src="https://avatars0.githubusercontent.com/u/27729351?s=400&amp;v=4"></p></a></figure><p>For Redis client, I am going to use this shard:</p><figure><a href="https://github.com/stefanwille/crystal-redis"><div><p>stefanwille/crystal-redis</p><p>Full featured Redis client for Crystal. Contribute to stefanwille/crystal-redis development by creating an account on GitHub.</p><p><img src="https://github.githubassets.com/favicons/favicon.svg"><span>stefanwille</span><span>GitHub</span></p></div><p><img src="https://avatars2.githubusercontent.com/u/331756?s=400&amp;v=4"></p></a></figure><h2 id="step-1-rendering-image">Step 1: Rendering image</h2><p>As I have chosen image size to be 88x31, I need to try to fit two numbers. Total visits - Every load counts and Unique Visitors - Number of unique visitors.</p><p>I have drawn some sample representation I imagine in Photoshop:</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-62.png" alt=""></figure><p>It looks tiny on my 4K monitor, but back in 2005, it looked huge on my 1024x768 monitor.</p><p>One of the problems now that I am not using external libraries is that I have no simple way to render text on the image. That's not a big deal, remembering practices I used for Graphical LCD/OLED on embedded electronic projects. I will create an array of Tuples of 3 uint8 integers of each pixel information in a 7x10 array for each number.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-64.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-64.png 600w, https://www.techprowd.com/content/images/2020/09/image-64.png 800w" sizes="(min-width: 720px) 720px"></figure><p>To make each number in array format, I need to generate 7x10 images of each number. Then using the <a href="https://javl.github.io/image2cpp/">https://javl.github.io/image2cpp/</a> tool, I generated arrays for each character.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=%2520%2520%2520%2520ONE%2520%253D%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x323233%252C%25200x4d4e4e%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x323233%252C%25200x9b9c9c%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x787879%252C%25200x939393%252C%25200xa4a4a4%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%250A%2520%2520%2520%2520%255D%2520%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520ZERO%2520%253D%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x59595a%252C%25200x6e6f6f%252C%25200x646465%252C%25200x212222%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x787879%252C%25200xa4a4a4%252C%25200x6e6f6f%252C%25200x939393%252C%25200x9b9c9c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200xb3b3b3%252C%25200x323233%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200xa4a4a4%252C%25200x4d4e4e%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x4d4e4e%252C%25200x9b9c9c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x787879%252C%25200x6e6f6f%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x4d4e4e%252C%25200x939393%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x4d4e4e%252C%25200x939393%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x404141%252C%25200xa4a4a4%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x787879%252C%25200x6e6f6f%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200xababab%252C%25200x4d4e4e%252C%25200x0a0b0c%252C%25200x212222%252C%25200xababab%252C%25200x404141%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x646465%252C%25200xb3b3b3%252C%25200x939393%252C%25200xababab%252C%25200x828282%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x212222%252C%25200x4d4e4e%252C%25200x323233%252C%25200x0a0b0c%252C%25200x0a0b0c%250A%2520%2520%2520%2520%255D"><img src="https://www.techprowd.com/content/images/2020/09/carbon--19-.png" alt="carbon--19-"></a></p>
<!--kg-card-end: markdown--><p>Now that I have pixel data of each character, I can finally create a whole image.</p><p>Knowing the array's exact size, in our case, it's 7x10; we can loop through the array and fill in all pixels referenced from a given position.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=module%2520VisitorCounter%253A%253ACharacters%250A%2520%2520%2520%2520CHARACTER_WIDTH%2520%253D%25207%250A%2520%2520%2520%2520CHARACTER_HEIGHT%2520%253D%252010%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520TWO%2520%253D%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x59595a%252C%25200x6e6f6f%252C%25200x646465%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x828282%252C%25200x9b9c9c%252C%25200x6e6f6f%252C%25200x939393%252C%25200x9b9c9c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x323233%252C%25200xababab%252C%25200x212222%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200xa4a4a4%252C%25200x4d4e4e%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x323233%252C%25200x646465%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x9b9c9c%252C%25200x404141%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x646465%252C%25200x939393%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x323233%252C%25200x8b8b8b%252C%25200x787879%252C%25200x212222%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x404141%252C%25200x939393%252C%25200x404141%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x9b9c9c%252C%25200x212222%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x4d4e4e%252C%25200xb3b3b3%252C%25200xb3b3b3%252C%25200xb3b3b3%252C%25200xb3b3b3%252C%25200xb3b3b3%252C%25200x4d4e4e%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%250A%2520%2520%2520%2520%255D%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520ONE%2520%253D%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x323233%252C%25200x4d4e4e%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x323233%252C%25200x9b9c9c%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x787879%252C%25200x939393%252C%25200xa4a4a4%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x6e6f6f%252C%25200x6e6f6f%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x0a0b0c%250A%2520%2520%2520%2520%255D%2520%250A%2520%2520%2520%2520%250A%2520%2520%2520%2520ZERO%2520%253D%2520%255B%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x0a0b0c%252C%25200x59595a%252C%25200x6e6f6f%252C%25200x646465%252C%25200x212222%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200x787879%252C%25200xa4a4a4%252C%25200x6e6f6f%252C%25200x939393%252C%25200x9b9c9c%252C%25200x0a0b0c%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x0a0b0c%252C%25200xb3b3b3%252C%25200x323233%252C%25200x0a0b0c%252C%25200x0a0b0c%252C%25200xa4a4a4%252C%25200x4d4e4e%252C%2520%250A%2520%2520%2520%2520%2520%2520%2520%25200x4d4e4e%252C%25200x9b9c9c%252C%25200x0a0b0c%252C%2520"><img src="https://www.techprowd.com/content/images/2020/09/carbon--20-.png" alt="carbon--20-"></a></p>
<!--kg-card-end: markdown--><p>After trying out <code>VisitorCounter::Characters.render_character</code> function I was able to see it working correctly.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-65.png" alt=""></figure><p>Now it's time to wrap it all and make the main function, which would generate and return generated image as <code>IO::Memory</code> buffer.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/carbon--21--1.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/carbon--21--1.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/carbon--21--1.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/carbon--21--1.png 1600w, https://www.techprowd.com/content/images/2020/09/carbon--21--1.png 2048w" sizes="(min-width: 720px) 720px"></figure><p>To make more usable, I added this image generator to a simple HTTP server and returned random numbers generated in response.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=require%2520%2522stumpy_png%2522%250Ainclude%2520StumpyPNG%250Arequire%2520%2522http%252Fserver%2522%250Arequire%2520%2522.%252Fvisitor_counter%252F*%2522%250A%250Aserver%2520%253D%2520HTTP%253A%253AServer.new%2520do%2520%257Ccontext%257C%250A%2520%2520context.response.content_type%2520%253D%2520%2522image%252Fpng%2522%250A%250A%2520%2520image%2520%253D%2520VisitorCounter%253A%253AImageGenerator.generate(%250A%2520%2520%2520%2520Random.new.rand(1..99999999)%252C%250A%2520%2520%2520%2520Random.new.rand(1..99999999)%252C%250A%2520%2520)%250A%250A%2520%2520context.response.content_length%2520%253D%2520image.size%250A%2520%2520IO.copy(image%252C%2520context.response)%250Aend%250A%250Aaddress%2520%253D%2520server.bind_tcp%25208080%250Aputs%2520%2522Listening%2520on%2520http%253A%252F%252F%2523%257Baddress%257D%2522%250Aserver.listen%250A"><img src="https://www.techprowd.com/content/images/2020/09/carbon--22-.png" alt="carbon--22-"></a></p>
<!--kg-card-end: markdown--><p>After running this code and going to <code>http://127.0.0.1:8080</code> I received generated image with random numbers.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-66.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-66.png 600w, https://www.techprowd.com/content/images/2020/09/image-66.png 612w"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-67.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-67.png 600w, https://www.techprowd.com/content/images/2020/09/image-67.png 612w"></figure><p>Now we can move on to a more exciting part, which is counting visitors.</p><h2 id="step-2-counting-visitors">Step 2: Counting Visitors</h2><p>To count visitors first, we need some kind of unique value. In this project, I am going to use the IP address of the client. As I plan to host this on Heroku, I know that IP will only be IPv4, so I can safely convert the IP address from 127.0.0.1 to its bytes equivalent by merging all 4 x Int8 parts of IP this way it will take less space in Redis memory 4 bytes instead of 15 bytes.</p><p>This is a function which extracts IP address from request. As I mentioned before, this will be hosted on Heroku, so the client IP address will be available in the HTTP header <code>X-Forwarded-For</code> as a load balancer will replace the client IP address with its own.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=private%2520def%2520extract_ip(request)%250A%2520%2520%2520%2520ip%2520%253D%2520request.headers%255B%2522X-Forwarded-For%2522%255D%253F%250A%2520%2520%2520%2520if%2520ip.nil%253F%250A%2520%2520%2520%2520%2520%2520%2520%2520case%2520remote_address%2520%253D%2520request.remote_address%250A%2520%2520%2520%2520%2520%2520%2520%2520when%2520Socket%253A%253AIPAddress%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520ip%2520%253D%2520remote_address.address%250A%2520%2520%2520%2520%2520%2520%2520%2520else%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520ip%2520%253D%2520nil%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520unless%2520ip.nil%253F%250A%2520%2520%2520%2520%2520%2520a%252C%2520b%252C%2520c%252C%2520d%2520%253D%2520ip.split(%27.%27)%250A%250A%2520%2520%2520%2520%2520%2520ip_address%2520%253D%2520Slice(UInt8).new(4)%250A%2520%2520%2520%2520%2520%2520ip_address%255B0%255D%2520%253D%2520a.to_u8%250A%2520%2520%2520%2520%2520%2520ip_address%255B1%255D%2520%253D%2520b.to_u8%250A%2520%2520%2520%2520%2520%2520ip_address%255B2%255D%2520%253D%2520c.to_u8%250A%2520%2520%2520%2520%2520%2520ip_address%255B3%255D%2520%253D%2520d.to_u8%250A%250A%2520%2520%2520%2520%2520%2520return%2520String.new(ip_address)%250A%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520nil%250Aend"><img src="https://www.techprowd.com/content/images/2020/09/carbon--25-.png" alt="carbon--25-"></a></p>
<!--kg-card-end: markdown--><p>If the IP address is not available for some reason, I will skip this visit from a unique visit count and just increase the total visit count.</p><p>Now wrapping everything into <code>WebHandler</code>, which will nicely integrate into HTTP Server, we should have a working counter.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=module%2520VisitorCounter%250A%2520%2520%2520%2520class%2520WebHandler%250A%2520%2520%2520%2520%2520%2520%2520%2520include%2520HTTP%253A%253AHandler%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520UNIQUE_VISITS_OFFSET_KEY%2520%253D%2520%2522UNIQUE_VISITS_OFFSET%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520TOTAL_VISITS_OFFSET_KEY%2520%253D%2520%2522TOTAL_VISITS_OFFSET%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520TOTAL_VISITS_KEY%2520%253D%2520%2522TOTAL_VISITS%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520UNIQUE_VISITS_KEY%2520%253D%2520%2522UNIQUE_VISITS%2522%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520def%2520initialize(redis%2520%253A%2520Redis%253A%253APooledClient)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2540redis%2520%253D%2520redis%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520def%2520call(context)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520context.response.headers%255B%2522Server%2522%255D%2520%253D%2520%2522Techprowd%2520Visitor%2520Counter%2520v1.0%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520unless%2520context.request.method%2520%253D%253D%2520%2522GET%2522%2520%257C%257C%2520context.request.method%2520%253D%253D%2520%2522HEAD%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520context.response.status_code%2520%253D%2520405%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520context.response.headers.add(%2522Allow%2522%252C%2520%2522GET%252C%2520HEAD%2522)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520return%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520if%2520context.request.path.not_nil!%2520!%253D%2520%2522%252F%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520call_next(context)%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520return%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520ip_address%2520%253D%2520extract_ip(context.request)%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520unless%2520ip_address.nil%253F%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520increase_total_visits(ip_address)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520increase_unique_visits(ip_address)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520image%2520%253D%2520ImageGenerator.generate(%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520get_total_visits()%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520get_unique_visits()%252C%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520)%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520context.response.content_type%2520%253D%2520%2522image%252Fpng%2522%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520context.response.content_length%2520%253D%2520image.size%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520IO.copy(image%252C%2520context.response)%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520private%2520def%2520increase_total_visits(ip)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2540redis.incr(TOTAL_VISITS_KEY).to_i%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520private%2520def%2520increase_unique_visits(ip)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520if%2520%2540redis.exists(ip)%2520%253D%253D%25200%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2540redis.set(ip%252C%25201)%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2540redis.incr(UNIQUE_VISITS_KEY).to_i%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520end%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520private%2520def%2520get_unique_visits%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520(%2540redis.get(UNIQUE_VISITS_KEY)%2520%257C%257C%2520%25220%2522).to_i%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520private%2520def%2520get_total_visits%250A%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520(%2540redis.get(TOTAL_VISITS_KEY)%2520%257C%257C%2520%25220%2522).to_i%250A%2520%2520%2520%2520%2520%2520%2520%2520end%250A%2520%2520%2520%2520end%250Aend"><img src="https://www.techprowd.com/content/images/2020/09/carbon--35-.png" alt="carbon--35-"></a></p>
<!--kg-card-end: markdown--><p>The main file code should look like this right now:</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=require%2520%2522stumpy_png%2522%250Arequire%2520%2522http%252Fserver%2522%250Arequire%2520%2522http%252Fserver%252Fhandlers%252F*%2522%250Arequire%2520%2522redis%2522%250A%250Arequire%2520%2522.%252Fvisitor_counter%252F*%2522%250A%250Ainclude%2520StumpyPNG%250A%250Amodule%2520VisitorCounter%250A%2520%2520VERSION%2520%253D%2520%25220.1.0%2522%250A%250A%2520%2520ENV%255B%2522PORT%2522%255D%2520%257C%257C%253D%2520%25228080%2522%250A%2520%2520ENV%255B%2522REDIS_URL%2522%255D%2520%257C%257C%253D%2520%2522redis%253A%252F%252F127.0.0.1%252F%2522%250A%250A%2520%2520redis%2520%253D%2520Redis%253A%253APooledClient.new(url%253A%2520ENV%255B%2522REDIS_URL%2522%255D)%250A%250A%2520%2520server%2520%253D%2520HTTP%253A%253AServer.new(%255B%250A%2520%2520%2520%2520HTTP%253A%253AErrorHandler.new%252C%250A%2520%2520%2520%2520HTTP%253A%253ALogHandler.new%252C%250A%2520%2520%2520%2520HTTP%253A%253ACompressHandler.new%252C%250A%2520%2520%2520%2520VisitorCounter%253A%253AWebHandler.new(redis)%252C%250A%2520%2520%255D)%250A%250A%2520%2520address%2520%253D%2520server.bind_tcp%2520%25220.0.0.0%2522%252CENV%255B%2522PORT%2522%255D.to_i%250A%2520%2520puts%2520%2522Listening%2520on%2520http%253A%252F%252F%2523%257Baddress%257D%2522%250A%2520%2520server.listen%250Aend"><img src="https://www.techprowd.com/content/images/2020/09/carbon--31-.png" alt="carbon--31-"></a></p>
<!--kg-card-end: markdown--><p>Running the main code now we should see the counter working as expected:</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-80.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-80.png 600w, https://www.techprowd.com/content/images/2020/09/image-80.png 801w"></figure><figure><img src="https://www.techprowd.com/content/images/2020/09/image-79.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-79.png 600w, https://www.techprowd.com/content/images/2020/09/image-79.png 612w"></figure><p>Notice the response times of the web request! It's around 1ms per request! That's crazy fast... But wait, it's not built correctly.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-81.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-81.png 600w, https://www.techprowd.com/content/images/2020/09/image-81.png 829w"></figure><p>Now that's what I call FAST!</p><figure><img src="https://www.techprowd.com/content/images/2020/09/source-1.gif" alt=""></figure><p>Just one issue... While running Apache benchmarks, I noticed that the total visit counter is increasing at every request, which is right, but it can be easily abused. We need to rate-limit the total visit counter so that a single IP address can have only one visit per X amount of time.</p><p>Easy, he said! Remember, we are using Redis for our storage, and Redis has a Keys with Expiration feature. Which is precisely what we need.</p><!--kg-card-begin: markdown--><p><a href="https://carbon.now.sh/?bg=rgba(171%2C%20184%2C%20195%2C%201)&amp;t=seti&amp;wt=none&amp;l=crystal&amp;ds=true&amp;dsyoff=20px&amp;dsblur=68px&amp;wc=true&amp;wa=true&amp;pv=56px&amp;ph=56px&amp;ln=false&amp;fl=1&amp;fm=Hack&amp;fs=14px&amp;lh=133%25&amp;si=false&amp;es=2x&amp;wm=false&amp;code=private%2520def%2520increase_total_visits(ip)%250A%2520%2520%2520%2520if%2520%2540redis.exists(%2522!%2523%257Bip%257D%2522)%2520%253D%253D%25200%250A%2520%2520%2520%2520%2520%2520%2520%2520%2540redis.incr(TOTAL_VISITS_KEY).to_i%250A%250A%2520%2520%2520%2520%2520%2520%2520%2520%2540redis.set(%2522!%2523%257Bip%257D%2522%252C%25201%252C%2520RATE_LIMIT_SECONDS)%250A%2520%2520%2520%2520end%250Aend"><img src="https://www.techprowd.com/content/images/2020/09/carbon--37-.png" alt="carbon--37-"></a></p>
<!--kg-card-end: markdown--><p>This way now only increases total visits only when the rate limit timeout will be reached; in this code, it's 5 seconds, but I am going to set something like 1 minute in production.</p><p>Now that we have our application working as we expect. We should deploy our application. I am going to follow the official <a href="https://crystal-lang.org/2016/05/26/heroku-buildpack.html">Crystal guide for Heroku deployment</a>.</p><figure><img src="https://www.techprowd.com/content/images/2020/09/image-82.png" alt="" srcset="https://www.techprowd.com/content/images/size/w600/2020/09/image-82.png 600w, https://www.techprowd.com/content/images/size/w1000/2020/09/image-82.png 1000w, https://www.techprowd.com/content/images/size/w1600/2020/09/image-82.png 1600w, https://www.techprowd.com/content/images/2020/09/image-82.png 1676w" sizes="(min-width: 1200px) 1200px"></figure><p>After easy set up and install now we have an working counter running on heroku.</p><p><a href="https://immense-beyond-23382.herokuapp.com/">https://immense-beyond-23382.herokuapp.com/</a></p><!--kg-card-begin: html--><p><img src="https://immense-beyond-23382.herokuapp.com/"></p><!--kg-card-end: html--><h2 id="conclusion">Conclusion</h2><p>The fully working source code is available on my <a href="https://www.patreon.com/posts/41771991">Patreon account</a> for all pledgers. I will try to add this small counter to this Ghost template as I really loved the idea of this small counter 15 years ago.</p><p>Don't forget to subscribe to the newsletters down bellow. Every new article will be delivered in a friendly email, readable format straight into your mailbox!</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to techprowd</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>
            

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://www.techprowd.com/evening-project-a-crystal-based-super-fast-visitor-counter/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525873</guid>
            <pubDate>Sat, 19 Sep 2020 07:43:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My first 15000 curl commits]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24525665">thread link</a>) | @dosshell
<br/>
September 18, 2020 | https://daniel.haxx.se/blog/2020/09/18/my-first-15000-curl-commits/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/09/18/my-first-15000-curl-commits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I‚Äôve long maintained that <strong>persistence</strong> is one of the main qualities you need in order to succeed with your (software) project. In order to manage to ship a product that truly conquers the world. By continuously and never-ending keeping at it: polishing away flaws and adding good features. On and on and on.</p>



<p>Today marks the day when I landed my 15,000th commit in the <a href="https://github.com/curl/curl">master branch in curl‚Äôs git repository</a> ‚Äì and we don‚Äôt do merge commits so this number doesn‚Äôt include such. Funnily enough, <a href="https://github.com/curl/curl/graphs/contributors">GitHub can‚Äôt count</a> and shows a marginally lower number.</p>



<figure><img loading="lazy" width="844" height="116" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/15000-commits.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/15000-commits.png 844w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/15000-commits-450x62.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/15000-commits-200x27.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/15000-commits-768x106.png 768w" sizes="(max-width: 844px) 100vw, 844px"></figure>



<p>This is of course a totally meaningless number and I‚Äôm only mentioning it here because it‚Äôs even and an opportunity for me to celebrate something. To cross off an imaginary milestone. This is not even a year since we passed <a href="https://daniel.haxx.se/blog/2019/11/29/curl-25000-commits/" data-type="post" data-id="12859">25,000 total number of commits</a>. Another meaningless number.</p>



<p>15,000 commits equals 57% of all commits done in curl so far and it makes me the only committer in the curl project with over 10% of the commits.</p>



<figure><a href="https://curl.haxx.se/dashboard1.html#daniel-vs-rest"><img loading="lazy" width="1200" height="675" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-1200x675.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-1200x675.png 1200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-450x253.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-200x113.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-768x432.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-1536x864.png 1536w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard1-2048x1152.png 2048w" sizes="(max-width: 1200px) 100vw, 1200px"></a></figure>



<p>The curl git history starts on December 29 1999, so the first 19 months of commits from the early curl history are lost. 15,000 commits over this period equals a little less than 2 commits per day on average. I reached 10,000 commits  in December 2011, so the latest 5,000 commits were done at a slower pace than the first 10,000.</p>



<p>I estimate that I‚Äôve spent more than 15,000 hours working on curl over this period, so it would mean that I spend more than one hour of ‚Äúcurl time‚Äù per commit on average. According to <a href="https://curl.haxx.se/gitstats/authors.html">gitstats</a>, these 15,000 commits were done on 4,271 different days.</p>



<p>We also have other curl repositories that aren‚Äôt included in this commit number. For example, I have done over 4,400 commits in curl‚Äôs website repository.</p>



<p>With these my first 15,000 commits I‚Äôve added 627,000 lines and removed 425,000, making an average commit adding 42 and removing 28 lines. (Feels pretty big but I figure the really large ones skew the average.)</p>



<p>The largest time gap ever between two of my commits in the curl tree is almost 35 days back in June 2000. If we limit the check to ‚Äúmodern times‚Äù, as in 2010 or later, there was a 19 day gap in July 2015. I <em>do</em> take vacations, but I usually keep up with the most important curl development even during those.</p>



<p>On average it is one commit done by me every 12.1 hours. Every 15.9 hours since 2010. </p>



<p>I‚Äôve been working <a href="https://daniel.haxx.se/blog/2019/02/02/im-on-team-wolfssl/" data-type="post" data-id="11915">full time on curl since early 2019</a>, up until then it was a spare time project only for me. Development with pull-requests and CI and things that verify a lot of the work <em>before</em> merge is a recent thing so one explanation for a slightly higher commit frequency in the past is that we then needed more ‚Äúoops‚Äù commits to rectify mistakes. These days, most of them are done in the PR branches that are squashed when subsequently merged into master. Fewer commits with higher quality.</p>



<h2>curl committers</h2>



<p>We have merged commits authored by over 833 authors into the curl master repository.  Out of these, 537 landed only a single commit (so far).</p>



<figure><a href="https://curl.haxx.se/dashboard1.html#authors"><img loading="lazy" width="1200" height="675" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-1200x675.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-1200x675.png 1200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-450x253.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-200x113.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-768x432.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-1536x864.png 1536w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard2-2048x1152.png 2048w" sizes="(max-width: 1200px) 100vw, 1200px"></a></figure>



<p>We are 48 authors who ever wrote 10 or more commits within the same year. 20 of us committed that amount of commits during more than one year.</p>



<figure><a href="https://curl.haxx.se/dashboard1.html#coreteam-per-year"><img loading="lazy" width="1200" height="675" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-1200x675.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-1200x675.png 1200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-450x253.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-200x113.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-768x432.png 768w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-1536x864.png 1536w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-curl-Project-status-dashboard3-2048x1152.png 2048w" sizes="(max-width: 1200px) 100vw, 1200px"></a></figure>



<p>We are 9 authors who wrote more than 1% of the commits each.</p>



<p>We are 5 authors who ever wrote 10 or more commits within the same year in 10 or more years.</p>



<p>Our second-most committer (by commit count) has not merged a commit for over seven years.</p>



<p>To reach curl‚Äôs top-100 committers list right now, you only need to land 6 commits.</p>



<h2>can I keep it up?</h2>



<p>I intend to stick around in the curl project going forward as well. If things just are this great and life remains fine, I hope that I will be maintaining roughly this commit speed for years to come. My prediction is therefore that it will take longer than another twenty years to reach 30,000 commits.</p>



<p>I‚Äôve worked on curl and its precursors for almost <em>twenty-four years</em>. In another twenty-four years I will be well into my retirement years. At some point I will probably not be fit to shoulder this job anymore!</p>



<p>I have never planned long ahead before and I won‚Äôt start now. I will instead keep focused on keeping curl top quality, an exemplary open source project and a welcoming environment for newcomers and oldies alike. I will continue to make sure the project is able to function totally independently if I‚Äôm present or not.</p>



<h2>The 15,000th commit?</h2>



<p>So what exactly did I change in the project when I merged my 15,000th ever change into the branch?</p>



<p>It was a pretty boring and <a href="https://github.com/curl/curl/commit/559ed3ca2545c56a9acc4e805970434f657bd691">non-spectacular one</a>. I removed a document (<code>RESOURCES</code>) from the docs/ folder as that has been a bit forgotten and now is just completely outdated. There‚Äôs a much better page for this provided on the web site: <a href="https://curl.haxx.se/rfc/">https://curl.haxx.se/rfc/</a></p>



<h2>Celebrations!</h2>



<p>I of coursed asked my twitter friends a few days ago on how this occasion is best celebrated:</p>



<figure><a href="https://twitter.com/bagder/status/1302345161272418307"><img loading="lazy" width="825" height="493" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-Twitter-Publish.png" alt="" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-Twitter-Publish.png 825w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-Twitter-Publish-450x269.png 450w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-Twitter-Publish-200x120.png 200w, https://daniel.haxx.se/blog/wp-content/uploads/2020/09/Screenshot_2020-09-15-Twitter-Publish-768x459.png 768w" sizes="(max-width: 825px) 100vw, 825px"></a></figure>



<p>I showed these results to my wife. She approved.</p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/09/18/my-first-15000-curl-commits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525665</guid>
            <pubDate>Sat, 19 Sep 2020 06:43:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Small Computing and the Security Mindset]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 8 (<a href="https://news.ycombinator.com/item?id=24525475">thread link</a>) | @zdw
<br/>
September 18, 2020 | http://www.lord-enki.net/medium-backup/2020-09-18_Small-Computing-and-the-Security-Mindset-821dfb512aa7.html | <a href="https://web.archive.org/web/*/http://www.lord-enki.net/medium-backup/2020-09-18_Small-Computing-and-the-Security-Mindset-821dfb512aa7.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<header>

</header>
<section data-field="subtitle">
The story of modern computing is the story of the big-computing mindset (scale, centralization, elitism, and paternalism) infecting‚Ä¶
</section>
<section data-field="body">
<section name="3648"><div><div><h3 name="8f02" id="8f02">Small Computing and the Security&nbsp;Mindset</h3><p name="3181" id="3181">The story of modern computing is the story of the big-computing mindset (scale, centralization, elitism, and paternalism) infecting everything it touches as programming becomes more of a profession than a craft. In the process, it creates edifices of practices‚Ää‚Äî‚Ääuseful in big-computing situations‚Ää‚Äî‚Ääthat get unthinkingly applied outside of their appropriate bounds, forcing small-computing projects into the strictures of big-computing design. One major domain where we must begin to think critically about the big- vs small-computing distinction is security.</p><p name="46d1" id="46d1">Small-computing systems ought to be secure. After all, they are our most personal environments! They are our diaries and our artworks and our dream journals! But computer security, as it has become professionalized, has become more and more focused on big-computing environments, and good security practices in those environments are inimical to the basic tenets of small computing.</p><p name="369b" id="369b">In a big-computing environment, valuable secrets (like credit card numbers) and desirable powers (like the ability to tweet on behalf of the president) are kept on a set of machines owned by a single entity (the corporation) on behalf of the ostensible owners of that information and power (particular end-users) and protected from illegitimate access (hacking/cracking) by an elite set of professionals (software engineers, ops teams, security consultants) who use their monopoly on legitimate access to certain power (superuser &amp; administrator privileges, commit access) to construct laws (security policies) that prohibit as many not-explicitly-allowed operations as possible. Because the adversaries are many, with infinite time and energy, and because the treasure is valuable, and because laws always have unseen loopholes, these elite professionals construct layers upon layers of rules to limit not only what users (legitimate or illegitimate) can do, but what kind of feedback they can receive.</p><p name="c145" id="c145">This mentality has even made its way into language design: Java (and C++) have a rudimentary form of access control where members can be marked private, and good style in these languages is to mark all member data as private and write accessor functions, ostensibly in order to perform validity checks on proposed modification. This boilerplate is added rather than doing the sensible thing and creating custom metatables such that assignments are implicitly passed through an integrity check (as may be done in Python and Lua). Of course, such checks are rarely implemented, and they cannot distinguish between ‚Äòauthorized‚Äô and ‚Äòunauthorized‚Äô calling-classes anyhow‚Ää‚Äî‚Ääwhile C++ has ‚Äòfriend classes‚Äô that can modify private data directly, and both support using inheritance hierarchies to control data access, there is no granularity smaller than kin/friend versus outsider, so these access controls are borderline useless for everything besides the ad-hoc plugging failures of the type system and increasing the line count of codebases.</p><p name="c4c2" id="c4c2">Systems that require big-computing style security exist. Problems that are best suited to those systems also exist‚Ää‚Äî‚Ääyour bank ought to not only have big-computing style security, but ought to have substantially better security than it has. But, this model is not really sensible in many of the places it is used. For instance, Google Docs (which simulates a word processor with some limited support for simultaneous editing by multiple users) is locked into this model only because it is client-server, and a hypothetical local-first or peer-to-peer version should not be so professionalized and stratified; Microsoft Word, being a local application, has no legitimate excuse (though the real reason, as with most big-computing systems, is that unnecessary centralization is a very effective way to squeeze money out of users who don‚Äôt know any better).</p><p name="d95a" id="d95a">When I use Google Docs, I can modify the javascript running on my browser, modify the cookies being sent to the server, and modify URL parameters. If I do something wrong, I will get an entirely unhelpful error message from inside the black box of the remote server. This is because, by failing to fall precisely in line with the Alphabet Corporation‚Äôs desired behavior, I have become an adversary, and adversaries cannot be given information that might help them do whatever they might want to do (since some of the things they might want to do is get, for instance, the credit card numbers of everyone who has ever bought an advertisement). Of course, Google engineers writing and maintaining Google Docs face the same situation. Outside of an adversarial situation, investigating a poorly-understood piece of code by poking it and interpreting error messages is called debugging, and part of the small computing ethos is that users should not be prevented from debugging.</p><p name="05d7" id="05d7">The difference between big computing and small computing is, in essence, that in small computing, the user is never an adversary. This is because the running code is owned and controlled by the user. This goes beyond open source / free software (where the developer is no adversary, but the developer is an elite professional often working on behalf of a corporation inside a firewall, performing work that may well be detrimental to those who actually need to interact with its effects).</p><p name="bd41" id="bd41">What kinds of structures befit a small-computing system in an environment where networking exists, and what security models are appropriate for these structures?</p><p name="8df4" id="8df4">For one thing, a multi-user client-server model makes no sense. In a client-server model, whoever controls the single server functionally controls all clients. There is, therefore, incentive to hoard power by locking vital functionalities away on the shared server, making every client dependent‚Ää‚Äî‚Ääslowed by latency when online, shit out of luck when offline, and always under threat of sudden unilateral changes in policy or protocol.</p><p name="d853" id="d853">Instead, we should look to peer to peer systems: direct for real-time communication, and offline-first store-and-forward schemes for everything else. Asymmetric encryption for key exchange and for signing still make sense here, as does hash-based content addressing for storage. Secure Scuttlebutt and IPFS are good models for what small-computing-oriented network technologies of the future might look like: fully distributed, yet resistant to the kinds of threats that regularly take down federated systems like ActivityPub and IRC, because all nodes are equal and all nodes replicate for each other (under cryptographically-enforced anti-spoofing measures).</p><p name="32c0" id="32c0">What does a threat model for small-computing infrastructure look like?</p><p name="2535" id="2535">Well, unlike in big-computing systems, a small-computing system does not (typically) have large numbers of highly motivated dedicated attackers. Fuzzy Bear isn‚Äôt APTing your grandma‚Äôs laptop, because your grandma‚Äôs laptop has nothing on it but christmas MIDIs and questionable nudes. Our threat is really from folks doing large-scale automated sweeps for low-hanging fruit. So, small-computing threat modeling looks like everyday opsec: use encryption, don‚Äôt give strangers direct access to private spaces and limit the spaces they do have access to, distinguish between sensitive and non-sensitive data, and protect the integrity of the system from outsiders. Protect the network-facing portion of your machine, while maximizing your own access to it.</p><p name="aa5a" id="aa5a">In this context, technologies we absolutely do not need are: passwords, SSO, certificate authority hierarchies, name servers and host files, NAT firewalls, code signing, chroot jails, memory layout randomizers, executable symbol stripping, single-application containers, daemons running as ‚Äònobody‚Äô, web APIs for wrapping the web APIs around your web APIs, friend classes, and sudo.</p><p name="9477" id="9477">Technologies we might want to look into: distributed hash tables, chord routing, merkel trees, functional languages, JIT, fast copy-on-write, network-aware cache eviction policies, split-brain countermeasures, transitive blocking, store and forward, message passing, microversioning, journaling, and image-based environments.</p></div></div></section>
</section>
</article></div>]]>
            </description>
            <link>http://www.lord-enki.net/medium-backup/2020-09-18_Small-Computing-and-the-Security-Mindset-821dfb512aa7.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525475</guid>
            <pubDate>Sat, 19 Sep 2020 05:54:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From Vector Spaces to Periodic Functions]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24525383">thread link</a>) | @susam
<br/>
September 18, 2020 | https://susam.in/blog/from-vector-spaces-to-periodic-functions/ | <a href="https://web.archive.org/web/*/https://susam.in/blog/from-vector-spaces-to-periodic-functions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>By <b>Susam Pal</b> on 30 Jan 2019</p>
<h2 id="vector-spaces"><a href="#vector-spaces">Vector Spaces</a></h2>
<p>
A fascinating result that appears in linear algebra is the fact that the
set of real numbers \( \mathbb{R} \) is a vector space over the set of
rational numbers \( \mathbb{Q}. \) This may appear surprising at first
but it is easy to show that it is indeed so by checking that all eight
axioms of vector spaces hold good:
</p>

<ol>
  <li>
    <p>
      Commutativity of vector addition:<br>
      \( x + y = y + x \) for all \( x, y \in \mathbb{R}. \)
    </p>
  </li>
  <li>
    <p>
      Associativity of vector addition:<br>
      \( x + (y + z) = (x + y) + z \) for all \( x, y, z \in \mathbb{R}.
      \)
    </p>
  </li>
  <li>
    <p>
      Existence of additive identity vector:<br>
      We have \( 0 \in \mathbb{R} \) such that \( x + 0 = x \) for all
      \( x \in \mathbb{R}. \)
    </p>
  </li>
  <li>
    <p>
      Existence of additive inverse vectors:<br>
      There exists \( -x \in \mathbb{R} \) for all \( x \in \mathbb{R}.
      \)
    </p>
  </li>
  <li>
    <p>
      Associativity of scalar multiplication:<br>
      \( a(bx) = (ab)x \) for all \( a, b \in \mathbb{Q} \) and for all
      \( x \in \mathbb{R}. \)
    </p>
  </li>
  <li>
    <p>
      Distributivity of scalar multiplication over vector addition:<br>
      \( a(x + y) = ax + by \) for all \( a \in \mathbb{Q} \) and for
      all \( x, y \in \mathbb{R}. \)
    </p>
  </li>
  <li>
    <p>
      Distributivity of scalar multiplication over scalar addition:<br>
      \( (a + b)x = ax + bx \) for all \( a, b \in \mathbb{Q} \) and for
      all \( x \in \mathbb{R}. \)
    </p>
  </li>
  <li>
    <p>
      Existence of scalar multiplicative identity:<br>
      We have \( 1 \in \mathbb{Q} \) such that \( 1 \cdot x = x \) for
      all \( x \in \mathbb{R}. \)
    </p>
  </li>
</ol>
<p>
  This shows that the set of real numbers \( \mathbb{R} \) forms a
  vector space over the field of rational numbers \( \mathbb{Q}. \)
  Another quick way to arrive at this fact is to observe that \(
  \mathbb{Q} \subseteq \mathbb{R}, \) that is, \( \mathbb{Q} \) is a
  subfield of \( \mathbb{R}. \) Any field is a vector space over any of
  its subfields, so \( \mathbb{R} \) must be a vector space over \(
  \mathbb{Q}. \)
</p>


<h2 id="problem"><a href="#problem">Problem</a></h2>

<p>
Here is an interesting problem related to vector spaces that I came
across recently:
</p>

<div>
<p>
Define two periodic functions \( f \) and \( g \) from \( \mathbb{R} \)
to \( \mathbb{R} \) such that their sum \( f + g \) is the identity
function. The axiom of choice is allowed.
</p>
<p>
A function \( f \) is periodic if there exists \( p \gt 0 \) such that
\( f(x + p) = f(x) \) for all \( x \) in the domain.
</p>
</div>

<p>
<em>
If you want to think about this problem, this is a good time to pause
and think about it. There are spoilers ahead.
</em>
</p>


<h2 id="solution"><a href="#solution">Solution</a></h2>

<p>
The axiom of choice is equivalent to the statement that every vector
space has a basis. Since the set of real numbers \( \mathbb{R} \) is a
vector space over the set of rational numbers \( \mathbb{Q}, \) there
must be a basis \( \mathcal{H} \subseteq \mathbb{R} \) such that every
real number \( x \) can be written uniquely as a finite linear
combination of elements of \( \mathcal{H} \) with rational coefficients,
that is,
\[
  x = \sum_{a \in \mathcal{H}} x_a a
\]
where each \( x_a \in \mathbb{Q} \) and \( \{ a \in \mathcal{H} \mid x_a
\ne 0 \} \) is finite. The set \( \mathcal{H} \) is also known as the
Hamel basis.
</p>

<p>
We know that \( b_a = 0 \) for distinct \( a, b \in \mathcal{H} \)
because \( a \) and \( b \) are basis vectors.
</p>

<p>
In the above expansion of \( x, \) each \( x_a \) is a rational number
that appears as the coefficient of the basis vector \( a. \) Therefore
\( (x + y)_{a} = x_a + y_a \) for all \( x, y \in \mathbb{R}. \) Thus \(
(x + b)_{a} = x_a + b_a = x_a + 0 = x_a. \) This shows that a function
\( f(x) = x_a \) is a periodic function with period \( b \) for any \( b
\in \mathcal{H} \setminus \{a\}. \)
</p>

<p>
Let us define two functions:
\begin{align*}
  f(x) &amp; = \sum_{a \in \mathcal{H} \setminus \{ b \}} x_a a,
  &amp;
  g(x) &amp; = x_b b.
\end{align*}
where \( b \in \mathcal{H} \) and \( x \in \mathbb{R}. \) Let us
choose \( c \in \mathcal{H} \) such that \( c \ne b. \) Then \( f(x) \)
is a periodic function with period \( b \) and \( g(x) \) is a periodic
function with period \( c. \) Further,
\[
  f(x) + g(x)
  = \left( \sum_{a \in \mathcal{H} \setminus \{ b \}} x_a a \right) + x_b b
  = \sum_{a \in \mathcal{H}} x_a a
  = x.
\]
Thus \( f(x) \) and \( g(x) \) are two periodic functions such that
their sum is the identity function.
</p>


<h2 id="references"><a href="#references">References</a></h2>
<ul>
  <li>
    <a href="https://mathworld.wolfram.com/VectorSpace.html">Vector
    Space</a> (by Eric W. Weisstein)
  </li>
  <li>
    <a href="https://web.archive.org/web/20141026224511/https://drexel28.wordpress.com/2010/10/22/the-dimension-of-r-over-q/">The
    Dimension of R over Q</a> (by Alex Youcis)
  </li>
  <li>
    <a href="https://mathblag.wordpress.com/2013/09/01/sums-of-periodic-functions/">Sums
  of Periodic Functions</a> (by David Radcliffe)
  </li>
</ul>



</div></div>]]>
            </description>
            <link>https://susam.in/blog/from-vector-spaces-to-periodic-functions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525383</guid>
            <pubDate>Sat, 19 Sep 2020 05:29:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hand-Optimizing VLIW Assembly Language as a Game]]>
            </title>
            <description>
<![CDATA[
Score 56 | Comments 33 (<a href="https://news.ycombinator.com/item?id=24525372">thread link</a>) | @luu
<br/>
September 18, 2020 | http://silverspaceship.com/hovalaag/ | <a href="https://web.archive.org/web/*/http://silverspaceship.com/hovalaag/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://silverspaceship.com/hovalaag/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525372</guid>
            <pubDate>Sat, 19 Sep 2020 05:27:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Go Code on iOS and Android]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24525336">thread link</a>) | @nnx
<br/>
September 18, 2020 | https://rogchap.com/2020/09/14/running-go-code-on-ios-and-android/ | <a href="https://web.archive.org/web/*/https://rogchap.com/2020/09/14/running-go-code-on-ios-and-android/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <p>In this tutorial we'll be building a simple Go package that you can run from an iOS application (Swift) and also an
Android application (Kotlin).</p>
<p>This tutorial does <strong>NOT</strong> use the <a href="https://github.com/golang/mobile">Go Mobile</a>
framework; instead it uses Cgo to build the raw static (iOS) and shared (Android) C library that can be imported into your
mobile project (which is what the Go Mobile framework does under-the-hood).</p>
<h2 id="setup">Setup</h2>
<p>For this tutorial we'll create a simple monorepo with the following structure:</p>
<pre><code>.
‚îú‚îÄ‚îÄ android/
‚îú‚îÄ‚îÄ go/
‚îÇ   ‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ libfoo/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ main.go
‚îÇ   ‚îú‚îÄ‚îÄ foo/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ foo.go
‚îÇ   ‚îú‚îÄ‚îÄ go.mod
‚îÇ   ‚îî‚îÄ‚îÄ go.sum
‚îî‚îÄ‚îÄ ios/
</code></pre><div><pre><code data-lang="zsh">$ mkdir -p android ios go/cmd/libfoo go/foo
</code></pre></div><p>We'll start with the Go code and come back to creating the iOS and Android projects later.</p>
<div><pre><code data-lang="zsh">$ <span>cd</span> go
$ go mod init rogchap.com/libfoo
</code></pre></div><h2 id="foo-package">Foo package</h2>
<div><pre><code data-lang="go"><span>// go/foo/foo.go
</span><span></span><span>package</span> foo

<span>// Reverse reverses the given string by each utf8 character
</span><span></span><span>func</span> <span>Reverse</span>(in <span>string</span>) <span>string</span> {
    n <span>:=</span> <span>0</span>
    <span>rune</span> <span>:=</span> <span>make</span>([]<span>rune</span>, <span>len</span>(in))
    <span>for</span> _, r <span>:=</span> <span>range</span> in { 
        <span>rune</span>[n] = r
        n<span>++</span>
    } 
    <span>rune</span> = <span>rune</span>[<span>0</span>:n]
    <span>for</span> i <span>:=</span> <span>0</span>; i &lt; n<span>/</span><span>2</span>; i<span>++</span> { 
        <span>rune</span>[i], <span>rune</span>[n<span>-</span><span>1</span><span>-</span>i] = <span>rune</span>[n<span>-</span><span>1</span><span>-</span>i], <span>rune</span>[i] 
    } 
    <span>return</span> <span>string</span>(<span>rune</span>)
}
</code></pre></div><p>Our <code>foo</code> package has a single function <code>Reverse</code> that has a single string argument <code>in</code> and a single string output.</p>
<h2 id="export-for-c">Export for C</h2>
<p>In order for our C library to call our <code>foo</code> package we need to export all the functions that we want to expose to C
with the special <code>export</code> comment.
This wrapper needs to be in the <code>main</code> package:</p>
<div><pre><code data-lang="go"><span>// go/cmd/libfoo/main.go
</span><span></span>pacakge main

<span>import</span> <span>"C"</span>

<span>// other imports should be seperate from the special Cgo import
</span><span></span><span>import</span> (
    <span>"rogchap.com/libfoo/foo"</span>
)

<span>//export reverse
</span><span></span><span>func</span> <span>reverse</span>(in <span>*</span>C.char) <span>*</span>C.char {
    <span>return</span> C.<span>CString</span>(foo.<span>Reverse</span>(C.<span>GoString</span>(in)))
}

<span>func</span> <span>main</span>() {}
</code></pre></div><p>We're using the special <code>C.GoString()</code> and <code>C.CString()</code> functions to convert between Go string and a C string.</p>
<p><em>Note:</em> The function that we are exporting does not need to be an exported Go function (ie. starts with a Captial
letter). Also note the empty <code>main</code> function; this is required for the Go code to compile otherwise you'll get a
<code>function main is undeclared in the main package</code> error.</p>
<p>Let's test our build by creating a static C library using the Go <code>-buildmode</code> flag:</p>
<pre><code>go build -buildmode=c-archive -o foo.a ./cmd/libfoo
</code></pre><p>This should have outputed the C library: <code>foo.a</code> and the header file: <code>foo.h</code>. You should see our exported
function at the bottom of our header file:</p>
<div><pre><code data-lang="C"><span>extern</span> <span>char</span><span>*</span> <span>reverse</span>(<span>char</span><span>*</span> in);
</code></pre></div><h2 id="building-for-ios">Building for iOS</h2>
<p>Our goal is to create a <a href="https://en.wikipedia.org/wiki/Fat_binary">fat binary</a> that can be used on iOS devices and the
iOS simulator.</p>
<p>The Go standard library includes a script for building for iOS:
<a href="https://golang.org/misc/ios/clangwrap.sh"><code>$GOROOT/misc/ios/clangwrap.sh</code></a>, however this script only builds for
<code>arm64</code>, and we need <code>x86_64</code> too for the iOS Simulator. So, we're going to create our own <code>clangwrap.sh</code>:</p>
<div><pre><code data-lang="sh"><span>#!/bin/sh
</span><span></span>
<span># go/clangwrap.sh</span>

<span>SDK_PATH</span><span>=</span><span>`</span>xcrun --sdk <span>$SDK</span> --show-sdk-path<span>`</span>
<span>CLANG</span><span>=</span><span>`</span>xcrun --sdk <span>$SDK</span> --find clang<span>`</span>

<span>if</span> <span>[</span> <span>"</span><span>$GOARCH</span><span>"</span> <span>=</span><span>=</span> <span>"amd64"</span> <span>]</span>; <span>then</span>
    <span>CARCH</span><span>=</span><span>"x86_64"</span>
<span>elif</span> <span>[</span> <span>"</span><span>$GOARCH</span><span>"</span> <span>=</span><span>=</span> <span>"arm64"</span> <span>]</span>; <span>then</span>
    <span>CARCH</span><span>=</span><span>"arm64"</span>
<span>fi</span>

<span>exec</span> <span>$CLANG</span> -arch <span>$CARCH</span> -isysroot <span>$SDK_PATH</span> -mios-version-min<span>=</span>10.0 <span>"</span><span>$@</span><span>"</span>
</code></pre></div><p>Don't forget to make it executable:</p>
<pre><code>chmod +x clangwrap.sh
</code></pre><p>Now we can build our library for each architecture and combine into a fat binary using the <code>lipo</code> tool (via a Makefile):</p>
<div><pre><code data-lang="make"><span># go/Makefile
</span><span></span>
<span>ios-arm64</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>darwin <span>\
</span><span></span>	<span>GOARCH</span><span>=</span>arm64 <span>\
</span><span></span>	<span>SDK</span><span>=</span>iphoneos <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>PWD<span>)</span>/clangwrap.sh <span>\
</span><span></span>	<span>CGO_CFLAGS</span><span>=</span><span>"-fembed-bitcode"</span> <span>\
</span><span></span>	go build -buildmode<span>=</span>c-archive -tags ios -o <span>$(</span>IOS_OUT<span>)</span>/arm64.a ./cmd/libfoo

<span>ios-x86_64</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>darwin <span>\
</span><span></span>	<span>GOARCH</span><span>=</span>amd64 <span>\
</span><span></span>	<span>SDK</span><span>=</span>iphonesimulator <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>PWD<span>)</span>/clangwrap.sh <span>\
</span><span></span>	go build -buildmode<span>=</span>c-archive -tags ios -o <span>$(</span>IOS_OUT<span>)</span>/x86_64.a ./cmd/libfoo

<span>ios</span><span>:</span> ios-arm64 ios-x86_64
	lipo <span>$(</span>IOS_OUT<span>)</span>/x86_64.a <span>$(</span>IOS_OUT<span>)</span>/arm64.a -create -output <span>$(</span>IOS_OUT<span>)</span>/foo.a
	cp <span>$(</span>IOS_OUT<span>)</span>/arm64.h <span>$(</span>IOS_OUT<span>)</span>/foo.h
</code></pre></div><h2 id="create-our-ios-application">Create our iOS Application</h2>
<p>Using XCode we can create a simple single page application. I'm going to use Swift UI, but it is just as easy to do with
UIKit:</p>
<div><pre><code data-lang="swift"><span>//</span><span> </span><span>i</span><span>o</span><span>s</span><span>/</span><span>f</span><span>o</span><span>o</span><span>b</span><span>a</span><span>r</span><span>/</span><span>C</span><span>o</span><span>n</span><span>t</span><span>e</span><span>n</span><span>t</span><span>V</span><span>i</span><span>e</span><span>w</span><span>.</span><span>s</span><span>w</span><span>i</span><span>f</span><span>t</span>

<span>struct</span> <span>ContentView</span>: View {

    @State <span>private</span> <span>var</span> <span>txt</span>: <span>String</span> = <span>"</span><span>"</span>

    <span>var</span> <span>body</span>: some View {
        VStack{
            TextField(<span>"</span><span>"</span>, text: <span>$</span>txt)
            .textFieldStyle(RoundedBorderTextFieldStyle())
            Button(<span>"</span><span>Reverse</span><span>"</span>){
                <span>//</span><span> </span><span>R</span><span>e</span><span>v</span><span>e</span><span>r</span><span>s</span><span>e</span><span> </span><span>t</span><span>e</span><span>x</span><span>t</span><span> </span><span>h</span><span>e</span><span>r</span><span>e</span>
            }
            Spacer()
        }
        .padding(.all, <span>15</span>)
    }
}
</code></pre></div><p>In XCode we can drag-and-drop our newly generated <code>foo.a</code> and <code>foo.h</code> into our project. For our Swift code to
interop with our library we need to create a bridging header:</p>
<div><pre><code data-lang="c"><span>// ios/foobar/foobar-Bridging-Header.h
</span><span></span>
<span>#</span><span>import "foo.h"</span><span>
</span></code></pre></div><p>In Xcode <code>Build Settings</code>, under <code>Swift Compiler - General</code> set the <code>Objective-C Bridging Header</code> to the file we just
created: <code>foobar/foobar-Bridging-Header.h</code>.</p>
<p>We also need to set the <code>Library Search Paths</code> to include the directory of our generated header file <code>foo.h</code>.
(Xcode may have done this for you when you drag-and-drop the files into the project).</p>
<p>We can now call our function from Swift, then build and run:</p>
<div><pre><code data-lang="swift"><span>//</span><span> </span><span>i</span><span>o</span><span>s</span><span>/</span><span>f</span><span>o</span><span>o</span><span>b</span><span>a</span><span>r</span><span>/</span><span>C</span><span>o</span><span>n</span><span>t</span><span>e</span><span>n</span><span>t</span><span>V</span><span>i</span><span>e</span><span>w</span><span>.</span><span>s</span><span>w</span><span>i</span><span>f</span><span>t</span>

Button(<span>"</span><span>Reverse</span><span>"</span>){
    <span>let</span> <span>str</span> = reverse(<span>UnsafeMutablePointer</span>&lt;<span>Int8</span>&gt;(<span>mutating</span>: (<span>self</span>.txt <span>as</span> NSString).utf8String))
    <span>self</span>.txt = <span>String</span>.<span>init</span>(cString: str!, encoding: .utf8)<span>!</span>
    <span>//</span><span> </span><span>d</span><span>o</span><span>n</span><span>'</span><span>t</span><span> </span><span>f</span><span>o</span><span>r</span><span>g</span><span>e</span><span>t</span><span> </span><span>t</span><span>o</span><span> </span><span>r</span><span>e</span><span>l</span><span>e</span><span>a</span><span>s</span><span>e</span><span> </span><span>t</span><span>h</span><span>e</span><span> </span><span>m</span><span>e</span><span>m</span><span>o</span><span>r</span><span>y</span><span> </span><span>t</span><span>o</span><span> </span><span>t</span><span>h</span><span>e</span><span> </span><span>C</span><span> </span><span>S</span><span>t</span><span>r</span><span>i</span><span>n</span><span>g</span>
    str?.deallocate()
}
</code></pre></div><p><img src="https://rogchap.com/posts/img/libfoo_ios.gif" alt="libfoo ios app"></p>

<p>Using Android Studio, we will create a new Android project. From the Project Templates select <code>Native C++</code>, which will
create a project with an Empty Activity that is configured to use the Java Native Interface (JNI). We will still select
<code>Kotlin</code> as our language of choice for the project.</p>
<p>After creating a simple Activity with a <code>EditText</code> and a <code>Button</code> we create the basic functionality for our app:</p>
<div><pre><code data-lang="kotlin"><span>// android/app/src/main/java/com/rogchap/foobar/MainActivity.kt
</span><span></span>
<span>class</span> <span>MainActivity</span> : AppCompatActivity() {

    <span>override</span> <span>fun</span> <span>onCreate</span>(savedInstanceState: Bundle?) {
        <span>super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        btn.setOnClickListener {
            txt.setText(reverse(txt.text.toString()))
        }
    }

    <span>/**
</span><span>     * A native method that is implemented by the 'native-lib' native library,
</span><span>     * which is packaged with this application.
</span><span>     */</span>
    <span>private</span> <span>external</span> <span>fun</span> <span>reverse</span>(str: String): String

    <span>companion</span> <span>object</span> {
        <span>// Used to load the 'native-lib' library on application startup.
</span><span></span>        init {
            System.loadLibrary(<span>"native-lib"</span>)
        }
    }
}
</code></pre></div><p>We created (and called) an external function <code>reverse</code> that we need to implement in the JNI (C++):</p>
<div><pre><code data-lang="cpp"><span>// android/app/src/main/cpp/native-lib.cpp
</span><span></span>
<span>extern</span> <span></span><span>"</span><span>C</span><span>"</span> {
    jstring
    <span>Java_com_rogchap_foobar_MainActivity_reverse</span>(JNIEnv<span>*</span> env, jobject, jstring str) {
        <span>// Reverse text here 
</span><span></span>        <span>return</span> str;
    }
}
</code></pre></div><p>The JNI code has to follow the conventions to interop correctly between the Native C++ and Kotlin (JVM).</p>
<h2 id="build-for-android">Build for Android</h2>
<p>The way the JNI works with external libraries has changed over the many releases of Android and the NDK. The current
(and easiest) is to place our outputted library into a special <code>jniLibs</code> folder that is copied into our final APK file.</p>
<p>Rather than creating a Fat binary (as we did for iOS) we are going to place each architecture in the correct folder.
Again, for the JNI, conventions matter.</p>
<div><pre><code data-lang="make"><span>/</span><span>/</span> <span>g</span><span>o</span><span>/</span><span>M</span><span>a</span><span>k</span><span>e</span><span>f</span><span>i</span><span>l</span><span>e</span>

<span>ANDROID_OUT</span><span>=</span>../android/app/src/main/jniLibs
<span>ANDROID_SDK</span><span>=</span><span>$(</span>HOME<span>)</span>/Library/Android/sdk
<span>NDK_BIN</span><span>=</span><span>$(</span>ANDROID_SDK<span>)</span>/ndk/21.0.6113669/toolchains/llvm/prebuilt/darwin-x86_64/bin

<span>android-armv7a</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>android <span>\
</span><span></span>	<span>GOARCH</span><span>=</span>arm <span>\
</span><span></span>	<span>GOARM</span><span>=</span><span>7</span> <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>NDK_BIN<span>)</span>/armv7a-linux-androideabi21-clang <span>\
</span><span></span>	go build -buildmode<span>=</span>c-shared -o <span>$(</span>ANDROID_OUT<span>)</span>/armeabi-v7a/libfoo.so ./cmd/libfoo

<span>android-arm64</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>android <span>\
</span><span></span>	<span>GOARCH</span><span>=</span>arm64 <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>NDK_BIN<span>)</span>/aarch64-linux-android21-clang <span>\
</span><span></span>	go build -buildmode<span>=</span>c-shared -o <span>$(</span>ANDROID_OUT<span>)</span>/arm64-v8a/libfoo.so ./cmd/libfoo

<span>android-x86</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>android <span>\
</span><span></span>	<span>GOARCH</span><span>=</span><span>386</span> <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>NDK_BIN<span>)</span>/i686-linux-android21-clang <span>\
</span><span></span>	go build -buildmode<span>=</span>c-shared -o <span>$(</span>ANDROID_OUT<span>)</span>/x86/libfoo.so ./cmd/libfoo

<span>android-x86_64</span><span>:</span>
	<span>CGO_ENABLED</span><span>=</span><span>1</span> <span>\
</span><span></span>	<span>GOOS</span><span>=</span>android <span>\
</span><span></span>	<span>GOARCH</span><span>=</span>amd64 <span>\
</span><span></span>	<span>CC</span><span>=</span><span>$(</span>NDK_BIN<span>)</span>/x86_64-linux-android21-clang <span>\
</span><span></span>	go build -buildmode<span>=</span>c-shared -o <span>$(</span>ANDROID_OUT<span>)</span>/x86_64/libfoo.so ./cmd/libfoo

<span>android</span><span>:</span> android-armv7a android-arm64 android-x86 android-x86_64
</code></pre></div><p><strong>Note</strong> Make sure you set the correct location for your Android SDK and the version of the NDK you have downloaded.</p>
<p>Running <code>make android</code> will now build all the shared libraries we need into the correct folder. We now need to add our
library to CMake:</p>
<div><pre><code data-lang="cmake"><span>/</span><span>/</span> <span>a</span><span>n</span><span>d</span><span>r</span><span>o</span><span>i</span><span>d</span><span>/</span><span>a</span><span>p</span><span>p</span><span>/</span><span>s</span><span>r</span><span>c</span><span>/</span><span>m</span><span>a</span><span>i</span><span>n</span><span>/</span><span>c</span><span>p</span><span>p</span><span>/</span><span>C</span><span>M</span><span>a</span><span>k</span><span>e</span><span>L</span><span>i</span><span>s</span><span>t</span><span>s</span><span>.</span><span>t</span><span>x</span><span>t</span><span>
</span><span></span><span>
</span><span></span><span>/</span><span>/</span> <span>.</span><span>.</span><span>.</span><span>
</span><span></span><span>
</span><span></span><span>add_library</span>(<span>lib_foo</span> <span>SHARED</span> <span>IMPORTED</span>)<span>
</span><span></span><span>set_property</span>(<span>TARGET</span> <span>lib_foo</span> <span>PROPERTY</span> <span>IMPORTED_NO_SONAME</span> <span>1</span>)<span>
</span><span></span><span>set_target_properties</span>(<span>lib_foo</span> <span>PROPERTIES</span> <span>IMPORTED_LOCATION</span> <span>${</span><span>CMAKE_CURRENT_SOURCE_DIR</span><span>}</span><span>/../jniLibs/</span><span>${</span><span>CMAKE_ANDROID_ARCH_ABI</span><span>}</span><span>/libfoo.so</span>)<span>
</span><span></span><span>include_directories</span>(<span>${</span><span>CMAKE_CURRENT_SOURCE_DIR</span><span>}</span><span>/../jniLibs/</span><span>${</span><span>CMAKE_ANDROID_ARCH_ABI</span><span>}</span><span>/</span>)<span>
</span><span></span><span>
</span><span></span><span>/</span><span>/</span> <span>.</span><span>.</span><span>.</span><span>
</span><span></span><span>
</span><span></span><span>target_link_libraries</span>(<span>native-lib</span> <span>lib_foo</span> <span>${</span><span>log-lib</span><span>}</span>)<span>
</span></code></pre></div><p>It took me a while to figure out these settings, once again, naming matters so was important to name the library with
<code>lib_xxxx</code> and also set the property <code>IMPORTED_NO_SONAME 1</code> otherwise your apk will be looking for your library in the
wrong place.</p>
<p>We can now hookup our JNI code to our Go library, cross our fingers, and run our app:</p>
<div><pre><code data-lang="cpp"><span>// android/app/src/main/cpp/native-lib.cpp
</span><span></span>
<span>#</span><span>include</span> <span>"libfoo.h"</span><span>
</span><span></span>
<span>extern</span> <span></span><span>"</span><span>C</span><span>"</span> {
    jstring
    <span>Java_com_rogchap_foobar_MainActivity_reverse</span>(JNIEnv<span>*</span> env, jobject, jstring str) {
        <span>const</span> <span>char</span><span>*</span> cstr <span>=</span> env<span>-</span><span>&gt;</span>GetStringUTFChars(str, <span>0</span>);
        <span>char</span><span>*</span> cout <span>=</span> reverse(<span>const_cast</span><span>&lt;</span><span>char</span><span>*</span><span>&gt;</span>(cstr));
        jstring out <span>=</span> env<span>-</span><span>&gt;</span>NewStringUTF(cout);
        env<span>-</span><span>&gt;</span>ReleaseStringUTFChars(str, cstr);
        free(cout);
        <span>return</span> out;
    }
}
</code></pre></div><p><img src="https://rogchap.com/posts/img/libfoo_android.gif" alt="libfoo android app"></p>
<h2 id="conclusion">Conclusion</h2>
<p>One of Go's strengths is that it's cross-platform; but that doesn't just mean Window, Mac and Linux, Go can target many
other architectures including iOS and Android. Now you have another option in your toolbelt to create shared ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rogchap.com/2020/09/14/running-go-code-on-ios-and-android/">https://rogchap.com/2020/09/14/running-go-code-on-ios-and-android/</a></em></p>]]>
            </description>
            <link>https://rogchap.com/2020/09/14/running-go-code-on-ios-and-android/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525336</guid>
            <pubDate>Sat, 19 Sep 2020 05:19:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Review of Pinephone PostmarketOS CE]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24525210">thread link</a>) | @vidak
<br/>
September 18, 2020 | https://proxy.vulpes.one/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini | <a href="https://web.archive.org/web/*/https://proxy.vulpes.one/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div><p>The version of the Pinephone that I am reviewing is the postmarketOS</p><p>Community Edition (CE).</p><p>My first impression of the Pinephone after I unboxed the device was</p><p>very good. I enjoyed the feeling of the weight of the Pinephone in my</p><p>hand, and the overall build quality of the system still impresses</p><p>me. It is my opinion that the PINE64 hardware development and</p><p>manufacturing process is very solid. For what I paid, which was about</p><p>AUD$200 all up, I believe I have received hardware that is superior</p><p>than a phone that I could have bought from a retail store in my city</p><p>for the same price.</p><p>The screen is glossy, and the capacitive touch screen (this is a</p><p>question fellow smolnet citizen Shufei wanted answered in some detail)</p><p>responds well.</p><p>I was, however, disappointed with the stock postmarketOS software that</p><p>came flashed on the eMMC. The Software Centre was a particular</p><p>disappointment. It, by default, only showed the currently installed</p><p>software, and it was not possible to browse any other software which</p><p>was not already installed.</p><p>Also, the camera application that came installed by default, 'Cheese',</p><p>did not allow the camera to function.</p><p>I attempted to install Plasma Mobile using the command line, following</p><p>these instructions:</p><p>But it ended up completely wrecking the function of the</p><p>phone. Installing the package that the wiki article recommended did</p><p>not update LightDM, and I ended up soft-bricking the phone while</p><p>fiddling with the LightDM configuration in order to stop the phone</p><p>from (still) booting into phosh, and not Plasma Mobile.</p><p>It also disabled cell data functionality, and ended up messing with a</p><p>lot of the guts of the Linux installation. So I do not recommend</p><p>attempting to switch to Plasma Mobile on the Pinephone from inside an</p><p>already-existing postmarketOS installation. I recommend getting a</p><p>Plasma Mobile system image, and flashing that from the start if you</p><p>wish to experiment with different user interfaces.</p><div><p><span> ##</span></p><h2>Linux Software Distributions</h2></div><p>There is a great many Linux distributions available for the</p><p>Pinephone. The following link to the PINE64 wiki contains a</p><p>more-or-less exhaustive list of each of them:</p><p>The Linux distributions that I tested out are:</p><div><p><span>###</span></p><h3>postmarketOS (phosh UI)</h3></div><p>I enjoyed this system image because it came with a wizard for</p><p>NetworkManager which enabled me to make sure cell data worked most</p><p>consistently. However, the power consumption of this image was</p><p>prohibitively high, and it caused the phone to run very hot. When the</p><p>battery was at 10% charge, rebooting the phone would cause the last of</p><p>this precious charge to be used up, and the phone would run completely</p><p>out of power.</p><p>This image was basically a desktop UI, and did not have many, if any</p><p>mobile UI configurations present. It was rather fun to see the</p><p>Pinephone boot into a full GNOME desktop environment. I imagine if you</p><p>had a bigger screen connected to the Pinephone, you would be quite</p><p>impressed with what this phone could pull off.</p><div><p><span>###</span></p><h3>postmarketOS (Plasma Mobile)</h3></div><p>Slow and buggy, really.</p><p>This distribution has a major problem at the moment: the unlock/power</p><p>button is not properly debounced, and it makes it virtually impossible</p><p>sometimes to unlock the phone. Otherwise, this distribution is very,</p><p>very impressive, and I would actually like to switch to it, because</p><p>cell data works best for Optus on Ubuntu Touch.</p><p>This distribution could indeed be a daily driver for someone if they</p><p>could sort out the button debouncing problem.</p><p>This is a Linux-based operating system that uses a closed-source</p><p>UI. It was so glossy and locked-down in terms of configurability that</p><p>I was turned off using it. It has a great tutorial for teaching you</p><p>the gestures you need to learn in order to use the touch screen.</p><p>I did like the fact that it organised all your contacts and messages</p><p>into interesting metaphors, and it ran reasonably quickly, but there</p><p>is no way of configuring the UI beyond what how it arrives to you.</p><p>This image was fairly slow to run on the Pinephone, but in my opinion</p><p>it is the absolute best demonstration of KDE Plasma Mobile. It was</p><p>very visually impressive, and the menus were full-featured and</p><p>informative. It did not, however, support phone calls or SMS.</p><p>This is my current choice of Linux distribution for the phone. It has</p><p>a software centre full of different and interesting programs,</p><p>including Transmission (torrent client) and GIMP (!!! I have yet to</p><p>install this to see how or if it works well, but the fact that it is</p><p>possible to at least _run_ GIMP in some capacity on the Pinephone</p><p>would like like running Adobe Photoshop on a Samsung Galaxy).</p><p>This is merely anecdotal, and I have not performed any scientific</p><p>tests to work out if this is true, but the latest September 2020</p><p>stable release of this image seems to have the best power settings of</p><p>any of the other distributions for this phone.</p><p>I hesitate to give an estimate of exactly how long this phone will</p><p>last on a single charge, given normal use. But, I finished charging</p><p>this phone at 0700HRS this morning, and, with no other charge, it is now</p><p>on 50% charge, and the current time is 1230HRS. I think I have put the</p><p>phone through a little heavier use than I do normally, this morning,</p><p>however.</p><p>Virtually all of the functions of the phone are enabled without any</p><p>configuration in Mobian.</p><p>I highly recommend flashing the following system image to an SD card</p><p>so you can try out all the major Linux distributions for your phone:</p><p>It contains 13 different distributions, and it is trivial to switch</p><p>between each of them through the main boot menu.</p><p>I have rung a few people on the phone, and, assuming you have a</p><p>distribution flashed on the phone that supports phonecalls (like the</p><p>one I am currently using, Mobian), there should be absolutely no issue</p><p>using this fundamental feature of the Pinephone.</p><p>For the most part, the cell data modem in the Pinephone works well for</p><p>me. There is a fairly large problem with my use of the Pinephone with</p><p>its cell data, however.</p><p>I live in Australia, and the mobile phone carrier that I use is</p><p>Optus. The setup(s) that work for me with my Pinephone, running</p><p>Mobian, is:</p><p>&gt; Name: 1</p><p>&gt; APN: yesinternet</p><p>&gt; Name: Optus Yes Internet</p><p>&gt; APN: yesinternet</p><p>After about 3 or 4 hours after I boot up the phone, the cell data</p><p>stops working, and the Network Mode in the 'Mobile' submenu of</p><p>Settings changes from</p><p>&gt; 2G, 3G, 4G (Preferred)</p><p>to just</p><p>&gt; 2G, 3G, 4G</p><p>This issue is fixed for another 3 or 4 hours by rebooting the phone,</p><p>which does not actually take that long (about 10 to 15 seconds), but</p><p>it is a hassle to be cut off from mobile data if you forget about your</p><p>phone.</p><p>These two links help shed light on exactly what is happening with the</p><p>Pinephone when it tries to remain connected to the Optus network:</p><p>(A forum post. Someone using a similar, if not identical mobile data</p><p>modem as the Pinephone in Australia, with the Optus network)</p><p>(A Github post which familiarises the reader with the concepts and</p><p>command line tools involved in using Linux with 4G LTE modems on</p><p>Debian and Ubuntu)</p><p>The issue with the Pinephone is explained the forum thread (the first</p><p>link). The issue is that there are at least two modes for the Quectel</p><p>EG25 modem that the Pinephone uses, only one of which seems to be</p><p>supported by Optus. The two modes are QMI and MBIM. Optus, I assume,</p><p>only supoprts MBIM:</p><p>https://forum.gl-inet.com/t/using-rooter-on-the-gl-x750/8983/8 Forum post</p><p>The relevant sentence from the above forum post is:</p><p>&gt; Also, MBIM is buggy for Quectel modems even in OpenWRT 19.07</p><p>&gt; (snapshot), mostly sometimes modem ‚Äúfreezes‚Äù and I need to restart.</p><p>The issue that the original poster was having with this modem is</p><p>explained in the same post:</p><p>&gt; The reason is exactly this: user.notice Create Connection:</p><p>&gt; WDA-GET-DATA-FORMAT is ‚Äúraw-ip‚Äù </p><p>&gt; When you use a modem over QMI and the data-format is ‚Äúraw-ip‚Äù the</p><p>&gt; system needs to know that modem is on ‚Äúraw-ip‚Äù, without that,</p><p>&gt; interface doesn‚Äôt get an IP address.</p><p>When I was using the postmarketOS version of phosh, the NetworkManager</p><p>program started a wizard which contained a lot more options about how</p><p>to configure the Pinephone's Quectel LTE modem. One activity I would</p><p>like to carry out is learning how to start this wizard from within</p><p>Mobian. I wish to keep Mobian as the primary operating system for the</p><p>Pinephone just because its Software Centre has such an amazing</p><p>quantity and quality of different programs, and the postmarketOS</p><p>Centre requires you to manually search for the programs you want, in</p><p>order for them to show up at all inside the Centre.</p><p>The GPS seems to function perfectly fine inside the default Mobian</p><p>maps program. It can show you, with reasonable accuracy (although not</p><p>to the same accuracy as, say, a proprietary maps application) exactly</p><p>where you are. I think the accuracy of the GPS on the Pinephone is</p><p>somewhere in the region of 10 square metres.</p><p>The main issue with the GPS, however, is that it does not currently</p><p>link in with the Perth public transport system. I cannot use this</p><p>program to plan public transport journeys. But I believe I should be</p><p>able to take care of this problem by either (a) adding data to</p><p>OpenStreetMap, or (b) using a web browser, where I should be able to</p><p>access the Transperth public transport trip planner webpage.</p><p>This is a feature that works without a hitch in Mobian. I was</p><p>surprised to see myself receiving SMS messages unexpectedly from</p><p>friends as I left the phone in my pocket and forgot about it.</p><p>The camera application in Mobian works. However it has a refresh rate</p><p>of around 1 FPS. The quality is passable. This is not an issue for me</p><p>because, philosophically, phone cameras should not replace the</p><p>function of proper dedicated photographic devices. Will this camera</p><p>take reasonable photos? Yes. What is the comparison of the quality of</p><p>the photos? I would venture a guess that it is about as good as a</p><p>cheap action camera, like a GoPro knock-off.</p><div><p><span> ##</span></p><h2>Flashing Different Operating Systems</h2></div><p>Compared to the arduous process that one has to go through in order to</p><p>change operating systems on an Android phone, the Pinephone is very</p><p>easy to flash. You can flash data onto both an SD card, or the phone's</p><p>internal eMMC.</p><p>For flashing an SD card, the process is as ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://proxy.vulpes.one/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini">https://proxy.vulpes.one/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini</a></em></p>]]>
            </description>
            <link>https://proxy.vulpes.one/gemini/tanelorn.city/~vidak/pinephone/pinephone-review.gemini</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525210</guid>
            <pubDate>Sat, 19 Sep 2020 04:56:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Deep Dive into K-pop]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24525108">thread link</a>) | @eswat
<br/>
September 18, 2020 | https://dormin.org/2020/09/06/a-deep-dive-into-k-pop/ | <a href="https://web.archive.org/web/*/https://dormin.org/2020/09/06/a-deep-dive-into-k-pop/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-719">

	
	<!-- .entry-header -->


			<div>

			<p><img src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/8dedad4c-ee57-46fd-91a2-32cbb9a652d1/d97l7vh-b56d2b05-419a-4aa2-90c9-1f7a87db1968.jpg/v1/fill/w_1024,h_725,q_75,strp/my_first_kpop_collage_by_rainbowcandleofjoy_d97l7vh-fullview.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9NzI1IiwicGF0aCI6IlwvZlwvOGRlZGFkNGMtZWU1Ny00NmZkLTkxYTItMzJjYmI5YTY1MmQxXC9kOTdsN3ZoLWI1NmQyYjA1LTQxOWEtNGFhMi05MGM5LTFmN2E4N2RiMTk2OC5qcGciLCJ3aWR0aCI6Ijw9MTAyNCJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.Py2kzajyzSvCd5CFWXNFSOW5m_rgR6UJMXllQj3dy18" alt="KPOP Collections: Kpop Groups Collage"></p>
<p>Prior to last month, I knew next to nothing about K-pop (Korean popular music) besides having heard a few songs in passing and the rumors of the industry‚Äôs infamous elements, most notably a string of high profile suicides over the last few years. As an American with no connection to music or South Korean culture, I wondered if I was getting an accurate picture of the industry or if I was being misled by the most lurid and morbid elements eagerly conveyed by the media.</p>
<p>So I decided to do a deep dive down the internet rabbit hole of K-pop to understand what it is, how it works, and what I think about it. For anything that‚Äôs not my personal opinion or that goes beyond basic historical knowledge, I‚Äôll cite my sources, which are a mixture of news articles, academic articles, YouTube videos, and some content aggregators like Wikipedia and Statista. I welcome any corrections or criticisms on inaccurate sources or things I didn‚Äôt understand.</p>
<p>I‚Äôll warn you upfront ‚Äì this essay is over 30,000 words long. It is the largest post I have made on dormin.org besides my novel. Since I sympathize with anyone who doesn‚Äôt want to make such a large time investment into a subject of passing curiosity, I will present my key findings here divided between the five <strong>parts</strong> of the essay. If you‚Äôre not sure if you want to read everything, you can jump to any individual part and understand it without reading the other sections.</p>

<h3><a href="#Basics"><strong><u>Part 1</u> ‚Äì <u>The Basics</u></strong></a></h3>
<ul>
<li>‚ÄúK-pop‚Äù is both a genre of music and an entire industry which ‚Äúmanufacturers‚Äù performers and their performance output (music, dance routines, shows, merchandise, etc.) in a highly systematized top-down manner</li>
<li>The global popularity of K-pop is extraordinary considering the relatively small population of South Korea, and the relatively small size of K-pop production companies</li>
</ul>
<h3><a href="#Product"><strong><u>Part 2</u> ‚Äì <u>The Product</u></strong></a></h3>
<ul>
<li>K-pop‚Äôs industrial/corporate structure represents a Korean (and East-Asian) cultural alternative to Western pop and broader music production</li>
<li>K-pop stars and bands are manufactured and controlled by production companies in the same manner Western athletes are trained and traded by sports teams.</li>
<li>K-pop stars are crafted into idealized portrays of individuals by East Asian cultural standards</li>
</ul>
<h3><a href="#Fans"><strong><u>Part 3</u> ‚Äì <u>The Fans</u></strong></a></h3>
<ul>
<li>K-pop fandom is both more intense on average than Western fandom, and has a larger percentage of unhealthily obsessive fans</li>
<li>K-pop fandom is based on a parasocial relationship between fans and stars</li>
<li>K-pop stars are forced to abide by extremely restrictive behavioral norms to appease production companies and fans</li>
</ul>
<h3><a href="#Process"><strong><u>Part 4</u>‚Äì <u>The Process</u></strong></a></h3>
<ul>
<li>Trying to become a K-pop star is a terrible idea by any rational cost-benefit analysis</li>
<li>The process by which production companies train K-pop stars is abusive and depends on the ignorance of children/teenagers and clueless and/or malicious parents</li>
<li>Even after making it through the extraordinarily difficult audition and training process, the vast majority of K-pop stars will have short careers and earn little or possibly <em>no</em> money</li>
</ul>
<h3><a href="#Machine"><strong><u>Part 5</u> ‚Äì <u>The Machine</u></strong></a></h3>
<ul>
<li>K-pop is an extremely centralized, hierarchical industry, where structural, business, and creative decisions are almost entirely made by corporate management, rather than the performers</li>
<li>Raw creativity in the music production process is largely outsourced to Westerners who write, produce, and choreograph the music</li>
<li>The K-pop industry is subsidized and supported by the South Korean government, if not implicitly or explicitly directed, as a conscious form of soft power projection and social control.</li>
</ul>
<p>As you can tell, I came away from my research with a negative view of K-pop. I don‚Äôt think it‚Äôs the worst thing in the world, but I find its fandom to be unhealthy and its production process to be exploitative. That being said, there are undoubtedly many tremendous talents in the K-pop world and the cultural power of K-pop is remarkable. I‚Äôll give my summarized thoughts on K-pop as a whole at the conclusion of the essay.<br>
<a name="Basics"></a></p>
<hr>
<p><img src="https://www.rollingstone.com/wp-content/uploads/2018/08/BTS-kpop-takeover-the-world.jpg" alt="How K-Pop Conquered the West - Rolling Stone"></p>
<h2><strong><u>Part 1</u> ‚Äì <u>The Basics</u></strong></h2>
<h3><strong>What is K-pop?</strong></h3>
<p>‚ÄúK-pop‚Äù refers to a genre of music and the industry which creates it. Both are based out of South Korea and particularly Seoul.</p>
<h3><strong>What is K-pop music?</strong></h3>
<p>K-pop is an offshoot of 90s Western pop with heavy influences from synthetics and hip hop. Lyrics are mostly Korean, but with English words and sometimes other languages thrown in. K-pop is usually sung by mono-gendered bands with members aged from their mid-teens to late 20s. Such bands typically resemble the structure and appearance of American boy bands from the 90s and 2000s (ie. NSYNC). As a representative K-pop sample, check out ‚ÄúDNA‚Äù by BTS:</p>
<p><span><iframe width="760" height="428" src="https://www.youtube.com/embed/MBdVXkSdhwU?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span></p>
<p>Properly understood, ‚ÄúK-pop music‚Äù is inseparable from ‚ÄúK-pop performance.‚Äù The music itself is one component of a larger presentation which includes dance choreography, music videos, fashion, and the personas of bands and individual band members. Though these elements are also present in Western music, they are far more important to K-pop music. K-pop fandom is considered the appreciation of all these aspects as an integrated whole.</p>
<h3><strong>What are the Origins of K-pop?</strong></h3>
<p>The Western influence on Korean music began in the 1940s with the American occupation of much of the Korean peninsula after its liberation from Imperial Japan. With the outbreak of the Korean War in the early 1950s, further American presence was added, with over 300,000 US troops at the peak.<a href="#_edn1" name="_ednref1">[1]</a> After the war, the American military stayed at dozens<a href="#_edn2" name="_ednref2">[2]</a> of bases throughout South Korea as a permanent fixture of the country. Over the decades, these soldiers imported American culture and media, including American music. Presently, there are still 20,000 US soldiers in South Korea.<a href="#_edn3" name="_ednref3">[3]</a></p>
<p>The early Western musical influence in South Korea was based on folk and hippie music in the 60s and 70s, and then evolved into sappy ballads in the 80s. These genres merged with traditional Korean music to form a small, localized music industry. Creative expansion was restrained by the South Korean government‚Äôs censorship and restrictions on movement in and out of the country. In the 1970s, the government banned American rock music and Korean offshoots for their connotations with drug use.<a href="#_edn4" name="_ednref4">[4]</a> Until 1983, South Korean citizens were banned from traveling abroad for tourism, and the last restrictions weren‚Äôt lifted until 1988 (year of the Seoul Summer Olympics).<a href="#_edn5" name="_ednref5">[5]</a></p>
<p>Korean music had a revolution in the early 1990s with the three-member band, Seo Taiji and the Boys. Founded in 1992, the Boys debuted on a South Korean television talent show and received the lowest ratings of the night.<a href="#_edn6" name="_ednref6">[6]</a> Unexpectedly, their premiere song was a huge hit and launched the band to fame. The Boys soon became the first successful Korean rap group and redefined the Korean music industry. Leader Seo Taiji was a rare experimenter in a country still emerging from isolation and relative cultural stagnancy. Prior to forming the Boys, he had been part of an indie heavy metal band.<a href="#_edn7" name="_ednref7">[7]</a></p>
<p>Through their music, style, and appearance, Seo Taiji and the Boys inadvertently became the first K-Pop band. While their music was more hip hop-based, the Boys pioneered the mixture of Western pop and hip hop presented with intense, highly-choreographed dance routines within a refined aesthetic theme.<a href="#_edn8" name="_ednref8">[8]</a> For a sample, see here:</p>
<p><span><iframe width="760" height="428" src="https://www.youtube.com/embed/IRFfPZQeJuo?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span></p>
<p>Seo Taiji and the Boys disbanded in 1996. But by the end of its short career, mimicking boy bands had sprung up throughout South Korea. These bands were picked up by a new wave of music production companies which would become the basis of the K-pop industry. They looked to Japan and its well established ‚ÄúJ-pop‚Äù industry as a template for the sustained production of popular musical talent. Thus, while the Boys were independent, experimental, and subversive, the bands created in their wake were more institutionalized, sanitized, and formed by top-down design.</p>
<h3><strong>How Big is K-pop?</strong></h3>
<p>In 2017, the entire K-pop industry produced $5 billion in revenue.<a href="#_edn9" name="_ednref9">[9]</a> For the closest American comparison I can find ‚Äì in 2019, American <em>record labels</em> earned $8.7 billion in revenue.<a href="#_edn10" name="_ednref10">[10]</a> Unfortunately, I can‚Äôt find numbers for total music industry revenue in the US, so this isn‚Äôt quite a fair comparison. The two might be difficult to compare due to diverging industry structures;&nbsp; for instance, in South Korea, $1.2 billion of its 2017 revenues came from karaoke sales, only $250 million less than its digital music sales<a href="#_edn11" name="_ednref11">[11]</a></p>
<p>Nevertheless, considering that South Korea has less than 1/6<sup>th</sup> the US population and 1/14<sup>th</sup> the GDP, that‚Äôs pretty damn impressive.</p>
<p>Also of note, in 2019, South Korea was the 6<sup>th</sup> largest music market in the world, ahead of China and behind France.<a href="#_edn12" name="_ednref12">[12]</a> In 2017, South Korea exported $513 million worth of music and imported only $14 million worth, which is an extremely strong indicator of the country‚Äôs preference for K-pop over Western pop.<a href="#_edn13" name="_ednref13">[13]</a></p>
<p>BTS (AKA Bangtan Boys) is the most popular K-pop band in the world today and ever. According to the 2019 IFPI Global Music Report, BTS was the 7<sup>th</sup> most listened to artist in the world, and had the 3<sup>rd</sup> most popular album globally. Despite Spotify not streaming in South Korea, BTS was its second most popular artist in 2019.<a href="#_edn14" name="_ednref14">[14]</a></p>
<p>Perhaps more relevantly, a 2017 Hyundai Research Institute report claimed that BTS alone was worth $3.6 billion to the South Korean economy annually when accounting for adjacent economic activity and tourism. Supposedly 1/13th of all tourists to South Korea in 2017 came because of BTS.<a href="#_edn15" name="_ednref15">[15]</a> A 2019 report from Hollywood Reporter brought the figure up $4.65 billion.<a href="#_edn16" name="_ednref16">[16]</a></p>
<h3><strong>How Big is K-pop in America?</strong></h3>
<p>I can‚Äôt find firm figures, but the general consensus is that K-pop has been blowing up in the US since at least 2017, with articles about the genre‚Äôs American explosion popping up in the <em>New York Times</em>,<a href="#_edn17" name="_ednref17">[17]</a> <em>NPR</em>,<a href="#_edn18" name="_ednref18">[18]</a> the <em>Guardian</em>,<a href="#_edn19" name="_ednref19"><em><strong>[19]</strong></em></a> etc. From 2015 to 2019, demand for K-pop concert tickets increased 1,900% in the US.<a href="#_edn20" name="_ednref20">[20]</a> This growth seems to be largely thanks to BTS, which is about 5X more popular than Blackpink, the second most popular ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dormin.org/2020/09/06/a-deep-dive-into-k-pop/">https://dormin.org/2020/09/06/a-deep-dive-into-k-pop/</a></em></p>]]>
            </description>
            <link>https://dormin.org/2020/09/06/a-deep-dive-into-k-pop/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24525108</guid>
            <pubDate>Sat, 19 Sep 2020 04:36:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[U.S. bans WeChat, TikTok, citing national security reasons]]>
            </title>
            <description>
<![CDATA[
Score 171 | Comments 183 (<a href="https://news.ycombinator.com/item?id=24524662">thread link</a>) | @empressplay
<br/>
September 18, 2020 | https://www.cbc.ca/news/world/u-s-bans-wechat-tiktok-1.5729249 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/world/u-s-bans-wechat-tiktok-1.5729249">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The U.S. Commerce Department has issued an order that will bar people in the United States from downloading Chinese-owned messaging app WeChat and video-sharing app TikTok, starting Sunday.</p><div><figure><div><p><img alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5729631.1600444028!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/1263681818.jpg"></p></div><figcaption>U.S. business transactions with the Chinese-owned social apps WeChat and TikTok are to be banned, starting Sunday.<!-- --> <!-- -->(Cindy Ord/Getty Images)</figcaption></figure><p><span><p>The U.S. Commerce Department has issued an order that will bar people in the United States from downloading Chinese-owned messaging app WeChat and video-sharing app TikTok, starting Sunday.</p>  <p>Commerce officials said the ban on new U.S. downloads of TikTok could be still rescinded by President Donald Trump before it takes effect late Sunday as TikTok owner ByteDance races to clinch an agreement over the fate of its U.S. operations.</p>  <p>ByteDance has been in talks with Oracle Corp and others to create a new company, TikTok Global, which&nbsp;aims to address U.S. concerns about the security of its users' data. ByteDance still needs Trump's approval to stave off a U.S. ban.</p>  <p>Commerce officials said they will not bar additional technical transactions for TikTok until Nov. 12, which gives the company additional time to see if ByteDance can reach a deal for its U.S. operations. "The basic TikTok will stay intact until Nov. 12," Commerce Secretary Wilbur Ross told Fox Business Network.</p>  <p>The department said the actions will "protect users in the U.S. by eliminating access to these applications and significantly reducing their functionality."</p>  <p>U.S. Commerce Department officials said they were taking the extraordinary step because of the risks the apps' data collection poses. China and the companies have denied U.S. user data is collected for spying.</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/1205295609.jpg 300w,https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/1205295609.jpg 460w,https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/1205295609.jpg 620w,https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1205295609.jpg 780w,https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/1205295609.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5729318.1600434343!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1205295609.jpg"></p></div><figcaption>U.S. Secretary of Commerce Wilbur Ross said the ban on Tik Tok and WeChat will combat China's 'malicious collection of American citizens' personal data.'<!-- --> <!-- -->(Saul Loeb/AFP/Getty Images)</figcaption></figure></span></p>  <p>Ross said in a written statement "we have taken significant action to combat China's malicious collection of American citizens' personal data, while promoting our national values, democratic rules-based norms, and aggressive enforcement of U.S. laws and regulations."</p>  <p>"We disagree with the decision from the Commerce Department, and are disappointed that it stands to block new app downloads from Sunday and ban use of the TikTok app in the U.S. from Nov. 12," the company said in a statement. "We will continue to challenge the unjust executive order, which was enacted without due process and threatens to deprive the American people and small businesses across the U.S. of a significant platform for both a voice and livelihoods."</p>  <p>The Commerce Department order will "de-platform" the two apps in the U.S. and bar Apple Inc's app store, Alphabet Inc's Google Play and others from offering the apps on any platform "that can be reached from within the United States," a senior Commerce official told Reuters.</p>  <p>The order will not ban U.S. companies from doing business&nbsp;on WeChat outside the United States, which will be welcome news to U.S. firms like Walmart and Starbucks that use WeChat's embedded "mini-app"&nbsp;programs to facilitate transactions and engage consumers in China, officials said.</p>    <p>The order will not bar transactions with WeChat-owner Tencent Holdings' other businesses, including its online gaming operations, and will not prohibit Apple, Google or others from offering TikTok or WeChat apps anywhere outside the United States.</p>  <p>The bans are in response to a pair of executive orders issued by Trump on Aug.&nbsp;6 that gave the Commerce Department 45 days to determine what transactions to block from the apps he deemed pose a national security threat. That deadline expires on Sunday.</p>  <h2>'Untrusted'&nbsp;Chinese apps</h2>  <p>The Trump administration has ramped up efforts to purge "untrusted" Chinese apps from U.S. digital networks and has called TikTok and WeChat&nbsp;"significant threats."</p>  <p>TikTok has 100 million users in the United States and is especially popular among younger Americans.</p>  <p>WeChat has had an average of 19 million daily active users in the United States, analytics firm&nbsp;Apptopia said in early August. It is popular among Chinese students, ex-pats and some Americans who have personal or business relationships in China.</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/1228542119.jpg 300w,https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/1228542119.jpg 460w,https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/1228542119.jpg 620w,https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1228542119.jpg 780w,https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/1228542119.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5729307.1600433977!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1228542119.jpg"></p></div><figcaption>People walk past the headquarters of ByteDance, the parent company of TikTok, in Beijing.<!-- --> <!-- -->(Greg Baker/AFP/Getty Images)</figcaption></figure></span></p>  <p>WeChat is an all-in-one mobile app that combines services similar to Facebook, WhatsApp, Instagram and Venmo. The app is an essential part of daily life for many in China and boasts more than 1 billion users.</p>  <p>The Commerce Department will not seek to compel people in the United States to remove the apps or stop using them but will not allow updates or new downloads. "We are aiming at a top corporate level. We're not going to go out after the individual users," one Commerce official said.</p>  <p>Over time, officials said, the lack of updates will degrade the apps' usability.</p>  <p>"The expectation is that people will find alternative ways to do these actions," a senior official said. "We expect the market to act and there will be more secure apps that will fill in these gaps that Americans can trust and that the United States government won't have to take similar actions against."</p>    <p>The Commerce Department is also barring additional technical transactions with WeChat starting Sunday that will significantly reduce the usability and functionality of the app in the United States.</p>  <p>The order bars data hosting within the United States for WeChat, content delivery services and networks that can increase functionality and internet transit or peering services.</p>  <p>"What immediately is going to happen is users are going to experience a lag or lack of functionality," a senior Commerce official said of WeChat users. "It may still be usable but it is not going to be as functional as it was." There may be sporadic outages as well, the official said.</p>  <p>Commerce will bar the same set of technical transactions for TikTok, but that will not take effect until Nov. 12 to give the company additional time to see if ByteDance can reach a deal for its U.S. operations. The official said TikTok U.S. users would not see "a major difference" in the app's performance until Nov. 12.</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/1273236956.jpg 300w,https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/1273236956.jpg 460w,https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/1273236956.jpg 620w,https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1273236956.jpg 780w,https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/1273236956.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5729309.1600434154!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/1273236956.jpg"></p></div><figcaption>U.S. President Donald Trump could still rescind the download ban before it comes into effect Sunday. <!-- --> <!-- -->(Scott Olson/Getty Images)</figcaption></figure></span></p>  <p>Commerce will not penalize people who use TikTok or WeChat in the United States.</p>  <p>The order does not bar data storage within the United States for WeChat or TikTok.</p>  <p>Some Americans may find workarounds. There is nothing that would bar an American from travelling to a foreign country and downloading either app, or potentially using a virtual private network and a desktop client, officials conceded.</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/world/u-s-bans-wechat-tiktok-1.5729249</link>
            <guid isPermaLink="false">hacker-news-small-sites-24524662</guid>
            <pubDate>Sat, 19 Sep 2020 03:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Monitoring My Home Network]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24524433">thread link</a>) | @mr-karan
<br/>
September 18, 2020 | https://mrkaran.dev/posts/isp-monitoring/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/isp-monitoring/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

<p>I like monitoring <em>stuff</em>. That‚Äôs what I do at work and when my home ISP started giving me random problems and I decided it would be nice to monitor my home network as well. There are a couple of ways to go around this, a very popular and OSS solution is <a href="https://oss.oetiker.ch/smokeping/">SmokePing</a>. SmokePing is written in Perl and is used to visualise network latencies. It‚Äôs quite a great solution but for my current stack which involves Prometheus and Grafana, it meant I had to deploy a standalone tool separate from my monitoring stack - something which I wanted to avoid.</p>

<p><img src="https://oss.oetiker.ch/smokeping/doc/reading_detail.png" alt="SmokePing Graphs"></p>

<p>So, I looked for other solutions and luckily happened to stumble upon <a href="https://twitter.com/oddtazz">oddtazz</a> in one of the common Telegram groups where he shared his solution for the above: Telegraf ICMP <a href="https://github.com/influxdata/telegraf/tree/master/plugins/inputs/ping">plugin</a> and Grafana. This is exactly what I‚Äôve been looking for but for some reason, I had wrongly assumed Telegraf needs InfluxDB to store the data. Googling a bit more, I found Telegraf <a href="https://github.com/influxdata/telegraf/blob/release-1.15/plugins/outputs/prometheus_client/README.md">supports</a> Prometheus format (amongst a huge list of others!) but this wasn‚Äôt so clear in their docs.</p>

<p>I decided to run a Telegraf agent in my RPi connected to my home router over LAN and scrape metrics using Prometheus and visualise graphs in Grafana! For the non-patient readers, here‚Äôs what my dashboard looks like!:</p>

<p><img src="https://mrkaran.dev/images/ISP-Monitoring-Grafana2.png" alt="image"></p>

<p><img src="https://mrkaran.dev/images/ISP-Monitoring-Grafana1.png" alt="image"></p>

<h2 id="setup">Setup</h2>

<p>To get started, we need to download <a href="https://github.com/influxdata/telegraf">Telegraf</a> and configure the <a href="https://github.com/influxdata/telegraf/tree/master/plugins/inputs/ping">Ping</a> plugin. Telegraf has the concept of <strong>Plugins</strong> for Input, Output, Aggregating and Processing. What this basically means is that you can configure multiple input plugins like DNS, ICMP, HTTP and export the data of these plugins in a format of your choice with Output plugins.
This makes Telegraf extermely extensible, you could write a plugin (in Go) of your choice if you fancy that as well!</p>

<p>Here‚Äôs what my <code>telegraf.conf</code> looks like:</p>
<div><pre><code data-lang="toml"><span># Input plugins</span>

<span># Ping plugin</span>
[[<span>inputs</span>.<span>ping</span>]]
<span>urls</span> = [<span>"mrkaran.dev"</span>, <span>"tailscale.mrkaran.dev"</span>, <span>"floyd.mrkaran.dev"</span>, <span>"1.1.1.1"</span>, <span>"kite.zerodha.com"</span>, <span>"google.com"</span>, <span>"reddit.com"</span>, <span>"twitter.com"</span>, <span>"amazon.in"</span>, <span>"zerodha.com"</span>]
<span>count</span> = <span>4</span>
<span>ping_interval</span> = <span>1.0</span>
<span>timeout</span> = <span>2.0</span>

<span># DNS plugin</span>
[[<span>inputs</span>.<span>dns_query</span>]]
  <span>servers</span> = [<span>"100.101.134.59"</span>]
  <span>domains</span> = [<span>"mrkaran.dev"</span>, <span>"tailscale.mrkaran.dev"</span>, <span>"floyd.mrkaran.dev"</span>, <span>"1.1.1.1"</span>, <span>"kite.zerodha.com"</span>, <span>"google.com"</span>, <span>"reddit.com"</span>, <span>"twitter.com"</span>, <span>"amazon.in"</span>, <span>"zerodha.com"</span>]

<span># Output format plugins</span>
[[<span>outputs</span>.<span>prometheus_client</span>]]
  <span>listen</span> = <span>":9283"</span>
  <span>metric_version</span> = <span>2</span></code></pre></div>
<p>Firstly, so nice to see an <em>Ops</em> tool <strong>not</strong> using <code>YAML</code>. Kudos to Telegraf for that. I‚Äôd love to see other tools follow suit.</p>

<p>Getting back to the configuration part, <code>input.plugin</code> is a list of plugins that can be configured and I have configured the Ping and DNS plugin in my config. The <code>output</code> is in Prometheus format so it can be scraped and ingested by Prometheus‚Äô time-series DB.</p>

<h3 id="running-telegraf">Running Telegraf</h3>

<p>With the above config in place, let‚Äôs try running the agent and see what metrics we get. I am using <a href="https://hub.docker.com/_/telegraf/">official</a> Docker image to run the agent with the following config:</p>
<div><pre><code data-lang="sh">docker run --name telegraf-agent --restart always -d -p <span>9283</span>:9283 -v <span>$PWD</span>/telegraf.conf:/etc/telegraf/telegraf.conf:ro telegraf</code></pre></div>
<p>After running the above command, you should be able to see the metrics at <code>localhost:9283/metrics</code></p>
<div><pre><code data-lang="sh">$ curl localhost:9283/metrics | head
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  <span>0</span>     <span>0</span>    <span>0</span>     <span>0</span>    <span>0</span>     <span>0</span>      <span>0</span>      <span>0</span> --:--:-- --:--:-- --:--:--     <span>0</span><span># HELP dns_query_query_time_ms Telegraf collected metric</span>
<span># TYPE dns_query_query_time_ms untyped</span>
dns_query_query_time_ms{<span>dc</span>=<span>"floyd"</span>,domain=<span>"amazon.in"</span>,host=<span>"work"</span>,rack=<span>"work"</span>,rcode=<span>"NOERROR"</span>,record_type=<span>"NS"</span>,result=<span>"success"</span>,server=<span>"100.101.134.59"</span>} <span>124</span>.096472
dns_query_query_time_ms{<span>dc</span>=<span>"floyd"</span>,domain=<span>"google.com"</span>,host=<span>"work"</span>,rack=<span>"work"</span>,rcode=<span>"NOERROR"</span>,record_type=<span>"NS"</span>,result=<span>"success"</span>,server=<span>"100.101.134.59"</span>} <span>136</span>.793673
dns_query_query_time_ms{<span>dc</span>=<span>"floyd"</span>,domain=<span>"kite.zerodha.com"</span>,host=<span>"work"</span>,rack=<span>"work"</span>,rcode=<span>"NOERROR"</span>,record_type=<span>"NS"</span>,result=<span>"success"</span>,server=<span>"100.101.134.59"</span>} <span>122</span>.780946
dns_query_query_time_ms{<span>dc</span>=<span>"floyd"</span>,domain=<span>"mrkaran.dev"</span>,host=<span>"work"</span>,rack=<span>"work"</span>,rcode=<span>"NOERROR"</span>,record_type=<span>"NS"</span>,result=<span>"success"</span>,server=<span>"100.101.134.59"</span>} <span>137</span>.915851
dns_query_query_time_ms{<span>dc</span>=<span>"floyd"</span>,domain=<span>"twitter.com"</span>,host=<span>"work"</span>,rack=<span>"work"</span>,rcode=<span>"NOERROR"</span>,record_type=<span>"NS"</span>,result=<span>"success"</span>,server=<span>"100.101.134.59"</span>} <span>111</span>.097483</code></pre></div>
<p>Perfect! Now, we‚Äôre all set to configure Prometheus to scrape the metrics from this target. In order to do that you need to add a new <a href="https://prometheus.io/docs/concepts/jobs_instances/">Job</a>:</p>
<div><pre><code data-lang="yml">- job_name: <span>"ispmonitor"</span>
  scrape_interval: 60s
  static_configs:
    - targets: [<span>"100.94.241.54:9283"</span>] <span># RPi telegraf Agent</span></code></pre></div>
<p>In the above config, I am plugging my Tailscale IP assigned to my RPi on the port where Telegraf agent is bound to. This is one of the <strong>many</strong> reasons why Tailscale is so bloody awesome! I can connect different components in my network to each other without setting up any particular firewall rules, exposing ports on a case by case basis.</p>

<p><strong>Sidenote</strong>: If you haven‚Äôt read Tailscale‚Äôs <strong>amazing</strong> <a href="https://tailscale.com/blog/how-nat-traversal-works/">NAT Traversal blog post</a>, do yourself a favour and check it out after you finish reading this one ofcourse!</p>

<p>Anyway, coming back to our Prometheus setup, we can see the metrics being ingested:</p>

<p><img src="https://mrkaran.dev/images/Prometheus-Telegraf-Ingest.png" alt="image"></p>

<h2 id="show-me-the-graphs">Show me the graphs</h2>

<p>Now comes the exciting bit ‚Äì making <strong>pretty</strong> graphs. First, let‚Äôs discuss what‚Äôs the most important data I can extract out of <code>Ping</code> and <code>DNS</code> plugins. These plugins export decent amount of data, but a good rule of thumb while making dashboards is to optimise signal v/s noise ratio. We‚Äôll do that by filtering out only the metrics that we care for.</p>

<p>Let‚Äôs checkout all the metrics exported by <code>Ping</code> plugin:</p>
<div><pre><code data-lang="sh">$ curl localhost:9283/metrics | grep ping | grep TYPE
<span># TYPE ping_average_response_ms untyped</span>
<span># TYPE ping_maximum_response_ms untyped</span>
<span># TYPE ping_minimum_response_ms untyped</span>
<span># TYPE ping_packets_received untyped</span>
<span># TYPE ping_packets_transmitted untyped</span>
<span># TYPE ping_percent_packet_loss untyped</span>
<span># TYPE ping_result_code untyped</span>
<span># TYPE ping_standard_deviation_ms untyped</span>
<span># TYPE ping_ttl untyped</span></code></pre></div>
<p>Perfect! So, from the above list of metrics, the most important ones for us are:</p>

<ul>
<li><code>ping_average_response_ms</code>: Avg RTT for a packet</li>
<li><code>ping_maximum_response_ms</code>: Max RTT for a packet</li>
<li><code>ping_percent_packet_loss</code>: % of packets lost on the way</li>
</ul>

<p>With just the above 3 metrics, we can answer questions like:</p>

<ul>
<li><strong>Is my ISP suffering an outage?</strong></li>
</ul>

<p>If yes, <code>ping_percent_packet_loss</code> should be unusually higher than normal. This usually happens when the ISP has routing is borked and that causes the packet to be routed in a less optimized way and as a side effect packet loss becomes one of the key metrics to measure here.</p>

<ul>
<li><strong>Is the upstream down?</strong></li>
</ul>

<p>If yes, <code>ping_average_response_ms</code> over a recent window should be higher than a window compared to a previous time range when things were fine and dandy. This can either mean 2 things: Either your ISP isn‚Äôt routing correctly to the said upstream or the CDN/Region where your upstream is faced an outage. This is quite a handy metric for me to monitor!</p>

<p>How many times have your friends complained ‚Äú<code>xyz.com</code> isn‚Äôt working for me‚Äù and when you try to load, it‚Äôs fine from your end? There are a lot of actors at play but <code>ping</code> is usually the most simple and quickest way to detect whether an issue persists or not. Of course, this doesn‚Äôt work for hosts which block ICMP packets altogether. They are not rare either, like <code>netflix.com</code> and <code>github.com</code> both block ICMP probes for example. For my use case, this wasn‚Äôt a major issue as I was able to still probe a decent amount of upstreams all over the world.</p>

<p>With that out of the way, let‚Äôs break the dashboard into different components and see what goes behind them.</p>

<h3 id="ping-response-panel">Ping Response Panel</h3>

<p><img src="https://mrkaran.dev/images/ping-row-panel3.png" alt=""></p>

<p>To plot this, simply choose a <code>Stat</code> visualisation with the query <code>ping_average_response_ms{url="$url"}</code>. Repeat this panel for the variable <code>$url</code> and you should be able to generate a nice row view like this.</p>

<p>Additonally you can choose Thresholds and the Unit to be displayed in the panel with these options.</p>

<p><img src="https://mrkaran.dev/images/ping-row-panel1.png" alt="">
<img src="https://mrkaran.dev/images/ping-row-panel2.png" alt=""></p>

<h3 id="ping-response-time-graph">Ping Response Time Graph</h3>

<p>The next graph is interesting, it lets me visualise the avg, min, max ping response time as well as the % packet loss plotted on the Y2 (right Y) axis.</p>

<p><img src="https://mrkaran.dev/images/floyd-ping.png" alt=""></p>

<h3 id="availability-panel">Availability Panel</h3>

<p>An interesting query to calculate uptime (just in the context whether the upstream is reachable) is:</p>
<div><pre>100 - avg_over_time(ping_percent_packet_loss[2m])</pre></div>
<p>Since I scrape metrics at an interval of <code>1m</code>(in order to not ping too frequently and disrupt my actual browsing experience), in this query I am averaging the data points for the metric <code>ping_percent_packet_loss</code> in a <code>[2m]</code> window.</p>

<p><img src="https://mrkaran.dev/images/ping-availability.png" alt=""></p>

<h3 id="dns-response-time-graph">DNS Response Time Graph</h3>

<p>We can similarly query the DNS response time by visualising the average response time for a DNS query. This might be useful only to people self-hosting their DNS servers.</p>

<p><img src="https://mrkaran.dev/images/telegraf-dns.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>

<p>So with a pretty simple and minimal OSS solution, I was able to setup monitoring for my home network! Over the last few days whenever my ISP had slightest of trouble, I can correlate it with my metrics! I mean I still can‚Äôt do anything about it cause the other person on ISP‚Äôs customer support is ‚ÄúDid you try rebooting your router‚Äù  ‚Äì the quintessential solution to all tech problems. Wish we could reboot this entire damn 2020 as well, but one could hope!</p>

<p>Shoot me for any questions on my Twitter <a href="https://twitter.com/mrkaran_">@mrkaran_</a> :)</p>

<p>Fin!</p>

			</div></div>]]>
            </description>
            <link>https://mrkaran.dev/posts/isp-monitoring/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24524433</guid>
            <pubDate>Sat, 19 Sep 2020 02:39:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Containing a Real Vulnerability]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24524408">thread link</a>) | @iou
<br/>
September 18, 2020 | https://gvisor.dev/blog/2020/09/18/containing-a-real-vulnerability | <a href="https://web.archive.org/web/*/https://gvisor.dev/blog/2020/09/18/containing-a-real-vulnerability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>In the previous two posts we talked about gVisor‚Äôs
<a href="https://gvisor.dev/blog/2019/11/18/gvisor-security-basics-part-1/">security design principles</a>
as well as how those are applied in the
<a href="https://gvisor.dev/blog/2020/04/02/gvisor-networking-security/">context of networking</a>.
Recently, a new container escape vulnerability
(<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-14386">CVE-2020-14386</a>)
was announced that ties these topics well together. gVisor is
<a href="https://seclists.org/oss-sec/2020/q3/168">not vulnerable</a> to this specific
issue, but it provides an interesting case study to continue our exploration of
gVisor‚Äôs security. While gVisor is not immune to vulnerabilities,
<a href="https://gvisor.dev/security/">we take several steps</a> to minimize the impact and
remediate if a vulnerability is found.</p>

<h2 id="escaping-the-container">Escaping the Container</h2>

<p>First, let‚Äôs describe how the discovered vulnerability works. There are numerous
ways one can send and receive bytes over the network with Linux. One of the most
performant ways is to use a ring buffer, which is a memory region shared by the
application and the kernel. These rings are created by calling
<a href="https://man7.org/linux/man-pages/man2/setsockopt.2.html">setsockopt(2)</a> with
<a href="https://man7.org/linux/man-pages/man7/packet.7.html"><code>PACKET_RX_RING</code></a> for
receiving and
<a href="https://man7.org/linux/man-pages/man7/packet.7.html"><code>PACKET_TX_RING</code></a> for
sending packets.</p>

<p>The vulnerability is in the code that reads packets when <code>PACKET_RX_RING</code> is
enabled. There is another option
(<a href="https://man7.org/linux/man-pages/man7/packet.7.html"><code>PACKET_RESERVE</code></a>) that
asks the kernel to leave some space in the ring buffer before each packet for
anything the application needs, e.g. control structures. When a packet is
received, the kernel calculates where to copy the packet to, taking the amount
reserved before each packet into consideration. If the amount reserved is large,
the kernel performed an incorrect calculation which could cause an overflow
leading to an out-of-bounds write of up to 10 bytes, controlled by the attacker.
The data in the write is easily controlled using the loopback to send a crafted
packet and receiving it using a <code>PACKET_RX_RING</code> with a carefully selected
<code>PACKET_RESERVE</code> size.</p>

<div><div><pre><code><span>static</span> <span>int</span> <span>tpacket_rcv</span><span>(</span><span>struct</span> <span>sk_buff</span> <span>*</span><span>skb</span><span>,</span> <span>struct</span> <span>net_device</span> <span>*</span><span>dev</span><span>,</span>
               <span>struct</span> <span>packet_type</span> <span>*</span><span>pt</span><span>,</span> <span>struct</span> <span>net_device</span> <span>*</span><span>orig_dev</span><span>)</span>
<span>{</span>
<span>// ...</span>
    <span>if</span> <span>(</span><span>sk</span><span>-&gt;</span><span>sk_type</span> <span>==</span> <span>SOCK_DGRAM</span><span>)</span> <span>{</span>
        <span>macoff</span> <span>=</span> <span>netoff</span> <span>=</span> <span>TPACKET_ALIGN</span><span>(</span><span>po</span><span>-&gt;</span><span>tp_hdrlen</span><span>)</span> <span>+</span> <span>16</span> <span>+</span>
                  <span>po</span><span>-&gt;</span><span>tp_reserve</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>unsigned</span> <span>int</span> <span>maclen</span> <span>=</span> <span>skb_network_offset</span><span>(</span><span>skb</span><span>);</span>
        <span>// tp_reserve is unsigned int, netoff is unsigned short. Addition can overflow netoff</span>
        <span>netoff</span> <span>=</span> <span>TPACKET_ALIGN</span><span>(</span><span>po</span><span>-&gt;</span><span>tp_hdrlen</span> <span>+</span>
                       <span>(</span><span>maclen</span> <span>&lt;</span> <span>16</span> <span>?</span> <span>16</span> <span>:</span> <span>maclen</span><span>))</span> <span>+</span>
                       <span>po</span><span>-&gt;</span><span>tp_reserve</span><span>;</span>
        <span>if</span> <span>(</span><span>po</span><span>-&gt;</span><span>has_vnet_hdr</span><span>)</span> <span>{</span>
            <span>netoff</span> <span>+=</span> <span>sizeof</span><span>(</span><span>struct</span> <span>virtio_net_hdr</span><span>);</span>
            <span>do_vnet</span> <span>=</span> <span>true</span><span>;</span>
        <span>}</span>
        <span>// Attacker controls netoff and can make macoff be smaller than sizeof(struct virtio_net_hdr)</span>
        <span>macoff</span> <span>=</span> <span>netoff</span> <span>-</span> <span>maclen</span><span>;</span>
    <span>}</span>
<span>// ...</span>
    <span>// "macoff - sizeof(struct virtio_net_hdr)" can be negative, resulting in a pointer before h.raw</span>
    <span>if</span> <span>(</span><span>do_vnet</span> <span>&amp;&amp;</span>
        <span>virtio_net_hdr_from_skb</span><span>(</span><span>skb</span><span>,</span> <span>h</span><span>.</span><span>raw</span> <span>+</span> <span>macoff</span> <span>-</span>
                    <span>sizeof</span><span>(</span><span>struct</span> <span>virtio_net_hdr</span><span>),</span>
                    <span>vio_le</span><span>(),</span> <span>true</span><span>,</span> <span>0</span><span>))</span> <span>{</span>
<span>// ...</span>
</code></pre></div></div>

<p>The <a href="https://man7.org/linux/man-pages/man7/capabilities.7.html"><code>CAP_NET_RAW</code></a>
capability is required to create the socket above. However, in order to support
common debugging tools like <code>ping</code> and <code>tcpdump</code>, Docker containers, including
those created for Kubernetes, are given <code>CAP_NET_RAW</code> by default and thus may be
able to trigger this vulnerability to elevate privileges and escape the
container.</p>

<p>Next, we are going to explore why this vulnerability doesn‚Äôt work in gVisor, and
how gVisor could prevent the escape even if a similar vulnerability existed
inside gVisor‚Äôs kernel.</p>

<h2 id="default-protections">Default Protections</h2>

<p>gVisor does not implement <code>PACKET_RX_RING</code>, but <strong>does</strong> support raw sockets
which are required for <code>PACKET_RX_RING</code>. Raw sockets are a controversial feature
to support in a sandbox environment. While it allows great customizations for
essential tools like <code>ping</code>, it may allow packets to be written to the network
without any validation. In general, allowing an untrusted application to write
crafted packets to the network is a questionable idea and a historical source of
vulnerabilities. With that in mind, if <code>CAP_NET_RAW</code> is enabled by default, it
would not be <em>secure by default</em> to run untrusted applications.</p>

<p>After multiple discussions when raw sockets were first implemented, we decided
to disable raw sockets by default, <strong>even if <code>CAP_NET_RAW</code> is given to the
application</strong>. Instead, enabling raw sockets in gVisor requires the admin to set
<code>--net-raw</code> flag to runsc when configuring the runtime, in addition to requiring
the <code>CAP_NET_RAW</code> capability in the application. It comes at the expense that
some tools may not work out of the box, but as part of our
<a href="https://gvisor.dev/blog/2019/11/18/gvisor-security-basics-part-1/#secure-by-default">secure-by-default</a>
principle, we felt that it was important for the ‚Äúless secure‚Äù configuration to
be explicit.</p>

<p>Since this bug was due to an overflow in the specific Linux implementation of
the packet ring, gVisor‚Äôs raw socket implementation is not affected. However, if
there were a vulnerability in gVisor, containers would not be allowed to exploit
it by default.</p>

<p>As an alternative way to implement this same constraint, Kubernetes allows
<a href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/">admission controllers</a>
to be configured to customize requests. Cloud providers can use this to
implement more stringent policies. For example, GKE implements an admission
controller for gVisor that
<a href="https://cloud.google.com/kubernetes-engine/docs/concepts/sandbox-pods#capabilities">removes <code>CAP_NET_RAW</code> from gVisor pods</a>
unless it has been explicitly set in the pod spec.</p>

<h2 id="isolated-kernel">Isolated Kernel</h2>

<p>gVisor has its own application kernel, called the Sentry, that is distinct from
the host kernel. Just like what you would expect from a kernel, gVisor has a
memory management subsystem, virtual file system, and a full network stack. The
host network is only used as a transport to carry packets in and out the
sandbox<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>. The loopback interface which is used in the exploit stays
completely inside the sandbox, never reaching the host.</p>

<p>Therefore, even if the Sentry was vulnerable to the attack, there would be two
factors that would prevent a container escape from happening. First, the
vulnerability would be limited to the Sentry, and the attacker would compromise
only the application kernel, bound by a restricted set of
<a href="https://en.wikipedia.org/wiki/Seccomp">seccomp</a> filters, discussed more in
depth below. Second, the Sentry is a distinct implementation of the API, written
in Go, which provides bounds checking that would have likely prevented access
past the bounds of the shared region (e.g. see
<a href="https://cs.opensource.google/gvisor/gvisor/+/master:pkg/sentry/syscalls/linux/vfs2/aio.go;l=210;drc=a11061d78a58ed75b10606d1a770b035ed944b66?q=file:aio&amp;ss=gvisor%2Fgvisor">aio</a>
or
<a href="https://cs.opensource.google/gvisor/gvisor/+/master:pkg/sentry/kernel/kcov.go;l=272?q=file:kcov&amp;ss=gvisor%2Fgvisor">kcov</a>,
which have similar shared regions).</p>

<p>Here, Kubernetes warrants slightly more explanation. gVisor makes pods the unit
of isolation and a pod can run multiple containers. In other words, each pod is
a gVisor instance, and each container is a set of processes running inside
gVisor, isolated via Sentry-internal namespaces like regular containers inside a
pod. If there were a vulnerability in gVisor, the privilege escalation would
allow a container inside the pod to break out to other <strong>containers inside the
same pod</strong>, but the container still <strong>cannot break out of the pod</strong>.</p>

<h2 id="defense-in-depth">Defense in Depth</h2>

<p>gVisor follows a
<a href="https://cloud.google.com/security/infrastructure/design/resources/google_infrastructure_whitepaper_fa.pdf">common security principle used at Google</a>
that the system should have two layers of protection, and those layers should
require different compromises to be broken. We apply this principle by assuming
that the Sentry (first layer of defense)
<a href="https://gvisor.dev/blog/2019/11/18/gvisor-security-basics-part-1/#defense-in-depth">will be compromised and should not be trusted</a>.
In order to protect the host kernel from a compromised Sentry, we wrap it around
many security and isolations features to ensure only the minimal set of
functionality from the host kernel is exposed.</p>

<p><img src="https://gvisor.dev/assets/images/2020-09-18-containing-a-real-vulnerability-figure1.png" alt="Figure 1" title="Protection layers."></p>

<p>First, the sandbox runs inside a cgroup that can limit and throttle host
resources being used. Second, the sandbox joins empty namespaces, including user
and mount, to further isolate from the host. Next, it changes the process root
to a read-only directory that contains only <code>/proc</code> and nothing else. Then, it
executes with the unprivileged user/group
<a href="https://en.wikipedia.org/wiki/Nobody_/(username/)"><code>nobody</code></a> with all
capabilities stripped. Last and most importantly, a seccomp filter is added to
tightly restrict what parts of the Linux syscall surface that gVisor is allowed
to access. The allowed host surface is a far smaller set of syscalls than the
Sentry implements for applications to use. Not only restricting the syscall
being called, but also checking that arguments to these syscalls are within the
expected set. Dangerous syscalls like <code>execve(2)</code>,
<code>open(2)</code>, and <code>socket(2)</code> are prohibited, thus an
attacker isn‚Äôt able to execute binaries or acquire new resources on the host.</p>

<p>if there were a vulnerability in gVisor that allowed an attacker to execute code
inside the Sentry, the attacker still has extremely limited privileges on the
host. In fact, a compromised Sentry is much more restricted than a
non-compromised regular container. For CVE-2020-14386 in particular, the attack
would be blocked by more than one security layer: non-privileged user, no
capability, and seccomp filters.</p>

<p>Although the surface is drastically reduced, there is still a chance that there
is a vulnerability in one of the allowed syscalls. That‚Äôs why it‚Äôs important to
keep the surface small and carefully consider what syscalls are allowed. You can
find the full set of allowed syscalls
<a href="https://cs.opensource.google/gvisor/gvisor/+/master:runsc/boot/filter/">here</a>.</p>

<p>Another possible attack vector is resources that are present in the Sentry, like
open file descriptors. The Sentry has file descriptors that an attacker could
potentially use, such as log files, platform files (e.g. <code>/dev/kvm</code>), an RPC
endpoint that allows external communication with the Sentry, and a Netstack
endpoint that connects the sandbox to the network. The Netstack endpoint in
particular is a concern because it gives direct access to the network. It‚Äôs an
<code>AF_PACKET</code> socket that allows arbitrary L2 packets to be written to the
network. In the normal case, Netstack assembles packets that go out the network,
giving the container control over only the payload. But if the Sentry is
compromised, an attacker can craft packets to the network. In many ways this is
similar to anyone sending random packets over the internet, but still this is a
place where the host kernel surface exposed is larger than we would like it to
be.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Security comes with many tradeoffs that are often hard to make, such as the
decision to disable raw sockets by default. However, these tradeoffs have ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gvisor.dev/blog/2020/09/18/containing-a-real-vulnerability">https://gvisor.dev/blog/2020/09/18/containing-a-real-vulnerability</a></em></p>]]>
            </description>
            <link>https://gvisor.dev/blog/2020/09/18/containing-a-real-vulnerability</link>
            <guid isPermaLink="false">hacker-news-small-sites-24524408</guid>
            <pubDate>Sat, 19 Sep 2020 02:36:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don't hate the book because you don't use it]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24524046">thread link</a>) | @pietromenna
<br/>
September 18, 2020 | https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/ | <a href="https://web.archive.org/web/*/https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
<h3>
  18 September 2020
</h3>


  <p>In a few months, I‚Äôll celebrate my fifth year as a professional - understand paid - software engineer. I find this role to be a right balance of technical skills, human relationships and it fulfils my curiosity. As time goes by, I‚Äôm also starting to be disappointed by some of its negative aspects. While it doesn‚Äôt prevent me from sleeping, I think an effort could be made to challenge some lousy and short-sighted comments we see daily on social platforms.</p>
<p>Today, I‚Äôd like to talk about <a href="https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8">Design Patterns: Elements of Reusable Object-Oriented Software</a>, a book written by Erich Gamma, Richard Helm, Ralph Johnson, and John Vlissides, famously known as the <em>Gang of Four</em>. If you never read it: this is a fundamental programming book describing programming abstractions published in 1994. The date is essential here, but we‚Äôll come to that later.</p>
<p>This book has recently been discussed by many, due to <a href="https://twitter.com/unclebobmartin/status/1306581616983183361">a recent tweet from Robert. C. Martin aka Uncle Bob</a>. Long story short, telling a massive audience that book X is great, and treating people who consider it outdated as ‚Äúfoolish‚Äù does not end well.</p>
<p>While I disagree with the tone here, I‚Äôd like to focus on the negative comments which followed, including but not limited to:</p>
<ul>
<li>the book is outdated</li>
<li>its concepts are outdated</li>
<li>its authors said it‚Äôs outdated</li>
<li>the book is only focused on mid-90s C++ developers</li>
<li>no one ever used the ‚Äúflyweight‚Äù design pattern</li>
<li>the book is not even readable</li>
<li>its abstractions make code unreadable</li>
</ul>
<p>First of all, let‚Äôs get back to 1994. I was two at the time. All Internet websites could probably fit on a floppy disk, Jeff Bezos founded Amazon, Rasmus Lerdorf was only starting to work on its <em>Personal Home Page/Forms Interpreter</em> CGI C program, and Larry Page and Sergey Brin would only start their research project for a web search engine two years later. The biggest technology companies were IBM, Hewlett-Packard, Motorola and Xerox, which mostly sat behind the oil, car, and food industries. Programming existed, but it wasn‚Äôt the same field as we know it today. Tech companies were a few, and I assume a lot of programmers were working in other industries. Being a professional in this sector was arguably more difficult then, and knowledge was not as easily accessible as it is today. This book was published in a world where programming started to spread in many industries. It surely was a very good resource, to try to apply its concepts, and see what works and what doesn‚Äôt. The authors were literally inventing the field at the time: Erich Gamma, for instance, teamed up with Kent Beck to create the Java JUnit test framework just a few years later, which hugely helped to popularise testing.</p>
<p>My point is: let‚Äôs remind ourselves we stand on the shoulders of many people who tried and experimented a lot at the time. We too often take for granted the knowledge and productivity we have today. On top of that, let‚Äôs not be disrespectful towards the previous generation. My father and my grandfather both work(ed) as electricians: never did my father complain about his father‚Äôs tools or habits before him. He learned them and perfected them with modern knowledge.</p>
<p>Now about the book in itself. While I agree with people saying that some design patterns are too abstract, I strongly disagree with the ones saying the whole book is outdated. Should you develop in a OO language today, such as Java, C++, Python or Ruby, or even more notably, develop a framework or a tool <em>for</em> developers, I think this book is still highly relevant today.</p>
<p>Here are my top picks from the book and why I chose them.</p>
<p><strong>Builder:</strong> because in OOP, objects often hold too much data in them, you need to control how to instantiate them properly. Even with overloaded constructors, data validation at instantiation can become messy. Do you like your testing framework using a <em>fluent interface</em> with method chaining (<code>assert(...).not().equalTo(...)</code>)? Guess what, it‚Äôs directly inspired by the builder design pattern.</p>
<p><strong>Prototype:</strong> I often hear people complaining about how complicated JavaScript is. While I don‚Äôt think this language makes it easy for the developer to write non error-prone code, I better understood the language via the lens of its prototype-based nature, precisely described by the prototype design pattern.</p>
<p><strong>Most of the structural patterns:</strong> While everyone is focused on the bad parts of OOP, namely inheritance, all those design patterns are focused on composability. If you want to be cool nowadays, you could say you prefer ‚Äúcomposition over inheritance‚Äù. Well, if you think composition is only about embedding objects in each other, you should read the part of structural design patterns. For instance, you probably know decorators from Python or annotations in Java/C#, they derive from the decorator design pattern.</p>
<p><strong>Chain of Responsibility:</strong> I think we can all agree on how great it is to use and implement a middleware in our modern web framework. Just use or write functions which take a <em>next</em> handler, a request object. Pass it to your web framework instance via a <code>.use(...)</code> method and you‚Äôre done. This is what the Chain of Responsibility pattern is all about. All Rails, Django, and Laravel developers knew that was NIH.</p>
<p><strong>Iterator:</strong> This one seems obvious now, perhaps not so much at a time where iterating on arrays with pointer arithmetic was common. Today, iterators are even buried behind standard libraries to implement even higher abstract functionalities, but they are still there. I don‚Äôt see a more universal way to implement, with the same public API, a traversal of an array, a tree, or a graph (they are better ways of iterating those last data structures though).</p>
<p><strong>Observer:</strong> For this last one, here is the verbatim definition from the book: ‚ÄúDefine a one-to-many dependency between objects so that when one object changes state, all its dependents are notified and updated automatically‚Äù. Now, if we take a look at some modern technologies, doesn‚Äôt this resonate with PubSub models or React hooks for instance?</p>
<p>To conclude, I‚Äôm not saying the book is not old, quite the opposite: you can feel it when it takes as examples from 90s user interfaces. I‚Äôm merely advocating that our industry and its workers have changed a lot in the last 30 years, dare I say even more than in any other industry. But this should not be an excuse to sweep away years of meticulous R&amp;D and documentation, on which our modern tools still rely on nowadays, and the people behind it.</p>
<p>Because a lot of people complained that they were never able to finish the book, here is an extract from the end, section ‚ÄúWhat to Expect from Design Patterns‚Äù, page 351:</p>
<blockquote>
<p>It‚Äôs possible to argue that this book hasn‚Äôt accomplished much. After all, it doesn‚Äôt present any algorithms or programming techniques that haven‚Äôt been used before. [‚Ä¶] it just documents existing designs. You could conclude that it makes a reasonable tutorial, perhaps, but it certainly can‚Äôt offer much to an experienced object-oriented designer.</p>
<p>We hope you think differently. Cataloging design patterns is important. It gives us standard names and definitions for the techniques we use. If we don‚Äôt study design patterns in software, we won‚Äôt be able to improve them, and it‚Äôll be harder to come up with new ones.</p>
<p>This book is only a start.</p>
</blockquote>

</div></div>]]>
            </description>
            <link>https://aseure.fr/articles/2020-09-18-dont-hate-the-book-because-you-dont-use-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24524046</guid>
            <pubDate>Sat, 19 Sep 2020 01:38:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Test Machine Learning Code and Systems]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=24523930">thread link</a>) | @7d7n
<br/>
September 18, 2020 | https://eugeneyan.com/writing/testing-ml/ | <a href="https://web.archive.org/web/*/https://eugeneyan.com/writing/testing-ml/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>Two weeks ago, <a href="https://twitter.com/jeremyjordan" target="_blank">Jeremy</a> wrote a great post on <a href="https://www.jeremyjordan.me/testing-ml/" target="_blank">Effective Testing for Machine Learning Systems</a>. He distinguished between traditional software tests and machine learning (ML) tests; software tests check the <strong>written logic</strong> while ML tests check the <strong>learned logic</strong>.</p>

<p>ML tests can be further split into <strong>testing</strong> and <strong>evaluation</strong>. We‚Äôre familiar with ML <strong>evaluation</strong> where we train a model and evaluate its performance on an unseen validation set; this is done via metrics (e.g., accuracy, <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve" target="_blank">Area under Curve of Receiver Operating Characteristic (AUC ROC)</a>) and visuals (e.g., <a href="https://eugeneyan.com/writing/recommender-systems-baseline-pytorch/#implementation-2-matrix-factorization-with-bias" target="_blank">precision-recall curve</a>).</p>

<p>On the other hand, ML <strong>testing</strong> involves checks on model behaviour. <strong>Pre-train tests</strong>‚Äîwhich can be run without trained parameters‚Äîcheck if our <em>written logic</em> is correct. For example, is classification probability between 0 to 1? <strong>Post-train tests</strong> check if the <em>learned logic</em> is expected. For example, on the <a href="https://www.kaggle.com/c/titanic/data" target="_blank">Titanic dataset</a>, we should expect females to have a higher survival probability (relative to males).</p>

<p><img src="https://eugeneyan.com/assets/testing-ml-flow.jpg" title="Workflow for testing machine learning" alt="Workflow for testing machine learning"></p>
<p>Workflow for testing machine learning (<a href="https://www.jeremyjordan.me/testing-ml/" target="_blank">source</a>)</p>

<p>Taken together, here‚Äôs how the workflow might look like. To complement this, we‚Äôll implement a machine learning model and run the following tests on it:</p>
<ul>
  <li><a href="#pre-train-tests-to-ensure-correct-implementation">Pre-train tests to ensure correct implementation</a></li>
  <li><a href="#post-train-tests-to-ensure-expected-learned-behaviour">Post-train tests to ensure expected learned behaviour</a></li>
  <li><a href="#model-evaluation-to-ensure-satisfactory-performance">Evaluation to ensure satisfactory model performance</a></li>
</ul>

<blockquote>
  <p>Follow along with the code in this Github repository: <a href="https://github.com/eugeneyan/testing-ml" target="_blank"><code>testing-ml</code></a></p>
</blockquote>

<h2 id="setting-up-the-context-algorithm-and-data">Setting up the context (algorithm and data)</h2>

<p>Before we can do ML testing, we‚Äôll need an <strong>algorithm and some data</strong>. Our algorithm will be a <a href="https://numpy.org/" target="_blank"><code>numpy</code></a> implementation of <a href="https://github.com/eugeneyan/testing-ml/blob/master/src/tree/decision_tree.py" target="_blank"><code>DecisionTree</code></a> which predicts a probability for binary classification. (<a href="#try-it-for-yourself-and-break-something">Extensions to make it support regression welcome!</a>).</p>

<p>To run our tests, we‚Äôll use the <a href="https://www.kaggle.com/c/titanic/data" target="_blank">Titanic dataset</a>. This tiny data set (~900 rows, 10 features) makes for fast testing (when model training is involved) and allows us to iterate quickly. (As part of performance evaluation, we run <code>fit()</code> and <code>predict()</code> hundreds of times to get the 99th percentile timing.) The simplicity and familiarity of the data also makes it easier to discuss the post-train (i.e., learned logic) tests.</p>

<div><div><pre><code>+ ------------+----------+--------+-----------------------------------------+--------+-----+-------+-------+-----------+---------+-------+----------+
| PassengerId | Survived | Pclass | Name                                    | Sex    | Age | SibSp | Parch | Ticket    |    Fare | Cabin | Embarked |
+ ------------+----------+--------+-----------------------------------------+--------+-----+-------+-------+-----------+---------+-------+----------|
|           1 |        0 |      3 | Braund, Mr. Owen Harris                 | male   |  22 |     1 |     0 | A/5 21171 |    7.25 | nan   | S        |
|           2 |        1 |      1 | Cumings, Mrs. John Bradley (Florence... | female |  38 |     1 |     0 | PC 17599  | 71.2833 | C85   | C        |
|           3 |        1 |      3 | Heikkinen, Miss. Laina                  | female |  26 |     0 |     0 | STON/O2.  |   7.925 | nan   | S        |
|           4 |        1 |      1 | Futrelle, Mrs. Jacques Heath (Lily M... | female |  35 |     1 |     0 | 113803    |    53.1 | C123  | S        |
|           5 |        0 |      3 | Allen, Mr. William Henry                | male   |  35 |     0 |     0 | 373450    |    8.05 | nan   | S        |
|           6 |        0 |      3 | Moran, Mr. James                        | male   | nan |     0 |     0 | 330877    |  8.4583 | nan   | Q        |
|           7 |        0 |      1 | McCarthy, Mr. Timothy J                 | male   |  54 |     0 |     0 | 17463     | 51.8625 | E46   | S        |
|           8 |        0 |      3 | Palsson, Master. Gosta Leonard          | male   |   2 |     3 |     1 | 349909    |  21.075 | nan   | S        |
|           9 |        1 |      3 | Johnson, Mrs. Oscar W (Elisabeth Vil... | female |  27 |     0 |     2 | 347742    | 11.1333 | nan   | S        |
|          10 |        1 |      2 | Nasser, Mrs. Nicholas (Adele Achem)     | female |  14 |     1 |     0 | 237736    | 30.0708 | nan   | C        |
+ ------------+----------+--------+-----------------------------------------+--------+-----+-------+-------+-----------+---------+-------+----------+
</code></pre></div></div>
<p>If you're unfamiliar with the Titanic dataset, here's how it looks like (scroll to the right).</p>

<h2 id="adopting-testing-habits-from-software-engineering">Adopting testing habits from software engineering</h2>

<p>We‚Äôll adopt some good habits from software engineering. We won‚Äôt go through them in detail here though it was previously covered in another <a href="https://eugeneyan.com/writing/setting-up-python-project-for-automation-and-collaboration/" target="_blank">post</a>:</p>
<ul>
  <li><a href="https://eugeneyan.com/writing/setting-up-python-project-for-automation-and-collaboration/#write-some-unit-tests-theyre-our-safety-harness" target="_blank">Unit test</a> fixture reuse, exceptions testing, etc with <a href="https://docs.pytest.org/en/latest/" target="_blank"><code>pytest</code></a></li>
  <li><a href="https://eugeneyan.com/writing/setting-up-python-project-for-automation-and-collaboration/#check-for-coverage-how-extensive-are-our-tests" target="_blank">Code coverage</a> with <a href="https://coverage.readthedocs.io/en/coverage-5.2.1/" target="_blank"><code>Coverage.py</code></a> and <a href="https://pytest-cov.readthedocs.io/en/latest/" target="_blank"><code>pytest-cov</code></a></li>
  <li><a href="https://eugeneyan.com/writing/setting-up-python-project-for-automation-and-collaboration/#lint-to-ensure-consistency-across-projects" target="_blank">Linting</a> to ensure code consistency with <a href="https://www.pylint.org/" target="_blank"><code>pylint</code></a></li>
  <li><a href="https://eugeneyan.com/writing/setting-up-python-project-for-automation-and-collaboration/#check-for-type-errors-to-prevent-them" target="_blank">Type checking</a> to verify type correctness with <a href="http://mypy-lang.org/" target="_blank"><code>mypy</code></a></li>
</ul>

<p>(Note: The tests below won‚Äôt include type hints though the <a href="https://github.com/eugeneyan/testing-ml/blob/master/src/tree/decision_tree.py#L16" target="_blank">implementation code</a> does.)</p>

<h2 id="pre-train-tests-to-ensure-correct-implementation">Pre-train tests to ensure correct implementation</h2>

<p>In pre-train tests, we want to <strong>catch errors in our implementation</strong> (i.e., written logic) before training an erroneous model. We can run these tests without a fully trained model.</p>

<p>First, we‚Äôll test our functions of <a href="https://en.wikipedia.org/wiki/Decision_tree_learning#Gini_impurity" target="_blank">Gini impurity</a> and <a href="https://en.wikipedia.org/wiki/Decision_tree_learning#Information_gain" target="_blank">Gini gain</a>. These will be used to <a href="https://en.wikipedia.org/wiki/Decision_tree_learning#General" target="_blank">split the data</a> and grow our decision tree.</p>

<div><div><pre><code><span>def</span> <span>test_gini_impurity</span><span>():</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_impurity</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>]),</span> <span>3</span><span>)</span> <span>==</span> <span>0</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_impurity</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.219</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_impurity</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.375</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_impurity</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.469</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_impurity</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.500</span>


<span>def</span> <span>test_gini_gain</span><span>():</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_gain</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[[</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>],</span> <span>[</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>]]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.5</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_gain</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[[</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>],</span> <span>[</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>1</span><span>]]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.125</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_gain</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[[</span><span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[</span><span>0</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>]]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.125</span>
    <span>assert</span> <span>round</span><span>(</span><span>gini_gain</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[[</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>],</span> <span>[</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>]]),</span> <span>3</span><span>)</span> <span>==</span> <span>0.0</span>
</code></pre></div></div>

<p>Next, we‚Äôll check if the model prediction shape is expected. We should have the same number of rows as the input features.</p>

<div><div><pre><code><span>def</span> <span>test_dt_output_shape</span><span>(</span><span>dummy_titanic</span><span>):</span>
    <span>X_train</span><span>,</span> <span>y_train</span><span>,</span> <span>X_test</span><span>,</span> <span>y_test</span> <span>=</span> <span>dummy_titanic</span>
    <span>dt</span> <span>=</span> <span>DecisionTree</span><span>()</span>
    <span>dt</span><span>.</span><span>fit</span><span>(</span><span>X_train</span><span>,</span> <span>y_train</span><span>)</span>
    <span>pred_train</span> <span>=</span> <span>dt</span><span>.</span><span>predict</span><span>(</span><span>X_train</span><span>)</span>
    <span>pred_test</span> <span>=</span> <span>dt</span><span>.</span><span>predict</span><span>(</span><span>X_test</span><span>)</span>

    <span>assert</span> <span>pred_train</span><span>.</span><span>shape</span> <span>==</span> <span>(</span><span>X_train</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>],),</span> <span>'DecisionTree output should be same as training labels.'</span>
    <span>assert</span> <span>pred_test</span><span>.</span><span>shape</span> <span>==</span> <span>(</span><span>X_test</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>],),</span> <span>'DecisionTree output should be same as testing labels.'</span>
</code></pre></div></div>

<p>We‚Äôll also want to check the output ranges. Given that we‚Äôre predicting probabilities, we should expect the output to range from 0 to 1 inclusive.</p>

<div><div><pre><code><span>def</span> <span>test_dt_output_range</span><span>(</span><span>dummy_titanic</span><span>):</span>
    <span>X_train</span><span>,</span> <span>y_train</span><span>,</span> <span>X_test</span><span>,</span> <span>y_test</span> <span>=</span> <span>dummy_titanic</span>
    <span>dt</span> <span>=</span> <span>DecisionTree</span><span>()</span>
    <span>dt</span><span>.</span><span>fit</span><span>(</span><span>X_train</span><span>,</span> <span>y_train</span><span>)</span>
    <span>pred_train</span> <span>=</span> <span>dt</span><span>.</span><span>predict</span><span>(</span><span>X_train</span><span>)</span>
    <span>pred_test</span> <span>=</span> <span>dt</span><span>.</span><span>predict</span><span>(</span><span>X_test</span><span>)</span>

    <span>assert</span> <span>(</span><span>pred_train</span> <span>&lt;=</span> <span>1</span><span>).</span><span>all</span><span>()</span> <span>&amp;</span> <span>(</span><span>pred_train</span> <span>&gt;=</span> <span>0</span><span>).</span><span>all</span><span>(),</span> <span>'Decision tree output should range from 0 to 1 inclusive'</span>
    <span>assert</span> <span>(</span><span>pred_test</span> <span>&lt;=</span> <span>1</span><span>).</span><span>all</span><span>()</span> <span>&amp;</span> <span>(</span><span>pred_test</span> <span>&gt;=</span> <span>0</span><span>).</span><span>all</span><span>(),</span> <span>'Decision tree output should range from 0 to 1 inclusive'</span>
</code></pre></div></div>

<p>Here, we‚Äôll check for test set leakage (i.e., duplicate rows in train/test splits) by concatenating train and test data, dropping duplicates, and checking the number of rows. (Note: Other leakages include <a href="https://www.fast.ai/2017/11/13/validation-sets/#time-series" target="_blank">temporal leaks</a> and <a href="https://en.wikipedia.org/wiki/Leakage_(machine_learning)#Feature_leakage" target="_blank">feature leaks</a>; we won‚Äôt cover them here.)</p>

<div><div><pre><code><span>def</span> <span>test_data_leak_in_test_data</span><span>(</span><span>dummy_titanic_df</span><span>):</span>
    <span>train</span><span>,</span> <span>test</span> <span>=</span> <span>dummy_titanic_df</span>

    <span>concat_df</span> <span>=</span> <span>pd</span><span>.</span><span>concat</span><span>([</span><span>train</span><span>,</span> <span>test</span><span>])</span>
    <span>concat_df</span><span>.</span><span>drop_duplicates</span><span>(</span><span>inplace</span><span>=</span><span>True</span><span>)</span>

    <span>assert</span> <span>concat_df</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>]</span> <span>==</span> <span>train</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>]</span> <span>+</span> <span>test</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>]</span>
</code></pre></div></div>

<p>Given perfectly separable data and unlimited depth, our decision tree should be able to ‚Äúmemorise‚Äù the training data and <em><a href="https://en.wikipedia.org/wiki/Overfitting" target="_blank">overfit</a> completely</em>. In other words, if we train <em>and</em> evaluate on the training data, we should get 100% accuracy. (Note: the Titanic data isn‚Äôt perfectly separable so we‚Äôll create a small data sample for this.)</p>

<div><div><pre><code><span>@</span><span>pytest</span><span>.</span><span>fixture</span>
<span>def</span> <span>dummy_feats_and_labels</span><span>():</span>
    <span>feats</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([[</span><span>0.7057</span><span>,</span> <span>-</span><span>5.4981</span><span>,</span> <span>8.3368</span><span>,</span> <span>-</span><span>2.8715</span><span>],</span>
                      <span>[</span><span>2.4391</span><span>,</span> <span>6.4417</span><span>,</span> <span>-</span><span>0.80743</span><span>,</span> <span>-</span><span>0.69139</span><span>],</span>
                      <span>[</span><span>-</span><span>0.2062</span><span>,</span> <span>9.2207</span><span>,</span> <span>-</span><span>3.7044</span><span>,</span> <span>-</span><span>6.8103</span><span>],</span>
                      <span>[</span><span>4.2586</span><span>,</span> <span>11.2962</span><span>,</span> <span>-</span><span>4.0943</span><span>,</span> <span>-</span><span>4.3457</span><span>],</span>
                      <span>[</span><span>-</span><span>2.343</span><span>,</span> <span>12.9516</span><span>,</span> <span>3.3285</span><span>,</span> <span>-</span><span>5.9426</span><span>],</span>
                      <span>[</span><span>-</span><span>2.0545</span><span>,</span> <span>-</span><span>10.8679</span><span>,</span> <span>9.4926</span><span>,</span> <span>-</span><span>1.4116</span><span>],</span>
                      <span>[</span><span>2.2279</span><span>,</span> <span>4.0951</span><span>,</span> <span>-</span><span>4.8037</span><span>,</span> <span>-</span><span>2.1112</span><span>],</span>
                      <span>[</span><span>-</span><span>6.1632</span><span>,</span> <span>8.7096</span><span>,</span> <span>-</span><span>0.21621</span><span>,</span> <span>-</span><span>3.6345</span><span>],</span>
                      <span>[</span><span>0.52374</span><span>,</span> <span>3.644</span><span>,</span> <span>-</span><span>4.0746</span><span>,</span> <span>-</span><span>1.9909</span><span>],</span>
                      <span>[</span><span>1.5077</span><span>,</span> <span>1.9596</span><span>,</span> <span>-</span><span>3.0584</span><span>,</span> <span>-</span><span>0.12243</span><span>]</span>
                      <span>])</span>
    <span>labels</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([</span><span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>1</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>])</span>
    <span>return</span> <span>feats</span><span>,</span> <span>labels</span>

<span>def</span> <span>test_dt_overfit</span><span>(</span><span>dummy_feats_and_labels</span><span>):</span>
    <span>feats</span><span>,</span> <span>labels</span> <span>=</span> <span>dummy_feats_and_labels</span>
    <span>dt</span> <span>=</span> <span>DecisionTree</span><span>()</span>
    <span>dt</span><span>.</span><span>fit</span><span>(</span><span>feats</span><span>,</span> <span>labels</span><span>)</span>
    <span>pred</span> <span>=</span> <span>np</span><span>.</span><span>round</span><span>(</span><span>dt</span><span>.</span><span>predict</span><span>(</span><span>feats</span><span>))</span>

    <span>assert</span> <span>np</span><span>.</span><span>array_equal</span><span>(</span><span>labels</span><span>,</span> <span>pred</span><span>),</span> <span>'DecisionTree should fit data perfectly and prediction should == labels.'</span>
</code></pre></div></div>

<p>Lastly, we check if increasing tree depth leads to increased accuracy and AUC ROC on <em>training</em> data (though it‚Äôll overfit and perform poorly on <em>validation</em> data). In the test below, we fit trees of depth one to 10 and ensure training accuracy and AUC increases consistently.</p>

<div><div><pre><code><span>def</span> <span>test_dt_increase_acc</span><span>(</span><span>dummy_titanic</span><span>):</span>
    <span>X_train</span><span>,</span> <span>y_train</span><span>,</span> <span>_</span><span>,</span> <span>_</span> <span>=</span> <span>dummy_titanic</span>

    <span>acc_list</span> <span>=</span> <span>[]</span>
    <span>auc_list</span> <span>=</span> <span>[]</span>
    <span>for</span> <span>depth</span> <span>in</span> <span>range</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>):</span>
        <span>dt</span> <span>=</span> <span>DecisionTree</span><span>(</span><span>depth_limit</span><span>=</span><span>depth</span><span>)</span>
        <span>dt</span><span>.</span><span>fit</span><span>(</span><span>X_train</span><span>,</span> <span>y_train</span><span>)</span>
        <span>pred</span> <span>=</span> <span>dt</span><span>.</span><span>predict</span><span>(</span><span>X_train</span><span>)</span>
        <span>pred_binary</span> <span>=</span> <span>np</span><span>.</span><span>round</span><span>(</span><span>pred</span><span>)</span>
        <span>acc_list</span><span>.</span><span>append</span><span>(</span><span>accuracy_score</span><span>(</span><span>y_train</span><span>,</span> <span>pred_binary</span><span>))</span>
        <span>auc_list</span><span>.</span><span>append</span><span>(</span><span>roc_auc_score</span><span>(</span><span>y_train</span><span>,</span> <span>pred</span><span>))</span>

    <span>assert</span> <span>sorted</span><span>(</span><span>acc_list</span><span>)</span> <span>==</span> <span>acc_list</span><span>,</span> <span>'Accuracy should increase as tree depth increases.'</span>
    <span>assert</span> <span>sorted</span><span>(</span><span>auc_list</span><span>)</span> <span>==</span> <span>auc_list</span><span>,</span> <span>'AUC ROC should increase as tree depth increases.'</span>
</code></pre></div></div>

<h2 id="post-train-tests-to-ensure-expected-learned-behaviour">Post-train tests to ensure expected learned behaviour</h2>

<p>In post-train tests, we want to <strong>check if the model is behaving ‚Ä¶</strong></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://eugeneyan.com/writing/testing-ml/">https://eugeneyan.com/writing/testing-ml/</a></em></p>]]>
            </description>
            <link>https://eugeneyan.com/writing/testing-ml/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24523930</guid>
            <pubDate>Sat, 19 Sep 2020 01:23:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generic Sensor API Playground]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24523862">thread link</a>) | @victorbreder
<br/>
September 18, 2020 | https://intel.github.io/generic-sensor-demos/ | <a href="https://web.archive.org/web/*/https://intel.github.io/generic-sensor-demos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
      

<p>This repository contains applications that demonstrate how to use the
<a href="https://www.w3.org/TR/generic-sensor/">Generic Sensor API</a>.</p>

<p>The <a href="https://www.w3.org/TR/generic-sensor/">Generic Sensor API</a> is a set of
interfaces which expose sensor devices to the web platform. The API consists
of the base <a href="https://w3c.github.io/sensors/#the-sensor-interface">Sensor</a>
interface and a set of concrete sensor classes built on top, such as
<a href="https://w3c.github.io/accelerometer/#accelerometer-interface">Accelerometer</a>,
<a href="https://w3c.github.io/accelerometer/#linearaccelerationsensor-interface">LinearAccelerationSensor</a>,
<a href="https://w3c.github.io/gyroscope/#gyroscope-interface">Gyroscope</a>,
<a href="https://w3c.github.io/orientation-sensor/#absoluteorientationsensor-interface">AbsoluteOrientationSensor</a>
and <a href="https://w3c.github.io/orientation-sensor/#relativeorientationsensor-interface">RelativeOrientationSensor</a>.</p>

<p>The Generic Sensor API is very simple and easy-to-use! The Sensor interface has
<a href="https://w3c.github.io/sensors/#sensor-start"><code>start()</code></a> and
<a href="https://w3c.github.io/sensors/#sensor-stop"><code>stop()</code></a> methods to control sensor state
and several event handlers for receiving notifications about sensor activation, errors and newly
available readings. The concrete sensor classes usually add their specific reading attributes to
the base class.</p>

<h2 id="launch-instructions">Launch instructions</h2>

<p>The demo apps work with Chrome 63 or later. If you have an older version of Chrome, please enable
the <a href="chrome://flags/#enable-generic-sensor">chrome://flags/#enable-generic-sensor</a> flag, before
running the demos.</p>

<p>If the demo is using environmental sensors, such as,
<a href="https://w3c.github.io/magnetometer/#magnetometer-interface">Magnetometer</a> or
<a href="https://w3c.github.io/ambient-light/#ambient-light-sensor-interface">AmbientLightSensor</a>,
please also enable
<a href="chrome://flags/#enable-generic-sensor-extra-classes">chrome://flags/#enable-generic-sensor-extra-classes</a>
flag.</p>

<p>You could run demos from <a href="https://intel.github.io/generic-sensor-demos/">GitHub Pages for this repository.</a></p>

<h2 id="demos-description">Demos description</h2>

<h3 id="punchmeter-code"><a href="https://intel.github.io/generic-sensor-demos/punchmeter/">Punchmeter</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/punchmeter">code</a>)</h3>

<p>Punchmeter is a simple application that calculates user‚Äôs punch speed using
LinearAcceleration sensor. To try it the user should make a punch holding
mobile device in his/her hand.</p>

<p><img src="https://intel.github.io/generic-sensor-demos/images/punchmeter.gif" alt="Punchmeter demo"></p>

<hr>

<h3 id="orientation-phone-code"><a href="https://intel.github.io/generic-sensor-demos/orientation-phone/">Orientation phone</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/orientation-phone">code</a>)</h3>

<p>This simple demo illustrates how an absolute orientation sensor can be used to
modify rotation quaternion of a 3D model. The <code>model</code> is a three.js
<a href="https://threejs.org/docs/index.html#api/core/Object3D"><code>Object3D</code></a> class instance
that has <a href="https://threejs.org/docs/index.html#api/core/Object3D.quaternion"><code>quaternion</code></a>
property.</p>

<p><img src="https://intel.github.io/generic-sensor-demos/images/orientation-phone.png" alt="Orientation sensor demo"></p>

<hr>

<h3 id="360-degree-beach-panorama-demo-code"><a href="https://intel.github.io/generic-sensor-demos/websensor-panorama/">360 degree beach panorama demo</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/websensor-panorama">code</a>)</h3>

<p>The demo presents a 360 degree panorama view of a beach with an added sound effect.
The user can look around the scene by moving their device.
The demo uses the orientation sensor to enable the user to look around.</p>

<p><img src="https://intel.github.io/generic-sensor-demos/websensor-panorama/websensor-panorama.gif?raw=true" alt="360 Panorama"></p>

<hr>

<h3 id="360-degree-video-demo-code"><a href="https://intel.github.io/generic-sensor-demos/websensor-video/">360 degree video demo</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/websensor-video">code</a>)</h3>

<p>This demo presents a 360 degree video that the user can look around by moving their device.
The user can also play the video in both forward and reverse by holding the device and walking
forward and backward, respectively.
The demo uses the orientation sensor to enable the user to look around and the accelerometer for
walking detection to enable the user to control video playback by walking.</p>

<hr>

<h3 id="ambient-map-demo-code"><a href="https://intel.github.io/generic-sensor-demos/ambient-map/build/bundled/">Ambient Map demo</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/ambient-map/build/bundled">code</a>)</h3>

<p>This web application demonstrates how Ambient light sensor can be used to control style of a map widget.
When ambient illuminance level is less than 10 lumen, night mode style will be used.</p>

<p><strong>Note:</strong> this demo requires
<a href="chrome://flags/#enable-generic-sensor-extra-classes">chrome://flags/#enable-generic-sensor-extra-classes</a>
flag set.</p>

<p><img width="40%" src="https://intel.github.io/generic-sensor-demos/ambient-map/ambient-map.gif?raw=true" alt="Ambient Map demo"></p>

<hr>

<h3 id="sensor-info-demo-code"><a href="https://intel.github.io/generic-sensor-demos/sensor-info/build/bundled/">Sensor Info demo</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/sensor-info/build/bundled">code</a>)</h3>

<p>This web application presents information about device sensors and their reading values.</p>

<p><strong>Note:</strong> this demo requires
<a href="chrome://flags/#enable-generic-sensor-extra-classes">chrome://flags/#enable-generic-sensor-extra-classes</a>
flag set.</p>

<p><img width="40%" src="https://intel.github.io/generic-sensor-demos/sensor-info/sensor-info.gif?raw=true" alt="Sensor Info demo"></p>

<hr>

<h3 id="vr-button-demo-code"><a href="https://intel.github.io/generic-sensor-demos/vr-button/build/bundled/">VR Button demo</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/vr-button/build/bundled">code</a>)</h3>

<p>This web application demonstrates how Magnetometer sensor can be used to provide user input for WebVR
content. If you have VR enclosure with magnet button, you can interact with objects in the scene by
sliding button down.</p>

<p><strong>Note:</strong> this demo requires
<a href="chrome://flags/#enable-generic-sensor-extra-classes">chrome://flags/#enable-generic-sensor-extra-classes</a>
flag set.</p>

<p><img width="40%" src="https://intel.github.io/generic-sensor-demos/vr-button/vr-button.gif?raw=true" alt="VR Button demo"></p>

<hr>

<h3 id="sensor-tester-code"><a href="https://intel.github.io/generic-sensor-demos/sensor-tester/build/bundled/">Sensor tester</a> (<a href="https://github.com/intel/generic-sensor-demos/tree/master/sensor-tester">code</a>)</h3>

<p>This web application allows to test functionality of the sensors, correctness of their models in correspondence with respective specification.</p>

<p><strong>Note:</strong> this demo requires
<a href="chrome://flags/#enable-generic-sensor-extra-classes">chrome://flags/#enable-generic-sensor-extra-classes</a>
flag set.</p>

<p><img src="https://intel.github.io/generic-sensor-demos/images/sensor-tester.png?raw=true" alt="Sensor tester"></p>

<h2 id="development-environment">Development environment</h2>

<p>If you would like to modify the existing code and experiment with the sensors API
your code must be hosted on a web server that supports HTTPS.
The simplest way is to fork this repository and enable
<a href="https://help.github.com/articles/configuring-a-publishing-source-for-github-pages/">GitHub Pages</a>
for your fork. Alternatevely, you can serve your web application locally, for this, we recommend to use
<a href="https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb">Web Server for Chrome</a>.
If you are developing for mobile devices,set up
<a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server">port forwarding</a>
for your local server, and you are good to go!</p>

<h2 id="reporting-a-security-issue">Reporting a security issue</h2>
<p>If you have information about a security issue or vulnerability with an Intel-maintained open source project on https://github.com/intel, please send an e-mail to secure-opensource@intel.com. Encrypt sensitive information using our PGP public key. For issues related to Intel products, please visit https://security-center.intel.com.</p>


      
    </section></div>]]>
            </description>
            <link>https://intel.github.io/generic-sensor-demos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24523862</guid>
            <pubDate>Sat, 19 Sep 2020 01:15:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Integrate Chaos Engineering into Your CI]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=24523156">thread link</a>) | @ngaut
<br/>
September 18, 2020 | https://chaos-mesh.org/blog/chaos-mesh-action-integrate-chaos-engineering-into%20-your-ci/ | <a href="https://web.archive.org/web/*/https://chaos-mesh.org/blog/chaos-mesh-action-integrate-chaos-engineering-into%20-your-ci/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img alt="chaos-mesh-action - Integrate-Chaos-Engineering-into-Your-CI" src="https://chaos-mesh.org/assets/images/chaos-mesh-action-7f3cb1496d259110ce51cfcaa49ae146.png"></p><p><a href="https://chaos-mesh.org/" target="_blank" rel="noopener noreferrer">Chaos Mesh</a> is a cloud-native chaos testing platform that orchestrates chaos in Kubernetes environments. While it‚Äôs well received in the community with its rich fault injection types and easy-to-use dashboard, it was difficult  to use Chaos Mesh with end-to-end testing or the continuous integration (CI) process. As a result, problems introduced during system development could not be discovered before the release.</p><p>In this article, I will share how we use chaos-mesh-action, a GitHub action to integrate Chaos Mesh into the CI process.</p><p>chaos-mesh-action is available on <a href="https://github.com/marketplace/actions/chaos-mesh" target="_blank" rel="noopener noreferrer">GitHub market</a>, and the source code is on <a href="https://github.com/chaos-mesh/chaos-mesh-action" target="_blank" rel="noopener noreferrer">GitHub</a>.</p><h2>Design of chaos-mesh-action</h2><p><a href="https://docs.github.com/en/actions" target="_blank" rel="noopener noreferrer">GitHub Action</a> is a CI/CD feature natively supported by GitHub, through which we can easily build automated and customized software development workflows in the GitHub repository. </p><p>Combined with GitHub actions, Chaos Mesh can be more easily integrated into the daily development and testing of the system, thus guaranteeing that each code submission on GitHub is bug-free and won‚Äôt damage existing code. The following figure shows chaos-mesh-action integrated into the CI workflow:</p><p><img alt="chaos-mesh-action integrate in the CI workflow" src="https://chaos-mesh.org/assets/images/chaos-mesh-action-integrate-in-the-ci-workflow-6b70ea3c8457f74cfd89305a20d9bec4.png"></p><h2>Using chaos-mesh-action in GitHub workflow</h2><p><a href="https://github.com/marketplace/actions/chaos-mesh" target="_blank" rel="noopener noreferrer">chaos-mesh-action</a> works in Github workflows. A GitHub workflow is a configurable automated process that you can set up in your repository to build, test, package, release, or deploy any GitHub project. To integrate Chaos Mesh in your CI, do the following:</p><ol><li>Design a workflow.</li><li>Create a workflow.</li><li>Run the workflow.</li></ol><h3>Design a workflow</h3><p>Before you design a workflow, you must consider the following issues:</p><ul><li>What functions are we going to test in this workflow?</li><li>What types of faults will we inject? </li><li>How do we verify the correctness of the system?</li></ul><p>As an example, let‚Äôs design a simple test workflow that includes the following steps: </p><ol><li>Create two Pods in a Kubernetes cluster.</li><li>Ping one pod from the other. </li><li>Use Chaos Mesh to inject network delay chaos and test whether the ping command is affected.</li></ol><h3>Create the workflow</h3><p>After you design the workflow, the next step is to create it. </p><ol><li>Navigate to the GitHub repository that contains the software you want to test.</li><li>To start creating a workflow, click <strong>Actions</strong>, and then click the <strong>"New workflow</strong>" button:</li></ol><p><img alt="Creating a workflow" src="https://chaos-mesh.org/assets/images/creating-a-workflow-17c7622de0400b1cf0d0bd091a1c0561.png"></p><p>A workflow is essentially the configuration of jobs that take place sequentially and automatically. Note that the jobs are configured in a single file. For better illustration, we split the script into different job groups as shown below: </p><ul><li><p>Set the workflow name and trigger rules.</p><p>This job names the workflow "Chaos.‚Äù When the code is pushed to the master branch or a pull request is submitted to the master branch, this workflow is triggered.</p><div><div><div tabindex="0"><div><p><span>name</span><span>:</span><span> Chaos</span></p><p><span></span><span>on</span><span>:</span><span></span></p><p><span> </span><span>push</span><span>:</span><span></span></p><p><span>   </span><span>branches</span><span>:</span><span></span></p><p><span>     </span><span>-</span><span> master</span></p><p><span> </span><span>pull_request</span><span>:</span><span></span></p><p><span>   </span><span>branches</span><span>:</span><span></span></p><p><span>     </span><span>-</span><span> master</span></p></div></div></div></div></li><li><p>Install the CI-related environment.</p><p>This configuration specifies the operating system (Ubuntu), and that it uses <a href="https://github.com/marketplace/actions/kind-cluster" target="_blank" rel="noopener noreferrer">helm/kind-action</a> to create a Kind cluster. Then, it outputs related information about the cluster. Finally, it checks out the GitHub repository for the workflow to access. </p><div><div><div tabindex="0"><div><p><span>jobs</span><span>:</span><span></span></p><p><span> </span><span>build</span><span>:</span><span></span></p><p><span>   </span><span>runs-on</span><span>:</span><span> ubuntu</span><span>-</span><span>latest</span></p><p><span>   </span><span>steps</span><span>:</span><span></span></p><p><span>   </span><span>-</span><span> </span><span>name</span><span>:</span><span> Creating kind cluster</span></p><p><span>     </span><span>uses</span><span>:</span><span> helm/kind</span><span>-</span><span>action@v1.0.0</span><span>-</span><span>rc.1</span></p><p><span>   </span><span>-</span><span> </span><span>name</span><span>:</span><span> Print cluster information</span></p><p><span>     </span><span>run</span><span>:</span><span> </span><span>|</span><span></span></p><p><span>       kubectl config view</span></p><p><span>       kubectl cluster-info</span></p><p><span>       kubectl get nodes</span></p><p><span>       kubectl get pods -n kube-system</span></p><p><span>       helm version</span></p><p><span>       kubectl version</span><span></span></p><p><span>   </span><span>-</span><span> </span><span>uses</span><span>:</span><span> actions/checkout@v2</span></p></div></div></div></div></li><li><p>Deploy the application.</p><p>In our example, this job deploys an application that creates two Kubernetes Pods.</p><div><div><div tabindex="0"><div><p><span>-</span><span> </span><span>name</span><span>:</span><span> Deploy an application</span></p><p><span>     </span><span>run</span><span>:</span><span> </span><span>|</span><span></span></p><p><span>       kubectl apply -f https://raw.githubusercontent.com/chaos-mesh/apps/master/ping/busybox-statefulset.yaml</span></p></div></div></div></div></li><li><p>Inject chaos with chaos-mesh-action.</p><div><div><div tabindex="0"><div><p><span>-</span><span> </span><span>name</span><span>:</span><span> Run chaos mesh action</span></p><p><span>    </span><span>uses</span><span>:</span><span> chaos</span><span>-</span><span>mesh/chaos</span><span>-</span><span>mesh</span><span>-</span><span>action@xiang/refine_script</span></p><p><span>    </span><span>env</span><span>:</span><span></span></p><p><span>      </span><span>CFG_BASE64</span><span>:</span><span> YXBpVmVyc2lvbjogY2hhb3MtbWVzaC5vcmcvdjFhbHBoYTEKa2luZDogTmV0d29ya0NoYW9zCm1ldGFkYXRhOgogIG5hbWU6IG5ldHdvcmstZGVsYXkKICBuYW1lc3BhY2U6IGJ1c3lib3gKc3BlYzoKICBhY3Rpb246IGRlbGF5ICMgdGhlIHNwZWNpZmljIGNoYW9zIGFjdGlvbiB0byBpbmplY3QKICBtb2RlOiBhbGwKICBzZWxlY3RvcjoKICAgIHBvZHM6CiAgICAgIGJ1c3lib3g6CiAgICAgICAgLSBidXN5Ym94LTAKICBkZWxheToKICAgIGxhdGVuY3k6ICIxMG1zIgogIGR1cmF0aW9uOiAiNXMiCiAgc2NoZWR1bGVyOgogICAgY3JvbjogIkBldmVyeSAxMHMiCiAgZGlyZWN0aW9uOiB0bwogIHRhcmdldDoKICAgIHNlbGVjdG9yOgogICAgICBwb2RzOgogICAgICAgIGJ1c3lib3g6CiAgICAgICAgICAtIGJ1c3lib3gtMQogICAgbW9kZTogYWxsCg==</span></p></div></div></div></div><p>With chaos-mesh-action, the installation of Chaos Mesh and the injection of chaos complete automatically. You simply need to prepare the chaos configuration that you intend to use to get its Base64 representation. Here, we want to inject network delay chaos into the Pods, so we use the original chaos configuration as follows:</p><div><div><div tabindex="0"><div><p><span>apiVersion</span><span>:</span><span> chaos</span><span>-</span><span>mesh.org/v1alpha1</span></p><p><span></span><span>kind</span><span>:</span><span> NetworkChaos</span></p><p><span></span><span>metadata</span><span>:</span><span></span></p><p><span> </span><span>name</span><span>:</span><span> network</span><span>-</span><span>delay</span></p><p><span> </span><span>namespace</span><span>:</span><span> busybox</span></p><p><span></span><span>spec</span><span>:</span><span></span></p><p><span> </span><span>action</span><span>:</span><span> delay </span><span></span></p><p><span> </span><span>mode</span><span>:</span><span> all</span></p><p><span> </span><span>selector</span><span>:</span><span></span></p><p><span>   </span><span>pods</span><span>:</span><span></span></p><p><span>     </span><span>busybox</span><span>:</span><span></span></p><p><span>       </span><span>-</span><span> busybox</span><span>-</span><span>0</span><span></span></p><p><span> </span><span>delay</span><span>:</span><span></span></p><p><span>   </span><span>latency</span><span>:</span><span> </span><span>"10ms"</span><span></span></p><p><span> </span><span>duration</span><span>:</span><span> </span><span>"5s"</span><span></span></p><p><span> </span><span>scheduler</span><span>:</span><span></span></p><p><span>   </span><span>cron</span><span>:</span><span> </span><span>"@every 10s"</span><span></span></p><p><span> </span><span>direction</span><span>:</span><span> to</span></p><p><span> </span><span>target</span><span>:</span><span></span></p><p><span>   </span><span>selector</span><span>:</span><span></span></p><p><span>     </span><span>pods</span><span>:</span><span></span></p><p><span>       </span><span>busybox</span><span>:</span><span></span></p><p><span>         </span><span>-</span><span> busybox</span><span>-</span><span>1</span><span></span></p><p><span>   </span><span>mode</span><span>:</span><span> all</span></p></div></div></div></div><p>You can obtain the Base64 value of the above chaos configuration file using the following command:</p></li><li><p>Verify the system correctness.</p><p>In this job,  the workflow pings one Pod from the other and observes the changes in network delay.</p><div><div><div tabindex="0"><div><p><span>-</span><span> </span><span>name</span><span>:</span><span> Verify</span></p><p><span>     </span><span>run</span><span>:</span><span> </span><span>|</span><span></span></p><p><span>       echo "do some verification"</span></p><p><span>       kubectl exec busybox-0 -it -n busybox -- ping -c 30 busybox-1.busybox.busybox.svc</span></p></div></div></div></div></li></ul><h3>Run the workflow</h3><p>Now that the workflow is configured, we can trigger it by submitting a pull request to the master branch. When the workflow completes, the verification job outputs of the results that look similar to the following:</p><div><div><div tabindex="0"><div><p><span>do</span><span> some verification</span></p><p><span>Unable to use a TTY - input is not a terminal or the right kind of </span><span>file</span><span></span></p><p><span>PING busybox-1.busybox.busybox.svc </span><span>(</span><span>10.244</span><span>.0.6</span><span>)</span><span>: </span><span>56</span><span> data bytes</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>0</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.069</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>1</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>10.136</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>2</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>10.192</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>3</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>10.129</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>4</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>10.120</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>5</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.070</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>6</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.073</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>7</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.111</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>8</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.070</span><span> ms</span></p><p><span></span><span>64</span><span> bytes from </span><span>10.244</span><span>.0.6: </span><span>seq</span><span>=</span><span>9</span><span> </span><span>ttl</span><span>=</span><span>63</span><span> </span><span>time</span><span>=</span><span>0.077</span><span> ms</span></p><p><span>‚Ä¶‚Ä¶</span></p></div></div></div></div><p>The output indicates a regular series of 10-millisecond delays that last about 5 seconds each. This is consistent with the chaos configuration we injected into chaos-mesh-action.  </p><h2>Current status and next steps</h2><p>At present, we have applied chaos-mesh-action to the <a href="https://github.com/pingcap/tidb-operator" target="_blank" rel="noopener noreferrer">TiDB Operator</a> project. The workflow is injected with the Pod chaos to verify the restart function of the specified instances of the operator. The purpose is to ensure that tidb-operator can work normally when the pods of the operator are randomly deleted by the injected faults. You can view the <a href="https://github.com/pingcap/tidb-operator/actions?query=workflow%3Achaos" target="_blank" rel="noopener noreferrer">TiDB Operator page</a> for more details.</p><p>In the future, we plan to apply chaos-mesh-action to more tests to ensure the stability of TiDB and related components. You are welcome to create your own workflow using chaos-mesh-action.</p><p>If you find a bug or think something is missing, feel free to file an issue, open a pull request (PR), or join us on the <a href="https://join.slack.com/t/cloud-native/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w" target="_blank" rel="noopener noreferrer">#project-chaos-mesh</a> channel in the <a href="https://www.cncf.io/" target="_blank" rel="noopener noreferrer">CNCF</a> slack workspace. </p></section></div>]]>
            </description>
            <link>https://chaos-mesh.org/blog/chaos-mesh-action-integrate-chaos-engineering-into%20-your-ci/</link>
            <guid isPermaLink="false">hacker-news-small-sites-24523156</guid>
            <pubDate>Sat, 19 Sep 2020 00:04:41 GMT</pubDate>
        </item>
    </channel>
</rss>
