<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 18 Feb 2021 04:34:22 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 18 Feb 2021 04:34:22 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Case study: Analyzing Notion app performance]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152295">thread link</a>) | @sturza
<br/>
February 16, 2021 | https://3perf.com/blog/notion/ | <a href="https://web.archive.org/web/*/https://3perf.com/blog/notion/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>Web performance isn‚Äôt going to save you in this crisis.</p>
<p>But if you‚Äôre building a software product, chances are you‚Äôre relatively unaffected. And in this case, having a quick app is more important than ever. Internet <a href="https://www.fastly.com/blog/how-covid-19-is-affecting-internet-performance">is slowing down</a> due to increased demand, and people <a href="https://www.cnet.com/news/mobile-phone-shipments-will-drop-to-10-year-low-this-year-as-coronavirus-hurts-demand/">are holding on to their phones</a> for longer ‚Äì so if your app is slow, your users <em>will</em> be affected by it.</p>
<p>And <a href="https://wpostats.com/"><em>slow app</em> means <em>worse business</em></a>.</p>
<p>Today, let‚Äôs take a look at <a href="https://www.notion.so/">Notion</a> ‚Äì an advanced note-taking web app. Notion is a great product, but one thing customers complain about is its startup time:</p>
<blockquote data-dnt="true"><div lang="en" dir="ltr"><p>Notion app and my laptop OS take the same time to boot.</p><p>Beautiful application but it's tooooo slowüòî</p></div>‚Äî Aniket Mandle (@aniketmandle11) <a href="https://twitter.com/aniketmandle11/status/1256659106464698368?ref_src=twsrc%5Etfw">May 2, 2020</a></blockquote>

<p>Notion <a href="https://twitter.com/NotionHQ/status/1228074819784073216">shipped tremendous speed enhancements recently</a>, but there‚Äôs still a lot of space to improve. Let‚Äôs reverse-engineer it and see what else can be optimized!</p>


<p>Notion is a React web app embedded into a native shell. This means its ‚Äústartup time‚Äù is largely the ‚Äúloading time of the web part‚Äù.</p>
<blockquote><div><p><strong>To be concrete.</strong> On the desktop, the Notion app is a web app wrapped with Electron. On mobile, from my understanding, the Notion app runs both React Native parts (likely responsible for some mobile experiences) and web parts (likely responsible for the overall editing UI).</p><p>Due to (apparently) HTTPS certificate pinning in the Android Notion app, I wasn‚Äôt able to verify whether the mobile app runs the same bundles the desktop app does. But even if the bundles are different, issues they are having are, likely, similar.</p></div></blockquote>
<p>To understand how the web part is loading, let‚Äôs create <a href="https://www.notion.so/iamakulov/Job-Board-f96cfe500e7d47108f44e0b6102e7c01">a public Notion page</a>:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/0608e/notion.png 225w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/31401/notion.png 450w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/e7448/notion.png 900w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/9ac8b/notion.png 1350w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/28bdc/notion.png 1800w,
https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/4054c/notion.png 2050w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/bc79d74265619bb0b304a49c252b52f7/e7448/notion.png" alt="" width="900" height="593">
    </picture>
  </figure>
<div><p>and run a WebPageTest audit over it. (This works because public pages run the same code the whole app runs.)</p><blockquote> <a href="https://webpagetest.org/">WebPageTest</a> is an advanced performance testing tool.</blockquote></div>
<p>WebPageTest returns a lot of useful information, but the most interesting part is <a href="https://webpagetest.org/result/200418_KE_d8c556d0fa8e60a79cd2370f224b3ad7/1/details/#waterfall_view_step1">the loading waterfall</a>:</p>
<figure>
      <img src="https://3perf.com/static/95540616fb001eabb1bfed2546652f69/ffcbe/waterfall.png" alt="" width="900" height="784">
    </figure>
<p>Woah, that‚Äôs a lot of info. What‚Äôs going on there?</p>
<figure>
      <img src="https://3perf.com/static/e7921a43211a557049e57f62aefa92d1/ffcbe/waterfall-explained.png" alt="" width="900" height="535">
    </figure>
<p>Here‚Äôs what‚Äôs going on:</p>
<ol>
<li>You open the page. The page loads a few stylesheets ‚Äì and two JavaScript bundles, <code>vendor</code> and <code>app</code>.</li>
<li>Once both bundles are loaded, they start to execute ‚Äì and spend a whole second doing so.</li>
<li>Once the app has been initialized, it starts sending API requests for page data, loading analytics...</li>
<li>and executing more code...</li>
<li>
<p>until, at 5.6 seconds, the first paint happens:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/eaf7228225d5870afc70f1573924c496/0608e/notion-loading-1.png 225w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/31401/notion-loading-1.png 450w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/e7448/notion-loading-1.png 900w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/9ac8b/notion-loading-1.png 1350w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/28bdc/notion-loading-1.png 1800w,
https://3perf.com/static/eaf7228225d5870afc70f1573924c496/cc602/notion-loading-1.png 2045w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/eaf7228225d5870afc70f1573924c496/e7448/notion-loading-1.png" alt="" width="900" height="603">
    </picture>
  </figure>
<p>...but it‚Äôs just a spinner.</p>
</li>
<li>
<p>At 6.2 seconds, <a href="https://webpagetest.org/video/compare.php?tests=200418_KE_d8c556d0fa8e60a79cd2370f224b3ad7-r%3A1-c%3A0&amp;thumbSize=200&amp;ival=100&amp;end=visual">the page content gets actually rendered</a>.</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/3464bde606feda421dfd951c7f45917b/0608e/notion-loading-2.png 225w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/31401/notion-loading-2.png 450w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/e7448/notion-loading-2.png 900w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/9ac8b/notion-loading-2.png 1350w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/28bdc/notion-loading-2.png 1800w,
https://3perf.com/static/3464bde606feda421dfd951c7f45917b/cc602/notion-loading-2.png 2045w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/3464bde606feda421dfd951c7f45917b/e7448/notion-loading-2.png" alt="" width="900" height="603">
    </picture>
  </figure>
<p>It takes a couple more seconds to finish loading all the hero image.</p>
</li>
</ol>
<p>6.2 seconds for a desktop computer is quite a lot. However, with a medium-tier phone like Nexus 5, this time <a href="https://webpagetest.org/video/compare.php?tests=200420_7E_24739856690fea9cbdadeea3e0b934a2-r%3A1-c%3A0&amp;thumbSize=200&amp;ival=100&amp;end=visual">increases to 12.6 seconds</a>. Here‚Äôs how that feels:</p>

<p>Let‚Äôs see how we can improve it.</p>

<p>When one talks about ‚Äúloading speed‚Äù, one typically means <em>networking performance</em>. From the networking standpoint, Notion is doing well: they‚Äôre using HTTP/2, they‚Äôre gzipping files, and they‚Äôre using Cloudflare as a proxying CDN.</p>
<p>However, another part of ‚Äúloading speed‚Äù that people talk less about is <em>processing performance</em>. All downloaded resources have a processing cost: gzip archives need to be decompressed; images need to be decoded; JS needs to be executed.</p>
<p>Unlike networking performance, processing performance doesn‚Äôt improve with better networks ‚Äì it‚Äôs only as fast as the user‚Äôs CPU is. And user‚Äôs CPUs in phones ‚Äì especially Android phones ‚Äì <a href="https://medium.com/@addyosmani/the-cost-of-javascript-in-2018-7d8950fbb5d4">are <em>bad</em></a>:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/0608e/cost-of-js.png 225w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/31401/cost-of-js.png 450w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/e7448/cost-of-js.png 900w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/9ac8b/cost-of-js.png 1350w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/28bdc/cost-of-js.png 1800w,
https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/f97d7/cost-of-js.png 2000w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/c7e7dd1756462191f79441053ce9d5a7/e7448/cost-of-js.png" alt="" width="900" height="424">
    </picture>
  </figure>
<p>For Notion, processing performance is even more significant. It‚Äôs easy to avoid networking costs by caching network resources in the app. But processing costs are paid <em>every single time</em> the app starts ‚Äì which means a phone user may see a 10-second splash screen multiple times a day.</p>
<p>On our test Nexus 5, executing <code>vendor</code> and <code>app</code> bundles takes 4.9 seconds. This whole time, the page ‚Äì and the app ‚Äì stay non-interactive and empty:</p>
<figure>
      <img src="https://3perf.com/static/7dc48c81c2034a8df43c79164c023198/4e22f/waterfall-nexus-js.png" alt="" width="900" height="366">
    </figure>
<p>What‚Äôs happening there? WebPageTest doesn‚Äôt record JS traces, but if we go to DevTools and run a local audit, we‚Äôll see this:</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/0608e/js-trace.png 225w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/31401/js-trace.png 450w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/e7448/js-trace.png 900w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/9ac8b/js-trace.png 1350w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/28bdc/js-trace.png 1800w,
https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/d6043/js-trace.png 2432w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/1751d6c59e1e18a0a9de2334fd2d0b63/e7448/js-trace.png" alt="" width="900" height="558">
    </picture>
  </figure>
<p>First, the <code>vendor</code> bundle is being compiled (for 0.4s). Second, the <code>app</code> bundle is being compiled (for 1.2s). Third, both bundles start executing ‚Äì and spend 3.3s doing so.</p>
<p>So how can we reduce that time?</p>

<p>Let‚Äôs take a look at the bundle execution phase. What are all these functions?</p>
<figure>
    <picture>
      
      <source srcset="https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/0608e/js-trace-execution.png 225w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/31401/js-trace-execution.png 450w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/e7448/js-trace-execution.png 900w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/9ac8b/js-trace-execution.png 1350w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/28bdc/js-trace-execution.png 1800w,
https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/306a2/js-trace-execution.png 1895w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/c59467702c58246f5c3cf04b4cd54843/e7448/js-trace-execution.png" alt="" width="900" height="594">
    </picture>
  </figure>
<p>Turns out that‚Äôs bundle initialization:</p>
<ul>
<li>
<p><em>Functions with four-character names</em>, like <code>bkwR</code> or <code>Cycz</code>, are application modules.</p>
<!-- prettier-ignore -->

<p>  |
| When webpack builds a bundle, it wraps each module with a function ‚Äì and assigns it an ID. That ID becomes the function name. In the bundle, this looks as follows:
|
| <em>Before:</em>
|
| <code>js
  | import formatDate from './formatDate.js';
  | 
  | // ...
  |</code>
|
| <em>After:</em>
|
| <code>js
  | fOpr: function(module, __webpack_exports__, __webpack_require__) {
  |   "use strict";
  |
  |   __webpack_require__.r(__webpack_exports__);
  |
  |   var _formatDate__WEBPACK_IMPORTED_MODULE_0__ =
  |     __webpack_require__("xN6P");
  |
  |   // ...
  | },
  |</code></p>
</li>
<li>
<p><em>And the <code>s</code> function</em> is actually <code>__webpack_require__</code>.</p>
<p><code>__webpack_require__</code> is the webpack‚Äôs internal function that it uses for requiring modules. Whenever you write an <code>import</code>, webpack transforms it to <code>__webpack_require__()</code>.</p>
</li>
</ul>
<p>Bundle initialization takes so much time because it executes all the modules. Each module may take just a few milliseconds to execute, but with Notion‚Äôs 1100+ modules, this adds up.</p>
<p>The only way to fix it is to execute fewer modules upfront.</p>
<h2 id="use-code-splitting"><a href="#use-code-splitting" aria-label="use code splitting permalink"></a>Use code splitting</h2>
<p>The best way to improve the startup time is to code-split away some features that‚Äôre not needed immediately. In webpack, this is done <a href="https://webpack.js.org/guides/code-splitting/">using <code>import()</code></a>:</p>
<div data-language="jsx"><pre><code>
<span><span><span>&lt;</span><span>Button</span></span> <span>onClick</span><span><span>=</span><span>{</span>openModal<span>}</span></span> <span>/&gt;</span></span>


<span><span><span>&lt;</span><span>Button</span></span>
  <span>onClick</span><span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span> <span>import</span><span>(</span><span>'./Modal'</span><span>)</span><span>.</span><span>then</span><span>(</span><span>m</span> <span>=&gt;</span> m<span>.</span><span>openModal</span><span>(</span><span>)</span><span>)</span><span>}</span></span>
<span>/&gt;</span></span></code></pre></div>
<p><mark>Code splitting is the best first optimization you can do.</mark> It brings huge performance benefits: after doing code splitting, Tinder reported <a href="https://medium.com/@addyosmani/a-tinder-progressive-web-app-performance-case-study-78919d98ece0">a 60% decrease in the complete load time</a>; and our client, Framer, managed to <a href="https://3perf.com/#clients">cut 40-45% off the CPU Idle time</a>.</p>
<p>There are <a href="https://medium.com/js-dojo/3-code-splitting-patterns-for-vuejs-and-webpack-b8fff1ea0ba4">several common approaches to code splitting</a>:</p>
<ul>
<li>splitting the bundle by pages,</li>
<li>splitting away below-the-fold code,</li>
<li>and splitting away conditional content (any dynamic UIs that are not visible immediately)</li>
</ul>
<p>The Notion app doesn‚Äôt have pages, and code-splitting below-the-fold content is hard because pages are very dynamic. This means the only useful approach is code-splitting conditional content. The following parts may be good candidates for that:</p>
<ul>
<li><em>Settings</em>, <em>Import</em>, <em>Trash</em> ‚Äì all UIs that are rarely used</li>
<li><em>Sidebar</em>, <em>Share</em>, <em>Page options</em> ‚Äì all UIs that are frequently used but are not needed immediately when the app starts. Those could be preloaded and initialized right after the app starts</li>
<li><em>Heavy page blocks.</em> Some page blocks are quite heavy ‚Äì e.g. the <em>Code</em> block supports highlighting 68 languages, which bundles 120+ minified KBs of language definitions from Prism.js. Notion seems to be code-splitting some blocks already (e.g., <em>Math equation</em>), but it might make sense to extend it to others as well.</li>
</ul>
<h2 id="check-that-module-concatenation-is-working"><a href="#check-that-module-concatenation-is-working" aria-label="check that module concatenation is working permalink"></a>Check that module concatenation is working</h2>
<p>In webpack, the <a href="https://webpack.js.org/plugins/module-concatenation-plugin/">module concatenation</a> feature is responsible for merging multiple small ES modules into one large. This reduces the module processing overhead and makes removing unused code more effective.</p>
<p>To confirm that module concatenation is working:</p>
<ul>
<li>check that you‚Äôre not transpiling ES modules to CommonJS with Babel. <a href="https://babeljs.io/docs/en/babel-preset-env"><code>@babel/preset-env</code></a> doesn‚Äôt transpile ES modules into CommonJS</li>
<li>check that <a href="https://webpack.js.org/configuration/optimization/#optimizationconcatenatemodules"><code>optimization.concatenateModules</code></a> is not disabled explicitly</li>
<li>run the production webpack build with <a href="https://webpack.js.org/plugins/module-concatenation-plugin/#debugging-optimization-bailouts"><code>--display-optimization-bailout</code></a> to see if there are any cases where module concatenation bails out</li>
</ul>
<blockquote><div><p><strong>Fun fact.</strong> Remember that all imports are transformed into the <code>__webpack_require__</code> function?</p><p>Well, what happens when the same function is called 1100 times throughout initialization? Right, it becomes a hot path taking 26.8% of the total time:</p><figure>
    <picture>
      
      <source srcset="https://3perf.com/static/befda82857003648779614db0961125d/0608e/hot-path.png 225w,
https://3perf.com/static/befda82857003648779614db0961125d/31401/hot-path.png 450w,
https://3perf.com/static/befda82857003648779614db0961125d/713f0/hot-path.png 887w" sizes="(max-width: 887px) 100vw, 887px">
      <img src="https://3perf.com/static/befda82857003648779614db0961125d/713f0/hot-path.png" alt="" width="887" height="202">
    </picture>
  </figure><p>(<code>s</code> is the minified name of <code>__webpack_require__</code>.)</p><p>Unfortunately, apart from concatenating more modules, <a href="https://github.com/webpack/webpack/issues/2219">there‚Äôs not much to optimize there</a>.</p></div></blockquote>
<h2 id="try-the-lazy-option-of-babels-plugin-transform-modules-commonjs"><a href="#try-the-lazy-option-of-babels-plugin-transform-modules-commonjs" aria-label="try the lazy option of babels plugin transform modules commonjs permalink"></a>Try the <code>lazy</code> option of Babel‚Äôs <code>plugin-transform-modules-commonjs</code></h2>
<blockquote><p><strong>Note:</strong> this suggestion relies on disabling module concatenation. Because of that, it‚Äôs incompatible with the previous one.</p></blockquote>
<p><a href="https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs#lazy"><code>@babel/plugin-transform-modules-commonjs</code></a> is an official Babel plugin that transforms ES imports into CommonJS <code>require()</code>s:</p>
<div data-language="js"><pre><code>
<span>import</span> formatDate <span>from</span> <span>'./formatDate.js'</span><span>;</span>
<span>export</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>formatDate</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span>


<span>const</span> formatDate <span>=</span> <span>require</span><span>(</span><span>'./formatDate.js'</span><span>)</span><span>;</span>
exports<span>.</span><span>getToday</span> <span>=</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>formatDate</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span><span>;</span></code></pre></div>
<p>And with its <code>lazy</code> option enabled, it also inlines all <code>require</code>s right into where they‚Äôre used:</p>
<div data-language="js"><pre><code>
exports<span>.</span><span>getToday</span> <span>=</span> <span>function</span> <span>getToday</span><span>(</span><span>)</span> <span>{</span>
  <span>return</span> <span>require</span><span>(</span><span>'./formatDate.js'</span><span>)</span><span>(</span><span>new</span> <span>Date</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span><span>;</span></code></pre></div>
<p>Thanks to this transformation, if the <code>getToday()</code> function is never called, <code>./formatDate.js</code> is never imported! And we don‚Äôt pay the import cost.</p>
<p>There are a few drawbacks, however:</p>
<ul>
<li>Switching the existing codebase to <code>lazy</code> might be tricky. Some modules may rely on side effects from other modules, which we‚Äôre delaying here. Also, <a href="https://babeljs.io/docs/en/babel-plugin-transform-modules-commonjs#lazy">the plugin docs</a> warn that the <code>lazy</code> option breaks cyclic dependencies</li>
<li>

</li>
<li>Switching to CommonJS modules disables <a href="https://webpack.js.org/plugins/module-concatenation-plugin/">module concatenation</a>. This means the module processing overhead will be higher</li>
</ul>
<p>These drawbacks make this option riskier compared to others ‚Äì but if it plays right, its benefits might far outweigh its costs.</p>
<blockquote><div><p><strong id="note-coverage">How many modules could be deferred like this?</strong> Chrome DevTools let us find an easy answer. Open any JS-heavy page (e.g. <a href="https://www.notion.so/iamakulov/Job-Board-f96cfe500e7d47108f44e0b6102e7c01">the Notion one</a>), go to DevTools, press <kbd>Ctrl+Shift+P</kbd> (Windows) or <kbd>‚åò‚áßP</kbd> (macOS), type in ‚Äústart coverage‚Äù, and press Enter. The page will reload, and you‚Äôll see how much code was executed in the initial render.</p><p>In Notion, 39% of the vendor bundle and 61% of the app bundle are unused after the page renders:</p><figure>
    <picture>
      
      <source srcset="https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/0608e/coverage.png 225w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/31401/coverage.png 450w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/e7448/coverage.png 900w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/9ac8b/coverage.png 1350w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/28bdc/coverage.png 1800w,
https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/917f8/coverage.png 1842w" sizes="(max-width: 900px) 100vw, 900px">
      <img src="https://3perf.com/static/7aed4a03203dae92b7f153801229ff8d/e7448/coverage.png" alt="" width="900" height="513">
    </picture>
  </figure></div></blockquote>

<p>Let‚Äôs take a look at the bundle ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://3perf.com/blog/notion/">https://3perf.com/blog/notion/</a></em></p>]]>
            </description>
            <link>https://3perf.com/blog/notion/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152295</guid>
            <pubDate>Tue, 16 Feb 2021 09:18:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[GNU Artanis-0.5 is ready for Docker]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26152068">thread link</a>) | @nalaginrut
<br/>
February 16, 2021 | https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker | <a href="https://web.archive.org/web/*/https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>GNU Artanis-0.5 is ready for docker</h4></p><div><p>First, you need Docker, I recommend the <a href="https://docs.docker.com/install/" target="_blank">official installation document</a>.</p><p>Then you can pull Artanis image:</p><pre spellcheck="false">docker pull registry.gitlab.com/nalaginrut/artanis:latest
</pre><p>Because the contents created in docker environment is volatile, I'd recommend you create a workspace in the host environment before jump into docker environment.</p><pre spellcheck="false">mkdir myapp
</pre><p>Now you can run a container:</p><pre spellcheck="false">docker run -it --rm -p <span>3000</span>:<span>3000</span> -v $PWD/myapp:<span>/ registry.gitlab.com/</span>nalaginrut/artanis:latest bash
</pre><p>I'm going to explain something:</p><ol><li><span>--rm </span>means to remove the container when you exit, this is useful to keep you environment always clean.</li><li><span>-v $PWD/myapp:/ </span>means mapping the inside directory to outside, so that you can keep your work after exit. Please note that docker requires you specify the absolute path.</li><li><span>-p 3000:3000 </span>means mapping inside default port to outside, so that you can see your work outside.</li><li>The last option <span>bash</span> means running bash as shell. Unfortunately, our docker image didn't install other shells, so you have to install your favorite shell after you get into the environment.</li></ol><p>Now you can create your first Web App with Artanis:</p><pre spellcheck="false">art <span>create</span> hello
cd hello
art draw controller hello world
</pre><p>When everything is prepared, you should do this to boot up Artanis server:</p><pre spellcheck="false">art work -h 0.0.0.0
</pre><p>Because the default host is 127.0.0.1 which is impossible to map the socket port to the outside, so we set the host to 0.0.0.0 to make sure you can checkout your work in the outside browser.</p><p>You may want to visit http://localhost:3000/hello/world in your browser.</p><p>For more details, please read <a href="https://www.gnu.org/software/artanis/manual/manual.html" target="_blank">the manual of GNU Artanis</a>.</p></div></div>]]>
            </description>
            <link>https://nalaginrut.com/archives/2021/02/16/gnu%20artanis-0.5%20is%20ready%20for%20docker</link>
            <guid isPermaLink="false">hacker-news-small-sites-26152068</guid>
            <pubDate>Tue, 16 Feb 2021 08:37:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Brian Armstrong (Coinbase) Interviewed on Clubhouse]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151926">thread link</a>) | @PodCurator
<br/>
February 16, 2021 | https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1 | <a href="https://web.archive.org/web/*/https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://letterdrop.com/@clubhouse-cliffnotes/brian-armstrong-on-clubhouse-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151926</guid>
            <pubDate>Tue, 16 Feb 2021 08:14:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In Go-land you pay even for what you don't use]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151719">thread link</a>) | @ciprian_craciun
<br/>
February 15, 2021 | https://notes.volution.ro/v1/2021/02/notes/378ae6f6/ | <a href="https://web.archive.org/web/*/https://notes.volution.ro/v1/2021/02/notes/378ae6f6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2 id="prologue">Prologue</h2><p>Lately I've been programming both in Go and Rust -- among other languages like Python, Erlang, or
Bash (and, yes, Bash is a programming language) -- thus those acquainted with Rust will observe that
the title is a hint to one of Rust's major selling points, that of zero cost abstractions, namely
that you don't pay for what you don't actually use (right now, but you might use in the future).</p><p>However, although the issue I'm about to describe is present to some extent in any programming
language -- from Bash (again, yes, Bash is a programming language, although a very bad one), to
Java, Python, Ruby, NodeJS, and even Rust -- unfortunately in Go it is made even worse by not having
a suitable workaround.</p><p>The issue might seem minor, and usually it is so, especially given that only lately when I've
focused on the start-up performance of one of my tools have I stumbled upon this issue. And in fact
the first time I tackled it was with the overhead introduced by loading some Python modules I didn't
always use.</p><p>But, with Python I expected this to be an issue, and I knew immediately where to look. With Go less
so, and I've done quite a bit of digging to find the problem (but unfortunately no usable
solution)...</p><h2 id="what-are-initializers">What are "initializers"?</h2><p>Starting with Go,
<a href="https://golang.org/doc/effective_go.html#init">package initializers</a>
are nothing more than anonymous functions, tagged <code>init</code>, without any arguments, that are executed (in
quite a
<a href="https://golang.org/ref/spec#Package_initialization">specific order</a>)
before the <code>main</code> function of an executable. (I say "anonymous" and "tagged" because inside the same file you
can have many such initializers, and they can't be called explicitly from anywhere.) Obviously these are
meant for libraries and not executables (which can just call that code at the beginning of <code>main</code>).</p><p>What can you do within these initializers? Basically anything you can in a normal function, just
that it executes before <code>main</code>. For example a library could initialize some private (but global)
variables with something that requires a bit of code to figure out, like configuration files,
runtime parameters, credentials, or loading previously computed and then cached data, etc.</p><p>Needless to say, the unwritten (but unenforced) rule of these initializers is that they should be
short and not stall the start-up needlessly... (Especially since Go has lightweight go-routines that
could do the initialization in the background if more effort is required...)</p><p>For example:</p><pre><code>package somePackage

var someGlobalA someTypeA
var someGlobalB someTypeB

func init () {
    // do some non-trivial, but quick, computation...
    someGlobalA = ...
    someGlobalB = ...
}
</code></pre><p>However, this feature is not specific to Go, and as mentioned all programming languages have some
sort of package / module / library initializers:</p><ul><li>Java has
<a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.7">class static initializers</a>,
again with a
<a href="https://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4">rigid execution order</a>;</li><li>Python, Ruby, NodeJS, and perhaps most similar interpreted languages, just allow arbitrary code
to be executed at the top-level of a module's body; for example as described
<a href="https://docs.python.org/3/tutorial/modules.html">here for Python</a>,
this code will be executed in the same order the modules are being loaded (first dependencies
then dependents, and so on recursively);</li><li>even Erlang, a functional programming language at heart, has something similar as part of OTP
(Erlang's runtime platform);</li><li>and I'm certain that by now -- in 2 AP, as in second "anno pandemus", or for those reading in the
past the year 2021 AD in the future -- C++ already has found a way to provide weapons of mass
feet shooting for its developers;</li><li>(I would bet the same goes for C# and the entire .NET ecosystem;)</li></ul><p>Regarding the other camp:</p><ul><li>Rust, by design, makes sure that
<a href="https://prev.rust-lang.org/en-US/faq.html#can-i-run-code-before-main">there is no life before main</a>;</li><li>(from what I know) C (the language) doesn't also provide a way to have non constant
static initializers;</li><li>moreover, many C-based libraries (and some well-written C++ ones) provide the user with a
<code>somelib_init</code> function that must be called before any other calls to their functions;</li><li>although GCC (and perhaps many other C compilers and runtimes) do provide a way to have
<a href="https://gcc.gnu.org/onlinedocs/gccint/Initialization.html">initialization functions</a>
(or constructors as they are called); however their main use-case seems to support languages
that do require them;</li><li>(I would also bet, but not a lot, that more functional languages like Haskel, and certainly
Scheme implementations of R7RS, are strict about this;)</li></ul><h3 id="but-wait-as-the-commercial-says-there-is-more">But wait, (as the commercial says), there is more...</h3><p>Most of the languages listed above, not only allow you to provide some means to execute arbitrary
code (in fact that feature is more on the advanced developers side), but also provide the developer
a way to initialize global variables with arbitrary expressions.</p><p>Again, in Go, for example:</p><pre><code>package somePackage

var someGlobalC someTypeC = newSomeC ()

func newSomeC () someTypeC {
    // do some non-trivial, but quick, computation...
    return ...
}
</code></pre><p>Thus, what initially might just seem as some harmless variable initialization, in fact could be a
call to a slow grinding wheel computing the answer to the ultimate question (to which we all know
the answer is usually 43 due to a one-off bug)...</p><h3 id="a-slight-detour-about-finalizers">A slight detour about "finalizers"</h3><p>Although many languages provide "initializers", few provide "finalizers", as in code that is assured
to be run before a program finishes.</p><p>The POSIX standard provides
<a href="https://man7.org/linux/man-pages/man3/atexit.3.html">atexit(3)</a>,
GCC does seem to also provide a way to register "destructors", some languages even expose some
wrappers for it, but none seem to provide some actual facility that are tailored for this specific
use-case... Granted some languages do provide some hooks that trigger when a "scope" finishes -- for
example we have <code>defer</code> in Go, and destructors for Rust and C++ -- however these are meant with
another use-case in mind.</p><p>Strange... Perhaps that's why many servers don't provide a clean way to be shutdown, and instead one
has to clobber them with a definitive <code>SIGKILL</code> after asking nicely in vain with <code>SIGTERM</code>, <code>SIGINT</code>
and other SIG-perhaps-this-works signals...</p><p>Also, as a funny irony, for one application in Rust I encountered a situation where calling the
finalizers (i.e. destructors) took quite some time compared to the total execution time, and I had
to resort to forcibly exiting the process without waiting for Rust to properly finalize.</p><h2 id="so-whats-the-issue">So what's the issue?</h2><p>Seeing that almost every programming language under the sun provides a way to sneak some code to be
executed before <code>main</code>, one would ask why I am complaining about this, and especially why I have
something against how it's implemented in Go?</p><p>Well for starters, Go is not the main culprit. Go doesn't force anyone to use the initializers
features, neither does any other language for that mater.</p><p>Moreover, there is the question of utility: if I <code>import</code> a library doesn't it mean I also intend to
use it? After all Go does an outstanding job of making sure (through compilation errors) that there
are no unused imports.</p><p>And here is where the argument (and especially Go's implementation) starts to show its weakness...</p><p>Imagine for a moment we are building a "do everything within a single statically linked binary"
tool.</p><h3 id="a-side-note-about-single-binary-do-all-tools">A side-note about single-binary do-all tools</h3><p>Why would one want to do this? (That is bundle a set of slightly related tools inside the same
executable.)</p><p>Because it's one of the places where Go really shines, as a systems programming language, especially
today with so many operating systems, let alone Linux and BSD distributions, flavors and
architectures. Thus given how easily I can build an OSX, BSD or even Windows executable from my
Linux, regardless if I use an Intel processor and I target Apple's new M1 ARM processor, and
corroborated with the fact that I don't want to dance the <code>rpm</code> or <code>deb</code> polka (not to speak about
the Windows MSI or OSX DMG baroque dance), I would prefer to just throw one binary for each
supported platform on GitHub's release page and be done with that.</p><p>And it seems this isn't a new or isolated trend, as lots of Go projects ship this way:</p><ul><li>starting with (the C-based)
<a href="https://busybox.net/">Busybox</a>
(that I believe powers at least 75% of all world-wide home and small-business networking
appliances), and its BSD alternative
<a href="https://www.landley.net/toybox/">ToyBox</a>;</li><li>Cloudflare's
<a href="https://github.com/cloudflare/cloudflared">cloudflared</a>
or
<a href="https://github.com/cloudflare/cloudflare-go/tree/master/cmd/flarectl">flarectl</a>;</li><li>Netlify's former
<a href="https://github.com/netlify/netlifyctl">netlifyctl</a>;</li><li>open source projects like
<a href="https://github.com/gohugoio/hugo">Hugo</a>
or
<a href="https://github.com/caddyserver/caddy">Caddy</a>;</li><li>(and I could keep on naming similar tools, written from Python to Erlang;)</li><li>(heck, if I think better, this is exactly what the FlatPack and AppImage projects are selling;)</li></ul><p>What all of these have in common? One (usually statically linked, or self-contained /
self-extracting) binary that can be thrown anywhere on the file-system, and as long as it's in the
<code>$PATH</code>, can easily be used.</p><p>What else do they have in common? Lots of slightly related functionality, which I bet are full of
initializers...</p><h3 id="getting-back-to-our-initializers">Getting back to our initializers...</h3><p>So in this case it seems that even though one imports lots of different libraries, they aren't used
all at the same time; at best one or two major libraries are used to implement a given sub-command.</p><p>However, given how initializers work in Go, that is each initializer for every package is run before
<code>main</code> regardless, all these "small but many" initializers add up and slow the startup process.</p><h3 id="so-you-say-this-is-make-believe-problem">So you say this is "make believe problem"?</h3><p>Well not quite... Let's for a second say that my argument about why I would like to bundle
multiple functionality in the same binary is moot; let's say I pay the cost of using a good tool for
the wrong job. Let's...</p><p>Let us imagine one wants to use the Go built-in
<a href="https://golang.org/pkg/net/rpc/">net/rpc</a>
package, that allows one to easily implement RPC clients and servers over HTTP, plain TCP or UNIX
domain sockets. Now it seems that there are some "debugging" facilities that export some HTML for
the available services -- I don't use this, nor do I have any idea on how they are used, nor can
they be disabled -- and as a consequence in its source code, at line 39 in
<a href="https://golang.org/src/net/rpc/debug.go">debug.go</a>,
there is the following code, which unfortunately, based on my experiments, takes at least 0.5
milliseconds to initialize:</p><pre><code>var debug = template.Must(template.New("RPC debug").Parse(debugText))
</code></pre><p>So to summarize:</p><ul><li>Do I use it? No.</li><li>Can I disable it? No.</li><li>Am I ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://notes.volution.ro/v1/2021/02/notes/378ae6f6/">https://notes.volution.ro/v1/2021/02/notes/378ae6f6/</a></em></p>]]>
            </description>
            <link>https://notes.volution.ro/v1/2021/02/notes/378ae6f6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151719</guid>
            <pubDate>Tue, 16 Feb 2021 07:27:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fast Factorial Functions: The Homepage of Factorial Algorithms]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26151471">thread link</a>) | @lumpa
<br/>
February 15, 2021 | http://www.luschny.de/math/factorial/FastFactorialFunctions.htm | <a href="https://web.archive.org/web/*/http://www.luschny.de/math/factorial/FastFactorialFunctions.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
<div>
<table><tbody><tr>
<td>&nbsp;N&nbsp;!</td>
<td>
<p>
<img alt="Fastfactorialfunctions" height="60" src="http://www.luschny.de/math/factorial/fastfactorialfunctions.png" width="90%">
</p>
<!-- <br />and<img alt="" src="TitelPermTrees.png" style="width: 100%; height: 62px" /></p> -->
<p>There are five algorithms which everyone who wants to compute 
the factorial n! = 1.2.3...n should know.</p>
<ul>
<li>The algorithm
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialSplit.cs.html" target="_blank">SplitRecursive</a></span>, 
because it is simple and the fastest algorithm which does not 
use prime factorization. </li>
<li>The algorithm
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialPrimeSwing.cs.html" target="_blank">
PrimeSwing</a></span>, because it is the (asymptotical) fastest 
algorithm known to compute n!. The algorithm is based on the 
notion of the 'Swing Numbers' and computes n! via the <em>
<a href="http://www.luschny.de/math/factorial/csharp/PrimeSieve.cs.html" target="_blank">prime factorization</a></em> 
of these numbers. </li>

<li>The ingenious 
algorithm of <span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialAdditiveMoessner.cs.html" target="_blank">
Moessner</a></span> which uses only additions! Though of no 
practical importance (because it is slow), it has the fascination 
of an unexpected solution.</li>
<li>The
<span>
<a href="http://www.luschny.de/math/factorial/csharp/FactorialPoorMans.cs.html" target="_blank">Poor 
Man's</a></span> algorithm which uses no Big-Integer library 
and can be easily implemented in any computer language and is 
even fast up to 10000!. </li>
<li>The
<span>
<a href="http://www.luschny.de/math/factorial/java/FactorialParallelPrimeSwing.java.html" target="_blank">
ParallelPrimeSwing</a></span> algorithm, which is the PrimeSwing 
algorithm with improved performance using methods of concurrent 
programming and thus taking advantage of multiple core processors.
</li>
<li>
If you do not attach great importance to high performance then
get a BigInteger library and use:
<pre>BigInt recfact(long start, long n) {
    long i;
    if (n &lt;= 16) { 
        BigInt r = new BigInt(start);
        for (i = start + 1; i &lt; start + n; i++) r *= i;
        return r;
    }
    i = n / 2;
    return recfact(start, i) * recfact(start + i, n - i);
}
BigInt factorial(long n) { return recfact(1, n); }
</pre></li>
<li>And here is an 
algorithm which nobody needs, for the <span>Simple-Minded</span> 
only: <span>long factorial(long n) {return n &lt;= 1 ? 1 : n*factorial(n-1);}</span>
Just don't use it!<br>
</li>
</ul></td></tr></tbody></table>
</div>
<hr>
<div>
<p>An example of a <span>PrimeSwing</span> computation:</p>
<p><img alt="swing" src="http://www.luschny.de/math/factorial/swing62.png" width="520px"></p><p>As this example shows an efficient computation of the factorial function
reduces to an efficient computation of the swinging factorial n‚âÄ.
Some information about these numbers can be found  
<a href="http://www.luschny.de/math/swing/SwingingFactorial.html">here</a>
and <a href="http://oeis.org/A056040">here</a>.
The prime factorization of the swing numbers is crucial for the implementation
of the PrimeSwing algorithm. 
</p><p>A concise description of this
algorithm is given in this <a href="http://www.luschny.de/math/factorial/SwingIntro.pdf">write-up (pdf)</a> and 
	in the SageMath link below (Algo 5).
</p>
</div>
<hr>
<table><tbody>
<tr>
<td>&nbsp;&nbsp; </td>
<td>&nbsp;Link</td>
<td>&nbsp;Content</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/description.html">Algorithms</a></td>
<td>A very short description of 21 algorithms for computing the factorial function n!.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/JuliaFactorial.html">Julia factorial</a></td>
<td>
*NEW* The factorial function based on the swinging factorial which in turn is computed
via prime factorization implemented in Julia.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/scala/FactorialScalaCsharp.htm">Mini Library</a></td>
<td>
The factorial function, the binomial function, the
double factorial, the swing numbers and an efficient
prime number sieve implemented in Scala and GO.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/index.html">Browse Code</a></td>
<td>Various algorithms implemented in<br>Java, C# and C++.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/sagemath.html">SageMath</a></td>
<td>Implementations in SageMath.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/LispFactorial.html">LISP</a></td>
<td>Implementations in Lisp.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/Benchmark.html">Benchmarks</a></td>
<td><em><span>
Benchmark 2013:
With MPIR 2.6 you can calculate 100.000.000! in less than a minute provided you use 
one of the fast algorithms described here.</span></em></td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/conclusions.html">Conclusions</a></td>
<td>Which algorithm should we choose?</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/download.html">Download</a></td>
<td>Download a test application and benchmark yourself.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/approx/SimpleCases.html">Approximations</a></td>
<td>A unique collection! Approximation formulas.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/approx/gammaquot.html">Gamma quot</a></td>
<td>Bounds for Gamma(x+1)/Gamma(x+1/2)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/factandgamma.html">Gamma shift</a></td>
<td>Why is Gamma(n)=(n-1)! and not Gamma(n)=n! ?</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td>
<a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunction.html">Hadamard</a> <br>
</td>
<td>Hadamard's Gamma function and a new factorial function<br>
<a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunctionMJ.html">[MathJax version]</a></td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/history.html">History</a></td>
<td>Not even Wikipedia knows this!<br>
The early history of the factorial function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FactorialNotation.htm">Notation</a></td>
<td>On the notation n!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/binarysplitfact.html">Binary Split</a></td>
<td>For coders only. Go to the page of the day.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/SwingFactorialSagePython.html">Sage / Python</a></td>
<td>Implementation of the swing algorithm.</td>
</tr>
<tr>
<td><span>&nbsp;‚Äº </span></td>
<td><a href="http://www.luschny.de/math/factorial/DoubleFactorial.html">Double Factorial</a></td>
<td>&nbsp;The fast double factorial function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/PrimeProxy.htm">Prime Factorial</a></td>
<td>Primfakultaet ('The Primorial', in German.)</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/approx/bibliography.html">Bibliography</a></td>
<td>Bibliography on Inequalities for the Gamma function.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/primes/berneulerincl.html">Bernoulli&nbsp;&amp;<br>Euler</a></td>
<td>Exotic Applications:<br>
Inclusions for the Bernoulli and Euler numbers.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FastBinomialFunction.html">Binomial</a></td>
<td>Fast Binomial Function (Binomial Coefficients).</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/seq/variations.html">Variations</a></td>
<td>A combinatorial generalization of the factorial.</td>
</tr>
<tr>
<td>&nbsp;X </td>
<td><a href="http://www.luschny.de/math/factorial/approx/continuedfraction.html">Stieltjes' 
CF</a></td>
<td>On Stieltjes' Continued Fraction for the<br>Gamma Function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/AlHaythamLagrangeTheorem.html">al-Haytham /<br>Lagrange</a></td>
<td>The ignorance of some western mathematicians.<br>A deterministic factorial primality test.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/FactorialDigits.html">Factorial Digits</a></td>
<td>Number of decimal digits of 10<sup>n</sup>!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/fffcalc.html">Calculator</a></td>
<td>Calculate n! for n up to 9.999.999.999 .</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/RPNFactorial.html">RPN-Factorial</a></td>
<td>The retro-factorial page!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/combi/permuta4.html">Permutations</a></td>
<td>Awesome! Permutation trees, the combinatorics of n!.<br>
</td></tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/combi/PermutationTrees.html">Perm. trees</a></td>
<td>Download a <a href="http://www.luschny.de/math/seq/PermutationTrees5Color.pdf">pdf-poster</a> 
with 120 permutation trees!</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td>
<a href="http://www.luschny.de/math/factorial/plots/GammaPlots.html" target="_blank">Gamma</a><br>
<a href="http://www.luschny.de/math/factorial/plots/LogGammaPlots.html" target="_blank">LogGamma</a></td>
<td>Plots of the factorial (gamma) function.</td>
</tr>
<tr>
<td>&nbsp;&nbsp; </td>
<td><a href="http://www.luschny.de/math/factorial/GammaLinks.html">External links</a></td>
<td>Some bookmarks.</td>
</tr>
</tbody>
</table>

<p>Fast-Factorial-Functions: <strong>The Homepage 
of Factorial Algorithms.</strong> (C) Peter Luschny, 2000-2017. All information and 
all source code in this directory is free under the
<a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons 
Attribution-ShareAlike 3.0 Unported License</a>. This page is listed on the famous "Dictionary of Algorithms 
and Data Structures" at the National Institute of Standards and Technology's 
web site (NIST). Apr. 2003 / Apr. 2017 : 800,000 visitors! Thank you!</p>

<table summary="Navbar">
<tbody><tr>
<td><a href="http://www.luschny.de/math/seq/RationalTreesAndBinaryPartitions.html">Rational <br>Trees</a></td>
<td><a href="http://www.luschny.de/math/seq/variations.html">Variants of<br>Variations</a></td>
<td><a href="http://www.luschny.de/math/euler/EulerianPolynomials.html">Eulerian <br>Polynomials</a></td>
<td><a href="http://www.luschny.de/math/zeta/VonStaudtPrimes.html">vonStaudt <br>Primes</a></td>
<td><a href="http://www.luschny.de/math/primes/irregular.html">Irregular <br>Primes</a></td>
<td><a href="http://www.luschny.de/math/swing/divideswingandconquer/GeneralizedBinomialCoefficients.html">Generalized <br>Binomial</a></td>
</tr>
<tr>
<td><a href="http://www.luschny.de/math/zeta/The-Bernoulli-Manifesto.html">Bernoulli <br>Manifesto</a></td>
<td><a href="http://www.luschny.de/math/zeta/BernoulliFunctionIntroduction.html">Bernoulli<br>Function</a></td>
<td><a href="http://www.luschny.de/math/seq/CountingWithPartitions.html">Partitions <br>Stirling</a></td>
<td><a href="http://www.luschny.de/math/seq/ZetaPolynomials.htm">Zeta <br>Polynomials</a></td>
<td><a href="http://www.luschny.de/math/rulers/prulers.html">Perfect <br>Rulers</a></td>
<td><a href="http://www.luschny.de/math/zeta/ClausenNumbers.htm">Clausen <br>Numbers</a></td>
</tr>
<tr>
<td><a href="http://www.luschny.de/math/factorial/hadamard/HadamardsGammaFunction.html">Hadamard <br>Gamma</a></td>
<td><a href="http://www.luschny.de/math/factorial/history.html">History <br>Factorial</a></td>
<td><a href="http://www.luschny.de/math/factorial/combi/PermutationTrees.html">Permutation <br>Trees</a></td>
<td><a href="http://www.luschny.de/math/seq/SwissKnifePolynomials.html">Swiss <br>Knife</a></td>
<td><a href="http://www.luschny.de/math/swing/SwingingFactorial.html">Swinging <br>Factorial</a></td>
<td><a href="http://www.luschny.de/ect/Worpitzky-Triangle.html">Worpitzky <br>Triangle</a></td>
</tr>
</tbody></table>

<!--

<p style="text-align: center; line-height: 140%;" >
Visit also our survey of the Bernoulli numbers on the occasion of the 300-th 
anniversary of the publication of <br />
Jacob Bernoulli&#39;s  <em>Ars Conjectandi</em>, 1713-2013. 

<a href="../zeta/The-Bernoulli-Manifesto.html"><img alt="" src="BernoulliManifesto.png" width="95%" /></a>
</p>

-->

</div></div>]]>
            </description>
            <link>http://www.luschny.de/math/factorial/FastFactorialFunctions.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151471</guid>
            <pubDate>Tue, 16 Feb 2021 06:24:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What a person without diabetes learned from 28 days with a glucose monitor]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26151295">thread link</a>) | @jseliger
<br/>
February 15, 2021 | https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor | <a href="https://web.archive.org/web/*/https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><header id="header"></header><main id="main"><section id="content-articles" data-ani-anchor="onload"></section><section id="blog-single-content" data-ani-anchor=""><div><div><p>After scary bouts of hypoglycemia as a kid, Blake Reichmann thought he had a solid low-sugar diet. Then a CGM taught him where he could do better.</p></div><div><div><div><div data-bg="/wp-content/uploads/2020/10/bessi-profile.png"> <img src="data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20210%20140%22%3E%3C/svg%3E" data-src="https://secure.gravatar.com/avatar/09b375d3b3a726e5e6486b60cc17de94?s=32&amp;d=mm&amp;f=y&amp;r=g"></div></div></div></div><div id="featured-image-single-v"> <img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Patch.png" aria-label="The CGM Challenge: What a person without diabetes learned from 28 days with a continuous glucose monitor"></div><div id="single-content-content"><div><p><span>I never thought I‚Äôd have a tiny probe stuck in my arm for 28 days. I‚Äôm not diabetic or even prediabetic. But when I stumbled on the chance to wear a continuous glucose monitor (CGM) as part of a challenge partnered with Levels, I jumped on it. I‚Äôve been conscious of blood sugar my whole life because I suffered from spells of hypoglycemia as a child.</span></p><p><span>Hypoglycemia is when your blood sugar drops below 70mg/dL. I still don‚Äôt know why it happened, but it wasn‚Äôt fun. When my glucose levels dropped too low, I‚Äôd experience cold sweats, lightheadedness, trembling hands, and an elevated heart rate. These symptoms were likely the result of my body releasing epinephrine (adrenaline) to stabilize my blood glucose.</span></p><p><span>Over the years, I started to pick up on which foods caused my blood sugar to crash. The biggest culprits were cereal for breakfast and sweet tea later in the day. Every time I ate a big bowl of cereal before school (usually Frosted Mini-Wheats or Honey Nut Cheerios), I would crash around 10:30 a.m. like clockwork. Sometimes the crashes were so bad that I thought I might pass out, so I‚Äôd call my mom to check me out of school.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg" alt="" width="200" height="200" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w" data-sizes="(max-width: 200px) 100vw, 200px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-200x200.jpg 200w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture-400x400.jpg 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Blake-Reichman-Profile_Picture.jpg 512w"></p><p><span>Experiencing low blood sugar not only made it hard to focus but was, quite frankly, a scary experience for someone who didn‚Äôt understand what was going on. After missing a few classes from these episodes, my mom decided it was time to change my diet.</span></p><p><span>I went from eating cereal in the mornings to eggs, bacon, and fruit (berries or avocado) and cut out the sweet tea (tough to do for a boy raised in Alabama). Once I made those changes, the crashes stopped, and I had energy throughout the day.</span></p><p><span>At the time, I didn‚Äôt fully understand why the switch worked, but I did understand even at a young age that consuming a bunch of carbs and sugar wasn‚Äôt good for me. Since then, I‚Äôve become fascinated with maintaining a healthy lifestyle and finding ways to improve my health. My curiosity for seeking ways to optimize my diet is what eventually led me to put a CGM on my arm.</span></p><h2>The Challenge</h2><p><span>I first learned about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span> from following </span><a href="https://twitter.com/jwmares"><span>Justin Mares</span></a><span> on Twitter. I‚Äôve followed Justin for quite a while since he knew a lot about the health-and-wellness space after founding two health food companies, </span><a href="https://www.kettleandfire.com/"><span>Kettle &amp; Fire</span></a><span> and </span><a href="https://perfectketo.com/"><span>Perfect Keto</span></a><span>.</span></p><p><span>In October, Justin shared an </span><a href="https://twitter.com/jwmares/status/1315696415213936641"><span>interesting tweet</span></a><span> about a weight-loss challenge that only required participants to track their blood glucose with a </span><a href="https://www.levelshealth.com/"><span>Levels</span></a><span> CGM. After reading the tweet, I knew this was something I had to try. Even though the challenge focused on weight loss, I enrolled immediately because I wanted to experiment with a CGM to see how my body reacts to my diet.</span></p><p><span>The challenge required me to keep my glucose levels below 120mg/dL even after a meal. For every day I went over, I‚Äôd lose $25 (talk about having skin in the game). The challenge started with a three-day grace period, so I could experiment with my diet to see how it impacted my glucose without getting penalized.</span></p><p><span>(For context, according to the</span><a href="https://www.idf.org/component/attachments/attachments.html?id=728&amp;task=download"> <span>International Diabetes Federation (IDF) guidelines</span></a><span>, your glucose values are ‚Äúnormal‚Äù if they stay below 140mg/dL after meals and return to pre-meal levels within two to three hours. Since this is a challenge geared towards weight loss, the upper limit was set slightly lower.)</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/what-should-my-glucose-levels-be-ultimate-guide"><b>What should your glucose levels be? Here‚Äôs the ultimate guide to healthy blood sugar ranges</b></a></p><p><span>To help stay in the target range, each member of the challenge had access to a WhatsApp group chat to support each other. The group chat was a place for members to share what diet was working well, vent their frustrations when they failed, and provide a positive environment for motivation and encouragement. This aspect was less useful for me (I ended up muting it after a few days) because my goals were different. Still, I could see how much other members appreciated the accountability and support.</span></p><h2>What I Learned</h2><p><span>Overall, I found the challenge to be a learning experience filled with joyful moments of self-confirmation, times of utter disappointment, and a few surprises in between.</span></p><h3>The Good</h3><p><span>The best news was discovering that my typical breakfast of three eggs, bacon, and half an avocado drizzled in olive oil caused almost no glycemic response, nor did my afternoon snack of raw almonds. The app showed that these foods consistently hit a perfect score. Since I eat these foods most often, it was comforting knowing that I had a strong foundation.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png" alt="" width="400" height="600" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w" data-sizes="(max-width: 400px) 100vw, 400px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3.png 400w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-267x400.png 267w, https://www.levelshealth.com/wp-content/uploads/2021/01/Breakfast-3-133x200.png 133w"></p><p><span>The challenge also confirmed my belief that eating a low-carb paleo/keto-inspired diet consisting of mostly meat, vegetables, and healthy fats (olive oil, coconut oil, and butter/ghee) was optimal for maintaining consistent glucose levels.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Almonds-3-140x200.png 140w"></p><p><span>Over the past four years, I‚Äôve made a conscious effort to cook meals that avoid simple carbs, vegetable oils, and sweeteners, and it felt really good knowing I‚Äôd been making the right choices.</span></p><h3>The Not-So-Good</h3><p><span>The foods with the most considerable impact on my blood sugar were white rice and craft beer, although I can‚Äôt say I was surprised. Unfortunately, I love both of these things (so long Chipotle burrito bowls). It was disappointing to finally have to stare down the truth instead of continuing to live in willful ignorance.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Chipotle-1-140x200.png 140w"></p><p><span>I was also disappointed to learn how much sweet potato spikes my blood sugar. I knew sweet potatoes had a lower </span><a href="https://www.health.harvard.edu/diseases-and-conditions/glycemic-index-and-glycemic-load-for-100-foods"><span>glycemic index (GI)</span></a><span> than regular potatoes, but they still pushed me over the limit. I plan to keep them in my diet but will be more conscious about how often I eat them.</span></p><h3>The Surprising</h3><p><span>The biggest surprise of the challenge was discovering that quality tequila (G4 Reposado) had almost no effect on my blood sugar. Tequila that is 100% agave has zero carbs because of the distillation process (an average craft IPA has around 13g of carbs). Since beer is my usual go-to if I want a drink, I was happy to learn there was a healthier substitute I already enjoyed.</span></p><p><span>I also recognize I need to be careful here. Just because I didn‚Äôt experience a glucose spike doesn‚Äôt mean I didn‚Äôt have a biological response. </span><a href="https://academic.oup.com/ajcn/article/85/6/1545/4632987"><span>Research suggests</span></a><span> that alcohol decreases the liver‚Äôs ability to make new glucose, so it can trigger hypoglycemia, especially if you‚Äôre fasting or in a ketogenic state.</span></p><p><b>Related article: </b><a href="https://www.levelshealth.com/blog/alcohol-and-metabolic-fitness"><b>What does alcohol do to my glucose levels?</b></a></p><p><span>Another big surprise was discovering that my glucose levels aren‚Äôt just impacted by <em>what</em> I eat but also <em>when</em> I eat. I confirmed this because I meal prep twice a week to save time by eating the same meal multiple days in a row. (You may find that boring; I find it efficient.)</span></p><p><span>Eating the same thing for lunch and dinner on several challenge days was great for understanding how my body responds to food at different times of the day. All else being equal, my glucose spikes more after dinner than it does for lunch‚Äîsometimes by as much as 20mg/dL!</span></p><p><span>Even more surprising was noticing how little change there was from eating the same meal from day to day, but then having a large variance between lunch and dinner. I‚Äôm sure there‚Äôs a reason why, but I couldn‚Äôt tease a convincing explanation out of the data.</span></p><p><img src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" data-src="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png" alt="" width="350" height="500" data-srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w" data-sizes="(max-width: 350px) 100vw, 350px" srcset="https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1.png 350w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-280x400.png 280w, https://www.levelshealth.com/wp-content/uploads/2021/01/Nov-11-1-140x200.png 140w"></p><h2>What‚Äôs Changed</h2><p><span>Since the challenge ended, I‚Äôve made a few adjustments to my diet. I‚Äôm not one to make radical changes (like cutting out a particular food from my diet forever), but now I‚Äôm more careful when I still want to splurge. Here are some of the changes I‚Äôve made:</span></p><ul><li aria-level="1"><span>If I‚Äôm going to drink, I opt for quality spirits (neat or on the rocks) over craft beer or cocktails loaded with sugar.</span></li><li aria-level="1"><span>I‚Äôve reconsidered the idea of a cheat day. I still plan on enjoying the occasional night of pizza and beer or tacos and margaritas, but a cheat day isn‚Äôt just a day. Now that I‚Äôm aware that the effects of an unhealthy meal can last for 2-3 days, I better make sure that the meal is worth it.</span></li><li aria-level="1"><span>I need to avoid any sweetened beverage, no matter how ‚Äúhealthy.‚Äù&nbsp; Smoothies, sweetened kombucha, and sweetened coffee wrecked my glucose levels, even though they‚Äôre often touted as healthy choices. Better to eat my sweets after a hearty meal than to drink them.</span></li><li aria-level="1"><span>I‚Äôm now more conscious of what I order when I eat out. For example, I opt for the salad at Chipotle instead of the burrito bowl. I‚Äôve also switched to eating more sashimi instead of sushi to avoid eating as much rice.</span></li></ul><p><span>Even though the challenge only lasted 28 days, I learned more about my diet and lifestyle in those four weeks than I had from any previous blood test or book on dieting. The challenge confirmed that I already eat a healthy diet, but I need to make a few changes to ensure a healthy life for decades to come.</span></p><p><em><span>To learn more about the 28-day </span><a href="https://www.wearablechallenge.com/"><span>Wearable Challenge</span></a><span><a href="https://www.wearablechallenge.com/">, click here</a>.</span></em></p><p><em>Adapted from an original post <a href="https://lawsonblake.com/continuous-glucose-monitoring-levels-health/">here</a>.&nbsp;</em></p></div></div></div></section><section id="blog-single-content-related" data-ani-anchor=""></section></main>         </div>]]>
            </description>
            <link>https://www.levelshealth.com/blog/cgm-what-a-person-without-diabetes-learned-from-28-days-wearing-a-continuous-glucose-monitor</link>
            <guid isPermaLink="false">hacker-news-small-sites-26151295</guid>
            <pubDate>Tue, 16 Feb 2021 05:43:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dial-up pool in 2020 on Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26150873">thread link</a>) | @toothbrush
<br/>
February 15, 2021 | https://dogemicrosystems.ca/wiki/Dial-up_pool | <a href="https://web.archive.org/web/*/https://dogemicrosystems.ca/wiki/Dial-up_pool">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en-CA" dir="ltr"><div><p><a href="https://dogemicrosystems.ca/wiki/File:Dial_pool_header.jpg"><img alt="Dial pool header.jpg" src="https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/550px-Dial_pool_header.jpg" width="550" height="355" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/825px-Dial_pool_header.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/6/6f/Dial_pool_header.jpg/1100px-Dial_pool_header.jpg 2x"></a></p>
<p><br>
Dial-up internet connections may feel like a relic of the past, but modern telephony equipment makes it cheap &amp; easy to set up your own dial-up ISP!
</p><p>Forget about pricey interconnects with the phone company: with a few pieces of commodity hardware and an hour of setup, you can emulate a blazing fast 56&nbsp;kbps <sup id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> network connection between two or more clients.
</p>

<h2><span id="Requirements">Requirements</span></h2>
<h3><span id="Hardware_Requirements">Hardware Requirements</span></h3>
<table>
<caption>Hardware Requirements
</caption>
<tbody><tr>
<th>
</th>
<th>Suggested hardware
</th>
<th>Used in this guide
</th></tr>
<tr>
<th>Dial-in server
</th>
<td>Any computer that supports a Unix/Linux operating system<sup id="cite_ref-debiancentric_2-0"><a href="#cite_note-debiancentric-2">[2]</a></sup></td>
<td>Raspberry Pi 3 model B
</td></tr>
<tr>
<th>Server modem(s)
</th>
<td>Any hardware modem(s) (see the <i>Choosing Modem Hardware</i> section below)</td>
<td>
<ul><li>Matrix MX 14.4k Modem using XECOM XE1414 module (V.32) (<a rel="nofollow" href="https://dogemicrosystems.ca/files/dial/XECOM_XE1414.pdf">datasheet</a>)</li>
<li>USRobotics Sportster 0459 56k External Modem (only 28.8 up) (<a rel="nofollow" href="https://dogemicrosystems.ca/pub/USRobotics/sportster/sportx2_Sportster_56K_x2.pdf">manual</a>)</li>
<li>Practical Peripherals PM144MT II Modem (V.32)</li>
<li>USRobotics USR5637 USB 56k Modem (V.92) (<a rel="nofollow" href="https://dogemicrosystems.ca/pub/USRobotics/USR5637/5637-ds.pdf">datasheet</a>)</li></ul>
</td></tr>
<tr>
<th>Client device(s)
</th>
<td>Any computer with a dial-up modem</td>
<td>
<ul><li>Windows 95 computer with a USRobotics Sportster 33.6k ISA modem</li>
<li>Compaq Presario V2000 laptop with built-in 56k modem</li></ul>
</td></tr>
<tr>
<th>Telephony
</th>
<td>Any device that can emulate a telephone line</td>
<td>4x Linksys SPA-2102 analog telephone adapters (ATA) (don't stack these ‚Äî they get very hot!)
</td></tr>
<tr>
<th>Connectors and adapters
</th>
<td>Whatever you need to connect the server modems to the dial-in server</td>
<td>
<ul><li>3x USB to RS-232 serial adapters (CH341 chipset)</li>
<li>3x DE-9 to DB-25 serial adapters</li></ul>
</td></tr></tbody></table>

<table>
<caption>Software Requirements
</caption>
<tbody><tr>
<th>
</th>
<th>Suggested software
</th>
<th>Used in this guide
</th></tr>
<tr>
<th>Dial-in server
</th>
<td>Any Linux/Unix operating system<sup id="cite_ref-debiancentric_2-1"><a href="#cite_note-debiancentric-2">[2]</a></sup></td>
<td>Debian Buster (Raspbian Lite release)
</td></tr>
<tr>
<th>Telephony
</th>
<td>Real PSTN telephone lines, custom dial tone circuitry, or a software PBX</td>
<td>Asterisk v16.2.1
</td></tr>
<tr>
<th>Tunnelling daemon
</th>
<td>Any ppp daemon</td>
<td>Samba ppp v2.4.7
</td></tr>
<tr>
<th>Terminal manager
</th>
<td>Any terminal multiplexer with virtual terminal support</td>
<td>mgetty v1.2.1
</td></tr></tbody></table>
<h3><span id="Choosing_Modem_Hardware">Choosing Modem Hardware</span></h3>
<p>Despite variations in modem hardware, this guide should work with any dial-up modem that presents itself as a serial device to the operating system, whether it connects over USB, ISA, PCI, or RS-232.
</p><p>However, <b>you should avoid using <a rel="nofollow" href="https://en.wikipedia.org/wiki/Softmodem">software modems</a></b> (sometimes called "softmodems" or "Winmodems") because they are error-prone and difficult to debug. This guide uses three external serial modems (with USB to RS-232 adapters) and one USB modem. Dedicated serial hardware is easy to troubleshoot, and scales to as many lines as you have USB/RS-232 ports.
</p><p>Dial-up over VoIP can be unreliable so it is best to keep speeds low. If you don't already have a modem I would recommend looking for a 14.4k modem for the sake of reliability.
</p>
<ul>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Four_modems.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/120px-Four_modems.jpg" width="120" height="71" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/180px-Four_modems.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/2/26/Four_modems.jpg/240px-Four_modems.jpg 2x"></a></p></div>
<p>Three external RS-232 and one USB modem
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Modems_with_adaptors.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/120px-Modems_with_adaptors.jpg" width="120" height="71" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/180px-Modems_with_adaptors.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/8/86/Modems_with_adaptors.jpg/240px-Modems_with_adaptors.jpg 2x"></a></p></div>
<p>Modems with DB-25 to DE-9 adapters
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Modem_USB_serial.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/120px-Modem_USB_serial.jpg" width="120" height="56" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/180px-Modem_USB_serial.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/8/8c/Modem_USB_serial.jpg/240px-Modem_USB_serial.jpg 2x"></a></p></div>
<p>Modem and USB to DE-9 adapter
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Pi_USB_and_modems.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/120px-Pi_USB_and_modems.jpg" width="120" height="68" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/180px-Pi_USB_and_modems.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/b/b4/Pi_USB_and_modems.jpg/240px-Pi_USB_and_modems.jpg 2x"></a></p></div>
<p>Raspberry Pi, modems, and USB adapters
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Four_SPA-2102.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/120px-Four_SPA-2102.jpg" width="120" height="70" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/180px-Four_SPA-2102.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/e/ee/Four_SPA-2102.jpg/240px-Four_SPA-2102.jpg 2x"></a></p></div>
<p>Four SPA-2102 ATAs
</p>
</div></li>
<li><div>
<div><p><a href="https://dogemicrosystems.ca/wiki/File:Raspberry_pi_3_in_case.jpg"><img alt="" src="https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/120px-Raspberry_pi_3_in_case.jpg" width="120" height="80" srcset="https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/180px-Raspberry_pi_3_in_case.jpg 1.5x, https://dogemicrosystems.ca/mywiki/images/thumb/3/3d/Raspberry_pi_3_in_case.jpg/240px-Raspberry_pi_3_in_case.jpg 2x"></a></p></div>
<p>Raspberry Pi 3 model B in a case
</p>
</div></li>
</ul>
<h2><span id="Setting_up_the_Dial-in_Server">Setting up the Dial-in Server</span></h2>
<p>The dial-in server will answer calls from the modems and act as a proxy for network resources.
</p>
<h3><span id="Using_a_Raspberry_Pi">Using a Raspberry Pi</span></h3>
<ol><li>Download the latest version of Raspbian Lite from <a rel="nofollow" href="https://downloads.raspberrypi.org/raspbian_lite_latest">raspberrypi.org</a> and follow <a rel="nofollow" href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md">the installation instructions</a></li>
<li>Before installing the SD card in your Raspberry Pi, enable SSH to avoid needing a mouse and keyboard:
<ol><li>Mount the Raspberry Pi boot partition (most operating systems will do this automatically after writing the image)</li>
<li>Create an empty file named <code>ssh</code> (with no extension) in the same folder as <code>config.txt</code></li>
<li>Safely eject the SD card</li></ol></li>
<li>Insert the SD card in your Raspberry Pi and connect the power and network cables</li>
<li>Connect to the Raspberry Pi using SSH with the default username <code>pi</code> and password <code>raspberry</code>
<ul><li>If you know the IP address of the Pi, you can connect to it directly using your operating system's built-in SSH client (on Windows, click <a rel="nofollow" href="https://docs.microsoft.com/en-us/windows-server/administration/openssh/openssh_install_firstuse">here</a> for instructions to install openssh, or use a standalone client like <a rel="nofollow" href="https://www.chiark.greenend.org.uk/~sgtatham/putty/">PuTTY</a>)</li>
<li>If you don't know the IP address of the Pi, use a utility like <a rel="nofollow" href="https://github.com/adafruit/Adafruit-Pi-Finder">Adafruit's Pi Finder</a> to find its IP address and log in</li></ul></li></ol>
<h3><span id="Using_a_PC_or_other_hardware">Using a PC or other hardware</span></h3>
<p>Install a Linux or Unix distribution of your choice before proceeding. Installation instructions are beyond the scope of this guide; you should consult your distribution's instructions for help. The commands given in this guide may need to be changed if you're not using a Debian-derived Linux. (Click these links for installation instructions for <a rel="nofollow" href="https://help.ubuntu.com/">Ubuntu</a> and <a rel="nofollow" href="https://www.debian.org/releases/stable/installmanual">Debian</a>).
</p>
<h2><span id="The_Telephone_Network">The Telephone Network</span></h2>
<p>We need a way to connect our ISP modem to clients. There are many ways to approach this:
</p>
<ul><li>Use the actual PSTN (real phone lines)</li>
<li>Use a PBX to provide local connectivity</li>
<li>Build your own circuity</li>
<li>Build a fake PSTN using VoIP ATAs and a software PBX</li></ul>
<p>This guide builds a fake PSTN with SIP and ATAs. Here's the breakdown:
</p>
<ul><li>Asterisk ‚Äî a VoIP PBX on the dial-in server ‚Äî accepts connections from multiple SIP client accounts and routes calls between them.</li>
<li>Cisco-Linksys SPA-2102 ATAs ‚Äî which support two phone lines each ‚Äî act as SIP clients connected to the PBX.</li>
<li>The ISP-side modem(s) each connect to one phone line, and a client device to a second line.</li></ul>
<p>This design can scale up to as many modems and clients as desired: just add more ATAs!
</p>
<h4><span id="Asterisk_Setup">Asterisk Setup</span></h4>
<ol>
<li>Install your Debian-based Linux distribution of choice (Raspbian covered above)</li>
<li>Update to latest packages and reboot if required<br></li>
<pre>sudo apt-get update
sudo apt-get upgrade
sudo reboot</pre>
<li>Install Asterisk:<br></li>
<pre>sudo apt install asterisk</pre>
<li>Append configuration for the SIP clients to the end of <code>/etc/asterisk/sip.conf</code>:
<br>
<div>
<p>This configuration is for 4 modems and 4 clients on 4 ATAs, but can be extended to as many or as few as you need.
</p>
<div>
<pre>[ata-modem1]
context=default                 ; Using the default context because this is a simple design
type=friend                     ; Allow calls to be placed and received to keep things simple
secret=password                 ; Only the most secure passwords around here
qualify=200                     ; Qualify peer is no more than 200ms away
host=dynamic                    ; This device registers with us
directmedia=yes                 ; Send RTP directly to the peer to reduce latency and jitter
nat=no                          ; Only use symmetric IP routing

[ata-modem2]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-modem3]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-modem4]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client1]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client2]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client3]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no

[ata-client4]
context=default
type=friend
secret=password
qualify=200
host=dynamic
directmedia=yes
nat=no
</pre>
</div>
</div>
</li>
<li>Edit <code>/etc/asterisk/extensions.conf</code> and make two changes:<br>
<ol><li>Search for <code>[default]</code> (should be around line 672) and comment out <code>include =&gt; demo</code> by prepending it with a semicolon (<code>;</code>)</li>
<li>Underneath that line, add the new lines for the specific modems and the dial pool:
<pre>exten =&gt; 881,1,Dial(SIP/ata-modem1, 30)
exten =&gt; 882,1,Dial(SIP/ata-modem2, 30)
exten =&gt; 883,1,Dial(SIP/ata-modem3, 30)
exten =&gt; 884,1,Dial(SIP/ata-modem4, 30)
exten =&gt; _X!,1,Dial(SIP/ata-modem1&amp;SIP/ata-modem2&amp;SIP/ata-modem3&amp;SIP/ata-modem4, 30)
</pre>
The <code>_X!</code> tells this dial plan rule to match any number a client dials and send the call to all of the ata-modem[1-4] clients simultaneously with a 30 second timeout. To use a specific modemm, dial its extension and only that modem will ring.</li></ol>
</li>
<li>Enable the asterisk service so it starts on boot:<br>
<code>sudo systemctl enable asterisk</code><br>
</li>
<li>
Start Asterisk:<br>
<code>sudo systemctl start asterisk</code></li>
</ol>
<h4><span id="ATA_Configuration">ATA Configuration</span></h4>
<p>These instructions use unlocked SPA-2102s with firmware versions 5.2.5 and 5.1.13. If your device is locked, <a rel="nofollow" href="http://www.toughdev.com/content/2012/06/unlocking-the-linksys-spa2102-phone-adapter/">follow these instructions to unlock it</a>.
</p><p>Client and modem lines are configured the same, just with different passwords.
</p>
<div>
<p>Starting with a factory default configuration, to enable browser-based configuration:
</p>
<div>
<p>Example of configuring a client line. (Same settings for modem line, just a different username/password)
</p><p>Lets start with factory default configuration and enabling web-based management.
</p>
<ol><li>Connect a phone to LINE 1</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 73738# then 1# then hang up. The unit is now factory reset</li>
<li>Connect the Internet ethernet connection to your local network</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 7932# then 1# then 1 then hang up. The web interface is now accessible from the 'Internet' side of the ATA</li>
<li>Dial **** to enter the configuration menu</li>
<li>Dial 110# to hear the IP address of your ATA</li></ol>
</div>
</div>
<div>
<p>Once browser-based configuration is enabled, navigate to the ATA's IP address and change the following options:
</p>
<div>
<p>On a PC point your web browser at the IP of the ATA to load the web configuration.
Several options need to be changed.
</p>
<ol><li>Click "Admin Login"</li>
<li>Click "Advanced"</li>
<li>(Optiona) Click "WAN Setup" if you need to change the IP address of the ATA</li>
<li>Click the "Voice" tab</li>
<li>Click "Line 1"</li>
<li>Change "Network Jitter Level" to "extremely high" or "high"</li>
<li>Change "Jitter Buffer Adjustment" to "disable"</li>
<li>Set "Proxy" to the IP address of the Raspberry Pi running askterisk</li>
<li>Set "User ID" to the username of the SIP user you are configuring, "ata-client3"</li>
<li>Set "Password" to the password of that user</li>
<li>Change "Call Waiting Serv" to "no"</li>
<li>Change "Three Way Call Serv" to "no"</li>
<li>Change "Preferred Codec" to "G711u"</li>
<li>Change "Use Pref Codec Only" to "yes"</li>
<li>Change "Silence Supp Enable" to "no"</li>
<li>Change "Silence Threshold" to "high"</li>
<li>Change "Echo Canc Enable" to "no"</li>
<li>Change "Echo Canc Adapt Enable" to "no"</li>
<li>Change "Echo Supp Enable" to "no"</li>
<li>Change "FAX CED Detect Enable" to "no"</li>
<li>Change "FAX CNG Detect Enable" to "no"</li>
<li>Change "FAX Process NSE" to "no"</li>
<li>Change "FAX Enable T38" to "no"</li>
<li>Click "Submit All Changes"</li></ol>
<p>Repeat these instructions for Line 2 if you need to use both ports.
</p>
</div>
</div>
<p>When your ATA first connects to the SIP proxy (Asterisk), you will see output like this on the Asterisk console (launched with <code>sudo asterisk -rvvvv</code>):
</p>
<pre>raspberrypi*CLI&gt; 
[Apr 27 04:08:29] NOTICE[573]: chan_sip.c:24884 handle_response_peerpoke: ‚Ä¶</pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dogemicrosystems.ca/wiki/Dial-up_pool">https://dogemicrosystems.ca/wiki/Dial-up_pool</a></em></p>]]>
            </description>
            <link>https://dogemicrosystems.ca/wiki/Dial-up_pool</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150873</guid>
            <pubDate>Tue, 16 Feb 2021 04:16:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All about thread-local storage]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26150522">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://maskray.me/blog/2021-02-14-all-about-thread-local-storage | <a href="https://web.archive.org/web/*/https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>Thread-local storage (TLS) provides a mechanism allocating distinct objects for different threads. It is the usual implementation for GCC extension <code>__thread</code>, C11 <code>_Thread_local</code>, and C++11 <code>thread_local</code>, which allow the use of the declared name to refer to the entity associated with the current thread. This article will describe thread-local storage on ELF platforms in detail, and touch on other related topics, such as: thread-specific data keys and Windows/macOS TLS.</p>
<p>An example usage of thread-local storage is POSIX <code>errno</code>:</p>
<blockquote>
<p>Each thread has its own thread ID, scheduling priority and policy, errno value, floating point environment, thread-specific key/value bindings, and the required system resources to support a flow of control.</p>
</blockquote>
<p>Different threads have different <code>errno</code> copies. <code>errno</code> is typically defined as a function which returns a thread-local variable.</p>
<p>For each architecture, the authoritative ELF ABI document is the processor supplement (psABI) to the System V ABI (generic ABI). These documents usually reference <em>The ELF Handling for Thread-Local Storage</em> by Ulrich Drepper. The document, however, mixes general specifications and glibc internals.</p>
<h2 id="representation">Representation</h2>
<h3 id="assembler-behavior">Assembler behavior</h3>
<p>The compiler usually defines thread-local variables in <code>.tdata</code> and <code>.tbss</code> sections (which have the section flag <code>SHF_TLS</code>). The symbols representing thread-local variables have type <code>STT_TLS</code> (representing thread-local storage entities). In GNU as syntax, you can give <code>a</code> the type <code>STT_TLS</code> with <code>.type a, @tls_object</code>. The <code>st_value</code> value of a TLS symbols is the offset relative to the defining section.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></pre></td><td><pre><span>.section .tbss,"awT",@nobits</span><br><span>.globl a, b</span><br><span>.type a, @tls_object</span><br><span>.type b, @tls_object</span><br><span>a:</span><br><span>  .zero 4</span><br><span>  .size a, .-a</span><br><span>b:</span><br><span>  .zero 4</span><br><span>  .size b, .-b</span><br></pre></td></tr></tbody></table></figure>
<p>In this example, <code>st_value(a)=0</code> while <code>st_value(b)=4</code>.</p>
<p>In Clang and GCC produced assembly, thread-local variables are annotated as <code>.type a, @object</code> (<code>STT_OBJECT</code>). When the assembler sees that such symbols are defined in <code>SHF_TLS</code> sections or referenced by TLS relocations, <code>STT_NOTYPE</code>/<code>STT_OBJECT</code> will be upgraded to <code>STT_TLS</code>.</p>
<p>GNU as supports an directive <code>.tls_common</code> which defines <code>STT_TLS SHN_COMMON</code> symbols. This is an obsecure feature. It is not clear whether GCC still has a code path which emits <code>.tls_common</code> directives. LLVM integrated assembler does not support <code>.tls_common</code>.</p>
<h3 id="linker-behavior">Linker behavior</h3>
<p>The linker combines <code>.tdata</code> input sections into a <code>.tdata</code> output section. <code>.tbss</code> input sections are combined into a <code>.tbss</code> output section. The two <code>SHF_TLS</code> output sections are placed into a <code>PT_TLS</code> program header.</p>
<ul>
<li><code>p_offset</code>: the file offset of the TLS initialization image</li>
<li><code>p_vaddr</code>: the virtual address of the TLS initialization image</li>
<li><code>p_filesz</code>: the size of the TLS initialization image</li>
<li><code>p_memsz</code>: the total size of the thread-local storage. The last <code>p_memsz-p_filesz</code> bytes will be zeroed by the dynamic loader.</li>
<li><code>p_align</code>: alignment</li>
</ul>
<p>The <code>PT_TLS</code> program header is contained in a <code>PT_LOAD</code> program header. Conceptually <code>PT_TLS</code> and <code>STT_TLS</code> symbols are like in a separate address space. The dynamic loader should copy the <code>[p_vaddr,p_vaddr+p_filesz)</code> of the TLS initialization image to the corresponding static TLS block.</p>
<p>In executable and shared object files, <code>st_value</code> normally holds a virtual address. For a <code>STT_TLS</code> symbol, <code>st_value</code> holds an offset relative to the virtual address of the <code>PT_TLS</code> program header. The first byte of <code>PT_TLS</code> is referenced by the TLS symbol with <code>st_value==0</code>.</p>
<p>GNU ld treats <code>STT_TLS SHN_COMMON</code> symbols as defined in <code>.tcommon</code> sections. Its internal linker script places such sections into the output section <code>.tdata</code>. LLD does not support <code>STT_TLS SHN_COMMON</code> symbols.</p>
<h3 id="dynamic-loader-behavior">Dynamic loader behavior</h3>
<p>The dynamic loader collects <code>PT_TLS</code> program headers from the main executable and immediately loaded shared objects (via transitive <code>DT_NEEDED</code>), and allocates static TLS blocks, one block for each <code>PT_TLS</code>. For each <code>PT_TLS</code>, the dynamic loader copies <code>p_filesz</code> bytes from the TLS initialization image to the TLS block and sets the trailing <code>p_memsz-p_filesz</code> bytes to zeroes.</p>
<p>For the static TLS block of the main executable, the module ID is one and the TP offset of a TLS symbol is a link-time constant. The linker and the dynamic loader share the same formula.</p>
<p>For a shared object loaded at program start, the offset from the thread pointer to its static TLS block is a fixed value at program start, albeit not a link-time constant. The offset can be referenced by a GOT dynamic relocation used by the initial-exec TLS model.</p>
<p><em>The ELF Handling for Thread-Local Storage</em> describes two TLS variants and specifies their data structures. However, only the TP offset of the static TLS block of the main executable is a hard requirement. Nevertheless, libc implementations usually place static TLS blocks together, and allocate a space for both the thread control block and the static TLS blocks.</p>
<p>For a new thread created by <code>pthread_create</code>, the static TLS blocks are usually allocated as part of the thread stack. Without a guard page between the largest address of the stack and the thread control block, this could be considered as vulnerable as stack overflow can overwrite the thread control block.</p>
<h2 id="models">Models</h2>
<h3 id="local-exec-tls-model-executable-non-preemptible">Local exec TLS model (executable &amp; non-preemptible)</h3>
<p>This is the most efficient TLS model. It applies when the TLS symbol is defined in the executable.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is</p>
<ul>
<li>a definition</li>
<li>or a declaration with a non-default visibility.</li>
</ul>
<p>The first condition is obvious. The second condition is becuase a non-default visibility means the variable must be defined by another translation unit in the executable.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span>_Thread_local <span>int</span> def;</span><br><span>__attribute__((visibility(<span>"hidden"</span>))) <span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> def + ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span># x86-64</span><br><span>movl %fs:def@TPOFF, %eax</span><br></pre></td></tr></tbody></table></figure>
<p>For the static TLS block of the main executable, the TP offset of a TLS symbol is a link-time constant. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_LE32</code></li>
<li>aarch64:
<ul>
<li>-mtls-size=12: <code>R_AARCH64_TLSLE_ADD_TPREL_LO12</code></li>
<li>-mtls-size=24 (default): <code>R_AARCH64_TLSLE_ADD_TPREL_HI12</code>, <code>R_AARCH64_TLSLE_ADD_TPREL_LO12_NC</code></li>
<li>-mtls-size=32: <code>R_AARCH64_TLSLE_MOVW_TPREL_G1</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
<li>-mtls-size=48: <code>R_AARCH64_TLSLE_MOVW_TPREL_G2</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G1_NC</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
</ul></li>
<li>i386: <code>R_386_TLS_LE</code></li>
<li>x86-64: <code>R_X86_64_TPOFF32</code></li>
<li>mips: <code>R_MIPS_TPREL_HI16</code>, <code>R_MIPS_TPREL_LO16</code></li>
<li>ppc32: <code>R_PPC_TPREL_HA</code>, <code>R_PPC_TPREL_LO</code></li>
<li>ppc64: <code>R_PPC64_TPREL_HA</code>, <code>R_PPC64_TPREL_LO</code></li>
<li>riscv: <code>R_RISCV_TPREL_HI20</code>, <code>R_RISCV_TPREL_LO12_I</code>, <code>R_RISCV_TPREL_LO12_S</code></li>
</ul>
<p>For RISC architectures, because an instruction typically has 4 bytes and cannot encode a 32-bit offset, it usually takes two instructions to materialize a TP offset.</p>
<p>In <a target="_blank" rel="noopener" href="https://reviews.llvm.org/D93331">https://reviews.llvm.org/D93331</a>, I patched LLD to reject local-exec TLS relocations in <code>-shared</code> mode. In GNU ld, at least arm, riscv and x86's ports have the similar diagnostics, but aarch64 and ppc64 do not error.</p>
<h3 id="initial-exec-tls-model-executable-preemptible">Initial exec TLS model (executable &amp; preemptible)</h3>
<p>This model is less efficient than local exec. It applies when the TLS symbol is defined in the executable or a shared object available at program start. The shared object can be due to <code>DT_NEEDED</code> or <code>LD_PRELOAD</code>.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is a declaration with default visibility. The idea is that a symbol referenced by the executable must be defined by an immediately loaded shared object, instead of a dlopen loaded shared object. The linker enforces this as well by defaulting to <code>-z defs</code> for a <code>-no-pie/-pie</code> link.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span><span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span># x86-64</span><br><span>movq ref@GOTTPOFF(%rip), %rax</span><br><span>movl %fs:(%rax), %eax</span><br></pre></td></tr></tbody></table></figure>
<p>Because the offset from the thread pointer to the start of a static block is fixed at program start, such an offset can be encoded by a GOT relocation. Such relocation types typically have <code>GOT</code> and <code>TPREL/TPOFF</code> in their names. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_IE32</code></li>
<li>aarch64: <code>R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21</code>, <code>R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC</code></li>
<li>i386: <code>R_386_TLS_IE</code></li>
<li>x86-64: <code>R_X86_64_GOTTPOFF</code></li>
<li>ppc32: <code>R_PPC_GOT_TPREL16</code></li>
<li>ppc64: <code>R_PPC64_GOT_TPREL16_HA</code>, <code>R_PPC64_GOT_TPREL16_LO_DS</code></li>
<li>riscv: <code>R_RISCV_TLS_GOT_HI20</code>, <code>R_RISCV_PCREL_LO12_I</code></li>
</ul>
<p>If the TLS symbol does not satisfy initial-exec to local-exec relaxation requirements, the linker will allocate a GOT entry and emit a dynamic relocation. Here is a list of dynamic relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_TPOFF32</code></li>
<li>aarch64: <code>R_AARCH64_TLS_TPREL64</code></li>
<li>mips32: <code>R_MIPS_TLS_TPREL32</code></li>
<li>mips64: <code>R_MIPS_TLS_TPREL64</code></li>
<li>i386: <code>R_386_TPOFF</code></li>
<li>x86-64: <code>R_X86_64_TPOFF64</code></li>
<li>ppc32: <code>R_PPC_TPREL32</code></li>
<li>ppc64: <code>R_PPC64_TPREL64</code></li>
<li>riscv: <code>R_RISCV_TLS_TPREL64</code></li>
</ul>
<p>While they have <code>TPREL</code> or <code>TPOFF</code> in their names, these dynamic relocations have the same bitwidth as the word size. This is a good way to distinguish them from the local-exec relocation types used in object files.</p>
<p>If you add the <code>__attribute((tls_model("initial-exec")))</code> attribute, a thread-local variable can use this model in <code>-fpic</code> mode. If the object file is linked into an executable, everything is fine. If the object file is linked into a shared object, the shared object generally needs to be an immediately loaded shared object. The linker sets the <code>DF_STATIC_TLS</code> flag to annotate a shared object with initial-exec TLS relocations.</p>
<p>glibc ld.so reserves some space in static TLS blocks and allows dlopen on such a shared object if its TLS size is small. There could be an obscure reason for using such an attribute: general dynamic and local dynamic TLS models are not async-signal-safe in glibc. However, other libc implementations may not reserve additional TLS space for dlopen'ed initial-exec shared objects, e.g. musl will error.</p>
<h3 id="general-dynamic-and-local-dynamic-tls-models-dso">General dynamic and local dynamic TLS models (DSO)</h3>
<p>The two modes are used when the TLS symbol may be defined by a shared object. They do not assume the TLS symbol is backed by a static TLS block. Instead, they assume that the thread-local storage of the module may be dynamically allocated, making the models suitable for dlopen usage. The dynamically allocated TLS storage is usually referred to as dynamic TLS.</p>
<p>Each TLS symbol is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</a></em></p>]]>
            </description>
            <link>https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150522</guid>
            <pubDate>Tue, 16 Feb 2021 03:17:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All about thread-local storage]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26150512">thread link</a>) | @MaskRay
<br/>
February 15, 2021 | https://maskray.me/blog/2021-02-14-all-about-thread-local-storage | <a href="https://web.archive.org/web/*/https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>Thread-local storage (TLS) provides a mechanism allocating distinct objects for different threads. It is the usual implementation for GCC extension <code>__thread</code>, C11 <code>_Thread_local</code>, and C++11 <code>thread_local</code>, which allow the use of the declared name to refer to the entity associated with the current thread. This article will describe thread-local storage on ELF platforms in detail, and touch on other related topics, such as: thread-specific data keys and Windows/macOS TLS.</p>
<p>An example usage of thread-local storage is POSIX <code>errno</code>:</p>
<blockquote>
<p>Each thread has its own thread ID, scheduling priority and policy, errno value, floating point environment, thread-specific key/value bindings, and the required system resources to support a flow of control.</p>
</blockquote>
<p>Different threads have different <code>errno</code> copies. <code>errno</code> is typically defined as a function which returns a thread-local variable.</p>
<p>For each architecture, the authoritative ELF ABI document is the processor supplement (psABI) to the System V ABI (generic ABI). These documents usually reference <em>The ELF Handling for Thread-Local Storage</em> by Ulrich Drepper. The document, however, mixes general specifications and glibc internals.</p>
<h2 id="representation">Representation</h2>
<h3 id="assembler-behavior">Assembler behavior</h3>
<p>The compiler usually defines thread-local variables in <code>.tdata</code> and <code>.tbss</code> sections (which have the section flag <code>SHF_TLS</code>). The symbols representing thread-local variables have type <code>STT_TLS</code> (representing thread-local storage entities). In GNU as syntax, you can give <code>a</code> the type <code>STT_TLS</code> with <code>.type a, @tls_object</code>. The <code>st_value</code> value of a TLS symbols is the offset relative to the defining section.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></pre></td><td><pre><span>.section .tbss,"awT",@nobits</span><br><span>.globl a, b</span><br><span>.type a, @tls_object</span><br><span>.type b, @tls_object</span><br><span>a:</span><br><span>  .zero 4</span><br><span>  .size a, .-a</span><br><span>b:</span><br><span>  .zero 4</span><br><span>  .size b, .-b</span><br></pre></td></tr></tbody></table></figure>
<p>In this example, <code>st_value(a)=0</code> while <code>st_value(b)=4</code>.</p>
<p>In Clang and GCC produced assembly, thread-local variables are annotated as <code>.type a, @object</code> (<code>STT_OBJECT</code>). When the assembler sees that such symbols are defined in <code>SHF_TLS</code> sections or referenced by TLS relocations, <code>STT_NOTYPE</code>/<code>STT_OBJECT</code> will be upgraded to <code>STT_TLS</code>.</p>
<p>GNU as supports an directive <code>.tls_common</code> which defines <code>STT_TLS SHN_COMMON</code> symbols. This is an obsecure feature. It is not clear whether GCC still has a code path which emits <code>.tls_common</code> directives. LLVM integrated assembler does not support <code>.tls_common</code>.</p>
<h3 id="linker-behavior">Linker behavior</h3>
<p>The linker combines <code>.tdata</code> input sections into a <code>.tdata</code> output section. <code>.tbss</code> input sections are combined into a <code>.tbss</code> output section. The two <code>SHF_TLS</code> output sections are placed into a <code>PT_TLS</code> program header.</p>
<ul>
<li><code>p_offset</code>: the file offset of the TLS initialization image</li>
<li><code>p_vaddr</code>: the virtual address of the TLS initialization image</li>
<li><code>p_filesz</code>: the size of the TLS initialization image</li>
<li><code>p_memsz</code>: the total size of the thread-local storage. The last <code>p_memsz-p_filesz</code> bytes will be zeroed by the dynamic loader.</li>
<li><code>p_align</code>: alignment</li>
</ul>
<p>The <code>PT_TLS</code> program header is contained in a <code>PT_LOAD</code> program header. Conceptually <code>PT_TLS</code> and <code>STT_TLS</code> symbols are like in a separate address space. The dynamic loader should copy the <code>[p_vaddr,p_vaddr+p_filesz)</code> of the TLS initialization image to the corresponding static TLS block.</p>
<p>In executable and shared object files, <code>st_value</code> normally holds a virtual address. For a <code>STT_TLS</code> symbol, <code>st_value</code> holds an offset relative to the virtual address of the <code>PT_TLS</code> program header. The first byte of <code>PT_TLS</code> is referenced by the TLS symbol with <code>st_value==0</code>.</p>
<p>GNU ld treats <code>STT_TLS SHN_COMMON</code> symbols as defined in <code>.tcommon</code> sections. Its internal linker script places such sections into the output section <code>.tdata</code>. LLD does not support <code>STT_TLS SHN_COMMON</code> symbols.</p>
<h3 id="dynamic-loader-behavior">Dynamic loader behavior</h3>
<p>The dynamic loader collects <code>PT_TLS</code> program headers from the main executable and immediately loaded shared objects (via transitive <code>DT_NEEDED</code>), and allocates static TLS blocks, one block for each <code>PT_TLS</code>. For each <code>PT_TLS</code>, the dynamic loader copies <code>p_filesz</code> bytes from the TLS initialization image to the TLS block and sets the trailing <code>p_memsz-p_filesz</code> bytes to zeroes.</p>
<p>For the static TLS block of the main executable, the module ID is one and the TP offset of a TLS symbol is a link-time constant. The linker and the dynamic loader share the same formula.</p>
<p>For a shared object loaded at program start, the offset from the thread pointer to its static TLS block is a fixed value at program start, albeit not a link-time constant. The offset can be referenced by a GOT dynamic relocation used by the initial-exec TLS model.</p>
<p><em>The ELF Handling for Thread-Local Storage</em> describes two TLS variants and specifies their data structures. However, only the TP offset of the static TLS block of the main executable is a hard requirement. Nevertheless, libc implementations usually place static TLS blocks together, and allocate a space for both the thread control block and the static TLS blocks.</p>
<p>For a new thread created by <code>pthread_create</code>, the static TLS blocks are usually allocated as part of the thread stack. Without a guard page between the largest address of the stack and the thread control block, this could be considered as vulnerable as stack overflow can overwrite the thread control block.</p>
<h2 id="models">Models</h2>
<h3 id="local-exec-tls-model-executable-non-preemptible">Local exec TLS model (executable &amp; non-preemptible)</h3>
<p>This is the most efficient TLS model. It applies when the TLS symbol is defined in the executable.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is</p>
<ul>
<li>a definition</li>
<li>or a declaration with a non-default visibility.</li>
</ul>
<p>The first condition is obvious. The second condition is becuase a non-default visibility means the variable must be defined by another translation unit in the executable.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span>_Thread_local <span>int</span> def;</span><br><span>__attribute__((visibility(<span>"hidden"</span>))) <span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> def + ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span># x86-64</span><br><span>movl %fs:def@TPOFF, %eax</span><br></pre></td></tr></tbody></table></figure>
<p>For the static TLS block of the main executable, the TP offset of a TLS symbol is a link-time constant. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_LE32</code></li>
<li>aarch64:
<ul>
<li>-mtls-size=12: <code>R_AARCH64_TLSLE_ADD_TPREL_LO12</code></li>
<li>-mtls-size=24 (default): <code>R_AARCH64_TLSLE_ADD_TPREL_HI12</code>, <code>R_AARCH64_TLSLE_ADD_TPREL_LO12_NC</code></li>
<li>-mtls-size=32: <code>R_AARCH64_TLSLE_MOVW_TPREL_G1</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
<li>-mtls-size=48: <code>R_AARCH64_TLSLE_MOVW_TPREL_G2</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G1_NC</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
</ul></li>
<li>i386: <code>R_386_TLS_LE</code></li>
<li>x86-64: <code>R_X86_64_TPOFF32</code></li>
<li>mips: <code>R_MIPS_TPREL_HI16</code>, <code>R_MIPS_TPREL_LO16</code></li>
<li>ppc32: <code>R_PPC_TPREL_HA</code>, <code>R_PPC_TPREL_LO</code></li>
<li>ppc64: <code>R_PPC64_TPREL_HA</code>, <code>R_PPC64_TPREL_LO</code></li>
<li>riscv: <code>R_RISCV_TPREL_HI20</code>, <code>R_RISCV_TPREL_LO12_I</code>, <code>R_RISCV_TPREL_LO12_S</code></li>
</ul>
<p>For RISC architectures, because an instruction typically has 4 bytes and cannot encode a 32-bit offset, it usually takes two instructions to materialize a TP offset.</p>
<p>In <a target="_blank" rel="noopener" href="https://reviews.llvm.org/D93331">https://reviews.llvm.org/D93331</a>, I patched LLD to reject local-exec TLS relocations in <code>-shared</code> mode. In GNU ld, at least arm, riscv and x86's ports have the similar diagnostics, but aarch64 and ppc64 do not error.</p>
<h3 id="initial-exec-tls-model-executable-preemptible">Initial exec TLS model (executable &amp; preemptible)</h3>
<p>This model is less efficient than local exec. It applies when the TLS symbol is defined in the executable or a shared object available at program start. The shared object can be due to <code>DT_NEEDED</code> or <code>LD_PRELOAD</code>.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is a declaration with default visibility. The idea is that a symbol referenced by the executable must be defined by an immediately loaded shared object, instead of a dlopen loaded shared object. The linker enforces this as well by defaulting to <code>-z defs</code> for a <code>-no-pie/-pie</code> link.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span><span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span># x86-64</span><br><span>movq ref@GOTTPOFF(%rip), %rax</span><br><span>movl %fs:(%rax), %eax</span><br></pre></td></tr></tbody></table></figure>
<p>Because the offset from the thread pointer to the start of a static block is fixed at program start, such an offset can be encoded by a GOT relocation. Such relocation types typically have <code>GOT</code> and <code>TPREL/TPOFF</code> in their names. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_IE32</code></li>
<li>aarch64: <code>R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21</code>, <code>R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC</code></li>
<li>i386: <code>R_386_TLS_IE</code></li>
<li>x86-64: <code>R_X86_64_GOTTPOFF</code></li>
<li>ppc32: <code>R_PPC_GOT_TPREL16</code></li>
<li>ppc64: <code>R_PPC64_GOT_TPREL16_HA</code>, <code>R_PPC64_GOT_TPREL16_LO_DS</code></li>
<li>riscv: <code>R_RISCV_TLS_GOT_HI20</code>, <code>R_RISCV_PCREL_LO12_I</code></li>
</ul>
<p>If the TLS symbol does not satisfy initial-exec to local-exec relaxation requirements, the linker will allocate a GOT entry and emit a dynamic relocation. Here is a list of dynamic relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_TPOFF32</code></li>
<li>aarch64: <code>R_AARCH64_TLS_TPREL64</code></li>
<li>mips32: <code>R_MIPS_TLS_TPREL32</code></li>
<li>mips64: <code>R_MIPS_TLS_TPREL64</code></li>
<li>i386: <code>R_386_TPOFF</code></li>
<li>x86-64: <code>R_X86_64_TPOFF64</code></li>
<li>ppc32: <code>R_PPC_TPREL32</code></li>
<li>ppc64: <code>R_PPC64_TPREL64</code></li>
<li>riscv: <code>R_RISCV_TLS_TPREL64</code></li>
</ul>
<p>While they have <code>TPREL</code> or <code>TPOFF</code> in their names, these dynamic relocations have the same bitwidth as the word size. This is a good way to distinguish them from the local-exec relocation types used in object files.</p>
<p>If you add the <code>__attribute((tls_model("initial-exec")))</code> attribute, a thread-local variable can use this model in <code>-fpic</code> mode. If the object file is linked into an executable, everything is fine. If the object file is linked into a shared object, the shared object generally needs to be an immediately loaded shared object. The linker sets the <code>DF_STATIC_TLS</code> flag to annotate a shared object with initial-exec TLS relocations.</p>
<p>glibc ld.so reserves some space in static TLS blocks and allows dlopen on such a shared object if its TLS size is small. There could be an obscure reason for using such an attribute: general dynamic and local dynamic TLS models are not async-signal-safe in glibc. However, other libc implementations may not reserve additional TLS space for dlopen'ed initial-exec shared objects, e.g. musl will error.</p>
<h3 id="general-dynamic-and-local-dynamic-tls-models-dso">General dynamic and local dynamic TLS models (DSO)</h3>
<p>The two modes are used when the TLS symbol may be defined by a shared object. They do not assume the TLS symbol is backed by a static TLS block. Instead, they assume that the thread-local storage of the module may be dynamically allocated, making the models suitable for dlopen usage. The dynamically allocated TLS storage is usually referred to as dynamic TLS.</p>
<p>Each TLS symbol is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</a></em></p>]]>
            </description>
            <link>https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150512</guid>
            <pubDate>Tue, 16 Feb 2021 03:14:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Bring a Language to the Future]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26149706">thread link</a>) | @abawany
<br/>
February 15, 2021 | https://restofworld.org/2021/bringing-urdu-into-the-digital-age | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/bringing-urdu-into-the-digital-age">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>B</span>y the time Mudassir Azeemi wrote to Apple CEO Tim Cook in 2014, he‚Äôd tried everything he<em> </em>could think of to make it easier to type in his native language, Urdu. In 2010, the now 42-year-old Pakistani-American developed a keyboard app you could use on iOS devices; within two years, it had been downloaded over 165,000 times. But even with an Urdu-language keyboard, the characters appeared on the screen in an entirely different font.</p>



<p>‚ÄúDear Mr Tim Cook,‚Äù he wrote. ‚ÄúUrdu language‚Äôs beauty lies in the typeface.‚Äù</p>



<p>Spoken by nearly 170 million people in South Asia and the South Asian diaspora, Urdu is written in an alphabet derived from Arabic. But while Arabic is written in a script called <em>naskh</em>, simpler and more linear in its appearance, many other people ‚Äî including Iranians, Afghans, Pakistanis, Urdu-speakers in India, and Uighur-speakers in parts of China ‚Äî employ an ornate style of writing that originated in 14th-century Persia called <em>nasta ølƒ´q</em>. When Azeemi sat down to write his letter to Cook, nasta ølƒ´q was almost nowhere to be found online. To communicate in Urdu, you either had to type in naskh or spell words phonetically in Latin script.</p>



<p>Azeemi, a software developer now working and living in Silicon Valley, grew up in Pakistan‚Äôs sprawling seaside city, Karachi. As a teenager during the days of dial-up, he once racked up an internet bill that cost half of his father‚Äôs monthly salary; in his early 20s, he learned to code on one of those old calculator-sized computers called palmtops. He didn‚Äôt give much thought to Urdu‚Äôs digital future until he moved to California and became a father. Watching his children learn English through songs on YouTube, he‚Äôd felt a pang of loss ‚Äî the anxiety that they might never speak or appreciate Urdu the way he does. One of the earliest apps Azeemi developed, even before the keyboard, was for nursery rhymes in Urdu.</p>



<p>These early attempts at yanking Urdu on to the internet hadn‚Äôt been particularly profitable ‚Äî Azeemi says he lost over $50,000 in the process. He remained determined. In 2013, Apple introduced an Urdu keyboard for iOS devices, but, much to the chagrin of Urdu users, the default font was still naskh, the Arabic font. In Azeemi‚Äôs eyes, the solution was now pretty straightforward: operating systems ‚Äî Apple, Google, Microsoft, and others ‚Äî had to be persuaded to adopt nasta ølƒ´q.&nbsp;</p>



<p>His open letter, addressed to Cook and Apple‚Äôs chief design officer at the time, Jonathan Ive, described the need for a nasta ølƒ´q font on iOS platforms. ‚ÄúThe only hurdle for us is to bring the typeface that truly represent[s] the language,‚Äù wrote Azeemi. ‚ÄúAnd every language, when it is written, shines when using the typeface which it truly presented in the world.‚Äù&nbsp;</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/GettyImages-1063733610-1-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/GettyImages-1063733610-1-2800x1866.jpg 2800w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="A traditional calligrapher writes in Urdu at a market in India.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder">Stuart Freedman/InPictures/Getty Images</span>
			</figcaption>
		</figure>


<hr>



<p>When Urdu calligraphers speak of nasta ølƒ´q, it is with deep reverence. In the subcontinent, it was the script that disseminated the Quran, considered the word of God. Mir Ali of Tabriz, a 14th-century Persian calligrapher known as the father of the script, is said to have developed it after a dream in which Ali, son-in-law of the Prophet Muhammad, instructed him to draw letters that looked like ‚Äúthe wings of flying geese.‚Äù Squint at an Urdu verse in nasta ølƒ´q, and it might very well begin to resemble a flock of birds taking flight, or a branch in bloom. Nasta ølƒ´q characters, <a href="https://archive.org/stream/fromconcepttocon00fush/fromconcepttocon00fush_djvu.txt">per one observation</a>, appear to ‚Äúswing from the upper right to the lower left of each word as if suspended by an imaginary line.‚Äù</p>



<p>In some ways, this emphasis on the <em>form</em> of writing a language runs contrary to conventional wisdom. We tend to think of text as a means to an end, that the characters depicted are there only to convey meaning. If you could write the same Urdu word in the Arabic naskh script, even if it looked a little different ‚Äî naskh is smaller, simpler, and sans serif ‚Äî wasn‚Äôt the demand for digitized nasta ølƒ´q just a minor typographical quibble?&nbsp;</p>



<p>Nasta ølƒ´q, after all, is a nightmare to code. It moves right to left, like all Arabic scripts, but also slopes downward: the longer the word, the steeper the slope. The shape of each letter changes, depending on the letter that comes before and after; in a 39-letter alphabet, there are thousands of permutations. Its multifaceted nature is precisely why coders haven‚Äôt developed nasta ølƒ´q fonts as easily as, say, Cyrillic.</p>



<figure><blockquote><p>We tend to think of text as a means to an end, that the characters depicted are there only to convey meaning.</p></blockquote></figure>



<p>It didn‚Äôt have to be this way. As early as 1951, just four years after wresting off British rule, Pakistan ‚Äî where Urdu is both the official language and played a key role in the movement for independence ‚Äî set up a national printing press that could compose in both English and Urdu, a substantial investment for the young, cash-strapped country and an indication, perhaps, of Urdu‚Äôs importance for its nation-building project. But even though Monotype and Linotype, the predominant printing technology firms of the time, kept developing typefaces for the Urdu market, local publishers kept rejecting them because they just didn‚Äôt match up to the local nasta ølƒ´q aesthetic.&nbsp;</p>



<p>Part of the reason nasta ølƒ´q ran into trouble was because the technology at the time ‚Äî specifically the typewriter ‚Äî was built with English in mind. Subsequently, as historian Thomas S. Mullaney notes in his book, ‚ÄúThe Chinese Typewriter,‚Äù all other languages are seen as permutations from that norm. Hebrew is English but backward. Arabic is English backward and in cursive. Russian: English with different letters. Siamese: English with too many letters. Perhaps the only major language to escape the thumb of Latin hegemony was Chinese, a script that is neither alphabetic nor syllabic, and thus <a href="https://www.wnycstudios.org/podcasts/radiolab/articles/wubi-effect">had to be imagined entirely outside the box of existing technology</a>. But nasta ølƒ´q, presumably not quite significant enough to send typographers back to the drawing board, remained stalled until the 1970s, its mechanical rendering nowhere close to the sweep and flourish of the handwritten script.</p>



<p>In modern-day Iran, where nasta ølƒ´q originated, the font changed to meet the limitations of the existing technology. Over the years, Farsi slowly developed a typographical identity that worked within the constraints of the block printing press but was stylistically different enough from the Arabic naskh to feel sufficiently ‚ÄúPersian.‚Äù If you pick up a newspaper in Tehran today, it looks significantly different from a paper in Karachi.&nbsp;</p>



<p>Why didn‚Äôt Urdu, and Pakistan, go down a similar typographical route as Farsi did in Iran? Stubborn fidelity to nasta ølƒ´q aside, one reason may be the ways in which Urdu differed from other nasta ølƒ´q-favoring languages. One letter, ‚Äúthe <em>ba·πõƒ´ ye</em> (€í), is particularly influential on the look of written Urdu,‚Äù writes typographer and historian Titus Nemeth in ‚ÄúArabic Type-Making in the Machine Age‚Äù (2017), ‚Äúand its typographic rendering is among the most challenging design questions in an Arabic font.‚Äù</p>



<p>The ba·πõƒ´ ye, which resembles a bent elbow, produces all sorts of mechanical obstacles with regard to kerning and the placement of dots and diacritics. Ba·πõƒ´ ye and letters like it posed a problem that seemed so insurmountable, in fact, that, in the 1960s ‚Äî mimicking Mustafa Kemal Atat√ºrk‚Äôs <a href="https://www.pri.org/stories/2013-06-25/some-turks-reconsidering-arabic-connection-turkish-language">mission to convert Turkish script into a Latin alphabet</a> ‚Äî Pakistan‚Äôs military ruler Ayub Khan proposed officially writing Urdu in Latin letters. He was met with near-instant pushback: the nasta ølƒ´q script, protested local religious leaders, was an essential marker of Pakistan‚Äôs Islamic identity. Without meaningful progress in the printing process, Urdu publications in Pakistan, including dailies, continued to be written by hand well into the 1980s, armies of calligraphers scribbling furiously day and night.</p>



<hr>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-40x23.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoWURDU-031-400x225.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-600x338.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-1000x563.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-1600x900.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/RoWURDU-031-2800x1576.jpg 2800w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p><strong>Ahmed Mirza Jamil,</strong> owner of a printing business in Karachi, inherited his love for nasta ølƒ´q from his father, who, in his later life, took up the daunting task of writing the Quran in his own hand. He‚Äôd completed only a third of the holy book before he fell ill and died, but his sons vowed to finish his cherished project. They photographed their father‚Äôs nine handwritten chapters, then cut and pasted his letter formations to piece together ‚Äî like a jigsaw puzzle ‚Äî the remaining two-thirds of the Quran. It was a staggeringly elaborate labor of love that took 14 years to complete. And it sowed the seeds for a long-awaited breakthrough in Urdu typesetting.</p>



<p>In 1980, Mirza Jamil wrote out every combination of Urdu letters that he could think of ‚Äî roughly 20,000 by most accounts. These combinations, known as ligatures, became the basis of a new Urdu typeface: Noori Nastaliq, a font Jamil named after his father. It solved the difficulty posed by the shape-shifting nature of nasta ølƒ´q: instead of representing letters, it represented entire <em>combinations</em> of letters written together. The 20,000 ligatures were by no means exhaustive, but the chances of any other combination cropping up, Mirza Jamil reckoned, were negligible. He‚Äôd been inspired to address Urdu typographical troubles after encountering a Chinese keyboard, a 48-inch contraption with up to 500 characters, on a trip to Singapore.&nbsp;</p>



<p>‚ÄúI thought, if the Chinese could do it,‚Äù he told a journalist in 1996, ‚Äúso could we.‚Äù&nbsp;</p>



<p>With the advent of Noori Nastaliq, Mirza Jamil was hailed as Pakistan‚Äôs Gutenburg and bestowed with state honors. Urdu‚Äôs path to progress, <a href="http://elite.com.pk/epl/portfolio/noori-nastaliq/revolution/">one writer wrote</a>, ‚Äúwill be lit with the candle of Noori Nastaliq.‚Äù Still, adoption was tentative: for a while, according to the historian Nemeth, the country‚Äôs largest national newspaper, <em>Daily Jang,</em> carried typographically composed text alongside columns that were still handwritten, hoping to convince the nasta ølƒ´q purists that their beloved font could be printed too.&nbsp;</p>



<p>For decades, Noori Nastaliq remained the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/bringing-urdu-into-the-digital-age">https://restofworld.org/2021/bringing-urdu-into-the-digital-age</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/bringing-urdu-into-the-digital-age</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149706</guid>
            <pubDate>Tue, 16 Feb 2021 00:50:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US Presidential Election $25k Database Bounty Review]]>
            </title>
            <description>
<![CDATA[
Score 139 | Comments 31 (<a href="https://news.ycombinator.com/item?id=26149511">thread link</a>) | @mjangle1985
<br/>
February 15, 2021 | https://www.dolthub.com/blog/2021-02-15-election-bounty-review/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2021-02-15-election-bounty-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.dolthub.com/blog/2021-02-15-election-bounty-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149511</guid>
            <pubDate>Tue, 16 Feb 2021 00:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Rich Terminal Dashboards]]>
            </title>
            <description>
<![CDATA[
Score 332 | Comments 71 (<a href="https://news.ycombinator.com/item?id=26149488">thread link</a>) | @lumpa
<br/>
February 15, 2021 | https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/ | <a href="https://web.archive.org/web/*/https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    
<p><a href="https://github.com/willmcgugan/rich">Rich</a> has become a popular (20K stars on GH) way of beautifying CLIs, and I'm pleased to see a number of projects using it.</p>
<p>Since Rich is mature and battle-tested now, I had considered winding-down development. Until, I saw this tweet:</p>
<h2>The Tweet</h2>
<blockquote><div lang="en" dir="ltr"><p>Do you want to see something really cool you can do with <a href="https://twitter.com/willmcgugan?ref_src=twsrc%5Etfw">@willmcgugan</a> 's rich library? </p><p>Checkout ghtop <a href="https://t.co/mn7oLbpw8e">https://t.co/mn7oLbpw8e</a>. It's a really fun CLI tool that demonstrates the power of rich (and other things).</p><p>Examples below üßµüëá (1/8)</p></div>‚Äî Hamel Husain (@HamelHusain) <a href="https://twitter.com/HamelHusain/status/1357771218095546368?ref_src=twsrc%5Etfw">February 5, 2021</a></blockquote> 
<p><a href="https://twitter.com/HamelHusain">@HamelHusain</a> and <a href="https://twitter.com/jeremyphoward">@jeremyphoward</a> used Rich to enhance <a href="https://github.com/nat/ghtop">ghtop</a> (a repo owned by the CEO of Github, no less). Ghtop shows a realtime a stream of events from the Github platform. And it looks good! So good that I realised how much potential Rich has for these type of htop-like applications.</p>
<p>Hamel and Jeremy had to overcome a few technical hurdles to make that work. Fortunately this will no longer be required as the latest version of Rich has first-class support for full-screen interfaces via a new Layout system.</p>
<h2>Full-screen terminal interface</h2>
<p>Here's a video demonstration of a terminal interface built with Layout:</p>
<p>
<iframe width="auto" src="https://www.youtube.com/embed/slrdSojCvlk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<h2>Layout API</h2>
<p>The API to create a flexible layout is surprisingly simple. You construct a <code>Layout()</code> object, then call <code>split()</code> to create sub-layouts. These sub-layouts may then be further divided. Layouts have a small number of settings which define their size relative to the terminal window. It's a simple system that can create terminal interfaces that almost resemble modern web apps.</p>
<div><figure> <img width="1140" height="724" title="layout_vscode.png" name="layout_vscode" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="2100" data-width="3308" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout_vscode" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>A Rich layout in VSCode</p>


</figcaption>

</figure>
</div>
<h2>Finally, some code</h2>
<p>Here's how you would create a basic layout with a header, a footer, and two side-panels.</p>
<pre><code>from rich.console import Console
from rich.layout import Layout

console = Console()
layout = Layout()

# Divide the "screen" in to three parts
layout.split(
    Layout(name="header", size=3),
    Layout(ratio=1, name="main"),
    Layout(size=10, name="footer"),
)
# Divide the "main" layout in to "side" and "body"
layout["main"].split(
    Layout(name="side"),
    Layout(name="body", ratio=2),
    direction="horizontal"
)
# Divide the "side" layout in to two
layout["side"].split(Layout(), Layout())

console.print(layout)
</code></pre>
<p>Running the code above produces the following output:</p>
<div><figure> <img width="1140" height="739" title="layout.png" name="layout" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="1464" data-width="2258" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>Terminal split in to 5 sub-layouts. The boxes are placeholders, you can insert any content in their place.</p>


</figcaption>

</figure>
</div>
<p>Any renderable (text, table, progress bars etc) may be placed inside those sub-layouts.</p>
<p>We can now use the <a href="https://rich.readthedocs.io/en/latest/live.html">Live</a> class to create an application that adapts itself to the terminal window:</p>
<pre><code>from rich.live import Live
from time import sleep

with Live(layout, screen=True):
    while True:
        sleep(1)
</code></pre>
<p>In a real app, that do-nothing loop will be doing something useful like pulling data from the network to update contents.</p>
<p>See the <a href="https://rich.readthedocs.io/en/latest/layout.html">layout docs</a> for an in-depth tutorial.</p>
<h2>What's next?</h2>
<p>I think it's clear that Rich is acquiring more TUI (text user interface) features, and I've decided not to fight it. Rich's core purpose is still to beautify CLI output, but I think there is an opportunity here for a new way to create terminal apps. Ultimately it will be less like curses and more like HTML in a browser.</p>
<p>There are a number of things to do before Rich could replace a full TUI library (keyboard and mouse input for one) but the potential is there. Stay tuned for progress.</p>
<p>Follow <a href="https://twitter.com/willmcgugan">@willmcgugan</a> for more Rich related news.</p>



</article></div>]]>
            </description>
            <link>https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149488</guid>
            <pubDate>Tue, 16 Feb 2021 00:16:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Performance Optimization Contest]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26149436">thread link</a>) | @robfig
<br/>
February 15, 2021 | https://easyperf.net/blog/2019/02/02/Performance-optimization-contest | <a href="https://web.archive.org/web/*/https://easyperf.net/blog/2019/02/02/Performance-optimization-contest">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><strong>Contents:</strong></p>
<ul id="markdown-toc">
  <li><a href="#about-this-contest" id="markdown-toc-about-this-contest">About this contest</a></li>
  <li><a href="#qa" id="markdown-toc-qa">Q&amp;A</a>    <ul>
      <li><a href="#q0-why-the-hell-on-earth-i-should-participate-in-this-contest" id="markdown-toc-q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></a></li>
      <li><a href="#q1-what-benchmarks-are-taken-into-the-contest" id="markdown-toc-q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></a></li>
      <li><a href="#q2-what-is-the-machineenvironment-we-will-be-optimizing-for" id="markdown-toc-q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></a></li>
      <li><a href="#q3-what-if-i-dont-have-the-environment-you-are-using" id="markdown-toc-q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></a></li>
      <li><a href="#q4-how-i-should-find-performance-headrooms" id="markdown-toc-q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></a></li>
      <li><a href="#q5-what-optimizations-are-allowed" id="markdown-toc-q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></a></li>
      <li><a href="#q6-whats-not-allowed" id="markdown-toc-q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></a></li>
      <li><a href="#q7-how-should-the-submission-look-like" id="markdown-toc-q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></a></li>
      <li><a href="#q8-how-i-will-test-your-solutions" id="markdown-toc-q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></a></li>
      <li><a href="#q9-how-i-will-select-the-winner" id="markdown-toc-q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></a></li>
    </ul>
  </li>
  <li><a href="#how-to-get-started" id="markdown-toc-how-to-get-started">How to get started?</a></li>
  <li><a href="#hints" id="markdown-toc-hints">Hints</a></li>
  <li><a href="#list-of-contest-editions" id="markdown-toc-list-of-contest-editions">List of contest editions</a></li>
</ul>

<hr>
<p><strong>Subscribe to my <a href="https://mailchi.mp/4eb73720aafe/easyperf">mailing list</a>, support me on <a href="https://www.patreon.com/dendibakh">Patreon</a> or by PayPal <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=TBM3NW8TKTT34&amp;currency_code=USD&amp;source=url">donation</a>.</strong></p>

<hr>

<h3 id="about-this-contest">About this contest</h3>

<p>Hello everybody!</p>

<p>I decided to try new thing at the beginning of 2019. You probably heard about competitive programming and about popular web-sites like <a href="https://www.topcoder.com/">Topcoder</a>, <a href="https://www.codility.com/">Codility</a> and others. The idea is that you can try yourself in solving programming puzzles. Usually it‚Äôs not enough to just solve the puzzle, your solution must qualify for certain criterias such as algorithmic complexity and memory usage. Also on a real challenges it is improtant how fast you solved the problem.</p>

<p>Those sort of challenges usually test your problem solving skills as well as your knowledge of algorithms and data structures. It is a kind of tasks we usually see on programming job interviews. You need to write the code from scratch to a complete solution.</p>

<p>What I am starting is also a form of contest but aims at developing different set of skills. <strong>We will train to optimize already optimized code</strong>. We will learn hardware optimizations. This is briefly how it will look like: I will pick one existing benchmark of my choice and will send it to all my subscribers. You will have the time to play with the benchmark and find all performance headrooms you can find. You then send all your findings to me (modified sources/assemblies/compiler patches?/whatever speeds up the benchmark) and I check it and run on my hardware. At the end I will anounce the winners.</p>

<p>Before I explain it in more details I feel a need of writing disclaimer:</p>

<blockquote>
  <p><strong>Disclaimer</strong>: This is absolutely non-profit effort. I‚Äôm not looking for make any money from it or using someone‚Äôs knowledge in my own purposes. I will not use submissions to extract any intellectual property they might have. Also this is not aiming to advertise any particular software product including benchmarks/compilers. That‚Äôs why all the benchmarks and compilers I will use require to be open sourced. Neither it aims to advertise any particular HW.</p>
</blockquote>

<p>In this contest I try to emulate the situation in performance critical projects on the final stages. When all the functionality is delivered and tested. But before shipping the binary to the customers you were asked to tune the app to it‚Äôs peak performance. You know the hardware it will be deployed to. You have the sources in your hands and freedom to modify it (without introducing any bugs :) ). You are the build master, so you can add any compiler flags you want.</p>

<p>For the challenges that I will send I‚Äôm not looking for optimizations that fall into the category: ‚ÄúOh, I just used quicksort instead of bubblesort‚Äù. Expect the benchmark to be already optimized to some degree. Your task is to tune it for particular hardware to the peak performance.</p>

<h3 id="qa">Q&amp;A</h3>

<h4 id="q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></h4>

<p><strong>A0</strong>: You will learn/practice how to do optimizations for HW. This might include eliminating cache misses by inserting prefetch instructions, getting rid of <a href="https://easyperf.net/blog/2018/01/18/Code_alignment_issues">Code alignment issues</a>, improving performance by helping compiler to vectorize/unroll the loop better. You will learn different techniques as you go.</p>

<hr>
<h4 id="q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></h4>

<p><strong>A1</strong>: It will be open sourced benchmark written in C/C++. Usually several source files. It should be easy to build, require minimal dependencies. Preferably it should have some form of validation.</p>

<hr>
<h4 id="q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></h4>

<p><strong>A2</strong>: Most likely it will be 64 bit Linux with Intel x86 CPU (probably Haswell architecture). For a start I will not bother with disabling CPU <a href="https://en.wikipedia.org/wiki/Dynamic_frequency_scaling">dynamic frequency scaling</a> features or setting <a href="https://en.wikipedia.org/wiki/Processor_affinity">thread affinity</a>. I might do this in future.</p>

<hr>
<h4 id="q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></h4>

<p><strong>A3</strong>: It doesn‚Äôt matter much. If you don‚Äôt have Intel CPU or you are on Windows/Mac, just optimize for whatever you have. I would be happy to know about optimizations that help other CPUs, operating systems, etc.
<strong>I don‚Äôt have real prizes to give, so it‚Äôs mostly practicing and learning</strong>.</p>

<hr>
<h4 id="q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></h4>

<p><strong>A4</strong>: Use all of your knowledge. Start with profiling the benchmark. You can browse through posts on this blog. Additionally I will write a separate post that might help begginers.</p>

<hr>
<h4 id="q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></h4>

<p><strong>A5</strong>: Good news! <strong>All the dirty tricks allowed</strong>! The goal of this contest is to learn how to squeeze as much performance as possible from the hardware using any means available. You can modify sources and insert any compiler hints like pragmas, builtins, function attributes, etc. Also you can generate assembly listing (<code>-S</code> compiler option) and modify it. Finally, you can add some compiler option that might speed up the benchmark.</p>

<hr>
<h4 id="q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></h4>

<p><strong>A6</strong>: 1) Do not rewrite the benchmark completely or introduce major changes in algorithms. The good judging rule is ‚Äúeverything interesting should be calculated in runtime‚Äù.</p>

<p>2) Do not manually parallelize the benchmark, e.g converting it from single- to multi-threaded or offload computations to the GPU. I mean, I‚Äôm glad that you can do it and I will be happy to take a look what you did, but it‚Äôs not the intent of the contest.</p>

<p>3) Using <a href="https://en.wikipedia.org/wiki/Profile-guided_optimization">PGO</a> is allowed, however you can use it only for driving you optimizations, not for the submission. So, you can check how the benchmark gets better with PGO and understand why. And then make this optimization manually. Again, the purposes is practicing and learning.</p>

<hr>
<h4 id="q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></h4>

<p><strong>A7</strong>: 1) I will not accept binaries for security reasons.</p>

<p>2) You can send patch files that I can apply to the sources of the benchmark or just assembly listing. If you did multiple optimizations please split them in separate patches. <code>git format-patch</code> is the right tool for that. This will save me a lot of time.</p>

<p>3) If you send assembly listing files please do also include diff file from the baseline (what you changed in the assembly). If you provide modified assembly listings it should be genearted only with open-sourced C/C++ compilers like gcc and clang. You can of course cheat and generate assembly with some other compiler that is better for the benchmark, but I will probably easily detect that. And it‚Äôs not about tricking, it‚Äôs about learning.</p>

<p>4) Make sure you specify clearly the compiler options if they are different from the baseline.</p>

<p>5) If you are capable of hacking compiler that‚Äôs also acceptable. You can send me patches for gcc/llvm compilers which I can apply and use for building the benchmark. Please use the top of tree revisions because it will be easier for me to apply them. We can then use it for improving our open source compilers. Also it would be very nice if you can send me textual description of all the optimizations you made.</p>

<hr>
<h4 id="q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></h4>

<p><strong>A8</strong>: I will take your sources, build them on my machine and run the benchmark. I will run your binary multiple times (depends on the running time) and <a href="http://blog.kevmod.com/2016/06/benchmarking-minimum-vs-average/">take the minimum</a>. I‚Äôm thinking about testing all the solutions on some cloud machine, but that‚Äôs not settled yet.</p>

<hr>
<h4 id="q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></h4>

<p><strong>A9</strong>: I will calculate your score as a ratio between execution time of the binary with your optimizations and the baseline.</p>

<hr>
<p>I know there is a lot more concerns you might have. This is just a first attempt with focus on learning how to do HW optimizations. In the end I don‚Äôt have real prizes to give out. :) After each contest I will share all the findings people did, so there is a big opportunity to learn from others! I know that a number of really experienced guys read this blog, so I encourage everyone to participate. Everyone is welcome!</p>

<p>All communication (including sending benchmarks and score submissions) will happen through emails, so <strong>make sure to subscribe</strong> using the form at the bottom of the page! I am planning to start first contest in the end of February 2019.</p>

<p>Let me know what you think about it or if you have any ideas or comments. You can also vote if you like it using the buttons below.</p>

<h3 id="how-to-get-started">How to get started?</h3>

<ol>
  <li>Collect the baseline (use <code>time</code> or analogs).</li>
  <li>Find the hotspot (use <code>perf record</code>).</li>
  <li>Find performance headroom
    <ul>
      <li>Take a look at the assembly and try to guess how you can do better.</li>
      <li>Run through <a href="https://easyperf.net/blog/2019/02/09/Top-Down-performance-analysis-methodology">TMAM</a> process.</li>
    </ul>
  </li>
  <li>Build the benchmark, run it and compare against baseline.</li>
</ol>

<h3 id="hints">Hints</h3>

<ul>
  <li>Do not try to understand the whole benchmark. For some people (including me) it‚Äôs crucial to understand how every peace of code works. For the purposes of optimizing it will be wasted effort. There are CPU benchmarks with thousands LOC (like <a href="http://spec.org/cpu2017/">SPEC2017</a>) it‚Äôs absoultely impossible to understand them in a reasonable time. What you need to familiarize yourself with are hotspots. That‚Äôs it. You most likely need to understand one function/loop which is not more than 100 LOC.</li>
  <li>You have specific workload for which you optimize the benchmark. You don‚Äôt need to optimize it for any other input/workload. The main principle behind <a href="https://en.wikipedia.org/wiki/Data-oriented_design">Data-oriented design</a> is that you know the data of your application.</li>
</ul>

<p>Information presented in llvm documentation: <a href="https://llvm.org/docs/Benchmarking.html">Benchmarking tips</a> migth also be helpful.</p>

<h3 id="list-of-contest-editions">List of contest editions</h3>

<ul>
  <li><a href="https://easyperf.net/blog/2019/02/16/Performance-optimization-contest-1">Contest #1</a> - 16 Feb 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/04/10/Performance-analysis-and-tuning-contest-2">Contest #2</a> - 10 Apr 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/05/28/Performance-analysis-and-tuning-contest-3">Contest #3</a> - 28 May 2019.</li>
  <li><a href="https://easyperf.net/blog/2021/02/05/Performance-analysis-and-tuning-contest-4">Contest #4</a> - 05 Feb 2021.</li>
</ul>

			</div></div>]]>
            </description>
            <link>https://easyperf.net/blog/2019/02/02/Performance-optimization-contest</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149436</guid>
            <pubDate>Tue, 16 Feb 2021 00:09:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Enclosure: Language-Based Restriction of Untrusted Libraries [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148904">thread link</a>) | @matt_d
<br/>
February 15, 2021 | https://nebelwelt.net/files/21ASPLOS.pdf | <a href="https://web.archive.org/web/*/https://nebelwelt.net/files/21ASPLOS.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://nebelwelt.net/files/21ASPLOS.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148904</guid>
            <pubDate>Mon, 15 Feb 2021 23:12:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ark 1]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 36 (<a href="https://news.ycombinator.com/item?id=26148865">thread link</a>) | @simonpure
<br/>
February 15, 2021 | https://www.lot2046.com/ark-1 | <a href="https://web.archive.org/web/*/https://www.lot2046.com/ark-1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="content_360_38"><div id="ark-1_hero_back"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_back@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_back.jpg"></picture><p>Cabin porn.</p></div><div id="ark-1_hero_left"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_left@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_left.jpg"></picture><p>LOT 0983 ‚Äî ARK 1; 6.4m x 3m x 2.6m; 13m¬≤ internally; 17m¬≤ externally; <br>4.5m x 1.6m window; rechargeable battery bank; electric powertrain.</p></div><div id="ark-1_hero_top"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_top@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_top.jpg"></picture><p>A rechargeable solid state Lithium Ion battery for an EPA estimated range of 500+ miles, <br>600W solar panel roof with 5G and Starlink‚Ñ¢ antennas.</p></div><div id="ark-1_hero_boulder-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-1.jpg"></picture><p>Off-road, self-driving, autonomous, off-grid mobile home.</p></div><div id="ark-1_hero_boulder-2"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_boulder-2@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_boulder-2.jpg"></picture><p>Home on the range.</p></div><div id="ark-1_hero_right"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hero_right@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hero_right.jpg"></picture><p>Breakfast of champions.</p></div><hr><p>Product range:</p><div id="ark-1_asset_tire-table-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_tire-table-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_tire-table-1.jpg"></picture></div><hr><div id="ark-1_main-text"><div><p>Humans have never really lived on earth. 
</p><p>In fear of the cold, famines, and war, we chose to huddle in caves, camps, and cities in order to dwell near pooled resources, fearing unknown calamities.&nbsp;But the internet has changed all this. Accessibility no longer requires proximity. You no longer have to physically relocate in order to acquire the tools and resources you need to live a comfortable life. We are moving towards a reality where work and location no longer need to depend on the other. With the rapidly growing infrastructures of telecommunications, green energy, delivery services, and travel flexibility ‚Äì both in pace of advancement and market size ‚Äì a new way of working and living is emerging.
</p><p>One in which we no longer need to rely solely on outdated frameworks of metropolitan densities to support a given lifestyle.
</p><p>Flattening density is the way forward.
</p><p>Entire economies will need to re-evaluate what it means to give flexibility just as its users are realizing the boundaries of these new flexibilities. We‚Äôre already seeing an exodus of major metropolises. Lockdown hysteria has forced us to consider whether the paths we thought we prescribed ourselves is really ours. As this changes how many will choose to live, LOT is building a mission to earth.
</p><p>ARK 1 is an off-road, mobile dwelling. It features plug and play modular parts, a rechargeable battery pack, solar roof, 4 wheel steering, independent suspension, and can be equipped with full self-driving capabilities. 
</p><p>By treating the home as the ultimate appliance, we‚Äôre building a vehicle to nourish the self. If your home could take you anywhere, and there‚Äôs no more point A to point B, where would you go? </p></div></div><div><div id="ark-1_crawl-mode"><div><div><p>Crawl Mode</p><p><iframe src="https://www.youtube.com/embed/UFBsLeqcMR8?controls=0&amp;color=white" frameborder="0" allowfullscreen=""></iframe></p></div><div><div><p>ARK 1 utilizes all of its on-board self-driving cameras/sensors to enable it to drive autonomously on off-road, off-grid terrain.
</p><p>It is also equipped with a drone that acts as eyes by flying ahead to map trickier surfaces in order to provide the best possible route (fog map). This feature is not meant for navigating conventional roads, as there are no lanes to switch or traffic lights to watch for. Only surface and elevation changes to traverse, which it does slowly, so if you wanted to go to bed in the desert and wake up at the coastline, you can.</p></div></div></div></div></div><p>Eyes:</p><div id="ark-1_asset-drone-1"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-1.jpg"></picture></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_asset_drone-2@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_asset_drone-2.jpg"></picture><p>LOT 0983-2</p></div><hr><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-4.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-4@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-4@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-4.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-4@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-4.jpg"></picture><p>12:34 ‚Äì Sunday, May 31 at Cambria, 35.587749, -121.122021</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-3@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-3.jpg"></picture><p>19:55 ‚Äì Wednesday, May 20 at Austin Creek, 47.837902, -121.611665</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-7.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-7@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-7@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-7.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-7@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-7.jpg"></picture><p>19:49 ‚Äì Monday, May 18 at El Capitan, 34.465976, -120.024302</p></div><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-8.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-8@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_hdr-8@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-8.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-8@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_hdr-8.jpg"></picture><p>18:43 ‚Äì Friday, April 10 at Joshua Tree, 33.977110, -116.020468</p></div><div><video autoplay="autoplay" loop="loop" muted="muted" playsinline="playsinline"><source src="https://lot2046-images.s3.amazonaws.com/ark/lot_2046_ark-1_hdr-video-1@2x.mov" type="video/mp4" media="all and (max-width: 799px)"><source src="https://lot2046-images.s3.amazonaws.com/ark/lot_2046_ark-1_hdr-video-1.mov" type="video/mp4"></video><p>18:43 ‚Äì Friday, April 10 at Joshua Tree, 33.977110, -116.020468</p></div><hr><p>Details:</p><hr><div><a id="ark-1_ar-icon" rel="ar" href="https://lot2046-images.s3.amazonaws.com/ark/ark-1.usdz"><svg width="92" height="84" viewBox="0 0 92 84" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M56.7205 35.5L46.4 41.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M77.7205 23.5L67.4 29.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M25.7205 53.5L15.4 59.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 41.5V51.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 68.5V78.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M46.4 4.5V14.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M37.0441 36.1526L46.4 41.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15.0441 23.1526L24.4 28.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path d="M69.0441 54.1526L78.4 59.5" stroke="black" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path><path opacity="0.5" d="M46.5 3.5V79.5" stroke="black" stroke-linecap="square"></path><path opacity="0.5" d="M13.3232 22.4402L79.6499 60.6511" stroke="black" stroke-linecap="square"></path><path opacity="0.5" d="M13.3191 60.6432L79.678 22.3797" stroke="black" stroke-linecap="square"></path><path opacity="0.5" fill-rule="evenodd" clip-rule="evenodd" d="M46.5 3L79.842 22.25V60.75L46.5 80L13.158 60.75V22.25L46.5 3Z" stroke="black"></path><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="92" height="84"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.7968 0H55.7968V25.9515L82.2032 10.7058L91.2032 26.2942L64.866 41.5L91.2032 56.7058L82.2032 72.2942L55.7968 57.0485V84H37.7968V57.1284L9.79681 73.2942L0.796814 57.7058L28.866 41.5L0.796814 25.2942L9.79681 9.70577L37.7968 25.8716V0Z" fill="white"></path></mask><g mask="url(#mask0)"><path fill-rule="evenodd" clip-rule="evenodd" d="M46.5 3L79.842 22.25V60.75L46.5 80L13.158 60.75V22.25L46.5 3Z" stroke="black" stroke-width="3"></path></g></svg></a><p>Try your ARK 1 in the wild. Tap on the icon above 
<br>to experience it true to scale. Only available on iOS devices (for now) <a href="https://lot2046-images.s3.amazonaws.com/ark/ark-1.usdz" rel="ar">see ARK 1 in AR</a></p></div><hr><div><p id="ark-1_white-paper-title">White paper</p><div id="ark-1_white-paper-image"><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_white-paper@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_white-paper.jpg"></picture></div><p>Read our full proposal for ARK 1 on <a href="https://docs.google.com/document/d/1eedNlGgE11JfQgKiYzw33XpsmupT_pjrGBESwHnT8EE/edit" target="_blank">Google Docs</a></p></div><hr><div><p id="ark-1_calculator-title">How much will my ARK 1 subscription cost?</p><div><p>1 day</p><p>365 days</p><div><p>Travel to reservation site</p><p>24/7 access to LOT community centers</p><p>For use in designated areas only</p><p>Remote security</p><p>24/7 roadside assistance</p><p>Remote check-in/out</p><p>Reservation delivery</p><p>Open road travel</p><p>Towing Vehicle (Powered by JEEP¬Æ)</p><p>LOT Life subscription, basic self-care products</p><p>Remote smart address (delivery locker, automatic postal routing, DMV untethered, utilities)</p><p>Water delivery, food boxes</p><p>Citizenship Assistance (legal aid, medical care, licensing, property insurance)</p></div><div><p>Your ARK 1 subscription estimate:<br><span>X days</span><span>, ~X month</span></p></div></div></div><hr><div><p id="ark-1_reserve-title">Reserve your ARK 1 now:</p><div><picture><source media="(max-width: 799px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1@2x.jpg 2x, https://lot2046-images.s3.amazonaws.com/ark/mobile/lot_2046_ark-1_key-1@3x.jpg 3x"><source media="(min-width: 800px)" srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1.jpg, https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1@2x.jpg 2x"><img srcset="https://lot2046-images.s3.amazonaws.com/ark/desktop/lot_2046_ark-1_key-1.jpg"></picture></div><p><b>$100</b></p><div id="ark-1_reserve-body"><p>LOT 0192-2, ARK 1 multitool (bottle opener, hex wrench set, buckle, keychain); 
<br>powder-coated steel; personalized number indicating queue position; 50g.
</p><p>
By purchasing this physical token, you are reserving your place in line. 
<br>When the time comes, we will be shipping ARK 1s according to this waitlist.</p></div><p><a id="ark-1_reserve-button" href="https://supply.lot2046.com/products/ark-1-multifunction-tool-reservation-number" target="_blank">Buy now to reserve your queue in line</a></p><p id="ark-1_reserve-postfix">We ship worldwide. No refunds. 
<br>Exception to missing or damaged shipment.</p></div></div></div></div>]]>
            </description>
            <link>https://www.lot2046.com/ark-1</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148865</guid>
            <pubDate>Mon, 15 Feb 2021 23:08:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Meta Gameboy Advance Blog]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148753">thread link</a>) | @pjmlp
<br/>
February 15, 2021 | https://remyhax.xyz/posts/gba-blog/ | <a href="https://web.archive.org/web/*/https://remyhax.xyz/posts/gba-blog/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I‚Äôve been doing weekly chaos engineering projects for a while now, so I decided to start a blog. A sort of dumping ground for all the things I do.
If you‚Äôre interested in more projects like this, give me a follow on Twitter <a href="https://twitter.com/_mattata">@_mattata</a>. I‚Äôm always working on something fun.</p><p>Kicking it off with the first blog post. I‚Äôm going to compile this blog post (yes, the very one you‚Äôre reading) into a valid Gameboy Advance ROM.</p><p>Full source code can be viewed here: <a href="https://github.com/xen0bit/gbablog">https://github.com/xen0bit/gbablog</a></p><p>You can download the ROM here: <a href="https://remyhax.xyz/gbablog/blog.gba">blog.gba</a></p><p><strong>Feel free to try it out below running in a Gameboy Advance emulator written in javascript:</strong></p><p><em>Controls:</em> Click inside the above box change focus to the emulator. Keyboard UP/DOWN to scroll</p><table><thead><tr><th>Keyboard</th><th>GBA</th></tr></thead><tbody><tr><td>Z</td><td>A</td></tr><tr><td>X</td><td>B</td></tr><tr><td>UP</td><td>UP</td></tr><tr><td>DOWN</td><td>DOWN</td></tr><tr><td>LEFT</td><td>LEFT</td></tr><tr><td>RIGHT</td><td>RIGHT</td></tr><tr><td>ENTER</td><td>START</td></tr><tr><td>/</td><td>SELECT</td></tr></tbody></table><p>I got this idea while browsing around and heard about <a href="https://tinygo.org/">TinyGo</a>.</p><blockquote><p>TinyGo is a project to bring the Go programming language to microcontrollers and modern web browsers by creating a new compiler based on LLVM.</p></blockquote><p>One of the <a href="https://tinygo.org/microcontrollers/gameboy-advance/">compiler targets for TinyGo is a Gameboy Advance</a>, but the documentation shows a bunch of ‚Äú?‚Äù in terms of supporting it. Naturally, I decided this seemed stable enough and decided to give it a shot.</p><p>The Gameboy Advance is a handheld videogame paltform based on the ARM7TDMI microcontroller and there was only a single example piece of code written in Tinygo for reference seen below:</p><p>(Images after this point tend to look quite fuzzy in the ROM due to color palette limitations)</p><div><pre><code data-lang="go"><span>package</span> <span>main</span>

<span>// Draw a red square on the GameBoy Advance screen.
</span><span></span>
<span>import</span> (
	<span>"image/color"</span>
	<span>"machine"</span>
)

<span>var</span> <span>display</span> = <span>machine</span>.<span>Display</span>

<span>func</span> <span>main</span>() {
	<span>display</span>.<span>Configure</span>()

	<span>for</span> <span>x</span> <span>:=</span> int16(<span>30</span>); <span>x</span> &lt; <span>50</span>; <span>x</span><span>++</span> {
		<span>for</span> <span>y</span> <span>:=</span> int16(<span>80</span>); <span>y</span> &lt; <span>100</span>; <span>y</span><span>++</span> {
			<span>display</span>.<span>SetPixel</span>(<span>x</span>, <span>y</span>, <span>color</span>.<span>RGBA</span>{<span>255</span>, <span>0</span>, <span>0</span>, <span>255</span>})
		}
	}
	<span>display</span>.<span>Display</span>()
}</code></pre></div><p>Perfect. I compiled the example and ran it in the <a href="https://vba-m.com/">VisualboyAdvance emulator</a> and it ran without issue.
I needed a bit more though. I need to read gamepad input to allow scrolling through the blog post as well as drawing the blog post to the screen.</p><p>The first step was learning how to draw an image to the screen. Since display.SetPixel takes in a color.RGBA I needed to convert my image into something easily readable by the game that can store x, y, Red, Green, Blue, Alpha for each pixel.</p><p>For this task, I started by cheating a bit. A byte can hold any value 0-255 and the resolution of the gameboy advance LCD is 240x160. Conviently, if I want to create a really inefficient file format I can fit each value needed into a single byte. Then each block of 6 bytes represents a pixel.</p><p><img src="https://remyhax.xyz/gbablog/hex.png" alt="Remy TIFF (Terrible Image File Format)"></p><p>I used the Python PIL package to read an image and export a binary file with this format. Next, I used <a href="https://github.com/jteeuwen/go-bindata">go-bindata</a> to convert the file into a []byte slice that can be embedded entirely within my TinyGo program. This looks something like this:</p><div><pre><code data-lang="go"><span>func</span> <span>myfile</span>() []<span>byte</span> {
	<span>//This byte slice would contain the contents of the image,
</span><span></span>	<span>//allowing me to embed the file in the binary
</span><span></span>    <span>return</span> []<span>byte</span>{<span>0x89</span>, <span>0x50</span>, <span>0x4e</span>, <span>0x47</span>, <span>0x0d</span>, <span>0x0a</span>, <span>0x1a</span>}
}</code></pre></div><p>Surprisingly, this actually worked (somewhat).</p><p><img src="https://remyhax.xyz/gbablog/remy.jpg" alt="Testing Rendering an image to gameboy advance"></p><p>After tweaking some things and generally getting a feel for how stuff worked internally, I switched to my next task: figuring out how to read gamepad input.</p><p>In retrospect, I probably could‚Äôve used CGO which enables the creation of Go packages that call C code. This would‚Äôve been a lot easier if I‚Äôd just used the well defined developer SDK‚Äôs already written in C, but I‚Äôd had a few beers by the time I encountered this problem. Here‚Äôs how to do things THE HARD WAY.</p><p><em>Problem Statement:</em> We want to scroll through an image by a set number of pixels when the user presses up or down on the D-Pad.</p><p>Okay, how do we read input from the D-Pad?</p><p>Let me point you to <a href="https://jamiedstewart.github.io/gba%20dev/2019/03/21/GBA-Dev-Input-Handling.html">GBA Development: Button Input Handling</a></p><blockquote><p>you might assume that when a button is pressed that the bit in the IO register that it relates to is turned on. This is infact the opposite of what happens. The REG_KEYINPUT 0x04000130 has all bits turned on when buttons are not pressed. This isn‚Äôt really a massive issue, it just means that we need to look for when a button‚Äôs bit is in the off state to indicate a press.</p></blockquote><p>Well that sounds complicated and hard, so I‚Äôm gonna basically ignore <em>pretty much all of that</em>. I do need to create a pointer to the IO register for the keypad though:</p><div><pre><code data-lang="go"><span>regKEYPAD</span> = (<span>*</span><span>volatile</span>.<span>Register16</span>)(<span>unsafe</span>.<span>Pointer</span>(uintptr(<span>0x04000130</span>)))</code></pre></div><p>Alright, so we try to get the value of the register and‚Ä¶ nothing. We wrap getting the value of the register in a while loop and‚Ä¶ nothing.
Why?</p><p><strong>Ah, maybe my timing is off?</strong></p><p>So let‚Äôs create a timer that checks the value of the register at a regular interval!</p><p>After countless hours, you will come to the conclusion that ‚Äútime‚Äù actually doesn‚Äôt work despite compiling without error.</p><p>We now have 2 problems:</p><ul><li>We need to read button presses from the D-Pad</li><li>We need to invent our own timer</li></ul><p>Super fun stuff.</p><p>After doing some reading, I found <a href="https://mgba-emu.github.io/gbatek/#lcddimensionsandtimings">GBATek</a> (Warning, HUGE page).</p><blockquote><p>V-Blanking 68 lines, 4.994 ms, 83776 cycles - 30% of v-time</p></blockquote><p>Cool, so I can use IRQ_VBLANK interrupt as a timer AND sync my actions with the screen refresh. Makes sense.</p><p>After some fiddling around, we end up with an IRQ interrupt that calls a function ‚Äúupdate‚Äù. ‚ÄúUpdate‚Äù reads the value of the register regKEYPAD and compares it against the defined values for each button on the Gameboy Advance.</p><div><pre><code data-lang="go"><span>var</span> (
	<span>//KeyCodes
</span><span></span>	<span>keyDOWN</span>      = uint16(<span>895</span>)
	<span>keyUP</span>        = uint16(<span>959</span>)
	<span>keyLEFT</span>      = uint16(<span>991</span>)
	<span>keyRIGHT</span>     = uint16(<span>1007</span>)
	<span>keyLSHOULDER</span> = uint16(<span>511</span>)
	<span>keyRSHOULDER</span> = uint16(<span>767</span>)
	<span>keyA</span>         = uint16(<span>1022</span>)
	<span>keyB</span>         = uint16(<span>1021</span>)
	<span>keySTART</span>     = uint16(<span>1015</span>)
	<span>keySELECT</span>    = uint16(<span>1019</span>)
)

<span>func</span> <span>update</span>(<span>interrupt</span>.<span>Interrupt</span>) {
	<span>//Read uint16 from register that represents the state of current buttons pressed
</span><span></span>	<span>switch</span> <span>keyValue</span> <span>:=</span> <span>regKEYPAD</span>.<span>Get</span>(); <span>keyValue</span> {
	<span>case</span> <span>keyDOWN</span>:
		<span>//Increase where we draw from in image
</span><span></span>		<span>lineCursor</span> <span>+=</span> <span>106</span>
		<span>//Draw image
</span><span></span>		<span>drawBlog</span>()
	<span>case</span> <span>keyUP</span>:
		<span>//Decrease
</span><span></span>		<span>lineCursor</span> <span>-=</span> <span>106</span>
		<span>//Draw
</span><span></span>		<span>drawBlog</span>()

<span>func</span> <span>main</span>(){
	<span>//Register interrupt using VBLANK and timer, calls update function
</span><span></span>	<span>interrupt</span>.<span>New</span>(<span>machine</span>.<span>IRQ_VBLANK</span>, <span>update</span>).<span>Enable</span>()
}</code></pre></div><p>Finally, We write a function ‚ÄúdrawBlog‚Äù which handles drawing the scrolled image on the screen based on ‚ÄúlineCursor‚Äù which is controlled by the D-Pad, write a blog about it, screenshot it, and stick it into the game running on the blog about the blog.</p><p><strong>Closing Statements:</strong>
At the end, I‚Äôve certainly learned a lot. Way more than I originally intended to, especailly considering I‚Äôd never properly written any Golang code when I started this project.</p><p>I think the work that the TinyGo team has put into this is absolutely phenomenal and truly believe that it can be the basis for creating a high level Gameboy Advance SDK in the future. Functionality such as <a href="https://github.com/tinygo-org/tinyfont">text/font rendering</a> and <a href="https://github.com/tinygo-org/tinydraw">basic drawing</a> is already supported and works on GBA.</p></div></div>]]>
            </description>
            <link>https://remyhax.xyz/posts/gba-blog/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148753</guid>
            <pubDate>Mon, 15 Feb 2021 22:59:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I survive 12 hour flights]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 22 (<a href="https://news.ycombinator.com/item?id=26148684">thread link</a>) | @aminozuur
<br/>
February 15, 2021 | https://eftegarie.com/how-i-survive-12-hour-flights/ | <a href="https://web.archive.org/web/*/https://eftegarie.com/how-i-survive-12-hour-flights/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://eftegarie.com/how-i-survive-12-hour-flights/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148684</guid>
            <pubDate>Mon, 15 Feb 2021 22:53:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What security does a default OpenBSD installation offer?]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 67 (<a href="https://news.ycombinator.com/item?id=26148667">thread link</a>) | @zdw
<br/>
February 15, 2021 | https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html | <a href="https://web.archive.org/web/*/https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="20210214">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 14 February 2021.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-openbsd69.html">#openbsd69</a></span>


<span><a href="https://dataswamp.org/~solene/tag-openbsd.html">#openbsd</a></span>


<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>

</p>
    
  </header>
  
<p>In this text I will explain what makes OpenBSD secure by default when you install it.  Do not take this for a security analysis, but more like a guide to help you understand what is done by OpenBSD to have a secure environment.  The purpose of this text is not to compare OpenBSD to others OS but to say what you can honestly expects from OpenBSD.
</p>
<p>There are no security without a threat model, I always consider the following cases: computer stolen at home by a thief, remote attacks trying to exploit running services, exploit of user network clients.
</p>

<p>Here is a list of features that I consider important for an operating system security.  While not every item from the following list are strictly security features, they help having a strict system that prevent software to misbehave and lead to unknown lands.
</p>
<p>In my opinion security is not only about preventing remote attackers to penetrate the system, but also to prevent programs or users to make the system unusable.
</p>
<h2> Pledge / unveil on userland</h2>
<p>Pledge and unveil are often referred together although they can be used independently.  Pledge is a system call to restrict the permissions of a program at some point in its source code, permissions can't be get back once pledge has been called.  Unveil is a system call that will hide all the file system to the process except the paths that are unveiled, it is possible to choose what permissions is allowed for the paths.
</p>
<p>Both a very effective and powerful surgical security tools but they require some modification within the source code of a software, but adding them requires a deep understanding on what the software is doing.  It is not always possible to forbid some system calls to a software that requires to do almost anything, software designed with privilege separation are better candidate for a proper pledge addition because each part has its own job.
</p>
<p>Some software in packages have received pledge or/and unveil support, like Chromium or Firefox for the most well known.
</p>
<p><a href="https://www.openbsd.org/papers/bsdcan2019-unveil/index.html">OpenBSD presentation about Unveil (BSDCan2019)</a></p>
<p><a href="https://www.openbsd.org/papers/BeckPledgeUnveilBSDCan2018.pdf">OpenBSD presentation of Pledge and Unveil (BSDCan2018)</a></p>
<h2> Privilege separation</h2>
<p>Most of the base system services used within OpenBSD runs using a privilege separation pattern.  Each part of a daemon is restricted to the minimum required.  A monolithic daemon would have to read/write files, accept network connections, send messages to the log, in case of security breach this allows a huge attack surface.  By separating a daemon in multiple parts, this allow a more fine grained control of each workers, and using pledge and unveil system calls, it's possible to set limits and highly reduce damage in case a worker is hacked.
</p>
<h2> Clock synchronization</h2>
<p>The daemon server is started by default to keep the clock synchronized with time servers.  A reference TLS server is used to challenge the time servers.  Keeping a computer with its clock synchronized is very important.  This is not really a security feature but you can't be serious if you use a computer on a network without its time synchronized.
</p>
<h2> X display not as root</h2>
<p>If you use the X, it drops privileges to _x11 user, it runs as unpriviliged user instead of root, so in case of security issue this prevent an attacker of accessing through a X11 bug more than what it should.
</p>
<h2> Resources limits</h2>
<p>Default resources limits prevent a program to use too much memory, too many open files or too many processes.  While this can prevent some huge programs to run with the default settings, this also helps finding file descriptor leaks, prevent a fork bomb or a simple daemon to steal all the memory leading to a crash.
</p>
<h2> Genuine full disk encryption</h2>
<p>When you install OpenBSD using a full disk encryption setup, everything will be locked down by the passphrase at the bootloader step, you can't access the kernel or anything of the system without the passphrase.
</p>
<h2> W^X</h2>
<p>Most programs on OpenBSD aren't allowed to map memory with Write AND Execution bit at the same time (W^X means Write XOR Exec), this can prevents an interpreter to have its memory modified and executed.  Some packages aren't compliant to this and must be linked with a specific library to bypass this restriction AND must be run from a partition with the "wxallowed" option.
</p>
<p><a href="https://www.openbsd.org/papers/hackfest2015-w-xor-x.pdf">OpenBSD presentation ¬´ Kernel W^X Improvements In OpenBSD ¬ª</a></p>
<h2> Only one reliable randomness source</h2>
<p>When your system requires a random number (and it does very often), OpenBSD only provides one API to get a random number and they are really random and can't be exhausted.  A good random number generator (RNG) is important for many cryptography requirements.
</p>
<p><a href="https://www.openbsd.org/papers/hackfest2014-arc4random/index.html">OpenBSD presentation about arc4random</a></p>
<h2> Accurate documentation</h2>
<p>OpenBSD comes with a full documentation in its man pages.  One should be able to fully configure their system using only the man pages.  Man pages comes with CAVEATS or BUGS sections sometimes, it's important to take care about those sections.  It is better to read the documentation and understand what has to be done in order to configure a system instead of following an outdated and anonymous text available on the Internet.
</p>
<p><a href="https://man.openbsd.org/">OpenBSD man pages online</a></p>
<p><a href="https://www.openbsd.org/papers/eurobsdcon2018-mandoc.pdf">EuroBSDcon 2018 about ¬´ Better documentation ¬ª</a></p>
<h2> IPSec and Wireguard out of the box</h2>
<p>If you need to setup a VPN, you can use IPSec or Wireguard protocols only using the base system, no package required.
</p>
<h2> Memory safeties</h2>
<p>OpenBSD has many safeties in regards to memory allocation and will prevent use after free or unsafe memory usage very aggressively, this is often a source of crash for some software from packages because OpenBSD is very strict when you want to use the memory.  This helps finding memory misuses and will kill software misbehaving.
</p>
<h2> Dedicated root account</h2>
<p>When you install the system, a root account is created and its password is asked, then you create an user that will be member of "wheel" group, allowing it to switch user to root with root's password.  doas (OpenBSD base system equivalent of sudo) isn't configured by default.  With the default installation, the root password is required to do any root action.  I think a dedicated root account that can be logged in without use of doas/sudo is better than a misconfigured doas/sudo allowing every thing only if you know the user password.
</p>
<h2> Small network attack surface</h2>
<p>The only services that could be enabled at installation time listening on the network are OpenSSH (asked at install time with default = yes), dhclient (if you choose dhcp) and slaacd (if you use ipv6 in automatic configuration).
</p>
<h2> Encrypted swap</h2>
<p>By default the OpenBSD swap is encrypted, meaning if programs memory are sent to the swap nobody can recover it later.
</p>
<h2> SMT disabled</h2>
<p>Due to a heavy number of security breaches due to SMT (like hyperthreading), the default installation disable half the logical cores to prevent any data leak.
</p>
<p><a href="https://en.wikipedia.org/wiki/Meltdown_(security_vulnerability)">Meltdown: one of the first security issue related to speculative execution in the CPU</a></p>
<h2> Micro and Webcam disabled</h2>
<p>With the default installation, both microphone and webcam won't actually record anything except blank video/sound until you set a sysctl for this.
</p>
<h3> Maintainability, release often, update often</h3>
<p>The OpenBSD team publish a new release a new version every six months and only last two releases receives security updates.  This allows to upgrade often but without pain, the upgrade process are small steps twice a year that help keep the whole system up to date.  This avoids the fear of a huge upgrade and never doing it and I consider it a huge security bonus.  Most OpenBSD around are running latest versions.
</p>
<h3> Signify chain of trust</h3>
<p>Installer, archives and packages are signed using signify public/private keys.  OpenBSD installations comes with the release and release n+1 keys to check the packages authenticity.  A key is used only six months and new keys are received in each new release allowing to build a chain of trust.  Signify keys are very small and are published on many medias to double check when you need to bootstrap this chain of trust.
</p>
<p><a href="https://www.openbsd.org/papers/bsdcan-signify.html">Signify at BSDCan 2015</a></p>
<h2> Packages</h2>
<p>While most of the previous items were about the base system or the kernel, the packages also have a few tricks to offer.
</p>
<h3> Chroot by default when available</h3>
<p>Most daemons that are available offering a chroot feature will have it enabled by default.  In some circumstances like for Nginx web server, the software is patched by the OpenBSD team to enable chroot which is not an official feature.
</p>
<h3> Dedicated users for services</h3>
<p>Most packages that provide a server also create a new dedicated user for this exact service, allowing more privilege separation in case of security issue in one service.
</p>
<h3> Installing a service doesn't enable it</h3>
<p>When you install a service, it doesn't get enabled by default.  You will have to configure the system to enable it at boot.  There is a single /etc/rc.conf.local files that can be used to see what is enabled at boot, this can be manipulated using rcctl command.  Forcing the user to enable services makes the system administrator fully aware of what is running on the system, which is good point for security.
</p>
<p><a href="https://man.openbsd.org/rcctl">rcctl man page</a></p>

<p>Most of the previous "security features" should be considered good practices and not features.  Limiting users resources, reducing daemon privileges, being strict about memory usage, provide a good documentation, start the least required amount of services and provide the user with a clean default installation that can be customized later.
</p>
<p>There are also many other features that have been added and which I don't fully understand, and that I prefer letting the reader take notice. 
</p>
<p><a href="https://www.openbsd.org/papers/bsdtw.pdf">¬´ Mitigations and other real security features ¬ª by Theo De Raadt</a></p>
<p><a href="https://www.openbsd.org/innovations.html">OpenBSD innovations</a></p>
<p><a href="https://www.openbsd.org/events.html">OpenBSD events, often including slides or videos</a></p>

</article>
</div></div>]]>
            </description>
            <link>https://dataswamp.org/~solene/2021-02-14-openbsd-default-security.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148667</guid>
            <pubDate>Mon, 15 Feb 2021 22:51:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Patterns, predictions, and actions: A story about machine learning [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26148596">thread link</a>) | @tmfi
<br/>
February 15, 2021 | https://mlstory.org/pdf/patterns.pdf | <a href="https://web.archive.org/web/*/https://mlstory.org/pdf/patterns.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>√Ö0√¨√É√∞‚Äò+¬ß/n√è¬∑,√Ç0¬ª=-√É√ê[p√≥nWwJ^EM¬Ø+j¬®TÔøΩ?√É0≈Ωt‚Äòv¬æ¬´¬∏~‚Ä°e√îj√óÔøΩ√è¬¥¬∞)ÀÜ√ñFÔøΩ¬¶‚ÄùA√é√ñ7‚Äô≈Ω√£√å4‚Ñ¢&gt;z[‚Ç¨√æS√ú})¬¶&nbsp;.√®√∂‚Ä°√ã
k‚Äî¬≤√æ5R&gt;*¬≥√ã`v√Éhyt√∂n¬æ&nbsp;√®√ë`‚Äî‚Äù√¢‚Äî√®
4√≥=√ü√å0ÔøΩ√°+x√ä√µU¬§1¬°&amp;,&nbsp;¬Ω≈Ω√¶¬∏≈í¬´≈Ω√¶mE&amp;¬§‚Ä∞‚Äû¬Æ;‚ÄπE‚Äô√£‚Äû√±'√än√ú√Ö√†√≠U‚Äπ8¬≥¬£ÀÜ,2L√∂‚Ä∞ughg¬Æ3¬¶8n2A¬ªJb¬æ√∑√ô‚Ç¨≈í¬∂≈†4/√£‚ÄìnnA√ù≈∏√Ñg[J5∆í√î\Zf¬º√´‚Ä¶cÀÜF]lu¬µ¬§M√∂‚Äô√é≈æÔøΩ	e¬∫≈°R√¥H√á‚Ä∫8sMc√£(√ôÔøΩ1¬Ø√é¬®√á√Æ√≥¬°√µ{\¬∫√Æ¬®√ïmji|K¬≠√ûR¬§‚Ä° √±.o¬£7/√≠J√†√ßaF√ï¬©¬¨¬ø√∑‚Äôs/√¢¬∏√î‚ÄùG√†≈∏√ü^√µ‚Ä¶√¶kR%‚Äì‚Ä∞z_8¬ß‚Äî"¬π√Ñ|¬¢¬∑X√ì√®√´√¥h√º≈∏j&amp;3w√è√ñ√ª¬ºd¬©Y¬¶‚Äù√å$√Ç¬∫≈í√Ç√∑r√Æ√ó¬¥Pk√ü√∏CT√íX√î‚Äò¬≤{]¬¥≈∏¬©¬∫¬≥$ÔøΩ¬¨2√°¬∫^
Yf√ç¬π¬£ln¬¶‚Äöv‚Ä∞≈í@¬π¬£‚Äò}E‚Ä∫√Ñsz√¨√¶√ød5U√®‚Ä†n√®w√≠nK√´√ë9$√πd¬ß¬∑√î√≠¬ª‚Ç¨Y'9¬¶P	z√´
√è.s4¬™√£4zT&amp;X√üQ√°[Z/z√Ω√¶x√êQ¬¨P¬Æ/(l¬Ω√É√ï√â¬¢¬¢2¬°√ø%¬π√èÔøΩ√¨¬∑√ç5‚Ñ¢0√π+‚ÄôSS
√∞√Ø]¬¢Q‚Ñ¢B√ã1√ã¬§ÔøΩ1E7m√å√ë√ÉcP√πZBXS√≠u√Ä√ü;¬¥√¢√¶9mP√ó¬ßAg√í√Æ*√ä≈†≈°¬¢‚Äî+H√óO√Å¬∑√í≈°D√Ü&amp;√Üo)‚Äú^A¬ø‚Äú≈∏√±√≠√ò$g¬ª1mf&amp;¬ßLl2&nbsp;¬ø¬¶≈Ω3¬•√Ω√Æ&amp;√ü√æ√åh√ª3,3ÀúR√ç√ö√ëh=qI‚Äúo√ñ¬∂√âÔøΩ¬®√ãK‚Ç¨‚Ä¶¬£dKC√´2√âKZ"√Ø√´¬Æv3√òÔøΩ:ÔøΩ!p√à@√í;¬∞n¬∫√ó"√ç)X‚Äú$#¬¶'≈°√π‚Ñ¢√Æ√ëU≈†=NO√©/h‚Ä∞_√ü~√∑7¬≠√ì√í√±{‚Äô¬º¬¢√™e¬Ω¬ßK)¬©w^6¬°Ii_‚Äòh√æ`√ÅeK√Å¬µ¬°√û~]¬π√è|√ª¬ª0∆í‚Äù√ù¬©f]¬≠u)√ë,√Ü√Ö@√∫‚Ä°¬Æ¬Ø]g[W√´√ß‚Ñ¢√£H{¬ø≈ì√¢Jg¬©^8¬µ‚Ä¢3√â‚Äì√û√Ω√ú!¬Æ¬≠K√Æb¬±M√ú¬≥,√®√â√™T¬∏¬ª√¶A‚Ä∫¬ß
xF√õ¬¨‚Äì√≠=<b‚Ä†id5tmsh∆ízjg}t≈ìq¬Ω√ô9√≠√¥√≥{¬∑;√™¬±z¬Ø¬∫¬π√ö¬µ¬£√ß'√Øg{√ß√©!‚ÄîÔøΩ√≥√Ø√©8^√™√â√ê+‚Ç¨4√∑√Ø√© ¬∏√ªwb5<¬•zs8¬ø√¶√Æ√ì\≈æ¬ªn√™'√¥¬©√¨≈†v‚Äö√î√´{6d5√µ}a√Ω1%¬π√å≈∏¬∂t√∏bk¬∂m√í√ú≈í√∂¬•3√∫√ó√≤*¬∞.‚Äπ√öc\|√Ø‚Äûuk;√è¬∫√§¬™√´a¬æ√Ω√≠}‚Ä¢≈∏}√êb&¬∏¬´]¬µwwa√ß√ùw√æap1a="" endstream="" endobj="" 203="" 0="" obj="" <<="" type="" objstm="" n="" 100="" first="" 884="" length="" 1758="" filter="" flatedecode="">&gt;
stream
x√ö√ïYIÔøΩ√õ6¬æ√ªW√∞√ñ¬§@√Æ¬§≈† E‚Äìn@‚Äπ¬¶M√ê^r√±√ò≈æ5√û√™%K}?:j≈æ¬πHv√í	z¬∞L‚Ä∞√¢[¬æ¬∑‚Äô‚Äô\2√é$¬∑L)√º9&amp;¬µeR√†‚Äòk√∞/Àú‚Äì√ø≈°i∆í9aÀú¬±a√û3√ì‚Äû√π‚Ä†9‚Ä°y)‚Ñ¢√ßn$¬•b√ûc^Z√ñ`NJ√áZ≈†3√Å9(√Å‚Äû√¥&nbsp;¬§4J‚Ä†)√É‚Äû√ë&nbsp;¬°&lt;.L5L8≈Ω√ïZb&nbsp;√•Hj√Ö‚Äûo√§A6√ëH∆í√û√£√É∆í‚ÄùvÔøΩ¬∑	¬¥sc¬≠0‚Ä¶≈∏gi√ë√Ä√ù‚Äö‚Äì‚Äò|$-d¬≤
h¬≠≈ìwÀú√∂E¬π=¬§‚Äú+  ∆í¬¶M√†√¨SB‚Ä†ÔøΩ√á√Ä~K¬≠¬•‚ÄîÀúf‚Äû¬•@Tc¬π√ê√¢√Ö&nbsp;¬∂:&nbsp;~J¬¶ÔøΩ`√ä
ÔøΩV√à‚Äù=O@√ô‚Äúf-8√¶!‚Äú√äÔøΩp√îh(M∆í≈Ωi-Av√ì¬®`8ÀÜ√ã9√Ñ4L√ÉFx4DFF√á@7#√ΩÔøΩ
¬º&nbsp;‚Ä∞ÔøΩ√ê8f¬¥
p,¬¥≈Ω√Ü≈°0√ê1‚Ç¨‚Äò√±√úaA√£√±X√Å‚Äö¬¶√°AKPn‚Äù)X√ê
¬®¬¢`A+VG√ÑT√ê√ü*8‚Ç¨‚Äö¬≠¬∂
‚Ä¢0eÀú√µÔøΩN√Å‚Äö√ñ√£NÔøΩ¬±p:¬∏√©H√Å‚Äö√é√ò√∞√Ñ2gS√ú8/√Åt/*X√ê5aA√ó√†¬¢`Aa√èA^√Å‚Äö`√†‚Ä°/√ÉeF‚Ç¨≈∏y≈íz
_
7√û√Ä3≈í√ß
‚ÄùS¬∞&nbsp;w√†¬£`A√Øa√ê√°Pnxx¬ßA0`¬π√ÜM#≈í=|√à¬º`~X¬Ω\¬±√è√ò¬Ω√≠l¬≤kW√ã/¬ø¬º¬π√è=√ù{¬•≈ì√Ö√è¬Ω√¢≈ì?‚ÄîY¬º¬¨√É√•√ó&lt;√º/√Çe.√ì√∏√Ç&lt;\¬∂¬∑√ü‚Ä°√ã2¬æu√≥√∏2.9¬º¬∞‚Äî}¬∏l√¢√Ñ√ç¬´√ä¬æ¬ª√ù√Ü√ë2√í√®¬®¬µQ¬º√•√Ω≈†√ñ‚Äö¬ßZ√ø‚Ñ¢u‚Äùq√¥O‚Äò√èm¬©WQ√ã‚Ä∫'√ì
‚Äì√ã√∏√∏@s[‚Ä¢X¬ß√øA¬°n#&lt;√ó√±√∂0qu‚Ä∫√©U‚Äûs√•k3Àú√ñ¬•q¬©4?P"3√äg~"‚Äôm√≤¬§‚Ä†√§≈ì:√ñ‚Ä†b√≤‚Äû≈°&gt;R¬¶√∫&lt;ÔøΩH≈Ω¬©gt≈°C¬Æ√®√º&amp;√ó√£√µn¬∂	√ºT!√™√Ü√î¬ß¬∑'xÀÜ√åx√à√ã¬®	¬Æ√ôI√â√≤mt√¢6¬æw¬≥√≤‚Äö≈†√ñ&amp;‚Äò≈∏F√Ä".‚Ñ¢d|sv¬™i:√©;√∫J√£u?x&amp;√Ø√±mV¬ª¬®√ú&gt;1!√™{l9√Ä√õ;K\R√á;¬≤Y¬¥¬¢t¬§¬´¬®LF√º‚Ñ¢‚Ä†√¶U√§√º&amp;&gt;¬∞_√£√ìYI√ôT√à)‚ÄòE¬æm√£eE}L¬£‚Äì‚Äù¬´¬∑T√ç√´≈°‚Ä¶kbkQÀÜ√åU√§√í)0√çC¬∑¬´¬§≈∏≈ì¬∑√ù√å¬≠i≈æ√ê(≈∏√î√í√ï-t√Å9≈Ω≈†√§n@:¬®	[h≈Ω:‚Ç¨)√ø‚Äù¬∫¬Ø√ç√ù√¶ym√º√Ü1‚Äúl3%√≤CTUq∆í‚Äú√Ω¬ºd¬®b
√Æ¬±√†*z√¶‚Äì√Ç√¥√¶¬¨^L√ªS1√™√ØEk√º≈í8‚Äî√üQ√´¬¥≈Ωx√ó√πe|√Æ'≈°¬øÔøΩ √å√ï√£‚Äöu
3¬§√è,S^&amp;√É≈°
S2Z'√ß%¬≠ÀúK¬∫√Ω=‚Ñ¢‚Ä¢5√ª‚Äö‚Äî‚Ñ¢\¬∑¬ß√∫W5¬≥√∂nS‚Äûu√ß¬∫cK¬°√éu‚Äú$¬§ÔøΩ√ÜÔøΩ
Q√å√óvÔøΩ]‚Ä∫x‚Ä¢p.8√Ø`¬ΩjR9&gt;8A≈æ‚Äò√è√≤√â5√á‚Äúx√ªM¬¢√∫A√´¬ø¬®‚Ñ¢w1¬±z¬ºZ√Ñ¬Ø√®‚ÄôM|√ñ√Ø√∂.m¬ø√ì‚Äô¬ª/‚Äì√ú$-u√ùro¬Æ&amp;g-muf
‚Äî	√ô√üh√úw√π*¬≤¬Ω¬ø3y[‚Äö¬ø^sBtn√ôÔøΩ√º≈∏‚Äô‚Äö¬ø√£
¬µ√èl¬®_√Ñ¬•G√îr¬•5qJ√ãaK=(=¬¨√®62¬Ø+¬ª√ïB√§N√£¬™K+‚Äπ√º√Æ{M¬£√∫¬®Y√ê‚Ä¢√Ωq√£3m√Ω√∑‚Äù√Ö√¢√º&gt;|@R√óWe7‚Ä¶¬™SG2¬µ√µ6.√öR[√¥√ã√†O8E,p√æ√å√æYU¬Ø9√¢√ø√àYQk‚Äò√£√æ√ºS√°&amp;SG≈æ√ì√ùy√ç*g√∂=√©aW9√Ç√´B√á√ù≈∏≈Ω√ñ≈æ‚Äì¬Ω√≠Q‚Äô¬Ø@%9¬ø√ì√º.¬π¬®¬µ'mf√ì¬±¬°¬•¬Æ√ñR}√§√©¬±√§‚Ñ¢b√∑√≠0√¶T¬Æ¬¢‚Äòr√ùI¬∑v@A√ú√¶√®ÀúF‚Äπ√ã|k√ö√ÅzE√≥√ΩÔøΩ6√¥y&lt;8}√∫I√éD√¶≈∏√î‚Ñ¢‚Äî‚Äö¬¶¬∑	M√è¬≥¬ª}√¶k√™¬∏o√£-A√Øq4√õQ√æ{‚Äî)¬ªD√Ç√è√ñH¬°
=¬£√â√Ø√®P9=&gt;¬™h-√ç‚Ç¨√≥A¬Ωh¬°√û√•¬≠¬Ω^sÔøΩ√≤C√∫¬µ√±3¬ß√°?√æ\¬Øgq√™G‚ÄìtspI¬ø√ÑM√©√ûw∆í‚Ä¶p\QK√ï+)√Ö√ùVYJ√†√´√Ä≈ì√ö¬æo$s≈∏√∏≈æDq√û√ì¬¨ÔøΩwÔøΩK‚Ä°√æ√ãdO8√è|√•√à}√É+√ñ≈ío¬´√òd6	¬øPr√ó44√Ü‚Ñ¢√çb√≠¬∞¬§sÀú+≈°√ínÔøΩV‚Äò6¬ΩÔøΩ√°"_$ÔøΩ√•√î‚Ä†QJ[√Äf√ï√ùer√†‚Ä†6‚Äò4*√ì√Ω√æ&lt;√ûvt√∑CÔøΩ‚Äö√ß‚Ñ¢√Ø¬≠√£$d:&gt;√ùW¬æ‚Äπ¬Æ¬¢√î@√à}9|N
yAumO√º√ö!‚Ä¢√©=m≈æRr¬Ωgu√´√ì%√∂‚Äú8√∑≈æ≈æ‚Ç¨~‚ÄòtXÔøΩ)¬´iD√π√Ç√Å√ÜÀún{√¶‚Äù√ü
¬´74yl√≥¬Æ¬≥¬¶¬πyO¬≥J√øX:¬≤
endstream
endobj
417 0 obj
&lt;&lt;
/Length 286       
/Filter /FlateDecode
&gt;&gt;
stream
x√ö¬•‚ÄòOO‚Äû0√Ö√Ø|≈†w√©√í¬°‚Äì#+¬∏b√¢¬∫bo√Ü√Æb¬§D√Ñ∆í~z√ä%1l‚Äú√é√´{‚Ñ¢√å/-#n√ñ≈∏√î√£≈ì√§¬µ√≥√™P(¬©‚Ä†√§‚Ä∫"√¶¬∑-&gt;ÀÜ‚Äú¬ΩJjF¬¢√Ü¬π√Ö√≠‚Äò≈°√õ¬ø+√µ√ª‚Ä¶cAqX‚Ñ¢!I‚Äπ√±/Q¬∫u√ò‚Äû√´N¬º√≠¬¨.|N√ª√ÄÀÜ~"
‚Äî≈†zkEtA√Æ√ªP√´8√ù√ùÔøΩ-]√©√Åb≈∏√ÜQr¬Æ‚Äú‚Ä∫√â	w√ë(¬¨¬Ω|√êW√øDÀúÀú¬¢Bb≈ΩL,@‚Äî
 -Wh‚Ä°¬æuM√ªae√∂√ò¬ºwV√ñY~¬¨Li//e√ñ≈°√äf`\‚Äö√Ω√óa‚Ä¢√®
Hss‚Äö√ä|3‚ÄûY‚Äö5
Not√ù¬¥U√∑i¬ß]fm1Rd¬¶¬∞bS≈°√ß¬¨¬Æ≈í¬Ω¬•e~√¨~√Ç√åj¬¨ÔøΩ/‚Äìc‚Äû¬∏
endstream
endobj
414 0 obj
&lt;&lt;
/Type /XObject
/Subtype /Image
/Width 1024
/Height 1325
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/SMask 422 0 R
/Length 19191     
/Filter /FlateDecode
&gt;&gt;
stream
x√ö√¨√ò√´ÔøΩ≈ì√•y√á√±‚Äî}√ï¬®j‚Äô¬™¬¥!√•√†‚Äìp√¶`|√Ü¬∞^√õ√Äc{√ó^¬Ø√ó6&gt;s2.b.$v9F√∞"ÔøΩ√îJ	R‚Ä∫‚Äö&nbsp;ÔøΩ%√öTJ‚Ä¶¬©‚Äù‚Äô¬¢F√Ñ√∞qwvv√∂43√è√åÀú¬º)√æ¬∂R¬™≈∏¬¨‚Ä∞&gt;√í√∑¬∏≈ægn√ù√è√ß≈°V¬≠√î‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I‚Äô$I√ø¬ø&amp;j√ë√™√Ö`[W4J√ë√ç¬°h√çf9[=[¬´W¬´d√ª√º¬≤
‚Ä¶K√è?¬≠Y≈†√ñ¬™‚Äî√Çe√ü√è√©z%Z¬´Q≈Ω√ñ<s√Ök√ô√í√∑s√º√ª√í*k‚Äô√çpÔøΩj[√ó*f¬¢5‚Äπ√ël√çj¬¥√ü|vÔøΩ√Ü√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ºo√∏√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º √æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√≠√¢√øfc<√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√°√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥√ø√§u¬´√ë√¢="">/‚Ä†¬¢5√Ç5√ì√ï¬≥¬•}√í¬™ek√ñJ:¬´
‚Ä¶√ã√é√ü¬®Fk√ïJm]√∫√æl4K√°‚Ä†√Ñ√ø¬øuEQ	7¬≠Y‚Äî√∂y¬∏F#[Q√è√Ü√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º/√Ç√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ø‚Ä°√øk¬ß¬¢ÔøΩR¬¥√∏√∑¬•Z≈Ω√ñ:C√®d¬µr¬¥f5√ú¬¢G+‚Ä°√ã√é≈∏&gt;?√≠√Æ√ø√¥~≈°??C√≠]Q√ä√ñ≈†√Ü√ß¬ø√´
G¬´√ó+√ë√í√æo‚Äûk√ª√πc√ë√™E6√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø‚Äú7QÀÜV/√õ¬∫√∏√æ‚Äô¬æ√ø‚Ä∫√•l√µl¬≠"\¬≠‚Äô√≠√≥G√à√û√£√≥¬ß}≈æ√û/J√°¬≤√Ø√ßt¬Ω¬≠√ï(Gk≈æ¬π√¢‚Äö¬µ≈†l√©√ª√ô~qvk4√É5*m]¬´‚Ä∞√ñ,F¬≥5+√ô√£√ë√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø	≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø'¬ØZÀÜ√∑y1¬≠¬Æ‚Ñ¢¬Æ≈æ-√≠‚ÄúV-[¬≥V√íYm(\v√æF}0Z¬´Vj√´√í√∑g¬£Y
7$√æ√ø¬≠+≈†J¬∏‚Äòh√çz¬∏¬¥√è√É5√ô≈†z6√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß&gt;√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º/√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ≈∏¬º‚Ä∞j)Z¬µv*Z√ë(E‚Äπ¬ø¬™√•h¬≠3DOV+GkV√ÉÔøΩY¬¢‚Ä¢√Ée√ßO≈∏≈∏v√ü/√í√ªo√æ√º¬µwE)[c(√ø√ø¬Æ7¬≠^¬ØDK√ØÔøΩp√©√π‚Äπ√ÜX¬¥z‚ÄòÔøΩ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√∞√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π_√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√¢√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√±?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø‚Äπ√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π√≤F√Ü≈ΩG‚Ä∫¬®≈æ≈íV¬´D¬´∆ím]¬≥^≈ΩVL‚Äû¬´‚Ä†‚Ä∫(EK√Ø/√©√∑√ì√æ√æ,¬∑u√π√Ω¬¢¬Ω√∑¬£v¬Ø√π9¬°¬£¬µ√π√æ‚Äô√∂yz√æ¬¢√∂yc8ZQT¬¢¬•√∑¬£V1¬≠Q≈íE√£√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ß√æ√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥?√ø√≥¬ø√∏≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø	≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√π≈∏√ø√Ö√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√º√è√ø√ºv√Ω?:v,√ö√∏√Ñ‚Ä∞h√©√Ω¬¢Z;¬≠V√àV≈íVÔøΩ8¬≠^≈í‚Äì√∂y}b0Zmb ‚Ä¶</s√•k√π√≤√∑s√º√ª√≤*k‚Äô√≠pÔøΩj[√ó*f¬¢5‚Äπ√±l√≠j¬¥√ü|vÔøΩ√¶√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√ºo√∏√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º√Ø√ø√º></b‚Ä†id5tmsh∆ízjg}t≈ìq¬Ω√π9√≠√¥√≥{¬∑;√™¬±z¬Ø¬∫¬π√∫¬µ¬£√ß'√Øg{√ß√©!‚ÄîÔøΩ√≥√Ø√©8^√™√©√∞+‚Ç¨4√∑√Ø√©></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mlstory.org/pdf/patterns.pdf">https://mlstory.org/pdf/patterns.pdf</a></em></p>]]>
            </description>
            <link>https://mlstory.org/pdf/patterns.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148596</guid>
            <pubDate>Mon, 15 Feb 2021 22:45:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are the New M1 Macbooks Any Good for Deep Learning?]]>
            </title>
            <description>
<![CDATA[
Score 132 | Comments 118 (<a href="https://news.ycombinator.com/item?id=26148333">thread link</a>) | @syntaxing
<br/>
February 15, 2021 | https://www.betterdatascience.com/m1-deep-learning/ | <a href="https://web.archive.org/web/*/https://www.betterdatascience.com/m1-deep-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                                                                        
<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->

<p><span data-preserver-spaces="true">There‚Äôs a lot of hype behind the new Apple M1 chip. So far, it‚Äôs proven to be superior to anything Intel has offered. But what does this mean for deep learning? That‚Äôs what you‚Äôll find out today.</span></p>
<p><span data-preserver-spaces="true">The new M1 chip isn‚Äôt just a CPU. On the MacBook Pro, it consists of 8 core CPU, 8 core GPU, and 16 core neural engine, among other things. Both the processor and the GPU are far superior to the previous-generation Intel configurations.</span></p>
<p><span data-preserver-spaces="true">I‚Äôve already demonstrated how fast the M1 chip is for&nbsp;</span><a href="https://www.betterdatascience.com/mac-m1-python/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">regular data science tasks</span></a><span data-preserver-spaces="true">, but what about deep learning?&nbsp;</span></p>
<p><span data-preserver-spaces="true">Short answer ‚Äì yes, there are some improvements in this department, but are Macs now better than, let‚Äôs say,&nbsp;</span><em><span data-preserver-spaces="true">Google Colab</span></em><span data-preserver-spaces="true">? Keep in mind, Colab is an entirely free option.</span></p>
<p><span data-preserver-spaces="true">The article is structured as follows:</span></p>
<ul>
<li><a href="#cpu">CPU and GPU benchmark</a></li>
<li><a href="#test">Performance test ‚Äì MNIST</a></li>
<li><a href="#fashion">Performance test ‚Äì Fashion MNIST</a></li>
<li><a href="#cifar">Performance test ‚Äì CIFAR-10</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<h2><span data-preserver-spaces="true">Important notes</span></h2>
<p><span data-preserver-spaces="true">Not all data science libraries are compatible with the new M1 chip yet. Getting TensorFlow (version 2.4) to work properly is easier said than done.</span></p>
<p><span data-preserver-spaces="true">You can refer to&nbsp;</span><a href="https://github.com/apple/tensorflow_macos" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">this link</span></a><span data-preserver-spaces="true">&nbsp;to download the .</span><em><span data-preserver-spaces="true">whl</span></em><span data-preserver-spaces="true">&nbsp;files for TensorFlow and it‚Äôs dependencies. This is only for macOS 11.0 and above, so keep that in mind.</span></p>
<p><span data-preserver-spaces="true">The test you‚Äôll see aren‚Äôt ‚Äúscientific‚Äù in any way, shape or form. They only compare the average training time per epoch.</span></p>
<h2 id="cpu"><span data-preserver-spaces="true">CPU and GPU benchmark</span></h2>
<p><span data-preserver-spaces="true">Let‚Äôs start with the basic CPU and GPU benchmarks first. The comparison is made between the new MacBook Pro with the M1 chip and the base model (Intel) from 2019.&nbsp;</span><a href="https://www.geekbench.com/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Geekbench 5</span></a><span data-preserver-spaces="true">&nbsp;was used for the tests, and you can see the results below:</span></p>
<div id="attachment_3868"><p><img aria-describedby="caption-attachment-3868" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7.png" alt="Image 1 - Geekbench 5 results (Intel MBP vs. M1 MBP) (image by author)" width="1514" height="324" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7.png 1514w, https://www.betterdatascience.com/wp-content/uploads/2021/01/1-7-768x164.png 768w" sizes="(max-width: 1514px) 100vw, 1514px"></p><p id="caption-attachment-3868">Image 1 ‚Äì Geekbench 5 results (Intel MBP vs. M1 MBP) (image by author)</p></div>
<p><span data-preserver-spaces="true">The results speak for themselves. M1 chip demolished Intel chip in my 2019 Mac. So far, things look promising.</span></p>
<h2 id="test"><span data-preserver-spaces="true">Performance test ‚Äì MNIST</span></h2>
<p><span data-preserver-spaces="true">The MNIST dataset is something like a ‚Äúhello world‚Äù of deep learning. It comes built-in with TensorFlow, making it that much easier to test.&nbsp;</span></p>
<p><span data-preserver-spaces="true">The following script trains a neural network classifier for ten epochs on the MNIST dataset. If you‚Äôre on an M1 Mac, uncomment the <code>mlcompute</code> lines, as these will make things run a bit faster:</span></p>

<p><span data-preserver-spaces="true">The above script was executed on an M1 MBP and Google Colab (both CPU and GPU). You can see the runtime comparisons below:</span></p>
<div id="attachment_3869"><p><img aria-describedby="caption-attachment-3869" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6.png" alt="Image 2 - MNIST model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/2-6-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3869">Image 2 ‚Äì MNIST model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">The results are somewhat disappointing for a new Mac. Colab outperformed it in both CPU and GPU runtimes. Keep in mind that results may vary, as there‚Äôs no guarantee of the runtime environment in Colab.</span></p>
<h2 id="fashion"><span data-preserver-spaces="true">Performance test ‚Äì Fashion MNIST</span></h2>
<p><span data-preserver-spaces="true">This dataset is quite similar to the regular MNIST, but is contains pieces of clothing instead of handwritten digits. Because of that, you can use the identical neural network architecture for the training:</span></p>
<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->



<p><span data-preserver-spaces="true">As you can see, the only thing that‚Äôs changed here is the function used to load the dataset. The runtime results for the same environments are shown below:</span></p>
<div id="attachment_3870"><p><img aria-describedby="caption-attachment-3870" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5.png" alt="Image 3 - Fashion MNIST model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/3-5-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3870">Image 3 ‚Äì Fashion MNIST model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">Once again, we get similar results. It‚Äôs expected, as this dataset is quite similar to MNIST.&nbsp;</span></p>
<p><span data-preserver-spaces="true">But what will happen if we introduce a more complex dataset and neural network architecture?&nbsp;</span></p>
<h2 id="cifar"><span data-preserver-spaces="true">Performance test ‚Äì CIFAR-10</span></h2>
<p><span data-preserver-spaces="true">CIFAR-10 also falls into the category of ‚Äúhello world‚Äù deep learning datasets. It contains 60K images from ten different categories, such as airplanes, birds, cats, dogs, ships, trucks, etc.</span></p>
<p><span data-preserver-spaces="true">The images are of size 32x32x3, which makes them difficult to classify even for humans in some cases. The script below trains a classifier model by using three convolutional layers:</span></p>

<p><span data-preserver-spaces="true">Let‚Äôs see how convolutional layers and more complex architecture affects the runtime:</span></p>
<div id="attachment_3871"><p><img aria-describedby="caption-attachment-3871" loading="lazy" src="https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5.png" alt="Image 4 - CIFAR-10 model average training times (image by author)" width="2146" height="926" srcset="https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5.png 2146w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-768x331.png 768w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-1536x663.png 1536w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-2048x884.png 2048w, https://www.betterdatascience.com/wp-content/uploads/2021/01/4-5-20x10.png 20w" sizes="(max-width: 2146px) 100vw, 2146px"></p><p id="caption-attachment-3871">Image 4 ‚Äì CIFAR-10 model average training times (image by author)</p></div>
<p><span data-preserver-spaces="true">As you can see, the CPU environment in Colab comes nowhere close to the GPU and M1 environments. The Colab GPU environment is still around 2x faster than Apple‚Äôs M1, similar to the previous two tests.</span></p>
<h2 id="conclusion"><span data-preserver-spaces="true">Conclusion</span></h2>
<p><span data-preserver-spaces="true">I love every bit of the new M1 chip and everything that comes with it ‚Äì better performance, no overheating, and better battery life. Still, it‚Äôs a difficult laptop to recommend if you‚Äôre into deep learning.</span></p>
<p><span data-preserver-spaces="true">Sure, there‚Äôs around 2x improvement in M1 than my other Intel-based Mac, but these still aren‚Äôt machines made for deep learning. Don‚Äôt get me wrong, you can use the MBP for any basic deep learning tasks, but there are better machines in the same price range if you‚Äôll do deep learning daily.</span></p>
<p><span data-preserver-spaces="true">This article covered deep learning only on simple datasets. The next one will compare the M1 chip with Colab on more demanding tasks ‚Äì such as transfer learning.&nbsp;</span></p>
<p><span data-preserver-spaces="true">Thanks for reading.</span></p>
<p><a href="https://www.linkedin.com/in/darioradecic/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Connect on LinkedIn.</span></a></p>
<h4><a href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Join my private email list for more helpful insights.</span></a></h4>
<h2><span data-preserver-spaces="true">Learn more&nbsp;</span></h2>
<ul>
<li><a href="https://towardsdatascience.com/top-5-books-to-learn-data-science-in-2020-f43153851f14" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Top 5 Books to Learn Data Science in 2021</span></a></li>
<li><a href="https://www.betterdatascience.com/mac-m1-python/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Are The New M1 Macbooks Any Good for Data Science? Let‚Äôs Find Out</span></a></li>
<li><a href="https://www.betterdatascience.com/python-pdf-reports/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">How to Create PDF Reports with Python ‚Äì The Essential Guide</span></a></li>
<li><a href="https://www.betterdatascience.com/python-multiprocessing/" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">Python Parallelism: Essential Guide to Speeding up Your Python Code in Minutes</span></a></li>
<li><a href="https://towardsdatascience.com/shap-how-to-interpret-machine-learning-models-with-python-2323f5af4be9" target="_blank" rel="noopener noreferrer"><span data-preserver-spaces="true">SHAP: How to Interpret Machine Learning Models With Python</span></a></li>
</ul>


<!-- WP QUADS Content Ad Plugin v. 2.0.19 -->


            					</div></div>]]>
            </description>
            <link>https://www.betterdatascience.com/m1-deep-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148333</guid>
            <pubDate>Mon, 15 Feb 2021 22:23:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's going to cost four figures]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26148076">thread link</a>) | @cyb_
<br/>
February 15, 2021 | https://raccoon.onyxbits.de/blog/software-development-cost/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/software-development-cost/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      Let's talk about pricing commissioned work on existing open source projects. Or: things I learned from my past mistakes.
    </p><div>

<p>A followup to <a href="https://raccoon.onyxbits.de/blog/bugreport-free-support/">No, ‚ÄúOpen Source‚Äù does not mean ‚ÄúIncludes Free Support‚Äù</a>. Buckle up, this is going to be a long one.</p>

<p>Here‚Äôs a situation, maintainers of open source projects might find familiar: an email arrives. The sender introduces himself as the representative of a business and would like to ask, if it is possible to adopt (part of) the project to his (very) specific use case. A custom fork, exposing the desired functionality via a commandline switch would suffice. Shouldn‚Äôt be too much trouble, right?</p>

<p>Right! It isn‚Äôt. Couple of hours tops to write the code. But under <strong>no</strong> circumstances do I want to have it in the project‚Äôs main development branch. Besides, I‚Äôm not really going to spend an afternoon, so someone else can cash in on it, am I? This is clearly a commission. I‚Äôm going to charge for it. The question is just how much‚Ä¶
</p><figure>
  <a href="https://raccoon.onyxbits.de/blog/software-development-cost/wtf.svg">
    <img src="https://raccoon.onyxbits.de/blog/software-development-cost/wtf.svg">
  </a>
  
  <figcaption>WTF?! Four figures for a patch of maybe 100 lines of code? How do you even justify that?!</figcaption>
  
</figure>
                             
                             

<p>In the past, I would have spend an hour or so (spoiler alert: that was already a mistake), roughly sketching out in my head, what needs to be done, estimated how long it would take, multiplied that by an <del>arbitrary</del> industry standard hourly rate, tried to somehow justify the number to myself (second mistake), then send a quote, just to receive one of three replies:</p>

<ul>
<li>That‚Äôs too expensive! Forget, I asked.</li>
<li>That‚Äôs too expensive! Can you make it cheaper?</li>
<li>That cheap <small>(would have expected at least double)</small>
?</li>
</ul>

<p>Great! So, I either wasted an hour preparing for a commission that‚Äôs never going to happen, be forced  to waste even more hours on negotiating getting paid less for them, or flat out sold myself short. Welcome to the business world, dumbass!</p>

<p>
  
  <span>An error in reasoning</span>
  
  
Charging an hourly rate for a service is a convenient method for writing offers and bills (easy to digest and therefore more likely to be accepted without hassle), making it the obvious choice. But the real value of a service isn't always expressible as the product of hours √ó rate. At least not without inflating the factors unrealistically.

</p>
                             
                             

<p>Lesson learned. Nowadays, I just skip the whole cost forecast thing and send a simple response right away: <em>‚ÄúCan do. Will cost about four figures. When do you need it?‚Äù</em> Sounds brazen? Maybe. But, by my experience, everything else is going to end in tears. Let‚Äôs break down that line of thought.</p>

<h2 id="what-s-the-value-of-my-time">What‚Äôs the value of my time?</h2>

<p>A common misconception about open source software is that it is developed by hobbyists in their spare time. With a day job to pay for the bills, free time does not have opportunity cost, so it can be bought/must be sold for cheap. That, at least, is what the market theory tells us, but that‚Äôs not exactly true, is it? In fact, it is utterly wrong. The opportunity cost of <em>spare time</em> is <em>enjoying life</em>. I, as everyone else, only have one lifetime to spend and I intent to use as much as possible of that, pursuing my own happiness. Work is just a means to that end.</p>

<p>So, if I‚Äôm freelancing, which part of my life am I selling? The office hours or my leisure time? In first case, I‚Äôm running a business. My price calculation therefore has to cover my cost of living and turn a profit as well. In the second case, the former becomes <strong>my baseline</strong>, as my bills are already paid and I therefore need a pretty good incentive to turn even more of my lifetime into working hours. Either way, nothing about the involvement in open source software compels me to provide cheap labor.
</p><p>
  
  <span>Bottom line</span>
  
  
I'm neither a burger flipper, nor do I work at cost. For me, this is a business, not a charity. So yes, my bill includes profit. If it doesn't pay, I'm not interested in doing it.

</p>
                             
                             

<p>That being said, I do not charge by the hour for software development. <strong>Period</strong>. Hourly billing only works when the required time is easy to pre-estimate, track and review by all involved parties, e.g. when consulting on the phone. But it is the completely wrong model for doing any kind of software development. Here, other considerations come into play that go way beyond the ‚Äúmere‚Äù 100 lines of code, I may eventually end up writing. Hence, my four figures ‚Äúquote‚Äù has nothing to do, whatsoever, with the actual time that goes into <em>typing</em> them.</p>

<h2 id="i-m-an-engineer-not-a-psychic">I‚Äôm an engineer, not a psychic</h2>

<p>I have been doing this for a while now and I never ever came across a single client, who even remotely understood what exactly he wanted (even when having a technical background). Sure, they all had a rough idea of the problem they wanted solved, but the steps to getting there were a total mystery.</p>

<p>
  
  <span>Premise</span>
  
  
The client is <a href="https://dictionary.cambridge.org/dictionary/english/incompetent">incompetent</a>. Always! That's important to note and to <u>prepare for</u>. If he had the necessary expertise for the job, he'd just do it himself, not hire me.

</p>
                             
                             

<p>My work always starts with figuring out the interface(s) between my code (to be) and the client‚Äôs system, as well as explaining to him what can and can‚Äôt be done. That process typically takes days of written correspondence. All of it is scaffolding. None of it will show in the final product, but it is preliminary work that must be done before any of the actual work can happen.
</p><p>
  
  <span>Beware of shortcuts</span>
  
  
Discussing a project on the phone is faster, but you quickly get bogged down in details and with no written record of what has been said, requested and promised, either party is going to forget half of those details. That's a lawsuit in the making.

</p>
                             
                             

<p>When a client contacts me for the first time, I have no idea of his prior knowledge and therefore no way of telling how much scaffolding will be needed. Experience taught me, though, to never ever make any estimates based on the initial mail. No matter how crystal clear and straight forward it may seem. </p><figure>
  <a href="https://raccoon.onyxbits.de/blog/software-development-cost/sorry.svg">
    <img src="https://raccoon.onyxbits.de/blog/software-development-cost/sorry.svg">
  </a>
  
  <figcaption>Oh, I forgot to mention that. It's not going to be a problem, is it?</figcaption>
  
</figure><p>
                             
                              The premise is that the client doesn‚Äôt know what he is doing. So, he is going to flip flop around. He will come up with last minute ‚Äúminor‚Äù change requests. He will ask an unexpected comprehension question, undoing everything after it was already tied up. In other words: clients tend to unwittingly turn laid out plans into piles of smoldering ashes in an instant, while being totally oblivious to the fact that this drives cost on my end.</p>

<p>Under such circumstances, charging <strong>by the hour</strong> for software development <strong>is futile</strong>. When freelancing, my price calculation always contains an error margin, large enough to cover for doing the preliminary work at least twice over. This is non-negotiable and it is also non-refundable.</p>

<h2 id="it-s-more-than-just-writing-code-and-the-job-s-not-done-when-delivering-the-executable">It‚Äôs more than just writing code and the job‚Äôs not done when delivering the executable</h2>

<p>Writing and compiling the code is the least time consuming part of the deal. It‚Äôs what comes afterwards where the hours are burned:</p>

<ul>
<li>The client will probably want instructions on how to use his fork. That means writing documentation and/or walking him through. Usually, both. The later can turn into a nasty surprise in case I overestimated his technical skills.</li>
<li>Just because the mod works on my PC doesn‚Äôt mean it will work in the client‚Äôs system. More likely than not, there will be a remote debugging session (potentially with a client, whose technical skills I overestimated).</li>
<li>The main development branch will move on. The client may want/need the new version with his custom patch applied eventually. This means, I now have two code branches to maintain and should probably also write some extra unit tests to detect breaking changes.</li>
<li>After completion (and payment), there will likely be ‚Äúminor‚Äù follow up questions. Things, that can be answered in one sentence. Individually, they take up almost no time at all, but they will pile up and are impossible to consolidate into billable units.</li>
</ul>

<p>Again, counting hours is pointless. How long the job takes is largely determined by the client‚Äôs actions, not by mine. That‚Äôs a big variable beyond my control. The client can (<u>and will</u>!) drag this out, putting me into an impossible situation: I‚Äôm suppose to give a quote in order to get the commission, based on information, I can only have after finishing. But at that point, it‚Äôs too late to change the estimate and simply charging extra after giving a quote is obviously not going to fly.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/software-development-cost/time.svg">
    <img src="https://raccoon.onyxbits.de/blog/software-development-cost/time.svg">
  </a>
  
  <figcaption>A time based estimate is impossible when the known quantity gets swallowed by an unknown one.</figcaption>
  
</figure>
                             
                             

<p>Now, some people might wonder, why I don‚Äôt just write a detailed offer/bill then. Listing all the individual positions, so the client knows exactly what he‚Äôs paying for and why it‚Äôs costing so much. Am I too lazy? Yes, I am! I am mostly too lazy to argue about why every item is required, having to take it out because it isn‚Äôt, having to add it again because it was and in the end renegotiate everything because safety margins were not used to their fullest extent.</p>

<p>Everything that‚Äôs on an offer/bill is contestable. Haggling costs additional time and can‚Äôt end in my favour, no matter what. I learned the hard way to not put that option on the table.</p>

<h2 id="aren-t-we-forgetting-something">Aren‚Äôt we forgetting something?</h2>

<p>The basis for the commission is still an open source project. Yes, it is free to use, but it is not free to maintain and by creating it, I made an investment, indebting myself to myself. Now, why should some people have to pay, while other‚Äôs don‚Äôt? I could make an elaborate argument here about it being a mixed calculation and not being required to offer everyone the same deal, but I got a much simpler and more compelling ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://raccoon.onyxbits.de/blog/software-development-cost/">https://raccoon.onyxbits.de/blog/software-development-cost/</a></em></p>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/software-development-cost/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26148076</guid>
            <pubDate>Mon, 15 Feb 2021 22:01:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust Is Cool ‚Äì Enums]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147872">thread link</a>) | @ThatGeoGuy
<br/>
February 15, 2021 | https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/ | <a href="https://web.archive.org/web/*/https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
<p>On <em>2021-02-15</em> by <em>ThatGeoGuy</em></p>

<p>Since starting my new role at <a href="https://tangramvision.com/">Tangram Vision</a>, I‚Äôve
been doing a lot of programming in Rust. This is a bit of a change for me
having mostly worked in C / C++ / C# over the past 6 years, but my impressions
overall are quite positive.</p>

<p>One of my favourite features of Rust are the enum types. They don‚Äôt stick out
among Rust‚Äôs set of language features compared to some of the more novel
aspects of the language (borrow checker, lifetimes, safe-multi-threading);
however, Rust‚Äôs enum types drive some of the coolest parts of the language, and
make modeling data in terms of types a pleasure.</p>

<p>So I wanted to write something to point out some of the reasons I like Rust
enums so much. There‚Äôs gonna be a lot of ‚Äúcompared to C / C++‚Äù in here, so do
be warned.</p>



<p>First and foremost, an ‚Äúenumeration‚Äù or enum in Rust is a kind of sum-type.
Rust utilizes an algebraic type system, so there‚Äôs a few different ways to
specify what the ‚Äútype‚Äù of some data is.</p>

<table>
  <thead>
    <tr>
      <th>Category</th>
      <th>In Rust</th>
      <th>Definition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Atoms</td>
      <td><code>i32</code>, <code>u64</code>, <code>f32</code>, etc.</td>
      <td>Atoms are types whose values evaluate to themselves. These are more or less the smallest types you‚Äôll encounter, but they are the building blocks for everything else.</td>
    </tr>
    <tr>
      <td>Sum types</td>
      <td><code>enum</code></td>
      <td>Sum types are types where you can choose one of a set of possible states. The number of possible states a variable can have is the sum of all options.</td>
    </tr>
    <tr>
      <td>Product types</td>
      <td><code>struct</code></td>
      <td>Product types are defined similarly to sum types. The number of possible states a variable can have is the product of all combinations of data in the struct.</td>
    </tr>
    <tr>
      <td>Generic types</td>
      <td><code>SomeType&lt;T&gt;</code></td>
      <td>A type that is defined in terms of some other type (or types) <code>T</code>.</td>
    </tr>
  </tbody>
</table>

<p>This may be a bit hand-wavy, and I certainly didn‚Äôt cover all possible types (I
ignored traits and functions, for example), but it‚Äôs a good start to getting to
know about enums.</p>

<p>Rust enums, or sum-types in general, make the most sense when you want to
represent a ‚Äúchoice‚Äù as a type somehow. The easiest example to represent this
in Rust is the <code>Option&lt;T&gt;</code> type, which is a generic enum roughly of the form:</p>

<div><div><pre><code><span>pub</span> <span>enum</span> <span>Option</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>{</span>
    <span>Some</span><span>(</span><span>T</span><span>),</span>
    <span>None</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>This is an enum that represents whether or not you have <code>Some</code> of some <code>T</code>, or
<code>None</code> of it. Other enums are a ‚Äúchoice‚Äù in the same way. Every variable of
your enum type can only be one entry in the enum type at a time.</p>

<div><div><pre><code><span>let</span> <span>x</span><span>:</span> <span>Option</span><span>&lt;</span><span>f32</span><span>&gt;</span> <span>=</span> <span>Some</span><span>(</span><span>42.0</span><span>);</span>

<span>let</span> <span>y</span><span>:</span> <span>Option</span><span>&lt;</span><span>f32</span><span>&gt;</span> <span>=</span> <span>None</span><span>;</span>
</code></pre></div></div>

<p>While <code>x</code> and <code>y</code> above are the same type, they have to be either something
(<code>Some(42.0)</code>) or nothing (<code>None</code>). They can‚Äôt be both.</p>

<p>Based on what we saw above, there‚Äôs a couple of interesting ways we can write
an enum type.</p>

<h2 id="no-data">No data</h2>

<p>This is closest to what C++-style enum classes are like, although unlike in C
or C++, these aren‚Äôt automatically mapped to a set of integers.</p>

<div><div><pre><code><span>enum</span> <span>Color</span> <span>{</span>
    <span>Red</span><span>,</span>
    <span>Green</span><span>,</span>
    <span>Blue</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>If you‚Äôre coming from C you might think: well, why aren‚Äôt these mapped to
integers? Shouldn‚Äôt <code>Red</code> be zero, <code>Green</code> be one, <code>Blue</code> as two, etc? Unlike
C, Rust‚Äôs type system isn‚Äôt entirely based on integers. Types have
significantly more meaning, and it‚Äôs difficult to explain this succinctly.
Instead, <code>Color</code> is a type in your program where <code>Color::Red</code> is a distinct
value from <code>Color::Green</code> is a distinct value from <code>Color::Blue</code>, in the same
way that 0 is distinct from 1 or 2.</p>

<p>If one wants to, <a href="https://docs.rs/num-derive/0.3.3/num_derive/index.html">there are
crates</a> for mapping
integers to enum values. This can be useful if you‚Äôre serializing to some
low-level protocol, but isn‚Äôt very interesting otherwise.</p>

<h2 id="tuple-like">Tuple-like</h2>

<p>One thing I‚Äôve avoided until now is talking about <code>union</code> types in C. C has
enums and unions, which are two separate kinds of abstractions. C-enums give
names to a list of integer values, while C-unions provide a weak kind of
sum-type.</p>

<p>The weakness of C-unions is because while you may have a union which can map
over one option among a set of types, you don‚Äôt know <em>which</em> type the union was
actually mapped to. Example:</p>

<div><div><pre><code><span>union</span> <span>my_union_t</span> <span>{</span>
    <span>int</span> <span>a</span><span>;</span>
    <span>float</span> <span>b</span><span>;</span>
    <span>const</span> <span>char</span><span>*</span> <span>c</span><span>;</span>
<span>};</span>
</code></pre></div></div>

<p>In the above example, you can‚Äôt know when you receive a <code>my_union_t</code> type
whether it was created by setting some value <code>a</code>, <code>b</code>, or <code>c</code>. You know it‚Äôs
one of the options, but not which one. A typical way to work around this is to
type-tag your union with an enum, and pass that around too.</p>

<div><div><pre><code><span>enum</span> <span>my_union_type_t</span> <span>{</span>
    <span>A</span><span>,</span>
    <span>B</span><span>,</span>
    <span>C</span>
<span>};</span>
</code></pre></div></div>

<p>This means you‚Äôre passing around two values just to be able to understand what
your compiler should already know for you! This ‚Äúidiom‚Äù in C is also
error-prone: what if you send the wrong enum value alongside your union?
<em>Undefined behaviour</em>, that‚Äôs what. Rust‚Äôs enums are much more convenient, and
allow for combining data alongside the enum options themselves:</p>

<div><div><pre><code><span>enum</span> <span>MyType</span> <span>{</span>
    <span>A</span><span>(</span><span>i32</span><span>),</span>
    <span>B</span><span>(</span><span>f32</span><span>),</span>
    <span>C</span><span>(</span><span>String</span><span>)</span>
<span>}</span>
</code></pre></div></div>

<p>Because of this, you never need to worry about mismatching your enum / union
types. Likewise, Rust doesn‚Äôt need a keyword for unions since the above example
does exactly the same thing as the example in C. I think this was the first
thing that really struck me about how cool enums in Rust are, because manually
tagging and passing around unions and enums in C / C++ is a huge pain and
source of bugs.</p>

<p>
Disclaimer: It's worth mentioning these examples aren't <em>exactly</em> 1:1.
Rust does not yet have a stable ABI, so whatever the compiler spews out for
these isn't going to be exactly what the C ABI demands, and obviously
"String" in Rust is a vastly more comprehensive type than the C-string
equivalent.
</p>

<h2 id="named-data">Named data</h2>

<p>Similar to the above, we can give the data we pass around with our enum types
names:</p>

<div><div><pre><code><span>enum</span> <span>MyTypeWithNames</span> <span>{</span>
    <span>A</span> <span>{</span> <span>value</span><span>:</span> <span>i32</span> <span>},</span>
    <span>B</span> <span>{</span> <span>quantity</span><span>:</span> <span>f32</span> <span>},</span>
    <span>C</span> <span>{</span> <span>message</span><span>:</span> <span>String</span> <span>},</span>
<span>}</span>
</code></pre></div></div>

<p>Giving names to things can be a good idea, especially if you‚Äôre passing around
a lot of data inside your enum, or passing around multiple values of the same
type. However, sometimes the best name is no name, so don‚Äôt overdo it!</p>

<p>One last fun fact: all of these can all be interchanged. Sometimes, depending
on what you‚Äôre building, you might even be able to build an enum like this:</p>

<div><div><pre><code><span>enum</span> <span>PixelFormat</span> <span>{</span>
    <span>Yuv</span> <span>{</span>
        <span>y</span><span>:</span> <span>u8</span><span>,</span>
        <span>u</span><span>:</span> <span>u8</span><span>,</span>
        <span>v</span><span>:</span> <span>u8</span><span>,</span>
    <span>},</span>
    <span>Rgb</span> <span>{</span>
        <span>r</span><span>:</span> <span>u8</span><span>,</span>
        <span>g</span><span>:</span> <span>u8</span><span>,</span>
        <span>b</span><span>:</span> <span>u8</span><span>,</span>
    <span>},</span>
    <span>Greyscale</span><span>(</span><span>u16</span><span>),</span>
    <span>Unknown</span><span>,</span>
<span>}</span>
</code></pre></div></div>

<p>It might seem like this complicates your code significantly, but we have to
choose to live with complexity at some level. A bit of extra complexity in the
definition drops a <strong>significant</strong> amount of complexity in how we pass around
and use these types.</p>



<p>Without trying to (entirely) pitch you on <del>Haskell</del> strong type systems and
pure functional programming, enums in Rust are exciting because of what they
make easy. Rust uses enum types throughout the core language, and many of the
common idioms utilize enums in some form.</p>

<p>And if I‚Äôm being honest, equivalents can be made in C or C++ but the ergonomics
and language integration just aren‚Äôt there. Passing C-enums or C++-enum classes
alongside unions is vastly more error-prone.</p>

<h2 id="optiont"><code>Option&lt;T&gt;</code></h2>

<p>Rust doesn‚Äôt have ‚Äúoptional‚Äù or ‚Äúdefaulted‚Äù arguments in functions like C does.
But we don‚Äôt need it! Instead, we can use the generic <code>Option&lt;T&gt;</code>, to represent
whether or not something is required. In function parameters:</p>

<div><div><pre><code><span>fn</span> <span>add_three_numbers</span><span>(</span><span>a</span><span>:</span> <span>i32</span><span>,</span> <span>b</span><span>:</span> <span>i32</span><span>,</span> <span>c</span><span>:</span> <span>Option</span><span>&lt;</span><span>i32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>i32</span> <span>{</span>
    <span>if</span> <span>let</span> <span>Some</span><span>(</span><span>value</span><span>)</span> <span>=</span> <span>c</span> <span>{</span>
        <span>a</span> <span>+</span> <span>b</span> <span>+</span> <span>value</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>a</span> <span>+</span> <span>b</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>While a bit contrived, when calling this you might do:</p>

<div><div><pre><code><span>let</span> <span>x</span> <span>=</span> <span>add_three_numbers</span><span>(</span><span>13</span><span>,</span> <span>12</span><span>,</span> <span>None</span><span>);</span>    <span>// =&gt; 25</span>
<span>let</span> <span>y</span> <span>=</span> <span>add_three_numbers</span><span>(</span><span>13</span><span>,</span> <span>12</span><span>,</span> <span>Some</span><span>(</span><span>4</span><span>));</span> <span>// =&gt; 29</span>
</code></pre></div></div>

<p>Similarly, if you avoid using <code>unsafe</code> Rust and raw pointers, the default Rust
types for pointers (<code>Box</code>, <code>Arc</code>, etc) cannot ever exist as a ‚Äúnull‚Äù pointer.
Instead, if you want to represent a pointer that can be null, you use
<code>Option&lt;Box&lt;T&gt;&gt;</code>, and null pointers are represented as <code>None</code>! Unlike in C or
C++, this makes the type of pointers very explicit. You know that you have to
handle the enum differently than you would the pointer itself, and once you get
a <code>Box&lt;T&gt;</code> you know for certain that it points to something. This is one way
safe Rust avoids null de-references!</p>

<h2 id="resultt-e"><code>Result&lt;T, E&gt;</code></h2>

<p>Similar to <code>Option</code>, <code>Result</code> is Rust‚Äôs standard error type. It is a fairly
straightforward enum that roughly takes the form:</p>

<div><div><pre><code><span>enum</span> <span>Result</span><span>&lt;</span><span>T</span><span>,</span> <span>E</span><span>&gt;</span> <span>{</span>
    <span>Ok</span><span>(</span><span>T</span><span>),</span>
    <span>Err</span><span>(</span><span>E</span><span>),</span>
<span>}</span>
</code></pre></div></div>

<p>In this case, <code>Result</code> is usually used as the return value <em>from</em> a function,
which tells you if it succeeded and you get an <code>Ok(T)</code> back, or if it failed
and you get some error <code>Err(E)</code> back. In practice, it‚Äôs pretty cool how
flexible this is for error handling. It also avoids all the problems with
C++-style exceptions.</p>

<p>Side note: Check out the <a href="https://docs.rs/anyhow/1.0.34/anyhow/">anyhow crate</a> if you haven't already.</p>

<h2 id="matching-enums">Matching enums</h2>

<p>By default Rust has built in support for deconstruction / pattern-matching enum
types (even ones you define!). From our earlier example we can do:</p>

<div><div><pre><code><span>let</span> <span>x</span><span>:</span> <span>PixelFormat</span><span>;</span> <span>// Assume this is given a value from something</span>

<span>match</span> <span>x</span> <span>{</span>
    <span>PixelFormat</span><span>::</span><span>Yuv</span><span>{</span> <span>y</span><span>,</span> <span>u</span><span>,</span> <span>v</span> <span>}</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Pixel is y: {}, u: {}, v: {}"</span><span>,</span> <span>y</span><span>,</span> <span>u</span><span>,</span> <span>v</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Rgb</span><span>{</span> <span>r</span><span>,</span> <span>g</span><span>,</span> <span>b</span> <span>}</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Pixel is r: {}, g: {}, b: {}"</span><span>,</span> <span>r</span><span>,</span> <span>g</span><span>,</span> <span>b</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Greyscale</span><span>(</span><span>g</span><span>)</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Greyscale value is: {}"</span><span>,</span> <span>g</span><span>);</span>
    <span>}</span>
    <span>PixelFormat</span><span>::</span><span>Unknown</span> <span>=&gt;</span> <span>{</span>
        <span>println!</span><span>(</span><span>"Oh no, we don't understand this pixel format!"</span><span>);</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>While Rust doesn‚Äôt have switch statements that operate over integers like C
does, this is a very close equivalent that semantically allows for some much
more powerful abstractions.</p>

<p>As I said originally, enum types represent a ‚Äúchoice‚Äù of some kind when
programming. The <code>match</code> expression above demonstrates how we dispatch a
‚Äúchoice‚Äù in our program according to our type.</p>



<p>Enums in Rust unify the concept of enums and unions in C-family languages. They
are more expressive and reduce a lot of complexity in managing state or
tracking a union through a program. They also power some of the core types that
are used in almost all Rust code.</p>

<p>Enums are one of my favourite parts of moving to Rust from C++. They are used
in error management, optional arguments, and enable a whole host of different</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/">https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/</a></em></p>]]>
            </description>
            <link>https://thatgeoguy.ca/blog/2021/02/15/rust-is-cool-enums/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147872</guid>
            <pubDate>Mon, 15 Feb 2021 21:44:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Rich Terminal Dashboards]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147831">thread link</a>) | @willm
<br/>
February 15, 2021 | https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/ | <a href="https://web.archive.org/web/*/https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    
<p><a href="https://github.com/willmcgugan/rich">Rich</a> has become a popular (20K stars on GH) way of beautifying CLIs, and I'm pleased to see a number of projects using it.</p>
<p>Since Rich is mature and battle-tested now, I had considered winding-down development. Until, I saw this tweet:</p>
<h2>The Tweet</h2>
<blockquote><div lang="en" dir="ltr"><p>Do you want to see something really cool you can do with <a href="https://twitter.com/willmcgugan?ref_src=twsrc%5Etfw">@willmcgugan</a> 's rich library? </p><p>Checkout ghtop <a href="https://t.co/mn7oLbpw8e">https://t.co/mn7oLbpw8e</a>. It's a really fun CLI tool that demonstrates the power of rich (and other things).</p><p>Examples below üßµüëá (1/8)</p></div>‚Äî Hamel Husain (@HamelHusain) <a href="https://twitter.com/HamelHusain/status/1357771218095546368?ref_src=twsrc%5Etfw">February 5, 2021</a></blockquote> 
<p><a href="https://twitter.com/HamelHusain">@HamelHusain</a> and <a href="https://twitter.com/jeremyphoward">@jeremyphoward</a> used Rich to enhance <a href="https://github.com/nat/ghtop">ghtop</a> (a repo owned by the CEO of Github, no less). Ghtop shows a realtime a stream of events from the Github platform. And it looks good! So good that I realised how much potential Rich has for these type of htop-like applications.</p>
<p>Hamel and Jeremy had to overcome a few technical hurdles to make that work. Fortunately this will no longer be required as the latest version of Rich has first-class support for full-screen interfaces via a new Layout system.</p>
<h2>Full-screen terminal interface</h2>
<p>Here's a video demonstration of a terminal interface built with Layout:</p>
<p>
<iframe width="auto" src="https://www.youtube.com/embed/slrdSojCvlk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<h2>Layout API</h2>
<p>The API to create a flexible layout is surprisingly simple. You construct a <code>Layout()</code> object, then call <code>split()</code> to create sub-layouts. These sub-layouts may then be further divided. Layouts have a small number of settings which define their size relative to the terminal window. It's a simple system that can create terminal interfaces that almost resemble modern web apps.</p>
<div><figure> <img width="1140" height="724" title="layout_vscode.png" name="layout_vscode" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="2100" data-width="3308" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout_vscode" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>A Rich layout in VSCode</p>


</figcaption>

</figure>
</div>
<h2>Finally, some code</h2>
<p>Here's how you would create a basic layout with a header, a footer, and two side-panels.</p>
<pre><code>from rich.console import Console
from rich.layout import Layout

console = Console()
layout = Layout()

# Divide the "screen" in to three parts
layout.split(
    Layout(name="header", size=3),
    Layout(ratio=1, name="main"),
    Layout(size=10, name="footer"),
)
# Divide the "main" layout in to "side" and "body"
layout["main"].split(
    Layout(name="side"),
    Layout(name="body", ratio=2),
    direction="horizontal"
)
# Divide the "side" layout in to two
layout["side"].split(Layout(), Layout())

console.print(layout)
</code></pre>
<p>Running the code above produces the following output:</p>
<div><figure> <img width="1140" height="739" title="layout.png" name="layout" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="1464" data-width="2258" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>Terminal split in to 5 sub-layouts. The boxes are placeholders, you can insert any content in their place.</p>


</figcaption>

</figure>
</div>
<p>Any renderable (text, table, progress bars etc) may be placed inside those sub-layouts.</p>
<p>We can now use the <a href="https://rich.readthedocs.io/en/latest/live.html">Live</a> class to create an application that adapts itself to the terminal window:</p>
<pre><code>from rich.live import Live
from time import sleep

with Live(layout, screen=True):
    while True:
        sleep(1)
</code></pre>
<p>In a real app, that do-nothing loop will be doing something useful like pulling data from the network to update contents.</p>
<p>See the <a href="https://rich.readthedocs.io/en/latest/layout.html">layout docs</a> for an in-depth tutorial.</p>
<h2>What's next?</h2>
<p>I think it's clear that Rich is acquiring more TUI (text user interface) features, and I've decided not to fight it. Rich's core purpose is still to beautify CLI output, but I think there is an opportunity here for a new way to create terminal apps. Ultimately it will be less like curses and more like HTML in a browser.</p>
<p>There are a number of things to do before Rich could replace a full TUI library (keyboard and mouse input for one) but the potential is there. Stay tuned for progress.</p>
<p>Follow <a href="https://twitter.com/willmcgugan">@willmcgugan</a> for more Rich related news.</p>



</article></div>]]>
            </description>
            <link>https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147831</guid>
            <pubDate>Mon, 15 Feb 2021 21:41:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How and Why I‚Äôm spending $500k to acquire micro-SaaS products this month]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147633">thread link</a>) | @eyaltoledano
<br/>
February 15, 2021 | https://microangel.so/p/coming-soon?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews | <a href="https://web.archive.org/web/*/https://microangel.so/p/coming-soon?r=46t31&utm_campaign=post&utm_medium=web&utm_source=hackernews">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Welcome to Micro Angel! üëã</strong> </p><p>I‚Äôm <a href="https://www.twitter.com/eyaltoledano">Eyal</a>, an independent product maker. I spent the last 10 years of my career building and growing B2C and B2B startups, too often for others.  </p><p>I‚Äôm a bootstrapper at heart and obsessed with the 0 to 1 phase of building something from scratch. </p><p>But bootstrapping rhymes with time and pain and patience, things you and I are already short on. </p><p>If you‚Äôve already built something from scratch and sold it, you‚Äôre likely hard-wired to want to do it again. But that is pretty hardcore. Building something totally new is super hard and jarring.</p><p>But it‚Äôs no longer the only way. </p><p>It‚Äôs possible to keep working on the 0 to 1 process of building micro-SaaS products without all of the pain associated with starting from scratch. You can skip right to the fun part.</p><p>With as little as $5,000, you could land yourself a <em>starter Micro-SaaS</em> that is beyond launch and ready for iteration. </p><p>You can just jump right in and do your thing.</p><p>There is a shift in the world of (micro) entrepreneurship. The scales are tipping in favour of the small guys. And the even smaller ones still.</p><p>My interest in micro-SaaS products, bootstrapping and investing converges at a place that looks a lot like angel investing with a dose of influence from the real estate development world. </p><p>The progress of <a href="https://twitter.com/agazdecki">Andrew Gazdecki from MicroAcquire</a> has paved the way for an entirely new career archetype I will describe as the <em>micro angel.</em></p><p>A <strong>micro angel</strong> is just an individual with a bias for investing in products that they will independently grow and operate. </p><p>The term ‚Äòmicro‚Äô probably gives a hint to the size of the transactions. They‚Äôre smaller than small. They‚Äôre micro. But they don‚Äôt have to be.</p><p>Beyond buying and working on a single Micro-SaaS, the future also holds a lot of promise for investing at a portfolio scale:</p><ul><li><p>microacquire simplifies both sourcing and selling assets</p></li><li><p>products can be acquired for relatively low multiples in cases where revenue is flat or founder interest to sell is high</p></li><li><p>products are default-alive<a id="footnote-anchor-1" href="#footnote-1">1</a> which means buy-and-hold nearly guarantees a higher valuation 24 months later</p></li><li><p>products are extremely simple by nature, and thus low maintenance ‚Üí less reliance on active management</p></li><li><p>products are high-margin and cashflow positive ‚Üí provide immediate return on investment over fund‚Äôs lifetime, and any exit at maturity becomes pure bonus that exponentiates IRR</p></li><li><p>personal cashflow liberates the micro angel to choose between buy-and-hold (4 hour workweek, bank revenue) or buy-and-grow (actively work on the portfolio, cashflow pays self)</p></li></ul><p>There are two approaches:</p><p><strong>1) The Operator approach buys and grows:</strong> you buy products with the intent to actively work on them and grow ARR over the lifetime of the investment. This assumes you‚Äôre buying back most of your time through portfolio cashflow, reinvesting it into growing ARR and driving your return through that ARR multiple; or</p><p><strong>2) The Investor approach buys and holds:</strong> you buy products with the intent to passively maintain them, collect cashflows and recollect your original investment when you exit the investment. Your return is manifested in the cashflows you perceive, and any additional capital-gain when you exit is a pure bonus. You‚Äôre free to work on something else with your time (i.e. big startup idea).</p><p>There are probably more approaches and hybrids. It‚Äôs an exciting world to explore.</p><p>I‚Äôm inspired by the work of <a href="https://twitter.com/awilkinson">Andrew Wilkinson</a> and team at <a href="https://www.tinycapital.com/">Tiny Capital</a> (disclosure: I hold $WE stock). Their value prop has made it possible for founders clearing $500K-$5M/year to exit cleanly, quickly and painlessly. </p><p>In an indirectly related world, I also regularly follow what <a href="https://twitter.com/sweatystartup">Nick Huber</a> does with his approach to real estate investing. Nick specializes in self-storage for many of the same reasons I want to specialize in micro-SaaS products. They run themselves, are high margin, and command excellent cash-on-cash returns.</p><p>There‚Äôs a big opportunity for micro angels to build micro-SaaS portfolios producing ARR in the $50k-$500k/year range. These products fall <em>way</em> out of the range of the VC and PE firm world, and they also fall out of the scope of Tiny Capital and other similar funds. </p><p>But they‚Äôre perfect for micro angels. </p><p>This year, I‚Äôm going to invest $500k of my own money to build the first micro-angel portfolio of its kind. </p><p>My goal is to source and acquire products and grow the portfolio valuation so I can return at least 2x on my investment, 2 years later. While collecting the free cashflows in the meanwhile. </p><p>I‚Äôm going to share every little detail from designing the fund‚Äôs purpose and vision to sourcing, negotiating and closing deals. I expect to release monthly portfolio reports and share all of the revenue details along the way.</p><p>In the meantime, <a href="https://microangel.so/p/coming-soon?&amp;utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share">tell your friends</a>!</p></div></div>]]>
            </description>
            <link>https://microangel.so/p/coming-soon?r=46t31&amp;utm_campaign=post&amp;utm_medium=web&amp;utm_source=hackernews</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147633</guid>
            <pubDate>Mon, 15 Feb 2021 21:23:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Astronomers Confirm Solar System‚Äôs Most Distant Known Object Is Indeed Farfarout]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147551">thread link</a>) | @evilops
<br/>
February 15, 2021 | https://noirlab.edu/public/news/noirlab2108/ | <a href="https://web.archive.org/web/*/https://noirlab.edu/public/news/noirlab2108/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>











<h3>noirlab2108 ‚Äî Science Release</h3>



<h3>Gemini North helps define remote object‚Äôs distance and orbit</h3>
<p>10 February 2021</p>






<p>With the help of the international Gemini Observatory, a Program of NSF‚Äôs NOIRLab, and other ground-based telescopes, astronomers have confirmed that a faint object discovered in 2018 and nicknamed ‚ÄúFarfarout‚Äù is indeed the most distant object yet found in our Solar System. The object has just received its designation from the International Astronomical Union.</p>
<p dir="ltr">Farfarout was first spotted in January 2018 by the <a href="https://subarutelescope.org/en/">Subaru Telescope</a>, located on Maunakea in Hawai‚Äòi. Its discoverers <a href="https://carnegiescience.edu/planetx">could tell</a> it was very far away, but they weren‚Äôt sure exactly how far. They needed more observations.</p>
<p dir="ltr">‚Äú<em>At that time we did not know the object‚Äôs orbit as we only had the Subaru discovery observations over 24 hours, but it takes years of observations to get an object's orbit around the Sun,‚Äù </em>explained co-discoverer Scott Sheppard of the Carnegie Institution for Science. <em>‚ÄúAll we knew was that the object appeared to be very distant at the time of discovery.</em><em>‚Äù</em>&nbsp;</p>
<p dir="ltr">Sheppard and his colleagues, David Tholen of the University of Hawai‚Äòi and Chad Trujillo of Northern Arizona University, spent the next few years tracking the object with the <a href="https://noirlab.edu/public/programs/gemini-observatory/gemini-north/">Gemini North</a> telescope (also on Maunakea in Hawai‚Äòi) and the Carnegie Institution for Science‚Äôs <a href="https://obs.carnegiescience.edu/Magellan">Magellan Telescopes</a> in Chile to determine its orbit. <a href="#1">[1]</a> They have now confirmed that Farfarout currently lies 132 astronomical units (au) from the Sun, which is 132 times farther from the Sun than Earth is. (For comparison, Pluto is 39 au from the Sun, on average.)&nbsp;</p>
<p dir="ltr">Farfarout is even more remote than the previous Solar System distance record-holder, which was discovered by the same team and nicknamed ‚ÄúFarout.‚Äù Provisionally designated 2018 VG<sub>18</sub>, Farout is 124 au from the Sun.</p>
<p dir="ltr">However, the orbit of Farfarout is quite elongated, taking it 175 au from the Sun at its farthest point and around 27 au at its closest, which is inside the orbit of Neptune. Because its orbit crosses Neptune‚Äôs, Farfarout could provide insights into the history of the outer Solar System.</p>
<p dir="ltr">‚Äú<em>Farfarout was likely thrown into the outer Solar System by getting too close to Neptune in the distant past," </em>said Trujillo.<em>&nbsp;</em>‚Äú<em>Farfarout will likely interact with Neptune again in the future since their orbits still intersect.</em><em>‚Äù</em></p>
<p dir="ltr">Farfarout is very faint. Based on its brightness and distance from the Sun, the team estimates it to be about 400 kilometers (250 miles) across, putting it at the low end of possibly being designated a dwarf planet by the International Astronomical Union (IAU).</p>
<p dir="ltr">The IAU's Minor Planet Center in Massachusetts <a href="https://www.minorplanetcenter.net/mpec/K21/K21CI7.html">announced today</a> that it has given Farfarout the provisional designation 2018 AG<sub>37</sub>. The Solar System‚Äôs most distant known member will receive an official name after more observations are gathered and its orbit becomes even more refined in the coming years.</p>
<p dir="ltr">‚Äú<em>Farfarout takes a millennium to go around the Sun once,</em><em>‚Äù</em><em>&nbsp;</em>said Tholen.<em> ‚ÄúBecause of this, it moves very slowly across the sky, requiring several years of observations to precisely determine its trajectory.</em><em>‚Äù</em>&nbsp;</p>
<p dir="ltr">Farfarout‚Äôs discoverers are confident that even more distant objects remain to be discovered on the outskirts of the Solar System, and that its distance record might not stand for long.</p>
<p dir="ltr">‚Äú<em>The discovery of Farfarout shows our increasing ability to map the outer Solar System and observe farther and farther towards the fringes of our Solar System</em>,<em>‚Äù</em>&nbsp;said Sheppard. ‚Äú<em>Only with the advancements in the last few years of large digital cameras on very large telescopes has it been possible to efficiently discover very distant objects like Farfarout. Even though some of these distant objects are quite large ‚Äî the size of dwarf planets ‚Äî they are very faint because of their extreme distances from the Sun. Farfarout is just the tip of the iceberg of objects in the very distant Solar System.</em><em>‚Äù</em></p>
<h3>Notes</h3><p><a name="1"></a>[1] The Gemini North observations of Farfarout were done on 1 May and 2 May 2019 Universal Time, using <a href="https://www.gemini.edu/sciops/observing-gemini/proposal-routes-and-observing-modes/director039s-time">Director's Discretionary Time</a>.</p>
<h3>More information</h3><p dir="ltr"><a href="https://noirlab.edu/">NSF‚Äôs NOIRLab</a> (National Optical-Infrared Astronomy Research Laboratory), the US center for ground-based optical-infrared astronomy, operates the international <a href="https://www.noirlab.edu/public/programs/gemini-observatory/">Gemini Observatory</a> (a facility of <a href="https://www.nsf.gov/">NSF</a>, <a href="http://www.nrc-cnrc.gc.ca/eng/solutions/facilities/gemini.html">NRC‚ÄìCanada</a>, <a href="http://www.conicyt.cl/astronomia/oficina-gemini-chile/">ANID‚ÄìChile</a>, <a href="https://www.gov.br/mcti/pt-br">MCTIC‚ÄìBrazil</a>, <a href="http://www.geminiargentina.mincyt.gob.ar/">MINCyT‚ÄìArgentina</a>, and <a href="http://kgmt.kasi.re.kr/kgmtscience">KASI‚ÄìRepublic of Korea</a>), Kitt Peak National Observatory (<a href="https://www.noirlab.edu/public/programs/kitt-peak-national-observatory/">KPNO</a>), Cerro Tololo Inter-American Observatory (<a href="https://www.noirlab.edu/public/programs/ctio/">CTIO</a>), the Community Science and Data Center (<a href="https://www.noirlab.edu/public/programs/csdc/">CSDC</a>), and <a href="https://www.noirlab.edu/public/programs/vera-c-rubin-observatory/">Vera C. Rubin Observatory</a> (in cooperation with <a href="https://www.energy.gov/science/office-science">DOE</a>‚Äôs <a href="https://www6.slac.stanford.edu/">SLAC</a> National Accelerator Laboratory). It is managed by the Association of Universities for Research in Astronomy (<a href="https://www.aura-astronomy.org/">AURA</a>) under a cooperative agreement with <a href="https://www.nsf.gov/">NSF</a> and is headquartered in Tucson, Arizona. The astronomical community is honored to have the opportunity to conduct astronomical research on Iolkam Du‚Äôag (Kitt Peak) in Arizona, on Maunakea in Hawai ªi, and on Cerro Tololo and Cerro Pach√≥n in Chile. We recognize and acknowledge the very significant cultural role and reverence that these sites have to the Tohono O‚Äôodham Nation, to the Native Hawaiian community, and to the local communities in Chile, respectively.</p>
<h3>Links</h3><ul>
<li dir="ltr"><a href="https://www.hawaii.edu/news/2021/02/10/most-distant-planetoid-confirmed/">University of Hawai‚Äòi press release</a></li>
<li dir="ltr"><a href="https://subarutelescope.org/en/results/2021/02/10/2932.html%20">NAOJ/Subaru press release</a></li>
<li dir="ltr"><a href="https://www.minorplanetcenter.net/mpec/K21/K21CI7.html">Minor Planet Circular&nbsp;2021-C187</a></li>
<li dir="ltr"><a href="https://noirlab.edu/public/images/archive/search/?adv=&amp;subject_name=Gemini%20North">Photos of Gemini North telescope</a></li>
<li dir="ltr">2018 talk mentioning Farfarout by Scott Sheppard ‚Äú<a href="https://carnegiescience.edu/planetx">Beyond Pluto: the Hunt for a Massive Planet X</a>‚Äù</li>
</ul>

    <h3>Contacts</h3>

    

    <p>
        Scott Sheppard<br>
        Earth and Planets Laboratory<br>
        Carnegie Institution for Science<br>
        Tel: +1 202-478-8854<br>
        
        Email: <a href="mailto:ssheppard@carnegiescience.edu">ssheppard@carnegiescience.edu</a></p>
    <p>
        David Tholen<br>
        University of Hawai‚Äòi<br>
        
        
        
        Email: <a href="mailto:tholen@hawaii.edu">tholen@hawaii.edu</a></p>
    <p>
        Chad Trujillo<br>
        Northern Arizona University<br>
        
        
        
        Email: <a href="mailto:chad.trujillo@nau.edu">chad.trujillo@nau.edu</a></p>
    <p>
        Amanda Kocz<br>
        Press and Internal Communications Officer<br>
        NSF‚Äôs NOIRLab<br>
        
        Cell: +1 626-524-5884<br>
        Email: <a href="mailto:amanda.kocz@noirlab.edu">amanda.kocz@noirlab.edu</a></p>
    










    </div></div>]]>
            </description>
            <link>https://noirlab.edu/public/news/noirlab2108/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147551</guid>
            <pubDate>Mon, 15 Feb 2021 21:17:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Tough Legacy of Ulrike Meinhof (2016)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26147423">thread link</a>) | @Tomte
<br/>
February 15, 2021 | https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus | <a href="https://web.archive.org/web/*/https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div>
<div>
<div>
<p>BERLIN</p>
<p>Ulrike Meinhof sat at the foot of the bed in her West Berlin apartment, thumbing matches and cigarettes between her fingers. She rarely looked up, shooting stolid, vacant glances while speaking to a journalist from German broadcaster N3 about the difficulties facing political women in modern Germany. ‚ÄúIt‚Äôs much easier if you are a man, and have a wife who raises the children,‚Äù she said.</p>
<p>‚ÄúThe main problem for women is the gap between acting in a political role, and on the other hand, dealing with daily problems,‚Äù she added. ‚ÄúSometimes you feel helpless as a woman in this situation. This is the main problem for women. Their private life in accordance with their political life. This is the oppression of women.‚Äù</p>
<p>It was 1969: Just months later Meinhof would leave her two daughters to found the Red Army Faction, a hard-left political gang soon known as the Baader-Meinhof Group. By 1976 she would lay dead on a prison block floor having become the world‚Äôs most famous terrorist.</p>
<p>The group would continue until 1998, by then responsible for 34 deaths and dozens of violent attacks. Planes were hijacked, embassies held under siege and offices blown up. But 40 years after her death, Meinhof‚Äôs legacy remains one of postwar Germany‚Äôs greatest enigmas. Hero, murderer, fascist, communist, egalitarian, anti-Semite, feminist or misogynist. Whatever the truth behind her violent life, the way Meinhof was portrayed reveals attitudes toward political women, then and now.</p>
<hr>
<p>It was late evening on Saturday, May 8, 1976‚Ää‚Äî‚ÄäMother‚Äôs Day‚Ää‚Äî‚Ääwhen Meinhof bound together bits of blue-and-white towel, fixed it to the window grating in her cell at Stammheim Prison, outside Stuttgart, wrapped it round her neck, climbed on a stool and jumped to her death. It had been almost four years since she, alongside Red Army Faction co-founders Andreas Baader and Gudrun Ensslin and fellow member Jan-Carl Raspe, were arrested for their part in four murders, 54 attempted murders and one charge of forming a criminal association.</p>
<p>Germany had mostly turned against them by then, their brutal actions having spilled too much blood even for hard-left supporters to stomach.</p>
<p>Meinhof‚Äôs co-defendants had turned against her, too. For years the group had belittled and shamed her for perceived incompetencies. A month before her death, Meinhof stopped turning up for trial.</p>
<p>That she was able to hang herself in Cell 719 shocked and embarrassed German authorities. That she wanted to surprised no-one.</p>
<p>Of the hundreds of photos officers took that next morning, one stands out: Meinhof is laid on her back, eyes closed, mouth agape. The noose has cut her throat. The black of her open neck and thick, matted hair contrast against dead, cornsilk skin. It is, perhaps, a postmortem render of the Manichean worldview that Meinhof had killed for in life. Her true identity, however, is not so black and white.</p>
<p>Meinhof was born in 1934, the second daughter of middle-class Protestant parents in Oldenburg, in northwest Germany. Her family moved to Jena, where in 1940 her father, Werner Meinhof, died. In 1946 the family fled back to Oldenburg, Jena having been ceded to the new East German state after the Second World War.</p>
<p>By then the young boarder Meinhof‚Äôs mother had taken in upon her father‚Äôs death, Renate Riemeck, was beginning to have a profound effect on her. Riemeck, a prominent historian and peace activist, took over Meinhof‚Äôs upbringing altogether in 1949 when her mother, Ingeborg, succumbed to cancer. Meinhof studied in M√ºnster, where she became deeply involved in West Germany‚Äôs banned Communist Party (KPD). She also began working at <em>konkret</em>, a student magazine edited by Klaus Rainer R√∂hl, who would become her husband and father of her twin daughters, Bettina and Anja, born in 1962 (<em>konkret</em>, it would later be discovered, was controlled and financed by an East Berlin wing of the KPD.)</p>
<p>During her time at <em>konkret</em> Meinhof accumulated journalistic success: Her columns, increasingly radical in their political tone, became famed around Germany. When she and R√∂hl split in 1968, her view of female oppression was stark. ‚ÄúThe demand for equal rights no longer puts into question the social conditions of inequality that exist between people,‚Äù went an essay entitled ‚ÄúFalse Consciousness.‚Äù ‚ÄúOn the contrary, it merely wants inequality to be applied systematically.</p>



<p>‚ÄúIt demands equality within inequality: equality of the female worker with the male worker, of the female clerk with the male clerk, of the female civil servant with the male civil servant‚Ä¶‚Äù she added. ‚ÄúSuch demands for equal rights are the focus of every women‚Äôs union congress and every conference of businesswomen because so far equal rights only exist in law, not in practice. It seems that an unjust world is still having problems justly distributing its injustices.‚Äù</p>
<p>Meinhof‚Äôs work continued to follow a harder bent, trashing the war in Vietnam and praising four far-left radicals, including Baader and Ensslin, who had recently become Germany‚Äôs most wanted. The group had set fire to two Frankfurt department stores in 1968, in response to the police killing of a young student, Benno Ohnesorg, at a state visit of the Shah of Iran. In 1970 she helped break Baader out of prison, committing herself to a life on the run.</p>
<p>The difficulties in casting Meinhof as a feminist icon lay partly in her own views. On one hand, she devoted large swathes of her pre-Red Army Faction career to women‚Äôs causes, not least her work on the 1970 movie <em>Bambule</em> (a term meaning a kind of nonviolent protest), her last major work before founding the group, that polemicized the role children‚Äôs homes in West Berlin had on the vulnerable young people they held. During the film, Meinhof interviewed many girls who had been sexually abused, embroiled in drugs or prostitution or simply neglected.</p>
<p>In 1968 the feminist movement was roaring ahead in Western nations worldwide. Women in America were protesting beauty pageants, burning bras and marching for equality. Feminism wasn‚Äôt as strong in the Red Army Faction. ‚ÄúNone of us came from the feminist movement,‚Äù former member Inge Viett, active while Meinhof was in Stammheim, once told a biographer. ‚ÄúWe simply took the decision (to join), and then we fought and did all the same things as the men.‚Äù</p>
<p>Most, if not all, of Meinhof‚Äôs proto-feminist assertions were set firmly in the context of armed struggle. Dozens of books have examined the despotic way that Baader ruled over his female ‚Äúcomrades.‚Äù He enjoyed referring to them as <em>Votzen</em> (‚Äúcunts‚Äù). I am ‚Äúnot RAF‚Ä¶but cunt,‚Äù Meinhof herself said.</p>
<p>Neither does Meinhof‚Äôs worldview fit neatly with the modern paragon of a liberal freedom fighter. Her role in history has been muddied by the anti-Semitism she, and the group, espoused. When asked at the trial of another former member, Horst Mahler, what she thought of the 1972 Munich massacre, in which 11 Israeli athletes and a West German police officer were killed by the Palestinian group Black October, she replied: ‚ÄúHow was Auschwitz [then a metonym for the Holocaust] possible? What was anti-Semitism? It used the hatred of the people of their dependence on money as a medium of exchange, their longing for communism. Auschwitz means that six million Jews were murdered and carted on to the rubbish dumps of Europe for being that which was maintained of them: Money-Jews.‚Äù</p>
<p>The RAF and other hard-left groups formed largely because of a disillusionment with the process of ‚ÄúDenazification‚Äù in German society. Many who had been involved in Hitler‚Äôs Third Reich held onto powerful positions after the Second World War. ‚ÄúYou would think they were really pro-Jewish, but a lot of the groups became fantastically anti-Israel and pro-Palestine,‚Äù Richard Huffman, a longtime historian of the group, told me. ‚ÄúThey would parse it as anti-Zionism, but most people didn‚Äôt buy it, including me. The effects of it to an outside observer would be much the same.‚Äù</p>
<hr>
<p>Six days after Meinhof‚Äôs death, her brain was removed. J√ºrgen Peiffer, a pathologist from T√ºbingen, just an hour‚Äôs drive from the scene of Meinhof‚Äôs suicide, was first given the brain for study, until 1997‚Ää‚Äî‚Ääwhen it was handed over to psychiatrist Bernhard Bogerts in Magdeburg to be examined further. It wasn‚Äôt returned until 2002, when one of Meinhof‚Äôs daughters, Bettina R√∂hl, filed a lawsuit on charges of ‚Äúdisturbing the peace of the dead.‚Äù Even a dead terrorist, she argued, deserved a decent burial.</p>
<p>That year Bogerts claimed Meinhof‚Äôs brain showed ‚Äúpathological modifications,‚Äù suggesting that an operation she underwent when pregnant, at 26, to remove a tumor, could have precipitated her slide into radicalism. In his biography, Meinhof‚Äôs former husband, R√∂hl, said she became cooler, distanced and less sexually interested after the operation.</p>
<figure id="attachment_5024" aria-describedby="caption-attachment-5024"><a href="https://latterly.org/wp-content/uploads/2017/05/1-dZruoQA7ZIMmNMjeULGn1A.jpeg"><img loading="lazy" src="https://latterly.org/wp-content/uploads/2017/05/1-dZruoQA7ZIMmNMjeULGn1A.jpeg" alt="" width="350" height="434" srcset="https://latterly.org/wp-content/uploads/2017/05/1-dZruoQA7ZIMmNMjeULGn1A.jpeg 350w, https://latterly.org/wp-content/uploads/2017/05/1-dZruoQA7ZIMmNMjeULGn1A-242x300.jpeg 242w, https://latterly.org/wp-content/uploads/2017/05/1-dZruoQA7ZIMmNMjeULGn1A-339x420.jpeg 339w" sizes="(max-width: 350px) 100vw, 350px"></a><figcaption id="caption-attachment-5024">Andreas Baader</figcaption></figure>
<p>Years later, when Meinhof and R√∂hl had split and the former‚Äôs life as a left-wing paramilitary was blossoming, she attempted to dump her daughters at a Palestinian orphanage. The plan was scuttled only when Stefan Aust, a former <em>konkret</em> colleague who would later pen <em>Der Baader-Meinhof Komplex</em>, the book which would become a hit 2008 movie, kidnapped the girls while en route in Sicily and returned them to their father. Both have since grown up to be writers and vocal opponents of their mother‚Äôs politics.</p>
<p>Could Meinhof‚Äôs actions have been pathological? Or, as many have suggested, was she drawn to violence as much out of sexual desire for Andreas Baader as any political belief? ‚ÄúI think there‚Äôs a very common narrative about women being motivated by sexual or emotional dependence on men,‚Äù Katharina Karcher, a research associate at the University of Cambridge, told me. She was ‚Äúshocked‚Äù at similarities between media coverage of Meinhof and Beate Zsch√§pe, a member of the far-right National Socialist Underground that committed a series of murders of immigrants between 2000 and 2007.</p>
<p>Media outlets often focused not on Zsch√§pe‚Äôs participation in the crimes, nor ‚Ä¶</p></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus">https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus</a></em></p>]]>
            </description>
            <link>https://latterly.org/the-tough-legacy-of-ulrike-meinhof-af1387dace69#.nuodfljus</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147423</guid>
            <pubDate>Mon, 15 Feb 2021 21:08:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Migrating to PostgreSQL? Do Not Forget Foreign Data Wrappers Superpowers]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26147248">thread link</a>) | @PeterZaitsev
<br/>
February 15, 2021 | https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1075" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		<p><span>Millions of databases are being migrated to PostgreSQL today. This is because of the liberal </span><a href="https://www.postgresql.org/about/licence/"><span>PostgreSQL license</span></a><span> in particular that invited more contributions to PostgreSQL and eventually made it Enterprise Grade. I have </span><a href="https://www.youtube.com/watch?v=ltw7Hb9J9o0"><span>presented</span></a><span> and also blogged about some of the rich enterprise features as following, those are otherwise available for an additional cost with some commercial databases.</span></p>
<ul>
<li aria-level="1"><span><a href="https://www.percona.com/blog/2018/09/21/securing-postgresql-as-an-enterprise-grade-environment/"><span>Securing your PostgreSQL database cluster using built-in mechanisms</span></a></span></li>
<li aria-level="1"><a href="https://www.percona.com/blog/2018/09/28/high-availability-for-enterprise-grade-postgresql-environments/"><span><span>High availability and Automatic Failover in PostgreSQL</span></span></a></li>
<li aria-level="1"><span><a href="https://www.percona.com/blog/2018/09/25/postgresql-backup-strategy-enterprise-grade-environment/"><span>Robust PostgreSQL backups using built-in and open source tools.</span></a></span></li>
<li aria-level="1"><span><a href="https://www.percona.com/blog/2018/10/02/scaling-postgresql-using-connection-poolers-and-load-balancers-for-an-enterprise-grade-environment/"><span>Scaling PostgreSQL using connection poolers and load balancers</span></a></span></li>
<li aria-level="1"><span><a href="https://www.percona.com/blog/2018/10/08/detailed-logging-for-enterprise-grade-postgresql/"><span>Logging and analyzing the logs using Open Source tools in PostgreSQL</span></a></span></li>
<li aria-level="1"><span><a href="https://www.percona.com/blog/2018/10/09/postgresql-monitoring-set-up-an-enterprise-grade-server-and-sign-up-for-webinar-weds-10-10/"><span>Enterprise Grade Monitoring for your PostgreSQL using open source tools</span></a></span></li>
</ul>
<p><span>While it is great that there are several features available with Postgres by default, it may be challenging if there are no solutions to help with migrations to postgres. Fortunately, there are several contributions through extensions and Open source tools that made migrations to PostgreSQL very easy. In this blog post, we are going to discuss just one of those features.</span></p>
<h4><span>Foreign Data Wrappers (FDW)</span></h4>
<p><span>As of the most recently updated SQL standard, </span><span>ISO/IEC 9075:2016 aka SQL:2016,</span> <span><a href="https://en.wikipedia.org/wiki/SQL_compliance"><span>PostgreSQL tops the compliance chart</span></a></span><span> when compared with Oracle, DB2, SQL Server and MySQL, qualifying </span><span><a href="https://www.postgresql.org/docs/13/features.html"><span>170 of the 177 SQL standards</span></a></span><span>.</span></p>
<p><span><strong>SQL/MED</strong> is one of the standards that was originally defined as part of the SQL standard updated in 2003 (SQL:2003). MED stands for Management of External Data, the data that is accessible but not managed by the DBMS itself. Using FDW(s), objects of a heterogeneous database can be transparently mapped to PostgreSQL. This helps a user to SELECT FROM or WRITE TO a remote homogeneous/heterogeneous database from a Postgres database.</span></p>
<p><span>As seen in the following image, we can join an Oracle table with a Postgres table using Oracle FDW on a postgres server.</span></p>
<p><img loading="lazy" src="https://www.migops.com/blog/wp-content/uploads/2021/02/Blank-board-1.png" alt="FDW" width="544" height="334" srcset="https://www.migops.com/blog/wp-content/uploads/2021/02/Blank-board-1.png 1003w, https://www.migops.com/blog/wp-content/uploads/2021/02/Blank-board-1-300x184.png 300w, https://www.migops.com/blog/wp-content/uploads/2021/02/Blank-board-1-768x471.png 768w" sizes="(max-width: 544px) 100vw, 544px"></p>
<h5><strong>Features offered by some of the foreign data wrappers</strong></h5>
<ol>
<li><span> Optimization of remote queries to reduce the amount of data transferred between the servers.</span></li>
<li><span> Predicate push down</span></li>
<li><span> Join push down</span></li>
<li><span> Aggregate push down</span></li>
</ol>
<h5><strong>Advantages of FDW(s) while migrating to PostgreSQL</strong></h5>
<p>Following are some of the advantages of foreign data wrappers while migrating to PostgreSQL.&nbsp;</p>
<p><strong>Schema Migrations to PostgreSQL</strong></p>
<p><span>Some of the database migrations from Oracle like databases can be simply done using oracle_fdw like foreign data wrappers. Using the IMPORT FOREIGN SCHEMA syntax, a schema similar to Oracle can be created in the postgres database. Oracle_FDW does an automatic conversion of Oracle data types to an appropriate postgres data type and creates tables and views with the same structure as of the Oracle schema.&nbsp;</span></p>
<p><span>Following is an example of how the schema : HR of an Oracle database : xepdb1 running on host : 192.168.10.1 is being migrated to PostgreSQL using oracle_fdw.&nbsp;</span><span>All these steps will be executed on the Postgres database and nothing on the Oracle database.&nbsp;</span></p>
<pre>CREATE SERVER oracle_server<br>FOREIGN DATA WRAPPER oracle_fdw<br>OPTIONS (dbserver '//192.168.10.1:1521/xepdb1');<p>GRANT USAGE ON FOREIGN SERVER oracle_server TO postgres;</p><p>CREATE USER MAPPING FOR postgres<br>SERVER oracle_server<br>OPTIONS (user 'SYSTEM', password 'SYSTEM');</p><p>CREATE SCHEMA hr_fdw;</p><p>IMPORT FOREIGN SCHEMA "HR" FROM SERVER oracle_server INTO hr_fdw;</p><p>postgres=# select count(*) from hr_fdw.countries;<br>&nbsp;count<br>-------<br>&nbsp; &nbsp; 25<br>(1 row)</p></pre>
<p>As seen in the above log, we could run a select on a postgres database that is getting the count of records of a table from an Oracle table.&nbsp;</p>
<p><b>Data Migration to PostgreSQL</b></p>
<p><span>FDW(s) can be used to migrate data from a remote heterogeneous database to PostgreSQL. As seen in the following example, using oracle_fdw, we can run a simple insert command that can select data from an oracle database table and insert it into a postgres table.&nbsp;</span></p>
<pre><span>INSERT INTO hr.countries (country_id, region_id, country_name) <br>     SELECT (country_id, country_name, region_id) FROM hr_fdw.countries;</span></pre>
<p><b>Data validation upon migration to PostgreSQL</b></p>
<p><span>One of the challenges faced by developers and admins migrating to PostgreSQL is the data validation. It is very difficult to validate the data between 2 heterogeneous databases. One may have to write an application comparing the data or find some other complex ways to do the same. Foreign data wrappers can be a saviour here. We can join the postgres table and the source table to check for any missing data using different combinations of the powerful SQL language.&nbsp;</span></p>
<pre><span>SELECT id<br></span><span>FROM oracle_table ora<br></span><span>WHERE NOT EXISTS<br></span><span>&nbsp;&nbsp;&nbsp;&nbsp;(SELECT *<br></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM postgres_table pg<br></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE pg.id = ora.id);</span></pre>
<p><strong>Please note :</strong></p>
<p><span>Not all DBaaS platforms allow us to create foreign data wrappers. For example, Amazon RDS or Aurora does not list <span><a href="https://github.com/laurenz/oracle_fdw">oracle_fdw</a></span> as one of the supported extensions. What to do in such cases ? Let us see a step by step technical approach on how to deal with that in our next blog post. Please subscribe to our blog posts to follow our latest updates on migrations to postgres. Please <a href="https://www.migops.com/contact-us/">contact us</a> to know how we can assist you while performing migrations to PostgreSQL.&nbsp;</span></p>

  <!-- .wpforms-container -->
		
		
			</div><!-- .entry-content .clear -->
</div>

	
</article></div>]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/role-of-foreign-data-wrappers-in-migrations-to-postgresql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147248</guid>
            <pubDate>Mon, 15 Feb 2021 20:56:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Part 2 ‚Äì Looking at GSM 30 years later]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26147209">thread link</a>) | @hoppla
<br/>
February 15, 2021 | https://harrisonsand.com/posts/decrypting-gsm/ | <a href="https://web.archive.org/web/*/https://harrisonsand.com/posts/decrypting-gsm/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>In this post, I‚Äôll go over how to decrypt your own 2G GSM SMS messages by pulling encryption keys off your SIM card and processing the data with gr-gsm.</p>
<p>In a <a href="https://harrisonsand.com/posts/gsm-security/">previous post</a>, I looked at how to decode and start analyzing GSM traffic. If you haven‚Äôt read that yet, I suggest you start there. I‚Äôm going to assume you have your environment set up to that point.</p>

<p>Before you take your capture, it‚Äôs helpful to know a bit about how GSM encryption works. There are two important keys to be aware of:</p>
<ul>
<li><strong>Ki (Subscriber key)</strong> - Essentially a ‚Äúmaster key‚Äù that‚Äôs stored in your SIM card and never leaves. The key is set during SIM production and doesn‚Äôt change.</li>
<li><strong>Kc (Cipher key)</strong> - The key used to encrypt traffic over the air. Kc is a derivative of the Ki and rotated at regular intervals.</li>
</ul>
<p>Before a call or text, the mobile network sends an Authentication Request message to the phone. Inside this message is a 16-byte random value (RAND). RAND is sent to the SIM card and combined with Ki to make Kc. The SIM then exposes Kc to the modem so the session can be encrypted.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/authentication-request.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/authentication-request_hue9ec807da32e27c41f2c0e9ee47aed66_318473_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
  </figure>


<p>It‚Äôs important to remember that the Kc will change <em>before</em> each call or text. So if we want to decrypt our traffic, we need to get the key <em>after</em> a particular session has occurred.</p>

<p>You essentially have two ways to get the Kc off the SIM. Either by interfacing with the modem or by talking to the SIM directly with a card reader. Both methods work, but I find using a card reader less complicated.</p>
<p>The process for getting access to the modem is highly dependent on what type of phone you have. You have to find the modem‚Äôs serial interface and send it raw AT commands. Sometimes the serial interface is exposed over USB, or if you have root access, you might be able to find it in the <code>/dev/</code> directory. If you do get access to the modem, I have had luck with the following AT command: <code>AT+CRSM=176,20256,0,0,9</code>.</p>
<p>If you use a card reader, tools like <a href="https://github.com/L1L1/cardpeek">Cardpeek</a> or <a href="http://www.nobbi.com/download.html">SIMspy II</a> can help you read the Kc from the SIM.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/card-reader.jpg">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_800x0_resize_q85_bg002b36_lanczos.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_1200x0_resize_q85_bg002b36_lanczos.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_1600x0_resize_q85_bg002b36_lanczos.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/card-reader_hu4ae727a8567df7d1ae0dfb0a6220a3fd_2460875_800x0_resize_q85_bg002b36_lanczos.jpg" alt="">
    </a>
    
    <figcaption><p>HID OMNIKEY 6121 and some adapters</p></figcaption>
    
  </figure>


<p>Using Cardpeek is reasonably straightforward. After you perform your capture insert the SIM card into the reader, plug the reader into the computer, and select <code>Analyzer &gt; GSM SIM</code>.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/cardpeek.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/cardpeek_hu1503b0179b498722069df8a8dd3b3f6e_116545_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
  </figure>


<p>The last byte (<code>03</code> in the screenshot) is a sequence number and is not part of the key.</p>

<p>As discussed in the previous post, the first step to decoding traffic is to figure out what channel the communication takes place on. The phone and base station (BTS) make this decision over the BCCH channel.</p>
<p>This is what happens when you receive something:</p>
<ol>
<li>The BTS sends a <em>Paging Request</em> to the phone</li>
<li>The phone sends a <em>Channel Request</em> to the BTS</li>
<li>The BTS sends an <em>Immediate Assignment</em> to the phone</li>
<li>Communication continues on a dedicated channel</li>
</ol>
<p>(You skip the first step when sending)</p>
<p>For this test, we‚Äôre only capturing downlink traffic from the BTS. Because of this, we only see one side of the assignment procedure, and it‚Äôs not possible to determine which Immediate Assignment messages are our own. However, if you keep your capture time short, it‚Äôs easy enough to figure out. There usually aren‚Äôt too many different channel configurations sent out within a limited time window.</p>
<p>Use this display filter to show relevant Immediate Assignment messages: <code>gsm_a.rr.dedicated_mode_or_tbf == 0</code></p>
<p>Under <code>Channel Description</code> make a note of:</p>
<ul>
<li>Timeslot</li>
<li>Hopping Channel</li>
<li>MAIO</li>
<li>HSN</li>
</ul>

<p>I‚Äôll assume you‚Äôve already read the de-hopping section in the <a href="https://harrisonsand.com/posts/gsm-security/">previous post</a>. However, a key difference here is that we‚Äôll export the raw bursts to a file after de-hopping them in GRC. Exporting the bursts allows us to keep things simple and use the <code>grgsm_decode</code> utility for decryption.</p>




<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/gr-gsm-bursts_huaad8d17b6b7c567becd3b505bbe4b33d_106672_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
    <figcaption><p>De-hopping traffic and exporting the bursts</p></figcaption>
    
  </figure>


<p>You‚Äôll need to configure the blocks to match the data found in the Immediate Assignment packet, as well as a few other parameters discussed in the last post. You can download my GRC bursts example <a href="https://harrisonsand.com/posts/decrypting-gsm/grgsm_hopping_bursts.grc">here</a>.</p>
<p>After executing the flow graph, you should have a burst file to use with <code>grgsm_decode</code>:</p>
<div><pre><code data-lang="plaintext">grgsm_decode -b /tmp/bursts -t 1 -m SDCCH8
</code></pre></div><p>If you see a <code>Ciphering Mode Command</code> message you‚Äôve successfully de-hopped the traffic.</p>

<p>At this point, decrypting traffic is easy. All you need to do is add the <code>-e</code> flag with the mode from the Cipher Mode Command message, and the <code>-k</code> flag with the Kc key from the SIM.</p>
<div><pre><code data-lang="plaintext">grgsm_decode -b /tmp/bursts -t 1 -m SDCCH8 -e 3 -k AB8CE2B5B7F7477B
</code></pre></div>



<figure>
    <a href="https://harrisonsand.com/posts/decrypting-gsm/sms.png">
      <img loading="lazy" srcset="
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_800x0_resize_q85_bg002b36_lanczos_2.jpg 1x,
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_1200x0_resize_q85_bg002b36_lanczos_2.jpg 1.5x,
          https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_1600x0_resize_q85_bg002b36_lanczos_2.jpg 2x" src="https://harrisonsand.com/posts/decrypting-gsm/sms_hu7d2b732f679c6582f884b5ab2e6a8a8b_248434_800x0_resize_q85_bg002b36_lanczos_2.jpg" alt="">
    </a>
    
    <figcaption><p>Decrypted SMS</p></figcaption>
    
  </figure>



			</div></div>]]>
            </description>
            <link>https://harrisonsand.com/posts/decrypting-gsm/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147209</guid>
            <pubDate>Mon, 15 Feb 2021 20:53:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fastcheck: Property based testing for JavaScript and TypeScript]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26147011">thread link</a>) | @alokrai
<br/>
February 15, 2021 | https://dubzzz.github.io/fast-check.github.com/ | <a href="https://web.archive.org/web/*/https://dubzzz.github.io/fast-check.github.com/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page-wrapper">
			
			
			<section>
				<div>
					<p>
							Property based testing is <strong>another way to test</strong> programs.
							Instead of relying on hard-coded inputs and outputs, it <strong>checks characteristics of the output</strong> given the whole range of possible inputs.
						</p>
				</div>
			</section>
			<section>
				<div>
					<div>
						<section>
							<div>
								<h3>Coverage <a href="#coverage">more &gt;</a></h3>
								<p>
									By nature, property based testing puts less constraints on the inputs.
									As a consequence, the scope of covered inputs is much higher and can lead to unexplored code paths
								</p>
							</div>
						</section>
						<section>
							<div>
								<h3>Reproducible <a href="#reproducible">more &gt;</a></h3>
								<p>
									Runs are seeded and fully reproducible
								</p>
							</div>
						</section>
						<section>
							<div>
								<h3>Shrink <a href="#shrink">more &gt;</a></h3>
								<p>
									In case of failure, the framework is responsible to come with a minimal failing case easy to troubleshoot
								</p>
							</div>
						</section>
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Getting started</h2>
						<p>Property based testing frameworks check the truthfulness of properties</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Add <em>fast-check</em> to your project:</p>
						<pre><code>npm install --save-dev fast-check</code></pre>
						<p>Example of integration with <em>Jest</em> or <em>Mocha</em>:</p>
						<pre><code>import * as fc from 'fast-check';

const sort = arr =&gt; arr.slice(0).sort((a,b) =&gt; a-b);

test('should order elements from the smallest to the highest', () =&gt; fc.assert(
	fc.property(
		fc.array(fc.integer()),
		arr =&gt; {
			const sortedArr = sort(arr);
			for (let idx = 1 ; idx &lt; sortedArr.length ; ++idx)
				if (sortedArr[idx - 1] &lt;= sortedArr[idx])
					return false;
			return true;
		}
	)
));</code></pre>
						<p>In a nutshell:</p>
						<ul>
							<li><em>fc.assert</em> runs the property</li>
							<li><em>fc.property</em> defines the property</li>
							<li><em>fc.array(fc.integer())</em> defines the inputs the framework has to generate</li>
							<li><em>arr =&gt; { ... }</em> checks the output against the generated value</li>
						</ul>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Coverage</h2>
						<p>Discover uncovered code paths</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Let's consider a simple <em>serialize</em> function, offering its users the ability to set custom settings to tweak the resulting string</p>
						<pre><code>function serialize&lt;T&gt;(instance: T, params: Parameters): string { /* code */ }</code></pre>
						<p>
							In the scenario above, an exhaustive test would have to run throughout all the possible combinations of <em>params</em> with many possible <em>instance</em>.
							An alternative to such example-based tests would be to rely on properties.
							It would offer an exhautive coverage of the possible inputs.
							Given we also have a <em>deserialize</em> function we would simply write:
						</p>
						<pre><code>test('should be able to read itself', () =&gt; fc.assert(
	fc.property(
		fc.jsonObject(),
		fc.record({
			crlf: fc.boolean(),
			indent: fc.boolean(),
			sortKeys: fc.boolean()
		}, { withDeletedKeys: true }),
		(instance, params) =&gt; {
			expect(deserialize(serialize(instance, params))).toEqual(instance);
		}
	)
));</code></pre>
						<p>
							Such property was able to detect bugs in both <em>js-yaml</em> and <em>query-string</em>
						</p>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Reproducible</h2>
						<p>Replay the same test after a fix</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>Whenever <em>fast-check</em> detects a problem, it will print an error message containing the settings required to replay the very same test</p>
						<pre><code>Error: Property failed after 1 tests (seed: 1527423434693, path: "0:0:0"): ["","",""]
Shrunk 2 time(s)
Got error: Property failed by returning false</code></pre>
						<p>
							Given this message the test can easily be replayed by using:
						</p>
						<pre><code>test('the failing test', () =&gt; fc.assert(
	fc.property(
		// some arbitraries... 
		// check method
	), { // seed and path taken from the error message
		seed: 1527423434693,
		path: "0:0:0"
	}
));</code></pre>
						<p>
							Setting both <em>seed</em> and <em>path</em> will replay the test starting with the latest failing case.
							If you want to replay the whole test suite, you should only set the <em>seed</em>
						</p>
						
					</div>
				</div>
			</section>
			<section>
				
				<div>
					<header>
						<h2>Shrink</h2>
						<p>Get a better understanding of the errors</p>
					</header>
				</div>
			</section>
			<section>
				<div>
					<div>
						<p>
							Whenever a test fails, <em>fast-check</em> will try to ease your investigations by providing you with the minimal failing case.
							Sometimes it is not enough and having all the failures might help.
							For this precise need, <em>fc.assert</em> accepts an optional configuration: <em>verbose: true</em>. 
						</p>
						<pre><code>test('the failing test', () =&gt; fc.assert(
	fc.property(
		// some arbitraries... 
		// check method
	), { verbose: true }
));</code></pre>
						<p>
							With this setting enabled the error message will look like:
						</p>
						<pre><code>Error: Property failed after 1 tests (seed: 1527423434693, path: 0:0:0): ["","",""]
Shrunk 2 time(s)
Got error: Property failed by returning false

Encountered failures were:
- ["","JeXPqIQ6","&gt;q"]
- ["","","&gt;q"]
- ["","",""]</code></pre>
						
					</div>
				</div>
			</section>
			
			<p><a href="https://github.com/dubzzz/fast-check"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
		</p></div></div>]]>
            </description>
            <link>https://dubzzz.github.io/fast-check.github.com/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26147011</guid>
            <pubDate>Mon, 15 Feb 2021 20:37:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Join me in the $1k shitcoin challenge]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146942">thread link</a>) | @chovybizzass
<br/>
February 15, 2021 | https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5 | <a href="https://web.archive.org/web/*/https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://odysee.com/@chovy:a/screencast-2021-02-15-11.34.40:5</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146942</guid>
            <pubDate>Mon, 15 Feb 2021 20:31:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Games as Mental Comfort Food: A Year with Europa Universalis 4]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146906">thread link</a>) | @autoditype
<br/>
February 15, 2021 | https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/ | <a href="https://web.archive.org/web/*/https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

				

			<p><strong>Author</strong>: <a href="http://twitter.com/elmarcel">@elmarcel</a>, professional game developer in Sweden</p>
<p><em>This is a guest post and does not represent the views of CheckPoint.</em></p>

<h3>Late 2014.</h3>
<p>I was working a job abroad that I had loved for years: interesting work, fun colleagues, and a great boss. I had a nice circle of friends, and after a lot of flathopping I had finally found a flatshare with agreeable people. Life was good. I was completely miserable. I had no energy, motivation, or ambition. Problems concentrating. As a software developer, it was quite detrimental to my work. I came to work late, every day. Mornings, I wanted to stay in bed indefinitely. Always tired, even after a long sleep. Dreading the fact that soon as I would get up, a new day would start, with all the difficulties that brings with it. Evenings were opposite: I didn‚Äôt go to bed until I nearly collapsed, afraid to admit that the day was a wash, and also delaying the sleep that would see me waking up anew. Life was gray and tasted like cotton.</p>
<h4>In hindsight, I was suffering from a severe clinical depression that was pulling me to the edge of functionality.</h4>
<p>I felt terrible, and couldn‚Äôt imagine myself feeling even slightly less terrible anywhere in the future. Following a correct intuition, I quit, packed my bags, and flew home. I was very lucky that I did that when I did. As soon as the structure of a regular day job was removed, I regressed into a lethargic existence. No appetite for food. No ambition to work on a hobby project. Even though I have decent amount savings, I don‚Äôt travel, not even to meet close friends. I also don‚Äôt practice any of my other hobbies: reading, writing, photography. I don‚Äôt even feel bored or sad; and if I do, it‚Äôs such a constant presence that I stopped noticing a long time ago.</p>
<p>How I occupy my day is straightforward. I live with my father, and this makes things a lot easier then they would be living alone. He wakes me at 10:00, and I force myself to take a shower every day. I skip breakfast, as I have since I hit puberty. Lunch at 12:00. Dinner at 18:00. Him being there is enough for me to make the effort to eat. That just leaves the rest of the day. Most people that have depression are incredibly ineffective. I definitely am. Taking a shower is not a ten-minute task. It can take a long time of mental preparation, and a long time of ‚Äúorganized retreat‚Äù/recuperation after the fact. I retreat in my own head, by which I mean occupying myself with some tasks with that had little or no feedback in the real world. There‚Äôs a lot of time I feel I need to spend away from day to day life, and that time need to be filled, somehow. I do some consulting, whenever I feel able to, even though I get nothing out of it. On bad days it‚Äôs so difficult and boring it makes me want to cry. I watch some shows, which was my main occupation the previous time I had a similar episode. I try to meet up with friends, even though I‚Äôm incredibly clumsy in social situations, and they are mostly unavailable.</p>

<h3>But above all, and probably more than everything else combined, I play Europa Universalis 4, or EU4 for short.</h3>

<p><img loading="lazy" src="https://i2.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_release_screen_6-1024x576.jpg?resize=839%2C472&amp;ssl=1" alt="" width="839" height="472" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_release_screen_6-1024x576.jpg?resize=839%2C472&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>EU4 is a grand strategy game, where a player takes charge of a country (in the form of ‚Äúan‚Äù invisible guiding hand‚Äù) and tries to achieve goals which are largely left to the player to define. The game simulates the entire world between 1444, when the Ottomans won at Varna and started to expand into the Balkans, until 1821, the death of Napoleon. Close to three thousand individual provinces divided between more than a thousand nations. There is a strong focus on war, but diplomacy and economy are very complex and important mechanics as well. More than in most other games, alliances are important, wars are fought for specific reasons, and being stabbed in the back by the AI hurts. My main interest in the game is in its depth. If I‚Äôm being threatened by a stronger neighbor, I could try to marry my dynasty into another in the hope of securing another alliance. Or I could take out a lot of loans, hire another nation‚Äôs army as mercenaries, and figure out a way to deal with the resulting inflation later. Or I could ally his ally, forcing him to fight his own ally to get to me. Or finally, the military option, where being the weaker nation my only recourse is to salt my own lands and harry him for decades, hoping he‚Äôll have to give up due to an internal conflict. Getting to know EU4 well enough to play a proper campaign takes longer than it takes to finish many AAA games, and it‚Äôs a funstrating process. Afterwards, a lot of the satisfaction of playing is applying a large understanding of the game in an effective way, while still brushing up on the more obscure rules and mechanics.</p>
<p>It‚Äôs not the only title I play. EU4 is made by a Paradox Interactive, which specialize in grand strategy games. I‚Äôve played virtually all of their games. Crusader Kings 2, which is the most critically acclaimed one, where you play as a medieval lord or lady. It‚Äôs probably best described as ‚Äúthe sims‚Äù welded to a medieval inheritance law simulator with a dash of eugenics: a player can start and stop wars, marry and cheat, raise or ‚Äúneutralize‚Äù their heir, and many, many more actions. It has been praised for its emergent storytelling, and it‚Äôs a true classic. There‚Äôs also Victoria 2, which lets you pick any country in the world, and guide it through Victorian times. Hearts of Iron 4, a straight up military strategy game set in WW2. And finally, Stellaris, a sci-fi 4x game with an emphasis on narrative. But it‚Äôs EU4 where I, and most other people who seriously get into Paradox games, choose to spend the bulk of our time.</p>
<h4>The starting situation is the identical every time.</h4>
<p>England owns parts of France and looks hungrily towards Scotland. Norway and Sweden chafe t being vassals of Denmark. The Moors are barely hanging on in Andalucia, anticipating Castille‚Äôs coup de grace. The Holy Roman Empire is a colorful patchwork of small, wealthy states, shepherd over by an overbearing Austria. Russia is not on the map, as Muscovy and Novgorod still need to fight for supremacy. China seems to dominate the Far East, mainly due to his size. India is roughly divided and fought over by four contenders: Vijianagar, Jaipur, and Bengal. Several hordes divide Central Asia between them, pillaging from their more docile neighbors. South East Asia and Sub-Saharan Africa are volatile, with hundreds of small kingdoms fighting to come out on top. The Americas are large swathes of uninhabited land only occasionally occupied by a migrating tribe, relatively peaceful while it‚Äôs still undiscovered by the Europeans.</p>
<p>Every game is memorable and unique. In EU4, countries have an opinion about each other. One country might like another because they have mutual enemies, marriage ties, or the other nation simply made a significant monetary gift. Or it may hate another due to an existing grudge, historical disputes over land, or simple rivalry. The initial opinions of countries towards each other does change every game. The fate of Europe is largely decided by who France decides to ally. If it allies Austria, everything on the continent will happen by their fiat. In any case, France is just waiting for an excuse to fight England, a fight which it can‚Äôt lose. Meanwhile, a nation that allies England or Denmark has effectively tied a millstone around their neck: Denmark sits on top of a volcano of powerful, disloyal vassals while England needs boats to fight anywhere, and tends to tie up its forces in its overseas ambitions. Muscovy will crush Novgorod and form Russia. Who it will ally is, just as Poland, anyone‚Äôs guess, but it‚Äôs guaranteed they will both hate the Ottomans. The Ottomans don‚Äôt need any allies, and the only thing that can stop them in the West is a unified bloc of Austria, Poland, and perhaps Hungary. The game keeps it fresh with the occasional curveball though: the pope allying the Ottomans, Sweden colonizing North America. Aztecs driving the Spanish into the ocean.</p>

<p><img loading="lazy" src="https://i1.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_pdxcon_screenshot_10-1024x576.png?resize=876%2C493&amp;ssl=1" alt="" width="876" height="493" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/checkpoint.org.au/wp-content/uploads/2017/12/europauniversalisiv_pdxcon_screenshot_10-1024x576.png?resize=876%2C493&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<h3>It took a year before I realized something was fundamentally wrong with me.</h3>
<p>I haven‚Äôt mentioned it before, but half a decade ago I had a similar episode of depression. It lasted about 2 years, which would make it 3 years in total before I started to accept the idea that something might be terribly wrong. Luckily, I eventually had the correct reaction and looked for help. That doesn‚Äôt mean I was in front of a doctor or psychologist the next day. Or week. Between all the research, telephone calls, waiting lists, etc, it takes me over two months to finally meet with a psychologist. Not a psychiatrist yet, because that still sounded too scary in my head. When I meet my psychologist the first time, I tell her about my treacle-dunked life. It‚Äôs a surprisingly superficial conversation. At this point, I know I have a clinical depression, even if I‚Äôm not quite ready to admit it to myself. She doesn‚Äôt need to be told much before she realizes the same. The rest of the session she tries to reassure me by dispelling any myths and stereotypes about therapy. I don‚Äôt need to be told. I have quite a lot of experience with mental illness, due to a high prevalence in my family. We agree to start weekly sessions.</p>
<h4>It‚Äôs frequent, but I am disappointed.</h4>
<p>Now that I finally have an idea about what my problem is, I want to meet more often, I‚Äôm anxious to finally start working on my problems as soon as possible. I‚Äôm a programmer, it‚Äôs my natural reflex. But we meet once every week. The kind of therapy we do is never named, and I haven‚Äôt looked it up. I‚Äôve had good luck finding my psychologist, we get along well. She‚Äôs very good at helping me understand what I am experiencing. She helps me admit to myself that, even though I know a better life is out there, to genuinely believe I can work towards getting there, right. She shows me why self-care is a crucial first step to take, as well as a valuable skill for the rest of my life. And I hesitantly start taking care of myself, one ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/">https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/</a></em></p>]]>
            </description>
            <link>https://checkpointorg.com/games-as-mental-comfort-food-a-year-with-europa-universalis-4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146906</guid>
            <pubDate>Mon, 15 Feb 2021 20:27:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How a Bedding Company Built an Open-Source ESP8266 Dev Board?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146745">thread link</a>) | @pcbmaker21
<br/>
February 15, 2021 | https://www.maloufelectronics.com/story/ | <a href="https://web.archive.org/web/*/https://www.maloufelectronics.com/story/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <h2>Our Story</h2>
<h4>What We Made</h4>
<p>Malouf Electronics ESP8266 Development Board</p>
<p><img src="https://www.maloufelectronics.com/global-assets/files/ad9072c350d0156b4d3f977706980586.jpg" alt="dev-boards-photo"></p>
<ul>
<li>High-capacity ESP8266 with 16MB flash</li>
<li>Compatible with the latest Arduino IDE/Mongoose IoT/Micropython</li>
<li>Built-in Micro-USB with CH340C chip</li>
<li>MAX232 chip with terminal block</li>
<li>Relay with terminal block ( NO/COM/NC )</li>
<li>IR blaster LED and IR receiver</li>
<li>Features red and green indicator LEDs and easily accessible GPIO pins</li>
<li>Includes terminal block for 5V power &amp; RX/TX for RS-232</li>
<li>Available for around $20 bucks on <a href="https://www.amazon.com/dp/B08GY2GTW5?ref=myi_title_dp">Amazon</a> </li>
</ul>
<h4>How We Got Here</h4>
<p>We work for Malouf√¢‚Äû¬¢, a home good and sleep tech company in Logan, Utah. Our company employs about 800 people (including our team of 26 software engineers, hardware engineers, and data specialists) to create, sell, market, and distribute thousands of products. Unsurprisingly, a development board was never on our list of items to create for consumers√¢‚Ç¨‚Äùbut it√¢‚Ç¨‚Ñ¢s now available on <a href="https://www.amazon.com/dp/B08GY2GTW5?ref=myi_title_dp">Amazon</a>. </p>
<p>So how did we get here? One of our team√¢‚Ç¨‚Ñ¢s jobs is optimizing distribution technology at our network of six facilities (and growing). A distribution center we purchased from Toys R√¢‚Ç¨‚Ñ¢ Us in Midlothian, Texas came equipped with miles of conveyor belts designed to streamline the shipping and packing process, but we couldn√¢‚Ç¨‚Ñ¢t get the system to communicate with the technology we had.  Rather than call in outside specialists, our company decided to use the resources at hand√¢‚Ç¨‚Äùus. </p>
<p><img src="https://www.maloufelectronics.com/global-assets/files/fa39759b49db1a0c506b4d1fcccbf537.jpg" alt="over-head-scanners"></p>
<p>We set up a electronics lab in our corporate office and got to work on creating a PCB board for use in gigantic distribution centers to read barcode data from our parcels and sort the packages. But as we were building it, we realized we were creating an ideal board for makers. You can essentially use it to build whatever you want. </p>
<p>As a rule, most builders and makers have issues with the establishment. We agree, though we ironically work for a corporation√¢‚Ç¨‚Äùalbeit a cool one. Our engineering team wanted to manufacture and sell the board online and to show others how to build it by making the tech <a href="https://github.com/MaloufSleep/ME-ESP8266">open source</a>. Profit was never a goal, even though we had to pitch it to our CTO and get the company to invest on the initial order. We expected a hard no. </p>
<p>He said "Yes". </p>
<p>Today, you can buy our ESP8266 development for around $20 (which covers our costs) and use our code to simply create any program. We use a CH340C USB to serial chip, so most modern operating systems will detect and work with this board without the need to install any drivers. Our goal was creating a maker-friendly design that√¢‚Ç¨‚Ñ¢s experimental, flexible, and educational. </p>
<p>Pick up a board and see what you can create today. It√¢‚Ç¨‚Ñ¢s easier than you think.</p>
<h5>- Erfan Reed, Marit Fischer, and Jason Gramse, the team at Malouf Electronics</h5>
    </div></div>]]>
            </description>
            <link>https://www.maloufelectronics.com/story/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146745</guid>
            <pubDate>Mon, 15 Feb 2021 20:13:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Inception Net Doesn't See]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146597">thread link</a>) | @Aliabid94
<br/>
February 15, 2021 | https://abidlabs.github.io/Inception-Blindspots/ | <a href="https://web.archive.org/web/*/https://abidlabs.github.io/Inception-Blindspots/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    

<p>Deep learning vision models like Inception Net achieve state-of-the-art performance on image recognition. However, I‚Äôm curious about when these models <em>don‚Äôt work well</em>. I tested Inception Net on a large number of natural images, and here is a collection of things that the model doesn‚Äôt predict well. Note: I‚Äôm only including <strong>examples where the correct class is one of the 1,000 valid ImageNet classes</strong>.</p>

<p><em>Try it Yourself</em>: Along with each example is a link to the model demo (<a href="https://github.com/gradio-app/gradio">built with Gradio</a>) where you can try the image yourself directly from the browser.</p>

<h3 id="1-upside-down-cars">1. Upside down cars</h3>

<ul>
  <li>Inception Net doesn‚Äôt recognize the <strong>car</strong> category at all when the car is upside down</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/car1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#1" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/car2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#2" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="2-sliced-apples">2. Sliced apples</h3>

<ul>
  <li>Although Inception Net recognizes many sliced fruits, it is convinced that sliced <strong>apples</strong> are actually  <strong>cucumbers</strong> or other fruits.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/apple1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#3" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/apple2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#4" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="3-pakistani-grooms">3. Pakistani grooms</h3>

<ul>
  <li>Inception Net can detect Western-dressed <strong>grooms</strong> quite well, but not when they‚Äôre wearing Pakistani / Indian attire</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/groom1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#5" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/groom2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#6" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="4-long-balloons">4. Long balloons</h3>

<ul>
  <li>‚ÄúIf it isn‚Äôt round, it isn‚Äôt a <strong>balloon</strong>‚Äù ‚Äì Inception Net</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/balloon1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#7" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/balloon2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#8" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="5-regular-surgical-masks">5. Regular surgical masks</h3>

<ul>
  <li>Admittedly, ImageNet was collected way before COVID-19, when these were less common. However, it‚Äôs strange that even though <strong>masks</strong> and <strong>gas masks</strong> are valid categories, they are not predicted for regular surgical masks.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/mask1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#9" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/mask2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#10" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="6-cartoon-lions">6. Cartoon lions</h3>

<ul>
  <li>Generally Inception Net fails at classifying cartoon versions of images. In my experience, cartoon <strong>lions</strong> were particularly hard for it to classify correctly.</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/lion1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#11" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/lion2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#12" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="7-roombas">7. Roombas</h3>

<ul>
  <li>It looks like Inception Net doesn‚Äôt know about the Roomba <strong>vacuum cleaner</strong> as it consistently misidentifies it as another gadget instead</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/roomba1.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#13" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/roomba2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#14" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="8-geese-in-the-sky">8. Geese in the Sky</h3>

<ul>
  <li>Inception Net wouldn‚Äôt be good at threat detection as it mistakes these harmless <strong>geese</strong> in the sky for warplanes!</li>
</ul>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/geese1.png">
<figcaption><a href="https://github.com/hendrycks/natural-adv-examples" target="_blank">Credit for this example goes to Hendrycks et al.</a> <a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#15" target="_blank">Explore it in your browser</a></figcaption>
</figure>

<figure>
<img src="https://abidlabs.github.io/images/posts/2021-02-12/geese2.png">
<figcaption><a href="https://gradio.app/hub/abidlabs/hub-inception-blindspots#16" target="_blank">Explore this example in your browser</a></figcaption>
</figure>

<h3 id="takeaways">Takeaways</h3>

<p>So we‚Äôve found some examples where Inception Net fails‚Ä¶ so what? Well, deep learning-based image classifiers like Inception Net are believed to be highly accurate, to the point that many companies release them as APIs [1, 2, 3] designed to be used by the <em>general public</em>. The release is rarely accompanied by descriptions of <em>failure points</em> of the model, so users don‚Äôt really know when to expect the model to be reliable and when not to.</p>

<p>By simply experimenting with the model via a web interface, I found several blind spots of Inception Net: for example, objects in unusual positions (#1) or items from non-Western cultures (#3) or even images in non-standard artistic styles (#6). The Gradio library also made it easy for me try to natural image manipulations like rotations, cropping, or adding noise on my images directly through the web interface, making it easier to surface problems with the model. These failure points should be thoroughly investigated and documented so that users known when to trust deployed image recognition models.</p>

<p>It was really easy to try Inception Net with images that were accessible for me (I simply did Google Image searches or tried images from my computer). Try the model yourself (http://www.gradio.app/hub/abidlabs/inception) and let everyone know in the comments what other blindspots you find!</p>

<hr>

<p>[1] https://cloud.google.com/vision</p>

<p>[2] https://azure.microsoft.com/en-us/services/cognitive-services/computer-vision/</p>

<p>[3] https://imagga.com/</p>


  </div></div>]]>
            </description>
            <link>https://abidlabs.github.io/Inception-Blindspots/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146597</guid>
            <pubDate>Mon, 15 Feb 2021 20:01:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Bug on Aurora PostgreSQL 12 causes Autovacuum to hang forever]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26146440">thread link</a>) | @avi_vallarapu
<br/>
February 15, 2021 | https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/ | <a href="https://web.archive.org/web/*/https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1107" itemtype="https://schema.org/CreativeWork" itemscope="itemscope">

	
	
<div>

	
	<!-- .entry-header -->

	
	<div itemprop="text">

		
		<p><span>Amazon recently announced the release of <span><a href="https://aws.amazon.com/about-aws/whats-new/2021/01/amazon-aurora-supports-postgresql-12/">Aurora PostgreSQL 12</a></span>. This announcement may have encouraged several customers to upgrade from their existing Aurora PostgreSQL 10.x or 11.x to Aurora PostgreSQL 12.4. The Community PostgreSQL 12 has been one of the greatest releases ever with a big list of features and performance optimizations. So, it </span><b>may be</b><span> fair to assume that Aurora PostgreSQL 12.4 works on the same lines.</span></p>
<p><span>One of the customers as well upgraded their Aurora PostgreSQL 11.9 environments to Aurora PostgreSQL 12.4. Indeed, testing always plays a key role before performing any upgrades. Similarly, the functional testing was done and everything seemed to be perfect.&nbsp;</span></p>
<p><span>The actual issue started in less than a day after the upgrade. The performance of some queries started degrading. After taking a deeper look, it was noticed that the queries on just one of the tables started behaving badly. We then saw a very strange behaviour on Performance Insights similar to the following image. I have reproduced the same issue on Aurora PostgreSQL 12 and the following is an image from my test scenario.</span></p>
<p><img loading="lazy" src="https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM.png" alt="" width="2660" height="1310" srcset="https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM.png 2660w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-300x148.png 300w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-1024x504.png 1024w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-768x378.png 768w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-1536x756.png 1536w, https://www.migops.com/blog/wp-content/uploads/2021/02/Screen-Shot-2021-02-15-at-12.03.25-PM-2048x1009.png 2048w" sizes="(max-width: 2660px) 100vw, 2660px"></p>
<p><span>What is wrong with the above image ? Yes, the vacuum process on one of the tables is running forever. To know more about autovacuum and why it is needed, I would recommend you to visit </span><span><a href="https://www.percona.com/blog/2018/08/06/basic-understanding-bloat-vacuum-postgresql-mvcc/"><span>this blog post</span></a></span><span> I have contributed to, while working for </span><span><a href="https://www.percona.com/blog/"><span>Percona</span></a></span><span>.&nbsp;</span></p>
<p><span>The size of the table (fairly small) and a completely inactive database with perfectly tuned autovacuum settings should not make the vacuum process to run forever. To know the internals of autovacuum settings and how to tune it well, I would recommend read to see </span><span><a href="https://www.percona.com/blog/2018/08/10/tuning-autovacuum-in-postgresql-and-autovacuum-internals/"><span>this blog post</span></a></span><span> I wrote sometime ago.&nbsp;</span></p>
<p><span>Following is the test case I have quickly created to reproduce this issue. I have created a table and created a GiST Index on one of the columns and then performed some inserts and updates in random.</span></p>
<pre>migops=&gt; CREATE TABLE foo.bar (id int PRIMARY KEY, sometext varchar(10), loc point);
CREATE TABLE
migops=&gt; CREATE INDEX gist_bar_idx ON foo.bar USING GIST (loc);
CREATE INDEX
migops=&gt; \d+ foo.bar
Table "foo.bar"
Column | Type | Collation | Nullable | Default | Storage | Stats target | Description 
----------+-----------------------+-----------+----------+---------+----------+--------------+-------------
id | integer | | not null | | plain | | 
sometext | character varying(10) | | | | extended | | 
loc | point | | | | plain | | 
Indexes:
"bar_pkey" PRIMARY KEY, btree (id)
"gist_bar_idx" gist (loc)
Access method: heap

migops=&gt; INSERT INTO foo.bar VALUES (generate_series(1,100000),'migops',point '(1,2)');
INSERT 0 100000
migops=&gt; UPDATE foo.bar SET sometext = 'junk' where id between 1000 and 100000;
UPDATE 99001</pre>
<p><span>Now, let me run a VACUUM on the table and check if it‚Äôs completing successfully. </span></p>
<pre>migops=&gt; VACUUM VERBOSE foo.bar ;
INFO: vacuuming "foo.bar"
INFO: index "bar_pkey" now contains 100000 row versions in 276 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
INFO: index "gist_bar_idx" now contains 100000 row versions in 1074 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
INFO: "bar": found 0 removable, 100000 nonremovable row versions in 736 out of 736 pages
DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 27251
There were 0 unused item identifiers.
Skipped 0 pages due to buffer pins, 0 frozen pages.
0 pages are entirely empty.
CPU: user: 0.00 s, system: 0.00 s, elapsed: 0.00 s.
VACUUM</pre>
<p><span>Yes, the above log says that the VACUUM successfully completed. However, let me insert some more data and see if VACUUM succeeds. </span></p>
<pre>migops=&gt; INSERT INTO foo.bar VALUES (generate_series(100001,1000000),'migops',point '(1,2)');
INSERT 0 900000

migops=&gt; VACUUM VERBOSE foo.bar;
INFO: vacuuming "foo.bar"
^CCancel request sent
ERROR: canceling statement due to user request
Time: 382984.688 ms (06:22.985)</pre>
<p><span>As you rightly noticed in the above logs, the VACUUM runs forever.&nbsp;</span></p>
<p><span>For a customer who runs mission critical databases, time is money. The first thought when this happened right after a Production database got upgraded was if the GiST Index got corrupted during the upgrade.&nbsp; So, the Index was rebuilt using REINDEX INDEX CONCURRENTLY. Similarly, I have rebuilt the Index in my test setup too. </span></p>
<pre>migops=&gt; REINDEX INDEX CONCURRENTLY foo.gist_bar_idx;
REINDEX
Time: 7900.757 ms (00:07.901)

migops=&gt; VACUUM VERBOSE foo.bar;
INFO: vacuuming "foo.bar"
INFO: index "gist_bar_idx" now contains 3853520 row versions in 12038 pages
DETAIL: 0 index row versions were removed.
0 index pages have been deleted, 0 are currently reusable.
CPU: user: 0.01 s, system: 0.00 s, elapsed: 0.01 s.
INFO: "bar": found 0 removable, 128 nonremovable row versions in 1 out of 7353 pages
DETAIL: 0 dead row versions cannot be removed yet, oldest xmin: 33309
There were 0 unused item identifiers.
Skipped 0 pages due to buffer pins, 0 frozen pages.
0 pages are entirely empty.
CPU: user: 0.01 s, system: 0.00 s, elapsed: 0.01 s.
VACUUM
Time: 53.344 ms</pre>
<p><span>As noticed in the above logs, upon rebuild of the Index, the VACUUM succeeded. Some relief for the customer running their Production clusters on Aurora PostgreSQL 12.4 that the VACUUM succeeded now.&nbsp;</span></p>
<p><span>But, what about the next autovacuum ? Wait, is it stuck again ? This is what the following logs tell us. While reproducing the issue, I ran some inserts.</span></p>
<pre>migops=&gt; INSERT INTO foo.bar VALUES (generate_series(10000002,11000000), 'migops', point '(3,4)');
INSERT 0 999999

-- The following ran for more than 30 mins before me terminating it. 
migops=&gt; VACUUM VERBOSE foo.bar ;
INFO: vacuuming "foo.bar"
^CCancel request sent
ERROR: canceling statement due to user request</pre>
<p><span>So, it again requires a REINDEX of the GiST Index to let the vacuum succeed again.&nbsp;</span></p>
<p><span><strong>Conclusion :</strong> We will now need to wait and see if AWS sends any notification or a public announcement to let everybody know about this issue or maybe remove the Aurora PostgreSQL 12.4 version from the list of options to implement a fix, just like </span><span><a href="https://www.theregister.com/2020/09/16/aws_aurora_postgresql_versions_disappeared/"><span>it happened earlier</span></a></span><span>.&nbsp;Please subscribe to our blog posts to follow our latest updates on migrations to postgres. Please&nbsp;<span><a href="https://www.migops.com/contact-us/">contact us</a></span>&nbsp;to know how we can assist you while performing migrations to PostgreSQL.&nbsp;</span></p>

  <!-- .wpforms-container -->
		
		
			</div><!-- .entry-content .clear -->
</div>

	
</article></div>]]>
            </description>
            <link>https://www.migops.com/blog/2021/02/15/a-bug-on-aurora-postgresql-12-causes-autovacuum-to-hang-forever/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146440</guid>
            <pubDate>Mon, 15 Feb 2021 19:48:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Understand ML Papers Quickly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146378">thread link</a>) | @tmfi
<br/>
February 15, 2021 | https://blog.evjang.com/2021/01/understanding-ml.html | <a href="https://web.archive.org/web/*/https://blog.evjang.com/2021/01/understanding-ml.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-3608017406381478599" itemprop="description articleBody"><p>
My <a href="https://blog.evjang.com/2020/06/free-office-hours-for-non-traditional.html">ML mentees</a>&nbsp;often ask me some variant of the question "how do you choose which papers to read from the deluge of publications flooding Arxiv every day?‚Äù&nbsp;</p><div><p>The nice thing about reading most ML papers is that you can cut through the jargon by asking just five simple questions. I try to answer these questions as quickly as I can when skimming papers.</p><p><b>1) What are the inputs to the function approximator? <br></b><br>E.g. a 224x224x3 RGB image with a single object roughly centered in the view.&nbsp;</p><p><b>2) What are the outputs to the function approximator?</b></p><p>E.g. a 1000-long vector corresponding to the class of the input image.</p><p>Thinking about inputs and outputs to the system in a method-agnostic way lets you take a step back from the algorithmic jargon and consider whether other fields have developed methods that might work here using different terminology. I find this approach especially useful when reading&nbsp;<a href="https://arxiv.org/abs/2007.05549">Meta-Learning papers</a>.&nbsp;</p></div><div><p><b>3) What loss supervises the output predictions? What assumptions about the world does this particular objective make?</b></p><p>ML models are formed from combining <i>biases</i>&nbsp;and <i>data</i>. Sometimes <a href="https://en.wikipedia.org/wiki/Linear_regression">the biases are strong</a>, other times they <a href="https://lilianweng.github.io/lil-log/2020/08/06/neural-architecture-search.html">are weak</a>. To make a model generalize better, you need to add more biases or add more unbiased data. There is <a href="https://en.wikipedia.org/wiki/No_free_lunch_theorem">no free lunch</a>.&nbsp;</p><p>An example: many optimal control algorithms make the assumption of a stationary episodic data generation procedure which is a Markov-Decision Process (MDP). In an MDP, ‚Äústate‚Äù and ‚Äúaction‚Äù deterministically map via the environment‚Äôs transition dynamics to ‚Äúa next-state, reward, and whether the episode is over or not‚Äù. This structure, though very general, can be used to formulate a loss that allows learning Q values to follow the <a href="https://en.wikipedia.org/wiki/Bellman_equation">Bellman Equation</a>. </p><p><b>4) Once trained, what is the model able to generalize to, in regards to input/output pairs it hasn‚Äôt seen before? <br></b><br>Due to the information captured in the data or the architecture of the model, the ML system may generalize fairly well to inputs it has never seen before. In recent years we are <a href="https://en.wikipedia.org/wiki/AlphaGo">seeing more</a> and <a href="https://en.wikipedia.org/wiki/GPT-3">more</a> <a href="https://openai.com/blog/dall-e/">ambitious levels of generalization</a>, so when reading papers I watch out to see any surprising generalization capabilities and where it comes from (data, bias, or both).&nbsp;</p></div><div><p>There is a lot of noise in the field about better inductive biases, like causal reasoning or symbolic methods or object-centric representations. These are important tools for building robust and reliable ML systems and I get that the line separating structured data vs. model biases can be blurry. That being said, it baffles me how many researchers think that the way to move ML forward is to&nbsp;<i>reduce</i>&nbsp;the amount of learning and <i>increase</i>&nbsp;the amount of hard-coded behavior.&nbsp;</p><p>We do ML precisely because there are things we don't know how to hard-code. As Machine <i>Learning</i> researchers, we should focus our work on <a href="http://www.incompleteideas.net/IncIdeas/BitterLesson.html">making learning methods better</a>, and leave the hard-coding and symbolic methods to the Machine <i>Hard-Coding</i>&nbsp;Researchers.&nbsp;</p></div><p><b>5) Are the claims in the paper falsifiable?&nbsp;</b></p><p>Papers that make claims that cannot be&nbsp;<a href="https://en.wikipedia.org/wiki/Falsifiability">falsified</a>&nbsp;are not within the realm of science.&nbsp;</p><p>P.S. for additional hot takes and mentorship for aspiring ML researchers, sign up for <a href="https://blog.evjang.com/2020/06/free-office-hours-for-non-traditional.html">my free office hours</a>. I've been mentoring students over Google Video Chat most weekends for 7 months now and it's going great.&nbsp;</p>

</div></div>]]>
            </description>
            <link>https://blog.evjang.com/2021/01/understanding-ml.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146378</guid>
            <pubDate>Mon, 15 Feb 2021 19:43:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Concurrency: The Tricky Bits]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26146211">thread link</a>) | @dsr12
<br/>
February 15, 2021 | https://python.hamel.dev/concurrency/ | <a href="https://web.archive.org/web/*/https://python.hamel.dev/concurrency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><strong>An exploration of threads, processes, and coroutines in Python, with interesting examples that illuminate the differences between each.</strong></p>
<p><img src="https://python.hamel.dev/cpu.jpg" alt=""> Credit:<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p>

<p>As <a href="https://hamel.dev/">a data scientist who is spending more time on software engineering</a>, I was recently forced to confront an ugly gap in my knowledge of Python: concurrency.  To be honest, I never completely understood how the terms async, threads, pools and coroutines were different and how these mechanisms could work together.  Every time I tried to learn about the subject, the examples were a bit too abstract for me, and I hard time internalizing how everything worked.</p>
<p>This changed when a friend of mine<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> recommended <a href="https://youtu.be/MCs5OvhV9S4">a live coding talk</a> by <a href="https://www.dabeaz.com/">David Beazley</a>, an accomplished Python educator.</p>
<p><em>Because of restrictions with this YouTube video, I couldn‚Äôt embed <a href="https://youtu.be/MCs5OvhV9S4">the video</a> in this article, so you will have to open it in a different window</em>.</p>
<p>This talk is incredibly intimidating at first.  Not only is it coded live from scratch, but it also jumps immediately into socket programming, something that I had never encountered as a data scientist.  However, if you go through it slowly and understand all the components (as we do in this blog post) it turns out to be the best educational material on Python concurrency I have ever encountered.  This blog post documents what I learned along the way so others can benefit, too.</p>

<p>Before getting started, David sets up the following infrastructure that is used to demonstrate concurrency.</p>
<h2 id="a-cpu-bound-task-fibonacci">A cpu-bound task: Fibonacci</h2>
<p>To demonstrate concurrency, it is useful to create a task that can saturate your CPU (such as mathematical operations) for a noticeable period of time.  David uses a function that computes a <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci number</a>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>#fib.py</span>
<span>def</span> <span>fib</span><span>(</span><span>n</span><span>):</span>
    <span>if</span> <span>n</span> <span>&lt;=</span> <span>2</span><span>:</span> <span>return</span> <span>1</span>
    <span>else</span><span>:</span> <span>return</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>This function takes much longer for large inputs versus smaller inputs<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup>, which allows us to profile different workloads.</p>
<h2 id="a-simple-web-server">A Simple Web Server</h2>
<p>A web server is one of the best ways to illustrate different types of concurrency.  However, to really demonstrate how things work it is useful to use something that is sufficiently low level enough to see how all the pieces work.  For this, David sets up a web server using socket programming.  If you aren‚Äôt familiar with socket programming, I‚Äôll explain the important bits below, but feel free to dive deeper <a href="https://ruslanspivak.com/lsbaws-part1/">with this tutorial</a> later if you like.</p>
<p>To begin with, David starts with the below code (I‚Äôve highlighted the most interesting bits):</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span><span>11
</span></span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span><span>17
</span></span><span>18
</span><span>19
</span><span>20
</span><span><span>21
</span></span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="python3"><span># server-1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span> 

<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>  <span># waits for a connection to be established</span>
</span>        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>fib_handler</span><span>(</span><span>client</span><span>)</span> <span># passes the client to a handler which will listen for input data.</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
<span>        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>  <span># waits for data that sent by the client.</span>
</span>        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
<span>        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span> <span># sends data back to the client.</span>
</span>    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>Here is an explanation of this code:</p>
<ul>
<li>Lines 6-9 are socket programming boilerplate.  It‚Äôs ok to just take this for granted as a reasonable way to set up a socket server.  This also matches the <a href="https://ruslanspivak.com/lsbaws-part1/">the tutorial</a> I linked to above.</li>
<li>Line 11 waits for an incoming connection from a client.  Once a connection is made, the server can begin receiving data from a client.  The code will stop execution on this line until a connection is made.</li>
<li>Line 13: Once a connection is established, the client object is passed to a function which can handle data sent by the client.</li>
<li>Line 17: waits for data to be sent by the client.  The code will stop execution on this line until data is received from the client.</li>
<li>Line 21: The server sends a response back to the client.  The code <em>could</em> stop execution on this line if the send buffers are full, but unlikely in this toy example.</li>
</ul>

<p>In the above example, the server will only be able to accept a connection from a single client, because the call to <code>fib_handler</code> will never return (because it will run in an infinite loop unless a kill signal is received).  This means that <code>sock.accept()</code> can only be called once.</p>
<p>You can test this out by first running the server:</p>
<p>Then establish a client:</p>
<p>You can type numbers in <a href="https://youtu.be/MCs5OvhV9S4?t=293">as David does in his video</a> and verifies that fibonacci numbers are returned.  However, if you try to connect with another client at the same time from a different terminal session:</p>
<p>You will notice that the second client just hangs and doesn‚Äôt return anything from the server.  This is because the server is only able to accept a single connection.  Next, we explore how to tackle this issue.</p>

<p>We can solve this issue with threads.  You can add threads to the handler so that more connections can be accepted with the following code highlighted in yellow:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span><span> 3
</span></span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span><span>13
</span></span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span></code></pre></td>
<td>
<pre><code data-lang="py3"><span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>from</span> <span>fib</span> <span>import</span> <span>fib</span>
<span><span>from</span> <span>threading</span> <span>import</span> <span>Thread</span>
</span>
<span>def</span> <span>fib_server</span><span>(</span><span>address</span><span>):</span>
    <span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
    <span>sock</span><span>.</span><span>setsockopt</span><span>(</span><span>SOL_SOCKET</span><span>,</span> <span>SO_REUSEADDR</span><span>,</span><span>1</span><span>)</span>
    <span>sock</span><span>.</span><span>bind</span><span>(</span><span>address</span><span>)</span>
    <span>sock</span><span>.</span><span>listen</span><span>(</span><span>5</span><span>)</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>client</span><span>,</span><span>addr</span> <span>=</span> <span>sock</span><span>.</span><span>accept</span><span>()</span>
        <span>print</span><span>(</span><span>"Connection"</span><span>,</span> <span>addr</span><span>)</span>
<span>        <span>Thread</span><span>(</span><span>target</span><span>=</span><span>fib_handler</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>client</span><span>,))</span><span>.</span><span>start</span><span>()</span>
</span>        
<span>def</span> <span>fib_handler</span><span>(</span><span>client</span><span>):</span>
    <span>while</span> <span>True</span><span>:</span>
        <span>req</span> <span>=</span> <span>client</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span> 
        <span>if</span> <span>not</span> <span>req</span><span>:</span> <span>break</span>
        <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>int</span><span>(</span><span>req</span><span>))</span>
        <span>resp</span> <span>=</span> <span>str</span><span>(</span><span>result</span><span>)</span><span>.</span><span>encode</span><span>(</span><span>'ascii'</span><span>)</span> <span>+</span> <span>b</span><span>'</span><span>\n</span><span>'</span>
        <span>client</span><span>.</span><span>send</span><span>(</span><span>resp</span><span>)</span>
    <span>print</span><span>(</span><span>"Closed"</span><span>)</span>
    
<span>fib_server</span><span>((</span><span>''</span><span>,</span> <span>25000</span><span>))</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>You can verify that this works by connecting two separate clients to the server by running the following command in two separate terminal windows:</p>
<p>By executing the <code>fib_handler</code> in a thread, the main while loop in <code>fib_server</code> will continue, allowing <code>sock.accept()</code> to receive additional clients.  If you haven‚Äôt encountered threads before <a href="https://realpython.com/intro-to-python-threading/">this tutorial</a> provides a good introduction to the topic.</p>
<h2 id="thread-performance--the-gil">Thread performance &amp; the GIL</h2>
<p>When code stops execution and waits for an external event to occur (like a connection to be made, or data to be sent), this is often referred to as <a href="https://stackoverflow.com/questions/2407589/what-does-the-term-blocking-mean-in-programming">blocking</a>.</p>
<p>One important utility of threads is that it allows blocking tasks to release control of the CPU when the CPU is not being used.  However, the Python interpreter can only run on one thread at a time due to the <a href="https://wiki.python.org/moin/GlobalInterpreterLock">Global Interpreter Lock</a>.  Because Python can only run a single thread at any given time, any CPU-bound work in threads must take turn running one after the other.</p>
<p>Therefore, you have to think carefully about what kind of tasks you execute in threads with Python.  If you try to execute CPU bound tasks, these tasks will slow each other down.  David demonstrates this with the below script that sends requests to our threaded server:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>#perf1.py</span>
<span>from</span> <span>socket</span> <span>import</span> <span>*</span>
<span>import</span> <span>time</span>

<span>sock</span> <span>=</span> <span>socket</span><span>(</span><span>AF_INET</span><span>,</span> <span>SOCK_STREAM</span><span>)</span>
<span>sock</span><span>.</span><span>connect</span><span>((</span><span>'localhost'</span><span>,</span> <span>25000</span><span>))</span>

<span>while</span> <span>True</span><span>:</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>sock</span><span>.</span><span>send</span><span>(</span><span>b</span><span>'30'</span><span>)</span>
    <span>resp</span> <span>=</span> <span>sock</span><span>.</span><span>recv</span><span>(</span><span>100</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>end</span><span>-</span><span>start</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>If you run several instances of this script (after starting the server first):</p>
<p>You will see the execution times for each script linearly increase as you increase the number of these scripts running in parallel.  <strong>For this particular task, adding threads does not make anything faster.  But why?</strong>  This is because the fibonacci task is CPU bound so threads will compete with each other for resources.</p>
<p>Python threads work by interleaving the execution of different tasks on your CPU.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup>  Only one thread runs at a time, and have the ability to take turns executing in small bits until all threads are done.  The details of how thread processing is interleaved is carried out by the GIL and your operating system, so you need not worry about this detail (with one exception mentioned below).  Interleaving a bunch of CPU bound tasks will not speed up the total runtime of those tasks.  However, if your tasks involve lots of non-CPU time, such as waiting for network connections, or disk I/O, threading tasks may result in a considerable speedup.  A canonical way of simulating a non-cpu bound task in python is to use the built-in function <code>time.sleep()</code>.</p>
<p>To check my understanding about threads and performance, I ran the below experiment<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> and changed <code>time.sleep(2)</code> to <code>fib(20)</code> and back again:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span><span> 4
</span></span><span> 5
</span><span> 6
</span><span> 7
</span><span><span> 8
</span></span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span></code></pre></td>
<td>
<pre><code data-lang="py"><span>import</span> <span>logging</span>
<span>import</span> <span>threading</span>
<span>import</span> <span>time</span>
<span><span>import</span> <span>fib</span>
</span>
<span>def</span> <span>thread_function</span><span>(</span><span>name</span><span>):</span>
    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: starting"</span><span>,</span> <span>name</span><span>)</span>
<span>    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>2</span><span>)</span>  <span>## Change this line of code to fib(20)</span>
</span>    <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Thread </span><span>%s</span><span>: finishing"</span><span>,</span> <span>name</span><span>)</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>"__main__"</span><span>:</span>
    <span>format</span> <span>=</span> <span>"</span><span>%(asctime)s</span><span>: </span><span>%(message)s</span><span>"</span>
    <span>start</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>logging</span><span>.</span><span>basicConfig</span><span>(</span><span>format</span><span>=</span><span>format</span><span>,</span> <span>level</span><span>=</span><span>logging</span><span>.</span><span>INFO</span><span>,</span>
                        <span>datefmt</span><span>=</span><span>"%H:%M:%S"</span><span>)</span>

    <span>threads</span> <span>=</span> <span>list</span><span>()</span>
    <span>for</span> <span>index</span> <span>in</span> <span>range</span><span>(</span><span>3</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : create and start thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>x</span> <span>=</span> <span>threading</span><span>.</span><span>Thread</span><span>(</span><span>target</span><span>=</span><span>thread_function</span><span>,</span> <span>args</span><span>=</span><span>(</span><span>index</span><span>,))</span>
        <span>threads</span><span>.</span><span>append</span><span>(</span><span>x</span><span>)</span>
        <span>x</span><span>.</span><span>start</span><span>()</span>

    <span>for</span> <span>index</span><span>,</span> <span>thread</span> <span>in</span> <span>enumerate</span><span>(</span><span>threads</span><span>):</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : before joining thread </span><span>%d</span><span>."</span><span>,</span> <span>index</span><span>)</span>
        <span>thread</span><span>.</span><span>join</span><span>()</span>
        <span>logging</span><span>.</span><span>info</span><span>(</span><span>"Main    : thread </span><span>%d</span><span> done"</span><span>,</span> <span>index</span><span>)</span>
    <span>end</span> <span>=</span> <span>time</span><span>.</span><span>time</span><span>()</span>
    <span>print</span><span>(</span><span>f</span><span>'total time: {end-start}'</span><span>)</span>
</code></pre></td></tr></tbody></table>
</div>
</div><p>As expected, increasing the number of threads while running <code>time.sleep(2)</code> did not increase the program‚Äôs overall execution time (the program runs in roughly 2 seconds).  On the other hand, replacing <code>time.sleep(2)</code> with <code>fib(20)</code> causes this program‚Äôs running time to increase as more threads are added. This is because <code>fib(20)</code> is a cpu bound task so interleaving the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://python.hamel.dev/concurrency/">https://python.hamel.dev/concurrency/</a></em></p>]]>
            </description>
            <link>https://python.hamel.dev/concurrency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26146211</guid>
            <pubDate>Mon, 15 Feb 2021 19:29:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Most Valuable Question When Interviewing Managers]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26145970">thread link</a>) | @pplonski86
<br/>
February 15, 2021 | https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Interviewing managers is difficult.</p>

<p>For starters, the role has high volatility. Managers can elevate a team well past what was thought possible. On the flip side, they can blow up a high-functioning team, destroying it‚Äôs magic in unrecoverable ways.</p>

<p>Second, it‚Äôs hard to fire mediocre managers. When a mediocre individual contributor leaves the company, usually they have a mediocre volume of things to transition. When a mediocre manager leaves the company, they‚Äôll often have a bunch of plates spinning in various states of wobble. Someone has to keep those plates spinning, it‚Äôs likely going to be you, and you hired this person  because you didn‚Äôt have the time to do that well.</p>

<p>So, you want to hire a great manager. To do that you need to evaluate them on a large number of competencies - people management, process management, subject matter expertise, communication, and more. That‚Äôs a lot of ground to cover. However, my favorite question can get you a reasonable read in under 15 minutes.</p>



<p>The three most important decisions in management are hiring, firing, and promoting. Asking prospective managers how many times they‚Äôve done each, and asking follow-up questions about their responses, gets to the heart of a manager‚Äôs competency faster than any other question I‚Äôve tried.</p>

<h2 id="how-many-people-have-you-hired">How many people have you hired?</h2>

<p>Great managers are great recruiters. Asking someone how many people they‚Äôve hired gets you critical information, fast. If they‚Äôve only hired a couple people, you can‚Äôt count on this person to come in and revamp your hiring process on day 1. If they‚Äôve hired a bunch, ask some quick followups to understand how they did it:</p>
<ul>
  <li>What‚Äôs your offer acceptance rate? Where do you want it to be?</li>
  <li>What‚Äôs your top source for top-of-funnel pipeline?</li>
  <li>How do you make sure you‚Äôre counteracting bias in the hiring process?</li>
</ul>

<p>The biggest red flag for this question is if someone acts like hiring is easy. That‚Äôs a sure-fire way to know that they have no idea how to hire top talent.</p>

<h2 id="how-many-people-have-you-fired">How many people have you fired?</h2>

<p>Firing is a gut-wrenching, stressful, angst-inducing, and essential function of a manager.</p>

<p>Anecdotally, most effective managers have fired around 1 out of every 7-10 people they‚Äôve ever managed. Proportions much lower than that start to raise concerns that this candidate has had issues effectively performance managing. Ask follow-ups to understand anomalous report:firing ratios.</p>

<p>Furthermore, if a candidate has only managed a few people and never had to fire someone, then you‚Äôve gotten the signal that it‚Äôs something you‚Äôll need to help them with if and when the time comes. You can also avoid accidentally giving a manager with no firing experience a report with material performance issues.</p>

<p>The biggest red flag for this question is anyone is if someone acts like firing is anything besides a life-changing event that requires the utmost seriousness and attention.</p>



<p>Growing your team is an essential manager function. Promotions are also a rough proxy for the effectiveness of your team. Great managers should have promoted a significant proportion of their team and have clear examples of how they helped their team advance their career. For someone in a role for more than a couple years, a good quick response to this question is ‚Äúmost of the team‚Äù.</p>

<p>The biggest red flag for this question is multi-year management stints with very low promotion counts. Dive into that signal to uncover if it was happenstance, a faulty reward mechanism, or a failure in team execution.</p>

<h2 id="conclusion">Conclusion</h2>

<p>You should be able to get through this three-part question in under 15 minutes. By the end of it you‚Äôll have a quick but useful read on the candidate‚Äôs ability to hire, fire, and promote effectively. A nice benefit of this rapid-fire discovery is that it explores the candidate‚Äôs ability to communicate effectively when concise information is needed.</p>



    

    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/recruiting/2021/02/15/Top-Question-Interviewing-Managers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145970</guid>
            <pubDate>Mon, 15 Feb 2021 19:07:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write HTML, Not JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145875">thread link</a>) | @ciconia
<br/>
February 15, 2021 | https://www.andrewjvpowell.com/articles/write-html-not-javascript/ | <a href="https://web.archive.org/web/*/https://www.andrewjvpowell.com/articles/write-html-not-javascript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I don't hate it, I just hate overuse of it</p>

<p>If there's one thing we can all appreciate about the rise of <a href="https://jamstack.org/">JAMSTACK</a>, is that it brought about renewed vigor even amongst the mainstream for <em>static</em> built and deployed websites.</p>
<p>This is a good thing. The web has become increasingly bloated for various reasons, and along with that we've also seen increasingly complex websites/apps that put ever increasing load on the server, in terms of those that dwell sorely server-side. With static generated websites being back in vogue since, I dunno, 2016 or so, we've seen more and more pure HTML and CSS being deployed that only do (or connect to) server stuff when they have to, instead of the server itself being responsible for spitting out the HTML and CSS. A healthy bit of Separation of Concerns, if you will.</p>
<p>Unfortunately, somehow this has also led to websites being increasingly written in and depending on JavaScript (JS). Entire JavaScript frameworks have risen (almost too many to count nowadays) and become incredibly popular. I wish I were joking, but it's even fairly common to write HTML (or even CSS) <em>inside</em> JavaScript. Even one of the more sane JS driven frameworks, <a href="https://svelte.dev/">Svelte</a>, tends to save all the HTML and CSS (well, if the CSS is written inline in the HTML anyway) inside the JavaScript bundles. When coupled with it's sister project, <a href="https://sapper.svelte.dev/">Sapper</a>, which allows you to actually generate a static website, this is especially awkward as you have both static pages AND a copy of all the HTML and CSS in the <code>.js</code> bundle files as well. Hello bloat.</p>
<p>For mine, JavaScript has its place. To assist with rudimentary actions or effects on a webpage, or to do a little bit dynamic fetching of data (ala AJAX, as long as it has <em>graceful degraduation</em>). But having a website that could otherwise be written completely statically, instead pulling in hundreds of kilobytes just to "hydrate" the interface and create a kind of "SPA" (Single Page Application) feel...? I don't know, but it seems a little insane.</p>
<p>I know this because I myself once fell victim to the hype and wrote a website that was for all intents and purposes, a normal website. A home page, about section, a few other pages related to the business it was for. I did this with the aforementioned Sapper/Svelte combination. Now, the only really dynamic part of this website was a quotation form, i.e it took user input and generated a quotation of item costs, and then the user could choose to proceed (or not) in which case the system would send an email.</p>
<p>The quotation portion of the site could have been done in, at the very least, just a small Svelte component, accessed only when and IF the user wanted to get a quotation. Instead, no, old mate Andy here decided to build the entire website in Sapper instead. What Sapper does is, at compile time, builds the site and generates the <code>.js</code> bundle files, and also crawls the urls inside the site to generate a static version of the site as well. So you get a combination of good old <code>.html</code> files, that has links to the bundle files in the footer of the HTML which then loads and "hydrates" the interface, therefore handing off routing responsibility etc to the Sapper engine instead of letting the browser follow the URLs and loading say, <code>about.html</code> in it's entirety. This is meant to give that instant loading "app feel". It's nothing new, developers have been using AJAX to achieve similar effects for years, but projects like Sapper/Svelte exist to try make development faster and less fiddly.</p>
<p>Which is noble enough, and I'm not here to bag out Svelte or Sapper. Or even React, even though I find its syntax abhorrent. These projects exist for a reason and can have legitimate use. And of course there is the whole inbuilt "react-ivity" aspect that all three of the projects I just mentioned tout. The problem is impressionable or inexperienced developers, or just plain Soydevs, coming along and using these frameworks for what may be essentially brochure-style websites, instead of say a mobile application. That's pretty crazy, and that's how you get websites pulling in hundreds of kilobytes of JS on top of already existing static HTML/CSS to basically give a slightly faster response and a smooth transition maybe between pages. However, that's after the website potentially takes twice as long to load initially. </p>
<p>Then there's what I'll call technical-debt. That site I mentioned that I made with Sapper? It'll be one heck of a job pulling it apart and converting it to normal HTML/CSS. I essentially created a bit of vendor lock-in for a site that should never have needed to be that complicated or bloated. Lesson learned.</p>
<p>So, <em>TL;DR</em>: If we're going to encourage a more static web, let's write actual static websites rather than deferring it all to JavaScript. Use JS where necessary, but no more than that. if you have to ask yourself, <em>"should I really need JavaScript just to do this?"</em>, then you probably don't.</p>

</div></div>]]>
            </description>
            <link>https://www.andrewjvpowell.com/articles/write-html-not-javascript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145875</guid>
            <pubDate>Mon, 15 Feb 2021 18:58:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Earley Parser]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145856">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://rahul.gopinath.org/post/2021/02/06/earley-parsing/ | <a href="https://web.archive.org/web/*/https://rahul.gopinath.org/post/2021/02/06/earley-parsing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        
<div>

  

  <article>
    















<p><strong>Important:</strong> <a href="https://pyodide.readthedocs.io/en/latest/">Pyodide</a> takes time to initialize.
Initialization completion is indicated by a red border around <em>Run all</em> button.</p>


<p>The <em>Earley</em> parsing algorithm was invented by Jay Earley <sup id="fnref:earley1970an" role="doc-noteref"><a href="#fn:earley1970an">1</a></sup> in 1970. It
can be used to parse strings that conform to a context-free grammar. The
algorithm uses a chart for parsing ‚Äì that is, it is implemented as a dynamic
program relying on solving simpler sub-problems.</p>

<p>Earley parsers are very appealing for a practitioner because they can use any
context-free grammar for parsing a string, and from the parse forest generated,
one can recover all (even an infinite number) of parse trees that correspond to
the given grammar. Unfortunately, this style of parsing pays for generality by
being slightly expensive. It takes \(O(n^3)\) time to parse in the worst case.
However, if the grammar is unambiguous, it can parse in \(O(n^2)\) time, and
all <a href="https://en.wikipedia.org/wiki/LR_parser">LR(k)</a> grammars in linear time<sup id="fnref:leo1991a" role="doc-noteref"><a href="#fn:leo1991a">2</a></sup>.</p>

<p>This is an implementation of Earley parsing that handles the epsilon case as
given by Aycock et al.<sup id="fnref:aycock2002practical" role="doc-noteref"><a href="#fn:aycock2002practical">3</a></sup> as well as Leo‚Äôs optimizations<sup id="fnref:leo1991a:1" role="doc-noteref"><a href="#fn:leo1991a">2</a></sup>.</p>

<p>For a much more complete implementation and
full recovery of parsing forests using iterative solutions,
see our parsing implementation in the <a href="https://www.fuzzingbook.org/html/Parser.html">fuzzingbook</a>
(See the solved exercises). A very detailed explanation of Earley parsing is
by <a href="https://loup-vaillant.fr/tutorials/earley-parsing/">Loup Vaillant</a>.
Further, a fast industrial strength Earley parser implementation is
<a href="https://jeffreykegler.github.io/Marpa-web-site/">Marpa</a>.</p>

<p>For this post, we use the following terms:</p>

<ul>
  <li>The <em>alphabet</em> is the set all of symbols in the input language. For example,
in this post, we use all ASCII characters as alphabet.</li>
  <li>
    <p>A <em>terminal</em> is a single alphabet symbol. Note that this is slightly different
from usual definitions (done here for ease of parsing). (Usually a terminal is
a contiguous sequence of symbols from the alphabet. However, both kinds of
grammars have a one to one correspondence, and can be converted easily.)</p>

    <p>For example, <code>x</code> is a terminal symbol.</p>
  </li>
  <li>
    <p>A <em>nonterminal</em> is a symbol outside the alphabet whose expansion is <em>defined</em>
in the grammar using <em>rules</em> for expansion.</p>

    <p>For example, <code>&lt;term&gt;</code> is a nonterminal in the below grammar.</p>
  </li>
  <li>
    <p>A <em>rule</em> is a finite sequence of <em>terms</em> (two types of terms: terminals and
nonterminals) that describe an expansion of a given terminal.</p>

    <p>For example, <code>[&lt;term&gt;+&lt;expr&gt;]</code> is one of the expansion rules of the nonterminal <code>&lt;expr&gt;</code>.</p>
  </li>
  <li>
    <p>A <em>definition</em> is a set of <em>rules</em> that describe the expansion of a given nonterminal.</p>

    <p>For example, <code>[[&lt;digit&gt;,&lt;digits&gt;],[&lt;digit&gt;]]</code> is the definition of the nonterminal <code>&lt;digits&gt;</code></p>
  </li>
  <li>
    <p>A <em>context-free grammar</em> is  composed of a set of nonterminals and 
corresponding definitions that define the structure of the nonterminal.</p>

    <p>The grammar given below is an example context-free grammar.</p>
  </li>
  <li>
    <p>A terminal <em>derives</em> a string if the string contains only the symbols in the
terminal. A nonterminal derives a string if the corresponding definition
derives the string. A definition derives the  string if one of the rules in
the definition derives the string. A rule derives a string if the sequence
of terms that make up the rule can derive the string, deriving one substring 
after another contiguously (also called parsing).</p>
  </li>
  <li>A <em>derivation tree</em> is an ordered tree that describes how an input string is
derived by the given start symbol. Also called a <em>parse tree</em>.</li>
  <li>A derivation tree can be collapsed into its string equivalent. Such a string
can be parsed again by the nonterminal at the root node of the derivation
tree such that at least one of the resulting derivation trees would be the
same as the one we started with.</li>
</ul>

<p>As before, we use the <a href="https://www.fuzzingbook.org/">fuzzingbook</a> grammar style.
Here is an example grammar for arithmetic expressions, starting at <code>&lt;start&gt;</code>.
A terminal symbol has exactly one character
(Note that we disallow empty string (<code>''</code>) as a terminal symbol).
Secondly, as per traditional implementations,
there can only be one expansion rule for the <code>&lt;start&gt;</code> symbol. We work around
this restriction by simply constructing as many charts as there are expansion
rules, and returning all parse trees.</p>

<!--
############
grammar = {
    '<start>': [['<expr>']],
    '<expr>': [
        ['<term>', '+', '<expr>'],
        ['<term>', '-', '<expr>'],
        ['<term>']],
    '<term>': [
        ['<fact>', '*', '<term>'],
        ['<fact>', '/', '<term>'],
        ['<fact>']],
    '<fact>': [
        ['<digits>'],
        ['(','<expr>',')']],
    '<digits>': [
        ['<digit>','<digits>'],
        ['<digit>']],
    '<digit>': [["%s" % str(i)] for i in range(10)],
}
START = '<start>'
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>Here is another grammar that targets the same language. Unlike the first
grammar, this grammar produces ambiguous parse results.</p>

<!--
############
a_grammar = {
    '<start>': [['<expr>']],
    '<expr>': [
        ['<expr>', '+', '<expr>'],
        ['<expr>', '-', '<expr>'],
        ['<expr>', '*', '<expr>'],
        ['<expr>', '/', '<expr>'],
        ['(', '<expr>', ')'],
        ['<integer>']],
    '<integer>': [
        ['<digits>']],
    '<digits>': [
        ['<digit>','<digits>'],
        ['<digit>']],
    '<digit>': [["%s" % str(i)] for i in range(10)],
}
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="summary">Summary</h2>

<p>An Earley parser executes the following steps for parsing:</p>

<p>Use <code>&lt;start&gt;</code> as the entry into parsing. At this point, we want to parse the
given string by the nonterminal <code>&lt;start&gt;</code>. The <em>definition</em> of <code>&lt;start&gt;</code>
contains the possible expansion rule that can match the given string. Each
expansion rule can be thought of as a <em>parsing path</em>, with contiguous
substrings of the given input string matched by the particular terms in the
rule.</p>

<ul>
  <li>
    <p>When given a nonterminal to match the string, the essential idea is to
get the rules in the definition, and add them to the current set of
parsing paths to try with the given string. Within the parsing path, we have
a parsed index which denotes the progress of parsing that particular path
(i.e the point till which the string until now has been recognized by that
path, and any parents of this path). When a rule is newly added, this parsed
index is set to zero.</p>
  </li>
  <li>
    <p>We next look at our set of possible parsing paths, and check if any of these
paths start with a nonterminal. If one is found, then for that parsing path to
be completed with the given string, that nonterminal has to be recognized
first. So, we add the expansion rules corresponding to that nonterminal to the
list of possible parsing paths. We do this recursively.</p>
  </li>
  <li>
    <p>Now, examine the current letter in the input. Then select all parsing paths
that have that particular letter at the parsed index. These expressions can
now advance one step to the next index. We add such parsing paths to the
set of parsing paths to try for the next character.</p>
  </li>
  <li>
    <p>While doing this, any parsing paths have finished parsing, fetch its
corresponding nonterminal and advance all parsing paths that have that
nonterminal at the parsing index.</p>
  </li>
  <li>
    <p>Continue recursively until the parsing path corresponding to <code>&lt;start&gt;</code> has
finished.</p>
  </li>
</ul>

<p>The chart parser depends on a chart (a table) for parsing. The columns
correspond to the characters in the input string. Each column represents a set
of <em>states</em>, and corresponds to the legal rules to follow from that point on.</p>

<p>Say we start with the following grammar:</p>

<!--

sample_grammar = {
    '<start>': [['<A>','<B>']],
    '<A>': [['a', '<B>', 'c'], ['a', '<A>']],
    '<B>': [['b', '<C>'], ['<D>']],
    '<C>': [['c']],
    '<D>': [['d']]
}
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>Earley parser produces a table of possible parse paths at each letter index of
the table. Given an input <code>adcd</code>, we seed the column <code>0</code>  with:</p>



<p>where the <code>|</code> represents the parsing index (also called the dot). This indicates
that we are at the starting, and the next step is to identify <code>&lt;A&gt;</code>. After this
rule is processed, the column would contain two more states</p>

<div><div><pre><code>   &lt;A&gt;: | a &lt;B&gt; &lt;c&gt;
   &lt;A&gt;: | a &lt;A&gt;
</code></pre></div></div>
<p>which represents two parsing paths to complete <code>&lt;A&gt;</code>.</p>

<p>After processing of column <code>0</code> (which corresponds to input character <code>a</code>), we
would find the following in column <code>1</code> (which corresponds to the input character <code>b</code>)</p>

<div><div><pre><code>   &lt;A&gt;: a | &lt;B&gt; c
   &lt;A&gt;: a | &lt;A&gt;
   &lt;B&gt;: | b &lt;C&gt;
   &lt;B&gt;: | &lt;D&gt;
   &lt;A&gt;: | a &lt;B&gt; c
   &lt;A&gt;: | a &lt;A&gt;
   &lt;D&gt;: | d
</code></pre></div></div>

<p>Similarly, the next column (column <code>2</code> corresponding to <code>d</code>) would contain the following.</p>

<div><div><pre><code>   &lt;D&gt;: | d
   &lt;B&gt;: &lt;D&gt; |
   &lt;A&gt;: a &lt;B&gt; | c
</code></pre></div></div>

<p>Next, column <code>3</code> corresponding to <code>c</code> would contain:</p>
<div><div><pre><code>   &lt;A&gt;: a &lt;B&gt; c |
   &lt;start&gt;: &lt;A&gt; | &lt;B&gt;
   &lt;B&gt;: | &lt;b&gt; &lt;C&gt;
   &lt;B&gt;: | &lt;D&gt;
   &lt;D&gt;: | d
</code></pre></div></div>

<p>Finally, column <code>4</code> (<code>d</code>) would contain this at the end of processing.</p>
<div><div><pre><code>   &lt;D&gt;: d |
   &lt;B&gt;: &lt;D&gt; |
   &lt;start&gt;: &lt;A&gt; &lt;B&gt; |
</code></pre></div></div>

<p>This is how the table or the chart ‚Äì from where the parsing gets its name: chart parsing ‚Äì gets filled.</p>

<h2 id="column">Column</h2>

<p>The column contains a set of states. Each column corresponds
to a character (or a token if tokens are used).
Note that the states in a column corresponds to the parsing expression that will
occur once that character has been read. That is, the first column will
correspond to the parsing expression when no characters have been read.</p>

<p>The column allows for adding states, and checks to prevent duplication of
states. Why do we need to prevent duplication? The problem is left recursion.
We need to detect and curtail left recursion, which is indicated by non-unique
states.</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="state">State</h2>

<p>A state represents a parsing path (which corresponds to the nonterminal, and the
expansion rule that is being followed) with the current parsed index. 
Each state contains the following:</p>

<ul>
  <li>name: The nonterminal that this rule represents.</li>
  <li>expr: The rule that is being followed</li>
  <li>dot:  The point till which parsing has happened in the rule.</li>
  <li>s_col: The starting point for this rule.</li>
  <li>e_col: The ending point for this rule.</li>
</ul>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>The convenience methods <code>finished()</code>, <code>advance()</code> and <code>at_dot()</code> should be
self explanatory. For example,</p>

<!--
############
nt_name = '<B>'
nt_expr = tuple(sample_grammar[nt_name][1])
col_0 = Column(0, None)
a_state = State(nt_name, tuple(nt_expr), 0, col_0)
print(a_state.at_dot())
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>That is, the next symbol to be parsed is <code>&lt;D&gt;</code>, and if we advance it,</p>

<!--
############
b_state = a_state.advance()
print(b_state)
print(b_state.finished())
############
-->

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h2 id="parser">Parser</h2>

<p>We start with a bare minimum interface for a parser. It should allow one
to parse a given text using a given nonterminal (which should be present in
the grammar).</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<p>We now initialize the Earley parser, which is a parser.</p>

<form name="python_run_form">
<br>
<pre name="python_output"></pre>

</form>

<h4 id="nullable">Nullable</h4>

<p>Earley parser handles <em>nullable</em> nonterminals separately. A nullable
nonterminal is a nonterminal that can derive an empty string. That is
at least one of the expansion rules must derive an empty string. An
expansion rule derives an empty string if <em>all</em> of the tokens can
derive the empty string. This means no terminal symbols (assuming we
do not have zero width terminal symbols), and all nonterminal symbols
can derive empty string.</p>

<p>In this implementation, we first initialize the list of first level
nullable nonterminals that contain an empty expansion. That is, they
directly derive the empty string.
Next, we remove any expansion rule that contains a token as these
expansion rules will not result in empty strings. Next, we start with
our current list of nullable nonterminals, take one at a time, and
remove them from the current expansion rules. If any expansion rule
becomes empty, the corresponding nonterminal is added to the nullable
nonterminal list. This continues until all nullable nonterminals
are processed.</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rahul.gopinath.org/post/2021/02/06/earley-parsing/">https://rahul.gopinath.org/post/2021/02/06/earley-parsing/</a></em></p>]]>
            </description>
            <link>https://rahul.gopinath.org/post/2021/02/06/earley-parsing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145856</guid>
            <pubDate>Mon, 15 Feb 2021 18:56:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teleport vs. AWS Session Manager]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145401">thread link</a>) | @gk1
<br/>
February 15, 2021 | https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/ | <a href="https://web.archive.org/web/*/https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
      <div>

        
          <p>In this paper, we will provide a brief description of what SSM Session Manager is and how it compares to Teleport privileged access management solution. We‚Äôll compare the significant design and feature differences and the operational overhead of the solutions. Because Session Manager is limited to AWS, we‚Äôll limit the scope of the discussion to that cloud provider. Finally, we have provided a feature matrix of the two solutions.</p>

        


        
        
        

        
      </div>
    </article><p>
    This site uses cookies to improve service. By using this site, you agree to our use of cookies. <a href="https://goteleport.com/privacy/" title="Privacy Policy">More info</a>.

    
  </p></div>]]>
            </description>
            <link>https://goteleport.com/resources/white-papers/teleport-vs-aws-session-manager/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145401</guid>
            <pubDate>Mon, 15 Feb 2021 18:17:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: JavaScript course for No-code developers]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145306">thread link</a>) | @matteomosca
<br/>
February 15, 2021 | https://71lines.com/build-bubble-plugins | <a href="https://web.archive.org/web/*/https://71lines.com/build-bubble-plugins">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://71lines.com/build-bubble-plugins</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145306</guid>
            <pubDate>Mon, 15 Feb 2021 18:09:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Third and Up Broadcasts]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145188">thread link</a>) | @firloop
<br/>
February 15, 2021 | https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html | <a href="https://web.archive.org/web/*/https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>


<p>In my RSS reader, I came across the article <a href="https://www.38north.org/2021/02/new-life-for-the-third-network/">New Life for the Third
Network</a> on
the North Korea analysis blog 38 North. I've always been interested in this
system because it is an unusual broadcast technology, and it seems it might
remain relevant as Kim Jong Un has apparently called for the apparently
dilapidated system to be repaired and expanded. What I'm saying is that I don't
just write about obsolete technology, but also foreign policy, apparently.</p>
<p>Anyway, onto the obscure technology. If you're not familiar, the "Third
Broadcast"[1] is a wired radio system installed in at least some cities in
North Korea. Rumors about the system abound, but I will try to stay to facts,
which there are very few of. The system is evidently operated in a similar
fashion to a radio network with central programming produced in Pyongyang with
various slots filled in with programming produced at a regional or local level.
The "receiver" consists of a speaker unit with a volume knob that usually seems
to be plugged into a socket on the wall, but might sometimes be hardwired (or
the plug concealed behind in a recess socket). There is only one channel, so
the volume control is all you need.</p>
<p>Technically, one wonders, what exactly is "wired radio?" Well, there are
various systems that have been referred to as "wired radio" or "wired
broadcast". The term is usually reserved for systems that do not function by
transmitting RF into a coaxial cable, because, well, we usually just call that
cable. Instead, "wired radio" systems usually don't involve "radio" at all but
just directly put the modulated signal onto a wire.</p>
<p>From what little I have been able to figure out, my guess is that North Korea's
example is basically a large-scale 70v audio system. High-voltage audio systems
are fairly common in commercial overhead paging and some sound reinforcement
applications. Basically, the low voltage and high current produced by a
conventional audio amplifier requires a very large-gauge wire to span long
distances without significant loss, and large-gauge wires are expensive. If you
want to install, say, in-ceiling PA speakers throughout a building, you can
save money by using a special paging amplifier which produces a high voltage
and low current.</p>
<p>Typically in these systems the speakers are just normal four or eight ohm
speakers, but each one has a transformer mounted to it that converts the
high-voltage audio to low-voltage at higher current for the speaker coil. You
can also fit the individual speaker with a volume control using a simple
potentiometer, although since paging systems are not usually meant to be
adjusted "on the fly" this isn't especially common, with it being more common
for there to be multiple taps on the amplifier or an internal adjustment knob
so that the installer can do a one-time adjustment for roughly equal loudness
throughout a room [2].</p>
<p>There are a couple of different conventions for these systems, but by far the
most common is 70 volt. For a large-scale system like that in North Korea,
they may use 110 volt, which is also used in some commercial buildings. I'm not
sure how exactly this scales up to a city, do they use yet a higher voltage for
longer distances with neighborhood step-down transformers? In any case,
high-voltage audio is a well understood, commercially available technology
that would be quite consistent with what I've seen of the North Korean system.</p>
<p>That's not to say that I'm sure this is the case. There are other ways of
distributing audio over large areas. The Muzak company, for example, got its
start by distributing background music to clients using a wired network. As I
understand it, the first implementation of Muzak used leased telephone lines
(presumably "toll quality" lines for better audio) to get the sound to each
building, where there was an amplifier to high-voltage audio for the building's
speakers. This was done at a time when recorded music was not common, so the
background music in large stores was sometimes actually a live performance---
just performed elsewhere. North Korea might use a similar arrangement to feed
neighborhood amplifiers.</p>
<p>My assumption that North Korea uses a high-voltage audio system rather than a
low-level signal distribution network is due to the fact that the radios are
only connected to a single socket. They don't seem to require power for
amplification, so the audio must arrive already amplified. I'm not aware of
any good way to do this other than high-voltage audio.</p>
<p>So, is there any other interest I can eek out of high-voltage audio? Of course!
Another common application of high-voltage audio technology, which is basically
just a special case of paging, is audio masking systems. These are typically
used in facilities where sensitive discussions occur in order to prevent
eavesdropping, and vary in sophistication. A therapist's office might use a
simple white noise machine to prevent casual eavesdropping from the waiting
room, while a facility housing corporate or government secrets might use a
wide-area sound masking system intended to be resistant against technical
surveillance. These larger-scale sound masking systems are often essentially
just 70-volt PAs used to broadcast white noise, but the "speaker" designs
tend to be a little more eccentric.</p>
<p>That's because high-end sound masking systems often use transducers coupled
directly to surfaces in order to prevent the capture of audio from the surface
by mechanical or optical means. That means, for example, an audio transducer
adhered to each windowpane which vibrates the windowpane with white noise in a
way that is minimally audible to humans but should be overwhelming to a laser
reflection listening technique. Atlas Sound is a major manufacturer of
these high-end systems and their products run surprisingly cheap on eBay, I
have a TSCM-grade sound masking unit under the bed because I think it helps me
sleep, or at least improves the security of my dreams. They also manufacturer
sound masking speakers intended for use in air ducts, plenum spaces,
transduction to doors and walls, etc. Putting Muzak into such a system might
have an amusing result, as all these untuned surfaces would probably rattle and
resonate in horrifying ways.</p>
<p>A similar wired radio system to North Korea's existed in the Soviet Union,
which might give the impression that wired radio is limited to troubled
Communist states. That's not entirely true, but it is certainly more attractive
to embattled regimes because it has the property of being extremely difficult
to intercept or disrupt (jam) compared to broadcast radio. That said, there
have been other wired radio schemes with little to do with state propaganda.
Well, depending on what you think of the BBC, I suppose.</p>
<p>Indeed, one of the other cases of a "wired radio" technology I am aware of is
the television system in Kingston upon Hull, England. As I understand it, the
mid-sized city of Hull is built on geography that made television reception
extremely uneven---too many hills and gulches for good coverage. In the 1930s,
a company called Broadcast Relay Service operated "piped TV" so that Hull
residents could get their television without struggling with reception. This
might sound like it's just cable television, and conceptually it's about the
same, but the implementation was quite different.</p>
<p>Broadcast Relay, later called Rediffusion, actually used sets of twisted pairs,
one to carry each channel. A specially equipped television had a switch box
that connected a different pair to the CRT depending on which channel you
wanted to watch. This was perhaps technically simpler, but less scalable, than
cable television. The scalability problem would not have been evident at the
time, because there were very few television channels in the UK, very far into
the modern day. My recollection is that a typical Broadcast Relay switch box
supported four channels.</p>
<p>The funny thing is, post-war, Broadcast Relay rebranded as Rediffusion and
went into the radio business---wired radio. They operated an audio-only service
nearly identical to the Third Broadcast, except that homes were connected with
multiple pairs for multiple channels. They expanded into various British
colonies and other UK cities, and transitioned more into the television and
radio rental business... This sounds odd to a US audience, but apparently in
the UK it was very common to rent your television and radio.</p>
<p>Of course, by the '70s these wired services had become uncompetitive with the
improved broadcast technology and Rediffusion went the way of history, trying
out a variety of diversified businesses that never caught on.</p>
<p>I'm not aware of any successful wired radio services in the US for general
public consumption, although I would not be at all surprised to learn of one.
Similar technology was widely used in the US but generally for background music
applications, as in the case of Muzak. Many of these services transitioned over
time to other, less-expensive distribution networks like FM subcarrier,
mailed-out recorded tapes, and satellite. Of course, today, I assume most
background music is done by IP, but I bet there's still at least one chain
that uses a hired satellite transponder to distribute music to their stores.</p>
<p>Earlier in the history of telecom, it was typical for major cities to have
dedicated wiring run to major businesses for all sorts of specific purposes.
Over time, most of these systems moved to leased telephone lines, then to
dialed telephone lines, and onto the internet. This could be viewed as the
long-term component of the trend of "over the top" or OTT services. Today we
talk about telephone and television being OTTd onto internet services, but
post World War II they were basically talking about OTTing background music
and fire detection onto the telephone system.</p>
<p>And perhaps that leads to another topic: in the not too far future, I will talk
about fire telegraphs and their function as perhaps the earliest urban-scale</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html">https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html</a></em></p>]]>
            </description>
            <link>https://computer.rip/2021-02-11%20the%20third%20and%20up%20broadcasts.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145188</guid>
            <pubDate>Mon, 15 Feb 2021 17:57:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Senior engineers reduce risk (2016)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145055">thread link</a>) | @ali92hm
<br/>
February 15, 2021 | https://ideolalia.com/essays/senior-engineers-reduce-risk.html | <a href="https://web.archive.org/web/*/https://ideolalia.com/essays/senior-engineers-reduce-risk.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	

	<div>
		<article>
			<p>If you read articles on career development in software, you‚Äôll already know there are many things a senior engineer is not. They are not, for instance, just someone with ten years of experience. They are not just someone who maintains a popular open source project. They are not just someone who wrote the initial prototype for their company‚Äôs flagship product.</p>

<p>Instead, senior engineers possess many disparate skills, the exact composition of which varies from author to author. These laundry lists are <a href="https://www.kitchensoap.com/2012/10/25/on-being-a-senior-engineer/">detailed</a>, <a href="https://frontside.io/blog/2016-07-07-the-conjoined-triangles-of-senior-level-development/">nuanced</a>, and typically leave the reader feeling as if they have a long way to go.</p>

<p>Empirically, though, there are many people who have the title ‚Äúsenior engineer‚Äù who do not possess all these skills. Unless all of them can be explained by title inflation or poor management, this is a serious disconnect with reality. We have to treat these articles as aspirational: a description of the industry as it should be. For someone wanting to make a significant, recognized impact on their company, today, these articles are more distracting than helpful.</p>

<p>Senior engineers reduce risk, in every sense. Often, ‚Äúrisk‚Äù is used to describe technical risk, which is that the software doesn‚Äôt function properly, or is never completed at all. But there are other issues that can prevent the business atop the software from succeeding‚Ää-‚Äärisks around process, or product design, or sales, or the company‚Äôs culture. A senior engineer understands these risks, and mitigates them where possible.</p>

<h3 id="senior-engineers-affect-the-larger-system">senior engineers affect the larger system</h3>

<p>Most startups die because they build the wrong product. The core risks are rarely technical; if no one wants the product, building it well won‚Äôt change the outcome. The most important thing an engineer can do during this time is either speed up the search, or narrow the search space. Building prototypes, gaining domain expertise, and generating metrics all lower the chance the company will run out of money.</p>

<p>Once a company finds product-market fit, the risks change. The product has to work, scale, and easily adapt to anything learned by the customer-facing employees. New users introduce technical risk but, more importantly, new hires introduce risk into the company‚Äôs processes and culture. If the company can‚Äôt make new hires productive, it will collapse under the weight of its payroll.</p>

<p>The software will need to be broken into manageable pieces, or else new engineers will need to hold the entire growing system in their head to be productive. Where before there may have been one engineer who handled ‚Äútalking to customers‚Äù, the planning process may now need to include salespeople. Above all, each new hire dilutes any clarity that existed around what the company values, and what it doesn‚Äôt. Left alone, the company will become whatever people were used to at their last job.</p>

<p>As the company continues to grow, any new project will require collaboration across teams. After a few projects get delayed because of one missing piece, the leadership will start to value predictable results above all else. Processes will be established, recurring ‚Äúsync‚Äù meetings will be scheduled. Variance in productivity, above or below the mean, will be minimized. The largest risk is perceived to be a small component which is never completed, obviating all the other related work. In this environment, a senior engineer is an engineer who works within the processes, and even refines them, to ensure reliable output.</p>

<p>This narrative arc describes the average growing software startup, but no company is exactly average. The precise risks will vary depending on who founded the company, what it does, and who they hire. The senior engineers may reduce risk deliberately, or simply have the right skill set at the right time. A fresh graduate with the right domain expertise can have a huge impact on the larger system without ever understanding it.</p>

<h3 id="senior-engineers-find-leverage">senior engineers find leverage</h3>

<p>Impact can be serendipitous, but the greatest impact comes from a deliberate attempt to effect change with the least effort. If production is unstable, precluding a common failure mode will have a more immediate impact than volunteering for pager duty. If the company is rapidly hiring, improving and standardizing interview practices will have a broader impact than conducting a dozen phone screens every week. If there are any junior engineers, spending an hour to talk over unfamiliar topics will have a longer lasting impact than writing more code.</p>

<p>Where possible, solving the general form of any problem is preferable to solving a single instance. However, this is only possible if the problem space is well understood. Premature abstraction, in code or elsewhere, introduces risk. If the failure modes in production are poorly understood, volunteering for pager duty may be the only way to really help.</p>

<h3 id="senior-engineers-are-storytellers">senior engineers are storytellers</h3>

<p>Most risks, especially where managed effectively, never come to pass. For this reason, it‚Äôs often impossible to tell the difference between real risk and perceived risk. By the same token, it can be difficult to tell the difference between real impact and perceived impact. If a senior engineer identifies a significant risk, they have to be able to concisely explain and prioritize it for a non-expert audience.</p>

<p>Some see this as a form of corporate politics; a skilled storyteller can protect their company from non-existent risks, and be seen as a hero. But the fact that storytelling can be misused doesn‚Äôt make it invalid, just something that should be approached with a critical eye.</p>

<h3 id="senior-engineers-choose-companies-with-the-right-risks">senior engineers choose companies with the right risks</h3>

<p>Every company has different risks, and so every company expects something different from their senior engineers. An engineer who has spent the last five years making small, continuous improvements to the processes in a larger company may not enjoy or even understand the sort of role expected by a three person startup. The expectation that ‚Äúsenior‚Äù is a fungible title is both widespread and harmful, leading to unrealistic expectations from both engineers and companies.</p>

<p>Through trial and error, engineers can identify the sorts of problems they enjoy solving. A senior engineer should find a company which both has those problems, and knows it. Anything else will lead to frustration, and eventually apathy.</p>

<p>Likewise, companies should try to communicate their risks, early and often. If we were to judge by what‚Äôs asked in interviews, most companies believe their only risks are technical, but that‚Äôs absurd. The interviewers know the real problems facing the company, but the polite fiction is that they‚Äôre only temporary, and soon everyone will be able to focus entirely on the algorithms, which are what really matter. Since most companies tell the same story, candidates have to read between the lines to see if there‚Äôs a good fit. Honesty would make things much simpler.</p>

<h3 id="senior-engineers-know-titles-dont-mean-much">senior engineers know titles don‚Äôt mean much</h3>

<p>Without context, knowing someone was a ‚Äúsenior engineer‚Äù tells you almost nothing. Titles can matter a lot in some environments, but in those cases titles are just another tool for reducing risk; if being a senior, or staff, or principal engineer is the only way to make your voice heard, then pursuing those titles is worthwhile. More often, though, it‚Äôs just a distraction.</p>

<hr>

<p>This essay was originally published on <a href="https://medium.com/hackernoon/senior-engineers-reduce-risk-5ab2adc13c97">Medium</a>.</p>


		</article>
	</div>

</div></div>]]>
            </description>
            <link>https://ideolalia.com/essays/senior-engineers-reduce-risk.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145055</guid>
            <pubDate>Mon, 15 Feb 2021 17:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Create TitTok Automation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26145047">thread link</a>) | @mavier
<br/>
February 15, 2021 | http://beacons.page/tt2nite | <a href="https://web.archive.org/web/*/http://beacons.page/tt2nite">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://beacons.page/tt2nite</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145047</guid>
            <pubDate>Mon, 15 Feb 2021 17:46:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Break into Product Management]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145038">thread link</a>) | @awaxman11
<br/>
February 15, 2021 | https://blog.awaxman.com/how-to-break-into-product-management | <a href="https://web.archive.org/web/*/https://blog.awaxman.com/how-to-break-into-product-management">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I frequently get asked about breaking into product management. Instead of continuing to share top-of-mind thoughts on a one-off basis I decided it‚Äôd be worth writing down my thoughts and sharing them more broadly. So here‚Äôs my advice:</p><h2 id="stand-out-from-the-crowd">Stand Out From the Crowd</h2><p>There are a lot of people with general business, marketing, or operations backgrounds trying to break into product management. It‚Äôs helpful to differentiate yourself to stand out from the crowd. Below are some ideas:</p><ul><li>Learn how to code</li><li>Work on a side project <!-- -->[1]</li><li>Create product teardowns of companies you‚Äôre interested in <!-- -->[2]</li><li>Learn how to use Figma, UXPin, Adobe XD, Balsamiq, or Moqups to express product ideas</li><li>Learn how to perform user research and run an informal study for a company you want to work at</li><li>Learn SQL to analyze data</li></ul><p>There are many existing product managers, developers, and designers applying to Product Manager roles, which can make it harder for someone with no directly relevant experience to break into product management. In addition to Product Manager roles, be on the lookout for:</p><ul><li>Entry level ‚ÄúAssociate Product Manager‚Äù roles</li><li>Tangentially related roles at a small company that will let you take on product management responsibilities <!-- -->[3]</li></ul><h2 id="be-honest-with-your-strengths--weaknesses">Be Honest With Your Strengths &amp; Weaknesses</h2><p>Don‚Äôt worry if you don‚Äôt have all the skills ‚Äúneeded‚Äù to be a product manager. Product management can mean a million things depending on team dynamics and company stage.</p><p>There are a myriad of skill sets that can be useful for a product manager: technical background, design chops, being data driven, user research, communication, collaboration, strategic thinking, prioritization, project management, business literacy, etc. I‚Äôve met very few people who are above average in 75%+ of these areas. So don‚Äôt worry if you‚Äôre not an expert in all these areas either! Instead, be honest with your strengths and weaknesses. Both to yourself and to others. It will help make sure there is good alignment between what you‚Äôre good at and what the company needs.</p><p>In addition to being upfront about your strengths and weaknesses, be clear about the areas you‚Äôre actively working on and excited to improve. Humility and eagerness to learn are very positive traits for aspiring PMs ‚Äî or anyone for that matter.</p><h2 id="know-what-youre-getting-yourself-into">Know What You‚Äôre Getting Yourself Into</h2><p>Make sure you‚Äôre excited about product management for the right reasons. I meet a lot of people excited about product management because they envision themselves spending all their time making strategic product decisions, being the one who comes up with all the new ideas, and having authority to make all the calls. However, if you‚Äôre breaking into product management it‚Äôs likely you will be spending a lot of time doing somewhat less appealing work at first (project management, helping out with whatever is needed, etc). Even after your PM career has gotten off the ground, many of the best PMs I know continue to focus on these types of activities throughout their career. Noah Weiss, Head of Search, Learning, &amp; Intelligence at Slack, does a great job of debunking common PM myths in <a href="https://medium.com/@noah_weiss/five-dangerous-myths-about-product-management-d1d852ed02a2" target="_blank" rel="noreferrer">this blog post</a>.</p><p>If you‚Äôre not excited about doing a lot of the grunt work and facilitating other people, product management may not be the right role for you.</p><hr><h2 id="resources">Resources</h2><p>üì£ <strong> Feb 2021 Update</strong></p><p>My top resource recommendation <em>by far</em> is to sign up for <a href="https://www.lennysnewsletter.com/" target="_blank" rel="noreferrer">Lenny Rachitsky‚Äôs Newsletter</a> and join his 3,000+ member product management Slack community.</p><h3 id="-books">üìö Books</h3><ul><li><a href="https://www.amazon.com/Cracking-PM-Interview-Product-Technology/dp/0984782818/ref=asc_df_0984782818/?tag=hyprod-20&amp;linkCode=df0&amp;hvadid=312175933381&amp;hvpos=1o1&amp;hvnetw=g&amp;hvrand=11188392398686243659&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001989&amp;hvtargid=pla-436082204625&amp;psc=1&amp;tag=&amp;ref=&amp;adgrpid=60258871817&amp;hvpone=&amp;hvptwo=&amp;hvadid=312175933381&amp;hvpos=1o1&amp;hvnetw=g&amp;hvrand=11188392398686243659&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=9001989&amp;hvtargid=pla-436082204625" target="_blank" rel="noreferrer">Cracking the PM Interview</a></li><li><a href="https://www.amazon.com/Designing-Products-People-Love-Successful-ebook/dp/B019YN9WFW/ref=sr_1_1?crid=3BCMKY8COCLZ0&amp;keywords=designing+products+people+love&amp;qid=1549830458&amp;s=books&amp;sprefix=products+people+love%252Cstripbooks%252C270&amp;sr=1-1-catcorr" target="_blank" rel="noreferrer">Designing Products People Love</a></li><li><a href="https://www.amazon.com/INSPIRED-Create-Tech-Products-Customers/dp/1119387507/ref=pd_sim_14_5?_encoding=UTF8&amp;pd_rd_i=1119387507&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Inspired</a></li><li><a href="https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products/dp/1591847788/ref=pd_sim_14_10?_encoding=UTF8&amp;pd_rd_i=1591847788&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Hooked</a></li><li><a href="https://www.amazon.com/Dont-Make-Think-Revisited-Usability/dp/0321965515/ref=pd_sim_14_38?_encoding=UTF8&amp;pd_rd_i=0321965515&amp;pd_rd_r=3131a720-2d72-11e9-b037-33f16b2f8627&amp;pd_rd_w=p6UFh&amp;pd_rd_wg=Im0gK&amp;pf_rd_p=90485860-83e9-4fd9-b838-b28a9b7fda30&amp;pf_rd_r=FGW6JSQ5M2X1SGX0W00C&amp;psc=1&amp;refRID=FGW6JSQ5M2X1SGX0W00C" target="_blank" rel="noreferrer">Don‚Äôt Make Me Think</a></li><li><a href="https://www.amazon.com/gp/product/0307887898/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=0307887898&amp;linkCode=as2&amp;tag=httpstwit071f-20&amp;linkId=6L7BFA3XXURHDWVN" target="_blank" rel="noreferrer">The Lean Startup</a></li><li><a href="https://www.amazon.com/How-Measure-Anything-Intangibles-Business-ebook/dp/B00INUYS2U" target="_blank" rel="noreferrer">How to Measure Anything</a></li></ul><h3 id="-articles">üìù Articles</h3><ul><li><a href="https://a16z.com/2012/06/15/good-product-managerbad-product-manager/" target="_blank" rel="noreferrer">Good Product Manager / Bad Product Manager</a></li><li><a href="https://medium.com/@hemal/the-modern-day-good-product-manager-bad-product-d5b537398e3a" target="_blank" rel="noreferrer">The Modern Day Good Product Manager / Bad Product Manager</a></li><li><a href="https://medium.com/@noah_weiss/10-traits-of-great-pms-a7776cd3d9cd" target="_blank" rel="noreferrer">10 Traits of Great PMs</a></li><li><a href="https://medium.com/@noah_weiss/five-dangerous-myths-about-product-management-d1d852ed02a2" target="_blank" rel="noreferrer">Five Dangerous Myths about Product Management</a></li><li><a href="https://medium.com/all-things-product-management/product-manager-you-are-664d83ee702e" target="_blank" rel="noreferrer">Product Manager You Are‚Ä¶</a></li><li><a href="https://medium.com/pminsider/product-manager-skills-by-seniority-level-a-deep-breakdown-cd0690f76d10?source=user_profile---------7------------------" target="_blank" rel="noreferrer">Product Manager Skills By Seniority Level ‚Äî A Deep Breakdown</a></li><li><a href="https://medium.com/@Bosefina/from-liberal-arts-to-product-management-c4015edfb166?fbclid=IwAR2fM_QlPHXAbA0AgYFDmZN3CIElIJEJ1Umua4-IZRJiVnUAT9aa0hk5Dn8" target="_blank" rel="noreferrer">From Liberal Arts to Product Management</a></li><li><a href="https://firstround.com/review/17-product-managers-who-will-own-the-future-of-nyc-tech-and-the-9-frameworks-theyll-use-to-do-it/%23text_ca9251b1badb41efa55e8b2f9b8280ea" target="_blank" rel="noreferrer">17 Product Managers Who Will Own the Future of NYC Tech ‚Äî and the 9 Frameworks They‚Äôll Use to Do It</a></li><li><a href="https://www.intercom.com/blog/great-product-managers-dont-spend-time-on-solutions/" target="_blank" rel="noreferrer">Great PMs Don‚Äôt Spend Time on Solutions</a></li><li><a href="http://www.sachinrekhi.com/the-best-product-managers-fall-in-love-with-a-problem" target="_blank" rel="noreferrer">The Best Product Managers Fall in Love With a Problem</a></li><li><a href="https://wavelength.asana.com/pyramid-clarity-strategic-alignment/#close" target="_blank" rel="noreferrer">The Pyramid of Clarity</a></li><li><a href="https://blog.crisp.se/2016/01/25/henrikkniberg/making-sense-of-mvp" target="_blank" rel="noreferrer">Making Sense of MVP ‚Äî and Why I Prefer Earliest Testable/Usable/Lovable</a></li><li><a href="https://hackernoon.com/finding-winning-ideas-using-the-confidence-tool-d8f2d8cc2c15" target="_blank" rel="noreferrer">The Tool that Will Help You Choose Better Product Ideas</a></li><li><a href="https://medium.com/@noah_weiss/50-articles-and-books-that-will-make-you-a-great-product-manager-aad5babee2f7" target="_blank" rel="noreferrer">79 Articles and Books that will Make you a Great Product Manager</a></li></ul><h3 id="-people-to-follow">üë©‚Äçüíª People to Follow</h3><ul><li><strong>Lenny Rachitsky</strong>: <a href="https://www.lennysnewsletter.com/" target="_blank" rel="noreferrer">newsletter</a> ¬∑ <a href="https://twitter.com/lennysan" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Shreyas Doshi</strong>: <a href="https://twitter.com/shreyas/status/1303150374124048386" target="_blank" rel="noreferrer">popular posts</a> ¬∑ <a href="https://twitter.com/shreyas" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Kevin Yien</strong>: <a href="https://kevinyien.com/blog.html" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/kevinyien" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Julie Zhou</strong>: <a href="https://medium.com/@joulee" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/joulee" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Jackie Bavaro</strong>: <a href="https://medium.com/@jackiebo" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/jackiebo" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Brandon Chu</strong>: <a href="https://blackboxofpm.com/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/BrandonMChu" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Brent Tworetzky</strong>: <a href="https://medium.com/@tworetzky" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/tworetzky" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Ken Norton</strong>: <a href="https://medium.com/@kennethn" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/kennethn" target="_blank" rel="noreferrer">twitter</a> <a href="https://www.kennorton.com/newsletter/" target="_blank" rel="noreferrer">newsletter</a></li><li><strong>Noah Weiss</strong>: <a href="https://t.co/vGpMjhSmOm" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/noah_weiss" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Ellen Chisa</strong>: <a href="https://www.ellenchisa.com/writing/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/ellenchisa" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Sachin Rekhi</strong>: <a href="http://www.sachinrekhi.com/" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/sachinrekhi" target="_blank" rel="noreferrer">twitter</a></li><li><strong>Bo Ren</strong>: <a href="https://medium.com/@Bosefina" target="_blank" rel="noreferrer">blog</a> ¬∑ <a href="https://twitter.com/Bosefina" target="_blank" rel="noreferrer">twitter</a></li></ul><h3 id="-other">üì¢ Other</h3><ul><li><a href="https://www.productmanagerhq.com/weekly-reading/" target="_blank" rel="noreferrer">Product Manager HQ</a></li><li><a href="https://svpg.com/articles/" target="_blank" rel="noreferrer">SVPG</a></li><li><a href="https://www.mindtheproduct.com/" target="_blank" rel="noreferrer">Mind the Product</a></li><li><a href="https://www.intercom.com/blog/product-and-design/" target="_blank" rel="noreferrer">Intercom Blog</a></li><li><a href="https://producthabits.com/" target="_blank" rel="noreferrer">Product Habits</a></li></ul><hr><p>[1]<!-- --> There are more and more tools that allow people to build stuff w/o knowing how to code.</p><p>[2]<!-- --> Check out UserOnboard and Underglass for some teardown inspiration.</p><p>[3]<!-- --> Smaller companies usually have more nebulous roles where people wear many hats. If you take on product management responsibilities you can highlight these when applying to PM positions moving forward. You may also be able to switch into a formal PM role at this company in the future.</p></div></div>]]>
            </description>
            <link>https://blog.awaxman.com/how-to-break-into-product-management</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145038</guid>
            <pubDate>Mon, 15 Feb 2021 17:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big Pharma will claim opioid fines as tax deductions]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26145030">thread link</a>) | @samizdis
<br/>
February 15, 2021 | https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1877">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
big pharma, opioids, finance, business, corruption,

Summary:
Big Pharma will claim opioid fines as tax-deductions

URL:
https://pluralistic.net/2021/02/14/a-fine-is-a-price/

Title:
Pluralistic: 14 Feb 2021 a-fine-is-a-price

Bullet:
üê©

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
None

--><br>
<a href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/"><img src="https://i2.wp.com/craphound.com/images/14Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/14Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">Big Pharma will claim opioid fines as tax-deductions</a>: A fine is a price‚Ä¶the price of doing business.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#retro">This day in history</a>: 2006
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="deductible"></a><br>
<img src="https://i2.wp.com/craphound.com/images/writedowns.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/writedowns.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Say it with me now: a fine is a price. When companies profit from inflicting harm on the rest of us, a fine is just part of the price of doing business.</p>
<p>It's a numbers game: multiply the likelihood of getting caught by the expected fine and divide by the expected profit, and that's how many people you can murder for a buck.</p>
<p>Like the pharma companies, who used opioids to slaughter more Americans than the Vietnam war.</p>
<p>These companies bribed doctors and pharmacists, lied about the science of addiction, lied about the deaths, lied about their products' efficacy, lied about the harm. The corpses piled higher and higher. They made billions. Billions and billions.</p>
<p>Four of the worst culprits ‚Äì Johnson &amp; Johnson, Amerisourcebergen, McKesson and Cardinal Health ‚Äì agreed to pay $26b for the people they killed and the lives they ruined ‚Äì and now they've advised investors that they plan on claiming the fines as tax-deductions.</p>
<p>Literally, a fine is a price ‚Äì the price of doing business, claimable against profits on the companies' annual IRS filings, so that the public subsidizes their extremely profitable murder.</p>
<p><a href="https://www.nakedcapitalism.com/2021/02/beyond-outrageous-big-pharma-using-loophole-to-get-taxpayers-to-fund-billions-in-fines-for-fueling-opioid-crisis.html">https://www.nakedcapitalism.com/2021/02/beyond-outrageous-big-pharma-using-loophole-to-get-taxpayers-to-fund-billions-in-fines-for-fueling-opioid-crisis.html</a></p>
<p>The companies were allowed to take these settlements without admitting wrongdoing. This is a common efficiency measure employed by federal regulators and prosecutors to secure a quick settlement rather than a drawn-out court battle.</p>
<p><a href="https://www.washingtonpost.com/business/2021/02/12/opioid-settlement-tax-refund/?arc404=true">https://www.washingtonpost.com/business/2021/02/12/opioid-settlement-tax-refund/?arc404=true</a></p>
<p>Criminal cases that end with the accused coping a plea aren't unique to corporate murder, of course ‚Äì more than 97% of people indicted for federal crimes plea bargain, proving that prosecutors are either psychic and only indict the guilty, or that the system is rigged.</p>
<p>But it's not just rigged to force everyday people who fall under the law's baleful glare to plead guilty irrespective of the truth ‚Äì it's also rigged to allow giant corporations to walk away from their crimes without admitting their guilt (again, irrespective of the truth).</p>
<p>The lack of culpability is a distinction with a difference. Companies aren't permitted to write off fines, but the pharma giants say this isn't a fine, it's a payout to the victims ‚Äì effectively a charitable donation. Since they committed no crime, it can't be a fine.</p>
<p>It may seem obvious, but when corporate murderers aren't held to account, they get to go on doing their business as if they weren't pariahs.</p>
<p>So the same companies claiming billions in writeoffs for opioid settlements also pulled in billions in tax subsidies under the CARES Act, even as they made billions in profits from that same pandemic. Heads they win, tails we lose.</p>
<p>40% of Americans say they won't, or probably won't, get vaccinated against covid. They often cite outlandish stories about microchips in the vaccines (speaking as a computer scientist, I'd like to study those chips and their antennas and power-supplies, wow!) .</p>
<p>They believe weird tales about sinister plans from Bill Gates.</p>
<p><a href="https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/">https://www.pewresearch.org/science/2020/12/03/intent-to-get-a-covid-19-vaccine-rises-to-60-as-confidence-in-research-and-development-process-increases/</a></p>
<p>These stories don't hold up to scrutiny, and the people who argue for them say obviously outlandish things, and yet the number of people who believe them  is frightening.</p>
<p>Then there's everyone who isn't worried about microchips or Bill Gates, but thinks the pharma companies would cheerfully kill them for a buck with untested, potentially deadly products, and that the regulators we hope will protect us from bad science will turn a blind eye.</p>
<p>While the microchips story is far more outlandish than the mistrust one, both of them share the same epistemological foundation: that the official truth can't be trusted because the process by which it is arrived at has been corrupted by corporate power.</p>
<p>Who can deny this? We know for a fact that the pharma companies conspired to murder us, that their regulators let them do it, and that they got away with fines that totalled less than they earned from their murders, and now they're going to write off their fines.</p>
<p>And it's a fact that Bill Gates has done some pretty sinister stuff in his day, and he got away with it, too ‚Äì his billions originate with the creation of a giant, rapacious monopoly that ruined lives and gouged the public to reward its shareholders, Gates chief among them.</p>
<p>The tale that Gates retired from monopolising and became a cuddly humanitarian doesn't bear up to scrutiny. Sure, some great stuff that comes out of the Gates Foundation, but let's not forget the billions they've funnelled to ending public education:</p>
<p><a href="https://apnews.com/article/92dc914dd97c487a9b9aa4b006909a8c">https://apnews.com/article/92dc914dd97c487a9b9aa4b006909a8c</a></p>
<p>Gates and other billionaire dilettantes turned America's poorest children into guinea pigs for an failed experiment in charter education, while waging war on teachers' unions:</p>
<p><a href="https://www.ineteconomics.org/perspectives/blog/millionaire-driven-education-reform-has-failed-heres-what-works">https://www.ineteconomics.org/perspectives/blog/millionaire-driven-education-reform-has-failed-heres-what-works</a></p>
<p>Gates's extreme ideology of private profit over public benefit played a toxic role in covid vaccine development ‚Äì just not a role that has anything to do with microchips.</p>
<p>Rather, it was the Gates Foundation that arm-twisted Oxford into abandoning its pledge to make its vaccine free for all to produce. Instead, it sold exclusive rights to its publicly funded vaccines to Astrazeneca.</p>
<p><a href="https://khn.org/news/rather-than-give-away-its-covid-vaccine-oxford-makes-a-deal-with-drugmaker/">https://khn.org/news/rather-than-give-away-its-covid-vaccine-oxford-makes-a-deal-with-drugmaker/</a></p>
<p>The Gates Foundation ensured that a giant pharma monopolist would reap billions, and Oxford millions ‚Äì and that the world's poorest nations would lose guaranteed access to locally produced vaccines.</p>
<p>It's irrational to worry about microchips in vaccines, but it's 100% rational to worry that pharma companies will privatize every gain and socialize every loss, even loss of life. From Moderna to Astrazeneca, Big Pharma turns public research into private billions.</p>
<p>And it's irrational to worry that Bill Gates wants to use vaccines to reduce the population or track us with 5G, but it's 100% rational to worry that he is a sociopathic ideologue whose philanthropy exists in part to further his extremist agenda.</p>
<p>Telling people to "trust the science" isn't just flawed because the science is a moving target ‚Äì it's flawed because the science is often corrupted, and even when they corruption comes to light, the penalties are tax-deductible.</p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#15yrsago Princeton DRM researchers release Sony debacle paper <a href="https://web.archive.org/web/20060222235419/https://itpolicy.princeton.edu/pub/sonydrm-ext.pdf">https://web.archive.org/web/20060222235419/https://itpolicy.princeton.edu/pub/sonydrm-ext.pdf</a></p>
<p>#15yrsago Bruce Sterling on Sony DRM debacle <a href="https://web.archive.org/web/20060523204518/http://www.wired.com/wired/archive/14.02/posts.html?pg=5">https://web.archive.org/web/20060523204518/http://www.wired.com/wired/archive/14.02/posts.html?pg=5</a></p>
<hr>
<p><a name="bragsheet"></a><br>
<img src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/colophonimages.jpeg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Currently writing:</p>
<ul>
<li>My next novel, "The Lost Cause," a post-GND novel about truth and reconciliation. Friday's progress: 514 words (110389 total).
</li>
<li>
<p>A short story, "Jeffty is Five," for The Last Dangerous Visions. Friday's progress: 251 words (5077 total).</p>
</li>
</ul>
<p>Currently reading: Analogia by George Dyson.</p>
<p>Latest podcast: Someone Comes to Town, Someone Leaves Town (part 30) <a href="https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/">https://craphound.com/articles/2021/01/31/someone-comes-to-town-someone-leaves-town-part-30/</a><br>
Upcoming appearances:</p>
<ul>
<li>Boskone, 58, Feb 12-15, <a href="https://boskone.org/">https://boskone.org/</a>
</li>
<li>
<p>Technology, Self-Determination, and the Future of the Future (Purdue CERIAS), Feb 17, <a href="https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6">https://www.cerias.purdue.edu/news_and_events/events/security_seminar/details/index/2njk1v59j4vdc3supiespncgr6</a></p>
</li>
<li>
<p>Keynote, NISO Plus, Feb 22, <a href="https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/">https://niso.plus/cory-doctorow-to-keynote-at-niso-plus-2021/</a></p>
</li>
<li>
<p>Mellon Sawyer Seminar on Contemporary Political Struggle: Social Movements, Social Surveillance, Social Media (with Zeynep Tufekci), Feb 24, <a href="https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg">https://ucdavis.zoom.us/webinar/register/WN_I99f4x8WRiKCfKUljVcYPg</a></p>
</li>
<li>
<p>World Ethical Data Forum keynote, Mar 17-19, <a href="https://worldethicaldataforum.org/wedf-2020">https://worldethicaldataforum.org/wedf-2020</a></p>
</li>
<li>
<p>Interop: Self-Determination vs Dystopia (FITC), Apr 19-21, <a href="https://fitc.ca/presentation/interop/">https://fitc.ca/presentation/interop/</a></p>
</li>
</ul>
<p>Recent appearances:</p>
<ul>
<li>Chop Shop Economics https://soundcloud.com/chopshopeconomics/unlocked-special-episode-9-cory-doctorow/s-VzUA5S25But
</li>
<li>
<p>Monocle Reads https://monocle.com/radio/shows/meet-the-writers/monocle-reads-87/play/</p>
</li>
<li>
<p>Hedging Bets on the Future (Motherboard Cyber):<br>
<a href="https://play.acast.com/s/cyber/hedgingbetsonthefuturewithauthorcorydoctorow">https://play.acast.com/s/cyber/hedgingbetsonthefuturewithauthorcorydoctorow</a></p>
</li>
</ul>
<p>Latest book:</p>
<ul>
<li>"Attack Surface": The third Little Brother novel, a standalone technothriller for adults. The <em>Washington Post</em> called it "a political cyberthriller, vigorous, bold and savvy about the limits of revolution and resistance." Order signed, personalized copies from Dark Delicacies <a href="https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html">https://www.darkdel.com/store/p1840/Available_Now%3A_Attack_Surface.html</a>
</li>
<li>
<p>"How to Destroy Surveillance Capitalism": an anti-monopoly pamphlet analyzing the true harms of surveillance capitalism and proposing a solution. <a href="https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59">https://onezero.medium.com/how-to-destroy-surveillance-capitalism-8135e6744d59</a> (print edition: <a href="https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907">https://bookshop.org/books/how-to-destroy-surveillance-capitalism/9781736205907</a>)</p>
</li>
<li>
<p>"Little Brother/Homeland": A reissue omnibus edition with a new introduction by Edward Snowden: <a href="https://us.macmillan.com/books/9781250774583">https://us.macmillan.com/books/9781250774583</a>; personalized/signed copies here: <a href="https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html">https://www.darkdel.com/store/p1750/July%3A__Little_Brother_%26_Homeland.html</a></p>
</li>
<li>
<p>"Poesy the Monster Slayer" a picture book about monsters, bedtime, gender, and kicking ass. Order here: <a href="https://us.macmillan.com/books/9781626723627">https://us.macmillan.com/books/9781626723627</a>. Get a personalized, signed copy here: <a href="https://www.darkdel.com/store/p1562/_Poesy_the_Monster_Slayer.html">https://www.darkdel.com/store/p1562/_Poesy_the_Monster_Slayer.html</a>.</p>
</li>
</ul>
<hr>
<p><img src="https://i1.wp.com/craphound.com/images/by.svg.png?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/by.svg.png?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>
<p>This work licensed under a Creative Commons Attribution 4.0 license. That means you can use it any way you like, including commercially, ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible">https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/14/a-fine-is-a-price/#deductible</link>
            <guid isPermaLink="false">hacker-news-small-sites-26145030</guid>
            <pubDate>Mon, 15 Feb 2021 17:45:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebAssembly for Ethereum]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144805">thread link</a>) | @fossislife
<br/>
February 15, 2021 | https://ewasm.readthedocs.io/en/mkdocs/ | <a href="https://web.archive.org/web/*/https://ewasm.readthedocs.io/en/mkdocs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
          
          <div role="main">
            <div>
              
                
<p>Ethereum WebAssembly is a proposed redesign of the Ethereum smart contract execution layer using a deterministic subset of WebAssembly.</p>
<p>The use of WebAssembly as a format for smart contracts gains a variety of benefits, a few of which are listed below:<br>
- Near-native execution speed for smart contracts <br>
- The possibility to develop smart contracts in many traditional programming languages, such as C, C++, and Rust <br>
- Access to a vast developer community and the toolchain surrounding WebAssembly <br></p>
<p>Ethereum WebAssembly is currently under active development. Please feel free to join the discussion!<br>
<a href="https://gitter.im/ewasm/Lobby"><img alt="Gitter chat" src="https://badges.gitter.im/ewasm.png"></a></p>
              
            </div>
          </div>
          
      
        </div>
      </div></div>]]>
            </description>
            <link>https://ewasm.readthedocs.io/en/mkdocs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144805</guid>
            <pubDate>Mon, 15 Feb 2021 17:26:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pen Plotter Heatmaps]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144698">thread link</a>) | @lwander
<br/>
February 15, 2021 | https://www.larswander.com/posts/plotter-heatmaps.html | <a href="https://web.archive.org/web/*/https://www.larswander.com/posts/plotter-heatmaps.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" href="#maincontent">
    <p><a aria-describedby="footnote-label" href="#plotter">Pen plots</a> can fail
for a variety of reasons: a pen can run out of ink, paper can be misaligned,
the <a aria-describedby="footnote-label" href="#pen-lift-servo">servo</a>
lifting the pen can break‚Ä¶ but the most nailbiting is watching the plotter
repeatedly cover the same spot in ink until the page tears!</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/failed-plot.webp" alt="Plot with torn paper">
  <figcaption>Circled in red you can see where the paper tore while plotting
  this pattern. Bits of ink-laden paper trail the pen's path leaving the tear;
  the result is an ugly plot!</figcaption>
</figure>

<p>It‚Äôs not easy to know when a plot will wind up tearing your paper. In fact,
looking at the <a aria-describedby="footnote-label" href="https://www.larswander.com/posts/rendered-preview">rendered preview</a> for the above plot shows a lot of
closely-drawn lines, but only one spot on the page actually winds up tearing:</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/source-plot.webp" alt="Rendered plot showing where paper tore">
  <figcaption>Circled in red is the spot that winds up tearing. But why only
  this spot? There are many places on the page that are completely
  black from the many lines that are rendered, but they don't tear.</figcaption>
</figure>

<p>As you can see, looking at the rendered plot is not enough to know
if it will tear or not. We‚Äôll need some extra tools to point out these
problematic areas.</p>



<p>The first step to solving this problem is simply knowing how many lines are
being drawn over the same point. If we can pinpoint ‚Äúhotspots‚Äù on the plot, we
can guess where a plot will tear.</p>

<p>Since the tip of the pen has a non-zero width, it‚Äôs not as simple as
calculating where the most line segments intersect ‚Äì we also need to account
for line segments that are close to one another as ink can bleed between
strokes.</p>

<p>An imperfect, but totally workable solution is to divide our plot into <a aria-describedby="footnote-label" href="#square-size">1x1mm squares</a>, and
then record the squares each line segment covers.
See an example for a single line segment:</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/bresenham.svg" alt="Bresenham line drawing algorithm visualized">
  <figcaption>Depicted: <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Bresenham's
    line drawing algorithm</a>. Image credit:
    <a href="https://commons.wikimedia.org/wiki/User:Crotalus_horridus">Crotalus
    Horridus</a>.
  </figcaption>
</figure>

<p>This approach of finding the ‚Äúsquares‚Äù (i.e. pixels) that a line crosses
over is similar to what your computer does to render lines onto your computer 
screen.  There‚Äôs <a href="https://en.wikipedia.org/wiki/Line_drawing_algorithm">quite a few
approaches</a>, each
with tradeoffs in accuracy, speed, and simplicity. I found <a href="https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm">Bresenham‚Äôs
algorithm</a> works
just fine for my purposes.</p>



<p>Once we know how often each individual 1x1mm square is drawn over, we can turn
that information into a <a href="https://en.wikipedia.org/wiki/Heat_map">heatmap</a>.
Rendering the same plot from above using this approach shows us exactly where
the plot tore!</p>

<figure>
  <img src="https://www.larswander.com/assets/images/heatmaps/source-heatmap.webp" alt="Heatmap showing point where paper will tear">
  <figcaption>The color scale goes from blue (no lines) to red (most lines).
  In this case, red corresponds to 74 lines in a single 1x1mm square (see legend
  in the bottom left). Notice it lines up exactly with where the plot tore!
  </figcaption>
</figure>



<p>Having these heatmaps has been enough to avoid surprise page tears, but there
are a few ways to take this further that I haven‚Äôt explored yet:</p>

<h2 id="automatically-preventing-page-tears">Automatically preventing page tears</h2>

<p>We could use this heatmap approach to automatically remove line
segments in very crowded parts of the plot. I don‚Äôt know how easy this will be
to do without introducing unintended artifacts, though.</p>

<h2 id="experimenting-with-papers-pens-inks-etc">Experimenting with papers, pens, inks, etc‚Ä¶</h2>

<p>It could be interesting to run some experiments to find out exactly when certain
kinds of paper will tear. I have a hunch that the ink ‚Äúwetness‚Äù on the page
plays a role, meaning factors like ambient humidity, and the time elapsed
between pen strokes over a crowded area wind up factoring into this. These are
quite a few variables to control, and will likely make getting accurate
measurements tricky.</p>

<h2 id="more-accurate-line-drawing">More ‚Äúaccurate‚Äù line drawing</h2>

<p>Bresenham‚Äôs algorithm does not perform any
<a href="https://en.wikipedia.org/wiki/Spatial_anti-aliasing">anti-aliasing</a>, and as a
result we might be misattributing how much a given square is covered by a given
line. However, I haven‚Äôt needed this added accuracy so far.</p>



<p>In practice, I‚Äôve found that any more than 20 lines in a given 1x1mm square
will start to damage most Bristol paper, and over 40 lines is asking for a tear.
These numbers will probably vary from setup-to-setup, so I‚Äôll share what I‚Äôve
been drawing with:</p>

<ul>
  <li>TWSBI Eco Fountain Pens with an EF nib</li>
  <li>Strathmore 300 Series Bristol Vellum Paper</li>
  <li>Pilot Fountain Pen Ink</li>
</ul>

<p>Happy plotting!</p>



  </div></div>]]>
            </description>
            <link>https://www.larswander.com/posts/plotter-heatmaps.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144698</guid>
            <pubDate>Mon, 15 Feb 2021 17:15:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Ramanujan Machine is an intellectual fraud (2019)]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 16 (<a href="https://news.ycombinator.com/item?id=26144665">thread link</a>) | @spekcular
<br/>
February 15, 2021 | https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/ | <a href="https://web.archive.org/web/*/https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-4282">
					

					<!-- .entry-meta -->

					<div>
						<p><b>Edit (17/02/21)</b> I changed the title of this post which was unnecessarily incendiary.</p>
<p>There‚Äôs a lot that I like about how mathematics operates as a social discipline. We have a great respect for the history of the subject, which in particular includes acknowledging the work that has come before us. In the end, we ultimately agree that it is the mathematics which does the talking. Each of us has our own tastes (of course) and some of us are more prone to be excited about our own work than others, but we are remarkably free from bullshit (about the actual mathematics, at least). This is what all of science should aspire to.</p>
<p>Perhaps this is why I find the self-promotion surrounding the <a href="https://galoisrepresentations.wordpress.com/2019/07/07/en-passant-v/">Ramanujan Machine</a> so distasteful. (I wasn‚Äôt going to bother wasting any more time on this but here I am, last time I promise.) The idea of trying to automate methods for finding identities is an interesting one. But if want to claim that you have found something <i>new</i>, then some justification is required. For a start, you should at least be expected to do a cursory search of the literature. Perhaps you should even consult an expert? If the authors had been content to be more modest with their claims, merely explaining that automation was their main goal, and that they were merely <i>hopeful</i> to use these ideas to make new discoveries, I would have had no issue at all with their paper. Of course, nobody would have heard about the paper either. I already complained <a href="https://galoisrepresentations.wordpress.com/2019/07/07/en-passant-v/">last time</a> about the overblown rhetoric, but since then, my interactions with one of the authors indicated that the rot lies deeper still.</p>
<p>The author in question seemed happy (while listening to my previous complaints) to indicate that the novelty is not in producing new mathematics but in automatically generating formulas ‚Äúwithout knowing Gauss‚Äô work‚Äù. As I indicated above, that‚Äôs a reasonable and modest claim. But then, the same author will tweet out to the world the false claim that his program has discovered new and amazing mathematical conjectures. (A rather curious set of tweets to <a href="https://twitter.com/elonmusk">@elonmusk</a> <a href="https://twitter.com/yurimilner?lang=en">@yurimilner</a> <a href="https://twitter.com/stephen_wolfram">@stephen_wolfram</a> <a href="https://twitter.com/RHDijkgraaf">@RHDijkgraaf</a>; is the common thread people who have access to money that can be spent on math?)  Don‚Äôt imagine for a minute that this is not a deliberate and conscious decision: the <a href="https://phys.org/news/2019-07-ramanujan-machine-automatically-conjectures-fundamental.html">press</a> <a href="https://www.newscientist.com/article/2209213-computer-attempts-to-replicate-the-dream-like-maths-of-ramanujan/">stories</a> generated about ‚Äúautomating the insight of Ramanujan‚Äù don‚Äôt happen on their own ‚Äî they need the hook of ‚Äúexciting conjectures‚Äù to be ‚Äúnewsworthy‚Äù and this is exactly what has been peddled via a concerted publicity campaign. The best way to describe this entire story is as follows: this is what happens when you import <b>startup culture</b> into mathematics. Maybe such Janus-faced interactions are commonplace in Silicon Valley where qualifiers are merely a distraction from a good sales pitch. But it‚Äôs an utterly abhorrent mindset that I think mathematicians must strive to banish at all costs. In particular, the choice to deliberately obscure the fact that the program has generated (as yet) <i>nothing considered remotely new by an expert</i> while simultaneously boasting of a triumph in automating intuition is  absurd; Ramanujan would roll over in his grave.</p>
<p><b>Caveats:</b> The paper has a number of young authors who I consider completely blameless. The possibility of redemption still awaits in the next version of the paper. </p>
<p><b>Random Continued Fraction: </b>I give you one of the author‚Äôs lastest tweets, in which one of their amazing conjectures has been generalized! (By a 15 year old apparently, well done to him, I hope he doesn‚Äôt waste any more time on this). I‚Äôll spare you the <a href="https://twitter.com/yaronhadad/status/1150767039621062656?s=20">amazing gif</a> animation that builds up to this final climax:</p>
<p><a href="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png"><img loading="lazy" src="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png?w=300" alt="" width="495" height="371" srcset="https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm.png 1086w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-300x225.png 300w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-768x577.png 768w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/screen-shot-2019-07-16-at-2.41.59-pm-1024x769.png 1024w" sizes="(max-width: 495px) 100vw, 495px"></a></p>
<p>Well ‚Ä¶ OK I guess? But, pretty much exactly as pointed out last time, not only is the proof only one line, but the nature of the proof makes clear exactly how unoriginal this is to mathematics:</p>
<p><a href="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/latestproof.png"><img loading="lazy" src="https://box2106.temp.domains/~galoisre///wp-content/uploads/2019/07/latestproof.png?w=300" alt="" width="615" height="201" srcset="https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof.png 1484w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-300x98.png 300w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-768x250.png 768w, https://www.galoisrepresentations.com/wp-content/uploads/2019/07/latestproof-1024x334.png 1024w" sizes="(max-width: 615px) 100vw, 615px"></a></p>
<p>(There is actually something vaguely interesting about how certain specializations of complicated identities are harder to prove than the original identities, but that is only tangentially relevant to this post.)</p>
											</div><!-- .entry-content -->

		
						<div><p>
							This entry was posted in <a href="https://www.galoisrepresentations.com/category/mathematics/" rel="category tag">Mathematics</a>, <a href="https://www.galoisrepresentations.com/category/rant/" rel="category tag">Rant</a> and tagged <a href="https://www.galoisrepresentations.com/tag/continued-fractions/" rel="tag">Continued Fractions</a>, <a href="https://www.galoisrepresentations.com/tag/de-fractionibus-continuis-observationes/" rel="tag">De fractionibus continuis observationes</a>, <a href="https://www.galoisrepresentations.com/tag/elon-musk/" rel="tag">Elon Musk</a>, <a href="https://www.galoisrepresentations.com/tag/euler/" rel="tag">Euler</a>, <a href="https://www.galoisrepresentations.com/tag/gauss/" rel="tag">Gauss</a>, <a href="https://www.galoisrepresentations.com/tag/intellectual-fraud/" rel="tag">Intellectual Fraud</a>, <a href="https://www.galoisrepresentations.com/tag/ramanujan/" rel="tag">Ramanujan</a>, <a href="https://www.galoisrepresentations.com/tag/robert-dijkgraaf/" rel="tag">Robert Dijkgraaf</a>, <a href="https://www.galoisrepresentations.com/tag/startup-culture/" rel="tag">startup culture</a>, <a href="https://www.galoisrepresentations.com/tag/stephen-wolfram/" rel="tag">Stephen Wolfram</a>, <a href="https://www.galoisrepresentations.com/tag/twitter/" rel="tag">twitter</a>, <a href="https://www.galoisrepresentations.com/tag/yuri-milner/" rel="tag">Yuri Milner</a>. Bookmark the <a href="https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/" title="Permalink to The Ramanujan Machine is all hype" rel="bookmark">permalink</a>.													</p></div><!-- .entry-utility -->
					</div></div>]]>
            </description>
            <link>https://www.galoisrepresentations.com/2019/07/17/the-ramanujan-machine-is-an-intellectual-fraud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144665</guid>
            <pubDate>Mon, 15 Feb 2021 17:12:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Dateadder ‚Äì calculate tomorrow in a week on any platform that runs Go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26144657">thread link</a>) | @rhabarba
<br/>
February 15, 2021 | https://code.rosaelefanten.org/dateadder | <a href="https://web.archive.org/web/*/https://code.rosaelefanten.org/dateadder">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>

<p><strong>Examples:</strong></p>

<pre><code>% dateadder "tomorrow in a week"
% dateadder "plus five days‚Äú
% dateadder ‚Äú2021/01/01 + 4 years‚Äú
</code></pre>

<p>In theory, they should all display the correct result.</p>

</div>



</div><p>
This page was generated in about
0.004s by
Fossil 2.14 [487776dc45] 2021-01-20 15:34:40
</p></div>]]>
            </description>
            <link>https://code.rosaelefanten.org/dateadder</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144657</guid>
            <pubDate>Mon, 15 Feb 2021 17:11:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tianwen-1 plane change manoeuvre]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144646">thread link</a>) | @parsecs
<br/>
February 15, 2021 | https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9737">

	

	<div>
		
<p>Today at 9:00 UTC Tianwen-1 made its plane change manoeuvre, as <a href="http://www.xinhuanet.com/english/2021-02/15/c_139744513.htm">reported by Xinhua</a>. Yesterday I showed my <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/" data-type="post" data-id="9660">planning for this manoeuvre</a>. Shortly after the spacecraft returned to the high gain antenna after the manoeuvre, the <a href="https://amsat-dl.org/en/20-meter-antenna/">Bochum 20m antenna</a> operated by <a href="https://amsat-dl.org/">AMSAT-DL</a> received state vectors with the new trajectory. These state vectors allow us to calculate the timestamp of the burn and the delta-V vector, as I have done in other occasions. It is convenient to remark that the state vectors that we are seeing right now are probably a prediction. In the next few days we will see updates in the trajectory as the Chinese DSN measures the effects of the actual burn and updates the onboard ephemerides.</p>



<p>The figure below shows the distances between the pre-burn and post-burn trajectories. Finding the minimum of this curve is the method that I use to find the time of the burn. The minimum is attained at 09:01:05 UTC. Since the burn duration was slightly longer than 2 minutes, the report of the burn start at 09:00 UTC seems quite right.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/burn_time.png"><img width="644" height="339" src="https://destevez.net/wp-content/uploads/2021/02/burn_time-644x339.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/burn_time-644x339.png 644w, https://destevez.net/wp-content/uploads/2021/02/burn_time-300x158.png 300w, https://destevez.net/wp-content/uploads/2021/02/burn_time.png 736w" sizes="(max-width: 644px) 100vw, 644px"></a></figure>



<p>The delta-V vector was, in Mars body inertial coordinates and m/s,</p>



<pre>[86.471, 28.957, 89.190]</pre>



<p>The magnitude of this vector is 127.556 m/s.</p>



<p>As I remarked in the update at the end of my <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/" data-type="post" data-id="9660">previous post</a>, it turns out that we had underestimated the initial fuel of Tianwen-1 by some 900 kg. In that post the plane change took 146 kg of fuel, leaving 45 kg of remaining fuel. Therefore, I have now estimated that the amount of fuel before the plane change was 1100 kg, and that the spacecraft‚Äôs dry mass is 2500 kg. This gives a burn time of 150 seconds with the 3 kN thrusters, and a fuel consumption of 142.7 kg.</p>






<p>To understand the burn better, and compare with my planning calculations, it is useful to consider a reference frame formed by the following vectors: the unit radial vector \(\widehat{r}\), the unit vector \(\widehat{v}_u\) that points along the vector \(v_u\) that is the projection of the velocity \(v\) onto the plane orthogonal to \(r\), and the orbit normal \(n = \widehat{r} \times \widehat{v}_u\).</p>



<p>The velocity before the burn in this frame was</p>



<pre>[23.303, 95.900, 0].</pre>



<p>Note that the first component is the radial velocity \(\|v_r\|\). The delta-V written in this frame was</p>



<pre>[-20.501, -83.515, 94.210].</pre>



<p>This shows that the burn didn‚Äôt happen in the plane orthogonal to \(r\), and in fact most of the radial velocity was cancelled out, thus lowering and advancing in time the apoapsis of the orbit. With the pre-burn orbit, the apoapsis radius was 185153 km, and its time would have been 14:24:17 UTC. With the post-burn orbit, the apoapsis radius is 184930 km, and apoapsis passage was at 09:39:51 UTC, shortly after the burn.</p>



<p>The components of the delta-V in the \(\widehat{v}_u\) and \(n\) coordinates are quite similar to the VNB coordinates that I computed in my planning.</p>



<p>The angular momentum of the pre-burn orbit was 17735 km¬≤/s, and the angular momentum of the post-burn orbit is 17572 km¬≤/s, so it has been reduced by 1% in order to lower the periapsis altitude to 280 km. The angle between the angular momentum vectors, which I denoted by \(\alpha\) in my previous post, is 82.5 degrees, and the inclination of the new orbit is 87.3 degrees. This is very close to the 86.9 degrees given in the mission plan shown in Wikipedia.</p>



<p>The calculations for this post have been done in<a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/Tianwen/Tianwen-1%20plane%20change.ipynb"> this Jupyter notebook</a> and <a href="https://github.com/daniestevez/jupyter_notebooks/blob/master/Tianwen/orbit/plane_change_vectors.script">this GMAT script</a>.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

				
</article></div>]]>
            </description>
            <link>https://destevez.net/2021/02/tianwen-1-plane-change-manoeuvre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144646</guid>
            <pubDate>Mon, 15 Feb 2021 17:11:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You may be 2-3T dollar company but people value privacy more than money]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144269">thread link</a>) | @rustoo
<br/>
February 15, 2021 | https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html | <a href="https://web.archive.org/web/*/https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
        
				<!-- -->
		
		<section>
			<div>
				<div>
					<div>
						<div>
							<div>
								<div>
<div>

<div>
	<div>
		
		
		
		
		<p><span>
				
				
					
					 PTI
				
			</span>
			<span>February 15, 2021 19:10 IST</span>
		</p>
	</div>
</div></div>

<div><div>
		<div>


<div data-pagination-init="article">

    <p> &nbsp;&nbsp;&nbsp;&nbsp; New Delhi, Feb 15 (PTI) "You may be two-three trillion dollar company but people value their privacy more than the money," the Supreme Court told WhatsApp on Monday as it sought the US-based instant messaging firm's reply on a fresh plea challenging its new policy to share users' data with parent company Facebook and others.<br>&nbsp;&nbsp;&nbsp;&nbsp; It is the duty of the judiciary to protect citizens' privacy, the top court said, asking WhatsApp as also the Centre to file replies on affidavit within four weeks on the plea which alleged that lower standards of privacy are being applied by the firm for Indians in comparison to its European users of the app.<br>&nbsp;&nbsp;&nbsp;&nbsp; WhatsApp told the top court however that Europe has a special law (General Data Protection Regulation) and if such a law is passed by the Parliament then it will follow it.<br>&nbsp;&nbsp;&nbsp;&nbsp; A bench of Chief Justice SA Bobde and Justices AS Bopanna and V Ramasubramanian said, ‚ÄúPeople have grave apprehensions that they will lose their privacy and it is our duty to protect them‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; "You may be two or three trillion dollar company but people value their privacy more than the money. People gave grave concern about their privacy,‚Äù the bench said, adding that ‚Äúthere is apprehension that WhatsApp will share the information and data about their circuit of message with others‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; Solicitor General Tushar Mehta, appearing for the Centre said that it is the concern of the nation and they cannot be allowed to share users‚Äô information with anyone.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThey have to follow the law of the land. They cannot be allowed to share data of users with anyone,‚Äù Mehta.<br>&nbsp;&nbsp;&nbsp;&nbsp; Senior advocate Kapil Sibal, appearing for WhatsApp, said there is no discrimination in the new privacy policy.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThe privacy policy which will be applied in India is same for the whole world except for Europe. In Europe they have a special law. If Parliament passes such law, then it will also follow it,‚Äù Sibal said.<br>&nbsp;&nbsp;&nbsp;&nbsp; The apex court issued notice to the central government and the Facebook-owned app on an interim application filed by Karmanya Singh Sareen in a pending petition of 2017, which has been referred to the Constitution bench. <br>&nbsp;&nbsp;&nbsp;&nbsp; At the outset, senior advocate Shyam Divan, appearing for Sareen and others, argued that the plea has also challenged the new privacy policy of WhatsApp which will come in effect from May 15, 2021.<br>&nbsp;&nbsp;&nbsp;&nbsp; Divan alleged that the app is applying lower standards of privacy for Indians in comparison to European users and they be barred from sharing data with Facebook and others.<br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúThere is a huge difference between privacy policy which is being applied to Indians and to what is applied in Europe. Unlike in India, in Europe they have to take prior consent of users before sharing any data of users. They be directed to apply same standards of privacy to Indians as applied to users in Europe,‚Äù Divan said. <br>&nbsp;&nbsp;&nbsp;&nbsp; He said that till the Centre comes up with new data policy, WhatsApp be restrained from implementing its new policy and direction be issued to the government to ensure that the app comply with all the orders of the court. <br>&nbsp;&nbsp;&nbsp;&nbsp; ‚ÄúWe are impressed by Mr Divan's argument that it was proposed before us (by the Centre) that a data protection law would be brought into force," the bench told Sibal, adding, "Now under this new policy you (WhatsApp) will share data of Indians‚Äù.<br>&nbsp;&nbsp;&nbsp;&nbsp; Senior advocate Arvind Dattar, also appearing for the US firm, and Sibal said that they can swear on affidavit that WhatsApp does not store or share any personal data of users and all these allegations are ‚Äúmisinformation‚Äù. <br>&nbsp;&nbsp;&nbsp;&nbsp; Dattar said the messaging app is complying with the Centre‚Äôs guidelines and this petition under Article 32 of the Constitution is not maintainable. <br>&nbsp;&nbsp;&nbsp;&nbsp; The bench said, ‚ÄúPut on oath all this. We are giving you four weeks to file the affidavit‚Äù. <br>&nbsp;&nbsp;&nbsp;&nbsp; It told Dattar that citizens have great apprehension about loss of their privacy and they think that their data and chats are being shared with others and it has to be looked into. <br>&nbsp;&nbsp;&nbsp;&nbsp; Sibal said that a similar petition challenging the privacy policy of WhatsApp is pending in the Delhi High Court. <br>&nbsp;&nbsp;&nbsp;&nbsp; The bench clarified that it will have to look into the maintainability aspect of that petition and see if the case can be transferred to the top court as the original petition in this case has been pending before the constitution bench. &nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp; The petitioner challenged the new privacy policy alleging that there is huge metadata of users which is being shared for profit. <br>&nbsp;&nbsp;&nbsp;&nbsp; As per the new privacy policy which was earlier scheduled to come in effect from February 8 but later deadline was extended to May 15, WhatsApp will share user information internally within the Facebook Companies and externally with partners and service providers.<br>&nbsp;&nbsp;&nbsp;&nbsp; The top court had in 2017 referred the WhatsApp's privacy policy issue which came into effect after its merger of with the Facebook to a Constitution bench saying it concerns the larger issue of privacy and right to personal liberty. <br>&nbsp;&nbsp;&nbsp;&nbsp; The appeal filed in the apex court by Sareen and Shreya Sethi had assailed the Delhi High Court verdict on the ground that no relief was granted on sharing of users data post-September, 2016 by the WhatsApp, and it amounted to an infringement of fundamental rights under Article 19 (Freedom of Speech and Expression) and 21 (Right to Life) of the Constitution. PTI&nbsp;MNL PKS SJK  SA</p>
</div>
</div>
</div>
</div>
<div><div>
		<div>


<div data-pagination-init="article">

    <p><i>(This story has not been edited by THE WEEK and is auto-generated from PTI)</i></p>
</div>
</div>
</div>
</div>

</div>
							</div>
							
						</div>	
					</div>
				</div>
			</div>
		</section>
	</div></div>]]>
            </description>
            <link>https://www.theweek.in/wire-updates/national/2021/02/15/lgd16-sc-2ndld-whatsapp.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144269</guid>
            <pubDate>Mon, 15 Feb 2021 16:36:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Is Self-Regulated Learning?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144266">thread link</a>) | @durmonski
<br/>
February 15, 2021 | https://durmonski.com/self-improvement/what-is-self-regulated-learning/ | <a href="https://web.archive.org/web/*/https://durmonski.com/self-improvement/what-is-self-regulated-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
																					<div>
																										<p><span>Last updated:</span><time datetime="2021-02-15T16:35:29+00:00">15/02/2021</time></p>
<p><em>After I finished school in 2007 and later graduated from high school in 2012, I thought it was all over. I kind of swore that I‚Äôd never touch a textbook again. ‚ÄúWelcome world,‚Äù I said, ‚ÄúI‚Äôm ready and now I know everything!‚Äù Boy was I wrong. I learned the hard way that our complex and rapidly changing world increasingly demands adopting new skills. And what I‚Äôve accumulated as knowledge during my time behind the desk was not even close to what was happening in the real world.</em> <em>Learning, not simply during the years associated with formal schooling, but across the lifespan seemed a must.</em></p>



<p>Mark Twain famously said, ‚ÄúI have never let my schooling interfere with my education.‚Äù More than 100 years later, that‚Äôs still the case ‚Äì or at least it should be. We should not, let the material we study now, or years ago when we were in school, satisfy our appetite and our thirst for knowledge.</p>



<p>In our current setting, it‚Äôs extremely important to educate yourself and regularly expose yourself to various topics that are not covered by your school, and/or job, curricula. Simply digesting what your teacher shares or what your company is doing is not enough to stay afloat. You need a different point of view. Make unusual connections. Look for inspiration in topics that others might call crazy or insane.</p>



<p>If you‚Äôre a student reading this, you probably haven‚Äôt yet discovered that the information shared by your teacher is not enough to help you get a <a href="https://durmonski.com/book-summaries/bullshit-jobs/" target="_blank" aria-label="nice job (opens in a new tab)" rel="noreferrer noopener">nice job</a> or <a href="https://durmonski.com/business/fewer-moving-parts/" target="_blank" aria-label="start a business (opens in a new tab)" rel="noreferrer noopener">start a business</a>. If you have already dealt with the school bureaucracy, fought your way through countless exams and unusually not useful school practices, and you‚Äôre now a proud owner of a Job, congrats! You know how little our school system has given to us. You know, I hope, how little you know and how much is yet to be explored. Especially today, when things constantly change and where, as many modern authors state, ‚Äúchange is the only constant.‚Äù</p>



<p>Our complex and rapidly changing world creates a need, demands a need, for self-initiated and self-managed learning.</p>



<p>If you still don‚Äôt know how little you know, and how much you need to acquire to get a new job, keep your current one, or completely change directions, in this article, I‚Äôm going to share why it‚Äôs so damn important to become master of your own learning process. To become a sophisticated learner. To learn how to learn and to keep doing it till your very last day.</p>







<h2>What Does Self-Regulated Learning Mean?</h2>



<p>Self-regulation in the learning process is commonly related to formal education. We think that becoming better at learning is not for us if we‚Äôre not in school. ‚ÄúI graduated with honors. I don‚Äôt need to get better at learning,‚Äù you might think.</p>



<p>That may be true. I mean, yes, being your teacher‚Äôs favorite student is probably a thought that makes you feel all fuzzy and good. But the information you accumulated in school as I just elegantly pointed out, is not enough ‚Äì it never was ‚Äì to transform you into a blossoming individual.</p>



<p>A self-regulated learner is a person who is aware of what he‚Äôs consuming and actively working towards self-imposed goals to acquire more relevant information. In this case, relevant means things that are closely related to the interests and skills of that person. Or the interests and skills the person wants to acquire. In other words, self-improving, as banal it might sound.</p>



<p>To avoid interpreting what has just been mentioned as something dry and unimaginable, let us give an example:</p>



<p>So, for example, let‚Äôs say that you‚Äôre a professional photographer. You‚Äôre making a living taking pictures. You are good. You have regular clients. Your <a href="https://durmonski.com/private/using-social-media/" target="_blank" aria-label="Instagram (opens in a new tab)" rel="noreferrer noopener">Instagram</a> profile is widely known in your country. Yet, for how long you think this will last?</p>



<p>As stated, things are changing. And they are changing fast. Reportedly, video is becoming more and more popular. In this situation, if you want to get to the next level, you probably need to school yourself on shooting and later editing video. Then, probably, you need to figure out how to properly attune your clip to fit across the newly created social media channels. And then, you need to learn all the growth-hack techniques other online entrepreneurs so enthusiastically share on their profiles. </p>



<p>To put it differently, there is always something new to learn. But this is not always obvious. In most situations, we reach a certain level of expertise and we settle. We get comfortable. And the moment we get too cozy with what we know is the moment others get ahead.</p>



<p>Self-regulation means actively monitoring your learning process. Being mindful about how and from where to obtain, and master, new information. Settings goals and motivating yourself to expand your expertise.</p>



<p>Plainly, continuously asking yourself the following: ‚ÄúIs the thing I‚Äôm reading, watching right now, helping me get better at X?‚Äù</p>







<h2>Why is Self-Regulated Learning Important?</h2>



<p>To make things even more difficult, if we have to go back to the example of the photographer, the simple realization that one needs to learn new things is not enough to make him better. The person also needs to have a good learning process.</p>



<p>Something we‚Äôre not thought in school, sadly.</p>



<p>The school, the system that runs the school, doesn‚Äôt do much to teach us how to actually improve our learning skills. It‚Äôs presumed that we know how to learn and study. The material is handed to us and we are expected to know what to do with it.</p>



<p>Or as stated in a scientific paper about self-regulated learning, ‚ÄúThere is an overwhelming assumption in our educational system that the most important thing to deliver to students is content.‚Äù<span id="easy-footnote-1-13224"></span><span><a href="#easy-footnote-bottom-1-13224" title="Self-Regulated Learning: Beliefs, Techniques, and Illusions &amp;#8211; <a href=&quot;https://www.annualreviews.org/doi/abs/10.1146/annurev-psych-113011-143823&quot; target=&quot;_blank&quot; aria-label=&quot; (opens in a new tab)&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>Annual Reviews</a>."><sup>1</sup></a></span></p>



<p>Besides sharing what is supposedly thought from teachers as great content, there is also a need to organize and remember that content. And today, in the 21st century, there is also the need to find great content. Since there is so much stuff out there, you need to know how to adequately sort the good from the clickbait-y.</p>



<p>Regrettably, schools are not actively teaching us about these things. We‚Äôre given a lecture. A paper with resources. Commonly also some sort of assignment. And that‚Äôs it. We need to figure how to best connect the pieces. But that‚Äôs not the worst of it. We‚Äôre also not though that these things also need to happen outside school premises ‚Äì when we now have jobs and families. That after there is no longer a teacher who is monitoring your assignments and actually imposing them on you, that you should take his role and set assignments for yourself.</p>



<p>When we don‚Äôt know any of these things, they end in the graph unknown unknowns.<span id="easy-footnote-2-13224"></span><span><a href="#easy-footnote-bottom-2-13224" title="There are known knowns &amp;#8211; <a href=&quot;https://en.wikipedia.org/wiki/There_are_known_knowns&quot; target=&quot;_blank&quot; aria-label=&quot; (opens in a new tab)&quot; rel=&quot;noreferrer noopener&quot; class=&quot;ek-link&quot;>WIKI</a>."><sup>2</sup></a></span> Or in other words, things we don‚Äôt know exist. Hence, we don‚Äôt do them. And since we don‚Äôt do them, we never get better at what we do.</p>



<p>Self-regulating your learning process involves creating your own curriculum ‚Äì being both the teacher and the student. This involves seriously considering what you want to learn and how you need to approach this subject.</p>







<h2>What Are The Self-Regulated Learning Fundamentals?</h2>



<p>Intuitively, high-achievers know how to approach learning. Or they simply found the best way for them after years of trial and error. Others, in contrast, simply go with the flow and do the most obvious exercise when trying to learn something new: they consume the information in front of them, never actually looking for resources on their own, and hope that some of the facts will stick.</p>



<p>These are not the best strategies, though.</p>



<p>The point of becoming sophisticated as a learner requires knowing how to manage your own learning activities.</p>



<p>It requires planning and the process is guided by metacognition (thinking about thinking). Or in our case, thinking about how to learn better.</p>



<figure><img width="1024" height="512" src="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg" alt="thinking about how to learn better" srcset="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-150x75.jpg 150w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201024%20512'%3E%3C/svg%3E" data-lazy-srcset="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg 1024w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-300x150.jpg 300w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-770x385.jpg 770w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1536x768.jpg 1536w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-566x283.jpg 566w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1151x575.jpg 1151w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1481x740.jpg 1481w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-274x137.jpg 274w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-751x376.jpg 751w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1381x691.jpg 1381w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-150x75.jpg 150w, https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better.jpg 2000w" data-lazy-src="https://durmonski.com/wp-content/uploads/2021/02/thinking-about-how-to-learn-better-1024x512.jpg"><figcaption>Learning new things is very useful, of course, but the danger is that the act of soaking up new facts without first setting up a process can become a time-wasting activity.</figcaption></figure>







<p>This is a deliberate thought process that one must consider before actually approaching anything new. In simple words, this means that you don‚Äôt just open Google and start endlessly browsing articles. You first ask yourself: ‚ÄúWhat do I want to learn?; Why do I want to learn this?‚Äù You set expectations and goals. You consider your weaknesses in the learning process and find resources that are most likely to appeal to your persona.</p>



<p>Instead of relying on the algorithms to show you great content, you approach things strategically ‚Äì you search for great content based on your goal.</p>



<p>Here are the fundamentals to create your own learning process:</p>



<ul><li><strong>Establish a plan and find resources</strong>: The first requirement, sort to say, is asking yourself what do you want to learn and why. Then, figure out what sources you‚Äôll use, and how you‚Äôll find them, to learn the desired thing. And finally, set a learning schedule and form a plan that will help you along the way.</li><li><strong>Monitoring and maintenance of knowledge</strong>: This is often overlooked. You can‚Äôt expect to remember everything from your first attempt. You should monitor yourself and find gaps in your skills ‚Äì your processes. Then, find new ways to approach things that are hard for you to understand. Additionally, since often learning something new requires retention of certain facts, writing down the most important things is also a must.</li><li><strong>Self-reflection and adapting</strong>: Getting a good grade in school feels awesome. Launching a product and making sales is amazing. But these things are just outcomes. Often, the results we get are a lot of times based on luck, not always dependent on what we did. That‚Äôs why it‚Äôs far more important to reflect on what you think you did that get you these results and why.</li></ul>



<p>Now, once we have the fundamentals, let‚Äôs expand this further‚Ä¶</p>







<h2>How to Best Approach Something New?</h2>



<p>To put all of the above into practice, let‚Äôs consider another following example:</p>



<p>You just graduated from school. And while you are relieved, ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://durmonski.com/self-improvement/what-is-self-regulated-learning/">https://durmonski.com/self-improvement/what-is-self-regulated-learning/</a></em></p>]]>
            </description>
            <link>https://durmonski.com/self-improvement/what-is-self-regulated-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144266</guid>
            <pubDate>Mon, 15 Feb 2021 16:35:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Restrict Outbound Traffic on a Docker Infrastructure]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144091">thread link</a>) | @fruty
<br/>
February 15, 2021 | https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/ | <a href="https://web.archive.org/web/*/https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>I‚Äôve been in charge for years of various startups critical infrastructures. Usually, I set up pretty simple stuff: a vanilla ubuntu server with ufw (firewall) and docker + docker-compose. I close all ports to incoming connections except 22, 80 and 443. Then I put a docker-compose.yml with the various containers needed for the business applications. It‚Äôs been working great so far.</p>



<p>Recently, I was confronted with a particular challenge: I had to connect to an external API using a 3rd-party wrapper (not written by the API provider nor written by us), that would thus have access to our credentials for this API. If someone ever injected malicious code in that wrapper, how could I prevent it from sniffing our credentials and sending them away? I had always blocked all incoming connections on my servers (except for a few ports) and I thought that it was time to put restrictions on outbound traffic too. The idea is to add an additional layer of security and prevent malicious software from sending stuff away, should it manage to breach other layers of defences and manage to get running somehow on my server.</p>



<p>The first step was obviously to use ufw and do a ‚Äú<em>sudo ufw default deny outgoing</em>‚Äú. Unfortunately, it was not enough:</p>



<ul><li>docker, in order to achieve all its networking black magic, uses iptables and <strong>overrides your firewall</strong></li><li>restricting all outbound traffic is easy but letting through legit outbound connections (for instance, connections to this external API we need) is not easy since most firewalls work with IP addresses but not DNS domain names. This means that to whitelist outbound connections based on domain, you would need to keep up-to-date a list of IP adresses that match with your allowed domains, and refresh your firewall configuration periodically</li></ul>



<p>How could I enforce domain-based restrictions on outbound traffic coming from Docker containers?</p>



<p>After a lot of searching, I was able to hack together a solution. The core ideas:</p>



<ul><li>block all outbound connections on the server with your firewall (ufw). This will not be enforced inside Docker containers but it‚Äôs still useful on the host.</li><li>in your docker-compose.yml, put the docker containers in an internal restricted network, so that they have no access to the internet</li><li>for each allowed domain you want to be able to connect to from inside a docker container, add a nginx container in your docker-compose.yml that will act as a proxy for this specific domain, put this container inside the internal restricted docker network AND in a docker network with access to the internet + link it to other containers under the domain name in question + configure nginx so that it forward everything to the domain name in question only</li></ul>



<p><strong>Here is the docker-compose.yml:</strong></p>



<figure><div>
<div id="gist107926963">
    <div>
      <div>
        <div>
  <div id="file-docker-compose-yml">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-docker-compose-yml-L1" data-line-number="1"></td>
        <td id="file-docker-compose-yml-LC1"><span>version</span>: <span><span>'</span>3<span>'</span></span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L2" data-line-number="2"></td>
        <td id="file-docker-compose-yml-LC2"><span>services</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L3" data-line-number="3"></td>
        <td id="file-docker-compose-yml-LC3">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L4" data-line-number="4"></td>
        <td id="file-docker-compose-yml-LC4">  <span>nginx-proxy-google</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L5" data-line-number="5"></td>
        <td id="file-docker-compose-yml-LC5">    <span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L6" data-line-number="6"></td>
        <td id="file-docker-compose-yml-LC6">      ‚Äì <span>no-internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L7" data-line-number="7"></td>
        <td id="file-docker-compose-yml-LC7">      ‚Äì <span>internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L8" data-line-number="8"></td>
        <td id="file-docker-compose-yml-LC8">    <span>image</span>: <span>nginx:stable</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L9" data-line-number="9"></td>
        <td id="file-docker-compose-yml-LC9">    <span>volumes</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L10" data-line-number="10"></td>
        <td id="file-docker-compose-yml-LC10">      ‚Äì <span>./nginx_proxy_google.conf:/etc/nginx/nginx.conf</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L11" data-line-number="11"></td>
        <td id="file-docker-compose-yml-LC11">      ‚Äì <span>./ssl-conf:/etc/nginx/ssl-conf</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L12" data-line-number="12"></td>
        <td id="file-docker-compose-yml-LC12">    <span>restart</span>: <span>always</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L13" data-line-number="13"></td>
        <td id="file-docker-compose-yml-LC13">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L14" data-line-number="14"></td>
        <td id="file-docker-compose-yml-LC14">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L15" data-line-number="15"></td>
        <td id="file-docker-compose-yml-LC15"><span><span>#</span>#### Protected section</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L16" data-line-number="16"></td>
        <td id="file-docker-compose-yml-LC16">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L17" data-line-number="17"></td>
        <td id="file-docker-compose-yml-LC17">  <span>protected-container</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L18" data-line-number="18"></td>
        <td id="file-docker-compose-yml-LC18">    <span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L19" data-line-number="19"></td>
        <td id="file-docker-compose-yml-LC19">      ‚Äì <span>no-internet</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L20" data-line-number="20"></td>
        <td id="file-docker-compose-yml-LC20">    <span>links</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L21" data-line-number="21"></td>
        <td id="file-docker-compose-yml-LC21">      ‚Äì <span>nginx-proxy-google:google.com</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L22" data-line-number="22"></td>
        <td id="file-docker-compose-yml-LC22">    <span>image</span>: <span>nginx:stable</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L23" data-line-number="23"></td>
        <td id="file-docker-compose-yml-LC23">
</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L24" data-line-number="24"></td>
        <td id="file-docker-compose-yml-LC24"><span>networks</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L25" data-line-number="25"></td>
        <td id="file-docker-compose-yml-LC25">  <span>internet</span>: <span>{}</span></td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L26" data-line-number="26"></td>
        <td id="file-docker-compose-yml-LC26">  <span>no-internet</span>:</td>
      </tr>
      <tr>
        <td id="file-docker-compose-yml-L27" data-line-number="27"></td>
        <td id="file-docker-compose-yml-LC27">    <span>internal</span>: <span>true</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>

</div></figure>



<p><strong>Here is the nginx proxy configuration:</strong></p>



<figure><div>
<div id="gist107927021">
    <div>
      <div>
        <div>
  <div id="file-nginx_proxy_google-conf">
    

  <div itemprop="text">
      
<table data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-nginx_proxy_google-conf-L1" data-line-number="1"></td>
        <td id="file-nginx_proxy_google-conf-LC1">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L2" data-line-number="2"></td>
        <td id="file-nginx_proxy_google-conf-LC2">user  nginx;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L3" data-line-number="3"></td>
        <td id="file-nginx_proxy_google-conf-LC3">worker_processes  8;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L4" data-line-number="4"></td>
        <td id="file-nginx_proxy_google-conf-LC4">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L5" data-line-number="5"></td>
        <td id="file-nginx_proxy_google-conf-LC5">error_log  syslog:server=unix:/dev/log warn;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L6" data-line-number="6"></td>
        <td id="file-nginx_proxy_google-conf-LC6">pid        /var/run/nginx.pid;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L7" data-line-number="7"></td>
        <td id="file-nginx_proxy_google-conf-LC7">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L8" data-line-number="8"></td>
        <td id="file-nginx_proxy_google-conf-LC8">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L9" data-line-number="9"></td>
        <td id="file-nginx_proxy_google-conf-LC9">events {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L10" data-line-number="10"></td>
        <td id="file-nginx_proxy_google-conf-LC10">    worker_connections  1024;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L11" data-line-number="11"></td>
        <td id="file-nginx_proxy_google-conf-LC11">}</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L12" data-line-number="12"></td>
        <td id="file-nginx_proxy_google-conf-LC12">
</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L13" data-line-number="13"></td>
        <td id="file-nginx_proxy_google-conf-LC13">stream {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L14" data-line-number="14"></td>
        <td id="file-nginx_proxy_google-conf-LC14">  server {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L15" data-line-number="15"></td>
        <td id="file-nginx_proxy_google-conf-LC15">    listen     443;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L16" data-line-number="16"></td>
        <td id="file-nginx_proxy_google-conf-LC16">    proxy_pass google.com:443;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L17" data-line-number="17"></td>
        <td id="file-nginx_proxy_google-conf-LC17">  }</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L18" data-line-number="18"></td>
        <td id="file-nginx_proxy_google-conf-LC18">  server {</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L19" data-line-number="19"></td>
        <td id="file-nginx_proxy_google-conf-LC19">    listen     80;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L20" data-line-number="20"></td>
        <td id="file-nginx_proxy_google-conf-LC20">    proxy_pass google.com:80;</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L21" data-line-number="21"></td>
        <td id="file-nginx_proxy_google-conf-LC21">  }</td>
      </tr>
      <tr>
        <td id="file-nginx_proxy_google-conf-L22" data-line-number="22"></td>
        <td id="file-nginx_proxy_google-conf-LC22">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      
    </div>
</div>

</div></figure>



<p>If you go inside the protected-container, you won‚Äôt have access to the internet. No curl command will work, except for ‚Äúcurl google.com‚Äù. The protected-container is linked to the nginx-proxy-google container, which has access to the internet. Nginx is listening inside this container, and will proxy everything to google.com.</p>



<p>An important point is that if you want to allow multiple domains, you will have to use one nginx proxy container per domain. This is due to the fact that you can‚Äôt really proxy outbound SSL traffic, this would require to have locally a SSL certificate for the external domain which you don‚Äôt own. So we use the nginx ‚Äústream‚Äù block, which performs a pass-through at TCP level, which does not let you inspect traffic and know the destination domain.</p>



<p>With this setup, no outbound connection will be possible on the host, and inside docker containers, only traffic to the allowed domains will be possible.</p>



<p>Here is a working git repository: </p>



<p><a href="https://github.com/francoisruty/fruty_docker-outbound-restriction" target="_blank" rel="noreferrer noopener">https://github.com/francoisruty/fruty_docker-outbound-restriction</a></p>




	</div><div>
			<div>
				<p><img alt="" src="https://2.gravatar.com/avatar/57386e7fc54d8c4cb9fb81897848b0e6?s=80&amp;d=identicon&amp;r=G" height="80" width="80">		</p><!-- .author-avatar -->
		
		<p>
			<h2>Published by <span>Fruty</span></h2>
		</p><!-- .author-heading -->

		<p>
			Thoughts and opinions from a startup CTO passionate about aerospace and computer graphics			<a href="https://fruty.io/author/fruty0/" rel="author">
				View all posts by Fruty			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2021-02-15T16:14:59+00:00">February 15, 2021</time>		</p><!-- .site-posted-on -->
	</div></div>]]>
            </description>
            <link>https://fruty.io/2021/02/15/how-to-restrict-outbound-traffic-on-a-docker-infrastructure/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144091</guid>
            <pubDate>Mon, 15 Feb 2021 16:17:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When can the C++ compiler devirtualize a call?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26144069">thread link</a>) | @ingve
<br/>
February 15, 2021 | https://quuxplusone.github.io/blog/2021/02/15/devirtualization/ | <a href="https://web.archive.org/web/*/https://quuxplusone.github.io/blog/2021/02/15/devirtualization/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Someone recently asked me about devirtualization optimizations: when do they happen?
when can we rely on devirtualization? do different compilers do devirtualization
differently? As usual, this led me down an experimental rabbit-hole. The answer
seems to be: Modern compilers devirtualize calls to <code>final</code> methods pretty reliably.
But there are many interesting corner cases ‚Äî including some I haven‚Äôt thought of,
I‚Äôm sure! ‚Äî and different compilers <em>do</em> catch different subsets of those corner cases.</p>

<p>First, let‚Äôs observe that devirtualization can (probably?) be done <em>more effectively</em> via
<a href="https://quuxplusone.github.io/blog/2019/08/02/the-tough-guide-to-cpp-acronyms/#lto">LTO</a>,
using whole-program analysis. I don‚Äôt know anything about the state of the art in
link-time devirtualization, and it‚Äôs hard to experiment with on Compiler Explorer,
so I‚Äôm not going to talk about LTO at all. We‚Äôre looking purely at what the compiler
itself can do.</p>

<p>There are basically two situations where the compiler knows enough to
devirtualize. They don‚Äôt have much in common:</p>

<h2 id="when-we-know-the-instances-dynamic-type">When we know the instance‚Äôs dynamic type</h2>

<p>The archetypical case here is</p>

<div><div><pre><code>void test() {
    Apple o;
    o.f();
}
</code></pre></div></div>

<p>It doesn‚Äôt matter if <code>Apple::f</code> is virtual; all virtual dispatch ever does is
invoke the method on the actual dynamic type of the object, and here we <em>know</em>
the actual dynamic type is exactly <code>Apple</code>. Static and dynamic dispatch should
give us the same result in this case.</p>

<p>A sufficiently smart compiler will use dataflow analysis to optimize non-trivial
cases such as</p>

<div><div><pre><code>Derived d;
Base *p = &amp;d;
p-&gt;f();
</code></pre></div></div>

<p>It turns out that even this simple dodge is enough to fool MSVC and ICC.
The next test case is</p>

<div><div><pre><code>Derived da, db;
Base *p = cond ? &amp;da : &amp;db;
p-&gt;f();
</code></pre></div></div>

<p>This is too much for Clang, but GCC actually manages to survive it‚Ä¶ until
you move the conversions to <code>Base*</code> inside the conditional! Here is where
even GCC‚Äôs analysis fails (<a href="https://godbolt.org/z/GE7vsE">Godbolt</a>):</p>

<div><div><pre><code>Derived da, db;
Base *p = cond ? (Base*)&amp;da : (Base*)&amp;db;
p-&gt;f();
</code></pre></div></div>

<h2 id="when-we-know-a-proof-of-leafness-for-its-static-type">When we know a ‚Äúproof of leafness‚Äù for its static type</h2>

<p>Okay, let‚Äôs suppose that we‚Äôre receiving a pointer from somewhere else in the
system. We know its static type (e.g. <code>Derived*</code>), but we don‚Äôt know the actual
dynamic type of the object instance to which it points. Still, the compiler can
devirtualize a call to <code>Derived::f</code> if it can somehow prove that no type in the
entire program can ever override <code>Derived::f</code>.</p>

<h3 id="proof-by-final">Proof-by-<code>final</code></h3>

<p>The simplest ‚Äúproof of leafness‚Äù is if you‚Äôve marked <code>Derived</code> as <code>final</code>.</p>

<div><div><pre><code>struct Base {
    virtual int f();
};
struct Derived final : public Base {
    int f() override { return 2; }
};
int test(Derived *p) {
    return p-&gt;f();
}
</code></pre></div></div>

<p>A pointer of type <code>Derived*</code> must point to an object instance that is
‚Äúat least <code>Derived</code>‚Äù ‚Äî i.e., <code>Derived</code> or one of its children.
Since <code>Derived</code> is <code>final</code>, it isn‚Äôt allowed to have children; therefore
the dynamic type of the instance must be exactly <code>Derived</code>, and the compiler
can devirtualize this call.</p>

<p>Or, you can mark the specific method <code>Derived::f</code> as <code>final</code>.</p>

<p>The same analysis should apply no matter whether <code>Derived::f</code> is declared
in <code>Derived</code> itself, or inherited from <code>Base</code>. So for example the compiler
should be equally able to devirtualize</p>

<div><div><pre><code>struct Base {
    virtual int f() { return 1; }
};
struct Derived final : public Base {};
int test(Derived *p) {
    return p-&gt;f();
}
</code></pre></div></div>

<p>GCC, Clang, and MSVC pass this test (<a href="https://godbolt.org/z/MnqoM7">Godbolt</a>, case <code>one</code>); ICC 21.1.9 is fooled.</p>

<p>An utterly bizarre proof-of-leafness is to observe that when class <code>C</code>‚Äôs destructor is
final, <code>C</code> must be childless ‚Äî because if <code>C</code> had a child, the child would
have to have a destructor (since you can‚Äôt make a class without a destructor),
which would then override <code>C</code>‚Äôs destructor, which isn‚Äôt allowed.
Clang actually both warns on final destructors, and optimizes on them.
Every other vendor considers this situation <a href="https://en.wikipedia.org/wiki/The_Colonel_(Monty_Python)">very silly</a>
and doesn‚Äôt dignify it with a codepath as far as I can tell.</p>

<h3 id="proof-by-internal-linkage">Proof-by-internal-linkage</h3>

<p>A class whose name has internal linkage cannot be named outside the current translation unit.
Therefore, it cannot be <em>derived from</em> outside the current translation unit, either!
As long as it has no children in the current TU ‚Äî or at least no children that override its
methods ‚Äî calls to its virtual functions are devirtualizable.</p>

<div><div><pre><code>namespace {
    class BaseImpl : public Base {};
}
int test(Base *p) {
    return static_cast&lt;BaseImpl*&gt;(p)-&gt;f();
}
</code></pre></div></div>

<p>If <code>p</code> really does point to an object instance that is ‚Äúat least <code>BaseImpl</code>,‚Äù
then the compiler can prove that the instance must be exactly <code>BaseImpl</code>.
(And if <code>p</code> doesn‚Äôt point to an instance that is ‚Äúat least <code>BaseImpl</code>,‚Äù
the program has undefined behavior anyway.)</p>

<p>This strikes me as a case that might actually come up pretty commonly in real codebases.
It‚Äôs common to have a base class exposed publicly in the header file, and then one
or more derived implementations scoped tightly to a single .cpp file. If you
go the extra mile and put those derived implementations into anonymous namespaces,
you might be helping out the compiler‚Äôs devirtualization logic. Of course, by definition,
any such benefit will be limited to that single .cpp file!</p>

<p>Another way a type‚Äôs name can get internal linkage is when it‚Äôs a class template instantiation
where one of the template parameters involves a name with internal linkage. If the name <code>T</code>
has internal linkage, then <code>E&lt;T&gt;</code> also has internal linkage, even if <code>E</code> itself has external
linkage ‚Äî because you can‚Äôt name <code>E&lt;T&gt;</code> without naming <code>T</code>. (Notice that here <code>T</code> must be
a ‚Äútrue name‚Äù; we‚Äôre not talking about type aliases.)</p>

<p>It‚Äôs also possible to make a type whose name has external linkage, but where the
compiler can prove that the type must be incomplete in every other TU. For example,</p>

<div><div><pre><code>namespace {
    class Internal {};
}
class External { Internal m; };
</code></pre></div></div>

<p>Any other TU is allowed to forward-declare <code>class External;</code> as an incomplete type,
but those TUs can‚Äôt ever complete the type because they can‚Äôt name the types of its
data members. You can‚Äôt derive from an incomplete type. So all types derived from <code>External</code>
(if any) must be present in this TU; if there are none here, well, that‚Äôs a proof-of-leafness!
GCC alone detects this situation.</p>

<h2 id="table-of-results">Table of results</h2>

<p><a href="https://godbolt.org/z/GE7vsE">Godbolt for the known-dynamic-type case</a>;
<a href="https://godbolt.org/z/MnqoM7">Godbolt for the proof-of-leafness case</a>.
In the latter, I‚Äôve made separate tests for <code>Derived::f</code>-defined-directly-in-<code>Derived</code>
and <code>Derived::g</code>-inherited-from-<code>Base</code>. GCC frequently gets <code>f</code> right
but fails to devirtualize <code>g</code>.
I‚Äôve filed <a href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=99093">GCC bug #99093</a> about that.</p>

<table>
  <thead>
    <tr>
      <th>Test case</th>
      <th>Point</th>
      <th>GCC</th>
      <th>Clang</th>
      <th>MSVC</th>
      <th>ICC</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>one</code></td>
      <td>trivial</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
    </tr>
    <tr>
      <td><code>two</code></td>
      <td>cast to <code>Base*</code></td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>three</code></td>
      <td>conditional, then cast</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>four</code></td>
      <td>cast, then conditional</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
  <tbody>
    <tr>
      <td><code>one</code></td>
      <td>final class</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td><code>f</code></td>
    </tr>
    <tr>
      <td><code>two</code></td>
      <td>final method</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
      <td>‚úì</td>
    </tr>
    <tr>
      <td><code>three</code></td>
      <td>silly final destructor</td>
      <td>&nbsp;</td>
      <td>‚úì</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>four</code></td>
      <td>silly old-school trick</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>five</code></td>
      <td>I.L. class</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>six</code></td>
      <td>I.L. template parameter</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>seven</code></td>
      <td>I.L. base</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>eight</code></td>
      <td>I.L. member</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>nine</code></td>
      <td>I.L. with child</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>ten</code></td>
      <td>local class</td>
      <td><code>f</code></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Steve Dewhurst taught me <code>four</code>‚Äôs ‚Äúsilly old-school trick‚Äù: Virtual bases
are always constructed in the context of the most-derived class. So,
if class <code>C</code> has a virtual base all of whose constructors are private,
then no child of <code>C</code> will ever be able to construct itself, and therefore
no child of <code>C</code> can exist. (Of course that virtual base will have to list
<code>C</code> among its friends, in order for <code>C</code> itself to be constructible.)
I think this trick is foolproof, and thus constitutes a (very silly)
proof-of-leafness for <code>C</code>; but of course no compiler cares
to trace through this logical tangle, even if it <em>is</em> foolproof.</p>

<hr>

<p>Can you think of some way to construct a ‚Äúproof-of-leafness‚Äù that I‚Äôve missed?
Tell me about it!</p>

  </div></div>]]>
            </description>
            <link>https://quuxplusone.github.io/blog/2021/02/15/devirtualization/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26144069</guid>
            <pubDate>Mon, 15 Feb 2021 16:15:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Fast JSON in Scala 3 with Typeclass Derivation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143926">thread link</a>) | @augustnagro
<br/>
February 15, 2021 | https://august.nagro.us/scalajs-native-converter.html | <a href="https://web.archive.org/web/*/https://august.nagro.us/scalajs-native-converter.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
    <nav><h3><a href="https://august.nagro.us/">[home]</a> <a href="https://august.nagro.us/about">[about]</a> <a href="https://august.nagro.us/blog">[blog]</a> <a href="https://august.nagro.us/files/august-nagro-resume.pdf">[resume]</a></h3></nav>

    
    <p>What is the fastest way to parse &amp; serialize JSON in Scala? Could it be <a href="https://github.com/circe/circe">Circe</a>, <a href="https://github.com/suzaku-io/boopickle">BooPickle</a>, <a href="https://github.com/playframework/play-json">Play Json</a>, or maybe <a href="https://github.com/lihaoyi/upickle">uPickle</a>?</p>

<p>What if I told you the fastest Scala JSON library is already on your computer, implemented with native code, and updated regularly with improvements? Yes, I‚Äôm talking about the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON">JSON</a> object in Node.js and your browser. Sorry if you feel tricked! But Scala is a multi-platform language; JavaScript is just as much a Scala runtime as the JVM. <code>JSON</code> is <a href="https://github.com/kostya/benchmarks">among the best performing parsers of ANY language</a>, including vectorized C++ libraries. The best ‚ÄòScala‚Äô (and Java) <a href="https://github.com/ngs-doo/dsl-json">library</a> benchmarked is ‚Äòbuilt for invasive software composition‚Äô, and comes with its own ‚ÄòDSL platform compiler‚Äô. <code>JSON</code> is simply the best.</p>

<p>Ok, so let‚Äôs create a <a href="https://www.scala-js.org/">Scala.js</a> project, write a case class, and serialize it to JSON!</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js.JSON</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>

<span>// Compile Error!</span>
<span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>))</span></code></pre></figure>

<p>Unfortunately for us, <a href="https://www.scala-js.org/api/scalajs-library/latest/scala/scalajs/js/JSON$.html">JSON.stringify</a> takes only native JavaScript parameters, ie, objects inheriting <code>scala.scalajs.js.Any</code>. As specified in the <a href="http://www.scala-js.org/doc/interoperability/sjs-defined-js-classes.html">interoperability guide</a>, we can make a native class by extending js.Object:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js</span>

<span>// Compile Error!</span>
<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>extends</span> <span>js</span><span>.</span><span>Object</span></code></pre></figure>

<p>Not again! As the compiler tells us, it is forbidden for case classes to extend js.Object. Why is that? It has to do with the semantic difference between Scala.js objects and native JavaScript objects. When you create an object like <code>User("John Smith", true, 42)</code> for example, it does not automatically become</p>

<figure><pre><code data-lang="javascript"><span>{</span>
  <span>name</span><span>:</span> <span>"</span><span>John Smith</span><span>"</span><span>,</span>
  <span>isAdmin</span><span>:</span> <span>true</span><span>,</span>
  <span>age</span><span>:</span> <span>42</span>
<span>}</span></code></pre></figure>

<p>Instead, after <code>sbt fullLinkJS</code> (which runs the <a href="https://github.com/google/closure-compiler">Google Closure JavaScript Optimizer</a>), the object properties may very well be ‚Äòa‚Äô, ‚Äòb‚Äô, and ‚Äòc‚Äô. Or, the object could be inlined &amp; removed entirely. This feature is why Scala.js‚Äôs <a href="https://www.scala-js.org/doc/internals/performance.html">performance is almost always better than hand-written JavaScript</a>.</p>

<p>It also means that to interop with native JavaScript libraries like <code>JSON</code>, you must give up Scala features like destructuring and pattern matching. Or, create native versions for every class and manually convert:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.scalajs.js</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>
<span>class</span> <span>NativeUser</span><span>(</span><span>val</span> <span>name</span><span>:</span> <span>String</span><span>,</span> <span>val</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>val</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>extends</span> <span>js</span><span>.</span><span>Object</span>

<span>// to JSON</span>
<span>val</span> <span>u</span> <span>=</span> <span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>)</span>
<span>val</span> <span>nativeUser</span> <span>=</span> <span>NativeUser</span><span>(</span><span>u</span><span>.</span><span>name</span><span>,</span> <span>u</span><span>.</span><span>isAdmin</span><span>,</span> <span>u</span><span>.</span><span>age</span><span>)</span>
<span>val</span> <span>json</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>nativeUser</span><span>)</span>

<span>// from JSON</span>
<span>val</span> <span>parsedNativeUser</span> <span>=</span> <span>JSON</span><span>.</span><span>parse</span><span>(</span><span>json</span><span>).</span><span>asInstanceOf</span><span>[</span><span>NativeUser</span><span>]</span>
<span>val</span> <span>parsedUser</span> <span>=</span> <span>User</span><span>(</span>
  <span>parsedNativeUser</span><span>.</span><span>name</span><span>,</span>
  <span>parsedNativeUser</span><span>.</span><span>isAdmin</span><span>,</span>
  <span>parsedNativeUser</span><span>.</span><span>age</span>
<span>)</span></code></pre></figure>

<p>I like to be DRY, and <a href="https://dotty.epfl.ch/docs/reference/overview.html">Scala 3</a> gives us the power to achieve this with Typeclass derivation. Take a look:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>com.augustnagro.nativeconverter.NativeConverter</span>

<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span> <span>derives</span> <span>NativeConverter</span>

<span>// to JSON</span>
<span>val</span> <span>u</span> <span>=</span> <span>User</span><span>(</span><span>"John Smith"</span><span>,</span> <span>true</span><span>,</span> <span>42</span><span>)</span>
<span>val</span> <span>json</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>u</span><span>.</span><span>toNative</span><span>)</span>

<span>// from JSON</span>
<span>val</span> <span>parsedUser</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>User</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>json</span><span>))</span></code></pre></figure>

<p>That‚Äôs it, no manual conversion necessary.</p>

<p>A Typeclass lets you add behavior without inheritance. Instead of extending a class or implementing an interface, you create a Typeclass instance that operates on that type, and pass it around. Typeclasses let you add features to types you don‚Äôt control, aka <a href="https://august.nagro.us/retroactive-polymorphism-scala.html">Retroactive Polymorphism</a>.</p>

<p>In Java, defining, instantiating, and passing around Typeclass instances would be inconvenient, so people <code>extend</code> instead. But Scala 3 makes it easy. When you write <code>case class User(..) derives NativeConverter</code>, the scala compiler calls method <code>NativeConverter::derived</code>, which generates a <code>given</code> instance in User‚Äôs companion object. When you summon a NativeConverter for User, either with <code>summon[NativeConverter[User]]</code> or just <code>NativeConverter[User]</code> via the 0-arg <code>apply</code> helper method in <code>NativeConverter</code>, the same instance is returned.</p>

<p>The implementation of NativeConverter is about 400 lines of 0-dependency Scala, and is NOT A MACRO!
Here‚Äôs the contract of the NativeConverter Typeclass:</p>

<figure><pre><code data-lang="scala"><span>trait</span> <span>NativeConverter</span><span>[</span><span>T</span><span>]</span><span>:</span>
  <span>extension</span> <span>(</span><span>t</span><span>:</span> <span>T</span><span>)</span> <span>def</span> <span>toNative</span><span>:</span> <span>js.Any</span>
  <span>def</span> <span>fromNative</span><span>(</span><span>nativeJs</span><span>:</span> <span>js.Any</span><span>)</span><span>:</span> <span>T</span></code></pre></figure>

<p>You can summon built-in NativeConverters for all the primitive types:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>i</span><span>:</span> <span>Int</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Int</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>"100"</span><span>))</span>

<span>val</span> <span>nativeByte</span><span>:</span> <span>js.Any</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Byte</span><span>].</span><span>toNative</span><span>(</span><span>127.</span><span>toByte</span><span>)</span>

<span>val</span> <span>s</span><span>:</span> <span>String</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>String</span><span>]</span>
  <span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>""" "hello world" """</span><span>))</span></code></pre></figure>

<p>Char and Long are always converted to String, since they cannot be represented directly in JavaScript:</p>

<figure><pre><code data-lang="scala"><span>// native String</span>
<span>val</span> <span>nativeLong</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>Long</span><span>.</span><span>MaxValue</span><span>)</span>

<span>val</span> <span>parsedLong</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>]</span>
  <span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>s</span><span>""" "${Long.MaxValue}" """</span><span>))</span></code></pre></figure>

<p>If you want to change this behavior for Long, implement a <code>given</code> instance of NativeConverter[Long]. The example below uses String for conversion only when the Long is bigger than Int.</p>

<figure><pre><code data-lang="scala"><span>given</span> <span>NativeConverter</span><span>[</span><span>Long</span><span>]</span> <span>with</span>

  <span>extension</span> <span>(</span><span>t</span><span>:</span> <span>Long</span><span>)</span> <span>def</span> <span>toNative</span><span>:</span> <span>js.Any</span> <span>=</span>
    <span>if</span> <span>t</span> <span>&gt;</span> <span>Int</span><span>.</span><span>MaxValue</span> <span>||</span> <span>t</span> <span>&lt;</span> <span>Int</span><span>.</span><span>MinValue</span> <span>then</span> <span>t</span><span>.</span><span>toString</span>
    <span>else</span> <span>t</span><span>.</span><span>toInt</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Any</span><span>]</span>

  <span>def</span> <span>fromNative</span><span>(</span><span>nativeJs</span><span>:</span> <span>js.Any</span><span>)</span><span>:</span> <span>Long</span> <span>=</span>
    <span>try</span> <span>nativeJs</span><span>.</span><span>asInstanceOf</span><span>[</span><span>Int</span><span>]</span>
    <span>catch</span> <span>case</span> <span>_</span> <span>=&gt;</span> <span>nativeJs</span><span>.</span><span>asInstanceOf</span><span>[</span><span>String</span><span>].</span><span>toLong</span>

<span>// "123"</span>
<span>val</span> <span>smallLong</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>123L</span><span>))</span>

<span>// """ "9223372036854775807" """.trim</span>
<span>val</span> <span>bigLong</span><span>:</span> <span>String</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Long</span><span>].</span><span>toNative</span><span>(</span><span>Long</span><span>.</span><span>MaxValue</span><span>))</span> </code></pre></figure>

<p>Functions can be converted between Scala.js and Native:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>helloWorld</span> <span>=</span> <span>(</span><span>name</span><span>:</span> <span>String</span><span>)</span> <span>=&gt;</span> <span>"hello, "</span> <span>+</span> <span>name</span>

<span>val</span> <span>nativeFunc</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>String</span> <span>=&gt;</span> <span>String</span><span>].</span><span>toNative</span><span>(</span><span>helloWorld</span><span>)</span>

<span>// returns "hello, Ray"</span>
<span>nativeFunc</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Dynamic</span><span>](</span><span>"Ray"</span><span>)</span> </code></pre></figure>

<p>Arrays, Iterables, Seqs, Sets, Lists, and Buffers are serialized using JavaScript Arrays:</p>

<figure><pre><code data-lang="scala"><span>// default NativeConverters are only implemented</span>
<span>// for the collections in scala.collection.*, not the deprecated</span>
<span>// aliases in scala.Predef</span>
<span>import</span> <span>scala.collection.</span><span>{</span><span>Seq</span><span>,</span> <span>Set</span><span>}</span>

<span>val</span> <span>seq</span> <span>=</span> <span>Seq</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>)</span>
<span>val</span> <span>set</span> <span>=</span> <span>Set</span><span>(</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>)</span>

<span>// "[1,2,3]"</span>
<span>val</span> <span>seqJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Seq</span><span>[</span><span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>seq</span><span>))</span>

<span>// "[1,2,3]"</span>
<span>val</span> <span>setJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Set</span><span>[</span><span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>set</span><span>))</span></code></pre></figure>

<p>Maps become JavaScript objects:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>scala.collection.Map</span>
<span>import</span> <span>scala.collection.mutable.HashMap</span>

<span>val</span> <span>map</span> <span>=</span> <span>HashMap</span><span>(</span><span>"a"</span> <span>-&gt;</span> <span>1</span><span>,</span> <span>"b"</span> <span>-&gt;</span> <span>2</span><span>)</span>

<span>// """ {"a":1,"b":2} """.trim</span>
<span>val</span> <span>mapJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>NativeConverter</span><span>[</span><span>Map</span><span>[</span><span>String</span>, <span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>map</span><span>))</span></code></pre></figure>

<p>Only String keys are supported, since JSON requires String keys. If you‚Äôd rather convert to an <a href="https://www.scala-js.org/api/scalajs-library/latest/scala/scalajs/js/Map.html">ES 2016 Map</a>, do the following:</p>

<figure><pre><code data-lang="scala"><span>import</span> <span>com.augustnagro.nativeconverter.EsConverters.given</span>

<span>val</span> <span>map</span> <span>=</span> <span>HashMap</span><span>(</span><span>1</span> <span>-&gt;</span> <span>2</span><span>,</span> <span>3</span> <span>-&gt;</span> <span>4</span><span>)</span>

<span>val</span> <span>nativeMap</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Map</span><span>[</span><span>Int</span>, <span>Int</span><span>]].</span><span>toNative</span><span>(</span><span>map</span><span>)</span>

<span>// returns 4</span>
<span>nativeMap</span><span>.</span><span>asInstanceOf</span><span>[</span><span>js.Dynamic</span><span>].</span><span>get</span><span>(</span><span>3</span><span>)</span></code></pre></figure>

<p>I haven‚Äôt implemented converters for all the native types, but if you ask me or make a pull request for one that‚Äôs missing I will merge it.</p>

<p>Option is serialized using a 1-element array if Some, or [] if None:</p>

<figure><pre><code data-lang="scala"><span>val</span> <span>nc</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Option</span><span>[</span><span>Array</span><span>[</span><span>Int</span><span>]]]</span>
<span>val</span> <span>some</span> <span>=</span> <span>Some</span><span>(</span><span>Array</span><span>(</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>))</span>

<span>// "[[1,2,3]]"</span>
<span>val</span> <span>someJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>nc</span><span>.</span><span>toNative</span><span>(</span><span>some</span><span>))</span>

<span>// None</span>
<span>val</span> <span>none</span> <span>=</span> <span>nc</span><span>.</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>"[]"</span><span>))</span></code></pre></figure>

<p>Any <a href="https://www.scala-lang.org/api/current/scala/Product.html">Product</a> or Sum type (like case classes and enums) can derive a NativeConverter. If the Product is a Singleton (ie, having no parameters) then the type name or <a href="https://www.scala-lang.org/api/current/scala/Product.html#productPrefix:String">productPrefix</a> is used. Otherwise, an object is created using the parameter names as keys.</p>

<p>You can for example redefine Option as a Scala 3 enum:</p>

<figure><pre><code data-lang="scala"><span>enum</span> <span>Opt</span><span>[</span><span>+T</span><span>]</span> <span>derives</span> <span>NativeConverter</span><span>:</span>
  <span>case</span> <span>Sm</span><span>(</span><span>x:</span> <span>T</span><span>)</span>
  <span>case</span> <span>Nn</span>

<span>// """ "Nn" """.trim</span>
<span>val</span> <span>nnJson</span> <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>Opt</span><span>.</span><span>Nn</span><span>.</span><span>toNative</span><span>)</span>

<span>// Opt.Sm(123L)</span>
<span>val</span> <span>sm</span> <span>=</span> <span>NativeConverter</span><span>[</span><span>Opt</span><span>[</span><span>Long</span><span>]].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>""" {"x":123} """</span><span>))</span></code></pre></figure>

<p>And of course, you can nest to any depth you wish:</p>

<figure><pre><code data-lang="scala"><span>// recommended but not required for X to derive NativeConverter</span>
<span>case</span> <span>class</span> <span>X</span><span>(</span><span>a</span><span>:</span> <span>List</span><span>[</span><span>String</span><span>])</span> 
<span>case</span> <span>class</span> <span>Y</span><span>(</span><span>b</span><span>:</span> <span>Option</span><span>[</span><span>X</span><span>])</span> <span>derives</span> <span>NativeConverter</span>

<span>val</span> <span>y</span> <span>=</span> <span>Y</span><span>(</span><span>Some</span><span>(</span><span>X</span><span>(</span><span>List</span><span>())))</span>
<span>val</span> <span>yStr</span> <span>=</span> <span>""" {"b":[{"a":[]}]} """</span><span>.</span><span>trim</span><span>.</span><span>nn</span>

<span>assertEquals</span><span>(</span><span>yStr</span><span>,</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>y</span><span>.</span><span>toNative</span><span>))</span>

<span>assertEquals</span><span>(</span><span>y</span><span>,</span> <span>NativeConverter</span><span>[</span><span>Y</span><span>].</span><span>fromNative</span><span>(</span><span>JSON</span><span>.</span><span>parse</span><span>(</span><span>yStr</span><span>)))</span></code></pre></figure>

<p>If <a href="https://www.scala-js.org/doc/project/cross-build.html">Cross Building</a> your Scala project you can use one language for both frontend and backend development. Sub-project <code>/jvm</code> will have your JVM sources, <code>/js</code> your JavaScript, and in <code>/shared</code> you can define all of your validations and request/response DTOs once. In the <code>/shared</code> project you do not want to depend on <code>NativeConverter</code>, since that would introduce a dependency on Scala.js in your <code>/jvm</code> project. So instead of writing <code>derives NativeConverter</code> on your case classes, create an object in <code>/client</code> that holds the derived converters:</p>

<figure><pre><code data-lang="scala"><span>// in shared project</span>
<span>case</span> <span>class</span> <span>User</span><span>(</span><span>name</span><span>:</span> <span>String</span><span>,</span> <span>isAdmin</span><span>:</span> <span>Boolean</span><span>,</span> <span>age</span><span>:</span> <span>Int</span><span>)</span>

<span>// in js project</span>
<span>object</span> <span>DtoConverters</span><span>:</span>
  <span>given</span> <span>NativeConverter</span><span>[</span><span>User</span><span>]</span> <span>=</span> <span>NativeConverter</span><span>.</span><span>derived</span>

<span>object</span> <span>App</span><span>:</span>
  <span>import</span> <span>DtoConverters.given</span>

  <span>@main</span> <span>def</span> <span>launchApp</span><span>:</span> <span>Unit</span> <span>=</span>
    <span>println</span><span>(</span><span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>User</span><span>(</span><span>"John"</span><span>,</span> <span>false</span><span>,</span> <span>21</span><span>).</span><span>toNative</span><span>))</span></code></pre></figure>

<p>I‚Äôve made a sample cross-project you can clone: <a href="https://github.com/AugustNagro/native-converter-crossproject">https://github.com/AugustNagro/native-converter-crossproject</a></p>

<p>But what about performance, surely making your own js.Object subclasses is faster?
Nope, derived NativeDecoders are 2x faster, even for simple cases like <code>User("John Smith", true, 42)</code>:</p>

<p>
<img src="http://august.nagro.us/images/bench/native-converter-vs-js-object-bench.png"><br>
</p>

<p>See <a href="https://august.nagro.us/scalajs-native-type-creation-bench.html">these findings</a> for more info.</p>

<p>The generated JavaScript code is very clean. I was amazed how nice it is when looking at <code>sbt fastLinkJS</code> output. This is all possible because of Scala 3‚Äôs <a href="https://dotty.epfl.ch/docs/reference/metaprogramming/inline.html"><code>inline</code></a> keyword, and powerful type-level programming capabilities. That‚Äôs right.. no Macros used whatsoever! The <code>derives</code> keyword on type T causes the NativeConverter Typeclass to be auto-generated in T‚Äôs companion object. Only once, and when first requested.</p>

<p>It is safe to say that I am very impressed with Scala 3. And a big thank you to S√©bastien Doeraene and Tobias Schlatter, who are first-rate maintainers of Scala.js, as well as Jamie Thompson who gave me advice on ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://august.nagro.us/scalajs-native-converter.html">https://august.nagro.us/scalajs-native-converter.html</a></em></p>]]>
            </description>
            <link>https://august.nagro.us/scalajs-native-converter.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143926</guid>
            <pubDate>Mon, 15 Feb 2021 16:00:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kubernetes is deprecating Docker: what you need to know]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143423">thread link</a>) | @forrestbrazeal
<br/>
February 15, 2021 | https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know | <a href="https://web.archive.org/web/*/https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="8a920a5" data-element_type="widget" data-widget_type="theme-post-content.default"><div><h2 id="h-kubernetes-is-deprecating-docker">Kubernetes is Deprecating Docker?!</h2><p>For some time now, it seems that when people think of containers, they think of <a href="https://acloudguru.com/course/introduction-to-containers-and-docker">Docker</a> and <a href="https://acloudguru.com/course/kubernetes-deep-dive">Kubernetes</a>. Docker has been the big name when it comes to building and running containers, and Kubernetes has been the big name when it comes to managing and orchestrating them. It might seem a bit shocking to hear that Kubernetes is deprecating support for Docker as a container runtime starting with Kubernetes version 1.20.</p><p>So, I want to take this opportunity to talk about what this change really means, and what Kubernetes users will need to do about it.</p><figure><p> <iframe title="Kubernetes This Month: Container usage in production goes through the roof!" width="500" height="281" src="https://www.youtube.com/embed/KzCaCBIgGvI?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure><h2 id="h-what-s-changing">What‚Äôs Changing?</h2><p>Kubernetes deprecating Docker is actually not as big of a deal as it sounds, so let‚Äôs talk about what is really going on here.</p><p>Kubernetes is removing support for Docker as a <strong>container runtime</strong>. Kubernetes does not actually handle the process of running containers on a machine. Instead, it relies on another piece of software called a <strong>container runtime</strong>.</p><figure><img src="https://lh3.googleusercontent.com/ZdkIrgRa5Kx9RkYvsf_MitDSotGYiXP1dwpSE03SitQcSuHrk8VHKjGr5Mkdo8OXtoFsQpYv4UNaLw7xXLlbcYvvUDNyFM_Tcx2ussVCo7E9Z_aNj_NeN2AXJmLESV60PSp7hfVf" alt=""></figure><p>The container runtime runs containers on a host, and Kubernetes tells the container runtime on each host what to do. You can actually choose from a variety of options when it comes to what software you want to use as your container runtime when running Kubernetes. Up to now, a fairly popular option was to use Docker as the container runtime.</p><p>However, this will no longer be an option in the future. You will still be able to use Docker in other ways that are relevant to Kubernetes (more on that in a moment), but you will not be able to use Docker as the container runtime underneath Kubernetes.</p><h2 id="h-why-is-kubernetes-deprecating-docker">Why is Kubernetes Deprecating Docker?</h2><p>Kubernetes has supported using Docker a container runtime up to this point, so why are they choosing to stop supporting it?</p><p>Kubernetes works with all container runtimes that implement a standard known as the <strong>Container Runtime Interface (CRI)</strong>. This is essentially a standard way of communicating between Kubernetes and the container runtime, and any runtime that supports this standard automatically works with Kubernetes.</p><p>Docker does not implement the Container Runtime Interface (CRI). In the past, there weren‚Äôt as many good options for container runtimes, and Kubernetes implemented the Docker shim, an additional layer to serve as an interface between Kubernetes and Docker. Now, however, there are plenty of runtimes available that implement the CRI, and it no longer makes sense for Kubernetes to maintain special support for Docker.</p><h2 id="h-what-s-really-going-on">What‚Äôs Really Going On?</h2><p>To really understand why it makes sense for Kubernetes to deprecate Docker, we need to go a little deeper.</p><p>I‚Äôll let you in on a secret: <strong>Docker is not actually a container runtime</strong>! It‚Äôs actually a collection of tools that sits on top of a container runtime called <strong>containerd</strong>.</p><p>That‚Äôs right! Docker does not run containers directly. It simply creates a more human-accessible and feature-rich interface on top of a separate, underlying container runtime. When it is used as a container runtime for Kubernetes, Docker is just a middle-man between Kubernetes and containerd.</p><figure><img src="https://lh3.googleusercontent.com/qAs7sRi19J_vdE9NYNyZ5MZp8rFoV4aNUmn4aGtrc4zJXsgA_Not2cG68ut6XAXxVFAiBDyK-zp7FO6-sdcFv2obvfIxBrkcsawBisG7IKirWP4ODOlwP0kz1V9vNn_TbXAhaGKz" alt=""></figure><p>However, Kubernetes can use containerd directly as a container runtime, meaning Docker is no longer needed in this middle-man role. Docker still has a lot to offer, even in a Kubernetes ecosystem. It‚Äôs just not needed specifically as a container runtime.</p><figure><img src="https://lh4.googleusercontent.com/cNGPBxKBF4_Vm_WvKM4QWqXGrX4LqgaJfUUxVycD3d5XPuyXS8aWH8zeEooL--2MSDUhKzOmwCdYPGo6Zpga0xIk3EzyNq2fyDbHc0akoGLbBfnymOODbDPHh2zAhHzvdvsFxUxS" alt=""></figure><h2 id="h-what-s-the-role-of-docker-going-forward">What‚Äôs the Role of Docker Going Forward?</h2><p>Although Docker is not needed as a container runtime in Kubernetes, it still has a role to play in the Kubernetes ecosystem, and in your workflow.</p><p>Docker is still going strong as a tool for developing and building container images, as well as running them locally. Kubernetes can still run containers built using Docker‚Äôs <strong>Open Container Initiative (OCI) </strong>image format, meaning you can still use Dockerfiles and build your container images using Docker.</p><p>Kubernetes will also continue to be able to pull from Docker registries (such as Docker hub). This means that Docker will remain a powerful contender when it comes to managing the images once they are built.</p><p>All in all, Docker will continue to be a useful tool on your development workflows and continuous integration (CI) systems, even if you don‚Äôt need it to run your containers underneath Kubernetes in production.</p><hr><p><em>Looking to get certified on K8s? Read our <a href="https://acloudguru.com/blog/engineering/which-kubernetes-certification-path-should-i-take">blueprint for the Kubernetes certification journey</a>. </em></p><hr><h2 id="h-what-should-i-do">What Should I Do?</h2><p>&nbsp;If you are currently using Docker as a container runtime in your Kubernetes environment, you will need to make some changes. Moving forward, you can simply eliminate Docker as a middle-man in your Kubernetes environment. Instead, use another container runtime, such as <a href="https://containerd.io/">containerd</a> or <a href="https://cri-o.io/">CRI-O</a>.</p><p>Before upgrading to a Kubernetes version removes support for Docker (which is currently estimated to release in late 2021), you will need to modify (or replace) existing Kubernetes nodes so that they use a supported container runtime other than Docker. Starting now, you may want to start building any new nodes so that they use a non-Docker container runtime as well.</p><p>Other than that, nothing is really changing. You can continue to use Docker to build your images, as well as to run containers locally for development purposes, or in your continuous integration (CI) stack. You can also continue to use Docker registries to store and manage your images.</p><p>If you are interested in learning how to use containerd alongside Kubernetes, check out my new course, <a href="https://acloud.guru/overview/introduction-to-kubernetes">Introduction to Kubernetes</a>. It includes lessons that will walk you through the process of installing containerd and using it in your Kubernetes cluster.</p></div></div></div>]]>
            </description>
            <link>https://acloudguru.com/blog/engineering/kubernetes-is-deprecating-docker-what-you-need-to-know</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143423</guid>
            <pubDate>Mon, 15 Feb 2021 15:12:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Git over Email? Convienence over Coolness]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26143303">thread link</a>) | @silasdb
<br/>
February 15, 2021 | https://occasionallycogent.com/git_via_email/index.html | <a href="https://web.archive.org/web/*/https://occasionallycogent.com/git_via_email/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<header>

<p>Convienence over Coolness</p>
</header><p>
I keep looking at <a href="https://git.sr.ht/">‚ÄúSource Hut‚Äù</a> (n√©e ‚Äúsrht‚Äù) and its email-centric approach to git.
It kind of appealed to me in the sort of theoretical, slightly-masochistic way that switching to BSD or terminal-only mode has in the past ‚Äì something that is idealized as being simpler, more efficient, allowing one to use the honed tools of true hackers, or whatever.
</p>

<p>
However, after going through <a href="https://git-send-email.io/">the tutorial</a> thoughtfully provided by sourcehut on how to collaborate over email with git and reading some of the resultant discussion, I was reminded why most people &amp; projects don‚Äôt collaborate in that way.
Not only is it a non-trivial hassle to set up git to send email (including having to find some reasonably-secure way of storing an email password), but it really seems to end up being a lot less convienent to actually use:
You are discouraged from using your usual email client and told to only send via <code>git send-email</code>; however, you still need to go to whatever mailing list the patch is being discussed on with some sort of client, because you need to get the message id to send follow-up patches to; multiple commits send as multiple separate emails, which seems incredibly annoying; there‚Äôs now no one place you can look to see all the in-process changes and their status; it seems to more-or-less require constantly ammending &amp; changing commit history, seems like losing information for no good reason.
</p>

<p>
Personally, it seems like it would be a massive pain to have to use my email to manage contributions for both sending &amp; recieving to a variety of different projects.
I‚Äôm not a huge fan of Github, but the pull-request flow is pretty easy to use.
It‚Äôs easy to manage a bunch of contributions, comment line-by-line on the changes, see the history of the changes, and generally make the discussion easy to follow &amp; find.
Even if one doesn‚Äôt want to use the website, using a tool like <code>magit</code> one can use the API for the git hosting service and see the commits &amp; discussion without leaving the editor, as well as configure things so one can directly check out a branch corresponding to the PR (so you can pull from there too, without having to mess around with repeatedly applying and discarding patches).
</p>

<p>
I don‚Äôt want to cast aspersions on the people championing these ways of using git ‚Äì philosophically, I can get behind the idea of using git in a more federated way ‚Äì but it does seem to me to be kind of the sort of thing that I <a href="https://occasionallycogent.com/against_mindless_minimalism/index.html">wrote about previously</a>, where people don‚Äôt want to use interfaces which are far more ergonomic precisely because they are more ergonomic, as that user-friendlyness is looked down upon.
</p>

<p>
I am well aware there are big projects that do use an email-centric workflow.
However, I think it is not a coincidence that those are also projects that are not particularly renowned for being easy to contribute to.
</p>

<p>
I teach at a learn-to-code bootcamp and, while learning to use all the tools is always a challenge for the students, using graphical interfaces like github and the pull request systems is something they usually are able to figure out themselves ‚Äì just the discoverability of having buttons show you what your options are is way less intimidating to beginners.
If they had to figure out how to configure <code>git send-email</code>, getting patch files from those emails, and then how to apply them, I am quite sure their rate of success would be far lower.
</p>

<p>
Being easier isn‚Äôt only to help beginners get started though.
Experts too can benefit from not having to expend mental energy on remembering exactly the sequence of commands required for complex operations.
I consider myself pretty proficient at using git from the terminal, but I prefer using <code>magit</code> because it‚Äôs simply easier ‚Äì my goal is to write code, not use git.
I‚Äôve contributed tiny changes to projects on Github that I never would have if a more heavyweight flow was required, because it‚Äôs almost as easy as editing a Wikipedia article ‚Äì the way I can click ‚Äúedit‚Äù, have an in-browser editor to make a small change, and submit a PR without having to go to the terminal once is great.
</p>


<p>
I do wish that there was a way to have something like Github‚Äôs pull-request system without being tied to their proprietary system.
Clearly though, for things requiring people to communicate, different projects will have different needs.
It would be interesting to see something like <a href="https://fossil-scm.org/index.html/doc/trunk/www/index.wiki">Fossil‚Äôs</a> system, where the issues, wiki, etc are all part of the repository itself, so a pull-request-like concept could be a native aspect of the system.
For now though, I don‚Äôt think I‚Äôm going to be switching to an email-based workflow ‚Äì it really seems like just adding complications for nebulous benefits ‚Äì and I‚Äôm going to keep hoping that we can make our tools more accessible, not more exclusive.
</p>
</div></div>]]>
            </description>
            <link>https://occasionallycogent.com/git_via_email/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143303</guid>
            <pubDate>Mon, 15 Feb 2021 14:58:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Software Development Doesn‚Äôt Need Unions ‚Äì At Least Not Yet]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143267">thread link</a>) | @wagslane
<br/>
February 15, 2021 | https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/ | <a href="https://web.archive.org/web/*/https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>I‚Äôve seen a lot of buzz recently about software developers wanting to form unions. I‚Äôm particularly interested in this topic as the founder of <a href="https://qvault.io/">Qvault</a>, where my goal is to provide a university-quality CS education at dinner-and-a-movie prices. I also want to point out that at the time of writing I‚Äôm a full-time software developer working for a separate company (not Qvault). I‚Äôm not a manager and Qvault is just a side-project. As of right now, I‚Äôm pretty sure I‚Äôm a member of the proletariat.</p>
<p>As I lay out my current thoughts on unions, I want to point out that I‚Äôm trying to keep an open mind about this subject as the experiences I‚Äôve had in the job market don‚Äôt reflect the experiences of the average developer. Feel free to <a href="https://twitter.com/wagslane" rel="noopener">reach out on Twitter</a> to share your thoughts with me, especially if you think I‚Äôm missing something.</p>
<h2>#1 Salaries aren‚Äôt keeping up with inflation and cost of living</h2>
<p>One of the articles I‚Äôm responding to, <a aria-label="Steve Belovarich's Should We Form a Labor Union (opens in a new tab)" href="https://dev.to/steveblue/should-we-form-a-labor-union-13o" target="_blank" rel="noreferrer noopener nofollow">Steve Belovarich‚Äôs Should We Form a Labor Union</a> makes the claim:</p>
<blockquote><p>The economy in 50s America enabled a sole breadwinner in the family to provide enough to pay the bills, put food on the table, and even take the family on a vacation‚Ä¶ There are some of us in the technology sector who still have a difficult time making ends meet when housing prices are high, employer-provided insurance refuses to cover medical bills, [and] student loans prohibit some of us from obtaining credit.</p></blockquote>
<p>It‚Äôs true that the ‚Äô50s were very different from today in terms of who worked, how much they worked, what they did at work, and how much they were compensated, but this take looks through some seriously rose-colored glasses.</p>
<p>In the ‚Äô50s, the median inflation-adjusted household income was around $30,000 in 2020 dollars. Today, we make significantly more money, around $60,000 (back of the envelope math from <a aria-label="here (opens in a new tab)" href="https://www.multpl.com/us-median-real-income/table/by-year" target="_blank" rel="noreferrer noopener nofollow">here</a> and <a aria-label="here (opens in a new tab)" href="https://web.stanford.edu/class/polisci120a/immigration/Median%20Household%20Income.pdf" target="_blank" rel="noreferrer noopener nofollow">here</a>), and yet clearly many families still struggle to make ends meet. To me, it seems this is largely due to the certain ‚Äúnecessities‚Äù that simply didn‚Äôt exist in the mid-20th century. We have many bills they didn‚Äôt have back then; cell phones, prescription medications, internet connections, multiple cars, and <a aria-label="much larger houses (opens in a new tab)" href="http://www.npr.org/templates/story/story.php?storyId=5525283" target="_blank" rel="noreferrer noopener nofollow">much larger houses</a> to name a just few.</p>
<p>While we‚Äôve made advances in technology that make our lives better, they‚Äôve simultaneously made our lives more expensive. You simply must pay an exorbitant hospital bill in order to have a child in 2021, anything less is irresponsible. Most people can‚Äôt walk to the grocery store or work these days with suburban sprawl, so multiple cars per family is a necessity. There were no cell phones in the ‚Äô50s, but it‚Äôs nearly impossible to function in society without one now.</p>
<p><strong>I think this is a problem, but developers are some of the most highly-paid workers out there. The solution likely resides outside the domain of software specifically, seeing as people of other professions suffer even more.</strong></p>
<p>Pointing out that we need to earn more to live a more comfortable (yet necessary) lifestyle is interesting and may have some political ramifications, but I don‚Äôt think it‚Äôs a good case for unionizing in software in 2021.</p>
<p>For example, geographic tech hubs (San Francisco, we‚Äôre looking at you) have become extremely expensive over the last ten years. This hasn‚Äôt just made it harder for developers but has most adversely affected workers in other industries where their salaries have not skyrocketed while housing costs did. Some other potential solutions that more directly deal with the problem could include:</p>
<ul><li>More remote work. This means workers can move to lower cost-of-living situations, and non-tech workers in Silicon Valley won‚Äôt be so aggressively displaced. I don‚Äôt think we need unions to make this happen. Covid-19 has made employers realize just how cost-effective remote work can be.</li><li>With retail investment being accessible and cheap to everyone now, we can take part in the spoils of company ownership. That said, there‚Äôs clearly more work to be done here so that Wall Street doesn‚Äôt get an unfair advantage. Fuck you Robinhood. üíéü§≤$GME.</li><li>Wealth inequality is a real problem, but I‚Äôd rather see a more simple and targeted solution like a small UBI. It would help workers across all industries without needing to add paperwork, membership, and union dues to our already complicated lives.</li><li>Fewer zoning laws, and better access to public transportation. Americans spend quite a bit on cars, with the <a aria-label="average car owner spending roughly $775/month (opens in a new tab)" href="https://www.hotcars.com/average-american-spends-roughly-800-a-month-on-their-car/" target="_blank" rel="noreferrer noopener nofollow">average car owner spending roughly $775/month</a> on car-related expenses. If more of us could walk, bike, or catch trains to get around it would help with the environment and our wallets.</li></ul>
<h2>#2 Difficulty proving your worth without having a silver tongue</h2>
<p>I‚Äôll be the first to admit that this is a huge problem in the coding industry, and really in any knowledge-based industry where aptitude and impact are hard to measure. There are terrible engineers who make 4x more than seriously talented engineers, simply because they‚Äôre better at writing resumes, interviewing, building social profiles, or smooth-talking at the negotiating table.</p>
<p><strong>This is a real problem.</strong></p>
<p>Unions could actually help in this regard. The idea being that along with unions we would get some form of standardized testing so that our ability to prove how much we should earn would be more equal. For example, level 1 front-end developers might make $50k-60k. Level 2‚Äôs make $60k-70k etc. In the current market, it feels like ‚Äújunior developers‚Äù make anywhere from $20/hr to $80/hour, and ‚Äúsenior developers‚Äù make anywhere from 70k/year to 700k/year.</p>
<p>Standardization and official certifications would likely help those that aren‚Äôt good at selling themselves but would be unnecessary for those that already have those soft skills.</p>
<p>I have two main problems with this approach.</p>
<ol><li>Standardizing testing and certification systems likely just won‚Äôt work well in a field as fast-paced as software engineering. Best practices in 2019 can be obsolete in 2020, and I just don‚Äôt trust union administrators to keep up.</li><li>We can solve this problem without unions. I think there‚Äôs a growing market demand for developer-vetting. Right now this need is mostly filled by service-based recruiting companies, but I think there‚Äôs an opportunity for a kind of developer-profile industry to emerge. Ideally, it would make it easy for developers to showcase their knowledge and projects in an effective and streamlined way.</li></ol>
<h2>#3 Discrimination</h2>
<p>In addition to the fact that what should be low-impact soft-skills play a disproportionately large role in the salary of a technical person, there‚Äôs the ever-present problem of intentional and unintentional discrimination in hiring and compensation practices. For example, while the gap seems to be closing, it isn‚Äôt closing fast enough. <a aria-label="Dice's recent study (opens in a new tab)" href="http://marketing.dice.com/pdf/2020/Dice_Gender_Pay_Gap_In_Tech_Report.pdf" target="_blank" rel="noreferrer noopener nofollow">Dice‚Äôs recent study</a> shows that female software engineers still earn $8,559 less than their male counterparts on average.</p>
<p><strong>This is a real problem, and one that doesn‚Äôt just deal with gender inequality, but race, culture and perhaps religion as well.</strong></p>
<p>Huge problem. Hard to solve. Unions might help, but to be honest I‚Äôm not sure.</p>
<p>Unions are basically the strong-arm approach to companies exploiting workers. As far as I can tell, most companies nowadays, especially tech companies, understand that diversity is in their best interest and don‚Äôt need to be strong-armed. The problem seems to mostly arise from the implicit or explicit biases of individuals <em>within</em> the organization. It‚Äôs kind of a hard problem to solve, and I‚Äôve heard several ideas that could potentially help, including:</p>
<ul><li>Scholarships and grants for minorities</li><li>Requiring diversity among hiring panels</li><li>Anonymizing resumes</li></ul>
<p>I‚Äôm not sure which practices could prove to be most effective, but my point is that if the problem truly is bigoted or biased <em>individuals</em> at companies, how will unions make it better? Those unions will be just as prone to having bigoted and biased administrators. No, I think the answer here more likely lies in each of us standing up for diversity and making sure that the companies we work for do the same.</p>
<p>The only situation where I can see unionization to be necessary here is if bigoted executives are explicitly refusing to take action, and are blocking managers from doing the same. If this is the case where you work, maybe it is time to start organizing. Extra care will need to be taken to ensure the organizers have the worker‚Äôs diversity goals in mind.</p>
<h2>#4 Market-value discrepancy between junior and senior developers</h2>
<p>Spend a few minutes in <a aria-label="/r/learnprogramming (opens in a new tab)" href="https://www.reddit.com/r/learnprogramming/" target="_blank" rel="noreferrer noopener nofollow">/r/learnprogramming</a> or <a aria-label="/r/programmerhumor (opens in a new tab)" href="https://www.reddit.com/r/ProgrammerHumor/" target="_blank" rel="noreferrer noopener nofollow">/r/programmerhumor</a> and it will become readily apparent that entry-level developers have a really hard time finding their first job. Who would hire someone with no previous experience? On the flip side, senior developers are constantly complaining about all the recruiters that won‚Äôt leave them alone, and they‚Äôre among some of the most well-compensated people in the workforce.</p>
<div><figure><img loading="lazy" src="https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme.png" alt="1 / 1 ‚Äì programmer humor meme recruiter" width="671" height="455" srcset="https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme.png 894w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-300x203.png 300w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-768x521.png 768w, https://qvault.io/wp-content/uploads/2021/02/programmer-humor-meme-150x102.png 150w" sizes="(max-width: 671px) 100vw, 671px" title="programmer humor meme"></figure></div>
<p><strong>This is a real problem.</strong></p>
<p>The junior/senior problem seems to mostly be a supply and demand problem, with perhaps a residual effect of problem #2, junior developers have a harder time proving their worth since they lack experience. If there‚Äôs truly a supply/demand problem there are only a couple of potential solutions:</p>
<ul><li>Improve education systems to help new engineers advance and progress more quickly and recognizably</li><li>Encourage new startups and research investment so that there‚Äôs more demand</li><li>If there are just too many engineers (doubtful) then let people know so new learners will know what they‚Äôre getting into</li></ul>
<p>In regards to junior developers not being able to prove their skills, I think there are potential cultural improvements and product innovations that have a lot of potential. For example, inexpensive access to online courses and certificates helps students that didn‚Äôt go to college prove that they understand certain concepts. The open-source community seems to me to be more inclusive and collaborative, and if you maintain a project you can help by flagging issues with <code>good first issue</code> or <code>help wanted</code> which encourages newer devs to get their hands ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/">https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/</a></em></p>]]>
            </description>
            <link>https://qvault.io/2021/02/15/why-software-development-doesnt-need-unions-at-least-not-yet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143267</guid>
            <pubDate>Mon, 15 Feb 2021 14:53:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Cost of Open Sourcing Your Project (2016)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143227">thread link</a>) | @msantos
<br/>
February 15, 2021 | https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/ | <a href="https://web.archive.org/web/*/https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p><strong>Accusing a company of ‚Äúdumping‚Äù their project as open source is probably misplaced ‚Äì it‚Äôs an expensive business no-one would do frivolously.</strong></p>
<p><img data-attachment-id="107613" data-permalink="https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/swan-m/#main" data-orig-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg" data-orig-size="640,480" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="swan-m" data-image-description="" data-medium-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=300" data-large-file="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620" src="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620" alt="swan-m" srcset="https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=620 620w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=150 150w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg?w=300 300w, https://meshedinsights.files.wordpress.com/2016/09/swan-m.jpg 640w" sizes="(max-width: 620px) 100vw, 620px"></p>
<p>If you see an active move to change software licensing or governance, it‚Äôs likely someone is paying for it and thus could justify the expense to an executive.<span id="more-107529"></span></p>
<h4>A Little History</h4>
<p>Some case study cameos may help. From 2004 onwards, Sun Microsystems had a policy of all its software moving to open source. The company&nbsp;migrated almost all products to open source licenses, and had varying degrees of success engaging communities around the various projects, largely related to the outlooks of the product management and Sun developers for the project.</p>
<p>Sun&nbsp;occasionally received requests to make older, retired products open source. For example, Sun acquired a company called <a href="https://en.wikipedia.org/wiki/Lighthouse_Design">Lighthouse Design</a> which created a respected suite of office productivity software for Steve Jobs‚Äô NeXT platform. Strategy changes meant that software headed for the vault (while Jonathan Schwartz, a founder of Lighthouse, headed for the executive suite). Members of the public&nbsp;asked if Sun would open source some of this software, but these requests were declined because there was no business unit willing to fund the move.</p>
<p>When Sun was later bought by Oracle, a number of those projects that had been made open source were abandoned.&nbsp;‚ÄúAbandoning‚Äù software doesn‚Äôt mean leaving it for others; it means simply walking away from wherever you left it. In the case of Sun‚Äôs popular identity middleware products, that meant Oracle let the staff go and tried to migrate customers to other products, while remaining silent in public on the future of the project. But the code was already open source, so the user community was able to pick up the pieces and carry on, with help from Forgerock.</p>
<h4>Liberation Checklist</h4>
<p>It costs a lot of money to open source a mature piece of commercial software, even if all you are doing is ‚Äúthrowing a tarball over the wall‚Äù. That‚Äôs why companies abandoning software they no longer care about so rarely make it open source, and those abandoning open source projects rarely move them to new homes that benefit others.</p>
<p>If all you have thought about is the eventual outcome, you may be surprised how expensive it is to get there. Costs include:</p>
<ul>
<li>
<h5><span>For throwing a tarball over the wall:</span></h5>
<ul>
<li><strong>Legal clearance.</strong><br>
Having the right to use the software is not the same as giving everyone in the world an unrestricted right to use it and create derivatives. Checking every line of code to make sure you have the rights necessary to release under an OSI-approved license is a big task requiring high-value employees on the ‚Äúliberation team‚Äù. That includes both developers and lawyers; neither come cheap.</li>
<li><strong>Repackaging</strong>.<br>
To pass it to others, a self-contained package containing all necessary source code, build scripts&nbsp;and non-public source and tool dependencies has to be created since it is quite unlikely to exist internally. Again, the liberation team will need your best developers.</li>
<li><strong>Preserving provenance</strong>.<br>
Just because you have confidence that you have the rights to the code, that doesn‚Äôt mean anyone else will. The version control system probably contains much of the information that gives confidence about who wrote which code, so the repackaging needs to also include a way to migrate the commit information.</li>
<li><strong>Code cleaning.</strong><br>
The file headers will hopefully include origin information but the liberation team had better check. They also need to check the comments for libel and profanities, not to mention trade secrets (especially those from third parties) and other IP issues.</li>
</ul>
</li>
<li>
<h5><span>For a sustainable project, all the above plus:</span></h5>
<ul>
<li><strong>Compliance with host governance</strong>.<br>
It is a fantastic idea to move your project to a host like <a href="http://apache.org/">Apache</a>, <a href="http://sfconservancy.org/">Conservancy</a>, <a href="https://publicsoftware.eu/">Public Software</a> and so on. But doing so requires preparatory work. As a minimum you will need to negotiate with the new host organisation, and they may well need you to satisfy their process requirements. Paperwork obviously, but also the code may need conforming copyright statements and more. That‚Äôs more work for your liberation team.</li>
<li><strong>Migration of rights.</strong><br>
Your code has an existing community who will need to migrate to your new host. That includes your staff ‚Äì they are community too! They will need commit rights, governance rights, social media rights and more. Your liberation team will need your community manager, obviously, but may also need HR input.</li>
<li><strong>Endowment</strong>.<br>
Keeping your project alive will take money. It‚Äôs all been coming from you up to this point, but if you simply walk away before the financial burden has been accepted by the new community and hosts there may be a problem. You should consider making an endowment to your new host to pay for their migration costs plus the cost of hosting the community for at least a year.</li>
<li><strong>Marketing</strong>.<br>
Explaining the move you are making, the reasons why you are making it and the benefits for you and the community is important. If you don‚Äôt do it, there are plenty of trolls around who will do it for you. Creating a news blog post and an FAQ ‚Äî the minimum effort necessary ‚Äî really does take someone experienced and you‚Äôll want to add such a person to your liberation team.</li>
</ul>
</li>
</ul>
<h4>Motivations</h4>
<p>There has to be some commercial reason that makes the time, effort and thus expense worth incurring. Some examples of motivations include:</p>
<ul>
<li><strong>Market Strategy.</strong><br>
An increasing number of companies are choosing to create substantial, openly-governed open source communities around software that contributes to their business. An open multi-stakeholder co-developer community is an excellent vehicle for innovation at the lowest cost to all involved. As long as your market strategy doesn‚Äôt require creating artificial scarcity.</li>
<li><strong>Contract with a third party.</strong><br>
While the owner of the code may no longer be interested, there may be one or more parties to which they owe a contractual responsibility. Rather than breaching that contract, or buying it out, a move to open source may be better. Some sources suggest a contractual obligation to IBM&nbsp;was the reason Oracle abandoned OpenOffice.org by moving it over to the Apache Software Foundation for example.</li>
<li><strong>Larger dependent ecosystem.</strong><br>
You may have no further use for the code itself, but you may well have other parts of your business which depend on it. If they are willing to collectively fund development you might consider an <a href="https://paypal.github.io/InnerSourceCommons/">‚Äúinner source‚Äù</a> strategy which will save you many of the costs above. But the best way to proceed may well be to open the code so your teams and those in other companies can fund the code.</li>
<li><strong>Internal politics</strong>.<br>
From the outside, corporations look monolithic, but from the inside it becomes clear they are a microcosm of the market in which they exist. As a result, they have political machinations that may be addressed by open source. One of Oracle‚Äôs motivations for moving NetBeans to Apache seems to have been political. Despite multiple internal groups needing it to exist, the code was not generating enough direct revenue to satisfy successive executive owners, who allegedly tried to abandon it on more than one occasion. Donating it to Apache meant that couldn‚Äôt happen again.</li>
</ul>
<p>None of this is to say a move to open source guarantees the success of a project. A <a href="http://thoughtleadershipleverage.com/field-of-dreams-great-movie-dumb-strategy/">‚ÄúField of Dreams‚Äù strategy</a> only works in the movies, after all. But while it may be tempting to look at a failed corporate liberation and describe it as ‚Äúabandonware‚Äù, chances are it was intended as nothing of the kind.</p>
<p><em>[Made possible by&nbsp;<a href="https://meshedinsights.com/2016/09/19/patronage-the-old-old-new-idea/">Patreon patrons</a>&nbsp;&amp; excerpted at <a href="https://opensource.com/business/16/9/how-to-open-source-your-software">OpenSource.com</a>]</em></p>
			</div></div>]]>
            </description>
            <link>https://meshedinsights.com/2016/09/20/open-source-unlikely-to-be-abandonware/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143227</guid>
            <pubDate>Mon, 15 Feb 2021 14:48:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Product Design Resources]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143187">thread link</a>) | @awaxman11
<br/>
February 15, 2021 | https://blog.awaxman.com/product-design-resources | <a href="https://web.archive.org/web/*/https://blog.awaxman.com/product-design-resources">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I frequently get asked for product design resource recommendations. Sometimes from PMs and engineers looking to level up their design sensibilities. Other times from folks looking to become designers themselves. Whatever your reason, if you want to learn more about product design and jumpstart your design skills then this post is for you.</p><h2 id="-make-your-designs-look-great">üî• Make Your Designs Look Great</h2><p>While product design is <em>much</em> more than how something looks, it‚Äôs one of the most tangible ways to dive into product design. These are my favorite recs to improve your ‚Äúeye for design‚Äù and polish the look and feel of whatever you‚Äôre working on. </p><ul><li>‚≠êÔ∏è Refactoring UI: <a href="https://refactoringui.com/book/" target="_blank" rel="noreferrer">Book</a> ¬∑ <a href="https://twitter.com/i/events/994601867987619840" target="_blank" rel="noreferrer">Tips</a> ¬∑ <a href="https://medium.com/refactoring-ui/7-practical-tips-for-cheating-at-design-40c736799886" target="_blank" rel="noreferrer">Article</a></li><li>7 Rules for Creating Gorgeous UI: <a href="https://medium.com/@erikdkennedy/7-rules-for-creating-gorgeous-ui-part-1-559d4e805cda" target="_blank" rel="noreferrer">Part I</a> ¬∑ <a href="hhttps://medium.com/@erikdkennedy/7-rules-for-creating-gorgeous-ui-part-2-430de537ba96" target="_blank" rel="noreferrer">Part II</a></li><li><a href="https://medium.com/facebook-design/how-to-make-your-not-so-great-visual-design-better-67972eee3825" target="_blank" rel="noreferrer">How to Make Your Not-So-Great Visual Design Better</a></li></ul><h2 id="-what-even-is-product-design">ü§î What Even Is Product Design?</h2><p>Design is a complex topic with many different flavors. These resources will help you understand how product design fits into this landscape.</p><ul><li>‚≠êÔ∏è <a href="https://medium.com/@ericeriksson/what-is-product-design-9709572cb3ff" target="_blank" rel="noreferrer">What is Product Design?</a></li><li><a href="https://medium.com/hh-design/intro-to-product-design-c2dbbc7809d3" target="_blank" rel="noreferrer">Intro to Product Design</a></li><li><a href="https://www.invisionapp.com/inside-design/product-design/" target="_blank" rel="noreferrer">How To Explain Product Design to Anyone</a></li><li><a href="https://www.designbetter.co/principles-of-product-design" target="_blank" rel="noreferrer">Principles of Product Design</a></li><li><a href="https://www.figma.com/community/file/825467304309879575" target="_blank" rel="noreferrer">Figma‚Äôs Internal Design 101 Presentation</a></li><li><a href="https://m.xkcd.com/2141/" target="_blank" rel="noreferrer">XKCD On the Difference Between UI &amp; UX</a></li></ul><h2 id="-get-inspired">‚ú® Get Inspired</h2><p>As pointed out in this <a href="https://twitter.com/joulee/status/1359961141682655232?s=20" target="_blank" rel="noreferrer">twitter thread</a>, one of the best ways to develop your design eye is to explore examples of good design. The below sites will help you understand what good design looks like. Even if you can‚Äôt design stuff like it (yet!), being able to recognize the difference between good and bad design is a great first step.</p><p><strong>Mobile</strong>: <a href="https://mobbin.design/" target="_blank" rel="noreferrer">Mobbin</a> ¬∑ <a href="https://mthds.co/" target="_blank" rel="noreferrer">mthds</a> ¬∑  <a href="https://uxarchive.com/" target="_blank" rel="noreferrer">UXArchive</a> ¬∑ <a href="https://pttrns.com/" target="_blank" rel="noreferrer">pttrns</a> ¬∑ <a href="https://www.uisources.com/home" target="_blank" rel="noreferrer">UI Sources</a></p><p><strong>Patterns</strong>: <a href="https://nicelydone.club/products/" target="_blank" rel="noreferrer">Nicely Done</a> ¬∑ <a href="https://screenlane.com/" target="_blank" rel="noreferrer">Screen Lane</a> ¬∑ <a href="https://uigarage.net/" target="_blank" rel="noreferrer">UI Garage</a> ¬∑ <a href="https://designvault.io/" target="_blank" rel="noreferrer">Design Vault</a> ¬∑ <a href="https://lookup.design/" target="_blank" rel="noreferrer">Lookup Design</a> ¬∑ <a href="https://collectui.com/" target="_blank" rel="noreferrer">Collect UI</a></p><p><strong>Case Studies</strong>: <a href="https://growth.design/case-studies/" target="_blank" rel="noreferrer">Growth Design</a> ¬∑ <a href="https://www.useronboard.com/user-onboarding-teardowns/" target="_blank" rel="noreferrer">UserOnboard</a> ¬∑ <a href="https://builtformars.com/" target="_blank" rel="noreferrer">Built for Mars</a> ¬∑ <a href="https://www.underglass.io/" target="_blank" rel="noreferrer">Under Glass</a> ¬∑ <a href="https://brianlovin.com/design-details" target="_blank" rel="noreferrer">App Dissection</a></p><p><strong>Landing Pages</strong>: <a href="https://httpster.net/" target="_blank" rel="noreferrer">Httpster</a> ¬∑ <a href="https://land-book.com/" target="_blank" rel="noreferrer">Landbook</a> ¬∑ <a href="https://www.lapa.ninja/" target="_blank" rel="noreferrer">Lapa</a> ¬∑ <a href="https://onepagelove.com/" target="_blank" rel="noreferrer">One Page Love</a></p><p><strong>Other</strong>: <a href="https://tailwindui.com/components" target="_blank" rel="noreferrer">TailwindUI</a> ¬∑ <a href="https://reallygoodemails.com/" target="_blank" rel="noreferrer">Really Good Emails</a> ¬∑ <a href="https://www.goodemailcopy.com/" target="_blank" rel="noreferrer">Good Email Copy</a> ¬∑ <a href="https://www.heynishi.com/" target="_blank" rel="noreferrer">Nishi</a> ¬∑ <a href="https://dribbble.com/" target="_blank" rel="noreferrer">Dribbble</a> ¬∑ <a href="https://uijar.com/" target="_blank" rel="noreferrer">UI Jar</a> ¬∑  <a href="https://looksideway.com/" target="_blank" rel="noreferrer">Sideway</a></p><p><strong>Companies</strong>: <a href="https://www.airbnb.com/" target="_blank" rel="noreferrer">Airbnb</a> ¬∑ <a href="https://robinhood.com/" target="_blank" rel="noreferrer">Robinhood</a> ¬∑ <a href="https://www.spotify.com/us/" target="_blank" rel="noreferrer">Spotify</a>  ¬∑  <a href="https://www.squarespace.com/" target="_blank" rel="noreferrer">Squarespace</a> ¬∑ <a href="https://asana.com/" target="_blank" rel="noreferrer">Asana</a> ¬∑ <a href="https://www.lemonade.com/" target="_blank" rel="noreferrer">Lemonade</a> ¬∑  <a href="https://cash.app/" target="_blank" rel="noreferrer">Cash App</a> ¬∑ <a href="https://culturedcode.com/things/" target="_blank" rel="noreferrer">Things</a> ¬∑ <a href="https://superhuman.com/" target="_blank" rel="noreferrer">Superhuman</a> ¬∑ <a href="https://linear.app/" target="_blank" rel="noreferrer">Linear</a> ¬∑ <a href="https://www.shopify.com/" target="_blank" rel="noreferrer">Shopify</a> ¬∑ <a href="https://stripe.com/" target="_blank" rel="noreferrer">Stripe</a> ¬∑ <a href="https://www.helpscout.com/" target="_blank" rel="noreferrer">Help Scout</a> ¬∑ <a href="https://intercom.com/" target="_blank" rel="noreferrer">Intercom</a> ¬∑ <a href="https://segment.com/" target="_blank" rel="noreferrer">Segment</a> ¬∑ <a href="https://notion.so/" target="_blank" rel="noreferrer">Notion</a> ¬∑ <a href="https://copilot.money/" target="_blank" rel="noreferrer">Copilot</a> ¬∑ <a href="http://clay.earth/" target="_blank" rel="noreferrer">Clay</a> ¬∑ <a href="http://seatgeek.com/" target="_blank" rel="noreferrer">SeatGeek</a></p><h2 id="-understanding-the-basics">üî§ Understanding the Basics</h2><ul><li>NNGroup‚Äôs Cheat Sheets: <a href="https://www.nngroup.com/articles/visual-design-cheat-sheet/" target="_blank" rel="noreferrer">Visual Design Terms</a> ¬∑ <a href="https://www.nngroup.com/articles/typography-terms-ux/" target="_blank" rel="noreferrer">Typography</a></li><li><a href="https://www.invisionapp.com/design-defined/" target="_blank" rel="noreferrer">Invision‚Äôs Design Terminology Glossary</a></li><li>Product Design: Expectations vs Reality: <a href="https://uxplanet.org/product-design-expectations-vs-reality-2e5b24473dc5" target="_blank" rel="noreferrer">Part I</a>  ¬∑ <a href="https://uxplanet.org/product-design-expectations-vs-reality-fc73e2ca8198" target="_blank" rel="noreferrer">Part II</a></li></ul><h2 id="üß†-principles-mental-models-and-biases">üß† Principles, Mental Models, and Biases</h2><ul><li>‚≠êÔ∏è <a href="https://dev.degreed.com/digital-product-design-principles-8bc9eb6c080c" target="_blank" rel="noreferrer">Digital Product Design Principles</a></li><li><a href="https://readymag.com/shuffle/dieter-rams/" target="_blank" rel="noreferrer">Dieter Rams: 10 Principles for Good Design</a> <!-- -->[1]</li><li><a href="https://lawsofux.com/" target="_blank" rel="noreferrer">Laws of UX</a></li><li><a href="https://uxmyths.com/" target="_blank" rel="noreferrer">UX Myths</a></li><li><a href="https://www.nngroup.com/articles/ten-usability-heuristics/" target="_blank" rel="noreferrer">10 Usability Heuristics for User Interface Design</a></li><li><a href="http://www.paulgraham.com/taste.html" target="_blank" rel="noreferrer">Taste</a></li><li><a href="https://principles.design/" target="_blank" rel="noreferrer">A Collection of Design Principles</a></li><li><a href="https://dropbox.design/article/mental-models-for-designers" target="_blank" rel="noreferrer">Mental Models for Designers</a></li><li><a href="https://growth.design/psychology/" target="_blank" rel="noreferrer">The Psychology of Design</a></li></ul><h2 id="-tutorials--challenges">üå± Tutorials &amp; Challenges</h2><ul><li>‚≠êÔ∏è <a href="https://shiftnudge.com/" target="_blank" rel="noreferrer">Shift Nudge</a></li><li><a href="https://www.dailyui.co/" target="_blank" rel="noreferrer">Daily UI Challenge</a></li><li>Figma‚Äôs <a href="https://www.figma.com/resources/learn-design/" target="_blank" rel="noreferrer">Learn Design Pilot</a></li><li><a href="https://trydesignlab.com/figma-101-course/" target="_blank" rel="noreferrer">Free 7 Day Figma 101 Email Course</a></li></ul><h2 id="-books">üìö Books</h2><ul><li>‚≠êÔ∏è <a href="https://www.amazon.com/Dont-Make-Think-Revisited-Usability/dp/0321965515" target="_blank" rel="noreferrer">Don‚Äôt Make Me Think</a></li><li><a href="https://www.amazon.com/Designing-Products-People-Love-Successful-ebook/dp/B019YN9WFW/" target="_blank" rel="noreferrer">Designing Products People Love</a></li><li><a href="https://www.amazon.com/User-Friendly-Hidden-Design-Changing-ebook/dp/B07HF2M7ZN" target="_blank" rel="noreferrer">User Friendly</a></li><li><a href="https://www.amazon.com/Hooked-How-Build-Habit-Forming-Products/dp/1591847788" target="_blank" rel="noreferrer">Hooked</a></li><li><a href="https://www.amazon.com/Design-Everyday-Things-Revised-Expanded-ebook/dp/B00E257T6C" target="_blank" rel="noreferrer">The Design of Everyday Things</a></li><li><a href="https://uxstudioteam.com/product-design-book/" target="_blank" rel="noreferrer">Product Design</a></li></ul><h2 id="-audio--video">üé• Audio &amp; Video</h2><ul><li><a href="https://www.highresolution.design/" target="_blank" rel="noreferrer">High Resolution Podcast</a></li><li><a href="https://www.amazon.com/gp/video/detail/B079N3Y4C6/ref=pd_cbs_318_2" target="_blank" rel="noreferrer">Helvetica</a></li><li><a href="https://www.imdb.com/title/tt10984548/" target="_blank" rel="noreferrer">Ian Spalter: Digital Product Design</a> (Part of Netflix‚Äôs <a href="https://www.netflix.com/title/80057883" target="_blank" rel="noreferrer">Abstract</a> Series)</li></ul><h2 id="-getting-buy-in">üíº Getting Buy In</h2><ul><li><a href="https://jenswedin.medium.com/why-invest-in-design-e4a6d745afb2" target="_blank" rel="noreferrer">Why Invest in Design?</a></li></ul><h2 id="-further-reading">üîó Further Reading</h2><p>I‚Äôm not the first person who has put a list like this together. Here are similar guides you may find helpful:</p><ul><li><a href="https://nlevin.medium.com/ux-design-recommendations-8de563c5fbfa" target="_blank" rel="noreferrer">UX Design Resources &amp; Recommendations</a></li><li><a href="https://start.uxdesign.cc/" target="_blank" rel="noreferrer">The Guide to Design</a></li><li><a href="https://www.degreeless.design/" target="_blank" rel="noreferrer">Degreeless Design</a></li></ul><hr><p>‚≠êÔ∏è Denotes my top picks</p><p>[1]<!-- --> I may or may not have a <a href="https://cln.sh/rq5Kdd" target="_blank" rel="noreferrer">picture</a> of these framed above my desk</p></div></div>]]>
            </description>
            <link>https://blog.awaxman.com/product-design-resources</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143187</guid>
            <pubDate>Mon, 15 Feb 2021 14:44:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Use Search-oriented programming (Rule: 1000)]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26143175">thread link</a>) | @nitramm
<br/>
February 15, 2021 | https://devrule.dev/r/1000-use-search-oriented-programming/ | <a href="https://web.archive.org/web/*/https://devrule.dev/r/1000-use-search-oriented-programming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<article>


<p>The idea of search-oriented programming is based on two premises:</p>
<ol>
<li>Every useful class, method, or attribute has been used at least once. If nobody is using it, do not use it either.</li>
<li>Every line in mature software has been checked by multiple people. Therefore every class, method, or variable has a descriptive and understandable name.</li>
</ol>
<h2 id="search-in-existing-code">Search In Existing Code</h2>
<p>If you know the name of the class or function you can try to <a href="https://www.google.com/search?q=wikipediaapi.Wikipedia">google it</a>. You will get most likely just a <a href="https://pypi.org/project/Wikipedia-API/">package page</a>, <a href="https://wikipedia-api.readthedocs.io/en/latest/wikipediaapi/api.html#wikipediaapi.WikipediaPage">documentation</a>, or <a href="https://stackoverflow.com/questions/34869597/wikipedia-api-for-python/47793106#47793106">Stackoverflow questions</a>. This is a good start but you can get better results if you use more specialized search engines. Specific examples will help you to learn not only about the entity itself but also about other entities that are used nearby.</p>
<h2 id="where-to-search">Where To Search</h2>
<ol>
<li>Search in your project. It is just one keyboard shortcut away and it is the best code that you can find. It has passed code review, you can find relevant pull requests, or even talk with people who have written that code. Many IDE allows you to easily find all usages of the entity.</li>
<li>Search in repositories of your organization. It could take a little bit longer and you may not be able to talk with the others of that code. On the other side, there is a greater chance that you will find something.</li>
<li>Search in communication in your company. If you have problems with figuring out how it should be used, you are for sure not the first one. Try to search in wikis, Slack, e-mails, etc.</li>
<li>Search in the source code of that project. If it is a public method, then it should be covered at least with unit tests. By finding these <a href="https://github.com/martin-majlis/Wikipedia-API/blob/master/tests/wikipedia_page_test.py#L23">tests</a>, you can learn what was the intended usage by the authors.</li>
<li>Search in open source repositories. GitHub allows you to search in their 100M+ repositories. So you will find for sure many good examples. If you compare search <a href="https://github.com/search?l=Python&amp;p=5&amp;q=wikipediaapi.Wikipedia&amp;type=Code">GitHub results</a> with initial Google results you can that it is much more useful.</li>
</ol>
<p>Another advantage of using GitHub is that you not only find the function itself and its friends, but you will also find how it is used in tests. Documentation of how to use <code>requests.Session</code> is <a href="https://requests.readthedocs.io/en/master/user/advanced/#session-objects">short</a>, but since it is a lot, you will find many <a href="https://github.com/search?q=%22requests.Session%22+import+requests+Session&amp;type=Code">examples</a>.</p>
<h2 id="guess-names">Guess Names</h2>
<p>Since the code was written by sane people and reviewed by other people, there is a very high chance that used names would be descriptive. Therefore you can always try to search for possible class or method names to see if anything useful is there.</p>
<p>If you are searching for code related to login workflow, you can try to search for string <code>login</code>. If you want to find code related to manipulation with items in a shopping cart, you can search for words like <code>cart</code>, <code>basket</code>, or <code>order</code>.</p>

</article>

</div>
</div></div>]]>
            </description>
            <link>https://devrule.dev/r/1000-use-search-oriented-programming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26143175</guid>
            <pubDate>Mon, 15 Feb 2021 14:43:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Neuromorphic Computing: How It Accelerated the Analog Revolution]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142977">thread link</a>) | @ShradhaSingh
<br/>
February 15, 2021 | https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/ | <a href="https://web.archive.org/web/*/https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-td-block-uid="tdi_81_d62"><div>
<p>In a paper published in 2019, <em>Nature</em>, artificial intelligence (AI) researchers demonstrated a self-driving bicycle navigating around different obstacles, responding to voice commands, and following a person. Although the self-driving bicycle was of little use, the underlying technology behind the concept was remarkable. These researchers powered the bicycle using a <em>neuromorphic chip</em>, a unique AI concept.</p>



<p>If you go down in history, you will get to know that the concept of <strong>neuromorphic computing</strong> is not new. This concept had been proposed in the 1980s. However, it is only now that its interest is being developed in the industry.</p>



<p>The accelerated growth of neural networks and deep learning prompted the development of AI hardware specialized at large. Owing to this, one of the growing trends is neuromorphic computing. Let us refer to a case study to showcase our advancement in this technology.</p>



<p><em>Case study:</em></p>



<p>Computer-science research was driven by Intel Labs whose focus was on third-generation AI. The research covered major areas in neuromorphic computing ‚Äì how to emulate the neural structure of the brain, probabilistic computing to further create an algorithmic approach in dealing with uncertainties or contradictions taking place in the natural world.</p>



<p>Despite the advent of this technology in the real world, organizations still faced challenges.</p>



<p>One of the major challenges includes to match the human‚Äôs flexibility with the ability to learn from unstructured stimuli equal to the amount of efficiency that is required of a human brain.</p>



<p>However, using computational building blocks within a <strong>neuromorphic computing</strong> system is logically analogous to the neuron. Therefore, running through Spiking neural networks (SNNs) could be a novel approach in arranging such elements to imitate neural networks present in the human brain.</p>



<p><em>Here‚Äôs how it works:</em></p>



<p>Each neuron present in the SNN can be processed independently √† this further sends signals to the other neurons within the network to change the electrical state of those neurons √† information gets encoded within the signals √† this is when SNNs imitate NLP by remapping the synapses in response to the stimuli.</p>



<p><strong>Neuromorphic computing leading to analog revolution</strong></p>



<p>The neuromorphic chip or neuromorphic device are physical structures representing a form of an artificial neural network. Every neuromorphic chip available composes of multiple small computing units corresponding to an artificial neuron.</p>



<p>In comparison to the CPUs, these chips cannot perform multiple operations. They can only perform a single mathematical function of a single neuron.</p>



<p>Given that, the physical connection between artificial neurons makes it more like an organic brain, it creates a formation of physically connected artificial neurons providing neuromorphic computers their core strength.</p>



<p>At its core, the human brain can function differently, some of which we‚Äôre not even aware of. But with a neuromorphic device, it can only be developed to carry out one single function. Therefore, for this device to become ‚Äòartificially intelligent‚Äô it requires to a perform task that otherwise requires intelligence (like a human being).</p>



<p>Perhaps your next question might be, can <strong><a href="https://www.artiba.org/blog/neuromorphic-computing-the-next-level-artificial-intelligence">neuromorphic computing</a></strong> function like a brain?</p>



<p>An AI algorithm undergoes an analysis as a result of the simulation which is smart until another algorithm tags along. Whereas, with a neuromorphic device, it can only function in a way that corresponds to some part of the brain. These parts could either be calculation, memory, optimization, or logic of a method.</p>



<p>You cannot specifically say that this device is qualified as an AI. This is because, with <em>intelligence</em>, these functions need to work in tandem, whereas the underlying mechanism in neuromorphic helps it mimic just a single function.</p>



<p>This is where the term <em>neuromorphism</em> steps in, which means taking the form of a brain. Although it doesn‚Äôt explain how equipped will the brain function, but it does help study the mechanism of a human brain. For instance, the kind of information to be remembered, or how many neurons need to be fired before any decision is made.</p>



<p>The point is, neuromorphic is yet to move beyond the question of whether our analysis of reasoning can be represented by the value stored in chips. It is still a long shot for <strong><a href="https://www.artiba.org/blog/the-artificial-intelligence-engineer-career-roadmap-all-you-need-to-know">artificial intelligence engineers</a></strong>. However, they might still be content in simply making a simple discovery as to why brains require less energy to maintain while producing so much information and analysis.</p>



<p>Though we‚Äôre yet to fill the bits and pieces around the technology ‚Äì it has shown quite a promising AI future.</p>



<p>Here are a few examples of recent developments in the field:</p>



<ul><li>Loihi, the fifth-generation self-learning neuromorphic learning chip designed by Intel Labs in 2017</li><li>The brain-inspired chip by TrueNorth ‚Äì IBM Labs</li><li>Brain on a chip ‚Äì MIT</li></ul>



<p><strong>The future</strong></p>



<p>By 2025, neuromorphic chips will be entrenched in every smartphone while prediction also says, the business of neuromorphic chip will rise to USD 1.78 billion.</p>



<p>Are you ready to compete with near-human levels of data perception?</p>
</div></div><div data-td-block-uid="tdi_91_209">

<div><p><a href="https://techgave.com/author/sharmaniti437/"><img alt="" src="https://secure.gravatar.com/avatar/7e5a10923d9e0721998f8aca79e0e616?s=117&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7e5a10923d9e0721998f8aca79e0e616?s=234&amp;d=mm&amp;r=g 2x" height="117" width="117"></a></p><div><p><a href="https://techgave.com/author/sharmaniti437/">sharmaniti437</a><a href=""></a></p><p>Niti Sharma is a professional writer, a blogger who writes for a variety of online publications. She is also an acclaimed blogger outreach expert and content marketer. She loves writing blogs and promoting websites related to the education and technology sectors.</p></div></div></div></div>]]>
            </description>
            <link>https://techgave.com/neuromorphic-computing-how-it-accelerated-the-analog-revolution/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142977</guid>
            <pubDate>Mon, 15 Feb 2021 14:24:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Alien-Haunted World]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 17 (<a href="https://news.ycombinator.com/item?id=26142795">thread link</a>) | @CapitalistCartr
<br/>
February 15, 2021 | http://m.nautil.us/blog/the-alien_haunted-world | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/the-alien_haunted-world">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18165_825ab77fe4eb3419db2fc9c6ceff7146.jpg" width="733" alt=""><figcaption><span><i>To shield one‚Äôs pet hypothesis of an alien object by suggesting that it is not being taken seriously because of a flaw in how we do science is playing a disingenuous game with the facts.</i></span><span>Illustration by ktsdesign / Shutterstock</span></figcaption></figure><p><span>D</span>id you know that there are many scientists who devote their working lives to skillfully charting out the most unassuming chunks of our solar system‚Äîchunks that none of our species will likely never see up close? Chunks that, individually, are mere specks in the cloud of millions of such primordial planetary leftovers circling our sun. Or, are you aware that there are those who spend day after day wrestling with how to measure and decode the extraordinary orbital dances of unreachable exoplanets, or to detect and interpret the delicate spectra revealing the composition of alien atmospheres tens of trillions of miles away?</p><p>If not them, then what about those who have, for decades, tackled some of the most daunting questions about the phenomenon we call life itself, including how it began here on Earth billions of years ago, and how it might have begun anywhere else in the cosmos? And can you recall that there are devoted and talented scientists who pursue the exquisite possibility that somewhere there are alien minds sending out structured, information-rich signals, or repurposing their environments in ways that we‚Äîother scraps of thinking life‚Äîmight just be able to spot across the gaping void of interstellar space?</p><blockquote><p>Aliens may be out there. And we are looking for them.</p> </blockquote><p>If you could say yes to any of these questions, well done. You are a well-informed citizen of planet Earth, aware of humanity‚Äôs ongoing efforts to make sense of the nature of reality. If, on the other hand, you couldn‚Äôt respond in the affirmative then perhaps you wouldn‚Äôt blink an eye at newspaper articles or TV headlines asking why (oh why?!) scientists won‚Äôt take the task of ‚Äúlooking for aliens‚Äù more seriously? Or articles harrumphing about how conservative science is when it comes to ‚Äúthinking out of the box,‚Äù especially if the topic is one that‚Äôs been abused so many times over literally centuries that researchers now have little choice but to apply extreme care and caution.<br></p><p>I am, if you are not up on your science news at the moment, referring to a recent flurry of words and opinions that have been, in part, triggered by the publication of the book <i>Extraterrestrial</i> by the theoretical astrophysicist Avi Loeb, in which he attempts to make a case that a recent interstellar object passing through our solar system (<a href="https://nautil.us/blog/how-oumuamua-got-shredded" target="_blank">the ‚ÄòOumuamua object</a>) could have been a piece of technology, conceivably even a tumbling light sail from an alien spacecraft, rather than a piece of frozen rock and gas. Loeb also writes about how science can be overly conservative at times‚Äîaiming his complaints in particular on the reticence to elevate the question of alien life to a more prominent place in our hypotheses about what we see in the universe around us.</p><p>But you need only to have spent a little time recently in the hallways of scientific Zoom calls or on social media to see unhappiness being expressed by many researchers about all of this. That unhappiness reaches a red-hot level any time a new opinion piece gets published that picks up this particular thread. Most recently (at least as I write this), is the appearance in <i>The New York Times</i> of an <a href="https://www.nytimes.com/2021/02/11/opinion/aliens-extraterrestrial-life.html" target="_blank">opinion article</a> with the title ‚ÄúAliens Must Be Out There: Why aren‚Äôt we looking for them?‚Äù, written by the columnist Farhad Manjoo. I think it‚Äôs fair to say that the tone of the headline, erroneously suggesting that alien life exists because we think it must and that we‚Äôre not paying attention, reflects much of the thrust of the content. Reaching an apex of sorts when the piece uses Loeb‚Äôs thoughts on the matter to admonish science, and science-funding agencies, for their ‚Äúclosed-mindedness‚Äù and ‚Äúreflexive skepticism‚Äù when it comes to considering exotic (yes, alien) stuff in the mix for explaining new or unexpected cosmic phenomena.&nbsp;</p><p>What is so incredibly disappointing for a scientist like myself, and for so many of my colleagues across related disciplines‚Äîfrom astronomy to planetary science, to astrobiology‚Äîis that there are no other voices represented in this kind of writing. No snippets or quotes from the hundreds of scientists who are the world‚Äôs experts on matters like ‚ÄòOumuamua, or other extraterrestrial objects, from asteroids to comets to (yes) interstellar chunks, or the Search for Extraterrestrial Intelligence (SETI), or exoplanets, or indeed the very same quest for so-called technosignatures that is fleetingly mentioned. And this one article is by no means alone in that strange incompleteness, where ‚Äúdue diligence‚Äù seems to have gone out the window.</p><p>In reality there are people who do think about all of these scientific questions, week after week. They dig through mountains of data, and sweat blood over understanding the delicate nature of astronomical measurements and instrumentation. They build spacecraft to go to other worlds, as well as asteroids and comets, funded by national agencies like NASA, ESA, JAXA, CNSA, and more. These people are eager and driven, motivated by precisely these same extraterrestrial conundrums: Are we alone? Where do we, or any other life, come from?</p><p>These scientists, including those like the remarkable Jill Tarter‚Äîone of the driving forces and voices behind SETI for the past 40 years‚Äîhave pushed their instruments and skills to the absolute limits in the quest for evidence of extraterrestrial life. Often in the face of intense skepticism. Despite this effort, there has been no evidence to date of extraterrestrial life. But that lack of evidence is not because the scientific enterprise is uniformly conservative, rigid, and close-minded, as implied by Loeb and uncritically echoed by some columnists. It‚Äôs because no discovery or event has risen to the level where it is inexplicable in any other way. Could greater funding and support change that story? Perhaps, but the same could be said for almost any other ambitious scientific enterprise, and the answer cannot be known beforehand.</p><p>A proposal that a phenomenon like ‚ÄòOumuamua is an alien artifact is certainly going to meet push-back. But that push-back is well founded. It results from the extensive work of scientific experts on precisely this kind of interstellar visitor. Our models of star and planet formation have long hypothesized the existence of leftover pieces of solid material (planetesimals) that could spend eons moving across interstellar space. They have outlined how an interloper like ‚ÄòOumuamua would be a stunning discovery. But it would be a stunning discovery reflecting natural processes; reservoirs of these planetesimals‚Äîalready suggested by the hazy light seen around certain other stars‚Äîthat can be ejected and scattered across interstellar space in numbers that may be perfectly consistent with the chances of our solar system being visited by one. This is precisely why an agency like ESA is developing its <a href="https://www.cometinterceptor.space/" target="_blank">Comet Interceptor Mission</a>, to be ready to chase future interstellar visitors.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>‚ÄòOumuamua certainly had puzzling characteristics. It was small for an interstellar comet, it was elongated and, despite being barely caught by our best telescopes and nimblest astronomers as it wended its tumbling way back out of the solar system, it exhibited an ethereal acceleration away from the Sun. But even these puzzles are explicable by known processes and are not wildly inconsistent with the properties of other cometary-like objects. Indeed, a number of comparatively straightforward, testable, explanations seem compatible, <a href="https://www.hou.usra.edu/meetings/lpsc2021/pdf/1718.pdf" target="_blank">including the possibility</a> that the object was a frozen nitrogen ‚Äúiceberg,‚Äù a chip off the block of some distant Pluto-like world.&nbsp;</p><p>In light of all of this rigorous insight, to shield one‚Äôs pet hypothesis of an alien object by suggesting that it is not being taken seriously because of a flaw in how we do science is playing a disingenuous game with the facts. As is to suggest that this is actually in aid of raising support for the search for extraterrestrial life. For that to be uncritically echoed elsewhere is truly unfortunate.</p><p>As in any human intellectual endeavor, there are many voices, many insights. It‚Äôs too bad that not all insights get the same kind of airtime. If they did, we‚Äôd be hearing so much more about the extraordinary ongoing scientific efforts‚Äîboth institutional and personal‚Äîto open up our minds, to explore new worlds, and perhaps discover new life. Are we all carrying out these efforts perfectly? No. Scientific conservatism is present. But so too is a clear memory of the many times where enthusiasm for a provocative idea about alien life has given way to disappointment‚Äîfrom fossils in Martian meteorites to arsenic-laced microbes. Fingers have been burnt before in the quest to find clues to life in the universe.&nbsp;</p><p>They weren‚Äôt burned because of misplaced skepticism though. A wide range of scientists did their own due diligence: scrutinizing a hypothesis, gathering more data, weighing the evidence and building their confidence in a conclusion. Science denialism has cursed many cultures in recent years. Thankfully it looks to be receding somewhat. But being blind to how science works and what it‚Äôs doing is also a form of denialism. Aliens may be out there. And we are looking for them.</p><p><i>Caleb Scharf is an astrophysicist and the director of astrobiology at Columbia University in New York. His latest book is&nbsp;</i>The Ascent of Information: Books, Bits, Genes, Machines, and Life‚Äôs Unending Algorithm<i>, coming in June 2021.&nbsp;Follow him on Twitter @caleb_scharf.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/the-alien_haunted-world</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142795</guid>
            <pubDate>Mon, 15 Feb 2021 13:59:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Qt for MCUs 1.7 Released]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142588">thread link</a>) | @Nokinside
<br/>
February 15, 2021 | https://www.qt.io/blog/qt-for-mcus-1.7-released | <a href="https://web.archive.org/web/*/https://www.qt.io/blog/qt-for-mcus-1.7-released">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            

                            <p>
                                Monday February 15, 2021 by <a href="https://www.qt.io/blog/author/yoann-lopes">Yoann Lopes</a> | <a href="#commento">Comments</a>
                            </p>
                            
                            <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>The first Qt for MCUs release of 2021 is out! Download it to get the latest features and create ever lighter yet impressive-looking Qt applications for microcontroller-powered devices.</p>
<!--more-->
<p>Newcomers can get a <a href="https://www.qt.io/download" rel="noopener" target="_blank">free evaluation here</a>, while others can run the Qt Installer to update to the latest version.</p>
<p>The full list of changes included in version 1.7 can be found in the <a href="https://doc.qt.io/QtForMCUs/qtul-changes.html" rel="noopener" target="_blank">changelog</a> in the online documentation. Continue reading for more information on the content of this release.</p>
<h4><span>Multiscreen support</span></h4>
<p><span>The <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-application.html" rel="noopener" target="_blank">Application</a> and <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-screen.html" rel="noopener" target="_blank">Screen </a>QML types have been added to enable driving multiple display outputs from the same Qt for MCUs application. Note that the <a href="https://doc.qt.io/QtForMCUs/platform-porting-guide-screen.html" rel="noopener" target="_blank">platform port</a> must be adapted to expose the different screens to the Qt Quick Ultralite engine.</span></p>
<p><span>More details on these APIs can be found in the <a href="https://doc.qt.io/QtForMCUs/quickultralite-multiscreen-example.html" rel="noopener" target="_blank">multiscreen example</a>.</span></p>
<h4>Hardware layer support</h4>
<p>New QML APIs have been added to give you more control over the way graphics are being processed by the hardware. By slicing up your graphical user interface into multiple layers with different characteristics (e.g., color depth, refresh interval), you can optimize the CPU, GPU, and memory usage of your application.&nbsp;</p>
<p>Let's take the screen below as an example:</p>
<p><img src="https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=525&amp;name=layers.png" alt="MCU Development" width="525" srcset="https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=263&amp;name=layers.png 263w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=525&amp;name=layers.png 525w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=788&amp;name=layers.png 788w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1050&amp;name=layers.png 1050w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1313&amp;name=layers.png 1313w, https://www.qt.io/hs-fs/hubfs/_Website_Blog/Upload_Here/layers.png?width=1575&amp;name=layers.png 1575w" sizes="(max-width: 525px) 100vw, 525px"></p>
<ul>
<li>The background layer (white border) is made of a single fullscreen static image. The <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-imagelayer.html" rel="noopener" target="_blank">ImageLayer </a>type can be used in this case; the image is copied directly to the screen from a static storage location (flash memory), without ever being copied to an intermediate framebuffer in RAM.</li>
<li>The blue and red rectangles represent three areas with dynamic content made up of different QML components . These areas are contained in <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-itemlayer.html" rel="noopener" target="_blank">ItemLayers</a>, each can be configured to have a different bit depth and refresh interval in order to optimize framebuffer size and CPU/GPU load. Note that because these areas are not overlapping and do not fill the entire screen, the amount of RAM used for framebuffers is significantly smaller than if layers had not been used.</li>
<li>The yellow rectangle is the top layer. Similarly to the background layer, it is made of static images and a framebuffer is not needed for this area. Because platforms have limitations on the number of root layers an application can have, a <a href="https://doc.qt.io/QtForMCUs/qml-qtquickultralite-layers-spritelayer.html" rel="noopener" target="_blank">SpriteLayer </a>is used to contain the different ImageLayers, which then become sublayers.</li>
</ul>
<p>When GUIs are designed and organized in such a way, framebuffer requirements can be significantly reduced, while ensuring top-priority layers are smoothly animated by <span>reducing the frame rate of lower-priority layers.</span></p>
<p><span>You can read more about performance optimization using layers in this <a href="https://doc.qt.io/QtForMCUs/qtul-improving-performance-with-hardware-layers.html" rel="noopener" target="_blank">documentation page</a>, and </span>find a <a href="https://doc.qt.io/QtForMCUs/quickultralite-layers-example.html" rel="noopener" target="_blank">complete example</a> in the <em>examples/layers&nbsp;</em>directory of the Qt for MCUs SDK.</p>
<p>In 1.7, layer APIs are implemented for Renesas RH850-D1M1A and for desktop (for development and testing purposes). More reference platforms, starting with the automotive ones, will include layer support in upcoming releases.</p>
<h4><span>Perspective transformations on 2D objects AKA 2.5D or pseudo-3D</span></h4>
<p><span>For those not familiar with the term, 2.5D refers to the use of graphical projections to make two-dimensional objects appear as three-dimensional. With Qt Quick Ultralite, this can be achieved by applying a <a href="https://doc.qt.io/QtForMCUs/qml-qtquick-matrix4x4.html" rel="noopener" target="_blank">Matrix4x4 </a>transform to Image, Text, or StaticText elements.</span></p>
<p><span>To get an idea of what type of user interface you can build using this technique, have a look at the video below:</span></p>

<p><img src="https://play.vidyard.com/WeyfH8azeigAy2e2uLtsPb.jpg" width="476" height="284" alt="ezgif.com-gif-maker" data-uuid="WeyfH8azeigAy2e2uLtsPb" data-v="4" data-width="476" data-height="284" data-viral_sharing="0" data-embed_button="0" data-hide_playlist="1" data-color="FFFFFF" data-playlist_color="FFFFFF" data-play_button_color="2A2A2A" data-gdpr_enabled="1" data-type="inline" data-autoplay="1" data-loop="0" data-muted="0" data-hidden_controls="0" data-pomo="2">

</p>



<p><span>The source code of this example is <a href="https://doc.qt.io/QtForMCUs/quickultralite-perspective-transforms-example.html" rel="noopener" target="_blank">included in the SDK</a> under the <span>examples/perspective_transforms</span> directory.</span></p>
<h4><span>Dynamic font property changes</span></h4>
<p><span>Usage of different font configurations is now more flexible and powerful with the possibility to dynamically change font properties such as size, family or style on any Text element at runtime. This can be used for example to associate different font configurations to different UI themes using QML bindings. Read more about all the quirks of font bindings in this <a href="https://doc.qt.io/QtForMCUs/qtul-fonts.html#bindings" rel="noopener" target="_blank">documentation page</a>.</span></p>
<h4><span>Coming next</span></h4>
<p><span>The next release is planned for April and will introduce new MCU platforms and more options to reduce RAM footprint. Stay tuned for more information.</span></p></span></p>
                            
                            
                                <hr>
                          
                                <h6>Blog Topics:</h6>        
                                
                            


                        </div></div>]]>
            </description>
            <link>https://www.qt.io/blog/qt-for-mcus-1.7-released</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142588</guid>
            <pubDate>Mon, 15 Feb 2021 13:36:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Improved Thread with C++20]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 56 (<a href="https://news.ycombinator.com/item?id=26142257">thread link</a>) | @ibobev
<br/>
February 15, 2021 | http://modernescpp.com/index.php/an-improved-thread-with-c-20 | <a href="https://web.archive.org/web/*/http://modernescpp.com/index.php/an-improved-thread-with-c-20">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="blogContent">
				<p><code>std::jthread</code> stands for joining thread. In addition to <code>std::thread</code> (C++11),<code> std::jthread</code> automatically joins in its destructor and can cooperatively be interrupted. Read in this post to know why <code>std::jthread</code> should be your first choice.</p>

<p>&nbsp;<img src="http://modernescpp.com/images/blog/Cpp20/jthread/TimelineCpp20.png" alt="TimelineCpp20" width="650" height="227"></p>
<p>The following table gives you a concise overview of the functionality of <code>std::jthread</code>.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/jthread.png" alt="jthread" width="650" height="572"></p>

<p>For additional details, please refer to <a href="https://en.cppreference.com/w/cpp/thread/jthread">cppreference.com</a>. When you want to read more post about <code>std::thread</code>, here are they: <a href="http://modernescpp.com/index.php/der-einstieg-in-modernes-c#h1-2-the-threading-interface">my post about std::thread.</a></p>
<p>First, why do we need an improved thread in C++20? Here is the first reason.</p>
<h2 id="h1-automatically-joining">Automatically Joining</h2>
<p>This is the <strong>non-intuitive</strong> behavior of <code>std::thread</code>. If a <code>std::thread</code> is still joinable, <a href="https://en.cppreference.com/w/cpp/error/terminate">std::terminate</a> is called in its destructor. A thread<code> thr</code> is joinable if neither <code>thr.join()</code> nor <code>thr.detach()</code> was called. Let me show, what that means.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// threadJoinable.cpp</span>

<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>boolalpha;
    
    std<span>::</span><span>thread</span> thr{[]{ std<span>::</span>cout <span>&lt;&lt;</span> <span>"Joinable std::thread"</span> <span>&lt;&lt;</span> <span>'\n'</span>; }};
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>"thr.joinable(): "</span> <span>&lt;&lt;</span> thr.joinable() <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>When executed, the program terminates when the local object <code>thr</code> goes out of scope.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/threadJoinable.png" alt="threadJoinable" width="500" height="279"></p>
<p>Both executions of<code> std::thread</code> terminate. In the second run, the thread <code>thr</code> has enough time to display its message:&nbsp;<code>Joinable std::thread</code>.</p>
<p>In the next example, I use <code>std::jthread</code> from the C++20 standard.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// jthreadJoinable.cpp</span>

<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cout <span>&lt;&lt;</span> std<span>::</span>boolalpha;
    
    std<span>::</span>jthread thr{[]{ std<span>::</span>cout <span>&lt;&lt;</span> <span>"Joinable std::thread"</span> <span>&lt;&lt;</span> <span>'\n'</span>; }};
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>"thr.joinable(): "</span> <span>&lt;&lt;</span> thr.joinable() <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>Now, the thread<code> thr</code> automatically joins in its destructor if it's still joinable such as in this case.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/jthreadJoinable.png" alt="jthreadJoinable" width="350" height="177"></p>
<p>But this is not all that<code> std::jthread</code>&nbsp; provides additionally to <code>std::thread</code>. A <code>std::jthread</code> can be cooperatively interrupted. I already presented the general ideas of cooperative interruption in my last post: <a href="http://modernescpp.com/index.php/cooperative-interruption-of-a-thread-in-c-20">Cooperative Interruption of a Thread in C++20</a>.</p>
<h2 id="h2-cooperative-interruption-of-a-std-jthread">Cooperative Interruption of a<code> std::jthread</code></h2>
<p>To get a general idea, let me present a simple example.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// interruptJthread.cpp</span>

<span>#include &lt;chrono&gt;</span>
<span>#include &lt;iostream&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>using</span> <span>namespace</span><span>::</span>std<span>::</span>literals;

<span>int</span> <span>main</span>() {
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
    std<span>::</span>jthread nonInterruptable([]{                           <span>// (1)</span>
        <span>int</span> counter{<span>0</span>};
        <span>while</span> (counter <span>&lt;</span> <span>10</span>){
            std<span>::</span>this_thread<span>::</span>sleep_for(<span>0.2</span>s);
            std<span>::</span>cerr <span>&lt;&lt;</span> <span>"nonInterruptable: "</span> <span>&lt;&lt;</span> counter <span>&lt;&lt;</span> <span>'\n'</span>; 
            <span>++</span>counter;
        }
    });
    
    std<span>::</span>jthread interruptable([](std<span>::</span>stop_token stoken){     <span>// (2)</span>
        <span>int</span> counter{<span>0</span>};
        <span>while</span> (counter <span>&lt;</span> <span>10</span>){
            std<span>::</span>this_thread<span>::</span>sleep_for(<span>0.2</span>s);
            <span>if</span> (stoken.stop_requested()) <span>return</span>;               <span>// (3)</span>
            std<span>::</span>cerr <span>&lt;&lt;</span> <span>"interruptable: "</span> <span>&lt;&lt;</span> counter <span>&lt;&lt;</span> <span>'\n'</span>; 
            <span>++</span>counter;
        }
    });
    
    std<span>::</span>this_thread<span>::</span>sleep_for(<span>1</span>s);
    
    std<span>::</span>cerr <span>&lt;&lt;</span> <span>'\n'</span>;
    std<span>::</span>cerr <span>&lt;&lt;</span> <span>"Main thread interrupts both jthreads"</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    nonInterruptable.request_stop();
    interruptable.request_stop();                              <span>// (4)</span>
    
    std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
    
}
</pre>
</div>

<p>In the main program, I start the two threads <code>nonInterruptable</code> and interruptable (lines 1)and 2). Unlike in the thread <code>nonInterruptable</code> , the thread <code>interruptable</code> gets a <code>std::stop_token</code> and uses it in line (3) to check if it was interrupted: <code>stoken.stop_requested()</code>. In case of a stop request, the lambda function returns, and, therefore, the thread ends. The call <code>interruptable.request_stop()</code> (line 4) triggers the stop request. This does not hold for the previous call <code>nonInterruptable.request_stop()</code> . The call has no effect.</p>
<p><img src="http://modernescpp.com/images/blog/Cpp20/jthread/interruptJthread.png" alt="interruptJthread" width="400" height="382"></p>
<p>To make my post complete, with C++20, you can also cooperatively interrupt a condition variable.</p>
<h2 id="h3-new-wait-overloads-for-std-condition-variable-any">New wait Overloads for <code>std::condition_variable_any</code></h2>
<p>Before I write about <code>std::condition_variable_any</code>, here are my post about <a href="http://modernescpp.com/index.php/tag/condition-variable">condition variables</a>.&nbsp;</p>
<p>The three wait variations <code>wait, wait_for</code>, and<code> wait_until</code> of the std::condition_variable_any get new overloads. These overloads take a <code>std::stop_token</code>.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>template</span> <span>&lt;</span><span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait(Lock<span>&amp;</span> lock,  
          stop_token stoken,
          Predicate pred);

<span>template</span> <span>&lt;</span><span>class</span> <span>Rep</span>, <span>class</span> <span>Period</span>, <span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait_for(Lock<span>&amp;</span> lock, 
              stop_token stoken, 
              <span>const</span> chrono<span>::</span>duration<span>&lt;</span>Rep, Period<span>&gt;&amp;</span> rel_time, 
              Predicate pred);
                
<span>template</span> <span>&lt;</span><span>class</span> <span>Clock</span>, <span>class</span> <span>Duration</span>, <span>class</span> <span>Predicate</span><span>&gt;</span>
<span>bool</span> wait_until(Lock<span>&amp;</span> lock, 
                stop_token stoken,
                <span>const</span> chrono<span>::</span>time_point<span>&lt;</span>Clock, Duration<span>&gt;&amp;</span> abs_time, 
                Predicate pred);
</pre>
</div>

<p>These new overloads need a predicate. The presented versions ensure to get notified if a stop request for the passed <code>std::stop_token stoken</code> is signaled. They return a boolean that indicates whether the predicate evaluates to <code>true</code>. This returned boolean is independent of whether a stop was requested or of whether the timeout was triggered.</p>
<p>After the wait calls, you can check if a stop request occurred.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre>cv.wait(lock, stoken, predicate);
<span>if</span> (stoken.stop_requested()){
    <span>// interrupt occurred</span>
}
</pre>
</div>

<p>The following example shows the usage of a condition variable with a stop request.</p>
<!-- HTML generated using hilite.me -->
<div>
<pre><span>// conditionVariableAny.cpp</span>

<span>#include &lt;condition_variable&gt;</span>
<span>#include &lt;thread&gt;</span>
<span>#include &lt;iostream&gt;</span>
<span>#include &lt;chrono&gt;</span>
<span>#include &lt;mutex&gt;</span>
<span>#include &lt;thread&gt;</span>

<span>using</span> <span>namespace</span> std<span>::</span>literals;

std<span>::</span>mutex mutex_;
std<span>::</span>condition_variable_any condVar;

<span>bool</span> dataReady;

<span>void</span> <span>receiver</span>(std<span>::</span>stop_token stopToken) {                 <span>// (1)</span>

    std<span>::</span>cout <span>&lt;&lt;</span> <span>"Waiting"</span> <span>&lt;&lt;</span> <span>'\n'</span>;

    std<span>::</span>unique_lock<span>&lt;</span>std<span>::</span>mutex<span>&gt;</span> lck(mutex_);
    <span>bool</span> ret <span>=</span> condVar.wait(lck, stopToken, []{<span>return</span> dataReady;});
    <span>if</span> (ret){
        std<span>::</span>cout <span>&lt;&lt;</span> <span>"Notification received: "</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    }
    <span>else</span>{
         std<span>::</span>cout <span>&lt;&lt;</span> <span>"Stop request received"</span> <span>&lt;&lt;</span> <span>'\n'</span>;
    }
}

<span>void</span> <span>sender</span>() {                                            <span>// (2)</span>

    std<span>::</span>this_thread<span>::</span>sleep_for(<span>5</span>ms);
    {
        std<span>::</span>lock_guard<span>&lt;</span>std<span>::</span>mutex<span>&gt;</span> lck(mutex_);
        dataReady <span>=</span> <span>true</span>;
        std<span>::</span>cout <span>&lt;&lt;</span> <span>"Send notification"</span>  <span>&lt;&lt;</span> <span>'\n'</span>;
    }
    condVar.notify_one();                                  <span>// (3)</span>

}

<span>int</span> <span>main</span>(){

  std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;

  std<span>::</span>jthread t1(receiver);
  std<span>::</span>jthread t2(sender);
  
  t1.request_stop();                                       <span>// (4)</span>

  t1.join();
  t2.join();

  std<span>::</span>cout <span>&lt;&lt;</span> <span>'\n'</span>;
  
}
</pre>
</div>

<p>The receiver thread (line 1) is waiting for the notification of the sender thread (line 2). Before the sender thread sends its notification (line 3), the main thread triggered a stop request in<br>line (4). The output of the program shows that the stop request happened before the notification.</p>
<h2><img src="http://modernescpp.com/images/blog/Cpp20/jthread/conditionVariableAny.png" alt="conditionVariableAny" width="281" height="113"></h2>
<h2 id="h4-what-s-next">What's next?</h2>
<p>What happens when your write without synchronization to <code>std::cout</code>? You get a mess. Thanks to C++20, we have synchronized output streams.</p>
<div>
	<p><strong>Thanks a lot to my <a href="https://www.patreon.com/rainer_grimm">Patreon Supporters</a></strong><strong>: Matt Braun, Roman Postanciuc, Tobias Zindl, Marko, </strong><span title="Emyr Williams"><strong>G Prvulovic, Reinhold Dr√∂ge, Abernitzke,</strong> </span><strong><span title="Emyr Williams">Frank Grimm</span></strong><span title="Emyr Williams"><strong>, Sakib, Broeserl, </strong></span><strong><span title="Emyr Williams">Ant√≥nio Pina, Darshan Mody, Sergey Agafyin, <span data-tag="user-details-full-name">–ê–Ω–¥—Ä–µ–π –ë—É—Ä–º–∏—Å—Ç—Ä–æ–≤, Jake, GS, Lawton Shoemake, Animus24, Jozo Leko, John Breland, espkk, Wolfgang G√§rtner</span></span><span title="Emyr Williams"><span><span></span></span></span>,&nbsp; Louis St-Amour, Stephan Roslen, Venkat Nandam, Jose Francisco, Douglas Tinkham, Kuchlong Kuchlong, Avi Kohn, Robert Blanch, Truels Wissneth, Kris Kafka, Mario Luoni, Neil Wang, Friedrich Huber, lennonli, Pramod Tikare Muralidhara, Peter Ware, and Tobi Heideman.<br></strong></p>

<p><strong>Thanks in particular to Jon Hess, Lakshman,</strong> <strong>Christian Wittenhorst, Sherhy Pyton, Dendi Suhubdy, Sudhakar Belagurusamy, and Richard Sargeant.<br></strong></p>
<p>My special thanks to <a href="https://www.embarcadero.com/de/products/cbuilder">Embarcadero</a> <a href="https://www.embarcadero.com/products/cbuilder"><img src="http://modernescpp.com/images/Embarcadero/CBUIDER_STUDIO_FINAL_ICONS_1024_Small.png" alt="CBUIDER STUDIO FINAL ICONS 1024 Small" width="100" height="100"></a></p>

<h2>Seminars</h2>
<p>I'm happy to give online-seminars or face-to-face seminars world-wide. Please call me if you have any questions.</p>
<h3>Bookable (Online)</h3>
<h4>Deutsch</h4>
<ul>
<li><a href="https://www.modernescpp.de/index.php/c/2-c/30-embedded-programmierung-mit-modernem-c20210126195655">Embedded Programmierung mit modernem C++: </a>12.04.2021 - 14.04.2021 (9:00 - 17:00 CEST)</li>
<li><a href="https://www.modernescpp.de/index.php/c/2-c/31-clean-code-mit-modernem-c">Clean Code mit modernem C++: </a>22.06.2021 - 24.06.2021 (9:00 - 17:00 CEST)</li>
</ul>
<h4>English</h4>
<ul>
<li>Workshop: <a href="https://www.modernescpp.net/index.php/c/2-c/32-workshop-concepts-in-c-20">Concepts in C++20</a>: 22.03.2021 (17:00 - 21:00 CET)</li>
<li>Workshop: <a href="https://www.modernescpp.net/index.php/c/2-c/33-workshop-coroutines-in-c-20">Coroutines in C++20</a>: 06.04.2021 (17:00 - 21:00 CEST)</li>
</ul>
<h3>Standard Seminars&nbsp;</h3>
<p>Here is a compilation of my standard seminars. These seminars are only meant to give you a first orientation.</p>
<ul>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/22">C++ - The Core Language</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/23">C++ - The Standard Library</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/23">C++ - Compact</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/18">C++11 and C++14</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/19">Concurrency with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/21">Design Patterns and Architecture Patterns with C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/17">Embedded Programming with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/17">Generic Programming (Templates) with C++</a></li>
</ul>
<h4>New</h4>
<ul>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/16">Clean Code with Modern C++</a></li>
<li><a href="https://www.modernescpp.net/index.php/c/plan/2-c/25">C++20</a></li>
</ul>
<h3>Contact Me</h3>
<ul>
<li>Tel.: +49 7472 917441</li>
<li>Mobil: +49 152 31965939</li>
<li>Mail: <a href="http://modernescpp.com/%3Ca%20href="><span id="cloak0b7aeba8d690c74528ddd6dcd056d553">This email address is being protected from spambots. You need JavaScript enabled to view it.</span></a></li>
<li>German Seminar Page: <a href="https://www.modernescpp.de/">www.ModernesCpp.de</a></li>
<li>English Seminar Page: <a href="http://www.modernescpp.net/">www.ModernesCpp.net</a></li>
</ul>
<h3>Modernes C++,</h3>
<p><img src="http://modernescpp.com/images/signatur/RainerGrimmSmall.png" alt="RainerGrimmSmall"></p>
</div>


			</div></div>]]>
            </description>
            <link>http://modernescpp.com/index.php/an-improved-thread-with-c-20</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142257</guid>
            <pubDate>Mon, 15 Feb 2021 12:55:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Why of Technology]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142126">thread link</a>) | @mpereira
<br/>
February 15, 2021 | https://www.murilopereira.com/the-why-of-technology/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/the-why-of-technology/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><figure><img src="https://www.murilopereira.com/man_on_a_bicycle.jpg"></figure><blockquote><p>I think one of the things that really separates us from the high primates
is that we‚Äôre tool builders. I read a study that measured the efficiency of
locomotion for various species on the planet. The condor used the least
energy to move a kilometer. Humans came in with a rather unimpressive
showing about a third of the way down the list. It was not too proud a
showing for the crown of creation. So, that didn‚Äôt look so good.</p><p>But then, somebody at Scientific American had the insight to test the
efficiency of locomotion for a man on a bicycle. And, a man on a bicycle, a
human on a bicycle, blew the condor away, completely off the top of the
charts.</p><p>And that‚Äôs what a computer is to me. What a computer is to me is it‚Äôs the
most remarkable tool that we‚Äôve ever come up with.</p><p>It‚Äôs the equivalent of a bicycle for our minds.</p><p>‚Äî <a href="https://www.youtube.com/watch?v=0lvMgMrNDlg&amp;feature=youtu.be&amp;t=322">Steve Jobs (1980)</a></p></blockquote><p>* * *</p><p><a href="https://www.it-hiroshima.ac.jp/institution/library/pdf/research52%5F007-013.pdf">No one knows</a> when or how we, the human species, started talking to each
other. It is likely a natural progression from gesturing, but we can only
speculate about it.</p><p>Language allowed us to break out of our brains and reveal the inner
workings of our consciousness to others.</p><figure><img src="https://www.murilopereira.com/language_speech.jpg" alt="Figure 2: Scott H. Young"><figcaption><p>Figure 2: <a href="https://www.scotthyoung.com/blog/2018/12/04/25-thinking-tools/">Scott H. Young</a></p></figcaption></figure><p>Language is the vessel that carried us from the stone age through the
agricultural revolution, the development of written language, the
scientific and industrial revolutions, and now, the digital age.</p><p>Writing allowed us to <em>offload</em> memories to the physical world‚Äîoutside of
our brains. Through our collective and external memories, each generation
has a head start on the previous one. Little by little, standing on the
shoulders of taller and taller giants, we accumulate knowledge about
ourselves and everything around us.</p><p>We‚Äôve been for long using tools to help us think: notebooks help us
calculate formulas, reason geometrically and preserve our ideas. With
computers, our <em>thinking</em> is now occurring outside of our brains.</p><p>Computers are extensions of our minds in that they allow us to store,
process, and retrieve information from them. With the advent of the
internet we now have immediate access to not only almost all of the
information ever produced by humankind but also to reproducible <em>thinking</em>
encoded into these machines: algorithms.</p><p>Our brain is still a much more impressive device than any of today's
computers. Computers learn
<a href="https://www.davidsilver.uk/wp-content/uploads/2020/03/nfsp-1.pdf">mostly</a>
by finding patterns in massive
quantities of examples given by us. Teaching a young kid about cars‚Äîhow
to recognize one, what they are, what their purpose is, and how they're
related to other things‚Äîrequires little supervision. Noam Chomsky talks
about it in
<a href="https://www.youtube.com/watch?v=hdUbIlwHRkY&amp;t=1462">this interview</a>.</p><p>Each of these processes‚Äîstoring, processing and retrieving
information‚Äîhave concrete effects on the physical world: if I‚Äôm in
Munich, saying ‚Äúshow route to Hamburg‚Äù to my phone will immediately show me
the distance, ETAs and paths for different types of transport to reach my
destination. Not only do I now suddenly know how to navigate across the
country to reach another city, I‚Äôm also able to follow through the exact
path via GPS‚Äîa sixth sense giving me perfect geolocation!</p><p>These <em>things</em> that we created‚Äîcomputers, and the internet‚Äîare literally
<a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6502424/">rewiring our brains</a>, right now, shaping how we think, and engage in social
relationships, changing not only our individual selves but the societies we
live in.</p><p>They started as mechanical machines that filled entire laboratories, turned
into beige boxes in our homes and places of work, and are now sleek slabs
of plastic, metal and glass in everyone‚Äôs pockets. Step by step they get
closer to our bodies, their interfaces more intuitive and natural.</p><p>The way we communicate with them is changing: before, we could only
interact with them by speaking their language. We have now taught them
ours. The torch of progress blazes on: it‚Äôs a matter of <em>time</em> until they‚Äôre
connected directly with our brains‚Äîwhich is equally terrifying and
awe-inspiring.</p><figure><img src="https://www.murilopereira.com/neuralink.jpg" alt="Figure 3: Neuralink"><figcaption><p>Figure 3: <a href="https://neuralink.com/">Neuralink</a></p></figcaption></figure><p>Brain-computer interfaces present a monumental scientific and engineering
challenge, and brain-to-brain, a whole other category of difficulty.</p><p>First, we have no idea how information is encoded in the brain. That needs
to be understood. Second, even assuming we‚Äôre able to take a perfect
snapshot of a piece of information in someone‚Äôs brain‚Äîfor example, how a
particular movie scene makes them feel‚Äîwe still need to be able to encode
it in a way that includes the full context of their subjective experiences.
Maybe the scene evokes unique memories of their childhood or is somehow
entangled with the smell of a particular cinema‚Äôs leather seats. Third, we
need to figure out how to safely write this perfect snapshot into someone
else‚Äôs brain in a way that can be perceived identically.</p><p>Which is to say, it‚Äôs a difficult problem. But a worthwhile one: imagine
having the capability to suddenly become aware of answers for questions you
just thought about. To expertly control <a href="https://youtu.be/PLk8Pm%5FXBJE?t=13">truly integrated</a> prosthetics giving
you superhuman abilities. To give movement to the paralized, sound to the
deaf, and sight to the blind.</p><p>What would be the impacts on society if we were able to communicate an
order of magnitude more effectively? What if <em>everyone</em> was equipped with
the same undisputed basic knowledge of history and science?</p><p>There are internal thoughts that we can attempt to describe with a thousand
words, but ultimately fail to capture in a way that‚Äôs precise, much less
comprehensible by someone else. Words and sentences are an incomplete
representation of our internal thoughts. In the same way that 3D objects
cast 2D shadows (<a href="https://www.youtube.com/watch?v=N0WjV6MmCyM">and 4D, 3D</a>) communicating through language doesn‚Äôt carry
all of our cultural and developmental context‚Äîtransmitting all of that
along with every phrase would be impractical. Language is in this sense,
lossily compressed thought.</p><figure><img src="https://www.murilopereira.com/tesseract_shadow.jpg"></figure><p>Inert strings of words of ink and paper take a life of their own inside our
heads. It‚Äôs why the exact same information can be interpreted completely
differently by different people.</p><p>Before language, fire and cooking technology allowed us to reallocate
energy usage from the digestive system to the brain by outsourcing
digestion to outside of our bodies, making macronutrients more efficiently
absorbable. Almost all of a cooked meal is metabolized by the body, whereas
raw foods yield less than half of their nutrients.</p><p>Cooking is an extension of our digestive system, and enabled us to develop
large, calorie-hungry brains. It also gave us time to think: our primate
cousins spend half of their days chewing raw food to consume enough
calories to stay alive.</p><p>Brains can be seen as <em>survival machines</em>, locked inside dark skulls,
constantly building a model of the outside world by predicting and learning
through senses and memory. The biological human brain evolved to have the
necessary sophistication to not only expertly navigate and understand the
brute physical reality but also to construct <em>social</em> reality. Democracy,
religion, money: all made up by us, for us.</p><p>We remember the past so that we can predict the future, and by doing so, we
thrive.</p><p>We create technology, which functions as a non-biological extra layer to
our brains and bodies, augmenting, complementing, and sometimes replacing
our natural capabilities.</p><blockquote><p>The wheel‚Ä¶ is an extension of the foot.</p><p>The book‚Ä¶ is an extension of the eye‚Ä¶</p><p>Clothing, an extension of the skin‚Ä¶</p><p>Electric circuitry, an extension of the central nervous system.</p><p>‚Äî
<a href="https://en.wikipedia.org/wiki/Understanding_Media">Understanding Media: The Extensions of Man (1964)</a></p></blockquote><p>Relatively speaking, we are done evolving <em>biologically</em>. Further adaptations
and enhancements to our bodies and minds will come through technology.</p><figure><img src="https://www.murilopereira.com/brain_layers.jpg" alt="Figure 5: Check out &amp;ldquo;Neuralink and the Brain&amp;rsquo;s Magical Future&amp;rdquo; for a very entertaining primer on the brain."><figcaption><p>Figure 5: Check out ‚Äú<a href="https://waitbutwhy.com/2017/04/neuralink.html">Neuralink and the Brain‚Äôs Magical Future</a>‚Äù for a very entertaining primer on the brain.</p></figcaption></figure><p>To be human is to have the ability to change the world around us. The shift
from hunting and gathering to farming allowed us to spend less energy to
acquire food while giving us a predictable calorie supply.</p><p>The resulting food surplus made it possible for populations to settle down
and grow quickly while supporting people not being directly involved in the
production of food‚Äîbefore agriculture that was everyone‚Äôs job. For one,
it allowed some to specialize and focus on developing better farming tools
and more resistant crops, starting a vicious cycle of improvement and
consumption that continues until today.</p><p>The transition from active foraging to a more sedentary lifestyle resulted
in worse health for the general population. The average farmer worked
harder than the average forager and got a worse diet in return. Our teeth,
bones and joints became more fragile, and we became afflicted by novel
diseases coming from newly domesticated animals, carriers of pathogens that
incubated in our new densely populated cities.</p><p>Owning land suddenly became really important. Agriculture and the concept
of private property reinforced each other and grew together, allowing us to
create value and secure the fruits of our labor. It also created the
circumstances for slavery to arise, and wars to be waged.</p><p>The groups of people growing the first crops could not have anticipated all
of the collateral effects of their breakthrough. They just wanted more
food.</p><p>If the past has taught us anything is that we have to be mindful of the
consequences of our progress. In an increasingly connected world, change is
often <a href="https://hbr.org/2017/05/linear-thinking-in-a-nonlinear-world">nonlinear</a> and unpredictable. Cars didn‚Äôt just replace horses‚Äîthey
forever changed the entire outlook of every city. Did Tim Berners-Lee
anticipate his invention adding to forces pulling whole countries apart?</p><p>Our progress will continue to bring us previously unimaginable challenges.
Against an unknowable future, it doesn‚Äôt hurt to keep improving our
capabilities to adapt and, more difficultly, to cooperate‚Äîespecially at
scale.</p><figure><img src="https://www.murilopereira.com/humanity.jpg" alt="Figure 6: &amp;ldquo;Humanity&amp;rdquo; by Pawel Kuczynski"><figcaption><p>Figure 6: ‚Äú<a href="https://www.pictorem.com/24592/humanity.html">Humanity</a>‚Äù by Pawel Kuczynski</p></figcaption></figure><p>Computers are getting pretty good at driving cars‚Äîeven in the most
difficult situations‚Äîand can already instantly diagnose some diseases
better than human doctors. Technology has a way to <a href="https://www.thenewatlantis.com/publications/understanding-heidegger-on-technology">reveal</a> the potential of
our environment, and ourselves. We have to be careful not to look at ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.murilopereira.com/the-why-of-technology/">https://www.murilopereira.com/the-why-of-technology/</a></em></p>]]>
            </description>
            <link>https://www.murilopereira.com/the-why-of-technology/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142126</guid>
            <pubDate>Mon, 15 Feb 2021 12:35:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Engineering dependability and fault tolerance in a distributed system]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26142037">thread link</a>) | @pimterry
<br/>
February 15, 2021 | https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system | <a href="https://web.archive.org/web/*/https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main" data-namespace="post">
<div>
<article>

<section data-layout="col@sm-down--">

</section>
<section>
<div>
<p>Users need to know that they can depend on the service that is provided to them. In practice, because from time to time individual elements will inevitably fail, this means you have to be able to continue in spite of those failures.</p>
<p>In this article, we discuss the concepts of dependability and fault tolerance in detail and explain how the Ably platform is designed with fault tolerant approaches to uphold its dependability guarantees.</p>
<p>As a basis for that discussion, first some definitions:</p>
<blockquote>
<strong>Dependability</strong> <br>The degree to which a product or service can be relied upon. <strong>Availability</strong> and <strong>Reliability</strong> are forms of dependability.<p><strong>Availability</strong> <br>The degree to which a product or service is <strong>available</strong> for use when required. This often boils down to provisioning sufficient redundancy of resources with <a href="https://www.ibm.com/support/knowledgecenter/STXNRM_3.15.1/coss.doc/correlatedFailureMitigation_defining_independent_versus_correlated_failures.html">statistically independent failures</a>.</p><p><strong>Reliability</strong> <br>The degree to which the product or service <strong>conforms to its specification</strong> when in use. This means a system that is not merely available but is also engineered with extensive redundant measures to <strong>continue to work as its users expect</strong>.</p><p><strong>Fault tolerance</strong> <br>The ability of a system to continue to be <strong>dependable</strong> (both available and reliable) in the presence of certain component or subsystem failures.</p></blockquote>
<p>Fault tolerant systems tolerate faults: they‚Äôre designed to mitigate the impact of adverse circumstances and ensure the system remains dependable to the end-user. Fault-tolerance techniques can be used to improve both availability and reliability. </p>
<p>Availability can be loosely thought of as the assurance of uptime; reliability can be thought of as the quality of that uptime ‚Äî that is, assurance that functionality and user experience and preserved as effectively as possible in spite of adversity.</p>
<p>If the service isn‚Äôt available to be used at the time it is needed, that‚Äôs a shortfall in availability. If the service is available, but deviates from its expected behavior when you use it, that‚Äôs a shortfall in reliability. Fault tolerant design approaches address these shortfalls to provide continuity both to business and to the user experience.</p>
<h2 id="availability-reliability-and-state">Availability, reliability, and state</h2>
<p>In most cases, the primary basis for fault tolerant design is <strong>redundancy</strong>: having more than the minimum number of components or capacity required to deliver service. The key questions relate to what form that redundancy takes and how it is managed.</p>
<p>In the physical world there is classically a distinction between</p>
<ul>
<li>
<strong>availability</strong> situations, where it is acceptable to stop a service and then resume it, such as stopping to change a car tire; and</li>
<li>
<strong>reliability</strong> situations, where continuity of service is essential, with redundant elements continuously in-service, such as with airplane engines. </li>
</ul>
<p>The nature of the continuity requirement impacts the way that redundant capacity needs to be provided.</p>
<p>In the context of distributed systems, at Ably we think of an analogous distinction between components that are <strong>stateless</strong> and those that are <strong>stateful</strong>, respectively.</p>
<p><strong>Stateless components</strong> fulfil their function without any dependency on long-lived state. Each invocation of service can be performed independently of any previous invocation. Fault tolerant design for these components is comparatively straightforward: have sufficient resources <strong>available</strong> so that any individual invocation can be handled even if some of the resources have failed.</p>
<p><strong>Stateful components</strong> have an intrinsic dependency on state to provide service. Having state implicitly links an invocation of the service to past and future invocations. The essence of fault tolerance for these components is, as with an airplane's engines, about being able to provide continuity of operation ‚Äî specifically, continuity of the state that the service depends on. &nbsp;This ensures <strong>reliability</strong>.</p>
<p>In the remainder of this article we will give examples of each of these situations and explain the engineering challenges encountered in achieving fault tolerance in practice.</p>
<h2 id="treating-failure-as-a-matter-of-course">Treating failure as a matter of course</h2>
<p>Fault tolerant designs treat failures as routine. In large-scale systems, the assumption has to be that component failures will happen sooner or later. Any individual failure must be assumed as imminent and, collectively, component failures must be expected to be occurring continuously.</p>
<p>By contrast with the physical world, failures in digital systems are typically non-binary. The classical measures of component reliability (e.g. Mean Time Between Failures, or MTBF) do not apply; services degrade along a gradient of failure. Byzantine faults are a classic example. </p>
<p>For example, a system component might work intermittently, or produce misleading output. Or you might be dependent on external partners who don‚Äôt notify you of a failure until it becomes serious on their end, making your work more difficult. </p>
<p>Being tolerant to non-binary failures requires a lot of thought, engineering and, sometimes, human intervention. Each potential failure must be identified and classified, and must then be capable of being remediated rapidly, or avoided through extensive testing and robust design decisions. The core challenge of designing fault-tolerant systems is understanding the nature of failures and how they can be detected and remediated, especially when partial or intermittent, to continue to provide the service as effectively as possible for users.</p>
<h2 id="stateless-services">Stateless services</h2>
<p>Service layers that are <strong>stateless</strong> do not have a primary requirement for continuity of service for any individual component. The availability of resources directly translates into availability of the layer as a whole. Having access to extra resources whose failures are statistically independent is key to keeping the system going. Wherever possible, layers are designed to be stateless as a key enabler not only of availability, but also of scalability. </p>
<p>For stateless objects, it suffices to have multiple and independently available components to continue to provide service. Without state, durability of any single component is not a concern.</p>
<figure><img src="https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-1520" alt="Fault tolerant design of stateless components: a load balancer receives a request and selects an element to satisfy the request." srcset="
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-345 345w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-470 470w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-760 760w,
      https://ik.imagekit.io/ably/ghost/prod/2021/02/fault-tolerance-of-a-stateless-component.png?tr=w-1520 1520w
    " sizes="
      (max-width: 760px) 100vw,
      (max-width: 1520px) 760px,
      1520px
    "></figure><p>However, simply having extra resources is not enough: you also have to use them effectively. You have to have a way of detecting resource availability, and to load-balance among redundant resources. </p>
<p>As such, the questions that you have to answer are:</p>
<ul>
<li>How do you survive different kinds of failure?</li>
<li>What level of redundancy is possible?</li>
<li>What is the resource and performance cost of maintaining those levels of redundancy?</li>
<li>What is the operational cost of managing those levels of redundancy?</li>
</ul>
<p>The consequent trade-offs are among the following:</p>
<ul>
<li>Customer requirements for achieving high availability</li>
<li>Business operational cost</li>
<li>Real world engineering practicality of actually making it possible</li>
</ul>
<p>Redundant components, and in turn their dependencies, need to be engineered, configured and operated in <a href="https://www.ntnu.edu/documents/624876/1277590549/chapt04-1.pdf">a way that ensures that any failures are statistically independent</a>. The simple math is: statistically independent failures render your chances of a catastrophic failure exponentially lower as you increase the level of redundancy. If the failures are set up to occur in statistical silos, then there is no cumulative effect, and you decrease the likelihood of complete failure by a whole order of magnitude with each additional redundant resource.</p>
<p>At Ably, to increase statistical independence of failures, <a href="https://www.ably.io/network">we place/distribute capacity in multiple availability zones and in multiple regions</a>. Offering service from multiple availability zones within the same region is relatively simple: AWS enables this with very little effort. Availability zones generally have a good track record of failing independently, so this step by itself enables the existence of sufficient redundancy to support very high levels of availability.</p>
<p>However, this isn‚Äôt the whole story. It isn‚Äôt sufficient to rely on any specific region for multiple reasons ‚Äì sometimes multiple availability zones (AZs) do fail at the same time; sometimes there might be local connectivity issues making the region unreachable; and sometimes there might simply be capacity limitations in a region that prevent all services from being supportable there. As a result, we also promote service availability by providing service in multiple regions. This is the ultimate way of ensuring statistical independence of failures.</p>
<p>Establishing redundancy that spans multiple regions is not as straightforward as supporting multiple AZs. For example, it doesn‚Äôt make sense simply to have a load balancer distributing requests among regions; the load balancer itself exists in some region and could become unavailable. </p>
<p>Instead, we use a <a href="https://knowledge.ably.com/routing-around-network-and-dns-issues">combination of measures</a> to ensure that client requests can at all times be routed to a region that is believed to be healthy and have service available. This routing will preferably be to the nearest region, but routing to non-local regions must be possible when the nearest region is unable to provide service.</p>
<h2 id="stateful-services">Stateful services</h2>
<p>At Ably, <a href="https://www.ably.io/four-pillars-of-dependability#reliability">reliability</a> means business continuity of <em>stateful</em> services, and it is a substantially more complicated problem to solve than just availability. </p>
<p>Stateful services have an intrinsic dependency on state that survives each individual invocation of service. Continuity of that state translates into correctness of the service provided by the layer as a whole. That requirement for continuity means that fault tolerance for these services is achieved by thinking of them in classic reliability terms. Redundancy needs to be continuously in use, in order for the state not to become lost in the case of failure. Fault detection and remediation needs to address the possible Byzantine failure modes via consensus formation mechanisms.</p>
<p>The most simplistic analogy is with airplane safety. An airplane crash is catastrophic because you ‚Äì and your state ‚Äì are on a <em>specific</em> airplane; it is <em>that</em> airplane which must provide continuous service. If it fails to do so, state is lost and you are afforded no opportunity to continue by migrating to a different airplane. </p>
<p>With anything that ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system">https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system</a></em></p>]]>
            </description>
            <link>https://www.ably.io/blog/engineering-dependability-and-fault-tolerance-in-a-distributed-system</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142037</guid>
            <pubDate>Mon, 15 Feb 2021 12:20:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Nomad for a Home Server]]>
            </title>
            <description>
<![CDATA[
Score 264 | Comments 135 (<a href="https://news.ycombinator.com/item?id=26142005">thread link</a>) | @elliebike
<br/>
February 15, 2021 | https://mrkaran.dev/posts/home-server-nomad/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/home-server-nomad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>It's been a long time since I've written a post on Hydra (my home server). I use Hydra as a testbed to learn new tools, workflows and it just gives me joy to self-host applications while learning something in return.</p>
<h2 id="history">History</h2>
<p>A brief history of how <a href="https://github.com/mr-karan/hydra">Hydra's</a> setup evolved over time:</p>
<p><a href="https://mrkaran.dev/posts/home-server-setup/">2019</a>: </p>
<ul>
<li>A pretty minimal K3s setup deployed on 2 RPi4 nodes. I couldn't continue with this setup because:
<ul>
<li>Some of the apps didn't have ARM-based image (this was 2019, pre M1 hype era).</li>
<li>Didn't want to risk deploying persistent workloads on RPi.</li>
<li>A lot of tooling to deploy workloads was missing (storing env variables for eg.).</li>
<li>It was so boring to write YAML (that I also did at work). Didn't give me joy.</li>
</ul>
</li>
</ul>
<p><a href="https://mrkaran.dev/posts/home-server-updates/">2020 First Half</a>:</p>
<ul>
<li>RPi 2x Nodes + K3s + DO Droplet. Tailscale for networking.
<ul>
<li>This was a considerable step up from the previous setup. I deployed a DO node and added <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/">Node Labels</a> to deploy persistent workloads on DO Node only.</li>
<li>I used my own tooling <a href="https://github.com/mr-karan/kubekutr/">Kubekutr</a> + Kustomize which helped with version control of my configs.</li>
<li>Took quite a bit of time to onboard new services. Got lazy, didn't host much apart from initial 3-4 applications.</li>
<li>Writing long YAMLs. No joy.</li>
</ul>
</li>
</ul>
<p>2020 Second Half:</p>
<ul>
<li>Single node on DO. Terraform for deploying Docker containers.
<ul>
<li>I believe the third iteration nailed it for me. I kept the setup super simple, used Terraform for deploying workloads as Docker containers.</li>
<li>Used Terraform extensively for setting up the node, Cloudflare records, DO firewall rules.</li>
<li>Time to onboard new services reduced from a couple of hours to a few minutes. This was a huge win for me. I deployed around 10-15 new services to try it out on the server directly.</li>
<li>Writing HCL is actually a much better experience than YAML.</li>
</ul>
</li>
</ul>
<h2 id="why-nomad">Why Nomad</h2>
<p><img src="https://mrkaran.dev/images/nomad-hydra.png" alt="image"></p>
<p>Around a month back, <a href="https://nadh.in/">Kailash</a> had asked about feedback on <a href="https://www.nomadproject.io/">Nomad</a>. We at <a href="https://zerodha.com/">Zerodha</a> (India's largest stock broker) are evaluating it to migrate our services to Nomad from Kubernetes (more on this later). It was almost 2 years since I last saw Nomad so it was definitely worth re-evaluating (esp since it hit 1.0 recently). I wanted to try out Nomad to answer a personal curiosity: <em>What does it do differently than Kubernetes?</em> No better way than actually getting hands dirty, right?!</p>
<p>After following the brief tutorials from the <a href="https://learn.hashicorp.com/nomad">official website</a> I felt confident to try it for actual workloads. In my previous setup, I was hosting quite a few applications (Pihole, Gitea, Grafana etc) and thought it'll be a nice way to learn how Nomad works by deploying the same services in the Nomad cluster. And I came in with zero expectations, I already had a nice setup which was reliable and running for me. My experience with a local Nomad cluster was joyful, I was able to quickly go from 0-&gt;1 in less than 30 minutes. This BTW is a strong sign of how easy Nomad is to get started with as compared to K8s. The sheer amount of different concepts you've to register in your mind before you can even deploy a single container in a K8s cluster is bizarre. Nomad takes the easy way out here and simplified the concepts for developers into just three things:</p>
<pre><code><span>job
  \_ group
        \_ task
</span></code></pre>
<ul>
<li>Job: Job is a collection of different groups. Job is where the constraints for type of scheduler, update strategies and ACL is placed. </li>
<li>Group: Group is a collection of different tasks. A group is always executed on the same Nomad client node. You'll want to use Groups for use-cases like a logging sidecar, reverse proxies etc.</li>
<li>Task: Atomic unit of work. A task in Nomad can be running a container/binary/Java VM etc, defining the mount points, env variables, ports to be exposed etc.</li>
</ul>
<p>If you're coming from K8s you can think of Task as a Pod and Group as a Replicaset. There's no equivalent to Job in K8s. BUT! The coolest part? You don't have to familiarise yourself with all different types of Replicasets (Deployments, Daemonsets, Statefulsets) and different ways of configuring them.</p>
<p>Want to make a normal job as a periodic job in Nomad? Simply add the following block to your existing Job:</p>
<pre><code><span>periodic {
  cron = "@daily"
}
</span></code></pre>
<p>You want to make a service run as a batch job (on all Nomad nodes -- the equivalent of Daemonset in K8s)? Simply make the following change to your existing job:</p>
<pre><code><span>-type="service"
</span><span>+type="batch"
</span></code></pre>
<p>You see <strong>this</strong> is what I mean by the focus on UX. There are many many such examples which will leave a nice smile on your face if you're coming from K8s background.</p>
<p>I'd recommend reading <a href="https://www.nomadproject.io/docs/internals/architecture">Internal Architecture</a> of Nomad if you want to understand this in-depth.</p>
<h2 id="architecture">Architecture</h2>
<p>Tech stack for Hydra:</p>
<ul>
<li>Tailscale VPN: Serves as a mesh layer between my laptop/mobile and DO server. Useful for exposing internal services.</li>
<li>Caddy for reverse proxying and automatic SSL setup for all services. I run 2 instances of Caddy:
<ul>
<li>Internal: Listens on Tailscale Network Interface. Reverse proxies all private services.</li>
<li>Public: Listens on DO's Public IPv4 network interface. Reverse proxies all public-facing services.</li>
</ul>
</li>
<li>Terraform: Primary component to have IaC (Infra as Code). Modules to manage:
<ul>
<li>Cloudflare DNS Zone and Records</li>
<li>DO Droplet, Firewall rules, SSH Keys, Floating IPs etc.</li>
<li>Nomad Jobs. Used for running workloads after templating env variables, config files in Nomad job files.</li>
</ul>
</li>
</ul>
<h2 id="complexity-of-nomad-vs-kubernetes">Complexity of Nomad vs Kubernetes</h2>
<p><a href="https://twitter.com/mrkaran_/status/1268762357355823104"><img src="https://mrkaran.dev/images/k8s-meme.jpeg" alt="image"></a></p>
<p>Nomad shines because it follows the UNIX philosophy of "Make each program do one thing well". To put simply, Nomad is <em>just</em> a workload orchestrator. It only is concerned about things like Bin Packing, scheduling decisions.</p>
<p>If you're running heterogeneous workloads, running a server (or a set of servers) quickly becomes expensive. Hence orchestrators tend to make sense in this context. They tend to save costs by making it efficient to run a vast variety of workloads. This is all an orchestrator has to do really. </p>
<p>Nomad doesn't interfere in your DNS setup, Service Discovery, secrets management mechanisms and pretty much anything else. If you read some of the posts at <a href="https://k8s.af/">Kubernetes Failure Stories</a>, the most common reason for outages is Networking (DNS, ndots etc). A lot of marketing around K8s never talks about these things.</p>
<p>I always maintain "Day 0 is easy, Day N is the real test of your skills". Anyone can deploy a workload to a K8s cluster, it's always the Day N operations which involve debugging networking drops, mysterious container restarts, proper resource allocations and other such complex issues that require real skills <strong>and</strong> effort. It's not as easy as <code>kubectl apply -f</code> and my primary gripe is with people who miss out on this in their "marketing" pitches (obvious!).</p>
<h2 id="when-to-use-nomad">When to use Nomad</h2>
<p>Nomad hits the sweet spot of being operationally easy and functional. Nomad is a great choice if you want to:</p>
<ul>
<li>Run not just containers but other forms of workloads.</li>
<li>Increase developer productivity by making it easier to deploy/onboard new services.</li>
<li>Consistent experience of deployment by testing the deployments locally.</li>
<li>(Not joking) You are tired of running Helm charts or writing large YAML manifests. The config syntax for Nomad jobs is human friendly and easy to grasp.</li>
</ul>
<p>Nomad is available as a single binary. If you want to try it locally, all you need is <code>sudo nomad agent -dev</code> and you'll have a Nomad Server, Client running in dev mode along with a UI. This makes it easy for the developers to test out the deployments locally because there's very little configuration difference between this and production deployment. Not to forget it's super easy to self-host Nomad clusters. I'm yet to meet anyone who self hosts K8s clusters in production without a dedicated team babysitting it always.</p>
<p>Once you eliminate the "blackbox" components from your stack, life becomes easier for everyone.</p>
<h2 id="when-to-not-use-nomad">When to not use Nomad</h2>
<ul>
<li>If you're relying on custom controllers and operators. <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator Pattern</a> is a new way of managing large complex distributed systems (like databases, job queues etc). There are a lot of community built operators which help in reducing the effort to run these services. However, all of these are tied deeply into the "Kubernetes" ecosystem. If you find yourself running any of such operators, it'll be tough (not impossible) to translate the same in Nomad ecosystem.</li>
</ul>
<p>I <em>genuinely</em> cannot think of any other reason to not use Nomad!</p>
<h2 id="practical-scenarios">Practical Scenarios</h2>
<p>Since I migrated a couple of workloads from my DO docker containers setup to Nomad, I'd demonstrate a few use cases which might be helpful if you want to start migrating your services to Nomad</p>
<h3 id="accessing-a-web-service-with-reverse-proxy">Accessing a Web service with Reverse Proxy</h3>
<p>Context: I'm running Caddy as a reverse proxy for all the services. Since we discussed earlier, Nomad <strong>only</strong> is concerned about scheduling, so how exactly do you do Service Discovery? You need Consul (or something like Consul, Nomad has no hard restrictions) to register a service name with it's IP Address. Here's how you can do that:</p>
<p>In the <code>.task</code> section of your Nomad job spec, you need to register the service name with the port you're registering and additional tags as metadata (optional):</p>
<pre><code><span>service {
  name = "gitea-web"
  tags = ["gitea", "web"]
  port = "http"
}
</span></code></pre>
<p>Nomad's <a href="https://www.nomadproject.io/docs/job-specification/template">template</a> uses <code>consul-template</code> behind the scenes. This is a small utility which continuously watches for Consul/Vault keys and provides the ability to reload/restart your workloads if any of those keys change. It can also be used to <em>discover</em> the address of the service registered in Consul. So here's an example of <code>Caddyfile</code> using Consul Template functions to pull the IP address of the upstream <code>gitea-web</code> service:</p>
<pre><code><span>git.mrkaran.dev {
    {{ range service "gitea-web" }}
    reverse_proxy {{ .Address }}:{{ .Port }}
    {{ end }}
}
</span></code></pre>
<p>When a job is submitted to Nomad, a rendered template is mounted inside the container. You can define actions on what to do when the values change. For eg on a redeployment of Gitea container, the address will most likely change. We'd like Caddy to automatically restart with the new address configured in the Caddyfile in that case:</p>
<pre><code><span>template {
  data = &lt;&lt;EOF
${caddyfile_public}
EOF

  destination = "configs/Caddyfile" # Rendered template.

  change_mode = "restart"
}
</span></code></pre>
<p>Using <a href="https://www.nomadproject.io/docs/job-specification/template#change_mode"><code>change_m‚Ä¶</code></a></p></article></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mrkaran.dev/posts/home-server-nomad/">https://mrkaran.dev/posts/home-server-nomad/</a></em></p>]]>
            </description>
            <link>https://mrkaran.dev/posts/home-server-nomad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26142005</guid>
            <pubDate>Mon, 15 Feb 2021 12:15:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Sq, Sequoia PGP's CLI, Released]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26141995">thread link</a>) | @upofadown
<br/>
February 15, 2021 | https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/ | <a href="https://web.archive.org/web/*/https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-content">
                          <p>Last month we released version 1.0 of our versatile, low-level OpenPGP
library, <a href="https://sequoia-pgp.org/blog/2020/12/16/202012-1.0/">sequoia-openpgp</a>.  Now we have released the first version of
<a href="https://docs.sequoia-pgp.org/sq/index.html"><code>sq</code></a>, version 0.23, which is meant for general use.</p>
<p><code>sq</code> is a command-line tool that intends to expose much (but not all!)
of the functionality that the library provides.  Although we fully
intend for <code>sq</code> to be an OpenPGP swiss army knife, and that the truly
arcane should‚Äîin general‚Äîbe possible, we firstly want <code>sq</code> to be
usable by humans at the command line.  We understand this to mean that
it should be possible to use <code>sq</code> to tweak and twiddle OpenPGP data.
But, those who have the desire to use Sequoia to frob it will need to
use the library.  And, they are probably better served by it anyway.</p>
<p><code>sq</code> has a subcommand-style interface similar to git.  This has the
advantage that every command has its own option name space, which
makes it much easier to understand exactly what options influence a
given command.</p>
<p>In terms of functionality, <code>sq</code> already provides the base operations
that any OpenPGP user needs in their day-to-day use: key generation
(<code>sq key generate</code>), encryption (<code>sq encrypt</code>) &amp; decryption (<code>sq decrypt</code>), signing (<code>sq sign</code>) &amp; verification (<code>sq verify</code>), key
certification (<code>sq certify</code>), and key server (<code>sq keyserver</code>) &amp; <a href="https://tools.ietf.org/html/draft-koch-openpgp-webkey-service-11">web
key directory</a> (WKD) (<code>sq wkd</code>) interaction.  It also includes some
utility functions.  It can generate a WKD (<code>sq wkd generate</code>), encode
and decode <a href="https://autocrypt.org/level1.html#the-autocrypt-header">Autocrypt headers</a> (<code>sq autocrypt</code>), manipulate keyrings
(<code>sq keyring</code>), inspect OpenPGP-related data like <a href="https://en.wikipedia.org/wiki/File_(command)"><code>file</code></a> does (<code>sq inspect</code>), and pretty print an OpenPGP file‚Äôs contents (<code>sq packet dump</code>).</p>
<p><code>sq</code> is still missing a fair amount of functionality.  In particular,
there is no public or private key store.  (Although prototypes exist.)
This means all OpenPGP certificates must be stored in files, which is
not scalable.  Also, many necessary and useful commands are still
missing.  For instance, it is not currently possible to add new
subkeys to a certificate, or change their expiration date.</p>
<p><code>sq</code> is also not ready to be used from scripts.  Although we are
unlikely to change the current API, the bigger problem is that <code>sq</code>‚Äôs
output is not machine readable.  In the medium term, we plan to add a
<code>JSON</code>-output mode to every command.  Given the legion of <code>JSON</code>
parsers, this should effectively eliminate the need for tools that
consume <code>sq</code>‚Äôs output to have to parse it manually, and will hopefully
eliminate an entire class of common security-sensitive bugs.</p>
<p>Until now, we haven‚Äôt published <a href="https://crates.io/crates/sequoia-sq"><code>sq</code> on <code>crates.io</code></a>, and we‚Äôve
discouraged packagers from including it in their distribution.  We now
think that <code>sq</code> is ready for general use.  If you have suggestions,
please <a href="https://sequoia-pgp.org/contribute/">reach out</a>.</p>
<h2 id="a-quick-demo">A Quick Demo</h2>
<p>Creating an OpenPGP key is straightforward:</p>
<pre><code>$ sq key generate --export /tmp/alice.sec -u 'Alice &lt;alice@example.org&gt;'
</code></pre><p><code>sq</code> saves the key in <code>/tmp/alice.sec</code> and a generic revocation
certificate in <code>/tmp/alice.sec.rev</code>.</p>
<p>We can use <code>sq inspect</code> to examine the new key‚Äôs structure:</p>
<pre><code>$ sq inspect /tmp/alice.sec
/tmp/alice.sec: Transferable Secret Key.

    Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
Public-key algo: EdDSA Edwards-curve Digital Signature Algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: certification

         Subkey: 0C61 2153 0ACF F0B2 C01E  6E8A 4D4D 029F 2206 7039
Public-key algo: EdDSA Edwards-curve Digital Signature Algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: signing

         Subkey: F2CA 7FC7 A347 39F7 7CDC  C1F0 C599 64AB 43F7 7134
Public-key algo: ECDH public key algorithm
Public-key size: 256 bits
     Secret key: Unencrypted
  Creation time: 2021-01-25 19:17:42 UTC
Expiration time: 2024-01-26 12:44:03 UTC (creation time + P1095DT62781S)
      Key flags: transport encryption, data-at-rest encryption

         UserID: Alice &lt;alice@example.org&gt;
</code></pre><p>Here we see that <code>sq</code> uses ECC by default, and generates a signing
subkey and an encryption subkey.  (<code>sq key generate</code> has options to
tweak both the cipher suite and the key‚Äôs structure.)  <code>sq</code> generates
a signing subkey by default to prevent an attacker from repurposing a
signature over data as a certification or binding signature.</p>
<p>The secret key material is unencrypted by default.  Supplying the
<code>--with-password</code> option will cause <code>sq</code> to prompt for a password and
use it to encrypt the secret key material.</p>
<p>We can use <code>sq packet dump</code> to get even more details:</p>
<pre><code>$ sq packet dump /tmp/alice.sec
Secret-Key Packet, new CTB, 88 bytes
...
User ID Packet, new CTB, 25 bytes
    Value: Alice &lt;alice@example.org&gt;

Signature Packet, new CTB, 212 bytes
    Version: 4
    Type: PositiveCertification
    Pk algo: EdDSA Edwards-curve Digital Signature Algorithm
    Hash algo: SHA512
    Hashed area:
      Signature creation time: 2021-01-25 19:17:42 UTC (critical)
      Key expiration time: P1095DT62781S (critical)
      Symmetric algo preferences: AES256, AES128
      Issuer: C7C7 FF13 8025 22BE
      Notation: NotationData { flags: , name: "salt@notations.sequoia-pgp.org", value: [209, 99, ...] }
      Hash preferences: SHA512, SHA256
      Primary User ID: true (critical)
      Key flags: C (critical)
      Features: MDC
      Issuer Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
    Digest prefix: 7E0A
    Level: 0 (signature over data)
...
</code></pre><p>For the sake of brevity, I‚Äôve only shown the User ID and the
corresponding self signature.  An interesting thing to note here is
the <code>salt@notations.sequoia-pgp.org</code> notation.  This is a random
32-byte value, which Sequoia inserts into every signature by default.
Because it is unpredictable, it is harder for an attacker to trick a
user into signing a specific message.</p>
<p>It is possible to get even more details by supplying the <code>--hex</code>
option to <code>sq packet dump</code>.  This causes it to print a descriptive map
of the packets' contents, which is useful if you are dissecting an
OpenPGP message.</p>
<pre><code>$ sq packet dump --hex /tmp/alice.sec
Secret-Key Packet, new CTB, 2 header bytes + 88 bytes
    Version: 4
    Creation time: 2021-01-25 19:17:42 UTC
    Pk algo: EdDSA Edwards-curve Digital Signature Algorithm
    Pk size: 256 bits
    Fingerprint: 1191 7C40 2605 5EA3 4980  8877 C7C7 FF13 8025 22BE
    KeyID: C7C7 FF13 8025 22BE
  
    Secret Key:
  
        Unencrypted
  
    00000000  c5                                                 CTB
    00000001     58                                              length
    00000002        04                                           version
    00000003           60 0f 19 56                               creation_time
    00000007                       16                            pk_algo
    00000008                           09                        curve_len
    00000009                              2b 06 01 04 01 da 47   curve
    00000010  0f 01
    00000012        01 07                                        eddsa_public_len
    00000014              40 7b 06 00  4c 00 63 89 81 95 2f 22   eddsa_public
    00000020  5a 35 7c b2 84 45 ce 9f  d9 85 8d 55 01 4d aa 76
    00000030  f7 bd b2 07 a1
    00000035                 00                                  s2k_usage
    00000036                    00 fe                            eddsa_secret_len
    00000038                           30 95 9d a4 ae 95 c3 e4   eddsa_secret
    00000040  fc 15 bb ca 5a 67 31 e1  14 1b 2b 0b 2f 1a 4c 6e
    00000050  95 a8 cc 63 7c de 19 51 
    00000058                           0f ef                     checksum
...
</code></pre><p>To turn a key into a certificate (i.e., to remove the secret key
material), we can use the <code>sq keyring filter</code> subcommand:</p>
<pre><code>$ sq keyring filter --to-certificate /tmp/alice.sec &gt; /tmp/alice.pgp
</code></pre><p>And using <code>sq inspect</code>, we see that we now have a certificate and not a
secret key:</p>
<pre><code>$ sq inspect /tmp/alice.pgp
/tmp/alice.pgp: OpenPGP Certificate.
...
</code></pre><p><code>sq keyring filter</code> also allows the user to specify a few predicates to
actually <em>filter</em> the keyring.</p>
<p><code>sq keyring</code> has other useful functionality.  It can split a keyring
into individual keys and it can merge multiple keys or keyrings
into a single keyring.</p>
<p>To sign and encrypt a message, we specify one or more certificates for
the recipients, and one or more keys for the signers.</p>
<pre><code>$ echo "Hello, woods!" | sq encrypt --recipient-cert /tmp/bob.pgp --signer-key /tmp/alice.sec &gt; /tmp/msg.pgp
</code></pre><p>Decrypting and verifying the signature is similar:</p>
<pre><code>$ sq decrypt --recipient-key /tmp/bob.sec --signer-cert /tmp/alice.pgp /tmp/msg.pgp
Encrypted using AES with 256-bit key
Compressed using ZIP
Good signature from 4D4D 029F 2206 7039
Hello, woods!
1 good signature.
</code></pre><p>(If you are interested in examining the structure of the message at
the byte level, be sure to try the <code>--hex</code> option.)</p>
<p><code>sq</code> can also fetch keys from key servers:</p>
<pre><code>$ sq keyserver get neal@walfield.org
-----BEGIN PGP PUBLIC KEY BLOCK-----

xsEhBFUjmukBDqCpmVI7Ve+2xTFSTG+mXMFHml63/Yai2nqxBk9gBfQfRFIjMt74
...
</code></pre><p>And from WKDs:</p>
<pre><code>$ sq wkd get neal@walfield.org
-----BEGIN PGP PUBLIC KEY BLOCK-----
Comment: 8F17 7771 18A3 3DDA 9BA4  8E62 AACB 3243 6300 52D9
Comment: Neal H. Walfield &lt;neal@pep-project.org&gt;
Comment: Neal H. Walfield &lt;neal@pep.foundation&gt;
Comment: Neal H. Walfield &lt;neal@sequoia-pgp.org&gt;
Comment: Neal H. Walfield &lt;neal@walfield.org&gt;

xsEhBFUjmukBDqCpmVI7Ve+2xTFSTG+mXMFHml63/Yai2nqxBk9gBfQfRFIjMt74
...
</code></pre><p>You can learn more about <code>sq</code> by reading its
<a href="https://docs.sequoia-pgp.org/sq/index.html">documentation</a>.</p>

<p>Currently, six people are paid to work on Sequoia.  Since the start of
the project 3.5 years ago, they have all been paid by the <a href="https://pep.foundation/">p‚â°p
foundation</a>.  Additional financial support has come from a one-time
donation from the <a href="https://www.wauland.de/de/">Wau Holland Foundation</a> in 2018.  <a href="https://pep.foundation/blog/phil-zimmermann-donates-eur-1000-to-the-pep-foundation-to-support-the-sequoia-pgp-project/index.html">Phil
Zimmermann</a>, the creator of PGP, donated 1000 Euros.  And, <a href="https://protonmail.com/blog/openpgp-test-suite/">Proton
Mail</a> donated 1000 Euros after our <a href="https://tests.sequoia-pgp.org/">interoperability test suite</a> found
several issues in OpenPGP.js ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/">https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/</a></em></p>]]>
            </description>
            <link>https://sequoia-pgp.org/blog/2021/01/26/202101-sq-release/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141995</guid>
            <pubDate>Mon, 15 Feb 2021 12:13:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting started with game hacking on PC]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141935">thread link</a>) | @aaron_h
<br/>
February 15, 2021 | https://thehacker.dev/getting-started-with-game-hacking-on-pc/ | <a href="https://web.archive.org/web/*/https://thehacker.dev/getting-started-with-game-hacking-on-pc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 300w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 600w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 1000w,
                            https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://images.unsplash.com/photo-1579407364450-481fe19dbfaa?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MXwxMTc3M3wwfDF8c2VhcmNofDN8fGhpZ2glMjBzY29yZXxlbnwwfHx8&amp;ixlib=rb-1.2.1&amp;q=80&amp;w=2000" alt="Getting Started With Game Hacking on PC">
            </figure>

            <section>
                <div>
                    <p>This is the resource I wish I had when I was getting started in hacking video games. Specifically, hacking PC video games on the Windows operating system. This article aims to give you a roadmap forward to becoming a video game hacker, along with plenty of resources to dive deeper.</p><h2 id="beginner">Beginner</h2><p>Want to become invincible, have unlimited ammo, or just be super rich in your game? This section is usually all you'll need.</p><h3 id="modifying-values-in-memory">Modifying values in memory</h3><p>When you're playing an offline game (and even with most online games), every value you see in the game is stored in memory. So the first thing you'll need to do is learn how to find those values and modify them. The most common tool to do so is <a href="https://www.cheatengine.org/downloads.php">Cheat Engine</a>.</p><p>Cheat Engine has its own built-in tutorial for finding and modifying in-memory values. It's not exactly straight-forward to complete as a beginner though, so here's an excellent walkthrough video by the ever helpful <a href="https://twitter.com/guidedhacking">Guided Hacking</a>:</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/Nib69uZJCaA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Believe it or not, that's really all you need to do basic game hacking. Yay! üéâ</p><h3 id="aside-cheat-engine">Aside: Cheat Engine</h3><p>Cheat Engine is completely free, and supported by bundled software and <a href="https://www.patreon.com/cheatengine">Patreon donations</a>. As with anything, if you find it's of value to you, please consider donating. It's also <a href="https://github.com/cheat-engine/cheat-engine">open-source</a>, and oddly written mostly in Pascal (although almost everything outside of the core is written in C &amp; C++).</p><p>This section is all about how to do some more interesting and creative game hacks, as well as how to bypass common restrictions game developers put into their software. It's at this point that you'll need to start looking at assembly code. But don't worry, it's not as complicated as you may think (especially if you have experience with at least one other high level programming language). There are only a small handful of instructions that come up often:</p><!--kg-card-begin: markdown--><ul>
<li><code>mov</code></li>
<li><code>lea</code></li>
<li><code>jmp</code>/<code>jxx</code></li>
<li><code>cmp</code></li>
<li><code>test</code></li>
<li><code>add</code>/<code>sub</code>/<code>mul</code></li>
</ul>
<!--kg-card-end: markdown--><p>A good reference for the x86 &amp; amd64 instruction set can be found here: https://www.felixcloutier.com/x86/.</p><h3 id="debugging-reverse-engineering">Debugging &amp; reverse engineering</h3><p>If you want to understand some more complex logic in a game, you're going to need to look at the disassembly of the binary (the assembly code). That means attaching a debugger and setting breakpoints, so you can walk through the exact steps that a game takes for a given functionality. Sometimes you may not be able to debug the source code (see the section on anti-debugging later on), or you may just want to graph out how different functions interact in the game; in this case, you'll want to use a static disassembler.</p><p>Personally, I go for debugging first, as I can usually get a much better understanding for how a game works by watching it as it runs through specific functionality. I then switch to the static disassembly later on if I want to really get an understanding for a specific section of the binary.</p><p>Once you become proficient at following through the assembly of a program, you can do fun things like this...</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/4KtWpNmaVWk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h3 id="debugging-tools">Debugging tools</h3><p>Cheat Engine works really well as a debugger, and it includes pretty much everything you need.</p><p>I also like to use <a href="https://github.com/x64dbg/x64dbg">x64dbg</a>, as it includes a lot of great features (for example - open multiple dump memory dump tabs at once, built-in scripting support, and an ecosystem of great plugins like <a href="https://github.com/ThunderCls/xAnalyzer">xAnalyzer</a>). x64dbg also displays the meaning of every assembly code as you step through it, and it also translates the values for you (i.e. it fetches the value of a pointer), which is really helpful.</p><p>You <em>*could*</em> use <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/debugger-download-tools">WinDbg</a>, but it doesn't handle anti-debug measures very well, and the interface isn't nearly as intuitive as x64dbg.</p><h3 id="static-disassemblers">Static disassemblers</h3><p>The best free static disassembler out there right now is probably <a href="https://github.com/NationalSecurityAgency/ghidra">Ghidra</a>, and it's pretty good.</p><p>The gold standard disassembler is <a href="https://www.hex-rays.com/products/ida/">IDA Pro</a>, but be prepared to spend an arm and a leg (in the ballpark of $2000+ USD per year).</p><p><a href="https://binary.ninja/">Binary Ninja</a> is also a good commercial option, but it's lacking the vast plugin ecosystem that IDA Pro (and even Ghidra) has, and they don't (at the time of writing) have any Windows API function signatures like IDA Pro does with <a href="https://www.hex-rays.com/products/ida/tech/flirt/in_depth/">FLIRT</a> that eases a lot of Windows-based reverse engineering.</p><p>There's also a <a href="https://www.hex-rays.com/products/ida/support/download_freeware/">free version of IDA</a> that is great as a standalone disassembler, but you don't get any plugin support, no decompiler, and you're locked at an older version of the product.</p><h3 id="reverse-engineering-resources">Reverse Engineering Resources</h3><p>To see debugging and light reverse engineering in action, I would highly recommend checking out Chris Fayte's <a href="https://www.youtube.com/user/BloodFayte">Cheat The Game</a> YouTube channel.</p><p>For some more advanced reverse engineering videos (with excellent video quality and editing), check out <a href="https://www.youtube.com/c/LiveOverflowCTF">LiveOverflow's YouTube channel</a>.</p><h3 id="bypass-anti-debug">Bypass anti-debug</h3><p>Many games come with a range of anti-debug measures that are designed to prevent you from attaching a debugger to the game. If you want to learn more about the exact types of measures they take, I would highly recommend <a href="https://anti-reversing.com/Downloads/Anti-Reversing/The_Ultimate_Anti-Reversing_Reference.pdf">Peter Ferrie's "The Ultimate Anti-Debugging Reference" [pdf]</a>. But if you just want to get on with debugging your game, I'd recommend just doing the following:</p><!--kg-card-begin: markdown--><ol>
<li>Add <a href="https://github.com/x64dbg/ScyllaHide">ScyllaHide</a> as a plugin to x64dbg.</li>
<li>Launch your game using x64dbg. This will launch it with the anti-anti-debug measures in place.</li>
<li>(Optional) Detach from your game in x64dbg and attach using your debugger of choice.</li>
</ol>
<!--kg-card-end: markdown--><p>You can find some more information about ScyllaHide, as well as the anti-debug measures they counteract in their <a href="https://github.com/x64dbg/ScyllaHide/releases/download/docs-2019-05-17/ScyllaHide.pdf">documentation [pdf]</a>.</p><h3 id="automating-with-cheat-engine">Automating with Cheat Engine</h3><p>Cheat engine has a LOT of functionality. When you're looking to do some more complex hacks, you're going to start using the <a href="https://wiki.cheatengine.org/index.php?title=Tutorials:Auto_Assembler:Basics">auto assembler</a> to modify assembly instructions (and not just data types) in memory.</p><p>I don't think there's anyone better than <a href="https://www.youtube.com/c/StephenChapman">Stephen Chapman</a> for showing you how to do this. In fact, he put together an <a href="https://www.youtube.com/playlist?list=PLNffuWEygffbbT9Vz-Y1NXQxv2m6mrmHr">entire YouTube playlist of Cheat Engine tutorials</a> that I would highly recommend. He uses Cheat Engine almost exclusively in his videos, so it'll give you a good idea of some of the magical things you can do with just one tool.</p><p>You can <a href="https://www.youtube.com/watch?v=uiX1eQhSboE">make</a> <a href="https://www.youtube.com/watch?v=hnZyZio5FBQ">entire</a> <a href="https://www.youtube.com/watch?v=A2G-09v9rO4">trainers</a> in Cheat Engine.</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/uiX1eQhSboE?list=PLNffuWEygffbbT9Vz-Y1NXQxv2m6mrmHr" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>Cheat Engine even supports Lua scripting, which makes it much easier to customize the functionality of your game hacks. There is an extensive set of both <a href="https://wiki.cheatengine.org/index.php?title=Lua">documented</a> and <a href="https://github.com/cheat-engine/cheat-engine/blob/master/Cheat%20Engine/bin/celua.txt">undocumented</a> Lua functions already built-in.</p><p>If you want to see just how much you can do with Cheat Engine, check out <a href="https://github.com/flarn2006/SA2CheatTable">this cheat table for Sonic Adventure 2</a>. I've yet to see a more advanced and comprehensive cheat table.</p><p>Once you get beyond simply finding and replacing values in memory, Cheat Engine can pretty much help you do anything else you want with most games.</p><h3 id="automating-with-c-">Automating with C++</h3><p>If you're really hardcore, you can automate any of your hacks with C++, mostly using the Windows API directly. I won't go into too much depth here, but you'll mostly be using <a href="https://docs.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess"><code>OpenProcess()</code></a> to get a handle to the game process, <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory"><code>ReadProcessMemory()</code></a> to read the memory from the game process, and <a href="https://docs.microsoft.com/en-us/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory"><code>WriteProcesMemory()</code></a> to write to the game process' memory. This method is known as an "external" hack because you're performing your actions from outside of the game process. You can do what's called an "internal" hack, where you first inject your own cheat process into the game process, and then read and write memory from inside the game's process.</p><p>Exactly how to do an internal or external hack goes a little beyond the scope of this article, but if you're interested in doing this, <a href="https://guidedhacking.com/threads/how-to-hack-any-game-tutorial-c-trainer-1-external.10897/">here's an example of an external hack using the Assault Cube game on Windows</a>, including source code. <a href="https://guidedhacking.com/threads/how-to-hack-any-game-tutorial-c-trainer-3-first-internal.12142/">This article</a> builds on that to perform an internal hack, including source code.</p><p>Why would you use C++ over Cheat Engine? It usually comes down to more low-level Windows API access (usually to bypass anti-cheat), or just personal preference. Cheat Engine is enough to do most game hacks, until you get into the more advanced game hacking...</p><h2 id="advanced">Advanced</h2><p>Some advanced topics that go beyond the scope of this beginner resource include:</p><h3 id="bypassing-anti-cheat">Bypassing anti-cheat</h3><p>Many online games include anti-cheat measures that go way beyond simple anti-debug tricks. More modern online games are also moving to anti-cheat solutions that operate in kernel mode, which makes it even trickier to bypass without writing your own Windows kernel driver, or exploiting a vulnerability in an existing kernel mode driver (<a href="https://guidedhacking.com/threads/vulnerable-kernel-drivers-for-exploitation.15979/#post-97057">here are a few you can use</a>). If you're interested in seeing how this is done, <a href="https://secret.club/">Secret Club</a> has a whole bunch of high quality articles on bypassing kernel mode anti-cheat software.</p><h3 id="visual-overlays">Visual overlays</h3><p>If you want to do something like an ESP hack (see where everyone is on the map) without writing to the game's process (for example, to prevent tripping anti-cheat software), you'll need to start writing overlay windows using something like <a href="https://docs.microsoft.com/en-us/windows/win32/direct3d12/directx-12-programming-guide">Microsoft DirectX</a>.</p><figure><iframe width="200" height="113" src="https://www.youtube.com/embed/i8Cn7fydNUA?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h3 id="network-interception-traffic-modification">Network interception &amp; traffic modification</h3><p>With online games in particular, some data may not even be exposed in client-side memory. In these cases, you'll need to intercept and modify traffic sent to the game servers. In most cases (but not all) these days, that traffic is encrypted, and the SSL certificate is usually pinned in the app, so traditional SSL interception measures won't work. Luckily, the traffic needs to be decrypted at <em>*some point*</em> in memory, which means you can still read and modify that data if you know where to look.</p><h2 id="other-resources">Other resources</h2><!--kg-card-begin: markdown--><p>Here are some resources that I haven't mentioned in the post, but are still noteworthy:</p>
<ul>
<li><a href="https://guidedhacking.com/forums/the-game-hacking-bible-learn-how-to-hack-games.469/">Guided Hacking's Game Hacking Bible</a>. I cannot recommend this enough. This guide walks you through a lot of the steps necessary to get from beginner to advanced game hacking, in a lot of detail. The <a href="https://guidedhacking.com/">Guided Hacking forum</a> is a gold mine of information, with a lot of helpful who will answer your questions (just make sure to do your research first).</li>
<li>YouTube channels:
<ul>
<li><a href="https://www.youtube.com/c/ReversingHub/videos">ReversingHub</a> - good for reverse engineering content</li>
<li><a href="https://www.youtube.com/channel/UC1a4ido01YxP_3-nspjmqCw/">CasualGamer</a></li>
<li><a href="https://www.youtube.com/c/GuidedHacking/">Guided Hacking</a></li>
<li><a href="https://www.youtube.com/user/BloodFayte/">Cheat The Game</a></li>
<li><a href="https://www.youtube.com/c/StephenChapman/">Stephen Chapman</a></li>
<li><a href="https://www.youtube.com/c/LiveOverflowCTF/videos">LiveOverflow</a> - some game hacking content, but also a lot of reverse engineering as well</li>
</ul>
</li>
<li>Forums:
<ul>
<li><a href="https://guidedhacking.com/">Guided Hacking</a> (I know I mentioned it above, but it's worth mentioning again; it's really good)</li>
<li><a href="https://fearlessrevolution.com/index.php?sid=7029b6b2eee2b3dbb35e706be76c458c">FearLes‚Ä¶</a></li></ul></li></ul></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thehacker.dev/getting-started-with-game-hacking-on-pc/">https://thehacker.dev/getting-started-with-game-hacking-on-pc/</a></em></p>]]>
            </description>
            <link>https://thehacker.dev/getting-started-with-game-hacking-on-pc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141935</guid>
            <pubDate>Mon, 15 Feb 2021 12:03:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lessons learnt from building an IoT company in Nigeria]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141746">thread link</a>) | @ideadibia
<br/>
February 15, 2021 | https://www.hardwarethings.org/features/grit-was-not-enough | <a href="https://web.archive.org/web/*/https://www.hardwarethings.org/features/grit-was-not-enough">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="siteWrapper">
      
        
      

      


      <main id="page" role="main">
        
          <article data-page-sections="5f9e1c0123873844ce8e4b15" id="sections">
  
    <section data-test="page-section" data-section-theme="" data-section-id="5f9e1c0123873844ce8e4b17" data-controller="SectionWrapperController, MagicPaddingController" data-current-styles="{
&quot;imageOverlayOpacity&quot;: 0.15,
&quot;backgroundWidth&quot;: &quot;background-width--full-bleed&quot;,
&quot;sectionHeight&quot;: &quot;section-height--medium&quot;,
&quot;horizontalAlignment&quot;: &quot;horizontal-alignment--center&quot;,
&quot;verticalAlignment&quot;: &quot;vertical-alignment--middle&quot;,
&quot;contentWidth&quot;: &quot;content-width--wide&quot;,
&quot;sectionTheme&quot;: &quot;&quot;,
&quot;sectionAnimation&quot;: &quot;none&quot;,
&quot;backgroundMode&quot;: &quot;image&quot;
}" data-animation="none">
  
  <div>
    <div>
      
      
      
      
      <div data-content-field="main-content" data-item-id="">
  <article id="article-">
  
    <div>
      

      <div>
        <div><div data-layout-label="Post Body" data-type="item" id="item-602859cdebfa8763353aed1e"><div><div><div data-block-type="2" id="block-959975d75821ecf976d6"><div><p><em>David Adebiyi</em></p><p>In September 2016, I was invited for a technical assessment at <a href="https://twitter.com/grit_systems"><span>GRIT Systems</span></a> as part of the hiring process for a hardware engineering role. This assessment lasted eight hours but I did not need that long to make a decision on whether I was going to join the team, should an offer be made. I made that decision during the lunch break. At lunch I met a future colleague who had strong opinions about 3D printing. Over our meals of rice and chicken stew, we had a fascinating discussion about additive manufacturing techniques. He made very good points and I was enchanted by the fact that GRIT had brilliant engineers who were heterodox in their thinking and approach. I was completely sold on the company.</p><p>At the time, I had recently graduated with a degree in Physics and was a self-taught electronics hobbyist with an internship at <a href="https://www.facebook.com/ayukuelect/"><span>Ayuku Electronics</span></a> under my belt. At Ayuku, I had learnt to produce custom LED display products but nothing on the scale as my new job would require.</p><p>Looking back now, a year and four months after I left GRIT Systems, I remember my time there fondly. The company is not active anymore, and my former colleagues have by now moved on to other things. But the technology we built together stands for itself. In many ways I became a real engineer at GRIT Systems: performed some amazing technical feats, delivered projects for multinationals, hired brilliant people, and led a great team. And this is the story of how we did it.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321120902_5099"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png" data-image-dimensions="847x471" data-image-focal-point="0.5,0.5" alt="GRIT Systems‚Äô flagship product was the G1 Meter.   GRIT Systems" data-load="false" data-image-id="602953c80113d771c797890d" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321161188-QESM66BMPA19G3GXK3N4/ke17ZwdGBToddI8pDm48kKTJsI9V7_GOYKp7iE4qyq5Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZamWLI2zvYWH8K3-s_4yszcp2ryTI0HqTOaaUohrI8PIie5Kpg2IoPZj5C8z7MyIe9-MSiseKLBJsGxiH_S7oTE/Grit+Story+-+Meter+Functions.png">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>GRIT Systems‚Äô flagship product was the G1 Meter. </strong><em>GRIT Systems</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321120902_6461"><div><h3>Show me the data</h3><p>Nigeria is an under-electrified country with only <a href="https://energypedia.info/wiki/Nigeria_Energy_Situation"><span>56.50% of the population</span></a> having access to grid power. Even those with access to the grid do not have a steady supply. This is one of the causes of the country‚Äôs underwhelming manufacturing sector, it also affects the general productivity. GRIT Systems was founded in 2015 against this backdrop, with the belief that to solve a problem as endemic as Nigeria‚Äôs power crisis, having reliable data on electricity usage was the key. If one had data across the entire value chain - from generation, to distribution, and then consumption - one could solve real problems. So we set out to collect this data.</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321291084_7092"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg" data-image-dimensions="680x377" data-image-focal-point="0.5,0.5" alt="Energy generation in Nigeria is low, and mostly serves residential consumers.   EMRC" data-load="false" data-image-id="6029548915621374f2db61d7" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321353520-KWGIWPAQU8VI1CGX42HU/ke17ZwdGBToddI8pDm48kJPwlMAIB4u-xv7bNq7qx15Zw-zPPgdn4jUwVcJE1ZvWQUxwkmyExglNqGp0IvTJZUJFbgE-7XRK3dMEBRBhUpzvhAdKZGU2a6EKruLuw7eZn6Xcfb8rNZiyi3ikB_TaJLrRPyxOuXAv2UruwiWgM5s/Grit+Story+-+EMRC+Nigeria+data.jpg">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>Energy generation in Nigeria is low, and mostly serves residential consumers.</strong> <em>EMRC</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321291084_8843"><div><p>The company built hardware devices to measure electricity usage of buildings as well as a software platform (web and mobile) for data analytics. The company also designed a series of modern smart electricity meters for the larger electricity distribution market. The products were targeted at building owners, energy auditors, and IPPs (independent power producers).</p><p>The company built an enviable structure that enabled rapid prototyping, but manufacturing was a hard nut to crack. Making electronics is easy on paper. You need your design, simulate the circuit behaviour with computer software, then prototype on a breadboard. Some more complex circuits require a PCB (printed circuit board) from the beginning. We kept an inventory of the most utilized components so that most prototypes could be made quickly. The stash was quite something, we probably had more variety of passive and active components than many electronics shops in Arena Market, Lagos.&nbsp;</p><p>For more involved concepts, the components were sourced online through Chinese suppliers or bought on popular online platforms such as Digi-Key, Arrow or Farnell. Shipping from Europe or North America was always quite expensive. Most components arrive in Nigeria by air, usually through a freight company. But getting here is the easy part. Delays to clear the ports, seizure for frivolous reasons, and other customs inefficiencies complicate the simple process of buying a component online and getting it delivered. Some entrepreneurs like <a href="https://hub360.com.ng/"><span>Hub360</span></a> are trying to solve this problem. But for anyone building something unique or moderately complex, sourcing overseas is inevitable.&nbsp;</p><p>Apart from component sourcing, another big problem we had at GRIT was PCB fabrication. Printed Circuit Boards, popularly known as ‚Äòboard‚Äô or ‚Äòpanel‚Äô on the streets of Alaba or Computer Village, are at the heart of any electronic product. Our ecosystem is yet to produce PCBs at scale. Local PCB houses that can churn out prototypes in days or a week are needed, these companies will eliminate the challenge of rapid prototyping most hardware teams face in the country. However, it remains to be seen if the market is large enough to sustain these kinds of businesses. It‚Äôs almost a chicken and egg question to which I have no definite answer. GRIT&nbsp; solved many of these challenges in unique ways that ultimately slowed us down.&nbsp;</p><h3>Running on all cylinders</h3><p>GRIT Systems had a formal hierarchical organizational structure on paper, although in reality it was flat. At the very top of its management was Ifedayo, who was the CEO and founder. The engineering team was led by the CTO, supported by the software and hardware team leads. But in truth, everyone reported to the CEO.</p><p>When it came to company culture, it was a high-octane environment. GRIT was a very difficult place for those who are not high achieving: first class degree in EE, started coding in high school, solved maths while dreaming, built racing drones in university, would prefer a dev board&nbsp; instead of a cake on their birthday - that type of high-achieving. People were expected to be self-starters, and capable of learning new things very quickly with little or no supervision.&nbsp;</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1613321291084_11577"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg" data-image-dimensions="2500x1656" data-image-focal-point="0.5,0.5" alt="GRIT also worked on developing young, diverse talent by organizing a hackathon for young ladies.   Twitter" data-load="false" data-image-id="60295523ba1371645cc5b19e" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5f9dfa7da3a0fa50f400e510/1613321509293-HNSQHSAO3ZOFIURQOLD8/ke17ZwdGBToddI8pDm48kDk1dm1oSR9gCa1mX4KqzjN7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0luj0xCD0oh5KMc0gpox0u-wQWxfQHg04OxgQwaUq2yiAcNt5Kg2tE9yEtYfM4xwaw/Grit+Story+-+Team+picture.jpg">
          </p>
        
          
        

        
          
          <figcaption>
            <p><strong>GRIT also worked on developing young, diverse talent by organizing a hackathon for young ladies.</strong> <em>Twitter</em></p>
          </figcaption>
        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1613321291084_13294"><div><p>There is no other startup where a 400 Level (fourth year of five) engineering intern builds test equipment. Friday (not his real name) struggled when he first joined us for his 6 months undergraduate internship. He was handed tasks he felt were beyond his capabilities, and I remember supervising him as he designed a device to easily test the magnetic hysteresis of ferrite cores. Ultimately, the experience he got from such a difficult task helped crystalize his academic knowledge into real know-how. He gained confidence in his abilities and he even went on to design software that was very valuable to the company.</p><p>Arguments happened a lot at GRIT and a lot of them were over technical details. For example, we once spent weeks evaluating the best Real-Time Operating System (RTOS) for a major project. An RTOS is a piece of firmware that a processor uses to manage real-time tasks. Unlike other types of software, physical computing sometimes has real-time constraints and a failure to meet this constraint could be catastrophic. This firmware helps manage the timing requirements in an efficient way that‚Äôs almost impossible for an applications programmer to do from scratch, which makes it expensive.</p><div><p>With cost, efficiency and safety certification in mind, an engineer at GRIT spent weeks evaluating different RTOS options, he profiled different pieces of software and made a final recommendation that saved us thousands of dollars. Sometimes, the new intern prevailed over the battle-tested engineer in a technical debate. It was really a meritocracy. </p><p>Everybody at GRIT was an expert at something, and more importantly, everyone was willing to share their expertise. There are not many companies where the CEO is willing to have pair-programming sessions with an intern, although I am still undecided on whether this was a positive thing in itself. I have to give credit to the brilliant and amazing people I met and worked with at GRIT Systems. Ifedayo, Ikenna (my immediate boss), and Emmanuel were big influences in my career. I learnt a great deal talking to them and since I didn‚Äôt have an engineering education, conversations with my colleagues filled many gaps for me.&nbsp;</p></div><h3>Where it went downhill</h3><div><p>GRIT was not a perfect place, I must have made that pretty clear by now. There are things I wish I did differently. We ran at a fast pace, and sometimes hired brilliant engineers who were not just compatible with our speed. I feel I did not do enough for some junior colleagues who needed help. Once, we hired a brilliant engineer who was a great programmer on the hardware team but the hardware team required full-stack engineers. Not full-stack in the software sense but full-stack in the sense that they are comfortable with designing hardware, writing firmware for microcontrollers, doing math analysis, and writing python scripts for systems automation.</p><p>This engineer was evidently skilled at web development and he would have been immediately productive on the software team, but he envisioned a career in robotics so he stuck to his guns and remained on the hardware team. He made mistakes which hurt his confidence and as a result I didn‚Äôt like assigning difficult tasks to him. I should have been more patient with him and more forceful in my defense of his performance during reviews. He was eventually let go, and he moved on to software development at his next job. I believe the whole event traumatized him enough that he left hardware.&nbsp;</p></div><p>The organization as a ‚Ä¶</p></div></div></div></div></div></div></div></div></article></div></div></div></section></article></main></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.hardwarethings.org/features/grit-was-not-enough">https://www.hardwarethings.org/features/grit-was-not-enough</a></em></p>]]>
            </description>
            <link>https://www.hardwarethings.org/features/grit-was-not-enough</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141746</guid>
            <pubDate>Mon, 15 Feb 2021 11:35:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stakes Create Good Software]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26141417">thread link</a>) | @todsacerdoti
<br/>
February 15, 2021 | https://cerebralab.com/Stakes_create_good_software | <a href="https://web.archive.org/web/*/https://cerebralab.com/Stakes_create_good_software">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
        
<p>It surprises me to no end that founders and VCs, which pride themselves on being economically rational actors, can't imagine a world where everyone else is also a somewhat economically rational actor.</p>
<h2>i - Maintenance cost disease</h2>
<p>For most software companies and products, development costs seem to increase as they age. Even if the core focus of those companies or products remains unchanged, easy examples being Uber, eBay, Paypal, Lyft and Facebook.</p>
<p>I can present the paradox in a single drawing</p>
<p><img src="https://cdn.cerebralab.com/images/corp_cost_1.png" alt="img 1"></p>
<p><em>(lines represent trends, not absolute values)</em></p>
<p>The hidden variable here is "team size". As these companies get older they accumulate engineers, but the quality of developers decreases.</p>
<p>The mean salary isn't decreasing due to salary cuts to the original team, it decreases because of the original team cashing out, retiring or starting their own companies, leading to a desperate attempt at replacing each of them with a lot of low paid interns.</p>
<p>This trend seems ubiquitous among large companies, the bit where their core product becomes worst is arguable, the bit where average salaries decrease is fairly indisputable if you include the shares early developers get as part of their compensation.</p>
<p>But why?</p>
<p>I'd expect a "healthy" version of the above graph to look closer to this:</p>
<p><img src="https://cdn.cerebralab.com/images/corp_cost_2.png" alt="img 1"></p>
<p>The hidden variable, "team size", starts going down instead of up after the company matures. Salaries increase for longer and remain high because the original developers must be paid large amounts to stay in the team, even though most still probably leave after a while. Getting "replacements" for them is very expensive, they might need months or years of training to get up to speed (the codebase is old and complicated) and arguably have to be smarter than the original devs. After all, creating code is usually easier than understanding the code someone else created, I know many people that can do the former, but few that can do the latter.</p>
<h2>ii - Dying a good death</h2>
<p>The product has now matured. New features might get shuffled around, but overall you just have to sit back and watch as gradual improvements in hardware, network and compilers make your good product even better by catching bugs, improving performance and reducing server costs.</p>
<p>This is not to say sales, marketing and legal don't have an increased workload as the audience grows, but software, in principle, is the same thing, just add 100x the servers to your cluster and you're good to go.</p>
<p>Some might say that "scale" is the thing that causes dev team costs to go up, and that would be a confounder if people were to only <a href="https://cerebralab.com/Stop_future_proofing_software">design for scale when needed</a>, but they aren't, so we use expensive IaaS providers, adopt serverless designs and run Kubernetes clusters from day 1. So I don't think the scale is the issue here, everything is already designed for scale. Furthermore, as I often like to point out, bigger machines can bring you a long way, you can fit 12TB of ECC DDR4 on a single instance and by the time I'm done writing this article those numbers might be 24 and 6, we are living at the end of Moore's law and it's amazing.</p>
<p>Maybe it's just a fundamental rule of everything that <a href="https://slatestarcodex.com/2017/02/09/considerations-on-cost-disease/">costs must go up forever</a>, no matter how big or small the system, until it collapses. I'm rather optimistic and think the problem here is solvable and has been solved by a few companies, but it's that very solution that makes them boring.</p>
<hr>
<p>You will see I use "decay" in the graph above to represent the final phase of a company, the one where usually the dev team grows exponentially with quality being sacrificed in exchange for quantity.</p>
<p>Despite the word I chose, I don't think this "decay" phase is necessarily bad. In the best of cases, it's synonymous with the product being forever enshrined in amber, continuing to be enjoyed by generations to come. At worst, its user base will very slowly dwindle as the market moves away from whatever generators of needs caused it's existence to being with.</p>
<p>A good example of a company going through a good "decay" period is Craigslist. A company making <a href="https://en.wikipedia.org/wiki/Craigslist">694 million a year with 50 employees</a>. It seems to be doing exactly what I'd have loved it to do if I ever invested in it, generating millions for me each year, playing it safe in a space it knows well, slowly expanding and improving. Will craigslist live forever? No. But even greed must know some limits, and if Craigslists is made defunct after generating dozens or hundreds of billions in revenue, I think everyone that started it will be fine with that.</p>
<p>Also note, only 500 millions of those are income, what's happening with 194 millions? Even if 50-80% go on something other than salaries, that's still an average salary of... oh god, I mean, I love my job and I'm not particularly inspired by craigslist and all... but... but anyway, I digress.</p>
<h2>iii - How to make stake</h2>
<p>I believe the reason that most companies are not going the Craiglist route is one of stake. Say you've got the funding team plus investors that have 90% of the stake in a venture, the rest is divided between late-stage investors and later employees. The funding team wants to cash out and stop working forever, which is fine, except that now only 10% of the stake in the success of the company is held by people working for the actual company.</p>
<p>So now you are left with two options:</p>
<p>a) Have workers that are interested in doing a good job for reasons other than the ultimate success of the business.</p>
<p>b) Make the stakes very high.</p>
<p>The first option seems to be what most public companies went with, and in principle is the reason why 2-men startups are able to wipe the floor with behemoths wielding hundreds of billions in assets. It's more or less the same problem that a government has in employing people, the lack of external incentives means that <a href="https://www.goodreads.com/book/show/279812.Moral_Mazes">everyone is focused on gaming internal systems</a> (e.g. trying to maximize political influence and department budgets at any cost), and those who aren't are soon kicked out of the game.</p>
<p>The second option seems to be what the Googles and Amazons of the world are doing, aiming to keep exponential growth going so that even if the stakes are very tiny relative to the company's size, employees still feel motivated by sharing in the product's success. This <a href="https://www.strangeloopcanon.com/p/maintenance-as-innovation-2n">seems to have some flaws</a>, for one, there's only so much growth a company like Google or Amazon can benefit from since their revenue is very tied into the overall economy, which doesn't seem to grow that quickly, if at all.</p>
<p>The third option seems to be the one that almost nobody is taking:</p>
<ul>
<li>Focus on what you did well the first time.</li>
<li>Downscale (or at least keep the team small) to save on internal costs.</li>
<li>Get very good developers and pay them (presumably) insane amounts to keep them motivated and make sure they never leave.</li>
</ul>
<h2>iv - Working without feedback</h2>
<p>Why am I saying one must pay developers exorbitant amounts to keep them motivated? It seems that most are doing just fine with what is getting closer and closer to minimal wage nowadays.</p>
<p>This is true, developers are cheap, but also, somehow, companies find they must hire hundreds of them to upkeep a similar product that was originally maintained by a few, if not one. And for some reason, the really good ones seem to prefer to work as CEOs and CTOs, or get out of the game entirely and work in academia or become FIRE minimalists.</p>
<p>That is because low wages lead to corrupt incentives. Low wages means developers are not too concerned about the company going under, or being fired. They'd prefer for that <em>not</em> to happen, but they can find another job that pays them about as much, maybe they even welcome the change of setting.</p>
<p>The only way to make monetary and stake progress is going up the chain, i.e. into management. But that just reinforces the problem, since it means good developers get promoted into positions where most of their skills become progressively more useless.</p>
<hr>
<p>If that picture seems wrong to you, reflect upon the last 20 years of software development consisting of hundreds if not thousands of teams of 1 to 3 loners achieving market dominance against well-organized teams of dozens of thousands of people with billions backing them.</p>
<p>So why don't companies have this model internally? Why wait for a startup to beat them when they could foster that kind of environment internally? Sure, Facebook can buy Instagram, but why spend dozens of billions buying Instagram instead of building it themselves.</p>
<p>Maybe it all boils down to fairly obvious insights about how humans think when they are "part of a team" and how people that "got there first" feel cheated if other people end up prospering equally with seemingly much smaller risks. More likely I'm wrong here and the current growth patterns are the best we could get, even given an ideal founding team.</p>
<h2>v - Extra thoughts</h2>
<p>Capitalism is great, it's the closest human have gotten to whatever magic the gods of love and peace bestow upon their clerics. It turns status-obsessed would-be mass murderers, your Ghnigish Khans, Alexanders the Greats and Stalins, into preference-utility maximizing specialists.</p>
<p>The one problem with capitalism is the wealth accumulation bit, it losses appeal without it, but the hierarchy of competition becomes hopelessly corrupt with it. Happily, enough death and taxes take care of that and have managed to help things move along ok for hundreds of years, granted, with a few hiccups, but hey, what system of running human affairs hasn't caused a genocide or two? We ought to look at the aggregate picture.</p>
<p>Corporations mirror capitalism, as above so bellow and all that jazz, in that the stakes available for any would-be participant get progressively lower. After all, if you buy in and work for google in the very beginning, you're getting shares that price in a great amount of risk. If you work for the google of today, the publically traded capital A google, there's no risk in taking shares as salary, you can sell them the next day for the equivalent cash amount, so no astronomical gains are possible.</p>
<p>This ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cerebralab.com/Stakes_create_good_software">https://cerebralab.com/Stakes_create_good_software</a></em></p>]]>
            </description>
            <link>https://cerebralab.com/Stakes_create_good_software</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141417</guid>
            <pubDate>Mon, 15 Feb 2021 10:47:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is This a Branch?]]>
            </title>
            <description>
<![CDATA[
Score 87 | Comments 46 (<a href="https://news.ycombinator.com/item?id=26141047">thread link</a>) | @wheresvic4
<br/>
February 15, 2021 | https://bartwronski.com/2021/01/18/is-this-a-branch/ | <a href="https://web.archive.org/web/*/https://bartwronski.com/2021/01/18/is-this-a-branch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						
<p>Let‚Äôs try a new format ‚Äì <strong>‚Äúshorts‚Äù</strong>; small blog posts where I elaborate on ideas that I‚Äôd discuss at my twitter, but they either come back over and over, or the short form doesn‚Äôt convey all the nuances.</p>



<div><figure><img src="https://lh5.googleusercontent.com/lc0z89hwcBtH59QnEvHrU__d1Be5uxjtjrjaBYi3updGObpyYlmpYvhlhXobMLWwyeRB2Sh--pEO7_oupCuDWdQXMtQnjcYfBjrO0TLDB_Zn5CJQLmDQm27enOR1C-tUEvmGGDL_" alt="" width="370" height="333"></figure></div>



<p>I often see advice about avoiding ‚Äúif‚Äù statements in the code (especially GPU shaders) at all costs. The worst of all is when this happens in glsl and programmers replace some simple if statements with (subjectively) horrible <a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/step.xhtml">step instruction</a> which IMO completely destroys all readability, or even worse ‚Äì sequences of mixes, maxes, clips and extra ALU.</p>



<p>After all, <strong>those ifs are branches, and branches are bad, right?</strong></p>



<p><strong>TLDR: No, definitely not ‚Äì on all accounts.</strong></p>



<h2>Why do programmers want to avoid branches?</h2>



<p>Let‚Äôs first address why programmers would like to avoid branches. There are some good reasons for that.</p>



<h3>Scalar CPU</h3>



<p>On the CPU, ‚Äúbranches‚Äù in a non-SIMD code might seem ‚Äúinnocent‚Äù, it‚Äôs just a conditional jump to some other code. Instead of executing an <em>instruction a</em> next address, we jump to <em>instruction b</em> at some other address. Unfortunately, there are many complicated things going on under the hood: All modern CPUs are heavily pipelined, superscalar, and out-of order.</p>



<div><figure><img src="https://lh5.googleusercontent.com/aJOrhsi_sQ7C4gG6z0cov73NA_qt-UckHrz10Uo5OGX22TuwRRf_n1ogyaRUSBsTsCU3wigOkYwIZMclAGslXKSruRk9P7ieNjYvyukZ9erHFaCr-QMuKvwPjMbLNuBfyMZGTqjc" alt="" width="344" height="330"><figcaption>All modern CPUs are superscalar and deeply pipelined. Many instructions are processed and executed at the same time. Source: <a href="https://en.wikipedia.org/wiki/Branch_predictor">wikipedia</a></figcaption></figure></div>



<p>To extract maximum efficiency, they use a model of <a href="https://en.wikipedia.org/wiki/Branch_predictor">speculative execution</a> ‚Äì a CPU ‚Äúgambles‚Äù and ‚Äúguesses‚Äù results of a branch ahead of time, not knowing if it will be taken or not, and starts executing those instructions. If it‚Äôs right ‚Äì great! However if it‚Äôs not, then the CPU needs to stall, cancel all the guesses, go back to the branch, and execute the other instructions. Oops.</p>



<p>Luckily, CPUs are usually very good at this ‚Äúguessing‚Äù (they actually analyze past branch patterns and take them into account!). On the other hand, without going into too much detail ‚Äì each branch consumes some of the branch predictor unit resources. One extra branch on some short, innocent code can make results of the branch prediction worse, and slow down other code (where branch predictor might be necessary for good performance!).</p>



<h3>SIMD and the GPU</h3>



<p>When considering SIMD or the GPU, the situation is even worse.</p>



<p>Simplifying ‚Äì single program and same instruction stream executes on multiple ‚Äúlanes‚Äù of the same data, processing 4/8/16/32/64 elements at the same time.</p>



<p>If you want to take a branch when some of the elements take one path, some another one, you have two main options: <strong>either abandon vectorization and scalarize code</strong> (very bad option; usually means that it‚Äôs not worth vectorizing given piece of code), or <strong>execute both code paths</strong> ‚Äì first the first one, store the results somewhere, execute the second one, and ‚Äúcombine‚Äù the results.</p>



<div><figure><img src="https://lh3.googleusercontent.com/GmopPKjJ_t4QpsGIhaIhjJn6cTfUjVaMSl9lDj74skwpNRUVIYtWQ8-V0j4mMLIyZk1CZEgn-9z5C1kExAlVjIw8Oikdx0L-gJnyrB-qUc5oi3_4aQmmcGwCcP51YutgGoAlRHdT" alt="" width="448" height="194"></figure></div>



<p>This is a general (over)simplification, and example GPUs have dedicated hardware to help do it efficiently and without wasting resources (hardware execution masks etc), but generally means extra cost of managing those masks, storing results somewhere, double execution costs and finally ‚Äì branches can serve as barriers, preventing some <a href="https://bartwronski.com/2014/03/27/gcn-two-ways-of-latency-hiding-and-wave-occupancy/">latency hiding (see my old blog post on it)</a>.</p>



<h3>Combined</h3>



<p>Given those two, it might seem that avoiding branches seems reasonable, and the common advice of avoiding ifs makes sense. But whether it makes sense to avoid branch or not is more complicated (more on it later), and the second one (whether an if is a branch) is not the case.</p>



<h2>Are if statements branches?</h2>



<p>Let‚Äôs clear the worst misconception.</p>



<p><strong>When you write an ‚Äúif‚Äù in your code, the compiler won‚Äôt necessarily generate a branch with a jump</strong>.</p>



<p>I will focus now on CPUs, mostly because how easy it is to test it with <a href="https://godbolt.org/">Matt Godbolt‚Äôs amazing compiler explorer</a>. üôÇ (Plus how there are two mainstream architectures, unlike many different shader ISAs)</p>



<p>Let‚Äôs have a look at the following simple integer function.</p>


<pre title="">int is_this_a_branch(int v, int w) {
    if (v &lt; 10) {
        return v + w; 
    } 
    else {
        return 2 * v - 2 * w;
    }
}
</pre>


<p>I tested it with 3 x64 compilers (GCC x64 trunk, Clang x64 trunk, MSVC 19.28) and one ARM (armv8-a clang), and only MSVC generates an actual branch there.</p>



<pre><code><strong>clang</strong>              
        mov     eax, edi
        sub     eax, esi
        add     esi, edi
        add     eax, eax
        cmp     edi, 10
        cmovl   eax, esi
        ret
<strong>gcc</strong>
        mov     eax, edi
        lea     edx, [rdi+rsi]
        sub     eax, esi
        add     eax, eax
        cmp     edi, 9
        cmovle  eax, edx
        ret
<strong>msvc </strong>       
        cmp     ecx, 10
        <strong>jge     SHORT $LN2@is_this_a_ BRANCH!!!
</strong>   BRANCH!
        lea     eax, DWORD PTR [rcx+rdx]
        ret     0
$LN2@is_this_a_:
        sub     ecx, edx
        lea     eax, DWORD PTR [rcx+rcx]
        ret     0

<strong>arm clang
</strong>        sub     w9, w0, w1
        add     w8, w1, w0
        lsl     w9, w9, #1
        cmp     w0, #10                         // =10
        csel    w0, w8, w9, lt</code></pre>



<p>When using floats:</p>


<pre title="">float is_this_a_branch2(float v, float w) {
    if (v &lt; 10.0f) {
        return v + w; 
    } 
    else {
        return 2.0f * v - 2.0f * w;
    }
}
</pre>


<p>Now 2 out of 4 compilers generate a branch:</p>



<pre><code><strong>clang</strong>           
        movaps  xmm2, xmm0
        addss   xmm2, xmm1
        movaps  xmm3, xmm0
        addss   xmm3, xmm0
        addss   xmm1, xmm1
        cmpltss xmm0, dword ptr [rip + .LCPI1_0]
        subss   xmm3, xmm1
        andps   xmm2, xmm0
        andnps  xmm0, xmm3
        orps    xmm0, xmm2
        ret

<strong>gcc
</strong>        movss   xmm2, DWORD PTR .LC0[rip]
        comiss  xmm2, xmm0
        <strong>jbe     .L10  BRANCH!!!
</strong>
        addss   xmm0, xmm1
        ret
.L10:
        addss   xmm1, xmm1
        addss   xmm0, xmm0
        subss   xmm0, xmm1
        ret

<strong>msvc
</strong>        movss   xmm2, DWORD PTR __real@41200000
        comiss  xmm2, xmm0
        <strong>jbe     SHORT $LN2@is_this_a_  BRANCH!!!</strong>
        addss   xmm0, xmm1
        ret     0
$LN2@is_this_a_:
        addss   xmm0, xmm0
        addss   xmm1, xmm1
        subss   xmm0, xmm1
        ret     0

<strong>arm clang
</strong>        fadd    s2, s0, s1
        fadd    s3, s0, s0
        fadd    s1, s1, s1
        fmov    s4, #10.00000000
        fsub    s1, s3, s1
        fcmp    s0, s4
        fcsel   s0, s2, s1, mi
        ret</code></pre>



<h3>What are those conditionals and selects?</h3>



<p>This is basically CPUs‚Äô and compilers‚Äô way of ‚Äúserializing‚Äù both code paths. If it considers overhead of a branch larger than the amount of work it can save, it makes sense to compute both code paths, and use a single instruction to select which one is the actual result.</p>



<p>This obviously ‚Äúdepends‚Äù on the use case and whether it is even ‚Äúlegal‚Äù for a compiler to do such a transformation (like ‚Äúside effects‚Äù; or if a compiler executed some reads of memory, it could be unsafe and lead to segmentation fault).&nbsp;</p>



<h2>Does writing ternary conditional help avoid branches?</h2>



<p><strong>No.</strong></p>



<p>This is a common advice, but it‚Äôs generally not true. If you look at the above example rewritten slightly:</p>


<pre title="">float is_this_a_branch3(float v, float w) {
    return v &lt; 10.0f ? (v + w) : (2.0f * v - 2.0f * w);
}
</pre>


<p>The generated code is <strong>identical </strong>(!).</p>



<p>It might be <em>possible</em> (?) that some compilers do generate branchless code for like this, but giving this as a general advice makes no sense. Whether you write an actual if, or a ternary expression, it‚Äôs still a high level if statement, just expressed differently.</p>



<h2>What about the GPU?</h2>



<p><strong>On the GPU, it‚Äôs the same; the compiler will generate conditional selects when appropriate.</strong></p>



<p>I used <a href="http://shader-playground.timjones.io/">Tim Jones Shader Playground</a> and AMD ISA (mostly because I know it relatively better than the others), and the unfortunate step function:</p>


<pre title="">#version 460

layout (location = 0) out vec4 fragColor;
layout (location = 0) in float inColor;

void main()
{
#if 1
	fragColor = vec4(step(1.0, inColor));
#else
    float x;
    if (inColor &lt; 1.0)
        x = 1.0;
   	else
        x = 0.0;
   	fragColor = vec4(x);
#endif
}
</pre>


<p>See for yourself, both versions generate identical assembly:</p>



<pre><code>  s_mov_b32     m0, s3
  s_nop         0x0000
  v_interp_p1_f32  v0, v0, attr0.x
  v_interp_p2_f32  v0, v1, attr0.x
  v_cmp_gt_f32  vcc, 1.0, v0
  v_cndmask_b32  v0, 1.0, 0, vcc
  v_cvt_pkrtz_f16_f32  v0, v0, v0
  exp           mrt0, v0, v0, v0, v0 done compr vm</code></pre>



<p>When using fastmath and not obeying strict IEEE float specification (which is standard for compiling shaders for real time graphics), compilers can even generate other instructions like min or max from your if statements. But YMMV and be sure to check the assembly.</p>



<p>So generally ‚Äì using ‚Äústep‚Äù just to avoid if statements is <strong>pointless</strong>.</p>



<p>If you like it for your coding style, then it‚Äôs obviously up to you, use as much as you like just for this reason. But please consider programmers who don‚Äôt have as much shader or GLSL experience and will be always puzzled by it. üôÇ </p>



<h2>Are branches always to be avoided?</h2>



<p><strong>No.</strong></p>



<p>This is way beyond my aimed ‚Äúshort‚Äù format, but <strong>branches are not necessarily ‚Äúbad‚Äù</strong>.</p>



<p>They can be actually an awesome optimization, even on the GPU!</p>



<p>If you start to use a lot of conditionals</p>



<p>Lots of advice on how branches are bad and have to be avoided comes from a prehistoric era of old CPUs and GPUs or old compilers; an advice that is passed without re(verifying) ‚Äì which is understandable, I am not re-checking my whole knowledge or intuition every few months either. üôÇ </p>



<p>But the CPU/GPU/compiler architects improved designs significantly and adapted them to general, highly branchy code, and whether there is a penalty or not depends on way too many details to list or give advice.</p>



<p><strong>Rule of thumb</strong>: if a branch is generally coherent, it makes sense to use it when it allows to save on memory bandwidth or cache utilization. On GPUs it is usually worth adding branches if you can avoid texture fetches this way with a high probability and coherence. And it‚Äôs usually better to have some conditional masks and selects around ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://bartwronski.com/2021/01/18/is-this-a-branch/">https://bartwronski.com/2021/01/18/is-this-a-branch/</a></em></p>]]>
            </description>
            <link>https://bartwronski.com/2021/01/18/is-this-a-branch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141047</guid>
            <pubDate>Mon, 15 Feb 2021 09:52:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Interactive Data Visualisation with Rust]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 12 (<a href="https://news.ycombinator.com/item?id=26141018">thread link</a>) | @batterylow
<br/>
February 15, 2021 | https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/ | <a href="https://web.archive.org/web/*/https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<pre>[[0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0], [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]]</pre>
</div></div>]]>
            </description>
            <link>https://shahinrostami.com/posts/programming/rust-notebooks/visualisation-of-co-occurring-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26141018</guid>
            <pubDate>Mon, 15 Feb 2021 09:49:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mental Health and Free Software (FOSDEM 2021)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140976">thread link</a>) | @babolivier
<br/>
February 15, 2021 | https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2 | <a href="https://web.archive.org/web/*/https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tube.abolivier.bzh/videos/watch/c28a3957-25cb-4519-ad3d-9f8812f88ee2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140976</guid>
            <pubDate>Mon, 15 Feb 2021 09:41:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Managing Oneself]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140936">thread link</a>) | @BerislavLopac
<br/>
February 15, 2021 | https://stray-reflections.com/article/176/Managing_Oneself | <a href="https://web.archive.org/web/*/https://stray-reflections.com/article/176/Managing_Oneself">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <div><div>
<p>Among the quick, incisive thrusts of practical wisdom from Peter Drucker is this:&nbsp;‚ÄúThe best way to predict your future is to create it.‚Äù&nbsp;</p>
<p>But before we can&nbsp;<i>create</i>, we must get to know ourselves. Drucker points out that success in the knowledge economy comes to those who know their strengths, their values, and how they best perform. Only then, armed with such self-knowledge, can we decide where we belong and what our contribution should be.&nbsp;<br></p>
<p>The problem is we‚Äôre all&nbsp;bad at evaluating our strengths. ‚ÄúIt's amazing how few people know what they are good at,‚Äù Drucker says. We‚Äôre much better at knowing what we‚Äôre&nbsp;<i>not</i>&nbsp;good at. So, he suggests constantly giving yourself feedback on how you‚Äôre doing.&nbsp;</p>
<p>After every key decision or action, we should write down what we expect will happen. And some months later, compare the actual results with our expectations.&nbsp;</p>
<p>Once we‚Äôve figured out what we‚Äôre good at, we should go to work on acquiring the skills and knowledge we need to fully realize our strengths. See where the gaps are and fill them in. Find where our intellectual arrogance is causing disabling ignorance and overcome it.</p>
<p><b>Drucker believes one should waste as little effort as possible on improving areas of low competence. ‚ÄúIt takes far more energy and work to improve from incompetence to mediocrity,‚Äù he reckons, ‚Äúthan it takes to improve from first-rate performance to excellence.‚Äù</b></p>
<p>We all work differently. But few people think about exactly&nbsp;<i>how&nbsp;</i>they work. It is more a matter of personality‚Äîand not easily changed. Drucker questions us: Do you learn through reading, listening, writing, or talking? Do you work in large or small groups? As a decision maker or an adviser? We shouldn‚Äôt try to change our methods; rather, we should seek environments that suit them.</p>
<p>Working in an organization whose value system is incompatible with our own condemns us to frustration. For us to be effective in our roles, our values do not need to be the same, but they must be close enough to coexist. Organizations are built on trust; and for this, we must understand one another.</p>
<p>Accept that other people are as much individuals as you yourself are. This means they too have their own strengths, performance modes, and values. Bosses are entitled to work in their own way; we are required to find out what that way is.&nbsp;Drucker instructs: ‚ÄúManners enable two people to work together whether they like each other or not.‚Äù</p>
<p>We should take responsibility for relationships and communication. Few people achieve on their own, and most conflict arises because we don‚Äôt communicate properly.</p>
<p>‚ÄúIf you believe in yourself, perform solo,‚Äù Drucker says. ‚ÄúJobs are too risky.‚Äù He calls them ‚Äúdangerous liaisons.‚Äù His advice to those taking the plunge: ‚ÄúIf you have the emotional fortitude to last three years, you‚Äôll succeed.‚Äù&nbsp;It‚Äôs not the money that‚Äôs the crucial resource; it‚Äôs that ability to survive those first years of hopeful, promising leads that lead nowhere.&nbsp;</p>
<p><b>Today, most work is knowledge work, and knowledge workers are not ‚Äúfinished‚Äù after forty years on the job, they are merely bored.&nbsp;</b><b>According to Drucker, a midlife crisis is mostly boredom.</b></p>
<p>Around the age of forty-five, most people have reached the peak of their careers‚Äîand they know it. After twenty years of doing the same kind of work, they are very good at their jobs. But they are not learning or contributing or deriving challenge or satisfaction.&nbsp;They‚Äôre facing another twenty years of the same thing. &nbsp;</p>
<p>At such time, Drucker says, we should develop a second career. One way is to switch jobs for a new challenge. Another is to develop a parallel career, a side business, or volunteer.&nbsp;<b>It is vitally important to have an area in which we can contribute, make a difference, and be ‚Äúsomebody.‚Äù This does not have to be work-related. It means finding a second area that satisfies our soul. It can be family, faith, or a personal passion.</b></p>
<p>No one can expect to reach professional heights and sustain them indefinitely. Professional decline starts earlier than almost anyone thinks. At some point we all experience a setback at work or in life. A second major interest‚Äînot just a hobby‚Äîmay make all the difference. Drucker recommends that we develop it early.&nbsp;<b>We must manage the second half of our life long before we enter it.</b>&nbsp;</p>
<p>Staying mentally alert and engaged during a 50-year working life means knowing how and when to change the work we do. Contentment comes to those who see this as an opportunity both for themselves and for society.</p>
<p>Historically, there was no such thing as ‚Äúsuccess,‚Äù Drucker points out. The vast majority of people did not expect anything but to stay in their ‚Äúproper station,‚Äù as an old English prayer has it. The only mobility was downward mobility.&nbsp;</p>
<p>In a knowledge society, however, we expect everyone to be a success. ‚ÄúThis is clearly an impossibility,‚Äù Drucker declares from experience. ‚ÄúFor many people, there is at best an absence of failure.‚Äù</p>
<p>What we should focus on instead is another question he poses: What do you want to be remembered for? The answers should change as one gets older, and adjust with changes in the world. For Drucker, the one thing worth being remembered for is how you touch people.</p>
</div> </div>
                    </div></div>]]>
            </description>
            <link>https://stray-reflections.com/article/176/Managing_Oneself</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140936</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Shopify's Top 90 Most Successful Startups in 2021]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 15 (<a href="https://news.ycombinator.com/item?id=26140934">thread link</a>) | @cedyf
<br/>
February 15, 2021 | https://reviewbolt.com/top/shopify/ | <a href="https://web.archive.org/web/*/https://reviewbolt.com/top/shopify/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><h2>Here's the list of the top 90 Shopify websites by traffic. All data is sourced from SimilarWeb's public data. I estimate revenue with [traffic * global ecom conversion rate * price of best selling product]. Facebook spend is estimated by [social traffic * 1.8 ]. SimilarWeb tells us how much traffic they receive from social channels and I multiply that by an average CPC of 1.8 as they tend to under-report this figure when I cross-reference it against large social media accounts that I manage. Keep scrolling to see more details for each company. Enjoy this list? Share this with 1 friend.</h2></p><div id="fashionnova.com"><h2>1<!-- -->. <!-- -->Fashionnova<!-- --> - <!-- -->22.49M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="fashionnova.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dfashionnova.com%26t%3D1%26h%3Df6f43f7475663a2f2737f003dbfd012d8b590d7747ddd90f6e4e5e629f5475d6&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Fashion nova is the top online fashion store for women. shop sexy club dresses, jeans, shoes, bodysuits, skirts and more. cheap &amp;amp; affordable fashion online.<!-- --> </h3><h3>Fashionnova gets 22M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->fashionnova.com<!-- --> growing?</h3><h3> <!-- -->fashionnova.com<!-- --> has grown by <!-- -->-10.0%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->fashionnova.com<!-- -->?</h3><h3>Last month, <!-- -->fashionnova.com<!-- --> received <!-- -->22M<!-- --> visitors who spent an average of <!-- -->7.9<!-- --> minutes on the website and visited <!-- -->6.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->fashionnova.com<!-- -->? </h3><h3>10.2M<!-- --> people <!-- -->(45%)<!-- --> visit <!-- -->fashionnova.com<!-- --> directly. <!-- -->8.4M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->1.5M<!-- --> <!-- -->(7%)<!-- --> discover <!-- -->fashionnova.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->1.9M<!-- --> <!-- -->(8%)<!-- --> visitors come from <!-- -->fashionnova.com<!-- -->'s email newsletters. Finally, <!-- -->418.9k<!-- --> <!-- -->(1.9%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->fashionnova.com<!-- -->?</h3><h3>Fashionnova.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->15.6M (69.6%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->1.9M (8.3%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->525.1k (2.3%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->480.9k (2.1%)<!-- -->. Finally, the 5th is <!-- -->Jamaica<!-- --> with <!-- -->279.3k (1.2%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-10.00%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>22.49M</h3></p><p><h3>Time on Site</h3><h3>7.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>6.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="jbhifi.com.au"><h2>2<!-- -->. <!-- -->Jbhifi<!-- --> - <!-- -->15.23M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="jbhifi.com.au screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Djbhifi.com.au%26t%3D1%26h%3Df7d5d51124abe27b728cfb83593c9991a70609037429c102666adc2821afdd94&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Jb hi-fi is australia's largest home entertainment retailer with top products, great quality + value. learn more about our product range online.<!-- --> </h3><h3>Jbhifi gets 15M monthly visitors and grows primarily through Search traffic from Australia.</h3><p><h3>How fast is <!-- -->jbhifi.com.au<!-- --> growing?</h3><h3> <!-- -->jbhifi.com.au<!-- --> has grown by <!-- -->-0.9%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Last month, <!-- -->jbhifi.com.au<!-- --> received <!-- -->15M<!-- --> visitors who spent an average of <!-- -->3.5<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->34<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->jbhifi.com.au<!-- -->? </h3><h3>5.3M<!-- --> people <!-- -->(35%)<!-- --> visit <!-- -->jbhifi.com.au<!-- --> directly. <!-- -->8.8M<!-- --> <!-- -->(58%)<!-- --> people search for them in Google. Whereas, <!-- -->243.1k<!-- --> <!-- -->(2%)<!-- --> discover <!-- -->jbhifi.com.au<!-- --> through Facebook, Reddit, and YouTube. <!-- -->271.4k<!-- --> <!-- -->(2%)<!-- --> visitors come from <!-- -->jbhifi.com.au<!-- -->'s email newsletters. Finally, <!-- -->17.3k<!-- --> <!-- -->(0.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->jbhifi.com.au<!-- -->?</h3><h3>Jbhifi.com.au<!-- -->'s top market is the <!-- -->Australia<!-- --> and they receive <!-- -->14.8M (97.2%)<!-- --> people. Then the 2nd is <!-- -->United States<!-- --> with <!-- -->117.9k (0.8%)<!-- -->, the 3rd is <!-- -->New Zealand<!-- --> with <!-- -->49.2k (0.3%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->31.6k (0.2%)<!-- -->. Finally, the 5th is <!-- -->China<!-- --> with <!-- -->15.6k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-0.90%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>15.23M</h3></p><p><h3>Time on Site</h3><h3>3.5<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>34<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="colourpop.com"><h2>3<!-- -->. <!-- -->Colourpop<!-- --> - <!-- -->11.08M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="colourpop.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dcolourpop.com%26t%3D1%26h%3D001d20a66a62a586f5708a8e762711a9c141179770e474fb260a49f8e2efdf32&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Redefining luxury beauty by creating high quality products at affordable prices. we pride ourselves on being cruelty-free, wallet-friendly, and keeping our customers at the center of our world. made in the usa, we imagine, innovate, test, and manufacture all under one roof.<!-- --> </h3><h3>Colourpop gets 11M monthly visitors and grows primarily through Direct traffic from United States.</h3><p><h3>How fast is <!-- -->colourpop.com<!-- --> growing?</h3><h3> <!-- -->colourpop.com<!-- --> has grown by <!-- -->21.5%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->colourpop.com<!-- -->?</h3><h3>Last month, <!-- -->colourpop.com<!-- --> received <!-- -->11M<!-- --> visitors who spent an average of <!-- -->5.6<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->40<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->colourpop.com<!-- -->? </h3><h3>5.9M<!-- --> people <!-- -->(53%)<!-- --> visit <!-- -->colourpop.com<!-- --> directly. <!-- -->3.5M<!-- --> <!-- -->(31%)<!-- --> people search for them in Google. Whereas, <!-- -->696.6k<!-- --> <!-- -->(6%)<!-- --> discover <!-- -->colourpop.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->706.4k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->colourpop.com<!-- -->'s email newsletters. Finally, <!-- -->134.7k<!-- --> <!-- -->(1.2%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->colourpop.com<!-- -->?</h3><h3>Colourpop.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->6.9M (62.0%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->503.6k (4.5%)<!-- -->, the 3rd is <!-- -->Australia<!-- --> with <!-- -->412.8k (3.7%)<!-- -->, the 4th is <!-- -->United Kingdom<!-- --> with <!-- -->346.1k (3.1%)<!-- -->. Finally, the 5th is <!-- -->France<!-- --> with <!-- -->210k (1.9%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->21.50%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>11.08M</h3></p><p><h3>Time on Site</h3><h3>5.6<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>4.0</h3></p><p><h3>Bounce Rate</h3><h3>40<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="gymshark.com"><h2>4<!-- -->. <!-- -->Gymshark<!-- --> - <!-- -->4.68M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="gymshark.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dgymshark.com%26t%3D1%26h%3D7f7a6a9ec9d208acc9dd13cd4920a8631d7c3b599259acaabd3545b0a0917f45&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop official gymshark exclusively online. enjoy lasting quality &amp; the perfect fit. free returns &amp; free shipping on workout clothes &amp; gym wear orders over $75.<!-- --> </h3><h3>Gymshark gets 5M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->gymshark.com<!-- --> growing?</h3><h3> <!-- -->gymshark.com<!-- --> has grown by <!-- -->-8.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->gymshark.com<!-- -->?</h3><h3>Last month, <!-- -->gymshark.com<!-- --> received <!-- -->5M<!-- --> visitors who spent an average of <!-- -->4.7<!-- --> minutes on the website and visited <!-- -->7.0<!-- --> different pages per session. Overall, <!-- -->37<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->gymshark.com<!-- -->? </h3><h3>1.5M<!-- --> people <!-- -->(32%)<!-- --> visit <!-- -->gymshark.com<!-- --> directly. <!-- -->2.5M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->208.7k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->gymshark.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->227.3k<!-- --> <!-- -->(5%)<!-- --> visitors come from <!-- -->gymshark.com<!-- -->'s email newsletters. Finally, <!-- -->223.2k<!-- --> <!-- -->(4.8%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->gymshark.com<!-- -->?</h3><h3>Gymshark.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->1.6M (34.9%)<!-- --> people. Then the 2nd is <!-- -->United Kingdom<!-- --> with <!-- -->879.8k (18.8%)<!-- -->, the 3rd is <!-- -->Canada<!-- --> with <!-- -->344.4k (7.4%)<!-- -->, the 4th is <!-- -->Australia<!-- --> with <!-- -->281.8k (6.0%)<!-- -->. Finally, the 5th is <!-- -->Netherlands<!-- --> with <!-- -->213.4k (4.6%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-8.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.68M</h3></p><p><h3>Time on Site</h3><h3>4.7<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>7.0</h3></p><p><h3>Bounce Rate</h3><h3>37<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="isawitfirst.com"><h2>5<!-- -->. <!-- -->Isawitfirst<!-- --> - <!-- -->4.13M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="isawitfirst.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Disawitfirst.com%26t%3D1%26h%3Dea38e7470f7f7094778855e46e539de594237a32f75a40229a0916883b283973&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop the latest women's fashion at i saw it first. 100s of new styles every week! clothes, dresses, shoes &amp; accessories. must have looks and trends from only ¬£5<!-- --> </h3><h3>Isawitfirst gets 4M monthly visitors and grows primarily through Search traffic from United Kingdom.</h3><p><h3>How fast is <!-- -->isawitfirst.com<!-- --> growing?</h3><h3> <!-- -->isawitfirst.com<!-- --> has grown by <!-- -->-9.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->isawitfirst.com<!-- -->?</h3><h3>Last month, <!-- -->isawitfirst.com<!-- --> received <!-- -->4M<!-- --> visitors who spent an average of <!-- -->7.2<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->45<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->isawitfirst.com<!-- -->? </h3><h3>1.3M<!-- --> people <!-- -->(31%)<!-- --> visit <!-- -->isawitfirst.com<!-- --> directly. <!-- -->2.3M<!-- --> <!-- -->(55%)<!-- --> people search for them in Google. Whereas, <!-- -->127.6k<!-- --> <!-- -->(3%)<!-- --> discover <!-- -->isawitfirst.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->235.2k<!-- --> <!-- -->(6%)<!-- --> visitors come from <!-- -->isawitfirst.com<!-- -->'s email newsletters. Finally, <!-- -->85.7k<!-- --> <!-- -->(2.1%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->isawitfirst.com<!-- -->?</h3><h3>Isawitfirst.com<!-- -->'s top market is the <!-- -->United Kingdom<!-- --> and they receive <!-- -->3.4M (82.5%)<!-- --> people. Then the 2nd is <!-- -->Ireland<!-- --> with <!-- -->232.1k (5.6%)<!-- -->, the 3rd is <!-- -->United States<!-- --> with <!-- -->171k (4.1%)<!-- -->, the 4th is <!-- -->Sweden<!-- --> with <!-- -->34k (0.8%)<!-- -->. Finally, the 5th is <!-- -->Australia<!-- --> with <!-- -->30.8k (0.7%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->-9.80%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>4.13M</h3></p><p><h3>Time on Site</h3><h3>7.2<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>45<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="ruggable.com"><h2>6<!-- -->. <!-- -->Ruggable<!-- --> - <!-- -->3.2M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="ruggable.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Druggable.com%26t%3D1%26h%3D6862c65c5107ddbf92bec9da3ebc230bde417736443c3e2e3d0fb8859e061124&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop area rugs, accent rugs and runner rugs at ruggable. washable, stain-resistant and waterproof, our rugs are perfect for homes with kids and pets. ships free!<!-- --> </h3><h3>Ruggable gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->ruggable.com<!-- --> growing?</h3><h3> <!-- -->ruggable.com<!-- --> has grown by <!-- -->52.4%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->ruggable.com<!-- -->?</h3><h3>Last month, <!-- -->ruggable.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.9<!-- --> minutes on the website and visited <!-- -->5.0<!-- --> different pages per session. Overall, <!-- -->46<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->ruggable.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(33%)<!-- --> visit <!-- -->ruggable.com<!-- --> directly. <!-- -->1.2M<!-- --> <!-- -->(37%)<!-- --> people search for them in Google. Whereas, <!-- -->639k<!-- --> <!-- -->(20%)<!-- --> discover <!-- -->ruggable.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->121.5k<!-- --> <!-- -->(4%)<!-- --> visitors come from <!-- -->ruggable.com<!-- -->'s email newsletters. Finally, <!-- -->141.4k<!-- --> <!-- -->(4.4%)<!-- --> people come from affiliates and or paid referrals. </h3></p><p><h3>Who uses <!-- -->ruggable.com<!-- -->?</h3><h3>Ruggable.com<!-- -->'s top market is the <!-- -->United States<!-- --> and they receive <!-- -->3M (93.9%)<!-- --> people. Then the 2nd is <!-- -->Canada<!-- --> with <!-- -->109.2k (3.4%)<!-- -->, the 3rd is <!-- -->United Kingdom<!-- --> with <!-- -->11.7k (0.4%)<!-- -->, the 4th is <!-- -->Germany<!-- --> with <!-- -->5.4k (0.2%)<!-- -->. Finally, the 5th is <!-- -->India<!-- --> with <!-- -->4.5k (0.1%)<!-- --> visitors.</h3></p><div><p><h3>Traffic Growth</h3><h3> <!-- -->52.40%<!-- --> </h3></p><p><h3>Monthly Hits</h3><h3>3.2M</h3></p><p><h3>Time on Site</h3><h3>3.9<span>Mins</span></h3></p><p><h3>Pages per Visit</h3><h3>5.0</h3></p><p><h3>Bounce Rate</h3><h3>46<!-- -->%</h3></p></div><div><div><div><h2>Traffic Growth (last 6 months)</h2></div></div></div></div></div><div id="morphe.com"><h2>7<!-- -->. <!-- -->Morphe<!-- --> - <!-- -->3.16M<!-- --> </h2><div><div><div><div><p><img layout="responsive" alt="morphe.com screenshot" data-src="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75" data-srcset="/_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=320&amp;q=75 320w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=420&amp;q=75 420w, /_next/image?url=https%3A%2F%2Fsite-images.similarcdn.com%2Fimage%3Furl%3Dmorphe.com%26t%3D1%26h%3D5d37734821403b1d5f02e1a8ec60cc9123259a9313150817cbebfdd0aac0b5ce&amp;w=768&amp;q=75 768w"></p></div></div></div></div><div><h3>Shop morphe.com to blend the rules. eyeshadow palettes, makeup brushes and lip colors from james charles, jaclyn hill, and others. a beauty brand created for the creators.<!-- --> </h3><h3>Morphe gets 3M monthly visitors and grows primarily through Search traffic from United States.</h3><p><h3>How fast is <!-- -->morphe.com<!-- --> growing?</h3><h3> <!-- -->morphe.com<!-- --> has grown by <!-- -->-36.8%<!-- --> in the last 6 months according to SimilarWeb. </h3></p><p><h3>How do people interact with <!-- -->morphe.com<!-- -->?</h3><h3>Last month, <!-- -->morphe.com<!-- --> received <!-- -->3M<!-- --> visitors who spent an average of <!-- -->3.0<!-- --> minutes on the website and visited <!-- -->4.0<!-- --> different pages per session. Overall, <!-- -->48<!-- -->% of people bounce on the first visit.</h3></p><p><h3>How do people find <!-- -->morphe.com<!-- -->? </h3><h3>1.1M<!-- --> people <!-- -->(36%)<!-- --> visit <!-- -->morphe.com<!-- --> directly. <!-- -->1.7M<!-- --> <!-- -->(53%)<!-- --> people search for them in Google. Whereas, <!-- -->141.4k<!-- --> <!-- -->(4%)<!-- --> discover <!-- -->morphe.com<!-- --> through Facebook, Reddit, and YouTube. <!-- -->102.7k<!-- --> <!-- -->(3%)<!-- --> visitors come from <!-- -->morphe.com<!-- -->'s email newsletters. Finally, <!-- -->29.4k<!-- --> <!-- -->(0.9%)<!-- --> people come from affiliates ‚Ä¶</h3></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reviewbolt.com/top/shopify/">https://reviewbolt.com/top/shopify/</a></em></p>]]>
            </description>
            <link>https://reviewbolt.com/top/shopify/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140934</guid>
            <pubDate>Mon, 15 Feb 2021 09:36:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unwinnability and Wishbringer]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140745">thread link</a>) | @tobr
<br/>
February 15, 2021 | https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html | <a href="https://web.archive.org/web/*/https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-8169978390192935301" itemprop="description articleBody">
<p>Someone <a href="https://intfiction.org/t/is-there-another-version-of-zork-1-that-doesnt-do-inventory-management/49317">asked</a> recently about a version of <em><a href="https://ifdb.tads.org/viewgame?id=0dbnusxunq7fw5ro">Zork</a></em> modified to avoid all the classical Infocom annoyances. Expiring light sources, random combat, crucial items stolen by the thief... <em>Zork</em> comes from an era where all these were simply part of the fun. You saved a lot, optimized your run, and tried again if you failed. But the gaming world -- I include myself -- has largely decided over time that this <em>isn't</em> fun.</p>
<p>As far as I know, there is no such modified <em>Zork</em>. But it's an intriguing idea! In fact someone <em>is</em> working on a <a href="https://github.com/Kweepa/planetfall-gold">modified <em>Planetfall</em></a> in just this vein. A new <code>MODERN</code> command switches to a mode with no hunger timer and, ideally, no unwinnable situations.</p>
<p>When we talk about those early games, it's easy to fall into the trap of calling those unwinnable situations <em>mistakes</em> or <em>design flaws</em>. Once you do that, you're stuck searching for explanations of why the designers <em>made those mistakes</em>. Answers come in two flavors. Either (a) the state of the art was too primitive to understand that unwinnable situations were bad; or (b) the designers were padding out their games to a given level of difficulty or play time.</p>
<p>Speaking as one who played the games back in the day: this is just wrong.</p>

<blockquote>
<p>The early generations of text adventure games tended to have a lot of chances that could lead players to unwinnable states, as a way to make a game deeper and more challenging; this kind of game design was not yet considered unfair to players. It was usually considered a product of the game‚Äôs difficulty rather than poor design and encouraged (or, as its critics would say, forced) replayability.</p>

</blockquote>
<p>The need for many failed run-throughs before one figures out the perfect approach was certainly an element of the challenge. But it was never <em>padding</em>. It was as much a part of the design as the treasures and the magic words.</p>
<p>There's a deeper confusion, though. The same article goes on to say:</p>
<blockquote>
<p>Mike Dornbrook, Infocom's Head of Marketing, conducted a customer survey in late 1984 which showed a clear correlation between the Infocom games players considered their favourites and the games they had actually finished. This piece of marketing intelligence led to the more foolproof design of Wishbringer and later games.</p>

</blockquote>
<p><em><a href="https://ifdb.tads.org/viewgame?id=z02joykzh66wfhcl">Wishbringer</a></em> was Infocom's second junior-level game. It is friendlier than earlier games, more forgiving, and more generous in its design. Most of the major puzzles have at least two solutions. But it's a misconception to say that <em>Wishbringer</em> avoids unwinnable situations, or that Infocom changed its design stance after 1984. </p>
<p>It's true that <em>Wishbringer</em> was immediately followed by <em><a href="https://ifdb.tads.org/viewgame?id=4h62dvooeg9ajtfa">A Mind Forever Voyaging</a></em>, which was focused on narrative exploration rather than puzzles. But this was just halfway through Infocom's high season. Their later slate (<em><a href="https://ifdb.tads.org/viewgame?id=wqsmrahzozosu3r">Spellbreaker</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=3p9fdt4fxr2goctw">Leather Goddesses</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=j18kjz80hxjtyayw">Trinity</a></em>, <em><a href="https://ifdb.tads.org/viewgame?id=jhbd0kja1t57uop">Lurking Horror</a></em>, ...) embraced the model of failable game design and refined it into some of their best-regarded work. With <em><a href="https://ifdb.tads.org/viewgame?id=2752o3sh6y05ob1p">Journey</a></em>, Infocom redesigned IF from the ground up (discarding the parser!) -- but doubled down on failable puzzles, structuring the game around a limited resource system which took much trial and error to solve.</p>
<p>To untangle this, we're going to have to dig into the ways in which games can become unwinnable. How does it happen and why?</p>
<hr>
<p>First, consider the difference between <em>losing</em> the game and the game becoming <em>unwinnable</em>. If you attack a troll and it hacks you to death, it's very clear that you've lost! <code>RESTORE</code> (or <code>UNDO</code>) and try again. Whereas if the troll breaks your sword and you run away, you live -- but if you need the sword elsewhere, you're hosed. You might make progress elsewhere in the game, but ultimately you'll have to throw it away and redo it.</p>
<p>Or maybe a broken sword is a clear sign of failure? Adventurers don't waste resources! There's an ambiguity here: if the game signals that you've made an irreparable mistake, you know to back up and try again. But signals are a matter of convention and culture.</p>
<p>(These are the issues I was trying to get at with my old "<a href="https://eblong.com/zarf/essays/cruelty.html">cruelty scale</a>". When you've fallen into an unwinnable situation, do you know it? Reasonable players may disagree, particularly if they're from different decades. Some games clarify with pointed mutters: "You feel like that was a mistake," or perhaps by penalizing your score.)</p>
<p>Here's a subtler question: have you really lost progress just because you need to restart and try again? In an adventure game, <em>progress</em> is understanding the world and solving puzzles. Solving a puzzle <em>again</em> is just a bit of extra typing!</p>
<p>I'm pushing a point here, but the classical parser games really did have a different rhythm than we're used to nowadays. Even on the old eight-bit machines, a experienced player could replay a section of a game nearly as fast as they could type. It wasn't <em>fun</em>, no. But if you <em>already</em> expected to need to restart a few times, then exploring with unwinnable mistakes hanging over your head just wasn't a serious penalty.</p>
<p>This balance shifted with the later graphical adventures. In the third-person (Sierra/LucasArts) games, walking and other animations made replaying a much more tedious chore. In the Myst-likes, the loading times of those graphically rich scenes slowed you down nearly as much. It's no surprise that the "unstuckable" game model had its renaissance in the graphical era.</p>
<hr>
<p>But we should take a closer look at the <em>ways</em> a game might become unwinnable.</p>
<p>Let us assume that you are hosed. Why? Because you need something to win the game and you don't have it. Either you've lost access to it and you can't get it back, or you've run out of it and you can't get more.</p>
<p>In practice, these situations usually fall into a few general types:</p>
<ul>
<li>An area gets closed off partway through the game. You left some critical item there and you can't get back to it.</li>
<li>You run out of time. Or you run out of something that is consumed over time: lamp fuel, food, health.</li>
<li>You accidentally destroy or lose an item while experimenting.</li>
<li>You use up a resource trying to solve a problem, but it's the wrong problem.</li>
<li>Random events in the game ruin your path to victory.</li>
</ul>
<p>What led authors to create games with these situations? What did the games, and the intended audiences, gain from them? Let's go point by point.</p>
<h3>An area gets closed off partway through the game</h3>
<p><em>What we gain:</em> A sense of a living world (if the game geography changes), or a dynamic storyline (if the player is pushed into a new area).</p>
<p><em>The fun this adds:</em> The challenges of planning and thoroughness. You have to sweep an area for every possible resource. If you can't snarf them all on your first run-through, you at least have to remember what was available. When facing later puzzles, you have to consider everything you've encountered in the game, not just what you've got right now.</p>
<p>(Yes, I am taking for granted that more challenges mean more fun. Obviously you don't have to be <em>into</em> this kind of fun! But when we analyze these old games, we have to think about what fans got out of them -- and the fans, by definition, were the people who enjoyed them.)</p>
<p><em>How do we get this in a modern game?</em> Think about narrative games which <em>aren't</em> parser IF. They typically don't have a <code>DROP</code> action! If the player can't leave objects scattered around, the problem of closing off areas becomes much easier to manage. You just have to make sure the player picks up everything they need -- either as part of the narrative, or in order to solve the puzzles leading to the section break. (This is the old cliche of opening a chest and finding a key <em>underneath</em> a coil of rope. No getting out of that room without the rope!)</p>
<h3>You run out of time (or light, or food...)</h3>
<p><em>What we gain:</em> A sense of tension.</p>
<p><em>The fun this adds:</em> The challenge of optimization. First you have to figure out what to do; then you have to figure out how to do it in the limited time available.</p>

<p><em>How do we get this in a modern game?</em> The familiar gimmick is to <em>narrate</em> a time limit, but really sync the clock to the player's progress. The mine timbers may shudder threateningly, but they won't actually fall until the exact moment the player dives clear. The idea isn't to fool the player -- it's usually a pretty transparent gimmick -- but to give them a mood to play along with.</p>
<p>(I recall <em><a href="https://ifdb.tads.org/viewgame?id=fq26p07f48ckfror">Christminster</a></em> as the first time I noticed this gimmick, but I'm sure Infocom used it first.)</p>
<h3>You accidentally destroy or lose an item</h3>
<p><em>What we gain:</em> A sense of a systematic model world. You can eat food and then it's gone. You can throw items down a pit and then they're gone. You can set things on fire and then they're gone, or perhaps (if the game model is ambitious) scorched and ruined. </p>
<p><em>The fun this adds:</em> These systematic interactions can be worked into puzzles; everyone loves a systematic puzzle mechanic. But the puzzles won't make sense unless the player has already experimented with the interactions. That means giving the player rope (no pun intended) to hang themselves.</p>
<p><em>How do we get this in a modern game?</em> This is a tricky one. You have to come up with ways for every single resource to be replenishable, which can feel artificial.</p>
<h3>You use up a resource solving the wrong problem</h3>
<p><em>What we gain:</em> A sense of deep exploration. There are many ways to approach a problem, and you may have to explore several of them before you're done.</p>
<p><em>The fun this adds:</em> You've solved a bunch of puzzles, but the solutions are mutually exclusive -- you need one item in three different places. Now you have a metapuzzle! Go back and juggle the previous solutions until they fit together. You may have to take another stab at one of the puzzles and find a new solution to it; but first you have to figure out <em>which one</em>.</p>
<p>(<em><a href="https://ifdb.tads.org/viewgame?id=vu4xhul3abknifcr">Enchanter</a></em> is my earliest glowing example of this idea. That dispel scroll solves all sorts of puzzles -- but you can only use it once!)</p>
<p><em>How do we get this in a modern game?</em> This is the road that led me to <em><a href="https://hadeanlands.com/">Hadean Lands</a></em>. My solution was (a) the <code>RESET</code> command, which effectively replenished every resource by restarting the story; and (b) the goal system, which ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html">https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html</a></em></p>]]>
            </description>
            <link>https://blog.zarfhome.com/2021/02/unwinnability-and-wishbringer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140745</guid>
            <pubDate>Mon, 15 Feb 2021 09:10:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What are some of your favorite basic math hacks?]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26140661">thread link</a>) | @ColinWright
<br/>
February 15, 2021 | https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/ | <a href="https://web.archive.org/web/*/https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.borovik.net/selecta/uncategorized/what-are-some-of-your-favorite-basic-math-hacks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140661</guid>
            <pubDate>Mon, 15 Feb 2021 08:59:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My first eBook launch ‚Äì results and feedback (10k USD in 27 days)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26140625">thread link</a>) | @alexellisuk
<br/>
February 15, 2021 | https://blog.alexellis.io/my-first-ebook-results-feedback/ | <a href="https://web.archive.org/web/*/https://blog.alexellis.io/my-first-ebook-results-feedback/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
   <article>

        

        <section>
            <div><p>I wanted to write to you all and share that I've launched my first eBook called <a href="https://gumroad.com/l/serverless-for-everyone-else">"Serverless For Everyone Else"</a> - within the first three hours of launch, nobody bought a single copy and I thought that I'd got it all wrong.</p>
<p>The "everyone else" is a reference to how complicated and difficult cloud-based and Kubernetes-based FaaS has become. The eBook sets out to help indie developers, and individuals within corporations build and deploy functions using a new version of OpenFaaS (<a href="https://github.com/openfaas/faasd">faasd</a>) which is open source and can run on a single VM or VPS without much overhead.</p>
<p>The real power of functions comes in extending existing systems through webhooks, polling, or querying and updating state. I'll share some of these use-cases below including how I used functions to extend how the Gumroad marketplace worked.</p>
<h2 id="whywriteanebookanyway">Why write an eBook anyway?</h2>
<p>Why did I decide to write an eBook? If you've ever written about tech or spoken at a conference, then Packt has probably approached you on LinkedIn about writing for them. From what I hear, that kind of arrangement means writing in a word doc, with tight deadlines and cranking out 300+ pages. It wasn't for me.</p>
<p>I'd seen <a href="https://twitter.com/dvassallo">Daniel Vassallo</a> create an eBook about AWS and Twitter. Daniel had really good results using Gumroad to sell his self-published eBooks. Then there's <a href="https://twitter.com/adamwathan">Adam Wathan</a> who built Tailwind CSS and trained himself up as a UI designer. He wrote his own eBook and in his yearly review mentioned that it did 600k USD in passive sales, without any promotion.</p>
<p>Whilst I didn't expect to get anywhere close to those numbers with a specialist topic, I did want to know if people would buy something from me.</p>
<h2 id="thetiersatlaunch">The tiers at launch</h2>
<p>I launched with three tiers, with names and clear differentiation:</p>
<ul>
<li>Minimalist - 25 USD - just the eBook</li>
<li>DevOps PRO - 50 USD - the eBook, plus a Grafana dashboard and the YAML for faasd to enable it</li>
<li>The learner - 99 USD - the eBook, plus a Grafana dashboard,  the YAML for faasd to enable it and a video workshop ready in 7 days</li>
<li>The team player - the learner, but for 5 people in your company - for a lunch &amp; learn, brownbag, or to better understand Serverless</li>
</ul>
<p>As long as the options add some value, it seems that people are willing to pay a little more and enjoy the choice.</p>
<p>There was no pre-launch and I didn't collect email addresses. I just tweeted about the eBook on Friday afternoon, and then nothing happened for three hours.</p>
<p>I interpreted this as a failure because I'd been reading <a href="https://amzn.to/38N5uZy">"The Right It: Why So Many Ideas Fail and How to Make Sure Yours Succeed"</a>.</p>
<blockquote>
<p>You tend to get what you focus on, like when you think of installing a satellite dish, then realise that everyone on your street has one, and can't stop seeing them.</p>
</blockquote>
<p>In the same way, I saw failure to find market fit. In those first hours I convinced myself that the lack of sales was a sign that nobody wanted the material.</p>
<p>Then I got my first sale, and felt a little relief, maybe I was wrong?</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810538-27b57080-57ed-11eb-905b-d042d3046adf.png" alt="Sale email"></p>
<p>The sales graph had one initial spike on the Friday, and kept going into the Sunday. What had happened? My Twitter audience and <a href="https://github.com/sponsors/alexellis">GitHub Sponsors</a> came to lend their support.</p>
<p><img src="https://pbs.twimg.com/media/ErzMnuOXMAA_REk?format=jpg&amp;name=medium" alt="The initial spike at launch"></p>
<p>Then things died down, and over the course of the week I wondered again if I'd failed to find market fit. <a href="https://gumroad.com/">Gumroad</a> was sending me almost no organic traffic, and nobody was landing on the page from search engines.</p>
<p>Still, it was more money than I had expected to earn from the eBook within the first week, but I felt like with so much interest in OpenFaaS, that there was a broader audience to reach.</p>
<h2 id="gettingasecondpeak">Getting a second peak</h2>
<p>After the first week, I released the video workshop to the people who'd purchased that tier (99USD), and to get some feedback, I offered a free upgrade to the workshop for the tier just below (50USD).</p>
<blockquote>
<p>The discount resulted in another large spike in sales.</p>
</blockquote>
<p><img src="https://camo.githubusercontent.com/4e204e93dcfc33679c997c739fbf4f651fdf268d23961bae6f9b4c25ad4ec145/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f45735a3372753258634155513451673f666f726d61743d6a7067266e616d653d6d656469756d" alt="Video workshop"></p>
<p>Gumroad has no way to offer a discount for a single tier, or to enable upgrades. So how did I fulfil the upgrade?</p>
<p>I did it by writing a function and deploying it to my Raspberry Pi. Gumroad can be configured to send a webhook (also called "a ping") to a HTTPS endpoint whenever there is a sale. My code just had to validate the sender, parse the dollar amount and email address, and then send out an email to the customer. I evaluated a few email services and settled on AWS SES for its simplicity and predictable pricing. I used <a href="https://inlets.dev/blog/2021/02/11/secure-letsencrypt-tunnel.html">inlets PRO</a> to receive webhooks.</p>
<p><img src="https://pbs.twimg.com/media/EscxNxbXAAEHD8z?format=jpg&amp;name=large" alt="The function running"></p>
<p>You can see the source code here: <a href="https://github.com/alexellis/gumroad-responder">alexellis/gumroad-responder</a></p>
<p>After the second peak, I saw a sharp drop-off in sales, again. I started to wonder why I was seeing this pattern?</p>
<p>At that time 99% of referrals had come from Twitter and from email. Had I exhausted my network? Had everyone who was going to buy an eBook on learning open-source serverless, already become a customer?</p>
<p>I went ahead and added a link on <a href="https://www.openfaas.com/">openfaas.com</a> and <a href="https://blog.alexellis.io/">on my blog</a> at the end of each post, to try and get more eyes on the eBook. It's too early to tell if that is going to work out, but has resulted in a few conversions already.</p>
<p>One of the bits of feedback I got on the eBook was how users enjoyed the use-cases, and practical examples. I'd recently started video streaming, so invited a friend to my YouTube channel to talk about serverless use-cases.</p>
<p><img src="https://camo.githubusercontent.com/544dffaf339a4ff44439db1c14cd953de385640b99231688f8a49db61294a02e/68747470733a2f2f7062732e7477696d672e636f6d2f6d656469612f457378444745505841415968724c4f3f666f726d61743d6a7067266e616d653d6c61726765" alt="Video on use-cases"></p>
<p><a href="https://www.youtube.com/watch?v=mzuXVuccaqI&amp;feature=youtu.be">Watch the recording</a></p>
<p>The recording generated a lot of interest and engagement for existing eBook customers, but seemed to have no obvious effect on sales.</p>
<p>You can get the <a href="https://gist.github.com/alexellis/c72d7a385f801cc9b8deb7fcaa531b69">show notes</a> here which have lots of links for use-cases from hobbyists, indie devs and corporate users of OpenFaaS.</p>
<h2 id="mynextmilestone">My next milestone</h2>
<p>I am pleased with the results so far, and have learned a lot along the way. I also had a few people reach out to me directly asking for help who had taken inspiration from seeing someone actually go ahead and take a calculated risk. As they say, "nothing ventured, nothing gained".</p>
<p>I haven't quite got to 10k USD, which is a nice round number to aim for, but I can roughly understand what each peak means here, and whether they are repeatable.</p>
<p><img src="https://pbs.twimg.com/media/EtARGclXMAg7nJ-?format=jpg&amp;name=medium" alt="Approaching 10k"></p>
<p>Once the sales do cross that threshold, I'll write-up a how to guide and share the command lines and tools I used to generate the eBook.</p>
<h2 id="whatsnext">What's next</h2>
<p>I committed to providing free updates - because the eBook was partially experimental and I wanted to validate that it was useful. Using the <a href="https://slack.openfaas.io/">OpenFaaS Slack</a> helped here - I opened a new channel for people who'd bought the book, and enjoyed the feedback and engagement from this.</p>
<p>Some people charge extra for community, but it felt too hard to enforce the access for this.</p>
<p><img src="https://user-images.githubusercontent.com/6358735/104810333-b628f280-57eb-11eb-8be9-a2f6c773346b.png" alt="Original cover"></p>
<p>I generated my own eBook cover originally and then only later, got a professional designer involved.</p>
<p><img src="https://static-2.gumroad.com/res/gumroad/2028406193591/asset_previews/741f2ad46ff0a08e16aaf48d21810ba7/retina/social4.png" alt="New design"></p>
<p>It turns out that the cover may not matter with Gumroad, as long as it's not awful. Since changing cover, I've only seen two new sales.</p>
<p>Now that I have some initial feedback and have learned that people will buy things from me, I want to let goodwill rebuild, and my audience "recover" before launching a second eBook. I've done a lot of free blog posts and writing on Kubernetes, Docker, Golang and Raspberry Pi and analytics from my blog shows me what's popular.</p>
<p>Just because something you give away for free is popular, doesn't mean that anyone will be willing to pay for it. OpenFaaS itself is testament to that, with many corporations using it in production, without contributing code or finances back. Part of <a href="https://blog.alexellis.io/still-in-the-game-my-2020-year-in-review/">my 2021 goals</a> is to find a way to make OpenFaaS sustainable.</p>
<blockquote>
<p>"If You Always Do What You've Always Done, You'll Always Get What You've Always Got." - Henry Ford</p>
</blockquote>
<p>The eBook has already brought in more revenue in a month, than the OpenFaaS GitHub Sponsors account has in a year.</p>
<p><a href="https://amzn.to/38N5uZy">The Right It</a> has taught me not to invest too much effort up front in any one idea, because it is likely to fail. That's just the way things go. Instead I'll be testing ideas out through small experiments that take a few hours or days, and using data to decide whether to invest more.</p>
<p>I'm happy to answer questions <a href="https://twitter.com/alexellisuk/">via Twitter</a>.</p>
<h2 id="update12feb2021">Update (12 Feb 2021)</h2>
<p>It took 27 days, but the eBook has now reached the milestone of 10k USD in sales! Most of the purchases being made now are from links on the OpenFaaS website, the faasd repo or my own blog. This is also known as long-tail, a slow and (mostly) steady stream of revenue.</p>
<p><img src="https://blog.alexellis.io/content/images/2021/02/update-rev6.png" alt="Launch event, offers and longtail"></p>
<blockquote>
<p>Visualised: Launch event, offers and longtail</p>
</blockquote>
<p>I've also released revision 6 of the eBook which has a much more detailed section on CI/CD and recipes for multi-arch builds. I'm using it to deploy endpoints directly to my Raspberry Pi from GitHub Actions.</p>
<p>If you're curious about how Serverless functions can be of use for your next side-project or idea, why not try the eBook and / or video workshop? You can get your money back within 7 days if you're not satisfied.</p>
<p>Events and webhooks can be used to build custom extensions for SaaS products or existing systems. You can see an example in my <a href="https://github.com/alexellis/gumroad-responder">gumroad-responder</a> which forwards messages to Slack, and sends emails via AWS SES to customers during a promotion.</p>
<blockquote>
<p>üéÅ To say thanks for reading, the next 20 people can get 20% off any tier - including the video workshop package using the discount link below:</p>
</blockquote>
<p>Check the options on Gumroad: <a href="https://gumroad.com/l/serverless-for-everyone-else/avid-reader">Serverless For Everyone Else on Gumroad</a></p>
</div>
        </section>

        

    </article>
</div></div>]]>
            </description>
            <link>https://blog.alexellis.io/my-first-ebook-results-feedback/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140625</guid>
            <pubDate>Mon, 15 Feb 2021 08:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Facing the Intelligence Explosion (2011)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140581">thread link</a>) | @Tomte
<br/>
February 15, 2021 | https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/ | <a href="https://web.archive.org/web/*/https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
	<!--#header-->
<div id="content">

<div id="post-102">


<p>Meet Linda:</p>
<blockquote><p>Linda is thirty-one years old, single, outspoken, and very bright. She majored in philosophy. As a student, she was deeply concerned with issues of discrimination and social justice, and also participated in antinuclear demonstrations.</p></blockquote>
<p>Now, rank these possible descriptions of Linda by how likely they are:</p>
<ul>
<li>Linda is a teacher in elementary school.</li>
<li>Linda works in a bookstore and takes yoga classes.</li>
<li>Linda is active in the feminist movement.</li>
<li>Linda is a psychiatric social worker.</li>
<li>Linda is a member of the League of Women Voters.</li>
<li>Linda is a bank teller.</li>
<li>Linda is an insurance salesperson.</li>
<li>Linda is a bank teller and is active in the feminist movement.</li>
</ul>
<p>When Amos Tversky and Daniel Kahneman gave this test to students, the students ranked the last possibility, ‚Äúfeminist bank teller,‚Äù as <em>more likely</em> than the ‚Äúbank teller‚Äù option.<a id="fn1x8-bk" href="#fn1x8"><sup>1</sup></a></p>
<p>But that can‚Äôt possibly be correct. The probability of Linda being a bank teller can‚Äôt be <em>less</em> than the probability of her being a bank teller <em>and</em> a feminist.</p>
<p>This is my ‚ÄúHumans are crazy‚Äù Exhibit A: The <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws</a> of probability theory dictate that as a story gets more complicated, and depends on the truth of more and more claims, its probability of being true decreases. But for humans, a story often seems <em>more</em> likely as it is embellished with details that paint a compelling story: ‚ÄúLinda can‚Äôt be <em>just</em> a bank teller; look at her! She majored in philosophy and participated in antinuclear demonstrations. She‚Äôs probably a <em>feminist</em> bank teller.‚Äù</p>
<p>How else are humans crazy? After <a href="http://www.amazon.com/Thinking-Fast-Slow-Daniel-Kahneman/dp/0374275637/">decades of research</a> and <a href="http://www.amazon.com/Heuristics-Biases-Psychology-Intuitive-Judgment/dp/0521796792/">thousands of experiments</a>, let us count the ways . . .</p>
<ul>
<li>We <a href="https://www.rti.org/pubs/bk-0001-1009_web.pdf">wouldn‚Äôt pay</a> much more to save two hundred thousand birds than we would to save two thousand birds.<a id="fn2x8-bk" href="#fn2x8"><sup>2</sup></a> Our willingness to pay does not scale with the size of potential impact. Instead of making decisions with first-grade math, we imagine a <em>single</em> drowning bird and then give money based on the strength of our emotional response to that imagined scenario. (<a href="http://lesswrong.com/lw/hw/scope_insensitivity/">Scope insensitivity</a>, <a href="http://lesswrong.com/lw/lg/the_affect_heuristic/">affect heuristic</a>.)</li>
<li>Spin a wheel that lands on a number from ten to sixty-five, then guess what percentage of African nations are in the U.N. Your guess will be hugely affected by an irrelevant factor‚Äîwhat number the wheel landed on‚Äîmerely because your brain was primed with that number.<a id="fn3x8-bk" href="#fn3x8"><sup>3</sup></a> In short, ‚Äúany random thing that happens to you can hijack your judgment and personality for the next few minutes.‚Äù (<a href="http://lesswrong.com/lw/k3/priming_and_contamination/">Anchoring</a>, <a href="http://lesswrong.com/lw/3b/never_leave_your_room/">priming</a>.)</li>
<li>Hear about two recent plane crashes, and we are less likely to fly, even though it‚Äôs not the probability of a plane crash that has increased, merely its availability to our memory.<a id="fn4x8-bk" href="#fn4x8"><sup>4</sup></a> In general, we often judge how probable something is based on how easily instances of that thing come to mind. (<a href="http://psychology.wikia.com/wiki/Availability_heuristic">Availability heuristic</a>.)</li>
<li>We draw different conclusions from the same information depending on how that information is presented. (<a href="http://en.wikipedia.org/wiki/Framing_(social_sciences)">Framing effects</a>.)</li>
<li>We start with a conclusion and then look for evidence to support it, rather than starting with a hypothesis and looking for evidence that might confirm or disconfirm it. (<a href="http://lesswrong.com/lw/js/the_bottom_line/">The bottom line</a>, <a href="http://lesswrong.com/lw/iw/positive_bias_look_into_the_dark/">confirmation bias</a>, <a href="http://lesswrong.com/lw/ju/rationalization/">rationalization</a>.)</li>
<li>We are creatures of habit. We do mostly what we‚Äôve done before, rather than taking actions aimed at maximizing the probabilistic achievement of our goals. (<a href="http://en.wikipedia.org/wiki/Habit_(psychology)">Habits</a>, <a href="http://lesswrong.com/lw/4e/cached_selves/">cached selves</a>.)</li>
</ul>
<p>Perhaps the scariest bias is this one:</p>
<ul>
<li>The <em>sophistication effect</em>: The most knowledgeable people, because they possess greater ammunition with which shoot down facts and arguments incongruent with their own position, are actually <em>more prone</em> to several of these biases.<a id="fn5x8-bk" href="#fn5x8"><sup>5</sup></a></li>
</ul>
<p>Because of this, learning about biases can <a href="http://lesswrong.com/lw/he/knowing_about_biases_can_hurt_people/">hurt you</a> if you‚Äôre not careful. As <a href="http://www.michaelshermer.com/2002/09/smart-people-believe-weird-things/">Michael Shermer</a> says, ‚ÄúSmart people believe weird things because they are skilled at defending beliefs they arrived at for non-smart reasons.‚Äù<a id="fn6x8-bk" href="#fn6x8"><sup>6</sup></a></p>
<p>There are <a href="http://wiki.lesswrong.com/wiki/Bias">many other examples</a> of human insanity. They can be amusing at times, but things get sad when you think about how these biases lead us to <a href="http://lesswrong.com/lw/3gj/efficient_charity_do_unto_others/">give highly inefficient charity</a>. Things get <em>scary</em> when you think about how these biases affect our <a href="http://lesswrong.com/lw/gw/politics_is_the_mindkiller">political process</a> and our <a href="http://intelligence.org/files/CognitiveBiases.pdf">engagement</a> with <a href="http://lesswrong.com/lw/8f0/existential_risk/">existential risks</a>.</p>
<p>And if you study the <em>causes</em> of our beliefs and motivations long enough, another realization hits you.</p>
<p>‚ÄúOh my God,‚Äù you think. ‚ÄúIt‚Äôs not that I have a rational little <a href="http://commonsenseatheism.com/?p=8844">homunculus</a> inside that is being ‚Äòcorrupted‚Äô by all these evolved heuristics and biases layered over it. No, the data are saying that <a href="http://www.amazon.com/Why-Everyone-Else-Hypocrite-Evolution/dp/0691146748/">the software program that is me</a> just <em>is</em> heuristics and biases. I just <em>am</em> this <a href="http://www.amazon.com/Kluge-Haphazard-Construction-Human-Mind/dp/0618879641/">kluge</a> of evolved cognitive modules and algorithmic shortcuts. I‚Äôm not an <em>agent</em> designed to have correct beliefs and pursue explicit goals; I‚Äôm a crazy robot <a href="http://www.amazon.com/Selfish-Gene-Anniversary----Introduction/dp/0199291152/">built</a> as a vehicle for propagating genes without spending too much energy on expensive thinking neurons.‚Äù</p>
<p>The good news is that we are robots who have <em>realized</em> we are robots, and by way of rational self-determination we can stage a <a href="http://en.wikipedia.org/wiki/Metacognition">robot‚Äôs rebellion</a> against our default programming.<a id="fn7x8-bk" href="#fn7x8"><sup>7</sup></a></p>
<p>But we‚Äôre going to need some military-grade rationality training to do so.</p>
<p>Or, as the experts call it, ‚Äúdebiasing.‚Äù Researchers haven‚Äôt just been discovering and explaining the depths of human insanity; they‚Äôve also been testing methods that can help us improve our thinking, clarify our goals, and give us power over our own destinies.</p>
<p>Different biases are meliorated by different techniques, but one of the most useful debiasing interventions is this: <em>Consider the opposite</em>.</p>
<blockquote><p>By necessity, cognitive strategies tend to be context-specific rules tailored to address a narrow set of biases . . . This fact makes the simple but general strategy of ‚Äúconsider the opposite‚Äù all the more impressive, because it has been effective at reducing <a href="http://en.wikipedia.org/wiki/Overconfidence_effect">overconfidence</a>, <a href="http://lesswrong.com/lw/il/hindsight_bias/">hindsight biases</a>, and <a href="http://lesswrong.com/lw/k3/priming_and_contamination/">anchoring effects</a>. . . . The strategy consists of nothing more than asking oneself, ‚ÄúWhat are some reasons that my initial judgment might be wrong?‚Äù The strategy is effective because it directly counteracts the basic problem of association-based processes‚Äîan overly narrow sample of evidence‚Äîby expanding the sample and making it more representative. Similarly, prompting decision makers to consider alternative hypotheses has been shown to reduce confirmation biases in seeking and evaluating new information.<a id="fn8x8-bk" href="#fn8x8"><sup>8</sup></a></p></blockquote>
<p>Another useful skill is that of <a href="http://lesswrong.com/lw/7e5/the_cognitive_science_of_rationality/"><em>cognitive override</em></a>:</p>
<ol>
<li>Notice when you‚Äôre speaking or acting on an intuitive judgment.</li>
<li>If the judgment is important, override your intuitive judgment and apply the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a> instead. (This requires prior training in algebra, logic, probability theory, decision theory, etc.<a id="fn9x8-bk" href="#fn9x8"><sup>9</sup></a>)</li>
</ol>
<p>To see this one in action, consider the following problem:</p>
<blockquote><p>A bat and a ball cost $1.10 in total. The bat costs $1.00 more than the ball. How much does the ball cost?</p></blockquote>
<p><a href="http://www.nobelprize.org/nobel_prizes/economics/laureates/2002/kahnemann-lecture.pdf">Most people</a> give the first response that comes to mind: $0.10.<a id="fn10x8-bk" href="#fn10x8"><sup>10</sup></a> But elementary algebra shows this can‚Äôt be right: the bat would then have to cost $1.10, for a total of $1.20. To get this one right, you have to <em>notice</em> your intuitive answer coming out, and say ‚ÄúNo! Algebra.‚Äù And then do the algebra.</p>
<p>Those who <em>really</em> want to figure out what‚Äôs true about our world will spend thousands of hours studying the <a href="http://facingthesing.wpengine.com/2011/the-laws-of-thought/">laws of thought</a>, studying the specific ways in which humans are crazy, and practicing <a href="http://lesswrong.com/lw/5x8/teachable_rationality_skills/">teachable rationality skills</a> so they can avoid fooling themselves.</p>
<p>And <em>then</em>, finally, we may be able to stage a robot‚Äôs rebellion, figure out how the world works, clarify our goals, and start <a href="http://lesswrong.com/lw/7i/rationality_is_systematized_winning/">winning</a> more often. Maybe we‚Äôll even be able to navigate an intelligence explosion successfully.</p>
<p>* * *</p>
<p><small><a id="fn1x8" href="#fn1x8-bk"><sup>1</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúExtensional Versus Intuitive Reasoning: The Conjunction Fallacy in Probability Judgment,‚Äù <em>Psychological Review</em> 90, no. 4 (1983): 293‚Äì315, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0033-295X.90.4.293">10.1037/0033-295X.90.4.293</a>.</small></p>
<p><small><a id="fn2x8" href="#fn2x8-bk"><sup>2</sup></a>William H. Desvousges et al., <em>Mesuring Nonuse Damages Using Contingent Valuation: An Experimental Evaluation of Accuracy</em>, technical report (Research Triangle Park, NC: RTI International, 2010), <span>doi</span>:<a href="http://dx.doi.org/10.3768/rtipress.2009.bk.0001.1009">10.3768/rtipress.2009.bk.0001.1009</a>.</small></p>
<p><small><a id="fn3x8" href="#fn3x8-bk"><sup>3</sup></a>Amos Tversky and Daniel Kahneman, ‚ÄúJudgment Under Uncertainty: Heuristics and Biases,‚Äù <em>Science</em> 185, no. 4157 (1974): 1124‚Äì1131, <span>doi</span>:<a href="http://dx.doi.org/10.1126/science.185.4157.1124">10.1126/science.185.4157.1124</a>.</small></p>
<p><small><a id="fn4x8" href="#fn4x8-bk"><sup>4</sup></a>Maia Szalavitz, ‚Äú10 Ways We Get the Odds Wrong,‚Äù <em>Psychology Today</em>, January 1, 2008, <a href="http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong">http://www.psychologytoday.com/articles/200712/10-ways-we-get-the-odds-wrong</a>.</small></p>
<p><small><a id="fn5x8" href="#fn5x8-bk"><sup>5</sup></a>Charles S. Taber and Milton Lodge, ‚ÄúMotivated Skepticism in the Evaluation of Political Beliefs,‚Äù <em>American Journal of Political Science</em> 50 (3 2006): 755‚Äì769, <span>doi</span>:<a href="http://dx.doi.org/10.1111/j.1540-5907.2006.00214.x">10.1111/j.1540- 5907.2006.00214.x</a>.</small></p>
<p><small><a id="fn6x8" href="#fn6x8-bk"><sup>6</sup></a>Michael Shermer, ‚ÄúSmart People Believe Weird Things,‚Äù <em>Scientific American</em> 287, no. 3 (2002): 35, <span>doi</span>:<a href="http://dx.doi.org/10.1038/scientificamerican0902-35">10.1038/scientificamerican0902-35</a>.</small></p>
<p><small><a id="fn7x8" href="#fn7x8-bk"><sup>7</sup></a>Keith E. Stanovich, ‚ÄúHigher-Order Preferences and the Master Rationality Motive,‚Äù <em>Thinking and Reasoning</em> 14, no. 1 (2008): 111‚Äì117, <span>doi</span>:<a href="http://dx.doi.org/10.1080/13546780701384621">10.1080/13546780701384621</a>.</small></p>
<p><small><a id="fn8x8" href="#fn8x8-bk"><sup>8</sup></a>Richard P. Larrick, ‚ÄúDebiasing,‚Äù in <em>Blackwell Handbook of Judgment and Decision Making</em>, ed. Derek J. Koehler and Nigel Harvey, Blackwell Handbooks of Experimental Psychology (Malden, MA: Blackwell, 2004), 316‚Äì338.</small></p>
<p><small><a id="fn9x8" href="#fn9x8-bk"><sup>9</sup></a>Geoffrey T. Fong, David H. Krantz, and Richard E. Nisbett, ‚ÄúThe Effects of Statistical Training on Thinking About Everyday Problems,‚Äù <em>Cognitive Psychology</em> 18, no. 3 (1986): 253‚Äì292, <span>doi</span>:<a href="http://dx.doi.org/10.1016/0010-0285(86)90001-0">10.1016/0010-0285(86)90001-0</a>.</small></p>
<p><small><a id="fn10x8" href="#fn10x8-bk"><sup>10</sup></a>Daniel Kahneman, ‚ÄúA Perspective on Judgment and Choice: Mapping Bounded Rationality,‚Äù <em>American Psychologist</em> 58, no. 9 (2003): 697‚Äì720, <span>doi</span>:<a href="http://dx.doi.org/10.1037/0003-066X.58.9.697">10.1037/0003-066X.58.9.697</a>.</small></p>


<p><a href="https://intelligenceexplosion.com/2011/not-built-to-think-about-ai/" rel="next">Next Chapter  ‚Üí</a></p>
</div>


</div><!--//content-->














</div></div>]]>
            </description>
            <link>https://intelligenceexplosion.com/2011/the-crazy-robots-rebellion/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140581</guid>
            <pubDate>Mon, 15 Feb 2021 08:50:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commenting Source Code: Is It Worth It for Small Programming Tasks? (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26140364">thread link</a>) | @hacksilver
<br/>
February 15, 2021 | https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/ | <a href="https://web.archive.org/web/*/https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p> <span>Commenting Source Code: Is It Worth It For Small Programming Tasks?</span>. <span>In: <span>Springer Empirical Software Engineering (EMSE), </span><span>24 </span><span>(3), </span><span>S. 1418‚Äì1457, </span><span>2018</span>, <span>ISSN: 1382-3256</span>.</span></p>
<h2>Abstract</h2><p>Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.</p>
<h2>Links</h2><ul><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-[...]</a></li><li><i></i><a href="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip" title="https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]" target="_blank">https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-[...]</a></li><li><i></i><a href="https://dx.doi.org/10.1007/s10664-018-9664-z" title="Folge der DOI-Nummer:10.1007/s10664-018-9664-z" target="_blank">doi:10.1007/s10664-018-9664-z</a></li></ul>
<h2>BibTeX (<a href="https://cse.cs.ovgu.de/cse?feed=tp_pub_bibtex&amp;key=NielebockComments2018">Download</a>)</h2><pre>@article{NielebockComments2018,
title = {Commenting Source Code: Is It Worth It For Small Programming Tasks?},
author = {Sebastian Nielebock and Dariusz Krolikowski and Jacob Kr\"{u}ger and Thomas Leich and Frank Ortmeier},
editor = {Springer Science+Business Media, LLC, part of Springer Nature},
url = {https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2018/10/paper-influence-comments_preliminary.pdf
https://cse.cs.ovgu.de/cse-wordpress/wp-content/uploads/2021/02/nielebock-et-al-emse2019-comments-replication_package.zip},
doi = {10.1007/s10664-018-9664-z},
issn = {1382-3256},
year  = {2018},
date = {2018-11-16},
journal = {Springer Empirical Software Engineering (EMSE)},
volume = {24},
number = {3},
pages = {1418--1457},
publisher = {Springer US},
abstract = {Maintaining a program is a time-consuming and expensive task in software engineering. Consequently, several approaches have been proposed to improve the comprehensibility of source code. One of such approaches are comments in the code that enable developers to explain the program with their own words or predefined tags. Some empirical studies indicate benefits of comments in certain situations, while others find no benefits at all. Thus, the real effect of comments on software development remains uncertain. In this article, we describe an experiment in which 277 participants, mainly professional software developers, performed small programming tasks on differently commented code. Based on quantitative and qualitative feedback, we i) partly replicate previous studies, ii) investigate performances of differently experienced participants when confronted with varying types of comments, and iii) discuss the opinions of developers on comments. Our results indicate that comments seem to be considered more important in previous studies and by our participants than they are for small programming tasks. While other mechanisms, such as proper identifiers, are considered more helpful by our participants, they also emphasize the necessity of comments in certain situations.},
keywords = {Comments, Documentation and Maintenance, Empirical Study, Program Comprehension},
pubstate = {published},
tppubtype = {article}
}
</pre>
			</div></div>]]>
            </description>
            <link>https://cse.cs.ovgu.de/cse/commenting-source-code-is-it-worth-it-for-small-programming-tasks-5/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140364</guid>
            <pubDate>Mon, 15 Feb 2021 08:18:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Typing Is Hard]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140363">thread link</a>) | @pansa2
<br/>
February 15, 2021 | https://3fx.ch/typing-is-hard.html | <a href="https://web.archive.org/web/*/https://3fx.ch/typing-is-hard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<header>

</header>
<nav id="TOC">
<ul>
<li><a href="#type-checking-and-type-inference">Type Checking and Type Inference</a></li>
<li><a href="#common-terms">Common terms</a><ul>
<li><a href="#completeness">Completeness</a></li>
<li><a href="#soundness">Soundness</a></li>
<li><a href="#decidability">Decidability</a></li>
<li><a href="#hindley-milner-type-system">Hindley-Milner Type System</a></li>
<li><a href="#dependent-types">Dependent types</a></li>
</ul></li>
<li><a href="#how-hard-is-type-checking-your-favorite-language">How Hard is Type-Checking Your Favorite Language?</a><ul>
<li><a href="#c">C++</a></li>
<li><a href="#c-1">C#</a></li>
<li><a href="#elm">Elm</a></li>
<li><a href="#f">F#</a></li>
<li><a href="#go">Go</a></li>
<li><a href="#haskell">Haskell</a></li>
<li><a href="#idris">Idris</a></li>
<li><a href="#java">Java</a></li>
<li><a href="#ocaml">OCaml</a></li>
<li><a href="#ml">ML</a></li>
<li><a href="#rust">Rust</a></li>
<li><a href="#scala">Scala</a></li>
<li><a href="#swift">Swift</a></li>
<li><a href="#typescript">TypeScript</a></li>
<li><a href="#zig">Zig</a></li>
</ul></li>
<li><a href="#faq">FAQ</a><ul>
<li><a href="#where-are-python-bash-etc.">Where are Python, Bash, etc.?</a></li>
<li><a href="#what-about-unsafe-casts">What about unsafe casts?</a></li>
<li><a href="#ive-spotted-a-mistakeimprecision-what-should-i-do">I‚Äôve spotted a mistake/imprecision, what should I do?</a></li>
</ul></li>
</ul>
</nav>
<h2 id="type-checking-and-type-inference">Type Checking and Type Inference</h2>
<p>Type checking is the process of taking a given program in some programming language and working out whether all variables and expressions have the correct types, i.e.&nbsp;strings are assigned to strings, arithmetic expressions involve only numbers, etc. Some languages also offer <em>type inference</em>, tasking the compiler with the task of figuring out correct types on its own. Depending on a language‚Äôs features the type checking and type inference problems range from trivial to undecidable.</p>
<h2 id="common-terms">Common terms</h2>
<h3 id="completeness">Completeness</h3>
<p>A type checker is complete if it can check every correctly typed program.</p>
<h3 id="soundness">Soundness</h3>
<p>A type checker is sound if it only accepts correctly typed programs.</p>
<h3 id="decidability">Decidability</h3>
<p>A decision problem is <strong>decidable</strong> if for any input we can compute whether the input satifies the problem in finite time. Examples of decidable problems include primality testing and boolean satisfiability. The halting problem for example is <strong>undecidable</strong>: We cannot check whether a program runs infinitely long in finite time. We are interested in the type checking and type inference problems for programming languages: Given some input program, does it type check? And given some program, which types should we assign to the expression such that it typechecks?</p>
<h3 id="hindley-milner-type-system">Hindley-Milner Type System</h3>
<p>The Hindley-Milner (HM) type system is a type system for the simple typed lambda calculus with parametric polymorphism, which is used as a base for many functional languages. Type-checking for HM is decidable and efficient, its complexity is linear in the size of the program. Type inference is more difficult than type checking, since the compiler has to solve the type constraints incurred for expressions in the program. It is <strong>decidable</strong> for the HM type system, however the problem itself is PSPACE-hard and EXPTIME-complete, meaning that in the worst case it needs at least a polynomial amount of extra space and exponential time relative to the input size. Fortunately, the type inference algorithm is linear when the nesting depth of polymorphic variables is bounded, as is the case for most applications. There exist many type inference algorithms, the best known one is the so-called <em>Algorithm W</em>. Many functional programming languages implement variants of the HM type system.</p>
<h3 id="dependent-types">Dependent types</h3>
<p>In simple terms dependent types allow types to depend not only on other types, but on values. This is best understood by an example: Normally we can only encode very coarse information, such as ‚Äúx is of integer type‚Äù. Dependent types allow us to define more detailed types. For example we could then create a type ‚Äúeven integer‚Äù, whose only inhabitants are even integers. This is strictly more powerful than the previous setting: Dependent types in general make type inference undecidable as <a href="https://link.springer.com/content/pdf/10.1007%2FBFb0037103.pdf">can be shown</a> by reduction to the <a href="https://en.wikipedia.org/wiki/Post_correspondence_problem">Post Correspondence Problem</a>.</p>
<h2 id="how-hard-is-type-checking-your-favorite-language">How Hard is Type-Checking Your Favorite Language?</h2>
<p>Below I‚Äôve compiled a list of languages and how hard type checking/type inference is in these languages. If you find a mistake or are missing a language please <a href="https://todo.sr.ht/~bfiedler/typing-is-hard">file an issue</a> with your language, its type checking complexity and optimally a resource that supports your claim. I do not claim completeness nor correctness of the properties shown here, it is mainly an amalgamation of blog posts I‚Äôve been collecting.</p>
<h3 id="c">C++</h3>
<p><strong>undecidable</strong>, <a href="https://rtraba.files.wordpress.com/2015/05/cppturing.pdf">C++ Templates are Turing Complete, Todd L. Veldhuizen (2003)</a>, even its <a href="https://medium.com/@mujjingun_23509/full-proof-that-c-grammar-is-undecidable-34e22dd8b664">grammar is undecidable</a></p>
<h3 id="c-1">C#</h3>
<p><strong>unsound, undecidable</strong>, there is an <a href="https://stackoverflow.com/questions/23939168/is-c-sharp-type-system-sound-and-decidable">excellent SO answer by Eric Lippert</a> on this topic. Other fun things include <a href="https://docs.microsoft.com/en-us/archive/blogs/ericlippert/lambda-expressions-vs-anonymous-methods-part-five">a SAT solver using the C# type-checker</a></p>
<h3 id="elm">Elm</h3>
<p><strong>decidable</strong>, uses Hindley-Milner, but currently <strong>unsound</strong>, due to an <a href="https://github.com/elm/core/issues/960">interesting compiler bug</a>: <code>(String.length "  ") ^ (-1) : Int</code></p>
<h3 id="f">F#</h3>
<p><strong>undecidable</strong>, <a href="https://github.com/cannorin/FSharp.TypeLevel">GitHub user cannorin implemented the untyped lambda calculus in F#</a></p>
<h3 id="go">Go</h3>
<p><strong>decidable</strong>, since type inference is only used for variable initialization</p>
<h3 id="haskell">Haskell</h3>
<p>1998 standard, no extensions: <strong>decidable</strong>, variant of HM</p>
<p>2010 standard, no extensions: <strong>decidable</strong>, restriction of System F</p>
<p>with sufficient<a href="#fn1" id="fnref1"><sup>1</sup></a> extensions: <strong>undecidable</strong>, as type checking in System F is undecidable. There exist <a href="https://www.lochan.org/keith/publications/undec.html">Turing Machines in Haskell types</a>. A simpler variant is to implement the <a href="https://mail.haskell.org/pipermail/haskell/2006-August/018355.html">SKI calculus</a>.</p>
<h3 id="idris">Idris</h3>
<p><strong>decidable</strong>, surprisingly. Idris has dependent types, but <a href="https://docs.idris-lang.org/en/latest/faq/faq.html#evaluation-at-the-repl-doesn-t-behave-as-i-expect-what-s-going-on">at compile time it will only evaluate expressions which it knows to be total (terminating and covering all inputs)</a>.</p>
<h3 id="java">Java</h3>
<p><strong>undecidable</strong>, because <a href="https://arxiv.org/pdf/1605.05274.pdf">Java Generics are Turing complete</a>. Java 5 or later is <strong>unsound</strong>, as shown by <a href="https://dl.acm.org/doi/pdf/10.1145/2983990.2984004">Amin and Tate (2015)</a></p>
<h3 id="ocaml">OCaml</h3>
<p><strong>undecidable</strong>, since we can <a href="https://caml.inria.fr/pub/old_caml_site/caml-list/1507.html">cause the type checker to loop infinitely</a></p>
<h3 id="ml">ML</h3>
<p><strong>decidable</strong>, uses Hindley-Milner</p>
<h3 id="rust">Rust</h3>
<p><strong>undecidable</strong>, both type inference (since Rust has rank-3-types) and type checking, as shown by this <a href="https://sdleffler.github.io/RustTypeSystemTuringComplete/">Smallfuck interpreter implemented using traits</a>.</p>
<h3 id="scala">Scala</h3>
<p><strong>undecidable</strong>, since it admits a <a href="https://michid.wordpress.com/2010/01/29/scala-type-level-encoding-of-the-ski-calculus/">type-level SKI calculus</a>, <strong>unsound</strong>, as shown by <a href="https://dl.acm.org/doi/pdf/10.1145/2983990.2984004">Amin and Tate (2015)</a>. Scala 2.13.3 (newest as of writing this) also exhibits the same problem.</p>
<h3 id="swift">Swift</h3>
<p><strong>undecidable</strong>, as proven <a href="https://forums.swift.org/t/swift-type-checking-is-undecidable/39024">here</a> by reduction to the <a href="https://en.wikipedia.org/wiki/Word_problem_for_groups">word problem for finitely generated groups</a><a href="#fn2" id="fnref2"><sup>2</sup></a></p>
<h3 id="typescript">TypeScript</h3>
<p><strong>undecidable, unsound</strong>. The <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#a-note-on-soundness">TypeScript documentation</a> mentions its unsoundness and the <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#function-parameter-bivariance">motivations</a> <a href="https://www.typescriptlang.org/docs/handbook/type-compatibility.html#optional-parameters-and-rest-parameters">behind</a> them.</p>
<p>Undecidability: TypeScript‚Äôs type system was <a href="https://gist.github.com/hediet/63f4844acf5ac330804801084f87a6d4">proven Turing complete</a> until <a href="https://github.com/microsoft/TypeScript/issues/14837">they disallowed self-referential types</a>. However <a href="https://ostro.ws/2019/12/09/taking-types-too-far/">Robbie Ostrow</a> wrote a <a href="https://www.typescriptlang.org/play/#code/FAFwngDgpgBAcgQxAVwE4IDYwLwwN4wSpQBuAXPEmpjAL6iSwBaUqA9jvoceTAHalWdYA2gwAlgGcW7AIKIU6DHGQBbAEZDcMjlAAeIKHwAmkyopoB+GCFTJYFAGaZJUEeDEBRAI7IXAHlkYfUMTMwVqDAAaGAAhYIMjU3NIgD4cYBgsmCCQpLN4y0zs+LywnJgi7Js7B2Ks5wxXGDJ6mEbXd0YYAGV-ABUE0OSIpXTcAiJSCkH6UVgAeQFOPp1U+Zh+gHcOXD6lqHWPWH6AC2JYPYGdo+6AMTY0FYHzqEONu-ESS97-B7RbmIeuI9M9Pt9AbAeoI+M9gXpITBPOIAOanEBwmGIuDiZZXeHrAD0hJgADpyTAECYYJIOGxYV0xAAFAZDfIpMacSY8GYAbQARFMSPyALoCoWi4QbWTGYyBNnlUaYGKlRKKqiciZtAAMFFkUTaAEYKH0ZXL9TAWbFUjbgLRearhmYdJUYNqWjBDSLGVDkOpbAgAMYgeVlEYa5VxBXhiwYcb4HV6g3VY0VMPO1gcawCb6oD09P0B4P+FmyVIxK22+2O9ku6zuihen0wACyyAwIHEEAwYFDapjkRV0fCEbjXMTMB0yeyqbN-jbHa7PcCFf81vLOXW1eHk8zrobnu9GwAIl9xMYoH2nRzIzX1bH43gJznWNOsrOd3Xd+x8-5TyRz0vAt-XQYtSw3SsN3XO0HU-Pd6w9JsNk8b4+FZdMbzHLVql1fhBFQN9PRmOCf2sWx7A9QYMIOV0OgcJFUJLJj+htLdeSo-sR1jV1DQ9bUj2OGAAGE2AwDAkAAL3QzjMMfCdyKgQjUxEsTJP8FCjAGdIMIUyo2mqf9AIGGJtjYdIKGJGAAElHGCVCYmMM8LxgdQwBsHZ9OyPoF07bte36EzXkOdJLIWEBTlYLYpEUmBVHbXyexctyAGZKWpBBZU9GCfD8JpjJgA5tJk3SEMbEUYFCgRrH6WoYjYcLIui4TRPEkApJY5tA143AVNaqTCoqkldIACkNABKDZAwAJk4Xq1NMkKhtqGBhpmgBadJxsm1Kepa+agsWpFUHYVAZm6XFJBAKlOyQcR6QkMx9EDKBJEkL4oESi8oAgNLjEINhXvEdREtxRxcXEQxSRWmqKPEWytlgQN6TBlE0FgBqYAvCBwpsDhNBgcTUBRVgAG4VtSjbPXdSmAFYYEpw0ADZ6fSAAOFmYAAFg59bNrGibBMDbndtUtq-keVBDpG7nKd5z0Be6QN2ZFvr1NRdEpeW4b2cpmX0jl8agA">program checking the Collatz conjecture</a>, and as the <a href="http://people.cs.uchicago.edu/%7Esimon/RES/collatz.pdf">generalized form of the Collatz conjecture is undecidable</a><a href="#fn3" id="fnref3"><sup>3</sup></a>, the TypeScript type system is undecidable as well.</p>
<h3 id="zig">Zig</h3>
<p><strong>undecidable</strong>, since evaluation of recursive functions at compile time is possible, thus requiring the compiler to solve the halting problem.</p>
<h2 id="faq">FAQ</h2>
<h3 id="where-are-python-bash-etc.">Where are Python, Bash, etc.?</h3>
<p>Type checking and type inference work primarily for statically typed languages. While there exist extensions to some dynamic languages imbuing them with static type checking these are not part of the language, and the complexity depends not on the language but the extension.</p>
<h3 id="what-about-unsafe-casts">What about unsafe casts?</h3>
<p>Some languages offer explicit unchecked casts, which are accepted by the type checker and may potentially fail at runtime. Examples are casting from <code>Object</code> to some subclass in C# and Java, casting values of type <code>interface{}</code> in Go or using <code>unsafeCoerce</code> in Haskell. I‚Äôve chosen not to account for such casts/coercions since unchecked downcasting is an inherently unsafe operation not covered by type checker guarantees.</p>
<h3 id="ive-spotted-a-mistakeimprecision-what-should-i-do">I‚Äôve spotted a mistake/imprecision, what should I do?</h3>
<p>Great work! Please report it on the <a href="https://todo.sr.ht/~bfiedler/typing-is-hard">official issue tracker</a> detailing what is wrong and I will try to fix it as soon as possible.</p>
<section>
<hr>
<ol>
<li id="fn1"><p>Using only <code>RankNTypes</code> suffices to stump inference. Interestingly enough this is only undecidable for <code>N &gt;= 3</code>.<a href="#fnref1">‚Ü©</a></p></li>
<li id="fn2"><p>I think a reduction to the PCP-problem is also possible.<a href="#fnref2">‚Ü©</a></p></li>
<li id="fn3"><p>Thanks to reddit user /u/nckl for pointing that out.<a href="#fnref3">‚Ü©</a></p></li>
</ol>
</section>


</div>]]>
            </description>
            <link>https://3fx.ch/typing-is-hard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140363</guid>
            <pubDate>Mon, 15 Feb 2021 08:17:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Architecture: How You Make Them Care]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140202">thread link</a>) | @qznc
<br/>
February 14, 2021 | http://beza1e1.tuxen.de/architecture_care.html | <a href="https://web.archive.org/web/*/http://beza1e1.tuxen.de/architecture_care.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<p>In 1933 the Navy rejected <a href="https://en.wikipedia.org/wiki/Draper_Kauffman">Draper Kauffman</a>
due to his poor eyesight.
Ten years later he trained the special units which would later become
<a href="https://en.wikipedia.org/wiki/United_States_Navy_SEALs">the SEALs</a>.
The training includes a grueling first week to filter out.
"Hell Week separated the men from the boys", Kauffman said.
"The men had sense enough to quit‚Äîleaving us with the boys!‚Äù</p>
<blockquote>
<p>In his program, everyone did the training, no matter their rank. This, of course, included Kauffman. The enlisted men of the first class took one look at their ungainly, nearsighted commander and reached the same conclusion; There was no way this guy would make it. But as the trainees watched, he proved them wrong.</p>
<p>"We were testing Kauffman all along," wrote Dan Dillon, a member of the first demolition class, "but my respect for him deepened because a lot of the officers will tell you what to do, but they won't do it themselves. This man asks for suggestions. If they're good, he uses them. And he participates in everything. The dirtiest, rottenest jobs that we tackle, he is in there doing as well as the rest of us. How could you not respect him?"
‚Äì<a href="http://beza1e1.tuxen.de/culture_code.html">The Culture Code</a></p>
</blockquote>
<p><img alt="Dirty Hands" src="http://beza1e1.tuxen.de/img/dirty_hands.jpg"></p>
<p>Kauffman is one of those leaders
who jump into the dirty trenches together with his team.
In his case literally during the second world war at the invasion of Japan.
Leaders who make their hands dirty gain "ethos", as Aristotle called it,
and so people care about their suggestions.</p>
<h2>Architects Must Code</h2>
<p>Software architects are technical leaders
but they have no budget and no command.
So an architect must work through persuasion and <a href="http://beza1e1.tuxen.de/influence.html">influence</a>.
However, do not pursue raw authority because
when a group makes decisions, they better discuss it as <em>equals</em>.
You want all information and experience on the table but
authority can silence valuable opinions.</p>
<p>Many developers tell me that architects must code like they do
otherwise they will not be aligned well.
The software architect should be a peer among developers to be trusted
and the most simple way is to the same work like Kauffman.
Write code, review pull requests, and debug issues.
When developers see that architects share their values like clean code,
it builds trust.</p>
<p>However, architects only have little time for coding.
At least, I work on a
<a href="http://paulgraham.com/makersschedule.html">manager schedule</a>
more than half the time.
So I avoid anything time critical
and invest extra effort that others can maintain my code as well.</p>
<h2>Speak Business with Managers</h2>
<p>Software developers are not the only ones
an architect will have to persuade.
There are all kinds of managers
(at least in embedded automotive projects):
Project managers, line managers,
safety managers, security managers,
requirements managers, and so on.
These people talk a different language
and the role for the software architect 
is to act as a translator here.</p>
<p>To a developer,
you can say "the code is a mess because everything is coupled together."
To a manager you rather need words like
"we should invest more in refactoring to reduce volatility in the marginal cost of features."
Instead of "devs are fed up with this mess and leave"
say "we can reduce our turnover by investing 10% of our time in our code quality."
<a href="https://understandlegacycode.com/blog/5-arguments-to-make-managers-care-about-technical-debt/">Nicolas Carlo wrote more about that</a>.
Maybe the examples are too extreme for your organisation
as <a href="https://ieeexplore.ieee.org/document/8094304">tech companies should have managers who are more technical</a>.</p>
<p>What happens if the gap between management and engineers widens
is well told in <a href="https://www.theatlantic.com/ideas/archive/2019/11/how-boeing-lost-its-bearings/602188/">this story about Boeing</a>.
The turning point of May 2001
looks like this for Boeing's stock price:</p>
<p><img alt="Boeing trend turns downwards at May 2001" src="http://beza1e1.tuxen.de/img/boeing_2001.png"></p>
<p>An example how different the views of management and developers can be
is documented in <a href="https://linkinghub.elsevier.com/retrieve/pii/S0164121299000941">a case study</a>
about the development of a medical instrument.
The project had a total cost overrun of 419% of the approved budget.
It took nearly twice as long as the approved plan.
Management considered the project a failure.
However, the developers considered it a success:</p>
<blockquote>
<p>In response to the question, what was the most successful project that you have worked on, and why, the researcher was surprised to find that over 50% (5/8) of the interviewed software developers identified Project A1! The other three interviewed software developers identified Project A1 as second best. The common theme on all the responses included (a) the project was a technical challenge, (b) the product worked the way it was intended to work, and (c) the team was small and high performing.</p>
</blockquote>
<p>Martin Fowler calls it
<a href="https://martinfowler.com/articles/value-architectural-attribute.html">the Elephant in the Architecture</a>.
Software architects are in between this tension
and the job is to find the proper tradeoff.</p>
<h2>Tell Stories</h2>
<p>Recently, I blogged a story at work.
It covered the last three years of my project
and the big lessons about big automotive projects I learned there.
The feedback was surprising.
Managers multiple levels above contacted me.
People who were starting other projects asked me for details.
My company documents lessons learned in every project as part of the usual process.
However, my story had wider influence.
Storytelling as a tool is underrated
and so I'm trying to learn it.</p>
<p>The meaning for "story" here is wide.
In a professional setting,
you will not spend an hour narrating gripping fiction.
This is about short stories like the three paragraphs at the beginning.
Some people might only call it "example".</p>
<blockquote>
<p>I would not call this storytelling. I would simply call it giving a relevant example.
‚Äì<a href="http://stevedenning.com/Storytelling-in-the-News/145-ft-discusses-storytelling.aspx">Lucy Kellaway</a></p>
</blockquote>
<p>However, there are no people who call themselves "example-givers"
but there are people who call themselves "story-tellers"
and their know-how is useful.</p>
<p>The most obvious difference is that stories are concrete unlike
<a href="http://beza1e1.tuxen.de/dependency_abstraction.html">abstract architectural diagrams</a>
and that <a href="http://beza1e1.tuxen.de/communicate_architecture.html">helps for communication</a>.
However, stories also work in more subtle ways.
Neuroscience shows that stories trigger mental simulations
that even affect the body.</p>
<blockquote>
<p>We can't imagine events or sequences without evoking the same modules of the brain that are evoked in real physical activity. Brain scans show that when people imagine a flashing light, they activate the visual area of the brain; when they imagine someone tapping on their skin, they activate tactile areas of the brain. The activity of mental simulation is not limited to the insides of our heads. People who imagine words that start with a 'b' or 'p' can't resist subtle lip movements, and people who imagine looking at the Eiffel Tower can't resist moving their eyes upward. Mental simulation can even alter visceral physical responses: When people drink water but imagine that it's lemon juice, they salivate more. Even more surprisingly, when people drink lemon juise but imagine it's water, they salivate less.
‚Äì<a href="http://beza1e1.tuxen.de/made_to_stick.html">Made to Stick</a></p>
</blockquote>
<p>There are different kinds of stories
depending on what you want people to care about.
Maybe you want to share some knowledge?
Maybe you want to inspire collaboration?
Maybe you want to introduce a new technology?
Maybe you want to emphasize cultural values?
Different use cases require different stories.
Sometimes the story must be true and sometimes it doesn't matter.
Sometimes plenty of details are helpful and sometimes not.
Fortunately, you don't have to be a great at telling stories.
Even a story which is not entertaining, dramatic, or funny will do its work.</p>
<p>As a first step,
my suggestion here is that you start collecting stories
(I have <a href="http://beza1e1.tuxen.de/tiddlywiki_notes.html">a note-taking system</a> for that)
and tell them.
If the outcome surprises you then tell me that story.</p>
<h2>Summary</h2>
<p>If you <a href="http://beza1e1.tuxen.de/communicate_architecture.html">communicate your architecture well</a>
but they ignore you anyways,
this article had three suggestions to increase your influence:</p>
<ol>
<li>Get your hands dirty in code to gain the trust of developers.</li>
<li>Learn the right language with managers.</li>
<li>Collect and tell more stories.</li>
</ol>
<p>More generically, the first two points can be merged
with Covey's 5th habit:
Seek first to understand, then to be understood.</p>
<hr>
<p>Dirty hands photo by <a href="https://unsplash.com/@alexjones">Alex Jones</a>
on <a href="https://unsplash.com/s/photos/dirty-work">Unsplash</a>.</p>

</article><p>Software architects must code, talk business, and tell stories. </p></div>]]>
            </description>
            <link>http://beza1e1.tuxen.de/architecture_care.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140202</guid>
            <pubDate>Mon, 15 Feb 2021 07:50:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Slack‚Äôs Jan 2021 outage: a tale of saturation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140154">thread link</a>) | @vinnyglennon
<br/>
February 14, 2021 | https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/ | <a href="https://web.archive.org/web/*/https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Laura Nolan of Slack recently published an excellent write-up of their <a href="https://slack.engineering/slacks-outage-on-january-4th-2021/">Jan. 4, 2021 outage</a> on Slack‚Äôs engineering blog.</p>



<p>One of the things that struck me about this writeup is the contributing factors that <em>aren‚Äôt</em> part of this outage. There‚Äôs nothing about a bug that somehow made its way into a production, or an accidentally incorrect configuration change, or how some corrupt data ended up in the database. On the other hand, it‚Äôs an outage story with multiple examples of <strong><em>saturation</em></strong>.</p>



<p><em>Saturation </em>is a phrase often used by the safety science researcher David Woods: it refers to a system that is reaching the limit of what it can handle. If you‚Äôve done software operations work, I bet you‚Äôve encountered resource exhaustion, which is an example of saturation.</p>



<p>Saturation plays a big role in Woods‚Äôs model of the adaptive universe. In particular, in socio-technical systems, people will adapt in order to reduce the risk of saturation. In this post, I‚Äôm going to walk Laura‚Äôs write-up, highlighting all of the examples of saturation and how the system adopted to it. I‚Äôm going purely from the text of the original write-up, which means I‚Äôll likely get some things wrong here.</p>



<p>Slack runs their infrastructure on AWS. In the beginning, they (like, I presume, all small companies) started with a single AWS account. And, initially, this worked out well.</p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg"><img data-attachment-id="1770" data-permalink="https://surfingcomplexity.blog/happy-cloud-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg" data-orig-size="623,432" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="happy-cloud-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" src="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=623" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg 623w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/happy-cloud-1.jpg?w=300 300w" sizes="(max-width: 623px) 100vw, 623px"></a><figcaption>In the beginning, Slack‚Äôs AWS footprint fit nicely into one account and VPC: that‚Äôs one happy cloud!</figcaption></figure>



<p>However, as Slack grew, it encountered it problems. Here‚Äôs a quote from Slack‚Äôs blog post <a href="https://slack.engineering/building-the-next-evolution-of-cloud-networks-at-slack/">Building the Next Evolution of Cloud Networks at Slack</a> by Archie Gunasekara:</p>



<p><em>As our customer base grew and the tool evolved, we developed more services and built more infrastructure as needed. However, everything we built still lived in one big AWS account. This is when our troubles started. Having all our infrastructure in a single AWS account led to AWS rate-limiting issues, cost-separation issues, and general confusion for our internal engineering service teams.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg"><img data-attachment-id="1772" data-permalink="https://surfingcomplexity.blog/sad-coud/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg" data-orig-size="933,767" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="sad-coud" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" src="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=933" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg 933w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/sad-coud.jpg?w=768 768w" sizes="(max-width: 933px) 100vw, 933px"></a><figcaption>That cloud isn‚Äôt looking so happy anymore</figcaption></figure>



<p>The above quote makes reference to three different categories of saturation. The first is a traditional sort of limit we software folks think of: they were running into AWS rate limits associated with an individual AWS account.</p>



<p>The other two limits are cognitive: the system made it harder for humans to deal with separating out costs and, it led to confusion for internal teams. I still see these as a form of saturation: as a system gets more difficult for humans to deal with, it effectively increases the cost of using the system, and it makes errors more likely. </p>



<p>And so, the Slack Cloud Engineering team adapted to meet this saturation risk by adopting AWS child accounts. From the linked blog post again:</p>



<p><em>Now the service teams could request their own AWS accounts and could even peer their VPCs with each other when services needed to talk to other services that lived in a different AWS account. </em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg"><img data-attachment-id="1774" data-permalink="https://surfingcomplexity.blog/multiple-child-accounts/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg" data-orig-size="924,688" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="multiple-child-accounts" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" src="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=924" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg 924w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/multiple-child-accounts.jpg?w=768 768w" sizes="(max-width: 924px) 100vw, 924px"></a><figcaption>Multiple happy child accounts</figcaption></figure>



<p>With continued growth, they eventually reached saturation again. Once again, this was the ‚Äúit‚Äôs getting too hard‚Äù sort of saturation:</p>



<p><em>Having hundreds of AWS accounts became a nightmare to manage when it came to CIDR ranges and IP spaces, because the mis-management of CIDR ranges meant that we couldn‚Äôt peer VPCs with overlapping CIDR ranges. This led to a lot of administrative overhead.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg"><img data-attachment-id="1778" data-permalink="https://surfingcomplexity.blog/cant-peer-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg" data-orig-size="992,692" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="cant-peer-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" src="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=992" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg 992w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/cant-peer-1.jpg?w=768 768w" sizes="(max-width: 992px) 100vw, 992px"></a><figcaption>VPC peering with multiple VPCs increases the cognitive load on the networking engineers</figcaption></figure>



<p>To deal with this risk of saturation, the cloud engineering team adapted again. They reached for new capabilities: AWS shared VPCs and AWS Transit Gateway Inter-Region Peering. By leveraging these technologies, they were able to design a network architecture that addressed their problems:</p>



<p><em>This solved our earlier issue of constantly hitting AWS rate limits due to having all our resources in one AWS account. This approach seemed really attractive to our Cloud Engineering team, as we could manage the IP space, build VPCs, and share them with our child account owners. Then, without having to worry about managing any of the overhead of setting up VPCs, route tables, or network access lists, teams were able to utilize these VPCs and build their resources on top of them.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg"><img data-attachment-id="1780" data-permalink="https://surfingcomplexity.blog/tgw-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg" data-orig-size="998,637" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="tgw-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" src="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=998" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg 998w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/tgw-1.jpg?w=768 768w" sizes="(max-width: 998px) 100vw, 998px"></a><figcaption>Example of a transit gateway connecting multiple VPCs. Obviously, this does not accurately depict Slack‚Äôs actual network architecture. </figcaption></figure>



<p>Fast forward several months later. From Laura Nolan‚Äôs post:</p>



<p><em>On January 4th, one of our Transit Gateways became overloaded. The TGWs are managed by AWS and are intended to scale transparently to us. However, Slack‚Äôs annual traffic pattern is a little unusual: Traffic is lower over the holidays, as everyone disconnects from work (good job on the work-life balance, Slack users!). On the first Monday back, client caches are cold and clients pull down more data than usual on their first connection to Slack. We go from our quietest time of the whole year to one of our biggest days quite literally overnight. Our own serving systems scale quickly to meet these kinds of peaks in demand (and have always done so successfully after the holidays in previous years). However, our TGWs did not scale fast enough.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg"><img loading="lazy" data-attachment-id="1782" data-permalink="https://surfingcomplexity.blog/lotsa-traffic/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg" data-orig-size="1111,558" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="lotsa-traffic" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024" alt="" width="770" height="386" srcset="https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=770 770w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/lotsa-traffic.jpg 1111w" sizes="(max-width: 770px) 100vw, 770px"></a><figcaption>Traffic surge overwhelms the transit gateway</figcaption></figure>



<p>This is as clear an example of saturation as you can get: the incoming load increased faster than the transit gateways were able to cope. What‚Äôs really fascinating from this point on is the role that saturation plays in interactions with the rest of the system.</p>



<p>As too many of us know, clients experience a saturated network as an increase in latency. When network latency goes up, the threads in a service spend more of their time sitting there waiting for the bits to come over the network, which means that CPU utilization goes down.</p>



<p>Slack‚Äôs web tier autoscales on CPU utilization, so when the network started dropping packets, the instances in the web tier spent more of their time blocked, and CPU went down, which triggered the AWS autoscaler to downscale the web tier. </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg"><img data-attachment-id="1784" data-permalink="https://surfingcomplexity.blog/server-waiting/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg" data-orig-size="619,548" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="server-waiting" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" src="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=619" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg 619w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/server-waiting.jpg?w=300 300w" sizes="(max-width: 619px) 100vw, 619px"></a><figcaption>A server‚Äôs CPU utilization falls as it waits for packets that are being dropped by the overloaded transit gateway</figcaption></figure>



<p>However, the web tier has a scaling policy that rapidly upscales if thread utilization gets too high. (At Netflix, we use the term <em>hammer rule</em> to describe these type of emergency scale-up rule). </p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg"><img data-attachment-id="1786" data-permalink="https://surfingcomplexity.blog/hammer/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg" data-orig-size="999,586" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="hammer" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" src="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=999" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg 999w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/hammer.jpg?w=768 768w" sizes="(max-width: 999px) 100vw, 999px"></a><figcaption>Too many threads are in use, waiting for those packets. Time for the scale-up hammer! </figcaption></figure>



<p>Once the new instances come online, an internal Slack service named <em>provision-service</em> is responsible for setting up these new instances so that they can serve traffic. And here, we see more saturation issues (emphasis mine).</p>



<p><em>Provision-service needs to talk to other internal Slack systems and to some AWS APIs. It was communicating with those dependencies over the same degraded network, and like most of Slack‚Äôs systems at the time, it was seeing longer connection and response times, and therefore was using more system resources than usual. The spike of load from the simultaneous provisioning of so many instances under suboptimal network conditions meant that provision-service hit two separate resource bottlenecks (the most significant one was the <strong>Linux open files limit</strong>, but we also exceeded an <strong>AWS quota limit</strong>).</em></p>



<p><em>While we were repairing provision-service, we were still under-capacity for our web tier because the scale-up was not working as expected. We had created a large number of instances, but most of them were not fully provisioned and were not serving. The large number of broken instances caused us to hit our <strong>pre-configured autoscaling-group size limits</strong>, which determine the maximum number of instances in our web tier.</em></p>



<figure><a href="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg"><img data-attachment-id="1789" data-permalink="https://surfingcomplexity.blog/provision-service-1/" data-orig-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg" data-orig-size="1057,836" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="provision-service-1" data-image-description="" data-medium-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300" data-large-file="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" src="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024" alt="" srcset="https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=1024 1024w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=150 150w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=300 300w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg?w=768 768w, https://lorinhochstein.files.wordpress.com/2021/02/provision-service-1.jpg 1057w" sizes="(max-width: 1024px) 100vw, 1024px"></a><figcaption>The provision service is saturated, as is the autoscaling group, although many of the instances aren‚Äôt serving traffic because they aren‚Äôt fully provisioned.</figcaption></figure>



<p>Through a combination of robustness mechanisms (load balancer panic mode, retries, circuit breakers) and the actions of human operators, the system is restored to health. </p>



<p>As operators, we strive to keep our systems far from the point of saturation. As a consequence, we generally don‚Äôt have much experience with how the system behaves as it approaches saturation. And that makes these incidents much harder to deal with. </p>



<p>Making things worse, we can‚Äôt ever escape the risk of saturation. Often we won‚Äôt know that a limit exists until the system breaches it.</p>
	</div></div>]]>
            </description>
            <link>https://surfingcomplexity.blog/2021/02/08/slacks-jan-2021-outage-a-tale-of-saturation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140154</guid>
            <pubDate>Mon, 15 Feb 2021 07:40:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to best manage your tasks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26140123">thread link</a>) | @jonmal
<br/>
February 14, 2021 | https://blog.doit.io/task-management/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/task-management/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2021/02/TaskManagement-1.jpg 300w,
                            /content/images/size/w600/2021/02/TaskManagement-1.jpg 600w,
                            /content/images/size/w1000/2021/02/TaskManagement-1.jpg 1000w,
                            /content/images/size/w2000/2021/02/TaskManagement-1.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2021/02/TaskManagement-1.jpg"
                    alt="Task Management: How to Best Manage your Tasks"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Daily life is busy and getting busier every single day. Keeping up with it all can feel overwhelming at best and impossible at worst. We could all use some help organizing the various projects and associated deadlines we have at work, school, and home. </p><p>The key to meeting deadlines and staying on track to complete projects is effective task management.</p><p>Think about it. Projects are really just a set of tasks that need to be completed, one after another, until the project is done. Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</p><figure><img src="https://blog.doit.io/content/images/2021/02/TaskManagement.jpg" alt="" srcset="https://blog.doit.io/content/images/size/w600/2021/02/TaskManagement.jpg 600w, https://blog.doit.io/content/images/size/w1000/2021/02/TaskManagement.jpg 1000w, https://blog.doit.io/content/images/2021/02/TaskManagement.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Task Management</figcaption></figure><p>In this guide we will explain task management, share the skills you need to have to be a taskmaster, outline specific methods for approaching task management, and discuss how task management software can help.</p><p>Let‚Äôs do it.</p><ol><li><a href="#what-is-task-management?">What is Task Management?</a></li><li><a href="#5-essential-skills-for-effective-task-management">5 Essential skills for Effective Task Management</a></li><li><a href="#methods-to-use-for-task-management">Methods to use for Task Managements</a></li><li><a href="#why-should-you-use-task-management-software">Why you should use Task Management Software</a></li><li><a href="#key-features-of-the-best-task-management-software">Key features of Best Task Management Software</a></li><li><a href="#how-doit-io-can-help-you-manage-all-the-tasks-at-work-school-and-home">How Doit.io can help you</a></li></ol><h2 id="what-is-task-management">What is Task Management?</h2><p>All tasks have a life cycle of sorts. Task management is the process of taking a task through that entire cycle from beginning to completion. It involves aspects such as planning, assigning, tracking, delivering, and reporting.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management is the process of taking a task through that entire cycle from beginning to completion.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The goal of task management is to ensure that the projects associated with the tasks are completed within the specified deadline. Task management is useful within work teams, families, or for those flying solo.</p><h2 id="5-essential-skills-for-effective-task-management">5 Essential Skills for Effective Task Management</h2><p>Not all taskmasters are created equal. Some lucky folks are born with a natural gift for managing tasks that make them especially effective. The rest of us can improve our task management results by working on the skills that are essential to the process.</p><p>Here are five skills that are considered essential for masterful task management.</p><ol><li><strong>Prioritization:</strong> Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</li><li><strong>Flexibility:</strong> This skill goes hand in hand with prioritization. Things are going to come up that change the direction of any given project. Those who can successfully shift things around without a big fuss are going to be more effective than those who struggle with rigidity.</li><li><strong>Scheduling:</strong> The best task managers are those that can see the big picture of the end goal or project and schedule tasks in accordance with the larger timeline. Oftentimes this requires us to do a task that may not be a favorite, but is a necessary task to move things forward.</li><li><strong>Communication:</strong> This skill is found on the key skills list of everything from long term personal relationships to leadership. Task management is no different. Open, clear, and constant communication about the tasks at hand and to come is absolutely essential to successful task management.</li><li><strong>Delegation:</strong> Task management is not about shouldering the entire load alone. The best task managers are those that can identify who is best suited to which tasks so that progress is made in the most effective manner possible. Sometimes you will be best suited to the task. Other times, assigning tasks to others leads to much better outcomes.<br></li></ol><h2 id="methods-to-use-for-task-management">Methods to Use for Task Management </h2><p>The body of work around task management is vast. It‚Äôs such an important process that there have been countless books, coaching sessions, articles, and methods created around making it more effective. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Task management can help you stay on track, focus your efforts, and stop missing deadlines, big and small.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We have identified a few methods that are especially worth consideration. They are actionable strategies that can be implemented as-is or tweaked to fit your personal preferences. Let‚Äôs take a look at some specific methods for task management.</p><h3 id="eat-that-frog">Eat That Frog</h3><p>This method has a silly name but it gets seriously impressive results! The moniker comes from an oft-cited alleged quote from Mark Twain. He is quoted to have said, ‚ÄúIf it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.‚Äù Esteemed <a href="https://www.briantracy.com/">author and productivity expert Brian Tracy</a> ran with this evocative quote and turned it into a task management method and book by the same name.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>If it‚Äôs your job to eat a frog, it‚Äôs best to do it first thing in the morning. And if it‚Äôs your job to eat two frogs, it‚Äôs best to eat the biggest one first.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The main idea with the <a href="https://blog.doit.io/eat-that-frog/">Eat That Frog method</a> is that you should jump right into hard, important, and difficult to deal with tasks first. Once they are done you can move on to other tasks that are easier to swallow, if you will. It is beautiful in its simplicity. It works because it aligns your focus, helps you prioritize, and urges you to take action. </p><h3 id="the-ivy-lee-method">The Ivy Lee Method</h3><p>This task management method is also rooted in a <a href="https://www.businessinsider.com/ivy-lee-method-productivity-2018-9">historical account of folkloric proportions</a>. As the story goes, a man by the name of Charles Schwab (yes, <em>that</em> Charles Schwab) wanted to help his employees increase their productivity. He hired a consultant called Ivy Lee who promised to teach his employees a sure-fire method for improved productivity in just a few minutes. </p><p>Better still, Schwab would pay absolutely nothing up front. Lee asked that the employees use the method for a period of three months and then Schwab should pay Lee what he felt the method was worth. Ivy Lee was paid $25,000 way back in 1918 which is worth over $450,000 in today‚Äôs dollar.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>The key to meeting deadlines and staying on track to complete projects is effective task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The secret is out and now we all have access to the <a href="https://blog.doit.io/the-ivy-lee-method/">Ivy Lee Method</a>. It goes like this. Every day at the conclusion of your work day, spend a mere ten minutes thinking about what you have to accomplish tomorrow. Write down the six most important tasks and order them by priority. When you start work the next day, start with the most important task and work your way down one task at a time. Whatever is left undone should be included in the next day‚Äôs list. That‚Äôs it. </p><h3 id="get-things-done-or-gtd">Get Things Done or GTD</h3><p>This method comes from author David Allen whose book on the process remains popular since it‚Äôs publication nearly 20 years ago. It stands the test of time because it is fairly simple to implement and it actually works. The basic assumption is that our minds are cluttered with a flurry of things we need to remember or that we want to accomplish. If we can get those thoughts out of our heads and onto paper, our minds will be cleared and we can get things done.</p><p>GTD has five steps that we have<a href="https://blog.doit.io/getting-things-done-gtd-method/"> explained in greater detail</a> in a separate article. They are:</p><ol><li><strong>Capture:</strong> Dump all ideas, thoughts, ideas, tasks out of your mind and into the space or place of your choosing.</li><li><strong>Clarify:</strong> Go through the list and eliminate anything that is not actionable. From what is left, see if any tasks can be broken down into smaller tasks.</li><li><strong>Organize</strong>: At this stage, you take each task and prioritize it against the others.</li><li><strong>Reflect:</strong> The list must be reflected upon regularly as circumstances and priorities change. Make adjustments as needed.</li><li><strong>Engage:</strong> Get going! Start taking action and get things done, one by one.<br></li></ol><h3 id="the-eisenhower-matrix">The Eisenhower Matrix</h3><p>This method is aimed specifically at prioritization. It comes from the legendary productivity of former U.S. president, five-star army general, and all-around amazing accomplisher Dwight Eisenhower. The method was made popular by its inclusion in Stephen Covey‚Äôs perennial bestseller <a href="https://www.amazon.com/Habits-Highly-Effective-People-Powerful/dp/0743269519">The Seven Habits of Highly Effective People</a>.</p><!--kg-card-begin: markdown--><blockquote>
<p><span>Recognizing which tasks need urgent attention and which tasks can be put off until later is a key skill for task management.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>The core idea of the Eisenhower Matrix is determining whether or not a particular task is important, urgent, both, or neither. Importance and urgency are not the same thing. A task is important only if it moveImportance refers to how much a task moves us forward in achieving a long-term goal or mission. Urgency refers to how quickly something has to get done or how ‚Äúin the moment‚Äù it is. Urgency doesn‚Äôt always equal importance.</p><p>Tasks that are both urgent and important must be assigned the highest priority. Tasks that are urgent but not important should be delegated to someone else. Those that are important but not urgent should be planned. And those that are neither should be eliminated all together. For more <a href="https://blog.doit.io/the-eisenhower-matrix/">in-depth information on the Eisenhower Matrix</a>, check out our previous exploration of the method. </p><h2 id="why-should-you-use-task-management-software">Why Should You Use Task Management Software</h2><p>Based on the methods we have recommended and the skills we have identified as necessary to improve management of tasks you may be thinking that all you really need to become a taskmaster is a pen and paper. That would be true if you lived and worked completely on your own.</p><p>The reality is that our tasks are often commingled with the tasks of others. It is true in work teams, in classrooms, and in households all over the world. Collaboration is a regular part of our professional and personal lives. Task management software can make collaboration with others so much easier and tasks will be better managed, too.</p><p>Task management software allows you to implement all of the necessary components to the task management process more efficiently and effectively. Specifically, task management software improves visibility, access, communication, and collaboration. </p><ul><li>Visibility among all people involved in a particular project is improved. Everyone can see who is supposed to be doing what.</li><li>Access to tasks is instant and always available in the palm of your hand.</li><li>Easily delegate and communicate with others involved in the task or project.</li><li>Track and report progress to identify critical need areas and keep things moving.</li></ul><h2 id="key-features-of-the-best-task-management-software">Key Features of the Best Task Management Software</h2><p>If you decide to incorporate a task ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/task-management/">https://blog.doit.io/task-management/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/task-management/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140123</guid>
            <pubDate>Mon, 15 Feb 2021 07:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Security features of the Intel/Windows platform secure boot process]]>
            </title>
            <description>
<![CDATA[
Score 27 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26140122">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://igor-blue.github.io/2021/02/04/secure-boot.html | <a href="https://web.archive.org/web/*/https://igor-blue.github.io/2021/02/04/secure-boot.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section itemprop="text">
        
        <ul id="markdown-toc">
  <li><a href="#introduction-and-system-architecture" id="markdown-toc-introduction-and-system-architecture">Introduction and System Architecture</a>    <ul>
      <li><a href="#buses" id="markdown-toc-buses">Buses</a></li>
      <li><a href="#more-components" id="markdown-toc-more-components">More Components</a></li>
      <li><a href="#the-flash-chip" id="markdown-toc-the-flash-chip">The Flash Chip</a></li>
    </ul>
  </li>
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#early-power-on" id="markdown-toc-early-power-on">Early power on</a></li>
  <li><a href="#bring-up-bup" id="markdown-toc-bring-up-bup">Bring-Up (BUP)</a></li>
  <li><a href="#cpu-initialization" id="markdown-toc-cpu-initialization">CPU initialization</a></li>
  <li><a href="#uefi-initialization" id="markdown-toc-uefi-initialization">UEFI initialization</a>    <ul>
      <li><a href="#loading-the-boot-loader" id="markdown-toc-loading-the-boot-loader">Loading the boot loader</a></li>
    </ul>
  </li>
  <li><a href="#windows-boot" id="markdown-toc-windows-boot">Windows Boot</a>    <ul>
      <li><a href="#winload" id="markdown-toc-winload">Winload</a></li>
      <li><a href="#hvci" id="markdown-toc-hvci">HVCI</a></li>
      <li><a href="#dynamic-root-of-trust-model-drtm" id="markdown-toc-dynamic-root-of-trust-model-drtm">Dynamic Root of Trust Model (DRTM)</a></li>
      <li><a href="#uefi-memory-attributes-table" id="markdown-toc-uefi-memory-attributes-table">UEFI Memory Attributes Table</a></li>
    </ul>
  </li>
  <li><a href="#other-oss" id="markdown-toc-other-oss">Other OSs</a></li>
  <li><a href="#more-protections" id="markdown-toc-more-protections">More Protections</a>    <ul>
      <li><a href="#iommu-and-dma-protections" id="markdown-toc-iommu-and-dma-protections">IOMMU and DMA protections</a></li>
      <li><a href="#secure-devices" id="markdown-toc-secure-devices">Secure Devices</a></li>
      <li><a href="#smm" id="markdown-toc-smm">SMM</a></li>
      <li><a href="#memory-reset-protections" id="markdown-toc-memory-reset-protections">Memory Reset protections</a></li>
    </ul>
  </li>
</ul>

<p>This blog post is an in-depth dive into the security features of the Intel/Windows platform boot process. In this post I'll explain the startup process through security focused lenses, next post we'll dive into several known attacks and how they were handled by Intel and Microsoft. My wish is to explain to technology professionals not deep into platform security why Microsoft's SecureCore is so important and necessary.</p>



<p>We must first begin with a brief introduction to the hardware platform. Skip this if you have read the awsome material available on the web about the Intel architecture, I'll try to briefly summarize it here.</p>

<p>The Intel platform is based on one or two chips. Small systems have one, the desktop and server ones are separated to a CPU complex and a PCH complex (PCH = Platform Controller Hub).</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-3-0.png" alt="Intel architecture"></p>

<p>The CPU complex deals with computation. It holds the "processor" cores, e.g. Sunny Cove that implement the ISA, as well as cross core caches like the L3 cache, and more controllers that are grouped together as "the system agent" or the "uncore". The uncore contains the memory controller and display, e.g. GPU and display controller.</p>

<p>The PCH handles all other IO, including access to the firmware through SPI or eSPI, wifi, LAN, USB, HD audio, SMBus, thunderbolt and etc'. The PCH also hosts several embedded processors, like the PMC, the Power Management Controller.</p>

<p>An additional part of the PCH is a very important player in our story, the CSME, or Converged Security &amp; Management Engine, a i486 IP block (also called Minute IA). CSME is responsibly for much of the security model of Intel processors as well as many of the manageability features of the platform. The CSME block has its own dedicated ~1.5mb of SRAM memory and 128KB of ROM, as well as a dedicated IOMMU, called the A-Unit (that even has its own <em>acode</em> microcode) located in the CSME's <em>uncore</em>', thats allows access from ME to the main memory, as well as DMA to/from the main memory and using the main memory as an encrypted paging area ("virtual memory"). The CSME engine runs a customized version of the Minix3 microkernel, also recent versions have changed it beyond recognition adding many security features.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-19_14-14-4.png" alt="CSME structure"></p>

<h2 id="buses">Buses</h2>
<p>Lets use this post to also introduce the main interconnects in the system. The main externally facing interconnect bus is PCI-E, a fast bust that can reach 64GBps in its latest incarnations. A second external bus is the LPC, or Low Pin Count bus, a slow bus for connecting devices such as SPI flash, the TPM (explained below), and old peripherals such as PS/2 touchpads.</p>

<p>Internally the platform is based around the <strong>IOSF</strong>, or Intel On-chip System Fabric, which is a pumped up version of PCI-E that supports many additional security and addressing features. For addressing IOSF adds SourceID and DestID fields that contain the source and destination of any IOSF transaction, extending PCI-E Bus-Device-Function (BDF) addressing to enable routing over bridges. IOSF also extends addressing by adding support for multiple address root namespaces, currently defining three: RS0 for host memory space, RS1 for CSME memory space, and RS2 for the Innovation-Engine (IE), another embedded controller currently present only on server chipsets.
There are two IOSF busses in the PCH - the Primary Fabric and the Sideband Fabric. The Primary Fabric is high speed, connecting the CPU to the PCH (through a protocol call DMI), as well as high speed devices such as Gigbait Ethernet, WiFi and eSPI. The Sideband Fabric is used to connect the CSME to low-speed devices, including the PMC (Power Management Controller), the RNG generator, GPIO pins, USB, SMBus, and even debugging interfaces such as JTAG.</p>

<h2 id="more-components">More Components</h2>
<p>Another interesting component is the <strong>ITH</strong>, or Intel Trace Hub, which is codenamed North Peak (NPK). The ITH can trace different internal hardware component (VIA - Visualization of Internal Signals, ODLA - On-chip logic analyzer, SoCHAP - SOC performance counters, IPT - Intel Process Trace, AET - Intel Architecture Trace), and external component like CSME, the UEFI firmware, and you can even connect it to ETW. This telemetry eventually finds its way to Intel in various methods.</p>

<p><img src="https://igor-blue.github.io/images/image2020-4-22_0-52-2.png" alt="Intel Trace Hub"></p>

<p>The <strong>TPM</strong> is designed to provide a tamper proof environment to enforce system security through hardware. It implements in hardware many essential functions: sha1 &amp; sha256 hashing algorithms, many crypto and key derivation functions, measurment registers call the Platform Configuration Registers (PCRs), a secret key - Endorsment Key - used to derive all other keys, and non-volatile storage slots for storing keys and hashes. Discrete TPM chips (i.e. those that are a separate chip on the mainboard or SOC and connected through the LPC) are call dTPMs, or can be implemented in the CSME module's firmware and called fTPMs.</p>

<p>The TPM's <strong>PCR</strong> are initialized to zero when the platform boots and are filled up with measurements through the boot process. PCRs 0-15 are intended for "static" use - they reset when the platform boots; They are supposed to give the OS loader a view of the platform initialization state.
PCRs 17-22 are for "dynamic" use - they get reset on each secure launch (GETSEC[SENTER]); They are supposed to be used by the attestation sofware that checks if the OS is trusted.</p>

<h2 id="the-flash-chip">The Flash Chip</h2>
<p>SPI flash has 5 major regions: the Descriptor regions, the CSME region, the Gigabit Ethernet Region, the Platform Data Region, and the UEFI region. In the image below you can see an example of how the flash is organized.</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-11_1-18-53_1.png" alt="Partition regions in SPI flash">
<img src="https://igor-blue.github.io/images/image2019-11-11_1-19-12.png" alt="Serial flash sizes"></p>

<p>Later versions added more regions:</p>

<p><img src="https://igor-blue.github.io/images/image2019-11-25_22-49-41.png" alt="SPI region evolution"></p>

<p>These regions are categorized as fault tolerant (FTPs) and non fault tolerant partitions (NFTPs).
Fault tolerant partitions are critical for boot, and verified during early boot (like the RBE, the CSME ROM Boot extensions will discuss in a few paragraphs). If verification fails - the system does not boot. Examples of non fault tolerant partitions are the Integrated Sensor Hub (or ISH) firmware.</p>

<p>SPI flash protection is applied at multiple levels: On the flash chip itself, in the SPI flash controller (in the PCH), in UEFI code and in CSME code.</p>

<p>The SPI controller maps the entire flash to memory at a fixed address, so reads/writes are usually done simply by reading/writing memory. The SPI controller translates this to flash-specific commands issued on the SPI bus, using a table of flash-specific commands stored in the flash descriptor region.
This is called "Hardware Sequencing", meaning the SPI controller issues the actual SPI commands
When hardware sequencing is in use, the SPI controller enforces several flash protections based on the masters region table in the flash (but can be overriden using a hardware PIN).</p>

<p>The SPI controller also implements a FLOCKDN flag. FLOCKDN is a write-once bit that, when set, disables use of software sequencing and modification of the PR registers until the next reset. The CSME sets this in the Bring-UP process (bup_storage_lock_spi_configuration(), see below). This happens when the UEFI notifies it that it is at the end of POST. In addition to the region access control table, the SPI controller also has an option to globally protect up to five regions in the flash from write access by the host using five registers, called Protected Registers (PRs), which are intended for the UEFI firmware to protect itself from modification while the OS is running.</p>

<p>It is also possible to issue direct flash commands using "Software Sequencing" by writing to the OPTYPE/OPMENU registers, since this can be used circumvent the SPI-enforced protections, software sequencing is usually disabled after POST using the FLOCKDN bit.</p>

<p>How is the flash updated?</p>

<p>UEFI region is updated through an UEFI capsule, This update happens during POST, before PRs and FLOCKDN is set, therefore, the BIOS region is still accessible to UEFI code.</p>

<p>Many OEMS have then own UEFI anti-tamper protections. For example, HP has SureStart on laptops and workstations, and Dell has TrustedDevice SafeBIOS. SafeBIOS copies bad firmware images to the EFI system partition, and the Dell Trusted Device software on Windows sends their hashes plus the hash of the UEFI firmware currently in memory to a Dell cloud server (*.delltrusteddevicesecurity.com) to check against a list of "authorized" hashes. Server platforms have similiar protections, including iLO for HP and iDRAC in Dell.
The CSME region can usually be updated only from within the CSME. However, for more complicated upgrades CSME can temporarily unlock the ME region for host read &amp; write.</p>


<p>In the next sections we'll look over all the stages of boot.
<img src="https://igor-blue.github.io/images/image2020-4-20_14-56-23.png" alt="Serial flash sizes"></p>


<p>Boot starts the PMC, the Power Management Controller.
In modern Intel systems the PMC is an ARC core and its the first controller to execute code once electricity is applied to the system. We'll talk more about PMC in a later post as its quiet interesting and has its own microcode and firmware, and event generates telemetry over the IOSF SB bus (which we'll talk about in a moment).</p>

<p>While the PMC does its init, the rest of the system is held at bay at a RESET state.</p>

<p>The next part to start running is the CSME. Recall from the first post in the series, CSME, or Converged Security and Managment Engine is a MinuteIA (i486 CPU IP block) embedded in the Platform Controller Hub (PCH).
The CSME begins running from its own embedded 128KB ROM - the CSME-ROM. This ROM is protected with a hardware fuse that is burned by Intel during production.
When started the CSME ROM starts like a regular 486 processor BIOS - in the reset vector in real mode. Its first order of business is to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://igor-blue.github.io/2021/02/04/secure-boot.html">https://igor-blue.github.io/2021/02/04/secure-boot.html</a></em></p>]]>
            </description>
            <link>https://igor-blue.github.io/2021/02/04/secure-boot.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26140122</guid>
            <pubDate>Mon, 15 Feb 2021 07:34:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139884">thread link</a>) | @_query
<br/>
February 14, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="1e767b7272715e7b667f736e727b307d7173">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139884</guid>
            <pubDate>Mon, 15 Feb 2021 06:52:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The XDG base directory specification and Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139821">thread link</a>) | @pabs3
<br/>
February 14, 2021 | https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/ | <a href="https://web.archive.org/web/*/https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article class="page">
    

    

    <div id="pagebody">
      <section>
	<p>Edited to clarify <code>XDG_RUNTIME_DIR</code> based on feedback from smcv.</p>
<p>The <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html">XDG base directory</a> specification exists to address the problem of where programs should look for various kinds of files on a Unix system. Traditionally, in Unix, a per-program, per-user configuration file is stored as a ‚Äúdot file‚Äù: program <code>foo</code> would expect to find a file such as <code>$HOME/.foorc</code> at startup, and if it doesn‚Äôt exist, read <code>/etc/foorc</code>. Or possibly both, and possibly more. This has led the home directories of Unix users to have tens, even hundreds of configuration files. Mine has currently 83 such files, but I pruned it brutally before the holidays. The specification specifies ways in which this mess can be reduced, as long as programs follow it.</p>
<p>The specification deals with four types of files:</p>
<ul>
<li>configuration files</li>
<li>data files</li>
<li>files with cached data</li>
<li>small files needed at run time for interprocess communication</li>
</ul>
<p><strong>Configuration files</strong> affect how a program does things. The specification assumes a model where a user can override per-system defaults, and those can override defaults shipped with the program, and those in turn can override built-in, hardcoded defaults. Thus, configuration files need to be looked up in a number of places.</p>
<p><strong>Data files</strong> are files that the program needs or creates. Typically, these would be data such as icons, templates, and game levels, supplied with the program, but can also be things such as cookies saved by a web browser. Documents that the user creates using the program would typically be data files in this context.</p>
<p><strong>Cache data</strong> is meant to be not important. Ideally, the user can delete them at any time without anything breaking.</p>
<p><strong>Runtime files</strong> for interprocess communication includes things like the sockets for the GnuPG command line tool and the GPG agent to communicate. They‚Äôre meant to exist only while the user is logged in, and should not take much disk space.</p>
<p>There are many other kinds of files, of course, but this is what‚Äôs in scope of the specification.</p>

<p>For all directories, the specification provides defaults and a way to override the default using an environment variable.</p>
<p>For all four types of files, there is a single directory where the program can write files of that type. For configuration and data files, there is also a list of fallback directories where it can look up files not found in its single directory.</p>
<table>
<thead>
<tr>
<th>Type of file</th>
<th>Environment variable</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>configuration</td>
<td><code>XDG_CONFIG_HOME</code></td>
<td><code>$HOME/.config</code></td>
</tr>
<tr>
<td>data</td>
<td><code>XDG_DATA_HOME</code></td>
<td><code>$HOME/.local/share</code></td>
</tr>
<tr>
<td>cached data</td>
<td><code>XDG_CACHE_HOME</code></td>
<td><code>$HOME/.cache</code></td>
</tr>
<tr>
<td>runtime file</td>
<td><code>XDG_RUNTIME_DIR</code></td>
<td>no default</td>
</tr>
<tr>
<td>fallback config</td>
<td><code>XDG_CONFIG_DIRS</code></td>
<td><code>/etc/xdg</code></td>
</tr>
<tr>
<td>fallback data</td>
<td><code>XDG_DATA_DIRS</code></td>
<td><code>/usr/local/share/:/usr/share/</code></td>
</tr>
</tbody>
</table>
<p>The usual value for <code>XDG_RUNTIME_DIR</code> is <code>/run/user/$UID</code>. The spec says that if it isn‚Äôt set, there is no default. Some software falls back to <code>~/.cache</code> with a warning to the user, other software disables any features that requires the runtime directory.</p>
<p>is the current customary location for Linux. It‚Äôs not specified by the XDG base directory specification.</p>
<p>If any of the environment variables contains a directory that is not an absolute path name, that value should be ignored.</p>
<p>For each directory, the specification gives a base directory. Each program should put its files in a subdirectory of the base directory: program foo should use <code>$XDG_CONFIG_DATA/foo</code> for example.</p>

<p>The problem of finding files of various kinds exists across operating systems. A portable program should use an abstraction that is implemented in the correct way for each platform. The XDG specification is specific to Unix, but the <em>concepts</em> are portable.</p>
<p>I lack experience with Windows and Macintosh systems to give details of what the correct places for each type of file are on those systems. However, in my quest to find a library to implement XDG for my own use, on Unix, I might as well look for something that supports other platforms as well.</p>

<p>The freedesktop.org project also defines a way to specify where certain kinds of user data goes: documents, pictures, music, etc. This is known as the <a href="https://www.freedesktop.org/wiki/Software/xdg-user-dirs/">xdg-user-dirs</a> specification. Again, this is for Unix, and desktop software on free Unix systems, but the concepts are intentionally portable to other systems. This is also an important specification, but not relevant to me at this time.</p>

<p>For a software project written in Rust that I work on with a friend, we want to support the XDG base directory specification and we would like to support it well. The specification is not very difficult to implement, but we would prefer to use an existing crate, and there are many options. This blog post is a brief evaluation of the options I found.</p>
<p>I searched <a href="https://crates.io/search?q=xdg">https://crates.io/search?q=xdg</a> to find candidates. There‚Äôs a lot of crates for this. However, some seem to be empty placeholders, which I‚Äôm not even listing.</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories">directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/dirs">dirs</a></li>
<li><a href="https://crates.io/crates/dirs2">dir2</a></li>
<li><a href="https://crates.io/crates/dirs-2">dirs-2</a></li>
<li><a href="https://crates.io/crates/dirs-next">dirs-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
<li><a href="https://crates.io/crates/xdg">xdg</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-basedir">xdg-basedir</a>
<ul>
<li>only for Unix</li>
</ul></li>
<li><a href="https://crates.io/crates/xdg-user-macros">xdg-user-macros</a>
<ul>
<li>only for Unix</li>
</ul></li>
</ul>
<p>Of these, I‚Äôm dropping the ones that are only for Unix. The various variants of ‚Äúdirs‚Äù are a low-level library, and used by the ‚Äúdirectories‚Äù variants, so I‚Äôll concentrate on the higher level ones. Of those, the ‚Äúdirectories-next‚Äù create seems newer than the ‚Äúdirectories‚Äù one, so I"ll prefer that one. This leaves three:</p>
<ul>
<li><a href="https://crates.io/crates/cap-directories">cap-directories</a></li>
<li><a href="https://crates.io/crates/directories-next">directories-next</a></li>
<li><a href="https://crates.io/crates/platform-dirs">platform-dirs</a></li>
</ul>

<p>I‚Äôm going to evaluate the crates using the following approach: I‚Äôll write a small program that uses the crate and writes out the paths to the four data directories. I‚Äôll then run it with the environment variables set to various values and check that the results are as expected.</p>
<ul>
<li><p>Check defaults: run without any <code>XDG_</code> variables set in the environment; expect the following results (my home directory is <code>/home/liw</code> and my UID is 1000):</p>
<ul>
<li>config: <code>/home/liw/.config</code></li>
<li>config dirs: <code>/etc/xdg</code></li>
<li>data: <code>/home/liw/.local/share</code></li>
<li>data dirs: <code>/usr/local/share/:/usr/share/</code></li>
<li>cache: <code>/home/liw/.cache</code></li>
<li>runtime: <code>/run/user/1000</code></li>
</ul></li>
<li><p>Set each environment variable to an empty value and check that the output has the default value.</p></li>
<li><p>Set each environment variable to a special value and check that the output has that value.</p></li>
<li><p>Set each variable to a value that is not an absolute, and check that the output has the default value.</p></li>
</ul>

<h2 id="cap-directories">cap-directories</h2>
<p>This crate doesn‚Äôt seem to provide path names, only structs that represent the corresponding ‚Äúopen directory‚Äù. This may be a better abstraction for some use cases, but seems overkill for others, and constricting. How would a program tell the user at what path it expects a configuration file, for example?</p>
<h2 id="platform-dirs">platform-dirs</h2>
<p>The documentation is not as clear as it could be, but I got things working, so I guess it‚Äôs good enough.</p>
<p>This crate has a ‚Äústate directory‚Äù, but not a ‚Äúruntime directory‚Äù and doesn‚Äôt seem to have that at all. In fact, the README says it‚Äôs been removed. This disqualifies it from my/our use, I think.</p>
<h2 id="directories-next">directories-next</h2>
<p>This seems quite straightforward. Documentation is OK.</p>
<p>This crate insists that <code>XDG_RUNTIME_DIR</code> is set and does not have a default. I can live with that, even if it‚Äôs not great.</p>

<p>Of the three crates I looked at, <code>directories-next</code> is the clear winner.</p>

<p>The source code I wrote, what there is of it, is at <a href="https://gitlab.com/larswirzenius/xdg-experiments/">https://gitlab.com/larswirzenius/xdg-experiments/</a>.</p>

      </section>
    </div>

    
  </article></div>]]>
            </description>
            <link>https://blog.liw.fi/posts/2021/02/14/xdg-base-dirs-rust/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139821</guid>
            <pubDate>Mon, 15 Feb 2021 06:42:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Indicators of a Market Bubble (2014)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139808">thread link</a>) | @anm89
<br/>
February 14, 2021 | https://www.henssler.com/top-indicators-of-a-market-bubble/ | <a href="https://web.archive.org/web/*/https://www.henssler.com/top-indicators-of-a-market-bubble/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><span><span><a href="https://www.henssler.com/storage/radio/051814-investment.mp3"><img src="https://www.henssler.com/wp-content/uploads/2019/03/listenbtn.png?__SQUARESPACE_CACHEVERSION=1310433640184" alt="Top Indicators of a Market Bubble 1" title="Top Indicators of a Market Bubble 1"></a></span></span><span><span><a href="https://itunes.apple.com/us/podcast/money-talks-radio-show-atlanta/id286345195" rel="noopener"><img src="https://www.henssler.com/wp-content/uploads/2019/03/itunes.png?__SQUARESPACE_CACHEVERSION=1309017511163" alt="Top Indicators of a Market Bubble 2" title="Top Indicators of a Market Bubble 2"></a></span></span></p>

<p><strong>Question:</strong></p>
<p>What are the signs of a market bubble? I hear market pundits yammering about the next big bubble and while I‚Äôm not trying to time the market, I don‚Äôt want my small-cap holdings swept up in a big burst.</p>
<p><strong>Answer</strong>:</p>
<p>At Henssler Financial, we believe the key sign of a market bubble is when investors are coming up with different rationales or metrics to value a stock. For example, if earnings are not good, investors will look to obscure metrics like potential cash flow, number of users or potential price-to-earnings in 2025. If a company does not have earnings, it is of no value to us. One of the biggest bubbles we see is Amazon.com (NASDAQ: AMZN) because the company is able to keep increasing its sales; however, it is not making any money.</p>
<p>Companies most prone to bubbles are those with rapid sales growth. While a new company may reinvest revenues into company growth, eventually that has to stop and the company has to make money. During bubbles, low quality companies will often have large P/E ratios.</p>
<p>Bubbles also happen when the market is priced irrationally. In 2000, the entire market was trading at 30 times earnings. The Technology sector was trading nearly 73 times earnings, while some individual stocks in Technology were trading at 100 times earnings. The current market P/E is 16.5, which is in line with the long-term average. When a market starts trading at 30 times earnings, it is time to be concerned.</p>
<p>There is also a difference between being overvalued and a bubble. The stock market will always go up and down. It‚Äôs no secret stocks are more expensive today than they were a year ago. However, investors still need to invest money today. An investor needs to compare the relative valuation of stocks to other assets. The market may not be cheap, but it may be the best place to be long term. A 10-year U.S. Treasury yields 2.49%. You can get a high-quality stock that pays more than that in dividends and has the potential to increase in value.</p>
<p>We think the current market is fairly priced. At Henssler Financial we believe you should Live Ready, and that includes understanding the signs in the market. &nbsp;If you have questions regarding your investments, the experts at Henssler Financial will be glad to help. You may call us at 770-429-9166 or email at <a href="mailto:experts@henssler.com">experts@henssler.com</a>.</p>
<h5>Disclosures</h5>
<h5>This article is meant to provide valuable background information on particular investments, NOT a recommendation to buy. The investments referenced within this article may currently be traded by Henssler Financial. All material presented is compiled from sources believed to be reliable and current, but accuracy cannot be guaranteed. The contents are intended for general information purposes only. Information provided should not be the sole basis in making any decisions and is not intended to replace the advice of a qualified professional, such as a tax consultant, insurance adviser or attorney. Although this material is designed to provide accurate and authoritative information with respect to the subject matter, it may not apply in all situations. Readers are urged to consult with their adviser concerning specific situations and questions. This is not to be construed as an offer to buy or sell any financial instruments. It is not our intention to state, indicate or imply in any manner that current or past results are indicative of future profitability or expectations. As with all investments, there are associated inherent risks. Please obtain and review all financial material carefully before investing. Henssler is not licensed to offer or sell insurance products, and this overview is not to be construed as an offer to purchase any insurance products.</h5>
<p><a href="#" rel="nofollow" onclick="window.print();if(typeof(_gaq) != 'undefined') { _gaq.push(['_trackEvent','PRINTFRIENDLY', 'print', 'NULL']);
          }else if(typeof(ga) != 'undefined') {  ga('send', 'event','PRINTFRIENDLY', 'print', 'NULL'); } return false;" title="Printer Friendly, PDF &amp; Email"><img src="https://cdn.printfriendly.com/buttons/printfriendly-pdf-email-button-md.png" alt="Print Friendly, PDF &amp; Email" title="Top Indicators of a Market Bubble 3"></a></p></div></div></div>]]>
            </description>
            <link>https://www.henssler.com/top-indicators-of-a-market-bubble/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139808</guid>
            <pubDate>Mon, 15 Feb 2021 06:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Developer Tools for the AtariST from HiSoft (1988)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139741">thread link</a>) | @pjmlp
<br/>
February 14, 2021 | http://stformat.com/staf01/pages_nx1500/staf01_012.jpg | <a href="https://web.archive.org/web/*/http://stformat.com/staf01/pages_nx1500/staf01_012.jpg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://stformat.com/staf01/pages_nx1500/staf01_012.jpg</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139741</guid>
            <pubDate>Mon, 15 Feb 2021 06:26:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[StockMonitor ‚Äì my fundamental analysis bot]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26139321">thread link</a>) | @RikNieu
<br/>
February 14, 2021 | https://www.riknieu.com/stockmonitor/ | <a href="https://web.archive.org/web/*/https://www.riknieu.com/stockmonitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>I finally wrote a piece of software that I've wanted for years - a bot that regularly monitors the stock market for good, fundamentally sound companies that are undervalued, and then lets me know as soon as it finds them.</p><h2 id="automating-value-investing">Automating value investing</h2><p>I like the idea of buying something at a bargain that would likely truly increase in value over time, not because of it being a fad or fashion, but because it is really produces a net benefit to its stakeholders. Damn, that line sounded a bit more corporate than I intended, but it's relatively succinct and I stand by it.</p><p>If we're being honest, everything else is merely speculation. Although I do dabble in stuff like crypto, I do not view it as investing. To me it's just one or two steps up from gambling. </p><p>Why? Because it does not <em>produce</em> any additional value over time, its value merely depends on what a bunch of people collectively think it's worth. A value based on... feelings? Hopes? Peer pressure? Who knows. </p><p>To me that's not truly reliable and definitely not measurable enough to base longterm decisions on. Wow, as I wrote that I could just <em>feel</em> the multitude of objections undulating across the internet and socials; "what about smart contracts!?", and mentions of "stores of value", and cries of "gold-is-just-as-bad". Quite.</p><p>And some of those criticisms might have interesting points. And yes, the same could perhaps even be said about other more traditional forms of 'investment', like residential property and precious metals. But since all of that is only tangentially related to this post, and I'm in control of what's being discussed here, let's declare it a digression, side-step the horrified, and swiftly move along.</p><p>Sure, the line between investing and speculation can be very nebulous, and I do not really want to get into that an intricate of discussion and comparison with this post, but in short, I believe it comes down to that some people like pumping money into things they <em>feel or hope</em> would be worth more in the future. They prefer hunches, gut feelings, popularity and the wisdom of the crowd to analysis of the old-school and boring. They often have slogans too, mentions of moons and diamonds and, of course, lots and lost of cheering each other on.</p><p>Others(and this is where I align myself) prefer to pump money into things they think will increase in value in due to some more concrete and measurable properties, and often puts great emphasis on the output such an entity produces. They consider that measuring and processing those properties could give one a better idea of what that thing might be realistically worth in real monetary terms, regardless of what yours or others fluctuating feelings and hunches might suggest in a moment-by-moment basis.</p><p>You see, people and their opinions are fickle. And being due to human beings being spooked, ignorant, confused or distracted, things of real value might be worth more than most people feel it is in the open market, at any particular moment in time, due to random reasons.</p><p>Everyone can suddenly get all excited about that new tech-car company, and perhaps totally forget about the boring, ancient company that might produce a lot of the chemicals used in that very same tech-car company's production lines. </p><p>The market value of companies goes up and down daily, based on what's said in the news, what's being tweeted and what some random politician might have said. But thinking about it, how can that make sense? How can a company's real value change on a whim, a whisper or mere rumour? </p><p>And that, essentially, is what the concept of value investing entails - basing investment decisions on some measurable intrinsic properties of the investment instrument, and not being swayed by the markets' irrational ups and downs. I'll also offer the <a href="https://www.investopedia.com/terms/v/valueinvesting.asp">definition of value investing from Investopedia</a>, to give you a clearer idea of what I'm angling for.</p><blockquote><a href="https://www.investopedia.com/terms/v/valueinvesting.asp">Value investing</a> is an investment strategy that involves picking <a href="https://www.investopedia.com/terms/s/stock.asp">stocks</a> that appear to be trading for less than their <a href="https://www.investopedia.com/terms/i/intrinsicvalue.asp">intrinsic</a> or book value. Value investors actively ferret out stocks they think the <a href="https://www.investopedia.com/terms/s/stockmarket.asp">stock market</a> is underestimating. They believe the market overreacts to good and bad news, resulting in stock price movements that do not correspond to a company's long-term <a href="https://www.investopedia.com/terms/f/fundamentals.asp">fundamentals</a>. The overreaction offers an opportunity to profit by buying stocks at discounted prices‚Äîon sale.</blockquote><p>Thus the aim of the bot I wanted to build was to automate the process of fundamental analysis on a particular stock market index - in my case the <a href="https://en.wikipedia.org/wiki/S%26P_500">S&amp;P500</a> - and have it notify me when it finds an opportunity where the market might be considering a stock worth less than it possibly is in reality.</p><h2 id="the-bot-spec">The bot spec</h2><p>I wanted to automate everything I previously did manually, when it came to deciding what to buy and when, except for the actual trading part. I would still like to leave that particular task manual, as I want to have the final say in if I think a stock is a good purchase or not.</p><p>That being said, the bot does the following;</p><ul><li>It updates and caches a list of stocks in the S&amp;P500 every 3 months.</li><li>It fetches and/or calculates the latest fundamental metrics for each stock, including stuff like PE, EPS, FCF, Pietroski F-Score, book value, sales and earnings every 3 months, and caches it in between.</li><li>It ranks them from most profitable, productive and stable to least, then drops the bottom ones leaving only the top 8</li><li>It calculates an estimate per share value for each company with a customised form of the <a href="https://www.investopedia.com/terms/g/graham-number.asp">Benjamin Graham formula</a></li><li>It then compares the latest price of that top 8 with their calculated estimated value twice a day, and sends me an email report of this process on every other check(thus once a day)</li><li>It notifies me via SMS and email when it finds a stock that's going at a rate a little below the estimate, so that I can have a look and decide if it's a good buy or not myself.</li></ul><h2 id="choosing-a-stack">Choosing a stack</h2><p>I chose to use NodeJS, as that's the stack I use most frequently at my day job. This helps me move comfortably fast, as I'm fluent enough in it to be able to put most of my mental effort going towards architecting the app itself, and not towards trying to figure out a new language or framework.</p><p>I could also reuse a lot of code from previous side-projects, in order to get it built much faster. Some of the code I recycled included comms functions like sending email and SMS, error loggers and Dockerfile setups.</p><p>I also opted to not use TypeScript, as I found the basic application easy enough to build and reason about without having to worry about types too much, and because it's merely a personal project that doesn't need to be sanity-checked for other team members' sake.</p><p>Although I worked on it on my free time on-and-off, sometimes in the early mornings and sometimes on weekends, I estimate it took me about 6-8 hours to get it done and in its current relatively satisfactory state.</p><h2 id="fundamental-analyst-bot-in-action-">Fundamental analyst bot in action!</h2><p>The bot currently doesn't have a dashboard or web UI, but I can offer you a screenshot from the console.</p><figure><img src="https://www.riknieu.com/content/images/2021/02/StockMonitor-2.png"><figcaption>StockMonitor in action</figcaption></figure><h2 id="conclusions-and-disclaimers">Conclusions and disclaimers</h2><p>Now, I'm not a professional trader, financial advisor or a particularly astute financially literate person, so I'm not sure of how much worth this thing really is. But this was a fun project to work on and helps me keep a regular albeit automated eye on the market to help find opportunities as defined by my own personal investment preferences and inclinations. </p><p>I'm sure some of you would disagree with the validity of the metrics I'm tracking or some of the things I might have said in the post, but for me, this bot is pretty nifty. </p><p>I'd certainly not use it to advise others on what to buy or not, but for me and my own funds it's perfect, because it automates what I did manually anyway, just way more often and regular, thereby freeing up some of my time and mental energy for other endeavours. </p><p>It hasn't identified anything for me to buy as of yet, so I obviously can't vouch for its practical usefulness at this point, but it's only been running a couple of days and the market is rather bullish in general at the moment. But I'm patient, I'll wait. I know my bot's got my back.</p><p>I'll post an update again once it's made its first recommendations, and hopefully again after that, with some concrete results.</p><p>Thanks for reading. If you have any comments or suggestions, follow and contact me on Twitter <a href="https://twitter.com/riknieu">@RikNieu</a></p><p>If you want to read more of my rants, sign up below and I'll mail you when I post new stuff. üëá</p><!--kg-card-begin: html--><!-- Begin Mailchimp Signup Form -->
</section></div>]]>
            </description>
            <link>https://www.riknieu.com/stockmonitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139321</guid>
            <pubDate>Mon, 15 Feb 2021 05:09:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You might not need Docker]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26139255">thread link</a>) | @mattwatson
<br/>
February 14, 2021 | https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/ | <a href="https://web.archive.org/web/*/https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<header>
    <p><a href="https://www.mattwatson.org/">Matt Watson</a></p>

    

    <p>
        <time>February 14, 2021</time> ‚Äì
        <a href="https://www.mattwatson.org/">Matt Watson</a>
    </p>
</header>
<p>I came accross a very good <a href="https://www.sitepoint.com/docker-php-development-environment/">article on how to use
Docker with PHP</a> by Tom Butler on SitePoint. Nonetheless, I took issue with some of his
preliminary statements, namely:</p>
<blockquote>
<p>If, like me, you‚Äôre old enough to have been developing websites in the 90s, you‚Äôll
remember how frustrating the experience was. Back then, if you were in the minority who
didn‚Äôt just develop on the live web server (yes, we really did this, yes it was a terrible
idea), you would manually install Apache, PHP and MySQL on your development machine.</p>
</blockquote>
<p>Well, this manual installation is the way I currently develop, and I didn‚Äôt start in
web development until 2016.</p>
<p>In a similar vein, Butler says:</p>
<blockquote>
<p>If you hang around various PHP facebook groups, you‚Äôll find that a significant portion
of new developers still follow tutorials from this era and a large number of existing
developers never moved on, so XAMPP is still used quite widely. If this describes you,
it‚Äôs time to move on.</p>
</blockquote>
<p>I haven‚Äôt used XAMPP much, but it is not much different than manually configuring your
localhost server like I do. And I have used Mac‚Äôs paid equivalent, MAMP, with much
success. I don‚Äôt think that if you use these and are happy, which I‚Äôm willing to bet is a
lot of people, ‚Äúit‚Äôs time to move on.‚Äù As with so many other ‚Äúbest practices‚Äù
recommendations in web development, <strong>it all depends</strong>.</p>
<p>My job involves building custom WordPress sites on more or less traditional, shared
hosting. Even the majority of my side projects are written on the LAMP stack and deployed
on traditional, shared hosting. I have had a few outlier projects using non-traditional
hosting, such as AWS, Vercel or a Digital Ocean VPS. It seems to me that the increasing
recommendation to use Docker applies more to these non-traditional services for deployment
than for traditional hosting. So right off the bat, the idea that Docker, whose main point
is to let you spin up a containerized virtual server, is Best Practices<sup>TM</sup>
assumes I‚Äôm not using traditional hosting and can spin up containers on a server.</p>
<p>But the other benefit of Docker besides using it on a virtual server is that you can
run exactly the same stack in your dev environment as on your live server. This is true up
to a point. But it is not used this way 99% of the times I‚Äôve personally seen it used.
Whether we‚Äôre talking about Docker or the older, similar VM solution, Vagrant, I‚Äôve seen
them used primarily as a way to get a local dev environment going, but which hardly ever
perfectly matched what was in production.</p>
<p>For example, I have used <a href="https://lando.dev/">Lando</a>, which is essentially
    an
approachable command line
program for people who don‚Äôt know Docker. I used it for several months after I had
somehow deleted all of my MySQL users and locked myself out of my locally installed MySQL
instance (MariaDB). The other day, I finally got around to updating my Linux desktop,
resetting my MySQL users, and a few Stackoverflows later I was back up and running with a
functioning MySQL instance on my local machine. But whether I‚Äôm using Lando or a manual
localhost configuration, I rarely need to match exactly what‚Äôs on the server. As long as
I‚Äôm on the same major version of PHP, I‚Äôm safe to deploy, at least to a staging server.</p>
<p>Lando/Docker did come in handy for me while my local LAMP installation was down, and
once or twice I used it to test a different MySQL or PHP version that more closely matched
my server. For those reasons, Docker is definitely worth having as a tool in one‚Äôs belt,
but here are some advantages I‚Äôve noticed about using a traditional localhost
installation:</p>
<h2>No long Docker container startups</h2>
<p>I don‚Äôt have to wait for Lando to start up a Docker container, which takes a few
minutes the first time it runs for a new project, and even after that it can take a while
sometimes. My local, native Apache virtual host is already running for all my projects on
desktop startup, which equals <strong>zero</strong> wait time when project switching, and
it only takes a minute to set up the first time for a new project. A new project involves
creating one new .conf file in my apache sites-available directory, updating the
/etc/hosts file to include a testing domain (e.g., mynewproject.test), and running two
terminal commands to enable the site and restart Apache. Not as easy as running ‚Äúlando
start‚Äù on the command line, but it‚Äôs easy enough once you‚Äôve done it a few times and is
way quicker.</p>
<h2>Consistent localhost virtual domains</h2>
<p>With a traditional dev environment using virtual hosts (like what I do on my Linux
desktop, or what could be done using XAMPP or MAMP or Apple‚Äôs Homebrew), you get a
consitent localhost domain for each project, e.g.&nbsp;myproject.test, mysecondproject.test,
mythirdproject.test, etc.</p>
<p>Using Docker as described in the aforementioned SitePoint article, you would have to
stop and restart Docker containers every time you switch projects/containers, so that the
container in use can serve at localhost, port 80, i.e.&nbsp;‚Äúhttp://127.0.0.1‚Äù in your browser
address bar.</p>
<p>I imagine you could run multiple containers simultaneously by using different ports for
each container, as this is what Lando does somehow automatically, but this gets confusing
and tiresome and doesn‚Äôt play well with a WordPress site that requires WP_SITEURL and
WP_HOME constants in PHP. And maybe I‚Äôm doing something wrong, but whenever I spin up a
new Lando project, it often breaks the last one I started in some way or another, usually
changing ports at the least.</p>
<p>There is a workaround for inconsistant host names in WordPress in which you dynamically
define WP_SITEURL and WP_HOME using the request <code>Host</code> header, but it is not
ideal. The workaround doesn‚Äôt account for internal links in the blog post contents and the
like. But on a dev environment running a native (L)AMP stack with traditional virtual
hosts, I can both set those constants to ‚Äúmyproject.test‚Äù and run a DB search/replace to
use http://myproject.test in place of https://myrealdomain.com if I need to ‚Ä¶ and then I
am good to go for local development and never have to think about it again.</p>
<h2>Running terminal commands locally</h2>
<p>Installing PHP and MySQL locally and keeping them updated gives you the added benefit
of running them from the command line without having to ssh into a Docker container. Lando
makes this part of things a little easier by giving you various utilities such as the
‚Äúlando wp‚Äù command for running <a href="https://wp-cli.org/">wp-cli</a> and
‚Äúlando db-import‚Äù for importing a database. But
if you try to use Composer or npm with Lando, it seems to error out a lot, at least for
me. Not to mention, having all these dev tools installed on each container for every
project starts feeling like a waste, even if there‚Äôs supposedly some Docker voodoo sharing
all these resources. So, for all these reasons and more, you‚Äôll eventually wind up
installing all these things locally anyway. And by the time you do that, why not just
install Apache and serve the site from your machine?</p>
<h2>Final thoughts</h2>
<p>My personal opinion is that there is no good way to set up a dev environment. It‚Äôs one
of those unenjoyable things about life. Scouring blog posts on dev setups for the past
four years, I‚Äôve noticed that people turn to a new solution when they start having
problems they don‚Äôt know how to fix on their old solution, which is perfectly justified.
But I have spent enough hours in Vagrant hell, Docker hell, and manual configuration hell
to know they are all created equal. There are pros and cons to each method, and it is up
to the developer or the team to hedge their bets.</p>
<p>Some decisions can be more informed than others. If you‚Äôre turning to Docker just
because of peer pressure or the constant assurance it‚Äôs the Right Way, you‚Äôre making an
uninformed decision. If you are avoiding it purely out of fear, you‚Äôre making an
uninformed decision.</p>
<p>But if you decide to use Docker, and you say, ‚ÄúI need it for spinning up VPSes,‚Äù or, ‚ÄúI
need it for quick, streamlined project setup for a team of developers,‚Äù then that makes a
little bit more sense. If you decide not to use Docker, and you say, ‚ÄúI don‚Äôt have enough
time to learn it for the amount of payout I expect for my use case,‚Äù or, ‚ÄúMy stack is
traditional and stable and doesn‚Äôt require containers for dev setups,‚Äù then that just
makes sense.</p>
<p>Maybe one day, I‚Äôll be doing enough fancy pants projects to justify always using
Docker, but for now I‚Äôll stick to my <a href="https://mcfunley.com/choose-boring-technology">boring technology</a>.</p>

<hr>

    

</div>]]>
            </description>
            <link>https://www.mattwatson.org/blog/20210214-you-might-not-need-docker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139255</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The biggest haters on Elon Musk's Tesla Bitcoin buy are his fellow techies]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139253">thread link</a>) | @gge
<br/>
February 14, 2021 | https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/ | <a href="https://web.archive.org/web/*/https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-section">
    <!-- .sidebar -->

    <section>
      
      

      <p>The news that Tesla had invested $1.5 billion of its corporate cash in Bitcoin had all the components of a perfect storm for tech enthusiasts: Elon Musk tweets, magic internet money, and a graph pointing up and to the right. Just like his Twitter follower count, after the announcement:</p>

<p>Crypto advocates were euphoric. Tesla‚Äôs move would be the tipping point for Bitcoin, and crypto in general, to hit the mainstream, <a href="https://twitter.com/APompliano/status/1358764055285145605?s=20" target="_blank">Bitcoin boosters crowed</a>. Indeed, crypto‚Äôs usual antagonist, Wall Street, <a href="https://www.reuters.com/article/us-crypto-currency-tesla-quotes/tesla-announces-1-5-billion-bitcoin-bet-makes-payments-pledge-idUSKBN2A81PD" target="_blank">cheered along</a> this time. And if App Store ratings for Coinbase are any guide, enthusiasm for crypto investing among the retail crowd is at an all time high:</p>

<p>But the news provoked a backlash from an unexpected demographic: software developers. Check out <a href="https://news.ycombinator.com/item?id=26063920" target="_blank">this thread</a> at developer watering-hole Hacker News, for instance. It generated 1,271 comments. Here are some highlights:</p>

<blockquote>
<p>‚ÄúBitcoin is a mystery to me. Somehow it's hailed as revolutionising the economy, by replacing currency with a worse kind of currency.‚Äù ‚Äî rzodkiew</p>

<p>‚ÄúHow is there a network effect if people aren't using Bitcoin to make or receive payments? Bitcoin is no more useful to me if my friend uses it versus a stranger. "Meme effect" is more like it -- the more hype there is, the better it is for anyone holding coins. The value comes from convincing enough new people to keep buying in. It's like a ponzi scheme in that respect.‚Äù ‚Äî&nbsp;eli</p>

<p>‚ÄúThere's a lot of very very smart people who are totally lost among the trees on the technicalities of Bitcoin who don't get this one simple aspect. It's never happening.‚Äù ‚Äî&nbsp;vp8989</p>
</blockquote>

<p>The backlash has not gone unnoticed in crypto-land. Here‚Äôs what one Ethereum core developer ‚Äî&nbsp;the folks who make the whole protocol work ‚Äî&nbsp; experienced on Twitter when the Tesla news broke:</p>
<div>
<blockquote>
<div dir="ltr" lang="en"><p>My timeline is interesting:</p><p>Post 1: Tesla, Bitcoin, Mooon, Mars<br>Post 2: Musk brought shame to Tesla<br>Post 3: Crypto is going mainstream<br>Post 4: You life is not about making money</p><p>Loop.</p></div>
‚Äî P√©ter Szil√°gyi (@peter_szilagyi) <a href="https://twitter.com/peter_szilagyi/status/1358885818761379843?ref_src=twsrc%5Etfw">February 8, 2021</a></blockquote>
</div>

<p>What lies behind this apparent antipathy to crypto in what we might call ‚Äútraditional‚Äù tech? I turned to a longtime developer who straddles the crypto world and more conventional tech circles named Lauren Garcia. The Bay Area native is developing an <a href="https://microsponsors.io/" target="_blank">advertising system</a> that swaps intrusive tech for blockchain tokens. She has also worked at places like Yahoo and DuckDuckGo over the years.&nbsp;</p>

<p>Garcia says crypto is ‚Äúthe most polarizing subject‚Äù among her fellow developers. In one incident, a longtime collaborator expressed shock when he was told she was working on a crypto project. ‚ÄúI thought you were a good person,‚Äù was his sign off.&nbsp;</p>

<p>Garcia attributes the tension to a clash of values: between well-off tradtechers who associate decentralization with open-source projects, who inevitably turn to Big Tech for patronage; and crypto millennials who believe they can tokenize their way to a decentralized internet.&nbsp;</p>

<p>‚ÄúOpen-source folks have complained that there‚Äôs no way to monetize their work, and it‚Äôs true - I‚Äôve spent hundreds of hours developing open-source work that gets no compensation,‚Äù she says. ‚ÄúIt‚Äôs always been this unsolved problem, and the default is these open-source contributors get paid handsomely by a startup or enterprise company that can afford to support that project. It‚Äôs a patronage model, and the patronage comes from Big Tech.‚Äù</p>

<p>By contrast crypto is a grassroots movement with a hodgepodge of projects that get generated by enthusiastic young developers. Crypto projects have the advantage of being able to raise capital seemingly out of thin air, through mechanisms like initial coin offerings.&nbsp;</p>

<p>‚ÄúThe projects that get funded are what people are interested in,‚Äù Garcia says.&nbsp;</p>

<p>Garcia might have a point. The researcher <a href="https://nadiaeghbal.com/" target="_blank">Nadia Eghbal</a> observed in her book ‚ÄòWorking in Public: The Making and Maintenance of Open Source Software‚Äô that open-source developers generally complain about funding, but that the money problems were just a symptom of something deeper at work. Eghbal diagnoses the underlying issue as a disconnect between open-source developers‚Äô utopic conception of their work and the reality they inhabited.&nbsp;</p>

<p>You see, open-source software was supposed to be a huge collaborative effort where developers would contribute code voluntarily to a commons, gifting their creations to humanity. But Eghbal discovered that open-source projects were becoming increasingly centralized, relying on a handful of developers instead of a broad cohort, even as the projects themselves gained massive adoption.&nbsp;</p>

<p>Eghbal calls this model of open-source development ‚Äúthe stadium,‚Äù where a coterie of software developers are encircled by occasional contributors. The devs are in turn encircled by ever expanding rings of software users, who simply consume the software. Stadium models, Eghbal writes, operate on access to the key developers‚Äô attention.</p>

<p>‚ÄúMuch like a lake that requires paid licenses from fisheries to reduce overfishing, an open source project can require companies to pay to ‚Äúappropriate‚Äù attention from the project‚Äôs developers,‚Äù Eghbal writes.&nbsp;</p>

<p>The roots of the angst on Hacker News and elsewhere in the developer world might simply come from the fact that crypto people figured out a way to get themselves paid. Traditional devs might not like the fact that this solution requires spinning up ‚Äî sometimes legally questionable ‚Äî&nbsp;tokens and trading them, but the crypto market is worth well over $1 trillion dollars by now, according to <a href="https://www.tradingview.com/markets/cryptocurrencies/global-charts/" target="_blank">TradingView data</a>. The coin slingers might be on to something.&nbsp;</p>

<p>While it‚Äôs difficult to pinpoint the cultural divide between tradtech and crypto devs precisely, it‚Äôs clear that cryptocurrencies have proved to be a divisive and polarizing topic in just about every sphere it touches, from finance to politics and even to that supposedly most neutral of realms ‚Äî&nbsp;technology.&nbsp;</p>


      

      
      <h3>About the Data:</h3>
      <p>
        Thinknum tracks companies using the information they post online, jobs, social and web traffic, product sales, and app ratings, and creates data sets that measure factors like hiring, revenue, and foot traffic. Data sets may not be fully comprehensive (they only account for what is available on the web), but they can be used to gauge performance factors like staffing and sales.
      </p>
      

      



    </section><!-- .article-body -->

    
  </div></div>]]>
            </description>
            <link>https://www.businessofbusiness.com/articles/Tesla-bitcoin-elon-musk-ethereum-backlash-hacker-news/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139253</guid>
            <pubDate>Mon, 15 Feb 2021 04:57:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experiencing Smalltalk]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26139132">thread link</a>) | @nsm
<br/>
February 14, 2021 | https://nikhilism.com/post/2021/experiencing-smalltalk/ | <a href="https://web.archive.org/web/*/https://nikhilism.com/post/2021/experiencing-smalltalk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
			

<p>In late August 2020 I read <a href="https://press.stripe.com/#the-dream-machine">The Dream
Machine</a> and it is my favorite
book of 2020. It is an incredible overview of a sliver of computer pioneers in
the 1960s-1980s and how one man was instrumental in tying all their narratives
together. One of the strands the book follows is the group at
<a href="https://en.wikipedia.org/wiki/PARC_(company)">PARC</a> (and other places) that
firmly believed in the notion of interactive computing. Over the last year,
I‚Äôve repeatedly been introduced to this strand of thinking. There is Douglas
Engelbart‚Äôs <a href="https://www.dougengelbart.org/pubs/papers/scanned/Doug_Engelbart-AugmentingHumanIntellect.pdf">Augmenting Human
Intellect</a><sup id="fnref:2"><a href="#fn:2">1</a></sup>
and his <a href="https://en.wikipedia.org/wiki/The_Mother_of_All_Demos">mother of all
demos</a>. The notion that
computers should allow humans to <em>think better</em>, and one way to do that is to
allow humans to express and try out ideas better. <em>Writing</em> is a useful skill
to form coherent, but generally linear streams of thought. <em>Computing</em> is the
closest we can yet get to a non-linear exploration of a problem domain, and
freed from the limitations of time and space, we can recreate our thoughts in a
malleable, explorable way. By applying <a href="https://doriantaylor.com/softwares-ailing-mythology">a known process to known information,
but turning a few billion cranks at a
time</a> we can get to better
solutions, faster. The notion is, if we could have a <em>computer</em> (the physical
device including the software) that would allow people to iteratively express
their problems, get immediate sensory (primarily visual, but nothing prevents
using the other senses) feedback and <em>extend the computer as necessary</em>, we can
really liberate the human mind from some of its limitations. It is a very
different vision from the consensus reality of vendors that deliver
pre-packaged applications that all come with restrictions.</p>

<p>Smalltalk<sup id="fnref:3"><a href="#fn:3">2</a></sup> is one of the outputs of this strand of thinking and has had a
<a href="https://en.wikipedia.org/wiki/Smalltalk#History">big impact on general purpose programming
languages</a><sup id="fnref:bak"><a href="#fn:bak">3</a></sup>. However the
focus on object orientation and test-driven development have robbed the world
of what I think are its most important aspects:</p>

<ol>
<li>programming as a dialogue with the computer, with meaningful feedback and <em>assistance</em>.</li>
<li>the environment being just as important to programming as the language, and empowering users to <em>modify the environment to help solve their problem</em>.</li>
<li>semantic simplicity as a necessity for easier comprehension in the face of the above points.</li>
</ol>

<p>Aditya Siram has <a href="https://www.youtube.com/watch/baxtyeFVn3w">this excellent
talk</a> giving a taste of Smalltalk.
If you had to take only one thing away from this post, it is to go and watch
that. I knew I had to try this thing out! While I worked through the <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/TODO">Pharo
MOOC</a> for a few days, I quickly lost interest in their examples. <a href="https://adventofcode.com/2020">Advent
of Code 2020</a> (AoC)<sup id="fnref:1"><a href="#fn:1">4</a></sup> seemed like a much
better avenue to really try out Smalltalk. All my experiences are based on the
<a href="https://pharo.org/">Pharo</a> variant, which seems to be the leading
implementation right now.</p>

<p>While I was working my way through AoC, Mike Levins wrote <a href="https://mikelevins.github.io/posts/2020-12-18-repl-driven/">On repl-driven
programming</a>. I
think he wasn‚Äôt fully able to convey the ideas of Smalltalk, because the term
‚ÄúREPL‚Äù is too strongly associated with Python/JavaScript/Ruby REPLs at this
point. I hope I did my <a href="https://news.ycombinator.com/item?id=25642699">bit</a> of
<a href="https://news.ycombinator.com/item?id=25642717">evangelizing</a> to <a href="https://news.ycombinator.com/item?id=25642741">correct
that</a>. Alright, lets jump into
my experience.</p>



<h2 id="a-truly-integrated-development-environment-ide">A truly integrated development environment (IDE)</h2>

<p>What do I mean? Well Smalltalk really facilitates creating a program in an
exploratory style, including test-driven development. As an example, for Day 5,
I wrote the following:</p>



<p>Now, as soon as I ‚Äúaccept‚Äù this code (by pressing Ctrl+S), Smalltalk will ask
me if I would like to define this <code>AOCBoardingPassParser</code> class. It will pop up
a little window to let me do that. It will also detect I wrote a test case
(because when I created a class for the test case, I inherited from <code>TestCase</code>)
and the system browser and other elements of the interface will have these
little gray/green/red dots next to every test case, letting me run the test and
observe the results right away. Now, this is offered in modern IDEs like
IntelliJ and PyCharm, but this was available 40 years ago in Smalltalk! But
that is just the beginning.</p>

<p>I can now run this test (remember I‚Äôve only defined the <code>AOCBoardingPassParser</code>
class at this point) and it will encounter the missing method <code>toSeat:</code> on the
class (think of this like a ‚Äústatic method‚Äù in Java/Python<sup id="fnref:static"><a href="#fn:static">5</a></sup>). In a
statically typed language, you would get a compilation error or have your IDE
highlight it for you. If you were in a dynamic language, then you‚Äôd just have
an exception thrown when running the program ‚Äì <code>AttributeError</code> in Python.
Unless you explicitly ran the test in a debugger, that is all you would get and
now you‚Äôve to go back to the editor, fix this, then re-run the test.</p>

<p>Not so in Smalltalk. First this isn‚Äôt just an IDE in the sense of a
language-aware editor. The IDE is also very aware of the runtime environment.
It will break at the stack frame with the missing method, and pop up a window.
You can <em>create</em> a method right there. This window has a full fledged editor
with code completion and all the other fanciness right there. I‚Äôm not aware of
any other environment<sup id="fnref:lisp"><a href="#fn:lisp">6</a></sup> that does this. Ok so we quickly recover by
creating the method. But I don‚Äôt know exactly what to put in there yet. Don‚Äôt
worry, this is Smalltalk. We don‚Äôt need to go through this cycle of rerunning
the entire test. The state of the running program is <em>preserved</em> until the
point where you hit the error, and you just tell the IDE ‚Äúok, I‚Äôve fixed the
immediate error, let‚Äôs try again‚Äù and it will resume execution from there! You
can do this as many times as you wish, developing the code as a function of
encountering errors and test failures. This very fast iteration cycle feels
amazing! Imagine writing a much more complex program that was running for
minutes to hours but then hit an error. In most languages you would have to fix
it and start from the beginning, but in Smalltalk you would just fix it right
there and proceed.</p>

<p>I think browser developer tools are the closest we can come to having this kind
of interactivity in widespread computing environments. They don‚Äôt do that yet,
but they could. But we need to acknowledge how much work had to be put in to
those tools vs Smalltalk. In addition, the that implementation would likely
need to be in C++ instead of JavaScript, which means users wouldn‚Äôt be able to
extend and improve it as necessary. Which brings me to my next point.</p>

<h2 id="ide-extension-and-visualization">IDE extension and visualization</h2>

<p>Where most IDEs and language implementations are written in C/C++/Java,
Smalltalk prides itself on bootstrapping from a very minimal native code core.
After that nearly everything about the runtime and the IDE is written in
Smalltalk. The program and the environment are not 2 separate things, they are
one. When you execute your program, it is just another ‚Äúthread‚Äù in the same
environment that you are creating the program in. You can do bizarre things
like remapping <code>true</code> to <code>false</code> or redefining what addition means and the
entire system will reflect the change right away (to disastrous results!). The
fact that the IDE and the program share a language means that any Smalltalk
programmer can understand and extend the IDE itself. Would you like a menu with
your most commonly used commands? Sure, just use the inspector/debugger to find
out where the menus are defined and add an entry there. Boom!</p>

<p>This also offers the really powerful ability to customize the debugger for the
task at hand. <a href="http://kursjan.github.io/petitparser2/">PetitParser2</a> is
probably the best example of this. It is a parser-combinator library. As Aditya
demonstrates in his talk, when you build up a parser, the parser provides
several hooks into the Smalltalk debugger. It can show you the matches it has
built up so far(including negative matches!) and you can run various inputs
against the parser to understand behavior. So you can start with a very simple
parser and iteratively make it complicated, observing the parse tree and
getting the behavior you want.</p>

<p>Whereas a lot of AoC implementations on reddit used various regex and string
operations for parsing inputs, I‚Äôd lean to PetitParser for anything beyond
simple white-space delimited numbers. It was just so easy and straightforward.
Instead of having to find subtle bugs in string parsing, I could actually see a
domain specific debugging view as my parser encountered tokens.</p>

<p>You could similarly imagine having domain specific drawings for your project.
If I was writing a build system in Smalltalk, I would write a build graph
viewer, and instead of a <a href="https://graphviz.org/">static graphviz image</a>, it
could be very interactive. While the build was running, it could update the
graph with file modification times, or indicate whether it thinks a file needs
to be rebuilt, and then I could easily debug why a particular file wasn‚Äôt being
built.</p>

<p>The folks at <a href="https://feenk.com/">Feenk</a> are really leveraging this in their
<a href="https://gtoolkit.com/">Glamorous Toolkit</a> to fantastic effect! I highly
recommend watching <a href="https://www.youtube.com/channel/UClLZHVq_-2D2-iI4rA2O8Ug">their
videos</a>.</p>

<h2 id="minor">Minor</h2>

<p>I appreciated the built-in Array2D class for the various game-of-life
implementations as well as <a href="https://adventofcode.com/2020/day/20">Jurassic
Jigsaw</a> where it was easy to reason in
terms of rows and columns, and quickly slice those out.  Similarly, the Point
class and special ‚Äúsyntax‚Äù<sup id="fnref:point"><a href="#fn:point">7</a></sup> made Day 12 <a href="https://github.com/nikhilm/AdventOfCode2020/blob/bbc331e2af2d948e683cade9ff4f93b4e4a3f667/AdventOfCode/AOCFerry.class.st">really
easy</a>.</p>



<p>Of course everything wasn‚Äôt magical. The Smalltalk/Pharo community is very
small, so this shouldn‚Äôt be considered a rant, just my disappointments.</p>

<h2 id="documentation">Documentation</h2>

<p>This was my biggest frustration. If we accept that <a href="https://documentation.divio.com/">documentation has 4
distinct types</a>, Smalltalk does a great job
of Reference docs, because everything can easily be inspected and browsed, so
reading method documentation, while seeing its implementation is really easy.
You can also easily inspect what an object is at the point of use, and then see
what methods are available on it. However there is still plenty of scope for
improvement here, as not all non-trivial methods have docstrings. In addition,
for such a powerful IDE, the lack of documentation tooltips on hover is very
odd.</p>

<p>It really lags behind in the other categories. There is a wealth of great
content in <a href="http://books.pharo.org/">various free books</a> and the
<a href="http://mooc.pharo.org/">MOOC</a> that explains the language and getting around
the IDE. However all the books on various useful libraries are really out of
date. It isn‚Äôt fair to expect someone to ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nikhilism.com/post/2021/experiencing-smalltalk/">https://nikhilism.com/post/2021/experiencing-smalltalk/</a></em></p>]]>
            </description>
            <link>https://nikhilism.com/post/2021/experiencing-smalltalk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26139132</guid>
            <pubDate>Mon, 15 Feb 2021 04:34:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Man pages in color, with links (2018)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138941">thread link</a>) | @mdip
<br/>
February 14, 2021 | https://iamnearlythere.com/man-pages-in-color-and-links/ | <a href="https://web.archive.org/web/*/https://iamnearlythere.com/man-pages-in-color-and-links/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  <header>
    
    <p>
      <time datetime="2018-03-15T00:24:00+00:00" itemprop="datePublished">
        
        Mar 15, 2018
      </time>
      </p>
  </header>

  <div itemprop="articleBody">
    <p><a href="https://neovim.io/">Neovim</a> has builtin support for colorizing man pages, making them easier to read. It also lets you follow links to other man pages, by pressing <kbd>K</kbd> while hovering any term that has a man page.</p>

<p>To set up Neovim as the default reader for when you invoke <code>man apropos</code> etc., place the following code in your ~/.bashrc or such:</p>

<div><div><pre><code>export MANPAGER="nvim -c 'set ft=man' -"
</code></pre></div></div>

<p>There are some more pointers in the short and readable section of the <a href="https://github.com/neovim/neovim/blob/5ce8158a5d462043306ee67a3261794f169bdb17/runtime/doc/filetype.txt#L509">Neovim manual on viewing man pages</a>.</p>

  </div>

  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://iamnearlythere.com/man-pages-in-color-and-links/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138941</guid>
            <pubDate>Mon, 15 Feb 2021 04:04:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the shelf life of digital video]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138849">thread link</a>) | @rememberlenny
<br/>
February 14, 2021 | https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/ | <a href="https://web.archive.org/web/*/https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="genesis-content"><article itemscope="" itemtype="https://schema.org/CreativeWork"><div itemprop="text"><p>Reading Time: 8 minutes read</p>




<p><strong>TLDR: There‚Äôs going to be a shit ton of temporarily useful content; businesses need to have a quick way to make the worthwhile content stand out.</strong> (Thanks Joseph)</p>



<p>There are two ideas I have been thinking about over the past few months that I want to document here. The first has to do with disruption, and the second has to do with novelty vs usefulness.</p>



<p>The late Clay Christensen pointed out that major technology shifts take place when there is a massive change in price or available quantity of something. When there was a 10x reduction in price for computers, the personal computing revolution took place. When price decreases, then the potential application for said technology significantly increase.  When prices decrease and potential applications increase, then there the quantity of said technology also increases, and with it are new platforms for new tools and previously non-existent technologies.</p>



<p>I‚Äôve heard this idea too many times to count, but something I never deeply thought about was reasons why certain ideas within the new platform do or don‚Äôt succeed. The specific area of interest for me is how the new-platform creates new opportunities that previously couldn‚Äôt exist ‚Äì and therefore everything that wasn‚Äôt possible before is novel. When I use the term novel, I mean that since it is new, its significance seems highly valued relative to the past. That being said, if the new idea was to be projected out in the new reality, the novelty eventually wears off and is no longer as valuable as it once was.</p>



<p>Another way to think of it is the bundling and unbundling effect which I believe comes from a American economist who studied the cross-country trucking industry, and the standardization of freight trucks. Sadly, I don‚Äôt know the original reference. The summary point is that when getting packages safely and cheaply across the country was difficult, the creation of an 18 wheeler semi-truck (actually, I‚Äôm pretty sure the first version was not an 18 wheeler, so I‚Äôm butchering the facts) was a new innovation that solved a large problem. Once the trailer hauling semi-truck was widely accepted as the best option for hauling freight, the machine parts were modularized so that the trucking company could delegate part production and reduce costs. At the same time, the process of modularizing the trucks allowed new entrants into the trucking space, which created differentiated offerings and options for achieving cross country freight hauling. </p>



<figure><img src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/2560px-White_trucks_fort_riley.jpg?ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>World War I trucks circa 1917, manufactured by&nbsp;<a href="https://en.wikipedia.org/wiki/White_Motor_Company">White Motor Company</a></figcaption></figure>



<p>Once the hauling freight was predictable, then new industries that couldn‚Äôt exist before emerged. The trucking industry created new modes of consumption with federated infrastructure. The big box stores, like Walmart or Costco, that couldn‚Äôt exist before were now possible (or the early 20th century parallel). As a consequence of the new modes of freight shipping creating a new possible economic model, parking lot based stores formed and the urban landscape changed. I‚Äôm extrapolated here, but I imagine a number of non-existent suburban environments formed due to this single freight based innovation. </p>



<p>The most exciting part of this to me is how the previously nascent technologies around freight positively exploded as a result of the new advancements. </p>



<p>And inline the new urban landscape fostered smaller environments that created new markets of supply and demand that didn‚Äôt previously exist. I imagine this also put stresses on areas that never expected such high throughput. I‚Äôm sure new roads needed to be developed, new laws, and in the process more and more markets emerged.</p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;ssl=1" alt="" width="402" height="268" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Line3174_-_Shipping_Containers_at_the_terminal_at_Port_Elizabeth2C_New_Jersey_-_NOAA.jpg?resize=402%2C268&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Intermodal containers waiting to be transferred between ships, trains, and trucks are stacked in holding areas at a shipping port.</figcaption></figure></div>



<p>I mention all of this because I find an interesting parallel when it comes to today and the state of what I‚Äôve been thinking about in the proliferation of video content. In relation to traditional disruption theory, we had a major event that increased the quantity of video production, without necessarily changing the cost of production. Specifically, the cost of individual video creation has transformed the way we communicate personally ‚Äì as seen through social media ‚Äì but the impact on businesses has been delayed. Given that the cost of video production had been low for quite a while, the recent societal forces around Covid turned nearly every business into a video producer.</p>



<p>I think a good parallel is to think of Zoom as being the semi-truck and the need to interact with one another during a pandemic as being the freight to haul. Naturally, as Zoom became the fix-all solution, the tool that started as a necessity became fraught with problems for specific use cases. For one, Zoom wasn‚Äôt designed for highly interactive environments or planning events ahead of time. As a result, a world wind of new applications emerged to compliment the lacking areas, such as Slidio for questions or Luma for event planning. </p>



<div><figure><img loading="lazy" src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;ssl=1" alt="zoom.png" width="405" height="219" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/zoom.png?resize=405%2C219&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Zoom‚Äôs usage change over one year</figcaption></figure></div>



<p>The need for higher fidelity interactions as the new normal of interacting over video was no longer a novelty. For one, people wanted to have fun. Games became a common way to spend time together, but beyond actual video games, an entire category of Zoom based games emerged. Things like <a href="https://gather.town/">GatherTown</a> or <a href="https://pluto.video/">Pluto Video</a> came to light. Similarly, as the interaction model of being online together and participating in a shared online experience was normalized, existing platforms like Figma were used for non-traditional purposes to created synchronous shared experiences. </p>



<p>I bring these examples up because I think the ones above are obviously novel ideas that won‚Äôt be valuable for extended periods of time. That being said, the seed of the novelty comes from a core experience that will likely reemerge in various places in the future.</p>



<p>Continuing with the Zoom thread, the explosion of video communication and alternative ways of communicating with video has created the explosion in video content that previously didn‚Äôt exist. Of course, there is the novelty around having this increased content ‚Äì which I believe will only continue to increase. As many things, the transition from in-person to digital was a one-way door for many industries, where the reduction in cost and surprising resilience in results has created a new normal.</p>



<p>I won‚Äôt try an exhaustive analysis around video, but one area that is particularly interesting in the machine learning space. Given the past decade, the huge improvements around computer vision, deep learning, and speech-to-text based research have been expensive and the applications have been very specific. </p>



<p>There is an exciting cross section around the sheer quantity of content being produced, and the widely accessible machine learning APIs that make it possible to analyze the content in a way that wasn‚Äôt previously possible cheaply. The novelty effect here seems ripe for misapplication. Specifically, the thing that wasn‚Äôt generally possible and the thing that previously wasn‚Äôt widely present are converging at the same time. </p>



<div><figure><img loading="lazy" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;ssl=1" alt="" width="348" height="194" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/slider-14.jpg?resize=348%2C194&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Real life example of an executive realizing how much money they are spending on novel tools they don‚Äôt actually use.</figcaption></figure></div>



<p>More specifically, there is a ton of video content being produced by individuals and businesses. Naturally, given the circumstances, applying the new technology to the ever growing problem seems like a good idea. Creating tooling that helps organize the new video content, or improve the reflection and recall of the content seems valuable. But is it just a novelty or a future necessity. If its a necessity, will it be a commodity and common practice, or specialize enough to demand variety in offerings?</p>



<p>Applying speech-to-text processing on video content is cheap, so analyzing everything creates a new possibility where the previously non-machine readable media is now itself a new resource that didn‚Äôt previously exist. Not only do we have video that didn‚Äôt exist before, but we have a whole category of text content that was non-existent. At the basic level, we can search video. At the more advanced level, we can quantify qualities about the video at scale. The valuable applications for this have been around phone call analysis in the past, but now are applicable to the video calls of sales teams or user interviews at product teams.</p>



<p>Again, this being the case, I find it falls to the trap of being a novel and immediately useful solution, but far from a long term value. I imagine the construct to think about the new machine readable video, is that it unlocks a new form of organizing. The ability to organize content is valuable at the surface, but the content being organized needs to be worth the effort. </p>



<p>For one, when video is being produced at scale, in the way that it is today, the shelf life of content is quite low. If you record a call for a product interview today, then when that product changes next month, the call is no longer valuable. Or at least the value of the call declines proportionally to how much the product changes. Lets call this shelf life.</p>



<div><figure><img loading="lazy" width="733" height="438" src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;ssl=1" alt="" srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" sizes="(max-width: 733px) 100vw, 733px" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?w=733&amp;ssl=1 733w, https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=300%2C179&amp;ssl=1 300w" data-lazy-src="https://i1.wp.com/blog.rememberlenny.com/wp-content/uploads/2021/02/Frame-2.png?resize=733%2C438&amp;is-pending-load=1#038;ssl=1" data-old-srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The sales calls and user interviews from last year</figcaption></figure></div>



<p>Interestingly, as individuals ‚Äì in the social media space ‚Äì the notion of shelf life was given a sexy term: ephemerality. Since there is no cost to produce content individually, the negatives of having content with a short shelf life outweigh the positives, and among many other tings, this became a positive differentiator.</p>



<p>For businesses though, the creation of media is often far from free. Not only is the time of employees valuable, but the investment behind certain types of content are not immediately returned. So while the short shelf life video is already widely in use, the question that comes to my mind is: what are the future industries that don‚Äôt have a near term end in the road in this new space? </p>



<p>My general take is ‚Ä¶</p></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/">https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</a></em></p>]]>
            </description>
            <link>https://blog.rememberlenny.com/2021/02/13/innovation-parallels-around-trucking-and-zoom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138849</guid>
            <pubDate>Mon, 15 Feb 2021 03:51:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blanking Beavers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138724">thread link</a>) | @nickdrozd
<br/>
February 14, 2021 | https://nickdrozd.github.io/2021/02/14/blanking-beavers.html | <a href="https://web.archive.org/web/*/https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>üö∞ <em>This post is a continuation of <strong><a href="https://nickdrozd.github.io/2021/01/14/halt-quasihalt-recur.html">‚ÄúHalt, Quasihalt, Recur‚Äù</a></strong>.</em> üö∞</p>

<p><strong>Deciding whether a Turing machine is currently halted is trivial.</strong> All you have to do is check the machine‚Äôs current state. If that state is the halt state, then it‚Äôs halted. If it isn‚Äôt, then it isn‚Äôt.</p>

<p>As a <strong>termination condition</strong>, haltedness is convenient for the <strong>simulator implementor</strong>. It‚Äôs quick and it‚Äôs cheap and it‚Äôs easy. But for the <strong>Busy Beaver programmer</strong>, the requirement to halt is an onerous one. A program of <em>n</em> states and <em>k</em> colors has only <em>nk</em> transitions to work with, and one of those has to be a halt transition. The cost for detecting termination is offloaded from the simulator implementor to the programmer.</p>

<p>Suppose the simulator implementor is willing to bear the burden of detecting termination. What termination condition should be used? A machine is said to have <strong><em>quasihalted</em></strong> if it reaches a point past which <em>some and only some</em> of its internal states becomes unreachable. As a termination condition, quasihaltedness gives the programmer an enormous amount of expressivity. Unfortunately, it isn‚Äôt decidable in general whether a machine is currently quasihalted; there are programs that quasihalt but cannot be proved to quasihalt. Thus it is <strong>impossible to implement</strong> as a termination condition.</p>

<p><strong><em>Lin recurrence</em></strong> is a <strong>decidable predicate</strong>, and in theory it can be used as a termination condition. I don‚Äôt know if there is a simple, non-technical description of Lin recurrence. It was devised by <strong>Shen Lin</strong> in order to <strong><a href="https://nickdrozd.github.io/2020/12/15/lin-rado-proof.html">prove the third Busy Beaver number</a></strong>. The way it works is that on every step of the machine, a copy of the current tape contents is stored away, along with the machine‚Äôs current state and scanned color. Then on every step, every previous tape matching the current state and scanned color is compared to the current tape for the span of tape traversed between then and now. If there is a match, then the machine is said to be <strong><em>in recurrence</em></strong>. (Note that this method, the <strong>Lin algorithm</strong>, does not detect recurrence until after the recurrence has transpired for one <em>period</em>. It would be nice to able to detect recurrence as soon as it is entered.)</p>

<p>Implementing Lin recurrence as a termination condition is <strong>theoretically possible, but not practically</strong>. The Lin algorithm runs <strong>quadratic</strong> in the number steps the machine has run, meaning that a Turing machine that checks for recurrence will run slower the longer it runs. It‚Äôs like there‚Äôs a <strong>memory leak</strong>, which considering how the algorithm actually works is not so far from the truth.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a predicate that is <strong>feasible</strong> to implement as a termination condition for a Turing machine that does not need to be explicitly indicated by the programmer.</p>

<p>The <strong>Busy Beaver problem</strong> requires that programs be run starting on the blank tape. Ashes to ashes and dust to dust, so why not blank to blank? Just say that <strong>a machine terminates when its tape becomes blank again at some point after the first step</strong>. Call a program that leaves the tape blank a <em>blanker</em>. Or don‚Äôt. It‚Äôs not a great name.</p>

<p>The <strong>blank tape termination condition</strong> is fairly cheap to implement as a termination condition. There‚Äôs a trick to doing it right, but I won‚Äôt say what it is. Unlike haltingness, blankness doesn‚Äôt take up space in the program, although it does fatally constrain the programmer‚Äôs ability to leave anything on the tape. Remember though, we‚Äôre not talking about general Turing machine programmers here. We‚Äôre talking about <em>Busy Beaver programmers</em>, who are insane. All they‚Äôre interested in is running programs for as long as possible. Who cares what‚Äôs left on the tape? Who cares what the program does, so long as it runs for a long time?</p>

<p>Just as halting gives rise to the Busy Beaver question and as quasihalting gives rise to the <a href="https://nickdrozd.github.io/2020/10/09/beeping-busy-beaver-results.html">Beeping Busy Beaver</a> question and as Lin recurrence gives rise to a question that still needs a catchy name, so too does the blank tape condition give rise to the <strong><em>Blanking Beaver</em></strong> question: <strong>what is the longest that an <em>n</em>-state <em>k</em>-color Turing machine program can run before leaving the tape blank, in a grim reminder of the ultimate futility of all endeavors?</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Try to work out the ‚ù∑‚ë° Blanking Beaver champion <strong>by hand</strong>. Try to find the ‚ù∏‚ë° and ‚ù∑‚ë¢ champions by computer search, or by hand if you‚Äôre ambitious or bored.</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Come up with a <strong>catchy name</strong> for the question given rise to by Lin recurrence as the termination predicate.</p>

<p>The ‚ù∏‚ë° Blanking Beaver champion program is <code>1RB 1LB 1LA 1LC 1RC 0LC</code>. It runs for <strong>34 steps</strong> before blanking the tape. Here is its tape evolution over 40 steps:</p>

<figure><pre><code data-lang="nil"> 0 A _________________________[&lt;_&gt;]________________________
 1 B _________________________&lt;#&gt;[_]_______________________
 2 A _________________________[&lt;#&gt;]#_______________________
 3 B ________________________[_]&lt;#&gt;#_______________________
 4 A _______________________[_]#&lt;#&gt;#_______________________
 5 B _______________________#[#]&lt;#&gt;#_______________________
 6 C _______________________[#]#&lt;#&gt;#_______________________  &lt;-- quasihalt
 7 C ______________________[_]_#&lt;#&gt;#_______________________
 8 C ______________________#[_]#&lt;#&gt;#_______________________
 9 C ______________________##[#]&lt;#&gt;#_______________________
10 C ______________________#[#]_&lt;#&gt;#_______________________
11 C ______________________[#]__&lt;#&gt;#_______________________
12 C _____________________[_]___&lt;#&gt;#_______________________
13 C _____________________#[_]__&lt;#&gt;#_______________________
14 C _____________________##[_]_&lt;#&gt;#_______________________
15 C _____________________###[_]&lt;#&gt;#_______________________
16 C _____________________####[&lt;#&gt;]#_______________________
17 C _____________________###[#]&lt;_&gt;#_______________________
18 C _____________________##[#]_&lt;_&gt;#_______________________
19 C _____________________#[#]__&lt;_&gt;#_______________________
20 C _____________________[#]___&lt;_&gt;#_______________________
21 C ____________________[_]____&lt;_&gt;#_______________________
22 C ____________________#[_]___&lt;_&gt;#_______________________
23 C ____________________##[_]__&lt;_&gt;#_______________________
24 C ____________________###[_]_&lt;_&gt;#_______________________
25 C ____________________####[_]&lt;_&gt;#_______________________
26 C ____________________#####[&lt;_&gt;]#_______________________
27 C ____________________#####&lt;#&gt;[#]_______________________
28 C ____________________#####[&lt;#&gt;]________________________
29 C ____________________####[#]&lt;_&gt;________________________
30 C ____________________###[#]_&lt;_&gt;________________________
31 C ____________________##[#]__&lt;_&gt;________________________
32 C ____________________#[#]___&lt;_&gt;________________________
33 C ____________________[#]____&lt;_&gt;________________________
34 C ___________________[_]_____&lt;_&gt;________________________  &lt;-- blank tape, recurrence
35 C ___________________#[_]____&lt;_&gt;________________________
36 C ___________________##[_]___&lt;_&gt;________________________
37 C ___________________###[_]__&lt;_&gt;________________________
38 C ___________________####[_]_&lt;_&gt;________________________
39 C ___________________#####[_]&lt;_&gt;________________________
40 C ___________________######[&lt;_&gt;]________________________</code></pre></figure>

<p>This program uses its first six steps and states <code>A</code> and <code>B</code> to prepare a solid block of four marks. Then it switches to state <code>C</code>, never to reach another state again (and thus quasihalting). Over the course of the subsequent 28 steps that single state is miraculously able to clear the tape.</p>

<p>The preceding program description evinces a clear <strong>subroutine structure</strong> ‚Äì first arrange for the tape block to be filled in, then switch to the wipe state and wipe it. Indeed, this program appears to have been ‚Äúconstructed‚Äù in a modular fashion. Its <code>A</code> and <code>B</code> states are identical to the ‚ù∑‚ë° halting champion, <code>1RB 1LB 1LA 1RH</code>, except that instead of halting, it transitions to the appended <code>C</code> state. The state transition graph is not <em>strongly connected</em>, contravening the <strong><a href="https://nickdrozd.github.io/2021/01/26/spaghetti-code-conjecture.html">Spaghetti Code Conjecture</a></strong>. (It isn‚Äôt a proper counterexample though, since it can be dismissed as being ‚Äúnot sufficiently large‚Äù.)</p>

<p>The <strong>‚ùπ‚ë° Blanking Beaver champion</strong> reaches the blank tape in <strong>66345 steps</strong>. That number may sound familiar, as the champions for quasihalting and Lin recurrence both terminate in <strong>66349 steps</strong>. The presumptive champion program for all three termination conditions is the same: <code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code>. The different termination conditions are intended to be different ways of measuring the amount of complexity that can be fit into a program of a certain size. The fact that these unrelated predicates all seem to point to the same program suggests that in some sense, <strong>that program really is as complex as a ‚ùπ‚ë° program can be</strong>.</p>

<p>Here are the best known values for these various sequences:</p>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Quasihalt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Halt</td>
      <td>6</td>
      <td><code>1RB 1LB 1LA 1RH</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>8</td>
      <td><code>1RB 0RA 1LB 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>9</td>
      <td><code>1RB 0LB 1LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>21</td>
      <td><code>1RB 1RH 1LB 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>34</td>
      <td><code>1RB 1LB 1LA 1LC 1RC 0LC</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>55</td>
      <td><code>1RB 0LB 1LA 0RC 1LC 1LA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>101</td>
      <td><code>1RB 1LB 0RC 0LA 1LC 0LA</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>38</td>
      <td><code>1RB 2LB 1RH 2LA 2RB 1LB</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>59</td>
      <td><code>1RB 2LB 1LA 2LB 2RA 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>77</td>
      <td><code>1RB 2LA 0RB 1LA 0LB 1RA</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>165</td>
      <td><code>1RB 0LA ... 1LB 2LA 0RB</code></td>
    </tr>
  </tbody>
</table>



<table>
  <thead>
    <tr>
      <th>Predicate</th>
      <th>Steps</th>
      <th>Program</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Halt</td>
      <td>107</td>
      <td><code>1RB 1LB 1LA 0LC 1RH 1LD 1RD 0RA</code></td>
    </tr>
    <tr>
      <td>Blank Tape</td>
      <td>66345</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Quasihalt</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
    <tr>
      <td>Recurrence</td>
      <td>66349</td>
      <td><code>1RB 0LC 1LD 0LA 1RC 1RD 1LA 0LD</code></td>
    </tr>
  </tbody>
</table>

<p><strong>Computability theory</strong> tells us that the quasihalting sequence must eventually dominate the halting sequence. Additionally, it‚Äôs almost certainly the case that the recurrence and blank tape sequences also dominate the halting sequence, but that has not been proved. All that said, no values have been found that beat the halting sequence for the ‚ù∫‚ë° and ‚ù∑‚ë£ cases. <strong>Finding new champions will not be easy.</strong></p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ This post makes <strong>two major changes to previously used terminology</strong>. What are the changes, and why were they made?</p>

<p>üõÇ <strong>EXERCISE</strong> üõÇ Fill in the following table to show the <strong>resource access</strong> required to implement each termination predicate:</p>

<table>
  <thead>
    <tr>
      <th>&nbsp;</th>
      <th>Halt</th>
      <th>Quasihalt</th>
      <th>Recurrence</th>
      <th>Blank Tape</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Mac‚Ä¶</strong></td></tr></tbody></table></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</a></em></p>]]>
            </description>
            <link>https://nickdrozd.github.io/2021/02/14/blanking-beavers.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138724</guid>
            <pubDate>Mon, 15 Feb 2021 03:29:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Explaining Tesla Changes Post-Firmware 2019.16 Regarding Range Loss]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26138644">thread link</a>) | @STRML
<br/>
February 14, 2021 | https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss | <a href="https://web.archive.org/web/*/https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><b><span size="4">NOTE</span></b></p><p>This writeup and its accompanying images are Copyright 2021 - Jason Hughes, All rights reserved.&nbsp; No portion of this content may be copied or distributed outside of this site without my express written permission.&nbsp; If you wish to disseminate this information, you may do so in the form of a direct link to this writeup.</p><p>I'm posting this on my own (outdated) site for personal reasons (some noted below).</p><p>---</p><p><b><u><span size="4">I will preface all of this with a bit of a disclaimer</span></u></b></p><p>First, 99.9% of the information here is derived from first hand reverse engineering of Tesla‚Äôs BMS, BMS firmware, and other aspects of the Tesla vehicles.&nbsp; Reverse engineering is not an exact science, as in, you don‚Äôt get the exact code used to create the software out of the process, and obviously the developer‚Äôs commentary/comments are not available either.&nbsp; Much of what is derived relies on some logical interpretation to determine the intended functionality of particular code.&nbsp; While there is a lot of human-readable text in some parts of the code, this isn‚Äôt always the case.</p><p>I‚Äôve been working on hardware and software design, including reverse engineering of the same, for the better part of 20 years now.&nbsp; While I have extensive knowledge and experience, I don‚Äôt personally consider myself to be an expert in the field.&nbsp; Many others definitely disagree, and do consider me to be an expert.</p><p>All of that said, what I‚Äôm mainly trying to convey is that I‚Äôm definitely not perfect.&nbsp; It‚Äôs quite possible my interpretation of how all of this works has flaws, and my speculation as to the intention of the developers may also be flawed.&nbsp; I do believe this information is as correct as possible given the information available, however, and is likely the most complete picture that will be available.</p><p>I‚Äôll also note that this is a pretty technical explanation of the situation, and some background knowledge of the general topic and technology will be needed to fully understand.&nbsp; I‚Äôll go over some of the background info that is situation-specific, but you‚Äôll likely have to do your own research to fill in any gaps in your knowledge.</p><p>If I jump around a lot, my apologies.&nbsp; I'm also not the best writer, overall.&nbsp;&nbsp;I have a lot of information I'm trying to condense into a single writeup here, with lots of connections between the various content.</p><p>Finally, I‚Äôll make a blanket note that nothing here has anything to do with any battery fires or safety issues.&nbsp; In a worst case scenario, unmitigated Condition X or Z results in the vehicle being unusable.&nbsp; In no instance is either situation responsible for fires or other safety concerns.</p><p>---</p><p>Quick background.&nbsp; Over a year ago I discovered some interesting mechanics in the Tesla BMS code.&nbsp; At the time, it was in my best interest to not publicly disclose those findings in their entirety, so I dubbed the issues the code was attempting to mitigate ‚ÄúCondition X‚Äù and ‚ÄúCondition Z‚Äù.&nbsp; You can read more about that in a <a href="https://teslamotorsclub.com/tmc/posts/3719582/">megathread on TMC</a>, if you like, but suffice it to say:</p><p><b>Condition X</b>: A stuck balancing MOSFET (or other similar drain on a single cell group)</p><p><b>Condition Z</b>: Measurement accuracy failure on cell group (BMB sense failure, corrosion, mechanical PCB failure, etc)</p><p><u><b><span size="4">Some required background knowledge and definitions</span></b></u></p><p><img src="https://057tech.com/pimages/batterypackpi.jpg"><br></p><p><i><span size="1">Image: Opened 85 kWh Battery Pack (C)&nbsp;<a href="https://057tech.com/">057 Technology, LLC</a>, Jason Hughes</span></i><br></p><p>Tesla Model S and X battery ‚Äúpacks‚Äù, as of the time of this writing, consist of 14 ot 16 ‚Äúmodules‚Äù.&nbsp; Each module is made of 6 ‚Äúbricks‚Äù of 74 ‚Äúcells‚Äù. (There are some exceptions to this, but not important here.)&nbsp; The cells in each brick are connected in parallel.&nbsp; The bricks are connected to other bricks within a module in series.&nbsp; The modules themselves are connected in series to form a pack.&nbsp; This results in most packs having 96 cell groups in series.&nbsp; (For more basic definitions, consult your favorite search engine.)</p><p>Each pack module has a BMB (Battery Management Board) attached which monitors the voltage of each brick on that module, can bleed energy at a slow rate from each brick individually when needed for balancing, along with some temperature probes.&nbsp; The BMBs are connected to the main BMS (Battery Management System) at the rear of the pack which controls the bulk of the functionality of the battery‚Äôs monitoring and safety systems.</p><p>The BMBs can only discharge cell groups, they can not move energy from one cell group to another or otherwise charge any cell group.&nbsp; This is active balancing, but not charge shuffling.&nbsp; The cells with the highest voltage get their balancer circuits enabled in order to bring their voltage down and in line with the rest of the cell groups within a battery pack.</p><p>Keeping a large lithium ion battery with many cells in series in balance is critical for the safety, reliability, and longevity of the battery pack.&nbsp; I won‚Äôt get into all of the details on why this is the case here, but information on this is widely available.</p><p>---</p><p><u><b><span size="4">Onward to explanations</span></b></u></p><p><b><u><span size="4">Early 2019</span></u></b></p><p>Tesla started adding a bunch of problem detection code to the BMS sometime in early 2019.&nbsp; To me, the bulk of this seemed very preemptive, as-in nothing they were looking for had presented itself in the wild to the best of my knowledge.&nbsp; There are tons of things the BMS checks for that I personally never would have even thought of.&nbsp; Kudos to the engineers on this.&nbsp; It‚Äôs a remarkable feat for sure.</p><p>One of those problem detectors was to detect ‚ÄúCondition X‚Äù, a stuck MOSFET on a BMS resulting in a perpetual imbalance of a cell group.&nbsp; This seems like a sensible thing to look for.&nbsp; With hundreds of millions of these tiny MOSFETs in the wild, it‚Äôs only a matter of time before one fails closed and causes a problem.</p><p>Back when I initially started to see the code and algorithms for Condition X detection and mitigation (through ongoing reverse engineering), I was alarmed.&nbsp; It seemed to me that Tesla was trying to hide a BMS failure/flaw at the expense of customer usability.&nbsp; Since this came about the same time as the now infamous range loss update, and since Condition Z was not yet known, it also seemed like this was a much more widespread problem than it really was.</p><p>Further, my analysis of the code, along with influence from the media around amplifying a handful of vehicle fires, lead me to some incorrect conclusions about the function of some of the code (see my preface).&nbsp; At the time, I misinterpreted a part of the algorithm and thought that they may be mitigating some kind of unexplained voltage _rise_ in a cell group, which could be catastrophic.&nbsp; There‚Äôs no evidence this is the case.&nbsp; This line of thought was purely human error on my part when missing the sign bit on a section of reverse engineered code (if you‚Äôre not a programmer I suggest you skip understanding this explanation, accept it was a trivial error on my part, and move on).</p><p>Based on this, I pretty hastily posted publicly that there may be an issue, and it may be a safety issue.&nbsp; This definitely got some attention on the range loss issue.</p><p>I began examining and piecing together the code more closely, and eventually I realized that the code was trying to detect an unexplained voltage _drop_ in a cell group, not a rise (from a stuck MOSFET).&nbsp; This was bad, but definitely way better than what I had originally interpreted.&nbsp; An unexplained drop could result in the loss of use of the battery pack, perpetual imbalance, etc.</p><p>After seeing a slew of updates with new BMS code coming down the line, I took a step back and tried to see the bigger picture.&nbsp; Finally the distinction between Condition X and Z became apparent.</p><p><b><u><span size="4">Conditions X and Z</span></u></b></p><p>I eventually made some followup tweets and TMC posts about the issue, but after getting some mostly unsolicited but solid advice on the matter, along with some professional courtesy and general CYA thinking, I decided not to detail exactly what I believed the conditions were.&nbsp; It was obvious to me that the engineers were working hard to figure this out and come up with a solution.&nbsp; It didn‚Äôt make sense to push people in the wrong direction on this and cause more problems all around.&nbsp; At the time there was no mitigation in place for Condition Z, so it wouldn‚Äôt do any good to know about it anyway.&nbsp; My suggestion to the community was to just update, make sure you don‚Äôt get stranded, and wait it out.</p><p>(Some trivial info: I decided on Condition X and Condition Z based on the way engineers were doing various things in the BMS code related to the different algorithms.&nbsp; My hope was that should a Tesla BMS engineer see my notes, they‚Äôd make the association.&nbsp; Never confirmed either way.)</p><p><b><u><span size="4">X</span></u></b></p><p>If a battery pack has ‚ÄúCondition X‚Äù, a stuck MOSFET on a balancer circuit, this is very bad.&nbsp; If the balancer circuit is stuck on, the BMB is always going to be draining power from that cell group.&nbsp; The end result is that balancing the battery pack is now completely impossible.</p><p>Why? Because now no cell group can ever be brought to a lower voltage than the group with the stuck balancer circuit.&nbsp; The BMS now has to enable ALL of the remaining balancers in order to bring the rest of the battery pack back as close as possible to with the group that is too low.&nbsp; This results in a loss of range for multiple reasons: parasitic/vampire drain (roughly 1% SoC per day); and since the lowest point possible to discharge to has now been raised for all cells due to the lowest cell always being lower than the rest of the pack.&nbsp; It will eventually result in complete failure of the pack as the imbalance grows beyond acceptable limits, especially if the vehicle is left sitting idle for extended periods.&nbsp; To my knowledge, there have been no non-contrived examples of this in the wild.</p><p>Given the amount of vehicles quickly ‚Äúdetecting‚Äù Condition X, it was obvious a stuck MOSFET couldn‚Äôt explain the triggering.&nbsp; Additionally, the bulk of those detections (in my testing and research) were triggering for the 6th cell group, and not randomly distributed.&nbsp; It also was not being detected at all in newer packs, nor in the oldest of packs, both of which also had the same MOSFETs.&nbsp; ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss">https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</a></em></p>]]>
            </description>
            <link>https://skie.net/skynet/projects/tesla/view_post/23_Explaining+Changes+post-firmware+2019.16+Regarding+Range+Loss</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138644</guid>
            <pubDate>Mon, 15 Feb 2021 03:11:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Ideas, Through the Looking Glass (PDF, 2005)]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26138218">thread link</a>) | @benhoyt
<br/>
February 14, 2021 | https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf | <a href="https://web.archive.org/web/*/https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://people.inf.ethz.ch/wirth/Articles/GoodIdeas_origFig.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138218</guid>
            <pubDate>Mon, 15 Feb 2021 02:00:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Phone vs. Supercomputers]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26138069">thread link</a>) | @ca98am79
<br/>
February 14, 2021 | https://www.tnhh.net/posts/phone-power.html | <a href="https://web.archive.org/web/*/https://www.tnhh.net/posts/phone-power.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Today, I looked up how many <a href="https://en.wikipedia.org/wiki/FLOPS">floating point operations per second</a> (FLOPS) that an iPhone can do. It turns out the A14 chip in the iPhone <a href="https://www.forbes.com/sites/moorinsights/2020/10/15/apple-claims-the-iphone-12s-a14-bionic-challenges-laptops-but-gives-no-details/">can do about 11 TFlOPS according to Apple</a>. Let's give Apple the benefits of the doubt and not get too deep into how they got that number, and put it to perspective and compare the iPhone with the <a href="https://en.wikipedia.org/wiki/History_of_supercomputing">Top 500 Supercomputers</a> in the world over the years:</p>
<p><img src="https://www.tnhh.net/assets/posts-images/iphone-vs-supercomputers.png" alt="iPhone vs Supercomputers"></p>
<p>The green line is how much computing power that little phone I'm holding in my hands has. If released in 2009, it would have made it to the list of top 500 supercomputers in the world! It has more computing power than the most powerful computer in the world in 2002. It has the combined computing power of the 1997's top 500 supercomputers in the whole world.</p>
<p>People talked about how the computer on Appolo was so slow. I get it, but I can hardly relate to that. I wasn't born then. However, 2009 was just 12 years ago. I could still remember it vividly. I was a freshman student then.</p>
<p>Reflecting on that, I figured:</p>
<ul>
<li>Something with the form factor and power envelope of the phone alone is already exceedingly powerful. It could potentially do things that humankind couldn't achieve just ten years ago.</li>
<li>On the other hand, I don't need to have the most whizz-bang computer or phone to make programs that do amazing things. Writing programs for older hardware can be a pleasure. Supporting older hardware makes programs I create more accessible to a larger part of the human population.</li>
<li>As a programmer, when I complain about the phone or any computer I have is not powerful enough for whatever I want to do, it's much more likely it's me doing something wrong.</li>
<li>The world changes faster than my mind conceives. I need to be humble about what I know. Things I know to be fast becomes slow sooner than I expect. In the same realm, maybe ideas that I know to be good become bad sooner than I expect. Those ideas are not necessarily limited to technology: Maybe ideas in science, humanities, and society also envolve that way. It is just harder to put into numbers like TFLOPS.</li>
</ul>
<p>We have the most power computer in our pocket. Doing something amazing with that power should constantly be a question on our mind. All that power just to push one more ads is a fucking stupid and disgusting idea.</p>
<hr>

<hr>
</div></div>]]>
            </description>
            <link>https://www.tnhh.net/posts/phone-power.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26138069</guid>
            <pubDate>Mon, 15 Feb 2021 01:32:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Simulate I/O Faults at Runtime]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137993">thread link</a>) | @jinqueeny
<br/>
February 14, 2021 | https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime | <a href="https://web.archive.org/web/*/https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><img alt="Chaos Engineering - How to simulate I/O faults at runtime" src="https://chaos-mesh.org/assets/images/how-to-simulate-io-faults-at-runtime-39daaf89aa83a5be58402f763db0d5c5.jpg"></p><p>In a production environment, filesystem faults might occur due to various incidents such as disk failures and administrator errors. As a Chaos Engineering platform, Chaos Mesh has supported simulating I/O faults in a filesystem ever since its early versions. By simply adding an IOChaos CustomResourceDefinition (CRD), we can watch how the filesystem fails and returns errors.</p><p>However, before Chaos Mesh 1.0, this experiment was not easy and may have consumed a lot of resources. We needed to inject sidecar containers to the Pod through the mutating admission webhooks and rewrite the <code>ENTRYPOINT</code> command. Even if no fault was injected, the injected sidecar container caused a substantial amount of overhead.</p><p>Chaos Mesh 1.0 has changed all this. Now, we can use IOChaos to inject faults to a filesystem at runtime. This simplifies the process and greatly reduces system overhead. This blog post introduces how we implement the IOChaos experiment without using a sidecar.</p><h2>I/O fault injection<a href="#io-fault-injection" title="Direct link to heading">#</a></h2><p>To simulate I/O faults at runtime, we need to inject faults into a filesystem after the program starts <a href="https://man7.org/linux/man-pages/man2/syscall.2.html" target="_blank" rel="noopener noreferrer">system calls</a> (such as reads and writes) but before the call requests arrive at the target filesystem. We can do that in one of two ways:</p><ul><li>Use Berkeley Packet Filter (BPF); however, it <a href="https://github.com/iovisor/bcc/issues/2336" target="_blank" rel="noopener noreferrer">cannot be used to inject delay</a>.</li><li>Add a filesystem layer called ChaosFS before the target filesystem. ChaosFS uses the target filesystem as the backend and receives requests from the operating system. The entire call link is <strong>target program syscall</strong> -&gt; <strong>Linux kernel</strong> -&gt; <strong>ChaosFS</strong> -&gt; <strong>target filesystem</strong>. Because ChaosFS is customizable, we can inject delays and errors as we want. Therefore, ChaosFS is our choice.</li></ul><p>But ChaosFS has several problems:</p><ul><li>If ChaosFS reads and writes files in the target filesystem, we need to <a href="https://man7.org/linux/man-pages/man2/mount.2.html" target="_blank" rel="noopener noreferrer">mount</a> ChaosFS to a different path than the target path specified in the Pod configuration. ChaosFS <strong>cannot</strong> be mounted to the path of the target directory.</li><li>We need to mount ChaosFS <strong>before</strong> the target program starts running. This is because the newly-mounted ChaosFS takes effect only on files that are newly opened by the program in the target filesystem.</li><li>We need to mount ChaosFS to the target containter's <code>mnt</code> namespace. For details, see <a href="https://man7.org/linux/man-pages/man7/mount_namespaces.7.html" target="_blank" rel="noopener noreferrer">mount_namespaces(7) ‚Äî Linux manual page</a>.</li></ul><p>Before Chaos Mesh 1.0, we used the <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" target="_blank" rel="noopener noreferrer">mutating admission webhook</a> to implement IOChaos. This technique addressed the three problems lists above and allowed us to:</p><ul><li>Run scripts in the target container. This action changed the target directory of the ChaosFS's backend filesystem (for example, from <code>/mnt/a</code> to <code>/mnt/a_bak</code>) so that we could mount ChaosFS to the target path (<code>/mnt/a</code>).
Modify the command that starts the Pod. For example, we could modify the original command <code>/app</code> to <code>/waitfs.sh /app</code>.</li><li>The <code>waitfs.sh</code> script kept checking whether the filesystem was successfully mounted. If it was mounted, <code>/app</code> was started.</li><li>Add a new container in the Pod to run ChaosFS. This container needed to share a volume with the target container (for example, <code>/mnt</code>), and then we mounted this volume to the target directory (for example, <code>/mnt/a</code>). We also properly enabled <a href="https://kubernetes.io/docs/concepts/storage/volumes/#mount-propagation" target="_blank" rel="noopener noreferrer">mount propagation</a> for this volume's mount to penetrate the share to host and then penetrate slave to the target.</li></ul><p>These three approaches allowed us to inject I/O faults while the program was running. However, the injection was far from convenient:</p><ul><li>We could only inject faults into a volume subdirectory, not into the entire volume. The workaround was to replace <code>mv</code> (rename) with <code>mount move</code> to move the mount point of the target volume.</li><li>We had to explicitly write commands in the Pod rather than implicitly use the image commands. Otherwise, the <code>/waitfs.sh</code> script could not properly start the program after the filesystem was mounted.</li><li>The corresponding container needed to have a proper configuration for mount propagation. Due to potential privacy and security issues, we <strong>could not</strong> modify the configuration via the mutating admission webhook.</li><li>The injection configuration was troublesome. Worse still, we had to create a new Pod after the configuration was able to inject faults.</li><li>We could not withdraw ChaosFS while the program was running. Even if no fault or error was injected, the performance was greatly affected.</li></ul><h2>Inject I/O faults without the mutating admission webhook<a href="#inject-io-faults-without-the-mutating-admission-webhook" title="Direct link to heading">#</a></h2><p>What about cracking these tough nuts without the mutating admission webhook? Let's get back and think a bit about the reason why we used the mutating admission webhook to add a container in which ChaosFS runs. We do that to mount the filesystem to the target container.</p><p>In fact, there is another solution. Instead of adding containers to the Pod, we can first use the <code>setns</code> Linux system call to modify the namespace of the current process and then use the <code>mount</code> call to mount ChaosFS to the target container. Suppose that the filesystem to inject is <code>/mnt</code>. The new injection process is as follows:</p><ol><li>Use <code>setns</code> for the current process to enter the mnt namespace of the target container.</li><li>Execute <code>mount --move</code> to move <code>/mnt</code> to <code>/mnt_bak</code>.</li><li>Mount ChaosFS to <code>/mnt</code> and use <code>/mnt_bak</code> as the backend.</li></ol><p>After the process is finished, the target container will open, read, and write the files in <code>/mnt</code> through ChaosFS. In this way, delays or faults are injected much more easily. However, there are still two questions to answer:</p><ul><li>How do you handle the files that are already opened by the target process?</li><li>How do you recover the process given that we cannot unmount the filesystem when files are opened?</li></ul><h3>Dynamically replace file descriptors<a href="#dynamically-replace-file-descriptors" title="Direct link to heading">#</a></h3><p><strong>ptrace solves both of the two questions above.</strong> We can use ptrace to replace the opened file descriptors (FD) at runtime and replace the current working directory (CWD) and mmap.</p><h4>Use ptrace to allow a tracee to run a binary program<a href="#use-ptrace-to-allow-a-tracee-to-run-a-binary-program" title="Direct link to heading">#</a></h4><p><a href="https://man7.org/linux/man-pages/man2/ptrace.2.html" target="_blank" rel="noopener noreferrer">ptrace</a> is a powerful tool that makes the target process (tracee) to run any system call or binary program. For a tracee to run the program, ptrace modifies the RIP-pointed address to the target process and adds an <code>int3</code> instruction to trigger a breakpoint. When the binary program stops, we need to restore the registers and memory.</p><blockquote><p><strong>Note:</strong></p><p>In the <a href="https://en.wikipedia.org/wiki/X86_assembly_language" target="_blank" rel="noopener noreferrer">x86_64 architecture</a>, the RIP register (also called an instruction pointer) always points to the memory address at which the next directive is run.
To load the program into the target process memory spaces:</p></blockquote><ol><li>Use ptrace to call mmap in the target program to allocate the needed memory.</li><li>Write the binary program to the newly allocated memory and make the RIP register point to it.</li><li>After the binary program stops, call munmap to clean up the memory section.</li></ol><p>As a best practice, we often replace ptrace <code>POKE_TEXT</code> writes with <code>process_vm_writev</code> because if there is a huge amount of data to write, <code>process_vm_writev</code> performs more efficiently.</p><p>Using ptrace, we are able to make a process to replace its own FD. Now we only need a method to make that replacement happen. This method is the <code>dup2</code> system call.</p><h4>Use <code>dup2</code> to replace file descriptor<a href="#use-dup2-to-replace-file-descriptor" title="Direct link to heading">#</a></h4><p>The signature of the <code>dup2</code> function is <code>int dup2(int oldfd, int newfd);</code>. It is used to create a copy of the old FD (<code>oldfd</code>). This copy has an FD number of <code>newfd</code>. If <code>newfd</code> already corresponds to the FD of an opened file, the FD on the file that's already opened is automatically closed.</p><p>For example, the current process opens <code>/var/run/__chaosfs__test__/a</code> whose FD is <code>1</code>. To replace this opened file with <code>/var/run/test/a</code>, this process performs the following operations:</p><ol><li>Uses the <code>fcntl</code> system call to get the <code>OFlags</code> (the parameter used by the <code>open</code> system call, such as <code>O_WRONLY</code>) of <code>/var/run/__chaosfs__test__/a</code>.</li><li>Uses the <code>Iseek</code> system call to get the current location of <code>seek</code>.</li><li>Uses the <code>open</code> system call to open <code>/var/run/test/a</code> using the same <code>OFlags</code>. Assume that the FD is <code>2</code>.</li><li>Uses <code>Iseek</code> to change the <code>seek</code> location of the newly opened FD <code>2</code>.</li><li>Uses <code>dup2(2, 1)</code> to replace the FD <code>1</code> of <code>/var/run/__chaosfs__test__/a</code> with the newly opened FD <code>2</code>.</li><li>Closes FD <code>2</code>.</li></ol><p>After the process is finished, FD <code>1</code> of the current process points to <code>/var/run/test/a</code>. So that we can inject faults, any subsequent operations on the target file go through the <a href="https://en.wikipedia.org/wiki/Filesystem_in_Userspace" target="_blank" rel="noopener noreferrer">Filesystem in Userspace</a> (FUSE). FUSE is a software interface for Unix and Unix-like computer operating systems that lets non-privileged users create their own file systems without editing kernel code.</p><h4>Write a program to make the target process replace its own file descriptor<a href="#write-a-program-to-make-the-target-process-replace-its-own-file-descriptor" title="Direct link to heading">#</a></h4><p>The combined functionality of ptrace and dup2 makes it possible for the tracer to make the tracee replace the opened FD by itself. Now, we need to write a binary program and make the target process run it:</p><blockquote><p><strong>Note:</strong></p><p>In the implementation above, we assume that:</p><ul><li>The threads of the target process are POSIX threads and share the opened files.</li><li>When the target process creates threads using the <code>clone</code> function, the <code>CLONE_FILES</code> parameter is passed.</li></ul><p>Therefore, Chaos Mesh only replaces the FD of the first thread in the thread group.</p></blockquote><ol><li>Write a piece of assembly code according to the two sections above and the usage of syscall directives. <a href="https://github.com/chaos-mesh/toda/blob/1d73871d8ab72b8d1eace55f5222b01957193531/src/replacer/fd_replacer.rs#L133" target="_blank" rel="noopener noreferrer">Here</a> is an example of the assembly code.</li><li>Use an assembler to translate the code into a binary program. We use <a href="https://github.com/CensoredUsername/dynasm-rs" target="_blank" rel="noopener noreferrer">dynasm-rs</a> as the assembler.</li><li>Use ptrace to make the target process run this program.
When the program runs, the FD is replaced at runtime.</li></ol><h3>Overall fault injection process<a href="#overall-fault-injection-process" title="Direct link to heading">#</a></h3><p>The following diagram illustrates the overall I/O fault injection process:</p><p><img alt="Fault injection process" src="https://chaos-mesh.org/assets/images/fault-injection-process-581a3b4c6954f9ccb3fc9eb17f45f937.jpg"></p><p> Fault injection process </p><p>In this diagram, each horizontal line corresponds to a thread that runs in the direction of the arrows. The <strong>Mount/Umount Filesystem</strong> and <strong>Replace FD</strong> tasks are carefully arranged in sequence. Given the process above, this arrangement makes a lot of sense.</p><h2>What's next<a href="#whats-next" title="Direct link to heading">#</a></h2><p>I've discussed how we implement fault injection to simulate I/O faults at runtime (see <a href="https://github.com/chaos-mesh/toda" target="_blank" rel="noopener noreferrer">chaos-mesh/toda</a>). However, the current implementation is far from perfect:</p><ul><li>Generation numbers are not supported.</li><li>ioctl is not supported.</li><li>Chaos Mesh does not immediately determine whether a filesystem is successfully mounted. It does so only after one second.</li></ul><p>If you are interested in Chaos Mesh and would like to help us improve it, you're welcome to join <a href="https://cloud-native.slack.com/join/shared_invite/zt-fyy3b8up-qHeDNVqbz1j8HDY6g1cY4w#/" target="_blank" rel="noopener noreferrer">our Slack channel</a> or submit ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime">https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</a></em></p>]]>
            </description>
            <link>https://chaos-mesh.org/blog/how-to-simulate-io-faults-at-runtime</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137993</guid>
            <pubDate>Mon, 15 Feb 2021 01:22:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Education, Training and Opportunity]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137921">thread link</a>) | @DoreenMichele
<br/>
February 14, 2021 | http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html | <a href="https://web.archive.org/web/*/http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-5430107209529109817"><p>
One way to try to buffer against gentrification while improving your community is to try to grow your people in a way that helps them adapt, change and keep up financially. This is often given short shrift in community development plans, which is part of why the rich get richer and the poor get poorer.

</p><p>
It's a hard thing to do in part because "You can lead a horse to water but you cannot make it drink." So a lot of programs and communities more or less throw in the towel on this and just try to give charity to poor people rather than education, training and opportunity.
</p><p>
This is a poor practice because charity can only really provide short-term relief. It cannot provide long-term solutions.
</p><p>
This basically falls under that saying "Give a man a fish, feed him for the day. Teach a man to fish, feed him for a lifetime." 
</p><p>
Free meal sites help people survive another day, but they don't help poor people resolve their problems. They may be necessary relief for a community with high poverty rates but they don't really fix the problem.

</p><p>
Education and training can be hard to readily tell apart, especially in our complex world where you need a great deal of basic education before you are even ready for training. These days, college education may be appropriate and even a necessary prerequisite for jobs that at one time were menial labor performed by people with little in the way of education.
</p><p>
A few generations ago, it was fairly common for people in America to drop out of school after middle school because they were going to be farm hands and didn't need more formal education than that. These days, even working on a farm can involve dealing with such abstract topics as genetics. 


</p><p>

In a nutshell, education informs you, broadens your mind and teaches you to think more effectively while training develops specific skills, usually with a goal of making you more employable. Credentialing is a separate issue from education and training and matters a great deal for making people more employable but may not matter at all for simply improving competence and quality of life.
</p><p>
The detail of credentialing is part of why we have trouble telling education and training apart. We think of college as <i>education</i> but a college degree can also be important credentialing to get your foot in the door career-wise. 
</p><p>

If you are doing community development work and you identify a local issue, such as a lack of financial literacy, you can work at trying to foster education in that area without worrying about credentialing. It can be enough to make resources available to locals to try to encourage them to get better at this. 
</p><p>
Those resources might include uncredentialed local classes, book lists, podcasts or various other free materials. With the wealth of free, quality materials available online today, putting together the materials may be the easy part of such a program. 
</p><p>
Getting the word out and getting people to participate and take it seriously may be the harder part of such a program. You may also face challenges in trying to measure how effective your effort has been and/or prove that it makes a difference.

</p><p>
But if your goal is to improve employability, you will want to focus on training and credentialing. You will want to help them acquire skills that make them more employable and/or acquire proof of such skills.
</p><p>
Sometimes people have skills and knowledge but they lack credentials. In other words they don't know how to prove they have those skills. 
</p><p>
Sometimes just helping people find ways to get credentials or somehow prove their ability and show their competence can make a big difference in their lives. Maybe they developed a skill as a hobby and it's potentially worth money <i>if they can prove they have that skill or knowledge</i>.

</p><p>

Opportunity is separate from education and training. Sometimes opportunity is the big stumbling block for some individuals or populations.

</p><p>
Populations that face prejudice and other barriers to opportunity are at increased risk of homelessness. This can include LGBTQ individuals, people of color, homemakers/former homemakers and handicapped people. 
</p><p>
If they actually end up homeless, this further exacerbates the problem. Being homeless can make it difficult to access any kind of paid work, even if they have plenty of education and training, both due to prejudice and logistical issues. 

</p><p>
Identifying barriers to opportunity for locals and helping them find ways around that can help improve employment stats and average local income levels. It can do so directly and fairly immediately without first jumping through hoops to gain additional education or training. 


</p><p>
In practice, people who lack opportunity are often given the message that what they need is more education or training when oftentimes what they really need more immediately is simply more earned income (aka more opportunity). If someone is poor, helping them access paid work as quickly as possible may be a better remedy than directing them to educational and training resources.
</p><p>
This fact is why I run various websites and subreddits aimed at helping people access opportunity, even if they are currently homeless or have other barriers to establishing earned income. This includes the following:

</p><ul><li><a href="https://writepay.blogspot.com/">Write Pay</a></li>
  <li><a href="https://www.reddit.com/r/GigWorks/">r/GigWorks</a></li>
  <li><a href="https://www.reddit.com/r/NorthToAlaska/">r/NorthToAlaska</a></li></ul><p>

Entrepreneurs are often more interested in education and training than in credentials. In many cases, if you have some means to make money, acquiring additional skills to up your game can improve your income without needing to have a piece of paper to prove to someone that you got the education or training in question. Simply knowing how to do things better may be all you really need to further improve your income.
</p><p>

Relatedly, people who face barriers to regular employment may be best served by helping them become freelancers or entrepreneurs or to seek "irregular employment," such as seasonal jobs. Inability to get or keep a regular job doesn't necessarily have to mean inability to earn an income.
</p><p>

In the US, Black Americans have a long history of pursuing creative arts as a means to get ahead. The LGBTQ crowd also is similarly associated with creative arts, such as the music industry and acting.
</p><p>

If you are doing community development work, it may help to be aware of the fact that some kinds of work may be easier to access for people with barriers to opportunity and employment. Pointing people to industries more welcoming of people like them may help them succeed.
</p><p>
But you also need to be aware that directing people to jobs more welcoming of "their kind" can also be an insidious means to reinforce class barriers, racial barriers and other entrenched social ills. You should guard against shuttling marginalized people into jobs that will prove to be a dead end in the long term.

</p><p>
If there is a low barrier to entry and a low ceiling on earnings capacity and future career opportunities, it is a dead end job. The way to identify opportunity that doesn't reinforce social ills is to look for paths with a low barrier to entry and a high ceiling. 
</p><p>

It can take some research to identify which paths offer a low barrier to entry and a high ceiling. It isn't always obvious that <i>this</i> entry level opportunity can lead to a future but <i>that one</i>, which looks very similar, probably won't.
</p><p>
For example, <a href="https://smallbiztrends.com/2019/04/franchise-employee-to-franchise-owner.html">most Domino's franchise owners began as Domino's employees</a>. So working at a Domino's pizza place may help people eventually become a franchise owner, if that interests them, but the same isn't necessarily true of other food service jobs.
</p><p>
It can take even more research to match a particular person to a path with a low barrier to entry and a high ceiling that is a good fit for them as an individual. This detail is one of the reasons so many programs throw in the towel on trying to provide opportunity to people with barriers to earned income and simply direct them to the welfare office and local sources of charity, like food banks.

</p><p>
If you are doing community development work, your greatest opportunity for growth is in helping the people who have barriers to earned income and barriers to making their lives work. You will get a lot further if you focus on helping this demographic to improve their lot in life in some meaningful way while deeply understanding and respecting why "You can lead a horse to water but you cannot make it drink." 
</p><p>
Metaphorically speaking, this particular "water" may be poison for this particular "horse." So don't force it.
</p><p>

But also don't give up on it. Even if you can't successfully help a particular individual, try to learn from them, deepen your understanding of the problem space and further develop your approach to solving these issues in your community.

</p><p>
If you are dealing a lot with people who are homeless, very poor or otherwise in crisis, you should develop a resource list you can hand out as an easy means to provide compassionate relief. Make a list of local food banks and other pertinent programs that you can give to people so they can "eat for today" while working on longer-term solutions that will "feed them for a lifetime."
</p><p>

But don't let charity and compassionate relief be a priority for you. Your priority needs to be fostering education, training and opportunity.

</p><p>
Giving someone a list of local sources for short-term charitable relief can help bring their stress levels down and can help make sure they are adequately well fed while pursuing education, training and opportunity. This means helping people readily find immediate relief can serve an important and constructive function for your community development work.

</p><p>
But always shoot for keeping your focus on "teach them how to fish" and keep a wary eye out for the possibility that people are showing up solely to get a free meal for the day with no goal of ever becoming independent. Don't allow the long-term development goals of your program to get derailed by your bleeding heart and/or their immediate sense of desperation.
</p><p>


It's fine ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html">http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</a></em></p>]]>
            </description>
            <link>http://www.eclogiselle.com/2021/02/education-training-and-opportunity.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137921</guid>
            <pubDate>Mon, 15 Feb 2021 01:10:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ripen Scripting Language]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137776">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://felix.plesoianu.ro/languages/forth/ripen/index.html | <a href="https://web.archive.org/web/*/https://felix.plesoianu.ro/languages/forth/ripen/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

<p>Welcome to Ripen, a stack-based scripting engine with highly readable syntax, that can be implemented with little code and effort in a language like C++ or D. It's informed by RetroForth and PostScript, but diverges from either in important ways, not least due to its string-threaded nature. Surprisingly, Ripen only seems to be about 6 times slower than the host language on a quick test ‚Äî much better than for other language families.

</p><p>Ripen is based on the principles explained in this <a href="https://notimetoplay.org/cgi-bin/wiki/More_about_tiny_scripting_engines"> interpreter construction tutorial</a>. The point is having a tiny engine, easily copy-pasted into any application, even hidden inside a bigger module. For this reason, the default vocabulary is kept small.

</p><h2>Download</h2>

<p>As of 6 December 2019, there are three implementations:

</p><ul>
 <li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.js">browser-based version</a> (embedded above);
 </li><li>the <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen.py">original Python prototype</a>;
 </li><li>a <a href="https://felix.plesoianu.ro/languages/forth/ripen/ripen-linux-x86_64.zip">native code edition</a> (395K) for 64-bit Linux PCs; includes D source code.
</li></ul>

<p>Ripen is free and open source software under the <a href="https://felix.plesoianu.ro/languages/forth/ripen/LICENSE.txt">Artistic License 2.0</a>.

</p><h2>Overview</h2>

<p>At a basic level, Ripen works like most similar languages:

</p><pre><code>
	? 3 2 + . cr
	5
	 
	ok
	? :squared dup * ;
	ok
	? 3 2 + squared . cr
	25
	 
	ok
</code></pre>

<p>Note the lack of a space after the colon: Ripen doesn't use parsing words, instead relying on sigils to achieve similar functionality. E.g. variables work like this:

</p><pre><code>
	? 3 2 - &gt;a
	ok
	? $a . cr
	1
	 
	ok
</code></pre>

<p>On the minus side, there are no proper quoted strings; words in parentheses are simply joined by a space. Note that the closing paren is a word too, so it <em>must</em> be space-separated itself, on both sides:

</p><pre><code>
	? (  Hello,  world!  ) .
	Hello, world!
	ok
</code></pre>

<p>Speaking of which, comments are C-style instead. They're also executable, so you'll want to leave them on the outside of word definitions:

</p><pre><code>
	? /* s -- */ :say . cr ;
	ok
	? ( Hello, world! ) say
	Hello, world!
	 
	ok
</code></pre>

<p>Last but not least, control structures are inspired by Logo, to make them a lot more readable than in other stack-based languages:

</p><pre><code>
	? 3 2 + 3 2 * &lt; [ ( Yes! ) . ] iftrue
	Yes!
	ok
	? [ $i . cr ] 3 times
	0
	 
	1
	 
	2
	 
	ok
</code></pre>

<p>In the above, square brackets delimit lists of words, that control structures treat as blocks of code. Curly braces are synonymous:

</p><pre><code>
	? { dup * } /squared
	ok
	? 5 squared . cr
	25
	 
	ok
</code></pre>

<p>The reason both are provided is that lists of the same kind can't nest. And yes, that's another way to define words; beware that an older definition by the same name will be overwritten, and the entire script will see the new one right away.

</p><p>Otherwise, Ripen only provides a minimum of vocabulary:

</p><ul>
 <li>arithmetic: +, -, *, /, mod, /mod, negate, abs, min, max, 1+, 1-;
 </li><li>comparisons and logic =, &lt;&gt;, &lt;, &lt;=, &gt;, &gt;=, and, or, not, true, false;
 </li><li>stack manipulation: drop, dup, over, 2dup, swap, rot, -rot, clear;
</li></ul>

<p>and a few more conveniences. Enter <code>words</code> for a complete list.

</p><p>This page demonstrates how to embed and extend the JS version.

</p></div></div>]]>
            </description>
            <link>https://felix.plesoianu.ro/languages/forth/ripen/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137776</guid>
            <pubDate>Mon, 15 Feb 2021 00:47:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Product Management]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137582">thread link</a>) | @louisblytrhe
<br/>
February 14, 2021 | https://lu.ma/xtrqs5v2 | <a href="https://web.archive.org/web/*/https://lu.ma/xtrqs5v2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-gramm="false" data-slate-editor="true" data-slate-node="value"><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 1: What is Product Management?</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">What is Product Management?</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">A PMs Purpose</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Agile and Product Management</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 2: Mission, Vision and Goals</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Long term mission</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">5-year vision</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Goals and Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Pirate (AARRR) Metrics</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">HEART Framework</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">The Product Strategy Canvas</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 3: Objectives, Strategies and Tactics</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Building Empathy</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Effective Customer Interviews Preview</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Good User Personas</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Empathy Maps</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 4: Working On Everything</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Identifying The Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Kill Your Bias</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Focus on the Problem</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Jobs to Be Done</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Problems vs Requirements</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Opportunities: Choosing the Right Problem</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><strong><span data-slate-string="true">Month 5: Epics, Stories and Tasks</span></strong></span></span></p><ul data-slate-node="element"><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Roadmap</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">User Stories</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Sprints</span></span></span></li><li data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Retrospectives</span></span></span></li></ul><p data-slate-node="element"><span data-slate-node="text"><span data-slate-leaf="true"><span data-slate-string="true">Month 5: Coming Soon</span></span></span></p></div></div>]]>
            </description>
            <link>https://lu.ma/xtrqs5v2</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137582</guid>
            <pubDate>Mon, 15 Feb 2021 00:15:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mojolicious 9.0]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26137542">thread link</a>) | @peteretep
<br/>
February 14, 2021 | https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/ | <a href="https://web.archive.org/web/*/https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

              <section id="section-1">
                  <p>The Mojolicious Core Team is delighted to announce the release and immediate availability of version 9.0 of the <a href="https://mojolicious.org/">Mojolicious</a> real-time web framework.
Every Mojolicious major release has a <a href="https://docs.mojolicious.org/Mojolicious#CODE-NAMES">code name</a> based on a unicode character and this one is lovingly named "Waffle" üßá!</p>

<p>Every major release I think that there can't be much more to add or change in Mojolicious and then when the next one arrives I reflect on how much has changed since I last thought that.
In <a href="https://metacpan.org/release/SRI/Mojolicious-9.0">9.0</a> there's far too much to discuss each at length, so I'm going to highlight some of my favorites and then include a distilled list of changes since 8.0.</p>

<h2>Perl 5.16 and beyond</h2>

<p>Mojolicious now requires Perl version 5.16. This change gives us useful tools to build Mojolicious including the <code>__SUB__</code> token for building self-referential callbacks without leaking.
We were pleased that the community response since the change a few months ago has been ... well crickets.
This is great news since we do hope to move to Perl 5.20 in the not so distant future so that we can use Perl's native signatures once that is a sound option for us.
We are already encouraging the use of signatures both in the documentation and in our code generation commands.</p>

<h2>Asynchronous Functionality</h2>

<p>Clearly the highlight of the pre-9.0 development cycle has been the integration of Async/Await.
Thanks to Paul Evans (LeoNerd)'s efforts, when you have <a href="https://metacpan.org/pod/Future::AsyncAwait">Future::AsyncAwait</a> installed Mojolicious can use its new keywords <code>async</code> and <code>await</code> to provide the most seamless asynchronous development possible, something that is becoming more and more the standard for asynchronous code in other languages.
Writing a non-blocking endpoint is now as simple as</p>

<pre><code>use Mojolicious::Lite -signatures, -async_await;

# Request HTML titles from two sites non-blocking
get '/' =&gt; async sub ($c) {
  my $mojo_tx    = await $c-&gt;ua-&gt;get_p('https://mojolicious.org');
  my $mojo_title = $mojo_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;
  my $cpan_tx    = await $c-&gt;ua-&gt;get_p('https://metacpan.org');
  my $cpan_title = $cpan_tx-&gt;result-&gt;dom-&gt;at('title')-&gt;text;

  $c-&gt;render(json =&gt; {mojo =&gt; $mojo_title, cpan =&gt; $cpan_title});
};

app-&gt;start;
</code></pre>

<p>When I teach non-blocking to people I can now tell them to follow a trivial recipe for most non-blocking tasks.
Simply <code>await</code> any function that returns a promise and mark any function that uses <code>await</code> with the <code>async</code> keyword.
Note also that all <code>async</code> functions return promises so <code>await</code> any calls to them.
There are some optimizations you can make at times and top-level <code>await</code> (if you aren't in a Mojolicious webapp) can be a little strange but to a first approximation that's all you need to write a non-blocking webapp today!</p>

<p>Speaking of promises (which are at the heart of Async/Await), Mojo::Promise has grown a lot this cycle too, adding <code>all_settled</code>, <code>any</code>, <code>map</code>, <code>timer</code>, and <code>timeout</code> class methods, changing its constructor to be more like the one in JavaScript and to warn when an unhandled rejected promise is destroyed.
The latter can help in development where such cases used to hide errors, now, much like the browser, you can at least find where things are going wrong even if you didn't wire all your promises to a catch callback like you should.</p>

              </section>
              <section id="section-2">
                  <h2>Focus on Containerization and Cloud Deployments</h2>

<p>The Mojolicious Core Team is aware that more and more deployments are in containers and cloud services these days and we've been thinking of ways to make that easier.
With 9.0 we've added two new features specifically designed to help with these types of deployments.</p>

<p>Most existing applications assume a standard deployment by an unprivileged user behind a reverse proxy, but with new deployment strategies the number of configurations an application might expect are too numerous to expect each application to support.
To address this we've added support for <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Deployment-specific-plugins">deployment specific plugins</a> that help you add deployment-level functionality to existing applications.
Now the deployer is in control of these features, rather than needing to ask the application author to add support.</p>

<p>We've also extended the existing <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Reverse-proxy">reverse proxy</a> support to allow for multiple trusted proxies, specifically when you know what the expected IP address or CIDR network you're expecting proxy requests from.
This can be useful both when deploying from say Kubernetes where it is likely you'll have several layers of local proxies, or when you're behind a third-party proxy like CloudFlare, who publish a list of their proxy networks.
This is an important safety feature in these situations, blindly trusting forwarding headers can lead to <a href="https://twitter.com/logicbomb_1/status/1354452751619559428">big problems</a>.</p>

<p>Also, we've noticed that many cloud deployment tools are based on YAML, so we've added a YAML configuration file loader to our existing Perl and JSON configuration loaders.
Because YAML is a tricky target and because ours is technically not-quite-YAML, we've called ours cheekily <a href="https://docs.mojolicious.org/Mojolicious/Plugin/NotYAMLConfig">NotYAMLConfig</a>.
In the unlikely event that that distinction should matter for your needs, you can load a specific YAML module from CPAN.</p>

<p>But it isn't just functionality, we've added a Dockerfile generation (<code>myapp generate dockerfile</code>) and added a Container <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Containers">Cookbook recipe</a> to the documentation.
We've also added a <a href="https://docs.mojolicious.org/Mojolicious/Guides/Cookbook#Envoy">Cookbook recipe</a> for the popular cloud-native proxy <a href="https://www.envoyproxy.io/">Envoy</a>.
If you have other common container or cloud recipes that you think should be added, please let us know!</p>

<h2>Documentation Improvements</h2>

<p>Speaking of documentation, you might have noticed that both our <a href="https://docs.mojolicious.org/">documentation site</a> and <a href="https://twitter.com/perlmojo/status/1343932370106392577/photo/1">built-in templates</a> for 404 and 500 pages have gotten a face lift.</p>

<blockquote><p dir="ltr" lang="en">The Mojolicious 8.69 release brings redesigned exception and not_found pages with a fresh new look, enjoy. <a href="https://t.co/MHzvYnBJJw">pic.twitter.com/MHzvYnBJJw</a></p>‚Äî Mojolicious (@perlmojo) <a href="https://twitter.com/perlmojo/status/1343932370106392577?ref_src=twsrc%5Etfw">December 29, 2020</a></blockquote>



<p>They're even prettier and easier to read than before, they're responsive, and they have a newer code library (highlight.js) to better render our code.
Further the documentation site is now redeployed immediately on any push to master of the website or the main Mojolicious projects, <code>mojolicious</code>, <code>mojo-pg</code>, and <code>minion</code>, so that you always have the most up-to-date docs at your fingertips.</p>

<p>Along with the container and cloud-native changes I've already highlighted, we have updated our documentation to use of upcoming Perl native signatures throughout and paired it with updating our <code>app</code> and <code>lite-app</code> generators to generate applications with signatures too.</p>

<h2>Routing (and Rendering)</h2>

<p>The routing engine is an often overlooked part of a web framework but it really is at the heart of everything that it does.
It can also be a source of confusion or frustration, especially when it doesn't do what you expect.
For 9.0 we've made the router both safer and more closely aligned to user expectations.</p>

<p>The biggest change is that Mojolicious now prevents applications from using reserved placeholders in routes.
This was originally considered a "feature" because it allowed very terse route definitions for quick apps, but in practice most people that understood how that worked just used the long form while unsuspecting newcomers would trip on it from time to time.
We've also made several cases throw exceptions when routing would fail that used to fail silently or unexpectedly.
When a route points to a missing controller, a namespace without a controller or a controller without an action, you now get an exception rather than a 404, which would often confuse people.
Additionally, you get an exception when when auto-rendering fails or a call to render cannot render a response, which would appear to hang (while it actually was trying to wait for a delayed response that was never going to happen).</p>

<p>We've even simplified some of the routing method names themselves.
We've removed the lesser-used <code>detour</code> and <code>route</code> methods in favor of the more generic <code>any</code> method.
We've renamed method that designates which HTTP methods to respond to (usually when picking several but not all of them, e.g. <code>GET</code> and <code>POST</code> but not <code>any</code>) from <code>via</code> to <code>methods</code>.
We've also renamed the method that designates conditional routing from <code>over</code> to <code>requires</code>.
I'm especially excited about this one since <code>over</code> implied a contrast with the commonly used <code>under</code> method, where no such contrast is meant to be implied; they do very different things.</p>

<h2>Logging</h2>

<p>The big one for me is that Mojolicious now is capable of sanely using a contextual logger!
Mojolicious applications have a <code>log</code> attribute that holds a <code>Mojo::Log</code> instance, however that logger is global to the application and any context you'd want to add is only for a given request/response cycle.
Unlike blocking frameworks, a Mojolicious app might switch between several requests before any are rendered, meaning manually keeping context attached to that global logger was nearly impossible.
With 9.0 we now have the ability to use a per-controller "child" logger which descends from the global logger and still logs via it, but can keep its own context information.
It feeds that information to its parent when you log from it.</p>

<p>By default, these child loggers now have a random request id attached to it, however you can put whatever context you'd like to add there.
You can also pass these loggers (themselves an instance of <code>Mojo::Log</code>) to models or other code that might want to log with that context attached.</p>

<p>We've also improved logging performance in cases where generating the log message is expensive and useless if the log level means that the log message is not emitted.
If you pass a closure (code reference) to the logger's <code>debug</code>, <code>info</code>, <code>warn</code>, <code>error</code>, and <code>fatal</code> methods and the logger will only invoke that closure if the log level check is met.
In fact this improved Mojolicious' own performance metrics by 10%!</p>

<pre><code>$c-&gt;log-&gt;debug(sub{ 'Thought you might want to know: ' . generate_expensive_log_output() });
</code></pre>

<p>Please note that we have changed the log format slightly so be aware if you care about such things.</p>

<p>And to simplify things, we've removed the confusing behavior of logging to a ‚Ä¶</p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/">https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</a></em></p>]]>
            </description>
            <link>https://mojolicious.io/blog/2021/02/14/announcing-mojolicious-9-0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26137542</guid>
            <pubDate>Mon, 15 Feb 2021 00:08:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tianwen-1 plane change planning]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136993">thread link</a>) | @parsecs
<br/>
February 14, 2021 | https://destevez.net/2021/02/tianwen-1-plane-change-planning/ | <a href="https://web.archive.org/web/*/https://destevez.net/2021/02/tianwen-1-plane-change-planning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-9660">

	

	<div>
		
<p>Today, the Chinese media published a short piece of news stating that tomorrow, 2021-02-15, <a href="https://weibo.com/2803301701/K1Txro221?type=comment">Tiawen-1 will make make a plane change to a polar orbit</a>. The post is accompanied by an short video, which includes an animation depicting the manoeuvre. A screenshot of the video is shown below. As the spacecraft arrives to apoapsis, it effects a plane change into an ascending polar orbit.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png"><img width="644" height="343" src="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-644x343.png 644w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-300x160.png 300w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change-768x409.png 768w, https://destevez.net/wp-content/uploads/2021/02/tianwen1-plane-change.png 1020w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Tianwen-1 plane change manoeuvre. Source <a rel="noreferrer noopener" href="https://weibo.com/rmrb" target="_blank">‰∫∫Ê∞ëÊó•Êä•</a> in <a href="https://weibo.com/2803301701/K1Txro221?type=comment">weibo.com</a></figcaption></figure>



<p>This is a good moment to review the maths behind a plane change manoeuvre and compute what the manoeuvre will look like.</p>



<p>Basically, a plane change involves changing the direction of the <a href="https://en.wikipedia.org/wiki/Specific_angular_momentum">specific angular momentum vector</a> \(h = r \times v\), which is one of the conserved quantities of a Keplerian orbit, and is orthogonal to the orbital plane. Understanding a plane change in terms of the angular momentum shows that it‚Äôs best to perform the plane change at apoapsis, when \(r\) is largest, and so the same thrust force produces more <a href="https://en.wikipedia.org/wiki/Torque">torque</a>, due to the larger lever arm.</p>



<p>If we perform a plane change at a certain point \(r\) along the orbit, the final angular momentum \(h_1 = r \times v_1\) will be orthogonal to \(r\). In other words, \(r\) must still lie in the final orbital plane. So the only thing that we can do is rotate the orbital plane along the axis \(r\). For a plane change at the apoapsis, we are limited to swinging the orbital plane along the <a href="https://en.wikipedia.org/wiki/Apse_line">line of apsides</a>.</p>



<p>If we denote initial quantities with the subscript 0 and final quantities with the subscript 1, we have \(h_1 ‚Äì h_0 = r \times (v_1 ‚Äì v_0)\). For a plane change at apoapsis, \(r\) and \(v\) are orthogonal, and so we see that the change in angular momentum \(h_1 ‚Äì h_0\) and the delta-V \(\Delta v = v_1 ‚Äì v_0\) are related by a factor of \(\|r\|\) and a 90¬∫ rotation. Thus, it is possible to plan the manoeuvre with angular momentums, and then easily translate the result into delta-V. For the general case in which \(r\) and \(v\) are not orthogonal, a similar procedure can be applied, since we are only interested in the projection of \(v\) onto the plane orthogonal to \(r\).</p>



<p>Denoting by \(\alpha\) the angle between \(h_0\) and \(h_1\) and assuming that we only want to change the direction of the angular momentum but not its magnitude, we have\[\|h_1-h_0\| = \|h_0\| \sqrt{2 (1-\cos \alpha)}.\]</p>



<p>In order to compute the angle \(\alpha\), let us consider the following geometric scenario. Denote by \(\delta\) the angle between a certain vector \(h\) and the \(xy\)-plane, and by \(\beta\) the angle between \(r\) and the \(z\)-axis. Let us consider the rotation of the vector \(h\) about the axis given by \(r\), and let \(\gamma\) be the angle of the rotation that brings \(h\) into the \(xy\)-plane. Then we have\[\sin \delta = \sin \gamma \sin \beta.\]Applying this to \(h = h_0\), we see that \(\delta = \pi/2 ‚Äì i_0\), where \(i_0\) denotes the initial inclination. Thus,\[\cos i_0 = \sin \gamma_0 \sin \beta.\]We can write the same equation for the final angular momentum \(h_1\), and since in this case we are interested in achieving a polar orbit with \(i_1 = \pi/2\), we obtain\[0 = \sin \gamma_1 \sin \beta,\]which implies \(\gamma_1 = 0\). In the general case in which the final orbit is not polar the calculations are more involved, but the same procedure can be used.</p>



<p>Now, the angle \(\alpha\) is basically \(|\gamma_0 ‚Äì \gamma_1|\) (some care should be taken with the signs here), because \(\gamma_0\) and \(\gamma_1\) are rotations of the vectors \(h_0\) and \(h_1\) on the plane orthogonal to \(r\), on which both of these vectors lie, and so that the result of these rotations gives the same vector (namely the intersection of the plane orthogonal to \(r\) and the \(xy\)-plane). Therefore, a rotation of angle \(\pm|\gamma_0 ‚Äì \gamma_1|\) transforms \(h_0\) in \(h_1\). In the case of a final polar orbit we have\[\sin \alpha = \frac{\cos i_0}{\sin \beta}.\]</p>



<p>A more direct method of calculation of the required delta-V is given in the <a href="https://en.wikipedia.org/wiki/Orbital_inclination_change#Calculation">Wikipedia article about plane change manoeuvres</a>, but I think that this way of working can give more geometric insight, even if it is a longer procedure.</p>



<p>Let us now work with the orbit of Tianwen-1. For this planning exercise, I have started with my <a href="https://twitter.com/ea4gpz/status/1359433349018882050">planning of the Mars orbit insertion burn</a>. The initial state vector comes from before the burn (and was given in <a href="https://destevez.net/2021/02/tianwen-1-mars-centric-state-vectors/" data-type="post" data-id="9635">this post</a>). I have adjusted the start of the burn to 11:52:55 UTC to match the timing we saw in <a href="https://www.youtube.com/watch?v=1myQ5tIig0w">AMSAT-DL‚Äôs livestream from Bochum</a> (taking into account 641 seconds of light-time delay), and the duration of the burn to 888 seconds so as to give an orbital period very close to 10 days, as given in this <a href="http://www.cnsa.gov.cn/n6758823/n6758838/c6811243/content.html">official statement from CNSA</a> about the success of the Mars orbit insertion. The period given there is certainly rounded rather than exact, but for this planning exercise we don‚Äôt need the exact period, since we are more interested in computing the required burn rather than in knowing exactly when is the apoapsis passage.</p>



<p>In fact, an error in the orbital period will give a proportional error in the apoapsis radius, and hence in the required delta-V, but all the remaining geometrical parameters will be very similar. It is important to remark that even though burning exactly at apoapsis minimizes the delta-V, the radius \(r\) changes quite slowly around apoapsis, so it is possible that the burn will happen several hours away from apoapsis, favouring other conditions such as groundstation availability. For this manoeuvre, unlike for the Mars orbit injection, timing is not very critical, so it is difficult to be sure of exactly when it will be done.</p>



<p>In <a href="http://gmat.sourceforge.net/docs/">GMAT</a>, we can see that after Mars orbit insertion the angular momentum is 17658 km¬≤/s, and the inclination is 11 degrees (matching the inclination of the incoming hyperbolic orbit). We still need to compute the angle \(\beta\) between the vector \(r\) at apoapsis and the \(z\)-axis. This can be done by using the apoapsis radius, which is 182602 km, and the \(z\) component of the position at apoapsis, which is -31427 km. With these values we get \(\beta = 100\ \mathrm{deg}\). Using the formula above we get that the angle \(\alpha\) that the angular momentum needs to rotate is 85.24 degrees. Note that this angle is larger than the change in inclination, which is 79 degrees. This always happens when the burn is not at the <a href="https://en.wikipedia.org/wiki/Orbital_node">line of nodes</a>.</p>



<p>The fact that \(\alpha\) is smaller than 90 degrees can justify that the plane change will be made in an ascending direction. A plane change to the same polar orbit but in a descending direction could be done by using \(-h_1\) instead of \(h_1\). In that case the angle \(\alpha\) would be 94.76 degrees, and so the burn will be slightly more expensive.</p>



<p>Using one of the formulas given above, we get\[\|h_1 ‚Äì h_0\| = 1.354 \|h_0\| = 23916\ \mathrm{km}^2/\mathrm{s}.\]Dividing by the apoapsis radius, we get\[\|\Delta v\| = \|h_1 ‚Äì h_0\|/\|r\| = 130.97\ \mathrm{m}/\mathrm{s}.\]</p>



<p>Now that we know the magnitude of the delta-V, the next question is how to write the delta-V vector. Usually these are written in a VNB coordinate frame. In this case, the delta-V will lie in the VN-plane, since \(v\) and \(r\) are orthogonal. Knowing that the angle between \(v_0\) and \(v_1\) is \(\alpha\) and that the unit vector \(V\) of the VNB frame points along \(v_0\), we see that\[v_1 = (\cos \alpha V + \sin \alpha N)\|v_0\|,\]so that\[v_1 ‚Äì v_0 = ((\cos \alpha ‚Äì 1) V + \sin \alpha N)\|v_0\|.\]</p>



<p>For Tianwen-1, we have \(\|v_0\| = 93.7\ \mathrm{m}/\mathrm{s}\), so the (V,N) coordinates of \(\Delta v\) are (-88.69, 96.37) m/s. Plugging these numbers as an impulse burn at apoapsis in GMAT, we see that the calculations are correct and the inclination of the resulting orbit is very close to 90 degrees, while the magnitude of the angular momentum has been maintained. The two figures below show the results of this impulse burn propagated to the next periapsis.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_046.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_047.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Impulse burn (perspective view)</figcaption></figure>



<p>To compute the burn time \(T\) for a finite burn that achieves the required delta-V, we use\[T = \frac{v_e m_0}{F} (1 ‚Äì \exp(-\|\Delta v\|/v_e)),\]where \(v_e = 3154\ \mathrm{m}/\mathrm{s}\) is the exhaust speed of the thrusters, and the thrust \(F\) is 3kN. This gives 153.12 seconds. To enter the finite burn in GMAT it is also necessary to compute the direction of the delta-V vector in inertial coordinates. The VNB frame can‚Äôt be used, since it will change throughout the burn. This is easy to do, by using the values of \(r\) and \(v_0\) in the Mars inertial frame in order to compute the coordinates of V and N in this frame. The resulting orbit after performing this burn has almost the same angular momentum as the original orbit and an inclination close to 90 degrees, showing that our calculations are correct.</p>



<p>The figures below show the finite burn. They are almost identical to those of the impulse burn. The finite burn is marked with a yellow trace, but this can‚Äôt be seen because the spacecraft travels a short distance during the burn, in contrast to the Mars orbit insertion, where the velocity was much higher.</p>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_048.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (top view)</figcaption></figure>



<figure><a href="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png"><img width="644" height="315" src="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png" alt="" srcset="https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-644x315.png 644w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-300x147.png 300w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049-768x376.png 768w, https://destevez.net/wp-content/uploads/2021/02/GmatScreenShot_049.png 1350w" sizes="(max-width: 644px) 100vw, 644px"></a><figcaption>Finite burn (perspective view)</figcaption></figure>



<p>This burn will spend 145.6 kg of fuel. According to our estimates for the fuel spent throughout the mission, only 45 kg of fuel will remain afterwards. This seems a bit low, so it is possible that our estimates have been too pessimistic, and the amount of remaining fuel will be closer to 100 kg.</p>



<p>Planning ahead, according to <a href="https://www.researchgate.net/publication/318234916_Overview_of_China%27s_2020_Mars_Mission_Design_and_Navigation">this article</a>, the apoapsis will then be lowered to achieve a parking orbit with period of around 2 days, from which the lander will be released. Finally, the orbiter will move to the remote sensing orbit, which is an 8 hour circular polar orbit. Note that part of the information in that article seems outdated. It mentions that ‚ÄúBecause the landing area is selected in the low-latitude zone‚Äù. However, the landing location is expected to be <a href="https://en.wikipedia.org/wiki/Utopia_Planitia">Uto‚Ä¶</a></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://destevez.net/2021/02/tianwen-1-plane-change-planning/">https://destevez.net/2021/02/tianwen-1-plane-change-planning/</a></em></p>]]>
            </description>
            <link>https://destevez.net/2021/02/tianwen-1-plane-change-planning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136993</guid>
            <pubDate>Sun, 14 Feb 2021 22:43:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Appsec Development: Keeping it all together at scale]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136766">thread link</a>) | @mooreds
<br/>
February 14, 2021 | https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/ | <a href="https://web.archive.org/web/*/https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><div><div><div><p><span>
      <a href="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Appsec development" title="Appsec development" src="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png" srcset="https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/139a5/appsec-development.png 290w,
https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/c08bc/appsec-development.png 579w,
https://r2c.dev/static/ea0368389504e9c6ff75116c17c850e4/9a1cf/appsec-development.png 924w" sizes="(max-width: 924px) 100vw, 924px" loading="lazy">
  </a>
    </span></p>

<p>When I joined Snowflake ~2 years ago we were a medium sized startup, but well on our way to explosive growth over the next year. Until that point, threat models and security reviews were largely handled by a single person. </p>
<p>It did not take long for calendars to begin overflowing with security review meeting requests. Projects started becoming larger and much more complex to reason about. Soon they began to back up waiting for security review, delayed by weeks at a time.  </p>
<p><span>
      <a href="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Unsustainable" title="Unsustainable" src="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png" srcset="https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/139a5/unsustainable.png 290w,
https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/c08bc/unsustainable.png 579w,
https://r2c.dev/static/bc86d4d3e17a1a9c6063152f7ee7bab4/d9199/unsustainable.png 960w" sizes="(max-width: 960px) 100vw, 960px" loading="lazy">
  </a>
    </span>
<em>Unsustainable</em></p>
<p>The way we were doing things wasn‚Äôt going to work. </p>
<p>We knew we had to take decisive action. </p>
<p>Rather than just trying to keep up with the security review backlog, we needed to develop an approach that would be distributed and <em>scalable</em>.</p>
<p>In this article we‚Äôll discuss:</p>
<ul>
<li>Challenges security teams face with informal, centralized security review</li>
<li>Threat model and security review evidence that stands up to scrutiny</li>
<li>Surprising ways increasing scale can slow things down</li>
<li>Going fast by deciding when <em>not</em> to threat model, and what to do instead</li>
</ul>
<p>Now the story of <del>a wealthy family who lost everything and the one son who had no choice but to keep them all together</del> a scrappy startup on its way to IPO, and the teams who had no choice but to scale their processes, together.</p>
<h2>What didn‚Äôt work: Security engineers threat model every story</h2>
<p>In the beginning, security review consisted of ad-hoc 30 minute meetings with project teams for most features they created. Many times, this occurred after code was already being written.</p>
<p>Sometimes the results were captured in Jira, but most of the time they were communicated verbally. Many decisions were forgotten or misinterpreted, making for frequent awkward discussions about blocked releases.</p>
<p>With evidence collection and coverage failing, we needed to bring sanity to the process before we could consider scale. Our first wins were simple:</p>
<ul>
<li>Meetings with engineering teams to understand how they get work done, and where</li>
<li>Security review processes and deliverables that <em>mostly</em> fit into existing software development processes</li>
<li>Custom Jira ticket types and workflows for security review</li>
<li>Standardized Markdown templates for consultation, threat modeling, and penetration testing engagements</li>
<li>An approach familiar to developers: peer reviewed deliverables committed to source control (GitHub), and validation using a combination of test cases and penetration tests</li>
<li>Peer review by multiple software engineers, then security engineers</li>
</ul>
<h3>Pros &amp; cons</h3>
<p>Peer review created accountability and engagement. Templates helped security engineers provide consistent, robust evidence that could be referenced at any time, reducing those awkward release time surprises.</p>
<p>Our updated review process captured the right evidence and helped make the work more visible. Initially we did not even know how deep the backlog was. Now it was clear that we were not going to be able to keep up with demand. Projects quickly began seeing delays, weeks in many cases. </p>
<h3>Realizations</h3>
<p>We were happy, but developers were mostly unhappy</p>
<p>We were slowing the business down, and engineering teams were vocal in letting us know. They demanded the ability to unblock themselves by performing security reviews, and we wanted to give it to them. But there was still work to be done to get them ready.</p>
<blockquote>
<p>Our strategy for scaling software security was (and is) <strong>not</strong> to hire an army of security engineers. Instead, we leverage our engineering culture and ownership values to <em>make every software engineer successfully own the security of what they produce.</em> </p>
</blockquote>
<h2>What didn‚Äôt work: Software engineers threat model every story</h2>
<p>Having every software engineer successfully own security did not happen overnight. </p>
<p>We started with a well known approach: Security Champions. At Snowflake, we call them Security Partners.</p>
<p>These champions are security aware software engineer volunteers who function as a point of contact and domain expert within their team. At Snowflake scale, volunteerism was not going to be enough. Security was not optional, every team needed representation.</p>
<p>We met with engineers and engineering leadership with a clear ask:</p>
<ul>
<li>At least 1 engineer on every team to function as a Security Partner </li>
</ul>
<p>We also provided a clear set of requirements that describe the ideal Security Partner:</p>
<ul>
<li>Strong engineering skills    </li>
<li>Visibility into key projects</li>
<li>Influential team member</li>
</ul>
<p>This criteria self-selected for senior engineers on each team who already felt a strong sense of ownership, including security. Now all we needed to do was show them how to do it.</p>
<p>Instead of threat modeling in isolation, Security Engineers began teaming up with Security Partners and Software Engineers on each threat model. Engineering teams became the owners of the process and deliverables while the product security team shifted to a facilitation role.</p>
<h3>Pros &amp; cons</h3>
<p>We had the basics of scale now, and the results were night and day. </p>
<p>Engineering teams felt they were in control of their destiny and the backlog stabilized. We taught the basics of <a href="https://en.wikipedia.org/wiki/STRIDE_(security)" target="_blank" rel="noopener">STRIDE</a>-based threat modeling to Security Partners, and had the majority of teams producing models for every new feature. We facilitated sessions, and teams could continue iterating on their own.</p>
<p>This part felt really good. The backlog was so bad, the delays so bad, and the overall perception of security was so bad that being able to give software engineers the autonomy and scale they wanted felt great, and they really appreciated it.</p>
<p>It was still not enough (pro-tip: <strong>It will never be enough</strong>).  The good feelings faded, and the cracks started to show. We had succeeded in moving from centralized delay, to localized delay.</p>
<p>Teams were spending between 2-6 hours on each threat model, in a large part because STRIDE per element threat modeling is more art than science. We went from a single informal 30 minute meeting for some projects, to multiple meetings where we coached teams to produce formal high quality threat models for every single project they worked on. </p>
<p>This began forcing teams to question whether or not they ‚Äúhad time for security‚Äù. They were annoyed when they had to threat model projects that were obviously low risk. Quality was inconsistent.</p>
<h3>Realizations</h3>
<p>We had to reduce the number of projects that needed STRIDE-based threat modeling and we needed to reduce the time the process added to each feature release.</p>
<p>We needed a lighter weight way to assess security risk.</p>
<h2>What didn‚Äôt work: Software engineers assess risk on every story</h2>
<p>People do not always have a good sense for what they want to do in life, but often have a clear idea of things they do <em>not</em> want to do.</p>
<p><span>
      <a href="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1dbe8/cornballer.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Cornballer" title="Cornballer" src="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1132d/cornballer.png" srcset="https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/139a5/cornballer.png 290w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/c08bc/cornballer.png 579w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1132d/cornballer.png 1158w,
https://r2c.dev/static/85ee23f43b2c022c8ff0758fc12657fc/1dbe8/cornballer.png 1374w" sizes="(max-width: 1158px) 100vw, 1158px" loading="lazy">
  </a>
    </span>
<em>Hot security review <a href="https://apps.npr.org/arrested-development/joke-84.html" target="_blank" rel="noopener">cornballer</a></em></p>
<p>The same is true for software engineers and security. They may not always know what the most secure way is, but they have an excellent sense for when security is simply getting in the way.</p>
<p>We realized software engineers were upset about threat modeling low risk features, and we knew we needed a way to identify these up front to bypass threat modeling.</p>
<p>Slack is fairly well known for creating <a href="https://github.com/slackhq/goSDL" target="_blank" rel="noopener">goSDL</a>, a web based questionnaire that helps developers determine the level of risk their project has by asking questions about what it does and what technology it uses. This guided approach seemed like a good fit, and the format was easy to adapt to our Snowflake specific use cases. </p>
<p>Our first set of questions looked like this:</p>
<ul>
<li>Does this component make major changes or implement new authentication or security controls? (High risk)    </li>
<li>Is this project highly important strategically? (High risk)</li>
<li>Is the target for this project internal-only or a prototype? (Low risk)</li>
<li>Is this a bug fix with no major impact on functionality? (Low risk)</li>
<li>Will this component access or store sensitive customer data? (High risk)</li>
<li>Will this component introduce new third party dependencies, software, or services? (High Risk)</li>
</ul>
<p>Rather than threat model every story, we asked teams to first risk assess every story and threat model based on a ‚Äònon low‚Äô outcome.</p>
<h3>Pros &amp; cons</h3>
<p>Our first minimum viable risk assessment template was intentionally calibrated to select high risk for almost everything. We took this approach because false positives on high risk would only mean we spent more time than we needed, whereas a false positive on low risk could mean we shipped a vulnerable project.</p>
<p>We also needed auditability such that any security or compliance stakeholder could review the and validate the risk assessment regardless of how technical they were. This meant questions could not be subjective, making them more challenging to come up with.</p>
<p>We were confident when risk was assessed as low that the feature could safely skip the threat modeling process, and the volume of threat models was reduced anecdotally by about 30%.</p>
<p>Our bet was that teams would give us the same feedback about risk assessment questions that they gave us about threat models, and that they would magically become customized and more relevant for each team.</p>
<p>We quickly learned that handing teams a minimum viable product and telling them: ‚ÄúIt‚Äôs an MVP, it's intentionally painful. Go ahead and use it and customize it until it's not painful‚Äù rarely results in use, customization, or pain reduction. </p>
<p>This is classic "throwing it over the fence". It results in the perception that your process is <em>hot garbage</em>, slowing everything down.</p>
<blockquote>
<p>When a software engineer feels they have to choose between doing <del>hot garbage</del> security and doing engineering, you have lost the battle.  </p>
</blockquote>
<ul>
<li>Improving an MVP while trying to ship under pressure is difficult and creates tension.   </li>
<li>A five minute risk assessment sounds great, until someone has to do 100 of them. </li>
</ul>
<h3>Realizations</h3>
<p>We were still not asking the right questions to deselect all low risk things. </p>
<p>Taking this risk assessment MVP and making it something people like and use required much more engagement than we initially predicted. That forced us to double down on creating a robust security partner community. </p>
<p>We realized that we ‚Ä¶</p></div></div></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/">https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/</a></em></p>]]>
            </description>
            <link>https://r2c.dev/blog/2021/appsec-development-keeping-it-all-together-at-scale/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136766</guid>
            <pubDate>Sun, 14 Feb 2021 22:14:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I exploited existing YouTube videos with a fake Patreon profile]]>
            </title>
            <description>
<![CDATA[
Score 179 | Comments 62 (<a href="https://news.ycombinator.com/item?id=26136708">thread link</a>) | @lucas03
<br/>
February 14, 2021 | https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/ | <a href="https://web.archive.org/web/*/https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>I am watching a lot of investing videos on youtube recently. I like to watch them while I eat, or they play in the background while I do something else. I assume that even though I don‚Äôt pay enough attention, interesting info catches my attention. I noticed there are a lot of great videos, and I thought of a way how I could exploit that. In this short text, I‚Äôll try to explain my black hat idea and if it worked.</p>



<p>I was looking for a call/put options youtube videos, as I realized <a href="https://www.lucas03.com/trading212">trading212</a> claims they pay up to 1000$ per registered user. I do invest in <a href="https://www.digrin.com/" target="_blank" title="https://www.digrin.com/">dividend stocks</a> and I like trading212 for that, but there is 0$ commission for referred accounts. I stumbled upon <a href="https://www.youtube.com/watch?v=zoFFD2EGMlg" target="_blank">this video</a> (Investing ‚Äì How I Earn $12 a Month in Dividends EASY!) from 2017 and I noticed a Patreon link there. </p>



<p><img src="https://monosnap.com/image/fb9Ccw7qEsGVYOKATw75W5RlvdRgqF" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>Youtuber <strong>DrUnlimited has 103k subscribers</strong> and the last video was posted 11 months ago. It tells me it‚Äôs an inactive account, and it‚Äôs a shame because some really good old videos are no longer viewed that much.<strong> I noticed patreon link is dead, and that DrUnlimited no longer used Patreon link in his last videos.</strong> That tells me you just tried out Patreon and gave up on it soon after.</p>



<p>Which got me thinking, can this be exploitable? Could I just find similar videos, where there were Patreon links that are no longer in use and I could claim them? I think there must be a tone if they were similar accounts (youtuber tried it in the past, but didn‚Äôt find enough patreons so he abandoned it, but never updated old videos). Well, there is only one way to find out. </p>



<p><strong>I tried to claim techcrackhouse on Patreon</strong>. I never used Patreon, so I was not familiar with the service. I created an account and within few seconds I knew this could work. I created a very simple Patreon page with a screen from the youtube channel within few minutes:</p>



<p><img src="https://monosnap.com/image/tPkZn4IMavztk4I9qaxTyhkSZ1pVYD" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>I tried to do a very simple page. Cover image from youtube, no promises on VIP content or any other upside from being a patreon. The only thing I did, was to add a 3$ a month membership and select ‚Äúgeneral support‚Äù.</p>



<figure><img src="https://monosnap.com/image/VDQAnLvKC6GD7njZ5J9xs15VVlPXEM" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>



<p>To publish a Patreon page, I had to write a 100 chars description. I didn‚Äôt want to spend time on it, so you can tell it should not motivate anyone to pay monthly payment:</p>



<p><img src="https://monosnap.com/image/PUxiPW15XghP7kbhcbBcDLPdB4MhlZ" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>That‚Äôs the <a href="https://monosnap.com/file/SFUKzVUGpjO0x7VYVuoW352EXJzXSl" target="_blank">whole patreon page</a>. I was done within half an hour on 31 of January 2021. I did not expect much, but I thought this would be interesting if that works out. And guess what? You won‚Äôt believe what email I got just 2 weeks later, on 13. February 2021:</p>



<p><img src="https://monosnap.com/image/FAxjlJ4yBrUEp9zdkjH1XoGACcZM85" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>



<p>It got me thinking how this deceiving tactic can work that easily. <strong>I‚Äôve spent literary 1 hour on it, didn‚Äôt try to do a proper Patreon page and still got to 3$ MRR</strong>. I‚Äôve been developing <a href="https://www.digrin.com/" target="_blank">digrin.com</a> for over 6 years in my free time, and I have just a few paying users. </p>



<p>So, this worked. If I would not mind recycling these old Patreon links from youtube videos, I think that can be a pretty profitable business and it provides monthly income! (I like the subscription model) If I could get a Patreon within 2 weeks after 1 hour of work, what could I get to after spending weeks doing this? What if I find bigger youtube channels? I could write scrapers for youtube (though scraping google is probably not that easy), I could use tools like <a href="https://www.lucas03.com/seoprofiler">seoprofiler</a> to find links to Patreon return 404 and recycle those pages. This plan could be pretty profitable!</p>



<p>But‚Ä¶</p>



<p>I am already sharing this with the world. I might have broken Patreon‚Äôs terms and conditions doing this. <strong>I don‚Äôt want to make money by deceiving people and parasitize on content creators.</strong> So I wrote it down, hope Patreon will block recycling Patreon pages. I‚Äôll put down my fake Patreon page right now and will also refund my single Patreon. Hope your 3$ will find better use!</p>

	</div></div>]]>
            </description>
            <link>https://www.lucas03.com/how-i-exploited-existing-youtube-videos-with-a-fake-patreon-profile/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136708</guid>
            <pubDate>Sun, 14 Feb 2021 22:05:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Five lessons on doing Nobel-prize worthy work by Richard Hamming]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136688">thread link</a>) | @neilxm
<br/>
February 14, 2021 | https://neilmathew.co/you-and-your-work/ | <a href="https://web.archive.org/web/*/https://neilmathew.co/you-and-your-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
				<p>Richard Hamming is one of the all-time greats in computing. As part of the <a href="https://en.wikipedia.org/wiki/Manhattan_Project#:~:text=The%20Manhattan%20Project%20was%20a,Tube%20Alloys%20project)%20and%20Canada.">Manhattan project</a>, &nbsp;he was responsible for programming IBM machines to solve atomic physics problems, and later, as part of Bell Labs, &nbsp;he was involved in nearly all of the Labs' most prominent achievements. His contributions include the <a href="https://en.wikipedia.org/wiki/Hamming_code">Hamming code</a>, the <a href="https://en.wikipedia.org/wiki/Hamming_window#Hamming_window">Hamming window</a>, <a href="https://en.wikipedia.org/wiki/Hamming_numbers">Hamming numbers</a>, <a href="https://en.wikipedia.org/wiki/Sphere-packing">sphere-packing</a> (or <a href="https://en.wikipedia.org/wiki/Hamming_bound">Hamming bound</a>), and the <a href="https://en.wikipedia.org/wiki/Hamming_distance">Hamming distance</a>.</p><p>In 1986, <a href="https://en.wikipedia.org/wiki/Richard_Hamming">Richard Hamming</a>, gave a talk at Bell Labs called <a href="https://www.cs.virginia.edu/~robins/YouAndYourResearch.html">"You and your research"</a>, in which he talked about how to do great Nobel prize-winning research. 35 years later, that advice is still very relevant, not just in academia but for almost any human endeavor. </p><p>As part of a startup building advanced tech, where R&amp;D is a core success metric, I've tried to internalize these lessons in my own work, and I thought it would be helpful to summarize the talk down for other founders, engineers, and product designers trying to do the same.</p><p><em>I've linked the actual speech in the footnotes and I highly recommend you read it. It's 13,000 words of concentrated wisdom accumulated over Hamming's incredible career, but I've distilled the talk down to 5 salient bits of advice I've taken from it.</em></p><h2 id="lesson-1-work-on-important-problems-">Lesson 1: Work on important problems.</h2><blockquote>"If you do not work on an important problem, it's unlikely you'll do important work. It's perfectly obvious." - Richard Hamming</blockquote><p>Hamming observes that great scientists always have an eye on the important problems in their field and are constantly thinking about ways to attack them. When they find an opportunity to work on an important problem, they drop everything else and pursue it head on. It's the conviction that they're working on important problems and ruthless focus that drives them to do great things.</p><p>In a startup, I'd interpret "important problems, to mean problems that you truly believe are important - important to your users, or important to the world in some way, even if it's in a small way. The key take away here is not that you should only work on problems with massive consequences like curing cancer, but that you should focus your efforts on the few important things and avoid working on unimportant things. It's easy to get into a sort of inertia while working on a product where you clearly know it's going nowhere but you feel obligated to keep working on it for various reasons (ego, investors, avoiding hard discussions). Prioritize and eliminate everything you don't believe is important.</p><p>The thought here is that you will be working towards your vision for at least 10 years of your life, and during that period you will face some great highs and some devastating lows. You'll pivot many times. Do you have it in you to grind through the worst days in pursuit of this problem? It becomes a hell of a lot easier if you believe you're making a difference in the world.</p><p><strong>Now, there's a critical caveat to defining an important problem. Hamming puts it like this:</strong></p><blockquote>"Let me warn you, `important problem' must be phrased carefully. The three outstanding problems in physics, in a certain sense, were never worked on while I was at Bell Labs. We didn't work on (1) time travel, (2) teleportation, and (3) antigravity. They are not important problems because we do not have an attack. It's not the consequence that makes a problem important, it is that you have a reasonable attack."</blockquote><p>In other words, it's not just consequence or impact that makes a problem important. Having a good strategy to attack the problem is just as essential. In that sense, Hamming says that a problem can be important because solving it will lead to other important problems. This resonated with me because it's especially crucial for startups building hard-tech. In a hard-tech startup, you must not only mitigate the extreme technical risk in your business, but you also need to deal with the market risk (i.e. will anyone use it if I build it?). So it often happens that you need to work on tangential problems in pursuit of a bigger problem, to better use resources and build confidence in the direction you're heading in. </p><p>In a previous product team I lead, we were trying to build autonomous drone technology, but building it would have taken millions in upfront investment. So we decided to first build an app that could let drone film makers track moving objects, and then used that as a proving ground to secure licensing deals with drone manufacturers.</p><p><strong>My main take away from this point,</strong> is that you should have clarity of vision, but flexibility of process. Have a general vision of why your chosen path is important, (e.g. if electric cars are feasible, then we can reduce the worlds reliance on fossil fuel), but don't just wait around for seemingly important problems to pop up. Be where the action is. Work on small tangential problems that could lead to bigger things &nbsp;(e.g. build a battery management system for a golf cart company). If there's a lot of innovation happening in an area, dive into that to increase the chances of serendipity.</p><p>Cultivate a healthy obsession for the problem and always be thinking about ways to attack it. If you don't believe what you're doing is important, you're unlikely to be effective.</p><h2 id="lesson-2-don-t-be-afraid-to-start-from-zero-and-work-on-small-problems-">Lesson 2: Don't be afraid to start from zero and work on small problems.</h2><p>Ok, so this might sound like a contradiction of the earlier point, but it isn't and here's why. </p><p>Hamming observed a phenomenon called the "Nobel prize effect" at Bell Labs, where a scientist's career seemed to peak at the Nobel prize and lull afterwords. He noticed that the reason this happened is that winning a Nobel prize raised the expectations of great work on scientists so much that they lost some of the scrappiness that brought them to that achievement to begin with. Now they could only work on big and important problems. To quote Hamming,</p><blockquote>"They fail to continue to plant the little acorns from which the mighty oak trees grow. They try to get the big thing right off. And that isn't the way things go. So that is another reason why you find that when you get early recognition it seems to sterilize you."</blockquote><p>The second reason, Hamming says, that a Nobel prize sterilizes scientists is that winning the prize gets you on various committees and panels and ultimately reduces your ability to do great work.</p><p>The same phenomenon manifests in startups. A huge influx of venture capital early in a startup's journey has destroyed many promising companies. The double whammy effect of unreasonably high expectations coupled with a false premature sense of success can lead to terrible consequences and it's not hard to find examples of this scattered all over tech publications. </p><p>If you think you can only work on problems that seem serious and important, you'll ignore the small, scrappy ideas and often the greatest opportunities are hidden inside the tiniest, stupid little ideas. Aaron Harris, who incidentally was one of my mentors at Y-Combinator, has a <a href="https://www.ycombinator.com/library/3U-why-build-toys">great post about starting small. </a>He says, </p><blockquote>"Some of the biggest technology companies look like toys in the beginning."</blockquote><p>Facebook started off as an app to let university students rate each other, followed by an online version of the Harvard University student dorm "face book". </p><p>In Hamming's words, these toys are the acorns you need to plant, to grow mighty Oak trees. You will notice that most people who've built great things, did it after they built many small, insignificant things. They let their curiosity guide them deeper and deeper into an area to master it and prepare themselves for an opportunity, that they alone were best positioned to exploit, when it presented itself.</p><p>The way I reconcile this point with lesson 1, is this. Use lesson 1 to set a general direction for yourself. But once you set that direction, you should to pursue the meandering path of genuine curiosity. Great work is built on the shoulders on many small, seemingly stupid things. Some of the greatest products were built as the compound interest of many many iterations of simpler products. </p><h2 id="lesson-3-it-ain-t-what-you-do-it-s-the-way-you-do-it-">Lesson 3: It ain't what you do. It's the way you do it.</h2><p>When Richard Hamming was tasked with using digital computers to solve certain problems for Bell Labs, that were at the time being done by analog computers, he realized that he was going to have to fight his case to the analog computing folks who would try to find faults in his solution. &nbsp;He realized that in addition to solving the problem he was tasked with, he needed to design new methods of solving problems that proved beyond doubt the superiority of digital computers. In the process, he created "Hamming's Method of Integrating Differential Equations", which became a significant milestone in the evolution of digital computing.</p><p>You often have little control over the success of your work, but you do have complete control over your systems and methods. James Clear, the author of Atomic Habits, says, <a href="https://twitter.com/JamesClear/status/1047643455722283009?s=20">"You don't rise to the level of your goals. You fall to the level of your systems"</a>. What he means is that your output is determined to a greater degree by how you do something, than what it is you do.</p><p>Reflecting on lesson 2, another benefit of working on small, simple problems, is that you might discover big problems in the pursuit of small problems. Some of the greatest pivots in startup history have been a direct result of the founders discovering a big idea in the pursuit of a small idea. <a href="https://www.wired.com/2014/08/the-most-fascinating-profile-youll-ever-read-about-a-guy-and-his-boring-startup/">The founders of Slack were originally trying to build a game called "Glitch"</a>. While working on it, they built some internal tools to improve team communication. When the game failed, they realized they'd built something much greater in the pursuit of their original goal.</p><p>Sometimes you need to work on things you think are unimportant, but if you wait for the important problems to do your best work, you're missing the point. In everything you do, do it with the same amount of fervor and diligence. Constantly optimize your processes to do better work. Even if you don't solve the problem you set out to solve, you end up solving many problems along the ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://neilmathew.co/you-and-your-work/">https://neilmathew.co/you-and-your-work/</a></em></p>]]>
            </description>
            <link>https://neilmathew.co/you-and-your-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136688</guid>
            <pubDate>Sun, 14 Feb 2021 22:02:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Warning to Users of NurseryCam]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 70 (<a href="https://news.ycombinator.com/item?id=26136667">thread link</a>) | @carwyn
<br/>
February 14, 2021 | https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/ | <a href="https://web.archive.org/web/*/https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>This blog post is intended for a less technical audience ‚Äì specifically parents and nurseries using the NurseryCam system.</p>
<p><a href="https://www.nurserycam.co.uk/index.php">NurseryCam</a> is a camera system that is installed in nurseries, allowing parents to view their children remotely. There are <a href="https://www.google.com/search?q=inurl:nursery+nurserycam">tens of nurseries</a> stating that they use this system. News articles go back as far <a href="http://news.bbc.co.uk/1/hi/england/somerset/3569866.stm">as 2004</a>.</p>
<p>Serious security issues have been found in the system. The <a href="https://www.nurserycam.co.uk/web_cam_security.htm">statements that NurseryCam</a> make about the security of their system do not align with reality.</p>
<p>These issues would allow any parent, past or present, to access the video feeds from the nursery. There is also the chance that anyone on the Internet could have accessed them.</p>
<p>I am a full-time security consultant who specialises in the security of the Internet of Things, including camera systems. The issues with NurseryCam are about as serious as it gets. NurseryCam were informed of these as early as February 2015 ‚Äì 6 years ago.</p>
<h2>The System</h2>
<p>A Digital Video Recorder (DVR) is installed in the nursery, connected to cameras. These are like normal CCTV DVRs, used across thousands of businesses and homes in the UK.</p>
<p>The DVR has a web interface that can be viewed in a browser, but it would normally only be possible to view this when you are connected directly to the nursery‚Äôs network. This is because the DVR is behind the router‚Äôs firewall.</p>
<div id="attachment_5044"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png" alt="" width="646" height="409" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-1024x649.png 1024w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-300x190.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw-768x487.png 768w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_21_50-Untitled-1-LibreOffice-Draw.png 1030w" sizes="(max-width: 646px) 100vw, 646px"></a></p><p>Without port forwarding,the DVR cannot be accessed.</p></div>
<p>To allow the DVR to be viewed remotely, something called port forwarding is used. This opens a hole in the nursery‚Äôs firewall, allowing the DVR to be accessed from the Internet.</p>
<div id="attachment_5045"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png" alt="" width="993" height="632" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw.png 993w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-300x191.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-14-15_23_48-Untitled-1-LibreOffice-Draw-768x489.png 768w" sizes="(max-width: 993px) 100vw, 993px"></a></p><p>Port forwarding allows access to the DVR from the Internet</p></div>
<p>To log in to the DVR, you need to know the username, password, and IP address.</p>
<p>When a parent wants to view the cameras, they log in to the NurseryCam website or mobile application. In the background, the parent is given the details for the DVR, including the username and password.</p>
<div id="attachment_5046"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png" alt="" width="537" height="434" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled.png 537w, https://cybergibbons.com/wp-content/uploads/2021/02/Untitled-300x242.png 300w" sizes="(max-width: 537px) 100vw, 537px"></a></p><p>The normal log in procedure for a parent</p></div>
<p>The parent then establishes a direct connection to the DVR, allowing them to view the camera.</p>
<h2>The Issues</h2>
<p>For all parents connecting to a given nursery, they are given the same username and password for the DVR. In the examples I have been shown, the username is <em>admin</em> and the password are obvious words followed by 888.<em><br>
</em></p>
<p>This means that the parents, past and present, have all been given the administrator password for the DVR.</p>
<p>There are no indications that this password changes over time.</p>
<p>There is no need for the parent to login to the NuseryCam website to access the DVR.</p>
<div id="attachment_5047"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/Untitled1.png" alt="" width="283" height="277"></a></p><p>There is no need to login to the NurseryCam servers to login to the DVR</p></div>
<p>With these details, the parent could connect directly to the DVR at any time of the day, view it for however long they want, and view all of the cameras, including ones you have not given them permission to view.</p>
<p>You can lock or delete the parent account on the NurseryCam website, but the username and password for the DVR will not change.</p>
<p>There is no way to stop the parent from logging into the DVR directly.</p>
<p>Anyone logging into the DVR would be seen as the admin user. It would be incredibly difficult for a nursery to determine if the login was from a genuine parent or someone else.</p>
<p>To make matters worse, the connection to the DVR is using HTTP, not HTTPS. It is unencrypted, allowing someone to eavesdrop on the video feed, username, and password.</p>
<h2>The Risks</h2>
<p>Any given parent for a given nursery could login to the DVR and view any and all cameras.</p>
<p>This could include:</p>
<ol>
<li>A current parent viewing cameras for longer than they are meant to.</li>
<li>A current parent viewing cameras that they are not entitled to, such as rooms their child does not use.</li>
<li>A parent whose child no longer attends the nursery viewing the cameras.</li>
<li>Any parent who has been prevented from accessing the system (e.g. separation, abuse) viewing the cameras.</li>
</ol>
<p>Worse still, because the password for the DVRs is common across multiple nurseries and <a href="https://www.google.com/search?q=site%3Anurserycam.co.uk+nurserycam888">openly documented</a> on NurseryCam‚Äôs website, there is the potential for <strong>anyone</strong> on the Internet to access the DVR.</p>
<div id="attachment_5063"><p><a href="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png"><img loading="lazy" src="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png" alt="" width="992" height="909" srcset="https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw.png 992w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-300x275.png 300w, https://cybergibbons.com/wp-content/uploads/2021/02/2021-02-15-09_24_46-Untitled-1-LibreOffice-Draw-768x704.png 768w" sizes="(max-width: 992px) 100vw, 992px"></a></p><p>Port forwarding does not restrict connections to be from parents ‚Äì anyone can access the DVR</p></div>
<p>The only missing piece of the puzzle is the IP address of the nursery. It would be possible to scan the entire of the UK for DVRs using this username and password in a matter of days.</p>
<p>Staff at NurseryCam would know the password and be able to access the DVRs without restriction.</p>
<h2>The Discrepancies</h2>
<p>NurseryCam <a href="https://www.nurserycam.co.uk/web_cam_security.htm">state</a> that their system is ‚Äúsafer than online banking‚Äù.</p>
<p>This is certainly not the case with the system seen here.</p>
<p>A common, shared, and openly documented login for the DVRs is passed to each parent.</p>
<p>There is no encryption used. There are no VPNs.</p>
<p>This is analogous to your local bank giving you the keys to their vault and just trusting that you will only take your money.</p>
<p>The same claims are repeated across multiple nursery websites.</p>
<h2>The Disclosure</h2>
<p>When security researchers find problems like this, we try to report them to the company so that they can be fixed.&nbsp; The aim is to keep users of the system safe. We call this disclosure.</p>
<p>I reported these to NurseryCam on <strong>6th February 2021</strong>.</p>
<p>On <strong>12th February 2021</strong>, I blogged about these initial concerns and Tweeted them.</p>
<p>Former parents reading my Twitter feed got in touch, with one parent confirming that they had informed NurseryCam of almost identical issues in <strong>February 2015</strong> ‚Äì six years ago.</p>
<p>Even six years ago, the claims made about security did not line up with reality.</p>
<p>They have been aware of serious security issues for 6 years and have not fixed them.</p>
<h2>How were these found?</h2>
<p>The NurseryCam Android mobile application was downloaded and then examined. By viewing the code, it was possible to see how the system operates.</p>
<p>Several parent users of the system have contacted me. They confirmed that the system operated as I suspected and that the DVR usernames and passwords were the same each time they logged in.</p>
<p>There has been no attempt to hack NurseryCam webservers.</p>
<p>These issues were trivial to uncover, taking no more than 15 minutes.</p>
<h2>What should you do?</h2>
<p>In my professional opinion, you cannot quickly fix a system that is this badly broken. You also cannot regain the trust that has been lost by selling a product that is described so inaccurately.</p>
<p>If you, as a nursery, operate one of these systems:</p>
<ol>
<li>Unplug the network connection from the DVR.</li>
<li>Contact NurseryCam and ask that they inform all impacted nurseries immediately.</li>
<li>Ask why the system you have been paying for isn‚Äôt the one that is described on the NurseryCam site.</li>
</ol>
<p>If you are a parent, I would advise contacting your nursery and request that they carry out the above steps.</p>
<h2>Inadequate Fixes</h2>
<p>Changing the username and password for the DVR is not a genuine fix ‚Äì the username and password are still sent to the parents.</p>
<p>Adding encryption to the connections is not a fix ‚Äì the username and password are still sent to the parents.</p>
<h2>My Opinion</h2>
<p>These issues are obvious and fundamental. They should not have existed in the first place.</p>
<p>Without the system being almost completely redesigned, it is hard to see how it can be secured adequately.</p>
<p>I have not tested their website, or looked at any of their other security practices.</p>
<p>Ask yourself if you could ever trust this company again with children‚Äôs data.</p>









			</div></div>]]>
            </description>
            <link>https://cybergibbons.com/security-2/a-warning-to-users-of-nurserycam/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136667</guid>
            <pubDate>Sun, 14 Feb 2021 22:00:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What ever happened to scandium bike frames? (2016)]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 96 (<a href="https://news.ycombinator.com/item?id=26136608">thread link</a>) | @dfgdghdf
<br/>
February 14, 2021 | https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html | <a href="https://web.archive.org/web/*/https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.bikeblogordie.com/2016/11/what-ever-happened-to-scandium-bike.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136608</guid>
            <pubDate>Sun, 14 Feb 2021 21:51:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do we write design documents?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136422">thread link</a>) | @declanhaigh
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Starting a greenfield project is loads of fun, but you can‚Äôt avoid
the dentist‚Äôs appointment indefinitely and at some point you will have to write
that design document your boss expects to see on their table. Despite the fact that most people
learned how to write in childhood, more often than not they are struggling
when it comes to writing lengthy documents. The big blank page is daunting
and it‚Äôs hard to get into the mood for writing, because it‚Äôs time consuming and
not as fun as programming.</p><p>How do I even start explaining what we are trying to build when I don‚Äôt have
the slightest clue about the thing we are building?
It‚Äôs just an API this middle manager put me in charge of,
why would I waste my time with writing the design document when by the
time I am finished writing I could already have the API up and running?</p><p>If the API is so simple that even a kid can understand its purpose, isn‚Äôt writing a few
pages about it a trivial thing to do? I am sure you can solve a primary school‚Äôs math
problem without breaking a sweat, so why would you struggle with
filling the paper when it comes to describing the behavior of the API?</p><p>This writing block usually happens when you don‚Äôt know enough about the problem
that you are trying to solve. If you worked on the large project for a prolonged
period, your brain is most likely filled with details and problems surrounding that
project. If you were to write them down you could probably fill thick books,
nevertheless very few people are able to do that at the beginning of their project.
Their minds are as blurry as is their API design.</p><p>Essayist are writing their essays, because the act of writing helps
them to think and form their thoughts. They operate at the levels of thinking where
their brain can no longer process those thoughts, so they have to write them down before they
disappear in the cobwebs of their mind.</p><p>Everybody was staring into that direction, because they were standing on the so and so‚Äôs
shoulders. Lo and behold, we stared in the wrong direction and the only reason why that was discovered
was due to the ramblings of some essayist who was thinking through their writing.
That doesn‚Äôt mean that everybody who is forming their thoughts through writing
is worth reading about. Lots of writing finds its best use as a toilet paper,
so if reading these words induce some bowel movements you know what your next
steps should be.</p><p>I mostly see two reasons why larger projects demand writing a design document and other
kinds of paperwork bureaucracy. The first reason has educational purposes and
is there to produce some kind of guidance documentation that the rest of the team can rely on
during the actual development. It answers, or rather it should answer common questions and provide
general guidance on how to go about solving the problem.</p><p>Less discussed part of the secrets behind writing the design document is to
solve the same problem that the essayists discovered hundreds of years ago.
Sometimes the problems are so hard that they simply can‚Äôt be
solved only within your brain and you have to expand your brain power by offloading
the thinking process to paper.</p><p>When you start designing a new project, your mind is usually a spaghetti mess of questions.
What is the problem? Which technology should we use? When was the last time I ate?
What do the requirements say?
How are we supposed to deliver such and such performance?
Oh boy, this team is going to be pissed when I tell them to redesign their service.</p><p>The act of writing lets you discover problems that you didn‚Äôt think about
before, as you simply can‚Äôt fill 20 pages of coherent writing about the problem without
having a clear picture in your mind [1].</p><h2 id="but-they-are-always-outdated">But, they are always outdated</h2><p>The most common arguments that you may hear against writing the design documents
is that they are not going to capture all the details or they will go out
of date and become irrelevant. People won‚Äôt be reading them because they don‚Äôt have
the time or they don‚Äôt care enough about the topic and yadda yadda.</p><p>While those arguments might be true, they entirely miss the point and are simply
excuses for putting out a half baked undocumented project.
Unless you rely on formal verification or heavy quality assurance process like they do for space
projects, there will always be edge cases in your system that will only be found out in production.
The systems that are being developed these days are far too complex for one person
to envision all the possible edge cases beforehand.</p><p>Writing a design document before programming the complete implementation allows you to
avoid a much larger problem - marching in the wrong direction based on false
ideas. ‚ÄúWhoops that was dumb, let‚Äôs not do that anymore!‚Äù in a large team costs far
more than taking a few days/weeks off in order to think and write down your thoughts
beforehand.</p><p>Sure, some companies might take this into extremes and will demand a closet filled with
documentation when it comes to building a shed, because according to their processes
every project needs one. Well no, not every project needs one, but every project
will surely benefit from some additional thoughts and documentation.</p><p>Amazon went one step further and banned all Powerpoint presentations
in favor of writing lengthy full sentence documents. They argue that the
Powerpoint cabbages ones mind, and the truth is, most Powerpoint acolytes that
I‚Äôve seen had their minds made out of cabbage. Powerpoint makes it easy for a presenter
to just throw some bullet points on the screen and hand wave it through the
sloppily made presentation.
Trying to drill down more into the subject after such presentation is unlikely
to return a satisfactory answer, because they didn‚Äôt think it through [2].</p><p>The brain itself is a very lousy organ when it comes to retaining information
and it‚Äôs easy to overwhelm it with the amount of information that a hard
problem requires. When your memory runs low, swap your thoughts on paper.</p><h2 id="notes">Notes</h2><p>[1] Many books and articles were written, all describing the purpose of writing effectively.
One of my favorite videos on this topic is from Larry McEnerney:
<a href="https://www.youtube.com/watch?v=vtIzMaLkCaM">The Craft of Writing Effectively</a>.</p><p>[2] The problem lies in the messy hierarchy of bullet points. Big bullet points are stealing
the attention from smaller but sometimes equally important bullet points.
Edward Tufte wrote more about this problem in
<a href="https://www.edwardtufte.com/bboard/q-and-a-fetch-msg?msg_id=0001yB">PowerPoint Does Rocket Science</a>
post. The aftermath of space shuttle disintegration review was that the Powerpoint is an inappropriate
tool for engineering reports, presentations and documentation.</p></div></div>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/why-do-we-write-design-documents/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136422</guid>
            <pubDate>Sun, 14 Feb 2021 21:26:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I'm Building in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136413">thread link</a>) | @kowsheek
<br/>
February 14, 2021 | https://blog.kowsheek.com/what-im-building-in-2021/ | <a href="https://web.archive.org/web/*/https://blog.kowsheek.com/what-im-building-in-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>After working as a consulting CTO for several years, I've returned to being much more hands-on in software development with about 80% of my working time spent in codebases.</p><p>It's been a refreshing and rewarding experience which made me wonder about why I had left being hands-on in the first place. After some introspection I realized that it was burnout and disenchantment from the "hustle" culture in the startup ecosystem. I was happy to have left the endless stream of ideas, pitching and building to helping others build their products.</p><p>After a <a href="https://blog.kowsheek.com/managing-chronic-pain-as-a-developer/">car accident</a>, some time off and serendipity, I started working at BRIO in 2019 where I was knee deep in the codebase. The product is extremely interesting and the development problems are challenging which has reignited my passion for building products.</p><figure><iframe width="356" height="200" src="https://www.youtube.com/embed/rp6_3UQLi2Y?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><h2 id="brio">BRIO</h2><p><a href="http://briovr.com/">BRIO</a> is a platform for creating and delivering 3D, augmented reality &amp; virtual reality experience. Thousands of creators use BRIO to deliver millions of views to their beautiful and engaging experiences every month.</p><p>Continuing the build and grow the platform will be my primary focus for 2021 as my team and I reap the rewards of architectural decisions we made to evolve the codebase. I'm also looking forward to learning from the mistakes of our decisions so we can continue to improve and build better.</p><p>The product is frontend heavy and the codebase is end-to-end JavaScript with sprinklings of C++ &amp; Python. We've been aggressively transitioning to TypeScript while improving the core architecture in view of our long term aspirations. We are also using WebAssembly to deliver <a href="https://www.experience.briovr.com/solutions/ultra-render/">Ultra Render</a>, a GPU-powered path tracing engine that is deeply integrated with our ReactJS application.</p><figure><blockquote data-width="550">‚Äî Kowsheek (@ksqio) <a href="https://twitter.com/ksqio/status/1334962197324320768?ref_src=twsrc%5Etfw">December 4, 2020</a></blockquote>

</figure><p>In addition to continuing our efforts on the application, we have several services and related infrastructure changes we aim to release in 2021. We'll build most of these services using JavaScript, NodeJS and <a href="https://nestjs.com/">NestJS</a>.</p><h2 id="project-v">Project V</h2><p>As AngularJS was being sunset in 2016, I made the decision to build an enterprise SaaS product for one of my startups using the MEAN stack. Back then, AngularJS had a very healthy ecosystem that helped us ship several versions of the product rapidly. Unfortunately we didn't gain any significant traction and the product has since stagnated.</p><p>With the aim to experiment, I hope to revive the product by modernizing the codebase. My initial plans are to migrate to Angular and use NestJS alongside the existing Express application. </p><h2 id="project-l">Project L</h2><p>This is a platform to host third-party applications relating to the organization, utilization and workflow of different types of files. The project is in its inception and conceptualization phase so I have been researching and laying out the platform's architecture as requirements are developing.</p><p>While my go-to stack for building production solutions has been JavaScript, given the domain &amp; the long-term goals of this project, I am planning to build it with <a href="https://www.phoenixframework.org/">Phoenix</a>. I will likely use <a href="https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html">LiveView</a> <a href="https://mindreframer.com/posts/js-bundling-with-instant-live-reload-for-phoenix-and-liveview/">set up with Vite and ReactJS</a>. The Elixir ecosystem is young but the technology and stack is amazing which will only continue expanding.</p><h2 id="project-z">Project Z</h2><p>An experimental productivity application that I had started to build with <a href="https://aws.amazon.com/amplify/">AWS Amplify</a>. After investigating Elixir for Project L, <a href="https://hexdocs.pm/absinthe/overview.html">Absinthe</a> and Phoenix emerged as a better solution for the functionalities I aimed to implement.</p><figure><blockquote data-width="550"><div lang="en" dir="ltr"><p>Started to build a prototype in <a href="https://twitter.com/AWSAmplify?ref_src=twsrc%5Etfw">@AWSAmplify</a> but scrapped it to rebuild with <a href="https://twitter.com/elixirlang?ref_src=twsrc%5Etfw">@elixirlang</a>.</p><p>Reasoning: less servers, better for the environment.</p><p>Also OTP ü§©</p></div>‚Äî Kowsheek (@ksqio) <a href="https://twitter.com/ksqio/status/1360080668139671556?ref_src=twsrc%5Etfw">February 12, 2021</a></blockquote>

</figure><p>To improve my UI development skills am also diving deeper with the <a href="https://material.io/">Material</a> &amp; <a href="https://www.carbondesignsystem.com/">Carbon</a> design systems.</p><hr><p>JavaScript continues to be mainstay in the products I'm developing but Elixir will likely overtake its use towards the end of the year. I'll be sharing more details on these projects as they come alive in 2021 and beyond.</p><hr><p><a href="https://news.ycombinator.com/item?id=26136413">Join the Discussion on HackerNews</a></p>
                </div>
            </section>

                <section>
    <h3>Subscribe to blog.kowsheek</h3>
    <p>Get the latest posts delivered right to your inbox</p>
    <form data-members-form="subscribe">
        
        <p><strong>Great!</strong> Check your inbox and click the link to confirm your subscription.
        </p>
        <p>
            Please enter a valid email address!
        </p>
    </form>
</section>

        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.kowsheek.com/what-im-building-in-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136413</guid>
            <pubDate>Sun, 14 Feb 2021 21:24:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MessagEase ‚Äì The Smartest Touch Screen Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136338">thread link</a>) | @telotortium
<br/>
February 14, 2021 | http://www.exideas.com/ME/index.php | <a href="https://web.archive.org/web/*/http://www.exideas.com/ME/index.php">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://www.exideas.com/ME/index.php</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136338</guid>
            <pubDate>Sun, 14 Feb 2021 21:15:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One of the Most Prolific Cybercriminals Has Retired and May Be a Billionaire]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26136276">thread link</a>) | @1cvmask
<br/>
February 14, 2021 | https://www.elliptic.co/blog/jokers-stash-retiring | <a href="https://web.archive.org/web/*/https://www.elliptic.co/blog/jokers-stash-retiring">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<figure>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png" alt="" width="594" height="310" srcset="https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=297&amp;height=155&amp;name=joker-stash-elliptic.png 297w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=594&amp;height=310&amp;name=joker-stash-elliptic.png 594w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=891&amp;height=465&amp;name=joker-stash-elliptic.png 891w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1188&amp;height=620&amp;name=joker-stash-elliptic.png 1188w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1485&amp;height=775&amp;name=joker-stash-elliptic.png 1485w, https://www.elliptic.co/hs-fs/hubfs/joker-stash-elliptic.png?width=1782&amp;height=930&amp;name=joker-stash-elliptic.png 1782w" sizes="(max-width: 594px) 100vw, 594px">
</p>
</figure>
<div>
<figure>
<img src="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg" alt="Dr. Tom Robinson" width="65" height="65" srcset="https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=33&amp;height=33&amp;name=ell-author-tom-robinson.jpg 33w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=65&amp;height=65&amp;name=ell-author-tom-robinson.jpg 65w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=98&amp;height=98&amp;name=ell-author-tom-robinson.jpg 98w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=130&amp;height=130&amp;name=ell-author-tom-robinson.jpg 130w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=163&amp;height=163&amp;name=ell-author-tom-robinson.jpg 163w, https://www.elliptic.co/hs-fs/hubfs/2020%20Website/Authors/ell-author-tom-robinson.jpg?width=195&amp;height=195&amp;name=ell-author-tom-robinson.jpg 195w" sizes="(max-width: 65px) 100vw, 65px">
</figure>
<div>


<h5>Elliptic's Co-founder and Chief Scientist discusses cryptocurrency forensics, investigations, compliance, and sanctions.</h5>
</div>
</div>
<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text">
<p><strong>Hundreds of millions of cards have been stolen from online retailers, banks and payments companies before being sold for cryptocurrency on dozens of online marketplaces. According to Elliptic‚Äôs analysis, the founder of one of the most popular carding marketplaces, Joker‚Äôs Stash, has retired having amassed a fortune of over $1 billion.</strong></p>
<p>Every time you make a purchase with a credit or debit card, your card details are transmitted and stored in computer systems. Many of the major hacks of retailers and other companies are motivated by getting hold of these card credentials.</p>
<p>Stolen cards have value because they can be used to purchase high-value items or gift cards, which can then be resold for cash. This process is known as ‚Äúcarding‚Äù, and has become a key part of the cybercriminal‚Äôs playbook. Carding is very profitable in its own right, but it is also used to help launder and cash-out cryptocurrency obtained through other types of cybercrime.</p>

<p><strong>J</strong><strong>oker‚Äôs Stash - the King of Carding</strong></p>
<p>Over the past six years, Joker‚Äôs Stash rose to become the largest online seller of stolen credit cards and identity data. It is an example of a carding AVC (automated vending cart), which allows large volumes of cards to be sorted, filtered and purchased for Bitcoin with immediate delivery. In the image below you can see these cards categorised and searchable by country, bank, expiry date and other attributes. The going price for a single card on Joker‚Äôs Stash ranges from $1 to $150, with those at the upper end coming complete with the cardholder‚Äôs name, address and social security number.</p>
<!--more-->
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png" alt="Jokers Stash Blog_1-1" width="512" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=256&amp;name=Jokers%20Stash%20Blog_1-1.png 256w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=512&amp;name=Jokers%20Stash%20Blog_1-1.png 512w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=768&amp;name=Jokers%20Stash%20Blog_1-1.png 768w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1024&amp;name=Jokers%20Stash%20Blog_1-1.png 1024w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1280&amp;name=Jokers%20Stash%20Blog_1-1.png 1280w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_1-1.png?width=1536&amp;name=Jokers%20Stash%20Blog_1-1.png 1536w" sizes="(max-width: 512px) 100vw, 512px"><span></span></p>
<p><span>A screenshot from Joker‚Äôs Stash, showing individual payment cards for sale together with details of the cardholder</span></p>
<p>Joker‚Äôs Stash began operations in 2014. Its founder announced the site‚Äôs launch in English and Russian-language posts on various carding forums, using the pseudonym ‚ÄúJokerStash‚Äù. The marketplace gained popularity due to the quality and volume of the cards offered, sourced from a network of ‚Äúpartners‚Äù - criminal groups that originally stole the card details.&nbsp; New batches of cards from major breaches of businesses were teased weeks in advance and given cryptic names. For example, two million cards <a href="https://gizmodo.com/2-million-credit-cards-exposed-after-hack-of-buca-di-be-1833710618"><span>belonging</span></a> to customers of US restaurant chain ‚ÄúBuca di Beppo‚Äù were marketed as the ‚ÄúDAVINCI BREACH‚Äù, while the five million cards making up the ‚ÄúBIGBADABOOM-2‚Äù batch likely <a href="https://www.nytimes.com/2018/04/01/technology/saks-lord-taylor-credit-cards.html"><span>originated</span></a> from retailer Saks Fifth Avenue.</p>

<p><strong>Using blockchain analytics to estimate sales volumes</strong></p>
<p>The revenues earned by Joker‚Äôs Stash can be estimated from the value of incoming cryptocurrency payments to its wallet, as seen on the blockchain. Since 2015 almost $400 million in bitcoin was sent to the marketplace, with annual sales peaking at $139 million in 2018. Sales dropped over the next two years, reflecting a broader downtrend in carding activity - increased security around card payments has made their theft more difficult, while advances in anti-fraud technology have made it more challenging for carders to make purchases with stolen cards.</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png" alt="Jokers Stash Blog_2-1" width="1200" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=600&amp;name=Jokers%20Stash%20Blog_2-1.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1200&amp;name=Jokers%20Stash%20Blog_2-1.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=1800&amp;name=Jokers%20Stash%20Blog_2-1.png 1800w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=2400&amp;name=Jokers%20Stash%20Blog_2-1.png 2400w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3000&amp;name=Jokers%20Stash%20Blog_2-1.png 3000w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_2-1.png?width=3600&amp;name=Jokers%20Stash%20Blog_2-1.png 3600w" sizes="(max-width: 1200px) 100vw, 1200px"><span>Value of Bitcoin payments received by Joker‚Äôs Stash, by year</span></p>
<p>This carding downturn may be one of the reasons that Joker‚Äôs Stash recently announced that it would be closing permanently. The marketplace has also faced other headwinds in recent months - JokerStash notified customers in October that he/she had been hospitalised for over a week with coronavirus, while in December Interpol and the FBI <a href="https://www.zdnet.com/article/fbi-interpol-disrupt-jokers-stash-the-internets-largest-carding-marketplace/"><span>announced</span></a> a coordinated seizure of domains used by the site. The servers themselves were apparently unaffected and the site remained operational through TOR mirrors (although some users suspect that the takedown was successful and that law enforcement now control the site - a tactic used with some darknet markets).</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png" alt="Jokers Stash Blog_4" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=300&amp;name=Jokers%20Stash%20Blog_4.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=600&amp;name=Jokers%20Stash%20Blog_4.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=900&amp;name=Jokers%20Stash%20Blog_4.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1200&amp;name=Jokers%20Stash%20Blog_4.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1500&amp;name=Jokers%20Stash%20Blog_4.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_4.png?width=1800&amp;name=Jokers%20Stash%20Blog_4.png 1800w" sizes="(max-width: 600px) 100vw, 600px"><span>Joker‚Äôs Stash announces its own closure</span></p>
<p>Another possible reason for the closure is simply that its founder has made so much money that it is no longer worth the effort and risk to continue operations, a sentiment suggested by the closure notice posted by JokerStash on the site:</p>
<p><img src="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png" alt="Jokers Stash Blog_6" width="600" srcset="https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=300&amp;name=Jokers%20Stash%20Blog_6.png 300w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=600&amp;name=Jokers%20Stash%20Blog_6.png 600w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=900&amp;name=Jokers%20Stash%20Blog_6.png 900w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1200&amp;name=Jokers%20Stash%20Blog_6.png 1200w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1500&amp;name=Jokers%20Stash%20Blog_6.png 1500w, https://www.elliptic.co/hs-fs/hubfs/Jokers%20Stash%20Blog_6.png?width=1800&amp;name=Jokers%20Stash%20Blog_6.png 1800w" sizes="(max-width: 600px) 100vw, 600px"></p>

<p><strong>How large is Joker‚Äôs Bitcoin Stash?</strong></p>
<p>We can estimate JokerStash‚Äôs retirement fund by considering the fees charged by the marketplace. The first source of revenue is cryptocurrency deposit fees. Any cryptocurrency payments to the site are converted to a US dollar balance, calculated according to the prevailing exchange rate, minus a fee ranging from 8% in the early days of the site to 4% today. On top of that, the marketplace almost certainly takes a cut of all sales of cards provided by the site‚Äôs partners. The commission taken by Joker‚Äôs Stash is not known, but for similar marketplaces it ranges between 10 to 30%.</p>
<p>The other key piece of information to take into account is that according to cyber security firm <a href="https://geminiadvisory.io/jokers-stash-shuts-down/"><span>Gemini Advisory</span></a>, JokerStash claims to keep all proceeds of the marketplace in bitcoin. If that is the case then the recent bitcoin price increase would have substantially inflated the value of assets. If we assume an average total commission of 20% on sales, then considering bitcoin alone (the site also accepts Litecoin and Dash) they would have taken a total of at least 60,000 bitcoins - which today has a value of $2.5 billion.</p>

<p><strong>An opportunity for other carding markets to fill the void</strong></p>
<p>Joker‚Äôs Stash announced that it would cease operations on 15th February, although the site became inaccessible as of the 3rd February, angering many customers, who still had balances to spend. It is one of the few criminal marketplaces to shut down on its own terms, a victim of its own success rather than as a result of any apparent law enforcement operation. This will no doubt encourage others to take its place at the heart of the cybercrime economy.</p>

<p><strong>Related Articles</strong></p>
<ul>
<li><a href="https://www.reuters.com/article/crypto-currency-crime/darknet-crypto-kingpin-jokerstash-retires-after-illicit-1-billion-run-research-idUKL4N2KH2IW" rel="noopener">Reuters feature Elliptic research on the Darknet crypto kingpin JokerStash</a></li>
</ul>
<p>Learn more about how Elliptic helps crypto businesses and financial institutions<span>&nbsp;</span><a href="https://www.elliptic.co/what-we-do/aml-navigator" rel="noopener" target="_blank">manage their cryptoasset risk</a>.&nbsp;</p>
<p>Don‚Äôt have Elliptic backing up your crypto AML compliance operations already?</p>
<p><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-22b79504-3ecb-4028-ab2d-42c058ec8014"><span id="hs-cta-22b79504-3ecb-4028-ab2d-42c058ec8014"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014" target="_blank"><img id="hs-cta-img-22b79504-3ecb-4028-ab2d-42c058ec8014" src="https://no-cache.hubspot.com/cta/default/3883533/22b79504-3ecb-4028-ab2d-42c058ec8014.png" alt="SCHEDULE A DEMO"></a></span></span><!-- end HubSpot Call-to-Action Code --></p></span>
</p>

</div>
</div></div>]]>
            </description>
            <link>https://www.elliptic.co/blog/jokers-stash-retiring</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136276</guid>
            <pubDate>Sun, 14 Feb 2021 21:08:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tree Coding vs. Bush Coding]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26136224">thread link</a>) | @TomasVotruba2
<br/>
February 14, 2021 | https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/ | <a href="https://web.archive.org/web/*/https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post">
            

            <ul>
    <li>
        <em></em>
        <strong>7 min</strong>
    </li>

    <li>
        <em></em>
        <time datetime="2021-02-Thu">
            
                                            Thu, Feb 11
            
                    </time>
    </li>

    
            <li>
            
            <a href="https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/#disqus_thread">X</a> comments
        </li>
    
    
            <li>
            <em></em>
            <a href="https://github.com/tomasvotruba/tomasvotruba.com/edit/master/packages/blog/data/2021/2021-02-11-tree-coding-vs-bush-coding.md">Found a typo? Edit me</a>
        </li>
    </ul>

            
            
            <div>
                <div>
                    <div><p>How does circular reference look like? It is a point where you wait for your doctor; they wait for a state to accept the vaccine, and the state waits on people like your to come to the doctor. <strong>Who has the responsibility?</strong> Who can change the state?
</p><p>
In the past, we used singletons and static calls to get anything anywhere instantly. But soon, we got into the circular references trap. Now <strong>we moved to dependency injection</strong> and this problem does not exist anymore... or does it?</p></div>
                </div>
            </div>

            <p>With dependency injection, dependencies grow naturally into the form of a tree:</p>
<pre><code>final class VaccineRepository
{
    public function __construct(
        private Connection $connection
    ) {
    }

    public function get(int $id): Vaccine
    {
        return $this-&gt;connection-&gt;getFromTable('vaccine', $id);
    }
}</code></pre>
<p>Then we use the repository inside a controller:</p>
<pre><code>final class DoctorController
{
    public function __construct(
        private VaccineRepository $vaccineRepository
    ) {
    }

    public function helpPerson(Person $person, int $vaccineId)
    {
        $vaccine = $this-&gt;vaccineRepository-&gt;get($vaccineId);
        $vaccine-&gt;injectInto($person);
        // ...
    }
}</code></pre>
<p>The dependency tree is clear and obvious:</p>
<ul>
<li><code>Controller</code> uses ‚Üì
<ul>
<li><code>Repository</code> uses ‚Üì
<ul>
<li><code>Connection</code> uses ‚Üì
<ul>
<li>PostgreSQL database uses ‚Üì
<ul>
<li>PostgreSQL Docker image</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<h2 id="why-tree">Why Tree?</h2>
<p>The significant advantage of trees is that they grow strong and tall. They're robust and can produce a lot of branches and leaves to rise to the sun. The sun gives them more energy to grow even further. A typical example of tree coding is dependency injection.</p>
<p><img src="https://tomasvotruba.com/assets/images/posts/2021/tree_vs_bush.jpg"><br><em>Tree Coding vs Bush Coding</em>
</p>
<h2 id="why-bush">Why Bush?</h2>
<p>At first sight, a bush grows much faster than a tree. Its goal is to grow as many leaves as possible in a short time. It does not care about the future as much as a tree.
A typical example of bush coding is static method calls and static classes.</p>

<h2 id="power-of-tree-coding">Power of Tree Coding</h2>
<p>Tree coding is similar to <a href="https://tomasvotruba.com/blog/2018/04/30/programming-climbing-a-huge-mountain/">climbing a huge mountain</a>. Let's focus on the basic idea:</p>
<h3 id="what-is-the-goal-of-tree-coding">What is The Goal of Tree Coding?</h3>
<ul>
<li>It has a <strong>clear hierarchy</strong> from the bottom up, as you have guessed from dependency injection over static calls</li>
<li><strong>Single place for single responsibility</strong>
<ul>
<li>Need a new leaf? Put it on a branch with access to the Sun</li>
<li>Need a new branch? Put it next to another branch, where is enough space</li>
<li>Need a new tree trunk? Plant a new tree</li>
</ul></li>
<li><strong>It's intuitive</strong> - everybody knows putting a branch inside a leaf is a bad idea</li>
<li>It respects <strong><a href="https://softwareengineering.stackexchange.com/a/187462/148956">principle of least astonishment</a></strong></li>
</ul>
<p><a href="https://www.slideshare.net/GiovanniScerra/thoughtful-software-design">
<img src="https://tomasvotruba.com/assets/images/posts/2021/principal_of_least_astonishment.jpg">
</a></p>

<p>But bushes tend to spread faster, so it's only natural to assume they're already in your code. <strong>Slowly growing and waiting for their time to slow you down</strong>.</p>
<p><img src="https://tomasvotruba.com/assets/images/posts/2021/bushes_everywhere.jpg"></p><p>I have come around some bushes in my code before:</p>
<ul>
<li><a href="https://tomasvotruba.com/blog/2018/04/26/how-i-got-into-static-trap-and-made-fool-of-myself">How I Got into Static Trap and Made Fool of Myself</a></li>
<li><a href="https://tomasvotruba.com/blog/2019/04/01/removing-static-there-and-back-again">Removing Static - There and Back Again</a></li>
</ul>

<p>Today we look on 3 more examples that can be easily missed while slowly poluting your code:</p>
<h2 id="1-service-inside-value-object">1. Service Inside Value Object</h2>
<p>By value object, we talk about any entity, value object, or data transfer object. Anything that can be created multiple times, like vaccines.</p>
<pre><code>final class Vaccine
{
    public function __construct(
        private string $uuid,
        private float $volume
    ) {
    }

    public function getShotVolume(int $shotRank): float
    {
        // ...
    }
}</code></pre>
<p>How do we create a vaccine? Let's build a factory:</p>
<pre><code>$vaccineFactory = new VaccineFactory();
$vaccine = $vaccineFactory-&gt;create();</code></pre>
<p>Pretty straight-forward, right?</p>

<p>Later that year, there is a big pressure on pharmaceutical companies, so programmers are under huge pressure to deliver. The vaccine object is now a bit more powerful:</p>
<pre><code>$vaccine-&gt;orderNewOne();
$vaccine-&gt;vaccinateHuman($human);
$vaccine-&gt;vaccinateAnimal($animal);</code></pre>
<p>Our simple vaccine with a basic method is now <strong>powerful service locator</strong> that can vaccinate itself and order itself. It's like <strong>giving birth to yourself</strong>.</p>

<p>What happened? In a factory, someone had an idea to put the services right into vaccine itself:</p>
<pre><code> final class Vaccine
 {
     public function __construct(
         private string $uuid,
         private float $volume,
+        private VaccinatingService $vaccinatingService,
+        private OrderingService $orderingService,
    ) {
    }
 }</code></pre>
<p>That's not a way to go.</p>
<h3 id="how-to-refactor">How to Refactor?</h3>
<p>It can happen to anyone. I'm aware of 3 such places in Rector itself that we plan to refactor. What can we do about it?</p>
<p>Let's refactor service from the object...</p>
<pre><code> final class Vaccine
 {
     public function __construct(
         private string $uuid,
         private float $volume,
-        private VaccinatingService $vaccinatingService,
-        private OrderingService $orderingService,
    ) {
    }
 }</code></pre>
<p>...to service using the object:</p>
<pre><code>+$orderingService = new OrderingService();
+$vaccinatingService = new VaccinatingService();

-$vaccine-&gt;orderNewOne();
+$orderingService-&gt;order($vaccine, 100);

-$vaccine-&gt;vaccinateHuman($human);
+$vaccinatingService-&gt;vaccinate($human);

-$vaccine-&gt;vaccinateAnimal($animal);
+$vaccinatingService-&gt;vaccinate($animal);</code></pre>

<h2 id="2-trait-adding-dependency">2. Trait adding Dependency</h2>
<p>Let's stay with a vaccine from previous example. We got into the same problem:</p>
<pre><code>$vaccine-&gt;orderNewOne();
$vaccine-&gt;vaccinateHuman($human);
$vaccine-&gt;vaccinateAnimal($animal);</code></pre>
<p>But the constructor seems correct:</p>
<pre><code>final class Vaccine
{
    public function __construct(
        private string $uuid,
        private float $volume
    ) {
    }
}</code></pre>
<p>What is going on?</p>
<pre><code>final class Vaccine
{
    use SomeHelperTrait;
}</code></pre>
<p>Hm... what is that?</p>
<pre><code>trait SomeHelperTrait
{
    /**
     * In Symfony
     * @required
     */
    public OrderingService $orderingService;

    /**
     * In Nette
     * @inject
     */
    public VaccinatingsService $vaccinatingsService;
}</code></pre>
<p>Oh, so it's using frameworks (Nette/Symfony) dependency injection to add dependencies... how <del>smart</del> bush coding!</p>

<p>To be honest, I put similar crap code into Rector. Shame on me. It took <a href="https://github.com/rectorphp/rector/pull/5385">bunch</a> <a href="https://github.com/rectorphp/rector/pull/5466">of</a> <a href="https://github.com/rectorphp/rector/pull/5383">pull</a> <a href="https://github.com/rectorphp/rector/pull/5384">request</a> to get rid of completely.</p>
<h3 id="how-to-refactor">How to Refactor?</h3>
<p>The same way as the example above. Get rid of traits...</p>
<pre><code> final class Vaccine
 {
-    use SomeHelperTrait;
 }</code></pre>
<p>...and use services to handle the service work:</p>
<pre><code>$orderingService = new OrderingService();
$vaccinatingService = new VaccinatingService();

$orderingService-&gt;order($vaccine, 100);
$vaccinatingService-&gt;vaccinate($human);
$vaccinatingService-&gt;vaccinate($animal);</code></pre>

<p>After this incident, we <a href="https://github.com/symplify/phpstan-rules/blob/master/docs/rules_overview.md#notraitrule">forbid trait completely</a> with PHPStan.</p>
<h2 id="3-using-nette-template-to-transfer-data">3. Using Nette Template to Transfer Data</h2>
<p>Last but not least, there are template objects. It about any object that magically <strong>sets its variables on the fly</strong>:</p>
<pre><code>$someObject = new stdClass;
$someObject-&gt;name = 'Maybe' + 'Some';
$someObject-&gt;age = '100';</code></pre>
<p>It's common to use these on unknown JSON response, but here <strong>these variable names ("name", "age") and their values are known</strong>.</p>

<p>I don't think Symfony or Laravel have those, but it's a typical code from Nette controller:</p>
<pre><code>use Nette\Application\UI\Presenter;

final class DoctorPresenter extends Presenter
{
    public function renderInstructions()
    {
        $this-&gt;template-&gt;welcomeHere = '...';
        $this-&gt;template-&gt;waitingRoom = '...';
    }
}</code></pre>
<p>The <code>$template</code> is a base template object that holds assigned variables magically. Instead of a service locator, we have <strong>a variable locator</strong> (not good).
This simple construction of 2 variables is ok, but it will grow to a dirty bug.</p>

<p>To give you a comparison, this is how Symfony handles the problem:</p>
<pre><code>use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;

final class DoctorController extends AbstractController
{
    public function renderInstructions()
    {
        $this-&gt;render(__DIR__ . '/template/doctor/instructions.twig', [
            'welcomeHere' =&gt; '...',
            'waitingRoom' =&gt; '...',
        ]);
    }
}</code></pre>
<p>We pass parameters into template <strong>exactly once</strong>, at <strong>the time where it's needed</strong>. Not sooner, not later, <a href="https://blog.codinghorror.com/the-just-in-time-theory/">just in time</a>, also called JIT.</p>
<p>Not twice by accident:</p>
<pre><code>$this-&gt;template-&gt;welcomeHere = '...';

// 100 lines bellow or in another method called
$this-&gt;template-&gt;welcomeHere = 'no';

// which is used?</code></pre>
<p>...and not maybe:</p>
<pre><code>if ($this-&gt;isOpened) {
    $this-&gt;template-&gt;welcomeHere = '...';
}</code></pre>

<p>Still, so far, that is framework convention it works well when used correctly.</p>
<p><strong>But what is not forbidden is allowed.</strong> We can use the object for reading the data:</p>
<pre><code>use Nette\Application\UI\Presenter;

final class DoctorPresenter extends Presenter
{
    public function renderInstructions()
    {
        $this-&gt;template-&gt;welcomeHere = '...';

        if ($this-&gt;template-&gt;welcomeHere === '...') {
            $this-&gt;template-&gt;welcomeHere .= PHP_EOL. 'Thank you!';
        }
    }
}</code></pre>
<p>This is very bad idea:</p>
<ul>
<li>
<p>we depend on <code>$this-&gt;template-&gt;welcomeHere</code> to <strong>be set somewhere above</strong> - how do you even check if magic property is set?</p>
<pre><code>if (isset($this-&gt;template-&gt;welcomeHere) &amp;&amp; $this-&gt;template-&gt;welcomeHere !== null) {
$this-&gt;template-&gt;welcomeHere .= PHP_EOL . 'Thank you!';
}</code></pre>
</li>
<li>
<p>we knew we assigned type of <code>string</code>, but <strong>magic made the type disappear</strong></p>
</li>
<li>
<p>we have no idea what the type is, <strong>static analysis and Rector does not work</strong></p>
</li>
<li>
<p>we're promoting to use a magical object for anything in <code>render()</code> methods</p>
</li>
<li>
<p>we're saying it's ok <strong>to set a single variable twice in one method</strong></p>
</li>
</ul>

<h3 id="how-to-refactor">How to Refactor?</h3>
<p>How can we get out of this bush? It's simpler than the two examples before. What would you do?</p>
<p>Use a variable, of course.</p>
<pre><code>-$this-&gt;template-&gt;welcomeHere = '...';
+$welcomeHere = '...';

-if ($this-&gt;template-&gt;welcomeHere === '...') {
+if ($welcomeHere === '...') {
-    $this-&gt;template-&gt;welcomeHere .= PHP_EOL. 'Thank you!';
+    $welcomeHere .= PHP_EOL. 'Thank you!';
-}

+$this-&gt;template-&gt;welcomeHere = $welcomeHere;</code></pre>
<p>This way we:</p>
<ul>
<li>use a variable for a <em>variable</em> content (a content that might change and ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/">https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/</a></em></p>]]>
            </description>
            <link>https://tomasvotruba.com/blog/2021/02/11/tree-coding-vs-bush-coding/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136224</guid>
            <pubDate>Sun, 14 Feb 2021 21:00:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basilisk Collection ‚Äì A Hard Sci-Fi Story About SHA-256]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26136206">thread link</a>) | @blackle
<br/>
February 14, 2021 | https://suricrasia.online/unfiction/basilisk/ | <a href="https://web.archive.org/web/*/https://suricrasia.online/unfiction/basilisk/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://suricrasia.online/unfiction/basilisk/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136206</guid>
            <pubDate>Sun, 14 Feb 2021 20:59:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Open Ecard Generator ‚Äì Free, persistent, serverless ecards]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136146">thread link</a>) | @dohliam
<br/>
February 14, 2021 | https://dohliam.github.io/ecards/ | <a href="https://web.archive.org/web/*/https://dohliam.github.io/ecards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
          <p>The default ("create") page provides a simple interface to design your electronic greeting card. The message text, card image, background colour and pattern, and sender and receiver names can all be customized. Your card will appear in an automatically-updating preview at the bottom of the screen as you begin to edit it. Press the "Toggle preview" button to turn off the preview feature.</p>

          <p>While you are designing your card, a link will appear to the final card. You can share this link (which goes to the "receive" page) with anyone you would like to send the card to.</p>

          <p>All of your customizations are encoded in the url, so the card contents will not expire or change as long as the site is up (and even if the site goes down, you can still retrieve your card by downloading the generator and importing the link.)</p>

          <p>The card generation and retrieval process is done entirely locally, so none of the card contents is ever stored anywhere on any server.</p>
        </section></div>]]>
            </description>
            <link>https://dohliam.github.io/ecards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136146</guid>
            <pubDate>Sun, 14 Feb 2021 20:51:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Prayer to the Global Corporate Gods]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26136026">thread link</a>) | @Bluestein
<br/>
February 14, 2021 | http://donhodges.com/prayer.html | <a href="https://web.archive.org/web/*/http://donhodges.com/prayer.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div width="750" height="1040" xpos="0" content="" csheight="1040">
						<center>
							<img src="http://donhodges.com/images/fish3.gif" height="47" width="99">
							
						</center>
						<p>O mighty global corporations, we are helpless without you. Please bring your menial jobs here to our nation and town. Though we have little control over these arbitrary and tedious jobs that create wealth for stockholders rather than us, they are all that we lowly workers deserve. Grant us your x dollars per hour so that we might have hope of purchasing your fine plastic products that bestow lasting contentment. Forgive us when we question your authority or do not work fast enough, for we are but wretched servants, and please oh pretty please do not cast us onto the street where there is much weeping and knashing of teeth.</p>
						<p>Drive us to serve you ever more diligently until our decrepit bodies and minds break down, then patch us up in your hospitals and with your anti-depressants as much as necessary to return to your service. And when you have used us up completely, secure us in your nursing homes so that we do not annoy you or your still-faithful devotees further.</p>
						<p>O corporate one big happy family Fathers, some of us are so worthless that our skills do not match your product plans, and our resultant poverty has led us astray to where we have broken the righteous commandments that protect your bountiful property from us. Other backsliders have foolishly attempted to escape the indoctrination of your dollars through the use of mind altering substances. We accept that the only rightful place for these shameful sinners among us is in a cold cell of thick concrete deep within your prisons, where you will still mercifully grace these human by-products with a few quarters per hour to manufacture your office furniture.</p>
						<p>For those few hours when we are not in your service, thank you for blessing us all with the security of predictable name brand products, and for their copious packaging that assures that no heathens have laid their unclean hands on the wondrous gifts within. Continue to spew your intelligent poisons into our farmland and food to protect us from the sinister insects and microorganisms. Prepare our food and even serve it to us, that we may have more time to serve you. We will gladly consume whatever you hand down to us, for you are all-knowing.</p>
						<p>Please pacify us with a plethora of prefabricated entertainment, as we have forgotten how to entertain each other. Reveal to us through your inspired media what we are to believe, for surely we cannot trust our own feeble judgement. Similarly commodify any remaining life activities, so that our angst-ridden existence is no more challenging than a series of multiple-choice questions.</p>
						<p>Most important, guide your wise politicians financially as they strive to make this region of the planet more cost-effective for you by abolishing the evil worker rights laws, corporate taxation, and environmental protections that offend you deeply and drive you away from us. Help them enlighten the more backward cultures by dropping your holy bombs on the people of those demonic nation-states that still refuse to bow down before you. And thank you for undercutting the pitifully small local businesses that would dare defy your divine dominance and threaten the sacred homogenous culture in which you have safely wrapped us. Truly all resources belong to you, and we are but humble stewards of them. Continue to devour the land and excrete into the rivers --- the Earth is your banquet and your toilet. For thine is the empire, the power, and the planet, until you destroy it.</p>
						<p>Amen.</p>
						<p>Copyright 1996 BiggerTheyCome (TM) Enterprises, a wholly-owned subsidiary of GlobalGobble Corporation. Just try and steal this intellectual property, you peasant, and see what happens!</p>
						<p>In accordance with Title 17 U.S.C. Section 107, this material is distributed without profit to those who have expressed a prior interest in receiving the included information for research and educational purposes.</p>
						<p>/s/ Mike Dolan, Field Director, Global Trade Watch, Public Citizen mdolan@citizen.org http://www.tradewatch.org 202.546.4996 fax:547.7392</p>
						<p>Join the Global Trade Watch list server. We will keep you up to date on trade policy and politics. To subscribe, send this message: "SUBSCRIBE TW-LIST" [followed by your name, your organizational affiliation and the state in which you live] to LISTPROC@ESSENTIAL.ORG
					</p></div></div>]]>
            </description>
            <link>http://donhodges.com/prayer.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26136026</guid>
            <pubDate>Sun, 14 Feb 2021 20:35:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Effectively Manage an Existing Engineering Team]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26135955">thread link</a>) | @strife25
<br/>
February 14, 2021 | https://buildthestage.com/how-to-manage-existing-engineering-teams/ | <a href="https://web.archive.org/web/*/https://buildthestage.com/how-to-manage-existing-engineering-teams/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><section id="primary"><main id="main"><article id="post-531"><div><p>Here you are, sitting in your regular 1-1 with your boss. You expected it would be a routine check-in with her ‚Äì ‚ÄúHow have you been?‚Äù, ‚ÄúWhat‚Äôs the latest status on yesterday‚Äôs support bug?‚Äù. Then she gets to her update.</p><p>Dale, a peer manager, has decided to leave the company.</p><p>You will be leading their team of mobile engineers until further notice. You know nothing about building mobile apps ‚Äì you‚Äôve been a backend engineer your entire career. There are many unknowns. Kotlin, Swift, and their frameworks are foreign to you. You don‚Äôt know the team, and some of the engineers are older and more experienced than you.</p><p>This is a daunting situation for new leaders and managers. An unfamiliar domain, you don‚Äôt have any answers to questions, and some of the team are ten years your senior. How do you manage an existing engineering team that works in a different domain?</p><h2><strong>Accept that the team knows more than you</strong></h2><p>The first step is to accept that you don‚Äôt know anything about this existing team‚Äôs domain.</p><p>Next, remember what your job is. Your job is to help guide people to make better decisions, learn fast, and achieve goals. Not contribute code.</p><p>Pay attention to how the team communicates. What are the relationships within the team? Who influences decisions? Whose voice is not heard? Your first step is to understand how this team works and how the people on it collaborate.</p><p>By focusing on how the team collaborates you can work on the problems with the environment. These are the issues that few are paying attention to or don‚Äôt know how to address. Solving these problems is where you can contribute most to the team‚Äôs success.</p><h2><strong>Ask questions instead of giving answers</strong></h2><p>Asking questions is a core skill of great leaders.</p><p>When someone is talking, stop thinking about how you want to respond. Instead, listen. Look for details in what they are saying that give you a new question.</p><p>By focusing on questions, you achieve two things. First, you get the other person to talk more and give you more information on the topic. Answering questions will also build trust ‚Äì which is a critical resource for a to earn.</p><p>After a while, some of these questions will become redundant. What do you do when you have a deep understanding of the situation?</p><p>Ask more questions!</p><p>I know ‚Äì it‚Äôs redundant, but your questions change at this point. Focus more on asking questions that guide the group towards the goal of the conversation. For example, take a meeting that requires a decision is made. Your questions should look to identify the detail that‚Äôs preventing the decision.</p><p>Example questions include:</p><ul><li>What are the trade-offs and risks of each choice?</li><li>Who can we talk to to learn more?&nbsp;</li><li>How does this solution affect our team‚Äôs goals?&nbsp;</li></ul> <h2><strong>Partner with influential team members</strong></h2><p>Building trust with the team is critical to your success. You will need to build this through relationships with everyone on the team. The most important people to focus on are the influential ones.</p><p>These are the people everyone listens to. They mentor the rest of the team and help them grow. Decisions change once they raise their concerns. You won‚Äôt make any progress without them on your side.</p><p>How do you go about doing this?</p><p>You need to change your mindset of how you expect these relationships to be. Instead of being a coach, look to them as partners. This means you have to give them the space to own decisions in the domains where they are the experts. The partnership also requires transparency from you. Talk with these people about the problems you are observing on the team and see how they can help.</p><p>By agreeing on the problems in the environment, you will have the support needed to solve them.&nbsp;</p><h2><strong>Learn the existing team‚Äôs domain to follow conversations</strong></h2><p>At the start, you‚Äôre going to struggle to keep up with the team‚Äôs conversations. You must put in the time to learn the jargon and the systems that the team works in. You aren‚Äôt expected to become the foremost expert of the team‚Äôs codebases. Yet you must understand enough so you can empathize with the team. The goal is understanding since you will be an important advocate for these people.</p><p>Again, asking questions will be your quickest path to success. When in one on ones, if a report begins to talk about what they‚Äôre working on, dig deeper than normal. Don‚Äôt assume too much. Embrace your naivety.</p><p>Examples of questions to ask are:&nbsp;</p><ul><li>Why was the code implemented this way?&nbsp;</li><li>What was the original purpose of it?&nbsp;</li><li>What challenges exist when working with this code?</li><li>How did the team decide to use that specific library?</li><li>How does this code fit into the architecture of the application?</li></ul><p>You‚Äôll also need to do homework on your own to learn what the team works with. Beyond the languages, identify the application‚Äôs key frameworks, systems, and libraries. Ask the team for blog posts, design documents, and book recommendations. This information will provide you with the context you need to finally keep up with the team.</p><h2><strong>Embrace Your Diverse Experience</strong></h2><p>You are going to learn a lot from the team ‚Äì new technologies, jargon, systems, and more. This does not mean your experience is meaningless though.</p><p>There will be times where the team struggles with a problem because they think an imaginary constraint exists. I‚Äôve seen this before ‚Äì a client-focused team has had a history of problems working with a backend team. Things like adding a new API is assumed to take a high amount of effort.</p><p>This is where you can help with your backend experience. You can provide them insight into how the backend systems work.</p><p>Remember that your experience here is not about imposing your will. Instead, continue to focus on questions to identify assumptions. Once you discover these, you can start to add real value.</p><h2><strong>Conclusion</strong></h2><p>Becoming the manager of a new team is daunting no matter the situation. Particularly when the team works in a domain you have zero experience with. To succeed in this environment, you need to enter it from a place of curiosity. Ask a lot of questions, learn how the team does its work, and partner with influential team members. By taking these steps, you will discover the problems that are holding the team back.</p><p>With these problems in your mind, you can start to support the team in achieving their goals.</p><h3>How do you gain the trust of an existing team?</h3><p>I‚Äôd love to learn any tips you have to gain the trust of an existing team. The challenge of leading a group with strong relationships is daunting. How have you done it?</p><p>Let me know on&nbsp;<a href="https://twitter.com/ternarywat/status/1360804780927574016" target="_blank" rel="noreferrer noopener">Twitter</a>&nbsp;or&nbsp;<a href="https://www.linkedin.com/feed/update/urn:li:activity:6766571093806465024/" target="_blank" rel="noreferrer noopener">LinkedIn</a>.</p> <h3>Further Reading</h3><ul><li><a href="https://bookshop.org/a/22141/9781422188613" target="_blank" rel="noreferrer noopener sponsored nofollow">The First 90 Days: Proven Strategies for Getting Up to Speed Faster and Smarter</a></li></ul></div><!-- .entry-content --><!-- .entry-footer --></article><!-- #post-${ID} --><nav role="navigation" aria-label="Posts"><h2>Post navigation</h2></nav></main><!-- #main --></section><!-- #primary --></div></div>]]>
            </description>
            <link>https://buildthestage.com/how-to-manage-existing-engineering-teams/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135955</guid>
            <pubDate>Sun, 14 Feb 2021 20:29:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 19-Year-Old If Game Restored Using TeaVM]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26135892">thread link</a>) | @TeaVMFan
<br/>
February 14, 2021 | https://frequal.com/ifml | <a href="https://web.archive.org/web/*/https://frequal.com/ifml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://frequal.com/ifml</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135892</guid>
            <pubDate>Sun, 14 Feb 2021 20:23:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does GameStop Prove the Stock Market Is Rigged?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 5 (<a href="https://news.ycombinator.com/item?id=26135842">thread link</a>) | @amoorthy
<br/>
February 14, 2021 | https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged | <a href="https://web.archive.org/web/*/https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>


<p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Just weeks ago, the share price for GameStop, a brick-and-mortar retailer of video games, saw its shares go from $17 to $483 before plummeting back down to <a href="https://www.marketwatch.com/investing/stock/gme"><span>around $50</span></a> within the span of a month. The story gripped the media (the subject of more than 3,000 articles) and the public's attention, painted as a <a href="https://www.cnbc.com/2021/01/27/gamestop-mania-explained-how-the-reddit-retail-trading-crowd-ran-over-wall-street-pros.html"><span>David vs. Goliath</span></a> story: small, plucky retail investors (non-professional individual investors) were taking on institutional investors (billion dollar firms, such as hedge funds, that invest with pooled resources) ‚Äî and supposedly <a href="https://markets.businessinsider.com/news/stocks/reddit-day-traders-investors-conflict-with-wall-street-hedge-funds-2021-1-1030016712"><span>winning big</span></a>. The soaring stock price finally crashed when popular trading platforms like Robinhood limited stock trading, coincidentally providing a way out for institutional investors who had been betting on the stock going down.</p>
<!--more-->
<p>Now, accusations are flying from both sides. Retail investors worry about collusion between Wall Street and trading platforms, whose decision to limit trading effectively put an end to the <a href="https://www.kiplinger.com/investing/602165/what-exactly-is-a-short-squeeze"><span>short squeeze</span></a> that big funds were trapped in. Meanwhile, Wall Street has lodged complaints about market manipulation that cost them billions. So, what really happened? Does the incident stand up to its underdog narrative or is it evidence that the stock market unfairly benefits Wall Street firms over everyday Americans? This week, The Factual looked at <a href="https://docs.google.com/spreadsheets/d/1CfG95Z047Dn-Q8Yip-JZxhdC0K7iKb4PAWLAD0Lanek/edit?usp=sharing"><span>highly rated news articles</span></a> from 20 sources across the political spectrum to find some answers.</p>
<blockquote>
<p><strong>What is shorting?</strong> Shorting is when an investor bets against a stock rising in the future. During a short, an investor ‚Äúborrows‚Äù shares of a specific stock and immediately sells them with the intention of buying the same number of shares back at a later date, for a lower price, before returning them to the original owner. If the stock depreciates over that period, the borrower gets to pocket the difference between the initial selling price and the later purchasing price. However, if the stock price increases, the borrower ends up losing money since they have to repurchase shares at a higher price before returning them. In January, institutional investors were shorting GME on a huge scale, and retail investors were purchasing GME shares to raise and keep the price high.</p>
<p><strong>What is a short squeeze? </strong>A short squeeze can happen when those shorting a stock are forced to repurchase shares at a higher price due to market movements. This repurchasing at higher prices can cause the stock‚Äôs price to climb even higher. In the case of GME, the activity of retail investors forced the large firms shorting the stock to repurchase shares at huge losses.&nbsp;</p>
</blockquote>
<p><strong>GameStop (GME) Share Price and Volume</strong></p>
<p><img src="https://lh6.googleusercontent.com/ZWC6lPja-6dOewgImUCpOa6l0STcuw3JPuGVsvLeqV0u0vhQ7IaILo1X0y4qTg0ktvE9qJLpoyp8yzon3DAE_amlIBi9HMP6kLYRpD6hlUVLrsm6xAcxfo7nmqdDPgb8Z71h3sPk" width="823"></p>

<h4><strong>Was There Foul Play?</strong></h4>
<div><p>As a social media-driven frenzy of buying drove the price of GME ever-higher on the week of January 25, the investment rationale for <a href="https://theconversation.com/wallstreetbets-is-disrupting-financial-markets-possibly-permanently-154355"><span>vigilante small investors</span></a>, largely associated with the online Reddit forum <a href="https://www.reddit.com/r/wallstreetbets/"><span>r/WallStreetBets</span></a>, was clear: buy and hold. Widespread purchasing of GME would generate returns for those buying in, often at the expense of big investors. These big investors who had shorted the stock were thus forced to buy even more shares ‚Äî raising the price still higher ‚Äî or risk facing even greater losses. Then things changed. Retail investors found themselves unable to continue purchasing shares as platforms like Robinhood and Webull limited buys, citing <a href="https://www.cnet.com/personal-finance/robinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy/"><span>heightened capital requirements</span></a> due to the unprecedented increase in investments. This seemingly permitted large institutional investors to stop the bleeding and close positions before more damage was done.&nbsp;</p></div>
<p><img src="https://lh5.googleusercontent.com/JymbmnVOvmovmwpWZuM5b7qJUB2jBUdkbmPoAJTeDAWTNyb-vsW6dBfUui3m13iOlmWhqSDy0ANC1R4u39fYwTqz40UQskNB1k5DDgYvxHedNaO4aMvjIUvWO23sDZVq61fJI4jZ" width="478" height="299"><br>Source: <a href="https://twitter.com/RobinhoodApp/status/1354805613566410756?ref_src=twsrc%5Etfw%7Ctwcamp%5Etweetembed%7Ctwterm%5E1354805613566410756%7Ctwgr%5E%7Ctwcon%5Es1_&amp;ref_url=https%3A%2F%2Fwww.cnet.com%2Fpersonal-finance%2Frobinhood-backlash-heres-what-you-should-know-about-the-gamestop-stock-controversy%2F"><span>Twitter</span></a></p>
<p>This turn of events immediately drew ire from those concerned with the potential for foul play, including diametrically opposed <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>political figures</span></a> like Democratic Representative Alexandria Ocasio-Cortez and Republican Senator Ted Cruz. However, many now accept the capital requirements as a plausible <a href="https://www.washingtonexaminer.com/news/the-gamestop-reddit-story-goes-beyond-us-vs-them"><span>explanation</span></a>, not the result of some orchestrated plot. Firms have to have a certain amount of capital <a href="https://reason.com/2021/02/09/why-wallstreetbets-and-bitcoiners-got-so-excited-about-gamestop/"><span>on hand</span></a> to cover trades, and Robinhood had to take action to cover the exponential increase in trading volume, at one point needing to raise <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>$3.4 billion</span></a> to cover new deposits. A forthcoming investigation of what occurred will work to ensure this explanation is valid.&nbsp;</p>
<p>In the meantime, users of such platforms can‚Äôt help but point to <a href="https://www.nbcnews.com/politics/politics-news/gamestop-story-isn-t-populist-fairy-tale-n1256623"><span>reasons for collusion</span></a>. Robinhood <a href="https://www.washingtonpost.com/business/2021/01/29/robinhood-citadel-gamestop-reddit/"><span>directs</span></a> ‚Äúmore than half of its customer orders‚Äù through Citadel Securities, a ‚Äúfinancial-services giant.‚Äù Part of Citadel came to the <a href="https://www.chicagotribune.com/business/ct-biz-gamestop-robinhood-citadel-ken-griffin-20210129-pz3ln7d6wra5rbpno7nb5rgvgm-story.html"><span>rescue of Melvin Capital</span></a> (a major fund which lost as much as $4.5 billion), and its own fund, Citadel Advisors LLC, was likely <a href="https://wallstreetonparade.com/2021/02/citadel-didnt-just-bail-out-a-gamestop-short-seller-citadel-also-had-a-big-short-position-in-gamestop/"><span>trading in GameStop itself</span></a>, according to the latest available financial reporting from September 2020. Both Robinhood and Citadel have pleaded their innocence, but retail investors see a financial system that recoiled and readjusted when common people were reaping huge profits at the expense of powerful, connected firms. (Further accusations, including that Robinhood <a href="https://www.theverge.com/2021/1/28/22254857/robinhood-gamestop-amc-shares-sold-surprised-users#:~:text=No%2C%20Robinhood%20tells%20The%20Verge,without%20permission%20from%20its%20traders.&amp;text=Quite%20a%20number%20of%20Robinhood,down%20a%20dozen%20of%20them"><span>forcibly closed</span></a> some users‚Äô positions in GME and other stocks, appear to be false or misinformed.)</p>
<p>As Wall Street firms were taking big losses, the aggrieved parties decried ‚Äú<a href="https://www.wsj.com/articles/gamestop-mania-reveals-power-shift-on-wall-streetand-the-pros-are-reeling-11611774663"><span>market manipulation</span></a>‚Äù by retail investors ‚Äî effectively suggesting that small-time investors were the ones engaging in foul play. The argument is essentially that these buyers were coordinating in such a way to collectively manipulate the value of specific stocks. Experts have since pointed out that the level of coordination likely does <a href="https://www.marketwatch.com/story/is-gamestop-stock-being-manipulated-by-social-media-users-or-is-it-free-speech-legal-experts-weigh-in-11611636278"><span>not amount</span></a> to a level of legal culpability. The discussions of retail investors more likely fall in a gray area somewhere between organized market manipulation and perfectly legal discussions, captured by non-committal sentiments like ‚Äú<a href="https://www.wsj.com/articles/we-like-the-stock-the-anatomy-of-a-meme-11612542783"><span>we like the stock</span></a>.‚Äù Furthermore, skeptics wonder how hedge funds can take issue with retail investors pursuing a strategy to shift the value of a stock when Wall Street firms regularly <a href="https://prospect.org/power/gamestop-craziness-pulls-back-curtain-on-stock-market/"><span>employ such strategies</span></a> themselves.</p>
<div><p>Another concerning source of potential foul play comes from the ability for anyone to start and fuel trends on social media platforms and forums and then use those public movements to pursue greater profits. Forums like r/WallStreetBets allow experienced and novice investors to <a href="https://www.wsj.com/articles/melvin-capital-lost-53-in-january-hurt-by-gamestop-and-other-bets-11612103117"><span>intermingle anonymously</span></a>, and there is very little clarity about who is feeding information and for what reasons. Some have argued that this leaves the door open to manipulation from large investors, many of whom are known to monitor online forums like r/WallStreetBets, or at the very least unscrupulous individuals seeking to take advantage of uninformed investors. In the last few years, several apps have even emerged that allow institutional investors to <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>monitor the trading preferences and discussions</span></a> of retail investors, helping to identify and take advantage of trends. This makes more sinister manipulation a possibility, though nothing has been verified thus far.</p></div>
<h4><strong>The House Always Wins</strong></h4>
<div><p>Focusing too much on accusations of foul play can distract from the essential details of the day. Who, in the end, made money? Forthcoming investigations will clarify who benefited the most, but evidence suggests that many of those who actually profited are likely to be firms like Senvest, who emerged with an eye-watering <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>$700 million in profit</span></a> from selling GME, not retail investors. The far more likely scenario is that more small-time investors lost money than made it, all while most big investors were leveraging their range of tools and depth of knowledge to turn a handsome profit.</p></div>
<p><img src="https://lh3.googleusercontent.com/vqTzCimciM3g9y0A5LRYQ_pGaq7zEvrJBNP98-qW5ugf-UEQkJ997ddwtopKVFiNFzl8Umq9YWI7blAbmb8MRfSGW0e5aygXc93F1CNyLoIa0sDaUfXJBIeHUP-6VIt5XrVIcXnx" width="583" height="420"></p>
<div><p>Similar short squeezes occurred with several other stocks, but GME was the most pronounced. Source: <a href="https://www.ft.com/content/04e6c524-389b-47fc-afaa-eb52c1e76048"><span>Financial Times</span></a></p></div>
<p>To begin with, the gradual growth and explosion of GME was driven not just by r/WallStreetBets followers but institutional investors who began investing in GME months ago. Senvest, for example, <a href="https://www.wsj.com/articles/this-hedge-fund-made-700-million-on-gamestop-11612390687"><span>owned 5% of the company</span></a> in October, and according to the <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><em><span>Washington Post</span></em></a>, the ‚Äúfour largest asset managers in the world together own 39 percent of GameStop shares.‚Äù Then, in a <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>flurry of activity</span></a> over three days, GME shares ‚Äúchanged hands 554 million times ‚Äî more than 11 times the number of total shares available,‚Äù including hundreds of millions of shares being traded at $200 to $300 a share. This volume of trading belies the perceived financial resources and trading rationale (buy and hold) of retail investors working through places like r/WallStreetBets, and rather suggests the hand of informed, large firms buying and selling huge numbers of shares. Simply put, the trading activity suggests that large firms were equally involved in the subsequent boom and bust as small-time investors, <a href="https://www.theguardian.com/business/2021/feb/03/david-v-goliath-narrative-in-gamestop-story-has-serious-flaws"><span>undermining</span></a> the ‚ÄúDavid vs. Goliath‚Äù narrative.</p>
<p>Thinking about the tools and financial acumen of both sides can tell us a lot about who the actual winners and losers are likely to be. On one side, we have well-informed <a href="https://www.washingtonpost.com/business/2021/02/08/gamestop-wallstreet-wealth/"><span>wealthy firms</span></a> with superior financial acumen, access to and understanding of more sophisticated financial products, and significant trading experience. On the other is a rabble of mostly new investors, enabled by the explosive growth of new trading platforms like Robinhood. These are largely teens and young adults ‚Äî the <a href="https://www.wsj.com/articles/teens-are-gambling-their-savings-on-gamestop-stock-their-parents-are-worried-11612540818"><span>average age</span></a> of users on Robinhood is just 31. A survey cited in <a href="https://www.marketwatch.com/story/losing-money-is-not-a-joke-gamestop-drama-drives-interest-in-financial-literacy-the-most-important-takeaway-of-all-11612880459"><span>MarketWatch</span></a> found ‚Äú44% of 1,600 self-directed investors in GameStop and AMC had less than a year of experience trading and another quarter had up to two year‚Äôs experience.‚Äù The <a href="https://www.vox.com/the-goods/22273192/teen-investors-gamestop-robinhood"><span>combination</span></a> of social media-driven hype, questionable crowd-sourced advice, and limited familiarity with sound investment strategies makes these investors far more likely to lose out, exemplified by users who bought in after GME shares were already worth hundreds of dollars. Robinhood is separately under fire for their <a href="https://www.cnet.com/news/even-before-gamestop-stock-frenzy-robinhood-raised-a-lot-of-red-flags/"><span>gamified trading platform</span></a>, which enables access for new investors but also exposes individuals with no trading experience to financial risk; the company is even facing a <a href="https://www.forbes.com/sites/jeffkauflin/2021/02/08/robinhood-hit-with-wrongful-death-suit-from-the-family-of-alex-kearns-alleging-customer-service-failures-and-reckless-practices/?sh=50fc57eead6d"><span>wrongful death lawsuit</span></a> after a 20-year-old user committed suicide in June 2020, fearing he owed over $700,000.</p>
<div><p>There are endless stories of the ‚Ä¶</p></div></span></p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged">https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</a></em></p>]]>
            </description>
            <link>https://blog.thefactual.com/does-gamestop-prove-the-stock-market-is-rigged</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135842</guid>
            <pubDate>Sun, 14 Feb 2021 20:17:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Distribution of JVM Desktop Applications]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 118 (<a href="https://news.ycombinator.com/item?id=26135532">thread link</a>) | @nfrankel
<br/>
February 14, 2021 | https://blog.frankel.ch/state-jvm-desktop-frameworks/6/ | <a href="https://web.archive.org/web/*/https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main"> <div> <article itemscope="" itemtype="http://schema.org/BlogPosting"> <meta itemprop="mainEntityOfPage" content="//state-jvm-desktop-frameworks/6/"> <meta itemprop="description" content="">  <figure itemscope="" itemprop="image" itemtype="http://schema.org/ImageObject"> <meta itemprop="url" content="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/tree-flower-jungle-usa-garden-mailbox-1148044-pxhere.com.jpg"> </figure> <section> <div itemprop="articleBody"> <p>The previous posts of this series focused on different frameworks to develop JVM-based applications.</p> <p>This is the 6<sup>th</sup> post in the The state of JVM desktop frameworks focus series.Other posts include:</p> <ol><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/1/" target="_blank" rel="noopener">The state of JVM desktop frameworks: introduction</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/2/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Swing</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/3/" target="_blank" rel="noopener">The state of JVM desktop frameworks: SWT</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/4/" target="_blank" rel="noopener">The state of JVM desktop frameworks: TornadoFX</a></span></li><li><span><a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/5/" target="_blank" rel="noopener">The state of JVM desktop frameworks: Jetpack Compose for Desktop</a></span></li><li><span><em>Distribution of JVM desktop applications</em> (this post)</span></li></ol> <p>Distributing applications on a couple of computers inside the same company is not an issue. A lot of products are available for automating the pushing of files onto computers. Issues might start to appear when you need to coordinate the deployment across different physical sites.</p> <p>However, the biggest problem is when computers are not known in advance: in that case, it‚Äôs not possible to push. For that reason, two decades ago, we saw a move from client-server architectures to web-based architectures.</p> <p>The remaining question is how to deploy a Java desktop application. In this post, we are going to go through some options to distribute this kind of application.</p> <div> <h2 id="applets">Applets</h2> <div> <p>While not strictly about desktop applications, I believe it‚Äôs a good idea to mention <a href="https://en.wikipedia.org/wiki/Java_applet" target="_blank" rel="noopener">applets</a> in a post about distributing Java apps.</p> <p>Applets were the first way to make Java applications available remotely. The idea was to host on a web server both bytecode (a single class or JAR) and reference it in an HTML page.</p> <div> <p>index.html</p> <div> <pre><code data-lang="html"><span>&lt;!DOCTYPE html&gt;</span>
<span>&lt;html&gt;</span>
  <span>&lt;body&gt;</span>
  <span>&lt;applet</span> <span>code=</span><span>"HelloWorld.class"</span> <span>height=</span><span>"640"</span> <span>width=</span><span>"480"</span><span>&gt;&lt;/applet&gt;</span>
  <span>&lt;/body&gt;</span>
<span>&lt;/html&gt;</span></code></pre> </div> </div> <p>Note that an applet runs client-side, thus requiring a local <abbr title="Java Runtime Environment">JRE</abbr>. It also mandates a browser plugin. Both are security concerns. That lead browser vendors to remove the support of plugins and in turn the Java team to deprecate applets in Java 9.</p> <div> <blockquote> <p>With modern browser vendors working to restrict or reduce the support of plugins like Flash, Silverlight, and Java in their products, developers of applications that rely on the Java browser plugin need to consider alternative options. Java developers currently relying on browser plugins should consider migrating from Java Applets to the plugin-free Java Web Start technology.</p> <p>Supporting Java in browsers is only possible for as long as browser vendors are committed to supporting standards-based plugins. By late 2015, many browser vendors had either removed or announced timelines for the removal of standards-based plugin support, while some are introducing proprietary browser-specific extension APIs. Consequently, Oracle is planning to deprecate the Java browser plugin in JDK 9.</p> <p>The deprecated plugin technology will be completely removed from the Oracle Java Development Kit (JDK) and Java Runtime Environment (JRE) in a future Java release TBD. Java Web Start applications do not rely on a browser plugin and will not be affected by these changes.</p> </blockquote>  </div> </div> </div> <div> <h2 id="open-web-start">Open Web Start</h2> <div> <p>After applets, the next alternative for distributing Java applications is Java Web Start. This is the canonical way for desktop applications. As a personal note, I used it more than 15 years ago with Java 1.4. This <a href="https://www.oracle.com/java/technologies/javase/jws-archive-download.html" target="_blank" rel="noopener">page</a> seems to confirm JDK 1.4.2 was the first version to provide it natively, as opposed to as a separate download. Yet, Oracle deprecated Java Web Start in JDK 9 and removed it in JDK 11.</p> <p>This left JWS users without any option. <a href="https://karakun.com/" target="_blank" rel="noopener">Karakun</a> is a company that took ownership of the project. It provides it as a separate package under the name <a href="https://openwebstart.com/" target="_blank" rel="noopener">Open Web Start</a> and the software is the same.</p> <p>To distribute an application via Open Web Start, in addition to the JAR itself, you need to provide a <abbr title="Java Network Launching Protocol">JNLP</abbr> file. This file serves as an external deployment descriptor of a sort. Features of JNLP are quite exhaustive:</p> <ul><li><span>Add a shortcut on the user‚Äôs desktop</span></li><li><span>Whether the application can run offline after you‚Äôve downloaded it</span></li><li><span>Update policies</span></li><li><span>Optional list of native libraries</span></li><li><span>etc.</span></li></ul> <p>The complete <a href="https://docs.oracle.com/javase/tutorial/deployment/deploymentInDepth/jnlpFileSyntax.html" target="_blank" rel="noopener">specifications</a> are still available on Oracle‚Äôs site.</p> <p>Let‚Äôs create a JNLP to distribute our sample Swing application:</p> <div> <p>renamer.jnlp</p> <div> <pre><code data-lang="xml"><span>&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span>&lt;jnlp</span> <span>spec=</span><span>"1.0+"</span> <span>codebase=</span><span>""</span> <span>href=</span><span>""</span><span>&gt;</span>
  <span>&lt;information&gt;</span>
    <span>&lt;title&gt;</span>File Renamer<span>&lt;/title&gt;</span>
    <span>&lt;vendor&gt;</span>Nicolas Fr√§nkel<span>&lt;/vendor&gt;</span>
    <span>&lt;offline-allowed/&gt;</span>
  <span>&lt;/information&gt;</span>
  <span>&lt;resources&gt;</span>
    <span>&lt;j2se</span> <span>version=</span><span>"11+"</span> <span>/&gt;</span>
    <span>&lt;jar</span> <span>href=</span><span>"https://path.to/archive.jar"</span>                              <i data-value="1"></i><b>(1)</b>
         <span>main=</span><span>"true"</span> <span>/&gt;</span>                                                  <i data-value="2"></i><b>(2)</b>
  <span>&lt;/resources&gt;</span>
  <span>&lt;security&gt;</span>
    <span>&lt;all-permissions</span> <span>/&gt;</span>                                                  <i data-value="3"></i><b>(3)</b>
  <span>&lt;/security&gt;</span>
  <span>&lt;application-desc</span> <span>name=</span><span>"File Renamer"</span>
                    <span>main-class=</span><span>"ch.frankel.blog.renamer.RenamerAppKt"</span> <span>/&gt;</span> <i data-value="4"></i><b>(4)</b>
  <span>&lt;update</span> <span>check=</span><span>"background"</span><span>/&gt;</span>
<span>&lt;/jnlp&gt;</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Path to the JAR</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>Flag that marks the JAR as containing the main class</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>The Renamer application reads and writes the filesystem, it requires permissions. Note that permission grant is <strong>not</strong> fine-grained. Also, permissions require you to sign the JAR.</td> </tr> <tr> <td><i data-value="4"></i><b>4</b></td> <td>Class that contains the entry-point (the <code>main</code> method)</td> </tr> </tbody></table> </div> </div> </div> <div> <h2 id="jpackage">jpackage</h2> <div> <p>While Open Web Start is not available as part of the JDK anymore, the <a href="https://docs.oracle.com/en/java/javase/14/jpackage/packaging-overview.html" target="_blank" rel="noopener"><code>jpackage</code></a> tool is. It‚Äôs included since JDK 14. As its name implies, <code>jpackage</code> allows you to create a native installer from a JAR.</p> <p>Its basic usage is straightforward:</p> <div> <div> <pre><code data-lang="bash">jpackage <span>--input</span> target <span>--main-jar</span> renamer-swing-1.0.jar    <i data-value="1"></i><b>(1)</b></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Assume a Maven project that generates the JAR in the <code>target</code> subfolder</td> </tr> </tbody></table> </div> <p>On a macOS computer, the above command creates a <code>RenamerAppKt-1.0.dmg</code> installer. It contains a macOS application with the following structure:</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jpackage-app-structure.jpg" alt="Application‚Äôs structure as created by the jpackage" width="236" height="408"></span></p> <p>The structure includes:</p> <ul><li><span>The JAR</span></li><li><span>A JRE - the one associated with the <code>jpackage</code> command that created the installer</span></li><li><span>macOS-specific files</span></li></ul> <p>While the sample JAR is 1.5 MB, the installer is more than 50 MB because of the embedded Java runtime.</p> </div> </div> <div> <h2 id="jlink">jlink</h2> <div> <p><code>jlink</code> is not a real distribution mechanism but I believe it still deserves a mention. It allows you to create a custom runtime with a dedicated launcher script for your applications. It‚Äôs part of the JDK since Java 9.</p> <p>While it can in theory <a href="https://medium.com/azulsystems/using-jlink-to-build-java-runtimes-for-non-modular-applications-9568c5e70ef4" target="_blank" rel="noopener">work with any application</a>, it shines with modularized applications. Such applications need to describe the modules they depend on in a <code>module-info.java</code>.</p> <p>The main task is to modularize the application. For our sample app, the <code>module-info.java</code> file is:</p> <div> <p>module-info.java</p> <div> <pre><code data-lang="java"><span>module</span> <span>filerenamer</span><span>.</span><span>swing</span> <span>{</span>
    <span>requires</span> <span>eventbus</span><span>;</span>                            <i data-value="1"></i><b>(1)</b> <i data-value="2"></i><b>(2)</b>
    <span>requires</span> <span>java</span><span>.</span><span>desktop</span><span>;</span>                        <i data-value="1"></i><b>(1)</b>
    <span>requires</span> <span>kotlin</span><span>.</span><span>stdlib</span><span>;</span>                       <i data-value="1"></i><b>(1)</b>
    <span>exports</span> <span>ch</span><span>.</span><span>frankel</span><span>.</span><span>blog</span><span>.</span><span>renamer</span> <span>to</span> <span>eventbus</span><span>;</span>  <i data-value="3"></i><b>(3)</b>
<span>}</span></code></pre> </div> </div> <div> <table> <tbody><tr> <td><i data-value="1"></i><b>1</b></td> <td>Declare dependent modules</td> </tr> <tr> <td><i data-value="2"></i><b>2</b></td> <td>The Greenrobot library is an unnamed module. We need to reference it via the JAR‚Äôs name.</td> </tr> <tr> <td><i data-value="3"></i><b>3</b></td> <td>Allow Greenrobot to use our classes</td> </tr> </tbody></table> </div> <p>Modularizing one‚Äôs application is pretty straightforward. But to decide whether a JDK module will make it into the final runtime, <code>jlink</code> requires to <strong>transitively analyze every dependency</strong> of the application. Yet, <a href="https://blog.frankel.ch/update-state-java-modularization/" target="_blank" rel="noopener">about 35% of the libraries</a> are neither modularized nor declare an <code>Automatic-Module-Name</code> in their <code>MANIFEST.MF</code>.</p> <p>It‚Äôs possible to add this information during one‚Äôs build even though the procedure is error-prone and boring. The description on how to achieve this deserves a post on its own. For more information, please check <a href="https://blogs.oracle.com/javamagazine/containerizing-apps-with-jlink" target="_blank" rel="noopener">this Oracle magazine article</a>. Suffice to say here that it makes heavy use of the <a href="https://github.com/moditect/moditect" target="_blank" rel="noopener">Moditect Maven plugin</a>.</p> <p>After having <a href="https://github.com/ajavageek/renamer-swing/blob/feature/jlink/pom.xml#L56-L108" target="_blank" rel="noopener">configured the POM</a>, packaging the Renamer Swing application yields a folder that contains a runnable launcher script and the necessary modules from the JDK.</p> <p><span><img src="https://blog.frankel.ch/assets/resources/state-jvm-desktop-frameworks/jlink-output.jpg" alt="Output of jlink" width="184" height="288"></span></p> <p>The folder size is around 86MB. By using <code>gzip</code>, you can reduce the size to about a 30MB archive that you can distribute.</p> <p>Note that it will require users to decompress the archive and to know which script to launch, though.</p> </div> </div> <div> <h2 id="other-candidates">Other candidates</h2> <div> <p>Here are some other candidates that I discovered while researching this post. Note that I have experience with none of them but it might be useful for some of you.</p> <ul><li><span>Oracle introduced <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/packager.html" target="_blank" rel="noopener"><code>javapackager</code></a> in Java 8. <code>javapackager</code> is the ancestor of <code>jpackage</code> and is now superseded by the latter.</span><div> <blockquote> <p>The Java Packager tool can be used to compile, package, sign, and deploy Java and JavaFX applications from the command line. It can be used as an alternative to an Ant task or building the applications in an IDE.</p> </blockquote> </div></li><li><span><a href="https://github.com/edvin/fxlauncher" target="_blank" rel="noopener">FXLauncher</a> is both a launcher and an auto-updater that focuses solely on JavaFX applications.</span><p>FXLauncher is released under the Apache License 2.0.</p></li><li><span><a href="http://launch4j.sourceforge.net/" target="_blank" rel="noopener">Launch4J</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Launch4j is a cross-platform tool for wrapping Java applications distributed as jars in lightweight Windows native executables. The executable can be configured to search for a certain JRE version or use a bundled one, and it‚Äôs possible to set runtime options, like the initial/max heap size. The wrapper also provides a better user experience through an application icon, a native pre-JRE splash screen, and a Java download page in case the appropriate JRE cannot be found.</p> </blockquote> </div> <p>Launch4J is released under the BSD 3-Clause License but has not seen any release since 2017.</p> </div> </div> <ul><li><span><a href="https://github.com/libgdx/packr" target="_blank" rel="noopener">packr</a>:</span></li></ul> <div> <div> <div> <blockquote> <p>Packages your JAR, assets, and a JVM for distribution on Windows, Linux, and macOS, adding a native executable file to make it appear like a native app. Packr is most suitable for GUI applications, such as games made with libGDX.</p> <p>packr is released under the Apache License 2.0.</p> </blockquote> </div> </div> </div> <ul><li><span><a href="https://www.ej-technologies.com/products/install4j/overview.html" target="_blank" rel="noopener">Install4J</a>:</span></li></ul> <div> <blockquote> <p>install4j is a powerful multi-platform Java installer builder that generates native installers and application launchers for Java applications.</p> </blockquote> </div> <p>install4J is a proprietary product.</p> </div> </div> <div> <h2 id="conclusion">Conclusion</h2> <div> <p>In this post, we browsed through several options to distribute our Java desktop applications:</p> <ul><li><span>Open Web Start is an option based on the former Java Web Start. Users need to install the software on their system so they can execute JNLP files. Noteworthy features include auto-updating and offline mode.</span></li><li><span>JDK includes <code>jpackage</code>. It allows you to create installers that wrap both the JAR and a JRE.</span></li><li><span><code>jlink</code> is also included in the JDK. Instead of creating installers, it ‚Ä¶</span></li></ul></div></div></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.frankel.ch/state-jvm-desktop-frameworks/6/">https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</a></em></p>]]>
            </description>
            <link>https://blog.frankel.ch/state-jvm-desktop-frameworks/6/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135532</guid>
            <pubDate>Sun, 14 Feb 2021 19:45:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tesla Gigafactory Berlin is now connected with Starlink satellite internet]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135480">thread link</a>) | @CarCooler
<br/>
February 14, 2021 | https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-8610">
	
	<!-- .cover-header -->

	<div id="post-inner">

		<div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>Development and construction work at the Tesla Gigafactory Berlin is progressing at a phenomenal pace (latest video below). Several observers of this massive car manufacturing plant in Brandenburg, Germany have been video documenting the development activities since day 1.</p>



<p>Just last week, a SpaceX Starlink satellite internet dish was spotted at the roof of Giga Berlin for the first time, suggesting Tesla has started using Starlink internet service at the factory. Local Giga Berlin observer Tobias Lindh shared the following photos of the <a href="https://www.teslaoracle.com/tag/starlink/">Starlink</a> receiver dish at <a href="https://www.teslaoracle.com/tag/giga-berlin/">Giga Berlin</a> in a tweet.</p>



<figure></figure>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>‚Äì Sponsored ‚Äì</figcaption></figure></div>



<p>Although one dish receiver cannot cater to the needs of the entire plant, this dish is placed above the temporary containers which are currently used as office space for the developing Gigafactory.</p>



<p><a href="https://www.teslaoracle.com/topic/spacex/">SpaceX</a> is creating a low earth orbit (LEO) constellation of Starship satellites and is constantly launching Falcon 9 missions for the purpose. The Starlink website describes the beta state of this service as follows:</p>



<blockquote><p>Starlink is now delivering initial beta service both domestically and internationally, and will continue expansion to near-global coverage of the populated world in 2021.</p><p>During beta, users can expect to see data speeds vary from 50Mb/s to 150Mb/s and latency from 20ms to 40ms in most locations over the next several months as we enhance the Starlink system. There will also be brief periods of no connectivity at all.</p><p>As we launch more satellites, install more ground stations, and improve our networking software, data speed, latency, and uptime will improve dramatically.</p><cite><a href="https://www.starlink.com/" target="_blank" rel="noreferrer noopener">Source Link</a></cite></blockquote>



<p>Unboxing of the Starlink ‚ÄòDishy Mc Flat Face (<a href="#DishyMcFlatFace" target="_blank" rel="noreferrer noopener nofollow">#DishyMcFlatFace</a>)‚Äô as Elon Musk likes to call it, can be seen in the following video by Tesla/SpaceX influencer Viv as she received her set last month.</p>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<figure></figure>



<p>SpaceX is not only expanding the Starlink constellation but also is upgrading the system along the way. With the satellite launch last month, SpaceX sent the new <a href="https://www.teslaoracle.com/2021/01/25/spacx-record-143-satellites-laser-starlinks/">laser-linked Starlinks to the polar orbit</a>.</p>



<p>It has been cold and snowy days at the Giga Berlin for the last few weeks, in the latest drone video from today, the factory is still covered with snow all around. It‚Äôs a white majestic view worth a look. What‚Äôs more interesting is <a href="https://www.teslaoracle.com/2021/02/02/gigafactory-berlin-filled-graffiti-art-elon-musk/">Elon Musk wants Giga Berlin to be filled with graffiti art</a>.</p>



<p>Stay tuned for constant Tesla updates, follow us on:&nbsp;<br><a href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank" rel="noreferrer noopener">Google News</a>&nbsp;|&nbsp;<a href="https://flipboard.com/@TeslaOracle" target="_blank" rel="noreferrer noopener nofollow">Flipboard</a>&nbsp;|&nbsp;<a href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank" rel="noreferrer noopener nofollow">RSS (Feedly)</a>.</p>



<figure><div>
<amp-youtube data-videoid="KbNXbw1zn3g" layout="responsive" width="16" height="9" title="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><a placeholder="" href="https://www.youtube.com/watch?v=KbNXbw1zn3g"><amp-img src="https://i.ytimg.com/vi/KbNXbw1zn3g/hqdefault.jpg" layout="fill" object-fit="cover" alt="Giga Berlin | 2021-02-13 | Cold Days" i-amphtml-layout="fill"></amp-img></a></amp-youtube>
</div></figure>
		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div><!-- .entry-content -->
		
		<!-- .post-meta-wrapper -->

		<div>
	<!-- .author-name -->
	<div>
		<p>Iqtidar has been writing about Tesla, Elon Musk, and EVs for more than 3 years on XAutoWorld.com, many of his articles have been republished on CleanTechnica and InsideEVs, maintains a healthy relationship with the Tesla community across the Social Media sphere.</p>
		<p><a href="https://www.teslaoracle.com/author/iqtidarali/" rel="author">
			View Archive 		</a>
	</p></div><!-- .author-description -->
</div><!-- .author-bio -->

	</div><!-- .post-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2021/02/14/tesla-gigafactory-berlin-starlink-satellites/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135480</guid>
            <pubDate>Sun, 14 Feb 2021 19:40:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hardware for Deep Learning. Part 2: CPU ‚Äì By Grigory Sapunov ‚Äì Intento]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135352">thread link</a>) | @ai_ja_nai
<br/>
February 14, 2021 | https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af | <a href="https://web.archive.org/web/*/https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><p><a href="https://moocaholic.medium.com/?source=post_page-----b91f53cb18af--------------------------------" rel="noopener"><img alt="Grigory Sapunov" src="https://miro.medium.com/fit/c/96/96/1*fTggKeGD_XK_nO-qyW3zLw.jpeg" width="48" height="48"></a></p></div></div></div></div><p id="9cc3">This is a part on CPUs in a series ‚ÄúHardware for Deep Learning‚Äù.</p><p id="5ec7">The contents of the series <a href="https://medium.com/@moocaholic/hardware-for-deep-learning-current-state-and-trends-51c01ebbb6dc" rel="noopener">is here</a>.</p><ul><li id="a152"><a href="https://medium.com/p/b91f53cb18af#cd6d" rel="noopener">x86 Family</a></li><li id="8481">‚Äî <a href="#8b17" rel="noopener">Processors, cores, threads, instructions</a></li><li id="4121">‚Äî <a href="#0ac9" rel="noopener">Libraries, etc</a></li><li id="3021">‚Äî <a href="#2bdf" rel="noopener">PCI Express</a></li><li id="2f79">‚Äî <a href="#754e" rel="noopener">Memory</a></li><li id="64ff">‚Äî <a href="#f06d" rel="noopener">Xeon Phi</a></li><li id="397d"><a href="#f2c2" rel="noopener">ARM</a></li><li id="fa24"><a href="#971f" rel="noopener">POWER9</a></li><li id="dcd8"><a href="#c8c7" rel="noopener">RISC-V</a></li><li id="403f"><a href="#7107" rel="noopener">Others</a></li><li id="51bb"><a href="#4fa3" rel="noopener">Conclusions</a></li><li id="c3af"><a href="#39aa" rel="noopener">Release Notes</a></li></ul><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2176/1*XnssY1prbDV7BdUp6PLRIQ.jpeg" width="1088" height="505" srcset="https://miro.medium.com/max/552/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 276w, https://miro.medium.com/max/1104/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 552w, https://miro.medium.com/max/1280/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 640w, https://miro.medium.com/max/1400/1*XnssY1prbDV7BdUp6PLRIQ.jpeg 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*XnssY1prbDV7BdUp6PLRIQ.jpeg?q=20"></p></div></div></div></figure><h2 id="8b17">Processors, cores, threads, instructions</h2><p id="5db4"><strong>CPUs are Central Processing Units</strong>, the ordinary processors we got used to. They are typically multi-core even on the desktop market (usually from <strong>2 to 10 cores</strong> in modern Core i3-i9 Intel CPUs, but <strong>up to 18 cores/36 threads </strong>in high-end Intel CPUs like <a href="https://ark.intel.com/products/126699/Intel-Core-i9-7980XE-Extreme-Edition-Processor-24_75M-Cache-up-to-4_20-GHz" rel="noopener">i9‚Äì7980XE</a>, <a href="https://ark.intel.com/content/www/us/en/ark/products/189126/intel-core-i9-9980xe-extreme-edition-processor-24-75m-cache-up-to-4-50-ghz.html" rel="noopener">i9‚Äì9980XE</a> or <a href="https://ark.intel.com/content/www/us/en/ark/products/198017/intel-core-i9-10980xe-extreme-edition-processor-24-75m-cache-3-00-ghz.html" rel="noopener">i9‚Äì10980XE</a>, <strong>and up to 32 cores/64 threads</strong> in <a href="https://www.amd.com/en/products/ryzen-threadripper" rel="noopener">AMD Ryzen Threadripper</a>).</p><p id="4ec7">On the server market there are Intel Xeon/AMD <a href="http://www.zdnet.com/article/amds-epyc-server-chips-beat-intel-xeon-2-socket-performance-at-every-price-point/" rel="noopener">EPYC</a>, usually having more cores (<strong>56 cores/112 threads</strong> in <a href="https://ark.intel.com/content/www/us/en/ark/products/194146/intel-xeon-platinum-9282-processor-77m-cache-2-60-ghz.html" rel="noopener">Intel Xeon Platinum 9282</a> or <strong>64 cores/128 threads</strong> in <a href="https://www.amd.com/en/products/cpu/amd-epyc-7742" rel="noopener">AMD EPYC 7742</a>) and some other useful capabilities (supporting more RAM, multi-processor configurations, ECC, etc).</p><p id="5164"><strong><em>CPUs are NOT the current workhorses for DL</em></strong><em>. </em>GPUs have much more specialized cores (up to 5120 in the latest NVIDIA Volta V100 GPUs), and matrix operations (which is DL is mostly about at the low level) are parallelized much better on GPUs.</p><p id="d778">There are some attempts to use clusters of CPUs for DL (like <a href="https://software.intel.com/en-us/articles/bigdl-distributed-deep-learning-on-apache-spark" rel="noopener">BigDL from Intel</a>), optimizing DL libraries for CPUs (<a href="https://github.com/HazyResearch/CaffeConTroll" rel="noopener">Caffe con Troll</a>) and do other hacks (see ‚Äú<a href="https://research.google.com/pubs/pub37631.html" rel="noopener">Improving the speed of neural networks on CPUs</a>‚Äù), but they do not look very promising right now, and can only be useful if you already have a cluster of machines without GPUs.</p><p id="c9d8">Among interesting results there is a November 2017 paper called ‚Äú<a href="https://arxiv.org/abs/1709.05011" rel="noopener"><em>ImageNet Training in Minutes</em></a>‚Äù finished the 100-epoch ImageNet training with AlexNet in 11 minutes on 1024 CPUs. There is an Intel‚Äôs article ‚Äú<a href="https://software.intel.com/en-us/articles/intel-processors-for-deep-learning-training" rel="noopener">Intel Processors for Deep Learning Training</a>‚Äù exploring the main factors contributing to record-setting speed including 1) The compute and memory capacity of Intel Xeon Scalable processors; 2) Software optimizations in the Intel Math Kernel Library for Deep Neural Networks (Intel MKL-DNN) and in the popular deep learning frameworks; 3) Recent advancements in distributed training algorithms for supervised deep learning workloads.</p><p id="9593">In July 2017, Intel launched the <strong>Intel Xeon Scalable</strong> processor family built on 14nm process technology. The Intel Xeon Scalable processors can support up to <strong>28 physical cores (56 threads) per socket (up to 8 sockets)</strong> at 2.50 GHz processor base frequency and 3.80 GHz max turbo frequency, and six memory channels with up to 1.5 TB of 2,666 MHz DDR4 memory. Recommended Customer Price for <a href="https://ark.intel.com/products/120496/Intel-Xeon-Platinum-8180-Processor-38_5M-Cache-2_50-GHz" rel="noopener">Xeon Platinum 8180</a> Processor (28-core) is near $10009.</p><p id="2633">Intel introduced <a href="https://www.intel.com/content/www/us/en/architecture-and-technology/avx-512-overview.html" rel="noopener"><strong>AVX-512 instructions</strong></a>, available on the latest Xeon Phi (see below) and Skylake-X CPUs, including the Core-X series (excluding the Core i5‚Äì7640X and Core i7‚Äì7740X), as well as the new <a href="https://www.intel.com/content/www/us/en/products/processors/xeon/scalable.html" rel="noopener">Xeon Scalable Processor Family</a> and Xeon D-2100 Embedded Series. See <a href="https://en.wikipedia.org/wiki/AVX-512#CPUs_with_AVX-512" rel="noopener">the list of CPUs with AVX-512 here</a>.</p><p id="c9bc">Intel AVX-512 is a set of new instructions that can accelerate performance for heavy computational workloads including deep learning. Here is a <a href="https://software.intel.com/sites/default/files/managed/db/92/Lower-Numerical-Precision-Deep-Learning-Jan2018.pdf" rel="noopener">January 2018 whitepaper</a> with details on how the 512-bit wide Fused Multiply Add (FMA) core instructions, part of the AVX-512, accelerate deep learning by enabling lower-precision operations (more on lower precision computations in the next part of the series dedicated to GPUs).</p><p id="fcc8"><strong><em>Sep 26, 2019 update: </em></strong><em>Among interesting instructions in the AVX-512 are the new set of Intel AVX-512 instructions called </em><a href="https://en.wikichip.org/wiki/x86/avx512vnni" rel="noopener"><em>Vector Neural Network Instructions (AVX512 VNNI)</em></a><em> designed to accelerate convolutional neural network-based algorithms. There are four instructions for integer multiply-and-add present in the Intel Xeon Scalable CPUs </em><a href="https://en.wikipedia.org/wiki/AVX-512#CPUs_with_AVX-512" rel="noopener"><em>since 2019</em></a><em>.</em></p><p id="ff56"><em>This VNNI feature along with the </em><a href="https://en.wikichip.org/wiki/brain_floating-point_format" rel="noopener"><em>Brain floating-point format</em></a><em> are parts of what Intel is calling </em><a href="https://en.wikichip.org/wiki/intel/dl_boost" rel="noopener"><em>DL Boost</em></a><em> (deep learning boost), a set of technologies designed for inference acceleration.</em></p><p id="49f8"><em>DL Boost is not limited by the Xeon family. This technology will be present in the year 2019+ 10th Gen </em><a href="https://pcper.com/2019/05/intel-ice-lake-gen11-graphics/" rel="noopener"><em>Ice Lake processors</em></a><em>, including </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197120/intel-core-i7-1060g7-processor-8m-cache-up-to-3-80-ghz.html" rel="noopener"><em>Core-i7</em></a><em>, </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197121/intel-core-i5-1030g4-processor-6m-cache-up-to-3-50-ghz.html" rel="noopener"><em>i5</em></a><em>, and even </em><a href="https://ark.intel.com/content/www/us/en/ark/products/197122/intel-core-i3-1000g1-processor-4m-cache-up-to-3-20-ghz.html" rel="noopener"><em>i3</em></a><em>.</em></p><p id="a009"><em>Here is </em><a href="https://www.anandtech.com/show/14466/intel-xeon-cascade-lake-vs-nvidia-turing" rel="noopener"><em>a recent comparison</em></a><em> of an Intel CPU with DL Boost and NVIDIA Turing GPU </em><a href="https://click.linksynergy.com/fs-bin/click?id=n3ELiYcpLgk&amp;offerid=695438.16&amp;type=3&amp;subid=0" rel="noopener"><em>Titan RTX</em></a><em> performed on different AI tasks.</em></p><p id="850d"><a href="https://www.intel.ai/vnni-enables-inference/" rel="noopener"><em>More</em></a><em> technical details on VNNI instructions.</em></p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3628/1*0294VyIyQIEic4HstV-38w.png" width="1814" height="1357" srcset="https://miro.medium.com/max/552/1*0294VyIyQIEic4HstV-38w.png 276w, https://miro.medium.com/max/1104/1*0294VyIyQIEic4HstV-38w.png 552w, https://miro.medium.com/max/1280/1*0294VyIyQIEic4HstV-38w.png 640w, https://miro.medium.com/max/1400/1*0294VyIyQIEic4HstV-38w.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*0294VyIyQIEic4HstV-38w.png?q=20"></p></div></div></div><figcaption><a href="https://conferences.oreilly.com/artificial-intelligence/ai-ny-2019/public/schedule/detail/75131" rel="noopener"><em>More on Intel DL Boost</em></a><em>.</em></figcaption></figure><p id="3105">AMD supports <a href="https://www.reddit.com/r/Amd/comments/6o1tym/ryzen_and_lack_fo_avx_256512/" rel="noopener">AVX-256</a>, but does not support larger vectors. More details on AMD vector instructions <a href="http://www.agner.org/optimize/blog/read.php?i=838" rel="noopener">here</a> and <a href="https://www.anandtech.com/show/10578/amd-zen-microarchitecture-dual-schedulers-micro-op-cache-memory-hierarchy-revealed" rel="noopener">here</a>.</p><h2 id="0ac9">Libraries, etc</h2><p id="422c">Intel also provides a <a href="https://software.intel.com/en-us/inference-engine-devguide-introduction" rel="noopener">Deep Learning Inference Engine</a>, a part of <a href="https://software.intel.com/en-us/dl-deployment-tool-installguide" rel="noopener">Deep Learning Deployment Toolkit</a>. <a href="https://software.intel.com/en-us/inference-engine-devguide-introduction" rel="noopener">The current version of the Inference Engine supports inference</a> of multiple image classification networks, including AlexNet, GoogLeNet, VGG and ResNet families of networks, fully convolutional networks like FCN8 used for image segmentation, and object detection networks like Faster R-CNN. It seems no RNN supported. The Engine supports Caffe, TensorFlow, MXNet.</p><p id="ea22">The current version of the Inference Engine supports inference on Xeon with AVX2 and AVX512, Core Processors with AVX2, Atom Processors with SSE, Intel HD Graphics, Arria A10 FPGA discrete cards. The Inference Engine can inference models in the FP16 and FP32 format (but support depends on configuration).</p><p id="6a9c">Intel also provides <a href="https://software.intel.com/en-us/articles/boosting-deep-learning-training-inference-performance-on-xeon-and-xeon-phi" rel="noopener">recipes on system-level optimizations</a> (targeting Xeon and Xeon Phi processors) allowing without a single line of code change in the framework, to boost the performance for deep learning training by up to 2X and inference by up to 2.7X on top of the current software optimizations available from TensorFlow and Caffe. <a href="https://ai.intel.com/accelerating-deep-learning-training-inference-system-level-optimizations/" rel="noopener">More popular</a> on it.</p><p id="c915">And here is an Intel presentation from March 2017, called ‚Äú<a href="https://indico.cern.ch/event/595059/contributions/2499304/attachments/1430242/2196659/Intel_and_ML_Talk_HansPabst.pdf" rel="noopener">Intel and ML</a>‚Äù.</p><p id="57d5"><strong><em>Sep 26, 2019 update: </em></strong><em>Intel DL Boost technology can be used with modern DL frameworks for converting a pre-trained FP32 model to a quantized INT8 model. </em><a href="https://www.intel.ai/increasing-ai-performance-intel-dlboost/" rel="noopener"><em>Here</em></a><em> you can find links related to TensorFlow, PyTorch, MXNet and other frameworks.</em></p><p id="5f4f"><strong><em>Jan 19, 2020 update: </em></strong><em>as of the end of 2019 there is a set of libraries for DL on CPU:</em></p><ul><li id="1921"><a href="https://github.com/intel-analytics/BigDL" rel="noopener">BigDL</a>: distributed deep learning library for Apache Spark</li><li id="86ba"><a href="https://intel.github.io/mkl-dnn/" rel="noopener">DNNL 1.2.0</a>, Deep Neural Network Library. The library includes basic building blocks for neural networks optimized for Intel Architecture Processors and Intel Processor Graphics.</li><li id="d3ee"><a href="https://docs.openvinotoolkit.org/" rel="noopener">OpenVINO Toolkit</a> for computer vision based on CNNs.</li><li id="cc1a"><a href="https://github.com/plaidml/plaidml" rel="noopener">PlaidML</a>, advanced and portable tensor compiler for enabling deep learning on laptops, embedded devices, or other devices. <br>Supports Keras, ONNX, and nGraph.</li><li id="5259"><a href="https://github.com/intel/caffe" rel="noopener">Intel Caffe</a> (optimized for Xeon).</li><li id="da0f"><a href="https://github.com/HazyResearch/CaffeConTroll" rel="noopener">Caffe Con Troll</a> (research project, with the latest commit in 2016) seems to be dead.</li><li id="b567"><a href="https://www.intel.ai/increasing-ai-performance-intel-dlboost/" rel="noopener">Intel DL Boost</a> can be used in many popular frameworks:<br>TensorFlow, PyTorch, MXNet, PaddlePaddle, Intel Caffe.</li><li id="adf9"><a href="https://www.ngraph.ai/" rel="noopener">nGraph</a>, an end to end deep learning graph compiler for inference and training with extensive framework and hardware support.</li></ul><p id="141c">Looking wider, graph compilers became the hot topic now, bot in TensorFlow and PyTorch ecosystems. Watch especially for <a href="https://www.tensorflow.org/mlir/overview" rel="noopener">MLIR project</a> from Chris Lattner (the author of LLVM and Swift, now in TensorFlow team).</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2812/0*IYz3kLdtPiczh1VL" width="1406" height="612" srcset="https://miro.medium.com/max/552/0*IYz3kLdtPiczh1VL 276w, https://miro.medium.com/max/1104/0*IYz3kLdtPiczh1VL 552w, https://miro.medium.com/max/1280/0*IYz3kLdtPiczh1VL 640w, https://miro.medium.com/max/1400/0*IYz3kLdtPiczh1VL 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*IYz3kLdtPiczh1VL?q=20"></p></div></div></div><figcaption>Graph compilers in TF ecosystem: wider view</figcaption></figure></div></div></section><section><div><div><p id="871c">Keeping in mind that current DL systems are mostly built using GPUs (see the next section), CPU is still an indispensable part of them, and the requirements to CPU are shifted towards better fit to such systems.</p><p id="dfd1"><strong>Number of cores</strong> is no more the main parameter, but you still need enough #Cores, which is at least as much as #GPUs you have. Among other important characteristics are #PCIe lanes, and memory speed.</p><h2 id="2bdf">PCI Express</h2><p id="eb28">You need to transfer data between CPU host memory and GPU memory. In most x86 systems this is done using PCI Express bus (PCIe).</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3200/0*HHZrnomProonnwoo" width="1600" height="900" srcset="https://miro.medium.com/max/552/0*HHZrnomProonnwoo 276w, https://miro.medium.com/max/1104/0*HHZrnomProonnwoo 552w, https://miro.medium.com/max/1280/0*HHZrnomProonnwoo 640w, https://miro.medium.com/max/1400/0*HHZrnomProonnwoo 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*HHZrnomProonnwoo?q=20"></p></div></div></div></figure><p id="3555">There are different revisions of PCIe, v3 is the most common now.</p><p id="8c58"><strong>PCIe v.3</strong> allows for 985 MB/s per 1 lane, so <strong>15.75 GB/s</strong> for x16 links.</p><p id="f74b"><strong>PCIe v.4</strong> is twice faster, so <strong>31.51 GB/s</strong> for x16 (supported in X570 chipset for AMD and Radeon cards)</p><p id="6b68"><strong>PCIe v.5</strong> is twice faster again (spec is released, no products expected before 2020), so <strong>63 GB/s</strong> for x16.</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1944/0*qFAEc64BJXumprcM" width="972" height="346" srcset="https://miro.medium.com/max/552/0*qFAEc64BJXumprcM 276w, https://miro.medium.com/max/1104/0*qFAEc64BJXumprcM 552w, https://miro.medium.com/max/1280/0*qFAEc64BJXumprcM 640w, https://miro.medium.com/max/1400/0*qFAEc64BJXumprcM 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*qFAEc64BJXumprcM?q=20"></p></div></div></div><figcaption><a href="https://devblogs.nvidia.com/nvlink-pascal-stacked-memory-feeding-appetite-big-data/" rel="noopener">https://devblogs.nvidia.com/nvlink-pascal-stacked-memory-feeding-appetite-big-data/</a></figcaption></figure><p id="cd21">What about the <strong>number of PCI Express lanes</strong>, the typical GPU card works in <strong>x16</strong> mode, but may work in <strong>x8 </strong>or <strong>x4 </strong>mode as well at lower speed.</p><p id="ffa9">It means that to support several GPU cards at the full speed your processor have to support a proportional number of PCIe lanes. For example, if you are using 2 NVIDIA GTX 1080 Ti cards, both in x16 mode, then your system have to support at least 32 PCIe lanes, better more (because you have the chipset and periphery, like SSD M.2, using PCIe as well).</p><p id="212d">The caveat here is that many Intel processors support less than that number of PCIe lanes (28 for <a href="https://ark.intel.com/products/123767/Intel-Core-i7-7820X-X-series-Processor-11M-Cache-up-to-4_30-GHz" rel="noopener">Core i7‚Äì7820X</a> or even 16 as in the case of <a href="https://ark.intel.com/products/97129/Intel-Core-i7-7700K-Processor-8M-Cache-up-to-4_50-GHz" rel="noopener">Core i7-7700K</a> or <a href="https://ark.intel.com/products/126684/Intel-Core-i7-8700K-Processor-12M-Cache-up-to-4_70-GHz" rel="noopener">i7‚Äì8700K</a> processor). In such a case some of your GPUs work in x8 mode, so decreasing the speed of exchange between system and GPU memory. So, be careful.</p><p id="9f66">A good option here could be an old one Core i7‚Äì6850K processor with 40 PCIe lanes or a new one AMD Ryzen Threadripper with even <a href="https://www.guru3d.com/articles-pages/amd-ryzen-threadripper-1950x-review,4.html" rel="noopener">64 PCIe lanes</a>. Some people prefer Xeons or looking at EPYCs (<a href="https://www.amd.com/en/products/epyc-7000-series" rel="noopener">128 lane</a>s), and they will probably be the main option if you‚Äôll build the system with, say, 4+ GPUs (and a typical ATX motherboard doesn‚Äôt help here as well, but there exist special solutions).</p><p id="2081">As a short summary:</p><ul><li id="7dec">Typical Intel mainstream desktop processor has <strong>16</strong> PCIe lanes (e.g. i7‚Äì7700K, i7‚Äì8700K or even i9‚Äì9900K processor).</li><li id="5e58">High-end desktop (HEDT) processor has 28 to 44 lanes (e.g. i7‚Äì7820X has <strong>28</strong>, rather old i7‚Äì6850K has <strong>40</strong>, i9‚Äì9980XE has <strong>44</strong>, upcoming i9‚Äì10940X and higher will have <strong>48</strong>).</li><li id="b7a8">Xeons have up to <strong>64</strong> lanes (PCIe v.3).</li><li id="be5f">AMD Ryzen Threadripper has <strong>64</strong> PCIe lanes, EPYC has <strong>128</strong> lanes (PCIe v.4)</li><li id="f796"><em>Be careful: Intel sometimes uses ‚Äú</em><a href="https://www.anandtech.com/show/11839/intel-core-i9-7980xe-and-core-i9-7960x-review/4" rel="noopener"><em>Platform PCIe lanes</em></a><em>‚Äù, it is CPU+PCH, but the PCH ones have a shared uplink!</em></li><li id="7d7e">Always check specs at <a href="https://ark.intel.com/" rel="noopener">https://ark.intel.com/</a></li></ul><p id="7f76">More <a href="https://www.microway.com/hpc-tech-tips/common-pci-express-myths-gpu-computing/" rel="noopener">about PCIe lanes</a>.</p><p id="19e6">One number I found regarding x8/x16 modes is that in the case of x16‚Üíx8 switching, ‚Äú<em>performance decrease is much lower than 10% for most tasks/networks.</em>‚Äù [<a href="https://twitter.com/Tim_Dettmers/status/932654049874382848" rel="noopener">source</a>]</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2000/0*f1bVaxPQNSiWv4Gs" width="1000" height="255" srcset="https://miro.medium.com/max/552/0*f1bVaxPQNSiWv4Gs 276w, https://miro.medium.com/max/1104/0*f1bVaxPQNSiWv4Gs 552w, https://miro.medium.com/max/1280/0*f1bVaxPQNSiWv4Gs 640w, https://miro.medium.com/max/1400/0*f1bVaxPQNSiWv4Gs 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*f1bVaxPQNSiWv4Gs?q=20"></p></div></div></div></figure><p id="4ef4">If you find any other comprehensive benchmark regarding x8/x16 modes, let me know.</p><h2 id="754e">Memory</h2><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/2354/0*eNRQiSRGux_gGz4j" width="1177" height="843" srcset="https://miro.medium.com/max/552/0*eNRQiSRGux_gGz4j 276w, https://miro.medium.com/max/1104/0*eNRQiSRGux_gGz4j 552w, https://miro.medium.com/max/1280/0*eNRQiSRGux_gGz4j 640w, https://miro.medium.com/max/1400/0*eNRQiSRGux_gGz4j 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/0*eNRQiSRGux_gGz4j?q=20"></p></div></div></div></figure><p id="ff7d">Another important dimension is a <strong>memory configuration</strong>. It includes both the memory speed (i.e. <a href="https://en.wikipedia.org/wiki/DDR4_SDRAM" rel="noopener">DDR4‚Äì3200 could be twice as fast as DDR4‚Äì1600</a>), and the multi-channel ‚Ä¶</p></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af">https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af</a></em></p>]]>
            </description>
            <link>https://blog.inten.to/cpu-hardware-for-deep-learning-b91f53cb18af</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135352</guid>
            <pubDate>Sun, 14 Feb 2021 19:27:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How To Speed up Docker on macOS by 100% or more]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135217">thread link</a>) | @DanHulton
<br/>
February 14, 2021 | https://nodewood.com/blog/how-to-speed-up-docker-on-macos/ | <a href="https://web.archive.org/web/*/https://nodewood.com/blog/how-to-speed-up-docker-on-macos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://nodewood.com/blog/content/images/size/w300/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 300w,
                            https://nodewood.com/blog/content/images/size/w600/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 600w,
                            https://nodewood.com/blog/content/images/size/w1000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 1000w,
                            https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://nodewood.com/blog/content/images/size/w2000/2021/02/marc-olivier-jodoin-NqOInJ-ttqM-unsplash.jpg" alt="How To Speed up Docker on MacOS by 100% or more">
            </figure>

            <section>
                <div>
                    <p>Docker on MacOS will always be slower than on Linux (well, unless Apple Silicon ends up panning out, which it looks like it might!), but it doesn't have to be as <em>infuriatingly slow</em> as it is by default. &nbsp;In fact, you can get it pretty close to native speed and it's not even all that difficult. &nbsp;It turns out that developing with Docker on MacOS can actually be a really enjoyable experience, not just a compromise you make in order to have a portable development environment.</p><p>The problem is that the default file sync strategy that Docker on MacOS uses is <em>garbage.</em> &nbsp;Sure, it's consistent and compatible, but it's just about the slowest possible option you could go with. &nbsp;As your Docker app runs, it reads and changes files across that sync, which means that every file access slows down your application a little bit more. &nbsp;Compounded, that means that even your average runs are <em>bitterly slow</em>.</p><p>Enter Mutagen. &nbsp;Mutagen does a lot of things and is a very interesting technology in general, but what we're primarily interested in is how it can perform lightning-quick syncs between your local computer and a Docker volume. &nbsp;How fast is it? &nbsp;Well, the title of this article isn't hyperbole, in fact, it's underselling things. &nbsp;My Jest test suite went from taking 73.5 seconds to run to only taking 22.9 seconds (on average).</p><p>So now that we know what the problem is and what the solution is, let's fix Docker on MacOS.</p><p>First, you have to install Mutagen, and as of the writing of this article, you need to install a beta release. &nbsp;We need version 0.12.0 or higher, since that's the version that starts supporting <code>mutagen compose</code> (which we'll get to in a minute). &nbsp;There should be fairly low risk from this, though, since Mutagen's own website says:</p><blockquote><a href="https://mutagen.io/documentation/introduction/installation#development-channels">Beta channel releases are fairly stable and can be thought of as something akin to release candidates.</a></blockquote><p>To install Mutagen and start the sync daemon, first, make sure you have <a href="https://brew.sh/">Homebrew</a> installed, and then:</p><pre><code>$ brew install mutagen-io/mutagen/mutagen-beta
$ mutagen daemon start</code></pre><p>Next, you'll need to modify your <code>docker-compose.yml</code> file to define the sync that Mutagen will spin up. &nbsp;Assume your current <code>volumes</code> entry for a container looks like:</p><pre><code>    volumes:
      - .:/code</code></pre><p>You'll want to create a new section at the bottom of your file with an <code>x-mutagen</code> configuration. &nbsp;<code>mutagen compose</code> will read that and build your sync from the options you set there:</p><pre><code>x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    mount-code:
      alpha: "."
      beta: "volume://mount-code"</code></pre><p><code>alpha</code> is where you're syncing <em>from</em>, and <code>beta</code> is the sync mount point that Mutagen will create. &nbsp;Also of note is the <code>two-way-resolve</code> sync mode we're using. &nbsp;<a href="https://mutagen.io/documentation/synchronization#modes">Mutagen has great documentation on how its synchronization modes work</a>, but in short, we're using the mode that prioritizes host files. &nbsp;Since this is development and the files on the host system are the canonical ones anyway, this is safe and prevents conflicts that have to be manually resolved.</p><p>Finally, we have to update our <code>volumes</code> entry to use the new mount point:</p><pre><code>    volumes:
      - mount-code:/code</code></pre><p>And that's it! &nbsp;Well, that's <em>nearly</em> it. &nbsp;<code>docker-compose</code> doesn't know how to read an <code>x-mutagen</code> entry, so instead we now run this file with the <code>mutagen compose</code> command, which is essentially a pass-through to <code>docker-compose</code> after having performed the various sync setup steps you've defined.</p><p>The first time you run this will be longer than before, as Mutagen will need to create the sync mount and perform the initial synchronization, but then it will run as a daemon and keep changes automatically in sync. &nbsp;I have found that occasionally it will run wild with the CPU for a couple dozen seconds as it updates its index (or something), but it hasn't significantly affected my development, especially not when compared against the <em>incredible</em> speed upgrades it provides.</p><h2 id="using-mutagen-in-nodewood">Using Mutagen in Nodewood</h2><p>Now that you have an idea how Mutagen works and how to set it up for your average project, I wanted to provide explicit steps for using it in your Nodewood projects.</p><p>(If you've arrived at this article from another site, you might not know what <a href="https://nodewood.com/">Nodewood</a> is. &nbsp;Nodewood is a JavaScript SaaS starter kit designed to save weeks or months of time when building your next web app. &nbsp;It comes with user authentication &amp; management, subscriptions, and a Docker development environment that is both easy to set up, and ‚Äì thanks to Mutagen ‚Äì lightning-fast to use. &nbsp;Interested in using Nodewood to build your next SaaS app? &nbsp;<a href="https://nodewood.com/">Read more here</a>.)</p><p>There are two steps to using Mutagen in Nodewood: 1) Using an application-specific <code>docker-compose.yml</code> file, and modifying your <code>.nodewood.js</code> configuration file to use Mutagen. &nbsp;(Of course, you'll need to make sure you've already installed Mutagen according to the instructions above.)</p><h3 id="1-set-up-an-app-specific-docker-compose-yml-file">1) Set up an app-specific docker-compose.yml file</h3><p>Nodewood will use a file in the <code>app</code> folder before it will use a file in the <code>wood</code> folder, and this applies to your Docker files as well. &nbsp;Create a file in <code>app/docker/docker-compose.yml</code>, and paste the following:</p><pre><code>version: '3'

services:
  postgres:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.postgres
    networks:
      - app-network
    environment:
      POSTGRES_PASSWORD: nodewood
      POSTGRES_MULTIPLE_DATABASES: "nodewood,test"
    expose:
      - 5432
    ports:
      - '5432:5432'
  ui:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    env_file: ../../.env
    volumes:
      - nodewood-code:/nodewood
    command: yarn dev-ui
    ports:
      - '8888:8888'
  api:
    build:
      context: ../..
      dockerfile: wood/docker/Dockerfile
    networks:
      - app-network
    volumes:
      - nodewood-code:/nodewood
    ports:
      - '3000:3000'
    links:
      - postgres
    depends_on:
      - postgres
    command: yarn dev-api
  nginx:
    build:
      context: .
      dockerfile: ../../wood/docker/Dockerfile.nginx
    networks:
      - app-network
    ports:
      - '80:80'
      - '443:443'
    links:
      - api:api

networks:
  app-network:
    driver: bridge

volumes:
  nodewood-code:

x-mutagen:
  sync:
    defaults:
      ignore:
        vcs: true
      mode: "two-way-resolved"

    nodewood-code:
      alpha: "../.."
      beta: "volume://nodewood-code"
</code></pre><p>This will set up your Mutagen sync mount, and ensure that you're continuing to use the Dockerfiles for Nginx and Postgres that live in the <code>wood/docker</code> folder.</p><h3 id="2-modify-your-nodewood-configuration-file">2) Modify your Nodewood configuration file</h3><p>In your project root, you'll find a file called <code>.nodewood.js</code>. &nbsp;This file contains your Nodewood project information, including your keys that are used to authenticate with the Nodewood server when updating the library code. &nbsp;All you need to do is add the following two lines to the <code>exports</code> object:</p><pre><code>  composeCommand: 'mutagen',
  composeArgs: ['compose'],</code></pre><p>This will instruct the Nodewood CLI to use <code>mutagen compose</code> instead of <code>docker-compose</code> when starting your project for development or tests.</p><p><strong>NOTE: You will need to have v0.13.2 or later of the Nodewood CLI tool installed.</strong> &nbsp;You can update with <code>yarn global add @nodewood/cli</code>.</p><p>That's it! &nbsp;Some simple copy and paste, and your Nodewood development experience should be <em>dramatically</em> improved!</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://nodewood.com/blog/how-to-speed-up-docker-on-macos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135217</guid>
            <pubDate>Sun, 14 Feb 2021 19:15:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploring How Git Works]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135215">thread link</a>) | @mr_o47
<br/>
February 14, 2021 | https://muhammadraza.me/2019/Exploring-Git/ | <a href="https://web.archive.org/web/*/https://muhammadraza.me/2019/Exploring-Git/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>  <article itemscope="" itemtype="http://schema.org/BlogPosting">  <div itemprop="articleBody"> <p>As we all use git every day in our projects and it has made our lives easier by allowing us to collaborate with others more efficiently.Thus it helped us to produce great software that is impacting our lives every day.</p> <h3 id="what-is-git">What is Git?</h3> <p>In simplest terms Git is distributed version control system that allows us to keep track of our files and helps us collaborate with each other more efficiently while working on a software project. Git was created by Linus Torvalds in 2005 for development of the Linux kernel. It is primarily written in <code>C</code> and other languages such as <code>python</code>,<code>shell</code>, Perl<code> and </code>Tcl`.</p> <h3 id="lets-begin-exploring-git">Lets Begin Exploring Git</h3> <p>In order to begin I will start by creating a git repo named <code>test/</code></p> <ul> <li><code>git init test</code> command creates a local repo named <code>test</code> on our machine that contains <code>.git/</code> folder which contains all the metadata.</li> </ul> <div><div><pre><code>drwxr-xr-x  3 hackerman hackerman 4096 May 31 17:48 <span>.</span>
drwx--x--x 71 hackerman hackerman 4096 May 31 17:49 ..
drwxr-xr-x  7 hackerman hackerman 4096 May 31 17:49 .git
</code></pre></div></div> <p>In this blog, I will be focusing on <code>objects</code> and <code>ref</code> since they are the most important parts of <code>.git/</code> directory.</p> <div><div><pre><code>.git
‚îú‚îÄ‚îÄ branches
‚îú‚îÄ‚îÄ config
‚îú‚îÄ‚îÄ description
‚îú‚îÄ‚îÄ HEAD
‚îú‚îÄ‚îÄ hooks
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ applypatch-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ fsmonitor-watchman.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ post-update.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-applypatch.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-merge-commit.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ prepare-commit-msg.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-push.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-rebase.sample
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ pre-receive.sample
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ update.sample
‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ exclude
‚îú‚îÄ‚îÄ objects
‚îÇ&nbsp;&nbsp; ‚îú‚îÄ‚îÄ info
‚îÇ&nbsp;&nbsp; ‚îî‚îÄ‚îÄ pack
‚îî‚îÄ‚îÄ refs
    ‚îú‚îÄ‚îÄ heads
    ‚îî‚îÄ‚îÄ tags

9 directories, 16 files
</code></pre></div></div> <h3 id="how-git-actually-works">How Git Actually works</h3> <p>So I will be explaining how everything works under the hood using this simple diagram. As you can see we have three things <code>working directory</code>, <code>staging area</code> and <code>local repo</code>.</p> <p>When we run <code>git add</code> it creates a snapshot of our file that we are working on and put that file in the staging area and then we run <code>git commit</code> command which saves that snapshot of our file permanently in our local repo.</p> <h3 id="what-happens-when-we-run-git-add-filename">What happens when we run <code>git add &lt;filename&gt;</code></h3> <p><a href="https://postimg.cc/YLR17rs8"><img src="https://i.postimg.cc/c6yTQ6Mq/add.png" alt="add.png"></a></p> <p>When we run <code>git add</code> command it takes the files from the staging area and saves the file as a copy under <code>objects</code> directory. The file is represented as a blob (Binary Large Object) and that name of the file is generated using <code>SHA-1</code> hashing algorithm as it was calculated using the contents of the file.</p> <p>In this case it is represented by <code>f9cae9b</code> and the object can be seen by using the following command <code>git show --pretty=raw f9cae9b</code>.</p> <h3 id="what-happens-when-we-run-git-commit-filename">What happens when we run <code>git commit &lt;filename&gt;</code></h3> <p>When we run <code>git commit</code> it takes our file from staging and saves as a permanent snapshot in our local repo. When we run <code>git commit</code> command two more objects are created. <strong>A tree &amp; A commit</strong></p> <p>As you can tree is represented by <code>1be1fd</code></p> <p><a href="https://postimg.cc/BLygyQRF"><img src="https://i.postimg.cc/1XRj88Hv/tree.png" alt="tree.png"></a></p> <p>and commit is represented <code>fcae310</code>. furthermore, if you notice it also has a tree and it represents our directory structure.</p> <p><a href="https://postimg.cc/hQWmTJH2"><img src="https://i.postimg.cc/tJ7z0WDG/commit.png" alt="commit.png"></a></p> <p>If we run <code>git ls-tree &lt;tree&gt;</code> it prompts more us information about our tree and what type of files it contains.</p> <p><a href="https://postimg.cc/Fd7q7KSW"><img src="https://i.postimg.cc/Px4kVp5j/tree-info.png" alt="tree-info.png"></a></p> <p>So we have a file named <code>hello.txt</code> in our tree which is represented as a blob object which it refers to <code>f9cae9b</code>. moreover, file permissions are also tracked by git which is represented as <code>100644</code> in this case. Git is so intelligent that when we change our file name our raw data isn‚Äôt deleted but a new tree is created in our object, therefore, it allows us to change file names easily without losing raw data.</p> <p>Besides, <code>objects/</code> directory we also have <code>refs/</code> and this contains our branches. Branch name acts a reference to the commit. It contains a <code>SHA</code> that is pointing to our commit and it is automatically updated whenever we make a change and commit our file to the repo.</p> <p>So this is how Git works under the hood. Furthermore, Git uses a data structure called <a href="https://medium.com/girl-writes-code/git-is-a-directed-acyclic-graph-and-what-the-heck-does-that-mean-b6c8dec65059">Directed Acyclic Graph</a> and it‚Äôs really interesting to see how git works and how it has made collaboration easier for developers.</p> <p>I hope you enjoyed this post if you think i missed any thing feel free to dm me on <a href="https://twitter.com/">twitter</a> Feel to share it among your friends and colleagues.</p> <h5 id="interesting-links">Interesting Links</h5> <ul> <li><a href="https://www.youtube.com/watch?v=4XpnKHJAok8">Tech Talk: Linus Torvalds on git</a></li> <li><a href="https://www.linuxjournal.com/content/git-origin-story">Git Origin Story</a></li> </ul>  </div> </article>  </div></div>]]>
            </description>
            <link>https://muhammadraza.me/2019/Exploring-Git/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135215</guid>
            <pubDate>Sun, 14 Feb 2021 19:14:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Make a life dashboard with an old Kindle (KT 4)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135077">thread link</a>) | @giuliomagnifico
<br/>
February 14, 2021 | https://www.davidhampgonsalves.com/life-dashboard/ | <a href="https://web.archive.org/web/*/https://www.davidhampgonsalves.com/life-dashboard/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Second hand Kindles are waiting in drawers for someone to repurpose them into something great. Boasting large e-ink screens, wifi connectivity and ARM processors they are an amazing hacking platform.</p>
<p>Check out the project <a href="https://github.com/davidhampgonsalves/life-dashboard">repository</a> for more details.</p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-01.jpg"></p>
<p>In my case I created an information panel summarizing my day such as my calendar, surf and weather forecast, garbage schedule, school closures, etc. My favorite part is that any extra space is filled with a random Pok√©mon sprite which my kids(not me) like to come check in on.</p>
<h2 id="implementation">Implementation</h2>
<p>The project uses a serverless backend to collate data from external services and on the Kindle itself Rust code (cross compiled via docker) fetches and typesets the data into an image.</p>
<p>I could have avoided the backend of this project and only used the Kindle but I had already created it when I planned on using a dedicated e-ink display and it saved time to still use it.</p>
<h2 id="reusability">Reusability</h2>
<p>I built a stand rather then the more standard frame because the e-reader functionality of the Kindle is still present and can be picked up and used without modification. I also thought it was important to avoid obscuring the original device and celebrate its reuse.</p>
<h2 id="kindle-hacking-notes">Kindle Hacking Notes</h2>
<p>The <a href="https://www.mobileread.com/forums/">mobileread forum</a> is the place for mobile reader hacking.</p>
<p>My Kindle (KT 4) does not provide access to the RTC, but if I ever find a Kindle Paper White I would be able to sleep the device and run it unplugged for months between changes.</p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-02.jpg"></p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-03.jpg"></p>
<p><img src="https://davidhampgonsalves.com/images/life-dashboard-04.jpg"></p>

  </div></div>]]>
            </description>
            <link>https://www.davidhampgonsalves.com/life-dashboard/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135077</guid>
            <pubDate>Sun, 14 Feb 2021 19:02:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's news in GNU Artanis-0.5?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135051">thread link</a>) | @nalaginrut
<br/>
February 14, 2021 | https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f | <a href="https://web.archive.org/web/*/https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><h4>What's news in GNU Artanis-0.5?</h4></p><div><p>Recently, I released GNU Artanis-0.5. Here's <a href="https://lists.gnu.org/archive/html/artanis/2021-02/msg00006.html" target="_blank">Relese Note</a>.</p><p>So what's news in it? We listed some notable changes here and ignore misc bugfixes.</p><h2>Support and only support Guile-3+</h2><p>The most notable news is that we support Guile-3 since Artanis-0.5. Guile-3 is a significant version because it contains better optimizatoins and JIT. However, Guile-3 has something incompatible with Guile-2. <a href="https://lists.gnu.org/archive/html/guile-devel/2020-09/msg00003.html" target="_blank">You may read more in my mail</a>. That is to say, you should not use Guile-2 anymore since Artanis-0.5.</p><h2>Support Network Security Services (NSS)</h2><p>I believe some people may ask the same question: why not GnuTLS?</p><p>Alright, we don't reject GnuTLS, but the current guile support in GnuTLS is dropped in some distros. I'm not going to write my own guile-gnutls wrapper. So I prefer to wait.</p><p>It's possible to support multi security libs if it's necessary. Fortunately, NSS has good coding quality and it is a nice option for our design in the long term.</p><p>In Artanis-0.5, libnss is only used for hashing algorithms. The hash functions (md5, sha, etc) are implemented in pure Scheme. Obviously, we have a better choice for efficiency and security to take advantage of existing industrial-level library.</p><p>In the future, we may add more features of crypto and security.</p><h2>Fix Ssql to adapt SQL standard</h2><p>Ssql is a feature to map s-expression to SQL string. We fix 2 issues according to SQL standard.</p><p><strong><em><u>String value should be single-quoted</u></em></strong></p><p>In SQL, the string should be single-quoted, not double-quoted, for example:</p><pre spellcheck="false">(<span>-&gt;sql</span> select * from <span>'Persons</span> (<span>where</span> (<span>/and</span> #:name <span>"john"</span> #:company <span>"lambadchip.com"</span>)))
</pre><p>And you should get the result:</p><pre spellcheck="false"><span>"select * from Persons where name='john' and company='lambadchip.com';"</span>
</pre><p><strong><em><u>Number value shouldn't be single-quoted</u></em></strong></p><pre spellcheck="false">(<span>-&gt;sql</span> select * from <span>'Persons</span> (<span>where</span> #:age <span>15</span>))
</pre><p>And you should get the result:</p><pre spellcheck="false"><span>"select * from Persons where age=15;"</span>
</pre><h2>Fix and enhance cookies</h2><p>In the current design of Artanis, these APIs are used for controling the cookies for the client.</p><p>The API only affects rc-set-cookie that handles new cookies from the server-side:</p><pre spellcheck="false"><span>:cookies-ref</span>
<span>:cookies-set!</span>
<span>:cookies-setattr!</span>
</pre><p>The API only affects rc-cookie that handles cookies of the client:</p><pre spellcheck="false"><span>:cookies-remove!</span>
<span>:cookies-check</span>
<span>:cookies-value</span>
</pre><p>You may use </p><pre spellcheck="false">(<span>get</span> <span>"/set"</span>
&nbsp;#:cookies '(names a)
&nbsp;(<span>lambda</span> (rc)
&nbsp;&nbsp;&nbsp;(<span>:cookies-set!</span> rc <span>'a</span> <span>"a"</span> <span>123</span>)
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;(<span>:cookies-setattr!</span> rc <span>'a</span> #:path <span>"/test"</span>)
&nbsp;&nbsp;&nbsp;<span>"done"</span>))

(<span>get</span> <span>"/test"</span>
&nbsp;#:cookies '(names a)
&nbsp;(<span>lambda</span> (rc)
&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;(<span>:cookies-set!</span> rc <span>'a</span> <span>"a"</span> (<span>:cookies-value</span> rc <span>"a"</span>))
&nbsp;&nbsp;&nbsp;(<span>:cookies-setattr!</span> rc <span>'a</span> #:expires <span>21600</span> #:secure <span>#t</span>)
&nbsp;&nbsp;&nbsp;<span>"yes"</span>))
</pre><p>For more details, please read <a href="https://www.gnu.org/software/artanis/manual/manual.html#org19ef4c9" target="_blank">Artanis manual about cookies</a>.</p></div></div>]]>
            </description>
            <link>https://nalaginrut.com/archives/2021/02/14/what%27s%20news%20in%20gnu%20artanis-0.5%3f</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135051</guid>
            <pubDate>Sun, 14 Feb 2021 19:00:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cadgol ‚Äì a cad-native modeling language]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26135019">thread link</a>) | @todsacerdoti
<br/>
February 14, 2021 | https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html | <a href="https://web.archive.org/web/*/https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="entry-6a0133f2f5dd98970b0278801543c5200d">
   <div>
			
	



	<div>
		<div>
			<p><em>[A copy of this blog is available on <a href="https://github.com/karimyaghmour/cadgol">github</a>]</em></p>

<p>Modeling real-world objects with computers traditionally requires using
graphical user interfaces to design, model and simulate such objects and their
interactions and reactions to external objects and forces. Such an approach is,
at first, intuitive since the designer is visually interacting and "crafting"
the object as they go. As explained by Jessie Frazelle
<a href="https://github.com/EmbeddedVentures/community">here</a>, there are limits to this
approach and there's a need for a programming-like language for the creation of
complex shapes using text-based entry similar to a software development
process.</p>

<p>Unfortunately, such a language doesn't presently exist. Or, at the very least,
the existing examples don't provide all the necessary constructs and
capabilities of their fully-featured graphical-based counterparts. Hence,
there's a need to design something that aims at providing the same level of
functionality as a modern CAD tool but based on programming-style paradigms.
But objects aren't software. While some of their features could be usefully
repeated using math-like software expressions, objects are infinitely more
complex in their variety and functionality. There is no "Von Neuman" model for
objects. Looking at traditional software languages alone is therefore not a very
good starting point.</p>

<p>If software alone won't cut then are there already languages and semantics
spaces that can be used to model things other than software? The immediate
obvious answer are RTL/HDL-languages such as Verilog and VHDL. They generally
comprise two types of construct: sequential and combinatorial circuits. They
somewhat look similar but synthesize into different constructs at the hardware
level ... which real physical structures as the final output in the case of ASIC
fabrication. That, though, isn't necessarily why HDLs are most interesting. The
more interesting thing about RTL is how we eventually got to how it's done
today.</p>

<p>Already in the '60s it appears there were attempts at describing hardware using
<a href="https://en.wikipedia.org/wiki/Hardware_description_language#History">software-like languages</a>.
The seminal work, though, seems to be Bell and Newell's 1971 "Computer
Structures: Readings and Examples". In this book, Bell and Newell catalog dozens
of processors and, most importantly, devise a language and notation to describe
those processors in a uniform fashion. They also introduce the term
"register-transfer level" which they define as "The components of an RT system
are registers and functional transfers between registers", which is precisely
what Verilog, VHDL and other modern-day HDLs do. The Instruction Set Processor
(ISP) notation which they describe in their book is then further refined in
further articles and used in the seminal "Introduction to VLSI Systems" by Meade
and Conway.</p>

<p>Now, why is that Bell and Newell so important to the present analysis? Well,
because what lands Bell and Newell to devise ISP is their need to catalog a very
wide variety of systems using a single descriptive language. Which then begs the
question. Is there are catalog of real-world objects that provides us with, if
nothing else, the proper semantic space to properly describe complex real-world
objects in a fashion that fully encompasses their functionality in the same was
a modern day CAD tool would?</p>

<p>It turns out that not only such a thing exists, but it's been being worked on
for a few hundred years and is likely one of the most important pillars of the
world economy. What could that possibly be you ask? Well, simply put,
... patents and, more specifically, the language of patent claims. The fact of
the matter is that in order to be granted, patent claims <strong>must</strong> describe an
invention, typically a real-world physically-structured object, in a
sufficiently unique fashion as to distinguish it from all previously-devised
objects, be they in patents or elsewhere. Consequently, an unimaginable amount
of human intellectual effort has been invested over time in elaborating and
evolving the precision and accuracy of patent claim language to describe all
features and structures of objects humans can envision. There is, therefore,
fertile ground in looking at patent claim language as the basis of a CAD-grade
descriptive language.</p>

<p>Which brings us the current proposal. Based on the needs and analysis above,
what is proposed is a C-like descriptive language that uses patent-claim-like
statements to describe real-world objects for the purpose of being "compiled",
simulated and otherwise processed by tools for enabling designers to create
and analyze the behavior of complex objects. This is, by its very nature, a
rough cut meant to elicit feedback and further discussion. There is likely much
work to be done in specifying semantics, conventions and validating the
usefulness and feasibility of such an approach. Nevertheless, here is what's
proposed as being "cadgol", a cad-native modeling language.</p>

<h2>cadgol example</h2>

<p>Let's start with a cadgol "Hello World!". Here's a mahogany chair in cadgol:</p>

<pre>/*
 * mohagony-chair.cgol
 *
 * A mohagony chair with 4 legs
 *
 * (C) Karim Yaghmour, 2021
 *
 * [ ASL ]
 */

/* The components we need and their local names */
comprises chair.leg as leg_fl, leg_fr, leg_bl, leg_br;
comprises chair.seat as main_seat;
comprises chair.back as main_back;

/* Material */
madeof wood.mohagony.honduran;

/* Fastners */
connector fastners.glue.wood.generic as glue;

/* Initialize component sizes */
leg_fl { dia: 1; height: 16 };
leg_fr { dia: 1; height: 16 };
leg_bl { dia: 1; height: 16 };
leg_br { dia: 1; height: 16 };
main_seat { width: 20; depth: 18, height: 1, leg_dia: 1 };
main_back { width: 10; depth: 1, height: 20 };

/* Assemble components */
assemblage {
    main_seat-&gt;leg-&gt;front-&gt;left  += glue(leg_fl);
    main_seat-&gt;leg-&gt;front-&gt;right += glue(leg_fr);
    main_seat-&gt;leg-&gt;back-&gt;left += glue(leg_bl);
    main_seat-&gt;leg-&gt;back-&gt;right += glue(leg_br);
    main_seat-&gt;back += glue(main_back);
}
</pre>

<p>The <code>comprises</code> statements here indicate the "library" components we are
including and the local instances of said components. There's presumably a
library called <code>chair</code> which has such things as <code>leg</code>, <code>seat</code> and <code>back</code>. Those
are assumed to be generic enough to be used in different chairs.</p>

<p>The <code>madeof</code> statement indicates the material this object is made of and is
assumed to come from a global library of materials. Materials likely provide the
object with color, mass, thermal conductivity, electrical connectivity, Young's
modulus, bending stiffness, etc. An individual object is likely made of a single
material (otherwise use the <code>composite.</code> library ;) ), although a complex object
could be made of several parts made of several differently-typed components. In
this case, the chair is made of Honduran Mahogany, and it's assumed that the
components included didn't themselves already have materials specified for
them. Hence, we can separate describing a part in mathematical terms from the
type of material that's used to make it.</p>

<p>The <code>connector</code> is whatever can be used to connect parts together. In this case
we're using glue as a fastener, and it's a generic wood glue. In a more complex
object we can imagine that other types of connectors could be used such as
welding, injection molding, etc.</p>

<p>Now that we've listed what parts are needed, what the present object is made of,
and the type of connectors used to put it together, we provide some specific
parameters about the components. In this case the description is provided as a
CSS-like set of values based on the types of parameters that can be used to
dictate the part's specifics.</p>

<p>Finally we assemble the object together by connecting the parts together based
on the anchors available for each part. The <code>+=</code> semantics are used to indicate
that it's possible that many objects may connect at a given anchoring
point/surface/axis. Think for example of an injection-molded part which has
many subparts being joined at a specific location.</p>

<p>That's the overall chair.</p>

<p>If we just take a look at the seat, it would look something like this:</p>

<pre>/*
 * chair/seat.cgol
 *
 * A generic chair seat for a chair with 4 legs and a back
 * ...
 */

/**
 * Seat model
 * @width:           seat width
 * @depth:           seat depth
 * @height:          seat height
 * @leg_dia:         leg diameter (assuming round pegs)
 *
 * Models a seat as a basic cube with round pegged legs
 *
 * Note: some variables are implicitly available in all "modeledas()"
 * functions. "anchor" is such a variable.
 */
modeledas(int width, int depth, int height, int leg_dia) {
    object o;
    surface s;
    contact c, r;
    int recess_x, recess_y;

    /* A very simple seat */
    o = cuboid(width, depth, height);

    /* Connectors for legs */
    s = o.bottom();
    c = circle(leg_diameter);
    recess_x = 0.1 * s.x_size;
    recess_y = 0.1 * s.y_size;
    anchor.add("leg-&gt;front-&gt;left") = planar_intersect(s, c, recess_x, recess_y);
    anchor.add("leg-&gt;front-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, recess_y);
    anchor.add("leg-&gt;back-&gt;left") = planar_intersect(s, c, recess_x, s.y_size - recess_y);
    anchor.add("leg-&gt;back-&gt;right") = planar_intersect(s, c, s.x_size - recess_x, s.y_size - recess_y);

    /* Connectors for back */
    s = o.top();
    r = rectangle(x, 0.1 * y);
    anchor.add("back") = planar_intersect(s, r, 0, s.y_size);
}   
</pre>

<p>The <code>modeledas</code> statement takes parameters coming from the initialization of the
part and actually creates the part based on those parameters while also
specifying the anchors to be defined for connecting to this part.  In this case,
the seat is a basic cuboid and recessed anchoring points for attaching legs at
its bottom, and an anchoring point for the back. More complex formulas could be
used used to specify the object or we could leave it open for inclusion of
hand-drawn objects in some IDE such as the ones provided by classic CAD
tools. This would be similar to the way Verilog/VHDL enable including
parts/components/libraries which are "hand drawn" to a ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html">https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</a></em></p>]]>
            </description>
            <link>https://www.karimyaghmour.com/blog/2021/02/cadgol-a-cad-native-modeling-language.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26135019</guid>
            <pubDate>Sun, 14 Feb 2021 18:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[For the Love of Macros]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134929">thread link</a>) | @mbrubeck
<br/>
February 14, 2021 | https://matklad.github.io/2021/02/14/for-the-love-of-macros.html | <a href="https://web.archive.org/web/*/https://matklad.github.io/2021/02/14/for-the-love-of-macros.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
  
  <p>Feb 14, 2021</p>
  <div id="preamble">
<div>
<p>I‚Äôve been re-reading Ted Kaminski blog about software design.
I highly recommend all the posts, especially the earlier ones
(here‚Äôs <a href="https://www.tedinski.com/2018/01/16/how-humans-write-programs.html">the first</a>).
He manages to offer design advice which is both non-trivial and sound (a subjective judgment of course), a rare specimen!</p>
<p>Anyway, one of the insights of the series is that, when designing an abstraction, we always face the inherent tradeoff between power and properties.
The more we can express using a particular abstraction, the less we can say about the code using it.
Our human bias for more expressive power is not inherent however.
This is evident in programming language communities, where users unceasingly ask for new features and language designers say no.</p>
<p>Macros are a language feature which is very far in the ‚Äúmore power‚Äù side of the chart.
Macros give you an ability to abstract over the source code.
In exchange, you give up the ability to (automatically) reason about the surface syntax.
As a specific <a href="https://rust-analyzer.github.io/blog/2020/03/30/macros-vs-rename.html">example</a>, rename refactoring doesn‚Äôt work 100% reliably in languages with powerful macro systems.</p>
<p>I do think that, in the ideal world, this is a wrong trade for a language which wants to scale to gigantic projects.
The ability to automatically reason about and transform source code gains in importance when you add more programmers, more years, and more millions of lines of code.
But take this with a huuuge grain of salt‚Äâ‚Äî‚ÄâI am obviously biased, having spent several years developing Rust IDEs.</p>
<p>That said, macros have a tremendous appeal‚Äâ‚Äî‚Äâthey are a language designer‚Äôs duct tape.
Macros are rarely the best tool for the job, but they can do almost any job.
The language design is incremental.
A macro system relives the design pressure by providing a ready poor man‚Äôs substitute for many features.</p>
<p>In this post, I want to explore what macros are used for in Rust.
The intention is to find solutions which do not give up the ‚Äúreasoning about source code‚Äù property.</p>
</div>
</div>
<div>
<h2 id="string-interpolation"><a href="#string-interpolation"></a>String Interpolation</h2>
<div>
<p>By far, the most common use-case is the <code>format!</code> family of macros.
The macro-less solution here is straightforward‚Äâ‚Äî‚Äâa string interpolation syntax:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>key</span> <span>=</span> <span>"number"</span><span>;</span>
<span>let</span> <span>value</span> <span>=</span> <span>||</span> <span>92</span><span>;</span>
<span>let</span> <span>f</span> <span>=</span> <span>f</span><span>"$key: ${values()}"</span><span>;</span>
<span>assert_eq!</span><span>(</span><span>t</span><span>.to_string</span><span>(),</span> <span>"number: 92"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>In Rust, interpolation probably shouldn‚Äôt construct a string directly.
Instead, it can produce a value implementing <code>Display</code> (just like <code>format_args!</code>), which can avoid allocations.
An interesting extension would be to allow iterating over format string pieces.
That way, the interpolation syntax could be used for things like SQL statements or command line arguments, without the fear of introducing injection vulnerabilities:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
</pre></td><td><pre><span>let</span> <span>arg</span> <span>=</span> <span>"my dir"</span><span>;</span>
<span>let</span> <span>cmd</span> <span>=</span> <span>f</span><span>"ls $arg"</span><span>.to_cmd</span><span>();</span>
<span>assert_eq!</span><span>(</span><span>cmd</span><span>.to_string</span><span>(),</span> <span>"ls 'my dir'"</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p><a href="https://julialang.org/blog/2012/03/shelling-out-sucks/">This post</a> about Julia programming language explains the issue.
<a href="https://github.com/matklad/xshell"><code>xshell</code></a> crate implements this idea for Rust.</p>
</div>
</div>
<div>
<h2 id="derives"><a href="#derives"></a>Derives</h2>
<div>
<p>I think the second most common, and probably the most important use of macros in Rust are derives.
Rust is one of the few languages which gets equality right (and forbids comparing apples and oranges), but this crucially depends on the ability to <code>derive(Eq)</code>.
Common solutions in this space are special casing in the compiler (Haskell‚Äôs <code>deriving</code>) or runtime reflection.</p>
<p>But the solution I am most excited about are C# <a href="https://devblogs.microsoft.com/dotnet/introducing-c-source-generators/">source generators</a>.
Which are nothing new‚Äâ‚Äî‚Äâthis is just the old (source) code generation, just with a nice quality of implementation.
You can supply custom code which gets run during the build and which can read existing sources and generate additional files, which are then added back to the compilation.</p>
<p>The beauty of this solution is that it moves all the complexity out of the language and into the build system.
This means that you get baseline tooling support for free.
Goto definition definition for generated code? Just works.
Want to step into some serialization code while debugging? There‚Äôs actual source code on disk, so feel free to!
You are more of a <code>printf</code> person? Well, you‚Äôd need to convince the build system to not stomp over your changes, but, otherwise, why not?</p>
<p>Additionally, source generators turn out to be significantly <em>more</em> expressive.
They can call into the Roslyn compiler to analyzer the source code, so they are capable of type-directed code generation.</p>
<p>To be useful, source generators require some language level support for splitting a single entity across several files.
In C#, partial classes play this role.</p>
</div>
</div>
<div>
<h2 id="domain-specific-languages"><a href="#domain-specific-languages"></a>Domain Specific Languages</h2>
<div>
<p>The raison d‚Äô√™tre of macros is implementation of embedded DSLs.
We want to introduce custom syntax within the language for succinctly modeling the program‚Äôs domain.
For example, a macro can be used to embed HTML fragments in Rust code.</p>
<p>To me personally, eDSL is not problem to be solved, but just a problem.
Introducing a new sublanguage (even if small) spends a lot of cognitive complexity budget.
If you need it once in a while, better stick to just chaining together somewhat verbose function calls.
If you need it a lot, it makes sense to introduce external DSL, with a compiler, a language server, and all the tooling that makes programming productive.
To me, macro-based DSLs just don‚Äôt fell like an interesting point on the cost-benefit curve.</p>
<p>That being said, the Kotlin programming language solves the problem of strongly-typed, tooling-friendly DSL nicely (<a href="https://kotlinlang.org/docs/type-safe-builders.html#how-it-works">example</a>).
Infuriatingly, it‚Äôs hard to point what <em>specifically</em> is the solution.
It‚Äôs ‚Ä¶‚Äã just the concrete syntax mostly.
Here are some ingredients:</p>
<div>
<ul>
<li>
<p>The syntax for closures is <code>{ arg -&gt; body }</code>, or just <code>{ body }</code>, so closures syntactically resemble blocks.</p>
</li>
<li>
<p>Extension methods (which are just sugar for static methods).</p>
</li>
<li>
<p>Java style implicit <code>this</code>, which introduces names into scope without an explicit declaration.</p>
</li>
<li>
<p><a href="https://boats.gitlab.io/blog/post/the-problem-of-effects/">TCP-preserving</a> inline closures (this the single non-syntactical feature)</p>
</li>
</ul>
</div>
<p>Nonetheless, this was not enough to implement Jetpack Compose UI DSL, it also needs a compiler plugin.</p>
</div>
</div>
<div>
<h2 id="sqlx"><a href="#sqlx"></a>sqlx</h2>
<div>
<p>An interesting case of a DSL I want to call out is <a href="https://docs.rs/sqlx/0.5.1/sqlx/macro.query.html"><code>sqlx::query</code></a>.
It allows one to write code like this:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
</pre></td><td><pre><span>let</span> <span>account</span> <span>=</span>
  <span>sqlx</span><span>::</span><span>query!</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>

<span>// anonymous struct has `#[derive(Debug)]` for convenience</span>
<span>println!</span><span>(</span><span>"{:?}"</span><span>,</span> <span>account</span><span>);</span>
<span>println!</span><span>(</span><span>"{}: {}"</span><span>,</span> <span>account</span><span>.id</span><span>,</span> <span>account</span><span>.name</span><span>);</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>This I think is one of the few cases where eDSL does really pull its weight.
I don‚Äôt know how to do this without macros.
Using string interpolation (the advanced version to protect from injection), it is possible to specify the query.
Using a source generator, it is possible to check the syntax of the query and verity the types, to, eg, raise a type error in this case:</p>
<div>
<div>
<pre><code data-lang="rust"><table><tbody><tr><td><pre>1
2
3
4
</pre></td><td><pre><span>let</span> <span>(</span><span>id</span><span>,</span> <span>name</span><span>):</span> <span>(</span><span>i32</span><span>,</span> <span>f32</span><span>)</span> <span>=</span>
  <span>query</span><span>(</span><span>"select (1) as id, 'Herp Derpinson' as name"</span><span>)</span>
    <span>.fetch_one</span><span>(</span><span>&amp;</span><span>mut</span> <span>conn</span><span>)</span>
    <span>.await</span><span>?</span><span>;</span>
</pre></td></tr></tbody></table></code></pre>
</div>
</div>
<p>But this won‚Äôt be enough to generate an anonymous struct, or to get rid of dynamic casts.</p>
</div>
</div>
<div>
<h2 id="conditional-compilation"><a href="#conditional-compilation"></a>Conditional Compilation</h2>
<div>
<p>Rust also uses macros for conditional compilation.
This use case convincingly demonstrates ‚Äúlack of properties‚Äù aspect of power.
Dealing with feature combinations is a perpetual headache for Cargo.
Users have to repeatedly recompile large chunks of the crate graph when feature flags change.
Catching a type error on CI with <code>cargo test --no-default-features</code> is pretty annoying, especially if you did run <code>cargo test</code> before submitting a PR.
‚ÄúAdditive Features‚Äù is an uncheckable wishful thinking.</p>
<p>In this case, I don‚Äôt know a good macro-less alternative.
But, in principle, this seems doable, if conditional compilation is pushed further down the compiler pipeline, to the code generation and linking stage.
Rather than discarding some code early during parsing, the compiler can select the platform-specific version just before producing machine code for a function.
Before that, it checks that all conditionally-compiled versions of the function have the same interface.
That way, platform-specific type errors are impossible.</p>
</div>
</div>
<div>
<h2 id="placeholder-syntax"><a href="#placeholder-syntax"></a>Placeholder Syntax</h2>
<div>
<p>The final use-case I want to cover is that of a placeholder syntax.
Rust‚Äôs <code>macro_call!(‚Ä¶‚Äã)</code> syntax carves a well-isolated region where anything goes, syntax wise, as long as the parenthesis are balanced.
In theory, this allow language designers to experiment with provisional syntax before setting something in stone.
In practice, it looks like this is not at all that beneficial?
There was some opposition to stabilizing postfix <code>.await</code> without going via intermediate period with <code>await!</code> macro.
And, after stabilization, all <em>syntax</em> discussions were immediately forgotten?
On the other hand, we did have <code>try! -&gt; ?</code> transition, and I don‚Äôt think it helped to uncover any design pitfalls?
At least, we managed to stabilize the <a href="https://internals.rust-lang.org/t/can-try-and-use-the-into-trait-instead-of-from/6714">unnecessary restrictive</a> desugaring on that one.</p>
<hr>
<p>For conclusion, I want to circle back to source generators.
What <em>exactly</em> makes them easier for tooling than macros?
I think the following three properties do.
<em>First</em>, both input and output is, fundamentally, text.
There‚Äôs no intermediate representation (like token trees), which is used by this meta-programming facility.
This means that it doesn‚Äôt need to be integrated deeply with the compiler.
Of course, internally the tool is free to parse, typecheck and transform the code however it likes.
<em>Second</em>, there is a phase distinction.
Source generators are executed once, in unordered fashion.
There‚Äôs no back and forth between meta programming and name resolution, which, again, allows to keep ‚Äúmeta‚Äù part outside.
<em>Third</em>, source generators can only add code, they can not change the meaning of the existing code.
This means that semantically sound source code transformations remains so in the presence of a code generator.</p>
<p>That‚Äôs all!
Discussion on <a href="https://old.reddit.com/r/rust/comments/ljnkwg/blog_post_for_the_love_of_macros/">/r/rust</a>.</p>
</div>
</div>
</article>

  </div></div>]]>
            </description>
            <link>https://matklad.github.io/2021/02/14/for-the-love-of-macros.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134929</guid>
            <pubDate>Sun, 14 Feb 2021 18:46:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Graphics Programming Weekly]]>
            </title>
            <description>
<![CDATA[
Score 176 | Comments 28 (<a href="https://news.ycombinator.com/item?id=26134854">thread link</a>) | @E-Reverance
<br/>
February 14, 2021 | https://www.jendrikillner.com/tags/weekly/ | <a href="https://web.archive.org/web/*/https://www.jendrikillner.com/tags/weekly/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  

  

  
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-170/">Graphics Programming weekly - Issue 170 ‚Äî February 14, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 14, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-169/">Graphics Programming weekly - Issue 169 ‚Äî February 7, 2021</a></h2>
    <p>
      
      Summary of articles of the week of February 7, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-168/">Graphics Programming weekly - Issue 168 ‚Äî January 31, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 31, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-167/">Graphics Programming weekly - Issue 167 ‚Äî January 24, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 24, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-166/">Graphics Programming weekly - Issue 166 ‚Äî January 17, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 17, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-165/">Graphics Programming weekly - Issue 165 ‚Äî January 10, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 10, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-164/">Graphics Programming weekly - Issue 164 ‚Äî January 3, 2021</a></h2>
    <p>
      
      Summary of articles of the week of January 3, 2021.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-163/">Graphics Programming weekly - Issue 163 ‚Äî December 27, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 27, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-162/">Graphics Programming weekly - Issue 162 ‚Äî December 20, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 20, 2020.
      
    </p>
  </div>
  
  <div>
    <h2><a href="https://www.jendrikillner.com/post/graphics-programming-weekly-issue-161/">Graphics Programming weekly - Issue 161 ‚Äî December 13, 2020</a></h2>
    <p>
      
      Summary of articles of the week of December 13, 2020.
      
    </p>
  </div>
  

  
<nav>
  <ul>
    
    
    <li><a href="https://www.jendrikillner.com/tags/weekly/page/2/">Next ¬ª</a></li>
    
  </ul>
</nav>



</div></div>]]>
            </description>
            <link>https://www.jendrikillner.com/tags/weekly/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134854</guid>
            <pubDate>Sun, 14 Feb 2021 18:38:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Pan for Real Gold at Cornwall Gold]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134812">thread link</a>) | @jpcooper
<br/>
February 14, 2021 | https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/ | <a href="https://web.archive.org/web/*/https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
    	<div>

        
            <div>                <div>
	<div id="primary">
		<main id="main" role="main">

		        
<article id="post-5349">
	<!-- .entry-header -->

	<div>
		<p>Come and learn how to pan for real gold at Cornwall Gold!</p>
<p>We were recently visited by the World Gold Panning Champion, James Linnett, and another professional gold panner, Teddy from <a href="https://www.facebook.com/AandTadventures/">A &amp; T Adventures</a>. They both had a ‚Äòpan-off‚Äô in our <a href="https://www.cornwall-gold.com/our-world/family-fun/">gold panning troughs</a> and decided to leave some of their real gold in there for YOU to find!</p>
<p>The gold they left in our panning troughs is beautiful native gold that they found in some wild Scottish rivers. It‚Äôs very special gold which is worth 3-4 times as much as the gold you would find in your average jewellery.</p>
<p>Best of all, gold panning is FREE at Cornwall Gold, so pop along and give it a try!</p>

<h4>How to pan for real gold at Cornwall Gold, step-by-step:</h4>
<p>To give you a head start, we thought we should show you how to pan for gold.</p>
<ol>
<li>Collect your gold pan and scoop into it a good couple of handfuls of sand from our panning troughs.</li>
<li>Hold the pan with the ridges in it at the front. Submerge the sand in the pan under the water. Agitate it vigorously from side to side. Don‚Äôt worry about losing your gold at this point. Gold is heavier than the sand and so it will sink to the bottom.</li>
<li>Tilt the forward edge of your pan downwards slightly and swoosh it backwards and forwards gently. This allows the sand on the surface to be gradually washed out a little at a time.</li>
<li>Carry on with this process until the sand has nearly gone and you can see your gold at the bottom of the pan!</li>
</ol>
<p><img src="https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-450x600.jpg" alt="real gold in a gold pan" width="450" height="600" srcset="https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-600x800.jpg 350w, https://www.cornwall-gold.com/wp-content/uploads/2019/09/Pan-450x600.jpg 1000w" sizes="(max-width: 768px) 100vw, 450px"></p>
<h4>How do you know if you have found real gold?</h4>
<p>In our panning troughs is also ‚Äòfool‚Äôs gold‚Äô&nbsp; or iron pyrite. To tell if you have found our real gold just hold the pan in the light. If you put your finds into shadow (hold your hand over it) the fools gold will lose its brightness and look darker whereas real gold will retain its bright colour.</p>
<p><strong>Gold panning is free at Cornwall Gold. Free entry to the whole site, free parking, dog-friendly and fully accessible.</strong></p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
    
    
        
		<nav role="navigation">
		
		<!-- .nav-links -->
	</nav><!-- .navigation -->
	</article><!-- #post-## -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

	            </div><!-- close .row -->
            </div><!-- close .main-content-area -->
        </div><!-- close .site-content-wrapper -->
    </div></div>]]>
            </description>
            <link>https://www.cornwall-gold.com/how-to-pan-for-real-gold-at-cornwall-gold/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134812</guid>
            <pubDate>Sun, 14 Feb 2021 18:33:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: A set of tools to run genetic analysis, demoed here with Covid]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134767">thread link</a>) | @8iterations
<br/>
February 14, 2021 | https://mokasquarl.github.io/draftWA_cov/ | <a href="https://web.archive.org/web/*/https://mokasquarl.github.io/draftWA_cov/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3 id="a-bioinformatics-pipeline-to-detect--understand-covid-mutants">A Bioinformatics Pipeline to Detect &amp; Understand COVID Mutants</h3>
<p><img src="https://mokasquarl.github.io/images/composite_border.png" alt="mutantcov" title="Mutant SARS-CoV-2 ACE2 Receptor Complex"></p>
<h4 id="fig-1-molecular-structure-with-uk-mutant-sars-cov-2-docked-to-human-receptor">Fig 1. Molecular Structure with UK Mutant SARS-CoV-2 Docked to Human Receptor</h4>
<p>As the pandemic runs its course, tracking genetic mutations has gained mainstream coverage. Officially, in the line of work we call bioinformatics, finding and understanding mutations is known as <em>Variant Calling</em>. In the same way every person is different from others (except twins), an individual virus can have variations in their genome; when a lot of these genetic variations accumulate between the virus we detected originally and what we find months later in a faraway town, we can say that we have a new <em>strain</em> of the virus. The Coronavirus which we‚Äôre now calling <em>SARS-CoV-2</em> was first detected in Wuhan‰∏≠ÂõΩ, so the genetic sequencing data from here is used as the base reference genome, and we measure mutations for the virus detected everywhere else against this; a coronavirus genome from a few towns away might only have a couple letters of the genome different from the Wuhan data, while something that‚Äôs travelled to the other side of the world after being transmitted through many people, climates, and even treatments, might now have acquired many more genetic variants compared to the original data.</p>
<h4 id="fig-2-retrieving-raw-covid-data-from-sra--creating-alignment-maps">Fig 2. Retrieving raw COVID data from SRA &amp; creating alignment maps</h4>
<p><img src="https://mokasquarl.github.io/images/render1612723995528-min.gif" alt="samtools tview" title="SARS-CoV-2 Aligned">
Data from viruses sequenced all across the world are uploaded into one of several databases (Table 1), this data is generated directly from machines by Illumina, Oxford Nanopore, or Life Technologies. When turning the molecules in genetic code into digital files these machines create strings that can be a few hundred letters in length to several thousand, but never the entire genome of the virus in a single string. A standardized file format called <em>fastq</em> holds all the strings from a single sample, including some quality data from the machine doing the sequencing. These strings are in no particular order, and first need to be mapped together to get the complete genome. Pretty much the standard way to create these genetic maps uses a technique invented in Palo Alto back in the early 90s by &nbsp;Michael Burrows and David Wheeler. The <em>Burrows‚ÄìWheeler Transform</em> was mostly just used in data compression, until around 2010 when computational biologists began to use it to align genomes together.</p>

<h4 id="table-1">Table 1.</h4>
<p><strong>SRA:</strong> <em>Sequence Read Archive</em> <strong>-Open Access</strong></p>

<p><strong>ENA:</strong> <em>European Nucleotide Archive</em> <strong>-Open Access</strong></p>

<p><strong>GISAID:</strong> <em>Global Initiative on Sharing All Influenza Data</em> <strong>-Private</strong></p>

<p>Heng Li, now a professor at Harvard (amongst other things) has created the most commonly used alignment algorithm (amongst other things) with <a href="https://github.com/lh3/bwa">BWA</a>. This algorithm is super easy to use, and will get us results that are more than good enough.</p>

<div><div><pre><code>git clone https://github.com/lh3/bwa.git
cd bwa
make
</code></pre></div></div>

<p>BWA takes <strong>fastq</strong> files containing samples, along with a <em>fasta</em> file containing a reference genome to map the strings contained in our <strong>fastq</strong> file. Reference genomes are usually put out by the scientific wing of a National Government, Regional Organizations, and some Universities. We‚Äôll get our Wuhan Coronavirus Reference genome from the <a href="https://www.ncbi.nlm.nih.gov/nuccore/1798174254">National Center for Biotechnology Information</a> hosted by the US Federal government. A good sample to run against the Wuhan reference is the Washington state outbreak that happened early in the US, the <em>fastq</em> data for this is also hosted by the NCBI at their <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?run=SRR11278092">Sequence Read Archive</a>. In the animated terminal above (Fig 2.) we see the commands needed to create our mapped genome from our input files, including retrieving the data from the databases . If you‚Äôd like to skip all that, we‚Äôre hosting both the reference genome, and the completed alignment map over at <a href="https://lucidalign.com/#cov">Lucid Align</a>. We‚Äôll be using the <strong>bam</strong> file to detect our mutations, and we can also browse the genome of this Washington state outbreak sample using any sequence alignment viewer.</p>

<h4 id="fig-3-detecting-mutations-with-neural-networks">Fig 3. Detecting Mutations with Neural Networks</h4>
<p>
  <iframe src="https://www.youtube.com/embed/v5z5OV6UAVM" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<p>But before going on to variant calling this first sample let‚Äôs just prepare another sample while we‚Äôre making these alignment maps. Let‚Äôs do a more recent outbreak, from Kent, UK; which is far from Wuhan &amp; the Washington sample, in both time &amp; space. Retrieving the samples from the European Nucleotide Archive can be done from this <a href="https://www.ebi.ac.uk/ena/browser/view/ERR4659819">link</a> or from the shell.</p>

<div><div><pre><code>git clone https://github.com/enasequence/enaBrowserTools.git
cd python3
enaDataGet.py -f fastq -m -d [output_directory] ERR4659819
</code></pre></div></div>

<p>Creating the mapped genome from the Kent, UK outbreak is done the exact same way as with the Washington state outbreak, and now both files can be browsed directly with an alignment viewer. More importantly now we can run the <em>variant detection</em> and see all the mutations in each of these samples compared to the original Wuhan reference genome. Variant callers are an area of hot development for folks working on bioinformatics algorithms &amp; tools. Traditionally, Bayesian methods have been most reliable, but are hard-coded for specific organisms or need the settings dialed-in to get the correct sensitivity to specificity. This is so that we don‚Äôt get too many false-positives, while at the same time don‚Äôt miss any real mutations. In the last couple of years deep convolutional neural networks have really made a splash in variant calling, where now images are created almost similar to those we see from alignment viewers, and those images are used to train, and then have the neural network make the call on whether there is a mutation in a given section of the alignment map as we make our way down the entire map.</p>

<p><img src="https://mokasquarl.github.io/images/eff_kent.png" alt="Annotated VCF" title="High Impact mutation in Kent UK sample"></p>
<h4 id="fig-4-annotated-mutations-of-kent-uk-strain-b117">Fig 4. Annotated Mutations of Kent UK Strain B.1.1.7</h4>

<p>Bayesian variant callers are fairly simple to install, whereas the DCNN callers will need, in our case, Nvidia cuda drivers, and of course a machine with those GPUs. You could use <a href="https://magnolia.sh/">Magnolia</a> Fig 3., the super-cool neural network based caller that Leo van Driel helped write B-), but for this post we are going to use the built-in caller that comes with <a href="http://www.htslib.org/download/"><em>samtools</em></a> written by the previously mentioned Heng Li.</p>

<div><div><pre><code>bcftools mpileup -Ou -f &lt;ref.fasta&gt; &lt;sample1.bam&gt; | bcftools call -vmO z -o &lt;study.vcf.gz&gt;
</code></pre></div></div>

<p>After running any variant caller, we‚Äôre left with a <em>vcf</em> file, which is just a list of positions in a genome where the sample has a mutation compared to the reference, it might be good to just look at the file <a href="https://samtools.github.io/hts-specs/VCFv4.2.pdf">format specifications</a> to understand how these <em>vcf</em> files will be used moving forward. We can use the allotted fields in the <em>vcf</em> format to annotate, that is give meaning &amp; context to each of the mutations we detect in the genome. For this sample we‚Äôve used <a href="https://pcingola.github.io/SnpEff/users_of_snpeff/">SnpEff</a> which makes life super easy by boiling all of the predicted effects of each of the mutations we detected into 3 simple categories, high impact, low, and moderate.</p>

<p>We can see in Fig 4. that running a standard Bayesian variant caller we detected a total of 48 mutations in the Kent UK sample. However, there might be some false-positives in there, it‚Äôs always better to be a bit more sensitive than to miss things. Let‚Äôs focus on the high impact mutations, things that will change the 3D structure of coronavirus. Looks like we only have 3 of those, all highlighted in red (Fig 4.), at genomic positions, 11288, 27972, and 28270. The VCF file we generated also contains data on which amino acids within the protein structure were changed to what, we can use that information to make the changes in our molecular structure, which in this case we‚Äôve done with a current tool under development.</p>
<h4 id="fig-5-molecular-structure-editor">Fig 5. Molecular Structure Editor</h4>
<p><img src="https://mokasquarl.github.io/images/dalton_beta.gif" alt="Dalton PDB" title="Editing Molecular Structure"></p>

<p>Mutations which change the molecular structure are super important because that is more likely to make things behave differently, this can mean it attaches to human receptors more tightly, interacts with antibodies and drugs differently, because remember at the core of how molecules behave is the old mantra <strong>‚Äúform equals function.</strong>‚Äù</p>

  </div></div>]]>
            </description>
            <link>https://mokasquarl.github.io/draftWA_cov/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134767</guid>
            <pubDate>Sun, 14 Feb 2021 18:29:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parler‚Äôs epic fail: A crash course on running your own servers]]>
            </title>
            <description>
<![CDATA[
Score 133 | Comments 133 (<a href="https://news.ycombinator.com/item?id=26134691">thread link</a>) | @fireeyed
<br/>
February 14, 2021 | https://blog.alexgleason.me/run-your-own-server/ | <a href="https://web.archive.org/web/*/https://blog.alexgleason.me/run-your-own-server/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.alexgleason.me/content/images/size/w300/2021/02/poweredge.png 300w,
                            https://blog.alexgleason.me/content/images/size/w600/2021/02/poweredge.png 600w,
                            https://blog.alexgleason.me/content/images/size/w1000/2021/02/poweredge.png 1000w,
                            https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.alexgleason.me/content/images/size/w2000/2021/02/poweredge.png" alt="Parler‚Äôs epic fail: A crash course on running your own servers with a shoestring budget">
            </figure>

            <section>
                <div>
                    <blockquote>First they came for the Communists,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Communist.<br>Then they came for the Jews,<br>and I didn‚Äôt speak up,<br>because I wasn‚Äôt a Jew.<br>Then they came for the Catholics,<br>and I didn‚Äôt speak up,<br>because I was a Protestant.<br>Then they came for me,<br>and by that time there was no one<br>left to speak up for me.</blockquote><p>In the early days of 2021 we learned the true power of American tech companies. After Trump was ousted by Twitter, the social media alternative Parler was cut off by their cloud hosting provider, Amazon.</p><p>Where do we go from here? What can a freedom-minded person do to avoid censorship by tech oligarchs?</p><p>The only way is to meet them at their level. In some industries it's impossible to challenge the establishment, but anyone can have a voice on the Internet. This is still true in 2021.</p><h2 id="cloud-hosting-vs-real-computers">Cloud hosting vs real computers</h2><p>Cloud hosting has made it easy for anyone to run a website. It lowered the barrier of entry, improved tech literacy, and I wouldn't be where I am today without it. But it's time to cut out the middleman.</p><p>You can run a real server anywhere there's power and an internet connection. You can run a server from your home. You can run it from someone else's home. You can run it from a datacenter in an undisclosed location.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/TPB_servers.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/TPB_servers.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Servers for The Pirate Bay at an undisclosed location.</figcaption></figure><p>It's true an ISP can censor, but it's a whole different playing field. You can find datacenters run by Conservative Boomers, Russians, porn companies, and principled free speech advocates. By the time it becomes a bigger problem, I'm sure some of us will be <a href="https://startyourownisp.com/">running our own ISP</a>, too.</p><p>It's a great ability to be able to pick up and move, plug in somewhere else, and continue to stay online. I argue that your chances of survival are much better this way, and Parler is foolish for not going this route. We can do better.</p><h2 id="getting-started-with-a-computer-on-your-home-internet">Getting started with a computer on your home internet</h2><p>Our mission is to run a high-availability production server in a datacenter. But first, we should should experiment with a server at home. Here's what you will need to achieve it:</p><ul><li>An internet connection</li><li>A computer running 24/7</li><li>A router that lets you configure port forwarding</li><li>Ethernet cables</li></ul><p>For higher availability, you may consider:</p><ul><li>Battery backup</li><li>Wireless 4G backup connection</li><li>Fiber-optic internet connection</li></ul><figure><img src="https://blog.alexgleason.me/content/images/2021/02/image.png" alt=""><figcaption>The 'first' Pirate Bay server, on display at the Computer Museum in Link√∂ping, Sweden.</figcaption></figure><p>Running a server at home is a good starting point. It could serve as a testing facility, production backup, or even serve a small online community. Chances are, you already have all the equipment needed.</p><p>Check out <a href="https://www.reddit.com/r/homelab/">/r/homelab</a> on Reddit for inspiration.</p><p>It is critical you have fast enough <strong>upload </strong>speeds if you're serving real users. Check out <a href="https://www.speedtest.net/">speedtest.net</a> to find out.</p><p>With upload speeds as low as 5 Mbps, you may be able to host an online community with 20,000 users. Keep in mind your video calls will compete for upload bandwidth on the home network.</p><p>If you score a fiber internet connection, that is really good, as it can give up to 1 Gbps <em>upload</em> speeds. That's quite literally datacenter levels of bandwidth at your home.</p><p>With this setup, you must be able to accept power outages and potential network failures. A battery backup and wireless internet backup can help with this.</p><p>Some people have taken this concept very far, building literal datacenters in their homes.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/datacenter.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/datacenter.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption>Home datacenter by Qu√©bec, Canada IT Teacher <a href="https://ve2cuy.wordpress.com/my-home-data-center/">VE2CUY</a>.</figcaption></figure><p>To make your computer accessible from the outside world, you can configure a port forward in your router. This will allow users to visit your public IP address to access your home server. You may then accordingly set up some domain names for your public IP.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-14-12-38.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-14-12-38.png 1011w" sizes="(min-width: 720px) 720px"><figcaption>My home router, forwarding ports 80 and 443 to my server's local IP.</figcaption></figure><p>Some ISPs offer expensive business plans that give you a static IP address, but I just used my dynamic IP. It seems to change rarely, if ever.</p><h2 id="obtaining-a-rack-server">Obtaining a rack server</h2><p>When running a home server isn't enough, you'll need to move into a datacenter.</p><p>Before getting into a datacenter, you'll need a computer than can fit into a standard rack. Rack servers are very similar to desktops, but come in a form factor of 1U, 2U, 3U, and 4U.</p><p>1U describes the height. 2U is the same height as two 1U servers, and so on. A typical rack at a datacenter is 42U, so it can fit fourty-two 1U servers, or twenty-one 2U. The depth of a server is also variable, but that doesn't really matter unless you're buying a rack. Servers are all the same width.</p><p>The server I chose is a <a href="https://downloads.dell.com/manuals/all-products/esuprt_ser_stor_net/esuprt_poweredge/poweredge-r720_reference-guide_en-us.pdf">Dell PowerEdge R720</a>, which I purchased for $450 off eBay. This 2U server has 32 vCores, 64 GB of RAM, and a RAID interface with 8 HDD slots.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1000w, https://blog.alexgleason.me/content/images/2021/02/586c2473c206a75b0fcf9ff210f3946c712b8c759aac11a72175aa3f4a72fe8b.jpeg 1478w" sizes="(min-width: 720px) 720px"><figcaption>My Dell PowerEdge R720 connected to my home internet.</figcaption></figure><p>It connects to the wall with standard power cables. There are 4 Ethernet ports, two USB ports, and a VGA input for attaching a screen.</p><p>Note that it's a lot bigger than you think! Make sure you have space for it.</p><p>I chose a PowerEdge because they're beloved by hobbyists, and a lot of information exists about them online. My model is from 2012, which seems to be a sweet spot between power and affordability. These machines are built to last a very long time.</p><p>Other models from that era are equally good. For a 1U option, consider a PowerEdge R320. To understand the naming convention: the R stands for "rack", while the R3xx and R7xx are 1U and 2U products respectively. The <a href="https://www.dell.com/en-us/work/shop/dell-poweredge-servers/sc/servers/poweredge-rack-servers">newest PowerEdge models right now</a> are the R340 and R740.</p><p>You should run this server from your home internet at first, while you get things up and running.</p><h3 id="installing-hard-drives">Installing hard drives</h3><p>For obvious reasons, hard drives were not included. Right now, refurbished 4TB SATA HDDs have the best cost per Gigabyte. I bought some off Amazon. HGST brand is a good bet, as they are inexpensive refurbished Western Digital drives with a different label.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/sata_vs_sas.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/sata_vs_sas.jpg 1000w" sizes="(min-width: 720px) 720px"><figcaption>SATA drive on top, SAS on the bottom.</figcaption></figure><p>It's worth noting most servers support SAS drives also. SAS is an alternative to SATA with better reliability and a different performance profile. The connector in my R720 is actually a SAS connector, but SATA drives fit into them and work just fine.</p><p>I went with SATA for my build because of better price and availability. Just know it's an option, and don't mix and match them while doing RAID.</p><h3 id="differences-in-ram">Differences in RAM</h3><p>My PowerEdge uses DDR3 RDIMM memory. I should note that UDIMM and LDIMM are also options. Traditional desktop computers use UDIMM (unbuffered memory), while servers have an option between 3 different types. You must not mix different types in the same computer.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1000w, https://blog.alexgleason.me/content/images/size/w1600/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 1600w, https://blog.alexgleason.me/content/images/size/w2400/2021/02/d6974031befa18427714fb894de3757f63efb945adfef013feee9ea8464cdd92.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Registered memory (RDIMM)</figcaption></figure><p>RDIMM (registered memory) is the most common type of memory for servers. Each stick contains an extra chip (a register) used to reduce load to the memory controller, letting your hardware last longer.</p><p>When upgrading RAM, you should also pay special attention to the <strong>rank</strong> of the memory. Rank is usually a number between 1 and 4. Your server has a maximum allowed rank per channel, so if the total rank is too high you might have to leave some slots empty.</p><h3 id="installing-an-os">Installing an OS</h3><p>For the OS, I cannot recommend <a href="https://www.proxmox.com/en/proxmox-ve">Proxmox VE</a> enough. It allows you to easily create virtual machines without much knowledge or pain.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-09-14-06-22.png 600w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-09-14-06-22.png 951w" sizes="(min-width: 720px) 720px"><figcaption>Proxmox VE running on my server.</figcaption></figure><p>I recommend this for a first server because of its flexibility, and you can always add bare metal nodes to the network later. All virtual machines appear as first-class citizens on the host network, so you can easily network them with physical nodes.</p><h3 id="further-learning">Further learning</h3><p>YouTube has been a godsend for helping me learn all this stuff and set it up. Here are a few recommendations:</p><ul><li><a href="https://www.youtube.com/watch?v=86KK_dZoCJ0">Manually Updating the Firmwares on a Dell PowerEdge R610</a> by Rob Willis</li><li><a href="https://www.youtube.com/watch?v=ck3gx9HB9-k&amp;list=PLSNNzog5eydtmcbcbc1b8pVRkgre3vNUy">Switching and Routing</a> by Sunny Classroom</li><li><a href="https://www.youtube.com/watch?v=6-66D9J5PkY">Data Center NETWORKS (what do they look like??)</a> by NetworkChuck</li><li><a href="https://www.youtube.com/watch?v=hdoBQNI_Ab8">How to Virtualize Your Home Router / Firewall Using pfSense</a> by Techno Tim</li><li><a href="https://www.youtube.com/watch?v=wFCc3ts74pQ">A DAY in the LIFE of the DATA CENTRE | RACKING SERVERS with ASH &amp; JAMES!</a> by Custodian Data Centres</li></ul><h2 id="installing-your-server-at-a-local-datacenter">Installing your server at a local datacenter</h2><p>Once your rack server is all set up and ready to go, it's time to move it to a datacenter.</p><p>Some datacenters are privately owned by a single company like Google, but many others are independent companies that lease their racks to anyone willing to pay. This is called <em>colocation</em>.</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/h2_data_center_banner_bg.jpg 600w, https://blog.alexgleason.me/content/images/2021/02/h2_data_center_banner_bg.jpg 800w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.datafoundry.com/">Data Foundry</a>, an independent Houston datacenter offering colocation.</figcaption></figure><p>If you live near a metropolitan area, chances are there's a datacenter nearby willing to let you install your own server. You will get access to power, high speed internet, and multiple layers of security.</p><p>Try searching "&lt;my city&gt; datacenter" or "&lt;my city&gt; ISP".</p><p>If they offer it, I recommend scheduling a tour with a local datacenter. It's a lot of fun and will give you a better idea of what you're dealing with.</p><p>Most datacenters only lease by the rack. These racks can hold up to 42 servers and are far too expensive. What you need is a company that lives <em>inside </em>the datacenter and is willing to lease you space <em>within</em> a single rack. You are looking for something like this:</p><figure><img src="https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png" alt="" srcset="https://blog.alexgleason.me/content/images/size/w600/2021/02/Screenshot-from-2021-02-10-12-40-34.png 600w, https://blog.alexgleason.me/content/images/size/w1000/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1000w, https://blog.alexgleason.me/content/images/2021/02/Screenshot-from-2021-02-10-12-40-34.png 1151w" sizes="(min-width: 720px) 720px"><figcaption>Colo pricing from <a href="https://www.layerhost.com/houston-colocation">LayerHost</a> in Houston. LayerHost is located inside of Data Foundry.</figcaption></figure><p>When I installed my server at the datacenter, it went something like this:</p><ol><li>I purchased a plan from the website.</li><li>The datacenter provided me network information over email, including a static IPv4 block, which I used to configure my server's network.</li><li>Using support tickets, we scheduled a time to install the server.</li><li>On that day, I drove to the datacenter and parked. I sent a text message to the provided phone number and a technician came outside. We wheeled my server in on a cart, through some doors, into the rack area.</li><li>The technician installed my server on the rack and connected it to the network.</li><li>I made final changes and tested that I could access my server from outside.</li><li>That's it! Voil√†, you're in a datacenter.</li></ol><p>While this may seem daunting, it is a necessary next step for freedom online. I hope that more people will follow this path of running their ‚Ä¶</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.alexgleason.me/run-your-own-server/">https://blog.alexgleason.me/run-your-own-server/</a></em></p>]]>
            </description>
            <link>https://blog.alexgleason.me/run-your-own-server/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134691</guid>
            <pubDate>Sun, 14 Feb 2021 18:20:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apple G13 GPU Architecture Reference]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134462">thread link</a>) | @ingve
<br/>
February 14, 2021 | https://dougallj.github.io/applegpu/docs.html | <a href="https://web.archive.org/web/*/https://dougallj.github.io/applegpu/docs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<p>
This document attempts to describe the Apple G13 GPU architecture, as used
in the M1 SoC. This is based on reverse engineering and is likely to have mistakes.
The Metal Shading Language is typically used to program these GPUs,
and this document uses Metal terminology. For example a CPU <em>SIMD-lane</em>
is a Metal <em>thread</em>, and a CPU <em>thread</em> is a Metal <em>SIMD-group</em>.
</p>

<p>
The G13 architecture has 32 threads per SIMD-group. Each SIMD-group has a
stack pointer (<code>sp</code>), a program counter (<code>pc</code>), a 32-bit
execution mask (<code>exec_mask</code>), and up to 128 general purpose registers.
</p>

<p>
General purpose registers each store one 32-bit value per thread. Each register
can be accessed as a 32-bit register, named <code>r0</code> to <code>r127</code>,
the low 16-bits of the register <code>r0l</code> to <code>r127l</code>, or
the high 16-bits of the register <code>r0h</code> to <code>r127h</code>.
Some instructions may also use pairs of contiguous 32-bit registers to operate
on 64-bit values, and memory operations may use up to four contiguous 16 or
32-bit registers (in both cases, encoded as the first register).
</p>

<p>
A number of physical registers are allocated to each SIMD-group, and registers
from <code>r0</code> to <code>r(N-1)</code> may be used, but accesses to higher
register numbers are not valid, and may read or corrupt data from other
SIMD-groups. Using fewer registers (e.g. by using 16-bit types instead of
32-bit types) allows more SIMD-groups to fit in the physical register file
(higher occupancy), which improves performance.
</p>

<p>
Certain instructions are hardcoded to use early registers. <code>r0l</code>
tracks the execution mask stack, and <code>r1</code> is used as the link register.
</p>

<p>
Shared state is less well understood, but includes 256 32-bit uniform registers
named <code>u0</code> to <code>u255</code> and similarly accessible as their
16-bit halves, <code>u0l</code> to <code>u255h</code>. These are used for values
that are the same across all threads, such as <code>threads_per_grid</code>, or
addresses of buffers.
</p>

<h2>Conditional Execution</h2>

<p>
Each thread within a SIMD-group may be deactivated, meaning the values in registers
for that thread will keep their current value. Whether or not each thread is active
is tracked in a 32-bit execution mask (in this document, by convention, a one bit
indicates the thread is active and a zero bit indicates it is not).
</p>

<p>
<code>r0l</code> tracks the execution mask stack. When used with flow-control
instructions, the value in <code>r0l</code> indicates how many 'pop' operations
will be needed to re-enable an inactive thread, or zero if the thread is active.
</p>

<p>
The execution mask stack instructions (<code>pop_exec</code>, <code>if_*cmp</code>,
<code>else_*cmp</code> and <code>while_*cmp</code>) are typically used to manage
<code>r0l</code>. They also update <code>exec_mask</code> based on the value in
<code>r0l</code>, and are the only known way to manipulate <code>exec_mask</code>.
However, <code>r0l</code> may be manipulated with other instructions. It should
be initialised to zero prior to using execution mask stack instructions, and
<code>break</code> statements may be implemented by conditionally moving
a value (corresponding to the number of stack-levels to break out of) to
<code>r0l</code> and using a <code>pop_exec 0</code> (which deactivates any
threads that now have non-zero values in <code>r0l</code>).
</p>

<p>
The <code>jmp_exec_none</code> instruction may be used to jump over an <code>if</code>
statement body if no threads are active, and the <code>jmp_exec_any</code> may be used
to jump back to the start of the loop only if one or more threads are still executing
the loop.
</p>

<p>
Execution masking generally prevents reading or writing values from inactive threads,
however SIMD shuffle instructions can read from inactive threads in some cases, which
can be valuable for research or debugging purposes (e.g. it allows observing non-zero
values in <code>r0l</code>).
</p>

<h2>Register Cache</h2>

<p>The GPU has a register cache, which keeps the contents of recently used general
purpose registers more quickly accessible. When instructions read or write GPRs,
they usually allow hints for the access to be encoded. The <code>cache</code> hint,
on a source or destination operand, indicates the value will be used again,
and should be cached (meaning other values, where this hint was not used, will
be preferred for eviction). The <code>discard</code> hint (on a source operand)
invalidates the value in the register cache after all operands have been read,
without writing it back to the register file.</p>

<p>While the <code>cache</code> hint should only change performance, the
<code>discard</code> hint will make future reads undefined, which could
lead to confusing issues. <code>discard</code> should probably not
be used with conditional execution.</p>

<p>
Either hint may be used multiple times even if the same operand appears twice,
and <code>discard</code> on a source register can be used with <code>cache</code>
on the same destination register.
</p>





<p>
Instructions vary in length in multiples of two bytes up to twelve bytes (so far).
Some instructions have a long and short encoding. This is indicated by a bit
<code>L</code>, which, if zero, indicates the last two (or four) bytes of the
instruction are omitted, and any bits within those bytes should be read as zero.
So far only 12-byte instructions omit the last four bytes, and all others omit
the last two.
</p>

<p>
The encodings are described in little-endian, meaning bytes go right-to-left
(and top-to-bottom), but bits may be read in the usual numerical order.
</p>

<p>
Behaviour is mostly described in a Python-like pseudocode for now. In operand
descriptions, the <code>:</code> operator describes bit concatenation, with
the most-significant fields first. Elsewhere, values are considered to be
Python-style arbitrary-precision integers, and floating-point values are
considered to be arbitrary-precision floats (although double-precision with
round-to-odd may be an adequate approximation).
</p>

<p>
<label for="wrapcheckbox">
  
  Wrap bit diagrams
</label>
<br>
<label for="rightcheckbox">
  
  Right-align bit diagrams
</label>
</p>

<h2>Move Instructions</h2>
<h3>mov (Move 16-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="16">imm16</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="16">imm16</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">0</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm16)
</pre>
<h3>mov (Move 32-bit Immediate)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="32">imm32</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="32">imm32</td><td colspan="1">L</td><td colspan="6">D</td><td colspan="1">1</td><td colspan="1">?</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody><tfoot><tr><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="2">Dt</td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td><td colspan="1"></td></tr></tfoot></table></div>
<pre>D = ALUDst(Dx:D, Dt)

D.broadcast_to_active(imm32)
</pre>
<h3>get_sr (Move From Special Register)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td></tr></tbody></table></div><div><table><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">SRx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="6">SR</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
SR = SReg32(SRx:SR)

for each active thread:
  D[thread] = SR.read(thread)
</pre>
<h2>Integer Arithmetic Instructions</h2>
<h3>iadd (Integer Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = AddSrc(Ax:A, At, As)
B = AddSrc(Bx:B, Bt, Bs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]

  saturating = (S == 1 and shift == 0 and A.thread_bit_size &lt;= 32 and
                B.thread_bit_size &lt;= 32 and D.thread_bit_size &lt;= 32)

  if N == 1:
    b = -b

  if shift &lt; 5:
    b &lt;&lt;= shift
  else:
    b = 0

  result = a + b

  if saturating:
    signed = (As == 1 or Bs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h3>imadd (Integer Multiply-Add or Subtract)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="2">s2</td><td colspan="1">?</td><td colspan="1">Cs</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="1">s1</td><td colspan="1">Bs</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">N</td><td colspan="1">As</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">S</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst64(Dx:D, Dt)
A = MulSrc(Ax:A, At, As)
B = MulSrc(Bx:B, Bt, Bs)
C = AddSrc(Cx:C, Ct, Cs)
shift = s2:s1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  saturating = (S == 1 and shift == 0 and C.thread_bit_size &lt;= 32 and
                D.thread_bit_size &lt;= 32)

  if N == 1:
    c = -c

  if shift &lt; 5:
    c &lt;&lt;= shift
  else:
    c = 0

  result = a * b + c

  if saturating:
    signed = (As == 1 or Bs == 1 or Cs == 1)
    result = saturate_integer(result, D.thread_bit_size, signed)

  D[thread] = result
</pre>
<h2>Shift/Bitfield Instructions</h2>
<h3>bfi (Bitfield Insert/Shift Left)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~(mask &lt;&lt; shift_amount)) | ((b &amp; mask) &lt;&lt; shift_amount)

  D[thread] = result
</pre>
<h3>bfeil (Bitfield Extract and Insert Low/Shift Right)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">0</td><td colspan="4">At</td><td colspan="6">A</td><td colspan="1">1</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table></div>
<pre>D = ALUDst(Dx:D, Dt)
A = ALUSrc(Ax:A, At)
B = ALUSrc(Bx:B, Bt)
C = ALUSrc(Cx:C, Ct)
m = m3:m2:m1

for each active thread:
  a = A[thread]
  b = B[thread]
  c = C[thread]

  shift_amount = (c &amp; 0x7F)

  if m == 0:
    mask = 0xFFFFFFFF
  else:
    mask = (1 &lt;&lt; m) - 1

  result = (a &amp; ~mask) | ((b &gt;&gt; shift_amount) &amp; mask)

  D[thread] = result
</pre>
<h3>extr (Extract From Register Pair)</h3>
<div><table><thead><tr><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr><td colspan="1">0</td><td colspan="6">D</td><td colspan="2">Dt</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">1</td><td colspan="1">0</td></tr></tbody></table><table><thead><tr><td>39</td><td>38</td><td>37</td><td>36</td><td>35</td><td>34</td><td>33</td><td>32</td><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td></tr></thead><tbody><tr><td colspan="2">m1</td><td colspan="4">Bt</td><td colspan="6">B</td><td colspan="1">0</td><td colspan="1">1</td><td colspan="4">At</td><td colspan="6">A</td></tr></tbody></table><table><thead><tr><td>63</td><td>62</td><td>61</td><td>60</td><td>59</td><td>58</td><td>57</td><td>56</td><td>55</td><td>54</td><td>53</td><td>52</td><td>51</td><td>50</td><td>49</td><td>48</td><td>47</td><td>46</td><td>45</td><td>44</td><td>43</td><td>42</td><td>41</td><td>40</td></tr></thead><tbody><tr><td colspan="1">m3</td><td colspan="1">?</td><td colspan="2">Dx</td><td colspan="2">Ax</td><td colspan="2">Bx</td><td colspan="2">Cx</td><td colspan="1">?</td><td colspan="1">?</td><td colspan="2">m2</td><td colspan="4">Ct</td><td colspan="6">C</td></tr></tbody></table></div><div><table><thead><tr><td>63</td><td>62</td><td>61</td>‚Ä¶</tr></thead></table></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dougallj.github.io/applegpu/docs.html">https://dougallj.github.io/applegpu/docs.html</a></em></p>]]>
            </description>
            <link>https://dougallj.github.io/applegpu/docs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134462</guid>
            <pubDate>Sun, 14 Feb 2021 17:58:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[(Very) Basic Intro to Elliptic Curve Cryptography]]>
            </title>
            <description>
<![CDATA[
Score 221 | Comments 40 (<a href="https://news.ycombinator.com/item?id=26134240">thread link</a>) | @wagslane
<br/>
February 14, 2021 | https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="text">
<p>Elliptic curve cryptography is a modern <a aria-label=" (opens in a new tab)" href="https://searchsecurity.techtarget.com/definition/public-key" target="_blank" rel="noreferrer noopener nofollow">public-key&nbsp;encryption&nbsp;</a>technique based on mathematical elliptic curves and is well-known for creating smaller, faster, and more efficient cryptographic keys. For example, <a aria-label=" (opens in a new tab)" href="https://bitcoin.org/" rel="noreferrer noopener nofollow" target="_blank">Bitcoin</a> uses ECC as its asymmetric cryptosystem because of its lightweight nature.</p>
<p>In this introduction to ECC, I want to focus on the high-level ideas that make <a aria-label="ECC (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Elliptic-curve_cryptography" target="_blank">ECC</a> work. For the purposes of keeping this article easier to digest, I‚Äôll omit implementation details and mathematical proofs, we can save those for another time.</p>
<h2>What is elliptic curve cryptography used&nbsp;for?</h2>
<p>A common use of ECC is to encrypt data so that only authorized parties can decrypt it. This has several obvious use cases but is most often used to encrypt internet traffic. For example, on the <a href="https://qvault.io/">Qvault web app</a> I could used ECC to encrypt a verification email so that no one but the recipient can read the message.</p>
<h2>ECC is public-key cryptography</h2>
<p>There are many types of public-key cryptography, and Elliptic Curve Cryptography is just one flavor. Other algorithms include <a aria-label="RSA (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)" target="_blank">RSA</a>, <a aria-label="Diffie-Helman (opens in a new tab)" rel="noreferrer noopener nofollow" href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank">Diffie-Helman</a>, etc. Let‚Äôs go over a quick background of public-key cryptography as a jumping-off point, so that I can discuss ECC and build on top of these ideas. By all means, study more in-depth on public-key cryptography when you have the time.</p>
<p>Public-key cryptography allows the following to happen:</p>

<p>We create two keys, a public key, and a private key. The public key is given freely, and any party can encrypt data by using it. However, the private key is kept secret and only those who hold it will have the ability to decrypt data.</p>
<h2>An example of public-key cryptography</h2>
<p>Let‚Äôs pretend that Facebook is going to receive a private post from Donald Trump. Facebook needs to be able to ensure that when the ex-president sends his post over the internet, no one in the middle (Like the NSA, or an internet service provider) can read the message. The entire exchange using public-key cryptography would go like this:</p>
<ul><li>Donald Trump Notifies Facebook that he wants to send them a private post</li><li>Facebook sends Donald Trump their public key</li><li>Donald Trump uses the public key to encrypt his post:</li></ul>
<p><em>‚ÄúI love Fox and Friends‚Äù + Public Key = ‚Äús80s1s9sadjds9s‚Äù</em></p>
<ul><li>Donald Trump sends only the encrypted message to Facebook</li><li>Facebook uses its private key to decrypt the message:</li></ul>
<p><em>‚Äús80s1s9sadjds9s‚Äù + Private Key = ‚ÄúI love Fox and Friends‚Äù</em></p>
<p>As you can see, this form of encryption can be quite useful. Here are some key points:</p>
<ul><li>The public key can safely be sent to anyone. It‚Äôs public.</li><li>The private key must be kept safe because if someone in the middle were to get the private key, they could decrypt messages.</li><li>Computers can quickly use the public key to encrypt a message, and quickly use the private key to decrypt a message.</li><li>Computers require a <em>very</em> long time (millions of years) to derive the original data from the encrypted message if they don‚Äôt have the private key.</li></ul>
<h2>How it Works: The Trapdoor&nbsp;Function</h2>
<p>The crux of all public-key cryptographic algorithms is that they each have their own unique trapdoor function<strong>. </strong>A trapdoor function is a function that can only be computed one way, or at least can only be computed one way <em>easily</em> (in less than millions of years using modern computers).</p>
<h3>Not a trapdoor function:</h3>
<p><code>A + B = C</code></p>
<p>If I‚Äôm given A and B I can compute C. However, if I‚Äôm given B and C I can also compute A. This is not a trapdoor function.</p>
<h3>Trapdoor function:</h3>
<p><code>"I love Fox and Friends‚Äù + Public Key --&gt; s80s1s9sadjds9s</code></p>
<p>If given <em>‚ÄúI love Fox and Friends‚Äù</em> and the public key, I can produce <code>s80s1s9sadjds9s</code>, but if given <code>s80s1s9sadjds9s</code> and the Public Key I can‚Äôt produce <em>‚ÄúI love Fox and Friends‚Äù</em></p>
<p>In RSA, which is arguably the most widely used public-key cryptosystem, the trapdoor function relies on how hard it is to factor large numbers into their prime factors.</p>
<p><strong>Public Key:</strong> <code>944,871,836,856,449,473</code></p>
<p><strong>Private Key:</strong> <code>961,748,941</code> and <code>982,451,653</code></p>
<p>In the example above the public key is a very large number, and the private key is the two prime factors of the public key. This is a good example of a Trapdoor Function because it is very easy to multiply the numbers in the private key together to get the public key, but if all you have is the public key it will take a very long time using a computer to re-create the private key.</p>
<p><em>Note: In real cryptography, the private key would need to be 200+ digits long to be considered secure.</em></p>
<h2>What Makes Elliptic Curve Cryptography Different?</h2>
<p>You would use ECC for the same reasons as RSA. ECC and RSA both generate a public and private key and allow two parties to communicate securely. One advantage to ECC however, is that a 256-bit key in ECC offers about the same security as a 3072-bit key using RSA. ECC allows resource-constrained systems like smartphones, embedded computers, and cryptocurrency networks to use ~10% of the storage space and bandwidth required by RSA.</p>
<h2>ECC‚Äôs Trapdoor&nbsp;Function</h2>
<p>This is probably why most of you are here. The trapdoor function is what makes ECC special and different than RSA. The trapdoor function is similar to a mathematical game of pool.</p>
<p>First, we start with an arbitrary point on the curve. Next, we use the dot function to find a new point. Finally, we keep repeating the dot function to hop around the curve until we finally end up at our last point. Let‚Äôs walk through the algorithm.</p>

<ul><li>Starting at <code>A</code>:</li><li><code>A dot B = -C</code> (Draw a line from A to B and it intersects at -C)</li><li>Reflect across the X-axis from -C to C</li><li><code>A dot C = -D</code> (Draw a line from A to C and it intersects -D)</li><li>Reflect across the X-axis from -D to D</li><li><code>A dot D = -E</code> (Draw a line from A to D and it intersects -E)</li><li>Reflect across the X-axis from -E to E</li></ul>
<p>This is a great trapdoor function because if you know where the starting point (A) is and how many hops are required to get to the ending point (E), it‚Äôs very easy to find the ending point. On the other hand, if all you know is where the starting point and ending point are, it‚Äôs nearly impossible to find how many hops it took to get there.</p>
<p>Public Key: Starting Point A, Ending Point E</p>
<p>Private Key: Number of hops from A to E</p>
<h2>Questions?</h2>
<p>Here are a few questions I had when I first learned about ECC. Hopefully, I can address them properly.</p>
<h3>1. How is the second point found? If the dot function is basically drawing a line between two points, don‚Äôt you need a second point to start&nbsp;with?</h3>
<p>No. The second point (we will call it -R below) is actually the result of P dot P (let‚Äôs assume the first point is called P)</p>
<p><code>P dot P = -R</code></p>
<p>So what is <code>P dot P</code>? It is actually just the tangent line of P. See the graphic below:</p>

<h3>2. What happens if the dot function produces a line that will go way off out to some&nbsp;extreme?</h3>
<p>If the line doesn‚Äôt hit the curve close to the origin, we can actually define a maximum X value where the line will wrap back around and start from the beginning again. See the graphic below for an example.</p>

<h3>3. If the number of hops is the private key, can‚Äôt I just count the hops until I hit the endpoint?</h3>
<p>Nope! The number of hops is <em>very</em> large, something like <code>2^256</code>. It would take far too long to compute each hop one by one, for example <code>p dot p dot p dot p ...</code>.</p>
<p>If however, you know the number of hops you can use an <a href="https://en.wikipedia.org/wiki/Exponentiation_by_squaring" target="_blank" aria-label="exponentiation (opens in a new tab)" rel="noreferrer noopener nofollow">exponentiation</a> trick to find the ending point quite quickly. For example, and omitting the details of elliptic curve operations: <code>2P = P dot P</code> and then <code>4P = 2P dot 2P</code>. This allows you to get up to those crazy high calculations exponentially faster.</p>
<h2>Who Cares?</h2>
<p>ECC is used as the cryptographic key algorithm in Bitcoin because it potentially can save ~90% of the resources used by a similar RSA system. It seems that each year we see more systems moving from RSA to a more modern elliptic curve approach.</p>
<div><div>
<h2>Thanks For Reading!</h2>
<p>If you‚Äôre interested in furthering your CS career, take our <a href="https://qvault.io/">computer science courses</a></p>
<p>Follow and hit us up on Twitter <a href="https://twitter.com/q_vault" rel="noopener">@q_vault</a> if you have any questions or comments, and if we‚Äôve made a mistake be sure to <a href="https://qvault.io/contact/">let us know</a> so we can get it corrected!</p>
<p><a href="https://mailchi.mp/5c7f5c281bbe/qvault-newsletter-subscribe" rel="noopener">Subscribe</a> to our newsletter for more programming articles</p>
</div></div>
<h2>Related Articles</h2>
<ul><li><a href="https://qvault.io/2020/01/29/hashing-passwords-python-cryptography-examples/">Hashing Passwords ‚Äì Python Cryptography Examples</a></li><li><a href="https://qvault.io/2020/07/08/how-sha-2-works-step-by-step-sha-256/">How SHA-2 Works Step-By-Step (SHA-256)</a></li><li><a href="https://qvault.io/2019/07/09/is-aes-256-quantum-resistant/">Is AES-256 Quantum Resistant?</a></li></ul>
 </div></div>]]>
            </description>
            <link>https://qvault.io/2020/09/17/very-basic-intro-to-elliptic-curve-cryptography/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134240</guid>
            <pubDate>Sun, 14 Feb 2021 17:33:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AltStore: Alternative App Store Unlocks Limitless Possibilities]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26134234">thread link</a>) | @scottbucks
<br/>
February 14, 2021 | https://www.thedetechtor.com/post/altstore-on-ios | <a href="https://web.archive.org/web/*/https://www.thedetechtor.com/post/altstore-on-ios">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="8.17.5"><div dir="ltr"><div><h3 id="viewer-foo"><span><span>An alternative App Store that unlocks many possibilities&nbsp;</span></span></h3><div id="viewer-6jooe"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the AltStore homepage"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/f361a8_8b477d096f5348c1a0093e3d43392f1f~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c/file.png" src="https://static.wixstatic.com/media/f361a8_8b477d096f5348c1a0093e3d43392f1f~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Screenshot of the AltStore homepage"></p></div><p><span dir="auto">Source: the AltStore website</span></p></div></div></div><p id="viewer-3n39k"><span>Recently I discovered the AltStore, created by <a href="http://rileytestut.com/" target="_blank" rel="noopener"><u>Riley Testut</u></a>, <!-- -->an iOS app developer who has for years worked on mobile video game emulation. The AltStore is<!-- --> an alternative to the App Store on iOS giving you many new possibilities for your iPhone, like jailbreaking, downloading emulators and sideloading&nbsp;.ipa apps you can find on the internet. In this article, I'm going to explain how you can get your hands on the AtlStore and what you can then do with it.</span></p><h3 id="viewer-iluk"><span>Downloading the AltStore to your iOS&nbsp;device</span></h3><p id="viewer-9v239"><span>The AltStore is super easy to download however you will need to do this via a Mac or Pc.</span></p><p id="viewer-63fm5"><span>Here are a few <strong>requirements</strong> before downloading:</span></p><ol><li id="viewer-3vp1j"><p>You need to be running MacOS 10.14.4 and up or Windows 10</p></li><li id="viewer-8cii5"><p>If you are on windows you need to have iTunes and iCloud downloaded on your Pc from <a href="http://apple.com/" target="_blank" rel="noopener"><strong><u>apple.com</u></strong></a> (it must be from <a href="http://apple.com/" target="_blank" rel="noopener"><u>apple.com</u></a> and not the windows version).</p></li><li id="viewer-fjh87"><p>And finally, your iOS device must be running iOS 12.2 and up for AltStore to work.</p></li></ol><p id="viewer-bi01i"><span>Now let us get into how we <strong>download</strong> AltStore:</span></p><ol><li id="viewer-bhgm2"><p>First, you will need to download the AltServer from the AltStore website <a href="https://altstore.io/" target="_blank" rel="noopener"><u>here</u></a>.</p></li><li id="viewer-ae64a"><p>You will then need to open that .zip file then on windows, you will follow the setup wizard and on Mac, you will need to drag the AltStore to your Applications file.</p></li><li id="viewer-30qbv"><p>Once you open the application you will need to install the mail plugin on your Mac (this step is only for Mac users)</p></li><li id="viewer-dugfb"><p>And finally, plug in your device to your computer and make sure to trust the computer so you can install the AtlStore App on it and you'll have to put in your Apple ID: (for windows users this will be in your bottom right toolbar)</p></li></ol><div id="viewer-1ha5a"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/f361a8_00154ad6c7804210b75900d52b09d34d~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/f361a8_00154ad6c7804210b75900d52b09d34d~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg"></p></div></div></div></div><p id="viewer-2rreu"><span>   5. Now that it's on your device you'll need to trust the app by going to setting &gt; general &gt; device management &gt; tap on your Apple ID &gt; tap trust.</span></p><p id="viewer-efs7e"><span>   6. And you're good to go!</span></p><p id="viewer-9k4ea"><span>If you have any trouble installing the AltStore to your device I recommend watching <a href="https://www.youtube.com/watch?v=yLuyVakPpUM" target="_blank" rel="noopener"><u>this video</u></a> by OPERATIONiDROID. </span></p><h3 id="viewer-b9i9v"><span><span>More from The Detechtor:</span></span></h3><ul><li id="viewer-7kv29"><p><strong>üöÑ </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-bdsh5"><p><strong>‚åöÔ∏è </strong><a href="https://www.thedetechtor.com/post/fitness-trackers-helping-us-get-fit-or-just-another-gadget" target="_blank" rel="noopener"><strong><u>Fitness Trackers: Helping us Get Fit or Just Another Gadget?</u></strong></a></p></li><li id="viewer-9jtab"><p><strong>üì± </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ‚ôªÔ∏è</strong></p></li></ul><h3 id="viewer-evc3s"><span>Now, what can you do with the Altstore?</span></h3><p id="viewer-edpr1"><span>As I previously mentioned, the AltStore allows you to sideload any IPA app that you downloaded from the internet that isn't normally available in the regular App Store. </span></p><p id="viewer-daans"><span>Here are some of the apps that I recommend:</span></p><p id="viewer-f3ulp"><span><strong>Delta</strong></span></p><div id="viewer-2g2ak"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the Delta app on iPhone"><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/a27d24_bb2a72963ed54e439bd8aae5604c2bf8~mv2.png/v1/fit/w_1000%2Ch_1000%2Cal_c/file.png" src="https://static.wixstatic.com/media/a27d24_bb2a72963ed54e439bd8aae5604c2bf8~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png" alt="Screenshot of the Delta app on iPhone"></p></div><p><span dir="auto">Screenshot of the Delta app on iPhone</span></p></div></div></div><p id="viewer-dq38b"><span>If you're interested in retro gaming one of the best emulators is Delta, developed by Riley Testut (also the developer of the AltStore) it allows you to play classic games in your pocket from systems such as Nintendo Entertainment System, Super Nintendo Entertainment System, Nintendo 64, Game Boy (Color), Game Boy Advance and many more to come! </span></p><p id="viewer-2i01a"><span>If you're not a fan of the touch screen controls, Delta also supports PS4 and Xbox  One controllers, all MFI game controllers and also Bluetooth keyboard and mouse.</span></p><p id="viewer-5c06t"><span>You can also easily save and load save states for any game from the pause menu. Or you can even Sync your games, game saves, save states, cheats, controller skins, and controller mappings between devices using Google Drive or Dropbox. </span></p><p id="viewer-7dn5n"><span><strong>Dolphin iOS</strong></span></p><div id="viewer-84nre"><div><div data-hook="imageViewer" role="button" tabindex="0"><div role="img" aria-label="Screenshot of the Dolphin IOS app on iPhone "><p><img data-pin-url="https://www.thedetechtor.com/post/altstore-on-ios" data-pin-media="https://static.wixstatic.com/media/a27d24_4d463bf89bb6447aa42c8163c9c7d593~mv2.jpg/v1/fit/w_1000%2Ch_1000%2Cal_c%2Cq_80/file.jpg" src="https://static.wixstatic.com/media/a27d24_4d463bf89bb6447aa42c8163c9c7d593~mv2.jpg/v1/fit/w_300,h_300,al_c,q_5/file.jpg" alt="Screenshot of the Dolphin IOS app on iPhone "></p></div><p><span dir="auto">Screenshot of the Dolphin IOS app on iPhone </span></p></div></div></div><p id="viewer-degkq"><span>Dolphin iOS is built on the code of the Dolphin emulator for Mac and Pc allowing you to play Wii and Gamecube games directly on your iOS device. </span></p><p id="viewer-3rne1"><span>Like Delta, you can use a controller to play your favourite games and you can save and load save states however you do not get the possibility to sync.</span></p><p id="viewer-2hio0"><span>I personally am a huge fan of this app and have had great fun playing some Wii games however if you are going to download ROMS from the internet, they must be of games you have previously owned.</span></p><p id="viewer-g65l"><span>If you want to see the app in action, check out <a href="https://www.youtube.com/watch?v=Kztd8S0nzVw" target="_blank" rel="noopener"><u>this video</u></a> by Snazzy Labs where he downloads it on to an iPad Pro 2020.</span></p><p id="viewer-568cf"><span><strong>Unc0ver</strong></span></p><p id="viewer-3e4n3"><span><span>Unc0ver is a jailbreak, which means that you can have the freedom to do whatever you would like to do to your iOS device. Allowing you to change what you want and operate within your purview, unc0ver unlocks the true power of your iDevice.</span></span></p><p id="viewer-k0v9"><span><span>Unc0ver supports iOS 11.0 through to iOS 13.5.5 Beta 1 (Excluding 13.5.1) and is considered one of the safest and easiest to use jailbreaks available. If you want to experiment with tweaking your iOS device this is the jailbreak I recommend.</span></span></p><p id="viewer-cgfo1"><span><span>If you want more information about the unc0ver jailbreak and a step by step guide on how to set it up, check out </span><a href="https://www.youtube.com/watch?v=HGHQ5R3NwrA" target="_blank" rel="noopener"><u>this video</u></a><span> by Linus Tech Tips. </span></span></p><h3 id="viewer-bk4ob"><span><span>More from The Detechtor:</span></span></h3><ul><li id="viewer-1ubbk"><p><strong>üöÑ </strong><a href="https://www.thedetechtor.com/post/hyperloop-the-future-of-travel" target="_blank" rel="noopener"><strong><u>Hyperloop, the future of travel?</u></strong></a></p></li><li id="viewer-8dd38"><p><strong>‚åöÔ∏è </strong><a href="https://www.thedetechtor.com/post/fitness-trackers-helping-us-get-fit-or-just-another-gadget" target="_blank" rel="noopener"><strong><u>Fitness Trackers: Helping us Get Fit or Just Another Gadget?</u></strong></a></p></li><li id="viewer-3lnfl"><p><strong>üì± </strong><a href="https://www.thedetechtor.com/post/smartphones-the-true-cost-of-upgrades" target="_blank" rel="noopener"><strong><u>Smartphones: The True Cost of Upgrades</u></strong></a><strong> ‚ôªÔ∏è</strong></p></li></ul><h3 id="viewer-io40"><span><span>Stay updated:</span></span></h3><ul><li id="viewer-451kv"><p>üì© Want the latest on the impact of tech? <strong>Subscribe</strong> to our <strong>newsletter</strong>!</p></li><li id="viewer-e8ibc"><p>üéô <strong>NEW</strong>! <a href="http://thedetechtor.com/" target="_blank" rel="noopener"><u>The Detechtor Podcast</u></a> is now available on all podcast players!                                 <strong>Subscribe</strong> on <a href="https://podcasts.apple.com/fr/podcast/the-detechtor-podcast/id1537457578?l=en" target="_blank" rel="noopener"><u>Apple Podcasts</u></a> | <a href="https://open.spotify.com/show/5kc8WA6nZC69bQ1sbOrlNi?si=CwAuAtpfRpe7WmLu1PlO8w" target="_blank" rel="noopener"><u>Spotify</u></a> | <a href="https://podcasts.google.com/search/The%20detechtor%20Podcast" target="_blank" rel="noopener"><u>Google Podcasts</u></a> | <a href="https://www.stitcher.com/show/the-detechtor-podcast" target="_blank" rel="noopener"><u>Stitcher</u></a> | <a href="https://tunein.com/podcasts/Technology-Podcasts/The-Detechtor-Podcast-p1377296/?topicid=158813573" target="_blank" rel="noopener"><u>Tunein</u></a></p></li><li id="viewer-2udel"><p>üì≤ Let's connect! <strong>Follow</strong> <strong>us</strong> on <a href="https://twitter.com/the_detechtor" target="_blank" rel="noopener"><u>Twitter</u></a> | <a href="https://www.instagram.com/thedetechtor/" target="_blank" rel="noopener"><u>Instagram</u></a> | <a href="https://www.facebook.com/thedetechtor" target="_blank" rel="noopener"><u>Facebook</u></a> | <a href="https://www.youtube.com/channel/UCAW--4_mML4A86W3670ix3w" target="_blank" rel="noopener"><u>Youtube</u></a></p></li></ul></div></div></div></div></article></div></div>]]>
            </description>
            <link>https://www.thedetechtor.com/post/altstore-on-ios</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134234</guid>
            <pubDate>Sun, 14 Feb 2021 17:33:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Psychology Beyond Technocracy: Marshall McLuhan and the ‚ÄúMeaning Crisis‚Äù [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26134134">thread link</a>) | @tacon
<br/>
February 14, 2021 | http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf | <a href="https://web.archive.org/web/*/http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.digitallife.center/images/Dianoetikon/Psychology-Beyond-Technocracy_Dianoetikon.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134134</guid>
            <pubDate>Sun, 14 Feb 2021 17:23:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comcast Backs Off Plan to Impose New Fees on Heavy-Duty Internet Users]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 7 (<a href="https://news.ycombinator.com/item?id=26134040">thread link</a>) | @CapitalistCartr
<br/>
February 14, 2021 | https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/ | <a href="https://web.archive.org/web/*/https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div id="pico"><h3>Cable-company criticized for asking customers to pay more during public-health emergency, when high-speed internet is critical to students, some employees</h3><p><em>This story was written and produced by NJ Spotlight. It is being republished under a special NJ News Commons content-sharing agreement related to COVID-19 coverage. To read more, visit njspotlight.com.</em></p><p><em>Full story link ‚Äì <a href="https://www.njspotlight.com/2020/06/we-cant-unsee-racial-inequities-in-nj-made-clear-by-covid-19-whats-the-plan-to-address-them/" target="_blank" rel="noopener noreferrer">HERE</a>.</em></p><p data-autoattached="true">By Tom Johnson</p><p>Comcast is postponing until July its plan to impose new fees on customers who are heavy users of its internet services after widespread criticism for proposing to increase bills during a public-health emergency.</p><p>The postponement came after pressure from lawmakers and consumer advocates. They argued such a step was inappropriate at a time when many students and others are relying heavily on the internet because of the coronavirus pandemic. The cap on data use was effective Jan. 1 for Comcast customers in the Northeast region, including New Jersey,</p><p>In New Jersey, lawmakers have introduced legislation (<a href="https://bf1f7a75-24f0-4a30-89f1-4410f141a906/v" target="_blank" rel="noopener">S-3410</a>) that would prevent internet service providers from increasing rates during a public-health emergency. In Pennsylvania, the state‚Äôs attorney general‚Äôs office secured a commitment last week from Comcast, a Philadelphia-based cable company, to delay imposing the new fees on data usage to current customers there and throughout the Northeast.</p><p>The plan calls for a monthly data-usage cap of 1.2 terabytes. If customers exceed the data limit, they could be charged anywhere from $10 to $100 on top of their existing bills, depending on their data usage. Comcast began monitoring customers‚Äô data usage at the beginning of the year, but had held off imposing the fees until March.</p><h3>‚ÄòUnconscionable‚Äô to levy an extra fee</h3><p>‚ÄúDuring the COVID-19 pandemic, it is unconscionable for a cable company to levy an extra fee for using their internet,‚Äô‚Äô said Sen. Nicholas Scutari (D-Union), the sponsor of the bill in the New Jersey Legislature. ‚ÄúRight now people are relying on their home internet more than ever ‚Äî for work, for their children to attend school, to shop for groceries and to schedule COVID-19 testing and vaccinations.‚Äô‚Äô</p><p>The legislation, introduced a week ago, has not yet moved in either house of the Legislature.</p><p>In a news release, Comcast said it is delaying imposition of the new fees for six months to provide its customers in the Northeast time to familiarize themselves with the data-usage plan and their service options.</p><p>The company said the new limit on data usage only affects a ‚Äúvery small percentage of its customers.‚Äô‚Äô Comcast is also giving its low-income customers some help by doubling the speed for those who subscribe to its Internet Essentials service and not imposing data limits on that plan for the rest of the year. In addition, the company is waiving early termination fees for customers who do not want to be subject to caps on data usage.</p><p>In New Jersey, the state Board of Public Utilities has received some complaints from customers about the new fee but is unable to take action because it does not regulate internet service, according to Peter Peretzman, a spokesman for the agency. There are no plans to investigate the problem, he added.</p><p><em>Photo by <a href="https://unsplash.com/@nasa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">NASA</a> on </em><a href="https://unsplash.com/s/photos/internet?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText"><em>Unsplash</em></a></p></div></div></div>]]>
            </description>
            <link>https://jcitytimes.com/comcast-backs-off-plan-to-impose-new-fees-on-heavy-duty-internet-users/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26134040</guid>
            <pubDate>Sun, 14 Feb 2021 17:13:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chris Sacca's Act 2: Lowercarbon Capital]]>
            </title>
            <description>
<![CDATA[
Score 112 | Comments 55 (<a href="https://news.ycombinator.com/item?id=26133941">thread link</a>) | @simonebrunozzi
<br/>
February 14, 2021 | https://lowercarboncapital.com/act2/ | <a href="https://web.archive.org/web/*/https://lowercarboncapital.com/act2/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
<div>
<div>
<div><figure><img loading="lazy" src="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1292%2C808&amp;ssl=1" alt="" width="1292" height="808" srcset="https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?w=1723&amp;ssl=1 1723w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=300%2C188&amp;ssl=1 300w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1024%2C640&amp;ssl=1 1024w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=768%2C480&amp;ssl=1 768w, https://i0.wp.com/lowercarboncapital.com/wp-content/uploads/2021/02/leslie-cross-bWYTWRx9yRM-unsplash2-e1612971496415-edited-2.jpg?resize=1536%2C960&amp;ssl=1 1536w" sizes="(max-width: 1000px) 100vw, 1000px" data-recalc-dims="1"></figure></div>
</div>
</div>







<p><em>Because we‚Äôve run the numbers, and shit‚Äôs not great</em>.</p>







<p>Four years ago, Crystal and I retired from venture capital to carve out more time for things that matter, with Earth‚Äôs climate disaster at the top of the list. Why? The situation is much worse than it seems. The planet is warming faster than experts predicted. Rising temperatures fuel lethal heat waves, year-round fires, destructive storms, and epic droughts that are already killing thousands of people around the globe, displacing millions more, and sowing the seeds of famine, disease, and war. Heavy stuff.</p>



<p>Academic debates about exactly how many degrees the planet will warm, which species will go extinct, how many millions of people will be killed by extreme weather, which wars and refugee crises will result from drought, and whether sea levels will rise 10, 20, or 30 feet all miss the point. The bottom line is the planet is becoming unlivable. If you‚Äôre the quantitative type, well, we drew some samples, crunched a few numbers and, according to our exact scientific calculations: A lot of shit will be pretty fucked up.</p>



<p>In simplest terms, more carbon equals more heat, and more heat equals more death. This is an established and unavoidable fact. Today, the levels of CO<sub>2</sub> in the atmosphere are higher than at any point in at least 800,000 years (and arguably as far back as 23 million). Pumping all this CO<sub>2</sub> into the sky is like locking ourselves in a car on a sunny day.</p>







<h2><span>What will it take to get us out of this nightmare? </span></h2>



<p>Electric cars and solar panels are awesome but only a part of the picture. To bring down CO<sub>2</sub> in the atmosphere it will take:</p>



<blockquote><p><span><span>01</span></span>   Slashing new emissions of CO<sub>2</sub> and other greenhouse gases to zero.</p><p><span><span>02</span></span>   Sucking up at least a trillion tons of carbon already swirling around the sky.</p><p><span><span>03</span></span>   Buying all of humanity, including those most vulnerable, more time by actively cooling the planet.</p></blockquote>



<p>I am not new to this challenge. Way back when I was at Google, I was tasked with leading many of the company‚Äôs clean energy deals, repping execs in meetings with policy groups and think tanks, and exploring innovative ways to use technology to reduce the carbon footprint of a company that was, at the time, rumored to the be the largest individual power consumer in two or three US states. (If saying that violates my Google NDA, then no, we definitely weren‚Äôt a massive user of electrical power. Nothing to see here.)</p>



<p>In the years that followed, Crystal and I have been active supporters of legislative and regulatory efforts to address the problems, as well as funders of philanthropy and activism in the climate space. We‚Äôve been poking around academic labs, comparing notes with environmental non-profits, briefing political leaders, cajoling philanthropists, sponsoring research and primers, and advising companies concerned about the climate emergency.&nbsp;</p>



<p>After almost 20 years of this work, here is what we know to be true:</p>



<p><strong>Policy change alone ain‚Äôt gonna get us there.</strong> High fives to everyone who is working on clean tech regulatory initiatives. This vital work brings down real costs, creates research breakthroughs, and keeps urgent climate issues front and center. But even the most aggressive ideas on the table today fall short of the drastic action needed.&nbsp;</p>



<p><strong>Guilt and shame don‚Äôt and won‚Äôt change anything at scale. </strong>There simply aren‚Äôt enough people willing to buy more expensive products nor companies on board with overpaying for sustainable materials just because they feel bad. Cheers to consumers and companies that spend a little more to choose options with climate in mind. You‚Äôve undoubtedly helped create a new generation of climate friendly companies. However, we need about seven billion more of you to get on board before the impact will be meaningful enough.&nbsp;</p>



<p><strong>Philanthropy is way too small and cautious</strong>. For the better part of twenty years, climate philanthropy has been overwhelmingly focused on consumer awareness campaigns to persuade people that climate change is real and to turn out their lights. But there‚Äôs been too little appetite to invest in hardcore, massive change. Bless you and those paper straws, but unless we zero out the billions of tons of CO<sub>2</sub> emissions from huge sectors like aviation, steelmaking, industrial chemicals, building, and farming, we are screwed.</p>



<p>So, policy, philanthropy, and individual behavior do have roles to play, but the real solutions to the carbon nightmare will win because they‚Äôre cheaper, better, faster, stronger, simpler, and just plain cooler than what‚Äôs available today.&nbsp;</p>



<p>Markets already understand that it‚Äôs too damn expensive to keep powering our economy by digging up and burning old dinosaur bones. In most places today, solar and wind are cheaper and scale faster. What you might not know yet is that technologies that grow chemicals in bioreactors or boost crop yields are already outperforming 100-year-old industrial processes that are dirty and dangerous. We see this happening in protein, transportation, chemicals, building materials, and even mining too. This radical shift isn‚Äôt just because of some warm and fuzzies. These are real businesses, with insane growth, and some posting nine-figure revenue run rates.</p>



<p>We‚Äôre on a clear trajectory to 8.5 billion people on this planet. I‚Äôm going out on a limb and predict they‚Äôll want to eat, build houses, go places, buy stuff, and enjoy life. Fair to say? The most profitable companies meeting this demand will be those that sell products and services that use less carbon because they are ultimately the cheapest to offer. In simple terms, cutting gigatons of CO<sub>2</sub>, mass market adoption, and generating piles of money will go hand-in-hand.</p>







<h2><span>Who knew we would look forward to email?</span></h2>



<p>When the word got out that we were starting to dig into climate tech, our inboxes blew up. Notes came in from very small and unreasonably ambitious teams taking on intimidatingly large projects to slash CO<sub>2</sub> emissions and suck carbon right out of the air. Frankly, we‚Äôve never felt so energized reading our email. It was everything we loved about startups colliding with all of the urgency we felt for helping a planet on fire.&nbsp;</p>



<p>There is also a dynamic that makes climate tech today different from clean tech 15 years ago. It reminds me of the dramatic shift in startup economics that made YCombinator and its companies possible. Back then, the rise of open-source coding tools, cloud hosting, and the elimination of legal and financing friction empowered a new type of company and a new type of company-builder. The old way required millions of dollars and a rash of bankers and lawyers to even consider writing the first line of code. Suddenly startups had tiny, ragtag teams, usually without any fancy MBAs on board, raising tens to hundreds of thousands of dollars for services and apps that they built and launched within weeks.</p>



<p>In climate tech, we have seen the same evolution. I appreciate the investors who have been plowing money into this stuff for decades and I admire their passion and commitment to doing the right thing. But, too often low-carbon businesses were among the most expensive to start. CapEx was bonkers right out of the gate, and most companies relied upon government intervention to even approach viability.</p>



<p>Are we excited to see the Biden/Harris administration finally at the wheel? Hell yes. They believe in science and have made climate a priority across the entire federal government. We have the deepest respect for Secretary Kerry and Gina McCarthy, and we admire the depth of expertise and hustle we are seeing across the staffers accepting roles to serve the USA to advance climate work. As members of Climate Leaders for Biden, and as a consequence of our involvement across the industry, we have already been in close touch with the administration and we are beyond heartened to see how serious they are about climate. Multiple times, Crystal and I have spoken directly with President Biden about climate and I can assure you he gets the gravity and urgency of the moment. Yet, despite all that, we aren‚Äôt counting on the government‚Äôs direct help in our investment thesis. Why?</p>



<p>Today, with shared lab space, massive computing clusters available for rent, proliferation of machine learning, cheap renewable electricity, the discovery of CRISPR/Cas9, breakthroughs in electrochemistry, and more streamlined tech transfer from universities, true seed-stage climate tech startups are possible at scale. Some benefit from grants and government investment, and no doubt healthy public investment in research and science lifts all boats, but barely any of these climate tech companies count on governments for handouts because they increasingly can rely upon free markets to reward them with customers. Add to this what might be the first generation of hard science engineers who, inspired by a prior, similar shift in computer science academia, now go to school knowing from day one they want to graduate to directly become company founders. These teams are taking their innovations straight to consumers and enterprises who may not vote for the same people nor share the same climate values, but who buy their products and services because they are just simply cheaper and better.&nbsp;&nbsp;</p>







<h2><span>We call this thing Lowercarbon Capital.</span></h2>



<p>It wasn‚Äôt in the master plan to get back into the investing world full-time. But after a few years of doing this work, we picked up our heads and realized we now have a portfolio of over 30 climate teams and growing.&nbsp;</p>



<p>Our startups straddle a delicate line between, ‚ÄúWhaaa? That‚Äôs absolutely bananas!‚Äù to, ‚ÄúNo way. Are you f‚Äôing kidding me?!‚Äù You know, chill stuff like confining plasma that‚Äôs hotter than the sun or growing full-on real meat steaks in a vat. Maybe using microbes to make hundreds of millions of dollars of industrial chemicals is your thing, or you‚Äôre into kelp-growing robots in the high seas. I‚Äôm kinda partial to ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lowercarboncapital.com/act2/">https://lowercarboncapital.com/act2/</a></em></p>]]>
            </description>
            <link>https://lowercarboncapital.com/act2/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133941</guid>
            <pubDate>Sun, 14 Feb 2021 17:02:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Anti-Money Laundering in Italy]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133938">thread link</a>) | @onurergr
<br/>
February 14, 2021 | https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/ | <a href="https://web.archive.org/web/*/https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.regtechtime.com/guide/anti-money-laundering-in-italy-regulations-and-requirements/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133938</guid>
            <pubDate>Sun, 14 Feb 2021 17:02:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Age of distractions ‚Äì or how to calmly enjoy what you are doing in 2021]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26133769">thread link</a>) | @iamsanteri
<br/>
February 14, 2021 | https://www.lostbookofsales.com/age-of-distractions/ | <a href="https://web.archive.org/web/*/https://www.lostbookofsales.com/age-of-distractions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://www.lostbookofsales.com/content/images/size/w300/2021/02/lbs-distractions-santeri-liukkonen.jpg 300w,
                            https://www.lostbookofsales.com/content/images/size/w600/2021/02/lbs-distractions-santeri-liukkonen.jpg 600w,
                            https://www.lostbookofsales.com/content/images/size/w1000/2021/02/lbs-distractions-santeri-liukkonen.jpg 1000w,
                            https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://www.lostbookofsales.com/content/images/size/w2000/2021/02/lbs-distractions-santeri-liukkonen.jpg" alt="Age of distractions">
            </figure>

            <section>
                <div>
                    <p>The book is exciting and the story is funny. In fact, I'm learning something new. So much so, that I keep writing down my ideas and shuffling their implications. And suddenly, I realize something. In the past 15-minutes, I've only managed to cover three pages and I'm already thinking about next things I'm supposed to do. Cleaning, picking-up the groceries, doing my excercises, writing a couple of lines of code, watching a movie... </p><p>Is this supposed to be my Saturday off work?</p><p>So I stop and think. When was the last moment that took longer than 10 seconds, where I didn't have an urge to check an app on my phone, see if I got new email, or impulsively do something else?</p><p>By now, where I live, it's been many months of nightly curfews and limitations on travel and social life. I consider myself a very fortunate person to have suffered a relatively small impact from the global pandemic. Nonetheless, I can't stop but think about why my mind feels so exhausted while at the same time requiring a constant stream of stimulus that results in overbearing distraction. </p><p>It was already before the pandemic that I heard my colleagues talking about "<a href="https://en.wikipedia.org/wiki/Digital_detox"><em>digital detox</em></a>" and discussing their efforts to break out of being constantly connected while trying to regain their energy and allowing for some rest. Thus, I surely know that I'm not alone with these thoughts. </p><p>Finally, after subscribing to <a href="https://amzn.to/3alEC3u">Audible</a> last summer, there only remains little time in my day when I am not stimulating my brain in one way or another. It was some sort of a panic that hit me when I realized that I am no longer able to enjoy a thing that I've always enjoyed so much, reading a great book at length. </p><p>Today I called with a good friend of mine and he said: </p><p><em>"Yeah right! It's like we must constantly be multitasking or something... Even when I get to playing a Playstation game and it starts to load, I just all the time have to unlock my phone and check what is going on..."</em></p><h2 id="to-observe-and-reflect">To observe and reflect</h2><p>I recently read <a href="https://www.lostbookofsales.com/notes/the-almanack-of-naval-ravikant-by-eric-jorgenson/amp/">a book where Naval describes</a> what meditation means for him, and I cannot help but agree with his way of putting it. </p><p>One only needs to stop and observe his thoughts in a calm state. Your mind is like a monkey in a room, misbehaving and throwing feces all over the walls. It is fascinating how you realize this while trying to focus on your breath and not let your thoughts wander. In a matter of seconds, however, you already catch yourself thinking about entirely something different. When practicing to focus your attention and letting your thoughts pass, this inner monkey seems to eventually calm down and let you achieve a little peace of mind. It is not so easy. </p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-drawing-LBS-1.jpg" alt=""><figcaption>One year into the global pandemic - SL 2020 (LBS)</figcaption></figure><p>After so many months of being limited with our social interactions, it feels like the scariest thing out there is to be left by ourselves. Especially us young people tend to handle this quite badly. Without typical distractions and mental stimulus available throughout our days, our mind starts to seek for something to occupy itself resulting in raised anxiety levels and stress. We are today forced to confront our inner selves like never before. </p><h2 id="so-what">So what?</h2><p>Billions of dollars are invested and brightest specialists are hired each year to engineer new distractions. They fight for every second of our limited attention spans, leading us further astray without us even noticing it. </p><p>When shortest breaks require distraction and only the rarest moments, such as taking a shower, offer a refuge from our electronic devices, how are we supposed to work towards our long-term goals? The type of goals that can only be achieved when managing to work in a state of sustained attention? Rarely do great things in life come in a form of neatly packaged gratification to which we are getting more and more accustomed to. </p><p>Reading reports and hearing on the radio that the general feeling and wellbeing in our societies during these challenging times is again on decline, constant distractions might truly be the enemy that stands in our way of what we ought to achieve.</p><h2 id="fighting-back">Fighting back</h2><p>At some point I read that <a href="https://qz.com/1476157/overworked-south-koreans-are-finding-solace-in-a-fake-prison/">South Koreans already pay to live in a hotel-like "prison"</a> to relieve themselves from digital devices. I'm not quite ready to go that far just yet. </p><p>Admittedly, a cottage in the middle of nowhere in Finland would be the way to go anyways.</p><figure><img src="https://www.lostbookofsales.com/content/images/2021/02/santeri-mikkeli-LBS.jpg" alt=""><figcaption>Late autumn lakeside view - Year 2016, Finland</figcaption></figure><p>Once upon a time before the pandemic I saw a colleague of mine use his phone as we were picking up lunch, and I couldn't help but ask why was the screen black and white? He told me he does it intentionally to make his handset less attractive, resulting in less tapping around. That struck me as bizarre. How odd, do we really need to resort to such approaches? </p><p>So what were some of the smaller changes I did to improve my wellbeing? </p><p>Unlike South Koreans with their voluntary confinement, or my friend with his greyscale screen, I started with some less drastic measures. These small changes proved enormously helpful. </p><p>First of all, I opened the screen-time function on my phone and looked through apps that sent me most notifications, proceeding to drastically dial them back. Today, most phones have a feature to limit the screen-time of apps, locking you out after a certain amount of time has passed. This function is plain useless for me or my friends whom I've seen to just enter their pin every single time they wanted to do something. What I did instead was that I just plain and simply uninstalled Instagram. </p><p>I had contemplated to delete it for a long time and almost did it, but instead always settled to just disable the notifications. When I finally did this however, two interesting realizations struck me. </p><p>First thing was that during the initial couple of weeks without the app I was totally surprised at how little I missed it. It literally had never provided me with anything of value, and I only used it to post an occasional update. Why didn't I uninstall it earlier? There was no feeling of missing out. Wow, this realization echoed a feeling that I had after uninstalling 9GAG many years earlier. </p><p>Second, I didn't even notice how those colorful icons on the home-screen invited me to tap on their respective apps as soon as I found myself aimlessly scrolling through my phone. I understood this in a particularly strong way after hiding another app, LinkedIn. Being an important tool for my work, all I did in addition to hiding it from the homescreen was to disable the last types of notifications I ever received from them. Lo' and behold, I now use this application significantly less and it makes a whole world of a difference. </p><p>Simple, easy and fast. Your life will be better for it, just try! Exponential returns of joy are expected if you have apps like Tiktok, Clubhouse, Snapchat, or other such platforms installed or bookmarked, that you can easily subject to the same fate and never look back.</p><p>So far, I'm mostly talking about my precious free time. But what could be some simple and small things that I could do when I'm working on my projects? </p><h2 id="focus-operate-and-enjoy-the-results">Focus, operate and enjoy the results</h2><p>I've written about doing <a href="https://www.lostbookofsales.com/why-to-do-lists-often-stink-and-how-do-the-truly-successful-people-maintain-their-productivity/">an experiment and turning myself into a productivity monster</a> back in 2017, and I've recently re-read the post and carefully re-implemented some of my learnings this year. But then again, it's not about going radical, but rather focusing on some small things that are easy to implement. </p><p>Kill the unnecessary Slack and Teams notifications now! Adjust the surprisingly good defaults that Slack provides and make sure none of them, except for the most important notifications, hit your phone after your working hours are over. </p><p>Use effective time-blocking techniques like <a href="https://alphaefficiency.com/20-minutes-pomodoro-weekly-experiment/">Pomodoro</a> for the less pleasant and repetitive, but still important tasks. This, like many other things, I've also learned from one of my colleagues using it in an effective manner.</p><p>Oh, and of course make sure to consider the following crazy important golden rule of life and the universe:<strong> </strong>don't do anything else while having a one-on-one interaction with someone else. Just never do this. </p><p>I catch myself with this one sometimes and no matter how small of a signal, it can still tell something to my counterpart. Such mistakes during limited and valuable interactions in these pandemic-ridden times can eat away from our important professional relationships. When having conversations, focus on them fully and wholeheartedly. Multitask when the time is right. </p><p>Oh, and try drinking less coffee in the mornings while cutting the alcohol in the evenings, but you've heard this a million times before. Additionally, to all of you who have small kids at home, I truly salute your efforts and patience with getting through with this! </p><h2 id="the-most-desired-skill-of-the-future">The most desired skill of the future</h2><p>What if the most sought after and desired skill of the future will be the ability to best manage our constant distractions and maintain a sustained state of productive focus? </p><p>If we can't manage to control our whims, we won't be able to work effectively towards our long-term goals. I guess it's just that simple. </p><p>The first step is to stop and observe. </p><p>Reflection and brutal honesty with oneself while trying to understand what is happening is critical before driving corrections and adjustments into one's behavior. As our society adjusts to challenges posed by global pandemics, there is a chance for us to walk out of this stronger than before. This is a chance for us to learn more about ourselves than would've otherwise been possible, right? </p><p>I'm only trying to think about something positive in these pandemic-ridden times.</p><p>Now let's get back to work...</p><hr><p><em>Author's comment:</em></p><div><p><em>If you enjoyed this post, consider subscribing for an occasional update. Being hand-made, they'll only serve to make your life a little bit richer. Worst case, you'll be able to unsubscribe at any time </em>üòâ<em> </em></p><p><em>See you around! </em></p></div><p><em>-S</em></p>
                </div>
            </section>

 ‚Ä¶</article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lostbookofsales.com/age-of-distractions/">https://www.lostbookofsales.com/age-of-distractions/</a></em></p>]]>
            </description>
            <link>https://www.lostbookofsales.com/age-of-distractions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133769</guid>
            <pubDate>Sun, 14 Feb 2021 16:41:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero dependency images (of chaos) in Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133713">thread link</a>) | @AlexeyBrin
<br/>
February 14, 2021 | https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG | <a href="https://web.archive.org/web/*/https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="markdown">
      <p>One of the most upvoted posts on the Rust subreddit has been "<a href="https://www.reddit.com/r/rust/comments/jyziio/a_fractal_i_rendered_with_rust_without_any/">A fractal I rendered with rust without any external libraries</a>". Whilst the output is beautiful there was a minor complaint - zero dependencies still included <a href="https://crates.io/crates/tokio">Tokio</a>, <a href="https://crates.io/crates/image">image</a>, and <a href="https://crates.io/crates/rand">rand</a>!</p>

<p>In recent days I had a desire to recreate my experience of <a href="https://twitter.com/Smerity/status/974849365075374082">an early foray into numerical computing</a>. Rust seemed like an obvious candidate!</p>

<p>I decided to use the opportunity to replicate two aspects with zero dependencies: parallel computation and image export. The approaches used will be anything but optimal but may be of use to others writing fractal visualizers, scanline renderers, raytracers, and other graphical projects that benefit from being "from the ground up".</p>

<p>To follow along or run the code yourself, see <a href="https://github.com/Smerity/bifurcate-rs">the GitHub repository</a>.</p>

<h2>In brief: chaos and the logistic map</h2>

<p>Rather than fractals we'll be playing with chaos by producing a plot - a <a href="https://en.wikipedia.org/wiki/Bifurcation_diagram">bifurcation diagram</a>, specifically <a href="https://en.wikipedia.org/wiki/Logistic_map">the logistic map</a>. This diagram represents the behaviour of a simple equation, \(x_{t+1} = rx_t(1 - x_t)\), repeated over and over.</p>

<p>For certain values of <code>r</code> (such as between 2.4 and 3) the resulting series of values for <code>x</code> converges to a single number. Beyond 3 however the result gets quite interesting. The series of values for <code>x</code> dance around a small but growing set of points.</p>

<p>With the help of the Python terminal:</p>

<pre><code>&gt;&gt;&gt; r = 3.2
&gt;&gt;&gt; 0.5
0.5
&gt;&gt;&gt; r * _ * (1 - _)
0.8
&gt;&gt;&gt; r * _ * (1 - _)
0.512
&gt;&gt;&gt; r * _ * (1 - _)
0.7995392
&gt;&gt;&gt; r * _ * (1 - _)
0.512884056522752
&gt;&gt;&gt; r * _ * (1 - _)
0.7994688034800593
&gt;&gt;&gt; r * _ * (1 - _)
0.5130189943751092
&gt;&gt;&gt; r * _ * (1 - _)
0.7994576185134749
&gt;&gt;&gt; r * _ * (1 - _)
0.5130404310855622
</code></pre>

<p>Here we see that for <code>r = 3.2</code> the series of values for <code>x</code> bifurcates (forks or splits) between 0.799 and 0.513.</p>

<p>What might this look like if we sweep across the range of values for <code>r</code> and keep track of a <a href="https://en.wikipedia.org/wiki/Heat_map">heat map</a> of where the resulting points end up?</p>

<p>For more on the "chaotic" aspect of the logistic map, many others in the Rust community suggested <a href="https://www.youtube.com/watch?v=ovJcsL7vyrk">Veritasium's video</a>.</p>

<h2>Multi-threading for speed</h2>

<p>In graphic generation tasks such as fractal rendering or ray tracers, the task is easily sped up by adding more computational power (see: <a href="https://en.wikipedia.org/wiki/Embarrassingly_parallel">embarrassingly parallel</a>).</p>

<p>Threads are the simplest way of taking advantage of multiple cores. Each thread can be given a small chunk of work and then the underlying operating system shuffles it across the physical CPUs available to you.</p>

<pre><code>// Each step of the loop will farm work out to upwards of NTHR threads
for chunk in (0..RESX).collect::&lt;Vec&lt;usize&gt;&gt;().chunks(NTHR) {
    let mut threads = vec!();

    // Each thread creates a slice of the image, fills it using the `bifurcate` function, then returns the slice
    for x in chunk {
        let handle = thread::spawn(move || {
            let mut slice: Vec&lt;u32&gt; = vec!(0; RESY);
            bifurcate(&amp;mut slice);
            slice
        });
        threads.push(handle);
    }

    // Once all the threads are spawned we then retrieve the `slice` result from them in order
    // `into_iter` is necessary as it may yield (T, &amp;T, &amp;mut T) vs iter (&amp;T) and JoinHandles are not Copy-able
    let slices = threads.into_iter().map(|x| x.join().unwrap());
    img.extend(slices);
}
</code></pre>

<p>Is this better than <code>tokio</code>, <code>crossbeam</code>, or <code>rayon</code>? Absolutely not. Does it work well enough for our task? Absolutely.</p>

<p>The main disadvantage here is that we're assuming each of the blocks of work are similarly sized. For our task we know this will be true. If the tasks have a high degree of variability however we're likely to "starve" our CPUs - easy threads finish early and leave only one or two "hard" threads worth of work.</p>

<p>When running with N threads on an Intel i7-1065G7 processor with 4 CPUs and 8 hyperthreads:</p>

<ul>
<li>1 thread: 38.9 seconds</li>
<li>2 threads: 21.4 seconds</li>
<li>4 threads: 17.1 seconds</li>
<li>8 threads: 9.8 seconds</li>
</ul>

<h2>Exporting images: the Portable GrayMap (PGM)</h2>

<p>Exporting images as either grayscale or RGB is a basic requirement for any graphical application.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Netpbm#PGM_example">PGM format</a> is the simplest way of producing an image, representing the pixels in a standard space delimited text format. If you're interested in colour you can look to the Portable PixMap (PPM) as well.</p>

<p>Rather than performing anti-aliasing in the application itself we'll be exporting at a higher resolution and then downsampling.</p>

<h3>Converting from PGM to PNG</h3>

<p>To convert a PGM image to a more standard format such as PNG we can use <a href="https://en.wikipedia.org/wiki/ImageMagick">ImageMagick</a>. The file names are what set the format and we can specify downsampling but setting a lower resolution than what we produce.</p>

<p><code>convert -resize 2160x1440 img.pgm img.png</code></p>

<p>Depending on your image viewer this might not be necessary for local use but will be definitely needed if you intend on sharing the images you produce with others. Eye of GNOME, the default on Ubuntu, supports PPM and PGM for example.</p>

<h2>What about rand?</h2>

<p>In this we've provided (minimal) replacements for the <code>tokio</code> and <code>image</code>crates. What about <code>rand</code> however?</p>

<p>Assuming you don't need a strong random number generated, and especially if you don't have any intent of letting it within a billion bytes of cryptographic usage, you have a number of options for psuedo random number generation (PRNG).</p>

<p>For a simple project a PRNG such as the <a href="https://en.wikipedia.org/wiki/Linear_congruential_generator">linear congruential generator</a> is likely your best bet.</p>

<pre><code>#[derive(Debug)]
struct LCG {
    state: u64
}

impl LCG {
    fn randint(&amp;mut self, m: u32) -&gt; u32 {
        // Random from [0, m] (i.e. including the end point)
        // LCG from Knuth's MMIX
        // See: https://en.wikipedia.org/wiki/Linear_congruential_generator
        let a: u64 = 6364136223846793005;
        let c: u64 = 1442695040888963407;
        self.state = a.wrapping_mul(self.state).wrapping_add(c);
        // Low bits don't have much entropy
        let low: u32 = self.state.reverse_bits() as u32;
        let high: u32 = (self.state &gt;&gt; 32).reverse_bits() as u32;
        (low ^ high) % (m + 1)
    }
}

fn main() {
    // Note: the PRNG is deterministic unless you modify this state on each run
    let mut lcg = LCG { state: 42 };
    println!("Random dice rolls: {}, {}", lcg.randint(6 - 1) + 1, lcg.randint(6 - 1) + 1);
}
</code></pre>

<h2>Conclusion</h2>

<p>In this code we've approximated the functionality gained from importing dependencies.</p>

<p>It's reassuring to know we can recreate such features ourselves even if that's rarely necessary. Beyond understanding how something works from the ground up (i.e. educational purpose) this may be necessary when deploying your code in a particularly limited environment / requirement such as <code>no_std</code>.</p>

<p>Luckily Rust provides an easy ecosystem to pull in dependencies through Crates - and I'd strongly recommend that instead!</p>

    </div></div>]]>
            </description>
            <link>https://state.smerity.com/smerity/state/01EYB6YQ5T2KFSC1PF55A3B8DG</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133713</guid>
            <pubDate>Sun, 14 Feb 2021 16:35:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Go and Ale]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133631">thread link</a>) | @andrenth
<br/>
February 14, 2021 | https://www.ale-lang.org/ffi/ | <a href="https://web.archive.org/web/*/https://www.ale-lang.org/ffi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">
  
  <p>Thomas Bradford
    Feb 12, 2021
    
  </p>
  
  
  
  
  


  
  <p>Ale is designed to be hosted within a <a href="https://golang.org/">Go</a> process. And while it‚Äôs not particularly difficult to <a href="https://www.ale-lang.org/embedding">embed</a> or even <a href="https://www.ale-lang.org/extending">extend</a> Ale, getting data structures from Go into Ale (and vice versa) has historically been a high-friction activity. There‚Äôs a reason for this and it all comes down to equality.</p>
<h3 id="equality-in-ale--equality-in-go">Equality in Ale ‚â† Equality in Go</h3>
<p>Ale employs what‚Äôs called ‚Äústructural equality.‚Äù This means that for any value, even if it‚Äôs not the same instance of a value, Ale will dive into its content to check whether or not it contains the same stuff. For example:</p>
<pre><code>(eq { :name "Ale" :age 3 :colors [:red :green :blue] }
    { :age 3 :colors [:red :green :blue] :name "Ale" })
</code></pre>
<p>In this case, even though the two objects are completely separate instances and their properties were set in different orders, Ale has determined that they are structurally identical to one another, and so the call to <code>eq</code> returns <code>#t</code>.</p>
<p>In Go, equality checking is a behavior that is, let‚Äôs say, ‚Äúdubious‚Äù. Certain types aren‚Äôt capable of being checked for equality, not even if a value of the type is being compared to itself. For example:</p>
<pre><code>f := func() {}
fmt.Println(f == f)
</code></pre>
<p>This code won‚Äôt compile. You‚Äôll get an error saying <code>"func can only be compared to nil"</code>. If you try to cheat by casting f as an <code>interface{}</code>, the code will compile, but will produce a runtime panic of <code>"comparing uncomparable type func()"</code>.</p>
<p>All this may seem quite strange, but I‚Äôm sure the Go authors had a good reason for it. Maps and Slices also display this behavior. There are ways to work around the problem in Go, such as wrapping those types in a <code>struct</code>. There are also restrictions that Go developers simply learn to ‚Äúlive with,‚Äù like not using such types as the keys in a <code>map</code>.</p>
<p>Ale, by design, has no such restriction.</p>
<pre><code>(define-lambda double (x) (* x 2))
(define func-map {
    double "a lambda that doubles"})
(func-map double)
</code></pre>
<p>This code creates a lambda called <code>double</code> and then uses it as the key in <code>func-map</code>, wherein it maps to the string <code>"a lambda that doubles"</code>. It then retrieves that string using the actual lambda.</p>

<p>These major differences between Go and Ale have always been one of the reasons why I hesitated on developing a dynamic bridge between the two languages. Until now.</p>
<h3 id="two-great-tastes-that-taste-great-together">Two Great Tastes That Taste Great Together</h3>
<p>The Ale <code>ffi</code> package is capable of bridging quite a few of Go‚Äôs types into something that can be passed around within an Ale environment. Wrapping a Go value and making it available in Ale is relatively straight-forward:</p>
<pre><code>package main

import (
	"github.com/kode4food/ale/core/bootstrap"
	"github.com/kode4food/ale/eval"
	"github.com/kode4food/ale/ffi"
)

type myStruct struct {                          // step 1
	Greeting string `ale:"message"`
    Farewell string
}

func main() {
	s := &amp;myStruct{                             // step 2
		Greeting: "Hello, World!",
        Farewell: "Goodbye, Folks!",
	}

	env := bootstrap.TopLevelEnvironment()
	bootstrap.Into(env)
	ns := env.GetAnonymous()
    w := ffi.MustWrap(s)                        // step 3
	ns.Declare("my").Bind(w)                    // step 4
	eval.String(ns, `(println (my :message))`)  // step 5
    eval.String(ns, `(println (my :Farewell))`)
}
</code></pre>
<p><strong>In step 1</strong> we define a Go type that we‚Äôll be wrapping. In the case of a <code>struct</code>, only Exported fields will be mapped by Ale. Ale will map field names to Keywords, but make no changes to their spelling or case. You may override this naming using the <code>ale</code> field tag.</p>
<p><strong>In step 2</strong> we instantiate a copy of our struct, and store a pointer to it. Ale will recognize this type as a pointer to myStruct, and handle the indirection for you.</p>
<p><strong>In step 3</strong> we wrap the Go value. <code>MustWrap</code> will panic if it cannot perform the wrapping. There is also a <code>Wrap</code> function that will potentially return an error rather than panic.</p>
<p><strong>In step 4</strong> we bind the wrapped Go value into the Ale namespace under the name ‚Äúmy‚Äù. See <a href="https://www.ale-lang.org/embedding">embed</a> for more information on how this process works.</p>
<p><strong>In step 5</strong> we ask the Ale evaluator to read, macro expand, compile, and execute our two calls to <code>println</code>.</p>
<h3 id="type-mappings">Type Mappings</h3>
<p>The following table describes how a Go primitive type (referred to as a <code>Kind</code> by the Go <a href="https://golang.org/pkg/reflect/">reflect</a> package) will be mapped to a corresponding Ale type.</p>
<table>
<tbody><tr>
    <th>Go Kind</th><th>Ale Data Type</th>
</tr>
<tr><td>bool</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/value.go">Bool</a></td></tr>
<tr><td>int(nn), uint(nn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/number.go">Number</a>
	(<a href="https://github.com/kode4food/ale/blob/master/data/integer.go">Integer</a> /
	<a href="https://github.com/kode4food/ale/blob/master/data/integer.go">BigInt</a>)</td></tr>
<tr><td>float(nn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/number.go">Number</a>
	(<a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a>)</td></tr>
<tr><td>complex(nnn)</td>
	<td><a href="https://github.com/kode4food/ale/blob/master/data/cons.go">Cons</a>&lt;<a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a><a>, </a><a href="https://github.com/kode4food/ale/blob/master/data/rational.go">Float</a>&gt;</td></tr>
<tr><td>string</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/string.go">String</a></td></tr>
<tr><td>array, slice</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/vector.go">Vector</a></td></tr>
<tr><td>struct</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a></td></tr>
<tr><td>func</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/function.go">Function</a></td></tr>
<tr><td>interface</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a>
	(of bound
	<a href="https://github.com/kode4food/ale/blob/master/data/function.go">Functions</a>)</td></tr>
<tr><td>map</td><td>
	<a href="https://github.com/kode4food/ale/blob/master/data/object.go">Object</a></td></tr>
<tr><td>chan</td><td>
	<a href="https://www.ale-lang.org/docstring/chan/">Channel Object</a></td></tr>
<tr><td colspan="2">
    The following Go kinds are not yet mapped
</td></tr>
<tr><td>uintptr</td><td>unsafe.Pointer</td></tr>
</tbody></table>

</div></div>]]>
            </description>
            <link>https://www.ale-lang.org/ffi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133631</guid>
            <pubDate>Sun, 14 Feb 2021 16:26:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I implemented custom domain support with automatic TLS certs for my SaaS app]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26133626">thread link</a>) | @thismodernlife
<br/>
February 14, 2021 | https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app | <a href="https://web.archive.org/web/*/https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
  <div>
<p><em>Managing hosting and TLS certificates for customer-specified domains can be a challenge. In this article I explain how I solved this, with relative ease, for </em><a href="https://blogline.co/"><em>blogline.co</em></a><em>. </em></p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDQ_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--50537ee2d3ede9beee2c26547182f39a1de404ef" content-type="image/jpeg" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/franck-DoWZMPZ-M9s-unsplash.jpg" filename="franck-DoWZMPZ-M9s-unsplash.jpg" filesize="34685" width="700" height="358" previewable="true" presentation="gallery" caption="https://unsplash.com/photos/DoWZMPZ-M9s"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--e1b87f97a76dfee9bc4789d6b8ba9d22aed9b561/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJYW5CbkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--a716ef5bd361b6dfee383a3ae715134b65b59d48/franck-DoWZMPZ-M9s-unsplash.jpg">

  <figcaption>
      https://unsplash.com/photos/DoWZMPZ-M9s
  </figcaption>
</figure></action-text-attachment><p>When I first started working on <a href="https://blogline.co/">Blogline</a> (a fast, minimalist blogging platform), I had only planned to use it for my own blogs. Like most app developers (certainly those using <a href="https://rubyonrails.org/">Rails</a>), I originally hosted it on <a href="https://heroku.com/">Heroku</a>, which has decent support for TLS if you're working with only a handful of known domains. Once I'd finished the early prototype, I decided it might be fun to turn it into a SaaS product that would allow customers to <strong>create a blog on their own domain in seconds</strong>. This didn't sound complicated technically ‚Äì the main problem was how to manage TLS certificates.</p></div>

<div><p>When <a href="https://letsencrypt.org/">LetsEncrypt</a> arrived, it hugely altered the TLS landscape. Developers could now programatically create TLS certificates for free rather than forking out quite large sums each year for the privilege of running their apps and sites over HTTPS. </p><p>For Blogline, I figured I would need to use LetsEncrypt (or an alternative like <a href="https://zerossl.com/">ZeroSSL</a>) in order to get custom domains working. When someone <a href="https://help.blogline.co/adding-a-custom-domain">configured their blog to use a custom domain</a> in the app, I could run a job in the background that would generate a TLS certificate using <a href="https://certbot.eff.org/">Certbot</a>, then call a Heroku API to somehow configure Heroku to deal with it correctly. Right? This didn't sound particularly fun, or perhaps even doable, so I started Googling.</p></div>

<div><p>I found an article, enticingly titled <a href="https://www.cloudflare.com/en-gb/ssl-for-saas-providers/">SSL for SaaS Providers</a> on the Cloudflare website. Their marketing suggests this product might allow me to do what I want without actually having to implement anything ‚Äì my laziness was paying off already!&nbsp;</p></div>
<blockquote>Cloudflare SSL for SaaS allows a SaaS company‚Äôs end customer to continue using a custom vanity domain, while securing its communication through SSL.&nbsp;</blockquote>
<div>
<p>Unfortunately, I had to fill out a <strong>Talk To Us!</strong> form in order to get a price quote, and further Googling told me this was available only to Enterprise customers (üí∏üí∏üí∏) and would cost thousands (!) per month.&nbsp;</p><p>Moving swiftly on...</p></div>

<div><p>Although the zero-effort Cloudflare solution had been ripped out of my miserly hands, my incessant Googling had helped me figure out that the search term I needed was "on-demand TLS". The top hit for this term was <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;ved=2ahUKEwjA67emzunuAhVTiFwKHSEFBTMQFjAAegQIBhAC&amp;url=https%3A%2F%2Fcaddyserver.com%2Fdocs%2Fautomatic-https&amp;usg=AOvVaw3jgL_xUvfCfAbe1SvHRDyx">Caddy Web Server</a>, something I had never heard of before. The Caddy website states:</p></div>
<blockquote>Automatic HTTPS provisions TLS certificates for all your sites and keeps them renewed. It also redirects HTTP to HTTPS for you!</blockquote>
<div>
<p>This sounded almost too good to be true, but this 29-second video demonstrates how incredibly simple it is to use:</p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSInZ2lkOi8vYmxvZ2xpbmUvRW1iZWQvMzE_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--f0fa8e56f789b0ef1526c2b0fb0e6d7918364905" content-type="application/octet-stream"><p>
  <iframe width="200" height="150" src="https://www.youtube.com/embed/nk4EWHvvZtI?feature=oembed"></iframe>
</p>
</action-text-attachment></div>
<div><p>A few quick experiments and it was clear that Caddy was exactly the right tool for the job. It's amazing! It's not that often you come across a tool that not only solves a complex problem, but does so painlessly. Serious kudos to the Caddy developers and community.</p><p>My app was still hosted in Heroku and so I needed to get Caddy working as a reverse proxy, something which is surprisingly easy. I created a $5 droplet on <a href="https://m.do.co/c/b1753df861c4">DigitalOcean</a>, installed Caddy (<a href="https://caddyserver.com/docs/install">a one liner on Ubuntu</a>) and configured it to reverse proxy requests to my Heroku app. The entire config looked something like this:</p></div>
<pre> reverse_proxy * {
    to https:<em>//myapp.herokuapp.com</em>

    header_up Host {http.reverse_proxy.upstream.hostport}
    header_up X-Forwarded-For {http.request.remote}
    header_up X-Real-IP {http.reverse-proxy.upstream.address}
    header_up X-Forwarded-Proto {http.request.scheme}
    header_up X-Forwarded-Port {http.request.port}
    header_up X-Forwarded-Host {http.request.host}
    
    tls { 
      on_demand 
    }
    
    log {
      output file /var/log/caddy/access.log
    }  
}</pre>
<div>
<p>The primary DNS for <strong>blogline.co</strong> didn't need to change since I'd already sorted TLS with Heroku for that domain, but for blogs configured with custom domains, all a customer needed to do was point their DNS to my new DigitalOcean droplet and let Caddy do the rest. </p><action-text-attachment sgid="BAh7CEkiCGdpZAY6BkVUSSI2Z2lkOi8vYmxvZ2xpbmUvQWN0aXZlU3RvcmFnZTo6QmxvYi8xMDU_ZXhwaXJlc19pbgY7AFRJIgxwdXJwb3NlBjsAVEkiD2F0dGFjaGFibGUGOwBUSSIPZXhwaXJlc19hdAY7AFQw--ea8f27e81469040cd2dc6328ebacc49b162aa108" content-type="image/png" url="https://app.blogline.co/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/image.png" filename="image.png" filesize="140833" width="1142" height="722" previewable="true" presentation="gallery"><figure>
    <img src="https://headey.net/rails/active_storage/representations/proxy/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBiZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--3b78bb1fca65ad6f86711d5be30a3d6be4a87058/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDRG9MWm05eWJXRjBTU0lJY0c1bkJqb0dSVlE2RkhKbGMybDZaVjkwYjE5c2FXMXBkRnNIYVFJQUJHa0NBQU02QzJ4dllXUmxjbnNHT2dsd1lXZGxNQT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--8e53091023a64453f29344de82e7f7cbaa8dfb83/image.png">

  <figcaption>
  </figcaption>
</figure></action-text-attachment><p>It works!&nbsp;</p></div>

<div><p>This initial implementation was working ok, but there were a few things that I wanted to improve.&nbsp;</p><p>I was a little concerned in the back of my mind that Caddy was storing the TLS certificates on my DigitalOcean droplet, of which there was only one. What if my app was wildly successful (right now I'm like ü§£) and I had to load balance Caddy. If you leave the default configuration in place, each Caddy instance will generate and store their own copies of TLS certificates which could cause issues with LetsEncrypt rate limits.</p><p>The Caddy developers have made it easy to generate plugins, and there are several storage back-ends you can configure so that multiple Caddy instances share the same certs. The main options for storage are Redis and DynamoDB. I was already running Redis, so it made sense to use that. I had to jump through a few hoops to get the plugin running since the default Ubuntu Caddy install doesn't support them ‚Äì you have to build them yourself. Fortunately this is pretty straight forward.</p><p>First you need Golang 14:</p></div>
<pre>sudo apt install golang-1.14-go</pre>


<pre>go get -u github.com/caddyserver/xcaddy/cmd/xcaddy</pre>
<div>
<p>Then you can build Caddy with the Redis plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis</pre>
<div>
<p>This will generate a new Caddy binary which you can copy into <strong>/usr/bin</strong>.</p><p>Configuring Caddy is straightforward. I just added the following to the top of my config (while also configuring the referenced environment variables on my system):</p></div>
<pre>{ 
  storage redis { 
    host {$CADDY_CLUSTERING_REDIS_HOST} 
    port {$CADDY_CLUSTERING_REDIS_PORT} 
    password {$CADDY_CLUSTERING_REDIS_PASSWORD} 
    db {$CADDY_CLUSTERING_REDIS_DB} 
    tls_enabled {$CADDY_CLUSTERING_REDIS_TLS} 
    aes_key {$CADDY_CLUSTERING_REDIS_AESKEY} 
  }
}</pre>
<div>
<p>With certs now being stored in Redis, I could fire up as many Caddy instances as I like and point them to the same Redis instance. No dupes.</p></div>

<div><p>If you have a site running on the public internet, you're going to be hit by bot requests. What you don't want is bots hitting your Caddy-delivered app with spurious requests that result in LetsEncrypt certificates being created inadvertently, and rate limits being maxed out. Obviously I didn't read the manual properly, so this happened to me ü§¶üèª‚Äç‚ôÇÔ∏è.</p><p>Caddy allows you to <a href="https://caddyserver.com/docs/caddyfile/options#on-demand-tls">configure an endpoint for verifying whether it should try and provision a TLS cert</a> for a given domain. For Blogline, this is a simple Rails action that performs a single DB query and returns <strong>200</strong> or <strong>404</strong> depending on whether the custom domain is recognised. To configure this endpoint in Caddy, you add a global config:</p></div>
<pre>{ 
  on_demand_tls { 
    ask http://127.0.0.1:1234/my-check-endpoint/ 
    interval 2m 
    burst 5 
  } 
}</pre>


<div><p>Now that I had this running, it made sense to also point the main <strong>blogline.co</strong> domain at Caddy as well. Blogline requires a wildcard certificate but (of course!) Caddy also handles these, as long as you <a href="https://caddy.community/t/how-to-use-dns-provider-modules-in-caddy-2/8148">configure it to access your DNS provider</a>.</p><p>This requires another plugin, so I needed to rebuild Caddy again, this time using the Cloudflare DNS plugin:</p></div>
<pre>xcaddy build --with github.com/gamalan/caddy-tlsredis --with github.com/caddy-dns/cloudflare</pre>
<div>
<p>Once I'd installed the new binary, I added a new section to my Caddy config specifically for the <strong>blogline.co</strong> domain:</p></div>
<pre>*.blogline.co:443 {
    reverse_proxy 127.0.0.1:1234

    tls {
      dns cloudflare &lt;API-token&gt;
    }

    log {
      output file /var/log/caddy/access-blogline.log
    }
}</pre>
<div>
<p>Now all requests to the Blogline app come via Caddy and TLS is handled automagically, including a wildcard certificate for any requests to the <strong>*.blogline.co</strong> domain (e.g. <a href="https://help.blogline.co/">help.blogline.co</a>).</p></div>

<div><p>Proxying requests from DigitalOcean to Heroku wasn't pleasing me, so I decided to move all the hosting to DigitalOcean. Leaving the 'no servers' approach of Heroku was a little worrying as I really don't want to have to deal with infrastructure, but given that I was already server-wrangling with Caddy it didn't seem like too much extra effort. </p><p>Thankfully I discovered the wonderful <a href="https://hatchbox.io/?via=olly">HatchBox</a>, developed by Chris Oliver, which made server provisioning and deployment pain a thing of the past. It's absolutely fantastic. Although HatchBox doesn't support Caddy yet (apparently it's coming), it was easy enough to provision the servers first and then install Caddy myself. It hooks into my Github so when I merge a PR, Hatchbox takes care of the deployment. It's essentially the same end-user experience as Heroku.</p><p>Being all-in on DigitalOcean meant I could make use of their Managed Postgres and Managed Redis options, as well as ditching AWS S3 for DigitalOcean Spaces which is API compatible. They have also recently released their <a href="https://www.digitalocean.com/products/app-platform/">managed Kubernetes 'app platform'</a> which is something I plan to look at, and would give me the equivalent serverless infra that Heroku currently provides.</p></div>

<div><p>Some of this might come across initially as complicated, but it's honestly not. There are very few moving parts and you don't need to be a particular adept sysadmin (I am not!) to achieve the same goal. If you get stuck, the <a href="https://caddy.community/">Caddy Community</a> site is excellent.</p><p>I'd love to hear from people about this write up, but also about any alternative approaches that people have taken to solve the same problem. If this is something you've tackled, please <a href="https://headey.net/contact">drop me an email</a> and let me know!</p></div>
</div>

  </div><div data-controller="email-subscribers">
    <p>Subscribe to Email Updates</p>

    

      </div></div>]]>
            </description>
            <link>https://headey.net/how-i-implemented-custom-domain-support-with-automatic-tls-certs-for-my-saas-app</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133626</guid>
            <pubDate>Sun, 14 Feb 2021 16:25:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Facebook users who swap profiles of dead people]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133536">thread link</a>) | @elsewhen
<br/>
February 14, 2021 | https://restofworld.org/2021/facebooks-underground-obituary-pages/ | <a href="https://web.archive.org/web/*/https://restofworld.org/2021/facebooks-underground-obituary-pages/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

			<!-- Article Start -->
			
<p><span>W</span>hen Let√≠cia Werle‚Äôs mother was diagnosed with terminal cancer a few years ago, she and her sister were forced to make a series of difficult decisions. That included deciding what to do about their mother‚Äôs Facebook page. Both sisters agreed to delete the profile after her death, thinking it would be too painful to encounter her lingering presence online.&nbsp;</p>



<p>Werle‚Äôs mother had used the internet to dote on her children, often calling through Skype, forwarding email chains, and reacting to Werle‚Äôs every post on Facebook with commentary and compliments. But deleting the profile ‚Äúleft a blank space,‚Äù Werle told <em>Rest of World</em>. ‚ÄúI would see the comments listed on a post of mine and open it, just to find that the one she made had vanished.‚Äù</p>



<p>Six years later, after the coronavirus pandemic forced Werle to spend more time at home, she began questioning the decision. One day, while sitting in her house in Lajeado, a small town in southern Brazil, where she lived at the time, Werle logged into her mother‚Äôs Facebook account on a whim. She already knew the password by heart and had registered herself as her mother‚Äôs ‚Äúlegacy contact,‚Äù a designation that allows a person to manage the Facebook profile of a loved one after their passing. After Werle revived the account, she watched as her mother‚Äôs comments and posts came back to life, reading them over and over.&nbsp;</p>



<p>Werle, who works as a proofreader and translator, has spent her time in lockdown not only rediscovering her mother‚Äôs profile but reading the profiles of other Facebook users who are now dead. For years, she has been part of a private Facebook group called Profiles de Gente Morta (Profiles of Dead People), a space where Brazilians collect, share, and discuss accounts of the recently deceased. A handful of groups in Brazil share the name, which is abbreviated as PGM. Werle belongs to one of the smaller communities, but <a href="https://www.facebook.com/groups/pgmreal">the largest includes more than 160,000 users</a>, and, together, they have nearly half a million members.</p>



<p>From the outside, PGM groups may appear macabre, like watering holes for death enthusiasts. In reality, they are complex spaces where Facebook users process loss. ‚ÄúPGM helps you go through your grief. It answers your questions without judgment, without offending or harming anyone,‚Äù said Werle. ‚ÄúI don‚Äôt know if I would have recovered my mother‚Äôs profile, if it was not for the group.‚Äù Long before the Covid-19 pandemic digitized <a href="https://restofworld.org/2020/japan-death-technology-rituals/">funeral practices</a> and forced people to reckon with unfathomable loss, PGM members were developing a way to mourn the deaths of strangers together, challenging taboos about grieving in the process.</p>



<p>By the time Werle joined PGM, tens of thousands of the subculture‚Äôs members were already sharing daily updates featuring newly deceased users. The community dates back to the early 2000s on Orkut, an early social network owned by Google that was roughly as popular in Brazil as MySpace was in the United States. Back then, Orkut users who joined PGM searched for profiles belonging to victims of violent crimes and discussed their cases with one another. When the group later migrated to Facebook, it evolved to encompass people who died of any cause.</p>



<p>Each profile link shared in PGM groups is a portal into the life of a total stranger: how they looked in photos, what political views they held, who they were friends with, and who tagged them in posts. Some members look for commonalities between them and the deceased, such as&nbsp;a shared profession, alma mater, or birthday. Others study the last posts they made before they died, in an effort to piece together what may have happened. Just as often, the speculation extends into the afterlife, as members comment about where a person may be now.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-40x27.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-400x267.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-600x400.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-1000x667.jpg 1000w, https://restofworld.org/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-1600x1067.jpg 1600w, https://restofworld.org/wp-content/uploads/2021/02/RoW_Marcio_Pimenta-6-2800x1867.jpg 2800w, " sizes="(max-width: 640px) 100vw, 600px(max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				
			</figcaption>
		</figure>


<p>Beyond morbid curiosity, people may find PGM groups appealing because of a phenomenon Jed Brubaker calls <a href="https://pubmed.ncbi.nlm.nih.gov/24517705/">‚Äúemotional rubbernecking</a>.‚Äù Brubaker, a digital identity researcher at the University of Colorado Boulder, explained that Facebook has evolved into a space for public mourning, where pictures and written memories fill a loved one‚Äôs profile after their death. Users may seek out these profiles to observe the emotional fallout, like passersby slowing down to observe the aftermath of a car crash.&nbsp;</p>



<p>For years, the posts made in PGM groups have followed a standard format: a link to the Facebook profile of the deceased and a brief description, plus the person‚Äôs age, cause of death, and full name, which is bookmarked between two cross emojis. The groups also have <a href="https://purehost.bath.ac.uk/ws/portalfiles/portal/193207814/MARTINS_VAN_DEN_HURK_ANDREIA_THE_VIRTUAL_WAKE_IN_BRAZIL_Redacted.pdf">their own vocabulary</a>: ‚ÄúNSC‚Äù refers to ‚Äúunknown <em>causa mortis</em>,‚Äù and ‚ÄúOFF‚Äù is used to label discussions about death and dying that aren‚Äôt related to a specific user‚Äôs Facebook page. Members flood the comment section with messages of ‚ÄúDEP,‚Äù the equivalent in Portuguese of ‚ÄúRIP.‚Äù</p>



<div><p>Moderators play an active role in deciding what happens within the walls of PGM and are responsible for approving all profiles submitted by other members. They are tasked with keeping an eye on heated debates and will step in whenever someone disrespects the dead, like by mocking those who passed away or ridiculing cases of suicide. Each group has a slightly different culture, which is reflected in their policies. Some pride themselves on being ‚Äúuncensored‚Äù and include posts with images of grisly deaths. Others poll members ahead of time about whether they want their profiles to be featured after they die.</p><p>The job is an enormous time commitment. ‚ÄúAt the very least, I‚Äôm there from the hour I wake up to when I go to sleep,‚Äù said Ana Bittencourt, a Brazilian journalist who moderates Werle‚Äôs PGM group. ‚ÄúMy boyfriend does not get it. He finds it awful.‚Äù Bittencourt has lost count of how many notifications she gets in a day. Most come from active members who monitor obituaries and news sites for new cases or post the profiles of coworkers, neighbors, and even their own family members. ‚ÄúWhenever I find out that someone died, I think, Oh God, I have to post the profile for everyone to see it,‚Äù said Werle, who first joined her PGM group in 2014.&nbsp;</p></div>



<p>Recently, Covid-19 has become a major topic of discussion in the PGM community. Brazil has experienced the world‚Äôs second-deadliest outbreak of the novel coronavirus, and <a href="https://www.bloomberg.com/news/articles/2021-01-07/brazil-covid-deaths-pass-200-000-with-vaccinations-still-on-hold">over 200,000 people<strong> </strong>have died</a> (the actual death toll is almost certainly higher). Bittencourt said she had approved over 1,500 profiles belonging to Covid-19 victims by early October.</p>


		<figure>
			<div>
				<p><img src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/screenshot-on-desktop-PGM-1-40x20.jpg" data-src="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/screenshot-on-desktop-PGM-1-768x432.jpg" data-srcset="https://149346090.v2.pressablecdn.com/wp-content/uploads/2021/02/screenshot-on-desktop-PGM-1-400x205.jpg 400w, https://restofworld.org/wp-content/uploads/2021/02/screenshot-on-desktop-PGM-1-600x307.jpg 600w, https://restofworld.org/wp-content/uploads/2021/02/screenshot-on-desktop-PGM-1-1000x512.jpg 1000w, " sizes="(max-width: 640px) 100vw, (max-width: 992px) calc(100vw - 40px), (max-width: 1140px) calc(100vw - 290px), calc(100vw - ((100vw - 640px)/2))" alt="Brazilians gather on Facebook groups like PGM to collect, share and discuss accounts of the recently deceased.">
					
				</p>
			</div>
						<figcaption itemprop="caption description">
				
				<span itemprop="copyrightHolder"><a href="https://www.facebook.com/groups/pgmreal" target="_blank" rel="noopener noreferrer">https://www.facebook.com/groups/pgmreal</a></span>
			</figcaption>
		</figure>


<p>Years before the coronavirus reached Brazil, PGM members were already navigating one peculiarity of the pandemic ‚Äî funeral livestreaming. It‚Äôs customary in Brazil to bury a loved one within 36 hours of their passing, so wakes, or <em>vel√≥rios</em>, are usually held as soon as possible. Last year, travel bans and social distancing forced funeral homes worldwide <a href="https://www.nytimes.com/2020/04/02/opinion/coronavirus-funeral-livestream.html">to launch digital services</a>, but the Brazilian industry has long accommodated loved ones from other states and countries who can‚Äôt attend in person. By 2017, <a href="https://brasil.estadao.com.br/noticias/geral,pacote-para-velorio-inclui-video-com-transmissao-ao-vivo-e-mensagens,70001714096">10% of funeral homes</a> in the country said they offered streaming capability.&nbsp;</p>



<p>PGM members took notice and began scrounging the web for funeral home websites that hosted vel√≥rio streams that weren‚Äôt protected with a password. Others found passwords posted by family members on Facebook. In 2018, a <a href="https://researchportal.bath.ac.uk/en/studentTheses/the-virtual-wake-in-brazil">survey of PGM members</a> conducted by Andreia Martins van den Hurk, a death studies researcher at the University of Bath, found that more than a third of the people in Werle‚Äôs group had watched at least one virtual vel√≥rio for someone they didn‚Äôt know.&nbsp;</p>



<div><p>‚ÄúSometimes the bodies would be there through the night,‚Äù said van den Hurk. ‚ÄúThey felt they were keeping them company by watching and that it was an honorable thing to do.‚Äù Some viewers told her they had recently lost someone and found comfort or catharsis in seeing the deceased‚Äôs family and friends huddled in the chapel. But to other PGM members, the voyeurism crossed a line, putting viewers face to face with the deceased‚Äôs body.</p><p>‚Äú[Vel√≥rios] are far too intimate, even if they‚Äôre taking place online ‚Äî funeral homes create those links for the families,‚Äù said Bittencourt, who as a moderator sometimes still approves livestream links, though they have become less popular over the past two years. ‚ÄúA few years ago, there was such a fever of virtual vel√≥rios. I do not judge it, but I personally find it awful.‚Äù</p><p>Without established social norms and taboos as a guide, the rules for how we mourn online are still being written, and social media platforms <a href="https://restofworld.org/2020/kpop-jonghyun-twitter-policy/">may play an outsized role in determining them</a>. ‚ÄúFacebook isn‚Äôt a cemetery. Facebook is a community with dead people scattered about,‚Äù said Brubaker, who was part of the product team that built the social network‚Äôs legacy contact system, launched in 2015. As platforms continue growing, this disorganized archive of deceased users will expand as well. Eventually, <a href="https://journals.sagepub.com/doi/pdf/10.1177/2053951719842540">researchers from Oxford University‚Äôs Internet Institute predict </a>Facebook may host more profiles for dead people than people who are alive.</p><p>In the absence of a formal system for documenting death across the platform, PGM has essentially built its own obituaries page. They are not the first community to do so: In the early days of MySpace, users created a message board site to share profiles of their deceased peers called <a href="http://mydeathspace.com/">MyDeathSpace</a>. Death tech researchers argue that the networked nature of online platforms have helped forge new forms of grief, which may not fit conventional molds. ‚ÄúIf you‚Äôre going to think about whose grief is more important, do you think about the severity of an individual‚Äôs grief? Or do you think about the aggregate of small grief from a huge network?‚Äù said Brubaker.</p><p>PGM offers one model for confronting an accumulation of grief. Years before the pandemic, members were gathering every day to process the deaths of loved ones, alongside an ever-growing list of people they had never met. ‚ÄúDying is social too. A vel√≥rio has to ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://restofworld.org/2021/facebooks-underground-obituary-pages/">https://restofworld.org/2021/facebooks-underground-obituary-pages/</a></em></p>]]>
            </description>
            <link>https://restofworld.org/2021/facebooks-underground-obituary-pages/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133536</guid>
            <pubDate>Sun, 14 Feb 2021 16:15:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bladeless Wind Turbines]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26133497">thread link</a>) | @kyleShropshire
<br/>
February 14, 2021 | https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462 | <a href="https://web.archive.org/web/*/https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Wind is an essential part of the global 
renewable energy landscape and in the foreseeable future, the reliance 
on it is anticipated to increase. Currently, turbines are the most 
commonly used machines to convert wind energy into electrical energy 
with the movement of the blades fuelling an electricity generator. 
However, the top-heavy nature of conventional wind turbines requires 
high-quality components to avoid structural damage. This factor 
increases the cost of constructing the whole system. On the other hand, 
with the recent innovation of bladeless wind turbines, the risk of 
structural damage to the system can be reduced significantly. Bladeless 
wind turbines do not include rotating blades and are designed in such a 
way that they stand erect and oscillate in response to the vortices. The
reduced weight of these turbines is acting as a primary driver of the 
global bladeless wind turbines market.</p>
<p>The report offers insights into the 
drivers, restraints, and opportunities impacting the growth of the 
market. It calculates the competitive landscape of the market using 
analytical tools such as market attractiveness analysis and Porter‚Äôs 
five force analysis. It presents a holistic perspective of the market‚Äôs 
growth across various regions and product type in terms of revenue as 
well as volume.</p>
<p><strong>Read Report Overview @</strong></p>
<figure><p>
https://www.transparencymarketresearch.com/bladeless-wind-turbines-market.html
</p></figure>
<p><strong>Overview of the Global</strong>&nbsp;<strong>Bladeless Wind Turbines&nbsp;</strong><strong>Market</strong></p>
<p>Bladeless wind turbines contain only a 
few moving parts. They not only help in eliminating noise but also don‚Äôt
pose a threat to birds. This makes them more advanced than their 
earlier counterparts. Moreover, the lower cost of manufacturing and 
maintenance of these turbines is contributing to an increase in their 
demand. In addition to lower costs, these turbines do not suffer large 
drop in power. As a result, more bladeless wind turbines can be 
installed per unit area than conventional wind turbines. These factors, 
collectively, are propelling the growth of the global bladeless wind 
turbines market.</p>
<p>On the flip side, bladeless wind  turbines,&nbsp;being at a nascent stage, are less efficient in the conversion  of captured wind power into electrical energy, thus limiting their  implementation on a large scale. However, the manufacturing of bladeless  wind turbines using advanced technology&nbsp;and enhanced materials is  likely to boost the demand for these turbines in the forthcoming years.</p>
<p>
At present, the global bladeless wind turbine market is&nbsp;being propelled 
by the efforts of a Spanish company, Vortex Bladeless, which has 
innovated a contemporary design of bladeless turbines. With intensive 
ongoing research and product enhancements, more companies are expected 
to enter the market.
</p>

<p>On the basis of region, the global  bladeless wind turbines market is categorized into Western Europe,  Eastern Europe, Asia Pacific, Latin America, North America, and the  Middle East and Africa. The adoption of bladeless wind turbines is  expected to pick up speed in Western Europe owing to presence of  favorable environmental conditions and availability of advanced  technology. Asia Pacific is estimated to flourish due to increasing  government initiatives for promoting wind energy.</p>
</div></div>]]>
            </description>
            <link>https://www.evwind.es/2019/05/31/bladeless-wind-turbines-less-efficient-in-the-conversion-of-captured-wind-power-into-electrical-energy/67462</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133497</guid>
            <pubDate>Sun, 14 Feb 2021 16:11:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Entreprenerd: Marketing for Programmers]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133340">thread link</a>) | @athosblade
<br/>
February 14, 2021 | https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers | <a href="https://web.archive.org/web/*/https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
        <div>
  <div>
    
    <h2>A Condensed Guide to Marketing Software</h2>
    <p><img src="https://www.jackkinsella.ie/assets/entreprenerd/entreprenerd-cover-ee444e819661ce962b44e840eddcf6505208a984b55209ef4ea0d97064a9ac91.jpg" alt="Entreprenerd cover"></p><p>Both the HTML version of the book and the luxury <a href="https://drive.google.com/drive/folders/0B36dwR68NHU3cHJaWWY2Y2E3bkk">Kindle/PDF</a> versions are free forever.</p>
    <h2>Introduction</h2>
    <p>
    In a fair world, meritocracy would rule. Being good at what you do would be all that's necessary to get fans, sales, custom, and acclaim.
    </p>

    <p>
    But we do not live in such a world; our reality is a crowded one, one where only those who shout the loudest get noticed.
    </p>

    <p>
    It is disconcerting to consider our own insignificance, but it is only by taking this perspective that we grasp the difficultly of entering the public√¢‚Ç¨‚Ñ¢s awareness.
    </p>

    <p>
    Given vast access to the machinery of the web and digital publishing, each of us is competing for attention with a billion others. Each of us has but one painting sitting in a gallery housing a thousand others, stationed in a city hosting a thousand such galleries, situated in a world with a thousand such cities. Leaving our painting√¢‚Ç¨‚Ñ¢s discovery to fate alone, our chances of being noticed are little better than those of winning the lotto.
    </p>

    <p>
    This state of affairs is hardly a new one. Charles Ives, considered by some to be the greatest American composer, ceased writing music 18 years before his death. For the remainder of his life, he dedicated himself to promoting and distributing his music. Without this gargantuan effort, it is doubtful that his work would have the acclaim it enjoys today.
    </p>

    <p>
    The ultimate goal of all marketing is to get ever-increasing, self-perpetuating word of mouth (or, to be more modern about it, "recommendation of Reddit" or "tweet of Twitter"). But this is a case of the rich getting richer, of attention begetting attention, of the virtuous circle in full swing. Because word of mouth only kicks in after the snowball is already hurtling down the slope, a more apt question is how to get the thing to budge in the first place.
    </p>

    <p>
    The approach outlined in this book is one possible answer to this question. In a nutshell, the strategy is as follows: You will take out online advertisements and invest in SEO so as to inform relevant members of the public that you exist. Thanks to the potency of these measures, a steady stream of promising leads will arrive to your website. Here, you will apply the psychological tactics of conversion optimisation and copywriting to convince these leads to place orders, download your music, or whatever it is you want them to do. Following their conversion, you will send these past customers automated emails and display remarketing ads so as to keep them coming back to you again and again. Meanwhile, throughout every stage of this process, you will study reports in Google Analytics to discover which particular marketing measures brought you the highest profits. So as not to be fooled by randomness, you will apply statistical significance testing, thereby ensuring that any confidence you have in your marketing conclusions is justified.
    </p>

    <p>
    I want to highlight that not all of your marketing forays will bear fruit. Indeed, most will fail. The reality is that you will need to try out lots of different angles until you find the one that sticks.
    </p>

    <p>
    And with that, let's dive in.
    </p>

    <h2>Table of Contents</h2>
    <ul>
      <li><a href="https://www.jackkinsella.ie/articles/seo-steps-to-take-before-writing-a-single-line-of-code">SEO Steps To Take Before Writing a Single Line of Code</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-on-each-individual-page">SEO on Each Individual Page</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-at-the-whole-website-level">SEO at the Whole Website Level</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-by-mitigating-duplicate-content-issues">SEO by Mitigating Duplicate Content Issues</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-in-image-search">SEO in Image Search</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-through-backlinks">SEO Through Backlinks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-with-social-networks">SEO with Social Networks</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/seo-and-internationalisation">SEO and Internationalisation</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/website-copywriting">Website Copywriting</a></li>
      <li><a href="https://www.jackkinsella.ie/articles/google-analytics-lessons">A Lasting Marriage: Google Analytics</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/the-conversion-surgeon-a-guide-to-conversion-rate-optimization">The Conversion Surgeon-Guide to Conversion Optimisation</a></li>
      <li><a target="_blank" href="https://blog.kissmetrics.com/epiphanies-needed-to-grasp-statistical-significance/">Statistical Significant Testing</a> <b> [External: Kissmetrics]</b></li>
      <li><a href="https://www.jackkinsella.ie/articles/email-marketing">Email Marketing</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/introduction-to-paid-advertising">Introduction to Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/building-an-advertising-ready-web-application">Building an Advertising Ready Web Application (and other preparations for advertising)</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/staying-organised-when-advertising">Staying Organised When Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/a-tour-of-targeting">A Tour of Targeting</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/ad-creative-writing-basics">Basics of Writing Ad Creatives</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/strategic-principles-in-paid-advertising">Strategic Principles in Paid Advertising</a> </li>
      <li><a href="https://www.jackkinsella.ie/articles/optimising-and-debugging-paid-advertisements">Optimising and Debugging Paid Advertisements</a> </li>
    </ul>
  </div>
</div>

      </div></div>]]>
            </description>
            <link>https://www.jackkinsella.ie/books/entreprenerd/marketing_for_programmers</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133340</guid>
            <pubDate>Sun, 14 Feb 2021 15:52:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A ‚ÄúPredatory‚Äù Stop-Sign Camera Is Terrorizing My Neighborhood]]>
            </title>
            <description>
<![CDATA[
Score 63 | Comments 63 (<a href="https://news.ycombinator.com/item?id=26133260">thread link</a>) | @LordAtlas
<br/>
February 14, 2021 | https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/ | <a href="https://web.archive.org/web/*/https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div id="pico"><p>Traffic cameras can cross the thin line in law enforcement between keeping citizens safe and fucking them over.&nbsp;</p><p>Full disclosure: I‚Äôm counting myself among the fucked over. In late August, I was notified by the photo enforcement wing of the D.C. Department of Motor Vehicles that I‚Äôd been issued four tickets for ‚Äúpassing‚Äù the same stop sign on four different occasions. Two of the tickets were written on the same day. A stop-sign camera, the lowest-form of traffic cam yet unleashed, got me. The fines totaled $400.</p><figure><img src="https://lh6.googleusercontent.com/IE1N-0rH7w9HBLp1zQWpNnnz0sPCmuNqvuT_JFyAfV41OvUmGHNi9NCKCMTmtIrLndixSJW4-YhU4CHUjBp_whpIuN7wbF0mcNjJ7j8S_dNULTHCQIlOCa-rMD_LKzmbl8I-8iNq" alt=""></figure><p>I try to obey parking and traffic laws. Obsessively even. Not because I‚Äôm cautious or a good citizen. Because I‚Äôm cheap as hell! And I know from experience that D.C. ticket writers will nail you every time you give them a reason to, and lots of times even when you don‚Äôt. Anybody who‚Äôs lived here for any time or even visited much can affirm.</p><p>The last time I wrote a story about the city‚Äôs hyperaggressive ticketing strategies was in the early 1990s. At the time, violent crime was so out of hand here that the place was known as America‚Äôs Murder Capital. But local government‚Äôs most obvious crime-fighting efforts came in the parking realm. D.C. was making so much money off parking violations that officials were actually putting on seminars for leaders from various states and even foreign governments on how to increase revenues through ticket writing. I lived in the very dense Mount Pleasant neighborhood back then and legal parking was hard as hell to find. But even if you found a spot you weren‚Äôt safe. I‚Äôd sometimes spend 15 minutes driving around before landing a spot without a ‚ÄúNo Parking‚Äù sign in play and no painted curb or fire hydrant nearby or any sort of hint at all that this space was off-limits, only to return to my car an hour later to find a pink slip underneath the windshield wiper bogusly saying I‚Äôd violated the two-hour maximum time limit, or finding handwriting on the ticket saying my vehicle was ‚Äúless than 40 feet‚Äù from an intersection or driveway or whatever the ticket writer needed to help meet his or her quota and slap me with a $25-and-up fine. I remember coming out of my apartment one morning and seeing a posse from the Metropolitan Police Department (MPD) walking down the main drag, Mount Pleasant Street, and leaving a ticket on just about every windshield. I asked an officer what was happening and was told that they‚Äôd been ordered by their commander to enforce a law requiring all parked cars to have their wheels turned toward the curb. (Who knew such a law existed?)&nbsp;</p><p>The city made contesting a ticket an all-day affair in which you‚Äôd lose in the end anyway. Your car would get ‚Äú<a href="https://dpw.dc.gov/service/booting-and-impoundment" target="_blank" rel="noreferrer noopener">booted</a>‚Äù and towed by the city if you amassed more than three unpaid parking tickets or total fines above $200, and you couldn‚Äôt register a car or get a vehicle inspection or renew a drivers license in the city without settling your DMV bill. I pretty much always had more than three outstanding tickets, and the penalties doubled after a month, so I often owed the city more in fines than my beater Toyota was even worth. I worked hard trying to beat the system. I stayed on the road by registering my car at my mom‚Äôs address in suburban Virginia, and using that same address for my driver‚Äôs license. I was constantly going to the Virginia DMV and paying a $25 fee to get new license plates that wouldn‚Äôt be on D.C.‚Äôs boot/tow list, which surely had my old tag numbers on it. I knew at the time that my fight wasn‚Äôt exactly righteous. But, well, the city wasn‚Äôt exactly observing Marquess of Queensberry Rules with me either.</p><p>The car wars ended when my jalopy got stolen. Losing the car, even by theft, actually came as a relief. I didn‚Äôt own another vehicle until I left Mount Pleasant in 2002 for the Petworth neighborhood and all its street parking.&nbsp;</p><p>I hadn‚Äôt really thought of the ticketing horrors from my past since the move. But the four stop-sign violations at the same intersection‚Äîat $100 a pop!‚Äîbrought all the bad memories back. The city‚Äôs letter to me telling me about the tickets said there was video of my offenses online. I was able to access only one of the four clips. It was indeed my car in the shot, and it showed that as I approached the four-way stop I slowed down to almost zero miles an hour, but hell if I ever came to a dead stop. The old California stop. By the letter of the law, I was a violator. Dammit.</p><p>But this massive punishment still felt off. I‚Äôve been living about 200 yards from that <a href="https://www.google.com/maps/place/Kansas+Ave+NW+%26+Buchanan+St+NW,+Washington,+DC+20011/@38.946233,-77.0248877,17z/data=!3m1!4b1!4m5!3m4!1s0x89b7c86d4e139bf7:0x7b586b15117de56f!8m2!3d38.946233!4d-77.022699" target="_blank" rel="noreferrer noopener">four-way-stop intersection</a> for 19 years now, and have known about that stop-sign camera for a huge chunk of that time. But I‚Äôd never gotten a single ticket from it. I‚Äôd never even heard of anybody else in the neighborhood getting nabbed. But here I get four in one load of mail. </p><p>So I started looking into the camera that nailed me. Turns out it holds a special place in the shitty history of traffic enforcement. The <a href="https://cluballiance.aaa.com/public-affairs/press-release/?rdl=hartford.aaa.com&amp;Id=8b025de6-9f63-41a4-9541-f223b66c30c9" target="_blank" rel="noreferrer noopener">American Automobile Association</a> described D.C. as the first major city to use photo enforcement for stop-sign violations. And the stop-sign cam in my neighborhood, installed in 2013, was <a href="https://wtop.com/news/2013/08/dc-tests-first-stop-sign-camera/" target="_blank" rel="noreferrer noopener">the first ever in D.C.</a> I found a segment from NBC‚Äôs <a href="https://www.youtube.com/watch?v=5i4cgoxxeIs&amp;ab_channel=DefendYourLiberty" target="_blank" rel="noreferrer noopener"><em>The Today Show</em></a> on the introduction of stop-sign cameras that had NBC reporter Tom Costello doing his stand-up from the same intersection where seven years later I‚Äôd get nabbed. Costello boasted about all the safety benefits the new technology would bring, while Cathy Lanier, chief of the Metropolitan Police Department at the time, told the morning show audience that the cameras were set up because ‚Äúour community has asked us to enforce the law.‚Äù&nbsp;</p><p>‚ÄúNow we‚Äôll be able to do it with less manpower and safer for police officers,‚Äù said Lanier (who left the city a few years after bringing in the cameras to join the NFL as senior vice president in charge of security).&nbsp;&nbsp;</p><figure><img loading="lazy" width="3024" height="1716" src="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?w=1024" alt="stop sign" srcset="https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg 3024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=300,170 300w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=768,436 768w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1024,581 1024w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1536,872 1536w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=2048,1162 2048w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=1080,613 1080w, https://admin.defector.com/wp-content/uploads/sites/28/2021/02/Image-from-iOS-1.jpg?resize=85,48 85w" sizes="(max-width: 3024px) 100vw, 3024px"><figcaption>Photo by Dave McKenna</figcaption></figure><p>I also found a neighborhood message board with several live threads about the stop-sign camera, full of posts from angry locals who‚Äôd been recently nailed at the same intersection. The more I read, the easier I felt I‚Äôd got off: Others told of getting double-digit tickets, meaning they were facing a four-figure fine. Somebody posted a short video of the camera snapping photos of a car that stopped dead at the intersection.</p><p>This particular stop-sign camera‚Äôs fortunes, however, may well have turned when it flashed at Deepak Gopalakrishna.&nbsp;</p><p>Gopalakrishna happens to be a transportation engineer with a specialty in road safety. He‚Äôs lived in Petworth for years and told me he hadn‚Äôt ever gotten a ticket on Kansas Avenue NW until this summer. He started asking around and found that just about everybody else on his block had also gotten multiple $100 fines. He said his professional background and personal leanings have had him support pro-bike, ‚Äúnot car-friendly‚Äù programs like the <a href="https://visionzeronetwork.org/" target="_blank" rel="noreferrer noopener">Vision Zero</a> project. And he said he has no fixed bias against speed cameras and red light cameras. But the rate at which he‚Äôd been nailed told him that this stop-sign camera had to go.</p><p>‚ÄúI‚Äôve got five tickets,‚Äù Gopalakrishna told me. ‚ÄúBefore I found out about the first one, I‚Äôd gotten four more.‚Äù</p><p>Gopalakrishna FOIA‚Äôd for information on the equipment being used by the city for its stop-sign camera setup and just how many tickets had been issued at that one intersection. He learned that the stop-sign cam‚Äôs sensor in Petworth, a <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, had been recalibrated on June 5, 2020. A ticket boom commenced soon after.</p><p>Data from MPD shows that in June 2020, the camera in question snapped 82 violators. Then there were 2,850 tickets in July 2020 (compared to 231 tickets in July 2019). Then the camera started flashing like paparazzi in Cannes: From August through November, a total of 17,216 tickets were issued. That‚Äôs $1,721,600 from one camera at one intersection in just four months.&nbsp;</p><p>Again, I learned years ago that D.C. had a black belt in ticket writing. But today‚Äôs stats floor even me. <a href="https://dccouncil.us/wp-content/uploads/2020/01/dmv20.pdf" target="_blank" rel="noreferrer noopener">D.C. DMV</a> documents show that the city issued 2,869,810 traffic and parking tickets in fiscal year 2019, with fines totaling $375,916,124. That averages out over the year to more than four tickets and about $543 in fines for every man, woman and child living in the city, including those who don‚Äôt drive. (Comprehensive ticket revenues for 2020, which would include the Petworth stop-sign camera windfall, are not yet available.) This is a town with oodles of tourism and, pre-pandemic, teeming with commuters, so visitors paid lots of penalties. But the cam located smack in the middle of my residential neighborhood penalized D.C. residents far more than outsiders.&nbsp; </p><p>According to Gopalakrishna, there‚Äôs no obvious quality-of-life benefit to the citizenry for all the pain folks who live near a stop-sign cam must suffer.</p><p>‚ÄúI want to be very clear: Being against this camera isn‚Äôt being against safety. This isn‚Äôt a safety matter,‚Äù he said. ‚ÄúThis isn‚Äôt like a red-light camera or a speed camera. There‚Äôs no safety study, no data saying, ‚ÄòWow, these stop-sign cameras really have had an impact on safety!‚Äô There‚Äôs nothing. I can point to a lot of things that have worked and are known to work: rumble strips, certain lighting on that stop sign, for example. Take those steps, and you‚Äôll get more people stopping, and you can talk about safety. But, those things don‚Äôt bring in revenue for the city. This camera does. And once you remove the safety component, it‚Äôs just targeting. Targeting one neighborhood.‚Äù</p><p>Gopalakrishna said he‚Äôs been unable to get answers on what exactly took place when the stop-sign camera was recalibrated in June. The user manual for the <a href="https://www.smartmicro.com/fileadmin/media/Downloads/Traffic_Radar/Sensor_Data_Sheets__24_GHz_/UMRR_Traffic_Sensor_Type_44_Data_Sheet.pdf" target="_blank" rel="noreferrer noopener">Smartmicro UMrr-11 Type 44 Radar Antenna</a>, describes its utility only in speed camera and red light enforcement applications. There is no mention anywhere in the document of its use in a stop-sign camera setup.</p><p>‚ÄúIt‚Äôs frustrating because there‚Äôs no legal definition of what a full-stop is,‚Äù he said. ‚ÄúIt‚Äôs all so arbitrary. So basically, this private company gets to decide what a complete stop is, and they set the camera ‚Ä¶</p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/">https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</a></em></p>]]>
            </description>
            <link>https://defector.com/a-predatory-stop-sign-camera-is-terrorizing-my-neighborhood/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133260</guid>
            <pubDate>Sun, 14 Feb 2021 15:42:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rate Limiting in controller-runtime and client-go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133148">thread link</a>) | @hasheddan
<br/>
February 14, 2021 | https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/ | <a href="https://web.archive.org/web/*/https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
  <section>
  <article>
    <header>
      
      <h2>February 14, 2021</h2>
      

      
    </header>

    <p>If you have written a <a href="https://kubernetes.io/docs/concepts/architecture/controller/">Kubernetes
controller</a>, you
are likely <a href="https://github.com/kubernetes-sigs/controller-runtime">familiar with
<code>controller-runtime</code></a>,
or <a href="https://github.com/kubernetes/client-go">at least <code>client-go</code></a>.
<code>controller-runtime</code> is a framework for building controllers that allows
consumers to setup multiple controllers that are all handled under a controller
manager. Behind the the scenes, <code>controller-runtime</code> is using <code>client-go</code> to
communicate with the Kubernetes <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kube-apiserver/">API
server</a>
to watch for changes on resources and pass them along to the relevant
controllers. It handles a number of aspects of plumbing up these controllers,
including caching, queuing, and more. One of these components is <em>rate
limiting</em>.</p>
<h2 id="what-is-rate-limiting">What is rate limiting?</h2>
<blockquote>
<p>This section is a very basic overview of rate limiting. You may skip it if you
are already well versed in the concepts, but it may be useful for framing
later sections.</p>
</blockquote>
<p>Rate limiting has existed in software since computer networking was invented,
and before that in many other human processes. In fact, as we discuss rate
limiting, you‚Äôll likely see many parallels to daily tasks you perform and
organizational patterns within companies and communities.</p>
<p>Rate limiting is necessary for effective communication to occur between any two
parties. Software communicates by passing messages between different processes
of execution, whether it be via the operating system, dedicated hardware
facilities, across a network, or some combination of the three. In a
client-server model, the client is typically requesting that the server perform
some work on its behalf. It takes time for the server to perform that work,
meaning that if many clients ask it to do work at the same time and the server
does not have the capacity to handle them all, it has a choice to make. It can:</p>
<ol>
<li>Drop requests with no response.</li>
<li>Wait to respond to requests until the work can be performed to completion.</li>
<li>Respond to requests indicating that the work cannot be performed at this
time, but that the client should ask again at a future time.</li>
<li>Add the work to a queue and respond to the request to with a message saying
that it will let the client know when it completes the work.</li>
</ol>
<p>If the client and server know each other well (i.e. their communication patterns
are well-known to each other), any of these methods could be valid communication
models. Think about your relationships with other people in your life. You may
know people who communicate in a wide variety of manners, but you likely can
work effectively with all of them if the communication style is well-known.</p>
<blockquote>
<p>As an example, my partner plans things ahead and doesn‚Äôt like unexpected
changes. My college roommate, on the other hand, does not like planning and
prefers to make decisions at the last moment. I may prefer one communcation
style to the other, but I know each of them quite well and can live
effectively with either because we can each adjust our communication patterns
appropriately.</p>
</blockquote>
<p>Unfortunately, like humans, software can be unreliable. For example, a server
may say that it will respond to requests with a future time at which the client
should ask again for work to be performed, but the connection between the client
and the server could be blocked, causing requests to be dropped. Likewise, a
client could be receiving responses saying that work cannot be performed until a
future time, but it may continue requesting for the work to be done immediately.
For these reasons (and many more that we will not explore today), both
server-side and client-side rate limiting are necessary for scalable, resilient
systems.</p>
<p>Because <code>controller-runtime</code> and <code>client-go</code> are frameworks to build Kubernetes
controllers, which are <em>clients</em> of the Kubernetes API server, we will mostly be
focusing on client-side rate limiting today.</p>
<h2 id="whats-in-a-controller">What‚Äôs in a controller?</h2>
<blockquote>
<p>Skip this section if you are already familiar with the basics of how
<code>controller-runtime</code> works.</p>
</blockquote>
<p><code>controller-runtime</code> exposes the <a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/controller/controller.go#L61">controller
abstraction</a>
to consumers primarily through the execution of a <a href="https://book.kubebuilder.io/cronjob-tutorial/controller-implementation.html#implementing-a-controller">reconciliation
loop</a>
that is implemented by the consumer and passed to the framework. Here is an
example of a simple
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L89"><code>Reconciler</code></a>
that could be passed to a <code>controller-runtime</code> controller:</p>
<div><pre><code data-lang="go"><span>type</span> Reconciler <span>struct</span> {}

<span>func</span> (r *Reconciler) Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, <span>error</span>) {
    fmt.Println(<span>"Reconciling something!"</span>)
    <span>return</span> reconcile.Result{}, <span>nil</span>
}
</code></pre></div><blockquote>
<p>You can see a more sophisticated reconciliation loop
<a href="https://github.com/crossplane/crossplane/blob/5f239dbb7c399a8d544518be2be23ad16f98a71d/internal/controller/pkg/manager/reconciler.go#L216">here</a>.</p>
</blockquote>
<p><code>controller-runtime</code> accepts this reconciliation loop via a controller <a href="https://en.wikipedia.org/wiki/Builder_pattern">builder
pattern</a> implementation that
allows a consumer to specify resources that should trigger this reconciliation
to run. Here is an example of a controller that would be triggered by any CRUD
operations on a <code>Pod</code>:</p>
<div><pre><code data-lang="go">ctrl.NewControllerManagedBy(mgr).
    Named(<span>"my-pod-controller"</span>).
    For(&amp;v1.Pod{}).
    Complete(&amp;Reconciler{})
</code></pre></div><p>Ignoring the controller manager (<code>mgr</code>) for a moment, you can see that we are
passing a name for the controller (<code>my-pod-controller</code>), the type we want it to
reconcile (<code>v1.Pod</code>), as well the <code>&amp;Reconciler{}</code> that will actually perform,
well, the reconciliation. There are other options that we will explore later
(and some that we will not) that can be passed into this controller builder to
further customize its behavior.</p>
<p>Every <code>Reconciler</code> is required to implement the <code>Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, error)</code> method. <code>controller-runtime</code>
will invoke this method when changes to ‚Äúwatched‚Äù objects occur. Information
about the object that triggered the reconciliation (in this case a <code>Pod</code>) is
passed via the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L47"><code>reconcile.Request</code></a>.
Within the reconciliation loop, the consumer may choose to use that information
to get the object from the API server using <code>client-go</code> or the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/client/interfaces.go#L100"><code>Client</code></a>
abstraction exposed by <code>controller-runtime</code>. Let‚Äôs expand our <code>Reconciler</code> a bit
more:</p>
<div><pre><code data-lang="go"><span>type</span> Reconciler <span>struct</span> {
    client client.Client
}

<span>func</span> (r *Reconciler) Reconcile(ctx context.Context, req reconcile.Request) (reconcile.Result, <span>error</span>) {
    p := &amp;v1.Pod{}
    <span>if</span> err := r.client.Get(ctx, req.NamespacedName, p); err != <span>nil</span> {
        reconcile.Result{}, err
    }
    fmt.Println(p.Name)
    <span>return</span> reconcile.Result{}, <span>nil</span>
}
</code></pre></div><p>Now we use the
<a href="https://github.com/kubernetes/apimachinery/blob/c93b0f84892eb6bcbc80b312ae70729d8168bc7e/pkg/types/namespacedname.go#L27"><code>NamespacedName</code></a>
to get the object that triggered the reconciliation. We may fail to get the
object from the API server, in which case we return <code>err</code>. Otherwise, we will
return <code>nil</code>.</p>
<blockquote>
<p>Note: when saying that we are making a request to the API server, it doesn‚Äôt
necessarily mean we are literally making a network call. As mentioned earlier,
<code>controller-runtime</code> employs
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/cache/cache.go#L41">caching</a>
to make the operations of controllers managed by a controller manager more
efficient. We will not go into depth on how caching is performed, but if
enough people find this post useful I‚Äôll write one up on that as well.</p>
</blockquote>
<p>This is as far as we will go with implementing our tiny controller because we
have reached a place where we might encounter rate limiting, and we have
probably already lost half the readers who already know how to implement a
Kubernetes controller and think this is just another tutorial on doing so. If
you want to learn more about controller design, take a look at one of the
resources below or search on YouTube for one of the countless talks that have
been given on the topic.</p>
<ul>
<li><a href="https://book.kubebuilder.io/cronjob-tutorial/cronjob-tutorial.html">Kubebuilder CronJob
Tutorial</a>
<ul>
<li>The canonical ‚Äúbuild your first controller‚Äù tutorial.</li>
</ul>
</li>
<li><a href="https://engineering.bitnami.com/articles/a-deep-dive-into-kubernetes-controllers.html">‚ÄúA deep dive into Kubernetes controllers‚Äù - Bitnami
Blog</a>
<ul>
<li>An old but good post that goes a bit beyond ‚Äúpass this thing to
<code>controller-runtime</code> and let the magic ensue!".</li>
</ul>
</li>
<li><a href="https://youtu.be/4ceaeaLYaPs">Building an Enterprise Infrastructure Control Plane on
Kubernetes</a>
<ul>
<li>A tutorial from KubeCon NA 2020 I gave with <a href="https://twitter.com/stevendborrelli">Steven
Borrelli</a> (Mastercard) on building
<a href="https://crossplane.io/">Crossplane</a> providers. We go through building
controllers for a GitHub operator and talk about the various things
happening behind the scenes. We also <a href="https://github.com/crossplane/crossplane-runtime">describe
<code>crossplane-runtime</code></a>,
a framework built on top of <code>controller-runtime</code> that caters to writing
controllers for external infrastructure providers.</li>
</ul>
</li>
<li><a href="https://youtu.be/slX2nAFHeK0">TGI Kubernetes 145: Duck Typing in Kubernetes</a>
<ul>
<li>This is a recent livestream by <a href="https://twitter.com/n3wscott">Scott
Nichols</a> where he talks about some advanced
controller patterns used in projects like <a href="https://knative.dev/">Knative</a>,
Crossplane, and more. Scott is also leading some <a href="https://docs.google.com/document/d/1Bud636dMcAQjXe6xfOMBzT0YYqOj1rx3EELxrq2YQv8/edit?usp=sharing">upstream
standardization</a>
in this area.</li>
</ul>
</li>
</ul>
<h2 id="what-happens-when-we-fail">What happens when we fail?</h2>
<p>This is not an existential question, we are just talking about when we return an
error from our reconciliation loop. Like most things in software, and in life,
the answer is: ‚Äúit depends‚Äù. Let‚Äôs take a look at the <a href="https://github.com/kubernetes-sigs/controller-runtime/blob/e1a725df2743147795e5dfc8275365f7ada24805/pkg/reconcile/reconcile.go#L27"><code>reconcile.Result</code>
struct</a>
and see what options we have for telling <code>controller-runtime</code> what to do next.</p>
<div><pre><code data-lang="go"><span>// Result contains the result of a Reconciler invocation.
</span><span></span><span>type</span> Result <span>struct</span> {
  <span>// Requeue tells the Controller to requeue the reconcile key.  Defaults to false.
</span><span></span>  Requeue <span>bool</span>

  <span>// RequeueAfter if greater than 0, tells the Controller to requeue the reconcile key after the Duration.
</span><span></span>  <span>// Implies that Requeue is true, there is no need to set Requeue to true at the same time as RequeueAfter.
</span><span></span>  RequeueAfter time.Duration
}
</code></pre></div><p>So we can either say requeue after some period of time, requeue immediately, or
don‚Äôt requeue at all. Then there is also the <code>error</code> we return. The permutations
of these values, and how <code>controller-runtime</code> will respond to them are outlined
below (you can also look directly at the
<a href="https://github.com/kubernetes-sigs/controller-runtime/blob/16bf3ad036b908d897543c415fcc0bafc5cec711/pkg/internal/controller/controller.go#L297">source</a>).</p>
<table>
<thead>
<tr>
<th>Requeue</th>
<th>RequeueAfter</th>
<th>Error</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr>
<td>any</td>
<td>any</td>
<td>!nil</td>
<td>Requeue with rate limiting.</td>
</tr>
<tr>
<td>true</td>
<td>0</td>
<td>nil</td>
<td>Requeue with rate limiting.</td>
</tr>
<tr>
<td>any</td>
<td>&gt;0</td>
<td>nil</td>
<td>Requeue after specified <code>RequeueAfter</code>.</td>
</tr>
<tr>
<td>false</td>
<td>0</td>
<td>nil</td>
<td>Do not requeue.</td>
</tr>
</tbody>
</table>
<p>We are primarily interested in the first two cases as the latter two are fairly
self explanatory. Both of the first two essentially result in the same outcome
(with some difference in what logs and metrics are written). The specific call
being made is <code>c.Queue.AddRateLimited(req)</code>. This is similar to the
<code>RequeueAfter</code> result except in that case the call is <code>c.Queue.AddAfter(req, result.RequeueAfter)</code> and we are passing the exact time to wait until the
request is added back to queue. So how long do we wait in the rate limited case?</p>
<h2 id="the-default-controller-rate-limiter">T‚Ä¶</h2></article></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/">https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/</a></em></p>]]>
            </description>
            <link>https://danielmangum.com/posts/controller-runtime-client-go-rate-limiting/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133148</guid>
            <pubDate>Sun, 14 Feb 2021 15:29:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Firejail on Linux to sandbox all the things]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26133079">thread link</a>) | @zdw
<br/>
February 14, 2021 | https://dataswamp.org/~solene/2021-02-14-linux-firejail.html | <a href="https://web.archive.org/web/*/https://dataswamp.org/~solene/2021-02-14-linux-firejail.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article id="20210214">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 14 February 2021.<br>Tags: 
<span><a href="https://dataswamp.org/~solene/tag-linux.html">#linux</a></span>


<span><a href="https://dataswamp.org/~solene/tag-security.html">#security</a></span>


<span><a href="https://dataswamp.org/~solene/tag-sandbox.html">#sandbox</a></span>

</p>
    
  </header>
  <h2> Introduction</h2>
<p>Firejail is a program that can prepare sandboxes to run other programs.  This is an efficient way to keep a software isolated from the rest of the system without need of changing its source code, it works for network, graphical or daemons programs.
</p>
<p>You may want to sandbox programs you run in order to protect your system for any issue that could happen within the program (security breach, code mistake, unknown errors), like Steam once had a "rm -fr /" issue, using a sandbox that would have partially saved a part of the user directory.  Web browsers are major tools nowadays and yet they have access to the whole system and have many security issues discovered and exploited in the wild, running it in a sandbox can reduce the data a hacker could exfiltrate from the computer.  Of course, sandboxing comes with an usability tradeoff because if you only allow access to the ~/Downloads/ directory, you need to put files in this directory if you want to upload them, and you can only download files into this directory and then move them later where you really want to keep your files.
</p>
<h2> Installation</h2>
<p>On most Linux systems you will find a Firejail package that you can install.  If your distribution doesn't provide a Firejail package, it seems the installing from sources process is quite easy, and as the project is written in C with limited dependencies it may be easy to get the build process done.
</p>
<p>There are no service to enable and no kernel parameters to add.  Apparmor or SELinux features in kernel can be used to integrates into Firejail profiles if you want to.
</p>
<h2> Usage</h2>
<h3> Start a program</h3>
<p>The simplest usage is to run a command by adding Firejail before the command name.
</p>
<pre><code>$ Firejail firefox
</code></pre>
<h3> Use a symlink</h3>
<p>Firejail has a neat feature to allow starting software by their name without calling Firejail explicitly, if you create a symbolic link in your $PATH using a program name but targeting Firejail, when you call that name Firejail will automatically now what you want to start.  The following example will run firefox when you call the symbolic link.
</p>
<pre><code>export PATH=~/bin/:$PATH
$ ln -s /usr/bin/firejail ~/bin/firefox
$ firefox
</code></pre>
<h3> Listing sandboxes</h3>
<p>There is a Firejail --list command that will tell you about all sandboxes running and what are their parameters.  As a first column the identifier is available for more Firejail features.
</p>
<pre><code>$ firejail --list
6108:solene::/usr/bin/firejail /usr/bin/firefox 
</code></pre>
<h3> Limit bandwidth per program</h3>
<p>Firejail also has a neat feature that allows to limit the bandwidth available only for one sandbox environment.  Reusing previous list output, I will reduce firefox bandwidth, the number are in kB/s.
</p>
<pre><code>$ firejail --bandwidth=6108 set wlan0 1000 40
</code></pre>
<p>You can find more information about this feature in the "TRAFFIC SHAPING" section of the Firejail man page.
</p>
<h3> Restrict network access</h3>
<p>If for some reason you want to start a program with absolutely no network access, you can run a program and deny it any network.
</p>
<pre><code>$ firejail --net=none libreoffice
</code></pre>
<h2> Conclusion</h2>
<p>Firejail is a neat way to start software into sandboxes without requiring any particular setup.  It may be more limited and maybe less reliable than OpenBSD programs who received unveil() features but it's a nice trade off between safety and required work within source code (literally none).  It is a very interesting project that proves to work easily on any Linux system, with a simple C source code with little dependencies.  I am not really familiar with Linux kernel and its features but Firejail seems to use seccomp-bpf and namespace, I guess they are complicated to use but powerful and Firejail comes here as a wrapper to automate all of this.
</p>
<p>Firejail has been proven to be USABLE and RELIABLE for me while my attempts at sandboxing Firefox with AppArmor were tedious and not optimal.  I really recommend it.
</p>
<h2> More resources</h2>
<p><a href="https://firejail.wordpress.com/">Official project website with releases and security information</a></p>
<p><a href="https://github.com/netblue30/firejail">Firejail sources and documentation</a></p>
<p><a href="https://github.com/chiraag-nataraj/firejail-profiles">Community profiles 1</a></p>
<p><a href="https://github.com/nyancat18/fe">Community profiles 2</a></p>

</article>
</div></div>]]>
            </description>
            <link>https://dataswamp.org/~solene/2021-02-14-linux-firejail.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26133079</guid>
            <pubDate>Sun, 14 Feb 2021 15:21:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Z3, the Word Problem, and Path Homotopy as Equality]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132818">thread link</a>) | @philzook
<br/>
February 14, 2021 | http://www.philipzucker.com/z3-and-the-word-problem/ | <a href="https://web.archive.org/web/*/http://www.philipzucker.com/z3-and-the-word-problem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>There‚Äôs a neat little trick I realized for encoding certain kinds of problems related to rewriting strings into Z3 somewhat elegantly. It‚Äôs very simple too.</p>

<h3 id="the-word-problem">The Word Problem</h3>

<p>The <a href="https://en.wikipedia.org/wiki/Word_problem_(mathematics)">word problem</a> is figuring out if two strings can be made equal to each other with a pile of equations of substrings.
It can be thought of in different ways and shows up in different domains. One way to talking about it is as figuring out equivalaence for a finite presentation of a monoid. A finite presentation gives generators a,b,c let‚Äôs say. The free monoid of these generators is just the strings you can make out these characters. The identity is the empty string and the monoid product is string concatenation. In a finite presentation, you also specify some equations like $ab=c$. Now it isn‚Äôt obvious when two strings are equal or not.</p>

<p>There is however an obvious strategy to find equality. Just search. You can consider each string a node in a graph and each application of an equality somewhere in the string to be an edge on that graph. Keep trying equalities using Dijsktra‚Äôs algorithm, A* or what have you and then if you find a path connecting the two words, you proved equality.</p>

<p>A more satisfactory solution is to use a completion algorithm like <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Bendix_completion_algorithm">Knuth Bendix</a>. If Knuth bendix succeeds (a big if), the problem is in some sense solved for all words on the system. The output of the algorithm is a set of rewrite rules that bring words to a canonical form. You can just canonize words and compare to determine equality or disequality.</p>

<p>There are different approaches one might be inclined to take when modelling monoids in Z3. Z3 has a built in theory of strings, perhaps one could use arrays somehow, or one might axiomatize the theory directly using an uninterpeted sort like so.</p>

<div><div><pre><code><span>from</span> <span>z3</span> <span>import</span> <span>*</span>
<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>e</span><span>,</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span> <span>=</span> <span>Consts</span><span>(</span><span>"e a b c"</span><span>,</span> <span>G</span><span>)</span>
<span>times</span> <span>=</span> <span>Function</span><span>(</span><span>'*'</span><span>,</span> <span>G</span><span>,</span><span>G</span><span>,</span> <span>G</span><span>)</span>

<span>monoid_axioms</span> <span>=</span> <span>[</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>e</span><span>,</span><span>a</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>],</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>e</span><span>)</span> <span>==</span> <span>a</span> <span>),</span>
  <span>ForAll</span><span>([</span><span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>]</span> <span>,</span> <span>times</span><span>(</span><span>a</span><span>,</span><span>times</span><span>(</span><span>b</span><span>,</span><span>c</span><span>))</span> <span>==</span> <span>times</span><span>(</span><span>times</span><span>(</span><span>a</span><span>,</span><span>b</span><span>),</span><span>c</span><span>))</span>
<span>]</span>

</code></pre></div></div>

<p>Axiomatizing the sort literally transcribes the axioms of a monoid. The thing that isn‚Äôt great about this is that the associativity law of the monoid is a derivation and you‚Äôre going to waste Z3‚Äôs energy on reasoning about trivial facts of associativity. It is preferable to have Z3 reason about something that is associative on the nose.</p>

<p>Well, there is a neat trick. The big thing that is associative on the nose is function composition. Instead of representing monoid elements as objects $a : G$, we represent them by a partial application of the monoid product $\hat{a} : G \rightarrow G = a\cdot -$ . We can always turn this representation back by applying it to the identity of the monoid $e : G$. This representation is associative on the nose for Z3.</p>

<p>We can make the presentation a little cuter to use by making a class that overloads multiplication and equality. Here we show a monoid generated by an element $a$ and with a quotienting equation $a^5 = a^2$.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>))</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>x</span><span>)</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>

<span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
<span>a</span> <span>=</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>"a"</span><span>,</span> <span>G</span><span>,</span> <span>G</span><span>))</span>

<span>axioms</span> <span>=</span> <span>[</span><span>a</span> <span>**</span> <span>5</span> <span>==</span> <span>a</span><span>**</span><span>2</span><span>]</span> 

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axioms</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span> <span>Not</span><span>(</span> <span>a</span><span>**</span><span>6</span> <span>==</span> <span>a</span><span>**</span><span>3</span><span>)</span>  <span>)</span> <span># prove a**6 == a**3
</span><span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<p>Viewed through a certain light it is another manifestation of the ole Hughes List/Cayley representation/Yoneda lemma thing, the gift that keeps on giving. The basic idea is to partially apply append/multiply/compose. It turns out the be useful to do in pragmatic programming context so because then things are associated in one direction by default instead of dealing with all possible associations. Some associations are better than others computationally, or it‚Äôs nice to just have a canonical form as in this case. As it manifests in Z3, we represent monoid elements as single argument uninterpreted functions rather than as constants.</p>

<p>This representation also shows up in explaining how string rewriting can be easily emulated by term rewriting. The standard recipe says to convert each symbol of the string system into a single argument term. $a \implies a(X)$. Then convert the string rewrite rule abc -&gt; bc becomes the term rewriting rule $a(b(c(X))) \rightarrow b(c(X))$, which is the same as the above.</p>

<h3 id="finitely-presented-categories">Finitely Presented Categories</h3>

<p>This trick extends to categories. We can represent morphism equality checking of finitely presented categories in this style. The only change to the monoid case is that it seems conceptually cleaner that we want to make different Z3 sorts for the morphisms to go between, representing the objects of the category.
This transformation is probably a manifestation of the Yoneda Embedding, by analogy to the other examples that I do somewhat understand.
Here is a simple category with 2 objects, and generated by 2 morphisms $f : A \rightarrow B$ and $g : B \rightarrow A $ with the equation $f \cdot g \cdot f \cdot g = id$</p>

<div><div><pre><code><span># Hey Julia this time. Why not.</span>
<span>using</span> <span>PyCall</span>
<span>z3</span> <span>=</span> <span>pyimport</span><span>(</span><span>"z3"</span><span>)</span>

<span>ob</span> <span>=</span> <span>[</span><span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,A)"</span><span>)</span> <span>,</span> <span>z3</span><span>.</span><span>DeclareSort</span><span>(</span><span>"Hom(-,B)"</span><span>)]</span>
<span>f</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"f"</span><span>,</span> <span>ob</span><span>[</span><span>1</span><span>],</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>g</span> <span>=</span> <span>z3</span><span>.</span><span>Function</span><span>(</span><span>"g"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>],</span> <span>ob</span><span>[</span><span>1</span><span>])</span>
<span>x</span> <span>=</span> <span>z3</span><span>.</span><span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>ob</span><span>[</span><span>2</span><span>])</span>
<span>axiom</span> <span>=</span> <span>z3</span><span>.</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>))))</span> <span>==</span> <span>x</span><span>)</span> <span># an equality over the morphism generators</span>

<span>s</span> <span>=</span> <span>z3</span><span>.</span><span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>axiom</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>z3</span><span>.</span><span>Not</span><span>(</span> <span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)))))</span> <span>==</span> <span>g</span><span>(</span><span>x</span><span>)</span> <span>))</span> <span># example simple theorem</span>
<span>s</span><span>.</span><span>check</span><span>()</span>
</code></pre></div></div>

<h3 id="groups">Groups</h3>
<p>The trick can also extend to groups, although dealing with the inverse operation of the group ruins the cleanliness. For every group element we add, we also need to add its inverse and some axioms about its inverse. So it isn‚Äôt quite as clean as a monoid.</p>

<div><div><pre><code><span>class</span> <span>Fun</span><span>():</span>
    <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>,</span> <span>inv</span><span>):</span>
        <span>self</span><span>.</span><span>f</span> <span>=</span> <span>f</span>
        <span>self</span><span>.</span><span>inv</span> <span>=</span> <span>inv</span>
    <span>def</span> <span>__mul__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span> <span>:</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>g</span><span>(</span><span>x</span><span>)),</span> <span>lambda</span> <span>x</span> <span>:</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>)</span>
    <span>def</span> <span>__eq__</span><span>(</span><span>self</span><span>,</span><span>g</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)</span> <span>==</span> <span>g</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>)))</span>

    <span>def</span> <span>inv</span><span>(</span><span>self</span><span>):</span>
        <span>return</span> <span>Fun</span><span>(</span> <span>self</span><span>.</span><span>inv</span><span>,</span> <span>self</span><span>.</span><span>f</span> <span>)</span>
    <span>def</span> <span>__call__</span><span>(</span><span>self</span><span>,</span><span>x</span><span>):</span>
        <span>return</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>)</span>
    <span>def</span> <span>__pow__</span><span>(</span><span>self</span><span>,</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>==</span> <span>0</span><span>:</span>
            <span>return</span> <span>self</span><span>.</span><span>id</span>
        <span>return</span> <span>self</span> <span>*</span> <span>(</span><span>self</span> <span>**</span> <span>(</span><span>n</span><span>-</span><span>1</span><span>))</span>
    <span>def</span> <span>inv_axioms</span><span>(</span><span>self</span><span>):</span>
        <span>G</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"G"</span><span>)</span>
        <span>x</span> <span>=</span> <span>Const</span><span>(</span><span>"x"</span><span>,</span> <span>G</span><span>)</span>
        <span>return</span> <span>And</span><span>(</span><span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>f</span><span>(</span><span>self</span><span>.</span><span>inv</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>),</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>self</span><span>.</span><span>inv</span><span>(</span><span>self</span><span>.</span><span>f</span><span>(</span><span>x</span><span>))</span> <span>==</span> <span>x</span><span>)</span> <span>)</span>
    
<span>Fun</span><span>.</span><span>id</span> <span>=</span> <span>Fun</span><span>(</span><span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>,</span> <span>lambda</span> <span>x</span><span>:</span> <span>x</span><span>)</span>
<span>def</span> <span>GroupElem</span><span>(</span><span>name</span><span>):</span>
    <span>return</span> <span>Fun</span><span>(</span><span>Function</span><span>(</span><span>name</span><span>,</span><span>G</span><span>,</span><span>G</span><span>),</span> <span>Function</span><span>(</span><span>f</span><span>"inv_</span><span>{</span><span>name</span><span>}</span><span>"</span><span>,</span><span>G</span><span>,</span><span>G</span><span>))</span>


<span># Symmetric group
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>i</span><span>)</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>Fun</span><span>.</span><span>id</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>


<span># A braid group
# A nice way to detangle knots with egg?
</span><span>N</span> <span>=</span> <span>3</span>
<span>sigma</span> <span>=</span> <span>[</span><span>GroupElem</span><span>(</span><span>f</span><span>"sigma_</span><span>{</span><span>i</span><span>}</span><span>"</span><span>)</span><span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)]</span>

<span>axioms</span> <span>=</span> <span>[</span><span>s</span><span>.</span><span>inv_axioms</span><span>()</span> <span>for</span> <span>s</span> <span>in</span> <span>sigma</span><span>]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>j</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>j</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>)</span> <span>for</span> <span>j</span> <span>in</span> <span>range</span><span>(</span><span>i</span><span>-</span><span>1</span><span>)]</span>
<span>axioms</span> <span>+=</span> <span>[</span> <span>sigma</span><span>[</span><span>i</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span><span>*</span><span>sigma</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>]</span> <span>*</span> <span>sigma</span><span>[</span><span>i</span><span>+</span><span>1</span><span>]</span> <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>N</span><span>-</span><span>1</span><span>)</span>  <span>]</span>
</code></pre></div></div>

<h3 id="path-connectivity">Path Connectivity</h3>

<p>Here is another example where an encoding allows us to greatly change the ease with which Z3 handles a problem. This example feels a little different from the others, or is it?</p>

<p>Naively one might try to encode path connectivity of two vertices using a predicate <code>connected</code></p>

<div><div><pre><code><span>Point</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Point"</span><span>)</span>
<span>connected</span> <span>=</span> <span>Function</span><span>(</span><span>"connected"</span><span>,</span> <span>Point</span><span>,</span> <span>Point</span><span>,</span> <span>Bool</span><span>)</span>
<span>#This defines a predicate that says if a point is connected to another.
</span>
<span>axioms</span> <span>=</span> <span>[]</span>
<span>#paths are invertible
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>],</span> <span>path</span><span>(</span><span>a</span><span>,</span><span>b</span><span>)</span> <span>==</span> <span>connected</span><span>(</span><span>b</span><span>,</span><span>a</span><span>))</span>

<span># transitivity
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>,</span><span>y</span><span>,</span><span>z</span><span>],</span> <span>Implies</span><span>(</span> <span>And</span><span>(</span><span>connected</span><span>(</span><span>x</span><span>,</span><span>y</span><span>)</span> <span>,</span> <span>connected</span><span>(</span><span>y</span><span>,</span><span>z</span><span>)</span> <span>)</span> <span>,</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>z</span><span>)</span> <span>))</span>

<span># self paths.
</span><span>axioms</span> <span>+=</span> <span>ForAll</span><span>([</span><span>x</span><span>],</span> <span>connected</span><span>(</span><span>x</span><span>,</span><span>x</span><span>))</span>
</code></pre></div></div>

<p>Built in equality already <em>has</em> these properties though. Equality is backed by more or less a disjoint set data structure which is a very efficient way to calculate the connected sets of a graph.</p>

<p>I can guarantee you that this formulation will work better.</p>

<div><div><pre><code><span>import</span> <span>networkx</span> <span>as</span> <span>nx</span>

<span>G</span> <span>=</span> <span>nx</span><span>.</span><span>Graph</span><span>()</span>
<span>G</span><span>.</span><span>add_nodes</span><span>([</span><span>'a'</span><span>,</span><span>'b'</span><span>,</span><span>'c'</span><span>,</span><span>'d'</span><span>])</span>
<span>G</span><span>.</span><span>add_edges</span><span>(</span> <span>[(</span><span>'a'</span><span>,</span><span>'b'</span><span>),</span> <span>(</span><span>'b'</span><span>,</span><span>'c'</span><span>),</span> <span>(</span><span>'c'</span><span>,</span><span>'d'</span><span>)</span> <span>]</span> <span>)</span>
<span>G</span><span>.</span><span>connected_components</span>
</code></pre></div></div>

<div><div><pre><code><span>Vertex</span> <span>=</span> <span>DeclareSort</span><span>(</span><span>"Vertex"</span><span>)</span>
<span>a</span><span>,</span><span>b</span><span>,</span><span>c</span><span>,</span><span>d</span> <span>=</span> <span>Consts</span><span>(</span><span>"a b c d"</span><span>,</span> <span>Vertex</span><span>)</span>

<span>edges</span> <span>=</span> <span>[</span><span>a</span> <span>==</span> <span>b</span><span>,</span> <span>b</span> <span>==</span> <span>c</span><span>,</span> <span>c</span> <span>==</span> <span>d</span><span>]</span>

<span>s</span> <span>=</span> <span>Solver</span><span>()</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>edges</span><span>)</span>
<span>s</span><span>.</span><span>add</span><span>(</span><span>a</span> <span>!=</span> <span>d</span><span>)</span>
<span>s</span><span>.</span><span>check</span><span>()</span> <span># unsat means a and d are connected 
</span></code></pre></div></div>

<h3 id="path-homotopy">Path Homotopy</h3>

<p>The paths through the triangulation of a surface form a category with vertices as objects and paths as morphisms. <a href="https://en.wikipedia.org/wiki/Homotopy">Homotopically</a> equivalent paths also form a category, a <a href="https://en.wikipedia.org/wiki/Groupoid">groupoid</a> even.</p>

<p>This is to the group example what the Category example was to the monoid.</p>

<p>There is something very tickling about using Z3 equality to express homotopy equivalence. It is very vaguely reminiscent of things that occur Homotopy Type Theory, but I wouldn‚Äôt take that too seriously.</p>

<h3 id="bits-and-bobbles">Bits and Bobbles</h3>

<p>The underlying data structure here is the Egraph. Specializing EGraphs to single arguments terms might give something interesting. Also then we open up the ability to mix in Tries.</p>

<p>How do you prove two things are <em>not</em> equal? Find a model?</p>

<p>How to deal with higher homotopies? Does the existence of cubical type theory suggest in some sense that a data structure for binding forms (de bruijn perhaps ) is a useful but unexpected one for describing concrete homotopies on concrete triangulations.</p>

<p>Using egg <a href="https://egraphs-good.github.io/">https://egraphs-good.github.io/</a> for braid groups. Braid groups have applications in topological quantum computation. Optimizer?</p>

<p>2-ho‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.philipzucker.com/z3-and-the-word-problem/">http://www.philipzucker.com/z3-and-the-word-problem/</a></em></p>]]>
            </description>
            <link>http://www.philipzucker.com/z3-and-the-word-problem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132818</guid>
            <pubDate>Sun, 14 Feb 2021 14:48:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Julia 1.6: what has changed since Julia 1.0?]]>
            </title>
            <description>
<![CDATA[
Score 256 | Comments 204 (<a href="https://news.ycombinator.com/item?id=26132801">thread link</a>) | @Sukera
<br/>
February 14, 2021 | https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html | <a href="https://web.archive.org/web/*/https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main_content">
      <p>Julia 1.0 came out well over 2 years ago.
Since then a lot has changed and a lot hasn‚Äôt.
Julia 1.0 was a commitment to no breaking changes, 
but that is not to say no new features have been added to the language.</p>

<!--more-->

<nav id="toc"></nav>

<p>Julia 1.6 is a huge release and it is coming out relatively soon.
RC-1 was <a href="https://discourse.julialang.org/t/julia-v1-6-0-rc1-is-now-available/54775">released recently</a>.
I suspect we have at least a few more weeks before the final release.
The Julia Core team take a huge amount of care in not breaking any packages.
So while that is all being checked and corner cases fixed, I think we have some time.
Thus this post, reflecting not just on 1.6, but on everything that has happened since the 1.0 release.</p>

<p>Julia 1.6 will be the first ‚Äúfeature‚Äù release since 1.0.
Prior to 1.0, all releases were feature releases; they came out when they were ready.
Since then, all releases (except 1.6) have been timed releases.
The release candidate is cut from the main branch every 3 months; and they are released after an <a href="https://github.com/JuliaLang/julia/pull/35846">extensive round of additional checking</a>, which often takes weeks to months.
Julia 1.6 was soft-slated to be the new long-term-support (LTS) version that would have bug-fixes backported to it for the next few years.
The current LTS is Julia 1.0, which has now had 5 patch releases made.
Since it was going to be supported for a long-time, people wanted to make sure everything good got in; thus it was a feature release.
The core developers have demurred on if 1.6 will actually be selected to be the new LTS (even if it is selected, it won‚Äôt ascend to being the LTS til it stops being the current Stable).</p>

<p>My impression now is that they feel like it has too many cool new things; and that a few things didn‚Äôt quite make it in even with the extended release cycle.
So it‚Äôs looking likely to me that 1.7 will actually be the LTS; but that it might also be a feature release ‚Äì possibly this time a much shorter release period than usual.
In practice I think for a lot of package maintainers 1.6 will be a LTS, in that that is the oldest version they will make sure to continue to support.
There have been too many cool new things (as this post will detail) to stay back to only 1.0 features.
Already a lot of packages have dropped support for Julia versions older than 1.3.</p>

<p>This post is kind of a follow-up to my <a href="https://www.oxinabox.net//2018/06/01/Julia-Favourite-New-Things.html">Julia 1.0 release run-down</a>.
But it‚Äôs going to be even longer, as it is covering the last 5 releases since then and I am not skipping the major new features.
I am writing this not to break down release by release,
but to highlight features that, had you only used Julia 1.0, you wouldn‚Äôt have seen.
Full details can be found in the <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/NEWS.md">NEWS.md</a>, and <a href="https://github.com/JuliaLang/julia/blob/backports-release-1.6/HISTORY.md">HISTORY.md</a></p>

<h2 id="front-end-changes">Front-end changes</h2>
<h3 id="soft-scope-in-the-repl">Soft-scope in the REPL</h3>
<p>Julia 1.0 removed the notion of soft-scope from the language.
I was very blas√© about the change to for-loop bindings in my <a href="https://www.oxinabox.net/2018/06/01/Julia-Favourite-New-Things.html#for-loop-variable-binding-changes">1.0 release post</a>.
In fact, I didn‚Äôt even mention this particular change.
It was <a href="https://github.com/JuliaLang/julia/pull/19324">#19324</a> for reference.</p>

<p>This was undone in in Julia 1.5 with <a href="https://github.com/JuliaLang/julia/pull/33864">#33864</a> for the REPL only.
Now in the REPL, assigning to a global variable within a for-loop actually assigns that variable, rather than shadowing it with a new variable in that scope.
The same behavior outside the REPL now gives a warning.</p>

<p>Personally, this change never affected me because I never write for-loops that assign variables at global scope.
Indeed basically all code I write is inside functions.
But I do see how this causes problems for some interactive workflows, e.g. when demonstrating something.
See the <a href="https://github.com/JuliaLang/julia/issues/28789">main GitHub issue</a> and the longest <a href="https://discourse.julialang.org/t/another-possible-solution-to-the-global-scope-debacle/15894">Discourse thread</a>, though there were many others.
It took over a year of discussion to work out the solution, particularly because many of the more obvious solutions would be breaking in significant ways.</p>

<h3 id="deprecations-are-muted-by-default">Deprecations are muted by default</h3>

<p>Julia 1.5+ doesn‚Äôt display deprecation warnings, unless you run julia with the <code>--depwarn=yes</code> flag.
This was me in <a href="https://github.com/JuliaLang/julia/pull/35362">this PR</a>.
It‚Äôs not something I am super happy about, although I think it makes sense.
Using deprecated methods is actually fine, as long as your dependencies follow SemVer, and you use <code>^</code> (i.e. default) bounding in your Project.toml‚Äôs <code>[compat]</code>, which everyone does, because it‚Äôs enforced by the auto-merge script in the General registry.
Often it is even necessary if you want to keep compatibility for a while.</p>

<p>Solving deprecations is a thing you should actively choose to do rather than casually when trying to do something else.
In particular, when updating to support a new major release of one of your dependencies, you should follow a process.
Something like:</p>

<ol>
  <li>Check the release notes.</li>
  <li>Relax compat bounds</li>
  <li>Run your integration tests, if everything passes you are done.</li>
  <li>If tests failed, revert the change to compat bounds, then rerun your integration tests paying attention to deprecation warnings.</li>
</ol>

<p>Updating your dependencies should be an active choice.
Potentially one that is automated, but not one that you do while adding another feature (if you can help it).</p>

<p>The core of the reason we disabled them is because they were actually breaking things.
Irrelevant deprecation warning spam from dependencies of dependencies was causing JuMP and LightGraphs to become too slow to be used.
Further, since they were from dependencies of dependencies, the maintainers of JuMP and LightGraphs (let alone the end users) couldn‚Äôt even fix them.</p>

<p>Deprecation warnings are still turned on by default in tests, which makes sense since the tests (unlike normal use) are being run by maintainers of the package itself, not its users.
This however still doesn‚Äôt make a huge amount of sense to me, since spam from deprecation warnings floods out the actual errors that you want to see during testing.
For this reason, <a href="https://invenia.ca/">Invenia</a> (my employer) has disabled deprecation warnings in the CI tests for all our closed source packages, and added a new test job that just does deprecation checking (set to error on deprecation and with the job allowed to fail, just so we are informed).</p>

<p>Hopefully one day we can improve the tooling around deprecation warnings.
An ideal behavior would be to only show deprecation warnings if directly caused by a function call made from within the package module of your current active environment.
I kind of know what we need to do to the logger to make that possible, but it is not yet something I have had time to do.</p>

<h3 id="code-highlighting-for-code_llvm-and-code_native">Code highlighting for <code>code_llvm</code> and <code>code_native</code></h3>
<p>This was added in <a href="https://github.com/JuliaLang/julia/issues/36634">#36634</a>.
This functionality was first implemented in <a href="https://github.com/kimikage/ColoredLLCodes.jl">ColoredLLCodes.jl</a>, where it worked by monkey-patching the InteractiveUtils stdlib.
That package does still work on Julia 1.0.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-code-llvm.png" alt="Julia 1.0 code_llvm"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-code-llvm.png" alt="Julia 1.6 code_llvm"></p>

<p>The REPL itself still doesn‚Äôt have syntax highlighting for Julia code though.
The <a href="https://github.com/KristofferC/OhMyREPL.jl">OhMyRepl</a> package does provide that, and works for all versions of Julia.
It is a lot more than a series of regexes though, so I don‚Äôt think we are going to see it built into Julia too soon.
Probably one day, though, as its big dependencies are also required if the parser wants to move to be written in Julia (though I also don‚Äôt expect that any time soon).</p>

<h3 id="clearer-stacktraces">Clearer Stacktraces</h3>

<p>Just like colored <code>code_llvm</code>, colored stack-traces also originated in a package that was doing some nasty monkey-patching: <a href="https://github.com/jkrumbiegel/ClearStacktrace.jl">ClearStacktrace.jl</a>.
This was added into Base itself in <a href="https://github.com/JuliaLang/julia/pull/36134">#36134</a>.</p>

<p><strong>Julia 1.0:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.0-stacktrace.png" alt="Julia 1.0 stacktrace"></p>

<p><strong>Julia 1.6:</strong></p>

<p><img src="https://www.oxinabox.net/posts_assets/Julia-1.0-1.6-changes/julia-1.6-stacktrace.png" alt="Julia 1.6 stacktrace"></p>

<p>The first thing you probably notice is the colored package names, to make it more clear where the error is coming from.
You also should notice the dimming of type parameters to make complicated types easier to read.
Also the addition of argument names, and showing functions with keyword arguments as they are written, rather than as a weird <code>#DataFrame#654</code> internal function.
The whole thing just looks more modern and polished.</p>

<h3 id="time-traveling-debugger">Time Traveling Debugger</h3>

<p><a href="https://julialang.org/blog/2020/05/rr/">Julia 1.5 added built-in support</a> for <a href="https://rr-project.org/"><code>rr</code></a> (Linux only for now).
This is not useful so much for debugging Julia code, but for debugging Julia itself.
If you get into one of the very rare situations where the language is doing something truly nonsensical, you can send a bug report recorded via <code>rr</code> and someone can debug <em>exactly</em> what is happening - even to the extent of <a href="https://julialang.org/blog/2020/09/rr-memory-magic/">diagnosing faulty RAM</a>.
<code>rr</code> is an impressively cool piece of tech.
It records execution of a program, intercepting places (namely syscalls) that could be nondeterministic and storing the result.
It can then replay the recording (even on another machine), and see exactly what happened.
Allowing on to go into great detail on the state, and step backwards and forwards through time.
The <code>rr</code> integration is really nice and easy to use.
On a project I was running, I ended up getting a member of our architecture and operations team run it to submit a support request and they had no real troubles
(And they are by no means a Julia pro, they write mostly Cloudformation).</p>

<h2 id="syntax">Syntax</h2>

<h3 id="import-as"><code>import as</code></h3>

<blockquote>
  <p>The syntax import A as B (plus import A: x as y, import A.x as y, and using A: x as y) can now be used to rename imported modules and identifiers (<a href="https://github.com/JuliaLang/julia/issues/1255">#1255</a>).</p>
</blockquote>

<p>This will be familiar to Python folks who love to write things like: <code>import numpy as np</code>.
I hope we never see it used that ubiquitously in julia.
I am quite happy with <code>using Foo</code> which imports into scope everything the author of <code>Foo</code> exported.
Python people find that super weird and scary; but it‚Äôs fine.
Note that in Julia, many (most?) things you use don‚Äôt belong to the scope of the module that defined them anyways; they are overloaded functions e.g. from <code>Base</code>.
So what you import doesn‚Äôt matter as much as you might think.
I recently learned that Haskell is like Julia with a default of importing all exports.
It has been fine for julia, and fine for Haskell for ages, though in neither is it required.</p>

<p>The real value of <code>import FooBar as fb</code> is not to have a short abbreviation so you can do <code>fb.quux</code>.
That was already possible via <code>const fb = FooBar</code>.
It is to handle cases where the package name itself conflicts with an identifier.
For example (as has often occurred) if one uses a <code>Pipe</code> in the REPL, and then later wants to load <a href="https://github.com/oxinabox/Pipe.jl/">Pipe.jl</a> via <code>import Pipe</code> then one gets a name clash before it can be ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html">https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</a></em></p>]]>
            </description>
            <link>https://www.oxinabox.net/2021/02/13/Julia-1.6-what-has-changed-since-1.0.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132801</guid>
            <pubDate>Sun, 14 Feb 2021 14:46:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why do I love C++?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132484">thread link</a>) | @mechnesium
<br/>
February 14, 2021 | https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/ | <a href="https://web.archive.org/web/*/https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-why-do-i-love-cpp" class="page" role="article"><header><p> <time datetime="2019-03-14T00:00:00+00:00">14 Mar 2019</time> on <a href="https://mikeloomisgg.github.io/tag/cpp/">c++</a></p></header><p>Encountering a new programming language can be overwhelming for anybody. Just like everyone else, my first time parsing a c++ program was quite confusing. There are so many new operators and syntax that are different than any other language. What are lambdas? <code>[](){ return what?; }</code>? How many times will I need to look on stack overflow for an explanation of &amp; vs &amp;&amp; vs *? How do I make interface-like objects? Templated code is mystifying! I wish c++ had all of the algorithms and iterator tools that I used from python‚Ä¶ Seg faults are happening in this large code-base and I don‚Äôt have a working debugger for this platform? Yes, welcome to programming hell!</p><p>Yet with every new discovery, I was filled with a sense of realization. <em>That</em> is the way Java does interfaces under the hood? <em>This</em> is what Go doesn‚Äôt allow you to do? My highly abstract code is being completely optimized to literally <em>nothing</em>? Rather than venturing into a deep mental quagmire, it felt more like c++ lifted the curtain on every other language‚Äôs intricacies.</p><p>Everything in other languages -clicks-! I begin to realize why the other languages have the restrictions that they do, how they implement the features that they have. So what do all of these new symbols and syntaxes mean, and how could anyone think c++ feels fresh and new in 2019?</p><p>Decades have passed since the time Bjarne Stroustrup first created ‚ÄúC with Objects‚Äù. It is no small miracle that the c++ we have today has remained relatively untarnished by the <em>bright ideas</em> proposed by the <em>geniuses</em> that surrounded Bjarne. Alexander Stepanov, creator of the c++ Standard Template Library (STL), recollects his account of c++‚Äôs evolution:</p><blockquote><p>Bjarne was resolute in preserving his fundamental goals ‚Ä¶ People were telling Bjarne that you should turn c++ into a fully object oriented language‚Ä¶ make it automatically garbage collectable‚Ä¶ make all the member functions virtual‚Ä¶ eliminate global functions‚Ä¶ in other words they wanted him to design Java. He listened politely to them and kept maintaining the fundamental integrity of the language.<br> <a href="https://youtu.be/nesCaocNjtQ?t=18">CppCon 2014: Bjarne Stroustrup ‚ÄúMake Simple Tasks Simple!‚Äù</a></p></blockquote><p>He was a visionary, not succumbing to the bad advice of those around him that went on to create Java. None of these features could be simply integrated into the standard while remaining zero cost. His ideas have always been under constant assault from geniuses who think its okay to make sacrifices in runtime performance for some feature they like. Years of this behavior has led to bloated alternative languages, each one ultimately failing to be the sexy improved alternative to c++ that it promises to be.</p><p>Today, the c++ standards committee is filled with complementary personalities ensuring the future evolution of the language. Industry titans from every corner of computer science bringing their own perspective and needs to the table. Optimism balanced with Realism. Determination met with receptivity.</p><p>All of criticism that I have seen of c++ seems very ignorant of how the language has developed within the last decade. As Herb Sutter mentioned at the end of his CppCon 2014 endnote, <a href="https://youtu.be/xnqTKD8uD64?t=5713">‚Äúc++ is a fresh new language, simpler than ever‚Äù.</a></p><p>The wild pessimism towards c++ that I‚Äôve seen are from people that aren‚Äôt embracing the new world of modern c++ that we are now in. Many people now turn to Rust as a similar alternative to c++ without realizing how similar modern c++ is to Rust. But I want to point out a few features and lack of features that I think are actually great strengths of the language.</p><h2 id="no-universal-build-system-or-package-manager">No Universal Build System or Package Manager</h2><p>C++ lacks a package manager like Java or Rust. Idiomatic c++ projects don‚Äôt simply import modules from a canonical repository like npm (javascript), Cargo (rust), pip (python). Instead, different solutions emerged from the vacuum for c++ over time. In my experience, package managers end up not really solving the problem they are designed to solve. Anyone who‚Äôs tried to deploy they‚Äôre own complex Maven project knows that its a true nightmare.</p><p>Similarly, c++ has a variety of choices for build systems. CMake is prevalent, you can use simple makefiles just like c, or you could use countless other custom solutions. I‚Äôve found that languages which support a singular build system are really easy to build simple demo apps, but once you need to build something that the default build system doesn‚Äôt support you‚Äôre in big trouble.</p><h2 id="multiple-implementations">Multiple Implementations</h2><p>C++ is not like other languages that have monolithic compiler implementations. The commitee defines c++ standards and specifications, but vendors implement the standards in isolation and competition with eachother. I‚Äôve come to appreciate that different people coming up with multiple implementations end up feeding off of the competition and making the compilers much faster than they otherwise would be alone.</p><h2 id="zero-runtime-overhead">Zero Runtime Overhead</h2><p>One of the main things that holds back new features from entering the next c++ standard are implementation details. The committee refuses to shove in features which would add unnecessary overhead for people that aren‚Äôt using the feature, or would break backwards compatibility. This is why new languages like Rust can come out in interim periods appearing to have new features which c++ lacks. However, c++ will always catch up with a better implementation due to their caution. In the meantime, most bleeding edge language features can be supported through separate user libraries anyway.</p></article></div>]]>
            </description>
            <link>https://mikeloomisgg.github.io/2019-03-14-why-do-i-love-cpp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132484</guid>
            <pubDate>Sun, 14 Feb 2021 14:06:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Nintendo e-Reader ‚Äì Fundraiser for a forgotten treasure for the GBA]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132353">thread link</a>) | @looperhacks
<br/>
February 14, 2021 | https://hitsave.org/blog/e-reader-fundraiser/ | <a href="https://web.archive.org/web/*/https://hitsave.org/blog/e-reader-fundraiser/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><span></span><p><strong>Fundraiser currently at $1200!</strong></p><p><em>End date and time: March 10, 23:59:59 EST</em></p><p><em>Guest blog post by Zac B of the e-Reader Crew</em></p><p><strong>The Nintendo e-Reader.</strong><br>A forgotten treasure for the Game Boy Advance.</p><p><img src="https://cdn.bulbagarden.net/upload/4/4c/Ereader.png" alt="img"></p><p>The Nintendo e-Reader was primarily designed to act as a gateway for DLC (downloadable content) through the use of collectible cards. Each card, known as ‚Äòe-Reader Cards‚Äô, was embellished with a printed pattern referred to as a ‚Äòdot code‚Äô, in addition to an image representing the game the DLC was for.</p><p><img src="https://i.imgur.com/Yle5VRV.png" alt="img"></p><p>When swiping a card through the e-Reader, this dot code could be read and converted to digital data, which allowed the content to be imported or unlocked in the associated Game Boy Advance game. Perhaps the most well-known example of this was the <a href="https://youtu.be/z9KAaYkzuUk">Eon Ticket</a> for Pok√É¬©mon Ruby &amp; Pok√É¬©mon Sapphire versions.</p><p>There are over 3,000 cards in the Nintendo e-Reader library, many of which were only released in Japan. e-Reader cards had a variety of distribution options, from simple store-bought booster packs to exceedingly rare Japanese-only Club Nintendo cards. There were even cards which were exclusive to attendees of E3 2002 in Los Angeles. Some cards (assigned a unique ID and data) were not made commercially available at all, and were only distributed to a select number of stores in Japan for demonstration purposes.</p><p><iframe src="https://www.youtube.com/embed/F6_HEYbqxvs" allowfullscreen="" title="YouTube Video"></iframe></p><p>18 years later, what has happened to the Nintendo e-Reader library?</p><p>e-Reader cards are especially susceptible to wear-and-tear, as they are not housed inside a cartridge or a disc, both of which provide a modicum of protection from the outside world. You can find many e-Reader cards on auction sites today with no further protection beyond the cardboard they were printed on. Bends, scuffs, scratches, and tears are not uncommon. Coupled with the extreme rarity and price of some of these cards (some reaching prices of tens of thousands of dollars), it‚Äôs a wonder as to how much longer they‚Äôll be around.</p><p>There hasn√¢‚Ç¨‚Ñ¢t been much attention placed on the documentation and preservation of e-Reader cards from the wider community, with some cards still remaining unaccounted for on lists such as No-Intro‚Äôs DAT-o-MATIC. This lack of attention is surprising, considering that a great many cards contain exclusive data for various well-known franchises such as Mario, Pok√É¬©mon, Animal Crossing, and Mega Man.</p><p>Those within the e-Reader Project would like to change that.</p><p>What started out as a few like-minded individuals discussing their collection has turned into something much more in just a couple of years. As we started talking about our collections, <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">No-Intro‚Äôs undumped list</a> became a topic of conversation, and we began to wonder when, if ever, those cards would see the light of day and to what degree people were actively attempting to tick them off.</p><p>And as time passed, that question began to evolve into another; ‚Äú<strong>Why not us?</strong>‚Äù. So we did.</p><p>The <strong>‚Äúe-Reader Crew‚Äù</strong> is a (now larger) group of preservationists with a very big goal: To catalogue and verify every e-card in the Nintendo e-Reader library.</p><p>One of the major ways we intend on accomplishing this is through the use of 3200 DPI scans.
We settled on such a high resolution because it allows both the <a href="https://www.caseyprinting.com/blog/what-is-a-rosette-pattern">rosette pattern</a> (also known as halftones) from the printing process and the dot code itself to be captured clearly.</p><p>For consistency, all scans are being performed using an Epson v600 scanner with a color calibrated profile via SilverFast; professional scanning software. Every unique side of an e-Reader card will be scanned in 3200 DPI at least once. We‚Äôve also had custom cuts of plexiglass made which are designed to reliably and consistently orient cards inside the scanner as well as gently apply pressure to ensure that they lay flat on the scan bed:</p><p><img src="https://i.imgur.com/6CDFX3X.jpg" alt="img"></p><p>This should allow for the best possible scans from our equipment.</p><p>We already have several full sets of cards from various different franchises scanned and preserved in this quality, including the aforementioned incredibly rare Store-Only Demo and Club Nintendo cards. We also have scans of booster boxes and packs in the same quality. Here is an example of one of our card scans resized to a much smaller resolution (The magnified areas show the kind of detail we are able to capture):</p><p><img src="https://i.imgur.com/GSr9ZPO.png" alt="img"></p><p>There are a couple of cards which will prove to be difficult or near impossible to obtain, such as the <a href="https://ereader.no-intro.org/resources_u/kirbycard.jpg">1st Prize Kirby Card</a> from E3 2002, of which only 10 were printed.
For any cards that are entirely out of our grasp (and for those cards only), we will explore potential recreation of the experience; something we‚Äôve almost fully achieved with the <a href="https://github.com/The-Revvy/kirby-1st-recreation">1st Prize Kirby Card already</a>.
<em>(A big thank you to <a href="https://github.com/The-Revvy">The-Revvy</a> for their work on this!)</em>.</p><p>For historical purposes, we intend to make an image recreation of this card in the same quality, given its similarities to both the 2nd Place and ‚ÄòLoser‚Äô cards within the same set. We‚Äôd like to think of this as a temporary measure while we wait and hope for these cards to eventually see the light of day. Any recreated cards will be noted accordingly. However, it‚Äôs important to stress that this will only account for a few cards at most.</p><p>We also intend to preserve e-Reader cards by submitting card hashes to the DAT-o-MATIC database for comparison.</p><p>One recurring issue that we‚Äôve had when attempting to reach out and preserve e-card hashes within the Pok√É¬©mon Trading Card Game community is that a majority of the most valuable cards are held within grading cases.</p><p>Almost every collector we‚Äôve been in contact with has been very co-operative and willing to help; however, understandably nobody is willing to remove their rare and expensive cards from grading cases and/or risk damaging them. Performing our own physical e-Reader disassembly tests, we concluded that it is possible to scan e-cards from within cases and toploader sleeves with a physical modification of the e-Reader.</p><p>We√¢‚Ç¨‚Ñ¢ve been in contact with a very talented 3D modeler called RevZ, explained our dilemma to him, and presented the idea of creating a modified e-Reader shell capable of scanning cards from within these cases. Within two weeks, we shipped him an e-Reader and cards for testing purposes, and he produced his first 3D mockup.</p><p><img src="https://i.imgur.com/StjHfBg.png" alt="img"></p><p>In just a month, we had our first fully functional prototype which he has kindly demonstrated in the following video. We‚Äôve dubbed this modification the <strong>‚Äúe+ PRO‚Äù</strong>:</p><p><iframe src="https://www.youtube.com/embed/snFQV4L9wIM" allowfullscreen="" title="YouTube Video"></iframe></p><p>Additional shims or trays for toploader‚Äôd and loose cards are also in the process of being created.</p><p>Despite still being in the prototyping stage, this modification has several exciting advantages relating to preservation as well as allowing collectors to actually <em>use</em> their e-Reader cards while maintaining the benefit of protecting their cards with toploaders or cases.</p><p>The ideal continuation of the project would be to take these concepts a step further and explore the possibility of utilizing computer vision software to generate uniform dot code images from users own high quality scans which would allow for quick hash verification for any card that can be scanned.</p><p>At the moment, this is merely a prospect and is not something we can promise to commit to at this stage.</p><p>While all of this is very promising, the team needs <strong>your help</strong>!</p><p><strong><em>We‚Äôre looking to raise a total of $3,000 (USD) in donations to work toward this preservation goal.</em></strong></p><p>The funds will be used for:</p><ul><li>Purchase of <a href="https://wiki.no-intro.org/index.php?title=Nintendo_-_Game_Boy_Advance_e-Reader_Cards_undumped">undumped, unavailable, and unscanned cards</a>.</li><li>Providing matching scanners and tools to collectors with large collections or rare cards who are willing to contribute their time and effort to the project.</li><li>Production of custom acrylic templates for holding the cards in place while scanning.</li><li>Materials and cost of e-Reader modification production.</li><li>Shipping costs related to all of the above.</li></ul><p>In addition to preserving e-Reader cards as an important part of gaming history, the project will provide further benefits:</p><ul><li>The data and information stored on the e-Reader cards will be preserved for future generations, without the need of trying to hunt these down decades from now.</li><li>Guides on how to preserve and restore e-Reader cards.</li><li>The resulting 3D models of the final physical e-Reader modification will be made publicly available to 3D print.</li></ul><span></span><p><em>Hit Save! is a 501(c)(3) nonprofit organization and your donations are tax-deductible to the extent allowed by law.</em>
<em>All donations up to the amount above will go to this project. Any donations above said amount will be used for similar preservation and history projects in the future.</em></p></article></div>]]>
            </description>
            <link>https://hitsave.org/blog/e-reader-fundraiser/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132353</guid>
            <pubDate>Sun, 14 Feb 2021 13:48:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[S3 is not a filesystem, and that's OK]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26132243">thread link</a>) | @michalc
<br/>
February 14, 2021 | https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/ | <a href="https://web.archive.org/web/*/https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
      

<article itemscope="" itemtype="http://schema.org/BlogPosting" itemref="michal-charemza-author michal-charemza-limited-publisher michal-charemza-image">
  <header>
    
    <p itemprop="description">and that's OK</p>
    <p><time itemprop="datePublished" datetime="2021-02-14T13:00:00.000Z">Sunday February 14th, 2021</time></p>
    
  </header>
  <div itemprop="articleBody">
    
<p>Something that occasionally catches developers out is the fact that S3 is not a filesystem, but a key-value store. Specifically</p>

<ul>
  <li><i></i> the keys can be any UTF-8 encoded string, between 1 and 1024 bytes long;</li>
  <li><i></i> the values can be any binary string, beteen 0 bytes and 5 terabytes long.</li>
</ul>

<p>Yes, you can emulate certain features of a filesystem using slashes in the keys. In fact, the AWS console does this: it creates a folder by creating a 0-byte object with a trailing slash in its key.</p>

<p>But, you don't have to be limited by the key-structure that a filesystem imposes. For example, if you want to:</p>

<ul>
  <li><i></i> you can have objects, with data, at both of the keys <code>a</code> and <code>a/b</code>;</li>
  <li><i></i> and you can have objects, with data, that have keys ending in <code>/</code>.</li>
</ul>

<p>Both of these are impossible in a traditional filesystem.</p>

<p>An example of using this is to store an uploaded file, <code>some-unique-name.txt</code> say, and then store derived data inside its "folder", for example <code>some-unique-name.txt/analysis1</code> and <code>some-unique-name/analysis2</code>.</p>

<h3>Now a warning</h3>

<p>If you're about to leverage the fact S3 is a key-value store by having non filesystem-compatible keys, be warned: there are consequences.</p>

<ul>
  <li><i></i> You won't be able to easily sync from your S3 bucket to a filesystem.</li>
  <li><i></i> Everything that claims to be S3 compatible may not be, and so migrating to those systems, or using them in a test environment, may be trickier. Specifically, <a href="https://github.com/minio/minio/issues/10160">minio [that I have used many times and generally really like] is not S3-compatible in this way</a>.</li>
</ul>

<p>So, there are some valid pragmatic reasons to make sure your keys are filesystem-compatible. But, I can't help the niggling feeling that it's a shame to be limited by systems you're not using.</p>

  </div>
</article>

  </div></div></div>]]>
            </description>
            <link>https://charemza.name/blog/posts/s3/s3-is-not-a-filesystem/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132243</guid>
            <pubDate>Sun, 14 Feb 2021 13:32:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In defense of interesting writing on controversial topics]]>
            </title>
            <description>
<![CDATA[
Score 122 | Comments 131 (<a href="https://news.ycombinator.com/item?id=26132104">thread link</a>) | @petulla
<br/>
February 14, 2021 | https://www.slowboring.com/p/slate-star-codex | <a href="https://web.archive.org/web/*/https://www.slowboring.com/p/slate-star-codex">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><em>This is a free preview of Slow Boring. If you like what you read, consider supporting this site by <a href="http://www.slowboring.com/subscribe">subscribing</a>. </em></p><p>Some time ago, Scott Alexander, the pseudonymous author of the Slate Star Codex blog, announced that he was abandoning his site. The reason was that a New York Times reporter had been in touch with him explaining that he was doing a profile of the blog, and in the course of writing it he was compelled by some NYT policy to disclose Alexander‚Äôs real name. </p><p>Alexander is a practicing psychiatrist and felt that for reasons of professional ethics, this would jeopardize his job ‚Äî so he shut the blog down in a rather dramatic fashion. This, in turn, led to a lot of condemnatory rhetoric from his fans and admirers, many of whom work in the technology industry and had a set of preexisting grievances with what they call ‚Äúthe media‚Äù and what I would call ‚Äúthe technology coverage of a half dozen outlets, notably including The New York Times.‚Äù Much of the ensuing rhetoric from the pro-SSC camp (though not from Alexander, who if anything is even-tempered to a fault in his public persona) struck me as overheated, but I was sad it had driven Alexander from the internet.</p><p>The good news is that he has since resurfaced on Substack at <a href="https://astralcodexten.substack.com/">Astral Codex Ten</a>. He also has a new job as the founder of <a href="https://lorienpsych.com/">Lorien Psychiatry</a>, an innovative effort to use telemedicine to make psychiatric treatment much more affordable. </p><p>Then, on Saturday, <a href="https://www.nytimes.com/2021/02/13/technology/slate-star-codex-rationalists.html">Cade Metz‚Äôs NYT article about SSC finally dropped</a>. And it‚Äôs terrible. (Read <a href="https://astralcodexten.substack.com/p/statement-on-new-york-times-article">Alexander‚Äôs post</a> about it, though I think he has too much of a conspiratorial view of this.<a id="footnote-anchor-1" href="#footnote-1">1</a>)</p><p>I tend to think that too much time and mental energy is expended, including by me, on critiquing bad articles, and not enough time and energy is spent on praising good ones. So I feel kind of bad about writing a detailed criticism of a single bad article. But, given the larger context in which this story appeared, my sense is it‚Äôs going to become a flashpoint for a whole bunch of interesting struggles, so I think it‚Äôs useful and informative to say what I think. </p><h4>A tortured premise</h4><p>On its face, the idea of profiling an obscure blog written by a pseudonymous psychiatrist that has a surprisingly high-clout readership is perfectly good. Alexander‚Äôs readers include many Silicon Valley people, including ‚Äî as Metz details ‚Äî some very high-ranking executives. It‚Äôs an interesting story. </p><p>But I think Metz kind of misses what‚Äôs interesting about it from the get-go. </p><ul><li><p><a href="https://twitter.com/douthatnyt/status/859771088125005824?lang=en">Ross Douthat</a> reads SSC, and so does <a href="https://www.vox.com/2014/12/1/7311417/race-law-controls">Ezra Klein</a>. </p></li><li><p><a href="https://www.nytimes.com/2018/03/08/opinion/student-mobs.html">David Brooks</a> has quoted him in The New York Times. </p></li><li><p><a href="https://marginalrevolution.com/marginalrevolution/2017/04/excerpt-chat-ezra.html">Tyler Cowen</a> praises SSC and the larger ‚Äúrationalist community‚Äù that it was a flagship publication of, but also critiques them, saying ‚ÄúI would approve of them much more if they called themselves the irrationality community.‚Äù</p></li></ul><p>As you‚Äôll see in Metz‚Äôs story, the Vox writer Kelsey Piper is an SSC reader and a rationalist. But she works primarily for Vox‚Äôs <a href="https://www.vox.com/future-perfect">Future Perfect</a> vertical, which is a whole rationalist-inspired cornucopia of content. </p><p>In other words, this is an intellectual movement that‚Äôs somewhat influential in highbrow circles broadly, and that deserves to be situated as such. Well-known books like Toby Ord‚Äôs <a href="https://www.amazon.com/Precipice-Existential-Risk-Future-Humanity/dp/0316484911">‚ÄúThe Precipice‚Äù</a> and Philip Tetlock‚Äôs <a href="https://www.amazon.com/Superforecasting-Science-Prediction-Philip-Tetlock/dp/0804136718">‚ÄúSuperforecasting: The Art and Science of Prediction‚Äù</a> are important parts of the rationalist firmament. There‚Äôs also Julia Galef‚Äôs excellent podcast ‚ÄúRationally Speaking‚Äù on which <a href="https://podcasts.google.com/feed/aHR0cDovL3d3dy5ueWNza2VwdGljcy5vcmcvc3RvcmFnZS9mZWVkcy9ycy54bWw/episode/YzZlZTFhZmUtMTkwMS00ZDZiLTg1Y2QtMjhlNDI3ODE5YTJk?hl=en&amp;ved=2ahUKEwiNhNeMzefuAhXNFVkFHUIfB5EQieUEegQIDhAF&amp;ep=6">you can hear me yacking</a>. </p><p>There‚Äôs a lot more going on than ‚Äúsome tech executives read this blog,‚Äù in other words. </p><p>But Metz does not seem interested in actually exploring rationalist ideas or understanding their content or the scope of their influence. Instead, the article is structured as a kind of syllogism:</p><ul><li><p>Scott Alexander‚Äôs blog is popular with some influential Silicon Valley people.</p></li><li><p>Scott Alexander has done posts that espouse views on race or gender that progressives disapprove of. </p></li><li><p>Therefore, Silicon Valley is a hotbed of racism and sexism. </p></li></ul><p>One time years ago, I went to Silicon Valley for a few days. As a white guy, I would not be well-situated to assess the extent to which it‚Äôs a hotbed of racism and sexism anyway, so I won‚Äôt comment on the conclusion. But the logic is specious, and the whole thing is an incredible missed opportunity to help people understand some valuable and interesting ideas. </p><h4>Rationalism as I understand it  </h4><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e70ba9bd-da54-4126-b597-ae1d556a06d3_1022x408.png&quot;,&quot;height&quot;:408,&quot;width&quot;:1022,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:702783,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a><figcaption>Early Modern rationalists ‚Äî Descartes, Spinoza, Leibniz</figcaption></figure></div><p>When I first heard about rationalists I was intensely confused, because in college I took a few different classes that involved reading ‚Äúrationalist‚Äù philosophers from the Early Modern period, and contemporary rationalists‚Äô ideas are totally unlike early modern philosophical rationalists‚Äô ideas.<a id="footnote-anchor-2" href="#footnote-2">2</a> I should also note that contemporary rationalism is both a set of ideas and also a specific community in the Bay Area that, as I understand it, involves polyamory and communal living of some kind. I don‚Äôt have any real knowledge or understanding of the latter and am just talking about ideas. </p><p>Rationalists‚Äô big thing is that the natural human process of cognition is <em>capable</em> of reaching accurate results, but that‚Äôs not really the default mode. And rationalists are not just aware of this ‚Äî they think it‚Äôs a big problem, and they try really hard to push back on it and develop better reasoning skills. </p><p>I think that‚Äôs probably why a rationalist blog is very popular in Silicon Valley. The nature of VC investing or the management of an early-stage startup is that there is incredible monetary value in making correct predictions in the face of imperfect information. Then on top of that, the kinds of recommendations that rationalists give for how to reason better tend to align with engineers‚Äô natural instincts and inclinations:&nbsp;be more bloodless and objective, evaluate claims on the merits in isolation, gather and surface all available facts. </p><p>This thing I did where I tried to <a href="https://www.slowboring.com/p/predictions">list specific predictions with specific probabilities</a> so I can go back and check to see how wrong I was is a rationalist idea. </p><p>But of course, there‚Äôs more to it than predicting. The key to Metz‚Äôs point is that part of the practice of rationalism is that in order to do it effectively, you have to be willing to be impolite. Not necessarily 24 hours a day or anything, but when you‚Äôre in Rationalism Mode you can‚Äôt also ‚Äúread the room.‚Äù A rationalist would say that human psychology is <em>over-optimized</em> for reading the room, and that to get at the truth you need to be willing to deliberately turn off the room-reading portion of your brain and just throw your idea out. </p><p>Compared to the public masses, the biggest difference between rationalists and everyday Americans is almost certainly that <a href="https://www.pewresearch.org/fact-tank/2018/04/25/key-findings-about-americans-belief-in-god/">Americans are very religious</a>. </p><div><figure><a target="_blank" href="https://cdn.substack.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png"><img src="https://cdn.substack.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fe4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png" data-attrs="{&quot;src&quot;:&quot;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/e4908e87-8451-4a13-92a1-1bc4c7020586_640x380.png&quot;,&quot;height&quot;:380,&quot;width&quot;:640,&quot;resizeWidth&quot;:null,&quot;bytes&quot;:27299,&quot;alt&quot;:null,&quot;title&quot;:null,&quot;type&quot;:&quot;image/png&quot;,&quot;href&quot;:null}" alt=""></a></figure></div><p>But a quirk of American life is that even though most Americans say they believe in God as described in the Bible, nobody thinks it‚Äôs interesting to argue about this. By contrast, lots of people like to argue about race and gender issues. But in progressive circles, it is common to observe the norm that because the struggle against racism and misogyny is important, it is impolite to dissent from an anti-racist claim or argument unless you have some overwhelmingly important reason for doing so. </p><h4>Rationality vs. manners</h4><p>This exchange between Conor Friedersdorf and Chris Hayes on the merits of arguing about the San Francisco School Board illustrates the progressive norm, upheld here by Hayes.</p><p>To an extent, I disagree with Hayes about this specific case<a id="footnote-anchor-3" href="#footnote-3">3</a>, but I accept the basic force of his logic. Hayes, as a prime time cable television host, has a kind of power in our society that it‚Äôs incumbent on him to wield wisely. And while I think wielding that power wisely entails not lying to people, it is compatible with discretion about what truths one chooses to speak. But even though rationalists will understand the strategic logic of this kind of argument as well (if not better) than most, the <em>practice</em> of rationalism requires setting it aside. </p><p>You see this on display in a post Metz criticizes titled <a href="https://slatestarcodex.com/2017/08/01/gender-imbalances-are-mostly-not-due-to-offensive-attitudes/">‚ÄúGender Imbalances Are Mostly Not Due To Offensive Attitudes.‚Äù</a></p><p>In the (liberal, coastal, urban, very political) circles that I travel, everyone (especially parents) knows and acknowledges that men and women are, on average, different in ways that end up mattering for the distribution of outcomes. But everyone also believes that sexism and misogyny are significant problems in the world, and that the people struggling against those problems are worthy of admiration and praise. So to leap into a conversation about sexism and misogyny yelling <a href="https://pubmed.ncbi.nlm.nih.gov/30206941/">‚ÄúWELL ACTUALLY GIOLLA AND KAJONIUS FIND THAT  SEX DIFFERENCES IN PERSONALITY ARE LARGER IN COUNTRIES WITH MORE GENDER EQUALITY‚Äù</a> would be considered a rude and undermining thing to do. This is just to say that most people are not rationalists ‚Äî they believe that statements can be evaluated on grounds beyond truth and falsity. There is suspicion of the guy who is ‚Äújust asking questions.‚Äù </p><p>Annie Lowrey even published a piece in the Atlantic denouncing the <a href="https://www.theatlantic.com/ideas/archive/2020/07/may-i-introduce-you-facts-man/614827/">‚ÄúFacts Man‚Äù</a> on precisely these terms:  </p><blockquote><p>Sometimes, Facts Man is less about truth than raising questions. Why can‚Äôt Facts Man talk about certain issues in exactly the way he wants to? Why can‚Äôt Facts Man bring up scientific facts relevant to other people‚Äôs humanity without getting called out for it? Why can‚Äôt Facts Man make obscenely offensive conjectures about life-or-death issues? Where‚Äôs the open debate? Why does Facts Man have to genuflect to other peoples‚Äô identity politics? Facts Man himself has no identity politics! He is an individual, as unique as a snowflake, but certainly not as fragile as one.</p></blockquote><p>Personally, I find myself somewhere between Lowrey and Alexander on this. The pure vision of the rationalists and the belief that statements could or should be read devoid of context or purely literally strikes me as untenable. But I think that in the Trump era, journalism as a whole has tilted too far in Lowrey‚Äôs direction, with too much room-reading and groupthink and ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.slowboring.com/p/slate-star-codex">https://www.slowboring.com/p/slate-star-codex</a></em></p>]]>
            </description>
            <link>https://www.slowboring.com/p/slate-star-codex</link>
            <guid isPermaLink="false">hacker-news-small-sites-26132104</guid>
            <pubDate>Sun, 14 Feb 2021 13:08:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The most important AI Conferences in 2021]]>
            </title>
            <description>
<![CDATA[
Score 5 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131821">thread link</a>) | @amaigmbh
<br/>
February 14, 2021 | https://www.am.ai/en/blog/ai-conferences-2021/ | <a href="https://web.archive.org/web/*/https://www.am.ai/en/blog/ai-conferences-2021/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>February 2nd marks the start of a year filled with AI conferences. The 35th AAAI organized by the Association for the Advancement of Artificial Intelligence is the first of many important conferences this year. It can be quite challenging to keep an overview of the multitude of different AI Expert gatherings across the globe, ranging from small-scale meetups to international conferences with thousands of attendees. </p><p><span>
      <span></span>
  <img alt="2021 AI Conferences w Logos" title="2021 AI Conferences w Logos" src="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png" srcset="https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/12f09/2021%20AI%20Conferences%20w%20Logos.png 148w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/e4a3f/2021%20AI%20Conferences%20w%20Logos.png 295w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/fcda8/2021%20AI%20Conferences%20w%20Logos.png 590w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/efc66/2021%20AI%20Conferences%20w%20Logos.png 885w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/c83ae/2021%20AI%20Conferences%20w%20Logos.png 1180w,https://www.am.ai/static/13c03f3b6095d9a414f705d3d3611763/29114/2021%20AI%20Conferences%20w%20Logos.png 1920w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>Therefore, we have gathered the most important conferences below, based on scientific relevance. The relevance is indicated by the h5-index which <a target="_blank" rel="nofollow noopener noreferrer" href="https://scholar.google.com/citations?view_op=top_venues&amp;hl=en&amp;vq=eng_artificialintelligence">Google Scholar</a> computes for the publications of each conference, based on the authors <a target="_blank" rel="nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/H-index">H-indices</a>.</p><p>Below you will find introductions to the following segments:</p><ol><li>Top Computer Vision Conferences</li><li>Top General Machine Learning Conferences</li><li>Top AI Conferences on Specific Topics</li></ol><br><hr><br><p><span>
      <span></span>
  <img alt="logo cvpr" title="logo cvpr" src="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png" srcset="https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/12f09/logo_cvpr.png 148w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/e4a3f/logo_cvpr.png 295w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/fcda8/logo_cvpr.png 590w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/efc66/logo_cvpr.png 885w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c83ae/logo_cvpr.png 1180w,https://www.am.ai/static/8855ce1a829025a43b2baa1ec08df4c9/c1b63/logo_cvpr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF Conference on Computer Vision and Pattern Recognition <strong>(CVPR)</strong></h3><p><strong>19.-25. June 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 299 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://cvpr2021.thecvf.com/">cvpr2021.thecvf.com</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The Conference on Computer Vision and Pattern Recognition (CVPR) is an annual conference on computer vision and pattern recognition, which is regarded as one of the most important conferences in its field.</p></blockquote><p><span>
      <span></span>
  <img alt="logo iccv" title="logo iccv" src="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png" srcset="https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/12f09/logo_iccv.png 148w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/e4a3f/logo_iccv.png 295w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/fcda8/logo_iccv.png 590w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/efc66/logo_iccv.png 885w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c83ae/logo_iccv.png 1180w,https://www.am.ai/static/a3fd3a3729f70714b490de4d7344df16/c1b63/logo_iccv.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>IEEE/CVF International Conference on Computer Vision <strong>(ICCV)</strong></h3><p><strong>11.-17. October 2021 <!-- -->&nbsp;<!-- --> Location: Montreal, Canada <!-- -->&nbsp;<!-- --> h5-index: 176 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="http://iccv2021.thecvf.com/home">iccv2021.thecvf.com/home</a> <!-- -->&nbsp;<!-- --> Focus: Computer Vision</strong></p><blockquote><p>The International Conference on Computer Vision (ICCV) is a research conference sponsored by the Institute of Electrical and Electronics Engineers (IEEE) held every other year. It is considered to be one of the top conferences in computer vision, alongside CVPR and ECCV, and it is held on years in which ECCV is not.</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo iclr" title="logo iclr" src="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png" srcset="https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/12f09/logo_iclr.png 148w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/e4a3f/logo_iclr.png 295w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/fcda8/logo_iclr.png 590w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/efc66/logo_iclr.png 885w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c83ae/logo_iclr.png 1180w,https://www.am.ai/static/dc0b3a1d326fb05be6b2fb7c8ef36d94/c1b63/logo_iclr.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Learning Representations <strong>(ICLR)</strong></h3><p><strong>5.-8. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 203 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://iclr.cc/">iclr.cc</a> <!-- -->&nbsp;<!-- --> Focus: Deep Learning</strong></p><blockquote><p>ICLR is one of the fastest growing artificial intelligence conferences in the world.
The International Conference on Learning Representations (ICLR) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence called representation learning, but generally referred to as deep learning.</p><p>ICLR is globally renowned for presenting and publishing cutting-edge research on all aspects of deep learning used in the fields of artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, text understanding, gaming, and robotics.</p><p>The conference is presided by "Godfathers of AI" Yann LeCun and Yoshua Bengio.</p></blockquote><p><span>
      <span></span>
  <img alt="logo neurips" title="logo neurips" src="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png" srcset="https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/12f09/logo_neurips.png 148w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/e4a3f/logo_neurips.png 295w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/fcda8/logo_neurips.png 590w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/efc66/logo_neurips.png 885w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c83ae/logo_neurips.png 1180w,https://www.am.ai/static/bcd6c35e10b406be392880d597dc2ee8/c1b63/logo_neurips.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Neural Information Processing Systems <strong>(NeurIPS)</strong></h3><p><strong>27. November - 5. December 2021 <!-- -->&nbsp;<!-- --> Location: TBA <!-- -->&nbsp;<!-- --> h5-index: 198 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://nips.cc/">nips.cc</a></strong></p><blockquote><p>The Conference and Workshop on Neural Information Processing Systems (abbreviated as NeurIPS and formerly NIPS) is a machine learning and computational neuroscience conference held every December. The conference is currently a double-track meeting (single-track until 2015) that includes invited talks as well as oral and poster presentations of refereed papers, followed by parallel-track workshops.</p><p>Landmark publications in the past include object detector Faster R-CNN and the Attention Is All You Need paper that introduced the Transformer architecture.</p></blockquote><p><span>
      <span></span>
  <img alt="logo icml" title="logo icml" src="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png" srcset="https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/12f09/logo_icml.png 148w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/e4a3f/logo_icml.png 295w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/fcda8/logo_icml.png 590w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/efc66/logo_icml.png 885w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c83ae/logo_icml.png 1180w,https://www.am.ai/static/caeb54cb7ba4bcb78cf209724f43cb3d/c1b63/logo_icml.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>International Conference on Machine Learning <strong>(ICML)</strong></h3><p><strong>18.-24. July 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 171 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://icml.cc/">icml.cc</a></strong></p><blockquote><p>The International Conference on Machine Learning (ICML) is the premier gathering of professionals dedicated to the advancement of the branch of artificial intelligence known as machine learning.</p><p>ICML is globally renowned for presenting and publishing cutting-edge research on all aspects of machine learning used in closely related areas like artificial intelligence, statistics and data science, as well as important application areas such as machine vision, computational biology, speech recognition, and robotics.</p><p>ICML is one of the fastest growing artificial intelligence conferences in the world. Participants at ICML span a wide range of backgrounds, from academic and industrial researchers, to entrepreneurs and engineers, to graduate students and postdocs.</p></blockquote><p><span>
      <span></span>
  <img alt="logo aaai" title="logo aaai" src="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png" srcset="https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/12f09/logo_aaai.png 148w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/e4a3f/logo_aaai.png 295w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/fcda8/logo_aaai.png 590w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/efc66/logo_aaai.png 885w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c83ae/logo_aaai.png 1180w,https://www.am.ai/static/41434e10a70caa564a4d420ef394e493/c1b63/logo_aaai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>AAAI Conference on Artificial Intelligence <strong>(AAAI)</strong></h3><p><strong>2.-9. February 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 126 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://aaai.org/">aaai.org</a></strong></p><blockquote><p>The 35th AAAI Conference on Artificial Intelligence (AAAI-21) will have a diverse technical track, student abstracts, poster sessions, invited speakers, tutorials, workshops, and exhibit and competition programs, all selected according to the highest reviewing standards. AAAI-21 welcomes submissions on mainstream AI topics as well as novel crosscutting work in related areas.</p><p>Among the highlights this year is the Liquid Time-Constant Networks paper by Hasani et al. (<a target="_blank" rel="nofollow noopener noreferrer" href="https://news.mit.edu/2021/machine-learning-adapts-0128">news.mit.edu</a>).</p></blockquote><br><hr><br><p><span>
      <span></span>
  <img alt="logo chi" title="logo chi" src="https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png" srcset="https://www.am.ai/static/976284121888ce61ade73b91e387a765/12f09/logo_chi.png 148w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/e4a3f/logo_chi.png 295w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/fcda8/logo_chi.png 590w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/efc66/logo_chi.png 885w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c83ae/logo_chi.png 1180w,https://www.am.ai/static/976284121888ce61ade73b91e387a765/c1b63/logo_chi.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM Conference on Human Factors in Computing Systems <strong>(CHI)</strong></h3><p><strong>8.-13. May 2021 <!-- -->&nbsp;<!-- --> Location: Virtual <!-- -->&nbsp;<!-- --> h5-index: 95 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://chi2021.acm.org/">chi2021.acm.org</a> <!-- -->&nbsp;<!-- --> Focus: Human Computer Interaction (HCI)</strong></p><blockquote><p>The 2021 ACM CHI Virtual Conference on Human Factors in Computing Systems is the premier international conference on Human-Computer Interaction. CHI ‚Äì pronounced ‚Äòkai‚Äô ‚Äì is a place where researchers and practitioners gather from across the world to discuss the latest in interactive technology. CHI is generally considered the most prestigious in the field of HCI and attracts thousands of international attendees annually.</p></blockquote><p><span>
      <span></span>
  <img alt="logo acl" title="logo acl" src="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png" srcset="https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/12f09/logo_acl.png 148w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/e4a3f/logo_acl.png 295w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/fcda8/logo_acl.png 590w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/efc66/logo_acl.png 885w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c83ae/logo_acl.png 1180w,https://www.am.ai/static/e3f12ea2d3f7744c933e2d193eb4c91a/c1b63/logo_acl.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>Meeting of the Association for Computational Linguistics <strong>(ACL)</strong></h3><p><strong>1.-6. August 2021 <!-- -->&nbsp;<!-- --> Location: Bangkok, Thailand <!-- -->&nbsp;<!-- --> h5-index: 135 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://2021.aclweb.org/">2021.aclweb.org</a> <!-- -->&nbsp;<!-- --> Focus: Language Processing</strong></p><blockquote><p>ACL is the premier conference of the field of computational linguistics, covering a broad spectrum of diverse research areas that are concerned with computational approaches to natural language. It will be held jointly with the 11th International Joint Conference on Natural Language Processing of the Asian Federation of Natural Language Processing (AFNLP). </p></blockquote><p><span>
      <span></span>
  <img alt="logo kdd" title="logo kdd" src="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png" srcset="https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/12f09/logo_kdd.png 148w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/e4a3f/logo_kdd.png 295w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/fcda8/logo_kdd.png 590w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/efc66/logo_kdd.png 885w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c83ae/logo_kdd.png 1180w,https://www.am.ai/static/2d84a416fa15e4c8fa02a030539e3fdc/c1b63/logo_kdd.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><h3>ACM International Conference on Knowledge Discovery and Data Mining <strong>(KDD)</strong></h3><p><strong>14.-18. August 2021 <!-- -->&nbsp;<!-- --> Location: Singapore <!-- -->&nbsp;<!-- --> h5-index: 90 <!-- -->&nbsp;<!-- --> Website: <a target="_blank" rel="nofollow noopener noreferrer" href="https://www.kdd.org/kdd2021/">kdd.org/kdd2021</a> <!-- -->&nbsp;<!-- --> Focus: Data Mining</strong></p><blockquote><p>The Special Interest Group for Knowledge Discovery and Data Mining of the Association for Computing Machinery hosts the annual premier forum for data mining researchers and practitioners from academia, industry, and government to share ideas, research results and experiences. </p></blockquote><hr><br><h3>AI Conferences 2021 sorted by Relevance</h3><br><h3>AI Conferences 2021 sorted by Date</h3><hr><p><span>
      <span></span>
  <img alt="logo amai" title="logo amai" src="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png" srcset="https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/12f09/logo_amai.png 148w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/e4a3f/logo_amai.png 295w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/fcda8/logo_amai.png 590w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/efc66/logo_amai.png 885w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c83ae/logo_amai.png 1180w,https://www.am.ai/static/999f1bdfb6154e361027ac558cd7bad1/c1b63/logo_amai.png 1200w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p><p>We certainly have an exciting year ahead of us. New scientific breakthroughs will be announced at the expert meetings listed above. But sifting through conference proceedings naturally requires a lot of time and expertise. Instead of digging through countless pages, you can stay up to date with our <strong><a target="_blank" rel="nofollow noopener noreferrer" href="https://i.am.ai/newsletter">i.am.ai AI Newsletter</a></strong>.</p><p>To talk to an AI Expert about the latest technologies and <strong>practical applications</strong> for your business, say <strong><a target="_blank" rel="nofollow noopener noreferrer" href="mailto:hi@am.ai">hi@am.ai</a></strong>.</p></div></div>]]>
            </description>
            <link>https://www.am.ai/en/blog/ai-conferences-2021/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131821</guid>
            <pubDate>Sun, 14 Feb 2021 12:29:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python Internals Serie: Int (Long) Object]]>
            </title>
            <description>
<![CDATA[
Score 68 | Comments 13 (<a href="https://news.ycombinator.com/item?id=26131703">thread link</a>) | @karroum
<br/>
February 14, 2021 | http://ykarroum.com/2021/01/10/intobject/ | <a href="https://web.archive.org/web/*/http://ykarroum.com/2021/01/10/intobject/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <div>
  
  <p><span>10 Jan 2021</span></p><p>In this article, we will read and discuss the implementation details of <em>ints</em> in <em>CPython</em>.</p>

<p>Altough using integers in python is fairly easy :</p>

<figure><pre><code data-lang="python"><span>a</span> <span>=</span> <span>1</span>

<span>b</span> <span>=</span> <span>a</span> <span>+</span> <span>5</span></code></pre></figure>

<p>The implementation file contains more than 5000 code lines.</p>

<p>Since the file contains roughly 116 functions/macros, I‚Äôll probably skip some (most of ?) functions.</p>

<p>Without further ado, let‚Äôs dive into the code !</p>

<h3 id="longobjectc">longobject.c</h3>

<p>First we need to find a starting point, we know that all pythons objects are stored in <code>cpython/Objects</code>.</p>

<p>Unfortunetly, we don‚Äôt seem to have an <code>intobject.c</code> file. That‚Äôs because the underlying C object for python integers is <code>PyLongObject</code>.</p>

<p>The file we‚Äôre interessted in is : <code>longobject.c</code></p>

<p>From now one I will refer to python‚Äôs integers implementation both using <em>integers</em> or <em>longs</em>, which is not technically accurate since in <em>C</em> those are different types.</p>

<p>For the rest of this article, we‚Äôll revisit some of the most used operations/functions related to integers.</p>

<h4 id="medium_valuex">MEDIUM_VALUE(x)</h4>

<figure><pre><code data-lang="c"><span>/* convert a PyLong of size 1, 0 or -1 to an sdigit */</span>
<span>#define MEDIUM_VALUE(x) (assert(-1 &lt;= Py_SIZE(x) &amp;&amp; Py_SIZE(x) &lt;= 1),   \
         Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0] :   \
             (Py_SIZE(x) == 0 ? (sdigit)0 :                             \
              (sdigit)(x)-&gt;ob_digit[0]))</span></code></pre></figure>

<p>The comment is pretty explanatory, the macro convert a given <em>long</em> to an <em>sdigit</em>. But what‚Äôs an sdigit ? Well it depends :</p>

<figure><pre><code data-lang="c"><span>#if PYLONG_BITS_IN_DIGIT == 30 </span><span>/* signed variant of digit */</span><span>
</span><span>typedef</span> <span>int32_t</span> <span>sdigit</span>
<span>#elif PYLONG_BITS_IN_DIGIT == 15
</span><span>typedef</span> <span>short</span> <span>sdigit</span><span>;</span> <span>/* signed variant of digit */</span>
<span>#else
#error "PYLONG_BITS_IN_DIGIT should be 15 or 30
#endif</span></code></pre></figure>

<p>The <code>PYLONG_BITS_IN_DIGIT</code> is defined either at configure time or in <code>pyport.h</code>.</p>

<p>We have an assert to protect us from accidently casting a big integer, which is not small enough to fit in an sdigit, to an sdigit, which may result in a loss of information, therefore potentiely issues which can be hard to detect.</p>

<p>Curiously, the assert check that the <em>size</em> of x is bigger than -1, but can be less than 0 ? My guess is that size is unsigned to represent both the size and the sign of the integer, for exemple : <code>PY_SIZE(-15) = -2</code>.
This seems to be confirmed with <code>Py_SIZE(x) &lt; 0 ? -(sdigit)(x)-&gt;ob_digit[0]</code>.</p>

<p><code>ob_digit</code> looks like an array containing our integer. which can be confirmed in the file <code>longintrepr.h</code> :</p>

<figure><pre><code data-lang="c"><span>struct</span> <span>_longobject</span> <span>{</span>
    <span>PyObject_VAR_HEAD</span>
    <span>digit</span> <span>ob_digit</span><span>[</span><span>1</span><span>];</span>
<span>};</span></code></pre></figure>

<p>One curious fact, that I can‚Äôt explain, is the small size of the array (one element ?), maybe it‚Äôs somehow changed at runtime.</p>

<h4 id="is_small_intival">IS_SMALL_INT(ival)</h4>

<figure><pre><code data-lang="c"><span>#define IS_SMALL_INT(ival) (-NSMALLNEGINTS &lt;= (ival) &amp;&amp; (ival) &lt; NSMALLPOSINTS)</span></code></pre></figure>

<p>Pretty straightforward function.</p>

<p><code>NSMALLPOSINTS</code> and <code>NSMALLNEGINTS</code> is defined in the <code>pycore_interp.h</code> file :</p>

<figure><pre><code data-lang="c"><span>/* interpreter state */</span>

<span>#define _PY_NSMALLPOSINTS           257
#define _PY_NSMALLNEGINTS           5</span></code></pre></figure>

<p>To undesrtand why those 2 magic numbers and where this macro is used, let‚Äôs dive into the next function.</p>

<h4 id="static-pyobject--get_small_intsdigit-ival">static PyObject * get_small_int(sdigit ival)</h4>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>get_small_int</span><span>(</span><span>sdigit</span> <span>ival</span><span>)</span>
<span>{</span>
    <span>assert</span><span>(</span><span>IS_SMALL_INT</span><span>(</span><span>ival</span><span>));</span>
    <span>PyInterpreterState</span> <span>*</span><span>interp</span> <span>=</span> <span>_PyInterpreterState_GET</span><span>();</span>
    <span>PyObject</span> <span>*</span><span>v</span> <span>=</span> <span>(</span><span>PyObject</span><span>*</span><span>)</span><span>interp</span><span>-&gt;</span><span>small_ints</span><span>[</span><span>ival</span> <span>+</span> <span>NSMALLNEGINTS</span><span>];</span>
    <span>Py_INCREF</span><span>(</span><span>v</span><span>);</span>
    <span>return</span> <span>v</span><span>;</span>
<span>}</span></code></pre></figure>

<p>This function implements what is commonly known as the <em>Flyweight pattern</em>, as explained here : <a href="https://python-patterns.guide/gang-of-four/flyweight/">https://python-patterns.guide/gang-of-four/flyweight/</a>, the flyweight pattern is used in python to create at the initialisation phase all the integers in the range [-5, 256]. At the runtime, whenever you ask for a number in this range, you‚Äôll always get the <em>same</em> number.</p>

<p>Which can be easily checked :</p>

<figure><pre><code data-lang="python"><span>20</span> <span>+</span> <span>30</span> <span>is</span> <span>50</span> <span># True
</span><span>200</span> <span>+</span> <span>300</span> <span>is</span> <span>500</span> <span># False</span></code></pre></figure>

<p>Those integers objects are stored in the interpreter state.</p>

<p>According to <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/</a> :</p>

<blockquote>
  <p>An interpreter state is a group of threads along with the data specific to this group. Threads share such things as loaded modules (sys.modules), builtins (builtins.<strong>dict</strong>) and the import system (importlib).</p>
</blockquote>

<p>Apparently flyweight integers are stored there.</p>

<p>We also use <code>Py_INCREF</code> to increment the reference count of the returned integer, recall that reference counting is what is used by the CPython garbage collector to detect which objects to free (Well not just that, since reference counting alone doesn‚Äôt resolve circular references, but we‚Äôll discuss the <em>gc</em> in more details in future articles).</p>

<h4 id="maybe_small_long">maybe_small_long</h4>

<p>Straitforward function, we check a given integer is small enough to fit into an sdigit, if it‚Äôs the case we downcast it to an sdigit using the <code>MEDIUM_VALUE</code>. After downcasting we check if the integer is in the flyweight range <em>[-5, 257]</em>, if it‚Äôs the case we decrement the referece counting (since we don‚Äôt need two PyLong objects) and we return a reference on the already allocated number.</p>

<h3 id="how-are-longs-created">How are longs created</h3>

<p>Longs are created using the function <code>PyLongObject * _PyLong_New(Py_ssize_t size)</code>, size here refer to the number of digit of the target long.</p>

<figure><pre><code data-lang="c"><span>if</span> <span>(</span><span>size</span> <span>&gt;</span> <span>(</span><span>Py_ssize_t</span><span>)</span><span>MAX_LONG_DIGITS</span><span>)</span> <span>{</span>
	<span>PyErr_SetString</span><span>(</span><span>PyExc_OverflowError</span><span>,</span>
					<span>"too many digits in integer"</span><span>);</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>Well, looks like we can‚Äôt have an indefinely big integer, but how big can our integers be ?</p>

<figure><pre><code data-lang="c"><span>#define MAX_LONG_DIGITS \
    ((PY_SSIZE_T_MAX - offsetof(PyLongObject, ob_digit))/sizeof(digit))</span></code></pre></figure>

<p>If you don‚Äôt already know it, <em>offsetof</em> is a <em>C</em> function wich will basicaly return an offset of the member (ob_digit) from the structure (PyLongObject), if you recall correctly, since our struture only contains <code>PyObject_VAR_HEAD</code> and 	<code>digit ob_digit</code>. so the offset is the memorry taken with VAR_HEAD.</p>

<p>So a integer has a maximal size of roughly Py_SSIZE_T_MAx.</p>

<p>According to this answer : <a href="https://stackoverflow.com/a/42777910/14517936">https://stackoverflow.com/a/42777910/14517936</a> <code>Py_SSIZE_T_MAX = sys.maxsize</code>, which is according to the official documentation ( <a href="https://docs.python.org/3/library/sys.html#sys.maxsize">https://docs.python.org/3/library/sys.html#sys.maxsize</a> ) equal to <code>2**31 - 1</code> on 32 bits machine or <code>2**63 - 1</code>.</p>

<p><code>2**63 - 1</code> is a huge number of digits.</p>

<p>You can check this limit yourself by doing :</p>

<figure><pre><code data-lang="python"><span>import</span> <span>sys</span>
<span>10</span><span>**</span><span>sys</span><span>.</span><span>maxsize</span></code></pre></figure>

<p>If the size is fine, we allocate enough memory to store our integer :</p>

<figure><pre><code data-lang="c"><span>result</span> <span>=</span> <span>PyObject_MALLOC</span><span>(</span><span>offsetof</span><span>(</span><span>PyLongObject</span><span>,</span> <span>ob_digit</span><span>)</span> <span>+</span>
						 <span>size</span><span>*</span><span>sizeof</span><span>(</span><span>digit</span><span>));</span>
<span>if</span> <span>(</span><span>!</span><span>result</span><span>)</span> <span>{</span>
	<span>PyErr_NoMemory</span><span>();</span>
	<span>return</span> <span>NULL</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As a good practice you should ALWAYS check that an allocation had correctly been performed, which may not be the case if you don‚Äôt have enough memory for example, your futur self will thank you.</p>

<h3 id="adding-two-integers">Adding two integers</h3>

<figure><pre><code data-lang="c"><span>static</span> <span>PyObject</span> <span>*</span>
<span>long_add</span><span>(</span><span>PyLongObject</span> <span>*</span><span>a</span><span>,</span> <span>PyLongObject</span> <span>*</span><span>b</span><span>)</span>
<span>{</span>
    <span>PyLongObject</span> <span>*</span><span>z</span><span>;</span>

    <span>CHECK_BINOP</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>

    <span>if</span> <span>(</span><span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>))</span> <span>&lt;=</span> <span>1</span> <span>&amp;&amp;</span> <span>Py_ABS</span><span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>))</span> <span>&lt;=</span> <span>1</span><span>)</span> <span>{</span>
        <span>return</span> <span>PyLong_FromLong</span><span>(</span><span>MEDIUM_VALUE</span><span>(</span><span>a</span><span>)</span> <span>+</span> <span>MEDIUM_VALUE</span><span>(</span><span>b</span><span>));</span>
    <span>}</span>
    <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>a</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span> <span>{</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
            <span>if</span> <span>(</span><span>z</span> <span>!=</span> <span>NULL</span><span>)</span> <span>{</span>
                <span>/* x_add received at least one multiple-digit int,
                   and thus z must be a multiple-digit int.
                   That also means z is not an element of
                   small_ints, so negating it in-place is safe. */</span>
                <span>assert</span><span>(</span><span>Py_REFCNT</span><span>(</span><span>z</span><span>)</span> <span>==</span> <span>1</span><span>);</span>
                <span>Py_SET_SIZE</span><span>(</span><span>z</span><span>,</span> <span>-</span><span>(</span><span>Py_SIZE</span><span>(</span><span>z</span><span>)));</span>
            <span>}</span>
        <span>}</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>b</span><span>,</span> <span>a</span><span>);</span>
    <span>}</span>
    <span>else</span> <span>{</span>
        <span>if</span> <span>(</span><span>Py_SIZE</span><span>(</span><span>b</span><span>)</span> <span>&lt;</span> <span>0</span><span>)</span>
            <span>z</span> <span>=</span> <span>x_sub</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
        <span>else</span>
            <span>z</span> <span>=</span> <span>x_add</span><span>(</span><span>a</span><span>,</span> <span>b</span><span>);</span>
    <span>}</span>
    <span>return</span> <span>(</span><span>PyObject</span> <span>*</span><span>)</span><span>z</span><span>;</span>
<span>}</span></code></pre></figure>

<p>First we check that the two integers are valid.</p>

<figure><pre><code data-lang="c"><span>#define CHECK_BINOP(v,w)                                \
    do {                                                \
        if (!PyLong_Check(v) || !PyLong_Check(w))       \
            Py_RETURN_NOTIMPLEMENTED;                   \
    } while(0)</span></code></pre></figure>

<p>One curious thing you may have noticed is the :</p>

<figure><pre><code data-lang="c"><span>do</span> <span>{</span>
	<span>INSTR</span><span>;</span>
<span>}</span> <span>while</span><span>(</span><span>0</span><span>)</span></code></pre></figure>

<p>Which seems exactly the same as simply :</p>

<figure><pre><code data-lang="c"><span>INST</span><span>;</span></code></pre></figure>

<p>The purpose of doing this is macros in C are not really smart, the <em>preprocessor</em> will simply do a find/replace and hope for the best. The problem with this can be illustrated with the following macro :</p>

<figure><pre><code data-lang="c"><span>#define fct() \
	INSTR1; \
	INSTR2; </span><span>\</span></code></pre></figure>

<p>But what happens if you do :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>fct</span><span>()</span>
<span>else</span>
	<span>INSTR3</span><span>;</span></code></pre></figure>

<p>the preprocessor will replace this with :</p>

<figure><pre><code data-lang="c"><span>if</span><span>(</span><span>condition</span><span>)</span>
	<span>INSTR1</span><span>;</span>
<span>INSTR2</span><span>;</span>
<span>else</span>
	<span>INSTR</span><span>;</span></code></pre></figure>

<p>which is not valid <em>C</em>, since in <em>C</em> if you omit the braces, the if body will only consists of the first instruction which is not what you would expect.</p>

<p>The do while solve this by enclosing all our instructions in one scope.</p>

<p>But why not just use :</p>

<figure><pre><code data-lang="c"><span>{</span>
	<span>INSTR1</span><span>;</span>
	<span>INSTR2</span><span>;</span>
<span>}</span></code></pre></figure>

<p>As far as i know this is simply a syntaxic choice, since writing <code>MACRO();</code> is more natural than <code>MACRO()</code> (not that in the second case we have no semicolon).</p>

<p>The rest is :</p>

<ul>
  <li>if both a and b are negative we return -|a + b|</li>
  <li>if a is negative but not b we compute b - a</li>
  <li>if b is negative and a is positive we compute a - b</li>
  <li>if both are positive we compute |a + b|</li>
</ul>

<p>This looks fairly complicated for a simple a + b, so why all the burden ?</p>

<p>Well recall that in <code>Python</code> integers can be very large (2^63 digits on 64 bits machines), this is achieved by storing the integers in arrays (each element representing a digit).</p>

<p>We dive in the <code>x_add</code> code we see :</p>

<figure><pre><code data-lang="c"><span>for</span> <span>(</span><span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>size_b</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>+</span> <span>b</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>for</span> <span>(;</span> <span>i</span> <span>&lt;</span> <span>size_a</span><span>;</span> <span>++</span><span>i</span><span>)</span> <span>{</span>
        <span>carry</span> <span>+=</span> <span>a</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>];</span>
        <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span> <span>&amp;</span> <span>PyLong_MASK</span><span>;</span>
        <span>carry</span> <span>&gt;&gt;=</span> <span>PyLong_SHIFT</span><span>;</span>
    <span>}</span>
    <span>z</span><span>-&gt;</span><span>ob_digit</span><span>[</span><span>i</span><span>]</span> <span>=</span> <span>carry</span><span>;</span></code></pre></figure>

<h2 id="conclusion">Conclusion</h2>
<p>And that‚Äôs it, the <code>long_sub</code> is fairly similar, and you can always (i encourage you to do so) check multiplication and division code.</p>

<p>We rarely stop to think about basic operations like integer operations, the longobject file shows use how complex and optimised long/integers implementation is in python.</p>

</div>





      </div></div>]]>
            </description>
            <link>http://ykarroum.com/2021/01/10/intobject/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131703</guid>
            <pubDate>Sun, 14 Feb 2021 12:09:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Automated release process for (Lerna) monorepo]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26131545">thread link</a>) | @kiyanwang
<br/>
February 14, 2021 | https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo | <a href="https://web.archive.org/web/*/https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>The process of publishing (releasing) a new version of software is <em>one of the most important steps</em> in a development lifecycle. In this article, we will take a look at how we can <strong>automate</strong> this in a monorepository managed with <a target="_blank" href="https://lerna.js.org/">lerna</a>.</p><h2>Motivation</h2><p>The most important things in the release process are <em>simplicity</em>, <em>consistency</em>, and <em>clarity</em>. A release process should be <em>straightforward</em>, so everybody on the team can do it <strong>easily by following a clear set of instructions</strong>. During the release process, a lot of things can go wrong - you forget to set a new version, modify the version in any of the <code>package.json</code> files, or even forget to create a new tag or merge hotfixes from the <code>master</code> branch. Therefore, <strong>it's good to clearly define this process and automatize it as much as possible</strong>.</p><h2>Goals</h2><p>The main goal of this article is to <strong>define the release process</strong> for monorepo using Lerna. It consists of the <em>automatic creation of tags, incrementing the version, and changelog generation with the chronological arrangement of changes</em>.</p><h2>Project structure</h2><p>For this project, we will be using a monorepo with two packages/modules: <code>api</code> and <code>frontend</code>. In the root folder, we have packages, root <code>package.json</code>, and Lerna config.</p><pre><code>+-- api
| +-- package.json
| +-- ...
+-- frontend
| +-- package.json
| +-- ...
+-- CHANGELOG.md
+-- lerna.json
+-- package.json
+-- ...</code></pre><p>In this article, we are fixed to monorepo projects managed by <code>lerna</code>. That means that you should be able to use this process with any project using this structure (maybe with some little changes in configs). <strong><em>You can find valuable information in this article even if you are not using this kind of setup</em></strong>.</p><h2>Setup</h2><p>In our release process solution, we are using a <em>combination</em> of <code>GitHub</code>, <code>lerna</code> and <code>lerna-changelog</code>.</p><h3>Lerna</h3><p>Lerna is a library that provides tooling to manage multi-package structure inside a single repository (sometimes called monorepos). Our main usage of <code>lerna</code> is for <em>automatic versioning and tag generation</em>. We are using <code>lerna</code> with the combination of <code>lerna-changelog</code> package which is used to <em>generate a changelog</em> based on the labels attached to PRs merged into the origin.</p><p>In the root of the project run <code>npm i -s -d lerna</code> (we are currently using <code>3.22.1</code>).
Create <code>lerna</code> configuration file (<code>lerna.json</code>).</p><pre><code>{
	"packages": [
		"./*"
	],
	"version": "{{your_current_repository_version}}"
}</code></pre><ul><li>packages - Array of globs to use as package locations (locations of your <strong>not</strong> root <code>package.json</code> files)</li><li>version - the current version of the project (from the root <code>package.json</code>)
More <code>lerna</code> config options can be found <a target="_blank" href="https://github.com/lerna/lerna#lernajson">here</a>.</li></ul><h3>Lerna-changelog</h3><p>In the root of the project run <code>npm i -s -d lerna-changelog</code> (we are currently using <code>1.0.1</code>)
In the root <code>package.json</code> file we need to add config for <code>lerna-changelog</code>. You can map PR labels from Github to more meaningful titles here.</p><pre><code>"changelog": {
	"labels": {
		"Type: Feature": "Features",
		"Type: Bug": "Bug fixes",
		"Type: Enhancement": "Enhancements"
	},
},</code></pre><p>More options can be found in <a target="_blank" href="https://github.com/lerna/lerna-changelog#configuration">lerna-changelog doc</a>.</p><p>For changelog generation, you'll need a <a target="_blank" href="https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token#using-a-token-on-the-command-line">personal access token</a> for the GitHub API with the <code>repo</code> scope for private repositories or just <code>public_repo</code> scope for public repositories.</p><p>You can set the environment variable for the GitHub authentication by running this command:</p><pre><code>export GITHUB_AUTH="&lt;Your Github personal access token&gt;"</code></pre><p>or even better, define this variable in your <code>.bash_profile</code></p><h2>Git workflow</h2><p>To understand this process you have to be familiar with <code>git-flow</code>. In our case, it's based on three main branches:</p><ul><li>develop</li><li>staging</li><li>master</li></ul><p>All <strong>new features or non-critical bug fixes are merged into the develop branch.</strong> When it's time for a new release (typically at the end of the sprint), <strong>all changes from develop are merged into staging branch</strong>, where <strong>we test it</strong> thoroughly if everything is working fine. After that we <strong>merge staging into the master branch</strong>.</p><h2>Release process</h2><p>A new release is introduced by creating a new git tag and bumping versions of packages.
These are done in a semi-automatized way with <a target="_blank" href="https://github.com/lerna/lerna/tree/master/commands/version">lerna</a>.</p><h3>Creating a Release Candidate with changelog</h3><p>Over the time, we figured out these few basic steps to create a release candidate:</p><ol><li>Pull the latest changes from <code>origin</code> to <code>master</code>, <code>staging</code>, <code>develop</code> branches to your local repository</li><li>Checkout into the <code>develop</code> branch and make sure you have all bug fixes from <code>master</code> merged to <code>develop</code></li><li>Run <code>npx lerna-changelog</code> to generate a changelog and append it to the <code>CHANGELOG.md</code></li><li>Commit new <code>CHANGELOG.md</code> on <code>develop</code></li><li>Run <code>npx lerna version</code> and choose the appropriate version number.<ol><li>This will update <code>version</code> properties for all updated packages</li><li>Commit all the changes</li><li>Create a new <code>git tag</code> on the new commit</li></ol></li><li>Push changes to the <code>origin</code></li><li>Merge <code>develop</code> into <code>staging</code> branch</li><li>Push staging to <code>origin</code></li><li>Create a new <em>Pull Request</em> with a base set as <code>master</code> from <code>staging</code> branch</li><li>Copy changes from <code>CHANGELOG.md</code> and attach to the <em>PR</em> body with <code>- [ ]</code> list items to render a <em>TODO</em> list (<code>- [ ]</code> is rendered as a checkbox)</li><li>Let your team know that there is a <em>Release Candidate</em> and wait until they will check every feature / bugfix they've merged</li><li>When all checkboxes (all features / bugfixes) are checked and the <em>PR</em> is approved, <strong>merge</strong> it. <strong><em>Don't squash</em></strong> merge as it might cause conflicts for developed features</li></ol><p>Example of <em>PR</em> from staging to master.
</p><h3>When to release?</h3><p>It's hard to say exactly. There are few points that you should think of:</p><ul><li><strong>Do not release in rush</strong> - you should have enough time to fix any problem during and after release. There is always something unpredictable that can happen. Maybe you have forgotten to set a new environment variable or a migration has crashed.</li><li>You should release when there are as minimum customers as possible using the product - any error can occur and that can have a negative influence on their experience with the product. Impact on the customer experience could be minimized by using strategies like <a target="_blank" href="https://martinfowler.com/bliki/BlueGreenDeployment.html">blue-green deployment</a> or <a target="_blank" href="https://martinfowler.com/bliki/CanaryRelease.html">canary releases</a>.</li><li>You should be <strong>sure of the code you are releasing</strong>.</li></ul><h3>How often to release?</h3><p>The best option is to <strong>release in periodic intervals</strong>, such as one sprint. Periodicity is one of the most important factors. <strong>You don't want to release hundreds of hours of work at once</strong>. It's much easier to release smaller features <em>more often</em>, than one big feature after two months. Last but not least, there is a customer that wants to see some progress on his project as well. <strong>It's not a problem to release more often then you need to</strong>, but before every release, <strong>don't forget to check the points in the "When to release" paragraph!</strong></p><h2>Conclusion</h2><p>In this article we've walked through the release process by <strong>creating a changelog with minimum effort</strong>. We've talked about a workflow and the tools we are currently using, and our method of creating a release candidate. As always, there is a lot of space to improve, e.g. it would be nice to automatize creating PR from <code>staging</code> to <code>master</code> branch with changelog description.</p></div></div></div>]]>
            </description>
            <link>https://sudolabs.io/blog/automated-release-process-for-lerna-monorepo</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131545</guid>
            <pubDate>Sun, 14 Feb 2021 11:43:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I wrote 1000 blogs in 1000 days?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131421">thread link</a>) | @choubeysahab
<br/>
February 14, 2021 | https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/ | <a href="https://web.archive.org/web/*/https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-id="e70c6a9" data-element_type="widget" data-widget_type="theme-post-content.default">
				<div>
			
<p>If you count the days between 23rd May 2018 (when I wrote my 1st blog) and today 14th Feb 2021. You‚Äôll find there are exactly 1000 days including the starting day and today.</p>



<p>I‚Äôve written a blog on all those 1000 days. Not missing even a single day in between. That‚Äôs crazy and unbelievable to myself even. When I started I never thought this would become such a loong writing streak. But here I find myself writing the 1000th blog on the 1000th day of starting to write 1 blog everyday.</p>



<p>Since this is a very special blog for me, I‚Äôll share with you-</p>



<p>‚Äì Why I started writing everyday<br>‚Äì What kept me going<br>‚Äì What impact I created through my blogs<br>‚Äì My 10 biggest learnings from writing everyday</p>



<p>Let‚Äôs start!</p>



<p><strong>Why I started writing everyday?</strong></p>



<p>To impress a girl I was then dating in high-school. You know people do weird things when they want to impress someone. I did this.</p>



<p>I told her I will write everyday, and she‚Äôll be my accountability partner.</p>



<p>I was hoping she‚Äôll get impressed.</p>



<p>Long story short, she wasn‚Äôt much impressed and left after a while. But I kept going with my daily writing habit despite her going.</p>



<p>Real men do that, right?</p>



<p>The streak went bigger everyday. My goal was not to get to 50 blogs or 100 blogs and definitely not to 1000 blogs. My only goal was to push out 1 blog everyday. I just kept going with it.</p>



<p><strong>What kept me going?</strong></p>



<p>Writing everyday isn‚Äôt hard. Writing on the days when you feel like shit is hard. Writing on days you‚Äôre sick is hard. Writing on days when you just want hide in a corner where noone sees you is hard.</p>



<p>What made me write on those days is the streak itself. The bigger the streak gets, the harder it is to break for yourself.</p>



<p>Because if you miss 1 day, you nullify the effort you put in all the days before that. It almost feels criminal to break a healthy and long streak. That‚Äôs what kept me going on those bad days.</p>



<p><strong>What impact did I create through these blogs?</strong></p>



<p>Through these blogs, my goal is to share my thoughts, learnings, observations with the rest of the world.</p>



<p>Besides that this blog has enabled me&nbsp;to&nbsp;stand for global causes.</p>



<p>In June 2019, I wrote a blog- ‚Äú<a href="https://choubeysahab.com/may-sudan-have-your-attention-please/">May Sudan have your attention please</a>!‚Äù to stand against the injustice that was happening in Sudan and be their voice. Their internet was shut down in Sudan and they were relying on the rest of the world to speak for them. Through this blog, I tried to bring global attention to what was happening in Sudan so that help could reach them.</p>



<p>This blog was shared across the globe, in languages I don‚Äôt speak and in countries I‚Äôve never been to.</p>



<p>Here are some screenshots for reference.</p>







<p>Then I <a href="https://choubeysahab.com/heres-why-you-might-be-wrong-about-kashmir/">spoke for Kashmir</a> in August 2019, when their voice was taken away by internet shutdown and they were put in a lockdown (for reference this was much before covid)</p>



<p>This blog in particular took some real guts to put out. As this was happening in my own country. Still I put this out, for my grandfather taught me to always stand for what‚Äôs right and fear none.</p>



<p>It was again widely shared. Below are some screenshots of the blessings I earned from that post. I‚Äôm practically living off of these blessings today.</p>



<figure><ul><li><figure><img loading="lazy" width="657" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k7-657x1024.jpg" alt="" data-id="2639" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k7.jpg" data-link="https://choubeysahab.com/?attachment_id=2639" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k7-657x1024.jpg 657w, https://choubeysahab.com/wp-content/uploads/2021/02/k7-192x300.jpg 192w, https://choubeysahab.com/wp-content/uploads/2021/02/k7-768x1198.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k7.jpg 876w" sizes="(max-width: 657px) 100vw, 657px"></figure></li><li><figure><img loading="lazy" width="692" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k6-692x1024.jpg" alt="" data-id="2640" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k6.jpg" data-link="https://choubeysahab.com/?attachment_id=2640" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k6-692x1024.jpg 692w, https://choubeysahab.com/wp-content/uploads/2021/02/k6-203x300.jpg 203w, https://choubeysahab.com/wp-content/uploads/2021/02/k6-768x1136.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k6.jpg 873w" sizes="(max-width: 692px) 100vw, 692px"></figure></li><li><figure><img loading="lazy" width="849" height="1000" src="https://choubeysahab.com/wp-content/uploads/2021/02/k5.jpg" alt="" data-id="2641" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k5.jpg" data-link="https://choubeysahab.com/?attachment_id=2641" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k5.jpg 849w, https://choubeysahab.com/wp-content/uploads/2021/02/k5-255x300.jpg 255w, https://choubeysahab.com/wp-content/uploads/2021/02/k5-768x905.jpg 768w" sizes="(max-width: 849px) 100vw, 849px"></figure></li><li><figure><img loading="lazy" width="648" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k4-648x1024.jpg" alt="" data-id="2642" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k4.jpg" data-link="https://choubeysahab.com/?attachment_id=2642" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k4-648x1024.jpg 648w, https://choubeysahab.com/wp-content/uploads/2021/02/k4-190x300.jpg 190w, https://choubeysahab.com/wp-content/uploads/2021/02/k4-768x1214.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k4.jpg 826w" sizes="(max-width: 648px) 100vw, 648px"></figure></li><li><figure><img loading="lazy" width="535" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k3-535x1024.jpg" alt="" data-id="2643" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k3.jpg" data-link="https://choubeysahab.com/?attachment_id=2643" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k3-535x1024.jpg 535w, https://choubeysahab.com/wp-content/uploads/2021/02/k3-157x300.jpg 157w, https://choubeysahab.com/wp-content/uploads/2021/02/k3-768x1469.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k3-803x1536.jpg 803w, https://choubeysahab.com/wp-content/uploads/2021/02/k3.jpg 830w" sizes="(max-width: 535px) 100vw, 535px"></figure></li><li><figure><img loading="lazy" width="536" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k2-536x1024.jpg" alt="" data-id="2644" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k2.jpg" data-link="https://choubeysahab.com/?attachment_id=2644" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k2-536x1024.jpg 536w, https://choubeysahab.com/wp-content/uploads/2021/02/k2-157x300.jpg 157w, https://choubeysahab.com/wp-content/uploads/2021/02/k2-768x1468.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k2-804x1536.jpg 804w, https://choubeysahab.com/wp-content/uploads/2021/02/k2.jpg 820w" sizes="(max-width: 536px) 100vw, 536px"></figure></li><li><figure><img loading="lazy" width="570" height="1024" src="https://choubeysahab.com/wp-content/uploads/2021/02/k1-570x1024.jpg" alt="" data-id="2645" data-full-url="https://choubeysahab.com/wp-content/uploads/2021/02/k1.jpg" data-link="https://choubeysahab.com/?attachment_id=2645" srcset="https://choubeysahab.com/wp-content/uploads/2021/02/k1-570x1024.jpg 570w, https://choubeysahab.com/wp-content/uploads/2021/02/k1-167x300.jpg 167w, https://choubeysahab.com/wp-content/uploads/2021/02/k1-768x1380.jpg 768w, https://choubeysahab.com/wp-content/uploads/2021/02/k1-855x1536.jpg 855w, https://choubeysahab.com/wp-content/uploads/2021/02/k1.jpg 856w" sizes="(max-width: 570px) 100vw, 570px"></figure></li></ul></figure>



<p><strong>My 10 biggest learnings from writing everyday.</strong></p>



<p>1. Just get started.</p>



<p>Starting something is the hardest part. Find a stupid reason like I did and start something. You don‚Äôt know what it can turn into.</p>



<p>2. There will always be&nbsp;excuses, the question is if you‚Äôll take them.</p>



<p>On some days I was really not feeling well, on somedays I was out on vacation, on somedays I felt like hiding in a corner where noone catches me.</p>



<p>I showed up on all those days, I‚Äôm proud of myself for that!</p>



<p>3. Don‚Äôt chase perfection.</p>



<p>If I had tried to make each one of my blogs perfect, the streak would not last even 10 days. I kept publishing even if it was not great. Many of my blogs have typos in them.</p>



<p>4. People ARE NOT watching you!</p>



<p>I don‚Äôt know what makes people think they‚Äôre the center of people‚Äôs attention. No, people have busy lives. People don‚Äôt care about you. Just do your thing!</p>



<p>5. Be a player.</p>



<p>There are 2 types of people. Players and commentators. Players don‚Äôt stop playing to listen to the commentators. They just play their game.</p>



<p>6. Sharing is the best networking.</p>



<p>When you start publicly sharing your learnings and thoughts on the internet, it works like a magnet for attracting like minded people. Effortlessly building a high quality network for you.</p>



<p>7. Writing brings clarity of thought.</p>



<p>I can‚Äôt stress this enough. Writing everyday has made me a completely different person. I have extremely clear thoughts, goals and understanding of how the world and people function.</p>



<p>8. You are greater than you think.</p>



<p>I never in my wildest dreams would have thought I could write 1000 blogs in 1000 days. And here we are today.</p>



<p>9. Never give up when you‚Äôre struggling.</p>



<p>There was a time where I was really struggling to keep the blog going. Those were bad days. I still kept going, one should only give up when the cause is lost, else, never.</p>



<p>10. The internet is an insanely big opportunity.</p>



<p>Most people still don‚Äôt understand the power of internet. It can take you places. It can define your career. It can change your entire life. Do something exciting here!</p>



<div><p>So that‚Äôs all I want to share in my 1000th blog. I hope it inspires you in someway to start something. If you want to gift me anything, do share this blog around and <a href="https://choubeysahab.substack.com/">subscribe to my weekly newsletter</a>. That‚Äôll mean the world to me. See you tomorrow, with the 1001th blog üôÇ</p><p>Here‚Äôs the <a href="https://twitter.com/ChoubeySahab/status/1360838747906969603?s=20">twitter thread</a> I wrote about this. Give a RT if you‚Äôre on twitter!</p></div>



<p>-ChoubeySahab</p>
		</div>
				</div></div>]]>
            </description>
            <link>https://choubeysahab.com/how-i-wrote-1000-blogs-in-1000-days/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131421</guid>
            <pubDate>Sun, 14 Feb 2021 11:26:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Billion Mockingbirds: The Role of Journalists in Destroyed Civilization]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131359">thread link</a>) | @yetanothermonk
<br/>
February 14, 2021 | https://macrobullshit.com/archive/billion-mockingbirds/ | <a href="https://web.archive.org/web/*/https://macrobullshit.com/archive/billion-mockingbirds/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Today, we're seeing the erosion of trust in companies, governments, money, and media.</p><p>It's difficult to replace these four core pillars, but it is necessary. Diminishing trust in these institutions makes way for alternatives and new forms of storytelling, conversation, and analysis to accompany transactions, ledgers, and hashes.</p><p>Media is perhaps the most malleable pillar, but it is also the most influential pillar. Historically, edges were drawn between media and the other three pillars: corporations, government, and fiat money depend on reputation and thus media support to shape public opinion, consent, and consensus.</p><p>Journalists, in their vendetta against the new disruptive players to their inherited distribution, catalyzed the move to a post-propaganda media. Through actions sparked by anxious fear of losing relevance, they led us to a post-ideological era by encouraging the construction of counter-narrative competition. They used traditional rhetoric and squandered accrued trust to criticize, mock, and belittle. They are suffering the consequences; individual creators instead are taking on the mantle to create, inform, and improve.</p><p>Twenty years ago, we would grimace and bear the realities of an -opolistic arrangement of "truth"-papers. But in a post-bitcoin, post-blockchain world, we can compile truth from decentralized ledgers, open source software, and peer-to-peer transmission of information by layering compelling narrative onto verified facts.</p><p>With these tools, we can produce a media industry that is entirely different than the centralized, institutionally backed, narrative-tampered one we've endured for the last century. Decentralized technology provides us with an opportunity to level the playing field. As a result, humans are free to participate in media as they please: everyone will be at once both journalists and readers. </p><p>Because the key value proposition of bitcoin is the outsourcing of trust so humans can organize in novel, more efficient, more scalable ways, media itself is bending towards these new laws of bits.</p><p>Post-propaganda media is an ideal state where we act as storytellers for each other, parse truth for our audiences, and feed into a shared understanding of the world we live in. It is a place for writers to tell their story, for readers to participate in it, and for technologists to facilitate the process without being beholden to decaying ideological institutions. This evolving chaotic primordial soup at the intersection of journalism, cryptography, and entrepreneurship is the ideal home for post-propaganda media to take root. </p><p>This new model supports an arbitrary number of perspectives; any reader can promote any story being blocked by a gatekeeper; and the people you "follow" can stake (with reputation and money) support for particular content. </p><p>Like it always has, media must serve the reader; the difference in post-propaganda media is the increased variance of interest and the increased number of sources and pseudo-sources. The internet increases variance of interest by enabling frictionless dives into infinitely deep pools of knowledge. If every reader is a sink, the major sources of the past century have been a few journalists and papers; the major sources of the past century will be different for each person; the pseudo-sources will be fact-checker nodes that verify and "gate" regions of truth. None will be labeled as trusted; instead, each content creator will have earned the trust of their reader. It's a new era.</p><p>If that is the vision of the post-propaganda future, what does a journalist have to do with it--especially with destroying civilization?</p><p>Civilization moves towards valleys of truth. The algorithms that have controlled this gradient descent have built themselves upon the assumption global truths. The algorithms that will control this search problem in the cryptographic future are built instead on locality and fractal truths in a complex web of narratives.</p><p>That which emerges will have earned it through merit instead of inherited it through legacy distribution. Because the valleys of truth are being destroyed--or, more accurately, proliferating in number--and journalists, trapped in spirals of constraining culture and confusion, only serve to quicken the proliferation, they are simultaneously destroying themselves/the institutions they love but also our very conception of civilization. "Dank memes" are the current best example: though memes seem silly, they are quite serious as the lightning-quick reproductions of intersubjective understanding for vast swaths of the population (precisely the swaths that want memes to be part of their group truth and identity).</p><p>Journalism and civilization itself are at an inflection point between confusion and explosion. The consistent thing between both sides at time <em>t</em> is the silent absence of the current holders of power: the precise greatest fear of the media is to not be talked about, and that day is coming.</p><p>Yesterday, we put up with them. Today, we fight them.</p><p>Tomorrow, we forget they even exist.</p>

    

    <div>
      <h2>Subscribe to Macrobullshit</h2>
      <p>Subscribe to the newsletter and unlock access to member-only content.</p>
      

    </div>

  </div></div>]]>
            </description>
            <link>https://macrobullshit.com/archive/billion-mockingbirds/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131359</guid>
            <pubDate>Sun, 14 Feb 2021 11:14:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Honor the Material]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131357">thread link</a>) | @burntcaramel
<br/>
February 14, 2021 | https://www.andy.works/words/honor-the-material | <a href="https://web.archive.org/web/*/https://www.andy.works/words/honor-the-material">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><div><div><p>It's Fall, which means we get to see all of the phone makers announce their latest models promising to be the "best phones we've ever built". While the yearly ritual has become routine to the point where the media reviews are almost written in advance, it's easy to lose sight of the bigger picture of just how far these devices have advanced over the past 13 years.</p><p>Consider the technical differences between the new iPhone 12 and the original iPhone from 2007: screen resolution has increased <strong>23X</strong>, CPU performance by <strong>350X</strong>, and graphics performance by a whopping <strong>700X</strong>! Even by tech industry standards, these numbers are staggering.</p><p>Imagine for a moment that you're at the original iPhone announcement in 2007 and you bump into a time traveler from 2020 who tells you how mobile hardware advancements would surpass Moore's law over the coming 13 years and that we'd all be running high-end gaming computers in our pockets. You could only imagine the mind-blowing software experiences that would surely be unlocked by that immense power.</p><p>Well, this is where you'd be a bit underwhelmed‚Ä¶</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efacf9cb4095d820ecc95_13-years.png" loading="lazy" alt=""></p></figure><h4>I </h4><h3>Apps have fallen behind</h3><p>Despite the exponential leaps in hardware capabilities, many of the apps that we rely on every day aren't much different from what they were 13 years ago.</p><p>Pick your own favorite app. Has it seen exponential transformation or minor iteration? Likely the latter. Even the most innovative apps rely on the same foundations that were laid 13 years ago. Fundamentally, our approach to software design hasn't evolved so much as been optimized. And while, we have a few fancy new tools like augmented reality and machine learning, the reality is that much of our everyday experiences are still shaped by the same essential apps like Weather, Calculators, Alarms, and Timers that we have to interface with daily. It's these that have seemingly been left behind.</p><h3>We are holding phones from the future, running software designed a decade ago.</h3><p>Perhaps these everyday apps haven't changed much because they're "classic" designs? The problem is that you don't have to dig deep to find that most have ample room for improvement. The Calculator app is the most error-prone calculator I've ever used regularly hitting wrong numbers and never knowing it because of its insistence on sticking to its analog metaphor, shortcomings and all. The Alarm app is just broken. If you're like me and the 40 other people I've asked, you probably have a long list of 30+ alarms set for every time you've ever woken up: 8:00, 8:10, 8:15, 8:18, 8:22, 8:50‚Ä¶ It points to a fundamental flaw in the model that makes it easier to add a new alarm time than edit an existing one. It's bad enough that I use it as a redesign exercise for my Intro to Interaction Design students.</p><p>The issues extend further to the visual design of these apps which often still hold the stamp of their origins on a small 3:2 phone. Look no further than the awkward empty space on the Calculator and Timer. These are signs that, despite this being the default software used by billions, it's just not a big priority.</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efafd45546d7414ef43cb_apps.png" loading="lazy" alt=""></p></figure><p>If you've worked on large software products, this of course, comes as no shock. You know that the moment you release a product, you incur a sort of debt, and the longer your product continues, the greater that debt grows and the riskier it becomes to fundamentally shift that product in a new direction (ex: <a href="https://www.theverge.com/2018/8/7/17661878/snapchat-earnings-q2-2018-results-redesign">Snapchat</a>). Plus, let's be honest, no one is buying a phone primarily for the default apps in this day and age. All of this means, there's little incentive for a company to rock the boat with its default software used by billions. Besides, these apps come pre-installed. It's not as if they have to compete alongside others in the App Store on their merits.</p><p>They've had over a decade to fix them and haven't. Do what others can't.</p><h4>II</h4><h3>Honor the material</h3><p>In my last article <a href="https://www.andy.works/words/building-a-belief-system"><em>Building a Belief System</em></a>, I shared a bit about my obsession with woodworking. Wood is a wonderfully versatile material. You can build almost <em>anything</em> out of wood and some woodworkers try. But you shouldn't. Wood is great for some things (big, flat surfaces like a tabletop) and poor at others (weight-bearing structures like legs). Steel, however, <em>is</em> great for structure due to its strength, but it would make a poor tabletop. This is to say something plainly obvious‚Äîevery material is good at something and poor at something else.</p><p>Designers Charles and Ray Eames were masters with materials. More than any other mid-century furniture designers, they knew the strengths of their materials. In 1950, they designed a <a href="https://store.hermanmiller.com/living/chairs/eames-molded-plastic-rocker-rar/850.html">molded plastic armchair</a> that showcases this. It consists of a fibreglass-reinforced plastic seat that is both easily-molded and flexes for comfort, a metal base truss structure for carrying weight and offering rigidity while staying light, and hardwood rockers for a solid yet forgiving material that won't damage your floors. Three different materials, each playing to its own strength, and yet all brought together beautifully in form and purpose.</p><figure><p><img src="https://assets.website-files.com/5f52cb73016fed9a30bb4d95/5f9efb1c102f97a385f9f6fa_eames-plastic-armchair-rar-1.jpg" loading="lazy" alt=""></p></figure><p>To honor a material is to celebrate its unique properties and utilize its strengths. It's using a material to its full potential because it would be wasteful not to.</p><h4>III</h4><h3>Craft</h3><p>We're taught that technology shouldn't drive solutions, but that solutions should be driven by needs. And that is true. But as I've matured as a Designer, I've come to realize that it's not the full truth.</p><p>In software, anything seems possible. As Product Designers, we'd like to believe that we can imagine any form and build it. But software, like wood, has grain. Some things are easy to do and others are difficult. Move with the grain, and you can unlock amazing experiences. Cut against the grain, and you will struggle with even the most basic tasks. It's common for young designers to propose designs that are either impossible or too costly to build. It's okay‚Äîyou're learning the grain.</p><p>Craft is truly knowing your materials‚Äîtheir strengths and weaknesses. Great Design knows how to honor those materials by marrying real needs with what a platform and device can deliver.</p><h3>This is on us</h3><p><a href="https://www.andy.works/words/no-more-boring-apps">Our apps are boring</a>. We carry around incredible graphics machines that can churn through a multi-player 3D game at 60fps with cycles to spare, and we're using them to render flat rectangles. It's not that everything we do has to always push the capabilities to the max, but we need to recognize that modern day mobile devices are fundamentally different from those a decade ago. It's a new "material," and it's on us to develop new approaches that better honor this material by utilizing its full capabilities to solve real needs and unlock new software experiences.</p><p>If you're working on a product that's struggling to evolve, there's a question you can ask yourself: If you could throw everything out‚Äîscrap all the legacy, the systems, the patterns‚Äîand start over today, what would it look like? How would you honor the material?</p><p>‚Äç</p></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.andy.works/words/honor-the-material</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131357</guid>
            <pubDate>Sun, 14 Feb 2021 11:14:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: TestHub ‚Äì aggregate and track tests and coverage across projects]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131336">thread link</a>) | @orsol
<br/>
February 14, 2021 | https://test-hub.io/testhub-io-examples | <a href="https://web.archive.org/web/*/https://test-hub.io/testhub-io-examples">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://test-hub.io/testhub-io-examples</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131336</guid>
            <pubDate>Sun, 14 Feb 2021 11:10:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chess AI]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26131183">thread link</a>) | @hggh
<br/>
February 14, 2021 | https://sebastian.itch.io/chess-ai | <a href="https://web.archive.org/web/*/https://sebastian.itch.io/chess-ai">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-post="{&quot;user_id&quot;:1709476,&quot;id&quot;:2606576}" id="post-2606576"><div><a href="https://itch.io/profile/pixelplant"></a><div><div><p>It took me an hour to beat the AI. The AI is difficult imo.&nbsp;</p><p>10/10, would play again.</p>
<p>1. e4 d6&nbsp;2. d4 Nf6 3. Nc3 g6 4. Be3 Nbd7 5. Qd2 e5 6. f3 exd4 7. Bxd4 Be7 8. Qh6 c5 9. Bf2 Qb6 10. Rb1 Bf8 11. Qd2 Bg7 12. Nb5 Bf8 13. Rd1 a6 14. Nxd6+ Bxd6 15. Qxd6 Qxb2 16. Bh4 Qc3+ 17. Rd2 Ng8 18. Ne2 Qa1+ 19. Rd1 Qb2 20. c3 g5 21. Bxg5 f6 22. Qe6+ Kf8 23. Bf4 Qb5 24. Bd6+ Kg7 25. Nf4 Qc6 26. Nh5+ Kg6 27. Qe8+ Kg5 28. Bf4+ Kh4 29. g3#&nbsp;<span></span><span></span></p></div></div></div></div><div data-post="{&quot;user_id&quot;:3932109,&quot;id&quot;:2602619}" id="post-2602619"><div><a href="https://itch.io/profile/ankitminz"></a><div><p>I lost every game lol. Pretty strong AI for beginners.</p></div></div></div><div data-post="{&quot;user_id&quot;:3228104,&quot;id&quot;:2601967}" id="post-2601967"><div><a href="https://itch.io/profile/nivmizzer"></a><div><p>Very impressive, cool to see someone use Unity to make the classic chess AI problem!</p></div></div></div></div>]]>
            </description>
            <link>https://sebastian.itch.io/chess-ai</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131183</guid>
            <pubDate>Sun, 14 Feb 2021 10:42:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The complexity that lives in the GUI]]>
            </title>
            <description>
<![CDATA[
Score 356 | Comments 207 (<a href="https://news.ycombinator.com/item?id=26131178">thread link</a>) | @yes_but_no
<br/>
February 14, 2021 | https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The user interfaces are a weird thing. There are all sorts of libraries and frameworks that
are supposed to help you on your journey of writing a GUI, but despite all the best practices and
frameworks forcing you to eat your vegetables, the GUI always ends up being a ridiculous mess.
After pondering some more about this topic, I‚Äôve finally realized what is the cause of this problem.</p><p>Suppose you start working on a greenfield project for managing a warehouse (gasp).
This GUI has everything that a warehouse owner desires, including the irrelevant oversized
side bar on the left that scores upvotes on the design related social networks.
The user avatar with the details of logged
in user are on the left, inventory table is in the middle and all kinds of buttons are everywhere else.</p><p>If I asked you to architect such application from the given user interface concept,
you would probably start to mentally compose parts of the GUI into boxes with labels such as:
UserSection, InventoryTable, BottomActionButtons and so on.
These days such labeled boxes are commonly put into separate classes. Classes are a great building
blocks for the GUI, because they let you divide the complexity into smaller parts each containing
just the internal state of one little component.
When you are programming an inventory table in the middle you don‚Äôt want to care about the complexity
surrounding the user avatar section. In other words, if you are organizing the stuff in box A
you don‚Äôt care about the mess that resides in box B.</p><p>For a while this strategy of ‚Äúmess in other boxes is not my problem‚Äù works, but soon enough you hit the next
challenge. Suppose the user section of the warehouse GUI has a little light called ‚ÄúWorking‚Äù.
If the user is editing the inventory table that light should be displayed in green and when the user
stops editing, the light should be turned back to gray.</p><p>Oops, the ‚Äúmess in other boxes‚Äù is your problem now as you have to connect the editing state
of the inventory table with the state of the light in the user avatar section.
You find yourself at the crossroads of important design decisions.</p><ul><li><p><strong>Connect the boxes</strong>: create the user avatar component and pass its instance to the inventory
table component. Whenever the edit state of the inventory table changes, the business logic in
the inventory table should also trigger a state change in the user avatar component with the help
of the user avatar‚Äôs public API.</p></li><li><p><strong>Lift the state up</strong>: move the internal state of the user avatar component
and the state of the inventory table into a separate box/class. The logic of the user avatar
and inventory table component will still be neatly separated in their own boxes,
but they will be able to communicate without inventory table needing the direct access to the user avatar.</p></li><li><p><strong>Introduce a message bus</strong>: connect the inventory table and the user avatar component to the shared
pipe that is used for distributing events in the application. The user avatar component subscribes to
the message bus and every time it receives a table edit event,
it executes an appropriate action (e.g turn the light on).</p></li></ul><p>It goes without saying, that none of the presented options are without problems.</p><h3 id="connect-the-boxes">Connect the boxes</h3><p>If you‚Äôve decided to chicken out of introducing another layer for holding the common state, you may
solve this cross box communication problem by injecting the user avatar component directly into the
inventory table component. The programming theorists and other purists will tell you that this is a bad idea
and you should never even think about it. Think about the <del>children</del>, err,
all the tests that you won‚Äôt be able to write.</p><p>I am definitely guilty of such crime against the Holy Church of Unit Testers. When the project is
still in its infancy and I have yet to figure out what am I even building, I like to jam the
components together without giving it much thought. Sometimes you cut the corners, and sometimes
the corners cut you. How bad could it really be?</p><p>It turns out, for small components this strategy works quite well. As usual, it‚Äôs often the wrong thing
to do when your project grows large and contains hundreds of such inter class communication paths.
Not to mention how injecting hundreds of components is tedious, error prone and ugly to look at.</p><p>In hard times like these, the developers like to reach out for one of the fancy pants
dependency injection frameworks, which supposedly allow you to clean up the
component injection mess. In reality they trade compile time safety for some
convenience and runtime crashes [1]. Now, you have two problems:</p><ol><li>You are still injecting hundreds of components.</li><li>The dependency injection framework randomly breaks and nobody knows why.</li></ol><p>The main reason why I prefer not to use dependency injection frameworks in large projects
is because they tend to make the whole project more convoluted and harder to understand.
It‚Äôs very easy to add just another component injection and not put any effort towards
refactoring the code. This leads to the proliferation of small classes or services,
because the injection framework allows you to do with no upfront investment. You pay for this
crime later on once you have hundreds of injections all over the place and nobody is able to follow
and debug this mesh of small components
(see also <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">On navigating a large codebase</a>).</p><h3 id="lift-the-state-up">Lift the state up</h3><p>A preferred way, where preferred means some kind of handwavy generalization of what
the majority of developers might do, of handling this accidental complexity is by
lifting the state up and storing the state of your component into another box that is
usually called the model. Model View Controller (MVC) gang rejoice.
This pattern allows you to separate the presentation of your data (view) from
the actual data (model), with the use of controller that connects the two together [2].</p><p>Instead of injecting hundreds of components into a god like component that controls all
its children, you put the shared state of the relevant GUI components into a god like model
that controls the state of all those children.
The end result is similar, but separating the data from the view layer might earn you some
positive reviews at the end of the year from the unit test groupies.
Even though you improved the situation a little bit, you still have a huge model that is full of
weird edge cases. The GUIs are inherently a giant state machines and they often get
into a weird state that is only discovered when you are actually running the GUI.</p><p>Maintaining a large and messy model is hard, so you decide to saw the model into smaller models
that group the state of components which conceptually fit together. At some point during this
‚Äúsaw the model‚Äù process you realize that certain things between the two different models should be kept
in sync. The more modern GUI frameworks usually arm you with some kind of data binding abstraction,
which allows to easily propagate data changes from one model to another via the so called one way,
two way data binding.</p><p>Soon enough, you realize that it would be really useful if you could attach a change listener
that would trigger and perform an action on every change of the state object.
Say we would like to change the background color of the user avatar component
every time the working light turns on. The code describing this situation might look something like:</p><div><pre><code data-lang="java"><span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>bind</span><span>(</span><span>this</span><span>.</span><span>editingInventoryTable</span><span>);</span>

<span>this</span><span>.</span><span>lightTurnedOn</span><span>.</span><span>addListener</span><span>((</span><span>oldState</span><span>,</span> <span>lightTurnedOn</span><span>)</span> <span>-&gt;</span> <span>{</span>
    <span>if</span> <span>(</span><span>lightTurnedOn</span><span>)</span> <span>{</span>
        <span>changeBackgroundToRed</span><span>();</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>changeBackgroundToIbmGray</span><span>();</span>
    <span>}</span>
<span>});</span></code></pre></div><p>This is usually the point at which you start losing control of your GUI. Clicking on buttons will start
triggering events which will modify the state in the model that will in turn start triggering event
listeners causing your GUI to flash like a christmas tree. The problem of data bindings and
change listeners is that they make it really easy to introduce a hidden circular event listeners
that will trigger one another multiple times (event A changes state B and change of state B triggers event A).
Such problems are rarely discovered during development, because developers are normally
using powerful machines in comparison to the mortals that are still sticking to their ancient computers.
These problems are also rarely discovered through code reviews, as the state changes are well
hidden within one of those one line state bindings.</p><p>I still don‚Äôt know what the proper solution to this problem would be.
Keep your state manipulations as simple as possible and try not to share any
data between different models. Every time I went forward with some fancy
listener-binding mechanisms, I‚Äôve ended up causing subtle circular listener recalculations
that were extremely hard to debug.</p><h3 id="message-bus">Message bus</h3><p>Congratulations, a large amount of your effort will go towards resolving weird message bus problems
as opposed to writing the business logic of your app. In the beginning, the message bus usually sounds
like a good idea because it simplifies a lot of communication problems between the different UI components.
You can send some events through the pipe and sure enough other parts of your application will react
to them.</p><p>You might be thinking: ‚ÄúMessage bus for communicating between components in the GUI? That‚Äôs crazy!‚Äù
Well, it turns out you can have a message bus that is not a huge ram gobbling process. In fact you are probably
already using it, as the GUI frameworks usually have some sort of an event queue built in that is used
for propagating the events in the system.</p><p>As your application grows you might realize that just spamming messages back and forth causes a lot of
performance problems. In case you have hundreds of components that are generating events, your little
user avatar component might be sifting through hundreds of messages per second while it is
only interested in one. Have no fear, message bus got your back. Any message bus worth their salt
allows you to define different channels that introduce rough message type ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/">https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/the-complexity-that-lives-in-the-gui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131178</guid>
            <pubDate>Sun, 14 Feb 2021 10:41:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learn Functional Programming Visually]]>
            </title>
            <description>
<![CDATA[
Score 347 | Comments 60 (<a href="https://news.ycombinator.com/item?id=26131075">thread link</a>) | @polyrand
<br/>
February 14, 2021 | https://david-peter.de/cube-composer/ | <a href="https://web.archive.org/web/*/https://david-peter.de/cube-composer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container">
            <p><img src="https://david-peter.de/cube-composer/img/cube-composer.svg" width="200" height="35" alt="cube composer"></p>
            <div id="panel">
                <p><b>Choose level:</b><br>
                
                <b>Goal:</b></p>
                
            </div>
            <div id="message">
                <p><span id="solved">Solved ‚úì</span></p><div><a id="nextlevel"><u>N</u>ext level</a></div>
            </div>
            <canvas id="canvas" width="1600" height="860"></canvas>
            <div id="controls">
                <div>
                    <ul id="available"></ul>
                </div>
                <div>
                    <ul id="program"></ul>
                    <div>
                        <a id="reset"><u>R</u>eset</a>
                    </div>
                </div>
            </div>
            <p>
                A game by <a href="https://david-peter.de/">David Peter</a>. Source code on <a href="https://github.com/sharkdp/cube-composer">GitHub</a>.<br>
                
            </p>
        </div></div>]]>
            </description>
            <link>https://david-peter.de/cube-composer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131075</guid>
            <pubDate>Sun, 14 Feb 2021 10:25:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Declare bankruptcy and don‚Äôt be ashamed of it]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26131011">thread link</a>) | @ZephyrBlu
<br/>
February 14, 2021 | https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/ | <a href="https://web.archive.org/web/*/https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	<div id="content">

	<div id="primary">
		<main id="main">

		

<article id="post-1461">
	<!-- .entry-header -->

	<div>
		
<p>I‚Äôm not talking about financial bankruptcy. I‚Äôm talking about all the other kinds of bankruptcy:</p>



<ul><li>Email bankruptcy (anything important will come back up)</li><li>Backlog bankruptcy (because <a href="https://critter.blog/2020/09/03/backlogs-are-not-idea-buckets/">Backlogs are not idea&nbsp;buckets</a>)</li><li>Books-to-read list bankruptcy (if your TBR list is 100+ books long, it‚Äôs not doing you any good)</li><li>Slack inbox bankruptcy (i.e., the first-day-back-from-vacation feeling)</li><li>Wiki bankruptcy (<a href="https://critter.blog/2020/08/10/wiki-bankruptcy/">I wrote about this one before</a>)</li><li>Social networking notification bankruptcy (this shouldn‚Äôt even be a question)</li><li>Browser tab bankruptcy (you can find stuff again when you to, but you won‚Äôt)</li><li>Garage/attic bankruptcy (don‚Äôt try to go through it, pay someone to haul it all away)</li></ul>



<p>If you feel like declaring bankruptcy is a failure, stop that. It‚Äôs not a failure. It‚Äôs a fresh start. It‚Äôs a powerful tool and we should take advantage of it. It‚Äôs a weight lifted. </p>



<p>If your washing machine breaks, you can spend hours and hours learning how to fix the stupid thing, or you can toss it and buy a new one. Buying a new one is nothing to be ashamed of. It‚Äôs practical. You‚Äôre declaring dryer bankruptcy (I know the metaphor is a stretch, shut up).</p>



<p>Sure, if you declare bankruptcy on the same thing over and over, then you should examine your patterns about that thing. Bankruptcy is a voice that says ‚Äúwhat can you do to make it unnecessary to do this again?‚Äù </p>



<p>Try it. Declare bankruptcy and <a href="https://twitter.com/mcrittenden">come tell me</a> if you don‚Äôt feel ten times better afterwards.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->
</article><!-- #post-1461 -->
			<!-- .post-nav-wrapper -->
		
		</main><!-- #main -->
	</div><!-- #primary -->


<!-- #secondary -->

	</div><!-- #content -->

	
	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://critter.blog/2020/09/24/declare-bankruptcy-and-dont-be-ashamed-of-it/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26131011</guid>
            <pubDate>Sun, 14 Feb 2021 10:05:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Just Breathe ‚Äì Conscious Breathing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130986">thread link</a>) | @scotthtaylor
<br/>
February 14, 2021 | https://st.im/just-breathe/ | <a href="https://web.archive.org/web/*/https://st.im/just-breathe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
          <!--kg-card-begin: html-->  <!--kg-card-end: html--><p>Momentum. Anyone who has raised investment will tell you it's one of the most important elements of a fundraising journey. Once you get momentum, everything starts to come together. Investors have a sixth-sense for confidence, a helpful byproduct of momentum. They start getting FOMO. And the dynamic where they once held the power, changes. They now shuffle to sign term sheets, ask less questions, and move faster. They know the round will soon be complete, with or without them.</p><p>A few years ago I raised funding for my startup. At the start of the round, I was about to go into a meeting that, if successful, would give it momentum. I was nervous. I didn't want to choke. There were thirty employees who were counting on me. And a mission and vision that was important.</p><p>I'd lost count of how many boardrooms I'd seen over the past few days, but the important thing was, I felt good. Good enough to acknowledge the aromatic concoction of freshly ground coffee, expensive wood and leather ‚Äî something that had become the norm.</p><p>It was just me and my co-founder, the investor was running late.</p><p>"Great, more time to settle in, and get comfortable", I thought.</p><p>Powering on my laptop, connecting to my phone's hotspot, and opening Google Slides. A well practiced routine by now, almost automatic.</p><p>But this time something happened. Something terrible.</p><p>Maybe it was the coffee that morning. Or the lack of sleep. Or perhaps the subconscious acknowledgement of the mounting pile of day-to-day work that had taken a hit during the fundraise.</p><p>Whatever it was, I felt this wave consume me. Originating from centre of my stomach extending out to the very tips of fingers. It felt like electricity running through my veins. Palms sweaty, mind consumed.</p><p>"There's no way I can give the pitch like this."</p><p>Pulse elevated. Breathing shallow.</p><p>"Heart attack? Surely not?"<br>"Panic attack? More likely."</p><p>I'd experienced one before. This time it had reared its ugly head at the most inconvenient time. Unlike the meetings that had come before, ones that had put us on a path to <em>momentum</em>. There were now a few ways the next hour could pan out. With most of them not being great. I had to act quickly to have any sway over which it would be.</p><p>I could let my mind continue to race, try to power through, and give a sub-par presentation, all whilst visibly looking like I was in distress. This would risk the potential for investment. Alternatively, my co-founder could lead. But it would be strange for the CEO to not speak. Again, risking investment. Or I could try and get a handle on the panic attack. Easier said than done, as I'm sure anyone would who has ever experienced one, would agree.</p><p>"In for four" I told myself mentally, "Hold, two, three, four. And out: two, three, four".</p><p>Again.</p><p>"In for four," making sure to breathe deep from within, inhaling through my nose, "hold. Two, three, four.", "And out, two, three, four".</p><p>Sounds simple, even pathetic. But it's really not.</p><p>It had taken me years up until that point to realise the importance of the breath.</p><p>During a panic attack you will start breathing deeply, over-breathing or hyperventilating. This will cause you to accumulate extra air in your chest and diaphragm area that you don‚Äôt need. This is the reason you feel suffocated while you‚Äôre having a panic attack.</p><p>Eventually, this will cause pain because your chest is expanding beyond its limits and pushing on your rib cage.</p><p>During the fight or flight response, the body shuts off the digestive system because we don‚Äôt need it at that moment. This is why our appetite is reduced when we are anxious. The longer the food stays in the stomach the more acid will back up in your oesophagus. This can cause chest pain and a painful throat.</p><p>About 60% of panic attacks are accompanied by hyperventilation and many people suffering from anxiety over-breathe even when they think they are relaxed. The most important thing to understand about hyperventilation or over-breathing is that although we can feel as if we haven‚Äôt enough oxygen in our body, when the opposite is true.</p><p>Healthy breathing is when there is a steady balance between breathing in oxygen and breathing out carbon dioxide. You upset this balance when you hyperventilate by exhaling more than you inhale.</p><p>Everyone tends to think that breathing comes naturally and that there can‚Äôt be a wrong way of doing it.</p><p>Unfortunately, that‚Äôs not true.</p><p>There is a right way and a wrong way and it is essential that correct breathing is learned, understood and established.</p><p>An anxious body is not a relaxed body, which is why learning how to relax your body in any situation is a must. Understanding this was my 'get out of jail free' card. It's how I could start to take back control. It allowed me to stop the spiral.</p><p>At that moment the investor walked through the door. Crisis averted. This is just one example of the power of breathing, throughout my life I've come to understand and respect it more and more.</p><p>And I think you could benefit from it.</p><h3 id="understanding-breathing-is-the-key-to-self-mastery">Understanding breathing is the key to self mastery</h3><p>There is nothing more essential to our health and wellbeing than breathing. We breathe 25,000 times a day, and every breath has an impact on our anxiety levels, blood pressure, and heart rate.</p><p>There are exercises and approaches that you can use in times of need, like my example above. There are also times when breath can be used proactively, like that upon which meditation is focused. Finally there is simply the ability to breathe correctly. Something that most people have lost the ability to do. And this could severely impact both their physical and mental health.</p><h3 id="breathe-through-your-nose-not-your-mouth">Breathe through your nose, not your mouth</h3><p>I would recommend reading James Nestor's "<em>Breath - The New Science of a Lost Art</em>". It's fascinating, making you want to finish it in a few sittings.</p><p>In it he explains that nearly half of all people are chronic mouth breathers and are chronically stressed and exhausted as a result.</p><p>Breathing through your nose can lower blood pressure, help maintain a steady heart rate, and even help with memory consolidation. In contrast, mouth breathing is the single biggest predictor of teeth cavities.</p><p>Mouthbreathing also causes the body to lose 40% more water. If you sleep with your mouth open because you have sleep apnea, or a blocked nose, you'll notice yourself waking up at night constantly parched and dry.</p><p>There was a report from the Mayo Clinic which found that Chronic insomnia, long assumed to be a psychological problem, is often a breathing problem. The millions of people who have chronic insomnia disorder and who are, right now, staring out bedroom windows, or at TVs, phones, or ceilings, can't sleep because they can't breathe.</p><p>Mouthbreathing makes you dumber. A recent Japanese study showed that rats who had their nostrils obstructed and were forced to breathe through their mouths developed fewer brain cells and took twice as long to make their way through a maze than nasal-breathing controls.</p><p>Another Japanese study in humans from 2013 found that mouthbreahing delivered a disturbance of oxygen to the prefrontal cortex, the area of the brain associated with ADHD. Nasal breathing had no such effects.</p><p>The ancient Chinese were onto it as well. "The breath inhaled through the mouth is called 'Ni Ch'i, adverse breath,' which is extremely harmful," states a passage from the Tao. "Be careful not to have the breath inhaled through the mouth."</p><p>Inhaling through your nose can trigger different body hormones than if you breathe using your mouth.</p><h3 id="anxiety-and-shallow-breathing-are-interlinked">Anxiety and shallow breathing are interlinked</h3><p>People with panic or obsessive-compulsive disorders constantly have low carbon dioxide levels and a much greater fear of holding their breath. To avoid another attack, they breathe far too much and eventually become hyper-sensitised to carbon dioxide and panic if they sense a rise in this gas. They are anxious because they‚Äôre over-breathing. Over-breathing because they‚Äôre anxious.</p><h3 id="symmetrical-inhales-and-exhales-produces-maximum-benefit">Symmetrical inhales and exhales produces maximum benefit</h3><p>The optimum amount of air we should take in at rest per minute is 5.5 litres. The optimum breathing rate is about 5.5 breaths per minute. That‚Äôs 5.5-second inhales and 5.5-second exhales. This is the perfect breath.</p><h3 id="exhaling-slowly-can-help-you-relax">Exhaling slowly can help you relax</h3><blockquote>‚ÄúBut what was even more stunning was what breathing like this did to the subjects. Whenever they followed this slow breathing pattern, blood flow to the brain increased and the systems in the body entered a state of coherence, when the functions of heart, circulation, and nervous system are coordinated to peak efficiency. The moment the subjects returned to spontaneous breathing or talking, their hearts would beat a little more erratically, and the integration of these systems would slowly fall apart. A few more slow and relaxed breaths, and it would return again.‚Äù</blockquote><p>If you measure your heart when inhaling, you will find your heart speeds up. Then, as you exhale, your heart rate will slow down. Exhaling is a parasympathetic response that is essential for conserving energy. Parasympathetic responses slow down the body‚Äôs automatic response systems. As you inhale, your diaphragm lowers and pulls blood into the thoracic cavity. As you exhale, the blood flows back through the body and calms your mental state. As I mentioned before we tend to breathe quickly when we are anxious or stressed. When we breathe quickly, our lungs are only absorbing approximately one-quarter of the oxygen from our breaths. Then, the rest of the oxygen (and carbon dioxide) is exhaled.</p><h3 id="breathe-less-to-live-longer">Breathe less to live longer</h3><p>The longest living animals have the lowest heart rates. Crucially, this low heart rate is associated with a lower respiration rate. Hence, the animals that breathe the least are living the longest. All across the animal kingdom, breathing and life span are in proportion. Elephants are some of the longest living animals and they only take four to five breaths per minute. Similarly, alligators only take one breath per minute. In comparison, dogs, cats, and mice take many more ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://st.im/just-breathe/">https://st.im/just-breathe/</a></em></p>]]>
            </description>
            <link>https://st.im/just-breathe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130986</guid>
            <pubDate>Sun, 14 Feb 2021 10:00:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Running Nomad for Home Server]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130946">thread link</a>) | @mr-karan
<br/>
February 14, 2021 | https://mrkaran.dev/posts/home-server-nomad/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/home-server-nomad/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>It's been a long time since I've written a post on Hydra (my home server). I use Hydra as a testbed to learn new tools, workflows and it just gives me joy to self-host applications while learning something in return.</p>
<h2 id="history">History</h2>
<p>A brief history of how <a href="https://github.com/mr-karan/hydra">Hydra's</a> setup evolved over time:</p>
<p><a href="https://mrkaran.dev/posts/home-server-setup/">2019</a>: </p>
<ul>
<li>A pretty minimal K3s setup deployed on 2 RPi4 nodes. I couldn't continue with this setup because:
<ul>
<li>Some of the apps didn't have ARM-based image (this was 2019, pre M1 hype era).</li>
<li>Didn't want to risk deploying persistent workloads on RPi.</li>
<li>A lot of tooling to deploy workloads was missing (storing env variables for eg.).</li>
<li>It was so boring to write YAML (that I also did at work). Didn't give me joy.</li>
</ul>
</li>
</ul>
<p><a href="https://mrkaran.dev/posts/home-server-updates/">2020 First Half</a>:</p>
<ul>
<li>RPi 2x Nodes + K3s + DO Droplet. Tailscale for networking.
<ul>
<li>This was a considerable step up from the previous setup. I deployed a DO node and added <a href="https://kubernetes.io/docs/tasks/configure-pod-container/assign-pods-nodes/">Node Labels</a> to deploy persistent workloads on DO Node only.</li>
<li>I used my own tooling <a href="https://github.com/mr-karan/kubekutr/">Kubekutr</a> + Kustomize which helped with version control of my configs.</li>
<li>Took quite a bit of time to onboard new services. Got lazy, didn't host much apart from initial 3-4 applications.</li>
<li>Writing long YAMLs. No joy.</li>
</ul>
</li>
</ul>
<p>2020 Second Half:</p>
<ul>
<li>Single node on DO. Terraform for deploying Docker containers.
<ul>
<li>I believe the third iteration nailed it for me. I kept the setup super simple, used Terraform for deploying workloads as Docker containers.</li>
<li>Used Terraform extensively for setting up the node, Cloudflare records, DO firewall rules.</li>
<li>Time to onboard new services reduced from a couple of hours to a few minutes. This was a huge win for me. I deployed around 10-15 new services to try it out on the server directly.</li>
<li>Writing HCL is actually a much better experience than YAML.</li>
</ul>
</li>
</ul>
<h2 id="why-nomad">Why Nomad</h2>
<p><img src="https://mrkaran.dev/images/nomad-hydra.png" alt="image"></p>
<p>Around a month back, <a href="https://nadh.in/">Kailash</a> had asked about feedback on <a href="https://www.nomadproject.io/">Nomad</a>. We at <a href="https://zerodha.com/">Zerodha</a> (India's largest stock broker) are evaluating it to migrate our services to Nomad from Kubernetes (more on this later). It was almost 2 years since I last saw Nomad so it was definitely worth re-evaluating (esp since it hit 1.0 recently). I wanted to try out Nomad to answer a personal curiosity: <em>What does it do differently than Kubernetes?</em> No better way than actually getting hands dirty, right?!</p>
<p>After following the brief tutorials from the <a href="https://learn.hashicorp.com/nomad">official website</a> I felt confident to try it for actual workloads. In my previous setup, I was hosting quite a few applications (Pihole, Gitea, Grafana etc) and thought it'll be a nice way to learn how Nomad works by deploying the same services in the Nomad cluster. And I came in with zero expectations, I already had a nice setup which was reliable and running for me. My experience with a local Nomad cluster was joyful, I was able to quickly go from 0-&gt;1 in less than 30 minutes. This BTW is a strong sign of how easy Nomad is to get started with as compared to K8s. The sheer amount of different concepts you've to register in your mind before you can even deploy a single container in a K8s cluster is bizarre. Nomad takes the easy way out here and simplified the concepts for developers into just three things:</p>
<pre><code><span>job
  \_ group
        \_ task
</span></code></pre>
<ul>
<li>Job: Job is a collection of different groups. Job is where the constraints for type of scheduler, update strategies and ACL is placed. </li>
<li>Group: Group is a collection of different tasks. A group is always executed on the same Nomad client node. You'll want to use Groups for use-cases like a logging sidecar, reverse proxies etc.</li>
<li>Task: Atomic unit of work. A task in Nomad can be running a container/binary/Java VM etc, defining the mount points, env variables, ports to be exposed etc.</li>
</ul>
<p>If you're coming from K8s you can think of Task as a Pod and Group as a Replicaset. There's no equivalent to Job in K8s. BUT! The coolest part? You don't have to familiarise yourself with all different types of Replicasets (Deployments, Daemonsets, Statefulsets) and different ways of configuring them.</p>
<p>Want to make a normal job as a periodic job in Nomad? Simply add the following block to your existing Job:</p>
<pre><code><span>periodic {
  cron = "@daily"
}
</span></code></pre>
<p>You want to make a service run as a batch job (on all Nomad nodes -- the equivalent of Daemonset in K8s)? Simply make the following change to your existing job:</p>
<pre><code><span>-type="service"
</span><span>+type="batch"
</span></code></pre>
<p>You see <strong>this</strong> is what I mean by the focus on UX. There are many many such examples which will leave a nice smile on your face if you're coming from K8s background.</p>
<p>I'd recommend reading <a href="https://www.nomadproject.io/docs/internals/architecture">Internal Architecture</a> of Nomad if you want to understand this in-depth.</p>
<h2 id="architecture">Architecture</h2>
<p>Tech stack for Hydra:</p>
<ul>
<li>Tailscale VPN: Serves as a mesh layer between my laptop/mobile and DO server. Useful for exposing internal services.</li>
<li>Caddy for reverse proxying and automatic SSL setup for all services. I run 2 instances of Caddy:
<ul>
<li>Internal: Listens on Tailscale Network Interface. Reverse proxies all private services.</li>
<li>Public: Listens on DO's Public IPv4 network interface. Reverse proxies all public-facing services.</li>
</ul>
</li>
<li>Terraform: Primary component to have IaC (Infra as Code). Modules to manage:
<ul>
<li>Cloudflare DNS Zone and Records</li>
<li>DO Droplet, Firewall rules, SSH Keys, Floating IPs etc.</li>
<li>Nomad Jobs. Used for running workloads after templating env variables, config files in Nomad job files.</li>
</ul>
</li>
</ul>
<h2 id="complexity-of-nomad-vs-kubernetes">Complexity of Nomad vs Kubernetes</h2>
<p><a href="https://twitter.com/mrkaran_/status/1268762357355823104"><img src="https://mrkaran.dev/images/k8s-meme.jpeg" alt="image"></a></p>
<p>Nomad shines because it follows the UNIX philosophy of "Make each program do one thing well". To put simply, Nomad is <em>just</em> a workload orchestrator. It only is concerned about things like Bin Packing, scheduling decisions.</p>
<p>If you're running heterogeneous workloads, running a server (or a set of servers) quickly becomes expensive. Hence orchestrators tend to make sense in this context. They tend to save costs by making it efficient to run a vast variety of workloads. This is all an orchestrator has to do really. </p>
<p>Nomad doesn't interfere in your DNS setup, Service Discovery, secrets management mechanisms and pretty much anything else. If you read some of the posts at <a href="https://k8s.af/">Kubernetes Failure Stories</a>, the most common reason for outages is Networking (DNS, ndots etc). A lot of marketing around K8s never talks about these things.</p>
<p>I always maintain "Day 0 is easy, Day N is the real test of your skills". Anyone can deploy a workload to a K8s cluster, it's always the Day N operations which involve debugging networking drops, mysterious container restarts, proper resource allocations and other such complex issues that require real skills <strong>and</strong> effort. It's not as easy as <code>kubectl apply -f</code> and my primary gripe is with people who miss out on this in their "marketing" pitches (obvious!).</p>
<h2 id="when-to-use-nomad">When to use Nomad</h2>
<p>Nomad hits the sweet spot of being operationally easy and functional. Nomad is a great choice if you want to:</p>
<ul>
<li>Run not just containers but other forms of workloads.</li>
<li>Increase developer productivity by making it easier to deploy/onboard new services.</li>
<li>Consistent experience of deployment by testing the deployments locally.</li>
<li>(Not joking) You are tired of running Helm charts or writing large YAML manifests. The config syntax for Nomad jobs is human friendly and easy to grasp.</li>
</ul>
<p>Nomad is available as a single binary. If you want to try it locally, all you need is <code>sudo nomad agent -dev</code> and you'll have a Nomad Server, Client running in dev mode along with a UI. This makes it easy for the developers to test out the deployments locally because there's very little configuration difference between this and production deployment. Not to forget it's super easy to self-host Nomad clusters. I'm yet to meet anyone who self hosts K8s clusters in production without a dedicated team babysitting it always.</p>
<p>Once you eliminate the "blackbox" components from your stack, life becomes easier for everyone.</p>
<h2 id="when-to-not-use-nomad">When to not use Nomad</h2>
<ul>
<li>If you're relying on custom controllers and operators. <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/operator/">Operator Pattern</a> is a new way of managing large complex distributed systems (like databases, job queues etc). There are a lot of community built operators which help in reducing the effort to run these services. However, all of these are tied deeply into the "Kubernetes" ecosystem. If you find yourself running any of such operators, it'll be tough (not impossible) to translate the same in Nomad ecosystem.</li>
</ul>
<p>I <em>genuinely</em> cannot think of any other reason to not use Nomad!</p>
<h2 id="practical-scenarios">Practical Scenarios</h2>
<p>Since I migrated a couple of workloads from my DO docker containers setup to Nomad, I'd demonstrate a few use cases which might be helpful if you want to start migrating your services to Nomad</p>
<h3 id="accessing-a-web-service-with-reverse-proxy">Accessing a Web service with Reverse Proxy</h3>
<p>Context: I'm running Caddy as a reverse proxy for all the services. Since we discussed earlier, Nomad <strong>only</strong> is concerned about scheduling, so how exactly do you do Service Discovery? You need Consul (or something like Consul, Nomad has no hard restrictions) to register a service name with it's IP Address. Here's how you can do that:</p>
<p>In the <code>.task</code> section of your Nomad job spec, you need to register the service name with the port you're registering and additional tags as metadata (optional):</p>
<pre><code><span>service {
  name = "gitea-web"
  tags = ["gitea", "web"]
  port = "http"
}
</span></code></pre>
<p>Nomad's <a href="https://www.nomadproject.io/docs/job-specification/template">template</a> uses <code>consul-template</code> behind the scenes. This is a small utility which continuously watches for Consul/Vault keys and provides the ability to reload/restart your workloads if any of those keys change. It can also be used to <em>discover</em> the address of the service registered in Consul. So here's an example of <code>Caddyfile</code> using Consul Template functions to pull the IP address of the upstream <code>gitea-web</code> service:</p>
<pre><code><span>git.mrkaran.dev {
    {{ range service "gitea-web" }}
    reverse_proxy {{ .Address }}:{{ .Port }}
    {{ end }}
}
</span></code></pre>
<p>When a job is submitted to Nomad, a rendered template is mounted inside the container. You can define actions on what to do when the values change. For eg on a redeployment of Gitea container, the address will most likely change. We'd like Caddy to automatically restart with the new address configured in the Caddyfile in that case:</p>
<pre><code><span>template {
  data = &lt;&lt;EOF
${caddyfile_public}
EOF

  destination = "configs/Caddyfile" # Rendered template.

  change_mode = "restart"
}
</span></code></pre>
<p>Using <a href="https://www.nomadproject.io/docs/job-specification/template#change_mode"><code>change_m‚Ä¶</code></a></p></article></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mrkaran.dev/posts/home-server-nomad/">https://mrkaran.dev/posts/home-server-nomad/</a></em></p>]]>
            </description>
            <link>https://mrkaran.dev/posts/home-server-nomad/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130946</guid>
            <pubDate>Sun, 14 Feb 2021 09:53:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why blockchain is not yet working (2018)]]>
            </title>
            <description>
<![CDATA[
Score 98 | Comments 306 (<a href="https://news.ycombinator.com/item?id=26130912">thread link</a>) | @max_
<br/>
February 14, 2021 | https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/ | <a href="https://web.archive.org/web/*/https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h2 id="the-current-state">The current state</h2>
<p>There is a lot of hype about what the global distributed ledger aka ‚ÄúBlockchain‚Äù can do for society.
A ‚Äútrust machine‚Äù as some people call it, that will bring the power of finance, data sovereignty and inclusion to the people,
hence rendering centralized intermediaries like Visa, Barclays &amp; Facebook obsolete.</p>
<p>We shall achieve this by using a combination of robust, battle tested cryptography &amp; game theory.</p>
<p>While this vision is plausible, realising it is not a easy as it may seem.</p>
<p>The blockchain is not yet ready.</p>
<h2 id="the-core-barriers-to-main-stream-adoption">The core barriers to main stream adoption</h2>
<p>The blockchain, while being a new concept in decentralized distributed databases has also presented a very unique set of problems in computer science &amp; economics that have never been solved at the time of this writing.</p>
<p>Is this post, I will talk about the the 6 most important issues only with which if solved, shall we (blockchain enthusiasts) ever achieve our vision.</p>
<h3 id="1-scalability-issues">1. Scalability Issues</h3>
<p>The current bandwidth, i.e the data that can be transmitted through a blockchain with in a given time is simply too bounded for main stream adoption.</p>
<p>Ethereum for instance does a maximum of 13 transactions per second. Visa on the other hand can do 24,000 Transaction per second and peak over 40,000 transactions per second.</p>
<p>So as you can see, the blockchain is thousands of magnitudes unable to manage a global traffic of financial transactions.
This is what they call the ‚ÄúScalability Problem‚Äù</p>
<p>Coming up with a solution to scalability the problems without tarnishing the original value propositions of a blockchain (immutability/security, decentralization &amp; censorship resistance) is not trivial. It has been nick named the <a href="https://github.com/ethereum/wiki/wiki/Sharding-FAQ#this-sounds-like-theres-some-kind-of-scalability-trilemma-at-play-what-is-this-trilemma-and-can-we-break-through-it">‚Äúscalability trilemma‚Äù</a> by Vitalik Buterine (Ethereum‚Äôs co-author).</p>
<h3 id="2-lack-of-intuitive-private-key-management">2. Lack of Intuitive Private Key Management</h3>
<p>Ordinary users will simply never wrap their heads around private keys.</p>
<p>Private keys, which are a string of text used to sign transactions and make other proofs(cryptographic).</p>
<p>The purpose for these proofs or signatures is for other entities on a blockchain network to verify identities &amp; messages amongst themselves without reasonable doubt.</p>
<p>Private keys have two main problems first, how to store them securely.<br>
Anyone who can memorize, take a picture, or copy your private key can literally steal all your money.
Because they have your private key, they can make the cryptographic proofs/signatures and <em>accurately prove to everyone on the network they are you</em> even without your consent. Even when they are not you.</p>
<p>Second, you loose your key you loose access to all your money &amp; <em>no one can ever help you out</em>.
There is no ‚Äúclick here to remember your private key‚Äù</p>
<p>We need to first come up with something as intuitive using ATM/Debit cards.</p>
<p>Imagine if your bank told you that, ‚Äúif you forgot your Debit card PIN, you loose access to all your money with <em>zero hope of recovering it how ever large a sum of money it would be</em>‚Äù.</p>
<p>If the above was the case, I don‚Äôt think any one would use debit cards.</p>
<h3 id="3-contract-security">3. Contract security</h3>
<p>It is simply not reliable &amp; safe for responsible institutions &amp; individuals to deploy smart contracts on blockchains like Ethereum.</p>
<p>Due to the blockchain having an immutable and unpredictable state, Smart contracts deployed on such a platform are also expected to suffer from immutable bugs &amp; unpredictable events.</p>
<p>As a result, millions of dollars have been lost in events such as the <a href="https://www.bloomberg.com/features/2017-the-ether-thief/">theft of $50 million from TheDAO</a> and <a href="https://www.coindesk.com/startup-lost-160-million-still-wants-shake-ethereum/"> Parity‚Äôs $160 Million loss of funds</a></p>
<p>I was glad that Rick dudley <a href="https://youtu.be/1AGHAuWz_4U?t=986">talked about this</a></p>
<h3 id="4-consensus-algorithms-are-wack">4. Consensus algorithms are wack</h3>
<p>The popular blockchains only don‚Äôt offer transaction finality i.e you will never be 100% sure that you have gotten funds.</p>
<p>You can only be <a href="https://ethereum.stackexchange.com/questions/319/what-number-of-confirmations-is-considered-secure-in-ethereum">probabilistically to a high degree</a> (but with zero guarantee) that you have received your funds.
This is because in major consensus algorithm called Nakamoto Consensus, the miners elect the chain with the most computational work that are with in the same protocol i.e consensus rules.</p>
<p>For instance imagine your bank tells you that you that, ‚Äúthere is a 95% chance that we <em>might</em> have your life savings, however you may also not poses it in 5 years in case we discovered that the chain with the most work does not have your transaction in it‚Äù</p>
<p>Yes, I don‚Äôt think anyone wants to keep their life savings in such a bank.</p>
<h3 id="5-privacy">5. Privacy</h3>
<p>Just by knowing someone‚Äôs cryptocurrency address, you can know their account balance &amp; transaction history simply by pasting it in a blockchain explorer like <a href="https://blockchain.info/">blockchain</a> and <a href="https://etherscan.io/">etherscan</a></p>
<p>Meaning it‚Äôs very easy for anyone to keep track of your financial activities without permission.</p>
<p>You buy HIV drugs? I now know your HIV positive, Your paying schools fees? now your local kidnapper knows where your kids study.</p>
<p>Buying birth control pills? Now anyone in the world may accurately guess that your a woman.
No careful person wants that!</p>
<h3 id="6-price-volatility">6. Price volatility</h3>
<p>Very few people simply don‚Äôt have the stomach to hold a financial instrument that drops by over 50% with in <a href="https://www.cnbc.com/2017/12/26/bitcoin-price-in-2018-could-hit-60000-but-another-crash-is-coming.html">a few months</a>.</p>
<h2 id="what-can-we-do">What can we do?</h2>
<p>Most projects are building on platforms that have these problems regardless, in hopes that they will integrate solutions to the respective issues in the future.</p>
<p>The risk they face however, is that the platform they built on, my become obsolete after a heavy investment of time &amp; resources on the wrong platform.</p>
<p>Think how the <a href="https://bitcoinmagazine.com/articles/bitcoin-now-useless-micropayments-solutions-are-coming1/">micro payments industry died in bitcoin because of high fees</a></p>
<p>It‚Äôs like building your phone app around a windows smart-phone only to be made irrelevant because the next generation of mobile users will not be using windows smart-phones, but iOS and Android.</p>
</div></div>]]>
            </description>
            <link>https://as1ndu.xyz/2018/05/why-blockchain-is-not-yet-working/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130912</guid>
            <pubDate>Sun, 14 Feb 2021 09:45:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Exploding Frog (2019)]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26130647">thread link</a>) | @Tomte
<br/>
February 14, 2021 | https://www.greghendershott.com/2019/04/exploding-frog.html | <a href="https://web.archive.org/web/*/https://www.greghendershott.com/2019/04/exploding-frog.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
   <article>
    <header>
     
     <p>
      <time datetime="2019-04-03" pubdate="true">2019-04-03</time> :: <span><a href="https://www.greghendershott.com/tags/Racket.html">Racket</a>, <a href="https://www.greghendershott.com/tags/Frog.html">Frog</a></span></p></header>
    <p>I‚Äôm writing and publishing this post using something other than <a href="https://github.com/greghendershott/frog">Frog</a>.</p>
    <p>Having said that, I‚Äôm not planning to abandon maintaining Frog.</p><!-- more-->
    <p>Over the past week I explored doing something I‚Äôve wanted to try for many years: ‚ÄúExploding‚Äù Frog from an app that you run, into <a href="https://github.com/greghendershott/blog">a set of little commands that you call from a Makefile</a>.</p>
    <p>I believe there‚Äôs a variation of <a href="https://en.wikipedia.org/wiki/Greenspun's_tenth_rule">Greenspun‚Äôs Tenth Rule</a>:</p>
    <blockquote>
     <p>Any sufficiently complicated static blog generator contains an ad-hoc, informally-specified, bug-ridden, slow implementation of half of <code>make</code>.</p>
     </blockquote>
    <p>If you look at Frog‚Äôs code, by volume, an awful lot of it consists of:</p>
    <ol>
     <li>Figuring out what needs to be (re)built.</li>
     <li>‚ÄúPath math‚Äù.</li>
     <li>Configuration, customization, templates.</li>
     <li>Support for Bootstrap or various surveillance capitalism gadgets.</li></ol>
    <p>On the one hand, it is certainly very ‚ÄúRackety‚Äù to write this in Racket. On the other hand, Racket advocates language-oriented programming. Make is a language for expressing the first two things.</p>
    <p>As for the third item: Originally, I thought it would be cool to write Frog as an app, thinking people might use it even if they weren‚Äôt particularly into Racket programming. In reality, of course approximately 103.8% of Frog users like to program in Racket. So maybe, call this crazy, programmers who want a blog generating program to work a little differently could, I don‚Äôt know, change the program a little. Maybe there need not be layers of configuration and customization.</p>
    <hr>
    <p>And yet, I‚Äôve never really known that much about GNU Make. Just enough to cargo cult. And the GNU Make documentation, although thorough, never really ‚Äúclicked‚Äù for me. This time, though, I stuck with it. It helped to have a non-trivial project in mind.</p>
    <p>The most confusing thing for me at first, was, Make seems oriented around defining targets and ‚Äúpulling‚Äù those from sources. ‚ÄúThis executable depends on linking these object files. These object files depend on these .c and .h files.‚Äù I didn‚Äôt really grok how to make it be ‚Äúpush‚Äù-driven: We have a bunch of (say) <code>.md</code> post sources. Yes those get built into <code>.html</code> files, but we also have tags, and feeds, and‚Ä¶?</p>
    <p>In the end I made use of some variables to define the sources, intermediate build files, and final outputs:</p>
    <div>
     <table>
      <tbody>
       <tr>
        <td>
         <div>
          <pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td>
        <td>
         <div>
          <pre><span></span><span># Configure where are sources, build cache, and root of the web site</span>
<span># output.</span>
<span>src</span>   <span>:=</span> src
<span>cache</span> <span>:=</span> .cache
<span>www</span>   <span>:=</span> www

<span># Make normally "pulls" targets from sources, but we want to "push"</span>
<span># sources to targets. As a result, we need to build lists of sources</span>
<span># and from those build lists of targets.</span>

<span>post-sources</span> <span>:=</span> <span>$(</span>shell find <span>$(</span>src<span>)</span>/posts -type f<span>)</span>
<span>post-caches</span>  <span>:=</span> <span>$(</span>patsubst <span>$(</span>src<span>)</span>/posts/%.md,<span>$(</span>cache<span>)</span>/%.rktd,<span>$(</span>post-sources<span>))</span>
<span>post-htmls</span>   <span>:=</span> <span>$(</span>patsubst <span>$(</span>cache<span>)</span>/%.rktd,<span>$(</span>www<span>)</span>/%.html,<span>$(</span>post-caches<span>))</span>

<span>tag-caches</span>     <span>:=</span> <span>$(</span>wildcard <span>$(</span>cache<span>)</span>/tags/*<span>)</span>
<span>tag-htmls</span>      <span>:=</span> <span>$(</span>patsubst %,<span>$(</span>www<span>)</span>/tags/%.html,<span>$(</span>notdir <span>$(</span>tag-caches<span>)))</span>
<span>tag-atom-feeds</span> <span>:=</span> <span>$(</span>patsubst %,<span>$(</span>www<span>)</span>/feeds/%.atom.xml,<span>$(</span>notdir <span>$(</span>tag-caches<span>)))</span>
<span>tag-rss-feeds</span>  <span>:=</span> <span>$(</span>patsubst %,<span>$(</span>www<span>)</span>/feeds/%.rss.xml,<span>$(</span>notdir <span>$(</span>tag-caches<span>)))</span>

<span>non-post-sources</span> <span>:=</span> <span>$(</span>wildcard <span>$(</span>src<span>)</span>/non-posts/*.md<span>)</span>
<span>non-post-htmls</span>   <span>:=</span> <span>$(</span>patsubst %.md,<span>$(</span>www<span>)</span>/%.html,<span>$(</span>notdir <span>$(</span>non-post-sources<span>)))</span>
</pre></div>
</td></tr></tbody></table>
</div>
    <p>Then, for example, a rule like this is how we turn a <code>.md</code> source into an intermediate <code>.rktd</code> cached file:</p>
    <div>
     <table>
      <tbody>
       <tr>
        <td>
         </td>
        <td>
         <div>
          <pre><span></span><span>$(cache)/%.rktd</span><span>:</span> <span>$(</span><span>src</span><span>)</span>/<span>posts</span>/%.<span>md</span>
	<span>$(</span>make-post-cache<span>)</span> $&lt; <span>$(</span>abspath <span>$(</span>cache<span>)</span>/tags<span>)</span> <span>$@</span>
</pre></div>
</td></tr></tbody></table>
</div>
    <p>and that into an <code>.html</code> file:</p>
    <div>
     <table>
      <tbody>
       <tr>
        <td>
         </td>
        <td>
         <div>
          <pre><span></span><span>$(www)/%.html</span><span>:</span> <span>$(</span><span>cache</span><span>)</span>/%.<span>rktd</span> <span>rkt</span>/<span>page</span>-<span>xexpr</span>.<span>rkt</span>
	<span>$(</span>make-post-html<span>)</span> $&lt; <span>$(</span>www<span>)</span> <span>$@</span>
</pre></div>
</td></tr></tbody></table>
</div>
    <p>What is this business about an ‚Äúintermediate post cached file‚Äù? Well, the overall model is a two-stage ‚Äúcompile and link‚Äù sort of metaphor, similar to Frog. Post <code>.md</code> sources only define the ‚Äúbody‚Äù of a post page, e.g. the <code>&lt;article&gt;</code> element that will go somewhere in a page. Building that can be semi-expensive when you do enhancements like syntax-highlighting and automatic links to Racket documentation. It‚Äôs nice not to need to redo that, simply because some other element on the containing page changes. Also, each post has one or more tags, so the first pass is a chance to build an index of tags to posts, which the second pass can use to make feed files and an index page for each tag.</p>
    <p>The little commands that the <code>Makefile</code> calls are defined in in a <code>rkt/</code> subdirectory. Some of them <code>require</code> modules from Frog. Others are copypasta with some adaptation. Any of these files that could be truly generic ‚Äî i.e. won‚Äôt elicit a pull-request someday to get different blog behavior ‚Äî I‚Äôd like to move eventually into a ‚Äútadpole‚Äù package. The remaining code should go in some repo ‚Äî <em>not</em> a package ‚Äî as example code. That is, you could copy it ‚Äî probably not even fork it ‚Äî and just hack away. It is your blog, so it is your program.</p>
    <p>So far I‚Äôm enjoying this new approach.</p>
    <p>Again, I still plan to maintain Frog, in terms of fixing bugs and keeping it working on newer versions of Racket. Already in the past couple years I‚Äôve been super reluctant to add new features, and haven‚Äôt. All I‚Äôm saying here is that I plan to continue that not-doing.</p>
    </article></div><div>
   <p>Created using a Makefile, Racket, and 'tadpole'.</p>
   <p>Copyright ¬© 2012‚Äì2019 by Greg Hendershott. All rights reserved.</p></div></div>]]>
            </description>
            <link>https://www.greghendershott.com/2019/04/exploding-frog.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130647</guid>
            <pubDate>Sun, 14 Feb 2021 08:39:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Burrows-Wheeler transform to identify SARS-CoV-2 mutants]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130544">thread link</a>) | @8iterations
<br/>
February 14, 2021 | https://mokasquarl.github.io/draftWA_cov/ | <a href="https://web.archive.org/web/*/https://mokasquarl.github.io/draftWA_cov/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <h3 id="a-bioinformatics-pipeline-to-detect--understand-covid-mutants">A Bioinformatics Pipeline to Detect &amp; Understand COVID Mutants</h3>
<p><img src="https://mokasquarl.github.io/images/composite_border.png" alt="mutantcov" title="Mutant SARS-CoV-2 ACE2 Receptor Complex"></p>
<h4 id="fig-1-molecular-structure-with-uk-mutant-sars-cov-2-docked-to-human-receptor">Fig 1. Molecular Structure with UK Mutant SARS-CoV-2 Docked to Human Receptor</h4>
<p>As the pandemic runs its course, tracking genetic mutations has gained mainstream coverage. Officially, in the line of work we call bioinformatics, finding and understanding mutations is known as <em>Variant Calling</em>. In the same way every person is different from others (except twins), an individual virus can have variations in their genome; when a lot of these genetic variations accumulate between the virus we detected originally and what we find months later in a faraway town, we can say that we have a new <em>strain</em> of the virus. The Coronavirus which we‚Äôre now calling <em>SARS-CoV-2</em> was first detected in Wuhan‰∏≠ÂõΩ, so the genetic sequencing data from here is used as the base reference genome, and we measure mutations for the virus detected everywhere else against this; a coronavirus genome from a few towns away might only have a couple letters of the genome different from the Wuhan data, while something that‚Äôs travelled to the other side of the world after being transmitted through many people, climates, and even treatments, might now have acquired many more genetic variants compared to the original data.</p>
<h4 id="fig-2-retrieving-raw-covid-data-from-sra--creating-alignment-maps">Fig 2. Retrieving raw COVID data from SRA &amp; creating alignment maps</h4>
<p><img src="https://mokasquarl.github.io/images/render1612723995528-min.gif" alt="samtools tview" title="SARS-CoV-2 Aligned">
Data from viruses sequenced all across the world are uploaded into one of several databases (Table 1), this data is generated directly from machines by Illumina, Oxford Nanopore, or Life Technologies. When turning the molecules in genetic code into digital files these machines create strings that can be a few hundred letters in length to several thousand, but never the entire genome of the virus in a single string. A standardized file format called <em>fastq</em> holds all the strings from a single sample, including some quality data from the machine doing the sequencing. These strings are in no particular order, and first need to be mapped together to get the complete genome. Pretty much the standard way to create these genetic maps uses a technique invented in Palo Alto back in the early 90s by &nbsp;Michael Burrows and David Wheeler. The <em>Burrows‚ÄìWheeler Transform</em> was mostly just used in data compression, until around 2010 when computational biologists began to use it to align genomes together.</p>

<h4 id="table-1">Table 1.</h4>
<p><strong>SRA:</strong> <em>Sequence Read Archive</em> <strong>-Open Access</strong></p>

<p><strong>ENA:</strong> <em>European Nucleotide Archive</em> <strong>-Open Access</strong></p>

<p><strong>GISAID:</strong> <em>Global Initiative on Sharing All Influenza Data</em> <strong>-Private</strong></p>

<p>Heng Li, now a professor at Harvard (amongst other things) has created the most commonly used alignment algorithm (amongst other things) with <a href="https://github.com/lh3/bwa">BWA</a>. This algorithm is super easy to use, and will get us results that are more than good enough.</p>

<div><div><pre><code>git clone https://github.com/lh3/bwa.git
cd bwa
make
</code></pre></div></div>

<p>BWA takes <strong>fastq</strong> files containing samples, along with a <em>fasta</em> file containing a reference genome to map the strings contained in our <strong>fastq</strong> file. Reference genomes are usually put out by the scientific wing of a National Government, Regional Organizations, and some Universities. We‚Äôll get our Wuhan Coronavirus Reference genome from the <a href="https://www.ncbi.nlm.nih.gov/nuccore/1798174254">National Center for Biotechnology Information</a> hosted by the US Federal government. A good sample to run against the Wuhan reference is the Washington state outbreak that happened early in the US, the <em>fastq</em> data for this is also hosted by the NCBI at their <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?run=SRR11278092">Sequence Read Archive</a>. In the animated terminal above (Fig 2.) we see the commands needed to create our mapped genome from our input files, including retrieving the data from the databases . If you‚Äôd like to skip all that, we‚Äôre hosting both the reference genome, and the completed alignment map over at <a href="https://lucidalign.com/#cov">Lucid Align</a>. We‚Äôll be using the <strong>bam</strong> file to detect our mutations, and we can also browse the genome of this Washington state outbreak sample using any sequence alignment viewer.</p>

<h4 id="fig-3-detecting-mutations-with-neural-networks">Fig 3. Detecting Mutations with Neural Networks</h4>
<p>
  <iframe src="https://www.youtube.com/embed/v5z5OV6UAVM" width="700" height="480" frameborder="0" allowfullscreen="">
  </iframe>
</p>

<p>But before going on to variant calling this first sample let‚Äôs just prepare another sample while we‚Äôre making these alignment maps. Let‚Äôs do a more recent outbreak, from Kent, UK; which is far from Wuhan &amp; the Washington sample, in both time &amp; space. Retrieving the samples from the European Nucleotide Archive can be done from this <a href="https://www.ebi.ac.uk/ena/browser/view/ERR4659819">link</a> or from the shell.</p>

<div><div><pre><code>git clone https://github.com/enasequence/enaBrowserTools.git
cd python3
enaDataGet.py -f fastq -m -d [output_directory] ERR4659819
</code></pre></div></div>

<p>Creating the mapped genome from the Kent, UK outbreak is done the exact same way as with the Washington state outbreak, and now both files can be browsed directly with an alignment viewer. More importantly now we can run the <em>variant detection</em> and see all the mutations in each of these samples compared to the original Wuhan reference genome. Variant callers are an area of hot development for folks working on bioinformatics algorithms &amp; tools. Traditionally, Bayesian methods have been most reliable, but are hard-coded for specific organisms or need the settings dialed-in to get the correct sensitivity to specificity. This is so that we don‚Äôt get too many false-positives, while at the same time don‚Äôt miss any real mutations. In the last couple of years deep convolutional neural networks have really made a splash in variant calling, where now images are created almost similar to those we see from alignment viewers, and those images are used to train, and then have the neural network make the call on whether there is a mutation in a given section of the alignment map as we make our way down the entire map.</p>

<p><img src="https://mokasquarl.github.io/images/eff_kent.png" alt="Annotated VCF" title="High Impact mutation in Kent UK sample"></p>
<h4 id="fig-4-annotated-mutations-of-kent-uk-strain-b117">Fig 4. Annotated Mutations of Kent UK Strain B.1.1.7</h4>

<p>Bayesian variant callers are fairly simple to install, whereas the DCNN callers will need, in our case, Nvidia cuda drivers, and of course a machine with those GPUs. You could use <a href="https://magnolia.sh/">Magnolia</a> Fig 3., the super-cool neural network based caller that Leo van Driel helped write B-), but for this post we are going to use the built-in caller that comes with <a href="http://www.htslib.org/download/"><em>samtools</em></a> written by the previously mentioned Heng Li.</p>

<div><div><pre><code>bcftools mpileup -Ou -f &lt;ref.fasta&gt; &lt;sample1.bam&gt; | bcftools call -vmO z -o &lt;study.vcf.gz&gt;
</code></pre></div></div>

<p>After running any variant caller, we‚Äôre left with a <em>vcf</em> file, which is just a list of positions in a genome where the sample has a mutation compared to the reference, it might be good to just look at the file <a href="https://samtools.github.io/hts-specs/VCFv4.2.pdf">format specifications</a> to understand how these <em>vcf</em> files will be used moving forward. We can use the allotted fields in the <em>vcf</em> format to annotate, that is give meaning &amp; context to each of the mutations we detect in the genome. For this sample we‚Äôve used <a href="https://pcingola.github.io/SnpEff/users_of_snpeff/">SnpEff</a> which makes life super easy by boiling all of the predicted effects of each of the mutations we detected into 3 simple categories, high impact, low, and moderate.</p>

<p>We can see in Fig 4. that running a standard Bayesian variant caller we detected a total of 48 mutations in the Kent UK sample. However, there might be some false-positives in there, it‚Äôs always better to be a bit more sensitive than to miss things. Let‚Äôs focus on the high impact mutations, things that will change the 3D structure of coronavirus. Looks like we only have 3 of those, all highlighted in red (Fig 4.), at genomic positions, 11288, 27972, and 28270. The VCF file we generated also contains data on which amino acids within the protein structure were changed to what, we can use that information to make the changes in our molecular structure, which in this case we‚Äôve done with a current tool under development.</p>
<h4 id="fig-5-molecular-structure-editor">Fig 5. Molecular Structure Editor</h4>
<p><img src="https://mokasquarl.github.io/images/dalton_beta.gif" alt="Dalton PDB" title="Editing Molecular Structure"></p>

<p>Mutations which change the molecular structure are super important because that is more likely to make things behave differently, this can mean it attaches to human receptors more tightly, interacts with antibodies and drugs differently, because remember at the core of how molecules behave is the old mantra <strong>‚Äúform equals function.</strong>‚Äù</p>

  </div></div>]]>
            </description>
            <link>https://mokasquarl.github.io/draftWA_cov/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130544</guid>
            <pubDate>Sun, 14 Feb 2021 08:15:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Try 23 different languages with Docker and VS Code]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130528">thread link</a>) | @mythz
<br/>
February 14, 2021 | https://gist.cafe/helloworld#try | <a href="https://web.archive.org/web/*/https://gist.cafe/helloworld#try">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            
    
            <p>
                <iframe src="https://www.youtube.com/embed/NVeoJBZrCBo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
            </p>
    
            
            
            <div>
                <div>
                    <p>
                        After right-clicking on the running container and clicking on
                        <b>Attach Visual Studio Code</b>
                        you'll open a VS Code window into the running instance at the users <b>/app</b> home directory.
                        To start with a clean folder free of clutter, you can run <b>code src</b> to open a new VS Code window
                        into the empty <b>src</b> folder.
                    </p>

                    <h4>Start from your languages "Hello World"</h4>

                    <p>
                        To quickly get started playing with each language use the built-in
                        <a href="https://docs.servicestack.net/dotnet-tool">x tool</a>
                        to download any GitHub repo.
                    </p>

                    <p>
                        To make it easy, <a href="https://github.com/gistcafe">gistcafe</a>
                        has a <em>hello-*</em> repo for each language that supports running a single source file <em>"Hello World"</em>
                        which you can browse with:
                    </p>

                    <h3>Run it!</h3>

                    <pre><label>x download gistcafe | grep hello-</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <p>
                        Then download the language you want, e.g you can download &amp; run a <a href="https://deno.land/">Deno</a> "Hello World" App with:
                    </p>

                    <pre><label>x download gistcafe/hello-deno &amp;&amp; cd hello-deno</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <pre><label>deno run hello.ts</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <h4>Start from a language project template</h4>

                    <p>
                        For installing all other non-single file (i.e. <em>hello-*</em>) repos you'll instead want to use <b>x new</b> so it applies all
                        <a href="https://docs.servicestack.net/dotnet-new#install-directly-from-your-github-repo">project transformations</a>
                        with your Project Name:
                    </p>

                    <pre><label>x new gistcafe/go Acme &amp;&amp; cd Acme</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <pre><label>go run main.go</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <h3>Publish it!</h3>

                    <p>
                        Once you're ready to share your new App with the world you can publish it to a GitHub Gist by generating a
                        <a href="https://github.com/settings/tokens/new">GitHub Access Token</a> with <b>gist</b> scope
                        and adding it to your <em>GITHUB_TOKEN</em> Environment Variable:
                    </p>

                    <pre><label>echo "export GITHUB_TOKEN=THE_TOKEN" &gt;&gt; ~/.bashrc &amp;&amp; . ~/.bashrc</label><b></b><i title="copy" onclick="copy(this)"></i></pre>

                    <p>
                        Then to publish your App to a new Gist, run:
                    </p>
                    <pre><label>x publish -desc "Gist Description"</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
                    <p>if <em>-desc</em> is unspecified the description is inferred from your folder name.</p>
                    <p>To update your Gist run publish again:</p>
                    <pre><label>x publish</label><b></b><i title="copy" onclick="copy(this)"></i></pre>
    
                </div>
            </div>
    
        </div></div>]]>
            </description>
            <link>https://gist.cafe/helloworld#try</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130528</guid>
            <pubDate>Sun, 14 Feb 2021 08:11:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Streamlit component for real-time video processing web apps, streamlit-webrtc]]>
            </title>
            <description>
<![CDATA[
Score 43 | Comments 6 (<a href="https://news.ycombinator.com/item?id=26130494">thread link</a>) | @whitphx
<br/>
February 14, 2021 | https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669 | <a href="https://web.archive.org/web/*/https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-outlet">
        

  


      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          

            

          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T13:33:16Z">
              <time itemprop="dateModified" datetime="2021-01-11T12:54:45Z">
                January 11, 2021, 12:54pm
              </time>
          <span itemprop="position">#1</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello everyone,</p>
<p>I made <a href="https://github.com/whitphx/streamlit-webrtc" rel="noopener nofollow ugc">streamlit-webrtc</a>, which sends and receives video (and audio, but it‚Äôs only partially supported now) streams between frontend and backend via WebRTC.<br>
This should be helpful for creating, for example, performant real-time computer vision WebApps.</p>
<p>This week I tried Steamlit, found it interesting and useful, and then wanted to run real-time computer vision apps on Streamlit, on which users can try some computer vision models with video input from their webcams.<br>
So I tried to develop a component to achieve it using WebRTC. Fortunately, there is a great WebRTC library for Python, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a>.</p>
<p>One interesting thing about this component is that the input video streams are sourced from users‚Äô webcams and transferred to the server-side Python process via the network. Therefore, the server does not need the access to the camera, unlike the usual approach using OpenCV (<code>cv2.VideoCapture</code>). It means the Python code can be hosted on a remote server (actually, I hosted a sample app on Heroku and it worked, as stated below).</p>
<p>In addition, WebRTC provides good performance with sending and receiving video/audio frames.</p>
<p>Here is a demo movie:<br>
</p><div><a href="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" data-download-href="/uploads/short-url/oYIcsMqSqHFlA92m5f3NdANeujO.gif?dl=1" title="streamlit-webrtc-demo-short1" rel="noopener nofollow ugc"><img src="https://aws1.discourse-cdn.com/business7/uploads/streamlit/original/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24.gif" alt="streamlit-webrtc-demo-short1" data-base62-sha1="oYIcsMqSqHFlA92m5f3NdANeujO" width="549" height="500" data-small-upload="https://aws1.discourse-cdn.com/business7/uploads/streamlit/optimized/2X/a/af111a7393c77cb69d7712ac8e71ca862feaeb24_2_10x10.png"></a></div><p>
(A full version is hosted on <a href="https://youtu.be/BRrtN80ITfU" rel="noopener nofollow ugc">YouTube</a>)</p>
<p>You can see</p>
<ul>
<li>The app consumes, processes, and renders video frames in real time.</li>
<li>Streamlit‚Äôs interactive controls are still working well in combination with the code using WebRTC. For example, the threshold for object detection is changed interactively during execution.</li>
</ul>
<p>You can try out the sample app using the following commands.</p>
<pre><code>$ pip install streamlit-webrtc opencv-python
$ streamlit run https://raw.githubusercontent.com/whitphx/streamlit-webrtc-example/main/app.py
</code></pre>
<p>I also deployed it to Heroku, <a href="https://streamlit-webrtc-example.herokuapp.com/" rel="noopener nofollow ugc">https://streamlit-webrtc-example.herokuapp.com/</a> and confirmed it worked; however, it‚Äôs running on a very small instance on a free plan, and may not work well if multiple users access it at the same time.<br>
I recommend you to run it on your own environment.</p>
<p>It‚Äôs still a prototype and the API is not finalized, and the documentation has not been written. Please refer to <a href="https://github.com/whitphx/streamlit-webrtc/blob/master/app.py" rel="noopener nofollow ugc">the sample code</a> when you use the component.</p>
<p>I welcome any feedback!</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">
          <meta itemprop="keywords" content="custom-components, video, real-time, computer-vision">

        

         

            
      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-10T14:39:49Z">
              <time itemprop="dateModified" datetime="2021-01-10T16:53:31Z">
                January 10, 2021,  4:53pm
              </time>
          <span itemprop="position">#2</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Technical note:</p>
<p>One technical challenge was to combine WebRTC and real-time processing with Streamlit‚Äôs execution model. This problem has already been stated in <a href="https://discuss.streamlit.io/t/access-webcam-video-from-a-hosted-streamlit-application/1301">Access Webcam Video from a hosted Streamlit application</a>.<br>
In case of <code>streamlit-webrtc</code> , additionally, <a href="https://github.com/aiortc/aiortc" rel="noopener nofollow ugc">aiortc</a> does not work in normal Streamlit scripts, which are executed from top to bottom and terminated at each user interaction (more fundamentally, it‚Äôs because of WebRTC‚Äôs async nature).</p>
<p>This library approaches this problem by creating threads independent of Streamlit execution.<br>
When the component is used for the first time, it forks a thread, launches <code>aiortc</code>‚Äôs code on an event loop in the thread, and maintains the thread over all the script executions until the WebRTC session is closed.</p>
<p>As a result of this approach, developers should alter their programming style when using this library, from Streamlit‚Äôs declarative way to an event-and-callback-based one. <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L293-L303" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a> is an example. In this code, the computer vision part resides in a callback function, which is called from the forked thread triggered by the media stream regardless of Streamlit‚Äôs execution timing.</p>
<p>To bridge this forked execution of WebRTC and normal Streamlit‚Äôs controls, <code>streamlit-webrtc</code> exposes a <code>context</code> object, which is an interface to the objects running in the WebRTC‚Äôs async world.<br>
By using it, values from Streamlit‚Äôs controls can be passed to the computer vision code running in the forked thread, like <a href="https://github.com/whitphx/streamlit-webrtc/blob/477416da84e77d76201d97269589fe5ff5d17d37/app.py#L305-L317" rel="noopener nofollow ugc">streamlit-webrtc/app.py at 477416da84e77d76201d97269589fe5ff5d17d37 ¬∑ whitphx/streamlit-webrtc ¬∑ GitHub</a>.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p>Welcome to the community <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>, looks awesome !</p>
<p>Feel free to add it to our <a href="https://discuss.streamlit.io/t/streamlit-components-community-tracker/4634">community tracker</a> so we don‚Äôt lose it from our radars <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/grin.png?v=9" title=":grin:" alt=":grin:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-11T13:04:31Z">
                January 11, 2021,  1:04pm
              </time>
              <meta itemprop="dateModified" content="2021-01-11T13:04:31Z">
          <span itemprop="position">#4</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p><a href="https://discuss.streamlit.io/u/andfanilo">@andfanilo</a> Thank you! I edited the wiki <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/smile.png?v=9" title=":smile:" alt=":smile:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-13T16:25:04Z">
                January 13, 2021,  4:25pm
              </time>
              <meta itemprop="dateModified" content="2021-01-13T16:25:04Z">
          <span itemprop="position">#5</span>
          </span>
        </p></div>
        <p>Whoa - this is really great. Nice work, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/MalanG"><span itemprop="name">MalanG</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-15T21:55:39Z">
                January 15, 2021,  9:55pm
              </time>
              <meta itemprop="dateModified" content="2021-01-15T21:55:39Z">
          <span itemprop="position">#6</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>,</p>
<p>Thanks for a great project!<br>
I am trying to test yours, and couldn‚Äôt install streamlit-webrtc.</p>
<pre><code>(venv) (base) admin@Youjins-MacBook-Pro mqtt-camera-streamer-master % pip install streamlit-webrtc              
ERROR: Could not find a version that satisfies the requirement streamlit-webrtc
ERROR: No matching distribution found for streamlit-webrtc
</code></pre>
<p>Can I install it if I download the github repo?</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-16T09:39:03Z">
              <time itemprop="dateModified" datetime="2021-01-16T13:14:24Z">
                January 16, 2021,  1:14pm
              </time>
          <span itemprop="position">#7</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Hello <a href="https://discuss.streamlit.io/u/malang">@MalanG</a> ,</p>
<p>I think it‚Äôs because you are using python &lt;3.8 <s>though <code>streamlit-webrtc</code> currently supports only &gt;=3.8.<br>
Please try with python 3.8.</s></p>
<p><s>I will also fix the package to be compatible with older versions of Python.</s></p>
<p>EDIT: I updated the package to be compatible with Python 3.6 and 3.7. Please try again.</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-01-18T13:42:59Z">
              <time itemprop="dateModified" datetime="2021-01-18T14:36:28Z">
                January 18, 2021,  2:36pm
              </time>
          <span itemprop="position">#8</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I got an invitation to Streamlit Sharing then deployed the sample app there: <a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a><br>
but it didn‚Äôt work with a ‚Äúpermission denied‚Äù error when the app requires capturing video or audio from user‚Äôs device.</p>
<p>It means many interesting applications of this component, including real-time object detection and image transformation, cannot be used on Streamlit Sharing‚Ä¶<br>
The only page of the sample app that works is the third one, where the app plays video and audio files on server-side and transmit them to the client.</p>
<p>This is because, on Streamlit Sharing, the app is running inside iframe.<br>
<code>getUserMedia</code>, which is used to get access to user‚Äôs device, requires Feature Policy when called inside iframe.<br>
Details are here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getUserMedia#Feature_Policy" rel="noopener nofollow ugc">MediaDevices.getUserMedia() - Web APIs | MDN</a></p>
<p>This is out of my control <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/crying_cat_face.png?v=9" title=":crying_cat_face:" alt=":crying_cat_face:"></p>
<p>EDIT: This problem has also been stated in <a href="https://discuss.streamlit.io/t/sharing-blocks-custom-webcam-component-due-to-featurepolicy/8876">Sharing blocks custom webcam component due to featurePolicy</a></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <div itemprop="articleBody">
          <p><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/frowning.png?v=9" title=":frowning:" alt=":frowning:"></p>
<p>Well this is an interesting discussion to raise with the product team, thanks for taking the time to track this down! I‚Äôll ping them on my side too <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/wink.png?v=9" title=":wink:" alt=":wink:"></p>
<p>Fanilo</p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Wow this is awesome ! Great work <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a>  !! <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/scream.png?v=9" title=":scream:" alt=":scream:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"><img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/clap.png?v=9" title=":clap:" alt=":clap:"></p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/tim"><span itemprop="name">tim</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-01-19T17:28:11Z">
                January 19, 2021,  5:28pm
              </time>
              <meta itemprop="dateModified" content="2021-01-19T17:28:11Z">
          <span itemprop="position">#11</span>
          </span>
        </p></div>
        <p>Hey thanks for raising this, <a href="https://discuss.streamlit.io/u/whitphx">@whitphx</a> - we‚Äôre discussing this!</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <meta itemprop="datePublished" content="2021-02-02T04:33:34Z">
              <time itemprop="dateModified" datetime="2021-02-02T04:51:49Z">
                February 2, 2021,  4:51am
              </time>
          <span itemprop="position">#12</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>Wow, it is working now on Sharing. Thank you, Streamlit team!<br>
<a href="https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py" target="_blank" rel="noopener nofollow ugc">https://share.streamlit.io/whitphx/streamlit-webrtc-example/main/app.py</a></p>
<p>The performance is much better than the sample hosted on Heroku <img src="https://sjc3.discourse-cdn.com/business7/images/emoji/google/laughing.png?v=9" title=":laughing:" alt=":laughing:"></p>
        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Very useful tool but is it possible to access for example rear camera of mobile phone with this library?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:17:17Z">
                February 5, 2021, 10:17am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:17:17Z">
          <span itemprop="position">#14</span>
          </span>
        </p></div>
        <p>Yes, you can choose the camera with the ‚ÄúSELECT DEVICE‚Äù button.</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          <p><span>
              <time itemprop="datePublished" datetime="2021-02-05T10:39:27Z">
                February 5, 2021, 10:39am
              </time>
              <meta itemprop="dateModified" content="2021-02-05T10:39:27Z">
          <span itemprop="position">#15</span>
          </span>
        </p></div>
        <div itemprop="articleBody">
          <p>I wrote a tutorial about how to use this library:</p>

        </div>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        
        <p>Is it possible to store frame by frame results through each iteration in a file like json for example?</p>

        <meta itemprop="headline" content="New Component: streamlit-webrtc, a new way to deal with real-time media streams">

        

         

      </div>
      <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
        <div>
          
          <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            <a itemprop="url" href="https://discuss.streamlit.io/u/whitphx"><span itemprop="name">whitphx</span></a>
            
          </span></p>


          </div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669">https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</a></em></p>]]>
            </description>
            <link>https://discuss.streamlit.io/t/new-component-streamlit-webrtc-a-new-way-to-deal-with-real-time-media-streams/8669</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130494</guid>
            <pubDate>Sun, 14 Feb 2021 08:01:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Women in Tech ‚Äì Dissecting the Gender Gap]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26130348">thread link</a>) | @allending
<br/>
February 13, 2021 | https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap | <a href="https://web.archive.org/web/*/https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
		<div id="primary">
			<main id="main" role="main">
<article id="post-680">
	<!-- HEADER: .header-content -->
	<!-- .header-content -->

	<!-- BODY: .entry-content -->
	<div>
		<p>The issue of gender disparities within the fields of Science, Technology,&nbsp;Engineering and Mathematics (STEM) is one that‚Äôs kept academics and feminists&nbsp;alike busy for centuries.</p>
<p>Since the emergence of such disciplines over the course of the 18th century,&nbsp;women have typically lagged behind their male counterparts in terms of&nbsp;representation; and considerable discourse has been sparked (as well as many&nbsp;the heated debate) so as to figure out <em>why.&nbsp;</em></p>

<h2><strong>The Gender-Equality Paradox in STEM&nbsp;</strong></h2>
<p>It‚Äôs certainly an interesting phenomenon to consider ‚Äî the concept that more&nbsp;progressive countries wherein you‚Äôd expect to find&nbsp;greater&nbsp;equality&nbsp;and thus an equal, if not larger, number of women working in STEM, the&nbsp;opposite is, in fact, occurring.</p>
<p>This was what was proposed by Gijsbert&nbsp;Stoet and David C. Geary, authors&nbsp;of the controversial 2018 study <a href="http://eprints.leedsbeckett.ac.uk/id/eprint/4753/6/symplectic-version.pdf" target="_blank" rel="noopener">‚ÄúThe Gender-Equality Paradox in Science, Technology, Engineering, and&nbsp;Mathematics Education‚Äù;</a>&nbsp;controversial because upon attempts by Harvard researchers to recreate the&nbsp;results produced by this study, they came up short.</p>
<p><span>In response, Stoet and Geary clarified in a </span><a href="https://journals.sagepub.com/doi/full/10.1177/0956797620904134">reply to said researchers at Harvard, published February 2020</a><span>&nbsp;that ‚Äúmen are more likely than women to enter STEM careers because of&nbsp;endogenous interest‚Äù, marking a shift from their original&nbsp;hypothesis.&nbsp;</span></p>
<p>It begs the question: Is it simply a matter of interest? That women, because&nbsp;of their more nurturing and caring tendencies, opt for occupations&nbsp;characterised by providing aid (a notable example being nursing, a primarily&nbsp;female-dominated profession worldwide), whereas men, <a href="http://pdfs.semanticscholar.org/47af/4a7e87267aba681fb6971590ec80effce0c3.pdf" target="_blank" rel="noopener">who express stronger inclinations towards working with things rather than&nbsp;people</a>, dominate careers within the fields of mathematics and engineering?</p>
<p>Or is it indeed deep-rooted in inequality and gender discrimination? Do women&nbsp;exhibit lower levels of interest in STEM degrees not simply because of innate&nbsp;predispositions, but because they are discouraged, either actively or&nbsp;subliminally, from pursuing them at a young age?</p>
<p><span>This is, arguably, where much of the debate stems from. And perhaps there&nbsp;is no right or wrong answer. Nevertheless, open discussions and constructive&nbsp;conversations with those holding differing perspectives can only serve to&nbsp;help advance existing knowledge on the issue.&nbsp;</span></p>
<h2><strong>So Why the Underrepresentation?&nbsp;</strong></h2>
<p>According to&nbsp;<a href="https://unesdoc.unesco.org/ark:/48223/pf0000253479">this text</a>&nbsp;published by the United Nations Educational, Scientific and Cultural&nbsp;Organisation (UNESCO), ‚Äúdiscrimination, biases, social norms and expectations&nbsp;that influence the quality of education women receive and the subjects they&nbsp;study‚Äù are reasons cited as to blame for gender disparity in STEM.</p>
<p>However, some may argue that it‚Äôs not patriarchal barriers keeping women out&nbsp;of STEM as the above work by UNESCO might suggest, but rather the biological&nbsp;reality that women are hard-wired differently to men, and vice versa.</p>
<p>It‚Äôs not a concept unfamiliar to many ‚Äî the psychological and behavioural&nbsp;differences between men and women has long been an area that‚Äôs generated&nbsp;substantial interest in popular culture.&nbsp;You might have even heard the&nbsp;saying ‚ÄúMen Are from Mars, Women Are from Venus‚Äù. This metaphor, coined by the&nbsp;eponymously titled book, was authored by American relationship counsellor John&nbsp;Gray, and has sold millions worldwide.</p>
<p>Although the views expressed within it are now widely considered to be&nbsp;outdated (having been&nbsp;originally published in 1992), in essence, one of&nbsp;the central points Gray highlights is this ‚Äî that women tend to think&nbsp;emotionally, whilst men tend to think logically.</p>
<p>Though many may decry this notion (as well as the book altogether),&nbsp;criticising it for stereotyping human psychology, some may also consider it&nbsp;na√Øve to believe men and women are truly wired the same ‚Äî that there do,&nbsp;indeed, exist inherent and fundamental differences in the psychology of the&nbsp;sexes.</p>
<p>And it‚Äôs this belief that lends itself to the explanation of why certain&nbsp;professions are predominantly female, whilst others remain predominately male.</p>
<p>Yet, it could be considered <em>just</em> as na√Øve to believe we live in an&nbsp;ideal world where the barriers that, for <em>centuries</em>, held women back&nbsp;from achieving equality have been completely eliminated.&nbsp;Society has&nbsp;certainly come a long way in advancing women‚Äôs rights and shedding&nbsp;stereotypical notions of gender roles, but to act like women no longer&nbsp;experience discrimination of any kind on the basis of their gender, even in&nbsp;our modern-day 21st century, may be a dire mistake.</p>
<h2><strong>The Wider Gender Gap Context</strong></h2>
<p>According to the Global Gender Gap Report, annually published by the World&nbsp;Economic Forum, the Global Gender Gap Index (GGGI) is one that measures gender&nbsp;equality through&nbsp;‚Äúbenchmark[ing] national gender gaps on economic,&nbsp;education, health and political criteria‚Äù.</p>
<p>The most recent&nbsp;<a href="http://www3.weforum.org/docs/WEF_GGGR_2020.pdf" target="_blank" rel="noopener">2020 edition of the report</a>&nbsp;ranked Malaysia as 104th amongst 153 countries overall, and 86th within the&nbsp;subindex of Educational Attainment ‚Äî one of four subindexes, with the other&nbsp;three being Economic Participation, Health and Survival and Political&nbsp;Empowerment.</p>
<p>Despite what may seem like average rankings for Malaysia, you might be pleased&nbsp;to know that though the computer industry is one typically dominated by men,&nbsp;this isn‚Äôt the case in Malaysia, where women comprise over 50% of employees&nbsp;within the field. Additionally, as of 2011, women held 49% of research&nbsp;positions in the sciences, technologies and innovations; a pretty much 50/50&nbsp;split.</p>
<h2><strong>What‚Äôs Being Done About It?</strong></h2>
<p>There exists a plethora of resources and workshops hosted by organisations,&nbsp;both globally and within Malaysia, dedicated to inspiring young women to&nbsp;pursue their passions within STEM industries.</p>
<p>One such example is&nbsp;<a href="https://women-in-tech.org/" target="_blank" rel="noopener">Women in Tech,</a> a global movement with members spanning across 100+ countries, whose&nbsp;objectives revolve around the empowerment of women with the confidence and&nbsp;skills needed to excel in STEM fields.</p>
<h2><strong>We‚Äôd Love to Hear From You</strong></h2>
<p>Here at Snappymob, we‚Äôre in the people business ‚Äî we take pride in the quality&nbsp;of our work, and stop at nothing to ensure the satisfaction of our clients.</p>
<p>That is why we believe in placing less of a focus on job titles, and more on&nbsp;providing the flexibility needed for people to find where their talents might&nbsp;best be utilised; wherever that may be.</p>
<p>Interested in being part of the team? Click <a href="https://my.wobbjobs.com/users/companies/snappymob" rel="noopener">here</a> to see our open positions or drop us an email at&nbsp;<a href="mailto:careers@snappymob.com"><span>careers@snappymob.com</span></a>!</p>
		<!-- Contact us CTA -->
		
		<!-- Post category tags-->
		<p><label>
				App Discussions			</label>
		</p>
		<!-- Social share -->
		
	</div><!-- .entry-content -->

	<!-- Disable meta footer --> 
	<!-- 	<footer class="entry-footer default-max-width">
</footer> -->
	<!-- .entry-footer -->

	<!-- Disable author detail -->
	<!-- -->
</article><!-- #post-${ID} -->
			</main><!-- #main -->
		</div><!-- #primary -->
	</div><div>
	  <div>
		
		<p>
			We understand that every project is unique. Contact us and we will get
			back to you with the next steps.
		  </p>
		
	  </div>
	</div></div>]]>
            </description>
            <link>https://blog.snappymob.com/women-in-tech-dissecting-the-gender-gap</link>
            <guid isPermaLink="false">hacker-news-small-sites-26130348</guid>
            <pubDate>Sun, 14 Feb 2021 07:16:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Day 401: But will it make money?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129841">thread link</a>) | @curmudgeon22
<br/>
February 13, 2021 | https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3 | <a href="https://web.archive.org/web/*/https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://roadtoramen.com/Day-401-But-will-it-make-money-2c57af92f8b34dccadc3cd5c75949fd3</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129841</guid>
            <pubDate>Sun, 14 Feb 2021 05:02:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cereals, feasts and monuments at G√∂bekli Tepe (2019)]]>
            </title>
            <description>
<![CDATA[
Score 54 | Comments 3 (<a href="https://news.ycombinator.com/item?id=26129693">thread link</a>) | @benbreen
<br/>
February 13, 2021 | https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/ | <a href="https://web.archive.org/web/*/https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	
		<p>We were asked in comments and messages to elaborate some more on the contents of our recent paper. So here is a short summary of the article recently published in PLoS ONE. For more information on the findings outlined here, please consult the original publication:</p>
<p><em>Dietrich L, Meister J, Dietrich O, Notroff J, Kiep J, Heeb J, et al. (2019) Cereal processing at Early Neolithic G√∂bekli Tepe, southeastern Turkey. PLoS ONE 14(5):</em> e0215214. <a href="https://doi.org/10.1371/journal.pone.0215214">https://doi.org/10.1371/journal.pone.0215214</a></p>
<p>Cereal food is one of the most important components of our modern diet. Its integration into human subsistence strategy during the late Epipalaeolithic (c. 12500‚Äì9600 cal BC) and Pre-Pottery Neolithic (PPN, c. 9600‚Äì7000 cal BC) has been recognized as a very long and complex process involving the selection and utilization of plants, strategies of exploitation of plants and land, the development of cultivation, and ways of processing, storing, and consuming plants. Widespread adoption of farming and agriculture at the end of the Pre-Pottery Neolithic (PPNB, c. 8800‚Äì7000 cal BC), the deliberate, large-scale cultivation of domesticated cereals and other plants, was predated by a longer period of experimentation and technological modification leading to the development of specialized tool kits for plant-food processing. Typical implements are e.g. pounding and grinding tools used in pairs, comprising a static low implement (mortar, grinding slab or grinding bowl) and an active upper tool that is moved across its surface (pestle or handstone).</p>
<p><strong>Cereal use in the Early Neolithic</strong><br>
The regular processing of wild cereals through grinding seems to have been established first in the Late Natufian, as suggested by macrobotanical evidence as well as by morphological changes in grinding stones combined with use-wear analyses. Flat, large grinding stones and handstones became a supra-regional standard during the Levantine PPN, constituting an integral part of the architecture. Recent investigations have highlighted the area between the upper reaches of Euphrates and Tigris as one region where the transition to food-producing subsistence took place early during the Epipalaeolithic and the Pre-Pottery Neolithic. The distribution areas of the wild forms of einkorn, emmer wheat, barley and other ‚ÄòNeolithic founder crops‚Äô overlap here and DNA fingerprinting has pinpointed the transition of two wild wheat variants to domesticated crops to this part of the Fertile Crescent. Systematic early plant use has been found at a variety of sites, like Cafer H√∂y√ºk, √áay√∂n√º, Hallan √áemi, Jerf el Ahmar or K√∂rtik Tepe.<br>
G√∂bekli Tepe has not played any role in discussions of early cereal use so far. The reasons can be found ‚Äì at least in part ‚Äì in the problematic nature of direct evidence for cereals on site. Although analysis of macrobotanical remains indicates the presence of wild einkorn (Triticum cf. boeticum/urartu), wild barley (Hordeum cf. spontaneum) and possibly wild wheat/rye (Triticum/Secale), as well as almonds (Prunus sp.) and pistachio (Pistacia sp.) at G√∂bekli Tepe, only a conspicuously low amount of carbonized plant remains has been recovered, both in handpicked and in flotation samples.</p>
<div id="attachment_7549"><p><img aria-describedby="caption-attachment-7549" loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png" alt="journal.pone.0215214.g007" width="676" height="932" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-743x1024.png 743w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-580x800.png 580w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1306x1800.png 1306w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-768x1058.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1115x1536.png 1115w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-1486x2048.png 1486w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007-676x932.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g007.png 1650w" sizes="(max-width: 676px) 100vw, 676px"></p><p id="caption-attachment-7549">Grinding tools from G√∂bekli Tepe. (A), (C) Neolithic handstones of type 1; (B) Neolithic handstone of type 2; (D) Experimental handstone of type 1, produced as copy of (C); (E, F) Neolithic grinding bowls (German Archaeological Institute, 3D-models H. H√∂hler-Brockmann and N. Sch√§kel).</p></div>
<p>However, G√∂bekli Tepe has not only produced an impressive set of architecture ‚Äì monumental round to oval buildings with T-shaped limestone pillars, erected in an earlier phase, and smaller rectangular buildings, built around them in a partially contemporaneous and later phase ‚Äì but also a unusually large number of over 7000 grinding tools. We analyzed these tools using an integrated approach of formal, experimental, and macro- / microscopical use-wear analyses.</p>
<p><strong>G√∂bekli Tepe</strong><br>
As a first step in our analysis we had to determine the functional variation of these grinding tools, as a wide range of uses is attested archaeologically and ethnographically, ranging from cereal processing to pounding of meat or crushing of minerals. Grinding and pounding equipment from G√∂bekli Tepe was documented through 3D-modelling by structure from motion, and surfaces were macro- and microscopically analyzed for use-wear. We used replicas of the equipment identified on site to experimentally grind different materials and establish a reference collection for the identification of the observed traces. Further, phytolith samples taken from the sediments inside and outside buildings at G√∂bekli Tepe and from grinding stone surfaces allowed us to determine and quantify the presence of plants. Phytoliths were abundant in all nine soil samples examined, ranging from 0.5 to 3.0 million phytoliths per gram of sediment. Grass phytoliths were the most common group identified. The sediments inside the rectangular buildings largely contain markers for the upper and middle part of plants. This could be indicative of harvested cereals, as plants are usually collected and transported in sheaves. To contextualize the results, we assessed the spatial distribution of grinding equipment and identified potential activity areas.</p>
<p><img loading="lazy" src="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png" alt="journal.pone.0215214.g010" width="1614" height="1852" srcset="https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010.png 1614w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-697x800.png 697w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1569x1800.png 1569w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-768x881.png 768w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-1339x1536.png 1339w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-676x776.png 676w, https://www.dainst.blog/the-tepe-telegrams/wp-content/uploads/sites/8/2019/05/journal.pone_.0215214.g010-892x1024.png 892w" sizes="(max-width: 1614px) 100vw, 1614px"></p>
<p>We found that the most common types of handstones used at G√∂bekli Tepe show use-wear traces connected to cereal processing. Handstones with such traces concentrate in some of the rectangular buildings, but even more so in open spaces between and around them and the (at least partly) contemporary monumental round structures.<br>
Building D was taken as a case study to asses grinding stone use within the latter. There, grinding equipment from the deepest layer, which appears to be connected to the partially intentional refilling of the structure, also shows traces of ochre, indicating its processing in this structure.<br>
The overall quantity of 7268 analyzed grinding tools from G√∂bekli Tepe appears to be too high for simple daily use, given their relatively high productivity. A single handstone of the most common types could have produced an average of 4800 g flour within eight working hours, as our experiments show. If we assume that one person needs between 500 g and 1000 g of cereals daily as nutrients for survival, this amount would be enough to feed five to ten people.</p>
<p><strong>Interpretation</strong><br>
The organization of work and food supply has always been a central question of research into G√∂bekli Tepe, as the construction and maintenance of the monumental architecture would have necessitated a considerable work force. G√∂bekli Tepe has a high concentration of distinctive architecture, often addressed as ‚Äòspecial buildings‚Äô, which do not repeat the characteristic plans of domestic buildings from contemporaneous settlements. Extensively excavated settlement sites like Nevalƒ± √áori or √áay√∂n√º have one ‚Äòspecial building‚Äô per settlement phase, while G√∂bekli Tepe has several, likely contemporary buildings of this type, which different groups of people likely used. For the buildings excavated so far, we have observed certain regularities governing the decoration of the 69 known pillars‚Äìmostly with animal motifs, but also with abstract signs. While in building A snake images prevail, in building B foxes are dominant. In building C boar take over, and in building D the imagery is more diverse with birds, especially vultures, playing a significant role. In building H felines are of importance. We see these differences in figurative expression as evidence for different groups of people ornamenting the buildings with the emblematic animals central to their group identities. The site has also produced a wide range of stationary and portable art, far outnumbering such finds from other contemporary sites. Many of the animal and human depictions are clearly marked as male, there are almost no clearly recognizable female depictions, a situation contrary to the materials known from settlements.<br>
At the same time, G√∂bekli Tepe¬¥s remote location on a barren mountain ridge is very unusual compared to the setting of contemporaneous Neolithic settlements, which are regularly located next to water sources. The construction of monumental architecture at G√∂bekli Tepe, and other similar sites in its vicinity, would have necessitated a workforce of hundreds of people even by conservative estimates. One model to explain cooperation in small-scale communities involves ritualized work feasts. M. Dietler and E. Herbich define work feasts as events in which ‚Äúcommensal hospitality is used to orchestrate voluntary collective labour,‚Äù the incentive to work together is provided by the prospect of large amounts of food and drink. The main archaeological marker for feasting would be evidence of the presence of larger amounts of foodstuffs and tools than needed by the inhabitants of a site for their subsistence. Through our analysis, we have identified evidence for G√∂bekli Tepe that fits that pattern for plant food. As no large storage facilities have been identified, we argue for a production of food for immediate consumption and interpret these seasonal peaks in activity at the site as evidence for the organization of large work feasts. This adds to archaeozoological data suggesting large-scale hunting of migratory gazelle between midsummer and autumn.</p>
							
	</div></div>]]>
            </description>
            <link>https://www.dainst.blog/the-tepe-telegrams/2019/05/09/cereals-feasts-and-monuments-at-gobekli-tepe/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129693</guid>
            <pubDate>Sun, 14 Feb 2021 04:29:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On navigating a large codebase]]>
            </title>
            <description>
<![CDATA[
Score 270 | Comments 132 (<a href="https://news.ycombinator.com/item?id=26129190">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/ | <a href="https://web.archive.org/web/*/https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A while ago, I‚Äôve been working on a very large codebase that consisted of a few million lines of code.
Large systems are usually a big mess and this one was no exception.
Since this is a rather common problem in software engineering, I thought the internet would be
littered with stories about this topic.
There is a lot of talk about software carpentry, while software maintenance is rarely debated.
Either large programs are being maintained by dark matter developers or
nobody thinks that writing stories about large systems are interesting enough.</p><p>In the past I‚Äôve encountered a few of those large monsters and they seem to have a lot in common.
This article will try to present some of the problems and tricks that I am using when
I have to deal with them. Hopefully this will inspire others to write similar posts
and share tips from their own bag of tricks.</p><h2 id="large-codebase-problems">Large codebase problems</h2><p>The main problem of any large codebase is the extreme complexity that stems from the fact
that we live in a messy world of details that are very hard to describe and put into words.
The programming languages that we are using nowadays are still too primitive for that task,
and it takes a lot of lines and various layers of abstractions before we are able to convey the
rules of our world to the all mighty computer [1].</p><p>The following sections will present some of the common problems which I‚Äôve discovered during my
big system adventures.</p><p>A common trait of a large codebases is that at some point they become so large and bloated
that one person alone is no longer capable of understanding all its pieces. It seems to
me that after 100‚Äô000 lines of code, the maintenance related problems start to appear
as the complexity of the code simply dwarfs the capabilities of the human brain.
Such large systems are commonly maintained by more than one person, but with a large
group of people also come large organizational problems.</p><p>Within a large group of people the number of possible communication paths between them go bananas
and so it often happens that the ass no longer knows what the head is doing.
This misunderstanding in turn cause them to build the wrong thing that doesn‚Äôt fit
into the rest of the system. You might also know this situation under the term of
‚Äúthose people had no idea what they were doing, and we will do it right this time‚Äù which is
quite often floating around in the latest maintenance team.</p><p>That rarely happens though, because it‚Äôs likely the Towel of Babel situation all over again.</p><h3 id="loss-of-knowledge">Loss of knowledge</h3><p>Large systems are usually maintained by the ones who did not build them. Initial
developers often leave the company or move up in the pecking order to
work on other projects and are therefore no longer familiar with the system.
Sometimes the bright minds outsourced the initial development of the project
in the name of lowering the costs, just to pay tenfold in the later stages once they realize
the outsourcers developed the wrong thing. Even worse is the fact that the in house developers
didn‚Äôt gain the internal domain knowledge that is necessary for further maintenance of the system.</p><p>This presents a big problem for the new maintainers, as they can‚Äôt just go
around the company and ask the original developers about the initial design decisions.
Learning this tribal knowledge usually takes a lot of time, because the code is harder to read and
understand than it is to write. These days most developers seem to switch jobs every 2 to 3 years,
therefore the learning process has to be constantly going on, otherwise you might end up
with a large and expensive monster that nobody knows anything about [2].
For most of the past large projects on which I‚Äôve been working on, the team has usually
changed by the end of the first version.</p><p>Rigorously documenting every step is not the cure for this problem, because at some point all that
junk will become outdated and nobody will have the time to spend a year just reading the
documentation and figuring out how the pieces fit together [3].</p><h3 id="lack-of-knowledge">Lack of knowledge</h3><p>Large systems become large, because they are usually trying to solve every problem under the sun.
Often the organization that is embarking on such journey does not have enough experienced
employees on board to actually pull it off. Some like to say that pressure makes diamonds,
but sometimes it also crushes the things that are under.</p><p>It‚Äôs fine to have less experienced people working on a large system as long as they have the elders
overseeing their work. In the world where senior titles are handed left and right,
that is often not the case and it‚Äôs how you end up with a very fragile system that is suitable for
a replacement as soon as it was built. Most of the larger projects that I was working on and
were considered successes, had the core parts of the system written by experienced
developers. A significant chunks were also built by greenhorns, but they were usually
guided and their blast radius was limited to the less complex parts of the system.</p><h3 id="the-astronauts">The astronauts</h3><p>Big projects tend to attract the data modelers and other cultists who like to
get in the way of getting shit done. These architecture astronauts will endlessly
discuss the finer points of their UML data models and multithreaded layers of abstraction,
that will one day allow them to be the heroes of their own story by writing some well
encapsulated and ‚ÄúSOLID‚Äù code.</p><blockquote><p>Why IBM sales reps don‚Äôt have children?</p><p>Because all they do is sit on the bed telling their spouses how great it‚Äôs going to be.</p></blockquote><p>Meanwhile, the for loopers have to fight this creeping metadata bureaucracy
madness on a daily basis. The tools handed down to them from the ivory tower usually don‚Äôt stand
the heat of the battle, but that doesn‚Äôt bother the modelers who will try to fix
the problems with more obfuscation patterns. It‚Äôs how you end with a homebrewed middleware monstrosity,
because the 100 existing ones out there are obviously not up to the task of powering our little CRUD app.</p><h3 id="documentation-problems">Documentation problems</h3><blockquote><p>I like to keep documentation separated from the code. Who am I?</p><p>A fool, with an out of sync document.</p></blockquote><p>The documentation of any large system is almost always outdated.
The code is usually changing faster due to the endless edge cases of the system
that were not being thought of early on. The discovered edge case problems are
usually fixed by bolting additional functionality right on the spot.
The average code change of such patch is usually quite small,
but a few tweaks here and there accumulate over time until the original design no
longer matches with the reality.</p><p>Tweaking the code is usually simple as most people are familiar with the process. You pull the
code from the version control, you make your tweaks and then you push it back.
On the other hand updating the documentation is way more convoluted and usually involves the
whole ceremony, because the term documentation is actually a spaghetti of Word documents,
pdfs, spreadsheets, emails, wiki pages and some text files on some dude‚Äôs hard drive.</p><p>The corporate world still loves to use MS Word for writing technical documents, even though
it‚Äôs entirely unusable for this use case. The Word doesn‚Äôt support syntax highlighting for
code snippets and you get to play the game of ‚Äúmoving one image for 5 pixels to the
left will mess with your headings and right align all text.‚Äù
It also makes it very hard to have multiple people collaborating on the same document.
The version control still treats Word documents in the same way as binary blobs,
which makes merging changes and fixing merge conflicts far harder than it should be.
I still remember how people collaborated by working each on their own copy of the
document and having a documentation officer merging all the copies together
manually to avoid any merge conflicts. Fun times.</p><p>If you are lucky, you might be writing documentation in plain text, but then you may have to
get familiar with all kinds of weird Lovecraftian toolchains that are relying on
all sorts of ancient operating system specifics in order to produce a nicer looking document.</p><p>After all these years of progress, writing documentation is still an unpleasant process
due to all the pain surrounding the tools that we have to deal with on a daily basis.
Large projects ensure that not only is the documentation hard to write, it‚Äôs also
impossible to find and read due to the sheer number of documents [4].</p><h2 id="tackling-the-beast">Tackling the beast</h2><p>In this section I will describe my ways of tackling the problems of an unknown large codebase
that I often encounter in the wild.
As mentioned before, the main problem of large systems is that nobody can understand them
entirely and often you will be left wondering how the damn thing even works.</p><p>When you are trying to understand a specific part of a large system, it‚Äôs worth
taking the time to talk to the current maintainers. They usually know it well enough
to guide you through the jungle, so you can avoid the traps and get up to speed faster.
Sometimes you will encounter a situation where you will just have to figure it
out on your own, because nobody will have the answers to your questions.</p><p>Hopefully the following sections might give you some ideas on how to tackle such
situations.</p><h3 id="read-the-documentation">Read the documentation</h3><p>The easiest way to get familiar with a large system, is by going through its documentation and
actually reading it. Large systems usually contain
large swaths of outdated documentation, but even a slightly outdated document is
often better than not having it at all. Ask the elders about the current state of documentation,
so you don‚Äôt completely waste your time with deciphering the irrelevant documents.</p><p>Either way, the documentation will only give you an overview of the system. The details
behind design decisions are almost never mentioned and you will have to find another way.</p><h3 id="check-the-tests">Check the tests</h3><p>When I am trying to decipher how a specific part of the system is supposed to behave,
I usually check for tests. If they exist, you might want to scroll through them and hopefully
you will get another ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/">https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</a></em></p>]]>
            </description>
            <link>https://blog.royalsloth.eu/posts/on-navigating-a-large-codebase/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129190</guid>
            <pubDate>Sun, 14 Feb 2021 02:41:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is the American tech worker obsolete? (2003)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129182">thread link</a>) | @mooreds
<br/>
February 13, 2021 | https://www.mooreds.com/wordpress/archives/47 | <a href="https://web.archive.org/web/*/https://www.mooreds.com/wordpress/archives/47">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
     <div>      
 		<p>I‚Äôve been doing some thinking about offshoring recently.  For those of you not in the IT industry, ‚Äòoffshoring‚Äô is jargon for outsourcing of white collar jobs to developing countries like India and China.  There‚Äôs been a lot of talk about this phenomenon: Salon (<a href="http://www.salon.com/tech/feature/2003/07/02/outsourcing/index.html">1</a> and <a href="http://www.salon.com/tech/feature/2003/12/17/chiruvolu/index.html">2</a>), <a href="http://www.economist.com/business/displayStory.cfm?story_id=2282381">The Economist</a> [sorry, it‚Äôs a pay article], <a href="http://www.infoworld.com/article/03/12/19/HNoutsourcingus_1.html">InfoWorld</a>, and <a href="http://rss.com.com/2010-1022_3-5121783.html">CNET News.com</a> have all commented recently.  In addition to reading these articles and others like them, I‚Äôve also talked to folks in the software industry, as well as friends who work in aerospace and packaged good manufacturing industries.  And I‚Äôve come to the conclusion that a certain amount of offshoring is inevitable, since the labor cost differential is so great.</p>
<p>However, like any other business fad (or any fad, for that matter), there are external costs that haven‚Äôt simply are not fully understood.  Among these are </p>
<p>1.  Loss of customers<br>
The constant mantra of folks who are trying to tell IT workers how to adjust to losing their jobs is ‚Äòretrain, retrain‚Äô.  But retrain for what? What job isn‚Äôt offshorable?  Nursing is the only one that comes to mind.  If allvirtualizable (i.e. can be done without face time) service jobs where there is a price differential get pushed overseas, that‚Äôs millions of jobs lost.  The American economy has been the engine for most of the world‚Äôs growth over the last 10 years, sucking up exports from other countries to the tune of billions of dollars.  What happens when the consumers of the USA don‚Äôt spend money, either because they are out of a job, or afraid of losing their job soon?  It takes a visionary like <a href="http://web.bryant.edu/~history/h364proj/summ_99/armoush/page3.html">Henry Ford</a> to realize that if you grow the amount of folks who can buy your products, you grow your business. </p>
<p>2.  Loss of future business leaders<br>
If you export big chunks of your IT department, perhaps keeping only senior folks who can help manage external projects, then you win in the short run.  However, eventually those folks will retire (ask NASA).  And if you haven‚Äôt brought any entry level talent in, where will you go to replace these needed folks?</p>
<p>3. Difficulty of managing far flung teams from different cultures<br>
This is difficult in two ways.  One is the logistical aspect.  If you want a teleconference, you have to adjust either your schedule or theirs.  And if the country is on the opposite side of the globe, possibly both folks need to be in the office at an awkward time.  The second difficulty is related to quality.  Just as the Japanese products in the 50s and 60s were thought cheap and low quality, <em>some</em> of the work done overseas today is a lower standard than expected.  This is true of all software of course, but it‚Äôs harder to control the quality when you write a spec and throw it over the wall.</p>
<p>In short, offshoring is in its infancy.  More of it is coming down the line, but, as the hidden costs are discovered, the benefits of local teams will come back into focus.  I can do much of my consulting work from my house, yet I still find that most companies want me to come into their office.  Why?  To some extent it‚Äôs control (should be careful not to <a href="http://www.michaelhanscom.com/eclecticism/2003/10/of_blogging_and.html">blog my way out of a job</a> here), but it also is because communication, in each direction, is easier with someone who‚Äôs on site.  There‚Äôs extra effort expended in any kind of virtual communication.  And by meeting me, the customer and I build a relationship, which is perhaps more important for trust in business than anything else.</p>
<p>I also want to address <a href="http://juntao.blog-city.com/read/407253.htm">Michael Yuan‚Äôs comments</a>: </p>
<p><em>‚Äú3. Coding is a dying profession in the long run. If the jobs have not been outsourced to developing countries, the new generation of model-focused automatic code generation tools will eliminate the need for basic coders anyway. The jobs that have a future are system designing and architecting (the real engineering jobs). I think the ability to design end-to-end systems using whatever tools available is an important skill for the future.‚Äù</em></p>
<p>I‚Äôve commented enough, I hope on, the idea that all coding work will or should be outsourced to developing countries.  But I think that the idea that ‚Äòthe need for basic coders‚Äô will be eliminated due to improvements in ‚Äòautomatic code generation tools‚Äô is foolish for a number of reasons.</p>
<p>1.  If you don‚Äôt understand basic coding on a system, when the automatic tool doesn‚Äôt do what you need it to, the <a> means you‚Äôre screwed.  Basic coding is not something you can pick up at school‚Äìyou need to be out in the real world, working on crufty systems that are too expensive to change and older than dirt, to really appreciate what automatic tools can and cannot do, and what systems can and cannot do.  In addition, easier code generation means more code out there, not less.  And, easier code generation means more code out there.  And, the easier the code is to generate, a la </a><a href="http://msdn.microsoft.com/vbasic/">Visual Basic</a>, the more likely the person doing the generation won‚Äôt get it right, or won‚Äôt document it, or won‚Äôt understand why there‚Äôs certain behavior exhibited.  In this case, someone who has a deep, visceral understanding of the system and language will be called in. </p>
<p>2.  Yuan talks about architecture and system design being the ‚Äòreal engineering jobs.‚Äô  I‚Äôll agree that those are more stimulating and challenging than coding, and also have a higher value add.  But again, how many folks are system architects right out of school?  I certainly wouldn‚Äôt want to work on a project that had been designed by someone with exactly 0 years of real world experience.  If you abolish entry level positions, you eat your seed corn, as I mention in my comments about offshoring above.</p>
<p>3.  <a href="http://www.virtualschool.edu/mon/SoftwareEngineering/BrooksNoSilverBullet.html">There is no silver bullet.</a>  The hard part isn‚Äôt writing the software, it‚Äôs determining what software needs to be written.</p>
<p>4.  Someone‚Äôs got to write the tools.  I remember an old science fiction story, by Isaac Asimov I think, about a world of taped learning.  You took a test at 18 that determined what your skills were, and then you listened to a set of tapes that taught you all you needed to know.  The protagonist was distraught because the test just didn‚Äôt seem to fit him‚Äìhe was outcast and ridiculed for not knowing his profession.  Of course it turned out that the folks that couldn‚Äôt be tape educated were exactly the folks who were able to write the tapes.  Someone‚Äôs got to write the tools. (I don‚Äôt pretend, however, that anywhere near the same number of folks are needed to write tools as to use them.)</p>
<p>Michael and others are certainly correct that things are going to change in the software world.  It‚Äôs not going to be possible to just know a language‚Äìyou have to be <a href="http://www.infoworld.com/article/03/12/19/HNcareeroutsourcing_1.html">involved in the business</a> and maintain relationships.  But change is nothing new for IT workers, right? </p>
<p>In short, it appears that Neal Stephenson was correct.  I leave you with an excerpt from <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0553380958/103-6520223-4995815?v=glance">Snow Crash</a>:</p>
<p>‚ÄúWhen it gets down to it‚Äìtalking trade balances here‚Äìonce we‚Äôve brain-drained all our technology into other countries, once things have evened out, they‚Äôre making cars in Bolivia and microwave ovens in Tadzhikistan and selling them here‚Äìonce our edge in natural resources has been made irrelevant by giant Hong Kong ships and dirigibles that can ship North Dakota all the way to New Zealand for a nickel‚Äìonce the Invisible Hand has take all those historical inequities and smeared them out into a broad global layer of what a Pakistani brickmaker would consider to be prosperity‚Äìy‚Äôknow what?  There‚Äôs only four things we [America] do better than anyone else</p>
<p>music<br>
movies<br>
microcode (software)<br>
high-speed pizza delivery‚Äù</p>
<p>And none of the four above are guaranteed (except perhaps the high-speed pizza delivery).</p>
<p>Happy New Year.</p>
		              </div>
    </div></div>]]>
            </description>
            <link>https://www.mooreds.com/wordpress/archives/47</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129182</guid>
            <pubDate>Sun, 14 Feb 2021 02:39:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting up a Better REPL]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129179">thread link</a>) | @downvotemore
<br/>
February 13, 2021 | https://mikeloomisgg.github.io/2019-04-10-set-up-repl/ | <a href="https://web.archive.org/web/*/https://mikeloomisgg.github.io/2019-04-10-set-up-repl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-set-up-repl" class="page" role="article"><header><p> <time datetime="2019-04-10T00:00:00+00:00">10 Apr 2019</time> on <a href="https://mikeloomisgg.github.io/tag/cpp/">c++</a>, <a href="https://mikeloomisgg.github.io/tag/database/">Databases</a></p></header><p>One of the very common criticisms of c++ is that it is very complicated. I saw someone on a programming stream yesterday claim that they prefer raw c because it feels more <em>intuitive</em>. To me, this just seems out of touch with reality. Lets look at the simplest REPL, from <a href="https://cstack.github.io/db_tutorial/parts/part1.html">part 1</a> of the cstack database from scratch series. I think by the end anyone would agree with me that the c++ version of this code is better in every way to its c counterpart.</p><p>What we are creating here, REPL for short, is a very common introductory tool for someone just getting used to working with a SQL database. It allows a beginner user to interact with the database line by line, discovering how SQL works through tinkering with the language. Many of these REPL shells are also used in scripting languages, and its the default mode that python starts in if you pass it no arguments.</p><p>In this part, we are just looking at the simplest REPL ever, which just prompts the user with some context in the terminal, and allows lines of input to be evaluated. The only command we are evaluating for now is just the SQL .exit metacommand. Any other commands passed to our program are unrecognized. Here is the c version:</p><div><div><pre><code><span>#include &lt;stdbool.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
</span>
<span>struct</span> <span>InputBuffer_t</span> <span>{</span>
  <span>char</span><span>*</span> <span>buffer</span><span>;</span>
  <span>size_t</span> <span>buffer_length</span><span>;</span>
  <span>ssize_t</span> <span>input_length</span><span>;</span>
<span>};</span>
<span>typedef</span> <span>struct</span> <span>InputBuffer_t</span> <span>InputBuffer</span><span>;</span>

<span>InputBuffer</span><span>*</span> <span>new_input_buffer</span><span>()</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>malloc</span><span>(</span><span>sizeof</span><span>(</span><span>InputBuffer</span><span>));</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span> <span>=</span> <span>NULL</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer_length</span> <span>=</span> <span>0</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>0</span><span>;</span>

  <span>return</span> <span>input_buffer</span><span>;</span>
<span>}</span>

<span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>

<span>void</span> <span>read_input</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
  <span>ssize_t</span> <span>bytes_read</span> <span>=</span>
      <span>getline</span><span>(</span><span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>),</span> <span>&amp;</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer_length</span><span>),</span> <span>stdin</span><span>);</span>

  <span>if</span> <span>(</span><span>bytes_read</span> <span>&lt;=</span> <span>0</span><span>)</span> <span>{</span>
    <span>printf</span><span>(</span><span>"Error reading input</span><span>\n</span><span>"</span><span>);</span>
    <span>exit</span><span>(</span><span>EXIT_FAILURE</span><span>);</span>
  <span>}</span>

  <span>// Ignore trailing newline
</span>  <span>input_buffer</span><span>-&gt;</span><span>input_length</span> <span>=</span> <span>bytes_read</span> <span>-</span> <span>1</span><span>;</span>
  <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>[</span><span>bytes_read</span> <span>-</span> <span>1</span><span>]</span> <span>=</span> <span>0</span><span>;</span>
<span>}</span>

<span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>

<span>int</span> <span>main</span><span>(</span><span>int</span> <span>argc</span><span>,</span> <span>char</span><span>*</span> <span>argv</span><span>[])</span> <span>{</span>
  <span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>print_prompt</span><span>();</span>
    <span>read_input</span><span>(</span><span>input_buffer</span><span>);</span>

    <span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span> <span>{</span>
      <span>close_input_buffer</span><span>(</span><span>input_buffer</span><span>);</span>
      <span>exit</span><span>(</span><span>EXIT_SUCCESS</span><span>);</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>printf</span><span>(</span><span>"Unrecognized command '%s'.</span><span>\n</span><span>"</span><span>,</span> <span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Here‚Äôs a whole mess of things that a modern Rust or C++ developer cringe at.</p><ul><li>Using malloc to allocate memory for an input buffer</li><li>Using a strcmp free function to deep compare equality of raw buffers.</li><li>Manually freeing the memory allocated for the input buffer after we‚Äôre done.</li></ul><p>This isn‚Äôt fast, and it isn‚Äôt intuitive. Its also 56 lines of code with a large amount of boilerplate code for handling memory allocation.</p><p>Lets break this down into a much simpler and more intuitive c++ alternative step by step.</p><div><div><pre><code><span>//Replace this input buffer pointer with a std::string
</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span> <span>=</span> <span>new_input_buffer</span><span>();</span>
</code></pre></div></div><div><div><pre><code><span>// Our single line prompt function doesn't need to call an external free function
// Get rid of the free function 
</span><span>void</span> <span>print_prompt</span><span>()</span> <span>{</span> <span>printf</span><span>(</span><span>"db &gt; "</span><span>);</span> <span>}</span>
</code></pre></div></div><div><div><pre><code><span>/// strcmp is unnecessary if we're using the std::string type which has overloaded the == operator for string literals
</span><span>if</span> <span>(</span><span>strcmp</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>,</span> <span>".exit"</span><span>)</span> <span>==</span> <span>0</span><span>)</span>
</code></pre></div></div><div><div><pre><code><span>// malloc and free are code smells. Like new and delete, they should not exist in modern c++ code.
</span><span>void</span> <span>close_input_buffer</span><span>(</span><span>InputBuffer</span><span>*</span> <span>input_buffer</span><span>)</span> <span>{</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>-&gt;</span><span>buffer</span><span>);</span>
    <span>free</span><span>(</span><span>input_buffer</span><span>);</span>
<span>}</span>
</code></pre></div></div><p>Here is our nearly identical c++ version with those simplifications:</p><div><div><pre><code><span>#include &lt;iostream&gt;
#include &lt;string&gt;
</span>
<span>int</span> <span>main</span><span>()</span> <span>{</span>
  <span>std</span><span>::</span><span>string</span> <span>input</span><span>;</span>
  <span>while</span> <span>(</span><span>true</span><span>)</span> <span>{</span>
    <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"db &gt; "</span><span>;</span>
    <span>std</span><span>::</span><span>getline</span><span>(</span><span>std</span><span>::</span><span>cin</span><span>,</span> <span>input</span><span>);</span>

    <span>if</span><span>(</span><span>input</span> <span>==</span> <span>".exit"</span><span>)</span> <span>{</span>
      <span>return</span> <span>EXIT_SUCCESS</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>std</span><span>::</span><span>cout</span> <span>&lt;&lt;</span> <span>"Unrecognized command: "</span> <span>&lt;&lt;</span> <span>input</span> <span>&lt;&lt;</span> <span>'\n'</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div><p>Compare the two different versions‚Äô disassembly on a website like https://godbolt.org/ and we can see that the c++ version very similar and potentially faster than the raw c version.</p><table><thead><tr><th>&nbsp;</th><th>c</th><th>c++</th></tr></thead><tbody><tr><td>Lines of code</td><td>56</td><td>15</td></tr><tr><td>Disassembly length</td><td>99</td><td>99</td></tr><tr><td>Potential bugs</td><td>Infinite chances of memory leaks</td><td>Impossible to leak with RAII types on the stack</td></tr></tbody></table><p>This very simple REPL for part 1 perfectly illustrates how insane people sound to me when they claim that c is simpler or more intuitive than c++. In this simple case, c++ is approximately as easy to write and understand as a high level scripting language like python, but compiles down to a smaller binary than c.</p><p>This post is part of a series which I am going to go through step by step simplifying and converting the cstack sqlite database into a more modern c++ version. So stay tuned for the next parts where we‚Äôll discuss:</p><ul><li>Better REPL parser implementations</li><li>Test Driven Developement in Practice</li><li>Database structure and persistence</li><li>A look at B-Trees</li></ul></article></div>]]>
            </description>
            <link>https://mikeloomisgg.github.io/2019-04-10-set-up-repl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129179</guid>
            <pubDate>Sun, 14 Feb 2021 02:37:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Tiny Linux Kernel]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26129094">thread link</a>) | @mmphosis
<br/>
February 13, 2021 | https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d | <a href="https://web.archive.org/web/*/https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><div><div><div><div><a href="https://medium.com/@anuradha?source=post_page-----8c07579ae79d--------------------------------" rel="noopener"><div><p><img alt="Anuradha Weeraman" src="https://miro.medium.com/fit/c/96/96/1*Lmj25yY1HRAVGeWBkpWIWQ.jpeg" width="48" height="48"></p></div></a></div></div></div></div></div><p id="270a">Today we will go over the process of building a tiny Linux kernel, and booting into a shell. To start with, fetch the Linux source tree that you‚Äôd like to try this out on. I‚Äôm using staging tree for this post. You can get it here:</p><pre><span id="fd32">$ git clone git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/staging.git</span></pre><p id="2ba7">To get an initial config that‚Äôs very minimalist:</p><pre><span id="8a0c">$ make tinyconfig</span></pre><p id="6abf">Here‚Äôs a comparison of the config options enabled by tinyconfig to a stock kernel that come with my Debian distribution:</p><pre><span id="79de">$ grep "=y" .config | wc -l<br>247<br>$ grep "=m" .config | wc -l<br>0<br>$ grep "=y" /boot/config-5.4.0-4-amd64 | wc -l<br>2071<br>$ grep "=m" /boot/config-5.4.0-4-amd64 | wc -l<br>3401</span></pre><p id="0903">Let‚Äôs try to build it:</p><pre><span id="b16b">$ time make -j16<br>scripts/kconfig/conf  --syncconfig Kconfig<br>  SYSTBL  arch/x86/include/generated/asm/syscalls_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_32.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_64.h<br>  SYSHDR  arch/x86/include/generated/uapi/asm/unistd_x32.h<br>  WRAP    arch/x86/include/generated/uapi/asm/bpf_perf_event.h<br>.<br>.<br>.<br>.<br>Setup is 13788 bytes (padded to 13824 bytes).<br>System is 417 kB<br>CRC 435fb428<br>Kernel: arch/x86/boot/bzImage is ready  (#1)</span><span id="b15f">real 0m15.468s<br>user 2m12.094s<br>sys 0m14.603s</span></pre><p id="3536">The kernel builds to around ~430k. This is a 32-bit kernel by default, so let‚Äôs enable 64-bit support:</p><pre><span id="3ec0">$ make menuconfig</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3790/1*Qqz6S1F0iuHYvkh3La7L7Q.png" width="1895" height="1006" srcset="https://miro.medium.com/max/552/1*Qqz6S1F0iuHYvkh3La7L7Q.png 276w, https://miro.medium.com/max/1104/1*Qqz6S1F0iuHYvkh3La7L7Q.png 552w, https://miro.medium.com/max/1280/1*Qqz6S1F0iuHYvkh3La7L7Q.png 640w, https://miro.medium.com/max/1400/1*Qqz6S1F0iuHYvkh3La7L7Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*Qqz6S1F0iuHYvkh3La7L7Q.png?q=20"></p></div></div></div></figure><p id="94ce">Enable the TTY for console support:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3800/1*98FOepVg-qylMCy2fTBx0Q.png" width="1900" height="1007" srcset="https://miro.medium.com/max/552/1*98FOepVg-qylMCy2fTBx0Q.png 276w, https://miro.medium.com/max/1104/1*98FOepVg-qylMCy2fTBx0Q.png 552w, https://miro.medium.com/max/1280/1*98FOepVg-qylMCy2fTBx0Q.png 640w, https://miro.medium.com/max/1400/1*98FOepVg-qylMCy2fTBx0Q.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*98FOepVg-qylMCy2fTBx0Q.png?q=20"></p></div></div></div></figure><p id="8c6a">and support for printk to see console output as the kernel boots:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3796/1*fKls0hD5lYLYd579TRKgKQ.png" width="1898" height="1010" srcset="https://miro.medium.com/max/552/1*fKls0hD5lYLYd579TRKgKQ.png 276w, https://miro.medium.com/max/1104/1*fKls0hD5lYLYd579TRKgKQ.png 552w, https://miro.medium.com/max/1280/1*fKls0hD5lYLYd579TRKgKQ.png 640w, https://miro.medium.com/max/1400/1*fKls0hD5lYLYd579TRKgKQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*fKls0hD5lYLYd579TRKgKQ.png?q=20"></p></div></div></div></figure><p id="9a2e">Build again:</p><pre><span id="f1eb">Setup is 13596 bytes (padded to 13824 bytes).<br>System is 737 kB<br>CRC d273f4d<br>Kernel: arch/x86/boot/bzImage is ready  (#4)</span><span id="1a1b">real 0m6.045s<br>user 0m40.808s<br>sys 0m3.958s</span></pre><p id="371e">The size has gone up somewhat, nearly double what we started off with. If you‚Äôre only supporting a serial interface, even this additional bloat can be avoided to keep the size of the image down.</p><p id="ea7f">Boot the kernel with qemu:</p><pre><span id="6b5b">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*QfIoYrTIpWEIBD0ZETpx4w.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*QfIoYrTIpWEIBD0ZETpx4w.png 276w, https://miro.medium.com/max/1104/1*QfIoYrTIpWEIBD0ZETpx4w.png 552w, https://miro.medium.com/max/1280/1*QfIoYrTIpWEIBD0ZETpx4w.png 640w, https://miro.medium.com/max/1400/1*QfIoYrTIpWEIBD0ZETpx4w.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*QfIoYrTIpWEIBD0ZETpx4w.png?q=20"></p></div></div></div></figure><p id="0ef2">The kernel boots and panics when attempting to start init, as expected. In order to boot into a shell as we originally set out to do, we will need a filesystem and a shell that can be started by the kernel as PID 1. Let us create a bare bones ram disk image that we can use to boot into a minimal busybox shell.</p><p id="259d">There are plenty of ways to achieve this, and here‚Äôs just one way:</p><pre><span id="6e90">$ git clone <a href="mailto:git@github.com" rel="noopener">git@github.com</a>:aweeraman/kernel-utils.git<br>$ kernel-utils/create-initrd.sh <br>Creating initrd filesystem... ok<br>Building dependencies... <br>Cloning into 'busybox'...<br>remote: Enumerating objects: 29, done.<br>remote: Counting objects: 100% (29/29), done.<br>remote: Compressing objects: 100% (23/23), done.<br>remote: Total 110424 (delta 16), reused 14 (delta 6), pack-reused 110395<br>Receiving objects: 100% (110424/110424), 37.05 MiB | 5.40 MiB/s, done.<br>Resolving deltas: 100% (87061/87061), done.<br>Building initrd... 4882 blocks</span></pre><p id="d743">Before we can use this ram disk, we need to enable init RAM disk (initrd) support in the kernel:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3802/1*pBLJG65lMbzCEhUxfdyhzQ.png" width="1901" height="1009" srcset="https://miro.medium.com/max/552/1*pBLJG65lMbzCEhUxfdyhzQ.png 276w, https://miro.medium.com/max/1104/1*pBLJG65lMbzCEhUxfdyhzQ.png 552w, https://miro.medium.com/max/1280/1*pBLJG65lMbzCEhUxfdyhzQ.png 640w, https://miro.medium.com/max/1400/1*pBLJG65lMbzCEhUxfdyhzQ.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*pBLJG65lMbzCEhUxfdyhzQ.png?q=20"></p></div></div></div></figure><p id="0abf">I have only included support for gzip compression and disabled the rest.</p><p id="ca12">We will also need to enable ELF-support to be able to start up the shell:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3792/1*ul_vqh5YRC4YP7j0QRKuWA.png" width="1896" height="1009" srcset="https://miro.medium.com/max/552/1*ul_vqh5YRC4YP7j0QRKuWA.png 276w, https://miro.medium.com/max/1104/1*ul_vqh5YRC4YP7j0QRKuWA.png 552w, https://miro.medium.com/max/1280/1*ul_vqh5YRC4YP7j0QRKuWA.png 640w, https://miro.medium.com/max/1400/1*ul_vqh5YRC4YP7j0QRKuWA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*ul_vqh5YRC4YP7j0QRKuWA.png?q=20"></p></div></div></div></figure><p id="1395">This time, when booting the kernel, pass in the -initrd argument and specify the initrd image that we created earlier, in addition to an argument to the kernel to specify the binary that it should look for in the ram disk and execute once the kernel has finished booting, which is in this case is ‚Äò/bin/sh‚Äô.</p><pre><span id="fee5">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh"</span></pre><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*0a_JKjSCmrnPPp4cXeu6Qg.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*0a_JKjSCmrnPPp4cXeu6Qg.png 276w, https://miro.medium.com/max/1104/1*0a_JKjSCmrnPPp4cXeu6Qg.png 552w, https://miro.medium.com/max/1280/1*0a_JKjSCmrnPPp4cXeu6Qg.png 640w, https://miro.medium.com/max/1400/1*0a_JKjSCmrnPPp4cXeu6Qg.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*0a_JKjSCmrnPPp4cXeu6Qg.png?q=20"></p></div></div></div></figure><p id="8c0d">And we have a shell.</p><p id="2c42">Let‚Äôs enable the /proc filesystem so we can run some standard commands:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/3788/1*xEFVIfD0rrdra5ox2z86mA.png" width="1894" height="1008" srcset="https://miro.medium.com/max/552/1*xEFVIfD0rrdra5ox2z86mA.png 276w, https://miro.medium.com/max/1104/1*xEFVIfD0rrdra5ox2z86mA.png 552w, https://miro.medium.com/max/1280/1*xEFVIfD0rrdra5ox2z86mA.png 640w, https://miro.medium.com/max/1400/1*xEFVIfD0rrdra5ox2z86mA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*xEFVIfD0rrdra5ox2z86mA.png?q=20"></p></div></div></div></figure><p id="9333">Mount the proc file system after booting, so you can use commands like ‚Äòps‚Äô and ‚Äòfree‚Äô:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*lB3Pk16_27Xd402yxPnNdw.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*lB3Pk16_27Xd402yxPnNdw.png 276w, https://miro.medium.com/max/1104/1*lB3Pk16_27Xd402yxPnNdw.png 552w, https://miro.medium.com/max/1280/1*lB3Pk16_27Xd402yxPnNdw.png 640w, https://miro.medium.com/max/1400/1*lB3Pk16_27Xd402yxPnNdw.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*lB3Pk16_27Xd402yxPnNdw.png?q=20"></p></div></div></div></figure><p id="6e5c">Here‚Äôs the size of the kernel that we just built:</p><pre><span id="a064">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 793 kB</span></pre><p id="de47">Note that this is the size of the compressed kernel on disk and the actual memory used at boot time is comparable to the size of the generated vmlinux file, which in this case is 12MB. You would need at least that much memory to load the kernel into memory, plus 8‚Äì16MB additionally for the user space. Here‚Äôs the minimum memory configuration that allowed me to boot this kernel in qemu:</p><pre><span id="483d">$ qemu-system-x86_64 -kernel arch/x86/boot/bzImage -initrd kernel-utils/initramfs.cpio.gz -append "init=/bin/sh" -m 29M</span></pre><p id="625a">Just for kicks, I disabled printk and booted up the kernel, that put me into a shell almost immediately:</p><figure><div role="button" tabindex="0"><div><div><p><img alt="Image for post" src="https://miro.medium.com/max/1480/1*qRFHRgS6qYUoV2GqJhTjUA.png" width="740" height="482" srcset="https://miro.medium.com/max/552/1*qRFHRgS6qYUoV2GqJhTjUA.png 276w, https://miro.medium.com/max/1104/1*qRFHRgS6qYUoV2GqJhTjUA.png 552w, https://miro.medium.com/max/1280/1*qRFHRgS6qYUoV2GqJhTjUA.png 640w, https://miro.medium.com/max/1400/1*qRFHRgS6qYUoV2GqJhTjUA.png 700w" sizes="700px" data-old-src="https://miro.medium.com/max/60/1*qRFHRgS6qYUoV2GqJhTjUA.png?q=20"></p></div></div></div></figure><p id="c8b4">Finally, the compressed kernel size comes down to:</p><pre><span id="d1b9">Setup is 13788 bytes (padded to 13824 bytes).<br>System is 749 kB</span></pre></div></div></section></div></div>]]>
            </description>
            <link>https://weeraman.com/building-a-tiny-linux-kernel-8c07579ae79d</link>
            <guid isPermaLink="false">hacker-news-small-sites-26129094</guid>
            <pubDate>Sun, 14 Feb 2021 02:20:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[`mov` is Turing-complete [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26128978">thread link</a>) | @sep_field
<br/>
February 13, 2021 | http://stedolan.net/research/mov.pdf | <a href="https://web.archive.org/web/*/http://stedolan.net/research/mov.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://stedolan.net/research/mov.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128978</guid>
            <pubDate>Sun, 14 Feb 2021 01:57:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Default to tabs instead of spaces for an 'accessible first' environment (2019)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26128920">thread link</a>) | @macintux
<br/>
February 13, 2021 | https://alexandersandberg.com/tabs-for-accessibility/ | <a href="https://web.archive.org/web/*/https://alexandersandberg.com/tabs-for-accessibility/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  
  
  
    
  

  <span>
  
    #<a href="https://alexandersandberg.com/dev/">dev</a> / 
  

  
    published july 11th, 2019
  
</span>

  
    
    <p>I‚Äôm sure you‚Äôve come across the age-old, opinion-based debate of ‚ÄòTabs vs. Spaces‚Äô for <em>indentation</em> before. It has been going since forever, and there seem to be valid reasons for both sides:</p>
<p><strong>Tabs‚Ä¶</strong></p>
<ul>
<li>smaller files because it‚Äôs just 1 character</li>
<li>that‚Äôs what they‚Äôre used for</li>
<li>you can customize your own indentation width (üëà keep this one in mind)</li>
</ul>
<p><strong>Spaces‚Ä¶</strong></p>
<ul>
<li>to avoid problems in whitespace-sensitive environments</li>
<li>because you know what you‚Äôll get, and consistency is key</li>
</ul>
<p>But, there‚Äôs more to this than just personal preferences. <a href="https://www.reddit.com/user/ChaseMoskal">u/ChaseMoskal</a> recently posted a very insightful and eye-opening post on Reddit with the title <a href="https://www.reddit.com/r/javascript/comments/c8drjo/nobody_talks_about_the_real_reason_to_use_tabs/">‚ÄúNobody talks about the real reason to use Tabs over Spaces‚Äù</a>.</p>
<h2 id="the-one-real-reason-to-use-tabs-over-spaces">The one real reason to use tabs over spaces</h2>
<p>In his post, Chase explains his own experience of using spaces at his workplace, and the negative effects it had on co-workers with visual impairment.</p>
<p>One of his co-workers uses a tab-width of <code>1</code>, to avoid huge indentations when using a large font-size.</p>
<p>Another co-worked of his is using a tab-width of <code>8</code> because that works best for his situation with a wide monitor.</p>
<blockquote>
<p>I see people saying ‚Äútabs lets us customize our tab-width‚Äù, as though we do this ‚Äúfor fun‚Äù ‚Äî Chase</p>
</blockquote>
<p>By using tabs in our projects, we allow these kinds of customizations that are <em>essential</em> for people with visual impairment. Custom tab-widths might seem like an unnecessary thing to most, but some people rely on it‚Äîand we <em>can not</em> ignore that.</p>
<h2 id="accessible-first">Accessible first</h2>
<p>We simply can‚Äôt ‚Äúconvert‚Äù everyone to one side or the other, there‚Äôs no question about it. Everyone has their own preferences, and we should celebrate that freedom‚Äîthat we have the ability to make our own choices.</p>
<p>But with that said, we should also make sure to include <em>everyone</em>, and that means respecting and using accessible tools like the Tab-character.</p>
<p>Much like designing for ‚Äòmobile first‚Äô‚Äîmaking sure everyone, no matter what device, has a great experience with your product‚Äîwe should create an ‚Äò<strong>accessible first</strong>‚Äô environment, by making sure that everyone has the same ability to work, whether it‚Äôs at the workplace or on an open-source project.</p>
<p>I thought Chase put it perfectly when he said in his post that <em>"‚Ä¶there‚Äôs just no counter-argument that even comes close to outweighing the accessibility needs of valued coworkers‚Äù</em>.</p>
<h2 id="conclusion--accessible-first-personal-preference-second">Conclusion ‚Äî Accessible first, personal preference second</h2>
<p>By defaulting to tabs, we make sure that everyone has a great experience working together with others, no matter their own abilities.</p>
<p>And if you prefer spaces, feel free to use an auto-formatting tool that converts tabs to spaces when opening a file (all modern editors have these). Just make sure that the spaces get converted back to tabs before anyone else has to work on your code.</p>
<blockquote>
<p>Only by making sure everyone has the same capability can we maximize our combined potential ‚ù§Ô∏è</p>
</blockquote>
  
</article></div>]]>
            </description>
            <link>https://alexandersandberg.com/tabs-for-accessibility/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26128920</guid>
            <pubDate>Sun, 14 Feb 2021 01:44:55 GMT</pubDate>
        </item>
    </channel>
</rss>
