<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 1]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 1. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 01 Jul 2020 08:16:49 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-1.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 01 Jul 2020 08:16:49 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Neurons that fire together, wire together Ok, but how?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23676233">thread link</a>) | @Anon84
<br/>
June 29, 2020 | http://dissociativediaries.com/neurons-that-fire-together-wire-together-ok-but-how/ | <a href="https://web.archive.org/web/*/http://dissociativediaries.com/neurons-that-fire-together-wire-together-ok-but-how/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div id="et-boc">
			
			<div><div>
				
				
				
				
					<div>
				<div>
				
				
				<div>
				
				
				<div>
					
<p>One of my little pet projects is a neurology book for psychologists, coaches and the like. What most people in these fields imagine about the brain is somewhere between perplexing, preposterous and potentially poisonous. (Seriously, I could tell you stories‚Ä¶) So I kind of wanted to write something like this for them.</p>
<p>Now I do consider it a tall order for me ‚Äì I have some knowledge of neurology, but actually writing a SENSIBLE, understandable guidebook to neurology, with some practical applications too, that‚Äôs a challenge. (Senseless guidebooks to neurology are a dime a dozen, of course. In fact, I‚Äôve walled in at least two people in one library, using only senseless pop-neurology books and as far I can tell, the rotting skeletons still haven‚Äôt been found. But then again the rotting corpse smell really doesn‚Äôt stand out much in most libraries I‚Äôve been to, so I shouldn‚Äôt be surprised.)</p>
<p><a href="http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920.jpg"><img src="http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920.jpg" alt="" width="1920" height="1280" srcset="http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920.jpg 1920w, http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920-300x200.jpg 300w, http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920-768x512.jpg 768w, http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920-1024x683.jpg 1024w, http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920-1080x720.jpg 1080w, http://dissociativediaries.com/wp-content/uploads/2019/02/neuron-3567980_1920-610x407.jpg 610w" sizes="(max-width: 1920px) 100vw, 1920px"></a></p>
<p>But back to my main point. The great thing about trying to write a book like that, even attempting to prepare for doing it at one point in the future, when you know enough, is finding all the lovely little holes in how you‚Äôre telling the story to yourself. The teeny-tiny little jumps in understanding, the ‚Äûlies-to-children‚Äù, the simplifications.</p>

<p>And one of these, for me, was how neurons get to connect.</p>

<p>And when I asked around, it turned out I wasn‚Äôt the only one missing this little bit.</p>

<p>I mean, yeah, we all know Hebb. ‚ÄûNeurons that fire together, wire together‚Äù, the neurology mantra in flesh. I can just imagine NeuroZen masters, walking around meditating neurologists, ‚Äûfiiiiiiiiireeee toooooogeeeether‚Äù instead of ‚Äûommmm‚Äù going around.</p>

<p>That‚Äôs how neurons connect. When two fire at once, their connection becomes stronger. The synapse gains long term potentiation/LTP, by both an increase in the neurotransmitters produced, and an increase in the postsynaptic receptors for the neurotransmitters. Short-term it happens through utilizing some of the additional AMPA receptors available near to the synaptic membrane in the postsynaptic cell, long term by changes in protein synthesis and gene expression, in order to ensure a larger number of receptors. So far so good, in one way or another pretty much anyone who understands anything about neurology understands this bit. It might be more or less simplistic, you might have the AMPA receptors memorized or not, but you get the gist of it.&nbsp;(Although this begs the question: does Dale‚Äôs principle means that the increase in presynaptic neurotransmitter production influence not just this single synapse, but also the concentration of neurotransmitters in all synaptic connections of the presynaptic neuron? Or perhaps does a reverse mechanism happen, with other connections of the presynaptic neuron being stripped bare of their neurotransmitters? Something I need to check! )</p>

<p>Now here‚Äôs the kicker: how do neurons that AREN‚ÄôT already connected connect? How does their ‚Äúfire/wire‚Äù rule go?</p>

<p>I mean, that still applies, doesn‚Äôt it?</p>

<p>Actually, it doesn‚Äôt apply in the original Hebb‚Äôs law, since that required the neurons to be connected already and a couple of other things as well. But still, the general principle is how we tend to explain things like associative learning, conditioning, etc. The direct wording of Hebb‚Äôs law can‚Äôt apply there, because then we‚Äôd need every neural network to be connected to every other neural network at once, and that‚Äôd be a mess that wouldn‚Äôt really work all that well. But the general principle seems to apply.</p>

<p>And when I started asking around, no one could tell me how exactly.</p>

<p>How does a neuron know to extend new axonal or dendric connections towards another neuron, so that they might actually form a synapse between the two? Because this has to happen somehow, and this has to happen in a fairly structured way. If it didn‚Äôt happen, if we were only left to the remains of the synaptic pruning we got since birth, then our neural networks would become pretty much immovable after were what, twelve? I mean yeah, I‚Äôve met these people, and so have you, but they‚Äôre in the small minority‚Ä¶ well, large minority‚Ä¶ well, OK, a small majority. But even so, there are quite a few people who aren‚Äôt that way. And if the neural growth was haphazard, then we‚Äôd get a far more random jumble of associations, then the fairly clean ones we tend to get in any conditioning/associative learning experiences.</p>

<p>So I knew there must be some kind of system for neurons to detect other neurons it should be ‚Äûaiming for‚Äù in their development.</p>

<p>And ‚Äì this was about two or three years ago as of writing this ‚Äì no one I asked could tell me what it was. I‚Äôve reached out to a lot of people I‚Äôve considered very competent in the field, including some of my old Uni professors, and no one could direct me. Nor could I find the answer in any of the textbooks I‚Äôve referred to.</p>

<p>As it turns out, the answer is fairly recent, as articles about it only started to appear in the 2000s. Since it took me some time to find it back then, I figured I‚Äôd make this article to share it now, making the whole thing easier to find for others.</p>

<p>We‚Äôve known from about 1890 that the endings of both the axon and the dendrites are covered in something known as a growth cone. Like the tip of the branch, this is the part where the cell can further develop and extend, either in original growth, in regeneration, or as a reaction to some factors (including a decrease in overall electric activity which causes a form of synaptic scaling ‚Äì hence explaining the ‚Äûdevouring‚Äù of unused neural pathways of amputated body parts by nearby active structures). But how do the growth cones know how exactly to grow? The brain is a complex three-dimensional web of interconnected neurons, so ‚Äûhitting‚Äù the right point is definitely too hard if the neurons just kept on growing until they hit anything at all.</p>

<p>Now, the synaptic scaling process is still a piece of the answer ‚Äì even if a neuron forms a new synaptic connection with a different neuron, if the target neuron already has too many connections, it will tend to remove the weakest ones, and this includes the most recent ones. The scaling goes both ways after all ‚Äì it goes for more synapses when it starts with too few, but for less, if it starts with too many.</p>

<p>But synaptic scaling is not everything. As it turns out, the tips of the growth cone constantly produce structures called filopodia, and these react to specific chemical attractants and repellents. These chemicals are produced by both cells at the target area, and by so-called guidepost cells along the way. There are suggestions that the system for such targeting is fairly robust, especially in early development (and its limitations in later life might explain why spinal cord injuries and the like are so hard to fix).</p>

<p>(There is one other process for directing cells, the growth along the radial glia, but since it mainly refers to embryonic development, it‚Äôs really not all that interesting for us in this topic.)</p>

<p>Now, the more perceptive of you will already have noticed that while what I‚Äôve given is AN answer, it is not THE answer to the question I‚Äôve originally asked. Or at least, not necessarily.</p>

<p>It might be possible, that the interaction of the three systems:<br>‚Äì a pre-set network of attractor/repellent chemical pathways for guiding axon/dendrite growth,<br>‚Äì the synaptic scaling mechanism of homeostatic plasticity, which limits the max connections and promotes new connections if existing neural excitability falls below what is the baseline for the network,<br>‚Äì and the good old Hebbian mechanism for strengthening existing neural connections,<br>is in fact enough. That the interplay of these systems does answer our basic question, and simple enough rules result in sufficient flexibility to explain what is observed.</p>

<p>But, obviously, the process might be a bit more complicated. There isn‚Äôt that much literature about it, unfortunately, so what I‚Äôm doing here is more of an (un)educated guess, but since guidepost cells tend to be neurons which have yet to develop an axon ‚Äì but already have dendrites and can receive signals, a slightly more complex ‚Äì but better targeted ‚Äì system can be imagined, where guidepost cells would be a part of a wider neural network, the stimulation of which ‚Äûcalls forth‚Äù further cells to build connections. This, in my understanding (Again, limited, so don‚Äôt take my word for it. I mean it.) would be a more effective explanation of how we can rapidly learn to connect fairly new information, even across huge (neurologically-scaled) swaths of neural space. A strongly agitated system produces a stronger ‚Äûcall for connections‚Äù, hence mediating the faster development of new and broader associations.</p>

<p>So there you have it, a quick summary of one part of neural connectivity I‚Äôve yet to see described in a textbook about the brain, but which really should be given out there, along with the classic Hebbian principle. Hope it‚Äôs useful üôÇ</p>
				</div>
			</div> <!-- .et_pb_text -->
			</div> <!-- .et_pb_column -->
				
				
			</div> <!-- .et_pb_row -->
				
				
			</div> <!-- .et_pb_section -->			</div>
			
		</div>					</div></div>]]>
            </description>
            <link>http://dissociativediaries.com/neurons-that-fire-together-wire-together-ok-but-how/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676233</guid>
            <pubDate>Mon, 29 Jun 2020 10:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Has GitHub been down more since its acquisition by Microsoft?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23676199">thread link</a>) | @tdrnd
<br/>
June 29, 2020 | https://nimbleindustries.io/2020/06/04/has-github-been-down-more-since-its-acquisition-by-microsoft/ | <a href="https://web.archive.org/web/*/https://nimbleindustries.io/2020/06/04/has-github-been-down-more-since-its-acquisition-by-microsoft/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<div>
				    
				<div>
    <article id="post-775">
	
	            
            

                
        <div>
                        
            
            
<p>Two years ago, on June 4th of 2018, Microsoft announced its acquisition of GitHub, unicorn darling of the developer tools startup ecosystem, <a rel="noreferrer noopener nofollow" href="https://techcrunch.com/2018/06/04/microsoft-has-acquired-github-for-7-5b-in-microsoft-stock/" target="_blank" data-wpel-link="external">for $7.5B in stock</a>. The announcement unearthed a wide range of <a href="https://news.ycombinator.com/item?id=17221527" data-wpel-link="external" target="_blank" rel="nofollow">opinions and pontifications</a>, ranging from ‚ÄúGitHub is doomed‚Äù to ‚ÄúMicrosoft is smart‚Äù, with many predictions about GitHub‚Äôs future. Some thought Microsoft‚Äôs growing investments in its cloud offering, Azure, might help GitHub. Could an investment by Microsoft improve GitHub‚Äôs reliability or harden them against outages like <a href="https://www.wired.com/story/github-ddos-memcached/" data-wpel-link="external" target="_blank" rel="nofollow">DDOSes</a>? Have any of these predictions come true?</p>



<p>We set out to analyze one angle of the GitHub acquisition: Has GitHub become more reliable since its acquisition by Microsoft? Our service, <a href="https://statusgator.com/" data-wpel-link="internal" rel="follow">StatusGator</a>, monitors more than 700 status pages of cloud providers and SaaS companies large and small. We aggregate and normalize status page data and make it available to our subscribers however they need: in notifications by email, Slack, Teams, or webhook, and in a <a href="https://nimbleindustries.io/2020/01/24/how-to-save-precious-minutes-during-incident-response/" data-wpel-link="internal" rel="follow">unified status dashboard</a> for all service dependencies.</p>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-1024x613.png" alt="" srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-1024x613.png 1024w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-300x180.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-768x460.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-1536x919.png 1536w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-720x431.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-580x347.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1-320x192.png 320w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-header-1.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>For more than 5 years, we have analyzed the <a href="https://www.githubstatus.com/" data-wpel-link="external" target="_blank" rel="nofollow">GitHub status page</a> constantly. Every 5 minutes, StatusGator takes a screenshot and <a href="https://statusgator.com/services/github" data-wpel-link="internal" rel="follow">collects relevant data</a> about their service status. That means we are uniquely positioned to offer analysis of the downtime that GitHub themselves announce via their status page.</p>



<p>What does the data tell us? In the two years since the acquisition announcement, GitHub has reported a 41% increase in status page incidents. Furthermore, there has been a 97% increase in incident minutes, compared to the two years prior to the announcement. Does this actually point to a decrease in reliability? We can‚Äôt say. This could simply mean GitHub has increased its transparency, publishing to their status page more frequently.</p>



<h2>Incident Counts</h2>



<p>We calculated an incident count in the 24 months preceding the announcement and the 24 months after. We <a href="https://nimbleindustries.io/2019/12/26/under-the-hood-inside-a-status-page-aggregator/" data-wpel-link="internal" rel="follow">classify status pages</a> into four states: <em>up</em>, <em>warn</em>, and <em>down</em>, and <em>maintenance</em>. GitHub does not expose scheduled maintenance on their status page. For these calculations we consider an incident to be any change in status between <em>up</em> and <em>warn</em> or <em>down</em>.</p>



<p>Before the acquisition, there were 89 incidents published on the GitHub status page. After, there were 126 incidents. A 41% increase:</p>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-1024x422.png" alt="89 Incidents before the acquisition, 126 incidents after, a 41% increase." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-1024x422.png 1024w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-300x124.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-768x316.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-1536x633.png 1536w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-2048x844.png 2048w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-1920x791.png 1920w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-720x297.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-580x239.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-counts-1-320x132.png 320w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>In the graph below, we‚Äôve charted the incident counts by month. The left side shows the 24 months before and the right side shows the 24 months after:</p>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-1024x533.png" alt="Graph showing GitHub incidents by month, before and after their acquisition by Microsoft." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-1024x533.png 1024w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-300x156.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-768x400.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-1536x799.png 1536w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-720x375.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-580x302.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph-320x167.png 320w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-incident-graph.png 1920w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>







<h2>Incident Minutes</h2>



<p>We calculated incident minutes by subtracting the start and end time of time of incidents. Although not 100% realtime, StatusGator checks frequently: every 5 minutes, so status page changes are detected quickly. We counted time where the page was not in an overall <em>up</em> state.</p>



<p>In the 24 months prior to the acquisition announcement, there were 6,110 minutes of downtime. During the 24 months after, there were 12,074 minutes of downtime, a 97% increase:</p>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-1024x420.png" alt="6,110 Incidents before the acquisition, 12,074 incidents after, a 97% increase." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-1024x420.png 1024w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-300x123.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-768x315.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-1536x630.png 1536w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-2048x840.png 2048w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-1920x788.png 1920w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-720x295.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-580x238.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-counts-1-320x131.png 320w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>In the graph below, we‚Äôve charted the incident minutes by month. The left side shows the 24 months before and the right side shows the 24 months after:</p>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-1024x531.png" alt="Graph showing GitHub downtime minutes by month, before and after their acquisition by Microsoft." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-1024x531.png 1024w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-300x156.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-768x399.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-1536x797.png 1536w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-2048x1063.png 2048w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-1920x997.png 1920w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-720x374.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-580x301.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-downtime-minute-graph-1-320x166.png 320w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<h2>Status Page Evolution</h2>



<p>During these four years, GitHub has made enormous improvements in their status page information granularity and design. In December 2018, they switched from a home grown status page to one operated by Atlassian‚Äôs StatusPage service, <a href="https://nimbleindustries.io/2019/03/11/2019-statusgator-status-page-awards/" data-wpel-link="internal" rel="follow">the most popular status page provider</a>. In doing so, they added numerous <a href="https://nimbleindustries.io/2019/11/22/component-status-filtering-is-here/" data-wpel-link="internal" rel="follow">individual component statuses</a>. Here‚Äôs what GitHub‚Äôs status page looked like before their switch to Atlassian StatusPage:</p>



<h3>GitHub‚Äôs Old Status Page</h3>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-status-page-old.png" alt="GitHub status page showing only a single status across all GitHub services." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-status-page-old.png 645w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-status-page-old-300x187.png 300w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-status-page-old-580x361.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-status-page-old-320x199.png 320w" sizes="(max-width: 645px) 100vw, 645px"><figcaption>GitHub status page showing only a single status across all GitHub services.</figcaption></figure>



<p>When they switched to their new status page format, GitHub took a huge step towards increased accountability and transparency by detailing the following individual service components:</p>



<ul><li>Git Operations</li><li>API Requests</li><li>Issues, PRs, Dashboard, Projects</li><li>Notifications</li><li>Gists</li><li>GitHub Pages</li></ul>



<p>Overtime, they have expanded and refined their component statuses. They also started showing historical data right on their status page. As you can see in their newest and most detailed status page format, it shows the following service component statuses:</p>



<ul><li>Git Operations</li><li>API Requests</li><li>Webhooks</li><li>Issues, PRs, Projects</li><li>GitHub Actions</li><li>GitHub Packages</li><li>GitHub Pages</li></ul>



<h3>GitHub‚Äôs New Status Page</h3>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-944x1024.png" alt="GitHub status page showing detailed statuses of each of the major components of their service." srcset="https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-944x1024.png 944w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-277x300.png 277w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-768x833.png 768w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-720x781.png 720w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-580x629.png 580w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new-320x347.png 320w, https://nimbleindustries.io/wp-content/uploads/2020/05/github-satus-page-new.png 1280w" sizes="(max-width: 944px) 100vw, 944px"><figcaption>GitHub status page showing detailed statuses of each of the major components of their service.</figcaption></figure>



<p>They also moved their status page to a dedicated domain, <a href="https://www.githubstatus.com/" data-wpel-link="external" target="_blank" rel="nofollow">githubstatus.com</a>, <a href="https://nimbleindustries.io/2020/04/21/your-status-page-deserves-its-own-domain/" data-wpel-link="internal" rel="follow">which follows a best practice we recommend</a> to anyone who hosts a status page. All of this additional transparency, details, and historical data is a commendable effort to relay the most up-to-date information about the status of all GitHub systems. More providers of critical cloud infrastructure should emulate what GitHub has done. <a href="https://nimbleindustries.io/2019/12/07/your-status-page-is-useless-if-you-dont-use-it/" data-wpel-link="internal" rel="follow">Your status page is useless if you don‚Äôt use it.</a></p>



<h2>Conclusion</h2>



<p>What can we conclude from all of this data? Objectively, we can conclude that GitHub has published to their status page more frequently in the two years after their acquisition announcement. They have posted more incidents of disruption and downtime. Those incidents have been longer in duration. According to the data they provided, GitHub has been down more since the acquisition by Microsoft. </p>



<p>But that could be all a part of coordinated effort to be more transparent about their service status, an effort that should be applauded.</p>



<p>Our goal at StatusGator is not to shame anyone for disruptions and outages. Everyone experiences unexpected downtime. We simply strive to make status page data available and accessible in more useful ways. From Slack and <a href="https://nimbleindustries.io/2020/04/03/status-page-monitoring-in-microsoft-teams/" data-wpel-link="internal" rel="follow">Microsoft Teams</a>, to <a href="https://nimbleindustries.io/2020/04/30/status-page-webhooks-new-and-improved/" data-wpel-link="internal" rel="follow">webhooks</a>, an API, and more. StatusGator aggregates status page data and empowers you to keep your team informed. </p>



<h2>Try StatusGator</h2>



<figure><img src="https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-1024x175.png" alt="StatusGator logo" srcset="https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-1024x175.png 1024w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-300x51.png 300w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-768x131.png 768w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-1920x329.png 1920w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-720x123.png 720w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-580x99.png 580w, https://nimbleindustries.io/wp-content/uploads/2019/03/logo-large-320x55.png 320w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>Is your team dependent on GitHub? Consider trying out <a href="https://statusgator.com/" data-wpel-link="internal" rel="follow">StatusGator</a>,&nbsp;free for 30 days. You can get notifications about GitHub and more than 670 other services with status pages we monitor. You can receive notifications in Microsoft Teams, Slack, by email, SMS, or webhook. Our favorite feature is a Slack integration with a <code>/statuscheck</code> slash command that allows querying the status of any service, right from where your team hangs out.</p>



<p><a href="https://statusgator.com/" data-wpel-link="internal" rel="follow">Try a 30 day free trial</a>&nbsp;of StatusGator and let us know what you think.</p>

                        
                            
            
        </div>
        
                             
    </article>
</div>
				
								
							</div>

		
	



			

		</div></div>]]>
            </description>
            <link>https://nimbleindustries.io/2020/06/04/has-github-been-down-more-since-its-acquisition-by-microsoft/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676199</guid>
            <pubDate>Mon, 29 Jun 2020 10:31:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zooming on Zoom's Privacy Controversies]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23676180">thread link</a>) | @oczek
<br/>
June 29, 2020 | https://blog.graphqleditor.com/zoom-security-controversies/ | <a href="https://web.archive.org/web/*/https://blog.graphqleditor.com/zoom-security-controversies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Coronavirus and the lockdowns it forced has probably sped up the transition to working from home in many jobs by at least a decade. Workers who previously spend time sitting in cubicles or offices found out they could have just as well worked from home. Millions started looking for software that would help them do that. </p>
<p>Enter Zoom, a somewhat popular video-conferencing program made all the way back in 2011. It was already fairly popular before the pandemic, but this year it‚Äôs popularity has exploded. The daily average user numbers went from around 10 million in December to over 300 million in April. </p>
<h2>The Good</h2>
<p>Zoom became the go-to choice for many mainly because it‚Äôs really easy to use and free (well at least the basic version is) The usually highlighted advantages of Zoom are:</p>
<ul>
<li>simple and easy to use interface</li>
<li>good audio and video quality</li>
<li>smooth and easy to set up conference calls even for large groups up to 100 people</li>
<li>compatibility with various systems: Windows, macOS, Linux, Android, and iOS</li>
<li>ability to share slides and content</li>
<li>scheduling conferences via a calendar that can be shared with others</li>
<li>virtual backgrounds</li>
</ul>
<p><span>
      <a href="https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/00d43/video_call.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Leading video-call platfrom" title="Leading video-call platfrom" src="https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/fcda8/video_call.png" srcset="https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/12f09/video_call.png 148w,
https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/e4a3f/video_call.png 295w,
https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/fcda8/video_call.png 590w,
https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/efc66/video_call.png 885w,
https://blog.graphqleditor.com/static/e43be73ccb423041c1831db1af7d359e/00d43/video_call.png 1000w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h5>Credits: <a href="https://undraw.co/">undraw.co</a></h5>
<p>Zoom also helped itself by making the program free to use for K-12 schools in the US since early March, just as the lockdowns were starting. It also received a lot of free publicity from famous users, even the UK government used it to host sessions.</p>
<h2>The Bad</h2>
<p>Well, it‚Äôs not all as rosy as it sounds. Zoom has been involved in some controversies that have become more and more apparent as it gained popularity. The main point of criticism has been lackluster security. </p>
<ul>
<li>In 2019 Apple was forced to remove Zoom from Macs after it turned out a security flaw could let websites hijack users‚Äô cameras. Although the company quickly addressed this with fixes and a lengthy blog post, it wasn‚Äôt a good look.</li>
<li>Zoom has no end-to-end encryption, despite some advertising materials claiming otherwise. It stores all the keys involved in user data encryption in its own cloud infrastructure. Which means it can access user data at will.</li>
<li>Zoom calls have random generated IDs consisting between 9 and 11 digits and these can apparently be brute-forced or even randomly guessed which means hackers can get into meetings.</li>
</ul>
<p><span>
      <a href="https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/00d43/hack.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Security controversies" title="Security controversies" src="https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/fcda8/hack.png" srcset="https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/12f09/hack.png 148w,
https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/e4a3f/hack.png 295w,
https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/fcda8/hack.png 590w,
https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/efc66/hack.png 885w,
https://blog.graphqleditor.com/static/ba9ad700d29dd977b436329ae4999a98/00d43/hack.png 1000w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h5>Credits: <a href="https://undraw.co/">undraw.co</a></h5>
<p>The flaws were pretty notorious and led to a phenomenon called <em>zoom bombing</em> where pranksters would join meetings to broadcast inappropriate content. It got so bad the FBI had to officially warn schools.</p>
<h2>The Ugly</h2>
<p>Remember that thing about Zoom having access to user data? Well, it turns out that‚Äôs not an accident.</p>
<ul>
<li>This month Zoom admitted to closing three meetings commemorating the Tiananmen Square crackdown and suspended the accounts of activists who organized them. This led to teachers voicing concerns about how they‚Äôre supposed to cover such topics in classes hosted on the platform.</li>
<li>In April the New York Times found out Zoom‚Äôs data mining feature was automatically sending user‚Äôs names and emails to LinkedIn allowing participants to access other users‚Äô profile data.</li>
<li>In March Motherboard found out Zoom‚Äôs iOS app was automatically sending device analytics to Facebook without informing the user and did it even if the user did not have a Facebook account. There was no mention of this in the privacy policy either.</li>
</ul>
<p><span>
      <a href="https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/00d43/privacy.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Privacy concerns" title="Privacy concerns" src="https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/fcda8/privacy.png" srcset="https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/12f09/privacy.png 148w,
https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/e4a3f/privacy.png 295w,
https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/fcda8/privacy.png 590w,
https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/efc66/privacy.png 885w,
https://blog.graphqleditor.com/static/8b6995e982001e92861e97dd1e4ab908/00d43/privacy.png 1000w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h5>Credits: <a href="https://undraw.co/">undraw.co</a></h5>
<p>So far this has led to a couple of lawsuits, an inquiry by the Federal Trade Commission and outright bans from some tech companies and the UK‚Äôs ministry of defense. Not good news for the company to put it mildly. Yet despite all that Zoom is still hugely popular and looks like it will stay that way despite its flaws. To be fair it‚Äôs not like it‚Äôs main competitors like Microsoft Teams and Google Hangouts don‚Äôt have any either, so pick your poison.</p></div><p>The GraphQL Editor is a supportive tool for both advanced GraphQL users as well as those taking their first steps with GraphQL APIs. Our all-in-one development environment for GraphQL will help you build, manage &amp; deploy your GraphQL API much faster thanks to dozens of built-in micro features. Its graphical interface will also fix communication within your product team. Visualization is the key!</p></div>]]>
            </description>
            <link>https://blog.graphqleditor.com/zoom-security-controversies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676180</guid>
            <pubDate>Mon, 29 Jun 2020 10:27:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Experimenting with Error Handling via Generics in Go]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23676159">thread link</a>) | @nickcw
<br/>
June 29, 2020 | https://deedlefake.com/experimenting-with-error-handling-via-generics-in-go.html | <a href="https://web.archive.org/web/*/https://deedlefake.com/experimenting-with-error-handling-via-generics-in-go.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>On June 16th, an article was published to the Go blog detailing <a href="https://blog.golang.org/generics-next-step">the next steps for generics in Go</a>. Of particular interest in this case was that along with another updated draft design, this one came along with <a href="https://go.googlesource.com/go/+/refs/heads/dev.go2go/README.go2go.md">a tool that allowed users to actually write and use generic code in Go</a>.</p>

<p>So with a request to experiment, experiment I did. I tried a few little things, such an implementation of iterators, but then decided to play around with error handling, and I quickly realized that generics alone may be the beginnings of the solution to the error handling problem that so many people have been clamoring for.</p>

<p>Before I get to error handling and what I did, let‚Äôs take a quick look at a slightly simpler case: Secondary boolean returns. In Go, the convention for a function that might not return a value is to have the function return a boolean as a secondary return that indicates whether or not the first value makes any sense. For example, in the <code>os</code> package, there is a function that does just that: <code>func LookupEnv(name string) (string, bool)</code>. This function is a more powerful version of <code>os.Getenv()</code>. Both get the value of an environment variable, but <code>os.Getenv()</code> simply returns an empty string if the variable isn‚Äôt set at all, leaving no way to distinguish between an empty variable and an unset variable.</p>

<p>Taking a page out of Rust‚Äôs playbook, I decided to try implementing a wrapper for optional values that could provide some convenient common functionality. First, a container for the information and a few simple methods:</p>
<pre><span>type</span> <span>Optional</span>(<span>type</span> T) <span>struct</span> {
	v T
	ok <span>bool</span>
}

<span>func</span> (o <span>Optional</span>(T)) <span>Or</span>(v T) <span>Optional</span>(T) {
	<span>if</span> o.ok {
		<span>return</span> o
	}

	<span>return</span> <span>Optional</span>(T){v: v, ok: <span>true</span>}
}

<span>func</span> (o <span>Optional</span>(T)) <span>Get</span>() (T, <span>bool</span>) {
	<span>return</span> o.v, o.ok
}

<span>func</span> (o <span>Optional</span>(T)) <span>Must</span>() T {
	<span>if</span> !o.ok {
		panic(<span>"no value"</span>)
	}
	<span>return</span> o.v
}
</pre>
<p>It‚Äôs fairly simple to imagine how this might work, but how do you translate from existing functions following that convention to this new system? If I did, for example,</p>
<pre>v, ok := os.<span>LookupEnv</span>(<span>"DATABASE_URL"</span>)
v = <span>Optional</span>(<span>string</span>){v: v, ok: ok}.<span>Or</span>(DefaultDatabaseURL).<span>Must</span>()
</pre>
<p>then I haven‚Äôt exactly gained a whole lot. I even have to manually specify the type of the value now.</p>

<p>The key is a shortcut in Go that allows a call to a function with multiple returns to be passed directly to a call to a function with multiple arguments of the same types in the same order. Given this, a function that can be created such as the following:</p>
<pre><span>func</span> <span>Option</span>(<span>type</span> T)(v T, ok <span>bool</span>) <span>Optional</span>(T) {
	<span>return</span> <span>Optional</span>(T){v: v, ok: ok}
}
</pre>
<p>Now usage is very easy:</p>
<pre><span>// Functions do inference of arguments, so this version doesn't
</span><span></span><span>// require a manual type to be specified.
</span><span></span>
v := <span>Option</span>(os.<span>LookupEnv</span>(<span>"DATABASE_URL"</span>)).
	<span>Or</span>(DefaultDatabaseURL).
	<span>Must</span>()
</pre>
<p>This is significantly cleaner, in my opinion, then a manual check of the boolean return. For one thing, it doesn‚Äôt clutter up the local namespace with booleans, something that can get quite awkward to deal with if calls are nested into several <code>if</code>s, or if multiple calls need to be done before any of the checks are. For another thing, it avoids the subtleties of shadowing from using <code>:=</code> with multiple assignments. And thirdly, it avoids the problems of trying to assign to a struct field or slice index with <code>:=</code>, which is simply not allowed.</p>

<p>From here, a basic error handling pattern can be established pretty easily, but before getting to that, I‚Äôm going to put together an example function that I‚Äôll be attempting to clean up with some error handling wrappers:</p>
<pre><span>func</span> <span>Authenticate</span>(ctx context.Context, db *ent.Client, email <span>string</span>, password []<span>byte</span>) (user *ent.User, err <span>error</span>) {
	user, err = db.User.<span>Query</span>().
		<span>Where</span>(user.<span>Email</span>(email)).
		<span>Only</span>(ctx)
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, fmt.<span>Errorf</span>(<span>"get user: %w"</span>, err)
	}

	dbpass, err := base64.StdEncoding.<span>DecodeString</span>(user.Password)
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, fmt.<span>Errorf</span>(<span>"decode password: %w"</span>, err)
	}

	err = bcrypt.<span>CompareHashAndPassword</span>(dbpass, password)
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, fmt.<span>Errorf</span>(<span>"check password: %w"</span>, err)
	}

	<span>return</span> user, <span>nil</span>
}
</pre>
<p>This function is a theoretical implementation of user authentication in, for example, an API backend. You don‚Äôt need to know how <a href="https://entgo.io/">ent</a> works to understand what I‚Äôm going to do here; you just need to recognize how the standard error convention is being used here.</p>

<p>Now that that‚Äôs out of the way, here‚Äôs the beginnings of the error handling code:</p>
<pre><span>type</span> <span>Error</span>(<span>type</span> T) <span>struct</span> {
	v T
	err <span>error</span>
}

<span>func</span> <span>Try</span>(<span>type</span> T)(v T, err <span>error</span>) <span>Error</span>(T) {
	<span>return</span> <span>Error</span>(T){v: v, err: err}
}

<span>func</span> (e <span>Error</span>(T)) <span>Get</span>() (T, <span>error</span>) {
	<span>return</span> e.v, e.err
}

<span>func</span> (e <span>Error</span>(T)) <span>Must</span>() T {
	<span>if</span> e.err != <span>nil</span> {
		panic(e.err)
	}
	<span>return</span> e.v
}

<span>func</span> (e <span>Error</span>(T)) <span>Err</span>() <span>error</span> {
	<span>return</span> e.err
}
</pre>
<p>Now, unlike for <code>Optional</code>, an <code>Or()</code> method doesn‚Äôt necessarily make as much sense, as there are two values to deal with. More importantly, the user will probably want to do something specific based on what the error value is if there is one. To that end:</p>
<pre><span>type</span> <span>ModFunc</span>(<span>type</span> T) <span>func</span>(T, <span>error</span>) (T, <span>error</span>)

<span>func</span> (e <span>Error</span>(T)) <span>Mod</span>(f ModFunc) <span>Error</span>(T) {
	<span>return</span> <span>Try</span>(<span>f</span>(e.<span>Get</span>()))
}
</pre>
<p>While this might be generally useful for a number of different ways of handling errors, there is one very common operation that can also be provided to the user:</p>
<pre><span>// Not the most general, perhaps, but fine for the demonstation. Also,
</span><span></span><span>// unfortunately, int its intended use the type will have to be
</span><span></span><span>// specified manually because of shortcomings in the type inference as
</span><span></span><span>// currently implemented.
</span><span></span><span>func</span> <span>Wrap</span>(<span>type</span> T)(str <span>string</span>) <span>ModFunc</span>(T) {
	<span>return</span> <span>func</span>(v T, err <span>error</span>) (T, <span>error</span>) {
		<span>if</span> err == <span>nil</span> {
			<span>return</span> v, err
		}
		<span>return</span> v, fmt.<span>Errorf</span>(str + <span>": %w"</span>, err)
	}
}
</pre>
<p>Now that these features have been added, let‚Äôs take a quick look at how it‚Äôs affected the working example:</p>
<pre><span>func</span> <span>Authenticate</span>(ctx context.Context, db *ent.Client, email <span>string</span>, password []<span>byte</span>) (user *ent.User, err <span>error</span>) {
	user, err = db.User.<span>Query</span>().
		<span>Where</span>(user.<span>Email</span>(email)).
		<span>Only</span>(ctx)
	user, err = <span>Try</span>(user, err).
		<span>Mod</span>(<span>Wrap</span>(*ent.User)(<span>"get user"</span>)).
		<span>Get</span>()
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, err
	}

	dbpass, err := <span>Try</span>(base64.StdEncoding.<span>DecodeString</span>(user.Password)).
		<span>Mod</span>(<span>Wrap</span>([]<span>byte</span>)(<span>"decode password"</span>)).
		<span>Get</span>()
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, err
	}

	err = bcrypt.<span>CompareHashAndPassword</span>(dbpass, password)
	<span>if</span> err != <span>nil</span> {
		<span>return</span> <span>nil</span>, fmt.<span>Errorf</span>(<span>"check password: %w"</span>, err)
	}

	<span>return</span> user, <span>nil</span>
}
</pre>
<p>Hmmm‚Ä¶ Hasn‚Äôt helped much, huh? There are still <code>err</code> variables and <code>err != nil</code> checks all over the place. In fact, I might even go so far as to say that it‚Äôs gotten worse.</p>

<p>Don‚Äôt worry. I‚Äôm not quite done yet.</p>

<p>First of all, let‚Äôs take care of that call to <code>CompareAndHashPassword()</code> at the end. Unlike the others, this one doesn‚Äôt return a value, just an error. Thanks to the way Go‚Äôs type system works, this is surprisingly straightforward, only requiring a single new function:</p>
<pre><span>func</span> <span>Do</span>(err <span>error</span>) <span>Error</span>(<span>struct</span>{}) {
	<span>return</span> <span>Error</span>(<span>struct</span>{}){err: err}
}
</pre>
<p>That call can now be changed to</p>
<pre>err = <span>Do</span>(bcrypt.<span>CompareHashAndPassword</span>(dbpass, password)).
	<span>Mod</span>(<span>Wrap</span>(<span>struct</span>{})(<span>"check password"</span>)).
	<span>Err</span>()
<span>if</span> err != <span>nil</span> {
	<span>return</span> <span>nil</span>, err
}
</pre>
<p>Alright, time to finally remove all of those manual checks. This is going to require a new type, a couple of modifications to an existing method, and two new functions. First of all, the type and the modification:</p>
<pre><span>type</span> perror <span>struct</span> {
	err <span>error</span>
}

<span>func</span> (err perror) <span>Unwrap</span>() <span>error</span> {
	<span>return</span> err.err
}

<span>func</span> (err perror) <span>Error</span>() <span>string</span> {
	<span>return</span> err.err.<span>Error</span>()
}

<span>func</span> (e <span>Error</span>(T)) <span>Must</span>() T {
	<span>if</span> e.err != <span>nil</span> {
		panic(perror{e.err})
	}
	<span>return</span> e.v
}
</pre>
<p>Now, when a function panics, before control leaves the function all of the deferred function calls are run as though a normal return was happening. Inside of those functions, a special built-in function, <code>recover()</code>, will cause the panicking to stop and will return the value, as an <code>interface{}</code>, that was passed to <code>panic()</code> in the first place. Combining this with the new <code>perror</code> type, it becomes fairly easy to write a function to catch errors that were caused by a call to <code>Must()</code> and <em>only</em> errors that were caused by that call:</p>
<pre><span>type</span> CatchFunc <span>func</span>(err <span>error</span>)

<span>func</span> <span>Catch</span>(f CatchFunc) {
	<span>switch</span> r := recover().(<span>type</span>) {
	<span>case</span> <span>nil</span>:
		<span>return</span>

	<span>case</span> perror:
		<span>f</span>(r)

	<span>default</span>:
		panic(r)
	}
}
</pre>
<p>And to avoid repetition:</p>
<pre><span>func</span> <span>Return</span>(rerr *<span>error</span>) CatchFunc {
	<span>return</span> <span>func</span>(err <span>error</span>) {
		<span>if</span> *rerr != <span>nil</span> {
			<span>return</span>
		}
		*rerr = err
	}
}
</pre>
<p>And back to the working example:</p>
<pre><span>func</span> <span>Authenticate</span>(ctx context.Context, db *ent.Client, email <span>string</span>, password []<span>byte</span>) (_ *ent.User, err <span>error</span>) {
	<span>defer</span> <span>Catch</span>(<span>Return</span>(&amp;err))

	user, err := db.User.<span>Query</span>().
		<span>Where</span>(user.<span>Email</span>(email)).
		<span>Only</span>(ctx)
	user = <span>Try</span>(user, err).
		<span>Mod</span>(<span>Wrap</span>(*ent.User)(<span>"get user"</span>)).
		<span>Must</span>()

	dbpass := <span>Try</span>(base64.StdEncoding.<span>DecodeString</span>(user.Password)).
		<span>Mod</span>(<span>Wrap</span>([]<span>byte</span>)(<span>"decode password"</span>)).
		<span>Must</span>()

	<span>Do</span>(bcrypt.<span>CompareHashAndPassword</span>(dbpass, password)).
		<span>Mod</span>(<span>Wrap</span>(<span>struct</span>{})(<span>"check password"</span>)).
		<span>Must</span>()

	<span>return</span> user, <span>nil</span>
}
</pre>
<p>I don‚Äôt know about you, but that looks a <em>lot</em> cleaner to me, even with the insufficient type inference for the calls to <code>Wrap()</code>.</p>

<p>So will generics fix the error handling ‚Äòproblem‚Äô? Maybe. It‚Äôs hard to tell at this point. But it will definitely be a step closer to that problem being solved.</p>
</div></div>]]>
            </description>
            <link>https://deedlefake.com/experimenting-with-error-handling-via-generics-in-go.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676159</guid>
            <pubDate>Mon, 29 Jun 2020 10:24:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[10 Facts About PDF]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23676097">thread link</a>) | @gorillapdf
<br/>
June 29, 2020 | https://gorillapdf.com/blog/10-facts-about-pdf-infographic/ | <a href="https://web.archive.org/web/*/https://gorillapdf.com/blog/10-facts-about-pdf-infographic/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <!-- Blog Header: title and subtitle -->
		    
        <div>
            <!-- Main Content -->
            <div>
                <div>
    <!-- Title -->
    
    <!-- Date and Author -->
    <p>
        2020-06-28
        
    </p>
    <!-- Content -->
    <p><img src="https://gorillapdf.com/blog/10-facts-about-pdf-infographic/10-facts-about-pdf.png" title="Ten facts about PDF"></p><p>We love lists and hope you love them too! Today we have a list of <strong>10 facts about <a href="https://gorillapdf.com/blog/what-does-pdf-stand-for/" title="PDF File Format">PDF file format</a></strong>. </p>
<p>The list is complemented with a colorful infographic and we hope you‚Äôll like it.</p>
<p>Certainly, there are so many facts about one of the most popular file formats on the planet, but Gorilla only counts to 10.</p>
<p>Here is a list of 10 interesting facts about PDF.</p>
<h2>10 PDF Facts</h2>
<ol>
<li>PDF is an invention of Adobe Systems. It was created in the early 1990s and officially presented in January 1993 at the Windows and OS|2 Conference.</li>
<li>PDF is independent of software and hardware, and can be accessed from every device. PDFs retain their original formatting no matter from which device they are accessed.</li>
<li>The initial project was called The Camelot Project. Later renamed to Carousel.</li>
<li>PDF Files can be optimized for the web. You can add a web friendly filename, define a good title and meta description, add headings to structure your PDF, insert links, include it on a website as a normal page and optimize the PDF file in size.</li>
<li>Acrobat Reader initial cost was $50.</li>
<li>PDF is the most popular file extension on the web. See yourself and try the filetype: operator in Google Search to limit results to a specific file type. For example, filetype:pdf hardware will result with PDF files with the term "hardware" in them. Try the same for several filetypes and compare the number of results.</li>
<li>One of the first early adopters of PDF were the US tax authorities. The service distributed tax forms as PDF files.</li>
<li>PDF supports security. You can add different levels of security and password protect your PDF files.</li>
<li>PDF is ISO standardized 15 years after invention (1993-2008). In 2008, PDF 1.7 (and beyond) by Adobe Systems became ISO 32000:1:2008 standard. A new version was published in July 2017, which is the ISO 32000-2:2017 PDF specification.</li>
<li>PDF can contain links, buttons, form fields, audio, video and business logic.</li>
</ol>
<h2>Infographic</h2>
<p><img src="https://gorillapdf.com/blog/10-facts-about-pdf-infographic/10-facts-about-pdf-infographic.png" title="Infographic - 10 facts about PDF"></p><hr>
    <!-- Tags and Categories links -->
    
    



	<!-- Social -->
<p><a href="https://www.facebook.com/sharer/sharer.php?u=https://gorillapdf.com/blog/10-facts-about-pdf-infographic/&amp;t=10%20Facts%20About%20PDF%20%5BInfographic%5D" target="_blank" rel="noopener">Facebook</a>
<a href="https://twitter.com/intent/tweet?text=%2210%20Facts%20About%20PDF%20%5BInfographic%5D%22%20https://gorillapdf.com/blog/10-facts-about-pdf-infographic/%20via%20@hexojs" target="_blank" rel="noopener">Twitter</a>
<a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gorillapdf.com/blog/10-facts-about-pdf-infographic/&amp;title=10%20Facts%20About%20PDF%20%5BInfographic%5D" target="_blank" rel="noopener">LinkedIn</a>
</p></div>
            </div>
            <!-- Sidebar -->
            
        </div>
    </div></div>]]>
            </description>
            <link>https://gorillapdf.com/blog/10-facts-about-pdf-infographic/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676097</guid>
            <pubDate>Mon, 29 Jun 2020 10:13:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Arduino FIDO2 Authenticator]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23676006">thread link</a>) | @snakeye
<br/>
June 29, 2020 | https://en.ovcharov.me/2020/06/29/uru-card-arduino-fido2-authenticator/ | <a href="https://web.archive.org/web/*/https://en.ovcharov.me/2020/06/29/uru-card-arduino-fido2-authenticator/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section>
<div>
<div>
<section>



<article>
<p>After publishing the URU Key project people keep asking me to make it open source. I have tried to organize sources in a more readable way but I still think that plain C and ESP IDF are too difficult for the broad audience. And, unfortunately, the biometrics part is covered by NDA and can not be published.</p>
<p>Therefore I am starting a new project to address these and other issues.</p>
<h2 id="size-and-form-factor">Size and form factor</h2>
<p>A few months ago I have finalized the <a href="https://en.ovcharov.me/2020/04/06/uru-key-final-hardware-design/">URU Key hardware design</a> and started working on housing for it. Yes, it is very small and lightweight but carrying it around is a kind of a problem. The device is too fragile to be worn on the keyring and a bit thick to put in the pocket. The necklace is not my style.</p>
<figure>
<img src="https://d33wubrfki0l68.cloudfront.net/31ed3b469871b100ae43a0dbae4930d2f3fb272b/61808/uploads/resized/uru-key-w800.jpg" data-src="https://d33wubrfki0l68.cloudfront.net/31ed3b469871b100ae43a0dbae4930d2f3fb272b/61808/uploads/resized/uru-key-w800.jpg" data-srcset="/uploads%2Fresized%2Furu-key-w150.jpg 150w, /uploads%2Fresized%2Furu-key-w300.jpg 300w, /uploads%2Fresized%2Furu-key-w600.jpg 600w, /uploads%2Fresized%2Furu-key-w800.jpg 800w, /uploads%2F2020%2F06%2F29%2Furu-key.jpg 1200w" sizes="(max-width: 230px) 150px, (max-width: 380px) 300px, (max-width: 680px) 600px, (max-width: 880px) 800px, 1200px" alt="URU Key with the battery" title="URU Key with the battery" srcset="https://en.ovcharov.me/uploads%2Fresized%2Furu-key-w150.jpg 150w, https://en.ovcharov.me/uploads%2Fresized%2Furu-key-w300.jpg 300w, https://en.ovcharov.me/uploads%2Fresized%2Furu-key-w600.jpg 600w, https://en.ovcharov.me/uploads%2Fresized%2Furu-key-w800.jpg 800w, https://en.ovcharov.me/uploads%2F2020%2F06%2F29%2Furu-key.jpg 1200w"><figcaption>URU Key with the battery</figcaption></figure>
<p>However, my wallet is always with me. The PCB sized as a standard credit card should perfectly fit there. The power source becomes a problem, that‚Äôs true. But, wait, is it difficult to find a charger or power bank with Micro USB nowadays?</p>
<figure>
<img src="https://d33wubrfki0l68.cloudfront.net/1218f869b13f89ff97edd4cf56c554a12caa4e77/36a93/uploads/resized/uru-card-wallet-w800.jpg" data-src="https://d33wubrfki0l68.cloudfront.net/1218f869b13f89ff97edd4cf56c554a12caa4e77/36a93/uploads/resized/uru-card-wallet-w800.jpg" data-srcset="/uploads%2Fresized%2Furu-card-wallet-w150.jpg 150w, /uploads%2Fresized%2Furu-card-wallet-w300.jpg 300w, /uploads%2Fresized%2Furu-card-wallet-w600.jpg 600w, /uploads%2Fresized%2Furu-card-wallet-w800.jpg 800w, /uploads%2F2020%2F06%2F29%2Furu-card-wallet.jpg 1200w" sizes="(max-width: 230px) 150px, (max-width: 380px) 300px, (max-width: 680px) 600px, (max-width: 880px) 800px, 1200px" alt="URU Card in the wallet" title="URU Card in the wallet" srcset="https://en.ovcharov.me/uploads%2Fresized%2Furu-card-wallet-w150.jpg 150w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-wallet-w300.jpg 300w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-wallet-w600.jpg 600w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-wallet-w800.jpg 800w, https://en.ovcharov.me/uploads%2F2020%2F06%2F29%2Furu-card-wallet.jpg 1200w"><figcaption>URU Card in the wallet</figcaption></figure>
<p>The name <strong>URU Card</strong> makes a lot of sense for this project, isn‚Äôt it?</p>
<h2 id="user-interface">User interface</h2>
<p>As on one hand, I can not use biometrics for open source project and on other hand, I do not want to omit the authentication completely leaving the device insecure there is a need for some form of user verification. Simple touch keyboard and OLED screen should allow people to enter pin code or password.</p>
<figure>
<img src="https://d33wubrfki0l68.cloudfront.net/421c686c17665f43cfbb25fd3059190a055e4ae5/b0f7c/uploads/resized/uru-card-2-w800.jpg" data-src="https://d33wubrfki0l68.cloudfront.net/421c686c17665f43cfbb25fd3059190a055e4ae5/b0f7c/uploads/resized/uru-card-2-w800.jpg" data-srcset="/uploads%2Fresized%2Furu-card-2-w150.jpg 150w, /uploads%2Fresized%2Furu-card-2-w300.jpg 300w, /uploads%2Fresized%2Furu-card-2-w600.jpg 600w, /uploads%2Fresized%2Furu-card-2-w800.jpg 800w, /uploads%2F2020%2F06%2F29%2Furu-card-2.jpg 1200w" sizes="(max-width: 230px) 150px, (max-width: 380px) 300px, (max-width: 680px) 600px, (max-width: 880px) 800px, 1200px" alt="URU Card - touch keyboard and OLED screen" title="URU Card - touch keyboard and OLED screen" srcset="https://en.ovcharov.me/uploads%2Fresized%2Furu-card-2-w150.jpg 150w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-2-w300.jpg 300w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-2-w600.jpg 600w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-2-w800.jpg 800w, https://en.ovcharov.me/uploads%2F2020%2F06%2F29%2Furu-card-2.jpg 1200w"><figcaption>URU Card - touch keyboard and OLED screen</figcaption></figure>
<p>The keyboard should be implemented with the <strong>MPR121</strong> I2C touch-sensor controller, and the screen is a widely available <strong>OLED</strong> screen with the <strong>SSD1306</strong> controller. The screen is placed in the special cut in the PCB keeping the device thickness below 2 millimetres.</p>
<h2 id="framework-for-the-development">Framework for the development</h2>
<p>Fortunately, the <strong>Arduino</strong> framework is ported to the <strong>ESP32</strong> platform. There are hundreds of libraries for almost every use case and this factor should significantly simplify the project. There are libraries for <strong>ATECC508A</strong>, <strong>MPR121</strong> and <strong>SSD1306</strong> already. All that is needed is to wire everything together.</p>
<p>However, the Arduino IDE will be hardly usable for a project complex like this one. I am going to use Visual Studio Code + <strong>PlatformIO</strong> for the development and recommend others to do the same.</p>
<h2 id="the-current-state-of-the-project">The current state of the project</h2>
<p>At the moment the working <strong>BLE server</strong> with <strong>FIDO2</strong> endpoints is implemented. The device is ‚Äúvisible‚Äù and the computer connects to it in order to perform an authentication procedure. However, the commands are not implemented yet - it‚Äôs going to be the next step.</p>
<figure>
<img src="https://d33wubrfki0l68.cloudfront.net/42cf03f71cfe1940cec7bbce89f7b7689bcdc96f/5b9eb/uploads/resized/uru-card-3-w800.jpg" data-src="https://d33wubrfki0l68.cloudfront.net/42cf03f71cfe1940cec7bbce89f7b7689bcdc96f/5b9eb/uploads/resized/uru-card-3-w800.jpg" data-srcset="/uploads%2Fresized%2Furu-card-3-w150.jpg 150w, /uploads%2Fresized%2Furu-card-3-w300.jpg 300w, /uploads%2Fresized%2Furu-card-3-w600.jpg 600w, /uploads%2Fresized%2Furu-card-3-w800.jpg 800w, /uploads%2F2020%2F06%2F29%2Furu-card-3.jpg 1200w" sizes="(max-width: 230px) 150px, (max-width: 380px) 300px, (max-width: 680px) 600px, (max-width: 880px) 800px, 1200px" alt="URU Card - the components" title="URU Card - the components" srcset="https://en.ovcharov.me/uploads%2Fresized%2Furu-card-3-w150.jpg 150w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-3-w300.jpg 300w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-3-w600.jpg 600w, https://en.ovcharov.me/uploads%2Fresized%2Furu-card-3-w800.jpg 800w, https://en.ovcharov.me/uploads%2F2020%2F06%2F29%2Furu-card-3.jpg 1200w"><figcaption>URU Card - the components</figcaption></figure>
<p>There is a PCB design as well and you can try to build the device, but do it on your own risk - it‚Äôs in a very early stage now.</p>
<h2 id="joining-the-project">Joining the project</h2>
<p>Sweetest part. The project is free to join for everyone. The minimal requirement is just an ESP32 development board like the one below.</p>
<figure>
<img src="https://d33wubrfki0l68.cloudfront.net/69b040b8cb4968124bd224f9590788e74ac50f1d/f2b5c/uploads/resized/esp32-dev-board-w800.jpg" data-src="https://d33wubrfki0l68.cloudfront.net/69b040b8cb4968124bd224f9590788e74ac50f1d/f2b5c/uploads/resized/esp32-dev-board-w800.jpg" data-srcset="/uploads%2Fresized%2Fesp32-dev-board-w150.jpg 150w, /uploads%2Fresized%2Fesp32-dev-board-w300.jpg 300w, /uploads%2Fresized%2Fesp32-dev-board-w600.jpg 600w, /uploads%2Fresized%2Fesp32-dev-board-w800.jpg 800w, /uploads%2F2020%2F06%2F29%2Fesp32-dev-board.jpg 1200w" sizes="(max-width: 230px) 150px, (max-width: 380px) 300px, (max-width: 680px) 600px, (max-width: 880px) 800px, 1200px" alt="ESP32 development board" title="ESP32 development board" srcset="https://en.ovcharov.me/uploads%2Fresized%2Fesp32-dev-board-w150.jpg 150w, https://en.ovcharov.me/uploads%2Fresized%2Fesp32-dev-board-w300.jpg 300w, https://en.ovcharov.me/uploads%2Fresized%2Fesp32-dev-board-w600.jpg 600w, https://en.ovcharov.me/uploads%2Fresized%2Fesp32-dev-board-w800.jpg 800w, https://en.ovcharov.me/uploads%2F2020%2F06%2F29%2Fesp32-dev-board.jpg 1200w"><figcaption>ESP32 development board</figcaption></figure>
<p>The security element, screen and keyboard can be purchased separately and attached as external modules.</p>
<p>The links to the GitHub repository and other useful resources are given below.</p>
<p>I will be really thankful if consider sharing the project and leave comments with your thoughts and suggestions.</p>
<h2 id="references">References</h2>
<ul>
<li><a rel="nofollow noopener noreferrer" target="_blank" href="https://github.com/uru-card/uru-card">GitHub repository</a></li>
<li><a rel="nofollow noopener noreferrer" target="_blank" href="https://hackaday.io/project/173443-uru-card">Project on Hackaday.io</a></li>
<li><a rel="nofollow noopener noreferrer" target="_blank" href="https://platformio.org/">PlatformIO</a></li>
</ul>
</article>
</section>
</div>
</div>
</section>
</div></div>]]>
            </description>
            <link>https://en.ovcharov.me/2020/06/29/uru-card-arduino-fido2-authenticator/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23676006</guid>
            <pubDate>Mon, 29 Jun 2020 09:57:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Art of Learning for Software Developers]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675850">thread link</a>) | @thanato0s
<br/>
June 29, 2020 | https://thevaluable.dev/learning-developer-efficiently-effectively/ | <a href="https://web.archive.org/web/*/https://thevaluable.dev/learning-developer-efficiently-effectively/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
    <article>
        

        <section>
            
                <picture>
                    
                        <source srcset="https://thevaluable.dev/images/2020/learning_developer/no-mistake.webp" type="image/webp">
                    
                    <img src="https://thevaluable.dev/images/2020/learning_developer/no-mistake.jpg" alt="Learning ">
                </picture>
            

            <p>‚ÄúI‚Äôm trying to go down a bottomless pit. I‚Äôll never make it till the end.‚Äù</p>
<p>That‚Äôs what I thought when I tried to create my own video game. I was young, beautiful, and I was struggling to use <code>for</code> loops and <code>arrays</code> at the same time.
There was so much to learn!</p>
<p>Fortunately, I found the strength to continue. More and more, the concepts behind programming began to make sense. From there, learning wasn‚Äôt a chore anymore, but an intrepid journey. Going through a book about C and trying to create my own adventure on MS-DOS was a crazy Indiana Jone‚Äôs-like discovery I‚Äôll never forget.</p>
<p>My first video game wasn‚Äôt great, but it was mine. It was <em>my</em> creation. Yet, what I remember today, with a tear in my left eye, is not the result, but the learning process itself. It was these ‚ÄúAha!‚Äù moments which brought me the most joy!</p>
<p>I love learning. For a long, long time. That‚Äôs why I tried, through the years, to make my learning gradually more effective and efficient.</p>
<p>Learning is essential for developers. We need to learn about the new breakthroughs, discoveries, and changes in the industry.</p>
<p>We need to learn about our history, to know what‚Äôs really new, what‚Äôs not, and what to do with it, <em>in what context</em>.</p>
<p>We need to learn about the business domain of the company we‚Äôre working with.</p>
<p>We need to learn how to better communicates with our teammates.</p>
<p>We need to learn about what our customers really want.</p>
<p>The list goes on and on.</p>
<p>As you might have guessed, this article will brush over the wide subject of learning, as a developer. We‚Äôll try to answer these questions together:</p>
<ul>
<li>What‚Äôs learning?</li>
<li>Why do we learn? Should learning serve a goal?</li>
<li>How to avoid ineffective learning methods, procrastination, and distractions?</li>
<li>Should we have a mentor or learn by ourselves?</li>
<li>Is practice only makes perfect?</li>
<li>How to test ourselves to avoid the illusion of competence?</li>
<li>Are feedback important? What kind of feedback can you get? What feedback should you be interested in?</li>
</ul>
<p>Ready to dive? Good. Take your machete and let‚Äôs go together through the Deep Jungle of Knowledge.</p>
<h2 id="whats-learning">What‚Äôs learning?</h2>
<p>Sometimes, we can be very surprised of the meaning of common words. Especially if we never question their definitions.</p>
<p>For example, I‚Äôm always surprised to hear people saying that learning is only a question of memory. It‚Äôs not wrong, but it‚Äôs incomplete.</p>
<p>According to the <a href="https://www.lexico.com/definition/learning">oxford dictionary</a>, learning means:</p>
<blockquote>
<p>The acquisition of knowledge or skills through study, experience, or being taught.</p>
</blockquote>
<p>This gives us clues about how to learn (study, experience, or being taught), but not really about the meaning of ‚Äúacquisition of knowledge‚Äù.</p>
<p>Let‚Äôs look at the definition of <a href="https://www.lexico.com/definition/knowledge">knowledge</a>:</p>
<blockquote>
<p>Facts, information, and skills acquired through experience or education; the theoretical or practical understanding of a subject.</p>
</blockquote>
<p>We can already see, thanks to these definitions, two main foundations for learning:</p>
<ol>
<li>Understanding</li>
<li>Remembering (acquisition)</li>
</ol>
<p>I‚Äôll add a third one:</p>
<ol start="3">
<li>Transfer</li>
</ol>
<p>Transfer is applying the knowledge from the learning context to another context. For example, it could be applying the programming knowledge your learned at school to the side project you always dreamt to build.</p>
<p>Transfer is not a necessity for learning. After all, you can understand and remember something without ever using what you learned.</p>
<p>However, most of the time, we learn in hope to apply the knowledge acquired. That‚Äôs why it‚Äôs still a major component of our learning experiences.</p>
<h2 id="why-learning">Why Learning?</h2>

<picture>
    <source srcset="https://thevaluable.dev/images/2020/learning_developer/learn-good.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/learning_developer/learn-good.jpg" alt="There is only good in learning">
</picture>



<h3 id="enriching-your-life">Enriching Your Life</h3>
<p>Learning will enrich your life in multiple ways:</p>
<ul>
<li>Your opinions will evolve.</li>
<li>Your vision on the world will change.</li>
<li>You‚Äôll feel strong connections with people who share your interests, creating passionate and mind-binding conversations.</li>
</ul>
<p>Learning can open doors in your professional life:</p>
<ul>
<li>It can help you climbing the corporate ladder.</li>
<li>It can help you to negotiate a better salary. After all, we are <a href="https://en.wikipedia.org/wiki/Knowledge_worker">knowledge workers</a>: our worth is <em>partly</em> our knowledge.</li>
<li>It will create opportunities for <a href="https://thevaluable.dev/guide-debate-software-developer-skill/">healthy debates with your fellow colleagues</a>.</li>
<li>Your CTO might call you <a href="https://thevaluable.dev/software-developer-titles-junior-senior/">‚ÄúRockstar‚Äù or ‚ÄúNinja‚Äù</a> too, you lucky pit of knowledge!</li>
</ul>
<h3 id="learning-with-or-without-goals">Learning With or Without Goals?</h3>
<p>When you try to learn something, it‚Äôs useful to have concrete goals you want to achieve with the knowledge acquired. These goals could be a good occasion to <em>transfer</em> your knowledge.</p>
<p>For example, you want to learn programming because you always dreamt to create a revolutionary video game, where you can break bricks with a ball. Maybe you want to learn what‚Äôs the <a href="https://thevaluable.dev/dry-principle-cost-benefit-example/">DRY principle</a>, to finally refactor your favorite legacy application.</p>
<p>Without meaningful goals, it will be difficult to be motivated in the long run. Learning is not easy. Understanding can be a daunting task (depending of what you learn), remembering even more so, and transfer is maybe the worst of all.</p>
<p>It takes time, too. That‚Äôs why being able to reach concrete goals with your new skills and knowledge can be very satisfying. It will give you the needed motivation to continue on your learning path.</p>
<p>It‚Äôs even more true when you try to learn complex topics. Your motivation is something you should try to assess and even measure along the way, to see if you need to boost it by making (and finishing) something important to you.</p>
<p>It‚Äôs always possible to learn for the sake of learning. Heck, I do it quite a lot myself. Yet, you need to have a good confidence on your motivation, and you need to be aware of the benefits of the learning journey itself.</p>
<p>If you have difficulties to find concrete ideas and goals where you can transfer your new knowledge, I wrote a whole article about techniques <a href="https://thevaluable.dev/generate-programming-side-project-ideas/">to generate project ideas</a>.</p>
<h2 id="how-deep-do-you-want-to-go">How Deep Do You Want to Go?</h2>

<picture>
    <source srcset="https://thevaluable.dev/images/2020/learning_developer/experts.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/learning_developer/experts.jpg" alt="Being an expert is not necessarily your goal">
</picture>



<p>Now that you have your goals, you need to decide <em>how much</em> you want to learn.</p>
<p>After all, you don‚Äôt need to be an expert in everything.</p>
<p>Moreover, knowledge acquisition is not like buying a new table for your living room. You need some maintenance not to forget the knowledge and skills acquired.</p>
<p>It means that you need to constantly refresh your knowledge and skills, for everything you want to be an expert at. It takes time, energy, and require, again, a lot of motivation.</p>
<p>For example, let‚Äôs say that your life‚Äôs dream is to write a PHP script to rename automatically thousands of your holidays pictures. You don‚Äôt need to be a PHP evangelist to answer your needs. Trying to understand superficially how PHP works to accomplish what you want might be enough.</p>
<p>Superficial learning works well if you don‚Äôt have any goal, too. You can read about programming paradigms for example, by pure curiosity, to have a global overview of all of them. You can still dive deeper if you wish later.</p>
<p>Beyond the superficial, the <a href="https://en.wikipedia.org/wiki/Dreyfus_model_of_skill_acquisition">Dreyfus model of competence</a> can help you deciding how competent you want to become:</p>
<ul>
<li><strong>Novice</strong> - Shallow understanding, or no understanding at all.</li>
<li><strong>Advanced Beginner</strong> - Can make things works, often rely on following a series of steps.</li>
<li><strong>Competent</strong> - Can spot the roots of problems (background understanding), know all the rules and can select a rule depending of the situation. Still make many mistakes.</li>
<li><strong>Proficient</strong> - Very conscious about performance, know perfectly what approaches to take in what situation.</li>
<li><strong>Expert</strong> - Intuition very well developed, apply his skills without thoughts, performances look magical.</li>
</ul>
<p><a href="https://www.youtube.com/watch?v=i1nzADdV6zk">Choose your destiny</a>, depending on your needs!</p>
<h2 id="preparing-your-learning-sessions">Preparing Your Learning Sessions</h2>

<picture>
    <source srcset="https://thevaluable.dev/images/2020/learning_developer/learning-not-playing.webp" type="image/webp">
    <img src="https://thevaluable.dev/images/2020/learning_developer/learning-not-playing.jpg" alt="You need to prepare your environment to learn efficiently">
</picture>



<p>Let‚Äôs see now how you should prepare yourself before learning anything.</p>
<p>The following advice won‚Äôt change your life from one day to another. You need to work on it, actively seeking to apply these advice, day after day. The rewards are, however, huge. I promise.</p>
<h3 id="the-mistakes-to-avoid">The Mistakes to Avoid</h3>
<p>Let‚Äôs go back years in your past, when you were young, innocent, and not a caffeine junky yet.</p>
<p>You‚Äôre at school. The teacher is speaking about whatever subject he wants you to learn. His tone is monotonous, he doesn‚Äôt believe in what he‚Äôs saying, you think about what you‚Äôll eat at lunch.</p>
<p>You‚Äôre bored.</p>
<p>The seconds feel like minutes. Minutes feel like hours. You can‚Äôt do anything, except waiting. Will it ever end? Will you feel joy again? Is it the end of time?</p>
<p>Finally, against all odds, the course end. The teacher ask you to learn a new chapter of your book. He will test you next time.</p>
<p>At home, you read again and again the learning material. You have difficulties to concentrate, but you‚Äôre a serious boy (or girl), so you push yourself through. After five reading, you judge yourself good enough to pass the next test.</p>
<p>You close your book, satisfied with yourself, and switch on the TV, because Youtube might not exist yet.</p>
<p>What I just described is the worst way to learn something. <em>Passively</em> listening to somebody, then <em>passively</em> going through some learning materials might teach you something, but very, very slowly. You don‚Äôt need to be in a class for that: just switch on Youtube and consume <em>passively</em> any video on programming.</p>
<p>When you close your book after your passive learning, you think you learned something. Yet, when you‚Äôll pass your test, you‚Äôll understand that you really didn‚Äôt.</p>
<p>This is called <strong>illusion of competence</strong>: we have often the <em>impression</em> we learned something, even if we didn‚Äôt.</p>
<p>You should spend most of your time <em>actively learning</em>. You need to be an actor in your own learning, not only consuming it like you would consume Netflix.</p>
<p>I would compare active learning as playing a video game. Yes, I was a video game junky.</p>
<p>When you play, you‚Äôre actively doing something. Consequently, I‚Äôm sure you can remember many more video games than what you read in your last books.</p>
<p>This is due to two things:</p>
<ol>
<li>Video games are fun. You can make your learning experience fun, too. More you‚Äôll learn what you love, more you‚Äôll like the process of learning.</li>
<li>Playing is an active endeavor, not a passive one.</li>
</ol>
<p>That being said, before actively learning, you need first ‚Ä¶</p></section></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thevaluable.dev/learning-developer-efficiently-effectively/">https://thevaluable.dev/learning-developer-efficiently-effectively/</a></em></p>]]>
            </description>
            <link>https://thevaluable.dev/learning-developer-efficiently-effectively/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675850</guid>
            <pubDate>Mon, 29 Jun 2020 09:25:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[SwissCovid contact tracing app publishes active user statistics]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675737">thread link</a>) | @philshem
<br/>
June 29, 2020 | https://www.experimental.bfs.admin.ch/expstat/en/home/innovative-methods/swisscovid-app-monitoring.html | <a href="https://web.archive.org/web/*/https://www.experimental.bfs.admin.ch/expstat/en/home/innovative-methods/swisscovid-app-monitoring.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.experimental.bfs.admin.ch/expstat/en/home/innovative-methods/swisscovid-app-monitoring.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675737</guid>
            <pubDate>Mon, 29 Jun 2020 08:57:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My pains and what's missing in e-learning]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23675666">thread link</a>) | @Yarduza
<br/>
June 29, 2020 | https://blog.jiruto.com/what-is-missing-in-e-learning/ | <a href="https://web.archive.org/web/*/https://blog.jiruto.com/what-is-missing-in-e-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
	
	<div>
		<p>It's been quite a while now that I'm relying on self-learning for my education. As I became a better learner, I tackled broader and more complex topics on my own.</p><p>At first, it was just specific books or guides that people referred me to. Usually, it was a part of following a path designed by either my teachers, lecturers, parents, or professional acquaintances. I would then use that resource and continue with the original learning path.</p><p>When I started approaching entire subjects on my own, I needed to design the learning paths myself. I discovered that it's a hard and tedious job mapping topics.</p><p>It included understanding what the broader topic is about, laying out the different subtopics, and getting an idea of which one to learn first, which next, and on. Next, I needed to find the best resources to learn from.</p><p>With the rise of online learning, I was able to deepen my understanding in many new areas. I gained access to many new courses, books, teachers, podcasts, YouTube videos, guides, and more. It was a blessing and a curse.</p><p>I enjoyed the abundance of available books, courses, podcasts, YouTube series, large and small learning platforms, and many more websites wanting to educate us. However, it was a blessing and a curse, since eventually, I needed to choose something from the variety.</p><p>Let's take a look at the google result page for the term "learn javascript":</p><figure><img src="https://blog.jiruto.com/content/images/2020/06/xCleanShot-2020-06-28-at-11.52.59,402x-1.png.pagespeed.ic.YN9LKTphkG.png" alt="" srcset="https://blog.jiruto.com/content/images/size/w600/2020/06/CleanShot-2020-06-28-at-11.52.59@2x-1.png 600w, https://blog.jiruto.com/content/images/size/w1000/2020/06/CleanShot-2020-06-28-at-11.52.59@2x-1.png 1000w, https://blog.jiruto.com/content/images/size/w1600/2020/06/xCleanShot-2020-06-28-at-11.52.59,402x-1.png.pagespeed.ic.rhznren1dl.png 1600w, https://blog.jiruto.com/content/images/size/w1748/2020/06/CleanShot-2020-06-28-at-11.52.59@2x-1.png 1748w"><figcaption>The first half of the results page for "learning javascript"</figcaption></figure><p>3.2 Billion results. Half of the first page is occupied by ads, and then start the massive list of learning resources. Videos, articles, courses, and so much more. It's easy to get lost or overwhelmed by the amount of information.</p><p>Two important things I learned, searching for excellent resources, are:</p><ol><li>Staying on the first google page is not enough.</li><li>The best resources hide in forum posts and blog articles.</li></ol><p>Scanning blogs and forums takes time, but I did it anyway because I didn't want to waste time on outdated or inferior learning resources. Too often, I felt I missed something, that I didn't do a proper outlining of the field. That I was supposed to learn something before, and that's why the difficulties right now. I call it the "I don't know what I don't know" syndrome.</p><p>Trying to take on a whole field, such a Mathematics, or CS (my main fields), became a much harder task. It became a job on its own. It introduces so much overhead with syllabus and curriculum design, ordering of topics and their subtopics, and then finding learning resources for them all.</p><hr><p>To summarize, my pains learning online are:</p><ol><li>Mapping topics</li><li>Creating a syllabus</li><li>Finding good learning resources</li><li>Ordering and organizing the resources</li></ol><p>As stated above, the best solutions often come from blogs and forums, or in other words, from the community. So social learning already happens, but it's unorganized and unmaintained.</p><p>A new forum or blog post must be created to reflect any changes:</p><ol><li>A learning resource becomes outdated</li><li>Better ones are created</li><li>More effective learning methods are introduced</li></ol><p>It's hard to scale this system up. More people now rely on e-learning, and for more complex topics as well. Its importance and demand rise, and there's a need for a structured system.</p><p>The pains and the reasons above are why I started <a href="https://jiruto.com/">Jiruto</a>: to facilitate social learning and help e-learning scale up. To design a space for all our learning needs: find resources, talk about the process, get updates on our fields of interest, and more.</p><p>The "social" in "social learning" indicates we rely on the community: The people who've already been through this path. Other learners who take it with us. Professionals on the bleeding-edge frontline, forming and adding to the field itself.</p><p>As a learner, you can browse the created paths, look for one that fits your needs. The follow it. If it's</p><p>It's only together that we'll be able to realize that goal. If there are any topics that you can contribute to, please <a href="https://jiruto.com/signup">signup</a> and <a href="https://jiruto.com/newPath">create a learning path</a>. Help new learners succeed.<br></p>
			</div>
</article></div>]]>
            </description>
            <link>https://blog.jiruto.com/what-is-missing-in-e-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675666</guid>
            <pubDate>Mon, 29 Jun 2020 08:43:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Fast Pencil Fallacy in Software Development]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23675648">thread link</a>) | @ivanche
<br/>
June 29, 2020 | http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development | <a href="https://web.archive.org/web/*/http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p>A program is not a very fast pencil.</p>
<p>Software operates on different plane when compared to pen-and-paper business. It is the duty of software developer to avoid the trap of aligning software with principles of a traditional business.</p>
<p>In this article, we will describe how the fast pencil fallacy becomes reality in a common software development project. After that, we will explain how that fallacy can be avoided.</p>
<h2>Understanding the Problem</h2>
<p>To better understand how brand-new software inadvertently becomes a fast pencil, we need to understand the process of delivering software. It all begins with the customer, probably feeling lost in the process of defining requirements ‚Äì desires if you will ‚Äì specifying what the future product should and should not do.</p>
<p>The customer is running a business, in a way which has remained the same for a hundred years maybe. They are using very primitive tools, quite different from the tools we use in software development. They are accustomed to using a pencil.</p>
<p><img src="http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development/img/image1.png" alt="image1.png"></p><p>And what they ask a software developer to do, is to come up with a nice and square software to enhance the way their business is run. And indeed, developer comes up with a piece of software, which is meant to replace that traditional pen-and-paper business. That is the moment when magic happens in its least desired form, because the customer, no matter how hard they tried, will never be able to see the difference between the two, the pencil and the software.</p>
<p><img src="http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development/img/image2.png" alt="image2.png"></p><p>They will normally see the program as a very fast pencil. They will invariantly look at the program as a fast replacement for their traditional business. And that is the problem. Modern software development practices based on accepting customer‚Äôs requirements and implementing them to the point where any distinction between software and a pencil disappears is the root cause of bad software design.</p>
<p>If you try to oversee software development today, you will see programs of all kinds working exactly the same as the pen-and-paper business they are addressing, with only one tiny distinction, and that is that software is automated to a degree. That is precisely why customers will keep seeing software as their very fast pencil.</p>
<p>Do you want to develop that? No, you don‚Äôt! But what will you do instead? How will you respond to customer‚Äôs requirements? To answer these questions, we need to return to place where it all begins: To the bare business.</p>
<p>Spoiler ahead. When developing software, we will not regard customer as the source of truth. Not everything your customer will tell is correct. We will now look at software development from a different perspective.</p>
<h2>Avoiding the Fallacy</h2>
<p>To understand how software should be developed, we will once again start from the customer, who is utterly lost with so many thoughts in their head. They have a business, that‚Äôs the fact. But that is not relevant to software development, because nobody wants to have a business. People want to have a vacation, not a business. Something else they have is of our interest instead, which remains to be discovered.</p>
<p>In software development, voyage begins with understanding that customer, who owns the business, has something else of importance. That will probably be the element you have never met in your programming life. They, customers, have the problem. They have something that is hurting them, or hurting their own customers.</p>
<p><img src="http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development/img/image3.png" alt="image3.png"></p><p>Their entire business is built around methods of addressing that problem. That is the whole point of businesses, and the reason why it was said above that nobody wants to have a business. Customers want to solve the problem for their own customers and to make money by being successful at it.</p>
<p>Where does the software fit into this picture, then? Software comes as a representation of a solution to the problem. You would move the problem away from the customer and put software in between. That makes software a layer of abstraction between the user and the problem.</p>
<p>At this point, we are switching to term user, not customer anymore. Basically, user is the one who is using software, and customer is the one who is paying for the software to be developed. This definition may not cover all angles, but it will be sufficient to understand the explanations that follow.</p>
<p>When put that way, users will use the software, and software will abstract away that pointy thing below which is hurting them. The rule of the game is to remove the problem from user‚Äôs view, and to replace it with an abstract representation of the problem, so that software can act as an automated solution to the problem instance.</p>
<p>Finally, there comes the question of avoiding the fast pencil fallacy. You will avoid it best if you understand that software itself is of no interest to the user. What is of interest, however, is the way the user will send commands to software. That is how user is controlling the abstraction of the problem. You will need to think about how to best implement commands, then.</p>
<p><img src="http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development/img/image4.png" alt="image4.png"></p><p>Software will ultimately produce one tiny item, and that is the only thing your user will ever care about. That is the output, the product of applying software.</p>
<p>In effect, the user will only be concerned with giving commands to software and collecting the result. And even those commands will be of little concern, with that result of applying software remaining the only thing that is useful to the user. Software is not important. Problem is not important. Output is the only thing that counts.</p>
<p>Software developer will effectively switch to thinking how to let somebody apply the program to produce output. In that way, all that lies below a very thin line under the user interface becomes the developer‚Äôs own problem, rather than being the customer‚Äôs problem. The customer will see none of the elements below the surface and they will forever remain the software developer‚Äôs domain of business.</p>
<p><img src="http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development/img/image5.png" alt="image5.png"></p><h2>Software as a Useful Tool</h2>
<p>From a broader perspective, to develop a working software means to develop the inner parts in such way that outer parts, the user interface, can operate and let the user produce the desired output.</p>
<p>All business processes remain the duty of the software to perform. Software will not expect the user to navigate through processes and effectively run them manually. Instead, software will expect the user to fill in the required information so that the processes can be executed on their own.</p>
<p>If you were successful doing that, your software will not be a very fast pencil. It will turn the tables and do the right thing (whatever that is) to solve the problem for the user.</p>
<h2>Summary</h2>
<p>In this article, we have shed light on one of the most prominent issues in software development ‚Äì the problem of understanding what customer needs, as opposed to accepting what the customer is asking for.</p>
<p>When we scratch under the surface, we find great uncertainty in customers‚Äô views, which comes from misunderstanding the role of software, and the working principles of machines if you like.</p>
<p>Customers need guidance to the realm of software. Developers need to interview customers to understand the problem the business is solving, not just the current working principles of the business itself.</p>
<p>Once understanding of the problem is established, the duty of software developer is to produce abstract model of the problem and implement processes upon it. The result should be the software product, which is performing business processes in fully automated fashion, so that the user doesn‚Äôt have to perform them manually.</p>
<p>This article has been extracted from the Working Software series, episode zero. If you wish to learn more, please watch the entire episode and other episodes from the series online.</p>
<hr>

            </div></div>]]>
            </description>
            <link>http://www.codinghelmet.com/articles/the-fast-pencil-fallacy-in-software-development</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675648</guid>
            <pubDate>Mon, 29 Jun 2020 08:40:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HUDS and GUIs, Russian Blockbuster ‚Äì Invasion]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675428">thread link</a>) | @cryo
<br/>
June 29, 2020 | https://www.hudsandguis.com/home/2020/invasion | <a href="https://web.archive.org/web/*/https://www.hudsandguis.com/home/2020/invasion">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          

          <main>
            
              <section data-content-field="main-content">
                <article id="post-5ec75fa514b2283a6e2c0a11" data-item-id="5ec75fa514b2283a6e2c0a11">

    
      
    

    <div data-layout-label="Post Body" data-type="item" data-updated-on="1590124499392" id="item-5ec75fa514b2283a6e2c0a11"><div><div><div data-block-json="{&quot;thumbnailUrl&quot;:&quot;https://i.vimeocdn.com/video/849068157_295x166.jpg&quot;,&quot;customThumb&quot;:&quot;5ec75fca2652ca574133ea53&quot;,&quot;width&quot;:426,&quot;height&quot;:240,&quot;hSize&quot;:null,&quot;layout&quot;:&quot;caption-hidden&quot;,&quot;html&quot;:&quot;<iframe src=\&quot;https://player.vimeo.com/video/386496140?app_id=122963&amp;amp;wmode=opaque\&quot; width=\&quot;426\&quot; height=\&quot;240\&quot; frameborder=\&quot;0\&quot; allow=\&quot;autoplay; fullscreen\&quot; allowfullscreen=\&quot;\&quot; title=\&quot;INVASION // Screen Graphics &amp;amp;amp; HUD/UI Reel\&quot;></iframe>&quot;,&quot;url&quot;:&quot;https://vimeo.com/386496140&quot;,&quot;resolvedBy&quot;:&quot;vimeo&quot;,&quot;overlay&quot;:true,&quot;floatDir&quot;:null,&quot;blockAnimation&quot;:&quot;none&quot;,&quot;providerName&quot;:&quot;Vimeo&quot;,&quot;description&quot;:{&quot;html&quot;:&quot;It may sound a little trivial, but we like working on complex and ambitious tasks and to bring there style, elegance and, surely, a little bit of courage. We have to admit, that it's especially tempting when such tasks are part of top russian film projects. \nWithout further ado we are proud to present you our first HUD-reel on \&quot;Attraction\&quot; and \&quot;Invasion\&quot;! Very soon we\u2019ll tell you how we learnt some procedural urbanistic magic while creating those stunning motion design elements you\u2019ve seen in the video! And that\u2019s not all, we\u2019ve got so much more to show and tell \uFFFD\n\nSo stay tuned!&quot;}}" data-block-type="32" id="block-yui_3_17_2_1_1590123501210_18773"><div><div><div><div data-html="<iframe src=&quot;https://player.vimeo.com/video/386496140?app_id=122963&amp;wmode=opaque&quot; width=&quot;426&quot; height=&quot;240&quot; frameborder=&quot;0&quot; allow=&quot;autoplay; fullscreen&quot; allowfullscreen=&quot;&quot; title=&quot;INVASION // Screen Graphics &amp;amp; HUD/UI Reel&quot;></iframe>" data-provider-name="Vimeo"><div><p><img data-src="https://images.squarespace-cdn.com/content/v1/5438bd1be4b0446f6692b906/1590124490570-IF8E9Y3RON96SN0Y5OFC/ke17ZwdGBToddI8pDm48kEAADxG73h_JXymgHHHS_b4UqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKc_ojBn3L3QvjqfqgKv1r2888AobV4w5ZYntD2mYV1u_dAqPig4S2tgO6xhBDQ-DIu/img-invasion.png" data-load="false" data-image-focal-point="0.5,0.5" src="https://images.squarespace-cdn.com/content/v1/5438bd1be4b0446f6692b906/1590124490570-IF8E9Y3RON96SN0Y5OFC/ke17ZwdGBToddI8pDm48kEAADxG73h_JXymgHHHS_b4UqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKc_ojBn3L3QvjqfqgKv1r2888AobV4w5ZYntD2mYV1u_dAqPig4S2tgO6xhBDQ-DIu/img-invasion.png"></p></div></div></div></div></div></div><div data-block-type="2" id="block-ffe14e4c9daa5db9e760"><div><p>Here‚Äôs a look at some work created for the Russian blockbuster ‚ÄòInvasion‚Äô by <a href="https://dobroccs.com/home" target="_blank">dobro¬∞.ccs studio</a>. Their work involves various screen designs as well as the prologue to the film itself, which is also worth checking out.</p><p>Here you‚Äôll find a mix of military command centre screens, including satellite scans and map data. The other portion of the work is dedicated to visualising an alien AI, and how it processes data.</p><h2>Military screens</h2></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1592734411951_87384"><div><h2>Prologue</h2><p>The prologue tells the backstory of the film, using a fly-through of different scenes made up of point cloud images. The final look is vibrant and full of detail. The camera moves are so fluid and I really love the texture this technique provides. I can imagine holograms having this type of feel.</p></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1592734411951_124873"><div><p><a href="https://dobroccs.com/home" target="_blank">Dobro</a> have created some beautiful imagery for this film. It is always great to take a look at projects coming from different areas around the world.</p><p>Check out <a href="https://www.behance.net/gallery/91892497/Invasion-Interfaces" target="_blank">dobro‚Äôs Behance page</a> for a breakdown of their approach.<br>Here‚Äôs a <a href="https://dobroccs.com/invasion-prologue" target="_blank">behind-the-scenes look</a> at how the prologue was made.</p></div></div></div></div></div>

    <div>
      <!--

      Categories

      --><p><span><a href="https://www.hudsandguis.com/home/category/Film">Film</a>, <a href="https://www.hudsandguis.com/home/category/GUIs">GUIs</a>, <a href="https://www.hudsandguis.com/home/category/Reels">Reels</a></span></p><!--

      Author

      --><!--

      Date

      --><p><time datetime="2020-06-28">June 28, 2020</time></p><!--

      Tags

      --><p><span><a href="https://www.hudsandguis.com/home/tag/alien">alien</a>, <a href="https://www.hudsandguis.com/home/tag/military">military</a>, <a href="https://www.hudsandguis.com/home/tag/map">map</a>, <a href="https://www.hudsandguis.com/home/tag/radar">radar</a>, <a href="https://www.hudsandguis.com/home/tag/diagnostics">diagnostics</a>, <a href="https://www.hudsandguis.com/home/tag/command+center">command center</a>, <a href="https://www.hudsandguis.com/home/tag/point+cloud">point cloud</a>, <a href="https://www.hudsandguis.com/home/tag/russia">russia</a></span></p><!--

      Comments

      --></div>

    

    

  </article>





  
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://www.hudsandguis.com/home/2020/invasion</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675428</guid>
            <pubDate>Mon, 29 Jun 2020 07:49:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Do call yourself a programmer, and other career advice]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675363">thread link</a>) | @luu
<br/>
June 29, 2020 | http://yosefk.com/blog/do-call-yourself-a-programmer-and-other-career-advice.html | <a href="https://web.archive.org/web/*/http://yosefk.com/blog/do-call-yourself-a-programmer-and-other-career-advice.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p>This is a (very late) reply to Patrick McKenzie's "<a href="http://www.kalzumeus.com/2011/10/28/dont-call-yourself-a-programmer/">Don't Call Yourself A Programmer, And Other Career Advice</a>". I find much of his advice very sensible, and it might be very helpful to someone in the beginning of their career ‚Äì assuming they can act upon it (and I really don't know whether my 20-year-old self could actually use the advice to improve his negotiation skills, for example).</p>
<p>A few things in the article I disagree with, however. Here I'll mostly focus on those few things, recommending you to read the original article so that you don't miss the rest of it.</p>
<p>"Disagree" is not necessarily the right word ‚Äì a more precise way to put it would be "it's different in my experience". Which is to be expected because both of us are speaking based on our own careers, which have been rather different. Patrick McKenzie is a small business owner running <a href="http://www.bingocardcreator.com/">Bingo Card Creator</a> and a successful consultant. I'm a lead chip architect at a billion-dollar company. Both of us have thus traveled some distance away from "purely programming" (whatever that means), but in rather different directions.</p>
<p><strong>What company are you going to work for?<br>
</strong></p>
<p>Patrick McKenzie says 90% of the jobs involve things like implementing an internal travel expense reporting form, rather than a product shipped to external customers. He advises you to get used to the idea, even though such software is "soul-crushingly boring" as he puts it.</p>
<p>How bad is it, and is it really 90% of the jobs? Spolsky <a href="http://www.joelonsoftware.com/items/2007/12/04.html">thinks</a> it's maybe 80% ‚Äì and that it's bad enough to "drain the life out of you". He goes on to elaborate why it "sucks to be an in-house programmer":</p>
<ul>
<li>There's rarely a business reason to improve in-house software past the point of "barely good enough". "Forget any pride of craftsmanship ‚Äì you're going to churn out embarrassing junk".</li>
<li>At software companies, what you do is more directly related to the way the company makes money, so you're more likely to be respected. "A programmer is never going to rise to become CEO of Viacom, but you might well rise to become CEO of a tech company." "‚Ä¶no matter how critical it was for Viacom to get this internet thing  right, when it came time to assign people to desks, the in-house  programmers were stuck with 3 people per cubicle in a dark part of the  office".</li>
</ul>
<p>Note that McKenzie and Spolsky are in almost complete agreement over these points. But then Spolsky says you should be gunning for a position in a software company ‚Äì the environment where creatures of your kind naturally thrive. Conversely, McKenzie explains how to prosper as a programmer outside software companies ‚Äì <em>moving in the opposite direction of where things go by default</em> (being stuck in a dark part of the office while they're trying to outsource your job.)</p>
<p>So the question is which path you prefer. "Not so fast", you say: one of these jobs is way easier to land ‚Äì 80-90% of the chances are you're not getting inside a software company ‚Äì so it's not just a question of preference.</p>
<p>Here I disagree: even if only 10-20% of programmers work in software companies (where are the stats?..), and even if they're "the best" (according to what metric?), McKenzie himself says in that same article:</p>
<blockquote><p>You radically overestimate the average skill of the competition because of the crowd you hang around with:&nbsp; Many people already successfully employed as senior engineers cannot actually implement FizzBuzz.</p></blockquote>
<p>But if competition is relatively unskilled on average, you probably can land a job in the 10-20% of the sector that you want ‚Äì as did most people who graduated around the time I did. So I rather firmly believe that it's a matter of choice: do you <em>want</em> to work on in-house software or one-off businessy projects of that kind, or do you prefer a software company?</p>
<p>Let's proceed to McKenzie's advice to in-house programmers ‚Äì which should in itself help one make that choice.</p>
<p><strong>How to call yourself<br>
</strong></p>
<p>One such advice is:</p>
<blockquote><p>Don't call yourself a programmer. ‚ÄúProgrammer‚Äù sounds like ‚Äúanomalously high-cost peon who types some mumbo-jumbo into some other mumbo-jumbo.‚Äù Instead, describe yourself by what you have accomplished for previous employers vis-a-vis increasing revenues or reducing costs.</p></blockquote>
<p>Sure ‚Äì an in-house programmer is likely doing some type of expensive mumbo-jumbo in the eyes of his non-technical MBA-wielding manager.</p>
<p>To me, however, a programmer is who I'm looking for, while a resume full of revenue increases and cost reductions sounds like an "anomalously high-cost parasite who types some mumbo-jumbo into Excel and PowerPoint, claiming credit for others' work".</p>
<p>McKenzie says a software company looks at this just like a company hiring internal programmers, essentially. His example is "the guy who wrote the backend billing code that 97% of Google‚Äôs revenue passes through ‚Äì he‚Äôs now an angel investor". The guy apparently got rich by being near a "profit center" rather than through his unusual skills.</p>
<p>The thing is, in this case I believe he's talking about <a href="http://www.flownet.com/ron/">Ron Garret</a>, the PhD from NASA's Jet Propulsion Laboratory. Do you think they hired him because he described his work at the JPL in terms of revenues and costs? (BTW he didn't like working on the billing code, bought his stock options and quit, instead of choosing a career at the company's biggest "profit center".)</p>
<p>Did any unusual skills go into the billing code? Ron Garret <a href="http://www.flownet.com/ron/xooglers.html">says</a>:</p>
<blockquote><p>I did end up writing the credit card billing and accounting system, which is a nontrivial thing to get right. Fortunately for me, just before coming to Google I had taken some time to study computer security and cryptography, so I was actually well prepared for that particular task. ‚Ä¶I designed the billing system to be secure against even a dishonest employee with root access (which is not such an easy thing to do). I have no idea if they are still using my system, but if they are then I'd feel pretty confident that my credit card number was not going to get stolen.</p></blockquote>
<p>Sounds to me that his technical knowledge and programming ability was the bulk of his contribution, whereas deep thoughts such as realizing that there will be some "cost reduction" due to not having credit card numbers stolen is not something an employer needs to hire anyone for.</p>
<p>So if I ever send out a resume as a chip architect, I will focus on my technical role in transitioning from fixed-function hardware accelerators to programmable processors, more than the manpower this saved and the business we won as a result (which I think were real outcomes of our work, but which is rather hard to quantify ‚Äì as these things often are unless you're a business-friendly-sounding liar.)</p>
<p>Incidentally, I'm not sure <em>when </em>I'll send out that resume, which brings us to the next point.</p>
<p><strong>On job hopping, backstabbing, and the lack thereof </strong></p>
<blockquote><p>Co-workers and bosses are not usually your friends: You will spend a lot of time with co-workers.&nbsp; You may eventually become close friends with some of them, but in general, you will move on in three years‚Ä¶</p>
<p>&lt;your boss will&gt; attempt to do things that none of your actual friends would ever do,  like try to talk you down several thousand dollars in salary or  guilt-trip you into spending more time with the company when you could  be spending time with your actual friends. &nbsp;You will have other  coworkers who ‚Äî affably and ethically ‚Äî will suggest things which go  against your interests‚Ä¶</p></blockquote>
<p>There is a certain internal consistency to a view that your coworkers are not your friends, because you will move on in 3 years. In fact, it's a bit circular. They aren't your friends ‚Äì because you'll move on. And why will you move on? Well, I dunno, maybe for a 10% salary increase. What's there to lose? Relationships with coworkers? But coworkers aren't your friends!</p>
<p>Again, I don't disagree, but rather offer an alternative view, equally internally consistent. I have stayed at one job for more than a decade, in large part because I'm rather attached to the people I work with. To be sure, I got raises, and I was ready to quit over employment terms ‚Äì but it'd take much more than 10%.</p>
<p>Isn't it just a quantitative difference in preferences ‚Äì a 10% raise not being fundamentally different than, say, 100%? Well, sufficiently large quantitative changes add up to qualitative changes, as Marxian dialectics or some other Soviet philosophy thingie that my parents sometimes quote taught us. What's going on is that both approaches can lead to career advancement, but they do so very differently.</p>
<p>If you're willing to change jobs over a small raise, you'll be changing them frequently. You won't get attached to people, or to the work you're doing together. You will be very good at finding jobs and you will know what's generally going on in the industry and what's in demand. You will <em>not </em>know that many things specific to any of your employers. <em>You and your employer will become very useful to each other fairly quickly, but you'll also be somewhat expendable for each other.</em></p>
<p>Alternatively, you can keep a job as long as it's a fun environment, requiring a significant raise once in a while. Your relationships with people combined with your long-term outlook can let you do things together that you otherwise couldn't plan or execute, and learn things you wouldn't have learned.</p>
<p>Much of my knowledge about chip design comes from ASIC hackers I worked with, and their willingness to develop their biggest ideas together with me came from trust that necessarily took time to build. It takes time to learn that none of you is in the habit of "suggesting things going against the other's interest", or pulling other unfriendly shenanigans.</p>
<p>Incidentally, if you stay at one place for a long while, then your worth to the employer grows to the point where you can get the significant raise that you'd quit over without actually quitting. Your worth can also grow well above what employers are willing to pay to experienced new hires, so there's no longer a point in switching jobs. This is somewhat analogous to becoming a consultant after having switched a ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://yosefk.com/blog/do-call-yourself-a-programmer-and-other-career-advice.html">http://yosefk.com/blog/do-call-yourself-a-programmer-and-other-career-advice.html</a></em></p>]]>
            </description>
            <link>http://yosefk.com/blog/do-call-yourself-a-programmer-and-other-career-advice.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675363</guid>
            <pubDate>Mon, 29 Jun 2020 07:37:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Remove Snap in Ubuntu 20.04]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675113">thread link</a>) | @vecio
<br/>
June 29, 2020 | https://vec.io/posts/remove-snap-in-ubuntu-2004 | <a href="https://web.archive.org/web/*/https://vec.io/posts/remove-snap-in-ubuntu-2004">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Ubuntu LTS is always lagging behind in newer releases of software, for stability reason, though it‚Äôs not always true, because one of the most stable Linux distribution Red Hat has reported kernel security issues which was already fixed 17 months prior. Anyway, to have software updated, Snap is a good choice and preinstalled in all recent Ubuntu releases, and I loved it before I knew how exactly it works.</p>

<p>Snap is a sandbox environment for software, where program is bundled by the developer all together into a single platform independent package, which can run in all systems with <code>snapd</code> installed. Then many problems occur, generally performance related, snap daemon constantly causes high resource usage and slow down my system, and whenever I shutdown or reboot the system, snap always block there to stop something for minutes.</p>

<p>Another serious problem for me is input method engine, because the Snap sandbox isolates the program with host so that it can‚Äôt access the host environment. I use fcitx a lot, so when I run VS Code from snap, I was not able to input Chinese, until then I searched around and realized how does snap work. And I even found another sandbox Flatpak, gave it a try but unfortunately fcitx didn‚Äôt work neither. So I removed all those sandboxes.</p>

<p>The first step is reboot your system, because without that snap may block you from removing packages. Then do a <code>snap list</code> to get all the packages installed, and remove them.</p>

<p><img src="https://vec.io/images/2020/06/29/snap-list.png" alt="snap"></p>

<p>Looks scary, huh? Yes they have <code>core</code> installed, and you may also have <code>gnome-3-34</code> or <code>gtk-common-themes</code>, all seems something you should not remove, otherwise they would break your system. However I did remove all of them with <code>sudo snap remove core18</code> and blah blah.</p>

<p>After all of them removed, I purged the snapd package by <code>sudo apt purge snapd</code> and made a system reboot.</p>

<p>All good, and shutdown is never stuck.</p>

<p><em>References List</em></p>

<ol>
  <li><a href="https://news.ycombinator.com/item?id=23616150">Hacker News: 	Red Hat reports security issue in Linux Kernel which was fixed 17 months prior</a></li>
  <li><a href="https://github.com/flatpak/flatpak/issues/2031">GitHub:  fcitx stop working at flatpak 1.0.0</a></li>
</ol>

  </div></div>]]>
            </description>
            <link>https://vec.io/posts/remove-snap-in-ubuntu-2004</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675113</guid>
            <pubDate>Mon, 29 Jun 2020 07:02:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chasing a Bad Commit]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675080">thread link</a>) | @pvsukale3
<br/>
June 28, 2020 | https://vishaltelangre.com/chasing-a-bad-commit/ | <a href="https://web.archive.org/web/*/https://vishaltelangre.com/chasing-a-bad-commit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p><span>
      <span></span>
  <img alt="Discussion between a frustrated developer and a happy developer about git bisect" title="Discussion between a frustrated developer and a happy developer about git bisect" src="https://vishaltelangre.com/static/d06b624db0d11519e917870a94ca2b19/29114/frustrated-dev-unaware-of-git-bisect.png" srcset="https://vishaltelangre.com/static/d06b624db0d11519e917870a94ca2b19/e85cb/frustrated-dev-unaware-of-git-bisect.png 480w,https://vishaltelangre.com/static/d06b624db0d11519e917870a94ca2b19/d9199/frustrated-dev-unaware-of-git-bisect.png 960w,https://vishaltelangre.com/static/d06b624db0d11519e917870a94ca2b19/29114/frustrated-dev-unaware-of-git-bisect.png 1920w,https://vishaltelangre.com/static/d06b624db0d11519e917870a94ca2b19/2b984/frustrated-dev-unaware-of-git-bisect.png 2164w" sizes="(max-width: 1920px) 100vw, 1920px" loading="lazy">
    </span></p><h2 id="background"><a href="#background" aria-label="background permalink"></a>Background</h2><p>While working on a big project where multiple teams merge their feature branches frequently into a <span title="Click to find out more">release Git branch</span>, developers often run into situations where they find that some of their work have been either removed, modified or affected by someone else's work accidentally. It can happen in smaller teams as well. Two features could have been working perfectly fine until they got merged together and broke something. That's a highly possible case. There are many other cases which could cause such hard to understand and subtle bugs which even continuous integration (CI) systems running the entire test suite of our projects couldn't catch.</p><p>We are not going to discuss how such subtle bugs can get into our release branch because that's just a wild territory out there. Instead, we can definitely discuss about how to find a commit that deviated an expected outcome of a certain feature. The deviation could be any behaviour of our code that we can measure distinctively ‚Äî either good or bad in general.</p><table><thead><tr><th>Examples of deviations</th><th>Measurement</th></tr></thead><tbody><tr><td>A commit that introduced a bug or a regression</td><td><code>Good</code> or <code>Bad</code></td></tr><tr><td>A commit that changed the code style</td><td><code>New</code> or <code>Old</code></td></tr><tr><td>A commit caused a benchmark's performance</td><td><code>Fast</code> or <code>Slow</code></td></tr><tr><td>A commit that fixed a bug</td><td><code>Fixed</code> or <code>Broken</code></td></tr></tbody></table><p>Finding the exact point where it changed the course of our code base in terms of either of such deviations could be difficult to trace down and involves a lot of efforts if we have to do it manually.</p><h2 id="a-common-problem"><a href="#a-common-problem" aria-label="a common problem permalink"></a>A common problem</h2><p>Let's assume an example.</p><p>We are looking for a commit that broke something in our shipment feature which was working perfectly fine until the last release. We had tagged that release commit with <code>v12.1.0-rc4</code>. We also have a few tests in our test suite that can help us identify whether that commit is good or bad. Then just recently, some teams merged their feature branches that introduced about close to hundred of commits into our release branch. That's a normal practice in our project assuming we have a bunch of teams working on different feature branches constantly. Then suddenly our CI service reports a red build for the tests run on the latest release branch. CI marked that build as failed since it found that the tests related to the shipment feature were failing. That's very unfortunate and all teams are worried now. But why everyone has to worry? Because everyone have to start with the code in the release branch as the base code and build features atop meaning they would get same test failures in their feature branches, too and won't be able to merge that without a succsessful build on CI. Such a cascaded effect slows down the overall progress and morale of the teams, right?!</p><div>
  <div>
    <figure>
      <span>
      <span></span>
  <img alt="Cancel the team lunch! :(" title="Cancel the team lunch! :(" src="https://vishaltelangre.com/static/a9f9facc755138f691e78fa3bf1ab903/218a4/bleeding-ci.png" srcset="https://vishaltelangre.com/static/a9f9facc755138f691e78fa3bf1ab903/e85cb/bleeding-ci.png 480w,https://vishaltelangre.com/static/a9f9facc755138f691e78fa3bf1ab903/d9199/bleeding-ci.png 960w,https://vishaltelangre.com/static/a9f9facc755138f691e78fa3bf1ab903/218a4/bleeding-ci.png 1052w" sizes="(max-width: 1052px) 100vw, 1052px" loading="lazy">
    </span>
      <figcaption>Cancel the team lunch! :(</figcaption>
    </figure>
  </div></div><p>Because we are the team responisble for the shipment feature, we need to fix those failing tests in the release branch. But everyone in our team is pretty sure that it's not our fault because the overall shipment feature was working until we released <code>v12.1.0-rc4</code>. But anyway we need to triage and fix it, right? So we start with the <code>HEAD</code> commit in the latest release branch. We confirm that the shipment feature breaks on it by running our test suite. Then we keep checking out to each of the previous commits in the Git history until we find a commit where our test suite passes. In a worst case scenario, that succsessful commit could be the one which is tagged with <code>v12.1.0-rc4</code> ‚Äî meaning we have to checkout to about hundred commits one-by-one to find a good commit. The commit made just after that <strong>good commit</strong> in the commit history tree is what we can refer a <strong>bad commit</strong>.</p><p>If we take such a route, we would end up spending unimaginable hours (or days) chasing down a bad commit. That's definitely not an ideal solution.</p><h2 id="a-bunch-of-solutions"><a href="#a-bunch-of-solutions" aria-label="a bunch of solutions permalink"></a>A bunch of solutions!</h2><p>So what options do we have?</p><ul><li><strong>Option 1</strong>: We can equally divide the commits between a well known good commit and a bad commit among the team members and manually checkout to each commit accordingly to reduce the overall efforts. This excercise suits that popular saying, <em>work as a team!</em></li><li><strong>Option 2</strong>: <code>The Nerd John</code> in our team has a clever idea to implement a fancy tool that would utilize a  binary search algorithm that automatically keeps dividing the commits equally by running the test suite until it finds a commit which was the first bad commit in the commit history. We all know, John's so nerdy!</li><li><strong>Option 3</strong>: Use a readymade tool <code>git bisect</code> which comes built-in with <code>git</code> that <code>The Nerd John</code> could have been end up building ‚Äî but only in its half-baked form.</li></ul><h2 id="git-bisect-a-good-solution"><a href="#git-bisect-a-good-solution" aria-label="git bisect a good solution permalink"></a>git bisect: a good solution</h2><p>The <code>git bisect</code> command uses an efficient binary search algorithm to help us find a commit that we are looking for. It requires us to specify a bad commit and at least a good commit (can specify many good commits though to further narrow down the search). It then keeps <strong><span title="Click to find out more">bisecting</span></strong> the commits between the specified bad and good commits until it finds the first commit in the commit history that caused the <span title="Click to find out more">deviation</span>.</p><p>The <code>git bisect</code> command can run in either manual (interactive) mode or in a fully automated mode. Before each iteration, bisect needs to know whether the given commit is a bad commit or a good commit.</p><div>
  <div>
    <figure>
      <span>
      <span></span>
  <img alt="A very high level depiction of how git bisect works!" title="A very high level depiction of how git bisect works!" src="https://vishaltelangre.com/static/052949deaa115c2f2954722248437f69/29114/chasing-a-bad-commit.png" srcset="https://vishaltelangre.com/static/052949deaa115c2f2954722248437f69/e85cb/chasing-a-bad-commit.png 480w,https://vishaltelangre.com/static/052949deaa115c2f2954722248437f69/d9199/chasing-a-bad-commit.png 960w,https://vishaltelangre.com/static/052949deaa115c2f2954722248437f69/29114/chasing-a-bad-commit.png 1920w,https://vishaltelangre.com/static/052949deaa115c2f2954722248437f69/b29d9/chasing-a-bad-commit.png 1989w" sizes="(max-width: 1920px) 100vw, 1920px" loading="lazy">
    </span>
      <figcaption>A very high level depiction of how git bisect works!</figcaption>
    </figure>
  </div></div><h3 id="interactive-bisect"><a href="#interactive-bisect" aria-label="interactive bisect permalink"></a>Interactive bisect</h3><p>Let's try the interactive mode first.</p><p>We need to start a git bisect session in a clean Git directory.</p><p>Then we need to tell the SHA of a bad commit to git bisect. We can also use the branch name or a tag name pointing to a commit if we want. Let's assume that in our release branch (which is master branch), the latest commit is a bad commit. Therefore, we can specify that the current <code>HEAD</code> is a bad commit.</p><div data-language="bash"><pre><code>
$ <span>git</span> branch
bug/shipment-leg-misconfigured
feature/shipment-calculator
* master
production


$ rspec spec/models/shipment_spec.rb spec/controllers/shipments_controller_spec.rb
<span>..</span>.
Finished <span>in</span> <span>53.9</span> seconds
<span>238</span> examples, <span>3</span> failures


<span>$ <span>git</span> bisect bad HEAD </span></code></pre></div><p>Now let's find the SHA or tag of a good commit that we are aware of.</p><div data-language="bash"><pre><code>
$ <span>git</span> log --oneline --graph





$ <span>git</span> checkout v12.1.0-rc4


$ rspec spec/models/shipment_spec.rb spec/controllers/shipments_controller_spec.rb
<span>..</span>.
Finished <span>in</span> <span>45.8</span> seconds
<span>221</span> examples, <span>0</span> failures</code></pre></div><p>Because we are already checked out to a good commit, we can simply ask git bisect to mark the current commit as a good commit.</p><div data-language="bash"><pre><code>


<span>$ <span>git</span> bisect good</span><span>Bisecting: <span>46</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>6</span> steps<span>)</span></span><span><span>[</span>02b0b29<span>]</span> Fix: Flicker <span>in</span> insights graph on dashboard</span></code></pre></div><p>Notice the output of <code>git bisect good</code> command above. It automatically checked out to a commit which is in the middle of the range of about 91 commits between the <code>HEAD</code> of master branch (bad) and <code>v12.1.0-rc4</code> (good) commits. That's what bisecting is in general ‚Äî dividing something in the middle! That output also shows that it would require just about 6 more steps to find out a culprit commit. Ain't that awesome?!</p><p>We can use <code>git bisect visualize</code> or <code>git bisect view</code> to see the boundary commits and the current HEAD commit.</p><div data-language="bash"><pre><code>$ <span>git</span> bisect view --oneline
<span>* 5b91861 <span>(</span>master, origin/master<span>)</span> Merge <span>'feature/new-logistics-reports'</span> branch into <span>'origin/master'</span> branch</span>* <span>..</span>.
* <span>..</span>.
<span>* 02b0b29 <span>(</span>HEAD<span>)</span> Fix: Flicker <span>in</span> insights graph on dashboard</span>* <span>..</span>.
* <span>..</span>.
<span>* 4748ff8 <span>(</span>v12.1.0-rc4<span>)</span> Release v12.1.0-rc4</span></code></pre></div><p>Let's check if the relevant tests pass or fail here and mark the current HEAD as either good or bad accordingly.</p><div data-language="bash"><pre><code>$ rspec spec/models/shipment_spec.rb spec/controllers/shipments_controller_spec.rb
<span>..</span>.
Finished <span>in</span> <span>42.8</span> seconds
<span>221</span> examples, <span>0</span> failures</code></pre></div><p>Tests are passing meaning it's a good commit. So let's tell git bisect the same.</p><div data-language="bash"><pre><code>$ <span>git</span> bisect good
Bisecting: <span>23</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>5</span> steps<span>)</span>
<span>[</span>794197a<span>]</span> Update profile mutation to allow changing middle name</code></pre></div><p>We keep doing this excercise 5 more times until <code>git bisect</code> reports us the first bad commit.</p><div data-language="bash"><pre><code>
$ <span>git</span> bisect bad
Bisecting: <span>11</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>4</span> steps<span>)</span>
<span>..</span>.


$ <span>git</span> bisect bad
Bisecting: <span>5</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>3</span> steps<span>)</span>
<span>..</span>.


$ <span>git</span> bisect bad
Bisecting: <span>2</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>1</span> step<span>)</span>
<span>..</span>.


$ <span>git</span> bisect good
Bisecting: <span>0</span> revisions left to <span>test</span> after this <span>(</span>roughly <span>1</span> step<span>)</span>
<span>..</span>.


$ <span>git</span> bisect bad
<span>efd1083e15670fe6443e5b569b3c0be0e39e212d is the first bad commit</span>commit efd1083e15670fe6443e5b569b3c0be0e39e212d
Author: Brandon Ross <span>&lt;</span>brandon.ross@bigcorp.com<span>&gt;</span>
Date:   Fri Jun <span>19</span> <span>14</span>:02:09 <span>2020</span> -0400

    Change the courier <span>service</span> provider to DHL</code></pre></div><p>There's that bad commit we were looking for! Thanks to <code>git bisect</code> ‚Äî only in about 6 steps, we found the culprit commit which introduced a bug due to which our shipment feature started failing afterwards in our release branch. Now we can have a chat with Bandon who had pushed that commit and see if we can fix the bug that broke the shipment feature and made our poor CI cry!</p><p>Since we are done here, let's cleanup the bisect session as a final step. This way, git will return back to the original HEAD before the bisect session was started.</p><div data-language="bash"><pre><code>$ <span>git</span> bisect reset
Previous HEAD position was efd1083 Change the courier <span>service</span> provider to DHL
Switched to branch <span>'master'</span>
Your branch is up to <span>date</span> with <span>'origin/master'</span><span>.</span></code></pre></div><h3 id="fully-automated-bisect"><a href="#fully-automated-bisect" aria-label="fully automated bisect permalink"></a>Fully automated bisect</h3><p>Until now, we have been determining ourselves whether a commit is a good commit or a bad commit and were telling the same to <code>git bisect</code> accordingly. That means our manual intervention was needed all the times.</p><p>Cannot we do any better?</p><p>Yes, we can!</p><p><code>git bisect run</code> can execute any command or script. If that command or script exits with code <code>0</code> then <code>git bisect</code> would mark the current commit as a good commit. On the other hand, if that command or script exits with any other code between <code>1</code> and <code>127</code> (inclusive) <span title="Click to find out more">except 125</span> then <code>git bisect</code> would mark the current commit as a bad one.</p><p>And we already know that once a commit is marked as either good or bad, <code>git bisect</code> bisects and checks out to the middle commit of the current range and would keep executing the same command or script we provided to <code>git bisect run</code> until it ‚Ä¶</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vishaltelangre.com/chasing-a-bad-commit/">https://vishaltelangre.com/chasing-a-bad-commit/</a></em></p>]]>
            </description>
            <link>https://vishaltelangre.com/chasing-a-bad-commit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675080</guid>
            <pubDate>Mon, 29 Jun 2020 06:57:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: The Importance of Logging ‚Äì Introducing Logality]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23675078">thread link</a>) | @thanpolas
<br/>
June 28, 2020 | https://thanpol.as/nodejs/why-logs-are-important-introducing-logality | <a href="https://web.archive.org/web/*/https://thanpol.as/nodejs/why-logs-are-important-introducing-logality">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  <div>
    <div>

      
      <p><time datetime="2020-06-27 00:00:00 +0000">27 Jun 2020</time></p><p>Having your application produce the right amount and quality of logs will help you debug faster, optimize better and keep your data safe and secure. I was always fascinated with logging and tried to figure out the best ways to log and create telemetry for my applications.</p>

<p>Having the opportunity to work with multiple startups, I came into close contact with all of Node.js‚Äô major logging packages. Lately, I had the luck to work with highly security aware businesses, for whom security is an existential threat. When tasked with the challenge of creating secure applications for them, I knew without hesitation that I had to create a new library to meet all the new requirements that were at play.</p>

<p>I want to introduce you to <a href="https://github.com/thanpolas/logality">Logality</a>, a versatile and powerful logger for Node.js.</p>

<p><img src="https://thanpol.as/assets/blogimg/planning.jpg" alt="Logging Flow"></p>

<h2 id="the-logging-requirements">The Logging Requirements</h2>

<p>These are the logging requirements that were on the drawing board when Logality was first implemented. I could find some of them in some packages, but not all of them in one package:</p>

<ul>
  <li><a href="#a-common-logging-schema"><strong>Complete Flexibility on Properties</strong></a>. In order for my organization to have a common logging schema, it is required of the logging library to allow the definition of properties from scratch. A lot of the packages make those decisions for you leaving you with no options to normalize the logging schema. The most common example for this is the date field, you can find it as <code>dt</code>, <code>date</code>, <code>timestamp</code> or any other variance, without any option to change the name.</li>
  <li><a href="#serializers-of-data-objects"><strong>Serializers of Data Objects</strong></a>. As <a href="https://github.com/thanpolas/logality">Logality</a> is primarily a JSON logger, dealing with data is the most common operation. Being able to serialize known data structures is key in this case. Just drop your user data object to logality and the built-in or your custom serializer will make sure to transform the object so only what you want will be logged.</li>
  <li><a href="#custom-output-and-pretty-print"><strong>Support Custom Outputs</strong></a>. Logality‚Äôs Default output is JSON but the library should not limit you as to the kind of output you want, for instance print human readable logs while on development. Custom outputs also allow you to filter log messages so you can suppress dynamically certain types or log levels of messages.</li>
  <li><a href="#logging-metadata"><strong>Logging Metadata</strong></a>. Have the logger automatically log the location of the file that the log originated from. As well as other useful system information (OS version, runtime info, etc).</li>
  <li><a href="#the-power-of-middleware"><strong>Middleware Support</strong></a>. Supporting middleware is a very powerful way to transform and augment each one of your log messages. The options that this feature opens up are endless.</li>
  <li><a href="#linking-multiple-logality-instances"><strong>Logging for Libraries</strong></a>. All open source contributors must have faced this challenge at least once: How do I output logs from my library? This is no easy task, Logality provides an eloquent and powerful solution to this problem.</li>
</ul>

<p>With these requirements in place, <a href="https://github.com/thanpolas/logality">Logality</a> was created on May 18, 2018. Ever since then the library has been iteratively improving and bug fixed. Today, the current Version is 3.0.0, which was released on April of 2020. In the following sections, we will go through a more detailed analysis of the features and powerful capabilities of Logality.</p>

<h2 id="a-common-logging-schema">A Common Logging Schema</h2>

<p>The more standardized your log messages are, the easier it will be to query, parse and subsequently analyze them. Consequently, your log messages need to have a schema. As we all know, the most ubiquitous format for text based serialization today, is JSON.</p>

<p>Logality is a JSON logger that provides an initial recommendation of a logging schema but allows you to define your own schemas down to the last property.</p>

<p>This is a very important feature. When you are trying to have a common logging schema across multiple operating systems, platforms and programming languages, it is essential that your tooling allows you to be flexible and versatile.</p>

<p>Schema mutation in Logality happens through <a href="#the-power-of-middleware">Middleware</a> and <a href="#serializers-of-data-objects">Serializers</a>, both of which we touch on below.</p>



<p>Logality will take care of all your metadata needs so you won‚Äôt need to log any additional information. In particular, Logality will automatically resolve and log for you:</p>

<ul>
  <li>The location of the file where the log originated from.</li>
  <li>The hostname of the machine that runs the application.</li>
  <li>The process id.</li>
  <li>The process name.</li>
</ul>

<p>A simple <code>log.info('hello world')</code> log will produce the following log message (expanded):</p>

<div><div><pre><code><span>{</span><span>
    </span><span>"severity"</span><span>:</span><span> </span><span>6</span><span>,</span><span>
    </span><span>"level"</span><span>:</span><span> </span><span>"info"</span><span>,</span><span>
    </span><span>"dt"</span><span>:</span><span> </span><span>"2018-05-18T16:25:57.815Z"</span><span>,</span><span>
    </span><span>"message"</span><span>:</span><span> </span><span>"hello world"</span><span>,</span><span>
    </span><span>"event"</span><span>:</span><span> </span><span>{},</span><span>
    </span><span>"context"</span><span>:</span><span> </span><span>{</span><span>
        </span><span>"runtime"</span><span>:</span><span> </span><span>{</span><span>
            </span><span>"application"</span><span>:</span><span> </span><span>"testLogality"</span><span>
        </span><span>},</span><span>
        </span><span>"source"</span><span>:</span><span> </span><span>{</span><span>
          </span><span>"file_name"</span><span>:</span><span> </span><span>"/test/spec/surface.test.js"</span><span>
        </span><span>},</span><span>
        </span><span>"system"</span><span>:</span><span> </span><span>{</span><span>
            </span><span>"hostname"</span><span>:</span><span> </span><span>"localhost"</span><span>,</span><span>
            </span><span>"pid"</span><span>:</span><span> </span><span>36255</span><span>,</span><span>
            </span><span>"process_name"</span><span>:</span><span> </span><span>"node ."</span><span>
        </span><span>}</span><span>
    </span><span>}</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>With the use of <a href="#the-power-of-middleware">Middleware</a> you can create and attach your own metadata on each one of your log messages.</p>

<h2 id="serializers-of-data-objects">Serializers of Data Objects</h2>

<p>As standardization of logging data is a primary requirement for Logality, serializers were introduced to solve the problem of consistently logging known data objects.</p>

<p>Let‚Äôs take for example the User Data Object (UDO) and the action of logging in, you could log the event as:</p>

<div><div><pre><code><span>log</span><span>.</span><span>info</span><span>(</span><span>`User </span><span>${</span><span>user</span><span>.</span><span>email</span><span>}</span><span> logged in`</span><span>);</span>
</code></pre></div></div>

<p>But that is not a JSON log message, that is a string log message and it is not easily query-able. Let‚Äôs try this again with Logality‚Äôs JSON logging feature:</p>

<div><div><pre><code><span>log</span><span>.</span><span>info</span><span>(</span><span>'</span><span>User logged in</span><span>'</span><span>,</span> <span>{</span><span>user</span><span>});</span>
</code></pre></div></div>

<p>Now we passed the UDO to logality, however, Logality has no instruction of what portions of the UDO we want logged and here is where serializers come in. Serializers are simple functions that take the objects that you pass as input and output the properties that you want to have logged.</p>

<p>This way, you standardize how your models are logged across your infrastructure and protect your system from logging sensitive fields like a user‚Äôs password or unnecessary information like meta data of a product.</p>

<h2 id="the-power-of-middleware">The Power of Middleware</h2>

<p>Logality introduces middleware which allows you to manipulate and mutate the logging messages as you see fit:</p>

<div><div><pre><code><span>logality</span><span>.</span><span>use</span><span>((</span><span>context</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>// Remove user data object from logging</span>
    <span>delete</span> <span>context</span><span>.</span><span>user</span><span>;</span>

    <span>// Add debugging flag on all messages</span>
    <span>context</span><span>.</span><span>debug</span> <span>=</span> <span>1</span><span>;</span>
<span>});</span>
</code></pre></div></div>

<p>With Middleware, you can create powerful data flows, augmenting log messages as they come in with rich metadata information collected from the environment and runtime.</p>

<p>You can also have conditional transformations of the data that pass through logality for absolute control over the data flows and your compliance requirements.</p>

<h2 id="linking-multiple-logality-instances">Linking Multiple Logality Instances</h2>

<p>As an open source contributor, one of the biggest problems I have been challenged with is how to log on open source libraries. If you want to have logging on your library you are challenged with quite a few problems:</p>

<ul>
  <li>Provide an option to turn off logging.</li>
  <li>Provide a way to filter the logging level.</li>
  <li>How do you format the logs according to your downstream application‚Äôs standards?</li>
  <li>Should you log to stdout, an event or a function?</li>
</ul>

<p>These are very challenging problems, to the point where no practical solution exists. Until today that is, as Logality introduces piping. You can pipe one Logality instance into another and have all the middleware functions handle the piped logality‚Äôs log messages. When Logality is piped, the log messages get passed as pure data objects so that the downstream consuming function can properly parse and manipulate them.</p>

<p>This is huge as it enables your application to granularly control how much information is logged from the libraries you are using. And at the same time have your third-party libraries log in the exact same format-schema that your entire infrastructure is logging. Isn‚Äôt that great?</p>

<p>Piping happens simply by providing the child Logality instance to the parent‚Äôs <code>pipe()</code> method:</p>

<div><div><pre><code><span>const</span> <span>thirdPartyLibrary</span> <span>=</span> <span>require</span><span>(</span><span>'</span><span>thirdparty</span><span>'</span><span>);</span>

<span>/* ... */</span>

<span>applicationLogality</span><span>.</span><span>pipe</span><span>(</span><span>thirdPartyLibrary</span><span>.</span><span>logality</span><span>);</span>
</code></pre></div></div>

<h2 id="custom-output-and-pretty-print">Custom Output and Pretty Print</h2>

<p>Finally, after all the processing the log message has gone through, you can control how the final serialization and output is handled. By default Logality will JSON serialize and output to stdout but you may have other plans.</p>

<p>This operation also enables you to filter certain log messages based on your custom criteria. This is particularly useful when managing multiple log streams from various upstreams (third-party libraries) that are piping their logs to your main application Logality logger.</p>

<p>Logality also offers a built-in pretty print functionality that, as the word suggests, will print the log messages in a human readable format, with nice colors, emojis and all. This is particularly useful when you are developing the application and don‚Äôt want to see JSON serialized log messages.</p>

<h3 id="outline-of-logalitys-lifecycle-and-piping">Outline of Logality‚Äôs Lifecycle and Piping</h3>

<p><img src="https://thanpol.as/assets/blogimg/logality-lifecycle-outline.svg" alt="Logality Lifecycle Outline"></p>

<h2 id="synchronous-or-asynchronous">Synchronous or Asynchronous?</h2>

<p>With a flick of a switch you can have Logality become asynchronous and reveal its Promise API. When in async mode, Logality‚Äôs Middleware and Custom Output functions will be able to handle a promise and allow you to capture log messages en-route.</p>

<p>Say you want to push all log messages to a queue, or for any reason, you want to store some, or all, of the log messages into your database. By enabling async mode on Logality you can easily and safely perform those tasks:</p>

<div><div><pre><code><span>// Security middleware for logality, store the log message</span>
<span>// in our database as well and send it to our queue for</span>
<span>// further processing and alerting</span>
<span>logality</span><span>.</span><span>use</span><span>(</span><span>async</span> <span>(</span><span>context</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>if</span> <span>(</span><span>context</span><span>.</span><span>security</span><span>)</span> <span>{</span>
        <span>await</span> <span>db</span><span>.</span><span>store</span><span>(</span><span>context</span><span>);</span>
        <span>await</span> <span>queue</span><span>.</span><span>send</span><span>(</span><span>context</span><span>);</span>
    <span>}</span>
<span>});</span>

<span>/* ... */</span>

<span>// login failed, log it</span>
<span>await</span> <span>log</span><span>.</span><span>warn</span><span>(</span><span>'</span><span>Login Failed</span><span>'</span><span>,</span> <span>{</span><span>security</span><span>:</span> <span>true</span><span>});</span>
</code></pre></div></div>

<p>As you rightfully observed, when async mode is enabled Logality‚Äôs logging is, well, async, and thus returns a promise that needs to be resolved. Therefore, that is why you see the <code>await</code> before the <code>log.warn()</code> invocation.</p>

<p>Personally, my use case for using async mode and secondary data stores <a href="https://srop.co/" title="SROP The Secure Drop">at SROP</a> was for auditing log trails. When an audit log event occurred, ‚Ä¶</p></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thanpol.as/nodejs/why-logs-are-important-introducing-logality">https://thanpol.as/nodejs/why-logs-are-important-introducing-logality</a></em></p>]]>
            </description>
            <link>https://thanpol.as/nodejs/why-logs-are-important-introducing-logality</link>
            <guid isPermaLink="false">hacker-news-small-sites-23675078</guid>
            <pubDate>Mon, 29 Jun 2020 06:57:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Even Experts Need Experts]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23674933">thread link</a>) | @kiyanwang
<br/>
June 28, 2020 | https://willgallego.com/2020/06/28/even-experts-need-experts/ | <a href="https://web.archive.org/web/*/https://willgallego.com/2020/06/28/even-experts-need-experts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		    
<p>Before moving to the suburbs, I had been living in NYC for 12+ years, so my skills with a set of tools aren‚Äôt extensive. There are lots of problems I could <em>eventually</em> fix with significant time and money invested into projects, as I do like my projects to tinker with, but I don‚Äôt have infinite resources to do all the things. That‚Äôs why I‚Äôve got a handyman I call up, as everyone should.</p>



<p>My handyman is Roger, a now semi-retired civil engineer and MIT grad. His visits entwine a blessing of knowledge around an otherwise potentially disastrous event ‚Äì roof tiles flying off, an oven subtly leaking gas, or what has become an annual occurrence where some form of plumbing threatens to flood my house. I take a crack at it and when my pridefulness is eclipsed by the existential threat of my living space facing certain doom, I give him a call.</p>



<p>‚ÄúAnd you‚Äôd think this would all be standardized, but it‚Äôs not! It‚Äôs like cmon, why can‚Äôt you just get this all straight!?‚Äù he laughs as he rips apart my sink. He pulls out a pair of pump pliers and sets to work as another faucet piece pops off. I solemnly nod, taking in how to deconstruct/reconstruct the bathroom should the need arise again. It will, naturally. My house seems to break down every other week.</p>



<p>His approach to home repair tickles those same parts of my brain as does software engineering. A lack of standardization? I get that. He remarks how houses don‚Äôt come with an owner‚Äôs manual. Wouldn‚Äôt it be nice if companies did too. Shouldn‚Äôt I know <em>everything</em> about the place? I live here, after all. Yet here I am, the resident (if you can excuse the pun) expert, deferring to his expertise.</p>



<p>‚ÄúJust make sure you cover the drain when taking out the screws. You know how I know to do that? Because I‚Äôve dropped them down there enough times‚Äù. He knows how to approach problems because, as he says, he‚Äôs seen the same six or eight versions of it before. He hasn‚Äôt honed his skills on work perfectly crafted from the start, but from seeing the gaps evolve from imperfect planning. Remarking on sealing the corners of the tub, he notes the walls shifting as joints meet and separate through varying temperature changes. A seemingly static house itself is constantly in flux, much like our working environments.</p>



<p>Then he stands up straight and waves at me a hereto unknown part of my sink. ‚ÄúYou know what this is?‚Äù I naturally answer in the negative. ‚ÄúNeither do I. Time to go see my guy at the plumbing store. <em>He‚Äôs</em> the guy who‚Äôs seen everything and done everything, the XK-587 or whatever here. Doesn‚Äôt matter what I bring in, he knows exactly what to do.‚Äù</p>



<p>My expert has <em>his own expert</em> when he doesn‚Äôt know something. The guy who‚Äôs ‚Äúseen and done it all‚Äù still has someone he rings up, because that‚Äôs what experts do, sourcing from upstream and relaying that information back down to another node on the graph. If I‚Äôm lucky, I‚Äôll retain enough information to use or maybe even pass along to someone else.</p>



<p>Which brings us back to software engineering. We‚Äôre always so surprised when the expert manages to jump to the right config, flip a switch, and set the machine back in order. We assume it‚Äôs innate talent, some magic imbued that resides only within them and goes no further. I‚Äôm deeply appreciative of expertise, but we hold too many folks up on pedestals, when in truth they have their own gurus who they rely upon. They remember their screws dropped down the drain and ask their authority in plumbing, combined into charting a best path forward.</p>



<p>A few thoughts and questions arise from all of this:</p>



<ul><li>How do we go about observing the near infinite number of changes around us, filtering down to what we‚Äôll need ‚Äúsomeday‚Äù?</li><li>If experts have their own experts, we as professionals need to develop a system of interconnected people capable of adapting to the unknown failures we experience in both a local and global focus. Machines need people and people need people.</li><li>That interconnected network then, in its collaboration, needs to have self awareness of what skills need to be honed and how we go about distributing that skill. The shared knowledge isn‚Äôt just how to fix but meta information about that ability.</li><li>We talk often of avoiding as many failures as we can, but which are the failures we‚Äôre ok with <em>and how are we seeking them out?</em> Put another way, we need to experience a few screws dropped down the drain to learn but developing an understanding of which pain points we can reasonably withstand takes experience as well.</li><li>Where does the balance lie in letting our non-experts take over to return the system to a stable state, potentially educating the next batch of specialists? We emphasize the importance of learning from incidents as experiences after the fact, but generally regard the chance to educate during an incident as ‚Äútoo costly‚Äù.</li><li>How are we making continual efforts to prepare for these failures ‚Äì to be ready to resolve them, to retain information during, and perhaps most importantly pass that information along afterwards? Relying solely upon experts with no additional knowledge sharing is itself a brittleness that exists within a system.</li></ul>



<p>Eventually, Roger returns from talking with his expert and immediately passes to me a replacement part. Sure enough, the gears inside don‚Äôt show the same wear and tear. My bathroom is still in pieces, but they‚Äôre all there and I‚Äôve seen enough to finish up. ‚ÄúUntil next time!‚Äù he knowingly laughs. Because of course there will be another disaster. Here‚Äôs hoping I‚Äôll be a little more prepared for it.</p>



<p><em>Photo:</em><a href="https://flickr.com/photos/105105658@N03/43377542791"><em> https://flickr.com/photos/105105658@N03/43377542791</em></a><br></p>
	    </div></div>]]>
            </description>
            <link>https://willgallego.com/2020/06/28/even-experts-need-experts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23674933</guid>
            <pubDate>Mon, 29 Jun 2020 06:26:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kubernetes ‚Äì Deploy spring boot microservice on K8s cluster]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23674915">thread link</a>) | @rahulwagh17
<br/>
June 28, 2020 | https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes | <a href="https://web.archive.org/web/*/https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>  <blockquote><p><strong>TL;DR</strong>: This guide will help you to develop microservices using Spring boot after that you will be building docker image of your newly build spring boot microservice and finally you will deploy the docker container inside kubernetes environment.</p><p>Along with this instructional guide you will get hands on lab session video guide which you can also refer for more practical experience.</p><p>There are two lab session guide which you find in this article ‚Äì <br>1. <a href="https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes/#part-1">Deploying Spring Boot Microservice on local kubernetes Cluster</a><br>2. <a href="https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes/#part-2">Deploying spring boot Microservice on Google Cloud Platform(GCP)</a></p></blockquote><h2 id="part-1"><span>Part 1 ‚Äì Deploy spring boot microservice on local kubernetes cluster using Kubespray</span></h2><figure><p> <iframe title="Deploy spring boot microservices on kubernetes cluster - Part 4" width="750" height="422" data-src="https://www.youtube.com/embed/404j_mvr0Yg?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure><p>As we know our final goal is to ‚Äúdeploy spring boot micro-services on kubernetes‚Äù but before that, we need to build our spring boot application.</p><h3 id="step-1">Step 1: Bootstrapping the spring boot application</h3><p>Let‚Äôs head over to <strong>spring initializr</strong>(<a href="https://start.spring.io/">https://start.spring.io/</a>) for generating skeleton for our spring boot application.</p><p>Fill in the following details for spring boot application ‚Äì</p><ul><li>Group ‚Äì com.jhooq</li><li>Artifacts ‚Äì Jhooq-k8s</li><li>Project ‚Äì Gradle Project</li><li>Packaging ‚Äì Jar</li><li>Java ‚Äì 11</li></ul><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-1024x676.png" alt="Deploy Spring Boot microservices on kubernetes" srcset="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-1024x676.png 1024w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-300x198.png 300w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-768x507.png 768w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-75x50.png 75w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1.png 1090w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-1024x676.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-1024x676.png 1024w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-300x198.png 300w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-768x507.png 768w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1-75x50.png 75w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-1.png 1090w"><figcaption>Spring initalizr for building spring boot application</figcaption></figure><p>Now click on the ‚ÄúAdd Dependecies‚Äù sections to add ‚Äú<strong>Spring Web</strong>‚Äù dependencies which include RESTful, application using Spring MVC and uses Apache Tomcat as the default embedded cotainer.</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3.png" alt="Spring initalizr for building spring boot application" srcset="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3.png 648w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3-300x244.png 300w" sizes="(max-width: 648px) 100vw, 648px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3.png 648w, https://jhooq.com/wp-content/uploads/2020/05/spring-boot-initializr-3-300x244.png 300w"><figcaption>Spring initalizr selecting the spring boot dependency</figcaption></figure><p>After you ready to go and click on <strong>‚ÄúGenerate CTRL+‚Üµ‚Äù</strong> and save the zip file containing spring boot skeleton project.</p><h3>Step 2: Import the spring boot project into IDE</h3><p>The next step would be to extract the zip file which you have downloaded in the ‚Äì <a href="#step-1">Step 1</a></p><p>Open you favorite IDE to import the project.(In my case i am using <a rel="noreferrer noopener" href="https://www.jetbrains.com/" target="_blank">Intellij Idea</a>). It should look something like this</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-1024x414.png" alt="Intellij import spring boot project" srcset="https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-1024x414.png 1024w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-300x121.png 300w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-768x310.png 768w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project.png 1403w" sizes="(max-width: 1024px) 100vw, 1024px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-1024x414.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-1024x414.png 1024w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-300x121.png 300w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project-768x310.png 768w, https://jhooq.com/wp-content/uploads/2020/05/Intellij-importing-spring-boot-project.png 1403w"><figcaption>Intellij import spring boot project for building spring boot application to deploy on kubernetes environment</figcaption></figure><h3>Step 3: Implement your microservice</h3><p>For the simplicity we will be implementing a very simple <strong>‚ÄúHello World‚Äù </strong>microservice and accessing it with either <strong>web browser</strong> or <strong>curl</strong> from the terminal.</p><p>Here is my RestController class called <strong>JhooqController</strong></p><pre><code>package com.jhooq.Jhooqk8s.ws;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class JhooqController {

    @GetMapping("/hello")
    public String hello() {
        return "Hello - Jhooq-k8s";
    }
}</code></pre><p>Next step would be to build your Spring boot project using gradle</p><p>Run the following gradle build command ‚Äì</p><pre><code>$ ./gradlew build

&gt; Task :test
2020-05-16 13:03:51.176  INFO 6235 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'

BUILD SUCCESSFUL in 6s
5 actionable tasks: 5 executed</code></pre><p>Now you have build your Spring Boot project and its time to run the Spring boot application.</p><p>Switch to the <strong>‚Äúbuild/libs</strong>‚Äù directory and you should see your jar file over there .i.e. ‚Äì <strong>Jhooq-k8s-0.0.1-SNAPSHOT.jar</strong></p><pre><code>$ cd build/libs/</code></pre><pre><code>$ ls -lart
total 17228
drwxrwxr-x 2 rahul rahul     4096 touko  16 13:03 .
-rw-rw-r-- 1 rahul rahul 17633090 touko  16 13:03 Jhooq-k8s-0.0.1-SNAPSHOT.jar
drwxrwxr-x 9 rahul rahul     4096 touko  16 13:03 ..
</code></pre><p>Now run the spring boot application</p><pre><code>$ java -jar Jhooq-k8s-0.0.1-SNAPSHOT.jar</code></pre><p>You should following successful start message</p><pre><code>Started JhooqK8sApplication in 2.099 seconds (JVM running for 2.517)</code></pre><h3>Step 4: Test the rest webserive</h3><p>Once your spring boot application has started, now you can test the rest end point</p><pre><code>$ curl http://localhost:8080/hello</code></pre><pre><code>Hello - Jhooq-k8s</code></pre><h3 id="step-5-docker-hub">Step 5: Create Dockerfile for spring boot application</h3><p>After testing your spring boot rest endpoint, now you need to create docker container of your Spring boot application.</p><p>To do that you need create the <strong>Dockerfile</strong>. You can create <strong>Dockerfile</strong> at any location. In this example we have created the Dockerfile at root level.</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot.png" alt="Docker file location in Spring boot project" srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot.png 386w, https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot-211x300.png 211w" sizes="(max-width: 386px) 100vw, 386px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot.png 386w, https://jhooq.com/wp-content/uploads/2020/05/docker-file-location-for-spring-boot-211x300.png 211w"><figcaption>Docker file location in Spring boot project</figcaption></figure><p>Now you need write some docker command for creating Docker container</p><pre><code>FROM openjdk:8-jdk-alpine
ARG JAR_FILE=build/libs/*.jar
COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java","-jar","/app.jar"]</code></pre><p>(<strong>*Note ‚Äì</strong> You need to be careful about the path to pick the <strong>Jhooq-k8s-0.0.1-SNAPSHOT.jar</strong> file. In this example our jar file location is <strong>build/libs/</strong>, So the docker file command should be <strong><em>ARG JAR_FILE=build/libs/*.jar</em></strong> )</p><h3>Step 6: Create Docker registry at ‚Äú<a href="https://hub.docker.com/">https://hub.docker.com/</a>‚Äú</h3><p>Before we build our docker image, the first thing we need to do is create a docker registry at <strong><a href="https://hub.docker.com/">‚Äúhttps://hub.docker.com/‚Äù</a></strong>. So that we will push our spring boot docker image into the registry. Later on, we will pull the same docker image during kubernetes deployment.</p><p>Goto <strong><a href="https://hub.docker.com/">‚Äúhttps://hub.docker.com/‚Äù</a></strong> and click on ‚ÄúCreate Repository‚Äù</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry.png" alt="Docker hub create registry for spring boot container" srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry.png 742w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry-300x57.png 300w" sizes="(max-width: 742px) 100vw, 742px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry.png 742w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-registry-300x57.png 300w"><figcaption>Docker hub create registry for spring boot container</figcaption></figure><p>Now it will prompt you for the docker registry name, in this example I am going to put my registry name as ‚Äì <strong>jhooq-k8s-springboot</strong>.</p><p>Based on your privacy settings either you can keep the docker registry either <strong>Public</strong> or <strong>Private</strong>.</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot.png" alt="Docker hub create registry for spring boot container" srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot.png 708w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot-263x300.png 263w" sizes="(max-width: 708px) 100vw, 708px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot.png 708w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-create-repository-for-spring-boot-263x300.png 263w"><figcaption>Docker hub create registry for spring boot container</figcaption></figure><p>Once you click on the save button you can see verify your docker registry onto the dashboard of your <strong><a href="https://hub.docker.com/">‚Äúhttps://hub.docker.com/‚Äù</a></strong></p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository.png" alt="Created docker hub repository for spring boot kubernetes deployment" srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository.png 740w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository-300x41.png 300w" sizes="(max-width: 740px) 100vw, 740px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository.png 740w, https://jhooq.com/wp-content/uploads/2020/05/docker-hub-created-repository-300x41.png 300w"><figcaption>Created docker hub repository for spring boot kubernetes deployment</figcaption></figure><h3>Step 7: ‚Äúdocker build‚Äù &amp;&amp; ‚Äúdocker push image‚Äù</h3><p>Now you have all the per-requisites done for building docker image and pushing it to the <strong><a href="https://hub.docker.com/">‚Äúhttps://hub.docker.com/‚Äù</a></strong>.</p><p>But the first thing ‚Äì Let‚Äôs build our docker image and assign a suitable tag name to the docker image</p><p><strong>Step 1 ‚Äì</strong> Build docker image and tag it with the name ‚Äú<strong>jhooq-k8s-springboot</strong>‚Äù</p><pre><code>$ docker build -t jhooq-k8s-springboot .</code></pre><p><strong>Step 2 ‚Äì</strong> Since our registry name on dockerhub is <strong>‚Äúrahulwagh17/jhooq-k8s-springboot‚Äù</strong> so we need to tag the build image one more time with docker registry name</p><pre><code>$ docker tag jhooq-k8s-springboot rahulwagh17/kubernetes:jhooq-k8s-springboot</code></pre><p><strong>Step 3 ‚Äì</strong> Push the docker image to docker hub</p><pre><code>$ docker push  rahulwagh17/kubernetes:jhooq-k8s-springboot</code></pre><pre><code>The push refers to repository [docker.io/rahulwagh17/kubernetes]
14170fe294f1: Pushed 
ceaf9e1ebef5: Layer already exists 
9b9b7f3d56a0: Layer already exists 
f1b5933fe4b5: Layer already exists 
jhooq-k8s-springboot: digest: sha256:b50ccfc5f80308795051b75fe69cc76f30dc37996b2c6065d2c978125621aefa size: 1159
</code></pre><p>Great now our spring boot docker image is onto the docker hub. Let‚Äôs move onto our next step where we will be starting our kubernetes cluster to deploy ‚Äúdocker container‚Äù which we just pushed onto docker hub.</p><h3>Step 8: Start kubernetes cluster</h3><blockquote><p>If you do not have kubernetes cluster running than please <span><strong>stop</strong></span> here and I would highly recommend going through the guide on ‚Äì Kubespray ‚Äì <a href="https://jhooq.com/kubespray-12-steps-for-installing-a-production-ready-kubernetes-cluster/">12 Steps for Installing a Production Ready Kubernetes Cluster</a>.</p></blockquote><p>Alright so if you have reached so far then you have pretty much set up your kubernetes cluster to deploy spring boot application on kubernetes.</p><p>If you havn‚Äôt run the kuberspray ansible then you could re-run it.</p><pre><code>vagrant@amaster:~/kubespray$ ansible-playbook -i inventory/mycluster/hosts.yml --become --become-user=root cluster.yml</code></pre><p>The ansible playbook will take some time to finish, once your ansible playbook run has finished successful then you should login to your kubernetes master node</p><pre><code>$vagrant ssh kmaster</code></pre><h3 id="step-9-k8s-cluster-deploy">Step 9: Deploy Spring Boot microservices on kubernetes</h3><p>Now you have logged into your kubernetes master node, we need to create deployment using <strong>kubectl</strong>.</p><p><strong>Step 1 ‚Äì</strong> Use the following command to create <strong>kubectl deployment</strong> with the name <strong>demo</strong></p><pre><code>vagrant@kmaster:~$ kubectl create deployment demo --image=rahulwagh17/kubernetes:jhooq-k8s-springboot</code></pre><p>Check the deployment using following command</p><pre><code>$ kubectl get deployments
NAME   READY   UP-TO-DATE   AVAILABLE   AGE
demo   1/1     1            1           5h20m</code></pre><p><strong>Step 2 </strong>‚Äì Expose the deployment to outside world</p><pre><code>vagrant@kmaster:~$ kubectl expose deployment demo --type=LoadBalancer --name=demo-service --external-ip=1.1.1.1 --port=8080</code></pre><pre><code>service/demo-service exposed</code></pre><p><strong>Step 4 ‚Äì </strong>Check the services</p><p>After exposing the service verify it with the following command</p><pre><code>$ kubectl get service</code></pre><p>It should return something similar</p><pre><code>NAME           TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
demo-service   LoadBalancer   10.233.5.144   1.1.1.1       8080:31901/TCP   2s
kubernetes     ClusterIP      10.233.0.1     &lt;none&gt;        443/TCP          28h</code></pre><p><strong>Step 3</strong> ‚Äì Curl or test the rest endpoint</p><p>Since we setup the kubernetes cluster on laptop, so to access the spring boot rest point outside of the cluster we need to use vagrant box(kmaster‚Äôs) ip address .i.e. ‚Äì 100.0.0.2</p><p>So from your laptop which is outside the cluster you can use the following curl command</p><pre><code>$ curl http://100.0.0.2:31901/hello</code></pre><pre><code>Hello - Jhooq-k8s</code></pre><p>And if you are interested in accessing it from browser then please refer to the following screenshot</p><figure><img src="https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27.png" alt="kubernetes expose service external ip" srcset="https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27.png 388w, https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27-300x81.png 300w" sizes="(max-width: 388px) 100vw, 388px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27.png 388w, https://jhooq.com/wp-content/uploads/2020/05/Screenshot-2020-05-30-at-21.23.27-300x81.png 300w"><figcaption>kubernetes expose service external ip</figcaption></figure><p>But in case if you have deployed the cluster on <a href="https://aws.amazon.com/">AWS(Amazon web service)</a> or <a href="https://cloud.google.com/">Google Cloud</a> then use the EXTERNAL-IP which you got after running the command <strong><em>$ kubectl get service</em></strong> .i.e.</p><pre><code>$ curl http://1.1.1.1:31901/hello</code></pre><p>Great you have deployed your Spring Boot microservices on kubernetes.</p><h3>Step 10 : Clean up the Deployment and Service</h3><p>Once you are done with the deployment and exposing the deployment as a service. You can run the following command to clean the kubernetes cluster</p><pre><code>$ kubectl delete service demo-service</code></pre><pre><code>$ kubectl delete deplopyments demo</code></pre><h2 id="part-2"><span>Part 2 ‚Äì Deploy spring boot microservice on Google Cloud Platform (<strong>GCP</strong>)</span></h2><figure><p> <iframe title="Setup kubernetes Cluster On Google Cloud Platform | Deploy Spring boot microservice on GKE| - Part 5" width="750" height="422" data-src="https://www.youtube.com/embed/ejwiMFJETdQ?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p></figure><p>In the <a href="http://part-1/">Part-1</a> we setup local kubernetes cluster using kubespray and then deployed spring boot application on it.</p><p>Now in the Part-2 we are going to deploy the same Spring boot application on <a rel="noreferrer noopener" href="https://cloud.google.com/" target="_blank">Google Cloud Platform (GCP)</a></p><h3>Prerequisite</h3><ul><li>Register to <a rel="noreferrer noopener" href="https://cloud.google.com/" target="_blank">Google Cloud Platform (GCP)</a> (Google offers free trial for 1 year or 300$ credit to try out)</li></ul><h3>Step 1: Create a project</h3><p>After the login goto <strong>‚ÄúMy First Project‚Äù</strong> and click on it.</p><div><figure><img src="https://jhooq.com/wp-content/uploads/2020/06/1-gc..png" alt="Google cloud goto my first project" srcset="https://jhooq.com/wp-content/uploads/2020/06/1-gc..png 445w, https://jhooq.com/wp-content/uploads/2020/06/1-gc.-300x72.png 300w" sizes="(max-width: 445px) 100vw, 445px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/06/1-gc..png" data-srcset="https://jhooq.com/wp-content/uploads/2020/06/1-gc..png 445w, https://jhooq.com/wp-content/uploads/2020/06/1-gc.-300x72.png 300w"></figure></div><p>Now we need to click on the <strong>New Project </strong>to create a new project</p><div><figure><img src="https://jhooq.com/wp-content/uploads/2020/06/2-gc.png" alt="Google cloud goto new project" srcset="https://jhooq.com/wp-content/uploads/2020/06/2-gc.png 742w, https://jhooq.com/wp-content/uploads/2020/06/2-gc-300x91.png 300w" sizes="(max-width: 742px) 100vw, 742px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/06/2-gc.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/06/2-gc.png 742w, https://jhooq.com/wp-content/uploads/2020/06/2-gc-300x91.png 300w"></figure></div><p>Enter the name of the project. In our case, we are going to put the cluster name as <strong>‚Äújhooq-springboot-gc‚Äù</strong></p><div><figure><img src="https://jhooq.com/wp-content/uploads/2020/06/3-gc.png" alt="Create new project on google cloud platform" srcset="https://jhooq.com/wp-content/uploads/2020/06/3-gc.png 541w, https://jhooq.com/wp-content/uploads/2020/06/3-gc-300x244.png 300w" sizes="(max-width: 541px) 100vw, 541px" data-old-src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://jhooq.com/wp-content/uploads/2020/06/3-gc.png" data-srcset="https://jhooq.com/wp-content/uploads/2020/06/3-gc.png 541w, https://jhooq.com/wp-content/uploads/2020/06/3-gc-300x244.png 300w"></figure></div><p>After click that ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes">https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes</a></em></p>]]>
            </description>
            <link>https://jhooq.com/deploy-spring-boot-microservices-on-kubernetes</link>
            <guid isPermaLink="false">hacker-news-small-sites-23674915</guid>
            <pubDate>Mon, 29 Jun 2020 06:23:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Comprehensive Python CheatSheet, now with Pandas and more libraries]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23674693">thread link</a>) | @chirau
<br/>
June 28, 2020 | https://gto76.github.io/python-cheatsheet/ | <a href="https://web.archive.org/web/*/https://gto76.github.io/python-cheatsheet/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
  <header>
    
    
  </header>

  <span><i></i></span>
   <div><br><div><h2 id="toc"><a href="#toc" name="toc">#</a>Contents</h2><pre><code><strong>ToC</strong> = {
    <strong><span><span>'1. Collections'</span></span></strong>: [<a href="#list">List</a>, <a href="#dictionary">Dictionary</a>, <a href="#set">Set</a>, <a href="#tuple">Tuple</a>, <a href="#range">Range</a>, <a href="#enumerate">Enumerate</a>, <a href="#iterator">Iterator</a>, <a href="#generator">Generator</a>],
    <strong><span><span>'2. Types'</span></span></strong>:       [<a href="#type">Type</a>, <a href="#string">String</a>, <a href="#regex">Regular_Exp</a>, <a href="#format">Format</a>, <a href="#numbers">Numbers</a>, <a href="#combinatorics">Combinatorics</a>, <a href="#datetime">Datetime</a>],
    <strong><span><span>'3. Syntax'</span></span></strong>:      [<a href="#arguments">Args</a>, <a href="#inline">Inline</a>, <a href="#closure">Closure</a>, <a href="#decorator">Decorator</a>, <a href="#class">Class</a>, <a href="#ducktypes">Duck_Type</a>, <a href="#enum">Enum</a>, <a href="#exceptions">Exception</a>],
    <strong><span><span>'4. System'</span></span></strong>:      [<a href="#exit">Exit</a>, <a href="#print">Print</a>, <a href="#input">Input</a>, <a href="#commandlinearguments">Command_Line_Arguments</a>, <a href="#open">Open</a>, <a href="#path">Path</a>, <a href="#oscommands">OS_Commands</a>],
    <strong><span><span>'5. Data'</span></span></strong>:        [<a href="#json">JSON</a>, <a href="#pickle">Pickle</a>, <a href="#csv">CSV</a>, <a href="#sqlite">SQLite</a>, <a href="#bytes">Bytes</a>, <a href="#struct">Struct</a>, <a href="#array">Array</a>, <a href="#memoryview">Memory_View</a>, <a href="#deque">Deque</a>],
    <strong><span><span>'6. Advanced'</span></span></strong>:    [<a href="#threading">Threading</a>, <a href="#operator">Operator</a>, <a href="#introspection">Introspection</a>, <a href="#metaprograming">Metaprograming</a>, <a href="#eval">Eval</a>, <a href="#coroutines">Coroutine</a>],
    <strong><span><span>'7. Libraries'</span></span></strong>:   [<a href="#progressbar">Progress_Bar</a>, <a href="#plot">Plot</a>, <a href="#table">Table</a>, <a href="#curses">Curses</a>, <a href="#logging">Logging</a>, <a href="#scraping">Scraping</a>, <a href="#web">Web</a>, <a href="#profiling">Profile</a>,
                       <a href="#numpy">NumPy</a>, <a href="#image">Image</a>, <a href="#audio">Audio</a>, <a href="#pygame">Games</a>, <a href="#pandas">Data</a>]
}
</code></pre></div></div>






<div><h2 id="main"><a href="#main" name="main">#</a>Main</h2><pre><code><span>if</span> __name__ == <span>'__main__'</span>:     
    main()
</code></pre></div>

<div><h2 id="list"><a href="#list" name="list">#</a>List</h2><pre><code>&lt;list&gt; = &lt;list&gt;[from_inclusive : to_exclusive : ¬±step_size]
</code></pre></div>

<pre><code>&lt;list&gt;.append(&lt;el&gt;)            
&lt;list&gt;.extend(&lt;collection&gt;)    
</code></pre>
<pre><code>&lt;list&gt;.sort()
&lt;list&gt;.reverse()
&lt;list&gt; = sorted(&lt;collection&gt;)
&lt;iter&gt; = reversed(&lt;list&gt;)
</code></pre>
<pre><code>sum_of_elements  = sum(&lt;collection&gt;)
elementwise_sum  = [sum(pair) <span>for</span> pair <span>in</span> zip(list_a, list_b)]
sorted_by_second = sorted(&lt;collection&gt;, key=<span>lambda</span> el: el[<span>1</span>])
sorted_by_both   = sorted(&lt;collection&gt;, key=<span>lambda</span> el: (el[<span>1</span>], el[<span>0</span>]))
flatter_list     = list(itertools.chain.from_iterable(&lt;list&gt;))
product_of_elems = functools.reduce(<span>lambda</span> out, el: out * el, &lt;collection&gt;)
list_of_chars    = list(&lt;str&gt;)
</code></pre>
<ul>
<li><strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></li>
</ul>
<pre><code>&lt;int&gt; = &lt;list&gt;.count(&lt;el&gt;)     
index = &lt;list&gt;.index(&lt;el&gt;)     
&lt;list&gt;.insert(index, &lt;el&gt;)     
&lt;el&gt; = &lt;list&gt;.pop([index])     
&lt;list&gt;.remove(&lt;el&gt;)            
&lt;list&gt;.clear()                 
</code></pre>
<div><h2 id="dictionary"><a href="#dictionary" name="dictionary">#</a>Dictionary</h2><pre><code>&lt;view&gt; = &lt;dict&gt;.keys()                          
&lt;view&gt; = &lt;dict&gt;.values()                        
&lt;view&gt; = &lt;dict&gt;.items()                         
</code></pre></div>

<pre><code>value  = &lt;dict&gt;.get(key, default=<span>None</span>)          
value  = &lt;dict&gt;.setdefault(key, default=<span>None</span>)   
&lt;dict&gt; = collections.defaultdict(&lt;type&gt;)        
&lt;dict&gt; = collections.defaultdict(<span>lambda</span>: <span>1</span>)     
</code></pre>
<pre><code>&lt;dict&gt; = dict(&lt;collection&gt;)                     
&lt;dict&gt; = dict(zip(keys, values))                
&lt;dict&gt; = dict.fromkeys(keys [, value])          
</code></pre>
<pre><code>&lt;dict&gt;.update(&lt;dict&gt;)                           
value = &lt;dict&gt;.pop(key)                         
{k <span>for</span> k, v <span>in</span> &lt;dict&gt;.items() <span>if</span> v == value}    
{k: v <span>for</span> k, v <span>in</span> &lt;dict&gt;.items() <span>if</span> k <span>in</span> keys}  
</code></pre>
<div><h3 id="counter">Counter</h3><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> Counter
<span>&gt;&gt;&gt; </span>colors = [<span>'blue'</span>, <span>'blue'</span>, <span>'blue'</span>, <span>'red'</span>, <span>'red'</span>]
<span>&gt;&gt;&gt; </span>counter = Counter(colors)
<span>&gt;&gt;&gt; </span>counter[<span>'yellow'</span>] += <span>1</span>
Counter({<span>'blue'</span>: <span>3</span>, <span>'red'</span>: <span>2</span>, <span>'yellow'</span>: <span>1</span>})
<span>&gt;&gt;&gt; </span>counter.most_common()[<span>0</span>]
(<span>'blue'</span>, <span>3</span>)
</code></pre></div>



<pre><code>&lt;set&gt;.add(&lt;el&gt;)                                 
&lt;set&gt;.update(&lt;collection&gt;)                      
</code></pre>
<pre><code>&lt;set&gt;  = &lt;set&gt;.union(&lt;coll.&gt;)                   
&lt;set&gt;  = &lt;set&gt;.intersection(&lt;coll.&gt;)            
&lt;set&gt;  = &lt;set&gt;.difference(&lt;coll.&gt;)              
&lt;set&gt;  = &lt;set&gt;.symmetric_difference(&lt;coll.&gt;)    
&lt;bool&gt; = &lt;set&gt;.issubset(&lt;coll.&gt;)                
&lt;bool&gt; = &lt;set&gt;.issuperset(&lt;coll.&gt;)              
</code></pre>
<pre><code>&lt;el&gt; = &lt;set&gt;.pop()                              
&lt;set&gt;.remove(&lt;el&gt;)                              
&lt;set&gt;.discard(&lt;el&gt;)                             
</code></pre>
<div><h3 id="frozenset">Frozen Set</h3><ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong></li>
</ul><pre><code>&lt;frozenset&gt; = frozenset(&lt;collection&gt;)
</code></pre></div>


<div><h2 id="tuple"><a href="#tuple" name="tuple">#</a>Tuple</h2><p><strong>Tuple is an immutable and hashable list.</strong></p><pre><code>&lt;tuple&gt; = ()
&lt;tuple&gt; = (&lt;el&gt;, )
&lt;tuple&gt; = (&lt;el_1&gt;, &lt;el_2&gt; [, ...])
</code></pre></div>


<div><h3 id="namedtuple">Named Tuple</h3><p><strong>Tuple's subclass with named elements.</strong></p><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> namedtuple
<span>&gt;&gt;&gt; </span>Point = namedtuple(<span>'Point'</span>, <span>'x y'</span>)
<span>&gt;&gt;&gt; </span>p = Point(<span>1</span>, y=<span>2</span>)
Point(x=<span>1</span>, y=<span>2</span>)
<span>&gt;&gt;&gt; </span>p[<span>0</span>]
<span>1</span>
<span>&gt;&gt;&gt; </span>p.x
<span>1</span>
<span>&gt;&gt;&gt; </span>getattr(p, <span>'y'</span>)
<span>2</span>
<span>&gt;&gt;&gt; </span>p._fields  
(<span>'x'</span>, <span>'y'</span>)
</code></pre></div>


<div><h2 id="range"><a href="#range" name="range">#</a>Range</h2><pre><code>&lt;range&gt; = range(to_exclusive)
&lt;range&gt; = range(from_inclusive, to_exclusive)
&lt;range&gt; = range(from_inclusive, to_exclusive, ¬±step_size)
</code></pre></div>

<pre><code>from_inclusive = &lt;range&gt;.start
to_exclusive   = &lt;range&gt;.stop
</code></pre>
<div><h2 id="enumerate"><a href="#enumerate" name="enumerate">#</a>Enumerate</h2><pre><code><span>for</span> i, el <span>in</span> enumerate(&lt;collection&gt; [, i_start]):
    ...
</code></pre></div>

<div><h2 id="iterator"><a href="#iterator" name="iterator">#</a>Iterator</h2><pre><code>&lt;iter&gt; = iter(&lt;collection&gt;)                 
&lt;iter&gt; = iter(&lt;function&gt;, to_exclusive)     
&lt;el&gt;   = next(&lt;iter&gt; [, default])           
&lt;list&gt; = list(&lt;iter&gt;)                       
</code></pre></div>

<div><h3 id="itertools">Itertools</h3><pre><code><span>from</span> itertools <span>import</span> count, repeat, cycle, chain, islice
</code></pre></div>

<pre><code>&lt;iter&gt; = count(start=<span>0</span>, step=<span>1</span>)             
&lt;iter&gt; = repeat(&lt;el&gt; [, times])             
&lt;iter&gt; = cycle(&lt;collection&gt;)                
</code></pre>
<pre><code>&lt;iter&gt; = chain(&lt;coll_1&gt;, &lt;coll_2&gt; [, ...])  
&lt;iter&gt; = chain.from_iterable(&lt;collection&gt;)  
</code></pre>
<pre><code>&lt;iter&gt; = islice(&lt;collection&gt;, to_exclusive)
&lt;iter&gt; = islice(&lt;collection&gt;, from_inclusive, to_exclusive [, +step_size])
</code></pre>
<div><h2 id="generator"><a href="#generator" name="generator">#</a>Generator</h2><ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul><pre><code><span><span>def</span> <span>count</span><span>(start, step)</span>:</span>
    <span>while</span> <span>True</span>:
        <span>yield</span> start
        start += step
</code></pre></div>


<pre><code><span>&gt;&gt;&gt; </span>counter = count(<span>10</span>, <span>2</span>)
<span>&gt;&gt;&gt; </span>next(counter), next(counter), next(counter)
(<span>10</span>, <span>12</span>, <span>14</span>)
</code></pre>
<div><h2 id="type"><a href="#type" name="type">#</a>Type</h2><ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul><pre><code>&lt;type&gt; = type(&lt;el&gt;)                          
&lt;bool&gt; = isinstance(&lt;el&gt;, &lt;type&gt;)            
</code></pre></div>


<pre><code><span>&gt;&gt;&gt; </span>type(<span>'a'</span>), <span>'a'</span>.__class__, str
(&lt;<span><span>class</span> '<span>str</span>'&gt;, &lt;<span>class</span> '<span>str</span>'&gt;, &lt;<span>class</span> '<span>str</span>'&gt;)
</span></code></pre>
<div><h4 id="sometypesdonothavebuiltinnamessotheymustbeimported">Some types do not have built-in names, so they must be imported:</h4><pre><code><span>from</span> types <span>import</span> FunctionType, MethodType, LambdaType, GeneratorType
</code></pre></div>

<div><h3 id="abstractbaseclasses">Abstract Base Classes</h3><p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not.</strong></p><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections.abc <span>import</span> Sequence, Collection, Iterable
<span>&gt;&gt;&gt; </span>isinstance([<span>1</span>, <span>2</span>, <span>3</span>], Iterable)
<span>True</span>
</code></pre></div>


<pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ                  ‚îÇ  Sequence  ‚îÇ Collection ‚îÇ  Iterable  ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ list, range, str ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÉ
‚îÉ dict, set        ‚îÇ            ‚îÇ     ‚úì      ‚îÇ     ‚úì      ‚îÉ
‚îÉ iter             ‚îÇ            ‚îÇ            ‚îÇ     ‚úì      ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre>
<pre><code><span>&gt;&gt;&gt; </span><span>from</span> numbers <span>import</span> Integral, Rational, Real, Complex, Number
<span>&gt;&gt;&gt; </span>isinstance(<span>123</span>, Number)
<span>True</span>
</code></pre>
<pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ                    ‚îÇ Integral ‚îÇ Rational ‚îÇ   Real   ‚îÇ Complex  ‚îÇ  Number  ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ int                ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ fractions.Fraction ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ float              ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ complex            ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ decimal.Decimal    ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre>
<div><h2 id="string"><a href="#string" name="string">#</a>String</h2><pre><code>&lt;str&gt;  = &lt;str&gt;.strip()                       
&lt;str&gt;  = &lt;str&gt;.strip(<span>'&lt;chars&gt;'</span>)              
</code></pre></div>

<pre><code>&lt;list&gt; = &lt;str&gt;.split()                       
&lt;list&gt; = &lt;str&gt;.split(sep=<span>None</span>, maxsplit=<span>-1</span>)  
&lt;list&gt; = &lt;str&gt;.splitlines(keepends=<span>False</span>)    
&lt;str&gt;  = &lt;str&gt;.join(&lt;coll_of_strings&gt;)       
</code></pre>
<pre><code>&lt;bool&gt; = &lt;sub_str&gt; <span>in</span> &lt;str&gt;                  
&lt;bool&gt; = &lt;str&gt;.startswith(&lt;sub_str&gt;)         
&lt;bool&gt; = &lt;str&gt;.endswith(&lt;sub_str&gt;)           
&lt;int&gt;  = &lt;str&gt;.find(&lt;sub_str&gt;)               
&lt;int&gt;  = &lt;str&gt;.index(&lt;sub_str&gt;)              
</code></pre>
<pre><code>&lt;str&gt;  = &lt;str&gt;.replace(old, new [, count])   
&lt;str&gt;  = &lt;str&gt;.translate(&lt;table&gt;)            
</code></pre>
<pre><code>&lt;str&gt;  = chr(&lt;int&gt;)                          
&lt;int&gt;  = ord(&lt;str&gt;)                          
</code></pre>
<ul>
<li><strong>Also: <code><span>'lstrip()'</span></code>, <code><span>'rstrip()'</span></code>.</strong></li>
<li><strong>Also: <code><span>'lower()'</span></code>, <code><span>'upper()'</span></code>, <code><span>'capitalize()'</span></code> and <code><span>'title()'</span></code>.</strong></li>
</ul>
<div><h3 id="propertymethods">Property Methods</h3><pre><code>‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îØ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚îÉ               ‚îÇ [ !#$%‚Ä¶] ‚îÇ [a-zA-Z] ‚îÇ  [¬º¬Ω¬æ]   ‚îÇ  [¬≤¬≥¬π]   ‚îÇ  [0-9]   ‚îÉ
‚î†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î®
‚îÉ isprintable() ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isalnum()     ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isnumeric()   ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isdigit()     ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÇ    ‚úì     ‚îÉ
‚îÉ isdecimal()   ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ    ‚úì     ‚îÉ
‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚î∑‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre></div>

<ul>
<li><strong>Also: <code><span>'isspace()'</span></code> checks for <code><span>'[ \t\n\r\f\v‚Ä¶]'</span></code>.</strong></li>
</ul>
<div><h2 id="regex"><a href="#regex" name="regex">#</a>Regex</h2><pre><code><span>import</span> re
&lt;str&gt;   = re.sub(&lt;regex&gt;, new, text, count=<span>0</span>)  
&lt;list&gt;  = re.findall(&lt;regex&gt;, text)            
&lt;list&gt;  = re.split(&lt;regex&gt;, text, maxsplit=<span>0</span>)  
&lt;Match&gt; = re.search(&lt;regex&gt;, text)             
&lt;Match&gt; = re.match(&lt;regex&gt;, text)              
&lt;iter&gt;  = re.finditer(&lt;regex&gt;, text)           
</code></pre></div>

<ul>
<li><strong>Search() and match() return None if they can't find a match.</strong></li>
<li><strong>Argument <code><span>'flags=re.IGNORECASE'</span></code> can be used with all functions.</strong></li>
<li><strong>Argument <code><span>'flags=re.MULTILINE'</span></code> makes <code><span>'^'</span></code> and <code><span>'$'</span></code> match the start/end of each line.</strong></li>
<li><strong>Argument <code><span>'flags=re.DOTALL'</span></code> makes dot also accept the <code><span>'\n'</span></code>.</strong></li>
<li><strong>Use <code><span>r'\1'</span></code> or <code><span>'\\1'</span></code> for backreference.</strong></li>
<li><strong>Add <code><span>'?'</span></code> after an operator to make it non-greedy.</strong></li>
</ul>
<div><h3 id="matchobject">Match Object</h3><pre><code>&lt;str&gt;   = &lt;Match&gt;.group()                      
&lt;str&gt;   = &lt;Match&gt;.group(<span>1</span>)                     
&lt;tuple&gt; = &lt;Match&gt;.groups()                     
&lt;int&gt;   = &lt;Match&gt;.start()                      
&lt;int&gt;   = &lt;Match&gt;.end()                        
</code></pre></div>

<div><h3 id="specialsequences">Special Sequences</h3><ul>
<li><strong>By default digits, alphanumerics and whitespaces from all alphabets are matched, unless <code><span>'flags=re.ASCII'</span></code> argument is used.</strong></li>
<li><strong>Use a capital letter for negation.</strong></li>
</ul><pre><code><span>'\d'</span> == <span>'[0-9]'</span>                                
<span>'\w'</span> == <span>'[a-zA-Z0-9_]'</span>                         
<span>'\s'</span> == <span>'[ \t\n\r\f\v]'</span>                        
</code></pre></div>


<div><h2 id="format"><a href="#format" name="format">#</a>Format</h2><pre><code>&lt;str&gt; = <span>f'<span>{&lt;el_1&gt;}</span>, <span>{&lt;el_2&gt;}</span>'</span>
&lt;str&gt; = <span>'{}, {}'</span>.format(&lt;el_1&gt;, &lt;el_2&gt;)
</code></pre></div>

<div><h3 id="attributes">Attributes</h3><pre><code><span>&gt;&gt;&gt; </span><span>from</span> collections <span>import</span> namedtuple
<span>&gt;&gt;&gt; </span>Person = namedtuple(<span>'Person'</span>, <span>'name height'</span>)
<span>&gt;&gt;&gt; </span>person = Person(<span>'Jean-Luc'</span>, <span>187</span>)
<span>&gt;&gt;&gt; </span><span>f'<span>{person.height}</span>'</span>
<span>'187'</span>
<span>&gt;&gt;&gt; </span><span>'{p.height}'</span>.format(p=person)
<span>'187'</span>
</code></pre></div>

<div><h3 id="generaloptions">General Options</h3><pre><code>{&lt;el&gt;:&lt;<span>10</span>}                                     
{&lt;el&gt;:^<span>10</span>}                                     
{&lt;el&gt;:&gt;<span>10</span>}          ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://gto76.github.io/python-cheatsheet/">https://gto76.github.io/python-cheatsheet/</a></em></p>]]>
            </description>
            <link>https://gto76.github.io/python-cheatsheet/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23674693</guid>
            <pubDate>Mon, 29 Jun 2020 05:40:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Write Once, Build Anywhere]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23674501">thread link</a>) | @todsacerdoti
<br/>
June 28, 2020 | https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/ | <a href="https://web.archive.org/web/*/https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>Cross-compiling self-contained Java desktop application launchers.</p><h2 id="backstory">Backstory</h2><p>Java‚Äôs promise of <em>write once, run anywhere</em> still resonates with me, perhaps because I cut my teeth on JDK 1.0.2b. It was amazing to write cross-platform networking applications without concern for variations in POSIX implementations, or having to worry about nuances between C compilers, or even needing to grok <code>htons</code>. Someone else could wrestle with <code>#ifdef</code>s, shielding others by high-level, standard abstractions. Although Smalltalk had concocted platform-independence punch in 1983, it wasn‚Äôt until 1996 that Java‚Äôs virtual machine (VM) and subsequent OEM distributions made drinking the mantra of cross-platform development an easy reality.</p><p>Strategically‚Äîand selfishly‚ÄîMicrosoft smote that future with a sledgehammer: it moved to <em>embrace and extend</em> Java to achieve vendor lock-in, splintering the platform.</p><p>Developers can no longer rely on systems having a Java VM available. This implies that end-users must download (and install) two independent programs: a suitable VM and a Java archive. It also means that developers now have choices ahead of them that were once bygone worries. Choices that burden end-users and developers alike. Asking people to download a VM for their operating system and CPU architecture is a barrier to product adoption. What‚Äôs worse is that some VMs now support ‚Äúfull‚Äù Java while others don‚Äôt support JavaFX modules at all.</p><p>We‚Äôll address that last point later.</p><p>In late 2019, <a href="https://github.com/kevinrushforth">Kevin Rushforth</a>, of Oracle‚Äôs Java Team, <a href="https://youtu.be/ZGW9AalZLN4?t=504">presented</a> a solution to the packaging problem: <code>jpackage</code> and <code>jlink</code>. During the presentation he listed some of the tooling‚Äôs shortcomings, which include:</p><ul><li>No cross-platform deployment</li><li>No cross-compilation (must run on MacOS to produce <code>.dmg</code>)</li></ul><p>Let‚Äôs not mince words: Java developers could once build applications on their preferred operating system and deploy anywhere; now, they must build installers for every individual platform they intend to target on those very systems.</p><p>Was that the <em>punch-line</em> to a two-decade lead up?</p><p>Requiring developers to have at least two commercial operating systems (Windows, MacOS X), even if emulated inside of a virtualized container‚Äîas opposed to using physical hardware‚Äîfor a platform-independent programming language is an ironic barrier to entry. <em>Especially</em> for people bereft of bankroll.</p><p>Yes, those tools‚Äîalongside modules‚Äîhelp produce minimal executables. Who cares? What they don‚Äôt do is make it possible to create a set of native, standalone launcher binaries from a single build machine. Let‚Äôs fix that by pouring over the big splashes of how to cross-compile application launchers for Java on one build machine. We‚Äôll use Linux because it‚Äôs free.</p><h2 id="software-requirements">Software Requirements</h2><p>You will need:</p><ul><li><a href="https://github.com/dgiagio/warp">Warp Packer</a>, a tool for building native application launchers</li><li><a href="https://git-scm.com/">git</a>, a source code management tool</li><li><a href="https://www.gnu.org/software/wget/">wget</a>, a tool for fetching files</li><li><a href="https://gradle.org/">gradle</a> version 6.4.1, a build system</li><li><a href="https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/build-template">build-template</a>, my own starter shell script (MIT licensed)</li></ul><p>Install <code>git</code> and <code>wget</code> using the package manager for your Linux distro.</p><h3 id="install-warp-packer">Install Warp Packer</h3><p>The installation instructions for Warp Packer are a bit buried. Install the software on a Linux system as follows (change the version number to suit):</p><pre><code>mkdir -p $HOME/bin
cd $HOME/bin
wget -O warp-packer \
  https://github.com/dgiagio/warp/releases/download/v0.3.0/linux-x64.warp-packer
chmod +x warp-packer</code></pre><p>If needed, include <code>$HOME/bin</code> in the <code>PATH</code> environment variable by adding the following line to <code>$HOME/.bashrc</code>:</p><pre><code>export PATH="$PATH:$HOME/bin"</code></pre><p>Apply the new environment settings by opening a new terminal or <code>source</code>‚Äôing the <code>.bashrc</code> file directly.</p><p>Warp Packer is installed.</p><h3 id="install-build-template">Install Build Template</h3><p>Copy, move, or download <code>build-template</code> into <code>$HOME/bin</code>.</p><p>The build template is installed.</p><h2 id="javafx">JavaFX</h2><p>Before we get into building a Java application, a little more history is warranted. Originally, the Abstract Window Toolkit (AWT) came bundled with Java, for the same reasons that having a bundled networking API was useful. The AWT lacked aesthetic, both in appearance and as a library. Swing, the AWT‚Äôs successor, made strides to address both, but fell short. JavaFX, which was also initially bundled with Java (versions 8 to 10), is a modern graphical user interface (GUI) library for developing desktop applications, as well as a superb replacement for Swing.</p><p>It has been argued that JavaFX should never have been bundled with Java. Nevertheless, the decision to un-bundle JavaFX from Java 11 onwards has led to Java projects that will be stuck with old Java versions for years to come‚Äîpossibly leading to their abandonment‚Äîbecause it takes <em>a lot</em> of effort to migrate a build process to support these new, un-bundled Java Development Kits (JDKs).</p><p>Part of that effort entails re-bundling JavaFX. There are a few ways this can be accomplished:</p><ul><li>Create a single <em><a href="https://stackoverflow.com/a/11947093/59087">√ºberjar</a></em> that contains native libraries for all intended platform targets.</li><li>Create separate <em>√ºberjars</em>, with each JAR containing native libraries specific to its target platform.</li></ul><p>It‚Äôs almost a <a href="https://en.wikipedia.org/wiki/Hobson%27s_choice">Hobson‚Äôs choice</a> because we have to create launcher binaries for each target platform anyway. Meaning bundling all of the target platform libraries into each native launcher is wasteful; however, bundling them in a single JAR file for those who have a Java VM installed already may be somewhat useful.</p><p>Java has introduced the concept of modules, looking to simplify the build process. Sometimes, though, modules cannot be included because of outdated dependencies. Problems can arise when running <code>jlink</code> against old dependencies. Compounding the issue is when the projects have been sundowned or have long release schedules. Nevertheless, for our purposes, we‚Äôll want to download a version of OpenJDK that supports JavaFX.</p><p>With that background in mind, let‚Äôs go cross-compile some binaries.</p><h2 id="java-application">Java Application</h2><p>We‚Äôll create native application launchers for <a href="https://github.com/DaveJarvis/scrivenvar/">Scrivenvar</a>, a JavaFX-based text editor that I‚Äôve been developing.</p><p>Dive in by cloning the latest version as follows:</p><pre><code>mkdir -p $HOME/dev
cd $HOME/dev
git clone https://github.com/DaveJarvis/scrivenvar.git
cd scrivenvar</code></pre><p>The application is downloaded.</p><h2 id="build-scripts">Build Scripts</h2><p>Let‚Äôs review the scripts that help build the application, which include:</p><ul><li><code>build.gradle</code> ‚Äî builds application Java Archive (JAR) files</li><li><code>installer</code> ‚Äî builds native, standalone binaries</li></ul><p>Separating the <code>installer</code> script‚Äôs responsibilities from <code>build.gradle</code> is not necessary, technically. When running third-party executables (e.g., <code>warp-packer</code>), my first inclination is to use a shell script, rather than gradle‚Äôs <code>exec</code>.</p><p>The <code>installer</code> script invokes <code>gradle</code> when requested.</p><h2 id="gradle-script">Gradle Script</h2><p>Open up <code>build.gradle</code> to review a few pertinent code blocks.</p><h3 id="target-operating-system">Target Operating System</h3><p>The first snippet determines what native JavaFX libraries (i.e., target platform code) to include within the JAR file:</p><pre><code>String[] os = ["win", "mac", "linux"]

if (project.hasProperty('targetOs')) {
  if ("windows".equals(targetOs)) {
    os = ["win"]
  }
  else {
    os = [targetOs]
  }
}</code></pre><p>Unless instructed otherwise, the build script will create a JAR file that includes JavaFX binaries for Windows, Linux, and MacOS embedded. We can target a specific platform by using the <code>-P</code> command line option when building, such as:</p><pre><code>gradle clean build jar -PtargetOs=linux</code></pre><p>There‚Äôs a catch here in that <code>win</code> and <code>windows</code> are different names. The <code>installer</code> script needs to use <code>windows</code> because that‚Äôs part of the JDK file name being downloaded. Arguably, we could move that logic into the <code>installer</code> script, but the point is that the JDK filename and JavaFX refer to Windows using different terminology. The difference must be captured somwhere.</p><h3 id="javafx-dependencies">JavaFX Dependencies</h3><p>The second snippet tells the build system to include JavaFX for a given set of operating systems, as follows:</p><pre><code>def fx = ['controls', 'graphics', 'fxml', 'swing']

fx.each { fxitem -&gt;
  os.each { ositem -&gt;
    runtimeOnly "org.openjfx:javafx-${fxitem}:${javafx.version}:${ositem}"
  }
}</code></pre><p>The application uses JavaFX controls, graphics, fxml, and notice that it also lists a JavaFX-Swing integration. Using <code>.each</code> is a tidy way of not having to maintain a list of JavaFX-specific imports for each operating system, should either or both need to change.</p><h3 id="javafx-exclusions">JavaFX Exclusions</h3><p>Of lesser importance are exclude groups:</p><pre><code>implementation('de.jensd:fontawesomefx-fontawesome:4.7.0-11') {
  exclude group: 'org.openjfx'
}</code></pre><p>Without excluding JavaFX from certain JavaFX-related dependencies, the build will fail. Unfortunately, the build fails in such a way that the developer must investigate what package caused the conflict. Ideally, the build failure would pinpoint any collisions for the developer.</p><h3 id="run-application">Run Application</h3><p>The last point of note are the following lines:</p><pre><code>applicationDefaultJvmArgs = [
    "--add-opens=javafx.controls/javafx.scene.control=ALL-UNNAMED",
    "--add-opens=javafx.controls/javafx.scene.control.skin=ALL-UNNAMED",
    "--add-opens=javafx.graphics/com.sun.javafx.css=ALL-UNNAMED",
]</code></pre><p>These lines address permissions issues encountered when running the application using gradle, such as:</p><pre><code>gradle clean build run</code></pre><p>Now that we understand how this build script works, let‚Äôs move on to the <code>installer</code> shell script.</p><h2 id="installer-script">Installer Script</h2><p>Looking at the big picture, the <code>installer</code> script performs the following steps to create a native launcher binary:</p><ol type="1"><li>Configure platform-specific parameters for extraction.</li><li>Rebuild the <em>√ºberjar</em> for the target platform.</li><li>Clean out the distribution directory for a fresh build.</li><li>Extract the target JDK into the distribution directory.</li><li>Create a platform-dependent launch script to run the application.</li><li>Copy the <em>√ºberjar</em> into the distribution directory.</li><li>Wrap the distribution into a standalone binary.</li></ol><p>These high-level steps can be found in the <code>execute()</code> function.</p><p>Let‚Äôs take a closer look at how the script works.</p><h3 id="build-template">Build Template</h3><p>The <code>build-template</code> script is described in depth in the first three parts of my Typesetting Markdown series. We reuse the script here because it simplifies writing user-friendly shell scripts.</p><p>Downloading and extracting a requisite JDK is pivotal. JDKs can be downloaded from a few places, but most of them have ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/">https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/</a></em></p>]]>
            </description>
            <link>https://dave.autonoma.ca/blog/2020/06/29/write-once-build-anywhere/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23674501</guid>
            <pubDate>Mon, 29 Jun 2020 05:00:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Nvm with Spacemacs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23674263">thread link</a>) | @rajasegarc
<br/>
June 28, 2020 | http://hangaroundtheweb.com/2020/06/using-nvm-with-spacemacs/ | <a href="https://web.archive.org/web/*/http://hangaroundtheweb.com/2020/06/using-nvm-with-spacemacs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>http://hangaroundtheweb.com/2020/06/using-nvm-with-spacemacs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23674263</guid>
            <pubDate>Mon, 29 Jun 2020 04:13:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Use Unix Pipes to Improve Chromecast Playback]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 15 (<a href="https://news.ycombinator.com/item?id=23673825">thread link</a>) | @lowmemcpu
<br/>
June 28, 2020 | https://alexdelorenzo.dev/linux/2020/03/14/pipes | <a href="https://web.archive.org/web/*/https://alexdelorenzo.dev/linux/2020/03/14/pipes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">  <p>When casting from YouTube to a Chromecast, sometimes the audio playback will <a href="https://support.google.com/chromecast/thread/13807879?hl=en">skip</a> and <a href="https://support.google.com/youtube/thread/17251626?hl=en">stutter</a>. This issue is independent of the quality of the video, the FPS, or the internet connection. Trying to watch certain videos will reliably cause playback issues on the Chromecast.</p> <p>According to <a href="https://support.google.com/chromecast/thread/13807879">this thread</a>, the playback issue only appeared in the latest and final firmware update for the Chromecast. Successful playback of the videos was possible in the past, and casting the downloaded YouTube videos eliminates the problem entirely. The problem exists solely when casting certain videos using the YouTube app.</p>  <p>Given that the problem only occurs with the YouTube app, you can download a video and cast it via <a href="https://github.com/xat/castnow"><code>castnow</code></a> or <a href="https://github.com/skorokithakis/catt"><code>catt</code></a>, skipping the YouTube app entirely.</p> <p>You could do something like:</p> <div><div><pre><code><span>#!/usr/bin/env bash</span>

<span>export </span><span>url</span><span>=</span><span>"https://youtu.be/Kas0tIxDvrg"</span>

<span>function </span>cast<span>()</span> <span>{</span>
    <span>url</span><span>=</span><span>"</span><span>$1</span><span>"</span>
    
    <span>filename</span><span>=</span><span>$(</span>youtube-dl <span>--get-filename</span> <span>"</span><span>$url</span><span>"</span><span>)</span>
    youtube-dl <span>"</span><span>$url</span><span>"</span>
    
    <span># wait a bit to download the file</span>
    castnow <span>"</span><span>$filename</span><span>"</span>
    <span>rm</span> <span>"</span><span>$filename</span><span>"</span>
<span>}</span>

cast <span>"</span><span>$url</span><span>"</span>
</code></pre></div></div> <p>But having to skip using the YouTube app to cast is already a clunky solution, and downloading every video before playing them is an even worse user experience. Instant playback and ephemeral streams are what make for a pleasant video streaming experience in 2020, and this solution implements neither of them</p>  <p><a href="https://github.com/ytdl-org/youtube-dl/blob/master/README.md">Since <code>youtube-dl</code> allows us to output to <code>stdout</code></a>, if we can hook its <code>stdout</code> to a casting app, we could emulate the instant playback and ephemeral videos we expect because we don‚Äôt have to wait for an entire file to download.</p> <p>Unfortunately, <code>castnow</code> and <code>catt</code> won‚Äôt cast from <code>stdin</code>. You‚Äôre expected to pass it file locations to cast from.</p> <p>This is where one of my favorite shell features really shines: <a href="https://tldp.org/LDP/abs/html/process-sub.html">process substitution</a>.</p> <p>With process substitution, Bash gives us a convenient way to make ephemeral <a href="https://en.wikipedia.org/wiki/Anonymous_pipe">anonymous pipes</a>. This method is both efficient and concurrent, making this primitive an apt choice to build a solution to the problem at hand. A process reading the <a href="https://en.wikipedia.org/wiki/Pipeline_(Unix)">pipe</a> blocks until the pipe is opened by another process for writing. A process writing to the pipe will suspend until the pipe‚Äôs buffer is read by another process. The anonymous pipe will automatically remove itself, and when it is manually removed, its dependent processes will be terminated.</p> <p>When using process substitution, a process‚Äô <code>stdout</code> is hooked up to an anonymous pipe. That pipe can be accessed from a file descriptor, and the location of the pipe is given to the calling process.</p> <div><div><pre><code><span>$ </span><span>echo</span> &lt;<span>(</span><span>echo</span> <span>"Content sent to pipe"</span><span>)</span>
/dev/fd/63

<span>$ </span><span>cat</span> &lt;<span>(</span><span>echo</span> <span>"Content sent to pipe"</span><span>)</span>
Content sent to pipe
</code></pre></div></div> <p>In the example above, the <code>&lt;(command)</code> syntax is how we invoke process substitution in Bash. The output of <code>command</code> is written to an anonymous pipe, and the calling process is given the location of the file descriptor to access that pipe.</p> <p>Using that example, we can take advantage of process substitution:</p> <div><div><pre><code>vlc &lt;<span>(</span>youtube-dl <span>-q</span> <span>-o</span> - <span>"</span><span>$url</span><span>"</span><span>)</span>
</code></pre></div></div> <p>The command above will play the YouTube video locally with <a href="https://www.videolan.org/vlc/index.html">VLC</a>, and illustrates that process substitution can work for our use case.</p> <p>However, when we try to use <code>castnow</code>, we can‚Äôt cast from the pipe:</p> <div><div><pre><code><span>$ </span>castnow &lt;<span>(</span>youtube-dl <span>-q</span> <span>-o</span> - <span>"</span><span>$url</span><span>"</span><span>)</span>
Error: Load failed
</code></pre></div></div> <p>Nor can we cast with <code>catt</code>:</p> <div><div><pre><code><span>$ </span>catt cast &lt;<span>(</span>youtube-dl <span>-q</span> <span>-o</span> - <span>"</span><span>$url</span><span>"</span><span>)</span>
Error: The chosen file does not exist.
</code></pre></div></div> <p>We know we can use VLC locally, and VLC also lets you cast to a Chromecast using its IP address.</p> <p>Let‚Äôs try that again using VLC:</p> <div><div><pre><code><span>function </span>cast_vlc<span>()</span> <span>{</span>
    <span>path</span><span>=</span><span>"</span><span>$1</span><span>"</span>

    <span># get the ip address for chromecast.lan host</span>
    <span>ip</span><span>=</span><span>$(</span>dig +short chromecast.lan | <span>tail</span> <span>-n</span> 1<span>)</span>

    vlc <span>-I</span> ncurses <span>\</span>
      <span>--sout</span> <span>'#chromecast'</span> <span>\</span>
      <span>--sout-chromecast-ip</span><span>=</span><span>"</span><span>$ip</span><span>"</span> <span>\</span>
      <span>--demux-filter</span><span>=</span>demux_chromecast <span>\</span>
      <span>"</span><span>$path</span><span>"</span> &lt; /dev/tty
<span>}</span>

cast_vlc &lt;<span>(</span>youtube-dl <span>-q</span> <span>-o</span> - <span>"</span><span>$url</span><span>"</span><span>)</span>
</code></pre></div></div> <p>That works.</p> <p>As an aside, we hook VLC‚Äôs <code>stdin</code> to <code>/dev/tty</code> so that we can use the ncurses interface even if we invoke the function from a script.</p> <p>Let‚Äôs look at the <a href="https://wiki.videolan.org/Documentation:Modules/ncurses/">ncurses interface</a>.</p> <div> <p><img src="https://d33wubrfki0l68.cloudfront.net/d0822203c304db88f3cbec618e94a3d9f55cd269/c5939/assets/imgs/converted/vlc-fs8.webp" loading="lazy"> </p> </div> <p>It only displays the file descriptor, and very little about the video itself. I‚Äôm not a fan of that.</p>  <p>Instead of using anonymous pipes, we can use <a href="https://en.wikipedia.org/wiki/Named_pipe">named pipes</a>. Named pipes are like anonymous pipes, except they are not anonymous (they have a name) nor are they ephemeral. Named pipes still give us the efficiency and concurrency benefits that anonymous pipes give us, but Bash lacks the syntactic sugar it has for process substitution when it comes to named pipes.</p> <p>This is how we create named pipes, write to them, read from them and remove them.</p> <div><div><pre><code><span>$ </span><span>mkfifo </span>ourpipe
<span>$ </span><span>echo</span> <span>"Content in pipe"</span> <span>&gt;</span> ourpipe &amp;
<span>$ </span><span>cat </span>ourpipe
Content <span>in </span>pipe
<span>$ </span><span>rm </span>ourpipe
</code></pre></div></div> <p>Not as pretty as <code>&lt;(command)</code>, but it gets the job done.</p> <p>We can give a named pipe the same name as our YouTube video, and that way, the VLC interface will show the name of what we‚Äôre watching.</p> <div><div><pre><code><span>function </span>cast_ytdl<span>()</span> <span>{</span>
  <span>url</span><span>=</span><span>"</span><span>$1</span><span>"</span>

  <span># create a temporary named pipe</span>
  <span># why? because vlc will show the file descriptor path if we just use process substitution</span>
  <span>filename</span><span>=</span><span>$(</span>youtube-dl <span>--get-filename</span> <span>"</span><span>$url</span><span>"</span><span>)</span>
  <span>path</span><span>=</span><span>"/tmp/</span><span>$filename</span><span>"</span>
  <span>mkfifo</span> <span>"</span><span>$path</span><span>"</span>

  <span># download in background, push to named pipe</span>
  youtube-dl <span>-q</span> <span>-o</span> - <span>"</span><span>$url</span><span>"</span> <span>&gt;</span> <span>"</span><span>$path</span><span>"</span> &amp;
  <span>pid</span><span>=</span><span>"</span><span>$!</span><span>"</span>
  <span>disown</span> <span>$pid</span>

  <span># cast from named pipe</span>
  cast_vlc <span>"</span><span>$path</span><span>"</span>

  <span># cleanup process and named pipe</span>
  <span>kill</span> <span>-9</span> <span>"</span><span>$pid</span><span>"</span> &amp;&gt; /dev/null
<span>}</span>

cast_ytdl <span>"</span><span>$url</span><span>"</span>
</code></pre></div></div> <p>This works, too.</p> <p>We need to manually create a named pipe with <a href="https://linux.die.net/man/1/mkfifo"><code>mkfifo</code></a>, redirect <code>youtube-dl</code>‚Äôs <code>stdout</code> to the named pipe while running the process in the background, and then cleanup the process after casting from it via VLC, otherwise it might linger in the background. Each of those tasks would have been handled for us automatically using process substitution.</p> <p>But it does look a bit better:</p> <div> <p><img src="https://d33wubrfki0l68.cloudfront.net/25d68fb2085191adb26bb931e9bb31c638e5a634/f664c/assets/imgs/converted/vlc3-fs8.webp" loading="lazy"> </p> </div>  <p>Pipes, anonymous pipes and named pipes are also known by another name because of the way they behave: <a href="https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)#Pipes">FIFOs</a>, or <strong>f</strong>irst <strong>i</strong>n, <strong>f</strong>irst <strong>o</strong>ut. What‚Äôs written to the pipe is read from the pipe in first in, first out order. This behavior maps well to video streaming.</p> <p>While you can interact with anonymous and named pipes like you would a file, the interface isn‚Äôt 1:1 with a <a href="https://en.wikipedia.org/wiki/Unix_file_types#Regular_file">standard file</a>. You cannot <code>seek()</code> forward or backward in pipe, you can just read the next forward values. For our use case, that means we cannot skip forward or backward in our streaming videos. We can only play, pause or stop the video.</p> <p>That‚Äôs not a problem for me, however it‚Äôs something that can be mitigated if it‚Äôs a problem for you. The first solution I can think of would be to write to a temporary file via <code>youtube-dl</code> and read from it. Or <a href="https://alexdelorenzo.dev/programming/2019/04/14/buffer">perhaps a temporary spooled file can act as a buffer for the pipe</a>, such that you can <code>seek()</code> through the buffer, but the buffer itself is ephemeral unlike a normal file.</p> </div></div>]]>
            </description>
            <link>https://alexdelorenzo.dev/linux/2020/03/14/pipes</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673825</guid>
            <pubDate>Mon, 29 Jun 2020 02:27:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Redash Is Joining Databricks]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673728">thread link</a>) | @weitingliu
<br/>
June 28, 2020 | https://blog.redash.io/redash-joins-databricks/ | <a href="https://web.archive.org/web/*/https://blog.redash.io/redash-joins-databricks/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <section>
                <div>
                    <p>We‚Äôre happy to announce that Redash is joining Databricks. We‚Äôve been an open-source company grounded in helping our community of users make sense of their data. We found this same culture and values in Databricks, and we‚Äôre excited to be able to carry on our vision to democratize access to data ‚Äî now in a larger home where we can bring this to even more people.</p><p>We‚Äôre excited to be one of the many open-source projects that Databricks supports. They‚Äôre the original creators of Apache Spark‚Ñ¢, the standard for large-scale data processing, as well as Delta Lake for reliable data lakes, MLflow for the machine learning lifecycle, Koalas for data science productivity on Spark. Now, Redash joins this community of open source projects for collaborative SQL queries and dashboarding. We look forward to growing the Redash engineering team and have a lot of plans in our road map to deliver an even better experience with Redash, with more functionality, security and support. Open Source Redash remains in its current code repo, and we will be releasing a new v9 shortly so stay tuned for more details.</p><p>As part of this acquisition, we will be offering a new way to use Redash from directly within Databricks. For our current Redash SaaS paid customers, your service will continue unchanged, and we will be sharing more details in the coming months on how we‚Äôre planning to expand the service. You can learn more in our <a href="https://redash.io/help/faq/databricks">customer FAQ</a>.</p>
                </div>
            </section>

            


        </article>


    </div>
</div></div>]]>
            </description>
            <link>https://blog.redash.io/redash-joins-databricks/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673728</guid>
            <pubDate>Mon, 29 Jun 2020 02:09:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An experiment in the socially-distanced classroom]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673696">thread link</a>) | @mooreds
<br/>
June 28, 2020 | http://blogs.whitman.edu/countingfromzero/2020/06/19/an-experiment-in-the-socially-distanced-classroom/ | <a href="https://web.archive.org/web/*/http://blogs.whitman.edu/countingfromzero/2020/06/19/an-experiment-in-the-socially-distanced-classroom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-537">
				<!-- .entry-header -->

				<div>
			<p>I belong to a group of faculty and staff who‚Äôve historically met over lunch to discuss teaching and technology. Last week, after three months of meeting on Zoom, we decided to meet in person in a classroom on campus to see what it‚Äôs like.<span id="more-537"></span></p>
<p>Four of us met in a third-floor classroom measuring 28‚Äôx24‚Ä≤ with a nominal capacity of 28 students. We all wore masks, and at my husband‚Äôs suggestion I brought the Stick of Social Distancing (marked at 6‚Ä≤ and 2m).</p>
<p>First I reflect on ‚Äúthe good, the bad, and the ugly,‚Äù which I‚Äôve interpreted as what went well (or better than expected), what practical or pedagogical problems arose, and where we had difficulty following safety guidelines. Then I share some recommendations based on these observations. Finally, I conclude with a photo essay documenting our experiment.</p>
<p><strong>The Good</strong></p>
<ul>
<li>We were able to arrange the desks to implement the official adjusted room capacity of 15 students plus the instructor. I assumed that would mean staggered rows of desks facing forward, but it also worked to put 12 seats around the edge of the room and 4 in the middle, which were far enough apart to face either in (for a fishbowl discussion) or out (for small group discussions).</li>
<li>We had no problems hearing each each other ‚Äì although we never did try to have two pairwise conversations in parallel.</li>
<li>We felt more comfortable wearing masks after 75 minutes than we thought we would.</li>
<li>It was nice to spend some time in the physical presence of a few of my closest colleagues. I didn‚Äôt feel the anxiety during this experiment that I thought I might.</li>
</ul>
<p><strong>The Bad</strong></p>
<ul>
<li>Arriving at the classroom was uncomfortable. After walking up two flights of stairs, our masks were quite moist and sticky.</li>
<li>While there is space for 15 students plus the instructor, there is no space for the instructor to move in the discussion configuration. Perhaps the instructor would be able to use the chalkboard if the desks were in rows facing forward. We didn‚Äôt test that.</li>
<li>With 4 groups of 4 students, there is nowhere in the classroom for the instructor to be at all.</li>
<li>Three desks were in pretty uncomfortable positions ‚Äì one in the corner right by the door, and two with the instructor‚Äôs podium between them so they could not see each other. (It would be very tempting to scoot forward to gain a sightline and end up too close together.)</li>
<li>We found that it took a conscious effort to speak at a normal volume rather than projecting. We worried about losing our voices during a full day of classes and other meetings with students. ETA: I normally teach with a cup of water in my hand. And as Emma reminded me, drinking while wearing a mask requires taking the mask off, so no drinking while teaching.</li>
<li>At the end of our meeting, one colleague said I had talked over her several times. While I pointed out I have always had a bad habit of interrupting when excited, she attributed it to not being able to see each other‚Äôs faces under the masks.</li>
</ul>
<p><strong>The Ugly</strong></p>
<ul>
<li>While we‚Äôve typically had 8-9 folks at Zoom meetings, only 4 made it to this meeting on campus. People had different reasons for not coming. It was just as well for this meeting ‚Äì Walla Walla County is still in Phase 2, which allows meetings of up to 5 people. But it makes me wonder even more about whether it‚Äôs going to be realistic to expect most students to come to an in-person class, especially if they have the option to participate online or substitute other activities.</li>
<li>In particular, one colleague who did not join us reported by email that she may have been exposed to COVID-19 and is self-quarantining.</li>
<li>Navigating the hallways and stairs too and from the classroom was a bit nerve-wracking, even with very few people in the building.</li>
<li>Without the Stick of Social Distancing, we might have spaced some of the desks too closely. As it is, I‚Äôm concerned that we measured on-center and not edge-to-edge.</li>
<li>Once our conversation got animated, the four of us easily took up the entire room. We definitely got too close to each other after some of us got out of our seats to use the chalkboard.</li>
<li>One of us had a poorly fitting mask that slipped down her nose over the course of our meeting. This might be the thing that made me the most nervous.</li>
<li>After getting home, I cleaned my book and phone, took a shower, and started a load of laundry. That might have been unnecessary, but I felt a lot better after the shower.</li>
</ul>
<p><strong>Recommendations</strong></p>
<ul>
<li>To meet in person, we need one-way signs for halls and stairways, floor marks for safe configurations of classrooms with moveable furniture (maybe different-colored tape for different configurations), and hand sanitizer at the door of every classroom.</li>
<li>To meet in person, we need to trust each others‚Äô masks. Students, faculty, and staff should all be provided with several masks (to allow washing) of a design known to be effective.</li>
<li>Everyone, but especially instructors, may need to arrive to class earlier than usual to have extra time to clean their hands, get in place, and cool down. ETA: We also need scheduled breaks to drink water in a place/situation where we can take our masks off. Those who normally teach with a mug of coffee may need to schedule time for advance caffeination.</li>
<li>Instructors need to think carefully about how our usual active learning techniques will adapt to social distancing,&nbsp;<em>in the particular classrooms we are teaching in</em>. In particular, seating the students may not be enough. If the instructor or the students need space to move around, you need a <em>much</em> bigger classroom or many fewer students.</li>
<li>Collaborative work on paper is not an option when you are 6 feet apart. Students need to use chalkboards, whiteboards, or digital tools such as Google Docs.</li>
<li>In collaborative chalkboard work, each person should keep their own chalk during the session. We need to figure out how to stay distanced while moving ‚Äì possibly by marking boxes on the floor and instituting rules for taking turns writing on the board.</li>
<li>Similarly, instructors should make explicit rules for requesting, taking, and ceding the floor, e.g., by raising and lowering hands. (A talking stick is not an option, for reasons that should be obvious.)</li>
<li>Instructors need to have plans for accommodating unplanned absences due to self-quarantine. While we always have unplanned absences due to illness and personal emergencies, there are going to be a lot more than usual due to requirements to get tested and/or self-quarantine for suspected exposure as well as symptoms. Moreover, vulnerable students who have chosen to return to campus may be <em>much</em> more cautious about attending class while they are feeling ill or during an outbreak. (It goes without saying that we also need plans to move our classes entirely online, even if they start in person.)</li>
<li>Like health care workers, instructors may want to institute a sanitary protocol for returning home after a day with students, especially if they have vulnerable family members.</li>
</ul>
<p><strong>Photo essay</strong></p>
<div id="attachment_539"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1.jpeg"><img aria-describedby="caption-attachment-539" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-225x300.jpeg" alt="Photo of Janet wearing a sunhat and holding a tick marked &quot;6ft&quot; and &quot;2m&quot;" width="225" height="300" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-225x300.jpeg 225w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-769x1024.jpeg 769w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-768x1023.jpeg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-1154x1536.jpeg 1154w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1-624x831.jpeg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0869-1.jpeg 1442w" sizes="(max-width: 225px) 100vw, 225px"></a></p><p id="caption-attachment-539">Leaving home with my sunhat and the Stick of Social Distancing.</p></div>
<div id="attachment_543"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120155.jpg"><img aria-describedby="caption-attachment-543" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120155-220x300.jpg" alt="Five-foot tall woman standing in a classroom holding up a 2-meter tall stick" width="220" height="300" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120155-220x300.jpg 220w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120155.jpg 540w" sizes="(max-width: 220px) 100vw, 220px"></a></p><p id="caption-attachment-543">Arriving in the classroom with the Stick of Social Distancing. (Photo Credit: Albert Schueller)</p></div>
<div id="attachment_544"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328.jpg"><img aria-describedby="caption-attachment-544" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328-300x169.jpg" alt="A woman in a sun hat crouching down and holding a long stick on the floor between two desks" width="300" height="169" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328-300x169.jpg 300w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328-1024x576.jpg 1024w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328-768x432.jpg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328-624x351.jpg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_120328.jpg 1316w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p id="caption-attachment-544">Using the Stick of Social Distancing to check the spacing of desks. (Photo Credit: Albert Schueller.)</p></div>
<div id="attachment_545"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152.jpg"><img aria-describedby="caption-attachment-545" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152-300x169.jpg" alt="A woman sitting at a desk in the corner while another stands against the wall. Desks are spaced 6 feet apart along the walls. Other desks are scattered in the foreground." width="300" height="169" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152-300x169.jpg 300w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152-1024x576.jpg 1024w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152-768x432.jpg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152-624x351.jpg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_20200618_122152.jpg 1316w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p id="caption-attachment-545">After arranging the desks around the edges of the classroom and pushing extras to the middle. Later this summer, Physical Plant will remove desks exceeding the adjusted room capacities. (Photo Credit: Albert Schueller)</p></div>
<div id="attachment_541"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1.jpeg"><img aria-describedby="caption-attachment-541" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-300x225.jpeg" alt="One woman writes at the chalkboard while another gestures and a man watches" width="300" height="225" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-300x225.jpeg 300w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-1024x768.jpeg 1024w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-768x576.jpeg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-1536x1152.jpeg 1536w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1-624x468.jpeg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0871-1.jpeg 1920w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p id="caption-attachment-541">The four of us easily took up the whole room.</p></div>
<div id="attachment_540"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1.jpeg"><img aria-describedby="caption-attachment-540" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-300x225.jpeg" alt="Man reaching to write on the chalkboard, woman standing nearby" width="300" height="225" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-300x225.jpeg 300w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-1024x768.jpeg 1024w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-768x576.jpeg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-1536x1152.jpeg 1536w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1-624x468.jpeg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0872-1.jpeg 1920w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p id="caption-attachment-540">Getting too close at the chalkboard.</p></div>
<div id="attachment_542"><p><a href="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1.jpeg"><img aria-describedby="caption-attachment-542" src="https://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-300x225.jpeg" alt="The artist stands by the chalkboard while two others gesture and talk to each other" width="300" height="225" srcset="http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-300x225.jpeg 300w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-1024x768.jpeg 1024w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-768x576.jpeg 768w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-1536x1152.jpeg 1536w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1-624x468.jpeg 624w, http://blogs.whitman.edu/countingfromzero/files/2020/06/IMG_0874-1.jpeg 1920w" sizes="(max-width: 300px) 100vw, 300px"></a></p><p id="caption-attachment-542">An animated conversation, with visual aids.</p></div>
					</div><!-- .entry-content -->
		
		<!-- .entry-meta -->
	</article></div>]]>
            </description>
            <link>http://blogs.whitman.edu/countingfromzero/2020/06/19/an-experiment-in-the-socially-distanced-classroom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673696</guid>
            <pubDate>Mon, 29 Jun 2020 02:01:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rant about new Windows console]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673694">thread link</a>) | @xiaodai
<br/>
June 28, 2020 | https://clips.twitch.tv/TalentedSparklyDoveVoHiYo | <a href="https://web.archive.org/web/*/https://clips.twitch.tv/TalentedSparklyDoveVoHiYo">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://clips.twitch.tv/TalentedSparklyDoveVoHiYo</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673694</guid>
            <pubDate>Mon, 29 Jun 2020 02:01:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My venture in hacking a fake vintage radio]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673673">thread link</a>) | @ca98am79
<br/>
June 28, 2020 | https://www.tnhh.net/posts/adventures-hacking-fake-vivitar-vintage-radio.html | <a href="https://web.archive.org/web/*/https://www.tnhh.net/posts/adventures-hacking-fake-vivitar-vintage-radio.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><img src="https://media0.giphy.com/media/dCcLQ5TLFANMj0p3Uh/giphy.gif" alt="Press F to pay respects"></p>
<p>For a year or so I have owned a nice fake-vintage radio/bluetooth speaker that originally caught my eye for sale in a FedEx office. The front has a quite nice VFD-style LED to show the status, a volume knob and four hard buttons. It has Bluetooth, USB, AUX and FM input. The radio and bluetooth was not bad, but there was nothing to be impressed about. It was definitely not "smart."</p>
<p>I decided to hack it to make it a bit smarter: to do AirPlay and be a smart alarm clock and whatever else I could think of. Since it was inexpensive, I had nothing to lose and everything to win. I thought putting a Raspberry Pi 0 or something in it would be nice.</p>
<p>My original plan was to somehow figure out how to hijack all the external components and control them to make the front and back of the radio as neat-looking as possible. At least I hoped to hijack the speaker, the volume knob, and the buttons. The problem I foresaw was that those components are often not documented and there was little chance that I could get a datasheet for them. I was very worried that I might have to give up the fake-VFD LED screen.</p>
<p>It turns out that I had to spend a year hacking it on and off. Here goes.</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/fedex-sale.jpg" alt="FedEx sale"></p>
<p>First, I gutted the radio and saw that it has a main PCB with the LED panel directly soldered to it.</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/radio-disassembled.jpg" alt="Disassembled radio"></p>
<p>The chip on the PCB isn't something I recognized. Luckily, the knob and the hard buttons are on a separate breakout board and are connected to the mainboard via a connector.</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/main-pcb.jpg" alt="Main PCB"></p>
<h2 id="the-speaker">The speaker</h2>
<p>The speaker is also easy to deal with, as it is completely ordinary. It only required me to desolder it from the mainboard. As the Pi 0 has no built-in soundcard, I had to get a separate sound card for it.</p>
<h3 id="audio-injector-zero">Audio Injector Zero</h3>
<p>Initially, I used the Audio Injector Zero that I have no use for normally. To save space, I decided to permanently sandwich the Audio Injector to the Pi 0. I also had to buy a cheap amp for it, as the sound card can't directly drive the speaker.</p>
<p>One little issue was that the sound card produces stereo input, and the amp is also stereo, but I only have one speaker. I needed to mix both channels left and right to that speaker somehow. To that end, I am sure a Linux guru could make it work with configuring the sound card in software. However, I am not extremely well-versed with how ALSA or Pulse Audio works. I just wired both channels left and right of the amp to one channel input of the amp to mix the channels. For power, the amp needs 5V input, so I siphoned the two power pins from the Raspberry Pi.</p>
<p>I was surprised when the amp produced a very annoying hum. The hum was extremely noticeable when the Pi is under load. I don't know exactly why this happens, but I spent way too much time on this with no significant improvement. Ultimately, I decided it's the cheap amp that was giving me a hard time, because it was way too noisy. I know the Audio Injector itself was okay because the headphones output was clean.</p>
<h3 id="google-aiy-voice-hat">Google AIY voice hat</h3>
<p>After giving up on the Audio Injector Zero + Amp solution, I tried a different route: Drive the speaker directly with the Google AIY voice bonnet hat. Because the Google AIY sound card doesn't provide an easy way to set up on a plain raspbian, I just got their distro and started from there.</p>
<p>The speaker was hum-free after switching to the Google AIY soundcard. The tradeoff was that the Google Voice Bonnet V2 sound card made the stack quite a bit thicker. It has a female row of pins soldered on it, so I couldn't solder it directly on top of the Pi Zero.</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/sound-cards.jpg" alt="Sound cards"></p>

<p>The front panel of the radio has two sets of elements: A knob of some sort to control the volume and four hard buttons. It has four wires hanging out of it. After I inspected the traces on the PCB, it was apparent that there is one common ground. The three other pins are for the buttons and the knob. All of the buttons are connected to a single pin, and the volume knob is connected to the other two.</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/buttons-knob.jpg" alt="Buttons and knobs"></p>
<p>As a software person, I didn't know what the knob is called. <a href="http://dbindner.freeshell.org/">Dr. Don Bindner</a> suggested that the button might be a rotary encoder, and that turned out to be true. It seemed <a href="http://www.learningaboutelectronics.com/Articles/Rotary-encoder-circuit.php">trivial enough to read the knob</a>.</p>
<p>The buttons are more interesting. After poking around with a multimeter, it turned out that the buttons were tactile but each of them is connected in series to a different resistor. Then they all connect out to the same pin. The software in the chip scans the pin and figures out what button was pressed by sampling from an Analog-to-Digital (ADC) Converter reading. As the Pi has no ADC, we need something else that has an ADC to figure out what the button was pressed. Of course, I could as well hijack the tactile buttons and not have to deal with the ADC stuff but that seemed too aesthetically unpleasant for me.</p>
<p>I decided to pull out anArduino Pro Micro clone that I bought from China years ago. My reasoning for using the Pro Micro:</p>
<ol>
<li>The Arduino Pro Micro is super cheap: $2 cheap.</li>
<li>Even if I could add an ADC to the Pi, I need to continuously read the ADC from the Pi. That is a pain in the neck. I can't guarantee the timings on the Pi without going to a lot of care.</li>
<li>The Pro Micro can emulate a keyboard over USB, so the Pi can use triggerhappy to catch it.</li>
</ol>
<p>So with that, I made my arduino sketch and it worked out. I wanted to emulate the Winamp-style buttons ZXCV for multimedia keys and UD for volume up/down. Later on, I was quite annoyed with it because the keyboard dumps the keystrokes to the terminal, and <a href="https://androidcommunity.com/very-odd-bug-found-in-jailbreaking-process-20081109/">it could be bad</a>. I decided to implement the keys as multimedia keys. Unfortunately, you need a HID library to implement multimedia keys. Luckily, there is a library called <a href="https://github.com/NicoHood/HID">HID-Project</a> to achieve exactly what I wanted. After some tweakings for debounce, I could get the volume knob and the buttons to work exactly as I expected:</p>
<div><div><pre><code><span>void</span> <span>pressKey</span><span>(</span><span>uint16_t</span> <span>k</span><span>,</span> <span>int</span> <span>d</span><span>)</span> <span>{</span>
  <span>Consumer</span><span>.</span><span>write</span><span>(</span><span>k</span><span>);</span>
  <span>if</span> <span>(</span><span>d</span><span>)</span> <span>{</span>
    <span>delay</span><span>(</span><span>d</span><span>);</span>
  <span>}</span>
<span>}</span>

<span>void</span> <span>kbd_loop</span><span>()</span> <span>{</span>
  <span>if</span> <span>(</span> <span>millis</span><span>()</span> <span>&lt;</span> <span>debounce</span> <span>+</span> <span>debouncerMs</span><span>)</span> <span>{</span>
    <span>return</span><span>;</span>
  <span>}</span>
  
  <span>// Volume rotary handling</span>
  <span>boolean</span> <span>encoderA</span> <span>=</span> <span>digitalRead</span><span>(</span><span>encoderPinA</span><span>);</span>
  <span>boolean</span> <span>encoderB</span> <span>=</span> <span>digitalRead</span><span>(</span><span>encoderPinB</span><span>);</span>

  <span>if</span> <span>((</span><span>encoderA</span> <span>==</span> <span>HIGH</span><span>)</span> <span>&amp;&amp;</span> <span>(</span><span>encoderB</span> <span>==</span> <span>HIGH</span><span>))</span> <span>{</span>
    <span>if</span> <span>((</span><span>encoderALast</span> <span>==</span> <span>LOW</span><span>)</span> <span>&amp;&amp;</span> <span>(</span><span>encoderBLast</span> <span>==</span> <span>HIGH</span><span>))</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_VOL_UP</span><span>,</span> <span>0</span><span>);</span>
    <span>}</span> <span>else</span> <span>if</span> <span>((</span><span>encoderBLast</span> <span>==</span> <span>LOW</span><span>)</span> <span>&amp;&amp;</span> <span>(</span><span>encoderALast</span> <span>==</span> <span>HIGH</span><span>))</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_VOL_DOWN</span><span>,</span> <span>0</span><span>);</span>
    <span>}</span>
  <span>}</span>
  
  <span>encoderALast</span> <span>=</span> <span>encoderA</span><span>;</span>
  <span>encoderBLast</span> <span>=</span> <span>encoderB</span><span>;</span>

  <span>// Multimedia buttons</span>
  <span>int</span> <span>pushBtnRead</span> <span>=</span> <span>analogRead</span><span>(</span><span>pushBtnPin</span><span>);</span>
  <span>if</span> <span>(</span><span>pushBtnRead</span> <span>&gt;</span> <span>900</span> <span>&amp;&amp;</span> <span>debounce</span> <span>!=</span> <span>0</span><span>)</span> <span>{</span>
    <span>debounce</span> <span>=</span> <span>0</span><span>;</span>
  <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>pushBtnRead</span> <span>&lt;=</span> <span>264</span><span>)</span> <span>{</span>
    <span>if</span> <span>(</span><span>pushBtnRead</span> <span>&gt;</span> <span>200</span><span>)</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_NEXT</span><span>,</span> <span>delayMultimediaKeyMs</span><span>);</span> <span>// Next</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>pushBtnRead</span> <span>&gt;</span> <span>150</span><span>)</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_PREVIOUS</span><span>,</span> <span>delayMultimediaKeyMs</span><span>);</span> <span>// Prev</span>
    <span>}</span> <span>else</span> <span>if</span> <span>(</span><span>pushBtnRead</span> <span>&gt;</span> <span>115</span><span>)</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_STOP</span><span>,</span> <span>delayMultimediaKeyMs</span><span>);</span> <span>// Stop/M</span>
    <span>}</span> <span>else</span> <span>{</span>
      <span>pressKey</span><span>(</span><span>MEDIA_PLAY_PAUSE</span><span>,</span> <span>delayMultimediaKeyMs</span><span>);</span> <span>// Play pause</span>
    <span>}</span>
  <span>}</span>
  
  <span>debounce</span> <span>=</span> <span>millis</span><span>();</span>
<span>}</span>
</code></pre></div></div>
<p>I could test the Arduino implementation right on my development computer with <code>xev</code> so that was really nice.</p>
<h2 id="the-fake-vfd-led-screen">The fake VFD LED screen</h2>
<p>The screen was the part that I had the most doubt about being able to control, because I have never worked with such a device before. Before trying to reverse-engineer it, I tried to look up similar 7-segment LED screens online hoping to find something similar. Those screens often have more than 8 pins (1 for the ground, 7 for each segment, and some more to select the digit. This one is nothing like that: It has only 7 pins. I wanted to give it up and just buy another screen that has a datasheet to save myself from trouble but I couldn't find anything that would fit into the original cutout for the screen. So I had to bite the bullet and hack the LED screen (I had nothing better to do in the craziness of the pandemic).</p>
<h3 id="general-workings">General workings</h3>
<p>There was no giveaway from the PCB what the ground pin for the display might be. I only had a multimeter in hand so what I did was set it to the diode tester mode. Then I probed pairs of pins to see what lights up. As luck would have it, I found out that each pair of pins lit up a different segment on the screen. So there was no common ground at all! I drew the screen and noted what pin pair light up each segment (excuse my nasty draft paper):</p>
<p><img src="https://www.tnhh.net/assets/posts-images/fake-radio-hack/matrix-draft.jpg" alt="Draft Matrix"></p>
<p>First, I was really annoyed because the screen is yet another custom device I had to reverse engineer. Then, it really impressed me that this screen is quite well designed for such a cheap device. There were exactly 42 segments on this LED screen! The number of different segments is exactly the maximum number of permutations between any 2 pins: P(7,2) = 42. After some more digging, I found out that this wiring scheme is called <a href="https://hackaday.com/tag/charlieplexing/">Charlieplexing</a>. So each LED segment has a voltage drop of 1.860V, and my Arduino is 5V. I assumed a 20mA current and used a LED calculator and to figure out that I need to connect a 150K resistor to the LED. Because of the charlieplexing setup, I actually need half of that resistance for each pin (it will be apparent as you read on), so I soldered a 68K resistor to each pin.</p>
<h3 id="control-the-led-screen-programmatically">Control the LED screen programmatically</h3>
<p>The question then became how to control this LED screen programmatically. It was clear to me I can't possibly draw every segment by toggling the pins on and off in one whole sweep. Then I realized that I need to think of the LED screen like an <a href="https://www.youtube.com/watch?v=r38nVmxBfvM">analog TV screen</a>. Thus, each of the pins can be thought of as a horizontal scanline ‚Äì except they are not on the same ‚Äúline‚Äù! This might be quite obvious to those who have dealt with CRTs in the past (which I have not), but it might be hard to imagine for those who grew up with LCDs.</p>
<p>Let's say I want to draw the screen with segment 17, 18, and 11 lit up. That means I have to do two sweeps. First, pull pin 1 to GND and pull pin 2 to V_LED to light up segment 18. Then, pull pin 4 to GND and pull pin 1 and 7 to V_LED to light up segment 17 and 11 at once. Do it fast enough, and my eyes won't be able to tell we are flashing them!</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.tnhh.net/posts/adventures-hacking-fake-vivitar-vintage-radio.html">https://www.tnhh.net/posts/adventures-hacking-fake-vivitar-vintage-radio.html</a></em></p>]]>
            </description>
            <link>https://www.tnhh.net/posts/adventures-hacking-fake-vivitar-vintage-radio.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673673</guid>
            <pubDate>Mon, 29 Jun 2020 01:56:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Methyl prednisone associated with a lower hazard of death in COVID19 [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673521">thread link</a>) | @drocer88
<br/>
June 28, 2020 | https://covid19criticalcare.com/wp-content/uploads/2020/06/COVID-19-Methylprednisolone-Salton-medRxiv-020.pdf | <a href="https://web.archive.org/web/*/https://covid19criticalcare.com/wp-content/uploads/2020/06/COVID-19-Methylprednisolone-Salton-medRxiv-020.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://covid19criticalcare.com/wp-content/uploads/2020/06/COVID-19-Methylprednisolone-Salton-medRxiv-020.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673521</guid>
            <pubDate>Mon, 29 Jun 2020 01:27:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Low Beta Anomaly]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673435">thread link</a>) | @smabie
<br/>
June 28, 2020 | https://cryptm.org/posts/2020/06/28/beta.html | <a href="https://web.archive.org/web/*/https://cryptm.org/posts/2020/06/28/beta.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Perhaps more than any other development, finance was ushered into the
modern era with the development of the <em>Capital Asset Pricing Model</em>
(CAPM) by William Sharpe in the early 60s. Though commonly criticized as
too simple and reductionist, the model is still used today as an easy
way to determine a stock's exposure to the market:</p>



<p>$\beta_i$ was originally formulated as
$\frac{\text{Cov}(r_m,r_i)}{\text{Var}(r_m)}$, but it is more commonly
calculated by taking the slope of a linear regression between the asset
and the market. $r_m$ is the expected market return, $r_f$ is the
expected risk-free rate, and $r_i$ is the expected return of the asset.</p>

<p>Perhaps the model is so popular because the interpretation of $\beta$ is
so concrete and easy to understand: a stock's $\beta$ is simply a
multiplier on the market's return. Stocks with high betas are more
volatile than the market, and those with smaller betas less so. In
tumultuous times, investors try and cut their volatility by rotating
into low beta stocks; while in bull markets, investors clamor to those
with the highest betas.</p>

<p>There's been a problem with CAPM, and indeed, the very concept of beta,
for a long time now: it's called the low beta anomaly. Academics
noticed that there was systematic discrepancies between high and low
beta stocks: it seemed like higher beta stocks were under performing and
low beta stocks were outperforming. Consider the <em>Security Market Line</em>
(SML):</p>

<p><img src="https://cryptm.org/assets/sml.png" alt="Security Market Line"></p>

<p>According to CAPM, the returns of low beta stocks were supposed to
linearly scaled by their beta exposure, likewise with higher beta
stocks. Instead, it was noticed that there was an unexpected curve:</p>

<p><img src="https://cryptm.org/assets/lba.png" alt="Low beta anomaly"></p>

<p>As we can see, high volatility (and thus, high beta) portfolios are
returning significantly less than what is expected, thus throwing a
wrench into the very concept of beta. After seeing the chart, a natural
question is: can we exploit this mispricing while not being exposed to
the market? In this post, we'll look into whether it's possible to
profit off of this effect and also discuss the potential structural and
behavioral reasons for this anomaly.</p>

<h2 id="a-simple-approach">A Simple Approach</h2>

<p>Of course, the simplest way to try and capture the excess return of the
anomaly is to construct a portfolio of low beta equities and call it a
day. But what if we don't want to be exposed to the market, even to the
degree that low beta equities are? Like most answers in finance, the
answer is a market neutral long/short portfolio!</p>

<p>For this strategy, we'll be using the Quantopian <em>Q1500US</em> universe,
which consists of the 1500 most liquid US equities on any given day. We
then construct our low beta factor as such:</p>



<p>This will give us large positive values for stocks that have low beta,
and small negative values for those that have high beta. Before we rank
and z-score, in order to calculate the beta for each equity, we find the
slope of a simple linear regression over a 252 day rolling window. We
then use these factor values as the weights of our long/short portfolio.
Let's look at the total long/short return of our simple strategy
between 2003-01-01 and 2020-01-01:</p>

<p><img src="https://cryptm.org/assets/betacum.png" alt="Cumulative return"></p>

<p>Well‚Ä¶ this isn't good! Why are we losing money? Does this mean that
the low beta anomaly isn't actually true? Digging into the numbers a
little more, it turns out that the total portfolio beta for this
strategy is actually negative, -38% to be exact. This means that even
though we are market neutral, we have a negative exposure to the market:
when the market goes up, our portfolio loses money, and vice versa.
Since the market goes up most of the time, this isn't a great property
to have. Ideally, we want to have zero beta exposure, not negative
exposure. Let's look at the skew of the distribution of betas over
time:</p>

<p><img src="https://cryptm.org/assets/skew.png" alt="Skew over time"></p>

<p>In order for our market neutral portfolio to have zero beta, we would
need the skew of the betas to be zero, like for a standard normal
distribution. To make this a little more concrete, let's look at a
histogram for a single time period of stock betas:</p>

<p><img src="https://cryptm.org/assets/hist.png" alt="Histogram"></p>

<p>Now, the problem becomes evident: even though we are market neutral, we
end up taking on negative beta exposure because the distribution of the
beta of stocks has a long left-side tail. Almost no stocks actually have
negative beta exposure, while many have high beta exposures! This means
that when longing and shorting in equal proportion, we end up with a
large negative beta since our long positions don't have a low enough
beta in order to cancel out our high beta short positions.</p>

<h2 id="fixing-the-problem">Fixing the Problem</h2>

<p>So, how do we proceed? We need to find some way to adjust the weights of
our portfolio so that we end up with zero beta exposure. Fortunately,
calculating the beta exposure is relatively straightforward. Given a
column vector of weights:</p>



<p>And a vector of beta exposures:</p>



<p>We can easily find the beta of portfolio:</p>



<p>Traditionally, we would solve this equation by using an optimizer with a
constraint that $\beta_p =0$. But because we only have one factor, we
can find an analytical solution. What we want to do is to try and solve
for a $\beta_p$ of zero. To do this, we first need to rewrite the
equation in terms of the weights that are positive (the low beta side)
and those that are negative (the high beta side):</p>





<p>Likewise, we split up the betas as well:</p>





<p>Where:</p>



<p>Now, our equation becomes:</p>



<p>Where the $\alpha$ vectors contain the positive weights and the $\beta$
vectors, the negative weights. We want to scale up the negative weights
(make them larger, though still negative), so we introduce a scaling
factor, $\lambda$, and set $\beta_p=0$:</p>



<p>We now solve for $\lambda$:</p>



<p>Assuming a leverage ratio of one, i.e:</p>



<p>We can calculate the net long exposure, using $\lambda$ as a parameter:</p>



<p>Below is the graph of net long exposure over time:</p>

<p><img src="https://cryptm.org/assets/ne.png" alt="Net long exposure"></p>

<p>And the cumulative return:</p>

<p><img src="https://cryptm.org/assets/betacum2.png" alt="Cumulative return"></p>

<p>Wow, Looks a lot better! Ignoring the Great Recession, the return stream
seems very solid, with limited volatility. Below is a table of some
additional strategy information:</p>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Beta</td>
      <td>1.8%</td>
    </tr>
    <tr>
      <td>Ann. Ret</td>
      <td>4.0%</td>
    </tr>
    <tr>
      <td>Ann. Vol</td>
      <td>4.6%</td>
    </tr>
    <tr>
      <td>Ret/Vol</td>
      <td>0.84</td>
    </tr>
  </tbody>
</table>

<p>With a beta of only 1.8%, it's clear that our method for reducing beta
exposure works quite well. Still, it's surprising that a net long
exposure of such magnitude can still be taken with little to no
correlation to the market. Evidently, there is indeed an excess return
associated with low-beta equities, and quite a large one, at that.</p>

<h2 id="explanation">Explanation</h2>

<p>Many academics have tried to explain the structural and behavioral
reasons for the low beta anomaly. The most common explanation put forth
is that due to leverage constraints and borrowing costs, investors seek
out high beta securities in order to achieve a higher natural return. If
high leverage ratios were available to all investors, one might expect
that this mispricing of high beta stocks might go away, as the beta of
any given stock would become less important.</p>

<p>Another possible explanation is that the conflict of interest between
money managers and clients creates an incentive for fund managers to
take excess risk through high beta equities. In good times, managers
collect a performance fee and a management fee while in bad times, only
a management fee. This asymmetric payoff incentives managers to try and
score a big "win," while limited liability prevents managers from ever
losing money on losses.</p>

<p>A third explanation is that high volatility (and thus high beta) stocks
receive more attention from the financial community as they are simply
more interesting to discuss. This interest and attention encourages
increased buying, thus pushing down the expected return of said stocks.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this post we have shown that there is indeed a significant abnormal
return associated with low beta stocks. This abnormal return can not
only be captured with a long only (and beta exposed) portfolio, but also
a beta neutral one. Despite the less than stellar risk-adjusted return
of the strategy, perhaps the Sharpe ratio can be improved by controlling
sector and style risks in addition to beta exposure. Perhaps one could
also overlay the low beta factor on top of an existing factor strategy
in order to reduce volatility and boost the risk-adjusted return.</p>

<p>That's all for now, and thanks for reading! If you're interested in
the code and want to play around with it, check it out
<a href="https://www.quantopian.com/posts/low-beta-anomaly">here</a>.</p>

    




  </div></div>]]>
            </description>
            <link>https://cryptm.org/posts/2020/06/28/beta.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673435</guid>
            <pubDate>Mon, 29 Jun 2020 01:12:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Yelp: Local Economic Impact Report]]>
            </title>
            <description>
<![CDATA[
Score 41 | Comments 21 (<a href="https://news.ycombinator.com/item?id=23673286">thread link</a>) | @yasp
<br/>
June 28, 2020 | https://www.yelpeconomicaverage.com/yelp-coronavirus-economic-impact-report.html | <a href="https://web.archive.org/web/*/https://www.yelpeconomicaverage.com/yelp-coronavirus-economic-impact-report.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
      
    
    
    <section>
        <p>Local economies around the U.S. have continued to change quickly and dramatically ‚Äì states and cities are slowly reopening, unemployment rates are starting to decline from the recent all-time high, COVID-19 cases are increasing in some states while decreasing in others, and communities are responding to the social unrest and George Floyd protests with city-wide curfews having impacted many businesses that were just able to reopen.</p>
        <p>Yelp last reported on the state of the local economy in <a target="_blank" href="https://www.yelpeconomicaverage.com/yea-q1-2020.html">our quarterly Yelp Economic Average report on April 28</a>, showing how much consumer activity in major swathes of Main Street had dropped off in just a couple of weeks in March. Now as states start to reopen and the nation responds to anti-Black racism and police brutality, a new set of challenges lay ahead for local economies.</p>
    </section>
    
    <section>
      <h2>Some Businesses Slowly Reopen, While Many Permanently Close</h2>
        <p>As of June 15, there were nearly 140,000 total business closures on Yelp since March 1. In April we reported more than 175,000 business closures, indicating that more than 20% of businesses closed in April have reopened. Las Vegas, NV, endured the highest number of closures relative to the number of businesses in the city (1,921 total closures), while Los Angeles, CA, had the largest total number of closures (11,774 total closures).</p>
    </section>
    
    <section>
    	<h3>Some Businesses are Slowly Reopening, Many Remain Closed</h3>
      <h4>Number of businesses marked closed on Yelp that were open March 1</h4>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Closures_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Closures_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Closures_Mobile.png">
    	</p>
    </section>
    
    <section>
        <p>Of all business closures on Yelp since March 1, 41% are permanent closures. Our data shows the largest spikes of permanent closures occurred in March, followed by May and June, indicating that the businesses that were already struggling had to permanently close right away and the businesses that were trying to hold on, but unable to weather the COVID-19 storm, were forced to shutter in recent months.</p>
    </section>
    
    <section>
      <h2>Retail and Restaurant Businesses Continue Innovating Amid High Closure Rates</h2>
        <p>While many business sectors have struggled during COVID-19 there are a few industries that have endured especially high closure rates. Among those with the highest rate of business closures are shopping and retail (27,663 closed businesses), restaurants (23,981 closed businesses), beauty (15,348 closed businesses) and fitness (5,589 closed businesses).</p>
        <p>Retail was by far the hardest hit, experiencing the highest number of total closures, with the average daily rate continuing to increase since March. Of all closures on Yelp since March 1, 20% are for retail businesses and 35% of closed retail businesses are indicated as permanent on Yelp.</p>
        <p>In March, Restaurants had the highest number of business closures, compared to other industries, and have continued to close at high rates. Of the businesses that closed, 17% are restaurants, and 53% of those restaurant closures are indicated as permanent on Yelp. Restaurants run on thin margins and can sometimes take months or even years to break even, resulting in this higher rate of permanent closures.</p>
    </section>
    
    <section>
    	<h3>Restaurants and Retail have been Hit Hardest</h3>
    	<h4>Number of businesses marked temporarily or permanently closed on Yelp that were open on March 1</h4>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Category_Closures_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Category_Closures_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Category_Closures_Mobile.png">
    	</p>
    </section>
    
    <section>
        <p>Though some businesses have shut down permanently, many have found <a target="_blank" href="https://blog.yelp.com/2020/04/businesses-creatively-adapt-coronavirus-response?utm_source=biz_blog&amp;utm_medium=yelp_blog&amp;utm_content=blog_text_link">innovative ways</a> to weather the storm and continue serving consumers. Many restaurants pivoted to offering takeout and delivery, while some experimented with take home meal and drink kits, and even virtual cooking classes. Some are finding new ways to use existing technology, like <a target="_blank" href="https://blog.yelp.com/2020/04/use-waitlist-online-takeout-restaurants?utm_source=biz_blog&amp;utm_medium=yelp_blog&amp;utm_content=blog_text_link">Yelp Waitlist to manage curbside pickup</a>. Servicing food to-go produces high margins for restaurants, and we‚Äôve seen a 10X increase in searches for takeout since March 10.</p>
        <p>With many retail businesses shifting to curbside pickup, we‚Äôve seen consumer interest spike in obtaining their goods in this way with a 20% increase in searches for curbside pickup. In the beauty industry we‚Äôve seen hair stylists offering video hair cutting tutorials, estheticians offering virtual consultations, and small shops shifting their focus to ecommerce. Fitness in particular has seen a significant shift in their business model with gyms and studios offering virtual classes and personal trainers offering one-on-one virtual training sessions. If nothing else, local businesses owners have proven themselves to be resilient and creative during these trying times.</p>
    </section>
    
    <section>
      <h2>The Desire to Support Black-Owned Businesses Continues to Grow</h2>
        <p>As acknowledgement of anti-Black racism and police brutality become more wide-spread across the nation people are continuing to look for ways to support the Black community. Since May 25, we‚Äôve seen a 1785% relative increase in searches for Black-owned businesses, compared to the three weeks prior. Review mentions of ‚ÄúBlack-owned‚Äù (and related terms) also skyrocketed, up 426%, as people look to support and surface these businesses to the community.</p>
        <p>D.C. had the highest number of Black-owned searches, accounting for nearly 1% of all searches on Yelp, followed by Minnesota, Maryland, Michigan and Georgia. In fact, every state has shown an increase in searches for Black-owned businesses. Looking at metros, Ann Arbor, MI has the highest increase in searches for Black-owned, up 105X (accounting for 3% of all searches), followed by Denver (up 27X), Minneapolis (up 23X) and Baltimore (up 19X).</p>
    </section>
    
    <section>
    	<h3>Interest Increased in Supporting Black-Owned Businesses</h3>
    	<h4>Percent of Yelp searches for Black-owned businesses by state</h4>
    
    	<p><img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Searches_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Searches_Desktop.png">
    		<img src="https://www.yelpeconomicaverage.com/assets/img/coronavirus/Searches_Mobile.png">
    	</p>
    </section>
    
    <section>
        <p>While searches for Black-owned businesses have increased across all categories, there has been a particular increase in review content for Black-owned restaurants and food businesses (up 9X), beauty businesses (up 3X), nightlife (up 13X) and shopping (up 3X).</p>
    </section>
    
    <section>
      <h2>The Recovering Economy May Look Different Than the Old Economy</h2>
        <p>While some normal activity is starting to bounce back, due to the many changes impacting local economies ‚Äî state rules, consumer behavior, and social unrest ‚Äî many of the consumer interest shifts we saw in March and April started to rebound in May, with dramatic shifts in June.</p>
        <p>Outdoor activities that became popular at the height of the pandemic as people were finding ways to stay active while social distancing ‚Äì such as mountain biking (down 40%), lakes (down 34%), golf (down 33%) and hiking (down 28%) ‚Äì have dropped in consumer interest since May 1 relative to other active activities. People are starting to feel more comfortable participating in indoor activities, with increased consumer interest for escape games (up 182%), Go Karts (up 147%), axe throwing (up 113%), gyms (up 81%), bowling (up 63%) and yoga (42%). That said, in some instances people are still finding ways to stay outdoors while social distancing with an increased interest in mini golf (up 132%), amusement parks (up 28%) and horseback riding (up 21%).</p>
        <p>The previous spike in community supported agriculture and grocery has started to dip (down 54% and 26%, respectively) as people start heading back into restaurants. In fact, Yelp‚Äôs diners seated data shows significantly more people are dining-in at restaurants. During the peak of the pandemic, the number of diners seated across Yelp Reservations and Waitlist dropped essentially to zero. In early June, we've seen diners seated come back substantially ‚Äì now down 57% compared to pre-pandemic levels. Restaurants that cater to group dining are among those making a comeback ‚Äì fondue (up 123%), tapas bars (up 98%), hot pot (up 49%) and surprisingly, even buffets (up 17%) ‚Äì as foods that gained increased interest through takeout and delivery have started to fall ‚Äì pizza (down 28%), chinese (down 26%), fast food (down 18%). That said, takeout and delivery has continued to sustain interest on Yelp, still up 148% based on consumer interest relative to pre-pandemic levels, indicating this could be a trend that‚Äôs here to stay.</p>
        <p>People are also headed back into malls with outlet stores, shopping centers and thrift stores all up (up 84%, 81%, 72%, respectively), as well as hosting or attending formal events with increased interest in bridal (up 70%) and formal wear (up 102%). The previous increase in cannabis dispensaries, head shops and tobacco shops has declined (down 40%, 35% and 32%, respectively). There have also been significant shifts in consumer interest for health and wellness businesses with an increased interest in saunas (up 75%), reflexology (up 69%) and dentists (up 28%), while skilled nursing (down 46%) and hospitals (down 37%) decline.</p>
    </section>
    
    <section>
      
    </section>
    
    <section>
      <h3>How Business Categories are Faring</h3>
      <h4>Change in share of relative consumer interest on Yelp for select business types</h4>
    	
      <!--<p class='q12020-footer'>Read about the methodology <a href='./yea-q1-2020.html#methodology' class=underline>here</a></p>-->
    </section>
    
    <section>
        <p>As economies reopen, warm summer months arrive and consumers start spending more time out of their homes, we expect these shifts to continue changing at a dramatic rate. We'll continue to measure and report on these changes in local economies in our upcoming Q2 Yelp Economic Average.</p>
        <p>‚ÄîDaniel Gole and Amy Shapiro contributed to this report</p>
    </section>
    
    <section>
        <p><em>If you'd like additional detail on how the economy is shifting, please contact us at <a href="https://www.yelpeconomicaverage.com/cdn-cgi/l/email-protection#3e4e4c5b4d4d7e475b524e105d5153"><span data-cfemail="aadad8cfd9d9ead3cfc6da84c9c5c7">[email&nbsp;protected]</span></a> or <a href="http://eepurl.com/cMFvGL" target="_blank">join our mailing list</a> to receive an email when new reports are released.</em></p>
        <p><em>Interested in learning how Yelp data can assist you in developing market insights for your business? Yelp Knowledge can help, learn more <a href="https://www.yelp.com/knowledge" target="_blank">here</a>.</em></p>
        <p><em>Want to work with Yelp data yourself? We make a sample of our data available for academic use, and we‚Äôve just added a <a href="https://engineeringblog.yelp.com/2020/06/how-businesses-have-reacted-to-covid-19-using-yelp-features.html" target="_blank">new batch of data</a> that reflects how businesses have reacted to the pandemic. Read more ‚Ä¶</em></p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.yelpeconomicaverage.com/yelp-coronavirus-economic-impact-report.html">https://www.yelpeconomicaverage.com/yelp-coronavirus-economic-impact-report.html</a></em></p>]]>
            </description>
            <link>https://www.yelpeconomicaverage.com/yelp-coronavirus-economic-impact-report.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673286</guid>
            <pubDate>Mon, 29 Jun 2020 00:46:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Contrarian view on mutable default arguments in Python]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673068">thread link</a>) | @coady
<br/>
June 28, 2020 | https://coady.github.io/posts/mutable-defaults/ | <a href="https://web.archive.org/web/*/https://coady.github.io/posts/mutable-defaults/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<div>
<div>
<h2 id="Contrarian-view-on-mutable-default-arguments.">Contrarian view on mutable default arguments.<a href="#Contrarian-view-on-mutable-default-arguments.">¬∂</a>
</h2>
<p>The use of <a href="https://docs.python-guide.org/writing/gotchas/#mutable-default-arguments">mutable defaults</a> is probably the most infamous Python gotcha.  Default values are evaluated at definition time, which means mutating them will be persistent across multiple calls.  Many articles on this topic even use the same <code>append</code> example.</p>

</div>
</div>
</div><div>

<div>
<p>And the solution is invariably to use <code>None</code> instead, and convert as needed.</p>
</div>
</div><div>

<div>
<div>
<p>There is another solution to the problem of mutating a default value: don't do that.  More specifically, the problem isn't using mutables as defaults; the problem is actually mutating them.</p>
<p>If the input from the caller is being mutated, then the caller doesn't need it returned because the caller already has a reference.  This distinction is explicitly encouraged in Python, e.g., <code>list.sort</code> vs. <code>sorted</code>.  But it follows that if the input doesn't need to be returned, then there's no point in the input being optional.  How would the caller know the difference?</p>
<p>The reason why examples like the fluent <code>append</code> seem so contrived is because they are. No one actually wants a function named <code>append</code> to take one argument.  The realistic fix would be:</p>

</div>
</div>
</div><div>

<div>
<div>
<p>Sure, there are rare occassions where a parameter is mutable but optional, such as a recursive algorithm that's implicitly passing around its own cache.  But this author would wager that given any real-world code that's been bitten by this gotcha there is:</p>
<ul>
<li>a ~90% chance the function would have a related bug if defaults were evaluated at runtime</li>
<li>a ~95% chance the function has a poor interface</li>
</ul>
<p>What harm does this advice do?  Well, it's caused an over-reaction resulting in using <code>None</code> as the only default, even for immutables.  It's so prevalent that it appears many beginners believe using <code>None</code> is the one and only way of making an argument optional.</p>
<p>Besides immutable types, there are also cases where mutation is irrelevant.  Consider the following example adapted from a popular project.</p>

</div>
</div>
</div><div>

<div>
<p>Notice that the correctness of this code relies on the member list being newly created in either case.  What could possible go wrong with:</p>
</div>
</div><div>

<div>
<p>Or better yet, why not support the more liberal interface.</p>
</div>
</div><div>

<div>
<div>
<p>The point is that there are at least 4 solutions to this problem:</p>
<ol>
<li>use mutable defaults, but don't mutate them</li>
<li>use immutable substitute defaults with a compatible interface</li>
<li>use <code>None</code> for mutables, and matching types for immutables</li>
<li>use <code>None</code> for all defaults</li>
</ol>
<p>Only #1 is even remotely controversial, yet somehow the status quo has landed on #4.  Besides being needlessly verbose, it has another pitfall.  Python doesn't natively support detecting where the argument was actually passed; a sentinel default is required for that.  The implementation detail is leaking through the interface, indicating to the caller that <code>None</code> is an acceptable argument to pass <em>explicitly</em>.  As if the type hint was <code>Optional[List]</code>, even though that's not the intention.  Factor in using <code>**kwargs</code> - which clearly doesn't want data padded with nulls - and actual code breakage can result.</p>
<p>Presumably the disdain for option #1 is because it might <em>encourage</em> the gotcha.  But it's disingenous to just let that go unsaid.  The implementer is responsible for writing correct code, and the caller sees the right interface.  The speculation is that beginners will read code which uses mutable defaults but doesn't mutate them, and follow the former pattern but not the latter.</p>
<p>As a community, let's at least push towards option #3.  Using empty strings and zeros as defaults is all upside.</p>

</div>
</div>
</div></div>]]>
            </description>
            <link>https://coady.github.io/posts/mutable-defaults/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673068</guid>
            <pubDate>Mon, 29 Jun 2020 00:03:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Financial Statements: A Beginner's Guide]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23673053">thread link</a>) | @Lukas1994
<br/>
June 28, 2020 | https://www.causal.app/blog/whats-a-financial-statement | <a href="https://web.archive.org/web/*/https://www.causal.app/blog/whats-a-financial-statement">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The finance world is quickly entering the mainstream ‚Äî</p><p>Every month a notable company goes public. Every week a hot startup raises millions of dollars. And every day moms, pops, and teens check on their stocks. </p><p>Whether a company builds rocket engines or mobile apps, they tell their story using the same language ‚Äî&nbsp;financial statements. Here's how they work.</p><p>Let's say you run a subscription t-shirt business.</p><p>It's going well ‚Äî you have happy customers and healthy profit. You're thinking of buying your own factory to make more t-shirts, more quickly, and more cheaply.</p><p>There's just one problem ‚Äî you can't afford a factory.</p><p>So, you ask the bank for a loan. Your company is profitable and the factory will pay for itself in 3 years, so you know you'll be able to pay it back. But while you know this, the bank doesn't ‚Äî you'll need to convince them. The bank, however, doesn't know anything about the subscription clothing business.</p><p>To get on the same page, you need a shared language for talking about your business.</p><p><h4 id="heading-1">Double-entry Bookkeeping: The birth of accounting</h4></p><p>Double-entry bookkeeping was the first formalism in finance. The Middle East had it in the <a href="https://www.jstor.org/stable/40697986" target="_blank">first century AD</a>, Korea independently got it in the <a href="https://www.worldcat.org/issn/1598-2661" target="_blank">11th century</a>, and by the <a href="https://web.archive.org/web/20170627232023/http://130.74.92.202:82/record=b1000778" target="_blank">1500s</a>, it had been well-documented across Europe.</p><p>It's a simple concept designed to reduce errors when documenting transactions: every entry to an "account" requires an equal and opposite entry to another "account".</p><p>If you bought some cotton to turn into t-shirts, you might record the transaction like this:</p><p>‚Äç</p><figure id="w-node-371c827e421c-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5eefde0379b53032713cde77_bookkeeping.png" alt=""></p></figure><p>‚Äç</p><p>When you spend $100 on cotton, your "Cash" account gets debited (loses) $100, and your "Materials" account gets credited (gains) $100. The underlying principle is that <em>you can't create something out of nothing</em>.</p><p>This might seem contrived, but with more and more transactions, it can help you spot errors. Since every entry has an equal and opposite entry, the sum of all the debits should always equal the sum of all the credits. If not, you know you made a mistake, and you can look back through your transactions to find it.</p><p>A list of transactions is pretty interesting ‚Äî it tells a very detailed story about what your company's been up to. Certainly enough to answer the bank's questions when you ask for loan.</p><p>But just as the bank doesn't have time to learn about subscription t-shirts businesses, they don't have time to go through thousands of transactions. To understand what's going on, they need a shorter summary.</p><p><h4 id="heading-2">Financial Statement #1: The Balance Sheet</h4></p><p>If you went through all your transactions and worked out the net value of each account, you'd be able to see things like</p><ul role="list"><li>How much cash you have in the bank</li><li>The total value of the cotton in your inventory</li><li>How much money you owe to your cotton suppliers</li></ul><p>This will give you a snapshot of the current state of your company, split up into "everything you own" (<strong>Assets</strong>) and "everything you owe" (<strong>Liabilities</strong>) ‚Äî a <strong>Balance Sheet</strong>. These generally won't be equal ‚Äî ideally your assets will be worth more than your liabilities.</p><p>The difference between the assets and the liabilities is what you, the owner of the company, can rightfully stake a claim to. Crudely, if you sold all your assets today and used that money to pay off all your debts, you'd be left with a pile of cash all to yourself.</p><p>This idea is usually expressed by the "accounting equation":</p><p><strong>Assets - Liabilities = Shareholders Equity</strong></p><p>This is where the "balance" comes in: both sides of the equation are equal. Note that this equation is actually a definition ‚Äî it asserts that the value of the <strong>Shareholders Equity</strong> is the difference between <strong>Assets</strong> and <strong>Liabilities</strong>. This is the same equation that underpins double-entry bookkeeping.</p><p>Here's what your balance sheet might look like:</p><p>‚Äç</p><figure id="w-node-89b5b437bd58-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5eefde1a11602b68a068a079_balance-sheet.png" alt=""></p></figure><p>‚Äç</p><p>The bank will be interested in seeing this before giving you a loan. It's a quick 'n' dirty way for them to understand the big picture:</p><ul role="list"><li>The orders of magnitude involved ‚Äî does this company operate in the thousands, millions, or billions?</li><li>An estimate for how much the company is "worth", based on the shareholders equity</li><li>An indication of company health ‚Äî is the company drowning in debt?</li></ul><p>Financiers often calculate metrics based on the balance sheet, to further summarise the information and to compare numbers across companies.</p><p>The <strong>Debt/Equity Ratio</strong> is a big one, telling you how much a company relies on borrowing money. If it's too high then the company might be too dependent on loans, but if it's too low, this might indicate an inefficiency, since borrowing money to spend on growth can be quicker than earning it the hard way.</p><p>So ‚Äî the balance sheet summarises a lot about your company, in a way that the bank can understand.</p><p>Unfortunately, it doesn't answer a crucial question ‚Äî "Do you make money?"</p><p><h4 id="heading-3">Financial Statement #2: The Income Statement (P&amp;L)</h4></p><p>The balance sheet is a snapshot of a single point in time. To understand whether a company makes money, you need see how things change over a period of time (e.g. every month).</p><p>The first thing you need to know is how much money you receive ‚Äî your <strong>Revenue</strong>. You don't keep all of it ‚Äî there are costs and expenses along the way ‚Äî so you need to subtract these. The final number you end up with is your <strong>Profit</strong> ‚Äî the money you've made at the end of the day.</p><p>Here's how you might do the calculation:</p><p>‚Äç</p><figure id="w-node-a4e76259fbb4-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5eefe0c6c8f0be2b6743533b_p%26l.png" alt=""></p></figure><p>‚Äç</p><p>You start at Revenue (the top line), subtract your costs, and end up at Profit (the "bottom line" ‚Äî get it?). This is a simple <strong>Profit &amp; Loss (P&amp;L)</strong>, or <strong>Income Statement</strong>. Most companies make one every month, to keep an eye on things. </p><p>‚Äç</p><figure id="w-node-fec0fade16bf-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5eefe17879b5309ce33ce18b_35274025-14536291245349646_origin.png" alt=""></p></figure><p>‚Äç</p><p>With a P&amp;L, you and the bank can understand what's going in and out of your business. If your P&amp;L consistently shows a profit, then the bank will be happy, and so will you.</p><p>In theory, this is very simple. But in practice, each P&amp;L item has hidden nuances to address.</p><p>Let's take just the top line ‚Äî what does <strong>Revenue</strong> actually mean?</p><p><strong>What is revenue?</strong></p><p>When you started selling shirts, it was a simpler time ‚Äî you bought them in bulk from China and sold them at the local market.</p><p>Revenue, too, was simple ‚Äî it was the cold hard cash in your hand.</p><p>But things changed. You started taking bulk orders from shops, who pay you 1 month after you deliver the shirts. And when you went online, your customers started paying you for 12 month subscriptions, all in one go.</p><p>It turns out that if you keep thinking of revenue as "cash in your hand", then things get a little weird ‚Äî</p><ul role="list"><li>When you get a bulk order, your expenses shoot up. But since you don't get paid until next month, your profit goes way down this month.</li><li>When someone buys a 12-month subscription, your revenue spikes up. But for the next 11 months you have to keep delivering on the order (non-zero cost) without further payments (zero revenue) ‚Äî your bottom line takes a hit.</li></ul><p>Bulk orders and upfront payments are great for your business, but if revenue means "cash in hand", then your P&amp;L might tell the opposite story.</p><p>A better way to think about revenue is as "the value of products delivered or service provided".</p><p>In each month of a subscription, you do 1 month of work. So even with 12 months' payment upfront, you only recognise 1/12th of that payment as revenue each month. The remaining 11/12th becomes <strong>Deferred Revenue.</strong> This is actually a liability on your balance sheet ‚Äî your customers have essentially given you a loan which you must pay back each month, in the form of t-shirts.</p><p>The same principle applies for bulk orders ‚Äî you recognise the revenue when you deliver the product, <em>not</em> when you get paid.</p><p>This is called <strong>Accrual Accounting</strong>, and it more accurately answers the question "Do you make money?".</p><p>So ‚Äî you've got a balance sheet, showing your current financial state, and you've got a P&amp;L, showing how things change over time. The bank, however, remains unsatisfied.</p><p>Sadly, consistent profits, measured with accrual accounting, can still leave you penniless on payday.</p><p><h4 id="heading-4">Financial Statement #3: The Cashflow Statement</h4></p><p>In 1863, the Dowlais Iron Company had a dilemma.</p><p>On paper, things were great ‚Äî they'd recovered from a downturn and were posting healthy profits. To smelt more iron, they set out to buy a new blast furnace. But despite their promising P&amp;L, it turned out that they had no cash to buy it.</p><p>What gives?</p><p>Their problem was in spending cash too quickly ‚Äî as soon as they got some, they'd use it on inventory (iron ore, etc). The profits were rolling in, but the cash wasn't sticking around.</p><p>The company needed a way to understand how cash was coming in and out ‚Äî the cashflow. Their solution was the origin of the modern <strong>Cashflow Statement</strong>.</p><p>Like the P&amp;L, the cashflow statement shows how things change over each month, but crucially, it only focuses on cash ‚Äî how much you started with, what you spent it on, where you got more of it, and how much you ended up with. In short, the cashflow statement explains the difference between one balance sheet and the next.</p><figure id="w-node-508193268673-51d2da99"><p><img src="https://uploads-ssl.webflow.com/5e8a043bfbc2c035b4d8e5b5/5eefe644e9cf27ec56e99c29_Untitled-3.png" alt=""></p></figure><p>The bank should now have enough information to decide whether to give you a loan:</p><ul role="list"><li>Balance Sheet ‚Äî shows everything that you own, and everything that you owe</li><li>P&amp;L/Income Statement ‚Äî shows how your business operates</li><li>Cashflow Statement ‚Äî shows how you spend and earn cash</li></ul><p>These financial statements are a shared language, letting businesses communicate across industries and borders. They also "flatten" a business' evolving operations ‚Äî new business models, delivery methods, and products ‚Äî to give a coherent view of a company through time.</p><p>Investors use financials to judge performance, lenders use them to assess credit-worthiness, and governments use them to make sure that taxes are correctly paid.</p><p>But the whole system only works if every company follows the same rules when compiling their financials. These rules require years of study to fully understand (this is why accountants exist) and include:</p><ul role="list"><li>How to recognise revenue ‚Äî&nbsp;accrual accounting</li><li>How to "amortise" costs ‚Äî spreading upfront expenses over time</li><li>How to "capitalise"&nbsp;costs ‚Äî&nbsp;turning big purchases into assets on the balance sheet</li></ul><p>Who made these rules?</p><p><h4 id="heading-5">Accounting Standards: Mind the GAAP</h4></p><p>The Industrial Revolution ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.causal.app/blog/whats-a-financial-statement">https://www.causal.app/blog/whats-a-financial-statement</a></em></p>]]>
            </description>
            <link>https://www.causal.app/blog/whats-a-financial-statement</link>
            <guid isPermaLink="false">hacker-news-small-sites-23673053</guid>
            <pubDate>Mon, 29 Jun 2020 00:00:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Finishing a side project]]>
            </title>
            <description>
<![CDATA[
Score 298 | Comments 118 (<a href="https://news.ycombinator.com/item?id=23672686">thread link</a>) | @hugozap
<br/>
June 28, 2020 | https://hugozap.com/posts/how-to-finish-your-side-project/ | <a href="https://web.archive.org/web/*/https://hugozap.com/posts/how-to-finish-your-side-project/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      

<p><img src="https://hugozap.com/img/hands.jpg" alt="Illustration by Ang√©lica Delvalle IG: ylikdelvalle"></p>
<p>It's no secret that finishing a side project is hard.</p>
<p>I've struggled with some side projects and had success with others. In this post, I'll focus on the actions and adjustments that have worked for me.</p>
<p>It's possible to work on and finish side projects even with a busy schedule, the key is to optimize for interruptability. You will be interrupted so instead of counting on having hours of deep work available, it's better to be realistic and make some adjustments to use available time in a better way and reducing the cost of interruptions by having tricks to switch context fast.</p>
<h2 id="a-failed-side-project-story">A failed side project story <a href="#a-failed-side-project-story">#</a></h2>
<p>Maybe you are familiar with a similar situation</p>
<p>At the beginning:</p>
<ul>
<li>High motivation.</li>
<li>Priority over other tasks.</li>
<li>Working long hours because it's fun.</li>
<li>Desire to work with a new technology</li>
<li>No problem working on weekends.</li>
</ul>
<p>After some time:</p>
<ul>
<li>Motivation decreases.</li>
<li>Feels overwheelming.</li>
<li>Harder to justify working on the project when there are other responsibilities.</li>
<li>Other stuff seems more interesting now.</li>
<li>Forgot how to set things up to continue working on the project.</li>
<li>Not sure what I was working on.</li>
<li>Forgetting about the project and archiving it.</li>
</ul>
<h2 id="the-challenges-with-side-projects">The challenges with side projects <a href="#the-challenges-with-side-projects">#</a></h2>
<ul>
<li>Context switching and high cognitive load is exhausting.</li>
<li><strong>Losing interest/ motivation</strong>.</li>
<li>Perfectionism - never ending projects.</li>
<li>Impostor syndrome.</li>
<li>Lack of focus.</li>
<li>Lack of time.</li>
<li>Unexpected life events.</li>
</ul>
<h2 id="re-framing-the-goal">Re framing the goal <a href="#re-framing-the-goal">#</a></h2>
<p>I believe you can set yourself for failure from the start if the goal is not clear.</p>
<p>I've been excited about ideas but later found that I was not really invested in the idea and just wanted to explore a cool feature/tool. It's good to go deeper to your true motivation.</p>
<p>Feeling overwhelmed can also contribute to abandoning the project, I'll talk about <strong>small steps</strong> and why it's key.</p>
<p>If your track record includes lots of ambitious projects and none of them finished, then starting with something smaller seems like the logical approach.</p>
<p>Pick a small battle, maybe just the key feature first, maybe support for just one platform. Cut off features for the first version, remember that there's a lot of forces against you completing your project so reducing load is important.</p>
<h2 id="the-approach">The approach <a href="#the-approach">#</a></h2>
<p>Now that you have a clear idea of what you want to finish, there's some actions and adjustments to your process that will increase the chance of winning the battle (shipping).</p>
<ul>
<li>Preparing your environment (painless context switch)</li>
<li>Work in <strong>Small steps</strong></li>
<li>Mental warm-up before each session.</li>
<li>Anticipate and expect interruptions.</li>
<li>Changing your physical location.</li>
<li>Writting down the ideas on your mind at the end of the session.</li>
</ul>
<h2 id="small-steps-are-key">Small steps are key <a href="#small-steps-are-key">#</a></h2>
<p>I like the idea of not having too many open boxes at the same time, where each box is a task/feature or something that you  started but haven't finished yet.</p>
<p>It's demoralizing to wait weeks or months for a win. Small steps give you small wins, it keeps the journey fun. There's less change of feeling stuck.</p>
<p><a href="https://www.geepawhill.org/2020/06/26/more-on-small-steps/">Geepaw Hill</a> shares excellent resources on the topic of small steps in software.</p>
<h2 id="warming-up-before-each-session-to-reduce-cognitive-exhaustion">Warming up before each session to reduce cognitive exhaustion <a href="#warming-up-before-each-session-to-reduce-cognitive-exhaustion">#</a></h2>
<p>Before starting actual work, write about what would be good to achieve in the session. I find this ritual valuable as it helps me figure out the next small step. Writing the project goal (high level) every session is also a good way to switch context and reminding yourself what's it all about.</p>
<p>I'll talk about having a "context" log, where you write the current progress, and what to do next. If you have this file, reading the previous session log let's you resume your work faster.</p>
<h2 id="immediate-context-switching">Immediate context switching <a href="#immediate-context-switching">#</a></h2>
<p>With the limited amount of mental energy, is crucial to reduce the number of setup tasks required to do a working session on your project. The goal here is reducing the number of small decisions you have to make to have a working environment.</p>
<p>This is one of the most important things for me, and the way I approach it is:</p>
<ul>
<li>Creating a separated system User on my laptop.</li>
<li>Having an email address only for my project.</li>
<li>Having a "context" file where I log what's currently happening with my project, usually at the end of a work session.</li>
</ul>
<p>These have been valuable tools for me, let me explain why:</p>
<h3 id="a-separate-system-user-for-your-side-project">A separate system user for your side project <a href="#a-separate-system-user-for-your-side-project">#</a></h3>
<p>By creating a separate user, you automatically have all the operative system tools (calendar/notes/reminders , etc.) available ONLY for your project.</p>
<p>All the files on your desktop will have a relation to your project. This may not seem impressive but think about all the small distractions you find if you use the same user for your personal/work tasks:</p>
<ul>
<li>Time to find a file (filtering unrelated stuff will bring memories of other things)</li>
<li>Reminders/calendar notifications not related to your project</li>
<li>Dealing with other project setups can be stressful.</li>
</ul>
<p>I think it was Seth Godin who recommended having a separate laptop for a side project like writing a book. This is an alternative too.</p>
<p>You can add more extreme measures like redirecting distracting sites like news or reddit. If you need to login to one of those sites, it's better to switch user accounts. Try to keep your project user clean.</p>
<h3 id="having-an-separate-email-for-your-project">Having an separate email for your project <a href="#having-an-separate-email-for-your-project">#</a></h3>
<p><a href="https://hugozap.com/posts/ultimate-info-capturing-tool/">I'm a fan of email</a> as a note taking tool, it's available everywhere, the UI is simple. Having a separate email account lets you capture related notes/ideas/links from any device. This has been useful for me when I'm doing something else and have an idea, or find a resource that can be used to do something I want to incorporate into the project.</p>
<p>Later, when I log in to my project environment I'll get the emails with relevant information, no chance of getting distracted with other stuff.</p>
<h3 id="the-context-file%2C-(brain-dump).">The context file, (brain dump). <a href="#the-context-file%2C-(brain-dump).">#</a></h3>
<p>A context file is just a text file where you add a short summary of the current project status and what's on your mind at the time.</p>
<p>This has been valuable to me, because the act of writing it down helps me have a clear idea of things I could do next and next time I have time to work on my project I'll have a starting point and it reduces the cognitive load which maximizes the session efficiency.</p>
<h2 id="location">Location <a href="#location">#</a></h2>
<p>Going to a library or caf√© (when possible) or event to another room and have a dedicated space for your current side project will make a difference.</p>
<p>Not sure about why, but using the same desk for different work and side projects is not ideal for me. If you can I recommend having a different place that helps you switch context quickly.</p>
<h2 id="abandoned-projects-may-not-be-a-failure-after-all.">Abandoned projects may not be a failure after all. <a href="#abandoned-projects-may-not-be-a-failure-after-all.">#</a></h2>
<p>Some abandoned projects end up being an inspiration to create something else years later. Maybe you learned something new, explored an idea, or found a problem not possible to solve with the knowledge and resources you had at the time.</p>
<p>It's good to have an open mind and be ok with finding dead-ends, they are powerful teachers.</p>
<p>However, shipping projects <strong>is awesome</strong> and by reducing scope and anticipating interruptions you will be able to complete your project and release it to the world.</p>
<h2 id="resources">Resources <a href="#resources">#</a></h2>
<p>For more information about the benefits of a "small step" approach to software development check the excellent resources from <a href="https://www.geepawhill.org/2020/06/26/more-on-small-steps/">Geepaw Hill</a></p>
<h2 id="credits">Credits <a href="#credits">#</a></h2>
<p>Illustration by <a href="https://www.instagram.com/ylikdelvalle/">Angelica Delvalle</a> (In case you need art for your company products contact her, she does awesome stuff!)</p>


<p><a href="https://hugozap.com/">‚Üê Home</a></p>

    </div></div>]]>
            </description>
            <link>https://hugozap.com/posts/how-to-finish-your-side-project/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23672686</guid>
            <pubDate>Sun, 28 Jun 2020 22:48:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lessons learned from my first three years of freelancing]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23672532">thread link</a>) | @JayClouse
<br/>
June 28, 2020 | https://jayclouse.com/reflecting-on-three-years-of-running-a-freelance-business/ | <a href="https://web.archive.org/web/*/https://jayclouse.com/reflecting-on-three-years-of-running-a-freelance-business/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wtr-content" data-bg="#FFFFFF" data-fg="#00aeff" data-width="10" data-mute="" data-fgopacity="1.00" data-mutedopacity="0.80" data-placement="bottom" data-placement-offset="0" data-content-offset="0" data-placement-touch="bottom" data-placement-offset-touch="0" data-transparent="" data-touch="1" data-non-touch="1" data-comments="0" data-commentsbg="#ffcece" data-location="page" data-mutedfg="#00aeff" data-rtl=""><p>It‚Äôs safe to say that we‚Äôll all remember 2020.</p><p>There are a lot of reasons that we‚Äôll look back on 2020 and cringe. As of this writing, we‚Äôre still in the middle of a global pandemic that the United States seems to have just given up on.</p><p>We‚Äôre in seeing a renewed fight for social justice, with more of us fighting against centuries of racial inequality than ever before.</p><p>The first two quarters of 2020 have taken an emotional toll on me just like they probably have on you. Everyone is hurting ‚Äì individuals and business owners included.</p><p>But for the last two years, I‚Äôve written an annual reflection on my own business.</p><p>To be honest, the anniversary snuck up on me this year!</p><p>But I wanted to go a little deeper on this year‚Äôs reflection. I wanted to bring you some <strong>real numbers</strong>, some <strong>behind-the-scenes</strong>, and the <strong>lessons learned</strong>.</p><p>And it‚Äôs important to note ‚Äì <strong>I do not equate earnings with success</strong>. I certainly don‚Äôt equate them with happiness. If you look at earnings alone, my 2019 would look like a&nbsp;<em>huge&nbsp;</em>step backwards. But in reality, I believe 2019 to be far more impactful than 2018.</p><p>I‚Äôm optimizing for flexibility, fulfillment, and long-term vision. So as you‚Äôll see in my 2019 breakdown, I accepted a short-term earnings compromise to get there.</p><p>If you want the tl;dr version, here‚Äôs a visual overview of my P&amp;L every year from 2017. It includes the my actual figures for January through June of 2020, as well as a projection for the full year based upon those numbers.</p><p><picture><source data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2.webp 822w,https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-300x169.webp 300w,https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-768x432.webp 768w,https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-100x56.webp 100w" sizes="(max-width: 822px) 100vw, 822px" type="image/webp"><source data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2.png 822w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-300x169.png 300w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-768x432.png 768w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-100x56.png 100w" sizes="(max-width: 822px) 100vw, 822px"><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20822%20462'%3E%3C/svg%3E" height="462" width="822" data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2.png 822w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-300x169.png 300w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-768x432.png 768w, https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2-100x56.png 100w" data-lazy-sizes="(max-width: 822px) 100vw, 822px" data-lazy-src="https://jayclouse.com/wp-content/uploads/2020/06/PL2020-2.png"></picture></p><p>If you‚Äôre ready to dig into what happened each of those years and why those trends look the way they do, let‚Äôs get started.</p><h2><strong>Year One: 2017</strong></h2><p>I spent the first four months of 2017 gainfully employed! Those earnings are <em>not</em> reflected in the numbers above or below, but it does mean that I had four fewer months to work with.</p><p>I quit my job in late April 2017. It came about a month sooner than I anticipated, but the timing seemed right for both me and the company I was leaving.</p><p>You can read more detail about that decision <a href="https://jayclouse.com/chapter-three/" target="_blank" rel="noopener noreferrer">here</a>, but it was a pretty half-baked move, truth be told.</p><p>I didn‚Äôt really have much of a plan, and I don‚Äôt recommend jumping into the deep end like I did!</p><p>The biggest victory was getting my first 15-member paid cohort of the Unreal Collective Accelerator off the ground.</p><p>Here‚Äôs my cringe-worthy first promotional video for Unreal Collective:</p><p>Pulling that first cohort together wasn‚Äôt<em>&nbsp;</em>easy. I ran a beta group of five members for a couple of months prior, and I was able to turn their stories into testimonials.</p><p>But I was still coming in with very little credibility.</p><p>The model behind the Unreal Collective Accelerator is pretty straightforward, and it‚Äôs similar to a typical mastermind program.</p><p>You take a small number of great people with ambitious goals, you force them into meeting once per week, and magic happens. <strong>Progress</strong> is made, <strong>goals</strong> are met, <strong>transformation</strong> is experienced.</p><p>Getting the right number of people, who mesh together well, ready to start the program at the same time is where you find the challenge.</p><p>But I‚Äôve always been good at logistics and timelines, so I‚Äôm able to make it work ‚Äì even if it was through brute force of a <em>lot </em>of conversations.</p><p>I wasn‚Äôt even calling it an accelerator at the time! I wasn‚Äôt sure what it was going to be ‚Äì I <a href="https://jayclouse.com/on-unreal-collective/" target="_blank" rel="noopener noreferrer">thought</a> it might be a live events company.</p><p>After that first program ended, it was October. And I realized I wasn‚Äôt going to be able to pull another group together before the end of the year due to Thanksgiving, Christmas, and the new year.</p><p>So my financial engine was put on pause until 2018.</p><p>And I was broke.</p><p>To scrape by, I picked up a couple of freelance gigs building simple WordPress websites, writing email sequences, and helping a friend launch his podcast.</p><p>Then in late December, I got a surprise email: an opportunity to become a LinkedIn Learning instructor. I walked through the application process and was accepted shortly thereafter.</p><h3><strong>Lessons Learned</strong></h3><ul><li>üëç&nbsp; Creating a budget was absolutely critical</li><li>üëç&nbsp; Investing in mentorship and my own education was well worth it</li><li>üëç&nbsp; When I‚Äôm in a bind, I look for work from the people close to me</li><li>üëé&nbsp; I need to learn how to predict my cash flow</li><li>üëé&nbsp; Things take longer to get started than I expect</li><li>üëé&nbsp; When I underprice myself, it‚Äôs problematic through the project and for months afterward</li></ul><h3><strong>By the Numbers</strong></h3><ul><li><strong>Gross income</strong>: $29,468</li><li><strong>Expenses</strong>: $18,289</li><li><strong>Net income</strong>: $11,179</li></ul><h2><strong>Year Two: 2018</strong></h2><p>The start of the new year couldn‚Äôt come soon enough. When the year began, I was still working on a freelance marketing contract that saved my butt at the end of 2017.</p><p>But I wanted to start a new cohort of the Unreal Collective Accelerator.</p><p>And actually, 2018 was the first time I started calling it an Accelerator. I put a lot of thought into Unreal Collective as a business, because I wanted it to be a brand that meant more than just the 12-week program.</p><p>In February, I pulled my thoughts together and decided Unreal would split into three core product offerings:</p><ol><li>The 12-week program (Unreal Collective Accelerator)</li><li>A community membership (Unreal Collective)</li><li>Digital products and courses (called Guides at the time)</li></ol><p>I broke it all down in this 24-minute monologue called ‚ÄúUnreal Collective 2.0‚Äù that I shared with the community (then about 35 people):</p><p>To start the year, I brought together another cohort of 15 people. At the same time, I began writing my first LinkedIn Learning course and even accepted a part-time Entrepreneur In Residence position with Columbus‚Äôs Smart City team.</p><p>So things got off to a strong start.</p><p>But I burned myself out. Outside of my business, I was:</p><ul><li>Serving as Entrepreneur in Residence for Smart Columbus</li><li>Helping organize a track of events for Columbus Startup Week</li><li>Organizing a hackathon for Smart Columbus</li><li>Serving as Vice Chair of a nonprofit organization</li><li>Organizing a 6-month outdoor music series</li></ul><p>‚Ä¶and most of that was a volunteer effort.</p><p>The Smart Columbus role was fantastic ‚Äì I was able to make an impact for the team and we put on an incredible event.</p><p>And somehow I also wrote 4 courses for LinkedIn Learning, ran two cohorts of the Unreal Collective Accelerator, and launched our podcast, <a href="https://upside.fm/" target="_blank" rel="noopener noreferrer">upside</a>.</p><p><a href="https://jayclouse.com/two-years-into-the-journey/" target="_blank" rel="noopener noreferrer">You can read my full 2018 reflection here</a></p><p>It was a strong year of earnings, but I really wanted to focus and devote more time to my core business. So I stepped away from the Smart Columbus role, the Vice Chair role, and the music series.</p><h3><strong>Lessons Learned</strong></h3><ul><li>üëç&nbsp; Creating LinkedIn courses were great for cash flow and creating my own content</li><li>üëç&nbsp; Coaching others was a viable service that people benefitted from</li><li>üëç&nbsp; Freelance work can pay pretty well</li><li>üëç&nbsp; I can pick up freelance work pretty easily</li><li>üëé&nbsp; Freelancing can also be a diversion from my core business goals</li><li>üëé&nbsp; Volunteering a lot of my time was hurting my business</li><li>üëé&nbsp; Earning more doesn‚Äôt matter if my costs increase</li><li>üëé&nbsp; Earning close to my previous salary doesn‚Äôt matter if I‚Äôm saving far less</li></ul><h3><strong>By the Numbers</strong></h3><ul><li><strong>Gross income</strong>: $72,713 (<strong><span>147% increase</span></strong>)</li><li><strong>Expenses</strong>: $45,834 (<strong><span>151% increase</span></strong>)</li><li><strong>Net income</strong>: $26,879 (<strong><span>140% increase</span></strong>)</li></ul><h2><strong>Year Three: 2019</strong></h2><p>In 2019, I resolved to do <em>less </em>so that I could do <em>more</em>. I <a href="https://jayclouse.com/doing-fewer-doing-more/" target="_blank" rel="noopener noreferrer">wrote</a> in January 2019:</p><blockquote><p>This year is all about doing fewer so that I can do more. Fewer projects, fewer opportunities that are outside of my core intention, in order to do more with the things I am focusing on.</p><p><strong>It‚Äôs not unlikely that I actually earn less this year</strong> than I did last year. A large part of my income in 2018 was from contracting and ad hoc projects, and those take time away from building my core business.</p></blockquote><p>Turns out, I was right. My income dropped 25% percent in 2019.</p><p>I decided to take on less freelance work ‚Äì including courses from LinkedIn.</p><p>Instead, I focused on more Unreal Collective Accelerator cohorts and developing my own proprietary content.</p><p>That content took a few forms:</p><ul><li>Freelancing School courses</li><li>More episodes of upside</li><li>Planning for the launch of a new podcast (Creative Elements)</li><li>My weekly newsletter, Work In Progress</li></ul><p>I spent most of the first six months of 2019 producing the <a href="https://freelancing.school/" target="_blank" rel="noopener noreferrer">three courses within Freelancing School.</a> It was a <em>massive </em>effort and the courses get really great reviews from students.</p><p><iframe loading="lazy" src="about:blank" frameborder="0" allowfullscreen="allowfullscreen" data-rocket-lazyload="fitvidscompatible" data-lazy-src="https://player.vimeo.com/video/419356632?color=109aa1&amp;byline=0&amp;portrait=0"></iframe></p><p>And all the while, I facilitated three sessions of the Unreal Collective Accelerator ‚Äì welcoming 50 new members across three cohorts.</p><p>‚Ä¶and that was exhausting. The program itself is 12 weeks long with about 4 weeks of marketing and onboarding required up front.</p><p>Some quick math will show you that 16 weeks across 3 sessions equals 48 weeks out of the year‚Ä¶and I wanted to finish before Thanksgiving!</p><p>I ended up staggering the second and third cohorts a bit, with two sessions overlapping for two weeks. And it was intense.</p><p>But, at the same time, my courses were published and beginning to sell.</p><p>Our podcast, upside, even earned more than $20,000 in gross income through sponsorships and partnerships (not reflected in the numbers below).</p><p>Over the summer, that podcast business produced a full-length documentary about the startup ecosystem in Columbus, Ohio, called <em>Test City, USA.</em></p><p>The film is 94 minutes long, features prominent voices in Columbus‚Äôs tech scene, and was shot <em>beautifully</em>.</p><p><picture><source data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed.webp 1000w,https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-300x169.webp 300w,https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-768x432.webp 768w,https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-100x56.webp 100w" sizes="(max-width: 1000px) 100vw, 1000px" type="image/webp"><source data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed.jpg 1000w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-300x169.jpg 300w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-768x432.jpg 768w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-100x56.jpg 100w" sizes="(max-width: 1000px) 100vw, 1000px"><img src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201000%20563'%3E%3C/svg%3E" alt="Mallory and I at the Test City, USA Premiere" height="563" width="1000" data-lazy-srcset="https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed.jpg 1000w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-300x169.jpg 300w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-768x432.jpg 768w, https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed-100x56.jpg 100w" data-lazy-sizes="(max-width: 1000px) 100vw, 1000px" data-lazy-src="https://jayclouse.com/wp-content/uploads/2019/09/3R5A0389_compressed.jpg"></picture></p><p>We spent the entire summer filming and editing, and due to some lucky timing, we premiered the film at the Film Festival of Columbus in September where it won Best Ohio Feature. It was also accepted into the Columbus International Film Festival in April 2020.</p><p>I don‚Äôt know if I‚Äôll ever produce another film in my life, but I‚Äôm so glad that <em>Test City, USA </em>exists. <a href="https://upside.fm/test-city-usa/" target="_blank" rel="noopener noreferrer">You can watch it here</a>.</p><p>To finish out the year, I created another course for LinkedIn Learning and signed an agreement with the Podglomerate, the network that I‚Äôve partnered with for Creative Elements.</p><p>So while my overall income took a hit, I <em>really </em>put a lot of pieces in place to begin to build a larger, more scalable business through content and digital products.</p><p>And by cutting expenses, my net income was still up 24% from the year before! After a 2018 where I saved very little, I was able to dedicate money consistently to savings and retirement in 2019 as well.</p><h3><strong>Lessons Learned</strong></h3><ul><li>üëç&nbsp; There is power in focus</li><li>üëç&nbsp; It‚Äôs worth living cheaply while I still can to ‚Ä¶</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jayclouse.com/reflecting-on-three-years-of-running-a-freelance-business/">https://jayclouse.com/reflecting-on-three-years-of-running-a-freelance-business/</a></em></p>]]>
            </description>
            <link>https://jayclouse.com/reflecting-on-three-years-of-running-a-freelance-business/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23672532</guid>
            <pubDate>Sun, 28 Jun 2020 22:18:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Life is 90% of my use cases for org-mode]]>
            </title>
            <description>
<![CDATA[
Score 243 | Comments 155 (<a href="https://news.ycombinator.com/item?id=23672473">thread link</a>) | @billwear
<br/>
June 28, 2020 | http://stormrider.io/ninety-pct.html | <a href="https://web.archive.org/web/*/http://stormrider.io/ninety-pct.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <h2>
      life is 90% of my use cases for org-mode
      <br>
      <small>
	<em>so what's the other 10%?</em><br>
      </small>
    </h2>
    <hr>
    <a href="http://stormrider.io/index.html">blog index</a><br>
    <hr>
    <p>
      To really explain why I use org-mode for <bold>everything</bold>, I probably first have to explain my rules, which also requires a backstory.  I'll keep it short, no problem.
    </p>
    <p>
      I jacked into Unix the first time at Calhoun Community College, in Decatur, Alabama, during the summer of 1974.  I was 15, and my dad was a part-time programming instructor.  Having been an avid reader since the age of 6 (I read the entire elementary school library before the middle of second grade), text and text-processing was much on my mind.
    </p>
    <p>So when I encountered a system where plain text is the raw material flowing through the pipes, I was hooked.
    </p>
    <blockquote>
      <br>
      ...what I really learned was that the rules of Unix could be adapted to life.
      </blockquote>
    
    <p>
      This led me to undertake an informal study of Unix, all the way back to the Tech Model Railroad Club and all the hackers that came from there.  Yeah, I read the story about Margaret and the groceries and the Volkswagen; I understand his pain.
    </p>
    <p>
      But what I really learned was that the rules of Unix could be adapted to life.
    </p>
    <p>
      After about 30 years as a tech writer and frequent programmer, I finally settled on a set that works for me.  Little did I know that these very principles would lead me to org-mode, which would later lead me to find my people.
    </p>
    <hr>
    <h3>
      <center>
	Unix rules for life
      </center>
    </h3>
    <ul>
      <li>Keep it simple: It's cheaper and easier to carry around.</li>
      <li>Do one thing at a time: Multitasking is a lie.</li>
      <li>Network: You were born to connect.</li>
      <li>Say what you mean; nothing is truer than the truth.</li>
      <li>Hack: Trial and error is the only way we learn anything</li>
      <li>Be who you are: Even a bent wire can carry a great light.</li>
      <li>Use leverage; a bigger hammer isn't always the answer.</li>
      <li>Use what you have: never dig diamonds with a brick of gold.</li>
      <li>Have faith; all's possible, except maybe skiing through a revolving door.</li>
      <li>Think ahead, but don't worship your plans; remember today is the first day of the rest of your learning experience.</li>
    </ul>
    <hr>

<h3>
  a vi convert
</h3>
<p>
  I didn't start with org-mode, actually, but with plain journal files labeled YYYYMMDD, in a special directory in <code>/var/log</code>.  I still have those going back to sometime in the 90's.  The format was simple, but using the files soon became complex:
  </p><pre>	  
    *** personal journal of stormrider
    tue, aug 04, 1992 / 712904400
    sweetmorn, confusion 70, 3158 YOLD
    
    *** fortune -s
    Cold hands, no gloves.
    
    *** appts
    09:00  staff meeting, conf rm
    18:30  dinner with amit &amp; bonnie
    
    *** to do
    finish revisions on x-windows book
    do syllabus for advanced C class
    read some in Stevens &amp; Rago
    shower
    shave
    dress
    take out the trash otw to work
    .
    .
    .
    
    *** daily journal
    06:43 - man, didn't sleep well
    last night; i think i'm overdoing
    it on the coffee at work; maybe i
    should cut back some?
    .
    .
    .
  </pre>
  The unwieldy part came with all the repeated tasks, and tasks that got carried over from one day to the next (or didn't get finished). I had to copy yesterday's file, change all the key info, sort out the todo list, erase yesterday's journal, and generally do far too much work to keep my journal up.

<blockquote>
  <br>
  I got turned onto emacs sometime in the mid-nineties, when I moved to Atlanta to work for HP.  A fellow writer there used it, and suggested it might help me write and code up examples more effectively.  He was right, and it stuck....
  </blockquote>
<p>
  I did it, but intermittently, supplanting it with post-it notes, pads, planners galore, palm pilots, palmtop computers, etc.  It seemed like every day I was badly copying tasks from one day to the next. Meanwhile, my unwillingness to use Windows didn't give the the luxury of Outlook, when it came along.
</p>
<p>
  I got turned onto emacs sometime in the mid-nineties, when I moved to Atlanta to work for HP.  A fellow writer there used it, and suggested it might help me write and code up examples more effectively.  He was right, and it stuck as my editing platform of choice.
</p>
<p>
But I hadn't discovered org-mode yet. Either he didn't use it, or it hadn't been invented yet.  And to be honest, I kinda went back and forth between vi and emacs, depending on my "mood of the month."
</p>
<h3>
  a modem in the woods
</h3>
<p>
  Eventually, my HP job became a telecommuting-type arrangment, and I moved home to the farm, about an hour outside New Orleans, in the woods.  At that time, Internet was still modem-driven out here, so having command-line Linux with emacs on my laptop was a real lifesaver.
</p>
<p>
  Sometime not long before Katrina hit, I stumbled across org-mode.  I'd already used outline mode for some period of time (can't remember how long), and org-mode seemed like a logical follow-on from there.
      </p>
      <p>
	From there, org-mode just grew, and I grew with it.  All the features made it easy for me to both do what seemed natural for me, and do things in a way that felt like they supported my principles.  Gradually, my other methods of keeping track of things faded away, except for my alarm clock.  </p>
<p>
  Even when smart-phones took off, I was always trying to find some way to send org files over to my phone and use them there.  I think I even wrote some lua code in an iPhone wiki app to emulate org-mode with my files, though it was not fully satisfactory.
</p>
<h3>
  an org-mode resume
</h3>
      <p>
	Fast-forward to last May.  I'd been wanting to get on with Canonical for a long time, but hadn't found the right position, one that really matched my skills.  Then one Saturday, while I was waiting for my wife to meet me for some community event we were hosting, I saw a position that virtually described me.  I started to write a resume, but then decided that I would just take the job description elements, one-by-one, put them in an org file, and send them to the hiring manager.
      </p>
<p>
  Long-story short, almost everyone on this team used emacs, and org-mode, and lots of other .el packages that I also used every day.  I got the job, and so far, I'm very happy and feel like I fit in very well.
      </p>
      <h3>
	org-mode and my principles
      </h3>
      <p>
	Here's how I feel about using org-mode for everything: email, git, irc, web-browsing, organization, time-keeping, and so on.  And yes, I do use org-mode to connect with my email and the web, even though I use other packages (rmail, eww, magit, erc) to do the heavy lifing.  Let me walk it down, principle by principle:
	</p><ul>
	  <li><strong>Keep it simple:</strong> Granted, emacs isn't the simplest user interface, that is, until it becomes second nature.  After that, you'll find yourself accidentally erasing cells in your Google spreadsheet when you hit "C-x C-s" to try to save (good thing there's an undo). But the fact that you can use the same text for multiple functions: appointments, task states, task notes, clocking time, building an agenda, sending email, project planning, percentage completion, ....  The list is too long to quote, but just a simple statement, like "Get the discourse publishing tool working," can become the nucleus for a whole cycle's work and all the actions that go with it.</li><br>
	  <li><strong>Do one thing at a time:</strong> The window-driven nature of emacs makes it easy to switch tasks when you have to (just open another buffer) and then switch back later, and more quickly link back to where you were; not to mention that, if you become adept at using the agenda, you can keep yourself on track and move other things around with ease, and without any fear that they'll get lost.</li><br>
	  <li><strong>Network:</strong> Since I'm set up to send email, IRC, Mattermost, etc., directly from my org-mode tasks, it's easy to track where I am.  But even if I used another app, it's still really easy to just cut and paste a note next to a task and then set a follow-up time to prod, all without breaking your train of thought.  You're literally still looking at the work you're doing while you're messaging about it, so there's that.</li><br>
	  <li><strong>Say what you mean:</strong> You have the entire outline in front of you for whatever you're working on, so presentations, show-and-tell sessions, and status reports are really simple to give, whether verbally or in writing.</li><br>
	  <li><strong>Hack...:</strong> If it doesn't do what you want, you've got customizable variables, a huge library of packages, strong macro capability, and push-come-to-shove, emacs lisp, though I rarely have to go there, TBH.</li><br>
	  <li><strong>Be who you are:</strong> Org-mode matches my thinking style. Not true for everyone, but I tend to outline or mindmap (which you can do with org-mode, with the right .el package).</li><br>
	  <li><strong>Use leverage:</strong> Org-mode seriously leverages the power of plain text, in that you can either use the shortcuts to add an appointment, add tags, search tags -- or you can just do it by hand, because all of the special notation is plain text.  Leveraging human language in this way is helpful to me.</li><br>
	  <li><strong>Use what you have:</strong> Org-mode and emacs give me a stable platform that works everywhere, even on a printout.  I don't need license fees, special extensions, subscriptions, add-on tools, or constant updates to keep my life humming.</li><br>
	  <li><strong>Have faith:</strong> Org-mode has justified my faith, as has emacs.  Lots of tools I've used break, crash, or get killed by absorption (I once liked Astrid, e.g., but it suddenly got sold and went away).  Org-mode and emacs are pretty much here to stay, especially since there is no license fee, and I can keep a self-contained version backed up at home, should it ever stop being distributed.</li><br>
	  <li><strong>Think ahead:</strong> This is where org-mode, and especially the agenda, shine.  If I'm busy, I don't have to worry about keeping my outline clean.  I can stop in the middle of notes for another project, hit return, enter a to do for later (and tag it and schedule it to pop up later), and then move that to someplace more suitable later.  The agenda will clean it up and put it in perspective for me.  Or I can search for it, or pull up all open to-do items ‚Ä¶</li></ul></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://stormrider.io/ninety-pct.html">http://stormrider.io/ninety-pct.html</a></em></p>]]>
            </description>
            <link>http://stormrider.io/ninety-pct.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23672473</guid>
            <pubDate>Sun, 28 Jun 2020 22:07:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PostgreSQL installation on Linux ‚Äì with database creation]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23672367">thread link</a>) | @lukasbar
<br/>
June 28, 2020 | https://knowledgepill.it/posts/postgresql_installation/ | <a href="https://web.archive.org/web/*/https://knowledgepill.it/posts/postgresql_installation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <p>PostgreSQL is open source software so we can install it wthout any limitation, including our personal code changes. It is distributed under own The PostgreSQL License(TPL).</p>
<p>Installation of PostgreSQL is easy on Linux Distributions.<br>
For purpose of tutorial we use CentOS 8.</p>
<p>We shuold get newest PostgreSQL from official repo - version in OS repos are mostly old - like for now when we get with CentOS 8 PostgreSQL 9.6 :)</p>

<hr>
<p>Newest links for repos:
<a href="https://www.postgresql.org/download/">PostgreSQL Official Repos</a></p>
<hr>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># dnf install https://download.postgresql.org/pub/repos/yum/reporpms/EL-8-x86_64/pgdg-redhat-repo-latest.noarch.rpm</span>
Last metadata expiration check: 0:27:00 ago on Sun <span>28</span> Jun <span>2020</span> 09:01:23 PM UTC.
pgdg-redhat-repo-latest.noarch.rpm                                                                                             <span>15</span> kB/s |  <span>11</span> kB     00:00    
Dependencies resolved.
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
 Package                                    Architecture                     Version                             Repository                              Size
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
Installing:
 pgdg-redhat-repo                           noarch                           42.0-11                             @commandline                            <span>11</span> k

Transaction Summary
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
Install  <span>1</span> Package

Total size: <span>11</span> k
Installed size: <span>11</span> k
Is this ok <span>[</span>y/N<span>]</span>: y
Downloading Packages:
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                                      1/1
  Installing       : pgdg-redhat-repo-42.0-11.noarch                                                                                                      1/1
  Verifying        : pgdg-redhat-repo-42.0-11.noarch                                                                                                      1/1

Installed:
  pgdg-redhat-repo-42.0-11.noarch                                                                                                                             

Complete!
<span>[</span>root@postgres-lab ~<span>]</span>#
</code></pre></div>
<p>As mentioned earlier CentOS 8 has got build in module for PostgreSQL easy install. Despite that version of RDBMS is too old so we will disable it.</p>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># dnf -qy module disable postgresql</span>
</code></pre></div>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># dnf install postgresql12-server postgresql12</span>
Last metadata expiration check: 0:02:58 ago on Sun <span>28</span> Jun <span>2020</span> 09:30:47 PM UTC.
Dependencies resolved.
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
 Package                                      Architecture                    Version                                   Repository                       Size
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
Installing:
 postgresql12                                 x86_64                          12.3-5PGDG.rhel8                          pgdg12                          1.6 M
 postgresql12-server                          x86_64                          12.3-5PGDG.rhel8                          pgdg12                          5.1 M
Installing dependencies:
 postgresql12-libs                            x86_64                          12.3-5PGDG.rhel8                          pgdg12                          <span>395</span> k

Transaction Summary
<span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span><span>=</span>
Install  <span>3</span> Packages

Total download size: 7.1 M
Installed size: <span>30</span> M
Is this ok <span>[</span>y/N<span>]</span>: y
Downloading Packages:
<span>(</span>1/3<span>)</span>: postgresql12-libs-12.3-5PGDG.rhel8.x86_64.rpm                                                                          <span>365</span> kB/s | <span>395</span> kB     00:01    
<span>(</span>2/3<span>)</span>: postgresql12-12.3-5PGDG.rhel8.x86_64.rpm                                                                               1.2 MB/s | 1.6 MB     00:01    
<span>(</span>3/3<span>)</span>: postgresql12-server-12.3-5PGDG.rhel8.x86_64.rpm                                                                        3.0 MB/s | 5.1 MB     00:01    
--------------------------------------------------------------------------------------------------------------------------------------------------------------
Total                                                                                                                         4.1 MB/s | 7.1 MB     00:01     
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                                      1/1
  Installing       : postgresql12-libs-12.3-5PGDG.rhel8.x86_64                                                                                            1/3
  Running scriptlet: postgresql12-libs-12.3-5PGDG.rhel8.x86_64                                                                                            1/3
  Installing       : postgresql12-12.3-5PGDG.rhel8.x86_64                                                                                                 2/3
  Running scriptlet: postgresql12-12.3-5PGDG.rhel8.x86_64                                                                                                 2/3
  Running scriptlet: postgresql12-server-12.3-5PGDG.rhel8.x86_64                                                                                          3/3
  Installing       : postgresql12-server-12.3-5PGDG.rhel8.x86_64                                                                                          3/3
  Running scriptlet: postgresql12-server-12.3-5PGDG.rhel8.x86_64                                                                                          3/3
  Verifying        : postgresql12-12.3-5PGDG.rhel8.x86_64                                                                                                 1/3
  Verifying        : postgresql12-libs-12.3-5PGDG.rhel8.x86_64                                                                                            2/3
  Verifying        : postgresql12-server-12.3-5PGDG.rhel8.x86_64                                                                                          3/3

Installed:
  postgresql12-12.3-5PGDG.rhel8.x86_64            postgresql12-server-12.3-5PGDG.rhel8.x86_64            postgresql12-libs-12.3-5PGDG.rhel8.x86_64           

Complete!
<span>[</span>root@postgres-lab ~<span>]</span>#
</code></pre></div>
<p>We will create sample data cluster.<br>
First we create directory for all PostgreSQL data:</p>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># mkdir -p /postgresql/data</span>
<span>[</span>root@postgres-lab ~<span>]</span><span># chown postgres:postgres /postgresql -R</span>
</code></pre></div><p>Now from <code>postgres</code> OS user we can create data cluster:</p>
<div><pre><code data-lang="bash"><span>[</span>postgres@postgres-lab ~<span>]</span>$ /usr/pgsql-12/bin/initdb -D /postgresql/data
The files belonging to this database system will be owned by user <span>"postgres"</span>.
This user must also own the server process.

The database cluster will be initialized with locale <span>"en_US.UTF-8"</span>.
The default database encoding has accordingly been set to <span>"UTF8"</span>.
The default text search configuration will be set to <span>"english"</span>.

Data page checksums are disabled.

fixing permissions on existing directory /postgresql/data ... ok
creating subdirectories ... ok
selecting dynamic shared memory implementation ... posix
selecting default max_connections ... <span>100</span>
selecting default shared_buffers ... 128MB
selecting default time zone ... UTC
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

initdb: warning: enabling <span>"trust"</span> authentication <span>for</span> local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb.

Success. You can now start the database server using:

    /usr/pgsql-12/bin/pg_ctl -D /postgresql/data -l logfile start
</code></pre></div>
<p>Firt we will enable PostgreSQL service:</p>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># systemctl enable postgresql-12</span>
Created symlink /etc/systemd/system/multi-user.target.wants/postgresql-12.service ‚Üí /usr/lib/systemd/system/postgresql-12.service
</code></pre></div><p>Now we have to modify service to reflect our PostgreSQL directory:</p>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># vi /usr/lib/systemd/system/postgresql-12.service</span>
<span>[</span>...<span>]</span>
<span>[</span>Service<span>]</span>
Type<span>=</span>notify

User<span>=</span>postgres
Group<span>=</span>postgres


Environment<span>=</span>PGDATA<span>=</span>/postgresql/data

<span>[</span>...<span>]</span>
</code></pre></div><p>Reload daemon after service chnages:</p>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># systemctl daemon-reload</span>
</code></pre></div>
<div><pre><code data-lang="bash"><span>[</span>root@postgres-lab ~<span>]</span><span># systemctl start postgresql-12</span>
<span>[</span>root@postgres-lab ~<span>]</span><span># systemctl status postgresql-12</span>
‚óè postgresql-12.service - PostgreSQL <span>12</span> database server
   Loaded: loaded <span>(</span>/usr/lib/systemd/system/postgresql-12.service; enabled; vendor preset: disabled<span>)</span>
   Active: active <span>(</span>running<span>)</span> since Sun 2020-06-28 21:46:29 UTC; 47s ago
     Docs: https://www.postgresql.org/docs/12/static/
  Process: <span>1972</span> ExecStartPre<span>=</span>/usr/pgsql-12/bin/postgresql-12-check-db-dir <span>${</span>PGDATA<span>}</span> <span>(</span>code<span>=</span>exited, status<span>=</span>0/SUCCESS<span>)</span>
 Main PID: <span>1977</span> <span>(</span>postmaster<span>)</span>
    Tasks: <span>8</span> <span>(</span>limit: 3248<span>)</span>
   Memory: 22.8M
   CGroup: /system.slice/postgresql-12.service
           ‚îú‚îÄ1977 /usr/pgsql-12/bin/postmaster -D /postgresql/data
           ‚îú‚îÄ1979 postgres: logger   
           ‚îú‚îÄ1981 postgres: checkpointer   
           ‚îú‚îÄ1982 postgres: background writer   
           ‚îú‚îÄ1983 postgres: walwriter   
           ‚îú‚îÄ1984 postgres: ‚Ä¶</code></pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://knowledgepill.it/posts/postgresql_installation/">https://knowledgepill.it/posts/postgresql_installation/</a></em></p>]]>
            </description>
            <link>https://knowledgepill.it/posts/postgresql_installation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23672367</guid>
            <pubDate>Sun, 28 Jun 2020 21:50:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Online payments for data science apps (DSaaS) using R, Shiny, Firebase, Paddle]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23672072">thread link</a>) | @amrrs
<br/>
June 28, 2020 | https://code.markedmondson.me/datascience-aas/ | <a href="https://web.archive.org/web/*/https://code.markedmondson.me/datascience-aas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
            

<p>This post has been delayed due to the events of 2020 including a global pandemic and social justice demonstrations, if you are touched by those I wish you all the best.  For my family and I we have been very lucky and spent most of the last months tending our garden in the Copenhagen suburbs, but others have been a lot more directly affected.</p>

<p>One consequence of the pandemic may be that from now on more interaction will be online, which presents both opportunities and challenges.  I think it‚Äôs important that any opportunities are democratised as much as possible, so I hope this post will help those with data science skills have an easier route to generate an income from those skills if they choose to.</p>

<p>The demo tech stack chosen is one to keep online payments as simple yet as secure as possible, with low running costs taken care of via serverless infrastructure.</p>

<p>The <a href="https://github.com/MarkEdmondson1234/Shiny-R-SaaS">demo app code is on GitHub available here</a> and a working demo with that code is running on <a href="https://mark.shinyapps.io/r-saas/">shinyapps.io here.</a></p>

<h2 id="money-and-open-source-software">Money and open source software</h2>

<p>The interaction between open-source and how it‚Äôs paid for is interesting economics.  There are several open-source projects that are highly valuable and essential for modern living, yet created by people in their free time with no expectation of payment.  Indeed, from my own experience, the motivations to create these open source projects are more about craftsmanship, education and pride than any promise of monetary reward.</p>

<p>Yet if those projects are to go beyond hobby projects, at some point the open source contributor needs to be paid, and this seems to happen in a few ways:</p>

<ol>
<li>The employer of the contributor pays enough that they can work in their free time

<ul>
<li>This risks burnout of the contributor</li>
</ul></li>
<li>The employer agrees to subsidise the open source project directly

<ul>
<li>The employer may then want rights over the open source project, potentially compromising it</li>
</ul></li>
<li>The open source project serves as a CV for demonstrating the contributors skill

<ul>
<li>The project may then be abandoned once the contributer is busy with paid projects</li>
</ul></li>
<li>The open source project generates income from direct sponsorship of its users

<ul>
<li>With <a href="https://github.com/sponsors">GitHub Sponsors</a> this is now easier than ever, and may be the future of open source, although favours public facing projects over critical infrastructure</li>
</ul></li>
<li>The open source project offers paid options on top of the free to use version, which supports the open-source work

<ul>
<li>This is the RStudio (PBC) model, with paid enterprise options supporting huge open source efforts</li>
</ul></li>
</ol>

<p>If we‚Äôre lucky the contributor finds how to make one of the above work.  For example Hadley Wickham and Wes McKinney were employed by firms who wanted to support the open source work they were doing directly.  But what about those projects that rely on free time or user contributions?  Unfortunately, the most likely possibility is that they have to stop supporting the project - we can at best hope the person got a good job via the CV recognition route.</p>

<p>My ambition is that the demo payment template described in this post will help people into easier direct sponsorship or dedicated apps before they are abandoned.</p>



<p>GitHub Sponsors has also been a huge step in this area and there was <a href="https://calebporzio.com/i-just-hit-dollar-100000yr-on-github-sponsors-heres-how-i-did-it">a recent report of a contributor with a $100k salary</a> which is fantastic.</p>

<p>I am humbled by the people who have also <a href="https://github.com/sponsors/MarkEdmondson1234">sponsored my efforts</a>.</p>

<p><img src="https://code.markedmondson.me/images/github-sponsors.png" alt=""></p>

<p>Thank you!</p>

<p>Any feedback is always a great motivation for me to carry on with my work (I used to fret I got no-one creating GitHub issues) and it never is taken for granted.  To have some who will actually take the time to send some money with that feedback is amazing and was another motivation to give back with this project.  It greatly reduces burnout to know that the work has some value to others.</p>

<h2 id="r-as-a-production-language">R as a production language</h2>

<p>Another motivation for this template is to help sustain R programmers in particular.  Although the demo payment flow will work with any service (the Paddle javascript embeds in any HTML) I focused on making a front end for R using Shiny as there is a thirving ecosystem of <a href="https://shiny.rstudio.com/gallery/">fantastic Shiny apps</a> that are currently offered for free, and I think it‚Äôll be cool if there are more that also generate income for their creators.</p>

<p><img src="https://code.markedmondson.me/images/shiny-showcase.png" alt=""></p>

<p>A myth that R can‚Äôt be used in production is possibly perpetrated as it has arisen via academia and so commercial applications haven‚Äôt been a priority.  Nothing cements R as a production language more than if people are making a living from it. I certainly do in my day-to-day work at <a href="https://iihnordic.com/">IIH Nordic</a>, but anything to help others have the same is probably worth while.</p>

<h2 id="the-demo-dsaas-data-science-as-a-service">The demo DSaaS (Data Science as a Service)</h2>

<p>The <a href="https://github.com/MarkEdmondson1234/Shiny-R-SaaS">demo app code is on GitHub available here</a> and a working demo with that code is running on <a href="https://mark.shinyapps.io/r-saas/">shinyapps.io here.</a></p>

<p><img src="https://code.markedmondson.me/images/subscriber-content.png" alt=""></p>

<p>It features:</p>

<ul>
<li>Firebase to handle authentication and store subscription user data</li>
<li>Paddle to handle payments, taxes and fulfillment</li>
<li>Cloud Functions to sync changes between Paddle and Firebase</li>
<li>Shiny frontend with demo content for ‚Äòfree‚Äô, ‚Äòlogged in but not subscribed‚Äô and ‚Äòsubscriber‚Äô content</li>
</ul>

<p>The detailed setup steps needed are in the <a href="https://github.com/MarkEdmondson1234/Shiny-R-SaaS">GitHub readme</a>, for this blogpost I‚Äôll take about what choices were made and why.</p>

<h2 id="overall-flow">Overall flow</h2>

<p>I used <a href="https://rich-iannone.github.io/DiagrammeR/"><code>library(DiagrammeR)</code></a> to plan out what flows were needed (click image to make bigger):</p>

<p><img src="https://code.markedmondson.me/images/paddle_flow.png" alt=""></p>

<p>It does take some planning!</p>

<p>The key areas are how a user logs on and the app knows they are a paid subscriber, and what happens offline if say the credit card is declined - the app needs to know this state has been updated the next time a user logs on.</p>

<h3 id="firebase">Firebase</h3>

<p>Firebase is a development platform for building mobile and web apps that is a layer on top of the Google Cloud Platform.</p>

<p>Firebase has many tools to help make application development easier, but only two were needed for this project: Firebase AuthUI and Firestore, a noSQL database.</p>

<p><img src="https://code.markedmondson.me/images/firebase-login.png" alt=""></p>

<p>Firebase AuthUI has been implemented for Shiny apps via JohnCoene‚Äôs <a href="https://github.com/JohnCoene/firebase">firebase package</a>.</p>

<blockquote>
<p>This has a nice open source story of taking inspiration from each other, first started by <a href="https://github.com/shinyonfire/sof-auth-example">Andy Merlino showing a POC of Firebase</a> on Shiny, myself putting in the Firebase Auth UI module which helped simplify the code and finished and polished by John to make a simple and powerful Shiny package to implement Firebase authentication.</p>
</blockquote>

<p>Its easy and secure to setup, and since the authentication uses a centralised database running on Firebase it works across apps/website so a user who logs in with Shiny can also be recognised elsewhere, which you can use to make a suite of services, support or apps.</p>

<p>In a similar manner, Firestore is a noSQL database that is used to carry the subscription data, linked to the Firebase userId.</p>

<p><img src="https://code.markedmondson.me/images/firebase-database.png" alt=""></p>

<p>Being noSQL it is quick for reads and also lets you keep historic events such as when a user subscribed, cancelled or updated. Since its on the Google Cloud Platform I could use <a href="https://code.markedmondson.me/googleAuthR/"><code>googleAuthR</code></a> to authenticate and generated the R function to read it:</p>

<pre><code>library(googleAuthR)

gar_auth_service("firebase-reader-auth-key.json",
                 scope = "https://www.googleapis.com/auth/datastore")

#' Gets a Firebase data entry.  Will return NULL if it can not
fb_document_get &lt;- function(document_path,
                            database_id = "(default)",
                            project_id = Sys.getenv("FIREBASE_PROJECT")){

  the_url &lt;- sprintf("https://firestore.googleapis.com/v1/projects/%s/databases/%s/documents/%s",
                     project_id, database_id, document_path)

  f &lt;- gar_api_generator(the_url,
                         "GET",
                         data_parse_function = function(x) x)

  f()
}
</code></pre>

<h3 id="paddle">Paddle</h3>

<p>For a long time I was thinking of using Stripe for this template, but whilst Stripe has a great API and I‚Äôd <a href="https://github.com/MarkEdmondson1234/stripeR">worked with it before</a>, there was still some work to do to make reliable payment apps such as handling when a user‚Äôs card gets declined (how would your app know to deny paid content?) and international taxes etc.</p>

<p>The pitch of <a href="https://paddle.com/">paddle.com</a> was that it took care of all that for you, so you are closer to a working app.  They do charge more per transaction than Stripe, so if you are looking for the cheapest then you may want to stick with Stripe and implement the ‚ÄúStripe stack‚Äù, but I figured it was worth it for keeping the implementation simple.</p>

<p>Paddle has a simple JavaScript button to implement the payment popups -</p>

<pre><code>&lt;script src="https://cdn.paddle.com/paddle/paddle.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;
	Paddle.Setup({ vendor: 1234567 });
&lt;/script&gt;

...
// a buy button
&lt;a href="#!" class="paddle_button" data-product="12345"&gt;Buy Now!&lt;/a&gt;
</code></pre>

<p><img src="https://code.markedmondson.me/images/paddle-paymentstep-2.png" alt=""></p>

<p>Paddle then uses webhooks to communicate with your server (in this case, Firestore) - so the next ingredient was how to create a webhook for communication between Paddle and Firestore.  You can then test this from the Paddle UI:</p>

<p><img src="https://code.markedmondson.me/images/paddle-webhook-test.png" alt=""></p>

<h3 id="google-cloud-functions">Google Cloud Functions</h3>

<p>For simple ‚Äúglue‚Äù data flows my go-to is Google Cloud Functions, as you only need write the code and deploy without needing to worry about servers or scale.  Firebase has its own Cloud Function UI as well but that only supports node.js, so I opted to use the GCP console Cloud Functions in Python3.7 (Its the same service and infrastructure as Firebase.)</p>

<p>Paddle had lots of Python examples already on the website on how to verify and deal with the data in their webhook payload so a lot of it was just copy-paste from there into the Cloud Function UI.  There is some more setup info in the <a href="https://github.com/MarkEdmondson1234/Shiny-R-SaaS/tree/master/payment_app">Cloud Function readme</a> - the only extra bit I needed to add was how to take the webhook payload and write it to Firestore - this was all handled by this snippet of code:</p>

<pre><code>import logging
from google.cloud import firestore

def update_firebase(data, collection, doc_id):
    logging.info('fb update - collection {} doc_id {}'.format(collection, doc_id))

    db = firestore.Client()
    doc_ref = db.collection(collection).document(doc_id)
    doc_ref.set(data)

    # add the event
    event_ref = db.collection(collection).document(doc_id).collection('event').document(data['alert_id'])
    event_ref.set(data)   
</code></pre>

<p>T‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://code.markedmondson.me/datascience-aas/">https://code.markedmondson.me/datascience-aas/</a></em></p>]]>
            </description>
            <link>https://code.markedmondson.me/datascience-aas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23672072</guid>
            <pubDate>Sun, 28 Jun 2020 21:09:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Hardest Part of Working at a Growth Startup]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 33 (<a href="https://news.ycombinator.com/item?id=23671824">thread link</a>) | @svmanager
<br/>
June 28, 2020 | https://staysaasy.com/scaling/2020/06/27/hardest-part-of-startup-scale-yourself.html | <a href="https://web.archive.org/web/*/https://staysaasy.com/scaling/2020/06/27/hardest-part-of-startup-scale-yourself.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://staysaasy.com/assets/hardest_part_of_startup/office-space.jpeg" alt="The hardest part of working at a growth startup is having to re-interview for your job every year">
Growth startups require both personal and business scaling.</p>

<p>The hardest part of working at a growth startup is having to re-interview for your job every year.</p>

<h3 id="the-challenge-of-scaling">The challenge of scaling</h3>

<p>You‚Äôre heading a key function at your 25-person startup. Maybe you‚Äôre head of engineering; maybe you run marketing. Hell, maybe you‚Äôre the CEO. You kick ass and your startup grows fast ‚Äì and with that growth, the needs of the company evolve. Things in the new world are now going okay, but perhaps not optimally. Eventually, the CEO and board of directors get in a room to discuss what to do.</p>

<p>I can tell you what will happen in this room. The board will discuss your performance, and compare it to the performance of other, hypothetical executives ‚Äì just as if you were interviewing for your own job. In your favor: you are a known quantity, presumably viewed as talented, and perhaps even a close friend. Against you: you haven‚Äôt done this before, and we need results now.</p>

<p>In many cases this conversation will lead to you being demoted or asked to leave. In extra cruel circumstances, you can literally get fired for having done a great job. This is normal, semi-expected, and sucks. And this happens to everyone ‚Äì even founding CEOs are not immune.</p>

<p>The hardest part of this situation? These hard truths often go unspoken. Sometimes it‚Äôs just too awkward to tell someone who‚Äôs been there through thick and thin that they‚Äôre expected to be a stand-in for a future big league exec. And if you have a first-time management team, they might not even realize what‚Äôs going on ‚Äì they may also be in the process of not scaling fast enough, either. At least when you‚Äôre interviewing, you‚Äôre explicitly given the chance to shine; such opportunities may not be spoon-fed to you during hectic growth.</p>

<h3 id="how-to-scale-yourself">How to scale yourself</h3>

<p>To avoid this situation you need to become a self-scaling machine. Read voraciously, and find opportunities to put new skills into practice ‚Äì during growth mode there‚Äôs always too much to do, so take advantage and gain actual battlefield experience. You should constantly have an image in your mind of where you expect your team to be in 6 months and steer towards that future world. Learning to see around corners allows you to scale independently, and independence is a key leadership trait since <a href="https://staysaasy.com/scaling/2020/05/07/startup-is-this-normal.html">startups are constantly on fire</a>. Finding mentors who are at least 2-3 years ahead of you in terms of their own careers is another great way to build these instincts.</p>

<p>And most importantly, <em>ask questions</em>. Ask your manager how they expect your job will be different in 6 months (if you‚Äôre the CEO, this advice will be slightly different ‚Äì&nbsp;a trusted advisor and/or executive coach can help). Ask them what they see as your current trajectory in the role. In my experience people are way too shy about asking direct questions in general, especially to their managers ‚Äì it is literally your manager‚Äôs job to provide high-quality answers to your career questions. If you nail this, it‚Äôs a fast track towards increasing responsibility and growth.</p>

<h3 id="this-isnt-a-bad-thing">This isn‚Äôt a bad thing!</h3>

<p>From the other perspective, well-run growth startups give you the regular opportunity to interview for roles that are a level higher (or two!). <a href="https://www.linkedin.com/in/marissamayer/">This</a> is a <a href="https://www.linkedin.com/in/marcbenioff/">proven way</a> to <a href="https://www.linkedin.com/in/ericsyuan/">accelerate</a> your <a href="https://en.wikipedia.org/wiki/Sundar_Pichai#Career">career</a>. If you scale with a growing organization, you can pack decades of experience into years.</p>

    




  </div></div>]]>
            </description>
            <link>https://staysaasy.com/scaling/2020/06/27/hardest-part-of-startup-scale-yourself.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671824</guid>
            <pubDate>Sun, 28 Jun 2020 20:34:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Better LinkedIn]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671737">thread link</a>) | @vmsp
<br/>
June 28, 2020 | https://blog.eutopian.io/building-a-better-linkedin/ | <a href="https://web.archive.org/web/*/https://blog.eutopian.io/building-a-better-linkedin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">




  <article>
    

    <section>




<p>1300 words, 4 and a half minutes.
<img src="https://blog.eutopian.io/images/huxley-4.jpg" alt="This man was right"></p>

<p>This will probably be the first and last time I write about social networking.</p>

<p>I‚Äôm an antisocial social networker. I had an expectation that part of the job of a networking platform (professional or social) would be to filter content or updates, both in terms of who was posting them and the individual significance or quality of the posts. Boy was I wrong. One person re-posts every single article they see, another ‚Äúmotivational‚Äù poster repeats blithe optimism without context at the end of every day (tellingly never the beginning). There is the virtue signaller whose primary tactic is to post about people they hate. There is the stream of charity requests, the next more worthy than the last while not one attempts to address the root causes of the suffering they hope to alleviate. Probably because that would be either too hard, too complicated to explain, or in some way conflicts with the value system of those who might otherwise donate money. I digress. Finally, we have the recent US election cycle whose cant and humbug has swamped every communication channel. My choices? Mute, disconnect, or report. Said another way, ignore, gag, or crocodile pit. Not very satisfactory.</p>

<p>I have a preference for quality over quantity. I‚Äôm not very interested in constant contact, I maintain a relatively short list of connections/followers/followed. I appreciate that I may not be a person that social networking sites wish to appeal to. That said, I‚Äôm not alone. I expect there are many others like me, time-poor, a little impatient, uninterested in much of the public discourse, looking for nuggets of news, information, and important updates from my valued contacts.</p>

<p>Like some <a href="http://www.martingeddes.com/linkedin-lockedin-deleted-account/">other</a> people I rate, I‚Äôve decided not to make LinkedIn my primary platform for this content, although all of it is of a professional nature. I haven‚Äôt quit LinkedIn but as a user of a platform I only dip into every once in a while, I am a witness to its decline. The fire alarm hasn‚Äôt gone off, I don‚Äôt think it‚Äôs time to evacuate, but there is a slight whiff of smoke so I‚Äôm keeping an eye on the nearest emergency exit. As a result, I don‚Äôt want to store content in what could become a closed platform in the future or one I may choose to drift away from. I think LinkedIn picked the right time to <a href="http://uk.businessinsider.com/microsoft-buys-linkedin-2016-6">sell</a>.</p>

<h3 id="a-prediction">A Prediction</h3>

<p><em>Bear in mind I‚Äôm no social media expert.</em></p>

<p>I predict that when a real alternative to LinkedIn appears it will get traction. Furthermore, I predict that the New-LinkedIn‚Äôs selling point will be the ability to control the volume and quality of what you see. I‚Äôll even tell you how this could happen.</p>

<ul>
<li>Users could pay the site for more powerful filtering capability.</li>
<li>Filters could be made available from 3rd parties in an App Store selling free and paid-for plug-ins, just like Salesforce.com‚Äôs AppExchange.</li>
<li>Moderators could be paid by non-moderators or by the site for their expert curation and filtering skills in some kind of marketplace.</li>
<li>The site could use a state of the art system like <a href="https://en.wikipedia.org/wiki/Slashdot#Peer_moderation">karma</a> from <a href="https://slashdot.org/">Slashdot</a>.</li>
<li>There could be a hierarchy of users where consistent quality contributors are rewarded with access to a larger audience‚Äôs feed.</li>
<li>In my New-LinkedIn nirvana, money only buys <em>control</em>. Quality and reputation buy <em>distribution</em>.</li>
<li>There are probably more readers than there are posters, the money-4-control versus reputation-4-distribution thing might work.</li>
<li>What if a reader‚Äôs control versus a poster‚Äôs distribution could be influenced by the site operator to finely balance the utility of the site to both?</li>
<li>What if the optimum point between control and distribution could be managed automatically via a feedback mechanism?</li>
<li>Those with a high quality/reputation rating <em>could</em> leverage that for nefarious purposes but would see their distribution diminish automatically if they started spewing spammy posts.</li>
<li>If this reputational system sounds familiar, you might have been involved in the <a href="https://www.spamhaus.org/">fight against Email spam</a> before.</li>
</ul>

<p>I can think of at least a dozen different options for monetisation of such a site, none of which involve diluting or harming the user experience, selling personal data, or negatively impacting the site‚Äôs value to participants. I‚Äôm not ruling out straight advertising if it could be accommodated in such a way that it did not detract from the utility of the site. Having satisfied myself that at least a couple these suggestions are realistic, let‚Äôs look at how they might be implemented.</p>

<h3 id="filters">Filters</h3>

<p>Hard-core trolls, paid-for shills, bots, and spammers are all well-understood problems. Just like Email spam, they are by and large a solved problem. So why <em>don‚Äôt</em> social network sites solve them? If your business model relies upon this noise then you are not going to eliminate it. There is nothing technically difficult about doing so. The harder problem is what to do about genuine posters who, wonderful people though they may be, spout posts you could well do without.</p>

<p>In the past, I‚Äôve used <a href="https://en.wikipedia.org/wiki/Bayes%27_theorem">Bayesian classifiers</a> to beat spam in the days before products were available off the shelf to do so. I‚Äôve also used the same technology in one or two <a href="https://blog.eutopian.io/about/#backchannel">novel applications</a> to classify unstructured or semi-structured text in an automated way, sorting each new never-seen-before message into one of a few dozen buckets. Bayesian isn‚Äôt just good for sorting spam from notspam. What if we trained a Bayesian classifier to spot some of those familiar social media posters? The charity fundraiser, the virtue signalling hater, the motivation post spouter.</p>

<ul>
<li>What if we gave the user an option to break each of those and a dozen more auto-classified types of post into buckets or feeds?</li>
<li>What if each feed was constrained to some screen area, or tab, or could be summarised in some way, or even muted?</li>
<li>What if the user could decide the percentage mix of postings he would see in a day of each type before the squelch was automatically turned up on the rest?</li>
<li>What if such a system learned through likes or forwards or reads what sort of updates you tended to enjoy?</li>
<li>What if those kinds of updates could be given prominence at the expense of the rest?</li>
<li>What if the filter could classify a given post as 30% advertorial 70% editorial, and what if you could set a threshold for seeing posts of up to 25% advertorial but no more?</li>
<li>What if the filter could identify that you‚Äôd already received 25 permutations of essentially the same thing this month, and handle it accordingly.</li>
</ul>

<p>Today, most of what you see is down to your contacts, their proximity to you on the social network graph, and the few groups you‚Äôve bothered to join or companies you follow. If any of those entities start spamming out noise, then it hits. The advanced filtering proposed above is another chance to avoid muting them or unlinking them, it is another chance to control and moderate the fire hose.</p>

<h3 id="convergence-with-collaboration">Convergence With Collaboration</h3>

<p>We already have much of the knowledge of mankind available at our fingertips, we have the technical means to collaborate, soon we will be connected to anyone, anywhere (give it another 10 years). Yet in spite of all of this, collaboration is still limited. Collaboration remains an inefficient market, the best collaborators don‚Äôt always find the best co-collaborators, and when they do they don‚Äôt always collaborate to maximum effect. Even within one single organisation, like a large corporation, collaboration can be difficult. If the firm is large then a skills matrix gets too big, it is more often than not out of date and may be less useful than just looking on LinkedIn. The Open Source software movement collaborates on <a href="https://en.wikipedia.org/wiki/GNU_Mailman">mailing lists</a>, <a href="https://en.wikipedia.org/wiki/GitHub">version control repositories</a>, newsgroups, and <a href="https://en.wikipedia.org/wiki/Google_Hangouts">chatrooms</a>, but those platforms are not as popular for other disciplines outside of software. For the rest of humanity, social networking is probably the gateway or platform to frictionless collaboration.</p>

<p>Given the pay-off, it‚Äôs probably worth someone investing effort in combining social and business networking with collaboration. Such a platform would appeal to the remaining 99% of the population. That won‚Äôt happen without the ability for end users to better control the environment. Without that capability, collaboration will remain inefficient and social networking will remain blighted by background noise.</p>

<p>I wonder if the LinkedIn guys have a Microsoft non-compete clause. <a href="https://twitter.com/reidhoffman">Reid</a> are you out there?</p>









    </section>


  
</article>

</div></div>]]>
            </description>
            <link>https://blog.eutopian.io/building-a-better-linkedin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671737</guid>
            <pubDate>Sun, 28 Jun 2020 20:20:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WYSINEUTWYG be damned]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671696">thread link</a>) | @billwear
<br/>
June 28, 2020 | http://stormrider.io/dcpub.html | <a href="https://web.archive.org/web/*/http://stormrider.io/dcpub.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <h2>
      dcpub - discourse publishing tool
    </h2>
    <h3>
      WYSINEUTWYG be damned
    </h3>
    <hr>
    <a href="http://stormrider.io/index.html">blog index</a><br>
    <hr>
    <p>
      I hate WYSINEUTWYG.
    </p>
    <p>
      First of all, WYSIWYG is mostly a lie; it's really "What you see is NOT ENTIRELY UNRELATED TO what you get."  Face it; skeuomorphic text editing isn't really that efficient, because you have to break your stride to find the button, or find the modifier key, or double-check that you haven't screwed up the closure...you know the drill.
    </p>
    <p>
      My whole career is really about one thing: parsing text.  My way of learning most new languages is to port the BSD calendar program to it, and I get lost in complicated conversions of text from one format to another.  That parsing extends to writing, which is really just parsing abstract ideas into readable text.  So you might say "writing and parsing text," to be more clear, but it's really all part of the same thing for me.
    </p>
    <p>
      And I've always tried to escape from any need for a mouse -- or special modifiers -- when editing.  Sure, I might throw it in GoogleDocs or slam it into Word and make it look pretty for the editors, but the whole concept of trying to write something intelligent, while at the same time farting around with format, is just inefficient and damn annoying.
    </p>
    <p>
      Lately, I've had much occasion to use the <a href="https://www.discourse.org/">discourse</a> forum.  If you've used it, you probably know the WYSINEUTWYG* editor is pretty decent -- just not ideal for someone who once said, "Life is 90% of my use cases for [emacs]."  Discourse also has a fairly robust API, so I'm doing what any good coder would do: I'm writing my own publishing interface, using that API.
    </p>
    <h3>
      basic requirements
    </h3>
    <p>
      My basic requirements for this tool are simple, but precise:
      </p><ul>
	<li>The tool must pull existing topics from discourse and deposit them in a local file, in perfect discourse markup (no process trash).</li>
	<li>The tool must push local markdown files back to existing topics, replacing the topic text, producing perfect discourse files in the process.</li>
	<li>The tool must create new discourse topics from local files, setting them in perfect discourse format.</li>
      </ul>
      There are also a couple of "nice-to-haves:"
      <ul>
	<li>It would be <em>nice</em> if the tool is able to pull topics and create a filename based on the topic "slug," which is the topic title, stripped of all punctuation, with words separated by dashes, maybe including the topic number on the end of the filename.</li>
	<li>It would be <em>nice</em> if the tool could pull metadata from the discourse topic, like whether it's been deleted or when it was last edited, e.g, and store that separately.</li>
	<li>It would be <em>nice</em> if the tool could pull a range of topics, like, say, all the topics in category "X" that aren't deleted.</li>
	<li>It would be <em>nice</em> if the tool could make copies of a range of topics, like, say, all the undeleted topics in category "X," and create a duplicate set in category "Y" (e.g., for drafting updates to an entire docset).
      </li></ul>
    
    <h3>
      starting point: push and pull existing topics by number
    </h3>
    <p>
      I decided to do this in python, partly because it has some excellent libraries, and partly because it's a relatively new language for me, so it's good practice.  I'm quite sure there are better ways to do this, and I'll probably get lots of suggestions when I post this on HN, which is fine.  Just realize that I'm applying Djikstra's dictum ("don't optimise to start with") and trying to get something that works, and then improve it from there.
    </p>
    <p>
      My "psuedocode" for a first version goes something like this:
      </p><ul>
	<li>Import the libraries, with some exception checking</li>
	<li>Parse command line options (using OptionParser, it's CLI-worth)</li>
	<li>Validate options &amp; reject non-sequiturs with a usage message</li>
	<li>Read credentials from a yaml config file</li>
	<li>Read the topic from discourse to get the post number</li>
	<li>Handle a GET (pull), if that was requested, using the post number</li>
	<li>Handle a PUT (push), if that was requested, also using post number</li>
	<li>Optionally output the intermediate JSON for topic and/or post</li>
      </ul>
      Let me clarify a couple of those things:
      <ol>
	<li>First, I read the topic to get the post number because there's either a bug in the discourse API or I can't get the incantation right to update a topic.  I've tried every combination, so I think it's a bug.</li>
	<li>Second, the credentials are in an external YAML file so that they're not embedded in the code; this is pretty much standard practice, but not everybody does this, so I'm pointing it out.</li>
	<li>Third, I'm adding a way to output the intermediate JSON for topic and/or post, because it's useful if I want to find some other piece of metadata that I want (like, say, when the post was last edited).</li>
      </ol>
      There's also one little "gotcha" in here I havent figured out, so I'm going to work around it: For some reason, article shorter than 9000 characters don't always want to repost.  They give a vague error.  I can solve that, eventually, but for now I'm just going to pad my RAW input out to 9000 characters -- using only space -- if it's short.  Remember that all of the API tools will compress repeated spaces down to one space.  When I tested this technique, it works perfectly and doesn't slow the process down noticeably.
    
    <p>
      So without further adieu, let me just post the code I've written so far, and point to the github so you can play with it.  I'll talk more about it in a next blog:
      </p><pre>#!/usr/bin/python3
# dpub is a set of discourse publishing tools, using the discourse API
# try "dpub -h" for help and calling sequences
#
import subprocess, json, sys, getopt
from optparse import OptionParser
from yaml import load, dump
try:
    from yaml import CLoader as Loader, CDumper as Dumper
except ImportError:
    from yaml import Loader, Dumper

parser = OptionParser()
parser.add_option("-t", "--topic", dest="topic",
                  help="discourse topic to read or write (with -g or -p)")
parser.add_option("-g", "--get", action="store_true", dest="get", default=False,
                  help="read TOPIC into FILENAME; req -t &amp; -f")
parser.add_option("-p", "--put", action="store_true", dest="put", default=False,
                  help="write TOPIC from FILENAME into discourse; req -t &amp; -f")
parser.add_option("-c", "--create", action="store_true", dest="create", default=False,
                  help="create new topic and write FILENAME to it; req -f")
parser.add_option("-f", "--file", dest="filename",
                  help="file to read (-g) or write (-p, -c)", metavar="FILE")
parser.add_option("-k", "--config", dest="config_file",
                  help="config file w/URL, api-key, username (default \"dpub.yaml\")")
parser.add_option("-j", "--json", dest="json_file",
                  help="write post json to JSON_FILE when using -g, before converting")
parser.add_option("-J", "--JSON", dest="topic_json_file",
                  help="write TOPIC json to TOPIC_JSON_FILE when using -g")

(options,args) = parser.parse_args()

# get or put with no topic number
if( (options.get or options.put) and not options.topic ):
    parser.print_help()
    sys.exit()

# get or put or create with no filename
if( (options.get or options.put or options.create) and not options.filename ):
    parser.print_help()
    sys.exit()

# no options at all
if( not options.get and not options.put and not options.create \
    and not options.filename and not options.topic):
    parser.print_help()
    sys.exit()

# read config file to get api-key, api-usr, and discourse url
if(options.config_file):
    config_file = options.config_file
else:
    config_file = "/etc/dc.yaml"
cfile = open(config_file,"r")
config_data = load(cfile, Loader=Loader)

# read the topic, which is required for both get and put
# note that discourse topic put doesn't work reliably at this time,
# so dpub gets the topic to get the post number, then reads or writes the post
if( options.get or options.put ):
    print("reading the topic")
    proc = subprocess.Popen([
        'curl',
        '-X',
        'GET',
        '-H',
        'Api-Key: ' + config_data['api_key'],
        '-H',
        'Api-Username: ' + config_data['api_username'],
        '-H',
        'Content-Type: application/json',
        config_data['base_url'] + '/t/{'+str(options.topic)+'}.json'],
        stdout=subprocess.PIPE
    )
    output = proc.stdout.read()
    topic_json = json.loads(output)
    post_id = topic_json['post_stream']['posts'][0]['id']
    # if user requested the intermediate topic json, write it to other spec'd filename
    if( options.topic_json_file ):
        f2 = open(options.topic_json_file, "w")
        f2.write(str(topic_json))
        f2.close()

# get post, convert it to markdown, and write it to the specified filename
if( options.get ):
    # read the post using the api
    proc2 = subprocess.Popen([
        'curl',
        '-X',
        'GET',
        '-H',
        'Api-Key: ' + config_data['api_key'],
        '-H',
        'Api-Username: ' + config_data['api_username'],
        '-H',
        'Content-Type: application/json',
        config_data['base_url'] + '/posts/{'+str(post_id)+'}.json'],
        stdout=subprocess.PIPE
    )
    output2 = proc2.stdout.read()
    post_json = json.loads(output2)
    
    # if user requested the intermediate post json, write it to other spec'd filename
    if( options.json_file ):
        f2 = open(options.json_file, "w")
        f2.write(str(post_json))
        f2.close()

    # capture just the article text itself ('raw'), convert, &amp; write to output file
    raw = post_json['raw']
    f = open(options.filename, "w")
    f.write(str(raw))

if( options.put ):
    # load and convert the specified markdown file
    f = open(options.filename, "r")
    markdown = f.read()
    # pad the markdown to 9000 chars to avoid discourse bug
    outstr = markdown.ljust(9000)
    data = {}
    # place the markdown in the json "raw" location, covert, and write to json file
    data["raw"] = outstr
    f = ‚Ä¶</pre></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://stormrider.io/dcpub.html">http://stormrider.io/dcpub.html</a></em></p>]]>
            </description>
            <link>http://stormrider.io/dcpub.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671696</guid>
            <pubDate>Sun, 28 Jun 2020 20:14:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free Cloud Based CRM Systems Help Grow Small Business and Startups]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671335">thread link</a>) | @beginasite
<br/>
June 28, 2020 | http://www.crmfree.org/free-cloud-based-crm-systems/ | <a href="https://web.archive.org/web/*/http://www.crmfree.org/free-cloud-based-crm-systems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<article>
		<div id="content_box">
							<div id="post-3812" class="page">
					<div>
													<p><a href="http://www.crmfree.org/" rel="nofollow"><i></i>&nbsp;Home</a>&nbsp;/&nbsp;Free Cloud Based CRM Systems</p>
												<header>
							
						</header>
						<div>
							
<p>Free Cloud based CRM systems are hosted on servers at a location designated by the vendor, which could potentially be anywhere in the world. But generally the CRM vendor will try to align server location to the locale of the customer, and sometimes will allow the customer to choose the server location.</p>



<p>A user or group of users will be provided access to assign and manage user login credentials for other users within their organization. Any user who has been provided an active login can login into the application and access the data online over the internet via a web browser. </p>



<p>If a system administrator deletes or deactivates a user, that user will still be able to access the CRM login page, but will no longer be able log in and therefore no longer has access to the data and application.</p>



<div><figure><img src="http://www.crmfree.org/wp-content/uploads/2020/06/cloud_crm_lg-2-1024x533.png" alt="Free Cloud Based CRM" srcset="http://www.crmfree.org/wp-content/uploads/2020/06/cloud_crm_lg-2-1024x533.png 1024w, http://www.crmfree.org/wp-content/uploads/2020/06/cloud_crm_lg-2-300x156.png 300w, http://www.crmfree.org/wp-content/uploads/2020/06/cloud_crm_lg-2-768x400.png 768w, http://www.crmfree.org/wp-content/uploads/2020/06/cloud_crm_lg-2.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"></figure></div>



<h3>Why You Might Choose Cloud?</h3>



<ul><li>No software installation is required.</li><li>No infrastructure, such as web servers or databases, needs to be setup.</li><li>Lower upfront costs.</li><li>Get up and running quickly.</li><li>Instant and easy <a rel="noreferrer noopener" href="https://www.mozilla.org/en-US/firefox/browsers/what-is-a-browser/" target="_blank">web browser</a> access, anywhere and anytime.</li><li>Automatic updates and maintenance.</li><li>Access to the latest features and fixes without large upgrade efforts.</li><li>Lower maintenance costs.</li><li>Community of users sharing ideas and reporting bugs.</li><li>Normally multiple products releases each year.</li></ul>



<h3>Why You Might Not Choose Cloud?</h3>



<ul><li>Online storage space is often limited.</li><li>Number of allowed users is often limited.</li><li>Free versions normally only offer a limited feature set.</li><li>Normally must upgrade to a paid version for the complete feature set. </li><li>Data can not always be easily exported or migrated to other systems.</li></ul>



<h3>List of Free Cloud Based CRM Solutions</h3>



<p>Since the vendor provides the infrastructure and does the initial setup, cloud solutions are normally a better fit for small business and startups who may not have the resources to support and maintain the infrastructure for a  <a href="http://www.crmfree.org/free-open-source-crm-software/">self-hosted solution</a>.</p>







													</div><!--.post-content box mark-links-->
					</div>
				</div>
				<!-- You can start editing here. -->
<!-- If comments are closed. -->


					</div>
	</article>
		</div></div>]]>
            </description>
            <link>http://www.crmfree.org/free-cloud-based-crm-systems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671335</guid>
            <pubDate>Sun, 28 Jun 2020 19:23:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Marketing Analytics and Data Science West 2020 Online Conference]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671328">thread link</a>) | @aimlevents
<br/>
June 28, 2020 | https://aiml.events/events/marketing-analytics-and-data-science-west-2020 | <a href="https://web.archive.org/web/*/https://aiml.events/events/marketing-analytics-and-data-science-west-2020">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>Join the New Business Power Team: Data Science, Marketing Analytics, and Insights. Over the course of three days, discover the infinite possibilities that emerge when data science, marketing analytics, insights, and marketing executives break down silos and work together to drive bottom line impact across an organization.</p>
<p>Every business recognizes that customer data is critical to growth. But it‚Äôs not enough to just collect and analyze data. Winning organizations are those that seamlessly embed data, analytics, &amp; insights into the fabric of the organizations‚Äô decision-making process.</p>
<p>All sessions and speakers at MADS: Marketing Analytics &amp; Data Science focus on three core principles: Best practices for ensuring synergy between data science and analytics; hacks to ensure a data-driven mindset is embedded into your organizational culture, and proven strategies for enhancing the value of impact in the overall organization.</p>
<h2>Core Topics</h2>
<p>B2B MARKETING &amp; ANALYTICS: B2B marketing and analytics is a whole different ballgame than B2C. Understand the distinction. Get the leg up you need.</p>
<p>ANALYTICS: From Web analytics to predictive, making informed business decisions is key to gaining insights and achieving a meaningful path forward.</p>
<p>BUILDING TEAMS &amp; SOURCING TALENT: Finding the right skillset in a candidate while keeping current employees' skillsets fresh is essential to building, scaling and strategizing teams. Learn the fundamentals needed for raising your dream team.</p>
<p>MARTECH: Capture best practices and see successful MarTech stacks that increase ROI and smartly use marketing dollars.</p>
<p>ARTIFICIAL INTELLIGENCE AND MACHINE LEARNING: Witness cutting-edge, real-world examples of AI and ML and see how they can enhance your business‚Äô bottom line.</p>
<p>LIFECYCLE MARKETING: A consumer's journey from a prospect to converting to becoming an advocate is an intricate process. Master all you need to know and elevate your customer‚Äôs lifetime value.</p></section><div><div><h2>Upcoming AI&nbsp;&amp;&nbsp;ML Events Newsletter</h2><p>Monthly to your email. No spam. Trusted by AI&nbsp;&amp;&nbsp;ML experts.</p></div></div></div>]]>
            </description>
            <link>https://aiml.events/events/marketing-analytics-and-data-science-west-2020</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671328</guid>
            <pubDate>Sun, 28 Jun 2020 19:22:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: 360¬∫ panoramic render using my 3D engine]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23671310">thread link</a>) | @atum47
<br/>
June 28, 2020 | https://victorribeiro.com/3Dsphere/ | <a href="https://web.archive.org/web/*/https://victorribeiro.com/3Dsphere/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://victorribeiro.com/3Dsphere/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671310</guid>
            <pubDate>Sun, 28 Jun 2020 19:20:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing the Exponential Function]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 50 (<a href="https://news.ycombinator.com/item?id=23671262">thread link</a>) | @hackernewsn00b
<br/>
June 28, 2020 | https://www.pseudorandom.com/implementing-exp | <a href="https://web.archive.org/web/*/https://www.pseudorandom.com/implementing-exp">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p><em>I explore several sophisticated approximation techniques for implementing the exponential function, $f(x) = e^x$, including Taylor series approximation, Lagrange interpolation, Chebyshev interpolation, Carath√©odory-Fejer approximation and MiniMax approximation. This also serves as a more general introduction to the use of these methods for approximating other functions. In the process I walk through the relevant theory for each method and apply numerical analysis to navigate various forms of error. I also include my own Python and C++ implementations of each algorithm in double precision<label for="cb-1"><sup id="footnote-1"><span>1</span></sup></label><span><p>1:  Note that the implementations included here will both output <strong>and</strong> calculate in double precision. We can still apply sophisticated methods in this setting, but as a general rule you‚Äôll need higher intermediate precision to obtain an approximation which is indistinguishable from the true value in double precision. This is one (but not the only) reason why it‚Äôs generally advisable to use an optimized <code>exp(x)</code> function provided by your platform rather than write one from scratch.</p></span> with heavy commentary. Finally, I analyze each implementation‚Äôs performance and accuracy characteristics using the hyper-optimized, platform-provided <code>exp(x)</code> function as a benchmark.<label for="cb-2"><sup id="footnote-2"><span>2</span></sup></label><span><p>2:  In most cases, whichever numerical library you‚Äôre using will map to the platform-provided <code>exp(x)</code> function. For example, this is what <code>numpy.exp</code> does <a href="https://github.com/numpy/numpy/blob/master/numpy/core/src/npymath/npy_math_internal.h.src#L451-L471">under the hood</a>.</p></span> The Background section opens with the motivating properties of $e^x$ and the basics of floating point systems. The code for each technique is included under the corresponding Implementation heading.</em></p>

<h2 id="section-0"><a href="#section-0">Background</a></h2>

<h3 id="section-1"><a href="#section-1">Taylor series</a></h3>

<p>To motivate the definition of $e$, we will recall some calculus. Let $f$ be a <a href="https://mathworld.wolfram.com/SmoothFunction.html">smooth</a> function at $a$. This is to say that $f$ is infinitely <a href="https://mathworld.wolfram.com/Differentiable.html">differentiable</a> at some real value $a$: for every $k^{\text{th}}$ derivative $f^{(k)}$, we can differentiate $f^{(k)}$ again to obtain the $(k + 1)^{\text{th}}$ derivative $f^{(k + 1)}$. By definition, any function with this property which can also be uniquely represented as a <a href="https://mathworld.wolfram.com/TaylorSeries.html">Taylor series</a> expansion ‚Äúcentered‚Äù at $a$ is called <a href="https://mathworld.wolfram.com/RealAnalyticFunction.html">analytic</a>. The Taylor series of $f$ centered at $a$ and evaluated at $x$ is defined to be</p>

<p>$$
f(x) = \frac{f(a)}{0!}(x - a)^0 + \frac{f‚Äô(a)}{1!}(x - a)^1 + \ldots + \frac{f^{(k)}(a)}{k!}(x - a)^k + \ldots
$$</p>

<p>This is a <a href="https://mathworld.wolfram.com/PowerSeries.html">power series</a>, or infinite polynomial with one variable. The center of expansion determines a neighborhood of values returned by the Taylor series, and the coefficient of each <em>Taylor term</em> is determined by repeatedly differentiating the function $f$ and evaluating it at $a$. A common center of expansion is $a$ = 0, in which case the Taylor series is also called a <a href="https://mathworld.wolfram.com/MaclaurinSeries.html">Maclaurin series</a> and the series is centered around the origin. This can be considered the ‚Äúdefault‚Äù setting. If you cut off all terms of the Taylor expansion after some term $k$, you obtain a polynomial with degree $k$. The coefficient of the $k^{\text{th}}$ term of the series (or polynomial, if truncated) is given by</p>

<p>$$
a_{k} = \frac{f^{(k)}(a)}{k!}
$$</p>

<p>where 0! = 1.</p>

<p>For a concrete example, consider the Taylor series expansion of the <a href="https://mathworld.wolfram.com/Sine.html">sine</a> function. The sine function is not only infinitely differentiable, but cyclic.</p>

<p>$$
\begin{aligned}
\sin^{(1)}(x) &amp;= \cos(x), \\
\sin^{(2)}(x) &amp;= \cos^{(1)}(x) = -\sin(x), \\
\sin^{(3)}(x) &amp;= -\sin^{(1)}(x) = -\cos(x), \\
\sin^{(4)}(x) &amp;= -\cos^{(1)}(x) = \sin(x)
\end{aligned}
$$</p>

<p>We determine each $k^{\text{th}}$ coefficient of the Taylor series by evaluating $f^{(k)}$ at $a$ and dividing it by the factorial of $k$. If we want to expand the sine function around the origin ($a$ = 0), we obtain the cyclic coefficients</p>

<p>$$
\begin{aligned}
\sin(0) &amp;= 0, \\
\sin^{(1)}(0) &amp;= \cos(0) = 1, \\
\sin^{(2)}(0) &amp;= \cos^{(1)}(0) = -\sin(0) = 0, \\
\sin^{(3)}(0) &amp;= -\sin^{(1)}(0) = -\cos(0) = -1, \\
\sin^{(4)}(0) &amp;= -\cos^{(1)}(0) = \sin(0) = 0
\end{aligned}
$$</p>

<p>Since $(x - 0)^{k} = x^{k}$, we have the Taylor series expansion</p>

<p>$$
\sin(x) = x - \frac{x^3}{3!} + \frac{x^5}{5!} - \frac{x^7}{7!} + \frac{x^9}{9!} - \ldots
$$</p>

<p>Truncating the Taylor expansion of a function $f$ at any term $k$ gives a finite approximation of $f$ using the $k$ degree <em>Taylor polynomial</em>. A Taylor polynomial of $f$ centered at $a$ produces very accurate approximations of $f(x)$ when $x$ is relatively close to $a$. As the absolute value of $x$ increases away from $a$, the accuracy of the Taylor polynomial rapidly decreases, which means it requires more terms of the Taylor series (i.e. a higher degree polynomial) for accurate approximation. Consider the following plot, which shows the values of $\sin(x)$ over the interval $[-20, 20]$ compared to its Taylor polynomials of degree 1, 3, 5, 7 and 9 centered at $a$ = 0.</p>

<figure>
  <p><a href="https://www.pseudorandom.com/assets/images/articles/implementing-exp/sin_taylor_series.svg"><img src="https://www.pseudorandom.com/assets/images/articles/implementing-exp/sin_taylor_series.svg"></a></p>
  <figcaption>$T_{n}$ denotes the degree $n$ Taylor polynomial of $\sin$</figcaption>
</figure>

<p>Observe that the Taylor approximation of $\sin(x)$ is more accurate when $x$ is near $a$ = 0, but quickly flies away from the true value of $\sin(x)$ further away from 0. The degree 1 Taylor polynomial is only an accurate approximation for $\sin(x)$ for a very small interval near the origin, whereas the degree 9 Taylor polynomial is very accurate within $[-5, 5]$. How long the approximation holds until it becomes extremely inaccurate depends on the number of terms of the Taylor polynomial. A higher degree polynomial will maintain a better approximation of $\sin(x)$ for longer, but any finite polynomial will eventually become extremely inaccurate.</p>

<h3 id="section-2"><a href="#section-2">Defining $e$</a></h3>

<p>The <a href="https://mathworld.wolfram.com/e.html">mathematical constant</a> $e$ is (almost) entirely motivated by the very nice properties it exhibits under exponentiation. In particular, the definition of $e$ was born out of the desire to find a continuous function which is its own derivative and which maps the additive identity 0 to the multiplicative identity 1. This is because solving difficult integration and differentiation problems is vastly more expedient with such a function. By extension a significant fraction of problems in applied mathematics and physics reduce to solving differential equations, for which such a function is fundamental.</p>

<p>As it happens, $f(x) = e^x$ uniquely satisfies this property. We can show this, and define $e$ directly in the process, by starting from the Taylor series representation of an arbitrary function $f$ infinitely differentiable at $a$ = 0. Suppose $a_0, a_1, \ldots$ are the coefficients of the Taylor series of $f$ centered at $a$. Then we have the Taylor series</p>

<p>$$
f(x) = a_0 + a_1 x + a_2 x^2 + a_3 x^3 + \ldots
$$</p>

<p>It follows from the linearity of differentiation that the Taylor series expansion of the first derivative $f‚Äô$ is</p>

<p>$$
f‚Äô(x) = a_1 + 2a_2 x + 3a_3 x^2 + \ldots
$$</p>

<p>To determine a function which is its own derivative, we solve for the coefficients $a_0, a_1, \ldots$ which satisfy $f = f‚Äô$:</p>

<p>$$
a_0 + a_1 x + a_2 x^2 + \ldots = a_1 + 2a_2 x + 3a_3 x^2 + \ldots
$$</p>

<p>From here we can see the pattern</p>

<p>$$
\begin{aligned}
a_0 &amp;= a_1, \\
a_1 &amp;= 2a_2, \\
a_2 &amp;= 3a_3
\end{aligned}
$$</p>

<p>and so on, which is equivalent to</p>

<p>$$
\begin{aligned}
a_1 &amp;= a_0, \\
a_2 &amp;= \frac{a_1}{2}, \\
a_3 &amp;= \frac{a_2}{3}
\end{aligned}
$$</p>

<p>By induction we have a <a href="https://mathworld.wolfram.com/RecurrenceEquation.html">recurrence relation</a> which defines the $k^{\text{th}}$ coefficient $a_k$</p>

<p>$$
a_k = \frac{a_{k - 1}}{k}
$$</p>

<p>Given $a_0$ = 1, we find that the Taylor series of a function which is its own derivative is</p>

<p>$$
f(x) = 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \ldots.
$$</p>

<p>We denote this function with $e^x$, where $e$ is defined to be the value of this function at $x$ = 1.</p>

<p>$$
e = f(1) = \sum_{k = 0}^{\infty}\frac{1}{k!} = 2.7183\ldots
$$</p>

<p>A more intuitive illustration of why $e^x$ is special is given by the following graph, in which exponential functions with various bases are plotted alongside their derivatives. An exponential function with a base less than $e$, like $b$ = 2, grows more quickly than its derivative. But when the base is greater than $e$, like $b$ = 4, it grows less quickly than its derivative.</p>

<figure>
  <p><a href="https://www.pseudorandom.com/assets/images/articles/implementing-exp/exp_comp.svg"><img src="https://www.pseudorandom.com/assets/images/articles/implementing-exp/exp_comp.svg"></a></p>
  <figcaption>When $b &lt; e$, we have $f'(x) &lt; f(x)$. When $b &gt; e$, we have $f'(x) &gt; f(x)$. But $b = e$ is the "goldilocks" base at which $f'(x) = f(x)$.</figcaption>
</figure>

<h3 id="section-3"><a href="#section-3">Floating point</a></h3>

<p>There is an intrinsic tension in that we want to determine accurate values of $e^x$ without doing too much work. Before we can consider the efficiency of an algorithm, we need to consider its accuracy. This leads us to define a variety of types of error, the most important of which comes from the way we approximate real numbers. It‚Äôs often impossible to calculate the exact value of $f(x)$ for an arbitrary function $f$, because computers can‚Äôt work with arbitrary real numbers.<label for="cb-3"><sup id="footnote-3"><span>3</span></sup></label><span><p>3:  <a href="https://en.wikipedia.org/wiki/Almost_all">Almost all</a> real numbers are not <a href="https://mathworld.wolfram.com/ComputableNumber.html">computable</a>. The reals which are computable are frequently not exactly representable to a desirable level of accuracy because they‚Äôre either irrational (and therefore have infinite decimal expansions) or rational with very long decimal expansions.</p></span> The best we can do is approximate the value to some acceptable accuracy.</p>

<p>The <a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a> <em>floating point</em> standard discretizes real intervals into a computable form by mapping all nearby real values in given neighborhoods to a single rounded value. Internally, an IEEE 754 binary floating point number $N$ is represented using the normalized form</p>

<p>$$
N = \pm b_1.b_2b_3 \ldots b_p \times 2^{E_{k}}
$$</p>

<p>where the first bit is allocated for the sign (the <em>sign bit</em>), the $p$ bits $b_1.b_2b_3 \ldots b_p$ comprise the <em>mantissa</em>, or <em>significand</em>, and $E_{k}$ is an integer exponent consisting of $k$ bits. Note that since this form is normalized, $b_1 = 1$, while each of $b_2, \ldots b_p$ may equal 0 or 1. IEEE 754 single precision binary floating point numbers have a total size of $32$ bits: $8$ are allocated for the exponent $E \in [-126, 127]$ and $23$ are allocated for the mantissa (with $p$ = 24 accounting for the normalized bit). Thus you can represent $2^{32}$ different values in single precision floating point, with underflow and overflow limits of $2^{127} \approx 3.4 \times 10^{38}$ and $2^{-126} ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.pseudorandom.com/implementing-exp">https://www.pseudorandom.com/implementing-exp</a></em></p>]]>
            </description>
            <link>https://www.pseudorandom.com/implementing-exp</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671262</guid>
            <pubDate>Sun, 28 Jun 2020 19:14:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Catching Let's Encrypt Downtime ‚Äì with a global monitoring]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671236">thread link</a>) | @enigmabridge
<br/>
June 28, 2020 | https://blog.keychest.net/keep-an-eye-on-lets-encrypt-performance | <a href="https://web.archive.org/web/*/https://blog.keychest.net/keep-an-eye-on-lets-encrypt-performance">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Let‚Äôs Encrypt automates certificate renewals. It sells the idea that you install a client and don‚Äôt have to think about it again. This requires reliability that has to start with Let‚Äôs Encrypt itself. We can now see that with KeyChest.</p>
<!--more-->

<p>The problem of any automation is that it breaks without warning. Let‚Äôs Encrypt is brilliant in providing us with certificates. What it does not offer is any service beyond that. The service that would mitigate the risk of 6 renewals instead of usual one.</p>
<p>It is not unusual to build own infrastructure monitoring but what should you do when renewals suddenly start failing. Has something happened on your servers or is the Let‚Äôs Encrypt certification authority down?</p>
<p>Let‚Äôs Encrypt has its own manually edited status page - <a href="https://letsencrypt.status.io/" rel="noopener" target="_blank">https://letsencrypt.status.io</a><span>. I used this for a couple of uptime analysis before. It provides more detail than any other verification authority (CA) provides but it still contains a lot of uncertainty.</span></p>
<p>We have now launched an independent monitoring of Let‚Äôs Encrypt CA. It continually request certificates and stores detailed information for each response. This allows a detailed view into the Let‚Äôs Encrypt performance.</p>
<p><a href="https://keychest.net/letsencrypt" rel=" noopener"><img src="https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=1024&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png" width="1024" alt="Let‚Äôs Encrypt latency" srcset="https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=512&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 512w, https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=1024&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 1024w, https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=1536&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 1536w, https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=2048&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 2048w, https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=2560&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 2560w, https://blog.keychest.net/hs-fs/hubfs/7BC2E56B-9520-4F16-B65C-D5393040BC4B.png?width=3072&amp;name=7BC2E56B-9520-4F16-B65C-D5393040BC4B.png 3072w" sizes="(max-width: 1024px) 100vw, 1024px"></a></p>
<p><em>Figure: Let‚Äôs Encrypt latency for the last 60 minutes.</em></p>
<p>You can see the last hour of monitoring online at <a href="https://keychest.net/letsencrypt">https://keychest.net/letsencrypt</a><span>. You can also sign-up for weekly reports and updates.<br></span></p>
<h2><span>First Downtime Detection </span></h2>
<p>When we were &nbsp;checking for errors in log files on 25 June, we suddenly saw loads of failures. It didn‚Äôt occur to us that we can actually see a real time a Let‚Äôs Encrypt downtime. I confess that we had to improve data processing to see the downtime in the dashboard. Eventually we could see what the monitoring servers detected.</p>
<p><a href="https://keychest.net/letsencrypt" rel=" noopener"><img src="https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=1080&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png" alt="First downtime detection - Les Encrypt" width="1080" srcset="https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=540&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 540w, https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=1080&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 1080w, https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=1620&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 1620w, https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=2160&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 2160w, https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=2700&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 2700w, https://blog.keychest.net/hs-fs/hubfs/Canva%20images/First%20downtime%20detection%20-%20Les%20Encrypt.png?width=3240&amp;name=First%20downtime%20detection%20-%20Les%20Encrypt.png 3240w" sizes="(max-width: 1080px) 100vw, 1080px"></a></p>
<p><em>Figure: The first detection of a Let‚Äôs Encrypt Downtime</em>.</p>
<p>What I find amazing is that our servers detected the downtime 11 minutes before Let‚Äôs Encrypt did it itself. <a href="https://letsencrypt.status.io/pages/history/55957a99e800baa4470002da" rel="noopener" target="_blank">It‚Äôs official entry</a> states the start of the incident at 7:04am. We looked at our logs and that was the moment when the internet facing RESTful API started returning a new error after its caching was exhausted.</p>
<p>Here is a brief dissection of failures recorded by our monitoring servers.</p>
<h3>Frankfurt</h3>
<p>What can we see in the test logs? Let's have a look at the&nbsp; Frankfurt server:</p>
<p><code>06:53:45 - failed to create a <strong>new_account</strong> - connection was refused</code></p>
<p><code>06:53:44 - <strong>new_order</strong> - the initial message starting an issuance transaction failed with an error message "No Key ID in JWS header" - HTTP code 400</code></p>
<p>(at this point "dir" and "nonce" request worked correctly)</p>
<p><code>06:54:07 -&nbsp; <strong>new_account</strong> fails again - the message is "Unknown desc = failed to select one blockedKeys" and also&nbsp; "Too&nbsp; many connections"</code></p>
<p>The server continued attempts to initiate renewals in 30 second intervals. Each attempt included:</p>
<ul>
<li>dir - request for a list of the API endpoints - correct response</li>
<li>nonce - request for a new random transaction nonce - correct reponse</li>
<li>new_account - "failed to select one blockedKeys" / '"Too many connections"</li>
<li>new_order&nbsp; - "No Key ID in JWS header"</li>
</ul>
<p>The responses were the same up to <strong>07:06:38am</strong>. At this point the "dir" command fails with <strong>HTTP code 503 - Service Unavailable</strong>. At this point, Let's Encrypt seems to have noticed a problem.</p>
<p>The "dir" command continued to fail till <strong>07:16:53</strong>&nbsp; when it returned the first correct response. And the server got the first certificate finalized at <strong>7:17:00</strong>.</p>
<h3>Mombai</h3>
<p>The Mombai server has shown the first failure on the "finalize" command&nbsp; - submission of the CSR.</p>
<p>0<code>6:53:58 - <strong>new_order</strong> fails with an error "Error retrieving account", HTTP code 500</code></p>
<p><code>06:59:27 - attempt for new_account fails with "Unknown desc = failed to select one blockedKeys"</code></p>

<p>errors now become identical to those recorded by the Frankfurt server.</p>
<p><code>07:07:26 - the <strong>dir</strong> command fails for the first time.</code></p>
<p>The first correct response&nbsp; was then&nbsp; received&nbsp; at&nbsp; <strong>07:16:54</strong>.</p>
<h3>Singapore</h3>
<p>The Singapore server recorded the first failure at&nbsp; <strong>06:53:54</strong> when the new_order was refused.</p>
<p>The events were similar to those on the Mombai server with the first dir failing at <strong>07:07:09</strong>. And the recovery at <strong>07:16:53</strong>.</p>
<h3>N. Virginia</h3>
<p>The server in N. Virginia, US detected the first failure at 06:53:33 and the recovery is shown at <strong>07:16:53</strong>.</p>

<h2>System Design</h2>
<p>the monitoring system consists of completely autonomous servers that collect the performance data. This is transformed into hourly stats and compiled into reports once a week.&nbsp;<br>Online reports query the monitoring servers directly to obtain fresh data that is then presented to the visitors of <a href="https://keychest.net/letsencrypt" rel=" noopener">https://keychest.net/letsencrypt</a>.</p>
<p><br><!--HubSpot Call-to-Action Code --><span id="hs-cta-wrapper-41090bbe-73d8-46e9-9666-66ebb7dc2639"><span id="hs-cta-41090bbe-73d8-46e9-9666-66ebb7dc2639"><!--[if lte IE 8]><div id="hs-cta-ie-element"></div><![endif]--><a href="https://cta-redirect.hubspot.com/cta/redirect/7158198/41090bbe-73d8-46e9-9666-66ebb7dc2639"><img id="hs-cta-img-41090bbe-73d8-46e9-9666-66ebb7dc2639" src="https://no-cache.hubspot.com/cta/default/7158198/41090bbe-73d8-46e9-9666-66ebb7dc2639.png" alt="Try Instant domain audit Now"></a></span></span><!-- end HubSpot Call-to-Action Code --></p>
<p><br>We believe that the monitoring only makes sense if it provides a sufficient granularity and also a good reliability of its results. We decided that we use 4 or more monitoring servers running in different locations. Locations provided by Amazon data centers. The setup consists of:</p>
<p>Production Let‚Äôs Encrypt monitoring:</p>
<ul>
<li>Mombai, India</li>
<li>Frankfurt, Germany</li>
<li>Singapore</li>
<li>N. Virginia, US</li>
</ul>
<p>As we have to comply with rate limits, we monitor the production Let‚Äôs Encrypt API (application interface) with 400 domain names. this allows us to run monitoring with two transactions per minute.</p>
<p>Staging Let‚Äôs Encrypt monitoring:</p>
<ul>
<li>Ohio, US</li>
<li>N. California, US</li>
<li>Tokyo, Japan</li>
<li>London, UK</li>
<li>Sydney, Australia</li>
</ul>
<div><p>The monitoring here is more frequent - at four transactions per minute.</p></div>
<p>Have a suggestion, interested in more granular information, want to chat? Let me know at <a href="mailto:Dan.c@keychest.net" rel=" noopener">Dan.c@keychest.net.</a></p></span>
</p></div>]]>
            </description>
            <link>https://blog.keychest.net/keep-an-eye-on-lets-encrypt-performance</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671236</guid>
            <pubDate>Sun, 28 Jun 2020 19:10:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Visual Paper Summary: Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671183">thread link</a>) | @mpaepper
<br/>
June 28, 2020 | https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/ | <a href="https://web.archive.org/web/*/https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h2 id="new-blog-series-deep-learning-papers-visualized">New blog series: Deep Learning Papers visualized</h2>
<p>This is the first post of a new series I am starting where I explain the content of a paper in a visual picture-based way.
To me, this helps tremendously to better grasp the ideas and remember them and I hope this will be the same for many of you as well.</p>
<h2 id="todays-paper-accurate-large-minibatch-sgd-training-imagenet-in-1-hour-by-goyal-et-al">Today‚Äôs paper: Accurate, Large Minibatch SGD: Training ImageNet in 1 Hour by Goyal et al.</h2>
<p>The first paper I‚Äôve chosen is well-known when it comes to training deep learning models on multiple GPUs. Here is the link to the <a href="https://arxiv.org/abs/1706.02677">paper of Goyal et al.</a> on arxiv.
The basic idea of the paper is this: when you are doing deep learning research today, you are using more and more data and more complex models. As the complexity and size rises, of course also the computational needs rise tremendously. This means that you typically need much longer to train a model to convergence.
But if you need longer to train a model, your feedback loop is long which is frustrating as you already get many other ideas in the mean time, but as it takes so long to train, you cannot try them all out.
So what can you do?</p>
<p>You can train on multiple GPUs at the same time and in theory get results faster the more GPUs you use. Assume you need 1 week to train your model on a single GPU, then with 2 GPUs in parallel, you should be able to achieve the same training in about 3.5 days and when using 7 GPUs you only need a day.</p>
<p>So how does it work to train your model on multiple GPUs? Typically, data parallelization is used which simply means that when you have your epoch, you send some distinct data to each distinct GPU. But then how do you get a model that benefits from all the data? Basically, you always synchronize the gradients, so after each batch, you collect the gradients from each GPU, calculate the average of the gradients over all GPUs and then adjust the model weights.</p>
<p>Let‚Äôs take a visual look at this:</p>

  <figure>
    <img src="https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/multi_gpu_training_batch_sizes.png" alt="Training the same amount of data on 1 vs 2 vs 4 GPUs">
    
      <figcaption>Training the same amount of data on 1 vs 2 vs 4 GPUs</figcaption>
    
  </figure>


<h3 id="increasing-the-batch-size---increasing-the-learning-rate">Increasing the batch size -&gt; increasing the learning rate</h3>
<p>Note what happens when you do this: your batch size is rising!
Let‚Äôs say you have 200 images per epoch and your batch size is 10. Then for a single GPU, you have 20 batches per epoch √† 10 images. If you train on 2 GPUs, then your batch size is twice the size: 20. That‚Äôs because each of your two GPUs gets 10 images and calculates the gradients of those 10 and then you take the average of the gradients of those 2 GPUs, so your gradients are averaged over 20 images. This means that your epoch now only has 10 batches per epoch √† 20 images. So by increasing the batch size, your are also reducing the number of batches per epoch and this in turn is exactly why it‚Äôs almost (except for the synchronization overhead) twice as fast to train.
Similarly, if you were to use 4 GPUs, then each GPU receives 10 images per batch, so your effective batch size is 40. Thus, you only need 5 batches per epoch to train your 200 images.</p>
<p>But in turn, if you only use 5 batches per epoch instead of 20, that also means that you are only taking 5 gradient descent steps instead of 20 on a single GPU.
We need to take a look what that means:</p>

  <figure>
    <img src="https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/formula_3_and_4.png" alt="Equations 3 and 4 from the paper">
    
      <figcaption>Equations 3 and 4 from the paper</figcaption>
    
  </figure>


<p>Equation 3 represents the single GPU case after k iterations, in our case let‚Äôs take k = 4, so after 4 batches. This means we were updating our weights 4 times which is the first sum with j &lt; k, so j=0, j=1, j=2 and j=3. The second sum is the loop over the images in the corresponding batch and we calculate the gradient ($\nabla l$) determined by our weights at that time t+j and the image example x. We divide everything by n which is just the batch size, so n=10 in our example case and multiply by the learning rate $\eta$.</p>
<p>In contrast, equation 4 represents the multi GPU case for 4 GPUs (as we had k = 4). The 4 GPUs only take a single gradient descent step as the batch size is 4 times as large ($kn=4*10=40$). In this case, the first sum with j &lt; k is over our 4 GPUs and the seconds sum over the batch of each individual GPU. As we take the average of all of these, we divide by $kn=40$. This means that our step is k times smaller.</p>
<p>Now, the main idea of the paper is that we can make sure that the step size is roughly the same by scaling up our learning rate by the number of GPUs we are using: $\hat{\eta}=k * \eta$.
By doing so, equations 3 and 4 become roughly the same, because $\hat{\eta} * \frac{1}{kn} = k*\eta * \frac{1}{kn} = \eta * \frac{k}{kn} = \eta * \frac{1}{n}$.</p>
<p>Or to visualize:</p>

  <figure>
    <img src="https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/four_steps_is_one_step.png" alt="Four SGD steps on a single GPU is a single step with four GPUs">
    
      <figcaption>Four SGD steps on a single GPU is a single step with four GPUs</figcaption>
    
  </figure>


<h3 id="intuition">Intuition</h3>
<p>To summarize so far: when we increase the number of GPUs to train with, we are increasing the effective batch size which leads to less batches per epoch and thus less SGD training steps. To compensate for less steps, we need to scale the learning rate linearly. This is simple: multiply the original single GPU learning rate by the number of GPUs you are using to train now. For example if your learning rate was 1e-3 before with a single GPU and now you train with 4 GPUs, then simply increase it to 4e-3.</p>
<p>Why does it intuitively make sense to scale the learning rate?</p>
<p>When your batch size is larger you will get a better estimate of the direction of the gradient in the right direction -&gt; your gradients are less fuzzy. Thus, when you have a more representative gradient, it makes sense to be able to take a larger step as the likelihood of walking in the wrong direction is reduced by the larger sample of examples.</p>
<p>Here is an illustration with the single GPU model taking 4 small steps (yellow) and the 4 GPU model taking 1 larger step (blue; the learning rate is multiplied by 4, so the step is four times as large):</p>

  <figure>
    <img src="https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/gradients.png" alt="Illustration of gradient steps in the weight space. Red circle is the target / optimal weight configuration. Starting from a weight initialization in the left of the image, the single GPU model (yellow) takes 4 noisy steps. In contrast, the 4 GPU model (blue) takes a single larger step in a better approximated direction.">
    
      <figcaption>Illustration of gradient steps in the weight space. Red circle is the target / optimal weight configuration. Starting from a weight initialization in the left of the image, the single GPU model (yellow) takes 4 noisy steps. In contrast, the 4 GPU model (blue) takes a single larger step in a better approximated direction.</figcaption>
    
  </figure>


<h3 id="problem-initial-large-learning-rates">Problem: initial large learning rates</h3>
<p>The authors note that the learning process is most vulnerable in the beginning, because the weights are initialized at random and steps in the wrong direction can lead to a suboptimal space. Thus, they argue that the learning rate should not be immediately set to the higher value, but rather a learning rate annealing schedule should be used, so it starts low and then increases over time.</p>
<p>They try out different warm-up schedules and conclude that it works best to warm-up over 5 epochs, so that after 5 epochs the maximal learning rate is reached. However, I already observed machine learning models where a longer warm-up period is required, so you should try it out for your own problem.</p>
<p>How does this look like in practice? Assume your learning rate for single GPU training is 1e-3. So you want to end up at 4e-3 when training with 4 GPUs. So you need to add the learning rate (4-1) times to itself over 5 epochs: $lr_{epoch} = lr_{single-gpu} + lr_{single-gpu} * (n-1) * (epoch / 5)$. Here, $lr_{epoch}$ is the learning rate to use in a given epoch, $lr_{single-gpu}$ is the initial learning rate, n is the number of GPUs and epoch is your epoch.</p>
<p>And this is how this warm-up looks like over epochs:</p>

  <figure>
    <img src="https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/learning_rate_gradual_warmup.png" alt="Learning rate gradual warmup (orange) for 4 GPUs vs. constant learning rate for a single GPU (blue).">
    
      <figcaption>Learning rate gradual warmup (orange) for 4 GPUs vs. constant learning rate for a single GPU (blue).</figcaption>
    
  </figure>


<h3 id="summary">Summary</h3>
<p>While the paper goes into more details, I discussed the most practical aspects of it and tried to visualize the key parts.</p>
<p>In particular, when training your machine learning model with multiple GPUs, you should scale your learning rate linearly with the number of GPUs you are using.
However, due to initial instability, use a learning rate warmup period which scales the learning rate linearly over the first couple of epochs.
By doing so, you are able to achieve similar loss curves as in the single GPU training.</p>
<p>The authors were able to train a ResNet-50 on ImageNet with a batch size of 8192 (!) on 256 GPUs at the same time and thus needing only 1 hour to train ImageNet. When the increased the batch size further than this, however, the accuracy got worse than the single GPU training, so there is still a (high) limit to how much you can reduce the training time by using more GPUs.</p>
<p>If you want to see how to implement this in PyTorch, check out <a href="https://www.paepper.com/blog/posts/pytorch-multi-gpu-training-for-faster-machine-learning-results/">my article PyTorch multi-GPU training for faster machine learning results</a>.</p>

    </div></div>]]>
            </description>
            <link>https://www.paepper.com/blog/posts/accurate-large-minibatch-sgd-training-image-net-in-1-hour/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671183</guid>
            <pubDate>Sun, 28 Jun 2020 19:03:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How I Designed the Perfect Startup Logo for $20]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23671160">thread link</a>) | @colinkeeley
<br/>
June 28, 2020 | https://colinkeeley.com/blog/how-i-designed-the-perfect-startup-logo-for-20 | <a href="https://web.archive.org/web/*/https://colinkeeley.com/blog/how-i-designed-the-perfect-startup-logo-for-20">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site">

      

      <main id="page" role="main" data-content-field="main-content" data-controller="FadeInContent">

        <div data-content-field="main-content" data-item-id="5ef8a8243895911144cbe029">
  
  <div>
    <p><time datetime="2020-06-28" pubdate="">
      <p><span>Jun </span><span>28</span>
      </p>
    </time></p><h2 data-content-field="title"><time datetime="2020-06-28" pubdate="">Jun 28 </time>How I Designed the Perfect Startup Logo for $20</h2>

    
  </div>
  

  <div>
    <article id="article-5ef8a8243895911144cbe029">
      
      
      <div data-controller="BlogProgressBar">
        
        
        <div><div data-layout-label="Post Body" data-type="item" data-updated-on="1593354946896" id="item-5ef8a8243895911144cbe029"><div><div><div data-block-type="2" id="block-669bf59b698de3db9753"><div><p>You can engage a fancy design agency and pay tens of thousands of dollars (or more!) for a nice logo or you can follow what I do.&nbsp;The results are similar. </p><p>With a design agency, you are really paying for their creativity. The technical skills of making a logo are cheap with global labor.&nbsp;</p><p>Here is how I made the <a href="http://avocadoaudio.com/">Avocado</a> logo in under an hour and for less than $20. </p><p><strong>Step 1: Browse Dribbble for inspiration</strong></p><p><a href="https://dribbble.com/">Dribbble</a>&nbsp;is a community for the world‚Äôs best designers to post their work. It is the place to go for design inspiration.&nbsp;</p><p>I like to search for related keywords and heart the designs I like to save them for later.&nbsp;</p><p><a href="http://avocadoaudio.com/">Avocado</a> is a platform for the world‚Äôs best audio courses and I wanted our design to reflect that. </p><p>For the logo, I wanted to combine an avocado design with an audio design.&nbsp;</p><p>Here are some Avocado designs I liked. </p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1593355161879_14665"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356024485-NDRC1C9QJLS52U932JNI/ke17ZwdGBToddI8pDm48kF4jcSjPem6tm7qw-KiYknZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfDl4lOmv_lcnZlzQZYIkWYqhkHxkNQ79Tfxn9mftvcAZDqXZYzu2fuaodM4POSZ4w/Screen+Shot+2020-06-28+at+9.53.17+AM.png" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356024485-NDRC1C9QJLS52U932JNI/ke17ZwdGBToddI8pDm48kF4jcSjPem6tm7qw-KiYknZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfDl4lOmv_lcnZlzQZYIkWYqhkHxkNQ79Tfxn9mftvcAZDqXZYzu2fuaodM4POSZ4w/Screen+Shot+2020-06-28+at+9.53.17+AM.png" data-image-dimensions="2436x1366" data-image-focal-point="0.5,0.5" alt="Screen Shot 2020-06-28 at 9.53.17 AM.png" data-load="false" data-image-id="5ef8aef13895911144cc9f7d" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356024485-NDRC1C9QJLS52U932JNI/ke17ZwdGBToddI8pDm48kF4jcSjPem6tm7qw-KiYknZ7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfDl4lOmv_lcnZlzQZYIkWYqhkHxkNQ79Tfxn9mftvcAZDqXZYzu2fuaodM4POSZ4w/Screen+Shot+2020-06-28+at+9.53.17+AM.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1593355161879_14955"><p>And some audio sound waves designs I liked.&nbsp;</p></div><div data-block-type="5" id="block-yui_3_17_2_1_1593354253719_30245"><div>








  

    

      <figure data-scrolled="" data-test="image-block-v2-outer-wrapper">

        <div>
          
            <div data-animation-role="image" data-description="">
            
            <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593354993618-9N2NELPHVHCHXK4ISRJ3/ke17ZwdGBToddI8pDm48kLUv7-PsjUbiVM-forBaZ4B7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfX4EixnL6uTsBw9neJ_EVYu1KP8FQDOkVWurveTQ4SHoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-06-28+at+8.47.28+AM.png" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593354993618-9N2NELPHVHCHXK4ISRJ3/ke17ZwdGBToddI8pDm48kLUv7-PsjUbiVM-forBaZ4B7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfX4EixnL6uTsBw9neJ_EVYu1KP8FQDOkVWurveTQ4SHoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-06-28+at+8.47.28+AM.png" data-image-dimensions="2446x1374" data-image-focal-point="0.5,0.5" alt="Screen Shot 2020-06-28 at 8.47.28 AM.png" src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593354993618-9N2NELPHVHCHXK4ISRJ3/ke17ZwdGBToddI8pDm48kLUv7-PsjUbiVM-forBaZ4B7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UfX4EixnL6uTsBw9neJ_EVYu1KP8FQDOkVWurveTQ4SHoRwB-dUGsSquCnVTFQcaRg/Screen+Shot+2020-06-28+at+8.47.28+AM.png"></p>
          
            </div>
          

        </div>

        

      </figure>

    

  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1593354253719_35584"><div><p><strong>Step 2: Sketch out ideas on paper yourself</strong></p><p>I sketched out some ideas I had and got feedback from friends in the office.</p><p>I put the sound wave in the avocado as a seed and played around with what the sound wave could look like.&nbsp;</p><p>Unfortunately, I only had an orange marker for this.&nbsp;</p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1593354253719_36753"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593355142059-AFU85Q1ZI3JF90UV7FMI/ke17ZwdGBToddI8pDm48kNJUD_Xf508KnMqMAKvVaDd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0s1LK8gu64hle203mIYOUnpbdT6-oIN-TUtU8fTm8cncKnzEUP5xgLKmtvxj_vUGDA/EV5ITlPWoAAqzlP.jpeg" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593355142059-AFU85Q1ZI3JF90UV7FMI/ke17ZwdGBToddI8pDm48kNJUD_Xf508KnMqMAKvVaDd7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0s1LK8gu64hle203mIYOUnpbdT6-oIN-TUtU8fTm8cncKnzEUP5xgLKmtvxj_vUGDA/EV5ITlPWoAAqzlP.jpeg" data-image-dimensions="2500x2015" data-image-focal-point="0.5,0.5" alt="EV5ITlPWoAAqzlP.jpeg" data-load="false" data-image-id="5ef8ab84b23df673eaa46eb7" data-type="image" src="https://colinkeeley.com/blog/EV5ITlPWoAAqzlP.jpeg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1593354253719_37052"><div><p><strong>Step 3: Iterate yourself</strong></p><p>This is a creative process and it takes time to arrive at something you‚Äôre happy with. </p><p>Try out different sketches and give it a few days of background thinking before you pay money to actually get it digitized.&nbsp;</p><p>Trying to iterate with a designer is what will cost you money. </p><p><strong>Step 4: Pay a Fiverr designer to digitize</strong></p><p>Share your sketch and your inspirations with a Fivver designer.&nbsp;<a href="https://track.fiverr.com/visit/?bta=122081&amp;brand=fiverrcpa">Fivver</a>&nbsp;is one of the largest online marketplaces for global talent.&nbsp;</p><p>Finding a quality designer can be hard. Just use&nbsp;<a href="https://track.fiverr.com/visit/?bta=122081&amp;brand=fiverrcpa&amp;landingPage=https%3A%2F%2Fwww.fiverr.com%2Flogo_star40%2Fdesign-simple-logo-for-your-brand%3Fsource%3Dorder_page_summary_gig_link_title%26funnel%3D00e4ecef-7686-40d4-969c-99979a3ef769">the designer I use</a>. I‚Äôve used him for a few different logos and highly recommend him. He does excellent work and will make iterations until you‚Äôre happy.&nbsp;</p><p>The first versions won‚Äôt be perfect. Feel free to ask for small changes.&nbsp;</p><p>Here were some early versions for Avocado. </p></div></div><div data-aspect-ratio="100" data-block-type="5" id="block-yui_3_17_2_1_1593355161879_18569"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356437258-1K6YUYN7PA4712E0Q6KJ/ke17ZwdGBToddI8pDm48kDaNRrNi77yKIgWxrt8GYAFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7WT60LcluGrsDtzPCYop9hMAtVe_QtwQD93aIXqwqJR_bmnO89YJVTj9tmrodtnPlQ/Avocado2.png" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356437258-1K6YUYN7PA4712E0Q6KJ/ke17ZwdGBToddI8pDm48kDaNRrNi77yKIgWxrt8GYAFZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7WT60LcluGrsDtzPCYop9hMAtVe_QtwQD93aIXqwqJR_bmnO89YJVTj9tmrodtnPlQ/Avocado2.png" data-image-dimensions="255x255" data-image-focal-point="0.5,0.5" alt="Avocado2.png" data-load="false" data-image-id="5ef8b095f6302b5d71e5059b" data-type="image" src="https://colinkeeley.com/blog/Avocado2.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="5" id="block-yui_3_17_2_1_1593355161879_21999"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356497385-UWXN8PPDOQMTID8Y4GB0/ke17ZwdGBToddI8pDm48kOWyE5OVYnQHUXmTlJzahLdZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7R6SWOyAW0y1cpSTASaRj-wpFjVvAVgB0Fbm05Sc9zeDJmvI9K9QhjOgiAXjkI4xEw/Avocado.png" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356497385-UWXN8PPDOQMTID8Y4GB0/ke17ZwdGBToddI8pDm48kOWyE5OVYnQHUXmTlJzahLdZw-zPPgdn4jUwVcJE1ZvWhcwhEtWJXoshNdA9f1qD7R6SWOyAW0y1cpSTASaRj-wpFjVvAVgB0Fbm05Sc9zeDJmvI9K9QhjOgiAXjkI4xEw/Avocado.png" data-image-dimensions="241x254" data-image-focal-point="0.5,0.5" alt="Avocado.png" data-load="false" data-image-id="5ef8b0d1d960e626a1e17a57" data-type="image" src="https://colinkeeley.com/blog/Avocado.png">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div><div data-block-type="2" id="block-yui_3_17_2_1_1593355161879_18858"><div><p>We iterated on the shape and quantity of the sound waves until we found a happy medium with more seed-like sound waves. </p><p>The final result for <a href="http://avocadoaudio.com/">Avocado</a>. I‚Äôd put up against $100,000+ designs from any major agency. </p></div></div><div data-block-type="5" id="block-yui_3_17_2_1_1593355161879_16521"><div>








  

    
  
    <div data-test="image-block-inline-outer-wrapper">

      

      
        <figure>
          
        
        

        
          
            
          <p><img data-src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356303883-BAS7KMBXRXBW1G4SDCR7/ke17ZwdGBToddI8pDm48kIIWdAnyBSrZ5E6Gv7JXlDh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k9kZPbuygN4RSDPe_G5PO_pbVb0jdkjHmk-MhSr8npod9fyhKaF6iH64GfT8sX2GQ/large+avocado+logo+on+rectangle+compressed.jpg" data-image="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356303883-BAS7KMBXRXBW1G4SDCR7/ke17ZwdGBToddI8pDm48kIIWdAnyBSrZ5E6Gv7JXlDh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k9kZPbuygN4RSDPe_G5PO_pbVb0jdkjHmk-MhSr8npod9fyhKaF6iH64GfT8sX2GQ/large+avocado+logo+on+rectangle+compressed.jpg" data-image-dimensions="2500x1563" data-image-focal-point="0.5,0.5" alt="large avocado logo on rectangle compressed.jpg" data-load="false" data-image-id="5ef8b00f3895911144ccc04c" data-type="image" src="https://images.squarespace-cdn.com/content/v1/5d6548b6c5343d00018167dc/1593356303883-BAS7KMBXRXBW1G4SDCR7/ke17ZwdGBToddI8pDm48kIIWdAnyBSrZ5E6Gv7JXlDh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z4YTzHvnKhyp6Da-NYroOW3ZGjoBKy3azqku80C789l0k9kZPbuygN4RSDPe_G5PO_pbVb0jdkjHmk-MhSr8npod9fyhKaF6iH64GfT8sX2GQ/large+avocado+logo+on+rectangle+compressed.jpg">
          </p>
        
          
        

        
      
        </figure>
      

    </div>
  


  


</div></div></div></div></div></div>

        

        

        
      </div>
      

    </article>
  </div>







  
</div>

      </main>

      

    </div></div>]]>
            </description>
            <link>https://colinkeeley.com/blog/how-i-designed-the-perfect-startup-logo-for-20</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671160</guid>
            <pubDate>Sun, 28 Jun 2020 19:00:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Better Geometry Through Graph Theory (2018)]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 11 (<a href="https://news.ycombinator.com/item?id=23671130">thread link</a>) | @prospero
<br/>
June 28, 2020 | http://ideolalia.com/2018/08/28/artifex.html | <a href="https://web.archive.org/web/*/http://ideolalia.com/2018/08/28/artifex.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

	

	<div>
		<article>
			<p><img src="http://ideolalia.com/images/artifex-set-operations.png" alt=""></p>

<h3 id="how-i-spent-my-summer">how I spent my summer</h3>

<p>A few months ago, I decided to implement set operations on curved regions.  I had the <a href="https://www.springer.com/us/book/9783540779735">the canonical textbook on computational geometry</a>, which described approaches for polygons comprised of straight lines, and it seemed like <a href="http://paperjs.org/">other projects</a> had extended these techniques to <a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve">parametric curves</a>.  I figured it would take a couple of weeks.</p>

<p>Unfortunately, the field of computational geometry embodies a fundamental contradiction.  In geometry, the angles of a triangle add up to exactly œÄ radians, and if <em>u</em> is clockwise from <em>v</em> then <em>v</em> must be counter-clockwise from <em>u</em>.  Computers, on the other hand, use floating point representations which make a mockery of these simple Euclidean truths.</p>

<p>The academic literature largely ignores this.  Algorithms are proven to be geometrically sound, and robust implementations are left as an exercise for the reader.  This is akin to a world in which hash collisions caused unavoidable data loss, and the academic response was to implicitly assume the existence of a perfect hash function.  If a paper is predicated on unrealistic assumptions, we cannot evaluate it on its own terms; we must understand, empirically, how well it functions when these assumptions are broken.</p>

<p>With this in mind, we can now look at the existing algorithms for <a href="https://en.wikipedia.org/wiki/Clipping_(computer_graphics)">polygon clipping</a>, which is the term of art for polygon set operations.  Every technique is a variation on a common theme:</p>

<p><img src="http://ideolalia.com/images/artifex-clipping.png" alt=""></p>

<ul>
  <li>Given two or more rings, find every point of intersection</li>
  <li>Segment the rings at the points of intersection</li>
  <li>Decide whether each segment should be included, based on the operation being performed</li>
</ul>

<p>The dozen or so papers on this subject differ only in the third step.  Since our decision to include a segment typically inverts at an intersection point, they describe a variety of approaches for using our decision to about one segment to inform our decision about adjacent segments.</p>

<p>My textbook described a method using <a href="https://en.wikipedia.org/wiki/Doubly_connected_edge_list">doubly-connected edge lists</a>, which is a generic geometric data structure.  I assumed that meant it could be reused for other problems, so I started my implementation.</p>

<p>A month went by.</p>

<p>I had finished the implementation my first week, but it wasn‚Äôt reliable.  A DCEL is a collection of linked loops, which can be incrementally updated.  When performing a set operation, we incrementally bisect the original set of loops, and then determine which should and shouldn‚Äôt be included.  Despite my best efforts, I kept finding new shapes that caused adjacent faces to get tangled together, creating a M√∂bius strip that is simultaneously inside and outside the expected result.</p>

<p>Slowly, I realized the problem wasn‚Äôt the data structure, it was the first step that every paper glossed over: finding all the intersections.  The DCEL assumes the edges at a vertex have a total ordering: the previous edge is directly clockwise, and the next one is directly counter-clockwise.  If we miss an intersection, we might conclude two curves are both clockwise relative to the other, causing everything to fall apart.</p>

<p>I began to look for better ways to find intersections, hoping that if I found an approach that was sufficiently accurate, my work on the DCEL could be salvaged.  Unfortunately, the approaches I found in the literature and implemented in the wild were no better than what I had been using.  My data structure demanded precise inputs, without internal contradictions, and I couldn‚Äôt deliver.</p>

<p>At that point, I began to wonder if I had missed something fundamental.  I thought maybe if I dissected how other, more mature, libraries handled my pathological shapes, I could work backwards to see where I had gone wrong.  But when I began to feed these shapes into well-established projects like paper.js, I found they failed just as badly.</p>

<p>To find my pathological inputs, I had been using property-based testing.  Given a random combination of shapes, I would perform a point-in-region test and compare it to a reference result, generated by querying each shape individually and combining the results according to the operation.  Most inputs worked fine, but after a few hundred thousand inputs it would inevitably find some failure.</p>

<p>Other projects, it turned out, had been a little less eager to find their own failure modes.  Some only had a handful of example-based tests, others had a static suite of a few thousand inputs they used to validate their changes.  If I had missed something, it appeared to be that no one else expected these operations to be particularly robust.</p>

<hr>

<h3 id="why-is-this-so-hard">why is this so hard?</h3>

<p>Floating point arithmetic is best understood through a simple, maddening fact: <code>a + (b - a)</code> does not necessarily equal <code>b</code>.  It might be equal, or it might be off by just a little, where ‚Äúlittle‚Äù is relative to the larger of the two numbers.  This means that when we compare two floating point numbers, we cannot do a precise comparison, we have to ask whether they differ by less than some <em>epsilon</em> value.</p>

<p>This epsilon represents the level of numerical uncertainty to which we‚Äôve resigned ourselves.  There is vast folk wisdom around how to minimize this uncertainty, but the fact remains that every arithmetic operation injects a bit of uncertainty, and it grows cumulatively with each successive operation.  When dealing with small numbers, this uncertainty may dwarf the values themselves.</p>

<p>An intersection, in a precise mathematical sense, occurs wherever the distance between the curves is exactly zero:</p>

<p><img src="http://ideolalia.com/images/artifex-precise-intersection.png" alt=""></p>

<p>But in a practical sense, it is wherever the distance between the curves is close enough to zero:</p>

<p><img src="http://ideolalia.com/images/artifex-fuzzy-intersection.png" alt=""></p>

<p>This has at least one intersection, but we could just as easily return three or ten within that overlapping range.  This uncertainty is anathema to the published techniques, which rely on counting these intersections to determine whether we‚Äôre inside or outside the other shape.  A single spurious intersection may cause the entire result to vanish.  If two objects with similar curvature move across each other, the result will tend to flicker in and out of existence.</p>

<p>These techniques may suffice for straight lines, which require smaller epsilons, but they are wholly unsuited to the relative imprecision of parametric curves.</p>

<hr>

<h3 id="embracing-the-uncertainty">embracing the uncertainty</h3>

<p>As the weeks passed, the errors uncovered by my tests went from feeling random to feeling malicious.  Floating point arithmetic may be deterministic, but as I watched my screen, waiting for the tests to fail, I imagined a demon in the FPU nudging the values as they flowed past, trying to move them beyond the threshold of self-consistency.</p>

<p>One day, I realized this was exactly the narrative behind <a href="https://en.wikipedia.org/wiki/Error_detection_and_correction">error-correcting codes</a>; we assume our data has been randomly altered en route, and we want to return it to a consistent state.  It didn‚Äôt seem like I could get it right the first time, so why not just fix it afterwards?</p>

<p>Consider the union of two ellipses:</p>

<p><img src="http://ideolalia.com/images/artifex-two-ellipses.png" alt=""></p>

<p>Ostensibly, there should only be three points of intersection, one on the left and two on the right.  But for the reasons described above, any intersection routine will likely find multiple points of intersection on the left as the curves converge on each other:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-intersections.png" alt=""></p>

<p>The segments on the left are small enough, and thus imprecise enough, that our spatial intuition for the problem will just mislead us.  For this reason, it‚Äôs better to think of it as a graph:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-graph.png" alt=""></p>

<p>Now we have to decide which edges to include, and which to exclude.  Since we‚Äôre trying to find the union, we want to keep any segments that are outside the other shape:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-valid-result.png" alt=""></p>

<p>This is a well-formed result; there is a single cycle, and once we remove that cycle there are no leftover edges.  But we can‚Äôt rely on getting this lucky; the edges on the left might have succumbed to floating point error and believed they were both inside the other:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-incomplete.png" alt=""></p>

<p>This is not a well-formed result; there are no cycles, and a bunch of leftover edges.  To make this consistent, we need to either close the loop, or remove the leftovers.  The cost of these changes is measured by the aggregate length of the edges we are adding or removing.</p>

<p>The minimal set of changes is equivalent to the shortest path between the dangling vertices.  Having found the path, we then invert the inclusion of every edge it passes through.  In this case, it passes through one of the edges we originally excluded, so we add that edge back in, and return the cycle we just created.</p>

<p>Alternately, both edges might think they are outside the other:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-redundant.png" alt=""></p>

<p>In this case, we have a complete cycle, but once we‚Äôve extracted it there‚Äôs a single leftover edge:</p>

<p><img src="http://ideolalia.com/images/artifex-ellipses-leftover.png" alt=""></p>

<p>Here again, we search through all the remaining edges for the shortest path between the two dangling vertices.  Since it passes through our leftover edge, we remove it.</p>

<p>Every floating point inconsistency will surface as one of these two cases, or some combination thereof.  By searching for the shortest path between the dangling edges, we find the smallest possible edit that will yield a consistent result.  Of course, a consistent result is not necessarily the <em>correct</em> one, but the fact that floating point errors tend to cluster around the smallest edges makes this a reasonable heuristic.  More importantly, it has weathered tens of millions of generative test cases without any issues.</p>

<p>A complete implementation of this algorithm can be found <a href="https://github.com/lacuna/artifex/blob/master/src/io/lacuna/artifex/utils/regions/Clip.java">here</a>.</p>

<hr>

<p>I‚Äôm not sure if this is a novel approach, but at the very least it represents a meaningful improvement on the state of the art in open source.  Intuitively, it feels like this might be a means to avoid epsilon hell in a wide range of geometric and numerical algorithms.  If anyone is aware of prior art in this vein, I‚Äôd be very interested to see it.</p>

<p>My work on the <a href="https://github.com/lacuna/artifex">Artifex</a> library is ongoing, but I hope it proves useful to others, and look forward to sharing my own projects that it will enable in the near future.</p>

<hr>

<p><em>Thanks to Alex Engelberg, Elana Hashman, Angus Fletcher, Reid McKenzie, and Zack Maril for feedback on early drafts of this post.</em></p>

		</article>
	</div>

</div></div>]]>
            </description>
            <link>http://ideolalia.com/2018/08/28/artifex.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671130</guid>
            <pubDate>Sun, 28 Jun 2020 18:56:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[LineagOS Maintainer Appreciation]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23671128">thread link</a>) | @HaoZeke
<br/>
June 28, 2020 | https://rgoswami.me/posts/linos-maintainer-appre/ | <a href="https://web.archive.org/web/*/https://rgoswami.me/posts/linos-maintainer-appre/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <blockquote>
<p>A post on a surprisingly heartwarming community appreciation effort.</p>
</blockquote>
<h2 id="background">Background</h2>
<p>As probably anyone who has asked me about my programming experience has heard, my first real foray into the FOSS community was being a <a href="https://forum.xda-developers.com/member.php?u=1964056">LineageOS co-maintainer</a> (as HaoZeke) for the Xperia Z5 Dual. I haven‚Äôt thought about the community all that much for a few years, mostly since XDA became pretty toxic, and Android development just got, less exciting.</p>
<h2 id="the-email">The Email</h2>
<p>I recieved two of these from different accounts:</p>
<blockquote>
<p>Thank you so much for your contribution to making my phone the phone it is!</p>
<p>Have a great day!</p>
</blockquote>
<figure>
    <img src="https://rgoswami.me/ox-hugo/lineageOS.jpg"> 
</figure>

<h2 id="conclusion">Conclusion</h2>
<p>This was completely unexpected, and really made my day. In reterospect this seems like something which should be made more explicit, more often.</p>

            </div></div>]]>
            </description>
            <link>https://rgoswami.me/posts/linos-maintainer-appre/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671128</guid>
            <pubDate>Sun, 28 Jun 2020 18:56:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We're helping you overcome your indecisiveness]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23671008">thread link</a>) | @araza617
<br/>
June 28, 2020 | http://go.whichoneapp.com/download | <a href="https://web.archive.org/web/*/http://go.whichoneapp.com/download">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="ember97919737">
<!---->
    

  <div id="ember97919739"><section id="ember97919740">
</section>

<!---->
    <section>
      <h2>iPhone Screenshots</h2>
    
  </section>


    <section>
      <div>
        
        <div>
          <div id="ember97919783">      

      <div dir="false" data-test-bidi=""><p>Not sure which scarf looks better on you or which filter to use on your picture? Perhaps you‚Äôre curious about what book to read next? With WhichOne, you can get answers to all of your easy and tough everyday decisions!</p><p>‚Äî Create ‚Äî <br>Creating a poll is easy: You ask a question and upload two images as options for people to vote on. After that, you‚Äôll receive real-time updates on your profile regarding how many people have voted on your poll, as well as what the breakdown looks like for each option. All you have to do is sit back and let the world help you decide! </p><p>‚Äî Vote ‚Äî<br>As you‚Äôre scrolling through all of the incredible, user-generated polls, we‚Äôre certain you‚Äôll come across ones that‚Äôll catch your eye! Voting is simple: You simply tap on the image option you choose and we‚Äôll show you a breakdown of what other people have chosen for you to compare! Our interface is designed in a way so you can vote on the things that matter to you and simply scroll past the polls you‚Äôre not interested in. After all, your opinion matters. Why not voice it?</p><p>‚Äî Follow ‚Äî <br>We‚Äôve made it super easy to follow people whose content you care about including friends, influencers, companies, and more. Plus, you can invite your friends to follow you as well, so you‚Äôre always caught up on each other‚Äôs latest questions and polls.</p><p>As always, we encourage you to ask meaningful questions that pertain to your life! Whether you can‚Äôt decide what to wear, purchase, sell, or read - or you simply want to garner people‚Äôs beliefs about the purpose of life - WhichOne is the place for you. So, what will you ask the world?</p></div>

  


<!----></div>
        </div>
      </div>
    </section>

<!---->
  <section>
    
    <div>
        <div>
          <div>
            <p><time data-test-we-datetime="" datetime="2020-06-16T07:00:00.000Z" aria-label="June 16, 2020">Jun 16, 2020</time></p><p>Version 1.0.1</p>
          </div>
        </div>
      <div>
        <p dir="false" data-test-bidi="">We've implemented displaying the number of votes for each option, seeing your own polls in the home screen, and easily scrolling to the top using the tab bar. Plus, we've made a few design updates!</p>
      </div>
    </div>
  </section>

      <section>
      

        

      <div>
              
              <div id="ember97919801">


                <div aria-labelledby="we-customer-review-402091" id="ember97919803"><figure aria-label="5 out of 5" id="ember97919804"><span>
  <span></span>
</span>
<!----></figure>



<h3 dir="ltr" id="we-customer-review-402091">  Great concept!
</h3>

  <blockquote id="ember97919806">      

      <p dir="false" data-test-bidi="">I love going in this app and seeing all the things that people post! Half the things I end up buying myself because someone wanted help for buying perfumes and half the time I‚Äôm laughing because of the funny baby faces that are on the app! It‚Äôs a great way to kill some time and to make some funny posts and also get people‚Äôs opinions on things!</p>

  


<!----></blockquote>

    

    <blockquote id="ember97919810">      

      <p dir="false" data-test-bidi="">Hi there! Thank you so much for your kind words and we‚Äôre really glad you enjoyed WhichOne and all of the different types of polls on the app! We can‚Äôt wait for you to see all of the awesome features we have in store for you!</p>

  


<!----></blockquote>
</div>
              
</div>
          
    
              <div id="ember97919814">


                <div aria-labelledby="we-customer-review-402092" id="ember97919816"><figure aria-label="5 out of 5" id="ember97919817"><span>
  <span></span>
</span>
<!----></figure>



<h3 dir="ltr" id="we-customer-review-402092">  Honest review!
</h3>

  <blockquote id="ember97919819">      

      <p dir="false" data-test-bidi="">This app is addicting in the best way possible!! It‚Äôs fun seeing the different questions from the trivia section to lifestyle. The turnaround time for the results on my posts are also super quick, it‚Äôs awesome!</p>

  


<!----></blockquote>

    

    <blockquote id="ember97919823">      

      <p dir="false" data-test-bidi="">Hi! Thanks so much for your kind words and we‚Äôre  really glad you enjoyed our app! We‚Äôre working hard on more awesome featured to make your experience even more enjoyable and we can‚Äôt wait for you to see them.</p>

  


<!----></blockquote>
</div>
              
</div>
          
    
              <div id="ember97919827">


                <div aria-labelledby="we-customer-review-402093" id="ember97919829"><figure aria-label="5 out of 5" id="ember97919830"><span>
  <span></span>
</span>
<!----></figure>



<h3 dir="ltr" id="we-customer-review-402093">  Great app!
</h3>

  <blockquote id="ember97919832">      

      <p dir="false" data-test-bidi="">This app is so much fun and it has a lot of different type of polls I can vote on. I also created my own polls and people actually voted which was really cool.</p>

  


<!----></blockquote>

<!----></div>
              
</div>
          

      </div>

        
    </section>


<!---->
<!---->
<section>
  <div>
    <div>
      <h2>Information</h2>
      <dl>
          <p>
            <dt>Seller</dt>
            <dd>
              Brandon Barooah
            </dd>
          </p>
          <p>
            <dt>Size</dt>
            <dd aria-label="19.9 megabytes">19.9 MB</dd>
          </p>
          
        <div>
          <dt>Compatibility</dt>
          <dd id="ember97919842">      

      <p dir="false" data-test-bidi="">Requires iOS 13.0 or later. Compatible with iPhone, iPad, and iPod touch.</p>

  


<!----></dd>
        </div>
<!---->        
        <p>
          <dt>Age Rating</dt>
          <dd>4+</dd>
        </p>
<!----><!---->        <p>
          <dt>Copyright</dt>
          <dd>¬© 2019 WhichOne</dd>
        </p>
          <p>
            <dt>Price</dt>
            <dd>Free</dd>
          </p>
<!---->
      </dl>
    </div>
    
  </div>
</section>

<section>
  <ul>
      <li>
        <a data-metrics-click="{&quot;actionDetails&quot;:{&quot;type&quot;:&quot;developer&quot;},&quot;actionType&quot;:&quot;navigate&quot;,&quot;actionUrl&quot;:&quot;@@url@@&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;@@id@@&quot;}" href="http://whichoneapp.com/">
          Developer Website
        </a>
      </li>
      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToAppSupport&quot;}" href="http://whichoneapp.com/contact-us">
          App Support
        </a>
      </li>
<!---->      <li>
        <a data-metrics-click="{&quot;actionType&quot;:&quot;navigate&quot;,&quot;targetType&quot;:&quot;link&quot;,&quot;targetId&quot;:&quot;LinkToPrivacyPolicy&quot;}" href="http://whichoneapp.com/privacy-policy">
          Privacy Policy
        </a>
      </li>
  </ul>
</section>

  <section>
    <p>
      <h2>Supports</h2>
    </p>
    <ul>
        <li>
          <img src="http://go.whichoneapp.com/assets/images/supports/supports-FamilySharing@2x-f58f31bc78fe9fe7be3565abccbecb34.png" alt="">
          <div>
            <h3 dir="ltr" id="ember97919848">  Family Sharing
</h3>
            <h4 id="ember97919849">      

      <p dir="false" data-test-bidi="">With Family Sharing set up, up to six family members can use this app.</p>

  


<!----></h4>
          </div>
        </li>
    </ul>
  </section>

<!---->
    <section>
      

      
    </section>
</div>

<!---->

<!----></div></div>]]>
            </description>
            <link>http://go.whichoneapp.com/download</link>
            <guid isPermaLink="false">hacker-news-small-sites-23671008</guid>
            <pubDate>Sun, 28 Jun 2020 18:37:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Podaero/alpha-3 ‚Äì a social network of small groups]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23670859">thread link</a>) | @newman8r
<br/>
June 28, 2020 | https://podaero.com/info/show-hn | <a href="https://web.archive.org/web/*/https://podaero.com/info/show-hn">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://podaero.com/info/show-hn</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670859</guid>
            <pubDate>Sun, 28 Jun 2020 18:20:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Basic math packed in one neat page]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23670752">thread link</a>) | @R3G1R
<br/>
June 28, 2020 | https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/ | <a href="https://web.archive.org/web/*/https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><section><div><div><div><p><span>I</span>n basic mathematics, many different symbols exist and are adopted widely. The following is a compilation of the most commonly-used symbols in <strong>arithmetic</strong> and <strong>common mathematics</strong>, along with other symbols whose usage covers multiple subfields of mathematics.</p><p>For readability purpose, these symbols are categorized by their <strong>function</strong> into tables. Other comprehensive lists of symbols ‚Äî as categorized by subject&nbsp;and type ‚Äî can be also found in the relevant pages below (or in the navigational panel).</p><div><div><div><figure><img src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" srcset="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png 400w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-309x400.png 309w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-300x389.png 300w" sizes="(max-width: 400px) 100vw, 400px" title="Math Symbols eBook Cover" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" data-lazy-srcset="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png 400w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-309x400.png 309w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-300x389.png 300w" data-lazy-src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> ‚Äî along with each symbol‚Äôs usage and LaTeX code.</p> </div></div></div></div><h2><span id="Mathematical_Constants"></span>Mathematical Constants<span></span></h2><p>In common mathematics, <strong>constants</strong> are often used to denote key natural numbers, integers, real numbers and complex numbers. The following table documents the most common of these ‚Äî along with their name, usage and function.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$0$ (<strong>Zero</strong>)</td><td>Additive identity of common numbers</td><td>$5 + 0 = 0 + 5 = 0$</td></tr><tr><td>$1$ (<strong>One</strong>)</td><td>Multiplicative identity of common numbers</td><td>$6 \times 1 = 6$</td></tr><tr><td>$\sqrt{2}$ (<strong><a href="https://en.wikipedia.org/wiki/Square_root_of_2" target="_blank" aria-label="Square root of $2$ (opens in a new tab)" rel="noreferrer noopener">Square root of $2$</a></strong>)</td><td>Positive number whose square is $2$. Pythagoras‚Äô constant. Approximately $1.414$.</td><td>$\sqrt{2}$ is often considered to be the ‚Äúsimplest‚Äù irrational number.</td></tr><tr><td>$e$ (<strong><a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)" target="_blank" aria-label="Euler's number (opens in a new tab)" rel="noreferrer noopener">Euler‚Äôs number</a></strong>)</td><td>Base of <a href="https://mathvault.ca/logarithm-theory/#Natural_Logarithm_Base_e" target="_blank" aria-label="natural logarithm (opens in a new tab)" rel="noreferrer noopener">natural logarithm</a>. Limit of sequence $\left( 1+\frac{1}{n} \right)^n$. Approximately $2.718$.</td><td>$\ln e = 1$</td></tr><tr><td>$\pi$ (<strong><a href="https://en.wikipedia.org/wiki/Pi" target="_blank" aria-label="Pi (opens in a new tab)" rel="noreferrer noopener">Pi</a></strong>, Archimedes‚Äô constant)</td><td>Ratio of a circle‚Äôs circumference and diameter. Half-circumference of unit circle.</td><td>$\pi$ is irrational and approximately $3.1416$.</td></tr><tr><td>$\varphi$ (Phi, <strong><a aria-label="Golden ratio (opens in a new tab)" href="https://en.wikipedia.org/wiki/Golden_ratio" target="_blank" rel="noreferrer noopener">golden ratio</a></strong>)</td><td>Ratio between two positive numbers $a &gt; b$ such that $\frac{a+b}{a} = \frac{a}{b}$. Positive root of polynomial $x^2-x-1$.</td><td>$\varphi = \dfrac{1+\sqrt{5}}{2} \approx 1.618$</td></tr><tr><td>$i$ (<strong><a href="https://en.wikipedia.org/wiki/Imaginary_unit" target="_blank" aria-label="Imaginary unit (opens in a new tab)" rel="noreferrer noopener">Imaginary unit</a></strong>)</td><td>Principal square root of $-1$. Foundational component of complex numbers.</td><td>$i^2 = (-i)^2 = -1$</td></tr></tbody></table></figure><h2><span id="Delimiters"></span>Delimiters<span></span></h2><p><a href="https://en.wikipedia.org/wiki/Delimiter" target="_blank" rel="noopener noreferrer">Delimiters</a> are symbols used to signal the <strong>separation</strong> between different independent mathematical entities. These include the common delimiters such as parentheses, brackets and braces, and the use of delimiters in the context of intervals.</p><h3><span id="Common_Delimiters"></span>Common Delimiters<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$.$</td><td><strong>Decimal separator</strong></td><td>$15.35 + 8.25 = 23.60$</td></tr><tr><td>$,$</td><td><strong>Object separator</strong></td><td>$\{ 5, 0, 2 \}$</td></tr><tr><td>$:$</td><td><strong>Ratio indicator</strong></td><td>$4 : 3 = 1024 : 768$</td></tr><tr><td>$(), [], \{ \}$</td><td><strong>Order-of-operation indicators</strong></td><td>$\left[(2+3) + 4\right] + 5$</td></tr><tr><td>$( )$</td><td><strong><a href="https://en.wikipedia.org/wiki/Tuple" target="_blank" aria-label="Tuple (opens in a new tab)" rel="noreferrer noopener">Tuple</a>-indicator</strong></td><td>$(4, 7, 11, 15)$</td></tr></tbody></table></figure><h3><span id="Intervals"></span>Intervals<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$[a, b]$</td><td><strong><a href="https://en.wikipedia.org/wiki/Interval_(mathematics)#Including_or_excluding_endpoints" target="_blank" aria-label="Closed interval (opens in a new tab)" rel="noreferrer noopener">Closed interval</a></strong> from $a$ to $b$</td><td>$\pi \in [3, 5]$</td></tr><tr><td>$(a, b)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Interval_(mathematics)#Including_or_excluding_endpoints" target="_blank" aria-label="Open interval (opens in a new tab)" rel="noreferrer noopener">Open interval</a></strong> from $a$ to $b$</td><td>$(1, 9) =$<br>$\{x \in \mathbb{R} \mid \\ 1 &lt; x &lt; 9\}$</td></tr><tr><td>$[a, b)$</td><td><strong><a href="https://en.wikipedia.org/wiki/Interval_(mathematics)#Including_or_excluding_endpoints" target="_blank" aria-label="Right-open interval (opens in a new tab)" rel="noreferrer noopener">Right-open interval</a></strong> from $a$ to $b$</td><td>$[e, \pi) \subseteq [1, \infty)$</td></tr><tr><td>$(a, b]$</td><td><strong><a href="https://en.wikipedia.org/wiki/Interval_(mathematics)#Including_or_excluding_endpoints" target="_blank" aria-label="Left-open interval (opens in a new tab)" rel="noreferrer noopener">Left-open interval</a></strong> from $a$ to $b$</td><td>$0 \notin (0, 100]$</td></tr></tbody></table></figure><h2><span id="Operators"></span>Operators<span></span></h2><p>Operators are placeholder symbols used to denote <a href="https://mathvault.ca/math-glossary/#operation" target="_blank" rel="noopener noreferrer"><strong>mathematical operations</strong></a>, which take one or multiple mathematical objects to another similar object. In common mathematics, these include the arithmetic operators, and other number-related unary operators.</p><h3><span id="Arithmetic_Operators"></span>Arithmetic Operators<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$x + y$</td><td><strong>Sum</strong> ($x$ plus $y$)</td><td>$\dfrac{3}{5} + \dfrac{2}{3} = \dfrac{19}{15}$</td></tr><tr><td>$x-y$</td><td><strong>Difference</strong> ($x$ minus $y$)</td><td>$13-1.\overline{3} = 11.\overline{6}$</td></tr><tr><td>$-x$</td><td><strong><a aria-label="Additive inverse (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Additive_inverse" target="_blank">Additive inverse</a></strong> (negative $x$)</td><td>$(-1.5) + 1.5 =0$</td></tr><tr><td>$x \times y$, $x \cdot y$, $xy$</td><td><strong>Product</strong> ($x$ times $y$)</td><td>$2 \times (3 + 5) = \\ 6 + 10$</td></tr><tr><td>$x \div y$, $\, x / y$</td><td><strong><a aria-label="Quotient (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Quotient" target="_blank">Quotient</a></strong> ($x$ over $y$)</td><td>$16 \div 2.5 = 6.4$</td></tr><tr><td>$\dfrac{x}{y}$</td><td><strong>Fraction</strong> of $x$ over $y$</td><td>$\dfrac{3}{8}=0.375$</td></tr><tr><td>$x^y$</td><td><strong>Power</strong> ($x$ raised to $y$)</td><td>$3^{10} = 9^5$</td></tr><tr><td>$\pm$</td><td><strong><a href="https://en.wikipedia.org/wiki/Plus%E2%80%93minus_sign" target="_blank" aria-label="Plus-and-minus operator (opens in a new tab)" rel="noreferrer noopener">Plus-and-minus operator</a></strong></td><td>With the <a aria-label="quadratic formula (opens in a new tab)" href="https://mathvault.ca/quadratic-factorisation/#The_General_Method_Theory" target="_blank" rel="noreferrer noopener">quadratic formula</a>, we have that $x = \dfrac{-b \pm \sqrt{\Delta}}{2a}$.</td></tr><tr><td>$\mp$</td><td><strong><a href="https://en.wikipedia.org/wiki/Plus%E2%80%93minus_sign#Minus%E2%80%93plus_sign" target="_blank" aria-label="Minus-and-plus operator (opens in a new tab)" rel="noreferrer noopener">Minus-and-plus operator</a></strong></td><td>$5 \pm (-3) = 5 \mp 3$</td></tr></tbody></table></figure><h3>Number-related Unary Operators<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\sqrt{x}$</td><td><strong><a href="https://en.wikipedia.org/wiki/Square_root" target="_blank" aria-label="Principal square root (opens in a new tab)" rel="noreferrer noopener">Principal square root</a></strong> of $x$</td><td>$\sqrt{30}= \\ \sqrt{2 \cdot 3 \cdot 5}$</td></tr><tr><td>$\sqrt[n]{x}$</td><td><strong><a aria-label="n-th root (opens in a new tab)" href="https://en.wikipedia.org/wiki/Nth_root" target="_blank" rel="noreferrer noopener">nth root</a></strong> of $x$</td><td>$\sqrt[3]{125}=5$</td></tr><tr><td>$|x|$</td><td><strong><a href="https://en.wikipedia.org/wiki/Absolute_value" target="_blank" aria-label="Absolute value (opens in a new tab)" rel="noreferrer noopener">Absolute value</a></strong> of $x$</td><td>$|-5| = |5| = 5$</td></tr><tr><td>$x \%$</td><td>$x$ <strong>percent</strong></td><td>$5 \% \doteq \dfrac{5}{100}$</td></tr></tbody></table></figure><h2><span id="Relational_Symbols"></span>Relational Symbols<span></span></h2><p>In mathematics, relational symbols are used to denote <a href="https://mathvault.ca/math-glossary/#relation" target="_blank" rel="noopener noreferrer"><strong>mathematical relations</strong></a>, which take one or multiple mathematical objects to form full mathematical sentences. In arithmetic and common mathematics, these include the relational symbols related to equality and comparison.</p><h3><span id="Equalitybased_Relational_Symbols"></span>Equality-based Relational Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$x \doteq y$, $x \overset{df}{=} y$,<br>$x := y$</td><td>$x$ is <strong>defined as</strong> $y$</td><td>$\mathbb{R}_+ \doteq \\ \{ x \in \mathbb{R} \mid x &gt; 0 \}$</td></tr><tr><td>$x = y$</td><td>$x$ is <strong>equal to</strong> $y$</td><td>$ \pi = \dfrac{C}{d}$</td></tr><tr><td>$x \ne y$</td><td>$x$ is <strong>not equal</strong> to $y$</td><td>$\sqrt{3} \ne 1.7$</td></tr><tr><td>$x \approx y$</td><td>$x$ is <strong>approximately equal</strong> to $y$</td><td>$\dfrac{5}{7} \approx 0.714$</td></tr><tr><td>$f(x) \propto g(x)$</td><td>Function $f$ is <strong><a href="https://en.wikipedia.org/wiki/Proportionality_(mathematics)#Direct_proportionality" target="_blank" aria-label="directly proportional (opens in a new tab)" rel="noreferrer noopener">directly proportional</a></strong> to function $g$</td><td>$\dfrac{\pi}{2} x^2 \propto 3x^2$</td></tr></tbody></table></figure><h3><span id="Comparisonbased_Relational_Symbols"></span>Comparison-based Relational Symbols<span></span></h3><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$x &lt; y$</td><td>$x$ is <strong>less than</strong> $y$</td><td>$2 &lt; e$</td></tr><tr><td>$x &gt; y$</td><td>$x$ is <strong>greater than</strong> $y$</td><td>$\dfrac{13}{4} &gt; 3$</td></tr><tr><td>$x \le y$</td><td>$x$ is <strong>less than or equal to</strong> $y$</td><td>$1 \le n^2$</td></tr><tr><td>$x \ge y$</td><td>$x$ is <strong>greater than or equal to</strong> $y$</td><td>$n! \ge 2^n$ for $n \ge 4$</td></tr></tbody></table></figure><h2><span id="Notational_Symbols"></span>Notational Symbols<span></span></h2><p>Notational symbols are often <strong>conventions</strong> and <strong>shorthands</strong> which don‚Äôt fall into the categories of constants, delimiters, operators and relational symbols. The following table documents some of these in the context of common mathematics ‚Äî along with their usage and meaning.</p><figure><table><thead><tr><th>Symbol Name</th><th>Explanation</th><th>Example</th></tr></thead><tbody><tr><td>$\ldots, \cdots$</td><td><strong><a href="https://en.wikipedia.org/wiki/Ellipsis#In_mathematical_notation" target="_blank" aria-label="Horizontal ellipsis symbols (opens in a new tab)" rel="noreferrer noopener">Horizontal ellipsis symbols</a></strong></td><td>$3 + 7 + 11 + \cdots + 43$</td></tr><tr><td>$\infty$</td><td><strong><a href="https://en.wikipedia.org/wiki/Infinity_symbol" target="_blank" aria-label="Infinity symbol (opens in a new tab)" rel="noreferrer noopener">Infinity symbol</a></strong></td><td>$\dfrac{1}{1} + \dfrac{1}{2} + \cdots = \infty$</td></tr><tr><td>$Q. E. D.$, $\square$, $\blacksquare$</td><td><strong><a href="https://mathvault.ca/math-glossary/#qed" target="_blank" aria-label="QED (opens in a new tab)" rel="noreferrer noopener">QED</a></strong> / <span><a aria-label="End-of-the-proof symbols (opens in a new tab)" rel="noreferrer noopener" href="https://en.wikipedia.org/wiki/Tombstone_(typography)" target="_blank">End-of-the-proof symbols</a></span></td><td>Hence $1 + \cdots + n = \frac{n(n+1)}{2}$, as desired. $\, \blacksquare$</td></tr><tr><td> ‚Äª, ‚®≥</td><td><strong><a href="https://en.wikipedia.org/wiki/Contradiction#Symbolic_representation" target="_blank" aria-label="Contradiction symbols (opens in a new tab)" rel="noreferrer noopener">Contradiction symbols</a></strong></td><td>Squaring both sides of the equation yields that $2 &lt; 1$. ‚®≥</td></tr></tbody></table></figure><p>For the master list of symbols, see <a href="https://mathvault.ca/hub/higher-math/math-symbols">mathematical symbols</a>. For lists of symbols categorized by <strong>type</strong> and <strong>subject</strong>, refer to the relevant pages below for more.</p><div><div><div><figure><img src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png" alt="Cover of Math Vault's Comprehensive List of Mathematical Symbols eBook" srcset="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png 400w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-309x400.png 309w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-300x389.png 300w" sizes="(max-width: 400px) 100vw, 400px" title="Math Symbols eBook Cover" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%200%200'%3E%3C/svg%3E" data-lazy-srcset="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png 400w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-309x400.png 309w, https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover-300x389.png 300w" data-lazy-src="https://mathvault.ca/wp-content/uploads/Math-Symbols-eBook-Cover.png"></figure><div><p>Prefer the PDF version instead?</p><p>Get the master summary of mathematical symbols in <strong>eBook form</strong> ‚Äî along with each symbol‚Äôs usage and LaTeX code.</p> </div></div></div></div><h2><span id="Additional_Resources"></span>Additional Resources<span></span></h2><ul><li><a href="https://mathvault.ca/higher-math-learning-guide"><strong>Definitive Guide to Learning Higher Mathematics</strong></a>: A standalone, 10-principle framework for tackling higher mathematical learning, thinking and problem solving efficiently</li><li><a href="https://mathvault.ca/10-commandments/"><strong>10 Commandments of Higher Mathematical Learning</strong></a>: An illustrated web guide on 10 scalable rules for learning higher mathematics</li></ul></div></div></div></section></div></div>]]>
            </description>
            <link>https://mathvault.ca/hub/higher-math/math-symbols/common-math-symbols/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670752</guid>
            <pubDate>Sun, 28 Jun 2020 18:08:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[VSCodeVim Tips]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23670308">thread link</a>) | @paulshen
<br/>
June 28, 2020 | https://bypaulshen.com/posts/vscode-vim-tips/ | <a href="https://web.archive.org/web/*/https://bypaulshen.com/posts/vscode-vim-tips/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><p>My go-to editor of choice today is VSCode with the <a href="https://marketplace.visualstudio.com/items?itemName=vscodevim.vim">VSCodeVim extension</a>. I won't go into why VSCode and Vim are great üòÑ. Instead, here are some tips for Vim users in VSCode.</p><p>VSCodeVim is a community VSCode plugin that adds good (though not perfect) Vim emulation. It also includes a few popular Vim plugin features. Overall, I'm quite happy with this combination. My main gripes are with performance and responsiveness (compared to Vim) but the extra VSCode features are well worth it for me.</p><p>It's worth scrolling through the VSCodeVim <a href="https://github.com/VSCodeVim/Vim/blob/master/README.md">README</a>, which is packed with features. Here are some of my favorites.</p><h2>VSCodeVim Tricks</h2><p>The <a href="https://github.com/VSCodeVim/Vim#-vscodevim-tricks">VSCodeVim tricks</a> section includes <code>g d</code> (go-to definition) and <code>g h</code> (show hover tooltip). Note that you can often mix-and-match VSCode shortcuts. For example, I use <code>‚åò + d</code> (VSCode shortcut to add next search selection) instead of VSCodeVim's <code>g b</code>. I usually follow multiple selections with <code>c</code> to change the selections.</p><p>Many of VSCode features are built for mouse navigation. Some of these includes <code>‚åò + click</code>, <code>‚å• + ‚åò + click</code>, etc. With Vim, we want to stay on the keyboard as much as possible. I recommend browsing the <a href="https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-shortcuts-editor">keyboard shortcuts editor</a> and adding your own keymaps. One of my favorite commands is <code>editor.action.revealDefinitionAside</code>, which opens the definition of the current symbol under your cursor in a split. I map this to <code>g D</code>.</p><pre><p><span>{</span><span></span></p><p><span>    </span><span>"vim.normalModeKeyBindings"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>    </span><span>{</span><span></span></p><p><span>      </span><span>"before"</span><span>:</span><span> </span><span>[</span><span>"g"</span><span>,</span><span> </span><span>"D"</span><span>]</span><span>,</span><span></span></p><p><span>      </span><span>"commands"</span><span>:</span><span> </span><span>[</span><span>"editor.action.revealDefinitionAside"</span><span>]</span><span></span></p><p><span>    </span><span>}</span><span>,</span><span></span></p><p><span>  </span><span>]</span><span></span></p><p><span></span><span>}</span></p></pre><h2>Easymotion</h2><p>VSCodeVim comes with built-in <a href="https://github.com/VSCodeVim/Vim#vim-easymotion">easymotion</a>! If you're not familiar with the Vim <a href="https://github.com/easymotion/vim-easymotion">plugin</a>, easymotion shows markers for Vim motions, allowing you to jump to a target. The ones I use are search by two characters and start of line forwards and backwards. To turn on this plugin, set the VSCode setting <code>"vim.easymotion": true</code></p><p>I use easymotion A LOT, pretty much for any motion that isn't on the same line. I map <code>s</code> to easymotion 2 char and <code>‚åÉ + j</code> <code>‚åÉ + k</code> to easymotion line forwards backwards, respectively.</p><pre><p><span>"vim.normalModeKeyBindingsNonRecursive"</span><span>:</span><span> </span><span>[</span><span></span></p><p><span>    </span><span>{</span><span></span></p><p><span>      </span><span>"before"</span><span>:</span><span> </span><span>[</span><span>"s"</span><span>]</span><span>,</span><span></span></p><p><span>      </span><span>"after"</span><span>:</span><span> </span><span>[</span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"2"</span><span>,</span><span> </span><span>"s"</span><span>]</span><span></span></p><p><span>    </span><span>}</span><span>,</span><span></span></p><p><span>    </span><span>{</span><span></span></p><p><span>      </span><span>"before"</span><span>:</span><span> </span><span>[</span><span>"&lt;C-j&gt;"</span><span>]</span><span>,</span><span></span></p><p><span>      </span><span>"after"</span><span>:</span><span> </span><span>[</span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"j"</span><span>]</span><span></span></p><p><span>    </span><span>}</span><span>,</span><span></span></p><p><span>    </span><span>{</span><span></span></p><p><span>      </span><span>"before"</span><span>:</span><span> </span><span>[</span><span>"&lt;C-k&gt;"</span><span>]</span><span>,</span><span></span></p><p><span>      </span><span>"after"</span><span>:</span><span> </span><span>[</span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"&lt;leader&gt;"</span><span>,</span><span> </span><span>"k"</span><span>]</span><span></span></p><p><span>    </span><span>}</span><span></span></p><p><span></span><span>]</span></p></pre><h2>Semantic selections</h2><p>Did you know that VSCode has <a href="https://code.visualstudio.com/docs/editor/codebasics#_shrinkexpand-selection">semantic selections</a>? You can expand and shrink your text selection powered by the language service (e.g. TypeScript). It almost works with VSCodeVim with the caveat that you need to press <code>v</code> before inputting your action, even though it already looks like a visual selection.</p><p>It's worth noting VSCodeVim has its own expand motion <code>a f</code> but it is not semantic. However, it does the right thing 90% of the time and may be worth using as your default because of the tighter integration.</p><h2>Surround</h2><p><a href="https://github.com/VSCodeVim/Vim#vim-surround">vim-surround</a> emulation is worth a mention. It provides operations to work with surrounding characters like parentheses, braces, quotes, etc. If you are working on web frontend, it makes it easy to wrap things with XML tags.</p><p><code>S [desired char]</code> will wrap your visual selection. A common operation I perform is select a chunk of text in visual mode and then type <code>S &lt;div&gt;</code> to wrap it in a div tag (obviously replace with tag of choice). You can even type attributes <code>S &lt;div className="foo"&gt;</code> but the input is hidden until you close the tag. Similarly, wrap with <code>S {</code> <code>S (</code> etc.</p><p>Editor tips are never comprehensive but I hope you found something to add to your toolkit. <a href="https://twitter.com/_paulshen">Tell me</a> your favorites!</p><p>June 27, 2020</p></article></div></div>]]>
            </description>
            <link>https://bypaulshen.com/posts/vscode-vim-tips/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670308</guid>
            <pubDate>Sun, 28 Jun 2020 17:14:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[In Search of a Distributed Storage Engine]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23670248">thread link</a>) | @jinqueeny
<br/>
June 28, 2020 | http://huachaohuang.com/2020/06/27/in-search-of-a-distributed-storage-engine.html | <a href="https://web.archive.org/web/*/http://huachaohuang.com/2020/06/27/in-search-of-a-distributed-storage-engine.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>This post introduces the architecture of a <em>distributed storage engine</em> that satisfies various storage requirements.</p>

<h2 id="local-storage-engine">Local Storage Engine</h2>

<p>Let‚Äôs start with the architecture of a local storage engine.</p>

<p>A classic LSM-Tree storage engine (e.g. LevelDB, RocksDB) looks like this:</p>

<p><img src="http://huachaohuang.com/images/lsm-tree-storage-engine.png" alt="LSM-Tree Storage Engine"></p>

<p>All writes go to a <em>Write Ahead Log</em> (WAL) first and then applied to a memtable.
When the size of a memtable reaches a threshold, the memtable is flushed to the drive as an SST file.
SST files are organized into multiple levels with an increasing size threshold.
When the size of a level reaches its threshold, the level is compacted with the next level.
During compaction, the input files are merged, sorted, and compressed into new output files, which needs a lot of computation.</p>

<p>As for reads, hot data are cached in memory to speed up performance.
We can say that a memtable is also a kind of cache, which holds the newly written data.</p>

<p>The components described above have very different characteristics.
A WAL is an append-only file, which is mostly written and occasionally read (on restart).
All SST files are static and read-only.
Memtable and cache only stay in memory.
Flush and compaction consume a lot of CPU.</p>

<p>A local storage engine binds all these components together.
This is fine because a local storage engine can only utilize the resource on a single machine.
However, in a distributed environment (cloud), this way is not good for resource distribution, because we can‚Äôt scale an individual component on demand.
For example, if I want to speed up read performance, I can‚Äôt just add more memory for the cache.
I also have to add more CPU and IO for other components so that I can deploy more instances of the storage engine.
Similarly, I can‚Äôt just add more CPU to speed up compaction.</p>

<p>This is why we should decompose these components in a distributed storage engine.</p>

<h2 id="distributed-storage-engine">Distributed Storage Engine</h2>

<p>People usually expect more from a distributed storage engine than a local one.
Some common requirements of a distributed system include:</p>

<ul>
  <li>High Availability. Data should be replicated to prevent a single point of failure.</li>
  <li>High Scalability. Data should be scheduled to different nodes for load balancing.</li>
  <li>Data Consistency. Some applications are fine with eventual consistency, but some require strong consistency.</li>
  <li>Data Analysis. It should provide a convenient and efficient way to run large scale data analysis jobs.</li>
</ul>

<p>Moreover, a distributed storage engine should not limit the ability of domain-specific optimizations.
For example, a time-series database has some very different characteristics, which provide a lot of opportunities to optimize the data format, compression algorithms, and compaction policies, etc.</p>

<p>Now let‚Äôs see how we can decompose the components of a local storage engine to form a distributed storage engine.
We assume that data are partitioned into a lot of shards according to some application strategy, mostly hash-based or range-based.
From the perspective of a local storage engine, each shard consists of a WAL, a memtable, a cache, and some SST files.
What we need to do here is to distribute these components of all shards in a way that satisfies our requirements.</p>

<h3 id="distributed-journal-system">Distributed Journal System</h3>

<p>First is the WAL.</p>

<p>We need a distributed journal system to handle writes from all shards.
The journal system provides a WAL for each shard and guarantees the necessary availability and consistency.
For example, we can use a consensus algorithm like Raft or Paxos to guarantee high availability and strong consistency. Or we can use a simple asynchronous replication strategy for eventual consistency.</p>

<p><img src="http://huachaohuang.com/images/distributed-journal-system.png" alt="Distributed Journal System"></p>

<h3 id="distributed-cache-system">Distributed Cache System</h3>

<p>The distributed cache system provides various APIs for upper-level applications.</p>

<p><img src="http://huachaohuang.com/images/distributed-cache-system.png" alt="Distributed Cache System"></p>

<p>Many applications love to use Redis-like APIs because those APIs provide the data structures that match their scenarios best.
This is why there are so many Redis API compatible storage systems, either open-sourced or homebrewed.</p>

<p>However, most of these systems store data in some other general-purpose database, which doesn‚Äôt give them control to the underlying storage engine and limits the possibility for further optimizations.
Of course, you can build the whole system from the ground up so that you can do whatever you want.
But that requires a lot of effort (if not too much), especially when you only want to customize some data format or file layout.</p>

<p>With these considerations, the distributed cache system needs to provide flexibility for customization.</p>

<p>In the cache system, each shard controls its API, cache, and memtable.
Shards are stateless, they can be distributed to different nodes easily.
You can scale the cache system by adding more memory nodes without any data migration.
You don‚Äôt need to worry about cache consistency either, because all writes of a shard go to the same node in the cache system.
A shard first writes to the distributed journal system and then updates its memtable.
When the size of a memtable reaches the threshold, the memtable is flushed to the distributed file system (we will talk about it later).
The beauty here is that a shard has full control of the data format and the layout of its files.
A shard can use any data structure for its memtable, flush the memtable into any file format and compact the files using any strategy.
You can also flush a memtable into multiple files with different formats for different workloads.
For example, a record-oriented file format for OLTP and a column-oriented file format for OLAP.
In this case, we can achieve real-time OLAP. The newest written data are accessible in the memtable and all other data are accessible in the distributed file system, no other synchronization mechanisms are needed.</p>

<h3 id="distributed-file-system">Distributed File System</h3>

<p>The distributed file system stores all files flushed from the distributed cache system.</p>

<p><img src="http://huachaohuang.com/images/distributed-file-system.png" alt="Distributed File System"></p>

<p>The distributed file system guarantees its availability and scalability.
Since files in the file system are static, they can be replicated by simply copying them to different places.
It doesn‚Äôt require a complex consensus algorithm to ensure data consistency.
And it can just move files to different places for load balancing.
For example, if a file is too hot, the file system can create more replicas of that file in other nodes to split the traffic.</p>

<p>Besides, the distributed file system can also provide some other nice features.
For example, it is reasonable to separate files for online processing and files for offline analysis into different sets of nodes so that they will not interfere with each other.
And most data analysis jobs can benefit from a lightweight snapshot mechanism.
The distributed file system can create a snapshot of some files by adding some kind of references without copying the files.</p>

<p>On the other side, the problem of a distributed file system versus a local file system is that you need to access your data through the network.
That adds some latency and potential bottleneck in the bandwidth.
But I don‚Äôt very worry about it because the network is becoming more and more powerful, 100Gbps bandwidth is not uncommon.
That said, it is also a good idea to add some kind of coprocessor mechanism to the distributed file system. Coprocessors let us push down the expressions to the data instead of transferring large amounts of data through the network.</p>

<h3 id="distributed-job-system">Distributed Job System</h3>

<p>Finally, we need a distributed job system to schedule different kinds of background jobs, like compaction and compression.</p>

<p><img src="http://huachaohuang.com/images/distributed-job-system.png" alt="Distributed Job System"></p>

<p>A shard can compact its files in the distributed file system by submitting a compaction job to the distributed job system.
The job system needs to find a proper node to run the job.
These background jobs are mostly CPU-bound. We can utilize some hardware acceleration by adding some GPU and FPGA nodes to the system.</p>

<p>A dedicated job system also empowers some heavy-weight compression algorithms, which may be too expensive for a local storage engine, especially during peak hours.</p>

<h2 id="summary">Summary</h2>

<p>Let‚Äôs put these systems together to review the architecture of the distributed storage engine:</p>

<p><img src="http://huachaohuang.com/images/distributed-storage-engine.png" alt="Distributed Storage Engine"></p>

<p>The core idea here is to decompose the components with different characteristics to a standalone system so that they can be reused and scale independently.</p>

<p>The distributed cache system requires a lot of CPU and memory. It can be scaled by adding more CPU and memory with no data migration.
The distributed journal system and file system are mostly IO-bound (Well, if we don‚Äôt consider the coprocessor).
But the journal system is more latency-sensitive than the file system because it handles frontend write requests.
So it is a cost-efficient manner to use high-end drives (e.g. Optane SSD) in the journal system to reduce latency while using ordinary drives (e.g. SATA SSD) in the file system.
The distributed job system can schedule background jobs to any place with enough CPU resources.</p>

<p>Another important thing is that the distributed cache system fully controls its data, which makes all domain-specific optimizations possible.
We can optimize an application with very different assumptions by designing a new set of APIs, file formats, and maybe background jobs, without worrying about the other parts of the whole system.
This is way simpler than building a new storage system again.</p>

  </div>
  
  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>http://huachaohuang.com/2020/06/27/in-search-of-a-distributed-storage-engine.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670248</guid>
            <pubDate>Sun, 28 Jun 2020 17:07:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Does DARPA Work?]]>
            </title>
            <description>
<![CDATA[
Score 321 | Comments 82 (<a href="https://news.ycombinator.com/item?id=23670246">thread link</a>) | @MKais
<br/>
June 28, 2020 | https://benjaminreinhardt.com/wddw | <a href="https://web.archive.org/web/*/https://benjaminreinhardt.com/wddw">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="EssayContents">
<div id="EssayContentsInner">
<div>
  <div id="abstract-ish">
  <p>How can we enable more science fiction to become reality?</p>
  <p><span>If you want to do something, it usually pays to study those who have done that thing successfully in the past. Asking </span><span>‚Äòwhat is this outlier‚Äôs production function?‚Äô
    </span><span>can provide a starting point. </span></p>
  <p><span>DARPA is an outlier organization in the world of turning science fiction into reality. Since 1958, it has been a driving force in the creation of weather satellites, GPS, personal computers, modern robotics, the
      Internet, autonomous cars, and voice interfaces, to name a few. However, it is primarily limited to the domain of defense technology ‚Äì there are DARPA-style ideas that are out of its scope. &nbsp;Which emulatable attributes contributed to
      DARPA‚Äôs outlier results? </span><span>What does a</span>&nbsp;domain-independent&nbsp;‚ÄúARPA Model‚Äù look like? <span>Is it possible to
      build other organizations that generate equally huge results in other domains by riffing on that model?</span></p>
  <p>Gallons of ink have been spilled describing <span>how</span><span>&nbsp;DARPA works</span><a id="footnote_source_1" href="#footnote_1"><sup>1</sup></a><span>,
      but </span><span>in a nutshell here is</span><span>&nbsp;</span><span>how DARPA works.</span><span>&nbsp;Around 100 </span><span>program managers (PMs)</span><span>&nbsp;with ~5 year appointments create and run <span>programs</span> to pursue high-level visions like ‚Äúactualize the idea of man-comp</span><span>uter symbiosis.‚Äù In these programs they fund researchers at universities and both
      big and small companies to do research </span><span>projects</span><span>&nbsp;of different sizes. Collectively, groups working on projects are called </span><span>performers</span>.&nbsp;Top-level
      authority lies with a <span>Director </span>who ultimately reports to the Secretary of Defense. </p>
  <p><span>DARPA has an incredibly powerful model for innovation in defense research, and I believe an abstract ‚Äò<span>ARPA Model</span>‚Äô could yield similar results in other domains. In this piece I‚Äôll explain in detail why
      DARPA works. I‚Äôll use that description to feel out and describe to the best of my ability a platonic ARPA Model. &nbsp;I‚Äôll also distill some of the model‚Äôs implications for potential riffs on the model. Incidentally,
      I‚Äôm working on just such an imitator, and in future essays, I‚Äôll explain why this model could be incredibly powerful when executed in a privately-funded context.</span></p>
  <h4>How to use this document</h4>
  
  <p>This document acts more like a collection of atomic notes than a tight essay ‚Äì a DARPA-themed tapas if you will. The order of the sections is more of a guideline than a law so feel free to skip around. Throughout you will come across internal links that <a id="self-link" href="#self-link">look like this</a>.
    These links are an attempt to illustrate the interconnectedness of the ARPA Model.</p>
  <p><span>There are two stand-alone pieces to accomodate your time and interest:</span><span> a
    </span><span><a href="#distillation">distillation</a></span><span>, and the </span><span><a href="#h.nbyw8g2b67uk">full work</a></span><span>. </span><span>The
      distillation is meant to capture and compress the main points of the full work. Each section of the distillation internally links to the corresponding section one level deeper so if you want more info and nuance you can get it. </span></p>
      <p><span>I would rather this be read by a few people motivated to take action than by a broad audience who will find it merely interesting. In that vein, if you find yourself wanting to share this on Twitter or Hacker News, consider instead sharing it with one or two friends who will take action on it. Thank you for indulging me!</span></p>
      </div>
  
  <h2 id="program_managers_mini"><span>Program Managers</span></h2><p><span><a href="#at_the_end_of_the_day_the_arpa_model_depends_on_badass_program_managers_which_mirrors_the_obsession_with_‚Äútalent‚Äù_in_other_disciplines">At the end of the day the ARPA Model depends on badass program managers.</a></span><span>&nbsp;</span><span>Why is this the case? PMs need to
      think for themselves and go up and down the ladder of abstraction in an unstructured environment. On top of that they need to be effective communicators and coordinators because so much of their jobs is building networks. There‚Äôs a
      pattern that the abstract qualities that make ‚Äúgreat talent‚Äù in different high-variance industries boils down to the ability to successfully make things happen under a lot of uncertainty. Given that pattern, the people who would
      make good DARPA PMs would <span>also</span> make good hedge fund analysts, first employees at startups, etc. so digging into </span><span><a href="#why_do_people_become_darpa_program_managers?">people‚Äôs motivations for becoming a PM</a></span><span>&nbsp;is important. More precise details about what makes a PM good prevent you from going after the exact same people as every other high-variance industry. When ‚Äòtalent‚Äô isn‚Äôt code for ‚Äòspecialized
      training‚Äô it means the role or industry has not been systematized. Therefore, despite all the talk here and elsewhere about ‚Äòthe ARPA Model‚Äô we must keep in mind that we may be attributing more structure to the process than
      actually exists.</span></p><p><span><a href="#darpa_program_managers_pull_control_and_risk_away_from_both_researchers_and_directors">DARPA program managers pull control and risk away from both researchers and directors</a></span><span>.</span><span>&nbsp;PMs pull control away
      from directors by having only one official checkpoint before launching programs and pull control away from performers through their ability to move money around quickly. PMs design programs to be high-risk aggregations of lower-risk projects.
      Only 5‚Äì10 out of every 100 programs successfully produce transformative research, while only 10% of projects are terminated early. Shifting the risk from the performers to the program managers enables DARPA to tackle </span><span>systemic </span><span>problems where other models cannot.</span></p><p><span><a href="#the_best_darpa_program_managers_notice_systemic_biases">The best program managers notice systemic biases and attack them. </a></span><span>For example, noticing that all of the finite element modeling literature
      assumes a locally static situation and asking ‚Äòwhat if it was dynamic?‚Äô </span><span>‚ÄúThe best program managers can get into the trees and still see the forest.‚Äù</span><span> Obviously, this
      quality is rather fuzzy but leads to two precise questions:</span></p>
  <ol ="1"="">
    <li><span>How do you find people who can uncover systemic biases in a discipline? </span></li>
    <li><span>How could you systematize finding systemic biases in a discipline?</span></li>
  </ol>
  <p><span>The first question suggests that you should seek out heretics and people with expertise who are not experts. The second question suggests building structured frameworks for mapping a discipline and its assumptions.
    </span></p><p><span><a href="#a_large_part_of_a_darpa_program_manager‚Äôs_job_is_focused_network_building">A large part of a DARPA program manager‚Äôs job is focused network building</a></span><span>. </span><span>DARPA PMs network in the literal
      sense of creating networks, not just plugging into them. PMs meet disparate people working on ideas adjacent to the area in which they want to have an impact and bring them together in small workshops to dig into which possibilities are not
      impossible and what it would take to make them possible. The PMs host </span><span>performer days</span><span>&nbsp;‚Äî small private conferences for all the people working on different pieces of the program where
      performers can exchange ideas on what is working, what isn‚Äôt working, and build connections that don‚Äôt depend on the PM. </span><span><a href="https://en.wikipedia.org/wiki/J._C._R._Licklider">J.C.R. Licklider</a></span><a id="footnote_source_2" href="#footnote_2"><sup>2</sup></a><span>&nbsp;is a
      paragon here. He brought together all the crazy people interested in human-focused computing. On top of that, &nbsp;he also helped create the first computer science lab groups. PMs also build networks of people in different classes of organizations ‚Äì
      government, academia, startups, and large companies. These connections smooth the path for technologies to go from the lab to the shelf. </span></p><p><span><a href="#darpa_pms_need_to_think_for_themselves,_be_curious,_and_have_low_ego">DARPA PMs need to think for themselves, be curious, and have low ego.</a></span><span>&nbsp;</span><span>Why does this matter? When you are
      surrounded by smart, opinionated people the easy option is to either 100% accept what they‚Äôre saying because it‚Äôs eloquent and well-thought through or reject it outright because it sounds crazy or goes against your priors. Thinking
      for yourself allows you to avoid these traps. PMs need to be curious because building a complete picture of a discipline requires genuine curiosity to ask questions nobody else is asking. A large ego would lead to a program manager imposing
      their will on every piece of the program, killing curiosity and the benefits of top down problems and bottom up solutions.</span></p><p><span><a href="#darpa_is_incredibly_flexible_with_who_it_hires_to_be_program_managers">DARPA is incredibly flexible with who it hires to be program managers.</a></span><span>&nbsp;</span><span>There are legal provisions in place that
      let DARPA bypass normal government hiring rules and procedures. Hiring flexibility is important because PMs are the sort of people who are in high demand, so they may be unwilling to jump through hoops. Bureaucracies ensure consistency through
      rules ‚Äì minimal bureaucracy means there are no safeguards against hiring a terrible program manager so the principle that ‚ÄòA players hire A players and B players hire C players‚Äô is incredibly important. &nbsp;</span></p><p><span><a href="#darpa_program_managers_have_a_tenure_of_four_to_five_years">DARPA Program managers have a tenure of four to five years.</a></span><span>&nbsp;</span><span>This transience is important for many reasons.
      Transience can inculcate PMs against the temptation to play it safe or play power games because there‚Äôs only one clear objective ‚Äì make the program work. You‚Äôre out regardless of success or failure. Explicitly temporary roles can
      incentivize people with many options to join because they can have a huge impact, and then do something else. There‚Äôs no implicit tension between the knowledge that most people will leave eventually and the uncertainty about when that
      will be. Regular program manager turnover means that there is also turnover in ideas.</span></p><p><span><a href="#why_do_people_become_darpa_program_managers?">Why do people become DARPA Program managers? </a></span>From a career and money standpoint, being a program manager seems pretty rough.<span>&nbsp;There are unique benefits though. It offers an outlet for people frustrated with the conservative nature of academia. The prospect of getting to control a lot of money without a ton of oversight appeals to some people.
      Patriotism is definitely a factor, and hard to replicate outside of a government. Being a PM can gain you the respect of a small, elite group of peers who will know what you did. Finally, there may be a particular technological vision they want
      to see out in the world and DARPA gives them the agency to make it happen in unique ways.</span></p>
  <h2 id="incentives_and_structure_mini"><span>Incentives and Structure</span></h2><p><span><a href="#opacity_is_important_to_darpa‚Äôs_outlier_success">Opacity is important to DARPA‚Äôs outlier success.</a></span><span>&nbsp;</span><span>Congress and the DoD have little default oversight
      into how a PM is spending money and running a program. </span><span>Opacity removes incentives to go for easy wins or to avoid being criticized by external forces. Of course, opacity can also be abused in too many ways to list,
      so it‚Äôs important to ask: How does DARPA incentivize people not to abuse opacity? DARPA‚Äôs small size and flat structure enable peer pressure to work in ‚Ä¶</span></p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://benjaminreinhardt.com/wddw">https://benjaminreinhardt.com/wddw</a></em></p>]]>
            </description>
            <link>https://benjaminreinhardt.com/wddw</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670246</guid>
            <pubDate>Sun, 28 Jun 2020 17:07:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hacking a cassette player into a musical instrument]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23670118">thread link</a>) | @qrv3w
<br/>
June 28, 2020 | https://schollz.com/blog/tape-synth/ | <a href="https://web.archive.org/web/*/https://schollz.com/blog/tape-synth/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>


    <div>
        
        <p><img src="https://schollz.com/img/s1/synth.jpg">
    </p></div>
    
    
    
    
    <p>Instructions on converting an old walkman-style cassette player into a synthesizer using an Arduino, a DAC, a few wires, and some code.</p>
    <p>I love weird music projects. I‚Äôve recorded <a href="https://infinitedigits.bandcamp.com/album/alsep12">an album soundtracking the Apollo 12 mission</a> and recently <a href="https://schollz.com/blog/heartbeat">used my heart beat to control music tempo</a>. You can find more of my music at <a href="https://music.byinfinitedigits.com/">music.byinfinitedigits.com</a></p>
<p>Recently, I finished converting an old walkman-style cassette player into a MIDI-controlled synthesizer using an Arduino and a little code - dubbed <strong>the cassette synthesizer</strong>.</p>
<p>The <strong>cassette synthesizer</strong> works by playing a pre-recorded drone (a single tone) from tape and then modulating the speed of the playback to pitch up the tone to any pitch you want. I got this idea for the cassette synthesizer from <a href="http://www.ondemagnetique.com/">Onde Magn√©tique</a> who got the idea from the <a href="http://www.mellotron.com/">Mellotron</a>.</p>
<p>Here‚Äôs a video of me playing the cassette synthesizer, controlled via MIDI by my other keyboard:</p>
<p>
<iframe height="315" src="https://www.youtube.com/embed/LdBik_Zlwy0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<p>The neat thing about this synthesizer is that it has a very ‚Äúanalog‚Äù quality to the changing of notes - the pitch often <em>slides</em> between notes in a neat way (i.e. lots of <a href="https://en.wikipedia.org/wiki/Portamento"><em>portamento</em></a>). It also is versatile because you can record <em>any</em> sound to the tape and use that as your synthesizer.</p>
<h2 id="making-a-cassette-synthesizer">Making a cassette synthesizer</h2>
<p>To make one of these things is actually <em>really</em> easy. I found a great video from Analog Industries showing exactly how to <a href="https://www.youtube.com/watch?v=pF6Yegj7A9o">hack a cassette player</a> to add voltage control to the cassette player. I followed that and then wrote a simple MIDI controller in the browser to modulate the voltage to specific notes.</p>
<p>These instructions will take you through the hardware (Arduino / Cassette player) and the software for the MIDI controller.</p>
<h3 id="supplies">Supplies</h3>
<ul>
<li>GE 3-5362A tape player ($15, eBay has tons of them)</li>
<li><a href="https://www.amazon.com/gp/product/B008GRTSV6/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=B008GRTSV6&amp;linkCode=as2&amp;tag=scholl-20&amp;linkId=7bcd2ae0b8147ff819937b73da545cfb">Arduino</a> ($23)</li>
<li><a href="https://www.amazon.com/gp/product/B00SK8MBXI?ie=UTF8&amp;tag=scholl-20&amp;camp=1789&amp;linkCode=xm2&amp;creativeASIN=B00SK8MBXI">MCP4725 DAC</a> ($11)</li>
<li><a href="https://www.amazon.com/gp/product/B07Y8KR21P?ie=UTF8&amp;tag=scholl-20&amp;camp=1789&amp;linkCode=xm2&amp;creativeASIN=B07Y8KR21P">Audio jack breakout</a> ($8)</li>
<li><a href="https://www.amazon.com/gp/product/B07GD2BWPY?ie=UTF8&amp;tag=scholl-20&amp;camp=1789&amp;linkCode=xm2&amp;creativeASIN=B07GD2BWPY">Jumper wires</a> ($5, if you don‚Äôt have)</li>
<li><a href="https://www.amazon.com/gp/product/B07Q2B4ZY9?ie=UTF8&amp;tag=scholl-20&amp;camp=1789&amp;linkCode=xm2&amp;creativeASIN=B07Q2B4ZY9">Solder iron + supplies</a> ($25, and it lasts a lifetime)</li>
</ul>
<h2 id="hacking-the-ge-3-5362a-tape-player">Hacking the GE 3-5362A tape player</h2>
<p><em>Note:</em> You don‚Äôt necessarily have to use the GE 3-5362A. Any tape player with a variable playback will work. You‚Äôll just have to figure out how to hook up the voltage :)</p>
<p>First thing is to open up the tape player. There are four screws on the back. Just unscrew them and open it carefully. The power lines are connected on the back plate so just don‚Äôt rip those out.</p>
<p><img src="https://schollz.com/img/s1/overview.jpg" alt="Hacking the GE 3-5362A tape player."></p>
<p>To get this tape player working for us we will solder two new components. First we will solder in the <code>Vin</code> which will allow us to control the speed of the cassette player with a voltage controller. Then we will add an audio splitter as a <code>Line in</code> which will let us record directly onto tape (in case you don‚Äôt have a tape deck).</p>
<p>If you don‚Äôt know how to solder - don‚Äôt sweat. Its easy. Check out <a href="https://youtu.be/HTy9Z9LpA2U?t=1011">this video</a> which shows you how to use the existing solder pad and put something onto it.</p>
<h3 id="adding-the-vin-to-control-tape-speed">Adding the <code>Vin</code> to control tape speed</h3>
<p>Locate the dial that says ‚ÄúVariable Speed Playback‚Äù. This is where we will splice in two lines. I like to use red for active and brown/green for ground. Attach the active line to <code>VS+</code> and the ground to the pad right below the one labeled <code>B+</code>.</p>
<p><img src="https://schollz.com/img/s1/vs.jpg" alt="Solder a cable to VS+ and one to the pad next to B+."></p>
<p>A note - I like to use jumper cables that have a female end so I can easily plug stuff into here!</p>
<h3 id="add-in-a-line-in-to-record-directly-onto-tape">Add in a <code>Line in</code> to record directly onto tape</h3>
<p>Locate the red and black cables plugged into pads labeled ‚ÄúMIC-‚Äù and ‚ÄúMIC+‚Äù. You can solder and remove these cables and attach your own from the audio breakout cable. Just solder red to ‚ÄúMIC+‚Äù and black to ‚ÄúMIC-".</p>
<p><img src="https://schollz.com/img/s1/linein.jpg" alt="Solder a line-in via the MIC- and MIC+."></p>
<h3 id="record-a-drone-to-tape">Record a drone to tape</h3>
<p>Put in a tape and record via the line in! Record any note you want, usually a single drone on C works well as a starting point. Record a long time - 30 minutes or so (this would be a good place for tape loops if you have them!). Make sure to record a single tone because you will pitch it up/down later.</p>
<p><img src="https://schollz.com/img/s1/rec.jpg" alt="Recording a drone from my OP-1 to the tape."></p>
<h2 id="setup-an-arduino-as-midi-interface">Setup an Arduino as MIDI interface</h2>
<p>The Arduino serves as a bridge between MIDI and the voltage. A MIDI keyboard is plugged into a computer and a Chrome browser gets the response. The browser executes a request to a server running which sends the serial information for the voltage change to the Arduino, which then modulates the voltage on the walkman.</p>
<p><img src="https://schollz.com/img/s1/arduino.png" alt="Connecting the MCP4725 DAC to the Arduino"></p>
<p>First, simply connect the Arduino to the MCP4725. The MCP4725 is a digital-to-analog converter (DAC) that allows modulating specific voltages directly from the Arduino. The <code>OUT</code> from the MCP4725 should go to the RED wire you connected to the cassette player. Then attach the ground wire on the cassette player to the ground on the Arduino.</p>
<p>The code for the Arduino just communicates via a Serial port to send voltages. For instance, sending <code>voltage1.1</code> will change the output voltage on the DAC to <code>1.1</code>. Here is the code:</p>
<div><pre><code data-lang="c"><span>#include</span> <span>&lt;Wire.h&gt;</span><span>
</span><span>#include</span> <span>&lt;Adafruit_MCP4725.h&gt;</span><span>
</span><span></span>
Adafruit_MCP4725 dac;
String sdata <span>=</span> <span>""</span>; <span>// Initialised to nothing.
</span><span></span><span>bool</span> started <span>=</span> <span>false</span>;
<span>void</span> <span>setup</span>(<span>void</span>) {
  Serial.begin(<span>9600</span>);

  <span>// For Adafruit MCP4725A1 the address is 0x62 (default) or 0x63 (ADDR pin tied to VCC)
</span><span></span>  <span>// For MCP4725A0 the address is 0x60 or 0x61
</span><span></span>  <span>// For MCP4725A2 the address is 0x64 or 0x65
</span><span></span>  dac.begin(<span>0x62</span>);
  pinMode(<span>2</span>, OUTPUT);
  pinMode(<span>3</span>, OUTPUT);

  Serial.println(<span>"Begin"</span>);
}

<span>void</span> <span>loop</span>(<span>void</span>) {
  <span>if</span> (started <span>==</span> <span>false</span>) {
    started <span>=</span> <span>true</span>;
    dac.setVoltage(<span>0</span>, <span>1</span>);
    digitalWrite(<span>2</span>, LOW);
    digitalWrite(<span>3</span>, LOW);
  }
  byte ch;
  <span>if</span> (Serial.available()) {
    ch <span>=</span> Serial.read();
    sdata <span>+=</span> (<span>char</span>)ch;
    <span>if</span> (ch <span>==</span> <span>'\n'</span>) {
      sdata.trim();
      <span>if</span> (sdata.indexOf(<span>"voltage"</span>) <span>&gt;</span> <span>-</span><span>1</span>) {
        sdata.remove(<span>0</span>, <span>7</span>);
        <span>float</span> newVal <span>=</span> sdata.toFloat();
        <span>// set voltage
</span><span></span>        <span>float</span> newVoltage <span>=</span> round(<span>910.0</span> <span>*</span> newVal);
        <span>if</span> (newVoltage <span>&gt;</span> <span>4095</span>) {
          newVoltage <span>=</span> <span>4095</span>;
        }
        uint16_t newVolts <span>=</span> uint16_t(newVoltage);
        dac.setVoltage(newVolts, <span>1</span>);
        Serial.print(<span>"volts: "</span>);
        Serial.println(newVolts);
      } <span>else</span> {
        Serial.println(<span>"?"</span>);
      }
      sdata <span>=</span> <span>""</span>;
    }
  }
}
</code></pre></div><h3 id="server-to-send-serial-commands">Server to send serial commands</h3>
<p>To communicate with the Arduino you can use a simple server that hooks the MIDI to the voltage Serial. You can get this code from <a href="https://github.com/schollz/tape-synth">github.com/schollz/tape-synth</a>. Make sure you have Golang installed (install <a href="https://golang.org/dl/">here</a>).</p>
<div><pre><code data-lang="bash">$ git clone https://github.com/schollz/tape-synth
$ <span>cd</span> tape-synth
$ go build  
$ ./tape-synth -com ARDUINOCOM
</code></pre></div><p><em>Note:</em> you‚Äôll have to run in <code>sudo</code> to access the USB ports usually if you are using Linux. The <code>ARDUINOCOM</code> is the COM-port for the USB-connected Arduino. For Windows it is usually <code>COM4</code>.</p>
<p>The server will serve a webpage from <code>index.html</code>. You should open up Chrome to <code>localhost:8080</code> and you‚Äôll be able to connect a MIDI keyboard and send voltages to the Arduino (Chrome is the most popular <a href="https://developer.mozilla.org/en-US/docs/Web/API/MIDIAccess">MIDI-capable browser</a>).</p>
<h2 id="connect-everything-and-play">Connect everything and play!</h2>
<p>To get it going, start the serial server. Plug in a midi keyboard. Open chrome to the <code>localhost:8080</code>. Turn on the cassette player and <strong>start jamming!</strong> A note on the keyboard should translate into a note on the cassette synthesizer.</p>
<h3 id="tuning-the-synth">Tuning the synth</h3>
<p>Because we are dealing with mechanical pitch shifting (via tape speed) its necessary to tune the synth. To tune each pitch, just open <code>index.html</code> and edit the <code>voltageMap</code>. Each note should have a voltage (between 0 and 3) associated with its pitch.</p>
<div><pre><code data-lang="javascript"><span>var</span> voltageMap <span>=</span> {
    <span>"C"</span><span>:</span> <span>0</span>,
    <span>"C#"</span><span>:</span> <span>0.7</span>,
    <span>"D"</span><span>:</span> <span>0.9</span>,
    <span>"D#"</span><span>:</span> <span>1.2</span>,
    <span>"E"</span><span>:</span> <span>1.4</span>,
    <span>"F"</span><span>:</span> <span>1.62</span>,
    <span>"F#"</span><span>:</span> <span>1.85</span>,
    <span>"G"</span><span>:</span> <span>2.25</span>,
    <span>"G#"</span><span>:</span> <span>2.6</span>,
    <span>"A"</span><span>:</span> <span>3.0</span>,
    <span>"A#"</span><span>:</span> <span>0</span>,
    <span>"B"</span><span>:</span> <span>0</span>,
}
</code></pre></div><h2 id="thats-it">That‚Äôs it!</h2>
<p>If something is unclear (it probably is) don‚Äôt hesitate to reach out to me. I‚Äôm <a href="https://twitter.com/yakczar">yakcar @ twitter</a> and <a href="https://instagram.com/infinitedigits">infinitedigits @ instagram</a>.</p>

    <p>
        <a href="https://schollz.com/blog/tape-synth/"><postamble datetime="2020-06-27" 2018-09-04=""><time datetime="2020-06-27 16:47:18">June 27, 2020</time></postamble></a>
        &nbsp;/&nbsp;<a href="https://indieweb.xyz/en/arduino" target="_blank">arduino</a>&nbsp;<a href="https://indieweb.xyz/en/music" target="_blank">music</a>&nbsp;<a href="https://indieweb.xyz/en/programming" target="_blank">programming</a>&nbsp;

    </p>
</div></div>]]>
            </description>
            <link>https://schollz.com/blog/tape-synth/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23670118</guid>
            <pubDate>Sun, 28 Jun 2020 16:53:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MiniSEQ C64 composer source released by 4mat]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23669969">thread link</a>) | @porbelm
<br/>
June 28, 2020 | https://4mat.itch.io/miniseq | <a href="https://web.archive.org/web/*/https://4mat.itch.io/miniseq">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper"><div id="inner_column"><div id="view_game_page_87408"><div><div><div><p>This is an experimental sequencer that combines editing text screens with the SID chip.&nbsp;&nbsp;It is inspired in part by 100 Rabbits' "Orca", EKO ComputeRhythm videos and the fact that the&nbsp;c64 screen rows and SID register counts match.</p>
<p>By changing the petscii characters on the screen you set values into the SID registers or add to existing values for each beat of the sequence.&nbsp;&nbsp;</p>
<p>Knowledge of the SID chip is a plus, but there are various demo tracks to experiment with included.<br></p>
<p>Requires a PAL or NTSC Commodore 64 or emulator.</p><p>Source code has been added that allows you to create standalone or .SID format versions of your songs.</p></div><div><h2 id="instructions">Install instructions</h2><p>The archive contains executable files and data for the Commodore 64 computer, either a real machine or emulator can be used to run them.</p></div><section id="devlog"><h2>Development log</h2><ul><li><a href="https://4mat.itch.io/miniseq/devlog/157940/mini-seq-source-code-added">Mini SEQ source code added</a><p><abbr title="28 June 2020 @ 15:33"><span></span> 2 days ago</abbr></p></li></ul></section></div><div><div><p id="video_embed_widget_70793"><iframe frameborder="0" allowfullscreen="" src="//www.youtube.com/embed/PvrHruT1YV4"></iframe></p></div><p><a href="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDUucG5n/original/9ElTSh.png" target="_blank" data-image_lightbox="true"><img data-screenshot_id="3711605" srcset="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDUucG5n/347x500/iuHu18.png 1x, https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDUucG5n/794x1000/pPt1JZ.png 2x" src="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDUucG5n/347x500/iuHu18.png"></a><a href="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDYucG5n/original/U5oqkY.png" target="_blank" data-image_lightbox="true"><img data-screenshot_id="3711606" srcset="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDYucG5n/347x500/voRSr%2F.png 1x, https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDYucG5n/794x1000/unyN19.png 2x" src="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDYucG5n/347x500/voRSr%2F.png"></a><a href="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDcucG5n/original/gIJHeN.png" target="_blank" data-image_lightbox="true"><img data-screenshot_id="3711607" srcset="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDcucG5n/347x500/s2gh0%2B.png 1x, https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDcucG5n/794x1000/6IOnGl.png 2x" src="https://img.itch.zone/aW1hZ2UvNjc2NTM5LzM3MTE2MDcucG5n/347x500/s2gh0%2B.png"></a></p></div></div></div></div></div></div>]]>
            </description>
            <link>https://4mat.itch.io/miniseq</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669969</guid>
            <pubDate>Sun, 28 Jun 2020 16:36:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Denial of Wallet Attacks on AWS]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669918">thread link</a>) | @lima
<br/>
June 28, 2020 | https://summitroute.com/blog/2020/06/08/denial_of_wallet_attacks_on_aws | <a href="https://web.archive.org/web/*/https://summitroute.com/blog/2020/06/08/denial_of_wallet_attacks_on_aws">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p>The AWS incidents that make the news are normally data loss incidents (ex. a public S3 bucket), but one of the common ways people find out about a compromise is through their AWS bill, because a common incident that isn‚Äôt made public is a compromised AWS key that is used to spin up EC2s to mine bitcoin.  That attack is used for the personal gain of the attacker, but it is possible that an attacker just wants to bring hurt to you.  Historically, this would have taken the form of a DDoS attack, but in the age of the cloud, that attack can be modified to be a Denial of Wallet attack, where the goal is to cause a high bill such that you run out of money.</p>

<p>When you have servers in a datacenter, and an attacker just wants to bring you hurt, they can DDoS you and your site goes down.  When you run in the cloud, an attacker can do things such that your site might stay up, but you‚Äôll be bankrupt.  This post will describe this concept, how it can be abused, and how it can be avoided.</p>

<p>This post comes about from <a href="https://twitter.com/baphometadata/status/1268192247176220679">this</a> tweet:</p>

<p><a href="https://summitroute.com/img/tweet-denial_of_wallet-kpop.png">
<img src="https://summitroute.com/img/tweet-denial_of_wallet-kpop.png" alt="Denial of wallet attack tweet" title="Denial of wallet attack tweet"></a></p>

<p>As I‚Äôm going to be discussing improvements on the attack, mitigations, and other technical issues related to this, I want to start by briefly touching on some of the non-technical issues involved here:</p>

<ul>
  <li>Black lives matter.</li>
  <li>I don‚Äôt condone illegal or unjust activities, whether that is done by protestors or police officers.</li>
  <li>Increasing police department expenses may only be shifting the burden to tax payers.</li>
  <li>This tweet could have instead been about an app that allows protestors to report on police somehow that was overwhelmed.</li>
</ul>

<p>Now onto the technical issues.</p>


<p>One of the first things you should do on an AWS account is create a <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/monitor_estimated_charges_with_cloudwatch.html">billing alert</a>. It is better to find out about a dozen expensive EC2s running on the day they are spun up, so you can take action, rather than 20 days later after they‚Äôve incurred 20 days worth of charges against your account.</p>

<p>If you‚Äôre just trying AWS out for the first time and you hear about this ‚Äúfree tier‚Äù concept, you might be surprised to discover that nothing stops you doing things that actually cost money, and you won‚Äôt know about this until the end of the billing cycle.  There is no way to tell AWS ‚ÄúDon‚Äôt charge me more than X for the month, and terminate my application if it exceeds that amount.‚Äù   You however can set alerts for when your estimated charges exceed a threshold.  I normally set this to something like $10 for accounts I expect to be free (often you end up with bills for using AWS for something like $0.49, so setting the threshold to $0 causes alerts you aren‚Äôt too worried about).</p>

<p>For enterprises with monthly spend in the millions, this can be more difficult, but can still be helpful.  If you‚Äôre in that category, you should talk to folks like <a href="https://twitter.com/QuinnyPig">Corey Quinn</a> of the <a href="https://www.duckbillgroup.com/">Duckbill Group</a> and Thomas Dullien (aka <a href="https://twitter.com/halvarflake">halvarflake</a>) of <a href="https://optimyze.cloud/">optimyze</a> who each focus on different areas of cloud spend improvements.  This is not a paid ad. I have a lot of respect for both of those people.</p>

<p>One strategy commonly used is to set multiple alarms that you expect to trigger throughout the month. For example, if you expect your bill to be $1000, then set the following:</p>
<ul>
  <li>Alarms for $250, $500, $750, and $1000 and name them based on the week you expect them to trigger.  If your $500 alarm triggers in week 1, you need to investigate.</li>
  <li>Alarms for $1500 and $2000 so you know when your expenses have increased dramatically.</li>
</ul>

<p>For my free tier accounts I have alerts for $10 and $100.  When the $10 alert triggers, and I‚Äôm not around my computer, I‚Äôll casually make a note to look into it when I get back to a computer.  Usually it‚Äôs a domain name being renewed for $12.  When the $100 triggers, I run to my computer because something bad must be happening.</p>

<p>You can have these alerts not only email you, but also text you.  You can set up to 10 alarms for free, after which it is $0.10/mo.</p>


<p>AWS has a number of hard and soft limits that among other possible reasons, help mitigate run-away code. Many people have <a href="https://medium.com/@asankha/lambda-programming-errors-that-could-cost-you-thousands-of-dollars-a-day-265dfac354f">stories</a> about infinite loops happening in AWS that caused resources to be created over and over again, or a Lambda to trigger that caused itself to trigger again.  This is a common enough problem that the <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/Create-CloudWatch-Events-CloudTrail-Rule.html">Cloudwatch Event Rule documentation</a> even has a warning about it.</p>

<p><a href="https://summitroute.com/img/inifinite_loops_cloudwatch_warning.png">
<img src="https://summitroute.com/img/inifinite_loops_cloudwatch_warning.png" alt="Cloudwatch infinite loop warning" title="Cloudwatch infinite loop warning"></a></p>

<p>The limits help stop these coding mistakes.  They can also lead to outages when you hit into these as your application attempts to scale.  For this reason, operations teams should have some familiarity with the <a href="https://aws.amazon.com/blogs/mt/introducing-service-quotas-view-and-manage-your-quotas-for-aws-services-from-one-central-location/">Service Quotas</a> service.</p>

<p>These limits also play a role in mitigating the impact of someone using your account for bitcoin mining.  Without these limits an attacker could try to spin up a million EC2s, but due to these limits, the attacker might only spin up a few dozen EC2s.</p>


<h2 id="one-hit-knockouts">One hit knockouts</h2>
<p>There are a lot of ways to spend money in AWS, but a sort of game that comes up periodically is coming up with the single most expensive API call that could be made in an account.  The largest memory optimized EC2, the x1e.32xlarge with 3TB of memory, costs $26.688/hr in us-east-1, or over $19K/mo, for an on-demand instance.  As Corey Quinn has <a href="https://twitter.com/QuinnyPig/status/1243316557993795586">pointed out</a> though, you can instead make a single call that costs $3M by reserving the instance, using one in a more expensive region, and with with an associated license.</p>

<p><a href="https://summitroute.com/img/tweet-most_expensive_call.png">
<img src="https://summitroute.com/img/tweet-most_expensive_call.png" alt="Expensive API call" title="Expensive API call"></a></p>

<p><a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_PurchaseReservedInstancesOffering.html">That call</a> does allow you to specify an instance count, which is initially limited to 20, so that single call could cost $62M.  From the comments on that thread, another expensive option is to create a <a href="https://docs.aws.amazon.com/savingsplans/latest/APIReference/API_CreateSavingsPlan.html">Savings Plan</a> for $26M.</p>

<p>Involving multiple calls to bump up service limits, actual phone calls to AWS salespeople to get access to things like Outposts or Snowmobile, or possibly by exploring AWS Marketplace or IQ could also bump up the costs. However, chances are a conversation with AWS can likely revoke all those charges.</p>

<h2 id="business-costs">Business costs</h2>
<p>If someone has the ability to make those types of calls in your AWS account, they likely also have the ability to delete all your files in S3, terminate all your instances, and cause other mayhem that has the potential to cause worse business impact.  We‚Äôre reminded here of <a href="https://www.infoworld.com/article/2608076/murder-in-the-amazon-cloud.html#:~:text=Code%20Spaces%20was%20a%20company,essentially%20murdered%20by%20an%20attacker.">Code Spaces</a>, a company that had all of its files deleted, including backups, and had to shutdown within 24 hours of their incident.</p>

<h2 id="mitigations">Mitigations</h2>
<p>For both of these scenarios of running an arbitrary API call, or deleting files, the attacker has compromised access.  You can mitigate both of those scenarios by implementing least privilege on services, enforcing MFA on people, and implementing <a href="https://summitroute.com/blog/2020/03/25/aws_scp_best_practices/">SCPs</a>.  You can mitigate an attacker‚Äôs ability to destroy a business by limiting the blast radius through the use of multiple AWS accounts and WORM backups through the use of <a href="https://aws.amazon.com/about-aws/whats-new/2018/11/s3-object-lock/">S3 Object Lock</a> or again through multiple AWS accounts and SCPs. Those concepts are discussed further in my <a href="https://summitroute.com/downloads/aws_security_maturity_roadmap-Summit_Route.pdf">AWS Security Maturity Roadmap</a>.</p>

<p>Beware of S3 Object Lock though as an attacker could abuse this call to apply an object lock to your files such that they can‚Äôt be deleted, even by the root user, so things like lifecycle policies that you attempt to apply to clear out an S3 bucket of user uploads would not have an effect.  You‚Äôd have to work with AWS Support to try to undo the retention policy so that you‚Äôre not paying for unnecessary files.  The API call for this is <code>s3:PutObjectRetention</code>, so someone with <code>s3:Put*</code> that you think might only be able to write files, can write files and lock them so they aren‚Äôt deleted.</p>


<p>In the face of a DDoS, depending on how the attack is performed, you likely can overcome it through the use of auto-scaling resources. Auto-scaling results in a higher bill though. <a href="https://aws.amazon.com/shield/">AWS Shield</a> is AWS‚Äôs DDoS solution.  By default, and for free, CloudFront and Route53 come with protections against Layer 3 and 4 attacks (ex. SYN Flood).  For higher level attacks, and attacks against EC2 and ELB, you can get Shield Advanced for $3K/mo plus an additional per GB cost for data transferred out.  Shield Advanced includes access to the AWS DDoS Response Team who can apply mitigations on your behalf.  The biggest benefit of Shield Advanced is that in the event of a DDoS where you have to scale up services to handle it, you can get credits back to your account for that additional cost imposed, so this service acts as an insurance policy that your finance team might be interested in.</p>

<p>You may also be able to use <a href="https://aws.amazon.com/waf/">AWS WAF</a> to block certain types of attack.  The <a href="https://d0.awsstatic.com/whitepapers/Security/DDoS_White_Paper.pdf">AWS Best Practices for DDoS
Resiliency</a> goes into further detail about the AWS solutions for DDoS mitigation.</p>


<p>A common application need is the ability to upload files, which the original tweet was about.  One way of doing this is to allow users to upload directly to an S3 bucket.  Using javascript in a web app you can have the browser upload files to S3 directly.  This can also be done with a mobile app.  AWS S3 has no service limits that I am aware of, and there is no way to limit the size of files uploaded to an S3 bucket, the rate at which they are uploaded, or most anything else, through the use of IAM policies or resource policies on the S3 bucket. This means that if you grant an IAM role the ability to upload files to an S3 bucket, they can potentially abuse it.</p>

<p>One attack that can be performed, is to upload large numbers of files or large files. If you actually have AWS credentials, you can do this using <code>aws s3 sync</code>.  By specifying a public bucket as the source, and the victim bucket as the destination, this technique uses AWS‚Äôs own resources against itself, resulting in much faster transfer speeds than you would be able to obtain by attempting to upload files directly from your own laptop.  To avoid problems associated with this, you need to ensure you can differentiate and block specific users that may be abusing your service. You also will want to restrict the file name and size so that single users are not uploading many files or a single large file.  To do this, you should use <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/S3.html#createPresignedPost-property">presigned-posts</a> which allow you to use <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-HTTPPOSTConstructPolicy.html">POST policies</a> where you can specify the name and size limits.  You‚Äôll ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://summitroute.com/blog/2020/06/08/denial_of_wallet_attacks_on_aws">https://summitroute.com/blog/2020/06/08/denial_of_wallet_attacks_on_aws</a></em></p>]]>
            </description>
            <link>https://summitroute.com/blog/2020/06/08/denial_of_wallet_attacks_on_aws</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669918</guid>
            <pubDate>Sun, 28 Jun 2020 16:31:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Bright Future of AppleOS and Multi-Touch Universal Computing]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669779">thread link</a>) | @ingve
<br/>
June 28, 2020 | https://kenyarmosh.com/appleos-future-multitouch-universal-computing | <a href="https://web.archive.org/web/*/https://kenyarmosh.com/appleos-future-multitouch-universal-computing">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
<section id="main-content">
<article>
<header>
<h2>The Bright Future of AppleOS and Multi-Touch Universal&nbsp;Computing</h2>
<time>June 23, 2020</time>
<permalink><a href="https://kenyarmosh.com/appleos-future-multitouch-universal-computing">‚àû</a> </permalink>
</header>
<p>Steve Jobs once noted that Apple‚Äôs extensive user testing studies didn‚Äôt favor using multi-touch on a Mac&nbsp;screen.</p>
<p>But that was a long time ago during <a href="https://youtu.be/AKMG5ox8X6c?t=3389">a Mac special event in October 2010</a> where he introduced iOS features to its Mac&nbsp;counterpart.</p>
<p>A long time ago, at least, in computing&nbsp;years.</p>
<p>What Jobs rightfully pointed out back then was that hardware was one reason that multi-touch didn‚Äôt work in a vertical desktop computing environment. Touch wanted to be horizontal and vertically oriented touch was ‚Äúergonomically terrible.‚Äù Additionally, there was an internal architecture issue with the hardware. Apple‚Äôs touch-based devices operated on a different chipset than its desktop&nbsp;counterparts.</p>
<p>Things continue to change on all these&nbsp;fronts.</p>
<p>The Microsoft Surface suite has since shown how touch can work on the ‚Äúdesktop.‚Äù Hinges on Surfaces, whether the laptop-like form factor of the Surface Go and Surface Pro or the larger desktop Surface Studio, enable both desktop-like and touch-oriented experiences. On the flip side, magnets in Apple‚Äôs Magic Keyboard for the iPad Pro transform it from tablet to a more traditional desktop&nbsp;computer.</p>
<p>There‚Äôs a coalescing across these form factors but which will&nbsp;win?</p>
<p>The answer is‚Ä¶they all&nbsp;will.*</p>
<p>From external to internal hardware design, <a href="https://www.theverge.com/2020/6/22/21295475/apple-mac-processors-arm-silicon-chips-wwdc-2020">the introduction of Apple‚Äôs ARM chipset</a> on the Mac is monumental. Tim Cook inferred that the move to Apple Silicon is the next milestone in Mac‚Äôs history and a ‚Äúgame changer.‚Äù As one example, ARM runs iOS apps without any modification on the more traditional desktop Mac computing&nbsp;environment.</p>
<p>Hardware is just one part of the&nbsp;story.</p>
<p>On the software side, <a href="https://twitter.com/kenyarmosh/status/1135609609387991040">the introduction of iPadOS in 2019 was ironic</a> for those who have been around since day one of touch in the Apple ecosystem. ‚ÄúiPhone OS‚Äù as it was called back then, was rebranded to ‚ÄúiOS‚Äù when the iPad hit the scene. By splitting off almost 10 years later, iPadOS seemed to fragment the ecosystem even&nbsp;further.</p>
<p>With the <a href="https://www.macstories.net/stories/macos-big-sur-the-macstories-overview/">forthcoming macOS 11 Big Sur</a>, Apple is finally retiring Mac OS X, proving that a more unified platform is coming. macOS 11 brings all-new design inspired by iOS and iPadOS. From iOS-like app icons, increased corner radiuses, removal of bezels, and greater attention to screen real estate, it‚Äôs the start of a much more touch-friendly desktop operating&nbsp;system.</p>
<p>This new macOS, soon to be powered by ARM, which can run iOS and macOS apps, showcases the future of an AppleOS and multi-touch universal computing&nbsp;ecosystem.</p>
<p>AppleOS will have the smarts to adapt to the form factor, screen size, and preferred computing paradigm of the user. That means if someone has an iMac but wants to use it in multi-touch mode, the OS will know the difference between a Magic Mouse, Apple Pencil, or finger. Apps in this ecosystem will be built to move easily across screen sizes and input&nbsp;methods.</p>
<p>Users won‚Äôt have to decide between iPhone, iPad, or Mac in the sense of ‚Äúwhich is my main computing device‚Äù or ‚Äúwhich device is best for this task.‚Äù All of them will be. Users will no longer be tethered to the iPad because it‚Äôs the only device that supports the Apple Pencil for sketching and drawing. Likewise, the Mac no longer will be their only choice to carry out ‚Äúpro‚Äù desktop&nbsp;activities.</p>
<p>AppleOS and the future multi-touch universal computing paradigm will not negate the advantage of one form factor over another. Instead, users will have more flexibility than is offered in today‚Äôs computing environment, where a specific OS and device is demanded by&nbsp;default.</p>
<p>Big Sur in the form of macOS 11 and ARM are exciting advancements. Years from now, they will be seen as foundational for AppleOS. Somewhere within Apple Park, in an undisclosed location (of course), that future is being worked on right&nbsp;now.</p>
<p><em><code>*</code> Much like the debate between native and web. I regularly noted <a href="https://twitter.com/kenyarmosh/status/10296417955">back in the late 2000s</a> that both would win their respective&nbsp;mediums.</em></p>
</article>

</section>

</div></div>]]>
            </description>
            <link>https://kenyarmosh.com/appleos-future-multitouch-universal-computing</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669779</guid>
            <pubDate>Sun, 28 Jun 2020 16:14:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Unit Test Deep Learning: Tests in TensorFlow, Mocking and Test Coverage]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669769">thread link</a>) | @sergioskar
<br/>
June 28, 2020 | https://theaisummer.com/unit-test-deep-learning/ | <a href="https://web.archive.org/web/*/https://theaisummer.com/unit-test-deep-learning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            
                            

<p>Programming a deep learning model is not easy (I‚Äôm not going to lie) but testing one is even harder. That‚Äôs why most of the TensorFlow and PyTorch code out there does not include unit testing. But when your code is going to live in a production environment, making sure that it actually does what is intended should be a priority. After all, machine learning is not different from any other software.</p>

<p>Note that this post is the third part of the <strong>Deep Learning in Production course where we discover how to convert a notebook into production-ready code that can be served to millions of users.</strong></p>

<p>In this article, we are going to focus on how to properly test machine learning code, analyze some best practices when writing unit tests and present a number of example cases where testing is kind of a necessity. We will start on why we need them in our code, then we will do a quick catch up on the basics of testing in python, and then we will go over a number of practical real-life scenarios.</p>

<h2 id="why-we-need-unit-testing">Why we need unit testing</h2>

<p>When developing a neural network, most of us don‚Äôt care about catching all possible exceptions, finding all corner cases, or debugging every single function. We just need to see our model fit. And then we just need to increase its accuracy until it reaches an acceptable point. That‚Äôs all good but what happens when the model will be deployed into a server and used in an actual public faced application? Most likely it will crash because some users may be sending wrong data or because of some silent bug that messes up our data preprocessing pipeline. We might even discover that our model was in fact corrupted all this time.</p>

<p>This is where <strong>unit tests</strong> come into play. To prevent all these things before they even occur. Unit tests are tremendously useful because they:</p>

<ol>
  <li>
    <p>Find software bugs early</p>
  </li>
  <li>
    <p>Debug our code</p>
  </li>
  <li>
    <p>Ensure that the code does what is supposed to do</p>
  </li>
  <li>
    <p>Simplify the refactoring process</p>
  </li>
  <li>
    <p>Speed up the integration process</p>
  </li>
  <li>
    <p>Act as documentation</p>
  </li>
</ol>

<p>Don‚Äôt tell me that you don‚Äôt want at least some of the above. Sure testing can take up a lot of your precious time but it‚Äôs 100% worth it. You will see why in a bit.</p>

<p>But what exactly is a unit test?</p>

<h2 id="basics-of-unit-testing">Basics of Unit testing</h2>

<p>In simple terms, <strong>unit testing is just a function calling another function (or a unit) and checking if the values returned match the expected output.</strong> Let‚Äôs see an example using our UNet model to make it more clear (If you haven‚Äôt followed the series you can find the code in our <a href="https://github.com/The-AI-Summer/Deep-Learning-In-Production" rel="noopener" target="_blank">GitHub repo</a>.</p>

<p>In a few words, we took an official Tensorflow google colab that performs image segmentation and we try to convert it into a highly optimized production-ready code. Check the first two parts <a href="https://theaisummer.com/deep-learning-production/" target="_blank">here</a> and <a href="https://theaisummer.com/best-practices-deep-learning-code/" target="_blank">here</a>).</p>

<p>So we have this simple function that normalized an image by dividing all the pixels by 255.</p>

<div><div><pre><code>
<span>def</span> <span>_normalize</span><span>(</span><span>self</span><span>,</span> <span>input_image</span><span>,</span> <span>input_mask</span><span>):</span>
    <span>""" Normalise input image
    Args:
        input_image (tf.image): The input image
        input_mask (int): The image mask

    Returns:
        input_image (tf.image): The normalized input image
        input_mask (int): The new image mask
    """</span>
    <span>input_image</span> <span>=</span> <span>tf</span><span>.</span><span>cast</span><span>(</span><span>input_image</span><span>,</span> <span>tf</span><span>.</span><span>float32</span><span>)</span> <span>/</span> <span>255.0</span>
    <span>input_mask</span> <span>-=</span> <span>1</span>
    <span>return</span> <span>input_image</span><span>,</span> <span>input_mask</span>

</code></pre></div></div>

<p>To make sure that it does exactly what it is supposed to do, we can write another function that uses the ‚Äú_normalize‚Äù and check its result. It will look something like this.</p>

<div><div><pre><code>
  <span>def</span> <span>test_normalize</span><span>(</span><span>self</span><span>):</span>
        <span>input_image</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([[</span><span>1.</span><span>,</span> <span>1.</span><span>],</span> <span>[</span><span>1.</span><span>,</span> <span>1.</span><span>]])</span>
        <span>input_mask</span> <span>=</span> <span>1</span>
        <span>expected_image</span> <span>=</span> <span>np</span><span>.</span><span>array</span><span>([[</span><span>0.00392157</span><span>,</span> <span>0.00392157</span><span>],</span> <span>[</span><span>0.00392157</span><span>,</span> <span>0.00392157</span><span>]])</span>

        <span>result</span> <span>=</span> <span>self</span><span>.</span><span>unet</span><span>.</span><span>_normalize</span><span>(</span><span>input_image</span><span>,</span> <span>input_mask</span><span>)</span>
        <span>self</span><span>.</span><span>assertEquals</span><span>(</span><span>expected_image</span><span>,</span> <span>result</span><span>[</span><span>0</span><span>])</span>

</code></pre></div></div>

<p>The ‚Äútest_normalize‚Äù function creates a fake input image, calls the function with that image as an argument, and then makes sure that the result is equal to the expected image. The ‚ÄúassertEquals‚Äù is a special function, coming from the <strong>unittest</strong> package in python (more on that in a sec) and does exactly what its name suggests. It asserts that the two values are equal. Note that you can also use something like this bellow but using built-in functions has its advantages</p>

<div><div><pre><code>
<span>assert</span> <span>expected_image</span> <span>==</span> <span>result</span><span>[</span><span>0</span><span>]</span>

</code></pre></div></div>

<p>That‚Äôs it. That‚Äôs unit testing. Tests can be used on both very small functions and bigger complex functionalities across different modules.</p>

<h2 id="unit-tests-in-python">Unit tests in Python</h2>

<p>Before we see some more examples, I‚Äôd say to do a quick catch up on how Python supports unit testing.</p>

<p>The main test framework/runner that comes into Python‚Äôs standard library is <a href="https://docs.python.org/3/library/unittest.html" rel="noopener" target="_blank">unittest</a>. Unittest is pretty straightforward to use and it has only two requirements: to put your tests into a class and use its special assert functions. A simple example can be found below:</p>

<div><div><pre><code>
<span>import</span> <span>unittest</span>


<span>class</span> <span>UnetTest</span><span>(</span><span>unittest</span><span>.</span><span>TestCase</span><span>):</span>

    <span>def</span> <span>test_normalize</span><span>(</span><span>self</span><span>):</span>
        <span>.</span> <span>.</span> <span>.</span>

<span>if</span> <span>__name__</span> <span>==</span> <span>'__main__'</span><span>:</span>
    <span>unittest</span><span>.</span><span>main</span><span>()</span>

</code></pre></div></div>

<p>Some things to notice here:</p>

<ol>
  <li>
    <p>We have our test class which includes a ‚Äútest_normalize‚Äù function as a method. In general,  test functions are named with ‚Äútest_‚Äù as a prefix followed by the name of the function they test. (This is a convention but it also enables unittest‚Äôs autodiscovery functionality, which is the ability of the library to automatically detect all unit tests within a project or a module so you don‚Äôt have to run them one by one)</p>
  </li>
  <li>
    <p>To run unit tests, we call the ‚Äúunittest.main()‚Äù function which discovers all tests within the module, runs them and prints their output.</p>
  </li>
  <li>
    <p>Our UnetTest class inherits the ‚Äú<strong>unittest.TestCase</strong>‚Äù class. This class helps us set unique test cases with different inputs because it comes with ‚Äú<strong>setUp()‚Äù</strong> and <strong>‚ÄútearDown()‚Äù</strong> methods. In setUp() we can define our inputs that can be accessed by all tests and in tearDown() we can dissolve them( see snippet in the next chapter). This is helpful because all tests should run independently and generally they can‚Äôt share information. Well, now they can.</p>
  </li>
</ol>

<p>Another two powerful frameworks are <a href="https://docs.pytest.org/en/stable/" rel="noopener" target="_blank">pytest</a> and <a href="https://nose.readthedocs.io/en/latest/" rel="noopener" target="_blank">nose</a>, which are pretty much governed by the same principles. I suggest playing with them a little before you decide what suits you best. I personally use pytest most of the times because it feels a bit simpler and it supports a few nice to have things like fixtures and test parameterization( which I‚Äôm not gonna go into details here, you can check the official docs for more). But honestly it doesn‚Äôt have that big of a difference so you should be fine with either of them.</p>

<h3 id="tests-in-tensorflow-tftest">Tests in Tensorflow: tf.test</h3>

<p>But here I‚Äôm going to discuss another one, a less known one. Since we use Tensorflow to program our model we can take advantage of ‚Äú<a href="https://www.tensorflow.org/api_docs/python/tf/test" rel="noopener" target="_blank">tf.test</a>‚Äù, which is an extension of unittest but it contains assertions tailored to Tensorflow code (yup I was shocked when I found that out too). In that case, our code morphed into this:</p>

<div><div><pre><code>
<span>import</span> <span>tensorflow</span> <span>as</span> <span>tf</span>


<span>class</span> <span>UnetTest</span><span>(</span><span>tf</span><span>.</span><span>test</span><span>.</span><span>TestCase</span><span>):</span>

    <span>def</span> <span>setUp</span><span>(</span><span>self</span><span>):</span>
        <span>super</span><span>(</span><span>UnetTest</span><span>,</span> <span>self</span><span>).</span><span>setUp</span><span>()</span>
        <span>.</span> <span>.</span> <span>.</span>

    <span>def</span> <span>tearDown</span><span>(</span><span>self</span><span>):</span>
        <span>pass</span>

    <span>def</span> <span>test_normalize</span><span>(</span><span>self</span><span>):</span>
        <span>.</span> <span>.</span> <span>.</span>

    
<span>if</span> <span>__name__</span> <span>==</span> <span>'__main__'</span><span>:</span>
    <span>tf</span><span>.</span><span>test</span><span>.</span><span>main</span><span>()</span>

</code></pre></div></div>

<p>It has exactly the same baselines with the caveat that we need to call the ‚Äúsuper()‚Äù function inside the ‚ÄúsetUp‚Äù, which enables ‚Äútf.test‚Äù to do its magic. Pretty cool hah?</p>

<h2 id="mocking">Mocking</h2>

<p>Another super important topic you should be aware of is Mocking and mock objects. Mocking classes and functions are super common when writing java for example but in Python is very underutilized. <strong>Mocking makes it very easy to replace complex logic or heavy dependencies when testing code using dummy objects</strong>. By dummy objects, we refer to simple, easy to code objects that have the same structure with our real objects but contain fake or useless data. In our case a dummy object might be a 2d tensor with all ones which mimics an actual image (just like the ‚Äúinput_image in the first code snippet).</p>

<p>Mocking also helps us control the code‚Äôs behavior and simulate expensive calls. Let‚Äôs look at an example using once again our UNet.</p>

<p>Let‚Äôs assume that we want to make sure that the data preprocessing step is correct and that our code splits the data and creates the training and tests dataset as it should (a very common test case).  Here is our code we want to test:</p>

<div><div><pre><code>
<span>def</span> <span>load_data</span><span>(</span><span>self</span><span>):</span>
        <span>""" Loads and Preprocess data """</span>
        <span>self</span><span>.</span><span>dataset</span><span>,</span> <span>self</span><span>.</span><span>info</span> <span>=</span> <span>DataLoader</span><span>().</span><span>load_data</span><span>(</span><span>self</span><span>.</span><span>config</span><span>.</span><span>data</span><span>)</span>
        <span>self</span><span>.</span><span>_preprocess_data</span><span>()</span>

<span>def</span> <span>_preprocess_data</span><span>(</span><span>self</span><span>):</span>
    <span>""" Splits into training and test and set training parameters"""</span>
    <span>train</span> <span>=</span> <span>self</span><span>.</span><span>dataset</span><span>[</span><span>'train'</span><span>].</span><span>map</span><span>(</span><span>self</span><span>.</span><span>_load_image_train</span><span>,</span> <span>num_parallel_calls</span><span>=</span><span>tf</span><span>.</span><span>data</span><span>.</span><span>experimental</span><span>.</span><span>AUTOTUNE</span><span>)</span>
    <span>test</span> <span>=</span> <span>self</span><span>.</span><span>dataset</span><span>[</span><span>'test'</span><span>].</span><span>map</span><span>(</span><span>self</span><span>.</span><span>_load_image_test</span><span>)</span>

    <span>self</span><span>.</span><span>train_dataset</span> <span>=</span> <span>train</span><span>.</span><span>cache</span><span>().</span><span>shuffle</span><span>(</span><span>self</span><span>.</span><span>buffer_size</span><span>).</span><span>batch</span><span>(</span><span>self</span><span>.</span><span>batch_size</span><span>).</span><span>repeat</span><span>()</span>
    <span>self</span><span>.</span><span>train_dataset</span> <span>=</span> <span>self</span><span>.</span><span>train_dataset</span><span>.</span><span>prefetch</span><span>(</span><span>buffer_size</span><span>=</span><span>tf</span><span>.</span><span>data</span><span>.</span><span>experimental</span><span>.</span><span>AUTOTUNE</span><span>)</span>
    <span>self</span><span>.</span><span>test_dataset</span> <span>=</span> <span>test</span><span>.</span><span>batch</span><span>(</span><span>self</span><span>.</span><span>batch_size</span><span>)</span>

<span>def</span> <span>_load_image_train</span><span>(</span><span>self</span><span>,</span> <span>datapoint</span><span>):</span>
    <span>""" Loads and preprocess  a single training image """</span>
    <span>input_image</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>resize</span><span>(</span><span>datapoint</span><span>[</span><span>'image'</span><span>],</span> <span>(</span><span>self</span><span>.</span><span>image_size</span><span>,</span> <span>self</span><span>.</span><span>image_size</span><span>))</span>
    <span>input_mask</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>resize</span><span>(</span><span>datapoint</span><span>[</span><span>'segmentation_mask'</span><span>],</span> <span>(</span><span>self</span><span>.</span><span>image_size</span><span>,</span> <span>self</span><span>.</span><span>image_size</span><span>))</span>

    <span>if</span> <span>tf</span><span>.</span><span>random</span><span>.</span><span>uniform</span><span>(())</span> <span>&gt;</span> <span>0.5</span><span>:</span>
        <span>input_image</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>flip_left_right</span><span>(</span><span>input_image</span><span>)</span>
        <span>input_mask</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>flip_left_right</span><span>(</span><span>input_mask</span><span>)</span>

    <span>input_image</span><span>,</span> <span>input_mask</span> <span>=</span> <span>self</span><span>.</span><span>_normalize</span><span>(</span><span>input_image</span><span>,</span> <span>input_mask</span><span>)</span>

    <span>return</span> <span>input_image</span><span>,</span> <span>input_mask</span>

<span>def</span> <span>_load_image_test</span><span>(</span><span>self</span><span>,</span> <span>datapoint</span><span>):</span>
    <span>""" Loads and preprocess a single test image"""</span>

    <span>input_image</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>resize</span><span>(</span><span>datapoint</span><span>[</span><span>'image'</span><span>],</span> <span>(</span><span>self</span><span>.</span><span>image_size</span><span>,</span> <span>self</span><span>.</span><span>image_size</span><span>))</span>
    <span>input_mask</span> <span>=</span> <span>tf</span><span>.</span><span>image</span><span>.</span><span>resize</span><span>(</span><span>datapoint</span><span>[</span><span>'segmentation_mask'</span><span>],</span> <span>(</span><span>self</span><span>.</span><span>image_size</span><span>,</span> <span>self</span><span>.</span><span>image_size</span><span>))</span>

    <span>input_image</span><span>,</span> <span>input_mask</span> <span>=</span> <span>self</span><span>.</span><span>_normalize</span><span>(</span><span>input_image</span><span>,</span> <span>input_mask</span><span>)</span>

    <span>return</span> <span>input_image</span><span>,</span> <span>input_mask</span>

</code></pre></div></div>

<p>No need to ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://theaisummer.com/unit-test-deep-learning/">https://theaisummer.com/unit-test-deep-learning/</a></em></p>]]>
            </description>
            <link>https://theaisummer.com/unit-test-deep-learning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669769</guid>
            <pubDate>Sun, 28 Jun 2020 16:13:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You can pretty much always add value]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669682">thread link</a>) | @stewfortier
<br/>
June 28, 2020 | https://stewfortier.com/you-can-pretty-much-always-add-value/ | <a href="https://web.archive.org/web/*/https://stewfortier.com/you-can-pretty-much-always-add-value/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-content" role="main">

	
<article id="post-1032">

	
<!-- .entry-header -->

	<div>

		<div>

			
<div><div>
<div><figure><img src="https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/f80ec627-0531-4959-bdfc-c073ddfc14fe.jpg?resize=500%2C249&amp;ssl=1" alt="" width="500" height="249" srcset="https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/f80ec627-0531-4959-bdfc-c073ddfc14fe.jpg?resize=1024%2C511&amp;ssl=1 1024w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/f80ec627-0531-4959-bdfc-c073ddfc14fe.jpg?resize=300%2C150&amp;ssl=1 300w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/f80ec627-0531-4959-bdfc-c073ddfc14fe.jpg?resize=768%2C383&amp;ssl=1 768w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/f80ec627-0531-4959-bdfc-c073ddfc14fe.jpg?w=1200&amp;ssl=1 1200w" sizes="(max-width: 500px) 100vw, 500px" data-recalc-dims="1"></figure></div>



<p>In 2017, I spent a few days traveling through Ecuador and the Galapagos Islands with Richard Dawkins.</p>



<p>If you don‚Äôt know&nbsp;<a href="https://www.google.com/url?q=https://en.wikipedia.org/wiki/Richard_Dawkins&amp;sa=D&amp;ust=1589136599524000">Dawkins</a>, he‚Äôs a famous writer, atheist, and evolutionary biologist.</p>



<p>He‚Äôs written more New York Times Bestsellers than most writers have written books.</p>



<p>He‚Äôll be remembered as one of history‚Äôs most influential thinkers.</p>



<p>So you can imagine my surprise when one afternoon he passed around a&nbsp;manuscript of his next book and asked a few of us on the trip for feedback.</p>
</div></div>



<div><figure><img src="https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/bc00f230-decb-473e-930a-c873a4cb7828.jpg?fit=580%2C438&amp;ssl=1" alt="" width="470" height="355" srcset="https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/bc00f230-decb-473e-930a-c873a4cb7828.jpg?w=1200&amp;ssl=1 1200w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/bc00f230-decb-473e-930a-c873a4cb7828.jpg?resize=300%2C227&amp;ssl=1 300w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/bc00f230-decb-473e-930a-c873a4cb7828.jpg?resize=1024%2C773&amp;ssl=1 1024w, https://i1.wp.com/stewfortier.com/wp-content/uploads/2020/05/bc00f230-decb-473e-930a-c873a4cb7828.jpg?resize=768%2C580&amp;ssl=1 768w" sizes="(max-width: 470px) 100vw, 470px"></figure></div>



<p><em>What on Earth could I tell Richard Dawkins about how his next book could be better?</em></p>



<p>The book was a beginner‚Äôs guide to atheism written for kids and young adults who were having doubts about the Bible and religion in general.</p>



<p>It was meant to be a sort of guide to help them articulate their doubts.</p>



<p>And after I read the first couple chapters, I realized something‚Ä¶</p>



<p><em>Yeah, these chapters are absolute fire, but what‚Äôs the point if the kid never brings it up to their parents? If they‚Äôre going to build confidence in their new beliefs, they need to ask adults questions and then see how bad their answers are.</em></p>



<p>The rest of the group chimed in with suggestions, but it was&nbsp;mostly just one form of praise or another.</p>



<p>Dawkins politely nodded along‚Ä¶</p>



<p>‚ÄúYou should add questions at the end of each chapter that a kid can ask their parents at the dinner table,‚Äù I told Dawkins.</p>



<p>He lit up.</p>



<p>‚ÄúThat‚Äôs a wonderful idea. Yes, I love that,‚Äù he said. He asked his girlfriend to write down the suggestion.</p>



<p>It was the only one he wrote down.</p>



<p>‚ÄúDamn,‚Äù I thought to myself. ‚ÄúI guess I can pretty much always add value if I just try.‚Äù</p>



<hr>


<!-- Mailchimp for WordPress v4.7.8 - https://wordpress.org/plugins/mailchimp-for-wp/ --><!-- / Mailchimp for WordPress Plugin -->

		</div><!-- .entry-content -->

	</div><!-- .post-inner -->

	<!-- .section-inner -->

	
	<!-- .pagination-single -->

	
		<!-- .comments-wrapper -->

		
</article><!-- .post -->

</div></div>]]>
            </description>
            <link>https://stewfortier.com/you-can-pretty-much-always-add-value/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669682</guid>
            <pubDate>Sun, 28 Jun 2020 16:04:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Hacker News front page in the style of a print newspaper]]>
            </title>
            <description>
<![CDATA[
Score 579 | Comments 127 (<a href="https://news.ycombinator.com/item?id=23669650">thread link</a>) | @wolfgang42
<br/>
June 28, 2020 | https://www.wolfgangfaust.com/project/paper-hn/ | <a href="https://web.archive.org/web/*/https://www.wolfgangfaust.com/project/paper-hn/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>This looks much nicer if you enable JavaScript.</p><div><section><h2><a href="https://jvns.ca/blog/2020/06/30/tell-candidates-what-to-expect-from-your-job-interviews/">Tell candidates what to expect from your job interviews</a></h2><p><code>jvns.ca</code> ‚Äî In my last job, I helped with a few projects (like brag documents and the engineering levels) to help make the engineering culture a little more inclusive, and I want to talk about one of them today: making the interview process a little easier to understand for candidates. <strong><a href="https://news.ycombinator.com/item?id=23698299">CANDIDATES</a>,&nbsp;1</strong></p></section><section><img src="https://blog.malwarebytes.com/wp-content/uploads/2016/08/pexels-photo-30210-600x400.jpg"><h2><a href="https://blog.malwarebytes.com/mac/2020/06/new-mac-ransomware-spreading-through-piracy/">New Mac ransomware spreading through piracy</a></h2><p><code>malwarebytes.com</code> ‚Äî Posted: June 30, 2020 by Thomas Reed   <strong><a href="https://news.ycombinator.com/item?id=23695270">RANSOMWARE</a>,&nbsp;2</strong></p></section><section><img src="https://discourse-prod-uploads-81679984178418.s3.dualstack.us-west-2.amazonaws.com/original/3X/1/e/1e9bf330a7eb757e98e400cdc695a6037f2ce9a0.png"><h2><a href="https://discourse.mozilla.org/t/common-voice-dataset-release-mid-year-2020/62938">Mozilla Common Voice Dataset: More data, more languages</a></h2><p><code>mozilla.org</code> ‚Äî Powered by Discourse, best viewed with JavaScript enabled <strong><a href="https://news.ycombinator.com/item?id=23695377">DATASET</a>,&nbsp;3</strong></p></section><section><img src="https://cdn.vox-cdn.com/thumbor/S5g-vzLXziLfXREg4aazZSIl1Nw=/0x146:2040x1214/fit-in/1200x630/cdn.vox-cdn.com/uploads/chorus_asset/file/13250977/akrales_181010_2991_0038.jpg"><h2><a href="https://www.theverge.com/2020/6/30/21308449/youtube-tv-price-increase-64-99-viacom-hbo-new-channels">YouTube TV sharply increases monthly subscription to $64.99</a></h2><p><code>theverge.com</code> ‚Äî Prices are going up as YouTube TV adds new ViacomCBS channels <strong><a href="https://news.ycombinator.com/item?id=23693407">SHARPLY</a>,&nbsp;4</strong></p></section><section><img src="https://d2r55xnwy6nx47.cloudfront.net/uploads/2020/06/Chirality_1200_Social.jpg"><h2><a href="https://www.quantamagazine.org/cosmic-rays-may-explain-lifes-bias-for-right-handed-dna-20200629/">Cosmic Rays May Explain Life‚Äôs Bias for Right-Handed DNA</a></h2><p><code>quantamagazine.org</code> ‚Äî If you could shrink small enough to descend the genetic helix of any animal, plant, fungus, bacterium or virus on Earth as though it were a spiral staircase, you would always find yourself turning right ‚Äî never left. It‚Äôs a universal trait in want of an explanation. <strong><a href="https://news.ycombinator.com/item?id=23688535">EXPLAIN</a>,&nbsp;5</strong></p></section><section><img src="https://www.economist.com/sites/default/files/images/print-edition/20200627_FBD001_0.jpg"><h2><a href="https://www.economist.com/briefing/2020/06/25/the-world-should-think-better-about-catastrophic-and-existential-risks">The world should think better about catastrophic and existential risks</a></h2><p><code>economist.com</code> ‚Äî Plans and early-warning systems are always a good idea <strong><a href="https://news.ycombinator.com/item?id=23685886">CATASTROPHIC</a>,&nbsp;6</strong></p></section><section><img src="https://linear.app/static/metaImage4.jpg"><h2><a href="http://linear.app/">Linear ‚Äì A fast issue tracker</a></h2><p><code>linear.app</code> ‚Äî Linear helps streamline software projects, sprints, tasks, and bug tracking. It's built for high-performance teams. <strong><a href="https://news.ycombinator.com/item?id=23693029">TRACKER</a>,&nbsp;7</strong></p></section><section><h2><a href="http://antirez.com/news/133">The End of the Redis Adventure</a></h2><p><code>antirez.com</code> ‚Äî  The end of the Redis adventureantirez 18 hours ago. 204642 views. When I started the Redis project more than ten years ago I was in one of the most exciting moments of my career. My co-founder and I had successfully launched two of the major web 2.0 services of the Italian web. In order to make them scalable we had to invent many new concepts, that were already known in the field most of the times, but we didn‚Äôt know, nor we cared to check. Problem? Let‚Äôs figure out a solution. We wanted to solve problems but we wanted, even more, to have fun. This was the playful environment where Redis was born. But now Redis is, incredibly, one of the main parts of so many things. And year after year my work changed from building this thing to making sure that it was also as useful as possible, as reli... <strong><a href="https://news.ycombinator.com/item?id=23689549">ADVENTURE</a>,&nbsp;8</strong></p></section><section><img src="https://dl.acm.org/pb-assets/icons/ACM-DL-Logo-white-1519079037293.png"><h2><a href="https://dl.acm.org/doi/10.1145/357353.357355">Implementing atomic actions on decentralized data (1983)</a></h2><p><code>acm.org</code> ‚Äî We use cookies to ensure that we give you the best experience on our website. <strong><a href="https://news.ycombinator.com/item?id=23688023">ATOMIC</a>,&nbsp;9</strong></p></section><section><img src="https://pragmaticpineapple.com/static/a61b0458abb2430b8852000f8cb7332c/og-image.jpg"><h2><a href="https://pragmaticpineapple.com/how-did-vim-become-so-popular/">How Did Vim Become So Popular?</a></h2><p><code>pragmaticpineapple.com</code> ‚Äî June 29, 2020 | about 6 minutes to read  <strong><a href="https://news.ycombinator.com/item?id=23689091">VIM</a>,&nbsp;10</strong></p></section><section><img src="https://oup.silverchair-cdn.com/UI/app/svg/pdf.svg"><h2><a href="https://academic.oup.com/mnras/article/496/2/1902/5863970">The possible disappearance of a massive star in the galaxy PHL 293B</a></h2><p><code>oup.com</code> ‚Äî Andrew P Allan, Jose H Groh, Andrea Mehner, Nathan Smith, Ioana Boian, Eoin J Farrell, Jennifer E Andrews, The possible disappearance of a massive star in the low-metallicity galaxy PHL 293B, Monthly Notices of the Royal Astronomical Society, Volume 496, Issue 2, August 2020, Pages 1902‚Äì1908, https://doi.org/10.1093/mnras/staa1629 <strong><a href="https://news.ycombinator.com/item?id=23688850">DISAPPEARANCE</a>,&nbsp;11</strong></p></section><section><h2><a href="http://tylerneylon.com/a/learn-lua/">Learn Lua in 15 Minutes (2013)</a></h2><p><code>tylerneylon.com</code> ‚Äî   Learn Lua in 15 Minutes       -- Two dashes start a one-line comment. --[[ Adding two ['s and ]'s makes it a multi-line comment. --]] ---------------------------------------------------- -- 1. Variables and flow control. ---------------------------------------------------- num = 42 -- All numbers are doubles. -- Don't freak out, 64-bit doubles have 52 bits for -- storing exact int values; machine precision is -- not a problem for ints that need &lt; 52 bits. s = 'walternate' -- Immutable strings like Python. t = "double-quotes are also fine" u = [[ Double brackets start and end multi-line strings.]] t = nil -- Undefines t; Lua has garbage collection. -- Blocks are denoted with keywords like do/end: while num &lt; 50 do num = num + 1 -- No ++ or += type operators. end -- If clauses: if num &gt; 40... <strong><a href="https://news.ycombinator.com/item?id=23694667">LUA</a>,&nbsp;12</strong></p></section><section><img src="https://yoga.dev/images/greppy1tlb_300px.jpg"><h2><a href="https://yoga.dev/timeshared-robots/">Show HN: Program ‚ÄúGreppy‚Äù, a 2-wheeled robot, using a new robotics language</a></h2><p><code>yoga.dev</code> ‚Äî I‚Äôve been wanting to do a Show HN for my robotics developer tool Yoga Studio for a while. But given that: <strong><a href="https://news.ycombinator.com/item?id=23696193">GREPPY</a>,&nbsp;13</strong></p></section><section><img src="https://research.fb.com/wp-content/uploads/2020/06/Holographic-optics_1.jpg?w=1600&amp;h=657&amp;crop=1"><h2><a href="https://research.fb.com/blog/2020/06/holographic-optics-for-thin-and-lightweight-virtual-reality/">Holographic optics for thin and lightweight virtual reality</a></h2><p><code>fb.com</code> ‚Äî Facebook Reality Labs (FRL) is always exploring new optical architectures to improve form factor, comfort, and optical performance. Last fall, at Oculus Connect 6, FRL Chief Scientist Michael Abrash introduced new miniaturization progress in VR with Half Dome 2 and 3, two prototypes that examine how varifocal displays can improve visual and physical comfort. This year, at the virtual SIGGRAPH conference, we‚Äôre presenting another research milestone on this path: a new optical architecture that is significantly more compact and offers the potential for better visual performance. <strong><a href="https://news.ycombinator.com/item?id=23692442">HOLOGRAPHIC</a>,&nbsp;14</strong></p></section><section><img src="https://cdn.substack.com/image/fetch/w_256,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2Fc21d3e2d-bc9d-401f-bbe8-225d0d0643d9_256x256.png"><h2><a href="https://codefaster.substack.com/p/mastering-jq-part-1-59c">Mastering Jq: Part 1</a></h2><p><code>substack.com</code> ‚Äî This is the first part of an ongoing series on mastering jq. This series does not assume prior experience with jq, but it does assume basic fluency in shell programming. <strong><a href="https://news.ycombinator.com/item?id=23694908">MASTERING</a>,&nbsp;15</strong></p></section><section><img src="https://www.sciencedaily.com/images/sd-logo.png"><h2><a href="https://www.sciencedaily.com/releases/2020/06/200625102540.htm">One-time treatment generates new neurons, eliminates Parkinson's disease in mice</a></h2><p><code>sciencedaily.com</code> ‚Äî Xiang-Dong Fu, PhD, has never been more excited about something in his entire career. He has long studied the basic biology of RNA, a genetic cousin of DNA, and the proteins that bind it. But a single discovery has launched Fu into a completely new field: neuroscience. <strong><a href="https://news.ycombinator.com/item?id=23698413">GENERATES</a>,&nbsp;16</strong></p></section><section><img src="https://www.sapiens.org/wp-content/uploads/2020/05/01_10826711853_3fb64cfd08_k-1200x628.jpg"><h2><a href="https://www.sapiens.org/archaeology/easter-island-collapse/">Rethinking Easter Island‚Äôs Historic ‚ÄúCollapse‚Äù</a></h2><p><code>sapiens.org</code> ‚Äî Controversial new archaeological research casts doubt on a classic theory of this famous island's societal collapse. <strong><a href="https://news.ycombinator.com/item?id=23682706">EASTER</a>,&nbsp;17</strong></p></section><section><h2><a href="https://www.reuters.com/article/us-cisco-lawsuit/california-accuses-cisco-of-job-discrimination-based-on-indian-employees-caste-idUSKBN2423YE">California accuses Cisco of job discrimination based on Indian employee's caste</a></h2><p><code>reuters.com</code> ‚Äî OAKLAND, Calif. (Reuters) - California regulators sued Cisco Systems Inc (CSCO.O) on Tuesday, accusing it of discriminating against an Indian-American employee and allowing him to be harassed by two managers because he was from a lower Indian caste than them.  <strong><a href="https://news.ycombinator.com/item?id=23697083">ACCUSES</a>,&nbsp;18</strong></p></section><section><img src="http://2.bp.blogspot.com/-7bZ5EziliZQ/VynIS9F7OAI/AAAAAAAASQ0/BJFntXCAntstZe6hQuo5KTrhi5Dyz9yHgCK4B/s1600/googlelogo_color_200x200.png"><h2><a href="https://security.googleblog.com/2020/06/system-hardening-in-android-11.html">System Hardening in Android 11</a></h2><p><code>googleblog.com</code> ‚Äî In Android 11 we continue to increase the security of the Android platform. We have moved to safer default settings, migrated to a hardened memory allocator, and expanded the use of compiler mitigations that defend against classes of vulnerabilities and frustrate exploitation techniques.  <strong><a href="https://news.ycombinator.com/item?id=23692257">HARDENING</a>,&nbsp;19</strong></p></section><section><img src="https://marcobonvini.com/images/posts/hybrid-car-scheme.png"><h2><a href="https://marcobonvini.com/modelica/2020/06/29/all-about-modelica.html">All about Modelica: An equation-based language for modeling physical systems</a></h2><p><code>marcobonvini.com</code> ‚Äî  by Marco Bonvini on Monday June 29, 2020  <strong><a href="https://news.ycombinator.com/item?id=23690788">MODELICA</a>,&nbsp;20</strong></p></section><section><img src="http://dgn0b0vubo9qr.cloudfront.net/wp-content/uploads/2013/01/math.png"><h2><a href="https://skibinsky.com/godel-incompleteness-for-startups/">G√∂del Incompleteness for Startups (2013)</a></h2><p><code>skibinsky.com</code> ‚Äî Every year a few thousand startups are incubated in Silicon Valley. Few of them will succeed; the rest will decay or outright fail. Yet there always seems to be room for one more billion-dollar company. Besides appearing seemingly out of nowhere, the most radically successful startups are also the most unpredictable ones. What force seems to create these massive sources of wealth that initially look like ‚Äúbad ideas‚Äù to everybody beside their founders? <strong><a href="https://news.ycombinator.com/item?id=23687846">G√ñDEL</a>,&nbsp;21</strong></p></section><section><img src="https://images.wsj.net/im-203800/social"><h2><a href="https://www.wsj.com/articles/cirque-du-soleil-files-for-bankruptcy-protection-in-canada-11593455498">Cirque Du Soleil Files for Bankruptcy Protection</a></h2><p><code>wsj.com</code> ‚Äî TORONTO‚ÄîCirque du Soleil Entertainment Group filed for bankruptcy protection in Canada on Monday, in an effort to salvage a circus business that‚Äôs ground to a halt because of the coronavirus pandemic. <strong><a href="https://news.ycombinator.com/item?id=23697937">CIRQUE</a>,&nbsp;22</strong></p></section><section><img src="http://s0.wp.com/latex.php?latex=+%5Cnabla+%5Ccdot+E+%3D+%5Cfrac%7B%5Crho%7D%7B%5Cepsilon_0%7D+%5Chspace%7B2cm%7D+%5Cnabla+%5Ctimes+E%2B%5Cfrac%7B%5Cpartial+B%7D%7B%5Cpartial+t%7D+%3D+0++&amp;bg=ffffff&amp;fg=000000&amp;s=0"><h2><a href="http://www.michaelnielsen.org/ddi/lisp-as-the-maxwells-equations-of-software/">Lisp as the Maxwell‚Äôs Equations of Software (2012)</a></h2><p><code>michaelnielsen.org</code> ‚Äî On my first day of physics graduate school, the professor in my class on electromagnetism began by stepping to the board, and wordlessly writing four equations: <strong><a href="https://news.ycombinator.com/item?id=23687904">MAXWELL</a>,&nbsp;23</strong></p></section><section><img src="https://dev.solita.fi/img/solita-logomark-white-on-red-400px.png"><h2><a href="https://dev.solita.fi/2020/06/25/taming-cljs-advanced-compilation.html">Taming Advanced Compilation bugs in ClojureScript projects</a></h2><p><code>solita.fi</code> ‚Äî Imagine this: You have a large multi-module ClojureScript project, and you are planning to make a new deployment in the production. Your project is using CLJS Compiler‚Äôs Advanced Optimizations mode. Everything seems to be working smoothly. You are performing some last E2E tests before making a release. Then, a faulty module loads. BAM! You are slapped in the face with an error something like this: <strong><a href="https://news.ycombinator.com/item?id=23688721">TAMING</a>,&nbsp;24</strong></p></section><section><img src="https://corte.si/posts/code/genzoo/representative_image_512x256.png"><h2><a href="https://corte.si/posts/code/genzoo/">Generative Zoology with Neural Networks</a></h2><p><code>corte.si</code> ‚Äî A couple of years ago a paper titled Progressive Growing of GANs for Improved Quality, Stability, and Variation cropped up on my reading list. It describes growing generative adversarial networks progressively, starting with low-resolution images, and then building up more detail as training goes on. It got quite a bit of press at the time because the authors used their idea to generate realistic, unique images of human faces. <strong><a href="https://news.ycombinator.com/item?id=23688785">ZOOLOGY</a>,&nbsp;25</strong></p></section><section><img src="https://www.deepsouthventures.com/wp-content/uploads/yellowstone-roughriders-3.jpg"><h2><a href="https://www.deepsouthventures.com/must-ride-mule-to-from-work-location/">Must ride mule to and from work location</a></h2><p><code>deepsouthventures.com</code> ‚Äî ‚ÄúDavid, this one, tell me about it ‚Ä¶‚Äù <strong><a href="https://news.ycombinator.com/item?id=23690922">MULE</a>,&nbsp;26</strong></p></section><section><h2><a href="https://jvns.ca/blog/2020/06/28/entr/">Entr: Rerun your build when files change</a></h2><p><code>jvns.ca</code> ‚Äî This is going to be a pretty quick post ‚Äì I found out about entr relatively recently and I felt like WHY DID NOBODY TELL ME ABOUT THIS BEFORE?!?! So I‚Äôm telling you about it in case you‚Äôre in the same boat as I was. <strong><a href="https://news.ycombinator.com/item?id=23698305">ENTR</a>,&nbsp;27</strong></p></section><section><img src="https://www.rd.com/wp-content/uploads/2020/06/Rachael-Antarctica-3-Courtesy-Rachael-Robertson.jpg"><h2><a href="https://www.rd.com/article/isolated-for-a-year-in-antarctica/">Returning from a Year of Isolation in Antarctica</a></h2><p><code>rd.com</code> ‚Äî My journey to isolation in Antarctica was somewhat accidental. I saw an advertisement in a print publication for a job as a station leader for an expedition to Davis Station, Antarctica‚Äîand I have to confess, it was the penguin in the ad that caught my attention. The ad noted that they could ‚Äúteach Antarctica‚Äù but were looking for someone with resilience, empathy, and integrity to lead a diverse team of multiskilled expeditioners on a wide range of science, infrastructure, and logistics programs in one of the most remote, isolated, and beautiful places on the planet. I went to the job interview mostly interested in discovering the questions they would ask to find empathy. I was then sent to boot camp with 13 men competing for a job that I didn‚Äôt even really want but knew I would regret if I didn‚Äôt go for it. <strong><a href="https://news.ycombinator.com/item?id=23675364">ISOLATION</a>,&nbsp;28</strong></p></section><section><h2><a href="https://news.ycombinator.com/item?id=23675370">Ask HN: How to improve my abstract thinking?</a></h2><p><code>news.ycombinator.com</code> ‚Äî A few days ago I got into Mathematical Logic[0] and learned how to reason about problems through using various branches of mathematical ideas like proof theory, model theory e.t.c. <strong><a href="https://news.ycombinator.com/item?id=23675370">ABSTRACT</a>,&nbsp;29</strong></p></section><section><p><a href="https://www.algolia.com/careers/?job=technical-support-engineer-remote-from-france-or-the-uk-remote"><strong>Algolia (YC ‚Ä¶</strong></a></p></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.wolfgangfaust.com/project/paper-hn/">https://www.wolfgangfaust.com/project/paper-hn/</a></em></p>]]>
            </description>
            <link>https://www.wolfgangfaust.com/project/paper-hn/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669650</guid>
            <pubDate>Sun, 28 Jun 2020 16:00:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Considerations in Designing Distributed Systems]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669446">thread link</a>) | @kislayverma
<br/>
June 28, 2020 | https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems | <a href="https://web.archive.org/web/*/https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-hook="post-description"><article><div><div data-rce-version="7.10.5"><div dir="ltr"><div><div id="viewer-5kiil"><div><div data-hook="imageViewer"><div role="img"><p><img data-pin-url="https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems" data-pin-media="https://static.wixstatic.com/media/346caa_52e1c6b93dca4668acf9dde1a49ae82a~mv2.png/v1/fit/w_1584,h_821,al_c,q_80/file.png" src="https://static.wixstatic.com/media/346caa_52e1c6b93dca4668acf9dde1a49ae82a~mv2.png/v1/fit/w_300,h_300,al_c,q_5/file.png"></p><svg viewBox="0 0 19 19"><path d="M15.071 8.371V4.585l-4.355 4.356a.2.2 0 01-.283 0l-.374-.374a.2.2 0 010-.283l4.356-4.355h-3.786a.2.2 0 01-.2-.2V3.2c0-.11.09-.2.2-.2H16v5.371a.2.2 0 01-.2.2h-.529a.2.2 0 01-.2-.2zm-6.5 6.9v.529a.2.2 0 01-.2.2H3v-5.371c0-.11.09-.2.2-.2h.529c.11 0 .2.09.2.2v3.786l4.355-4.356a.2.2 0 01.283 0l.374.374a.2.2 0 010 .283L4.585 15.07h3.786c.11 0 .2.09.2.2z"></path></svg></div></div></div></div><p id="viewer-41hh8">Distributed system design is a hard problem, made all the worse because <strong>the design process gives no direct feedback</strong>. Problems stemming from faulty design often show up as scalability problems, resilience problems or data issues. However, solving those problems is often the equivalent of addressing the symptoms and not the disease - we may be able to patch up the system enough to keep it running, but the underlying design issues remain and can be triggered again under different circumstances. It takes a lot of effort, not to mention organizational wrangling, to be able to analyze design related root causes when the system is failing in production.</p><p id="viewer-85vjj">As with an earlier post on <a href="https://www.kislayverma.com/post/code-review-checklist-for-distributed-systems" target="_blank" rel="noopener"><u>code reviews for distributed systems</u></a>, this article is a simplistic checklist of things that I look out for when reviewing design of a distributed system functionality (anything which requires multiple systems to work together). </p><p id="viewer-6re76">I think of distributed design issues in terms of three buckets : <strong>Consistency-vs-Availability</strong>, <strong>Domain Coupling</strong>, and <strong>Observability</strong>. The first two often leak into each other because a distributed system is like a complex mesh and each design choice impacts multiple other things. Each bucket is a huge huge topic in its own right, so the following guidelines represent a minimum level of scrutiny that I believe should be imposed on any design. </p><p id="viewer-dm3dm">Depending on the use-case and context of the problem, you should go far deeper into specific aspects after these basics have been checked off. Conversely, if there's a problem with these, be extremely cautious.</p><h2 id="viewer-9uj8i">Consistency or Availability</h2><p id="viewer-960v9">I should remind you upfront that when I say ‚Äúsystem‚Äù in this article, I mean a collection of independent systems  which collaborate in different ways to deliver the final user experience. And when we talk about consistency versus availability, we are talking about all the involved systems. </p><p id="viewer-38o3r"><a href="https://en.wikipedia.org/wiki/CAP_theorem" target="_blank" rel="nofollow"><u>CAP Theorem</u></a> tells us that we can choose any two out of consistency, availability, and partition tolerance for our system. However, network partitions are a fact of life, hence the true choice of CAP theorem is between consistency and availability - we can have an <strong>"AP"</strong> system (available, aka continues to work under partition) or a <strong>"CP"</strong> system (fails if all involved components are not alive and well).</p><p id="viewer-a8li3"><strong>A fundamental rule of software architecture is that all software fails</strong>. So let's say that we need consistency across three components for a feature to work as designed. This makes the feature brittle because if any one of the components is down, the feature does not work. We now have the dreaded ‚Äú<em>Single Point of Failure‚Äù</em> - in fact we have three of them!!! The more we try to make the entire system consistent, the more we make it susceptible to failure at the slightest glitch. The more components that must stay in sync, the worse this gets.</p><p id="viewer-e9ve0">Fortunately, there is a way out.</p><p id="viewer-5anb4">When looking at individual systems, CP and AP can be binary choices (e.g. MySQL is consistent, Cassandra is not), but when looking at a distributed system, they can start taking on shades of grey. Each component may be consistent (order, inventory and payment), but the overall system can still be designed to be eventually consistent. This gives us the necessary leeway to add some availability to our system. So the main guideline here is to design the OVERALL system for availability, such that the complete functionality can be achieved over time despite individual subsystems being intermittently unavailable.</p><h3 id="viewer-3iira"><strong>Use asynchronous message passing for communication</strong></h3><p id="viewer-951uj">This is the most powerful weapon we have for taking off the pressure of consistency in favour of availability and features as a major guideline in the <a href="https://www.reactivemanifesto.org/" target="_blank" rel="noopener"><u>Reactive Manifesto</u></a>. Consider making the communication between components asynchronous (message passing over a message broker) instead of making it a request-response style API call. If <a href="https://hackernoon.com/synchronous-communication-is-the-new-cocaine-in-silicon-valley-oi22734tj" target="_blank" rel="noopener"><u>synchronous communication is the crack cocaine of Silicon Valley</u></a>, synchronous API calls are the crack cocaine of the distributed system design. Consider this - if two systems don‚Äôt have to be consistent, then why should we do anything immediately (as the synchronous communication model demands). A request-response model creates a form of <a href="https://www.pluralsight.com/tech-blog/forms-of-temporal-coupling/" target="_blank" rel="nofollow"><u>temporal coupling</u></a> ("serve this request right now!") between the caller and callee, which causes the former to fail if the latter is unavailable at a time, which can then cause cascading failures in its callers and so on. Asynchronous communication allows the called system to process requests at its own pace, thereby taking off the pressure of availability.</p><p id="viewer-7vqr8">While asynchronous messaging is a powerful tool, there are several things that MUST be kept in mind when adopting it.</p><ol><li id="viewer-2e6r"><p><strong>Define the minimal acceptable user experience</strong> - For every end-user experience, define the absolute minimal consistent experience. E.g. If a user wins an online game, must we credit bonus points, award him a new position on the leaderboard, notify all his friends, and send him a notification in an all-or-nothing manner? As should be obvious, the more we can agree to do outside the core, consistent experience, the less likely it is that we will encounter system failure. We must be ruthless about this when discussing requirements and do only the minimum needed to support that - everything else should be done asynchronously.</p></li><li id="viewer-9rp8e"><p><strong>Explicitly guarantee eventual consistency</strong> : A single user action or client request can modify data across multiple components, and the design should guarantee that all these systems will come into consensus with some specified time - even if it is via a distributed rollback.</p></li><li id="viewer-fn6i0"><p><strong>Guarantee SLA for consistency systemically</strong> : This point is worth calling out all by itself. We may have a plan for eventual consistency, but without the mechanism for setting and enforcing a set time frame on it, it is impossible to detect failure from slow processing. Since we cannot determine whether an event threw an error during processing or whether it got dropped in the network, an explicit hard bound in time is necessary to maintain the eventual consistency guarantee.</p></li></ol><h2 id="viewer-ebf0q">Domain Coupling</h2><p id="viewer-69c17">Good distributed system design essentially hinges on separating distinct things from each other at the right level of abstraction. This line of separation is called the domain boundary and is identified by a unique language of communication and interfaces for functionality unique to that domain. E.g. A message broker domain encapsulates messages, delivery guarantees, storage media etc. Payments domain encapsulates transactions, payment gateways etc.</p><p id="viewer-89vst">While this broadly maps to the concept of bounded-context in microservice language, the idea is applicable broadly and recursively. E.g. Payments can be a domain, inside which payment gateways and transactions can be sub-domains, and so on. </p><p id="viewer-20sk3">The main idea of designing a distributed system in terms of domain is in terms of decoupling domains at the same level, while building cohesion at the level of their parent domain (if any).e.g. In the example above, we would try to keep payment gateways and transactions as decoupled from each other as possible in terms of implementation, but being part of the same domain should dictate a certain consistency in terminology and data models.</p><ol><li id="viewer-52e4f"><p><strong>Create domain boundaries</strong> : With the <a href="https://www.oreilly.com/radar/cloud-adoption-in-2020/" target="_blank" rel="nofollow"><u>huge uptick in adoption of microservices</u></a>, it becomes very important to identify the domain of each component in a manner decoupled from the underlying technical implementation. It is important to identify which components belong to which domain and how external systems talk to these systems. We might use multiple services to handle a shipment (tracking service, scanning service, audit service etc), but external users should work with a cohesive ‚Äúlogistics‚Äù domain entity and API. A very good tool for building domain boundaries are <a href="https://microservices.io/patterns/apigateway.html" target="_blank" rel="nofollow"><u>API gateways</u></a> which can abstract the internal details of a domain behind higher order APIs.</p></li><li id="viewer-fdodc"><p><strong>Use standard domain language to communicate between systems</strong> : Chatter between two components should be in terms of existing entities + their states + actions possible on them instead of some newly created constructs which belong to neither domain. We can use constructs from either side of the communication for this, depending on whether we want events or messages. If you find that communicating between two components requires creation of some special language, it ‚Äúmight‚Äù mean that there is some problem in the way these two components are separated or perhaps we are missing another component that should exist between these two.</p></li><li id="viewer-1mv0b"><p><strong>Separate multi-domain/multi-component actions into workflows</strong> - A very common way domain coupling occurs is when one component starts taking end-to-end control of a multi-component workflow. This means that this one domain now knows about various other domains, their behaviour, and the nature of a ‚Äúworkflow‚Äù outside of its own boundary. This awareness makes the component coupled to the existing workflows and hence difficult to evolve.</p></li><li id="viewer-3bc2f"><p>If our features invoke multiple components, we should separate this orchestration out of the core services modelling the domain into stateful orchestration components. This can be dedicated orchestrating services or some sort of BPM systems. Statefulness means that we get benefits like retries, error reports, SLA etc from one place.</p></li><li id="viewer-a9ifh"><p>Using choreography to build workflows is also a viable option if we cannot use explicit orchestration for everything, but we should use some way of tracking task completion SLA to reduce the brittleness for long-lived workflows.</p></li><li id="viewer-fmjho"><p><strong>Model business processes across components</strong> : A corollary to the above point is that we should model businesses processes end-to-end regardless of technical boundaries. Since we are already decoupling domains by offloading orchestration to workflows, it doesn‚Äôt make sense to build workflows within narrow team boundaries. We should make the workflows encompass as much of the business process as a whole as we can - this will build central repositories of business knowledge and provide deep ‚Ä¶</p></li></ol></div></div></div></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems">https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems</a></em></p>]]>
            </description>
            <link>https://www.kislayverma.com/post/design-review-checklist-for-distributed-systems</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669446</guid>
            <pubDate>Sun, 28 Jun 2020 15:33:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Laptop Buying Guide: Workstation Laptop versus Gaming Laptop]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669441">thread link</a>) | @sirkarthik
<br/>
June 28, 2020 | https://blog.codonomics.com/2020/06/workstation-laptop-versus-gaming-laptop.html | <a href="https://web.archive.org/web/*/https://blog.codonomics.com/2020/06/workstation-laptop-versus-gaming-laptop.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-4156024826229998353" itemprop="description articleBody">
<h3>My Backdrop</h3><p>As geeky entrepreneur I dabble on many things tech and look for opportunities to see how tech can be leveraged to solve a business problem. I got really dirty learning and hacking Machine Learning problems and dabbled a bit on Deep Learning a couple of years back.&nbsp;</p><p>I always wanted to get back to learning more on the Deep Learning side of things when possible. "Deep Learning" is the key word.</p><p>I haven't played Games after my college days.</p><p>Since the time I started my consulting venture, I end-up working either full-stack or some part of it depending on my consulting gig that I end-up signing for.</p><p>So when I wanted to purchase a laptop, I ended up ordering a <b>Gaming Laptop</b> with Intel -7 processor and RTX 2070 GPU, based on advice of <a href="https://blog.codonomics.com/2020/06/A%20Full%20Hardware%20Guide%20to%20Deep%20Learning" target="_blank">Tim Dettmers</a>. I know very many companies that procure a Gaming Laptop for their ML/DL engineers. Also, you will see almost all ML/DL web-sites advising its readers to go for Gaming Laptops.&nbsp;</p><p>I'm not used to settling down easy and in my quest to understand the world of hardware to see what marries what and solves what kind problems, I stumbled upon <b>Workstation Laptops</b>, and was left wondering how this is both similar to and different from Gaming Laptops.&nbsp;</p><p>The section below summarizes my understanding of the key differences between the two kinds of beasts.</p><h3>Gaming Vs Workstation Laptops</h3><p>I'd drawing a quick comparison table with the metrics that should help you decide the right pick for you.</p><div><table bordercolor="#888"><tbody><tr><td>&nbsp;<b>Metric<span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;</span></b></td><td><b>&nbsp;Gaming Laptop</b></td><td><b>Workstation Laptop&nbsp;</b></td><td><b>&nbsp;Comments</b></td></tr><tr><td>&nbsp;Cost</td><td>&nbsp;Cheaper<span>&nbsp;</span></td><td>&nbsp;Expensive</td><td>&nbsp;<span>&nbsp;What is your budget?</span><br></td></tr><tr><td>&nbsp;Built</td><td>&nbsp;Depends on brand and model</td><td>&nbsp;Relatively Sturdier. <br>&nbsp;Typically server/military grade with some certification like ISV to prove it.&nbsp;&nbsp;</td><td>&nbsp;One of the key reasons for price difference.&nbsp;</td></tr><tr><td>&nbsp;Portability</td><td>&nbsp;Relatively less portable because of its size, weight&nbsp;and/or fragility.</td><td>&nbsp;Better portability.&nbsp;</td><td>&nbsp;</td></tr><tr><td>&nbsp;Default Windows OS Type</td><td>&nbsp;Home edition<span>&nbsp;</span></td><td>&nbsp;Pro edition</td><td>&nbsp;You can always install your choice of OS later, though!</td></tr><tr><td>&nbsp;Looks</td><td>&nbsp;Usually more jazzy and less professional</td><td>&nbsp;Usually bland and professional</td><td>&nbsp;Looks do matter!</td></tr><tr><td>&nbsp;Longevity<span>&nbsp;</span></td><td>&nbsp;Comparatively lesser</td><td>&nbsp;Comparatively better</td><td>&nbsp;What is the ROI (bang for the bucks)?</td></tr><tr><td>&nbsp;Audio</td><td>&nbsp;Superior</td><td>&nbsp;Relatively inferior</td><td>&nbsp;</td></tr><tr><td>&nbsp;Display</td><td>&nbsp;Superior<br>&nbsp;The Refresh Rate is key differentiator for smooth AAA game play experience.</td><td>&nbsp;Inferior in terms of Refresh Rate.<br>&nbsp;Usually 60 FPS.</td><td>&nbsp;High refresh rate prevents screen tearing, stuttering, motion blur and ghosting.</td></tr><tr><td>&nbsp;Heat Dissipation</td><td>&nbsp;Better</td><td>&nbsp;Relatively poorer</td><td>&nbsp;</td></tr><tr><td>&nbsp;Control of hardwares</td><td>&nbsp;Depending on the brand and model, you can control/configure Fan speed, CPU under-volting, etc with the help of factory software that gets installed in your OS.</td><td>&nbsp;Absent!</td><td>&nbsp;</td></tr><tr><td>&nbsp;Nvidia GPUs</td><td>&nbsp;Typically comes with GTX or RTX GPUs.<br>&nbsp;(RTX is more performant than GTX.)</td><td>&nbsp; Typically comes with Quadro P series, T series and RTX series GPU processors.<br>&nbsp;(P &lt; T &lt; RTX in terms of performance)</td><td><ul><li>Nvidia Quadro P1000 is a mobile entry-level workstation graphics card for notebooks.&nbsp;</li><li>Nvidia Quadro T1000 for laptops is a professional mobile graphics card that is based on the Turing architecture (TU117 chip).</li><li>Nvidia Quadro RTX 5000 for laptops is a professional high-end graphics card for big and powerful laptops and mobile workstations.&nbsp;</li><li>ProTips: Buy atleast Quadro RTX 3000. Don't go for P/T series, if ML/DL is your primary purpose.</li><li>NVIDIA GeForce and AMD Radeon are graphics cards meant for gaming.</li></ul></td></tr><tr><td>&nbsp;Intel CPUs</td><td>&nbsp;Typically comes with i7 processors for AAA titled gamers play.</td><td>&nbsp;Typically comes with Intel XEON processors as base model these days</td><td>&nbsp;</td></tr><tr><td>&nbsp;ECC Memory</td><td>&nbsp;Not required and so is absent.</td><td>&nbsp;Required and thus present.</td><td><ul><li>Error-correcting code memory (ECC memory) is a type of computer data storage that can detect and correct the most-common kinds of internal data corruption. ECC memory is used in most computers where data corruption cannot be tolerated under any circumstances, such as for scientific or financial computing.</li><li>ProTip: For most gamers and general home office users, ECC RAM will not be worth the additional expense.&nbsp;</li></ul></td></tr></tbody></table><br></div><p>A Gaming Laptop can match your Workstation in performance with right specs. You Workstation Laptop cannot match the gaming and multi-media experience delivered by its Gaming Laptop counterpart. Also you pay more for the workstation models for its improved life-span and sturdier built that relieves you from handling with delicate care every single time.&nbsp;</p><p>If you are someone like me, you should go with Workstation laptop but can opt for Gaming laptop provided you understand the Cons of it.</p><p><b>Bonus :</b> The other things that you shouldn't miss irrespective of the laptop kind you buy, is the maximum years of warranty (preferably onsite) that the company provides and also include ADP cover for maximum number of years. This is an insurance that is often overlooked by buyers only to regret later.&nbsp;</p><p>Hope it serves you well to make an informed decision in your buying the right laptop.&nbsp;</p><h4>References</h4>

</div></div>]]>
            </description>
            <link>https://blog.codonomics.com/2020/06/workstation-laptop-versus-gaming-laptop.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669441</guid>
            <pubDate>Sun, 28 Jun 2020 15:33:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Database of available one-word domains and domain hacks across 20 TLDs]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23669377">thread link</a>) | @steventey
<br/>
June 28, 2020 | https://www.oneword.domains/tlds | <a href="https://web.archive.org/web/*/https://www.oneword.domains/tlds">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
        <!-- Top Banner
        <a href="https://www.producthunt.com/posts/one-word-domains" target="_blank">
        <div style="text-align: center; height: 50px; width: 100%; padding-top: 15px; position: fixed; top: 0; z-index: 10000; background-color: #DA552F; font-weight: 600; color: #ffffff;">
            One Word Domains is now live on Product Hunt! 
        </div>
        </a>
        -->
        <!--Header & Banner-->
        <header>
            
            
            <nav>
                <a href="https://www.oneword.domains/"><div>
                    <p><img src="https://www.oneword.domains/static/assets/logo.svg"></p>
                    <p id="title_name"><h4>One Word Domains</h4></p>
                </div></a>
                <ul>
                    <a href="https://www.oneword.domains/available-ai-domains"><li>.ai</li></a>
                    <a href="https://www.oneword.domains/available-app-domains"><li>.app</li></a>
                    <a href="https://www.oneword.domains/available-co-domains"><li>.co</li></a>
                    <a href="https://www.oneword.domains/available-com-domains"><li>.com</li></a>
                    <a href="https://www.oneword.domains/available-io-domains"><li>.io</li></a>
                    <a href="https://www.oneword.domains/available-to-domains"><li>.to</li></a>
                    <a href="https://www.oneword.domains/tlds"><li>...</li></a><span>New</span>
                <ul>
                
            </ul></ul></nav>
        </header>
        

        <!--Plans-->
        <section>
            <div>
                 
                <h3>Simple pricing based on the number of TLDs you need</h3>
                <p>18 signups in the last 24 hours</p>
            </div>
            <div>
                <center>
                    <div>
                        <div>
                            <h2>√Ä La Carte</h2>
                            <p><span>$</span>9</p>
                            <p>one-time fee</p>
                            <ul>
                                <li>Access 1 TLD only</li>
                                <li>Lifetime access to TLD-specific updates</li>
                                <li>Lifetime access to new TLD additions</li>
                            </ul>
                        </div>
                        <div>
                            <h2>Set Meal</h2>
                            <p><span>$</span>29</p>
                            <p>one-time fee</p>
                            <ul>
                                <li>Access up to 5 TLDs</li>
                                <li>Lifetime access to TLD-specific updates</li>
                                <li>Lifetime access to new TLD additions</li>
                            </ul>
                        </div>
                        <div>
                            <h3>POPULAR</h3>
                            <h2>All-You-Can-Eat</h2>
                            <p><span>$</span>49</p>
                            <p>one-time fee</p>
                            <ul>
                                <li>Access all TLDs</li>
                                <li>Lifetime access to TLD-specific updates</li>
                                <li>Lifetime access to new TLD additions</li>
                            </ul>
                        </div>
                    </div>
                </center>
            </div>
        </section>

        <!--Customer Testimonials-->
        <section>
            <p>
                 
                <h3>A list of testimonials from our satisfied customers</h3>
            </p>
        </section>
        <section>
            <div>
                <p>
                    <h2>"One Word Domains comes as a much-needed breath of fresh air for the domain world."</h2>
                </p>
                <div onclick="window.open('https://dan.com/domain-seller/emergence?&amp;results=50&amp;order_by=relevance', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/emergence.jpg"></p><h5>Emergence VC</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"Can't believe some of those one-word domains are still available - absolute steals!"</h2>
                </p>
                <div onclick="window.open('https://www.producthunt.com/@danielhernandez', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/daniel.jpeg"></p><h5>Daniel Hern√°ndez</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"I registered 'Regal.ai' last week after seeing on your site (One Word Domains) btw. Nice job!"</h2>
                </p>
                <div onclick="window.open('https://josh.co/?ref=oneworddomains', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/josh.jpg"></p><h5>Josh Reason</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"I'll be hunting through this for hours - I always love one-word domain names."</h2>
                </p>
                <div onclick="window.open('https://www.entreprenerd.blog/?ref=oneworddomains', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/max.jpeg"></p><h5>Max Mirho</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"Love the simplicity - yet another addictive tool I can see myself using often."</h2>
                </p>
                <div onclick="window.open('https://www.producthunt.com/@davevermeer', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/dave.jpeg"></p><h5>Dave VerMeer</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"I wish this had been done much earlier! Would have saved me so many hours in retrospect."</h2>
                </p>
                <div onclick="window.open('https://twitter.com/rodrignaska', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/rodrig.jpeg"></p><h5>Rodrig Naska</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"Just picked up 'impartial.app' for a side project. Thanks for making this!"</h2>
                </p>
                <div onclick="window.open('https://news.ycombinator.com/user?id=vz8', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/hn.png"></p><h5>vz8</h5>
                </div>
                
            </div>
            <div>
                <p>
                    <h2>"This is way better than spending hours on GoDaddy looking for domain names!"</h2>
                </p>
                <div onclick="window.open('https://www.producthunt.com/@ahmed_atef5', '_blank')">
                    <p><img src="https://www.oneword.domains/static/assets/ahmed.jpeg"></p><h5>Ahmed Atef</h5>
                </div>
                
            </div>
        </section>

        <!--TLD List-->
        <section>
            <div>
                 
                <h3>A robust list of ccTLDs and gTLDs at your selection</h3>
            <center>
                <div>
                    <div>
                        <p>.me</p>
                        <p>Perfect for personal portfolios</p>
                        </div>
                    <div>
                        <p>.tech</p>
                        <p>Perfect for tech startups</p>
                        </div>
                    <div>
                        <p>.dev</p>
                        <p>Perfect for developer tools</p>
                        </div>
                </div>
                <div>
                    <div>
                        <p>.so</p>
                        <p>Perfect for domain hacks</p>
                        </div>
                    <div>
                        <p>.xyz</p>
                        <p>Perfect for just about anything</p>
                        </div>
                    <div>
                        <p>.org</p>
                        <p>Perfect for non-profits</p>
                        </div>
                </div>
                <div>
                    <div>
                        <p>.net</p>
                        <p>Perfect for internet companies</p>
                        </div>
                    <div>
                        <p>.us</p>
                        <p>Perfect for US-based companies</p>
                        </div>
                    
                </div>
                <div>
                    <div>
                        <p>.fyi</p>
                        <p>Perfect for knowledge bases</p>
                        </div>
                    <div>
                        <p>get<span>.com</span></p>
                        <p>Perfect for mobile/web apps</p>
                        </div>
                    <div>
                        <p>use<span>.com</span></p>
                        <p>Perfect for mobile/web apps</p>
                        </div>
                </div>
                <div>
                    <div>
                        <p>.in</p>
                        <p>Perfect for India-based startups</p>
                        </div>
                    <div>
                        <p>.link</p>
                        <p>Perfect for link shortening</p>
                        </div>
                    <div>
                        <p>.live</p>
                        <p>Perfect for livestreaming apps</p>
                        </div>
                </div>
                <div>
                    <div>
                        <p>.de</p>
                        <p>Perfect for German startups</p>
                        </div>
                    <div>
                        <p>.blog</p>
                        <p>Perfect for blogs &amp; publications</p>
                        </div>
                    <div>
                        <p>.is</p>
                        <p>Perfect for domain hacks</p>
                        </div>
                </div>
                <div>
                    <div>
                        <p>.gg</p>
                        <p>Perfect for gaming startups</p>
                        </div>
                    
                    
                </div>
                <!--<div class="row" style="text-align: center; margin: 25px 10%;">
                    <div class="col-xs-4 statsCard requestTLD">
                        <p class="tldWords">.__</p>
                        <p class="tldCaptions">Request a TLD</p>
                        <a class="typeform-share tldButton" href="https://sedgehq.typeform.com/to/s8eU7Z" data-mode="popup" style="display:inline-block;text-decoration:none;background-color:#292f36;color:white;cursor:pointer;font-size:calc(12px + 0.3vw);text-align:center;margin: 10px auto 20px auto;padding: 10px 10%;border-radius:30px;max-width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:600;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;" target="_blank">SUGGEST TLD </a> <script> (function() { var qs,js,q,s,d=document, gi=d.getElementById, ce=d.createElement, gt=d.getElementsByTagName, id="typef_orm_share", b="https://embed.typeform.com/"; if(!gi.call(d,id)){ js=ce.call(d,"script"); js.id=id; js.src=b+"embed.js"; q=gt.call(d,"script")[0]; q.parentNode.insertBefore(js,q) } })() </script>
                    </div>
                </div>-->
            </center>
            </div>
        </section>

        <!--FAQ-->
        <section>
            <div>
                 
                <h3>Answers to your questions and concerns</h3>
            <center>
                <ul>
                    <li id="q1" onclick="openFAQ(this.id)">
                        <b>What do I get when I purchase a TLD?<i></i></b>
                        <p>You get access to all the available domain names under the TLD, a list of the top websites that use the same TLD, as well as lifetime updates to the domain list to make sure that the information is always up-to-date.</p>
                    </li>
                    <li id="q2" onclick="openFAQ(this.id)">
                        <b>How do I access the password-protected pages?<i></i></b>
                        <p>When you purchase access to a TLD on One Word Domains, you'll receive a unique set of email/password combination which will allow you to access the pages for the particular TLD(s) that you purchased.</p>
                    </li>
                    <li id="q3" onclick="openFAQ(this.id)">
                        <b>Do you provide a refund?<i></i></b>
                        <p>Yes, we have a 30-day money-back guarantee for all our plans. If you are unsatisfied with our service with whatever reason, we will fully refund the fee you have paid, as long as it's within 30 days of the plan purchase date.</p>
                    </li>
                    <li id="q4" onclick="openFAQ(this.id)">
                        <b>I can't access the TLD page even after buying it.<i></i></b>
                        <p>If you are having troubles accessing the password-protected TLD page even after a successful checkout, feel free to send us a message using the chat icon at the bottom-right corner of the screen. Or if you prefer email, <a href="mailto:steven@oneword.domains?subject=Bulk%20Purchase%20Request" target="_blank">shoot us one</a>.</p>
                    </li>
                    <li id="q5" onclick="openFAQ(this.id)">
                        <b>What do I do if I forgot my login password?<i></i></b>
                        <p>If you forgot your password, feel free to send us a message using the chat icon at the bottom-right corner of the screen and provide us with the email that you made the purchase with - we will help you reset your password.</p>
                    </li>
                    <li id="q8">
                        <b onclick="openFAQBig()">I have more questions - who should I talk to?<i></i></b>
                        <p id="questionsPrompt">If you have more questions, feel free to send us a message using the chat icon at the bottom-right corner of the screen. Otherwise, this contact form works too:</p>
                        
                        <div id="messageSentCardID">
                            <p><img src="https://www.oneword.domains/static/assets/message.svg"></p><p>Your message has been sent</p>
                            <p>We‚Äôll get back to you shortly to answer your question. If you'd like to send another message, <a id="sendAnotherMessage">click here.</a></p>
                        </div>
                    </li>
                </ul>
            </center>
        </div></section>

        <!--Get Started-->
        <section>
            <div>
                
                <h3>We offer a 30-day money-back guarantee - no questions asked</h3>
                <center>
                
                
                
                <div id="thankYouCardID">
                    <p><img src="https://www.oneword.domains/static/assets/payment.svg"></p><p>Your purchase has been confirmed</p>
                    <p id="login_instructions">You can now access the <a href="https://www.oneword.domains/available-me-domains" target="_blank">me</a> TLD with the following login credentials:</p>
                    <p id="email_credentials"><b>Username:</b> stevensteel97@gmail.com</p>
                    <p id="password_credentials"><b>Password:</b> stevensteel97</p>
                    <p>Thank you for your purchase!</p>
                </div>
            </center>
        </div></section>

        <!--Subscribe-->
        <section>
            <p>
                 
                <h3>Join 489 others and get early access whenever we find new one-word domains</h3>
            </p>
        </section>
        

        <!--Footer-->
        

        

        <!--Start of Tawk.to Script-->
        
        <!--End of Tawk.to Script-->

        

        

    

</div>]]>
            </description>
            <link>https://www.oneword.domains/tlds</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669377</guid>
            <pubDate>Sun, 28 Jun 2020 15:27:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Spend Jeff Bezos Money]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23669308">thread link</a>) | @svenfaw
<br/>
June 28, 2020 | https://3pic.github.io/money | <a href="https://web.archive.org/web/*/https://3pic.github.io/money">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    
                    <!-- <p class="neal">By: <a href="https://www.buymeacoffee.com/IWolfy">Paul McBurney Jr</a> | Inspired by <a href="https://neal.fun">neal.fun</a></p> -->
                                        <p>By: <a href="https://www.buymeacoffee.com/IWolfy">Paul McBurney Jr</a> | Buy BLM Merchandise: <a href="https://teechip.com/black-lives-matter-masks?name=aos-face-mask-lifestyle-03&amp;retailProductCode=D9CB8DA7E6A0A6-11239BC60763-SS1-S1-BLK">T-Shirt &amp; Masks</a></p>

                                        <!-- <p class="neal"><a href=""> Buy Me A ‚òï</a></p> -->

                    <p><i>Jeff Bezos, Mark Zuckerberg, Federal Gov...</i></p>

                      <div>

                          <p onclick="openbutton()"><span>‚òÖ</span>  Choose A Billionare</p>
                            <div id="dropdown-content">
                                



  </div>
  </div>
  <div>
            <p><span id="turnmedred">$</span><span id="JeffBezosNetWorth"></span></p>
            <h2 id="deficet">Available For Spending</h2>
<!-- <a href="https://twitter.com/paul_mcb?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow The Creator</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> -->
<p><a href="https://twitter.com/paul_mcb?ref_src=twsrc%5Etfw" data-show-screen-name="false" data-show-count="false">Follow @paul_mcb</a></p><!-- <div style="margin-bottom: 0.5em;" class="fb-share-button" data-href="https://developers.facebook.com/docs/plugins/" data-layout="button" data-size="small"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div> -->


            </div>

        </div></div>]]>
            </description>
            <link>https://3pic.github.io/money</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669308</guid>
            <pubDate>Sun, 28 Jun 2020 15:19:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning About Syscall Filtering with Seccomp]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669114">thread link</a>) | @benburwell
<br/>
June 28, 2020 | https://www.benburwell.com/posts/learning-about-syscall-filtering-with-seccomp/ | <a href="https://web.archive.org/web/*/https://www.benburwell.com/posts/learning-about-syscall-filtering-with-seccomp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    <nav>
  <a href="https://www.benburwell.com/">Home</a> ¬∑
  <a href="https://www.benburwell.com/posts/">Blog</a> ¬∑
  <a href="https://www.benburwell.com/projects.html">Projects</a> ¬∑
  <a href="https://www.benburwell.com/food/">Food</a> ¬∑
  <a href="https://www.benburwell.com/talks.html">Talks</a>
</nav>
<hr>

<p>
  <em>
    Posted 2020-06-27
  </em>
</p>

<p>I‚Äôd heard about being able to <a href="https://docs.docker.com/engine/security/seccomp/">run Docker containers with a custom security
profile</a>, but wasn‚Äôt really sure what that meant or what was
happening behind the scenes, so I decided to do some experimentation to find
out.</p>

<p>It turns out that the Linux kernel includes a feature called ‚Äúsecure computing
mode,‚Äù or <code>seccomp</code> for short. Using <code>seccomp</code> lets you tell the kernel that you
only expect your program to use a specific set of system calls, and if your
program makes any system calls that aren‚Äôt in your approved list, the kernel
should kill your program.</p>

<!--more-->

<p>But why would you want to do this? I think if you had a pretty simple program,
using <code>seccomp</code> might be overkill. But if your program makes different system
calls depending on possibly-untrustworthy user input, it might make sense to try
to limit what the program is allowed to do. Looking at <a href="https://en.wikipedia.org/wiki/Seccomp#Software_using_seccomp_or_seccomp-bpf">a list of software using
<code>seccomp</code> on Wikipedia</a> backs this up: the software listed are mostly
hypervisors/container runners (like Docker), web browsers, etc.</p>

<p>By reading <a href="https://man7.org/linux/man-pages/man2/seccomp.2.html">the manual page for the <code>seccomp(2)</code> system call</a>, we
can learn how to write a program to try this out. The simplest action is to
enter ‚Äústrict mode,‚Äù which prevents all system calls except for <code>read(2)</code>,
<code>write(2)</code>, <code>_exit(2)</code>, and <code>sigreturn(2)</code> ‚Äî in other words, what I think
should be just enough to write hello world! Let‚Äôs give it a shot:</p>

<div><div><pre><code>#include &lt;linux/seccomp.h&gt;
#include &lt;sys/prctl.h&gt;
#include &lt;stdio.h&gt;

int
main()
{
        if (prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT) != 0) {
                perror("prctl");
                return 1;
        }
        printf("hello, world!\n");
        return 0;
}
</code></pre></div></div>

<p>When I compile and run my program, I just see <strong>Killed</strong> being printed, not
<strong>hello, world!</strong>. Well, this is pretty good evidence that <code>seccomp</code> is doing
<em>something</em> ‚Äî it‚Äôs at least killing my program! Let‚Äôs try to find out why it‚Äôs
being killed using <a href="https://strace.io/"><code>strace</code>, a program that shows you all of the system calls
being made</a>:</p>

<div><div><pre><code>$ strace ./hello
execve("./hello", ["./hello"], 0x7fff77b754b0 /* 20 vars */) = 0
brk(NULL)                               = 0x559e08463000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or directory)
openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
fstat(3, {st_mode=S_IFREG|0644, st_size=25762, ...}) = 0
mmap(NULL, 25762, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fe65b9f0000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or directory)
openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\260\34\2\0\0\0\0\0"...,
832) = 832
fstat(3, {st_mode=S_IFREG|0755, st_size=2030544, ...}) = 0
mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) =
0x7fe65b9ee000
mmap(NULL, 4131552, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) =
0x7fe65b3df000
mprotect(0x7fe65b5c6000, 2097152, PROT_NONE) = 0
mmap(0x7fe65b7c6000, 24576, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e7000) = 0x7fe65b7c6000
mmap(0x7fe65b7cc000, 15072, PROT_READ|PROT_WRITE,
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7fe65b7cc000
close(3)                                = 0
arch_prctl(ARCH_SET_FS, 0x7fe65b9ef4c0) = 0
mprotect(0x7fe65b7c6000, 16384, PROT_READ) = 0
mprotect(0x559e077b9000, 4096, PROT_READ) = 0
mprotect(0x7fe65b9f7000, 4096, PROT_READ) = 0
munmap(0x7fe65b9f0000, 25762)           = 0
prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT) = 0
fstat(1,  &lt;unfinished ...&gt;)             = ?
+++ killed by SIGKILL +++
Killed
</code></pre></div></div>

<p>There‚Äôs a lot at the beginning about loading dynamically linked libraries,
reading the program binary, and mapping it into memory that I don‚Äôt fully
understand. But the last few syscalls provide some clues: right after <code>prctl</code> is
called, we see <code>fstat</code> being called! <code>fstat</code> is a system call for getting the
status of a file, and <code>1</code> happens to be the file descriptor for standard output.
It makes sense that calling <code>printf</code> might involve checking the status of
standard output, so I tried commenting out the call to <code>printf</code> in <code>hello.c</code>.
When I compiled and ran the new version, it still just printed <strong>Killed</strong>, so I
used <code>strace</code> again. Just looking at the last few lines:</p>

<div><div><pre><code>prctl(PR_SET_SECCOMP, SECCOMP_MODE_STRICT) = 0
exit_group(0)                           = ?
+++ killed by SIGKILL +++
Killed
</code></pre></div></div>

<p>Now my program is making the <code>exit_group</code> system call. Thinking back to the
manual page for <code>seccomp</code>, it said:</p>

<blockquote>
  <p>The only system calls that the calling thread is permitted to make are
<code>read(2)</code>, <code>write(2)</code>, <code>_exit(2)</code> (but not <code>exit_group(2)</code>), and
<code>sigreturn(2)</code>.</p>
</blockquote>

<p>It looks like I‚Äôll need to actually do some real filtering if I want to run my
hello world program and not just use strict mode. To do this, we need to use
<code>SECCOMP_MODE_FILTER</code> and pass a pointer to a <code>struct sock_fprog</code>, which
according to the manpage is ‚Äúa Berkeley Packet Filter program designed to filter
arbitrary system calls and system call arguments.‚Äù</p>

<p>While we could construct a BPF program using an array of <code>struct sock_filter</code>s,
looking at the chain of instructions we‚Äôd need made me think it would be much
easier to enlist the services of <a href="https://github.com/seccomp/libseccomp"><code>libseccomp</code></a>, a library designed
for just this purpose. Let‚Äôs try rewriting <code>hello.c</code> to use <code>libseccomp</code> and
allowing those three syscalls we saw before (<code>fstat</code>, <code>write</code>, and
<code>exit_group</code>):</p>

<div><div><pre><code>#include &lt;seccomp.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

scmp_filter_ctx ctx;

/* graceful_exit cleans up our seccomp context before exiting */
void
graceful_exit(int rc)
{
        seccomp_release(ctx);
        exit(rc);
}

/* setup_seccomp initializes seccomp and loads our BPF program that filters
 * syscalls into the kernel */
void
setup_seccomp()
{
        int rc;

        /* Initialize the seccomp filter state */
        if ((ctx = seccomp_init(SCMP_ACT_KILL)) == NULL) {
                graceful_exit(1);
        }
        if ((rc = seccomp_reset(ctx, SCMP_ACT_KILL)) != 0) {
                graceful_exit(1);
        }

        /* Add allowed system calls to the BPF program */
        if ((rc = seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(fstat), 0)) != 0) {
                graceful_exit(1);
        }
        if ((rc = seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(write), 0)) != 0) {
                graceful_exit(1);
        }
        if ((rc = seccomp_rule_add(ctx, SCMP_ACT_ALLOW, SCMP_SYS(exit_group), 0)) != 0) {
                graceful_exit(1);
        }

        /* Load the BPF program for the current context into the kernel */
        if ((rc = seccomp_load(ctx)) != 0) {
                graceful_exit(1);
        }
}

int
main()
{
        setup_seccomp();
        printf("hello, world!\n");
        graceful_exit(0);
}
</code></pre></div></div>

<p>Since we‚Äôre now using <code>libseccomp</code>, we need to tell our C compiler to link the
library:</p>

<div><div><pre><code>$ cc -o hello hello.c -lseccomp
$ ./hello
hello, world!
</code></pre></div></div>

<p>Success! Our program compiles and runs, and all of the necessary syscalls have
been allowed. Now let‚Äôs try modifying the <code>main()</code> function of our program to do
something bad, like trying to read the password file <code>/etc/shadow</code>:</p>

<div><div><pre><code>int
main()
{
        FILE *fd;
        setup_seccomp();
        printf("hello, world!\n");
        if ((fd = fopen("/etc/shadow", "r")) == NULL) {
                perror("fopen");
                graceful_exit(1);
        }
        fclose(fd);
        graceful_exit(0);
}
</code></pre></div></div>

<p>Now when we compile and run our program, we get:</p>

<div><div><pre><code>$ ./hello
hello, world!
Bad system call (core dumped)
</code></pre></div></div>

<p>Nice! The kernel killed our program when we tried to use a system call
(<code>openat</code>) that we didn‚Äôt plan on!</p>

<p>Now<sup id="fnref:1"><a href="#fn:1">1</a></sup> let‚Äôs go back to how this all fits in to Docker. Looking at <a href="https://github.com/moby/moby/blob/master/profiles/seccomp/default.json">Docker‚Äôs
default <code>seccomp</code> profile</a>, a lot of it starts to make more
sense. In fact, it looks like they‚Äôre using the exact same names from
<code>libseccomp</code> that we used in our program! If we search <a href="https://github.com/moby/moby/search?q=libseccomp">the moby source code for
<code>libseccomp</code></a>, we can see that it is indeed being used (via Go
bindings).</p>

<p>Let‚Äôs try to use a custom <code>seccomp</code> profile to prohibit programs in our Docker
container from listening for network connections. To start, I want to make sure
I can accept network connections, then modify my profile and watch it break. I
downloaded the default <code>seccomp</code> profile to use as a starting point for
tweaking, started a container with port 4000 open, then used <code>nc</code> to try
communicating from my host machine to a listener in the Docker container:</p>

<div><div><pre><code>$ docker run --rm -it -p 4000:4000 --security-opt seccomp=seccomp.json alpine
/ # nc -l -p 4000
</code></pre></div></div>

<p>When I run <code>echo hi | nc 127.0.0.1 4000</code> in a separate terminal, my greeting is
printed by the netcat listener in the Docker container‚Äîsuccess! Now that I know
my basic TCP server works, let‚Äôs try blocking it with <code>seccomp</code>!  To start
listening on a TCP port, I know that <code>nc</code> has to use the <code>socket</code>, <code>bind</code>, and
<code>listen</code> system calls (which we can verify using <code>strace</code>). I‚Äôll try removing
them from the list of allowed system calls in the default profile, and run the
docker container again with the modified profile:</p>

<div><div><pre><code>$ docker run --rm -it -p 4000:4000 --security-opt seccomp=seccomp.json alpine
/ # nc -l -p 4000
nc: socket(AF_INET,1,0): Operation not permitted
</code></pre></div></div>

<p>Awesome! We just used <code>seccomp</code> to control what our Docker container is allowed
to do!</p>

<p>I can imagine this might be helpful if you had an environment where security was
extremely important and wanted to really lock down your containers, but it‚Äôs
hard to imagine that writing custom <code>seccomp</code> profiles for every container in
your production environment is the best use of time without having some specific
situation you‚Äôre trying to address.</p>

<hr>






  

</div>]]>
            </description>
            <link>https://www.benburwell.com/posts/learning-about-syscall-filtering-with-seccomp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669114</guid>
            <pubDate>Sun, 28 Jun 2020 14:55:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Implementing a type-safe printf in Rust]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23669008">thread link</a>) | @fanf2
<br/>
June 28, 2020 | https://willcrichton.net/notes/type-safe-printf/ | <a href="https://web.archive.org/web/*/https://willcrichton.net/notes/type-safe-printf/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p>
    
    Will Crichton
    
    &nbsp; ‚Äî &nbsp;
    June 21, 2020
  </p>
  <p>I show how to use heterogeneous lists and traits to implement a type-safe printf in Rust. These mechanisms can ensure that two variadic argument lists share important properties, like the number of format string holes matches the number of printf arguments.</p>
  <p><em>Part of an ongoing series about type-level programming in Rust. Consider reading <a href="http://willcrichton.net/notes/type-level-programming/">part one</a> first! All code in this node can be found in <a href="https://gist.github.com/willcrichton/e7fcf1b0e84b4be7f172f0e0245cf149">this gist</a>.</em></p>

<p>Rust has a great printf function, <a href="https://doc.rust-lang.org/std/macro.println.html"><code>println!</code></a>. It has a rich formatting language, but also catches mistakes at compile-time. For example, <code>println!</code> will check that the number of arguments matches the number of holes in the format string:</p>

<div><div><pre><code>error: 2 positional arguments in format string, but there is 1 argument
  --&gt; src/printf.rs:36:13
   |
36 |   println!("{} {}", "Hello");
</code></pre></div></div>

<p>How does the Rust compiler make this check? Because both the format string and the argument are within the macro, Rust will check that the number of holes matches the number of arguments. Consequently, format strings <em>have</em> to be within the macro. If we write:</p>

<div><div><pre><code><span>let</span> <span>s</span> <span>=</span> <span>"{} {}"</span><span>;</span>
<span>println!</span><span>(</span><span>s</span><span>,</span> <span>"hi"</span><span>)</span>
</code></pre></div></div>

<p>This code fails to compile with the error:</p>

<div><div><pre><code>error: format argument must be a string literal
  --&gt; src/printf.rs:42:12
   |
42 |   println!(s, "hi");
</code></pre></div></div>

<p>I‚Äôll show you how to implement type-safe printf without using procedural macros. More generally, this note contains a Rust recipe for functions where:</p>

<ol>
  <li>Arguments are variadic</li>
  <li>Each argument can be a different type (<code>Vec&lt;T&gt;</code> not allowed)</li>
  <li>Multiple variadic inputs share a parallel property, e.g. the number of arguments should match the number of format holes</li>
</ol>

<h2 id="core-mechanism-hlist">Core mechanism: HList</h2>

<p>First, we need to understand the main type-level mechanism: a heterogeneous list (or H-list). An H-list is a sequence of values of potentially different types. For example, <code>[1, "a", true]</code> is an H-list, but not a valid Rust vector. H-lists are implemented in Rust using a linked-list style:</p>

<div><div><pre><code><span>struct</span> <span>HNil</span><span>;</span>
<span>struct</span> <span>HCons</span><span>&lt;</span><span>Head</span><span>,</span> <span>Tail</span><span>&gt;</span> <span>{</span>
  <span>head</span><span>:</span> <span>Head</span><span>,</span>
  <span>tail</span><span>:</span> <span>Tail</span>
<span>}</span>

<span>let</span> <span>example</span><span>:</span> <span>HCons</span><span>&lt;</span><span>i32</span><span>,</span> <span>HCons</span><span>&lt;</span><span>bool</span><span>,</span> <span>HNil</span><span>&gt;&gt;</span> <span>=</span>
  <span>HCons</span><span>{</span><span>head</span><span>:</span> <span>1</span><span>,</span> <span>tail</span><span>:</span> <span>HCons</span><span>{</span><span>head</span><span>:</span> <span>true</span><span>,</span> <span>tail</span><span>:</span> <span>HNil</span><span>}};</span>
</code></pre></div></div>

<p>The key idea is that the type of an H-list changes every time you make a change to it. By contrast, if you push to a <code>Vec&lt;T&gt;</code>, the type of the vector stays the same.</p>

<p>Just like Rust has <code>vec![]</code>, we can use the <a href="https://github.com/lloydmeta/frunk#hlist">frunk</a> crate to get an <code>hlist!</code> macro.</p>

<div><div><pre><code><span>let</span> <span>example</span> <span>=</span> <span>hlist!</span><span>[</span><span>1</span><span>,</span> <span>true</span><span>];</span> <span>// same as above</span>
</code></pre></div></div>

<h2 id="setting-up-printf">Setting up printf</h2>

<p>Let‚Äôs go back to the ingredients of printf. We need a format string and an argument list. The key idea is to represent both with an H-list, and carefully use Rust‚Äôs traits to ensure our desired property: the number of arguments should match the number of holes.</p>

<p>First, to represent format strings, we will have a sequence of structs that represent each part of the string.</p>

<div><div><pre><code><span>pub</span> <span>struct</span> <span>FString</span><span>(</span><span>&amp;</span><span>'static</span> <span>str</span><span>);</span>
<span>pub</span> <span>struct</span> <span>FVar</span><span>;</span>

<span>// Assume that we compile "Hello {}! The first prime is {}" into this code.</span>
<span>// That would be a simple syntactic transformation.</span>
<span>let</span> <span>example</span> <span>=</span> <span>hlist!</span><span>[</span>
  <span>FString</span><span>(</span><span>"Hello "</span><span>),</span> <span>FVar</span><span>,</span> <span>FString</span><span>(</span><span>"! The first prime is "</span><span>),</span> <span>FVar</span>
<span>];</span>
</code></pre></div></div>

<p>To represent arguments, we will use a matching H-list of values. For example:</p>

<div><div><pre><code><span>let</span> <span>args</span> <span>=</span> <span>hlist!</span><span>[</span><span>"world"</span><span>,</span> <span>2</span><span>];</span>
</code></pre></div></div>

<p>Then, our goal is to create a function <code>format</code> such that this is true:</p>

<div><div><pre><code><span>assert_eq!</span><span>(</span>
  <span>example</span><span>.format</span><span>(</span><span>args</span><span>),</span>
  <span>"Hello world! The first prime is 2"</span>
<span>);</span>
</code></pre></div></div>

<p>And this should be a compile-time (NOT run-time) error:</p>

<div><div><pre><code><span>example</span><span>.format</span><span>(</span><span>hlist!</span><span>[</span><span>"Only one arg"</span><span>]);</span>
</code></pre></div></div>

<h2 id="the-format-trait">The Format trait</h2>

<p>In the spirit of type-level computation, we start by defining a trait.</p>

<div><div><pre><code><span>trait</span> <span>Format</span><span>&lt;</span><span>ArgList</span><span>&gt;</span> <span>{</span>
  <span>fn</span> <span>format</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>args</span><span>:</span> <span>ArgList</span><span>)</span> <span>-&gt;</span> <span>String</span><span>;</span>
<span>}</span>
</code></pre></div></div>

<p>Here, <code>self</code> is the H-list of the format directives, and <code>Args</code> is the H-list of the variadic arguments. <code>Format</code> need to take <code>Args</code> as a type parameter, because its type will change as we remove elements from the <code>Args</code> list.</p>

<p>Now, we proceed to implement the <code>Format</code> trait by cases. First, the base case for reaching the end of the format list <code>HNil</code>:</p>

<div><div><pre><code><span>impl</span> <span>Format</span><span>&lt;</span><span>HNil</span><span>&gt;</span> <span>for</span> <span>HNil</span> <span>{</span>
  <span>fn</span> <span>format</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>_</span><span>args</span><span>:</span> <span>HNil</span><span>)</span> <span>-&gt;</span> <span>String</span> <span>{</span>
    <span>""</span><span>.to_string</span><span>()</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>This impl says that when we reach the end of a format list, just return the empty string. And the only argument we will accept is an empty argument list. Combined with the next impls, this inductively ensures that extra arguments are not accepted.</p>

<p>Next, we will implement <code>FString</code>. This implementation should use the string constant contained in the <code>FString</code> struct, and combine it recursively with the rest of the format list. We don‚Äôt use variadic arguments for <code>FString</code>, so they get passed along. In Rust, this English specification becomes:</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>ArgList</span><span>,</span> <span>FmtList</span><span>&gt;</span> <span>Format</span><span>&lt;</span><span>ArgList</span><span>&gt;</span>
<span>for</span> <span>HCons</span><span>&lt;</span><span>FString</span><span>,</span> <span>FmtList</span><span>&gt;</span>
<span>where</span> <span>FmtList</span><span>:</span> <span>Format</span><span>&lt;</span><span>ArgList</span><span>&gt;</span>
<span>{</span>
  <span>fn</span> <span>format</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>args</span><span>:</span> <span>ArgList</span><span>)</span> <span>-&gt;</span> <span>String</span> <span>{</span>
    <span>self</span><span>.head</span><span>.</span><span>0</span><span>.to_owned</span><span>()</span> <span>+</span> <span>&amp;</span><span>self</span><span>.tail</span><span>.format</span><span>(</span><span>args</span><span>)</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Note that we have to add <code>FmtList: Format&lt;ArgList&gt;</code> to ensure the recursive call to <code>self.tail.format</code> works. Also note that we aren‚Äôt implementing <code>Format</code> directly on <code>FString</code>, but rather on an H-list containing <code>FString</code>.</p>

<p>Finally, the most complex case, <code>FVar</code>. We want this impl to take an argument from the <code>ArgList</code>, then format the remaining format list with the remaining arguments.</p>

<div><div><pre><code><span>impl</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>,</span> <span>FmtList</span><span>&gt;</span> <span>Format</span><span>&lt;</span><span>HCons</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>&gt;&gt;</span>
<span>for</span> <span>HCons</span><span>&lt;</span><span>FVar</span><span>,</span> <span>FmtList</span><span>&gt;</span>
<span>where</span>
  <span>FmtList</span><span>:</span> <span>Format</span><span>&lt;</span><span>ArgList</span><span>&gt;</span><span>,</span>
  <span>T</span><span>:</span> <span>ToString</span><span>,</span>
<span>{</span>
  <span>fn</span> <span>format</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>args</span><span>:</span> <span>HCons</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>String</span> <span>{</span>
    <span>args</span><span>.head</span><span>.to_string</span><span>()</span> <span>+</span> <span>&amp;</span><span>self</span><span>.tail</span><span>.format</span><span>(</span><span>args</span><span>.tail</span><span>)</span>
  <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Be careful to observe which H-list is being accessed by <code>head</code> and <code>tail</code>. Here, the <code>args</code> H-list provides the data to fill the hole via <code>args.head</code>.</p>

<h2 id="checking-our-properties">Checking our properties</h2>

<p>With this implementation, our correct example successfully compiles and runs:</p>

<div><div><pre><code><span>let</span> <span>example</span> <span>=</span> <span>hlist!</span><span>[</span>
  <span>FString</span><span>(</span><span>"Hello "</span><span>),</span> <span>FVar</span><span>,</span> <span>FString</span><span>(</span><span>"! The first prime is "</span><span>),</span> <span>FVar</span>
<span>];</span>
<span>assert_eq!</span><span>(</span>
  <span>example</span><span>.format</span><span>(</span><span>hlist!</span><span>[</span><span>"world"</span><span>,</span> <span>2</span><span>]),</span>
  <span>"Hello world! The first prime is 2"</span>
<span>);</span>
</code></pre></div></div>

<p>What about our incorrect example? If we write this:</p>

<div><div><pre><code><span>example</span><span>.format</span><span>(</span><span>hlist!</span><span>[</span><span>"just one arg"</span><span>]);</span>
</code></pre></div></div>

<p>This code fails to compile with the error:</p>

<div><div><pre><code>error[E0308]: mismatched types
  --&gt; src/printf.rs:48:18
   |
48 |   example.format(hlist!["just one arg"]);
   |                  ^^^^^^^^^^^^^^^^^^^^^^
   |                  expected struct `Cons`, found struct `HNil`
   |
   = note: expected struct `HCons&lt;_, HNil&gt;`
              found struct `HNil`
</code></pre></div></div>

<p>While the error is enigmatic, our mistake is at least correctly caught at compile-time. This is because Rust deduces that <code>example.format()</code> expects an H-list of the shape <code>HCons&lt;_, HCons&lt;_, HNil&gt;&gt;</code>, but it finds <code>HNil</code> too soon in our 1-element H-list. A similar error occurs when providing too many args.</p>

<p>Stupendous! We have successfully implemented a type-safe printf using H-lists and traits.</p>

<h2 id="extending-our-abstraction">Extending our abstraction</h2>

<p>Right now, our <code>Format</code> function just checks that the format list and argument list are the same length. We could extend our format structures, for example to ensure that an <code>FVar</code> must be a particular type, or must use <code>Debug</code> vs. <code>Display</code>. Here‚Äôs the sketch of such a strategy:</p>

<div><div><pre><code><span>use</span> <span>std</span><span>::</span><span>marker</span><span>::</span><span>PhantomData</span><span>;</span>

<span>// Add flags for whether using Display or Debug</span>
<span>pub</span> <span>struct</span> <span>FDisplay</span><span>;</span>
<span>pub</span> <span>struct</span> <span>FDebug</span><span>;</span>

<span>// Use a type parameter with PhantomData to represent the intended type</span>
<span>pub</span> <span>struct</span> <span>FVar</span><span>&lt;</span><span>T</span><span>,</span> <span>Flag</span><span>&gt;</span><span>(</span><span>PhantomData</span><span>&lt;</span><span>(</span><span>T</span><span>,</span> <span>Flag</span><span>)</span><span>&gt;</span><span>);</span>

<span>// Now, T has to be the same between the format list and arg list</span>
<span>// Also, FDisplay flag requires that `T: Display`</span>
<span>impl</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>,</span> <span>FmtList</span><span>&gt;</span> <span>Format</span><span>&lt;</span><span>HCons</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>&gt;&gt;</span>
<span>for</span> <span>HCons</span><span>&lt;</span><span>FVar</span><span>&lt;</span><span>T</span><span>,</span> <span>FDisplay</span><span>&gt;</span><span>,</span> <span>FmtList</span><span>&gt;</span>
<span>where</span>
  <span>FmtList</span><span>:</span> <span>Format</span><span>&lt;</span><span>ArgList</span><span>&gt;</span><span>,</span>
  <span>T</span><span>:</span> <span>Display</span><span>,</span>
<span>{</span>
  <span>fn</span> <span>format</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>args</span><span>:</span> <span>HCons</span><span>&lt;</span><span>T</span><span>,</span> <span>ArgList</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>String</span> <span>{</span>
    <span>// using format! is cheating, but you get the idea</span>
    <span>format!</span><span>(</span><span>"{}"</span><span>,</span> <span>args</span><span>)</span> <span>+</span> <span>&amp;</span><span>self</span><span>.tail</span><span>.format</span><span>(</span><span>args</span><span>.tail</span><span>)</span>
  <span>}</span>
<span>}</span>

<span>// Similar impl for `T: Debug` when `FDebug` is used</span>
</code></pre></div></div>

<p>With this approach, if our format list and arg list differ in type:</p>

<div><div><pre><code><span>let</span> <span>fmt</span> <span>=</span> <span>hlist!</span><span>[</span><span>FString</span><span>(</span><span>"n: "</span><span>),</span> <span>FVar</span><span>::</span><span>&lt;</span><span>i32</span><span>,</span> <span>FDisplay</span><span>&gt;</span><span>(</span><span>PhantomData</span><span>)];</span>
<span>fmt</span><span>.format</span><span>(</span><span>hlist!</span><span>[</span><span>"not a number"</span><span>]);</span>
</code></pre></div></div>

<p>Then the code will not compile with the error, <code>&amp;'static str is not i32</code>.</p>

<p>Shout-out to <a href="https://www.servant.dev/posts/2018-07-12-servant-dsl-typelevel.html">this blog post</a> from Haskell‚Äôs servant framework which got me thinking about adapting their strategy into Rust.</p>

</div></div>]]>
            </description>
            <link>https://willcrichton.net/notes/type-safe-printf/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23669008</guid>
            <pubDate>Sun, 28 Jun 2020 14:43:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Speeding up function calls with lru_cache in Python]]>
            </title>
            <description>
<![CDATA[
Score 122 | Comments 79 (<a href="https://news.ycombinator.com/item?id=23668914">thread link</a>) | @Immortal333
<br/>
June 28, 2020 | https://hackeregg.github.io/2020/06/03/Speeding-up-function-calls-with-just-one-line-in-Python.html | <a href="https://web.archive.org/web/*/https://hackeregg.github.io/2020/06/03/Speeding-up-function-calls-with-just-one-line-in-Python.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      

      <section itemprop="text">
        
          
        
        <p>One line summary: Use <a href="https://docs.python.org/3/library/functools.html#functools.lru_cache">lru_cache decorator</a></p>

<h3 id="caching">Caching</h3>

<p>If we‚Äôre calling expensive functions in the program very frequently, It‚Äôs best to save the result of a function call and use it for future purposes rather than calling function every time. This will generally speed up the execution of the program.</p>
<blockquote>
  <p>The expensiveness of function can be in terms of computational (CPU usage) or latency (disk read, fetching a resource from the network).</p>
</blockquote>

<p>The saving result of function calls is generally referred to as caching. The naive way to do caching is to store every function calls. But, this doesn‚Äôt scale very well with the number of parameters of function and range of each parameter.</p>

<p>So, we need a smart way to do caching with a fixed amount of memory. And, there are plenty of <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies">caching strategies available</a> depending upon what type of information is available to us.</p>

<blockquote>
  <p>Caching is heavily used in plenty of areas from low-level (hardware/CPU) to high level (network/CDNs).</p>
</blockquote>

<p>In most of the languages, We will choose caching strategies of our choice and implement them using a few data structures (hashmap, priority queue). Depending upon the language, It might take as little as few minutes to few hours to implement the generic solution of our need.</p>

<p>But, Python‚Äôs standard library <a href="https://docs.python.org/3/library/functools.html">functools</a> already comes with one strategy of caching called <a href="https://docs.python.org/3/library/functools.html#functools.lru_cache">LRU(Least Recently Used)</a>. Thanks to <a href="https://wiki.python.org/moin/PythonDecorators">decorators</a> in python, It only takes one line to integrate into the existing codebase</p>

<h3 id="basic-recursive-implementation-of-fibonacci-numbers">Basic Recursive Implementation of <a href="https://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci numbers</a></h3>

<div><div><pre><code><span>import</span> <span>time</span> <span>as</span> <span>tt</span>

<span>def</span> <span>fib</span><span>(</span><span>n</span><span>):</span>
  <span>if</span> <span>n</span> <span>&lt;=</span> <span>1</span><span>:</span>
    <span>return</span> <span>n</span>
  <span>return</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>

<span>t1</span> <span>=</span> <span>tt</span><span>.</span><span>time</span><span>()</span>
<span>fib</span><span>(</span><span>30</span><span>)</span>
<span>print</span> <span>(</span><span>f"Time taken: </span><span>{</span><span>tt</span><span>.</span><span>time</span><span>()</span> <span>-</span> <span>t1</span><span>}</span><span>"</span><span>)</span>

<span># Output : 
# Time taken: 0.3209421634674072
</span></code></pre></div></div>

<h3 id="speeding-up-recursive-implementation-with-lru">Speeding Up Recursive Implementation with LRU</h3>
<div><div><pre><code><span>import</span> <span>time</span> <span>as</span> <span>tt</span>
<span>import</span> <span>functools</span>

<span># saving all function calls
</span><span>@</span><span>functools</span><span>.</span><span>lru_cache</span><span>(</span><span>maxsize</span><span>=</span><span>31</span><span>)</span>
<span>def</span> <span>fib</span><span>(</span><span>n</span><span>):</span>
  <span>if</span> <span>n</span> <span>&lt;=</span> <span>1</span><span>:</span>
    <span>return</span> <span>n</span>
  <span>return</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>

<span>t1</span> <span>=</span> <span>tt</span><span>.</span><span>time</span><span>()</span>
<span>fib</span><span>(</span><span>30</span><span>)</span>
<span>print</span> <span>(</span><span>f"Time taken: </span><span>{</span><span>tt</span><span>.</span><span>time</span><span>()</span> <span>-</span> <span>t1</span><span>}</span><span>"</span><span>)</span>
<span>print</span> <span>(</span><span>fib</span><span>.</span><span>cache_info</span><span>())</span>


<span># Output :
# Time taken: 1.7881393432617188e-05
# CacheInfo(hits=28, misses=31, maxsize=31, currsize=31)
</span></code></pre></div></div>

<p>In this example, we have saved all function calls. But, We know that Fibonacci can be implemented using <a href="https://en.wikipedia.org/wiki/Dynamic_programming">DP</a>.</p>

<h3 id="iterative-implementation-of-fibonacci">Iterative implementation of Fibonacci</h3>

<div><div><pre><code><span>import</span> <span>time</span> <span>as</span> <span>tt</span>

<span>def</span> <span>fib_iterative</span><span>(</span><span>n</span><span>):</span>
  <span>if</span> <span>n</span> <span>&lt;=</span> <span>1</span><span>:</span>
    <span>return</span> <span>n</span>
  <span>f</span><span>,</span> <span>s</span> <span>=</span> <span>0</span><span>,</span> <span>1</span>
  <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>n</span><span>-</span><span>1</span><span>):</span>
    <span>t</span> <span>=</span> <span>f</span> <span>+</span> <span>s</span>
    <span>f</span><span>,</span> <span>s</span> <span>=</span> <span>s</span><span>,</span> <span>t</span>
  <span>return</span> <span>t</span>

<span>t1</span> <span>=</span> <span>tt</span><span>.</span><span>time</span><span>()</span>
<span>fib_iterative</span><span>(</span><span>30</span><span>)</span>
<span>print</span> <span>(</span><span>f"Time taken: </span><span>{</span><span>tt</span><span>.</span><span>time</span><span>()</span> <span>-</span> <span>t1</span><span>}</span><span>"</span><span>)</span>

<span># Output:
# Time taken: 5.0067901611328125e-06
</span></code></pre></div></div>

<h3 id="different-cache-size">Different Cache size</h3>

<div><div><pre><code><span>import</span> <span>time</span> <span>as</span> <span>tt</span>
<span>import</span> <span>functools</span>

<span>def</span> <span>lru_size</span><span>(</span><span>max_lru</span><span>):</span>
    <span>@</span><span>functools</span><span>.</span><span>lru_cache</span><span>(</span><span>maxsize</span><span>=</span><span>max_lru</span><span>,</span> <span>typed</span><span>=</span><span>False</span><span>)</span>
    <span>def</span> <span>fib_lru</span><span>(</span><span>n</span><span>):</span>
        <span>if</span> <span>n</span> <span>&lt;=</span> <span>1</span><span>:</span>
            <span>return</span> <span>n</span>
        <span>return</span> <span>fib_lru</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib_lru</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>
    <span>return</span> <span>fib_lru</span>

<span>for</span> <span>i</span> <span>in</span> <span>[</span><span>1</span><span>,</span> <span>2</span><span>,</span> <span>5</span><span>,</span> <span>10</span><span>,</span> <span>31</span><span>]:</span>
    <span>t1</span> <span>=</span> <span>tt</span><span>.</span><span>time</span><span>()</span>
    <span>fib</span> <span>=</span> <span>lru_size</span><span>(</span><span>i</span><span>)</span>
    <span>fib</span><span>(</span><span>10</span><span>)</span>
    <span>print</span> <span>(</span><span>f"LRU size: </span><span>{</span><span>i</span><span>}</span><span> Time taken: </span><span>{</span><span>tt</span><span>.</span><span>time</span><span>()</span> <span>-</span> <span>t1</span><span>}</span><span>"</span><span>)</span>
    <span>print</span> <span>(</span><span>fib</span><span>.</span><span>cache_info</span><span>())</span>

<span># Output:
# LRU size: 1 Time taken: 0.6930997371673584
# CacheInfo(hits=0, misses=2692537, maxsize=1, currsize=1)
# LRU size: 2 Time taken: 0.012731075286865234
# CacheInfo(hits=8656, misses=41641, maxsize=2, currsize=2)
# LRU size: 5 Time taken: 5.817413330078125e-05
# CacheInfo(hits=28, misses=31, maxsize=5, currsize=5)
# LRU size: 10 Time taken: 3.9577484130859375e-05
# CacheInfo(hits=28, misses=31, maxsize=10, currsize=10)
# LRU size: 31 Time taken: 3.504753112792969e-05
# CacheInfo(hits=28, misses=31, maxsize=31, currsize=31)
</span></code></pre></div></div>

<p>As, <strong>we can see the optimal cache size of fib function is 5</strong>. Increasing cache size will not result in much gain in terms of speedup.</p>

<h3 id="important-note">Important Note</h3>

<p>I strictly suggest to use lru decorator in only deterministic functions.</p>

<h4 id="deterministic-functions">Deterministic Functions</h4>
<blockquote>
  <p>In computer science, a deterministic algorithm is an algorithm which, given a particular input, will always produce the same output, with the underlying machine always passing through the same sequence of states. Deterministic algorithms are by far the most studied and familiar kind of algorithm, as well as one of the most practical, since they can be run on real machines efficiently.</p>

  <p>‚Äì Wikipedia</p>
</blockquote>

<p>Because,</p>

<blockquote>
  <p>There are only two hard things in Computer Science: cache invalidation and naming things.</p>

  <p>‚Äì Phil Karlton</p>
</blockquote>

        
      </section>

      

      


      
  

    </div></div>]]>
            </description>
            <link>https://hackeregg.github.io/2020/06/03/Speeding-up-function-calls-with-just-one-line-in-Python.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668914</guid>
            <pubDate>Sun, 28 Jun 2020 14:29:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rust for JavaScript Developers ‚Äì Tooling Ecosystem Overview]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23668875">thread link</a>) | @rkwz
<br/>
June 28, 2020 | http://www.sheshbabu.com/posts/rust-for-javascript-developers-tooling-ecosystem-overview/ | <a href="https://web.archive.org/web/*/http://www.sheshbabu.com/posts/rust-for-javascript-developers-tooling-ecosystem-overview/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>This is the first part in a series about introducing the Rust language to JavaScript developers.</p>
<p>I find it easier to understand something new if it was explained in terms of something I already know - I thought there might be others like me :)</p>
<p>Here‚Äôs the tl;dr version:</p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>JavaScript</th>
<th>Rust</th>
</tr>
</thead>
<tbody><tr>
<td>Version Manager</td>
<td>nvm</td>
<td>rustup</td>
</tr>
<tr>
<td>Package Manager</td>
<td>npm</td>
<td>Cargo</td>
</tr>
<tr>
<td>Package Registry</td>
<td>npmjs.com</td>
<td>crates.io</td>
</tr>
<tr>
<td>Package Manifest</td>
<td>package.json</td>
<td>Cargo.toml</td>
</tr>
<tr>
<td>Dependency Lockfile</td>
<td>package-lock.json</td>
<td>Cargo.lock</td>
</tr>
<tr>
<td>Task Runner</td>
<td>npm scripts, gulp etc</td>
<td>make, cargo-make</td>
</tr>
<tr>
<td>Live Reload</td>
<td>nodemon</td>
<td>cargo-watch</td>
</tr>
<tr>
<td>Linter</td>
<td>ESLint, TSLint, JSLint</td>
<td>Clippy</td>
</tr>
<tr>
<td>Formatter</td>
<td>Prettier</td>
<td>rustfmt</td>
</tr>
<tr>
<td>Dependency Vulnerability Checker</td>
<td>npm audit</td>
<td>cargo-audit</td>
</tr>
</tbody></table>
<h2 id="Setup"><a href="#Setup" title="Setup"></a>Setup</h2><p>Rust is installed using the <a href="https://rustup.rs/" target="_blank" rel="noopener">rustup</a> command. rustup is similar to <a href="https://github.com/nvm-sh/nvm" target="_blank" rel="noopener">nvm</a> in Node.js. You can use it to install and manage multiple versions of Rust and more.</p>
<h2 id="Cargo"><a href="#Cargo" title="Cargo"></a>Cargo</h2><p>Installing Rust using rustup also installs Cargo similar to how installing Node.js also installs NPM. Cargo is Rust‚Äôs package manager and would feel very familiar if you‚Äôve used NPM before.</p>
<p>Rust‚Äôs packages are called ‚Äúcrates‚Äù, and they‚Äôre downloaded from the <a href="https://crates.io/" target="_blank" rel="noopener">crates.io</a> registry similar to how NPM packages are downloaded from <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npmjs.com</a>.</p>
<p>NPM while primarily a package manager, is also used as a task runner using the <a href="https://docs.npmjs.com/misc/scripts" target="_blank" rel="noopener">npm scripts</a> feature. Cargo has builtin support for common tasks like running code, building code etc. Cargo has features like <a href="https://doc.rust-lang.org/cargo/reference/workspaces.html" target="_blank" rel="noopener">workspaces</a> (similar to <a href="https://lerna.js.org/" target="_blank" rel="noopener">lerna</a>), <a href="https://doc.rust-lang.org/cargo/reference/overriding-dependencies.html" target="_blank" rel="noopener">dependency overrides</a> (similar to <a href="https://www.npmjs.com/package/patch-package" target="_blank" rel="noopener">patch-package</a>) out of the box. It is also a test runner (similar to mocha, jest etc), benchmark runner etc.</p>
<p>So basically, Cargo is NPM on steroids!</p>
<h2 id="Project-Setup"><a href="#Project-Setup" title="Project Setup"></a>Project Setup</h2><p>Creating a new project is done by running</p>
<pre><code>$ cargo new hello_rust</code></pre>
<p>This is somewhat similar to <code>npm init</code>. This creates a directory called ‚Äúhello_rust‚Äù with the following files:</p>
<pre><code>hello_rust
‚îú‚îÄ‚îÄ .git
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ Cargo.toml
‚îî‚îÄ‚î¨ src
  ‚îî‚îÄ‚îÄ main.rs</code></pre>
<h2 id="Cargo-toml"><a href="#Cargo-toml" title="Cargo.toml"></a>Cargo.toml</h2><p>This is the package manifest file similar to package.json. The lock file (package-lock.json equivalent) is named Cargo.lock. Opening the Cargo.toml, you‚Äôll see a familiar layout:</p>
<pre><code>[package]
name = "hello_rust"
version = "0.1.0"
authors = ["sheshbabu"]
edition = "2018"

[dependencies]</code></pre>
<p>The <code>[package]</code> <a href="https://toml.io/en/v0.5.0#section-16" target="_blank" rel="noopener">table</a> contains metadata like the crate name, author, keywords etc. The <code>[dependencies]</code> table is similar to the <a href="https://docs.npmjs.com/files/package.json#dependencies" target="_blank" rel="noopener">dependencies object in package.json</a>. Cargo.toml also supports <code>[dev-dependencies]</code> similar to <a href="https://docs.npmjs.com/files/package.json#devdependencies" target="_blank" rel="noopener">devDependencies</a>.</p>
<h2 id="Dependency-Management"><a href="#Dependency-Management" title="Dependency Management"></a>Dependency Management</h2><p>Installing a new dependency is done by manually editing the Cargo.toml file, adding the dependency under <code>[dependencies]</code> and running <code>cargo build</code>. For example, if we want to install the ‚Äúserde‚Äù crate, we need to edit the Cargo.toml file as follows:</p>
<pre><code>[package]
name = "hello_rust"
version = "0.1.0"
authors = ["sheshbabu"]
edition = "2018"

[dependencies]
<span>+ serde = "1.0.106"</span></code></pre>
<p>and run</p>
<pre><code>$ cargo build</code></pre>
<p>Similarly, to remove or update a dependency, we need to manually edit the Cargo.toml file and run <code>cargo build</code>. I was initially confused by the existence of the <code>cargo install</code> command but it turned out to be an equivalent of <code>npm install -g</code>.</p>
<p>If you want something similar to <code>npm install</code>, <code>npm update</code> or <code>npm uninstall</code>, you can install <a href="https://crates.io/crates/cargo-edit" target="_blank" rel="noopener">cargo-edit</a> which enhances Cargo with <code>cargo add</code>, <code>cargo rm</code> and <code>cargo upgrade</code> subcommands.</p>
<p>You can also specify the <a href="https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html#caret-requirements" target="_blank" rel="noopener">dependency version using patterns</a> similar to NPM.</p>
<h3 id="Task-Runner"><a href="#Task-Runner" title="Task Runner"></a>Task Runner</h3><p>Cargo supports running common tasks like build, run, test etc. But if you want something similar to NPM scripts, you can use make or <a href="https://crates.io/crates/cargo-make" target="_blank" rel="noopener">cargo-make</a></p>
<h3 id="Live-Reload"><a href="#Live-Reload" title="Live Reload"></a>Live Reload</h3><p>Nodemon is an essential tool for Node.js development - it watches for changes to files and automatically restarts the application. <a href="https://crates.io/crates/cargo-watch" target="_blank" rel="noopener">cargo-watch</a> is the equivalent in Rust world.</p>
<h3 id="Linter-and-Formatter"><a href="#Linter-and-Formatter" title="Linter and Formatter"></a>Linter and Formatter</h3><p>Rust has builtin linter called <a href="https://github.com/rust-lang/rust-clippy" target="_blank" rel="noopener">Clippy</a> and formatter called <a href="https://github.com/rust-lang/rustfmt" target="_blank" rel="noopener">rustfmt</a>. They‚Äôre equivalent to ESLint and Prettier in JS ecosystem. Precommit hooks can be managed using <a href="https://crates.io/crates/cargo-husky" target="_blank" rel="noopener">cargo-husky</a>.</p>
<h3 id="Vulnerability-Checking"><a href="#Vulnerability-Checking" title="Vulnerability Checking"></a>Vulnerability Checking</h3><p>Scanning for vulnerabilities in dependencies is done using <a href="https://crates.io/crates/cargo-audit" target="_blank" rel="noopener">cargo-audit</a> and is very similar to <a href="https://docs.npmjs.com/cli/audit" target="_blank" rel="noopener">npm audit</a>.</p>
<p>Thanks for reading! :)</p>
</div></div>]]>
            </description>
            <link>http://www.sheshbabu.com/posts/rust-for-javascript-developers-tooling-ecosystem-overview/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668875</guid>
            <pubDate>Sun, 28 Jun 2020 14:22:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mean Squared Terror]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23668532">thread link</a>) | @cantdutchthis
<br/>
June 28, 2020 | https://koaning.io/posts/mean-squared-terror/ | <a href="https://web.archive.org/web/*/https://koaning.io/posts/mean-squared-terror/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<blockquote>
<p>2020-06-29 This blogpost was edited the day after it got posted. During my morning walk I realised that my code had a glaring bug in the statistics. I was reporting training set figures, not the validation set. I re-ran the system with the appropriate numbers and while the conclusions did not change, some of the figures/numbers did.</p>
</blockquote>
<p>When I started in data, many years ago, people were actively working on heuristics. These are rules that could look at data and then make appropriate decisions. In schematics, this was the norm;</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-1"></span>
<img src="https://koaning.io/posts/mean-squared-terror/then.png" alt="Those were the days." width="100%"></p><p>
Figure 1: Those were the days.
</p>
</div>
</div>
<p>You had to understand the data to come up with these rules and this was very time consuming. But then machine learning changed everything. Instead of writing rules that fit a problem, we provide labels and have a machine figure out the rules instead.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-2"></span>
<img src="https://koaning.io/posts/mean-squared-terror/now.png" alt="The latest and greatest." width="100%"></p><p>
Figure 2: The latest and greatest.
</p>
</div>
</div>
<p>The latter approach has merit to it but it requires a new way of working. It also tends to be compute intensive because we‚Äôre interested in finding the best possible settings.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-3"></span>
<img src="https://koaning.io/posts/mean-squared-terror/alg.png" alt="All those settings." width="100%"></p><p>
Figure 3: All those settings.
</p>
</div>
</div>
<p>To find the best settings for all of these models we‚Äôve even got gridsearch via cross validation; an industry standard to make sure that we pick the best model.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-4"></span>
<img src="https://koaning.io/posts/mean-squared-terror/settings.png" alt="All this expensive compute better be worth it." width="100%"></p><p>
Figure 4: All this expensive compute better be worth it.
</p>
</div>
</div>
<p>Don‚Äôt get me wrong, there‚Äôs merit to the methodology. We want to demonstrate consistent results in our models. But we‚Äôre representing <strong>all the possible properties of a model</strong> as a single number. That‚Äôs a massive reduction of information, and frankly, an overly simplified way to think about models.</p>
<h2 id="dangerzone">Dangerzone</h2>
<p>I‚Äôve written before that ‚ÄúGridSearch is not Enough[tm]‚Äù but in this document I wanted to give an example of how the technique can also be a problem. GridSearch is insufficient at best, it can also be dangerous at worst.</p>

<p>The main reason is that I‚Äôve seen people put blind faith into the methodology causing a blind spot for other issues with the model. I‚Äôve also spoken to data scientists who think that machine learning algorithms are unbiased tools that find the ‚Äútruth‚Äù in the data and that grid search is a methodological purity. This is a dangerous attitude so I figured I‚Äôd create a counter-example.</p>
<h2 id="experiment">Experiment</h2>
<p>So let‚Äôs do a small experiment. The goal is to see the effect of machine learning on a biased dataset. Given a biased dataset, will grid search amplify the bias in the dataset or reduce it?</p>
<p>I‚Äôve draw a dataset using <a href="https://drawdata.xyz/">drawdata.xyz</a>. Let‚Äôs pretend that this usecase represents predicting salaries based on skill level. The skill level is plotted on the x-axis and the salary/reward is plotted on the y-axis. There‚Äôs two groups of datapoints and one represents a marginalized group. This group is under represented, only appears with low salaries and it also has a lower salary than it‚Äôs non-marginalised peers. The current illustration is a blunt representation of what might happen in a real life dataset (the bias can be more subtle) but the question is; what pattern will be picked up after grid search?</p>

<p>Below we‚Äôll have a look at the results of three different models. We‚Äôll also list the mean squared error that was reported back to us from the gridsearch.</p>

<h5 id="linear-model-with-dummy-variable">Linear Model with Dummy Variable</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-6"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot-linear.png" alt="Mean Squared Error, Train: 1166.64 Test: 1767.36" width="100%"></p><p>
Figure 5: Mean Squared Error, Train: 1166.64 Test: 1767.36
</p>
</div>
</div>
<h5 id="nearest-neighbor-regression-with-scaling">Nearest Neighbor Regression with Scaling</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-7"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_nn.png" alt="Mean Squared Error, Train: 909.66 Test: 2337.65" width="100%"></p><p>
Figure 6: Mean Squared Error, Train: 909.66 Test: 2337.65
</p>
</div>
</div>
<h5 id="grouped-linear-model">Grouped Linear Model</h5>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-8"></span>
<img src="https://koaning.io/posts/mean-squared-terror/plot_group.png" alt="Mean Squared Error, Train: 993.57 Test: 1343.09" width="100%"></p><p>
Figure 7: Mean Squared Error, Train: 993.57 Test: 1343.09
</p>
</div>
</div>
<p>Notice how the model that has the lowest mean squared error is also the model that causes the most bias between groups for higher skill levels. This increase in bias <em>cannot</em> be blamed merely on the data. It‚Äôs the choice of the model that increases this bias which is the responsibility of the algorithm designer.</p>
<p>Now, you could argue that this is a theoretical dataset. No professional would include something like gender into a model predicting salary. <a href="https://github.com/scailable/sclbl-tutorials/issues/7">Right?</a> We can repeat the same exercise with something that correlates with a sensitive attribute instead but you can expect similar result. You can get a smaller mean squared error when you can learn the bias in the dataset. No matter how subtle.</p>
<p>This is what I find scary about gridsearch. People have been learned to trust it even though it can pick a model you should not consider. Notice how the grid search would tell us that there <em>should</em> be a big payment gap between the two groups even if they display high levels of skill. In algorithmic terms some might call this behavior ‚Äúoptimal‚Äù while in real life, you would call this sexism, ageism or racism.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-9"></span>
<img src="https://koaning.io/posts/mean-squared-terror/mcsultancyy.png" alt="Mean Squared Terror: over 9000." width="100%"></p><p>
Figure 8: Mean Squared Terror: over 9000.
</p>
</div>
</div>
<p>The thing to remember here is that 100% unbiased datasets don‚Äôt really exist. This phenomenon of overfitting on a metric is something that gridsearch contributes to. Combine that with algorithm designers who don‚Äôt have domain knowledge in the domain that they‚Äôre applying your algorithm to and you might just get this.</p>
<div data-layout="l-body">
<div><p><span id="fig:unnamed-chunk-10"></span>
<img src="https://koaning.io/posts/mean-squared-terror/ivory.png" alt="Mean Squared Terror: np.inf" width="100%"></p><p>
Figure 9: Mean Squared Terror: np.inf
</p>
</div>
</div>
<h2 id="appendix">Appendix</h2>
<p>This post was prompted by a discussion on <a href="https://thegradient.pub/pulse-lessons/">twitter</a> as well as a discussion on <a href="https://www.linkedin.com/feed/update/urn:li:activity:6679637058597789696/?commentUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679704886969475072)&amp;replyUrn=urn%3Ali%3Acomment%3A(activity%3A6679637058597789696%2C6679775009537343488)">linkedin</a>. It‚Äôs dissapointing to see data professionals be dismissive of how bias is amplified by algorithms. It‚Äôs not something the profession should be casual about.</p>
<!--radix_placeholder_article_footer-->
<p>
    <span>
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Mean%20Squared%20Terror&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F">
        <i></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fkoaning.io%2Fposts%2Fmean-squared-terror%2F&amp;title=Mean%20Squared%20Terror">
        <i></i>
      </a>
    </span>
  </p>
<!--/radix_placeholder_article_footer-->
</div></div>]]>
            </description>
            <link>https://koaning.io/posts/mean-squared-terror/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668532</guid>
            <pubDate>Sun, 28 Jun 2020 13:22:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Promnesia ‚Äì an attempt to fix broken web history]]>
            </title>
            <description>
<![CDATA[
Score 212 | Comments 52 (<a href="https://news.ycombinator.com/item?id=23668507">thread link</a>) | @karlicoss
<br/>
June 28, 2020 | https://beepb00p.xyz/promnesia.html | <a href="https://web.archive.org/web/*/https://beepb00p.xyz/promnesia.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    
    <section>
    
    <p>A journey in fixing browser history
    </p></section>
    <!-- are sections appropriate for that? -->

    <section>
    <p>
Promnesia is a browser extension (Chrome/Firefox/Firefox mobile) that serves as a web surfing copilot
by enhancing your browsing history, improving your web exploration experience, and integrating with your knowledge base.
</p>
<p>
<a href="https://github.com/karlicoss/promnesia#readme">The repository</a> contains more information about the project and the setup guide, this post is more about the motivation and the story of what led me to work on it.
</p>
<p>
Also, you can quickly skim through the <a href="https://github.com/karlicoss/promnesia#demos">demos</a> first before reading, if you prefer!
</p>

<div>
<h2 id="singularity_when"><a href="#singularity_when">¬∂</a><span>1</span> I want my singularity!</h2>
<div id="text-singularity_when">
<p>
I was raised on science fiction and grew up dreaming about technology drastically changing our lives.
Artificial intelligence, augmenting the brain with a math co-processor, head-up displays, neural interfaces, having perfect reaction and memory ‚Äì many of you are on the same page and know the drill.
</p>
<p>
Years passed, I became a software engineer, and realized just how far we are from all these fancy technologies I wanted.
So my aspirations have become more modest, and I've chosen a more realistic and plausible target:
using my digital trace (such as browser history, webpage annotations and my <a href="https://beepb00p.xyz/tags.html#exobrain">personal wiki</a>) to make up for my limited memory.
</p>
<p>
I'm exploring lots of information on the Internet, and it feels wasteful to use my <a href="https://beepb00p.xyz/tags.html#meatsack">meat resources</a> to keep track of it.
Meanwhile, web browsers keep a record automatically, without any manual and conscious effort.
Surely we can benefit from the immense computing power and memory capabilities of computers?
</p>
<p>
So I figured that I wanted:
</p>
</div>
</div>
<div>
<h2 id="what_i_want"><a href="#what_i_want">¬∂</a><span>2</span> Ok, maybe a web assistant at least?</h2>
<div id="text-what_i_want">
<p>
A web surfing companion. A copilot.
A <a href="https://en.wikipedia.org/wiki/Memex">Memex</a>.
A <a href="http://alumni.media.mit.edu/~rhodes/Papers/remembrance.html">Remembrance Agent</a>?
</p>
<p>
Call it whatever you like, I <i>wish</i> it were a concept with a widely accepted name. Something that will sit in my browser and:
</p>
<ul>
<li><p>
aid me with <b>information processing</b>
</p>
<p>
Keep track of what I've read, when, on which device, and for how long.
</p></li>
<li><p>
show me my <b>annotations and highlights</b>, within the original page
</p>
<p>
I don't want to keep wondering whether I have my notes and thoughts stashed in some app, I want the computer to let me know instead.
</p></li>
<li><p>
unify my <b>scattered and siloed bookmarks</b>
</p>
<p>
Firefox bookmarks; Reddit/Hackernews saves; "Watch later" on Youtube, saved links in my instant messenger.
</p>
<p>
These are the same damn thing, yet there is no way to oversee and process them through a single interface.
</p>
<p>
<a href="https://jborichevskiy.com/posts/digital-tools/#queue-management-for-inbound-digital-content">"Queue management for inbound digital content"</a>:
a post expanding further on this idea.
</p></li>
<li><p>
connect with my online presence: chats and social networks
</p>
<p>
If I tweeted about a page, surely this should be somehow recorded in the browsing history?
</p>
<p>
In fact, the page that I bothered to tweet about is <b>much</b> more important than a page I merely visited in the browser.
</p></li>
<li><p>
help me explore new information and <b>prioritize</b> it
</p>
<p>
There is so much awesome stuff on the Internet! The biggest problem I have is picking the next cool link to dig into.
</p>
<p>
Imagine if in one click, I could see which of my friends, or the people I follow have read a certain link.
What did they think? Have they posted about it, annotated, or something else? Do they follow the author, perhaps I should too?
</p></li>
<li><p>
bridge the gap between the browser and my <a href="https://beepb00p.xyz/tags.html#exobrain">personal wiki</a>
</p>
<p>
Whatever product I choose for managing my notes: Google Keep, Evernote, Roam Research, or even org-mode files on my disk,
they always end up <b>isolated and disconnected</b> from my web browsing.
</p></li>
</ul>
<p>
I searched for a system like this <a href="https://twitter.com/karlicoss/status/767412935316611072">for</a> several <a href="https://twitter.com/karlicoss/status/896313846159298560">years</a>.
</p>
<p>
After enough failed attempts at finding an <a href="#prior_art">existing solution</a>, I figured it was going to be yet another thing I'd have to implement myself.
</p>
<p>
The journey of building it took longer than I expected, led me through a rabbit hole of <a href="https://beepb00p.xyz/tags.html#dataliberation">data liberation</a>, lots of <a href="https://en.wiktionary.org/wiki/yak_shaving">yak shaving</a>,
and made me realize: <b>browser history is very, very broken</b>.
</p>
<p>
Note: the next two sections are (somewhat technical) rants. If you prefer a more positive/less boring agenda, feel free to skip them straight to <a href="#prior_art">"Existing solutions"</a>
, and you can return back later if you feel like it.
</p>
</div>
</div>
<div>
<h2 id="history_broken"><a href="#history_broken">¬∂</a><span>3</span> Browser history is broken</h2>
<div id="text-history_broken">
<p>
To a large extent, URLs express <b>relationships and hierarchy</b> between the bits of information. For example:  <code>blog &lt;-&gt; post &lt;-&gt; comment</code>, <code>person &lt;-&gt; tweet</code>, <code>playlist &lt;-&gt; video</code>.
</p>
<p>
With this information you should be easily able to find everything relevant to the current page and trace your jumps through past websites.
Merely by looking at URLs, without "AI" or some dubious machine learning algorithm!
Seems like a low hanging fruit to harvest, right?
</p>
<p>
Web browser history is a rich source of potentially useful information.
Just think about it: it's zero effort <a href="https://beepb00p.xyz/tags.html#lifelogging">lifelogging</a>.
It contains exact timestamps and links which <i>basically</i> address information.
</p>
<p>
Now think about the experience you actually have. What was the last time you used the browser history in any nontrivial way, for something other than reopening an accidentally closed tab?
</p>
<p>
Besides:
</p>
</div>
<div>
<h3 id="not_just_browser"><a href="#not_just_browser">¬∂</a>it's not just about web browsers</h3>
<div id="text-not_just_browser">
<div><p><span>
When you're using a native phone app (say, for Reddit or Twitter), your history either isn't logged anywhere or if it is, it's only stored locally on your phone.

</span></p></div>
<div><p><span>
On Android, it's likely to be in an Sqlite database in <code>/data/data/app.name</code>.
This directory is not accessible to normal users <b>unless your phone is rooted</b>.
Just think about how ridiculous this is. It's <b>your own data</b>, yet your OS babysits you, preventing access to it.

And yes, I know sandboxing and security are important, but locking my data inside the app is hardly an acceptable tradeoff.
</span></p></div>
<p>
As a specific example, the <a href="https://github.com/ccrama/Slide">Reddit Slide</a> app keeps your view history in <code>/data/data/me.ccrama.redditslide/SEEN</code>.
Okay, say you root your phone and access the database. Turns out the the app isn't persisting the data forever, it's merely keeping a few weeks' cache.
And I can hardly blame the developer for this: because of the data model, no one expects regular users to access this database.
</p>
<p>
So if you want your complete history, you have to backup this database regularly, keep the snapshots and <a href="https://beepb00p.xyz/exports.html#synthetic">somehow</a>
reconstruct it.
</p>
<p>
You may dismiss this as nitpicking and obsession over every last bit of my data.
But when <b>all</b> of your phone apps are doing this you're missing out on quite a lot of useful information.
</p>
</div>
</div>
<div>
<h3 id="siloed"><a href="#siloed">¬∂</a>it's scattered and siloed</h3>
<div id="text-siloed">
<p>
Building on the previous point:
</p>
<ul>
<li>for the most part, you can't access history in your phone apps</li>
<li>lots of data which <i>ought</i> to be counted as web history is scattered across silos

<ul>
<li><div><p><span>in the cloud: behind APIs (best case), GDPR and manual exports (worst case)

It is never easy to get hands on, <i>even</i> if you're an experienced software engineer.</span></p></div></li>
<li><p>
on the filesystem, for example in markdown/org-mode files
</p>
<p>
A slightly better scenario, but as far as the web browser is concerned, it doesn't make any difference.
</p></li>
</ul></li>
</ul>
<p>
Even <i>regular</i> browser history is not easy to get:
</p>
<ul>
<li>Firefox <a href="https://support.mozilla.org/en-US/questions/1080942">used to</a> silently 'expire' your browser history</li>
<li><p>
Chrome deletes history older than <a href="https://superuser.com/a/364475/300795">90 days</a>
</p>
<p>
The only way to access older history I'm aware of is <a href="https://myactivity.google.com/">Google Activity</a> and Takeout.
</p></li>
<li>Google Takeout <a href="https://beepb00p.xyz/takeout-data-gone.html">quietly recycles your history</a></li>
<li><p>
Migration is limited to the most popular browsers
</p>
<p>
The retention limits the migration as well.
E.g. if you migrate from Chrome to Firefox, history older than 90 days is locked and siloed in your Google Account.
</p></li>
<li><p>
You're going to have a hard time if you're not using Google/Mozilla sync
</p>
<p>
Your history will be scattered across devices and lost on OS reinstalls.
</p>
<p>
There are ways of self-hosting Firefox sync, and (<a href="https://superuser.com/questions/614744/how-to-set-up-a-own-chrome-sync-server">allegedly</a>) even Chrome sync,
but as you can imagine, is quite tedious.
</p></li>
</ul>
</div>
</div>
<div>
<h3 id="significance"><a href="#significance">¬∂</a>it's got varying significance</h3>
<div id="text-significance">
<p>
Not all links in your history are equally important:
</p>
<ul>
<li>some are clicked on by accident</li>
<li>some you've just skimmed</li>
<li>some are on your reading list</li>
<li>some you've been reading for hours and are full of your highlights and annotations</li>
<li>some you reference in your knowledge base/personal wiki</li>
<li>some of them you've shared with others on social media</li>
</ul>
<p>
The current browser history experience makes no distinction between these scenarios.
</p>
</div>
</div>
</div>
<div>
<h2 id="urls_broken"><a href="#urls_broken">¬∂</a><span>4</span> URLs are broken</h2>
<div id="text-urls_broken">
<p>
This topic probably deserves a separate post, but I'll keep it section-sized for now.
</p>
<p>
URLs might seem great because they mostly address content and are semi-descriptive: people <i>try</i> to keep URLs somewhat reasonable, tidy and working.
But in the real world:
</p>
<ul>
<li><p>
links <b>rot</b>
</p>
<p>
Many URLs are <a href="https://www.gwern.net/Archiving-URLs#link-rot"><b>literally</b> broken</a>.
We're lucky to have <a href="https://web.archive.org/">archive.org</a>, so you can at least access dead pages.
</p>
<p>
But there is no way to migrate your browser history, e.g. point old URLs to their respective archive.org entries or a new domain.
Similarly if you had the page annotated, your annotations become orphans without an easy way to relink them.
</p></li>
<li><p>
links are <b>obfuscated</b> by shortening and redirects
</p>
<div><p><span>
What happens to all the <code>t.co</code> links when Twitter as a service dies?

</span></p></div></li>
<li><p>
links are <b>obscured</b>
</p>
<p>
There is no easy way to know what's behind <code>https://www.instapaper.com/read/1265139707</code> without querying the Instapaper API.
</p>
<p>
Relations between data are often obscured as well. For example:
</p>
<ul>
<li><code>https://news.ycombinator.com/item?id=22918980</code> is a submission link</li>
<li><code>https://news.ycombinator.com/item?id=22919718</code> is a comment to that submission</li>
</ul>
<p>
These links are clearly related, but there is no way to tell it just from <samp>id</samp>.
</p>
<p>
Compare this to Reddit links:
</p>
<ul>
<li><code>https://reddit.com/r/orgmode/comments/g6ejwe/is_there_an_orgmode_workbook_tutorial_that_is</code> is a post link</li>
<li><code>https://reddit.com/r/orgmode/comments/g6ejwe/is_there_an_orgmode_workbook_tutorial_that_is/fo9qnen</code> is a comment to that post</li>
</ul>
<p>
The ids are obscure, but at least we can clearly see the <code>post &lt;-&gt; comment</code> relation merely by looking at the URLs.
Alas, browsers are just ignoring this useful information.
</p></li>
<li><p>
links are <b>unstandardized</b>
</p>
<p>
For example, <a href="https://en.wikipedia.org/wiki/Query_string">queries</a>
</p>
<ul>
<li>typically don't point to anything persistent and are used for querying (duh)</li>
<li>but other times they are used to address information: <code>http://wiki.c2.com/?LispLanguage</code> or <code>https://www.scottaaronson.com/blog/?p=2694</code></li>
<li>and in many cases are utter garbage used for <a href="https://en.wikipedia.org/wiki/Query_string#Tracking">tracking</a></li>
</ul>
<p>
The worst part is that these use cases overlap. For example, take a look at <code>youtube.com/watch?v=wHrCkyoe72U&amp;feature=share&amp;t‚Ä¶</code></p></li></ul></div></div></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://beepb00p.xyz/promnesia.html">https://beepb00p.xyz/promnesia.html</a></em></p>]]>
            </description>
            <link>https://beepb00p.xyz/promnesia.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668507</guid>
            <pubDate>Sun, 28 Jun 2020 13:18:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unihertz Jelly 2 ‚Äì 3 inch Android 10 smartphone]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23668440">thread link</a>) | @xendo
<br/>
June 28, 2020 | https://www.ogadget.com/x/jelly-2 | <a href="https://web.archive.org/web/*/https://www.ogadget.com/x/jelly-2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p><a href="#"><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5eec5acb3f70b203bbccfeef_ulogoh.jpg" alt="" sizes="(max-width: 1439px) 100vw, 4000.390625px" srcset="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5eec5acb3f70b203bbccfeef_ulogoh-p-500.jpeg 500w, https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5eec5acb3f70b203bbccfeef_ulogoh.jpg 566w"></a></p><div id="Hero"><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee9b0c542098c929b46e557_php.jpg" alt="" sizes="100vw" srcset="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee9b0c542098c929b46e557_php-p-500.jpeg 500w, https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee9b0c542098c929b46e557_php-p-800.jpeg 800w, https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee9b0c542098c929b46e557_php.jpg 1000w"></p><div><div><div><div><p>Jelly 2 is a credit card size smartphone with 4G connection, global unlocked and Android 10 system.</p><div><p><em>* Super Early Bird Price from $129.</em></p><p><em>* Limited seats. First come, first served.</em></p><p><em>* We protect your data!</em><br></p></div></div><div><p>Jelly 2 is a credit card size smartphone with 4G connection, global unlocked and Android 10 system.</p><div><p><em>* Super Early Bird Price from $129.</em></p><p><em>* Limited seats. First come, first served.</em></p><p><em>* We protect your data!</em><br></p></div></div></div></div></div></div><div><div><div><p>‚Äç</p><h2>Designed for Life on the Go</h2><p>At just the size of a credit card, Jelly 2 is designed to act as a companion device to your regular cell, one that you can more easily use for nights out, workouts, or periods away from your full-fledged smartphone.</p><figure><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ef17bf5afe3c0131e612191_1.small1.jpg" alt=""></p></figure></div><div><p><img src="" alt=""></p></div><div><p><img src="" alt=""></p></div></div><div><div><p>‚Äç</p><h2>Powerful, And Beyond</h2><p>Packing a 2,000mAh battery, Jelly 2 delivers a significantly longer battery life and gives the user enough juice.</p><figure><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee8912001921b7c29cb416f_2.charge.jpg" alt=""></p></figure></div><div><p><img src="" alt=""></p></div><div><p><img src="" alt=""></p></div></div><div><div><p>‚Äç</p><h2>Capture a Wider World<strong><br></strong></h2><p>With 16MP rear camera and 8MP selfie camera, Jelly 2 lets you capture every moment that is beautifully true to life, with greater details and smoother light.<strong><br></strong></p><figure><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee832d325c41e0783ad40ff_3-camera%27.png" alt=""></p></figure></div><div><p><img src="" alt=""></p></div><div><p><img src="" alt=""></p></div></div><div><div><p>‚Äç</p><h2><strong>Even More Stuff to Geek Out on</strong><br></h2><p>As well as a small-ish size, you also get the very best specs and performance that Jelly 2 offers.</p><figure><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee352d541264f3b41435e25_4.icoc.png" alt=""></p></figure><p>‚Äç<br></p></div><div><p><img src="" alt=""></p></div><div><p><img src="" alt=""></p></div></div></div><div id="CTA"><div><p><img src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee87694a995be86b34fe90c_pro.jpg" alt="" sizes="(max-width: 479px) 96vw, (max-width: 767px) 92vw, (max-width: 991px) 94vw, (max-width: 1439px) 47vw, 610px" srcset="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee87694a995be86b34fe90c_pro-p-500.jpeg 500w, https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee87694a995be86b34fe90c_pro-p-800.jpeg 800w, https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ee87694a995be86b34fe90c_pro.jpg 1075w"></p><div><p>Come join the Jelly 2 community!</p></div></div></div><div><div><div><p><a target="_blank" href="#"><img width="133" src="https://global-uploads.webflow.com/58bad0d728e47e3e2911d6b2/5ed5e8dfa43b6575567b8912_u-logo.png" alt=""></a></p><div><div><p><strong>About Unihertz</strong></p><p>Unihertz is a professional team focusing on mobile devices and has years of experience in designing and manufacturing. They‚Äôre on a mission to design and create unique mobile products for modern explorers.</p><p>‚Äç</p></div></div></div></div></div></div></div></div>]]>
            </description>
            <link>https://www.ogadget.com/x/jelly-2</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668440</guid>
            <pubDate>Sun, 28 Jun 2020 13:02:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Producing a deepfake ‚Äì a faceswap workflow on AWS]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23668404">thread link</a>) | @botoxparty
<br/>
June 28, 2020 | https://adamham.dev/posts/producing-a-deepfake-on-aws/ | <a href="https://web.archive.org/web/*/https://adamham.dev/posts/producing-a-deepfake-on-aws/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>For a music video project I worked on we had to produce a deep fake. I had previously made some attempts at deepfakes using a local machine with an NVIDIA GeForce GTX 1080. Now I'll be using a MacBook Pro and an AWS account with a generous credit (the running cost of the server only ended up being about $30 per 24 hours).</p>
<p>If you want to understand more about how machine learning works I would recommend <a href="https://www.youtube.com/watch?v=R9OHn5ZF4Uo">this video</a>.</p>
<h2>Setting up</h2>
<p>The first thing was to choose a library, the two main players in the open-source deepfake space are <a href="https://github.com/deepfakes/faceswap">Faceswap</a> and <a href="https://github.com/iperov/DeepFaceLab">DeepFaceLab</a>. I chose to go with Faceswap because the GUI and the CLI seemed more user-friendly to me, it supports multiple GPUs, has a solid workflow and great community and support.</p>
<p>I had originally planned to do the inital tests on my local machine but my MacBook Pro has an ATI graphics card ü•∫. So straight to the cloud I go... I used a <a href="https://aws.amazon.com/ec2/instance-types/g4/">g4dn.xlarge EC2 instance</a> and loaded it with the <a href="https://aws.amazon.com/machine-learning/amis/">AWS Deep Learning AMI</a>. After wrestling with the <a href="https://github.com/deepfakes/faceswap/blob/master/INSTALL.md">installation of faceswap</a> (had some dependancy issues that may have been related to using the deep learning AMI) I managed to get it up and running on the remote instance.</p>
<h3>Preliminary tests</h3>
<p>To start we did a test run first to see what kind of results we could get using mostly default settings and with minimal intervention, just to get an idea of what was really possible with our material. For this I used the same footage for Face A from the target video that I wanted to convert, and for Face B I recorded 60 seconds of the subject performing basic facial movements from different angles.</p>
<p>From the preliminary results I could identify what the parameters that I was working within were. I noticed that a lot of my faces are a profile view, deepfakes work much better with a frontal view. Also my source material is a very low resolution (480p YouTube rip of an 80s video). This makes faces harder to detect, particularly smaller faces.</p>
<p>I would highly suggest doing a few tests before fully training your model. It'll also help you to tell which angles and expressions are lacking from your source footage.</p>
<h3>Project structure</h3>
<p>My initial tests also encouraged me to define a folder structure, I found this to be an efficient structure for deepfake projects</p>

        <deckgo-highlight-code>
          <code slot="code">/my-project
/my-project/src
/my-project/src/faceA/              // - Source footage/images for Face A
/my-project/src/faceB/              // - "                       " Face B
/my-project/src/target/             // - Footage to convert
/my-project/extract/faceA           // - Extracted faces from Face A
/my-project/extract/faceB           // - "                  " Face B
/my-project/model/                  // - Trained model
/my-project/output/                 // - Converted media (final exports)</code>
        </deckgo-highlight-code>
      
<h2>1. Extract</h2>
<h3>Face A - 6586 faces extracted</h3>
<p>I used 3 video clips of Robin Gibb that I could find from that era and cut out the footage that was worth extracting.</p>
<p><a href="https://www.youtube.com/watch?v=A-U058BIAGo">https://www.youtube.com/watch?v=A-U058BIAGo</a> <strong>(This is also the target video)</strong></p>
<p><a href="https://www.youtube.com/watch?v=oMvRLLPd8Ak">https://www.youtube.com/watch?v=oMvRLLPd8Ak</a></p>
<p><a href="https://www.youtube.com/watch?v=W_Nykcs7Zhg">https://www.youtube.com/watch?v=W_Nykcs7Zhg</a></p>
<h3>Face B - 7382 faces extracted</h3>
<p>I recorded 5 minutes of footage of the subject replicating the facial movements from the target source.</p>
<p>To prepare the extracted faces for training they need to be cleaned up. The better your source material is the better your result will be. This part of the process took about 10 hours.</p>
<ul>
<li>Remove any extracted faces that are of poor quality</li>
<li>Remove any bad detected faces</li>
<li>Regenerate alignments file to remove the deleted faces</li>
<li>Manually go through each face and clean up the alignment</li>
<li>Generate new masks</li>
</ul>
<p>After extracting the faces to use for training I cleaned and sorted the faces to remove any poor quality faces or things that were detected by error. Faceswap actually has a tool to allow you to sort the extracted faces by relevance to help you filter them out. After deleting the bad faces you'll also need to remove them from your alignments file using the alignments tool.</p>
<h2>2. Train</h2>
<p>There are a few different types of models you can train it all depends on what material you have and the results you want to achieve. I had time and computing power on my side so I decided to launch 3 instances and train variations of models to 20,000 iterations and then select the best one from there. I chose to go with Dfaker using a VCC-Clear mask.</p>
<p>Note: I made an error and accidentally deleted the full timelapse permanently but I have a few captures here for demo purposes. The final model was much more defined than shown in this timelapse.</p>
<p>My final model was trained for 75,000 iterations. I started it again and ran it for another 10,000 where I could see that the loss level was not improving, therefore the model was no longer learning and I could conclude that my model was trained.</p>
<p><img src="https://adamham.dev/posts/producing-a-deepfake-on-aws/training.gif" alt="Timelapse of model being trained in faceswap"></p>
<h2>3. Convert</h2>
<p>To prepare the target footage to be converted we need to repeat step 1 (extract) again being as meticulous as possible with the alignments. I spent about 4 hours on ~4,100 frames to achieve my result.</p>
<p>I definitely ran into difficulties with the face detection because of the low resolution of my source footage.</p>
<h2>Result</h2>
<h3>Converted Video</h3>
<p> <iframe src="https://www.youtube.com/embed/Sqc8EvnyyBM?rel=0&amp;showinfo=0" allowfullscreen=""></iframe>  </p>
<h3>Original Video</h3>
<p> <iframe src="https://www.youtube.com/embed/A-U058BIAGo?rel=0&amp;showinfo=0" allowfullscreen=""></iframe>  </p>
<h2>Final thoughts</h2>
<p>The abilities of the technology is really hyped up in the media. To achieve an undetectable result you really do need source footage that fits into the parameters of what a deepfake can work with.</p>
<p>For this project the aim wasn't to have a perfectly undetectable deepfake, the limitations weren't a problem but infact contributed to the concept. The song is a cover and seeing artifacts from the deepfake reinforces this idea.</p>
<p>The cost of processing the deepfake on AWS comes at about $30 per day. If you were doing a couple of renders a year then it's an amazing option rather than using your own hardware. However, things like manual alignments are really tricky using a remote machine so ideally you would want to have a CUDA capable graphics card in your local. A dedicated graphics machine with comparable specs would start at about $1400 (about 46 days of AWS EC2 usage) plus electricity bills.</p></div></div>]]>
            </description>
            <link>https://adamham.dev/posts/producing-a-deepfake-on-aws/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668404</guid>
            <pubDate>Sun, 28 Jun 2020 12:55:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Controversies and Challenges in fMRI (2018)]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 10 (<a href="https://news.ycombinator.com/item?id=23668279">thread link</a>) | @saadalem
<br/>
June 28, 2020 | http://www.thebrainblog.org/2018/12/23/twenty-six-controversies-and-challenges-in-fmri/ | <a href="https://web.archive.org/web/*/http://www.thebrainblog.org/2018/12/23/twenty-six-controversies-and-challenges-in-fmri/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-294">
	<!-- .entry-header -->

	
	
	<div>
		<h2><em><strong>‚Ä¢Neurovascular Coupling</strong></em><em><strong>‚Ä¢Draining Veins</strong></em><em><strong>‚Ä¢Linearity</strong></em><em><strong>‚Ä¢Pre-undershoot</strong></em><em><strong>‚Ä¢Post-undershoot</strong></em><em><strong>‚Ä¢Long duration</strong></em><em><strong>‚Ä¢Mental Chronometry</strong></em><em><strong>‚Ä¢Negative Signal Changes</strong></em><em><strong>‚Ä¢Resting state source</strong></em><em><strong>‚Ä¢Dead fish activation</strong></em><em><strong>‚Ä¢Voodoo correlations</strong></em><em><strong>‚Ä¢Global signal regression</strong></em><em><strong>‚Ä¢Motion artifacts</strong></em><em><strong>‚Ä¢The decoding signal</strong></em><em><strong>‚Ä¢non-neuronal BOLD</strong></em><em><strong>‚Ä¢relationship to other measures</strong></em><em><strong>‚Ä¢contrast: spin-echo vs gradient-echo</strong></em><em><strong>‚Ä¢contrast: SEEP contrast</strong></em><em><strong>‚Ä¢contrast: diffusion changes</strong></em><em><strong>‚Ä¢contrast: neuronal currents</strong></em><em><strong>‚Ä¢contrast: NMR phase imaging</strong></em><em><strong>‚Ä¢lie detection</strong></em><em><strong>‚Ä¢correlation ‚â† connection</strong></em><em><strong>‚Ä¢clustering conundrum</strong></em><em><strong>‚Ä¢reproducibility</strong></em><em><strong>‚Ä¢dynamic connectivity changes</strong></em></h2>
<hr>
<h4><em><strong>This will be a chapter in my upcoming book ‚ÄúFunctional MRI‚Äù </strong><strong>in the MIT Press Essential Knowledge Series&nbsp;</strong></em></h4>
<hr>
<p>Functional MRI is unique in that, in spite of being almost 30 years old as a method, it continues to progress in terms of sophistication of acquisition, hardware, processing, in our understanding of the signal itself. There has been no plateau in any of these areas. In fact, by looking at the literature, one gets the impression that this advancement is accelerating. Every new advance opens the potential range where it might have an impact, allowing new questions about the brain to be addressed.</p>
<p>In spite of its success ‚Äì perhaps as a result of its success ‚Äì it has had its share of controversies coincident with methods advancements, new observations, and novel applications. Some controversies have been more contentious than others. Over the years, I‚Äôve been following these controversies and have at times performed research to resolve them or at least better understand them. A good controversy can help to move the field forward as it can focus and motivate groups of people to work on the issue itself, shedding a broader light on the field as these are overcome.</p>
<p>While a few of the controversies or issues of contention have been fully resolved, most remain to some degree unresolved. Understanding fMRI through its controversies allows a deeper appreciation for how the field advances as a whole ‚Äì and how science really works ‚Äì the false starts, the corrections, and the various claims made by those with potentially useful pulse sequences, processing methods, or applications. Below is the list of twenty-six major controversies in fMRI ‚Äì in approximately chronological order.</p>
<h2>#1: The Neurovascular coupling debate.</h2>
<p>Since the late 1800‚Äôs, the general consensus, hypothesized by Roy and Sherrington in 1890 (1), was that activation-induced cerebral flow changes were driven by local changes in metabolic demand. In 1986, a publication by Fox et al. (2)challenged that view, demonstrating that with activation, localized blood flow seemingly increased beyond oxidative metabolic demand, suggesting an ‚Äúuncoupling‚Äù of the hemodynamic response from metabolic demand during activation. Many, including Louis Sokolof, a well-established neurophysiologist at the National Institutes of Health, strongly debated the results. Fox nicely describes this period in history from his perspective in ‚ÄúThe coupling controversy‚Äù (3).</p>
<p>I remember well, in the early days of fMRI, Dr. Sokolof standing up from the audience to debate Fox on several circumstances, arguing that the flow response should match the metabolic need and there should be no change in oxygenation. He argued that what we are seeing in fMRI is something other than an oxygenation change.</p>
<p>In the pre-fMRI days, I recall not knowing what direction the signal should go ‚Äì as when I first laid eyes on the impactful video presented by Tom Brady during his plenary lecture on the future of MRI at the Society for Magnetic Resonance (SMR) Meeting in August of 1991, it was not clear from these time series movies of subtracted images the direction he performed the subtraction operation. Was it task minus rest or rest minus task? Did the signal go up or down with activation? I also remember very well, analyzing my first fMRI experiments, expecting to see a decrease in BOLD signal ‚Äì as Ogawa, in an earlier paper(4), hypothesized that metabolic rate increases would lead to a decrease blood oxygenation thus a darkening of the BOLD signal during brain activation. Instead, all I saw were signal increases. It was Fox‚Äôs work that helped me to understand why the BOLD signal should <em>increase</em>with activation. Flow goes up and oxygen delivery exceeds metabolic need, leading to an increase in blood oxygenation.</p>
<p>While models of neurovascular coupling have improved, we still do not understand the precise need for flow increases. First, we had the ‚Äúwatering the whole garden to feed one thirsty flower‚Äù hypothesis which suggested that flow increases matched metabolic need for one area but since vascular control was coarse, the abundant oxygenation was delivered to a wider area than was needed, causing the increase in oxygenation. We also had the ‚Äúdiffusion limited‚Äù model, where it was hypothesized that in order to deliver enough oxygen to the furthest neurons from the oxygen supplying vessels, an overabundance of oxygen was needed at the vessel itself since the decrease of oxygen as it diffused from the vessel to the furthest cell was described as an exponential. &nbsp;This theory has fallen a bit from favor as the increases in CMRO<sub>2</sub>or the degree to which the diffusion of oxygen to tissue from blood is limited tend to be higher than physiologic measures. The alternative to the metabolic need hypothesis involves neurogenic ‚Äúfeed-forward‚Äù hypotheses ‚Äì which still doesn‚Äôt get at the ‚Äúwhy‚Äù of the flow response.</p>
<p>Currently, this is where the field stands. We know that the flow response is robust and consistent. We know that in active areas, oxygenation in healthy brains always increases, however we just don‚Äôt understand specifically why it‚Äôs necessary. Is it a neurogenic, metabolic, or some other mechanism to satisfy some evolutionary critical need that extends beyond simple need for more oxygen? We are still figuring that out. Nevertheless, it can be said that whatever the reason for this increase in flow, it is fundamentally important, as the BOLD response is stunningly consistent.</p>
<h2>#2: The Draining Vein Effect</h2>
<p>The question: ‚Äúwhat about the draining veins?‚Äù I think was first posited at an early fMRI conference by Kamil Ugurbil of the University of Minnesota. Here and for the next several years he alerted the community to the observation that, especially at low field, draining veins are a problem as they smear and distort the fMRI signal change such that it‚Äôs hard to know specifically where the underlying neuronal activation is with a high degree of certainty. In the ‚Äú20 years of fMRI: the science and the stories‚Äù special issue of NeuroImage, Ravi Menon writes a thorough narrative of the ‚ÄúGreat brain vs vein‚Äù debate (5). &nbsp;When the first fMRI papers were published, only one, by Ogawa et al. (6), was at high field ‚Äì 4 Tesla ‚Äì and relatively high resolution. In Ogawa‚Äôs paper, it was shown that there was a differentiation between veins (very hot spots) and capillaries (more diffuse weaker activation in grey matter). Ravi followed this up with another paper (7)using multi-echo imaging, to show that blood in veins had an intrinsically shorter T2* decay than gray matter at 4T and appeared as dark dots in T2* weighted structural images yet appeared as bright functional hot spots in the 4T functional images. Because of the low SNR and CNR at 1.5T, allowing only the strongest BOLD effects to be seen, and because models suggested that at low field strengths, large vessels contributed the most to the signal, the field worried that all fMRI was looking at was veins ‚Äì at least at 1.5T.</p>
<p>The problem of large vein effects is prevalent using standard gradient-echo EPI ‚Äì even at high fields. Simply put, the BOLD signal is directly proportional to the venous blood volume contribution in each voxel. If the venous blood volume is high ‚Äì as with the case of a vein filling a voxel ‚Äì then the potential for high BOLD changes is high if there is a blood oxygenation change in the area. At high field, indeed, there is not much intravascular signal left in T2* weighted Gradient-echo sequences, however, the extravascular effect of large vessels still exists.&nbsp; Spin-echo sequences (sensitive to small compartments) still are sensitive to the susceptibility effects around intravascular red blood cells within large vessels ‚Äì even at 7T where intravascular contribution is reduced. Even with some vein sensitivity, promising high resolution orientation column results have been produced at 7T using gradient-echo and spin-echo sequences (8). The use of arterial spin labeling has potential as a method insensitive to large veins, although the temporal efficiency, intrinsic sensitivity, and brain coverage limitations blunt its utility. Vascular Space Occupancy (VASO), a method sensitive to blood volume changes, has been shown to be exquisitely sensitive to blood volume changes in small vessels and capillaries. Preliminary results have shown clear layer dependent activation using VASO where other approaches have provided less clear delineation(9).</p>
<p>Methods have arisen to identify and mask large vein effects ‚Äì including thresholding based on percent signal change (large veins tend to fill voxels and thus exhibit a larger fractional signal change), as well as temporal fluctuations (large veins are pulsatile thus exhibit more magnitude and phase noise). While these seem to be workable solutions, they have not been picked up and used extensively. With regard to using the phase variations as a regressor to eliminate pulsatile blood and tissue, perhaps the primary reason for this not being adopted is because standard scanners do not produce these images readily, thus users do not have easy access to this information.</p>
<p>The draining vein issue is least problematic at voxel sizes larger than 2mm, as at these resolutions, mostly the region of activation- as defined as &gt;1 cm ‚Äúblob‚Äù is used and interpreted. Other than enhancing the magnitude of activation, vein effects do not distort these ‚Äúblobs‚Äù thus are typically of no ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.thebrainblog.org/2018/12/23/twenty-six-controversies-and-challenges-in-fmri/">http://www.thebrainblog.org/2018/12/23/twenty-six-controversies-and-challenges-in-fmri/</a></em></p>]]>
            </description>
            <link>http://www.thebrainblog.org/2018/12/23/twenty-six-controversies-and-challenges-in-fmri/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668279</guid>
            <pubDate>Sun, 28 Jun 2020 12:27:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Server-Side Tracking Without Cookies in Go]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 22 (<a href="https://news.ycombinator.com/item?id=23668212">thread link</a>) | @marvinblum
<br/>
June 28, 2020 | https://marvinblum.de/blog/server-side-tracking-without-cookies-in-go-OxdzmGZ1Bl | <a href="https://web.archive.org/web/*/https://marvinblum.de/blog/server-side-tracking-without-cookies-in-go-OxdzmGZ1Bl">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    
    <small>Published on 22. June 2020</small>
    <p>I was looking for an alternative to Google Analytics to track visitors on a website. Analytics (and most of its competitors) provide detailed information and real-time data at the cost of privacy. Google can track you across sites using a bunch of different techniques and through their Chrome browser. Combined, this can be assembled to a detailed profile that can not only be used for tracking, but for marketing too.</p><p>I found some (open source) alternatives like <a href="https://www.goatcounter.com/" target="_blank" rel="noreferrer">GoatCounter</a>, which anonymously collect data without invading the user's privacy. But all of the tools I found either rely on cookies, which the visitor needs to opt-in for or cost money for the server-side only tracking solution. While I'm willing to pay for good software, especially when it comes from a small team or just one developer, I was wondering if I could build something that I can integrate into my Go applications.</p><p>This post is about my solution called <em>Pirsch</em>, an open-source Go library that can be integrated into your applications to tracks visitors on the server-side, without setting cookies. I will write about the technique used and what the advantages and disadvantages are.</p><blockquote><h2>TL;DR</h2><p>Invading the privacy of your website visitors is evil. Pirsch is a privacy-focused tracking library for Go that can be integrated into your applications. Check it out on <a href="https://github.com/emvi/pirsch" target="_blank" rel="noreferrer">GitHub</a>!</p><p>You can find a live demo <a href="https://marvinblum.de/tracking" target="_blank" rel="noreferrer">here</a> on my website and the whole thing on GitHub as a <a href="https://github.com/Kugelschieber/marvinblum" target="_blank" rel="noreferrer">sample application</a>.</p></blockquote><h2>What's With the Name?</h2><p>Pirsch is German and refers to a special kind of hunt:&nbsp;<em>the hunter carefully and quietly enters the area to be hunted, he stalks against the wind in order to get as close as possible to the prey without being noticed.</em></p><p>I found this quite fitting for a tracking library that cannot be blocked by the visitor. Even though it sounds a little sneaky. Here is the Gopher for it create by <a href="https://github.com/Motorschpocht" target="_blank" rel="noreferrer">Daniel</a>.</p><img src="https://marvinblum.de/static/blog/OxdzmGZ1Bl/0wV4YBIYaCm9JiteSaa3.svg" alt="https://api.emvi.com/api/v1/content/0wV4YBIYaCm9JiteSaa3.svg"><h2>How Does It Work?</h2><p>I will go over each step in more detail later, but here is a high-level overview of how Pirsch tracks visitors.</p><img src="https://marvinblum.de/static/blog/OxdzmGZ1Bl/vuvopEa9M7yGpKWgwXht.svg" alt="https://api.emvi.com/api/v1/content/vuvopEa9M7yGpKWgwXht.svg"><p>Once someone visits your website, the HTTP handler calls Pirsch to store a new hit and goes on with whatever it intends to do. Pirsch will do its best to filter out bots, calculate a fingerprint, and stores the page hit. You can analyze the data and generate statistics from it later.</p><p>The process must be triggered manually by calling the <code>Hit</code> method and passing the <code>http.Request</code>. This enables you to decide which traffic is tracked and which is not. I'm usually just interested in page visits, so I'll add a call to Pirsch inside my page handlers. Resources are served on a different endpoint and won't be tracked that way.</p><h3>Fingerprinting</h3><p>Fingerprinting is a technique to identify individual devices by combing some parameters. The parameters are typically things like the graphics card ID and other variables that are unique to a device. As we are interested in tracking website traffic, we won't have access to this kind of information. Instead, we can make use of the IP and HTTP protocol. Here are the parameters used by Pirsch to generate a fingerprint:</p><ul><li><p>the IP is the most obvious choice. It might change, as ISPs only have a limited pool of IPs available to them, but that shouldn't happen too frequently</p></li><li><p>the User-Agent HTTP header contains information about the browser and device used by the visitor. It might not be filled though, but it usually is</p></li></ul><p>To generate a unique fingerprint from this information, we can calculate a hash. Pirsch will add the current day to prevent tracking users across days and calculate an MD5 hash. I found this to be the fastest algorithm available in the Go standard library. This will also make the visitor anonymous at the same time as we do not store IPs or other identifiable information.</p><p>This method is called <em>passive</em> fingerprinting, as we're only using data that we have access to anyways. The alternative is called <em>active</em> fingerprinting, which makes use of JavaScript to collect additional information on the client-side and sends it to the backend. But as we're trying to build a privacy-focus tracking solution, passive fingerprinting is the way to go.</p><p>We will use the fingerprint later to count unique visitors.</p><h3>Filtering Bots</h3><p>Filtering out bot traffic is hard, as there is no complete list of all bots and they won't send any special kind of information, like an <em>I'm a bot</em> header. All we can do is to process the IP and the User-Agent header send and make some assumptions. Pirsch will look for terms often used by bots within the User-Agent header. Should it contain words like <em>bot</em> or <em>crawler</em> or an URL, the hit will be dropped. Filtering for IP ranges is not implemented (yet), but you can filter hits that are coming from popular IP ranges, like AWS.</p><h3>Hits</h3><p>Each page request is stored as a <em>Hit</em>. A hit is a data point that can later be analyzed. Here is the definition of a hit:</p><pre><code language="text/x-go">// I removed some details to make it more readable for this blog post
type Hit struct {
	Fingerprint string
	Path        string
	URL         string
	Language    string
	UserAgent   string
	Ref         string
	Time        time.Time
}</code></pre><p>A hit contains the full request URL, the path extracted from the URL, the language, user-agent and reference passed by the client in their corresponding headers and the time the request was made.</p><h3>Analyze</h3><p>Pirsch provides an <em>Analyzer</em> that can be used to extract some basic statistics:</p><ul><li><p>total visitor count</p></li><li><p>visitors by page on each day</p></li><li><p>visitors by hour on each day</p></li><li><p>languages used by visitors</p></li><li><p>active visitors within a time frame</p></li></ul><p>Most of these functions accept a filter to specify a time frame. The data can then be plotted like on my <a href="https://marvinblum.de/tracking" target="_blank" rel="noreferrer">tracking page</a>.</p><img src="https://marvinblum.de/static/blog/OxdzmGZ1Bl/QOeMcMKi8yS2p4WB2Xlu.png" alt="https://api.emvi.com/api/v1/content/QOeMcMKi8yS2p4WB2Xlu.png"><p>To reduce the amount of data that needs to be processed the hits get aggregated each night and hits are cleaned up afterward.</p><p>Postgres is used as the storage backend at the moment as it is a fantastic open-source database and provides all features needed to read these statistics easily. You can extract more statistics, like the visitor page flow, from the database if you care.</p><h3>Tracking From JavaScript</h3><p>While it is simple to integrate tracking into your backend, you might also want to have some way to track from your frontend as well, in case you're running a single page application for example. In that case, you can add an endpoint to your router and call it using Ajax. The path can manually be overwritten in Pirsch by calling <em>HitPage</em> instead of <em>Hit</em>.</p><h2>How Well Does It Work?</h2><p>As far as I can tell right now, it works pretty well. I still need to collect more sample data and a way to compare it to something like Google Analytics in order to make a more precise statement. Keep in mind that while Analytics and other tools provide more detailed statistics, like the location, age, gender, and so on, they can be blocked by tools like uBlock. Pirsch cannot be blocked by the client and therefore it can track visitors you won't even notice with a client-side solution.</p><p>Bots are probably the weak spot of Pirsch right now, as filtering for them requires adding a whole bunch of keywords to the filter list.</p><p>Another disadvantage of server-side tracking depending on your use-case  might be that you cannot track your marketing campaigns. In case you're using Adsense for marketing, you can track how well your campaigns perform through Analytics. This won't work with Pirsch.</p><h2>Conclusion</h2><p>Tracking on the server-side isn't too hard to archive and all in all, I think it's worth the effort. I hope you gained some insight into how you can use fingerprinting and Pirsch to your advantage. I will continue improving Pirsch and implement it into <a href="https://emvi.com/" target="_blank" rel="noreferrer">Emvi</a> and compare the output to Analytics. I might also add a user interface for Pirsch so that you can host it without integrating it into your application and without the need to generate the charts yourself. In case you would like to send me feedback, have a question, or would like to contribute you can contact me.</p>
</section></div>]]>
            </description>
            <link>https://marvinblum.de/blog/server-side-tracking-without-cookies-in-go-OxdzmGZ1Bl</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668212</guid>
            <pubDate>Sun, 28 Jun 2020 12:06:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Guide to Linux System Calls (2016)]]>
            </title>
            <description>
<![CDATA[
Score 139 | Comments 30 (<a href="https://news.ycombinator.com/item?id=23668186">thread link</a>) | @crunchbang123
<br/>
June 28, 2020 | https://blog.packagecloud.io/eng/2016/04/05/the-definitive-guide-to-linux-system-calls/ | <a href="https://web.archive.org/web/*/https://blog.packagecloud.io/eng/2016/04/05/the-definitive-guide-to-linux-system-calls/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><p>This blog post explains how Linux programs call functions in the Linux kernel.</p><p>It will outline several different methods of making systems calls, how to handcraft your own assembly to make system calls (examples included), kernel entry points into system calls, kernel exit points from system calls, glibc wrappers, bugs, and much, much more. </p><div><p>Create a package repository in less than 10 seconds, free.</p></div><ul id="markdown-toc"><li><a href="#tldr" id="markdown-toc-tldr">TL;DR</a></li><li><a href="#what-is-a-system-call" id="markdown-toc-what-is-a-system-call">What is a system call?</a></li><li><a href="#prerequisite-information" id="markdown-toc-prerequisite-information">Prerequisite information</a><ul><li><a href="#hardware-and-software" id="markdown-toc-hardware-and-software">Hardware and software</a></li><li><a href="#user-programs-the-kernel-and-cpu-privilege-levels" id="markdown-toc-user-programs-the-kernel-and-cpu-privilege-levels">User programs, the kernel, and CPU privilege levels</a></li><li><a href="#interrupts" id="markdown-toc-interrupts">Interrupts</a></li><li><a href="#model-specific-registers-msrs" id="markdown-toc-model-specific-registers-msrs">Model Specific Registers (MSRs)</a></li><li><a href="#calling-system-calls-with-assembly-is-a-bad-idea" id="markdown-toc-calling-system-calls-with-assembly-is-a-bad-idea">Calling system calls with assembly is a bad idea</a></li></ul></li><li><a href="#legacy-system-calls" id="markdown-toc-legacy-system-calls">Legacy system calls</a><ul><li><a href="#using-legacy-system-calls-with-your-own-assembly" id="markdown-toc-using-legacy-system-calls-with-your-own-assembly">Using legacy system calls with your own assembly</a></li><li><a href="#kernel-side-int-0x80-entry-point" id="markdown-toc-kernel-side-int-0x80-entry-point">Kernel-side: <code>int $0x80</code> entry point</a></li><li><a href="#returning-from-a-legacy-system-call-with-iret" id="markdown-toc-returning-from-a-legacy-system-call-with-iret">Returning from a legacy system call with <code>iret</code></a></li></ul></li><li><a href="#fast-system-calls" id="markdown-toc-fast-system-calls">Fast system calls</a><ul><li><a href="#32-bit-fast-system-calls" id="markdown-toc-32-bit-fast-system-calls">32-bit fast system calls</a><ul><li><a href="#sysentersysexit" id="markdown-toc-sysentersysexit"><code>sysenter</code>/<code>sysexit</code></a></li><li><a href="#__kernel_vsyscall-internals" id="markdown-toc-__kernel_vsyscall-internals"><code>__kernel_vsyscall</code> internals</a></li><li><a href="#using-sysenter-system-calls-with-your-own-assembly" id="markdown-toc-using-sysenter-system-calls-with-your-own-assembly">Using <code>sysenter</code> system calls with your own assembly</a></li><li><a href="#kernel-side-sysenter-entry-point" id="markdown-toc-kernel-side-sysenter-entry-point">Kernel-side: <code>sysenter</code> entry point</a></li><li><a href="#returning-from-a-sysenter-system-call-with-sysexit" id="markdown-toc-returning-from-a-sysenter-system-call-with-sysexit">Returning from a <code>sysenter</code> system call with <code>sysexit</code></a></li></ul></li><li><a href="#64-bit-fast-system-calls" id="markdown-toc-64-bit-fast-system-calls">64-bit fast system calls</a><ul><li><a href="#syscallsysret" id="markdown-toc-syscallsysret"><code>syscall</code>/<code>sysret</code></a></li><li><a href="#using-syscall-system-calls-with-your-own-assembly" id="markdown-toc-using-syscall-system-calls-with-your-own-assembly">Using <code>syscall</code> system calls with your own assembly</a></li><li><a href="#kernel-side-syscall-entry-point" id="markdown-toc-kernel-side-syscall-entry-point">Kernel-side: syscall entry point</a></li><li><a href="#returning-from-a-syscall-system-call-with-sysret" id="markdown-toc-returning-from-a-syscall-system-call-with-sysret">Returning from a <code>syscall</code> system call with <code>sysret</code></a></li></ul></li></ul></li><li><a href="#calling-a-syscall-semi-manually-with-syscall2" id="markdown-toc-calling-a-syscall-semi-manually-with-syscall2">Calling a syscall semi-manually with syscall(2)</a><ul><li><a href="#glibc-syscall-wrapper-internals" id="markdown-toc-glibc-syscall-wrapper-internals">glibc <code>syscall</code> wrapper internals</a></li></ul></li><li><a href="#virtual-system-calls" id="markdown-toc-virtual-system-calls">Virtual system calls</a><ul><li><a href="#vdso-in-the-kernel" id="markdown-toc-vdso-in-the-kernel">vDSO in the kernel</a></li><li><a href="#locating-the-vdso-in-memory" id="markdown-toc-locating-the-vdso-in-memory">Locating the vDSO in memory</a></li><li><a href="#vdso-in-glibc" id="markdown-toc-vdso-in-glibc">vDSO in glibc</a></li></ul></li><li><a href="#glibc-system-call-wrappers" id="markdown-toc-glibc-system-call-wrappers"><code>glibc</code> system call wrappers</a></li><li><a href="#interesting-syscall-related-bugs" id="markdown-toc-interesting-syscall-related-bugs">Interesting syscall related bugs</a><ul><li><a href="#cve-2010-3301" id="markdown-toc-cve-2010-3301">CVE-2010-3301</a></li><li><a href="#android-sysenter-abi-breakage" id="markdown-toc-android-sysenter-abi-breakage">Android <code>sysenter</code> ABI breakage</a></li></ul></li><li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li><li><a href="#related-posts" id="markdown-toc-related-posts">Related Posts</a></li></ul><p>When you run a program which calls <code>open</code>, <code>fork</code>, <code>read</code>, <code>write</code> (and many others) you are making a system call.</p><p>System calls are how a program enters the kernel to perform some task. Programs use system calls to perform a variety of operations such as: creating processes, doing network and file IO, and much more.</p><p>You can find a list of system calls by checking the <a href="http://man7.org/linux/man-pages/man2/syscalls.2.html">man page for syscalls(2)</a>.</p><p>There are several different ways for user programs to make system calls and the low-level instructions for making a system call vary among CPU architectures.</p><p>As an application developer, you don‚Äôt typically need to think about how exactly a system call is made. You simply include the appropriate header file and make the call as if it were a normal function.</p><p><code>glibc</code> provides wrapper code which abstracts you away from the underlying code which arranges the arguments you‚Äôve passed and enters the kernel.</p><p>Before we can dive into the details of how system calls are made, we‚Äôll need to define some terms and examine some core ideas that will appear later.</p><h2 id="hardware-and-software">Hardware and software</h2><p>This blog post makes the following assumptions that:</p><ul><li>You are using a 32-bit or 64-bit Intel or AMD CPU. The discussion about the methods may be useful for people using other systems, but the code samples below contain CPU-specific code.</li><li>You are interested in the Linux kernel, version 3.13.0. Other kernel versions will be similar, but the exact line numbers, organization of code, and file paths will vary. Links to the 3.13.0 kernel source tree on GitHub are provided.</li><li>You are interested in <code>glibc</code> or <code>glibc</code> derived libc implementations (e.g., <code>eglibc</code>).</li></ul><p>x86-64 in this blog post will refer to 64bit Intel and AMD CPUs that are based on the x86 architecture.</p><h2 id="user-programs-the-kernel-and-cpu-privilege-levels">User programs, the kernel, and CPU privilege levels</h2><p>User programs (like your editor, terminal, ssh daemon, etc) need to interact with the Linux kernel so that the kernel can perform a set of operations on behalf of your user programs that they can‚Äôt perform themselves.</p><p>For example, if a user program needs to do some sort of IO (<code>open</code>, <code>read</code>, <code>write</code>, etc) or modify its address space (<code>mmap</code>, <code>sbrk</code>, etc) it must trigger the kernel to run to complete those actions on its behalf.</p><p>What prevents user programs from performing these actions themselves?</p><p>It turns out that the x86-64 CPUs have a concept called <a href="https://en.wikipedia.org/wiki/Privilege_level">privilege levels</a>. Privilege levels are a complex topic suitable for their own blog post. For the purposes of this post, we can (greatly) simplify the concept of privilege levels by saying:</p><ol><li>Privilege levels are a means of access control. The current privilege level determines which CPU instructions and IO may be performed.</li><li>The kernel runs at the most privileged level, called ‚ÄúRing 0‚Äù. User programs run at a lesser level, typically ‚ÄúRing 3‚Äù.</li></ol><p>In order for a user program to perform some privileged operation, it must cause a privilege level change (from ‚ÄúRing 3‚Äù to ‚ÄúRing 0‚Äù) so that the kernel can execute.</p><p>There are several ways to cause a privilege level change and trigger the kernel to perform some action.</p><p>Let‚Äôs start with a common way to cause the kernel to execute: interrupts.</p><h2 id="interrupts">Interrupts</h2><p>You can think of an interrupt as an event that is generated (or ‚Äúraised‚Äù) by hardware or software.</p><p>A hardware interrupt is raised by a hardware device to notify the kernel that a particular event has occurred. A common example of this type of interrupt is an interrupt generated when a NIC receives a packet.</p><p>A software interrupt is raised by executing a piece of code. On x86-64 systems, a software interrupt can be raised by executing the <code>int</code> instruction.</p><p>Interrupts usually have numbers assigned to them. Some of these interrupt numbers have a special meaning.</p><p>You can imagine an array that lives in memory on the CPU. Each entry in this array maps to an interrupt number. Each entry contains the address of a function that the CPU will begin executing when that interrupt is received along with some options, like what privilege level the interrupt handler function should be executed in.</p><p>Here‚Äôs a photo from the Intel CPU manual showing the layout of an entry in this array:</p><p><img src="https://blog.packagecloud.io/images/idt.png" alt="Screenshot of Interrupt Descriptor Table entry diagram for x86_64 CPUs"></p><p>If you look closely at the diagram, you can see a 2-bit field labeled DPL (Descriptor Privilege Level). The value in this field determines the minimum privilege level the CPU will be in when the handler function is executed.</p><p>This is how the CPU knows which address it should execute when a particular type of event is received and what privilege level the handler for that event should execute in.</p><p>In practice, there are lots of different ways to deal with interrupts on x86-64 systems. If you are interested in learning more read about the <a href="http://wiki.osdev.org/8259_PIC">8259 Programmable Interrupt Controller</a>, <a href="http://wiki.osdev.org/APIC">Advanced Interrupt Controllers</a>, and <a href="http://wiki.osdev.org/IOAPIC">IO Advanced Interrupt Controllers</a>.</p><p>There are other complexities involved with dealing with both hardware and software interrupts, such as interrupt number collisions and remapping.</p><p>We don‚Äôt need to concern ourselves with these details for this discussion about system calls.</p><h2 id="model-specific-registers-msrs">Model Specific Registers (MSRs)</h2><p>Model Specific Registers (also known as MSRs) are control registers that have a specific purpose to control certain features of the CPU. The CPU documentation lists the addresses of each of the MSRs.</p><p>You can use the CPU instructions <code>rdmsr</code> to <code>wrmsr</code> to read and write MSRs, respectively.</p><p>There are also command line tools which allow you to read and write MSRs, but doing this is <em>not recommended</em> as changing these values (especially while a system is running) is dangerous unless you are really careful.</p><p>If you don‚Äôt mind potentially destabilizing your system or irreversibly corrupting your data, you can read and write MSRs by installing <code>msr-tools</code> and loading the <code>msr</code> kernel module:</p><figure><pre><code data-lang="sh">% <span>sudo </span>apt-get install msr-tools
% <span>sudo </span>modprobe msr
% <span>sudo </span>rdmsr</code></pre></figure><p>Some of the system call methods we‚Äôll see later make use of MSRs, as we‚Äôll see soon.</p><h2 id="calling-system-calls-with-assembly-is-a-bad-idea">Calling system calls with assembly is a bad idea</h2><p>It‚Äôs not a great idea to call system calls by writing your own assembly code.</p><p>One big reason for this is that some system calls have additional code that runs in glibc before or after the system call runs.</p><p>In the examples below, we‚Äôll be using the <code>exit</code> system call. It turns out that you can register functions to run when <code>exit</code> is called by a program by using <a href="http://man7.org/linux/man-pages/man3/atexit.3.html"><code>atexit</code></a>.</p><p>Those functions are called from glibc, not the kernel. So, if you write your own assembly to call <code>exit</code> as we show below, your registered handler functions won‚Äôt be executed since you are bypassing glibc.</p><p>Nevertheless, manually making system calls with assembly is a good learning experience.</p><div><p>Create a package repository in less than 10 seconds, free.</p></div><p>Using our prerequisite knowledge we know two things:</p><ol><li>We know that we can trigger the kernel to execute by generating a software interrupt.</li><li>We can generate a software interrupt with the <code>int</code> assembly instruction.</li></ol><p>Combining these two concepts leads us to the legacy system call interface on Linux.</p><p>The Linux kernel sets aside a specific software interrupt number that can be used by user space programs to enter the kernel and execute a system call.</p><p>The Linux kernel registers an interrupt handler named <code>ia32_syscall</code> for the interrupt number: 128 (0x80). Let‚Äôs take a look at the code that actually does this.</p><p>From the <code>trap_init</code> function in the kernel 3.13.0 source in <a href="https://github.com/torvalds/linux/blob/v3.13/arch/x86/kernel/traps.c#L770"><code>arch/x86/kernel/traps.c</code></a>:</p><figure><pre><code data-lang="c"><span>void</span> <span>__init</span> <span>trap_init</span><span>(</span><span>void</span><span>)</span>
<span>{</span>
        <span>/* ..... other code ... */</span>

        <span>set_system_intr_gate</span><span>(</span><span>IA32_SYSCALL_VECTOR</span><span>,</span> <span>ia32_syscall</span><span>);</span></code></pre></figure><p>Where <code>IA32_SYSCALL_VECTOR</code> is a defined as <code>0x80</code> in <a href="https://github.com/torvalds/linux/blob/v3.13/arch/x86/kernel/traps.c#L770"><code>arch/x86/include/asm/irq_vectors.h</code></a>.</p><p>But, if the kernel reserves a single software interrupt that userland programs can raise to trigger the kernel, how does the kernel know which of the many system calls it should execute?</p><p>The userland program is expected to put the system call number in the <code>eax</code> register. The arguments for the syscall itself are to be placed in the remaining general purpose registers.</p><p>One place this is documented is in a comment in <a href="https://github.com/torvalds/linux/blob/v3.13/arch/x86/ia32/ia32entry.S#L378-L397"><code>arch/x86/ia32/ia32entry.S</code></a>:</p><figure><pre><code data-lang="c"> <span>*</span> <span>Emulated</span> <span>IA32</span> <span>system</span> <span>calls</span> <span>via</span> <span>int</span> <span>0x80</span><span>.</span>
 <span>*</span>
 <span>*</span> <span>Arguments</span><span>:</span>
 <span>*</span> <span>%</span><span>eax</span> <span>System</span> <span>call</span> <span>number</span><span>.</span>
 <span>*</span> <span>%</span><span>ebx</span> <span>Arg1</span>
 <span>*</span> <span>%</span><span>ecx</span> <span>Arg2</span>
 <span>*</span> <span>%</span><span>edx</span> <span>Arg3</span>
 <span>*</span> <span>%</span><span>esi</span> <span>Arg4</span>
 <span>*</span> <span>%</span><span>edi</span> <span>Arg5</span>
 <span>*</span> <span>%</span><span>ebp</span> <span>Arg6</span>    <span>[</span><span>note</span><span>:</span> <span>not</span> <span>saved</span> <span>in</span> <span>the</span> <span>stack</span> <span>frame</span><span>,</span> <span>should</span> <span>not</span> <span>be</span> <span>touched</span><span>]</span>
 <span>*</span></code></pre></figure><p>Now that we know how to make a system call and where the arguments should live, let‚Äôs try to make one by writing some inline assembly.</p><h2 id="using-legacy-system-calls-with-your-own-assembly">Using legacy system calls with your own assembly</h2><p>To make a legacy system call, you can write a small bit of inline assembly. While this is interesting from a learning perspective, I encourage readers to never make system calls by crafting their own assembly.</p><p>In this example, we‚Äôll try calling ‚Ä¶</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.packagecloud.io/eng/2016/04/05/the-definitive-guide-to-linux-system-calls/">https://blog.packagecloud.io/eng/2016/04/05/the-definitive-guide-to-linux-system-calls/</a></em></p>]]>
            </description>
            <link>https://blog.packagecloud.io/eng/2016/04/05/the-definitive-guide-to-linux-system-calls/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668186</guid>
            <pubDate>Sun, 28 Jun 2020 11:56:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Covid-19 has changed world scenarios from weapons to ventilators]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23668152">thread link</a>) | @thinkml
<br/>
June 28, 2020 | https://thinkml.ai/how-covid-19-has-changed-world-scenarios-from-weapons-to-ventilators/ | <a href="https://web.archive.org/web/*/https://thinkml.ai/how-covid-19-has-changed-world-scenarios-from-weapons-to-ventilators/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://thinkml.ai/content/images/size/w300/2020/06/javier-matheu-9dwZY2kcKdA-unsplash.jpg 300w,
                            https://thinkml.ai/content/images/size/w600/2020/06/javier-matheu-9dwZY2kcKdA-unsplash.jpg 600w,
                            https://thinkml.ai/content/images/size/w1000/2020/06/javier-matheu-9dwZY2kcKdA-unsplash.jpg 1000w,
                            https://thinkml.ai/content/images/size/w2000/2020/06/javier-matheu-9dwZY2kcKdA-unsplash.jpg 2000w" sizes="(max-width: 800px) 400px,
                            (max-width: 1170px) 700px,
                            1400px" src="https://thinkml.ai/content/images/size/w2000/2020/06/javier-matheu-9dwZY2kcKdA-unsplash.jpg" alt="How COVID-19 has changed world scenarios from weapons to ventilators">
            </figure>

            <section>
                <div>
                    <p>Before coronavirus pandemic, more than half of the world was burning in the fire of warfare. Military operations, surgical strikes, terrorism, and weaponization were mainstream news. There was chaos around the world on both the International and national level. The world economy was consisted up on war budgets. Then Coronavirus appeared and the whole world bent down to ceasefire. </p><h3 id="artificial-intelligence-ai-is-need-of-covid-19-pandemic-era">Artificial Intelligence (AI) is need of Covid-19 pandemic era</h3><p>Since all aspects of life were devastated by this pandemic, including jobs, gatherings, business, etc., a new approach to deal with this secondary threat was necessary. When you think of <a href="https://thinkml.ai/will-robot-take-my-job/">replacing human at the workplace</a>, only one solution comes to mind, i.e. Artificial Intelligence (AI). Automation has been considered as a <a href="https://thinkml.ai/is-artificial-intelligence-ai-a-threat-to-humans/">threat to human</a> employment. But now, nobody can think anything else except the AI and robotics as modern salvation. In this article, we shall see how states changed their direction from weapons to robots and AI to cope with life problems.</p><p>The first case of COVID-19 was reported in China‚Äôs city of Wuhan. In the beginning, it was not taken seriously but over time, COVID-19 proved itself worthy of global attention. All the governments and states were forced to put aside petty grievances and focus on the pandemic. Public health policies were redesigned and war adventures were halted.</p><p>The world‚Äôs superpowers are now forced to cut the defense budgets and assign more grants to a medical emergency. This can devastate the long term war goals and all previous investment may lay waste. In this article, we shall discuss the warfare budget cuts and medical grants for fighting against COVID-19.</p><h3 id="how-china-is-focusing-on-healthcare-rather-than-defense">How China is focusing on Healthcare rather than defense?</h3><p>China‚Äôs expected health expenditure will be around $1 trillion by 2020, while China‚Äôs defense budget is $177.6 billion. This makes China the 2<sup>nd</sup> most spender on defense. Analytics firm <a href="https://www.globaldata.com/">GlobalData</a> has predicted that the world may face a shortage of 880,000 ventilators during the COVID-19 outbreak. China is apt for accepting this challenge and working continuously to provide the world with the lifesaving breath. China has received a demand for 20,000 ventilators from different countries. They are working 24.7 to meet the global as well as local demand. </p><p>There are 21 ventilator manufacturing companies in China. Eight of them just received European standard clearance for export. These eight companies produce 20% of the total global production of ventilators. These firms can make 2200 ventilators in a week.</p><p>The whole world has known what the real enemy of humanity is. All the conspiracies and warfare have contracted into medical defense. Now, the international community is joining hands to fight against pandemic and putting aside all grudges. We can hope that this outbreak will open our eyes and states will work more for humanity rather than power games.</p><p>China‚Äôs biggest tech giants like Alibaba and Baidu, Tencent, and Huawei sneaked into the health care evolution after the successful conquest of business horizons. All these giants promised to put all their efforts to cope with coronavirus pandemic. Being artificial intelligence companies, they utilized their skillset for combating the outbreak. </p><h3 id="ct-image-analytics-for-covid-19">CT Image Analytics for COVID-19</h3><p>Alibaba launched their online medical facility in January 2020, where patients can contact medical professionals online. This company deployed an online drug delivery system in February as well. The AI unit of Alibaba has claimed to launch an <a href="https://www.alibabacloud.com/solutions/ct-image-analytics">AI program</a>that can analyze Computerized Tomography (CT) scan reports within 3 to 4 seconds with 96% accuracy. This algorithm is capable of differentiating between coronavirus pneumonia, mild COVID-19 pneumonia, and non-COVID chest infections. It is a joint venture of Alibaba <a href="https://damo.alibaba.com/">DAMO Academy</a>and Intel Corp for the decentralization of AI.</p><p>Alibaba‚Äôs cloud program designed an algorithm for quick genome sequencing and analysis to fasten the genome research and COVID-19 vaccine development.</p><p>Baidu has launched the biggest online medical consultation free platform that has responded to 15 million queries and consists up of 100,000 doctors to respond. </p><p><a href="https://www.baidu.com/">Baidu</a>‚Äôs new artificial intelligent algorithm called LinearFold is a Next-Generation Sequencing analyzer that compares and annotate the COVID-19 viral genome for quick research.</p><p><strong>‚Äú</strong>The special situation of the epidemic has created a huge demand for online medical services and information. The public has been using the internet to gain information about the latest development of the epidemic and professional health-care services,<strong>‚Äù</strong> Yang Minglu, general manager of Baidu‚Äôs health-care business unit talked to CNBC.</p><h3 id="u-s-defense-budget-cut-and-covid-19-funding">U.S. Defense budget cut and Covid-19 funding</h3><p>Pentagon has submitted the request for <a href="https://www.washingtonpost.com/national-security/military-faces-another-potential-coronavirus-toll-budget-cuts/2020/05/14/ae7abbf6-906b-11ea-8df0-ee33c3f5b0d6_story.html">$705 billion</a> in the defense head, which comprises 50% of the total federal government‚Äôs budget for the fiscal year 2021. But Federal Government officials have shown the fear that this demand would not be fulfilled due to serial budget deficits for the last five years and COVID-19 pandemic. Besides the budget constraints, soldiers may be prone to have coronavirus infection. Projections are indicating a 3% budget reduction, which is quite a big amount. This may lead to restricted purchasing of high-fi military equipment like F-35 fighter jets.</p><p>US Department of Health &amp; Human Services (<a href="https://www.hhs.gov/about/index.html">HHS</a>) is playing a major role in fighting against the COVID-19 pandemic. HHS is distributing $175 billion among hospitals and healthcare providers who are helping against coronavirus outbreak. Previously, the US government failed to have a <a href="https://www.nytimes.com/2020/03/29/business/coronavirus-us-ventilator-shortage.html">consignment of ventilators</a> from different medical equipment manufacturing companies up to now. But HHS has reached out to ventilator manufacturers to stock up thousands of ventilators for the US public.</p><p>Besides medical supplies, other life aspects need some attention. Policies are being made to keep the industry on and exposure to COVID-19 minimal. Here jumps in the Robotics. Before the coronavirus outbreak, there was a huge debate if automation is replacing humans with robots at workplaces, and humans will lose their jobs soon. But now it is a general public perception that this automation speed is not enough. </p><p>The recycling industry has greatly suffered because people think sorting garbage can make a worker highly susceptible to coronavirus transfer. <a href="https://www.amprobotics.com/">AMP Robotics</a> has provided a great solution for automated garbage sorting. The company has claimed that during the outbreak, demand for robots has tremendously increased. &nbsp;</p><h3 id="pakistan-s-first-oxygenator-coming-soon">Pakistan‚Äôs first oxygenator coming soon</h3><p>Despite being far behind in the race of technology, Pakistan has started manufacturing oxygenators (a simpler form of ventilators). Out of 67, 13 designs have been approved by Pakistan Engineering Council (PEC). These approved designs meet European standards. Pakistan will not only be able to fulfill the local need but will be able to export these oxygenators to other countries.</p><h3 id="russia-s-financial-response-against-coronavirus">Russia‚Äôs financial response against coronavirus</h3><p>Russia is facing double threat i.e. oil price fall and coronavirus. Russia has 432k confirmed coronavirus cases with 196k recovered and 5215 deaths by now. Russia may lose $39 billion due to oil price cut, said Anton Siluanov, Russian finance minister. Russia has announced a $4 billion grant for the economic as well as health crisis during COVID-19. It is projected that Russia may have to release $120 billion to cope with budget deficits in the coming years.</p><p>Russia‚Äôs total defense budget is <a href="https://www.sipri.org/sites/default/files/2020-04/fs_2020_04_milex_0_0.pdf">US$69.2 billion</a> which 3.4% of global defense expenditure. Russia's health budget is 3.5% of its total GDP, compared to a 3.9% defense budget. Russia has manufactured 500 ventilators in April 2020 and planned to produce 6000 more ventilators in the coming 3 months. Interestingly, Russia has claimed to have an effective treatment against COVID-19. An anti-influenza drug, <a href="https://www.cnbc.com/2020/06/01/russia-approves-drug-to-treat-covid-19-hospitals-to-use-in-june.html">Avifavir</a>, has been approved and will be delivered to hospitals to treat corona patients.</p><p>Stay safe!</p><p><em>Message from the Author...</em></p><figure><img src="https://thinkml.ai/content/images/2020/06/united-nations-covid-19-response-8g-vyBUUwG0-unsplash.jpg"></figure>
                </div>
            </section>

            <section>
                <h3>Subscribe to ThinkML</h3>
                <p>Get the latest posts delivered right to your inbox</p>
                


            </section>

            


        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://thinkml.ai/how-covid-19-has-changed-world-scenarios-from-weapons-to-ventilators/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23668152</guid>
            <pubDate>Sun, 28 Jun 2020 11:44:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Julia Basics: Multiple Dispatch]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667986">thread link</a>) | @open-source-ux
<br/>
June 28, 2020 | https://opensourc.es/blog/basics-multiple-dispatch/ | <a href="https://web.archive.org/web/*/https://opensourc.es/blog/basics-multiple-dispatch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>From time to time I hear that my posts are a little bit too deep and complicated for beginners. I totally agree: especially in my newest series on <a href="https://opensourc.es/blog/constraint-solver-1">"How to build a constraint solver from scratch?"</a> which is probably a never ending series. I do like to blog about it and will continue but this series is different.</p>
<p>Julia is a relatively young language and not too many people are using it. It thrives in scientific computing but I believe that it can be used for general computing (probably where start up time is not that relevant) i.e. I do use it for creating this blog with <a href="https://franklinjl.org/">Franklin</a> which I blogged a bit about as well <a href="https://opensourc.es/blog/Franklin.jl">here</a>.</p>
<p>This series tries to explain some of the core concepts of Julia and maybe some packages to beginners. I, the explainer of this stuff here, am by no means an expert in any of these. If you know this blog then you might know that I'm trying to explain stuff directly after I've learned them to hopefully be able to communicate better than some people who do this their entire life and are experts in it. Blogs from experts are sometimes hard to follow for me, so maybe also for you. I'll let them proof read my blog post just to be sure that there is nothing wrong with what I explain ;)</p>
<p>Okay everyone ready?</p>

<h2 id="what_is_dispatch"><a href="#what_is_dispatch">What is dispatch?</a></h2>
<p>In every programming language there are <code>functions</code> which have the purpose of providing structure and reusability of code. The functions have a <code>name</code> and some <code>arguments</code>.  They are defined like</p>
<pre><code>def add(x, y):
    return x + y</code></pre>
<p>In Python this can be called with <code>add(2,3)</code> which gives the expected <code>5</code> but also <code>add("2","3")</code> gives <code>'23'</code> which might make sense or not depending on who you ask :D</p>
<p>Now how about <code>add("2", 3)</code> ?</p>
<p>This results in an error <code>TypeError: can only concatenate str (not "int") to str</code> which again can make sense. Well I would say it does but Javascript does something different:</p>
<pre><code>function add(x,y) {
    return x+y
}</code></pre>
<p>will produce <code>"23"</code> for that.</p>
<p>Then there are of course languages like <code>C++</code> where this all is not that simple because we need to introduce types:</p>
<pre><code>int add(int x, int y) {
  return x+y;
}</code></pre>
<p>There it is clear for everyone that it takes two <code>int</code> and returns one <code>int</code>. Because it is a compiled language we would get an error directly when trying to call it with <code>add("2", 3)</code>.</p>
<p>Now what is the point? We can see different concepts here with having static types as in C++ and dynamic typing in JS and Python. They both have pros and cons which is probably obvious.  The one is easier to reason about and the others are maybe easier to hack around with.</p>
<p>Let's go into dispatching on those three languages:</p>
<p>In Python it is: Ah okay the user wants to call <code>add</code>:</p>
<ul>
<li><p>We have the <code>add</code> function</p>
</li>
<li><p>Lets call it with the arguments.</p>
</li>
<li><p>Good that works as it expects two arguments and we have two.</p>
</li>
</ul>
<p>Then we might get to the point where the function doesn't work like for <code>add("2", 3)</code> and throw an error or it works out and the answer is returned. </p>
<p>It is basically the same in JS. There are possibility some "extensions" like Typescript where things might happen differently. I haven't programmed with any of those languages lately so keep that in mind.</p>
<p>In <code>C++</code> more things are going on as each variable has a static type and one can check directly whether this fits or not. This means as we can later see that there can be more functions with the same name. I'll explain the difference between function overloading and multiple dispatch in that part ;)</p>
<p>In all of these languages we can have classes such that we might have a class <code>Manufacturer</code> and we can define <code>add(self, thing)</code> or something like that and can call the function with  <code>manufacturer.add(thing)</code>. This can be kind of seen as single dispatch. Dispatch is basically the process of deciding which function to call. Here it depends on the type of <code>manufacturer</code>. Is it a <code>Manufacturer</code> or a <code>Box</code>? For a <code>Box</code> we might have defined a class <code>Box</code> and <code>add(self, box)</code> inside of it.</p>
<div><p>‚ö† Note</p> <p>These examples are more from the Python world but hopefully convey the point.</p></div>
<p>For people coding in Julia for longer this might sound like a weird concept. Actually writing about it, I am thinking: How would I do some things, where I use multiple dispatch all the time (like in the ConstraintSolver) in one of those languages?</p>
<p>Before I explain multiple dispatch I want to note:</p>
<p>Yes there are ways in Python for single dispatching like <a href="https://www.blog.pythonlibrary.org/2016/02/23/python-3-function-overloading-with-singledispatch/">@singledispatch</a> but given that the main posts I found when searching are 3-4 years old I doubt that a lot are using it :D</p>
<p>And it is still single dispatch.</p>
<h2 id="how_does_dispatch_work_in_julia"><a href="#how_does_dispatch_work_in_julia">How does dispatch work in Julia?</a></h2>
<p>Now that there is that out of our way let us have a look at one example in Julia:</p>
<pre><code>add(x, y) = x+y</code></pre>
<p>just to show a neat little way of defining one-line functions... (or as they are called in Julia: Methods)</p>
<p>The interesting things is when you type this in the Julia REPL (Read-eval-print loop) you get:</p>
<pre><code>julia&gt; add(x, y) = x+y
add (generic function with 1 method)</code></pre>
<p>calling that function works basically like in Python (from the user perspective for now). It doesn't work for strings though.</p>
<div><p>‚ö† Note</p> <p>Julia and <code>+</code> for strings: Julia is a mathematical language and <code>+</code> is commutative whereas concatenating strings is not. So <code>"2"+"3"</code> is not <code>"3"+"2"</code>. Therefore Julia decided to use <code>*</code> instead. Which is commutative for numbers but not matrices for example.</p></div>
<p>Okay where did I interrupt myself? ... Ah yeah so we have an <code>add</code> function with one method now in the REPL. That looks like we might be able to add a new one, right?</p>
<div><p>‚ö† Note</p> <p>As correctly pointed out on <a href="https://www.reddit.com/r/Julia/comments/hfk3u3/basics_multiple_dispatch_start_of_a_new_series/fvykyl3?utm_source=share&amp;utm_medium=web2x">Reddit</a>: I use mostly the word function. In Julia there is actually a difference between functions and methods. There is one <code>+</code> function with a lot of different implementations: called methods.</p></div>
<pre><code>julia&gt; add(x,y) = 2x+y
add (generic function with 1 method)</code></pre>
<p>okay that did not work because it still allows all types of inputs (and throws an error later when it doesn't work) because the compiler had no way to decide which <strike> function</strike>method to call. </p>
<p>Should it guess? It just overwrites the old method.</p>
<p>A small side step again: Let's check what happens when we call <code>add("2", "3")</code>
</p><pre><code>julia&gt; add("a", "b")
ERROR: MethodError: no method matching *(::Int64, ::String)
Closest candidates are:
  *(::Any, ::Any, ::Any, ::Any...) at operators.jl:529
  *(::Missing, ::AbstractString) at missing.jl:174
  *(::T, ::T) where T&lt;:Union{Int128, Int16, Int32, Int64, Int8, UInt128, UInt16, UInt32, UInt64, UInt8} at int.jl:54
  ...
Stacktrace:
 [1] add(::String, ::String) at ./REPL[3]:1
 [2] top-level scope at REPL[4]:1</code></pre>
<p>That error occurs when calling <code>2x</code> where it figured that <code>2</code> is an integer and <code>x = "2"</code> is a string. It gives us information of what kind of types it can multiply.</p>
<p>Let's pick one: </p><pre><code>*(::T, ::T) where T&lt;:Union{Int128, Int16, Int32, Int64, Int8, UInt128, UInt16, UInt32, UInt64, UInt8} at int.jl:54</code></pre>
<p>This tells us that we can multiply two numbers of those types when they are the same. So <code>UInt8</code> with <code>UInt8</code> but I come to that syntax later.</p>
<p>You might wonder how many of those <code>*</code> <strike> functions</strike>methods there are: <code>357</code> is the answer which you get when typing</p>
<pre><code>julia&gt; methods(*)
...</code></pre>
<p>which gives you a long list with all kind of weird types where it sometimes spreads over several lines. I mean what is this? :D</p>
<pre><code>[345] *(A::LinearAlgebra.LQ{TA,S} where S&lt;:AbstractArray{TA,2}, B::Union{DenseArray{TB,1}, DenseArray{TB,2}, Base.ReinterpretArray{TB,1,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray}, Base.ReinterpretArray{TB,2,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray}, Base.ReshapedArray{TB,1,A,MI} where MI&lt;:Tuple{Vararg{Base.MultiplicativeInverses.SignedMultiplicativeInverse{Int64},N} where N} where A&lt;:Union{Base.ReinterpretArray{T,N,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray} where N where T, SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray}, Base.ReshapedArray{TB,2,A,MI} where MI&lt;:Tuple{Vararg{Base.MultiplicativeInverses.SignedMultiplicativeInverse{Int64},N} where N} where A&lt;:Union{Base.ReinterpretArray{T,N,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray} where N where T, SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray}, SubArray{TB,1,A,I,L} where L where I&lt;:Tuple{Vararg{Union{Int64, AbstractRange{Int64}, Base.AbstractCartesianIndex},N} where N} where A&lt;:Union{Base.ReinterpretArray{T,N,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray} where N where T, Base.ReshapedArray{T,N,A,MI} where MI&lt;:Tuple{Vararg{Base.MultiplicativeInverses.SignedMultiplicativeInverse{Int64},N} where N} where A&lt;:Union{Base.ReinterpretArray{T,N,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray} where N where T, SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, Tuple{AbstractUnitRange,Vararg{Any,N} where N}} where A&lt;:DenseArray where N where T, DenseArray} where N where T, DenseArray}, SubArray{TB,2,A,I,L} where L where I&lt;:Tuple{Vararg{Union{Int64, AbstractRange{Int64}, Base.AbstractCartesianIndex},N} where N} where A&lt;:Union{Base.ReinterpretArray{T,N,S,A} where S where A&lt;:Union{SubArray{T,N,A,I,true} where I&lt;:Union{Tuple{Vararg{Real,N} where N}, ‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://opensourc.es/blog/basics-multiple-dispatch/">https://opensourc.es/blog/basics-multiple-dispatch/</a></em></p>]]>
            </description>
            <link>https://opensourc.es/blog/basics-multiple-dispatch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667986</guid>
            <pubDate>Sun, 28 Jun 2020 11:00:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Asymptomatic Covid-19 finding dim hopes for herd immunity and immunity passports]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667904">thread link</a>) | @pseudolus
<br/>
June 28, 2020 | https://www.cbc.ca/news/health/asymptomatic-covid-19-1.5629172 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/health/asymptomatic-covid-19-1.5629172">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>A closer look at people who tested positive for COVID-19 but never developed symptoms has found that such asymptomatic carriers have few to no detectable antibodies just weeks after infection, suggesting they may not develop lasting immunity.</p><div><p><span><span><span></span><span>A new study on COVID-19 immunity has found that people who were asymptomatic or mildly symptomatic had their antibodies diminish within two to three months. Though larger studies are needed, the findings cast doubt on antibody testing and herd immunity.<!-- --> <!-- -->2:01</span></span></span></p><p><span><p>A closer look at people who tested positive for COVID-19 but never developed symptoms has found that such asymptomatic carriers&nbsp;have few to no detectable antibodies just weeks after infection, suggesting&nbsp;they may not develop lasting immunity.</p>  <p>There's growing evidence that a significant proportion of people who test positive for COVID-19 never show symptoms, although it's <a href="https://www.cbc.ca/news/health/asymptomatic-testing-1.5585699"><u>not clear what percentage </u></a>of people that is&nbsp;and <a href="https://www.cbc.ca/news/health/who-covid-19-asymptomatic-spread-1.5604353"><u>what role they play</u></a> in spreading the disease.</p>  <p>A Chinese study <a href="https://www.nature.com/articles/s41591-020-0965-6#Sec8">published this&nbsp;week in Nature</a> followed 37 people in Wanzhou District in China who did not show any outward signs of the disease, despite testing positive when their respiratory tracts were swabbed and being kept in hospital for observation.</p>  <p>Some key findings include:</p>  <ul>   <li> <p>Levels of antibodies against COVID-19 were significantly lower in asymptomatic carriers&nbsp;than those with symptoms during active infection.</p> </li>   <li> <p>Antibody levels also dropped off far more quickly in people who never showed symptoms, and 40 per cent of them had no detectable antibodies eight weeks after recovery, compared with&nbsp;13 per cent of symptomatic patients.</p> </li>   <li> <p>Those with asymptomatic infections tested positive for an average of five&nbsp;days longer than people with symptomatic infections ‚Äî 19 days compared with&nbsp;14 days ‚Äî suggesting that they were shedding the virus longer.</p> </li>  </ul>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_300/antibody-test.jpg 300w,https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_460/antibody-test.jpg 460w,https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_620/antibody-test.jpg 620w,https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/antibody-test.jpg 780w,https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_1180/antibody-test.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5535927.1587138217!/fileImage/httpImage/image.jpg_gen/derivatives/original_780/antibody-test.jpg"></p></div><figcaption>Unlike nasal swab tests that can only detect an active infection, antibody tests can detect previous infections. But a new study suggests antibodies often don't stick around for long after an infection.<!-- --> <!-- -->(Zuleika Chan)</figcaption></figure></span></p>  <p>The study also found that despite having no outward symptoms, 70 per cent had lung abnormalities detectable in X-rays at some point during infection ‚Äî mostly spots called "ground-glass opacities," which can indicate inflammation or other signs of disease.</p>  <h2>No antibodies could mean no immunity, but not necessarily</h2>  <p>Dr. Samir Gupta, a clinician-scientist at St. Michael's Hospital in Toronto and assistant professor of medicine at the University of Toronto, noted in an interview with CBC News Network earlier this week that the study was very small.</p>  <p>Gupta, who wasn't involved in the study, added that it wasn't surprising that antibody levels fell a few months after infection. He said that's normal, since it's energy intensive for the body to maintain antibodies it doesn't need.</p>  <p>What was "a little bit surprising," he said, was the fact that 40 per cent of people with asymptomatic infections had no detectable antibodies at all.</p>  <p><em><strong>WATCH | Dr. Samir Gupta on Alberta's testing plans:</strong></em></p>  <p><span><span><span></span><span>Dr. Samir Gupta says Alberta's testing may help to understand how far the coronavirus spread but he's doubtful we've reached herd immunity.<!-- --> <!-- -->8:35</span></span></span></p>  <p>However, Gupta&nbsp;said,&nbsp;people have immunity to coronaviruses that cause common colds for only a few months, and that may also be the case for the coronavirus that causes COVID-19.</p>  <p>On the other hand, he said, "antibodies aren't the whole story."</p>  <p>There are other components of the immune system that play a role, such as memory cells. They remember a pathogen&nbsp;and begin releasing antibodies when they encounter it again, but they are hard to detect, Gupta said.</p>  <h2>What this means for herd immunity and vaccines</h2>  <p>Still, Tania Watts, a professor of immunology at the University of Toronto who was not involved in the study, expressed concern about the implications.</p>  <p>"This suggests that natural infection may not give long-lasting immunity, which is what people have been worried about," she said.</p>  <p>Some countries <a href="https://www.bmj.com/content/369/bmj.m2376"><u>such as Sweden</u></a> and <a href="https://www.cbc.ca/news/politics/herd-immunity-should-not-be-supported-tam-says-1.5545332"><u>at least one Canadian province</u></a> have previously suggested that one way to control the spread of COVID-19 is to allow most of the population to get infected in a controlled fashion to generate <a href="https://www.cbc.ca/news/politics/herd-immunity-should-not-be-supported-tam-says-1.5545332"><u>"herd immunity."</u></a>&nbsp;Once the population reaches a certain threshold of previous infection, there won't be enough susceptible people to spread the virus, and it can't spread exponentially as an epidemic.</p>  <p><span><figure><div><p><img alt="" srcset="https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/virus-outbreak-vaccine-race.jpg 300w,https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/virus-outbreak-vaccine-race.jpg 460w,https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/virus-outbreak-vaccine-race.jpg 620w,https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-vaccine-race.jpg 780w,https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/virus-outbreak-vaccine-race.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5574385.1589816270!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/virus-outbreak-vaccine-race.jpg"></p></div><figcaption>A patient receives a shot in the first-stage safety study clinical trial of a potential vaccine for COVID-19 in March. A vaccine will need to produce a strong and long-lasting immune response, something that natural infection may not always do.<!-- --> <!-- -->(Ted S. Warren/The Associated Press)</figcaption></figure></span></p>  <p>But Watts said the low and short-lived levels of antibodies in asymptomatic infections in this study suggest we can't rely on herd immunity being induced for long enough a period of time to have an impact.</p>  <p>That means we may need to wait for a vaccine that induces a stronger, longer-lived response than many natural infections, she said.&nbsp;"I think this puts even more pressure on vaccine development."</p>  <h2>What this means for antibody tests,&nbsp;'immunity passports'</h2>  <p>Watts said another implication of the study is that serological (blood) or antibody tests ‚Äî which have been touted as a way to get an idea of who has been previously infected, how much of the population that represents&nbsp;and how close that is to herd immunity ‚Äî&nbsp;may not work as hoped.</p>  <p>And it throws cold water on the idea of controversial "<a href="https://www.cbc.ca/radio/thehouse/immunity-passes-could-be-an-interim-measure-on-the-way-to-reopening-society-physician-says-1.5544368"><u>immunity passports</u></a>," the idea of allowing more social interactions, such as work, travel&nbsp;and mass gatherings, for people who have previously been infected and therefore are immune and can't spread the virus ‚Äî which would be based on serological testing.&nbsp;</p>  <p>"Until we know what part of the immune system is protective," Watts said, "it's difficult to be able to do a test and tell someone you're safe or not."</p>  <h2>What this&nbsp;means for disease transmission</h2>  <p>While it's known that presymptomatic people can transmit COVID-19, it's not really known whether people who remain asymptomatic through the course of the disease can.</p>  <p>Watts said she thinks the finding in this study that people without symptoms shed the virus longer than people with&nbsp;symptoms is "shocking" and suggests we need to worry about transmission from asymptomatic people.</p>  <p>"Until we have a vaccine, I think we should have very clear recommendations that everybody wears masks."</p>    <p>She said the longer period of viral shedding is probably because a lack of symptoms indicate a weaker immune response, resulting in a longer time to clear the infection.</p>  <p>On the other hand, too intense an immune response is what puts patients in the ICU struggling to breathe.</p>  <p>The ideal is somewhere in between&nbsp;and what we'd like in a vaccine, Watts&nbsp;said.</p>  <p>"We really need that Goldilocks immune response."</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/health/asymptomatic-covid-19-1.5629172</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667904</guid>
            <pubDate>Sun, 28 Jun 2020 10:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[You fucked up. Everybody knows. And now what?]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23667747">thread link</a>) | @stanete
<br/>
June 28, 2020 | https://stanete.com/fucked-up-everybody-knows | <a href="https://web.archive.org/web/*/https://stanete.com/fucked-up-everybody-knows">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
  

  

  <p>You can read this post in Spanish <a href="https://stanete.com/es/fucked-up-everybody-knows">here</a>.</p>

<p>We all fuck up. All the time. It‚Äôs human and it‚Äôs ok. As long as we don‚Äôt let our ego blind us and learn from our mistakes.</p>

<h3 id="you-fucked-up">You fucked up</h3>

<p>Here is a message I wrote on a private Slack channel not so long ago:</p>

<blockquote>
  <p>@here Peeps just wanted to say something about the whole search feature. Using the provider directly or as a bypass is something that WE, as Engineering team decide. If we think it will help the current and possible future product requirements, then we can go with it. But if we think there is a simpler solution to meet the product requirements then we will go with that one. Just wanted to say that is US who decide how to implement the feature.</p>
</blockquote>

<p>So much is wrong with this message. It is pretty aggressive. It promotes division between Product Managers and Software Engineers. The use of <em>@here</em> doens‚Äôt help. And the use of capital letters doesn‚Äôt help either.</p>

<p>I know it is out of context but the important thing here is that <em>I just fucked up</em>.</p>

<p><img src="https://stanete.com/images/alone_before_dawn.png" alt=""></p>

<h3 id="everybody-knows">Everybody knows</h3>

<p>When you reach a certain point in life, it is hard to make friends outside of the work environment. A big part of my social life and interests spins around the startup ecosystem.</p>

<p>I‚Äôm subscribed to newsletters, read books and blogs, read newspaper articles and listen to podcasts. I spend a lot of time on Twitter. I have silly T-shirts. I go to meetups and events. I have a blog. And I don‚Äôt have the data (I wish) but I assume most startup employees do the same.</p>

<p>Over the years, I‚Äôve made very good friends around the startup ecosystem. We all have the same problems and we all have to overcome the same personal challenges. We are all interested in what happens in other startups, how do they overcome those problems, how did they evolve and where did they screw up so we don‚Äôt have to. The books are a nice way to learn the theory but nothing helps you as much as sharing experiences with other people.</p>

<p><img src="https://stanete.com/images/conversation.png" alt=""></p>

<p>My point is‚Ä¶ we know. Everybody knows. We know when you fired someone while they were on medical sick leave. We know about that aggressive Slack message even if it was on a private channel. We know about your dubious marketing practices. We know about your homophobic comments during lunch time. We know about your unhealthy hiring process and how you never give any feedback to the candidates that don‚Äôt pass. We know about that time you left a meeting screaming and slamming doors. We know how unhealty is your culture and how bad is your internal communication.</p>

<p>It doens‚Äôt matter if you are a Software Engineer, a Product Manager, the CEO or an Engineering Manager. The consequences are demolishing. You won‚Äôt be able to hire the people you want. You won‚Äôt be hired by the companies you want. You won‚Äôt be able to work with the investors you seek. You won‚Äôt be invited to give a talk to a meetup. Nobody will read your blog. You won‚Äôt be able to grow. And the list goes on and on.</p>

<h3 id="and-now-what">And now what?</h3>

<p>You can‚Äôt hide. You can‚Äôt undo what you‚Äôve done. And you can‚Äôt deny it. But you can fix it.</p>

<p>It‚Äôs sad that I have to be so explicit but, as Fitzpatrick and Collins-Sussman write in <a href="https://www.oreilly.com/library/view/debugging-teams/9781491932049/">Debugging Teams</a>, you should build your culture around <em>humility</em>, <em>respect</em> and <em>trust</em> from the beginning. Not only your culture, but also yourself. Because almost every social conflict can ultimately be traced back to a lack of one of these 3.</p>

<p>You will fuck up. I do all the time. In many ways. And I‚Äôm ashamed of some of them. But we are all here in this <a href="https://www.youtube.com/watch?v=wupToqz1e2g">pale blue dot</a> learning how not to be douchebags. We either learn to <a href="https://www.youtube.com/watch?v=7QnujP4LDhI">live together, or die alone</a>. You see, <em>learning</em> is the key. If you have a true desire to <em>improve</em> as a human being and as a professional, <a href="https://www.youtube.com/watch?v=OD3F7J2PeYU">it will be alright</a>.</p>

<p>Everyone has their own journey but the basics are:</p>

<ol>
  <li>
    <p>Take <a href="https://www.youtube.com/watch?v=qd10-f9bzu0">accountability</a> and admit your ego was bigger than your <em>values</em> and <em>principles</em>. Admit you were wrong. Sometimes you need to ask for forgiveness. There is no other way you can wash your own image and the image of your startup.</p>
  </li>
  <li>
    <p>Identify your own personal issues and start working on them. Being a decent human being is hard. Talking with your manager, with your mentor or with your friend works sometimes. Therapy works most of the time. It works for me.</p>
  </li>
  <li>
    <p>Start acting like everything could go public at any time. It already is public. NDAs protect intellectual property but they don‚Äôt stop spreading the word about unhealthy culture and toxic personalities.</p>
  </li>
  <li>
    <p>Start identifying and fixing the systemic problems of your unhealthy culture <a href="https://twitter.com/JonErlichman/status/1276618589441835008">one by one</a>. ASAP. Mostly because it takes a lot of time and effort. So the sooner you start, the sooner you‚Äôre going to see results. Your role doesn‚Äôt matter. Take ownership and start fixing your culture. Some books I recommend on this topic: <a href="https://www.oreilly.com/library/view/debugging-teams/9781491932049/">Debugging Teams</a>, <a href="https://basecamp.com/books/calm">It Doesn‚Äôt Have to Be Crazy at Work</a>, <a href="https://www.oreilly.com/library/view/mastering-collaboration/9781492041726/">Mastering Collaboration</a> and <a href="https://www.amazon.com/What-You-Do-Who-Are/dp/0062871331/">What You Do Is Who You Are: How to Create Your Business Culture</a>.</p>
  </li>
</ol>

<p>Huge thanks to <a href="https://undraw.co/">undraw.com</a> for the illustrations. You can subscribe to my newsletter <strong>With a grain of salt</strong> and receive an email with updates from time to time.</p>
 
<!-- Begin MailChimp Signup Form -->




<!--End mc_embed_signup-->

 



</article></div>]]>
            </description>
            <link>https://stanete.com/fucked-up-everybody-knows</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667747</guid>
            <pubDate>Sun, 28 Jun 2020 09:57:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Commodore SX-64 keyboard resto]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667724">thread link</a>) | @retrohax
<br/>
June 28, 2020 | https://retrohax.net/commodore-sx-64-keyboard-restoration/ | <a href="https://web.archive.org/web/*/https://retrohax.net/commodore-sx-64-keyboard-restoration/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-11445">

<div>
<p>‚Ä¶or sculpturing is not that bad for health ;P</p>
<h4>Intro</h4>
<p>Well, it just had to be this pic:)</p>
<div><figure><img src="https://i1.wp.com/i.imgur.com/m346MsE.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/m346MsE.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<h4>The story</h4>
<p>Some time ago, <a href="https://csdb.dk/scener/?id=501">Carrion/Bonzai</a> asked me to fix his SX-64 keyboard. I was like ‚Ä¶ hell yeah! ‚Ä¶ I‚Äôve never worked on SX-64 gear. The problem was, at that moment I didn‚Äôt know what was wrong with that keyboard ‚Ä¶ until pics arrived</p>
<p>By the way, <a href="https://csdb.dk/scener/?id=501">Carrion</a> and <a href="https://csdb.dk/scener/?id=29175">Yugorin</a> run an awesome website ‚Äì <a href="https://c64portal.pl/">c64portal.pl</a> ‚Äì The website is in Polish and contains lots of valuable info about Polish Commodore demoscene and Commodore in general. Both gentlemen are also the main guys behind the <a href="https://moonshinedragons.party/">Moonshine Dragons party ‚Äì currently, the largest C64 party in Poland.</a></p>
<p>Since I already agreed that I‚Äôll fix it, there was no excuse. Carrion sent me that keyboard and the party has begun üôÇ</p>
<figure><img src="https://i2.wp.com/i.imgur.com/y0Ai3vi.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/y0Ai3vi.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/aG5HlaH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/aG5HlaH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/ECulxga.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/ECulxga.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/1TIBRD7.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/1TIBRD7.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Disassembly</h4>
<figure><img src="https://i0.wp.com/i.imgur.com/14z6NKo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/14z6NKo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/FP1o5XJ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/FP1o5XJ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/68tWP5Q.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/68tWP5Q.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/tBEbYym.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/tBEbYym.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>I had to remove the original stickers. That was done using a hotair gun set to 100 degrees C</p>
<figure><img src="https://i2.wp.com/i.imgur.com/DJRH9q1.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/DJRH9q1.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/m4IlS3w.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/m4IlS3w.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/gPEP4TS.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/gPEP4TS.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/fLwpCOO.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/fLwpCOO.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/zC70ojc.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/zC70ojc.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Plastic welding and reinforcements</h4>
<p>As it turned out, after close inspection, there were way more cracks than I thought.</p>
<p>All these cracks had to be addressed and reinforced ‚Äì <a href="https://retrohax.net/extreme-refurbishing-episode-2-atari-800-xl-part-one/">this is a lesson that I‚Äôve learned after my Atari 800 XL refurb</a> where joints were not stable enough and resulted in tiny cracks over time.</p>
<p>To achieve a proper result, I‚Äôve welded in a brass mesh to serve as a reinforcement of cracked spots and as a base for resin-based compounds used later to rebuild missing plastic. Obviously, the mesh had to be custom cut.</p>
<p>This is how the process looks.</p>
<div><figure><img src="https://i0.wp.com/i.imgur.com/CdCzrZR.png?resize=869%2C516&amp;ssl=1" alt="" width="869" height="516" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/CdCzrZR.png?resize=869%2C516&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<div><figure><img src="https://i1.wp.com/i.imgur.com/HO9QZa6.png?resize=873%2C642&amp;ssl=1" alt="" width="873" height="642" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/HO9QZa6.png?resize=873%2C642&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<figure><img src="https://i0.wp.com/i.imgur.com/j3XfeJN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/j3XfeJN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/GqsUcXE.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/GqsUcXE.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/ClMeI8M.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/ClMeI8M.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/xElRtff.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/xElRtff.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/eqGobQf.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/eqGobQf.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/hWsvly1.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/hWsvly1.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/p2u3RUj.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/p2u3RUj.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/98w81bZ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/98w81bZ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/DYMxWxH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/DYMxWxH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/10rmKlI.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/10rmKlI.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<div><figure><img src="https://i1.wp.com/i.imgur.com/5QG745B.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/5QG745B.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<figure><img src="https://i2.wp.com/i.imgur.com/ErC3CEN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/ErC3CEN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/czOi7Rl.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/czOi7Rl.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/iX9SiFR.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/iX9SiFR.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/ziuEJ1l.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/ziuEJ1l.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/6j76Oqp.png?resize=857%2C470&amp;ssl=1" alt="" width="857" height="470" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/6j76Oqp.png?resize=857%2C470&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/IgxKRUH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/IgxKRUH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/J1KeYKv.png?resize=870%2C563&amp;ssl=1" alt="" width="870" height="563" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/J1KeYKv.png?resize=870%2C563&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/eMf7Tx5.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/eMf7Tx5.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Once every piece was cut to a proper size, I‚Äôve soldered them together. I‚Äôve also added a thicker copper wire to make the mesh stiffer and less prone to bending.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/l59jtyA.png?resize=869%2C645&amp;ssl=1" alt="" width="869" height="645" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/l59jtyA.png?resize=869%2C645&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/LGWN1DI.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/LGWN1DI.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/ng8t1TQ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/ng8t1TQ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/KLYBxfU.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/KLYBxfU.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/FJfq5V9.png?resize=869%2C699&amp;ssl=1" alt="" width="869" height="699" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/FJfq5V9.png?resize=869%2C699&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Rebuilding missing plastic</h4>
<p>At this stage, I was ready to apply fiber-glass putty. This is a quite messy process and looks kinda ugly. I‚Äôve used some old PCB laminate to get every edge correctly positioned and as close to the original as possible. This part boils down to pretty much three things ‚Äì putty application, sanding, laminate repositioning ‚Ä¶ putty application, sanding, laminate repositioning ‚Ä¶ etc. etc.</p>
<figure><img src="https://i2.wp.com/i.imgur.com/mm3taof.png?resize=873%2C672&amp;ssl=1" alt="" width="873" height="672" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/mm3taof.png?resize=873%2C672&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/sQtngW9.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/sQtngW9.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/d6ClqGJ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/d6ClqGJ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/wLBkEq9.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/wLBkEq9.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/Hdg2Uh1.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/Hdg2Uh1.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/porpn8X.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/porpn8X.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/1Jat3xm.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/1Jat3xm.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/S6l7X7N.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/S6l7X7N.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/IrpXMM7.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/IrpXMM7.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/RsLp2pv.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/RsLp2pv.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/fGqjs9Z.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/fGqjs9Z.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/HtbyV0G.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/HtbyV0G.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/KtcAy1E.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/KtcAy1E.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/zvuCkiQ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/zvuCkiQ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/fH34XUd.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/fH34XUd.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/i3Ki1jZ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/i3Ki1jZ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/vVzHPyT.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/vVzHPyT.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/TyEk59s.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/TyEk59s.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/7TMVtTv.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/7TMVtTv.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Some tools used during the process üôÇ</p>
<figure><img src="https://i2.wp.com/i.imgur.com/J7y4KCH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/J7y4KCH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/p3bIknA.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/p3bIknA.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>The first corner was nearly ready for finishing touches. I only had to file it down to its original round shape. That was done with the help of a files üôÇ</p>
<figure><img src="https://i2.wp.com/i.imgur.com/fEa5M9X.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/fEa5M9X.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/JoSSues.png?resize=876%2C951&amp;ssl=1" alt="" width="876" height="951" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/JoSSues.png?resize=876%2C951&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/mjc45oA.png?resize=873%2C786&amp;ssl=1" alt="" width="873" height="786" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/mjc45oA.png?resize=873%2C786&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>The second corner required even more work. I‚Äôve used the same method again. </p>
<figure><img src="https://i1.wp.com/i.imgur.com/fSAKBbN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/fSAKBbN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/E13VOYl.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/E13VOYl.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/ZoqmNkN.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/ZoqmNkN.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/kvhREor.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/kvhREor.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/kicI2uF.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/kicI2uF.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/Hj4csmt.png?resize=872%2C706&amp;ssl=1" alt="" width="872" height="706" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/Hj4csmt.png?resize=872%2C706&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/HK3tzeA.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/HK3tzeA.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/4qoJoXP.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/4qoJoXP.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>When I finally had a base rebuilt, I had to make a clip sockets in its original places. To do that, I had to cut down a Dremel tool to a proper size.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/gOgOHst.png?resize=881%2C643&amp;ssl=1" alt="" width="881" height="643" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/gOgOHst.png?resize=881%2C643&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/m6hgocU.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/m6hgocU.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/HFY1IMu.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/HFY1IMu.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>After making slots, I could start trying on the bottom part against the top. Unfortunately, one of the hooks snapped off during the process üôÅ</p>
<p>I had to fix it first. I‚Äôve made it out of a metal paper clip that was cut down to size and welded in a top case.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/HyEPxOL.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/HyEPxOL.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/XusjNIJ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/XusjNIJ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/FyCKpAZ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/FyCKpAZ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/hfEJFJU.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/hfEJFJU.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/wR8xMYa.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/wR8xMYa.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/R4jRwln.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/R4jRwln.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Epoxy resin and finishing</h4>
<p>After all the above work was done, I‚Äôve mixed a cup of thin epoxy resin to fill in hard to access gaps and spots. It also helped to smoothen all uneven surfaces. The resin was applied to all spots with brass mesh with a plastic pipette.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/5sVppEV.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/5sVppEV.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/xY38EFl.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/xY38EFl.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Once the resin cured, I‚Äôve applied a layer of spray putty which helped me to spot all minor mistakes and correct them with finishing putty and 400 grit sandpaper.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/sCHiBwg.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/sCHiBwg.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/3b3VxNv.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/3b3VxNv.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/FiuD55K.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/FiuD55K.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>After another round of putty and sanding, I‚Äôve applied black undercoating which was then wet-sanded with 1000 grit this time.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/P2hUrAS.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/P2hUrAS.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/6qijys4.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/6qijys4.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/BPXXWbF.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/BPXXWbF.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Finally, I could apply the last two layers of custom made spray paint. This paint color exactly matches the original. These custom spray paints for various computers will be available in my <a href="https://retrohax.net/">webshop</a> soon. The first series of spray paints will include the following colors:</p>
<ul><li> Atari XL Beige</li><li> Atari XE/ST Gray</li><li> Commodore 64C Beige</li><li> Amiga 500 Beige </li></ul>
<figure><img src="https://i0.wp.com/i.imgur.com/CfseVnR.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/CfseVnR.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/pd4FK5C.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/pd4FK5C.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/QyrZm8K.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/QyrZm8K.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/ahvJZZc.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/ahvJZZc.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Badges and plastics</h4>
<p>Due to its age, paint from a badge chipped off during removal so I had to fix it. I‚Äôve used a standard black marker to cover all these tiny spots. Later, I‚Äôve removed old glue from the rubber base and applied fresh double-sided adhesive tape on both rubber and badge.</p>
<figure><img src="https://i2.wp.com/i.imgur.com/NOiDSnH.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/NOiDSnH.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/BNXCrRr.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/BNXCrRr.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/kV0LeZa.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/kV0LeZa.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/bCVCgCg.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/bCVCgCg.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>I also had to address other scratched plastic parts. That was easily fixed by applying a thin layer of silicone oil.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/CtuCJqQ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/CtuCJqQ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/ON39XuB.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/ON39XuB.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/U7CtSql.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/U7CtSql.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/dNAZrE2.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/dNAZrE2.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<h4>Keyboard cleaning</h4>
<p>Obviously, all keycaps had to be clean. This time, I had to remove every single keycap and clean it individually. It took a while to get it done properly üôÇ</p>
<figure><img src="https://i1.wp.com/i.imgur.com/ULA06Gc.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/ULA06Gc.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/mr5aHKZ.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/mr5aHKZ.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/XbtgfZR.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/XbtgfZR.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Don‚Äôt ask me why so late but this is the moment when I‚Äôve realized there is a major failure :/</p>
<p>I‚Äôve no idea why I didn‚Äôt spot it earlier. After assembly, it turned out that there is a small gap between parts. It is barely visible and only from a side of the case but I was pissed off at myself that I didn‚Äôt spot it and fix it before the case was painted.</p>
<figure><img src="https://i1.wp.com/i.imgur.com/k6m1xzj.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/k6m1xzj.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Obviously, I didn‚Äôt have any spray paint left.</p>
<h4>The grand finale</h4>
<p>This restoration was rather time-consuming. It took more or less 15 workdays. This is because I had to wait for chemistry to fully cure before moving on to the next step.</p>
<p>So here it is. Fully restored Commodore SX-64 keyboard for Carrion. Hopefully, he will like it üôÇ</p>
<figure><img src="https://i1.wp.com/i.imgur.com/6CTg8m3.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/6CTg8m3.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/BQN52yb.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/BQN52yb.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i0.wp.com/i.imgur.com/hAVfC07.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/hAVfC07.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/2po2LWV.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/2po2LWV.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/GEBvMrK.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/GEBvMrK.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/mopmvRq.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/mopmvRq.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/ivrOPkq.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/ivrOPkq.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/5JaaVBL.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/5JaaVBL.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<div><figure><img src="https://i1.wp.com/i.imgur.com/niV3pdG.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/niV3pdG.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
<p>See you next time üòâ</p>
<div><figure><img src="https://i1.wp.com/i.imgur.com/Ft92WpK.png?resize=413%2C413&amp;ssl=1" alt="" width="413" height="413" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/Ft92WpK.png?resize=413%2C413&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure></div>
 </div>

</article></div>]]>
            </description>
            <link>https://retrohax.net/commodore-sx-64-keyboard-restoration/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667724</guid>
            <pubDate>Sun, 28 Jun 2020 09:50:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: BungoSearch ‚Äì Search free e-books by time-to-read]]>
            </title>
            <description>
<![CDATA[
Score 3 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23667702">thread link</a>) | @tomomichi
<br/>
June 28, 2020 | https://search.bungomail.com/en | <a href="https://web.archive.org/web/*/https://search.bungomail.com/en">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/68/categories/longnovel/books/1342">Pride and Prejudice
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/68/categories/all/books">Jane Austen
</a><br>
<small>(1775-1817)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/68/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
113,166
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Chapter 1   It is a truth universally acknowledged, that a single man in possession of a good for...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/68/categories/longnovel/books/1342">Pride and Prejudice
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/68/categories/all/books">Jane Austen
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Chapter 1   It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/326/categories/short/books/1080">A Modest Proposal For preventing the children of poor people in Ireland, from being a burden on t...
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/326/categories/all/books">Jonathan Swift
</a><br>
<small>(1667-1745)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/326/categories/short/books"><p>30min</p>
</a>&nbsp;
<small>
3,153
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
1729    It is a melancholy object to those, who walk through this great town, or travel in the co...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/326/categories/short/books/1080">A Modest Proposal For preventing the children of poor people in Ireland,...
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/326/categories/all/books">Jonathan Swift
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>1729    It is a melancholy object to those, who walk through this great town, or travel in the country, when they see the streets, the roads and cabbin-doors crowded with beggars of the female sex,...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/61/categories/longnovel/books/84">Frankenstein; Or, The Modern Prometheus
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/61/categories/all/books">Mary Wollstonecraft Shelley
</a><br>
<small>(1797-1851)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/61/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
69,388
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Letter 1   St. Petersburgh, Dec. 11th, 17--  TO Mrs. Saville, England  You will rejoice to hear t...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/61/categories/longnovel/books/84">Frankenstein; Or, The Modern Prometheus
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/61/categories/all/books">Mary Wollstonecraft Shelley
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Letter 1   St. Petersburgh, Dec. 11th, 17--  TO Mrs. Saville, England  You will rejoice to hear that no disaster has accompanied the commencement of an enterprise which you have regarded with such ...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/9/categories/longnovel/books/2701">Moby Dick; Or, The Whale
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/9/categories/all/books">Herman Melville
</a><br>
<small>(1819-1891)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/9/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
197,269
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Original Transcriber's Notes:  This text is a combination of etexts, one from the now-defunct ERI...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/9/categories/longnovel/books/2701">Moby Dick; Or, The Whale
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/9/categories/all/books">Herman Melville
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Original Transcriber's Notes:  This text is a combination of etexts, one from the now-defunct ERIS project at Virginia Tech and one from Project Gutenberg's archives.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/35/categories/shortnovel/books/43">The Strange Case of Dr. Jekyll and Mr. Hyde
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/35/categories/all/books">Robert Louis Stevenson
</a><br>
<small>(1850-1894)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/35/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
23,888
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
STORY OF THE DOOR   Mr. Utterson the lawyer was a man of a rugged countenance that was never ligh...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/35/categories/shortnovel/books/43">The Strange Case of Dr. Jekyll and Mr. Hyde
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/35/categories/all/books">Robert Louis Stevenson
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>STORY OF THE DOOR   Mr. Utterson the lawyer was a man of a rugged countenance that was never lighted by a smile; cold, scanty and embarrassed in discourse; backward in sentiment; lean, long, dusty,...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/longnovel/books/98">A Tale of Two Cities
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/all/books">Charles Dickens
</a><br>
<small>(1812-1870)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
127,234
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Book the First--Recalled to Life     I. The Period   It was the best of times, it was the worst o...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/longnovel/books/98">A Tale of Two Cities
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/all/books">Charles Dickens
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Book the First--Recalled to Life     I. The Period   It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness, it was the epoch of belief, it was...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/861/categories/shortnovel/books/2542">A Doll's House : a play
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/861/categories/all/books">Henrik Ibsen
</a><br>
<small>(1828-1906)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/861/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
24,806
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
DRAMATIS PERSONAE       Torvald Helmer.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/861/categories/shortnovel/books/2542">A Doll's House : a play
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/861/categories/all/books">Henrik Ibsen
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>DRAMATIS PERSONAE       Torvald Helmer.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/69/categories/longnovel/books/1661">The Adventures of Sherlock Holmes
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/69/categories/all/books">Arthur Conan Doyle
</a><br>
<small>(1859-1930)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/69/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
97,696
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
ADVENTURE I. A SCANDAL IN BOHEMIA  I.  To Sherlock Holmes she is always THE woman.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/69/categories/longnovel/books/1661">The Adventures of Sherlock Holmes
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/69/categories/all/books">Arthur Conan Doyle
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>ADVENTURE I. A SCANDAL IN BOHEMIA  I.  To Sherlock Holmes she is always THE woman.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/190/categories/longnovel/books/345">Dracula
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/190/categories/all/books">Bram Stoker
</a><br>
<small>(1847-1912)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/190/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
150,214
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
CHAPTER I  JONATHAN HARKER'S JOURNAL  (_Kept in shorthand._)   _3 May. Bistritz._--Left Munich at...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/190/categories/longnovel/books/345">Dracula
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/190/categories/all/books">Bram Stoker
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>CHAPTER I  JONATHAN HARKER'S JOURNAL  (_Kept in shorthand._)   _3 May. Bistritz._--Left Munich at 8:35 P. M., on 1st May, arriving at Vienna early next morning; should have arrived at 6:46, but tra...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/7/categories/shortnovel/books/11">Alice's Adventures in Wonderland
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/7/categories/all/books">Lewis Carroll
</a><br>
<small>(1832-1898)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/7/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
25,176
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
CHAPTER I. Down the Rabbit-Hole  Alice was beginning to get very tired of sitting by her sister o...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/7/categories/shortnovel/books/11">Alice's Adventures in Wonderland
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/7/categories/all/books">Lewis Carroll
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>CHAPTER I. Down the Rabbit-Hole  Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was r...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/27/categories/short/books/1952">The Yellow Wallpaper
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/27/categories/all/books">Charlotte Perkins Gilman
</a><br>
<small>(1860-1935)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/27/categories/short/books"><p>30min</p>
</a>&nbsp;
<small>
5,621
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
It is very seldom that mere ordinary people like John and myself secure ancestral halls for the s...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/27/categories/short/books/1952">The Yellow Wallpaper
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/27/categories/all/books">Charlotte Perkins Gilman
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>It is very seldom that mere ordinary people like John and myself secure ancestral halls for the summer.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/shortnovel/books/46">A Christmas Carol in Prose; Being a Ghost Story of Christmas
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/all/books">Charles Dickens
</a><br>
<small>(1812-1870)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
26,327
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
PREFACE  I HAVE endeavoured in this Ghostly little book, to raise the Ghost of an Idea, which sha...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/shortnovel/books/46">A Christmas Carol in Prose; Being a Ghost Story of Christmas
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/37/categories/all/books">Charles Dickens
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>PREFACE  I HAVE endeavoured in this Ghostly little book, to raise the Ghost of an Idea, which shall not put my readers out of humour with themselves, with each other, with the season, or with me.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/705/categories/longnovel/books/6130">The Iliad
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/705/categories/all/books">Homer
</a><br>
<small>(-750--650)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/705/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
188,032
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
The Iliad of Homer   Translated by Alexander Pope,  with notes by the Rev.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/705/categories/longnovel/books/6130">The Iliad
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/705/categories/all/books">Homer
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>The Iliad of Homer   Translated by Alexander Pope,  with notes by the Rev.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/34/categories/novelette/books/41">The Legend of Sleepy Hollow
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/34/categories/all/books">Washington Irving
</a><br>
<small>(1783-1859)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/34/categories/novelette/books"><p>1h</p>
</a>&nbsp;
<small>
11,327
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
A pleasing land of drowsy head it was,           Of dreams that wave before the half-shut eye;   ...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/34/categories/novelette/books/41">The Legend of Sleepy Hollow
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/34/categories/all/books">Washington Irving
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>A pleasing land of drowsy head it was,           Of dreams that wave before the half-shut eye;         And of gay castles in the clouds that pass,           Forever flushing round a summer sky.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/28/categories/longnovel/books/25344">The Scarlet Letter
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/28/categories/all/books">Nathaniel Hawthorne
</a><br>
<small>(1804-1864)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/28/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
78,087
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
[Illustration]                             LIST OF ILLUSTRATIONS.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/28/categories/longnovel/books/25344">The Scarlet Letter
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/28/categories/all/books">Nathaniel Hawthorne
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>[Illustration]                             LIST OF ILLUSTRATIONS.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/54/categories/longnovel/books/205">Walden, and On The Duty Of Civil Disobedience
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/54/categories/all/books">Henry David Thoreau
</a><br>
<small>(1817-1862)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/54/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
107,527
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Contents   =WALDEN=  Economy  Where I Lived, and What I Lived For  Reading  Sounds  Solitude  Vis...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/54/categories/longnovel/books/205">Walden, and On The Duty Of Civil Disobedience
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/54/categories/all/books">Henry David Thoreau
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Contents   =WALDEN=  Economy  Where I Lived, and What I Lived For  Reading  Sounds  Solitude  Visitors  The Bean-Field  The Village  The Ponds  Baker Farm  Higher Laws  Brute Neighbors  House-Warmi...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/125/categories/shortnovel/books/219">Heart of Darkness
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/125/categories/all/books">Joseph Conrad
</a><br>
<small>(1857-1924)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/125/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
35,525
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
I   The Nellie, a cruising yawl, swung to her anchor without a flutter of the sails, and was at r...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/125/categories/shortnovel/books/219">Heart of Darkness
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/125/categories/all/books">Joseph Conrad
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>I   The Nellie, a cruising yawl, swung to her anchor without a flutter of the sails, and was at rest.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books/76">Adventures of Huckleberry Finn
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/all/books">Mark Twain
</a><br>
<small>(1835-1910)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
104,419
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
CHAPTER I. Civilizing Huck.--Miss Watson.--Tom Sawyer Waits.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books/76">Adventures of Huckleberry Finn
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/all/books">Mark Twain
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>CHAPTER I. Civilizing Huck.--Miss Watson.--Tom Sawyer Waits.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/408/categories/longnovel/books/1260">Jane Eyre: An Autobiography
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/408/categories/all/books">Charlotte Bront√´
</a><br>
<small>(1816-1855)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/408/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
173,902
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Transcribed from the 1897 Service &amp; Paton edition by David Price, email ccx074@pglaf.org      JAN...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/408/categories/longnovel/books/1260">Jane Eyre: An Autobiography
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/408/categories/all/books">Charlotte Bront√´
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Transcribed from the 1897 Service &amp; Paton edition by David Price, email ccx074@pglaf.org      JANE EYRE AN AUTOBIOGRAPHY   BY CHARLOTTE BRONTE  _ILLUSTRATED BY F. H. TOWNSEND_  London SERVICE &amp; PAT...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/971/categories/longnovel/books/2591">Grimms' Fairy Tales
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/971/categories/all/books">Jacob Grimm
</a><br>
<small>(1785-1863)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/971/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
95,267
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
FAIRY TALES  By The Brothers Grimm    PREPARER'S NOTE       The text is based on translations fro...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/971/categories/longnovel/books/2591">Grimms' Fairy Tales
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/971/categories/all/books">Jacob Grimm
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>FAIRY TALES  By The Brothers Grimm    PREPARER'S NOTE       The text is based on translations from      the Grimms' Kinder und Hausmarchen by      Edgar Taylor and Marian Edwardes.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/572/categories/novelette/books/1250">Anthem
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/572/categories/all/books">Ayn Rand
</a><br>
<small>(1905-1982)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/572/categories/novelette/books"><p>1h</p>
</a>&nbsp;
<small>
17,819
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
PART ONE   It is a sin to write this.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/572/categories/novelette/books/1250">Anthem
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/572/categories/all/books">Ayn Rand
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>PART ONE   It is a sin to write this.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/226/categories/longnovel/books/408">The Souls of Black Folk
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/226/categories/all/books">W. E. B. (William Edward Burghardt) Du Bois
</a><br>
<small>(1868-1963)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/226/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
63,731
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
chapter I have pointed out the slow rise of personal leadership, and criticized candidly the lead...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/226/categories/longnovel/books/408">The Souls of Black Folk
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/226/categories/all/books">W. E. B. (William Edward Burghardt) Du Bois
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>chapter I have pointed out the slow rise of personal leadership, and criticized candidly the leader who bears the chief burden of his race to-day.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/1735/categories/shortnovel/books/5200">Metamorphosis
<small>
<i></i>
</small>
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/1735/categories/all/books">Franz Kafka
</a><br>
<small>(1883-1924)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/1735/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
20,419
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Franz Kafka  Translated by David Wyllie    I   One morning, when Gregor Samsa woke from troubled ...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/1735/categories/shortnovel/books/5200">Metamorphosis
<small>
<i></i>
</small>
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/1735/categories/all/books">Franz Kafka
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Franz Kafka  Translated by David Wyllie    I   One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/111/categories/shortnovel/books/844">The Importance of Being Earnest: A Trivial Comedy for Serious People
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/111/categories/all/books">Oscar Wilde
</a><br>
<small>(1854-1900)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/111/categories/shortnovel/books"><p>2h</p>
</a>&nbsp;
<small>
19,113
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
Transcribed from the 1915 Methuen &amp; Co.
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/111/categories/shortnovel/books/844">The Importance of Being Earnest: A Trivial Comedy for Serious People
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/111/categories/all/books">Oscar Wilde
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>Transcribed from the 1915 Methuen &amp; Co.</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books/74">The Adventures of Tom Sawyer
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/all/books">Mark Twain
</a><br>
<small>(1835-1910)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books"><p>over 3h</p>
</a>&nbsp;
<small>
66,208
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
CHAPTER I. Y-o-u-u Tom-Aunt Polly Decides Upon her Duty--Tom Practices Music--The Challenge--A Pr...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/longnovel/books/74">The Adventures of Tom Sawyer
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/53/categories/all/books">Mark Twain
</a></td>
<td>

</td>
</tr>
<tr>
<td colspan="3">
<small>CHAPTER I. Y-o-u-u Tom-Aunt Polly Decides Upon her Duty--Tom Practices Music--The Challenge--A Private Entrance  CHAPTER II. Strong Temptations--Strategic Movements--The Innocents Beguiled  CHAPTER...</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/563/categories/novel/books/1232">The Prince
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/563/categories/all/books">Niccol√≤ Machiavelli
</a><br>
<small>(1469-1527)</small>
</td>
<td>
<a href="https://search.bungomail.com/en/authors/563/categories/novel/books"><p>3h</p>
</a>&nbsp;
<small>
45,973
Words
</small>
</td>
<td>
<span><i></i><i></i><i></i></span>
</td>
<td>
<small>
by Nicolo Machiavelli  Translated by W. K. Marriott   Nicolo Machiavelli, born at Florence on 3rd...
</small>
</td>
</tr>
<tr>
<td>
<a href="https://search.bungomail.com/en/authors/563/categories/novel/books/1232">The Prince
</a></td>
<td>
<a href="https://search.bungomail.com/en/authors/563/categories/all/books">Niccol√≤ ‚Ä¶</a></td></tr></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://search.bungomail.com/en">https://search.bungomail.com/en</a></em></p>]]>
            </description>
            <link>https://search.bungomail.com/en</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667702</guid>
            <pubDate>Sun, 28 Jun 2020 09:44:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A primer on the cruel, tacit laws of type-level programming in Haskell]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 62 (<a href="https://news.ycombinator.com/item?id=23667675">thread link</a>) | @tenslisi
<br/>
June 28, 2020 | https://www.aymannadeem.com/haskell/2020/05/15/Kindness-for-Mean-Girls.html | <a href="https://web.archive.org/web/*/https://www.aymannadeem.com/haskell/2020/05/15/Kindness-for-Mean-Girls.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<h4 id="a-primer-on-the-cruel-tacit-laws-of-type-level-programming-in-haskell"><em>A primer on the cruel, tacit laws of type-level programming in Haskell</em></h4>

<p>Haskell programs are constructed at the junction of two worlds: one of types, and the other of values. Values are operational run-time entities that are denoted syntactically by <em>terms</em> in the code. To this end, types classify terms. They provide a powerful abstraction to organize data, determine how it should be stored in memory, passed through various operations, and more. On a superficial level, the difference between these worlds is simple: <em>types</em> refer to datatypes, which are either built-in (such as <code>Integer</code> and <code>String</code>), or user-declared, for example:</p>

<pre><code>data SpringFlingQueen = Cady | Regina
</code></pre>

<p>By comparison, <em>values</em> are denoted by <em>terms</em> those types categorize (such as <code>1</code> and <code>"abc"</code> described by the standard library‚Äôs <code>Integer</code> and <code>String</code> types, or <code>Cady</code> and <code>Regina</code> in the case of our user-declared type, <code>SpringFlingQueen</code>). Thus, the term <code>1</code> denotes a value that exists in memory only when the program is run.</p>

<p>In addition to these two worlds, a third, darker, and more elusive underworld of <em>kinds</em> also lurks in the shadows of Haskell programs. Haskell kinds can be as unpredictable and insidious as the soulless alpha-female of an elite high school clique. While daunting, understanding the coaction between these three worlds lays the foundation for type-level programming, a topic worth learning as it strengthens overall Haskell intuition.</p>

<p><img src="https://user-images.githubusercontent.com/875834/81239044-afe24580-8fd1-11ea-96b0-274cf839e834.png" alt="the haskell type system: a machine of constant, unforgiving judgement and rigid classification"></p>

<h3 id="kindness-is-a-virtue">Kindness is a virtue</h3>

<p>Much like counter-intuitive adolescent social dynamics, mastery of Haskell bears a steep learning curve because of its underlying complexity. It is difficult to wrap one‚Äôs head around the language‚Äôs typeclass hierarchies, category-theoretic roots, or the intricacies of compiler behavior. However, an intimate understanding of the type system lets programmers look beyond the chaos of code and apply a recognizable template by which to understand it.</p>

<h3 id="kindness-takes-patience">Kindness takes patience</h3>

<p>This topic is also difficult to master because it is both vast and subtle. Ideas underlying type-level programming are scattered across many disconnected resources focused on several corners of the Haskell ecosystem. Authoritative references on the topic (such as relevant library documentation) tend to assume familiarity with domain-specific terminology that may be unknown to non-experts. Due to the paucity of approachable materials on the subject, I‚Äôve attempted to break down type-level programming into explanations of its constituent parts. While I don‚Äôt go into extensive depth on any individual section below, I hope to provide a valuable starting point with which readers can explore ideas in greater detail.</p>

<table>
  <thead>
    <tr>
      <th>Table of contents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#Types-vs-Values">Types vs. Values</a></td>
    </tr>
    <tr>
      <td><a href="#Kinds">Kinds</a></td>
    </tr>
    <tr>
      <td><a href="#higher-kinded-types">Higher-kinded types</a></td>
    </tr>
    <tr>
      <td><a href="#constraint-kinds">Constraint kinds</a></td>
    </tr>
    <tr>
      <td><a href="#PolyKinds">Kind polymorphism</a></td>
    </tr>
    <tr>
      <td><a href="#DataKinds">DataKinds and type-level literals</a></td>
    </tr>
    <tr>
      <td><a href="#Datatype-promotion">Datatype promotion</a></td>
    </tr>
    <tr>
      <td><a href="#Relationship-between-values-terms-types-and-kinds">Relationship between values, terms, types, and kinds</a></td>
    </tr>
    <tr>
      <td><a href="#The-difference-between-type-and-type-level">The difference between ‚Äútype‚Äù and ‚Äútype-level‚Äù</a></td>
    </tr>
    <tr>
      <td><a href="#type-families">Type families</a></td>
    </tr>
    <tr>
      <td><a href="#associated-types">Associated types</a></td>
    </tr>
    <tr>
      <td><a href="#TypeLits">GHC.TypeLits</a></td>
    </tr>
    <tr>
      <td><a href="#Distinguishing-between-DataKinds-and-TypeLits">Distinguishing between DataKinds and GHC.TypeLits</a></td>
    </tr>
    <tr>
      <td><a href="#use-case-Marshaling-ASTs">Use-case: Marshaling ASTs</a></td>
    </tr>
    <tr>
      <td><a href="#The-hype-of-dependently-typed-langs">The hype of dependently-typed languages</a></td>
    </tr>
  </tbody>
</table>

<hr>

<h3 id="types-vs-values">Types vs. Values</h3>

<p>As mentioned above, Haskell programs are divided into two worlds: the <em>type-level</em> and the <em>value-level</em>. The <em>type-level</em> refers to the part of a program analyzed by the static type-checking phase during compilation. Since every expression is assigned a type, code is checked against Haskell‚Äôs type system to ensure it fits <a href="https://www.haskell.org/ghc/">GHC</a>‚Äôs specified correctness criteria.</p>

<p><img src="https://user-images.githubusercontent.com/875834/84704534-fce9fd80-af27-11ea-9544-13961a56c444.png" alt="types classify terms, just like hostile teens with identity crises classify one another"></p>

<p>If the program is well-typed, the program will compile. However, this type-information evaporates once the compilation process terminates, leaving only <em>values</em> behind at run-time. In this way, types and values can be better distinguished by the phasing distinction, with types being compile-time entities and values being run-time entities.</p>

<p>For example, if a function takes a <code>String</code>, the type-checker doesn‚Äôt care if the <code>String</code> has a value denoted by <code>"abc"</code> or <code>"123"</code> or <code>"get in loser"</code>‚Äîso long as it‚Äôs a <code>String</code>. Type information gets discarded at run-time, leaving only the string‚Äôs value (ex.,<code>"get in loser"</code>). In some cases, however, we want the type system to care about what those values are and distinguish between them. The <code>DataKinds</code> extension, which we‚Äôll explore below, lets us do that by allowing us to shove more information about our program into the type system. This lets us add meaning to the value of a <code>String</code> at the type-level, moving them from their usual, strictly run-time existence, into the compile-time phase. The technique allows us to use more information statically in the logical development and abstraction of the program‚Äôs behavior. We‚Äôre also able to add consequences that can halt compilation if the specific value of <code>String</code> doesn‚Äôt conform to the rules we‚Äôve specified, or define classes over them.</p>

<h4 id="distinguishing-types-and-values-in-ghci">Distinguishing types and values in GHCi</h4>

<p>Let‚Äôs examine our aforementioned <code>SpringFlingQueen</code> datatype in GHCi. When we query the type of one of its constructors using <code>:t</code> (a handy shorthand for <code>:type</code>), we see that it is indeed of type <code>SpringFlingQueen</code>:</p>

<div><div><pre><code>Œª data SpringFlingQueen = Cady | Regina
Œª :t Cady
Cady :: SpringFlingQueen
</code></pre></div></div>

<p>Now consider literals <code>1</code>, <code>2</code>, <code>3</code>. These are <em>values</em> of a type that parameterizes the <code>Num</code> class:</p>



<p>Typing <code>:t 1</code> into GHCi gives us <code>Num p =&gt; p</code>, indicating that a literal such as <code>1</code> can be of any polymorphic type <code>p</code> as long as the <code>Num</code> type class has instances for that type (for example, <code>Integer</code> and <code>Float</code> both have <code>Num</code> instances and therefore are valid types that <code>p</code> could be instantiated with). This is possible due to <a href="https://wiki.haskell.org/Type_inference">type inference</a>.</p>

<p><img src="https://user-images.githubusercontent.com/875834/84704346-ae3c6380-af27-11ea-8078-6f1ddfc7b238.png" alt="type inference can be used to deduce concrete types wherever they're obvious. If a type looks like a mouse, it's a mouse‚Äîduh!"></p>

<h3 id="kinds">Kinds</h3>

<p>Just like types classify terms, <a href="https://www.haskell.org/onlinereport/decls.html#sect4.1.1">kinds</a> classify types, and therefore are frequently described as ‚Äútypes of types‚Äù, or referred to be ‚Äúone level up.‚Äù The ‚Äústar‚Äù syntax (i.e., <code>*</code>) denotes kinds. It is defiantly used in this post despite <a href="https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0143-remove-star-kind.rst">recent syntactic changes</a>. A prerequisite for understanding the kind system necessitates comprehending the differences between three pairs of ideas:</p>

<ol>
  <li>
    <p><strong>Data constructors vs. type constructors:</strong> data constructors create values, whereas type constructors create types. Type constructors take one or more type arguments and produce a datatype when enough arguments are provided. This means that through <a href="https://wiki.haskell.org/Currying">currying</a>, a type constructor can be <a href="https://wiki.haskell.org/Partial_application">partially applied</a>. For example, the list type constructor <code>[]</code> may take a single type argument (ex. <code>String</code>) to denote the elements of the list (i.e., <code>[String]</code>). <code>[String]</code> is simply syntactic sugar for <code>[] String</code>, where the type <code>[]</code> is applied to <code>String</code>.</p>
  </li>
  <li>
    <p><strong>Full vs. partial application</strong> A partially-applied type, like a <a href="https://wiki.haskell.org/Partial_application">partially-applied function</a>, is one that is missing some of its data constructors. For instance, consider the list type <code>[]</code>. The kind of <code>[]</code> is <code>* -&gt; *</code>. A fully-applied list has data constructors, such as <code>[Int]</code>, and its kind is <code>*</code>.</p>
  </li>
  <li>
    <p><strong>Inhabited types vs. uninhabited types:</strong> An inhabitant of a type is precisely a value of that type. This means that <em>inhabited</em> types refer to the types that contain concrete values, such as the value denoted by the term <code>1 :: Int</code>. This suggests that the type <code>Int</code> is inhabited by value denoted by <code>1</code>. By contrast, <em>uninhabited</em> types refer to type constructors to which no values are abstracted. For instance, <code>Void</code> is uninhabited because it has no data constructors, and thus can not be used to construct a valid term. While <code>Void</code> may seem pointless at first, it can be a useful way to represent that a container is empty (ex., <code>[Void]</code>, which <em>is</em> inhabited by the term <code>[]</code> and the value this term denotes).</p>
  </li>
</ol>

<p>How do these ideas relate to the kind system? Well, all fully-applied runtime values are of kind <code>*</code> <em>and</em> they are inhabited. You can confirm this by typing <code>:k Int</code> and <code>:k String</code> in GHCi. However, this doesn‚Äôt work the other way around‚Äîjust because a type is inhabited, doesn‚Äôt necessarily mean it‚Äôs fully-applied (ex., <code>[]</code> is not fully-applied but it <em>is</em> inhabited, and its kind signature is <code>* -&gt; *</code>). Conversely, all partially-applied types are uninhabited (since they don‚Äôt correspond to a value), but not all uninhabited types are partially applied. <code>Void</code> for instance is not partially-applied, but it is uninhabited.</p>

<p>To get the hang of this idea, consider the following examples:</p>

<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Inhabited?</th>
      <th>Fully-applied?</th>
      <th>Kind</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Int</code></td>
      <td>Yes</td>
      <td>Yes</td>
      <td><code>*</code></td>
    </tr>
    <tr>
      <td><code>String</code></td>
      <td>Yes</td>
      <td>Yes</td>
      <td><code>*</code></td>
    </tr>
    <tr>
      <td><code>[]</code></td>
      <td>Yes</td>
      <td>No</td>
      <td><code>* -&gt; *</code></td>
    </tr>
    <tr>
      <td><code>[Int]</code></td>
      <td>Yes</td>
      <td>Yes</td>
      <td><code>*</code></td>
    </tr>
    <tr>
      <td><code>(,)</code></td>
      <td>Yes</td>
      <td>No</td>
      <td><code>* -&gt; * -&gt; *</code></td>
    </tr>
    <tr>
      <td><code>Either</code></td>
      <td>Yes</td>
      <td>No</td>
      <td><code>* -&gt; * -&gt; *</code></td>
    </tr>
    <tr>
      <td><code>Void</code></td>
      <td>No</td>
      <td>N/A</td>
      <td><code>*</code></td>
    </tr>
    <tr>
      <td><code>Either Void Void</code></td>
      <td>Yes</td>
      <td>Yes</td>
      <td><code>*</code></td>
    </tr>
  </tbody>
</table>

<p>Kind signatures can be specified manually in GHCi using the <a href="https://downloads.haskell.org/~ghc/8.0.1/docs/html/users_guide/glasgow_exts.html#ghc-flag--XKindSignatures"><code>XKindSignatures</code></a> extension. Try extending the above table by investigating the kind signatures of various types.</p>

<h3 id="higher-kinded-types">Higher-kinded types</h3>

<p>Just like there are higher-order functions (functions that take other functions as arguments), there are higher-kinded types (types constructors that take other type constructors as arguments). Type constructors such as <code>[]</code> are a first-class type, but also a higher-kinded type, given they take another type constructor to be reified:</p>



<p>Let‚Äôs consider <code>Functor</code>:</p>

<div><div><pre><code>Œª :k Functor
Functor :: (* -&gt; *) -&gt; Constraint
</code></pre></div></div>

<p>We see that <code>Functor</code> takes a type constructor <code>* -&gt; *</code> and returns a <code>Constraint</code>. Let‚Äôs use <code>:info</code> to examine <code>Functor</code> a bit more closely:</p>

<div><div><pre><code>Œª :info Functor
class Functor (f :: * -&gt; *) where
  fmap :: (a -&gt; b) -&gt; f a -&gt; f b
  (&lt;$) :: a -&gt; f b -&gt; f a
  {-# MINIMAL fmap #-}
  	-- Defined in ‚ÄòGHC.Base‚Äô
instance Functor (Either a) -- Defined in ‚ÄòData.Either‚Äô
instance Functor ((,,,) a b c) -- Defined in ‚ÄòData.Orphans‚Äô
instance Functor ((,,) a b) -- Defined in ‚ÄòData.Orphans‚Äô
instance Functor [] -- Defined in ‚ÄòGHC.Base‚Äô
instance Functor Maybe -- Defined in ‚ÄòGHC.Base‚Äô
instance Functor IO -- Defined in ‚ÄòGHC.Base‚Äô
instance Functor ((-&gt;) r) -- Defined in ‚ÄòGHC.Base‚Äô
instance Functor ((,) a) -- Defined in ‚ÄòGHC.Base‚Äô
</code></pre></div></div>

<p>We see that <code>Functor</code> allows type constructors like <code>Maybe</code> and <code>[]</code> to have <code>Functor</code> instances, but not <code>Int</code> or <code>String</code>. This is because <code>Maybe</code> and <code>[]</code> are <code>* -&gt; *</code>, while <code>Int</code> has kind <code>*</code>. Similarly, <code>Either</code> has <code>* -&gt; * -&gt; *</code>, which is why its instance above is parameterized with a type parameter denoting something of kind <code>* -&gt; *</code>: <code>Either a</code>.</p>

<h3 id="constraint-kinds">Constraint kinds</h3>

<p>We got a glimpse of constraint kinds ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.aymannadeem.com/haskell/2020/05/15/Kindness-for-Mean-Girls.html">https://www.aymannadeem.com/haskell/2020/05/15/Kindness-for-Mean-Girls.html</a></em></p>]]>
            </description>
            <link>https://www.aymannadeem.com/haskell/2020/05/15/Kindness-for-Mean-Girls.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667675</guid>
            <pubDate>Sun, 28 Jun 2020 09:34:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Communication and Capitalism: A Critical Theory]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667541">thread link</a>) | @jrepinc
<br/>
June 28, 2020 | https://uwestminsterpress.co.uk/site/books/10.16997/book45/ | <a href="https://web.archive.org/web/*/https://uwestminsterpress.co.uk/site/books/10.16997/book45/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://uwestminsterpress.co.uk/site/books/10.16997/book45/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667541</guid>
            <pubDate>Sun, 28 Jun 2020 08:50:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ELF: Better Symbol Lookup via Dt_gnu_hash (2017)]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23667520">thread link</a>) | @fanf2
<br/>
June 28, 2020 | https://flapenguin.me/elf-dt-gnu-hash | <a href="https://web.archive.org/web/*/https://flapenguin.me/elf-dt-gnu-hash">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><time datetime="2017-05-10">2017-05-10</time> |<p><code>DT_GNU_HASH</code> is a better hash table for the <a href="https://refspecs.linuxfoundation.org/elf/gabi4+/contents.html">ELF</a> used by GNU systems in GNU-compatible software, i.e. in almost every program compiled with gcc or clang for almost any Linux distribution.</p><p>The problem with it is that <code>DT_GNU_HASH</code> is not documented anywhere other than in <a href="https://www.gnu.org/software/binutils/">GNU binutils</a> and <a href="https://www.gnu.org/software/libc/">glibc</a> source code. You can either read source code to get some intel, or read emails with patches in mail list archives (<a href="https://sourceware.org/ml/binutils/2006-10/msg00377.html">Re: GNU_HASH section format</a> is a pretty good one). Those are the only places you can try to find the truth on the matter.</p><p>Of course, there're some articles on the web where people try to break it down. Like this one.</p><p>This article does not aspire to be the ultimate truth either. But I'll try to cover everything about GNU Hash Table and explain all aspects of its work.</p><p>Before reading any further please ensure that you understand what <a href="https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.symtab.html">Symbol Table</a> and <a href="https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.strtab.html">String Table</a> are in the <a href="https://refspecs.linuxfoundation.org/elf/gabi4+/contents.html">ELF</a>. Also you may want to read my previous article <a href="https://flapenguin.me/2017/04/24/elf-lookup-dt-hash">ELF: symbol lookup via DT_HASH</a> to know the standard (90s-ish) way of doing symbol lookup.</p><p><code>DT_GNU_HASH</code> has nothing in common with standard <code>DT_HASH</code>, apart from serving the same purpose. It has its own hashing function, its own layout, it adds restrictions for the symbol table and contains an additional <a href="https://en.wikipedia.org/wiki/Bloom_filter">bloom filter</a> to stop lookup for missing symbols early.</p><h2>Hashing function</h2><p>Let's start with the hashing function. It can be found in <a href="https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;a=blob;f=bfd/elf.c;h=a08e0f8ea6197f103908364665ec6e5f6c89927d;hb=HEAD#l222">bfd_elf_gnu_hash</a> or in <a href="https://sourceware.org/git/?p=glibc.git;a=blob;f=elf/dl-lookup.c;h=3d2369dbf2b7ca219eaf80a820e2a8e1329fbf50;hb=HEAD#l569">dl_new_hash</a>.</p><pre><span>#<span>include</span> <span>&lt;stdint.h&gt;</span></span>

<span><span>uint32_t</span> <span>gnu_hash</span><span>(<span>const</span> <span>uint8_t</span>* name)</span> </span>{
    <span>uint32_t</span> h = <span>5381</span>;

    <span>for</span> (; *name; name++) {
        h = (h &lt;&lt; <span>5</span>) + h + *name;
    }

    <span>return</span> h;
}

gnu_hash(<span>""</span>)                == <span>0x00001505</span>
gnu_hash(<span>"printf"</span>)          == <span>0x156b2bb8</span>
gnu_hash(<span>"exit"</span>)            == <span>0x7c967e3f</span>
gnu_hash(<span>"syscall"</span>)         == <span>0xbac212a0</span>
gnu_hash(<span>"flapenguin.me"</span>)   == <span>0x8ae9f18e</span>
</pre><h2>Layout</h2><p>Not a valid C code, but gives an idea:</p><pre><span><span>struct</span> <span>gnu_hash_table</span> {</span>
    <span>uint32_t</span> nbuckets;
    <span>uint32_t</span> symoffset;
    <span>uint32_t</span> bloom_size;
    <span>uint32_t</span> bloom_shift;
    <span>uint64_t</span> bloom[bloom_size]; 
    <span>uint32_t</span> buckets[nbuckets];
    <span>uint32_t</span> chain[];
};
</pre><h2>Bloom filter</h2><p><a href="https://en.wikipedia.org/wiki/Bloom_filter">Bloom filter</a> is used to stop the lookup for missing symbols early. <code>bloom_size</code>, <code>bloom_shift</code>, and <code>bloom</code> are parts of the structure, as their names suggest.</p><p>Bloom filter behaves slightly differently for various <code>ELFCLASS</code> binaries (defined by <code>EI_CLASS</code> field in <a href="https://refspecs.linuxfoundation.org/elf/gabi4+/ch4.eheader.html#elfid">ELF Identification</a>). Let's define <code>ELFCLASS_BITS</code> to be <code>64</code> for 64-bit binaries (<code>ELFCLASS64</code>) and <code>32</code> for 32-bit binaries (<code>ELFCLASS32</code>).</p><p>Before doing symbol lookup, take <code>bloom[(hash / ELFCLASS_BITS) % bloom_size]</code>. If bits <code>hash % ELFCLASS_BITS</code> and <code>(hash &gt;&gt; bloom_shift) % ELFCLASS_BITS</code> are set then a symbol <strong>may or may not</strong> be in the hash table, and you should proceed with a regular lookup through buckets and chains. But if at least one bit is not set then a symbol is <strong>certainly</strong> absent from the hash table.</p><h2>Buckets and chains</h2><p><code>DT_HASH</code> contains an element per symbol table's element. This leads to a waste of space because <code>STN_UNDEF</code> and some other symbols are in the hash table but are never looked up. GNU hash table allows to skip first <code>symoffset</code> symbols at the beginning of the symbol table.</p><p>Same as in <code>DT_HASH</code>, symbols are put in one of <code>nbuckets</code> buckets depending on their hashes. To be specific, each symbol should be placed into <code>hash % nbuckets</code> bucket.</p><p>Chains in the GNU hash table are nothing like strange linked lists in <code>DT_HASH</code>, they are contiguous sequences of hashes for symbols with the same index (remember that chains' indexes are shifted by <code>symoffset</code> relatively to the symbol table). The last bit in chains' element is discarded and instead used for indicating the chain's end. If it is set then the element is the last one in the chain.</p><p><code>bucket</code> array holds indexes of the first symbols in the chains. Note that those are not indexes for the <code>chain</code> array. Indexes for it will be <code>bucket[foobar] - symoffset</code>.</p><p>Chains being contiguous sequences imply that symbols within the same bucket must be stored contiguously. Order of buckets in the symbol table does not really matter but usually they're stored in an ascending order.</p><p>While looking extraneous, creating such restriction over the symbol table gives great advantage: a hash table now can store almost full hash (without the lowest bit) of a symbol within the same 32 bits. This allows linkers to compare hashes before comparing strings. Also, because <code>DT_GNU_HASH</code> requires symbol table ordering and <code>DT_HASH</code> doesn't, you can fit both into a single binary. This way both standard and GNU linkers can look up symbols in it.</p><h2>Example</h2><p>Nothing is better than a visual representation of the rules. So, let's create one.</p><p>I took the same symbols as in <a href="https://flapenguin.me/2017/04/24/elf-lookup-dt-hash">ELF: symbol lookup via DT_HASH</a> and created <code>DT_GNU_HASH</code> table from them. The example is for 64-bit ELF binaries, for 32-bit you'll need to recalculate bloom word and bits.</p><pre>nbuckets = 4      (because I decided that there will be four buckets)
symoffset = 1    (STN_UNDEF is not a part of the hash table)
bloom_size = 2   (because I decided that 16 byte bloom filter is sufficient)
bloom_shift = 5  (again, just because I can)

ix  bucket[ix]  name of first symbol in chain
--  ----------  -----------------------------
 0  1           cfsetispeed
 1  5           uselib
 2  8           freelocal
 3  13          getspen

Note that:
- symbol table is sorted by bucket
- chain[ix] is the same as hash but with set/cleared lowest bit

       SYMBOL TABLE              |              GNU HASH TABLE
                                 |
    name =                       |    hash %              bloom  bloom bits
ix  symtab[ix].st_name    hash   | ix nbuckets chain[ix]  word   #0    #1
--  ------------------  -------- | -- -------  ---------- -----  ---   ---
 0  &lt;STN_UNDEF&gt;                  |
 1  cfsetispeed         830acc54 |  0    0      830acc54    1    20    34
 2  strsigna            90f1e4b0 |  1    0      90f1e4b0    0    48    37
 3  hcreate_            4c7e3240 |  2    0      4c7e3240    1     0    18
 4  endrpcen            b6c44714 |  3    0      b6c44715    0    20    56
 5  uselib              2124d3e9 |  4    1      2124d3e8    1    41    31
 6  getttyen            fff51839 |  5    1      fff51838    0    57     1
 7  umoun               1081e019 |  6    1      1081e019    0    25     0
 8  freelocal           e3364372 |  7    2      e3364372    1    50    27
 9  listxatt            ced3d862 |  8    2      ced3d862    1    34     3
10  isnan               0fabfd7e |  9    2      0fabfd7e    1    62    43
11  isinf               0fabe9de | 10    2      0fabe9de    1    30    14
12  setrlimi            12e23bae | 11    2      12e23baf    0    46    29
13  getspen             f07b2a7b | 12    3      f07b2a7a    1    59    19
14  pthread_mutex_lock  4f152227 | 13    3      4f152226    0    39    17
15  getopt_long_onl     57b1584f | 14    3      57b1584f    1    15     2

Bloom filter:
   bit #      56       48       40       32       24       16        8        0
        xx..x.xx ...xxx.x xx...... x.x.xx.x ..x...x. ...x..x. ........ ......xx
        .x..x... .....x.. ....x.x. .....x.. xx..x.xx ...xxx.x xx...... x.x.xx.x

Or as two `uint64_t` values:
    cb1dc0ad22120003
    48040a04cb1dc0ad
</pre><p>Knowing the rules and having a built table, let's try to find some symbols by hand.</p><p>Note that when comparing hashes the lowest bit is set on both left and right hand sides.</p><ol><li><p>Existing symbol. <code>strsigna</code>:</p><pre>looking for "strsigna" (hash = 0x90f1e4b0)
checking word 0 in bloom filter for bits 48 and 37
        hash table may contain symbol
starting at ix = 1

compare hashes: (chain) 0x830acc55 == 0x90f1e4b1
wrong hash definitely not "strsigna"
moving to the next symbol

compare hashes: (chain) 0x90f1e4b1 == 0x90f1e4b1
hash matches. compare strings: "strsigna" == "strsigna"
found at index 2
</pre></li><li><p>Missing symbol. <code>foobar</code>:</p><pre>looking for "foobar" (hash = 0xfde460be)
checking word 0 in bloom filter for bits 62 and 5
        not in bloom filter
not found
</pre></li><li><p>Missing symbol with hash collision. <code>vLoun</code>:</p><pre>looking for "vLoun" (hash = 0x1081e019)
checking word 0 in bloom filter for bits 25 and 0
        hash table may contain symbol
starting at ix = 5

compare hashes: (chain) 0x2124d3e9 == 0x1081e019
wrong hash definitely not "vLoun"
moving to the next symbol

compare hashes: (chain) 0xfff51839 == 0x1081e019
wrong hash definitely not "vLoun"
moving to the next symbol

compare hashes: (chain) 0x1081e019 == 0x1081e019
hash matches. compare strings: "umoun" == "vLoun"
just hash collision
that was last symbol in this bucket
not found
</pre></li></ol><h2>Code</h2><p>Original algorithm is implemented in <a href="https://sourceware.org/git/?p=glibc.git;a=blob;f=elf/dl-lookup.c;h=3d2369dbf2b7ca219eaf80a820e2a8e1329fbf50;hb=HEAD#l350">do_lookup_x</a> in <code>ld.so</code> source code.</p><p>Implementation is a little trickier than <code>DT_HASH</code>'s one, but with the example above it should be self-explanatory.</p><pre>
<span>typedef</span> Elf64_Sym Elf_Sym;
<span>typedef</span> <span>bloom_el_t</span> <span>uint64_t</span>;
<span>#<span>define</span> ELFCLASS_BITS 64</span>


<span><span>const</span> Elf_Sym* <span>gnu_lookup</span><span>(
    <span>const</span> <span>char</span>* strtab,      
    <span>const</span> Elf_Sym* symtab,   
    <span>const</span> <span>uint32_t</span>* hashtab, 
    <span>const</span> <span>char</span>* name         
)</span> </span>{
    <span>const</span> <span>uint32_t</span> namehash = gnu_hash(name);

    <span>const</span> <span>uint32_t</span> nbuckets = hashtab[<span>0</span>];
    <span>const</span> <span>uint32_t</span> symoffset = hashtab[<span>1</span>];
    <span>const</span> <span>uint32_t</span> bloom_size = hashtab[<span>2</span>];
    <span>const</span> <span>uint32_t</span> bloom_shift = hashtab[<span>3</span>];
    <span>const</span> <span>bloom_el_t</span>* bloom = (<span>void</span>*)&amp;hashtab[<span>4</span>];
    <span>const</span> <span>uint32_t</span>* buckets = (<span>void</span>*)&amp;bloom[bloom_size];
    <span>const</span> <span>uint32_t</span>* chain = &amp;buckets[nbuckets];

    <span>bloom_el_t</span> <span>word</span> = bloom[(namehash / ELFCLASS_BITS) % bloom_size];
    <span>bloom_el_t</span> mask = <span>0</span>
        | (<span>bloom_el_t</span>)<span>1</span> &lt;&lt; (namehash % ELFCLASS_BITS)
        | (<span>bloom_el_t</span>)<span>1</span> &lt;&lt; ((namehash &gt;&gt; bloom_shift) % ELFCLASS_BITS);

    
    <span>if</span> ((<span>word</span> &amp; mask) != mask) {
        <span>return</span> <span>NULL</span>;
    }

    <span>uint32_t</span> symix = buckets[namehash % nbuckets];
    <span>if</span> (symix &lt; symoffset) {
        <span>return</span> <span>NULL</span>;
    }

    
    <span>while</span> (<span>true</span>) {
        <span>const</span> <span>char</span>* symname = strtab + symtab[symix].st_name;
        <span>const</span> <span>uint32_t</span> hash = chain[symix - symoffset];

        <span>if</span> ((namehash|<span>1</span>) == (hash|<span>1</span>) &amp;&amp; <span>strcmp</span>(name, symname) == <span>0</span>) {
            <span>return</span> &amp;symtab[symix];
        }

        
        <span>if</span> (hash &amp; <span>1</span>) {
            <span>break</span>;
        }

        symix++;
    }

    <span>return</span> <span>NULL</span>;
}
</pre><h2>Total ‚Ä¶</h2></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://flapenguin.me/elf-dt-gnu-hash">https://flapenguin.me/elf-dt-gnu-hash</a></em></p>]]>
            </description>
            <link>https://flapenguin.me/elf-dt-gnu-hash</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667520</guid>
            <pubDate>Sun, 28 Jun 2020 08:43:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Playground to test OAuth endpoints and REST API calls]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667317">thread link</a>) | @sameerav
<br/>
June 28, 2020 | https://app.pathfix.com/playground | <a href="https://web.archive.org/web/*/https://app.pathfix.com/playground">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div "="">
                            <p>
                                
                                <h4>
                                    <small>Building integrations to your SaaS platform? You've come to the right place.</small>
                                </h4>
                            </p>

                            <p>
                                <iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/_x3YoqQgRvA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
                            </p>
                            <!--<iframe width="711" height="400" src="https://www.youtube.com/embed/_x3YoqQgRvA" frameborder="0" style="z-index:1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        -->
                        </div><div>
                            <h2>
                                Who is Pathfix for?
                            </h2>
                            <p>
                                Pathix is for engineering teams and Organizations that are building native integrations to offer end users the ability to connect to softwares they already use.
                            </p>
                            <p>
                                <b>The Playground</b>
                                <span>
                                    A play area built for you to test and work with API's offered by service providers
                                </span>
                            </p>
                            <p>
                                Pick an integration provider you'd like to test and authorize the connection. Once completed, you will get a list of API methods to choose from:
                            </p>
                            <p>
                                <img src="https://storage.googleapis.com/pathfix-test/i/pathfix-pg-screen.png">
                            </p>
                            <p>
                                The entire OAuth integration, refresh and access tokens etc. are handled by Pathfix.
                            </p>
                            <p>
                                Got questions? Reach out to us at <a href="mailto:support@pathfix.com">support@pathfix.com</a> or click the chat bubble.
                            </p>
                        </div></div>]]>
            </description>
            <link>https://app.pathfix.com/playground</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667317</guid>
            <pubDate>Sun, 28 Jun 2020 07:44:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Twister OS for Raspberry Pi 4]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23667310">thread link</a>) | @jordybg
<br/>
June 28, 2020 | https://raspberrypiprojects.com/twister-os-raspberry-pi-4-get-that-osx-and-windows-10-look/ | <a href="https://web.archive.org/web/*/https://raspberrypiprojects.com/twister-os-raspberry-pi-4-get-that-osx-and-windows-10-look/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content">
		<div>
		<div id="content-area">
			<div id="left-area">
											<article id="post-814">
											 <!-- .et_post_meta_wrapper -->
				
					<div>
					<p>In this video, we take alike at Twister Os for the Raspberry Pi 4!</p>
<p>This is a new Linux distro from the creators of iRaspbian and RaspbianX and it allows you to swap between the Windows 10 look of Raspbian X nighthawk or the OSX look of iRaspbian!</p>
<p>This version does support Box86, Steam, Android mirroring on the desktop, Box86, Chromium Media edition for watching Netflix, HULU, and Disney Plus!</p>
<p>This Project is Mind-Blowing and works amazingly on The Raspberry Pi4!</p>
<p>Download it here: <a href="https://raspbian-x.com/" target="_blank" rel="noopener noreferrer">https://raspbian-x.com/</a><br>Pilabs YouTube channel: PiLabs Channel: <a href="https://www.youtube.com/channel/UCgfQjdc5RceRlTGfuthBs7g" target="_blank" rel="noopener noreferrer">https://www.youtube.com/channel/UCgfQjdc5RceRlTGfuthBs7g</a><br>PiLabs Discord: <a href="https://discord.com/invite/Fh8sjmu" target="_blank" rel="noopener noreferrer">https://discord.com/invite/Fh8sjmu</a></p>
<p><strong>Need a Pi4?</strong><br><a href="https://geni.us/jTs6jg">Raspberry Pi 4</a><br><a href="https://geni.us/sWKS">SD Cards</a><br><a href="https://geni.us/rPFYi">Ice Tower cooler</a></p>
<p><a href="https://twitter.com/ProjectsPi">Follow Me On Twitter</a></p>
<p><strong>Equipment I Use:</strong><br><a href="https://geni.us/JkNt">Screen Capture Device</a><br><a href="https://geni.us/BQ5nyKn">Tool Kit</a><br><a href="https://geni.us/wOtA">Soldering Station</a><br><a href="https://geni.us/vxAxn">Camera</a><br><a href="https://geni.us/Utll">Tripod</a><br><a href="https://geni.us/jTs6jg">Raspberry Pi 4</a><br><a href="https://geni.us/xqMj">Flirc Case</a></p>
<p>DISCLAIMER: This video and description contains affiliate links, which means that if you click on one of the product links, I‚Äôll receive a small commission at no extra cost to you!</p>
<p>This video and Channel and Video are for viewers 14 years older and up. This video is not made for viewers under the age of 14. If you are under 14 years of age, you do not have permission to view this video.</p>
<p>THIS VIDEO IS FOR EDUCATIONAL PURPOSES ONLY!</p>
<p>#RaspberryPi #Pi4 #TwisterOS</p>


<figure><p><span><iframe width="1080" height="608" src="https://www.youtube.com/embed/TX7tArVdf80?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span>
</p></figure><figure><p><span><iframe width="1080" height="608" src="https://www.youtube.com/embed/x4dX7mc9zI4?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span>
</p></figure><figure><p><span><iframe width="1080" height="608" src="https://www.youtube.com/embed/La67o7aodJY?version=3&amp;rel=1&amp;fs=1&amp;autohide=2&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;wmode=transparent" allowfullscreen="true"></iframe></span>
</p></figure>
<!-- AI CONTENT END 1 -->
					</div> <!-- .entry-content -->
					 <!-- .et_post_meta_wrapper -->
				</article> <!-- .et_pb_post -->

						</div> <!-- #left-area -->

				 <!-- end #sidebar -->
		</div> <!-- #content-area -->
	</div> <!-- .container -->
	</div></div>]]>
            </description>
            <link>https://raspberrypiprojects.com/twister-os-raspberry-pi-4-get-that-osx-and-windows-10-look/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667310</guid>
            <pubDate>Sun, 28 Jun 2020 07:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Benchmarking Go vs. Node vs. Elixir]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23667197">thread link</a>) | @kaushikt
<br/>
June 28, 2020 | https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/ | <a href="https://web.archive.org/web/*/https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post" itemprop="articleBody">

    

<p>In this benchmark test, we compare three web application servers‚ÄîGo, Node, and Elixir (<a href="https://ninenines.eu/">Cowboy</a>)‚Äîby subjecting each to a synthetic workload, first with 10k, and later with 100k connections.</p>

<p>To simulate a generic web application client and server behavior, we have devised the following synthetic workload. The client device opens a connection and sends 100 requests with 900¬±5% milliseconds in between each one. The server handles a request by sleeping for 100¬±5% milliseconds, to simulate a backend database request, and then returns 1 kB of payload. Without additional delays, this results in average connection lifetime of 100 seconds, and average load of 1 request per second, per device.</p>

<p>In the first test, we set the target to simulate 10k devices on a c5.2xlrage AWS instance that has 8 vCPUs and 16 GiB of RAM.</p>

<p>In the second test, we set the target to simulate 100k devices on a c5.9xlarge AWS instance that has 36 vCPUs and 72 GiB of RAM.</p>

<p>Correspondingly, our target load was 10k and 100k requests per second. The test run consisted of a 20-minute rampup from 0 to the target device count and load, then 20 minutes of sustained target device count and load, and, finally, a 20-minute rampdown back to 0. Each test takes 1 hour to complete.</p>

<p>The metrics were collected from two sources. First, we collected the following metrics from each client device: the time to open a connection, the time from sending a request to receiving HTTP headers of the corresponding response, and the time from receiving HTTP headers to receiving the entire HTTP body.</p>

<p>These metrics were aggregated from all client devices into histograms to retain distribution characteristics. In addition, summary metrics such as the total number of open connections and average requests per second were collected.</p>

<p>The second source of metrics was the target server itself, where we collected network and CPU utilization.</p>

<p>We used Ubuntu 18.04 with 4.15.0-1031-aws kernel, with sysctld overrides seen in our <a href="https://gitlab.com/stressgrid/dummies/blob/dbcc59ce83234bb55d6766ea914f116761bfe9e7/etc/sysctl.d/10-dummy.conf">/etc/sysctl.d/10-dummy.conf</a>.</p>

<p>Our test webservers were Go version 1.10.4, Node version 10.14.2, and Erlang 21.2.4-1 with Cowboy 2.6 and Ranch 1.7. The source code for each test application is available at <a href="https://gitlab.com/stressgrid/dummies/tree/dbcc59ce83234bb55d6766ea914f116761bfe9e7">https://gitlab.com/stressgrid/dummies</a>.</p>

<h2 id="the-10k-connections-test">The 10k Connections Test</h2>

<p>In the 10k test, all test webservers achieved their target connection count.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-active.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-active.png"></a></p>

<p>Go and Elixir both were mostly keeping up with the target load of 10k requests per second. Node, due to latencies we will see later, was maxing out at slightly below 10k requests per second.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-rps.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-rps.png"></a></p>

<p>The time to open a connection averaged out in single-digit milliseconds. It is mostly the same across the three subjects, with the exception of Go having a few hiccups during the rampup phase.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-conn.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-conn.png"></a></p>

<p>The time to receive request headers includes our artificial delay of 100 milliseconds and randomization of ¬±5%. Both Go and Elixir are very similar in reflecting this delay, in addition to constant network latency. The story with Node is very different, as we observe it adding latency immediately, followed by a big jump in both latency and latency deviation about 12 minutes into the run, when the rampup hits 5750 requests per second.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-headers.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-headers.png"></a></p>

<p>The time to receive request body averaged out in single-digit microseconds. In the sustained phase, Go, Node, and Elixir are very similar.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-body.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-body.png"></a></p>

<p>Inbound network utilization is very similar for all three test applications. In the sustained phase, it is 1.75 MB per second, which makes one request be around 175 bytes. Outbound network utilization is closely correlated to requests per second, with Node somewhat lagging behind. In the sustained phase, it is around 12.5 MB per second, which means for every 1kB of payload there is about 250 bytes of protocol overhead.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-network.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-network.png"></a></p>

<p>CPU utilization is where things get interesting. The Node application utilized the least amount of CPU time and achieved its maximum CPU utilization while still in the rampup phase. We‚Äôve seen that Go and Elixir demonstrated very similar performance characteristics from a client‚Äôs perspective, yet Elixir achieved this result with <em>significantly</em> higher CPU utilization.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-cpu.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/10K-cpu.png"></a></p>

<h2 id="the-100k-connections-test">The 100k Connections Test</h2>

<p>In the 100k test, only Go and Elixir reached the target connection count. Node peaked at about 60k connections.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-active.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-active.png"></a></p>

<p>Both Go and Elixir were also able to keep the sustained target load of 100k requests per second. Node maxed out at about 25k requests per second.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-rps.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-rps.png"></a></p>

<p>12 seconds into the rampup phase, at about 60k connections, Node became severely overloaded with connections taking single-digit seconds to open.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-conn.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-conn.png"></a></p>

<p>Go and Elixir remained in low single-digit milliseconds to open connection, with a few hiccups.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-conn2.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-conn2.png"></a></p>

<p>As Node overloaded, the average time to receive request headers grew to 1.5 seconds.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-headers.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-headers.png"></a></p>

<p>For both Go and Elixir, the time to receive request headers remained at around 100 milliseconds. Notably, Elixir maintained a nearly-constant performance throughout the entire test. Go‚Äôs average slowed by a few milliseconds after reaching about 70k connections.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-headers2.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-headers2.png"></a></p>

<p>The time to receive request body remained in single-digit microseconds, with a distribution very similar to the 10k test. This likely means we are testing the client side :-)</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-body.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-body.png"></a></p>

<p>Network utilization grew proportionally to the 10k test. Go and Elixir both peaked at 125 MB/s on the outbound network, which is about 1 Gigabit per second. This means that if we wanted to achieve 10x of the workload, we would come close to saturating a 10 Gb/s link. Node, by peaking at below the target workload, also showed network utilization corresponding to the handled load.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-network.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-network.png"></a></p>

<p>CPU utilization confirms the findings from the 10k test. Go was very efficient in using CPU and would have headroom, had the application been more compute-intensive. Elixir nearly saturated all 36 cores while delivering a surprisingly consistent performance. Node exhausted its scalability limit while utilizing only single-digit percent of available CPU resources.</p>

<p><a href="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-cpu.png"><img src="https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/100K-cpu.png"></a></p>

<h2 id="methodology">Methodology</h2>

<p>To run this test, we used the <a href="https://gitlab.com/stressgrid/stressgrid">Stressgrid</a> framework with 2 c5.2xlrage generators for 10k devices and 20 c5.2xlrage generators for 100k devices. Stressgrid monitors CPU utilization of the generators, so we can avoid skewed results due to generator oversaturation. In this test, all generators stayed below 80% CPU utilization.</p>

<p>Both target and generator instances were placed into a single VPC with two availability zones, using the internal IP network for communication. With this approach, we tried to simulate the typical behavior of a load balancer. With on-demand instances, the 10k test cost was around $10 and the 100k test cost was around $40, including data transfer.</p>

<h2 id="conclusions">Conclusions</h2>

<p>The goal of this benchmark was <em>not</em> to analyze why Go, Node, and Elixir exhibit the observed behavior. Instead, we wanted to quantify their behavior so that readers familiar with the internal workings of each system can reflect on the strong and the weak sides. For those readers already using one of the systems, or those planning to migrate from one to another, we hope to provide some back-of-the-napkin guidelines to help with capacity planning. We also welcome suggestions on how to improve our benchmarking approach.</p>

<hr>

<p><a href="https://lobste.rs/s/hhfvwy/benchmarking_go_vs_node_vs_elixir">Discussion on lobste.rs</a></p>

<p><a href="https://news.ycombinator.com/item?id=19089389">Discussion on Hacker News</a></p>


</div></div>]]>
            </description>
            <link>https://stressgrid.com/blog/benchmarking_go_vs_node_vs_elixir/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667197</guid>
            <pubDate>Sun, 28 Jun 2020 07:10:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Half of Canadians would support 30-hour work week: poll]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667134">thread link</a>) | @chewdatgenie
<br/>
June 27, 2020 | https://www.rcinet.ca/en/2020/06/26/half-of-canadians-would-support-30-hour-work-week-poll/ | <a href="https://web.archive.org/web/*/https://www.rcinet.ca/en/2020/06/26/half-of-canadians-would-support-30-hour-work-week-poll/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Workers get set to pour cement from a truck at the GO train station in Oakville, Ont., Tuesday, Jan.28, 2020. A new report by the Angus Reid Institute suggests the majority of Canadians support the idea of a shorter work week. (Richard Buchan/THE CANADIAN PRESS)</p><div>
                    <p>Support for the idea of a shorter work week is growing in popularity in Canada as the COVID-19 pandemic continues to upend the working lives of Canadians, according to a <a href="http://angusreid.org/four-day-work-week/" target="_blank" rel="noopener noreferrer">new study by the Angus Reid Institute</a>.</p>
<p>More than half of Canadians (53 per cent) surveyed by the non-profit research centre said it would be a good idea to make a new 30-hour work week standard in Canada, the study found.</p>
<p>That‚Äôs a six-point increase compared to 2018 and more than twice the number of people who feel the present 40-hour workweek is just fine, the survey said.</p>
<p>Researchers at the institute speculate that the increase in support for a shorter workweek is perhaps driven in part by the COVID-19 pandemic and difficulties it has presented for many out of work Canadians.</p>
<p>The proportion of supporters of a 30-hour workweek rises to 58 per cent among those who have applied for the Canada Emergency Response Benefit. This is eight-points higher than those who have not applied for the program, the study found.</p>
<p>Support for a shorter workweek is highest at the lowest levels of household income (64 per cent) and lowest among those with incomes over $150,000 per year (47 per cent).</p>
<p>Past Conservative voters are the most fervent in their opposition to the idea of a shorter workweek.</p>
<p>This group is most likely to say that shortening the work week is an ill-conceived idea, 40 per cent feel this way, while two-thirds of past Liberal and New Democratic Party voters voice support for the measure.</p>
<h5>‚ÄòAn interesting notion‚Äô</h5>
<p>Ricardo Tranjan, senior researcher at the Canadian Centre for Policy Alternatives, said ‚Äú30 for 40‚Äù, thirty hours work for forty hours pay, is an interesting notion, and one that should be widely discussed, even beyond the COVID-19 context.</p>
<p>Shorter working weeks would allow workers to participate more actively in their children‚Äôs education, spend more time caring for their own parents and engage in leisure and physical activities that would have a positive impact on their health, Tranjan said.</p>
<p>Ten additional hours at home could go a long way in alleviating ‚Äúdouble shifts,‚Äù which burden women disproportionately more than men, he said.</p>
<p>‚ÄúBut I have two critical concerns,‚Äù Tranjan said. ‚ÄúFirst, this can‚Äôt happen unless wages are adequate. We would absolutely need to maintain the same wage levels for shorter weeks, but for some workers, that wouldn‚Äôt be enough.‚Äù</p>
<p>People who work 40 hours a week at the minimum wage are very likely to have household incomes close to the poverty line, he said.</p>
<p>‚ÄúIf we reduce hours for these workers, they‚Äôre likely to pick up extra shifts, hoping that will allow them to afford things like new winter jackets for the kids or more and healthier food for the family,‚Äù Tranjan said.</p>
<p>‚ÄúMeantime, higher-wage workers will be enjoying all the benefits of shorter weeks, so we‚Äôll be just exacerbating social inequalities.‚Äù</p>
<p>Tranjan said his second concern has to do with eligibility for income supports, which is often tied to working hours.</p>
<p>‚ÄúFor example, will employment insurance eligibility be reduced if weeks are reduced? Or will we end up with even fewer people qualifying for EI benefits?‚Äù Tranjan said. ‚ÄúWe need to tackle these questions heads on, but we should continue to have this conversation.‚Äù</p>
<h5>Business owners not buying it</h5>
<p>Dan Kelly, president of the Canadian Federation of Independent Business (CFIB), which has more than 100,000 members, said it should surprise no one that the majority of Canadians like the idea of a four-day work week.</p>
<p>‚ÄúThe only people who would say no to such an idea are those that immediately recognize that this would likely require a 20 per cent reduction in their weekly pay or the massive unemployment that would occur if businesses were required to pay the same for fewer working hours,‚Äù Kelly said. ‚ÄúI would like six months of vacation and double my salary ‚Äì that doesn‚Äôt mean it would be a reasonable request.‚Äù</p>
<p>Half of small Canadian businesses remain fully or partially closed due to the pandemic and most of those open now will be losing money every week they are open for months and months ahead, Kelly said.</p>
<p>Businesses have been hit with multiple months of lost productivity, rising debt and the costs of the personal protective equipment they now have to procure, Kelly said.</p>
<p>‚ÄúShorter work weeks at the same rate of pay for their staff would be an impossibility for nearly every business at this time,‚Äù Kelly said.</p>
<p>Twelve per cent of independent businesses report they are considering winding down or going bankrupt, he added.</p>
<p>‚ÄúThere could be 100,000 fewer small businesses before this is over,‚Äù Kelly said. ‚ÄúLet‚Äôs not push that number even higher.‚Äù</p>
                    
                                        
                                    </div></div>]]>
            </description>
            <link>https://www.rcinet.ca/en/2020/06/26/half-of-canadians-would-support-30-hour-work-week-poll/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667134</guid>
            <pubDate>Sun, 28 Jun 2020 06:44:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Taking Up Animation as a Hobby]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 15 (<a href="https://news.ycombinator.com/item?id=23667083">thread link</a>) | @luu
<br/>
June 27, 2020 | http://yosefk.com/blog/a-better-future-animated-post.html | <a href="https://web.archive.org/web/*/http://yosefk.com/blog/a-better-future-animated-post.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><em>Whatever else happens, you made a movie‚Ä¶ Nobody can take that away. A hundred years from now, when we're all dead and gone, people will be watching this fucking thing.</em></p>
<p><em>‚Äì <a href="http://en.wikipedia.org/wiki/Tony_Soprano">Tony Soprano</a> to his nephew (whom he murders over this movie in a few episodes)</em></p>
<p>So I made a 90-second animated, um, I guess it's a blog post. I don't know about a hundred years from now, but I proudly invite you to watch the fucking thing right now:</p>
<p><iframe src="//www.youtube.com/embed/xTOHyWphzFc" width="480" height="270" frameborder="0" allowfullscreen="allowfullscreen"></iframe></p>
<p>I hear that it's considered classy for animators, filmmakers and such to let their work stand on its own, either refraining from commentary or making it vague. However, anxious to secure my spot in eternity, I decided to rush my immortal masterpiece out the door, so I cut everything I could.</p>
<p>I then realized that I left out a delicate point which, despite my embarrassment, I must mention. Luckily, typing is much easier than animating, so the following afterthought was quick to put down [1]. Here goes.</p>
<p>The short isn't exactly a documentary, but real-life me did switch to a part-time job to free some time for animating, drawing, etc. I figured this mundane little step was a good topic for a starting filmmaker because it turned out to be surprisingly controversial. Here are some of the reactions I received:</p>
<ul>
<li>"So you finally got fed up with the job?"</li>
<li>"Part-time? But everyone here <em>needs</em> you!"</li>
<li>"Wow, I'm jealous! I want to work less, too. They pay you the same, right?" No, they pay less, I said. "Oh. Ha-ha. Work less, get less. Interesting!"</li>
<li>"You should really work more, not less, while you're young. Futurists predict a huge global pension crisis, so save for your retirement!"</li>
<li>"I doubt this will fly with the big deadline coming. Who's gonna do all the work? Not me!" (This guy works part-time himself ‚Äì very productively.)</li>
<li>"Doesn't your wife object?" (Actually, my light table is Rachel's gift. I don't know when/if I'd ever get one on my own.)</li>
</ul>
<p>These comments suggest that many people want to work less, but something is keeping them from doing it. I can certainly relate to that. It took me 10 years to decide to work part-time ‚Äì and then <em>5 more years to actually do it</em>.</p>
<p>Why is it so hard?</p>
<p>My own reasons mostly revolve around money. Where I live, money is much easier to make programming than animating (good luck even finding a half-stable job working on animated features.)</p>
<p>Hence "I went into programming for the money", as I said in the short ‚Äì as I always say. And initially I figured I'd work all I can and retire early ‚Äì the opposite of working part-time and animating in my spare time ("settling for a fraction of the dream"). And you've just seen how I changed my mind.</p>
<p>But there's another thing, which I usually<em> don't </em>say and which I must reluctantly admit. You see, I came for the money, and then I started liking the <em>getting paid</em> part.</p>
<p>What's the difference between money and getting paid? There's a world of difference!</p>
<p>Winning a lottery is a way to obtain money without getting paid for a service. And spending your wage on designer clothes is a way to get paid without having any money left. The difference is this:</p>
<ul>
<li><strong>Money</strong> lets you buy things ‚Äì food, living space, spare time, etc. It's about <strong>options</strong>.</li>
<li><strong>Getting paid</strong> tells you the value of your service to whoever paid you. It's about <strong>achievement</strong>.</li>
</ul>
<p>I like getting paid, I must admit despite the embarrassment.</p>
<p>Note that I'm not ashamed in the slightest to like money (options) and to have chosen a profession with the sole purpose of maximizing income.</p>
<p>Some people believe that you can't be happy doing something you don't love ‚Äì and that you can't be any good at it, hence you won't make that much money, either. I disagree.</p>
<p>I'll tell you who my role model is, as a computer programmer. It's neither Bill Gates nor <a href="http://en.wikipedia.org/wiki/Richard_stallman">Richard Stallman</a>. My role model is <a href="http://en.wikipedia.org/wiki/Alec_Guinness">Alec Guinness</a>, whom you probably remember as Obi-Wan Kenobi from Star Wars. Wikipedia says:</p>
<blockquote><p>In letters to his friends, Guinness described the film as "fairy tale rubbish" &lt;‚Ä¶&gt;</p>
<p>He was one of the few cast members who believed that the film would be a box office hit;&nbsp; he negotiated a deal for 2% of the gross royalties &lt;‚Ä¶&gt;</p>
<p>Lucas and fellow cast members ‚Ä¶ have spoken highly of his courtesy and professionalism, both on and off the set. Lucas &lt;said&gt; that Guinness contributed significantly to achieving completion of the filming.</p></blockquote>
<p>Here's a man working on something he disliked because it paid ‚Äì and delighting his target audience and colleagues alike. To me it shows that "extrinsic motivation" ‚Äì money ‚Äì is a perfectly good primary motivation, contrary to <a href="http://lemire.me/blog/archives/2014/07/09/extrinsic-motivations-are-harmful/">some researchers' conclusions</a>.</p>
<p>I'm in it for the money ‚Äì hence, I'll never get bored and lose interest, as long as there's money to be made. I'll dutifully work on the unpleasant parts necessary to get things actually done (and get paid). Not liking programming that much, I try to keep my programs short and easy to maintain and extend ‚Äì so I can program less.</p>
<p>These are all desirable traits ‚Äì and not everyone genuinely loving programming has them. Think about it. Who's the better henchman ‚Äì the psychopath murdering for the thrill, or the coldblooded killer who's in it for an early retirement? Same thing here.</p>
<p>I'm your perfect henchman. Pay me, give me some time alone with your computers, and when you come back, you'll find them doing your bidding. Of this I am not ashamed.</p>
<p>Recently, however, I noticed that I'm no longer the coldblooded henchman I used to be, that I started to enjoy the thrill of the kill for its own sake. And this I cannot admit without blushing.</p>
<p>That's what getting paid does to the weak-minded. It warped my value system. The phases of my transition ‚Äì or should I say my moral decay ‚Äì went something like this:</p>
<ol>
<li>I program because they pay me.</li>
<li>Programming is good because they pay me.</li>
<li>Programming is good.</li>
<li>Programming is good! I think I'll go program right now. Or read about it. Or write something about it. All in my spare time.</li>
</ol>
<p>And there you have it. <strong>"Achievement" has been redefined to mean "that thing you get paid for".</strong></p>
<p>This is how I ended up with a website dedicated largely to programming. Then a programming blog on the site and&nbsp;<a href="http://www.embeddedrelated.com/blogs-1/nf/Yossi_Kreinin.php">a similar blog elsewhere</a>. Then came the ultimate downfall: <a href="https://github.com/yosefk">open-source programs on GitHub</a>, written during evenings and weekends.</p>
<p>And I don't regret the writing. Keeping readers' attention on my very dry programming-related subjects is a worthy challenge for any starting storyteller.</p>
<p>But <em>programming for free? Me?</em> <a href="http://www.imdb.com/title/tt0468569/quotes">If you're good at something, never do it for free!</a> Oh, how the weak-minded have fallen.</p>
<p>Sometimes you need to hit rock bottom to begin rising. So it was with me. Realizing that I've just programmed for free for several weekends in a row made me think. Hard.</p>
<p>"I can't believe you," I said to myself. "All this money-chasing at least made some sense. But programming for free? Why not <em>draw</em> in your spare time instead? What's <em>wrong </em>with you?"</p>
<p>"Not so fast," said self. "For free or not, at least here you are doing something you're good at. You know you're good ‚Äì you get paid for it! Would they pay you for drawing? Not so soon. Maybe never. Even if you're any good. <strong>In fact you'll never know if you're any good. </strong>Not if you're never paid. Nor if you're paid badly, which happens all the time in those arty parts of the world, even to the best. Why not stick to things you're <em>good</em> at ‚Äì that you <em>know </em>you're good at?"</p>
<p>Could you believe this guy? Well, I wouldn't have any of that.</p>
<p>"You shameless, hypocritical, baiting-and-switching COWARD," I screamed at self at the top of my lungs. "You always said programming was for the money ‚Äì to buy time, to buy that bloody creative freedom you kept chattering about! And now you say I should keep programming because I got good at it? But of course I got good ‚Äì I've been doing it all this time! I could have gotten just as good at drawing ‚Äì <strong>I still can</strong> ‚Äì if I have the time!"</p>
<p>"And you say that now when I can afford some spare time," I went on, "I should regardless stick to what I'm good at, which by now is programming? Are you hinting that I won't ever draw very well? Is <em>that </em>why you suggested a career in programming in the first place ‚Äì because you didn't believe I could draw? Was that chanting about needing money one big lie all along? Tell me, you lying bastard! I'm gonna -"</p>
<p>"OK, OK, chill, man, CHILL!" Self looked scared and unsettled. He clearly didn't see it coming. Now he was looking for some way to appease me. "You know," said self, "maybe you're right. Remember how you're always proud of taking a long-term view? Of how you care today about things 5, even 10 years ahead?"</p>
<p>I smiled smugly. Indeed I was proud of my long-term-centered, strategic thinking. <a href="http://en.wikipedia.org/wiki/Bob_Colwell">Bob Colwell</a> ‚Äì the legendary computer architect ‚Äì once said that it's the architect's duty to think about the long term, because nobody else will. I <em>so</em> identified with that. (Colwell and I are both computer architects, you see ‚Äì just, um, of different calibers.)</p>
<p>"Well," said self, "you <em>should</em> be proud. Too many lose sight of the future because of today's small but pressing worries!"</p>
<p>"Yeah, yeah, yeah." I was losing my patience. "Thanks but no thanks for your brown-nosing. Listen, are you playing bait and switch on me again? What does this have to do with drawing?"</p>
<p>"But that's the point ‚Äì it's the same thing," self exclaimed, "it's about long-term thinking! Sure, in the short term, maybe you're better at programming than drawing. But keep practicing and yes, of course you'll get good at drawing! Use your favorite superpower ‚Äì your ability to imagine the future vividly, to practically live there ‚Äì to overcome the temptation to stick to your comfort zone! Secure a better future today! Be the shrewd guy investing in a little unknown startup ‚Äì yourself the would-be animator ‚Äì to reap great benefits down the road! Be -"</p>
<p>"I get it. That's what I said though, isn't it? Let's practice ‚Äì let's draw in the spare time."</p>
<p>"Sure. Sure! You're right," said self submissively. "I'm actually helping you, see? I'm telling you how to use your strengths to take the plunge!"</p>
<p>"Thaaaanks. You know what? We'll ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://yosefk.com/blog/a-better-future-animated-post.html">http://yosefk.com/blog/a-better-future-animated-post.html</a></em></p>]]>
            </description>
            <link>http://yosefk.com/blog/a-better-future-animated-post.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667083</guid>
            <pubDate>Sun, 28 Jun 2020 06:26:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Retro of a Startup Journey]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23667015">thread link</a>) | @danielmunro
<br/>
June 27, 2020 | https://danmunro.com/posts/retro-of-a-startup-journey/ | <a href="https://web.archive.org/web/*/https://danmunro.com/posts/retro-of-a-startup-journey/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  <p>It‚Äôs been just shy of three months since my last startup, Alegion, laid off about 1/3 to 1/2 of its Austin, TX office. Unfortunately, I was included in this layoff.</p>
<p>The swift contraction hit hard for everyone, but I felt somewhat uniquely impacted. I had:</p>
<ul>
<li>been the third employee</li>
<li>worked there for almost six years</li>
<li>relocated half way across the country with my family</li>
<li>participated in building the company and the platform from the ground up</li>
</ul>
<p>I have no idea whether or not it‚Äôs true that I was uniquely impacted. Everyone has challenges they have just overcome, and more challenges on the horizon.</p>
<p>At any rate, the last three months have been a whirlwind of changes.</p>
<p>My family and I made the decision to move back home to Seattle. We put our house in Austin on the market, bought a popup camper, and drove our dogs half way across the country. We stayed with friends while I was interviewing, and just this week I started my new job. We put an offer out on a house, and will close next month.</p>
<p>Whew.</p>

<p>There are things Alegion engineering did that I think were better than anywhere I have ever worked before. While I helped to design and implement these following successes, typically I was not alone in the effort.</p>
<h2 id="culture-and-hiring">Culture And Hiring</h2>
<p>In the course of six years, I interviewed maybe one hundred candidates, and helped hire around forty of them. These candidates were screened for not just technical fit, but also fit for software development philosophies, humbleness, curiosity, desire to test, and commitment to quality to name a few of our core cultural qualities.</p>
<p>Overall, we were extremely successful in building empathetic, high performance teams.</p>
<h2 id="testing-and-quality">Testing And Quality</h2>
<p>As an engineering organization, all of our teams embraced the DevOps mindset. The team that wrote code, tested it, deployed it, and maintained it.</p>
<p>Tests were a big focus. Coverage was tracked.</p>
<p>Not just coverage, but intent, and overall quality of tests were points of discussion. Tests must be short and expressive. Each test should test one business function. A well designed test suite should communicate a story between developers.</p>
<p>As a group we aligned strongly on these values, and it showed in the quality of our code and the velocity of feature delivery.</p>
<h2 id="protect-and-develop-engineers">Protect And Develop Engineers</h2>
<p>Natural tension exists between product and engineering. Product almost universally moves faster than engineering in terms of feature ideation and business understanding, while engineering has a better view into platform technicalities, capabilities, and shortcomings.</p>
<p>Without a strong cohesion between product and engineering this tension can easily become inefficient, toxic, or otherwise damaging to team morale.</p>
<p>Shared responsibility, trust, and understanding are critical to the health of this relationship. The natural tension can be used to challenge each other in a healthy way, improve alignment, and increase trust through successful execution.</p>
<p>At Alegion, we did all of this extremely well. Each of my former colleagues, without exception, approached challenges with an open mind, integrity, and a strong desire to collaborate and to learn.</p>

<p>Through it all, I‚Äôve had somewhat significant trouble processing all of my thoughts and emotions related to my career the last six years, as well as the layoff. This is a normal problem for me and I go to therapy to help develop my ability at introspection.</p>
<p>For one, I have a lot of regrets. If I could go back to square one with what I know now, the outcome may be different, and I could‚Äôve been more successful in realizing my own goals. However, that‚Äôs not guaranteed, and not really useful to ponder over for too long.</p>
<h2 id="empathetic-communication">Empathetic Communication</h2>
<p>I regret that I wasn‚Äôt better at empathetic communication from the beginning. I think this skill would have made a critical difference in my trajectory, as well as the trajectory of the company. Instead of being focused on the outcome, I should have been focused more broadly on the people and our interactions, in addition to the outcome.</p>
<h2 id="career-goals">Career Goals</h2>
<p>I regret that I didn‚Äôt achieve my goals for my career at Alegion. From the beginning, I desired an executive leadership position. However, without the experience or vocabulary to articulate my goals, they remained elusive.</p>
<p>About three years into my employment, the company had been in growth mode. Individuals were hired above me, and before I knew it, there were no more leadership positions available.</p>
<p>I had worked so hard for three years, relocated my family from Seattle to Austin without a second thought, and my singular goal of an executive leadership position was simply out of the question.</p>
<h2 id="politics-and-coalition-building">Politics And Coalition Building</h2>
<p>I regret that I didn‚Äôt do a better job connecting with my coworkers. If my goal was a leadership position, I should have been focused on building relationships across the organization, and not solely on proving my worth through delivering technology.</p>
<h2 id="technological-excellence">Technological Excellence</h2>
<p>I regret that I didn‚Äôt focus more on quality vs speed in the beginning. I still believe speed is critical to the survival of startups, but I needed to balance quality into the equation a little more. I also regret not pushing back against more requirements up front. We were simply too ambitious too early.</p>
<h2 id="blind-faith">Blind Faith</h2>
<p>I regret investing so heavily in a startup, so blindly. I worked many evenings, nights, and weekends developing the platform, building features, coaching teammates, and managing production. I worked from the delivery room for my first child. I took almost no paternity leave for two children.</p>
<p>I regret that my company evidently did not have the same intrinsic desire to invest in me.</p>
<p>This rejection was so unexpected, so complete, that I felt blindsided. The rejection cut deep, and I don‚Äôt know if I will ever feel the same. I may never work at a true startup again due to this experience.</p>

<p>To say this experience of rejection crushed me is an understatement. In hindsight, I don‚Äôt think I ever recovered from management‚Äôs decision to exclude me from any executive leadership opportunities.</p>
<p>Perhaps my goals were unrealistic given my experience and performance ‚Äì that was the argument given to me. I have no such leadership experience. I have no proven record on delivering technology at a leadership level.</p>
<p>One question I frequently come back to is:</p>
<blockquote>
<p>Why, in any sense, should Alegion have taken a chance on me?</p>
</blockquote>
<p>Their decision to keep me in an IC role seems entirely rational and optimal given the situation, my experience, and the needs of the organization.</p>

<p>I had just naively believed that being an early employee meant that path was available to me (in fact, my boss had said as much in one of our early conversations, despite denying that path to me). This should serve as a warning to anyone else thinking that a startup is a good way to advance in their career path.</p>
<p>If fast advancement is a career goal, it must be explicit with clear, unambiguous, and achievable goals that the startup commits to in writing. Any less of a commitment, and you can wipe your ass with it, because that‚Äôs what it‚Äôs worth.</p>

<p>My startup experience was filled with what seemed like a lot of organizational successes, as well as personal failures. I‚Äôm not sure how much of this is true, how much of it is due to my mental health, and issues that I continue to work through.</p>
<p>I committed strongly to this startup, without really considering the sacrifices I was making over time to see the vision through. My mental health was severely damaged, and will take a while still to recover. My wife and I had two kids, and are probably done. I missed my opportunity to ever have paternity leave, and spend those first weeks/months focused on my family. I took vacation, but rarely, and almost never more than two weeks per year.</p>
<p>I had a wild ride, and learned <em>a lot</em>. From primarily web development experience in the beginning, to distributed microservices, DevOps, and security/compliance, there were a lot of turns that allowed me to hone my skills, as well as pick up new ones. I am extremely grateful for that experience.</p>
<p>My new job, which I started this week, pays more than I‚Äôve ever made before. The pay increase is almost double my second largest pay increase. So, in that sense, the startup hustle paid off. It is also significantly less stressful. While the money is certainly welcome, it‚Äôs a bittersweet victory.</p>
<p>In the end, I don‚Äôt know if I will ever do another startup. Certainly not with the same leadership again. The emotional toll was just too much to outweigh the positive aspects of the experience.</p>

</div><p>Written on Jun 27, 2020.</p></div>]]>
            </description>
            <link>https://danmunro.com/posts/retro-of-a-startup-journey/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23667015</guid>
            <pubDate>Sun, 28 Jun 2020 06:03:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How we got our AWS bill to around 2% of revenue]]>
            </title>
            <description>
<![CDATA[
Score 292 | Comments 219 (<a href="https://news.ycombinator.com/item?id=23666999">thread link</a>) | @grwthckrmstr
<br/>
June 27, 2020 | https://www.sankalpjonna.com/posts/our-aws-bill-is-2-of-revenue-heres-how-we-did-it | <a href="https://web.archive.org/web/*/https://www.sankalpjonna.com/posts/our-aws-bill-is-2-of-revenue-heres-how-we-did-it">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Server cost is usually not a concern for most funded startups, but for a boot strapped SaaS product like ours,&nbsp; it was important to have an AWS bill that is easy on the pocket and a little more proportional to the MRR.</p><p>‚Äç</p><p>To that end when we started<a href="http://superlemon.xyz/" target="_blank"> superlemon.xyz</a> one of the first things I did was to find ways to consume the least amount of resources on the cloud. We currently serve a traffic of ~ 250 requests per second with our AWS setup.</p><p>‚Äç<br></p><p>Most applications require certain common cloud resources and these include</p><p>‚Äç<br></p><ul role="list"><li>Compute instances</li><li>Database instances</li><li>Caching instances</li><li>CDN&nbsp;</li><li>A web server that acts as a reverse proxy and load balancer</li></ul><p>‚Äç<br></p><div><p>I will now go through each of these resources and talk about both the expensive way and the cheap way to implement them</p></div><p><strong>Compute instances</strong></p><p><strong>‚Äç</strong><br></p><p>When it comes to compute instances, most people go with AWS EC2 instances. EC2 instances are the safest choice to make for running server applications as they are highly configurable, scalable and you can change the configuration on demand according to your needs. However, sometimes you do not really need this level of control on your compute instances and that brings us to <a href="https://aws.amazon.com/free/compute/lightsail/" target="_blank">AWS Lightsail</a>.</p><p>‚Äç<br></p><p>Lightsail as the name suggests is a lightweight version of EC2. Under the hood Lightsail instances are actually EC2 instances, but this is not apparent to the user and unlike the highly configurable EC2, Lightsail comes with a fixed configuration that once you provision cannot be changed. The billing is also a fixed amount per month as opposed to EC2 which is billed by the hour.&nbsp;</p><p>‚Äç<br></p><p>To give you a sense of how much less complicated Lightsail is, please take a look at these screenshots of the EC2 dashboard and Lightsail dashboard.</p><figure id="w-node-7afe1c2bdee3-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef82a451ea3cd05dfd4c146_x93boOZlEeQGL9kcVSXPZyGOX3SNQJfDNyRC0qG3jNDCYeySdZpIgBzYgkVDZqq3DhR92f_Eqdp8sG-vIgkwltIW9ExWhshfDSsb-gd2qCah6E5VjydVhGxO4QFRA5qCR2KXqhP5.png" alt=""></p></figure><p>‚Äç</p><p>‚Äç</p><p>‚Äç</p><figure id="w-node-2074947a61a8-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef737f4a33047deb1c0a4a6_ZMr0t2QqxGgPZ-Grg-TIHjpok_ujhoYzyHLQnsGzlSfLJj0wRrKWFMKNnVDwCoOorYJHs6j4aqKz_NgztOFGNSNc9Fw4nKGrwSRVK7E4hQtDkzE7OXIVaQp0lDjXxwjiKkHN1e3c.png" alt=""></p><figcaption>EC2 dashboard</figcaption></figure><p>‚Äç</p><p>‚Äç</p><p>But we are not here to debate the complexity of EC2 vs Lightsail, so let‚Äôs let us talk about the cost.</p><p>An EC2 instance with 2 virtual cores, 4GB RAM and a storage of 80GB costs roughly 37$ a month and a Lightsail instance with the exact same configuration costs 20$ a month which is almost half the cost!</p><p>‚Äç<br></p><p>The only drawback here as previously mentioned is that the instance is fixed and neither the storage nor the compute power can be tweaked later according to spikes in traffic and usage.&nbsp;</p><p>‚Äç<br></p><p>In our case we do not have a need for too much storage on the compute instance, and as for the computing power it was easy for us to simply provision another Lightsail instance when there is an increase in traffic and set it up behind a load balancer. This way our system is still scalable.</p><p><strong>Database instances</strong></p><p><strong>‚Äç</strong><br></p><p>Choosing a database provider for your application can be a tricky decision, but on a high level there is just one thing that is absolutely required for any database provider - the ability to take regular backups of the DB automatically and the ability to restore the database from one of the backups.</p><p>‚Äç<br></p><p>All of this functionality is provided by AWS RDS along with an array of other capabilities like autoscaling of storage, multiple availability zones, etc. However we did not not really need this level of control over the DB for our simple SaaS product, not to mention the fact that RDS would cost us a minimum of 200$ a month with the lowest acceptable configuration.&nbsp;</p><p>‚Äç<br></p><p>Once again our saviour was Lightsail which provides managed Databases with a fixed storage at very cheap prices. Only MySQL and PostgreSQL are available though which was fine with us since I am quite comfortable with MySQL. We have currently provisioned one MySQL DB with 2 vCPUS, 4GB RAM and 120GB SSD and it costs us 60$ a month.</p><p>‚Äç<br></p><p>And as mentioned before Lightsail provides the basic capabilities of backups and restoration.</p><figure id="w-node-e1f43dee380f-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef731c812136072299e133c_Q2n6wprxbcqgh5vI97YqjWYkOYV52HGzRtHXIQFfpgxwlHkGaO8YDv3aO3V-PwM2SI4qxPty6ZMlK0siv1-lAizSl9hf_6RASDqzNrSfEmIeMdu8UeSTsRhu4Sk1Ofg6Uw8CPPuK.png" alt=""></p><figcaption>Database restoration from recent backup</figcaption></figure><p>‚Äç</p><div><p>The drawback here is that the DB will not scale automatically so your will have to make sure that your application does not use storage beyond what is available in the instance you select. We do this by regularly purging our Database of data that is older than X days and data that belongs to users who churned from our app more than X days ago and haven‚Äôt come back since.&nbsp;</p></div><p><strong>Caching instances</strong></p><p><strong>‚Äç</strong><br></p><p>For our application we needed a Caching layer as well as the ability to queue up jobs that can be executed asynchronously. The seasoned folks here might have realised that the best tool to use for this is Redis and AWS has a service called ElastiCache which is Redis under the hood.&nbsp;</p><p>‚Äç<br></p><p>Once again this would be a very safe choice to make because it is completely managed and scalable. Our need was a Redis instance with at least 6GB of memory and 2vCPUs and if we went with ElastiCache our cost would roughly come out to be 112$ a month, not to mention the additional cost of running our async workers somewhere else.</p><p>‚Äç<br></p><p>I might sound like a broken record at this point but what we ended up doing was to provision a Lightsail instance with 2vCPUs and 8GB of memory for the cost of 40$ a month and installed an open source version of Redis on this instance. We also use the same instance to run our asynchronous workers which read from the Redis queue and execute jobs.&nbsp;</p><p>‚Äç<br></p><p>So what is the drawback? Well since it is not a managed service, you would have to monitor the Redis server yourself. There are many tools out there that help you do this and the one I would recommend is<a href="http://prometheus.io/" target="_blank"> prometheus.io</a>.</p><p>‚Äç<br></p><p>This means that you have to do a little bit of extra work to setup metrics collection from your Redis instance and use a grafana dashboard where you can view these metrics, but this extra work saves a lot of money in the long run and you get to look at a super cool dashboard like this one</p><figure id="w-node-ed9ef23d383f-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef71b6832df460f9189c1ef_8fAYGJqB0CXvglSTkg-wXPXqpKi2e3fusNyMcOaiepfnZ-dC1kjn2Do44sILw5lbKOSISB1CMTEdCzyqBcyggDwK4tJcDEA17xkWXb2J1tUjLHBJgtMa_t3ekfIUfOiImx5IaZd6.png" alt=""></p><figcaption>Grafana dashboard for monitoring redis instance</figcaption></figure><p><strong>CDN</strong></p><p><strong>‚Äç</strong><br></p><p>Our application requires a javascript file to be loaded into the websites of our customers. This JS file gets a ton of traffic because this traffic scales according to how many visitors our customers get. Now this can be scary because it means we really had no idea how many requests the JS file might actually end up receiving so we hesitated to go with CloudFront which is the goto solution for a CDN on AWS.&nbsp;</p><p>‚Äç<br></p><p>So we ended up taking an entirely different approach for this. Our application is a Shopify app and during the process of building the application we created a Shopify store. Every Shopify store gets its own personal CDN where you can manually upload anything and it will be served over the Shopify CDN. So we minified and uploaded our JS file to the CDN of our Shopify store and now we serve 20000 Shopify stores using this method at zero cost.</p><figure id="w-node-78b80f124ebd-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef71b68374cfd3932d127f5_z2vfALB6_5FJXMp4al-65PIczwKOE-wUb0TubqBXAFMiu0rnqPEKGAOl12Saf0Xn-Ay1DjWL7wIj7Vby1sNPfLHkpuXzHf17ytoJ5gQvql13DZl1BsIV2rJPeHgfnCnIdezWiddG.png" alt=""></p><figcaption>Shopify CDN&nbsp;that is free of cost</figcaption></figure><p>There is a glaring drawback to this approach. The Shopify store CDN does not provide an API that you can use to programmatically upload files and it has to be done manually. Also unlike CloudFront, there is no option of invalidating a file once it is uploaded. So If you have to make updates to your file you would have to upload a new file and migrate all of your existing users to this new file.&nbsp;<br></p><p>‚Äç</p><p>This might sound like a big drawback, but it actually took me an hour to whip up a script that updates the JS file for all our existing 20000 stores to the updated JS file that I provide. So whenever I make a new release to this JS file, I simply upload a new file manually to the CDN, then take that file as the input and run this script and we re live! This approach works for us because we do not make too many releases to the JS&nbsp;file to begin with.</p><p><strong>Web server + load balancer</strong></p><p><strong>‚Äç</strong><br></p><p>Every application requires the ability to route requests coming to their domain or subdomain to various applications running under the hood. The best way to do this is to use AWS ELB which can be used to automatically distribute incoming application traffic across multiple targets, such as Amazon EC2 instances, containers, IP addresses, and Lambda functions.&nbsp;</p><p>‚Äç<br></p><p>This sounds quite fancy, but all we needed for our product was 4 things</p><p>‚Äç</p><ul role="list"><li>Serving static files for our application dashboard</li><li>Distribute traffic among different Lightsail instances based on the path of the incoming URL</li><li>Load balance traffic that comes from our Merchants Shopify stores amongst N identical Lightsail instances.</li><li>Rate limiting of requests to prevent DDOS attacks.</li></ul><p>‚Äç<br></p><p>All of this can be done using NGINX which is a great piece of software and is quite robust even with the default settings that it comes with.&nbsp;<br></p><p>So we simply installed a stable version of NGINX on one of our existing Lightsail instances which was already being used to host one of our server applications. We also use<a href="http://amplify.nginx.com/" target="_blank"> amplify.nginx.com</a> for monitoring it. This setup is pretty much equivalent to using a managed service at zero cost.</p><p>‚Äç</p><figure id="w-node-26b2c44e15ee-87eecd11"><p><img src="https://uploads-ssl.webflow.com/5e0b01877436086c8beecd1a/5ef730c34b26677e785fa7ea_w67-tKkFsy_LekSEhO_PXqnHGxDiREqENBgMBaEAOqotyjEDJoKXRk6Wpd5K86OOv2z_S-ejGOnL37l6lj6MWqE_x2ZvrIZ4FCQraAC1uDWMne7yi0Fme4Jap2sp2uH2zrKdvpTz.png" alt=""></p><figcaption>Amplify dashboard for monitoring health of the NGINX server</figcaption></figure><p>‚Äç</p><p><strong>Summary</strong></p><p>‚Äç</p><ul role="list"><li>Use lightsail instances (20$ per instance) instead of EC2 instances (37$ per instance)</li><li>Use a lightsail database (60$ per DB) instead of RDS (200$ per DB)</li><li>Use a self hosted redis server on a compute instance (40$) instead of ElastiCache (112$)&nbsp;</li><li>If feasible, use a free CDN (cost savings depends on traffic size)</li><li>Use a self hosted NGINX server (20$ fixed cost) instead of ELB (cost depends on traffic and usage)</li></ul><p><strong>Closing notes</strong></p><p><strong>‚Äç</strong><br></p><p>I would like to put emphasis on the fact that we are a micro-SaaS product that solves a small and specific use case and therefore this kind of AWS setup worked for us. This may not work for big organisations or products where the traffic is erratic.&nbsp;</p><p>This setup will also not work for folks who have a ton of stuff to do already and would prefer to use managed services and not take the additional headache of monitoring, maintaining and provisioning hardware resources on a regular basis because this has a time cost to it.</p><p>We are a team of 2 people with a product that is not computation heavy and has cloud requirements that are quite straightforward. We have been running this product for a little over 1 year with this AWS setup and so far we have not encountered any problems.</p></div></div>]]>
            </description>
            <link>https://www.sankalpjonna.com/posts/our-aws-bill-is-2-of-revenue-heres-how-we-did-it</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666999</guid>
            <pubDate>Sun, 28 Jun 2020 05:58:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Tinfoil Hat Tips]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23666973">thread link</a>) | @_pastel
<br/>
June 27, 2020 | https://llam15.github.io/tinfoil-hat-tips/ | <a href="https://web.archive.org/web/*/https://llam15.github.io/tinfoil-hat-tips/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <div>
  
  
  
  <a href="https://llam15.github.io/tinfoil-hat-tips/why/" data-aos="fade-up" data-aos-offset="0" data-aos-delay="100">

    <p><img src="https://llam15.github.io/tinfoil-hat-tips/assets/icon/wd-accent-shield-checkmark.png" data-aos="fade-right" data-aos-offset="0" data-aos-delay="500">
    </p>

    <div>
      <p data-aos="fade-up" data-aos-delay="600" data-aos-offset="0">
        <h2>
        Why Privacy Matters
        </h2>
      </p>

      <p><span>There's no such thing as a free lunch.</span>
      </p>

      <p><small>Written by <span>Leslie Lam</span> ‚Ä¢</small>
        <small><time>26 Jun 2020</time></small>
      </p>
    </div>

  </a>
  
  <a href="https://llam15.github.io/tinfoil-hat-tips/easy/" data-aos="fade-up" data-aos-offset="0" data-aos-delay="100">

    <p><img src="https://llam15.github.io/tinfoil-hat-tips/assets/icon/wd-accent-rabbit.svg" data-aos="fade-right" data-aos-offset="0" data-aos-delay="500">
    </p>

    <div>
      <p data-aos="fade-up" data-aos-delay="600" data-aos-offset="0">
        <h2>
        Easy
        </h2>
      </p>

      <p><span>These are things that everyone should do, and can be done within about 15 minutes!</span>
      </p>

      <p><small>Written by <span>Leslie Lam</span> ‚Ä¢</small>
        <small><time>26 Jun 2020</time></small>
      </p>
    </div>

  </a>
  
  <a href="https://llam15.github.io/tinfoil-hat-tips/medium/" data-aos="fade-up" data-aos-offset="0" data-aos-delay="100">

    <p><img src="https://llam15.github.io/tinfoil-hat-tips/assets/icon/wd-accent-car.svg" data-aos="fade-right" data-aos-offset="0" data-aos-delay="500">
    </p>

    <div>
      <p data-aos="fade-up" data-aos-delay="600" data-aos-offset="0">
        <h2>
        Medium
        </h2>
      </p>

      <p><span>These are things that take a little more effort</span>
      </p>

      <p><small>Written by <span>Leslie Lam</span> ‚Ä¢</small>
        <small><time>26 Jun 2020</time></small>
      </p>
    </div>

  </a>
  
  <a href="https://llam15.github.io/tinfoil-hat-tips/hard/" data-aos="fade-up" data-aos-offset="0" data-aos-delay="100">

    <p><img src="https://llam15.github.io/tinfoil-hat-tips/assets/icon/wd-accent-rocket.svg" data-aos="fade-right" data-aos-offset="0" data-aos-delay="500">
    </p>

    <div>
      <p data-aos="fade-up" data-aos-delay="600" data-aos-offset="0">
        <h2>
        Hard
        </h2>
      </p>

      <p><span>These are things that might take a long time or require a lifestyle change</span>
      </p>

      <p><small>Written by <span>Leslie Lam</span> ‚Ä¢</small>
        <small><time>26 Jun 2020</time></small>
      </p>
    </div>

  </a>
   
</div>

  </div>
</div></div>]]>
            </description>
            <link>https://llam15.github.io/tinfoil-hat-tips/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666973</guid>
            <pubDate>Sun, 28 Jun 2020 05:50:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Should I learn UIKit or SwiftUI?]]>
            </title>
            <description>
<![CDATA[
Score 4 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23666923">thread link</a>) | @sarunw
<br/>
June 27, 2020 | https://sarunw.com/posts/should-i-learn-uikit-or-swiftui/ | <a href="https://web.archive.org/web/*/https://sarunw.com/posts/should-i-learn-uikit-or-swiftui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>            
      
<section>
<div>
    <div>        

      

      <hr>

      
        
        
      

      
            

      <p>SwiftUI feels very young when it first announced last year in WWDC19. It shows a promising future, but it has a rough edge here and there, and it quite hard to predict what it will be like in a year. The year has passed, and here is my thought on Apple's new declarative UI framework SwiftUI.</p>
<h2 id="the-gap-is-getting-closer">The gap is getting closer <a href="#the-gap-is-getting-closer">#</a></h2>
<p>My arguments around SwiftUI are always like, "You can't do x (UIKit features) in SwiftUI". This year, Apple show an incredible pace of SwiftUI development. The missing UI elements from last year already have a SwiftUI counterpart, e.g., <code>UIColelctionView</code> and <code>UITextField</code> already have a SwiftUI counterpart of <code>LazyH/VGrid</code> and <code>TextEditor</code>.</p>
<h2 id="first-class-citizen">First-class citizen <a href="#first-class-citizen">#</a></h2>
<p>It looks like SwiftUI doesn't want to be just a view for UIKit anymore. Now, you can write an entire app using pure SwiftUI.</p>
<p>The following is a working SwiftUI app code.</p>
<pre><code><span><span>import</span> <span>SwiftUI</span></span><br><span></span><br><span>@main</span><br><span><span>struct</span> <span>SwiftUIApp</span><span>:</span> <span>App</span> <span>{</span></span><br><span>    <span>var</span> body<span>:</span> some <span>Scene</span> <span>{</span></span><br><span>        <span>WindowGroup</span> <span>{</span></span><br><span>            <span>Text</span><span>(</span><span>"Hello! SwiftUI"</span><span>)</span></span><br><span>        <span>}</span></span><br><span>    <span>}</span></span><br><span><span>}</span></span></code></pre>
<p>And the code above not just works on iOS, but the same code can make an iPad and Mac app. You can write a multiplatform app entirely with SwiftUI. Seem like the concepts of SwiftUI are far more powerful than I first thought.</p>
<h2 id="exclusive-deal">Exclusive Deal <a href="#exclusive-deal">#</a></h2>
<p><a href="https://developer.apple.com/documentation/widgetkit" target="_blank" rel="nofollow noopener">WidgetKit</a>, a new framework in iOS 14 for writing a Widget can only write using SwiftUI. This means you can't run away from it, even you love UIKit, it seems like you have no choice, but to also learn SwiftUI.</p>
<figure>
  <img src="https://d33wubrfki0l68.cloudfront.net/29ba6373e9bf92bbbc301e0f6fb491f3cf51920a/819cd/images/swiftui-2-widget.png" alt="Widget">
  <figcaption>Widget</figcaption>
</figure>
<h2 id="is-uikit-going-to-die%3F">Is UIKit going to die? <a href="#is-uikit-going-to-die%3F">#</a></h2>
<p>Nope, it is far from over. I don't think Apple has a plan to drop UIKit in the foreseeable future. As working on UIKit for years, SwiftUI feels like magic to me. It can replicate UIKit function with a single line of code (or no line of code since it builds right into SwiftUI). The bad thing about magic is that when things are not going as you want, it is hard to figure out what's wrong, and it might not be possible to fix it. That's when you need to go back to UIKit. UIKit is a foundation of iOS, and Apple still keeps adding new features to it (UICollectionView and UISplitViewController got a lot of cool features this year, you should check it out).</p>
<p>I see UIKit as a secret sauce behind all SwiftUI magic. Both UIKit and SwiftUI have their strength, and Apple picks the right tool for the right job (they use SwiftUI for WidgetKit because it suits the constraint that Widget has right now). I think these two will coexist for a very long time.</p>
<p>Apple put years of experience in their UIKit and tools into SwiftUI. It is enjoyable to work with, and the outcome is phenomenal. Apple can do this because they set up a way to bridge SwiftUI to UIKit, so they know that even when SwiftUI fails to do some tasks, there will always have UIKit there.</p>
<h2 id="conclusion">Conclusion <a href="#conclusion">#</a></h2>
<p>Here comes the important question. Should you learn UIKit or SwiftUI?</p>
<p>My short answer would be <strong>SwiftUI</strong>.</p>
<p>And here is my long answer. From all the facts I point out in this article, SwiftUI is ready now. I think in the end you would end up learning both of them.</p>
<p>If you know UIKit, you are forced to learn SwiftUI since it is exclusive to a new framework like WidgetKit. Even not for that reason, I think you probably the one who appreciates SwiftUI the most. SwiftUI can do many great things right out of the box, things that we always want to do in UIKit, but don't have the opportunity and time to do it.</p>
<p>If you know SwiftUI, there would be a time that you want extra customization or hit some roadblock. When the time comes, UIKit will always there for you.</p>



      <hr>
      
      <p>Feel free to follow me on <a rel="nofollow noopener" href="https://twitter.com/sarunw" target="_blank">Twitter</a> and ask your questions related to this post. Thanks for reading and see you next time.</p>
      
      

      

      

      

      



      <p><a href="https://sarunw.com/">‚Üê Home</a></p>


      
  </div>
</div>
</section>            
    </div></div>]]>
            </description>
            <link>https://sarunw.com/posts/should-i-learn-uikit-or-swiftui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666923</guid>
            <pubDate>Sun, 28 Jun 2020 05:30:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quantum Entanglement]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23666588">thread link</a>) | @keyboardman
<br/>
June 27, 2020 | https://leimao.github.io/blog/Quantum-Entanglement/ | <a href="https://web.archive.org/web/*/https://leimao.github.io/blog/Quantum-Entanglement/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <h3 id="introduction">Introduction</h3>

<p>Quantum entanglement has attracted some attention from the public that this mysterious process might be useful for lots of future applications, such as quantum computing and teleportation.</p>



<p>In this blog post, I would like to discuss quantum entanglement superficially using mathematics.</p>

<h3 id="quantum-entanglement">Quantum Entanglement</h3>

<p>Assume we have two independent quantum systems $Q$ and $Q^{\prime}$, represented respectively by the vector spaces $\mathbb{V}$ and $\mathbb{V}^{\prime}$. The quantum system obtained by merging $Q$ and $Q^{\prime}$ will have the tensor product $\mathbb{V} \otimes \mathbb{V}^{\prime}$ as a state space.</p>



<p>If $\mathbb{V} \in \mathbb{C}^n$ with basic states $| x_0 \rangle, | x_1 \rangle, \cdots, | x_{n-1} \rangle$ and $\mathbb{V}^{\prime} \in \mathbb{C}^m$ with basic states $| y_0 \rangle, | y_1 \rangle, \cdots, | y_{m-1} \rangle$, the tensor product state space would be $\mathbb{V} \otimes \mathbb{V}^{\prime} \in \mathbb{C}^{n \times m}$ with basic states $| x_i \rangle \otimes | y_j \rangle$ for $0 \leq i \leq n-1$ and $0 \leq j \leq m-1$. Here, the basic state $| x_i \rangle \otimes | y_j \rangle$ means the first quantum systems $Q$ is in the state $| x_i \rangle$ and the second quantum system $Q^{\prime}$ is in the state $| y_j \rangle$.</p>



<p>More independent quantum systems $Q_0, Q_1, \cdots, Q_{k-1}$ could be merged together and the state space of the merged quantum system would be $\mathbb{V}_0 \otimes \mathbb{V}_1 \otimes \cdots\ \otimes \mathbb{V}_{k-1}$.</p>



<p>The system state of the merged quantum system from two independent quantum systems $Q$ and $Q^{\prime}$ could be expressed using basic states.</p>



<p>The probability of the system being in the state $| x_i \rangle \otimes | y_j \rangle$ after measurement, according to quantum mechanics, would be</p>



<p>If $c_{i,j} = 0$, then $P(| x_i \rangle \otimes | y_j \rangle) = 0$</p>



<p>We further consider the merged system whose $n = 2$ and $m = 2$.</p>



<p>Suppose $c_{0,0} = 0$, $c_{0,1} = 1$, $c_{1,0} = 1$, $c_{1,1} = 0$, i.e.,</p>



<p>When we measure the state of the first quantum system $Q$, there are two possible outcomes, either the system was in the state $| x_0 \rangle$ or $| x_1 \rangle$. Similarly, when we measure the state of the first quantum system $Q^{\prime}$, there are two possible outcomes, either the system was in the state $| y_0 \rangle$ or $| y_1 \rangle$.</p>



<p>If we saw the system state of $Q$ is $| x_0 \rangle$, the system state of $Q^{\prime}$ must be $| y_1 \rangle$ even without measurement. Similarly, if we saw the system state of $Q$ is $| x_1 \rangle$, the system state of $Q^{\prime}$ must be $| y_0 \rangle$ even without measurement. This is because the probability of observing $| x_0 \rangle \otimes | y_0 \rangle$ or $| x_1 \rangle \otimes | y_1 \rangle$ is 0.</p>



<p>This is called quantum entanglement.</p>



<p>In this case, no matter how far the two subsystems in the entangled system is, we know the system states of both subsystems by just observing one single subsystem.</p>



<p>The quantum entanglement is simultaneous and instantaneous. If we describe this process using ‚Äúvelocity‚Äù, we would find the ‚Äúvelocity‚Äù is infinitely large, faster than light speed, which is the fastest ‚Äúvelocity‚Äù we are currently using for information transmission. However, we prefer not to describe this process using velocity, since it is not a conventional physical ‚Äútravel‚Äù process.</p>



<p>Formally, if a merged system state $| \psi \rangle$ can be broken into the tensor product of states from the constituent subsystems, i.e.,</p>



<p>We call this merged system state $| \psi \rangle$ separable state. Otherwise we call it entangled state, as we would find there is no solution to solve the above equation for an entangled state.</p>

<h3 id="conclusions">Conclusions</h3>

<p>Some people who did not study physics sometimes described the process of quantum entanglement as if there is a causation relationship, which means that it is the state of one subsystem affecting the other subsystem. However, from our mathematics analysis, we know this causation relationship does not exist.</p>


      <hr>
      
    </div></div>]]>
            </description>
            <link>https://leimao.github.io/blog/Quantum-Entanglement/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666588</guid>
            <pubDate>Sun, 28 Jun 2020 03:39:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Adventures in booting Linux on Raspberry Pi 4]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 39 (<a href="https://news.ycombinator.com/item?id=23666564">thread link</a>) | @todsacerdoti
<br/>
June 27, 2020 | https://blog.mostlypointless.dev/posts/net-boot-rpi/ | <a href="https://web.archive.org/web/*/https://blog.mostlypointless.dev/posts/net-boot-rpi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <article>
        
        
            <span> Jun 26, 2020</span>
            
                <a href="https://blog.mostlypointless.dev/tags/linux">linux</a>
            
                <a href="https://blog.mostlypointless.dev/tags/raspberry-pi">raspberry pi</a>
            
        
        <p>Almost two months ago, I started building a four node Raspberry Pi 4 cluster for a project I‚Äôm working on. Figuring out the best way to get Linux on each node lead me down a rabbit hole and I spent the next four weeks <a href="http://www.catb.org/~esr/jargon/html/Y/yak-shaving.html">yak shaving</a>.</p>
<p>The most common way to boot a Pi is from an SD card. But they are slow and unreliable - I don‚Äôt like them. Certain models of Pi 2 and Pi 3 support <a href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/bootmodes/msd.md">booting from USB storage</a>, but Pi 4 cannot do that yet. So, I‚Äôm stuck with using an SD card for each Pi. Or so I thought.</p>
<h3 id="enter-pxe-boot">Enter PXE boot</h3>
<p>Turns out, Raspberry Pi 2 and 3 also <a href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/bootmodes/net.md">support network booting</a>. A beta firmware was released late last year that enables <a href="https://en.wikipedia.org/wiki/Preboot_Execution_Environment">PXE</a> for Pi 4. I found <a href="https://linuxhit.com/raspberry-pi-pxe-boot-netbooting-a-pi-4-without-an-sd-card">an article on LinuxHit</a> detailing the process of installing the firmware and setting up network boot.</p>
<p>Just to test this out, I updated the firmware and configured PXE server on one of the Pis. I tried booting another Pi over the network and‚Ä¶it worked!
Here is the gist of PXE server setup process:</p>
<ol>
<li>Copy the contents of <code>/boot</code> and the rest of <code>/</code> into separate folders on your local filesystem. I copied mine to <code>/tftp/raspbian-boot</code> and <code>/nfs/raspbian-root</code> respectively.</li>
<li>Install and configure <code>dnsmasq</code> to enable TFTP and use <code>/tftp</code> as <code>tftp-root</code></li>
<li>Install and configure NFS server to share <code>/tftp/raspbian-boot</code> and <code>/nfs/raspbian-root</code></li>
<li>Edit the contents of <code>/nfs/raspbian-root/fstab</code> to mount the boot partition.</li>
<li>Edit <code>/nfs/raspbian-boot/cmdline.txt</code> to</li>
</ol>
<div><pre><code data-lang="bash">console<span>=</span>serial0,115200 console<span>=</span>tty1 root<span>=</span>/dev/nfs nfsroot<span>=</span>&lt;IP addr&gt;:/nfs/raspbian-root,vers<span>=</span>4.1,proto<span>=</span>tcp rw ip<span>=</span>dhcp rootwait elevator<span>=</span>deadline
</code></pre></div><h3 id="pxe-booting-3-nodes-using-overlayfs">PXE booting 3 nodes using OverlayFS</h3>
<p>I cannot just boot all three nodes from the same boot and root filesystems since they are not read-only. And I don‚Äôt want to maintain a copy of these for each node. But this is a solved problem - Docker already lets you spin up multiple containers from a single base image. So I‚Äôll just do <a href="https://docs.docker.com/storage/storagedriver/overlayfs-driver/#how-the-overlay2-driver-works">what Docker does</a> - create <a href="https://www.kernel.org/doc/html/latest/filesystems/overlayfs.html">OverlayFS</a> for each node using raspbian-root and raspbian-boot as my lower directories. I‚Äôll share them over NFS like before.</p>
<p>Configuration for one of the nodes is below. Other two nodes follow the same pattern. Note that I moved raspbian-root and raspbian-boot to a USB hard drive (mounted at <code>/mnt</code>) to get better r/w performance. dc-a6-32-XX-XX-XX is the MAC address of the node. I‚Äôm using <code>tftp-unique-root=mac</code> option in <code>dnsmasq</code> to maintain a separate boot environment for each node based on its MAC address.</p>
<div><pre><code data-lang="bash">$ mount -t overlay nog-boot -o lowerdir<span>=</span>/mnt/raspbian-boot,upperdir<span>=</span>/mnt/upper/nog-boot,workdir<span>=</span>/mnt/work/nog-boot -o nfs_export<span>=</span>on -o index<span>=</span>on -o redirect_dir<span>=</span>nofollow /tftpboot/dc-a6-32-XX-XX-XX

$ mount -t overlay nog-root -o lowerdir<span>=</span>/mnt/raspbian-root,upperdir<span>=</span>/mnt/work/nog-root,workdir<span>=</span>/mnt/work/nog-root -o nfs_export<span>=</span>on -o index<span>=</span>on -o redirect_dir<span>=</span>nofollow /nfs/nog

$ cat /tftpboot/dc-a6-32-XX-XX-XX/cmdline.txt
console<span>=</span>serial0,115200 console<span>=</span>tty1 root<span>=</span>/dev/nfs nfsroot<span>=</span>&lt;IP addr&gt;:/nfs/nog,vers<span>=</span>4.1,proto<span>=</span>tcp rw ip<span>=</span>dhcp rootwait elevator<span>=</span>deadline
</code></pre></div><p>(In case you are wondering what <code>nog</code> is: I name my servers after planets from the Star Wars universe. Following this tradition, I‚Äôve named the Pis Mandalore (PXE server), Nog, Ordo and Werda)</p>
<p>You are probably thinking that this worked. It did not.</p>
<p>NFS and OverlayFS did not play nice with each other. After a weekend trying to work around some weird issues, I gave up.</p>
<p>But OverlayFS is not the only copy-on-write filesystem in existence, is it? ZFS and BTRFS offer <a href="https://btrfs.wiki.kernel.org/index.php/Manpage/btrfs-subvolume">subvolumes and snapshots</a> that I can use instead. But not before I <del>procrastinate</del> spend 2 weeks deciding which one to use.</p>
<h3 id="moving-to-btrfs">Moving to BTRFS</h3>
<p>The plan is simple: I‚Äôll create a subvolume each for raspbian-root and raspbian-boot. I‚Äôll then create three snapshots of each subvolume - one for every node. I created a <a href="https://en.wikipedia.org/wiki/RAS_syndrome">btrfs file system</a> on my external drive and ran the following commands</p>
<div><pre><code data-lang="bash">$ btrfs subvolume create raspbian-root
$ btrfs subvolume create raspbian-boot

<span># Repeat the following for each node changing folder names as necessary</span>
$ btrfs subvolume snapshot raspbian-boot nog-boot
$ btrfs subvolume snapshot raspbian-root nog-root
$ mount --bind /mnt/nog-boot /tftpboot/dc-a6-32-XX-XX-XX
$ mount --bind /mnt/nog-root /nfs/nog

<span># Don‚Äôt forget to edit cmdline.txt for each node</span>
$ cat /tftpboot/dc-a6-32-XX-XX-XX/cmdline.txt
console<span>=</span>serial0,115200 console<span>=</span>tty1 root<span>=</span>/dev/nfs nfsroot<span>=</span>&lt;IP addr&gt;:/nfs/nog,vers<span>=</span>4.1,proto<span>=</span>tcp rw ip<span>=</span>dhcp rootwait elevator<span>=</span>deadline
</code></pre></div><p>Well, this worked! I have a Pi running without an SD card!! Now all I have to do is create systemd unit files to start all required services and mount snapshots. I can finally start working on my project.</p>
<p>Wait a minute. Take a closer look at the output of <code>cat /tftpboot/dc-a6-32-XX-XX-XX/cmdline.txt</code>.
If you are like me, you will realize for the first time that <code>root=</code> in this file defines where the root filesystem will be mounted from. Right now, we are telling it to mount from <code>/dev/nfs</code>. What if I attach an external drive and set <code>root=</code> to point to the external drive?</p>
<h3 id="network-booting-into-a-usb-hard-drive">Network booting into a USB hard drive</h3>
<p>RPi 4 cannot directly boot from a USB drive. As in - it cannot find <code>/boot</code> on a USB drive when powering on. But what if we provide <code>/boot</code> with network boot and mount <code>/</code> from a USB drive using <code>cmdline.txt</code>? Time to test.</p>
<p>I copied raspbian-root to a USB drive, edited <code>fstab</code> to mount <code>/</code> using the partition‚Äôs PARTUUID and connected it to Nog. I then updated the contents of <code>/tftpboot/dc-a6-32-XX-XX-XX/cmdline.txt</code>.</p>
<div><pre><code data-lang="bash">$ cat /tftpboot/dc-a6-32-XX-XX-XX/cmdline.txt
 console<span>=</span>serial0,115200 console<span>=</span>tty1 root<span>=</span>PARTUUID<span>=</span>c1f95d14-01 rootfstype<span>=</span>ext4 elevator<span>=</span>deadline fsck.repair<span>=</span>yes rootwait
</code></pre></div><p>After a couple of reboots, it worked! I now have a RPi 4 running off a USB hard drive!</p>
<h3 id="what-did-i-gain">What did I gain?</h3>
<p>Let‚Äôs start with what I was looking for. All I wanted was to not deal with SD cards because they are slow and unreliable. Reliability is relative - everything fails at some point. But a decent quality USB hard drive will likely outlive an SD card. So let‚Äôs just look at some read/write performance numbers and see how they compare.</p>
<div><pre><code data-lang="bash">$ sync; dd <span>if</span><span>=</span>/dev/zero of<span>=</span>twogeefile bs<span>=</span>1M count<span>=</span>2048; sync  <span># Write performance</span>
$ sudo sh -c <span>"sync &amp;&amp; echo 3 &gt; /proc/sys/vm/drop_caches"</span>
$ dd <span>if</span><span>=</span>twogeefile of<span>=</span>/dev/null bs<span>=</span>1M count<span>=</span><span>2048</span>              <span># Read performance</span>
</code></pre></div><table>
<thead>
<tr>
<th>Storage</th>
<th>Read (MB/s)</th>
<th>Write (MB/s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Sandisk Ultra MicroSDXC Class 10</td>
<td>45.7</td>
<td>20.2</td>
</tr>
<tr>
<td>Network Boot with BTRFS</td>
<td>63.3</td>
<td>18.8</td>
</tr>
<tr>
<td>/ mounted from USB hard drive</td>
<td>113.0</td>
<td>92.7</td>
</tr>
</tbody>
</table>
<p>With network boot, I was able to get read and write speeds similar to a class 10 SD card. Note that the boot images are hosted on a USB hard drive connected to Mandalore (PXE server). NFS seems to be the bottleneck here - raw r/w speeds of the hard drive are much better than this. All Pis are connected to Netgear‚Äôs 8 port gigabit ethernet switch.</p>
<p>To no one‚Äôs surprise, things improve considerably when Pis are running off a USB hard disk. Note that the external drives I used are 5400RPM hard disks repurposed from very old MacBooks. I bought them on eBay for $10 a pop. YMMV.</p>
<h3 id="current-setup">Current setup</h3>
<p>Right now, I have Mandalore booting from an SD card and <code>/</code> mounted from a USB hard disk. Nog, Ordo and Werda fetch <code>/boot</code> from Mandalore over the network and <code>/</code> mounted from a USB hard disk.</p>
<p><img src="https://blog.mostlypointless.dev/img/pi-cluster.jpg" alt="from top to bottom - Mandalore, Nog, Ordo, Werda"></p>
<p>I can finally start working on my proj‚Ä¶ wait, what?</p>
<p><a href="https://www.tomshardware.com/how-to/boot-raspberry-pi-4-usb">A new beta firmware is out for RPi 4 that lets you boot from USB drives directly.</a></p>
<p>Oh well‚Ä¶</p>
<p>¬Ø\_(„ÉÑ)_/¬Ø</p>
<p><em><strong>Update:</strong> This post was discussed on <a href="https://news.ycombinator.com/item?id=23666564">Hacker News</a>. As jordybg <a href="https://news.ycombinator.com/item?id=23667247">points out</a>, USB boot is no longer ‚Äúbeta‚Äù and is available in the latest (2020-06-15) ‚Äústable‚Äù firmware release.</em></p>

        
    </article>
</div></div>]]>
            </description>
            <link>https://blog.mostlypointless.dev/posts/net-boot-rpi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666564</guid>
            <pubDate>Sun, 28 Jun 2020 03:28:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[WebTransport API]]>
            </title>
            <description>
<![CDATA[
Score 111 | Comments 62 (<a href="https://news.ycombinator.com/item?id=23666364">thread link</a>) | @Jarred
<br/>
June 27, 2020 | https://wicg.github.io/web-transport/ | <a href="https://web.archive.org/web/*/https://wicg.github.io/web-transport/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
   <h2 data-level="1" id="introduction"><span>1. </span><span>Introduction</span><a href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>This specification uses pluggable protocols, with QUIC <a data-link-type="biblio" href="#biblio-quic-transport">[QUIC-TRANSPORT]</a> as
one such protocol, to send data to and receive data from servers. It can be
used like WebSockets but with support for multiple streams, unidirectional
streams, out-of-order delivery, and reliable as well as unreliable transport.</p>
   <p role="note"><span>Note:</span> The API presented in this specification represents a preliminary proposal
based on work-in-progress within the IETF QUIC WG. Since the QUIC transport
specification is a work-in-progress, both the protocol and API are likely to
change significantly going forward.</p>
   <h2 data-level="2" id="conformance"><span>2. </span><span>Conformance</span><a href="#conformance"></a></h2>
   <p>As well as sections marked as non-normative, all authoring guidelines,
diagrams, examples, and notes in this specification are non-normative.
Everything else in this specification is normative.</p>
   <p>The key words <em>MUST</em> and <em>SHOULD</em> are to be interpreted as described in <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a>.</p>
   <p>This specification defines conformance criteria that apply to a single product:
the user agent that implements the interfaces that it contains.</p>
   <p>Conformance requirements phrased as algorithms or specific steps may be
implemented in any manner, so long as the end result is equivalent. (In
particular, the algorithms defined in this specification are intended to be
easy to follow, and not intended to be performant.)</p>
   <p>Implementations that use ECMAScript to implement the APIs defined in this
specification MUST implement them in a manner consistent with the ECMAScript
Bindings defined in the Web IDL specification <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a>, as this
specification uses that specification and terminology.</p>
   <h2 data-level="3" id="terminology"><span>3. </span><span>Terminology</span><a href="#terminology"></a></h2>
   <p>The <code><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler">EventHandler</a></code> interface, representing a callback used for event
handlers, and the <code><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/webappapis.html#errorevent" id="ref-for-errorevent">ErrorEvent</a></code> interface are defined in <a data-link-type="biblio" href="#biblio-html">[HTML]</a>.</p>
   <p>The concepts <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queue a task</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#networking-task-source" id="ref-for-networking-task-source">networking task source</a> are defined in <a data-link-type="biblio" href="#biblio-html">[HTML]</a>.</p>
   <p>The terms <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event" id="ref-for-concept-event">event</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handlers</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event types</a> are
defined in <a data-link-type="biblio" href="#biblio-html">[HTML]</a>.</p>
   <p>When referring to exceptions, the terms <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-throw" id="ref-for-dfn-throw">throw</a> and <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-create-exception" id="ref-for-dfn-create-exception">create</a> are defined in <a data-link-type="biblio" href="#biblio-webidl">[WEBIDL]</a>.</p>
   <p>The terms <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects">fulfilled</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†">rejected</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë°">resolved</a>, <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë¢">pending</a> and <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë£">settled</a> used in the context of Promises are defined in <a data-link-type="biblio" href="#biblio-ecmascript-60">[ECMASCRIPT-6.0]</a>.</p>
   <p>The terms <code><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream">ReadableStream</a></code> and <code><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream">WritableStream</a></code> are defined in <a data-link-type="biblio" href="#biblio-whatwg-streams">[WHATWG-STREAMS]</a>.  Note that despite sharing the name "stream", these are
distinct from the IncomingStream, OutgoingStream, and BidirectionalStream
defined here. The IncomingStream, OutgoingStream, and BidirectionalStream
defined here correspend to a higher level of abstraction that contain and
depend on the lower-level concepts of "streams" defined in <a data-link-type="biblio" href="#biblio-whatwg-streams">[WHATWG-STREAMS]</a>.</p>
   <h2 data-level="4" id="unidirectional-streams-transport"><span>4. </span><span><code>UnidirectionalStreamsTransport</code> Mixin</span><a href="#unidirectional-streams-transport"></a></h2>
   <p>A <dfn data-dfn-type="interface" data-export="" id="unidirectionalstreamstransport"><code>UnidirectionalStreamsTransport</code></dfn> can send and receive
unidirectional streams.  Data within a stream is delivered in order, but data
between streams may be delivered out of order.  Data is generally sent
reliably, but retransmissions may be disabled or the stream may aborted to
produce a form of unreliability.  All stream data is encrypted and
congestion-controlled.</p>
<pre><c- b="">interface</c-> <c- b="">mixin</c-> <a data-link-type="interface" href="#unidirectionalstreamstransport" id="ref-for-unidirectionalstreamstransport"><c- g="">UnidirectionalStreamsTransport</c-></a> {
  <c- b="">Promise</c->&lt;<a data-link-type="idl-name" href="#sendstream" id="ref-for-sendstream"><c- n="">SendStream</c-></a>&gt; <a data-link-type="method" href="#dom-unidirectionalstreamstransport-createsendstream" id="ref-for-dom-unidirectionalstreamstransport-createsendstream"><c- g="">createSendStream</c-></a>(<c- b="">optional</c-> <a data-link-type="idl-name" href="#dictdef-sendstreamparameters" id="ref-for-dictdef-sendstreamparameters"><c- n="">SendStreamParameters</c-></a> <dfn data-dfn-for="UnidirectionalStreamsTransport/createSendStream(parameters), UnidirectionalStreamsTransport/createSendStream()" data-dfn-type="argument" data-export="" id="dom-unidirectionalstreamstransport-createsendstream-parameters-parameters"><code><c- g="">parameters</c-></code><a href="#dom-unidirectionalstreamstransport-createsendstream-parameters-parameters"></a></dfn> = {});
  <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream‚ë†"><c- n="">ReadableStream</c-></a> <a data-link-type="method" href="#dom-unidirectionalstreamstransport-receivestreams" id="ref-for-dom-unidirectionalstreamstransport-receivestreams"><c- g="">receiveStreams</c-></a>();
};
</pre>
   <h3 data-level="4.1" id="#unidirectional-streams-transport-methods"><span>4.1. </span><span>Methods</span><a href="#%23unidirectional-streams-transport-methods"></a></h3>
   <dl>
    <dt data-md=""><dfn data-dfn-for="UnidirectionalStreamsTransport" data-dfn-type="method" data-export="" data-lt="createSendStream(parameters)|createSendStream()" id="dom-unidirectionalstreamstransport-createsendstream"><code>createSendStream()</code></dfn>
    </dt><dd data-md="">
     <p>Creates a <code><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream‚ë†">SendStream</a></code> object.</p>
     <p>When <code>createSendStream()</code> method is called, the user agent MUST run the
 following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>transport</var> be the <code>UnidirectionalStreamsTransport</code> on which <code>createSendStream</code> is invoked.</p>
      </li><li data-md="">
       <p>If <var>transport</var>‚Äôs <code><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state">state</a></code> is <code>"closed"</code> or <code>"failed"</code>,
  immediately return a new <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë§">rejected</a> promise with a newly created <code><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
      </li><li data-md="">
       <p>Let <var>p</var> be a new promise.</p>
      </li><li data-md="">
       <p>Return <var>p</var> and continue the following steps in background.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë•">Resolve</a> <var>p</var> with a newly created <code><a data-link-type="idl" href="#sendstream" id="ref-for-sendstream‚ë°">SendStream</a></code> object and <a data-link-type="dfn" href="#add-the-sendstream" id="ref-for-add-the-sendstream">add the
  SendStream</a> to <var>transport</var> when all of the following conditions are met:</p>
       <ol>
        <li data-md="">
         <p>The <var>transport</var>‚Äôs <code><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state‚ë†">state</a></code> has transitioned to <code>"connected"</code>.</p>
        </li><li data-md="">
         <p>Stream creation flow control is not being violated by exceeding the
  max stream limit set by the remote endpoint.  For QUIC, this is
  specified in <a data-link-type="biblio" href="#biblio-quic-transport">[QUIC-TRANSPORT]</a>.</p>
        </li><li data-md="">
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë¶">settled</a>.</p>
       </li></ol>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ëß">Reject</a> <var>p</var> with a newly created <code><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror‚ë†">InvalidStateError</a></code> when all of
  the following conditions are met:</p>
       <ol>
        <li data-md="">
         <p>The <var>transport</var>‚Äôs state transitions to <code>"closed"</code> or <code>"failed"</code>.</p>
        </li><li data-md="">
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë®">settled</a>.</p>
       </li></ol>
     </li></ol>
    </dd><dt data-md=""><dfn data-dfn-for="UnidirectionalStreamsTransport" data-dfn-type="method" data-export="" id="dom-unidirectionalstreamstransport-receivestreams"><code>receiveStreams()</code></dfn>
    </dt><dd data-md="">
     <p>Returns a <code><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream‚ë°">ReadableStream</a></code> of <code><a data-link-type="idl" href="#receivestream" id="ref-for-receivestream">ReceiveStream</a></code>s that have been received
 from the remote host.</p>
     <p>When <code>receiveStreams</code> is called, the user agent MUST run the following
 steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>transport</var> be the <code>UnidirectionalStreamsTransport</code> on which <code>receiveStreams</code> is invoked.</p>
      </li><li data-md="">
       <p>Return the value of the <code><a data-link-type="idl" href="#dom-quictransport-receivedstreams-slot" id="ref-for-dom-quictransport-receivedstreams-slot">[[ReceivedStreams]]</a></code> internal slot.</p>
      </li><li data-md="">
       <p>For each unidirectional stream received, create a corresponding <code><a data-link-type="idl" href="#incomingstream" id="ref-for-incomingstream">IncomingStream</a></code> and insert it into <code><a data-link-type="idl" href="#dom-quictransport-receivedstreams-slot" id="ref-for-dom-quictransport-receivedstreams-slot‚ë†">[[ReceivedStreams]]</a></code>. As data
  is received over the unidirectional stream, insert that data into the
  corresponding <code>IncomingStream</code>.  When the remote side closes or aborts
  the stream, close or abort the corresponding <code>IncomingStream</code>.</p>
     </li></ol>
   </dd></dl>
   <h3 data-level="4.2" id="#unidirectional-streams-transport-procedures"><span>4.2. </span><span>Procedures</span><a href="#%23unidirectional-streams-transport-procedures"></a></h3>
   <h4 data-level="4.2.1" id="add-sendstream"><span>4.2.1. </span><span>Add SendStream to UnidirectionalStreamsTransport</span><a href="#add-sendstream"></a></h4>
   
   <h3 data-level="4.3" id="send-stream-parameters"><span>4.3. </span><span>SendStreamParameters Dictionary</span><a href="#send-stream-parameters"></a></h3>
   <p>The <dfn data-dfn-type="dictionary" data-export="" id="dictdef-sendstreamparameters"><code>SendStreamParameters</code></dfn> dictionary includes information
relating to stream configuration.</p>
<pre><c- b="">dictionary</c-> <a data-link-type="dictionary" href="#dictdef-sendstreamparameters" id="ref-for-dictdef-sendstreamparameters‚ë†"><c- g="">SendStreamParameters</c-></a> {
};
</pre>
   <h2 data-level="5" id="bidirectional-streams-transport"><span>5. </span><span><code>BidirectionalStreamsTransport</code> Mixin</span><a href="#bidirectional-streams-transport"></a></h2>
   <p>A <dfn data-dfn-type="interface" data-export="" id="bidirectionalstreamstransport"><code>BidirectionalStreamsTransport</code></dfn> can send and receive
bidirectional streams.  Data within a stream is delivered in order, but data
between streams may be delivered out of order. Data is generally sent reliably,
but retransmissions may be disabled or the stream may aborted to produce a form
of unreliability.  All stream data is encrypted and congestion-controlled.</p>
<pre><c- b="">interface</c-> <c- b="">mixin</c-> <a data-link-type="interface" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport"><c- g="">BidirectionalStreamsTransport</c-></a> {
    <c- b="">Promise</c->&lt;<a data-link-type="idl-name" href="#bidirectionalstream" id="ref-for-bidirectionalstream"><c- n="">BidirectionalStream</c-></a>&gt; <a data-link-type="method" href="#dom-bidirectionalstreamstransport-createbidirectionalstream" id="ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream"><c- g="">createBidirectionalStream</c-></a>();
    <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream‚ë¢"><c- n="">ReadableStream</c-></a> <a data-link-type="method" href="#dom-bidirectionalstreamstransport-receivebidirectionalstreams" id="ref-for-dom-bidirectionalstreamstransport-receivebidirectionalstreams"><c- g="">receiveBidirectionalStreams</c-></a>();
};
</pre>
   <h3 data-level="5.1" id="#bidirectional-streams-transport-methods"><span>5.1. </span><span>Methods</span><a href="#%23bidirectional-streams-transport-methods"></a></h3>
   <dl>
    <dt data-md=""><dfn data-dfn-for="BidirectionalStreamsTransport" data-dfn-type="method" data-export="" id="dom-bidirectionalstreamstransport-createbidirectionalstream"><code>createBidirectionalStream()</code></dfn>
    </dt><dd data-md="">
     <p>Creates a <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë†">BidirectionalStream</a></code> object.</p>
     <p>When <code>createBidirectionalStream</code> is called, the user agent MUST run the
 following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>transport</var> be the <code><a data-link-type="idl" href="#bidirectionalstreamstransport" id="ref-for-bidirectionalstreamstransport‚ë†">BidirectionalStreamsTransport</a></code> on which <code><a data-link-type="idl" href="#dom-bidirectionalstreamstransport-createbidirectionalstream" id="ref-for-dom-bidirectionalstreamstransport-createbidirectionalstream‚ë†">createBidirectionalStream</a></code> is invoked.</p>
      </li><li data-md="">
       <p>If <var>transport</var>‚Äôs <code><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state‚ë°">state</a></code> is <code>"closed"</code> or <code>"failed"</code>,
  immediately return a new <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ì™">rejected</a> promise with a newly created <code><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror‚ë°">InvalidStateError</a></code> and abort these steps.</p>
      </li><li data-md="">
       <p>If <var>transport</var>‚Äôs <code><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state‚ë¢">state</a></code> is <code>"connected"</code>, immediately
  return a new <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ë†">fulfilled</a> promise with a newly created <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë°">BidirectionalStream</a></code> object, <a data-link-type="dfn" href="#add-the-bidirectionalstream" id="ref-for-add-the-bidirectionalstream">add the BidirectionalStream</a> to the
  transport and abort these steps.</p>
      </li><li data-md="">
       <p>Let <var>p</var> be a new promise.</p>
      </li><li data-md="">
       <p>Return <var>p</var> and continue the following steps in background.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ë°">Resolve</a> <var>p</var> with a newly created <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë¢">BidirectionalStream</a></code> object and <a data-link-type="dfn" href="#add-the-bidirectionalstream" id="ref-for-add-the-bidirectionalstream‚ë†">add the BidirectionalStream</a> to <var>transport</var> when all of the following
  conditions are met:</p>
       <ol>
        <li data-md="">
         <p>The <var>transport</var>‚Äôs <code><a data-link-type="idl" href="#dom-webtransport-state" id="ref-for-dom-webtransport-state‚ë£">state</a></code> has transitioned to <code>"connected"</code>.</p>
        </li><li data-md="">
         <p>Stream creation flow control is not being violated by exceeding the
  max stream limit set by the remote endpoint. For QUIC, this is
  specified in <a data-link-type="biblio" href="#biblio-quic-transport">[QUIC-TRANSPORT]</a>.</p>
        </li><li data-md="">
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ë¢">settled</a>.</p>
       </li></ol>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ë£">Reject</a> <var>p</var> with a newly created <code><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror‚ë¢">InvalidStateError</a></code> when all of
  the following conditions are met:</p>
       <ol>
        <li data-md="">
         <p>The <var>transport</var>‚Äôs state transitions to <code>"closed"</code> or <code>"failed"</code>.</p>
        </li><li data-md="">
         <p><var>p</var> has not been <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise-objects" id="ref-for-sec-promise-objects‚ë†‚ë§">settled</a>.</p>
       </li></ol>
     </li></ol>
    </dd><dt data-md=""><dfn data-dfn-for="BidirectionalStreamsTransport" data-dfn-type="method" data-export="" id="dom-bidirectionalstreamstransport-receivebidirectionalstreams"><code>receiveBidirectionalStreams()</code></dfn>
    </dt><dd data-md="">
     <p>Returns a <code><a data-link-type="idl" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream‚ë£">ReadableStream</a></code> of <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë£">BidirectionalStream</a></code>s that have been
 received from the remote host.</p>
     <p>When <code>receiveBidirectionalStreams</code> method is called, the user agent MUST run
 the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>transport</var> be the <code>BidirectionalStreamsTransport</code> on which <code>receiveBidirectionalStreams</code> is invoked.</p>
      </li><li data-md="">
       <p>Return the value of the <code><a data-link-type="idl" href="#dom-quictransport-receivedbidirectionalstreams-slot" id="ref-for-dom-quictransport-receivedbidirectionalstreams-slot">[[ReceivedBidirectionalStreams]]</a></code> internal slot.</p>
      </li><li data-md="">
       <p>For each bidirectional stream received, create a corresponding <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë§">BidirectionalStream</a></code> and insert it into <code><a data-link-type="idl" href="#dom-quictransport-receivedbidirectionalstreams-slot" id="ref-for-dom-quictransport-receivedbidirectionalstreams-slot‚ë†">[[ReceivedBidirectionalStreams]]</a></code>.
  As data is received over the bidirectional stream, insert that data into the
  corresponding <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë•">BidirectionalStream</a></code>.  When the remote side closes or aborts
  the stream, close or abort the corresponding <code><a data-link-type="idl" href="#bidirectionalstream" id="ref-for-bidirectionalstream‚ë¶">BidirectionalStream</a></code>.</p>
     </li></ol>
   </dd></dl>
   <h3 data-level="5.2" id="#bidirectional-streams-transport-procedures"><span>5.2. </span><span>Procedures</span><a href="#%23bidirectional-streams-transport-procedures"></a></h3>
   <h4 data-level="5.2.1" id="add-bidirectionalstream"><span>5.2.1. </span><span>Add BidirectionalStream to BidirectionalStreamsTransport</span><a href="#add-bidirectionalstream"></a></h4>
   
   <h2 data-level="6" id="datagram-transport"><span>6. </span><span><code>DatagramTransport</code> Mixin</span><a href="#datagram-transport"></a></h2>
   <p>A <dfn data-dfn-type="interface" data-export="" id="datagramtransport"><code>DatagramTransport</code></dfn> can send and receive datagrams.
Datagrams are sent out of order, unreliably, and have a limited maximum size.
Datagrams are encrypted and congestion controlled.</p>
<pre><c- b="">interface</c-> <c- b="">mixin</c-> <a data-link-type="interface" href="#datagramtransport" id="ref-for-datagramtransport"><c- g="">DatagramTransport</c-></a> {
    <c- b="">readonly</c-> <c- b="">attribute</c-> <a data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b="">unsigned</c-> <c- b="">short</c-></a> <a data-link-type="attribute" data-readonly="" data-type="unsigned short" href="#dom-datagramtransport-maxdatagramsize" id="ref-for-dom-datagramtransport-maxdatagramsize"><c- g="">maxDatagramSize</c-></a>;
    <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream‚ë†"><c- n="">WritableStream</c-></a> <a data-link-type="method" href="#dom-datagramtransport-senddatagrams" id="ref-for-dom-datagramtransport-senddatagrams"><c- g="">sendDatagrams</c-></a>();
    <a data-link-type="idl-name" href="https://streams.spec.whatwg.org/#readablestream" id="ref-for-readablestream‚ë§"><c- n="">ReadableStream</c-></a> <a data-link-type="method" href="#dom-datagramtransport-receivedatagrams" id="ref-for-dom-datagramtransport-receivedatagrams"><c- g="">receiveDatagrams</c-></a>();
};
</pre>
   <h3 data-level="6.1" id="datagram-transport-attributes"><span>6.1. </span><span>Attributes</span><a href="#datagram-transport-attributes"></a></h3>
   <dl>
    <dt data-md=""><dfn data-dfn-for="DatagramTransport" data-dfn-type="attribute" data-export="" id="dom-datagramtransport-maxdatagramsize"><code>maxDatagramSize</code></dfn>, <span> of type <a data-link-type="idl-name" href="https://heycam.github.io/webidl/#idl-unsigned-short" id="ref-for-idl-unsigned-short‚ë†">unsigned short</a>, readonly</span>
    </dt><dd data-md="">
     <p>The maximum size data that may be passed to <code><a data-link-type="idl" href="#dom-datagramtransport-senddatagrams" id="ref-for-dom-datagramtransport-senddatagrams‚ë†">sendDatagrams</a></code>.</p>
   </dd></dl>
   <h3 data-level="6.2" id="datagram-transport-methods"><span>6.2. </span><span>Methods</span><a href="#datagram-transport-methods"></a></h3>
   <dl>
    <dt data-md=""><dfn data-dfn-for="DatagramTransport" data-dfn-type="method" data-export="" id="dom-datagramtransport-senddatagrams"><code>sendDatagrams()</code></dfn>
    </dt><dd data-md="">
     <p>Sends datagrams that are written to the returned <code><a data-link-type="idl" href="https://streams.spec.whatwg.org/#writablestream" id="ref-for-writablestream‚ë°">WritableStream</a></code>.</p>
     <p>When <code>sendDatagrams</code> is called, the user agent MUST run the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>transport</var> be the <code><a data-link-type="idl" href="#datagramtransport" id="ref-for-datagramtransport‚ë†">DatagramTransport</a></code> on which <code>sendDatagram</code> is
  invoked.</p>
      </li><li data-md="">
       <p>Return the value of the <code><a data-link-type="idl" href="#dom-quictransport-sentdatagrams-slot" id="ref-for-dom-quictransport-sentdatagrams-slot">[[SentDatagrams]]</a></code> internal slot.</p>
     </li></ol>
    </dd><dt data-md=""><dfn data-dfn-for="DatagramTransport" data-dfn-type="method" data-export="" id="dom-datagramtransport-receivedatagrams"><code>receiveDatagrams()</code></dfn>
    </dt><dd data-md="">
     <p>Return the value of the <code><a data-link-type="idl" href="#dom-quictransport-receiveddatagrams-slot" id="ref-for-dom-quictransport-receiveddatagrams-slot">[[ReceivedDatagrams]]</a></code> internal slot.</p>
     <p>For each datagram received, insert it into <code><a data-link-type="idl" href="#dom-quictransport-receiveddatagrams-slot" id="ref-for-dom-quictransport-receiveddatagrams-slot‚ë†">[[ReceivedDatagrams]]</a></code>. If too
 many datagrams are queued because the stream is not being read quickly
 enough, drop datagrams to avoid queueing. Implementations should drop older
 datagrams in favor of newer datagrams. The number of datagrams to queue
 should be kept small enough to avoid adding significant latency to packet
 delivery when the stream is being read slowly (due to the reader being slow)
 but large enough to avoid dropping packets when for the stream is not read
 for short periods of time (due to the reader being paused).</p>
   </dd></dl>
   <h2 data-level="7" id="web-transport"><span>7‚Ä¶</span></h2></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://wicg.github.io/web-transport/">https://wicg.github.io/web-transport/</a></em></p>]]>
            </description>
            <link>https://wicg.github.io/web-transport/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666364</guid>
            <pubDate>Sun, 28 Jun 2020 02:26:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[FIFA 2014 World Cup live stream architecture (2015)]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23666073">thread link</a>) | @gundmc
<br/>
June 27, 2020 | http://leandromoreira.com.br/2015/04/26/fifa-2014-world-cup-live-stream-architecture/ | <a href="https://web.archive.org/web/*/http://leandromoreira.com.br/2015/04/26/fifa-2014-world-cup-live-stream-architecture/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
			
		<div>
		<main id="main" role="main">

					<div>
				
<article id="post-400">
	<!-- .entry-header -->

	<div>
		<p><img data-attachment-id="422" data-permalink="https://leandromoreira.com/2015/04/26/fifa-2014-world-cup-live-stream-architecture/live_stream_nginx/#main" data-orig-file="https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png" data-orig-size="477,213" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="live_stream_nginx" data-image-description="" data-medium-file="https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png?w=300" data-large-file="https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png?w=477" src="https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png?w=700" alt="live_stream_nginx" srcset="https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png 477w, https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png?w=150 150w, https://archsofty.files.wordpress.com/2014/10/live_stream_nginx.png?w=300 300w" sizes="(max-width: 477px) 100vw, 477px"> <a title="Globo.com open source projects" href="http://opensource.globo.com/en/" target="_blank">We</a> were given the task to stream&nbsp;the <a title="2014 FIFA" href="http://en.wikipedia.org/wiki/2014_FIFA_World_Cup" target="_blank">FIFA 14 World Cup</a>&nbsp;and I think this was an experience worth sharing. This is a <strong>quick</strong> overview about: the architecture, the components, the pain, the learning, the open source and etc.</p>

<ul>
<li>GER 7√ó1 BRA (yeah, we‚Äôre not proud of it)</li>
<li>0.5M&nbsp;simultaneous&nbsp;users @ a single game ‚Äì ARG x SUI</li>
<li>580Gbps @ a single game ‚Äì ARG x SUI</li>
<li>=~ 1600 watched years @ the whole event</li>
</ul>

<p>The project was to receive an input stream, generate&nbsp;<a title="hls" href="http://en.wikipedia.org/wiki/HTTP_Live_Streaming" target="_blank">HLS</a>&nbsp;output stream for hundreds of&nbsp;thousands and to&nbsp;provide a great experience for final users:</p>
<ol>
<li>Fetch the RTMP input stream</li>
<li>Generate HLS and send it&nbsp;to <a title="cassandra" href="http://cassandra.apache.org/" target="_blank">Cassandra</a></li>
<li>Fetch binary and meta data from Cassandra and rebuild the HLS playlists with Nginx+lua</li>
<li>Serve and cache the live content&nbsp;in a <a title="how to learn high scalability" href="http://leandromoreira.com.br/2014/11/20/how-to-start-to-learn-high-scalability/" target="_blank">scalable way</a></li>
<li>Design and implement the player</li>
</ol>
<p>If you want to understand why we chose HLS&nbsp;check&nbsp;<a title="Live Streaming @ Globo.com" href="http://www.slideshare.net/leandro_moreira/fisl15-streaming-de-video-ao-vivo-na-globocom" target="_blank">this presentation only in pt-BR</a>. <strong>tip</strong>:&nbsp;sometimes we need to rebuild some things from scratch.</p>

<p>The live stream comes to our servers&nbsp;as <a title="rtmp" href="http://en.wikipedia.org/wiki/Real_Time_Messaging_Protocol" target="_blank">RTMP</a> and we were using <a title="ems" href="https://evostream.com/" target="_blank">EvoStream</a> (now we‚Äôre moving to <a title="nginx-rtmp" href="https://github.com/arut/nginx-rtmp-module" target="_blank">nginx-rtmp</a>) to <strong>receive this input and to generate HLS</strong>&nbsp;output to&nbsp;a <strong>known folder</strong>. Then we have some<strong>&nbsp;python daemons</strong>, running at the same machine, <strong>watching this known folder</strong> and <a title="python m3u8" href="https://github.com/globocom/m3u8" target="_blank">parsing the m3u8</a> and&nbsp;<strong>posting&nbsp;the&nbsp;data&nbsp;to Cassandra</strong>.</p>
<p>To watch files modification and to be notified by these events, we first tried watchdog but for some reason we weren‚Äôt able to make it work as fast as we expected and we changed to&nbsp;pyinotify.</p>
<p>Another challenge we had to overcome was to make the&nbsp;python program scale to x&nbsp;cpu cores, we ended up by creating multiple Python processes and using <a title="cassandra async" href="http://datastax.github.io/python-driver/api/cassandra/cluster.html#cassandra.cluster.Session.execute_async" target="_blank">async execution</a>.</p>
<p><strong>tip</strong>:&nbsp;maybe the best language / tool <a title="joke another castle" href="http://cdn.thedailybeast.com/content/dailybeast/articles/2014/05/27/your-princess-is-in-another-castle-misogyny-entitlement-and-nerds/jcr:content/image.crop.800.500.jpg/1405354940376.cached.jpg" target="_blank">is in another castle</a>.</p>

<p>We previously were using Redis to store the live stream data&nbsp;<a title="moving from redis to cassandra" href="http://planetcassandra.org/blog/interview/globo-rewinds-redis-for-their-dvr-system-fast-forwards-to-apache-cassandra-for-increased-availability/" target="_blank">but we thought&nbsp;Cassandra was needed</a>&nbsp;to offer DVR functionality easily (although we still uses&nbsp;Redis a lot). Cassandra response time was increasing with load&nbsp;to&nbsp;a certain point where&nbsp;clients started to timeout and the video playback completely stopped.</p>
<p>We were using it as <a title="cassandra anti-pattern" href="http://www.datastax.com/dev/blog/cassandra-anti-patterns-queues-and-queue-like-datasets" target="_blank">Queue-like</a> which turns out to be a anti-pattern. We then denormalized our data and also changed to <a href="http://www.datastax.com/documentation/cql/3.1/cql/cql_reference/tabProp.html?scroll=tabProp__moreCompaction" target="_blank">LeveledCompactionStrategy</a> as well as we set <strong>durable_writes</strong> to false, since we could treat our live stream as ephemeral data.</p>
<blockquote><p>Finally, but most importantly, since we knew the maximum size a playlist could have, we could specify the start column (filtering with id &gt; minTimeuuid(now ‚Äì playlist_duration)). This really mitigated the effect of tombstones for reads. After these changes, we were able to achieve a <strong>latency in the order of 10ms</strong> for our 99% percentile.</p></blockquote>
<p><strong>tip</strong>: limit your queries + denormalize your data&nbsp;+ <a href="http://www.datastax.com/dev/blog/pluggable-metrics-reporting-in-cassandra-2-0-2" target="_blank">send instrumentation data to graphite</a> + use SSD.</p>

<p>With all the data and meta-data we could build the HLS manifest and serve the video chunks.&nbsp;The only thing we were struggling was that we didn‚Äôt want to add an extra server to fetch and build the manifests.</p>
<p>Since&nbsp;we already had&nbsp;invested a lot of effort into&nbsp;<a title="nginx + lua" href="https://blog.cloudflare.com/pushing-nginx-to-its-limit-with-lua/" target="_blank">Nginx+Lua</a>, we thought it could be possible to use lua to fetch and build the manifest. It was a matter of building a <a title="cassandra lua driver" href="https://github.com/jbochi/lua-resty-cassandra" target="_blank">lua driver for Cassandra</a> and use it. One good thing about this approach (rebuilding the manifest) was that in the end we realized that we were almost ready to serve <a title="dash" href="http://en.wikipedia.org/wiki/Dynamic_Adaptive_Streaming_over_HTTP" target="_blank">DASH</a>.</p>
<p><strong>tip</strong>: <a title="busted" href="https://github.com/Olivine-Labs/busted" target="_blank">test your lua scripts</a> + check the&nbsp;lua global vars + <a title="cache stale" href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_cache_use_stale" target="_blank">double check your caching&nbsp;config</a></p>

<p>In order to provide a better experience, we chose to build <a title="brief explanation about clappr" href="http://blog.flavioribeiro.com/clappr-an-extensible-media-player-for-the-web/" target="_blank">Clappr</a>, an extensible open-source HTML5 video player. With Clappr ‚Äì and a few custom extensions like PiP (Picture In Picture) and Multi-angle replays ‚Äì we were able to deliver a great experience to our users. <img src="https://i1.wp.com/blog.flavioribeiro.com/content/images/2014/Nov/06_player_multicamera-1.jpg" alt=""></p>
<p><strong>tip</strong>: open source it from day 0 + follow to flow issue&nbsp;-&gt; commit FIX#123</p>

<p>To keep an eye over all these system, we built a monitoring dashboard using&nbsp;mostly open source projects like: logstash, elastic search, graphite, graphana, kibana, seyren, angular, mongo, redis, rails and many others. <img src="https://i0.wp.com/image.slidesharecdn.com/fisl15-streamingdevideoaovivonaglobo-140509123535-phpapp01/95/fisl15-streaming-de-video-ao-vivo-na-globocom-22-638.jpg" alt="" width="638" height="359"></p>
<p><strong>tip</strong>: use SSD for graphite and elasticsearch</p>

<p>Although we didn‚Äôt open sourced the entire&nbsp;solution, you can check most of them:</p>
<ul>
<li><a href="https://github.com/globocom/m3u8" target="_blank">Python HLS manifest parser / utility</a></li>
<li><a href="https://github.com/jbochi/lua-resty-cassandra" target="_blank">Pure lua Cassandra client driver</a></li>
<li><a href="https://github.com/clappr/clappr" target="_blank">Clappr</a></li>
<li><a href="https://github.com/jbochi/live_thumb" target="_blank">Live thumbnail</a></li>
<li><a href="https://github.com/flavioribeiro/nginx-audio-track-for-hls-module" target="_blank">Audio only from HLS nginx module</a></li>
<li><a href="https://github.com/jbochi/bullock" target="_blank">Python lock (redis)</a></li>
<li><a title="bem.tv p2p over http" href="http://blog.flavioribeiro.com/bemtv-hls-p2p-webrtc/" target="_blank">P2P and HTTP live streaming</a></li>
</ul>
<hr>
<p><a href="https://news.ycombinator.com/item?id=9446140" target="_blank">Discussion /&nbsp;QA @&nbsp;HN</a></p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
</article><!-- #post-## -->
			</div>

				<nav role="navigation" id="nav-below">
		

	
				
	
	</nav><!-- #nav-below -->
	
			
<!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

					<!-- #secondary -->
	
	</div></div>]]>
            </description>
            <link>http://leandromoreira.com.br/2015/04/26/fifa-2014-world-cup-live-stream-architecture/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23666073</guid>
            <pubDate>Sun, 28 Jun 2020 01:22:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ask HN: Feedback and beta test our new type of VPN service]]>
            </title>
            <description>
<![CDATA[
Score 2 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23665962">thread link</a>) | @Oeck
<br/>
June 27, 2020 | https://www.oeck.com/features/ | <a href="https://web.archive.org/web/*/https://www.oeck.com/features/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div data-aos="fade-up"><p>
					Get powerful device-level filtering to prevent dangerous content reaching your family and devices. Our unique online guardian Cerberus is the must-have feature for families and individuals. Choose which content to block and prevent threats before they occur. Simply create a profile for your device and select the Cerberus services required:
</p><p>

<strong>Ad Blocker</strong> - Block ads from tracking and displaying on most websites and apps.
</p><p>

<strong>Malware Blocker</strong> - Block most phishing websites and websites classed as a security threat.
</p><p>

<strong>Social Network Blocker</strong> - Block websites such as Facebook, Instagram, Twitter and many others.
</p><p>

<strong>Adult Blocker</strong> - Block adult related content such as pornography, dating networks, shock sites and more.
				</p></div>
			</div></div>]]>
            </description>
            <link>https://www.oeck.com/features/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23665962</guid>
            <pubDate>Sun, 28 Jun 2020 00:57:42 GMT</pubDate>
        </item>
    </channel>
</rss>
