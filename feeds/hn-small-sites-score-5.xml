<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Thu, 14 Jan 2021 05:09:22 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Thu, 14 Jan 2021 05:09:22 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Show HN: Symmetrical Drawing Tool for Doodling]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25741895">thread link</a>) | @cowllin
<br/>
January 11, 2021 | https://www.aliciaunderhill.xyz/Andala/ | <a href="https://web.archive.org/web/*/https://www.aliciaunderhill.xyz/Andala/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <section>
        <p>
          <h5>Choose and change your settings as you draw:</h5>
        </p>
        <div>
          <p>Your brush color</p>
          <ul>
            <li id="red-brush" data-color="#FA5858"></li>
            <li id="orange-brush" data-color="#FACC2E"></li>
            <li id="yellow-brush" data-color="#F4FA58"></li>
            <li id="green-brush" data-color="#81F79F"></li>
            <li id="blue-brush" data-color="#81F7F3"></li>
            <li id="purple-brush" data-color="#DA81F5"></li>
            <li id="pink-brush" data-color="#F781F3"></li>
            <li id="black-brush" data-color="black"></li>
            <li id="white-brush" data-color="white"></li>
            <li id="gray-brush" data-color="#A4A4A4"></li>
          </ul>
        </div>

        <div>
          <p>Your background color</p>
          <ul>
            <li id="black-background" data-background="black"></li>
            <li id="white-background" data-background="white"></li>
          </ul>
        </div>

        <div>
          <p>Your brush size</p>
          <ul>
            <li data-brushsize="1">Thin</li>
            <li data-brushsize="3">Medium</li>
            <li data-brushsize="6">Thick</li>
          </ul>
        </div>

        <div>
          <p>Your desired symmetry</p>
          <ul>
            <li id="radial-symmetry" data-symmetry="RADIAL">Radial</li>
              <label>Split by
                
              </label>
            <li data-symmetry="HORIZONTAL">Horizontal</li>
            <li data-symmetry="VERTICAL">Vertical</li>
          </ul>
        </div>
      </section>

      <section>
        
        <h3>Click anywhere and draw freely.</h3>
        <canvas id="andala-canvas" width="600" height="600"></canvas>
      </section>

      <section>
        
      </section>
    </div></div>]]>
            </description>
            <link>https://www.aliciaunderhill.xyz/Andala/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25741895</guid>
            <pubDate>Tue, 12 Jan 2021 03:29:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Faster A fast concurrent persistent key-value store and log, in C# and C++]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25741670">thread link</a>) | @keithnz
<br/>
January 11, 2021 | https://microsoft.github.io/FASTER/ | <a href="https://web.archive.org/web/*/https://microsoft.github.io/FASTER/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main" role="main">
  <article itemscope="" itemtype="https://schema.org/CreativeWork">
    
    <meta itemprop="description" content="A fast concurrent persistent key-value store and log, in C# and C++. Latest release v1.7.4">
    
    

    <section itemprop="text">
      <p>Managing large application state easily, resiliently, and with high performance is one of the hardest
problems in the cloud today. The FASTER project offers two artifacts to help tackle this problem.</p>

<ul>
  <li>
    <p><strong>FASTER Log</strong> is a high-performance concurrent persistent recoverable log, iterator, and random 
reader library in C#. It supports very frequent commit operations at low latency, and can quickly saturate 
disk bandwidth. It supports both sync and async interfaces, handles disk errors, and supports checksums. Learn 
more about using the FASTER Log in C# <a href="https://microsoft.github.io/FASTER/docs/fasterlog-basics/">here</a>.</p>
  </li>
  <li>
    <p><strong>FASTER KV</strong> is a concurrent key-value store + cache (available in C# and C++) that is designed for point 
lookups and heavy updates. FASTER supports data larger than memory, by leveraging fast external 
storage (local or cloud). It also supports consistent recovery using a new checkpointing technique that lets 
applications trade-off performance for commit latency. Learn more about the FASTER KV in C# 
<a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/">here</a>. For the FASTER C++ port, check <a href="https://microsoft.github.io/FASTER/docs/fasterkv-cpp/">here</a>.</p>
  </li>
</ul>



<ol>
  <li>Latch-free cache-optimized index, in FASTER KV.</li>
  <li>A fast persistent recoverable append-only log based on fine-grained epoch protection for concurrency, 
in FASTER Log.</li>
  <li>Unique “hybrid record log” design in FASTER KV, that combines the above log with in-place updates, to 
shape the memory working set and retain performance.</li>
  <li>Architecture as a component that can be embedded in multi-threaded cloud apps.</li>
  <li>Asynchronous non-blocking recovery model based on group commit.</li>
  <li>A rich extensible storage device abstraction called <code>IDevice</code>, with implementations for local
storage, cloud storage, tiered storage, and sharded storage.</li>
</ol>

<p>For standard benchmarks where the working set fits in main memory, we found FASTER KV to achieve
significantly higher throughput than current systems, and match or exceed the performance of pure 
in-memory data structures while offering more functionality. See our <a href="https://microsoft.github.io/FASTER/docs/td-research-papers/">research papers</a>
for more details. We also have a detailed analysis of C# FASTER KV performance in a wiki page 
<a href="https://github.com/Microsoft/FASTER/wiki/Performance-of-FASTER-in-C%23">here</a>. The performance of the 
C# and C++ versions of FASTER is very similar. FASTER Log is also extremely fast, capable of saturating modern
NVMe SSDs using less than a core of CPU, and scaling well in a multi-threaded setting.</p>



<ul>
  <li>
    <p>We now support variable-length keys and values in FasterKV C# via <code>Memory&lt;byte&gt;</code> and more generally <code>Memory&lt;T&gt; where T : unmanaged</code> as key/value/input types. We also added
a new type called <code>SpanByte</code> to represent variable-length keys and values. See the sample <a href="https://github.com/Microsoft/FASTER/tree/master/cs/samples/StoreVarLenTypes">here</a> for details on these capabilities. This is in addition to the existing object-log support for class types.</p>
  </li>
  <li>
    <p>We support C# async in FASTER KV (and FASTER Log). See the guides for <a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/">FasterKV</a> and <a href="https://microsoft.github.io/FASTER/docs/fasterlog-basics/">FasterLog</a> 
for more information. Also, check out the samples <a href="https://github.com/Microsoft/FASTER/tree/master/cs/samples">here</a>.</p>
  </li>
</ul>



<ul>
  <li>Quick-Start Guide and Docs: <a href="https://microsoft.github.io/FASTER/docs/quick-start-guide/">here</a></li>
  <li>Source Code: <a href="https://github.com/microsoft/FASTER">https://github.com/microsoft/FASTER</a></li>
  <li>C# Samples: <a href="https://github.com/microsoft/FASTER/tree/master/cs/samples">https://github.com/microsoft/FASTER/tree/master/cs/samples</a></li>
  <li>C# NuGet binary feed:
    <ul>
      <li><a href="https://www.nuget.org/packages/Microsoft.FASTER.Core/">Microsoft.FASTER.Core</a></li>
      <li><a href="https://www.nuget.org/packages/Microsoft.FASTER.Devices.AzureStorage/">Microsoft.FASTER.Devices.AzureStorage</a></li>
    </ul>
  </li>
  <li>Checkpointing and Recovery: <a href="https://microsoft.github.io/FASTER/docs/fasterkv-basics/#checkpointing-and-recovery">link</a></li>
  <li>Research papers: <a href="https://microsoft.github.io/FASTER/docs/td-research-papers/">link</a></li>
  <li>Project roadmap: <a href="https://microsoft.github.io/FASTER/docs/roadmap">here</a></li>
</ul>

<p>Thanks to <a href="https://github.com/mmistakes/minimal-mistakes">Minimal Mistakes</a> for their amazing website theme.</p>



<div><div><pre><code><span>public</span> <span>static</span> <span>void</span> <span>Main</span><span>()</span>
<span>{</span>
  <span>using</span> <span>var</span> <span>log</span> <span>=</span> <span>Devices</span><span>.</span><span>CreateLogDevice</span><span>(</span><span>"hlog.log"</span><span>);</span> <span>// backing storage device</span>
  <span>using</span> <span>var</span> <span>store</span> <span>=</span> <span>new</span> <span>FasterKV</span><span>&lt;</span><span>long</span><span>,</span> <span>long</span><span>&gt;(</span><span>1L</span> <span>&lt;&lt;</span> <span>20</span><span>,</span> <span>// hash table size (number of 64-byte buckets)</span>
     <span>new</span> <span>LogSettings</span> <span>{</span> <span>LogDevice</span> <span>=</span> <span>log</span> <span>}</span> <span>// log settings (devices, page size, memory size, etc.)</span>
     <span>);</span>

  <span>// Create a session per sequence of interactions with FASTER</span>
  <span>using</span> <span>var</span> <span>s</span> <span>=</span> <span>store</span><span>.</span><span>NewSession</span><span>(</span><span>new</span> <span>SimpleFunctions</span><span>&lt;</span><span>long</span><span>,</span> <span>long</span><span>&gt;());</span>
  <span>long</span> <span>key</span> <span>=</span> <span>1</span><span>,</span> <span>value</span> <span>=</span> <span>1</span><span>,</span> <span>input</span> <span>=</span> <span>10</span><span>,</span> <span>output</span> <span>=</span> <span>0</span><span>;</span>
  
  <span>// Upsert and Read</span>
  <span>s</span><span>.</span><span>Upsert</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>value</span><span>);</span>
  <span>s</span><span>.</span><span>Read</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>output</span><span>);</span>
  <span>Debug</span><span>.</span><span>Assert</span><span>(</span><span>output</span> <span>==</span> <span>value</span><span>);</span>
  
  <span>// Read-Modify-Write (add input to value)</span>
  <span>s</span><span>.</span><span>RMW</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>input</span><span>);</span>
  <span>s</span><span>.</span><span>RMW</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>input</span><span>);</span>
  <span>s</span><span>.</span><span>Read</span><span>(</span><span>ref</span> <span>key</span><span>,</span> <span>ref</span> <span>output</span><span>);</span>
  <span>Debug</span><span>.</span><span>Assert</span><span>(</span><span>output</span> <span>==</span> <span>value</span> <span>+</span> <span>20</span><span>);</span>
<span>}</span>
</code></pre></div></div>

    </section>
  </article>
</div></div>]]>
            </description>
            <link>https://microsoft.github.io/FASTER/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25741670</guid>
            <pubDate>Tue, 12 Jan 2021 02:55:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Internet's Own Boy: The Story of Aaron Swartz (2014)]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25738542">thread link</a>) | @tslocum
<br/>
January 11, 2021 | https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a | <a href="https://web.archive.org/web/*/https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://peertube2.cpy.re/videos/watch/04af977f-4201-4697-be67-a8d8cae6fa7a</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738542</guid>
            <pubDate>Mon, 11 Jan 2021 22:34:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Ready for Launch]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25738512">thread link</a>) | @paulsmith
<br/>
January 11, 2021 | https://adhoc.team/2021/01/08/getting-ready-for-launch/ | <a href="https://web.archive.org/web/*/https://adhoc.team/2021/01/08/getting-ready-for-launch/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      





<article>
  <header>
    
    

    <div>
      <p>Published on January 08, 2021</p>
      
      <p>
        Topics:
        
        
        
        <a href="https://adhoc.team/insights/insights">Insights</a>
        
      </p>
      
      
      
        
  



      
    </div>
  </header>

  <p>There is nothing like having your application in production. You and your users will find bugs, surprising behavior, and new challenges in ways that simply don’t happen in any other environment. Consider the initial period of time after launch — hours or days depending on when demand stabilizes — as sacrosanct, an opportunity to focus on operations, system availability, and providing reliable service to your users.</p>

<p>Ad Hoc has been a part of many high-profile launches in government, starting with coming in to help rescue the early troubled launch of <a href="https://www.healthcare.gov/">HealthCare.gov</a>, to subsequent, increasingly smoother open enrollment periods for that same website, to the transformation of <a href="https://www.va.gov/">VA.gov</a>, among others. We’ve seen first-hand the stakes of getting launch wrong, and the value in doing it right.</p>

<p>In order to properly prepare for launch, take the following hard-won experiential advice into account.</p>

<picture>
  
  
  
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  <source media="(max-width: 600px)" alt="An illustration of an astronaut launched into space for a spacewalk" srcset="https://adhoc.team/600-launch-astronaut.3fd0d803.png">
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  </picture></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://adhoc.team/2021/01/08/getting-ready-for-launch/">https://adhoc.team/2021/01/08/getting-ready-for-launch/</a></em></p>]]>
            </description>
            <link>https://adhoc.team/2021/01/08/getting-ready-for-launch/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25738512</guid>
            <pubDate>Mon, 11 Jan 2021 22:32:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Laptops Need to Change]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25737996">thread link</a>) | @madsaylor
<br/>
January 11, 2021 | https://grigorchuk.me/posts/laptops-need-to-change/ | <a href="https://web.archive.org/web/*/https://grigorchuk.me/posts/laptops-need-to-change/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
<section>
    <article>
        <header>
            
            <div>
                <p><span>
                        <i></i>
                        <time datetime="2020-12-07T09:30:14+03:00">
                            December 7, 2020
                        </time>
                    </span>
                    <span>
                        <i></i>
                        3-minute read
                    </span>
                </p>
                
                
            </div>
        </header>

        <div>
            
            <figure>
    <img src="https://grigorchuk.me/laptops/hunched.png" width="400"> <figcaption>
            <p>Congrats! You are a digital nomad!</p>
        </figcaption>
</figure>

<p>Modern laptops are unusable. Spending more than a couple of hours on a laptop leads to neck or back pain. At first, it’s just uncomfortable, but then it becomes unbearable. The laptop forces you to hunch over it while you’re supposed to be sitting straight.</p>
<p>Your neck, wrists or back will eventually be hurt. For me, it was the neck. I just had to come up with something, or I couldn’t work. The display should be at eye level so my neck wouldn’t be under constant tension, which causes pain after a while.</p>
<p>There’s no such problem with desktop computers. There are monitors on a stand, and some people treat themselves with monitor arms. But I didn’t want to bind myself to just one workplace — that was the reason I bought a laptop in the first place.</p>
<p>I like working in coffee places sometimes. I wanted to stay mobile, and I wanted to work from the same computer at home and work.
And then I found the solution: a laptop stand. There are plenty of them. I started with a cardboard one.
</p><figure>
    <img src="https://grigorchuk.me/laptops/cardboard_stand.jpg" alt="Cardboard laptop stand" width="600"> 
</figure>

<figure>
    <img src="https://grigorchuk.me/laptops/on_a_stand.png" alt="Laptop on stand" width="600"> 
</figure>

<p>It does the job and you can 
<a target="_blank" href="https://mashable.com/2012/10/13/cardboard-laptop-stand-diy/">do it yourself</a><i></i> in 15 minutes.</p>
<p>The more sophisticated one is 
<a target="_blank" href="https://amzn.to/3lPyB1D">Roost Stand</a><i></i>, from a former aerospace engineer. It can hold up to 20 kilograms, or 44 pounds. I upgraded to it after a while.</p>
<figure>
    <img src="https://grigorchuk.me/laptops/roost.gif" alt="Roost Stand" width="600"> 
</figure>

<p>This solution comes with a price: You can’t use the laptop’s keyboard and touchpad anymore. You have to buy an external keyboard and external mouse/trackpad.
In addition to the laptop and power brick, here is what you end up with:</p>
<ul>
<li>laptop stand.</li>
<li>Bluetooth mouse (can be less weird than mine).</li>
<li>Bluetooth keyboard.</li>
</ul>
<figure>
    <img src="https://grigorchuk.me/laptops/setup.jpg" width="600"> 
</figure>

<p>You end up with 1 pound (or ~500 grams) more in your backpack. You have to carry two keyboards and two pointing devices if you want to be fully mobile. Soon I realized that I do not usually work at home, and left all but my laptop at the co-working place.</p>
<p>Laptop vendors do not seem to care or even notice this problem. But the problem exists.
I’ve been at the same coworking space for a while, and within three months three people asked me about the laptop stand and where to get it — and two of them eventually got it.</p>
<p>The laptop form factor is old. It’s the same screen plus keyboard booklet that it was 40 years ago. I think it’s time to come up with something new. The manufacturer that will invent a new design can be a true pioneer.</p>
<p>I will review more solutions and suggest my own in a separate post. Stay tuned!</p>

        </div>


        
    </article>

    
  
  
  
</section>

      </div></div>]]>
            </description>
            <link>https://grigorchuk.me/posts/laptops-need-to-change/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737996</guid>
            <pubDate>Mon, 11 Jan 2021 22:03:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My ISP Is Killing My Idle SSH Sessions]]>
            </title>
            <description>
<![CDATA[
Score 304 | Comments 166 (<a href="https://news.ycombinator.com/item?id=25737611">thread link</a>) | @anderstrier
<br/>
January 11, 2021 | https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/ | <a href="https://web.archive.org/web/*/https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-100">
		<!-- .entry-header -->

	
	<div>
		
<p>tl;dr: My ISP’s CGNAT session timeout is too short, meaning TCP keepalives gets dropped. Test if your own NAT, or your ISP’s CGN, violates <a href="https://tools.ietf.org/html/rfc5382">RFC5382</a>‘s REQ-5 using this tool: <a href="https://github.com/AndersTrier/NAT-TCP-test">https://github.com/AndersTrier/NAT-TCP-test</a>.</p>



<p>I have been working from home more lately, where I have SSH sessions open to the servers that I’m working on. Often when I return to my computer, or switch to a SSH session that has been sitting idle for a while, the SSH connection is either dead or frozen. If the session is not already dead, the only way to gain control over my terminal again, is to send the ‘terminate connection’ <a href="https://lonesysadmin.net/2011/11/08/ssh-escape-sequences-aka-kill-dead-ssh-sessions/">ssh escape sequence</a> <strong>&lt;enter&gt;~.</strong> after which SSH errors like this:</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="5d3c29321d30342f2f322f2e733932292e2f3e73322f3a">[email&nbsp;protected]</a>:~$ 
client_loop: send disconnect: Broken pipe</pre>



<p>This happened one day while I was transferring a VM image in the hundreds of gigabytes from one server to another using netcat like so:</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="8feefbe0cfe7e0fcfbbd">[email&nbsp;protected]</a>:~$ nc -l 1337 &gt; hugefile 
<a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="dbbaafb49bb3b4a8afea">[email&nbsp;protected]</a>:~$ nc -q 1 host2 1337 &lt; hugefile</pre>



<p>This transfer would take multiple hours, and when I checked in after it should have finished, my SSH connections had died yet again. And sshd had taken netcat down with it, killing the transfer midway.</p>



<p>That’s when I decided to investigate this problem.</p>



<p>The OpenBSD and OpenSSH developers are known for their extreme focus on code quality. The chances that this problem is caused by a bug in OpenSSH are very slim. (In the same line as “It is (almost) never a compiler error.”)</p>



<p>This is probably a network problem.</p>



<p>I connected my laptop directly to my ISP’s “customer-provided equipment”: a coax modem in bridge mode. Then I ran tcpdump both on my laptop and on the server, and opened a SSH connection. After leaving it idle for about 2 1/2 hours, this is the result:</p>



<figure><img loading="lazy" width="1680" height="1206" src="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside.png" alt="" srcset="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside.png 1680w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-300x215.png 300w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-1024x735.png 1024w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-768x551.png 768w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-clientside-1536x1103.png 1536w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"><figcaption>Client side</figcaption></figure>



<figure><img loading="lazy" width="1705" height="1224" src="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside.png" alt="" srcset="https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside.png 1705w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-300x215.png 300w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-1024x735.png 1024w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-768x551.png 768w, https://anderstrier.dk/wp-content/uploads/2020/12/ssh-session-serverside-1536x1103.png 1536w" sizes="(max-width: 767px) 89vw, (max-width: 1000px) 54vw, (max-width: 1071px) 543px, 580px"><figcaption>Server side</figcaption></figure>



<p>A SSH session does not generate any traffic, unless there’s new output or input. The same is true for TCP. That is why, after the TCP and SSH sessions have been established, no more packages are sent for a long time.</p>



<p>First thing to note, is that my laptop gets an IP in the <a href="https://tools.ietf.org/html/rfc6598" data-type="URL" data-id="https://tools.ietf.org/html/rfc6598">Carrier-grade NAT address space 100.64.0.0/10</a>, which my ISP then translates to a public internet routable IP. (Because I don’t want to leak my public IP, I used the <a href="https://tcpreplay.appneta.com/wiki/tcprewrite">tcprewrite</a> tool to substitute that IP with one in <a href="https://tools.ietf.org/html/rfc5737">TEST-NET-3</a>).</p>



<p>Next thing to note, is that after about 2 hours, both the client and the server starts to send TCP-keepalive packages, but none of them come through to the other side.</p>



<p>Finally the client gives up on the TCP session, and sends a TCP reset package, which surprisingly goes through.</p>



<p>Lets see what we can find in the OpenSSH man pages about timeouts and keepalives (ssh_config(5)):</p>



<pre><strong>TCPKeepAlive</strong>
    Specifies whether the system should send TCP keepalive messages to the other side.&nbsp; If they are sent, death of the
 &nbsp;&nbsp;&nbsp;connection or crash of one of the machines will be properly noticed.&nbsp; This option only uses TCP keepalives (as op‐
 &nbsp;&nbsp;&nbsp;posed to using ssh level keepalives), so takes a long time to notice when the connection dies.&nbsp; As such, you proba‐
 &nbsp;&nbsp;&nbsp;bly want the ServerAliveInterval option as well.&nbsp; However, this means that connections will die if the route is down
 &nbsp;&nbsp;&nbsp;temporarily, and some people find it annoying.
 &nbsp;&nbsp;&nbsp;<strong>The default is yes</strong> (to send TCP keepalive messages), and the client will notice if the network goes down or the re‐
 &nbsp;&nbsp;&nbsp;mote host dies.&nbsp; This is important in scripts, and many users want it too.
 &nbsp;&nbsp;&nbsp;To disable TCP keepalive messages, the value should be set to no.&nbsp; See also ServerAliveInterval for protocol-level
 &nbsp;&nbsp;&nbsp;keepalives.
<strong>ServerAliveInterval</strong>
    Sets a timeout interval in seconds after which if no data has been received from the server, ssh(1) will send a mes‐
    sage through the encrypted channel to request a response from the server.&nbsp; <strong>The default is 0, indicating that these</strong>
    <strong>messages will not be sent to the server</strong>, or 300 if the BatchMode option is set (Debian-specific). </pre>



<p>So <strong>TCPKeepAlive</strong> enables keepalives handled by the TCP stack implementation (Linux in my case), whereas <strong>ServerAliveInterval</strong> enables protocol level keep-alives (handled by OpenSSH).</p>



<p>This explains the behavior we’re observing, but also raises new questions:</p>



<ol><li>Can I fix my problem by enabling the ssh protocol-level-keepalives? (ServerAliveInterval)</li><li>Why are the TCP keepalives only sent after 2 hours?</li><li>Why is my ISP dropping my TCP keepalive packages?</li></ol>



<p>I verified that by setting <strong>ServerAliveInterval</strong> to 300 (5 min), my problems disappeared. We could stop now that I found a workaround, but let’s keep digging.</p>



<p>The TCP keepalive interval on Linux is configured by <strong>net.ipv4.tcp_keepalive_time</strong>, which by default is set to 2 hours (7200).</p>



<pre><a href="https://anderstrier.dk/cdn-cgi/l/email-protection" data-cfemail="3a5b545e5f48497a4f584f544e4f175e5f49514e554a">[email&nbsp;protected]</a>:~$ sysctl net.ipv4.tcp_keepalive_time
net.ipv4.tcp_keepalive_time = 7200</pre>



<p>Why is it set to two hours? We find our answer in <a href="https://tools.ietf.org/html/rfc1122">RFC1122</a>:</p>



<pre>Keep-alive packets MUST only be sent when no data or
acknowledgement packets have been received for the
connection within an interval.  This interval MUST be
configurable and <strong>MUST default to no less than two hours</strong>.</pre>



<p>In the following DISCUSSION section, the RFC writers elaborate on why they (in 1989) think TCP keep-alives only should be sent infrequently:</p>



<pre>The TCP specification does not include a keep-alive mechanism because it could:
(1) cause perfectly good connections to break during transient Internet failures;
(2) consume unnecessary bandwidth ("if no one is using the connection, who cares if it is still good?"); and
(3) cost money for an Internet path that charges for packets.</pre>



<p>Today the Internet is different from what it was in 1989 when they published that RFC. Now we have NAT everywhere, which is a hack that was accepted on IPv4 because the IPv4 address space is too small. The real solution is IPv6 which has a much bigger address space (2^32 vs 2^128).</p>



<p>NAT (Network Address Translation) allows many computers on a network to share the same IP. This typically works by routing your packet to a device which translates/substitutes your private <a href="https://tools.ietf.org/html/rfc1918">RFC1918</a> IP (e.g 192.168.0.0/16) for a public one, and passes on the packet.</p>



<p>CGN (Carrier-grade NAT) is NAT run by an ISP. This allows for many customers to share a single public IP (because even with every household being assigned a single IPv4, we’re still running out). To avoid collisions with the <a href="https://tools.ietf.org/html/rfc1918">RFC1918</a> ranges, ISPs are told to use the 100.64.0.0/10 range. With this setup it is not uncommon to have 3 levels of NAT. Ex, CGN, CPE that also does NAT, and the customers own router.</p>



<p>A NAT device must keep track of which connections are made by the clients. This information is stored in the NAT table. Whenever a packet arrives from the Internet, it checks if the packet belongs to any connections in its NAT table, to figure determine which client to send the package to. If it doesn’t belong to any connections, it drops the packet.</p>



<p>This wouldn’t work if the NAT table only stored IP addresses – which client should the NAT device send the packet to if receiving a packet from a server two of its clients are connected to? That is why – unlike routers – NAT devices have to cross protocol boundaries, and look deeper inside the packet and find a “<a href="https://tools.ietf.org/html/rfc3022">transport identifier</a>“. For TCP and UDP the identifiers used are the source and destination port numbers, and for ICMP the Query <a href="https://tools.ietf.org/html/rfc792">Identifier</a> is usually used.</p>



<p>A NAT table looks something like this (we’ll ignore ICMP for now):</p>



<pre>PROTOCOL SRCIP       SRCPORT DSTIP          DSTPORT NEWSRCPORT IDLETIME
TCP      192.168.1.1 52264   130.225.254.99 22      52264      983
UDP      192.168.1.2 39252   8.8.8.8        53      39252      4</pre>



<p>This NAT hack unfortunately opened up Pandora’s box of problems that we are still dealing with today. For example, you can no longer initiate a connection to a computer behind NAT. The NAT device does not know which host to send the packet to. This is why NAT’ing is often equated with firewalling. It is not a feature as such. It is a side effect of the NAT hack.</p>



<p>Back when NAT was introduced, it was not uncommon for protocols to rely on the server establishing a second connection back to the client. In “Active FTP” for example, the server will initiate a new connection back to the client (the data channel) after the client has connected. For this to work the NAT must be even more protocol aware, and preemptively create a mapping for the requested port. This is the same for SIP (used for VoIP) and a few other protocols. This is why most NAT devices can be configured to be FTP and SIP aware. Exactly this feature was recently shown to be a huge security problem – you can trigger this functionality to create a mapping of your choosing from a visitors browser, and connect to any device behind the visitors NAT. Read more about the <a href="https://github.com/samyk/slipstream">NAT Slipstreaming attack here</a>.</p>



<p>For big data transfers, or latency sensitive connections (file sharing, VoIP, gaming etc) it is very much preferable to have a direct connection between hosts. But if both hosts are behind a NAT, this is not immediately possible. To solve this problem, a new hack was introduced: <a href="https://tools.ietf.org/html/rfc5389">NAT hole punching</a>, where you – by using a third-party – can trick your NAT devices to allow traffic directly between the hosts by creating a NAT table entry (“punching”) in both NATs simultaneously. It is only somewhat reliable, and works best with UDP in my experience.</p>



<p>NAT is also one of the reasons the new <a href="https://datatracker.ietf.org/doc/draft-ietf-quic-transport/?include_text=1">QUIC</a> protocol uses UDP packages instead of its own protocol. Too many devices will fail to handle the packet correctly if they introduced a new <a href="https://www.iana.org/assignments/protocol-numbers/protocol-numbers.xhtml">protocol number</a>. Where should the NAT device look for a transport identifier in an unknown protocol header?</p>



<p>Another problem that arises because of NAT is: when is it safe to remove an entry from the NAT table? Sometimes the answer is simple: when you see that the connection has been closed (e.g the TCP Normal Close Sequence). But when is it safe to remove an established TCP connection (were you haven’t yet seen the connection being closed) on which no packages have …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/">https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/</a></em></p>]]>
            </description>
            <link>https://anderstrier.dk/2021/01/11/my-isp-is-killing-my-idle-ssh-sessions-yours-might-be-too/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737611</guid>
            <pubDate>Mon, 11 Jan 2021 21:38:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Now what? The collateral damage of a tech backlash]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25737531">thread link</a>) | @nillium
<br/>
January 11, 2021 | https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/ | <a href="https://web.archive.org/web/*/https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://blog.nillium.com/content/images/size/w300/2021/01/IMG_2096.jpg 300w,
                            https://blog.nillium.com/content/images/size/w600/2021/01/IMG_2096.jpg 600w,
                            https://blog.nillium.com/content/images/size/w1000/2021/01/IMG_2096.jpg 1000w,
                            https://blog.nillium.com/content/images/size/w2000/2021/01/IMG_2096.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://blog.nillium.com/content/images/size/w2000/2021/01/IMG_2096.jpg" alt="Now what?  The collateral damage of a tech backlash">
            </figure>

            <section>
                <div>
                    <p>For many Americans, the events of the past week have left emotions raw, tempers hot, and for some, social media accounts deactivated. </p><p>It’s a reasonable response by those who believe various social networks allowed disinformation to flourish, or worse: allowed seditious plots to metastasize on their platforms, which led to a mob storming the U.S. Capitol.</p><p>The very social platforms that are being (rightly) targeted for their role in fanning the flames of an insurrection are the same ones that drive traffic to news sites. To exist today, newsrooms have little to no choice: social platforms are a necessary evil.</p><p>The irony is astounding: a boycott protesting the spread of disinformation could be so harmful to the viability of journalism. This is why we need so desperately to detangle the fates of newsrooms from that of social platforms. </p><p>Reliable, factual updates are a requirement for an informed citizenry, and Democracy cannot function without one. &nbsp;And for an industry operating on ever decreasing margins, the page views that come from these platforms &nbsp;<a href="https://blog.nillium.com/news-was-never-meant-for-social-platforms/">are keeping them alive</a>, even as the business models associated with this set up slowly kill them. &nbsp;</p><p>News is expensive. &nbsp;Long before any article is written, before any video is shot, reporters spend time on the phone, traveling to meet with sources, often to only find that there is no story there. &nbsp;They do it usually because of a passion for keeping their fellow citizens informed, for striving to uncover the truth. &nbsp;But they also have expenses, and need to be paid.</p><p>As ad dollars and traffic coalesce around a few major players online, news websites had to adapt. &nbsp;They have written ever-more catchy headlines to grab attention. The story selection has become driven by trending topics in an effort to appear at the top of newsfeeds. &nbsp;The algorithms behind such feeds make local news even harder to find because, by definition, it doesn’t appeal to the widest audience possible. &nbsp;The sites, in turn, had to make the most of what traffic they could get; covering pages in ads and trackers. &nbsp;It’s a spiral to the bottom.</p><p>But, it’s not too late to turn things around.</p><p>For those that want to make an impact, please support journalism. Subscribe to your local newspaper.</p><p>We need to think about weaning news from platforms that have such a parasitic impact. &nbsp;If we cannot find a viable model for trustworthy news online, we will be left with the only information sources that seem to be thriving now; the least credible of them all. &nbsp;</p><p>Our solution is relatively simple. &nbsp;We’re building a platform that takes the best from social media -- the concise updates, the real time streams, and the direct line of communication from reporters, but in a news-friendly way. &nbsp;Our ads appear in between updates, not tying their value to any individual click through, and revenue is shared according to the contributions to the platform, not views. &nbsp;We’re only allowing trusted journalists to post, blocking disinformation before it has a chance to root itself in our systems.</p><p>We invite you to join us, and welcome any suggestions or improvements.</p><p><em>Nillium is building Forth, a new news platform based on concise updates from trusted journalists, sharing advertising revenue with the reporters and their newsrooms. &nbsp;To sign up for our waiting list, <a href="https://www.forthapp.com/list.html">click here</a>. &nbsp; Newsrooms and independent reporters can express their interest in joining the platform <a href="https://docs.google.com/forms/d/e/1FAIpQLSfWpLKCBdKrkOqCiaHheoOQBCvqbR3ydaCW1N1sy69RNLJGwQ/viewform?usp=pp_url&amp;entry.478247111=blog.nillium.com">here</a>.</em></p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.nillium.com/now-what-the-collateral-damage-of-a-tech-backlash/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25737531</guid>
            <pubDate>Mon, 11 Jan 2021 21:34:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Merkel finds Twitter suspension of Trump account 'problematic']]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25734098">thread link</a>) | @sampo
<br/>
January 11, 2021 | https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic | <a href="https://web.archive.org/web/*/https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://storage.googleapis.com/ddos-shield.appspot.com/shield-logo-mono-darktext.svg" width="250px" height="50px" alt="Project Shield Logo"></p><p>You will be connected to <b>www.thelocal.de</b> in just a moment...</p><p><a href="https://g.co/shield">Learn about Project Shield</a></p></div></div>]]>
            </description>
            <link>https://www.thelocal.de/20210111/merkel-finds-twitter-halt-of-trump-account-problematic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25734098</guid>
            <pubDate>Mon, 11 Jan 2021 18:52:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Wall St. Banks Halt Political Donations After Capitol Riot: Live Updates]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25733165">thread link</a>) | @herdcall
<br/>
January 11, 2021 | https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/ | <a href="https://web.archive.org/web/*/https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://thecameroontoday.com/news/wall-st-banks-halt-political-donations-after-capitol-riot-live-updates/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25733165</guid>
            <pubDate>Mon, 11 Jan 2021 18:13:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with Signal]]>
            </title>
            <description>
<![CDATA[
Score 270 | Comments 207 (<a href="https://news.ycombinator.com/item?id=25732956">thread link</a>) | @JustinGarrison
<br/>
January 11, 2021 | https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/ | <a href="https://web.archive.org/web/*/https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemprop="articleBody" id="content"><p>You’ve discovered that <a href="https://signal.org/">Signal</a> can provide you with secure communication from your phone that is cross platform and free!</p><p><img src="https://www.justingarrison.com/img/signal-og-banner.png" alt=""></p><p>First of all you may be asking “who makes Signal?”
Signal Messenger LLC. is the company that makes the Signal app.
They are funded by the Signal Foundation which is a non-profit organization that relies on <a href="https://signal.org/donate/">your donations</a> to make the app free and not have ulterior motives with your data.</p><p>The foundation’s mission is</p><blockquote><p>To develop open source privacy technology that protects free expression and enables secure global communication.</p></blockquote><p>The Signal app is all <a href="https://github.com/signalapp">open source on GitHub</a> and their protocols are well documented and available <a href="https://signal.org/docs/">on their website</a>.</p><p>But that’s not why you’re here.
Let’s show you some tips to get the most out of your new secure messaging app.</p><h2 id="important-settings">Important settings</h2><p>Signal is great, but there are a few things you may want to change depending on how secure or private you want your communications.</p><h3 id="notifications">Notifications.</h3><p>You can disable what is shown in notifications to help with privacy.
Turn off whatever you don’t want shown.</p><p><img src="https://www.justingarrison.com/img/signal-notification-content.png" alt=""></p><p>You may also want to disable the notification you get when one of your contacts join Signal.
Especially ad the rapid pace people are joining.</p><p><img src="https://www.justingarrison.com/img/signal-contact-notifications.png" alt=""></p><h3 id="privacy">Privacy</h3><p>You can set the Signal app to lock when your phone locks under privacy.
It may also be a good idea to enable incognito keyboard which will ask your keyboard to remove personalization while typing.</p><p><img src="https://www.justingarrison.com/img/signal-privacy.png" alt=""></p><p>You can turn off read receipts, typing indicators, and automatic link previews under the communication settings.
Link previews only work on <a href="https://support.signal.org/hc/en-us/articles/360022474332-Link-Previews">sites that use <code>https://</code></a></p><p><img src="https://www.justingarrison.com/img/signal-communication-settings.png" alt=""></p><h3 id="chats-and-media">Chats and media</h3><p>In chats you can change when to auto-download files.
Some of these can be quite large so it may be a good idea to only automatically download on Wi-Fi.</p><p><img src="https://www.justingarrison.com/img/signal-media-download.png" alt=""></p><p>At the very bottom of Chats and media is a <a href="https://support.signal.org/hc/en-us/articles/360007059752-Backup-and-Restore-Messages">message backup option</a>.
The backup is encrypted and stored locally on your phone.
If you’re using a backup service for your phone they will also be backed up to the cloud which you may or may not want (even if it’s encrypted).</p><p><img src="https://www.justingarrison.com/img/signal-chat-backups.png" alt=""></p><h3 id="linked-devices">Linked devices</h3><p>You can use Signal from another device including tablets and laptops.
Install the Signal app on the other device and it will show a QR code.
Open the linked devices setting and click the + button at the bottom.
Scan the QR code and you’re all set.</p><p>If you tap on an existing linked device you have the option to remove it from being able to send or receive messages.
Be aware that any existing messages on the device may still be available and cached on the device.
This setting is not a “secure wipe.”</p><h2 id="chats-and-calls">Chats and calls</h2><p>Signal chats work similarly to traditional SMS messaging apps.
You can send text, emoji, and stickers, or attach pictures, gifs (searched from giphy), files, contacts, or locations.
You can record voice messages by holding the microphone.</p><p><img src="https://www.justingarrison.com/img/signal-message-attach.png" alt=""></p><p>You can also make audio or video calls when you select a contact and click the icons in the top banner.
All calls are encrypted and can optionally go through a relay server so you do not expose your IP address to the recipient.
You can enable the relay server in settings -&gt; privacy -&gt; communication.</p><p>A relay is a server that Signal controls that your call will go through.
Similar to a VPN in the way it would expose the server IP to the recipient without exposing your IP.
If you’re interested in the Signal server architecture you can check out <a href="https://sorincocorada.ro/signal-messanger-architecture/">this post</a>.</p><p><img src="https://www.justingarrison.com/img/signal-relay-calls.png" alt=""></p><p>A single hallow check box next to a message you sent means your message was sent.
Two check marks means the message was delivered.
Once the recipient reads the message the check marks will fill in.</p><p><img src="https://www.justingarrison.com/img/signal-double-checks-hallow.png" alt="">
<img src="https://www.justingarrison.com/img/signal-doublechecks-filled.png" alt=""></p><p>If you see a little person icon next to the person’s name in chat it means that person is in your contacts.
If you want their name to automatically be filled out you can go into your phone’s contacts and add the number to a contact.</p><p><img src="https://www.justingarrison.com/img/signal-contact.png" alt=""></p><p>If you open a chat you can look in settings and enable disappearing messages.
This is super helpful to prevent messages persisting.</p><p><img src="https://www.justingarrison.com/img/signal-disappearing.png" alt=""></p><p>You can—and should—verify a contact to make sure you’re really talking to them.
This verifies the encryption keys used at both ends of the conversation.
You can do that manually or automatically by scanning their QR code.</p><p>Ideally you will do this verification out-of-band from Signal either in person or through some other video/image sharing service.
Facetime, zoom, etc. are great options if you can’t meet in person.</p><p>Once you verify a contact you’ll see “Verified” text under their name.
If you manually mark the contact as verified it will show a message in the chat that you marked them verified.</p><h3 id="group-messages">Group messages</h3><p>You can create a group message from the main screen clicking the pencil and then “New group.”</p><p><img src="https://www.justingarrison.com/img/signal-new-group.png" alt=""></p><p>Add contacts to the group and you’re ready to go.</p><p>You have similar settings to 1:1 chats.
You can have a group video call with up to 8 people and a group chat with up to 150 people—RIP notifications!
If you want to have a group call without video you need to start a video call and disable your camera before you join.</p><p>You can change who can invite people to the group or make a group link easier for someone to share if they’re not in your contacts.</p><p>The links are public but an admin needs to approve members joining the group by default.</p><p><img src="https://www.justingarrison.com/img/signal-group-link.png" alt=""></p><p>Group video calls work the same way as 1:1 calls but groups don’t have audio only calls—although you can disable your video in a video call.</p><h2 id="other-things-to-consider">Other things to consider</h2><p>If you want to use signal without giving out your real phone number you can use a service like twilio that will provide you a forwarding number.</p><p>Check out <a href="https://mshelton.medium.com/using-signal-without-giving-your-phone-number-3a575580f652">this great guide</a> on how to set it up.</p><h3 id="your-safety-number-has-changed">Your safety number has changed</h3><p>If you see this seemingly scary message don’t be alarmed.
It likely just means the <a href="https://support.signal.org/hc/en-us/articles/360007060632-What-is-a-safety-number-and-why-do-I-see-that-it-changed-">person on the other end of the conversation</a> got a new phone or re-installed Signal.</p><p><img src="https://www.justingarrison.com/img/signal-safety-number.png" alt=""></p><p>You can still verify the persons safety number to make sure there is no man-in-the-middle attacks.
This is distinctly different than how iMessage and Telegram work because in both of those apps they store your private key.</p><h3 id="pins">Pins</h3><p>Pins are important because they will enable Signal to get rid of phone number requirements.</p><p>The <a href="https://support.signal.org/hc/en-us/articles/360007059792-Signal-PIN">support page</a> says it best</p><blockquote><p>Your Signal PIN is a code used to support features like non-phone number based identifiers. This means that your PIN can recover your profile, settings, contacts, and who you’ve blocked if you ever lose or switch devices. A PIN can also serve as an optional registration lock to prevent others from registering your number on your behalf.</p></blockquote><p>It hasn’t rolled out yet but has been in the works for a while.</p><p>If you want to stay up to date on signal news I highly recommend you follow the <a href="https://signal.org/blog/">Signal blog</a>.
They have lots of great technical and non-technical information on new features and news.</p></article></div>]]>
            </description>
            <link>https://www.justingarrison.com/blog/2021-01-11-getting-started-with-signal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732956</guid>
            <pubDate>Mon, 11 Jan 2021 18:02:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[XTerm: It's Better Than You Thought]]>
            </title>
            <description>
<![CDATA[
Score 142 | Comments 113 (<a href="https://news.ycombinator.com/item?id=25732862">thread link</a>) | @zdw
<br/>
January 11, 2021 | https://aduros.com/blog/xterm-its-better-than-you-thought/ | <a href="https://web.archive.org/web/*/https://aduros.com/blog/xterm-its-better-than-you-thought/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="js-article">
    <p>(Day 10 of <a href="https://aduros.com/blog/30-days-of-blogging">30 Days of Blogging</a>)</p>
<p>A couple months back I switched my terminal from xfce4-terminal to the venerable xterm. For some
reason I always put xterm in the same bucket as xclock, xmessage, or any other prehistoric command
starting with X that comes pre-installed on any graphical Linux distribution.</p>
<p>It was surprising to learn that xterm is still very much <a href="https://invisible-island.net/xterm/xterm.log.html">actively
developed</a>. Even more surprisingly, it turns out
xterm has <a href="https://lwn.net/Articles/751763/">incredibly low input latency</a> compared to modern
terminals. This is easy to test at home, try typing in xterm compared to any other terminal and feel
how much snappier it is.</p>
<p>The lower latency alone is worth the price of admission in my opinion, so I went about configuring
xterm as my default terminal. The configuration goes in <code>~/.Xresources</code> and you need to run <code>xrdb ~/.Xresources</code> after every change, or <a href="https://github.com/aduros/dotfiles/blob/eab476fc62e74e46cb41bb5c094cede7a28a014f/home/.config/nvim/options.vim#L27">make vim do
it</a>.</p>
<h2 id="basic-configuration">Basic Configuration</h2>
<p>Here are some “modern” sensible defaults I ended up landing on:</p>
<div><pre><code data-lang="text">! Sensible defaults
XTerm.vt100.locale: false
XTerm.vt100.utf8: true
XTerm.vt100.scrollTtyOutput: false
XTerm.vt100.scrollKey: true
XTerm.vt100.bellIsUrgent: true
XTerm.vt100.metaSendsEscape: true
</code></pre></div><p>And here are some visual styling options, not including colors:</p>
<div><pre><code data-lang="text">! Styling
XTerm.vt100.faceName: DejaVu Sans Mono
XTerm.vt100.boldMode: false
XTerm.vt100.faceSize: 11
XTerm.vt100.internalBorder: 16
XTerm.borderWidth: 0
</code></pre></div><p>XTerm supports key binding, but the syntax is non-obvious:</p>
<div><pre><code data-lang="text">XTerm.vt100.translations: #override \n\
    Ctrl Shift &lt;Key&gt;N: scroll-back(1, halfpage) \n\
    Ctrl Shift &lt;Key&gt;T: scroll-forw(1, halfpage) \n\
    Ctrl Shift &lt;Key&gt;C: copy-selection(CLIPBOARD) \n\
    Ctrl Shift &lt;Key&gt;V: insert-selection(CLIPBOARD)
</code></pre></div><p>This allows copying and pasting to the clipboard (not just the X selection) with shift-ctrl-C and V.
It also allows scrolling up and down with shift-ctrl-N and T (you can switch this to K and J to
match vim keys in Qwerty).</p>
<h2 id="url-handling">URL Handling</h2>
<p>So now we have a pretty usable setup, but there’s one more incredibly useful feature that was hard
to figure out: opening URLs in the browser. We could of course select the URL and copy-paste, but
there’s a better way.</p>
<p>XTerm has a configuration option called <code>printerCommand</code> which is a command that is piped all the
text currently visible in the terminal. As the name suggests, it’s meant to be used to implement
printing to physical paper, but we can save the trees and hijack it to instead scan the screen for
URLs and open the browser:</p>
<div><pre><code data-lang="sh"><span>#!/bin/sh -e
</span><span></span>
grep -Eo <span>'\bhttps?://\S+\b'</span> |
    uniq |
    ifne rofi -dmenu -i -p <span>"Open URL"</span> -auto-select |
    xargs xdg-open
</code></pre></div><p>This greps for URLs, removes consecutive duplicates with <code>uniq</code>, and displays a
<a href="https://github.com/davatorium/rofi">rofi</a> menu to choose between them if there were multiple URLs.
<code>ifne</code> is included in <a href="https://packages.debian.org/unstable/utils/moreutils">moreutils</a>. Put this
script in an executable file called <code>select-url</code> in your <code>$PATH</code> and then add this to <code>.Xresources</code>:</p>
<div><pre><code data-lang="text">XTerm.vt100.printerCommand: select-url

XTerm.vt100.translations: #override \n\
    ...
    Ctrl Shift &lt;Key&gt;W: print(noAttrs, noNewLine)
</code></pre></div><p>Now when you press shift-ctrl-W, any URL shown in the terminal will open in the browser. You don’t
have to select anything or use your mouse at all, nice!</p>
<p>Someday it would be great to improve <code>select-url</code> to also scan for email addresses. Maybe during the
next pandemic…</p>
<h2 id="peeking-at-the-alternate-screen">Peeking at the Alternate Screen</h2>
<p>Sometimes you open a fullscreen application like vim or a man page and you need to refer back to
some text on the shell. Use this keybind to toggle back and forth:</p>
<div><pre><code data-lang="text">XTerm.vt100.translations: #override \n\
    ...
    Ctrl Shift &lt;Key&gt;H: set-altscreen(toggle)
</code></pre></div><p>You can even use it view a previously opened vim or man page after you close out of it!</p>
<h2 id="opening-new-terminals-at-the-current-directory">Opening New Terminals at the Current Directory</h2>
<p>There’s a keybind action called <code>spawn-new-terminal()</code> that can be used for this, but even better is
using <a href="https://github.com/schischi/xcwd">xcwd</a> to get the working directory of any currently focused
window. Then you can put this in your i3 config for example:</p>
<div><pre><code data-lang="text">bindsym $mod+Return exec --no-startup-id cd "`xcwd`" &amp;&amp; xterm
</code></pre></div><h2 id="wish-list">Wish List</h2>
<p>XTerm is missing a few small features:</p>
<ul>
<li>Text reflow when the terminal is resized.</li>
<li>Fallback fonts don’t seem to always work. Maybe I’m missing a config option?</li>
<li>Transparency not natively supported. I don’t care about transparency but maybe it’s important to
some people.</li>
<li>Occasionally strange flickering with <a href="https://github.com/ibhagwan/picom">picom</a>, possibly a bug
with picom?</li>
</ul>
<p>In the end this wasn’t enough to stop me from using xterm, but the lack of text reflow still irks me
from time to time. Overall, I’ve been pleasantly surprised with xterm after taking the time to
configure it.</p>

  </section></div>]]>
            </description>
            <link>https://aduros.com/blog/xterm-its-better-than-you-thought/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732862</guid>
            <pubDate>Mon, 11 Jan 2021 17:57:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Empire Is Not Done with Julian Assange]]>
            </title>
            <description>
<![CDATA[
Score 25 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25732732">thread link</a>) | @mikesabbagh
<br/>
January 11, 2021 | https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/ | <a href="https://web.archive.org/web/*/https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
		As is clear from the memoir of one of his attorneys, Michael Ratner, the ends have always justified the means for those demanding his global persecution.	</p><div>
		
<figure><img data-attachment-id="6507" data-permalink="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/free-the-press/" data-orig-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=2560%2C1924&amp;ssl=1" data-orig-size="2560,1924" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;Perfection 1240&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="Free the Press" data-image-description="" data-medium-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?fit=780%2C587&amp;ssl=1" loading="lazy" width="780" height="587" src="https://i2.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press.jpg?resize=780%2C587&amp;is-pending-load=1#038;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1024%2C770&amp;ssl=1 1024w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=768%2C577&amp;ssl=1 768w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1536%2C1154&amp;ssl=1 1536w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=2048%2C1539&amp;ssl=1 2048w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=400%2C300&amp;ssl=1 400w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=200%2C150&amp;ssl=1 200w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?resize=1200%2C902&amp;ssl=1 1200w, https://i0.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press-scaled.jpg?w=2340&amp;ssl=1 2340w" data-lazy-sizes="(max-width: 780px) 100vw, 780px" data-lazy-src="https://i2.wp.com/scheerpost.com/wp-content/uploads/2021/01/Free-the-Press.jpg?resize=780%2C587&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Original illustration for ScheerPost  by Mr. Fish </figcaption></figure>



<hr>



<p><strong>By Chris Hedges </strong>/ Original to ScheerPost</p>



<p>Shortly after WikiLeaks released <a href="https://wikileaks.org/irq/">the Iraq War Logs</a> in October 2010, which documented numerous US war crimes — including video images of the gunning down of two Reuters journalists and 10 other unarmed civilians in <a href="https://collateralmurder.wikileaks.org/">the Collateral Murder video</a>, the routine torture of Iraqi prisoners, the covering up of thousands of civilian deaths and the killing of nearly 700 civilians that had approached too closely to US checkpoints — the towering civil rights attorneys Michael Ratner and Len Weinglass, who had defended Daniel Ellsberg in the <a rel="noreferrer noopener" href="https://www.archives.gov/research/pentagon-papers" target="_blank">Pentagon Papers</a> case, met Julian Assange in a studio apartment in Central London, according to <a href="https://www.orbooks.com/catalog/moving-the-bar/">Ratner’s newly released memoir “Moving the Bar”</a>.</p>



<p>Assange had just returned to London from Sweden where he had attempted to create the legal framework to protect WikiLeaks’ servers in Sweden.&nbsp; Shortly after his arrival in Stockholm, his personal bank cards were blocked.&nbsp; He had no access to funds and was dependent on supporters.&nbsp; Two of these supporters were women with whom he had consensual sex.&nbsp; As he was preparing to leave, the Swedish media announced that he was wanted for questioning about allegations of rape. The women, who never accused Assange of rape, wanted him to take an STD test.&nbsp; They had approached the police about compelling him to comply. “I did not want to put any charges on Julian Assange,” texted one of them on August 20 while she was still at the police station, but “the police were keen on getting their hands on him.” She said she felt “railroaded by the police.” Within 24 hours the chief prosecutor of Stockholm took over the preliminary investigation.&nbsp; He dropped the rape accusation, stating “I don’t believe there is any reason to suspect that he has committed rape.” Assange, although not charged with a crime, cancelled his departure and remained in Sweden for another five weeks to cooperate with the investigation.&nbsp; A special prosecutor, Marianne Ny, was appointed to investigate allegations of sexual misconduct.&nbsp; Assange was granted permission to leave the country.&nbsp; He flew to Berlin.&nbsp; When Assange arrived in Berlin three encrypted laptops with documents detailing US war crimes had disappeared from his luggage.</p>



<p>&nbsp;“We consider the Swedish allegations a distraction,” Ratner told Assange, according to his memoir. “We’ve read the police reports, and we believe the authorities don’t have a case. We’re here because in our view you are in much more jeopardy in the US Len [Weinglass] can explain why.”</p>



<p>Assange, Ratner recalled, remained silent.</p>



<p> “WikiLeaks and you personally are facing a battle that is both legal and political,” Weinglass told Assange. “As we learned in the Pentagon Papers case, the US government doesn’t like the truth coming out. And it doesn’t like to be humiliated. No matter if it’s Nixon or Bush or Obama, Republican or Democrat in the White House. The US government will try to stop you from publishing its ugly secrets. And if they have to destroy you and the First Amendment and the rights of publishers with you, they are willing to do it. We believe they are going to come after WikiLeaks and you, Julian, as the publisher.”</p>



<p>“Come after me for what?” asked Julian.</p>



<p>“Espionage,” Weinglass continued, according to the memoir. “They’re going to charge Bradley Manning with treason under the Espionage Act of 1917. We don’t think it applies to him because he’s a whistleblower, not a spy. And we don’t think it applies to you either because you are a publisher. But they are going to try to force Manning into implicating you as his collaborator. That’s why it’s crucial that WikiLeaks and you personally have an American criminal lawyer to represent you.”</p>



<p>Ratner and Weinglass laid out potential scenarios.</p>



<p>“The way it could happen,” Ratner said, “is that the Justice Department could convene a secret grand jury to investigate possible charges against you. It would probably be in northern Virginia, where everyone on the jury would be a current or retired CIA employee or have worked for some other part of the military-industrial complex. They would be hostile to anyone like you who’d published US government secrets. The grand jury could come up with a sealed indictment, issue a warrant for your arrest, and request extradition.”</p>



<p>“What happens if they extradite me?” asked Julian.</p>



<p>“They fly you to where the indictment is issued,” Weinglass told Assange. “Then they put you into some hellhole in solitary, and you get treated like Bradley Manning. They put you under what they call special administrative measures, which means you probably would not be allowed communication with anyone. Maybe your lawyer could go in and talk to you, but the lawyer couldn’t say anything to the press.”</p>



<p> “And it’s very, very unlikely that they would give you bail,” Ratner added.</p>



<p>“Is it easier to extradite from the UK or from Sweden?” asked Sarah Harrison, who was at the meeting.</p>



<p> “We don’t know the answer to that,” Ratner replied. “My guess is that you would probably have the most support and the best legal team in a bigger country like the UK In a smaller country like Sweden, the US can use its power to pressure the government, so it would be easier to extradite you from there. But we need to consult with a lawyer who specializes in extradition.”</p>



<p>&nbsp;Assange’s British lawyer, also at the meeting, proposed that Assange return to Sweden for further questioning.</p>



<p>“I don’t think that’s wise,” Weinglass said, “unless the Swedish government guarantees that Julian will not be extradited to another country because of his publishing work.”</p>



<p>“The problem is that Sweden doesn’t have bail,” Ratner explained. “If they put you in jail in Stockholm and the US pressures the government to extradite you, Sweden might send you immediately to the US and you’d never see the light of day again. It’s far less risky to ask the Swedish prosecutor to question you in London.”</p>



<figure><img data-attachment-id="6508" data-permalink="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/moving-the-bar_social-cards2/" data-orig-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=1313%2C1313&amp;ssl=1" data-orig-size="1313,1313" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Moving-the-Bar_Social-cards2" data-image-description="" data-medium-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=300%2C300&amp;ssl=1" data-large-file="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?fit=780%2C780&amp;ssl=1" loading="lazy" width="780" height="780" src="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=780%2C780&amp;is-pending-load=1#038;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=768%2C768&amp;ssl=1 768w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=1200%2C1200&amp;ssl=1 1200w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=800%2C800&amp;ssl=1 800w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=400%2C400&amp;ssl=1 400w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=200%2C200&amp;ssl=1 200w, https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?w=1313&amp;ssl=1 1313w" data-lazy-sizes="(max-width: 780px) 100vw, 780px" data-lazy-src="https://i1.wp.com/scheerpost.com/wp-content/uploads/2021/01/Moving-the-Bar_Social-cards2.jpg?resize=780%2C780&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>Book cover illustration for Ratner’s memoir.  To order, <a href="https://www.orbooks.com/catalog/moving-the-bar/">click here</a>. </figcaption></figure>



<hr>



<p>The US government’s determination to extradite Assange and imprison him for life, despite the fact that Assange is not a US citizen and WikiLeaks is not a US based publication, Ratner understood from the start, will be unwavering and relentless.&nbsp;</p>



<p>In the 132-page <a rel="noreferrer noopener" href="https://www.judiciary.uk/wp-content/uploads/2021/01/USA-v-Assange-judgment-040121.pdf" target="_blank">ruling</a> (pdf) issued today in London by Judge Vanessa Baraitser of the Westminster Magistrates’ Court the court refused to grant an extradition request only because of the barbarity of the conditions under which Assange would be held while imprisoned in the US.</p>



<p>“Faced with the conditions of near total isolation without the protective factors which limited his risk at [Her Majesty’s Prison] Belmarsh, I am satisfied the procedures described by the US will not prevent Mr. Assange from finding a way to commit suicide,” said Baraitser, “and for this reason I have decided extradition would be oppressive by reason of mental harm and I order his discharge.”</p>



<p>Assange is charged with violating 17 counts of the Espionage Act, along with an attempt to hack into a government computer.&nbsp; Each of the 17 counts carries a potential sentence of 10 years. The additional charge that Assange conspired to hack into a government computer has a maximum sentence of five years. The judge ominously accepted all of the charges leveled by US prosecutors against Assange — that he violated the Espionage Act by releasing classified information and was complicit in assisting his source, Chelsea Manning, in the hacking of a government computer. It is a very, very dangerous ruling for the media. And if, on appeal, and the US has already said it would appeal, the higher court is assured that Assange will be held in humane conditions, it paves the way for his extradition.</p>



<p>The publication of classified documents is not yet a crime in the United States. If Assange is extradited and convicted, it will become one. The extradition of Assange would mean the end of journalistic investigations into the inner workings of power. It would cement into place a terrifying global, corporate tyranny under which borders, nationality and law mean nothing. Once such a legal precedent is set, any publication that publishes classified material, from The New York Times to an alternative website, will be prosecuted and silenced.</p>



<p>Assange has done more than any contemporary journalist or publisher to expose the inner workings of empire and the lies and crimes of the US ruling elite.&nbsp; The deep animus towards Assange, as fierce within the Democratic Party as the Republican Party, and the cowardice of the media and watchdog groups such as PEN to defend him, mean that all he has left are courageous attorneys, such as Ratner, activists, who protested outside the court, and those few voices of conscience willing to become pariahs in his defense. </p>



<p>Ratner’s memoir, which is a profile in courage of the many dissidents, including Assange, he valiantly defended, is also a profile of courage of one of the greatest civil rights attorneys of our era. There are few people I respect more than Michael Ratner, who I accompanied to visit Assange when he was trapped in the Ecuadorian Embassy in London. His memoir is not only about his lifelong fight against racial injustice, a rising corporate totalitarianism, and the crimes of empire, but is a sterling example of what it means to live the moral life.</p>



<p>Assange earned the eternal enmity of the Democratic Party establishment by publishing 70,000 hacked emails belonging to the Democratic National Committee and senior Democratic officials. The emails were copied from the accounts of John Podesta, Hillary Clinton’s campaign chairman. The Podesta emails exposed the donation of millions of dollars to the Clinton Foundation by Saudi Arabia …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/">https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/</a></em></p>]]>
            </description>
            <link>https://scheerpost.com/2021/01/04/chris-hedges-the-empire-is-not-done-with-julian-assange/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732732</guid>
            <pubDate>Mon, 11 Jan 2021 17:50:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[China CCP to Nationalize Jack Ma's Alibaba and Ant Group – Report]]>
            </title>
            <description>
<![CDATA[
Score 466 | Comments 339 (<a href="https://news.ycombinator.com/item?id=25732676">thread link</a>) | @masonhensley
<br/>
January 11, 2021 | https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444 | <a href="https://web.archive.org/web/*/https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure itemprop="associatedMedia video" itemscope="" itemtype="https://schema.org/VideoObject" data-v="3995"><div></div><p>
<figcaption>
<span>China sets path for President Xi to remain in power indefinitely</span>				</figcaption></p><meta itemprop="name" content="China sets path for President Xi to remain in power indefinitely"><meta itemprop="duration" content="T0M32S"><meta itemprop="thumbnailUrl" content="https://data.ibtimes.sg/en/full/21247/china-sets-path-president-xi-remain-power-indefinitely.jpg"><meta itemprop="contentURL" content="https://video.ibtimes.co.in/transcoder/480p/163/jingping2502.mp4"><meta itemprop="embedURL" content="https://www.ibtimes.sg/videos/embed/3995"><meta itemprop="uploadDate" content="2018-02-26T00:19:32+08:00"><meta itemprop="description" content="Chinas ruling Communist Party have proposed removing a clause in its constitution which limits presidencies to two five-year terms. The move would allow President Xi Jinping to remain as leader indefinitely.&nbsp;"><meta itemprop="height" content="414"><meta itemprop="width" content="736">  </figure>
<figure itemscope="" itemprop="image" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://data.ibtimes.sg/en/full/21247/china-sets-path-president-xi-remain-power-indefinitely.jpg"><meta itemprop="width" content="1280"><meta itemprop="height" content="720">
</figure></div><div itemprop="articleBody" id="v_main"><p>Reports from China indicate that the Chinese government may be working on a plan to nationalize Jack Ma's Alibaba and the Ant Group. China's ruling Chinese Communist Party (CCP) has gone further ahead with the antitrust investigation into e-commerce giant Alibaba.</p><p>"Based on tip-offs received by the State Administration for Market Regulation in recent days, the administration will be investigating Alibaba ... for suspected monopolistic activities," the government said.</p><p><strong><a href="https://www.ibtimes.sg/malaysias-mahathir-named-worlds-most-dangerous-extremists-list-alongside-isis-caliph-54749" target="_blank">ALSO READ: Malaysia's Mahathir Named in 'World's Most Dangerous Extremists' List Alongside ISIS Caliph</a></strong></p><p>The investigating agencies had set up an office at the Alibaba headquarters in November. Apart from the e-commerce giant, investigators are also probing social media giant Tencent and e-commerce company Meituan.</p><p>The news of the government's plan to enforce more curbs on Alibaba sent its stock spiraling down as much as 8 percent. Alibaba said in a statement it would cooperate with any investigation. "Today, Ant Group received a meeting notice from regulators," Alibaba said in a statement.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i489" src="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg?w=736" alt="China's Alibaba secures $3 billion loan to finance acquisition spree" title="China's Alibaba secures $3 billion loan to finance acquisition spree" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/489/chinas-alibaba-secures-3-billion-loan-to-finance-acquisition-spree.jpg"><meta itemprop="width" content="1200"><meta itemprop="height" content="795">
<figcaption>
<span itemprop="caption">A logo of Alibaba Group is pictured at its headquarters in Hangzhou, Zhejiang province, China, October 14, 2015.</span>
<span itemprop="copyrightHolder">Reuters</span>
</figcaption></div>
</figure><h3>Decision Taken at Highest Levels of CCP</h3><p>Meanwhile, sources have said the development is a proof of China's resolve to nationalize Alibaba. Song Qing, Internet finance industry insider, said the investigation is part of CCP plans to nationalize both Ant Group and Alibaba. "There will definitely be an outcome, now that they have started the investigation ... This is probably coming from the highest levels," he told Radio Free Asia.</p><p>The suggestions are that the plan to nationalize Alibaba has come from the very top of the ruling Communist Party structure. A few days ago, the People's Daily, the official mouthpiece of the CCP, said the government's "anti-monopoly work" will lead to "better development." The paper said the party Politburo thought 'anti-monopoly work' should be strengthened to prevent the disorderly expansion of capital.</p><p>Song Qing agrees with the view. "Just a couple of weeks ago, they set out plans to nationalize Ant Group and Alibaba; the timing was deliberate ... Those plans all came from the central leadership," he said.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i20672" src="https://data.ibtimes.sg/en/full/20672/alibaba.jpg?w=736" alt="Alibaba" title="Alibaba" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/20672/alibaba.jpg"><meta itemprop="width" content="1600"><meta itemprop="height" content="1066">
<figcaption>
<span itemprop="caption">Alibaba Group founder and executive chairman Jack Ma.</span>
<span itemprop="copyrightHolder">IANS</span>
</figcaption></div>
</figure><p>He also added that the government wants to make a lesson out of Alibaba. "These nationalizations are definitely happening, and [the antitrust investigation] will likely speed up that process ... It's also, I think, about making an example of [Ant and Alibaba]," <a href="https://www.rfa.org/english/news/china/alibaba-probe-12252020170303.html" rel="nofollow" target="_blank">he said</a>.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i14121" src="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg?w=736" alt="Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo" title="Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/14121/visitors-use-their-smartphones-underneath-the-logo-of-tencent-at-the-global-mobile-internet-conference-in-beijing-may-6-2014-reuters-kim-kyung-hoon-file-photo.jpg"><meta itemprop="width" content="1200"><meta itemprop="height" content="666">
<figcaption>
<span itemprop="caption">Visitors use their smartphones underneath the logo of Tencent at the Global Mobile Internet Conference in Beijing May 6, 2014. REUTERS/Kim Kyung-Hoon/File Photo</span>
<span itemprop="copyrightHolder">Reuters</span>
</figcaption></div>
</figure><p>As the antitrust probe progresses, the People's Bank of China, the China Banking Regulatory Commission, the China Securities Regulatory Commission and the State Administration of Foreign Exchange will also get involved in the investigation against Alibaba.</p><p>Xi Jinping, Chinese President and CCP general secretary, had said in October that the plan was to make China a more state-controlled economy based on domestic demand. Observers think China's political economy is poised to see major changes. Many believe that Xi will change the pattern of property ownership in the country.</p></div></div>]]>
            </description>
            <link>https://www.ibtimes.sg/china-ccp-nationalize-jack-mas-alibaba-ant-group-54444</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732676</guid>
            <pubDate>Mon, 11 Jan 2021 17:47:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Design decisions I do not regret]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25732492">thread link</a>) | @azhenley
<br/>
January 11, 2021 | https://futhark-lang.org/blog/2021-01-11-no-regrets.html | <a href="https://web.archive.org/web/*/https://futhark-lang.org/blog/2021-01-11-no-regrets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
      

<p>
    Posted on January 11, 2021
    
        by Troels Henriksen
    
</p>

<p>I have written several posts on <a href="https://futhark-lang.org/blog/2019-12-18-design-flaws-in-futhark.html">things that we got wrong in Futhark</a>, <a href="https://futhark-lang.org/blog/2018-12-08-why-futhark-sometimes-goes-wrong.html">why the compiler goes wrong</a>, as well as posts about <a href="https://futhark-lang.org/blog/2020-03-15-futhark-0.15.1-released.html#size-types">complicated features</a> where it is still unclear whether the feature works well enough. However, there are also some parts of Futhark’s design that I feel pretty good about! This post will discuss some of them. I will focus on very concrete details, rather than grand observations such as “bulk-parallel functional programming is a good paradigm for numerical programming”. Such doctrinal statements are more of an entire <em>thesis</em>, and require much richer and more qualified answers than just “this turned out pretty well”. Everything to follow is what I don’t <em>regret</em>, so it is necessarily subjective, but maybe other language designers will find it useful or amusing.</p>
<h2 id="short-names"><a href="#short-names" id="short-names-link" title="short-names">Short names</a></h2>
<p>Naming things is one of the two most difficult problems in computer science, and in contrast to the other two (cache invalidation and off-by-one errors), there is no tooling or theory to tell you when you pick a bad name. Matters are even graver when it comes to names that are part of public interfaces. You may well receive acclaim for fixing a subtle cache invalidation bug in old and widely used code, but do not expect similar praise if you also change the naming convention of the public API from underscores to CamelCasing along the way.</p>
<p>Futhark exposes many names, both in its command line interface and its <a href="https://futhark-lang.org/docs/prelude/">built-in libraries</a>. Many of the names have been changed over the years. When we initially fleshed out the primitive type system, I agonised over how to name the new types. Should 32-bit signed integers be <code>Int32</code> as in Haskell, or <code>i32</code> as in Rust? I worried the latter was <em>too short</em>. Yet in the end, that was the scheme we went with: <code>i8</code>/<code>i16</code>/<code>i32</code>/<code>i64</code> for the signed types, <code>u8</code>/<code>u16</code>/<code>u32</code>/<code>u64</code> for the unsigned, and <code>f32</code>/<code>f64</code> for floats.</p>
<p>Incidentally, here is a piece of advice: if you are ever agonising over some design detail that is not core to what makes your language special, and all options seem equally reasonable, just go with whatever Rust does. Odds are that whatever Rust decided was preceded by significant debate, and that whatever they picked has few gotchas. Lexical syntax is one area where this is particularly good (and easy) advice to follow.</p>
<p>But back to naming things. The terse type names turned out to work fine. In fact, I realised that <em>I have never regretted making a name too short</em>. The names I still regret tend to be those that are too imprecise or <em>too long</em> - the <code>negate</code> function in the <code>f32</code> and <code>f64</code> modules should have been <code>neg</code>, for example. I am not quite sure why this is. When I code in Haskell, I have a preference for relatively verbose names for top-level definitions. In Futhark, short names just seem to fit better with the language aesthetics. Maybe that is just the nature of numerical code? I don’t know. But I definitely rely on this observation to guide future naming of things.</p>
<h2 id="file-orientation"><a href="#file-orientation" id="file-orientation-link" title="file-orientation">File orientation</a></h2>
<p>While Futhark is not designed for large programs, we still want to support multi-file programs. Code in a file <code>A</code> must be allowed to reference definitions in some other file <code>B</code>. Languages differ significantly in how they go about this. Futhark went for a particularly simple model: the declaration <code>import "foo"</code> allows access to the definitions in the file <code>foo.fut</code>, looked up relative to the importing file. That is all there is to it. If you know how a hierarchical file system works, then you know how Futhark looks up files. This is not textual inclusion as in C - each file still has to be syntactically valid on its own. We are not barbarians.</p>
<p><a href="https://futhark-lang.org/blog/2018-06-18-designing-a-programming-language-for-the-desert.html">The philosophical background is spelled out here</a>, but the basic rationale is that <em>nobody enjoys learning about language import mechanics</em>, and in Futhark we can get away with doing something stupidly simple. Other languages, like Haskell and Java, put more effort into decoupling the notion of a “module” or “compilation unit” from that of a physical file. Even languages that reason in terms of files usually also provide support for a “search path”, where you provide the compiler with additional directories that are searched when including files.</p>
<p>The downside of this approach is that for larger programs with multiple directories of source files, a file has no unique way to be referenced (except for its absolute pathname, which is not practical), so you may need to use different relative paths in different files (e.g. <code>"../lib/foo"</code> and <code>"../../lib/foo"</code>). Another downside is that you cannot have a central repository of “system files” that are always checked (like <code>/usr/include</code> in Unix).</p>
<p>A <em>major</em> advantage of the design is that each file in a program can be processed as the “root”, without having to look for some kind of project definition file that contains necessary compiler directives such as include paths. This has allowed very lightweight zero-config tooling, such as a “go to definition” command in <a href="https://github.com/diku-dk/futhark-mode">futhark-mode</a> and showing the types of variables - something that most Emacs modes definitely do not have without additional configuration.</p>
<p>Clearly this solution wouldn’t work for all languages, but it has worked really well for Futhark. I was initially worried because this design is much more similar to <em>bad</em> languages (like shell script) than to <em>good</em> languages (like Haskell), but it hasn’t caused problems yet, and I don’t recall any Futhark programmers ever being confused about how <code>import</code> works. This is the right design for Futhark, and I don’t expect to regret it any time soon.</p>

<p><a href="https://futhark-lang.org/blog/2017-10-10-block-comments-are-a-bad-idea.html">These remain a bad idea</a>. Emacs has <code>M-x comment-region</code> and inferior editors likely have something similar. No regrets. In fact, my experience writing more <a href="https://futhark-lang.org/blog/2019-08-31-beginning-a-collection-of-futhark-examples.html">semi-syntactic tooling</a> has only strengthened my conviction. Line comments are easy to parse in an ad-hoc way, and it is particularly nice that there is only one way of writing comments.</p>
<h2 id="explicit-binding"><a href="#explicit-binding" id="explicit-binding-link" title="explicit-binding">Explicit binding</a></h2>
<p>Suppose we have a record type:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>type</span> t = {foo: i32, bar: bool}</span></code></pre></div>
<p>In a function definition we can bind variables <code>a</code>, <code>b</code> to the field contents as follows:</p>
<div id="cb2"><pre><code><span id="cb2-1"><span>let</span> f ({foo=a, bar=b}: t) = ...</span></code></pre></div>
<p>And if we wish to bind variables with the same names as the fields, there is a shorthand syntax inspired by OCaml and Haskell:</p>
<div id="cb3"><pre><code><span id="cb3-1"><span>let</span> f ({foo, bar}: t) = ...</span></code></pre></div>
<p>These languages also support an even more concise form:</p>

<p>This implicitly binds variables with the same names as the record fields. Futhark does <em>not</em> support this. The reason is a philosophy of never bringing names into scope unless those names are actually syntactically present at the binding site in some form. There are many things I enjoy about programming, but guessing where some variable comes from is not among them. I find C++’s policy of implicitly bringing class fields into scope inside method bodies to be particularly confusing.</p>
<p>My distaste for complex binding structure goes further: Futhark requires that all definitions occur <em>before</em> their first use. Originally this was just for implementation simplicity, but I have come to enjoy the restriction. It’s nice not to worry so much about the best definition order, because the compiler already ruled out most options. OCaml and SML have similar restrictions, so this is not <em>just</em> Futhark aping some 70s Pascal dialect.</p>
<p>The one exception to this explicitness principle is the <code>open</code> statement, which brings names from another module into scope. While a plain <code>open</code> is rare, it is used implicitly by <code>import</code>. There are also <em>local open</em> expressions, which allow us to write e.g. <code>M.(x*y+z)</code> with the names in module <code>M</code> in scope within the parenthesised expression. This is <em>really</em> convenient when writing advanced modularised numerical code, as the alternative is the much more clumsy <code>x M.* y M.+ z</code>. I am not sure how to reconcile this with our general principle, but maybe you just can’t be a fundamentalist all the time.</p>
<h2 id="no-dependencies"><a href="#no-dependencies" id="no-dependencies-link" title="no-dependencies">No dependencies</a></h2>
<p>Futhark is written in Haskell, and all of its code dependencies are either pure Haskell libraries or embed small amounts of C code. This means that it is quite easy to build the Futhark compiler - all you need is a standard Haskell build tool like <code>stack</code> or <code>cabal</code>, which is supported and documented on most operating systems. I do not recall anyone having trouble installing the compiler itself. Difficulties tend to be more in the direction of setting up GPU drivers on Linux (yet another of the great unsolved problems in computer science).</p>
<p>This policy is not all upside. For many years, we lugged around a home-brewed implementation of algebraic simplification because we were averse to native code dependencies. We also generate C code (compiled with the system C compiler) rather than interacting directly with LLVM the way <a href="http://www.acceleratehs.org/">Accelerate</a> does it. This means that there are some things we cannot efficiently express in our generated code. On the other hand, Accelerate’s dependency on LLVM can make it tricky to install, unless your system happens to have the right version of LLVM installed (and HPC systems and servers running <em>mature</em> versions of Red Hat Enterprise Linux tend not to). <a href="https://ispc.github.io/">ISPC</a> provides compiler binaries that embed a statically linked version of LLVM - this <em>may</em> be a direction we could go in, but I suspect statically linking LLVM with a Haskell program is more tricky than linking it with C++. And frankly, I think I already spend too much time hacking on build systems and CI setups.</p>
<p>We have gone quite far with this focus on installation simplicity. For example, the <a href="https://futhark.readthedocs.io/en/latest/man/futhark-pkg.html">Futhark package manager</a> does not even use native code to download packages. Instead, it shells out to <code>curl</code>. This has allowed us to statically link the Futhark binary that we provide for releases, a well as not having to worry about certificate store configuration. If you can download with <code>curl</code> in the command line, then <code>futhark pkg</code> will work. And if your system requires you to configure a special proxy or whatnot, then whichever configuration files or environment variables that <code>curl</code> respects will also work for <code>futhark pkg</code>.</p>
<p>I was initially hesitant about this …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://futhark-lang.org/blog/2021-01-11-no-regrets.html">https://futhark-lang.org/blog/2021-01-11-no-regrets.html</a></em></p>]]>
            </description>
            <link>https://futhark-lang.org/blog/2021-01-11-no-regrets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25732492</guid>
            <pubDate>Mon, 11 Jan 2021 17:37:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simple Anomaly Detection Using Plain SQL]]>
            </title>
            <description>
<![CDATA[
Score 388 | Comments 27 (<a href="https://news.ycombinator.com/item?id=25731699">thread link</a>) | @harporoeder
<br/>
January 11, 2021 | https://hakibenita.com/sql-anomaly-detection | <a href="https://web.archive.org/web/*/https://hakibenita.com/sql-anomaly-detection">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>Many developers think that having a critical bug in their code is the worst thing that can happen. Well, there is something much worse than that: Having a critical bug in your code and <strong>not knowing about it!</strong></p>
<p>To make sure I get notified about critical bugs as soon as possible, I started looking for ways to find anomalies in my data. I quickly found that information about these subjects tend to get very complicated, and involve a lot of ad-hoc tools and dependencies.</p>
<p>I'm not a statistician and not a data scientist, I'm just a developer. Before I introduce dependencies into my system I make sure I really can't do without them. So, <strong>using some high school level statistics and a fair knowledge of SQL, I implemented a simple anomaly detection system <em>that works</em>.</strong></p>
<figure><img alt="Can you spot the anomaly?<br><small>Photo by <a href=&quot;https://unsplash.com/photos/KmKZV8pso-s&quot;>Ricardo Gomez Angel</a></small>" src="https://hakibenita.com/images/00-sql-anomaly-detection.png"><figcaption>Can you spot the anomaly?<br><small>Photo by <a href="https://unsplash.com/photos/KmKZV8pso-s">Ricardo Gomez Angel</a></small></figcaption>
</figure>
<details open="">
   <summary>Table of Contents</summary>

</details>
<hr>

<hr>
<h2 id="detecting-anomalies"><a href="#detecting-anomalies">Detecting Anomalies</a></h2>
<p>Anomaly in a data series is a significant deviation from some reasonable value. Looking at this series of numbers for example, which number stands out?</p>
<div><pre><span></span>2, 3, 5, 2, 3, 12, 5, 3, 4
</pre></div>


<p>The number that stands out in this series is 12.</p>
<figure><img alt="Scatter plot" src="https://hakibenita.com/images/00-sql-anomaly-detection-scatter-plot.png"><figcaption>Scatter plot</figcaption>
</figure>
<p>This is intuitive to a human, but computer programs don't have intuition...</p>
<p>To find the anomaly in the series we first need to define what a reasonable value is, and then define how far away from this value we consider a significant deviation. A good place to start looking for a reasonable value is the mean:</p>
<div><pre><span></span><span>SELECT</span> <span>avg</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>       avg</span>
<span>────────────────────</span>
<span>4.3333333333333333</span>
</pre></div>


<p>The mean is ~4.33.</p>
<p>Next, we need to define the deviation. Let's use <a href="https://en.wikipedia.org/wiki/Standard_deviation" rel="noopener">Standard Deviation</a>:</p>
<div><pre><span></span><span>SELECT</span> <span>stddev</span><span>(</span><span>n</span><span>)</span>
<span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>      stddev</span>
<span>────────────────────</span>
<span>3.0822070014844882</span>
</pre></div>


<p>Standard deviation is the square root of the <a href="https://en.wikipedia.org/wiki/Variance" rel="noopener">variance</a>, which is the average squared distance from the mean. In this case it's 3.08.</p>
<p>Now that we've defined a "reasonable" value and a deviation, we can define a <em>range</em> of acceptable values:</p>
<div><pre><span></span><span>SELECT</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
   <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
<span>FROM</span>
   <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span><span>;</span>

<span>    lower_bound    │     upper_bound</span>
<span>───────────────────┼────────────────────</span>
<span>1.2511263318488451 │ 7.4155403348178215</span>
</pre></div>


<p>The range we defined is one standard deviation from the mean. Any value outside this range is considered an anomaly:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>bounds</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>-</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>lower_bound</span><span>,</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>+</span> <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>AS</span> <span>upper_bound</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
   <span>n</span> <span>NOT</span> <span>BETWEEN</span> <span>lower_bound</span> <span>AND</span> <span>upper_bound</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>series</span><span>,</span>
   <span>bounds</span><span>;</span>

<span>n  │ is_anomaly</span>
<span>───┼────────────</span>
<span> 2 │ f</span>
<span> 3 │ f</span>
<span> 5 │ f</span>
<span> 2 │ f</span>
<span> 3 │ f</span>
<span><span>12 │ t</span>
</span><span> 5 │ f</span>
<span> 3 │ f</span>
<span> 4 │ f</span>
</pre></div>


<p>Using the query we found that the value 12 is outside the range of acceptable values, and identified it as an anomaly.</p>
<h3 id="understanding-z-score"><a href="#understanding-z-score">Understanding Z-Score</a></h3>
<p>Another way to represent a range of acceptable values is using a z-score. <a href="https://en.wikipedia.org/wiki/Standard_score" rel="noopener">z-score, or Standard Score</a>, is the number of standard deviations from the mean. In the previous section, our acceptable range was one standard deviation from the mean, or in other words, a z-score in the range ±1:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_mean</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>)</span>
<span>SELECT</span>
   <span>n</span><span>,</span>
<span>   <span>(</span><span>n</span> <span>-</span> <span>series_mean</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>as</span> <span>zscore</span>
</span><span>FROM</span>
   <span>series</span><span>,</span>
   <span>stats</span><span>;</span>

<span>n  │         zscore</span>
<span>───┼─────────────────────────</span>
<span> 2 │ -0.75703329861022517346</span>
<span> 3 │ -0.43259045634870009448</span>
<span> 5 │  0.21629522817435006346</span>
<span> 2 │ -0.75703329861022517346</span>
<span> 3 │ -0.43259045634870009448</span>
<span>12 │      2.4873951240050256</span>
<span> 5 │  0.21629522817435006346</span>
<span> 3 │ -0.43259045634870009448</span>
<span> 4 │ -0.10814761408717501551</span>
</pre></div>


<p>Like before, we can detect anomalies by searching for values which are outside the acceptable range using the z-score:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly</span>
<span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  │         zscore          │ is_anomaly</span>
<span>───┼─────────────────────────┼────────────</span>
<span> 2 │ -0.75703329861022517346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span> 5 │  0.21629522817435006346 │ f</span>
<span> 2 │ -0.75703329861022517346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span><span>12 │      2.4873951240050256 │ t</span>
</span><span> 5 │  0.21629522817435006346 │ f</span>
<span> 3 │ -0.43259045634870009448 │ f</span>
<span> 4 │ -0.10814761408717501551 │ f</span>
</pre></div>


<p>Using z-score, we also identified 12 as an anomaly in this series.</p>
<h3 id="optimizing-z-score"><a href="#optimizing-z-score">Optimizing Z-Score</a></h3>
<p>So far we used one standard deviation from the mean, or a z-score of ±1 to identify anomalies. Changing the z-score threshold can affect our results. For example, let's see what anomalies we identify when the z-score is greater than 0.5 and when it's greater than 3:</p>
<div><pre><span></span><span>WITH</span> <span>series</span> <span>AS</span> <span>(</span>
   <span>SELECT</span> <span>*</span>
   <span>FROM</span> <span>unnest</span><span>(</span><span>array</span><span>[</span><span>2</span><span>,</span> <span>3</span><span>,</span> <span>5</span><span>,</span> <span>2</span><span>,</span> <span>3</span><span>,</span> <span>12</span><span>,</span> <span>5</span><span>,</span> <span>3</span><span>,</span> <span>4</span><span>])</span> <span>AS</span> <span>n</span>
<span>),</span>
<span>stats</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>avg</span><span>(</span><span>n</span><span>)</span> <span>series_avg</span><span>,</span>
       <span>stddev</span><span>(</span><span>n</span><span>)</span> <span>as</span> <span>series_stddev</span>
   <span>FROM</span>
       <span>series</span>
<span>),</span>
<span>zscores</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>n</span><span>,</span>
       <span>(</span><span>n</span> <span>-</span> <span>series_avg</span><span>)</span> <span>/</span> <span>series_stddev</span> <span>AS</span> <span>zscore</span>
   <span>FROM</span>
       <span>series</span><span>,</span>
       <span>stats</span>
<span>)</span>
<span>SELECT</span>
   <span>*</span><span>,</span>
<span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>0.5</span> <span>AND</span> <span>0.5</span> <span>AS</span> <span>is_anomaly_0_5</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>1</span> <span>AND</span> <span>1</span> <span>AS</span> <span>is_anomaly_1</span><span>,</span>
</span><span>   <span>zscore</span> <span>NOT</span> <span>BETWEEN</span> <span>-</span><span>3</span> <span>AND</span> <span>3</span> <span>AS</span> <span>is_anomaly_3</span>
</span><span>FROM</span>
   <span>zscores</span><span>;</span>

<span>n  │         zscore          │ is_anomaly_0_5 │ is_anomaly_1 │ is_anomaly_3</span>
<span>───┼─────────────────────────┼────────────────┼──────────────┼──────────────</span>
<span> 2 │ -0.75703329861022517346 │ t              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span> 5 │  0.21629522817435006346 │ f              │ f            │ f</span>
<span> 2 │ -0.75703329861022517346 │ t              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span>12 │      2.4873951240050256 │ t              │ t            │ f</span>
<span> 5 │  0.21629522817435006346 │ f              │ f            │ f</span>
<span> 3 │ -0.43259045634870009448 │ f              │ f            │ f</span>
<span> 4 │ -0.10814761408717501551 │ f              │ f            │ f</span>
</pre></div>


<p>Let's see what we got:</p>
<ul>
<li>When we decreased the z-score threshold to 0.5, we identified the value 2 as an anomaly in addition to the value 12.</li>
<li>When we increased the z-score threshold to 3 we did not identify any anomaly.</li>
</ul>
<p>The quality of our results are directly related to the parameters we set for the query. Later we'll see how using backtesting can help us identify ideal values.</p>
<hr>
<h2 id="analyzing-a-server-log"><a href="#analyzing-a-server-log">Analyzing a Server Log</a></h2>
<p>Application servers such as nginx, Apache and IIS write a lot of useful information to access logs. The data in these logs can be extremely useful in identifying anomalies.</p>
<p>We are going to analyze logs of a web application, so the data we are most interested in is the timestamp and the status code of every response from the server. To illustrate the type of insight we can draw from just this data:</p>
<ul>
<li><strong>A sudden increase in 500 status code</strong>: You may have a problem in the server. Did you just push a new version? Is there an external service you're using that started failing in unexpected ways?</li>
<li><strong>A sudden increase in 400 status code</strong>: You may have a problem in the client. Did you change some validation logic and forgot to update the client? Did you make a change and forgot to handle backward compatibility?</li>
<li><strong>A sudden increase in 404 status code</strong>: You may have an SEO problem. Did you move some pages and forgot to set up redirects? Is there some script kiddy running a scan on your site?</li>
<li><strong>A sudden increase in 200 status code</strong>: You either have some significant legit traffic coming in, or you are under a DOS attack. Either way, you probably want to check where it's coming from.</li>
</ul>
<h3 id="preparing-the-data"><a href="#preparing-the-data">Preparing the Data</a></h3>
<p>Parsing and processing logs is outside the scope of this article, so let's assume we did that and we have a table that looks like this:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>server_log_summary</span> <span>AS</span> <span>(</span>
   <span>period</span> <span>timestamptz</span><span>,</span>
   <span>status_code</span> <span>int</span><span>,</span>
   <span>entries</span> <span>int</span>
<span>);</span>
</pre></div>


<p>The table stores the number of entries for each status code at a given period. For example, our table stores how many responses returned each status code every minute:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>*</span> <span>FROM</span> <span>server_log_summary</span> <span>ORDER</span> <span>BY</span> <span>period</span> <span>DESC</span> <span>LIMIT</span> <span>10</span><span>;</span>

<span>        period         │ status_code │ entries</span>
<span>───────────────────────┼─────────────┼─────────</span>
<span>2020-08-01 18:00:00+00 │         200 │    4084</span>
<span>2020-08-01 18:00:00+00 │         404 │       0</span>
<span>2020-08-01 18:00:00+00 │         400 │      24</span>
<span>2020-08-01 18:00:00+00 │         500 │       0</span>
<span>2020-08-01 17:59:00+00 │         400 │      12</span>
<span>2020-08-01 17:59:00+00 │         200 │    3927</span>
<span>2020-08-01 17:59:00+00 │         500 │       0</span>
<span>2020-08-01 17:59:00+00 │         404 │       0</span>
<span>2020-08-01 17:58:00+00 │         400 │       2</span>
<span>2020-08-01 17:58:00+00 │         200 │    3850</span>
</pre></div>


<p>Note that the table has a row for every minute, even if the status code was never returned in that minute. Given a table of statuses, it's very tempting to do something like this:</p>
<div><pre><span></span><span>-- Wrong!</span>
<span>SELECT</span>
   <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>timestamp</span><span>)</span> <span>AS</span> <span>period</span><span>,</span>
   <span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>server_log</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span>
   <span>status_code</span><span>;</span>
</pre></div>


<p>This is a common mistake and it can leave you with gaps in the data. Zero is a value, and it holds a significant meaning. A better approach is to create an "axis", and join to it:</p>
<div><pre><span></span><span>-- Correct!</span>
<span>WITH</span> <span>axis</span> <span>AS</span> <span>(</span>
   <span>SELECT</span>
       <span>status_code</span><span>,</span>
       <span>generate_series</span><span>(</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()),</span>
           <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>now</span><span>()</span> <span>-</span> <span>interval</span> <span>'1 hour'</span><span>),</span>
           <span>interval</span> <span>'1 minute'</span> <span>*</span> <span>-</span><span>1</span>
       <span>)</span> <span>AS</span> <span>period</span>
   <span>FROM</span> <span>(</span>
       <span>VALUES</span> <span>(</span><span>200</span><span>),</span> <span>(</span><span>400</span><span>),</span> <span>(</span><span>404</span><span>),</span> <span>(</span><span>500</span><span>)</span>
   <span>)</span> <span>AS</span> <span>t</span><span>(</span><span>status_code</span><span>)</span>
<span>)</span>
<span>SELECT</span>
   <span>a</span><span>.</span><span>period</span><span>,</span>
   <span>a</span><span>.</span><span>status_code</span><span>,</span>
   <span>count</span><span>(</span><span>*</span><span>)</span> <span>AS</span> <span>entries</span>
<span>FROM</span>
   <span>axis</span> <span>a</span>
   <span>LEFT</span> <span>JOIN</span> <span>server_log</span> <span>l</span> <span>ON</span> <span>(</span>
       <span>date_trunc</span><span>(</span><span>'minute'</span><span>,</span> <span>l</span><span>.</span><span>timestamp</span><span>)</span> <span>=</span> <span>a</span><span>.</span><span>period</span>
       <span>AND</span> <span>l</span><span>.</span><span>status_code</span> <span>=</span> <span>a</span><span>.</span><span>status_code</span>
   <span>)</span>
<span>GROUP</span> <span>BY</span>
   <span>period</span><span>,</span></pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/sql-anomaly-detection">https://hakibenita.com/sql-anomaly-detection</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/sql-anomaly-detection</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731699</guid>
            <pubDate>Mon, 11 Jan 2021 16:56:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Podcasts Are Censorship Proof]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25731681">thread link</a>) | @normand1
<br/>
January 11, 2021 | https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/ | <a href="https://web.archive.org/web/*/https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure><img loading="lazy" width="1024" height="696" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-1024x696.png" alt="" srcset="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-1024x696.png 1024w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-300x204.png 300w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-768x522.png 768w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-600x408.png 600w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-500x340.png 500w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-400x272.png 400w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM-950x646.png 950w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-09-at-12.03.16-PM.png 1218w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>@realdonaldtrump</figcaption></figure>



<p>The internet has caught fire recently on the news that President Donald Trump has been banned from Twitter and that Google banned the Parler social media app from the Google Play Store. At the time of this writing, Apple has also given Parler a 24 hour warning to increase censorship of its content or face being banned from the Apple App Store. </p>



<p>Hosting an app on a private app store like Apple’s or Google’s has always been touch and go for developers. Most recently, Unreal had a dispute with payment terms with Apple that got them banned from developing on Apple Platforms. However, in that case the <a href="https://9to5mac.com/2020/08/24/fortnite-ban-unreal-engine-apple-restrained/">ban was temporarily restrained by a judge.</a></p>



<p>However, hosting an app on the open internet using cloud platforms like AWS has historically been much less open to censorship or restriction than a private app store. That has recently changed as <a href="https://www.buzzfeednews.com/article/johnpaczkowski/amazon-parler-aws">AWS has now banned Parler from operating on its cloud infrastructure.</a></p>



<p>Many people might be wondering where does this stop? Is it possible that every app I use or content creator I enjoy might just disappear overnight, never to be seen or heard from again?</p>



<p>The answer is that it depends.</p>



<p>You will never be free to hear or read what you want on closed platforms like Twitter (and yes even Parler), because those platforms exercise centralized control over their content and over the users that post content.</p>



<p>Podcasting is different!</p>



<h2>Podcasts Are Decentralized</h2>



<p>You may have heard the term “decentralized” thrown around a lot recently since Decentralized Cryptocurrencies like Bitcoin brought the term to the forefront of the public zeitgeist. When it comes to podcasting, decentralization means that there is no one company or person that controls podcasting or the distribution of podcasts.</p>



<p>A podcast is made up of just two things: A file describing your podcast (description, author’s name, list of episodes, etc) and the audio files for each episode. Those files can be hosted anywhere! You can use one of MANY podcast hosting platforms like BuzzSprout or Fireside.fm, or if you prefer to do it yourself you can put Podcasts in Dropbox, your home server, on AWS, Heroku, GCloud, WordPress… anywhere you can host an audio file you can host a podcast. In fact there is a new end to end hosting solution on the market that allows you to spin up your own podcast hosting server in 5 minutes. It’s called <a href="https://podlibre.org/install-castopod-in-5mn/">Castopod and you can check it out here!</a></p>



<p>At this point you might be thinking about your favorite podcast apps and how they fit into all of this. I’ll address that in a bit, but first let’s dive a little bit deeper into what makes up a podcast.</p>



<h2>What is a Podcast, really?</h2>



<p>The No Agenda podcast currently posts a podcast RSS feed that is an open standard that <strong>any</strong> podcast player can interpret and present to anyone to listen to. The No Agenda podcast is a great example because it’s the podcast hosted by one of the originators of the Podcast standard, <a href="https://twitter.com/adamcurry?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">The Podfather – Adam Curry</a>. </p>



<p>Regardless of which podcast player you use they all read the same RSS Feed to present the No Agenda podcast to the listener. Here is the raw RSS feed that represents the NA podcast today: <a href="http://feed.nashownotes.com/rss.xml">http://feed.nashownotes.com/rss.xml</a><br>Here’s a quick break down of the information that all podcast players use to present the podcast to a podcast app.</p>



<p>At the top level of the RSS Feed below, you’ll see the basic podcast description details every podcast has at minimum</p>



<pre><code>&lt;title&gt;No Agenda&lt;/title&gt;
&lt;description&gt;A show about politics with No Agenda, by Adam Curry and John C. Dvorak&lt;/description&gt;
&lt;link&gt;http://noagendashow.com&lt;/link&gt;
&lt;pubDate&gt;Thu, 07 Jan 2021 21:41:05 +0000&lt;/pubDate&gt;
&lt;lastBuildDate&gt;Thu, 07 Jan 2021 21:41:05 +0000&lt;/lastBuildDate&gt;
&lt;image&gt;
&lt;url&gt;https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png&lt;/url&gt;
&lt;/image&gt;</code></pre>



<p>Inside the &lt;image&gt; tag above you’ll see a url. If you follow that URL you’ll find the cover art for the NA podcast: <br><a href="https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png">https://noagendaassets.com/enc/1610054980.284_na-1310-art-feed.png</a></p>



<p>So now we have a podcast title and podcast cover art. As you can see, the details for the podcast we’ve seen so far are clear and available from the open web even directly in your web browser by clicking the links above.</p>



<p>There’s actually a lot of great information that accompanies the podcast in the RSS feed as well. Not all podcast apps make use of this information and not all podcasts actually contain the same information. Podcast RSS Feeds are a sort of controlled chaos. You don’t know exactly what you’re going to get when you open a podcast RSS feed, but you know there are a few items you will get at MINIMUM: podcast title,  list of episodes with audio enclosures and unique Ids.</p>



<p>As long as you have those basic components you can build a podcast app!</p>



<div><figure><img loading="lazy" width="2180" height="1264" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/2021-01-09-13.07.19.gif" alt=""><figcaption>No Agenda RSS Feed</figcaption></figure></div>



<p>Next, if you look inside any of the &lt;item&gt; tags that represent the episodes of the NA Podcast you’ll find a direct link to the audio for that podcast episode. </p>



<pre><code>&lt;enclosure url="https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3" length="167771473" type="audio/mpeg"/&gt;</code></pre>



<p>In fact, I can embed the audio for a No Agenda podcast right here into this blog post using that link above, check it out below.</p>



<figure><audio controls="" src="https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3"></audio><figcaption>https://mp3s.nashownotes.com/NA-1308-2020-12-31-Final.mp3</figcaption></figure>



<p>Pretty cool!</p>



<p>That’s basically all that any podcast app does. So now that we’ve seen the data that podcast apps consume, let’s talk about what podcast apps actually do.</p>



<h2>Podcast Apps</h2>



<p>Podcast apps take the above RSS information and process it in different ways. The No Agenda Podcast RSS feed in particular has a number of special and optional “tags” that contain information that are processed by apps that support the new Podcasting 2.0 standard <a href="https://github.com/Podcastindex-org/podcast-namespace">(you can read more about the Podcast 2.0 Namespace here if you’re interested)</a>. This allows podcasts to embed additional information about the podcast like: people involved, chapter jump points, funding URLs and even crypto addresses, but not all podcasts support these new features. For a list of podcast apps and hosting companies that do support these features (and which features are supported) check out: <a href="http://newpodcastapps.com/">newpodcastapps.com</a></p>



<p>Besides processing the RSS Feed information, another important role of a podcast app is to “find” the podcast feeds in the first place. This is where Podcast Databases come into play. There are only a few major podcast databases available currently and they are owned by: Apple, Google and PodcastIndex. These organizations have created what can be thought of as search engines for podcasts (or really podcast RSS feeds) on top of a “master list” of all known podcasts, that are growing every day.</p>



<p>These search APIs are important because your podcast may have an RSS feed sitting on a shared dropbox folder and it might be publicly available and ready for anyone to download it and all of your MP3 episodes… but how would anyone know where it is? They’ll know where it is because you’ll have registered it with one of the major podcast databases we mentioned earlier that podcast apps retrieve data from.</p>



<p>Apple has a special submission process that you can read about here: <a href="https://help.apple.com/itc/podcasts_connect/#/itce5b9b0782">https://help.apple.com/itc/podcasts_connect/#/itce5b9b0782</a></p>



<p>If your podcast fails the submission process for any reason, then it will not be included in the database of Apple Podcasts and any podcast apps that use the iTunes Podcast search API will not be able to find your podcast. </p>



<p>But wait… that doesn’t sound very censorship proof!? What if Apple won’t approve my podcast because they don’t like what I have to say about the latest iPhone model? If Apple controls what podcasts I can add to my podcast app then don’t they have the power to censor any podcast?</p>



<p>Well, not quite. There are a couple of protections built in to the podcast ecosystem that make podcast censorship impossible to enforce.</p>



<p>The most exciting development in recent years towards podcast freedom is <a href="https://podcastindex.org/">PodcastIndex.org</a>. Podcast Index is a free podcast database developed by Adam Curry and Dave Jones with a stated goal to: “Preserve podcasting as a platform for free speech”. As long as the Podcast Index is available there will always be a place for free speech podcasts on the internet. By the way, Podcast Index is entirely user supported, so you can help to ensure that Podcast Index is available well into the future <a href="https://podcastindex.org/">by donating here!</a></p>



<p>PodcastIndex.org is a great free speech alternative to podcast platforms like Google and Apple. However, not all podcast apps use the PodcastIndex as their search API. A podcast app is only as good as its search database. So if Apple or Google decide to exclude your podcast from their search results then users won’t be be able to search for your podcast on any apps that rely on the Google or Apple podcast search Database / API.</p>



<p>The Podcast Index also regularly <a href="https://archive.org/details/podcastindex_dump">publishes their list of podcasts RSS feeds to the Internet Archive</a> for safe keeping an open access. This means that anyone that wants to can start a new podcast index to compete with Apple’s or Google’s doesn’t have to start from square one. </p>



<h2>Adding an RSS Feed</h2>



<p>There is an additional layer of censorship protection built into most podcast apps. In fact, this feature is so fundamental that I’d say that if an app doesn’t have this feature then it’s not actually a podcast app.</p>



<figure><img loading="lazy" width="742" height="578" src="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM.png" alt="" srcset="https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM.png 742w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-300x234.png 300w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-600x467.png 600w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-500x389.png 500w, https://secureservercdn.net/104.238.71.109/g6p.a50.myftpupload.com/wp-content/uploads/2021/01/Screen-Shot-2021-01-10-at-12.23.24-AM-400x312.png 400w" sizes="(max-width: 742px) 100vw, 742px"><figcaption>Add New RSS Feed to the HyperCatcher Podcast App</figcaption></figure>



<p>That podcast RSS Feed we looked at earlier (or any for that matter) can be directly imported to the HyperCatcher podcast app as well as the Apple Podcast app and many other podcast apps (but not all… looking at you Spotify).</p>



<p>As long as this feature exists then no matter where a podcast is hosted or who hosts it, you can import it to your favorite podcast app and get notified when new episodes are available.</p>



<h2>Conclusion</h2>



<p>In a world where information and communication channels seem to be disappearing right in front of our eyes you can rest assured that your favorite podcasts will survive the internet purge …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/">https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/</a></em></p>]]>
            </description>
            <link>https://hypercatcher.com/2021/01/podcasts-are-censorship-proof/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731681</guid>
            <pubDate>Mon, 11 Jan 2021 16:55:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My personal wishlist for a decentralized social network]]>
            </title>
            <description>
<![CDATA[
Score 340 | Comments 250 (<a href="https://news.ycombinator.com/item?id=25731419">thread link</a>) | @csande17
<br/>
January 11, 2021 | https://carter.sande.duodecima.technology/decentralized-wishlist/ | <a href="https://web.archive.org/web/*/https://carter.sande.duodecima.technology/decentralized-wishlist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>
  Social networks are usually run by single central organizations.
  When you visit <a href="https://facebook.com/">Facebook</a>, for example, your computer talks to servers located in giant datacenters owned by a company called “Facebook, Inc.”.
  In addition to running all the servers and networking equipment, Facebook, Inc. also does things like control who’s allowed to use the website, pick trending topics, and tweak the algorithm that decides what shows up in your feed.
</p>
<p>
  Lately, though, there’s been some interest in <em>decentralized social networks</em>.
  These systems let lots of different people and groups run parts of the service.
  (Often, they’re set up so that anyone can join in just by running a special program on their computer.)
  I’ve been seeing projects like <a href="https://joinmastodon.org/">Mastodon</a>, <a href="https://joinpeertube.org/">PeerTube</a>,  and <a href="https://scuttlebutt.nz/">Scuttlebutt</a> get released and slowly gain in popularity over the past few years. If you want to stretch the definition of “social network”, there’s also <a href="https://ipfs.io/">IPFS</a>, <a href="https://dat.foundation/">Dat</a>, and <a href="https://urbit.org/">Urbit</a>.
</p>
<p>
  These kinds of projects are exciting to me because they could solve a lot of the problems with social networks.
  It’s a lot harder for decentralized networks to go down, or make user-hostile changes, or submit to pressure from authoritarian regimes.
  They’re also kind of cool from a technical perspective.
  Despite all this, I haven’t found a project that I personally want to use or recommend to people yet—every decentralized social network I’ve looked at is missing something or other.
</p>
<p>
  I think I’ve managed to boil down the things I want to see in a decentralized network into three key features:
</p>
<h2>Network-layer anonymity (like <a href="https://geti2p.net/en/">I2P</a> or <a href="https://2019.www.torproject.org/docs/onion-services.html.en">Tor Onion Services</a>)</h2>
<p>
  When your computer talks to a website, that website receives your IP address.
  There’s a very good technical reason for this: if you ask the website to send you some information, the website needs to know where to send it.
  (A bit like a return address on a letter.)
  But IP addresses can also reveal information about you.
  They usually indicate roughly where you live and who your Internet Service Provider is, and they can be used to connect multiple online accounts/posts/views back to the same person.
  Hackers can also use your IP address to send things like DDOS attacks your way.
  On centralized networks, though, this isn’t the biggest problem in the world—Facebook already has lots of information about you, and they probably aren’t going to DDOS their own users.
</p>
<p>
  But in some decentralized social networks, <em>random other users of the network</em> get your IP address and can link it to your activity.
  They can build websites like <a href="https://iknowwhatyoudownload.com/">iknowwhatyoudownload.com</a>, which lets you look up anyone’s BitTorrent activity if you know their IP address.
  These random people aren’t even bound by the flimsy privacy policies and PR considerations that Facebook is—they can do whatever they want with the information.
</p>
<p>
  Luckily, there are techniques that decentralized networks can use to avoid this.
  I’m not an expert on the subject, but systems like I2P or Tor seem to work by sending data through multiple other nodes in the network before it reaches its final destination.
  You can use encryption to make sure none of the intermediate nodes can see the data, and you can make sure that the destination only knows who the last intermediate node is and not who the original sender is.
</p><p>
  This doesn’t mean that the actual posts or users of the service have to be anonymous—you can definitely implement things like user profiles.
  It just means not leaking users’ IP addresses.
</p>
<h2>Grassroots content delivery (like <a href="https://en.wikipedia.org/wiki/BitTorrent">BitTorrent</a> or <a href="https://ipfs.io/">IPFS</a>)</h2>
<p>
  Hosting data on the Internet isn’t free.
  You have to buy hard drives, and you have to pay for electricity and Internet access.
  Usually, whoever owns the website pays to host it; I spend a few dollars each month from my salary, and Facebook spends tens of millions of dollars that they get from <strike>secret backroom deals with the Illuminati</strike> advertising.
  But the whole point of decentralization is that no single person or company owns the website!
  So who pays for it?
</p>
<p>
  Some decentralized networks try to solve this problem with cryptocurrency schemes, but this means that anyone who wants to try out the network has to put their credit card information into a sketchy website and transfer money to a sketchy offshore bank account and do other sketchy cryptocurrency stuff.
  (Also, cryptocurrencies are usually outright scams.)
  Other decentralized networks have “instances” which one person pays for and a bunch of other people can use.
  But instances have a single point of failure: if the person who runs the instance decides to shut it down, all of the accounts and posts and stuff on that instance are gone forever.
</p>
<p>
  The solution I like the best is to let anyone host anything they want.
  If Bob really likes my posts and want to help keep them online, he can set up his own little server and copy all my posts to it.
  Then, when someone wants to view my posts, their computer will search for anyone who has them and ask for a copy.
  Could be me, could be Bob, could be the <a href="https://archive.org/">Internet Archive</a>.
  Their computer downloads the posts and uses cryptographic hashes/signatures to make sure no one tampered with them.
</p>
<p>
  This kind of “grassroots” system has some huge advantages.
  Posts that are more popular will get hosted more; if lots of people want to see something, there’ll be lots of network bandwidth available to show it to them.
  And all it takes is one person who cares to keep something alive on the network, even if the person who originally created it isn’t around anymore.
</p>
<h2>Customizable moderation (like <a href="https://github.com/gorhill/uBlock/wiki/Dashboard:-Filter-lists">uBlock Origin</a>)</h2>
<p>
  Social networks need some kind of moderation to make sure your feed isn’t filled with spam, or viruses, or other harmful content.
  Companies like Facebook handle this in two ways: by developing machine-learning algorithms to try and automatically detect bad stuff, and by hiring huge teams of human moderators to try and detect it manually.
  But both machine-learning algorithms and people make mistakes sometimes.
  And even if they don’t, they’re still a single point of failure—if Facebook, Inc. goes out of business, or doesn’t speak your language, or decides it’s not worth allowing memes that upset the Chinese government, you’re kind of outta luck.
</p>
<p>
  It might be tempting to try and solve these issues by going in the complete opposite direction: no moderation whatsoever.
  But then you’re stuck with the original problem of your feed being filled with harmful content!
  If a totally unmoderated platform isn’t overrun with spam yet, that just means it isn’t popular enough for spammers to notice it.
</p>
<p>
  Ad blockers are faced with a similar problem, and they’ve found a very good middle-ground solution.
  If you open uBlock Origin’s settings page, there’s a “Filter lists” tab where you can choose which people’s rules to use.
  (Each rule is the name of one specific website or advertisement to block.)
  There are some filter lists that almost everyone uses, like <a href="https://easylist.to/">EasyList and EasyPrivacy</a>, and there are some that are more niche or regional, like <a href="https://github.com/lassekongo83/Frellwits-filter-lists">Frellwit’s Swedish Filter</a> and <a href="https://github.com/olegwukr/polish-privacy-filters" lang="pl">Oficjalne polskie filtry przeciwko alertom o Adblocku</a>.
  You can also write your own rules, both to block things that EasyList missed and to <em>un</em>-block things that EasyList blocked by mistake.
</p>
<p>
  Content moderation on a social network could work in a very similar way, with different groups of moderators creating different lists of banned users and deleted posts.
  You could have lists almost everyone uses that block things like spam, and you could also have lists for more controversial stuff like adult content and criticism of the Chinese government.
  And sort of like how “shared blocklists” work on Twitter, smaller groups could create their own lists of users and posts to ban.
</p>
<p>
  But if someone really needed to see a post that had been deleted by a moderator—like if they were worried it contained their personal information or threats against them—they could manually override that block.
  (They’d be able to see it, but it wouldn’t affect anyone else.)
</p>
<hr>
<p>
  Put together, I think these three features would be really powerful for a decentralized social network.
  If you know of a project that offers all three of these, or you’re working on one, please let me know by emailing <a href="mailto:carter.sande@duodecima.technology">carter<wbr>.sande@<wbr>duodecima<wbr>.technology</a>.
  I’d be really excited to hear about it and try it out for myself!
  And hopefully, lots of other people would be too.
</p>
</div></div>]]>
            </description>
            <link>https://carter.sande.duodecima.technology/decentralized-wishlist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731419</guid>
            <pubDate>Mon, 11 Jan 2021 16:40:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TinySeed Applications Are Open]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731247">thread link</a>) | @einarvollset
<br/>
January 11, 2021 | https://tinyseed.com/latest/2021-apply | <a href="https://web.archive.org/web/*/https://tinyseed.com/latest/2021-apply">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-nc-base="header" data-controller="AncillaryLayout">
      

      

      <div>

        

        <div>
          

          <main>
            
              <section data-content-field="main-content">
                <article id="post-5ffb2124a28e157b2bf61b0c" data-item-id="5ffb2124a28e157b2bf61b0c">

    
      
    

    <div data-layout-label="Post Body" data-type="item" data-updated-on="1610293598032" id="item-5ffb2124a28e157b2bf61b0c"><div><div><div data-block-json="{&quot;hSize&quot;:null,&quot;floatDir&quot;:null,&quot;url&quot;:&quot;https://youtu.be/5-C_hqBlF7I&quot;,&quot;html&quot;:&quot;<iframe src=\&quot;//www.youtube.com/embed/5-C_hqBlF7I?wmode=opaque&amp;amp;enablejsapi=1\&quot; height=\&quot;480\&quot; width=\&quot;854\&quot; scrolling=\&quot;no\&quot; frameborder=\&quot;0\&quot; allowfullscreen=\&quot;\&quot;>\n</iframe>&quot;,&quot;resolveObject&quot;:&quot;Video&quot;,&quot;resolvedBy&quot;:&quot;youtube&quot;,&quot;resolved&quot;:true,&quot;description&quot;:&quot;Applications are now open for MicroConf's fund and accelerator for bootstrapped SaaS companies. Start your application: https://tinyseed.com/apply\u2192 New to Ti...&quot;,&quot;title&quot;:&quot;Applications for TinySeed (MicroConf's Fund and Accelerator) Are Now Open&quot;,&quot;height&quot;:480,&quot;thumbnail_width&quot;:480,&quot;width&quot;:854,&quot;version&quot;:&quot;1.0&quot;,&quot;type&quot;:&quot;video&quot;,&quot;thumbnail_height&quot;:360,&quot;authorName&quot;:&quot;MicroConf&quot;,&quot;authorUrl&quot;:&quot;https://www.youtube.com/c/MicroConf&quot;,&quot;providerName&quot;:&quot;YouTube&quot;,&quot;providerUrl&quot;:&quot;https://www.youtube.com/&quot;,&quot;thumbnailUrl&quot;:&quot;https://i.ytimg.com/vi/5-C_hqBlF7I/hqdefault.jpg&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1610462501397_7913"><div><div><p><iframe scrolling="no" data-image-dimensions="854x480" allowfullscreen="" src="//www.youtube.com/embed/5-C_hqBlF7I?wmode=opaque&amp;enablejsapi=1" width="854" data-embed="true" frameborder="0" height="480">
</iframe></p></div></div></div><div data-block-type="2" id="block-be7df408bd964a2466c1"><div><p>Applications for our third batch are now open! <a href="https://tinyseed.submittable.com/submit/183461/tinyseed-2021-batch-application">Start your application here.</a></p><p><strong>TinySeed is a year-long, remote accelerator designed for early-stage SaaS founders.</strong> We invest $120k for the first founder and $60k per additional founder, and our standard terms are for 10-12% equity.</p><p>Beyond funding, we want to help founders reach a flow state — where our founders have all the resources, community, and mentorship they need to execute great work as fast as they need.&nbsp;</p><p><strong>Our </strong><a href="https://tinyseed.com/people"><strong>mentor program</strong></a><strong> is designed so founders have numerous options for expert help. </strong>We work with successful founders with multiple wins under their belt; folks like Jason Fried (Basecamp and HEY), Rand Fishkin (SparkToro), Chris Savage (Wistia), and Laura Roeder (MeetEdgar).&nbsp;We are also honored to have subject-matter experts on board, like Steli Efti for sales, Taylor Hendricksen for growth marketing, April Dunford for positioning, Joanna Wiebe for copywriting, and Patrick Campbell for pricing.&nbsp;</p></div></div><div><div><div data-block-json="{&quot;cache_age&quot;:&quot;3153600000&quot;,&quot;authorUrl&quot;:&quot;https://twitter.com/jonathan_codes&quot;,&quot;width&quot;:550,&quot;height&quot;:null,&quot;hSize&quot;:null,&quot;resolveObject&quot;:&quot;Tweet&quot;,&quot;html&quot;:&quot;<blockquote class=\&quot;twitter-tweet\&quot;><p lang=\&quot;en\&quot; dir=\&quot;ltr\&quot;>TinySeed has been a huge factor in accelerating the growth of my company in just a few short months. It's an incredible community of founders and mentors that make a real difference. <a href=\&quot;https://t.co/2OBWz9vJdE\&quot;>https://t.co/2OBWz9vJdE</a></p>\u2014 Jonathan Weinberg (@jonathan_codes) <a href=\&quot;https://twitter.com/jonathan_codes/status/1305995814762881025?ref_src=twsrc%5Etfw\&quot;>September 15, 2020</a></blockquote>\n<script async=\&quot;\&quot; src=\&quot;https://platform.twitter.com/widgets.js\&quot; charset=\&quot;utf-8\&quot;></script>&quot;,&quot;url&quot;:&quot;https://twitter.com/jonathan_codes/status/1305995814762881025?s=20&quot;,&quot;resolvedBy&quot;:&quot;twitter&quot;,&quot;floatDir&quot;:null,&quot;authorName&quot;:&quot;Jonathan Weinberg&quot;,&quot;version&quot;:&quot;1.0&quot;,&quot;resolved&quot;:true,&quot;type&quot;:&quot;rich&quot;,&quot;providerName&quot;:&quot;Twitter&quot;,&quot;providerUrl&quot;:&quot;https://twitter.com&quot;}" data-block-type="22" id="block-yui_3_17_2_1_1610293662180_4499"><div><blockquote><p lang="en" dir="ltr">TinySeed has been a huge factor in accelerating the growth of my company in just a few short months. It's an incredible community of founders and mentors that make a real difference. <a href="https://t.co/2OBWz9vJdE">https://t.co/2OBWz9vJdE</a></p>— Jonathan Weinberg (@jonathan_codes) <a href="https://twitter.com/jonathan_codes/status/1305995814762881025?ref_src=twsrc%5Etfw">September 15, 2020</a></blockquote>
</div></div></div><div><div data-block-type="23" id="block-yui_3_17_2_1_1610293662180_5815"><div><div>
<blockquote data-conversation="none" data-dnt="true"><div lang="en" dir="ltr"><p>3. 👩‍🏫The mentorship program</p><p>This part was the one I was the most curious about. Was it worth it? Was it really useful? Was is just empty words?</p><p>Short answer: it rocks!</p><p>The program has two parts <a href="https://t.co/IgN9jfNBJS">pic.twitter.com/IgN9jfNBJS</a></p></div>— Pierre de Wulf (@PierreDeWulf) <a href="https://twitter.com/PierreDeWulf/status/1346890054355083267?ref_src=twsrc%5Etfw">January 6, 2021</a></blockquote> 
</div></div></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610293662180_4564"><p>We start our year with educational presentations and one-on-one work on important topics (like pricing), and move to mentor Q&amp;As and founder workshops as the year progresses. In addition to weekly calls and masterminds, we have an active, private Slack community and quarterly retreats — currently remote, but hopefully in-person soon. <strong>Our program is structured so we’re available and ready to help when founders need it, but we stay out of the way when founders are focused. </strong></p></div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_22245"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>“</span>In the first two months of the program, TinySeed has already been a phenomenal addition. Specifically helping us evolve our pricing and strategize on how to develop relationships with enterprises to help transform the business. Since joining TinySeed, SquadCast has been experiencing substantial improvement in almost every component of our business.<span>”</span>
  </blockquote>
  <figcaption>— Rock Felder, Squadcast (TS 2020)</figcaption>
</figure>
</div></div><div><div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_24624"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>“</span>In just a few short months, TinySeed has helped SegMetrics grow more than I thought was possible in such a short time. The help of not only the mentors, but also the other founders, has given us expert advice on every part of our business and marketing.<span>”</span>
  </blockquote>
  <figcaption>— Keith Perhac, SegMetrics (TS 2020)</figcaption>
</figure>
</div></div></div><div><div data-block-type="31" id="block-yui_3_17_2_1_1610293662180_25266"><div>

<figure>
  <blockquote data-animation-role="quote">
    <span>“</span>Joining TinySeed was a great move for Loadster. It’s an incredibly supportive group of founders and mentors, and the well-aligned funding terms helped me move faster while staying true to the reasons I started the company to begin with.<span>”</span>
  </blockquote>
  <figcaption>— Andy Hawkes, Loadster (TS 2019)</figcaption>
</figure>
</div></div></div></div><div data-block-type="2" id="block-yui_3_17_2_1_1610293662180_22310"><div><p><strong>Applications will be open for two weeks starting January 11th (ending January 24th.) </strong>We’ll be reviewing applications through January into February, with the next batch starting at the beginning of May 2021.&nbsp;</p><p>Our new application system means you can save your progress without submitting, but make sure your application is officially submitted by the January 24th end date.&nbsp;</p><p>Questions? Comments? Concerns? We’re running a webinar tomorrow (11am CT on January 12th) with the TinySeed team. <a href="https://us02web.zoom.us/webinar/register/WN_b6vK8YQNQ6Kh-pxzc2MPbg?__s=rh97ofsmxess4cmcdkrd">Sign up for free here</a> — a recording will be posted shortly afterwards.</p><p>Interested in investing? We’re raising our second fund — <a href="https://tinyseed.com/thesis">read our thesis</a> or <a href="https://tinyseed.com/invest">apply to invest</a>.</p><p>Feel free to email us any time at <a href="mailto:hello@tinyseed.com">hello@tinyseed.com</a> or send us a DM on Twitter (<a href="https://twitter.com/tinyseedfund">@tinyseedfund</a>) and we’ll get back to you as soon as possible.&nbsp;</p><p>Looking forward to seeing your application!&nbsp;</p></div></div></div></div></div>

    

    

    

  </article>





  
              </section>
            
          </main>

        </div>
      </div>

      


    </div></div>]]>
            </description>
            <link>https://tinyseed.com/latest/2021-apply</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731247</guid>
            <pubDate>Mon, 11 Jan 2021 16:31:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[10 Years(-Ish) of Elixir]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25731229">thread link</a>) | @strzibny
<br/>
January 11, 2021 | https://dashbit.co/blog/ten-years-ish-of-elixir | <a href="https://web.archive.org/web/*/https://dashbit.co/blog/ten-years-ish-of-elixir">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <article>
    
<ul>
  <li>
    <i></i> José Valim
  </li>
  <li>
    <i></i> January 11th, 2021
  </li>
  <li>
    <i></i><a href="https://dashbit.co/blog/tags/elixir">elixir</a>, <a href="https://dashbit.co/blog/tags/phoenix">phoenix</a>, <a href="https://dashbit.co/blog/tags/broadway">broadway</a>, <a href="https://dashbit.co/blog/tags/nerves">nerves</a>, <a href="https://dashbit.co/blog/tags/liveview">liveview</a>, <a href="https://dashbit.co/blog/tags/membrane">membrane</a>
  </li>
</ul>
<p>
This past weekend, on January 9th, we celebrated 10 years since <a href="https://github.com/elixir-lang/elixir/commit/337c3f2d569a42ebd5fcab6fef18c5e012f9be5b">the first commit to the Elixir repository</a>. While I personally don’t consider Elixir to be 10 years old yet - the language that became what Elixir is today <a href="https://github.com/elixir-lang/elixir/commit/6052352b6281752b905b30eb5b08fac0f51f68cd">surfaced only 14 months later</a> - a decade is a mark to celebrate!</p>
<p>
The goal of this post is to focus on the current state of some projects in the ecosystem and then briefly highlight a few of the exciting efforts coming over the next months.</p>
<h2>
Recap: The language goals</h2>
<p>
When I started working on Elixir, I personally had the ambition of using it for building scalable and robust web applications. However, I didn’t want Elixir to be tied to the web. My goal was to design an <em>extensible</em> language with a diverse ecosystem. Elixir aims to be a general purpose language and allows developers to extend it to new domains.</p>
<p>
Given Elixir is built on top of Erlang and Erlang is used for networking and distributed systems, Elixir would naturally be a good fit in those domains too, as long as I didn’t screw things up. The Erlang VM is essential to everything we do in Elixir, which is why <em>compatibility</em> has become a language goal too.</p>
<p>
I also wanted the language to be <em>productive</em>, especially by focusing on the tooling. Learning a functional programming language is a new endeavor for most developers. Consequently their first experiences getting started with the language, setting up a new project, searching for documentation, and debugging should go as smoothly as possible.</p>
<p>
Extensibility, compatibility, and productivity are the goals we built the language upon.</p>
<h2>
Recap: Elixir in production</h2>
<p>
Last year we started <a href="https://elixir-lang.org/cases.html">a series of articles on companies using Elixir in production on the official website</a>. As of today, we have 7 production cases listed with more coming this year! Overall it is very exciting to see many different companies using a variety of business models and industries running Elixir in production.</p>
<p>
Companies like <a href="https://www.brex.com/">Brex</a> (<a href="https://elixir-lang.org/blog/2020/06/23/growing-with-elixir-at-brex/">case</a>), <a href="https://discord.com/">Discord</a> (<a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">case</a>), <a href="https://getdivvy.com/">Divvy</a>, <a href="https://www.podium.com/">Podium</a>, and <a href="https://salesloft.com/">SalesLoft</a> have reached <a href="https://en.wikipedia.org/wiki/Unicorn_(finance)">“unicorn status”</a> and rely heavily on Elixir. Startups like <a href="https://www.joinblvd.com/">Boulevard</a>, <a href="https://community.com/">Community</a>, <a href="https://duffel.com/">Duffel</a> (<a href="https://elixir-lang.org/blog/2020/12/10/integrating-travel-with-elixir-at-duffel/">case</a>), <a href="https://www.ockam.io/">Ockam</a>, <a href="https://www.mux.com/">Mux</a>, <a href="https://ramp.com/">Ramp</a>, <a href="https://remote.com/">Remote</a>, and <a href="https://www.v7labs.com/">V7</a> also use Elixir and have received funding in the last year or two. Elixir is also used within known brands and enterprises such as <a href="https://bleacherreport.com/">Bleacher Report</a>, <a href="https://www.change.org/">Change.org</a> (<a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">case</a>), <a href="https://heroku.com/">Heroku</a> (<a href="https://elixir-lang.org/blog/2020/09/24/paas-with-elixir-at-Heroku/">case</a>), <a href="https://www.pagerduty.com/">PagerDuty</a>, <a href="https://www.pepsico.com/">PepsiCo</a>, and <a href="https://www.therealreal.com/">TheRealReal</a>.</p>
<p>
There is also a special category of startups that run Elixir alonside an open source model, such as <a href="https://plausible.io/">Plausible Analytics</a>, <a href="https://app.supabase.io/">Supabase</a>, <a href="https://logflare.app/">Logflare</a>, and <a href="https://hex.pm/">Hex.pm</a> itself. Still on the open source front, you will find projects like <a href="https://pleroma.social/">Pleroma</a> and <a href="https://changelog.com/">Changelog</a>. There also many small scale and hobby projects that use Elixir for a productive and joyful development experience.</p>
<h2>
Recap: Diverse ecosystem</h2>
<p>
Today, Elixir has a diverse ecosystem that works on a wide range of domains and industries. Let’s take a look at some examples.</p>
<h3>
Web</h3>
<p>
Most developers are familiar with using Elixir for web development thanks to <a href="https://dashbit.co/blog/phoenixframework.org/">the Phoenix web framework</a>. Phoenix gained traction in the ecosystem because it was the first to fully leverage the language and the platform for building real-time applications besides the usual MVC (Model-View-Controller) offering.</p>
<p>
It all started with Phoenix Channels, as a bi-directional communication between clients and servers, and Phoenix PubSub, which uses Erlang’s distributed compatibilities to broadcast messages across nodes. As far as I know, Phoenix was the first major web framework to provide a multi-node web real-time solution completely out-of-the-box. Regardless if you are using one node or ten nodes, everything just works, with minimal configuration and dependencies.</p>
<p>
Phoenix has matured a lot since its first stable release. Phoenix v1.2 included <a href="https://hexdocs.pm/phoenix/Phoenix.Presence.html">Phoenix Presence</a>, that allows developers to track which users, IoT devices, etc are connected to your cluster right now. No databases or external dependencies required! This is one of the problems that look deceptively simple at first, but once you outline all scalability, performance, and fault-tolerance requirements, it <a href="https://elixir-lang.org/blog/2020/11/17/real-time-collaboration-with-elixir-at-slab/">becomes quite complex</a>. Luckily, Phoenix is running on a platform that excels at these problems, and I am not aware of any other framework that provides such a lean and elegant solution as part of its default stack.</p>
<p>
Most recently, <a href="https://dashbit.co/blog/github.com/phoenixframework/phoenix_live_view">Phoenix LiveView</a> was released and brought new ways to build rich, real-time user experiences with server-rendered HTML, inspiring developers to attempt similar solutions for other languages and frameworks. You can read the <a href="https://dockyard.com/blog/2018/12/12/phoenix-liveview-interactive-real-time-apps-no-need-to-write-javascript">original announcement</a> or <a href="https://www.phoenixframework.org/blog/build-a-real-time-twitter-clone-in-15-minutes-with-live-view-and-phoenix-1-5">learn how to build a real-time Twitter clone in 15 minutes</a>. As part of the <em>Live</em> family, we have also announced <a href="https://twitter.com/josevalim/status/1250846714665357315">Phoenix LiveDashboard</a>, making monitoring and instrumentation a first-class citizen for Phoenix applications.</p>
<h3>
Embedded and IoT</h3>
<p>
While I always expected Elixir to shine for building web applications, I was taken by surprise when I heard about the <a href="https://www.nerves-project.org/">Nerves platform</a> for creating high-end embedded applications. However, once I learned their premise, it all made sense: writing embedded systems <em>is</em> complicated. Reasoning about failures is hard. So what if we could leverage the decades of lessons learnt by Erlang/OTP to design embedded applications? What if a fault on the Wi-Fi driver could be fixed by having a supervisor simply restart it? After all, the first major use of Erlang/OTP was in an embedded system, the Ericsson AXD301 ATM switch.</p>
<p>
Nerves brings the Elixir ecosystem and the battle-tested Erlang VM to edge computing, providing a rich developer experience using proven technology. Nerves started as a one step process for turning an Elixir project into a complete software image for common hardware devices. Today, Nerves is being used in production in industrial automation, machine learning, consumer electronics and more, with <a href="https://farm.bot/">Farmbot</a> (<a href="https://elixir-lang.org/blog/2020/08/20/embedded-elixir-at-farmbot/">case</a>) and <a href="https://www.rosepoint.com/">Rose Point Navigation</a> being two of the most notable examples.</p>
<p>
The Nerves team also created <a href="https://www.nerves-hub.org/">NervesHub</a>, a fully open-source device management system. Combining all these technologies makes Elixir a comprehensive language for building end-to-end IoT platforms.</p>
<h3>
Data ingestion and pipelines</h3>
<p>
Shortly after Elixir v1.0 was released, the Elixir Core Team and I started looking into abstractions for tackling data ingestions and data pipelines in Elixir. We ran through a couple designs until we eventually <a href="https://elixir-lang.org/blog/2016/07/14/announcing-genstage/">landed on GenStage</a>: a behaviour for exchanging data with back-pressure between Elixir processes and external systems. For an introduction, make sure to check out <a href="https://youtu.be/srtMWzyqdp8?t=242">my keynote introducing both GenStage and Flow</a>.</p>
<p>
Today, almost 5 years later, GenStage has been used by many industries and has become one of the factors driving Elixir adoption. For example, you can read how both <a href="https://elixir-lang.org/blog/2020/10/08/real-time-communication-at-scale-with-elixir-at-discord/">Discord</a> and <a href="https://elixir-lang.org/blog/2020/10/27/delivering-social-change-with-elixir-at-change.org/">Change.org</a> have built systems on Elixir and GenStage that handle spikes and run at massive scale.</p>
<p>
However, GenStage was just the beginning. In 2019, <a href="https://www.youtube.com/watch?v=ZOExnT1PYjs">we announced Broadway</a>, which is a higher-level abstraction on top of GenStage that makes building data ingestion pipelines a breeze. We originally released with Amazon SQS support. Nowadays, RabbitMQ, Google Cloud PubSub, Apache Kafka, and other sources (known as producers in Broadway terms) are also available.</p>
<h3>
Audio/Video streaming</h3>
<p>
Since the Erlang VM was designed for scalable network processing, one can expect to also be an excellent platform for audio and video streaming. However, if you also wanted to process and transform those streams on the fly, the situation becomes much more complicated as you likely have to integrate with native code.</p>
<p>
Luckily, the tables have turned when Erlang/OTP 20 was released a couple years ago with the so-called Dirty NIFs. The Erlang VM always had the ability to invoke native code, but this native code could not run for long, as to not interfere with the preemptive features of the Erlang runtime. Dirty NIFs allow developers to tag native code either as IO or CPU bound, which runs on specific threads. Between ports (I/O based), NIFs, Dirty NIFs, and remote nodes, developers now have many options to interface with native code with different performance and reliability guarantees. That’s exactly the foundation the <a href="http://www.membraneframework.org/">Membrane Framework</a> builds on top of.</p>
<p>
Membrane was extracted from RadioKit, a startup aiming at disrupting the radio broadcasting industry. Originally it focused on processing and mixing audio. Later, <a href="https://www.swmansion.com/">Software Mansion</a> acquired the framework and provided stable funding and a solid team to help it grow into a full-scale framework. Currently, it allows developers to process, transmit, broadcast, and transform audio and videos streams on the fly. Whether you are building a Twitch clone, a VOD application or a video conferencing system, Membrane provides a growing set of high-level abstractions and pre-made modules so you don’t have to dive into idiosyncrasies of particular codecs, protocols, and formats. </p>
<h2>
Looking ahead: what is coming in 2021</h2>
<p>
The year of 2021 looks very exciting for the Erlang Ecosystem and the Elixir community. In this section, we are going to mention some of the things we expect to see in 2021.</p>
<h3>
Erlang/OTP 24 with JIT</h3>
<p>
In September 2020, <a href="https://github.com/erlang/otp/pull/2745">Lukas Larsson and the Erlang/OTP team</a> announced a JIT compiler for the Erlang VM called BeamAsm. How faster the JIT will be in practice depends on your application but the results posted in the announcement are promising. To quote Lukas:</p>
<blockquote>
  <p>
If we run the JSON benchmarks found in the <a href="https://github.com/devinus/poison/tree/master/bench">Poison</a> or <a href="https://github.com/michalmuskala/jason/tree/master/bench">Jason</a>, BeamAsm achieves anything from 30% to 130% increase (average at about 70%) in the number of iterations per second for all Erlang/Elixir implementations. For some benchmarks, BeamAsm is even faster than the pure C implementation <a href="https://github.com/davisp/jiffy">jiffy</a>.  </p>
</blockquote>
<blockquote>
  <p>
More complex applications tend to see a more moderate performance increase, for instance, RabbitMQ is able to handle 30% to 50% more messages per second depending on the scenario.  </p>
</blockquote>
<p>
I have been running Erlang/OTP master since the JIT pull request …</p></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dashbit.co/blog/ten-years-ish-of-elixir">https://dashbit.co/blog/ten-years-ish-of-elixir</a></em></p>]]>
            </description>
            <link>https://dashbit.co/blog/ten-years-ish-of-elixir</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731229</guid>
            <pubDate>Mon, 11 Jan 2021 16:30:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Telegram and Signal the New Option]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25731219">thread link</a>) | @cabl1176
<br/>
January 11, 2021 | https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/ | <a href="https://web.archive.org/web/*/https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><p><a href="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal.png" data-caption=""><img width="696" height="464" src="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-696x464.png" srcset="https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-696x464.png 696w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-300x200.png 300w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal-768x512.png 768w, https://breaklynews.com/wp-content/uploads/2021/01/telegram-signal.png 900w" sizes="(max-width: 696px) 100vw, 696px" alt="" title="telegram-signal"></a></p>
            <!-- content -->
<p>Last days, Telegram and Signal two Instant Messaging apps are increased its users after the last move of WhatsApp on the updated of its Privacy Terms and Conditions that will apply since the next 21 February for integrate data with <a href="https://breaklynews.com/social-media/facebook-have-to-sell-instagram-and-whatsapp/">Facebook</a> platform.</p>



<p>Telegram has had a good user base, however Signal had not enjoyed such popularity, until this week more than 100,000 users decided to install Signal and over 2.2 millions has been installed Telegram.</p>



<p>Telegram CEO &nbsp;Pável&nbsp;Dúrov recently reveals the secret to get that million users transits to their app is the their Success is that Telegram respect the users and WhatsApp is unable to compete in the quality and the privacy, that allow them to host more than 500 million users around the word.</p>



<h2>Signal and Telegram as the best options</h2>



<p>Signal and Telegram prove to be the best options to you, it protects your privacy and the functions that them provides is that you need.</p>



<p>You can Download Signal for <a href="https://apps.apple.com/us/app/signal-private-messenger/id874139669" target="_blank" rel="noreferrer noopener">iPhone</a> and for <a href="https://play.google.com/store/apps/details?id=org.thoughtcrime.securesms" target="_blank" rel="noreferrer noopener">Android Devices</a></p>



<p>Telegram Can be used on <a href="https://apps.apple.com/app/telegram-messenger/id686449807" target="_blank" rel="noreferrer noopener">iPhone</a> and <a href="https://play.google.com/store/apps/details?id=org.telegram.messenger">Android too</a>, and there is also a <a href="https://apps.apple.com/app/telegram-messenger/id686449807" target="_blank" rel="noreferrer noopener">web version</a>, so, you can use anywhere.</p>



<h2>The new Terms and Conditions of WhatsApp</h2>



<p>Since last week WhatsApp began to advice the users about the new term and conditions, and they must accept in the case they want to continue to use the app since February 21.</p>



<figure><p>
<iframe title="WhatsApp New Privacy Policy Update Explained ⚡ Ye Video Bilkul Miss Mat Karna" width="696" height="392" src="https://www.youtube.com/embed/3wRZb2WSpKw?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>



<p>WhatsApp app are constantly changing and testing new functions in calls, groups and even for Businesses. but now, the integration with Facebook and Instagram is a serious thing.</p>



<p>Facebook claims that the motivation to made that changes is to provide an better unified experience between the platforms:</p>



<ul><li>The new term and conditions will be more easy to read and will include services like WhatsApp Web, WhatsApp Calls and WhatsApp Desktop.</li><li>The join with Facebook on 2014: WhatsApp is part of Facebook since 2014, so is not rare that both platforms work together and share message filters, they also claim that what the user shares on WhatsApp could be shared on Facebook.</li><li>Your Messages and data is yours: Facebook claims that has developed functions to protects the privacy and security from the users: “We do no save your messages once it’ll be delivered. When the messages are encrypted, not even we can read it”.</li></ul>

 <!-- A generated by theme --> 



 <!-- end A --> 

        </div></div>]]>
            </description>
            <link>https://breaklynews.com/facebook/telegram-and-signal-the-best-alternative-to-whatsapp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25731219</guid>
            <pubDate>Mon, 11 Jan 2021 16:30:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A bit on scaling chess.com's database]]>
            </title>
            <description>
<![CDATA[
Score 220 | Comments 74 (<a href="https://news.ycombinator.com/item?id=25730778">thread link</a>) | @ikonic89
<br/>
January 11, 2021 | https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/ | <a href="https://web.archive.org/web/*/https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>Do you feel your database is growing too big or too old? Hard to maintain? Well, I hope I might be able to help you a bit with that. The text you’re about to read is a real life experience of scaling a monolith database to be able to support a top 250-website (according to <a href="https://www.alexa.com/" target="_blank" rel="noreferrer noopener">alexa.com</a>). At the moment of writing this article, <a href="https://www.alexa.com/" target="_blank" rel="noreferrer noopener">alexa.com</a> ranked <a href="https://www.chess.com/" target="_blank" rel="noreferrer noopener">chess.com</a> at 215th place in the world. We’ve got over 4M unique daily users and over 7B queries hitting all our MySQL databases combined. Went from under 1M unique users a day a year ago to 1.3M in March, to over 4M at the moment, with over 8M games played each day. I know it’s no where near the biggest players on the market, but our experience could help you “fix” your monolith database, and scale it to new heights.</p>



<p>Disclosure: <em>This is my first ever article, and it’s too long as it is – but I had to cut probably as much text as you see here in order to make it actually readable. So, some things might be confusing or not well explained, and I’m sorry for that. Hit me up on <a href="https://www.linkedin.com/in/ikonic/" target="_blank" rel="noreferrer noopener">LinkedIn</a>, and we can get into a deeper discussion.</em></p>



<p>Update: after reading a lot of comments, I’d like to add/clarify a few things. We do use caching, extensively. If we didn’t we wouldn’t survive a day. We do use Redis, often pushing it to its extremes. We’ve tested MongoDB and Vitess, but they didn’t do it for us. </p>



<h2>The state in which we were just couple of years ago</h2>



<p>Somewhere mid-2019 we’ve started noticing that our main DB cluster is slowly growing a bit too big. We had three smaller and less used databases on the side, but everything was always added to the main one. Surprisingly, it was in a fairly decent state for a database that started its life over 12 years ago. Not many unused/redundant indexes, the ones that were there were mostly good. We constantly monitored and improved heavy/slow queries. A nice chunk of data was denormalized, as well. No foreign keys, many things were done in the code itself (filtering, sorting, etc, to make sure the DB only ever uses the most efficient indexes) running on the latest version of MySQL, etc, etc. It wasn’t neglected and it evolved over time into something that did a good job for us. </p>



<p>Disclaimer: I’m not recommending anyone to do these sorts of micro-optimizations. They are working for chess.com, on its scale. We benchmark almost anything we’ve never done before, and see how it turns out, before actually implementing it. We know these work <strong>for us</strong>.</p>



<div>
<p>The biggest problem we were facing at that point in time was that altering almost any table required taking half the hosts out of rotation, run the alter there, put it back in rotation, alter the other half, put them back in. We had to do it off-peak, as taking half the hosts out during the peak time would probably result in the other half crashing. As the website was growing, old features got new improvements, so we had to run alters a lot (if you’re in the business, you know how it goes). Altering would’ve been far less stressful if we could could pull just a small set of tables out of rotation, instead of the entire DB. So, we created a 5 year plan for our main cluster (and boy, were we wrong about our timeline), in which we were to split the database into many smaller ones, and that would make things easier to maintain (we were right about this, at least). The plan assumed ~25% yearly growth, which was what we were seeing in previous years.</p>



<div>
<figure><img loading="lazy" width="920" height="1000" src="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png" data-src="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png" alt="" data-srcset="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png 920w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-276x300.png 276w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-768x835.png 768w" data-sizes="(max-width: 920px) 100vw, 920px" srcset="https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1.png 920w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-276x300.png 276w, https://unstructed.tech/wp-content/uploads/2021/01/Untitled-Document-1-768x835.png 768w"><figcaption>Where we were ~2 years ago</figcaption></figure>
</div>
</div>



<h2>The REAL problem appears and our plan implodes</h2>



<p>You’re all familiar with COVID-19, and how all of that went. Guess what – we weren’t really ready (or we didn’t expect it to have the impact it had on or traffic). Interest in chess exploded when (most of) Europe went into a lockdown. Fun fact – we could tell which country went into a lockdown just by looking at our registrations by country – it was so clear. And numbers skyrocketed across the board. Funnily enough, all our databases were doing fine (not great, but they handled the traffic). But at the same time we noticed that our “reports” host was constantly struggling to keep up with the production hosts (i.e., it was often 30-60 seconds behind on replication), which prompted us to analyse our replication stream and its remaining capacity. And it was close to being full, at peak traffic reaching over 95% of the capacity. At that point we knew that USA (where most of our players are from) would also go into a lock down, soon, and that would mean that our replicas wouldn’t be able to keep up with all the writes going to the master (or even if we just keep growing slowly). This would mean the end of <a href="http://www.chess.com/" target="_blank" rel="noreferrer noopener">chess.com</a>, as the code isn’t ready to handle big replication delays when reading data from replicas, and sending all the selects to master would take it down. That made our goal clear: decrease number of writes going to the main cluster, and do it as quickly as possible! This was actually part of our aforementioned plan, but that plan stretched over 5 years. Now we had just one or two months to do that. </p>



<h2>The solution</h2>



<p>How to decrease number of writes to a single DB? Sounds simple – identify tables that are written the most and rip them away from the DB. That way the number of writes handled remains the same, but they are just split into two separate streams. These can be either tables that get a lot of inserts, or not as many inserts, but with records that are frequently updated. Store them elsewhere. How to do it with no downtime? As you’d imagine – not really that simple. </p>



<p>We first identified all the tables that had most updates (inserts, deletes or updates). Most of them were nicely grouped together based on the feature for which they were used (most of game related tables would be written at a similar pace, etc), and we managed to gather a list of 10-15 tables, for 3 different website features. As soon as we started investigating them, another problem was revealed – since we can’t “join” between databases on different hosts, we would need to move as many tables as the feature used to make the project simpler (we were already aware of this, since when “the plan” first came into place, we did something similar for 3 smaller, less used tables as a PoC, and it turned out fine). </p>



<p>The 3 features we identified as high-traffic were logs (not really a feature, and not really logs, they were just poorly named), games (like you’d expect on a chess gaming platform) and puzzles. For logs we’ve found just 3 very isolated tables, which meant not a lot query/code changes were required. Similar for games, as well. But puzzles had over 15 tables to move, and the queries on those tables had lots of joins towards tables that were to remain in the main database cluster. We’ve rallied our troops, pulled over half of our backend developers, split them into teams, and started pushing on all of these in parallel. </p>



<p>It took just one week to move logs into its dedicated database, running on two hosts, which gave us some breathing space, as those had the most writes, by far. One more month to move games (which was oh so scary, as any mistake there would be a disaster, considering that’s the whole point of the website), and puzzles took over 2 months. After these, we were well under 80% of the replication capacity in the peak, which meant we had time to regroup, and plan upcoming projects a bit better.</p>



<h2>The execution</h2>



<p>So, how did we do it? </p>



<p>As you might assume, there are two sides to a project like this – code and database, and both require a lot of work. On the code side, there are a few prerequisites for a project like this one. First of all, we need some sort of <a href="https://en.wikipedia.org/wiki/Feature_toggle" target="_blank" rel="noreferrer noopener">feature flag</a> (aka feature toggle) system, either internal or 3rd party. Ours is custom built, pretty extensive, and maybe a topic for another post. The bare minimum the feature flag system needs to provide is to allow or deny access to a percent of checks from 0 to 100 percent. Another really useful thing to have is a good test coverage. Our entire codebase was rewritten from scratch a few years ago, so we were lucky enough to have that, as it saved us a couple of times.</p>



<div>
<p>Between code changes and database changes, some things can be done in parallel and some require going by numbers. The easiest thing to start with is to set up the new database. All our new databases pulled from the main one (we call them partitions, and this process partitioning) end up on a 2-host setup (master and failover-master (replica)), but it can really be anything we want. On the partition cluster, we create a new database with identical schema to the one we’re trying to split (just name it according our needs, in this case the first one was named<code> logs</code>). Then a backup of the main database is imported, after which we hook up the master of the partition cluster to be a replica of the main master (this is why we need the identical schema and backup import). This way the new cluster becomes just like any main cluster replica, only with a differently named database. Then it just sits there, looking pretty, replicating traffic, and being up-to-date with the rest of the cluster while we work on the code side of this project.</p>



<div>
<figure><img loading="lazy" width="919" height="1024" src="http://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png" data-src="http://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png" alt="" data-srcset="https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png 919w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-269x300.png 269w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-768x855.png 768w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL.png 1160w" data-sizes="(max-width: 919px) 100vw, 919px" srcset="https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-919x1024.png 919w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-269x300.png 269w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL-768x855.png 768w, https://unstructed.tech/wp-content/uploads/2021/01/Before-DL.png 1160w"><figcaption>This is what the cluster looks like after adding new hosts</figcaption></figure>
</div>
</div>



<p>Before we started working on this project, we essentially had 2 connections open to the database from the code: read only connection hitting replicas and read/write connection pointing to the master. Both actually hitting HAProxy, to get where they need to go. First thing we did is to create a parallel set of connections, where read/write connection goes to the <code>Partition Master</code> and read-only connection to the <code>Partition Replica</code>.</p>



<p><em>Chess.com is written in PHP, so I’ll use PHP examples to illustrate the needed changes, but I’ll keep it pseudo enough so that anyone can understand what’s going on (you’d be surprised how many websites in the top 1k are written in PHP, and how easy it is to scale PHP to those heights. Maybe a topic for another post.). </em></p>



<p>Co…</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/">https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/</a></em></p>]]>
            </description>
            <link>https://unstructed.tech/2021/01/11/your-legacy-database-is-outgrowing-itself/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730778</guid>
            <pubDate>Mon, 11 Jan 2021 16:07:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 487 | Comments 214 (<a href="https://news.ycombinator.com/item?id=25730145">thread link</a>) | @zertrin
<br/>
January 11, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730145</guid>
            <pubDate>Mon, 11 Jan 2021 15:27:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Are Experts Real?]]>
            </title>
            <description>
<![CDATA[
Score 177 | Comments 140 (<a href="https://news.ycombinator.com/item?id=25730008">thread link</a>) | @tlb
<br/>
January 11, 2021 | https://fantasticanachronism.com/2021/01/11/are-experts-real/ | <a href="https://web.archive.org/web/*/https://fantasticanachronism.com/2021/01/11/are-experts-real/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I vacillate between two modes: sometimes I think every scientific and professional field is genuinely complex, requiring years if not decades of specialization to truly understand even a small sliver of it, and the experts<span><a href="#fn5071682221" rel="footnote"><sup id="fnref5071682221">1</sup></a></span> at the apex of these fields have deep insights about their subject matter. The evidence in favor of this view seems pretty good, a quick look at the technology, health, and wealth around us ought to convince anyone.</p><p>But sometimes one of these masters at the top of the mountain will say something so obviously incorrect, something even an amateur can see is false, that the only possible explanation is that they understand very little about their field. Sometimes vaguely smart generalists with some basic stats knowledge objectively outperform these experts. And if the masters at the top of the mountain aren't real, then that undermines the entire hierarchy of expertise.</p><p>Some hierarchies are undeniably legitimate. Chess, for example, has the top players constantly battling each other, new players trying to break in (and sometimes succeeding), and it's all tracked by a transparent rating algorithm that is constantly updated. Even at the far right tails of these rankings, there are significant and undeniable skill gaps. There is simply no way Magnus Carlsen is secretly bad at chess.</p><p>Science would seem like another such hierarchy. The people at the top have passed through a long series of tests designed to evaluate their skills and knowledge, winnow out the undeserving, and provide specialized training: undergrad, PhD, tenure track position, with an armada of publications and citations along the way.</p><p>Anyone who has survived the torments of tertiary education will have had the experience of getting a broad look at a field in a 101 class, then drilling deeper into specific subfields in more advanced classes, and then into yet more specific sub-subfields in yet more advanced classes, until eventually you're stuck at home on a Saturday night reading an article in an obscure Belgian journal titled "Iron Content in Antwerp Horseshoes, 1791-1794: Trade and Equestrian Culture Under the Habsburgs", and the list of references carries the threatening implication of an entire literature on the equestrian metallurgy of the Low Countries, with academics split into factions justifying or expostulating the irreconcilable implications of rival theories. And then you realize that there's an equally obscure literature about every single subfield-of-a-subfield-of-a-subfield. You realize that you will never be a polymath and that simply catching up with the state of the art in one tiny corner of knowledge is a daunting proposition. The idea of exiting this ridiculous sham we call life flashes in your mind, but you dismiss it and heroically persist in your quest to understand those horseshoes instead.</p><p>It is absurd to think that after such lengthy studies and deep specialization the experts could be secret frauds. As absurd as the idea that Magnus Carlsen secretly can't play Chess. Right?</p><p>Imagine if tomorrow it was revealed that Magnus Carlsen actually doesn't know how to play chess. You can't then just turn to the #2 and go "oh well, Carsen was fake but at least we have Fabiano Caruana, he's the real deal"—if Carlsen is fake that also implicates every player who has played against him, every tournament organizer, and so on. The entire hierarchy comes into question. Even worse, imagine if it was revealed that Carlsen was a fake, but he still continued to be ranked #1 afterwards. So when I observe extreme credential-competence disparities in science or government bureaucracies, I begin to suspect the entire system.<span><a href="#fn5071682222" rel="footnote"><sup id="fnref5071682222">2</sup></a></span> Let's take a look at some examples.</p><h4 id="59"><a href="#59" title="59"></a>59</h4><p>In 2015, Viechtbauer et al. published <em>A simple formula for the calculation of sample size in pilot studies</em>, in which they describe a simple method for calculating the required N for an x% chance of detecting a certain effect based on the proportion of participants who exhibit the effect. In the paper, they give an <em>example</em> of such a calculation, writing that if 5% of participants exhibit a problem, the study needs N=59 for a 95% probability of detecting the problem. The actual required N will, of course, vary depending on the prevalence of the effect being studied.</p><p>If you look at the <a href="https://scholar.google.com/scholar?hl=en&amp;as_sdt=2005&amp;sciodt=0%2C5&amp;cites=8563214002358604992&amp;scipsc=1&amp;q=59&amp;btnG=" target="_blank" rel="noopener">papers citing Viechtbauer et al.</a>, you will find dozens of them simply using N=59, regardless of the problem they're studying, and explaining that they're using that sample size because of the Viechtbauer paper! The authors of these studies are professors at real universities, working in disciplines based almost entirely on statistical analyses. The papers passed through editors and peer reviewers. In <a href="https://fantasticanachronism.com/2020/09/11/whats-wrong-with-social-science-and-how-to-fix-it/">my piece on the replication crisis</a>, I wrote that I find it difficult to believe that social scientists don't know what they're doing when they publish weak studies; one of the most common responses from scientists was "no, they genuinely don't understand elementary statistics". It still seems absurd (just count the years from undergrad to PhD, how do you fail to pick this stuff up just by osmosis?) but it also appears to be true. How does this happen? Can you imagine a physicist who doesn't understand basic calculus? And if this is the level of competence among tenured professors, what is going on among the people below them in the hierarchy of expertise?</p><h4 id="Masks"><a href="#Masks" title="Masks"></a>Masks</h4><p>Epidemiologists have beclowned themselves in all sorts of ways over the last year, but this is one of my favorites. Michelle Odden, professor of epidemiology and population health at Stanford (to be fair she does focus on cardiovascular rather than infectious disease, but then perhaps she shouldn't appeal to her credentials):</p><p><img src="https://fantasticanachronism.com/images/experts_masks-097c3b01fdd318edec9f70415bc95d6b.jpg"></p><h4 id="Time-Diversification"><a href="#Time-Diversification" title="Time Diversification"></a>Time Diversification</h4><p>CalPERS is the largest pension fund in the United States, managing about $400 billion dollars. <a href="https://youtu.be/qFIcakrlowE?t=4743" target="_blank" rel="noopener">Here</a> is a video of a meeting of the CalPERS investment committee, in which you will hear Chief Investment Officer Yu Meng say two incredible things:</p><ol><li>That he can pick active managers who will generate alpha, and this decreases portfolio risk.</li><li>That infrequent model-based valuation of investments makes them <em>less risky</em> compared to those traded on a market, due to "time diversification".</li></ol><p>This is utter nonsense, of course. When someone questions him, he retorts with "I might have to go back to school to get another PhD". The appeal to credentials is typical when fake expertise is questioned. Can you imagine Magnus Carlsen appealing to a piece of paper saying he has a PhD in chessology to explain why he's good?<span><a href="#fn5071682223" rel="footnote"><sup id="fnref5071682223">3</sup></a></span></p><h4 id="Feedback-Loops"><a href="#Feedback-Loops" title="Feedback Loops"></a>Feedback Loops</h4><p>It all comes down to feedback loops. The optimal environment for developing and recognizing expertise is one which allows for clear predictions and provides timely, objective feedback along with a system that promotes the use of that feedback for future improvement. Capitalism and evolution work so well because of their merciless feedback mechanisms.<span><a href="#fn5071682224" rel="footnote"><sup id="fnref5071682224">4</sup></a></span></p><p>The basic sciences have a great environment for such feedback loops: if physics was fake, CPUs wouldn't work, rockets wouldn't go to the moon, and so on. But if social priming is fake, well...? There are other factors at play, too, some of them rather nebulous: there's more to science than just running experiments and publishing stuff. Mertonian, distributed, informal community norms play a significant role in aligning prestige with real expertise, and these broader social mechanisms are the keystone that holds everything together. But such things are hard to measure and impossible to engineer. And can such an honor system persist indefinitely or will it eventually be subverted by bad actors?<span><a href="#fn5071682225" rel="footnote"><sup id="fnref5071682225">5</sup></a></span></p><p>What does feedback look like in the social sciences? The norms don't seem to be operating very well. There's a small probability that your work will be replicated at some point, but really the main feedback mechanism is "impact" (in other words, citations). Since <a href="https://fantasticanachronism.com/2020/09/11/whats-wrong-with-social-science-and-how-to-fix-it/#or-Maybe-They-Don-39-t">citations in the social sciences are not related to truth</a>, this is useless at best. Can you imagine if fake crank theories in physics got as many citations as the papers from CERN? Notorious fraud Brian Wansink racked up 2500 citations in 2020, two years after he was forced to resign. There's your social science feedback loop!</p><p>The feedback loops of the academy are also predicated on the current credentialed insiders <em>actually being experts</em>. But if the N=59 crew are making such ridiculous errors in their <em>own</em> papers, they obviously don't have the ability to judge <em>other</em> people's papers either, and neither do the editors and reviewers who allow such things to be published—for the feedback loop to work properly you need both the cultural norms and genuinely competent individuals to apply them.</p><p>The candidate gene literature (of which <a href="https://slatestarcodex.com/2019/05/07/5-httlpr-a-pointed-review/" target="_blank" rel="noopener">5-HTTLPR</a> was a subset) is an example of feedback and successful course correction: many years and thousands of papers were wasted on something that ended up being completely untrue, and while a few of these papers still trickle in, these days the approach has been essentially abandoned and replaced by genome-wide association studies. <a href="https://slatestarcodex.com/2017/04/17/learning-to-love-scientific-consensus/" target="_blank" rel="noopener">Scott Alexander is rather sanguine</a> about the ability of scientific feedback mechanisms to eventually reach a true consensus, but I'm more skeptical. In psychology, the methodological deficiencies of today are the more or less same ones as those of the <a href="https://amstat.tandfonline.com/doi/abs/10.1080/01621459.1959.10501497" target="_blank" rel="noopener">of the 1950s</a>, with no hope for change.</p><p>Sometimes we can't wait a decade or two for the feedback to work, the current pandemic being a good example. Being right about masks <em>eventually</em> isn't good enough. The loop there needs to be tight, feedback immediate. Blindly relying on the predictions of this or that model from this or that university is absurd. You need systems with built-in, automatic mechanisms for feedback and course correction, subsidized markets being the very best one. Tom Liptay (a superforecaster) has been <a href="https://www.maby.app/covid/" target="_blank" rel="noopener">scoring his predictions against those of experts</a>; naturally he's winning. And that's just one person, imagine hundreds of them combined, with a monetary incentive on top.</p><h4 id="Uniformity"><a href="#Uniformity" title="Uniformity"></a>Uniformity</h4><p>There's a …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://fantasticanachronism.com/2021/01/11/are-experts-real/">https://fantasticanachronism.com/2021/01/11/are-experts-real/</a></em></p>]]>
            </description>
            <link>https://fantasticanachronism.com/2021/01/11/are-experts-real/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25730008</guid>
            <pubDate>Mon, 11 Jan 2021 15:17:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Metal: John Graham-Cumming]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25729969">thread link</a>) | @jgrahamc
<br/>
January 11, 2021 | https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/ | <a href="https://web.archive.org/web/*/https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><audio controls="" preload="auto"><source src="https://media.transistor.fm/4e9a14a9/b31b442b.mp3" type="audio/mpeg">Your browser does not support the audio element.</audio></p><div><h3 id="transcript">Transcript</h3><p>Find an error in the transcript? <a href="https://github.com/oxidecomputer/website/tree/master/src/site/_data/transcripts/011-john-graham-cumming.txt" target="_blank">Send a pull request!</a></p><p id="t=00:00:13" data-timecode="00:00:13"><a href="#t=00:00:13"><span>00:00:13</span></a><span><strong>Bryan</strong> Cantrill: Welcome to On The Metal, Tales from the Hardware/Software Interface. I'm Bryan Cantrill with me, as always is Jessie Frazelle. Hey, Jessie.</span></p><p id="t=00:00:21" data-timecode="00:00:21"><a href="#t=00:00:21"><span>00:00:21</span></a><span><strong>Jessie</strong> Frazelle: Hey, Bryan.</span></p><p id="t=00:00:22" data-timecode="00:00:22"><a href="#t=00:00:22"><span>00:00:22</span></a><span><strong>Bryan:</strong> Joining us is our boss, Steve Tuck. Hey, Steve.</span></p><p id="t=00:00:24" data-timecode="00:00:24"><a href="#t=00:00:24"><span>00:00:24</span></a><span><strong>Steve</strong> Tuck: Present.</span></p><p id="t=00:00:25" data-timecode="00:00:25"><a href="#t=00:00:25"><span>00:00:25</span></a><span><strong>Bryan:</strong> All right, Jessie, you want to introduce who we've got in the virtual garage today?</span></p><p id="t=00:00:29" data-timecode="00:00:29"><a href="#t=00:00:29"><span>00:00:29</span></a><span><strong>Jessie:</strong> Yes. Remotely, which is a fun one, we have John Graham-Cumming, who wrote The Geek Atlas. I was just looking at that this morning and The Make book that I also have, and also works at Cloudflare as the CTO.</span></p><p id="t=00:00:45" data-timecode="00:00:45"><a href="#t=00:00:45"><span>00:00:45</span></a><span><strong>John</strong> Graham-Cumming: Thank you very much. It's very nice to be able to talk to you, from far away.</span></p><p id="t=00:00:49" data-timecode="00:00:49"><a href="#t=00:00:49"><span>00:00:49</span></a><span><strong>Bryan:</strong> Yes, this is a conversation we've really been looking forward to having for a long time because when you dial up computer history, which we've been known to do on this podcast, you turn the dial all the way back. Do you want to talk about how you got into Babbage and his work with Lovelace and so on?</span></p><p id="t=00:01:09" data-timecode="00:01:09"><a href="#t=00:01:09"><span>00:01:09</span></a><span><strong>John:</strong> Yes. I think I probably knew about it at university because it was mentioned just like, "Oh, by the way, there was this other thing, and maybe it was a computer, Charles Babbage. Then what really happened was, right at a time when I was at university in the UK, the Science Museum in London started building one of Babbage's machines, this thing called the difference engine, which is really a very big specialized calculator. It is not a computer and they started actually taking his plans and building it. Because of where I live when I was at college, and where my parents were, I used to have to travel through London.</span></p><p>I would literally go through London and sneak out of the tube, go into the Science Museum, look at this thing being built, and then slowly, it would get bigger and bigger and bigger, because they built it in public.</p><p id="t=00:01:58" data-timecode="00:01:58"><a href="#t=00:01:58"><span>00:01:58</span></a><span><strong>Bryan:</strong> Oh, wow.</span></p><p id="t=00:01:59" data-timecode="00:01:59"><a href="#t=00:01:59"><span>00:01:59</span></a><span><strong>John:</strong> Which is really, really cool. I knew about it. I remember at one point, this is traumatic for you, taking my girlfriend who was also a mathematician to see this thing. Then the two of us like, "Okay, the method of differences, let's sit down." We sat down on, there's a little patch of grass outside the Science Museum. It's not a very grassy area, sitting down on this patch of grass on a sunny day in London. That's why I remember it.</span></p><p id="t=00:02:21" data-timecode="00:02:21"><a href="#t=00:02:21"><span>00:02:21</span></a><span><strong>Bryan:</strong> Very distinctive.</span></p><p id="t=00:02:24" data-timecode="00:02:24"><a href="#t=00:02:24"><span>00:02:24</span></a><span><strong>John:</strong> The two of us with a piece of paper working out, okay, how does this thing work? How does the method of differences work? That was probably really when I got excited about Babbage, and then subsequently realized that the difference engine as cool as it was, isn't actually programmable and that was a bit sad.</span></p><p id="t=00:02:40" data-timecode="00:02:40"><a href="#t=00:02:40"><span>00:02:40</span></a><span><strong>Bryan:</strong> Did you already know at that point that you are interested in computing? Had you grown up in computing at that point?</span></p><p id="t=00:02:46" data-timecode="00:02:46"><a href="#t=00:02:46"><span>00:02:46</span></a><span><strong>John:</strong> Yes. I was doing mathematics and computation as Oxford called it because Oxford was very theoretical. It was all about the theory of computation. None of this messing around with real computers. I hadn't messed around with computers for a long time</span></p><p>because well, if you go backwards, you have to work backwards, I was obviously a child of the '80s 8-bit revolution in the UK. I had a thing called the BBC Micro which was this really cool computer with 48K RAM.</p><p id="t=00:03:14" data-timecode="00:03:14"><a href="#t=00:03:14"><span>00:03:14</span></a><span><strong>Bryan:</strong> Whenever the BBC Micro is mentioned on the podcast, it's been mentioned a couple of times, I feel that all of our English listeners play God Save The Queen in the background.</span></p><p id="t=00:03:24" data-timecode="00:03:24"><a href="#t=00:03:24"><span>00:03:24</span></a><span><strong>Bryan:</strong> I feel that there is tears in the eyes.</span></p><p id="t=00:03:24" data-timecode="00:03:24"><a href="#t=00:03:24"><span>00:03:24</span></a><span><strong>John:</strong> Well, there were two groups, Bryan. In the UK at that time, there was the Sinclair group, ZX81, the ZX Spectrum and then there were the BBC Micro people. We were two camps and the Sinclair machines were slightly cheaper.</span></p><p id="t=00:03:43" data-timecode="00:03:43"><a href="#t=00:03:43"><span>00:03:43</span></a><span><strong>Bryan:</strong> I have got so many follow-up questions. Is this a class divide? Is it geographical? What divides these two clans?</span></p><p id="t=00:03:50" data-timecode="00:03:50"><a href="#t=00:03:50"><span>00:03:50</span></a><span><strong>John:</strong> There was definitely a price difference. The Sinclair machines were much much cheaper and so I think they were much, much more widespread whereas the BBC machines were in school so you got at them at school. I ended up with the BBC machine because my parents in their wisdom, they said-- Well, they had two boys and they're like, "We'll let these two boys do the things they seem really interested in." My brother had had years and years of piano lessons and played the piano really well. I said, "I want to have a computer."</span></p><p>They said, "Well, we probably spent that much money on piano lessons so we'll buy you this machine," which I still have. It's a treasure. It's in [crosstalk]</p><p id="t=00:04:28" data-timecode="00:04:28"><a href="#t=00:04:28"><span>00:04:28</span></a><span><strong>Steve:</strong> Wow.</span></p><p id="t=00:04:28" data-timecode="00:04:28"><a href="#t=00:04:28"><span>00:04:28</span></a><span><strong>Jessie:</strong> Wow. That's cool.</span></p><p id="t=00:04:29" data-timecode="00:04:29"><a href="#t=00:04:29"><span>00:04:29</span></a><span><strong>Bryan:</strong> Oh, wow.</span></p><p id="t=00:04:31" data-timecode="00:04:31"><a href="#t=00:04:31"><span>00:04:31</span></a><span><strong>John:</strong> It was a big, big deal and I was very funny actually. I switched it on a few years ago and immediately the power supply blew up so I-</span></p><p id="t=00:04:39" data-timecode="00:04:39"><a href="#t=00:04:39"><span>00:04:39</span></a><span><strong>Jessie:</strong> Hold on.</span></p><p id="t=00:04:39" data-timecode="00:04:39"><a href="#t=00:04:39"><span>00:04:39</span></a><span><strong>John:</strong> -had to replace the power supply. I looked at the back of it and it has the wattage of the machine which was about the wattage of a lightbulb. I remember thinking-</span></p><p id="t=00:04:51" data-timecode="00:04:51"><a href="#t=00:04:51"><span>00:04:51</span></a><span><strong>Bryan:</strong> Really?</span></p><p id="t=00:04:52" data-timecode="00:04:52"><a href="#t=00:04:52"><span>00:04:52</span></a><span><strong>John:</strong> -I knew that my parents didn't have loads of money to burn and they spent a lot of money on this machine and I had this incredible feeling like, "Oh my God, I can't run up their electricity bill with this machine." I used to switch it on and then go and switch a light off somewhere in the house to be like net zero.</span></p><p id="t=00:05:11" data-timecode="00:05:11"><a href="#t=00:05:11"><span>00:05:11</span></a><span><strong>John:</strong> I actually don't think my parents had that little money but it was more like I had this thing where I was like I got to--</span></p><p id="t=00:05:18" data-timecode="00:05:18"><a href="#t=00:05:18"><span>00:05:18</span></a><span><strong>Bryan:</strong> If it draws 60 watts, this is not even observable on the power bill I assume.</span></p><p id="t=00:05:23" data-timecode="00:05:23"><a href="#t=00:05:23"><span>00:05:23</span></a><span><strong>John:</strong> I guess but I felt as a-- I was a child and I decided I've got to do my bit.</span></p><p id="t=00:05:28" data-timecode="00:05:28"><a href="#t=00:05:28"><span>00:05:28</span></a><span><strong>Bryan:</strong> What a [unintelligible 00:05:28] child.</span></p><p id="t=00:05:29" data-timecode="00:05:29"><a href="#t=00:05:29"><span>00:05:29</span></a><span><strong>Jessie:</strong> I know, it's really cute.</span></p><p id="t=00:05:30" data-timecode="00:05:30"><a href="#t=00:05:30"><span>00:05:30</span></a><span><strong>Bryan:</strong> Meanwhile, my child--</span></p><p id="t=00:05:32" data-timecode="00:05:32"><a href="#t=00:05:32"><span>00:05:32</span></a><span><strong>Steve:</strong> I'll take one of those.</span></p><p id="t=00:05:32" data-timecode="00:05:32"><a href="#t=00:05:32"><span>00:05:32</span></a><span><strong>Bryan:</strong> I'll take one of those too. I can't get my kids to be like, "Could you just get off the mobile network and onto the wifi so you don't bankrupt the household watching Youtube."</span></p><p id="t=00:05:41" data-timecode="00:05:41"><a href="#t=00:05:41"><span>00:05:41</span></a><span><strong>John:</strong> It was a different time.</span></p><p id="t=00:05:42" data-timecode="00:05:42"><a href="#t=00:05:42"><span>00:05:42</span></a><span><strong>Bryan:</strong> It was a different time. Children were so mindful of the power bill.</span></p><p id="t=00:05:47" data-timecode="00:05:47"><a href="#t=00:05:47"><span>00:05:47</span></a><span><strong>Jon:</strong> Actually to continue to answer your question if you go really right back in time, at some point when I was about I think seven, I was very bright and my parents were, "What the hell do we do with this bright kid?" They [00:06:00] found-- They [00:06:00] found-- because it's pre-internet. This is in the '70s. They found this association which was for desperate parents of intelligent children.</span></p><p>They're like, "What do we do with him?" They do this thing at Cambridge University in the summer where you could basically take your kids and dump them off and there your kids run wild. I went to that a couple of times and I actually hated it because some of the kids were so snotty, but there was one person I went up to and obviously, this person was in either the mathematics or computer science department at Cambridge, and I said, "Oh, explain to me how a computer works. I want to know." Imagine I'm like seven years old.</p><p>What I remember of that is the person getting out a pad of paper and starting drew this strip on it and build boxes on it and basically describe the Turing machine. I have at home, my own little Turing things I've tried to do in strips of paper and come up with this computer thing. I think I was infected with computer stuff pretty early on. Mother would say even as a baby I was fascinated by things like how does the clock work? I would stare at clocks, "How does that work?" I don't know. Something happens probably in the womb, maybe.</p><p id="t=00:07:15" data-timecode="00:07:15"><a href="#t=00:07:15"><span>00:07:15</span></a><span><strong>Bryan:</strong> Where is the eight-year-old that explained the Turing machine? Where did he end up?</span></p><p id="t=00:07:21" data-timecode="00:07:21"><a href="#t=00:07:21"><span>00:07:21</span></a><span><strong>John:</strong> Oh, no, no, no, this was a professor at Cambridge.</span></p><p id="t=00:07:22" data-timecode="00:07:22"><a href="#t=00:07:22"><span>00:07:22</span></a><span><strong>Bryan:</strong> Oh, professor. Oh, excuse me. I'm sorry.</span></p><p id="t=00:07:24" data-timecode="00:07:24"><a href="#t=00:07:24"><span>00:07:24</span></a><span><strong>John:</strong> It was an adult. Whether he was like 21 or 40, I have no idea. As a child, if somebody sat and explained this to me, I was like, "Whoa, this is amazing." Then, of course, later on, I go and actually go to do computer science. I was like, "Wait a minute. That's a Turing machine." This guy Turing and now I hear about all this stuff for real and some of the theories. I don't know. I was into computers from an early age. I was nerdy.</span></p><p id="t=00:07:47" data-timecode="00:07:47"><a href="#t=00:07:47"><span>00:07:47</span></a><span><strong>Bryan:</strong> You were obviously writing your own programs on the BBC Micro?</span></p><p id="t=00:07:51" data-timecode="00:07:51"><a href="#t=00:07:51"><span>00:07:51</span></a><span><strong>John:</strong> Yes, obviously. I think I started out just playing with the machine, trying to understand it. Then I bought this book that was called The Advanced User's Guide, it had a lot of stuff about how the operating system or the BIOS for this thing worked and a lot of the gut there. I was very interested in that. I really learned assembly language and then started doing assembly language stuff on the machine. At the same time, I was programming another 8-bit machine which was made by Sharp MZ-80K, and then some others that Z80-based machines.</span></p><p id="t=00:08:23" data-timecode="00:08:23"><a href="#t=00:08:23"><span>00:08:23</span></a><span><strong>Bryan:</strong> The MZ to give you the 80K. Interesting.</span></p><p id="t=00:08:28" data-timecode="00:08:28"><a href="#t=00:08:28"><span>00:08:28</span></a><span><strong>John:</strong> Yes. It's a bit like a Commodore PET as an integrated CRT and a tape player, and unusually it had a keyboard where you could actually type every character that was in the character set. It's really weird because basically, it didn't have ASCII. It had its own thing with all sorts of crazy symbols and stuff and you could type everything. Anyway, I was reading some assembly language programming basically to make my programs faster or to access bits of the operating system and build various things. Me with another boy in high school, we wrote programs. We wrote a statistical analysis package. We wrote I think, the timetabling. Then basically around this time there, we had a 100-kilobit per second I think local area network at school. We disassembled the operating system and figured out how to make it work. I think the funny thing was we disassembled how …</span></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/">https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/</a></em></p>]]>
            </description>
            <link>https://oxide.computer/podcast/on-the-metal-11-john-graham-cumming/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729969</guid>
            <pubDate>Mon, 11 Jan 2021 15:16:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Re-Introducing Hash Indexes in PostgreSQL]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25729540">thread link</a>) | @haki
<br/>
January 11, 2021 | https://hakibenita.com/postgresql-hash-index | <a href="https://web.archive.org/web/*/https://hakibenita.com/postgresql-hash-index">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article data-progress-indicator="">
        <hr>
<p>If you work with databases you are probably familiar with B-Tree indexes. They are used to enforce unique and primary-key constraints, and are the default index type in most database engines. If you work with text, geography or other complex types in PostgreSQL, you may have dipped your toes into GIN or GIST indexes. If you manage a read intensive database (or just follow this blog), you may also be familiar with BRIN indexes.</p>
<p>There is another type of index you are probably not using, and may have never even heard of. It is wildly unpopular, and until a few PostgreSQL versions ago it was highly discouraged and borderline unusable, but under some circumstances it can out-perform even a B-Tree index.</p>
<p><strong>In this article we re-introduce the Hash index in PostgreSQL!</strong></p>
<p><em>This article was co-authored by Michael from <a href="https://www.pgmustard.com/" rel="noopener">pgMustard</a></em></p>
<figure><img alt="<small>Photo by <a href=&quot;https://unsplash.com/photos/lRoX0shwjUQ&quot;>Jan Antonin Kolar</a></small>" src="https://hakibenita.com/images/00-postgresql-hash-index.png"><figcaption><small>Photo by <a href="https://unsplash.com/photos/lRoX0shwjUQ">Jan Antonin Kolar</a></small></figcaption>
</figure>
<details open="">
    <summary>Table of Contents</summary>

</details>
<hr>
<h2 id="hash-index"><a href="#hash-index">Hash Index</a></h2>
<p>Just like the name suggests, Hash indexes in PostgreSQL use a form of the hash table data structure. Hash table is a common data structure in many programming languages. For example, a <a href="https://docs.python.org/3/library/stdtypes.html#typesmapping" rel="noopener">Dict</a> in Python, a <a href="https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html" rel="noopener">HashMap</a> in Java or the new <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" rel="noopener">Map</a> type in JavaScript.</p>
<p>To understand how you can benefit from Hash indexes, it's best to understand how they work.</p>
<h3 id="hash-function"><a href="#hash-function">Hash Function</a></h3>
<p>Hash indexes use a <em>hash function</em>. PostgreSQL's hash function maps any database value to a 32-bit integer, the <em>hash code</em> (about 4 billion possible hash codes). A good hash function can be computed quickly and "jumbles" the input uniformly across its entire range.</p>
<p>The hash codes are divided to a limited number of <em>buckets</em>. The buckets map the hash codes to the actual table rows.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 328.2462667685287" width="20em" height="328.2462667685287"><g transform="translate(11.666666666666572 132.59615384615387) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.19221067428588867 -1.79854154586792 C9.969303963734554 -1.6432035889992347, 22.75762772193322 -1.9653624024757972, 52.3237825173598 0.8443570137023926 M-0.6429002285003662 0.5630700588226318 C20.33801717024583 1.0528750944137573, 40.39535058461703 0.7731586027145385, 50.664933516429016 0.5442330837249756 M52.2408967751723 -0.13330411911010742 C52.423765991834486 17.79776027202606, 51.24861035218605 38.03790669441223, 51.85605485622699 48.62396493324866 M50.888993575022766 0.14732146263122559 C50.99830201937602 19.028628809635453, 51.12237886263774 36.86086389101468, 51.06591160480792 49.61907568344702 M53.07395036403949 49.65802255043616 C33.88981666931739 50.1807713996447, 16.31066344334529 48.861542273668135, 0.21956968307495117 48.30971017250647 M51.35833103840167 48.99755468735327 C34.6531761096074 50.69362970829009, 19.977562196438125 50.10776087284087, -0.49410414695739746 48.560260681005616 M0.8632464408874512 51.23048653969397 C0.8073489297353305 31.131840854424695, 0.988638602586893 17.248527200405412, 1.5477404594421387 -1.02028226852417 M-0.19582533836364746 48.776630309911866 C0.9785774012712332 29.629223884068995, -0.1458809117170481 9.229620192601125, -0.2645127773284912 -0.29627442359924316" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 135.13461538461547) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-1.79854154586792 -1.3989605903625488 C12.821326706959649 -0.026658346102787833, 26.547151991037218 1.0452563267487747, 50.53666470601007 1.9574084281921387 M0.5630700588226318 -0.04519057273864746 C10.698960531674896 -0.05159294165097761, 20.51234123890216 -0.24636375463925886, 50.236540776032655 0.6751844882965088 M49.55900357319757 1.2768664360046387 C49.711678131727055 12.57739543731395, 51.77379666200049 25.57665490737326, 48.854734164017884 45.565139000232364 M49.839629154938905 -0.6456773281097412 C50.38517004288158 16.383737664956296, 49.698471129307364 33.645818673647334, 49.84984491421625 44.55616182547345 M49.888791781205384 44.560378258044864 C38.96100327785197 45.263592394682036, 26.045421805748564 44.7544523800336, -1.1518282890319824 44.17358321409955 M49.2283239181225 43.1161593840672 C31.08563929337721 44.120763305150504, 10.91731990300692 43.64620733591222, -0.9012777805328369 44.49717897635236 M1.7689480781555176 44.96960372191205 C-1.3148316979408265 31.167395432178765, 1.718966519832611 17.657667611195475, -1.02028226852417 1.9546160697937012 M-0.6849081516265869 44.87553590994611 C-0.4762380246015693 32.13172847491042, -1.203464281925788 20.57371205549972, -0.29627442359924316 0.5372984409332275" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(200.05128205128187 138.98076923076928) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.3989605903625488 -1.2266573905944824 C18.969163957008966 -1.1019478045977076, 38.98914397313048 1.29122541317573, 51.649716120499875 -1.93776273727417 M-0.04519057273864746 0.6058633327484131 C10.200747555952816 0.046344334895793926, 20.57778920026928 0.2644305775715752, 50.367492180604245 -0.16956543922424316 M50.969174128312375 -0.3802676200866699 C49.98555421150652 16.49719568582681, 50.50912904060808 28.79311602299029, 51.18052361561706 39.59391098756055 M49.046630364197995 0.5096948146820068 C49.041095362626635 12.775863047746506, 49.397838221513354 26.063271515186006, 50.17154644085815 37.256708200161256 M50.17576287342956 38.78812485474805 C36.92768673163197 37.51771446778222, 22.92521605858438 36.82006737305566, 0.09666013717651367 39.80455857056836 M48.7315439994519 38.898859079067506 C32.27894599621115 38.08242599890781, 14.410576508595405 36.79123489783359, 0.4202558994293213 38.09559827584485 M0.8926806449890137 36.51049118775586 C0.9102855119338403 29.00842637098751, 1.3840556535354027 15.831068585469161, 1.9546160697937012 -0.7276949882507324 M0.7986128330230713 37.7631397797511 C-0.2515824862626883 22.937588447790866, -0.19024978362596956 9.430152350205635, 0.5372984409332275 -0.06695771217346191" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 284.2692307692306) rotate(0 122 15.5)"><path d="M-1.4425529179052352 -1.062887403612709 C84.43206217809087 1.87951077746899, 168.00396656412605 1.340752656552242, 244.53920865744266 -0.935478985112953 M0.749495891116619 0.4175032903210639 C86.42419033096954 0.8697627262504117, 172.8014032617404 0.38405045267558263, 244.69513824538603 0.2584414289715767 M244.8311266899109 -0.6835513114929199 C244.5253163933754 6.7104063749313365, 245.25006309747695 14.960321092605593, 243.64599180221558 30.670284748077393 M243.71537613868713 0.9215905666351318 C244.24680605649948 10.030092978477478, 244.5810879778862 19.941085624694825, 243.7729094028473 31.109784841537476 M244.8271357903101 31.21089405867977 C184.08521485743654 31.30906240437859, 127.31784122710208 32.865145402602465, 0.644631839486122 30.183112634601404 M243.81666848886442 31.356794774506856 C193.52231486539944 31.716934098833367, 140.99850942660245 31.791864275063222, 0.6700753280947684 31.63970806257143 M1.4352221488952637 30.608349323272705 C-1.6727817940711975 24.878663182258606, -0.622839777469635 14.911184072494507, -1.7743268013000488 -0.5290255546569824 M-0.11572432518005371 30.87109923362732 C-0.3354560923576355 21.956659626960754, 0.5159156727790832 14.141585254669188, 0.9930784702301025 0.8908364772796631" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 283.2692307692306) rotate(0 -0.24344904067797302 16.591623114454535)"><path d="M-1.0470545768737793 -0.7714802742004394 C-1.2968480745951336 4.829924551645915, -0.45333102544148773 26.97473758061727, -0.32431592941284193 32.445771312713624 M0.6041030409280213 1.4378886365052312 C0.1526466680907957 7.340648744121815, -0.7074486827508856 28.671301598663753, -0.917627255981788 33.95472650310956" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 285.0192307692306) rotate(0 -0.5031951796170233 16.605925130802234)"><path d="M-0.7714802742004394 0.6756840705871581 C-0.7534087816874185 6.388032499949136, -0.9419290860493977 27.857753976186117, -1.0542286872863769 33.227035999298096 M1.0243538525048645 -0.015185737693682366 C0.9813915897750609 5.446763365284228, -1.4525607251779484 26.357901601906242, -2.030744211738929 31.48615515015088" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 282.5192307692306) rotate(0 -0.07653179319780179 16.115036894148204)"><path d="M0.6756840705871581 -0.054228687286376864 C0.8046991666158039 5.416805044809978, -0.058912690480550145 26.74218448003133, -0.2729640007019043 32.05472211837768 M-0.4287205216940493 -1.1283026934508236 C-0.3024937890625249 4.575641496197011, -0.7159607219354559 27.706658120270202, -0.8393155646976083 33.35837648174726" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 283.0192307692306) rotate(0 -1.3406614601938145 16.47725108142481)"><path d="M-0.054228687286376864 0.7270359992980957 C-0.16652828852335605 6.096318022410075, -1.1744821866353352 27.487035592397056, -1.4452778816223144 32.891376209259036 M-1.5418374774511905 0.06312595359049733 C-1.7836156581497442 5.00189878703716, -2.4172042035715036 25.792556066627927, -2.627094233101234 30.97427397034131" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 284.5192307692306) rotate(0 -0.3120803726045409 15.638646589582777)"><path d="M0.7270359992980957 -0.4452778816223144 C0.5129846890767416 4.867259756724039, -0.42963107426961267 26.195080598195393, -0.6086237907409668 31.820997142791747 M-0.3504088304098696 -1.724652714813128 C-0.7473583673095952 3.7375849318659546, -1.2813062572137763 27.482324700470393, -1.3511967445071786 33.0019458939787" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 284.0192307692306) rotate(0 -0.07044146727900369 16.35216223712547)"><path d="M-0.4452778816223144 0.39137620925903316 C-0.7160735766092936 5.795716826121013, -1.721586068471273 27.835555489857995, -1.679002857208252 33.15307970046997 M1.521812501186505 -0.44875522621907304 C1.6483277775192011 4.5434819626963385, 1.018462376628692 25.714048910255855, 0.6764751791302115 31.37337179443799" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M0.39137620925903316 -0.6790028572082519 C14.635743380143058 12.08244312693308, 72.03568825996823 63.27669813283435, 86.19323902460225 76.12339802322568 M-0.8622900102194399 1.5789166974183173 C13.217584695704966 14.044586615673627, 71.36698602319106 62.25102666198922, 85.58806040372178 74.42618950207375" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M56.27913662900037 65.21696416960359 C68.88329802068695 67.41067472443576, 79.50662756242923 72.47313996643902, 85.45475628461168 75.70305593807839 M57.72345087040967 63.70971123800874 C66.07758382065266 67.62047886489466, 73.66647007325521 69.33679969492935, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(40.05825821257167 195.5068732198265) rotate(0 42.66547450719139 37.72219758300872)"><path d="M69.49058989751853 49.51417763601024 C77.27261426851784 57.413187146680364, 83.13207431893325 68.1378626070296, 85.45475628461168 75.70305593807839 M70.93490413892783 48.00692470441539 C75.58478121784738 56.44106370170914, 79.46142588450977 62.5696574286289, 85.73538186635301 73.78051217396401" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M-0.6790028572082519 0.6530797004699707 C19.32693439323235 16.16292202302737, 99.4991544643307 77.84927922829603, 119.5903456210213 93.45043014460343 M1.1653819134179502 -0.049657402122393224 C21.12315406095948 15.61250287920719, 99.31628733631055 79.50014256751714, 119.0676663850209 94.88102916911345" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M91.73378960634192 86.63085537705872 C97.80955392309608 89.77859696588061, 106.63086184163672 90.35584681871104, 120.34453282102554 94.50076154902678 M90.22653667474707 86.02459436212037 C100.23271971970914 88.5361761061078, 107.72677287232753 91.19692099690045, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501254 184.75866006214244) rotate(0 59.45567138190653 47.41568588349551)"><path d="M104.55446461611936 70.60742582282448 C107.31201659003598 77.89507908920568, 112.76285225642022 82.68478457762023, 120.34453282102554 94.50076154902678 M103.04721168452451 70.00116480788613 C109.27673727120045 77.44134612612115, 112.85938786763218 84.9906076722, 118.42198905691116 95.39072398379545" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M0.6530797004699707 0.8102213859558105 C-30.878989499882103 18.089499078271373, -157.36027838625134 86.16025669811958, -188.80103899285342 102.99666329668514 M-0.46319218612276014 0.18998366824351232 C-32.20533246471571 17.21824359545431, -158.5266107042053 84.2929367439981, -189.85591068319192 101.44529896803812" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-168.54181239031473 78.71309970256111 C-174.8457524523537 87.61927071278855, -183.43265250467223 95.33427297208146, -190.2361783032786 101.54700976439432 M-169.1480734052531 79.88764761325142 C-177.0745273140418 87.22786010779531, -185.010688807317 95.52496907397051, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(223.39278132660553 180.04746221468122) rotate(0 -94.601415491361 51.59332348246434)"><path d="M-158.8184508978827 96.78452033496656 C-168.2542692191381 99.73278923031133, -180.07530208269986 101.43697162462958, -190.2361783032786 101.54700976439432 M-159.42471191282107 97.95906824565687 C-171.1423354859107 98.3174626375699, -182.8131676457216 99.6734736520745, -189.34621586850992 100.9236984831901" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M0.8102213859558105 -0.20347852706909175 C-7.249311660667366 14.916934397467859, -40.53379699657413 76.08571072940472, -49.03620113694731 91.37555724769167 M-0.22355111575685438 -1.3559086991194635 C-8.286490964497855 13.35475919590842, -40.948312607870655 74.41263783510533, -49.41303618044283 89.57117267539994" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-45.26910895639891 61.72139377232179 C-44.84966387542568 67.02548904590631, -45.67417497618659 73.99902243783148, -49.31132538408663 91.2530235855867 M-44.0945610457086 60.32359070416078 C-46.88105608033692 69.91504812756526, -48.67003477292695 80.10376199307848, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(219.19289863647785 185.5522747426461) rotate(0 -24.301407397243516 45.009824274286075)"><path d="M-27.250843037716315 71.54290565540174 C-31.270791812610604 74.57794011983158, -36.48124485224933 79.1607561660591, -49.31132538408663 91.2530235855867 M-26.076295127026007 70.14510258724073 C-34.79046687918523 76.61711928693661, -42.54825348111142 83.55231707748823, -49.93463666529085 89.39416857650772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(35.78205128205116 146.8269230769231) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589726 146.67307692307702) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(218.89743589743574 147.44230769230774) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(106.84615384615387 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C39.68177935369313 7.783664248138667, 48.36355870738626 15.567328496277334, 60 26 M31 0 C38.24992911927402 6.499936451762915, 45.49985823854804 12.99987290352583, 60 26 M60 26 C50.50674240104854 34.36011014019067, 41.01348480209708 42.72022028038134, 31 51.53846153846152 M60 26 C49.55936349518597 35.1944066832845, 39.11872699037194 44.388813366568996, 31 51.53846153846152 M31 51.53846153846152 C21.15606831945479 43.42882055101485, 11.312136638909578 35.319179563568184, 0 26 M31 51.53846153846152 C24.131178402528167 45.87977972615222, 17.262356805056335 40.221097913842925, 0 26 M0 26 C7.858693736419082 19.40883751139045, 15.717387472838164 12.817675022780895, 31 0 M0 26 C7.245209634676576 19.923372564464806, 14.490419269353152 13.846745128929614, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(126.84615384615387 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M0 0 C-25.991002644063574 15.469538237070433, -51.98200528812715 30.939076474140865, -104.76662093522819 62.35585716799375 M0 0 C-29.585556689429794 17.608974410869195, -59.17111337885959 35.21794882173839, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-85.78976298951312 39.12056370076698 C-90.49763235324909 44.884886044575794, -95.20550171698504 50.64920838838461, -104.76662093522819 62.35585716799375 M-85.78976298951312 39.12056370076698 C-91.14873039276 45.68209146537034, -96.50769779600687 52.243619229973696, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.3970474355813 65.33645052431393) rotate(0 -52.383310467614095 31.177928583996874)"><path d="M-75.29414560989099 56.75467888147318 C-82.60581775575058 58.14424588626216, -89.91748990161017 59.53381289105114, -104.76662093522819 62.35585716799375 M-75.29414560989099 56.75467888147318 C-83.61702155770524 58.33642291639734, -91.93989750551951 59.918166951321496, -104.76662093522819 62.35585716799375" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M0 0 C-0.5008379759127923 22.914868301846877, -1.0016759518255847 45.82973660369375, -1.3715854781159464 62.75422812831039 M0 0 C-0.38426774981563094 17.581424139461546, -0.7685354996312619 35.16284827892309, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M-11.013736285378604 34.345973556619356 C-7.49288004214336 44.71932100445397, -3.9720237989081166 55.09266845228858, -1.3715854781159464 62.75422812831039 M-11.013736285378604 34.345973556619356 C-8.312360648783699 42.30492050861567, -5.610985012188795 50.26386746061199, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.4225195153905 65.3421809033423) rotate(0 -0.6857927390579732 31.377114064155194)"><path d="M9.502572527769305 34.794387505319676 C5.531845677478852 45.00399544291492, 1.5611188271884 55.213603380510165, -1.3715854781159464 62.75422812831039 M9.502572527769305 34.794387505319676 C6.456033836064143 42.62770537928748, 3.4094951443589814 50.46102325325527, -1.3715854781159464 62.75422812831039" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M0 0 C23.15651321601319 16.39491245065737, 46.31302643202638 32.78982490131474, 91.04229000277944 64.45833878266023 M0 0 C20.505074218864813 14.51768206536577, 41.010148437729626 29.03536413073154, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M62.10538237018054 56.54282384916159 C69.46545518913504 58.556126965367426, 76.82552800808953 60.56943008157326, 91.04229000277944 64.45833878266023 M62.10538237018054 56.54282384916159 C68.622721055892 58.32560217324557, 75.14005974160347 60.10838049732954, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(137.45579120803774 67.48422409514626) rotate(0 45.52114500138972 32.22916939133012)"><path d="M73.96332763332161 39.794416864549895 C78.30734421959232 46.06766014344812, 82.65136080586304 52.34090342234635, 91.04229000277944 64.45833878266023 M73.96332763332161 39.794416864549895 C77.80995089989631 45.34936884833347, 81.656574166471 50.904320832117044, 91.04229000277944 64.45833878266023" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index</figcaption>
</figure>

<p>A simple hash function for an integer type is modulo: divide a number by another number, and the remainder is the hash code. For example, to divide values across 3 buckets you can use the hash function <code>mod(3)</code>:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span> <span>n</span><span>,</span> <span>mod</span><span>(</span><span>n</span><span>,</span> <span>3</span><span>)</span> <span>AS</span> <span>bucket</span> <span>FROM</span> <span>generate_series</span><span>(</span><span>1</span><span>,</span> <span>10</span><span>)</span> <span>AS</span> <span>n</span><span>;</span>
<span> n  │ bucket</span>
<span>────┼────────</span>
<span>  1 │      1</span>
<span>  2 │      2</span>
<span>  3 │      0</span>
<span>  4 │      1</span>
<span>  5 │      2</span>
<span>  6 │      0</span>
<span>  7 │      1</span>
<span>  8 │      2</span>
<span>  9 │      0</span>
<span> 10 │      1</span>
</pre></div>


<p>When a new value is added to the index, PostgreSQL applies the hash function to the value and puts the hash code and a pointer to the tuple in the appropriate bucket. In the example above using the hash function <code>mod(3)</code>, if you insert the value <code>5</code> the index entry will be added to bucket <code>2</code>, because <code>5 % 3 = 2</code>.</p>
<p>When you query a value using a Hash index, PostgreSQL does the opposite. It takes the value and applies the hash function to determine which bucket may hold matching tuples. Once the bucket is identified, PostgreSQL will fetch the tuples referenced in that bucket and match them against your query.</p>
<h3 id="hash-collision"><a href="#hash-collision">Hash Collision</a></h3>
<p>You may have noticed that multiple values can map to the same bucket; this is called a <em>collision</em>. For example, the hash function <code>mod(3)</code> returned the hash code <code>2</code> for the values <code>2</code>, <code>5</code> and <code>8</code>.</p>
<p>What PostgreSQL actually does, is to first use a hash function to produce an integer hash code:</p>
<div><pre><span></span><span>db=#</span> <span>SELECT</span>
    <span>hashtext</span><span>(</span><span>'text'</span><span>),</span>
    <span>hashchar</span><span>(</span><span>'c'</span><span>),</span>
    <span>hash_array</span><span>(</span><span>array</span><span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>]),</span>
    <span>jsonb_hash</span><span>(</span><span>'{"me": "haki"}'</span><span>::</span><span>jsonb</span><span>),</span>
    <span>timestamp_hash</span><span>(</span><span>now</span><span>()</span><span>::</span><span>timestamp</span><span>);</span>

<span>─[ RECORD 1 ]──┬────────────</span>
<span>hashtext       │ -451854347</span>
<span>hashchar       │ 203891234</span>
<span>hash_array     │ -325393530</span>
<span>jsonb_hash     │ -1784498999</span>
<span>timestamp_hash │ 1082344883</span>
</pre></div>


<p>It then uses <code>mod(n_buckets)</code> to determine which bucket the tuple should be put in. This can cause multiple values to end up in the same bucket. This is why even after the bucket is identified, the database still needs to sift through the hash codes in the bucket and recheck the condition to filter only the matching tuples.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 404.84182842513394" width="20em" height="404.84182842513394"><g transform="translate(15.512820512820554 205.0482045158265) rotate(0 25.615384615384613 24.730769230769226)"><path d="M-0.19955050200223923 -0.5022821500897408 C12.515398778651768 1.3839953097529136, 27.426766821512807 -1.110534175949601, 52.87060018514211 0.2799985334277153 M-0.22747409716248512 -0.4021441303193569 C14.981192744465973 -0.13306419310088335, 30.730505185459666 -0.04445461687560259, 51.473113606468985 0.20535940304398537 M52.097404918418476 1.3712785169482231 C52.5340261001627 20.319714284659575, 50.905008985523416 37.343093594851396, 52.55776568387563 48.9073263607346 M51.521042416588614 -0.22304731234908104 C50.4750079852142 14.56966808911126, 50.79115876970669 27.401877051362618, 51.53992934037859 48.92918941521873 M52.43172617887075 48.85438027003636 C30.712035871411743 50.321871338985275, 10.87089323240977 51.26784783472807, -0.3571072742342949 47.53630389788975 M51.303831050888846 50.22865745568504 C38.01795174353397 49.79344410992012, 25.740247332419337 48.88824112511024, -0.9162337817251682 49.94066080594291 M0.5526808574795723 47.91920985797276 C-1.5679373418683042 34.313584183700954, 0.46043995267210097 20.68671064565961, 0.6570998504757881 -1.1331176832318306 M0.9474298916757107 48.849839539768595 C0.9555796319217635 35.72578146867453, 0.6599521571369125 22.443218911496487, 0.9200445376336575 -0.5301238857209682" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(106.58974358974342 210.6635891312111) rotate(0 24.84615384615384 22.03846153846152)"><path d="M-0.5022821500897408 -1.6616669818758965 C12.121727174119306 -0.8777840748142738, 20.07580699393382 1.6894115791011315, 49.972306225735394 -0.19079291075468063 M-0.4021441303193569 0.10068535432219505 C10.70609081238508 1.0825275334543907, 21.318052714318032 0.35538150398203955, 49.897667095351665 0.9037443362176418 M51.0635862092559 0.9852916076779366 C50.3439581250084 15.412852115384648, 48.05881737221604 33.44015169779839, 49.13809559150383 43.70460517417922 M49.4692603799586 -0.7168144024908543 C49.93026358338788 12.475344237026103, 48.84478182050183 26.061175819658295, 49.159958645987956 45.056108177567864 M49.085149500805585 43.94386107933059 C34.53647095119723 44.78678141304503, 19.36229649094434 44.01820741364012, -1.9252345636487007 43.07930119049087 M50.459426686454265 43.67788952674999 C35.54814443886279 44.250275157157006, 20.247278603624828 43.19699539965731, 0.479122344404459 43.79160982456341 M-1.542328603565693 42.332900357360984 C-1.411919892691076 32.707359693342646, -1.611535132788122 21.426187010281343, -1.1331176832318306 -0.7236872836947441 M-0.6116989217698574 44.75827032413616 C-1.0565939008072016 33.683347519401146, -1.2904292403534052 23.43837695465636, -0.5301238857209682 0.38991236314177513" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(190.82051282051282 126.04820451582646) rotate(0 24.846153846153868 18.961538461538453)"><path d="M-1.6616669818758965 1.6731178686022758 C16.78472960539737 -0.6966138213471723, 37.06401956425267 0.4047963291807818, 49.501514781553055 -1.7645950391888618 M0.10068535432219505 0.18273848667740822 C18.94037387107429 0.47118276150753885, 36.18411130750412 0.40519410164883524, 50.59605202852538 0.6428535617887974 M50.67759929998567 1.011194221675396 C49.21290964458142 7.0095195132665875, 51.18363160464917 16.012719987963248, 49.31998978956392 37.76559357631663 M48.97549328981688 0.651977363973856 C49.401724597854724 7.381244399885715, 50.11154832546245 15.09714855127609, 50.67149279295256 38.167070149515666 M49.55924569471529 38.88739113796214 C36.204669857311735 39.6825121753548, 21.53699129774022 35.84698690107807, -0.9976218864321709 37.71699695575694 M49.29327414213469 38.1745765200601 C34.14174680778616 37.650572666187685, 17.40086018999037 38.783398398418825, -0.2853132523596287 37.56707227144102 M-1.7440227195620537 36.2023809431837 C0.179557781617802 27.28250250383637, 0.5523030571152385 19.349432841344512, -0.7236872836947441 -1.108871228992939 M0.6813472472131252 37.23604714784483 C0.026425205815870156 22.445618331575613, 0.5607499710212535 8.279766083909912, 0.38991236314177513 -0.5403187833726406" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(10 359.79820451582634) rotate(0 122 15.5)"><path d="M1.3830574546884684 -0.766591932933393 C70.08647644775337 3.0313232719419307, 141.76242428282572 1.5180658793169806, 242.54132433269913 1.0191277193675368 M0.151057992386882 0.8014145071813656 C67.87393778094331 -0.0027509487309640146, 135.4690212875341 0.5439852753517442, 244.53140512547856 -0.6743016239396497 M245.0111942216754 -0.6437255069613457 C242.93860163901002 11.97028176896274, 243.65833606932313 20.914252728968858, 243.84251665323973 29.121368534862995 M244.65197736397386 -0.4006636179983616 C243.4973509342596 10.509006985649467, 243.39850628685207 21.37887885272503, 244.24399322643876 30.797033425420523 M244.79713568815882 31.340132714068066 C157.7274380126833 30.57061041290852, 66.70518457784806 30.041138744557248, -0.1703528725695461 31.25947859544004 M244.20789831905228 31.11328697277518 C168.47691761982585 29.43776302487535, 94.43064238150487 29.959303890483323, -0.29428583400409963 30.42090998810497 M-1.7206959798932076 31.28435457497835 C-1.6812502864375711 21.500444521382448, -0.8940567496791482 9.96300205811858, -1.108871228992939 1.676905281841755 M-0.6870297752320766 31.385719772428274 C-0.7312384490296244 19.683011873438954, -0.34049721997231247 6.9158470347523675, -0.5403187833726406 0.2720078192651272" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(41.5 358.79820451582634) rotate(0 -0.8478831860562792 16.463739876449097)"><path d="M1.0038707211613656 -0.5564188197255134 C0.8052911077936491 5.190397640566031, -1.1868683700760205 27.99357472707828, -1.4928469702601432 33.48389857262373 M0.07176412043161684 1.7658573545794933 C-0.30159107876631125 7.280370204724991, -2.4360931333185487 26.56502824701679, -2.699637093273923 31.87787057447247" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(78.5 360.54820451582634) rotate(0 0.40188434262697115 16.24821416716088)"><path d="M-0.5564188197255134 -0.49284697026014324 C-0.3929356927673022 4.784507762889067, 0.07690806041161197 27.34565079559882, -0.016101427376270516 32.66799912005663 M1.3523225705791266 -1.797195574985817 C1.5311130503782384 4.221388141267623, 0.10116592317509154 28.626944251510622, -0.4476001403760166 34.29362390930764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(115 358.04820451582634) rotate(0 -0.12128858226351724 17.158845557896427)"><path d="M-0.49284697026014324 0.9838985726237295 C-0.7988255704442659 6.47422241816918, -0.5710158710678419 27.009554350872833, -0.8320008799433709 32.38552425354719 M1.449269641013816 0.45484137791208923 C0.9121309869208684 6.1882029905697955, -1.496918072331076 28.72439717330349, -1.6918468055408449 33.86284973788075" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149 358.54820451582634) rotate(0 -0.5693612021720043 15.816707751555384)"><path d="M0.9838985726237295 0.1679991200566291 C0.8908890848358471 5.490347444514434, -0.9071123157938321 26.098070982595285, -1.1144757464528083 31.441242976486684 M0.04130659391172231 -0.7894052872527391 C-0.171054163776959 4.687793655746305, -2.0094651505382113 26.724385036680225, -2.1226209769677373 32.422820790363474" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(183 360.04820451582634) rotate(0 -0.945378951728344 16.009769264995157)"><path d="M0.1679991200566291 -0.11447574645280834 C-0.09298588881889985 5.2614941562215485, -1.8185956840713817 27.88440085699161, -2.058757023513317 33.239717988669874 M-1.202940071253106 -1.2201794586796315 C-1.061463498600448 3.7287923910996565, 0.2605227128385257 25.788538095134623, 0.0973500755149872 31.50549518394284" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(217 359.54820451582634) rotate(0 -0.9077400482707816 16.28119531495031)"><path d="M-0.11447574645280834 -1.058757023513317 C-0.32183917711178456 4.284414970378082, -0.03226580967505785 26.613767841955024, -0.26028201133012785 32.227031083405016 M-1.6337142426799984 0.999791593803093 C-2.0204647632470976 6.508746632688369, -0.6753242287070802 28.12082274720383, -0.8199755309056491 33.621147653413935" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M-1.058757023513317 0.7397179886698722 C14.811713314660995 15.78092279276526, 79.2502595633696 75.11693737314522, 95.3908211491025 90.13275307811952 M0.5862568098027259 0.0824659873824567 C16.26012115595786 15.295830033809825, 78.55011881144337 76.05270114217393, 94.29946700426294 91.4168275272396" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M68.18713547028958 78.62330896589998 C74.72460251364633 83.39520403521757, 84.48075692485948 89.00712432738975, 94.84216313006831 91.90151627863912 M66.13855326287805 79.51157500404958 C76.51653828872233 83.35006865960578, 85.10161388463223 86.49051535688916, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(39.50643336181476 255.73369756918925) rotate(0 47.1660320627946 45.74964675731104)"><path d="M82.51577591223497 63.93283363419998 C84.5400367147757 73.19111564122828, 89.79699907791733 83.41584411032204, 94.84216313006831 91.90151627863912 M80.46719370482344 64.82109967234958 C86.38509883209882 73.46053082730776, 90.37733019066611 81.30980284855619, 93.66249373870446 92.0803257537928" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M0.7397179886698722 -0.2729689165949821 C20.475055826192385 15.53261243680043, 98.58760254028084 77.92635341778015, 118.29755127868226 93.77473109685916 M-0.3310687966179102 -1.4618815431464465 C19.21403924622353 14.651280760211105, 97.31617065213452 79.61768070648041, 117.09615501295386 95.37558812130342" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M88.31627940736169 84.68704535430743 C97.11265823398568 88.55319083636373, 107.07753679168015 91.60139405632607, 117.58084376435338 95.7863069273914 M89.20454544551129 86.17697287342025 C100.38474218322703 90.08654276478784, 110.6275611214584 92.80253264308425, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(116.42434244501248 260.287633808738) rotate(0 58.983241241032175 46.95685328907851)"><path d="M101.29652990115403 68.79260923646282 C106.18242435272083 77.35547264051694, 112.37705475097935 85.02037940924626, 117.58084376435338 95.7863069273914 M102.18479593930363 70.28253675557565 C108.40001269094637 80.29100578855251, 113.57567369439494 89.21177716408982, 117.75965323950706 95.0984820709015" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-0.4825729563832283 0.12082242518663411 C-8.449873775255824 13.980706899933212, -39.31822317844701 69.2375145533293, -47.0640869245657 82.88633793188448 M1.4649375121761112 -0.8613497469294816 C-6.705922378416131 12.718583748763123, -39.72743348108118 67.31699609956553, -47.89700714158614 81.3745421383642" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-42.10851234209221 52.26487628944504 C-42.458495798913916 63.07911111068027, -45.933333101357825 73.60661775133254, -46.08951846915085 82.6602492619418 M-41.81723724689763 52.40499642692792 C-43.72440971030766 57.73893332611301, -43.95943368970588 64.53700030066432, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(210.75609523023303 270.1277797646135) rotate(0 -23.21603481470501 41.01249409247748)"><path d="M-24.469394470231443 62.75208388195706 C-31.17458867399639 69.70275707268551, -41.02849240417217 76.43763675999281, -46.08951846915085 82.6602492619418 M-24.178119375036864 62.892204019439944 C-29.98361397149682 66.05638069461182, -34.071517142127675 70.56374672817189, -48.083166092958045 81.29580046498407" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(39.62820512820508 216.20205066967264) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(125.43589743589723 222.2020506696726) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(208.89743589743574 222.20205066967264) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(191.76923076923043 208.93281990044176) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8833133674831936 6.360576506008498 C2.4877938214388613 4.244359478950132, 2.9130609833291805 1.6766131467793663, 4.488451119842476 -0.23663964459325726 M-0.28850608092265817 6.303106069614284 C1.0343724624951793 5.088796225112576, 1.888014702162439 4.282290327798344, 4.970310227158016 0.38432958385322624 M-0.5029007366765632 13.458718479096472 C2.353221118850686 11.092114433712052, 4.956941893578481 8.698890616321265, 11.4407319977404 0.8728738243773342 M-0.6591631433833731 11.31608433467108 C3.9865724479397984 6.668010527512484, 7.219039421112019 3.1231247390868266, 10.500751577270162 -0.12200269446822387 M0.37998445792587 18.390085420478755 C4.482960960318687 14.556425820871183, 9.369435253632687 8.388453495554378, 15.583549394741137 0.5507988861692121 M-0.9552512681624155 19.226351412851983 C5.8000587369344 11.326027374332568, 13.478120582025662 5.072244249357301, 15.40744865266927 -0.00812166492222044 M1.5975401254556392 24.819753056108116 C9.012704787803802 16.08196464042257, 15.121256719053424 7.865628445076538, 22.419335900151992 1.5604580318718675 M-0.6602380534448411 23.609279351024984 C6.579393143173927 17.14423667885636, 10.002655516387541 10.809855341916405, 21.127566026801134 0.5369015125721219 M-1.5877207433293208 32.27249422459697 C12.03821191842475 18.014435009911747, 22.677173939928053 8.467875584083604, 25.392589072373124 -0.3963112426909863 M-0.32496810233691775 30.60522756888365 C10.012474822088501 19.477456448849097, 18.497309168309286 9.813292301640764, 27.05334541076085 -0.02710092868537295 M-0.7782840413135013 35.771675517597544 C6.147948382364462 26.70279687017547, 16.004970283356485 21.689271690024167, 30.62719454751054 -1.9961644260898943 M-0.6504380499106368 37.02552652526771 C6.812786442359539 28.29680120828104, 14.54967392142883 20.172678234300996, 31.292192948466933 0.14164813992224978 M0.6811768386186117 43.20785102676206 C15.96499601411529 27.856445482615456, 26.895655491491077 10.981070706839972, 37.13061434570824 0.7202688139956912 M0.7209492187620157 43.06041292901688 C13.223832637152727 29.18218176830856, 24.049749136934004 15.108359493210564, 36.76087241787587 0.9076704179030379 M-1.0143760833890028 48.35289108441107 C14.046826659574279 32.04593134494648, 31.86824917990042 12.516923527451716, 43.292359103072215 1.060707988995219 M0.6122074816375189 49.16815847963922 C17.46468029476411 29.97640987576258, 33.66591877306046 10.506942918369262, 41.80897746290617 0.7455555338739401 M2.3363039447317 53.308176881082936 C12.928061036636041 41.196284006174814, 22.17704874972543 29.41155637127906, 46.885515839746475 -1.5311015687707616 M2.9034164985964175 52.39826448486058 C20.342490193804384 31.369287138664443, 37.544321517093195 11.495909910963782, 48.34545936151433 -0.597362312656994 M9.693803943124706 51.32995374909821 C22.606799840305026 34.573881319768866, 38.25442919195592 18.802927776744745, 50.90916116284651 -0.008355767650019885 M7.409777547595198 51.09181514418903 C19.95502137514061 36.840040139474226, 32.11059270482506 22.873365436026603, 51.80604022862834 1.241028587149966 M13.276523431933999 51.54165452077743 C25.35359757323413 35.931560307685956, 41.26148723906369 19.76772342148547, 52.96565291857327 8.085323206014614 M14.505085656590342 51.46880090713259 C20.651686604505123 42.42554858136944, 28.914315990614792 33.807456230059316, 52.655504668261656 6.91913241413949 M19.810674431303564 53.68389952844113 C31.03742462798113 36.72207744339456, 45.68264438700518 21.451833886038244, 50.912105916975804 12.498147382315967 M18.496729603538338 52.25311847319931 C25.991329925828488 44.49947737034908, 33.07377906448256 36.01008788241084, 52.164175498275824 13.148906315591905 M22.404517577339426 51.84565828351879 C36.84623495178536 38.61102487237085, 44.40461980577457 25.433867055348827, 53.02103426516964 18.378483352906265 M23.624928032357708 52.27873247100615 C31.578880433937453 42.79037914344116, 36.92843365929103 36.11728645936361, 52.69355608359887 18.679180750346937 M28.549889890185554 51.251926118330935 C34.74415579811608 42.233448110521365, 41.51978242028503 35.73023594477074, 53.854587483298744 26.00601395010606 M28.189257221004922 51.15235210006116 C36.65995396770647 43.45364069744954, 43.41559877015189 36.109598009732366, 51.695566452187265 25.901821167912637 M34.620677005947975 52.97604754430703 C41.10065624890303 43.215905935815854, 48.21417976160118 35.617223404005344, 52.106963707469134 32.2587711853448 M35.17212331339851 51.84075448898128 C38.74243348634677 47.66508979693839, 42.06338637453563 42.9296166428115, 51.67995649795952 30.19376094690595 M37.96925618540117 50.78097336899365 C43.79053359549952 48.10613638695969, 46.797709473805014 41.6554014576446, 50.687528950343584 39.30374826509866 M40.33565787098924 51.35673839032526 C43.504435060770554 46.73001007672866, 46.78342345833629 43.87109225379813, 52.33568042683855 36.623670153695976 M45.603730846932564 52.2467145902127 C46.64466075348626 51.331873224640454, 48.09339524929117 48.625204865430554, 50.97473978067723 44.23787758821341 M44.52735821138177 52.0632239176914 C47.565088069366716 49.156750178839886, 50.34645790109832 45.727992784487675, 52.27758183128176 43.426502319105886" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M1.7881132438778877 -1.9856047704815865 C12.554057232519755 -1.2585733573654525, 25.196595764618653 0.12386554072109546, 52.77154823278005 -1.056793935596943 M52.15927392874772 -0.14972387999296188 C52.24389845523983 13.764610193068018, 52.41853553447872 25.27282396583603, 50.4256168070894 47.94889501252999 M51.174012145743916 49.74028720477452 C37.42190567249288 48.33493883444139, 22.680426945823886 49.37452037168809, -0.3310612365603447 48.80458845713963 M-0.5470633581280708 50.166178261431355 C1.7950452980485099 35.15590045225734, 0.6715027508225578 16.88916054591536, -1.2611968591809273 0.7664104774594307" stroke="#f41d92" stroke-width="1.5" fill="none" stroke-dasharray="3 6"></path></g><g transform="translate(112.12805383672253 10) rotate(0 30 25.76923076923076)"><path d="M31 0 C39.60545709244907 7.7152373932302005, 48.210914184898144 15.430474786460401, 60 26 M31 0 C39.98605573661625 8.05646376386285, 48.97211147323251 16.1129275277257, 60 26 M60 26 C53.66638129837811 31.577616469332803, 47.33276259675622 37.155232938665606, 31 51.53846153846152 M60 26 C48.87317028753459 35.79869353988995, 37.74634057506918 45.59738707977991, 31 51.53846153846152 M31 51.53846153846152 C23.677215790376067 45.50579563872171, 16.354431580752134 39.473129738981896, 0 26 M31 51.53846153846152 C22.449277359619735 44.49419375531947, 13.89855471923947 37.449925972177425, 0 26 M0 26 C10.536266363039614 17.163131437450645, 21.072532726079228 8.326262874901293, 31 0 M0 26 C11.768365174159408 16.129758241027595, 23.536730348318816 6.2595164820551865, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(132.12805383672253 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M0 0 C-28.495658624052027 39.51638923026622, -56.99131724810405 79.03277846053244, -92.91223430429181 128.84615384615387 M0 0 C-35.64949572963878 49.436981531146635, -71.29899145927756 98.87396306229327, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-84.74597029705222 99.97900760403179 C-87.2505174444394 108.83239866631195, -89.75506459182657 117.68578972859211, -92.91223430429181 128.84615384615387 M-84.74597029705222 99.97900760403179 C-87.87928418228017 111.05504311637392, -91.01259806750814 122.13107862871605, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(136.9313105462623 67.30769230769232) rotate(0 -46.45611715214591 64.42307692307693)"><path d="M-68.101069209058 111.98181019995612 C-75.71051371238666 117.15400935175882, -83.31995821571532 122.32620850356152, -92.91223430429181 128.84615384615387 M-68.101069209058 111.98181019995612 C-77.62086529116603 118.45249031329095, -87.14066137327406 124.92317042662579, -92.91223430429181 128.84615384615387" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M0 0 C-0.709041979940326 33.657957604501625, -1.418083959880652 67.31591520900325, -2.9100470165774937 138.13884351292575 M0 0 C-0.8738156617443605 41.479702654018425, -1.747631323488721 82.95940530803685, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M-12.574637247120437 109.73821507488421 C-10.219829866573217 116.65811626704499, -7.865022486025997 123.57801745920575, -2.9100470165774937 138.13884351292575 M-12.574637247120437 109.73821507488421 C-9.672598118652262 118.2662264063747, -6.770558990184086 126.79423773786519, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(141.70441950595915 65.3421809033423) rotate(0 -1.4550235082887468 69.06942175646287)"><path d="M7.942019409577396 110.17042106398662 C5.297879771485093 116.98501392658794, 2.65374013339279 123.79960678918927, -2.9100470165774937 138.13884351292575 M7.942019409577396 110.17042106398662 C4.683410338505787 118.56865154993545, 1.4248012674341792 126.9668820358843, -2.9100470165774937 138.13884351292575" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M0 0 C21.82529086598449 20.93923827106187, 43.65058173196898 41.87847654212374, 57.61034315759619 55.27150633005465 M0 0 C22.81293896902497 21.886790314446475, 45.62587793804994 43.77358062889295, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M30.164309002621188 43.158900947068474 C40.56205436774476 47.747679995049296, 50.95979973286833 52.33645904303012, 57.61034315759619 55.27150633005465 M30.164309002621188 43.158900947068474 C41.0325779245129 47.95533353560639, 51.90084684640462 52.75176612414431, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(149.95302058214017 61.2864411631366) rotate(0 28.805171578798095 27.635753165027324)"><path d="M44.3712938687299 28.350741594873572 C49.38681861101766 38.549492174657146, 54.40234335330541 48.748242754440724, 57.61034315759619 55.27150633005465 M44.3712938687299 28.350741594873572 C49.613783444058825 39.011010727851094, 54.85627301938775 49.67127986082862, 57.61034315759619 55.27150633005465" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(215.84615384615375 165.89435836198027) rotate(0 0.3846153846154152 21.153846153846132)"><path d="M0 0 C0.23940691552485024 13.167380353865703, 0.4788138310497005 26.334760707731405, 0.7692307692308304 42.307692307692264 M0 0 C0.16685400129512135 9.176970071230935, 0.3337080025902427 18.35394014246187, 0.7692307692308304 42.307692307692264" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g transform="translate(207.5384615384616 137.70205066967247) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M0.537255983054638 -0.5164419695734978 C-25.195717696318376 13.007344287378437, -127.84770122949952 67.49526718727175, -153.32559525799363 81.16888101990727 M-0.6398233551811427 1.8268220510613173 C-26.657042332164917 15.535847339030076, -129.1134273795782 69.08827673839266, -154.46805519483408 82.60526979407688" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-135.17579685561074 59.76519201654494 C-142.47761293964737 70.16713330094196, -149.7303268088794 76.5761446111615, -152.94518513850292 81.06575895538946 M-133.49052421040548 59.56104871961772 C-139.31195774937274 65.53611584887621, -142.4797328959443 70.67432462693765, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(209.91295929286983 266.7312869756914) rotate(0 -76.96539960588973 41.044413912251656)"><path d="M-125.60610432944877 77.91845583715194 C-136.63787547258147 81.29519781571429, -147.61658646322502 80.63616503205189, -152.94518513850292 81.06575895538946 M-123.92083168424351 77.71431254022473 C-131.6475698672048 79.80475481530144, -136.8595776194713 81.0651489508949, -154.99567520863732 81.85958349770327" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index overflow pages</figcaption>
</figure>

<p>As rows are added to the index, it's possible for a bucket's primary page to fill up. In this case, additional rows are written to overflow pages. The overflow pages contain index entries that did not fit in the bucket's primary page.</p>
<h3 id="index-split"><a href="#index-split">Index Split</a></h3>
<p>At some point, the database can decide it needs to split a bucket into two buckets. PostgreSQL uses special hash functions that ensure values in a bucket can be split into exactly two buckets. When a bucket is split, additional storage is allocated to the index.</p>
<figure>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 306.71794871794884 331.53266336844274" width="20em" height="331.53266336844274"><g transform="translate(10 135.66358913121098) rotate(0 25.615384615384613 24.730769230769226)"><path d="M0.46364592760801315 0.6525715664029121 C12.807024691368525 0.3073646277131943, 26.215825513234506 1.0152157992067246, 53.08060819541032 1.576662190258503 M0.6510475315153599 0.715393777936697 C13.7359403777581 0.18703549221731147, 25.480321901979355 -0.2229871241691021, 50.583604353265116 0.7041979990899563 M52.42945653830583 1.8350220993161201 C49.60865819716969 18.146282168277178, 52.728272083049205 33.55630474944527, 52.18697983656938 50.703691040667195 M52.11430408318455 -0.8891390599310398 C51.78191803017201 15.581770259457135, 51.13395152607502 30.298403303210545, 51.633173125581095 49.89994492525091 M49.477539605246136 51.31428483644356 C36.15056328045634 50.31966970325089, 17.24594260752201 51.014016846424106, 0.8470594808459282 49.869738375338216 M50.411278861359904 49.841916704120536 C34.54117078402867 50.51754322387277, 20.280990837800957 49.60462906695901, -0.3735545240342617 49.611108803691764 M-0.590591199696064 49.03373793283333 C1.1766373284820182 36.278281890916126, -1.4092388979431527 19.053717267455955, 0.1285867616534233 -0.9884282276034355 M0.6587931551039219 50.06592848295202 C0.5911258164764597 34.8007444097732, -0.04406145178068144 21.873813357834624, -0.9480625949800014 0.07047772035002708" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(93.3846153846153 138.20205066967264) rotate(0 24.84615384615384 22.03846153846149)"><path d="M0.6525715664029121 0.28208183497190475 C17.064400093314735 1.050741619966351, 34.46439542930859 1.7346407841661802, 51.26896988256618 -0.9394140318036079 M0.715393777936697 0.7730547823011875 C18.874492391370804 -0.7689698315182557, 37.211565705732646 -0.9706854200878968, 50.396505691397635 0.3416140712797642 M51.5273297916238 -1.6482439115643501 C51.48058943185954 14.927326198695932, 50.362474722005416 27.868123054561682, 50.93446027143642 44.02407020043864 M48.80316863237664 0.36843806877732277 C50.252770382575676 14.571748311215854, 50.26165111701934 30.1049573878829, 50.13071415602013 44.39533294078245 M51.54505406721279 45.99718612145915 C35.98819373232813 43.65742431334001, 21.961004112775505 44.48837242773515, 0.4081999137997627 44.294962105269576 M50.07268593488976 43.315070756639386 C33.02121871870297 44.57541326099286, 14.81056800031891 43.29614487701306, 0.14957034215331078 43.986909159387494 M-0.4278005287051201 45.717601952071334 C1.559342373870313 25.773410758404754, -1.2719833955541255 9.488879904093643, -0.9884282276034355 -0.4189746454358101 M0.6043900214135647 44.5876467311038 C-0.5550855552892275 31.445874592575862, 0.32028840425209326 18.115690741401437, 0.07047772035002708 0.030039016157388687" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(173.76923076923066 140.5097429773648) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0.28208183497190475 0.37225592881441116 C16.703058241938184 0.9179681649632178, 32.92407584763493 1.4145232549137794, 48.75289366050413 1.5452708080410957 M0.7730547823011875 0.12739646062254906 C13.883762321907755 -0.6381218331077927, 28.011258344180337 0.3487023217460281, 50.0339217635875 0.05283474549651146 M48.044063780743386 1.618144877254963 C51.39096722147504 13.340783490613097, 50.87580785296002 26.923659225553262, 49.63945481582334 38.661876144890584 M50.06074576108506 0.8740179501473904 C49.74784285871173 9.562042649462816, 50.42977518884326 17.796694393455976, 50.01071755616715 37.88561528090099 M51.61257073684385 38.9404997258232 C36.34580705779106 40.09518308368438, 23.814143171218742 38.79161305156463, 0.21803902834653854 38.88501423883895 M48.930455372024085 38.5497245109425 C31.525693588302712 37.82582908072722, 11.174097240372355 38.261665991928695, -0.09001391753554344 38.86126356485943 M1.6406788751482964 39.133059206490316 C-0.8332121737960441 27.930648485714414, 0.24057193913425384 20.19247879277054, -0.4189746454358101 -0.3251098319888115 M0.5107236541807652 37.06458788279156 C-0.37429824905040154 29.173473636318846, -1.1978972299540271 20.460578231398866, 0.030039016157388687 0.013348933309316635" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(27.564102564102598 287.33666605428766) rotate(0 122 15.5)"><path d="M0.30771970526431497 0.9638064137498049 C79.7493344336594 1.244663295860825, 159.01628446794743 -1.0610302970046417, 245.2773746253509 -0.19246128720987735 M0.1053103477474287 -0.36822388386848715 C88.85193115323015 -2.094211933352703, 178.7532341100877 -1.276852844780535, 244.04367503927656 0.31908091881090844 M245.61814487725496 1.4713699743151665 C244.78445859279483 12.114175932481885, 245.52658100452274 22.263077776879072, 244.73879922181368 29.57723616808653 M244.8740179501474 -0.2795284353196621 C244.60726557601242 12.441361937299371, 244.16277335513382 24.39632594883442, 243.9625383578241 30.689070526510477 M244.84103709506363 31.013318216183773 C193.60441003827287 33.63678347901353, 140.71623511686727 33.11681328306579, 0.7951708606274932 32.38557974972726 M244.51800870346577 31.748694595473307 C190.55892710553564 29.154559148142248, 137.71477007704675 29.388943680687195, 0.7755377269925667 30.344797258196035 M1.2099822834134102 30.054802648723125 C-1.5550344040617348 22.744003121182324, -0.9221191456541419 13.811858073621988, -0.3251098319888115 -1.3766999319195747 M-0.8584890402853489 30.875536385923624 C-0.17047598738223313 18.709678624197842, -0.11688318628817795 8.345521454513072, 0.013348933309316635 0.36635977402329445" stroke="currentColor" stroke-width="1" fill="none"></path></g><g><g transform="translate(59.0641025641026 286.33666605428766) rotate(0 -0.5001835371035099 16.81556717542469)"><path d="M0.2233535572886467 0.699563880264759 C0.09944044401248293 6.273006259898345, -0.3057096992929777 28.40377209534248, -0.3519357398152352 33.60990337878466 M-1.1185245544742792 0.02123097206465907 C-1.3780133410325894 5.271348349206771, -1.092326160374408 26.580579233619698, -0.959747466845438 32.07002790386789" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(96.0641025641026 288.08666605428766) rotate(0 0.15016923773380597 16.694345682798883)"><path d="M0.699563880264759 0.6480642601847648 C0.6896729265650112 6.185171552995841, 0.4871054286758103 27.982814276715118, 0.10990337878465639 33.4459973141551 M-0.39230381193570785 -0.057305948557332176 C-0.47790880513998363 5.137400421180452, 0.11671690977799393 26.548618560212976, -0.25544281098060306 31.820071155307815" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(132.5641025641026 285.58666605428766) rotate(0 0.04921238874437961 16.91243005971421)"><path d="M0.6480642601847648 1.1099033787846564 C0.6018382196625074 6.316034662226836, 0.06614761004845311 26.727951315542064, -0.05400268584489809 31.936351580917837 M-0.4708407325576991 0.6469987073075028 C-0.6118567331663022 5.946966662757719, -0.525243763628726 27.68495254442406, -0.505399559540674 33.17786141212098" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(166.5641025641026 286.08666605428766) rotate(0 -0.8488529619714313 16.91210222178603)"><path d="M1.1099033787846564 0.9459973141551019 C0.7327013288935025 6.409180351595084, -1.1887153511246045 28.037952530880766, -1.5636484190821647 33.427162484824656 M0.2334639233071356 0.39704195874743187 C-0.41229049158903475 5.479013839044297, -2.438909779417639 26.632704397815587, -2.8076093027275055 31.791348040578885" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.5641025641026 287.58666605428766) rotate(0 0.20593731994275544 16.630370956487013)"><path d="M0.9459973141551019 -0.5636484190821648 C0.8258470182617507 4.644751846293608, 0.12128586421410259 26.70661814560493, -0.07283751517534243 32.3603049710393 M-0.016492825252935273 1.7548322155606004 C-0.2702433153024564 7.668260368459547, -0.44115792602611065 28.872419460269935, -0.5341226742696015 33.82439033205621" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(234.5641025641026 287.08666605428766) rotate(0 -0.40989147561602124 16.824787940918497)"><path d="M-0.5636484190821648 0.9271624848246576 C-0.938581487039725 6.316372438768547, -1.2100485210617384 27.86450649549564, -1.1396950289607048 33.281257037818435 M1.3412974315602333 0.3683188440185039 C0.6990032141127934 5.337481771983827, -1.8614428635717681 26.368199193853265, -2.1610803827922793 31.568842233894394" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M0.9271624848246576 -0.13969502896070485 C17.154231952102748 12.64952123601864, 82.05380406216666 63.57069126763096, 98.30841411782366 76.1716491707939 M-0.045215939981862796 -1.2586388645041735 C16.00941746430461 11.249380732029106, 81.40030110334925 61.479366192554075, 97.77052859905113 74.4997725021153" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M68.99805450635274 66.55587208489976 C81.4300020129425 70.08206837209508, 91.06577137022342 71.1477494479479, 97.2052762875234 73.20544274710709 M69.61687941672524 65.85312067563734 C80.75162731437997 67.83947601090094, 91.21483979186033 72.824182749593, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(41.49566809309596 198.57430850488367) rotate(0 49.13159908892089 37.45650515314486)"><path d="M81.61827532565145 50.374091315837944 C89.1932583769564 60.127990223348874, 94.04807023852263 67.32386562540185, 97.2052762875234 73.20544274710709 M82.23710023602395 49.671339906575525 C88.75234770307748 57.65841509803721, 94.54078050986584 68.63717383137637, 98.02054368275155 74.97787780501538" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M-0.13969502896070485 0.7812570378184318 C24.36294645750008 16.390325692086627, 122.13781737503815 79.19188899591173, 146.45220049968253 94.58157441043383 M-1.6721736485045404 0.14581303733401008 C22.796882132497128 15.349293474522568, 121.49929664278622 77.27762246313114, 145.95485311615545 92.94602417450487" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M117.94899271465034 87.9702723768126 C125.6582778164579 88.44943803078024, 130.63704108300433 89.25043495587504, 144.66052336114723 94.35442017268478 M117.24624130538793 87.45699587059727 C125.6197482126734 89.37624679709614, 136.97314279368652 90.95800764737733, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(105.14193582029839 187.8260953471996) rotate(0 72.390013425589 47.363693723883955)"><path d="M128.92379587384124 70.6303272211077 C133.99010878740356 75.48423098691177, 136.19192531039405 80.67274206921931, 144.66052336114723 94.35442017268478 M128.22104446457882 70.11705071489237 C132.93635722112876 77.87300483920427, 140.6223961355141 85.24910616223775, 146.43295841905552 93.56710046406924" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M0.7812570378184318 0.8584725335240362 C-24.128784318431002 17.892008238611208, -123.40366105667641 85.27634928016657, -148.53308565267193 102.06151920156233 M-0.26772174666635684 0.26356666828505704 C-25.33574035700848 17.527070064972552, -123.86512324663204 86.60497793161974, -148.99410660344938 103.67920422297581" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-130.21363307644265 80.75107433661547 C-137.96352274531202 87.66025912030273, -145.32897193241845 96.49006616708128, -147.58571060526947 104.36243236553534 M-130.72690958265798 78.38084281623092 C-136.0374500787696 87.51621485753745, -141.8930798493096 94.73021602982998, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(200.1213545109003 183.1148974997384) rotate(0 -74.10642478281548 51.97138544563046)"><path d="M-118.54095064394969 97.62912183080181 C-130.6748696521777 98.24682937259666, -142.44399633975533 100.70916446664445, -147.58571060526947 104.36243236553534 M-119.05422715016502 95.25889031041726 C-127.9933939366363 99.31163285046821, -137.4125007574824 101.37304504012151, -148.373030313885 103.65277778473362" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M0.8584725335240362 0.9276657387614249 C-14.569786445583313 16.03150903354474, -77.03262414080605 76.36521807960611, -92.7092489036048 91.40431680651832 M-0.14996811571530988 0.3690863062720746 C-15.710648440235394 15.562165183109052, -77.91119114652791 77.37728488007936, -93.57703459703981 92.66110900571088" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-79.15756357266065 65.8183639442179 C-85.13030025076485 72.90422605372251, -89.24587781567507 82.69168647881304, -92.89380645448028 92.7667784967039 M-81.5277950930452 66.37264346160028 C-84.16450078864119 75.10692660782176, -88.78100048566147 84.65321380097839, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(270.22507838109743 187.4503347955134) rotate(0 -46.35928103175789 46.51509765599144)"><path d="M-64.75139635359899 80.43282077443477 C-74.97342442895257 83.40753723964382, -83.24314633067466 88.98079119651447, -92.89380645448028 92.7667784967039 M-67.12162787398354 80.98710029181716 C-74.72385241084409 84.90510673292088, -84.21828012958429 89.50293904489264, -93.60346103528201 93.03050861661772" stroke="#f41d92" stroke-width="1" fill="none"></path></g></g><g transform="translate(34.11538461538453 149.89435836198027) rotate(0 1.5 10.5)"><text x="1.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(112.23076923076911 149.74051220813408) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(193.38461538461524 150.5097429773648) rotate(0 6 10.5)"><text x="6" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(247.0256410256411 140.7789737465955) rotate(0 24.846153846153868 18.961538461538453)"><path d="M0 0 C0 0, 0 0, 0 0 M0 0 C0 0, 0 0, 0 0 M-0.8109265841217587 6.142996145834319 C1.252880061914266 4.531640957937469, 2.322047558470259 4.001243663879113, 5.588092198553032 0.53787079265688 M-0.43425123613792155 6.23871867363631 C1.5273840243874537 4.186059419470398, 2.94653180463719 2.6556828064695917, 4.793190426709598 0.23444213828418786 M0.6163307615648614 11.082370090901433 C0.7532618923567131 8.453697135479507, 3.003135913108353 8.481731246191256, 9.628620035898816 0.41636376931217933 M0.2659536399971353 11.62833489519316 C4.08636624871612 8.796940217394742, 6.503761546467216 3.9203962759054374, 10.828408376824987 0.1993686164811017 M1.3034774707117815 20.32130560921567 C1.2711472334565994 14.042767392317817, 6.696228160365458 10.206048064238841, 17.369825362696727 1.8780480704200437 M0.5722530045965453 19.385101760645085 C6.39600763243108 10.612871941881739, 11.498111626821661 5.279453034294253, 15.925257157071908 1.1261943547916582 M2.115051597561619 25.616023083864807 C6.886270844357069 14.744759359349793, 18.515364468390047 6.781765501989629, 21.320244951451087 -0.658726709505963 M0.5860383922419761 24.619589099376558 C7.243418370946743 15.856408897320264, 15.148404440342752 8.26774432000693, 22.01460599368241 0.843142838606191 M1.215932601182665 31.423087162662497 C6.5132129651595365 23.94699760483287, 14.921461256086971 16.878506942970912, 24.828281963851662 -0.06474668215841639 M0.6803713487972871 31.345873268086663 C6.099204513702615 25.291245088137746, 9.847510902718515 18.129290729275382, 27.021050250765295 1.0532309258368553 M-0.014431817559572124 35.68236834351097 C9.818730206662899 24.859506958270828, 18.43399194648397 15.86194645474048, 32.23413062975446 -1.5845384298578615 M0.292194692315487 36.85062652249013 C8.883630683147477 25.70785196509413, 19.027132395135578 14.458557640806934, 32.19774802536408 0.19076504197560595 M1.888770629171944 38.82742088364414 C13.114525548368238 31.080007877206896, 20.46234223289191 17.94787613065388, 38.120936563053476 0.5640222859662494 M2.580534577821112 40.96498612763337 C10.399335261478175 31.403118066908753, 17.26250628196795 21.345303658223706, 37.55252754856025 0.8924836834054908 M7.289362642242711 41.563740280964225 C15.926929844920835 28.94632154505149, 25.863525820478376 18.35806082337675, 43.31326899360471 -1.597966117006635 M7.11514632336716 39.9678118392311 C19.27942272803937 24.671395785258703, 31.916685623386172 12.14780868094751, 41.72135941739731 -0.6651192243815416 M13.575941219584692 41.13760159493286 C26.6298974953873 24.586136482216187, 37.11234166300646 11.255755131447657, 48.37864853530216 1.4772455997940348 M11.877278294073093 40.979524224557466 C25.813894652976032 25.357660640361892, 40.05521221090385 9.011837461986815, 47.34488436295676 0.6468823149975584 M19.7527630910539 41.26541574322951 C25.3744519847253 29.450445922632852, 35.47233316001168 23.106468797453378, 52.31390136002082 1.585800014493259 M17.725557336982426 40.01646095910442 C28.043584255130156 27.332081830295245, 40.48230011620848 14.900592876939168, 51.62976742430109 1.7565888874802909 M25.317036370544315 38.440244464424715 C32.138450379449324 28.639625449537036, 41.90458891205789 18.60257351016614, 50.04668696569265 8.059909686552672 M23.148280433176637 40.42239178925501 C33.95241041808278 29.580403599865804, 42.44954172453388 18.391724022721842, 51.725225716549765 6.80395231034079 M30.257392787911957 41.14412367619792 C38.518635466379315 31.05315751673234, 43.93623175632945 23.093148788362637, 51.65061972712619 14.678375132537859 M28.136886929699248 40.205841890501176 C37.00345620071903 31.069617590600483, 45.44960096623876 20.351804432366734, 51.81314998169882 14.176293607957142 M32.55541545705081 41.13574011711969 C36.19607964027359 36.36445970502528, 40.941068764086964 30.606286594304777, 52.63014734518697 19.25606685035106 M33.562486307631744 39.45276850922598 C37.23056065536866 35.68682524075329, 42.22612045260735 32.06695150961929, 51.26798303780129 20.222785036044087 M40.12965003468653 40.572293628818464 C42.630256120595284 35.83613708169783, 47.407493986168895 29.367832282559032, 50.71971143022628 26.584154070741498 M39.10834741026719 39.67331028326519 C43.2766285502787 36.34465283481751, 46.14621919772218 32.38313144542754, 51.269763469179 26.346126356921157 M44.61712292272642 39.91542664175373 C45.88873797469415 37.26137735047093, 48.671376310203286 35.82483841452909, 52.381108068972615 32.26134330091014 M44.47516977943525 39.595246833427666 C46.496346122583525 38.191231731041796, 47.80595211993141 36.07696887283977, 51.886637493707035 31.472204655790176" stroke="#ced4da" stroke-width="0.5" fill="none"></path><path d="M-1.672042615711689 0.8308969810605049 C16.326145670104502 -2.349320541889622, 34.10093765465116 -0.6152166238140605, 50.527528975445534 0.9665583446621895 M-0.03265887126326561 -0.4763747490942478 C17.65546513234195 -0.7798206117004156, 32.80959636861318 0.5081510040909052, 48.69781260221055 0.7275059185922146 M47.73080847068479 0.47107303887605667 C48.54675598642865 11.071272986697458, 50.266704039788635 19.93014755610089, 48.78152177138975 37.37588829088668 M49.909206912208106 -0.05775618925690651 C50.10324640379793 8.091488444375301, 49.59145314799196 18.150641372685243, 49.9030019494777 38.345564774309196 M49.604247067410256 39.148652496819295 C34.98506492897871 37.78430204707268, 19.577545083027633 38.23390584307793, 1.6416001245379448 39.60268849421004 M50.03856007783463 37.8719786918507 C32.90467660174923 38.832399427266054, 17.023177311454837 37.68657129940503, -0.48886721953749657 37.81352262858013 M0.8513493463397026 37.40737408686141 C-1.1794472935423257 26.30673083270397, 0.8638192412629722 18.568766106378565, -1.5498569086194038 -1.1428359672427177 M0.358940664678812 38.34790163401226 C0.7263785985542031 29.25189445141988, 0.9668665317130776 21.947387360380233, 0.6955167688429356 -0.7100511826574802" stroke="#f41d92" stroke-width="1" fill="none"></path></g><g transform="translate(267.37179487179486 150.0097429773648) rotate(0 4.5 10.5)"><text x="4.5" y="15" font-size="16px" fill="#f41d92" text-anchor="middle" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(130.46138717005596 10) rotate(0 30 25.769230769230774)"><path d="M31 0 C41.07880149371922 9.036166856437921, 51.15760298743844 18.072333712875842, 60 26 M31 0 C39.524535740539434 7.642687215656043, 48.04907148107887 15.285374431312086, 60 26 M60 26 C50.12890856973827 34.6928444425647, 40.257817139476536 43.3856888851294, 31 51.53846153846152 M60 26 C53.873228477314115 31.395459271967407, 47.74645695462823 36.790918543934815, 31 51.53846153846152 M31 51.53846153846152 C24.017179042473437 45.785864620598446, 17.03435808494687 40.03326770273537, 0 26 M31 51.53846153846152 C22.16923016272485 44.26348489832418, 13.338460325449702 36.98850825818684, 0 26 M0 26 C10.104321676120163 17.52540762647986, 20.208643352240326 9.050815252959726, 31 0 M0 26 C6.349167991057039 20.67489136233926, 12.698335982114077 15.349782724678516, 31 0" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(150.46138717005596 27.576923076923094) rotate(0 10 10.5)"><text x="10" y="15" font-size="16px" fill="currentColor" text-anchor="middle" style="white-space: pre;" direction="ltr">f()</text></g><g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M0 0 C-32.79719711426486 15.507383762609525, -65.59439422852972 31.01476752521905, -131.1854822767287 62.02797180077994 M0 0 C-34.642218837772205 16.379758917629562, -69.28443767554441 32.759517835259125, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-110.08588368739868 40.701768684211274 C-115.36091627451353 46.033453830876525, -120.63594886162838 51.365138977541775, -131.1854822767287 62.02797180077994 M-110.08588368739868 40.701768684211274 C-115.65766570958043 46.33339028228201, -121.22944773176218 51.96501188035275, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.46138717005596 65.6643358915278) rotate(0 -65.59274113836435 31.01398590038997)"><path d="M-101.31403290034261 59.2537129530868 C-108.78208345199965 59.94729514445955, -116.25013400365668 60.64087733583231, -131.1854822767287 62.02797180077994 M-101.31403290034261 59.2537129530868 C-109.20220214238815 59.98631293630506, -117.09037138443368 60.718912919523326, -131.1854822767287 62.02797180077994" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M0 0 C-9.837823551881751 15.237977855029664, -19.675647103763502 30.475955710059328, -38.71094316657653 59.96006043499074 M0 0 C-13.47866193275869 20.877336431544588, -26.95732386551738 41.754672863089176, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-32.0406062237209 30.711015919506558 C-33.7357754060639 38.1442354555501, -35.43094458840691 45.57745499159365, -38.71094316657653 59.96006043499074 M-32.0406062237209 30.711015919506558 C-34.363133376920544 40.89516413785352, -36.68566053012018 51.07931235620049, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.48928675551116 68.13634859666206) rotate(0 -19.355471583288264 29.98003021749537)"><path d="M-14.800245208047485 41.84160235666644 C-20.876801558176602 46.44614513000349, -26.95335790830572 51.05068790334053, -38.71094316657653 59.96006043499074 M-14.800245208047485 41.84160235666644 C-23.125648517713685 48.1502208299939, -31.45105182737988 54.45883930332135, -38.71094316657653 59.96006043499074" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M0 0 C25.16407317378604 13.948955209922183, 50.32814634757208 27.897910419844365, 115.8666748613413 64.22724361043095 M0 0 C26.33727004966099 14.59928198973174, 52.67454009932198 29.19856397946348, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M86.23606482944287 59.533955942115654 C92.671278750261 60.55325018226234, 99.10649267107911 61.572544422409024, 115.8666748613413 64.22724361043095 M86.23606482944287 59.533955942115654 C92.97130064319347 60.60077161529422, 99.70653645694408 61.66758728847278, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(160.52824769907662 66.6655149121101) rotate(0 57.93333743067065 32.11362180521547)"><path d="M96.18509786206775 41.58578767620121 C100.45956801820122 46.50308813875298, 104.7340381743347 51.42038860130475, 115.8666748613413 64.22724361043095 M96.18509786206775 41.58578767620121 C100.65885193374875 46.7323420238678, 105.13260600542975 51.8788963715344, 115.8666748613413 64.22724361043095" stroke="currentColor" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M0 0 C13.031323839052332 19.9917617587414, 26.062647678104664 39.9835235174828, 43.59674914111568 66.88313735806764 M0 0 C15.400439257044772 23.626295870581124, 30.800878514089543 47.25259174116225, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M19.60693131555252 48.86956911920136 C26.77762846806006 54.253930243415375, 33.9483256205676 59.63829136762939, 43.59674914111568 66.88313735806764 M19.60693131555252 48.86956911920136 C28.08127262513716 55.232815666950536, 36.555613934721805 61.59606221469971, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g><g transform="translate(158.919574147391 65.60663583679252) rotate(0 21.79837457055784 33.44156867903382)"><path d="M36.79838097459263 37.663585851030334 C38.83045306483746 46.397481052426734, 40.86252515508229 55.131376253823134, 43.59674914111568 66.88313735806764 M36.79838097459263 37.663585851030334 C39.199887005619736 47.98531710318542, 41.60139303664684 58.307048355340505, 43.59674914111568 66.88313735806764" stroke="currentColor" stroke-width="1" fill="none"></path></g></g></svg>
<figcaption>Hash Index split</figcaption>
</figure>

<p>Luckily, PostgreSQL does all the heavy lifting for you, so you don't have to decide what hash function to use, or how many buckets there are.</p>
<p>If you want to learn more about the internals of Hash indexes in PostgreSQL, check out the <a href="https://github.com/postgres/postgres/blob/master/src/backend/access/hash/README" rel="noopener">readme on "Hash Indexing"</a>.</p>
<hr>
<h2 id="hash-index-in-postgresql"><a href="#hash-index-in-postgresql">Hash Index in PostgreSQL</a></h2>
<p>Hash indexes were discouraged prior to PostgreSQL 10. If you read the <a href="https://www.postgresql.org/docs/9.6/indexes-types.html" rel="noopener">index type documentation for PostgreSQL 9.6</a> you'll find a nasty warning about Hash indexes. According to the warning, Hash indexes are not written to the WAL so they cannot be maintained in replicas, and they are not automatically available after a crash, so you need to manually rebuild them.</p>
<p>Starting at PostgreSQL 10 these limitations were resolved, and <a href="https://www.postgresql.org/docs/10/release-10.html#id-1.11.6.20.5.3.3" rel="noopener">Hash indexes are no longer discouraged</a>.</p>
<h3 id="creating-hash-indexes"><a href="#creating-hash-indexes">Creating Hash Indexes</a></h3>
<p>Now that you know how Hash indexes work in PostgreSQL, you are ready to see them in action. To illustrate, we'll create an imaginary URL shortening service.</p>
<p>A URL shortener service, such as "bit.ly" or the late "goo.gl", provides a short random URL that points to a longer URL. For example, you can have the short url <code>https://short.url/hb9837</code> point to the longer URL <code>https://hakibenita.com/automating-the-boring-stuff-in-django-using-the-check-framework</code>. We'll call the <code>hb9837</code> part of the short URL the <code>key</code>.</p>
<p>To implement your URL shortening service, create a table to store the mapping between the keys and the full URLs:</p>
<div><pre><span></span><span>CREATE</span> <span>TABLE</span> <span>shorturl</span> <span>(</span>
    <span>id</span> <span>serial</span> <span>primary</span> <span>key</span><span>,</span>
    <span>key</span> <span>text</span> <span>not</span> <span>null</span><span>,</span>
    <span>url</span> <span>text</span> <span>not</span> <span>null</span>
<span>);</span>
</pre></div>


<p>The table includes an auto incrementing primary key <code>id</code>, a text field for <code>key</code>, and a <code>url</code> field containing the full URL.</p>
<p>Next, create a B-Tree and a Hash index on both fields:</p>
<div><pre><span></span><span>CREATE</span> <span>INDEX</span> <span>shorturl_key_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>key</span><span>);</span>
<span>CREATE</span> <span>UNIQUE</span> <span>INDEX</span> <span>shorturl_key_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>key</span><span>);</span>

<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_hash_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>hash</span><span>(</span><span>url</span><span>);</span>
<span>CREATE</span> <span>INDEX</span> <span>shorturl_url_btree_index</span> <span>ON</span> <span>shorturl</span> <span>USING</span> <span>btree</span><span>(</span><span>url</span><span>);</span>
</pre></div>


<p>You might have noticed that the B-Tree on <code>key</code> is a unique index, but the Hash index is not. This is because Hash indexes currently cannot be used to enforce unique constraints.</p>
<h3 id="hash-index-size"><a href="#hash-index-size">Hash Index Size</a></h3>
<p>The first thing you want to do is to compare the size of a Hash index to the size of a similar B-Tree index:</p>
<div><pre><span></span><span>CREATE</span> <span>EXTENSION</span> <span>"uuid-ossp"</span><span>;</span>

<span>DO</span> <span>$$</span>
<span>BEGIN</span>
    <span>FOR</span> <span>i</span> <span>IN</span> <span>0..1000000</span> <span>loop</span>
        <span>INSERT</span> <span>INTO</span> <span>shorturl</span> <span>(</span><span>key</span><span>,</span> <span>url</span><span>)</span> <span>VALUES</span> <span>(</span>
        <span>uuid_generate_v4</span><span>(),</span>
        <span>'https://www.supercool-url.com/'</span> <span>||</span> <span>round</span><span>(</span><span>random</span><span>()</span> <span>*</span> <span>10</span> <span>^</span> <span>6</span><span>)</span><span>::</span><span>text</span>
    <span>);</span>
    <span>if</span> <span>mod</span><span>(</span><span>i</span><span>,</span> <span>10000</span><span>)</span> <span>=</span> <span>0</span> <span>THEN</span>
        <span>RAISE</span> <span>NOTICE</span> <span>'rows:%  Hash key%  B-Tree key:%  Hash url:%  B-Tree url:%'</span><span>,</span>
            <span>to_char</span><span>(</span><span>i</span><span>,</span> <span>'9999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_key_btree_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_hash_index'</span><span>),</span> <span>'99999999999'</span><span>),</span>
            <span>to_char</span><span>(</span><span>pg_relation_size</span><span>(</span><span>'shorturl_url_btree_index'</span><span>),</span> <span>'99999999999'</span><span>);</span>
    <span>END</span> <span>IF</span><span>;</span>
    <span>END</span> <span>LOOP</span><span>;</span>
<span>END</span><span>;</span>
<span>$$</span><span>;</span>
</pre></div>


<p>To get a better sense of how both indexes behave, keep track of the size of the indexes as rows are inserted to the table:</p>
<ul>
<li>Generate 1,000,000 short urls one by one</li>
<li>Every 10,000 rows log the size of all four indexes</li>
<li>Use <code>uuid_generate_v4</code> from the <a href="https://www.postgresql.org/docs/current/uuid-ossp.html" rel="noopener">uuid-ossp</a> package to generate UUIDs as keys</li>
<li>Generate a long URL from a 6-digit domain so it's not unique, but almost unique</li>
</ul>
<p>Running the script on PostgreSQL 13 and plotting the results gives the following chart:</p>
<figure><img alt="Hash vs. B-Tree index size" src="https://hakibenita.com/images/01-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size</figcaption>
</figure>
<p>The chart provides several interesting observations:</p>
<ol>
<li>
<p><strong>The Hash index is smaller than the B-Tree index</strong>: Almost all along the way, the Hash index on both fields is smaller than the size of the corresponding B-Tree index.</p>
</li>
<li>
<p><strong>Hash index grows in increments</strong>: Unlike the B-Tree index that seems to grow linearlly as rows are inserted to the table, the Hash index grows in sudden increments. These sudden increments are caused when a split is triggered to allocate space for more buckets. When that space runs out, another split is triggered and so on.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the size of the indexed value</strong>: A Hash index stores the hash codes of the index field values. A B-Tree on the other hand, stores the actual value of the indexed field in its leaves, so the size of the indexed value affects the size of a B-Tree index, but not the size of a Hash index.</p>
</li>
<li>
<p><strong>Hash index size is not affected by the selectivity of the indexed value</strong>: The selectivity of the URL field is different than that of the key field, which is almost unique, but the Hash index on both fields is the same size. A size of a B-Tree index on the other hand, can vary based on the selectivity of the data (see note below about "B-Tree deduplication").</p>
</li>
</ol>
<div>
<p>B-Tree deduplication</p>
<p>PostgreSQL 13 introduced a new <a href="https://www.postgresql.org/docs/current/btree-implementation.html#BTREE-DEDUPLICATION" rel="noopener">B-Tree deduplication</a> mechanism that reduces the size of a B-Tree indexes with many duplicate values. In the chart above, the size of the B-Tree index on the <code>url</code> field is smaller than the size of the index on the <code>key</code> field because it has fewer unique values.</p>
<figure><img alt="Hash vs. B-Tree index size on PostgreSQL 12" src="https://hakibenita.com/images/02-postgresql-hash-index.png"><figcaption>Hash vs. B-Tree index size on PostgreSQL 12</figcaption>
</figure>
<p>If you run the same script with deduplication disabled, or on PostgreSQL versions prior to 13, you'll see that the size of the index is the same (as long as values are the same size).</p>
</div>
<p>The script you ran before imitates a workload of an OLTP-like system, where single rows are constantly being added to the table. This is the size of the indexes after the script finished:</p>
<div><pre><span></span><span>db=#</span> <span>\di+</span> <span>shorturl*</span>
<span>          Name           │ Type  │ Table    │Size</span>
<span>─────────────────────────┼───────┼──────────┼────────</span>
<span>shorturl_key_btree_index │ index │ shorturl │ 73 MB</span>
<span>shorturl_key_hash_index  │ index │ shorturl │ 37 MB</span>
<span>shorturl_url_btree_index │ index │ shorturl │ 53 MB</span>
<span>shorturl_url_hash_index  │ index │ shorturl │ 36 MB</span>
</pre></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hakibenita.com/postgresql-hash-index">https://hakibenita.com/postgresql-hash-index</a></em></p>]]>
            </description>
            <link>https://hakibenita.com/postgresql-hash-index</link>
            <guid isPermaLink="false">hacker-news-small-sites-25729540</guid>
            <pubDate>Mon, 11 Jan 2021 14:51:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Become a Data Engineer in 2021]]>
            </title>
            <description>
<![CDATA[
Score 243 | Comments 123 (<a href="https://news.ycombinator.com/item?id=25728198">thread link</a>) | @adilkhash
<br/>
January 11, 2021 | https://khashtamov.com/en/how-to-become-a-data-engineer/ | <a href="https://web.archive.org/web/*/https://khashtamov.com/en/how-to-become-a-data-engineer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                    
                    
                    <p>The demand for data engineers is growing rapidly. According to <a href="http://hired.com/" target="_blank" rel="noopener noreferrer" data-token-index="1" data-reactroot="">hired.com</a> the <a href="https://hired.com/state-of-software-engineers" target="_blank" rel="noopener noreferrer" data-token-index="3" data-reactroot="">demand has increased by 45%</a> in 2019. The median salary for Data Engineers in SF Bay Area is around $160k. So the question is: how to become a data engineer?<!--StartFragment--></p>
<h2>What Data Engineering is</h2>
<p>Data engineering is closely related to data as you can see from its name. But if data analytics usually means extracting insights from existing data, data engineering means the process of building infrastructure to deliver, store and process the data. According to <a href="https://hackernoon.com/the-ai-hierarchy-of-needs-18f111fcc007">The AI Hierarchy of Needs</a>, the data engineering proccess is located at the very bottom: Collect, Move &amp; Store, Data Preparation. So if your organization wants to be data/AI-driven then they should hire/train data engineers.</p>
<figure><img src="https://khashtamov.com/uploads/redactor/1_7IMev5xslc9FLxr9hHhpFw.png" data-image="1_7IMev5xslc9FLxr9hHhpFw.png"></figure>

<p>But what data engineers actually do? The amount of data is growing rapidly every single day. We are contemplating the new era where everybody can do a content from their mobile phone and other gadgets. Even small devices are connected to the Internet. Data engineers from the past were responsible for writing complex SQL queries, building ETL (extract, transform &amp; load) processes using big enterprise tools like Informatica ETL, Pentaho ETL, Talend etc. But now the market demands more broader skillset. If you want to work as a data engineer you need to have:</p>
<ul><li>Intermediate knowledge of SQL and Python</li><li>Experience working with cloud providers like AWS, Azure or GCP</li><li>The knowledge of Java/Scala is a big plus</li><li>Understading SQL/NoSQL databases (data modeling, data warehousing, performance optimization)</li></ul>
<p>The skillset is very similar to what Backend engineers usually know. In reality if an organization is growing in terms of data the ideal candidate to transform into data engineer is a backend engineer.</p>

<ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3273608550190378" data-ad-slot="9434009847"></ins>


<p>The particular technologies and tools could differ due to company size, data volumes and data velocity. If we look at the FAANG for example, they usually require:</p>
<ul><li>Knowledge of Python, Java or Scala</li><li>Experience working with Big data tools like Apache Hadoop, Kafka and Spark</li><li>Solid knowledge of algorithms and data structures</li><li>Undestanding of distributed systems</li><li>Experience with Business Intelligence tools like Tableau, QlikView, Looker or Superset</li></ul>
<h2>Data Engineer's Skillset</h2>
<p>Data engineering is an engineering area that is why the knowledge of computer science fundamentals is required, especially the understanding of most popular algorithms and data structures (Hello Mr. Cormen!).</p>
<p>Because data engineers deal with the data on a daily basis understading how databases work is a huge plus. For example, the most popular SQL databases like SQLite, PostgreSQL, MySQL use B-Tree data structure under the hood.</p>
<h3>Algorithms &amp; Data Structures</h3>
<p>If you prefer video courses I would recommend to look at the <a href="https://www.coursera.org/specializations/data-structures-algorithms">Data Structures and Algorithms Specialization</a>. I took these courses and think they are quite good as a starting point.</p>
<p>Speaking about talks I would highly recommend take a look at Alex Petrov's presentation called <em>What Every Programmer has to know about Database Storage:</em></p>
<figure><iframe width="100%" height="497" src="https://www.youtube.com/embed/e1wbQPbFZdk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""><span id="selection-marker-1" class="redactor-selection-marker"></span></iframe></figure>
<p>Alex has a great series of posts related to databases:</p>
<ul>
<li><a href="https://medium.com/databasss/on-disk-io-part-1-flavours-of-io-8e1ace1de017">On Disk IO, Part 1: Flavors of IO</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-part-2-more-flavours-of-io-c945db3edb13">On Disk IO, Part 2: More Flavours of IO</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-part-3-lsm-trees-8b2da218496f">On Disk IO, Part 3: LSM Trees</a></li>
<li><a href="https://medium.com/databasss/on-disk-storage-part-4-b-trees-30791060741">On Disk IO, Part 4: B-Trees and RUM Conjecture</a></li>
<li><a href="https://medium.com/databasss/on-disk-io-access-patterns-in-lsm-trees-2ba8dffc05f9">On Disk IO, Part 5: Access Patterns in LSM Trees</a></li>
</ul>
<p>Courses, video presentations are good but what about books? I would recommend the only book by Thomas Cormen and friends called <a href="https://www.amazon.com/gp/product/0262033844/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0262033844&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=74742875db503b1a899ca35159749067">Introduction to Algorithms</a>. The most comprehensive reference on algorithms and data structures. To practice and strengthen your knowlegde go to <a href="http://leetcode.com/">leetcode.com</a> and start solving problems. Practice makes perfect.</p>
<p>Databases are great, Carnegie Mellon University uploads their lessons to Youtube:</p>
<ul>
<li><a href="https://www.youtube.com/watch?v=oeYBdghaIjc&amp;list=PLSE8ODhjZXjbohkNBWQs_otTrBTrjyohi">Introduction to Database Systems (Fall 2019)</a></li>
<li><a href="https://www.youtube.com/watch?v=SdW5RKUboKc&amp;list=PLSE8ODhjZXjasmrEd2_Yi1deeE360zv5O">Advanced Database Systems (Spring 2020)</a></li>
</ul>
<h3>SQL — the lingua franca for databases</h3>
<p>SQL was developed back in 70s and still is the most popular language to work with data. Periodically some experts claim that SQL is going to die very soon, but it is still alive despite many rumors. I think we will stick to SQL for another decade or two (or even more). If you look at the modern and popular databases you will see that almost all of them support SQL:</p>
<ul>
<li>PostgreSQL, MySQL, MS SQL Server, Oracle DB</li>
<li>Amazon Redshift, Apache Druid, Yandex ClickHouse</li>
<li>HP Vertica, Greenplum</li>
</ul>
<p>In a big data ecosystem there are many different SQL engines: Presto (Trino), Hive, Impala etc. I would highly recommend to invest some time to master SQL.</p>
<p>If you are new to SQL, start with the Mode's SQL guide: <a href="https://mode.com/sql-tutorial/introduction-to-sql/">Introduction to SQL</a>. If you feel comfortable you can continue with the <a href="https://bit.ly/2XrRH4i" target="_blank" rel="nofollow noopener noindex">DataCamp's interactive courses</a>. I would recommend these:</p>
<ul>
<li><a href="https://www.datacamp.com/courses/intermediate-sql?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">Intermediate SQL</a></li>
<li><a href="https://www.datacamp.com/courses/joining-data-in-postgresql?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">Joining Data in SQL</a></li>
<li><a href="https://datacamp.com/courses/postgresql-summary-stats-and-window-functions?tap_a=5644-dce66f&amp;tap_s=1331588-6fc352&amp;utm_medium=affiliate&amp;utm_source=adylzhankhashtamov" target="_blank" rel="nofollow noopener noindex">PostgreSQL Summary Stats and Window Functions</a></li>
</ul>
<p>The best resources on SQL are <a href="https://modern-sql.com/">Modern SQL</a> and <a href="https://use-the-index-luke.com/">Use The Index, Luke!</a> Practice makes perfect that is why go to <a href="https://leetcode.com/problemset/database/">Leetcode Databases problemset</a> and start practicing 💪 By the way, do not forget to read my article on <a href="https://khashtamov.com/en/sql-window-functions/">SQL window functions</a> as well.</p>
<h3>Programming: Python, Java and Scala</h3>
<p>Python is a very popular programming language to build web apps as well as for data analytics &amp; science. It has a very rich ecosystem and huge community. According to <a href="https://www.tiobe.com/tiobe-index/">TIOBE Index</a> Python is in the Top 3 widely used programming languages after C &amp; Java.</p>
<p>Speaking about other 2 languages, many big data systems are written in Java or Scala:</p>
<ul>
<li>Apache Kafka (Scala)</li>
<li>Hadoop HDFS (Java)</li>
<li>Apache Spark (Scala)</li>
<li>Apache Cassandra (Java)</li>
<li>HBase (Java)</li>
<li>Apache Hive, Presto in Java</li>
</ul>
<p>In order to undestand how these systems work I would recommend to know the language in which they are written. The biggest concern with Python is its poor performance hence the knowledge of a more efficient language will be a big plus to your skillset.</p>
<p>If you are interested in Scala, I would recommend to take a look at <a href="https://twitter.github.io/scala_school/">Twitter's Scala School</a>. The book <a href="https://www.amazon.com/gp/product/0981531687/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=0981531687&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=69314619f1e546e3921eb97c72cf4850">Programming in Scala</a> by its creator is also a good starting point.</p>
<h3>The Big Data Tools</h3>
<p>There are lots of different technologies in a Big Data landscape. The most popular are:</p>
<ul>
<li><strong>Apache Kafka</strong> is the leading message queue/event bus/event streaming</li>
<li><strong>Apache Spark</strong> is the unified analytics engine for large-scale data processing</li>
<li><strong>Apache Hadoop</strong>, the big data framework which consists of different tools, libraries and frameworks including distributed file system (HDFS), Apache Hive, HBase etc.</li>
<li><strong>Apache Druid</strong> is a real-time analytics database</li>
</ul>
<p>It is really difficult to learn everything that is why focus on the most popular and learn fundamental concepts behind them. For example, back in 2013 Jay Kreps (co-founder of Apache Kafka) wrote the paper called <a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">The Log: What every software engineer should know about real-time data's unifying abstraction</a>.</p>
<h3>Cloud Platforms</h3>
<p>Everything goes to the clouds. You should have experience working with at least one cloud provider. I would recommend go with the <strong>Amazon Web Services</strong> which is the leading cloud provider in the world. The second place goes to the <strong>Microsoft Azure</strong>, the third place takes <strong>Google Cloud Platform</strong>.</p>
<p>All providers have certifications. For example, the most suitable certification for a data engineer in AWS is <a href="https://aws.amazon.com/ru/certification/certified-data-analytics-specialty/">AWS Certified Data Analytics – Specialty</a>. If you decide to proceed with GCP the right choice is <a href="https://cloud.google.com/certification/data-engineer">Professional Data Engineer</a>, for MSA is <a href="https://docs.microsoft.com/en-us/learn/certifications/azure-data-engineer">Azure Data Engineer Associate</a>.</p>
<h3>Fundamentals of Distributed Systems</h3>
<p>The amount of data generated nowadays is tremendous. You cannot fit it into one computer. The data should be distributed across different nodes. If you want to be a good data engineer you have to understand the fundamentals of distributed systems. There are lots of resources where you can start your journey into this field:</p>
<ul>
<li><a href="https://www.youtube.com/playlist?list=PLrw6a1wE39_tb2fErI4-WkMbsvGQk9_UB">Distributed Systems</a> lectures from MIT by Robert Morris</li>
<li><a href="https://www.youtube.com/playlist?list=PLeKd45zvjcDFUEv_ohr_HdUFe97RItdiB">Distributed Systems</a> lectures by Martin Kleppmann</li>
<li><a href="https://www.youtube.com/playlist?list=PLNPUF5QyWU8O0Wd8QDh9KaM1ggsxspJ31">Distributed Systems</a> by Lindsey Kuper</li>
</ul>
<p>I would also highly recommend the book <a href="https://www.amazon.com/gp/product/1449373321/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=9325&amp;creativeASIN=1449373321&amp;linkCode=as2&amp;tag=adilkhash-20&amp;linkId=e7e0e096aa5761066245eb90965ac849">Designing Data-Intensive Applications</a> by Martin Kleppmann. He has a <a href="https://martin.kleppmann.com/">blog</a>. Also if you prefer blogs I would recommend take a look at the <a href="https://medium.com/baseds">series of posts</a> about distributed systems by Vaidehi Joshi.</p>
<h3>Data Pipelines</h3>
<p>Building a data pipeline is one of the main responsibilities of a data engineer. Data pipeline is a process of data consolidation. Data engineer should be able to reliably deliver, load and transform data from multiple sources into a specific destination, usually it is central data warehouse or data lake. There are many tools which can help you build this process. Take a look at the <a href="https://khashtamov.com/en/introduction-to-apache-airflow/">Apache Airflow</a>, <a href="https://github.com/spotify/luigi">Luigi</a> from Spotify, <a href="https://www.prefect.io/">Prefect</a> or <a href="https://dagster.io/">Dagster</a>. If you prefer nocode solution <a href="https://nifi.apache.org/">Apache NiFi</a> is a way to go.</p>
<h2>Summary</h2>
<p>Data engineer is a team player who is working with data analysts, scientists, infrastructure engineers and other stakeholders. So do not forget about soft skills like empathy, understanding a business domain, open-mindedness etc.</p>
<p>If you want to add something feel free to add a comment down below.</p>




                    <section>
                        <h3>💌 Join the mailing list</h3>
                        <p>If you like the content I produce, please join my mailing list to stay tuned.</p>
                        
                    </section>
                </article></div>]]>
            </description>
            <link>https://khashtamov.com/en/how-to-become-a-data-engineer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728198</guid>
            <pubDate>Mon, 11 Jan 2021 12:49:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stealing Your Private YouTube Videos, One Frame at a Time]]>
            </title>
            <description>
<![CDATA[
Score 1147 | Comments 178 (<a href="https://news.ycombinator.com/item?id=25728175">thread link</a>) | @gbrown_
<br/>
January 11, 2021 | https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/ | <a href="https://web.archive.org/web/*/https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      <p>Back in December 2019, a few months after I started hacking on Google VRP, I was looking at YouTube. I wanted to find a way to get access to a <code>Private</code> video which I did not own.</p>

<p>When you upload a video to YouTube, you can select between 3 privacy settings. <code>Public</code>, which means that anyone can find and watch your video, <code>Unlisted</code>, which only allows users who know the video ID (the URL) to watch the video, and <code>Private</code>, where only you can watch the video, or other accounts you’ve explicitly given permission to do so.</p>

<p>First thing I did was to upload a video to my second testing account’s YouTube channel, and set the video’s privacy to <code>Private</code>, so I can use that video for testing. <em>(Remember, always only test against resources/accounts you own!)</em> If I can find a way to access that video with my first testing account, we have a bug.</p>

<p>With my first account, I started using YouTube, trying every feature, pressing every button I could find, and whenever I saw an HTTP request with a video ID in it, I changed it to the target <code>Private</code> video, hoping that I can leak some information about it, but I wasn’t really getting any success. The main YouTube site (at least the endpoints I have tested), seems to always check if the video was <code>Private</code> or not, and when trying to request info about the target <code>Private</code> video, they always returned errors such as <code>This video is private!</code>.</p>

<p>I needed to find another way.</p>

<p>A great thing to do in a situation like this, is to try to look for other products/services which are not your main target, but are somehow interacting with its resources internally. If they have access to its resources, it might be possible that they don’t have every level of protection that the main product has.</p>

<p>An interesting target which matched these requirements was Google Ads. This is the product which advertisers use to create ads across all Google services, <em>including YouTube</em>. So, the ads you get before YouTube videos are set up by advertisers here, on the Google Ads platform.</p>

<p>So I created a Google Ads account, and created a new advertisement, which would play a video of mine as a skippable ad for YouTube users. During the ad creation process, I also tried to use the target <code>Private</code> video’s ID wherever I could, but no success.</p>

<p>After creating the ad, I started looking at all of the different Google Ads features. The thing was huge, it had a bunch of different settings/tools. I was trying to find anything that could be YouTube-related.</p>

<p>There was a page called <code>Videos</code>, where I could see a list of videos used by my advertisements. Clicking on a video opened up an <code>Analytics</code> section for that specific video. It had an embedded player, some statistics, and an interesting feature called <code>Moments</code>. It allowed advertisers to “mark” specific moments of the video, to see when different things happen (such as the timestamp of when the company logo appears). To be honest I am not quite sure what advertisers use this feature for, nevertheless, it seemed interesting:</p>

<p><img src="https://bugs.xdavidhu.me/assets/posts/2021-01-11-stealing-your-private-videos-one-frame-at-a-time/ads-moments.gif" alt="The Moments feature on the Ads console"></p>

<p>Looking at the proxy logs, every time I “marked a moment”, a <code>POST</code> request was made to a <code>/GetThumbnails</code> endpoint, with a body which included a video ID:</p>

<div><div><pre><code><span>POST</span> <span>/aw_video/_/rpc/VideoMomentService/GetThumbnails</span> <span>HTTP</span><span>/</span><span>1.1</span>
<span>Host</span><span>:</span> <span>ads.google.com</span>
<span>User-Agent</span><span>:</span> <span>Internet-Explorer-6</span>
<span>Cookie</span><span>:</span> <span>[redacted]</span>

__ar={"1":"kCTeqs1F4ME","2":"12240","3":"387719230"}
</code></pre></div></div>

<p>Where in the <code>__ar</code> parameter, <code>1</code> was the ID of the video and <code>2</code> was the time of the moment in milliseconds. The response was a base64 encoded image, which was the thumbnail displayed by Ads.</p>

<p>I did what I did a bunch of times already, and replaced the ID to my second account’s <code>Private</code> video in the request, and to my surprise, <strong>it returned a base64 response</strong>!</p>

<p>I quickly Googled “base64 to image”, and pasted the base64 into the first decoder I found, and it <strong>displayed a thumbnail from the target <code>Private</code> video</strong>! It worked! I have found a working IDOR <em>(Insecure Direct Object Reference)</em> bug, where I could get a frame from any private video on YouTube!</p>

<p>But I was like “hm, that is just one frame”. We can do better.</p>

<p>I wanted to make a proof of concept Python script which generates an actual, moving “video”. I searched for some calculations, and figured out that if the video is in 24 FPS, one frame stays on the screen for <code>33</code> milliseconds. So I just have to download every image starting from <code>0</code> milliseconds, incrementing by <code>33</code> milliseconds every time, and then construct some kind of video using all of the images I have acquired.</p>

<p>I wrote a quick and dirty POC which downloaded the frames for the first 3 seconds of a video, decoded them, and then generated a GIF. To test it, I have ran it against an old video of mine, which I had previously privated due to, of course, the <em>high level of cringe</em>:</p>

<iframe width="100%" height="315px" src="https://www.youtube.com/embed/G3bNbYRTxZM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>And there you have it, using this bug, any private YouTube video could have been downloaded by a malicious attacker, which to me feels like a pretty cool impact. But of course, it had a few limitations I couldn’t overcome:</p>

<ul>
  <li>In the real world you would have to know the ID of the target video. Mass-leaking those would be considered a bug on its own.</li>
  <li>Since these are just images, you can’t access audio.</li>
  <li>The resolution is very low. (but it’s high enough to see what is happening)</li>
</ul>

<p>The takeaway from this bug is that situations where two different products interact with each other under the hood are always a good area to focus on, since both product teams probably only know their own systems best, and might miss important details when working with a different product’s resources.</p>

<p>Looking for an IDOR like this can be a very repetitive and manual task, and nowadays I try to avoid just blindly changing IDs everywhere and hoping for the best. After you test a product for a while and get a feel of how it works internally, it might be more effective (and more fun) to try to think about different unexpected actions that the developers maybe didn’t think about based on what you saw already, or focus on features that just got released, or to just do any other non-mindless task. You will probably enjoy it more in the long term. In my opinion, the more you understand a system, the more ideas about how to break it will just naturally come to mind.</p>

<p>But again, even in the most robust and well tested systems, there is the chance that just swapping an ID in a request will get you a critical bug.</p>

<p>Thank you for reading! See you <a href="https://twitter.com/xdavidhu" target="_blank">next Monday</a> ;)</p>

<h3 id="timeline">Timeline:</h3>
<p>[Dec 11, 2019] - Bug reported <br>
[Dec 12, 2019] - Initial triage <br>
[Dec 20, 2019] - Bug accepted (P4 -&gt; P1) <br>
[Jan 08, 2020] - Bug mitigated by temporarily disabling the <code>Moments</code> feature <br>
[Jan 17, 2020] - Reward of <a href="https://www.google.com/about/appsecurity/reward-program/" target="_blank">$5000</a> issued <br>
[??? ??, 2020] - <code>Moments</code> re-enabled, now it checks if you have access to the video</p>

    </div></div>]]>
            </description>
            <link>https://bugs.xdavidhu.me/google/2021/01/11/stealing-your-private-videos-one-frame-at-a-time/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728175</guid>
            <pubDate>Mon, 11 Jan 2021 12:46:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What's good about staying inside Emacs?]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25728166">thread link</a>) | @mpereira
<br/>
January 11, 2021 | https://www.murilopereira.com/whats-good-about-staying-inside-emacs/ | <a href="https://web.archive.org/web/*/https://www.murilopereira.com/whats-good-about-staying-inside-emacs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>One of the oldest pieces of software still in use was recently described as</p><blockquote><p>A sort of hybrid between Windows Notepad, a monolithic-kernel operating
system, and the International Space Station.</p></blockquote><p>Of course, they were talking about Emacs. And yes, it is kinda true.</p><figure><img src="https://www.murilopereira.com/tron.jpg"></figure><p>I’ve been using Emacs for a while and had opportunities to use it to work
on projects in remote machines. There are a few quirks, but after changing
a setting here and there, <a href="https://www.gnu.org/software/emacs/manual/html%5Fnode/tramp/Quick-Start-Guide.html">Tramp</a> is mostly usable. Tramp makes it possible
to transparently treat remote directories, files, commands, and more, <em>as if
they were local</em>. Opening a remote buffer via <code>M-x find-file /ssh:user@remote-host:/some/project</code> and having tools like Magit and Eshell
work out of the box feels like magic.</p><p>I'm not aware of similar functionality in Vim, but VSCode users recently
got
<a href="https://code.visualstudio.com/docs/remote/remote-overview">something pretty close</a>.</p><p>Emacs runs either as a standalone graphical application (GUI) or in a
terminal emulator (TUI). In terms of features, GUI Emacs can be seen as a
superset of TUI Emacs. Among many other things, it makes it possible to
display:</p><ul><li>images, PDFs, rendered web pages (even YouTube!)</li><li>graphical popups (with code documentation, linting tips, compilation
errors, completion candidates, etc.)</li><li>heterogeneous fonts (distinct sizes, families, emphases, etc.)</li></ul><p>TUI Emacs has the terminal emulator (and also commonly tmux) limiting
and conflicting with the clipboard, keybindings, colors, and more. None of
these limitations are present in GUI Emacs.</p><p>For these and other reasons I use GUI Emacs and Tramp to work on remote
projects instead of TUI Emacs via SSH. Some do the opposite, and that’s
fine too! Even with the limitations shown above, TUI Emacs is very
powerful, and its performance in an SSH session is still superior to Tramp.</p><p>Even so, one might think displaying images in Emacs is not a big deal. Just
<code>open image.png</code> and get an actual image viewer application to render it,
right? Things get interesting in a remote Tramp buffer: <code>M-x find-file image.png</code> will display the <em>remote</em> image right there in your <em>local</em> Emacs
instance. Or in case you’re in a remote <em>dired</em> buffer, pressing <code>RET</code> on an
image file will do the same. It’s a non-disruptive workflow that allows one
to remain in the comfort of Emacs.</p><p>dired is a built-in file manager.</p><p>If you’re not an Emacs user, chances are the previous sentence doesn’t carry
much weight. <em>What’s good about staying inside Emacs</em>?</p><p>It is safe to assume that most of your <em>development</em>, or more broadly, your
<em>computing environment</em> is represented below:</p><ul><li>operating system (macOS, GNU/Linux distribution, Windows, etc.)</li><li>window manager (the one provided by your OS, i3, Openbox, XMonad, etc.)</li><li>terminal emulator (iTerm2, xterm, rxvt, alacritty, etc.)</li><li>shell (bash, zsh, fish, etc.)</li><li>terminal multiplexer (tmux, GNU Screen, etc.)</li><li>text editor or IDE (Vim, VSCode, Xcode, IntelliJ IDEA, etc.)</li><li>email, web browsing, multimedia, and communications</li></ul><p>Each item above is a discrete computer program. They’re extensible in
disconnected ways, and to varying degrees. They’re <em>islands</em>. Most of the
time integrating them is an uphill battle, and commonly just plain
impractical. Having used a computing environment centered around TUI Vim
and tmux for a decade, I know the pain of trying to make the shell, the
terminal, and every command line application running in it have the same
look, feel, and behavior of being inside Vim. It is impossible.</p><p>The emergence of the web browser as a software platform is in part an answer
to this disconnectedness.</p><p>In contrast, Emacs unifies and equalizes the computing experience as much
as one desires, so that it happens—and is extended—in a single,
cohesive environment.</p><figure><img src="https://www.murilopereira.com/alt_tab_small.jpg" alt="Figure 2: My computing environment."><figcaption><p>Figure 2: My computing environment.</p></figcaption></figure><p>People commonly <a href="https://www.reddit.com/r/emacs/comments/jjxatm/whats%5Fyour%5Fjob%5Fwhats%5Fyour%5Fdaily%5Femacs%5Fworkflow/">use Emacs</a> to process their email inbox, communicate in
chat, navigate the web, write code, and prose. At their core, these
activities are one and the same: text-editing. Being able to perform them
using the same keybindings and functionality for movement, search, text
manipulation, completion, undo-redo, copy-paste, is already a big deal, but
it’s not all: their integration into a single environment unlocks pleasant
and efficient workflows that would be much less convenient elsewhere.</p><p>Creating a to-do item for something your partner just asked you (while you
were concentrated on a task) that will show up automatically on your agenda
tomorrow? Just a few keystrokes and you’re back to the task. Converting
some text notes you quickly scribbled down into a beautiful PDF via LaTeX,
uploading it to S3, and referencing the URL in a reworded existing git
commit message? If you’re an experienced Emacs user, chances are you can
<em>visualize</em> effortlessly and efficiently executing these actions without ever
leaving Emacs.</p><p>This interconnectedness is part of the value of computing environments like
the one provided by Emacs. The whole becomes greater than the sum of its
parts.</p><p>Programmability gives it a further dimension of value: parts can be
combined as you see fit, in arbitrary and possibly unforeseen ways.</p><p>Now, back to the <em>displaying an image from a remote host</em> use case. For that,
I can think of some alternatives:</p><ul><li><code>scp</code> the image file between hosts and <code>open</code> it locally</li><li>Mount the remote filesystem and <code>open</code> it locally</li><li><code>ssh</code> into the remote host from a modern terminal emulator capable of
rendering images and use a program like <a href="https://sw.kovidgoyal.net/kitty/kittens/icat.html">icat</a></li></ul><p>In Emacs, you just press enter.</p></div></div>]]>
            </description>
            <link>https://www.murilopereira.com/whats-good-about-staying-inside-emacs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25728166</guid>
            <pubDate>Mon, 11 Jan 2021 12:45:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting goals for 2021 – A brief guide about personal goal setting]]>
            </title>
            <description>
<![CDATA[
Score 174 | Comments 55 (<a href="https://news.ycombinator.com/item?id=25727832">thread link</a>) | @jonmal
<br/>
January 11, 2021 | https://blog.doit.io/goal-setting/ | <a href="https://web.archive.org/web/*/https://blog.doit.io/goal-setting/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

           <!-- 
            <figure class="post-full-image">
                <img
                    srcset="/content/images/size/w300/2020/10/GoalSetting.jpg 300w,
                            /content/images/size/w600/2020/10/GoalSetting.jpg 600w,
                            /content/images/size/w1000/2020/10/GoalSetting.jpg 1000w,
                            /content/images/size/w2000/2020/10/GoalSetting.jpg 2000w"
                    sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px"
                    src="/content/images/size/w600/2020/10/GoalSetting.jpg"
                    alt="SMART and Simple: How to Set and Achieve Personal Goals"
                />
            </figure>
            -->

            <section>
                <div>
                    <p>Goal setting is not a new idea. We all know that we have a much better chance of getting what we want in life if we purposefully set goals. </p><p>The content available on the subject is downright prolific. There is so much information out there, in fact, that it can be overwhelming to pick a program, make a plan, and actually get into the business of goal setting and achievement. </p><figure><img src="https://blog.doit.io/content/images/2020/10/GoalSetting-1.jpg" alt="Goal Setting" srcset="https://blog.doit.io/content/images/size/w600/2020/10/GoalSetting-1.jpg 600w, https://blog.doit.io/content/images/size/w1000/2020/10/GoalSetting-1.jpg 1000w, https://blog.doit.io/content/images/2020/10/GoalSetting-1.jpg 1200w" sizes="(min-width: 720px) 720px"><figcaption>Goal Setting</figcaption></figure><p>The world is full of overwhelm. Figuring out how to go about setting and achieving your goals is <em>very</em> important, but that doesn't mean it has to be complicated. We aim to make life easier to manage. In honor of simplicity, we have researched goal setting for you and put together an easy-to-follow plan for setting and achieving your personal goals. We even included some tried-and-true tips and techniques that can be modified to fit your unique life. Let’s do it. </p><h2 id="goal-setting">Goal Setting</h2><ol><li><a href="#a-bit-of-background-what-are-personal-goals-do-we-need-them">What are personal Goals</a></li><li><a href="#setting-smart-goals">Setting SMART Goals</a></li><li><a href="#a-simple-system-for-goal-setting">A Simple System for Goal Setting</a></li><li><a href="#do-it-5-tips-and-tricks-for-goal-achievement">Do it: 5 Tips and Tricks for Goal Achievement</a></li></ol><h2 id="a-bit-of-background-what-are-personal-goals-do-we-need-them">A Bit of Background: What are Personal Goals? Do we Need Them?</h2><p>Personal goals are the things we want to accomplish in life. Plain and simple. In a sense, all goals are personal because they are created from within and attached to our greatest desires and aspirations. </p><p>Sometimes they are looked at separately from professional goals, which are specifically related to one’s professional or work life. That being said, personal goals can most certainly take into account goals related to work or career. Here we will focus on personal goal setting and achievement, with the understanding that the term is all encompassing. Make sense? </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Personal goals are the things we want to accomplish in life. Plain and simple.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>Personal goals are unique to every individual because they are, well, personal! Seems obvious, right? Despite that characteristic, it can be helpful to see some examples of personal goals to get started. This can churn up ideas and open the mind to the endless possibilities. Here is an assortment.</p><ul><li>Work out 3-5 times each week.</li><li>Write in a journal every day.</li><li>Fully fund an emergency savings account equal to six months’ living expenses.</li><li>Walk the dog at least once per day.</li><li>Pay off the student loan in 18 months.</li><li>Take a hike 1-2 times per month.</li><li>Travel to a new destination twice each year.</li><li>Cook dinner at home 3 nights per week.</li><li>Fit into my old favorite jeans before my next birthday.</li><li>Stop working full time before 50.</li><li>Train the puppy 15 commands before his 2nd birthday. <br></li></ul><p>You get the idea. Goals can be big, small, long term, or short term. Personal goals can be about daily life, a lifetime, or anything in between. They are unique to <em>what </em>you want, <em>when</em> you want it. Personal goals do have this in common: they make life better, more meaningful, and focused. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Personal goals do have this in common: they make life better, more meaningful, and focused.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>We know what personal goals are but why do we need to set them? Isn’t it enough to have them floating around our heads? Experts say, definitely not! Setting goals sets your mind up for success. Making your goals explicit helps to focus your attention, time, and behavior towards achieving them. You will fail to achieve 100% of the goals you never set. And the very act of writing them down could make all the difference. </p><p>In fact, <a href="https://scholar.dominican.edu/cgi/viewcontent.cgi?article=1265&amp;context=news-releases">a study in 2015 by psychologist Gail Matthews</a> revealed that simply writing down goals increased the chances of achieving them by 33 percent compared to having goals that stayed locked inside one’s head. Can your life be purposeful, meaningful, and good without goal setting? Of course it can! But, you have a much greater chance of designing the life you <em>really</em> want by explicitly setting personal goals. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>Simply writing down goals increased the chances of achieving them by 33 percent compared to having goals that stayed locked inside one’s head.</span></p>
</blockquote>
<!--kg-card-end: markdown--><h2 id="setting-smart-goals">Setting SMART Goals</h2><p>Not all goals are created equally. You will have a better chance of achieving goals that are carefully crafted. Many experts recommend setting something called SMART goals. SMART is a mnemonic device that stands for Specific, Measurable, Attainable, Relevant, and Time Bound. </p><ul><li><strong>S: Specific: </strong>Instead of setting a goal to “become wealthy” set a specific goal to “have $1 million invested in a mutual fund by the age of 50.”</li><li><strong>M: Measurable:</strong> The goal should be conducive to metrics. What would it look like to make progress and to fully achieve the goal?</li><li><strong>A: Attainable:</strong> Your goals should be big, but realistic. Aim high but be sure you can hit the target within a specified time frame.</li><li><strong>R: Relevant:</strong> Goals should reflect your values, desires, and abilities.</li><li><strong>T: Time Bound:</strong> Goals should have a deadline that will help organize your efforts and keep you motivated to move forward. <br></li></ul><h2 id="a-simple-system-for-goal-setting">A Simple System for Goal Setting</h2><ol><li>Set one big, huge, overarching goal.</li><li>Set a series of increasingly smaller goals that lead to that big goal.</li></ol><p>Jim Collins is recognized as one of the most influential business book writers of all time. His book <a href="https://www.amazon.com/Built-to-Last-Jim-Collins-audiobook/dp/B0813QCVN9/ref=sr_1_1?dchild=1&amp;keywords=built+to+last&amp;qid=1601575446&amp;sr=8-1"><em>Built to Last</em></a> was a follow up to the groundbreaking, and now classic, <a href="https://www.amazon.com/Good-Great-Some-Companies-Others/dp/0066620996/ref=sr_1_2?dchild=1&amp;keywords=good+to+great&amp;qid=1601575412&amp;sr=8-2"><em>Good to Great</em></a>. In it, he and co author Jerry I. Porras introduced a concept that is now widely applied in corporate goal setting. It’s called a <a href="https://www.jimcollins.com/concepts/bhag.html">BHAG</a>, pronounced bee-hag. </p><p>BHAG stands for Big Hairy Audacious Goal and it challenges corporations and organizations to set their sights on a super large, awe inspiring, borderline outlandish goal that will be the guidepost for decision making within the organization. The writer’s use President Kennedy’s moon landing proclamation as a prime example of a BHAG. </p><p>The author’s wrote, “Like the moon mission, a true BHAG is clear and compelling and serves as a unifying focal point of effort– often creating immense team spirit. &nbsp;It has a clear finish line, so the organization can know when it has achieved the goal; people like to shoot for finish lines. &nbsp;A BHAG engages people– it reaches out and grabs them in the gut. &nbsp;It is tangible, energizing, highly focused. &nbsp;People "get it" right away; it takes little or no explanation.”</p><p>There is no reason why BHAG success should be limited to businesses. That’s why we recommend starting by setting a BHAG for yourself. Think of one huge “clear and compelling” star of a dream goal that you can hook all of your efforts and focus onto. Shoot for the stars! Dream big. Make it “audacious.” Above all else, make it <em>yours</em> alone. Every personal BHAG will be unique, but here are a few examples:</p><ul><li>Retire debt free in Costa Rica.</li><li>Become a self-made millionaire.</li><li>Sell my business for enough to set up six-figure trusts for my children.</li><li>Finish in the top ten at the Boston Marathon.</li><li>Compete in three Olympic Games.</li><li>Publish a book that hits the New York Times bestseller list.</li><li>Own a ranch that houses a non-profit animal sanctuary for big cats. </li></ul><p>Write your BHAG down in private and highly visible places. Look at it often. Tell people about it and expect wide-eyed feedback. Your big goal should incite a riot of reactions. If it doesn’t, it may not be big, hairy, or audacious enough. </p><!--kg-card-begin: markdown--><blockquote>
<p><span>There is no reason why BHAG success should be limited to businesses. That’s why we recommend starting by setting a BHAG for yourself.</span></p>
</blockquote>
<!--kg-card-end: markdown--><p>Now that you have one giant goal to rule them all, you are ready to go to step two. It’s time to set a series of increasingly smaller goals that lead to the big one. Think of your BHAG as the final destination. Along the way, you have to cross a series of obstacles. These smaller goals will be the roads, stepping stones, or trails you will take and the tools and skills you will acquire that are necessary to get all the way there.</p><p>In her book <a href="https://www.amazon.com/Your-Goal-Guide-Planning-Achieving-ebook/dp/B07T3GZX1S/ref=sr_1_1_sspa?dchild=1&amp;keywords=your+goal+guide&amp;qid=1601577717&amp;sr=8-1-spons&amp;psc=1&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUFMWTdDQ1c5SjAyNDMmZW5jcnlwdGVkSWQ9QTA3NTI1ODExUkxDMTAxUkJFVkRSJmVuY3J5cHRlZEFkSWQ9QTA2MzU0Njg5NjBMUTg2UTFNR00md2lkZ2V0TmFtZT1zcF9hdGYmYWN0aW9uPWNsaWNrUmVkaXJlY3QmZG9Ob3RMb2dDbGljaz10cnVl"><em>Your Goal Guide</em></a>, author and goal-setting coach Debra Eckerling lays out a highly detailed plan for breaking a big ultimate goal into smaller goals that will keep you on the path to what she calls “GoalTopia.” She recommends that you first determine the long-term goals you will need to achieve in order to reach your final destination. Under each of those long term goals, you will list benchmarks or hurdles that you will need to clear to achieve those long-term goals. Under those benchmarks or hurdles, you will list tasks you need to take care of to clear the hurdles. </p><p>Let’s look at the debt-free retirement in Costa Rica for example. One long term goal might be to pay off an existing mortgage in fifteen years. Under that, you need a list of increasingly smaller goals that may look something like this:</p><p><strong>The Big Goal: Retire debt free in Costa Rica</strong></p><ol><li>Pay off the existing mortgage in fifteen years.</li><li>Make two payments per month equal to twice the required payment.</li><li>Create and stick to a monthly budget.</li><li>Eliminate credit card debt.</li><li>Pay off the car loan. </li></ol><p>Outlines, lists, diagrams, funnels, using <a href="https://doit.io/why-doit/">a digital tool like doit</a>, filling in a goal worksheet: the format you use is entirely up to you. The important thing is to go through the process of taking that one big goal and breaking it down into smaller and smaller bites that can be accomplished steadily as you make your way. </p><h2 id="do-it-5-tips-and-tricks-for-goal-achievement">Do it: 5 Tips and Tricks for Goal Achievement</h2><p>Making the effort to seriously consider and intentionally set personal goals for yourself is a massive step in the right direction. Checking them off your list and getting the work done is the next challenge. In short, it’s time to actually do it. Successful goal achievement is part psychology and part process. Set yourself up for success with some tips and tricks that <em>really</em> work. </p><ol><li><strong>The Psychology of Small Wins:</strong> There is real power in victories, no matter how small. Checking achievements off your goal list delivers a jolt of feel-good chemicals to your brain, such as dopamine. Your brain wants more of that, so you intrinsically become motivated to do it again and again. This is one of the reasons why breaking down goals into ever-smaller steps works so well. The more frequently you get that hit of pleasure, the more motivated you are to get back to work.<br></li><li><strong>Show Up:</strong> The act of simply showing up, no matter how you feel or …</li></ol></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.doit.io/goal-setting/">https://blog.doit.io/goal-setting/</a></em></p>]]>
            </description>
            <link>https://blog.doit.io/goal-setting/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727832</guid>
            <pubDate>Mon, 11 Jan 2021 12:05:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[To $4m ARR in 3 years, bootstrapped (7 secrets revealed)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25727141">thread link</a>) | @Ilyazovtsev
<br/>
January 11, 2021 | https://ilya.today/gh-from-0-to-4mln | <a href="https://web.archive.org/web/*/https://ilya.today/gh-from-0-to-4mln">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://ilya.today/gh-from-0-to-4mln</link>
            <guid isPermaLink="false">hacker-news-small-sites-25727141</guid>
            <pubDate>Mon, 11 Jan 2021 10:42:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[ Haskell is our first choice for building production software systems]]>
            </title>
            <description>
<![CDATA[
Score 262 | Comments 284 (<a href="https://news.ycombinator.com/item?id=25726588">thread link</a>) | @Albert_Camus
<br/>
January 11, 2021 | https://www.foxhound.systems/blog/why-haskell-for-production/ | <a href="https://web.archive.org/web/*/https://www.foxhound.systems/blog/why-haskell-for-production/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Haskell is the first programming language we reach for when we build production software systems. This likely seems unusual to anyone who only has a passing familiarity with the language. Haskell has a reputation for being an advanced language with a steep learning curve. It is also often thought of as a research language with limited practical utility.</p>
<p>While Haskell does have a very large surface area, with many concepts and a syntax that will feel unfamiliar to programmers coming from most other languages, it is unrivaled in the combination of developer productivity, code maintainability, software reliability, and performance that it offers. In this post I will cover some of the defining features of Haskell that make it an excellent, industrial-strength language that is well-suited for building commercial software, and why it is usually the first tool we consider using for new projects.</p>
<!--more-->
<h3 id="haskell-has-a-strong-static-type-system-that-prevents-errors-and-reduces-cognitive-load">Haskell has a strong static type system that prevents errors and reduces cognitive load</h3>
<p>Haskell has a very powerful static type system which serves as a programmer aid that catches and prevents many errors before code ever even runs. Many programmers encounter statically typed languages like Java or C++ and find that the compiler feels like an annoyance. By contrast, Haskell’s static type system, in conjunction with compile-time type checking, acts as an invaluable pair-programming buddy that gives instantaneous feedback during development.</p>
<p>There’s a far smaller cognitive load that needs to be maintained when writing Haskell than when writing in languages like Python, JavaScript, or PHP. Many concerns can be completely offloaded to the compiler rather than needing to be remembered by the programmer. For example, when writing Haskell, there’s no need to preemptively ask questions like:</p>
<ul>
<li>Do I need to check whether this field is null?</li>
<li>What if fields are missing from the request payload?</li>
<li>Has this string already been decoded to an integer?</li>
<li>What if this string can’t be decoded to an integer?</li>
<li>Will this operator implicitly convert this integer to a string?</li>
<li>Are these two values comparable?</li>
</ul>
<p>This is not to say that these are questions that never need answering in Haskell; it’s to say that the compiler will throw an error when you need to address one of these issues. For example, it’s possible that a Haskell program needs to handle values that are sometimes not present, but instead of setting any value to <code>NULL</code>, a Haskell programmer must use a <code>Maybe</code> type, which indicates that the value may not be there, and the compiler forces the programmer to explicitly handle the <code>Nothing</code> value; the case where the value is not present.</p>
<p>Haskell’s static type system also leads to other benefits. Haskell code uses type signatures that precede its functions and describe the types of each parameter and return value. For example, a signature like <code>Int -&gt; Int -&gt; Bool</code> indicates that a function takes two integers and returns a boolean value. Since these type signatures are checked and enforced by the compiler, this allows a programmer reading Haskell code to look only at type signatures when getting a sense of what a certain piece of code does. For example, one would not use the type signature above when looking for a function that manipulates strings, decodes JSON, or queries a database.</p>
<p>Type signatures can even be used to search through the entire corpus of Haskell code for a relevant function. Using <a href="https://hoogle.haskell.org/" target="_blank" rel="noopener">Hoogle</a>, Haskell’s API search, we can search for a type signature based off of functionality we know that we need. For example, if we need to convert an <code>Int</code> to a <code>Float</code>, we can search Hoogle for <code>Int -&gt; Float</code> (<a href="https://hoogle.haskell.org/?hoogle=Int+-%3E+Float" target="_blank" rel="noopener">search results</a>), which will point us to the aptly named <code>int2Float</code> function.</p>
<p>Haskell also lets us create polymorphic type signatures through the use of type variables, represented by lowercase type names. For example, a signature of <code>a -&gt; b -&gt; a</code> tells us that that the function takes two parameters of two arbitrary types, and returns a value that whose type is the same as the first parameter. Suppose we want to check whether an element is in a list. We’re looking for a function that takes an item to search for, a list of items, and returns a boolean. We don’t care about the type of the item, so long as the search item and the items in the list are of the same type. So we can search Hoogle for <code>a -&gt; [a] -&gt; Bool</code> (<a href="https://hoogle.haskell.org/?hoogle=a%20-%3E%20%5Ba%5D%20-%3E%20Bool" target="_blank" rel="noopener">search results</a>), which will point us to the <code>elem</code> function. Parametric types are an extremely powerful feature in Haskell and are what enable writing reusable code.</p>
<h3 id="haskell-enables-writing-code-that-is-composable-testable-and-has-predictable-side-effects">Haskell enables writing code that is composable, testable, and has predictable side-effects</h3>
<p>In addition to being statically typed, Haskell is a pure functional programming language. This is one of Haskell’s defining features and what the language is well known for, even amongst programmers that have only heard of Haskell but never used it. Writing in a pure functional style has many benefits, and is conducive to a well-organized code base.</p>
<p>The word “pure” in “pure functional programming” is significant. Purity in this sense means that the code we write is pure, or free of side-effects. Another term that describes this is <a href="https://en.wikipedia.org/wiki/Referential_transparency" target="_blank" rel="noopener">referential transparency</a>, or the property where any expression (e.g.&nbsp;a function call with a given list of parameters) can be replaced with its return value without changing the functionality of the code. This is only possible when such pure functions do not have side effects, such as creating files on the host system, running database queries, or making HTTP requests. Haskell’s type system imposes this sort of purity.</p>
<p>So does being pure mean that Haskell programs cannot have side effects? Certainly not—but it does mean that effects are pushed to the edge of our system. Any functions that perform I/O actions (such as querying a database or receiving HTTP requests) must have a return type that captures this. This means that type signatures like the ones we saw in the previous section (e.g.&nbsp;<code>Int -&gt; Float</code> or <code>a -&gt; [a] -&gt; Bool</code>) are indicators that the corresponding functions do not produce side effects, since <code>Float</code> and <code>Bool</code> are just primitive return types. For a contrasting example that includes a side effect, a function signature of <code>FilePath -&gt; IO String</code> indicates that the function takes a file path and performs an I/O action that returns a string (which is exactly what the <code>readFile</code> function does).</p>
<p>Another feature of a pure functional programming paradigm is higher-order functions, which are functions that take functions as parameters. One of the most commonly used higher-order functions is <code>fmap</code>, which applies a function to each value in a container (such as a list). For example, we can apply a function named <code>square</code>, which takes an integer and returns that integer multiplied by itself, to a list of integers to turn it into a list of squared integers:</p>
<div id="cb1"><pre><code><span id="cb1-1"><span>square ::</span> <span>Int</span> <span>-&gt;</span> <span>Int</span></span>
<span id="cb1-2">square x <span>=</span> x <span>*</span> x</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span>fmap</span> square [<span>1</span>,<span>2</span>,<span>3</span>,<span>4</span>,<span>5</span>] <span>-- returns [1,4,9,16,25]</span></span></code></pre></div>
<p>Code written in this style tends to be both composable and testable. This above example is trivial, but there are many applications of higher-order functions. For example, we can write a function like <code>renderPost</code> which takes a record of post data and returns the version of the post rendered in HTML. If we have a list of posts, we can run <code>fmap renderPost postList</code> to produce a list of rendered posts. Our <code>renderPost</code> function can be used in both the single case and the multi-post case without any changes, because composing it with <code>fmap</code> changes how we can apply it. We can also write tests for the <code>renderPost</code> function and compose it with <code>fmap</code> in our tests when validating the behavior for a list of posts.</p>
<h3 id="haskell-facilitates-rapid-development-worry-free-refactoring-and-excellent-maintainability">Haskell facilitates rapid development, worry-free refactoring, and excellent maintainability</h3>
<p>Through the combination of the aforementioned static types and pure functional style that Haskell has, developing software in Haskell tends to be very fast. One of the common development workflows we employ is relies on a tool called <a href="https://github.com/ndmitchell/ghcid" target="_blank" rel="noopener"><code>ghcid</code></a>, a simple command line tool that relies on the Haskell repl to automatically watch code for changes and incrementally recompile. This allows us to see any compiler errors in our code immediately after saving changes to a file. It’s not uncommon for us to open only a terminal with a text editor and <code>ghcid</code> while developing applications in Haskell.</p>
<p>While manually validating the results of our code is eventually necessary by refreshing a page in a browser or using a tool to validate a JSON endpoint, a lot of this can be deferred until the end of a programming session. Many of the would-be runtime errors a programmer would encounter when writing a web service in a language like Python or PHP are caught immediately and displayed as compiler errors by <code>ghcid</code>. This is a far cry from the need to switch to a browser window and refresh the page after making a change to some code, a development workflow that everyone who has worked on a web application is intimately familiar with.</p>
<p>Beyond the tight feedback loop during development, Haskell code is easy to refactor and modify. Like real world code written in any other language, such code written in Haskell is not write-only. It eventually will need to be maintained, updated, and extended, often by developers that are not the original authors of the code. With the aid of compile-time checking, many code refactors in Haskell become easy; a common refactoring workflow is to make a desired change in one location and then fix one compiler error at a time until the program compiles again. This is far easier than the equivalent changes in dynamically typed languages that offer no such assistance to the programmer.</p>
<p>Proponents of dynamically typed languages will often argue that automated tests supplant the need for compile-time type checking, and can help prevent errors as well. However, tests are not as powerful as type constraints. For tests to be effective, they must:</p>
<ol type="1">
<li>Actually be written, yet many real world code bases have limited testing</li>
<li>Make correct assertions</li>
<li>Be comprehensive (test a variety of inputs) …</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.foxhound.systems/blog/why-haskell-for-production/">https://www.foxhound.systems/blog/why-haskell-for-production/</a></em></p>]]>
            </description>
            <link>https://www.foxhound.systems/blog/why-haskell-for-production/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25726588</guid>
            <pubDate>Mon, 11 Jan 2021 09:24:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebuilding the spellchecker, pt.2: Just look in the dictionary, they said]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25725583">thread link</a>) | @zverok
<br/>
January 10, 2021 | https://zverok.github.io/blog/2021-01-09-spellchecker-2.html | <a href="https://web.archive.org/web/*/https://zverok.github.io/blog/2021-01-09-spellchecker-2.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <p><strong><em>This is the second part of the “Rebuilding the spellchecker” series, dedicated to the explanation of how the world’s most popular spellchecker Hunspell works.</em></strong></p>

<p><strong>Quick recap:</strong> <a href="https://zverok.github.io/blog/2021-01-05-spellchecker-1.html">In the first part</a>, I’ve described what Hunspell is; and why I decided to rewrite it in Python. It is an <strong>explanatory rewrite</strong> dedicated to uncovering the knowledge behind the Hunspell by “translating” it into a high-level language, with a lot of comments.</p>

<p>Now, let’s dive into how the stuff really works!</p>

<p>There are two main parts of word-by-word spellchecker algorithms:</p>

<ol>
  <li>Check if a word is correct: <strong>“lookup”</strong> part</li>
  <li>Propose the correction for incorrect words: <strong>“suggest”</strong> part</li>
</ol>

<blockquote>
  <p>Hunspell also implements several other algorithms to be useful as standalone software. It can extract plain text from numerous formats, like HTML or TeX, split it into words (tokenize), correctly handling punctuation—but at the end of the day, a word-by-word correctness check is applied. I excused myself from implementing “wrapper” algorithms: text extraction and tokenization are thoroughly investigated topics, and there are numerous libraries in any language solving it with decent speed and quality.</p>
</blockquote>

<p>Hunspell works on a word-by-word basis (no context is taken into account). Each word is just <strong>looked up</strong> in the <strong>dictionary</strong> loaded from the plaintext  <code>&lt;langname&gt;.dic</code> file in Hunspell-specific format. If it is not considered correct by dictionary lookup (which, as we’ll see soon, is more complex than “is it present in the dictionary”), several algorithms of <strong>suggest</strong> are applied sequentially, trying to find correct words similar to the given one.</p>

<h2 id="hunspells-lookup-algorithm-or-just-look-in-the-dictionary-they-said">Hunspell’s lookup algorithm, or, Just look in the dictionary, they said!</h2>

<p>When coming from English-only spellchecking, the developers tend to perceive the “lookup” part as trivial (e.g., the famous <a href="https://norvig.com/spell-correct.html">Peter Norvig’s article</a> starts from the assumption that only the correction—”suggest”—part deserves some explanations). But that’s not quite so.</p>

<p>The first and most straightforward idea<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> for the lookup would be: we’ll just take the dictionary (presumably, the flat list of all correct words) and look for our candidate word in this list: if it is there, it is correct. End of story.</p>

<p>Now, Hunspell’s dictionaries exist for many languages and have a plaintext format, which, at the first sight is quite close to a plain word list—so, probably it would be easy to reuse them? Let’s take a look into the <a href="https://github.com/LibreOffice/dictionaries/blob/master/en/en_US.dic"><code>en_US.dic</code></a> in the LibreOffice dictionary repository. You’ll see a list of words in the following format:</p>

<div><div><pre><code>...
acetyl
acetylene/M
ache/DSMG
achene/MS
achievable/U
achieve/BLZGDRS
achievement/SM
...
</code></pre></div></div>

<p>The line <code>ache/DSMG</code> specifies the <em>stem</em> <code>ache</code>, having <code>D</code>, <code>S</code>, <code>M</code>, <code>G</code> <em>flags</em> associated with it. The meaning of flags is defined by <a href="https://github.com/LibreOffice/dictionaries/blob/master/en/en_US.aff"><code>en_US.aff</code></a> (called “affix file”, or just aff-file; every Hunspell dictionary is distributed as a pair of <code>.dic</code> and <code>.aff</code> files).</p>

<h3 id="affix-compression">Affix compression</h3>

<p>In this particular case, all four flags are associated with word <em>suffixes</em>. Here’s the definition of <code>D</code> suffix:</p>

<div><div><pre><code>SFX D Y 4                    # Suffix header: suffix (SFX), with flag D, combinable with prefixes (Y), 4 entries:
SFX D   0  d    e            # * if the stem ends is "e", strip nothing (0), and add "d"
SFX D   y  ied  [^aeiou]y    # * if the stem ends with "y", preceded by non-vowel, strip "y" and add "ied"
SFX D   0  ed   [^ey]        # * if the stem ends with not "e", and not "y", strip nothing, add "ed"
SFX D   0  ed   [aeiou]y     # * "y" with preceding vowel: strip nothing, add "ed"
</code></pre></div></div>

<p>For our <code>ache</code> stem, this definition says that form <code>ached</code> exists. In the similar fashion, <code>S</code> flag defines that word <code>aches</code> exists, <code>G</code> flag defines <code>aching</code>, <code>M</code> flag defines <code>ache's</code>. So, the <code>ache/DSMG</code> line in <code>.dic</code> file specifies 5 correct words: “ache”, “ached”, “aches”, “aching”, “ache’s”.</p>

<blockquote>
  <p>Note: the fact that flags are similar to the suffixes they define (<code>S</code> flag defines suffix <code>-s</code> and so on) is just a convention. It is rather a handy mnemonics that creators of <code>en_US</code> dictionary used, and there could be any other symbol.</p>
</blockquote>

<p>In the similar fashion, word prefixes might be defined (specified with flags in dic-file, and described with <code>PFX</code> directive in aff-file). Say, this definition:</p>



<p>…defines these forms: <em>advantage, advantage’s, advantaging, advantaged, advantages, disadvantage’s, disadvantaging, disadvantaged, disadvantages, disadvantage</em> (all combinations of four suffixes and a prefix “dis-“).</p>

<p>This technique of “packing” dictionaries is called <strong>affix compression</strong>, and its primary goal is to optimize dictionary size: on disk and in memory. It becomes extremely important for languages with rich inflection. For example, in English one stem might produce no more than ten forms, but in Ukrainian it could easily be dozens or even hundreds, so the amount of possible correct forms quickly grows to tens of millions. “Just a flat list of all known words” <em>might</em> become impractical (not on today’s top MacBook, probably, but still), and that’s where the affix compression comes in handy.</p>

<blockquote>
  <p>This is not the only possible approach to make dictionary storage more effective: for example, <a href="https://github.com/morfologik/morfologik-stemming">morfologik</a> (the default internal spellchecker of the most widely used open-source proofreading software <a href="https://languagetool.org/">LanguageTool</a>) codes <em>all</em> possible forms in binary files, using finite-state automata. And this approach is very efficient by speed and memory, but very hard for humans to edit and review, and thus, to keep dictionary up-to-date.</p>
</blockquote>

<p>Another benefit of splitting words into stems and affixes: when Hunspell’s user wants to add a new word to their personal dictionary, Hunspell allows to just specify “it is inflected the same way as (some other word)”, thus sparing the user of teaching the dictionary “‘monad’ is a word, and ‘monads’ too, as well as ‘monad’s’…”.</p>

<p>Note, though, that “suffixes” and “prefixes” specified in some language’s dictionary not necessarily correspond to <em>grammatical</em> suffixes/prefixes of the language. The splitting into stems and affixes is deduced automatically by dictionary authoring tools from flat word lists, so it is up to probabilities whether “common endings” deduced have any grammatical meaning. Actually, Hunspell’s format has a rich <a href="https://manpages.debian.org/experimental/libhunspell-dev/hunspell.5.en.html#Optional_data_fields">sub-language to specify grammatical information</a>, but of all LibreOffice and Firefox dictionaries I’ve checked, only a few (Latvian, Slovak, Galician, Breton) made use of this feature.</p>

<blockquote>
  <p>One important factor to mention is Hunspell’s limitation for the amount of suffixes/prefixes a word may have. Currently, the software understands no more than 2 suffixes and 2 prefixes in a word, which is lower than the common number of grammatical suffixes a lot of languages allow. Most of the dictionaries solve this by “linearizing” the word list: Ukrainian word “громадянство” (citizenship) grammatically consists of the stem “громад-“ and suffixes “-ян-“, “-ств-“, “-о” (the latter is called an ending in grammatically correct terms), but Hunspell’s Ukrainian dictionary includes the full word “громадянство”. For other languages, the suffix number limitation makes Hunspell totally unusable, so to spellcheck the Finnish, you need to install <a href="https://voikko.puimula.org/">Voikko</a> spellchecker.</p>
</blockquote>

<p><strong>Affix compression comes with a price</strong> paid in lookup algorithm complexity and performance. Instead of just a quick lookup through a hashtable or other lookup-optimized structure, we now have to:</p>

<ol>
  <li>Check if the whole word is in the list of stems. If yes, it is correct,
    <ul>
      <li>…unless it has a flag corresponding to the aff-file directive “this stem <em>requires</em> prefixes or suffixes”.</li>
    </ul>
  </li>
  <li>If no, check if the word has some of the known suffixes; and if so, whether the stem without one of those suffixes is in the stem list, <em>and</em> has a flag corresponding to this suffix.</li>
  <li>If no, check if one more suffix can be found in the stem (then we’ll have a stem and two suffixes, and need to check the compatibility of their flags).</li>
  <li>Repeat with prefixes (up to two), and with all possible suffix-prefix combination (taking into account whether suffix and prefix both have “cross-product” allowed).</li>
  <li>Consider that suffixes and prefixes can have flags of their own, specifying “suffixes with this flag might be attached after me”, or “if used, this suffix requires that at least one other affix would be present” and … many other things.</li>
  <li>And there are funny cases like <code>CIRCUMFIX</code> flag: if the suffix has it, this means that this suffix is only allowed in words having a prefix with the same flag.</li>
</ol>

<blockquote>
  <p>It is <em>still</em> a simplified description. To follow the algorithm in full, you can read Spylls docs starting from <a href="https://spylls.readthedocs.io/en/latest/hunspell/algo_lookup.html#spylls.hunspell.algo.lookup.Lookup.affix_forms"><code>Lookup.affix_forms</code></a>, follow the links to methods it invokes, and read inline comments under “Show code”.</p>
</blockquote>

<p>Performance-wise, for each word correctness check, there could be many lookups through known suffixes and prefixes lists, and quite a few dictionary lookups (as consecutive chopping off of suffixes and prefixes produces new stems we need to check).</p>

<p>And once you tackle the affixes problem, it is all uphill from there!</p>

<p><strong>Stay tuned for the next installment about the Hunspell lookup, where we’ll cover word compounding problem, and some other important edge cases of the word correctness check.</strong> Follow me <a href="https://twitter.com/zverok">on Twitter</a> or <a href="https://zverok.github.io/subscribe.html">subscribe to my mailing list</a> if you don’t want to miss the follow-up!</p>


  </article></div>]]>
            </description>
            <link>https://zverok.github.io/blog/2021-01-09-spellchecker-2.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25725583</guid>
            <pubDate>Mon, 11 Jan 2021 06:54:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Working Off-Grid Efficiently]]>
            </title>
            <description>
<![CDATA[
Score 268 | Comments 129 (<a href="https://news.ycombinator.com/item?id=25723819">thread link</a>) | @zdw
<br/>
January 10, 2021 | https://100r.co/site/working_offgrid_efficiently.html | <a href="https://web.archive.org/web/*/https://100r.co/site/working_offgrid_efficiently.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
        
        <ul>
            <li><a href="#intro">Introduction</a></li>
            <li><a href="#power">Power management</a></li>
            <li><a href="#internet">Internet</a></li>
            <li><a href="#data">Data storage</a></li>
            <li><a href="#software">Software</a></li>
            <li><a href="#hardware">Hardware</a></li>
            <li><a href="#conscientious">Conscientious living</a></li>
        </ul>
<h2 id="intro">Introduction</h2>

<img src="https://100r.co/media/blog/working/dworking5.jpg" loading="lazy">

<p>Our traveling studio has operated off-the-grid since 2016.</p>

<p>For the first 3 years we tested the limits of our space, and at first, it was difficult to create new things, as we had to make time to learn how to solve the underlying problems. Our boat was not just an office, it was also our house and transport. As for us, we were artists, but also had to be plumbers, deckhands, electricians, captains, janitors and accountants.</p>

<p>Our main problems as a studio were <b>internet scarcity</b>, <b>power management</b>, <b>data storage</b> as well as <b>hardware</b> and <b>software failures</b>. Overtime we found ways to balance work, pleasure and maintenance. Here are some of the lessons we learnt.</p>

<h2 id="power">Power management</h2>

<img src="https://100r.co/media/blog/working/dworking6.jpg" loading="lazy">

<p>Our work schedule is tied to the weather, as we depend on solar energy to power our computers. By looking at the forecast, we can determine when we will get the most work done: consecutive days of sun grant us enough power for video-editing, while overcast days are reserved for low-power work, like writing, coding and planning.</p>

<p>There are times when we must resort to secondary power sources, like our small generator or our engine's alternator, but we tend to prefer to <a href="https://www.youtube.com/watch?v=9ua_qxjbBTc">wait for the sun to return</a>. Waiting hasn’t affected our productivity, as we don't adhere to strict 8-hour workdays.</p>

<p>We tend to work only in the morning, leaving us time to pursue other interests in the afternoon. In our old life, we found that the 40-hour workweek ﻿<a href="https://www.raptitude.com/2010/07/your-lifestyle-has-already-been-designed/" target="_blank">kept free-time scarce</a>, resulting in us spending more for convenience, gratification and distraction.</p>

<p>Computers are generally power-sucking vampires. Choosing different softwares, operating systems, or working from machines with a lower draw (ARM) or even throttling the CPU, are some of the many things we do to lower our power requirements. The way that software is built has a substantial impact on the power consumption of a system, it is shocking how cpu-intensive modern programs can be.</p>

<p>Choosing software designed for low-end PCs is a good solution, it is also possible to throttle processes on your machine by using a ‘throttling controller’. The basic idea is like the throttle in a car, it allows to set the rate at which your system will operate and consume power. Another sure way to save battery is to limit multitasking. Disabling notifications, <a href="https://addons.mozilla.org/en-CA/firefox/addon/noscript/">scripts</a>, auto-playing videos or using internet browsers without opening multiple tabs at once are some of the many ways to achieve this.</p>

<p>Power consumption is also something to consider when choosing a computer. In evenings, if we need to work on light tasks, we switch to our low-power machines like the <a href="https://100r.co/site/raspberry_pi.html">Raspberry Pi</a>. To illustrate the difference in power draw, a Pi4 uses 2.85 W when idle, while a Macbook Pro uses 6-12 W. Raspberry Pis are backups to our main computers, as they are inexpensive and can run off small batteries.</p>

<h2 id="internet">Internet</h2>

<img src="https://100r.co/media/blog/working/dworking1.jpg" loading="lazy">

<p>Internet access is the woe of any working nomad. Internet is sometimes spotty, and data in some countries is slow, expensive, or limited to small blocks at a time. While circumnavigating the Pacific, we amassed sim cards, pocket WiFis, and have often used connections from businesses on land. Overtime, we found ways to lessen our dependence on internet, and to save on bandwidth.</p>

<p>With limited access, it is important to use online time wisely. Prior to connecting we make a list of tasks that we must do, such as pushing updates and making backups of our data online. It’s easy to get side-tracked on the internet, with websites designed to grab and keep our attention. When checking social media, we disable auto-playing videos and image previews to save bandwidth.</p>

<p>When we have a reliable internet connection, we gather copies of all the online material we will need. We keep offline versions of entire websites, writing guides, articles and even whole sections of Wikipedia. If we find ourselves without a connection, we can still solve our problems by using our offline mirrors. By the way, you can <a href="https://github.com/hundredrabbits/100r.co/archive/master.zip">download our entire website</a>.</p>

<p>We research our destinations ahead of time to make sure we’ll have a reliable connection when we need it. This means we’ll be spending less time in secluded areas, and more time in city centers near a cell tower or WiFi signal. With some planning it is possible to have both paradise and connectivity, we found such a place in <a href="https://100r.co/site/internet_in_paradise.html#internet">Huahine</a> in French Polynesia, and again in Fiji. Internet access will only get better as far-flung island nations gain purchasing power.</p>

<h2 id="data">Data storage</h2>

<img src="https://100r.co/media/blog/working/dworking2.jpg" loading="lazy">

<p>Hardware failure is common on boats due to the hostile environment. Saltwater is the kryptonite of electronics. This is why it is important to backup data often to avoid losing work. There are advantages and disadvantages with all methods of data storage, but I’ll outline the most useful ones:</p>

<p><b>Cloud storage:</b> For a fee, you can back up your data online and sync files from your desktop. This method doesn’t eliminate physical storage as data can’t be synced to the cloud without a connection. Offloading data storage to a centralized service is problematic in other ways, because services have rules and owners and processes which can complicate things. For instance, country politics have made it that Google restricts access to some of its business services in certain countries or regions, such as China, Crimea, Cuba, Iran, Sudan, and Syria. Whatever data you have stored with Google Drive, if traveling to any of these countries will not be accessible. As conflicts arise, more countries can end up on that list. We keep documents we don’t need regular access to on the cloud, with copies on hard disks.</p>

<p><b>Hard copies:</b> Paper is a stable and widely accessible material, unlike digital devices which are subject to breakages and obsolescence. There’s a good reason books and other documents from centuries ago are still readable today. We like to keep printed copies of websites and other online reference materials, such as grammar guides for writing, or language manuals for coding. Keeping data like this means we always have access and aren’t limited to our computer’s battery.</p>

<p><b>External hard drives:</b> A hard drive is the best balance of practical and reliable for storage. However, hard drives are rated for a limited number of read/write cycles, and can be expected to fail eventually. To prevent data loss due to HD failure, it’s a good idea to store the same data across multiple hard drives.</p>

<p><b>Offline databases:</b> Keeping an offline collection of websites on computers or HD ensures constant access, and reduces the energy associated with re-loading them repeatedly. It’s possible to save web pages with most browser by selecting File &gt; Save Page As. To access the page offline, click on the HTML file. Another option is to mirror entire web sites using <a href="https://www.gnu.org/software/wget/" target="_blank">command-line tools</a>. We keep offline databases full of notes on a variety of subjects to refer to when there’s no internet.</p>
<p>For those who need a vast quantity of reference materials, it's possible to setup an <a href="http://wiki.laptop.org/go/IIAB/FAQ#How_does_Internet-in-a-Box_.28IIAB.29_help.3F" target="_blank">internet in the box</a> on your boat. In short, it permits you to browse through the World’s Free Knowledge (Wikipedia, Khan Academy, OpenStreetMap, E-Books and many others) while offline. You can install an internet-in-a-box using very diverse hardware, like on a <a href="https://opensource.com/article/17/5/internet-in-a-box-raspberry-pi" target="_blank">Raspberri Pi</a> or on a terabyte HD with a built-in hotspot. This system was originally designed for students with restricted internet access and people in remote areas of the world not served by broadband. You can buy one, or better yet <a href="https://www.kiwix.org/en/" target="_blank">create a digital library</a> filled with content tailored to your needs. This might be especially useful for sailors who homeschool.</p>

<p>Keeping files on the cloud, on hard drives and hard copies gives our floating studio the redundancy required to ensure reliability.</p>

<h2 id="software">Software</h2>

<p>Software has a big impact on productivity, they need to be reliable and fast. Those that require heavy updates, that have a high CPU usage and that need frequent connectivity to function are problematic for working sailors.</p>

<p>Much of the software on the market is designed by people living on the grid with unlimited access to internet. Tools locking up at sea, asking for a connection to continue working don’t float on a boat. Adobe products are a good example, as they require an internet connection periodically for subscription validation. If away from big cities, you may open your computer in an atoll to find that you no longer have access to the tool you need to get things done. Choosing a tool that doesn’t require a subscription is <b>essential</b> for working nomads that don’t have a reliable connection.</p>

<p>In our first year, we struggled to download the frequent and mandatory 10GB software updates from Apple to release our software on their platform, while on slow Polynesian internet. Processor-intensive software or apps is a strain on limited power and bandwidth, but it doesn’t have to be that way. The way developers write them can affect the power consumption of the resulting product. Chat rooms and bare bones text editors aren’t supposed to be process-heavy, and yet the popular communication platform Slack requires <a href="https://josephg.com/blog/electron-is-flash-for-the-desktop/" target="_blank">outrageous amounts of ram and CPU</a> to function. This is because Slack is embedding the entirety of Google Chrome in their app. Making software this way is costly to off-grid users, or those on slow connections, but luckily there are <a href="https://github.com/mayfrost/guides/blob/master/ALTERNATIVES.md" target="_blank">many alternatives</a>.</p>

<p>Our computer batteries should not need to grow ever larger only to support these bloatwares, nor should we need to add extra solar to power them. Just as you would look at the nutritional content of food products at the grocery store, find out how much energy your apps are consuming.</p>

<h2 id="hardware">Hardware</h2>

<img src="https://100r.co/media/blog/working/working3.jpg" loading="lazy">

<p>Computers are subject to water intrusion and saltwater corrosion, but with some care they can survive in a normal marine environment. We solved most of the problems by cleaning external connections often, and by storing them in a sealed box with some desiccants after each use. The main issue with …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://100r.co/site/working_offgrid_efficiently.html">https://100r.co/site/working_offgrid_efficiently.html</a></em></p>]]>
            </description>
            <link>https://100r.co/site/working_offgrid_efficiently.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723819</guid>
            <pubDate>Mon, 11 Jan 2021 02:58:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[High Voltage “Lifter”]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 18 (<a href="https://news.ycombinator.com/item?id=25723430">thread link</a>) | @mindcrime
<br/>
January 10, 2021 | https://electricmuseum.com/312/ | <a href="https://web.archive.org/web/*/https://electricmuseum.com/312/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrap">

			
			
<!-- #site-header -->


			
			<main id="main" role="main">

				

<!-- .page-header -->


	
	<div id="content-wrap">

		
		<div id="primary">

			
			<div id="content">

				
				
<article id="post-312">

	

<div itemprop="text">
	<div>



<p><span>Electrostatic lifters are fascinating devices that have become popular construction projects for experimenters all over the world.&nbsp;&nbsp; NASA’s recent patent on a type of lifter design has&nbsp; spurred further&nbsp; interest in these devices.</span></p>
<p><img loading="lazy" title="lifter_2" src="https://electricmuseum.com/wp-content/uploads/lifter_2.jpg" alt="lifter_2" width="371" height="268"></p>
<h3><span>What is a lifter?</span></h3>

<p><span> The basic device merely consists of a lightweight (typically balsa wood) frame, to which is attached a wire and a sort of aluminum foil skirt. The photos on this page&nbsp; illustrate this. The wire is charged to approximately 30,000 volts by means of a power supply and very thin wire attached to the corona wire. The aluminum foil skirt is coneccted to ground by a thin wire as well. When the device is powered it developes downward thrust and levitates.</span></p>
<figure><img loading="lazy" title="lifter_1" src="https://electricmuseum.com/wp-content/uploads/lifter_1.jpg" alt="lifter_1" width="540" height="306"><figcaption>Lifter being powered by a 50kV DC supply operated at approximately 25kV. Not visible is the thin positively charged “corona wire” which is strung above, and parallel to, the flat negatively charged aluminum “skirt”.</figcaption></figure>
<h3><span>How does it work?</span></h3>
<p><span>T</span><span>he device levitates by creating an electrostatic “wind”. This is caused as the thin positively charged corona wire ionizes the air surrounding it which is then repelled from the corona wire and pulled towards the negtively charged “skirt”. The force of this ion wind combined with the impact of the moving ions on the surrounding air creates an upward thrust. This is essentially how some of the “ionic breeze” air purifiers work that you may have seen in catalogs.</span></p>
<p><span>A well known effect called dielectrophoresis may also contribute to the device’s thrust. This is an effect whereby dielectric material in an asymmetrc electric field becomes polarized and moves towards the larger electrode. In a fluid dielectric medium such as air or liquid, dielectrophoresis can cause a continuous flow of dieletric material from one electrode to another. The more intense the electric field the greater the effect. Dieletrophoresis is consitent with experiemental results shown by encapsulating the electrodes.</span></p>

<p><img loading="lazy" title="lifter_plot" src="http://electricmuseum.com/wp-content/uploads/lifter_plot1.gif" alt="lifter_plot" width="400" height="304"></p>
</div>

</div><!-- .entry -->


</article>

				
			</div><!-- #content -->

			
		</div><!-- #primary -->

		

<!-- #right-sidebar -->


	</div><!-- #content-wrap -->

	

	</main><!-- #main -->

	
	
	
		
<!-- #footer -->

	
	
</div></div>]]>
            </description>
            <link>https://electricmuseum.com/312/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25723430</guid>
            <pubDate>Mon, 11 Jan 2021 02:12:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[TV Tuner History]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25721804">thread link</a>) | @parsecs
<br/>
January 10, 2021 | https://www.maximus-randd.com/tv-tuner-history-pt1.html | <a href="https://web.archive.org/web/*/https://www.maximus-randd.com/tv-tuner-history-pt1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.maximus-randd.com/tv-tuner-history-pt1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25721804</guid>
            <pubDate>Sun, 10 Jan 2021 23:48:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Discovering and exploring mmap using Go]]>
            </title>
            <description>
<![CDATA[
Score 107 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25720731">thread link</a>) | @brunoac
<br/>
January 10, 2021 | https://brunocalza.me/2021/01/10/discovering-and-exploring-mmap-using-go/ | <a href="https://web.archive.org/web/*/https://brunocalza.me/2021/01/10/discovering-and-exploring-mmap-using-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>Recently I've come to know the concept of <strong>memory-mapped files</strong> while watching a lecture of the course <a href="https://15445.courses.cs.cmu.edu/fall2019/">Intro to Database Systems</a> of <a href="https://twitter.com/andy_pavlo">Andy Pavlo</a> on database storage. One of the main problems a database storage engine has to solve is <strong>how to deal with data in disk that is bigger than the available memory</strong>. At a higher level, the main purpose of a disk-oriented storage engine is to manipulate data files in a disk. But if we assume that the data in the disk will eventually get bigger than the available memory, we cannot simply load the whole data file into memory, do the change, and write it back to disk.</p><p>This is not a new problem in Computer Science. When operational systems were being developed in the early 1960s, a similar problem was faced: <strong>how can we run programs stored in disk that are larger than the available memory?</strong> A solution to this problem was made by a group in Manchester, implemented on the <a href="https://en.wikipedia.org/wiki/Atlas_(computer)">Atlas Computer</a>, in 1961. It was called <em>virtual memory</em>. The <em>virtual memory</em> gives a running program the illusion that it has big enough memory, despite the fact that the computer does not have enough.</p><p>We are not going to go deep on how <em>virtual memory</em> works. Just have in mind that when a program is accessing memory it is accessing the <em>virtual memory</em>. And maybe the data the program is trying to access is not actually in memory, but it does not matter. The operational system will make pretend that it is by going to disk, and putting it there, and replace an old chunk of memory that is not going to be used.</p><p>So, one of the ways a database storage engine can solve the larger than memory problem is to make use of <em>virtual memory</em> and the concept of <strong>memory-mapped files</strong>.</p><p>In Linux, we can make this use by using the system call <a href="https://man7.org/linux/man-pages/man2/mmap.2.html">mmap</a> that lets you map a file, no matter how big, directly into memory. If your program needs to manipulate the file, all it needs is to manipulate the memory. The operating system handles the writes to disk for you.</p><p>In some occasions, programmers find this method more convenient than the usual system calls: <a href="https://man7.org/linux/man-pages/man2/open.2.html">open</a>, <a href="https://man7.org/linux/man-pages/man2/read.2.html">read</a>, <a href="https://man7.org/linux/man-pages/man2/write.2.html">write</a>, <a href="https://man7.org/linux/man-pages/man2/lseek.2.html">lseek</a> and <a href="https://man7.org/linux/man-pages/man2/close.2.html">close</a>.</p><h3 id="a-simple-demonstration">A simple demonstration</h3><p>Here is a small example of how you can take advantage of this in Go using the package <a href="https://github.com/edsrzf/mmap-go">mmap-go</a>:</p><pre><code>package main

import (
	"os"
	"fmt"
	"github.com/edsrzf/mmap-go"
)

func main() {
	f, _ := os.OpenFile("./file", os.O_RDWR, 0644)
	defer f.Close()
	
	mmap, _ := mmap.Map(f, mmap.RDWR, 0 )
	defer mmap.Unmap()
	fmt.Println(string(mmap))
	
	mmap[0] = 'X'
	mmap.Flush()
}</code></pre><figure><img src="https://asciinema.org/a/pRS8PvTRHksnCVQgSOWvPBF3a.svg" alt="asciicast"></figure><p>The beauty is that we could have a much bigger file, and the solution would still work. We would not have to worry about managing memory in order to avoid it filling up.</p><h3 id="detailing-mmap-capabilites">Detailing <em>mmap</em> capabilites</h3><p>We're going to explore more <em>mmap</em> functionalities from the point of view of the API provided by <a href="https://github.com/edsrzf/mmap-go">mmap-go</a>. There are probably more features that the <a href="https://godoc.org/golang.org/x/sys/unix#Mmap">native syscall</a> provides that this library does not implement.</p><h4 id="the-prot-argument">The <code>prot</code> argument</h4><p>Here is the <code>mmap.Map</code> signature</p><pre><code>func Map(f *os.File, prot, flags int) (MMap, error) 
</code></pre><p>Let's look at <code>prot</code> first. The <code>prot</code> argument lets you specify the protection levels of your mapping: <code>RDONLY</code>, <code>RDWR</code>, <code>EXEC</code> are the options provided for <code>mmap-go</code>. These levels are pretty straightforward, <code>RDONLY</code> means you can only read from the mapping, <code>RDWR</code> means you can also write, and <code>EXEC</code> means you can execute code on that mapping. &nbsp;Here is the description of <code>prot</code> from the Linux <code>man</code>:</p><pre><code>The prot argument describes the desired memory protection of the
mapping (and must not conflict with the open mode of the file).
It is either PROT_NONE or the bitwise OR of one or more of the
following flags:

PROT_EXEC
    Pages may be executed.

PROT_READ
    Pages may be read.

PROT_WRITE
    Pages may be written.

PROT_NONE
    Pages may not be accessed.
</code></pre><p>In the <a href="https://godoc.org/golang.org/x/sys/unix">unix package</a>, those flags are: <code>unix.PROT_EXEC</code>, <code>unix.PROT_READ</code>, <code>unix.PROT_WRITE</code> and <code>unix.PROT_NONE</code>.</p><h4 id="experimenting-with-prot_exec-flag">Experimenting with <code>PROT_EXEC</code> flag</h4><p>I've become intrigued by the <code>EXEC</code> flag and wanted to see an example of how that works. I've Google and could not find any example. So I tried a search in Github by <code>PROT_EXEC</code> and found a good example in <code>C</code>: <a href="https://github.com/onesmash/MMapExecDemo">MMapExecDemo</a>. I replicated this example in <code>Go</code> using <code>mmap-go</code>.</p><p>The first step was to create a function that I wanted to be put in memory by <code>mmap</code> allocation, compile it, and get its assembly opcodes.</p><p>I created the <code>inc</code> function in <code>inc.go</code> file</p><pre><code>package inc

func inc(n int) int {
	return n + 1
}

</code></pre><p>compiled it with <code>go tool compile -S -N inc.go</code>, then got its assembly by calling <code>go tool objdump -S inc.o</code>.</p><pre><code>func inc(n int) int {
  0x22b                 48c744241000000000      MOVQ $0x0, 0x10(SP)
        return n + 1
  0x234                 488b442408              MOVQ 0x8(SP), AX
  0x239                 48ffc0                  INCQ AX
  0x23c                 4889442410              MOVQ AX, 0x10(SP)
  0x241                 c3                      RET
</code></pre><p>With this, we can build represent our function in bytes on our code</p><pre><code>code := []byte{
        0x48, 0xc7, 0x44, 0x24, 0x10, 0x00, 0x00, 0x00, 0x00,
		0x48, 0x8b, 0x44, 0x24, 0x08,
		0x48, 0xff, 0xc0,
		0x48, 0x89, 0x44, 0x24, 0x10,
		0xc3,
}
</code></pre><p>We allocate our memory with <code>mmap</code>.</p><pre><code>memory, err := mmap.MapRegion(nil, len(code), mmap.EXEC|mmap.RDWR, mmap.ANON, 0)
if err != nil {
    panic(err)
}
</code></pre><p>In this call, we're using a more complete function called <code>MapRegion</code> that lets you specify how much memory you are allocating (<code>Map</code> allocates the size of the underlying file) and the offset of the file.</p><p>In the beginning, we said that the main purpose of <code>mmap</code> was to create a mapping between a file and memory. But in this call we are not indicating any file. <code>mmap</code> can be used just a regular memory allocater by setting <code>nil</code> to the <code>*os.File</code> argument and <code>mmap.ANON</code> to the <code>flags</code> argument. We will talk about more <code>mmap.ANON</code>. Since we are not mapping any file, the offset is <code>0</code>.</p><p>So we have memory allocated with the same size of our code <code>len(code)</code>. Since we set the flag <code>mmap.RDWR</code>, we can copy our <code>code</code> to <code>memory</code>.</p><pre><code>copy(memory, code)
</code></pre><p>We have the code of our <code>inc</code> function in memory. In order to execute it, we have to cast that memory address to a function with a signature that matches the signature of our compiled <code>inc</code>.</p><pre><code>memory_ptr := &amp;memory
ptr := unsafe.Pointer(&amp;memory_ptr)
inc := *(*func(int) int)(ptr)
</code></pre><p>When we call <code>inc</code>, we are executing the code we put in memory. That only works because of the flag <code>mmap.EXEC</code>. If that flag was not set, a <code>segmentation violation</code> would occur.</p><pre><code>fmt.Println(inc(10)) // Prints 11
</code></pre><p>I don't know if this is a real use case. I just wanted to see what it meant to execute code that you put in memory. And there are probably other ways of achieving the same with regular memory allocation and calls to <a href="https://man7.org/linux/man-pages/man2/mprotect.2.html">mprotect</a>.</p><p>One question that may come up is: but the code is already in the <code>code</code> variable, can't we just execute it? No, because the memory static allocated to <code>code</code> is not executable. Can we make it executable? I've tried to use <a href="https://man7.org/linux/man-pages/man2/mprotect.2.html">mprotect</a> on it but still got <code>segmentation violation</code>.</p><p>Here is the full working <a href="https://gist.github.com/brunoac/b9ff4ad46c27926e5e4f078133d0de79">gist</a>.</p><h4 id="the-flags-argument">The <code>flags</code> argument</h4><p>We can have many processes mapping the same memory region. This argument lets us decide about the visibility of the updates happening in the mapping. There are many flags, and you can check them out at <a href="https://man7.org/linux/man-pages/man2/mmap.2.html">mmap</a>. The important ones are <code>unix.MAP_SHARED</code>, <code>unix.MAP_PRIVATE</code> and <code>unix.MAP_ANON</code>.</p><p><code>MAP_SHARED</code> means that changes to the mapping are visible to all processes and will also occur at the underlying mapped file, although we cannot control when.</p><p><code>MAP_PRIVATE</code> means the changes are private and other processes will not see them. And also, they are not carried through to the underlying file.</p><p><code>MAP_ANON</code> means that there is not going to be a mapped file. It is useful for sub-processes communication with shared memory.</p><p>I've got confused about the <code>mmap-go</code> library implementation. It only provides the <code>mmap.ANON</code> flag, that we used in the above example. If you want your mapping to be private, you can set the <code>mmap.COPY</code> flag to the <code>prot</code> argument. Anyways, you can always use the flags provided by the <code>unix</code> package implementation.</p><h4 id="locking-and-flushing">Locking and flushing</h4><p>Two other nice methods, <code>Lock</code> and <code>Flush</code>, are provided by the API of <code>mmap-go</code>. The <code>Lock</code> method calls the <a href="https://man7.org/linux/man-pages/man2/mlock.2.html">mlock</a> system call that prevents the mapping to be paged out to disk. And the <code>Flush</code> method calls the <a href="https://man7.org/linux/man-pages/man2/msync.2.html">msync</a> system call that forces the data in memory to be written to disk. This is a good way to trying to have more control over how and when data is flushed to disk.</p><h3 id="wrapping-up">Wrapping up</h3><p>I felt kind of stupid of knowing about <code>mmap</code> after so long. I don't remember it being brought in my college class. For some reason, I felt amazed by it and its capabilities and decided to dig deeper. I like databases and I'm aiming to get a better grasp of them. This means that <code>mmap</code> cannot go unnoticed from my learning. For future posts, I'll try to bring about the benefits and drawbacks of using <code>mmap</code>, which projects use it, and what kind of problems it is suited for.</p><p>Even though the <code>mmap</code> can be used to solve that database problem we stated in the beginning, and many modern databases use it, <a href="https://twitter.com/andy_pavlo">Andy Pavlo</a> advocates against it and have three lecture on how to databases, that don't use <code>mmap</code>, manage data.</p><p>If you like this kind of content, follow me on <a href="https://twitter.com/brunocalza">twitter</a>. You may find more related stuff there.</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://brunocalza.me/2021/01/10/discovering-and-exploring-mmap-using-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25720731</guid>
            <pubDate>Sun, 10 Jan 2021 22:21:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Build a wall of testimonials with videos/tweets/text. Here is mine]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25720322">thread link</a>) | @damechen
<br/>
January 10, 2021 | https://testimonial.to/testimonial/all | <a href="https://web.archive.org/web/*/https://testimonial.to/testimonial/all">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://testimonial.to/testimonial/all</link>
            <guid isPermaLink="false">hacker-news-small-sites-25720322</guid>
            <pubDate>Sun, 10 Jan 2021 21:47:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Quick Overview of Julia language [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 143 | Comments 54 (<a href="https://news.ycombinator.com/item?id=25719454">thread link</a>) | @gurjeet
<br/>
January 10, 2021 | http://algorithmsbook.com/files/appendix-g.pdf | <a href="https://web.archive.org/web/*/http://algorithmsbook.com/files/appendix-g.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://algorithmsbook.com/files/appendix-g.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25719454</guid>
            <pubDate>Sun, 10 Jan 2021 20:38:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cooking for Founders]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 68 (<a href="https://news.ycombinator.com/item?id=25719188">thread link</a>) | @tylertringas
<br/>
January 10, 2021 | https://tylertringas.com/cooking-for-founders/ | <a href="https://web.archive.org/web/*/https://tylertringas.com/cooking-for-founders/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
									<p>With COVID-19 forcing many of us indoors and cooking more (yes, this post took a little longer to go live than I planned), there’s never been a better time to really learn how to cook. I grew up not learning much about how to cook and taught myself as an adult. Over the last 5-7 years I went from someone who could do the absolute bare minimum (boil pasta, cook chicken breast, etc) to genuinely quite a decent cook. I can easily whip up dinner for 4-6 friends without stressing, cook healthy dinners at home most nights of the week, run a barbecue for 12 people, and have a small quiver of fancy dishes to impress friends, family, and my wife from time to time. This post is mostly about what works for me, but I’m calling it Cooking For Founders because I think it will resonate with a lot of entrepreneurs who think like me.</p>
<p>The goal of this post is not to teach you how to cook but to provide fairly comprehensive, but also minimum viable, roadmap for going from a cooking noob to solid home chef.</p>
<h2>Why you should cook</h2>
<p>Until I was about 25 or so I really didn’t cook much. I lived in places like NYC and London where restaurants were always open and ubiquitous and especially in these cities, it’s a perfectly reasonable position to just not bother learning to cook well. But I want to make the case that even if you have world class restaurants and food delivery services on demand, you should learn to cook.</p>
<p><strong>Social: </strong>Home cooked meals are an awesome offer that people are very likely to take you up on and really appreciate. Cooking well is sexy and makes for an awesome date night. Dinner parties are fantastic well to meet new people and create a vibrant personal and professional network. Taking charge of a meal is a great way to bring your family together or impress your in-laws.</p>
<p><strong>Physical Health: </strong>Even if you aren’t bothering with any particular diet (low carb, paleo, etc), cooking at home is almost always going to be more nutritious than food from restaurants. Getting actually healthy food from restaurants/delivery is almost always expensive. Cooking at home is an affordable way to get great nutrition.</p>
<p><strong>Mental Health:&nbsp;</strong>This may be more specific to me, but I find cooking to be fantastic for my mental health. In my house I’m the one cooking about 90% of the time and I’m not into the mega meal prep strategies where you cook food for the whole week. So, most days, I’m cooking something fresh for dinner. The need to start cooking prep in time for a reasonable dinner puts a natural stopping point in my work day and then I get to switch to a very focused mono-tasking activity. This routine is, for me, a kind of meditation that separates the work day and let’s my brain process the events of the day.</p>
<h2>Meta-learning Tips for Learning to Cook</h2>
<p>Learning to cook is not exactly easy. There is an infinite amount of recipes, techniques, resources, diets, and on and on to consume. It can be overwhelming. Learning to cook is almost always laden with failures along the way. You’ll screw up some recipes, ruin some dishes, and get halfway through a complex recipe before realizing you’re missing some essential ingredient. Here are some lessons I’ve learned on how to learn.</p>
<p><strong>Find your YouTube &amp; TikTok muses</strong></p>
<p>There is an infinite amount of cooking content on the internet, but when you find a particular chef or channel that really speaks your language, subscribe and binge their entire backlog. Lots of channels out there will skip essential explanations, use overly exotic ingredients, or complex unnecessary techniques so when you find one that consistently speaks to you, lock it in. Some ones I like:</p>
<ul>
<li><a href="https://www.youtube.com/user/helenrennie" data-lasso-id="385">Helen Rennie (YouTube)</a></li>
<li><a href="https://www.youtube.com/user/foodwishes" data-lasso-id="386">Food Wishes (YouTube)</a></li>
<li><a href="https://www.youtube.com/user/SeriousEats" data-lasso-id="387">Serious Eats (YouTube)</a></li>
<li><a href="https://www.tiktok.com/@thatdudecancook?lang=en" data-lasso-id="388">@thatdudecancook (TikTok)</a></li>
<li><a href="https://www.tiktok.com/@sad_papi?lang=en" data-lasso-id="389">@sad_papi (TikTok)</a></li>
</ul>
<p><strong>Have a backup plan</strong></p>
<p>Learning to cook and feeding yourself can be two different things, especially when you are first starting out and failure rates are high. If you are going to try a new recipe for the first time on a busy week night that’s supposed to be your dinner that night (1) go for it! (2) have a frozen pizza or some other quick and easy back up plan ready in case you end up ruining the dish. It’s a really negative feedback loop to mess up a recipe and having to end up eating cereal for dinner, so have a backup plan.</p>
<p><strong>Read/watch the recipe several times well before cooking</strong></p>
<p>Read or watch your recipes <em>carefully,&nbsp;</em>several times, in preparation for trying a new recipe. It’s easy to miss, especially at first, that the recipe actually requires marinating over night, or needs buttermilk or some other ingredient you don’t typically have on hand. Don’t just plop open the recipe book at 7p and start with Step #1.</p>
<p><strong>Stick to a few core cookbooks</strong></p>
<p>Again, it’s easy to get overwhelmed by the millions of cookbooks out there. Like YouTube channels, I recommend finding a few comprehensive cookbooks that work for you and sticking to them for years until you get very confident with a wide variety of techniques. With cookbooks, Kindle will work but having the physical copy can also be really helpful (or honestly I usually get both). Here are some that I recommend:</p>
<ul>
<li><a href="https://www.amazon.com/Cook-Everything_Completely-Revised-Twentieth-Anniversary/dp/1328545431?tag=tyletrin-20" data-lasso-id="390" rel="nofollow noopener" target="_blank" data-lasso-name="How to Cook Everything">How To Cook Everything, Mark Bittman</a></li>
<li><a href="https://www.amazon.com/Cooking-Geeks-Science-Great-Cooks/dp/1491928050?tag=tyletrin-20" data-lasso-id="391" rel="nofollow noopener" target="_blank" data-lasso-name="Cooking for Geeks: Real Science, Great Cooks, and Good Food">Cooking For Geeks, Jeff Potter</a></li>
<li><a href="https://www.amazon.com/Salt-Fat-Acid-Heat-Mastering/dp/1476753830?tag=tyletrin-20" data-lasso-id="392">Salt, Fat, Acid, Heat, Samin Nosrat</a></li>
<li><a href="https://www.amazon.com/4-Hour-Chef-Cooking-Learning-Anything/dp/1328519163?tag=tyletrin-20" data-lasso-id="393">The Four Hour Chef, Tim Ferriss</a></li>
</ul>
<h2>Essential Concepts</h2>
<p>The books and channels above all have great introductions to all of these concepts so I’m not going to try to actually cover them here, but I think it’s useful have a few simple concepts to check off as you read/watch through the first few.</p>
<p><strong>What heat does (chemistry)</strong></p>
<p>Make sure you pay attention to the sections on the basic chemistry of heat. The vast majority of cooking is just different ways applying heat to food and it’s critical to understand what heat is doing to different kinds of foods. For the most part heat is either (1) denaturing proteins or (2) producing a Maillard Reaction. Denaturing proteins is the slow gradual cooking process that turns eggs from runny to scrambled or steak from rare to well done. Different foods have different kinds of proteins which denature at different temperatures and in different ways. The Maillard Reaction is browning (mostly on on meats and vegetables) and happens at very high heat and low moisture environments. Read up on these carefully. Cooking for Geeks covers these the best in my opinion.</p>
<p><strong>Different kinds of heat transfer (physics)</strong></p>
<p>Similarly to understanding what heat does, it’s really important to have a basic grasp of the various methods of applying heat to food. Baking, broiling, roasting, sautéing, braising, searing, sous vide, boiling, and so on, are all just different methods for applying heat. Some, like baking, use convection where the air is heated up around the food, and others, like searing in a pan, use conduction where the heat is transferred directly surface to surface. A cast iron pan takes a very long time to heat up and stays hot for a long time, whereas the air in your oven can dissipate its heat quickly. Understanding these basic concepts will give you the architecture for understanding for why you should keep the oven door closed as much as possible, dry your meat before searing, and pre-heat your heavy pans for longer than your light ones.</p>
<p><strong>Keep it simple</strong></p>
<p>When you are first learning to cook I recommend avoiding complex recipes in favor of simple two or three-part meals where each component is cooked individually. The vast majority of our home-cooked meals involve cooking (a) a protein like fish or meat (b) a vegetable cooked simply, like roasted in olive oil and (c) a starch like rice, potatoes, simple pasta. This let’s you build a healthy meal with simple individual components, master the same techniques with repeat practice, and minimize the risk of blowing up the whole dish.</p>
<p><strong>Make it taste good</strong></p>
<p>This may seem obvious, but it’s important that the food you cook actually taste good. Home-cooked food is almost always healthier than restaurant food, so don’t try to learn to cook and cook the healthiest possible version of each dish. Most veggies taste better roasted in a generous amount of olive oil than they do steamed, so roast them! Baste your chicken in butter. Salt your food generously. Learning to cook by producing dishes that just aren’t that tasty is a very bad feedback loop, so do what you need to to make it taste good.</p>
<p><strong>Don’t cook everything evenly</strong></p>
<p>This is a little more specific but I feel like it needs to be specifically counter-programmed. For some dumb reason a lot people (including myself 10 years ago) got the notion that food needs to be cooked&nbsp;<em>evenly</em>. That it’s really important to constantly turn and shake and rotate your food so that it’s cooked the same all the around and through. This is a great way to make gross food. Stop touching and turning your food. Most dishes are better with a substantial amount of difference in how cooked different sides of the food are: steak with a crunchy sear and medium rare inside, roasted potatoes with a waxy crust and fluffy inside, carrots or asparagus charred on side are all much tastier and mostly produced by having uneven cooking.</p>
<p><strong>Baking is really hard</strong></p>
<p>Really. Baking is much harder and less forgiving than any other kind of cooking. If you’re just starting to get into cooking, don’t start with baking.</p>
<h2>Essential Gear</h2>
<p>Okay, obviously you can spend and absolute fortune and fill a kitchen with mountains of cooking gear. That’s part of the fun of getting into cooking, let’s be honest. But if all you’ve got is a crappy 10-piece Wal-mart cooking set you got as a wedding gift or a hodge podge you inherited from your roommates, and you need to build your kitchen from scratch, this is the minimum kit I think you need. <em>(Disclosure: most of these are Amazon affiliates links. Don’t click them if that’s a thing that will make you mad).</em></p>
<p><strong>Pots and Pans</strong></p>
<p>The essential workhorses of cooking. Different kinds of pots and pans provide really different value for money, so I’ll specifically recommend below which ones I think it makes sense to invest in something …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tylertringas.com/cooking-for-founders/">https://tylertringas.com/cooking-for-founders/</a></em></p>]]>
            </description>
            <link>https://tylertringas.com/cooking-for-founders/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25719188</guid>
            <pubDate>Sun, 10 Jan 2021 20:17:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Vuejs rejects close to 75% of outside contributions]]>
            </title>
            <description>
<![CDATA[
Score 88 | Comments 85 (<a href="https://news.ycombinator.com/item?id=25719116">thread link</a>) | @gieksosz
<br/>
January 10, 2021 | https://merge-chance.info/target?repo=vuejs/vue | <a href="https://web.archive.org/web/*/https://merge-chance.info/target?repo=vuejs/vue">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    
    
    
    
    <p><a></a>
        <span> of the PRs made by outsiders (not owners/members) get merged.</span>
    </p>
    
    
    <p><a></a>
        <i> * Based on most recent <strong> 272 </strong> outsiders' PRs </i>
    </p>
    <p><a></a>
        <i> * PRs open but not merged within 90 days are also treated as rejected </i>
    </p>
    
    
    <p><a></a>
        <span>
            Copy Markdown below to your README.md to get a Merge-Chance badge
        </span>
    </p>
<div>
    <pre>        <code>
            ![merge-chance-badge](https://img.shields.io/endpoint?url=https%3A%2F%2Fmerge-chance.info%2Fbadge%3Frepo%3Dvuejs/vue)
            [merge-chance-link](https://merge-chance.info/target?repo=vuejs/vue)
        </code>
    </pre>
</div>
<p><a></a>
    <span> Like this one</span>
    <img alt="Custom badge" src="https://img.shields.io/endpoint?url=https%3A%2F%2Fmerge-chance.info%2Fbadge%3Frepo%3Dvuejs/vue">
</p>
<br>

<br>
<hr>




</div>]]>
            </description>
            <link>https://merge-chance.info/target?repo=vuejs/vue</link>
            <guid isPermaLink="false">hacker-news-small-sites-25719116</guid>
            <pubDate>Sun, 10 Jan 2021 20:10:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The M1 MacBook Air is the best computer I've ever owned]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 322 (<a href="https://news.ycombinator.com/item?id=25717727">thread link</a>) | @bouk
<br/>
January 10, 2021 | https://bou.ke/blog/macbouk-air/ | <a href="https://web.archive.org/web/*/https://bou.ke/blog/macbouk-air/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div>
  
  <p><span>Jan 2021</span></p>
  <p>I started a new job recently so I had the opportunity to get one of the new M1 MacBooks, I decided to go with the Air. The reviews have been very positive and I’m here to tell you: it is indeed an amazing device. The performance feels a lot better than my MacBook Pro 16”, which is only a year old and about 3x the price.</p>

<p>When I got the Mac I set out with the goal of avoiding Intel builds of software as much as possible and using native whenever possible unless it’s absolutely impossible.</p>

<h2 id="nix">Nix</h2>

<p>I have my <a href="https://github.com/bouk/b" target="_blank">whole system configuration</a> stored in <a href="https://bou.ke/blog/nix/">Nix</a>, which was the thing that I least expected to work and arm64 support is still a <a href="https://github.com/NixOS/nixpkgs/issues/95903" target="_blank">work in progress</a>. I could install the <code>x86_64</code> build of Nix and run it under Rosetta but wanted to avoid that, so I went back to my old pal;</p>

<h2 id="homebrew">Homebrew</h2>

<p>This was one of the first things I installed and got working, when I did it I had to install it into <code>/opt/homebrew</code> manually and install everything with the <code>--source</code> flag but… everything mostly worked? Lots of props to the Homebrew team for getting everything running so quickly, with some amazing <a href="https://github.com/Homebrew/brew/issues/7857" target="_blank">open-source project management</a> the community worked together very quickly to support most of the software that Homebrew offers. There’s still some software that doesn’t work—notably neovim. But I’m sure that will be fixed soon.</p>

<p>The installer now installs into <code>/opt/homebrew</code> by default and there’s prebuilt bottles of most packages, so the Homebrew experience is great.</p>

<h2 id="go">Go</h2>

<p>A lot of my work involves Go, and I depend on a lot of tools written in Go. I was happy to see that the <a href="https://blog.golang.org/ports" target="_blank">Go team was on top of it</a> and released the 1.16 beta quite quickly, which is what is installed right now when you do <code>brew install go</code>. I’ve had no issues with it and am enjoying some of the new features like <a href="https://github.com/golang/go/issues/41191" target="_blank">file embedding</a>. GoLand was also <a href="https://blog.jetbrains.com/go/2020/12/30/goland-2020-3-1-is-out/" target="_blank">updated</a> to support M1 pretty quickly.</p>

<h2 id="terraform">Terraform</h2>

<p>Terraform I had the most issues with since using it depends on a bunch of plugins, which are generally only available for x86_64. This won’t change until Go 1.16 has been released. So here I had to resort to building for x86_64, which is easy to do:</p>

<div><div><pre><code>curl -L 'https://github.com/hashicorp/terraform/archive/v0.14.4.tar.gz' | tar -xzf-
cd terraform-0.14.4/
GOARCH=amd64 go build -o ~/bin/terraform
</code></pre></div></div>

<p>And now Terraform will just use plugin built for Intel. I assume that most Terraform plugins will support arm64 very quickly after Go 1.16 is out.</p>

<h2 id="rust-and-universal-binaries">Rust and Universal Binaries</h2>

<p>I use <a href="https://github.com/alacritty/alacritty" target="_blank">Alacritty</a> as my terminal. It supported <code>arm64</code> pretty quickly but the current build for it doesn’t include it, so I <a href="https://github.com/alacritty/alacritty/pull/4683" target="_blank">made a PR</a> that will build a universal binary. Creating a universal binary for Rust is quite easy:</p>

<div><div><pre><code>rustup target add x86_64-apple-darwin aarch64-apple-darwin
cargo build <span>--release</span> <span>--target</span><span>=</span>x86_64-apple-darwin
cargo build <span>--release</span> <span>--target</span><span>=</span>aarch64-apple-darwin
lipo target/<span>{</span>x86_64,aarch64<span>}</span><span>-apple-darwin</span>/release/alacritty <span>-create</span> <span>-output</span> alacritty
</code></pre></div></div>

<p>Running <code>file alacritty</code> will now show you something like:</p>

<div><div><pre><code>alacritty: Mach-O universal binary with 2 architectures: [x86_64:Mach-O 64-bit executable x86_64] [arm64]
alacritty (for architecture x86_64):    Mach-O 64-bit executable x86_64
alacritty (for architecture arm64):     Mach-O 64-bit executable arm64
</code></pre></div></div>

<p>Now you can run it in either <code>x86_64</code> mode with <code>arch -x86_64 alacritty</code> or natively with <code>arch -arm64 alacritty</code> and the OS will automatically select the right binary.</p>

<p>Building a universal binary for a Go application is similarly easy:</p>

<div><div><pre><code>GOARCH=amd64 go build -o app_amd64 main.go
GOARCH=arm64 go build -o app_arm64 main.go
lipo app_{amd64,arm64} -create -output app
</code></pre></div></div>

<h2 id="windows-and-games">Windows and Games</h2>

<p>There’s a couple of <a href="https://en.wikipedia.org/wiki/Age_of_Mythology" target="_blank">games</a> I’ve been playing for a long time that I still need on any computer I get, but they’re 32-bit Windows-only. This was something that was surprisingly easy to get working:</p>

<ol>
  <li>Install the <a href="https://www.parallels.com/blogs/parallels-desktop-apple-silicon-mac/" target="_blank">Parallels Technical Preview</a></li>
  <li>Sign up for Windows Insider and download the <a href="https://www.microsoft.com/en-us/software-download/windowsinsiderpreviewARM64" target="_blank">Windows 10 on ARM Insider Preview</a></li>
  <li>Install it into Parallels</li>
  <li>Done</li>
</ol>

<p>Now you can download Steam and basically install anything and it will probably work. Microsoft really did some amazing magic in getting both 32-bit and 64-bit x86 programs running on <code>arm64</code>.</p>

<p><img src="https://bou.ke/images/windows-solitaire.png" alt="" loading="lazy"></p><h2 id="conclusion">Conclusion</h2>

<p>Somehow Apple has created the best PC in every category at once. It is even the best Windows PC, despite the multiple layers of emulation that are happening. The battery life is incredible, I haven’t experienced any slowdowns, I don’t hear any fans spin up (because there are none). It’s hard not to be excited about this.</p>

<p>If Apple chose to go down this path, they could dominate the server space if they took their magic chips, put it in a <a href="https://en.wikipedia.org/wiki/Rack_unit" target="_blank">rack unit</a> and made it easy to install Linux onto it. Intel is completely screwed unless they come up with something better, fast.</p>

  <hr>
  <p>You should follow me on <a href="https://twitter.com/BvdBijl">Twitter</a>!</p>
</div>
</div></div>]]>
            </description>
            <link>https://bou.ke/blog/macbouk-air/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25717727</guid>
            <pubDate>Sun, 10 Jan 2021 18:24:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Research-Based Methods for Learning Japanese]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25717393">thread link</a>) | @sova
<br/>
January 10, 2021 | https://japanesecomplete.com/articles/?p=1282 | <a href="https://web.archive.org/web/*/https://japanesecomplete.com/articles/?p=1282">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h3><strong>Conclusions</strong> from the Academic Research</h3>



<p>We looked at research papers from the last 30 years to evaluate our set of teaching strategies undertaken in our Japanese language learning application called <a href="https://japanesecomplete.com/">Japanese Complete</a>.  We found that the scholarly and academic studies referred to confirm:</p>



<ol><li><strong>Kanji [logographs of mainland Asian origin] are categorized as the main impediment in acquisition of the Japanese language</strong> and anything to ease their acquisition from rote-memorization will help learners greatly.</li><li><strong>Computer aided learning of Japanese is superior to textbook-based</strong> learning <strong>when</strong> <strong>paired with timely and useful feedback</strong> for the learner, with politeness language, grammar, kanji, and more. [4, 5, 7, 12, 17]</li><li><strong>Kanji are processed by different parts of the brain compared to English letters and Hiragana mora,</strong> suggesting that placing special emphasis on learning Kanji as glyphs or <em>graphics with associated meanings <strong>first</strong></em> establishes a firm foundation upon which to then learn readings and pronunciations. [2, 6]</li><li>Kanji have <em>logographic</em> as well as <em>phonographic</em> value; <strong>cultural, etymological, and mnemonic strategies are not only more effective than rote-memorization strategies for learning, they also remove a lot of anxiety and perceived inscrutability of kanji, making kanji learning fun and intriguing</strong> instead of a chore.  The main techniques presented in these papers include component-analysis of kanji [what we call subkanji learning], and pairing kanji with graphical and mnemonic aides such as stories or imaginal scenes. [6, 7, 10, 11, 14, 15]</li><li>It is very likely that native speakers of languages featuring kanji create <em>some sort</em> of meaning-word associated with each kanji, whether able to give voice to it or not (“unconscious knowledge”), suggesting strongly that <strong>by teaching kanji meaning-words first one is creating a very helpful and direct shortcut to their successful assimilation.</strong> [6, 9, 10]</li><li>One paper suggests the use of an “orthographic gradient” where terms are first shown as color-coded Hiragana, and later instances are shown as color-coded kanji using the same coloration, allowing learners to make an implied association of equality.  <strong>This idea of “orthographic gradient” confirms the efficacy of our innovative approach “Kanji in English Context” where we t取ke kanji and pl置ce them in an 英ngl語sh c文nt脈xt [take, place, English, context] to expedite acquisition</strong> and increase familiarity with the plurality of [English] words kanji can represent. [11, 16]</li><li><strong>Acquisition of Japanese grammar and sequence continues to be the most challenging part of learning the language for 1st, 2nd, and 3rd year students,</strong> suggesting that the focus for the first several semesters of learning ought be grammar-focused.  Nouns are acquired at a linear rate no matter the level of grammar competency, and thus it would suggest that the learning of nouns can actually be greatly delayed without any negative impact on comprehension; rather, focus on grammar first would result in greatly improved comprehension when nouns are later added to one’s cogent grammar understanding. </li><li><strong>Very Accurate Japanese Pitch Accent</strong> can be trained and learned swiftly with the right learning materials (showing pitch contours on screen and having learners listen and repeat). [17]</li><li><strong>One’s native language shapes how one acquires second+ languages.</strong> [3, 13]</li></ol>



<figure><img src="http://jpc0.b-cdn.net/img/lake-onami.jpg" alt=""><figcaption>Lake Onami</figcaption></figure>



<h3><br><strong>Scholarly and Academic Works Cited</strong></h3>



<hr>



<p>[1] <em><strong>Phonological processing of Japanese Kanji and Chinese characters in bilingual Japanese : An fMRI study (2017)</strong></em></p>



<p><a href="https://ieeexplore.ieee.org/document/8015970" target="_blank" rel="noreferrer noopener">https://ieeexplore.ieee.org/document/8015970</a></p>



<p>“The result showed that our bilingual Japanese subjects have large overlaps in the neural substrates for phonological processing of both native and second language.  Our finding supports the idea that the neural systems of second language reading are shaped by native language.” </p>



<hr>



<p>[2] <em><strong>Japanese and English sentence reading comprehension and writing systems: An fMRI study of first and second language effects on brain activation. (2009)</strong></em></p>



<p><a href="https://pubmed.ncbi.nlm.nih.gov/19946611/" target="_blank" rel="noreferrer noopener">https://pubmed.ncbi.nlm.nih.gov/19946611/</a></p>



<p>Parts of the brain that are engaged when native Japanese readers process English, Hiragana, and Kanji:</p>



<figure><img src="https://www.ncbi.nlm.nih.gov/pmc/articles/instance/2782536/bin/nihms120575f4.jpg" alt=""><figcaption>Activation regions for native Japanese speakers decoding written language.</figcaption></figure>



<p>“Functional magnetic resonance imaging (fMRI) was used to compare brain activation from Japanese readers reading hiragana (syllabic) and kanji (logographic) sentences, and English as a second language (L2). Kanji showed more activation than hiragana in right-hemisphere occipito-temporal lobe areas associated with visuospatial processing; hiragana, in turn, showed more activation than kanji in areas of the brain associated with phonological processing. L1 results underscore the difference in visuospatial and phonological processing demands between the systems. Reading in English as compared to either of the Japanese systems showed more activation in inferior frontal gyrus, medial frontal gyrus, and angular gyrus. The additional activation in English in these areas may have been associated with an increased cognitive demand for phonological processing and verbal working memory.”</p>



<hr>



<p>[3] <em><strong>Comparative Spatial Semantics and Language Acquisition:Evidence from Danish, English, and Japanese (1994)</strong></em></p>



<p><a href="https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf" target="_blank" rel="noreferrer noopener">https://www.researchgate.net/profile/Chris-Sinha/publication/249234936_Comparative_Spatial_Semantics_and_Language_Acquisition_Evidence_from_Danish_English_and_Japanese/links/57da79a508ae72d72ea2b8b8/Comparative-Spatial-Semantics-and-Language-Acquisition-Evidence-from-Danish-English-and-Japanese.pdf</a></p>



<p>“Perhaps the most important finding is that in all three languages that we have analysed acquisition appears to take place in two phases, during the first of which the child gradually acquires six to eight simple forms corresponding to ‘basic’ spatial meanings encoded in the target language.”</p>



<p>“In the second phase of acquisition, the child’s productive repertoire and the frequency of its use increase in a way that is reminiscent of (though perhaps less dramatic than) the ‘vocabulary explosion’ in nominal usage. The extension of the repertoire takes different courses, depending on the structure of the target language. In all languages it can be expected that the repertoire within the form class which is dominant in expressing spatial relational meaning will continue to expand, and that this will remain the most frequently employed vehicle for the child’s expression of spatial relational meaning throughout and perhaps beyond the third year of life.”</p>



<p>“In languages, such as Japanese, in which spatial relational meaning is overtly distributed over different form classes, the second phase will involve both an increase in the range of types controlled in the dominant form class (in this case,verbs), and the extension of the acquisition process to the other form classes (in this case, particles and nouns). Both the slow pace of acquisition in the non-dominant forms classes, and the fact that the meanings initially expressed using nouns are cognate with those already expressed using verbs, suggest that, in Japanese too, the learning process continues to be governed in the second phase by a conservative strategy. It can perhaps be seen as follows: the child employs the already acquired meanings as clues for the establishment of new centres in new form classes for the repetition with respect to these new form classes of the radial strategy already successfully employed with respect to the dominant form class.”</p>



<hr>



<p>[4] <strong><em>Supporting the acquisition of Japanese polite expressions in context-aware ubiquitous learning</em> <em>(2010)</em></strong></p>



<p><a href="http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf">http://www.academia.edu/download/50315553/ijmlo.2010.03263720161114-19604-1c5exmp.pdf</a></p>



<p>“To support the foreigners learning JPE [Japanese Politeness Expressions], a PDA-based context-aware language learning support environment was proposed. This environment supports the learners to learn JPE according to the different situations in the real world. There are two version of the prototype system for this environment. In this paper, design, implementation and evaluation of JAPELAS2 are presented. From the experiment, we found the system provides the correct polite-expression based on hyponymy, social distance and situation through the identification of the target user and the location. The experiment showed that the system was quite useful and using this system made understanding the appropriate level of politeness easy by changing roles and situations.”</p>



<figure><img loading="lazy" width="645" height="641" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.13.32-PM.png" alt=""></figure>



<hr>



<p>[5] <em><strong>COMPUTER VS. WORKBOOK INSTRUCTION IN SECOND LANGUAGE ACQUISITION (1996)</strong></em></p>



<p><a href="https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398">https://journals.equinoxpub.com/CALICO/article/viewFile/23393/19398</a></p>



<p>“The results of the study show that given the same grammar notes and exercises, <strong>ongoing intelligent computer feedback is more effective than simple workbook answer sheets for developing learners’ grammatical skill in producing Japanese particles and sentences.</strong> A significant difference between Nihongo-CALI and the workbook instruction was observed in the production tests but not in the comprehension tests. This is consistent with Flynn’s hypothesis that grammatical competence is less critical in comprehension than in production. As suggested by Pederson and Dunkel, the present study also confirms that the use of a medium (i.e., computer) alone does not bring better effects; rather the quality of the messages produced by the medium affects the result. This is based on the fact that the intelligent version of Nihongo-CALI is significantly more effective than the workbook instruction”</p>



<div><figure><img loading="lazy" width="411" height="333" src="https://japanesecomplete.com/articles/wp-content/uploads/2021/01/Screen-Shot-2021-01-06-at-4.19.44-PM.png" alt=""></figure></div>



<hr>



<p>[6] <em><strong>L2 learners’ attitudes toward, and use of, mnemonic strategies when learning Japanese Kanji (2013)</strong></em></p>



<p><a href="https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji">https://www.researchgate.net/publication/259551232_L2_learners%27_attitudes_toward_and_use_of_mnemonic_strategies_when_learning_Japanese_Kanji</a></p>



<p>“This study investigated kanji learning (the memorization of Japanese written characters) of university students of Japanese, in order to evaluate students’ use of mnemonic strategies. The study applied …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://japanesecomplete.com/articles/?p=1282">https://japanesecomplete.com/articles/?p=1282</a></em></p>]]>
            </description>
            <link>https://japanesecomplete.com/articles/?p=1282</link>
            <guid isPermaLink="false">hacker-news-small-sites-25717393</guid>
            <pubDate>Sun, 10 Jan 2021 18:01:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reverse Cargo Cult (2017)]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 111 (<a href="https://news.ycombinator.com/item?id=25717075">thread link</a>) | @dredmorbius
<br/>
January 10, 2021 | https://hanshowe.org/2017/02/04/trump-and-the-reverse-cargo-cult/ | <a href="https://web.archive.org/web/*/https://hanshowe.org/2017/02/04/trump-and-the-reverse-cargo-cult/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

					<p>Trump administration lies constantly but doesn’t even attempt to make it seem like they aren’t lying.</p>
<p>After the collapse of the Soviet Union, this kind of cynicism was referred to as the “reverse cargo cult” effect.</p>
<p>In a regular cargo cult, you have people who see an airstrip, and the cargo drops, so they build one out of straw, hoping for the same outcome. They don’t know the difference between a straw airstrip and a real one, they just want the cargo.</p>
<p>In a reverse cargo cult, you have people who see an airstrip, and the cargo drops, so they build one out of straw. But there’s a twist:</p>
<p>When they build the straw airstrip, it <em>isn’t</em> because they are hoping for the same outcome. They know the difference, and know that because their airstrip is made of straw, it certainly won’t yield any cargo, but it serves another purpose. They don’t lie to the rubes and tell them that an airstrip made of straw will bring them cargo. That’s an easy lie to dismantle. Instead, what they do is make it clear that the airstrip is made of straw, and doesn’t work, but then tell you that the other guy’s airstrip doesn’t work either. They tell you that <strong>no airstrips yield cargo</strong>. The whole <em>idea of cargo</em> is a lie, and those fools, with their fancy airstrip made out of wood, concrete, and metal is just as wasteful and silly as one made of straw.</p>
<p>1980s Soviets knew that their government was lying to them about the strength and power of their society, the Communist Party couldn’t hide all of the dysfunctions people saw on a daily basis. This didn’t stop the Soviet leadership from lying. Instead, they just accused the West of being equally deceptive. <em>“Sure, things might be bad here, but they are just as bad in America, and in America people are actually foolish enough to believe in the lie! Not like you, clever people. You get it. You know it is a lie.”</em></p>
<p>Trump’s supporters don’t care about being lied to. You can point out the lies until you’re blue in the face, but it makes no difference to them. Why? Because it is just a game to them. The media lies, bloggers lie, politicians lie, it’s just all a bunch of lies. Facts don’t matter because those are lies also. Those trolls on Twitter, 4Chan, T_D, etc. are just having a good laugh. They are congratulating each other for being so smart. We are fools for still believing in anything. There is no cargo, and probably never was.</p>
<p>Source: <a href="https://np.reddit.com/r/politics/comments/5rru7g/kellyanne_conway_made_up_a_fake_terrorist_attack/dd9vxo2/">https://np.reddit.com/r/politics/comments/5rru7g/kellyanne_conway_made_up_a_fake_terrorist_attack/dd9vxo2/</a></p>
					
					<p>
						Filed under: <a href="https://hanshowe.org/category/1100733/" rel="category tag">#!!#</a> |					</p>

				</div></div>]]>
            </description>
            <link>https://hanshowe.org/2017/02/04/trump-and-the-reverse-cargo-cult/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25717075</guid>
            <pubDate>Sun, 10 Jan 2021 17:36:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Apple M1, ARM/x86 Linux Virtualization, and Boinc]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25717019">thread link</a>) | @jseliger
<br/>
January 10, 2021 | https://www.sevarg.net/2021/01/09/arm-mac-mini-and-boinc/ | <a href="https://web.archive.org/web/*/https://www.sevarg.net/2021/01/09/arm-mac-mini-and-boinc/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p>About <a href="https://www.sevarg.net/2020/06/21/apple-and-arm-transition/">six months ago</a>, I speculated a bit on what Apple might do with their upcoming (rumored at the time) ARM transition.  Apple did it, has shipped hardware, and I’ve had a chance to play with for a while now.  I’ve also, as is usual for me, gone down some weird paths - like ARM Linux virtualization, x86 Linux emulation, and BOINC in an ARM VM!</p>

<p>The fastest Linux machine I’ve <em>ever</em> used is a hardware virtualized install on the Apple M1 - and this post covers how to do it!</p>

<picture><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-400-1c323509d.webp 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-800-1c323509d.webp 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-1600-1c323509d.webp 1600w" type="image/webp"><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-400-1c323509d.png 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-800-1c323509d.png 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-1600-1c323509d.png 1600w" type="image/png"><img src="https://www.sevarg.net/generated/images/2021-qemu-m1/mac_m1_virtualization-1600-1c323509d.png" width="4096" height="2304"></picture>



<h2 id="the-short-2020-m1-mac-mini-review">The Short 2020 M1 Mac Mini Review</h2>

<p>While I don’t generally <a href="https://www.sevarg.net/2020/02/01/finances-technology-repair-and-enough/">make a habit</a> of buying brand new, just-released hardware, I made an exception for the M1 and bought a M1 Mac Mini to replace an Intel Mac Mini (which had replaced a perfectly function 2014 iMac I’d still be running if the monitor hadn’t failed - the display assembly, used, cost $600 in not-cracked condition).  The Intel one wasn’t doing most of what I wanted (to say the GPU sucked would be an understatement), I’ve been lusting after a mid-range ARM desktop for a long while, and the fact that things would be broken on it doesn’t bother me - it’s not a production machine for me, so I’m happy to run on the bleeding, slightly broken edge.  It’s a common theme with ARM desktop use, especially 64-bit, so this is no different.</p>

<p>How is it?  It’s <em>fast.</em>  It’s <em>really, really fast.</em>  Not just for the power - that’s amazing too, but simple, flat out, using it for stuff.  It’s amazing.  I figured it would be really good, but it’s beyond good, crossing into the “Yeah, I’ll call this magical…” realm.  The fan almost never comes off idle, power consumption (I work in a solar office, remember?) is a rounding error, and it just does what I ask of it in a real hurry.</p>

<p>I mean, it’ll even play Kerbal Space Program with pretty darn good graphics!  That’s an x86 game with no native port yet, and it’s not exactly a CPU sipper!</p>

<picture><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-400-b017715f9.webp 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-800-b017715f9.webp 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-863-b017715f9.webp 863w" type="image/webp"><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-400-b017715f9.png 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-800-b017715f9.png 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-863-b017715f9.png 863w" type="image/png"><img src="https://www.sevarg.net/generated/images/2021-qemu-m1/ksp_m1_settings-863-b017715f9.png" width="863" height="757"></picture>



<p>This does mean that, once again, Jeb ends up stuck places he’d probably rather not be stuck.  Lock your staging, or a thumb twitch might just leave you 100m above Mun with no descent (or ascent!) stage left attached…</p>

<picture><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-400-976018ace.webp 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-800-976018ace.webp 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-1299-976018ace.webp 1299w" type="image/webp"><source srcset="https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-400-976018ace.png 400w, https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-800-976018ace.png 800w, https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-1299-976018ace.png 1299w" type="image/png"><img src="https://www.sevarg.net/generated/images/2021-qemu-m1/sad_jeb-1299-976018ace.png" width="1299" height="756"></picture>



<p>Should you buy one of Apple’s M1 devices?  Probably not - wait 6 months for the next round of hardware, and buy then.  Most of the software ecosystem quirks will be worked out by then, and just about everything will work.  For now, there are enough weird little broken corner cases that I’d suggest holding off unless you’re OK with that and want legitimately insane battery life and performance.</p>

<p>But an awful lot does work, and it works really well.</p>

<p>Yes, yes, I <em>know,</em> your overclocked AMD ThreadBlaster 7970XP, with enough threads, will build the kernel faster on 400W.  All this performance is on about 30W, and this is their first pass at it.  Just wait…</p>

<h2 id="rosetta-2-they-did-what">Rosetta 2: They Did WHAT?</h2>

<p>We also have an answer now to the insane x86 translation performance (around 80% of native performance, give or take - and, yes, this does mean that the M1 runs x86 binaries faster than an awful lot of x86 hardware out there).  I’ve messed around with running x86 binaries in emulation on ARM before, and got about 10% of native performance on a Rpi4.  Painful.  Apple’s Rosetta 2 gets a lot of benefit from being a pre-compiling translator (for most cases - it still has to interpret JIT type workloads), but most people figured that would get you to 50% - at best.  The ARM memory model is so radically different from x86 that you end up sprinkling memory barriers everywhere to guarantee cross threaded consistency, and that really hurts performance.</p>

<p>The issue is that on x86, if you write memory addresses in a certain sequence, <em>all other cores</em> will see the writes in the same sequence. If you write some blob of data and then write the “Ready!” flag, by the time other cores see the flag change value, you can be certain that the blob of data has been written.  ARM has no such guarantees without explicit (and slow) memory barrier instructions, and this is why the x86 emulation on ARM Windows was painful - guaranteeing correctness of a translated binary on a weaker memory model is slow.</p>

<p>As it turns out, Apple <em>isn’t</em> doing it purely in software - they have <a href="https://github.com/saagarjha/TSOEnabler">Total Store Ordering</a> support in their hardware!  When the M1 runs a translated x86 binary, the OS just tells the chip, “Hey, use x86 memory ordering for this thread.”  Things built natively for ARM can take advantage of the performance gains of the memory reordering, and things that requires strict ordering get strict ordering.  It’s a very, very clever way to totally bypass the memory ordering issues with translated binaries, and it’s not a thing in any other ARM chip on the planet (I’d say yet, but I really don’t think this will become a popular thing to implement - perks of Apple building their own silicon).</p>

<h2 id="onto-virtual-machines-lets-build-qemu">Onto Virtual Machines: Let’s Build qemu!</h2>

<p>Now, to the core of the post: Building qemu to run hardware virtualized ARM Linux!  I’m starting with <a href="https://gist.github.com/niw/e4313b9c14e968764a52375da41b4278">these excellent instructions</a> as a guide, but I’ve got some extra patches thrown in (because it doesn’t run x86 emulation my M1 with 11.1), and I’m doing a few other things in the process.</p>

<p>You’ll need XCode installed, and we’ll be using <a href="https://brew.sh/">homebrew</a> to install  some of the prerequisites for building qemu.  Plus some patches to the source, and… it’s all good fun, I promise!  What I don’t promise is that this will work perfectly for you, though I’ll try!</p>

<p>Yes, I know Parallels has a tech preview out, and you still can’t change the resolution of a Linux guest.  If you’re fine with 1024x768, it certainly works, but… we can do better with open source!</p>

<h4 id="installing-the-prerequisites-homebrew-and-xcode">Installing the Prerequisites: Homebrew and XCode</h4>

<p>You’ll need the XCode command line tools (gcc and such) to build this, so if you don’t already have those installed, go ahead and install XCode from the App Store.  It’s huge.</p>

<p>I understand you can also install them from the command line, if you don’t want the full install, by running <code>xcode-select --install</code>.  That’s the first thing I do with any Mac, so I had them laying around.  You may have to agree to some license terms as well - it’s been a while since I had a clean install.</p>

<p>If you use the normal Homebrew install path, you’ll get x86 Homebrew, running under Rosetta.  This is fine for most use cases, and it certainly <em>works</em> better than the ARM Homebrew (half the code won’t build under ARM), but it’s no good for ARM native dependencies, and we’re going to be building ARM native qemu.</p>

<p>If you rely on x86 homebrew, well… uh… fix the ARM stuff that doesn’t build?  Or install to a different directory, I suppose.  I have no great advice on parallel Homebrew installs, sorry.</p>

<div><div><pre><code>cd ~
mkdir homebrew &amp;&amp; curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew
sudo mv homebrew /opt/homebrew
echo 'export PATH="/opt/homebrew/bin:$PATH"' &gt;&gt; ~/.zshrc
source ~/.zshrc
brew update
</code></pre></div></div>

<p>This will run some git fetches, some builds, and you should generally have a working brew install.  Like XCode, this may take a while, depending on your internet connection.  My ISPs have been sucking more than usual lately, and I don’t keep a local mirror of Homebrew, so… coffee time.</p>

<p>You should then be able to install the dependencies for qemu:</p>

<div><div><pre><code>brew install ninja pkgconfig glib pixman
</code></pre></div></div>

<h4 id="fetching-patching-and-building-qemu">Fetching, Patching, and Building qemu</h4>

<p>Next step: we’re going to download the qemu source, check out the proper version, apply a couple patches, and build it!</p>

<p>The <a href="https://patchwork.kernel.org/project/qemu-devel/list/?series=400619">first patch series</a> is the core of the updates - it adds <a href="https://developer.apple.com/documentation/hypervisor">Hypervisor.framework</a> support (Apple’s recent “So, you wanna do hardware virtualization without a kernel module…” framework), adds the ability to sign the output binary to allow it to use that, and various other things related to Apple Silicon support.</p>

<p>The <a href="https://patchwork.kernel.org/project/qemu-devel/patch/20210103145055.11074-1-r.bolshakov@yadro.com/">second patch series</a> isn’t actually required to run hardware virtualization, but if you wanted to mess around with the (somewhat awful, but still usable) performance of x86 VMs on the M1, you’ll need this.  Apple Silicon prevents memory pages from being both writable and executable at the same time, and this adds the toggles to handle things properly so the JIT engine can work.</p>

<p>If you <em>don’t</em> apply the second patches, and you try to run x86 system emulation, you’ll get the exceedingly unhelpful error “Could not allocate dynamic translator buffer” when you try to run it.</p>

<p>And, of course, if you’re not interested in x86 emulation, you can skip the <code>x86_64-softmmu</code> and <code>i386-softmmu</code> options in the target-list for configure.</p>

<div><div><pre><code>git clone https://git.qemu.org/git/qemu.git
git checkout master -b wip/hvf
curl 'https://patchwork.kernel.org/series/400619/mbox/'|git am --3way
curl 'https://patchwork.kernel.org/project/qemu-devel/patch/<a href="https://www.sevarg.net/cdn-cgi/l/email-protection" data-cfemail="f5c7c5c7c4c5c4c5c6c4c1c0c5c0c0dbc4c4c5c2c1d8c4d887db979a99869d949e9a83b58c9491879adb969a98">[email&nbsp;protected]</a>/mbox/'|git am --3way
mkdir build
cd build
../configure --target-list=aarch64-softmmu,x86_64-softmmu,i386-softmmu --enable-cocoa
make -j 8
</code></pre></div></div>

<p>Sit back, relax, wait… actually, not very long, this system is blazing fast on all 8 cores, and you should have some qemu binaries!</p>

<h4 id="grab-an-arm-ubuntu-iso-and-an-efi-blob-create-a-disk-image">Grab an ARM Ubuntu ISO and an EFI blob, Create a Disk Image</h4>

<p>There are plenty of ways to install the ARM version of Ubuntu, but there’s a convenient desktop build now at <a href="https://cdimage.ubuntu.com/focal/daily-live/current/">https://cdimage.ubuntu.com/focal/daily-live/current/</a> - grab <code>focal-desktop-arm64.iso</code>.  You do NOT want the ‘amd64’ version - make sure you get ‘arm64’ or it won’t work!</p>

<p>You also need a EFI blob built for ARM.  The instructions I’m working from cover how to build it with your own ARM VM (and include a link to some built ones), but I’ve also uploaded one for you, if you happen to want it: <a href="https://www.sevarg.net/images/2021-qemu-m1/QEMU_EFI.fd">QEMU_EFI.fd</a></p>

<p>While you could just run the live ISO, there’s no fun in that - create a disk image for the install (you’ll be doing this from the qemu/build directory you were just in, and stick the image somewhere fast).  I’ll assume you’ve put the QEMU_EFI.fd file in the same directory.</p>

<div><div><pre><code>./qemu-img create -f qcow2 /path/to/Ubuntu.qcow2 40G
</code></pre></div></div>

<h2 id="the-fun-part-launch-the-vm">The Fun Part: Launch the VM!</h2>

<p>Now, let’s light up a VM from the installer CD!  It’s Linux, so we’re just using <em>all the virtio devices.</em>  Virtio is a way for …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.sevarg.net/2021/01/09/arm-mac-mini-and-boinc/">https://www.sevarg.net/2021/01/09/arm-mac-mini-and-boinc/</a></em></p>]]>
            </description>
            <link>https://www.sevarg.net/2021/01/09/arm-mac-mini-and-boinc/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25717019</guid>
            <pubDate>Sun, 10 Jan 2021 17:30:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We've been running a bootstrapped startup for a year]]>
            </title>
            <description>
<![CDATA[
Score 76 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25717006">thread link</a>) | @artembugara
<br/>
January 10, 2021 | https://newscatcherapi.com/blog/we-ve-been-running-a-bootstrapped-startup-for-1-year-our-top-15-takeaways | <a href="https://web.archive.org/web/*/https://newscatcherapi.com/blog/we-ve-been-running-a-bootstrapped-startup-for-1-year-our-top-15-takeaways">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><div><div><h3>What is the value of this article? </h3><p>We are young, inexperienced, prone to fail: <strong>we’re 2 first time founders</strong>. I always prefer to learn from people who are just a few steps ahead of me. </p><h3>Who is this article for? </h3><p>If you’re a multi-time entrepreneur then you might not find this article interesting. <strong>If you’ve been thinking about starting your own startup then I’d recommend reading as many similar articles as possible.</strong></p><h2>Our Team</h2><p>Artem (author of this article):</p><ul><li><p>First-time founder </p></li><li><p>Technical with no CS degree</p></li><li><p>24 years old</p></li><li><p>~2 years of work experience (data-oriented job)</p></li><li><p>Quit the University after Masters 1 to get a job</p></li><li><p>Full-time since April 2020</p></li><li><p>CEO</p></li></ul><p>Maksym:</p><ul><li><p>First-time founder </p></li><li><p>Technical with no CS degree</p></li><li><p>24 years old</p></li><li><p>~2 years of work experience (data-oriented job)</p></li><li><p>Full-time since December 2020</p></li><li><p>CTO</p></li></ul><h2>Our Product - News API</h2><p>We provide instant access to news article data for hedge funds, market researchers, and PR software. </p><p><strong>In simple words: </strong></p><ol><li><p><strong>we crawl news websites, </strong></p></li><li><p><strong>detect news article URLs, </strong></p></li><li><p><strong>extract all possible information (title, published date, author, content, etc.), </strong></p></li><li><p><strong>index this data</strong></p></li></ol><p>Our main product is <a href="https://newscatcherapi.com/news-api">News API</a> which allows our clients to find structured news articles by any topic, country, language, website, or keyword. </p><p><a href="https://www.notion.so/newscatcherapi/News-API-46632a5cd61548919ff0132b15b0f0fa?p=2eff4d9b6e6b4a87a8e2230424aee4be">Example of News API JSON response</a>.</p><p>We’re B2B Data-as-a-Service.</p><h3>What I and my co-founder could achieve in 12 months</h3><ul><li><p>Monthly Recurring Revenue ~$3,000</p></li><li><p>Both co-founders work full-time</p></li></ul><blockquote>All things mentioned are purely personal. </blockquote><p><strong>1. Talk to your potential clients</strong></p><p>Talk to them even if you do not have a product. </p><p>Imagine you have the very best version of what you’re building. Go ahead and see what people say. </p><p>One more thing: <strong>CLIENTS</strong>. Not your friends, or some random people. Yeah, your friends will say “Great idea”. All of them. </p><p>What you really want to hear is “I like it. What’s the price? How can I buy it?”</p><p>People only vote with their pockets.</p><p><a href="https://www.ycombinator.com/library/6g-how-to-talk-to-users">More read</a></p><p><strong></strong><a href="https://www.ycombinator.com/library/6g-how-to-talk-to-users"><strong></strong></a><strong>2. Do not think you/your product/your team/your approach are any different or unique</strong></p><p>We all want to be special. We all want to work for a company that will soon cost millions of dollars. We all want to be the first of our kind. </p><p>But, most likely, you, your team, your product is (below) average.</p><p>So, if you hear experienced people repeating the same thing to you then you should act. </p><blockquote><strong>Do not try to be “Yeah, but we’re…”</strong> </blockquote><p><strong>3. It’s almost impossible to raise money when you don’t have anything to show</strong></p><p>Do not expect investors to come and give you money. It’s a big gamble for you to start raising. Also, raising money is a full-time job!</p><p><strong>4. Start pitching investors as soon as possible</strong></p><p>Yes, do not expect them to give you money. However, there is a lot of things to do to raise money. You have to be prepared for when you’re ready. </p><blockquote>Pitch deck.  Pitching. Answering the questions. </blockquote><p>Do not spend much time on it. However, I would recommend to do it consistently. It will take months to come up with something consistent. So, you’d better start early.</p><p>Also, some investors will tell you why they will not give you money. Iterate, and work on these problems.</p><p><strong>5. Start small. Do things that do not scale. Be a consulting company</strong></p><p>Believe me or not but the only way to sell your scalable solution to millions of clients is to start by selling it one-by-one. In a non-scalable way. </p><p><a href="http://paulgraham.com/ds.html">More read</a></p><p><strong></strong><a href="http://paulgraham.com/ds.html"><strong></strong></a><strong>6. Do not be afraid to charge </strong></p><p>Charge for your service/product at a fair price. Yeah, you might lose some clients. But, how will you survive if you cannot get fair pay for your service? </p><p><strong>7. It’s a grind. Consistent one</strong></p><p>You have to repeat a lot of boring things over and over again. </p><p><strong>8. Only those who pay you money have to decide which features to add</strong></p><p>Do you think adding this feature is cool? Go ahead, and ask those who pay you. </p><p>Listen to what they say, and make a better product. </p><p><strong>9. Carefully choose co-founders</strong></p><p>We know each other for over 14 years. We knew well what to expect from each other.</p><p><strong>10. Help others &amp; Ask others for help</strong></p><p><strong>11. Things that no one actually cares about at the beginning</strong></p><ul><li>Logo</li><li>Name, website domain</li><li>Your background</li></ul><p><strong>12. Things that everyone cares about</strong></p><ul><li>Your value proposition</li></ul><p><strong>13. What is the definition of a “startup” for you? </strong></p><p>Can you give it? Maybe what you want to start is a small business. There’s nothing wrong with it. </p><p><strong>14. Do not afraid to take a step back</strong></p><p><strong>15. This list misses the other 100 points which we did not figure out yet! So, do not overlay on it</strong></p><p>All I’ve written here might be wrong/not applicable to you. But like I said, most likely you’re not different at all.</p></div></div></div></div>]]>
            </description>
            <link>https://newscatcherapi.com/blog/we-ve-been-running-a-bootstrapped-startup-for-1-year-our-top-15-takeaways</link>
            <guid isPermaLink="false">hacker-news-small-sites-25717006</guid>
            <pubDate>Sun, 10 Jan 2021 17:30:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Powerful Life Skills for the New Decade]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 70 (<a href="https://news.ycombinator.com/item?id=25716764">thread link</a>) | @neilkakkar
<br/>
January 10, 2021 | https://neilkakkar.com/powerful-life-skills.html | <a href="https://web.archive.org/web/*/https://neilkakkar.com/powerful-life-skills.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>Over the past few years, I’ve noticed certain skills in people I admire, from Paul Graham, Vitalik Buterin, to Ender Wiggin.</p>

<p>These are rare skills, responsible for making them who they are. Most normal people, including me, don’t realise it. This makes the skills powerful - not everyone can see them, and very few people have mastered them.</p>

<p>However, I aim to change that. What follows below are 10 skills sourced from admirable people that I want to develop.</p>




<figure>
    
    <img src="https://neilkakkar.com/assets/images/divider.jpg" alt="">
    
    
    
</figure>

<h2 id="learn-to-take-compounding-seriously">Learn to take compounding seriously</h2>

<p>It’s not just your wealth that compounds, but life experience and knowledge, too.</p>

<p>So, learn the most basic, most useful skills first. The longer you wait to learn skills like these, the less time there is for compounding magic. That’s what this entire list is about: powerful skills to learn and use for the rest of your life.</p>

<p>And even though you’ve heard about compounding, this item is first on the list, because <a href="https://neilkakkar.com/taking-ideas-seriously.html">taking ideas seriously is hard</a>.</p>

<p>A good way to figure out what compounds is <a href="https://neilkakkar.com/year-in-review-2019.html#compounding-is-powerful-building-intuition-for-compounding-even-more-so">to figure out what’s a platform</a>.</p>

<h2 id="learn-to-develop-taste">Learn to develop taste</h2>

<p>Despite prevalent beliefs, taste isn’t subjective.</p>

<p>While it may seem like it on the outside, when you say “I just love this painting” or “I just love this coffee machine” - all it means is that the defining characteristics are illegible to you. And noticing this is the first step.</p>

<p>Let’s take a specific example. Say you’re designing a high quality clay pot - and you’ve never done this before.</p>

<p>What’s a good way to develop taste for quality here?</p>

<p>If you’ve heard this claypot parable, you know the answer: start by making lots of crap pots.</p>

<blockquote>
  <div><p>The ceramics teacher announced on opening day that he was dividing the class into two groups. All those on the left side of the studio, he said, would be graded solely on the quantity of work they produced, all those on the right solely on its quality. His procedure was simple: on the final day of class he would bring in his bathroom scales and weigh the work of the “quantity” group: fifty pound of pots rated an “A,” forty pounds a “B,” and so on. Those being graded on “quality,” however, needed to produce only one pot—albeit a perfect one—to get an “A.”</p><p>

Well, came grading time and a curious fact emerged: the works of highest quality were all produced by the group being graded for quantity. It seems that while the “quantity” group was busily churning out piles of work—and learning from their mistakes—the “quality” group had sat theorizing about perfection, and in the end had little more to show for their efforts than grandiose theories and a pile of dead clay. - <a href="https://amzn.to/3o9o17A" target="_blank" rel="noopener">Art and Fear</a><sup id="fnref:2"><a href="#fn:2">1</a></sup></p></div>
</blockquote>

<p>Let others tell you what you’ve made is crap. Learn why. Notice when they tell you something is great. Figure out why.</p>

<p>This transfers to writing as well: Popular advice to get better is to write a lot of junk, do it a 100 times, and pay particular attention to what is received well. Here’s <a href="http://www.paulgraham.com/taste.html" target="_blank" rel="noopener">another example - developing taste for design</a>.</p>

<p>In effect, you bootstrap good taste by first learning what others consider good. Then, <a href="#learn-to-see-systems">you see the system behind it</a>. Then you break the rules and still manage to awe.</p>

<p>Then you’ve developed taste.</p>

<h2 id="learn-to-sequence-things-well">Learn to sequence things well</h2>

<p>Waking up when others are asleep and getting lots done is a super power. It’s born out of a system of <a href="https://neilkakkar.com/sequencing-things-in-the-right-order.html">learning to sequence things well</a>.</p>

<p>It means choosing the right time for that Netflix binge.</p>

<p>It means being prepared before the meeting, not scrambling to get things done after.</p>

<p>It means reading the coursebook before the lecture, not after.</p>

<h2 id="learn-to-see-what-others-see">Learn to see what others see</h2>

<p>How well can you understand other people? Can you sense their desires, their concerns, and what events lead to those desires and concerns?</p>

<p>If you can do this, you can understand them. But not before.</p>

<blockquote>
  <p>In the moment when I truly understand my enemy, understand him well enough to defeat him, then in that very moment I also love him. I think it’s impossible to really understand somebody, what they want, what they believe, and not love them the way they love themselves. - <a href="https://amzn.to/2KKe8Px" target="_blank" rel="noopener">Ender’s Game</a><sup id="fnref:1"><a href="#fn:1">2</a></sup></p>
</blockquote>

<p>It’s worth going this far because understanding is powerful. It helps you empathise. It helps you negotiate. It helps you figure out why you don’t have product-market fit. It helps you learn quickly: you can switch through personas and see what will and won’t work.</p>

<p>How do you do learn to see? I know no better way than to practice. Try it a 100 times. <a href="https://neilkakkar.com/subscribe">Come back next year</a>, and maybe I’ll have a better way once I’ve done it a 100 times.</p>

<h2 id="learn-to-make-and-execute-decisions-quickly">Learn to make and execute decisions quickly</h2>

<p>Most people have a bias towards analysis-paralysis versus getting shit done.</p>

<p>When decisions are reversible - and they mostly are - speed is a super power. Cultivating a habit of making decisions quickly, and then executing them is better than just thinking about it.</p>

<p>Training this skill begins as easily as deciding what to eat on a huge menu. It’s a small step, but over time, <a href="#learn-to-take-compounding-seriously">even the smallest steps compound</a>.</p>

<blockquote>
  <p>“Hesitation is always easy, rarely useful” - Prof. Quirrel alterego, <a href="http://www.hpmor.com/" target="_blank" rel="noopener">HPMOR</a></p>
</blockquote>

<p>Here’s an <a href="https://firstround.com/review/speed-as-a-habit/" target="_blank" rel="noopener">example in the context of business</a>. And a <a href="https://twitter.com/sama/status/1345140364995227648" target="_blank" rel="noopener">tweet from Sam Altman</a>.</p>

<h2 id="learn-to-spot-a-convex-or-concave-world">Learn to spot a convex or concave world</h2>

<p>In the world of viral infections, a 50% lockdown is worse than a 0% and a 100% lockdown, both. The virus isn’t contained, and businesses have to shut down, too.</p>

<p>In the world of immigration policies, letting some specific people in is better than letting no one or everyone in. The middle ground is better than the extremes.</p>

<p>When the best of both worlds is great, you’re in a concave disposition.</p>

<p>When the best of both worlds is worse than either, you’re in a convex disposition.</p>

<p>The world is sometimes concave, and sometimes convex. Knowing your topology can help you make better decisions.</p>

<p>I first noted this when <a href="https://vitalik.ca/general/2020/11/08/concave.html" target="_blank" rel="noopener">Vitalik Buterin explained it</a>. Read it for more concrete examples.</p>

<!-- ## Learn to do obvious things -->

<h2 id="learn-to-tell-stories">Learn to tell stories</h2>

<p>People donate more to charity when they know a single victim’s story, versus statistics of a thousand deaths. It’s called the <a href="https://en.wikipedia.org/wiki/Identifiable_victim_effect" target="_blank" rel="noopener">Identifiable Victim Effect</a>, but it’s the power of stories over facts. The right framing gets you further than all the facts combined.</p>

<blockquote>
  <p>“A single death is a tragedy; a million deaths is a statistic.”</p>
</blockquote>

<p>Ideas &amp; facts contextualised by stories are more powerful than either alone.</p>

<p><i></i><b>The Skill of Storytelling</b><br>
There’s lots to unpack here, and this is the first skill I’ve been working on for the past few months. Watch out for a long blogpost in 2 weeks!</p>

<h2 id="learn-to-dive-into-the-source-code-when-documentation-isnt-enough">Learn to dive into the source code when documentation isn’t enough</h2>

<p>Sometimes, there’s no precedent for what you want to do. Or the people who did it before didn’t write a manual.</p>

<p>In cases like these, figuring things out for yourself is powerful. Research papers and obscure books aren’t just for scientists. They’re freely available on the internet* for all of humanity to use. Learn to use it. Learn about resources like <a href="https://sci-hub.do/" target="_blank" rel="noopener">SciHub</a>, <a href="https://libgen.xyz/" target="_blank" rel="noopener">LibGen</a>, and hiring researchers. You’re allowed to hire people (specially graduate students!) to satisfy your research concerns.</p>

<p>… and when you’re done, <a href="https://neilkakkar.com/things-I-learned-to-become-a-senior-software-engineer.html#writing-code">preserve context for future you</a>.</p>

<p>It’s a lot like trying to use an API that has no documentation. Would’ve been easy if there was documentation, but there isn’t. So you got to do it the hard way: read the source code and figure out what you need to make things work.</p>

<p>It’s also like <a href="https://neilkakkar.com/A-framework-for-First-Principles-Thinking.html">figuring out what you need to build rockets yourself</a> when existing ones are too expensive.</p>

<p><a href="https://www.lesswrong.com/posts/37sHjeisS9uJufi4u/scholarship-how-to-do-it-efficiently" target="_blank" rel="noopener">More resources here</a>.</p>

<h2 id="learn-to-be-specific">Learn to be specific</h2>

<p>Every time I gave an example above, I was training my specificity muscles.</p>

<p>Most of the time, most people don’t know what they’re talking about. Not being specific is a sign of that. The more abstract the word, the harder it is to pin down a meaning.</p>

<p>For example, “negative ramifications” doesn’t tell you what exactly happened, while “the sonic boom from the new supersonic jet destroyed windows in a 100m radius” is a lot more specific.</p>

<p>Learn to be specific, and learn to spot when others aren’t. <a href="https://www.lesswrong.com/posts/NgtYDP3ZtLJaM248W/sotw-be-specific" target="_blank" rel="noopener">Here’s how</a>.</p>

<h2 id="learn-to-see-systems">Learn to see systems</h2>

<p>There’s two kinds of people.</p>

<ul>
  <li>Bob, who will see this list, find some skills very interesting, and then go about honing those skills</li>
  <li>Alice, who will see this list, and wonder how I came up with these
<!-- - The Inspiration-Junkie, who will lurk and move on to the next inspiring post without changing anything -->
</li>
</ul>

<p>Alice would then try to understand the system that generated these ideas. Then, she’ll adopt the system, and come up with skills possibly more relevant to herself.</p>

<p>Having the option to do both is powerful. Since Bob is the default, <a href="https://neilkakkar.com/How-to-see-Systems-in-everyday-life.html">learn to be like Alice</a>. Choose <a href="https://neilkakkar.com/understanding-systems.html">systems when things are important</a> to you. Choose hacks when you need a quickfix.</p>

<figure>
    
    <img src="https://neilkakkar.com/assets/images/divider.jpg" alt="">
    
    
    
</figure>



    
  </div></div>]]>
            </description>
            <link>https://neilkakkar.com/powerful-life-skills.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25716764</guid>
            <pubDate>Sun, 10 Jan 2021 17:09:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Weirdness of Kentucky Route Zero (2016)]]>
            </title>
            <description>
<![CDATA[
Score 123 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25716686">thread link</a>) | @olvy0
<br/>
January 10, 2021 | http://blog.joshhaas.com/2016/10/the-weirdness-of-kentucky-route-zero/ | <a href="https://web.archive.org/web/*/http://blog.joshhaas.com/2016/10/the-weirdness-of-kentucky-route-zero/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p>In <a href="http://blog.joshhaas.com/2016/10/mr-robot-is-not-weird-enough/">my last post</a>, I took issue with the TV show <i>Mr. Robot</i> for not being weird enough. Although imaginative and compelling, its universe is well-ordered: everything happens for a reason.</p>
<div>

<p>If you’re looking for media to consume that doesn’t suffer from that problem, I recommend <a href="http://kentuckyroutezero.com/"><i>Kentucky Route Zero</i>.</a></p>
</div>

<p>I <a href="http://blog.joshhaas.com/2016/10/yet-another-review-of-the-trump-clinton-debate/">previously discussed</a> <i>Kentucky Route Zero</i> (<i>KR0</i> for short) in the context of the first Trump-Clinton debate. It’s relevant to that because it’s a tour through coal-country America, and it engages with the desolation there that’s fueling Trump’s support.</p>

<p>As a portrait of the region, it’s a Picasso or maybe a Goya, not a Velázquez. It has moments where it approaches documentary realism, but it mostly traverses an imaginary landscape reflecting its creators’ perceptions, inspired by their real-life travels in Kentucky.</p>

<p><i>KR0</i>’s medium is a computer game, but “game” is misleading. There’s no element of skill. It has the interface of an adventure game, but unlike other games in that genre, your progression through the story isn’t blocked by puzzles to solve. Rather, it’s more like a work of interactive fiction. The story is mainly told through dialogue, though the soundtrack and visuals are important pieces of the experience.</p>
<div>

<p>The medium is appropriate: it makes a better game than it would a book or a tv show. The ambition seems to be to create a world, and the ability to explore it freely is important. There’s a narrative, but the world is alive beyond the narrative, and there’s a lot to discover outside the main plot.</p>

</div>
<p>The three-person studio that produced <i>KR0</i>, Cardboard Computer, has been trying to erase the lines between their fictional universe and the real one. They’ve released a number of companion pieces to the game, including <a href="http://kentuckyroutezero.com/the-entertainment/">an experience for Occulus Rift or Mac / PC</a> where you participate as a cast member of a fictional 1973 production of a one-act play. The play appears to depict events that occur in a bar a few hours before the character you play in <i>KR0</i> visits the bar in the game, but the fictional set designer for the 1973 production — ie, a real person in the production’s fictional reality — is also a character in <i>KR0</i>. In case that wasn’t confusing enough, you can buy a <a href="http://www.lulu.com/shop/http://www.lulu.com/shop/lem-doolittle/the-entertainment/paperback/product-21312732.html">print copy of the script</a>, published under the name of the fictional author.</p>

<p>It’s not a bad play, either. As the script advertises, “The one-act play “A Reckoning,” set in a tavern in central Kentucky, is Doolittle’s take on the sort of barroom tragedy made popular by O’Neill, Gorky, etc.”, and I would say it stands on its own as a piece of theater, although the ending will have more resonance if you’ve played through <i>KR0</i>.</p>

<p>This almost pedantic accumulation of fictional detail, both inside and outside the game — names, biographies, places, events — lends believability and power to <i>KR0</i>’s magical realist plot-line. Because the production team took such great pains to create verisimilitude, the more fantastic elements of the game feel justified: hauntings, strange and implausible creatures, a whiskey company whose employees are all glowing skeletons, and the titular Route 0, a hidden underground highway through non-euclidean space.</p>

<p>The game’s plot is simple and unobtrusive compared to the sprawling, strange world it is set in. Conway, a truck driver for an antiques store, is trying to make a delivery to Dogwood Drive, a street that doesn’t show up on his maps. As he looks for it, he picks up some traveling companions, and we learn more about his and their pasts. <i>KR0</i> isn’t complete yet —the game is divided into five acts, and final one hasn’t been released — so I don’t know yet if Conway ever makes it to his destination.  In fact, I still don’t know what he’s delivering, or to whom.</p>

<p>As a player, the main way you exert agency is through your choice of dialogue options. Unusually for adventure-style games, your dialogue choices don’t seem to affect the plot. Rather, they affect the past: you can give the characters different backstories, influence their temperaments, change how they see the world and treat each other. It’s a limited degree of freedom: I haven’t flexed the game aggressively to see how divergent you can make it, but my understanding is that the basic outline of who the characters are always remains the same. It’s more of a matter of altering the shadings.</p>

<p>The net effect of the simple plot, the strange, expansive world, and the freedom to emphasize and explore different aspects of the characters is that playing the game doesn’t feel like you’re being told a story, with themes and a moral. Rather, it feels more like an invitation to you, the player, to interpret what you’re confronted with. The game gives you a lot of details to work with, and powerful images and emotions, but leaves you to decide what to think about it all.</p>

<p>At its heart, I think <i>Kentucky Route Zero</i> is a meditation on entropy. Certainly, entropy is the unifying characteristic of the game world. <i>KR0</i>’s setting is a Kentucky that’s been devastated by the collapse of the coal industry and by the 2008 housing crisis. Everything you encounter is in some state of falling apart. The gas station you refuel at has overdue electric bills. The bar can’t buy alcohol any more. The coal mine is abandoned. Conway’s dog looks like she’s seen better days. All the characters have various stories of poverty, alcoholism, loss, and debt.</p>

<p>Entropy has different facets. There are many different stances that one can take towards it. <i>KR0</i> seems to explore each of them in turn, weighing them, inviting you to partake.</p>

<p>The most basic stances are the emotional ones: despair, grief, and anger. There’s certainly plenty of that throughout the game. In one particularly powerful moment, you come across a memorial for coal miners who drowned when some tunnels were flooded in an accident a decade or so ago.  The memorial is a collection of hard-hats floating in an underground lake, accompanied by an angry, hand-written sign accusing the mining company of negligence. In another moment, you meet a team of engineers who spent their lives trying to build a computer system (called Xanadu, presumably a reference to the <a href="https://www.wired.com/1995/06/xanadu/">real world could-have-been internet competitor</a>), who are now just sitting around hopelessly, having given up on ever completing their lives’ work.</p>

<p>Another stance is simple momentum: keeping going on as long as you can. One character you meet is a switchboard technician, the last one on her team after all her coworkers were laid off by the phone company automating the systems. They couldn’t quite automate her, so she keeps plugging away, alone in a tunnel, connecting call after call. There’s also a church, relocated to a warehouse by some beauracrats, where the congregation all drifted away, the preacher left, and now it’s just a janitor who puts on pre-recorded sermons every Sunday.</p>

<p>Entropy and grief can also give rise to beauty. <i>KR0</i> has plenty of beautiful moments too. The game has a gorgeous soundtrack, mixing electronic music and ambience with bluegrass classics. The bluegrass pieces, performed by a mysterious wandering trio who occasionally wander across your path, are all explorations of loss and hardship, transmuted into folk songs and hymns. The visual palette of the game is mixture of blues and oranges, mostly subdued and minimalist, but occasionally spectacular. Everything has a satisfying organic, analog feel. Radio systems crackle, televisions hum, computers react to strange magnetic fluctuations.</p>

<p>Yet another approach to entropy is to consume and exploit it. At various points in the game, you encounter modern, structured institutions, that are in the process of channeling the breakdown toward their own ends. There’s a whiskey distillery that’s steadily acquiring the balance sheets and souls of the folks you meet. You get to take a tour of its expansive, industrially-clean factory in an amazing descent-into-hell sequence that feels like Dante meets OSHA. The local power company also seems to be on the march. There are also more highbrow institutions consuming the entropy. For instance, you visit the “Bureau of Reclaimed Space”, which seems to represent government, taking in weirdness and outputting paperwork. In another interlude, you find an entire town that’s been transplanted to be inside a museum, the residents still living in their houses, enclosed in a giant glass warehouse.</p>

<p>Somewhat related to high-brow consumption, there’s intellectualization of entropy. <i>KR0</i> has a steady stream of references to academia. You meet a number of characters who have spent time in the grad student / post-doc limbo space, and there’s a lot of art and math jargon. From an academic perspective, entropy is a source of phenomena to record, analyze, and write papers about — hopefully publishable ones. This content is a reflection of the game itself, which in many ways feels like a modern art project. <i>KR0</i> is obsessed with topology and imaginary spaces. Characters muse about space aloud, and as you move around the game, you explore a number of different spaces and means of navigating them: a driving map of Kentucky as navigated by truck, the same map as navigated by a bird, a bureaucratic office building where you ride an elevator up and down, a pure mathematical abstraction that you traverse by turning around at certain symbols, an endless underground river where you are swept along on a boat, among others. This self-conscious exploration invites you to see the entropy in <i>KR0’s</i> world as something to think about and study.</p>

<p>Finally, entropy gives rise to newness: the inadvertent creativity of random processes. Two of the more memorable characters you meet are a pair of androids that, in their telling, emerged from the mines as shapeless lumps, and transformed themselves into a pair of motorcycle-riding musicians, who are now <a href="https://killscreen.com/articles/kentucky-route-zeros-junebug-set-release-tktk-album-androids/">releasing an album outside the game</a>. Abandoned things in <i>KR0</i> tend to take on a life of their own.  A hobo sets up shop as an organist in a church converted into an office …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://blog.joshhaas.com/2016/10/the-weirdness-of-kentucky-route-zero/">http://blog.joshhaas.com/2016/10/the-weirdness-of-kentucky-route-zero/</a></em></p>]]>
            </description>
            <link>http://blog.joshhaas.com/2016/10/the-weirdness-of-kentucky-route-zero/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25716686</guid>
            <pubDate>Sun, 10 Jan 2021 17:01:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Secure and blinded medical data analysis with OpenSAFELY]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25716685">thread link</a>) | @stuartbman
<br/>
January 10, 2021 | https://explainthispaper.com/identifying-covid-risk-factors-new-secure-analytics-platform/ | <a href="https://web.archive.org/web/*/https://explainthispaper.com/identifying-covid-risk-factors-new-secure-analytics-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<section>
<div>
<p><span>
<h3>Clinical Need</h3><p>When COVID-19 first hit, governments across the globe had to make tough public health decisions with little information. The measures they put in place to reduce spread can prevent COVID-19-related deaths but can also have <i>negative</i> consequences on physical and mental health😷.</p><p>Understanding what factors determine risk of serious outcomes from COVID-19 can help guide these policies. For example, people who are high risk may be advised to shield at home.</p><p>To understand these risk factors, there was a need to analyse large volumes of medical records. Unfortunately, getting access to these records and <sample>linking them appropriately</sample> typically requires lots of regulatory approvals and takes a long time.</p>
</span>
</p>
<div>

<p>To really understand COVID, we need to link up clinical appointment notes with test results, death records, etc.</p><p>However, this information is typically kept in different locations.</p>
<p><img alt="chris.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/chris.2e16d0ba.fill-200x200.jpg" width="200">
</p>

</div>
</div>
</section>
<section>
<div>
<p><span>
<p>As a result, it’s hard to get really big datasets but <sample>the bigger, the better</sample>.</p><p>So what could we do? This research team came up with a great solution…</p>
</span>
</p>
<div>

<p>The larger the dataset, the greater statistical strength you have for the analysis.</p><p>In a smaller dataset, you might see trends - but then not have enough data to confidently say it is not due to random variation.</p><p>This is really important when looking at lots of different variables contributing to an outcome, as they did in this study.</p>
<p><img alt="chris.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/chris.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Chris Lovejoy</b>
</span><br>
<span>Doctor, Data Scientist</span>
</p>
</div>
</div>
</section>
<section>
<div>
<p><span>
<h3>What did they do?</h3><p>They assembled a team of clinicians👨‍⚕️, programmers👩‍💻, data scientists👨‍🔬 and epidemiologists🧑‍💼 and came up with a new way of extracting and analysing health data. They called this platform OpenSAFELY.</p><p>The traditional approach is to: (i) clean data and <sample>pseudonymise it</sample> (ii) download it, then (iii) run an analysis.</p>
</span>
</p>
<div>

<p>This is a bit like anonymisation, but not as strict. Information that could enable the individual to be identified (such as date of birth or home address) is modified, but can still be re-identified by those (ie. the researchers) using a ‘de-identification key’.</p>
<p><img alt="chris.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/chris.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Chris Lovejoy</b>
</span><br>
<span>Doctor, Data Scientist</span>
</p>
</div>
</div>
</section>
<section>
<div>
<p><span>
<p>However, this isn’t particularly secure (what if someone’s laptop gets stolen?), pseudonymisation isn’t fail-safe and it allows <sample>repeated analyses which risks identifying false relationships</sample>.</p><p>This team’s new approach is to upload the code for analysing the data to the electronic health record directly. The code is then run and returns the results. The data never leaves the health record. This maintains privacy and prevents repeated analyses 💯</p><p>They used this to look at the factors affecting risk of dying from COVID-19, in a GP health record dataset of 17 million individuals.</p>
</span>
</p>
<div>

<p>There’s always a possibility that patterns identified in the data are down to chance.</p><p>If a test has “95% confidence” it means there’s a 5% chance it happened by chance.</p><p>We can bear this in mind when interpreting results. However, what happens if we run multiple analyses, looking for a true result?</p><p>We give the data lots of chances to fall into that 5% that is due to chance.</p><p>With a pressure to publish interesting findings, this can incentivise researchers to run multiple tests in order to find these relationships – which may not be true. These may seem interesting, but they’re bad science.</p><p>This is known as ‘data dredging’ or ‘p-hacking’.</p>
<p><img alt="chris.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/chris.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Chris Lovejoy</b>
</span><br>
<span>Doctor, Data Scientist</span>
</p>
</div>
</div>
</section>
<h3>How does it work?</h3><p>1️⃣ First, after the researcher decides which data they want to analyse (e.g. all patients with diabetes) — they write some code to extract that from the health records.</p><p>2️⃣ When that code is run, they receive data to download. However, the data is a placeholder. It looks like the real data - but all the values are made up! Knowing the structure of the data helps the researchers write the code.</p><p>3️⃣ The working code is sent over to the health record (packaged up in a wrapper called <a href="https://www.docker.com/">Docker</a>) where it performs the analysis. Only the results are returned to the researchers - the patient data never leaves the health records. So no-one (not even the researchers) see the raw patient data.</p>
<h3>What did they find?</h3><p>They looked at data from 17 million people and found COVID-19-related death is increased by:</p><ul><li>Being male</li><li>Being older</li><li>Higher deprivation</li><li>BAME ethnicity (part of this explained by higher prevalence of medical problems and higher levels of deprivation)</li><li>Obesity</li><li>Various other medical conditions (such as diabetes, severe asthma, cancer and dementia)</li></ul>
<section>
<div>
<p><span>
<h3>Any limitations?</h3><p>This analysis was done in the early days of the pandemic. This meant we didn’t have the testing capacity we have now🧪. To circumvent this, the researchers included ‘<sample>clinically suspected’ cases</sample> of COVID-19 – and not just ones where it had been confirmed by a COVID-19 test. Some of these ‘positive’ cases may not have actually had COVID-19.</p><p>There were other common issues seen in data analysis on this scale: Some patients had missing data, like obesity, smoking status and ethnicity. Also, health record availability varies between region. They used data from a single GP electronic record company (TPP), whereas some regions (such as Scotland and North-East England use an alternative called EMIS). This means the sample population for the study may not represent the whole population (or indeed populations outside of England).</p>
</span>
</p>
<div>

<p>They don't include their definition here, but from the UK Government, this includes: new continuous cough or temperature ≥37.8°C or loss of, or change in, normal sense of smell (anosmia) or taste (ageusia)</p>
<p><img alt="stu.jpg" height="200" src="https://explainthispaper.s3.amazonaws.com/images/stu.2e16d0ba.fill-200x200.jpg" width="200">
</p>
<p><span><b>
Stu Maitland</b>
</span><br>
<span>NIHR Doctoral Fellow</span>
</p>
</div>
</div>
</section>
<p>It was a great feat to get this platform up-and-running and publish the analysis in such a short space of time. This type of research doesn’t usually happen that fast.</p><p>The study helped public health teams and researchers make decisions. For example, in the UK this provided support for advising at-risk populations to shield🛡.</p><p>This also presents a new paradigm for data analysis of health data, that could enable faster, more secure and more reproducible research going forward. All the code is <a href="https://github.com/opensafely/risk-factors-research">open-source and freely available</a>. This means anybody can inspect the code and other researchers are free to use it.</p><p>Since this paper, the same research group have used this platform to look at the impact on COVID-19 risk of (i) living with school-age children, (ii) HIV, (iii) ethnicity, (iv) taking hydroxychloroquine and (v) steroids with asthma or COPD.</p>
</div></div>]]>
            </description>
            <link>https://explainthispaper.com/identifying-covid-risk-factors-new-secure-analytics-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25716685</guid>
            <pubDate>Sun, 10 Jan 2021 17:01:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Applying Apple's Framework for Avoiding Mediocrity]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25716652">thread link</a>) | @sarthakjain
<br/>
January 10, 2021 | https://www.sarthakjain.com/p/apples-framework-for-escaping-mediocrity?r=86tsj | <a href="https://web.archive.org/web/*/https://www.sarthakjain.com/p/apples-framework-for-escaping-mediocrity?r=86tsj">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>Note this isn't an official framework Apple uses internally. Neither this post nor the author are in any way affiliated with Apple. It is however a framework you can use to understand how Apple prioritizes building products and the closest outside guess to Apples product prioritization framework.</strong></p><h3>Mental Framework</h3><p>Every task or product decision should be put into one of 4 buckets:</p><p><strong>1. Not important.</strong></p><p>Don't do it. </p><p><strong>2. Not important. But needs to be done.</strong></p><p>Do the bare minimum</p><p><strong>3. Important</strong></p><p>As good as the best. Copy the best.</p><p><strong>4. Most important</strong>.</p><p>Innovate to make sure it’s better than the best.</p><h3>Isnt this obvious?</h3><p>It is mostly. However there is one notable exception. Average. If it's looking like what you are going to do is average you are better off doing the bare minimum.</p><p>If a task is between important and not important go either way do as good as best or bare minimum. Don't do average.</p><h3>Apple&nbsp;as an example:</h3><p>Apple is probably the most intense when using this framework. A great example is their history with headphones. For years Apple shipped below average headphones with their iPhones and iPods. Apple's headphones never competed with the likes of Bose. There was nothing new, nothing innovative about them. They needed to be there for Apple's core products to function and they were. They fell into the bucket of ‘2. Not important, but needs to be done.’ Apple even encouraged you to buy third party headphones.</p><p>Once Apple noticed a new innovative product that was gaining traction (the Bragi Dash on kickstarter, and possibly before this) they created a best in class product the Apple Air Pods. This suddenly took their headphone offering from below average to best in class. You could say they were copies of the best or they were better than the best but they certainly weren't average. This had become a category that was now important to Apple. Once the Air Pods took off Apple pushed it&nbsp;to the next level moving it to most important creating the Air Pods Pro leaving everyone in their dust.</p><p><strong>Other examples of products from Apple in each category</strong></p><ol><li><p>Search - Don't care, won't do </p></li><li><p>iCloud/Safari- I'd argue it's the bare minimum they can get away with </p></li><li><p>Airpods Max - as good as the best </p></li><li><p>MacBook/iPad - better than the best </p></li></ol><p>Even if you don't agree with the categorisation you'll probably still agree that Apple has below average products and best in class products but they don't create average products. That is why they have the market dominance they do.</p><p><strong>Even Apple fails occasionally:</strong></p><p>One example of Apple failing to follow this philosophy is in their maps product. Apple Maps really is a very “average” product which came nowhere close to competing with Google Maps. It's very existence necessitates doing more than the bare minimum which would have been to show Google Maps pre-installed. Word is that they are taking this shortcoming seriously and looking to launch a new redesigned Maps soon.</p><h3>Using this framework daily </h3><p>This was originally a slack post shared with the team at <a href="https://nanonets.com/">Nanonets</a>. We use this on a daily basis when scoping tasks. We ask ourselves:</p><p><strong>Do we need to do the bare minimum or best in class?</strong></p><p>Depending on the the answer:</p><p>A) If bare minimum then the follow up question is do we even need to do it? </p><p>B) If best in class should we copy the best or be better than the best?</p><p>If you don't hold yourself to this standard you will mostly end up shipping average features that lead to average products.</p><p><strong>Note</strong>: everything about your product need not be best in class. Only the the features that you matter to your customers and to you as a product/company, which also depends on and will change with the stage you are at.</p><p>I'm the CEO at <a href="https://nanonets.com/">Nanonets</a>, we are building AI to help machines see the world - starting with documents. </p><p>I write about startups, products and technology.</p></div></div>]]>
            </description>
            <link>https://www.sarthakjain.com/p/apples-framework-for-escaping-mediocrity?r=86tsj</link>
            <guid isPermaLink="false">hacker-news-small-sites-25716652</guid>
            <pubDate>Sun, 10 Jan 2021 16:58:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I ignored my mental health, and got hit hard by OCD (a cautionary tale)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25716477">thread link</a>) | @coolvision
<br/>
January 10, 2021 | https://grgv.xyz/ocd_story | <a href="https://web.archive.org/web/*/https://grgv.xyz/ocd_story">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>Have you seen “Aviator”, a movie with Leonardo DiCaprio about Howard Hughes? Then you might recall what an OCD is.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2fXF8G50BPQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<p><strong><a href="https://en.wikipedia.org/wiki/Obsessive%E2%80%93compulsive_disorder">Obsessive–compulsive disorder</a>&nbsp;(OCD) is a&nbsp;mental disorder&nbsp;in which a person has&nbsp;certain thoughts ”repeatedly&nbsp;(called "obsessions") or feels the need to perform&nbsp;certain routines repeatedly&nbsp;(called ”compulsions") to an extent which generates distress or impairs general functioning</strong></p>
<p>I have a mild form of OCD. Had it since teenage years. But rarely bothered me, and I mainly did not care about it much. It manifested itself maybe few times per year, where I would have to re-check few times if the door is locked, for example (which does not seem like a huge burden).</p>
<p>And so, I felt great in autumn and in the first half of December. Everything was fine, I have a job that I love, great family, and hobbies that I enjoy.</p>
<p>Then, this winter came, and It got worse. I live in a northern country (Estonia), daylight time is very short, and although I don’t suffer from SAD too much usually, it might have been a factor. And I usually try to get some vacation in warmer countries, but this year did not do it because of COVID. I also started to work from home, and it probably added to the feeling of isolation and brought me down more.</p>
<p>All in all, I don’t know what were that main factors, but probably the whole combination was too much. Occasional obsessions and compulsions started to show up more, but I mainly just shrugged them off. Then, closer to the new year, it stared to get even worse.</p>
<p><strong>And now it’s at a point where I strongly need professional help, I barely can work, lost lots of weight, have horrible anxiety all the time, and all the obsessions make my behaviour erratic at times.</strong> And this is yet another problem — its actually hard to find professional help quickly! It can be weeks or months until finding a therapist.</p>
<p><em>My main mistake was not looking for warning signs of illness.</em> It was “today it’s fine, then all will be fine” attitude, which is a big mistake.</p>
<p>Yes, my case is slightly exotic, but it relates to all other mental health issues: depression, anxiety, panic attacks, etc… <a href="https://www.nimh.nih.gov/health/statistics/mental-illness.shtml">Nearly 20% of people have some form of mental illness</a>, and some of the issues might not seem like a big deal until they hit hard.</p>
<p>As a tale of caution, I have some advice, which I will follow religiously in future. This is relatively obvious and simple, but let my example be a bit of a motivation to take it more seriously.</p>
<ul>
<li>Maintain mood logging, and journal regularly. It would help to notice any anomalies and problems before they become serious. Don’t shrug off warning signs!</li>
<li>Find mental health checklists, like <a href="https://www.beyondblue.org.au/the-facts/anxiety-and-depression-checklist-k10">https://www.beyondblue.org.au/the-facts/anxiety-and-depression-checklist-k10</a>, check yourself time from time,</li>
<li>Therapy is important, especially in this times. I never did therapy, and now regret it.</li>
<li>Fitness, meditation, good diet and all kinds of self care — in this time of increased isolation it’s not just some random good habits, treating this seriously is a very important part of well-being.</li>
</ul>


			</div></div>]]>
            </description>
            <link>https://grgv.xyz/ocd_story</link>
            <guid isPermaLink="false">hacker-news-small-sites-25716477</guid>
            <pubDate>Sun, 10 Jan 2021 16:43:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deep Learning's Most Important Ideas – A Brief Historical Review]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25715318">thread link</a>) | @coolvision
<br/>
January 10, 2021 | https://dennybritz.com/blog/deep-learning-most-important-ideas/ | <a href="https://web.archive.org/web/*/https://dennybritz.com/blog/deep-learning-most-important-ideas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The goal of this post is to review well-adopted ideas that have stood the test of time. I will present a small set of techniques that cover a lot of basic knowledge necessary to understand modern Deep Learning research. If you're new to the field, these are a great starting point.</p><div id="post-content"><p>Deep Learning is an extremely fast-moving field and the huge number of research papers and ideas can be overwhelming. Even seasoned researchers have a hard time telling company PR from real breakthroughs. The goal of this post is to review those ideas that have <strong>stood the test of time</strong>, which is perhaps the only significance test one should rely on. These ideas, or improvements of them, have been used over and over again. They're known to work.</p> <p>If you were to start in Deep Learning today, understanding and implementing each of these techniques would give you an excellent foundation for understanding recent research and working on your own projects. It's what I believe the best way to get started. Working through papers in historical order is also a useful exercise to understand where the current techniques come from and why they were invented in the first place. <strong><strong>Put another way, I will try to present a <em>minimal set</em> of ideas that most of the basic knowledge necessary to understand modern Deep Learning research.</strong></strong></p> <p>A rather unique thing about Deep Learning is that its application domains (Vision, Natural Language, Speech, RL, etc) share the majority of techniques. For example, someone who has worked in Deep Learning for Computer Vision his whole career could quickly be productive in NLP research. The specific network architectures may differ, but the concepts, approaches and code are mostly the same. I will try to present ideas from various fields, but there are a few caveats about this list:</p> <ul> <li>My goal is not to give in-depth explanations or code examples for these techniques. It's not easily possible to summarize long complex papers into a single paragraph. Instead, I will give a brief overview of each technique, its historical context, and links to papers and implementations. If you want to learn something, I <em>highly recommend</em> trying to re-produce some of these paper results from scratch in raw <a href="https://pytorch.org/">PyTorch</a> without using existing code bases or high-level libraries.</li> <li>The list is biased towards my own knowledge and the fields I am familiar with. There are many exciting subfields that I don't have experience with. I will stick to what most people would consider the popular mainstream domains of Vision, Natural Language, Speech, and Reinforcement Learning / Games.</li> <li>I will only discuss research that has official or semi-official open source implementations that are known to work well. Some research isn't easily reproducible because it involves huge engineering challenges, for example <a href="https://deepmind.com/research/case-studies/alphago-the-story-so-far">DeepMind's AlphaGo</a> or <a href="https://openai.com/projects/five/">OpenAI's Dota 2 AI</a>, so I won't highlight it here.</li> <li>Some choices are arbitrary. Often, rather similar techniques are published at around the same time. The goal of this post is not be a comprehensive review, but to to expose someone new to the field to a cross-section of ideas that cover a lot of ground. For example, there may be hundreds of GAN variations, but to understand the general concept of GANs, it really doesn't matter which one you study.</li> </ul>  <p><strong><strong>Papers</strong></strong></p> <ul> <li><a href="https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks">ImageNet Classification with Deep Convolutional Neural Networks (2012)</a> <span data-cites="krizhevsky_imagenet_2012">Krizhevsky, Sutskever, and Hinton (2012)</span></li> <li><a href="https://arxiv.org/abs/1207.0580">Improving neural networks by preventing co-adaptation of feature detectors (2012)</a> <span data-cites="hinton_improving_2012">Hinton et al. (2012)</span></li> <li><a href="https://arxiv.org/abs/1404.5997">One weird trick for parallelizing convolutional neural networks (2014)</a> <span data-cites="krizhevsky_one_2014">Krizhevsky (2014)</span></li> </ul> <p><strong><strong>Implementations</strong></strong></p> <ul> <li><a href="https://pytorch.org/hub/pytorch_vision_alexnet">AlexNet in PyTorch</a></li> <li><a href="https://github.com/tensorflow/models/blob/master/research/slim/nets/alexnet.py">AlexNet in TensorFlow</a></li> </ul> <figure> <img src="https://dennybritz.com/assets/deep-learning-most-important-ideas/alexnet-full.png" alt=""><figcaption>Source: <a href="https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks">https://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks</a></figcaption> </figure> <p>AlexNet is often considered the algorithm responsible for the recent boom in Deep Learning and Artificial Intelligence research. It is a Deep Convolutional Neural Network based on the earlier LeNet developed by Yann LeCun. AlexNet beat previous methods at classifying images from the <a href="http://image-net.org/index">ImageNet dataset</a> by a significant margin through a combination of GPU power and algorithmic advances. It demonstrated that neural networks actually work! AlexNet was also one of the first times Dropout <span data-cites="hinton_improving_2012">Hinton et al. (2012)</span> was used, which has since become a crucial component for improving the generalization ability of all kinds of Deep Learning models.</p> <p>The architecture used by AlexNet, a sequence of Convolutional layers, ReLU nonlinearity, and max-pooling, became the accepted standard that future Computer Vision architectures would extend and built upon. These days, software libraries such as PyTorch are so powerful, and compared to more recent architectures AlexNet is so simple, that it can be implemented in only a few lines of code. Note that many implementations of AlexNet, such as those linked above, use the slight variation of the network described in <a href="https://arxiv.org/abs/1404.5997">One weird trick for parallelizing convolutional neural networks</a> <span data-cites="krizhevsky_one_2014">Krizhevsky (2014)</span>.</p>  <p><strong><strong>Papers</strong></strong></p> <ul> <li><a href="https://arxiv.org/abs/1312.5602">Playing Atari with Deep Reinforcement Learning (2013)</a> <span data-cites="mnih_playing_2013">Mnih et al. (2013)</span></li> </ul> <p><strong><strong>Implementations</strong></strong></p> <ul> <li><a href="https://pytorch.org/tutorials/intermediate/reinforcement_q_learning.html">DQN in PyTorch</a></li> <li><a href="https://www.tensorflow.org/agents/tutorials/1_dqn_tutorial">DQN in TensorFlow</a></li> </ul> <figure> <img src="https://dennybritz.com/assets/deep-learning-most-important-ideas/deep-q-learning-value.png" alt=""><figcaption>Source: <a href="https://deepmind.com/research/publications/human-level-control-through-deep-reinforcement-learning">https://deepmind.com/research/publications/human-level-control-through-deep-reinforcement-learning</a></figcaption> </figure> <p>Building on top of the recent breakthroughs in image recognition and GPUs, a team at DeepMind managed to train a network to <a href="https://www.youtube.com/watch?v=V1eYniJ0Rnk">play Atari Games</a> from raw pixel inputs. What's more, the <em>same</em> neural network architecture learned to play seven different games without being told any game-specific rules, demonstrating the generality of the approach.</p> <p>Reinforcement Learning differs from Supervised Learning, such as image classification, in that an agent must learn maximize to the sum of rewards over multiple time steps, such as winning a game, instead of just predicting a label. Because the agent interacts directly with the environment and each action affects the next, the training data is not independent and identically distributed (iid), which makes the training of many Machine Learning models quite unstable. This was solved by using techniques such as experience replay <span data-cites="lin_self-improving_1992">Lin (1992)</span>.</p> <p>While there was no obvious algorithmic innovation that made this work, the research cleverly combined existing techniques, convolutional neural networks trained on GPUs and experience replay, with a few data processing tricks to achieve impressive results that most people would not have expected. This gave people confidence in extending Deep Reinforcement Learning techniques to tackle even more complex tasks such as <a href="https://deepmind.com/research/case-studies/alphago-the-story-so-far">Go</a>, <a href="https://openai.com/projects/five/">Dota 2</a>, <a href="https://deepmind.com/blog/article/alphastar-mastering-real-time-strategy-game-starcraft-ii">Starcraft 2</a>, and others.</p> <p>Atari Games <span data-cites="bellemare_arcade_2013">Bellemare et al. (2013)</span> have since become a standard benchmark in Reinforcement Learning research. The initial approach only solved (beat human baselines on) seven games, but over the coming years advances built on top of these ideas would start beating humans on an ever increasing number of games. One particular game, Montezuma’s Revenge, was famous for requiring long-term planning and was considered to be among the most difficult to solve. It was only recently <span data-cites="badia_agent57_2020">Badia et al. (2020)</span> <span data-cites="ecoffet_first_2020">Ecoffet et al. (2020)</span> that techniques managed to beat human baselines on all 57 games.</p>  <p><strong><strong>Papers</strong></strong></p> <ul> <li><a href="https://arxiv.org/abs/1409.3215">Sequence to Sequence Learning with Neural Networks</a> <span data-cites="sutskever_sequence_2014">Sutskever, Vinyals, and Le (2014)</span></li> <li><a href="https://arxiv.org/abs/1409.0473">Neural Machine Translation by Jointly Learning to Align and Translate</a> <span data-cites="bahdanau_neural_2016">Bahdanau, Cho, and Bengio (2016)</span></li> </ul> <p><strong><strong>Implementations</strong></strong></p> <ul> <li><a href="https://pytorch.org/tutorials/intermediate/seq2seq_translation_tutorial.html#">Seq2Seq with Attention in PyTorch</a></li> <li><a href="https://www.tensorflow.org/addons/tutorials/networks_seq2seq_nmt">Seq2Seq with Attention in TensorFlow</a></li> </ul> <figure> <img src="https://dennybritz.com/assets/deep-learning-most-important-ideas/seq2seq-cn.gif" alt=""><figcaption>Source: <a href="https://ai.googleblog.com/2017/04/introducing-tf-seq2seq-open-source.html">https://ai.googleblog.com/2017/04/introducing-tf-seq2seq-open-source.html</a></figcaption> </figure> <p>Deep Learning's most impressive results had largely been on vision-related tasks and was driven by Convolutional Neural Networks. While the NLP community had success with <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/">Language Modeling</a> and Translation using LSTM networks <span data-cites="hochreiter_long_1997">Hochreiter and Schmidhuber (1997)</span> and Encoder-Decoder architectures <span data-cites="sutskever_sequence_2014">Sutskever, Vinyals, and Le (2014)</span>, it was not until the invention of the <strong>attention</strong> mechanism <span data-cites="bahdanau_neural_2016">Bahdanau, Cho, and Bengio (2016)</span> that things started to work spectacularly well.</p> <p>When processing language, each token, which could be a character, a word, or something in between, is fed into a recurrent network, such as an LSTM, which maintains a kind of memory of previously processed inputs. In other words, a sentence is very similar to a time series with each token being a time step. These recurrent models often had difficulty dealing with dependencies over long time horizons. When they process a sequence, they would easily "forget" earlier inputs because their gradients needed to propagate through many time steps. Optimizing these models with gradient descent was hard.</p> <p>The new attention mechanism helped alleviate the problem. It gave the network an option to adaptively "look back" at earlier time steps by introducing shortcut connections. These connections allowed the network to decide which inputs are important when producing a specific output. The canonical example is translation: When producing an output word, it typically maps to one or more specific input words.</p>  <p><strong><strong>Papers</strong></strong></p> <ul> <li><a href="https://arxiv.org/abs/1412.6980">Adam: A Method for Stochastic Optimization</a> <span data-cites="kingma_adam_2017">Kingma and Ba (2017)</span></li> </ul> <p><strong><strong>Implementations</strong></strong></p> <ul> <li><a href="https://d2l.ai/chapter_optimization/adam.html">Implementing Adam in Python</a></li> <li><a href="https://pytorch.org/docs/master/_modules/torch/optim/adam.html">PyTorch Adam implementation</a></li> <li><a href="https://github.com/tensorflow/tensorflow/blob/v2.2.0/tensorflow/python/keras/optimizer_v2/adam.py#L32-L281">TensorFlow Adam implementation</a></li> </ul> <figure> <img src="https://dennybritz.com/assets/deep-learning-most-important-ideas/optimizer-benchmark.png" alt=""><figcaption>Source: <a href="http://arxiv.org/abs/1910.11758">http://arxiv.org/abs/1910.11758</a></figcaption> </figure> <p>Neural networks are trained by minimizing a loss function, such as the average classification error, using an optimizer. The optimizer is responsible for figuring out how to adjust the parameters of the network to make it learn the objective. Most optimizers are <a href="https://ruder.io/optimizing-gradient-descent/">based on variations of Stochastic Gradient Descent (SGD)</a>. However, many of these optimizers contain tunable parameters such as a learning rate themselves. Finding the right settings for a specific problem not only reduces training time, but can also lead to better results due to finding a better local minimum of the loss function.</p> <p>Big resarch labs often ran expensive hyperparameter searches that came up with complex learning rate schedules to get the best out of simple but hyperparameter-sensitive optimizers such as SGD. When they …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dennybritz.com/blog/deep-learning-most-important-ideas/">https://dennybritz.com/blog/deep-learning-most-important-ideas/</a></em></p>]]>
            </description>
            <link>https://dennybritz.com/blog/deep-learning-most-important-ideas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25715318</guid>
            <pubDate>Sun, 10 Jan 2021 15:09:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The many lies about reducing complexity part 2: Cloud]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 125 (<a href="https://news.ycombinator.com/item?id=25714822">thread link</a>) | @rapnie
<br/>
January 10, 2021 | https://ea.rna.nl/2021/01/10/the-many-lies-about-reducing-complexity-part-2-cloud/ | <a href="https://web.archive.org/web/*/https://ea.rna.nl/2021/01/10/the-many-lies-about-reducing-complexity-part-2-cloud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>The world has been getting a lot more complex, most people will agree to that. A major element in that rising complexity has been the <a href="https://ea.rna.nl/2020/02/11/a-tipping-point-in-the-information-revolution/">insanely huge amounts of machine logic we human species have been adding to the world</a>. Both that logic itself, as what it enables — think globalisation of trade and communication — has made most of our lives more complex and complicated in one way or another. And while it has brought us much, it also has a serious <a href="https://ea.rna.nl/2020/03/04/gossip-trust-and-the-information-revolution/">number of unwanted side-effects</a>.</p>



<p>We run into the boundaries of our ability to handle that complexity on a daily basis. Be it the large IT projects that invariably run late, cost too much, maybe even straight out fail. Or how we must try to stay secure in a digital world full of brittleness of logic and the weaknesses of humans.</p>



<p>[Note 1: This article is meant to be understandable (with a bit of effort) by non-specialists. There is quite a bit of jargon in it, but I try my best to explain all of it, including a table below with extensive explanation of a number of key terms. If I don’t explain a term, it is safe to ignore it if you don’t know what it is (e.g. when I mention a ‘tomcat server’ as an example), it is helpful for those that know, but not really necessary to know what it is to follow the story]</p>



<p>So, it isn’t a surprise that in IT, a constant drive over the last decennia has been the drive to reduce complexity. <em>‘Reducing complexity’ sells.</em> Especially managers in IT are sensitive to it as complexity generally is their biggest headache. Hence, in IT, people are in a perennial fight to make the complexity bearable. One method that has been popular for decennia has been standardisation and rationalisation of the digital tools we use, a basic “let’s minimise the number of applications we use”. This was actually part 1 of this story: <a href="https://ea.rna.nl/2016/01/10/a-tale-of-application-rationalization-not/">A tale of application rationalisation (not)</a>. That story from 2015 explains how many rationalisation efforts were partly lies. (And while we’re at it: enjoy <a rel="noreferrer noopener" href="http://dilbert.com/strip/2011-01-07" target="_blank">this Dilbert cartoon</a> that is referenced therein.) Most of the time multiple <em>applications</em> were replaced by a single <em>platform</em> (in short: a platform is software that can run other software) and the <em>applications</em> had to be ‘rewritten’ to work ‘inside’ that platform. So you ended up with one <em>extra</em> platform, the <em>same</em> number of applications and generally a few new <em>extra</em> ways of ‘programming’, specific for that platform. That doesn’t mean it is <em>all</em> lies. The new platform is generally dedicated to a certain type of application, which makes programming these applications simpler. But the situation is not as simple as the platform vendors argue. As Frederick Brooks had already told us in 1986: <a href="https://en.wikipedia.org/wiki/No_Silver_Bullet">There Is No Silver Bullet</a>.</p>



<p>Another drive has been to encapsulate (hide) complexity and access it through simpler interfaces. And a third has been to automate IT itself, creating complex ‘management IT’. All three play a role when we start to outsource IT to cloud services like Microsoft Azure or AWS.</p>



<p>[Note 2: This article has gotten out of hand. Totally. Quite long while I don’t digress a lot — as I often do. But exposing hidden complexity cannot be done without presenting it to you. And not understanding how complex the real IT world is leads to bad outcomes. When the software for supporting the Covid-19 vaccination campaign was a few weeks(!) late because testing wasn’t done yet, I read about a leading politician state something like “Come on, a bit of testing, how hard can it be?”. That is a cringeworthy display of not understanding how complex IT is. And that is partly why I write this. Because until our leaders actually start to understand this, they will create more and more disasters out of ignorance. Back to the story.]</p>



<p>Cloud services have generally been explained (sold) to us with a graphic like this:</p>



<figure><img data-attachment-id="172827" data-permalink="https://ea.rna.nl/xaas-orthodox-1/" data-orig-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg" data-orig-size="2519,1755" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xaas-orthodox-1" data-image-description="" data-medium-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=300" data-large-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=720" src="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=1024" alt="" srcset="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=1024 1024w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=2048 2048w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=150 150w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=300 300w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-1.jpeg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>Typical depiction of what is being outsourced when you move to the cloud</figcaption></figure>



<div>
<div>
<p>For non-technical people,  here is a basic explanation of terms used in the above figure and in the text.</p>



<p><span><strong>On Premises</strong></span>: Using your own hardware<br><span><strong>Application</strong></span>: Software that you use, e.g. Microsoft Word.<br><span><strong>Data</strong></span>: The data in your program, say your text in Word.<br><strong><span>Runtime</span>:</strong> Software that is required for other software to run, e.g. basic functionality for Java programs (‘Java runtime’). (Java is a programming language.)<br><span><strong>Middleware</strong></span>: More complex software that is required for other software to run but may also have its own function. E.g. a database.<br><span><strong>Operating System</strong></span>: The lowest layer of software that sits between the machine and all other software. Like Windows or macOS at home.<br><span><strong>Virtualisation</strong></span>: A way to turn one very big real ‘machine’ (computer) into many <em>virtual machines</em> by arranging multiple operating systems to share the big machine. Sharing increases efficiency because not all operating systems are busy at the same time. It also has other advantages.<br><span><strong>Server</strong></span>: The big ‘real’ machine. Like your computer at home but much bigger with multiple processors and lots of memory so it can be shared.<br><span><strong>Storage</strong></span>: Separate machine that is optimised to provide storage (disks), can be used by multiple servers. At home people sometimes have this too in the form of a NAS. These are generally ‘appliances’, that is specialised hardware (in this case with a lot of disks) with specialised software to manage them.<br><span><strong>Networking</strong></span>: Separate machine that enables data traffic between systems. Like your modem, router and Wifi Access Point at home. Again, an appliance with specialised hardware (in this case network interfaces such as wifi antennas and sockets for network cables) that has specialised software to manage these.</p>
</div>



<div>
<p>The suggestion is this: as we move away from our own IT ‘on-premises’ (which includes whatever co-hosting data center you use, in. this context it just means you own your own IT hardware) to more and more in the cloud, we are outsourcing more and more, we are responsible for less, <em>our life simplifies</em>. More cloud is cheaper, simpler and more flexible. What is there not to like?</p>



<p>What there is not to like is that this suggestion is for a large part a lie. And a nasty one.</p>



<p>Take for instance networking. According to the graphic, as soon as you move to the cloud, it’s no longer your responsibility. But that is a lie, except for the rightmost option (SAAS — more about this later). If you set up your IAAS or PAAS in the public cloud — say Microsoft Azure — you have to manage quite a bit of networking. In fact, while Microsoft runs the underlying <em>hardware</em>, much of what has to be managed, will be managed by you. You decide on segmenting, networking, VPNs (virtual private networks — a way to protect traffic between networks), routing firewalls, etc., you’re just using Azure tooling to set it up. It’s easier, but it’s far from all gone.</p>



<p>It is best explained by using an example. Suppose you open up some of your cloud-based systems to access from the public internet? You can do that. And suppose you shouldn’t have, because these systems contain sensitive data? And suppose this data is stolen in a very public breach? Who is to blame? Microsoft for providing you with enough rope to hang yourself, or you? It is clear that if this is a big news story, the heading will not be “Microsoft was lax with its security and management”, but “Company X was lax with its security and management <em>in the cloud</em>“.</p>








</div>
</div>



<p>So, the reality of the situation is therefore more like this:</p>



<figure><img data-attachment-id="172832" data-permalink="https://ea.rna.nl/xaas-orthodox-morerealistic-5/" data-orig-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg" data-orig-size="2541,1766" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="xaas-orthodox-morerealistic-5" data-image-description="" data-medium-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=300" data-large-file="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=720" src="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=1024" alt="" srcset="https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=1024 1024w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=2048 2048w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=150 150w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=300 300w, https://rnaea.files.wordpress.com/2021/01/xaas-orthodox-morerealistic-5.jpeg?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption>A slightly more realistic depiction of self-sourcing versus cloud outsourcing</figcaption></figure>



<p>The hardware — the iron — is indeed something that is completely handled by a cloud provider. This includes things like connecting the server to networks, power, etc., and replacing disk drives, fans, etc. In a fully self-sourced setup this actually turns out to be a limited affair. Most of the work is not hardware these days, it is software. Companies that run their own on-premises data centers don’t have a lot of data center hardware operators. Take the networking engineers. They may lay a few cables to a switch, but after that it is quickly moving to the management console and manage the appliance throughputs management interface — in other words: software work. Networking engineers, storage engineers, and compute engineers alike, their main tool is not a screwdriver, their main tool is a <em>keyboard</em>. Only the basic servers for virtual machines have little in terms of configuration. Networking and storage are <em>appliances</em>, specialised hardware with specialised software. The cloud provider has an interface on top of these that gives you that ‘enough rope to hang yourself with’, i.e. much of this is actually set up and maintained by you. Microsoft doesn’t create or manage your firewall settings, it only offers you an interface to create a virtual firewall running on their appliances and manage that <em>yourself</em>.  So it is a shared responsibility, and especially in networking: you do most of the work in much of the same way you would have to do when you were running your own appliances. Using a firewall in Azure is Microsoft spinning up a virtual appliance for you. And from that moment on, the work is all yours.</p>



<p>The only form of cloud where you really get rid of a lot of responsibility is Software-as-a-Service, or SAAS. That is because SAAS actually simplifies matters… …for the vendor. As explained in the EAPJ article <a href="http://eapj.org/vertical-integration-versus-horizontal-standardisation/">Vertical Integration versus (horizontal) standardisation</a>, the big advantage of SAAS is that the vendor of an application doesn’t need to support a myriad of technical landscapes out there, no myriad of different Linux versions, Java versions, as well as their configurations (security baselines, anyone?), just a single stack they fully manage themselves. That brings a huge standardisation for the vendor, and the advantage of that can be sold (in part) to the customer. Your responsibility is generally limited to a bit of Application tinkering (maybe add plugins, do some configuration) and of course your content. (And even the almost total outsourcing of SAAS is a little lie …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ea.rna.nl/2021/01/10/the-many-lies-about-reducing-complexity-part-2-cloud/">https://ea.rna.nl/2021/01/10/the-many-lies-about-reducing-complexity-part-2-cloud/</a></em></p>]]>
            </description>
            <link>https://ea.rna.nl/2021/01/10/the-many-lies-about-reducing-complexity-part-2-cloud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25714822</guid>
            <pubDate>Sun, 10 Jan 2021 14:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I ignored my slowly worsening mental health, and got hit hard by OCD (a caution)]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25714408">thread link</a>) | @coolvision
<br/>
January 10, 2021 | https://grgv.xyz/ocd/ | <a href="https://web.archive.org/web/*/https://grgv.xyz/ocd/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>Have you seen “Aviator”, a movie with Leonardo DiCaprio about Howard Hughes? Then you might recall what an OCD is.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/2fXF8G50BPQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<p><strong><a href="https://en.wikipedia.org/wiki/Obsessive%E2%80%93compulsive_disorder">Obsessive–compulsive disorder</a>&nbsp;(OCD) is a&nbsp;mental disorder&nbsp;in which a person has&nbsp;certain thoughts ”repeatedly&nbsp;(called "obsessions") or feels the need to perform&nbsp;certain routines repeatedly&nbsp;(called ”compulsions") to an extent which generates distress or impairs general functioning</strong></p>
<p>I have a mild form of OCD. Had it since teenage years. It rarely bothered me, and I mainly did not care about it much. It manifested itself maybe few times per year, where I would have to re-check if the door is locked few times, for example (which does not seem like a huge burden).</p>
<p>And so, I felt great in autumn and in the first half of December. Everything was fine, I have a job that I love, great family, and hobbies that I enjoy.</p>
<p>Then, this winter came, and It got worse. I live in a northern country (Estonia), daylight time is very short, and although I don’t suffer from SAD too much usually, it might have been a factor. And I usually try to get some vacation in warmer countries, but this year did not do it because of COVID. I also started to work from home, and it probably added to the feeling of isolation and brought me down more.</p>
<p>All in all, I don’t know what were that main factors, but probably the whole combination was just a bit  too much. Occasional obsessions and compulsions started to show up more, but I mainly just shrugged them off. Then, closer to the new year, it stared to get even worse.</p>
<p><strong>And now it’s at a point where I need professional help, It's hard to work, I lost lots of weight, have bad anxiety all the time, and all the obsessions make my behaviour erratic at times.</strong> And yet another problem — its actually hard to find professional help quickly! It can be weeks or months until finding a therapist. Thakfully, I was able to secure an appointment within a weel, but not all people are as lucky.</p>
<p><em>My main mistake was not looking for warning signs of illness.</em> It was “today it’s fine, then all will be fine” attitude, which is a big mistake.</p>
<p>Yes, my case is slightly exotic, but it relates to all other mental health issues: depression, anxiety, panic attacks, etc… <a href="https://www.nimh.nih.gov/health/statistics/mental-illness.shtml">Nearly 20% of people have some form of mental illness</a>, and some of the issues might not seem like a big deal until they hit hard.</p>
<p>As a tale of caution, I have some advice, which I will follow religiously in future. This is relatively obvious and simple, but let my example be a bit of a motivation to take it more seriously.</p>
<ul>
<li>Maintain mood logging, and journal regularly. It would help to notice any anomalies and problems before they become serious. Don’t shrug off warning signs!</li>
<li>Find mental health checklists, like <a href="https://www.beyondblue.org.au/the-facts/anxiety-and-depression-checklist-k10">https://www.beyondblue.org.au/the-facts/anxiety-and-depression-checklist-k10</a>, check yourself time from time,</li>
<li>Therapy is important, especially in this times. I never did therapy, and now regret it.</li>
<li>Fitness, meditation, good diet and all kinds of self care — in this time of increased isolation it’s not just some random good habits, treating this seriously is a very important part of well-being.</li>
</ul>


			</div></div>]]>
            </description>
            <link>https://grgv.xyz/ocd/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25714408</guid>
            <pubDate>Sun, 10 Jan 2021 13:21:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teacher creates ingenious exam question to find cheaters and catches 14 students]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 94 (<a href="https://news.ycombinator.com/item?id=25713861">thread link</a>) | @ColinWright
<br/>
January 10, 2021 | https://www.irishmirror.ie/news/weird-news/teacher-creates-ingenious-exam-question-23228848 | <a href="https://web.archive.org/web/*/https://www.irishmirror.ie/news/weird-news/teacher-creates-ingenious-exam-question-23228848">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><form data-mod="skinnySignup" data-json="{&quot;mailingListId&quot;:&quot;37995&quot;,&quot;displayName&quot;:&quot;daily&quot;,&quot;callToAction&quot;:&quot;<p>Get all the very latest news in Ireland straight to your email every single day</p>&quot;,&quot;buttonText&quot;:&quot;Sign up!&quot;,&quot;contentId&quot;:6321963,&quot;newsletterImage&quot;:&quot;https://i2-prod.irishmirror.ie/incoming/article22352084.ece/BINARY/1_Covid-19-Scenes90466558.jpg&quot;,&quot;endpointUrl&quot;:&quot;https://response.pure360.com/interface/list.php&quot;,&quot;profile&quot;:&quot;Irish_Mirror&quot;,&quot;isPure360NewsLetter&quot;:true,&quot;pure360MailingListId&quot;:&quot;Irish Mirror - Daily Newsletter&quot;,&quot;newsletterSiteName&quot;:&quot;Irish Mirror&quot;}"><div><div><div><p><span><span>When you subscribe we will use the information you provide to send you these newsletters. Sometimes theyâ€™ll include recommendations for other related newsletters or services we offer. Our</span><a href="https://www.irishmirror.ie/privacy-notice/">Privacy Notice</a><span>explains more about how we use your data, and your rights. You can unsubscribe at any time.</span></span></p></div></div><p><span>Invalid Email</span></p></div></form><!-- Article Start--><p>Students who assumed their teacher 'on the older side' wouldn't be familiar with the latest cheating methods were caught red handed when he devised a brilliant method to catch them out.</p> <p>A pupil in the engineering class explained that when they all sat down to take their final exam, about half the class left the room to use the bathroom during the test - far more than the usual.</p> <p>The student said they assumed the vast majority were looking up answers on their phone, which 'irritated me' but they stayed focused and made their way through the paper.</p> <p>After leaving the exam hall, the pupil remembered there was one particular question that wasn't related to what they had all been taught in class, which had two parts - the Mirror UK reports.</p> <p>Part A was 'fairly easy' but they had no idea how to do part B, so they simply left it blank as it only accounted for 5 marks out of 100.</p> <figure data-mod="image" itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject">
<meta itemprop="url" content="https://i2-prod.mirror.co.uk/incoming/article11553649.ece/ALTERNATES/s615b/0_Tests-on-table.jpg">
<meta itemprop="width" content="615">
<meta itemprop="height" content="410">
<div>

<p><img data-src="https://i2-prod.mirror.co.uk/incoming/article11553649.ece/ALTERNATES/s615b/0_Tests-on-table.jpg" alt="" content="https://i2-prod.mirror.co.uk/incoming/article11553649.ece/ALTERNATES/s615b/0_Tests-on-table.jpg" src="https://i2-prod.mirror.co.uk/incoming/article11553649.ece/ALTERNATES/s615b/0_Tests-on-table.jpg">
</p>
</div>
<figcaption>
<span itemprop="author"> (Image: Tetra images RF)</span>
</figcaption>
</figure> <p>When all the exams had been marked, their teacher sent all the university students an email to explain his diabolical plan to catch out those who had given themselves some outside help.</p> <p>Many of the pupils used the internet to find answers to exam and homework questions.</p> <p>Their teacher decided to use it against them after becoming fed up with students using the bathroom as an excuse to look up answers on their phones.</p> <section data-embed-group="read-more" data-embed-items="2" data-ad-dockable="true">   </section> <p>The student wrote on Reddit: "He purposely made part B impossible to solve, and about a month before the final he got a teaching assistant to ask the exact question [online], which was distinctly worded to be unique.</p> <p>"He then created his own account and answered the question with a bulls*** solution that seems right at first glance but is actually fundamentally flawed and very unlikely that someone would make the same assumptions and mistakes independently."</p> <p>From the 99 exams handed in, 14 of them fell for the trick and gave the exact answer their own teacher had posted online.</p> <p>All were given an overall score of zero and reported to the university for violating the academic honor pledge they had signed.</p> <p>Their names were also circulated to all the other teachers in the department as known cheaters - and all the other students who hadn't cheated were given full marks for the bogus question.</p> <p>Others were impressed with cunning plan, with one replying: "This is Amazing! I've seen some stories like this and it always makes me glad I don't use [the internet] for tests.</p> <p>"Honestly if you're cheating on a proctored test you deserve to get caught. Study like everyone else."</p> <p>A second wrote: "Honey pot the cheating site. Genius!"</p><!-- Article End--></div></div>]]>
            </description>
            <link>https://www.irishmirror.ie/news/weird-news/teacher-creates-ingenious-exam-question-23228848</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713861</guid>
            <pubDate>Sun, 10 Jan 2021 12:03:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Using flamegraphs to read big HN threads]]>
            </title>
            <description>
<![CDATA[
Score 241 | Comments 58 (<a href="https://news.ycombinator.com/item?id=25713858">thread link</a>) | @trungdq88
<br/>
January 10, 2021 | https://trungdq88.github.io/hn-big-threads/index.html | <a href="https://web.archive.org/web/*/https://trungdq88.github.io/hn-big-threads/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <p>
        Loading... https://news.ycombinator.com/item?id=25706993
      </p>
    </div></div>]]>
            </description>
            <link>https://trungdq88.github.io/hn-big-threads/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713858</guid>
            <pubDate>Sun, 10 Jan 2021 12:03:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Polar Vortex collapse sequence has begun]]>
            </title>
            <description>
<![CDATA[
Score 258 | Comments 187 (<a href="https://news.ycombinator.com/item?id=25713704">thread link</a>) | @makepanic
<br/>
January 10, 2021 | https://www.severe-weather.eu/global-weather/polar-vortex-collapse-winter-weather-europe-united-states-2021-fa/ | <a href="https://web.archive.org/web/*/https://www.severe-weather.eu/global-weather/polar-vortex-collapse-winter-weather-europe-united-states-2021-fa/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p><strong>A Polar Vortex collapse sequence has begun in late December 2020, with a major Sudden Stratospheric Warming event on January 5th, 2021. We will look at the sequence of these events, and how they can change the weather in Europe and the United States in the coming weeks.</strong></p>
<p>The main “player” in these weather events, is of course the <strong>Polar Vortex</strong>. It connects the bottom of the atmosphere (our weather) with the stratosphere above it. A strong exchange of energy between these two layers can heavily disrupt the weather development across the Northern Hemisphere.</p>
<h5><span><strong>WHAT IS THE POLAR VORTEX?</strong></span></h5>
<p>Since knowledge is the key, we will do a quick recap of what exactly is the Polar Vortex.</p>
<p>All of the clouds (and the weather that we feel) are found in the lowest part of the atmosphere called the <span><strong>troposphere</strong></span>. It reaches up to around 8 km (5 miles) altitude over the polar regions and up to around 14-16 km (9-10 miles) over the tropics.</p>
<p>Above it, there is a much deeper layer called the <span><strong>stratosphere</strong></span>. This layer is around 30 km thick and is very dry. We can see the layers of the atmosphere on the image below, with the <span>stratosphere</span> in green hues, and the <span>troposphere</span> in blue at the bottom.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-stratosphere-weather-warming-atmospheric-layers.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-stratosphere-weather-warming-atmospheric-layers.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-stratosphere-weather-warming-atmospheric-layers.jpg" data-image-id="21664" data-title="polar-vortex-stratosphere-weather-warming-atmospheric-layers" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-stratosphere-weather-warming-atmospheric-layers.jpg-nggid0521664-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-stratosphere-weather-warming-atmospheric-layers" title="polar-vortex-stratosphere-weather-warming-atmospheric-layers" width="475" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20475%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-stratosphere-weather-warming-atmospheric-layers.jpg-nggid0521664-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>Every year as we head into autumn, the north pole starts to cool. But the atmosphere further south is still relatively warm as it is still receiving energy from the Sun. The north pole receives very little sunlight and thermal energy, cooling at a faster rate.</p>
<p>The reduction in temperature also means a gradual pressure drop over the north pole. In the stratosphere, the process is the same. As the temperature drops over the pole and the temperature difference towards the south increases, a low-pressure area starts to develop across the stratosphere.</p>
<p>The image below shows a typical example of the Polar Vortex at around 30km altitude (10mb level) in the middle stratosphere.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-over-north-pole-winter.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-over-north-pole-winter.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-over-north-pole-winter.jpg" data-image-id="21663" data-title="polar-vortex-over-north-pole-winter" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-over-north-pole-winter.jpg-nggid0521663-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-over-north-pole-winter" title="polar-vortex-over-north-pole-winter" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-over-north-pole-winter.jpg-nggid0521663-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>It is almost like a very large cyclone, covering the whole north pole, down to the mid-latitudes. The polar vortex is present at all levels, almost from the ground up. The image below shows the polar vortex at different altitudes. The closer to the ground we get, the more deformed it gets, due to the complex terrain and the many weather fronts and systems.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-winter-weather-warming-north-hemisphere.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-winter-weather-warming-north-hemisphere.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-winter-weather-warming-north-hemisphere.png" data-image-id="21666" data-title="polar-vortex-winter-weather-warming-north-hemisphere" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-winter-weather-warming-north-hemisphere.png-nggid0521666-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-winter-weather-warming-north-hemisphere" title="polar-vortex-winter-weather-warming-north-hemisphere" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-winter-weather-warming-north-hemisphere.png-nggid0521666-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>We produced a high-resolution video for you below, which very nicely shows the Polar Vortex spinning over the Northern Hemisphere. It covers the period from December 2020 to January 2021, made from NASA GEOS-5 data.</p>
<p>Video shows the 10mb level (30km altitude) potential vorticity parameter, which overly simplified means, that it shows the energy of the polar vortex. Be aware of how the energy is being taken away from the polar vortex by the invisible polar Anticyclones (having a different kind of power), spinning in the opposite direction.</p>


<h5><span><strong>SUDDEN STRATOSPHERIC WARMING</strong></span></h5>
<p>&nbsp;<br>
As a general reference, we usually look at the polar vortex in the stratosphere at the 10mb level. That is around 28-32km (17-20 miles) altitude. This is considered to be around the middle stratosphere, and thus a good representation of the general dynamics of the polar vortex.</p>
<p>The strength of the polar vortex is most often measured by the power of the winds inside it. Usually, this is done is by measuring the zonal (west to east) wind speeds around the polar circle (60°N latitude).</p>
<p>Below we have an analysis from the NASA monitoring system, where we can see a very interesting progression. In early December, the polar vortex was at a quite strong level, reaching 40m/s zonal wind speeds. Problems began towards the mid-month, and especially towards late December when the stratospheric warming began. All graphics below are at the 10mb level (~30km altitude).</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast.jpg" data-image-id="21665" data-title="polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast.jpg-nggid0521665-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast" title="polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-zonal-wind-forecast.jpg-nggid0521665-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>Below is an image from the video we showed you earlier in the article, and it shows a quite healthy polar vortex in early December. It has a nice shape and a healthy spinning core.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-early-december.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-early-december.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-early-december.png" data-image-id="21669" data-title="polar-vortex-splitting-weather-winter-united-states-europe-early-december" data-description="" target="_self">
 <img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-early-december.png-nggid0521669-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-early-december" title="polar-vortex-splitting-weather-winter-united-states-europe-early-december" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-early-december.png-nggid0521669-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Towards mid-December, the pressure from the North Pacific was rising, with an Anticyclonic presence there gaining strength. The anticyclonic circulation was slowly getting stronger, starting to drain some energy away from the polar vortex, and changing its shape.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-mid-december.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-mid-december.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-mid-december.png" data-image-id="21672" data-title="polar-vortex-splitting-weather-winter-united-states-europe-mid-december" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-mid-december.png-nggid0521672-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-mid-december" title="polar-vortex-splitting-weather-winter-united-states-europe-mid-december" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-mid-december.png-nggid0521672-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>By late December, the Pacific/East Asian Anticyclone became quite a force, now draining a lot of energy from the Polar Vortex and actually becoming visible.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-late-december.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-late-december.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-late-december.png" data-image-id="21670" data-title="polar-vortex-splitting-weather-winter-united-states-europe-late-december" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-late-december.png-nggid0521670-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-late-december" title="polar-vortex-splitting-weather-winter-united-states-europe-late-december" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-late-december.png-nggid0521670-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>At a similar time in late December, a warming sequence began, from Europe over into central Asia. It was starting to engulf the outside layers of the polar vortex. The cold-core of the polar vortex is still rather intact at this point, holding temperatures colder than -80°C in the center over Greenland.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-warming-start.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-warming-start.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-warming-start.png" data-image-id="21673" data-title="polar-vortex-splitting-weather-winter-united-states-europe-warming-start" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-warming-start.png-nggid0521673-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-warming-start" title="polar-vortex-splitting-weather-winter-united-states-europe-warming-start" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-warming-start.png-nggid0521673-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Just two days later, the warming wave reached a local peak over Siberia, with maximum temperatures in the wave reaching up to +5°C or higher.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming.png" data-image-id="21674" data-title="polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming.png-nggid0521674-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming" title="polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-peak-stratospheric-warming.png-nggid0521674-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>On January 5th, the preliminary date of the Sudden Stratospheric Warming event was marked, as the winds around the polar circle have reversed. We can see how massive and strong the Anticyclone has now become, pushing strongly against the polar vortex (bright white). Together with the warming wave, the strong Anticyclonic system has deformed the once circular polar vortex into a banana-shaped feature.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2021.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2021.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-january-2021.png" data-image-id="21668" data-title="polar-vortex-splitting-weather-winter-united-states-europe-january-2021" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2021.png-nggid0521668-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-january-2021" title="polar-vortex-splitting-weather-winter-united-states-europe-january-2021" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2021.png-nggid0521668-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>The warming wave has crawled over the entire North Pole in the stratosphere, effectively splitting the cold-core of the polar vortex into two parts. One over North America and one over the European sector. At this point, this does not have much to do directly with the weather on the surface, as it is at 30km altitude, but we will get to weather effects soon.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event.png" data-image-id="21675" data-title="polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event.png-nggid0521675-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event" title="polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-major-warming-event.png-nggid0521675-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Looking quickly at the forecast, we can see that the stratospheric Anticyclone will hold stable and move further over the North Pole. It will continue pushing against the very broken polar vortex.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast.png" data-image-id="21671" data-title="polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast.png-nggid0521671-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast" title="polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2021-forecast.png-nggid0521671-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>At this point, a new warming wave is also forecasted to start, which should temporarily prevent any quick reorganization and strengthening of the stratospheric circulation.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast.png" data-image-id="21676" data-title="polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast.png-nggid0521676-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast" title="polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-stratosphere-forecast.png-nggid0521676-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>Taking a look at the <a href="https://ozonewatch.gsfc.nasa.gov/meteorology/NH.html">NASA</a> temperature analysis for the stratosphere, we can see the large temperature spike at the 10mb (30km) level, which is in the middle stratosphere. The second image shows the temperature analysis in the lower stratosphere at 50mb (20km) level, also having a very clear temperature spike.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis.jpg" data-image-id="21679" data-title="polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis.jpg-nggid0521679-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis" title="polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-middle-stratosphere-temperature-analysis.jpg-nggid0521679-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis.jpg" data-image-id="21678" data-title="polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis.jpg-nggid0521678-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis" title="polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-lower-stratosphere-temperature-analysis.jpg-nggid0521678-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<p>Looking even lower, we have the 150mb level, which is kinda the boundary or the “buffer zone” between the stratosphere and the troposphere. Here we can also see the temperature spike, meaning the warming event was fairly robust and fast.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis.jpg" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis.jpg" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis.jpg" data-image-id="21677" data-title="polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis.jpg-nggid0521677-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg" alt="polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis" title="polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-buffer-zone-temperature-analysis.jpg-nggid0521677-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.jpg">
</a>
</p>
<h5><span><strong>HISTORICAL WEATHER, FOR THE FUTURE</strong></span></h5>
<p>&nbsp;<br>
Before looking closer at the weather forecasts and their relation to the polar vortex, we need to look at some historic examples of similar events. History can sometimes be the best teacher for the future, and in science, this can be true more often than not.</p>
<p>Below we have 2 images, which both are quite simple to read and understand. They show time from left to right, and altitude from bottom to top. Colors show the temperature anomaly, with red being warmer than normal and blue was colder than normal. We can nicely track the progress of stratospheric warming events over time and altitude.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event.png" data-image-id="21683" data-title="polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event.png-nggid0521683-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event" title="polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2004-ssw-event.png-nggid0521683-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event.png" data-image-id="21681" data-title="polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event.png-nggid0521681-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event" title="polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-january-2013-ssw-event.png-nggid0521681-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>We can see the progression of warming from the top of the stratosphere, going downwards over time. The first image shows the 2004 stratospheric warming event and the second graphic shows the 2013 event.</p>
<p>The important takeaway is that the warming progresses quite fast down into the troposphere and can start to quickly affect our weather. But it usually stops around 100mb or 150mb level (12-15km). That is normal, due to the fact that we can see a lot of strong weather systems in our troposphere, which can in some cases deflect/reverse any incoming effects from the stratosphere.</p>
<p>Below we have similar two images, but with pressure anomalies instead of temperature. But here you can actually see the connecting points between high pressure coming downwards and the surface layer in the polar region. In both cases, the final effect was seen as individual connections to the bottom levels over time, interfering with the weather development. This indicates that the influence from the Polar Vortex collapse events is periodically interfering with the weather development on a sub-seasonal scale, kinda like waving or resonating.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution.png" data-image-id="21680" data-title="polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution.png-nggid0521680-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution" title="polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-2004-atmospheric-pressure-evolution.png-nggid0521680-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution.png" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution.png" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution.png" data-image-id="21682" data-title="polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution.png-nggid0521682-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png" alt="polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution" title="polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-2013-atmospheric-pressure-evolution.png-nggid0521682-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.png">
</a>
</p>
<p>We don’t yet have the same graphic for 2021, for obvious reasons, since we still need more data to be gathered. But we can look at the forecast data in a similar image below.</p>
<p>What we are seeing is a very similar pattern as in 2004 and 2013. The negative values in this image represent higher pressure. So we can see the descending high-pressure, making individual contacts with the lower layers. This means that the influence is not a constant every time, but rather periodic.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time.PNG" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time.PNG" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time.PNG" data-image-id="21689" data-title="polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time.PNG-nggid0521689-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.PNG" alt="polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time" title="polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E" data-lazy-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-splitting-weather-winter-united-states-europe-pressure-anomaly-over-time.PNG-nggid0521689-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.PNG">
</a>
</p>
<p>We also decided to look at the weather patterns prior to the 2004 and 2013 events. And we can see in the images below. We can see on the first image for 2004, that the pattern was already positioned for colder weather over Europe, thanks to the strong high-pressure system in the North Atlantic. The United States was generally milder, with southerly flow dominating much of the CONUS.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event.gif" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event.gif" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event.gif" data-image-id="21688" data-title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event.gif-nggid0521688-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.gif" alt="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event" title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2004-ssw-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E">
</a>
</p>
<p>In 2013, the picture was kinda the opposite. The pattern over the United States was generally colder than in 2004, while Europe was mild to warm even at this point.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event.gif" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event.gif" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event.gif" data-image-id="21686" data-title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event.gif-nggid0521686-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.gif" alt="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event" title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2013-ssw-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E">
</a>
</p>
<p>This winter, the pattern is kinda a combination of both. We have another cooler/colder episode over Europe like in 2004, thanks to the high-pressure systems in the North Atlantic. At the same time, we also heed a few decent cold episodes over the United States as well.</p>
<p><a href="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event.gif" title="" data-src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event.gif" data-thumbnail="https://www.severe-weather.eu/wp-content/gallery/andrej-news/thumbs/thumbs_polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event.gif" data-image-id="21692" data-title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event" data-description="" target="_self">
<img src="https://www.severe-weather.eu/wp-content/gallery/andrej-news/cache/polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event.gif-nggid0521692-ngg0dyn-700x700x100-00f0w010c010r110f110r010t010.gif" alt="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event" title="polar-vortex-weather-winter-united-states-europe-pressure-pattern-before-2021-ssw-event" width="700" data-old-src="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20700%200'%3E%3C/svg%3E">
</a>
</p>
<p>But after the Polar Vortex breakdown and the stratospheric warming event, the pressure patterns changed quite importantly in 2004 and also in 2013. The image below is the pressure pattern one month after the Polar Vortex collapse in 2004. The strong high pressure in the North Atlantic has been replaced by a strong deep low-pressure system, and the high-pressure has moved into the Arctic …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.severe-weather.eu/global-weather/polar-vortex-collapse-winter-weather-europe-united-states-2021-fa/">https://www.severe-weather.eu/global-weather/polar-vortex-collapse-winter-weather-europe-united-states-2021-fa/</a></em></p>]]>
            </description>
            <link>https://www.severe-weather.eu/global-weather/polar-vortex-collapse-winter-weather-europe-united-states-2021-fa/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713704</guid>
            <pubDate>Sun, 10 Jan 2021 11:40:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Prosody developers spent 2020]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 41 (<a href="https://news.ycombinator.com/item?id=25713679">thread link</a>) | @upofadown
<br/>
January 10, 2021 | https://blog.prosody.im/2020-retrospective/ | <a href="https://web.archive.org/web/*/https://blog.prosody.im/2020-retrospective/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          
  


  <div>

    

    
    <div>
      <p><small>
        <p><time datetime="2021-01-08T00:00:00Z">
          2021-01-08
        </time> by The Prosody Team
         
        <br>
        
        </p>
        

        
        
        <br>

      </small></p>
    </div>
    <p>Nobody here knew quite what a year 2020 was going to be! However despite
pandemics and lockdowns, we have continued to work on Prosody. This post
is a summary of how the project is doing, and what we’ve been up to in
the past year.</p>

<p>One quick note before we begin… Prosody is an independent open-source
project and exists only because the developers have been fortunate enough
to be in a position to work on it. A couple of core team members are
currently looking for freelance work. If you have projects in need of a
Prosody expert, check the bottom of this post for more details!</p>

<h2 id="more-users-than-ever-before">More users than ever before</h2>

<p>Prosody does not “phone home” in any way, which means we do not have a
lot of insight into how many people are using Prosody. But there are
some indicators that we can use to see at least the growth of the project.</p>

<p>Many years ago, circa 2014, I was filling out a form that asked how
many users the project had. I thought long and hard, but with no idea how
to measure, I wrote down an estimate of “500” based on nothing but a gut
feeling. Only a few weeks later I learned that the <a href="https://xmpp.net/">XMPP Observatory</a>
had already seen <strong>over 2200 domains</strong> submitted that were running Prosody.
As most deployments were unlikely to have been submitted to xmpp.net, my
estimate was clearly far out. These days I jump at any chance for even a
vague estimate of our userbase. It helps us to know that people are out
there!</p>

<p>One useful tool is <a href="https://shodan.io/">Shodan</a>. This project scans the
entire internet, just to see what it can find, and it records the results.
Often used by academics and security researchers, a free account can also
be used by anyone to run simple queries over the data they collect.</p>

<p>A Shodan search in 2017 turned up nearly 7000 Prosody deployments. The
same search 8 months later returned over 16000. Today we’re at <strong>over 52000
Prosody servers!</strong> And this only counts instances using port 5269 and
accessible to the internet. There are also many private/internal deployments
of Prosody that are not included in these numbers. Unfortunately we
didn’t run a report in 2019, but here’s a graph of the previous
reports we have run:</p>

<p><img src="https://blog.prosody.im/2020-retrospective/prosody-shodan-2020.svg" alt="Graph of Prosody server counts in previous paragraph"></p>

<p>Shodan reports over 85000 federating XMPP servers on port 5269 in total.
Based on this, Prosody makes up 44% of the public XMPP network. That’s
quite an achievement!</p>

<p>Another handy insight into one sector of Prosody deployments is via Debian’s
<a href="https://popcon.debian.org/">“popularity contest”</a> service. This is an
automated survey that administrators of Debian servers can choose to opt
into. It reports anonymously to Debian what software packages are installed
and in use. Although it reflects only a small slice of even Debian
installations, it is useful to see trends.</p>

<p>March 2020 marked an unprecedented spike in Prosody installations!</p>

<p><img src="https://blog.prosody.im/2020-retrospective/prosody-popcon-20201231.png" alt="Graph of Debian popularity contest data for prosody"></p>

<p>Although we don’t know for certain, we suspect this was caused by an surge
of interest in the self-hosted video conferencing software, <a href="https://jitsi.org/jitsi-meet/">Jitsi Meet</a>. Jitsi Meet integrates with Prosody, which is used to power the
authentication, signaling and chat of the video conferences. Jitsi’s <a href="https://jitsi.org/jitsi-videobridge/">Videobridge</a> component handles the media routing. Together they make
a very powerful and flexible communication system, and it is hardly surprising
that interest has spiked this year when there has been a massive shift to
remote work, and online meetings have replaced physical ones.</p>

<h2 id="the-code-counts">The code counts</h2>

<p>Now let’s look at some stats about the Prosody codebase itself.</p>

<table>
<thead>
<tr>
<th>Language</th>
<th>Files</th>
<th>Code</th>
<th>Comment</th>
<th>Comment %</th>
<th>Blank</th>
<th>Total</th>
</tr>
</thead>

<tbody>
<tr>
<td>Lua</td>
<td>295</td>
<td>48358</td>
<td>3536</td>
<td>6.8%</td>
<td>6483</td>
<td>58377</td>
</tr>

<tr>
<td>C</td>
<td>13</td>
<td>2613</td>
<td>346</td>
<td>11.7%</td>
<td>643</td>
<td>3602</td>
</tr>

<tr>
<td>Other (build tools, etc.)</td>
<td>11</td>
<td>1551</td>
<td>22</td>
<td>6.3%</td>
<td>138</td>
<td>1711</td>
</tr>

<tr>
<td>————————-</td>
<td>——</td>
<td>———-</td>
<td>———-</td>
<td>———-</td>
<td>———-</td>
<td>———</td>
</tr>

<tr>
<td>Total</td>
<td>323</td>
<td>54760</td>
<td>3909</td>
<td>6.7%</td>
<td>7265</td>
<td>65934</td>
</tr>
</tbody>
</table>

<h3 id="changes-in-2020">Changes in 2020</h3>

<p>In 2020 (looking at the development branch) we added 597 commits, changing
191 files. The changes added 9872 lines of code, and 3637 lines of code
were removed.</p>

<p>A significant portion of the new lines were in our unit and integration
tests (2200 lines, about 22%) which we have been working hard to expand
over the past couple of years.</p>



<p>If you use Prosody, you know we have an emphasis on modularity and
extensibility. We like to make <a href="https://prosody.im/doc/developers/modules">developing plugins for Prosody</a> as easy as possible, whether it’s for integration with other
systems or crazy experiments.</p>

<p>Here’s a random selection of the 363 modules currently in the repository:</p>

<dl>
<dt><a href="https://modules.prosody.im/mod_muc_eventsource">mod_muc_eventsource</a></dt>
<dd>Receive messages from MUC rooms with 4 lines of Javascript</dd>
<dt><a href="https://modules.prosody.im/mod_log_ringbuffer.html">mod_log_ringbuffer</a></dt>
<dd>Send debug logs to RAM unless they are needed.</dd>
<dt><a href="https://modules.prosody.im/mod_component_client">mod_component_client</a></dt>
<dd>Allow a Prosody server to run as a (XEP-0114) external component of
another (Prosody or not) XMPP server.</dd>
<dt><a href="https://modules.prosody.im/mod_firewall">mod_firewall</a></dt>
<dd>Powerful rules-based scripts for filtering and redirecting XMPP traffic.</dd>
<dt><a href="https://modules.prosody.im/mod_minimix">mod_minimix</a></dt>
<dd>An <strong>experiment</strong> in making MUC joins persistent (like MIX).</dd>
</dl>

<p>During 2020 we saw 37 new modules published in the <a href="https://modules.prosody.im/">community repository</a>,
and 499 commits from 19 contributors. Together they added over 10,000
lines of code (and removed 728 lines). This makes it our most active
year apart from 2018!</p>

<p>Outside of the Prosody dev team, the most active contributor was
<a href="https://wiki.xmpp.org/web/Severino_Ferrer_de_la_Pe%C3%B1ita_Application_2020">Seve</a>, who also made their first contribution this year and added a total of four new modules.
Welcome aboard!</p>

<h2 id="features">Features</h2>

<p>But the most important part… what features have we been working on? All
these things are scheduled for the 0.12 release (more on that in a bit).</p>

<h3 id="plugin-installer">Plugin installer</h3>

<p>We have been applying further polish to, and setting up the infrastructure
for the plugin installer. This was a Google Summer of Code project by
<a href="https://gsoc-prosody-2019.blogspot.com/">João Duarte</a>. It utilizes the
Lua package manager, LuaRocks, to download, install and manage community
modules.</p>

<p>Although the the installer was completed in 2019, to make it generally
usable we also had to ensure every module in the <a href="https://modules.prosody.im/">community repository</a>
could be packaged and served in an automated way by our server. We now
have this working.</p>

<h3 id="bye-bye-telnet-hello-prosodyctl-shell">Bye bye telnet, hello prosodyctl shell!</h3>

<p>The telnet console is one of the best things about Prosody, and we’ve
been working on its successor. An early version of <code>prosodyctl shell</code> is
already available to try out in trunk nightly builds.</p>

<p>Using prosodyctl allows us to more easily support advanced features such
as line editing and history (previously attainable using a third-party
utility, rlwrap). It also allows for some richer UIs and is more secure
on shared servers (it uses a unix socket instead of TCP).</p>

<h3 id="dns-improvements">DNS improvements</h3>

<p>Since Prosody needs to resolve special DNS record types (such as SRV
records) and in an asynchronous manner, the built-in operating system APIs
are generally inadequate.</p>

<p>For a long time we’ve been using an adopted library simply known as
‘dns.lua’ combined with our own asynchronous wrapper around it. Although
it hasn’t been terrible, it has a few issues, especially in some uncommon
environments. It also doesn’t support many advanced features such as DNSSEC.</p>

<p>Now we are migrating to libunbound, part of the <a href="https://github.com/coredns/unbound">unbound</a>
project. This is one of the leading DNS implementations, and will be a
big improvement over our current DNS library. To try it out, you can
simply install <a href="https://www.zash.se/luaunbound.html">luaunbound</a> (already
available in luarocks, Debian testing, AUR and others - poke your distro
maintainers if you don’t have it yet!).</p>

<h3 id="http-server-upload-performance">HTTP server upload performance</h3>

<p>We didn’t set out to write a HTTP server, but we ended up with one anyway!
Originally added so that we could natively support BOSH (XMPP over HTTP)
clients, it grew to support websockets, and various modules now provide
HTTP APIs for integration between Prosody and other systems.</p>

<p>One big problem is that the original implementation was designed for only
small amounts of data. Since the widespread of adoption of
<a href="https://xmpp.org/extensions/xep-0363.html">XEP-0363</a> people now want to
be able to upload files, pictures and videos using Prosody’s internal
HTTP server. We have limits in place to protect against denial of service
attacks, but those same limits prevent large uploads from trusted users.</p>

<p>We’ve put some work into supporting “streaming uploads”, where incoming
data can be saved directly to disk instead of RAM. This means it will be
safe to increase file upload limits without opening up your server to
increase RAM usage and denial of service attacks.</p>

<p>In general though, we do recommend using a real external HTTP server in
a production or high traffic deployment (using <a href="https://modules.prosody.im/mod_http_upload_external">mod_http_upload_external</a>).</p>

<h3 id="beyond-passwords">Beyond passwords</h3>

<p>Passwords are the fundamental means of authenticating to your server in
XMPP today. XMPP is quite good at this, adopting strong standard authentication
mechanisms such as SCRAM far earlier than the rest of the industry. But
the rest of the industry is also moving away from passwords in many places.
We’re aiming to follow this movement also. Not that we are scrapping passwords
entirely, but making it easier to offer alternatives.</p>

<p>Prosody actually has a number of non-password authentication modules already,
such as <a href="https://modules.prosody.im/mod_auth_oauthbearer">mod_auth_oauthbearer</a> (OAuth2 tokens),
 <a href="https://modules.prosody.im/mod_auth_ccert">mod_auth_ccert</a> (client certificates) and
 <a href="https://modules.prosody.im/mod_auth_token">mod_auth_token</a> (HMAC-based
 tokens).
But most of the modules have limitations and are not well integrated
(e.g. you can set up Prosody to accept passwords, or set it up to accept
tokens, but you can’t offer both methods at the same time).</p>

<p>An important related aspect is authorization. In most systems authentication
via a token also provides <em>limited access to the account</em> (e.g. if a password
is associated with an account, a session that logged in using a token
should not be allowed to reset the password).</p>

<p>We’ve been working on two things. Firstly, a built-in authorization system
(more flexible than the current <code>admins</code> configuration option) where users
and sessions can be associated with specific permissions and roles.</p>

<p>Secondly we’re using this authorization layer to add built-in support
for OAuth2-style authentication and authorization.</p>

<p>This is exciting for a number of reasons. It will allow, for example,
specialized clients to request and receive (when granted by the user)
limited …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.prosody.im/2020-retrospective/">https://blog.prosody.im/2020-retrospective/</a></em></p>]]>
            </description>
            <link>https://blog.prosody.im/2020-retrospective/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713679</guid>
            <pubDate>Sun, 10 Jan 2021 11:37:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Campaigns: A long-running effort to enact global change safely]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25713656">thread link</a>) | @kiyanwang
<br/>
January 10, 2021 | https://kellysutton.com/2021/01/06/campaigns.html | <a href="https://web.archive.org/web/*/https://kellysutton.com/2021/01/06/campaigns.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>Sometimes it can take years to make a single-line code change.</p>

<p>As engineering organizations grow, the problems and their solutions become more intricate. What might have taken an afternoon now takes months of coordinated effort. The system (both the technology and the people) are larger, more complex, and more difficult to change than ever before.</p>

<p>But change is necessary.</p>

<p>We might be looking to pay off some technical debt or tee up an architectural change to unlock a better customer experience, cost savings, etc. What is a tool we can use to coordinate many groups of people, hold groups accountable, and eventually succeed?</p>

<p>Enter what I call the <strong>Campaign</strong>.</p>

<h2 id="elements-of-a-campaign">Elements of a Campaign</h2>

<p>A Campaign is a long-running effort to enact global change safely within a sociotechnical system.</p>

<p><strong>Every campaign needs the following:</strong></p>

<ul>
  <li>A Goal</li>
  <li>Metrics toward that goal</li>
  <li>Buy-in</li>
  <li>Method of Accountability</li>
  <li>A “Window”</li>
  <li>A Target Date</li>
</ul>

<p><strong>Campaigns work well to address:</strong></p>

<ul>
  <li>Technical changes with large social components.</li>
  <li>Technical changes that require everyone to do a little bit of work.</li>
  <li>High-value or inevitable future worlds</li>
</ul>

<p><strong>Campaigns don’t work with:</strong></p>

<ul>
  <li>Efforts that avoid measurement, or where measurement is likely actively harmful. Examples include “We should improve the design of our code.”</li>
  <li>Organizations that cannot buy-in to the effort for one reason or another.</li>
  <li>Low-value Campaigns. No need to coordinate many teams if efforts can be localized.</li>
</ul>

<p>Many campaigns have a trivial technical goal. My favorite example: The request timeout value is likely one line in a configuration file. Safely changing that to a lower value can be months of work.</p>

<p>Let’s step through the individal components in greater detail.</p>

<h2 id="the-goal">The Goal</h2>

<p>Every campaign needs a goal that can be expressed in a single sentence. The goal should be separate from the metric. It may or may not include implementation details. I usually recommend they include some hint of implementation so that the scope of effort can be limited a bit.</p>

<p>Here are a few examples:</p>

<ul>
  <li>“We want to improve the resiliency and throughput of our background processes by making all jobs idempotent.”</li>
  <li>“We want to improve the customer experience and resiliency of our system by limiting the amount of time a web request can take.”</li>
  <li>“We want to improve the health of our database by enforcing a timeout on all queries.”</li>
</ul>

<p>If the goal feels a bit too open, consider adding non-goals as well to keep the effort focused.</p>

<h2 id="focus-on-impact">Focus on Impact</h2>

<p>Before beginning a Campaign, you need to convice a lot of people that this is a valuable effort and that now is the right time to tackle such an effort. A crisp articulation of “Why this Campaign?” and “Why now?” is required.</p>

<p>Write these down, but expect to repeat them in other media often.</p>

<p>Focus on the benefits of achieving the goal. The more we can ground the impact in objective truths (e.g. “our system is more resilient to failure”) and less in personal preference for technology (e.g. “we were using Tech X but now we use Tech Y”), the better.</p>

<h2 id="metrics">Metrics</h2>

<p>Every Campaign needs a metric or two to enable tracking progress and accountability.</p>

<p>Each metric should be able to be assigned to a given team or individual. Once the metrics go green, we should have <em>ipso facto</em> achieved our goal.<sup id="fnref:okrs" role="doc-noteref"><a href="#fn:okrs">1</a></sup></p>

<p>Choosing a metric can be difficult. It should not be succeptible to <a href="https://brownfield.dev/post/2020-02-18-trap-rule-beating/">Rule Beating</a>, where the metric will be green but the intent of the goal will be missed.</p>

<p>Metrics need to be incremental and as fine-grained as necessary. We should see the slow march of progress, rather than a sudden “Okay, we’re done!”</p>

<p>There should be many ways to achieve a metric. In the example of global request timeouts, we can hit that timeout by reducing the total number of database queries, speeding up serialization of JSON, caching, loading less data, etc.</p>

<p>A few examples derived from the above examples goals:</p>

<ul>
  <li>Number of background jobs that are not idempotent.</li>
  <li>Endpoints that are over the threshold of request length.</li>
  <li>Database queries that are over the threshold of query length.</li>
</ul>

<p>Metrics should be easy to grok and able to be sliced a few different ways. In our request threshold example, we might want to surface both “number of endpoints remaining” and “total percentage of endpoints.”</p>

<h2 id="buy-in">Buy-in</h2>

<p>A Campaign by definition reaches across the organization and touches many teams. Every team, mission, individual, and sub-org has different priorities and different worries.</p>

<p>For a Campaign to be successful, it needs global participation of those involved. Buy-in will look different in different organizations, but will generally be a mix of <a href="https://en.wikipedia.org/wiki/Carrot_and_stick">Carrot and Stick</a> (choosing to do something vs. being coerced to do something).</p>

<p>Leading with the benefits (i.e. the Carrot) can go a long way here:</p>

<ul>
  <li>“If we are able to make jobs idempotent, the Infrastructure team can take over responsibility of background jobs and reduce costs by 90%.”</li>
  <li>“If we are able to make all requests take less than 2 seconds, the customer experience will improve and we will be able to reduce costs.”</li>
</ul>

<p>The benefits may not be convincing enough or still might not meet the priority threshold for some teams. If many teams do not find the benefits convincing enough, you might not have a Campaign worth pursuing.</p>

<h2 id="a-method-of-holding-teams-accountable">A Method of Holding Teams Accountable</h2>

<p>How much further do we have to go? Where might we need to invest more?</p>

<p>Most Campaigns will have a central place to answer questions like these. Speadsheets here work just fine. Dashboards are even better. They might be automatically populated or populated by hand, usually with the help of a script. Whatever it is, it should quickly answer a few questions:</p>

<ul>
  <li>How far along are we?</li>
  <li>Which teams are doing well? (We should follow up with these teams to see what’s working for them.)</li>
  <li>Which teams are falling behind? (We should follow up with these team to see if they need more help, resources, etc.)</li>
</ul>

<p>This should be passively available, but also circulated on some regular cadence. Weekly, monthly, or quarterly, everyone involved should get an update in their inbox.</p>

<h2 id="a-window">A “Window”</h2>

<p>The Window is a method of prioritizing work to be done while ensuring that progress is permanent. It moves. It is optional but helpful in most Campaigns.</p>

<p>A Window usually defines two threshold: Warning and Not Allowed. In a Campaign to enforce a global request timeout, here’s how the Window might look at the start and evolve:</p>

<ol>
  <li>The Goal is to make no web request take longer than 5 seconds, 99.9% of the time.</li>
  <li>The Window is set to Warn: 30 seconds, Not Allowed: 60 seconds. 60 seconds is the current limit set by our load balancer and the behavior that exists today.</li>
  <li>Teams tackle all requests that fall between Warn and Not Allowed until there are no more in the Window.</li>
  <li>We move the Window down to Warn: 15 seconds, Not Allowed: 30 seconds.</li>
  <li>GOTO Step 3.</li>
</ol>

<figure>
  <img srcset="https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=100 100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=200 200w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=300 300w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=320 320w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=400 400w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=500 500w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=600 600w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=640 640w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=700 700w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=750 750w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=768 768w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=800 800w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=900 900w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1000 1000w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1024 1024w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1080 1080w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1100 1100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1152 1152w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1200 1200w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1242 1242w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1300 1300w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1400 1400w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1440 1440w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1442 1442w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1500 1500w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1536 1536w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1600 1600w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1700 1700w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1800 1800w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1880 1880w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1900 1900w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=1920 1920w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2000 2000w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2048 2048w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2100 2100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2200 2200w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2208 2208w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2280 2280w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2300 2300w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2400 2400w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2415 2415w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2500 2500w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2560 2560w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2600 2600w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2700 2700w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2732 2732w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2800 2800w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=2900 2900w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3000 3000w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3100 3100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3200 3200w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3300 3300w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3400 3400w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3500 3500w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3600 3600w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3700 3700w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3800 3800w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=3900 3900w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4000 4000w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4100 4100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4200 4200w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4300 4300w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4400 4400w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4500 4500w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4600 4600w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4700 4700w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4800 4800w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=4900 4900w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=5000 5000w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=5100 5100w, https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=5120 5120w" src="https://kellysutton-blog.imgix.net/images/campaign-windows.png?ixlib=jekyll-4.2.0&amp;w=5120" sizes="(min-width: 700px) 700px, 100vw">
</figure>

<p>Using this approach yields a few benefits:</p>

<ul>
  <li>Organizers of the campaign provide a default prioritization approach. Team do not have to develop their own.</li>
  <li>By setting and enforcing “Not Allowed,” we ensure that progress is permanent. A team cannot introduce a new request that takes longer than a given amount of time.</li>
  <li>Teams are warned in advance of a future change. They might receive a weekly email report, an exception, or a Slack message notifying them of something that is okay today but not okay in the future.</li>
  <li>Incremental value is delivered. If we stop the Campaign for whatever reason, lasting value will remain.</li>
</ul>

<h2 id="an-example-global-request-timeouts">An Example: Global Request Timeouts</h2>

<p>I’ve threaded an example throughout this post, but let’s look at a specific example compiled together.</p>

<p>One that I’ve seen in a few organizations is the need to set and/or reduce the total amount of time a web request can take. This is the type of thing that can be easy to ignore, especially in applications serving industries with high switching costs or a <a href="https://en.wikipedia.org/wiki/Principal%E2%80%93agent_problem">Principal-agent problem</a>. (High switching costs or principle-agent problem mean a slow degredation of performance will never bubble up as a priority.) Many Campaigns take the form of “If we knew to have this limit in the first place, this would be a lot easier.”</p>

<p>Let’s put it all together.</p>

<div>

<p><strong>Goal:</strong></p>

<p>We want to improve the customer experience and resiliency of our system by limiting the amount of time a request can take.</p>

<p>We want to eventually get to 2 seconds for the 99th percentile of requests, with a hard cutoff of 5 seconds.</p>

<p>We talk more about this Goal, why it was chosen, and it’s urgency in <em>this longer document</em>. (Link to something convincing.)</p>

<p><strong>Metrics:</strong></p>

<ul>
<li>Number of endpoints not adhering to the Goal.</li>
<li>Number of endpoints within the Window.</li>
</ul>

<p><strong>Window:</strong></p>

<p>At the start, we’ll set the Window to:</p>

<ul>
<li>Warn: 30 seconds.</li>
<li>Not Allowed: 60 seconds (this is the current timeout setting).</li>
</ul>

<p>From there, we’ll look to increment the Warn threshold by 15 seconds, or N/2 each time.</p>

<p><strong>Campaign Manager:</strong></p>

<p>Jane Smith will be in charge of tracking progress and reporting on this Campaign.</p>

<p>Jane and Team X will be available to help teams get their requests to the goal. Team X is also responsible for unowned code in the system.</p>

<p><strong>Target Date:</strong></p>

<p>We’d like to be complete with this effort on January 1, 2021.</p>

</div>

<h2 id="further-reading">Further Reading</h2>

<ul>
  <li><a href="https://lethain.com/migrations/">“Migrations: The sole scalable fix to tech debt,” Will Lethain.</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Project_management">Project Management</a></li>
  <li><a href="https://en.wikipedia.org/wiki/OKR">Objectives and Key Results</a></li>
</ul>

<h2 id="conclusion">Conclusion</h2>

<p>This post is a generalization of an effort I find myself doing more and more at Gusto. Every campaign is a little bit different, and needs to be adapted accordingly.</p>

<p>Hopefully this framework helps you and your teams make complicated technical changes that require large-scale behavioral or process changes.</p>

<hr>

<p>Special thanks to <a href="https://www.linkedin.com/in/tonirib/">Toni Rib</a>, <a href="https://mxstbr.com/">Max Stoiber</a>, <a href="http://www.dannyzlobinsky.com/">Danny Zlobinsky</a>, <a href="https://www.estebanpastorino.com/">Kito Pastorino</a>, and <a href="https://www.shayon.dev/">Shayon Mukherjee</a> for reading early drafts of this post and providing feedback.</p>





  </article>

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://kellysutton.com/2021/01/06/campaigns.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713656</guid>
            <pubDate>Sun, 10 Jan 2021 11:34:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Software Is Drowning the World]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 61 (<a href="https://news.ycombinator.com/item?id=25713631">thread link</a>) | @kiyanwang
<br/>
January 10, 2021 | https://jamesabley.com/software-is-drowning-the-world/ | <a href="https://web.archive.org/web/*/https://jamesabley.com/software-is-drowning-the-world/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <div>

  

  <article>
    <p>One of the many upsides I’ve had from working at lots of organisations
is that you get to see what’s common. Are things like this everywhere?
Frequently, the answer is yes!</p>

<p>An example of this is tech debt.</p>

<p>I see organisations which are running to stand still, and I’m not
sure they realised they’re doing that.</p>

<p>What do I mean by this?</p>

<p>Every time you decide to solve a problem with code, you are committing
part of your future capacity to maintaining and operating that code.
Software is never done.</p>

<p>Here’s a few examples of demonstrating what I mean:</p>

<h2 id="security">Security</h2>

<ol>
  <li>You write a networked service to solve a business problem. Say
it has an HTML web UI</li>
  <li>It has no known security issues</li>
  <li>Time passes</li>
  <li>You now have security issues with your code, and you should assess
 whether you need to do work to address these.</li>
</ol>

<p>WAT?</p>

<p>Humans are terri-bad at writing secure code. And given enough time,
other humans will discover the security holes in your service.</p>

<p>This applies both to code your organisation writes, and the libraries
they use, or the operating systems, or web servers, or …</p>

<h3 id="security-examples">Security Examples</h3>

<p>Take your pick from browsing a CVE database, or use
<a href="https://snyk.io/">Snyk</a> or similar to look at your current codebases.</p>

<ul>
  <li>TLS / SSL issues:
    <ul>
      <li><a href="https://en.wikipedia.org/wiki/POODLE">POODLE</a></li>
      <li><a href="https://blog.zoller.lu/2011/09/beast-summary-tls-cbc-countermeasures.html">BEAST</a></li>
      <li><a href="https://en.wikipedia.org/wiki/CRIME">CRIME</a></li>
      <li><a href="https://en.wikipedia.org/wiki/BREACH">BREACH</a></li>
      <li><a href="https://en.wikipedia.org/wiki/Heartbleed">Heartbleed</a></li>
    </ul>
  </li>
  <li><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=15183&amp;product_id=31286&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=6&amp;cvssscoremax=0&amp;year=0&amp;month=0&amp;cweid=0&amp;order=1&amp;trc=20&amp;sha=97513f3fa07a803c5507b2cf550af9877acd90f2">Spring</a></li>
  <li><a href="https://www.cvedetails.com/vulnerability-list.php?vendor_id=45&amp;product_id=6117&amp;version_id=&amp;page=1&amp;hasexp=0&amp;opdos=0&amp;opec=0&amp;opov=0&amp;opcsrf=0&amp;opgpriv=0&amp;opsqli=0&amp;opxss=0&amp;opdirt=0&amp;opmemc=0&amp;ophttprs=0&amp;opbyp=0&amp;opfileinc=0&amp;opginf=0&amp;cvssscoremin=6&amp;cvssscoremax=0&amp;year=0&amp;month=0&amp;cweid=0&amp;order=1&amp;trc=70&amp;sha=5369e34293062ebe460c99e6878e0792ac23944c">Struts</a></li>
</ul>

<h3 id="legislation">Legislation</h3>

<ol>
  <li>You write a networked service to solve a business problem. Say
 it has an HTML web UI</li>
  <li>It has no known legal compliance issues</li>
  <li>Time passes</li>
  <li>You now have legal compliance issues with your code, and you should
 assess whether you need to do work to address these.</li>
</ol>

<p>WAT?</p>

<p>The <a href="https://en.wikipedia.org/wiki/General_Data_Protection_Regulation">General Data Protection Regulation</a>
addressed organisations not handling data very well.</p>

<p>Privacy and Electronic Communications Regulations – mostly known
for mandating cookie policy.</p>

<p>The Equality Act 2010 (UK) and the Americans with Disabilities Act
1990 (2010 update) for website accessibility. Yes, there was a time
when people didn’t consider accessibility when building web sites.</p>

<p>Brexit has meant a lot of changes for businesses in the EU and UK.
Software has been rewritten to manage the new trading relationships.
This will continue to happen for a while countries establish new
relationships.</p>

<h3 id="3rd-parties">3rd parties</h3>

<ol>
  <li>You write a service to solve a business problem</li>
  <li>You can build and release it when necessary</li>
  <li>Time passes</li>
  <li>You are now unable to build and release the service</li>
</ol>

<p>WAT?</p>

<p>3rd parties will change their APIs, or how things work. They may
do this for any number of reasons: performance, or security among
them. Older versions become deprecated, and unsupported. And these
older versions will still have new security issues reported against
them. So you need to upgrade, and adapt your code to use the new
API.</p>

<p>People building code libraries will strive to maintain backward
compatibility. But we still get <a href="https://semver.org/">semver</a> major
version changes, and breaking API changes.</p>

<h2 id="implications">Implications</h2>

<p>Most software needs constant maintenance. Building and operating
software has a cost which you should always factor in when deciding
to solve problems in that way.</p>

<p>A team working in a particular way can only be responsible for a
fixed amount of software. The amount of software should be managed,
otherwise the team will grind to a halt.</p>

<h2 id="proposition">Proposition</h2>

<blockquote>
  <p>A team working in a particular way</p>
</blockquote>

<p>What if we change how they work?</p>

<p>Well yes, there are options there.</p>

<p>I’ve got a separate post (currently brewing) about Dunbar’s numbers,
but for this post, different sized organisations might have different
options. At a certain size, it makes sense to have people dedicated
to developer productivity and creating tools which improve the
capacity of other teams.</p>

<p>You can choose higher-level languages, and use technology stacks
from SaaS vendors which need less time from your people.</p>

<p>There is one option I had planned to spend researching last year
(but I ended up getting a job instead). This feels like potentially
a big market. I’ve seen lots of organisations with decade-old
codebases which are still running unsupported versions of dependencies
or frameworks.</p>

<p>As a developer, I’m familiar with a hammer, and was curious if I
could use it.</p>

<p>Can we have tooling that automates keeping software up-to-date?</p>

<p>I see this problem in every organisation I’ve ever worked in, with
all aspects.</p>

<p>Web applications/APIs written in any language. As mentioned above,
there are many reasons that software rots if left unattended. Mobile
apps also have this. Migrating versions of Android, or iOS, or …</p>

<p>Configuration/manifests for Infrastructure as Code aslo suffer from
this. Terraform hasn’t yet released 1.x, but there have been many
changes over the years. If you’re using Cloud Foundry or Kubernetes,
you’ll <a href="https://github.com/doitintl/kube-no-trouble">have experienced
changes</a> which mean
you need to do work.</p>

<p>Automating the changes needed in YAML for upgrading from Kubernetes
<code>n</code> to <code>n+1</code> feels like a widely useful tool.</p>

<h2 id="current-state">Current State</h2>

<p>There are some commercial things which do related work.</p>

<p>Snyk, <a href="https://github.com/renovatebot/renovate">Renovate</a>,
<a href="https://dependabot.com/">Dependabot</a> and other things exist which
can make pull requests to update dependencies. Mpost languages have
a package tool and bumping numbers is pretty straightforward. These
things tend to not be able to manage breaking API changes though.
Bumping a patch or minor dependency upgrade is fine, but a major
one with breaking API changes tends to need a human to get involved.</p>

<p>Why? Could we have a tool that solves this? When a new version of
<a href="https://spring.io/">Spring</a> is released, could it include an
accompanying set of transformations which will allow the entire
ecosystem to safely and rapidly upgrade?</p>

<p>Having a minor interest in compilers (and having worked on a
commercial interpreter), I tend to think of code editing operations
as transformations, rather than characters. There’s been <a href="https://www.facebook.com/notes/kent-beck/prune-a-code-editor-that-is-not-a-text-editor/1012061842160013">some
research in transformation-based
editors</a>,
but I’ve not seen a lot else.</p>

<p>Major version upgrades could potentially be similarly expressed in
terms of transformations, which similarly might be composed. So if
a class has been removed between major versions of a dependency,
the required transformation might be composed of:</p>

<ol>
  <li>Insert new class <code>my.Y</code></li>
  <li>Implement interface <code>spring.new.Z</code></li>
  <li>Adapt method <code>A</code> from old class <code>my.Z</code> onto method <code>B</code> in new
 class <code>my.Y</code></li>
  <li>Adapt parameters from adapted method – a <code>Context</code>
 used to be obtained from <code>ApplicationSingleton</code> but is now passed
 in explicity</li>
  <li>etc</li>
</ol>

<p>And then you would need a serialisation format and publishing
mechanism for these sets of transformations.</p>

<p>The closest I’ve seen to this is where Google actually did that in
the same target langauge. They <a href="https://blog.golang.org/introducing-gofix">published a tool with for the
language Go</a>, named
<a href="https://golang.org/cmd/fix/"><code>fix</code></a>. It automated upgrades of
existing code before 1.x was released, and since then, they’ve had
<a href="https://golang.org/doc/go1compat">the Go 1 compatibility document</a>.</p>

<p>Sadly, <code>fix</code> appears to have been mostly inactive since then?</p>

<p>I’m interested (academically as well as commercially) in producing
a tool which looked something similar, but much more widely applicable.</p>

<p>So having something that can take code/configuration, generate an
Abstract Syntax Tree (AST), and then apply a set of transformations.
Transformations compose. A large one might be <strong>Upgrade Framework
<code>n</code> to <code>n+1</code></strong> involvings lots of smaller transformations. For each
transformation, you’d need to query the AST for usages of the old
API, then try to apply the transformation which maps the old API
to the new API.</p>

<p>I’ve found <a href="https://dl.acm.org/doi/10.1145/1103845.1094832">one related paper</a>.
Given that it’s not gone further, was it too hard, or not viable, or
the wrong time?</p>

<h2 id="summary">Summary</h2>

<p>So I think this would be the next evolution in automated upgrades.
It’s seems like a big market – how many companies would pay for you
to solve this problem for them and allow them to concentrate on
business logic rather than plumbing concerns?</p>

<p>But I didn’t take the time off I planned to confirm the potential
market and see how hard a problem it would be solve :)</p>

<h2 id="further-reading">Further Reading</h2>

<p><strong>Update</strong> I originally published this without a list of references.
I should have done the hard work to include them. Mostly that meant
mining my browser history and Pinboard from February and March 2019
when I spent a chunk of time first looking at this
<strong>for absolutely no reason at all, clients of the time</strong>.</p>

<ul>
  <li><a href="https://dl.acm.org/doi/10.1145/1103845.1094832">Refactoring support for class library migration</a></li>
  <li><a href="https://ercim-news.ercim.eu/en88/special/automatic-upgrade-of-java-libraries">Automatic Upgrade of Java Libraries</a>
which linked to <a href="http://web.archive.org/web/20170409031849/http://kenai.com/projects/refactoringng">a defunct Netbeans plugin</a></li>
  <li><a href="http://autorefactor.org/">Autorefactor</a></li>
  <li><a href="http://walkmod.com/">Walkmod</a></li>
  <li><a href="https://github.com/Netflix-Skunkworks/rewrite">Rewrite</a>
    <ul>
      <li>This has now become <a href="https://docs.openrewrite.org/">OpenRewrite</a>
and might be what I’m after, for Java and YAML at least. There is
an example which (when complete) is supposed to migrate from
Spring Boot 1.5.x to Spring Boot 2.x.</li>
    </ul>
  </li>
</ul>

  </article>

</div>

      </div>
    </div></div>]]>
            </description>
            <link>https://jamesabley.com/software-is-drowning-the-world/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713631</guid>
            <pubDate>Sun, 10 Jan 2021 11:31:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Merpeople Say About Us]]>
            </title>
            <description>
<![CDATA[
Score 16 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25713617">thread link</a>) | @dnetesn
<br/>
January 10, 2021 | http://oceans.nautil.us/feature/660/what-merpeople-say-about-us | <a href="https://web.archive.org/web/*/http://oceans.nautil.us/feature/660/what-merpeople-say-about-us">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p><span>M</span>erpeopleâ€™s hybridity has helped them maintain a presence in both scientific and mythological camps. In many peopleâ€™s minds, mermaids and mermen remain mythical creatures more suitable for bedtime stories than scientific tracts. Yet for others merpeople symbolize the outer limits of our scientific and mythological investigations.&nbsp;</p>

<p>Just as the evolution of science has not done away with lingering notions of wonder and myth, so too has our innate need to push boundaries of knowledge led humanity into strange—often mind-blowing—frontiers of research and self-reflection. Humanityâ€™s interaction with merpeople demonstrates our ongoing need for discovery as much as our attempts at regulation and classification. Like the hybrid monstrosities with which humankind has always grappled, humanity maintains a tenuous balance between wonder and order, civilization and savagery.&nbsp;<br></p>
<p>Perhaps nowhere is this fragile equilibrium more obvious than in the early Christian Churchâ€™s myriad representations of mermaids and tritons. Murky ideologies of mermaids and mermen originated in ancient gods and goddesses of the sea; although mermaids now rule as the more popular of the two, merpeopleâ€™s predominance began with mermen. The Babylonians had their fish-god Oannes dating back to 5,000 BCE, while the Philistines, Assyrians and Israelites created the â€˜female prototypeâ€™ for the mermaid with Atargatis, a fertility goddess who was the female counterpart to Oannes. Importantly, Atargatis also symbolized the danger of love and lust, an association which Christians would later embrace wholeheartedly.</p>
<p>A spate of pagan representations of merpeople followed Oannes and Atargatis, ranging from Greek and Roman depictions of Aphrodite and Venus, respectively, to Pliny the Elderâ€™s descriptions of mysterious human-fish sea creatures in 80 CE, to the Greeksâ€™ incorporation of Triton (the origin for the merman) and his wife Amphitrite, to Odysseusâ€™ fateful encounter with the harpies (airborne daughters of sea-goddesses) on his famous voyage. Oddly, harpies and the Greek â€˜Scyllaâ€™—hybrid monstrosities with little resemblance to half-fish, half-women mermaids—would ultimately spawn modern interpretations of mermaids. Over time, artists and writers took the helm in transforming the monstrous representations of Scylla and Homerâ€™s harpies into our modern interpretations of mermaids, replete with sexual overtones, siren songs and the overtly feminine (often naked) form. Thus, while mermen found their origins in a Greek god, mermaids largely originated from hideous beasts who only intended to bring man to destruction through his own lust for sex and power. As would be demonstrated by the early Christian Church, such connotations of sex, lust and power were no coincidence.</p>
<figure><img src="https://s3.amazonaws.com/nautilus-vertical/oceans_1dc26359e27a167f1bd1825f1abacd2e.jpg" alt="Screen Shot 2021-01-07 at 2.19.08 AM"><figcaption><span>â€˜Derceto [or Atargatis] Dominating the Seaâ€™, from Athanasius Kircher, Oedipus Aegyptiacus (1652). </span></figcaption></figure>
<p>Beginning in the third to fifth centuries CE, Church leaders simultaneously adopted, transformed and harnessed ancient pagan symbols of merpeople to assert notions of piety, faith and self- control. Although mermen had long been associated with rape and violence, the early Christian Church was on a mission to dethrone femininity, and had little use for these male monstrosities. Rather, churchmen hoped to transform notions of the Homerian harpy to fit their own means, and in doing so adopted more sexual connotations and imagery in their representations of mermaids.<br></p>
<p>Physical representations of merpeople were critical to this process. Our modern conception of the mermaid stems directly from early churchmenâ€™s depictions of these mysterious creatures. Traditionally shown as human females above the waist, with long, flowing hair and bare breasts, a mirror in one hand and a comb in the other, these half-women, half-fish served as ideal symbols of wonder and danger for Church leaders. Beyond utilizing such â€˜monstersâ€™ to demonstrate Godâ€™s ability to â€˜alter his own laws of natureâ€™, churchmen especially adopted these pagan creatures in an effort to depreciate the feminine—hence the overtly sexual representation of mermaids in church carvings, bestiaries, illuminated texts and artwork. Nakedness—especially as a vehicle for sexual lust—was rare in early Christian and medieval art. Thus, as topless women (who also boasted scaly fish-tails), mermaids would have harnessed a shock factor through image alone.</p>
<blockquote>Church leaders simultaneously adopted, transformed and harnessed ancient pagan symbols of merpeople.</blockquote>

<p>Oftentimes, in fact, church sculptors portrayed mermaids â€˜spreadingâ€™ their tails apart, thereby exposing their reproductive area—or <em>vesica piscis</em> (Latin for â€˜vessel of the fishâ€™)—in graphic detail. A mermaidâ€™s accessories also revealed deeper symbolism, with her mirror and comb representing vanity (not to mention the duality of oneâ€™s soul outside the body) and her flowing hair signifying fertility. Sometimes, mermaids would hold a fish instead of a comb, which probably further symbolized her link to the fish as an early symbol of Christianity. By the medieval period (the fifth to fifteenth centuries CE), churchgoers throughout Europe worshipped in spaces decorated with overtly sexualized mermaid imagery. Church leaders, meanwhile, cultivated an intimate knowledge of these strange creatures through myriad texts, art and sculpture. Such ubiquity helped to facilitate general acceptance of, and belief in, mermaids.&nbsp;</p>
<p>In symbolism used by the early Christian Church, mermen were not as popular as mermaids. When mermen occasionally appeared in church carvings, they were almost always paired with mermaids. This representation correlated with early Christian and medieval imagery—especially cultivated in illuminated texts and bestiaries—which generally depicted mermen as partners of mermaids. Mermaids were much more likely to appear alone than were mermen. In contrast to the beautiful (and dangerous) female form of the mermaid, moreover, authors and illustrators represented mermen either as ugly creatures intended to oppose the mermaidâ€™s striking femininity and sexuality, or as symbolic of Christian piety.&nbsp;</p>

<figure><img src="https://s3.amazonaws.com/nautilus-vertical/oceans_048a295d789994cc78e70cb5e3516b0a.jpg" alt="Screen Shot 2021-01-07 at 2.21.52 AM"><figcaption><span>Mermaid in the Luttrell Psalter (1325â€“40). </span></figcaption></figure>
<p>Ultimately, mermaids—hybrid creatures of myth and lore—symbolized the early Christian Churchâ€™s willingness to hybridize itself (that is, embrace a mix of pagan and Christian belief systems) in its larger attempts to cultivate the largest following possible. Here, the Christian Church deliberately adopted and adapted pagan symbols in its holy spaces, thereby bridging the gap between the supposedly â€˜savageâ€™ and the civilized; the past and the present. And it largely worked, as Christian doctrine steadily decentered symbols of the sacred feminine by the medieval period. However, such efforts had unexpected side effects, as by utilizing these hybrid monstrosities to support religious tenets the Christian Church legitimatized such creatures, which in turn created the foundation for belief and acceptance for generations to come.&nbsp;<br></p>
<p>The â€˜Age of Discoveryâ€™ (roughly 1500 to 1700 CE) only solidified Westernersâ€™ long-standing beliefs and cultural traditions surrounding merpeople. By 1492 Westerners had long lived in a world of merpeople: especially in wealthy, sea-faring societies like Venice or Genoa, merpeople became almost ubiquitous mainstays of art, ranging from tombs to tomes, sculptures to tableware. Unsurprisingly, by the time Westerners pushed further east and west into what were, for them, uncharted territories, they fully expected to find mermaids and tritons. They had, after all, lived their lives surrounded by these mysterious creatures. Importantly, before the â€˜Age of Discoveryâ€™, Europeans placed Jerusalem in the centre of the globe in terms of religious tradition. The further one got from Jerusalem, the stranger and more dangerous the world became. If merpeople lived anywhere, many early modern Westerners believed, it must be at the ends of the Earth, where monstrosities and curiosities thrived.&nbsp;</p>
<blockquote>The&nbsp;â€˜Age of Discoveryâ€™&nbsp;only solidified Westernersâ€™&nbsp;long-standing beliefs surrounding merpeople.<br></blockquote>
<p>As Westerners heightened their interactions with the Pacific and Atlantic worlds in a search for monetary, religious and imperial power, recorded sightings of merpeople multiplied exponentially. The Atlantic Ocean and its â€˜New Worldâ€™ shores were especially rife with such interactions, as famed explorers integrated merpeople into their understandings of strange—and potentially lucrative—environments. Yet, where in the medieval period interactions with mermaids and tritons usually uncovered a deeper lesson over lust, vanity or religion, early modern explorers transformed such contact beyond manifestations of the Christian creed and instead began to reflect in their â€˜mer-sightingsâ€™ emerging notions of exploration, growth and national prowess. Each Western country had its own stories of merpeople, and in each of these interactions the nation tried to assert its understanding of the globe. Monstrosities abounded in the New World, and Europeans were intent on uncovering their secrets. This was a period of legitimization for merpeople.&nbsp;</p>
<p>As sightings proliferated and European Christians steadily colonized the Americas, Western mapmakers began in earnest to chart these strange new worlds. Of course, such cartographic creations were as much about Europeâ€™s effort to position itself as a world power as they were about accurately recreating the New World topography. These maps were also, importantly, intended to demonstrate the exotic opportunity of the world, while also shrinking its size to suit Europeansâ€™ imperialist efforts. Therefore â€˜strangeâ€™ or â€˜foreignâ€™ lands like the Americas and the â€˜Far Eastâ€™ were often depicted with merpeople in their surrounding seas.This was no mistake, nor can it be boiled down to a temporary flight of fancy. Mapmakers intentionally included merpeople …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://oceans.nautil.us/feature/660/what-merpeople-say-about-us">http://oceans.nautil.us/feature/660/what-merpeople-say-about-us</a></em></p>]]>
            </description>
            <link>http://oceans.nautil.us/feature/660/what-merpeople-say-about-us</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713617</guid>
            <pubDate>Sun, 10 Jan 2021 11:29:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The acquisition of handwriting in the UK (1994)]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 48 (<a href="https://news.ycombinator.com/item?id=25713526">thread link</a>) | @dcminter
<br/>
January 10, 2021 | http://www.unask.com/website/handwriting/new_web_pages/acquisition.htm | <a href="https://web.archive.org/web/*/http://www.unask.com/website/handwriting/new_web_pages/acquisition.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

The information in this paper is based on research done by Frances Brown
under my supervision; many of the ideas in it are hers, and many come from
collaborative discussion. The paper was originally given at the Criminalistic
Institute in Prague, and was written to be presented there. 

<p>


<strong>1. Introduction and theoretical base.</strong>This paper reports on a project that was undertaken in 1982-3,
funded by the Home Office. It came from the fact that while document examiners
in the UK know a great deal about what the handwriting of UK citizens is
like, and know in general terms how that handwriting was learned, they in
fact know very little about the way in which the learning of handwriting
actually goes on in schools. So the project began with a very general remit:
to investigate the way in which handwriting is taught and learned in the
UK. What it turned into was an investigation into the whole issue of the
relationship between the taught style of handwriting and the way in which
that handwriting is actually done.</p><p>

It was clear from the outset that there are two sources from which handwriting
is learned: from copybooks, and from teachers. The investigation thus split
into two: we used surveys and sampling investigation to find out how handwriting
is actually taught in schools, and we conducted an extensive examination
and analysis of a large sample of the copybooks used in the UK in the lifetime
of any contemporary adult. </p><p>

In general what the project showed was this. Handwriting of UK citizens
is, compared with that of those educated elsewhere in Europe or in America,
very various. No uniformity is imposed centrally, at the governmental level,
or locally, by Local Educational Authorities. There are several different
handwriting systems to be found in the available copybooks, and each copybook
may present its own version of the system it derives from. Individual schools
may favour particular systems or particular copybooks, but often it is left
to the individual teacher of handwriting to adopt whatever method they feel
comfortable with. Moreover, even at the beginning of learning to write it
is not usually expected or demanded that the child should faithfully copy
the learned system, and, later in life, it is common for teenagers who to
change their writing style to make it look beautiful. This is true for both
boys and girls, but the evidence is that girls spend a lot more time at
it. In fact handwriting that follows a copybook style closely is commonly
seen as 'immature', or 'naive', or 'lacking in personality'; and idiosyncratic
or unusual or even messy handwriting is seen as showing valuable personality
traits: individuality, creativity, and so on. As a result, the handwriting
of mature adults can vary considerably from the learned system, containing
a mixture of elements deriving from any combination of (1) the system itself,
(2) the particular copybook version of that system, (3) a school-teacher's
version of the copybook, (4) the individual's own idiosyncratic variation,
and (5) curious features that occur in no copybook but are nonetheless commonly
found, presumably having spread through the culture by some form of osmosis.
This means that when someone says: 'how would you characterize the handwriting
of the UK?' they are asking a question that is very hard to answer; in fact,
it is a question that no-one <cite>could</cite> answer before this project
was undertaken.</p><p>

So: the situation that we discovered is complex, but it is not chaotic.
General patterns were discovered, and interesting sub-patterns. Before giving
the detail of the findings, however, it is necessary to establish some terminology.</p><center><a href="http://www.unask.com/website/handwriting/new_web_pages/terms.htm"><strong>Summary of Terminology</strong></a>
</center>
<div><p>Handwriting in the UK is learned at school, usually beginning at the
age of 5 or so, by copying. What is copied is a formal <strong>system. </strong>We
discovered from a close analysis of some 50 handwriting copybooks, which
we believe represent all of the published styles available in the lifetime
of any adult, that their apparent diversity can be reduced to four basic
systems: <strong>Print Script, Round Hand, Looped Cursive, </strong>and<strong>
Italic.</strong> However the actual version of the system that the child
copies will normally come from a particular copybook, which may have its
own variation or dialect of the basic system; or what a child actually copies
may be work materials prepared by a teacher, with the teacher's own variations
added. If a child moves from one school or even one teacher to another,
he or she may be exposed to two different copybooks or even two different
systems. Nonetheless, it is usually possible to detect traces of the system,
though not the actual copy book version of it, that a given person has been
taught.</p><p>

By repeated attempts to copy this basic pattern the child learns the necessary
skills of motor-co-ordination. The child first learns Print Script, a simple
unjoined alphabet, and then learns a joined style based one of the other
three main systems. As the mature hand develops, eventually by the end of
the teenage years evolving into the stable final hand that will (usually)
serve the individual for the rest of his or her life, two kinds of characteristic
can be ascertained. We call these <strong>individual characteristics</strong>
and <strong>style characteristics</strong> . Individual characteristics
are those components of a given hand that make it unique: they are what
document examiners are mainly interested in. But in each hand there will
also be a residual set of style characteristics: those elements which are
shared with other members of a group or groups. Style characteristics come
in three kinds: <strong>system characteristics</strong> , that serve to
identify which of the four general classes or systems the learned style
derives from; <strong>copybook characteristics</strong> , that can definitely
be linked to a particular copybook version of the basic system; and, finally,
what we call <strong>underground characteristics</strong> , which are those
features which are shared with other writers, but which do not occur in
any copybook. So for example the following letter-forms, familiar to all
UK handwriting examiners, are not as far as we know part of any of the basic
systems or their copybook dialects:</p></div><center><a href="http://www.unask.com/website/handwriting/new_web_pages/underground.htm"><strong>Underground characteristics</strong></a><strong>.</strong>
</center>
<div><p>Some underground characteristics may actually be learned at the stage
when handwriting is initially acquired, deriving from the practice of teachers
who modify the copybook system that they teach, for whatever reason, thus
incorporating underground characteristics at this early stage. Normally,
however, they seem to be picked up later, presumably by imitation.</p><p>

Since in the UK (and in other countries too) the normal process of teaching
handwriting is to teach first one system, the unjoined Print Script, and
then a second, cursive or joined up system, it is the latter that normally
is the basis of the set of system characteristics in the mature hand. Rather
confusingly, however, the original Print Script is not seen as being a system
at all, but as 'basic writing', which is then 'joined up', under the influence
of some taught system, to form a cursive style. In fact what happens is
that two successive <cite>systems</cite> are learned, the latter superseding
the former: Print Script is as much a copybook system, with a history and
a designer, as any other. But because of the misconception that Print Script
is not a system, this form is not often seen in adult handwriting. It is
widely associated with semi-literacy, where the writer is assumed not to
have progressed on to the 'joined up' writing.</p><p>

The case of capitals is also curious. The child learns two forms: Print
Script is taught in a lower and upper case form. The cursive scripts that
follow it also have their own particular kind of capitals, and these are
learned; but they are only used when the writer is doing their normal writing.
When an adult is required to fill in a form and asked to write in capitals
for the purpose of clarity, they will usually produce Print Script capitals.
(The practice found elsewhere in Europe of producing a print script lower
case form when asked to write clearly--to 'print'--is rare in the UK.) These
Print Script capitals are known as <strong>block capitals</strong> , and
considered (incorrectly) to be a separate style: they are not associated
in most people's minds with the 'childish' style of Print Script. Since
for most people filling in forms is only a small part of the writing that
they do, block capitals are not much practiced and therefore retain quite
purely their Print Script style: they are less embellished than cursive
writing with individual or underground characteristics. Therefore block
capitals are commonly used in writing that wishes to remain anonymous. However,
some writers have more practice than others in writing block capitals, and
they have evolved styles of their own. All of these styles are underground:
no style of block capitals other than Print Script is taught or published.</p></div><center><a href="http://www.unask.com/website/handwriting/new_web_pages/caps.htm"><strong>Styled Block Capitals</strong> </a></center>
<div><p>As far as document examiners are concerned the relevance of this outline
of handwriting acquisition is as follows. The part of their job that concerns
handwriting examination can be said to have two aspects: <strong>identification</strong>
and <strong>categorization</strong> . Identification deals with those tasks
that involve stating whether or not a particular piece of writing was, or
was not, written by a particular individual. Categorization deals with the
problem of anonymous writing, and involves saying whatever can be said to
describe the anonymous writer. For example: was this writing done by someone
who was left-handed? At the moment the former is far more important, partly
because relatively little proper research has been done on the latter. </p><p>

Categorization deals entirely--by definition--with style characteristics:
those characteristics that are shared with other writers. Identification
deals with both: with individual characteristics--again, by definition--but
also with style characteristics, since in particular cases the appearance
of certain of these in a particular hand may serve to distinguish the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.unask.com/website/handwriting/new_web_pages/acquisition.htm">http://www.unask.com/website/handwriting/new_web_pages/acquisition.htm</a></em></p>]]>
            </description>
            <link>http://www.unask.com/website/handwriting/new_web_pages/acquisition.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25713526</guid>
            <pubDate>Sun, 10 Jan 2021 11:18:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building a Hacker Space (2007) [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25712952">thread link</a>) | @Tomte
<br/>
January 10, 2021 | https://events.ccc.de/congress/2007/Fahrplan/attachments/1003_Building%20a%20Hacker%20Space.pdf | <a href="https://web.archive.org/web/*/https://events.ccc.de/congress/2007/Fahrplan/attachments/1003_Building%20a%20Hacker%20Space.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://events.ccc.de/congress/2007/Fahrplan/attachments/1003_Building%20a%20Hacker%20Space.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712952</guid>
            <pubDate>Sun, 10 Jan 2021 09:52:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CTO day 2: downsizing the team]]>
            </title>
            <description>
<![CDATA[
Score 94 | Comments 107 (<a href="https://news.ycombinator.com/item?id=25712771">thread link</a>) | @delebe
<br/>
January 10, 2021 | https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/ | <a href="https://web.archive.org/web/*/https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p id="entry-summary">On your first day as newly appointed CTO you are working on your hiring strategy, the second day your organization asks you to downsize the team.</p><div><p>A very important project that was a done deal, and that will secure the organization’s future for the next five years, failed to happen.</p><p>Not winning this project meant that the organization was forced to <em>“focus”</em> and reduce costs.</p><p>It never crossed my mind that one of the first things that I would be asked to do as an inexperienced CTO would be to fire part of the team.</p>
<p>when such bad news becomes public, host an open door day where the team can openly talk about the situation, share their feelings, see each other, feel connected, and be listened to. It would not stop the gossiping but it will help.</p><h2>Cuts and team principles</h2><p>The Dev team slice of the <em>“focus”</em> meant cutting cost by 10 to 15%. In human terms, firing two to four people (out of 17).</p><p>After some failed attempts to approach this task, this is what worked for me.</p><p>I started by listing some principles: </p>
<ul>
  <li>For each product, we need to cover the following disciplines: Frontend, Backend, Architecture, Operations, Mobile, UX, Design, QA, Leadership, and Product Management.</li>
  <li>There are broadly 3 experience levels:
  <ul>
    <li>Senior: creates the plan.</li>
    <li>Mid-level: follows the plan.</li>
    <li>Junior: needs to be taught to follow the plan.</li>
  </ul></li>
  <li>No number of junior people can do some work a senior person can do.</li>
  <li>Not having a senior person in a discipline will mean that the product quality will suffer:
  <ul>
    <li>If a senior creates a plan, a team of mid-level+juniors can follow the plan for some time (2-3 years?) before the product becomes a big mess.</li>
    <li>To get out of a big mess, we need senior people.
    <ul>
      <li>We are already in a big mess with Product A and Product B.</li>
      <li>With the current team, it feels Product A is getting out of the mess.</li>
    </ul></li>
  </ul></li>
  <li>Independent (cross-functional) teams are more efficient:
  <ul>
    <li>More focus.</li>
    <li>No handoffs, faster feedback.</li>
    <li>No shared “resource” contention.</li>
  </ul></li>
  <li>People working in multiple products/teams are less efficient.</li>
  <li>Multidisciplinary (generalist) people:
  <ul>
    <li>Can cover the need for several of the disciplines.</li>
    <li>They can be junior in one discipline and senior in another.</li>
    <li>Allow focusing on any priority, without creating artificially important work for single-disciplined members.</li>
  </ul></li>
  <li>Max team size: 2 pizza teams 6-8.</li>
</ul><p>The ideal team would be one that has all disciplines covered at a senior level with multidisciplinary people working in just one team, and with enough overlap to avoid a <a href="https://en.wikipedia.org/wiki/Bus_factor">bus factor</a> of one. Additional people will bring additional capacity.</p><h2>Inverse Conway’s maneuver</h2><p>We have been working on bringing three of the products together for some time. They were already under the same product manager, but they were still three teams working on their own priorities. Merging them into one team, in a classic <a href="https://danlebrero.com/2020/01/08/do-i-need-a-gateway-api-team-dynamics/#content">inverse Conway’s maneuver</a> would hopefully accelerate the integration between the products.</p><p>One of the other products was small enough that for this task I decided to temporarily ignore it.</p><p>Following the principles above and the product considerations, the plan was to move the previous team setup from:</p><p><img src="https://danlebrero.com/images/blog/cto/day2/old-team-structure.jpg" alt="old team structure"> </p><p>To something like (boxes represent skills, not people):</p><p><img src="https://danlebrero.com/images/blog/cto/day2/new-team-structure.jpg" alt="new team structure"> </p><p>So two products, two cross-functional teams. Platforms and design teams will be reshuffled inside those two teams.</p><h2>Which parent do you love most? A computer will tell</h2><p>With a clear plan for the team, the next step was to <em>“just”</em> pick up who will work on each team, and who we will need to let go. The most painful decision in my career. </p>
<blockquote><p><a href="https://danlebrero.com/2019/11/27/becoming-a-technical-leader-book-notes/#content">People with a strong technical background can convert any task into a technical task, thus avoiding work they don’t want to do.</a> <cite>Jerry Weinberg, Becoming a Technical Leader</cite></p>
</blockquote><p>And I didn’t want to do the task so, consciously ignoring Mr. Weinberg, I transformed the ordeal into an optimization problem, for which I wrote an application to help me with.</p><h3>The app</h3><p>The application took as input the amount of $$$ to cut, the list of people, their salary, and the skill level on each discipline mentioned above, and outputted the possible two teams that would be within budget and match the minimum requirements, sorted by a scoring system.</p><p>The minimum requirements and scoring system configuration looked like:</p>
<pre><code>{
"FE" [at-least-senior sum-skills]
"PM" [senior-plus-somebody-else (fix-points 5)]
"Design" [two-mid-or-senior (senior-better 6 2)]
...
}
</code></pre><p>The first function filters out invalid teams while the second scores the valid ones.</p><p>In the example we say that the team has to have:</p>
<ul>
  <li>At least one senior FE developer. The more FE developers, the better team score.</li>
  <li>At least one senior product manager and one mid or junior one. Only one senior is not enough. No matter how many PMs the team has, the score for this discipline is 5. A team with loads of FE devs will score higher than one with loads of PMs.</li>
  <li>At least a senior designer or two mid-level designers, but we prefer one senior designer (6 points) instead of two mid-level ones (2 points).</li>
</ul><h3>The result</h3><p>As heartless as this may seem:</p>
<ul>
  <li>It removed some bias. There is still bias on the skill level evaluation and in the team scoring system.</li>
  <li>I was part of the people on that list. To be honest, little consolation here. Big bias.</li>
  <li>It forced me to be very very precise on what a “functioning team” meant.</li>
  <li>It allowed me to see what different scoring systems would output.</li>
  <li>I noticed some people would never show in the output, and had to dig into why. It was enlightening.</li>
  <li>It allowed me to analyze tens of thousands of different team combinations, with different scoring systems.</li>
  <li>Programming gave me a respite from the task. This was the first time, but now I embrace more regularly “keep my sanity” programming days.</li>
</ul><p>Most important, the application gave me a few starting points. Of those, I still had to consider the team dynamics, existing teams, personalities, seniority, potential, personal situation, future needs, …</p>
<p>yes, I still have the code. No, I am not going to share it publicly. It would kill me to find there is a bug.</p><h2>Delivering the bad news</h2><p>Once the decision was made, it was time to swallow the last bitter pill.</p><p>Some tips:</p>
<ul>
  <li>Ensure that the people affected are the first ones to know.</li>
  <li>Warn beforehand:
  <ul>
    <li>Do not use your regular one-to-one meeting slot.</li>
    <li>In your message, give a strong hint: “HR person will be in the meeting”, “Really bad news”.</li>
    <li>Give them time to get ready for the meeting.</li>
  </ul></li>
  <li>You don’t need to do it alone. Our HR manager was present and was a huge support for both of us.</li>
  <li>Treat people like adults.</li>
  <li>At the meeting, follow Nadia van der Vlies’ <a href="https://danlebrero.com/2020/04/01/no-nonsense-leadership-summary/#bad-news">advice</a>:
  <ul>
    <li>Deliver the blow:
    <ul>
      <li>Go straight to the bad news.</li>
      <li>Give one or two reasons.</li>
    </ul></li>
    <li>Manage the reaction:
    <ul>
      <li>Be understanding. Do not justify yourself.</li>
      <li>Give space. Do not fill silences.</li>
    </ul></li>
    <li>Solution, explanation, follow-up appointment:
    <ul>
      <li>Wait for the employee to be ready. When she starts asking “why” or “what now”.</li>
      <li>Reiterate reasons.</li>
    </ul></li>
  </ul></li>
  <li>In a couple of days follow up with another more informal meeting. The news would have sunk, and the conversation would be more forward-thinking and productive.</li>
</ul>
<hr><p>A slap in the face to awaken me from the dream that a CTO role is mostly about technology.</p></div></div>]]>
            </description>
            <link>https://danlebrero.com/2020/12/02/cto-diary-downsizing-team-firing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712771</guid>
            <pubDate>Sun, 10 Jan 2021 09:27:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Noise Planets]]>
            </title>
            <description>
<![CDATA[
Score 158 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25712767">thread link</a>) | @atulvi
<br/>
January 10, 2021 | https://avinayak.github.io/art/2021/01/09/noise-planets.html | <a href="https://web.archive.org/web/*/https://avinayak.github.io/art/2021/01/09/noise-planets.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p><img src="https://avinayak.github.io/uploads/erporydxmaarwcd.png" alt=""></p>

<p>I recently found this piece of art (LINES 2A (2017)) created by <a href="https://twitter.com/tylerxhobbs">Tyler Hobbs</a>. This picture kinda looked very hand drawn, but it’s completely generative. Something about this drawing and it’s texture kind of resonated with me, so I wanted to try to study and replicate (or make something inspired by this work) using p5js.</p>

<p>I started out by plotting a bunch of random points within a circle like so.</p>

<div><div><pre><code>w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4');
}

function draw() {
  x = random(w)
  y = random(w)
  if (pow(w/2 - x, 2) + pow(w/2 - y, 2) &lt; 7e4) {
    point(x,y)
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-25.png" alt=""></p>

<p>This is a painfully slow process to generate random points in a circle. I found a better way to do this later. What I wanted to do next was to generate flow fields, but restricted to the circular region.</p>

<p>It’s super easy to generate flow field patterns using perlin noise.</p>

<ol>
  <li>Choose a random point <code>&lt;x,y&gt;</code></li>
  <li>Plot <code>&lt;x,y&gt;</code></li>
  <li>Calculate <code>n = noise(x,y)</code></li>
  <li>Do <code>x+=cos(n * 2 * PI)</code> and <code>y+=sin(n * 2 * PI)</code></li>
  <li>Repeat 2.</li>
</ol>

<p>We’re going to plot flow fields inside the circle. Let’s try this.</p>

<div><div><pre><code>const is_in_circle = (x, y) =&gt; 
  (pow(w / 2 - x, 2) + pow(w / 2 - y, 2) &lt; 7e4)

function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y)) {
      n = noise(x, y)
      x += sin(n * TAU)
      y += cos(n * TAU)
      point(x, y)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-28.png" alt=""></p>

<p>OK, not very good. The noise at this level is pretty rough. we’re going to zoom in to the noise function (by dividing the <code>x,y</code> inputs by some constant value) and probably use <code>circle(x ,y ,0.3)</code> to plot points instead if point function, because I feel it looks way smoother. Also, I’m adding a <code>random() &gt; 0.01</code> condition in the loop so that we also get short lines that are not trimmed away by the edge of the circle.</p>

<div><div><pre><code>function draw() {
  if (is_in_circle(x = random(w), y = random(w)))
    while (is_in_circle(x, y) &amp;&amp; random() &gt; 0.01) {
      n = noise(x / 500, y / 500)
      x += sin(n * TAU)
      y += cos(n * TAU)
      circle(x, y, .3)
    }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/download-27.png" alt=""></p>

<p>Actually.. not bad. I think we manage almost replicate the original texture. The inverted version also looks pretty good.</p>

<p><img src="https://avinayak.github.io/uploads/download-19.png" alt=""></p>

<p><img src="https://avinayak.github.io/uploads/ppanets.png" alt=""></p>

<p>I went ahead and made a つぶやきProcessing version of this.</p>

<blockquote><p lang="en" dir="ltr">function setup(){createCanvas(w=1e3,w),background("<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a>")}function draw(){if(g(x=random(w),y=random(w)))for(;g(x,y)&amp;&amp;random()&gt;.01;)n=noise(x/500,y/500),x+=sin(n_TAU),y+=cos(n_TAU),circle(x,y,.3)}g=((n,o)=&gt;pow(w/2-n,2)+pow(w/2-o,2)&lt;w*w/16); <a href="https://t.co/iVZTMtCn3i">pic.twitter.com/iVZTMtCn3i</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347903013042622467?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="going-further-animations">Going Further: Animations</h2>

<p>The code we wrote right now technically is animated. The animation however is not very smooth.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_03-52-31.mp4" type="video/mp4"> </video>

<p>To make smooth animations, we need to generate new points in the circle, keep track of these points outside the <code>draw()</code> function. I found this neat <a href="https://stackoverflow.com/a/50746409">technique</a>, to find random points in a circle where a random radius <code>r</code> and angle <code>theta</code> are chosen and the <code>x,y</code> points are obtained as <code>x = centerX + r * cos(theta)</code> and <code>y = centerY + r * sin(theta)</code></p>

<p>Let’s try that first.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

function setup() {
  createCanvas((w = 1e3), w);
  background(255)
  k = w / 2
  m = (Array(w).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    circle(x, y, .3);
  }
}
</code></pre></div></div>

<p><img src="https://avinayak.github.io/uploads/screenshot-from-2021-01-10-04-51-20.png" alt=""></p>

<p>and now we apply flow fields and try to move these points.</p>

<div><div><pre><code>function random_point() {
  r = random(w / 4)
  t = random(TAU)
  return [
    w/2 + cos(t) * r, 
    w/2 + sin(t) * r
  ]
}

const w = 1000
function setup() {
  createCanvas(w, w);
  background('#F9F8F4')
  k = w / 2
  points = (Array(k).fill(0)).map(random_point)
}

function draw() {
  for (i = k; --i;) {
    [x, y] = m[i]
    x += sin(n = noise(x / 400, y / 400) * TAU) * h
    y += cos(n) * h
    stroke(i%255)
    circle(x, y,.3)
    if (pow(k - x, 2) + pow(k - y, 2) &lt; 7e4)  // if point is in circle
      points[i] = [x, y, t]
    else points[i] = random_point() // replace with new point if not
  }
}
</code></pre></div></div>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_04-56-11.mp4" type="video/mp4"> </video>

<p>And a つぶやきProcessing version of course..</p>

<blockquote><p lang="cy" dir="ltr">t=0,p=i=&gt;\[k+(r=random(w/4))_cos(t+=.1),k+r_sin(t)\],setup=i=&gt;{createCanvas(w=1e3,w),m=Array(k=w/2).fill(0).map(p)},draw=r=&gt;{for(i=k;--i;)\[x,y\]=m\[i\],x+=sin(n=noise(x/k,y/k)_TAU),y+=cos(n),stroke(i%4_85),point(x,y),k_w+x_x+y_y-w_(x+y)&lt;7e4?m\[i\]=\[x,y\]:m\[i\]=p()};//<a href="https://twitter.com/hashtag/%E3%81%A4%E3%81%B6%E3%82%84%E3%81%8DProcessing?src=hash&amp;ref_src=twsrc%5Etfw">#つぶやきProcessing</a> <a href="https://t.co/xVhCBNUltL">pic.twitter.com/xVhCBNUltL</a></p>— yakinavault (@yakinavault) <a href="https://twitter.com/yakinavault/status/1347930637227855874?ref_src=twsrc%5Etfw">January 9, 2021</a></blockquote>


<h2 id="adding-colors">Adding Colors</h2>

<p>There are many strategies to colorizing this sketch. One is by just giving each particle a random initial color.</p>

<p><img src="https://avinayak.github.io/uploads/download-21.png" alt=""></p>

<p>However, I found that maintaining the initial x or y position in the particle array and using that to derive the hue information gives us some nice Jupiter/gaseous planet vibes.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-18-19.mp4" type="video/mp4"> </video>

<p>The fringing at the sides can be avoided by moving 50% of the points in the reverse direction.</p>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_05-28-03.mp4" type="video/mp4"> </video>

<video loop="" autoplay="" muted=""> <source src="https://avinayak.github.io/uploads/simplescreenrecorder-2021-01-10_08-43-25.mp4" type="video/mp4"> </video>

<p>More color variations</p>

<p><img src="https://avinayak.github.io/uploads/untitled.png" alt=""></p>

<p>And that’s it. Hope this was educational!</p>

</div></div>]]>
            </description>
            <link>https://avinayak.github.io/art/2021/01/09/noise-planets.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712767</guid>
            <pubDate>Sun, 10 Jan 2021 09:26:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Blocks Courtesy of Konrad Zuse (2014)]]>
            </title>
            <description>
<![CDATA[
Score 34 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25712727">thread link</a>) | @todsacerdoti
<br/>
January 10, 2021 | https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse | <a href="https://web.archive.org/web/*/https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Apparently, I've got a theme going of Weird Syntax. Let's run with it.</p>

<p>Konrad Zuse was an early pioneer in computer science, although his name is perhaps somewhat less well-known than others. Zuse holds the honor of having built the first programmable computer—-the Z3—-back in the 40's, as well as several other computing firsts<sup id="fnref:1"><a href="#fn:1" rel="nofollow">1</a></sup>. Of particular interest to this blog post is his early unimplemented programming language, Plankalkül.</p>

<p>Plankalkül was, like the Z3, in many respects ahead of its time. Zuse's explicit goal was to be able to describe programs at a high level, which meant he included control structures and datatype definitions<sup id="fnref:2"><a href="#fn:2" rel="nofollow">2</a></sup> and other high-level constructs that were often missing in languages of the early years of computing. Zuse was working on Plankalkül at a time when his machines were not useable, which meant that his language work was more theoretical than it was technical, and consequently he allowed features that he wasn't entirely sure how to program. Despite his notes on it having been written in the mid-40's, they were not published until the 70's, and it was not implemented until the year 2000.</p>

<p>One thing that struck me, as I read programs in this notation that had been set down on a typewriter<sup id="fnref:3"><a href="#fn:3" rel="nofollow">3</a></sup>, is that certain kinds of grouping were handled by explicit indication of scope: not via matched delimiters as in ALGOL-style languages, or via indentation in languages such as Python and Haskell, but by formatting the code so that a line bordered on the left of the scoped parts of the code:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-01.png" alt=""></p>

<p>This is meant to capture the way grouping works in the hand-written or typeset notation, with brackets spanning multiple lines:</p>

<p><img src="https://blog.infinitenegativeutility.com/static/zuse-02.png" alt=""></p>

<p>I think this is notationally interesting: it's like Python's significant whitespace, but not, uh, whitespace. It would be incredibly tedious to type out, but still entirely compatible with current programming notation:</p>

<pre><code>class Tet
 | @staticmethod
 | def new_tet()
 |  | n = randint(0, len(Tet.Tets) - 1)
 |  | for p in Tet.Tets[n]
 |  |  | if p in Board.permanent
 |  |  |  | Game.lose()
 |  | Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 |
 | def __init__(self, points, color)
 |  | self.points = points
 |  | self.color = color
</code></pre>

<p>and would be entirely amenable to beautifying via judicious application of Unicode:</p>

<pre><code>class Tet
 ┃ @staticmethod
 ┃ def new_tet()
 ┃  ┃ n = randint(0, len(Tet.Tets) - 1)
 ┃  ┃ for p in Tet.Tets[n]
 ┃  ┃  ┃ if p in Board.permanent
 ┃  ┃  ┗  ┗ Game.lose()
 ┃  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ┃
 ┃ def __init__(self, points, color)
 ┃  ┃ self.points = points
 ┃  ┗ self.color = color
</code></pre>

<p>Looking at this notation, however, an interesting possibility struck me: a programmer could explicit annotate information about the <em>kind of scope</em> involved in a given line. In this Python-like example, I could, for example, distinguish class scope using double lines, function scope with thick lines, and control structure scope with thin lines:</p>

<pre><code>class Tet
 ║ @staticmethod
 ║ def new_tet()
 ║  ┃ n = randint(0, len(Tet.Tets) - 1)
 ║  ┃ for p in Tet.Tets[n]
 ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
 ║  ┗ Game.current = Tet(Tet.Tets[n], Tet.TetColors[n])
 ║
 ║ def __init__(self, points, color)
 ║  ┃ self.points = points
 ║  ┗ self.color = color
</code></pre>

<p>One advantage of this scheme is that a handful of lines, viewed in isolation, still give you a clear view of what surrounds them. For example, I can view these two lines in isolation and still tell that they are within a control structure used within a function declared within a class:</p>

<pre><code> ║  ┃  │ if p in Board.permanent
 ║  ┃  └  └ Game.lose()
</code></pre>

<p>You could also imagine a hypothetical language in which choice of scope delimiter is important. In Python, <code>for</code> and <code>if</code> do not form a new lexical scope. What if instead we could stipulate the kind of scope they form by this notational convention?</p>

<pre><code>def okay()
 ┃ if True
 ┃  └ n = 5   # n is declared in function scope
 ┗ return n   # n leaks out of the if-scope

def not_okay()
 ┃ if True
 ┃  ┗ n = 5   # n is declared in the if's scope
 ┗ return n   # error: no n in scope here
</code></pre>

<p>That being said, there are a number of reasons that this notation is in inferior to existing notations:</p>
<ul><li>It makes refactoring code <em>much</em> more difficult.</li>
<li>It requires that the programmer <em>pay attention</em> to the sequence of enclosing scopes on a <em>line-by-line</em> basis, which is generally too pedantic and not particularly useful for a programmer.</li>
<li>The ability to select “which kind of scope” is by no means only expressible by this notation, as other syntactic features such as keywords and delimiters could express the same thing.</li>
<li>There are only so many line-like characters which can serve as a scope marker, so this scheme is not very extensible.</li>
<li>It complicates parsing (especially by introducing an entirely new class of parse errors in which adjacent lines feature incompatible sequences of delimiting lines), and so it also...</li>
<li>Complicates parse <em>error messages</em>, which are an important part of a language's UI and should be considered seriously.</li></ul>

<p>So, as in my previous post on <a href="https://journal.infinitenegativeutility.com/2014/8/noun-case" rel="nofollow">grammatical case in programming languages</a>, I urge readers <em>not</em> to use this notation as the concrete syntax for a programming language. This is merely an entertaining peek through the looking glass at a curious notational convention which was never adopted.</p>

<p>That said: this makes a very nice notation for <em>viewing</em> code, where the programmer does not have to explicitly draw ASCII art around their code; indeed, it bears more than a passing similarity to the graphical interface used in <a href="http://scratch.mit.edu/" rel="nofollow">Scratch</a>, and Sean McDirmid's <a href="http://research.microsoft.com/en-us/projects/liveprogramming/typography.aspx" rel="nofollow">Experiments in Code Typography</a> features this very convention as an interactive ornament on code in a Python-like language.</p>

</div></div>]]>
            </description>
            <link>https://journal.infinitenegativeutility.com/blocks-courtesy-of-konrad-zuse</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712727</guid>
            <pubDate>Sun, 10 Jan 2021 09:21:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Gekko: OS software used by the Danish gov. for economic forecasting]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25712719">thread link</a>) | @stilisstuk
<br/>
January 10, 2021 | http://t-t.dk/gekko/ | <a href="https://web.archive.org/web/*/http://t-t.dk/gekko/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
<p>Instead of Gekko, why not use for instance Python, or R, or GAMS, or MATLAB, or SAS, or Excel, or … ?</p>
<p>Software packages are typically aimed at some purpose, and this is reflected in, among other things, the underlying data structures and the syntax of the command language.</p>
<p>Since Gekko is timeseries-oriented, the syntax for handling and analyzing timeseries and timeseries-based models is concise and natural. Gekko does not try to do everything, but tries to focus on its strong points, while simultaneously providing good interfaces to other software packages.</p>

			</div></div>]]>
            </description>
            <link>http://t-t.dk/gekko/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712719</guid>
            <pubDate>Sun, 10 Jan 2021 09:20:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Top Ranked Tweets on Hacker News 2020]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25712499">thread link</a>) | @hgarg
<br/>
January 10, 2021 | https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/ | <a href="https://web.archive.org/web/*/https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
    <ul>
<li>Data curated from <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">Hacker News Front Page Explorer</a></li>
</ul>
<p>1.Every Google result now looks like an ad </p><p>2.macOS unable to open any non-Apple application </p><p>3.John Conway has died </p><p>4.iOS14 reveals that TikTok may snoop clipboard contents every few keystrokes </p><p>5.This electrical transmission tower has a problem </p><p>6.Apple does not keep the 30% commission on a refund </p><p>7.AWS forked my project and launched it as its own service </p><p>8.Google no longer providing original URL in AMP for image search results </p><p>9.Guido van Rossum joins Microsoft </p><p>10.When a customer refunds your paid app, Apple refunds its 30% cut </p>
<p>Get the Full list (162 records) <a target="_blank" rel="noopener" href="https://gum.co/hacker-news-tweets-2020">here for FREE</a></p>
<p>Want to run this and other kind of analysis on your own? Get the Full Database <a target="_blank" rel="noopener" href="http://explorehackernews.xyz/?ref=harishgarg.com">here</a></p>

  </div></div>]]>
            </description>
            <link>https://harishgarg.com/writing/hacker-news-front-page-tweets-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712499</guid>
            <pubDate>Sun, 10 Jan 2021 08:52:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Breakthrough in Measuring the Building Blocks of Nature]]>
            </title>
            <description>
<![CDATA[
Score 51 | Comments 11 (<a href="https://news.ycombinator.com/item?id=25712475">thread link</a>) | @CapitalistCartr
<br/>
January 10, 2021 | http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature | <a href="https://web.archive.org/web/*/http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			

			<figure data-alt=""><img src="http://static.nautil.us/18082_ad5db5924e3e97ed8a387a499efa9fa0.jpg" width="733" alt=""><figcaption><span><i>An artistic rendering of the quarks and gluons that make up a proton.</i></span><span>Illustration by D. Dominguez / CERN</span></figcaption></figure><p><span>I</span>n a recent experiment done at the Max Planck Institute for Quantum Optics, in Germany, physicist Alexey Grinin and his colleagues came a step closer to resolving one of the more significant puzzles to have arisen in particle physics over the past decade. The puzzle is this: Ordinarily, when you set about measuring the size of something, you’d expect to get the same answer no matter what you use to measure it—a soda can has the diameter it does whether you measure it with a tape measure or callipers (provided these are properly calibrated, of course). Something must be amiss if your attempts to measure the can return different answers depending on the equipment, yet this is precisely what’s happened over multiple attempts to measure the spatial extent of a proton. What’s potentially at stake is our understanding of the building blocks of reality: the <a href="https://science.sciencemag.org/content/370/6520/1061.abstract" target="_blank">differing measurements</a> could be heralding the existence of new forces or particles.</p><p>What does it mean for a subatomic particle to have a measurable “size”? Mathematically, fundamental particles are idealized as point particles, which is to say that, as far as we can tell, they have no meaningfully discernible spatial extent, or substructure, at all. True, all fundamental particles are associated with a quantum mechanical wave packet, which does have a spatial extent that depends on the energy of the particle. Yet these basic bits of Lego are entities whose wave packets you can, in principle, pack into as small a region as you’d like before the very notion of continuum geometry starts, at the Planck scale, to lose meaning. Fundamental particles organize into something analogous to a mini periodic table—consisting of the various force carrying particles, such as photons and gluons (the carrier particles of the strong nuclear force), along with three generations of quarks and leptons and the mass-generating Higgs boson—and can stack together in different combinations to form a zoo of so-called composite particles.</p><blockquote><p>There is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p> </blockquote><p>Perhaps the most familiar and ubiquitous of these is the proton. With at least one in every kind of element, it’s made up of two up quarks and a down quark that dance around each other in a tightly bound orbit maintained by exchanging gluons. This exchange process is so energetic that most of the mass of the proton (or for that matter, most of the material that makes us up) derives from the energy contained in these gluons—a consequence, as Einstein informed us, of <i>E</i> being equal to <i>mc</i><sup>2</sup>.&nbsp;<br></p><figure data-alt=""><img src="http://static.nautil.us/18083_78b8d6620afcd434a4b7fb41b22e595b.png" width="733" alt=""><figcaption><span><i>Fundamental particles organize into something analogous to a mini periodic table (above).</i></span><span>CERN</span></figcaption></figure><p>So it’s not meaningless to ask what the “size” of the proton is. The study by Grinin’s team highlights the fact that defining this notion remains a rather tricky affair. And, as we’ll see, their results serve to sharpen the mystery as to why other measurement methods researchers have used previously disagree.<br></p><p>A physicist can reasonably infer a proton’s size from the “charge radius”—roughly the averaged spatial extent of quark orbits inside. This quantity is probed in slightly different ways by electrons and muons (another sort of fundamental particle), when you probe their orbital configurations as they form “bound states” with the proton—atomic hydrogen in the case of electrons, muonic hydrogen in the case of muons. Because muons are about 200 times heavier than electrons, their lowest energy orbital configurations are much more tightly bound around the proton than are electrons in atomic hydrogen. Consequently, the differences in the energies of various orbitals in muonic hydrogen are much more sensitive to the proton’s size as well as being more “high pitched” than that of regular atomic hydrogen.&nbsp;</p><p>In other words, similar to how plucking a guitar string at a given tension produces a much higher note were we to fret it open, or at 1/200th its open length, the typical frequencies of the radiation emitted by transitions in muonic hydrogen are about 200 times higher than that in atomic hydrogen. These frequencies relate to something called the Rydberg constant—the tension of the guitar string in the analogy—which appears to be one of the potentially more significant sources of uncertainty proton size-wise. Orbital energy levels depend on both this constant and the charge radius of the proton.</p><p>Proton-size measurements didn’t conflict for decades. Different methods—like measuring the radius by observing electrons orbit within hydrogen atoms, or by scattering energetic electrons off of unbound protons—had converged on a value of 0.875 (give or take 0.006) femtometers. That’s a little less than a trillionth of a millimeter. That convergence was disrupted in 2010, when a paper came out titled, “The size of the proton.” As the researchers reported, <a href="http://www.quantum.physik.uni-potsdam.de/teaching/ss2015/pqt/Pohl2010.pdf" target="_blank">measurements</a> involving orbital configurations in muonic hydrogen returned a value of 0.842, give or take 0.001 femtometers. This may not seem like much of a difference, but it’s the accompanying error bars that matter. The measurements are, individually, so precise that their disagreement is over seven standard deviations—there is less than one in about a trillion chance that the discrepancy could be a statistical fluke.</p><p>There are only two possibilities for the anomalous result if the equipment used in the experiments and their calibrations all check out after careful scrutiny. Either some combination of physical constants, which researchers assume in order to experimentally infer the proton charge radius, isn’t known as accurately as we thought, or there is something different about the way muons interact with protons, compared to electrons, that renders particle physics incomplete.</p><p>The latter possibility, if substantiated, would, of course, cause a flurry of excitement among theoretical physicists to say the least, as it could imply the existence of new forces and particles. Not only would it reshape our understanding of the universe, it would represent a throwback to the days when physicists discovered particles (<a href="https://timeline.web.cern.ch/anderson-and-neddermeyer-discover-muon" target="_blank">such as the muon itself</a>) using equipment that could fit on a proverbial tabletop.</p><div id="inpagesub">
	<p>Get the <span>Nautilus</span> newsletter</p>
<p>
	The newest and most popular articles delivered right to your inbox!
</p>
			<!-- Begin MailChimp Signup Form -->
			




</div><p>Over the past few years, various teams have been attempting to get to the bottom of the matter by looking at different orbital transitions in atomic hydrogen that are sensitive to different combinations of the Rydberg constant and the charge radius. A 2019 <a href="https://science.sciencemag.org/content/365/6457/1007" target="_blank">measurement</a> by a group of researchers at York University in Canada looked at a particular orbital transition that was independent of the value of this constant, finding a value of 0.833 ± 0.010 femtometers, consistent with the smaller value obtained in muonic hydrogen.&nbsp;</p><p>Grinin’s team went a step further. They used a technique known as frequency comb spectroscopy. It involves pulses of laser light that are a superposition of equally spaced frequencies—a ruler in frequency space if you will—that allowed them to look at two different orbital transitions in atomic hydrogen sensitive to two different combinations of the proton size and the Rydberg constant. This permitted them to determine both with unprecedented accuracy. The technique reduced, to only about one part in ten trillion, the observational uncertainties in the frequency of light these transitions emitted—a staggering degree of accuracy by any standard.&nbsp;</p><p>Not only did Grinin’s team find a value for the charge radius of the proton consistent with the value obtained in muonic hydrogen, they inferred a much more precise value for the Rydberg constant. This accounted for some part of the discrepancy seen in other measurements in atomic hydrogen (which presumed a less accurate value).</p><p>It thus appears that the experimental value of the proton charge radius Grinin’s team obtained in atomic hydrogen is converging on the smaller values for the proton charge radius other researchers initially obtained in muonic hydrogen. The smaller value has by now even been adopted as the <a href="https://physics.nist.gov/cgi-bin/cuu/Value?rp" target="_blank">official value</a> on the National Institute of Standards and Technology <a href="https://www.nist.gov/programs-projects/codata-values-fundamental-physical-constants" target="_blank">CODATA</a> list of recommended physical constants—the official almanac for nuclear and atomic chemists and physicists.&nbsp;</p><p>Although this convergence, based on the continued refinement of experimental techniques, did not deliver the new physics some may have been hoping for, even the most despondent theoretical physicist can acknowledge the experimental artistry that seems to be bringing the matter closer to conclusion. What remains unresolved is the reason why measurements, relying on different spectroscopic methods in atomic hydrogen, return different values for the charge radius of the proton. The mystery, and along with it, the diminishing hope of particle physicists, endures for the time being.&nbsp;</p><p>This was enough motivation for a team of theoretical physicists, led by Cliff Burgess at the Perimeter Institute, in Canada, to systematically catalogue all possible sources of theoretical uncertainty in atomic spectroscopy over a <a href="https://inspirehep.net/literature?sort=mostrecent&amp;size=25&amp;page=1&amp;q=find%20a%20burgess,%20c%20and%20a%20zalavari" target="_blank">series of papers</a>. By isolating the ways in which new forces and particles might leave a tell-tale signature, they’ve thrown the gauntlet firmly back to the experimentalists. Future experiments, as always, will be the ultimate arbiter in this matter.&nbsp;</p><p><i>Subodh Patil is an assistant professor at the Lorentz Institute for Theoretical Physics at Leiden University. He tweets on occasion at @_subodhpatil.</i></p>

		</div></div>]]>
            </description>
            <link>http://m.nautil.us/blog/a-breakthrough-in-measuring-the-building-blocks-of-nature</link>
            <guid isPermaLink="false">hacker-news-small-sites-25712475</guid>
            <pubDate>Sun, 10 Jan 2021 08:48:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Log Pattern Recognition: LogMine]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25710991">thread link</a>) | @trungdq88
<br/>
January 9, 2021 | https://sayr.us/log-pattern-recognition/logmine/ | <a href="https://web.archive.org/web/*/https://sayr.us/log-pattern-recognition/logmine/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>When retrieving logs from an application, you are often looking for outliers
(such as a unique error) or what pattern occurs the most. However, defining
patterns manually is time-consuming and requires rigour across projects. In
this series of blog posts, we are going to explore automated Log Pattern
Recognition.</p>

<h2 id="why">Why</h2>

<p>I recently began using <a href="https://docs.datadoghq.com/logs/explorer/patterns/">Datadog Log Pattern</a>
and became addicted to it. Unfortunately, I was not able to find such a feature on
Kibana or a query proxy able to do this analysis. If that does not exist, I
might as well learn more about it and make one!</p>

<p>To my surprise, I did not find as many papers as I thought I would. And the
number of papers with public implementations is even lower. Our series begins
with a paper called <a href="https://www.cs.unm.edu/~mueen/Papers/LogMine.pdf">LogMine: Fast Pattern Recognition for Log Analytics</a>
and <a href="https://github.com/trungdq88/logmine">an implementation made by Tony Dinh</a>
that helped me a lot to study LogMine’s behavior.</p>

<p>To my surprise, I searched for anything related to LogMine on Hacker News
and only found Tony Dinh’s submission.</p>

<h2 id="defining-the-terms-used-in-this-article">Defining the terms used in this article</h2>

<p>Some terms used in this article can have several meanings. In Logmine’s context,
the terms I use mean:</p>
<ul>
  <li><code>log</code>: a log line (<code>string</code>)
    <div><div><pre><code>12:00:00 - My awesome log
</code></pre></div>    </div>
  </li>
  <li><code>pattern</code>: Expression extracted by the algorithm (array of <code>field</code>)
    <div><div><pre><code>[&lt;date&gt;, "-", "My", "awesome", "log"]
</code></pre></div>    </div>
  </li>
  <li><code>field</code>: Part of a <code>pattern</code> / Word from a <code>log</code> (Either a fixed value, a wildcard or a <code>variable</code>)</li>
  <li><code>cluster</code>: represents a group of logs that were identified as close to each
others</li>
  <li><code>variable</code>: a user-provided regex used to identify a known format
    <div><div><pre><code>number = \d+
time = \d{2}:\d{2}:\d{2}
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="an-introduction-to-logmine">An introduction to LogMine</h2>

<p>The LogMine paper describes a method to parse logs, group them into clusters and
extract patterns without any prior knowledge or supervision. LogMine can be
implemented using MapReduce and works in a single pass over the dataset.</p>

<p>LogMine’s approach to grouping logs roughly works by:</p>
<ol>
  <li>Parsing logs into patterns</li>
  <li>Grouping patterns into clusters if the <a href="#clustering">distance</a> between them is small</li>
  <li>Merging clusters into a single pattern</li>
  <li>Repeat from step 2 until you are satisfied</li>
</ol>

<p>LogMine classifies fields into three categories:</p>
<ul>
  <li><code>Fixed value</code>, a field that is constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
  <li><code>Variable</code>, a field that matches a pattern provided by the user. This is
detected at the pre-processing step.</li>
  <li><code>Wildcard</code>, a field that is not constant across all logs in a cluster. This is
detected at the pattern extraction step.</li>
</ul>

<p>Let’s illustrate how it works, step by step, using three simple logs:</p>

<div><div><pre><code>10:00:00 - [DEBUG] - User 123 disconnected
10:30:00 - [DEBUG] - User 123 disconnected
11:11:11 - [ERROR] - An error occurred while disconnecting user 456
12:12:12 - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>We will also define a variable <code>&lt;time&gt;</code> that follows the pattern
<code>\d{2}:\d{2}:\d{2}</code>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>A good practice would be to define more variables to avoid forming two clusters
from logs with low similarity. For instance, we <strong>should</strong> define <code>&lt;number&gt;</code>
as <code>\d+</code>.</p>

  <p>Depending on the pattern of your logs, defining a common field like <code>&lt;log-level&gt;</code>
as <code>[(DEBUG|INFO|WARNING|ERROR)]</code> might end up hiding information. This is
because a <code>WARNING</code> log with an error message might not be that important yet
the same log message with an <code>ERROR</code> level might have the exact information
you would like to highlight.</p>
</div>

<h3 id="log-parsing-and-dense-clusters-identification">Log parsing and dense clusters identification</h3>

<p>The first step is to parse logs into patterns and identify dense clusters. Dense
clusters are clusters where <strong>raw logs are almost identical</strong>.</p>

<p>To do this, we begin by splitting logs into patterns (an array of field). The
separator used by default is any whitespace character.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>10:00:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>10:30:00</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>11:11:11</td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td>12:12:12</td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>Next, we will tokenize the logs and identify variables (regex provided by the
user).</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Field_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Field_2</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Field_3</annotation></semantics></math></span></span></th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th>&nbsp;</th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mi>i</mi><mi>e</mi><mi>l</mi><msub><mi>d</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">Field_n</annotation></semantics></math></span></span></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>123</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[ERROR]</td>
      <td>-</td>
      <td>An</td>
      <td>error</td>
      <td>occurred</td>
      <td>while</td>
      <td>…</td>
    </tr>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td>-</td>
      <td>[DEBUG]</td>
      <td>-</td>
      <td>User</td>
      <td>789</td>
      <td>disconnected</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p>I stopped at the word <code>while</code> for readability reasons, but there’s no limit to
the number of fields.</p>

<h4 id="identifying-dense-clusters">Identifying dense clusters</h4>

<p>Once this transformation is done, we will reduce these patterns into dense
clusters. Identifying dense clusters can be seen as a special use-case of the
clustering algorithm: we identify clusters but <strong>we skip the pattern extraction
step as these patterns are nearly identical</strong>.</p>

<p>As such, I’ll first introduce the clustering algorithm and the notion of
distance between patterns.</p>

<h3 id="grouping-patterns-into-clusters">Grouping patterns into clusters</h3>

<p>The clustering algorithm takes a list of patterns and identifies patterns that
are close to each other. Both the Tony Dinh’s implementation and the paper uses
the distance defined as:</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Dist</mtext><mo stretchy="false">(</mo><mi>P</mi><mo separator="true">,</mo><mi>Q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mtext>Min</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></munderover><mfrac><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><msub><mi>P</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>Q</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><mrow><mtext>Max</mtext><mo stretchy="false">(</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>P</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>len</mtext><mo stretchy="false">(</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">\text{Dist}(P,Q) = 1 -
\sum_{i=1}^{\text{Min}(\text{len}(P),\text{len}(Q))}{\frac{\text{Score}(P_i,Q_i)}{\text{Max}(\text{len}(P),\text{len}(Q))}}</annotation></semantics></math></span></span></span></p><p>With P and Q, two patterns.</p>

<p>If the distance between the two patterns is inferior to a threshold <code>MaxDist</code>
defined internally, then the two patterns are considered a member of the same
cluster.</p>

<div>
  <p>This comparison process can be optimized by skipping unnecessary work if the
sum is already greater than our <code>MaxDist</code>.</p>

  <p>This is valid because the elements inside the sum can’t be negative.</p>
</div>

<p>The scoring function proposed in the paper allows for tweaking weights depending
on the field type.</p>

<p><span><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Score</mtext><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;fixed&nbsp;values</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>k</mi><mn>2</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mtext>if&nbsp;</mtext><mi>x</mi><mo>=</mo><mi>y</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>and&nbsp;both&nbsp;are&nbsp;variable</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>otherwise</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\text{Score}(x, y) =
\begin{cases}
  k1 &amp;\text{if } x=y &amp;\text{and both are fixed values}\\
  k2 &amp;\text{if } x=y &amp;\text{and both are variable} \\
  0 &amp;\text{otherwise}
\end{cases}</annotation></semantics></math></span></span></span></p><p>In order to keep performance, the scoring function can’t return a negative
value. Therefore <code>k1</code> and <code>k2</code> can’t be negative.</p>

<div>
  <p><strong>Note</strong></p>

  <p>The definition of this scoring function seems to have left some place for interpretation:</p>
  <ul>
    <li>Tony Dinh’s implementation <a href="https://github.com/trungdq88/logmine/blob/a7595c6a0b313b43969199c18465cc8bec3b57d1/src/line_scorer.py#L29">checks for equality</a>
if both value are fixed values.</li>
    <li><a href="https://github.com/logpai/logparser/blob/master/logparser/LogMine/LogMine.py">LogPai’s LogParser</a> dropped the concept of variables and uses k2 to tune wildcards weight</li>
  </ul>

</div>

<p>Let’s define <code>k1=1</code> and <code>k2=1</code>, these are the weight used by Tony Dinh’s
implementation and recommended by the original paper.</p>

<h4 id="applying-the-clustering-algorithm">Applying the clustering algorithm</h4>

<p>For this example, I will use the original paper recommendation (<code>MaxDist=0.01</code>).
The MaxDist parameter is used to tune the algorithm sensitivity: the higher
<code>MaxDist</code>, the more patterns are detected.
If <code>MaxDist</code> is too high, patterns are grouped into very large clusters and
pattern extraction become meaningless.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Log_2</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>4</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{4}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>5</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{5}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>123</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>6</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{6}{7}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{7}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>7</mn><mn>7</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{7}{7}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>7</mn><mn>7</mn></mfrac><mo>&lt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{7}{7} &lt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th>Fields from <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Log_3</annotation></semantics></math></span></span></th>
      <th>Score</th>
      <th>Sum (Total)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[ERROR]</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>2</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{2}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{11}</annotation></semantics></math></span></span></td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>An</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>error</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>occurred</code></td>
      <td>0</td>
      <td><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>3</mn><mn>11</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{3}{11}</annotation></semantics></math></span></span></td>
    </tr>
  </tbody>
</table>

<p>The two logs do not belong to the same cluster as <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>−</mo><mfrac><mn>3</mn><mn>11</mn></mfrac><mo>&gt;</mo><mtext>MaxDist</mtext></mrow><annotation encoding="application/x-tex">1 - \frac{3}{11} &gt; \text{MaxDist}</annotation></semantics></math></span></span>.</p>

<div>
  <p><strong>Note</strong></p>

  <p>As we are using <code>MaxDist=0.01</code>, and since the logs in my example are very short,
we will only identify logs that are identical. For this reason, <strong>we can use the
clustering algorithm to identify dense clusters</strong> by skipping the pattern
recognition step.</p>
</div>

<h3 id="pattern-detection">Pattern detection</h3>

<p>In sequential (as opposed to MapReduce) mode, each time a pattern is inserted
in a cluster, LogMine will try to extract patterns from them. LogMine knows
only how to identify two types:</p>
<ul>
  <li>Fixed values</li>
  <li>Wildcards</li>
</ul>

<p>While it seems rather strict, remember that the early pattern detection during
tokenization already took care of identifying user-defined patterns.</p>

<div>
  <p>Generating the pattern each time a new pattern is added allows LogMine to only
keep one representative for each cluster. This is a very important factor to
reduce memory usage.</p>

  <p><strong>MapReduce behavior is described later in this article.</strong></p>
</div>

<p>As patterns in the same cluster can have a different number of fields, the paper
uses the <a href="https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm">Smith-Waterman</a>
algorithm to align them. The Smith-Waterman is mainly used in Bioinformatics to
align sequences. It is interesting to see an algorithm like this applied to
log pattern recognition.</p>

<p>Once the two patterns are aligned, we compare one by one the field:</p>
<ul>
  <li>If the value is equal, we assign a fixed value</li>
  <li>If the value is different, we assign a wildcard pattern</li>
</ul>

<p>The Smith-Waterman algorithm adds placeholders to align logs. These placeholders
are <strong>never equal</strong> to a field value. This means that aligned parts of a log are
always identified as wildcards.</p>

<p>The output of the pattern detection algorithm is a <strong>new list of patterns</strong>.</p>



<p>Let’s assume that the previous algorithm identified a cluster with two patterns:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 789 disconnected
</code></pre></div></div>

<p>To stay consistent with how they were presented earlier, we will call them
<span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span> and <span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span>.</p>

<table>
  <thead>
    <tr>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Log_1</annotation></semantics></math></span></span></th>
      <th><span><span><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mi>o</mi><msub><mi>g</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">Log_4</annotation></semantics></math></span></span></th>
      <th>Result</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
      <td><code>&lt;time&gt;</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>[DEBUG]</code></td>
      <td><code>[DEBUG]</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>-</code></td>
      <td><code>-</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>User</code></td>
      <td><code>User</code></td>
      <td><code>Fixed value</code></td>
    </tr>
    <tr>
      <td><code>123</code></td>
      <td><code>456</code></td>
      <td><code>Wildcard</code></td>
    </tr>
    <tr>
      <td><code>disconnected</code></td>
      <td><code>disconnected</code></td>
      <td><code>Fixed value</code></td>
    </tr>
  </tbody>
</table>

<h4 id="result-of-applying-the-smith-waterman-algorithm">Result of applying the Smith-Waterman algorithm</h4>

<p>Because examples in this article would have gotten very complex, I decided to
not use non-aligned logs in my examples. However, you might be curious as to how
the Smith-Waterman works.</p>

<p>On the implementation, LogMine would have aligned the two following patterns by
adding a <code>None</code> value in a field. For instance:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>
<p>would become:</p>
<div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 &lt;None&gt; disconnected
&lt;time&gt; - [DEBUG] - User 123 has disconnected
</code></pre></div></div>

<div>
  <p><strong>The Smith-Waterman does not understand patterns</strong>. The Smith-Waterman uses
the same scoring function as the clustering algorithm. As such, if two fields
are not equal, there is no guarantee that the placeholder will be inserted
properly.</p>

  <p>If we tweak our previous example to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The Smith-Waterman algorithm would transform it to:</p>
  <div><div><pre><code>&lt;time&gt; - [DEBUG] - User &lt;None&gt; 123 disconnected
&lt;time&gt; - [DEBUG] - User 456 has disconnected
</code></pre></div>  </div>

  <p>The alignment was added <strong>before</strong> the user identifier.</p>
</div>

<h3 id="repeat-until-satisfied">Repeat until satisfied</h3>

<p>As the pattern extraction algorithm returns a list of patterns, we can relax
<code>MaxDist</code> and feed this list back into the clustering algorithm.</p>

<p>In <strong>3.4 Hierarchy of Patterns</strong>, the paper describes a process to generate a
hierarchy of possible patterns from very strict to …</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sayr.us/log-pattern-recognition/logmine/">https://sayr.us/log-pattern-recognition/logmine/</a></em></p>]]>
            </description>
            <link>https://sayr.us/log-pattern-recognition/logmine/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25710991</guid>
            <pubDate>Sun, 10 Jan 2021 05:50:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A guide to SQL interview questions]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25709870">thread link</a>) | @data4lyfe
<br/>
January 9, 2021 | https://www.interviewquery.com/blog-sql-interview-questions/ | <a href="https://web.archive.org/web/*/https://www.interviewquery.com/blog-sql-interview-questions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p><strong>Table of Contents</strong></p><!--kg-card-begin: html-->
<!--kg-card-end: html--><h3 id="introduction">Introduction</h3><p>SQL is the good old friend that has always worked. It’s something you always come back to, even as Pandas, Julia, Spark, Hadoop, and NoSql attempt to dethrone and replace SQL as the new de-facto data tool.</p><p>Eventually though, they all fail in the face of the consistently reliable SQL. And that's why SQL continues to get asked in interviews. </p><blockquote><strong>A note before we start...</strong></blockquote><blockquote>This guide should be used for anyone who is preparing for an interview in which they know SQL will show up. This guide<strong> is not</strong> a search engine optimized listacle (top 50 sql questions for 2021...really?).</blockquote><blockquote>Rather, this is <strong>real advice and REAL interview questions and exercises </strong>gathered from hundreds of data scientists, engineers, and analysts. We sprinkle exercises throughout this post after learning concepts. Be sure to try attempting the questions first before we walk through solving them. &nbsp;</blockquote><blockquote>Lastly, if you enjoy this article, <strong>please give us a share</strong> and check out our <a href="https://www.interviewquery.com/courses/data-science-course">SQL course</a> that goes a little deeper with more exercises and problems. </blockquote><h2 id="1-why-does-sql-show-up-on-the-interview">1. Why does SQL show up on the interview?</h2><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-6.png" alt="" srcset="https://blog.interviewquery.com/content/images/2021/01/image-6.png 600w"></figure><p>SQL allows data scientists and engineers to do a couple of important things.</p><p>One is to <strong>effectively store and retrieve information at scale for analytics</strong>. Even though Google Sheets allows users to easily manipulate and visualize data, it cannot store and scale like a SQL database can. Other popular programs –namely Hadoop and Spark– can scale much further than SQL, but still don’t have a clean and easy-to-use language like SQL to retrieve data efficiently.</p><p>Another great thing about SQL is that understanding the fundamentals bridges the gap between <strong>engineering and data science</strong>. Knowing SQL well gives you a competitive edge over any other candidate, whether you're competing for a position as a product manager, software engineer, or even as a business analyst. Having the skillset to write and pull your own queries is like being a magician that can come up with analyses out of thin air. </p><p>And at the end of the day, you could just be really good at SQL if you wanted to and make tons of money creating ETL jobs or pulling dashboards with efficiency. That's how valued SQL is. </p><h3 id="how-often-does-sql-show-up-in-interviews">How often does SQL show up in interviews?</h3><p>One prevailing question is how often SQL shows up in interviews. </p><p>At Interview Query, we analyzed a dataset of Glassdoor data science interview experiences and responses submitted by our users. The analysis came back that SQL was asked:</p><ul><li><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist" rel="nofollow">70% of the time during Facebook’s data science interviews</a></li><li><a href="https://www.interviewquery.com/interview-experiences/Amazon/business-analyst" rel="nofollow">94% of the time during Amazon’s business intelligence and analyst interviews</a></li></ul><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image-7.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image-7.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image-7.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image-7.png 1262w" sizes="(min-width: 720px) 720px"><figcaption><a href="https://www.interviewquery.com/interview-experiences/facebook/data-scientist">Skills tested in Facebook's Data Science Interview as of 2021</a></figcaption></figure><p>Due to its nature in being able to get and manipulate your own data, this is by far the most important skill now towards nabbing a data science position. And while pandas and other languages are useful, note that <a href="https://www.interviewquery.com/blog-why-your-data-scientist-interviewer-wont-ask-pandas-questions/" rel="nofollow">SQL will always be the one that matters</a>.</p><h2 id="2-strategies-for-the-live-sql-interview">2. Strategies for the live SQL interview</h2><p>Let's go over the common strategies when tackling SQL interview questions. </p><p><strong>1.Repeat the problem statement</strong></p><p>When presented with a SQL question, listen carefully to the problem description and repeat back what you think the crux of the problem is. The interviewer can then help verify if your understanding is correct.</p><p><strong>2. Understand the edge cases</strong></p><p>If time permits, write out a base case and an edge case to show that you understand the problem. For example: if the interviewer asks you to pull the average number of events per user per day, write out an example scenario where you're verifying this metric. </p><p>Do duplicate events matter? Are we looking at distinct users? These are questions we need to clarify. </p><p><strong>3. Try working backwards if the problem is tricky</strong></p><p>Sketching out what the output of the SQL question will look like is a great strategy towards solving the problem. Usually, if I know what the end output table is supposed to look like, I can work backwards from there on what functions need to be applied before. </p><p>For example, if the output looks like this:</p><pre><code>date        | average events per user
------------+-----------------------
2021-12-01  |  3.5
2021-12-02  |  4.0</code></pre><p>I know that the table before this aggregation would have to look something like this.</p><pre><code>date       | event | user_id
-----------+-------+--------
2021-12-01 | click | 1
2021-12-01 | view  | 1
......</code></pre><p>And then, I can figure out what functions I should use to get to my desired output!</p><p><strong>4. Pattern match to different functions</strong></p><p>As you practice more and more SQL exercises, what you'll find is that many SQL problems follow similar patterns. There are techniques we can use in SQL, like utilizing <code>HAVING</code> on aggregations, self-joins and cross-joins, and applying window functions. But, additionally, we'll see problems that run in a similar vein. </p><p>For example, writing a query to get the second highest salary or writing a query to isolate every fifth purchase by a user utilizes the same <code>RANK</code> function in SQL. </p><p>Understanding the commonalities between questions will help you understand the first step to solving SQL questions faster because you can re-use similar code and stitch together techniques on top of each other. </p><p><strong>5. Start writing SQL</strong></p><p>Finally, it's important to just start writing SQL. It's better to start writing an imperfect solution vs trying to perfectly understand the problem or trying to perfect the solution on the first try. </p><p>Verbalize your assumptions and what you're doing as you write SQL and your interviewer can then be put on the same page as you. </p><h2 id="3-the-7-different-sql-interview-questions">3. The 7 different SQL interview questions</h2><p>SQL questions asked during interviews can vary widely across companies, but even more so across positions. You won't see data scientists asked the same SQL questions as software engineers, and that's because data scientists have to write different types of queries compared to software engineers. </p><p>Generally, each SQL interview question can be bucketed into these categories:</p><ul><li>Definition based SQL questions</li><li>Basic SQL questions</li><li>Reporting and metrics SQL questions</li><li>Analytics SQL questions</li><li>ETL SQL questions</li><li>Database design questions</li><li>Logic based SQL questions</li></ul><p>In this next section, we'll go over which types of SQL questions are expected for different roles and what those different kinds of SQL questions are in detail. </p><h2 id="4-sql-questions-for-data-scientists-and-analysts">4. SQL questions for data scientists and analysts</h2><p>SQL interview questions for data scientists and data analysts will likely show up in three parts of the interview process: the technical round, the take-home challenge, and the onsite interview. </p><p>The technical round and take-home challenge will usually consist of SQL questions <strong>designed to filter out candidates</strong>. Since SQL is commonly used as a filter mechanism for data scientists, it's important to perform well on this part of the interview in order to demonstrate competence. </p><p>Depending on what type of data science role you're interviewing for, you'll find that most SQL questions will be split into these three types:</p><ul><li>Basic SQL Interview Questions</li><li>Reporting and Metrics SQL Interview Questions</li><li>Analytics SQL Interview Questions</li></ul><h3 id="basic-sql-interview-questions">Basic SQL Interview Questions</h3><p>Basic SQL questions are what they sound like. These questions will be generally easy and focus on assessing if you know the basics. </p><p><strong>Definition based SQL questions </strong>are grouped into this category because they're super easy to learn. All you have to do is study a list of definitions of SQL terms and applications. These questions will include understanding the differences between joins, what kinds of aggregations exist, and knowing the basic functions like <code>CASE WHEN</code> or <code>HAVING</code>. </p><p>Basic SQL interview questions that involve a user actually writing a query are slightly different. These will involve getting the <code>COUNT</code> of a table, knowing what the <code>HAVING</code> clause does, and figuring out how to utilize <code>LEFT JOIN</code> versus <code>INNER JOIN</code> to give you the values that you need.</p><blockquote>Read more on the the <a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/">basic concepts you need to know to pass your data science interview</a> here. </blockquote><figure><a href="https://www.interviewquery.com/blog-three-sql-questions-you-must-know-to-pass/"><div><p>Three SQL Concepts for your Data Scientist Interview</p><p>I’ve interviewed a lot of data scientist candidates and have found there are a a lot of SQL interview questions for data science that eventually boil down to three generalized types of conceptual understandings.</p><p><img src="https://blog.interviewquery.com/favicon.ico"><span>Interview Query Blog</span></p></div><p><img src="https://blog.interviewquery.com/content/images/2020/02/sql_join.jpeg"></p></a></figure><p><strong>Basic SQL Concepts to Review</strong></p><ul><li>What's the difference between a <code>LEFT JOIN</code> and an <code>INNER JOIN</code>?</li><li>When would you use <code>UNION</code> vs <code>UNION ALL</code>? What if there were no duplicates?</li><li>What's the difference between <code>COUNT</code>and <code>COUNT DISTINCT</code>?</li><li>When would you use a <code>HAVING</code> clause versus a <code>WHERE</code> clause?</li></ul><p><strong>Basic SQL Question Example:</strong></p><figure><img src="https://blog.interviewquery.com/content/images/2021/01/image.png" alt="" srcset="https://blog.interviewquery.com/content/images/size/w600/2021/01/image.png 600w, https://blog.interviewquery.com/content/images/size/w1000/2021/01/image.png 1000w, https://blog.interviewquery.com/content/images/2021/01/image.png 1306w" sizes="(min-width: 720px) 720px"></figure><blockquote><em>We're given two tables, a <code>users</code> table with demographic information and the neighborhood they live in and a <code>neighborhoods</code> table.</em></blockquote><blockquote><em>Write a query that returns all of the neighborhoods that have 0 users.</em></blockquote><p>Try answering this question with our <a href="https://www.interviewquery.com/questions/empty-neighborhoods">interactive SQL editor</a>.</p><p><strong>Here's a hint:</strong></p><p><em>Our predicament is to find all the neighborhoods without users that live in them. This means we have to introduce a <strong>concept of existence of a field in one table, while not existing in another.</strong></em></p><p><em>For example, let's say we generate some fake data of user's and the neighborhoods they live in. We would expect it to look something like this. </em></p><pre><code>neighborhoods.name  | users.id
____________________|__________
castro              | 1
castro              | 2
cole valley         | null
castro heights      | 3
sunset heights      | 4</code></pre><p><em>We see each user from one to four is appropriately placed in their respective neighborhood except for the neighborhood of Cole Valley. That's the neighborhood we're targeting for returning in our query. </em></p><p><em>Strategies: whenever the question asks about finding values with 0 something (users, employees, posts, etc..), immediately think of the concept of <strong><code>LEFT JOIN</code></strong>! An inner join finds any values that are in both tables, <strong>a left join keeps only the values in the left table</strong>.</em></p><p><em>Our predicament is to find all the neighborhoods without users. To do this, we must do a left join from the <code>neighborhoods</code> table to the <code>users</code> table.</em></p><p><em>If we then add in a where condition of <strong><code>WHERE users.id IS NULL</code></strong>, we will get every single neighborhood …</em></p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.interviewquery.com/blog-sql-interview-questions/">https://www.interviewquery.com/blog-sql-interview-questions/</a></em></p>]]>
            </description>
            <link>https://www.interviewquery.com/blog-sql-interview-questions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25709870</guid>
            <pubDate>Sun, 10 Jan 2021 04:15:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Platform Is the Enemy]]>
            </title>
            <description>
<![CDATA[
Score 201 | Comments 78 (<a href="https://news.ycombinator.com/item?id=25708099">thread link</a>) | @nomdep
<br/>
January 9, 2021 | https://danielbmarkham.com/the-platform-is-the-enemy/ | <a href="https://web.archive.org/web/*/https://danielbmarkham.com/the-platform-is-the-enemy/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div id="post-body">
        <p>The premise of the movie "Idiocracy" is simple: in the future mankind has de-evolved into morons. Technology does so much for everybody that nobody knows how it all works anymore. &nbsp;If we can't fix it, we're all going to die.</p><p>One character asks the other what he likes, The answer is money.</p><p>"I can't believe you like money too!" the first character says without irony, "We should hang out!"</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/JRJcXbeoSOlkRRzbC7HJ_idiocracy.jpg" alt=""></figure><p>The gag here is that of course, most everybody likes money. If you reduce all of your life enough, it's just food, sex, money, and looking cool. But who would want to do that? Over the centuries, humans have created massively-complex societies because everybody has different things they like doing and thinking about, but all of that complexity can be reduced to, well, an idiocracy if you try hard enough.</p><p>The movie, however, is just a joke, right? We would never allow that to happen, of course, because that's not the goal of technology. Technology's goal is to make us better, not dumber.</p><p>Wait one. Is that true? What <em>is</em> the goal of technology, anyway? Has anybody ever clearly stated it?</p><p>Recently I've heard two goals:</p><ol><li>The goal of technology is to become a <strong>brain extension</strong>, <em>helping you to decide what to do</em> and then helping you get it done.</li><li>The goal of technology is to become a <strong>hand-held power tool</strong>, helping you accomplish the things you've <em>already decided to do</em></li></ol><p>That's not the same thing. It turns out the difference is critical.</p><p>The old goal was much simpler: make something people want. I like that goal! It boils down the job of creating technology to the most important parts, need and ability. But was that sustainable? At the end of the day, don't we always end up making some combination of stuff that either helps us <em>make decisions</em> or helps us <em>implement decisions</em> we've already made? And aren't the two fundamentally incompatible in a future society?</p><p>Yelp tells you which restaurant to go to. Your GPS automatically takes you there. These are not just different problems, they're different <em>kinds of problems</em>. Getting from point A to point B is a matter of math and geometry. Which restaurant is the best tonight? You could spend hours debating that with friends.</p><p>If you reduce anything down enough it becomes idiotic. Each piece of technology we deploy can have the goal of helping us do what we've already decided or helping us decide what to do. The first option leaves the thinking up to us. The second option "helps" us think.</p><figure><iframe width="267" height="200" src="https://www.youtube.com/embed/sZHCVyllnck?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></figure><p>You like money too? Wow! I like money! We should hang out!</p><p>Human brains are not computers. Brains are designed to help us survive and pass on our genes using the minimum amount of energy available. If the GPS takes me where I'm going, I don't need to know how to use maps anymore. So I stop knowing how to use maps. Dump those neurons, they're not needed. If Yelp picks the restaurants for me enough, I stop having nuanced preferences about restaurants. That energy expenditure is no longer needed for survival and reproduction. Dump those neurons. Over time people stop caring about the tiny details of what the difference is between a good and a great restaurant. Yelp handles that.</p><p>For some folks, who cares? It's food. Go eat it. For other folks, picking the right place can be a serious undertaking, worthy of heavy thought and consideration. But if over the years apps like Yelp boil all of that down to four or five stars, then our collective brain is not going to bother with it. Human brains are not computers. If computers do the work for us, we turn off those neurons and save energy.</p><p>Meanwhile, on social media there's currently this huge discussion. One bunch of folks says that social media is being overbearing in its censorship of fringe and sometimes hateful opinions. The other bunch of folks says social media is a festering sore full of people who are ugly, hateful, and abusive to those weakest among us. The community has to set standards.</p><p>There doesn't have to be a right and wrong here. I think the crucial thing to to understand that both sides can be entirely correct. We are dealing with the same kind of question.</p><p>All three of these topics -- whether humanity is becoming idiots or not, what the ultimate goal of technology is or should be, and how social media should work -- are intricately related. They're related because of this: <em>the platform is the enemy</em>.</p><p>The minute we create a platform for something, whether it's rating movies, tracking projects, or chatting with friends about work, as that platform takes over mindshare, <em>the assumption becomes that this is a solved problem</em>.</p><p>The telephone was great. Once we had the telephone, people didn't have to worry about how to talk to people far away anymore. Just pick up the phone. Solved problem.</p><p>Facebook is great. Once we had Facebook, people didn't have to worry about how to interact with their friends in a social setting anymore. Just click on the little FB notification (Which seems to be always flashing for some reason to get my attention) Solved problem?</p><p>But these are entirely different things! With the phone, I know who I want to call and why. I push buttons and we are connected. The tech helps me do what I've already decided to do. With Facebook, on the other hand, they get paid to show me things in a certain order. The premise is that I'm waiting (or "exploring" if you prefer) until I find something to interact with. The phone is a tool for me to use. I am the tool Facebook is using. I am no longer acting. I am reacting.</p><p>And even if they weren't paid, interacting with friends socially is an extremely complex affair. What kind of mood are they in? What's their life history? What things are bad to bring up? How does their body language look? Facebook's gimmick is "Hey, we've reduced all of this to bits and bytes, and we'll even show you what bits and bytes to look at next!"</p><p>Solved problem.</p><p>Many, many people do not use the internet, the internet uses them. And this percentage is constantly growing.</p><figure><img src="https://cdn.danielbmarkham.com/2021/01/9EBNeUmSy6TMDUpKTLL6_terminator-robot.jpg" alt=""></figure><p>Just like the restaurant example, maybe that's fine. I have friends, I have opinions, who cares? It's all idle chat anyway.</p><p>That logic can be true for a bunch of things, but can't be true for <em>everything</em>. Otherwise, at some point 100 years from now, we're comparing our life values and end up saying something like "I like money too". Everything can't all be reduced down to the lowest common denominator. If it does, we all die.</p><p>Life is not a bit or byte, a number to be optimized. It's meaning we define ourselves, in ways we should not quantize.</p><p>Platforms, by their very nature, constantly send out the subtle message: <em>This is a solved problem. No further effort on your part is required here. No thinking needed.</em> Platforms resist change. They resist their own evolution by subtly poisoning the discussion before it even starts.</p><p>Are restaurant choices more or less important than which movie to watch tonight? There's no right or wrong answer to these questions. We have nice categories like restaurants and movies because currently people consider those things to be different kinds of choices. But why? If the algorithm is king, why shouldn't an algorithm determine both of those things for me? And if it does, why should I bother with worrying about which category is which?</p><p>Human brains are not computers. Let the platform decide. Energy not needed. Dump those neurons.</p><p>This is the more important point. It's not that the platforms turn what might be complex things into simple numbers, or even that they monetize attention. It's that by turning everything into numbers, over time they destroy the distinction between the categories entirely. Platforms are the enemy because they resist analysis in the areas they dominate.</p><p>Platforms turn into settled fact things that should be open for debate, like whether or not Taco Bell is a Mexican restaurant, or whether Milo is an artist with something useful to tell us. (I'm going with "no" and "no" for both of these.) More dangerously, they do the work of deciding <em>what categories various things go into</em>. This category over here is important. That category over there is not. We all make these decisions, and they're all different, and the categories each of us pays careful attention to and loves obsessing about are all different, and because we all have different viewpoints and priorities humankind advances in thousands of directions simultaneously. We survive. We evolve.</p><p>Twitter has to decide whether PERSON_X can speak or not because on the Twitter platform, that question has to have a yes or no answer based on the person. Twitter's category for deciding who can speak is "who is that?" Is that the right category for social conversations? For political conversations? For conversations about philosophy? Math? Who knows? Who cares? Twitter has decided. Solved problem.</p><p>Everybody has different things they like doing and thinking about. Different conversations and audiences have different criteria. Some problems should never be solved. Or rather more directly, some problems should never have a universal answer.</p><p>An aside: We see the same thing in programming. One bunch of folks creates various platforms in order to do the thinking for another bunch of folks. Sometimes these platforms take off and become industry standards. That's quite rare, however. Most of the time we end up training morons who can weakly code against the platform but can't reason effectively about the underlying architecture or reason for the platform to exist in the first place. In our desire to help, we harm the very people we're trying to assist -- by subtly giving them the impression that this is a solved problem. Programmers are just a decade or so ahead of the rest of us.</p><p>Popular platforms aren't just a danger economically because they control commerce. They're not just a danger politically because they selectively control and amplify political discourse. They're an extinction-level, existential danger to humans because they prevent people from seriously considering what kinds of categories are important in …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://danielbmarkham.com/the-platform-is-the-enemy/">https://danielbmarkham.com/the-platform-is-the-enemy/</a></em></p>]]>
            </description>
            <link>https://danielbmarkham.com/the-platform-is-the-enemy/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25708099</guid>
            <pubDate>Sun, 10 Jan 2021 02:23:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Podcast on innovation systems, with Ben Reinhardt]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25707442">thread link</a>) | @willbobaggins
<br/>
January 9, 2021 | https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/ | <a href="https://web.archive.org/web/*/https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1985">

                    
                    <div>
                        
<p>In this episode, we talk with Ben Reinhardt about different innovation systems, how to create more sci-fi technology a reality, and why our research institutions are not as effective as they used to be. You can check out Ben’s work at https://benjaminreinhardt.com/about/.</p>



<div><p>Some things mentioned in the episode: </p><p><a href="https://slatestarcodex.com/2020/05/12/studies-on-slack/">Studies on Slack</a></p></div>



<p><a href="https://en.wikipedia.org/wiki/Donald_Braben">Don Braben</a></p>



<p><a href="https://en.wikipedia.org/wiki/DARPA">DARPA</a></p>



<p>Ben’s <a href="https://twitter.com/ben_reinhardt?lang=en">Twitter</a></p>



<figure></figure>
                                            </div>

                </article></div>]]>
            </description>
            <link>https://narrativespodcast.com/2020/12/21/21-innovation-systems-with-ben-reinhardt/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25707442</guid>
            <pubDate>Sun, 10 Jan 2021 01:30:21 GMT</pubDate>
        </item>
    </channel>
</rss>
