<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sun, 05 Jul 2020 12:20:07 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sun, 05 Jul 2020 12:20:07 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[DuckDuckGo's privacy abuses – current, historic, and by proxy]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 14 (<a href="https://news.ycombinator.com/item?id=23722063">thread link</a>) | @mercer
<br/>
July 3, 2020 | https://dev.lemmy.ml/post/31321 | <a href="https://web.archive.org/web/*/https://dev.lemmy.ml/post/31321">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://dev.lemmy.ml/post/31321</link>
            <guid isPermaLink="false">hacker-news-small-sites-23722063</guid>
            <pubDate>Fri, 03 Jul 2020 08:11:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Accelerate your deploys with these 5 CircleCI optimizations]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23718994">thread link</a>) | @giacaglia
<br/>
July 2, 2020 | https://transcend.io/blog/accelerate-your-deploys-with-these-5-circleci-optimizations | <a href="https://web.archive.org/web/*/https://transcend.io/blog/accelerate-your-deploys-with-these-5-circleci-optimizations">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>At Transcend, we build, test, and deploy all of our application code through CircleCI. In order to maintain a quick developer feedback loop, we recently optimized our pipeline for performance.</p><p><strong>We were able to reduce our build, test, and deploy cycle time from 22 minutes down to just 8 minutes without removing any generative or integration tests.</strong> Further, we were able to drop unit testing times on our pull requests (PRs) from over 4 minutes to a mere one minute.</p><p>This post explains how we achieved these performance gains.</p><h2 id="get-the-baseline">Get the baseline</h2><p>Let’s start with a representative job that runs JavaScript unit and integration tests using <a target="_blank" rel="noopener noreferrer" href="https://jestjs.io/">Jest</a>. The following configuration defines an <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/configuration-reference/#executors-requires-version-21">execution environment</a> <code>ci-node</code>, a <em><a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/configuration-reference/#jobs">job</a></em> named <code>jest-unit</code>, and a <em><a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/configuration-reference/#workflows">workflow</a></em> named <code>main_workflow</code>. (CircleCI workflows run one or more jobs).</p><div><pre><p><span>1</span><span>executors</span><span>:</span><span></span></p><p><span>2</span><span>  </span><span>ci-node</span><span>:</span><span></span></p><p><span>3</span><span>    </span><span>docker</span><span>:</span><span></span></p><p><span>4</span><span>      </span><span>-</span><span> </span><span>image</span><span>:</span><span> 123456789.dkr.ecr.eu</span><span>-</span><span>west</span><span>-</span><span>1.amazonaws.com/ci</span><span>-</span><span>node</span><span>:</span><span>our5ha</span></p><p><span>5</span><span></span></p><p><span>6</span><span></span><span>jobs</span><span>:</span><span></span></p><p><span>7</span><span>  </span><span>jest-unit</span><span>:</span><span></span></p><p><span>8</span><span>    </span><span>executor</span><span>:</span><span> ci</span><span>-</span><span>node</span></p><p><span>9</span><span>    </span><span>steps</span><span>:</span><span></span></p><p><span>10</span><span>      </span><span></span></p><p><span>11</span><span>      </span><span>-</span><span> checkout</span></p><p><span>12</span><span>      </span><span></span></p><p><span>13</span><span>      </span><span>-</span><span> </span><span>restore_cache</span><span>:</span><span></span></p><p><span>14</span><span>          </span><span>keys</span><span>:</span><span></span></p><p><span>15</span><span>            </span><span>-</span><span> yarn</span><span>-</span><span>vblog</span><span>-</span><span>{</span><span>{</span><span> arch </span><span>}</span><span>}</span><span>-</span><span>{</span><span>{</span><span> checksum "yarn.lock" </span><span>}</span><span>}</span><span></span></p><p><span>16</span><span>      </span><span></span></p><p><span>17</span><span>      </span><span>-</span><span> </span><span>run</span><span>:</span><span> yarn install</span></p><p><span>18</span><span>      </span><span></span></p><p><span>19</span><span>      </span><span>-</span><span> </span><span>save_cache</span><span>:</span><span></span></p><p><span>20</span><span>          </span><span>paths</span><span>:</span><span></span></p><p><span>21</span><span>            </span><span>-</span><span> node_modules</span></p><p><span>22</span><span>            </span><span>-</span><span> packages/admin</span><span>-</span><span>dashboard/node_modules</span></p><p><span>23</span><span>            </span><span>-</span><span> packages/core/node_modules</span></p><p><span>24</span><span>            </span><span>-</span><span> …</span></p><p><span>25</span><span>          </span><span>key</span><span>:</span><span> yarn</span><span>-</span><span>vblog</span><span>-</span><span>{</span><span>{</span><span> arch </span><span>}</span><span>}</span><span>-</span><span>{</span><span>{</span><span> checksum "yarn.lock" </span><span>}</span><span>}</span><span></span></p><p><span>26</span><span></span></p><p><span>27</span><span>      </span><span></span></p><p><span>28</span><span>      </span><span>-</span><span> </span><span>run</span><span>:</span><span> yarn test</span><span>:</span><span>jest</span></p><p><span>29</span><span></span></p><p><span>30</span><span></span><span>workflows</span><span>:</span><span></span></p><p><span>31</span><span>  </span><span>main_workflow</span><span>:</span><span></span></p><p><span>32</span><span>    </span><span>jobs</span><span>:</span><span></span></p><p><span>33</span><span>      </span><span>-</span><span> </span><span>jest-unit</span><span>:</span><span></span></p><p><span>34</span><span>          </span><span></span></p><p><span>35</span><span>          </span><span>context</span><span>:</span><span> dev</span><span>-</span><span>ctx</span></p></pre></div><p>In particular, the <code>jest-unit</code> job does something pretty common in continuous integration (CI): it uses our private Docker image to create an execution environment where it then checks out code from our git repository, installs our <code>node_modules</code> dependencies using <code>yarn</code>, and then runs our tests.</p><p>This job typically takes 4 to 6 minutes to complete running. Here’s a run that took 4:30:</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/36Mmhm3hvFEcn2v5k45OJ8/c9120c139df16150910a69a8a5388cbb/1wsSz9yROEXnMvvHSmIt5J83YIAsS90sJaiuidmI.png" alt="CircleCI: without a cache."></p></div><p>Without a cache (such as when the job is first run, or when the list of node modules that make up the cache is changed), it takes around three minutes to install all dependencies from scratch, and another 40 seconds to save those dependencies to the cache:</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/7rhLcGIZiqLiOXPWaFowgQ/9c1139085b600e0151a3be12ca8d7588/16mAVWC6xAttEJckvXfz_6LOp7dcYRSMsxw0rZzQ.png" alt="CircleCI: with a cache."></p></div><p>This run time isn’t terrible, but it could be <strong>much</strong> better.</p><h2 id="accelerate-each-step">Accelerate each step</h2><p>With a little tinkering, almost every step in this job can be sped up. Let’s dive in:</p><h3 id="1-use-2nd-gen-convenience-images-for-quick-environment-spin-up">1. Use 2nd gen convenience images for quick environment spin up</h3><p>The “Spin Up Environment” step is responsible for creating the virtual environment in which your job will execute (hence “executor”). Pulling in an executor, in this example an entire Docker image, can be slow. Although you can specify a custom Docker image, CircleCI also provides <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/circleci-images/#next-generation-convenience-images">pre-made convenience images</a> that we have found to be very convenient.</p><p>CircleCI recently released a second-generation version of these convenience images, which promise faster spin-up times. The <a target="_blank" rel="noopener noreferrer" href="https://github.com/CircleCI-Public/cimg-base/blob/master/Dockerfile.template">cimg-base repository</a> documents everything that is installed in the base Docker Image. Because the convenience images are all built off of the same base image, they can cache very well <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/blog/how-to-build-a-docker-image-on-circleci-2-0/">using Docker Layer Caching</a>.</p><p>In our example, the only change we need to make is to point to one of these new images in our <code>executors</code>. In our case, we can also remove our credentials used to access our private image:</p><div><pre><p><span>1</span><span>executors:</span></p><p><span>2</span><span>   ci-node:</span></p><p><span>3</span><span>     docker:</span></p><p><span>4</span><span></span><span>-     - image: 123456789.dkr.ecr.eu-west-1.amazonaws.com/ci-node:our5ha</span><span></span></p><p><span>5</span><span></span><span>+     - image: cimg/node:14.3</span><span></span></p><p><span>6</span><span> </span></p><p><span>7</span><span> workflows:</span></p><p><span>8</span><span>   main_workflow:</span></p><p><span>9</span><span>     jobs:</span></p><p><span>10</span><span></span><span>+      - jest-unit</span><span></span></p><p><span>11</span><span></span><span>-      - jest-unit:</span><span></span></p><p><span>12</span><span></span><span>-         # Give this job AWS credentials to access our private Docker images</span><span></span></p><p><span>13</span><span></span><span>-         context: dev-ctx</span></p></pre></div><p>The results are pretty dramatic when the cache hits:</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/4ramSJxcaUSP3OekcYBkRK/9fac31c12fdcd24b12a2a0a66056c72e/1j-4V-pGdkkTL6bRMc4LkeRZqINrhDWebZzn8j9E.png" alt="CircleCI: with cache hits."></p></div><p>Even when the cache doesn’t hit, there are usually enough layers cached that spinning up the environment now takes less than 15 seconds (down from 30-50 seconds before).</p><p>Even more helpful than this speed, the new convenience images are Debian-based. This allows us to use Unix tools that our developers are familiar with, like the package manager <code>apt</code>, instead of the sometimes-confusing Alpine <code>apk</code> (Alpine does not include common tools like <code>bash</code> or <code>jq</code> by default).</p><h3 id="2-use-shallow-clones-for-swift-code-checkout">2. Use shallow clones for swift code checkout</h3><p>Repositories balloon over time, especially if you use a monorepo as we do. Even if the file size at HEAD is kept relatively small, <a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/5613345/how-to-shrink-the-git-folder">past file blobs can stick around in the .git folder</a>. One of the best ways to speed up <code>git clone</code> commands is to use a <a target="_blank" rel="noopener noreferrer" href="https://www.perforce.com/blog/vcs/git-beyond-basics-using-shallow-clones">shallow checkout</a>.</p><p>There are a few open-source <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/orb-intro/">CircleCI Orbs</a> that make this optimization easy to implement. In particular, <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/orbs/registry/orb/guitarrapc/git-shallow-clone">we like this one</a> because it lets us customize any git settings we’d like.</p><p>To use this orb, at the top of your config, add:</p><div><pre><p><span>1</span><span>orbs</span><span>:</span><span></span></p><p><span>2</span><span>  </span><span>git-shallow-clone</span><span>:</span><span> guitarrapc/git</span><span>-</span><span>shallow</span><span>-</span><span>clone@2.0.3</span></p></pre></div><p>Then replace <code>- checkout</code> in all your jobs with <code>- git-shallow-clone/checkout</code>.</p><p>When we made this change, our checkout step dropped from 15-25 seconds down to 3-5 seconds just like that!</p><p>It’s worth noting that there are two reasons why someone might <em>not</em> use shallow checkouts:</p><ol><li><p><strong>Some Git commands are not supported by shallow checkouts.</strong>
These include fetching information from multiple branches or from deep in the Git history.</p></li><li><p><strong>Git providers sometimes rate limit shallow checkouts.</strong>
This only becomes an issue for large workflows or frequent runs.</p></li></ol><p>That said, for the majority of use cases, shallow checkouts are safe to use and can save a significant amount of time.</p><h3 id="3-untar-in-ram-for-rapid-cache-restores">3. Untar in RAM for rapid cache restores</h3><p>Caching <em>can</em> be a wonderful, run-time-saving thing. That said, accessing our large <code>node_modules</code> folder (nearly 300MB) from the CircleCI cache could sometimes take longer than starting from scratch with a fresh <code>yarn install</code>.</p><p>Internally, CircleCI manages caches and workspaces by putting files into a tarball and uploading that compressed tar file into Amazon S3. When you request a cache, CircleCI downloads the tar file from S3, validates that the file is the one that was requested, and then untars it.</p><p>Because <code>node_modules</code> can have thousands of files, even with lightning-fast network speeds, disk IO can slow down the untar process significantly.</p><p>In our example, restoring our cache took 1:07. Only 6 of those seconds were spent downloading and validating, while decompressing the files took over a minute. In the worst-case scenario, this cache restore step could take up to 3 minutes to complete.</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/6Jtu3bfEugHoXeUokHzzag/d747dd8b395c2fa20910eb5fb2c69538/1i1ZdxE38xmjY57AFoLK9hvEqWZ_fshqhPd6_gCI.png" alt="CircleCI: Untar in RAM."></p></div><p>Lucky for all of us, as of the <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/changelog#ram-disks">April 7th, 2020 CircleCI release</a>, CircleCI supports <a target="_blank" rel="noopener noreferrer" href="https://circleci.com/docs/2.0/executor-types/#ram-disks">mounted RAM disks</a> on Docker executors.</p><p>Using these RAM disks has dropped the <code>restore_cache</code> run time down to a consistent 10–20 seconds. These are the changes we made to achieve faster results:</p><div><pre><p><span>1</span><span>executors:</span></p><p><span>2</span><span>   ci-node:</span></p><p><span>3</span><span>     docker:</span></p><p><span>4</span><span>       - image: cimg/node:14.3</span></p><p><span>5</span><span></span><span>+    # Upgrade the resource_class for a bit more RAM for consistent builds</span><span></span></p><p><span>6</span><span></span><span>+    resource_class: medium+</span><span></span></p><p><span>7</span><span></span><span>+    # Updated so we can build using RAM</span><span></span></p><p><span>8</span><span></span><span>+    working_directory: /mnt/ramdisk</span><span></span></p><p><span>9</span><span></span></p><p><span>10</span><span></span></p><p><span>11</span><span> jobs:</span></p><p><span>12</span><span>   jest-unit:</span></p><p><span>13</span><span>     executor: ci-node</span></p><p><span>14</span><span>     steps:</span></p><p><span>15</span><span>       - git-shallow-clone/checkout</span></p><p><span>16</span><span>       - restore_cache:</span></p><p><span>17</span><span>           keys:</span></p><p><span>18</span><span></span><span>-            - yarn-vblog-{{ arch }}-{{ checksum "yarn.lock" }}</span><span></span></p><p><span>19</span><span></span><span>+            # Reset the cache to vblog2 (from vblog) in order to force a refresh</span><span></span></p><p><span>20</span><span></span><span>+            # The old cache would write out the files to our old `working_directory` path</span><span></span></p><p><span>21</span><span></span><span>+            - yarn-vblog2-{{ arch }}-{{ checksum "yarn.lock" }}</span><span></span></p><p><span>22</span><span>       - run: yarn install</span></p><p><span>23</span><span>       - save_cache:</span></p><p><span>24</span><span>           paths:</span></p><p><span>25</span><span>             - node_modules</span></p><p><span>26</span><span>             - packages/admin-dashboard/node_modules</span></p><p><span>27</span><span>             - packages/core/node_modules</span></p><p><span>28</span><span>             - ...</span></p><p><span>29</span><span>           key: yarn-vblog-{{ arch }}-{{ checksum "yarn.lock" }}</span></p><p><span>30</span><span>           key: yarn-vblog2-{{ arch }}-{{ checksum "yarn.lock" }}</span></p><p><span>31</span><span>       - run: yarn test:jest</span></p></pre></div><p>Just like that, our caches are lightning quick:</p><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/4tv6USwP1AHdxmHtKOHcY3/b2096efacd9aedeb24503c305bf649c4/1rnzqPHF3anjlayEyzth3nP9ocAyDBi5c-Zd70SU.png" alt="CircleCI: faster caches."></p></div><p>In order to use this approach, your repo and its dependencies must be able to fit in RAM. While the larger <code>resource_class</code> costs more money, because our jobs now finish in about half the time, the cost difference has been negligible.</p><p>And while your mileage may vary, give larger instance sizes a try and see if they work for your use case.</p><h3 id="4-parallelize-jobs-for-expedited-workflows">4. Parallelize jobs for expedited workflows</h3><p>Improved caching and access to caches is all very well and good, but when dependencies change, caches need to be updated. In these cases, the <code>yarn install</code> step will need to do more work, as well as the <code>Saving Cache</code> step, adding an extra minute or so to our pipelines. To solve this problem, we decided to play around with parallelization.</p><p>First, we tried saving the cache in a single job separate from all of our other jobs. Each subsequent job could then restore the cache from its saved location in the workspace instead of saving the cache as part of all of our jobs, including the jest tests:</p><div>
  <p><img src="https://images.ctfassets.net/zp9m00phuodm/Uraphwbv2Qr5ch8w5Dc3g/cc782477babf02e39560d899b75a97c7/Before.svg" alt="CircleCI: before restore cache."></p></div><p>Became</p><div>
  <p><img src="https://images.ctfassets.net/zp9m00phuodm/3VITdrgxP0QiRVV5yapNVb/716bb3f826759b81173536cead124a2c/After.svg" alt="CircleCI: after restore cache."></p></div><p>We were disappointed by the results of this approach: combined, these jobs took even longer. It could take almost 2 minutes to store our dependencies in the workspace, and that step needed to complete before we started our jest job.</p><p>To get around this problem, we changed the way we split our jobs. We divided them into first-level jobs that can rely on the global cache for dependencies (and don’t depend on the completion of other jobs) and everything else. Then we added a new first-level job, <code>cache-deps</code>, that cached all dependencies for any job that ran after the first level.</p><p>Our new pipeline runs all first-level jobs immediately, and then anything with a dependency. This division has the added benefit that most of our first-level jobs no longer need to write out to the cache, as <code>cache-deps</code> now takes care of that.</p><p>In our config, this looks like:</p><div><pre><p><span>1</span><span>jobs:</span></p><p><span>2</span><span></span><span>+  cache-deps:</span><span></span></p><p><span>3</span><span></span><span>+    parameters:</span><span></span></p><p><span>4</span><span></span><span>+      key:</span><span></span></p><p><span>5</span><span></span><span>+        type: string</span><span></span></p><p><span>6</span><span></span><span>+    executor: ci-node</span><span></span></p><p><span>7</span><span></span><span>+    steps:</span><span></span></p><p><span>8</span><span></span><span>+      - git-shallow-clone/checkout</span><span></span></p><p><span>9</span><span></span><span>+      - restore_cache:</span><span></span></p><p><span>10</span><span></span><span>+          keys:</span><span></span></p><p><span>11</span><span></span><span>+            - &lt;&lt; parameters.key &gt;&gt;</span><span></span></p><p><span>12</span><span></span><span>+      - run: yarn install</span><span></span></p><p><span>13</span><span></span><span>+      - save_cache:</span><span></span></p><p><span>14</span><span></span><span>+          paths:</span><span></span></p><p><span>15</span><span></span><span>+            - node_modules</span><span></span></p><p><span>16</span><span></span><span>+            - packages/admin-dashboard/node_modules</span><span></span></p><p><span>17</span><span></span><span>+            - packages/core/node_modules</span><span></span></p><p><span>18</span><span></span><span>+            - ...</span><span></span></p><p><span>19</span><span></span><span>+      …</span></p></pre></div></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://transcend.io/blog/accelerate-your-deploys-with-these-5-circleci-optimizations">https://transcend.io/blog/accelerate-your-deploys-with-these-5-circleci-optimizations</a></em></p>]]>
            </description>
            <link>https://transcend.io/blog/accelerate-your-deploys-with-these-5-circleci-optimizations</link>
            <guid isPermaLink="false">hacker-news-small-sites-23718994</guid>
            <pubDate>Thu, 02 Jul 2020 22:48:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The BEAM Book (2017)]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 15 (<a href="https://news.ycombinator.com/item?id=23718278">thread link</a>) | @hazbo
<br/>
July 2, 2020 | https://blog.stenmans.org/theBeamBook/ | <a href="https://web.archive.org/web/*/https://blog.stenmans.org/theBeamBook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Redbug is safe to be used in production, thanks to a self-protecting
mechanism against overload, which kills the tool in case too many
tracing messages are sent, preventing the Erlang node to become
overloaded. Let’s see it in action:</p><div>
<div>
<pre><code data-lang="erlang"><span>$ </span><span>erl</span>
<span>Erlang</span><span>/</span><span>OTP</span> <span>19</span> <span>[</span><span>erts</span><span>-</span><span>8</span><span>.</span><span>2</span><span>]</span> <span>[...]</span>

<span>Eshell</span> <span>V8</span><span>.</span><span>2</span> <span>(</span><span>abort</span> <span>with</span> <span>^</span><span>G</span><span>)</span>
<span>1</span><span>&gt;</span> <span>l</span><span>(</span><span>redbug</span><span>).</span> <i data-value="1"></i><b>(1)</b>
<span>{</span><span>module</span><span>,</span><span>redbug</span><span>}</span>
<span>2</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>(</span><span>"lists:sort/1"</span><span>).</span> <i data-value="2"></i><b>(2)</b>
<span>{</span><span>30</span><span>,</span><span>1</span><span>}</span>
<span>3</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>3</span><span>,</span><span>2</span><span>,</span><span>1</span><span>]).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>]</span>

<span>% 15:20:20 &lt;0.31.0&gt;({erlang,apply,2}) <i data-value="3"></i><b>(3)</b>
% lists:sort([3,2,1])
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>1</span> <i data-value="4"></i><b>(4)</b></code></pre>
</div>
</div><p>Let’s now look at the actual message produced by redbug. By default
messages are printed to the standard output, but it’s also possible to
dump them to file:</p><div>
<div>
<pre><code data-lang="erlang"><span>% 15:20:20 &lt;0.31.0&gt;({erlang,apply,2})
</span><span>%</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>3</span><span>,</span><span>2</span><span>,</span><span>1</span><span>])</span></code></pre>
</div>
</div><p>Depending on the version of redbug you are using, you may get a
slightly different message. In this case, the message is split across
two lines. The first line contains a <strong>timestamp</strong>, the <strong>Process Identifier</strong>
(or <em>PID</em>) of the Erlang process which invoked the function and the
<strong>caller</strong> function. The second line contains the function called,
including the input arguments. Both lines are prepended with a <code>%</code>,
which reminds us of the syntax for Erlang comments.</p><p>We can also ask Redbug to produce an extra message for the return
value. This is achieved using the following syntax:</p><div>
<div>
<pre><code data-lang="erlang"><span>4</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>(</span><span>"lists:sort/1-&gt;return"</span><span>).</span>
<span>{</span><span>30</span><span>,</span><span>1</span><span>}</span></code></pre>
</div>
</div><p>Let’s invoke the <code>lists:sort/1</code> function again. This time the output
from redbug is slightly different.</p><div>
<div>
<pre><code data-lang="erlang"><span>5</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>3</span><span>,</span><span>2</span><span>,</span><span>1</span><span>]).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>]</span>

<span>% 15:35:52 &lt;0.31.0&gt;({erlang,apply,2})
% lists:sort([3,2,1])
</span>
<span>% 15:35:52 &lt;0.31.0&gt;({erlang,apply,2})
% lists:sort/1 -&gt; [1,2,3]
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>1</span></code></pre>
</div>
</div><p>In this case two messages are produced, one when entering the function
and one when leaving the same function.</p><p>When dealing with real code, trace messages can be complex and
therefore hardly readable. Let’s see what happens if we try to trace
the sorting of a list containing 10.000 elements.</p><div>
<div>
<pre><code data-lang="erlang"><span>6</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>(</span><span>lists</span><span>:</span><span>seq</span><span>(</span><span>10000</span><span>,</span> <span>1</span><span>,</span> <span>-</span><span>1</span><span>)).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>,</span><span>4</span><span>,</span><span>5</span><span>,</span><span>6</span><span>,</span><span>7</span><span>,</span><span>8</span><span>,</span><span>9</span><span>,</span><span>10</span><span>,</span><span>11</span><span>,</span><span>12</span><span>,</span><span>13</span><span>,</span><span>14</span><span>,</span><span>15</span><span>,</span><span>16</span><span>,</span><span>17</span><span>,</span><span>18</span><span>,</span><span>19</span><span>,</span><span>20</span><span>,</span><span>21</span><span>,</span><span>22</span><span>,</span>
<span>23</span><span>,</span><span>24</span><span>,</span><span>25</span><span>,</span><span>26</span><span>,</span><span>27</span><span>,</span><span>28</span><span>,</span><span>29</span><span>|...]</span>

<span>% 15:48:42.208 &lt;0.77.0&gt;({erlang,apply,2})
% lists:sort([10000,9999,9998,9997,9996,9995,9994,9993,9992,9991,9990,9989,9988,9987,9986,
% 9985,9984,9983,9982,9981,9980,9979,9978,9977,9976,9975,9974,9973,9972,9971,
% 9970,9969,9968,9967,9966,9965,9964,9963,9962,9961,9960,9959,9958,9957,9956,
% 9955,9954,9953,9952,9951,9950,9949,9948,9947,9946,9945,9944,9943,9942,9941,
% 9940,9939,9938,9937,9936,9935,9934,9933,9932,9931,9930,9929,9928,9927,9926,
% 9925,9924,9923,9922,9921,9920,9919,9918,9917,9916,9915,9914,9913,9912,9911,
% [...]
% 84,83,82,81,80,79,78,77,76,75,74,73,72,71,70,69,68,67,66,65,64,63,62,61,60,
% 59,58,57,56,55,54,53,52,51,50,49,48,47,46,45,44,43,42,41,40,39,38,37,36,35,
% 34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,
% 8,7,6,5,4,3,2,1])
</span>
<span>% 15:48:42.210 &lt;0.77.0&gt;({erlang,apply,2}) lists:sort/1 -&gt;
% [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,
% 23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,
% 42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,
% 61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,
% 80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,
% 99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,
% [...]
% 9951,9952,9953,9954,9955,9956,9957,9958,9959,9960,9961,
% 9962,9963,9964,9965,9966,9967,9968,9969,9970,9971,9972,
% 9973,9974,9975,9976,9977,9978,9979,9980,9981,9982,9983,
% 9984,9985,9986,9987,9988,9989,9990,9991,9992,9993,9994,
% 9995,9996,9997,9998,9999,10000]
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>1</span></code></pre>
</div>
</div><p>Most of the output has been truncated here, but you should get the
idea. To improve things, we can use a couple of redbug options.  The
option <code>{arity, true}</code> instructs redbug to only display the number of
input arguments for the given function, instead of their actual
value. The <code>{print_return, false}</code> option tells Redbug not to display
the return value of the function call, and to display a <code>…​</code>  symbol,
instead. Let’s see these options in action.</p><div>
<div>
<pre><code data-lang="erlang"><span>7</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>(</span><span>"lists:sort/1-&gt;return"</span><span>,</span> <span>[{</span><span>arity</span><span>,</span> <span>true</span><span>},</span> <span>{</span><span>print_return</span><span>,</span> <span>false</span><span>}]).</span>
<span>{</span><span>30</span><span>,</span><span>1</span><span>}</span>

<span>8</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>(</span><span>lists</span><span>:</span><span>seq</span><span>(</span><span>10000</span><span>,</span> <span>1</span><span>,</span> <span>-</span><span>1</span><span>)).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>3</span><span>,</span><span>4</span><span>,</span><span>5</span><span>,</span><span>6</span><span>,</span><span>7</span><span>,</span><span>8</span><span>,</span><span>9</span><span>,</span><span>10</span><span>,</span><span>11</span><span>,</span><span>12</span><span>,</span><span>13</span><span>,</span><span>14</span><span>,</span><span>15</span><span>,</span><span>16</span><span>,</span><span>17</span><span>,</span><span>18</span><span>,</span><span>19</span><span>,</span><span>20</span><span>,</span><span>21</span><span>,</span><span>22</span><span>,</span>
<span>23</span><span>,</span><span>24</span><span>,</span><span>25</span><span>,</span><span>26</span><span>,</span><span>27</span><span>,</span><span>28</span><span>,</span><span>29</span><span>|...]</span>

<span>% 15:55:32 &lt;0.77.0&gt;({erlang,apply,2})
% lists:sort/1
</span>
<span>% 15:55:32 &lt;0.77.0&gt;({erlang,apply,2})
% lists:sort/1 -&gt; '...'
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>1</span></code></pre>
</div>
</div><p>By default, redbug stops after 15 seconds or after 10 messages are
received. Those values are a safe default, but they are rarely
enough. You can bump those limits by using the <code>time</code> and <code>msgs</code>
options. <code>time</code> is expressed in milliseconds.</p><div>
<div>
<pre><code data-lang="erlang"><span>9</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>(</span><span>"lists:sort/1-&gt;return"</span><span>,</span> <span>[{</span><span>arity</span><span>,</span> <span>true</span><span>},</span> <span>{</span><span>print_return</span><span>,</span> <span>false</span><span>},</span> <span>{</span><span>time</span><span>,</span> <span>60</span> <span>*</span> <span>1000</span><span>},</span> <span>{</span><span>msgs</span><span>,</span> <span>100</span><span>}]).</span>
<span>{</span><span>30</span><span>,</span><span>1</span><span>}</span></code></pre>
</div>
</div><p>We can also activate redbug for several function calls
simultaneously. Let’s enable tracing for both functions <code>lists:sort/1</code>
and <code>lists:sort_1/3</code> (an internal function used by the former):</p><div>
<div>
<pre><code data-lang="erlang"><span>10</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>([</span><span>"lists:sort/1-&gt;return"</span><span>,</span> <span>"lists:sort_1/3-&gt;return"</span><span>]).</span>
<span>{</span><span>30</span><span>,</span><span>2</span><span>}</span>

<span>11</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>4</span><span>,</span><span>4</span><span>,</span><span>2</span><span>,</span><span>1</span><span>]).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>4</span><span>,</span><span>4</span><span>]</span>

<span>% 18:39:26 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort([4,4,2,1])
</span>
<span>% 18:39:26 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort_1(4, [2,1], [4])
</span>
<span>% 18:39:26 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort_1/3 -&gt; [1,2,4,4]
</span>
<span>% 18:39:26 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort/1 -&gt; [1,2,4,4]
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>2</span></code></pre>
</div>
</div><p>Last but not least, redbug offers the ability to only display results
for matching input arguments. This is when the syntax looks a bit like
magic.</p><div>
<div>
<pre><code data-lang="erlang"><span>12</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>([</span><span>"lists:sort([1,2,5])-&gt;return"</span><span>]).</span>
<span>{</span><span>30</span><span>,</span><span>1</span><span>}</span>

<span>13</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>4</span><span>,</span><span>4</span><span>,</span><span>2</span><span>,</span><span>1</span><span>]).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>4</span><span>,</span><span>4</span><span>]</span>

<span>14</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>1</span><span>,</span><span>2</span><span>,</span><span>5</span><span>]).</span>
<span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>5</span><span>]</span>

<span>% 18:45:27 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort([1,2,5])
</span>
<span>% 18:45:27 &lt;0.32.0&gt;({erlang,apply,2})
% lists:sort/1 -&gt; [1,2,5]
</span><span>redbug</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>1</span></code></pre>
</div>
</div><p>In the above example, we are telling redbug that we are only
interested in function calls to the <code>lists:sort/1</code> function when the
input arguments is the list <code>[1,2,5]</code>. This allows us to remove a huge
amount of noise in the case our target function is used by many actors
at the same time and we are only interested in a specific use case.
Oh, and don’t forget that you can use the underscore as a wildcard:</p><div>
<div>
<pre><code data-lang="erlang"><span>15</span><span>&gt;</span> <span>redbug</span><span>:</span><span>start</span><span>([</span><span>"lists:sort([1,_,5])-&gt;return"</span><span>]).</span>  <span>{</span><span>30</span><span>,</span><span>1</span><span>}</span>

<span>16</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>1</span><span>,</span><span>2</span><span>,</span><span>5</span><span>]).</span>  <span>[</span><span>1</span><span>,</span><span>2</span><span>,</span><span>5</span><span>]</span>

<span>% 18:49:07 &lt;0.32.0&gt;({erlang,apply,2}) lists:sort([1,2,5])
</span>
<span>% 18:49:07 &lt;0.32.0&gt;({erlang,apply,2}) lists:sort/1 -&gt; [1,2,5]
</span>
<span>17</span><span>&gt;</span> <span>lists</span><span>:</span><span>sort</span><span>([</span><span>1</span><span>,</span><span>4</span><span>,</span><span>5</span><span>]).</span>  <span>[</span><span>1</span><span>,</span><span>4</span><span>,</span><span>5</span><span>]</span>

<span>% 18:49:09 &lt;0.32.0&gt;({erlang,apply,2}) lists:sort([1,4,5])
</span>
<span>% 18:49:09 &lt;0.32.0&gt;({erlang,apply,2}) lists:sort/1 -&gt; [1,4,5] redbug
</span><span>%</span> <span>done</span><span>,</span> <span>timeout</span> <span>-</span> <span>2</span></code></pre>
</div>
</div><p>This section does not pretend to be a comprehensive guide to redbug,
but it should be enough to get you going. To get a full list of the
available options for redbug, you can ask the tool itself:</p></div>]]>
            </description>
            <link>https://blog.stenmans.org/theBeamBook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23718278</guid>
            <pubDate>Thu, 02 Jul 2020 21:30:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Does saying “Fuck You AWS” constitute offensive content?]]>
            </title>
            <description>
<![CDATA[
Score 97 | Comments 102 (<a href="https://news.ycombinator.com/item?id=23717254">thread link</a>) | @jmdeon
<br/>
July 2, 2020 | http://thoughts.josephdeon.me/2020/07/02/fuck-you-aws.html | <a href="https://web.archive.org/web/*/http://thoughts.josephdeon.me/2020/07/02/fuck-you-aws.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><img src="http://thoughts.josephdeon.me/assets/canary.png"></p>
<p><br>
I actually quite like AWS and its offerings. I’m making this post because I’m genuinely curious
how to interpret the <a href="https://aws.amazon.com/aup/">AWS Acceptable Use Policy</a>. The static content for this blog is hosted within an
AWS S3 bucket. Does saying “Fuck You AWS” constitute offensive content?</p>

<p>The section titled ‘No Illegal, Harmful, or Offensive Use or Content’ says:</p>

<blockquote>
  <p>You may not use, or encourage, promote, facilitate or instruct others to use, the Services or AWS Site for any illegal, harmful, fraudulent, infringing or offensive use, or to transmit, store, display, distribute or otherwise make available content that is illegal, harmful, fraudulent, infringing or offensive. Prohibited activities or content include:</p>
</blockquote>

<blockquote>
  <p>Offensive Content. Content that is defamatory, obscene, abusive, invasive of privacy, or otherwise objectionable, including content that constitutes child pornography, relates to bestiality, or depicts non-consensual sex acts.</p>
</blockquote>

<p>“Otherwise objectionable” seems to cast a very wide net.
One of my <a href="http://thoughts.josephdeon.me/2020/07/01/hello-weblog.html">three goals</a> for self hosting this blog was ownership. To me part of
ownership is being able to express myself freely. I hoped that meant as
long as I worked within the confines of the law I would be in the clear.</p>

<p>If this post gets removed then I know I have not fully achieved my ownership goal and it
might be time to just host on a pi.</p>

<p><br>
P.S. I posted this to hackernews. It made it to the front page and generated <a href="https://news.ycombinator.com/item?id=23717254">some discussion</a>.</p>


  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>http://thoughts.josephdeon.me/2020/07/02/fuck-you-aws.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23717254</guid>
            <pubDate>Thu, 02 Jul 2020 19:49:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Every Public Engineering Career Ladder]]>
            </title>
            <description>
<![CDATA[
Score 30 | Comments 11 (<a href="https://news.ycombinator.com/item?id=23715871">thread link</a>) | @lowmemcpu
<br/>
July 2, 2020 | https://www.swyx.io/writing/career-ladders/ | <a href="https://web.archive.org/web/*/https://www.swyx.io/writing/career-ladders/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="sapper"> <div>  <main> <div>  <p>"What will it take to get to the next level?"</p> <p>Of course this is a very open ended question, but it can be nice to set some guide rails around what expectations are in a company. As an individual contributor, career ladders tell me what the company ostensibly values (and, by omission, what it doesn't value).</p> <p>I recently compiled this list of career ladders and figured I would share it here. Some ladders include nontechnical jobs, I will just look at engineering and engineering management.</p> <ul> <li> <p><strong><a href="https://www.joelonsoftware.com/2009/02/13/fog-creek-professional-ladder/">Fog Creek</a></strong>: from 2009, but obviously Joel's thinking has been very influential. Focus is on growing ownership, ability to write production code independently, shipping experience, and at senior levels, design/planning/architecture. Teamwork, self study, mentorship, and impact are all key, as well as the Joel Test.</p> </li> <li> <p><strong><a href="https://dresscode.renttherunway.com/blog/ladder">Rent the Runway</a></strong> (<a href="https://docs.google.com/spreadsheets/d/1k4sO6pyCl_YYnf0PAXSBcX776rNcTjSOqDxZ5SDty-4/edit?usp=sharing">spreadsheet</a>): from 2015. Takes a fun D&amp;D inspired Dex/Str/Wis/Cha stats based evaluation, corresponding to technical skill, productivity, impact, and communication/leadership. Management track is also included, with more focus on architecture, hiring, organizational skills, and leadership/salesmanship.</p> </li> <li> <p><strong><a href="https://artsy.github.io/blog/2015/04/03/artsy-engineering-compensation-framework/">Artsy</a></strong>: inspired by Rent the Runway</p> </li> <li> <p><strong><a href="https://capgemini.gitbooks.io/grade-ladder/content/">CapGemini UK</a></strong>: also inspired by Rent the Runway</p> </li> <li> <p><strong><a href="https://basecamp.com/handbook/appendix-05-titles-for-programmers">Basecamp</a></strong>: pretty simple.</p> </li> <li> <p><strong><a href="https://engineering.thumbtack.com/how-we-built-an-engineering-job-ladder-from-the-ground-up/">Thumbtack</a></strong> (<a href="https://docs.google.com/spreadsheets/d/15ACBs-crUHnqf1wANUQwX9oZIDOi5tvJJXGWpKTcf00/edit#gid=0">spreadsheet</a>): from 2019. Breaks down technical skills into <strong>code quality/testing</strong>, <strong>debugging</strong>, and <strong>scoping/project design</strong>, and nontechnical factors to <strong>collaboration, citizenship, leadership, and impact</strong>. Leadership is interestingly broken down into <strong>Autonomy, Judgement, Initiative, and Consensus Building</strong>.</p> </li> <li> <p><strong><a href="https://circleci.com/blog/why-we-re-designed-our-engineering-career-paths-at-circleci/">CircleCI</a></strong> (<a href="https://docs.google.com/spreadsheets/d/131XZCEb8LoXqy79WWrhCX4sBnGhCM1nAIz4feFZJsEo/edit#gid=0">spreadsheet</a>): one of the most well known ladders, detailed but not overwhelming. NOtably, one of the values assessed is Security.</p> </li> <li> <p><strong><a href="https://github.com/envoy/Engineering/blob/master/engineering_bands.md">Envoy</a></strong>: pretty simple ladder list, by a hot company.</p> </li> <li> <p><strong><a href="https://medium.com/ft-product-technology/improving-our-career-map-for-engineers-4210185c6246">Financial Times</a></strong> (<a href="https://engineering-progression.ft.com/">webapp</a>). Even has an <a href="https://engineering-progression.ft.com/docs/api/">API</a>! lol. Only 4 areas across Technical, Leadership, Delivery, and Communication are assessed. Feels manageable.</p> </li> <li> <p><strong><a href="https://github.com/meetup/engineering-roles/">Meetup</a></strong>: splits roles into Makers and Managers.</p> <ul> <li>Makers focus on Architecture &amp; framework &amp; software development, Best practices &amp; architecture &amp; code reviews, Technical skills evaluation &amp; mentoring, Introduce new engineering tools &amp; mentor adoption, and Recommend process improvements &amp; support adoption.</li> <li>Managers focus on Performance evaluation, Career growth, Recruiting &amp; resourcing, Rollout process improvements &amp; adoption of engineering tools and Organization &amp; administrative.</li> </ul> </li> <li> <p><strong><a href="https://github.com/Socialbakers/engineeringroles">Socialbakers</a></strong>: seems pretty similar to Meetup's ladder</p> </li> <li> <p><strong><a href="https://medium.com/s/engineering-growth-framework/engineering-growth-tracks-b1fad620787e">Medium</a></strong> (<a href="https://gist.github.com/david206/b8dceddd687bb2c60805c9669cc89eaa">gist</a>): has tracks for Mobile, Servers, Foundations, Web client, Project Management, Communication, Craft, Initiative, Org design, Accomplishment, Wellbeing, Career development, Evangelism, Community, Recruiting, and Mentorship! Phew!</p> </li> <li> <p><strong><a href="http://www.starling-software.com/employment/programmer-competency-matrix.html">Starling Software</a></strong>: Uses Big O notation to denote levels, which is a fun shibboleth. Skills are broken out to Computer Science, Software Engineering, Programming, Experience, and Knowledge. This one has a long record on <a href="https://news.ycombinator.com/item?id=4626695">Hacker News</a> but is a good map of things that we can work on.</p> </li> <li> <p><strong><a href="https://gist.github.com/jamtur01/aef437a79fee5a9cefdc">Kickstarter</a></strong>: basically a bunch of job descriptions, including Data careers and CTO.</p> </li> <li> <p><strong><a href="https://docs.google.com/document/d/1PCj7f-91G6dGdIlfDpCHcm68L80hRELk00eO-gZvh1o/edit">Brandwatch</a></strong>: explains levels at a high level, and then breaks it out for <a href="https://docs.google.com/spreadsheets/d/1weNoeSUfHYOHy9sHKad_ax6qrVXNFlP4ieTwaRll70M/edit#gid=0">IC's and Management in this spreadsheet</a>. A total of 15 attributes to work on!</p> </li> <li> <p><strong><a href="https://labs.spotify.com/2016/02/15/spotify-technology-career-steps/">Spotify</a></strong>: famous for its "Squad/Tribe" structure - emphasizes "Steps", with a simple list of five sets of behaviors they want:</p> <ul> <li>Values team success over individual success</li> <li>Continuously improves themselves and team</li> <li>Holds themselves and others accountable</li> <li>Thinks about the business impact of their work</li> <li>Demonstrates mastery of their discipline</li> </ul> </li> <li> <p><strong><a href="https://blog.usejournal.com/the-software-engineering-job-ladder-4bf70b4c24f3">Chuck Groom</a></strong> - this is unusual - personal thoughts on a Job Ladder, though the author is a senior engineering leader at VTS. Good discussions on how having ladders helps, as well as descriptions of Anti-patterns. I love the Principal Engineer antipatterns:</p> <blockquote> <p>Over-emphasis on scaling or high availability far beyond business needs. Spends too much time chasing the newest “shiny” technology. Doesn’t collaborate or ask questions. Condescending. Has “pet” agenda. Pisses off senior leadership.</p> </blockquote> </li> </ul> <section> <h2 id="further-reading">Further Reading</h2> <ul> <li>More ladders (non engineering) are available at <a href="https://www.progression.fyi/">https://www.progression.fyi/</a></li> <li><a href="http://engineering.khanacademy.org/posts/career-development.htm">http://engineering.khanacademy.org/posts/career-development.htm</a></li> <li><a href="https://progression.monzo.com/engineering/web">https://progression.monzo.com/engineering/web</a></li> <li><a href="https://squeakyvessel.com/2016/07/11/engineering-ladders-links-elsewhere/">https://squeakyvessel.com/2016/07/11/engineering-ladders-links-elsewhere/</a></li> <li><a href="https://patreonhq.com/how-patreon-levels-engineers-a28a3491ae6a">https://patreonhq.com/how-patreon-levels-engineers-a28a3491ae6a</a></li> <li><a href="https://developer.squareup.com/blog/squares-growth-framework-for-engineers-and-engineering-managers/">https://developer.squareup.com/blog/squares-growth-framework-for-engineers-and-engineering-managers/</a></li> <li><a href="http://www.elidedbranches.com/2015/11/truth-and-consequences-of-technical.html">http://www.elidedbranches.com/2015/11/truth-and-consequences-of-technical.html</a></li> <li><a href="https://mcfunley.com/thoughts-on-the-technical-track">https://mcfunley.com/thoughts-on-the-technical-track</a></li> <li><a href="https://github.com/vijayvenkatesh/engineering_ladders">https://github.com/vijayvenkatesh/engineering_ladders</a></li> <li><a href="https://www.cnblogs.com/dhcn/p/10729002.html">https://www.cnblogs.com/dhcn/p/10729002.html</a></li> <li><a href="https://circleci.com/blog/how-to-successfully-work-from-home-strategies-for-remote-work/">https://circleci.com/blog/how-to-successfully-work-from-home-strategies-for-remote-work/</a></li> <li>Management vs Engineering: <a href="https://charity.wtf/2019/01/04/engineering-management-the-pendulum-or-the-ladder/">https://charity.wtf/2019/01/04/engineering-management-the-pendulum-or-the-ladder/</a></li> </ul> </section> <hr>  </div> </main>  </div></div></div>]]>
            </description>
            <link>https://www.swyx.io/writing/career-ladders/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23715871</guid>
            <pubDate>Thu, 02 Jul 2020 17:42:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Indaba grand challenge: curing Leishmaniasis, a neglected disease]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23715643">thread link</a>) | @adsodemelk
<br/>
July 2, 2020 | https://deeplearningindaba.com/grand-challenges/leishmaniasis/ | <a href="https://web.archive.org/web/*/https://deeplearningindaba.com/grand-challenges/leishmaniasis/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="wrapper">
			<div id="main">
				<div id="content">
					
					<div>
						<div>
							<div>
								

<blockquote>
<p><strong>Join the live stream for the #IndabaGrandChallenge kickoff meeting on YouTube  on Tuesday 30 June 3pm Accra,Dakar (UTC) | 4pm Abuja,Kinshasa,Yaounde | 5pm Johannesburg,Lilongwe | 6pm Nairobi, Kigali</strong>. </p>
<p><cite><strong><a href="https://www.youtube.com/c/deeplearningindaba/live">https://www.youtube.com/c/deeplearningindaba/live</a></strong></cite></p></blockquote>
<hr>
<p>Leishmaniasis is a <a href="https://www.dndi.org/diseases-projects/leishmaniasis/">neglected disease</a>. As a disease of poverty, it has historically received <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3530408/">limited funding</a> for discovery, development and delivery of new tools. Current treatment is costly, lengthy, painful and sometimes toxic. Like a handful of similar diseases, it is the scourge of whole regions affected by them, because we still miss cheap, safe and effective cures for them.</p>
<p>At the same time, new drug candidates are being developed and old ones are being tested every day. Today, millions of drug activity assays are available at the press of a button. In this Indaba Grand Challenge, we dare to ask you to help identify amongst the already known, tested and (often) approved drugs, potential cures for different forms of leishmaniasis.</p>
<h2>Leishmaniasis</h2>
<figure>
<p>
<iframe title="KILLER DISEASES | How Leishmaniasis Affects the Body" width="1200" height="675" src="https://www.youtube.com/embed/ABgLFFOO1ek?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
</figure>
<p>Humanity has been remarkably successful in curing most of communicable diseases, be it of bacterial or viral origin. However, there remains a whole group of diseases that largely evade successful treatment – the ones transmitted by parasites. Large number of them is caused by a group of small, single-celled animals named <em><a href="https://www.dndi.org/wp-content/uploads/2018/12/Rao_Drugdiscoverykinetoplastiddiseases_ACSInfectiousDiseases_2019.pdf">kinetoplastids</a>. </em>They cause such diseases as African sleeping sickness (caused by <em>Trypanosoma brucei</em>), Chagas disease (<em>Trypanosoma cruzii</em>) and&nbsp; Leishmaniasis (different <em>Leishmania</em> species). </p>
<figure><img src="https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2.jpg" alt="" srcset="https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2.jpg 959w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2-300x163.jpg 300w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2-768x417.jpg 768w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2-103x56.jpg 103w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis2-285x155.jpg 285w" sizes="(max-width: 959px) 100vw, 959px"><figcaption> Child with post-kala-azar-dermal leishmaniasis in old Fangak  County, South Sudan. The area suffered  severe visceral leishmaniasis  outbreaks from 2009 to 2012. Source: WHO</figcaption></figure>
<p>Leishmaniases (as it is a whole group of diseases), are spread by bites of sandflies and readily communicated between animals (such as dogs). Out of 30 species that attack animals, 21 affect humans. There are more than 350 million people in nearly 90 countries, that live in areas where leishmaniasis is common. Around 90% of its most dangerous variant – visceral leishmaniasis –&nbsp; is recorded&nbsp; in Bangladesh, Nepal, Sudan and Brazil, but disease is prevalent also in Mexico, South and Central America, Asia (excluding the South-East Asia), Middle East, southern Europe and Africa (in particular North and East Africa) .</p>
<div>
<figure><a href="https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba.png" target="_blank" rel="noreferrer noopener"><img src="https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-1024x599.png" alt="" srcset="https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-1024x599.png 1024w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-300x176.png 300w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-768x449.png 768w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-1536x899.png 1536w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-2048x1198.png 2048w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-96x56.png 96w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba-265x155.png 265w, https://deeplearningindaba.com/wp-content/uploads/2020/06/leishmaniasis-map-indaba.png 6460w" sizes="(max-width: 1024px) 100vw, 1024px"></a></figure>
</div>
<p>Every year approximately 12 million people are afflicted with the disease, with over 2 million new cases each year, most of which is a cutaneous (skin) leishmaniasis (nearly 1.5 million), but nearly 25% comprises the most lethal, visceral variant. Parasite suppresses the host’s immune system to avoid eradication, which often leads to frequently lethal secondary respiratory infections.&nbsp; Yearly, approximately 50 thousand people die worldwide because of <em>Leishmania </em>caused diseases.  </p>
<p>Visceral leishmaniasis causes swelling, malaise, wasting, damages spleen and liver, as well as leads to characteristic graying of skin (hence the name <em>black fever</em>). The fever caused by the disease lasts for more than two weeks and does not abate with antimalarial drugs. The cutaneous type makes for wide-spread sores that can take over a year to heal, and lead to necrosis (dying of tissue). It leads to scars on the face, neck, arms and legs. The third, mucocutaneous type causes both skin and mucosal ulcers, leading to the damage of soft tissues and cartilage, predominantly of nose and mouth area. All types tend to co-occur with AIDS (approximately 1 in 60 AIDS patients in south of France suffers from leishmaniasis).</p>
<figure><img src="https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-1024x683.jpg" alt="" srcset="https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-1024x683.jpg 1024w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-300x200.jpg 300w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-768x512.jpg 768w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-1536x1024.jpg 1536w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-2048x1365.jpg 2048w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-84x56.jpg 84w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-233x155.jpg 233w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-600x400.jpg 600w, https://deeplearningindaba.com/wp-content/uploads/2020/06/Viscerial_Leishmaniasis_hr-scaled.jpg 2560w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption> Patient with post-kala-azar-dermal leishmaniasis. Was earlier  treated and cured for visceral leishmaniasis. Libo Kemkem district,  Ethiopia.  Source: WHO<br></figcaption></figure>
<p> The treatment for visceral leishmaniasis is problematic and relies mostly on antibiotics, which have a variable success rate. The most commonly used non-antibiotic drugs, containing pentavalent antimony (such as sodium stibogluconate or meglumine antimonate) are toxic to the heart, kidneys, pancreas and bone marrow of the patient, leading to headaches, abdominal issues, vomiting and low levels of blood platelets. They also require a month-long treatment through injections, as medication does not work well if taken by mouth. There is no safe treatment for cutaneous leishmaniasis, that would work dependably, with fluconazole (an antifungal medication) and pentamidine (an antimicrobial used for other kinetoplastid diseases) being the most promising support medications. Miltefosine, the first promising oral treatment for visceral leishmaniasis, tends to be effective for cutaneous form, but has limited use, as it is known to cause birth defects. </p>
<p>In the recent years a massive drug discovery campaign has led to discovery of a new drug (codenamed GNF6702) and its analog (a new, improved version, named NITD689), which affect parasites ability to degrade unnecessary and damaged proteins. While these drugs seem to work against a wide range of pathogens (including these causing African sleeping sickness, Chagas disease and visceral leishmaniasis), they are not effective against the other leishmaniases. Additionally, there is an emerging mutation among the parasites, that already now renders the drug ineffective. Therefore, even though it is currently successful in the clinical trials, it will most likely not lead to the eradication of the disease.&nbsp;  </p>
<p>There is a dire need for a new, safe therapy for kinetoplastis, one that can be administered earlier, with lesser likelihood of bothersome side effects, one that could eradicate these diseases once and for all. Finding this therapy is the goal of this Indaba Grand Challenge, and literally lives are at stake. The approach to identify potential cure candidates is drug repurposing. </p>
<h2>What is Drug Repurposing?</h2>
<figure><img src="https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing.jpg" alt="" srcset="https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing.jpg 910w, https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing-300x198.jpg 300w, https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing-768x508.jpg 768w, https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing-85x56.jpg 85w, https://deeplearningindaba.com/wp-content/uploads/2020/05/drug-repurposing-234x155.jpg 234w" sizes="(max-width: 910px) 100vw, 910px"><figcaption>Photo Credit: pixabay.com</figcaption></figure>
<p>Drug repurposing is the act of researching if an existing drug can be used for new therapeutic purposes. It’s something that has been done for centuries. A large amount of medications on the market right now are used for multiple purposes: for instance, aspirin is a pain reliever and also a blood thinner, ibuprofen is also used for pain relief, and for reducing inflammations.</p>
<p>The high cost of research and development involved in finding new drugs means that most of these will be targeted to “First World” countries to generate returns.</p>
<p>For “neglected diseases” or “tropical diseases”, drug repurposing is used as a sort of universal strategy: it lowers the costs of research and production and the time needed for clinic trials, which is why you’ll find that many of these diseases use medication that was originally used for other illnesses.</p>
<h2>The Challenge </h2>
<p>Drug discovery methods and pipelines are well described and modular. Each can be decomposed into smaller pieces, which can be rearranged and modified. All of these pipelines rely heavily on knowledge representation, pattern detection and building of statistical models.</p>
<p>The goal of this Indaba Grand Challenge is to, through the use of standard techniques and publicly available data on drugs, drug targets and kinetoplastids (parasites causing amongst other leishmaniasis), identify either:</p>
<ul>
<li>Compounds among known, approved drugs which can target known drug targets in <em>Leishmania </em>(especially one of the 15 species known to cause the cutaneous type of disease)<em> </em>in addition to their official use.</li>
<li>Compounds among known, approved drugs with sufficiently similar targets in the goal organisms to the targets in kinetoplastids.</li>
</ul>
<p>Importantly, the verification of a drug-target interaction is possible and routinely done <em>in silico</em>. However, not all drug-target combinations can be verified, due to sheer combinatorial expansion and limited computational resources. In addition, the identification of similarities and analogies between known experimental data is far from trivial and, despite the existence of numerous approaches, cannot be solved by one statistical technique alone.</p>
<p>By launching this Grand Challenge, and true to the core values of Deep Learning Indaba, we aim to build a <strong>collaborative effort</strong>, joining experts and enthusiasts in machine learning and software engineering, with doctors, epidemiologists, medicinal chemists and policy experts, to create a <strong>synergistic effect at scale</strong>. Our vision, if it becomes true, is one where interesting discoveries of the community are taken up by the experts, and conclusions of the experts are fed back to the community to iteratively improve on its findings and make breakthroughs possible. <strong>No single person can do it perfectly, but through a joint effort, together we can. </strong></p>
<h2> Challenge Specs </h2>
<p><strong>Goal:</strong> Propose a new treatment, comprising an <em>Leishmania </em>protein (either from a defined species, or a protein present in the proteome of one or more of the <em>Leishmania </em>species) and a small molecule (or set of small molecules). Submission can be specified as:</p>
<ul>
<li>Small molecule (SMILES/SMARTS string or SDF file) and a protein name</li>
<li>PDB file with a structure of a target and a bound small molecule</li>
</ul>
<p><strong>Available resources: </strong>We have put together a list of available resources and additional material <a rel="noreferrer noopener" aria-label=" (opens in a new tab)" href="https://deeplearningindaba.com/grand-challenges/leishmaniasis/resources/" target="_blank">here</a>.</p>

<h2>Who can apply?</h2>

<p>We invite you to join this initiative and help put an end to Leishmaniasis. We need your involvement, especially if, you are: </p>
<ul>
<li><strong>Data science</strong> or <strong>Machine Learning</strong> expert or enthusiast: we have the data, tools, benchmarks and everything you need to know to attack this problem. Our community needs your data wrangling skills. If you feel up for a challenge, apply here!</li>
<li><strong>Bioinformatics</strong> and <strong>Cheminformatics</strong> people: in addition to the resources, data and standardized protocols, we have a community, which can help you go the final mile from a great protocol to a great candidate. We need your expertise in translating life into bytes. If you can help, please apply here!</li>
<li><strong>Kinetoplastid</strong> <strong>researchers</strong>, <strong>practitioners</strong> and <strong>clinicians</strong>. We need you dearly. We will be generating loads of hypotheses and we need you to help make sense of them. We …</li></ul></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://deeplearningindaba.com/grand-challenges/leishmaniasis/">https://deeplearningindaba.com/grand-challenges/leishmaniasis/</a></em></p>]]>
            </description>
            <link>https://deeplearningindaba.com/grand-challenges/leishmaniasis/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23715643</guid>
            <pubDate>Thu, 02 Jul 2020 17:24:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Visual breakdown of S&P 500 companies]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 5 (<a href="https://news.ycombinator.com/item?id=23714435">thread link</a>) | @Omie6541
<br/>
July 2, 2020 | https://tijorifinance.com/us/company/AMZN | <a href="https://web.archive.org/web/*/https://tijorifinance.com/us/company/AMZN">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://tijorifinance.com/us/company/AMZN</link>
            <guid isPermaLink="false">hacker-news-small-sites-23714435</guid>
            <pubDate>Thu, 02 Jul 2020 15:36:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Python pattern matching: Guards and or-patterns might just not compose well]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23713795">thread link</a>) | @_ZeD_
<br/>
July 2, 2020 | https://ncik-roberts.github.io/posts/pep622.html | <a href="https://web.archive.org/web/*/https://ncik-roberts.github.io/posts/pep622.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<p><a href="https://www.python.org/dev/peps/pep-0622/">PEP 622</a> proposes adding a pattern matching construct to Python. Pattern matching allows the programmer to destructure data with a syntax that mirrors the construction syntax. The proposal brings Python in-line with many other modern programming languages, like Haskell, OCaml, and Rust. However, two features included in the proposal (or-patterns and guards) interact in a perhaps surprising way—see <a href="https://hal.inria.fr/hal-01413241/document">this paper</a> for an explanation of this interaction as it relates to OCaml, another language with both or-patterns and guards.</p>

<p>You can try out an in-progress implementation of this PEP at this fork of cpython: <a href="https://github.com/brandtbucher/cpython/tree/patma">https://github.com/brandtbucher/cpython/tree/patma</a>.</p>

<p>In the rest of this post, I’ll briefly summarize pattern matching, define or-patterns and guards, and show the surprising behavior in the context of Python.</p>

<h2 id="example-of-pattern-matching">Example of pattern matching</h2>

<p>Before the proposal, here’s how you might write a function that classifies a pair of animals according to their kind</p>

<div><div><pre><code><span>class</span> <span>Dog</span><span>:</span>
  <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>name</span><span>):</span>
    <span>self</span><span>.</span><span>name</span> <span>=</span> <span>name</span>

<span>class</span> <span>Cat</span><span>:</span>
  <span>def</span> <span>__init__</span><span>(</span><span>self</span><span>,</span> <span>age</span><span>):</span>
    <span>self</span><span>.</span><span>age</span> <span>=</span> <span>age</span>

<span>def</span> <span>classify</span><span>(</span><span>pet</span><span>):</span>
  <span>if</span> <span>isinstance</span><span>(</span><span>pet</span><span>,</span> <span>Cat</span><span>):</span>
    <span>print</span><span>(</span><span>"A cat that's {} years old"</span><span>.</span><span>format</span><span>(</span><span>pet</span><span>.</span><span>age</span><span>))</span>
  <span>elif</span> <span>isinstance</span><span>(</span><span>pet</span><span>,</span> <span>Dog</span><span>):</span>
    <span>print</span><span>(</span><span>"A dog named {}"</span><span>.</span><span>format</span><span>(</span><span>pet</span><span>.</span><span>name</span><span>))</span>

<span>classify</span><span>(</span><span>Dog</span><span>(</span><span>"Fido"</span><span>))</span>
<span># prints: A dog named Fido
</span>
<span>classify</span><span>(</span><span>Cat</span><span>(</span><span>3</span><span>))</span>
<span># prints: A cat that's 3 years old
</span></code></pre></div></div>

<p>Under the proposal, this is how you could write <code>classify</code>:</p>

<div><div><pre><code><span>def</span> <span>classify</span><span>(</span><span>pet</span><span>):</span>
  <span>match</span> <span>pet</span><span>:</span>
    <span>case</span> <span>Cat</span><span>(</span><span>age</span><span>=</span><span>age</span><span>):</span>
      <span>print</span><span>(</span><span>"A cat that's {} years old"</span><span>.</span><span>format</span><span>(</span><span>age</span><span>))</span>
    <span>case</span> <span>Dog</span><span>(</span><span>name</span><span>=</span><span>name</span><span>):</span>
      <span>print</span><span>(</span><span>"A dog named {}"</span><span>.</span><span>format</span><span>(</span><span>name</span><span>))</span>
</code></pre></div></div>

<p>In other words, pattern matching allows you to inspect a piece of data and simultaneously match its shape and bind the value of its fields to variables. In the above code, <code>Cat(age=age)</code> is a <em>pattern</em> that <em>matches</em> <code>Cat</code> values, and <em>binds</em> to the variable named <code>age</code>.</p>

<p>The proposal gives an informal description of the semantics of this construct, but the informal description doesn’t explain the interaction between two of the introduced features: or-patterns, and pattern guards. As it turns out, as currently implemented, the interaction between these features is somewhat surprising, and will probably yield at least one high-scoring Stack Overflow question if this PEP ends up being accepted.</p>

<h2 id="or-patterns">Or-patterns</h2>

<p>Here is an example of an or-pattern: <code>Cat(age=3) | Dog(name="Fido")</code>. This pattern matches either three-year-old cats or dogs named Fido. In practice:</p>

<div><div><pre><code><span># I have a three-year-old cat and a dog named Fido.
# This function returns true if the pet could be mine.
</span><span>def</span> <span>couldBeMyPet</span><span>(</span><span>pet</span><span>):</span>
  <span>match</span> <span>pet</span><span>:</span>
    <span>case</span> <span>Cat</span><span>(</span><span>age</span><span>=</span><span>3</span><span>)</span> <span>|</span> <span>Dog</span><span>(</span><span>name</span><span>=</span><span>"Fido"</span><span>):</span>
      <span>return</span> <span>True</span>
    <span>case</span> <span>_</span><span>:</span>
      <span>return</span> <span>False</span>

<span>print</span><span>(</span><span>couldBeMyPet</span><span>(</span><span>Cat</span><span>(</span><span>3</span><span>)))</span>
<span># prints True
</span>
<span>print</span><span>(</span><span>couldBeMyPet</span><span>(</span><span>Dog</span><span>(</span><span>"Rover"</span><span>)))</span>
<span># prints False
</span></code></pre></div></div>

<h2 id="pattern-guards">Pattern guards</h2>

<p>Pattern guards are boolean expressions that can be included in a <code>case</code> branch; the case branch is only taken if the pattern guard evaluates to true.</p>

<div><div><pre><code><span>def</span> <span>classify</span><span>(</span><span>pet</span><span>):</span>
  <span>match</span> <span>pet</span><span>:</span>
    <span>case</span> <span>Cat</span><span>(</span><span>age</span><span>=</span><span>age</span><span>)</span> <span>if</span> <span>age</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>:</span>
      <span>print</span><span>(</span><span>"This cat has an even age!"</span><span>)</span>
    <span>case</span> <span>Dog</span><span>(</span><span>name</span><span>=</span><span>name</span><span>)</span> <span>if</span> <span>sorted</span><span>(</span><span>name</span><span>)</span> <span>==</span> <span>list</span><span>(</span><span>name</span><span>):</span>
      <span>print</span><span>(</span><span>"This dog's name is in alphabetical order!"</span><span>)</span>
    <span>case</span> <span>_</span><span>:</span>
      <span>print</span><span>(</span><span>"I have nothing interesting to say about this pet."</span><span>)</span>

<span>classify</span><span>(</span><span>Cat</span><span>(</span><span>4</span><span>))</span>
<span># prints "This cat has an even age!"
</span>
<span>classify</span><span>(</span><span>Dog</span><span>(</span><span>"abe"</span><span>))</span>
<span># prints "This dog's name is in alphabetical order!"
</span>
<span>classify</span><span>(</span><span>Dog</span><span>(</span><span>"fido"</span><span>))</span>
<span># prints "I have nothing interesting to say about this pet."
</span></code></pre></div></div>

<p>In the above example, <code>if age % 2 == 0</code> and <code>if sorted(name) == list(name)</code> are pattern guards that allow that case to be taken only if that boolean expression evaluates to True.</p>

<h2 id="the-surprising-interaction">The surprising interaction</h2>

<p>What do you think this function does?</p>

<div><div><pre><code><span>def</span> <span>doesEitherCatHaveAnEvenAge</span><span>(</span><span>pet1</span><span>,</span> <span>pet2</span><span>):</span>
  <span>match</span> <span>(</span><span>pet1</span><span>,</span> <span>pet2</span><span>):</span>
    <span>case</span> <span>(</span><span>Cat</span><span>(</span><span>age</span><span>=</span><span>age</span><span>),</span> <span>_</span><span>)</span> <span>|</span> <span>(</span><span>_</span><span>,</span> <span>Cat</span><span>(</span><span>age</span><span>=</span><span>age</span><span>))</span> <span>if</span> <span>age</span> <span>%</span> <span>2</span> <span>==</span> <span>0</span><span>:</span>
      <span>return</span> <span>True</span>
    <span>case</span> <span>_</span><span>:</span>
      <span>return</span> <span>False</span>

<span>print</span><span>(</span><span>doesEitherCatHaveAnEvenAge</span><span>(</span><span>Cat</span><span>(</span><span>2</span><span>),</span> <span>Cat</span><span>(</span><span>4</span><span>)))</span>
<span># prints True
</span>
<span>print</span><span>(</span><span>doesEitherCatHaveAnEvenAge</span><span>(</span><span>Cat</span><span>(</span><span>2</span><span>),</span> <span>Cat</span><span>(</span><span>5</span><span>)))</span>
<span># prints True
</span>
<span>print</span><span>(</span><span>doesEitherCatHaveAnEvenAge</span><span>(</span><span>Cat</span><span>(</span><span>5</span><span>),</span> <span>Cat</span><span>(</span><span>4</span><span>)))</span>
<span># prints False (?????)
</span></code></pre></div></div>

<p>The last one (<code>doesEitherCatHaveAnEvenAge(Cat(5), Cat(4))</code>) may seem like it should evaluate to True. After all, the one of the patterns in the or-pattern seems like it matches the second cat, which is a cat with an even age.</p>

<p>Does <code>(Cat(5), Cat(4))</code> match against <code>(Cat(age=age), _) | (_, Cat(age=age)) if age % 2 == 0</code>? To answer this question, the semantics in your head might look something like this:</p>

<ol>
  <li>Well, <code>(Cat(5), Cat(4))</code> does match agains the first pattern of the or-pattern, <code>(Cat(age=age), _)</code>. This match binds the value 5 to the variable <code>age</code>.</li>
  <li>Now we check the guard <code>if age % 2 == 0</code>. Because <code>5 % 2 == 0</code> evaluates to False, this check fails.</li>
  <li>Go back to the or-pattern and see if there’s any other way to match it. In this case, <code>(Cat(5), Cat(4))</code> also matches the second pattern of the or-pattern, <code>(_, Cat(age=age)</code>. This binds the value 4 to the variable <code>age</code>.</li>
  <li>Now the guard <code>if age % 2 == 0</code> succeeds, because <code>4 % 2 == 0</code> evaluates to <code>True</code>.</li>
  <li>Because this case matches the value, we return True.</li>
</ol>

<p>This is perfectly sensible, but this is not what the implementation does. The implementation’s semantics are more like this:</p>

<ol>
  <li>Same as step 1 from above.</li>
  <li>Same as step 2 from above.</li>
  <li>Because the guard failed, the case isn’t taken! Instead, the next case is tried. This case (<code>case _:</code>) always succeeds, so we return False.</li>
</ol>

<p>In other words, pattern matching does’t have backtracking semantics, even if a value can match an or-pattern in multiple different ways.</p>

<p>I love pattern matching, and I’m excited to see that it might be adopted by such a popular language as Python. But this particular interaction of features might confuse novices. Let’s compare the approaches of other languages.</p>

<p>OCaml has the same semantics as Python here, but the OCaml compiler can emit a warning (because the compiler has enough type information to figure out whether the constituent patterns of an or-pattern can possibly match the same value in different ways).</p>

<div><div><pre><code><span>let</span> <span>()</span> <span>=</span>
  <span>match</span> <span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span> <span>with</span>
  <span>|</span> <span>(</span><span>x</span><span>,</span> <span>_</span><span>)</span> <span>|</span> <span>(</span><span>_</span><span>,</span> <span>x</span><span>)</span> <span>when</span> <span>x</span> <span>=</span> <span>2</span> <span>-&gt;</span> <span>print_endline</span> <span>":)"</span>
  <span>|</span> <span>_</span> <span>-&gt;</span> <span>print_endline</span> <span>":("</span>
<span>;;</span>
</code></pre></div></div>

<p>This prints <code>:(</code>, but also emits the warning:</p>

<div><div><pre><code>Warning 57: Ambiguous or-pattern variables under guard;
variable x may match different arguments. (See manual section 9.5)
</code></pre></div></div>

<p>Rust has pattern matching and guards, and has an experimental <code>or_patterns</code> feature. It implements backtracking semantics, unlike Python. This is weird in its own right, especially in the presence of side effects. Take a look at this program:</p>

<div><div><pre><code><span>#![feature(or_patterns)]</span>

<span>// Prompt the user whether they want to accept the match</span>
<span>pub</span> <span>fn</span> <span>check</span><span>(</span><span>x</span><span>:</span> <span>i32</span><span>)</span> <span>-&gt;</span> <span>bool</span> <span>{</span>
    <span>use</span> <span>std</span><span>::</span><span>io</span><span>::{</span><span>stdin</span><span>};</span>
    <span>println!</span><span>(</span><span>"Checking this match: {}. Should we accept it? y/n"</span><span>,</span> <span>x</span><span>);</span>
    <span>let</span> <span>mut</span> <span>s</span> <span>=</span> <span>String</span><span>::</span><span>new</span><span>();</span>
    <span>stdin</span><span>()</span><span>.read_line</span><span>(</span><span>&amp;</span><span>mut</span> <span>s</span><span>)</span><span>.expect</span><span>(</span><span>"Did not enter a correct string"</span><span>);</span>
    <span>return</span> <span>s</span><span>.trim</span><span>()</span> <span>==</span> <span>"y"</span>
<span>}</span>

<span>pub</span> <span>fn</span> <span>main</span><span>()</span> <span>{</span>
    <span>match</span> <span>(</span><span>1</span><span>,</span> <span>2</span><span>)</span> <span>{</span>
        <span>(</span><span>x</span><span>,</span> <span>_</span><span>)</span> <span>|</span> <span>(</span><span>_</span><span>,</span> <span>x</span><span>)</span> <span>if</span> <span>check</span><span>(</span><span>x</span><span>)</span> <span>=&gt;</span> <span>{</span>
            <span>println!</span><span>(</span><span>":)"</span><span>)</span>
        <span>}</span>
        <span>_</span> <span>=&gt;</span> <span>{</span>
            <span>println!</span><span>(</span><span>":("</span><span>)</span>
        <span>}</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>In particular, the guard can now run multiple times:</p>

<div><div><pre><code>$ cargo +nightly run
Checking this match: 1. Should we accept it? y/n
n
Checking this match: 2. Should we accept it? y/n
y
:)
</code></pre></div></div>

<p>I’m not sure what the right decision is for Python. Or-patterns and guards may just not compose well.</p>


      
    </div></div>]]>
            </description>
            <link>https://ncik-roberts.github.io/posts/pep622.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23713795</guid>
            <pubDate>Thu, 02 Jul 2020 14:48:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Setting the SSID of a Fios Home Router to an Emoji]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23712697">thread link</a>) | @deadmetheny
<br/>
July 2, 2020 | https://hamptonmoore.com/posts/fios-home-router-emoji/ | <a href="https://web.archive.org/web/*/https://hamptonmoore.com/posts/fios-home-router-emoji/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"> <article>   <p>Setting the name/SSID of your WiFi to an emoji is fairly simple for the Fios Home Router. Simply log into the router, and go the page for setting the SSID.</p> <p>Once you are there open the developer console using <code>Ctrl+Shift+I</code> or by right clicking and clicking the option labeled along the lines of <code>Inspect Element</code> or <code>Inspect</code>. After this simply paste the following code into the console.</p> <div><div><pre><code><span>validSSID</span> <span>=</span> <span>function</span><span>(){</span><span>return</span> <span>true</span><span>}</span>
</code></pre></div></div> <p>This overrides the current validSSID function which is used to make sure that your SSID is made of the Fios required 1-32 alphanumerical ascii characters. This is not an actual technical requirements for SSIDs with the 2012 standard of 802.11 (Section 6.3.11.2.2) stating SSIDs simply have to be a max of 32 bytes. Once this script is ran you should be able to type anything less than 32 bytes. This tends to be at most 32 characters, but depending on the size of the Unicode characters used it can be much less. For instance the fire emoji, <code>🔥</code>, is actually 4 bytes because of how UTF-8 works. This means that only 8 fire emojis could be used. To get the size of a string simply use the site <a href="https://mothereff.in/byte-counter">https://mothereff.in/byte-counter</a>.</p> <p>Have fun setting unusal SSIDs</p> <hr> <p> Hello reader. I do not normally like to put advertisements or promotions on my website, but recently a good friend of my Jaden Ann Scrivener died in a car crash. She was known in the community as the most caring and energetic person around. She was a beam of sunshine and happiness brightening up the day of anyone who interacted with her. If you could <a href="https://www.aplos.com/aws/give/RayofHopeMedicalMissionsInc/Jaden">please donate to her memorial fund</a>. All the proceeds will go to the <a href="https://www.rohmm.org/">Ray of Hope Medical Missions</a> which facilitates life-changing surgeries, reduces infant mortality, and provides mission opportunities locally. </p> </article>  </div></div>]]>
            </description>
            <link>https://hamptonmoore.com/posts/fios-home-router-emoji/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23712697</guid>
            <pubDate>Thu, 02 Jul 2020 13:05:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[RCE on Telia Routers]]>
            </title>
            <description>
<![CDATA[
Score 191 | Comments 48 (<a href="https://news.ycombinator.com/item?id=23712143">thread link</a>) | @theshrike79
<br/>
July 2, 2020 | https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-backdoor.html | <a href="https://web.archive.org/web/*/https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-backdoor.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<p>Multiple vulnerabilities could allow running arbitrary code on an intranet server and gain root access on all the customers' routers</p>

<p>Telia is a Swedish multinational telecommunications company. It also operates in Lithuania and provides mobile service, FTTH internet, DSL internet and IPTV. Telia rents and sells custom routers and set-top tv boxes to customers which have limited or almost no administration access left to them.</p>

<p>Every Telia router or tv box has a backdoor or "management interface". It is an <code>SSH</code> server running on VLAN 5 and/or WAN. Usually, it is running on port <code>8022</code>. Older models, like <code>ADB</code>, have password login enabled. The recent newer models, like <code>Technicolor</code>, have password login disabled and only use ssh with public key authentication (spoiler: it is still vulnerable).</p>

<p>Savitarna (in Lithuanian "Self service") - is a web service <a href="https://www.telia.lt/mano/sso">https://www.telia.lt/mano/sso</a> that allows Telia customers to order and manage services, get invoices, pay bills etc. It uses password authentication or external authority logins such as Facebook, Google, banking, digital signature etc. One of the new features: changing your router's wifi password. Sounds interesting, right? An internet web service that is able to change your local router's wifi password.</p>
<p>Login page:</p>
<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-web-login.jpg" alt="Telia Savitarna web login page"></p>
<p>Change wifi settings:</p>
<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-web-wifi-settings.jpg" alt="Telia Savitarna WiFi setting change feature"></p>

<p>How that works. When a user wants to change the password, the web service calls the backend to initiate an SSH connection to the user's associated router. Depending on the router it will be either password authentication or RSA public key. After a successful login a PHP script on the backend will issue some commands in the router's shell, parse the result and output some of the data to the user in the web UI, like wireless network name. <strong>Telia knows your WIFI password in plain text</strong>, keep it in mind and do not reuse this password anywhere. Overall scheme:</p>
<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-backdoor-scheme.jpg" alt="Overall scheme of Telia backdoor"></p>

<p>Let's take a look at how the SSH connection is established. Network capture shows an SSH client banner and the remote IP that initiated the connection:</p>
<p><code>SSH-2.0-libssh2_1.4.2 PHP 10.0.98.251</code></p>
<p>What is important here:</p>
<ul>
<li>Vulnerable <code>libssh2</code> version <code>1.4.2</code> <a href="https://www.libssh2.org/security.html">https://www.libssh2.org/security.html</a></li>
<li>Weak and deprecated key exchange <code>diffie-hellman-group1-sha1</code></li>
<li>The client does not verify <code>remote SSH server public key</code> (see below)</li>
<li><code>PHP</code></li>
</ul>
<p>And, yes, it turns out that Telia's client does not attempt to verify the remote server's public key. We were able to start a custom SSH server on the same port 8022 and Savitarna successfully established a connection without even trying to verify for a man-in-the-middle. This means that we can see the password used and could try to create a malicious SSH server that exploits public vulnerabilities on Telia's side.</p>

<p>That was an easy task. As soon as Telia's client connected to our malicious SSH server we got the universal router credentials:</p>
<pre>User: tadmin
Password: hqMV8Wps
</pre>

<p>Do you still own an ADB router? Just go ahead and login over the web interface with this user. You are now an admin. You can do some restricted stuff now, great! But what about the root shell? We were able to connect with those credentials locally and got a limited shell. That's nice too. This gave us a lot of additional information that was hidden inside the router, many more vulnerabilities. Using one of them we were able to escalate to root and got full access over the device. The newer models like Technicolor require some additional exploits chained to gain full root access, but all are publicly available and so - easily doable.</p>

<p>In order to exploit RCE we needed to build a virtual test environment that fully copies Telia's PHP client. Step by step we have gone through the sequence of Telia's commands sent over the SSH. And finally we got a malicious SSH server and a test libssh2 client running in our test lab. With this server we could fully control the protocol and start fuzzing.</p>
<p>In the first few days of the fuzzing we got some crashes and partially confirmed that RCE may be exploited. Here is a sample GIF video that demonstrates two kinds of the issues the fuzzer found for us. Same php file was executed twice, but the malicious SSH server sent different payloads which caused:</p>
<ul>
<li>Segfault (stack corruption)</li>
<li>Infinite loop with high CPU</li>
</ul>
<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-poc.gif" alt="GIF PoC video"></p>
<p>However, at the time of the report we couldn't find an easy way to exploit the stack corruption. It may require more time, longer and more sophisticated fuzzing and more knowledge about the server. As Lithuanian law prohibits exploit testing on the real server, we could only fingerprint the Windows OS, but nothing more.</p>

<p>The backend seems to run only 5 php processes, so it is fairly easy to perform DoS by keeping stalled ssh connections. When SSH connections stay active for too long filling all the 5 php processes (there seems to be no timeout reading the remote shell), the Savitarna will show a strange "Maintenance" message:</p>
<p>Translation:</p>
<pre>An update is in progress
Too many of you are trying to access the new Telia webpage.
We are expanding the resources and will accept you all soon.
Apologies for any inconvenience
</pre>

<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-web-DoS.jpg" alt="Service unavailbale"></p>

<p>If we now get all together, an attacker could exploit RCE on the intranet server and use that server to move laterally (because <code>10.0.98.251</code> is whitelisted everywhere) across all the customer routers with the same credentials creating the most powerful, persistent and undetectable botnet of Lithuania. Who knows, maybe someone already exploited that? (spoiler: see bonus section)</p>

<p>The report was responsibly disclosed to Telia and a copy sent to <code>CERT LT</code> (<a href="https://www.nksc.lt/">NKSC</a>). What happened next was a little bit of a surprise to the team. There were rumours previously about Telia's poor tech level, but we have experienced this in a real case.</p>
<p>First, Telia did not have a PGP key and did not know how to use it, so instead they asked us to ZIP the report with password and send the password over a separate email (private GMail). I hope Telia's engineers will be reading this article, so I would like to explain why the report should be encrypted. This is to protect you as the affected vendor. If there is a man in the middle who can intercept all the researcher's traffic, it will be very easy to get the ZIP file in the first email and then the password in the second email. Instead, PKI like PGP only allows to decrypt the report by the private key owner, ensuring that nobody else can intercept the report and exploit the vulnerabilities before you fix them all. </p>
<p>Second, Telia tried to threaten the reporter for the vulnerability discovery:</p>
<p>Translation:</p>
<pre>Thank you for the information
Are you sure you did not violate the electronic data protection law?
</pre>

<p>Original:</p>
<pre>Dėkojame už informaciją.
Ar tikrai tyrimą atlikote ir neviešus elektroninius duomenis rinkote
nepažeidžiant galiojančių įstatymų?
</pre>

<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-csirt-response-1.jpg" alt="Telia CSIRT email response"></p>
<p>And then they once again mentioned that they will check if this report wasn't a hacking attempt and that they will persecute any reporter that discloses any information about Telia vulnerabilities:</p>
<p>Translation:</p>
<pre>Thank you for the information. We will continue to check whether you made your report
legally without violating any law. And we will ensure that no fake information will be
published that could do any harm to the company's reputation and to the critical part
of Lithuanian network infrastructure.
</pre>

<p>Original:</p>
<pre>Dėkojame Jums už pasidalintą informaciją, kurios surinkimo teisėtumo vertinimą toliau
atliekame ir tikimės, kad į viešumą nebus paskleista tikrovės neatitinkanti ar neteisėtai
gauta informacija, kuri darytų žalą bendrovės reputacijai ir tuo pačiu sėtų nepasitikėjimą
kritine Lietuvos ryšių infrastruktūros dalimi.
</pre>

<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-csirt-response-2.jpg" alt="Telia CSIRT email confirmation"></p>
<p>We will not comment on this and let the IT community to judge. At the same time we will no longer provide any reports in any form to Telia company.</p>
<table>
<thead>
<tr>
<th>Vulnerability</th>
<th>Fixed?</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>Vulnerable libssh2</td>
<td>NO!</td>
<td><a href="https://www.libssh2.org/security.html">SSH-2.0-libssh2_1.8.0 PHP</a></td>
</tr>
<tr>
<td>Weak KEX</td>
<td>partially*</td>
<td>diffie-hellman-group-exchange-sha256</td>
</tr>
<tr>
<td>MITM</td>
<td>NO!</td>
<td>still no pub key check</td>
</tr>
<tr>
<td>Password leaked</td>
<td>NO!</td>
<td>password has not been rotated</td>
</tr>
</tbody>
</table>
<p>* Note: partial fix for KEX means the new KEX is not considered to be weak, however it is now possible to exploit libssh2 vulnerabilities after 1.8.0 with this particular KEX and a publicly known exploit for <a href="https://github.com/Semmle/SecurityExploits/blob/446048470633bf0f8da9570d008d056dbaa28ea9/libssh2/out_of_bounds_read_kex_CVE-2019-13115/server/home/diff.txt">KexAlgorithms diffie-hellman-group-exchange-sha256</a></p>

<p>After getting the root access and analyzing the Telia's routers' firmwares, we found several more users, like <code>ladmin</code> and <code>technician</code>. We will not disclose those passwords (yet), as it is not clear yet how both are used. But we were surprised that Telia's passwords appeared to be leaked many years ago. You can try to search for the tadmin password's hash on the web and you will be surprised - there was an attempt to crack the hash back in 2014!</p>
<pre>echo -n hqMV8Wps | md5sum
ff19d662d7127446d83c935e74430921  -
</pre>

<p><img src="https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-backdoor-leaked-password-2014.jpg" alt="Screenshot of a leaked Telia admin password MD5"></p>
<p><a href="https://webcache.googleusercontent.com/search?q=cache:J9ef6qUfrCcJ:www.md5this.com/list.php%3Fpage%3D108462%26key%3D1%26author%3DToXiC%26country%3DCyprus%26city%3DNicosia+">Webcache</a></p>
<p>And finally, we found that the hash was cracked and was available in the old "weakpass" database. You can search for the "old" weakpass database (sometimes named "First version of weakpass") and grep it - password is there. This means that most probably we are not the first who were able to penetrate Telia.</p>

<pre>2019-10-22 - tried to get in touch with Telia and asked for PGP key
2019-10-23 - password protected ZIP sent to Telia as they asked
2019-10-24 - Telia confirmed that report had been received
2019-11-21 - disclosure reminder sent to Telia
2019-11-23 - Telia tried to threaten the reporter
2019-11-27 - Telia confirmed that everything was safe, vulnerabilities were "always fixed"
2020-06-29 - full disclosure
</pre>

    </article></div>]]>
            </description>
            <link>https://full-disclosure.eu/reports/2019/FDEU-CVE-2019-10222-telia-savitarna-backdoor.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23712143</guid>
            <pubDate>Thu, 02 Jul 2020 11:50:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Writing a VM for a Small Stack-Base Language in Pointless]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23712035">thread link</a>) | @caditinpiscinam
<br/>
July 2, 2020 | https://ptls.dev/tutorials/factorsVM.html | <a href="https://web.archive.org/web/*/https://ptls.dev/tutorials/factorsVM.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

      <h3>Tutorial: Writing a VM for a Small Stack-Base Language in Pointless</h3>
      <pre>- Avery N. Nortonsmith</pre>

      <hr>

      <p>
        The age of functional programming will soon be over.
      </p>

      <p>
        Object-oriented programming has come and gone. Functional programming -- the wise, quiet observer -- has waited patiently for its turn. But FP, like OOP, will fade away in time as software yields to the inexorable pull of the one <em>True Paradigm</em>: stack-based programming!
      </p>

      <hr>

      <p>
        Joking aside, stack-based programming <em>is</em> pretty cool.
      </p>

      <p>
        This tutorial covers the implementation of a <strong>virtual-machine</strong> for a small, <strong>stack-based</strong> language in Pointless. We'll take an <strong>incremental</strong> approach to building the VM and improving its capabilities until it can run a short <strong>prime-factorization</strong> program.
      </p>

      This project seeks to demonstrate:

      <ul>
        <li>
          How an imperative language can be implemented in a purely functional context
        </li>

        <li>
          How to structure and refactor code that uses persistent data-structures
        </li>

        <li>
          How Pointless can -- even as a young language -- be used to solve non-trivial tasks
        </li>
      </ul>

      <p>
        Before we tackle prime-factorization, let's take a look at a small example of the stack-based code that our VM will evaluate. The following Pointless code defines a <a href="https://ptls.dev/docs.html#lists">list</a> of 'instructions', where <a href="https://ptls.dev/docs.html#tuples">labeled-tuples</a> are used to represent instructions with an argument, and <a href="https://ptls.dev/docs.html#labels">labels</a> are used for those without. A list of instructions like this represents a program in our stack-based language:
      </p>

      <div>
        <pre>program = [
  Const(7),
  Const(2),
  Mod,
  Const(0),
  Eq,
  Print,
  Exit,
]
</pre>
      </div>

      <p>
        Let's take a minute to fancy things up by writing a function to pretty-print these instruction lists -- this will come in handy later when we work with more complex programs. The function <code>showInst</code> below takes an instruction and returns a string showing the instruction's type (left-justified to 5 characters) and argument. The function <code>argOrBlank</code> returns an instruction's argument if there is one, or an empty string otherwise. 
      </p>

      <div>
        <pre>showInst(inst) =
 format("[ {&lt;5} ] {}", [getLabel(inst), argOrBlank(inst)])

argOrBlank(inst) =
  if is(PtlsTuple, inst) then unwrap(inst) else ""
</pre>
      </div>

      <p>
        In the code above, <code><a href="https://ptls.dev/api/prelude/format.html#format">format</a></code>, <code><a href="https://ptls.dev/api/prelude/label.html#getLabel">getLabel</a></code>, <code><a href="https://ptls.dev/api/prelude/types.html#is">is</a></code>, and <code><a href="https://ptls.dev/api/prelude/label.html#unwrap">unwrap</a></code> are defined in the Pointless <a href="https://ptls.dev/api/index.html">prelude</a> (standard-library).
      </p>

      <p>
        To see our new functions in action, we'll define an output variable for our program; in Pointless, a program's output is defined by its output variable. The prelude contains functions like <code><a href="https://ptls.dev/api/prelude/io.html#printLines">printLines</a></code> which generate sequences of IO commands that can be assigned to a program's output variable.
      </p>

      <p>
        The output definition below takes our list of instructions, generates a new list of instruction-strings by calling <code>showInst</code> on each instruction, and produces IO commands to print each string on a separate line. Take a look at the docs for more info on the function <a href="https://ptls.dev/docs.html#pipeOperator">pipe operator</a> <code>|&gt;</code>, and for <a href="https://ptls.dev/docs.html#partialApplication">partial application</a>.
      </p>

      <p><em>
        Note that the name 'main.ptls' is chosen arbitrarily; it doesn't have any special meaning
      </em></p>

      <div>
        <pre>output =
  program
  |&gt; map(showInst)
  |&gt; printLines
</pre>

      <pre>$ ./bin/pointless main.ptls

[ Const ] 7
[ Const ] 2
[ Mod   ] 
[ Const ] 0
[ Eq    ] 
[ Print ] 
[ Exit  ]
</pre>
      </div>

      <p>Seeing is believing. Time to start making our VM.</p>

      <p>
        We'll represent the VM as an <a href="https://ptls.dev/docs.html#objects">object</a> with the following fields:
      </p>

      <ul>
        <li><code>slots</code>: used to store "heap" variables (discussed later on)</li>
        <li><code>insts</code>: an array containing the program's instructions</li>
        <li><code>index</code>: the position in instruction array of the current instruction</li>
        <li><code>stack</code>: a linked-list serving as the stack for the VM</li>
        <li><code>outVal</code>: used to get output from VM as program runs</li>
      </ul>

      <p>
        The function <code>vmFromInsts</code> sets up a new VM object for a given list of instructions. The code also adds the label <code>VM</code> to the VM object (objects and tuples can be labeled in Pointless). Object labels can be used to write code that tells different types of objects apart, or simply for documentation (as we do here).
      </p>

      <div>
        <pre>vmFromInsts(program) = VM {
  slots  = zeroArray(8)
  insts  = toArray(program)
  index  = 0
  stack  = []
  outVal = None
}
</pre>
      </div>

      <p>
        To check that <code>vmFromInsts</code> works, we'll modify our output definition to create and print a new VM object. Note that we've replaced <code>printLines</code> with <code><a href="https://ptls.dev/api/prelude/io.html#println">println</a></code> -- <code>printLines</code> expects a sequence of values (and can print these values on-the-fly as they're computed in the case of lists!), whereas <code>println</code> can handle sequence and non-sequences types.
      </p>

      <div>
        <pre>output =
  program
  |&gt; vmFromInsts
  |&gt; println
</pre>

      <pre>$ ./bin/pointless main.ptls

VM {stack = []; insts = [Const(7) Const(2) Mod Const(0) Eq Print Exit]; slots = [0 0 0 0 0 0 0 0]; index = 0; outVal = None}
</pre>
      </div>

      <p>
        We run the program, and see that <code>println</code> gives us a nice visualization of our initial VM object, fields and all.
      </p>

      <p>
        Back to our list of instructions:
      </p>

      <div>
        <pre>program = [
  Const(7),
  Const(2),
  Mod,
  Const(0),
  Eq,
  Print,
  Exit,
]
</pre>
      </div>

      <p>
        The instructions above do the following -- (once we've implemented them, that is):
      </p>

      <ul>
        <li><code>Const(arg)</code> pushes <code>arg</code> onto the VM stack</li>
        <li><code>Mod</code> pops values <code>v0</code> and <code>v1</code> from the stack, and pushes <code>v1 % v0</code></li>
        <li><code>Eq</code> pops values <code>v0</code> and <code>v1</code> from the stack, and pushes <code>v1 == v0</code></li>
        <li><code>Print</code> pops a value from the stack and prints it</li>
        <li><code>Exit</code> signals the end of the program</li>
      </ul>

      <p>
        Additionally, each of these instructions will advance the VM to the next instruction after performing the behaviors above. Nice and imperative ;)
      </p>

      <p>
        With this in mind, we see that the program above does the following: loads the values <code>7</code> and <code>2</code> onto the stack, computes <code>7 % 2</code>, loads the value <code>0</code>, compares <code>0</code> with the result of <code>7 % 2</code>, prints the result of this comparison, and exits. In other words, this program tells us whether or not <code>7</code> is even.
      </p>

      <p>
        Now that we've defined some instructions, let's start evaluating them.
      </p>

      <div>
        <pre>eval(vm) = cond {
  case is(Const, vm.insts[vm.index])
    vm with $.stack = [unwrap(vm.insts[vm.index])] ++ vm.stack
}
</pre>
      </div>

      <p>
        Our <code>eval</code> function uses a <code><a href="https://ptls.dev/docs.html#cond">cond</a></code> conditional -- eventually this will include cases for all instructions, but we'll start with just <code>Const</code> for now. The code above calls the function <code><a href="https://ptls.dev/api/prelude/types.html#is">is</a></code> to check whether the current instruction has the label <code>Const</code> (where the current instruction is the instruction in the <code>vm.insts</code> array at index <code>vm.index</code>). If <code>is</code> returns true, then conditional evaluates and returns the body of the case expression.
      </p>

      <p>
        Structures in Pointless persistent, and thus immutable. As such, our program will never mutate the state of a VM object; rather, it will produce new VM objects. The code above uses <a href="https://ptls.dev/docs.html#viaWith">with syntax</a> (which can handle both shallow and nested updates -- one of Pointless's little innovations) to create a new VM object with a new stack value: the old stack with the instruction argument pushed to the top. The <code>unwrap</code> function is used to get the argument from the <code>Const</code> instruction.
      </p>

      <p>
        The code above is dense and repetitive! We can improve it by defining a couple of variables. In the new version, <code>inst</code> is the current instruction, and the <code>arg</code> is the argument of that instruction.
      </p>

      <div>
        <pre>eval(vm) = cond {
  case is(Const, inst)
    vm with $.stack = [arg] ++ vm.stack

} where {
  inst = vm.insts[vm.index]
  arg = unwrap(inst)
}
</pre>
      </div>

      <p>
        We modify the program's output definition to call <code>eval</code> on the VM to evaluate the first instruction, <code>Const(7)</code>. Looking at output, we see that the value <code>7</code> has been pushed to the stack.
      </p>

      <p><em>
        <code>insts</code> field abbreviated for readability
      </em></p>

      <div>
        <pre>output =
  program
  |&gt; vmFromInsts
  |&gt; eval
  |&gt; println
</pre>

      <pre>$ ./bin/pointless main.ptls

VM {stack = [7]; insts = ...; slots = [0 0 0 0 0 0 0 0]; index = 0; outVal = None}
</pre>
      </div>

      <p>
        But wait! We need our <code>Const</code> handler to do one more thing -- advance the VM to the next instruction. To do this, we'll make a new helper function <code>advance</code> that takes a VM object and returns a new VM object with the instruction index incremented. We'll also move the code for pushing a value onto the VM stack into the new function <code>pushVal</code>.
      </p>

      <div>
        <pre>advance(vm) = vm with $.index += 1

pushVal(arg, vm) = vm with $.stack = [arg] ++ vm.stack
</pre>
      </div>

      <p>
        Using these two new functions, the code for <code>eval</code> becomes:
      </p>

      <div>
        <pre>eval(vm) = cond {
  case is(Const, inst)
    vm
    |&gt; pushVal(arg)
    |&gt; advance

} where {
  inst = vm.insts[vm.index]
  arg = unwrap(inst)
}
</pre>

      <pre>$ ./bin/pointless main.ptls

VM {stack = [7]; insts = ...; slots = [0 0 0 0 0 0 0 0]; index = 1; outVal = None}
</pre>
      </div>

      <p>
        We call the program again and get the result seen above: the new VM object returned by <code>eval</code> has the value <code>7</code> on its stack and its index incremented.
      </p>

      <p>
        At this point, the entire program looks something like this:
      </p>

      <p><em>
        Note that the comment bars are not necessary, but are helpful for dividing code visually -- it's a habit of mine, like using fake em-dashes. They can also be used to mark API documentation
      </em></p>

      <div>
        <pre>output =
  program
  |&gt; vmFromInsts
  |&gt; eval
  |&gt; println

------------------------------------------------------------------------------

program = [
  Const(7),
  Const(2),
  Mod,
  Const(0),
  Eq,
  Print,
  Exit,
]

------------------------------------------------------------------------------

showInst(inst) =
 format("[ {&lt;5} ] {}", [getLabel(inst), argOrBlank(inst)])

argOrBlank(inst) =
  if is(PtlsTuple, inst) then unwrap(inst) else ""

------------------------------------------------------------------------------

vmFromInsts(program) = VM {
  slots  = …</pre></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ptls.dev/tutorials/factorsVM.html">https://ptls.dev/tutorials/factorsVM.html</a></em></p>]]>
            </description>
            <link>https://ptls.dev/tutorials/factorsVM.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23712035</guid>
            <pubDate>Thu, 02 Jul 2020 11:24:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to get values from mouse movement and plug them into an animation]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23711822">thread link</a>) | @thereyougo
<br/>
July 2, 2020 | https://www.cassie.codes/posts/making-a-lil-me-part-1/ | <a href="https://web.archive.org/web/*/https://www.cassie.codes/posts/making-a-lil-me-part-1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>I'm so excited to have <em>finally</em> launched my website.</p><p>This was one of my favourite bits to make <strong>by far</strong>. A little animated me that responds to the cursor position.</p><p data-height="580" data-theme-id="dark" data-preview="true" data-default-tab="result" data-user="cassie-codes" data-slug-hash="WNQqZJG" data-pen-title="lil' me."><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/WNQqZJG">lil' me.</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><p>In this post we'll cover how to get values from the mouse movement and plug them into an animation.</p><p>This is my <strong>favourite</strong> thing about SVG animation. Not mouse movement in particular, but interactivity. Exporting animation as an mp4 is cool and all. But you can't <em>play</em> with it.</p><p>Animating on the web opens up so many cool possibilities!</p><p>If you're the kind of person who learns best by digging into the code, then just go ahead and fork that pen, have fun!</p><hr><p>Still here? 😊 Cool beans, let's go through it together.</p><p>I use <a href="https://greensock.com/">Greensock</a> for all my SVG animation. There are a few reasons for this. Firstly, it gives you more control and is super fun to use. But more importantly, as browsers implement the SVG spec differently, animating can get a bit messy. The team at Greensock put a lot of effort into harmonizing behavior across browsers.</p><p>Under the hood though, Greensock is just a really performant property manipulator. It will manipulate (pretty much) whatever value you want to change. In this case it's updating the values in a matrix transform. Check this out.</p><p><img src="https://www.cassie.codes/images/cursor.gif" alt="gif of matrix transforms updating with dev tools open" loading="lazy"></p><p>Cool right! Greensock is great at this kind of thing, but there's a lot going on in this pen, so let's break it down into chunks and focus on one bit at a time. First up, the mouse interaction. We'll come back to Greensock in a bit!</p><h2 id="heading-mouse-movement-fun!">Mouse movement fun!<a href="#heading-mouse-movement-fun!"><span role="text"> permalink</span></a></h2><p>So, there's another way we can modify values in CSS with Javascript. <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties">CSS custom properties!</a></p><p data-height="500" data-theme-id="dark" data-default-tab="result" data-user="cassie-codes" data-slug-hash="OJMOLML" data-pen-title="Mouse movement demo"><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/OJMOLML">Mouse movement demo</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><p>Let's walk through the process. The goal is to get the x and y position of the cursor as we move our mouse about, and then we can use those values to update some custom properties.</p><p>In the previous gif Greensock is using matrix transforms, which are more performant. But we're going to use <code>transform: translate(x,y)</code> for this as it's a tad more readable, and we can use percentage values.</p><p>First up, we declare some custom properties for the x and y values and then use those custom properties in place of regular property values in our transform.</p><pre><code><span><span>:root</span> <span>{</span></span><br><span>  <span>--mouse-x</span><span>:</span> 0<span>;</span></span><br><span>  <span>--mouse-y</span><span>:</span> 0<span>;</span></span><br><span><span>}</span></span><br><span></span><br><span><span>.pointer</span> <span>{</span></span><br><span>  <span>transform</span><span>:</span> <span>translate</span><span>(</span><span>var</span><span>(</span>--mouse-x<span>)</span><span>,</span> <span>var</span><span>(</span>--mouse-y<span>)</span><span>)</span><span>;</span></span><br><span><span>}</span></span></code></pre><p>Then we need to get our mouse coordinates. We can do this by listening to the mouse movement and getting the mouse's coordinates with <code>clientX</code> and <code>clientY</code></p><p>We'll assign those values to some global variables so that we can access them in another function later.</p><pre><code><span><span>let</span> xPosition<span>;</span></span><br><span><span>let</span> yPosition<span>;</span></span><br><span></span><br><span></span><br><span><span>function</span> <span>updateMouseCoords</span><span>(</span><span>event</span><span>)</span> <span>{</span></span><br><span>  xPosition <span>=</span> event<span>.</span>clientX<span>;</span></span><br><span>  yPosition <span>=</span> event<span>.</span>clientY<span>;</span></span><br><span><span>}</span></span><br><span>window<span>.</span><span>addEventListener</span><span>(</span><span>'mousemove'</span><span>,</span> updateMouseCoords<span>)</span><span>;</span></span></code></pre><p>Now we've got our coordinates, lets use them to update our custom properties and move our pointer around!</p><p>😇 When animating things on the web it's important to pay attention to performance. We can't know for sure how many times a users mouse event will fire as it's implementation specific. If it fires more than 60 times per second (which is the average refresh rate for most browsers) we'll end up with unnecessary computation. So to avoid burning up everyone's laptop fans and melting their CPU we can use <code>requestAnimationFrame</code></p><p>Request animation frame allows us to make smoother, browser optimized animations. If the user changes tabs, the animation will stop and give the CPU a break. You call the function once to start, and then it recusively calls itself.</p><p>⚠️ This is a great way to crash your browser if you get some code wrong!</p><pre><code><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  </span><br><span>  <span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span><br><span><span>}</span></span><br><span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p>Right now, the x and y position we're getting back from <code>event.clientX</code> and <code>event.clientY</code> are pixel values, this isn't really useful to us. If we plug them straight into our custom properties we could end up transforming our pointer hundreds of pixels off in one direction.</p><p data-height="500" data-theme-id="dark" data-default-tab="result" data-user="cassie-codes" data-slug-hash="5ed677605b34f86eeb488b4b2a9bfe6a" data-pen-title="Mouse movement demo"><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/5ed677605b34f86eeb488b4b2a9bfe6a">Mouse movement demo</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><p>We need to convert those pixel values into percentages of the window height and width.</p><p>Let's define some global variables for the window width and height and work out the percentage values.</p><pre><code><span><span>let</span> windowHeight <span>=</span> window<span>.</span>innerHeight<span>;</span></span><br><span><span>let</span> windowWidth <span>=</span> window<span>.</span>innerWidth<span>;</span></span><br><span></span><br><span><span>function</span> <span>percentage</span><span>(</span><span>partialValue<span>,</span> totalValue</span><span>)</span> <span>{</span></span><br><span>  <span>return</span> <span>(</span><span>100</span> <span>*</span> partialValue<span>)</span> <span>/</span> totalValue<span>;</span></span><br><span><span>}</span></span><br><span></span><br><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  x <span>=</span> <span>percentage</span><span>(</span>xPosition<span>,</span> windowWidth<span>)</span><span>;</span></span><br><span>  y <span>=</span> <span>percentage</span><span>(</span>yPosition<span>,</span> windowHeight<span>)</span><span>;</span></span><br><span></span><br><span>  window<span>.</span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span><br><span><span>}</span></span><br><span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p>This will give us a range from 0 - 100, which would just move our pointer downwards and to the right, so we can shift the range by subtracting 50.</p><p>Once we've got our nice centralised range, we can plug it into our custom properties using <code>setProperty()</code></p><pre><code><span><span>let</span> windowHeight <span>=</span> window<span>.</span>innerHeight<span>;</span></span><br><span><span>let</span> windowWidth <span>=</span> window<span>.</span>innerWidth<span>;</span></span><br><span></span><br><span><span>function</span> <span>percentage</span><span>(</span><span>partialValue<span>,</span> totalValue</span><span>)</span> <span>{</span></span><br><span>  <span>return</span> <span>(</span><span>100</span> <span>*</span> partialValue<span>)</span> <span>/</span> totalValue<span>;</span></span><br><span><span>}</span></span><br><span></span><br><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  </span><br><span>  </span><br><span>  x <span>=</span> <span>percentage</span><span>(</span>xPosition<span>,</span> windowWidth<span>)</span> <span>-</span> <span>50</span><span>;</span></span><br><span>  y <span>=</span> <span>percentage</span><span>(</span>yPosition<span>,</span> windowHeight<span>)</span> <span>-</span> <span>50</span><span>;</span></span><br><span></span><br><span>  </span><br><span>  document<span>.</span>documentElement<span>.</span>style<span>.</span><span>setProperty</span><span>(</span><span>'--mouse-x'</span><span>,</span> <span><span>`</span><span><span>${</span>x<span>}</span></span><span>%`</span></span><span>)</span><span>;</span></span><br><span>  document<span>.</span>documentElement<span>.</span>style<span>.</span><span>setProperty</span><span>(</span><span>'--mouse-y'</span><span>,</span> <span><span>`</span><span><span>${</span>y<span>}</span></span><span>%`</span></span><span>)</span><span>;</span></span><br><span></span><br><span>  window<span>.</span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span><br><span><span>}</span></span><br><span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p>The user might resize the browser, so it's good to check for that.</p><pre><code><span></span><br><span><span>function</span> <span>updateWindowSize</span><span>(</span><span>)</span> <span>{</span></span><br><span>  windowHeight <span>=</span> window<span>.</span>innerHeight<span>;</span></span><br><span>  windowWidth <span>=</span> window<span>.</span>innerWidth<span>;</span></span><br><span><span>}</span></span><br><span>window<span>.</span><span>addEventListener</span><span>(</span><span>'resize'</span><span>,</span> updateWindowSize<span>)</span><span>;</span></span></code></pre><p>We can also avoid unnecessary calculations when the mouse position hasn't changed by storing past x and y positions and comparing them to the new positions.</p><pre><code><span><span>let</span> xPosition<span>;</span></span><br><span><span>let</span> yPosition<span>;</span></span><br><span></span><br><span><span>let</span> storedXPosition<span>;</span></span><br><span><span>let</span> storedYPosition<span>;</span></span><br><span></span><br><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  window<span>.</span><span>requestAnimationFrame</span><span>(</span>movePointer<span>)</span><span>;</span></span><br><span>  </span><br><span>  <span>if</span> <span>(</span>storedXPosition <span>===</span> xPosition <span>&amp;&amp;</span> storedYPosition <span>===</span> yPosition<span>)</span> <span>return</span><span>;</span></span><br><span></span><br><span>  </span><br><span></span><br><span>  </span><br><span>  storedXPosition <span>=</span> xPosition<span>;</span></span><br><span>  storedYPosition <span>=</span> yPosition<span>;</span></span><br><span><span>}</span></span></code></pre><p>😇 another <em>super important</em> bit is checking whether the user has a preference set in their OS for reduced motion. Some people have vestibular disorders and get mega quesy when looking at animations.</p><p>I pop this check at the start of all my animation functions, and return out if necessary.</p><pre><code><span><span>const</span> safeToAnimate <span>=</span> window<span>.</span><span>matchMedia</span><span>(</span><span>'(prefers-reduced-motion: no-preference)'</span><span>)</span></span><br><span>  <span>.</span>matches<span>;</span></span><br><span></span><br><span><span>if</span> <span>(</span><span>!</span>safeToAnimate<span>)</span> <span>return</span><span>;</span></span></code></pre><p data-height="500" data-theme-id="dark" data-preview="true" data-default-tab="result js" data-user="cassie-codes" data-slug-hash="OJMOLML" data-pen-title="Mouse movement demo"><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/OJMOLML">Mouse movement demo</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><h2 id="heading-what-about-greensock!">What about Greensock?!<a href="#heading-what-about-greensock!"><span role="text"> permalink</span></a></h2><p>Let's see how we can do the same thing using Greensock! First we have to include the core library, if you're on codepen, you can go to your pen settings and search for greensock.</p><p><img src="https://www.cassie.codes/images/gsap-include.png" alt="pen settings on codepen" loading="lazy"></p><p>Now we've got the GSAP library in our pen, we can take advantage of <code>gsap.ticker()</code></p><p>The greensock ticker is like the heartbeat of the GSAP engine - under the hood it uses requestAnimationFrame, just like we were using, but if that isn’t supported, the ticker automatically falls back to using a regular setTimeout() loop.</p><p>So rather than calling our function with request animation frame, we would do this...</p><pre><code><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  </span><br><span><span>}</span></span><br><span></span><br><span>gsap<span>.</span>ticker<span>.</span><span>add</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p>Aside from making structuring animation itself more intuitive, Greensock provides a load of super cool utility functions that make your life easier. Remember all that work we did to get a nice usable range? Chuck that all in the bin. Look what we can do now!</p><pre><code><span></span><br><span><span>let</span> mapWidth<span>;</span></span><br><span><span>let</span> mapHeight<span>;</span></span><br><span><span>function</span> <span>setMaps</span><span>(</span><span>)</span> <span>{</span></span><br><span>  mapWidth <span>=</span> gsap<span>.</span>utils<span>.</span><span>mapRange</span><span>(</span><span>0</span><span>,</span> innerWidth<span>,</span> <span>-</span><span>50</span><span>,</span> <span>50</span><span>)</span><span>;</span></span><br><span>  mapHeight <span>=</span> gsap<span>.</span>utils<span>.</span><span>mapRange</span><span>(</span><span>0</span><span>,</span> innerHeight<span>,</span> <span>-</span><span>50</span><span>,</span> <span>50</span><span>)</span><span>;</span></span><br><span><span>}</span></span><br><span>window<span>.</span><span>addEventListener</span><span>(</span><span>'resize'</span><span>,</span> setMaps<span>)</span><span>;</span></span><br><span><span>setMaps</span><span>(</span><span>)</span><span>;</span></span></code></pre><p>Now we can listen to the mouse movement, feed <code>clientX</code> and <code>clientY</code> into mapWidth, and we'll get back a value within the range we've set!</p><pre><code><span><span>let</span> xPosition<span>;</span></span><br><span><span>let</span> yPosition<span>;</span></span><br><span></span><br><span></span><br><span><span>function</span> <span>updateMouseCoords</span><span>(</span><span>event</span><span>)</span> <span>{</span></span><br><span>  xPosition <span>=</span> <span>mapWidth</span><span>(</span>event<span>.</span>clientX<span>)</span><span>;</span></span><br><span>  yPosition <span>=</span> <span>mapWidth</span><span>(</span>event<span>.</span>clientY<span>)</span><span>;</span></span><br><span><span>}</span></span><br><span>window<span>.</span><span>addEventListener</span><span>(</span><span>'mousemove'</span><span>,</span> updateMouseCoords<span>)</span><span>;</span></span></code></pre><p>So tidy and concise!</p><p>Instead of updating CSS custom properties, we're going to use a Greensock tween. A Tween is what does all the animation work, as I said at the start, it's like a high-performance property manipulator.</p><p>A tween takes in two parameters</p><p>The targets, which are the object(s) whose properties you want to animate. Greensock uses <code>document.querySelectorAll()</code> internally so we can use any CSS selector we would use in CSS, or a direct reference to an element.</p><p>And the vars, an object containing all the properties/values you want to animate, along with any special properties like delay, ease, or duration.</p><pre><code><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  gsap<span>.</span><span>to</span><span>(</span>pointer<span>,</span> <span>{</span></span><br><span>    xPercent<span>:</span> xPosition<span>,</span></span><br><span>    yPercent<span>:</span> yPosition<span>,</span></span><br><span>    ease<span>:</span> <span>'none'</span></span><br><span>    </span><br><span>    </span><br><span>  <span>}</span><span>)</span><span>;</span></span><br><span><span>}</span></span><br><span></span><br><span>gsap<span>.</span>ticker<span>.</span><span>add</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p>I've added a couple more easing equations in here so you can change them out and see what a difference it can make to the movement.</p><p data-height="400" data-theme-id="dark" data-preview="true" data-default-tab="js,result" data-user="cassie-codes" data-slug-hash="rNxYpzO" data-pen-title="Mouse movement demo - GSAP - easing"><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/rNxYpzO">Mouse movement demo - GSAP - easing</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><p>If you want to focus more on performance than easing you can use gsap.quickSetter to update the transforms. Creating a quickSetter function can boost performance around 50% - 250%!</p><pre><code><span></span><br><span></span><br><span><span>const</span> xSet <span>=</span> gsap<span>.</span><span>quickSetter</span><span>(</span>pointer<span>,</span> <span>'x'</span><span>,</span> <span>'%'</span><span>)</span><span>;</span></span><br><span><span>const</span> ySet <span>=</span> gsap<span>.</span><span>quickSetter</span><span>(</span>pointer<span>,</span> <span>'y'</span><span>,</span> <span>'%'</span><span>)</span><span>;</span></span><br><span></span><br><span><span>function</span> <span>movePointer</span><span>(</span><span>)</span> <span>{</span></span><br><span>  <span>xSet</span><span>(</span>xPosition<span>)</span><span>;</span></span><br><span>  <span>ySet</span><span>(</span>yPosition<span>)</span><span>;</span></span><br><span><span>}</span></span><br><span></span><br><span>gsap<span>.</span>ticker<span>.</span><span>add</span><span>(</span>movePointer<span>)</span><span>;</span></span></code></pre><p data-height="400" data-theme-id="dark" data-preview="true" data-default-tab="js,result" data-user="cassie-codes" data-slug-hash="oNboYNy" data-pen-title="Mouse movement demo - GSAP"><span>See the Pen <a href="https://codepen.io/cassie-codes/pen/oNboYNy">Mouse movement demo - GSAP</a> by Cassie Evans (<a href="https://codepen.io/cassie-codes">@cassie-codes</a>) on <a href="https://codepen.io/">CodePen</a>.</span></p><p>Thanks for reading!</p><p>Next up - lets apply this to a SVG and fake some three dimensional movement!</p><p>(check back in for the next article in a couple of days!)</p><p>Got any questions about this article? <a href="https://twitter.com/cassiecodes">Just pop me a message!</a></p></div></article></div>]]>
            </description>
            <link>https://www.cassie.codes/posts/making-a-lil-me-part-1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23711822</guid>
            <pubDate>Thu, 02 Jul 2020 10:37:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Things I wish I had known when I started programming, Part 4 (2019)]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 36 (<a href="https://news.ycombinator.com/item?id=23711463">thread link</a>) | @juanorozcov
<br/>
July 2, 2020 | https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-programming-part-4/ | <a href="https://web.archive.org/web/*/https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-programming-part-4/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
						<!--kg-card-begin: markdown--><p>Yepp, more things I wish I'd known when I started, 4th edition.</p>
<p><em>You can find the first article in the series <a href="https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-to-program/">here</a>.</em></p>
<p><em>And the previous article <a href="https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-programming-part-3/">here</a></em></p>
<h2 id="lovemaintenanceworkoratleastlearntoappreciateit">Love maintenance work or at least learn to appreciate it</h2>
<p>Very few things are more despised by programmers than doing maintenance work and working with legacy apps.</p>
<p>This can be counterproductive, as most of the work available involves doing exactly that. Companies have running systems, some built a long time ago, and someone needs to maintain that code. This is especially true if you are starting at an entry position, where you'll most likely work on some old application the company has been running for more than a decade.</p>
<p>We love working on new projects for several reasons:</p>
<ul>
<li>We can choose which technology to use.</li>
<li>We can flex our creatives muscles and create something cool.</li>
<li>There's a lot of freedom when designing the solution.</li>
<li>You get to work on The Next Big Thing and all the credit it carries.</li>
</ul>
<p>The huge difference between how we perceive maintenance work and new project development is a sad thing. On one hand, most of the really important job with high impact happens on those legacy systems, whereas The Next Big Thing often goes bust. On the other hand, that cool new app will be legacy as soon as it hits production and you start receiving new requirements.</p>
<p>We should start seeing maintenance work under a more positive light. After all, most of the value provided to end users happens on those systems. We could exercise our creative muscles by refactoring and improving the design, or increasing the test coverage, all proper challenges for developers of any level.</p>
<p>Learn to love maintenance work, it's most likely what you'll spend doing most of the time as a programmer.</p>
<h2 id="makeaccomplishmentsvisible">Make accomplishments visible</h2>
<p>You are an awesome developer, always finishing tasks on time, writing ultra-complete test suites and providing to customers exactly what they want. You do a great job every day and work extra hard to ship those last-minute features. Then, that time of the year when promotions are given arrives and you... you are still in the same position?</p>
<p>I know it can be extremely frustrating, and you might end up resenting management. After all, aren't you always doing an outstanding job? how dare they pass this chance to show me how much they appreciate my hard work!</p>
<p>In reality, managers are just too busy to keep track of your accomplishments. It's your responsibility to make your contribution visible to management.</p>
<p>It doesn't even require too much effort. Keep a list of the most important things you accomplish every week, and send small reports at the end of the week listing what you accomplished. You don't need to generate a fancy document: an email with bullet points will do.</p>
<p>It has two important advantages:</p>
<ul>
<li>Management doesn't need to pester you to get an idea of what you are doing at work.</li>
<li>You keep a registry of your accomplishments, which is useful for negotiating raises and other things.</li>
</ul>
<p>Take a proactive stance on the way management evaluates you, one of the biggest mistakes you can make is to outsource that responsibility to people who are already too busy with other things. Management will appreciate it, and so will you.</p>
<h2 id="fighttheimpostersyndrome">Fight the imposter syndrome</h2>
<p>Congratulations!</p>
<p>You got your first software development job. The idea of being interviewed made you feel very anxious, but you studied hard and aced the whole thing. Finally, you arrive at the office on your first day and...</p>
<p>And it's terrifying. Suddenly, you feel like a Jon Snow who knows nothing, and self-doubt starts to creep in. What if they find out I am not that smart? do I really deserve this job? am I a fraud? how long will it take them before they find out I'm a fraud and the horrible mistake they made by hiring me?</p>
<p>The following weeks don't help that much. Perhaps it's a technology you are not that familiar with, or maybe they ask you to work on some dark corner of their massive legacy application. Solving the tasks take you twice (or more) as long as the estimate, and you grow more and more anxious.</p>
<p>Been there, more than once.</p>
<p>It's all normal, the good old imposter syndrome. It's this feeling that you are fake, and that you don't deserve to be there. It will go away after a couple of weeks and you'll start to feel more confident. Ramp-up takes time, and in truth, no one really expects you to be 100% productive from the start. Your employer knows it will take some months before you know what you are doing, so don't punish yourself that hard.</p>
<p>Keep working hard, in no time you will become an important part of the team and your contributions will start to have an impact. We've all felt it, and I guarantee you it will go away. So keep up the good work!</p>
<h2 id="ohbutialsoknewallthesethings">Oh but I also knew all these things.</h2>
<p>It's ok, maybe in the next article you'll find something you didn't know yet.</p>
<p>Thank you for reading, I hope you learned one or two new things or at least got something new to think about.</p>
<h2 id="whattodonext">What to do next:</h2>
<ul>
<li>Share this article with friends and colleagues. Thank you for helping me reach people who might find this information useful.</li>
<li>Read the <a href="https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-programming-part-5/">next article in the series</a>.</li>
<li>Chad Fowler elaborates more on these topics and offers some really good advice in The Passionate Programmer. This and other very helpful books are in the <a href="https://www.brainstobytes.com/recommended-books/">recommended reading list</a>.</li>
<li>Send me an email with questions, comments or suggestions (it's in the <a href="https://www.brainstobytes.com/about">About Me page</a>). Come on, don't be shy!</li>
</ul>
<!--kg-card-end: markdown-->
					</div></div>]]>
            </description>
            <link>https://www.brainstobytes.com/advice-for-new-developers-or-things-i-wish-i-had-known-when-i-started-programming-part-4/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23711463</guid>
            <pubDate>Thu, 02 Jul 2020 09:29:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Introduction to GraphQL]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23711333">thread link</a>) | @oczek
<br/>
July 2, 2020 | https://blog.graphqleditor.com/introduction-to-graphql/ | <a href="https://web.archive.org/web/*/https://blog.graphqleditor.com/introduction-to-graphql/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><strong>GraphQL is a new approach</strong> for building an API that aims to get the better of two basic <strong>RESTful APIs limitations</strong> which are data filters &amp; relationships. These two classic REST flaws force REST users to always get the full payload in response &amp; hit multiple data sources separately.</p>
<h2>What is GraphQL</h2>
<p><strong>GraphQL is a data query and manipulation language</strong> for APIs created and open-source by Facebook to solve the problem of unoptimized data flow in their mobile app. In general, GraphQL is a syntax that describing the way of requesting data from the server. The main difference comparing Graph QL to traditional REST API is that the response format is described in the query and defined by the client rather than the server. Another important thing about GraphQL is that it is language agnostic.</p>
<h2>Basic structure</h2>
<p>The core notion of using GraphQL is a <em>schema</em>.  Designing a schema is one of the first steps in the development process, casting a shadow over the rest of the project. A carefully planned Graph QL schema is the core of a well-designed and secure product. GraphQL Schema is a center-piece of any Graph QL project and it strictly defines its structure &amp; regulates how the data can be accessed.</p>
<h5>GraphQL Queries &amp; Mutations</h5>
<p>There are two basic types of GrahQL operations which are GraphQL Queries &amp; GraphQL Mutations:</p>
<ul>
<li><em>GraphQL Queries</em> - query allows you to read or fetch data from the server-side,</li>
<li><em>GraphQL Mutations</em> - mutations are used to write or post values.</li>
</ul>
<p><span>
      <a href="https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/00d43/graphql_query_response.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="GraphQL Query &amp; Response" title="GraphQL Query &amp; Response" src="https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/fcda8/graphql_query_response.png" srcset="https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/12f09/graphql_query_response.png 148w,
https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/e4a3f/graphql_query_response.png 295w,
https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/fcda8/graphql_query_response.png 590w,
https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/efc66/graphql_query_response.png 885w,
https://blog.graphqleditor.com/static/fdd547ba79c689cf129b63fea7f8192c/00d43/graphql_query_response.png 1000w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<p>The performed operations have a form of a string that a GraphQL server can parse and respond to with requested data in a specific format i.e JSON.</p>
<h5>GraphQL Resolvers</h5>
<p>In order to understand what we are querying for the GraphQL server needs to have a defined set of functions/rules that our server would use to generate the response. These functions are called GraphQL Resolvers and they are responsible for handling our queries.</p>
<p><span>
      <a href="https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/6f278/graphql_resolvers.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Basic GraphQL resolver function" title="Basic GraphQL resolver function" src="https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/fcda8/graphql_resolvers.png" srcset="https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/12f09/graphql_resolvers.png 148w,
https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/e4a3f/graphql_resolvers.png 295w,
https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/fcda8/graphql_resolvers.png 590w,
https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/efc66/graphql_resolvers.png 885w,
https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/c83ae/graphql_resolvers.png 1180w,
https://blog.graphqleditor.com/static/4928db79f81281efbda8c410cf88a0cf/6f278/graphql_resolvers.png 1488w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h2>GraphQL vs REST</h2>
<p>Imagine we want to retrieve posts from a company blog using RESTful API. First, we need to <code>GET api/posts</code>, but posts have other data like authors so we need to call REST API again to get the details of the posts i.e. authors ending up with two server requests instead of one, and as you continue to scale, you may have even more requests to different endpoints in order to fetch all the needed data. </p>
<p>The performance drop, especially on slow cellular connections,  was the main problem Facebook engineers observed, and the urge to find its solution was a substructure for GraphQL. In GraphQL API we have a single endpoint being able to process complex requests. You query the GraphQL server for specific data and it will respond with what was requested, which results in fewer bits transferred over the wire.</p>
<p><span>
      <a href="https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/00d43/graphql_vs_rest.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="GraphQL vs REST the main difference" title="GraphQL vs REST the main difference" src="https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/fcda8/graphql_vs_rest.png" srcset="https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/12f09/graphql_vs_rest.png 148w,
https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/e4a3f/graphql_vs_rest.png 295w,
https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/fcda8/graphql_vs_rest.png 590w,
https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/efc66/graphql_vs_rest.png 885w,
https://blog.graphqleditor.com/static/e5c684bc3f2a7b5729d2b9b4ecb36514/00d43/graphql_vs_rest.png 1000w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
  </a>
    </span></p>
<h2>Learn GraphQL</h2>
<p>As you can see GraphQL is a very interesting concept. In the past couple of years, it gained a lot of traction and became a skill much appreciated and often required in job offers. If you are interested in deepening your knowledge of GraphQL there are plenty of neat resources you can learn from. </p>
<h5>Knowlege base</h5>
<ol>
<li><a href="https://graphql.org/learn/">GrapQL Official Documentation</a> is the best place to start your GraphQL learning.</li>
<li><a href="https://graphqlweekly.com/">GraphQL Weekly</a> is a newsletter with GraphQL tutorials, news, and everything related to GraphQL.</li>
<li><a href="https://www.howtographql.com/">How to GraphQL</a> is a website that will explain to you in detail what is GraphQL and
guide your steps from GraphQL newbie to releasing your production GraphQL project.</li>
</ol>
<p><a href="https://graphqleditor.com/"><img src="https://blog.graphqleditor.com/cd11e751a68e1e57ef406525c71032b1/graphql_docs.gif" alt="static GraphQL docs generated by GraphQL Editor"></a></p>
<h3>GraphQL Tools</h3>
<ol>
<li><a href="https://graphcms.com/">GraphCMS</a> a tool that allows you to build a hosted GraphQL backend for your web project along with tools to manage its content.</li>
<li>
<p><a href="https://graphqleditor.com/">GraphQL Editor</a> is a graphic playground for GraphQL allowing you to build &amp; manage your graphql schema faster giving you a set of GraphQL tools to:</p>
<ul>
<li>bulletproof GraphQL IDE (error handling, type validation),</li>
<li>generate static GraphQL docs,</li>
<li>preview GraphQL queries with a Live JAMStack Engine &amp; Mock Backend.</li>
</ul>
</li>
<li><a href="https://launchpad.graphql.com/new">Dgraph</a> is a native GraphQL database to help you build apps faster.</li>
<li><a href="https://hasura.io/">Hasura</a> makes your PostgreSQL database instantly available over GraphQL API.</li>
<li><a href="https://www.apollographql.com/">Apollo</a> a platform that allows you to combine databases, different APIs, and microservices into a single data source that you can query using GraphQL.</li>
</ol></div><p>The GraphQL Editor is a supportive tool for both advanced GraphQL users as well as those taking their first steps with GraphQL APIs. Our all-in-one development environment for GraphQL will help you build, manage &amp; deploy your GraphQL API much faster thanks to dozens of built-in micro features. Its graphical interface will also fix communication within your product team. Visualization is the key!</p></div>]]>
            </description>
            <link>https://blog.graphqleditor.com/introduction-to-graphql/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23711333</guid>
            <pubDate>Thu, 02 Jul 2020 09:03:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Understanding Convolutional Neural Networks]]>
            </title>
            <description>
<![CDATA[
Score 89 | Comments 9 (<a href="https://news.ycombinator.com/item?id=23710799">thread link</a>) | @advanderveer
<br/>
July 2, 2020 | https://poloclub.github.io/cnn-explainer/ | <a href="https://web.archive.org/web/*/https://poloclub.github.io/cnn-explainer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://poloclub.github.io/cnn-explainer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23710799</guid>
            <pubDate>Thu, 02 Jul 2020 07:27:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Book Review: A Philosophy of Software Design]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23710374">thread link</a>) | @signa11
<br/>
July 1, 2020 | http://www.pathsensitive.com/2018/10/book-review-philosophy-of-software.html | <a href="https://web.archive.org/web/*/http://www.pathsensitive.com/2018/10/book-review-philosophy-of-software.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>

<p>I’m trying to read all the good writing about software design. This is very easy because not very much has been written: it turns out that it’s much easier to write an article about how to write a Tetris AI as a containerized Kotlin microservice than it is to shed insight on how to write good code. And so, when I heard about John Ousterhout’s new book “A Philosophy of Software Design,” I ordered my copy immediately.</p>

<center><img height="200" src="https://images-na.ssl-images-amazon.com/images/I/61iOSX4WNiL._SX404_BO1,204,203,200_.jpg" width="161"></center>

<p>I remember John Ousterhout from Stanford’s grad student visit day as the tall guy who introduced himself with a self-deprecating joke and invited all the Ph. D. admits over to dinner at his house. I know him also as the father of <a href="http://kayousterhout.org/">Kay Ousterhout</a>, whom I recently met as a fellow speaker at Strange Loop, and Amy Ousterhout, whom together are the first pair of sisters to both win the prestigious Hertz Fellowship.</p>

<p>At 170 pages, “A Philosophy of Software Design” (henceforth: PoSD) is a humble book. John’s background is in systems rather than in software engineering or programming languages, and he never claims special expertise. But his practitioner cred is immense. I enjoy tearing apart open-source projects and turning them into case studies of what not to do, so much that my students have requested I write a case study about good code for once. RAMCloud, Ousterhout’s distributed in-memory storage system, is now on my shortlist: from a 5-minute glance, it’s among the cleanest and best-documented code I’ve seen. And, given that he’s a busy professor managing a large lab, he’s written a surprising amount of it himself. He’s had plenty of impact too: he’s the creator of the Tcl language and its Tk framework, which I learned in 2005 as The Way to Write GUIs(™).</p>

<p>PoSD is best read as a tactical guide of how-to’s. About a quarter of it is spent on naming and comments, and much of the rest is about specific patterns. His few attempts to jump from tactical advice to principles are either done by trying to blur together similar-sounding tips, or are hamstrung by his inability to see the meaning of a program beyond the code (more on that later). He demonstrates the lack of principles comically in Chapter 19, where he promises to apply the books’ “principles” to several software trends, and then fills the rest of the chapter with standard (but solid) advice on unit-testing and OOP, with nary a reference to the rest of the book. On the whole, the book’s advice is higher-level than beginner books like Clean Code, but most of its contents will be familiar to a senior software engineer, and the novel parts are hit-and-miss.</p>

<p>Following other books like <a href="http://shop.oreilly.com/product/0636920022251.do"><i>Code Simplicity</i></a>, PoSD starts with a high-minded explanation of the benefits of good code and the dangers of complexity. Its early chapters are a grand tour of the basic concepts of software organization: separating levels of abstraction, isolating complexity, and when to break up functions. Chapter 5 is one of the most approachable introductions I’ve seen to Parnas’s ideas about information hiding. But it’s Chapter 4 where he introduces the book’s central idea: deep modules. An interface, explains Ousterhout, is not just the function signatures written in the code. It also includes informal elements: high-level behavior, constraints on ordering; anything a developer needs to know to use it. Many modules are shallow: they take a lot to explain, but don’t actually do that much. A good module is deep: the interface should be much simpler than the implementation.</p>

<p>Beautiful, obvious, and impossible to disagree with. Unfortunately, it’s also objectively wrong.</p>

<h2>
When specifications are longer than the code</h2>

<p>It sounds pretty nice to say “interfaces should be shorter than the implementation?” How do you test it?</p>

<p>To Ousterhout, where the interface is just a comment and some discussion about whether it’s simple to use and think about. Intuition and experience are the sole arbiters here. And this reveals his major blind spot.</p>

<p>I’ve <a href="http://www.pathsensitive.com/2018/01/the-three-levels-of-software-why-code.html">explained</a> <a href="http://www.pathsensitive.com/2018/01/the-design-of-software-is-thing-apart.html">before</a>&nbsp;that the important information of software design is not in the code (Level 2), but in the logic: the specifications and reasoning that are rarely written down concretely, but shape the code nonetheless. I group these artifacts into the aggregate “Level 3 constructs.” The “informal interface” Ousterhout describes is such a Level 3 construct, but they’re just as real as the code, and, contrary to Ousterhout, there are plenty of programming languages that do let you write them down and check them.</p>

<p>Experience doing this gives us concrete grounding when we talk software design. It’s how we move into <a href="https://terrytao.wordpress.com/career-advice/theres-more-to-mathematics-than-rigour-and-proofs/">post-rigorous</a> stage of software engineering, and know what we mean when we use terms like “interface” and “complexity.” It defends us against making confused and contradictory statements. Ousterhout lacks this insight, and that’s how he gets burned.</p>

<p>I’m going to pause for a moment and tell you: I like this book overall. It's well-written, and there’s a lot of advice in the book that I consider useful even though it’s on shaky ground, and more that doesn’t depend on this at all. Still, Ousterhout makes a big deal out of it, and so I’ll be taking a couple pages to explain why it’s wrong. These ideas are important, because they’re part of what leads to the higher levels of mastery.</p>

<p>My view is that Ousterhout’s “informal interface” is just the translation into English of a formal specification. Any question we have about interfaces can be answered by asking the question “what would a specification look like?” While I can’t prove the correspondence without peaking into Ousterhout’s head more than I’ve gotten to in our back-and-forth, I’ve found this lens unreasonably effective in helping to explain software design. And so, for the remainder of this post, I’ll be using the words “spec” and “interface” interchangeably.</p>

<p>I agree that the spec should usually be much simpler than the code. But anyone with experience actually formalizing specs can tell you that there are interesting cases where the specification is and should be more complicated than the implementation.</p>

<p>That's right: there are times when it’s actually desirable to have a specification more complicated than the code. Two major reasons are <b>ghost state </b>and <b>imprecision</b>. Ghost state is a concept from verification that describes certain kinds of “subtle” code. It’s an interesting subject that deserves its own blog post; I won’t mention it again. (Short version: it’s when a simple action like flipping a bit actually represents something conceptually complicated.)</p>

<p>Imprecision is a bigger one. For example:</p>

<ul>
<li>Specification: The temperature of the Fudarkameter will be between 60 and 90 degrees.</li>
<li>Implementation: The temperature of the Fudarkameter is 70 degrees.</li>
</ul><p>
The specification is longer precisely because it creates an abstraction barrier. If you design the rest of the system assuming the Fudarkameter is exactly 70 degrees, then the Fudarkameter becomes much harder to change or replace. By weakening the assumptions placed on a module, code becomes more evolvable.</p>

<p>On top of these, there’s another fundamental reason: It is much easier to describe something from the inside than from the outside. It is much easier to show you an apple than to answer every question you may ask of it. (Where are the seeds? How will it roll when I drop it?) And while there is more you can say <a href="http://yudkowsky.net/rational/virtues/">about a single apple</a> than all the apples in the world, there are more things that may be true about some apple than about a single apple.</p>

<p>As an example, let’s take a stack data structure, something I hope we can all agree is a useful abstraction. A stack is a sequence with push and pop operations, following the last-in-first-out ordering. The linked-list implementation is very short: just adding and removing elements off the front of the list. But if you use a stack, and you don’t want to use internal details of this implementation, then you need a way to think about it that doesn’t reference the underlying sequence. One solution is to use the <a href="http://www.cs.unc.edu/~stotts/204/ADTs/">stack axioms</a>, which say things like “If you push something onto a stack and then pop from the stack, you get the old value back” and “If you’ve ever pushed something onto a stack, then it’s not empty.” We’ve gone from the internal view of explaining how the stack operations manipulate memory, to the external view of explaining their interactions and observable behaviors.</p>

<p>In my public correspondence with Prof. Ousterhout, I illustrated this by writing down an implementation and interface for a stack data structure, including the stack axioms. My implementation was 30 tokens; the interface was 54.</p>

<p>Perhaps you can find a shorter way to explain stacks, but this is not looking good. It seems that Ousterhout’s advice, held under a microscope, is actually telling us we should not use stacks in our code (or, at least, only use the more complicated implementations, like lock-free concurrent stacks).</p>

<h3>
<b>A “Simple” API</b></h3>

<p>It’s easy for the interface for stacks to be larger than the implementation because they’re so small. Now, let’s look at something larger. I don’t need to look very hard for an example, because Ousterhout gives me one.</p>

<blockquote>
<p>The mechanism for file IO provided by the Unix operating system and its descendants, such as Linux, is a beautiful example of a deep interface. There are only five basic system calls for I/O, with simple signatures: </p>

<div>
<pre><span>int</span> <span>open</span><span>(</span><span>const</span> <span>char</span><span>*</span> <span>path,</span> <span>int</span> <span>flags,</span> <span>mode_t</span> <span>permissions);</span>
<span>ssize_t</span> <span>read</span><span>(</span><span>int</span> <span>fd,</span> <span>void</span><span>*</span> <span>buffer,</span> <span>size_t</span> <span>count);</span>
<span>ssize_t</span> <span>write</span><span>(</span><span>int</span> <span>fd,</span> <span>const</span> <span>void</span><span>*</span> <span>buffer,</span> <span>size_t</span> <span>count);</span>
<span>off_t</span> <span>lseek</span><span>(</span><span>int</span> <span>fd,</span> <span>off_t</span> <span>offset,</span> <span>int</span> <span>referencePosition);</span>
<span>int</span> <span>close</span><span>(</span><span>int</span> <span>fd);</span>
</pre>
</div>
</blockquote>

<p>The POSIX file API is a great example, but not of a deep interface. Rather, it’s a great example of how code with a very complicated interface may look deceptively simple when reduced to C-style function signatures. It’s a stateful API with interesting orderings and interactions between calls. The flags and permissions parameters of <span>open</span> hide an enormous amount of complexity, with hidden requirements …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://www.pathsensitive.com/2018/10/book-review-philosophy-of-software.html">http://www.pathsensitive.com/2018/10/book-review-philosophy-of-software.html</a></em></p>]]>
            </description>
            <link>http://www.pathsensitive.com/2018/10/book-review-philosophy-of-software.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23710374</guid>
            <pubDate>Thu, 02 Jul 2020 05:46:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On Moving from Statistics to Machine Learning, the Final Stage of Grief]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 32 (<a href="https://news.ycombinator.com/item?id=23710210">thread link</a>) | @yoloswagins
<br/>
July 1, 2020 | https://ryxcommar.com/2019/07/14/on-moving-from-statistics-to-machine-learning-the-final-stage-of-grief/ | <a href="https://web.archive.org/web/*/https://ryxcommar.com/2019/07/14/on-moving-from-statistics-to-machine-learning-the-final-stage-of-grief/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-47">

	<!-- .entry-header -->

	<div>
		
<p>I’ve spent the last few months preparing for and applying for data science jobs. It’s possible the data science world may reject me and my lack of both experience and a credential above a bachelors degree, in which case I’ll do something else. Regardless of what lies in store for my future, I think I’ve gotten a good grasp of the mindset underlying machine learning and how it differs from traditional statistics, so I thought I’d write about it for those who have a similar background to me considering a similar move.<sup>1</sup></p>



<p>This post is geared toward people who are excellent at statistics but don’t really “get” machine learning and want to understand the gist of it in about 15 minutes of reading. If you have a traditional academic stats backgrounds (be it econometrics, biostatistics, psychometrics, etc.), there are two good reasons to learn more about data science:</p>



<ul><li>First, data science jobs tend to pay more than other quantitative jobs. It’s a bit taboo to bring this up– after all, aren’t we all supposed to be doing this out of passion and love? I’m not going to pretend that making more money is a bad reason to pursue something, and I reserve no judgment for those whose primary motivation is to earn more.</li><li>Second, data scientists genuinely do some pretty interesting things and have a very interesting approach to working with data, even if my gut reaction is to barf when someone says “teaching the model” instead of “estimating the parameters.”</li></ul>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>Q: What's the difference between statistics and machine learning?</p><p>A: About $50,000/year</p></div>— Senior OLS Engineer (@ryxcommar) <a href="https://twitter.com/ryxcommar/status/1131244580115046405?ref_src=twsrc%5Etfw">May 22, 2019</a></blockquote></div>
</div></figure>



<p>The world of data science is, in many ways, hiding in plain sight from the more academically-minded quantitative disciplines. I’m not going to spend much time covering the different algorithms that data scientists use: partly because a lot of the algorithms they use are the same as what statisticians use, but also because the algorithms aren’t the point of this post. In this post I’ll be writing a short guide on how to translate your statistics skills into data science very quickly.</p>



<p>After finishing this post, I recommend downloading (for free) and reading through <a href="https://web.stanford.edu/~hastie/ElemStatLearn/">The Elements of Statistical Learning</a> (herein TESL). It is an excellent and comprehensive textbook that covers all the major machine learning topics, and is geared toward people with a strong math background, especially linear algebra.</p>



<h2>Philosophical Differences Between Statistics and Machine Learning</h2>



<figure></figure>



<p>The main difference between machine learning and statistics is what I’d call “β-hat versus y-hat.” (I’ve also heard it described as inference versus prediction.) Basically, academia cares a lot about what the estimated parameters look like (β-hat), and machine learning cares more about being able to estimate a dependent variable given some inputs (y-hat). There are handful of other differences, but they are rooted in this. Once you understand this, combined with your background in stats, you will basically understand machine learning.</p>



<h4> β-Hat Versus Y-Hat</h4>



<figure><div>
<div><blockquote data-width="550" data-dnt="true"><div lang="en" dir="ltr"><p>My date: I am studying machine learning</p><p>Me [trying to impress her]: I too am studying how to do regressions in California</p></div>— Senior OLS Engineer (@ryxcommar) <a href="https://twitter.com/ryxcommar/status/1145076273410129921?ref_src=twsrc%5Etfw">June 29, 2019</a></blockquote></div>
</div></figure>



<p>Once you stop caring about your parameters, you can start making them look like nonsense, i.e. by adding <a href="https://en.wikipedia.org/wiki/Bias_of_an_estimator">bias</a> (the parameter is wrong) or <a href="https://en.wikipedia.org/wiki/Consistent_estimator">inconsistency</a> (the parameter doesn’t converge over infinite observations). In some cases, you can even turn the model into more or less a complete black box that just spits out a y-hat; this is what neural networks are, basically. Traditionally, it’s a cardinal sin in academia to use parameters like these because you can’t say anything interesting about the parameters, but the trick in machine learning is that you don’t need to say anything about the parameters. In machine learning, your focus is on describing y-hat, not β-hat.</p>



<p>Why so much love for y-hat? The friendly, less cynical answer is that within the last decade, everyone got their hands on a crap-ton of data and computational power, and they want to do cool and useful things with it. Machine learning is a pretty natural way to leverage all this data and power because machine learning has tools to deal with multicollinearity and to find really deep, hidden correlations and patterns in data. As you can imagine, machine learning doesn’t let you side-step the dirty work of specifying your data and models (a.k.a. “<a href="https://en.wikipedia.org/wiki/Feature_engineering">feature engineering</a>,” according to data scientists), but it makes it a lot easier to just run things without thinking too hard about how to set it up. In statistics, bad results can be wrong, and being right for bad reasons isn’t acceptable. In machine learning, bad results are wrong if they catastrophically fail to predict the future, and nobody cares much how your crystal ball works, they only care that it works.</p>



<figure><img src="https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fblogs-images.forbes.com%2Fgilpress%2Ffiles%2F2016%2F03%2FTime-1200x511.jpg" alt="Time"><figcaption>For those of you who have never done anything outside a classroom setting, this is literally every data related task, whether you’re an accountant working in Excel or a PhD data scientist working for 6-figures.<br><a href="https://www.forbes.com/sites/gilpress/2016/03/23/data-preparation-most-time-consuming-least-enjoyable-data-science-task-survey-says/#9b3182c6f637">(Source: Forbes.)</a></figcaption></figure>



<p>This newfound love for y-hat is a bit opportunistic, but in fairness, y-hat tends to be more important than β-hat for a wide array of business use cases. For example:</p>



<ul><li>Recommender systems (such as Youtube showing you more videos you might like, or showing  a customer items they might want to buy next).</li><li>Computer vision (such as optical character recognition or facial recognition).</li><li>Forecasting (such as estimating how much a customer will buy at a store, or how likely someone is to default on a loan).</li></ul>



<p>None of these tasks require having a human interpret the parameters and figure out what’s driving what to get a sufficiently acceptable answer; it’s all predictive.</p>



<h4>Letting Go of  β-Hat</h4>



<p>There are a lot of things that data scientists do that made literally zero sense to me before I grasped how to think in terms of y-hat.</p>



<p>The big one that made no sense to me the first time I encountered it back in 2017 is that data scientists split their data into <a href="https://medium.com/datadriveninvestor/data-science-essentials-why-train-validation-test-data-b7f7d472dc1f">“training data,” “validation data,” and “testing data.”</a> The reason this does not make sense to β-hat-brained people is because adding more observations should get you closer to the true parameter because, you know, the law of large numbers. There are two issues with the old school thought process. The first is that there is no “true” parameter if your parameters are intentionally allowed to be a little biased. The second is that there is no guarantee of convergence to anything if your parameters are allowed to be asymptotically inconsistent.</p>



<p>I’m sure you’re asking: “why allow your parameters to be biased?” Good question. The most straightforward answer is that there is a bias-variance trade-off. <a href="https://en.wikipedia.org/wiki/Bias%E2%80%93variance_tradeoff">The Wikipedia article </a>does a good job both illustrating and explaining it. For β-hat purposes, the notion of allowing any bias is crazy. For y-hat purposes, adding a little bias in exchange for a huge reduction in variance can improve the predictive power of your model.</p>



<figure><div>

</div></figure>



<h4>Adding Bias to OLS with Ridge Regression</h4>



<p>Ridge regression is the most straightforward example of adding bias. If you understand OLS, you’re like two paragraphs of reading away from understanding ridge regression.</p>



<p>Basically, instead of just solving for the β vector that minimizes the sum of squared residuals as one does with OLS, i.e. <img src="https://s0.wp.com/latex.php?latex=%5Chat%7B%5Cboldsymbol%7B%5Cbeta%7D%7D_%7B%5Crm+ols%7D+%3D+%7B%5Crm+argmin%7D_%7B%5Cboldsymbol%7B%5Cbeta%7D%7D+%5Csum_%7Bi%3D1%7D%5En+%28y_i+-+x_i+%5E%7B%5Crm+T%7D++%5Cbeta%29%5E2&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="\hat{\boldsymbol{\beta}}_{\rm ols} = {\rm argmin}_{\boldsymbol{\beta}} \sum_{i=1}^n (y_i - x_i ^{\rm T}  \beta)^2" title="\hat{\boldsymbol{\beta}}_{\rm ols} = {\rm argmin}_{\boldsymbol{\beta}} \sum_{i=1}^n (y_i - x_i ^{\rm T}  \beta)^2">, you can also add a “penalty” to large squared β’s while trying to find the β-hat that minimizes the objective function. So you add <img src="https://s0.wp.com/latex.php?latex=%5Clambda+%5Csum_%7Bj%3D1%7D%5EK++%5Cbeta%5E2&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="\lambda \sum_{j=1}^K  \beta^2" title="\lambda \sum_{j=1}^K  \beta^2"> to the objective function, where λ is some constant. Then, last but not least, you “standardize” each column <img src="https://s0.wp.com/latex.php?latex=X_j&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="X_j" title="X_j">, which means transforming it to <img src="https://s0.wp.com/latex.php?latex=Z_j+%5Csim+N%280%2C1%29&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="Z_j \sim N(0,1)" title="Z_j \sim N(0,1)"> by subtracting each column by the column’s mean and dividing by the column’s standard deviation: <img src="https://s0.wp.com/latex.php?latex=z_%7Bi%2Cj%7D+%3D+%28x_%7Bi%2Cj%7D+-+%5Cmu_j%29+%2F+%5Csigma_j&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="z_{i,j} = (x_{i,j} - \mu_j) / \sigma_j" title="z_{i,j} = (x_{i,j} - \mu_j) / \sigma_j"> (the purpose of this is to make it so the parameters measure the <em>relative</em> impacts to the overall result, as opposed to the nominal impacts, otherwise the penalty wouldn’t work the way you’d probably want it to). This gives you the ridge regression estimator:</p>



<p> <img src="https://s0.wp.com/latex.php?latex=%5Chat%7B%5Cboldsymbol%7B%5Cbeta%7D%7D_%7B%5Crm+ridge%7D+%3D+%7B%5Crm+argmin%7D_%5Cbeta+%5Csum_%7Bi%3D1%7D%5En+%28y_i+-+z_i+%5E%7B%5Crm+T%7D++%5Cbeta%29%5E2+%2B+%5Clambda+%5Csum_%7Bj%3D1%7D%5EK++%5Cbeta%5E2&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="\hat{\boldsymbol{\beta}}_{\rm ridge} = {\rm argmin}_\beta \sum_{i=1}^n (y_i - z_i ^{\rm T}  \beta)^2 + \lambda \sum_{j=1}^K  \beta^2" title="\hat{\boldsymbol{\beta}}_{\rm ridge} = {\rm argmin}_\beta \sum_{i=1}^n (y_i - z_i ^{\rm T}  \beta)^2 + \lambda \sum_{j=1}^K  \beta^2"></p>



<p>At λ=0, the summation of squared β’s you just tacked onto the objective function equals zero regardless of what the β-hat vector is, so you just have OLS again. As λ→∞, the penalties for all nonzero β’s become so huge that the only way for the penalties to not overwhelm the objective function is to have all the parameters β-hat = 0. And the closed-form solution to the objective function, it turns out, is pretty similar to OLS’s closed-form solution:   <img src="https://s0.wp.com/latex.php?latex=%5Chat%7B%5Cboldsymbol%7B%5Cbeta%7D%7D_%7B%5Crm+ridge%7D+%3D+%28%5Cmathbf+Z%5E%7B%5Crm+T%7D+%5Cmathbf+Z-%5Clambda+%5Cmathbf+I%29%5E%7B-1%7D+%5Cmathbf+Z%5E%7B%5Crm+T%7D+%5Cmathbf+y&amp;bg=ffffff&amp;fg=6e7381&amp;s=0" alt="\hat{\boldsymbol{\beta}}_{\rm ridge} = (\mathbf Z^{\rm T} \mathbf Z-\lambda \mathbf I)^{-1} \mathbf Z^{\rm T} \mathbf y" title="\hat{\boldsymbol{\beta}}_{\rm ridge} = (\mathbf Z^{\rm T} \mathbf Z-\lambda \mathbf I)^{-1} \mathbf Z^{\rm T} \mathbf y">.</p>



<p>All pretty straightforward, but the real question is why would you do this? Well, if you don’t care about the interpretability/bias of the parameters but you want the model to predict out-of-sample better than regular OLS, you can find some value of  λ through <a href="https://en.wikipedia.org/wiki/Cross-validation_(statistics)">cross-validation</a> that gives you a better fit than  λ=0, i.e. minimizing the <a href="https://en.wikipedia.org/wiki/Mean_squared_prediction_error">prediction errors</a>. But in order to cross-validate the data, you need to split your data into data you use to estimate the parameters (training data) and data to perform the cross-validation on (validation data). This process is what sets your λ.</p>



<p>Ridge regression is OLS with L2 regularization, which is penalization by the square of the parameter. L1 regularization takes the absolute value of the parameters as the penalty instead of the square (i.e. <a href="https://en.wikipedia.org/wiki/Lasso_(statistics)">lasso</a>). And of course, L1 and L2 regularization can be used in contexts other than linear regression, such as logistic regression. These regularization methods are especially good at dealing with multicollinearity, which is definitely something you’d come across with thousands of columns of corporate data and no compelling way to decide which are the best columns to use.<sup>2</sup></p>



<p>I could go on, but regurgitating all of TESL isn’t why I wrote this blog. I like showing ridge regression as an example of machine learning because it’s very similar to OLS, but is totally and unabashedly modified for predictive purposes, instead of inferential purposes. β-hat is never the …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ryxcommar.com/2019/07/14/on-moving-from-statistics-to-machine-learning-the-final-stage-of-grief/">https://ryxcommar.com/2019/07/14/on-moving-from-statistics-to-machine-learning-the-final-stage-of-grief/</a></em></p>]]>
            </description>
            <link>https://ryxcommar.com/2019/07/14/on-moving-from-statistics-to-machine-learning-the-final-stage-of-grief/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23710210</guid>
            <pubDate>Thu, 02 Jul 2020 05:11:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Web Stories for WordPress by Google and open source]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23710051">thread link</a>) | @nilsandrey
<br/>
July 1, 2020 | https://google.github.io/web-stories-wp/beta/ | <a href="https://web.archive.org/web/*/https://google.github.io/web-stories-wp/beta/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    
    <header>
        
        
        <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#get-started">Get Started</a></li>
            <li><a href="#faq">FAQ</a></li>
            <li><a href="https://github.com/google/web-stories-wp">GitHub</a></li>
            <li><a href="https://github.com/google/web-stories-wp/releases/download/v1.0.0-beta.1/web-stories.zip">Download Beta</a></li>
        </ul>
    </header>

    <section>
        <div>
            <h2>Stories Editor</h2>
            <h3><span>Get</span> <span>Ready</span> <span>to</span> <span>Tell</span> <span>Stories</span> <span>on</span> <span>WordPress</span></h3>
            <p>We're not quite ready for prime time yet, but if you like to live dangerously, we invite you to try our first public beta.</p>
            
        </div>
        
        
    </section>

    <section>
        <h2><a id="about">About</a></h2>
        <p>With Stories for WordPress, we're bringing first-class Web Stories support to WordPress.</p>
    </section>

    <amp-animation id="videoAnim" layout="nodisplay">
        
    </amp-animation>    
    <section>
        <amp-position-observer intersection-ratios="0.4" on="enter:videoAnim.start" layout="nodisplay" once="">
        </amp-position-observer>
        <p>WYSIWYG all the way</p>
        <amp-video width="1920" height="1200" layout="responsive" title="Stories for WordPress in action" src="./assets/wysiwyg.mp4" loop="" muted="" autoplay="">
    </amp-video></section>

    <amp-animation id="templateAnim" layout="nodisplay">
    
    </amp-animation>
    <section>
        <amp-position-observer intersection-ratios="0.5" on="enter:templateAnim.start" layout="nodisplay" once="">
        </amp-position-observer>
        <p>Expressive Templates</p>
        <ul>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/1.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/2.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/3.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/4.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/5.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/6.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/7.png"></amp-img></li>
            <li><amp-img layout="responsive" width="542" height="840" src="./assets/templates/8.png"></amp-img></li>
        </ul>
    </section>

     <section>
        <h2><a id="get-started">Get Started</a></h2>
        <div>
            <p>Welcome</p>
            <h3>Tips to make the most of the Beta</h3>
            <p>Welcome! Starting on a new tool can be daunting, so we created a Web Story (naturally!) with some tips to help you get started. We can't wait to see your stories!</p>
            <p>Click <a href="https://google.github.io/web-stories-wp/beta/tips.html">here</a> or on the image to view.</p>
        </div>
        
     </section>

     <section>
        <h2><a id="faq">FAQ</a></h2>
        <dl>
            <dt>Where can I learn more about Web Stories?</dt>
            <dd><a href="https://amp.dev/about/stories/">Web Stories</a> are tappable, engaging visual stories brought to the web. They’re powered by AMP technology, so learn more about them on <a href="https://amp.dev/about/stories/">amp.dev</a>.</dd>
        
            <dt>How do I install the Stories for WordPress plugin?</dt>
            <dd>
                As soon as we’re graduating from beta, the plugin will be available on WordPress.org. While we’re in beta, the plugin has to be downloaded as zip. After that:

                <ol>
                    <li>Navigate to Plugins &gt; Add New.</li>
                    <li>Click the Upload Plugin button at the top of the screen.</li>
                    <li>Select the zip file from your local filesystem.</li>
                    <li>Click the Install Now button.</li>
                    <li>When installation is complete, you’ll see “Plugin installed successfully.” Click the Activate Plugin button at the bottom of the page.</li>
                </ol>
            </dd>
        
            <dt>I found a bug or missing feature! How do I report it?</dt>
            <dd>Awesome! That’s exactly what the beta is for. Please submit feedback and <a href="https://github.com/google/web-stories-wp/issues">file a bug or feature request on Github</a> for now - we'll follow up with an easier-to-use feedback form in the next days. Your help is greatly appreciated.</dd>

            <dt>When is the final version shipping, and what will be included?</dt>
            <dd>Later this summer. In addition to stabilization, performance fixes and bug fixes, the final version will also include animation and page attachment support.</dd>
        </dl>
     </section>

     



</div>]]>
            </description>
            <link>https://google.github.io/web-stories-wp/beta/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23710051</guid>
            <pubDate>Thu, 02 Jul 2020 04:37:23 GMT</pubDate>
        </item>
    </channel>
</rss>
