<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Sat, 09 Jan 2021 20:44:35 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Sat, 09 Jan 2021 20:44:35 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Over 100 Scientists and Doctors Call for Increased Vitamin D to Combat Covid-19]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 82 (<a href="https://news.ycombinator.com/item?id=25680282">thread link</a>) | @kpfleger
<br/>
January 7, 2021 | https://vitamindforall.org/letter.html | <a href="https://web.archive.org/web/*/https://vitamindforall.org/letter.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><span>#VitaminDforAll </span><span>(for questions or fact checking assistance, contact press@vitaminDforAll.org)</span></p><p id="h.mjz6soj7f435"><span>Over 100 </span><span>Scientists, Doctors, &amp; Leading Authorities</span><span>&nbsp;Call For </span><span>Increased</span><span>&nbsp;Vitamin D Use To Combat COVID-19</span></p><p><span>[Residents of the USA: Text “VitaminDforAll” to 50409 to send this to your state’s governor.]</span></p><p><span>Research shows low vitamin D levels almost certainly promote COVID-19 infections, hospitalizations, and deaths. Given its safety, </span><span>w</span><span>e call for immediate widespread increased vitamin D intakes</span><span>.</span></p><p><span>Vitamin D modulates thousands of genes and many aspects of immune function, both innate and adaptive. The scientific evidence</span><span>1</span><span>&nbsp;shows that:</span></p><p><span>Vitamin D is well known to be essential, but most people do not get enough. Two common definitions of inadequacy are deficiency &lt; 20ng/ml (50nmol/L), the target of most governmental organizations, and insufficiency &lt; 30ng/ml (75nmol/L), the target of several medical societies &amp; experts.</span><span>2</span><span>&nbsp;Too many people have levels below these targets. </span><span>Rates of vitamin D deficiency &lt;20ng/ml exceed 33% of the population in most of the world, and most estimates of insufficiency &lt;30ng/ml are well over 50% (but much higher in many countries).</span><span>3</span><span>&nbsp;Rates are even higher in winter, and several groups have notably worse deficiency: the overweight, those with dark skin (especially far from the equator), and care home residents. These same groups face increased COVID-19 risk.</span></p><p><span>It has been shown that 3875 IU (97mcg) daily is required for 97.5% of people to reach 20ng/ml, and 6200 IU (155mcg) for 30ng/ml,</span><span>4</span><span>&nbsp;intakes far above all national guidelines. Unfortunately, the report that set the US RDA included an admitted statistical error in which required intake was calculated to be ~10x too low.</span><span>4</span><span>&nbsp;Numerous calls in the academic literature to raise official recommended intakes had not yet resulted in increases by the time SARS-CoV-2 arrived. Now, many papers indicate that vitamin D affects COVID-19 more strongly than most other health conditions, with increased risk at levels &lt; 30ng/ml (75nmol/L) and severely greater risk &lt; 20ng/ml (50nmol/L).</span><span>1</span></p><p><span>Evidence to date </span><span>suggests </span><span>the possibility that the COVID-19 pandemic sustains itself in large part &nbsp;through infection of those with low vitamin D, and that deaths are concentrated largely in those with deficiency. The mere possibility that this is so should compel urgent gathering of more vitamin D data. </span><span>Even without more data</span><span>, </span><span>the </span><span>preponderance </span><span>of evidence indicates that </span><span>increased vitamin D would help reduce infections, hospitalizations, ICU admissions, &amp; deaths</span><span>.</span></p><p><span>Decades of safety data show that vitamin D has very low risk: </span><span>Toxicity would be extremely rare with the recommendations here. The risk of insufficient levels far outweighs any risk from levels that seem to provide most of the protection against COVID-19, and this is notably different from drugs. Vitamin D is much safer than steroids, such as dexamethasone, the most widely accepted treatment to have also demonstrated a large COVID-19 benefit. Vitamin D’s safety is more like that of face masks. </span><span>There is no need to wait for further clinical trials to increase use of something so safe, </span><span>especially when remedying high rates of deficiency/insufficiency should already be a priority</span><span>.</span></p><p><span>Therefore, we call on all governments, doctors, and healthcare workers worldwide to immediately recommend and implement efforts appropriate to their adult populations to increase vitamin D, at least until the end of the pandemic. Specifically to:</span></p><p><span>Many factors are known to predispose individuals to higher risk from exposure to SARS-CoV-2, such as age, being male, comorbidities, etc., but </span><span>inadequate</span><span>&nbsp;v</span><span>itamin D is by far the most easily and quickly </span><span>modifiable</span><span>&nbsp;risk factor with abundant evidence to support a large effect</span><span>. Vitamin D is inexpensive and has negligible risk compared to the considerable risk of COVID-19.</span></p><p><span>5</span><span>&nbsp;The following include 4000 IU within their tolerable intakes in official guidelines: NAM (US, Canada), SACN (UK), EFSA (Europe), Endocrine Society (international), Nordic countries, The Netherlands, Australia &amp; New Zealand, UAE, and the American Geriatrics Soc. (USA, elderly). No major agency specifies a lower tolerable intake limit. The US NAM said 4000 IU “is likely to pose no risk of adverse health effects to almost all individuals.” See also [</span><span><a href="https://pubmed.ncbi.nlm.nih.gov/32180081/">Giustina et al ‘20</a></span><span>].</span></p><p><span>The signatories below endorse this letter. Affiliations do not imply endorsement of the letter by the institutions themselves.</span></p><p><span>This letter takes no position on other public health measures besides vitamin D. Personal views of individual signatories on any other matter do not represent the group as a whole.</span></p><p><span>All signatories declare no conflicts of interest except as noted.</span></p><p><span>To emphasize: </span><span>The organizing signatories have no conflicts of interest in this area (financial or otherwise)</span><span>, nor have they done research in this area prior to 2020.</span></p><div><tbody><tr><td colspan="1" rowspan="1"><p><span>Signatories (185)</span></p></td><td colspan="1" rowspan="1"><p><span>recom- mended intake</span></p></td><td colspan="1" rowspan="1"><p><span>personal daily intake</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Karl Pfleger</span><span>, PhD AI &amp; Computer Science, Stanford. Former Google Data Scientist. Biotechnology Investor, AgingBiotech.info, San Francisco, CA, USA. (organizing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>7000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Gareth Davies</span><span>, PhD Medical Physics, Imperial College, London, UK. Codex World’s Top 50 Innovator 2019. Independent Researcher. Lead author of “</span><span><a href="https://www.medrxiv.org/content/10.1101/2020.05.01.20087965v3">Evidence Supports a Causal Role for Vitamin D Status in COVID-19 Outcomes</a></span><span>.” (organizing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>10,000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Bruce W Hollis</span><span>, PhD. Professor of Pediatrics, Medical University of South Carolina, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Barbara J Boucher</span><span>, MD, FRCP (London). </span><span>Honorary Professor (Medicine), Blizard Institute, Bart's &amp; The London School of Medicine and Dentistry, Queen Mary University of London, UK. </span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Ashley Grossman</span><span>, MD FRCP FMedSci. Emeritus Professor of Endocrinology, University of Oxford, UK. Professor of Neuroendocrinology, Barts and the London School of Medicine. 2020 Endocrine Society Laureate Award.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2200 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Gerry Schwalfenberg</span><span>, MD, CCFP, FCFP. Assistant Clinical Professor in Family Medicine, University of Alberta, Canada.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Giovanna Muscogiuri</span><span>, MD PhD. Associate Editor, European Journal of Clinical Nutrition. </span><span>Department of Clinical Medicine and Surgery, Section of Endocrinology, University "Federico II" of Naples, Naples, Italy.</span><span>.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>1000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Michael F. Holick</span><span>, PhD MD. Professor Medicine, Physiology and Biophysics and Molecular Medicine, Director Vitamin D, Skin and Bone Research Laboratory, Boston University Medical Center, USA. (6000 IU) </span><span>Disclosure: Consultant Biogena and speaker's Bureau Abbott Inc.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. John Umhau</span><span>, MD, MPH. CDR, USPHS (ret). </span><span>President, Academy of Medicine of Washington, DC, USA. Ex-NIH: c</span><span>o-author of the first peer-reviewed report linking vitamin D deficiency with acute respiratory infection.</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. </span><span>Pawel</span><span>&nbsp;</span><span>Pludowski</span><span>, MD, dr hab. Associate Professor, Biochemistry, Radioimmunology and Experimental Medicine, Children’s Memorial Health Institute, Warsaw, Poland. Chair, European Vitamin D Association (EVIDAS) [non-profit].</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Cedric F. Garland</span><span>, DrPH. Professor Emeritus, Department of Family Medicine and Public Health, University of California, San Diego, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Jose M. Benlloch</span><span>, Professor, Director of the Institute for Instrumentation on Molecular Imaging, CSIC-UPV, Valencia, Spain.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>3000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Samantha Kimball</span><span>, PhD, MLT. Professor, St. Mary's University, Calgary, Alberta, Canada. Research Director, GrassrootsHealth Nutrient Research Institute [non-profit].</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. William B. Grant</span><span>, PhD Physics, U. of California, Berkeley. Director at Sunlight, Nutrition, and Health Research Center [non-profit], San Francisco, CA, USA. </span><span>Disclosure: Receives funding from Bio-Tech Pharmacal, Inc.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5300 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Carol L. Wagner,</span><span>&nbsp;MD. Professor, Medical University of South Carolina, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Paul Marik</span><span>, MD, FCCP, FCCM. </span><span>Chief of Pulmonary and Critical Care Medicine and Professor of Medicine</span><span>, Eastern Virginia Medical School, Norfolk, VA, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Morry Silberstein</span><span>, MD. Associate Professor, Curtin University, Australia.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Vatsal Thakkar</span><span>, MD. Founder, Reimbursify, NY, USA. &nbsp;Former faculty, NYU and Vanderbilt. &nbsp;Op-Ed writer on Vitamin D and COVID-19.</span><span>&nbsp;</span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>10,000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Peter H Cobbold</span><span>, PhD. Emeritus Professor, Cell Biology, University of Liverpool, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Afrozul Haq</span><span>, PhD. Professor Dept of Food Technology, Jamia Hamdard University, New Delhi, India.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>2000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Barry H. Thompson</span><span>, MD, FAAP, FACMG. Clinical Associate Professor (Pediatrics), Uniformed Services University of the Health Sciences, Bethesda, MD, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Reinhold Vieth</span><span>, PhD, FCACB. Professor, Departments of Nutritional Sciences and Laboratory Medicine &amp; Pathobiology, University of Toronto, Canada. Director (retired), Bone and Mineral Group Laboratory, Mt Sinai Hospital. </span><span>Disclosure: </span><span>Receives patent royalties from Ddrops (an infant vitamin D supplement).</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Linda Benskin</span><span>, PhD, RN, SRN(Ghana), CWCN, CWS, DAPWCA. Independent Researcher for Tropical Developing Countries and Ferris Mfg. Corp, Texas, USA. </span><span>(significantly contributing signatory)</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Jim O’Neill</span><span>, CEO, SENS Research Foundation. Former principal associate deputy secretary of Health and Human Services, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Eric Feigl-Ding</span><span>, PhD. Epidemiologist &amp; Health Economist. Senior Fellow, Federation of American Scientists. USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Rt Hon David Davis MP</span><span>, Member of Parliament (Conservative Party). BSc, Joint Hons Molecular Science / Computer Science, Warwick University, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>6000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Rupa Huq MP,</span><span>&nbsp;Member of Parliament (Labour Party). PhD, Cultural Studies, University of East London, UK.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Susan J Whiting</span><span>, PhD. Professor Emerita, University of Saskatchewan, Canada.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Richard Mazess</span><span>. PhD. Emeritus Professor, University of Wisconsin, Madison, USA.</span></p></td><td colspan="1" rowspan="1"><p><span>4000 IU</span></p></td><td colspan="1" rowspan="1"><p><span>5000 IU</span></p></td></tr><tr><td colspan="1" rowspan="1"><p><span>Dr. Helga Rhein</span><span>, MD (retired). </span><span>Sighthill…</span></p></td></tr></tbody></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vitamindforall.org/letter.html">https://vitamindforall.org/letter.html</a></em></p>]]>
            </description>
            <link>https://vitamindforall.org/letter.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25680282</guid>
            <pubDate>Fri, 08 Jan 2021 01:34:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Avoiding instruction cache misses (2019)]]>
            </title>
            <description>
<![CDATA[
Score 49 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25680125">thread link</a>) | @nkurz
<br/>
January 7, 2021 | https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/ | <a href="https://web.archive.org/web/*/https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div role="main"><div><article><p>Modern processors are quite complex, with many parts having the potential to become a bottleneck. It is relatively easy to reason about the performance of short pieces of code, especially if memory effects are kept to a minimum. Both static analysis tools like LLVM MCA and microbenchmarks can provide a lot of information in such cases. However, the behaviour of the whole program is not just the sum of those small parts. As the code becomes larger and more complex other effects start appearing. One of such potential problems are excessive instruction cache misses.</p><p>Every program has different properties, and those large-scale effects will affect it differently. However, if its job is to execute complex logic on a small amount of data, the instruction cache is likely to become a problem at some point. The actual impact may vary significantly from codebase to codebase, which is why I won’t show any numbers in this article. Let’s consider this just a collection of ideas, but it is not easy to tell how much any of them will help for a given application.</p><p>First, let’s have a quick look at the processor front end. Below is a simplified diagram of how it is arranged in Skylake, the numbers between units are the maxima per cycle.</p><p><img loading="lazy" width="630" height="860" src="https://paweldziepak.dev/static/icache-front-end.min.2e73578fff.svg" alt="CPU front end"></p><p>Each cycle the processor fetches up to 16 bytes from the instruction cache using information from the Branch Prediction Unit to predict the control flow. The pre-decode unit determines instruction lengths and puts up to five of them in the Instruction Queue. From the Instruction Queue, up to 5 instructions (with macro-fusion) are brought each cycle to the decoders. There is one complex decoder that can handle instructions that translate to up to 4 µops and 3 simple decoders that can handle only single-µop instructions. In total, all decoders are limited to producing no more than 5 µops each cycle. Instructions that require more than 4 µops go through Microcode Sequence ROM, which emits 4 µops per cycle, and while it is active, the decoders are disabled. There is also Decoded ICache (<abbr title="Decoded Stream Buffer">DSB</abbr>) which caches decoded µops. It can emit up to 6 µops each cycle. All µops, regardless of their source, end up in the Instruction Decode Queue (IDQ). The Loop Stream Detector (LSD) detects small loops and keeps them in the queue, so that no fetched, decodes or reads from the DSB are needed during the duration of the loop. IDQ is the last part of the front end, and the queued µops continue to the back end.</p><p>From the instruction cache point of view, the front end has two weaknesses. Firstly, instructions are processed in-order which can severely limit the processor ability to hide latencies of cache misses. HyperThreading can make sure that this part of the processor still does some useful work, but it is also the source of the second problem – all resources, including the L1 instruction cache and µop cache are shared between the hardware threads.</p><p>Modern processors provide various metrics that help monitor their behaviour. However, the task of extracting the relevant data requires a proper approach if it is to be done efficiently. Top-down analysis is invaluable with helping to understand microarchitectural phenomena in large codebases. The idea is to monitor program behaviour with the <abbr title="Performance Monitoring Unit">PMU</abbr> counters and identify the bottleneck starting with the major functional parts of the CPU and then digging deeper narrowing down on the exact source of the problem. It can be done in an automated way by tools like VTune or toplev.</p><pre><code>FE    Frontend_Bound:                                      39.48 +-  0.00 % Slots
BE    Backend_Bound:                                       16.19 +-  0.00 % Slots
    This category represents fraction of slots where no uops are
    being delivered due to a lack of required resources for
    accepting new uops in the Backend...
FE    Frontend_Bound.Frontend_Latency:                     24.92 +-  0.00 % Slots
FE    Frontend_Bound.Frontend_Bandwidth:                   13.45 +-  0.00 % Slots
FE    Frontend_Bound.Frontend_Latency.ICache_Misses:       14.45 +-  0.00 % Clocks &lt;==
    This metric represents fraction of cycles the CPU was
    stalled due to instruction cache misses...
    Sampling events:  frontend_retired.l2_miss:pp frontend_retired.l1i_miss:pp
FE    Frontend_Bound.Frontend_Latency.ITLB_Misses:          8.71 +-  0.00 % Clocks
    This metric represents fraction of cycles the CPU was
    stalled due to instruction TLB misses...
    Sampling events:  frontend_retired.stlb_miss:pp frontend_retired.itlb_miss:pp
FE    Frontend_Bound.Frontend_Latency.Branch_Resteers:      8.42 +-  0.00 % Clocks_Est
    This metric represents fraction of cycles the CPU was
    stalled due to Branch Resteers...
    Sampling events:  br_misp_retired.all_branches:u
FE    Frontend_Bound.Frontend_Bandwidth.MITE:              31.93 +-  0.00 % CoreClocks
    This metric represents Core fraction of cycles in which CPU
	was likely limited due to the MITE pipeline (Legacy Decode
    Pipeline)...
</code></pre><p>Above is an example of a toplev result. We can see that the instruction cache misses were the dominating bottleneck. Unsurprisingly instruction TLB misses also show up. On the front end bandwidth side of things, toplev points to the legacy decode pipeline. That makes perfect sense if the instructions are supplied from DSB or LSD, then there are no instruction fetches, and no cache misses.</p><p>Sometimes, the final summary may not provide sufficient information if there are changes in the code behaviour during the test. When that’s the case, a graph is likely to be a much more helpful way of presenting the results.</p><p><img loading="lazy" width="950" height="950" src="https://paweldziepak.dev/static/icache-toplev.min.2b465fdb6f.svg" alt="toplev"></p><p>Tools like toplev are great for initial identification of the problem, but once that’s done what we need is a right way for comparing different solutions. Ultimately, the most important metric is the actual performance of the program in a real-life workload. toplev still can be helpful as it shows the balance between different performance-limiting factors. What also can be useful is <code>perf stat</code> which can show the performance counter statistics. The event most relevant for us is <code>L1-icache-load-misses</code>, though there are more model-specific registers that may be of interest.</p><p>Now, that we know how to diagnose excessive instruction cache misses, let’s see what can be done to deal with this problem.</p><h2 id="avoiding-work">Avoiding work</h2><p>If the number of executed instructions is the problem, the most obvious solution is to try to reduce that number. Obviously, that’s much easier said than done, but there are some common patterns for dealing with this issue. One example would be prepared statements in databases. The general idea is that if a client knows it will send requests that have some commonality, it can tell the database engine early that the requests are going to match specific templates. This information allows the server to do as much work as possible during the preparation stage, thus reducing the amount of logic that needs to be executed for each individual request.</p><p>Extracting common patterns doesn’t have to be explicit. A server or any other kind of an application which actions depend on the user input could attempt to look for repeating patterns and cache some common parts. This is a very vague idea and most likely won’t be easily implementable in a lot of applications, but in some cases may be quite a natural solution. It also shows the main problem with the “just do less” approach – it is very application specific. On the plus, side, if this can be done, it is likely to help with the overall performance, not just the instruction cache misses.</p><p>Another potential problem is making sure that the preparation phase can really do something to help during the execution phase. If that means pre-computing some values, then it’s simple. However, if the only thing that preparation gives us is the knowledge which code paths are going to be exercised and which branches taken during the execution, it is going to be harder to take benefit from it. One option is to have some specialised code for the most common paths, C++ templates may come in handy here. If it is not easy to determine what may be the most common paths, then a just-in-time compiler may be used to generate code in the preparation stage.<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup></p><h2 id="batching-work">Batching work</h2><p>So far, we have been trying to reduce the number of executed instructions, by taking advantage of some earlier knowledge to avoiding repeating the same work. In other words, we have introduced two stages:</p><ul><li>preparation, which is performed rarely and, consequently, less performance critical</li><li>execution, which is done many times and is expected to dominate overall performance</li></ul><p>The way this can help with the instruction cache misses is that the execution stage, being smaller, is more likely to fit in the instruction cache. Whether this brings any measurable benefits depends highly on the type of the application and how much logic can be moved from execution to preparation stages.</p><p>We have already split our processing pipeline into preparation and execution stage. If the execution stage can fit in the instruction cache, we are done. However, often, that’s not the case. What we can do to improve the situation more is to split the execution into more stages. This time the goal is not to reuse work as it was with the preparation, but to group entities that need to have the same code executed for them. In other words, if the processing pipeline consists of steps A, B and C the idea is to separate them, add a queue in front of each of those stages, and then cycle through those stages each time handling multiple elements from the queue. Connections between the stages don’t have to be one-to-one, any directed graph is fine.</p><p><img loading="lazy" width="756" height="331" src="https://paweldziepak.dev/static/icache-seda.min.7259b25adc.svg" alt="SEDA diagram"></p><p>In the diagram above, there is one stage that feeds tasks to one of two stages. This could be, for example, a front-end of a database server. The first stage does some initial request processing and then, depending on whether it is a read or write, puts it in the appropriate queue. Each stage processes requests in batches, the first one warms up the instruction …</p></article></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/">https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/</a></em></p>]]>
            </description>
            <link>https://paweldziepak.dev/2019/06/21/avoiding-icache-misses/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25680125</guid>
            <pubDate>Fri, 08 Jan 2021 01:15:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CO2 already emitted will warm Earth beyond climate targets, study finds]]>
            </title>
            <description>
<![CDATA[
Score 304 | Comments 187 (<a href="https://news.ycombinator.com/item?id=25679618">thread link</a>) | @colinprince
<br/>
January 7, 2021 | https://www.cbc.ca/news/technology/climate-targets-1.5861537 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/technology/climate-targets-1.5861537">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The amount of baked-in global warming, from carbon pollution already in the air, is enough to blow past international agreed upon goals to limit climate change, a new study finds. But it can be delayed for centuries if governments takes action.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.4922800.1543350548!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_780/us-coal-s-decline.jpg"></p></div><figcaption>Smoke and steam rise from the smokestack of a coal-fired power plant near Ordos in northern China's Inner Mongolia Autonomous Region in 2015.  A new study estimates that 2.3 C of warming is inevitable, but can be delayed for centuries if the world quickly stops emitting extra greenhouse gases from the burning of coal, oil and natural gas, the study's authors say.<!-- --> <!-- -->(Mark Schiefelbein/Associated Press)</figcaption></figure><p><span><p>The amount of baked-in global warming, from carbon pollution already in the air, is enough to blow past international agreed upon goals to limit climate change, a new study finds.</p>  <p>But it's not game over because, while that amount of warming may be inevitable, it can be delayed for centuries if the world quickly stops emitting extra greenhouse gases from the burning of coal, oil and natural gas, the study's authors say.</p>  <p>For decades, scientists have talked about so-called "committed warming" or the increase in future temperature based on past carbon dioxide emissions that stay in the atmosphere for well over a century. It's like the distance a speeding car travels after the brakes are applied.</p>  <p>But Monday's <a href="https://www.nature.com/articles/s41558-020-00955-x">study in the journal Nature Climate Change</a> calculates that a bit differently and now figures the carbon pollution already put in the air will push global temperatures to about 2.3 degrees Celsius (4.1 degrees Fahrenheit) of warming since pre-industrial times.</p>  <p>Previous estimates, including those accepted by international science panels, were about a degree Celsius (1.8 degrees Fahrenheit) less than that amount of committed warming.</p>  <p>International climate agreements set goals of limiting warming to 2 C&nbsp;(3.6 F) since pre-industrial times, with the more ambitious goal of limiting it to 1.5 C&nbsp;(2.7 F) added in Paris in 2015. The world has already warmed about 1.1 C&nbsp;(2 F).</p>  <p>"You've got some ... global warming inertia that's going to cause the climate system to keep warming, and that's essentially what we're calculating," said study co-author Andrew Dessler, a climate scientist at Texas A&amp;M University. "Think about the climate system like the Titanic. It's hard to turn the ship when you see the icebergs."</p>  <p>Dessler and colleagues at the Lawrence Livermore National Lab and Nanjing University in China calculated committed warming to take into account that the world has warmed at different rates in different places and that places that haven't warmed as fast are destined to catch up.</p>    <p>Places such as the Southern Ocean, surrounding Antarctica are a bit cooler, and that difference creates low-lying clouds that reflect more sun away from earth, keeping these places cooler. But this situation can't keep going indefinitely because physics dictates that cooler locations will warm up more and when they do, the clouds will dwindle and more heating will occur, Dessler said.</p>  <p>Previous studies were based on the cooler spots staying that way, but Dessler and colleagues say that's not likely.</p>  <p><span><figure><div><p><img loading="lazy" alt="" srcset="https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_300/greenland-record-melt.jpg 300w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_460/greenland-record-melt.jpg 460w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_620/greenland-record-melt.jpg 620w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/greenland-record-melt.jpg 780w,https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_1180/greenland-record-melt.jpg 1180w" sizes="(max-width: 300px) 300px,(max-width: 460px) 460px,(max-width: 620px) 620px,(max-width: 780px) 780px,(max-width: 1180px) 1180px" src="https://i.cbc.ca/1.5693652.1597940952!/cpImage/httpImage/image.jpg_gen/derivatives/original_780/greenland-record-melt.jpg"></p></div><figcaption>In this Aug. 16, 2019 file photo, icebergs float away as the sun rises near Kulusuk, Greenland. Greenland lost a record amount of ice that year. The world has already warmed 1.1 C since pre-industrial times.<!-- --> <!-- -->(Felipe Dana/The Associated Press)</figcaption></figure></span></p>  <h2>More research needed, outside experts say</h2>  <p>Outside experts said the work is based on compelling reasoning, but want more research to show that it's true. Breakthrough Institute climate scientist Zeke Hausfather said the new work fits better with climate models than observational data.</p>  <p>Just because the world is bound to get more warming than international goals, that doesn't mean all is lost in the fight against global warming, said Dessler, who cautioned against what he called "climate doomers."</p>  <p>If the world gets to net zero carbon emissions soon, 2 degrees of global warming could be delayed enough so that it won't happen for centuries, giving society time to adapt or even come up with technological fixes, he said.</p>  <p>"If we don't, we're going to blow through (climate goals) in a few decades," Dessler said. "It's really the rate of warming that makes climate change so terrible. If we got a few degrees over 100,000 years, that would not be that big a deal. We can deal with that. But a few degrees over 100 years is really bad."</p></span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/technology/climate-targets-1.5861537</link>
            <guid isPermaLink="false">hacker-news-small-sites-25679618</guid>
            <pubDate>Fri, 08 Jan 2021 00:23:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Steam's login method is kinda interesting]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25679209">thread link</a>) | @todsacerdoti
<br/>
January 7, 2021 | https://owlspace.xyz/cybersec/steam-login/ | <a href="https://web.archive.org/web/*/https://owlspace.xyz/cybersec/steam-login/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><article><header></header><p>How do you send a password over the internet? You acquire a SSL certificate and let TLS do the job of securely transporting the password from client to server. Of course it’s not as cut-and-dry as I’m making it out to be, but the gist of it holds true and stood the test of time. This hasn’t always been this way though, and one incredibly popular storefront on the world wide web prefers to add a little extra to this day. I’ll be discussing Steam’s unique method of logging in their users, and go down a deep rabbit hole of fascinating implementation details.</p><h3 id="pointing-out-the-obvious">Pointing out the obvious</h3><p>I found a StackOverflow question from 2013 <a href="https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http">asking how to securely send a password over HTTP</a>. The answers are pretty unanimous: get a SSL certificate. Here’s an experiment: set up your favorite traffic-capturing proxy, browse to a service you frequently use, log in with your account (or preferably a throwaway), and inspect the requests. You will most certainly find that your username and password are sent as-is in a HTTP request body. The only reason this works is because your connection to the server is encrypted using TLS.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/so-real-host.png" alt="StackOverflow user asking what to do if a webhost doesn't support SSL certificates, told to move to a real webhost"><figcaption><p>Weird to think that this used to be an issue</p></figcaption></figure><p>The internet was a different place though in the early 2010s, let alone the many years prior. We now have services like <a href="https://letsencrypt.org/">Let’s Encrypt</a> which issue SSL certificates free of charge for a period of three months, with automatic renewals if desired. There really wasn’t much of a way around acquiring a SSL certificate for money, but usually with extended validity and support. You could certainly argue that there is a price to be paid for the security and privacy of your users, but that didn’t stop questions like the one I linked from appearing.</p><p>Now that we all agree that TLS is important, let’s switch it up. Let’s pretend we cannot send a password over HTTPS and have to somehow make it work with plain HTTP, while also providing users with some level of security. There’s the <code>Authorization</code> header which is standardized and widely accepted. However, in conjunction with the “Basic” HTTP Authentication scheme, it provides no security if used in plain HTTP.</p><p>There are tried and tested challenge-response algorithms, most notably <a href="https://en.wikipedia.org/wiki/Secure_Remote_Password_protocol">SRP</a> which is designed to do password-based authentication without ever actually sending the password, but you probably have to implement them yourself and a slight oversight could cause serious harm. You could also defer authentication to an external service. “Sign in with service XYZ” is commonly used, but comes with its own ramifications. All things considered, it’s not trivial to send secrets over an inheretly insecure connection.</p><p>So when me and a friend took Steam apart in search for traces of personally identifiable information, I was surprised to see that Steam’s login page doesn’t only rely on TLS to ensure that your password stays protected.</p><h3 id="crypto-cherry-on-top">Crypto cherry on top</h3><p>Again, grab your favorite traffic-capturing proxy and navigate to <a href="https://store.steampowered.com/login">Steam’s login page</a>. Enter your username and password and you will (hopefully) be asked to enter a one-time token generated by your preferred two-factor authentication method. You can stop right there, because the magic I want to point out has already happened. You’ll find that pressing the login button launches a request against an odd endpoint: <code>/login/getrsakey</code>, followed by <code>/login/dologin</code>.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/getrsa-call.png" alt="Requests to fetch script assets, acquire RSA key and perform login"><figcaption><p>All relevant assets and requests in succession</p></figcaption></figure><p>Inspect the request for <code>/login/getrsakey</code> and you’ll find a JSON-formatted response, containing fields with names that should look very familiar to anyone who’s briefly dealt with public key cryptography. You’re given a RSA public key, though the exact values might look a bit odd. It’s clear that <code>publickey_mod</code> and <code>publickey_exp</code> define the modulus and the exponent used in encryption, but the former is given in hexadecimal while the latter appears to be given in binary (I’ll get back on that later). There’s also a timestamp which has no immediately recognizable starting point. As to what the purpose of <code>token_gid</code> is, I have no clue yet.</p><div><pre><code data-lang="json"><span>{</span>
    <span>"success"</span><span>:</span><span>true</span><span>,</span>
    <span>"publickey_mod"</span><span>:</span><span>"c85ba44d5a3608561cb289795ac93b34d4b9b4326f9c09d1d19a9923e2d136b8..."</span><span>,</span>
    <span>"publickey_exp"</span><span>:</span><span>"010001"</span><span>,</span>
    <span>"timestamp"</span><span>:</span><span>"1260462250000"</span><span>,</span>
    <span>"token_gid"</span><span>:</span><span>"2701e0b0a4be3635"</span>
<span>}</span>
</code></pre></div><p>The login page pulls some scripts on load. There is the main login handler contained in <code>login.js</code> which is completely unobfuscated, so anyone can just analyze it and find out what it does. The site also loads some additional dependencies, namely <code>jsbn.js</code> and <code>rsa.js</code>.</p><p>A quick search for the name mentioned in the first line of <code>jsbn.js</code> reveals that these two scripts are the work of <a href="http://www-cs-students.stanford.edu/~tjw/">Tom Wu</a> — a MIT and Stanford graduate who likes software engineering and computer cryptography. They released <code>jsbn.js</code> and <code>rsa.js</code> as pure JavaScript implementations of arbitrary precision integers and RSA encryption/decryption respectively. You’ll also find that these libraries have had their most recent updates in 2005 and 2013 which is a bit of information I’ll come back to later. For now, just keep it in mind.</p><h3 id="going-down-the-rsabbit-hole">Going down the r(s)abbit hole</h3><p>So now that we have all relevant assets, let’s dig around in <code>login.js</code>. The code is a bit of a mess with lots of callbacks and proxied function calls, but it turns out the parts of interest can be easily condensed. In essence, the script can be boiled down to a couple of steps, each step assuming that everything went fine in the previous step.</p><ol><li>The user enters their username and password and presses the login button.</li><li><code>DoLogin</code> is called, which checks if the login mask was filled out correctly and launches a request against <code>/login/getrsakey</code>.</li><li><code>OnRSAKeyResponse</code> is called. This checks if the response is well-formed.</li><li><code>GetAuthCode</code> is called. It runs some platform-specific code in case there are any 2FA measures active on the user’s account.</li><li><code>OnAuthCodeResponse</code> is called. This is where the password is encrypted using RSA and the request against <code>/login/dologin</code> is prepared and executed.</li><li><code>OnLoginResponse</code> is called. The user is logged in and redirected to the Steam storefront.</li></ol><p>The code in <code>OnAuthCodeResponse</code> shows why the requested public key is formatted the way that it is. Starting at line 387 in the source file, the modulus and exponent of the <code>/login/getrsakey</code> response are passed as-is to the RSA library. The user’s password is then encrypted with the given public key and added to the request against <code>/login/dologin</code> in the subsequent login step.</p><div><pre><code data-lang="js"><span>var</span> <span>pubKey</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>results</span><span>.</span><span>publickey_mod</span><span>,</span> <span>results</span><span>.</span><span>publickey_exp</span><span>);</span>
<span>var</span> <span>username</span> <span>=</span> <span>this</span><span>.</span><span>m_strUsernameCanonical</span><span>;</span>
<span>var</span> <span>password</span> <span>=</span> <span>form</span><span>.</span><span>elements</span><span>[</span><span>'password'</span><span>].</span><span>value</span><span>;</span>
<span>password</span> <span>=</span> <span>password</span><span>.</span><span>replace</span><span>(</span><span>/[^\x00-\x7F]/g</span><span>,</span> <span>''</span><span>);</span> <span>// remove non-standard-ASCII characters
</span><span></span><span>var</span> <span>encryptedPassword</span> <span>=</span> <span>RSA</span><span>.</span><span>encrypt</span><span>(</span><span>password</span><span>,</span> <span>pubKey</span><span>);</span>
</code></pre></div><p>I copied the source files onto my local machine to explore the RSA library a little bit. Both the modulus and the exponent are passed to the function <code>RSAPublicKey</code> which behaves like a constructor in the “pre-class” JavaScript era. <code>RSAPublicKey</code> simply wraps both values into instances of <code>BigInteger</code> provided by the <code>jsbn.js</code> script. It was to my surprise that the exponent is actually not represented in binary but, just like the modulus, in hexadecimal. (Also, turns out <code>0x010001</code> is a <a href="https://stackoverflow.com/questions/6098381/what-are-common-rsa-sign-exponent">very common encryption exponent</a> in RSA implementations.) So now it’s clear that the password encryption is based on 2048-bit RSA with an encryption exponent of 65537.</p><div><pre><code data-lang="js"><span>let</span> <span>r</span> <span>=</span> <span>RSA</span><span>.</span><span>getPublicKey</span><span>(</span><span>"c85ba44d5a360856..."</span> <span>/* insert your own long modulus here */</span><span>,</span> <span>"010001"</span><span>);</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>encryptionExponent</span><span>.</span><span>toString</span><span>());</span> <span>// =&gt; "65537"
</span><span></span><span>console</span><span>.</span><span>log</span><span>(</span><span>r</span><span>.</span><span>modulus</span><span>.</span><span>bitLength</span><span>());</span> <span>// =&gt; 2048
</span></code></pre></div><p>Moving on to the <code>timestamp</code> field. The <code>/login/getrsakey</code> response contains an <code>Expires</code> header. It references a date in the past, meaning that the response is absolutely not meant to be cached or persisted in any way. If you check back on <code>/login/getrsakey</code> over a longer period of time, you’ll notice that the public key changes ever so often and, as such, its timestamp value too. This means there’s only a limited time frame in which a certain Steam-issued RSA public key can be used to authenticate.</p><p>This becomes even more evident when examining the subsequent request against <code>/login/dologin</code>. Among many other things, it contains the username, encrypted password as well as the timestamp of the issued RSA public key. Trying to perform a login attempt while altering the timestamp fails as expected. But more importantly, it’s also not possible to reuse an older public key, even if the password is correctly encrypted.</p><p>I went one step further and <a href="https://gist.github.com/JoogsWasTaken/8a8e60859e1721255c57e9185eb6cb10">wrote a simple Python script to collect public keys</a> over the span of three days using a throwaway account. I let it run every five minutes using a cronjob. The goal was to check just how often Steam’s public keys change and to hopefully find out how the <code>timestamp</code> field behaves.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-pubkeys.png" alt="SQLite database containing public keys sourced from Steam"><figcaption><p>Lots and lots and lots of public keys</p></figcaption></figure><p>I found that the public key changes every 12 entries, meaning that it’s safe to assume that they rotate every hour. The encryption exponent stays the same — no surprises here. More intriguing however is the aforementioned <code>timestamp</code> field. For every 12 public keys, the value of the <code>timestamp</code> increases by a certain amount, namely 3600000000 and then some. And what’s more is that this number wraps around after some period of time as can be seen in the following image. Be warned, because all of what I’m about to say is highly speculative.</p><figure><img src="https://owlspace.xyz/images/steam-rsa/sqlite-wraparound.png" alt="Public key entries where the timestamp value wraps around in-between"><figcaption><p>Timestamp field wrapping around</p></figcaption></figure><p>I found that 3600000000 microseconds is equal to one hour, making me assume that the value of the <code>timestamp</code> field is, in fact, given in microseconds. However, I already hinted at the fact that the timestamp value doesn’t increase by one hour exactly with every new public key. In my own data, I observed that the difference between two successive timestamps is one hour plus 1 to 2.6 seconds, with most being in the order of about 1.05 to 1.25 seconds. But this raises another interesting possibility.</p><p>Let’s assume that a new public key is generated every hour plus one second. If I query the public key …</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://owlspace.xyz/cybersec/steam-login/">https://owlspace.xyz/cybersec/steam-login/</a></em></p>]]>
            </description>
            <link>https://owlspace.xyz/cybersec/steam-login/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25679209</guid>
            <pubDate>Thu, 07 Jan 2021 23:37:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[iPhone 12 magnets deactivating implanted defibrillators in cardiac patients]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25677717">thread link</a>) | @efunkem
<br/>
January 7, 2021 | http://www.medmalreviewer.com/does-the-iphone-12-deactivate-implantable-cardioverter-defibrillators/ | <a href="https://web.archive.org/web/*/http://www.medmalreviewer.com/does-the-iphone-12-deactivate-implantable-cardioverter-defibrillators/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div data-elementor-type="wp-post" data-elementor-id="3642" data-elementor-settings="[]">
						<div>
							<div>
							<section data-id="d29a4f4" data-element_type="section">
						<div>
							<div>
					
				<div data-id="d4df9de" data-element_type="column">
			<div>
							<div>
						<div data-id="82f4b7d" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>An interesting article came out <a href="https://www.heartrhythmjournal.com/article/S1547-5271(20)31227-3/fulltext?fbclid=IwAR3DokV5V8f8G-LYlKwXFDjdIE5Jf9w4B5KAgpv0vRJ8P2--ZvOfyQO802k">a few days ago in Heart Rhythm</a>, raising concern that new hardware in the iPhone 12 may deactivate implanted cardioverter defibrillators (ICDs).&nbsp;</p>
<p>In short, the concern is that an array of magnets in the phone may turn off the life-saving function of these cardiac devices.</p>
<p>This “MagSafe” technology was already used elsewhere, but this is the first time it has been incorporated into an iPhone.</p>
<p>Nearly all ICDs will stop shocking a patient when placed near a sufficiently strong magnet.&nbsp;</p>
<p>Pacemakers exposed to a magnet are set to a pre-programmed mode that varies by manufacturer, usually with a rate of 65-80bpm.&nbsp;</p>
<p>Ask any Emergency Medicine physician and they will be able to point you to a blue circular magnet used for this exact purpose.&nbsp;</p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="50b654d" data-element_type="section">
						<div>
							<div>
					
				<div data-id="7506540" data-element_type="column">
			<div>
							<div>
						<div data-id="074d5bd" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="800" height="812" src="http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet.jpg" alt="" loading="lazy" srcset="http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet.jpg 819w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet-296x300.jpg 296w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet-768x779.jpg 768w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet-500x507.jpg 500w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Magnet-800x812.jpg 800w" sizes="(max-width: 800px) 100vw, 800px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="a778930" data-element_type="section">
						<div>
							<div>
					
				<div data-id="c5b38f5" data-element_type="column">
			<div>
							<div>
						<div data-id="7ba4163" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>A patient with a malfunctioning pacemaker or defibrillator may be suffering numerous inappropriate shocks. The magnet comes in very handy in these situations.</p>
<p>However, a patient that goes into ventricular tachycardia (among other life-threatening cardiac rhythms) will need their device to work appropriately, delivering a shock to save their life.</p>
<p>If this issue is reproduceable in other patients, an iPhone 12 carried in a front shirt pocket has the chance to inactivate the device and block life-saving electrical therapy.&nbsp;</p>
<p>The authors demonstrated this (<a href="https://www.heartrhythmjournal.com/article/S1547-5271(20)31227-3/fulltext?fbclid=IwAR3DokV5V8f8G-LYlKwXFDjdIE5Jf9w4B5KAgpv0vRJ8P2--ZvOfyQO802k">picture from their publication</a>) using an iPhone 12 on a real patient with an ICD:</p>
</div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="c205503" data-element_type="section">
						<div>
							<div>
					
				<div data-id="253ec3d" data-element_type="column">
			<div>
							<div>
						<div data-id="e92e1ac" data-element_type="widget" data-widget_type="image.default">
				<div>
					<div>
							<figure>
										<img width="499" height="556" src="http://www.medmalreviewer.com/wp-content/uploads/2021/01/gr1_lrg-1.jpg" alt="" loading="lazy" srcset="http://www.medmalreviewer.com/wp-content/uploads/2021/01/gr1_lrg-1.jpg 499w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/gr1_lrg-1-269x300.jpg 269w" sizes="(max-width: 499px) 100vw, 499px">											<figcaption></figcaption>
										</figure>
					</div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="6a3c0ef" data-element_type="section">
						<div>
							<div>
					
				<div data-id="9263bf4" data-element_type="column">
			<div>
							<div>
						<div data-id="e311c1c" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<p>Green arrow: iPhone 12 placed over ICD<br>Red arrow: Interrogation device – “SUSPENDED: Magnet Present”<br>Yellow arrow: Magnetic ring in iPhone 12</p>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="5370fb2" data-element_type="section">
						
		</section>
				<section data-id="2bfc3bb" data-element_type="section">
						
		</section>
				<section data-id="7669176" data-element_type="section">
						<div>
							<div>
					
				<div data-id="58dae32" data-element_type="column">
			<div>
							<div>
						<div data-id="c785851" data-element_type="widget" data-widget_type="image.default">
				<div>
					<p><img width="800" height="666" src="http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone.jpg" alt="" loading="lazy" srcset="http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone.jpg 829w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone-300x250.jpg 300w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone-768x639.jpg 768w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone-500x416.jpg 500w, http://www.medmalreviewer.com/wp-content/uploads/2021/01/Breakdown-Phone-800x666.jpg 800w" sizes="(max-width: 800px) 100vw, 800px">											</p>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="a783810" data-element_type="section">
						<div>
							<div>
					
				<div data-id="5a8a0ce" data-element_type="column">
			<div>
							<div>
						<div data-id="f5d8fdd" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>Notice the similar circular layout between the iPhone and the standard blue medical magnet.</p>
<p>Physicians should be aware of this issue. While there is no active litigation related to this, it is a very high risk situation.&nbsp;<span>&nbsp;</span></p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="fa63cd5" data-element_type="section">
						
		</section>
				<section data-id="a87a621" data-element_type="section">
						<div>
							<div>
					
				<div data-id="2b0d0b5" data-element_type="column">
			<div>
							<div>
						<div data-id="bff2ed2" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>MedMalReviewer Opinion:</p>
<p>1. This is unlikely to result in medical malpractice litigation against any individual physician. However, it does place the manufacturer at risk for product liability.&nbsp;</p>
<p>2. ED physicians should keep this in mind for patients with out-of-hospital cardiac arrest. These patients should be completely exposed during the code, removing all clothing and foreign objects.&nbsp;</p>
<p>3. For patients with pacemakers, consider that any unusual or unexplained symptoms could have been explained by a transient switch in pacemaker mode while their phone was nearby. Interrogating the pacemaker will help shed light on this.</p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="3d300b0" data-element_type="section">
						
		</section>
				<section data-id="508993e" data-element_type="section">
						<div>
							<div>
					
				<div data-id="86adb72" data-element_type="column">
			<div>
							<div>
						<div data-id="63012ba" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>Check out these real-life medical malpractice cases:</p>
<p><a href="http://www.medmalreviewer.com/case-13-cervical-fusion/">Case 13: Cervical Fusion</a> – A patient suffers an unexpected cardiac arrest during a neck surgery.&nbsp;</p>
<p><a href="http://www.medmalreviewer.com/case-15-ski-accident/">Case 15: Ski Accident</a> – A patient on blood thinners crashes and hits her head while skiing.</p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="207a1e5" data-element_type="section">
						
		</section>
				<section data-id="c177169" data-element_type="section">
						<div>
							<div>
					
				<div data-id="e09ce0e" data-element_type="column">
			<div>
							<div>
						<div data-id="5227a13" data-element_type="widget" data-widget_type="text-editor.default">
				<div>
					<div><p>Read expert witness opinions from malpractice lawsuits:</p>
<p><a href="https://expertwitness.substack.com/p/expert-witness-case-34">Expert Witness Case #34</a>&nbsp;– Urologist accidentally ligates artery instead of vas deferens during vasectomy. Patient loses testicle.</p>
<p><a href="https://expertwitness.substack.com/p/expert-witness-case-32">Expert Witness Case #32</a>&nbsp;– Patient admitted with DKA develops severe leg pain. Long delays in care result in amputation.</p></div>
				</div>
				</div>
						</div>
					</div>
		</div>
				
								</div>
					</div>
		</section>
				<section data-id="5586f05" data-element_type="section">
						
		</section>
						</div>
						</div>
					</div>
				
			</div></div>]]>
            </description>
            <link>http://www.medmalreviewer.com/does-the-iphone-12-deactivate-implantable-cardioverter-defibrillators/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25677717</guid>
            <pubDate>Thu, 07 Jan 2021 21:24:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What React Gets Wrong]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 67 (<a href="https://news.ycombinator.com/item?id=25677648">thread link</a>) | @jehna1
<br/>
January 7, 2021 | https://thejunkland.com/blog/what-react-gets-wrong.html | <a href="https://web.archive.org/web/*/https://thejunkland.com/blog/what-react-gets-wrong.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><article><p>React is the de-facto tool for frontend web development. It has a rich ecosystem and a well-known company to back it up. Despite all of this, I think they still get a ton of stuff wrong. This post is about my personal views and things I think React is already a too slow-moving giant to fix.</p><h2 id="the-syntax">The syntax</h2><p>React has such an awful API that they needed to create a whole new programming language syntax to overcome it: The <code>React.createElement</code> API. Most of the time it's hidden behind JSX that's transpiled onto <code>React.createElement</code> calls.</p><p>You either only ever write JSX when working with React, or you get frustrated with the amount of clutter that gets to your codebase from all that repetition that provides no value to the reader.</p><pre><code>Reat.createElement(<span>'html'</span>, <span>null</span>,
  React.createElement(<span>'body'</span>, <span>null</span>,
    React.createElement(<span>'div'</span>, <span>null</span>,
      React.createElement(...)
    )
  )
)
</code></pre><p>I think a much better way is to follow what SwiftUI and Flutter are doing: Move the element's name from argument to be the function's name:</p><pre><code>html(
  body(
    div(...)
  )
)
</code></pre><p>This does not only remove unnecessary clutter, but removes the need for any compilation step.</p><h2 id="create-react-app">create-react-app</h2><p>Next up us a monstrosity that's nowadays accepted by many to be a "best practice" for getting started with a React project. The problem being, that React ecosystem is such a complex beast that they created a bootstrap project so you can get anything done in a meaningful time. Just pray that you don't need to eject it any time soon.</p><p>Just to give you an idea of the absurdness of this situation: create-react-app creates a "hello world" project for you that downloads <strong>2.5 million lines of Javascript code</strong> to your machine. For a hello world app.</p><p>I have strong feelings about fighting complexity by adding more complexity, and this sure smells like something you should not be doing in 2021.</p><p>Instead we should be thinking about where our browsers and server ecosystems are nowadays and if we could make the bootstrapping <em>simpler</em>. Browsers <a href="https://caniuse.com/es6-module">know how to handle imports nowadays</a>, and the module format is <a href="https://nodejs.org/api/esm.html">also part of Node.js</a> without any preprocessing, so you don't necessarily need a build step to get those working.</p><p>Modern browsers are really good with on-the-fly compression like gzip <a href="https://caniuse.com/brotli">and even brotli</a>, so minification is not so much of an issue. Your CDN should anyways be optimizing compression of your static assets.</p><p>Another point being that React is over 100kb when minified (including React DOM because you can't do that much without it). Imagine how much unminified code you could fit in 100kb if you used something that doesn't need to be built at all.</p><h2 id="react-is-not-just-a-view-rendering-library-anymore">React is not just a view rendering library anymore</h2><p>React used to be only a good frontend rendering library with JSX. Nowadays you're signing up for a framework with its own plugin ecosystem, hooks, fibers, suspense, and other obscure future features like <a href="https://reactjs.org/blog/2020/12/21/data-fetching-with-react-server-components.html">server components</a>.</p><p>We've changed from doing <em>model-view-controller</em> to using all-consuming views that perform both business logic and create side effects. Views have become the top-level entity that controls everything else.</p><p>Remember the old saying "UI is a function of state"? React used to be a good implementation of this, but nowadays it's more of "UI that handles your state".</p><p>I think a good view rendering library should do just one thing well: Render the UI based on the app's state. It should not care where the state is, and most importantly it should not handle the state itself. Otherwise we'll end up with things like bloated class components or <em>"suddenly global state and black magic is fine"</em> type of hooks inside otherwise pure functions.</p><p>Instead you should be handling your business logic, side effects and data gathering some place else, and use proper separation of concerns to model your application's logic.</p><h2 id="imagine-a-better-world">Imagine a better world</h2><p>So how would a better React alternative look in 2021? I made a small prototype library called <a href="https://www.npmjs.com/package/longwood">Longwood</a> based on above principles, and a hello world looks like this:</p><pre><code><span>&lt;<span>html</span>&gt;</span>
  <span>&lt;<span>body</span>&gt;</span>
    <span>&lt;<span>div</span> <span>id</span>=<span>"app"</span>&gt;</span><span>&lt;/<span>div</span>&gt;</span>
    <span>&lt;<span>script</span> <span>type</span>=<span>"module"</span>&gt;</span><span>
      <span>import</span> { div, text } <span>from</span> <span>'https://cdn.skypack.dev/longwood'</span>

      <span>const</span> render = div(text(<span>'Hello world!'</span>))
      render(<span>document</span>.getElementById(<span>'app'</span>))
    </span><span>&lt;/<span>script</span>&gt;</span>
  <span>&lt;/<span>body</span>&gt;</span>
<span>&lt;/<span>html</span>&gt;</span>
</code></pre><p><a href="https://codesandbox.io/s/unruffled-star-xs16e?file=/index.html">▶️ Try it out at CodeSandbox.io</a></p><p>That's all the code you need. No precompilation, no build steps, no downloading of 2.5 million lines of code to get started. You can open a text editor, save the code as an <code>index.html</code> file, open it in a browser and it works.</p><p>You have the same power of Javascript to compose your views as with React, and there's a <a href="https://www.npmjs.com/package/longwood-usestate">separate state management library</a> to get started if you're coming from React. But moreover <em>it's okay to handle your state however you want</em>. It's just a rendering library. It can be used for just a small portion of your site if you want. It even supports server-side rendering out of the box (with jsdom).</p><p>Since you're going to ask, here are a couple of examples:</p><ul><li><a href="https://codesandbox.io/s/competent-swartz-beoub?file=/src/TodoComponent.ts">React style Todo app</a></li><li><a href="https://links.thejunkland.com/">Rendering 1000+ rows of data with Longwood</a><ul><li><a href="https://links.thejunkland.com/react/">Same example done with create-react-app</a></li></ul></li></ul><h2 id="to-wrap-up">To wrap up</h2><p>We’ve come a long way since the web 2.0 times. jQuery made the world a better place by making DOM manipulation easier. AngularJS made the world a better place by introducing data binding to the masses. But all great increments seem to fade at some point to welcome better alternatives.</p><p>Will the future be bright for Longwood? I have no idea, it’s a single-person project and at the moment has one production site running on it. But I hope it demonstrates a point that we can do things even better in the future if we keep innovating and cherry-picking the good stuff from others.</p><p>Happy hacking.</p><p><a href="https://twitter.com/intent/tweet?text=%22What%20React%20gets%20wrong%22%20by%20@luotojesse%20https://thejunkland.com/blog/what-react-gets-wrong.html" target="_blank" rel="noopener">Tweet</a></p></article></div></div>]]>
            </description>
            <link>https://thejunkland.com/blog/what-react-gets-wrong.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25677648</guid>
            <pubDate>Thu, 07 Jan 2021 21:19:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[CVE-2021-3011: Key recovery on Google Titan Key]]>
            </title>
            <description>
<![CDATA[
Score 225 | Comments 71 (<a href="https://news.ycombinator.com/item?id=25675556">thread link</a>) | @hexa-
<br/>
January 7, 2021 | https://ninjalab.io/a-side-journey-to-titan/ | <a href="https://web.archive.org/web/*/https://ninjalab.io/a-side-journey-to-titan/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
					<div>
							<section id="blog">
				<article id="post-747" class="page">
		<div>
		
<center><h3> <a href="https://ninjalab.io/wp-content/uploads/2021/01/a_side_journey_to_titan.pdf" target="_blank" rel="noopener noreferrer">Download the Writeup<center><img src="https://ninjalab.io/wp-content/uploads/2021/01/Titan_Bluetooth_EM_probe.png"></center>
</a></h3></center><br>

<h3>Abstract</h3>
<p><span> The <a href="https://store.google.com/product/titan_security_key" target="_blank" rel="noopener noreferrer"><i>Google Titan Security Key</i></a> is a FIDO U2F hardware device proposed by Google (available since July 2018) as a two-factor authentication token to sign in to applications (e.g. your Google account). Our work describes a side-channel attack that targets the <i>Google Titan Security Key</i>’s secure element (the NXP A700X chip) by the observation of its local electromagnetic radiations during ECDSA signatures (the core cryptographic operation of the FIDO U2F protocol). In other words, an attacker can create a clone of a legitimate <i>Google Titan Security Key</i>.</span></p>

<p><span> To understand the NXP ECDSA implementation, find a vulnerability and design a key-recovery attack, we had to make a quick stop on <i>Rhea</i> (NXP J3D081 JavaCard smartcard). Freely available on the web, this product looks very much like the NXP A700X chip and uses the same cryptographic library. <i>Rhea</i>, as an open JavaCard platform, gives us more control to study the ECDSA engine.</span></p>

<p><span> We could then show that the electromagnetic side-channel signal bears partial information about the ECDSA ephemeral key. The sensitive information is recovered with a non-supervised machine learning method and plugged into a customized lattice-based attack scheme.</span></p>

<p><span> Finally, 4000 ECDSA observations were enough to recover the (known) secret key on <i>Rhea</i> and validate our attack process. It was then applied on the <i>Google Titan Security Key</i> with success (this time by using 6000 observations) as we were able to extract the long term ECDSA private key linked to a FIDO U2F account created for the experiment.</span></p>

<h3>Cautionary Note</h3>
<p><span> Two-factor authentication tokens (like FIDO U2F hardware devices) primary goal is to fight phishing attacks. Our attack requires physical access to the <i>Google Titan Security Key</i>, expensive equipment, custom software, and technical skills.</span></p>

<p><span> <b>Thus, as far as our study goes, it is still safer to use your <i>Google Titan Security Key</i> or other impacted products as FIDO U2F two-factor authentication token to sign in to applications rather than not using one.</b></span></p>

<p><span> Nevertheless, this work shows that the <i>Google Titan Security Key</i> (and other impacted products) would not avoid unnoticed security breach by attackers willing to put enough effort into it. Users that face such a threat should probably switch to other FIDO U2F hardware security keys, where no vulnerability has yet been discovered.</span></p>

<h3>Discovered By</h3>
<p><span> Victor lomné (NinjaLab) and Thomas Roche (NinjaLab).<br>
with the help of Camille Mutschler (NinjaLab) and Dr. Laurent Imbert (LIRMM, CNRS).</span></p>

<h3>List of Impacted Products</h3>
<ul>
<li> Google Titan Security Key (all versions) </li>
<li> Yubico Yubikey Neo </li>
<li> Feitian FIDO NFC USB-A / K9 </li>
<li> Feitian MultiPass FIDO / K13 </li>
<li> Feitian ePass FIDO USB-C / K21 </li>
<li> Feitian FIDO NFC USB-C / K40 </li>
<li> NXP J3D081_M59_DF and variants </li>
<li> NXP J3A081 and variants </li>
<li> NXP J2E081_M64 and variants </li>
<li> NXP J3D145_M59 and variants </li>
<li> NXP J3D081_M59 and variants </li>
<li> NXP J3E145_M64 and variants </li>
<li> NXP J3E081_M64_DF and variants </li>
</ul>


<h3>Further Notes</h3>
<p><span>
1. The impacted Yubico Yubikey Neo is an old product no more available for sale. All FIDO U2F Yubico Yubikeys currently available on their webstore are based on a newer secure element from Infineon, and are not impacted by our work to our knowledge.
</span></p>
<p><span>
2. The NXP P5 / SmartMX secure microcontroller family and its associated cryptographic library (up to v2.9) impacted by our work is quite old. Since, NXP has released two new generations of secure microcontroller families, the “NXP P60 / SmartMX2” family and now the “NXP P70 / SmartMX3” family. Both are Common Criteria certified (with recent certification process), and are not impacted by our work to our knowledge.
</span></p>

<h3>CVE</h3>
<p><span> 
We assigned <a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-3011" target="_blank" rel="noopener noreferrer">CVE-2021-3011</a>
</span></p>
	</div><!--/.blog-post-entry.markup-format-->
</article><!--/#post-747.blog-post-->
			</section><!--/#blog-->
		</div><!--/.col-sm-7-->
			</div><!--/.row-->
</div></div>]]>
            </description>
            <link>https://ninjalab.io/a-side-journey-to-titan/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25675556</guid>
            <pubDate>Thu, 07 Jan 2021 19:00:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Help! My Bitcoin was stolen! Why “Bitcoin recovery” services are scams]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25674723">thread link</a>) | @HeroicLife
<br/>
January 7, 2021 | https://walletrecovery.info/my-bitcoin-was-stolen-can-you-help/ | <a href="https://web.archive.org/web/*/https://walletrecovery.info/my-bitcoin-was-stolen-can-you-help/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Billions of dollars in Bitcoin are stolen every year.&nbsp; If you’re a victim of Bitcoin theft or a scam, read this article first.</p>
<p>I will tell you why most “recovery” services are scams, and what you should actually do.</p>
<h3><strong>Can a Bitcoin recovery service help get my stolen Bitcoin/Ethereum/etc back?</strong></h3>
<p>The first and most important thing you should know is <strong>that there is absolutely no way to reverse confirmed Bitcoin/cryptocurrency transactions</strong>.&nbsp; Once a transaction is confirmed on the Blockchain, there is no way to reverse it.</p>
<p><strong>Beware of “Bitcoin recovery” scams</strong></p>
<p>There are many “Bitcoin recovery” services that claim to be able to return stolen Bitcoin.&nbsp; They will have all kinds of explanations of how they do this.</p>
<p>Here is a debunking of the most common recovery methods:</p>
<h3><strong>Lawyers:&nbsp;</strong></h3>
<p><strong>What they promise: </strong>we will prosecute thieves and force them to return stolen Bitcoin</p>
<p><strong>Why it won’t work:&nbsp;</strong></p>
<p>In almost all cases, you won’t know the identity of the people who stole your Bitcoin. It’s nearly impossible to find out the real-world identity of the owner of a given Bitcoin address.</p>
<p>Even if you have a name, email address, “registered trading account,” website, etc, it will be very difficult to obtain the cooperation of the police in getting their real-world identity.</p>
<p>The police don’t care about “small scale” theft. In most cases, the thieves will be in a different country than you.&nbsp; Furthermore, unlike cash, there is no paper trail to follow.&nbsp; Bitcoin/cryptocurrency is generally considered “property” rather than money, and hacking isn’t given the same weight as theft of physical goods.&nbsp; All of this makes authorities unlikely to pursue cases.</p>
<p>Even when the identity of the thieves is definitely known, the Bitcoin is rarely returned. The only cases where Bitcoin has been recovered in theft has been in a class-action lawsuit (such as with Mt Gox). Even then, it usually takes thousands of victims, at least tens of millions of dollars stolen, expensive attorneys, and many years.</p>
<p>I’m not saying it’s impossible. Just don’t expect to send a random lawyer $5000-$10,000 (typical “recovery” fees) and anything useful to happen. It’s a scam.</p>
<h3><strong>“Ethical hackers”</strong></h3>
<p><strong>What they promise:</strong> we will hack the thieves and get them to return your Bitcoin.</p>
<p><strong>Why it won’t work:</strong></p>
<p>First, anyone who was able to steal your money is already a sophisticated hacker. Most “hackers” prey on the technologically ignorant.&nbsp; Anyone capable of stealing your Bitcoin probably knows the tricks of so-called “ethical hackers”.</p>
<p>Second, it’s nearly impossible to find out the real-world identity from a Bitcoin address or an email address.&nbsp; If the U.S. government struggles to find find out who operates darknet markets, what hope has some hacker you paid $1000?</p>
<p>Third, even an “ethical hacker” has to break into someone else’s systems — and probably break some laws in the process. If they could someone break into people’s computers to get their Bitcoin, why should they return it to you?&nbsp; Why do they need you at all?&nbsp; If they can hack people’s computers to steal Bitcoin, they are just as likely to steal yours.</p>
<p>There are no credible, independent reports of anyone successfully doing this. “Ethical hackers” that return Bitcoin for cash upfront simply do not exist.&nbsp; It’s a scam.</p>
<h3><strong>Blockchain hackers</strong></h3>
<p><strong>What they promise:</strong> we will hack Bitcoin or brute force your private key to reverse the transaction and return your Bitcoin.</p>
<p><strong>Why it won’t work:</strong></p>
<p>The market cap of Bitcoin is nearly $700 billion dollars.&nbsp; Every single Bitcoin transaction and address is public.&nbsp; If someone could steal or reverse a Bitcoin transaction, they wouldn’t be helping you.&nbsp; <a href="https://99bitcoins.com/bitcoin/rich-list/">They would be going after the richest Bitcoin wallets worth tens of billions of dollars.</a> Of course, once it got out that Bitcoin could be hacked, the exploit would either be patched, or Bitcoin would become worthless.</p>
<p>No matter how brilliant they claim to be, it’s a scam.</p>
<h3><strong>Chainalysis</strong></h3>
<p><strong>What they claim:</strong> we will trace Bitcoin transaction to the service holding them, and force them to return your money.</p>
<p><strong>Why it won’t work:</strong></p>
<p>Chainalysis is a real thing.&nbsp; <a href="https://www.chainalysis.com/">There are companies</a> that keep databases of addresses used by criminals and gambling sites, and help exchanges ban those customers.&nbsp;&nbsp;Unfortunately, they can’t help you for a few reasons:</p>
<p>First, they have expensive products for businesses and governments than the random recovery service you found online probably doesn’t have access to.</p>
<p>Second, the most they can do is trace which major exchange or business got your Bitcoin.&nbsp; At this point, you would need the cooperation of the exchange to tell you which customer made that deposit.&nbsp; That cooperation is impossible to obtain without a court order, which as previously explained is nearly impossible to obtain.&nbsp; Furthermore, thieves don’t use cooperative exchanges in the first place, since they require <a href="https://www.wikiwand.com/en/Know_your_customer">KYC. </a>If they want to cash out, they are going to use some less-reputable service in a country that probably does not cooperate with your government.</p>
<p>Third, once your crypto hits an exchange, it’s impossible to trace what a given customer does with it next.&nbsp; If someone simply deposits Bitcoin with an exchange, you will never know when they take it out or move it.&nbsp; This is because exchanges combine all their funds, so your stolen Bitcoin will be given to whoever requests a withdrawal first.&nbsp; It will not be withdrawn by the person who deposited it.</p>
<p>Fourth, criminals don’t keep Bitcoin at exchanges.&nbsp; In my experience, they will either sit on it for years or cash it out immediately. They are not stupid enough to keep it where it can be confiscated, however unlikely that is.</p>
<p>It’s a scam.</p>
<h3><strong>Conclusion:&nbsp;</strong></h3>
<p>It is nearly impossible to return your stolen cryptocurrency.&nbsp; Don’t lose more of your money in vain.</p>
<p><strong>Am I wrong?&nbsp; Are there other “recovery” methods I forgot to mention? Please let me know below.</strong></p>
<h3><strong>So what should I do?</strong></h3>
<p>First, there is a small qualification that <strong>unconfirmed transactions can be reversed or canceled</strong>.&nbsp; In a few cases, I’ve been able to reverse transactions that haven’t confirmed yet.&nbsp; It’s rare and requires immediate action.&nbsp; Usually, this happens with wallets that receive mining payments, as they require much higher fees to confirm.</p>
<p>Second, if your Bitcoin keys, logins, seed, etc have been leaked or exposed, but the thieves have not yet sent it away, you must act <strong>immediately&nbsp;</strong>to transfer it to a new private wallet.</p>
<p>Third, realize that if someone has stolen your Bitcoin, you may still be vulnerable to theft. You probably did something wrong or were exploited by someone who can do it again.</p>
<p>Don’t go out and buy more Bitcoin.&nbsp; You need to <a href="https://walletrecovery.info/ten-essential-security-practices-to-keep-your-bitcoin-safe/">perform a security audit</a> to understand how it was stolen. You may have a keylogger tracking all your keystrokes, or a root exploit that allows someone to access all your files.&nbsp; Educate yourself. Learn about <a href="https://walletrecovery.info/watch-out-for-these-five-common-bitcoin-cryptocurrency-scams/">the most common cryptocurrency scams</a>. At a minimum,&nbsp; <a href="https://walletrecovery.info/how-to-safely-store-bitcoin-and-other-cryptocurrencies/">read my article on how to safely store Bitcoin</a>.</p>
<p>Fourth, make sure your crypto was really stolen.&nbsp; You should see a transaction to an address that does not belong to you on a date/time you did not make any transactions.&nbsp;&nbsp;<strong><a href="https://walletrecovery.info/contact-us/">If you’re not sure, ask for help</a></strong>.&nbsp; If you don’t see an outgoing transaction, it was probably not stolen – you’re doing something wrong.</p>
<p>Fifth, if your Bitcoin was stolen, and you held it before August 2017, check to see if the BCH/BSV forks have been claimed.&nbsp; Do this immediately, before the crooks do.</p>
 </div></div>]]>
            </description>
            <link>https://walletrecovery.info/my-bitcoin-was-stolen-can-you-help/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25674723</guid>
            <pubDate>Thu, 07 Jan 2021 18:04:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dissecting the Apple M1 GPU, part I]]>
            </title>
            <description>
<![CDATA[
Score 484 | Comments 106 (<a href="https://news.ycombinator.com/item?id=25673631">thread link</a>) | @caution
<br/>
January 7, 2021 | https://rosenzweig.io/blog/asahi-gpu-part-1.html | <a href="https://web.archive.org/web/*/https://rosenzweig.io/blog/asahi-gpu-part-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
<header><p>7 Jan 2021</p></header><p>Apple’s latest line of Macs includes their in-house “M1” system-on-chip, featuring a custom GPU. This poses a problem for those of us in the <a href="https://asahilinux.org/">Asahi Linux</a> project who wish to run Linux on our devices, as this custom Apple GPU has neither public documentation nor open source drivers. Some speculate it might descend from PowerVR GPUs, as used in older iPhones, while others believe the GPU to be completely custom. But rumours and speculations are no fun when we can peek under the hood ourselves!</p>
<p>A few weeks ago, I purchased a Mac Mini with an M1 GPU as a development target to study the instruction set and command stream, to understand the GPU’s architecture at a level not previously publicly understood, and ultimately to accelerate the development of a Mesa driver for the hardware. Today I’ve reached my first milestone: I now understand enough of the instruction set to disassemble simple shaders with a free and open-source tool chain, <a href="https://github.com/AsahiLinux/gpu">released on GitHub here</a>.</p>
<p>The process for decoding the instruction set and command stream of the GPU parallels the same process I used for reverse-engineering Mali GPUs in the Panfrost project, originally pioneered by the Lima, Freedreno, and Nouveau free software driver projects. Typically, for Linux or Android driver reverse-engineering, a small wrap library will be written to inject into a test application via <code>LD_PRELOAD</code> that hooks key system calls like <code>ioctl</code> and <code>mmap</code> in order to analyze user-kernel interactions. Once the “submit command buffer” call is issued, the library can dump all (mapped) shared memory for offline analysis.</p>
<p>The same overall process will work for the M1, but there are some macOSisms that need to be translated. First, there is no <code>LD_PRELOAD</code> on macOS; the equivalent is <code>DYLD_INSERT_LIBRARIES</code>, which has some extra security features which are easy enough to turn off for our purposes. Second, while the standard Linux/BSD system calls do exist on macOS, they are not used for graphics drivers. Instead, Apple’s own <code>IOKit</code> framework is used for both kernel and userspace drivers, with the critical entry point of <code>IOConnectCallMethod</code>, an analogue of <code>ioctl</code>. These differences are easy enough to paper over, but they do add a layer of distance from the standard Linux tooling.</p>
<p>The bigger issue is orienting ourselves in the IOKit world. Since Linux is under a copyleft license, (legal) kernel drivers are open source, so the <code>ioctl</code> interface is public, albeit vendor-specific. macOS’s kernel (XNU) being under a permissive license brings no such obligations; the kernel interface is proprietary and undocumented. Even after wrapping <code>IOConnectCallMethod</code>, it took some elbow grease to identify the three critical calls: memory allocation, command buffer creation, and command buffer submission. Wrapping the allocation and creation calls is essential for tracking GPU visible memory (what we are interested in studying), and wrapping the submission call is essential for timing the memory dump.</p>
<p>With those obstacles cleared, we can finally get to the shader binaries, black boxes in themselves. However, the process from here on out is standard: start with the simplest fragment or compute shader possible, make a small change in the input source code, and compare the output binaries. Iterating on this process is tedious but will quickly reveal key structures, including opcode numbers.</p>
<p>The findings of the process documented in the free software disassembler confirm a number of traits of the GPU:</p>
<p>One, this is a scalar architecture. Unlike some GPUs that are scalar for 32-bits but vectorized for 16-bits, the M1’s GPU is scalar at all bit sizes. Yet Metal optimization resources imply 16-bit arithmetic should be significantly faster, in addition to a reduction of register usage leading to higher thread count (occupancy). This suggests the hardware is superscalar, with more 16-bit ALUs than 32-bit ALUs, allowing the part to benefit from low-precision graphics shaders much more than competing chips can, while removing a great deal of complexity from the compiler.</p>
<p>Two, this seems to handle scheduling in hardware, common among desktop GPUs but less so in the embedded space. This again makes the compiler simpler at the expense of more hardware. Instructions seem to have minimal encoding overhead, unlike other architectures which need to pad out instructions with <em>nop</em>’s to accommodate highly constrained instruction sets.</p>
<p>Three, various modifiers are supported. Floating point ALUs can do clamps (saturate), negates, and absolute value modifiers “for free”, a common shader architecture trait. Further, most (all?) instructions can type-convert between 16-bit and 32-bit “for free” on both the destination and the sources, which allows the compiler to be much more aggressive about using 16-bit operations without risking conversion overheads. On the integer side, various bitwise complements and shifts are allowed on certain instructions for free. None of this is unique to Apple’s design, but it’s worth noting all the same.</p>
<p>Finally, not all ALU instructions have the same timing. Instructions like <code>imad</code>, used to multiply two integers and add a third, are avoided in favour of repeated <code>iadd</code> integer addition instructions where possible. This also suggests a superscalar architecture; software-scheduled designs like those I work on for my day job cannot exploit differences in pipeline length, inadvertently slowing down simple instructions to match the speed of complex ones.</p>
<p>From my prior experience working with GPUs, I continue to expect to find some eldritch horror waiting in the instruction set, to balloon compiler complexity. Though the above work currently covers only a small surface area of the instruction set, so far everything seems sound. There are no convoluted optimization tricks, but doing away with the trickery is creating a streamlined, efficient design that does one thing and does it well. Maybe Apple’s hardware engineers discovered it’s hard to beat simplicity.</p>
<p>Alas, a shader tool chain isn’t much use without an open-source userspace driver. Next up: dissecting the command stream!</p>
<p><em>Disclaimer: This work is a hobby project, conducted based on public information. Opinions expressed may not reflect those of my employer.</em></p>
<p><a href="https://rosenzweig.io/">Back to home</a></p>
</div>]]>
            </description>
            <link>https://rosenzweig.io/blog/asahi-gpu-part-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25673631</guid>
            <pubDate>Thu, 07 Jan 2021 17:01:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[My stack is HTML+CSS]]>
            </title>
            <description>
<![CDATA[
Score 211 | Comments 164 (<a href="https://news.ycombinator.com/item?id=25673495">thread link</a>) | @zdw
<br/>
January 7, 2021 | https://blog.steren.fr/2020/my-stack-will-outlive-yours/ | <a href="https://web.archive.org/web/*/https://blog.steren.fr/2020/my-stack-will-outlive-yours/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
  <article>
	<header>
		
		<time date="2020-12-22">December 2020</time>
	</header>

		<p>
		My stack requires no maintenance, has perfect Lighthouse scores, will never have any security vulnerability, is based on open standards, is portable, has an instant dev loop, has no build step and… will outlive any other stack.
		</p>
		<p>
		It’s not LAMP, Wordpress, Rails, MEAN, Jamstack... I don’t do CSR (Client-side rendering), SSR (Server Side Rendering), SSG (Static Site Generation)...
		</p>
		<p>
		My stack is <b>HTML+CSS</b>.
		</p>
		<p>
		And because my sources are in git, pushed to GitHub, <a href="https://pages.github.com/">GitHub Pages</a> is my host.
		</p>
		<p>
		Of course, I’m being a bit provocative here. I should rather say that, for some specific use cases, I concluded that to get top performances and to guatantee long term support, HTML+CSS was the best choice, instead on relying on technologies currently more popular. Because I’m done rewriting my site every couple of years.
		</p>

		<h3>Why HTML+CSS?</h3>
		<p>
		It all started with <a href="https://labs.steren.fr/">a blog</a>, that I was hosting on Wordpress.com (which is "Wordpress-as-a-Service", because the last thing I want to do is administer a Wordpress installation on my own server). I <strong>paid</strong> Wordpress.com to do one job: host my blog. And one day I looked at its sources and Lighthouse scores:
		</p>
		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/wordpress-sources.png" alt="Sources of my Wordpress.com blog, showing a lot of inlined unreadable scripts">
			<figcaption>Sources of my Wordpress.com blog, what is all this?</figcaption>
		</figure>
		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/wordpress-lighthouse.png" alt="Lighthouse scores of my Wordpress.com blog, showing 19/100 for Performance">
			<figcaption>Lighthouse score of my blog hosted on Wordpress.com</figcaption>
		</figure>
		<p>
		What have we done?
		</p>
		<p>
		Sure, these are the problems of one specific blogging platform. I’m pretty sure others are better, at least in terms of performance. But isn’t there something fundamentally wrong if displaying a short text with images takes seconds, loads countless render-blocking scripts, and has unreadable sources?
		</p>
		<p>
		My requirements were:
		</p>
		<ol>
			<li>performance</li>
			<li>simplicity</li>
			<li>long long term support</li>
		</ol>
		<p>
		It was time to say goodbye to Wordpress. I didn’t need 99% of its features anyway. Other blogging platforms didn’t meet expectations either (I seriously have no idea why so many people publish on Medium… behind a login wall). I looked at static site generators like Jekyll, Hugo, 11ty, but all of these require tooling installed, have a build step and will ultimately need some updates or be abandonned by their maintainer. What if we also get rid of these?
		</p>
		<p>
		The best tool is no tool, the best build step is no build step, the best update is no update. HTML gives us all that, and more.
		</p>

		<figure>
			<img src="https://blog.steren.fr/2020/my-stack-will-outlive-yours/lighthouse-score-pure-html-css.svg" alt="Lighthouse score of 100">
			<figcaption>Lighthouse score of this page</figcaption>
		</figure>

		<h3>What is the HTML+CSS stack good for?</h3>
		<p>
		Let’s first differentiate between what I call a web <em>page</em> and a web <em>app</em>: The goal of a web <em>page</em> is to serve content, on the other hand, the goal of a web <em>app</em> is to enable the user to perform interactive tasks. Of course, there are in-betweens, often in the form of content that might need customization depending on the logged in user and content that might allow some interactions.
		</p>
		<p>
		HTML+CSS fits the web <em>page</em> use case. Wow, what a revelation! It might seem obvious, but it seems we’ve all forgotten this these days. HTML+CSS does not fit the web <em>app </em>use case, or any in between.
		</p>
		<p>
		We said a web <em>page</em> serves content, but let’s dive into more concrete use cases:
		</p>
		<ul>
			<li>Product / Company / Business landing page and marketing sites</li>
			<li>Personal portfolio / bio</li>
			<li>Blog</li>
			<li>Documentation</li>
		</ul>

		<h3>How to develop for HTML+CSS?</h3>
		<p>
		Authoring a pure HTML+CSS site can be done in any text editor, in any environment (any desktop OS, any smartphone, or even directly using GitHub’s single file editor) and previewed by simply opening the file in any browser.
		</p>
		<p>
		Keep the HTML of every page minimal and semantic. First, because there is no need for countless of &lt;div&gt;, but then because it makes sources more readable and easier to edit. See for example the <a href="https://github.com/steren/blog/blob/master/2020/my-stack-will-outlive-yours/index.html">HTML sources of this page</a>: a total of 150 lines, 100 lines are for the content, the rest is metadata and page structure, nothing extra. 
		</p>
		<p>
		For consistency, all pages that need to share the same style can point to the same CSS file. This avoids  duplication when it comes to styling (but note that loading this file creates an extra HTTP request, which could be avoided if style was inlined).
		</p>
		<p>
		When not cluttered with unnecessary scripts, divs or classes, I have no issue writing HTML directly. Yes, the paragraph tags are a bit annoying and distracting, but proper indentation and syntax highlighting mitigate this.
		<br>
		Sometimes, for drafting long blog articles, I’m working in Google Docs, and when I’m happy, export the content to clean HTML using an add-on. Google Docs is awesome for collaboration, with powerful suggestions and commenting system. That’s ideal for the “draft” phase. 
		<br>
		Because all content is in git, final review and approval can be done via GitHub pull requests.
		</p>
		<p>
		When I publish a new page, I need to link to it manually from the index page. I’m OK with that. It’s done in one line. It also allows me to have more control over when I want the page to be “published”.
		</p>
		<p>
		I don't need to pay for custom themes, I have complete freedom in the style and layout of my site.
		I can embed anything I want without being restricted by the choice of the hosting platform: SVG images, 3D models, interactive JS experiences. 
		</p>
		<p>
		Creating a new page requires to clone an existing one.
		So... if I don’t use any templating system, how do I update my header, footer or nav? Well, simply by using the ”Replace in files” feature of any good text editor. They don’t need frequent updates anyway. The benefits of using a templating system is not worth the cost of introducing the tooling it requires.
		</p>
		
		<h3>In conclusion</h3>
		<p>
		You don’t need  Wordpress, or Hugo to put a blog online, or Angular, React or Next.js to put a web page online. Raw HTML and CSS do the job.
		</p>
		<p>
		That being said, you’ll need to pick up some tooling or framework if you want to build a web app or add more interactivity or customization to your web pages. And for that, I’m very glad to see that frameworks now seem to be prioritizing performance, notably by prioritizing serving the content first and leveraging caching whenever possible. The era of “download 5MB of JS first and then download content from a REST API” seems to be over for content web pages. (I personally think it’s still OK to do so for web apps, as the user’s intent and expectations are different).
		</p>
		<p>
		Is the “HTML+CSS only” approach a bit extreme? A bit, it’s basically saying “all software is terrible, how can I minimize my dependencies on software”. Web standards are a model of backward compatibility. I’m pretty confident that my web pages written in raw HTML+CSS will have no issue being accessed and authored 10 years from now, without me having to do anything.
		</p>  
	</article>
</div></div>]]>
            </description>
            <link>https://blog.steren.fr/2020/my-stack-will-outlive-yours/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25673495</guid>
            <pubDate>Thu, 07 Jan 2021 16:54:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No meetings, no deadlines, no full-time employees]]>
            </title>
            <description>
<![CDATA[
Score 1176 | Comments 401 (<a href="https://news.ycombinator.com/item?id=25673275">thread link</a>) | @sahillavingia
<br/>
January 7, 2021 | https://sahillavingia.com/work | <a href="https://web.archive.org/web/*/https://sahillavingia.com/work">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><label>Jan 7, 2021 • 10 min read</label><h2>No Meetings, No Deadlines, No Full-Time Employees</h2><p>I started Gumroad in 2011. In 2015, we reached a peak of 23 full-time employees. In 2016, after <a href="https://sahillavingia.com/reflecting">failing</a> to raise more money, I ended up back where I began: a one-person company.</p><p>Today, when I’m asked how many people work at Gumroad, I respond with “ten or so.” That’s how I convert the number of people we have into what others expect. But the truth is more complicated:</p><p>If we include everyone who works on Gumroad, it’s 25.</p><p>If we include full-time employees, it’s none. Not even me.</p><p>We have no meetings, and no deadlines either.</p><p>And it’s working: our creators earn over $175 million a year, and we generate $11 million in annualized revenue, growing 85% year-over-year.</p><p><img src="https://sahillavingia.com/2020-earnings.png"></p><p>That said, I don’t expect anyone to copy our way of working wholesale. We got here on accident, not some grand plan.</p><p>However, I do think there are pieces of our story and the way we work that could benefit other companies, their people, and–most importantly–their customers.</p><h2>Freedom at all costs</h2><p>After the layoffs in 2015, even though the team shrunk, Gumroad itself continued to grow.</p><p><img src="https://sahillavingia.com/2018-earnings.png"></p><p>But hiring people full-time and leasing a new office in San Francisco to work out of was untenable. Instead, I found an Indian firm called <a href="https://bigbinary.com/">BigBinary</a> and hired a few engineers as contractors.</p><p>These contractors saved the company. They fixed bugs and maintained the site while I answered support tickets, designed features, and wrote about new initatives.</p><p>Eventually, I hired back the same customer support person we had from before the layoffs, this time via an hourly contracting agreement too.</p><p>Meanwhile, I <a href="https://sahillavingia.com/bubble">moved to Utah</a> and attempted to become a full-time creator.</p><p>While Gumroad was no longer on track to become a billion-dollar company, I acquired a new asset: time. I used that time to take classes on writing and painting.</p><p>Because I was burned out and didn’t want to think about working any more than I needed to, I instituted a no-meeting, no-deadline culture.</p><p>For me, it was no longer about growth at all costs, but “freedom at all costs.”</p><p>This way, Gumroad stayed profitable, I could take a much-needed break to explore my hobbies, and the product continued to improve over time.</p><p><img src="https://sahillavingia.com/operating.png"></p><h2>How we work</h2><p>Today, working at Gumroad resembles working on an open source project like Rails. Except it’s neither open source, nor unpaid.</p><p>Instead of having meetings, people “talk” to each other via GitHub, Notion, and (occasionally) Slack, expecting responses within 24 hours. Because there are no standups or “syncs” and some projects can involve expensive feedback loops to collaborate, working this way requires clear and thoughtful communication.</p><p>Everyone writes well, and writes <em>a lot</em>.</p><p>There are no deadlines either. We ship incrementally, and launch things whenever the stuff in development is better than what’s currently in production. The occasional exception does exist, such as a tax deadline, but as a rule, I try not to tell anyone what to do or how fast to do it. When someone new joins the company, they do what everyone else does: go into our Notion queue, pick a task, and get to work, asking for clarification when needed.</p><p>Instead of setting quarterly goals or using OKRs, we move towards a single north star: maximizing how much money creators earn. It’s simple and measurable, allowing anyone in the company to do the math on how much a feature or bug-fix might be worth.</p><p>But we don’t prioritize ruthlessly.</p><p>People can work on what’s fun or rely on their intuition, because as long as we remain profitable and keep shipping, we tend to get to the important stuff eventually. Our <a href="https://www.notion.so/gumroad/Roadmap-ce2ad07c483046e7941227ad7810730d">public roadmap</a> helps Gumroad's creators hold us accountable.</p><p>We ship big things this way too.</p><p>In November 2020, we shipped <a href="https://gumroad.com/gumroad/p/introducing-gumroad-memberships">Gumroad Memberships</a>, a year in the works and now used by hundreds of creators to earn over $1,500,000 per month.</p><p>This is a screenshot from our roadmap to show what it looks like in practice:</p><p><img src="https://sahillavingia.com/memberships-roadmap.png"></p><p>For more, I recorded <a href="https://www.youtube.com/watch?v=2PcIC1DKBU0">an hour-long video</a> about how we ship something as large as Gumroad Memberships.</p><p>Gumroad engineer Helen Hood, who shipped Memberships, says, “it’s one of the biggest product launches of my career, and we shipped it without a single meeting or video call. I've worked at your typical startup, with an open floor plan, lots of whiteboards, standups and sprint planning, beers after work. I’ve also worked on a remote team with little communication and engineers largely siloed on their own projects. The way we work at Gumroad is ideal for me. It lets me maximize my productive hours, and clock out when I've hit my limit.”</p><p>Those are the broad strokes, but we’ve published more specific documentation about the way we work:</p><ul><li><a href="https://www.notion.so/gumroad/How-do-we-decide-what-to-work-on-f2064b8ab16c4cbcac1077e16c8cf33b">How do we decide what to work on?</a><p>“At the end of the day there's a lot of emotion that goes into Gumroad, that's not dissimilar from an art project. We sometimes pick what's fun and feels good to work on! We love listening to creators! We don't do tons of data analysis to decide what's worth working on.”</p></li><li><a href="https://www.notion.so/gumroad/How-do-we-communicate-06f2032bfdae4552a38149c99c68e3df">How do we communicate?</a><p>“Turn off all notifications from your phone!”</p></li><li><a href="https://www.notion.so/gumroad/What-does-working-at-Gumroad-feel-like-7d9fd1c9548245a58afe5569d76a7960">What does working at Gumroad feel like?</a><p>“We ship incrementally, iteratively, and have one massive tentpole launch a year. Every month we see how much creators got paid, then we move on. The journey is the fun part, we're not waiting to arrive at some destination.”</p></li><li><a href="https://www.notion.so/gumroad/What-s-not-so-good-at-Gumroad-847e3c285b1f45ab955ebacf52867900">What’s not so good at Gumroad?</a><p>“There's not a lot of room for growth. We're staying profitable, and not planning to double the team every year. While there will likely be a few leadership roles, there aren't plenty of them and they aren't built into the career path of working at Gumroad.”</p></li></ul><p>Gumroad’s Chris Maximin says, “this way to work is responsible for the highest level of productivity I've ever experienced. The ability to focus on actual work creates a virtuous circle benefiting both the company and the workers: 1) the company does not have to pay expensive engineers to sit around in endless, useless meetings, and 2) the engineers get to do more and learn more, which benefits them in the long term.”</p><p>This isn’t just for engineers.</p><p>Justin Mikolay, a writer at Gumroad, ships each of our <a href="https://gumroad.com/l/BCMDz">Creator Spotlights</a> this way, even though each one requires at least three people–plus the creator.</p><p><em>Everything</em> is handled this way: support, risk, content, growth, product prioritization, board decks, design feedback, and more.</p><h2>Minimum viable culture</h2><p>This way of working isn’t for everyone.</p><p>There are no retreats planned, and no social channels in Slack. There are limited opportunities for growth. And we can’t compete with the comp packages that big tech companies can provide.</p><p>But we can compete–and win–on flexibility.</p><p><a href="https://twitter.com/sidyadav">Sid Yadav</a>, former VP of Product at Teachable, joined Gumroad in 2018.</p><p>In his words, “most entrepreneurs have two options: work a full-time job and hustle nights/weekends, or leave your job and risk everything to start the company. Gumroad provided a third way: I could contract 20-35 hours a week, and for a couple days a week, incubate ideas and work on my next thing.”</p><p>In 2020, Sid left Gumroad to start his own creator economy company, <a href="https://circle.so/">Circle</a>, together with former Gumroad coworker <a href="https://community.circle.so/u/45ef416b">Rudy Santino</a>:</p><blockquote><p lang="en" dir="ltr">I’m starting a new company: <a href="https://t.co/BW40WmGBlF">https://t.co/BW40WmGBlF</a>! I’ll be sharing more about it in the coming weeks, but today I wanted to show gratitude to the life situation that made this possible: contracting for a flexible remote startup — <a href="https://twitter.com/gumroad?ref_src=twsrc%5Etfw">@gumroad</a>. It wouldn’t have happened without it.</p>— Sid Yadav (@sidyadav) <a href="https://twitter.com/sidyadav/status/1216761573479473152?ref_src=twsrc%5Etfw">January 13, 2020</a></blockquote> <p>Working on Gumroad isn't a majority of anyone's identity.</p><p>People work at Gumroad as little as they need to sustain the other parts of their lives they prefer to spend their time and energy on: a creative side-hustle, their family, or anything else.</p><p>Gumroad engineer Nathan Chan says, “I produce more value for my time than at any other company in my career, and I’m able to fully participate in parenting and watching my kiddo grow up.”</p><p>That includes me.</p><p>From 2011 to 2016, building Gumroad was my singular focus in life. But today, it is just a part of my life, like a hobby might be. For example, I paint for fun, and every once in a while, I sell a painting.</p><h2>A company of creators</h2><p>One day, out of the blue, I received an email from <a href="https://twitter.com/dvassallo">Daniel Vassallo</a>. I knew Daniel; he was a creator who had made over $250,000 on Gumroad in less than a year.</p><p>He was already using the product–so he understood what problems Gumroad ought to solve next–and he had some ideas for how he could help out:</p><blockquote>I love Gumroad (and I’m living off it!), I enjoy product scoping and strategy, and I think I can take over your PM tasks. I would only be able to dedicate around 2hrs/day on average, but I’d be available daily. Don’t know if this is the type of commitment you had in mind, but I figured if there’s a place where this arrangement can work, it’s Gumroad :)</blockquote><p>It was a perfect fit. Daniel became our new Head of Product.</p><p>It can be a great deal for Gumroad too. Before Daniel quit his job at Amazon, he was making over $400,000 a year. We pay him $120,000 a year.</p><p>How? He works ten hours a week for us. In his words:</p><blockquote><p lang="en" dir="ltr">Almost nobody is seeing this trend as an opportunity to work less, rather than to earn more. <a href="https://t.co/U9YBqp1ebn">https://t.co/U9YBqp1ebn</a></p>— Daniel Vassallo (@dvassallo) <a href="https://twitter.com/dvassallo/status/1334288446697865216?ref_src=twsrc%5Etfw">December 3, 2020</a></blockquote> <h2>Getting paid</h2><p>In practice, we pay everyone hourly based on their role. The range varies from $50 (customer support) to $250 (Head of Product) an hour.</p><p>Recently I standardized our rates world-wide:</p><blockquote><p lang="en" dir="ltr">🌍🌎🌏 Excited to announce we've deprecated all location-based pay! Gumroad will now pay you the same salary, no matter if you live in San Francisco, Bangalore, Lagos, or anywhere else.</p>— Sahil (@shl) <a href="https://twitter.com/shl/status/1334201934702493697?ref_src=twsrc%5Etfw">December 2, 2020</a></blockquote> <p>This rate is agreed upon during our interview process:</p><ol><li>Apply via a form.</li><li>An unpaid, few-hour challenge, that resembles the high-level work we do at Gumroad. This may include breaking down a large shipment (like Gumroad Memberships) into its atomic parts, planning the schema associated with a new feature, or writing up a Help Center article.</li><li>A paid, few-week trial period, that resembles the day-to-day work we do at Gumroad. This may …</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://sahillavingia.com/work">https://sahillavingia.com/work</a></em></p>]]>
            </description>
            <link>https://sahillavingia.com/work</link>
            <guid isPermaLink="false">hacker-news-small-sites-25673275</guid>
            <pubDate>Thu, 07 Jan 2021 16:41:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Elon Musk throws a jab at Facebook, suggests using Signal instead of WhatsApp]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25672773">thread link</a>) | @CarCooler
<br/>
January 7, 2021 | https://www.teslaoracle.com/2021/01/07/elon-musk-suggests-signal-instead-whatsapp-jabs-facebook/ | <a href="https://web.archive.org/web/*/https://www.teslaoracle.com/2021/01/07/elon-musk-suggests-signal-instead-whatsapp-jabs-facebook/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        
			<figure data-amp-original-style="margin-bottom:30px;">
            <figcaption data-amp-original-style="border:1px dotted blue; margin:2px 0; text-align:center;">Advertisement</figcaption>
            <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="4076643206" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
              
            </amp-ad>
            </figure>
				<!-- .Adsense Ad -->

		
<p>At an early hour of the morning, Tesla &amp; SpaceX CEO Elon Musk tweeted “Use Signal” — the precursor for this tweet was an earlier reply to WhatsApp’s recent policy that forcefully asks to comply to data sharing with Facebook.</p>



<figure></figure>



<div><figure><a href="https://evannex.com/?ref=Iqtidar_TeslaOracle_EVANNEX_Banner" target="_blank" rel="sponsored noopener noreferrer"><amp-img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://www.teslaoracle.com/wp-content/uploads/2020/10/evannex_googlead_300x250.jpg" alt="" width="300" height="250" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzI1MCcgd2lkdGg9JzMwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img></a><figcaption>– Sponsored –</figcaption></figure></div>



<figure><div>
<amp-twitter width="600" height="480" layout="responsive" data-tweetid="1347165930674012168" data-width="550" data-dnt="true" i-amphtml-layout="responsive"><i-amphtml-sizer></i-amphtml-sizer><blockquote data-width="550" data-dnt="true" placeholder=""><p lang="en" dir="ltr">Yes exactly. Time to switch to Signal, folks. Open-source and independent. E2E encrypted (WhatsApp's encryption is based on the Signal protocol). Supports groups and video call now.</p>— Pranay Pathole (@PPathole) <a href="https://twitter.com/PPathole/status/1347165930674012168?ref_src=twsrc%5Etfw">January 7, 2021</a></blockquote></amp-twitter>
</div></figure>



<p>WhatsApp is actually owned by Facebook Inc. (FB), now Facebook is apparently trying to widen its human data research to the next level. With the past scandals like Cambridge Analytica, the social media platform’s credibility has been shaken.</p>



<p>Interestingly, the Cambridge Analytica scandal surfaced within a few weeks after Elon Musk <a href="https://www.theverge.com/2018/3/23/17156402/elon-musk-deleted-tesla-and-spacex-facebook-pages-twitter-challenge" target="_blank" rel="noreferrer noopener">ordered</a> to remove <a href="https://www.teslaoracle.com/topic/spacex/">SpaceX</a>, <a href="https://www.teslaoracle.com/">Tesla</a>, and his official page from Facebook. Musk has been a staunch opposer of Facebook and regularly criticizes the social media platform for bad user experience and possible misuse of personal data.</p>



<div><figure><amp-img width="465" height="1024" src="https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement.jpg" alt="WhatsApp 2021 agreement screenshot." srcset="https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement.jpg 465w, https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement-136x300.jpg 136w" sizes="(max-width: 465px) 100vw, 465px" layout="intrinsic" disable-inline-width="" i-amphtml-layout="intrinsic"><img loading="lazy" width="465" height="1024" src="https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement.jpg" alt="WhatsApp 2021 agreement screenshot." srcset="https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement.jpg 465w, https://www.teslaoracle.com/wp-content/uploads/2021/01/WhatsApp-2021-Agreement-136x300.jpg 136w" sizes="(max-width: 465px) 100vw, 465px" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzEwMjQnIHdpZHRoPSc0NjUnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img><figcaption>WhatsApp 2021 terms of use asking for mandatory data sharing compliance with Facebook. Source: <a href="https://www.xda-developers.com/whatsapp-updates-terms-privacy-policy-mandate-data-sharing-facebook/" target="_blank" rel="noreferrer noopener">XDA</a></figcaption></figure></div>



<figure>
<amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="7514654329" data-auto-format="rspv" data-full-width="" i-amphtml-layout="fixed">
  
</amp-ad>
</figure>



<p>In the new WhatsApp terms of use agreement (screenshot above), it’s clearly mentioned that if you do not agree with Facebook data sharing otherwise you will not be granted permission to use WhatsApp (a little rephrased I know but that’s what Facebook meant actually).</p>



<p>Now with WhatsApp’s mandatory data sharing with Facebook, <a href="https://www.teslaoracle.com/topic/elon-musk/">Elon Musk</a> decided to give a boost to Signal Private Messenger. As of this writing, Signal Messenger 570k+ users on Google Playstore vs. 127 million+ WhatsApp users. With Musk’s more than 41 million followers on Twitter, the number of Signal users is likely to hike in the coming hours, days, and weeks.</p>



<p>Another interesting bit is that Elon Musk has now <a href="https://www.bloomberg.com/news/articles/2021-01-06/musk-close-to-surpassing-bezos-as-world-s-richest-person" target="_blank" rel="noreferrer noopener">become</a> the world’s richest person with Tesla stock reaching an all-time high of $796.12 ($3,980.6 pre-split) at the time of this writing.</p>



<p>However, Signal offers real end-to-end encryption for enhanced security and privacy. <a href="https://signal.org/" target="_blank" rel="noreferrer noopener nofollow">Signal Messenger</a> has no social media partners to share data for profit and that’s even better.</p>



<p>The dilemma is, how we are going to convince our friends and family to migrate to Signal when they are addicted to WhatsApp, I don’t see that happening very soon.</p>



<p>For more interesting stories about Elon Musk, Tesla, and SpaceX, follow us on:<br><a rel="noreferrer noopener" href="https://news.google.com/publications/CAAqBwgKMOarmgswgLayAw" target="_blank">Google News</a>&nbsp;|&nbsp;<a rel="noreferrer noopener nofollow" href="https://flipboard.com/@TeslaOracle" target="_blank">Flipboard</a>&nbsp;|&nbsp;<a rel="noreferrer noopener nofollow" href="https://feedly.com/i/subscription/feed%2Fhttps%3A%2F%2Fwww.teslaoracle.com%2Ffeed%2F" target="_blank">RSS (Feedly)</a></p>
		<!-- Adsense Matched -->
        <figure>
        <amp-ad width="100vw" height="320" type="adsense" data-ad-client="ca-pub-0923072950810999" data-ad-slot="9763094783" data-auto-format="mcrspv" data-full-width="" i-amphtml-layout="fixed">
          
        </amp-ad>
        </figure><!-- Adsense Matched End -->
		</div></div>]]>
            </description>
            <link>https://www.teslaoracle.com/2021/01/07/elon-musk-suggests-signal-instead-whatsapp-jabs-facebook/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25672773</guid>
            <pubDate>Thu, 07 Jan 2021 16:15:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built an intercom for my 6 yo to keep us connected during quarantine]]>
            </title>
            <description>
<![CDATA[
Score 169 | Comments 119 (<a href="https://news.ycombinator.com/item?id=25671919">thread link</a>) | @daylankifky
<br/>
January 7, 2021 | https://chordata.cc/blog/open-source-intercom-for-kids/ | <a href="https://web.archive.org/web/*/https://chordata.cc/blog/open-source-intercom-for-kids/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<!-- .entry-container -->

			<div>
				
<pre><em>Today we’ll take a turn and showcase a personal project developed by our Tech Lead, Bruno, who took the multiple hours of lockdown we experienced last year and turned them into an initiative that allowed him to communicate with his 6 year old daughter. Below you’ll be able to review his experience and gather all of the details of his project (in case you want to replicate his system).</em></pre>



<p>In terms of social interactions, 2020 was an odd year, with cyclic lockdowns and openings. <strong>Keeping in touch with our close ones was one of the main challenges for all of us</strong>. The lockdowns are a bizarre experience in itself, but one of the strangest parts for me was when I topped it all up with a fever. It ended up being just a regular flu in the end, but for precaution my doctor ordered me to lock me down in a room for two weeks. Being there just a few meters away from my family and not being able to hug them or have a direct conversation was <strong>hard for all of us, but especially for my six-year-old daughter who wasn’t able to wrap her head around the reasons we couldn’t just see each other.</strong></p>



<p>So this time I decided to build something for her to keep us in touch in case something similar happens. The basic concept is a <strong>simplified interface for a Telegram voice chat with only a few (big) buttons: it should allow to easily and intuitively send and receive voice messages</strong>. Of course having a raspberry-pi as the core of this device was a no-brainer, since It has everything that’s needed for the project: WiFi connectivity, low level interface to control leds and buttons, and of course a complete OS where to run a Python interpreter to control everything.</p>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-300x217.jpg" alt="" width="538" height="389" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-300x217.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-1024x739.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-768x555.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-640x462.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint-100x72.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_blueprint.jpg 1108w" sizes="(max-width: 538px) 100vw, 538px"></figure></div>



<h3>TUI</h3>



<p>A good idea when dealing with electronic projects is to <strong>start small and have a proof of concept working before getting all the components</strong> and wire the whole thing together. In this case I started by creating the main program but replacing the physical button interface with a <em>TUI</em> (terminal user interface). The code can be found <a href="https://gitlab.com/daylanKifky/daddy-box-python-module" target="_blank" rel="noreferrer noopener">in this repository</a>, you should be able to test it by running it using the <code>--tui</code> flag like this:</p>



<pre>python -m daddy_box --tui</pre>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_tui.jpg" alt="" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_tui.jpg 575w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_tui-300x242.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_tui-100x81.jpg 100w" sizes="(max-width: 575px) 100vw, 575px"></figure></div>



<h3>Telegram bot setup</h3>



<p>The first time you run it you will need to give it a telegram bot key. Follow <a href="https://core.telegram.org/bots#3-how-do-i-create-a-bot" target="_blank" rel="noreferrer noopener">this steps</a> to create your instance of a Bot, and then run it with the <code>--setup-bot</code> flag and input the information the <em>BotFather</em> gave you.</p>



<p>You should now be able to search for the bot’s username in telegram and exchange some messages with it. You will first find that you get “not allowed” responses. The <strong>idea behind this bot is to exchange messages privately with just one user</strong>, so you have to tell the bot which is the allowed user id to interact with.</p>



<p>Take a look at the terminal where the bot is running, you will see some printed messages like this one:</p>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_user_id.png" alt="" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_user_id.png 571w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_user_id-300x66.png 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_user_id-100x22.png 100w" sizes="(max-width: 571px) 100vw, 571px"></figure></div>



<p>Copy your user-id from there and give it to the bot using the <code>--setup-user</code> flag.  You should now be able to send and receive voice messages, so we are ready to start with the physical part of the project.</p>







<h3>Raspberry pi HAT</h3>



<p>When doing a one-shot project like this I normally use breadboards or perfboards to assemble all the components. I used that approach a bunch of times in the past to handle a few backlitghted buttons, and the process was always frustrating: I ended up spending lots of time with the soldering and wiring of the components. So this time I decided to actually do what I promised myself each one of those times: design a <strong>breakout HAT for the raspberry with screw terminals where to easily connect everything.</strong></p>



<p>Since I was at it I added a darlington array and a number of selectable power sources in order to potentially handle bigger loads. I designed it in Kicad and then ordered a few PCBs. You can find the project files <a href="https://gitlab.com/daylanKifky/daddy-box-raspberry-pi-hat" target="_blank" rel="noreferrer noopener">here</a>.</p>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-1024x681.jpg" alt="" width="583" height="388" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-1024x681.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-300x199.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-768x511.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-640x425.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT-100x66.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_HAT.jpg 1053w" sizes="(max-width: 583px) 100vw, 583px"></figure></div>



<h3>Audio</h3>



<p>One little detail I wasn’t taking into consideration when I started the project was the fact that a <strong>raspberry pi doesn’t have an audio input</strong>.<strong> So I had to buy an USB microphone.</strong> A cheap one from a local store did the trick. I removed all the plastic parts and shortened the cable to avoid unnecessary EM interference.</p>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_mic.jpg" alt="" width="322" height="443" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_mic.jpg 581w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_mic-218x300.jpg 218w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_mic-349x480.jpg 349w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_mic-73x100.jpg 73w" sizes="(max-width: 322px) 100vw, 322px"></figure></div>



<p>Before using it I also tried a small USB audio card but I had a lot of conflicts being raised by <a rel="noreferrer noopener" href="http://people.csail.mit.edu/hubert/pyaudio/" target="_blank">pyaudio,</a> the library I used to handle the recording and playing of audio files in python.</p>



<p>For the audio output I connected a small speaker directly to the RPi audio output jack. The volume is a little low, but it gets the work done.</p>



<h3>Final assembly</h3>



<p>Once the PCBs and all the components arrived it was time to replace the <em>TUI</em> with a Button UI. I used the handy <a href="https://gpiozero.readthedocs.io/en/stable/" target="_blank" rel="noreferrer noopener">gpiozero</a> library to handle button press and leds. For the external case I used a shoe box to which I made holes for the buttons and speaker.</p>



<div>
<div>
<figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-1024x576.jpg" alt="" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-1024x576.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-300x169.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-768x432.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-640x360.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1-100x56.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly1.jpg 1422w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>




</div>



<div>
<figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-1024x576.jpg" alt="" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-1024x576.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-300x169.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-768x432.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-640x360.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2-100x56.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly2.jpg 1422w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>
</div>
</div>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-1024x576.jpg" alt="" width="493" height="277" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-1024x576.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-300x169.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-768x432.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-640x360.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3-100x56.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assembly3.jpg 1422w" sizes="(max-width: 493px) 100vw, 493px"></figure></div>



<p>Once everything was set and tested I disassembled and packed all the components inside the box, wrapped the whole thing as a gift to prepare it for the best part.</p>



<h3>XMAS</h3>



<p>I gave the box as a present to my daughter to be opened on Christmas eve without telling her what the purpose of all those parts were. <strong>The next morning we spent a couple of hours putting it all together, so she discovered the purpose of the device, its final shape and got a glimpse of the internal functionality during the process.</strong></p>



<div><figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-1024x576.jpg" alt="" width="510" height="286" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-1024x576.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-300x169.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-768x432.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-640x360.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid-100x56.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_assemblykid.jpg 1422w" sizes="(max-width: 510px) 100vw, 510px"></figure></div>



<p>When it was done my kid liked it way more than I could ever expect. What I conceived as an utilitary tool to keep us connected when I wasn’t close soon became a part of a game of exchanging messages about every little action in the everyday routine, even when we are just a few meters away 😅.&nbsp;</p>



<p>So I’m quite happy with the result. Not only did this object help strengthen our relationship, it ended up being a <strong>cool way to transmit the hacker-maker values and habits to a young mind.</strong></p>



<p>I hope some of you find this useful and if you try to build this at home I would love to know how it went for you, please share your experience in <a href="https://forum.chordata.cc/">our forum</a> using the <em>offtopic</em> tag.</p>



<p>And above all, have a great starting of the year!</p>



<figure><img src="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-1024x576.jpg" alt="" srcset="https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-1024x576.jpg 1024w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-300x169.jpg 300w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-768x432.jpg 768w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-640x360.jpg 640w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final-100x56.jpg 100w, https://chordata.cc/wp-content/uploads/2021/01/daddy_box_final.jpg 1422w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>
			</div><!-- .entry-content -->

			
		</div></div>]]>
            </description>
            <link>https://chordata.cc/blog/open-source-intercom-for-kids/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25671919</guid>
            <pubDate>Thu, 07 Jan 2021 15:11:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[German Foreign Minister: Those Who Incite Bear Responsibility]]>
            </title>
            <description>
<![CDATA[
Score 67 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25671401">thread link</a>) | @dakna
<br/>
January 7, 2021 | https://www.spiegel.de/international/world/german-foreign-minister-heiko-maas-those-who-incite-bear-responsibility-a-9e808002-67ee-4175-93b0-a01bf8e6dde2 | <a href="https://web.archive.org/web/*/https://www.spiegel.de/international/world/german-foreign-minister-heiko-maas-those-who-incite-bear-responsibility-a-9e808002-67ee-4175-93b0-a01bf8e6dde2">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The images of the storming of the Capitol Building in Washington, D.C., are painful to the soul of every friend of democracy. The democratic world is shocked and appalled. But that’s not enough. We need all democrats around the world to stand shoulder to shoulder. The struggle against narrow-minded delusion, against intolerance, against the division of our societies is our common struggle. Indeed, it would be self-righteous to point the finger solely at America right now. Here in Germany, too, in <a target="_blank" rel="noopener noreferrer" href="https://www.spiegel.de/international/germany/when-far-right-hatred-turns-into-terrorism-a-e58ac378-bc7c-442e-a024-c801296d2b9c" data-link-flag="english">Hanau</a>, <a target="_blank" rel="noopener noreferrer" href="https://www.spiegel.de/international/germany/far-right-terrorism-in-germany-shooting-exposes-lapses-in-security-apparatus-a-1291075.html" data-link-flag="english">Halle </a>and on the steps of Reichstag (in coronavirus protests last summer), we have seen how agitation and inflammatory words can spark hateful deeds.</p><div>
<p>This should be extremely clear: Those who, like Trump, have spent years using words to constantly inflame and incite their own supporters, ultimately bear responsibility for this attack on the heart of American democracy. We see all around the world what happens when radical populists come to power and systematically stir up resentment against democratic institutions. Yes, democracy thrives on contradiction, even disagreement. But it dies when brute force silences the other, when sheer hatred breaks all bounds of decency and respect.</p><p>The radical mob does not represent the majority in the United States. The vast majority of American voters stand firmly behind democracy and voted decisively against a right-wing populist. And it’s not just Donald Trump who needs to finally accept that. Every Republican with a modicum of responsibility needs to finally repudiate Trump once and for all. The American courts have ruled clearly that this was a lawful election. Those who disrespect that election result are disrespecting their own people.</p>
</div><div>
<p>America’s strength is its diversity. It is admired around the world for the freedom of its democracy. U.S. president-elect Joe Biden knows this. His call yesterday for mutual respect and reconciliation were the soothing words of a president. And the confirmation of the election of Joe Biden and Kamala Harris by the U.S. Congress was the best democratic response to those who sowed chaos and discord in Washington yesterday.</p><p>As friends of America and as friends of democracy, we wish Joe Biden and Kamala Harris great strength in the difficult task of overcoming America’s division. We stand together with them in the fight for democracy. In keeping with the quintessential American motto: "E pluribus unum" – out of many, one.</p>
<p><span><svg aria-labelledby="title-a13ba022-6c8c-4200-bad3-2dd779447c46" width="10" height="20" viewBox="0 0 10 20" fill="none" xmlns="http://www.w3.org/2000/svg" role="img"><title id="title-a13ba022-6c8c-4200-bad3-2dd779447c46">Icon: Der Spiegel</title><g id="l-s-flag-a13ba022-6c8c-4200-bad3-2dd779447c46"><path id="vector-a13ba022-6c8c-4200-bad3-2dd779447c46" d="M9.85 16.293v-8H3.212V4.667h3.533v2.24h3.212v-3.2C9.85 2.747 8.993 2 8.03 2H1.713C.749 2 0 2.747 0 3.707v7.253h6.638v4.373H3.105v-2.986H0v3.84c0 .96.75 1.706 1.713 1.706H8.03c.963.107 1.82-.64 1.82-1.6z" fill="#000"></path></g></svg>
</span>
</p></div></div>]]>
            </description>
            <link>https://www.spiegel.de/international/world/german-foreign-minister-heiko-maas-those-who-incite-bear-responsibility-a-9e808002-67ee-4175-93b0-a01bf8e6dde2</link>
            <guid isPermaLink="false">hacker-news-small-sites-25671401</guid>
            <pubDate>Thu, 07 Jan 2021 14:30:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[MakAir: Covid-19 ventilator with a Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 61 (<a href="https://news.ycombinator.com/item?id=25670303">thread link</a>) | @mtmail
<br/>
January 7, 2021 | https://blog.senx.io/makair-covid-19-ventilator-with-a-raspberry-pi/ | <a href="https://web.archive.org/web/*/https://blog.senx.io/makair-covid-19-ventilator-with-a-raspberry-pi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>During the COVID-19 crisis, The birth of the first open source data enabled ventilator. </p><article>
      
<p>Back to March 20, 2020. <a href="https://twitter.com/waxzce" target="_blank" rel="noreferrer noopener">Quentin Adam</a>, with some friends living in Nantes, is trying to build a ventilator prototype with 3D printing and Arduino, in response to a shortage of equipment. </p>



<p><strong>Project MakAir is started</strong>. </p>



<p>Quentin, a software expert and CEO of <a href="https://www.clever-cloud.com/" target="_blank" rel="noreferrer noopener">Clever Cloud</a>, is struggling with the electronics part and looking for electronics engineers. Among his friends is Mathias, SenX CTO. That is how Mathias asked me to review the electronics part of the project. My first call with Quentin was to help him connect an old pressure sensor to an Arduino, during the late evening of March 20.</p>



<p><strong>The goal was clear: to mass-produce an open-source medical ventilator</strong>. Crazy! Looking at the project that day, it looked like an "amateur" project. So I did the first real schematics, the first BOM, the first Radiospares, and Farnell reference list during the weekend, discussing with more and more people on the MakAir Slack. </p>



<figure></figure>



<h3>Amateur? Not really...</h3>



<p>Next Thursday, I understood that the small "amateur" project is quickly getting big. Two electronics companies detached people, and a whole regulatory team was up. In this team, there were some experts in medical devices. We also knew that we were on a shortlist of projects that the French government is looking at closely.</p>



<p>I soon realized that in Nantes, there is no one able to actually make the prototypes. <a href="https://blog.senx.io/connecting-a-beertender-to-warp-10-using-mqtt-on-lorawan-with-thethingsnetwork/" target="_blank" rel="noreferrer noopener">Engineers with prototyping knowledge</a> are scarce, I just know a few of them like me. So, on the 25th during the evening, in a few minutes, I convinced Cherine, a former Renault Sport colleague living near Paris who has the same knowledge of prototyping as me, to join the project as well.</p>



<p><strong>On the 26th, I joined the MakAir core team, choosing to confine myself with 17 other people to make project MakAir a reality</strong>. Cherine came from Paris the same day I came from Brest. At the same time in France, 100 people were already helping us remotely. </p>



<p>I brought with me all my personal tools, from soldering iron to oscilloscope, and tons of components. </p>



<figure><blockquote><p>If I had been told this would last 25 days, I would have brought more than 3 days of clothing!</p></blockquote></figure>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1024x682.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1024x682.jpg" alt="working in the Palace, Nantes" width="509" height="339" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328.jpg 2000w" data-sizes="(max-width: 509px) 100vw, 509px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6328.jpg 2000w"><figcaption>One sleepless night later, the first functional prototype was up.</figcaption></figure></div>







<p>Three days later, <strong>the <a href="http://www.cea.fr/" target="_blank" rel="noreferrer noopener">CEA</a></strong> (french government agency for atomic energy) is now supporting us. On the 31<sup>st</sup> of March, we all moved from Nantes to Grenoble CEA facility, traveling on a nearly empty motorway.</p>



<p>The first prototype had basic electronics: STM32 Nucleo, a small 4 lines screen, a few buttons, a good precision pressure sensor, and several servo outputs. <strong>This first prototype allows us to make a pig breath for 4 hours</strong> on the 3rd of April, only 2 weeks after the project started.</p>



<figure><ul><li><figure><img loading="lazy" width="1024" height="682" src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1024x682.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1024x682.jpg" alt="" data-id="11640" data-link="https://blog.senx.io/?attachment_id=11640" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336.jpg 2000w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6336.jpg 2000w"><figcaption>The first prototype board...</figcaption></figure></li><li><figure><img loading="lazy" width="1024" height="682" src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1024x682.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1024x682.jpg" alt="" data-id="11641" data-link="https://blog.senx.io/?attachment_id=11641" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337.jpg 2000w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1024x682.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337-600x400.jpg 600w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6337.jpg 2000w"><figcaption>Stacking a Nucleo F411 with pressure sensor, keyboard, screen.</figcaption></figure></li><li><figure><img loading="lazy" width="1024" height="768" src="https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c.jpeg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c.jpeg" alt="" data-id="11748" data-full-url="https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c.jpeg" data-link="https://blog.senx.io/?attachment_id=11748" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c.jpeg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c-300x225.jpeg 300w, https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c-768x576.jpeg 768w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c.jpeg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c-300x225.jpeg 300w, https://blog.senx.io/wp-content/uploads/2020/09/4C103809-C6CC-423D-B054-48B8C853F29E_1_105_c-768x576.jpeg 768w"><figcaption>First wood prototype</figcaption></figure></li></ul></figure>



<h2>Enters the Raspberry Pi</h2>



<p>What we learned from the first test on a pig:</p>



<ul><li>The ventilator did the job. The pig was alive and woke up correctly.</li><li><strong>There is a huge UX problem.</strong></li><li>The airflow measurement is really helpful.</li></ul>



<p>The experts from the medical world are now used to high-tech screens displaying curves with not only pressure, but real-time air volume blown into the patient lungs. Even in crisis time, we understand that our product does not meet their minimum UI/UX needs.</p>



<figure><img loading="lazy" width="1024" height="418" src="https://blog.senx.io/wp-content/uploads/2020/09/image-4-1024x418.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/image-4-1024x418.jpg" alt="difference of UX between first MakAir screen and a recent ventilator" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-4-1024x418.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-300x123.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-768x314.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-1536x627.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/image-4.jpg 1660w" data-sizes="(max-width: 1024px) 100vw, 1024px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-4-1024x418.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-300x123.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-768x314.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/image-4-1536x627.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/image-4.jpg 1660w"><figcaption>Makair prototype on the left, a recent ventilator on the right. <br>Both can save life, but UX gap is huge!</figcaption></figure>



<p>Always listen to the users. Even if we succeed in mass production of an open-source ventilator, if doctors want curves and measures of the number of air liters entering the lungs, we must do it. </p>



<p>Since the beginning, this project is time driven. We never consider the price, but we always look at worldwide stocks. In a time where lots of plants are closed in Europe, <strong>the supply chain is leading the project.</strong></p>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited.jpg" alt="inside the v1 of the MakAir" width="522" height="347" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited.jpg 1378w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-1024x683.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-600x400.jpg 600w" data-sizes="(max-width: 522px) 100vw, 522px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited.jpg 1378w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-1024x683.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6374-edited-600x400.jpg 600w"><figcaption>Scooter lead-acid batteries. Because these are the most available batteries in the word.</figcaption></figure></div>



<p>So, what is the world's most available touch screen? </p>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/image-2.png" data-src="https://blog.senx.io/wp-content/uploads/2020/09/image-2.png" alt="farnell stocks" width="616" height="217" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-2.png 832w, https://blog.senx.io/wp-content/uploads/2020/09/image-2-300x106.png 300w, https://blog.senx.io/wp-content/uploads/2020/09/image-2-768x270.png 768w" data-sizes="(max-width: 616px) 100vw, 616px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-2.png 832w, https://blog.senx.io/wp-content/uploads/2020/09/image-2-300x106.png 300w, https://blog.senx.io/wp-content/uploads/2020/09/image-2-768x270.png 768w"><figcaption>(and 18000 more at radiospares)</figcaption></figure></div>



<p>As I just said, the supply chain rules the project. MakAir will have a raspberry to display curves. Nice coincidence for an open-source project!</p>



<p>By the way, the mass flow meter sensor was a huge problem. Since the beginning, MakAir did not want to disturb the production of existing ventilators. But this component is on the airway, it should be approved for medical use. In April, it was impossible to source any Sensirion or Honeywell mass flow sensors... Anyway, the next test will be done with a raspberry connected to the STM32. </p>







<h2>Enter Warp&nbsp;10</h2>



<p>On the 17th of April, the first batch of ventilators built in the CEA clean-rooms was ready. This batch was used for the 1st clinical tests. </p>



<p><strong>The pressure switches from the technical team to the regulatory team, remotely working on the project since the beginning. </strong></p>



<p>To prepare the next batch, we came back to Nantes. After 25 days, we switched from commando mode (18h/day, 7 days a week) to a more standard week (14h/day, the weekends with the family).</p>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1024x768.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1024x768.jpg" alt="MakAir team in the CEA cleanroom with prototypes" width="521" height="390" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1024x768.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-300x225.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-768x576.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1536x1152.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752.jpg 2016w" data-sizes="(max-width: 521px) 100vw, 521px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1024x768.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-300x225.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-768x576.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752-1536x1152.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_5752.jpg 2016w"><figcaption>Tyvek sterile clothing in a cleanroom. Could not be better for medical device assembly. Thanks to the CEA.</figcaption></figure></div>



<p>On the 30<sup>th</sup> of April, the prototype with a Raspberry Pi is ready for the next animal test. Two people had to fly to Grenoble CEA with this prototype, but the rest of us, and all the people remotely working on the project wanted to follow the experience. </p>



<p>So, the night before the test, I quickly deployed Warp&nbsp;10 on the raspberry and wrote a small script to copy data every 10s to another Warp&nbsp;10 server.</p>


<span><span><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fblog.senx.io%2F%3Fp%3D11630&amp;text=MakAir%3A%20the%20birth%20of%20the%20first%20open-source%20data-enabled%20ventilator.%20From%20the%20first%20prototype%20to%20more%20modern%20UX%2C%20thanks%20to%20Raspberry%20Pi.&amp;via=SenXHQ&amp;related=SenXHQ" target="_blank" rel="noopener noreferrer">MakAir: the birth of the first open-source data-enabled ventilator. From the first prototype to more modern UX, thanks to Raspberry Pi. </a></span><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fblog.senx.io%2F%3Fp%3D11630&amp;text=MakAir%3A%20the%20birth%20of%20the%20first%20open-source%20data-enabled%20ventilator.%20From%20the%20first%20prototype%20to%20more%20modern%20UX%2C%20thanks%20to%20Raspberry%20Pi.&amp;via=SenXHQ&amp;related=SenXHQ" target="_blank" rel="noopener noreferrer">Click To Tweet</a></span>


<p>What is <a href="https://www.warp10.io/" target="_blank" rel="noreferrer noopener">Warp&nbsp;10</a>? It is a time series platform. But unlike other TSDB (Time Series Database), there is a full analysis environment behind, and even a task scheduler. Compress time series, replicate to another server while managing network outage is really easy. Same tooling on the server and the connected object, that what I call easy IoT. To stream data, you just need a few WarpScript functions among <a href="https://www.warp10.io/doc/functionList" target="_blank" rel="noreferrer noopener">the thousand available</a>.</p>



<p>Basically, the WarpScript pseudo code is:</p>



<pre><code>- Read the last value of makair.lastupload GTS
- take the last tick as start
- take now as end
- fetch locally all the makair GTS from start to end
- WRAP all the GTS
- build a script that UNWRAP and UPDATE the data
- do a remote execution of the script with REXEC 
- if the REXEC was a success, store end in makair.lastupload</code></pre>



<p>You can follow the <a href="https://www.warp10.io/content/04_Tutorials/01_WarpScript/30_Server_to_Server" target="_blank" rel="noreferrer noopener">server to server tutorial</a> to implement such a WarpScript, then save it as $WARP10HOME/warpscripts/makair/10000/upload_data.mc2 to schedule an execution every 10s.</p>



<p>To display data in real-time, <a href="http://studio.senx.io/" target="_blank" rel="noreferrer noopener">WarpStudio</a> did the job easily too. Autorefresh of the DataViz every 10s is a built-in function:</p>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/image-3.png" data-src="https://blog.senx.io/wp-content/uploads/2020/09/image-3.png" alt="autorefresh settings of the MakAir test" width="522" height="385" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-3.png 575w, https://blog.senx.io/wp-content/uploads/2020/09/image-3-300x221.png 300w" data-sizes="(max-width: 522px) 100vw, 522px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/image-3.png 575w, https://blog.senx.io/wp-content/uploads/2020/09/image-3-300x221.png 300w"><figcaption>In the dataviz tab of WarpStudio.</figcaption></figure></div>







<p>Around 30 lines of code to allow all the MakAir team to follow the pressure inside the pig lungs in real-time!</p>



<div><figure><img loading="lazy" src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1024x683.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1024x683.jpg" alt="real time display" width="516" height="343" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1024x683.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-2048x1365.jpg 2048w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-600x400.jpg 600w" data-sizes="(max-width: 516px) 100vw, 516px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1024x683.jpg 1024w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-300x200.jpg 300w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-768x512.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-1536x1024.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-2048x1365.jpg 2048w, https://blog.senx.io/wp-content/uploads/2020/09/DSC_6580-70pc-600x400.jpg 600w"><figcaption>WarpStudio on a 60" 4k display, that's a nice dashboard.</figcaption></figure></div>







<h2>Next steps</h2>



<p>MakAir ventilators are designed to store everything in the <a href="https://warp10.io/" target="_blank" rel="noreferrer noopener">Warp&nbsp;10</a> time series database. They also have built-in WiFi and LoRa. All these features are not yet available, because the priority is still to make an open-source approved ventilator. </p>



<figure><ul><li><figure><img loading="lazy" width="225" height="300" src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-scaled.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-225x300.jpg" alt="" data-id="11728" data-full-url="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-scaled.jpg" data-link="https://blog.senx.io/?attachment_id=11728" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-225x300.jpg 225w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-768x1024.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-1152x1536.jpg 1152w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-1536x2048.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-scaled.jpg 1920w" data-sizes="(max-width: 225px) 100vw, 225px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-225x300.jpg 225w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-768x1024.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-1152x1536.jpg 1152w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-1536x2048.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171307-scaled.jpg 1920w"><figcaption>Revision 3 has a Raspberry screen on top of the small screen.</figcaption></figure></li><li><figure><img loading="lazy" width="225" height="300" src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-scaled.jpg" data-src="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-225x300.jpg" alt="" data-id="11727" data-full-url="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-scaled.jpg" data-link="https://blog.senx.io/?attachment_id=11727" data-srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-225x300.jpg 225w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-768x1024.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-1152x1536.jpg 1152w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-1536x2048.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-scaled.jpg 1920w" data-sizes="(max-width: 225px) 100vw, 225px" srcset="https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-225x300.jpg 225w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-768x1024.jpg 768w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-1152x1536.jpg 1152w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-1536x2048.jpg 1536w, https://blog.senx.io/wp-content/uploads/2020/09/IMG_20200519_171259-scaled.jpg 1920w"><figcaption>The Raspberry Pi connected to the mainboard</figcaption></figure></li></ul></figure>



<p>Connected features + open-source software is an enabler for doctors and researchers to perform extensive data collection and try new algorithms in the machine. Warp&nbsp;10 is the best open source time series database to <a href="https://blog.senx.io/warp-10-for-iot-gdpr-compliant-before-gdpr-even-existed/" target="_blank" rel="noreferrer noopener">securely</a> store medical data and analyze it. It's not a walled garden.</p>



<p>If you need to connect medical devices to a time series database, <a href="mailto:contact@senx.io" target="_blank" rel="noreferrer noopener">just ask us</a>.</p>



<p>MakAir is now entering the second phase of clinical tests. We can consider we are halfway to the goal. Keep in mind that among all the projects of ventilators announced by big companies, MakAir is the only one to reach the clinical tests step. <a href="https://makair.life/" target="_blank" rel="noreferrer noopener">200 people, backed up by CEA and a few french companies</a> are about to make a commercially available open source ventilator... </p>



<p>That's crazy when you think about it!</p>



<p>Learn more about the MakAir project on <a href="http://makair.life/" target="_blank" rel="noreferrer noopener">makair.life</a>.</p>
<!-- relpost-thumb-wrapper --><!-- close relpost-thumb-wrapper -->      
           
    </article></div>]]>
            </description>
            <link>https://blog.senx.io/makair-covid-19-ventilator-with-a-raspberry-pi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25670303</guid>
            <pubDate>Thu, 07 Jan 2021 12:34:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can we afford to ignore Bitcoin?]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25669029">thread link</a>) | @Arturclancy
<br/>
January 7, 2021 | https://orujaliev.com/invest-in-bitcoin/ | <a href="https://web.archive.org/web/*/https://orujaliev.com/invest-in-bitcoin/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="mainContentOfPage">
		
<p><em>It is interesting again at the cryptocurrency market if you have missed the latest news. The price of Bitcoin has broken records of the three-year remoteness, with a rate of over $30,000. Opinions about the future of the coin are divided – some believe that we are facing another bubble. In contrast, others believe that the financial market will no longer be the same and that Bitcoin will be much more expensive in the long run. I admit I am not quite sure what is going on. But I am sure ignoring it is at least weird, so I tried to figure out a little bit about what is going on, and in this article, I am going to share my thoughts on whether it is worth invest in Bitcoin.</em></p>



<figure><img loading="lazy" width="1024" height="846" src="http://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-1024x846.png" alt="Bitcoin to dollar rate - Should you invest in Bitcoin?" title="Bitcoin to dollar rate" srcset="https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-1024x846.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-300x248.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-768x634.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-1536x1269.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05-700x578.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/coindesk-BTC-chart-2021-01-05.png 1770w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong><em>Bitcoin to dollar rate</em></strong></figcaption></figure>



<h2>Reasons to pay attention to Bitcoin</h2>



<p>If you have entirely closed financial affairs, enough life savings, and complete confidence in the reliability of the financial instruments you use, then you do not have to.</p>



<p>Similarly, if you believe that your daily needs are at the level you need at any time in your life, they will always be closed by your salary or business income. Namely, you are the kind of person who believes that there is real stability in our rapidly changing world with the regularly appearing “The Black Swan”.</p>



<p>Put, you either have enough money, or you have modest needs and indiscreet self-confidence. In that case, I guess you do not have to.</p>



<p>I am in a different situation. I do not believe in stability and see the absence of demand for many “lifelong professions” and the devaluation of savings and the meager pensions that people have worked for decades.</p>



<p>For that reason, I am interested in risk diversification. In professions, in businesses, in financial instruments. The latter today is the talk. I am willing to explore and consider any possibility to save the money I make and multiply it.</p>



<p>Bitcoin is such a tool. Subprime, perhaps with a foggy future – but a tool. And therefore – it is, at least, worthy of study.</p>



<h2>How to save money</h2>



<p>Some «experts» <a href="https://cointelegraph.com/news/top-6-bitcoin-price-predictions-to-watch-in-2021">claim</a> that the price of Bitcoin will reach $100,000, others forecast $300,000, of course, some say that even the figure of $1,000,000 for BTC is quite real. But what (and when, which is no less critical) will be the course, no one knows. All these statements are more like the publicity move of those who make them.</p>



<p>I am more interested in the other thing. When we talk about the Bitcoin rate, we peg it, for example, to US dollar. As we think it is the most reliable currency. But if we are talking about retaining the money for a long time, no financial advisor will ever advise you to keep all the money in it. The investment code indicates that it is necessary to buy different currencies and use other financial instruments (for example, stocks and bonds) to cover risks.</p>



<p>The dollar is rapidly going cheaper. Or everything becomes expensive. You can call it anything you want, but the point is the same. Everyone has examples. Some people rely on official statistics. I will bring out my life’s specifics by just looking at the significant expenses in my wallet. Ten years ago, the iPhone was sold for $499. A standard hotel room could be rented for $50. The price of real estate 20-30 years ago is not even worth remembering.</p>



<p>It is about inflation and about the complex interest that is often the problem. We may think that the numbers are changing slowly, but how in investment capitalisation of interest rates creates miracles and inflation produces a rapid depreciation of savings.</p>



<p>Let us talk about the US. The country with a strong economy, producing the dollar we are talking about. The average annual official <a href="https://www.usinflationcalculator.com/inflation/current-inflation-rates/">inflation</a> is 2.06%. Many may even say that it can be neglected. Perhaps. If it were not for the capitalization of interest. The purchasing power of $100 in 2000 is equal to the purchasing power of $150 in 2020. And that’s average, groceries have gone up less, and for example, education have gone up much more.</p>



<figure><img loading="lazy" width="1024" height="649" src="http://orujaliev.com/wp-content/uploads/2021/01/usdinflation-1024x649.png" alt="The purchasing power of the dollar considering «small» inflation 2% annual - Should you invest in Bitcoin?" title="The purchasing power of the dollar considering «small» inflation 2% annual - Should you invest in Bitcoin?" srcset="https://orujaliev.com/wp-content/uploads/2021/01/usdinflation-1024x649.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/usdinflation-300x190.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/usdinflation-768x487.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/usdinflation-1536x974.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/usdinflation-700x444.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/usdinflation.png 1820w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong><em><strong><em>The purchasing power of the dollar considering «small» inflation 2% annual&nbsp;</em></strong></em></strong></figcaption></figure>



<p>And so, again, back to the primary council on finance: to save, you must diversify risks. Real estate, gold, stocks – everyone chooses their instruments.</p>



<blockquote><p>We must remember – person who does not choose any financial instruments and keeps his dollars in bank account is getting poorer.</p></blockquote>



<p>The stock market has been considered a haven for many years. If you do not take a significant risk and do not try to overplay the market – it does help save, at least by covering inflation and, as a maximum allowing you to make money on investments.</p>



<p>But what we see today? Because of the Covid-19 pandemic, vast numbers of people were unemployed, and governments began to pay them various benefits. To cover the budget deficit, $3.5 trillion was <a href="https://www.usatoday.com/in-depth/money/2020/05/12/coronavirushow-u-s-printing-dollars-save-economy-during-crisis-fed/3038117001/">printed</a> only in the United States. Just think about the number of new money that was newly printed and put on the market. We will not even talk about the fact that the dollar <a href="https://www.investopedia.com/ask/answers/09/gold-standard.asp">has not been backed </a>by gold for 50 years.&nbsp;</p>



<p>What happened in the stock market in 2020 could not be imagined by even the most optimistic analyst. In a year of pandemics, mass unemployment, and stagnant economies, it grows like crazy.</p>



<figure><img loading="lazy" width="1024" height="655" src="http://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-1024x655.png" alt="Dow Jones index in 2020 - Should you invest in Bitcoin?
" title="Dow Jones index in 2020 - Should you invest in Bitcoin?" srcset="https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-1024x655.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-300x192.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-768x491.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-1536x983.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1-700x448.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/dowjoneschart2020-1.png 1744w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><em>Dow Jones index in 2020</em><br></figcaption></figure>



<p>There is no tourism. Restaurants are closed. The State prints and gives out money. People spend it on stocks. Now it’s so conveniently done on the mobile app that even regulators already have <a href="https://edition.cnn.com/2020/12/17/investing/robinhood-sec-settlement-deceptive-practices/index.html">questions</a> about this simplicity and gameplay.</p>



<p>People who never cared about stocks went to the stock market. And they started buying familiar brands. Economics? No, no one else cares. All that matters are the names that are in the public eye. Tesla’s case study is that the capitalization of the company has grown almost tenfold over the year. And its sales <a href="https://www.macrotrends.net/stocks/charts/TSLA/tesla/revenue">went</a> up…15 percent.</p>



<figure><img loading="lazy" width="1024" height="518" src="http://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-1024x518.png" alt="Tesla stock price in 2020 - Should you invest in Bitcoin?" title="Tesla stock price in 2020 - Should you invest in Bitcoin?" srcset="https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-1024x518.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-300x152.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-768x388.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-1536x776.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1-700x354.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/teslachart2020-2048x1035-1.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong><em>Tesla stock price in 2020</em></strong></figcaption></figure>



<p>Whether there will be a collapse is not a valid question. A more appropriate question is when it will be. Even the most experienced experts are difficult to answer. Politicians have come into play, and the printing press is not yet scheduled to shut down. I do not doubt that there is a bubble in the stock market.</p>



<h2>And Bitcoin growth in 2020 is not a bubble?</h2>



<p>Now let us look at what is going on in the cryptocurrency market. At first glance, the situation there is remarkably similar to the stock market. Coins are rapidly expensive, and events are reminiscent of 2017. But there are several significant differences.</p>



<h3>Bitcoin has not risen in price due to media publications</h3>



<p>It only got on the news agenda after the price exceeded the three-year-old record. And if in 2017 the attention of «housewives» was focused on cryptocurrencies, today they do not invest in bitcoin – their focus is the stock market. In Google Trends, Bitcoin awareness has <a href="https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=bitcoin">increased</a>, but it is by order of magnitude less than three years earlier.</p>



<figure><img loading="lazy" width="1024" height="361" src="http://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-1024x361.png" alt="Interest to Bitcoin in Google Trends - Should you invest in Bitcoin?" title="Interest to Bitcoin in Google Trends - Should you invest in Bitcoin?" srcset="https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-1024x361.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-300x106.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-768x270.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-1536x541.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1-700x246.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoingoogletrends-2048x721-1.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong><em>Interest to Bitcoin in Google Trends</em></strong></figcaption></figure>



<h3>Institutional investors join the Bitcoin market</h3>



<p>The growth of 2020 is mainly due to the investment business entry. Quoted on the stock market, MicroStrategy also invest in bitcoin – company <a href="https://www.bloomberg.com/news/articles/2020-12-07/microstrategy-to-raise-400-million-to-buy-even-more-bitcoin">purchased</a> 38,250 btc this year (at current rates of $1 billion). The largest payment services, Stripe and PayPal, began working with this cryptocurrency. Square allows customers to use the cryptocurrency as payment, and PayPal <a href="https://newsroom.paypal-corp.com/2020-10-21-PayPal-Launches-New-Service-Enabling-Users-to-Buy-Hold-and-Sell-Cryptocurrency">permitted</a> customers to buy Bitcoin directly from their PayPal accounts.</p>



<p>More and more professional invest in Bitcoin. Even the conservative Ray Dalio (the CEO of one of the largest funds) recently stated that he might have been very categorical and not even right about the future of Bitcoin. “I need to look at the Bitcoin and study it more”, – he recently <a href="https://news.bitcoin.com/ray-dalio-bitcoin/">stated</a>. Cryptocurrencies are added to the portfolios of Ark Investment Management, Fidelity Investments, and other funds. And not just investments funds. Even some pension funds are <a href="https://www.coindesk.com/pension-funds-double-crypto-asset-exposure-in-morgan-creeks-fund-to-1">starting</a> to invest in Bitcoin a small portion of their capital.</p>



<h3>Bitcoin is an alternative</h3>



<p>As mentioned earlier, in 2020, everything around us is volatile. Everything is feverish. Somewhere, bubbles are blowing up; somewhere; economies are falling. And capital, again, is looking for diversification. Because there is a lot of money globally, even a tiny fraction of it going to Bitcoin can cause the too high growth we see right now. Growth is driven by investment demand.</p>



<h2>Why bitcoin?</h2>



<p>Even those who are not familiar with the subject of cryptocurrencies have heard that <a href="https://orujaliev.com/invest-in-bitcoin/">Bitcoin is not the only cryptocurrency</a>. There are thousands of cryptocurrencies. So why we talk about Bitcoin?</p>



<p>Bitcoin is finite. It is digital gold. Only much more convenient and liquid. The algorithm is programmed to make just 21 million coins. Now 18.5 million have been mined, but let us not forget that about 4 million are irretrievably lost according to various estimates. Theoretically, the algorithm can be modified, but to do so, 51% of the miners must join and vote for it. The situation is almost impossible because it will make their assets cheaper. </p>



<p>If you invest in bitcoin, bought one coin, you have and will have one. No State or politician can turn on the printing press and blur your share. Bitcoin is popular. There are hundreds of social networks globally, but Facebook owns the market because it overcame the critical group of users, and eventually, more people come there. Cryptocurrencies are similar. There are thousands coins. But <a href="https://www.tradingview.com/markets/cryptocurrencies/global-charts/">70 percent of all capitalization is Bitcoin</a>. If I may say so, it is a market standard. Attempts to create an alternative have been made and are underway, but none of them have succeeded precisely for that reason.</p>



<figure><img loading="lazy" width="1024" height="724" src="http://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-1024x724.png" alt="The share of bitcoin in the cryptocurrency market exceeds 70%
" srcset="https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-1024x724.png 1024w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-300x212.png 300w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-768x543.png 768w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-1536x1087.png 1536w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare-700x495.png 700w, https://orujaliev.com/wp-content/uploads/2021/01/bitcoinmarketshare.png 1764w" sizes="(max-width: 1024px) 100vw, 1024px"><figcaption><strong><em>The share of bitcoin in the cryptocurrency market exceeds 70%</em></strong></figcaption></figure>



<p>Bitcoin is convenient. No, it is not suitable to buy pizza in a restaurant. It has other challenges and opportunities. For example, it is useful to transfer large amounts of money between countries or to carry capital. You can have as many millions as you want in the account, fly to wherever you want …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://orujaliev.com/invest-in-bitcoin/">https://orujaliev.com/invest-in-bitcoin/</a></em></p>]]>
            </description>
            <link>https://orujaliev.com/invest-in-bitcoin/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25669029</guid>
            <pubDate>Thu, 07 Jan 2021 09:25:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: How to setup contact form on static page with Amazon Lambda]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25666891">thread link</a>) | @jpomykala
<br/>
January 6, 2021 | https://jpomykala.com/2018/08/04/serverless-contact-form-on-static-page | <a href="https://web.archive.org/web/*/https://jpomykala.com/2018/08/04/serverless-contact-form-on-static-page">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
<p>If you are here I assume that you probably donâ€™t know PHP nor Wordpress, and so you decided to built a static web page or use some static
page generator like Jekyll, Grav or GatsbyJS. Right now your obvious option to provide ability to create a
contact from is using a <a href="https://formspree.io/">formspree.io</a> or something similar. Iâ€™m going to show you how to write your own contact form â€˜backendâ€™ in very short time.</p>
<p><img src="https://jpomykala.com/assets/2018-08-04/lambda.png" alt="lambda"></p>
<p>Please remember that this is not a step by step tutorial, Iâ€™m describing overall architecture with the code (<em>copy-paste ready</em> certification).
If you have any remarks, write a comment in section below or <a href="https://github.com/jpomykala/jpomykala.github.io/blob/master/_posts/2018-08-04-serverless-contact-form-on-static-page.md">create a Github issue</a>. ðŸ˜‰</p>
<h3 id="requirements">Requirements</h3>
<ul>
<li>minimal knowledge about <a href="https://aws.amazon.com/">Amazon Web Services</a></li>
<li>basic JavaScript skills</li>
</ul>
<h3 id="used-technologies">Used technologies</h3>
<ul>
<li><a href="https://aws.amazon.com/lambda/">Amazon Lambda</a></li>
<li><a href="https://aws.amazon.com/ses/">Amazon SES</a></li>
<li><a href="https://aws.amazon.com/api-gateway/">Amazon API Gateway</a></li>
</ul>
<h3 id="demo">Demo</h3>
<p>Same technique I used in many websites, here is one example.</p>
<p><a href="https://vendingmetrics.com/contact">https://vendingmetrics.com/contact</a></p>
<p>So far I didnâ€™t have any issue with this solution.</p>
<h3 id="build-environment">Build environment</h3>
<p>If you are familiar with used technologies the diagram should be pretty straightforward for you.</p>
<p><img src="https://jpomykala.com/assets/2018-08-04/architecture-diagram.png" alt="aws-lambda-function"></p>
<p>Static web page should be gathering data from contact form, validate and send them using XHR Fetch, jQuery or in
other way to API Gateway by POST method. API Gateway will invoke Lambda function, and the Lambda function will invoke
our JavaScript code where we parse POST request, do some custom logic and call <code>sendEmail(...)</code> on SES service.</p>
<h3 id="0-verify-e-mail-address">0. Verify e-mail address</h3>
<p>E-mail address verification can be done <a href="https://eu-west-1.console.aws.amazon.com/ses/home?region=eu-west-1#verified-senders-email:">here (eu-west-1)</a></p>
<p><img src="https://jpomykala.com/assets/2018-08-04/ses-verification.png" alt="ses-verification"></p>
<h3 id="1-lambda-function">1. Lambda Function</h3>
<p>We will start with creating Lambda function and choosing NodeJS 8.1 environment.</p>
<p><a href="https://gist.github.com/jpomykala/a3548903e3454f7d65443053ec412b65">The full code can be found on GitHub Gist</a></p>
<h6 id="import-aws-sdk">import <code>aws-sdk</code></h6>
<p>When we have prepared environment we can start to implement the function. First important thing is that we need to import <code>aws-sdk</code> to use SES and other Amazon services.</p>
<figure><pre><code data-lang="javascript"><span>var</span> <span>aws</span> <span>=</span> <span>require</span><span>(</span><span>"</span><span>aws-sdk</span><span>"</span><span>);</span></code></pre></figure>
<p><a href="https://docs.aws.amazon.com/sdk-for-javascript/index.html">Link to <code>aws-sdk</code> documentation</a></p>
<h6 id="lambda-responses">Lambda responses</h6>
<p>Success and error responses. This part is more important than you think. If we return wrong JSON from lambda function to API Gateway,
the client (contact form in this case) will get HTTP 500 status. Code will be invoked and email sent anyway, but itâ€™s just a good practise to
follow the documentation.</p>
<figure><pre><code data-lang="javascript"><span>const</span> <span>successResponse</span> <span>=</span> <span>{</span>
    <span>"</span><span>statusCode</span><span>"</span><span>:</span> <span>200</span><span>,</span>
    <span>"</span><span>headers</span><span>"</span><span>:</span> <span>{</span>
        <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>application/json</span><span>"</span><span>,</span>
    <span>},</span>
    <span>"</span><span>body</span><span>"</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>({</span> <span>message</span><span>:</span> <span>"</span><span>:)</span><span>"</span> <span>}),</span>
    <span>"</span><span>isBase64Encoded</span><span>"</span><span>:</span> <span>false</span>
<span>};</span>

<span>const</span> <span>errorResponse</span> <span>=</span> <span>{</span>
    <span>"</span><span>statusCode</span><span>"</span><span>:</span> <span>500</span><span>,</span>
    <span>"</span><span>headers</span><span>"</span><span>:</span> <span>{</span>
        <span>"</span><span>Content-Type</span><span>"</span><span>:</span> <span>"</span><span>application/json</span><span>"</span><span>,</span>
    <span>},</span>
    <span>"</span><span>body</span><span>"</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>({</span> <span>message</span><span>:</span> <span>"</span><span>something bad happen, check logs</span><span>"</span> <span>}),</span>
    <span>"</span><span>isBase64Encoded</span><span>"</span><span>:</span> <span>false</span>
<span>};</span></code></pre></figure>
<h6 id="check-is-domain-allowed">Check is domain allowed</h6>
<p>By using this function we can easily turn on and off e-mail sending from certain domains.</p>
<figure><pre><code data-lang="javascript"><span>const</span> <span>extractDomain</span> <span>=</span> <span>(</span><span>emailAddress</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>const</span> <span>emailSplit</span> <span>=</span> <span>emailAddress</span><span>.</span><span>split</span><span>(</span><span>'</span><span>@</span><span>'</span><span>);</span>
    <span>const</span> <span>arraySize</span> <span>=</span> <span>emailSplit</span><span>.</span><span>length</span><span>;</span>
    <span>if</span><span>(</span><span>arraySize</span> <span>&lt;</span> <span>2</span><span>){</span>
        <span>console</span><span>.</span><span>warn</span><span>(</span><span>"</span><span>Domain not found for email:</span><span>"</span><span>,</span> <span>emailAddress</span><span>);</span>
        <span>return</span> <span>""</span><span>;</span>
    <span>}</span>
    
    <span>return</span> <span>emailSplit</span><span>[</span><span>arraySize</span> <span>-</span> <span>1</span><span>];</span>
<span>}</span>

 <span>const</span> <span>allowedDomains</span> <span>=</span> <span>[</span><span>'</span><span>example.com</span><span>'</span><span>,</span> <span>'</span><span>jpomykala.me</span><span>'</span><span>,</span> <span>'</span><span>yourdomain.com</span><span>'</span><span>];</span>
 <span>const</span> <span>isDomainAllowed</span> <span>=</span> <span>(</span><span>domain</span><span>)</span> <span>=&gt;</span> <span>allowedDomains</span><span>.</span><span>includes</span><span>(</span><span>domain</span><span>);</span></code></pre></figure>
<h6 id="e-mail-message">E-mail message</h6>
<p>This is a true strength of this solution. We are passing whole Javascript object from contact form to e-mail formatted
with <code>&lt;pre&gt;&lt;/pre&gt;</code> tags and <code>JSON.stringify</code>.</p>
<figure><pre><code data-lang="javascript"><span>const</span> <span>getEmailMessage</span> <span>=</span> <span>(</span><span>request</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>{</span>
        <span>Body</span><span>:</span> <span>{</span>
            <span>Html</span><span>:</span> <span>{</span>
                <span>Charset</span><span>:</span> <span>"</span><span>UTF-8</span><span>"</span><span>,</span>
                <span>Data</span><span>:</span> <span>`
                    &lt;body&gt;
                    &lt;p&gt;</span><span>${</span><span>request</span><span>.</span><span>message</span><span>}</span><span>&lt;/p&gt;
                    &lt;pre&gt;</span><span>${</span><span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>request</span><span>,</span> <span>undefined</span><span>,</span> <span>2</span><span>)}</span><span>&lt;/pre&gt;
                    &lt;/body&gt;
                    `</span>
            <span>}</span>
        <span>},</span>
        <span>Subject</span><span>:</span> <span>{</span>
            <span>Charset</span><span>:</span> <span>"</span><span>UTF-8</span><span>"</span><span>,</span>
            <span>Data</span><span>:</span> <span>`New submission`</span>
        <span>}</span>
    <span>}</span>
<span>}</span></code></pre></figure>
<h6 id="send-e-mail-by-ses">Send e-mail by SES</h6>
<p>The most important part of this function is of course sending email by SES. We create a params with message,
subject and <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/SES.html">all other options which can be found here.</a></p>
<figure><pre><code data-lang="javascript"> <span>const</span> <span>params</span> <span>=</span> <span>{</span>
        <span>Destination</span><span>:</span> <span>{</span>
            <span>ToAddresses</span><span>:</span> <span>[</span><span>sendToEmail</span><span>]</span>
        <span>},</span>
        <span>Message</span><span>:</span> <span>emailMessage</span><span>,</span>
        <span>Source</span><span>:</span> <span>`</span><span>${</span><span>request</span><span>.</span><span>name</span> <span>||</span> <span>"</span><span>Unknown</span><span>"</span><span>}</span><span> &lt;<a href="https://jpomykala.com/cdn-cgi/l/email-protection" data-cfemail="a7dec8d2d5f8d1c2d5cec1cec2c3f8c2cac6cecbf8cec9f8d4c2d4e7c0cac6cecb89c4c8ca">[email&nbsp;protected]</a>&gt;`</span><span>,</span>
        <span>ReplyToAddresses</span><span>:</span> <span>[</span><span>request</span><span>.</span><span>_replyTo</span><span>]</span>
    <span>};</span>


    <span>const</span> <span>sendPromise</span> <span>=</span> <span>new</span> <span>aws</span><span>.</span><span>SES</span><span>()</span>
        <span>.</span><span>sendEmail</span><span>(</span><span>params</span><span>)</span>
        <span>.</span><span>promise</span><span>();</span>

    <span>await</span> <span>sendPromise</span>
        <span>.</span><span>then</span><span>(</span><span>data</span> <span>=&gt;</span> <span>{</span>
            <span>console</span><span>.</span><span>log</span><span>(</span><span>`E-mail sent to </span><span>${</span><span>sendToEmail</span><span>}</span><span>`</span><span>);</span>
            <span>console</span><span>.</span><span>log</span><span>(</span><span>successResponse</span><span>);</span>
            <span>callback</span><span>(</span><span>null</span><span>,</span> <span>successResponse</span><span>);</span>
        <span>})</span>
        <span>.</span><span>catch</span><span>(</span><span>err</span> <span>=&gt;</span> <span>{</span>
            <span>console</span><span>.</span><span>log</span><span>(</span><span>"</span><span>E-mail NOT sent</span><span>"</span><span>,</span> <span>err</span><span>);</span>
            <span>console</span><span>.</span><span>log</span><span>(</span><span>errorResponse</span><span>);</span>
            <span>callback</span><span>(</span><span>errorResponse</span><span>);</span>
        <span>});</span></code></pre></figure>
<p>Now we can deploy our function and move to API Gateway.</p>
<p><img src="https://jpomykala.com/assets/2018-08-04/send-mail-fuction-aws.png" alt="aws-lambda-function"></p>
<h3 id="2-api-gateway">2. API Gateway</h3>
<p>Setting up API Gateway for Lambda functions, should be straightforward. There is no need to code any thing, just click-and-play configuration.
In this case I setup my endpoint to receive any http method. For working contact form you will need only <code>http/post</code> method.
<img src="https://jpomykala.com/assets/2018-08-04/api-gateway.png" alt="api-gateway"></p>
<h6 id="things-to-remember">Things to remember</h6>
<ul>
<li>Every time we change something on endpoint configuration we need deploy API again to see changes. <code>Actions -&gt; Deploy API</code></li>
<li>Remember about setting up CORS while using API Gateway. <code>Actions -&gt; Enable CORS</code></li>
</ul>
<h3 id="3-contact-form-example">3. Contact form example</h3>
<h6 id="html-form">HTML form</h6>
<figure><pre><code data-lang="html"><span>&lt;form</span> <span>action=</span><span>"#"</span> <span>id=</span><span>"callbackForm"</span> <span>class=</span><span>"contact-form"</span><span>&gt;</span>
    <span>&lt;div</span> <span>class=</span><span>"form-group"</span><span>&gt;</span>
        <span>&lt;label</span> <span>for=</span><span>"email"</span><span>&gt;</span>Email<span>&lt;/label&gt;</span>
        <span>&lt;input</span> <span>type=</span><span>"email"</span> <span>required</span> <span>id=</span><span>"email"</span> <span>class=</span><span>"form-control"</span> <span>placeholder=</span><span>""</span> <span>autocomplete=</span><span>"email"</span> <span>name=</span><span>"email"</span> <span>/&gt;</span>
    <span>&lt;/div&gt;</span>
    <span>&lt;div</span> <span>class=</span><span>"form-group"</span><span>&gt;</span>
        <span>&lt;label</span> <span>for=</span><span>"name"</span><span>&gt;</span>Message<span>&lt;/label&gt;</span>
        <span>&lt;input</span> <span>id=</span><span>"message"</span> <span>type=</span><span>"text"</span> <span>class=</span><span>"form-control"</span> <span>placeholder=</span><span>""</span> <span>name=</span><span>"message"</span> <span>/&gt;</span>
    <span>&lt;/div&gt;</span>
    <span>&lt;button</span> <span>type=</span><span>"submit"</span> <span>id=</span><span>"sendMessageButton"</span> <span>class=</span><span>"btn btn-primary btn-block"</span><span>&gt;</span>
        Send message
    <span>&lt;/button&gt;</span>
<span>&lt;/form&gt;</span></code></pre></figure>
<h6 id="javascript">JavaScript</h6>
<figure><pre><code data-lang="html"><span>&lt;script&gt;</span>
        <span>$</span><span>(</span><span>"</span><span>#callbackForm</span><span>"</span><span>).</span><span>submit</span><span>(</span><span>function</span><span>(</span><span>e</span><span>)</span> <span>{</span>
            <span>e</span><span>.</span><span>preventDefault</span><span>();</span>
            <span>var</span> <span>replyTo</span> <span>=</span> <span>$</span><span>(</span><span>"</span><span>#email</span><span>"</span><span>);</span>
            <span>var</span> <span>message</span> <span>=</span> <span>$</span><span>(</span><span>"</span><span>#message</span><span>"</span><span>);</span>
            <span>var</span> <span>data</span> <span>=</span> <span>{</span>
                <span>"</span><span>_sendTo</span><span>"</span><span>:</span> <span>"</span><span>&lt;your_email&gt;</span><span>"</span><span>,</span>
                <span>"</span><span>_replyTo</span><span>"</span><span>:</span> <span>replyTo</span><span>.</span><span>val</span><span>(),</span>
                <span>"</span><span>message</span><span>"</span><span>:</span> <span>message</span><span>.</span><span>val</span><span>()</span>
            <span>};</span>
            <span>var</span> <span>url</span> <span>=</span> <span>"</span><span>&lt;API_GATEWAY_URL&gt;</span><span>"</span><span>;</span>
            <span>$</span><span>.</span><span>ajax</span><span>({</span>
                <span>url</span><span>:</span> <span>url</span><span>,</span>
                <span>type</span><span>:</span> <span>'</span><span>POST</span><span>'</span><span>,</span>
                <span>crossDomain</span><span>:</span> <span>true</span><span>,</span>
                <span>data</span><span>:</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span><span>data</span><span>),</span>
                <span>dataType</span><span>:</span> <span>'</span><span>json</span><span>'</span><span>,</span>
                <span>contentType</span><span>:</span> <span>"</span><span>application/json</span><span>"</span>
            <span>});</span>
        <span>});</span>
<span>&lt;/script&gt;</span></code></pre></figure>
<h3 id="conclusion">Conclusion</h3>
<p>We can scale this technique to multiple web pages with ease, but this solution in current form has few downsides.
For now the only one protection against DDoS or some similar attack is rate limiter included in Lambda function.
Right now there is no bot protection, no captcha or something like that. We can add Google re-captcha on the contact
form and setup rate limiting on both API Gateway and Lambda function, to avoid unnecessary costs.</p>
</div></div>]]>
            </description>
            <link>https://jpomykala.com/2018/08/04/serverless-contact-form-on-static-page</link>
            <guid isPermaLink="false">hacker-news-small-sites-25666891</guid>
            <pubDate>Thu, 07 Jan 2021 03:22:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Devastating Decline of a Brilliant Young Coder]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25666855">thread link</a>) | @mraza007
<br/>
January 6, 2021 | https://weekly.statuscode.com/link/100809/ac1fb866f8 | <a href="https://web.archive.org/web/*/https://weekly.statuscode.com/link/100809/ac1fb866f8">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><figure><div></div></figure><p><span>On Friday, September</span> 13, 2019, Matthew Prince and Michelle Zatlyn, cofounders of the San Francisco  <a href="https://www.wired.com/tag/cloudflare/">internet security firm Cloudflare</a>, stood on a slim marble balcony overlooking the floor of the New York Stock Exchange. A cluster of the company's executives stood near Prince, ready to shout out a countdown. “Louder! Loud!” Prince urged them. “Five! Four! Three! …” At 9:30 am sharp, the founders reached down to ring the exchange's famous bell, kicking off the day's trading and offering their 10-year-old company on the public market. It was a rite of passage and also their payday, a moment that unlocked many millions of dollars in newfound wealth.</p><p>More than 100 employees and investors cheered from the trading floor below, their phones held high to capture the scene. Kristin Holloway, employee number 11, looked up at the balcony and snapped photos, then popped them into a text to her husband, Lee Holloway, the company's third cofounder. He was home in California. Every so often, a familiar face pushed through the throng to say to her, “Lee should be here.”</p><p>In Cloudflare's early years, Lee Holloway had been the resident genius, the guy who could focus for hours, code pouring from his fingertips while death metal blasted in his headphones. He was the master architect whose vision had guided what began as a literal sketch on a napkin into a tech giant with some 1,200 employees and 83,000 paying customers. He laid the groundwork for a system that now handles more than 10 percent of all internet requests and <a href="https://www.wired.com/story/cloudflare-matthew-prince-wired25/">blocks billions of cyberthreats</a> per day. Much of the architecture he dreamed up is still in place.</p><p>But some years before the IPO, his behavior began to change. He lost interest in his projects and coworkers. He stopped paying attention in meetings. His colleagues noticed he was growing increasingly rigid and belligerent, resisting others' ideas, and ignoring their feedback.</p><p>Lee's rudeness perplexed his old friends. He had built his life around Cloudflare, once vowing to not cut his hair until the startup's web traffic surpassed that of Yahoo. (It took a few short months, or about 4 inches of hair.) He had always been easygoing, happy to mentor his colleagues or hang out over lunch. At a birthday party for Zatlyn, he enchanted some children, regaling them with stories about the joys of coding. The idea of Lee picking fights simply didn't compute.</p></div></div><div><div><p>He was becoming erratic in other ways too. Some of his colleagues were surprised when Lee separated from his first wife and soon after paired up with a coworker. They figured his enormous success and wealth must have gone to his head. “All of us were just thinking he made a bunch of money, married his new girl,” Prince says. “He kind of reassessed his life and had just become a jerk.”</p><p>The people close to Lee felt tossed aside. They thought he'd chosen to shed his old life. In fact, it was anything but a choice. Over the next few years, Lee's personality would warp and twist even more, until he became almost unrecognizable to the people who knew him best. Rooting out the cause took years of detective work—and forced his family to confront the trickiest questions of selfhood.</p><p>On the floor of the stock exchange that September morning, Lee's younger brother Alaric weathered the morning in a state of low-grade panic. He snapped selfies with early employees and fired them off in texts to his brother. Alaric had never worked at Cloudflare, and he knew barely anyone there. But his dark hair flopped over his forehead with the same distinctive swoop as his brother's, and his long, tapering face had the same dark eyes and olive skin. “It was surreal,” Alaric says. “People kept looking at me like they knew me.”</p><p>At home with his parents in San Jose, Lee, 38, was restless. He paced the rooms and hallways of the 1,550-square-foot house, a loop he'd been tracing since he'd moved in with them two years earlier. He didn't speak. His parents had the TV on, and they called him over whenever Prince or Zatlyn appeared onscreen.</p><p>Later, he paused at the family's Roku to search YouTube for videos of Cloudflare. Then he resumed his circuit: walking the halls, buzzing his lips, snacking on cashews.</p><figure><figcaption><span>Lee Holloway spends time with his youngest son at home on California's Central Coast.</span><span>Artwork by Amy Friend; Photograph by Jack Bool</span></figcaption></figure><p><span>What makes you</span>  <em>you</em>? The question cuts to the core of who we are, the things that make us special in this universe. The converse of the question raises another kind of philosophical dilemma: If a person <em>isn't</em> himself, who is he?</p><p>Countless philosophers have taken a swing at this elusive piñata. In the 17th century, John Locke pinned selfhood <a href="https://www.wired.com/tag/memory/">on memory</a>, using recollections as the thread connecting a person's past with their present. That holds some intuitive appeal: Memory, after all, is how most of us register our continued existence. But memory is unreliable. Writing in the 1970s, renowned philosopher Derek Parfit recast Locke's idea to argue that personhood emerges from a more complex view of psychological connectedness across time. He suggested that a host of mental phenomena—memories, intentions, beliefs, and so on—forge chains that bind us to our past selves. A person today has many of the same psychological states as that person a day ago. Yesterday's human enjoys similar overlap with an individual of two days prior. Each memory or belief is a chain that stretches back through time, holding a person together in the face of inevitable flux.</p></div></div><div><div><p>The gist, then, is that someone is “himself” because countless mental artifacts stay firm from one day to the next, anchoring that person's character over time. It's a less crisp definition than the old idea of a soul, offering no firm threshold where selfhood breaks down. It doesn't pinpoint, for example, how many psychological chains you can lose before you stop being yourself. <a href="https://www.wired.com/tag/neuroscience/">Neuroscience</a> also offers only a partial answer to the question of what makes you <em>you</em>.</p><p><a href="https://www.wired.com/tag/neural-networks/">Neural networks</a> encode our mental artifacts, which together form the foundation of behavior. A stimulus enters the brain, and electrochemical signals swoosh through your neurons, culminating in an action: Hug a friend. Sit and brood. Tilt your head up at the sun and smile. Losing some brain cells here or there is no big deal; the networks are resilient enough to keep a person's behaviors and sense of self consistent.</p><p>But not always. Mess with the biological Jell-O in just the right ways and the structure of the self reveals its fragility.</p><p>Lee's personality had been consistent for decades—until it wasn't.</p><p>From an early age, he was a person who could visualize sprawling structures in his mind. Growing up in the 1990s in Cupertino, where his dad worked at Apple, Lee had early access to the latest computers, and he and his brother grew up bingeing on videogames. As a gamer, he was legendary among his friends for being able to read a complex situation, rapidly adjust strategies, and win match after match. And it wasn't just videogames. His childhood friend Justin Powell remembers Lee strolling into a middle school chess club tournament cold. He wasn't a member of the club, but he won the tournament anyway. Lee avoided becoming insufferable by channeling his wit into snarky commentary. “Watching a movie with him was like a version of <em>Mystery Science Theater 3000</em>,” Powell says. “His very presence challenged you to keep up with him.”</p><p>Lee and his friends would cart their computers to each other's houses to play games together. He became curious about the machines themselves and started learning computer science, first in high school, then at a local community college and UC Santa Cruz, where an unlikely set of circumstances connected him with Matthew Prince.</p><p>Then a young entrepreneur, Prince was pursuing an idea for an antispam software tool when he encountered Arthur Keller, a UC Santa Cruz computer science professor. Keller and his students had already worked out a very similar concept. Prince and Keller agreed to share a patent, along with Keller's students. One of those students was Lee, and Prince hired him on the spot. “I had no idea this school project would turn into something much bigger,” Lee later said in a video interview with a group called Founderly.</p><p>Prince set up the company, Unspam Technologies, in Park City, Utah, about a mile from a cluster of slopes where he could indulge his passion for skiing. Lee moved into Prince's basement, at first working for free in exchange for food and housing. But Lee and the other Unspam engineers grew restless, and they started spinning up side projects, including one called Project Honey Pot, which tracked spammers as they crawled the web. That's all it did—it collected and published data on spammers, but it didn't do anything to stop them. Still, the project quickly amassed a loyal following.</p><p>In 2007, Prince left Utah to start business school at Harvard, and Lee moved to California to live with his girlfriend, Alexandra Carey. They'd known each other as undergrads, when she was a teaching assistant in his computer architecture class. Lee had goofed off in that class, once pranking the professor by scrawling childish notes on the transparencies of an overhead projector. Alexandra had been amused, but it wasn't until after college that a relationship bloomed. Living in different cities, they fell for each other while playing and chatting within a multiplayer videogame called <em>Savage</em>. Now, with Prince leaving Utah, it seemed a natural time for Lee to join Alexandra. They married in 2008.</p><div><div><p><span><picture><img alt="This image may contain Electronics, Computer, and Pc" src="https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_775%2Cc_limit/Data-Breaches.png" srcset="https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_775%2Cc_limit/Data-Breaches.png 775w, https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_775%2Cc_limit/Data-Breaches.png 775w, https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_768%2Cc_limit/Data-Breaches.png 768w, https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_768%2Cc_limit/Data-Breaches.png 768w, https://media.wired.com/photos/5c098e5fd146d62d209935fc/1:1/w_640%2Cc_limit/Data-Breaches.png 640w" sizes="100vw"></picture></span></p><div><h3><a href="https://weekly.statuscode.com/story/wired-guide-to-data-breaches">The WIRED Guide to Data Breaches</a></h3><p>Everything you ever wanted to know about Equifax, Mariott, and the problem with social security numbers.</p></div></div></div><p>Lee and Prince kept working at Unspam from their respective cities, but as Prince was wrapping up business school, Lee called to tell him he was considering other job offers. Prince countered with a new and rather audacious pitch: He and a classmate, Michelle Zatlyn, had hit on a startup idea they thought had potential. What if they …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://weekly.statuscode.com/link/100809/ac1fb866f8">https://weekly.statuscode.com/link/100809/ac1fb866f8</a></em></p>]]>
            </description>
            <link>https://weekly.statuscode.com/link/100809/ac1fb866f8</link>
            <guid isPermaLink="false">hacker-news-small-sites-25666855</guid>
            <pubDate>Thu, 07 Jan 2021 03:16:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Reed-Solomon error recovery in RAID-6]]>
            </title>
            <description>
<![CDATA[
Score 99 | Comments 37 (<a href="https://news.ycombinator.com/item?id=25666830">thread link</a>) | @signa11
<br/>
January 6, 2021 | http://anadoxin.org/blog/error-recovery-in-raid6.html/ | <a href="https://web.archive.org/web/*/http://anadoxin.org/blog/error-recovery-in-raid6.html/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        

        

        <p>
            <h3>Reed-Solomon error recovery in RAID-6</h3>
        </p>

        <p>
            https://anadoxin.org/blog/error-recovery-in-raid6.html
        </p>

        
        
        
        

        
        
        
        

        
        <p>There are lots of resources on the Internet about RAID-6 error recovery and how you can create your own implementation of it, but most of those resources require spending a lot of time fighting with mathematical equations and figuring out the real algorithm.</p>
<p>In this post I'll try to give you a simple example how you can create your own error recovery solution based on what is used in RAID-6. More specifically, if you need to provide rendundancy across your mediums so that a failure of 1 or 2 mediums will be tolerated, look no further! ;)</p>
<p>If you'll read this post, as a bonus you'll gain knowledge about how RAID-5 error recovery works, because RAID-6 is an improved version of RAID-5 error recovery system.</p>

<p>Let's assume you have 3 disk drives with some data. Let's name those drives as <code>D1</code>, <code>D2</code> and <code>D3</code>. In order to use the same error recovery technique as RAID-6 uses, you'll need two additional disk drives, the <code>PD</code> drive, and the <code>RS</code> drive. I'll describe what <code>PD</code> and <code>RS</code> means in few moments. So, you'll need a total of 5 disk drives: <code>D1</code>, <code>D2</code>, <code>D3</code>, <code>PD</code> and <code>RS</code>.</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image1.svg" alt=""></p>
<p>So, here's the situation:</p>
<ul>
<li><code>D1</code>, <code>D2</code> and <code>D3</code> contain <em>arbitrary user data</em>, and it doesn't matter what their contents are. FWIW you can assume those drives are full of cat pictures.</li>
<li>The special <code>PD</code> drive (named after <code>Parity Drive</code>, sometimes called <code>P</code> in whitepapers) contains the XOR data, generated automatically from <code>D1</code>, <code>D2</code> and <code>D3</code>.</li>
<li>The second special <code>RS</code> drive (named after <code>Reed-Solomon Drive</code>, sometimes also called <code>Q</code>) contains the Reed-Solomon codes, calculated from the same data as <code>PD</code>, namely from drives <code>D1</code>, <code>D2</code> and <code>D3</code>.</li>
</ul>
<p>Let's see how we can perform some basic operations on such disk array.</p>

<p>If we have properly calculated <code>PD</code> and <code>RS</code> drives, we can lose up to 2 drives. How we recover from failures depends on which drives will fail. There are generally 7 cases that RAID-6 can handle. Next points will describe the scenarios, sorted from the easiest case, to the most complicated.</p>
<ol>
<li>
<p>Loss of the <code>PD</code> drive (failure of only one drive).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-losspd.svg" alt=""></p>
<p>This case is very straightforward. The <code>PD</code> drive contains only autogenerated data, so in case we lose the <code>PD</code> drive, we can regenerate it by using only user data (stored on disks <code>D1</code>, <code>D2</code> and <code>D3</code>).</p>
</li>
<li>
<p>Loss of one of the data drives: either <code>D1</code>, <code>D2</code> or <code>D3</code> (failure of only one drive).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-datadrive.svg" alt=""></p>
<p>In this case we're losing data, but since we only lose 1 disk, the recovery scenario is the same as in RAID-5 error recovery: we'll use <code>PD</code> drive <em>together with two non-missing data drives</em> to recover data from the missing data drive. It doesn't matter which data drive we lose, because if we have 2 data drives and the <code>PD</code> drive, we can always generate data for the third drive. The <code>RS</code> drive is not needed to regenerate the data drive in this case (and is not used at all in this failure case).</p>
</li>
<li>
<p>Loss of the <code>RS</code> drive (failure of only one drive).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-lossrs.svg" alt=""></p>
<p>Similar to the situation from point 1: we have all the data drives, and we can simply regenerate the <code>RS</code> drive by calculating Reed-Solomon codes from drives that did not fail.</p>
</li>
<li>
<p>Loss of the <code>PD</code> drive and the <code>RS</code> drive (failure of two drives).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-losspdrs.svg" alt=""></p>
<p>This case is very similar to points 1 or 3, we have all the data intact, so we can generate contents of <code>PD</code> drive and then <code>RS</code> drive very easily.</p>
</li>
<li>
<p>Loss of the <code>RS</code> drive and one data drive (failure of two drives).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-lossdatars.svg" alt=""></p>
<p>In this case we're losing two disks, but only one lost disk is filled with data. Since we have <code>PD</code> drive intact, we can use it to regenerate data from missing data drive, so this case is not so different than case #2. After that, we will have all the data drives, so we can regenerate the <code>RS</code> drive easily.</p>
</li>
<li>
<p>Loss of the <code>PD</code> drive and one data drive (failure of two drives).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-lossdatapd.svg" alt=""></p>
<p>This case is more complicated. We lose one user data drive (in this example <code>D3</code>), and we don't have the <code>PD</code> drive to aid with recovery, because we've lost it as well. We have to use the <code>RS</code> drive in conjunction with all user data drives that are still available (<code>D1</code> and <code>D2</code>) to regenerate the missing data drive <code>D3</code>. After we'll have all data drives regenerated, we can calculate the missing <code>PD</code> drive. This is the first case where recovery using Reed-Solomon codes comes into play.</p>
</li>
<li>
<p>Loss of two data drives (failure of two drives).</p>
<p><img src="https://anadoxin.org/blog/error-recovery-in-raid6.html/image-lossdatadata.svg" alt=""></p>
<p>This is the most complicated scenario. We need to use both <code>PD</code> and <code>RS</code> to regenerate both data drives. Reed-Solomon coding makes this case possible.</p>
</li>
</ol>
<p>In the following sections, I'll try to describe those cases above with more detail, and provide some source code (in Python :P) that will perform actual recovery of data.</p>
<p>Please keep in mind that real RAID-6 arrays don't really dedicate whole disk for <code>PD</code> or <code>RS</code>. Real arrays span this additional checksum data across all disks. There are multiple methods used by various controllers: left asynchronous, right synchronous, there can be an offset to the RAID data, there can be pattern delays, etc. Why it's done this way, and how exactly RAID-6 stripes looks like is beyond the scope of this blog post. So let's stick only to Reed-Solomon codes.</p>
<h2 id="test-data">Test data</h2>
<p>Let's define how our "user data" looks like. To keep things simple, let's pretend that our "disk drives" are 5 bytes big.</p>
<table><thead><tr><th>Disk</th><th>Data in ASCII</th><th>Data in HEX</th></tr></thead><tbody>
<tr><td><code>D1</code></td><td>f i r s t</td><td>0x66, 0x69, 0x72, 0x73, 0x74</td></tr>
<tr><td><code>D2</code></td><td>s e c n d</td><td>0x73, 0x65, 0x63, 0x6e, 0x64</td></tr>
<tr><td><code>D3</code></td><td>t h i r d</td><td>0x74, 0x68, 0x69, 0x72, 0x64</td></tr>
</tbody></table>
<p>Let's go into the scenarios mentioned above in more details.</p>

<p>In order to generate the <code>PD</code> data, we need only the user data drives. In our case it's <code>D1</code>, <code>D2</code> and <code>D3</code>. The <code>PD</code> drive consists of nothing more than <a href="https://en.wikipedia.org/wiki/Bitwise_operation#XOR">XOR</a> of all user data.</p>
<ul>
<li>To generate offset 0 of the <code>PD</code> drive, you need to XOR all bytes from offset 0 from all disk drives.</li>
<li>Then, to generate offset 1 of the <code>PD</code> drive, you need to XOR bytes from offset 1 from all disk drives. E.g.:</li>
</ul>
<pre><code><span>PD[0] = D1[0] xor D2[0] xor D3[0]
PD[1] = D1[1] xor D2[1] xor D3[1]
PD[2] = D1[2] xor D2[2] xor D3[2]
PD[3] = D1[3] xor D2[3] xor D3[3]
PD[4] = D1[4] xor D2[4] xor D3[4]
</span></code></pre>
<p>Example:</p>
<pre><code><span>PD[0] = 0x66 xor 0x73 xor 0x74  =&gt;  0x61
PD[1] = 0x69 xor 0x65 xor 0x63  =&gt;  0x64
PD[2] = 0x72 xor 0x63 xor 0x69  =&gt;  0x78
PD[3] = 0x73 xor 0x6e xor 0x72  =&gt;  0x6f
PD[4] = 0x74 xor 0x64 xor 0x64  =&gt;  0x74
</span></code></pre>
<p>Yes, it's that simple. Do it for the whole drives (in our case, 5 bytes), and you'll have the properly generated <code>PD</code> drive:</p>
<table><thead><tr><th>Disk</th><th>Data in HEX</th></tr></thead><tbody>
<tr><td><code>PD</code></td><td>0x61, 0x64, 0x78, 0x6f, 0x74</td></tr>
</tbody></table>
<p>So, in case when only your <code>PD</code> drive will fail, you can see it's trivial to regenerate it from the data drives <code>D1</code>, <code>D2</code> and <code>D3</code>.</p>

<p>By the way, this is how RAID-5 error recovery works. If only one drive with user data will fail, we can use the <code>PD</code> drive to recalculate missing user data.</p>
<p>Let's say we're losing <code>D2</code>, so the drives that are still working are: <code>D1</code>, <code>D3</code>, <code>PD</code> and <code>RS</code>. In this case, we don't even look at <code>RS</code>. All we need are the <code>D1</code>, <code>D3</code> and <code>PD</code> drives. To calculate missing data, you can use the XOR function again, like in the previous point.</p>
<p>To recover user data from offset 0, XOR the bytes from offsets 0 of disks with user data you haven't lost (<code>D1</code> and <code>D3</code>) together with the byte from offset 0 from the <code>PD</code> drive. Do the same thing for offset 1, like this:</p>
<pre><code><span>D2[0] = D1[0] xor D3[0] xor PD[0]
D2[1] = D1[1] xor D3[1] xor PD[1]
D2[2] = D1[2] xor D3[2] xor PD[2]
D2[3] = D1[3] xor D3[3] xor PD[3]
D2[4] = D1[4] xor D3[4] xor PD[4]
</span></code></pre>
<p>Example:</p>
<pre><code><span>D2[0] = 0x66 xor 0x74 xor 0x61  =&gt;  0x73 (s)
D2[1] = 0x69 xor 0x63 xor 0x64  =&gt;  0x65 (e)
D2[2] = 0x72 xor 0x69 xor 0x78  =&gt;  0x63 (c)
D2[3] = 0x73 xor 0x72 xor 0x6f  =&gt;  0x6e (n)
D2[4] = 0x74 xor 0x64 xor 0x74  =&gt;  0x64 (d)
</span></code></pre>
<p>As you can see, we can easily recover data from the missing drive. It doesn't matter which drive is missing; the <a href="https://en.wikipedia.org/wiki/Bitwise_operation#XOR">XOR function</a> will work anyway.</p>

<p>Now we enter the realm of the Reed-Solomon codes and Galois fields. But don't worry, you don't have to be a mathematician in order to <em>use</em> it.</p>
<p>When we lose only <code>RS</code> drive, or when we initialize a new RAID-6-like redundation system, we simply need to regenerate it. In order to do that, we need to use the <code>gflog</code> and <code>gfilog</code> tables, which are always constant, plus data from our existing data drives <code>D1</code>, <code>D2</code> and <code>D3</code>.</p>
<p>This is the <code>gflog</code> table, it always stays the same:</p>
<pre><code><span>    0x00, 0x00, 0x01, 0x19, 0x02, 0x32, 0x1a, 0xc6, 0x03, 0xdf, 0x33, 0xee, 0x1b, 0x68, 0xc7, 0x4b,
    0x04, 0x64, 0xe0, 0x0e, 0x34, 0x8d, 0xef, 0x81, 0x1c, 0xc1, 0x69, 0xf8, 0xc8, 0x08, 0x4c, 0x71,
    0x05, 0x8a, 0x65, 0x2f, 0xe1, 0x24, 0x0f, 0x21, 0x35, 0x93, 0x8e, 0xda, 0xf0, 0x12, 0x82, 0x45,
    0x1d, 0xb5, 0xc2, 0x7d, 0x6a, 0x27, 0xf9, 0xb9, 0xc9, 0x9a, 0x09, 0x78, 0x4d, 0xe4, 0x72, 0xa6,
    0x06, 0xbf, 0x8b, 0x62, 0x66, 0xdd, 0x30, 0xfd, 0xe2, 0x98, 0x25, 0xb3, 0x10, 0x91, 0x22, 0x88,
    0x36, 0xd0, 0x94, 0xce, 0x8f, 0x96, 0xdb, 0xbd, 0xf1, 0xd2, 0x13, 0x5c, 0x83, 0x38, 0x46, 0x40,
    0x1e, 0x42, 0xb6, 0xa3, 0xc3, 0x48, 0x7e, 0x6e, 0x6b, 0x3a, 0x28, 0x54, 0xfa, 0x85, 0xba, 0x3d,
    0xca, 0x5e, 0x9b, 0x9f, 0x0a, 0x15, 0x79, 0x2b, 0x4e, 0xd4, 0xe5, 0xac, 0x73, 0xf3, 0xa7, 0x57,
    0x07, 0x70, 0xc0, 0xf7, 0x8c, 0x80, 0x63, 0x0d, 0x67, 0x4a, 0xde, 0xed, 0x31, 0xc5, 0xfe, 0x18,
    0xe3, 0xa5, 0x99, 0x77, 0x26, 0xb8, 0xb4, 0x7c, 0x11, 0x44, 0x92, 0xd9, 0x23, 0x20, 0x89, 0x2e,
    0x37, 0x3f, 0xd1, 0x5b, 0x95, 0xbc, 0xcf, 0xcd, 0x90, 0x87, 0x97, 0xb2, 0xdc, 0xfc, 0xbe, 0x61,
    0xf2, 0x56, 0xd3, 0xab, 0x14, 0x2a, 0x5d, 0x9e, 0x84, 0x3c, 0x39, 0x53, 0x47, 0x6d, 0x41, 0xa2,
    0x1f, 0x2d, 0x43, 0xd8, 0xb7, 0x7b, 0xa4, 0x76, 0xc4, 0x17, 0x49, 0xec, 0x7f, 0x0c, 0x6f, 0xf6,
    0x6c, 0xa1, 0x3b, 0x52, 0x29, 0x9d, 0x55, 0xaa, 0xfb, 0x60, 0x86, 0xb1, 0xbb, 0xcc, 0x3e, 0x5a,
    0xcb, 0x59, 0x5f, 0xb0, 0x9c, 0xa9, 0xa0, 0x51, 0x0b, 0xf5, 0x16, 0xeb, 0x7a, 0x75, 0x2c, 0xd7,
    0x4f, 0xae, 0xd5, 0xe9, 0xe6, 0xe7, 0xad, 0xe8, 0x74, 0xd6, 0xf4, 0xea, 0xa8, 0x50, 0x58, 0xaf.
</span></code></pre>
<p>This is the <code>gfilog</code> table, it's also constant:</p>
<pre><code><span>    0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1d, 0x3a, 0x74, 0xe8, …</span></code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://anadoxin.org/blog/error-recovery-in-raid6.html/">http://anadoxin.org/blog/error-recovery-in-raid6.html/</a></em></p>]]>
            </description>
            <link>http://anadoxin.org/blog/error-recovery-in-raid6.html/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25666830</guid>
            <pubDate>Thu, 07 Jan 2021 03:13:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Shooting photos with an IMAX projector lens]]>
            </title>
            <description>
<![CDATA[
Score 166 | Comments 63 (<a href="https://news.ycombinator.com/item?id=25666217">thread link</a>) | @dmitrygr
<br/>
January 6, 2021 | https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/ | <a href="https://web.archive.org/web/*/https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>What the heck is that huge lens? That Crazy Huge Lens is an IMAX Lens. You will be surprised at the cool street portraits we got with this thing. Take a look at how Jay P rigged this with his <a href="https://bhpho.to/38bRbgL">Canon EOS R</a> camera and the amazing results.</p>
<p><iframe width="750" height="450" src="https://www.youtube.com/embed/D-ihZrP4C0A" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></p>
<p>This is Jay P Morgan. Today on The Slanted Lens we are in Santa Monica at a skate park. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_8.png" alt="" width="1092" height="611" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_8.png 1092w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_8-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_8-768x430.png 768w" sizes="(max-width: 1092px) 100vw, 1092px">This is a great skate park. I’ve been here before with my daughter who comes down to skate. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_35.png" alt="" width="1070" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_35.png 1070w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_35-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_35-768x431.png 768w" sizes="(max-width: 1070px) 100vw, 1070px">This time I came with this huge IMAX lens. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_1.png" alt="" width="1072" height="598" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_1.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_1-300x167.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_1-768x428.png 768w" sizes="(max-width: 1072px) 100vw, 1072px">This thing is a beast. It’s an IMAX lens and it was made by Iwerks. I’ve had it in a huge hard case in my storage for a long, long time. I’ve always wanted to adapt this to a camera and take portraits with it. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_2.png" alt="" width="1071" height="601" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_2.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_2-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_2-768x431.png 768w" sizes="(max-width: 1071px) 100vw, 1071px">So I want to do street portraits with an IMAX Lens using my Canon EOS R Camera. So here’s the process I went through to get this lens adapted, so I’ll be able to focus it and work with it.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_9.png" alt="" width="1090" height="611" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_9.png 1090w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_9-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_9-768x431.png 768w" sizes="(max-width: 1090px) 100vw, 1090px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_10.png" alt="" width="1093" height="612" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_10.png 1093w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_10-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_10-768x430.png 768w" sizes="(max-width: 1093px) 100vw, 1093px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_11.png" alt="" width="1092" height="612" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_11.png 1092w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_11-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_11-768x430.png 768w" sizes="(max-width: 1092px) 100vw, 1092px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_12.png" alt="" width="1091" height="612" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_12.png 1091w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_12-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_12-768x431.png 768w" sizes="(max-width: 1091px) 100vw, 1091px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_14.png" alt="" width="1091" height="611" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_14.png 1091w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_14-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_14-768x430.png 768w" sizes="(max-width: 1091px) 100vw, 1091px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_15.png" alt="" width="1086" height="610" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_15.png 1086w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_15-300x169.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_15-768x431.png 768w" sizes="(max-width: 1086px) 100vw, 1086px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_16.png" alt="" width="1094" height="610" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_16.png 1094w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_16-300x167.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_16-768x428.png 768w" sizes="(max-width: 1094px) 100vw, 1094px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_17.png" alt="" width="1091" height="610" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_17.png 1091w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_17-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_17-768x429.png 768w" sizes="(max-width: 1091px) 100vw, 1091px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_18.png" alt="" width="1088" height="610" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_18.png 1088w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_18-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_18-768x431.png 768w" sizes="(max-width: 1088px) 100vw, 1088px">Let’s take some pictures. The way I focus this thing is so silly. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_20.png" alt="" width="1092" height="611" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_20.png 1092w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_20-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_20-768x430.png 768w" sizes="(max-width: 1092px) 100vw, 1092px">I have a track that I can release here and I can move my camera back and forth inside this tape I put around the lens. Then I find the point where it focuses. It’s pretty gorilla. Very, very gorilla, but it works.<img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_25.png" alt="" width="1072" height="599" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_25.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_25-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_25-768x429.png 768w" sizes="(max-width: 1072px) 100vw, 1072px"></p>
<p>So in this situation I don’t have a lens on the front of the camera. So if the camera is going to fire without a lens on it, you have to go to the menus and you’ve have to turn on the setting which will allow the camera to fire when there’s no lens attached. There’s no coupling here. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_26.png" alt="" width="1071" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_26.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_26-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_26-768x430.png 768w" sizes="(max-width: 1071px) 100vw, 1071px">This is just a space between the lens and the front of the camera. I did have to turn that feature on that will allow me to shoot without a lens in order to make this work.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_28.png" alt="" width="1070" height="599" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_28.png 1070w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_28-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_28-768x430.png 768w" sizes="(max-width: 1070px) 100vw, 1070px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_29.png" alt="" width="1070" height="597" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_29.png 1070w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_29-300x167.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_29-768x429.png 768w" sizes="(max-width: 1070px) 100vw, 1070px">This lens is so interesting because it has a 180 degree angle of view. So I can get right here close and to the side and I’m in the shot. And I am in the shot when I move all the way around to the other side.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_30.png" alt="" width="1071" height="599" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_30.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_30-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_30-768x430.png 768w" sizes="(max-width: 1071px) 100vw, 1071px">This lens has a really strange quality because my face is in focus, but the area around it is out of focus. It almost has a tilt shift kind of quality like it’s you’re focusing on one point. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_31.png" alt="" width="1072" height="599" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_31.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_31-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_31-768x429.png 768w" sizes="(max-width: 1072px) 100vw, 1072px">When you get somebody up front like this, it gives you a blur all the way around. It’s very cool looking.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_37.png" alt="" width="1070" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_37.png 1070w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_37-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_37-768x431.png 768w" sizes="(max-width: 1070px) 100vw, 1070px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_38.png" alt="" width="1071" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_38.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_38-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_38-768x430.png 768w" sizes="(max-width: 1071px) 100vw, 1071px"></p>
<p>I’m learning as we go along here, it doesn’t have a flat plane of focus, but I think that’s because of the way I mounted the camera back there. It’s a little bit like a tilt shift. So I didn’t get them quite square, which is kind of cool because I get the face in focus, but the hands or the body go out of focus in the foreground. It’s just kind of cool looking.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_39.png" alt="" width="1067" height="596" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_39.png 1067w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_39-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_39-768x429.png 768w" sizes="(max-width: 1067px) 100vw, 1067px"></p>
<p>One of the reasons I love to carry a light in my bag is anytime I’m doing a street portrait or something, a continuous light is so easy to flip up really fast. It gives us a little bit of light on the face and opens up the shadows. The <a href="https://bhpho.to/32nCIvK">LitraStudio</a> is perfect for that because it’s easy. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_40.png" alt="" width="1074" height="601" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_40.png 1074w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_40-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_40-768x430.png 768w" sizes="(max-width: 1074px) 100vw, 1074px">Turn it on and it’s so powerful, it’s worth the weight. It’s not like one of the little tiny ones Litra makes. I like the bigger heavier light because it just gives me so much more power. Especially in a situation like this where you have the sun to deal with.</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_42.png" alt="" width="1072" height="601" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_42.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_42-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_42-768x431.png 768w" sizes="(max-width: 1072px) 100vw, 1072px"></p>
<p>So there you have it. I’m going to do more of this. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_44.png" alt="" width="1072" height="602" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_44.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_44-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_44-768x431.png 768w" sizes="(max-width: 1072px) 100vw, 1072px">I want to adapt some other lenses to my EOS R and just try to get weird views and that kind of gritty look. This actually was way cleaner than I thought it was going to be. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_46.png" alt="" width="1071" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_46.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_46-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_46-768x430.png 768w" sizes="(max-width: 1071px) 100vw, 1071px">I don’t even have something blocking the light between the camera and the lens. I used just a little bit of tape in here. But it projects a great image on the sensor. It’s a little hard to focus but a lot of fun to shoot. <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_48.png" alt="" width="1071" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_48.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_48-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_48-768x430.png 768w" sizes="(max-width: 1071px) 100vw, 1071px">So I hope you enjoyed this. Make sure you subscribe to the channel and ring that bell. Keep those cameras rollin’ and keep on clickin’.</p>
<p>Check out <a href="https://bhpho.to/32nCIvK">LitraStudio lights</a>:</p>
<p><img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_50.png" alt="" width="1073" height="599" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_50.png 1073w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_50-300x167.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_50-768x429.png 768w" sizes="(max-width: 1073px) 100vw, 1073px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_51.png" alt="" width="1070" height="600" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_51.png 1070w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_51-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_51-768x431.png 768w" sizes="(max-width: 1070px) 100vw, 1070px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_52.png" alt="" width="1072" height="597" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_52.png 1072w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_52-300x167.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_52-768x428.png 768w" sizes="(max-width: 1072px) 100vw, 1072px"> <img loading="lazy" src="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_53.png" alt="" width="1071" height="598" srcset="https://theslantedlens.com/wp-content/uploads/2021/01/Imax_53.png 1071w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_53-300x168.png 300w, https://theslantedlens.com/wp-content/uploads/2021/01/Imax_53-768x429.png 768w" sizes="(max-width: 1071px) 100vw, 1071px"></p>
<!-- AddThis Advanced Settings above via filter on the_content --><!-- AddThis Advanced Settings below via filter on the_content --><!-- AddThis Advanced Settings generic via filter on the_content --><!-- AddThis Share Buttons above via filter on the_content --><!-- AddThis Share Buttons below via filter on the_content --><!-- AddThis Share Buttons generic via filter on the_content --><!-- AddThis Related Posts below via filter on the_content --><!-- AddThis Related Posts generic via filter on the_content --><!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/"
    dc:identifier="https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/"
    dc:title="Crazy Huge Imax Lens &#8211; Amazing Street Portraits"
    trackback:ping="https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/trackback/" />
</rdf:RDF>-->
</div></article></div>]]>
            </description>
            <link>https://theslantedlens.com/2021/crazy-huge-imax-lens-amazing-street-portraits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25666217</guid>
            <pubDate>Thu, 07 Jan 2021 01:50:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A developer's perspective: the problem with screen reader testing]]>
            </title>
            <description>
<![CDATA[
Score 69 | Comments 52 (<a href="https://news.ycombinator.com/item?id=25665851">thread link</a>) | @jacobtracey
<br/>
January 6, 2021 | https://jaketracey.com/a-developers-perspective-the-problem-with-screen-reader-testing/ | <a href="https://web.archive.org/web/*/https://jaketracey.com/a-developers-perspective-the-problem-with-screen-reader-testing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/Article"><header><p>January 06, 2021</p></header><section itemprop="articleBody"><p>Screen readers are an essential part of using the web for people who are vision impaired, illiterate or have a learning disability.</p>
<p>Today’s screen readers traverse web pages and applications and read out user interface elements, content and allow users to navigate and interact with the web.</p>
<p>There are many screen readers available for different devices and platforms, each with differing levels of functionality, interfaces and features. The most common are JAWS, NVDA, VoiceOver and TalkBack.</p>
<p>According to the latest <a href="https://webaim.org/projects/screenreadersurvey8/">WebAIM Screen Reader User Survey</a>, when it comes to desktop screen reader usage, JAWS and NVDA are practically equal in usage, with around 40% of respondents reporting that they use one or the other.</p>
<figure>
<img src="https://jaketracey.com/webaim-graph.png" alt="Line chart of primary screen reader usage since October 2009. JAWS has steady decline from 68% to 40%. NVDA has steady incline from 3% to 41%. VoiceOver has a slow incline from 10% to 13%.">
<figcaption>Source: WebAIM</figcaption>
</figure>
<p>Based on the graph above, there’s a clear pattern over the course of the last 10 years, with NVDA usage increasing as JAWS usage drops, culminating in an inflection point in 2019 when NVDA surpassed JAWS usage for the first time.</p>
<p>As a developer regularly faced with time constraints, I have often wondered: what should be the baseline in terms of testing for screen readers, and what browser and screen reader combinations are the most important to cover in order to achieve the greatest level of WCAG compliance?</p>
<h2>An issue of time</h2>
<p>Given that almost all web applications developed in 2021 are also used on mobile and therefore require testing on both iOS and Android devices, as well as Windows and macOS for desktop users, providing adequate support for such a broad range of scenarios becomes quite difficult to manage.</p>
<p>Let’s say in a best-case scenario, a given page or feature will be tested on the following combinations:</p>
<ul>
<li>iOS / VoiceOver</li>
<li>Android / TalkBack</li>
<li>macOS / Chrome / VoiceOver</li>
<li>macOS / Safari / VoiceOver</li>
<li>macOS / Firefox / VoiceOver</li>
<li>Windows / Microsoft Edge / NVDA</li>
<li>Windows / Chrome / NVDA</li>
<li>Windows / Firefox / NVDA</li>
<li>Windows / Microsoft Edge / JAWS</li>
<li>Windows / Chrome / JAWS</li>
<li>Windows / Firefox / JAWS</li>
</ul>
<p>I should clarify that by “best-case”, I am conveniently leaving out any versions of Internet Explorer, but as frustrating as it may be, including it would add at least another 2 rounds of testing.</p>
<p>It’s also worth noting that WebAIM also recommends using Microsoft Edge with Narrator, but given its low usage, we’ll leave it out (more on this later).</p>
<p>Hypothetically, depending on the size of the functionality or page implemented, let’s say each round of testing takes one hour to complete, assuming the developer has experience with each of these browsers and screen readers.</p>
<p>In this scenario, comprehensively testing screen reader support across all these combinations adds 11 hours of development work – and that’s just to test!</p>
<h2>An issue of fragmentation</h2>
<p>Web developers will be familiar with the issues surrounding browser version fragmentation, and this problem is compounded when testing with screen readers. Contending with not only varying levels of HTML, Javascript and CSS support in the browser can be tough, and to combat this, polyfills and tools like <a href="https://caniuse.com/">caniuse.com</a> have made life a lot easier.</p>
<p>When it comes to screen reader version fragmentation, there is very little in the way of either documentation or support for developers. Fixing issues often comes down to a case of trial and error, retesting and hoping for the best.</p>
<p>A piece of information that would be incredibly useful in this area would be <em>penetration of screen reader updates</em> from the vendors. If, for instance, developers knew that there was a high adoption rate of updates among screen reader users, they could be confident that if a screen reader update resolved an issue, patches for older versions could be sunsetted. This approach has worked exceptionally well for browsers such as Chrome and Firefox.</p>
<p>Sadly, there’s not currently any way for a developer to identify the type or version of a screen reader that is being used, so implementing targeted fixes isn’t an option anyway right now.</p>
<h2>A case for dedicated accessibility testers</h2>
<p>Given the scope and time it takes to properly test across so many devices, browsers and screen readers, having dedicated accessibility testers embedded into teams can significantly increase the quality and speed with which properly accessible applications can be produced.</p>
<p>Let’s face it: developers already have a hard time keeping up with the pace of change in their own domain, let alone the level of knowledge required for comprehensive accessibility auditing.</p>
<p>That is not to say that developers should ignore accessibility completely. However, expecting someone to know about a specific bug on a particular combination of code, browser and screen reader is too much, even for the most experienced accessibility-focused developer.</p>
<h2>Why automation isn’t enough</h2>
<p>The old saying "a good programmer is a lazy programmer" comes to mind when I think about testing here. Being lazy myself (although possibly not that great of a programmer), I rely on automated tools like <a href="https://www.deque.com/axe/">axe</a> to do most of my accessibility for me. While the current range of tooling is excellent, and picks up the most obvious issues, when it comes to screen readers there’s no way around it: you need to manually test.</p>
<p>Why? Well, the current state of both browsers and screen reader support is all over the place. To highlight this, the Powermapper website has a neat <a href="https://www.powermapper.com/tests/screen-readers/aria/">list of screen reader support for WAI-ARIA attributes</a>. Not throwing shade at any one – things are continuously improving with updates to browsers and screen readers – but the point stands. Current automated testing tools are not going to catch these problems because they essentially test the validity of code, in much the same way as a code linter does.</p>
<h2>A compromise, so we can all still get stuff done</h2>
<p>Not every team has the luxury of a dedicated accessibility tester, or even a dedicated tester for that matter. Sometimes, you just need to do the best you can, with the resources that you have available.</p>
<p>"When can we stop supporting this?" has been the desperate cry of developers for years when it comes to Internet Explorer 9/10 and most recently 11, and as their usage has dropped, so has the rate of developers losing their hair trying to get their code working.</p>
<p>Which brings me back to Microsoft Edge with Narrator, as mentioned earlier. With 1% of users in that survey, and possibly 0% of users for your application or site, is it worth testing on this combination at all? More specifically, what number of users justifies support, and the testing and development overhead that comes with it?</p>
<h3>Windows - Chrome (latest version), NVDA</h3>
<p>As of December 2020, Chrome is by far the most popular browser in the world, with 65.3% of users. Later versions of Microsoft Edge utilize the same rendering engine, so there is a high likelihood that if it works in Chrome, it will work similarly in Edge.</p>
<p>Based on the WebAIM stats, it is a safe bet that NVDA will begin to increase its lead over JAWS over the next few years. Given that it is also open-source and free, I can’t help but draw a comparison to the way Firefox overtook Internet Explorer in the 2000s browser wars.</p>
<h3>macOS - Safari (latest version), VoiceOver</h3>
<p>Safari is a fair distance behind Chrome in terms of users, with 16.7% share as of writing, but it has the benefit of being the default browser in macOS. It is also free, and the support for accessibility features with VoiceOver is second to none. In addition to this, because of the similarity with its mobile counterpart, most likely any issues that are identified in the desktop version will have similar fixes.</p>
<h3>iOS - Safari (latest version), VoiceOver</h3>
<p>Safari is by far the most popular browser on iOS and all other browsers on iOS use the WebKit rendering engine. VoiceOver is the gold standard for mobile screen readers (and the only option for iOS devices), and as such it makes sense to use this combination for testing iOS accessibility.</p>
<h3>Android - Chrome (latest version), TalkBack</h3>
<p>In a similar vein to iOS, being the default browser and screen reader combination for Android makes this a simple choice, as it will cover the vast majority of users on this platform. Although manufacturers do include their own browsers and there are quite a few other options on Android, the vast majority of the time they use the inbuilt rendering engine, so the expectation in terms of accessibility should be similar, if not identical, to the Chrome experience.</p>
<p>This is by no means a catch-all solution for everyone. Each circumstance will be different, and the best course of action would be to engage your users and ask rather than trying to make the decision for them.</p>
<p>The reality is that if your site or application’s design or functionality looks bad or works poorly for a large enough number of your users because it does not support the software that they use, it can have potential ramifications to your business, through sales or reputation. Similarly, poor accessibility will have a negative impact if your users are using older versions of screen readers and browser combinations.</p>
<h2>But what about JAWS, ZoomText, System Access, <em>insert screen reader here</em>?</h2>
<p>At the risk of being slightly incendiary, I dislike the idea of paying for something that I can get for free. NVDA is a project that has brought screen readers to everybody – including those without the financial means to pay for it – so I support it. Along with the clear trajectory of its usage uptake, it is not unreasonable to expect that the majority of users will adopt it in the next 5 to 10 years.</p>
<p>At the end of the day, however, your best bet when it comes to identifying where your testing efforts should be placed is to talk to your users to find out what their needs are and what software they use. If you don’t have access to this information, the proposed testing scope above will suffice for the vast majority of your site or application’s users, and most likely will continue to do so in the years to come.</p></section></article></div>]]>
            </description>
            <link>https://jaketracey.com/a-developers-perspective-the-problem-with-screen-reader-testing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25665851</guid>
            <pubDate>Thu, 07 Jan 2021 01:12:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Love’s contradictions: Catullus on the agony of infatuation]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25664867">thread link</a>) | @diodorus
<br/>
January 6, 2021 | https://psyche.co/ideas/loves-contradictions-catullus-on-the-agony-of-infatuation | <a href="https://web.archive.org/web/*/https://psyche.co/ideas/loves-contradictions-catullus-on-the-agony-of-infatuation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><blockquote>I hate and love. If you ask me to explain<br>The contradiction,<br>I canâ€™t, but I can feel it, and the pain<br>Is crucifixion.</blockquote>
<blockquote> <em>Odi et amo: quare id faciam fortasse requiris.</em><br><em>Nescio, sed fieri sentio et excrucior.</em> </blockquote>
<p><strong>This simple but heartfelt</strong> couplet (translation above by James Michie in 1969) is the best-known Latin love epigram â€“ a short poem in elegiac metre â€“ that survives from Ancient Rome. Composed by the poet Catullus around <span>55 BCE,</span> <span>number 85</span> of his book of <span>116 poems,</span> it pithily encapsulates the searing conflict of emotions that he claims to be experiencing in the course of his affair with a younger married woman, who is addressed in other poems as his â€˜girlâ€™ (<em>puella</em>) and by the pseudonym â€˜Lesbiaâ€™. But for such a short poem â€“ just 14 words in Latin â€“ it has raised a whole host of questions, and hundreds of pages have been written about it. What is the point of the poem? How should it be translated from the Latin? How does it relate to the poetâ€™s life and feelings? Its psychology comes across as complex and strikingly modern, as does much of Catullusâ€™s poetry; to some, the questions it raises might seem more suited to a post-FreudÂ­ian examination of mental conflict than to the concerns of an ancient poet. We might recognise that the opposite emotions of love and hate can be simultaneously entertained; but how, after all, does that work?</p>
<p>In its original Latin, <span>Poem 85</span> is a so-called elegiac couplet, in which a longer line (hexameter) is followed by a shorter one (pentameter). The words of the poem have been placed with care. The couplet is composed in a criss-cross pattern, beginning and ending with two verbs of intense emotional connotation: <em>odi</em>, â€˜I hateâ€™; and <em>excrucior</em>, â€˜Iâ€™m rackedâ€™. The first line concludes with the questÂ­ioning <em>requiris</em>, â€˜you askâ€™; the second opens with the answer <em>nescio</em>, â€˜I donâ€™t knowâ€™. The middle of the first line has <em>faciam</em>, â€˜I doâ€™; the middle of the second has its passive counterÂ­part <em>fieri</em>, â€˜is being doneâ€™ (related to <em>fiat</em> â€“ literally, â€˜let it be doneâ€™).</p>
<p>The couplet thus mimics by its shape the image of the poet being pulled apart in opposite directions, an image made explicit by the verb <em>excrucior</em>. That word (the root of our â€˜excruciatingâ€™) will have evoked for Romans the noun <em>crux</em> (plural <em>cruces</em>). Although in the <span>1st millennium CE</span> <em>crux</em> came to be heard almost exclusively to mean â€˜crossâ€™ with reference to the crucifixion of Christ, in CatullÂ­usâ€™s time it was more commonly used to signify the â€˜rackâ€™. This was the standard instrument of torture in the Roman world, to which unfortÂ­unate victims were bound by their hands and legs so that their bodies might literally be pulled apart.</p>
<p>While Catullus remains utterly infatuated with Lesbia, she has proved to be <br>distressÂ­ingly fickle to him</p>
<p>No less cruel and visible as a method of executÂ­ion in the Roman world was crucifixion. Catullus was in his teens when in <span>71 BCE</span> the slave-revolt led by Spartacus was quelled, and he would probably have witnessed at first hand the gruesome sight of 6,000 captured slaves being nailed or strung up to die on wooden crosses along the Appian Way leading from Rome to Capua. WhatÂ­ever the precise image intended by Catullus as a parallel to his own feeling of torment, what is evident is that the combination of hate and love, pulling him in different directions, is making him feel as if he is being â€˜racked to deathâ€™: the <em>ex</em> of <em>excrucÂ­ior</em> connotes a process leading towards expiry and extinction, as well as extenÂ­sion â€“ both in time and across space. Moreover, Catullus claims, thereâ€™s nothing he can <em>do</em> about it: heâ€™s simply the object of this torturous and self-contradictory feeling. His response to someone who might wish to enquire (<em>requiÂ­ris</em>) about what heâ€™s â€˜doingâ€™ (<em>faciam</em>) is that heâ€™s not â€˜doingâ€™ anything, but that he senses (<em>sentio</em>) it â€˜being doneâ€™ (<em>fieri</em>) to him: the passive form of the verb corresÂ­ponds to his own passivÂ­ity in the process heâ€™s describing.</p>
<p>However, just before Catullus presents himself as the helpless victim of opposing emotÂ­ions, the answer he gives to the imagined question is unequivocal: â€˜I donâ€™t knowâ€™. The implication of <em>nescio</em> (the negative of <em>scio</em>, â€˜knowâ€™, whence comes our word â€˜scienceâ€™) has been overlooked by generations of translators from the Latin, who have rendered the word <em>quare</em> as â€˜whyâ€™ or â€˜the reason whyâ€™ rather than â€˜howâ€™ â€“ even though itâ€™s clear that Catullus does know, as do his readÂ­ers, why or for what reason heâ€™s prey to emotional conflict. For instance, one of the poemâ€™s earliest English transÂ­lators, the poet Richard Lovelace (1617-57), renders it as:</p>
<blockquote>I hate and love; wouldâ€™st thou the reason know?<br>I know not, but I burn, and feel it so.</blockquote>
<p>Similarly, the translator in the popular Loeb series, which prints classical texts with facing versions in straightforward English, in 1976 had it as:</p>
<blockquote>I hate and love. Why I do so, perhaps you ask? <br>I know not, but I feel it, and I am in torment.</blockquote>
<p>Such translations using â€˜whyâ€™ followed by â€˜I donâ€™t knowâ€™ ask us to suppÂ­ose that Catullus is claiming an inability to understand the reason for his painful emotional turmoil. Yet the poet has already made it abundantly clear, in several other poems describing his affair with Lesbia, that he knows the reason only too well: while he remains utterly infatuated with her, she has proved distressÂ­ingly fickle to him, willing to be unfaithful not only to her husband but to her adultÂ­erous liaison with the poet too. In <span>Poem 72</span> (my translation), Catullus analyses the effect on him of Lesbiaâ€™s infidelity:</p>
<blockquote>You used to say you had eyes for Catullus alone, <br>Lesbia, and would rather hold me in your arms than Jove. <br>My feelings for you then were not just vulgar lust,<br>but the kind of love a father feels for his children and their kin. <br>Now that I know your ways, my desire for you burns ever fiercer,<br>even though youâ€™re far shabbier in my eyes, and flightier. <br>How can this be, you say: itâ€™s because such hurtful treatment <br>is bound to make one desire oneâ€™s lover more, but like them less.</blockquote>
<p>How is it possible, in terms of logic or emotion, to feel both hate and love towards the same person at the same time?</p>
<p>In the final couplet here, Catullus explains to the reader, in terms very similar to those he uses in <span>Poem 85,</span> the paradox of his feelings. The enquirer doesnâ€™t need to ask the cause of the poetâ€™s pain, here described as <em>iniuria</em> (â€˜hurtful treatmentâ€™) because itâ€™s easy to understand: Catullus is wounded by Lesbiaâ€™s sexual intimacy with other lovers and hotly resents her behaviour; but his desire for her, perhaps intensified by the prospect of losing her to a love-rival, is even stronger.</p>
<p><strong>The reader might still </strong>ask how such divergent feelings as love and dislike can coexist in a lover and be directed towards the same object â€“ indeed, the final line above describes someÂ­thing that feels like such an emotional contradiction, the combinÂ­ation of desire with disliking. That divergence is, in <span>Poem 85,</span> yet more starkly expressed with â€˜I hate and loveâ€™ (rendered more emphatically in translations that repeat the â€˜Iâ€™: â€˜I hate and I loveâ€™). But, again, Catullus would expect the reader to ask not â€˜whyâ€™, but â€˜howâ€™; that is, how is it possible, whether in terms of logic or emotion, for someone to feel both hate and love towards the same person at the same time? Since Catullus knows, as do his readers, <em>why</em> heâ€™s prey to these contradictory feelings, only in answer to the question â€˜howâ€™ can it be reasonable for him to follow up, as he does, with â€˜I donâ€™t knowâ€™. Having declared his ignorance of how the perplexing phenomenon of simultaneous opposing emotions can arise, he then abandons analysis and simply testifies to his own torment.</p>
<p>The correctness of the translation of <em>quare</em> as â€˜howâ€™ is confirmed by lexical data. In Catullusâ€™s time and before (as found, for example, in passages written by Catullusâ€™s older contempÂ­orary, the orator Cicero) <em>quare</em> is used to mean â€˜howâ€™ or â€˜in what wayâ€™. It comes to mean â€˜whyâ€™ in the course of the languageâ€™s histÂ­Â­ory; but given the compelling contextual and linguistic arguments for the understanding of what Catullus is asking in <span>Poem 85,</span> what explanation can there be for the persistÂ­ent mistranslation of <em>quare</em> as â€˜whyâ€™ rather than as â€˜howâ€™ in English? (TransÂ­lations into other languages such as Italian, German and French also tend to fluctuate between rendering <em>quare</em> as â€˜whyâ€™ and â€˜howâ€™).</p>
<p>One answer must be that translators have been influenced by a later Latin couplet thatâ€™s as famous as Catullusâ€™s, and indeed alludes to it. A satirical squib <span>(number 32)</span> composed by the poet Martial in the late <span>1st century CE,</span> more than <span>100 years</span> after Catullusâ€™s death, uses the same couplet form:</p>
<blockquote>I donâ€™t like you, Sabidius, and Iâ€™m unable to say why:<br>All I can say is this: I donâ€™t like you.</blockquote>
<blockquote> <em>Non amo te, Sabidi, nec possum dicere quare: </em><br><em>Hoc tantum possum dicere: non amo te</em>.</blockquote>
<p>Nothing is known of the context of the epigram or of the implied feud between the poet and the otherwise unknown Sabidius. But the poem has won a firm, if anecdotal, place in the annals of Latin studies in England. The story (undoubÂ­tedly apocryphal) is told how, as a student at Christ Church College, Oxford, the writer Thomas Brown (1662-1704) committed a misdeÂ­meanour and was sent for punishment to the college dean, a <span>Dr Fell.</span> The dean required Brown to transÂ­late some Latin verse on the spot, and opened a book of epigrams at random to present him with Martialâ€™s couplet. After a momentâ€™s thought, Brown recited, allegedly to the deanâ€™s delight, his witty and memorable version of the poem:</p>
<blockquote>I do not like thee, Doctor Fell, <br>The reason why I cannot tell; <br>But this I know, and know full well, <br>I do not like thee, Doctor Fell.</blockquote>
<p>In the case of Martialâ€™s epigram, â€˜the reason whyâ€™ is a …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://psyche.co/ideas/loves-contradictions-catullus-on-the-agony-of-infatuation">https://psyche.co/ideas/loves-contradictions-catullus-on-the-agony-of-infatuation</a></em></p>]]>
            </description>
            <link>https://psyche.co/ideas/loves-contradictions-catullus-on-the-agony-of-infatuation</link>
            <guid isPermaLink="false">hacker-news-small-sites-25664867</guid>
            <pubDate>Thu, 07 Jan 2021 00:15:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Generational references: 2.3x faster than reference counting (unoptimized)]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25664708">thread link</a>) | @verdagon
<br/>
January 6, 2021 | https://vale.dev/blog/generational-memory | <a href="https://web.archive.org/web/*/https://vale.dev/blog/generational-memory">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div class="page">
    <div>
  

        <div>
          <div>
  

          <div>
            
    
<p>2.3x faster than reference counting, unoptimized!</p>

              <p><span>Jan 5 2021</span> </p>
      
</div>
<section>
<p>
<b>Generational references</b> are a new memory management technique that's easy, deterministic, and <i>very</i> fast.
</p>

</section>
<section>
<p>
This technique is the first ingredient in Vale's final <a href="https://vale.dev/blog/hybrid-generational-memory">hybrid-generational memory</a> design, which is even faster. Our eventual goal is to be as fast as Rust, and perhaps even as fast as C++, while being safer than both. <a href="#note0" data-noteid="0">0</a>
</p>
<p>
This article explains how generational references work, how they compare to reference counting, and what makes it all so fast. <a href="#note1" data-noteid="1">1</a>
</p>

</section>
<section>
<h2 id="built-on-single-ownership">
 Built on Single Ownership</h2>
<p>
Recall that in Vale, an object is freed when its <b>owning reference</b> goes out of scope. An object always has exactly one owning reference pointing to it.
</p>
<p>
We can have as many <b>non-owning</b> references as we want. <a href="#note2" data-noteid="2">2</a>
</p>
<p>
In other languages, when a programmer frees an object and then accidentally dereferences a non-owning reference to it, it can cause memory unsafety and vulnerabilities. <a href="#note3" data-noteid="3">3</a>
</p>
<p>
Our goal is to detect this situation and react to it safely. <a href="#note4" data-noteid="4">4</a>
</p>

</section>
<section>
<h2 id="generational-malloc-and-the-sacred-integer">
 Generational Malloc and the Sacred Integer</h2>
<p>
Generational references use <b>generational malloc</b>, which is like regular malloc, except at the top of every allocation is a <b>generation number</b>, which tracks how many objects have previously been at this memory location.
</p>
<p>
One could also think of it as describing "I am the <b>n</b>th inhabitant of this memory location".
</p>
<p>
Freeing an object will increment its generation number. Nobody else ever modifies it.
</p>

</section>
<section>
<p>
Later on, we use this number to see if a particular object is still alive, explained further below.
</p>

</section>
<section>
<p>
Generational malloc would normally be an adjustment to mimalloc or jemalloc, but we can simulate it with our own <span>genMalloc</span> and <span>genFree</span> functions:
</p>
<ul>
<li>
<span>genFree</span> increments the generation number, and instead of calling <span>free</span> <a href="#note5" data-noteid="5">5</a><a href="#note6" data-noteid="6">6</a>, remembers the allocation in a free-list. There's a free-list for every size class (16b, 24b, 32b, &lt;=48b, &lt;=64b, &lt;=128b, etc).
</li>
<li>
<span>genMalloc</span> pulls from a free-list if possible. If it's empty, it calls <span>malloc</span> and initializes the generation number to 1.
</li>
</ul>
<p>
You can find our experimental implementation in <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a>.
</p>

</section>

      </div>
  
<div>

      <nav>
      <p>Generational References</p>
    


      </nav>
      
    

      <div>
        <div>
    
<div id="note0" data-noteid="0">
<p><span>0</span></p><section>
<p>
See <a href="https://vale.dev/blog/hybrid-generational-memory">HGM</a>'s afterword for a hypothetical comparison with Rust!
</p>

</section>
</div>
<div id="note1" data-noteid="1">
<p><span>1</span></p><section>
<p>
 Vale has three release modes:
</p>
<ul>
<li>
<b>Resilient:</b> Fast and 100% safe.
</li>
<li>
<b>Assist:</b> for development, detects logic problems.
</li>
<li>
<b>Unsafe:</b> turns off all safety.
</li>
</ul>
<p>
Resilient mode uses hybrid-generational memory.
</p>

</section>
</div>
<div id="note2" data-noteid="2">
<p><span>2</span></p><section>
<p>
This distinction is similar to C++'s <span>unique_ptr&lt;T&gt;</span> and <span>T*</span>.
</p>

</section>
</div>
<div id="note3" data-noteid="3">
<p><span>3</span></p><section>
<p>
Rust partially solves this, but forces complexity on the programmer and doesn't solve the <a href="https://en.wikipedia.org/wiki/ABA_problem">ABA problem</a>. We'd like a solution that's simpler, solves the whole problem, with as little <a href="https://vale.dev/blog/hybrid-generational-memory#afterword-how-might-it-compare-to-rust">run-time overhead as Rust</a>.
</p>

</section>
</div>
<div id="note4" data-noteid="4">
<p><span>4</span></p><section>
<p>
Such as by halting or stack unwinding.
</p>

</section>
</div>
<div id="note5" data-noteid="5">
<p><span>5</span></p><section>
<p>
 Our experimental implementation doesn't release memory back to the OS until exit, but when a page is empty, the final version will release the page back to the operating system and map its virtual memory to a read-only page containing all 0xFF.
</p>

</section>
</div>
<div id="note6" data-noteid="6">
<p><span>6</span></p><section>
<p>
 When an allocation's generation can't be incremented any more, it's not used again (at least until we can re-map the page).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="generational-reference-more-than-just-a-pointer">
 Generational Reference: More than just a pointer!</h2>

</section>
<section>
<p>
Vale's references are <b>generational references</b>. A generational reference has two things:
</p>
<ul>
<li>
A pointer to the object.
</li>
<li>
A "target generation" integer.
</li>
</ul>
<p>
To create a reference to an object, we get its allocation's generation number, and include it in the reference.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="dereferencing">
 Dereferencing</h3>

</section>
<section>
<p>
To dereference a generational reference, we do a "liveness check" to see whether the allocation's generation number <b>still matches</b> our reference's target generation. <a href="#note7" data-noteid="7">7</a>
</p>
<p>
This prevents use-after-free problems, and makes Vale completely memory safe.
</p>

</section>
<section>
<p>
It's as if the reference is saying:
</p>
<p><b>"Hello! I'm looking for the 11th inhabitant of this house, are they still around?"</b>
</p>

</section>
<section>
<p>
and the person who opens the door says:
</p>
<p><b>"No, sorry, I'm the 12th inhabitant of this house, the 11th inhabitant is no more."</b> <a href="#note8" data-noteid="8">8</a>
</p>
<p>
or instead:
</p>
<p><b>"Yes! That is me. Which of my fields would you like to access?"</b>
</p>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note7" data-noteid="7">
<p><span>7</span></p><section>
<p>
 This is similar to the "generational indices" technique from C++ and Rust, but applied to the entire world instead of just a specific vector.
</p>

</section>
</div>
<div id="note8" data-noteid="8">
<p><span>8</span></p><section>
<p>
 This will safely halt the program, unless the user is explicitly checking whether something is alive (such as for a weak reference).

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h2 id="speed">
 Speed</h2>

</section>
<section>
<p>
Generational references are only the first steps towards hybrid-generational memory, but we decided to run some early experiments to see how it compares to existing memory models.
</p>
<p>
For this experiment, we benchmarked <a href="#note9" data-noteid="9">9</a> <a href="#note10" data-noteid="10">10</a> three flavors of Vale:
</p>
<ul>
<li>
<b>Unsafe</b>, with no memory safety, the equivalent of C++ (minus caveats, see below!)
</li>
<li>
<b>RC</b>, where we use naive reference counting for all our objects.
</li>
<li>
<b>GM</b>, which uses generational references.
</li>
</ul>

</section>
<section>
<div>
  <table>
    <thead>
      <tr>
        <th>Mode</th>
        <th>Speed&nbsp;(seconds)</th>
        <th>Overhead Compared to Unsafe (seconds)</th>
        <th>Overhead Compared to Unsafe (%)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th>Unsafe</th>
        <td>43.82&nbsp;seconds</td>
        <td>n/a</td>
        <td>n/a</td>
      </tr>
      <tr>
        <th>RC</th>
        <td>54.90&nbsp;seconds</td>
        <td>+11.08&nbsp;seconds</td>
        <td>+25.29%</td>
      </tr>
      <tr>
        <th>GM</th>
        <td>48.57&nbsp;seconds</td>
        <td>+4.75&nbsp;seconds</td>
        <td>+10.84%</td>
      </tr>
    </tbody>
  </table>
</div>


</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note9" data-noteid="9">
<p><span>9</span></p><section>
<p>
 We used the <a href="https://github.com/ValeLang/Vale/tree/master/benchmarks/BenchmarkRL/vale">BenchmarkRL</a> terrain generator to gather these numbers, with different values for the <span>--region-override</span> flag: <span>unsafe-fast</span>, <span>naive-rc</span>, and <span>resilient-v3</span> respectively.
</p>

</section>
</div>
<div id="note10" data-noteid="10">
<p><span>10</span></p><section>
<p>
 Here, we benchmarked against other flavors of Vale, to isolate the differences between unsafe, reference-counting, and generational references.
</p>
<p>
Once we implement full hybrid-generational memory, we'll be benchmarking against C++ and Rust, stay tuned!

</p>

</section>
</div>

        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<p>
Generational references have only 10.84% overhead, <b>less than half the cost of reference counting!</b> These are very promising results, and suggest that full hybrid-generational memory could be incredibly fast.
</p>

</section>
<section>
<p>
Try it out! In the Vale release, you can find a benchmark folder with scripts to run the benchmarks. You can find the source code for the various approaches <a href="https://github.com/ValeLang/Vale/tree/master/Midas/src/c-compiler/region">here</a> (feel free to swing by the <a href="https://discord.gg/SNB8yGH">discord server</a> and we can point you to the right files).
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
<b>Note these caveats!</b> To isolate the difference between generational references and the other approaches:
</p>
<ul>
<li>
In all flavors, we only allocate objects on the heap, except for primitives. Future versions will add stack allocations.
</li>
<li>
We used <a href="https://github.com/ValeLang/Vale/blob/master/Midas/src/builtins/genHeap.c">genHeap.c</a> for all versions, though only GM ever touches the generation number, the other versions ignore it. Future versions will integrate generational malloc into jemalloc or mimalloc directly.
</li>
</ul>
<p>
Once we address these limitations, we can get more precise benchmarks against the other approaches.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h2 id="why-is-this-so-fast">
 Why is this so fast?</h2>

</section>
<section>
<p>
Generational references are much easier for the CPU to handle than reference-counted references, because:
</p>
<ul>
<li>
Generational references have no aliasing/dealiasing overhead, just on dereference.
</li>
<li>
Generational references cause less cache misses.
</li>
<li>
Liveness checks' branching is easier to predict than RC decrements' branching.
</li>
</ul>

</section>
<section>
<p>
We explain these two differences more below.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<h3 id="no-aliasing-costs">
 No Aliasing Costs</h3>

</section>
<section>
<p>
Reference counting is costly:
</p>
<ul>
<li>
Whenever we "alias" (make a new reference to an object), we have to dereference the object to increment its counter.
</li>
<li>
Whenever we "dealias" (throw away a reference), we have to:
</li>
<ul>
<li>
Dereference the object to decrement its counter,
</li>
<li>
If the counter is zero, deallocate it.
</li>
</ul>
</ul>
<p>
For example:
</p>

    <div>
      
      <p><span><span>fn <span>launchShip</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>, <span><span><span>armada</span></span> <span>&amp;<span><span>List</span>&lt;<span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>)</span> <span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<br>    <p>  <span><span>armada</span><span>.</span><span>add</span>(<span>ship</span>)</span>;</p><p>  <br>  <br>  <br>  <br>  <br>  <br>}</p></span></span></span></p>
    </div>
  
<p>
As you can see, reference counting incurs a cost whenever we alias or dealias. <b>Generational references don't have that cost.</b> The above snippet would have zero overhead if it used generational references.
</p>

</section>

      </div>
  


    </div>
    <div>
      <div>
  
<section>
<p>
Instead, generational references incur a cost whenever we dereference an object:
</p>

    <div>
      
      <p><span><span>fn <span>getShipName</span><span>(<span><span><span>ships</span></span> <span>&amp;<span><span>Map</span>&lt;<span>int</span>, <span>&amp;<span>Spaceship</span></span>&gt;</span></span></span>, <span><span><span>id</span></span> <span>int</span></span>)</span> <span><span>str</span> </span><span>{<br>  <span><span><span><span>ship</span></span></span> = <span><span>ships</span><span>.</span><span>get</span>(<span>id</span>)</span></span>;<p>  <br>  <br>  <span>ret <span><span>ship</span><span>.</span><span>name</span></span>;</span><br>}</p></span></span></span></p>
    </div>
  

</section>
<section>
<p>
This is cheaper because <b>programs dereference less than they alias and dealias:</b> our sample program had 4.7 million counter adjustments, but only 1.3 million liveness checks. <a href="#note11" data-noteid="11">11</a> <a href="#note12" data-noteid="12">12</a>
</p>

</section>
<section>
<h3 id="more-cache-friendly">
 More Cache Friendly</h3>
<p>
Reference counting is not very "cache friendly". Adding and subtracting integers is basically free on modern CPUs, but the real bottleneck in modern programs is how <i>far</i> those integers are: if it's been recently accessed, it's in the nearby cache, and only takes a few CPU cycles to fetch. Otherwise the CPU will "cache miss" and have to bring it in all the way from RAM, which could take <b>hundreds</b> of cycles. <a href="#note13" data-noteid="13">13</a>
</p>
<p>
In our reference-counted <span>launchShip</span> example, the <span>ship.__ref_count++</span> could take a few cycles if <span>ship</span> is already in the cache, or hundreds of cycles if it's not.
</p>

</section>
<section>
<p>
Generational references are more cache friendly:
</p>
<ul>
<li>
When a generational reference goes away, we don't need to reach into memory (unlike RC, where we have to decrement a counter).
</li>
<li>
We don't need to increment when aliasing (see previous section); we don't need to reach into memory to increment.
</li>
</ul>

</section>

      </div>
  
<div>

      <div>
        <div>
    
<div id="note11" data-noteid="11">
<p><span>11</span></p><section>
<p>
 Half of these are aliasings and half are dealiasings. Aliasing happens whenever we access a member (e.g. <span>person.name</span>) or make a new reference (e.g. <span>&amp;person</span>).
</p>

</section>
</div>
<div id="note12" data-noteid="12">
<p><span>12</span></p><section>
<p>
 Many languages are able to skip a lot of the adjustments, using static analysis. For example, Lobster can remove up to 95%. Our experiment doesn't have those optimizations; it compares naive RC to naive generational references.
</p>

</section>
</div>


        </div>
      </div>
    
</div>

    </div>
    <div>
      <div>
  
<section>
<h3 id="better-branch-prediction">
 Better Branch Prediction</h3>
<p>
For a given if-statement, CPUs will predict whether we'll go down the "then" branch or the "else" branch. This is called …</p></section></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://vale.dev/blog/generational-memory">https://vale.dev/blog/generational-memory</a></em></p>]]>
            </description>
            <link>https://vale.dev/blog/generational-memory</link>
            <guid isPermaLink="false">hacker-news-small-sites-25664708</guid>
            <pubDate>Thu, 07 Jan 2021 00:05:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All Our Selves in One Basket – on centralization of social spaces]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25664196">thread link</a>) | @InvisibleUp
<br/>
January 6, 2021 | https://invisibleup.com/articles/31/ | <a href="https://web.archive.org/web/*/https://invisibleup.com/articles/31/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
	
	
	<img src="https://invisibleup.com/articles/31/thumb.png" alt="All Our Selves In One Basket thumbnail">
	
	
	
	<p>Published 2020-09-02</p>
	

	
<p>There's a classic old idiom, "don't put your eggs all in one basket". The reasoning goes, what if the basket breaks? What if the basket isn't big enough, or gets stolen, or was cursed by a witch or something? It's important to have redundancy, to spread the eggs across many basket so that there's no one single point of failure.</p>
<p>But if we look at society, if we look at the internet, if we look at the communities we've built ourselves around... unfortunately, I believe that's exactly what a lot of us are doing. Being able to be yourself, being able to choose how you present yourself to the world, being able to tailor your living environment to your needs and desires? That's all very, very important. But if you give the keys to your self-expression and the options for the communities you belong in to one small, largely unknown group of people, that's not good.</p>
<p>In this ludicrously in-depth article, we'll be discussing how society limits both individual and community self-expression both online and offline.</p>
<h2>Part 1: The Third Place</h2>
<p><img alt="A house, labeled '1', an office complex, labeled '2', and a '3' with a question mark" src="https://invisibleup.com/articles/31/thirdplace.png"></p>
<p>Very, very broadly speaking, a working-class person (that is, not an "owner" like a CEO, landlord, or investment banker) lives their life in three kinds of places. The first place is home. It's where you sleep, it's where you do your hobbies, it's where you have privacy and family and possibly friends if you want to invite them over. The second place is work, where you do a job to contribute to society and receive wages.</p>
<p>But clearly, we do more than that. We go to other places. Grocery stores and shops, of course, but besides that. The "third place" is where you spend your time in public, in your community. American urban sociologist Ray Oldenburg, who came up with the concept of "the third place" in his 1989 book "The Great Good Place", defines the third place as (commonly seen as) eight characteristics.</p>
<ol>
<li>There is no obligation to be here for legal, survival, political, etc. reasons. You can just <em>not show up</em>.</li>
<li>Everyone is equal. The rich, the poor, the minorities and the majorities all intermingle together in one common space.</li>
<li>Conversation and socializing is the main activity. You go here to "hang out".</li>
<li>They're accessible and accommodating for anyone who wants to visit.</li>
<li>It's a place where people regularly go, and whose regulars give the space its vibe and characteristics.</li>
<li>The physical place is not overly pretentious or imposed. It feels like <em>the community</em>, like an extension of home.</li>
<li>Generally speaking, the vibe here is more calm and friendly and playful than actively hostile and argumentative.</li>
<li>You feel like you have genuine ownership in the place, as if it's almost a communal home for you and the people you care about.</li>
</ol>
<p>That's a relatively high bar, when spelled out like that. In pandemic-era America you'd be very hard pressed to name a place like this. Offline, anyways. But this sort of pattern has shown up a lot in history, because as it turns out people <em>like</em> having a communal space to just vibe in.</p>
<h3>The Town Square</h3>
<p><img alt="The Zócalo in Mexico City" src="https://invisibleup.com/articles/31/zocalo.jpg"></p>
<p>The most obvious example in urban environments is the town square or the plaza. It's an open area in the middle of town, usually with benches and close access to shops and homes and such. Pictured is <em>La Plaza del Zócalo</em>, the main square of Mexico City. It's been a meeting spot for the people of the area since the Aztec times, an important location for numerous historical events, and significant enough to warrant its own Wikipedia page. That's really amazing for a 240 m^2 slab of concrete. What's even more amazing is that it <em>wasn't</em> always a slab of concrete. Here's a model of how it looked in 1910.</p>
<p><img alt="The Zócalo in Mexico City" src="https://invisibleup.com/articles/31/zocalo1910.jpg"></p>
<p>It was a big park area! With a bunch of trees and benches and everything. Unfortunately, the very shaky politics of 20th century Mexico left the area in major disrepair by the 1970s, and it became that. I am not from Mexico, nor do I know anyone from the region, so I can't comment on what that did to the community in Mexico City. But as an outsider, I'd consider the 1910 Zócalo much more friendly and inviting than the modern one, which is literally a flat surface with a flagpole in the middle all surrounded by a busy road.</p>
<p>Obviously that isn't the only example. These tend to be a staple of small European and Hispanic towns. Just, a place, in your neighborhood, to go and chill. Other famous examples include the Roman Forum, the Greek Agoras, the National Mall of Washington D.C, and the "quads" or "diags" of most college campuses.</p>
<h3>Shopping Malls</h3>
<p>It is incredibly worth pointing out that town squares only make sense in urban contexts, where there's a dense population of people who live, work, and shop in one general area. The appeal of town squares is that they're basically on the way to wherever you're going, so it's a really nice spot to meet up with friends or just go if you're bored.</p>
<p>Suburbia is <em>not</em> that. Or, more accurately, it is that, <em>at the scale of the car.</em> See, America's fascination of suburban sprawl has a long detailed history to it. Paraphrasing from (imo) a very good book, "Repairing the American Metropolis: Common Place Revisited" by Douglas S. Kelbaugh, the blame of sprawl can be pinned down largely on cultural reasons. First off, Americans always solved their resource and land division issues by expansion, growth, "moving out west". It was the safety valve to avoid actually thinking about difficult problems. At the time this was seen as the country's "manifest destiny", which eventually led to <a href="https://www.youtube.com/watch?v=FfoQBTPY7gk">unnervingly cheery songs on children's television happily glossing over the genocide of Native Americans like it was no big deal</a>. And, heck, if we got all this elbow room, why not make everything really, really big? Big houses, big rooms, big parcels of land. And really, really cheap too, because of the glutton of natural resources. And sure, that'll get old and worn sometime, but some of the population will leave for greener pastures anyways, so there's no need to change anything.</p>
<p>So, around the early-to-mid 20th century, when cities were getting too full of colored people who were just demanding rights too loudly, most of the rich white people just up and left. They settled suburban areas outside the cities, less densely populated, with all the backyard space you need to cook out with your neighbors. And via <a href="https://en.wikipedia.org/wiki/Redlining">redlining</a>, it was possible to dig very deeply a concrete "us vs. them" line in the dirt. The newfangled highway system just made it easier to separate the houses from the factories, to drive a wedge in the population. Also, just to drive the point home, federal, state, and local governments have subsidized services like sewer pipe connections, energy, and road building, often funded by taxes generated from the more urban, more productive areas.</p>
<p>An incredibly good example of this is to compare Flint and Burton, MI to the surrounding cities of Grand Blanc, Flushing, and Davison. I could spend a lot of time on this but I'd rather just do a visual comparison.</p>
<p><img alt="Fox Hill Glens of Grand Blanc, MI" src="https://invisibleup.com/articles/31/grandblanc.jpg">
<img alt="Section of the Flint River of Flint, MI" src="https://invisibleup.com/articles/31/flintriver.jpg"></p>
<p>It should be laughably easy to tell which one is which. (The first pic is the Fox Hill Glens of Grand Blanc, which was the first image Google gave me. The second pic is a section of the Flint River between downtown Flint and Kettering University. I took that pic during an urbex tour a few years back, because Flint was somewhat nearby and makes for <em>amazing</em> urbex pics.)</p>
<p>Where this starts to cause issues is that instead of having one core neighborhood with residential, commercial, <em>and</em> industrial areas (in a SimCity-esque model), we've split those sections into their own, largely independent areas, often harshly split on racial or class boundaries. We've got gigantic swaths of houses with maybe a corner store and a gas station, we've got giant industrial parks or office complexes, and we've got the commercial districts.</p>
<p>It's the commercial districts I really want to highlight here. If the residential areas are home, and the industrial/office parks are work, then clearly the third place is the commercial district. Now, there's two ways to approach that. </p>
<p><img alt="A strip mall" src="https://invisibleup.com/articles/31/stripmall.jpg"></p>
<p>The most common approach is to just put a bunch of boxes next to each other, surround it with a parking lot, and call it "a strip mall". Occasionally there will also be a "big box" store, like a Wal-Mart or a Target or a Best Buy or a Kohl's or a Home Depot, either attached or detached.</p>
<p>In the very worst scenarios, you're subject to drive through the <a href="https://www.strongtowns.org/journal/2017/10/30/the-stroad">"stroad", or street-road</a>, where all the shops each have their own driveway and their own parking space and it's hostile to both people <em>and</em> cars.</p>
<p>You drive here (or take the bus, if you're poor and you're fine with the once-an-hour service), you shop, you drive home. You don't really spend time here. There is literally nothing here besides concrete boxes. And also the constant issue of cars driving past you. Hope you like sprinting across five lanes of traffic moving at 40 mph!</p>
<p>Enter Austrian-born architect <a href="https://en.wikipedia.org/wiki/Victor_Gruen">Victor Gruen</a>. After fleeing to America from the Nazis, on account of being a Jewish socialist, he slowly worked up the career ladder, from draftsman to architect. And he absolutely saw the issues of suburban sprawl. In the 1950s he gave a speech where he called the suburbs "avenues of horror ... flanked by the greatest collection of vulgarity ... ever collected by mankind."</p>
<p><img alt="The Strand Arcade in Sydney CBD, Australia, opened 1892" src="https://invisibleup.com/articles/31/arcade.jpg"></p>
<p>As an alternative, he envisioned a single building, a few shops surrounded by a shared courtyard, protected from the weather. Something of an iteration of the old "arcades", like the Strand Arcade in Sydney, Australia as pictured above. The courtyard was the most substantial improvement, it was somewhere to go <em>in between</em> shopping. The arcade was just a straight hallway normally, literally just shops in a building. The shopping mall was a <em>destination</em>.</p>
<p>Victor has larger goals in mind. He expected this to be just <em>one</em> part of a new, dense, suburban community. He imagined indoor malls with housing, with schools and libraries and doctor's offices and offices, perhaps surrounded outside by high density housing …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://invisibleup.com/articles/31/">https://invisibleup.com/articles/31/</a></em></p>]]>
            </description>
            <link>https://invisibleup.com/articles/31/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25664196</guid>
            <pubDate>Wed, 06 Jan 2021 23:25:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A new SaaS metric for demonstrating the ROI of community]]>
            </title>
            <description>
<![CDATA[
Score 109 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25663937">thread link</a>) | @someproduct
<br/>
January 6, 2021 | https://orbit.love/blog/whats-your-communitys-nrg | <a href="https://web.archive.org/web/*/https://orbit.love/blog/whats-your-communitys-nrg">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Many DevRel and community teams struggle to demonstrate how their activity impacts key metrics, like revenue.</p><p>We recently learned of a new SaaS metric proposed by <a href="https://openviewpartners.com/">OpenView Partners</a> that we think can help, since it can contextualize the results of community activity within a broader business situation, and help show the impact of community on business growth.</p><p>It’s called <a href="https://openviewpartners.com/blog/new-saas-metric/">Natural Rate of Growth</a> (NRG), and it’s essentially, “<em>how fast a company grows without even trying—before layering on incremental investments in sales and marketing</em>.” Here’s the equation:</p><pre><code>NRG = 100 x Annual Growth Rate x % Organic Signups X % ARR from Products</code></pre><p>In other words, <strong>if your company immediately halted paid search, banner ads, outbound efforts of the sales team, and big marketing campaigns, how much and how quickly growth increase?</strong></p><p>As it turns out, <em>many companies are asking this very question</em>, which creates the perfect opportunity for DevRel and community teams to shine by influencing NRG.</p><p>NRG exists to measure a product's ability to grow through a combination of non-paid traffic and product-centric upsells, like inviting teammates and upgrading one’s plan. <strong>These are areas community teams already influence, but most don’t have a great way to communicate the impact of their effort</strong>. We think NRG is one way to tell the story.</p><p>So how can a company drive more organic signups and ARR from products?</p><h3>Community drives NRG</h3><p>At <a href="http://orbit.love/">Orbit</a>, we think<strong> one way community delivers business value through the generation of organic signups</strong>, which has the side effect of driving ARR from products.</p><p>If you have a high gravity community with engaged and passionate users, they’ll continue engaging with each other whether or not your company is actively participating.</p><p>Just look at <a href="https://community.airtable.com/">Airtable’s community forum</a>. It sees hundreds of posts per week, with the vast majority of engagement coming from non-Airtable community members. If the Airtable team stopped replying to messages for a month, the community would continue to operate.</p><p>Search engines would continue indexing discussions that happen there, and other users would continue to find helpful community-generated content. That content would drive more usage, and lead to deeper product usage and interest in paid features, like Blocks, leading to in-product upgrades. In other words, NRG would increase.</p><p>If community drives growth, how can you increase and measure and expand your community?</p><h3>Gravity helps measure a community’s growth</h3><p>In the <a href="https://github.com/orbit-love/orbit-model">Orbit Model</a>, Gravity is the attractive force of a community that acts to retain existing members and pull in new ones, and we think it’s a key top-level metric company leadership should track.</p><p>It’s based on <a href="https://github.com/orbit-love/orbit-model#reach">reach</a> and <a href="https://github.com/orbit-love/orbit-model#love">love</a>, so an increase in gravity means two things.</p><p>First, it means the community has increased its ability to drive awareness about the community and the product it's built around (Reach). Second, it means the community has increased its level of activity, through PRs, content creation, active discussions, and more (Love).</p><p>When a community's influence and activity increase, so does its gravity.</p><h3>Gravity, NRG, and revenue</h3><p>So what about key SaaS metrics, like revenue and NRG?</p><p>Revenue is the end goal, but if community teams try to influence revenue directly, they risk alienating users with sales-centric tactics. Gravity will drop as everyone leaves the community.</p><p><img src="https://cdn.sanity.io/images/cad8jutx/production/2c753578f9d8bcee8154d76bbfd88ad523c01c94-1220x470.png" alt="Text: Revenue is a natural second-order effect of high gravity. " title="Revenue &amp; Gravity"></p><p>For most communities, <strong>revenue is a natural second-order effect of high gravity</strong>. Just think of an ice cream cone. The larger the scoop on top of the cone, the more ice cream that drips down. With communities, <strong>as gravity increases, more users will end up in the adoption funnel</strong>.</p><p>That means DevRel and communities teams should focus on growing the Reach and Love of their community, leading to higher gravity, which then leads to more organic signups.</p><p>In most cases, <strong>higher gravity leads to more organic signups which leads to increased revenue.</strong></p><p>We think one effective way to demonstrate the impact of community activities, then, is by calculating NRG and showing how community and DevRel contribute.</p><p>As a result, we think DevRel leadership should consider NRG as a metric it reports on, and clearly demonstrate how community and DevRel investments move this important metric.</p></div></div>]]>
            </description>
            <link>https://orbit.love/blog/whats-your-communitys-nrg</link>
            <guid isPermaLink="false">hacker-news-small-sites-25663937</guid>
            <pubDate>Wed, 06 Jan 2021 23:03:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Report: 60% of US companies are under financial or operational stress]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25663393">thread link</a>) | @finphil
<br/>
January 6, 2021 | https://nuadox.com/post/639600728973934592/60-percent-of-us-companies-are-under-stress | <a href="https://web.archive.org/web/*/https://nuadox.com/post/639600728973934592/60-percent-of-us-companies-are-under-stress">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div> 
                 
                    
                    <article id="639600728973934592">
                        <div>
                            <div>
                                <a href="https://nuadox.com/post/639600728973934592/60-percent-of-us-companies-are-under-stress"><h2>Report: 60% of US companies are under financial or operational stress, 14% in distress</h2></a>
                                <figure data-orig-width="1920" data-orig-height="1242"><img src="https://64.media.tumblr.com/86199f9ec3706d2d5e0ab3e58a8dae91/c46ea7b7d30d1d77-62/s1280x1920/ff358ae657002c368b877c8458fe18f34610a19b.jpg" alt="image" data-orig-width="1920" data-orig-height="1242" width="1280" height="828"></figure><p><b>- By&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.bcg.com%2F&amp;t=YzY0OWNkOWI1NjhjMGRhNjQ2N2Y2MmUyOTM1OTc1ZDA2MDU2NTFkYSxQMVFpanA2SA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639600728973934592%2F60-percent-of-us-companies-are-under-stress&amp;m=0&amp;ts=1610225102">Boston Consulting Group (BCG)</a> -</b></p><p>More than seven months into the novel coronavirus pandemic, a disturbingly large number of US companies are at risk, according to new research from Boston Consulting Group (BCG) confirming that economic distress is deeply entrenched and shows no sign of letting up.</p><p>More than 60% of US companies analyzed are under financial or operational stress as of the end of the second quarter of 2020, a 49% increase from the end of the second quarter of 2019, according to BCG analysis. And 14% are in distress—either challenged to meet their financial obligations or under operational pressure that requires significant restructuring. That represents a 43% increase over the previous year. The lack of additional government stimulus puts many of these companies at risk.</p><p>Those are among the most significant findings from the BCG TURN Radar index. The index, developed by BCG TURN, BCG’s special transformation, turnaround, and restructuring unit, tracks a company’s distress based on over 20 key performance indicators in three categories: financial, market, and qualitative. The Radar index reports on over 25,000 publicly-traded companies, with more than $100 million in revenue, across 80 countries and 20 industry sectors. There were 721 US companies tracked for distress. A company is measured against its peers, its industry, and the overall sample, and its score places it in one of three groups—either stable, stressed (underperforming in its industry or under internal or external pressure), or distressed.</p><p>The US picture is bleak, but not the worst on a global basis—in Central Europe, the Middle East, and Africa, the number of companies in distress has gone up 83%.</p><p>Overall, the BCG TURN Radar index portrays the US and global economy struggling as the pandemic maintains its grip.</p><h2><b>The US is hard-hit, and key sectors suffer, but others, boosted by pandemic demand, outperform</b></h2><p>Some US sectors have been particularly hard-hit—notably, those directly affected by the pandemic and those already challenged before the pandemic’s economic downdraft took hold.</p><p>Among the US industries suffering the most are automotive and mobility (52% stressed, 16% distressed), travel and tourism (61% stressed, 16% distressed), and retail (67% stressed, 18% distressed).</p><p>Health care providers, biopharma, the technology industry, and transportation and logistics have been the least impacted. All of these sectors have been boosted by pandemic-related demand. Health care providers and biopharma are showing significantly less stress than in the same period last year. Both have benefited from pandemic-related activity and investment. In 2019, almost 42% of biopharma companies were in distress. In 2020, that figure fell to 25%. In multiple sectors, there are big gaps between winners and losers, and research shows that large companies may achieve a stronger recovery.</p><p>“BCG TURN Radar confirms the impression created by stories of business failures and layoffs—the COVID-19 pandemic is causing deep, structural changes that are likely to be long-lasting,” says Luke Pototschnik, BCG senior partner, and head of the firm’s Transformation practice and BCG TURN in North America. “The impact may be most severe on companies that were challenged to begin with. But the good news is that there are actions companies can take—such as generating short-term cash to fund long-term investment—that can mitigate the worst of the downturn and help set them on the path to recovery.”</p><h2><b>Some subsectors stand out even in stressed industries, and the gap between winners and losers grows</b></h2><p>While the Radar index raises alarms about several major sectors of the US economy, it also finds winners even in underperforming sectors.</p><p>Many of the sectors faring worst are those that faced pre-pandemic structural challenges. “The automobile industry is struggling more than others,” says Pototschnik. “Even before the pandemic, it was dealing with significant changes such as the shift to electric vehicles, which requires investment. But in the pandemic economy, investment may be hard to come by.”</p><p>Similarly, the bankruptcy rate has been high in the already-challenged oil and gas sector, and Radar suggests that bankruptcies are likely to continue, with over 57% of the sector under stress and over 10% in distress.</p><p>Of more note is the widening gap between winners and losers in several sectors as some industries suffer while other outperform. “In most cases, outperformance is driven by pandemic-related consumer and business spending,” Pototschnik says.</p><ul><li>Most of the retail sector has moved from “stable” to “stressed,” with over 52% of restaurants in distress—but large groceries are doing well, with over 43% in stable territory.</li><li>Similarly, IT services are suffering, with over 50% in distress, but digital devices and services are thriving, with over 42% stable. The numbers reflect the sudden and massive shift from office work to remote work.</li><li>Shipping companies are performing strongly thanks to the upsurge in e-commerce, with 32% stable, while 47% of logistics companies are stressed as the result of an overall slowdown in global trade.</li></ul><p>“In several sectors, the gap between winners and losers is widening,” Pototschnik says. “Some of this may be the result of pandemic-related behavior patterns that will normalize over time. But some of these patterns, such as the shift to remote work, may be long-lasting, and some industry sectors may be permanently reshaped.”</p><h2><b>Bankruptcy rates will increase, data providers may thrive, and large companies have an advantage</b></h2><p>The Radar index does not predict future performance, and, as Pototschnik notes, “Prediction is made difficult by the complex dynamics of the pandemic. But the index, combined with our observation of certain macro trends, does suggest some outcomes.” Among BCG’s projections:</p><ul><li>Bankruptcy rates will increase, partly as a result of the robust and trustworthy bankruptcy process in the US and North America.</li><li>Bankruptcy is already underway in retail and in oil and gas. Telecom is in distress, in part due to its high investment requirements. Restructuring will come to manufacturing as supply chain networks are revisited, but instead of bankruptcy, transformation may take the form of changes in market structures.</li><li>Severe uncertainty is driving an appetite for data; industries and companies that provide data and analytics are likely to be strong performers. Technology will perform well in the long-term, even if the nature of office work is fundamentally changed. Travel and tourism will rebound once a vaccine Is developed, trusted, and distributed at scale. Sectors such as retail that have deeper business model problems apart from the pandemic are likely to lag.</li><li>Size may also be a predictor of survival. Radar shows that large companies, even in distressed industries, have more upside potential. “There are reasons why this makes sense,” Pototschnik says. “Large companies typically have healthier balance sheets. They have greater access to capital markets. They have more diversified product lines and portfolios. And they are less vulnerable than smaller companies to private-equity and activist intervention. All of these factors seem to add up to a greater margin of safety.”</li></ul><h2><b>Companies can take action to improve their odds</b></h2><p>Finally, individual companies can act to improve their odds for recovery. Separate BCG TURN research identifies the steps that leading companies take in times of crisis that lead to superior performance. Leading companies act proactively, investing in projects that generate short-term cash in order to fund long-term investments. They increase the pace of innovation, streamline the organization to maximize efficiency and capitalize on digital, and build crisis management and scenario planning capabilities to increase their resilience. “Companies that took these steps during the 2008–2009 financial crisis recovered faster and performed better than their peers,” Pototschnik says.</p><p>“The COVID-19 pandemic is a massive historic event—it is stressing companies, industries, and national and global economies to the limit,” Pototschnik says. “BCG TURN Radar indicates that that the stress is severe, and many organizations will be forced to restructure. But those that take a strategic view of restructuring and look at it as an opportunity to rethink their business stand a better chance of leading when the recovery ultimately arrives.”</p><p>–</p><p><b>Source:&nbsp;<a href="https://t.umblr.com/redirect?z=https%3A%2F%2Fwww.prnewswire.com%2Fnews-releases%2Fmore-than-half-of-us-companies-are-under-financial-or-operational-stress-and-14-are-in-distress-as-pandemics-economic-impact-deepens-301201503.html&amp;t=ZTQ5OWFlZWU0YjA3MTE0NjdiZDZhYmUyZDU5YjJjMDk1YWE2ZTI2YSxQMVFpanA2SA%3D%3D&amp;b=t%3AeWj9QNbkB8x7_Y2XTyPu8A&amp;p=https%3A%2F%2Fnuadox.com%2Fpost%2F639600728973934592%2F60-percent-of-us-companies-are-under-stress&amp;m=0&amp;ts=1610225102">Boston Consulting Group (BCG)</a></b></p><h2><b>Read Also</b></h2><p><a href="https://nuadox.com/post/624363186289852416/new-normal-for-tech-webinar">Shaping the new normal for tech post COVID-19 (webinar)</a></p>
                    
                      
                    
                    
                    
                    
                    
                    
                    
                    
                                             
                                <p><span>
                                    <p>
                                    
                                        <a href="https://nuadox.com/tagged/covid19">covid19</a>
                                    
                                        <a href="https://nuadox.com/tagged/economy">economy</a>
                                    
                                        <a href="https://nuadox.com/tagged/usa">usa</a>
                                    
                                        <a href="https://nuadox.com/tagged/coronavirus">coronavirus</a>
                                    
                                        <a href="https://nuadox.com/tagged/pandemic">pandemic</a>
                                    
                                        <a href="https://nuadox.com/tagged/featured">featured</a>
                                    
                                    </p>
                                </span></p>
                                
                            </div>
                        </div>
                    </article>
                 
                </div></div>]]>
            </description>
            <link>https://nuadox.com/post/639600728973934592/60-percent-of-us-companies-are-under-stress</link>
            <guid isPermaLink="false">hacker-news-small-sites-25663393</guid>
            <pubDate>Wed, 06 Jan 2021 22:17:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Germany to order large companies to include women on executive boards]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25662984">thread link</a>) | @vinni2
<br/>
January 6, 2021 | https://www.thelocal.de/20210106/germany-to-require-large-companies-to-include-women-on-boards-cabinet | <a href="https://web.archive.org/web/*/https://www.thelocal.de/20210106/germany-to-require-large-companies-to-include-women-on-boards-cabinet">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p><img src="https://storage.googleapis.com/ddos-shield.appspot.com/shield-logo-mono-darktext.svg" width="250px" height="50px" alt="Project Shield Logo"></p><p>You will be connected to <b>www.thelocal.de</b> in just a moment...</p><p><a href="https://g.co/shield">Learn about Project Shield</a></p></div></div>]]>
            </description>
            <link>https://www.thelocal.de/20210106/germany-to-require-large-companies-to-include-women-on-boards-cabinet</link>
            <guid isPermaLink="false">hacker-news-small-sites-25662984</guid>
            <pubDate>Wed, 06 Jan 2021 21:43:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Experimental Semantic Code Explorer]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 25 (<a href="https://news.ycombinator.com/item?id=25662628">thread link</a>) | @paulshen
<br/>
January 6, 2021 | https://artifacts.bypaulshen.com/code-explorer/02/ | <a href="https://web.archive.org/web/*/https://artifacts.bypaulshen.com/code-explorer/02/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://artifacts.bypaulshen.com/code-explorer/02/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25662628</guid>
            <pubDate>Wed, 06 Jan 2021 21:18:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debugging Lisp (2015)]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25661701">thread link</a>) | @wooby
<br/>
January 6, 2021 | https://malisper.me/category/debugging-common-lisp/ | <a href="https://web.archive.org/web/*/https://malisper.me/category/debugging-common-lisp/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
	<p><a href="#content">Skip to content</a></p><!-- #masthead -->

	
	
	<div id="content">


	<section id="primary">
		<main id="main" role="main">

		
			<!-- .page-header -->

			
				
					
<article id="post-403">
	<!-- .entry-header -->
			<p><em>This post is for all of the miscellaneous features that arent large enough to get their own individual posts. If you havent read all of them, here are the links to the previous posts on </em><em><a href="https://malisper.me/debugging-lisp-part-1-recompilation/">recompilation</a>, <a href="https://malisper.me/debugging-lisp-part-2-inspecting/">inspection</a>, <a href="https://malisper.me/debugging-lisp-part-3-redefining-classes/">class </a></em>… <a href="https://malisper.me/debugging-lisp-part-5-miscellaneous/">Read the rest </a></p><!-- .entry-content -->
				<!-- .entry-meta -->
	</article><!-- #post-## -->

				
					
<article id="post-397">
	<!-- .entry-header -->
			<div>
			<p><em>This is part four of Debugging Lisp. Here are the previous parts on <a href="https://malisper.me/debugging-lisp-part-1-recompilation/">recompilation</a>, <a href="https://malisper.me/debugging-lisp-part-2-inspecting/">inspecting</a>, and <a href="https://malisper.me/debugging-lisp-part-3-redefining-classes/">class redefinition</a>. The next post on <a href="https://malisper.me/debugging-lisp-part-5-miscellaneous/">miscellaneous debugging techniques can be found here</a>.</em></p>
<p>Many languages provide error handling as two … <a href="https://malisper.me/debugging-lisp-part-4-restarts/">Read the rest </a></p>					</div><!-- .entry-content -->
				<!-- .entry-meta -->
	</article><!-- #post-## -->

				
					
<article id="post-372">
	<!-- .entry-header -->
			<div>
			<p><em>This is part 3 of Debugging Common Lisp</em>. If you havent read either of the previous parts, you can find part 1 <a href="https://malisper.me/debugging-lisp-part-1-recompilation/">recompilation, here</a>, and part 2 <a href="https://malisper.me/debugging-lisp-part-2-inspecting/">inspecting, here</a>. <em>You can find part 4, <a href="https://malisper.me/debugging-lisp-part-4-restarts/">which is on </a></em>… <a href="https://malisper.me/debugging-lisp-part-3-redefining-classes/">Read the rest </a></p>					</div><!-- .entry-content -->
				<!-- .entry-meta -->
	</article><!-- #post-## -->

				
					
<article id="post-330">
	<!-- .entry-header -->
			<div>
			<p><em>This is part 2 of Debugging Lisp. If you haven’t read part 1 on <a href="https://malisper.me/debugging-lisp-part-1-recompilation/">dynamic recompilation, you can find it here</a>. For the next post in the series on <a href="https://malisper.me/debugging-lisp-part-3-redefining-classes/">redefining classes, click here</a>.</em></p>
<p>In this post I am … <a href="https://malisper.me/debugging-lisp-part-2-inspecting/">Read the rest </a></p>					</div><!-- .entry-content -->
				<!-- .entry-meta -->
	</article><!-- #post-## -->

				
					
<article id="post-319">
	<!-- .entry-header -->
			<p><em>This post is the start of a series on how to debug Common Lisp code, specifically with Emacs, Slime, and SBCL. If you do not understand Common Lisp, you should still be able to follow along and recognize just how </em>… <a href="https://malisper.me/debugging-lisp-part-1-recompilation/">Read the rest </a></p><!-- .entry-content -->
				<!-- .entry-meta -->
	</article><!-- #post-## -->

				
			
		
		</main><!-- #main -->
	</section><!-- #primary -->


	</div><!-- #content -->

	<!-- #colophon -->
</div></div>]]>
            </description>
            <link>https://malisper.me/category/debugging-common-lisp/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25661701</guid>
            <pubDate>Wed, 06 Jan 2021 20:11:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Rebuilding the most popular spellchecker. Part 1 (Groking Hunspell)]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25661294">thread link</a>) | @zverok
<br/>
January 6, 2021 | https://zverok.github.io/blog/2021-01-05-spellchecker-1.html | <a href="https://web.archive.org/web/*/https://zverok.github.io/blog/2021-01-05-spellchecker-1.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <h2 id="how-i-decided-to-write-a-spellchecker-and-almost-died-trying">How I decided to write a spellchecker and almost died trying</h2>

<p>A few years ago I had a fun idea for a “weekend project”: pure-Ruby spellchecker. Ruby is my language of choice, and no-dependencies spellchecker seemed a small useful tool for the CI environment: for example, to check comments/docs spelling without installing any third-party software. I actually <em>could’ve</em> pulled out the project in its limited scope (only English, only spot misspelled words without fixing, limited dictionary) with just a flat list of known words, but that’s not what happened.</p>

<p>Back then, I decided to make a moderately generic tool, at least able to work with multiple languages. Fortunately (or so I believed!), there were many already existing and freely available spellchecking dictionaries distributed as LibreOffice and Firefox extensions. All of those dictionaries are in the format defined by the <strong><a href="http://hunspell.github.io/">Hunspell</a></strong> tool/library—which is an open-source library that is used for spellchecking in Libre/OpenOffice, Mozilla products (Firefox, Thunderbird), but also Google Chrome/Chromium, macOS, several Adobe products, and so on.</p>

<p>The dictionaries looked like easy to reuse text files with some (“insignificant” as it seemed) metadata, and the whole “use Hunspell dictionaries from pure Ruby spellchecker” project <em>still</em> felt like a “weekend-long” one, for the first few weekends. Only gradually the underwater complexity of the multilanguage word-by-word spellchecking uncovered. Eventually, I was distracted from the project and abandoned it, but I still had the fascination with the seemingly-simple, actually-mind-blowingly-complicated Hunspell, the software everybody used daily and hardly ever notice.</p>

<p>The idea to dig deeper into it, to <em>understand</em> it and <em>explain</em>, grew on me and bothered me for quite some time. And what is a better way to understand something, if not to retell it in your own words? After several lazy and not very far-progressed attempts to write something Hunspell-alike (twice in Ruby, once in Rust, once in Python), eventually, in February 2020, the task I settled down to solve is: “explanatory rewrite” of the Hunspell into high-level language with a lot of comments. I achieved this goal by December 2020, with the first release of the <a href="https://github.com/zverok/spylls">Spylls</a> project: <strong>the port of Hunspell’s core algorithms into modern, well-documented, well-structured Python</strong>.</p>

<p>And now I want to share some insights of what I uncovered on the road: about spellchecking in general and Hunspell in particular.</p>

<p>In the ongoing article series, I’ll cover these topics:</p>

<ul>
  <li>What is Hunspell, why is it significant, and why try to “explain” it (current article)</li>
  <li>Base spellchecking concepts: lookup and suggest, as seen by Hunspell</li>
  <li>How lookup (checking if the word is correct) works, and why it could be much more complicated than “just look in the list of the known words”</li>
  <li>How suggest (proposed fix for the incorrect word) works, and how hard it is to estimate its quality</li>
  <li>A closer look into Hunspell’s dictionary format. It is the most widespread open dictionary format in the world, and we’ll see what linguistic and algorithmic information it <em>potentially</em> can carry, and what part of it is actually used in existing dictionaries</li>
  <li>Some details on Spylls implementation process and results</li>
  <li>Closing thoughts on the big picture of word-by-word spellchecker problem, and Hunspell’s approach to it</li>
</ul>

<h3 id="what-is-hunspell">What is Hunspell?</h3>

<blockquote>
  <p><strong>Note:</strong> The information on Hunspell’s origins and history is mostly my guesses, following partial and incomplete sources everywhere.</p>
</blockquote>

<p>Hunspell (<small><a href="https://en.wikipedia.org/wiki/Hunspell">Wikpedia article</a></small>), initially <strong>Hun</strong>garian spellchecker, emerged as an alternative for previously existing aspell/ispell/myspell somewhere in 2002 (I guess?). It was created by László Németh, in a need of supporting languages with complicated suffixing/prefixing rules and word compounding (such as Hungarian). Hunspell’s design seemingly proved itself to be flexible enough to support most of the world’s languages, and in a few years, it became the most used spellchecker in the world. You have most probably used it even if you’ve never heard the name before today: Hunspell is the default spellchecking engine in Chrome and Firefox, Libre/OpenOffice, Adobe products, and macOS (not an exhaustive list). Dictionaries in Hunspell format exist for almost all actively used languages for which the concept of word-by-word spellchecking makes sense<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup>.</p>

<p>Currently, Hunspell is maintained <a href="https://github.com/hunspell/hunspell">on GitHub</a> (repo has only around 1k stars, will you believe it?). It seems that maintenance is not that easy if you’ll weight the number of open issues and PRs, and the latest commits timeline: at the time of writing it (Jan 2021), the last commit to master was of May 2020, and the last release was 1.7 on Dec 2018. Hunspell’s codebase is mostly “old-school” C++. It is being slowly modernized and it has very few comments; there are thousands of two-branch <code>if</code>s to handle non-Unicode and Unicode text separately. There is also an attempt to rewrite Hunspell from scratch in a modern C++, which at some point was developed under the <code>hunspell</code> GitHub organization. Now it is independent and called <a href="https://github.com/nuspell/nuspell">nuspell</a> (and, while not yet supporting all of the Hunspell features, already “achieved” version 4.2.0).</p>

<p>Obviously, there are open-source spellcheckers other than Hunspell. GNU aspell (that at one point was superseded by Hunspell, but still holds its ground in English suggestion quality), to name one of the older ones; but also there are novel approaches, like <a href="https://github.com/wolfgarbe/SymSpell">SymSpell</a>, claiming to be “1 million times faster” or ML-based <a href="https://github.com/bakwc/JamSpell">JamSpell</a>, claiming to be much more accurate.</p>

<p>And yet, what makes Hunspell stand out is its coverage of the world’s languages. It is not ideal, but the amount of dictionaries ready to use immediately, and amount of <em>experience</em> of dealing with typical problems and corner cases, coded into the codebase, is hard to beat.</p>

<h3 id="why-rewrite-it">Why rewrite it?</h3>

<p>As I’ve already stated above, the goal of the Spylls project was to create an <em>explanatory</em> rewrite: E.g., the “retelling” of how Hunspell works in a way that is easy to follow and to play with.</p>

<p>The necessity of this approach came to me from three facts:</p>

<ol>
  <li>Hunspell is used almost everywhere and is taken for granted;</li>
  <li>It is much more complicated than one might naively expect;</li>
  <li>This complexity—and years of human work that was spent growing the project—is notoriously hard to follow through the Hunspell’s codebase and grasp in full.</li>
</ol>

<p>In other words, I wanted to <strong>make the knowledge behind Hunspell more open</strong>.</p>

<p>The way I have chosen was not, of course, the only one possible. I could’ve just read through the original code and write a series of articles (or, rather, a book?) on how it works. I could’ve thoroughly commented and republished the original source code. But I felt that <em>reimplementing</em> is the only way of understanding what’s and why’s of the algorithms (at least for somebody not being a Hunspell’s core developer); and that implementation in a high-level language will allow focusing on words and language-related algorithms, not memory management or fighting with Unicode.</p>

<blockquote>
  <p>Note that there are also a few “pragmatic” ports of Hunspell into other languages (in order to use it in environments where C++ dependency is undesireable), namely <a href="https://github.com/aarondandy/WeCantSpell.Hunspell">WeCantSpell.Hunspell</a> in C# and <a href="https://github.com/wooorm/nspell">nspell</a> in JS (very incomplete); and aforementioned <a href="https://github.com/nuspell/nuspell">nuspell</a> can also be considered a “port” (from legacy C++ to a modern one).</p>
</blockquote>

<h3 id="why-python">Why Python?</h3>

<p>My language of choice is Ruby. It was also the first language that I’ve tried to port Hunspell into. I’d be happy to proceed with Ruby if my goal has been just a “pragmatic” library. And yet, when I decided that my goal is to make the knowledge of Hunspell’s algorithms accessible to a wide audience, I understood that Ruby is not the best choice: language reputation (slightly esoteric and mostly-for-web) would make my project lest noticeable; and my preferred coding style (mix of OO and functional, with lots of small immutable domain objects and fluent chains of iterators), while allowing me to be very effective, would make the code less accessible to other languages users.</p>

<p>What I needed was a high-level language, with as low boilerplate as possible; as mainstream as possible; as easy to experiment with and prototype as possible. Without diving into too much argument here, Python and modern JavaScript seemed to be the most suitable options, and, to be honest, Python was just closer to my soul. So, here we are!</p>

<p>The code style is mostly imperative (as it corresponds to how Hunspell is structured), with large-ish, but clearly structured methods, and a small number of classes/objects (mostly they are either “whole algorithm as a class” or almost-passive “structs” – or, in Python, dataclasses). I tried to limit myself in the usage of complex Python-specific features (like functools or itertools), but have a decent use of “list comprehensions” (as they are quite readable and Pythonic) and generators (lazy lists). Overall, I wanted the code to be good Python, but not too smart. Whether I succeeded, is up to you to decide.</p>

<p>Currently, <a href="https://github.com/zverok/spylls">Spylls</a> has <strong>≈1.5k lines of library code</strong> in 14 files. It conforms (with <a href="https://spylls.readthedocs.io/en/latest/#completeness">some reservations</a>) to all Hunspell’s integrational tests. Those tests look like a set of files each, consisting of “test dictionary + what words should be considered good, what words should be considered bad, what should be suggested instead of the bad words”, and there are <strong>127 of such sets to pass</strong>. There are <strong>2 thousand comment lines</strong> in the code, explaining thoroughly every detail of the algorithm and rendered at the <a href="https://spylls.readthedocs.io/en/latest/hunspell.html">Spylls documentation site</a>; note that besides docstrings at the beginning of each class and method, there are also inline comments in code—that’s why the documentation site uses custom theme with inline “Show code” feature.</p>

<hr>

<p>With this being said, I am wrapping up the introductory post.</p>

<p><strong>In the <a href="https://zverok.github.io/blog/2021-01-09-spellchecker-2.html">next series</a>: An introduction to Hunspell’s “lookup” and “suggest” concepts; and deeper dive into the lookup.</strong></p>


  </article></div>]]>
            </description>
            <link>https://zverok.github.io/blog/2021-01-05-spellchecker-1.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25661294</guid>
            <pubDate>Wed, 06 Jan 2021 19:35:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A constructive look at the Atari 2600 BASIC cartridge]]>
            </title>
            <description>
<![CDATA[
Score 60 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25661077">thread link</a>) | @reaperducer
<br/>
January 6, 2021 | http://boston.conman.org/2015/06/16.1 | <a href="https://web.archive.org/web/*/http://boston.conman.org/2015/06/16.1">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

<!-- google_ad_section_start --> <!-- Hey, it can't hurt! -->
<h2><a name="2015-06-16" href="http://boston.conman.org/2015/06/16">Tuesday, June 16, 2015</a></h2>

<h3><a rel="bookmark" name="2015-06-16.1" href="http://boston.conman.org/2015/06/16.1">A constructive look at the Atari 2600 BASIC cartridge</a></h3>

<!-- Atari 2600 VCS, Atari 2600 BASIC, BASIC, IDE, integrated development system -->

<p>I installed <a href="http://stella.sourceforge.net/">Stella</a>
(an <a href="http://www.atariage.com/2600/">Atari 2600 VCS emulator</a>),
downloaded the <a href="http://atariage.com/software_page.html?SoftwareLabelID=15">Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> cartridge</a>
and have been playing around with it for the past few days.
If I'm going to do some <a href="http://boston.conman.org/2015/06/14.1">Stupid Twitter Trick™</a> with it,
I might as well know how it works,
right?</p>

<p>And thus,
this review.</p>

<p>Honestly,
I don't think the Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> has ever had a fair review.
It's pretty much reviled as a horrible program,
a horrible programming environment
and practically useless.
But I think that's selling it short.
Yes,
it's bad (and I'll get to that in a bit),
but in using it for the past few days,
there are some impressive features on a system where the <acronym title="Random Access Memory">RAM</acronym> can't hold a full Tweet and half the <acronym title="Central Processing Unit">CPU</acronym> time is spent 
<a href="https://www.amazon.com/exec/obidos/ASIN/026201257X/conmanlaborat-20">Racing The Beam</a>.
I'll get the bad out of the way first.</p>

<p>Input comes from the <a href="http://atariage.com/controller_page.html?ControllerID=4&amp;SystemID=2600">Atari Keypads</a>,
dual 12-button keypads.
If that weren't bad enough,
<em>I'm</em> using my keyboard as an emulated pair of Atari Keypads,
where I have to keep <a href="http://boston.conman.org/2015/06/16/AtariKeypad.jpg" type="image/jpeg">this image</a> open at all times.</p>

<p>Okay,
here's how this works.
I want to enter this line:</p>

<blockquote>
<pre>A←A+1
</pre>
</blockquote>

<p>(Ah yes!
The “left arrow” for assignment.
Mathematicians rejoice!) 
Upon startup,
the Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> cursor is white.
This is important,
because this tells you what mode you are in.
Hit a key when the cursor is white,
and you do the functions labeled in white above each key.
To get an “A,” you hit the bottom center button on the left controller
(the one with the arrow circling around it) until the cursor turns <em>blue</em>,
then you can hit the upper left key on the left controller (labeled “STATUS + A IF”).
It's a bit hard to see,
but yes, that “A” is indeed blue.</p>

<p>To get the “←” symbol 
(it's the top right button on the left controller)
you hit the bottom middle button the the left controller until the cursor cycles back to red,
then hit the upper right button on the left controller.
Then cycle the cursor back to blue to get the “A,”
then cycle to red to get the “plus” and the “1” 
(top left button on the right controller).</p>

<p>That's probably bad enough on the real thing.
On the <em>simulated Atarti 2600?</em>
Okay,
what key on my keyboard is the “cycle” key?
Then what key is the “A” key?
Here's what I have to type to get that line of code:</p>

<blockquote>
<pre>xx1xxx3x1xxx19
</pre>
</blockquote>

<p>But to be honest,
it's on par with other <a href="http://www.ganjatron.net/retrocomputing/zx81/zx81-kbd.jpg" type="image/jpeg">keyboards of the time</a> and may be a bit better,
having actual tactile feedback instead of a simple membrane.
I'm also <a href="http://boston.conman.org/2000/02/15.1">picky about keyboards</a> so I'm <em>always</em> going to bitch about the keyboard unless it's an 
<a href="http://arstechnica.com/gadgets/2013/11/why-i-use-a-20-year-old-ibm-model-m-keyboard/">IBM model M</a>.</p>

<p>And given that the Atari 2600 only has 128 <em>bytes</em> of memory,
it's expected that the programs are going to be rather short.
I at first thought that you had 64 bytes for the program,
but no—it's 64 bytes for the program, <em>variables and runtime expression evaluation!</em>
That actually surprised me.
Even worse,
running this program over and over again (spaces added for clarity):</p>

<blockquote>
<pre>1 A ← 1
2 B ← 2
3 PRINT A,B
</pre>
</blockquote>

<p><em>leaks memory!</em></p>

<p>No,
really,
that program,
if run multiple times,
will eventually exhaust all of memory.
But not all programs leak memory.
This program,
if run over and over again (more on this little program in a bit):</p>

<blockquote>
<pre>1 D ← 1
2 HOR1 ← HOR1 + D
3 IF HOR1 =  0 THEN GOTO 5
4 IF HOR1 ← 99 THEN GOTO 2
5 D ← 99 - D + 1
6 GOTO 2
</pre>
</blockquote>

<p>won't leak so much as a byte.
Go figure.</p>

<p>Worse though,
is that each variabled used in the program
(and it doesn't matter if it's a predefined variable like <code>HOR1</code> or a user defined variable like <code>A</code>)
consumes <em>three bytes</em> out of the precious 64 bytes you get for your program!
On the plus side though,
unused variables (event the builtin ones) don't use space at all
(I figured this out by watching the <acronym title="Random Access Memory">RAM</acronym> use in Stella).</p>

<p>The grahics are pretty pathetic as well.
There are two dots that can be manipulated.
The builtin variables <code>HOR1</code> and <code>VER1</code> control the horizontal and vertical position for one dot;
<code>HOR2</code> and <code>VER2</code> are used for the other dot.
The colors are fixed.
Oh,
and if the builtin variable <code>HIT</code> is 1,
the two dots are in the same position.</p>

<p>The positions are themselves limited to 0 to 99,
but that's because <em>all</em> variables are limited to the range 0 to 99.
The values wrap though—add 1 to 99 and you get 0.
Subtract 1 from 0 and you get 99.</p>

<p>Which leads us into the ugly.</p>

<p>Yes,
there are no negative values—everything is unsigned.
And the values are all limited from 0 to 99.
This stems from a unique feature of the Atari 2600 <acronym title="Central Processing Unit">CPU</acronym>,
<a href="https://en.wikipedia.org/wiki/MOS_Technology_6507">the 6507</a>
(a cheaper variation on the <a href="https://en.wikipedia.org/wiki/MOS_Technology_6502">6502</a>).
That <acronym title="Central Processing Unit">CPU</acronym> can do math in either binary <em>or</em> <a href="https://en.wikipedia.org/wiki/Binary-coded_decimal">binary-coded decimal</a>
and the Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> uses the binary-coded decimal mode, which restricts the values from 0 to 99.
So while you don't have negative numbers,
you do in a way because of the way <a href="https://en.wikipedia.org/wiki/Modular_arithmetic">the math works</a>.
99 plus 99 is 198,
but because the range is modulus 100,
the result is 98. 
Add 99 again,
and you end up with 97.  
I use this fact in the above program.
Line 5 negates <code>D</code>—it converts 99 to 1,
or 1 back to 99.
Essentially,
1 to -1 and back again,
causing the dot to slowly crawl back and forth across the screen.</p>

<p>But now we finally arrive at what's good,
or rather,
what's amazing about this program.</p>

<p>First and foremost,
it's an <acronym title="Integrated Development Environment">IDE</acronym>.</p>

<p>Seriously.</p>

<p>Dispite it being only 4,096 bytes,
there's a pretty credible,
windowed(!) integrated development environment in there.
If you look back at the <a href="http://boston.conman.org/2015/06/16/AtariKeypad.jpg" type="image/jpeg">keypad</a>,
you'll notice the first six buttons on the left controller are labeled:</p>

<ol>
<li>STATUS</li>
<li>PROGRAM</li>
<li>STACK</li>
<li>VARIABLES</li>
<li>OUTPUT</li>
<li>GRAPHICS</li>
</ol>

<p>Those are the various “windows” (and technically,
they <em>are</em> windows,
even if they don't overlap but are instead,
stacked vertically on the screen)
and the buttons there toggle the “windows” on and off.</p>

<p>The “STATUS” window 
(you can see it in the screen shot from <a href="http://boston.conman.org/2015/06/14.1">the other day</a>) 
shows memory usage (how many bytes,
called “symbols”) and how fast the program will run
(1, 2, 4, 8, 15, 30 and 60 are the speed values and they reflect how often the interpreter is run—once a second,
twice a second, on up to 60 times a second).
The “PROGRAM” window obviously contains the program
(all nine lines if you have that many—and
the <acronym title="Integrated Development Environment">IDE</acronym> automatically numbers the lines for you even though it doesn't use them or store them—more on that below).</p>

<p>The “VARIABLES” window contains a list of the variables used in the program, listed as:</p>

<blockquote>
<pre>A is 1
HOR1 is 40
B is 2
</pre>
</blockquote>

<p>“OUTPUT” is the text output window;
output of <code>PRINT</code>.  “GRAPHICS” is the laughable graphics screen.</p>

<p>Leaving the “STACK” window,
which is a misnomer actually.
It's not a true stack,
since there is no concept of “subroutine” in the Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym>.
You could think of it as “<a href="https://en.wikipedia.org/wiki/TRON_command">TRON</a>” as it actually shows you the execution of each statment that is abolutely amazing!
Imagine each line below being shown one at a time and you'll get a feeling for how this works.
We'll be following line 5 from the above program (assuming D is 1):</p>

<blockquote>
<pre>D
D←
D←99
D←99-D
D←99-1
D←98
D←98+1
D←99
</pre>
</blockquote>

<p>One more example,
to show that the Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> also follows mathematical precedence.
Here, A is 1, B is 2 and C is 3.
The line of code we're following is:</p>

<blockquote>
<pre>D←A+B*C
</pre>
</blockquote>

<p>and during execution:</p>

<blockquote>
<pre>D
D←
D←A
D←1
D←1+B
D←1+2
D←1+2*C
D←1+2*3
D←1+6
D←7
</pre>
</blockquote>

<p>Strange as it sounds,
this blew me away.
I don't think I've ever seen anything like this.
Sure,
in debuggers where you execute a line at a time.
Or in assembly language,
instruction by instruction.
But never substeps in expression evaluation.
And of course,
you can always step through the code with the “STEP” button.
I just find it amazing that all of this,
as simple as it is,
can fit in 4,096 bytes of code.</p>

<p>How it stores the code internally is interesting.
Most <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym>s I'm aware of store the line number as part of the program,
but here,
that's not done.
Take this program for example:</p>

<blockquote>
<pre>1 A ← 1
2 HOR1 ← HOR1 + 1
3 A ← A + 5
4 GOTO 2
</pre>
</blockquote>

<p>Internally in memory,
it's stored:</p>

<table>
  <caption>Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> program layout</caption>
  <thead>
    <tr><th>Byte</th><th>Symbol</th></tr>
  </thead>
  <tbody>
    <tr><td>BC</td><td>A</td></tr>
    <tr><td>E8</td><td>←</td></tr>
    <tr><td>01</td><td>1</td></tr>
    <tr><td>F1</td><td>&lt;end of line&gt;</td></tr>
    <tr><td>B2</td><td>HOR1</td></tr>
    <tr><td>E8</td><td>←</td></tr>
    <tr><td>B2</td><td>HOR1</td></tr>
    <tr><td>E3</td><td>+</td></tr>
    <tr><td>01</td><td>1</td></tr>
    <tr><td>F1</td><td>&lt;end of line&gt;</td></tr>
    <tr><td>BC</td><td>A</td></tr>
    <tr><td>E8</td><td>←</td></tr>
    <tr><td>BC</td><td>A</td></tr>
    <tr><td>E3</td><td>+</td></tr>
    <tr><td>05</td><td>5</td></tr>
    <tr><td>F1</td><td>&lt;end of line&gt;</td></tr>
    <tr><td>A6</td><td>GOTO</td></tr>
    <tr><td>02</td><td>2</td></tr>
    <tr><td>FF</td><td>&lt;end of program&gt;</td></tr>
  </tbody>
</table>

<p>Not a line number in sight,
which means <code>GOTO</code> statements do a linear scan of the program
(a typical design choice of <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> systems on 8-bit computers at the time)
but the end of each line <em>is</em> marked.
Weird,
but whatever works I guess.</p>

<p>Variables are stored after the program, sequentially:</p>

<table>
  <caption>Atari 2600 <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> variable layout</caption>
  <thead>
    <tr><th>Byte</th><th>Symbol</th></tr>
  </thead>
  <tbody>
    <tr><td>B2</td><td>HOR1</td></tr>
    <tr><td>EE</td><td>is (see below)</td></tr>
    <tr><td>02</td><td>current value</td></tr>
    <tr><td>BC</td><td>A</td></tr>
    <tr><td>EE</td><td>is</td></tr>
    <tr><td>15</td><td>current value</td></tr>
  </tbody>
</table>

<p>As best as I can tell,
the value <code>EE</code> is used when displaying the variables on the “VARIABLES” window,
and probably means “is.”  It's probably done that way to avoid a special case when displaying data—it can be treated the same when displaying the program.
I'm guessing there's not much space left what with the font data and code to support the <acronym title="Integrated Development Environment">IDE</acronym> in addition to running a
(admittedly very simple) <acronym title="Beginners All-purpose Symbolic Instruction Code">BASIC</acronym> interpreter for special casing the variables.</p>

<p>As a “proof-of-concept” it's an amzing piece of work.
As an actual product,
yes,
it <em>sucks</em>,
mostly because of the limitations of the hardware.
The ideas behind it are incredible though,
and I think it's gotten short shrifted because of the limitations,
which is sad.
There is something to learn from here.</p>

<div>

<h4>Update Wednesday, June 17<sup>th</sup>, 2015 at 1:56 AM</h4>

<p>I almost forgot—the <code>IF</code> statement is an expression!
You can do the following:</p>

<blockquote>
<pre>A ← IF B = 15 THEN 40 ELSE 99
</pre>
</blockquote>

<p>and <code>A</code> will be 40 if <code>B</code> is 15,
otherwise <code>A</code> will be 99.
There aren't many languages I've used that have allowed this.</p>

</div>



<!-- google_ad_section_end -->
</div></div>]]>
            </description>
            <link>http://boston.conman.org/2015/06/16.1</link>
            <guid isPermaLink="false">hacker-news-small-sites-25661077</guid>
            <pubDate>Wed, 06 Jan 2021 19:14:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I'm Building a Shedquarters]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25660930">thread link</a>) | @aarondf
<br/>
January 6, 2021 | https://aaronfrancis.com/shedquarters | <a href="https://web.archive.org/web/*/https://aaronfrancis.com/shedquarters">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
            <div>
        
<p><span>This page will be an ever-evolving log of my backyard shedquarters. The last update was January 4th.</span></p>
<p>During 2020 I began working full-time from home in our 2 bedroom house. I completely took over the kitchen table
for a while because I thought the pandemic would only last a few weeks, which was adorable in hindsight. After a
couple of months I moved to the spare bedroom and set up shop in there. Our company has since decided to go
fully remote forever, so I needed a more dedicated space for working</p>
<p>Oh, also... my wife and I are expecting triplets sometime in the Spring of 2021!</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/triplets.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/triplets.jpg"></a>
</p>
<p>So clearly our 2 bedroom is going to be tight with our soon-to-be family of FIVE.</p>
<p>I've always wanted a shedquarters because it seems so fun to build out the perfect workspace, so I decided to
pull the trigger on it sometime in October.</p>
<p>If you want to follow along on Twitter, here's the thread:</p>
<blockquote><p lang="en" dir="ltr">About a month ago, I got a 10x20 shed
        delivered so I could build out a shedquarters office in my backyard. It's been a ton of fun (and
        work) so far! I'm going to share a lot of it on this thread over the next couple of months until it's
        done. (Also at <a href="https://t.co/qAXSKUZdyk">https://t.co/qAXSKUZdyk</a>.)
        <a href="https://t.co/G1MOWBS777">pic.twitter.com/G1MOWBS777</a></p>— Aaron Francis
    (@aarondfrancis) <a href="https://twitter.com/aarondfrancis/status/1333866090573811723?ref_src=twsrc%5Etfw">December
        1, 2020</a></blockquote>

<h2>Build vs Buy</h2>
<p>The first question I had to answer was whether I was going to try to build a shed from the ground up, or buy a
pre-made one. Having never built anything before I thought it might be fun to try something relatively
low-stakes like a shed. I watched a ton of YouTube videos and felt pretty confident I could pull <em>something</em>
off.</p>
<p>However, in the end I decided that it would take <em>way</em> longer than I wanted to build it from the ground up, and
I have a lot of other projects that would suffer if I spent 3 months building a shed. I am so, so glad I decided
to buy a pre-made shell instead.</p>
<h2>Choosing a Builder</h2>
<p>There are lots of fancy options that come totally pre-done and look beautiful (<a href="http://kangaroomsystems.com/">Kanga
Rooms</a> being one of them). Those were way too expensive for my budget, and didn't
leave me quite enough room for customizing to my liking.</p>
<p>Those fancier options are really geared toward "turn-key home offices", while what I wanted was more of "a shed
I can turn into an office".</p>
<p>There are a shed load (get it) of shed manufacturers to choose from, at least here in Texas! The one I settled
on was <a href="https://www.lonestarstructures.com/">Lone Star Structures</a>. Their prices are great, their customer
service is amazing, and they have an online shed designer that lets you build out exactly what you're looking
for. They also delivered and leveled it for me, but more on that later.</p>
<p>Here is a screenshot from my 3D design:</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/render.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/render.jpg"></a>
<span><em>You can click on any picture to view it full size.</em></span></p>
<p>You can view the actual model here:
<a href="https://shedview.lonestarstructures.com/?lng=en-US#c7aadf9f04f8920f492af4f47b95021d">shedview.lonestarstructures.com/#c7aadf9f04f8920f492af4f47b95021d</a></p>
<h2>Building Size</h2>
<p>I decided to go with a 10x20 building, for two reasons. The first is that we only have about 10 feet of space in
the spot where the shed was going to go, so that limited the width. The second reason is that anything &lt;= 200
square feet does not require a permit.</p>
<p>We had an old shed that was 10 feet wide and 12 feet long, you can see how tight the width is:</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/old-1.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/old-1.jpg"></a></p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/old-2.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/old-2.jpg"></a></p>
<p>The only access to our backyard is through a large gate that is just over 11ft wide.</p>
<p><img src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/gate.jpg"></p><p>I have some pictures and videos of the delivery, you'll see just how tight it was even with the 10ft model.</p>
<h2>Floor Plan</h2>
<p>We don't have a garage, so that old shed was serving the purpose of storing "garage stuff", which the new
building would have to do as well. To accomodate both the needs of a new office and "garage stuff", I decided to
split the shed into two sections. A 10x16 space for the office, and a 10x4 space for the garage stuff.</p>
<p>Lone Star Structures has the option to add a 4 foot "loft" in their configuration tool, so I added the loft and
then specifically requested that they build out a wall underneath.</p>
<p>Here's a floor plan overview:</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/floor-plan.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/floor-plan.jpg"></a></p>
<p>And here's what it looks like in real life:</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/loft.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/loft.jpg"></a></p>
<p>The large, double doors open from the yard into the storage area. You can see the stud wall Lone Star built for
me to partition the space. Eventually there will be a proper wall there and the two spaces will be totally
discrete.</p>
<p>Here's a shot from the inside looking out. You can see the "loft" that will be accessible from the office and
give me a bit more air conditioned storage space.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/pano.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/pano.jpg"></a></p>
<p>The astute reader will now note that when the wall is completed... there will be no way to get into the office!
More on that soon.</p>
<h2>Demolition of the Old Shed</h2>
<p>Before the new shed came, I had to get rid of the old one. I tried for a week or two to <em>give it away</em> on
Craigslist, but that failed hysterically. A couple of people asked if it would fit in their SUV. It's a 10x12
shed that weighs hundreds of pounds!</p>
<p>After being disappointed by Craigslist once again, I decided to borrow a sawzall and demolish it myself. It was
a lot of hard work, but this timelapse makes it look super easy:</p>
<p><iframe loading="lazy" width="600" src="https://www.youtube.com/embed/OxhCjshVRvU?modestbranding=1&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<h2>Preparing the Pad for the New Shed</h2>
<p>Since the new shed is 8 feet longer than the old shed was, I needed to make the pad 8 feet longer. Lone Star was
responsible for leveling the shed (which they did a great job of), I just had to provide a pad that was within
12 inches (!) of level.</p>
<p>The old pad was a few inches lower than the surrounding ground, so I wanted it to be a little more uniform.</p>
<p>I started by tilling the ground and then used the broad side of a pick axe to break it up more. I repeated that
process for... ever. Tilling, axing, raking, over and over.</p>
<p>After I got it all level enough, I wanted to compact it down. Since I didn't have a tamper and didn't want to
spend 40 bucks on one I'll never use again, my genius neighbor and I made a pretty janky makeshift tamper out of
a sledgehammer and some boards. It mostly kind of worked!</p>
<p>It also looks hysterical and insane.</p>
<p><img src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/tamper.jpg"></p><p>Turns out the best tamper is not a sledgehammer attached to some boards, but rather an SUV. Maybe my best idea
so far.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/suv-tamper.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/suv-tamper.jpg"></a></p>
<p>Again, the timelapse make it look super easy, but it was a lot of work. Please validate me!</p>
<p><iframe loading="lazy" width="600" src="https://www.youtube.com/embed/0p8iIReB9CM?modestbranding=1&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<h2>Delivery Day</h2>
<p>The day the shed was delivered I was nervously just waiting around for them to show up. We live on a quiet
residential street that is not super wide, so I was a bit worried that they wouldn't be able to make it down the
street. I was also worried that they wouldn't be able to make it down our driveway, which is also not very wide.</p>
<p>Then a full on 18-wheeler turned the corner and I thought to myself</p>
<p><img src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/mistake.gif"></p><p>Not only did he have my shed on there, he had another one too! Like it was no big deal!</p>
<p><iframe loading="lazy" width="600" src="https://www.youtube.com/embed/D-bHsgYG2KM?modestbranding=1&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>This is the face of a concerned person whose neighbors are coming outside to see what the ruckus is.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/concerned.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/concerned.jpg"></a></p>
<p>And here I am talking to him trying to figure out just exactly what the plan is here, as if I could help.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/joe-convo.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/joe-convo.jpg"></a></p>
<p>As it turns out, the guy that does this for a living (not me) was less concerned than the average software
developer (me), and apparently it <em>was</em> no big deal because he just tipped the magic trailer back and plopped it
in the street like a boss.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/shed-unload.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/shed-unload.jpg"></a></p>
<p>The guy (Joe) that drove the shed down the driveway and positioned in place was a wizard with his tiny little
forklift. I have no idea how he did it, because we had only inches to spare.</p>
<p>I'm so pumped for my new shed that I pre-emptively celebrate with a Diet Coke while Joe is toiling away
somewhere actually getting stuff done.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/celebrating.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/celebrating.jpg"></a></p>
<p>I did have to cut trees back in a few places on both sides of the driveway, so I wasn't <em>totally</em> useless.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/trees.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/trees.jpg"></a></p>
<p>Here's the whole 1-2 hour process nice and sped up.</p>
<p><iframe loading="lazy" width="600" src="https://www.youtube.com/embed/XKfLARMYZ_o?modestbranding=1&amp;rel=0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p>Once it was in place, Joe spent another 30 or 45 minutes getting it all level.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/leveling.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/leveling.jpg"></a></p>
<p>And now I have a shed! Monster is concerned that it may be too much house for him to handle, I haven't broken
the news that it's not actually for him.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/monster-1.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/monster-1.jpg"></a></p>
<h2>Adding a French Door</h2>
<p>Because I'm going to be having two separate partitions in the building with a wall in between, I'll need a way
to access the office. The doors that are already present on the shed access the tool/yard storage area.</p>
<p>When I was designing the shed I had the option to add a door and some windows using their online design tool,
but everything they offer is geared towards sheds because... they build sheds. I wanted something that looked
a little nicer since this is going to be my office and take up a large portion of our yard.</p>
<p>One of my friends recommended that I put in french doors that can serve both as an access point and let in a ton
of light. I found a good <a href="http://www.craddocklumber.com/">local lumber company</a> that I bought the door from. I
was able to customize it so that it swings <em>out</em> instead of in, because there isn't a ton of room for an
in-swinging door in the office.</p>
<p>They also delivered it for me. Turns out it's very very heavy. And beautiful!</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-delivery.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-delivery.jpg"></a></p>
<p>For this part of the project I recruited my Dad and my brother-in-law because I knew it was going to be a tough
one to do solo.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-team.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-team.jpg"></a></p>
<p>We started by clearing the studs out of the section that the door was going to fit in. The placement was figured
so that I have enough room to put my desk in one corner without it overlapping into the door. We used a combo of
sledgehammer + prybar to get the studs out.</p>
<p>Note that this shed is so small (and has the loft wall), that there is
basically no load carried by this wall, so we could just knock the studs out without worrying. We did of course
frame the door in, but there's just so little to worry about in this regard because of the size of the building.</p>
<p>If you do something like this, don't listen to some guy on the internet, ask someone who actually knows what
they're doing.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-placement.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-placement.jpg"></a></p>
<p>Once we got it framed up, we took a sawzall and just started cutting it out! There's no going back from this
point, which was very scary.</p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-first-cut.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-first-cut.jpg"></a></p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-breakthrough.gif" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-breakthrough.gif"></a></p>
<p><a href="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-cleared.jpg" target="_blank"><img loading="lazy" src="https://d8nrpaglj2m0a.cloudfront.net/49ee8650-596d-4471-9de9-eb2e3a220813/images/shed/door-cleared.jpg"></a></p>
<p>With the wall gone, it was time to dry fit the door and start getting it installed. This was the first time any
of us had ever installed a french door, so I was pleased that we got it pretty close! I think the rough
opening was bigger than it needed to be, but we added an extra 2x4 and lots …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aaronfrancis.com/shedquarters">https://aaronfrancis.com/shedquarters</a></em></p>]]>
            </description>
            <link>https://aaronfrancis.com/shedquarters</link>
            <guid isPermaLink="false">hacker-news-small-sites-25660930</guid>
            <pubDate>Wed, 06 Jan 2021 19:01:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Live Stream: Capitol Police Repulse Coup Attempt]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25660749">thread link</a>) | @awnird
<br/>
January 6, 2021 | https://www.twitch.tv/statuscoup | <a href="https://web.archive.org/web/*/https://www.twitch.tv/statuscoup">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.twitch.tv/statuscoup</link>
            <guid isPermaLink="false">hacker-news-small-sites-25660749</guid>
            <pubDate>Wed, 06 Jan 2021 18:43:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A case for using Terraform open-source modules]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25660732">thread link</a>) | @giacaglia
<br/>
January 6, 2021 | https://transcend.io/blog/opinion-a-case-for-using-terraform-open-source | <a href="https://web.archive.org/web/*/https://transcend.io/blog/opinion-a-case-for-using-terraform-open-source">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>It’s 2am. You finally have a Lambda function running in a VPC. And all it took was 40 Terraform <code>resource</code> blocks and 8 hours of your life. You breathe a sigh of relief, knowing that you are the embodiment of DevOps.</p><p>The next day, after getting a good night of sleep, you realize that maybe your <code>hello-world-test</code> Lambda function isn’t as unique as you thought it was, and maybe somebody else has created a Terraform module that could have saved you a few hours with a more production-ready result.</p><p>One year later, you look back fondly on your days of not knowing what the heck you were doing, as you now publish new Lambda functions in minutes with a trusty Terraform module. But is this module something you wrote, or is it open-source? And what difference does that make?</p><p>This post makes an argument that you should try to use open-source Terraform modules when you can, and that you’re likely able to much more often than you might think.</p><p>At Transcend, we use open-source Terraform modules as much as we can to ensure we are always building our software on secure, tested infrastructure, built with best practices. While we still have a few small private modules that we use internally, over 60% of our over 500 used modules are open-source.</p><h2 id="what-is-a-terraform-module">What is a Terraform module?</h2><p><a href="https://terraform.io/" target="_blank" rel="noreferrer">Terraform</a> has taken over as a dominant force in the infrastructure-as-code world. It’s easy to get started with, open-sourced, and is incredibly powerful across dozens of cloud providers.</p><p>Terraform lets you create <a href="https://www.terraform.io/docs/configuration/resources.html" target="_blank" rel="noreferrer">resource blocks</a> that define a cloud resource, such as a server, IAM user, or database. As an extension, you can also group resources together into reusable <a href="https://www.terraform.io/docs/configuration/modules.html" target="_blank" rel="noreferrer">modules</a>.</p><p>To use a module, you create a new block in any terraform file and specify the block type as <code>module</code>, and point the <code>source</code> field to any module on <a href="https://registry.terraform.io/" target="_blank" rel="noreferrer">the open-source registry</a>.</p><div><pre><p><span>1</span><span>module</span><span> "vault" </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>source</span><span>  </span><span>=</span><span> </span><span>"hashicorp/vault/aws"</span><span></span></p><p><span>3</span><span>  </span><span>version</span><span> </span><span>=</span><span> </span><span>"0.14.0"</span><span></span></p><p><span>4</span><span>  </span><span></span></p><p><span>5</span><span></span><span>}</span></p></pre></div><p>In this example, the module points to the v0.14.0 version of <a href="https://registry.terraform.io/modules/hashicorp/vault/aws/latest" target="_blank" rel="noreferrer">Hashicorp’s official Vault module</a>. Pinning to a specific version is crucial with external modules, as it allows you to pin to a specific point in time.</p><p>I like to think of modules as a function. The <code>source</code> is the name of the function you want to call. The <a href="https://www.terraform.io/docs/configuration/variables.html" target="_blank" rel="noreferrer">variables you pass in</a> are the parameters, and the <a href="https://www.terraform.io/docs/configuration/outputs.html" target="_blank" rel="noreferrer">output blocks it defines</a> are the function result. The function body is updating cloud resources to match your defined <code>resource</code> configuration.</p><h2 id="arguments-for-using-open-source-modules">Arguments for using open-source modules</h2><p>While coding your own Terraform modules is tempting for those that like to get in the weeds and learn, there are some key reasons why leveraging existing open-source work is beneficial in the long run.</p><h3 id="1-major-components-of-your-infrastructure-are-not-unique">1. Major components of your infrastructure are not unique</h3><p>If each company could just copy-paste each others’ infrastructure and we could all have well-secured, easily maintainable, highly performant infrastructure at the press of a button, we wouldn’t need DevOps or Operations engineers. In the real world, things aren’t that easy as each company has its own requirements.</p><p>But even so, we often choose to rely on the same underlying technologies. Depending on your requirements, you might choose to deploy some apps directly onto servers like an EC2, or maybe you will containerize your app and deploy it to ECS or a Kubernetes cluster, or maybe your app works best on a serverless platform like Lambda. And in each of these cases, you still have many options to customize exactly how you want your infrastructure.</p><p>With nearly infinite different ways you can deploy and secure your applications, it may seem like using pre-built modules won’t work for your exact use case. But by accepting that you’ll still likely use services like VPCs, Lambda, Autoscaling groups, ECS/EKS, etc, we must admit that the level of “pre-built”-ness we need exists on a spectrum.</p><p>You wouldn’t use “we’re all unique” as justification for not using Terraform, or for not using Kubernetes, so we need to carefully evaluate if that argument applies for Terraform modules. And that leads us to…</p><h3 id="2-certain-open-source-modules-are-highly-reusable">2. Certain open-source modules are highly reusable</h3><div><p><img src="https://images.ctfassets.net/zp9m00phuodm/a91P4mjYrtJM2FIOrAnv4/a1ae4616ec44b056e928a743656090f9/xavi-cabrera-kn-UmDZQDjM-unsplash.jpg" alt="An image of Lego blocks."></p><figcaption>Use (and re-use) building blocks. (photo by Xavi Cabrera on Unsplash).</figcaption></div><p>Maybe you don’t want a single “web-app” module like <a href="https://github.com/cloudposse/terraform-aws-ecs-web-app" target="_blank" rel="noreferrer">this one</a> that manages all of your infrastructure for an app for you. For new applications, it might be a good option, but maybe you don’t want your logs going to CloudWatch, as you use something else. Maybe you want to use Kubernetes because you have an existing cluster. Maybe you have an existing CI/CD pipeline and don’t want to use Codepipeline.  Maybe you want to use Istio for service registration instead of AWS App Mesh.</p><p>But the all-in approach is just one end of the spectrum, and the other is not using modules at all, and just defining each resource you need in a tedious manner that could end up with hundreds/thousands of lines of code required per application.</p><p>At Transcend, we’ve found the happy medium of using modules that aim to handle all resources within a specific AWS service (or sometimes a small handful). This means that we don’t search for full web-app solutions, but for modules related to <a href="https://registry.terraform.io/modules/terraform-aws-modules/vpc/aws/latest" target="_blank" rel="noreferrer">VPCs</a>, <a href="https://registry.terraform.io/modules/terraform-aws-modules/lambda/aws/latest" target="_blank" rel="noreferrer">Lambda</a>, <a href="https://registry.terraform.io/modules/terraform-aws-modules/iam/aws/latest" target="_blank" rel="noreferrer">IAM</a>, etc.</p><p>As an example, here is a usage of the VPC module from terraform-aws-modules:</p><div><pre><p><span>1</span><span>module</span><span> vpc </span><span>{</span><span></span></p><p><span>2</span><span>  </span><span>source</span><span>  </span><span>=</span><span> </span><span>"terraform-aws-modules/vpc/aws"</span><span></span></p><p><span>3</span><span>  </span><span>version</span><span> </span><span>=</span><span> </span><span>"v2.62.0"</span><span></span></p><p><span>4</span><span></span></p><p><span>5</span><span>  </span><span>name</span><span>            </span><span>=</span><span> </span><span>"demo-vpc"</span><span></span></p><p><span>6</span><span>  </span><span>cidr</span><span>            </span><span>=</span><span> </span><span>"10.0.0.0/16"</span><span></span></p><p><span>7</span><span>  </span><span>azs</span><span>             </span><span>=</span><span> </span><span>[</span><span>"eu-west-1a"</span><span>, </span><span>"eu-west-1b"</span><span>]</span><span></span></p><p><span>8</span><span>  </span><span>public_subnets</span><span>  </span><span>=</span><span> </span><span>[</span><span>"10.0.1.0/24"</span><span>, </span><span>"10.0.2.0/24"</span><span>]</span><span></span></p><p><span>9</span><span>  </span><span>private_subnets</span><span> </span><span>=</span><span> </span><span>[</span><span>"10.0.11.0/24"</span><span>, </span><span>"10.0.12.0/24"</span><span>]</span><span></span></p><p><span>10</span><span></span></p><p><span>11</span><span>  </span><span></span></p><p><span>12</span><span>  </span><span>enable_nat_gateway</span><span>     </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>13</span><span>  </span><span>single_nat_gateway</span><span>     </span><span>=</span><span> </span><span>false</span><span></span></p><p><span>14</span><span>  </span><span>one_nat_gateway_per_az</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>15</span><span></span></p><p><span>16</span><span>  </span><span></span></p><p><span>17</span><span>  </span><span>enable_flow_log</span><span>                      </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>18</span><span>  </span><span>create_flow_log_cloudwatch_log_group</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>19</span><span>  </span><span>create_flow_log_cloudwatch_iam_role</span><span>  </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>20</span><span>  </span><span>flow_log_max_aggregation_interval</span><span>    </span><span>=</span><span> </span><span>60</span><span></span></p><p><span>21</span><span></span><span>}</span></p></pre></div><p>If you are familiar with VPCs on AWS, this likely reads fairly easily regardless of if you’ve seen this module before. It creates a private cloud named <code>demo-vpc</code> that has public and private subnets in the <code>eu-west-1</code> region. The private subnets will have external internet access through a NAT gateway that is shared across AZs to save money. All network traffic will be logged to a new Flow Logs log group.</p><p>This short module declaration creates 25 unique resources in the AWS cloud and is highly customizable. Not only is it far quicker to write this module than it is to write out all 25 resources manually, but it is far less error-prone.</p><h3 id="3-open-source-modules-save-time">3. Open-source modules save time</h3><p>An excellent example of a module that makes use of other open-source modules is the <a href="https://github.com/terraform-aws-modules/terraform-awms-atlantis/blob/master/main.tf" target="_blank" rel="noreferrer">terraform-aws-atlantis</a> module used to create a CI/CD pipeline for your infrastructure code.</p><p>It creates a VPC, load balancer, ACM certificate, security groups, and an ECS service all using open-source modules. That likely made writing and maintaining that module much easier than using all custom resources, but the composition of all of those modules is what makes for the biggest time saver of all: You can directly use their pre-built solution if you want to, while also <a href="https://github.com/terraform-aws-modules/terraform-aws-atlantis/blob/master/variables.tf" target="_blank" rel="noreferrer">customizing it extensively</a>.</p><p>For larger applications like Atlantis, Hashicorp Vault, or Transcend Sombra, the initial setup can be daunting. But the Terraform community made a reusable <a href="https://registry.terraform.io/modules/terraform-aws-modules/atlantis/aws/latest" target="_blank" rel="noreferrer">module for creating Atlantis clusters</a>, Hashicorp paid <a href="https://gruntwork.io/" target="_blank" rel="noreferrer">Gruntwork</a> to create <a href="https://registry.terraform.io/modules/hashicorp/vault/aws/latest" target="_blank" rel="noreferrer">a secure implementation of Vault</a>, and at Transcend we created a module for <a href="https://registry.terraform.io/modules/transcend-io/sombra/aws/latest" target="_blank" rel="noreferrer">our Sombra service</a> that can be self-hosted if our customers want complete control over the encryption of their data.</p><p>In particular I love the Hashicorp Vault module, as it let us scaffold up a working Vault cluster in a day or two, and we can be highly confident in the security of our cluster. For a server that’s main job is to hold our most sensitive secrets, that is a massive confidence boost.</p><p>When Vault came out with support for DynamoDb as a storage backend for secrets, we were immediately interested due to the global redundancy and high availability offered by Dynamo. Within a few weeks, <a href="https://github.com/hashicorp/terraform-aws-vault/releases/tag/v0.13.6" target="_blank" rel="noreferrer">the Vault module was updated to support the new backend</a>, and migrating was easy.</p><p>If we had written our own Vault module, we would have had to change over the backend configuration ourselves, instead of just changing what flags/variables we passed to the module.</p><h3 id="4-open-source-modules-are-highly-configurable">4. Open-source modules are highly configurable</h3><p>In the above example, you’ll notice that we enabled <a href="https://docs.aws.amazon.com/vpc/latest/userguide/flow-logs.html" target="_blank" rel="noreferrer">VPC Flow Logs</a>. At one point, we were having some troubles with one of our VPC’s security groups and weren’t sure why some traffic wasn’t hitting it’s endpoint.</p><p>After researching flow logs and recognizing that they could help us debug, we added… </p><div><pre><p><span>1</span><span>enable_flow_log</span><span>                      </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>2</span><span></span><span>create_flow_log_cloudwatch_log_group</span><span> </span><span>=</span><span> </span><span>true</span><span></span></p><p><span>3</span><span></span><span>create_flow_log_cloudwatch_iam_role</span><span>  </span><span>=</span><span> </span><span>true</span></p></pre></div><p>…to our module, which handles creating a log group, giving the VPC access via a new IAM Role to publish the logs, and configures the VPC to write out Flow Logs to that log group.</p><p>These three lines create five <code>resources</code> in Terraform per VPC, and with dozens of VPCs throughout Transcend, it was wonderful to already have this functionality built into the modules before we needed it. A single PR with a small diff added Flow Logs support to all of our VPCs, all without needing to look up any documentation on specific resources.</p><p>The high amount of customization many open-source modules offer makes them great for production-readiness. Instead of searching for one module that does everything, you can compose the smaller modules to quickly scaffold almost any infrastructure you want.</p><h3 id="5-open-source-modules-are-easy-to-make-more-configurable">5. Open-source modules are easy to make more configurable</h3><p>Whether you use open-source modules or homemade, you’ll likely want to add features to the module at some point.</p><p>As an example, at Transcend we were using a <a href="https://github.com/cloudposse/terraform-aws-cloudfront-s3-cdn" target="_blank" rel="noreferrer">Cloudposse module</a> to manage our frontend CloudFront distributions. We noticed that the S3 buckets it stored the website asset files in were not encrypted, but as a best-practice at Transcend we encrypt all of our buckets.</p><p>We forked the repo, opened <a href="https://github.com/cloudposse/terraform-aws-cloudfront-s3-cdn/pull/60" target="_blank" rel="noreferrer">a pull request that added support for encrypting the bucket</a>, and within a few …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://transcend.io/blog/opinion-a-case-for-using-terraform-open-source">https://transcend.io/blog/opinion-a-case-for-using-terraform-open-source</a></em></p>]]>
            </description>
            <link>https://transcend.io/blog/opinion-a-case-for-using-terraform-open-source</link>
            <guid isPermaLink="false">hacker-news-small-sites-25660732</guid>
            <pubDate>Wed, 06 Jan 2021 18:41:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Teamflow: Feel like a team again with your own virtual office]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25660172">thread link</a>) | @sylvainkalache
<br/>
January 6, 2021 | https://www.teamflowhq.com/blog/announcing-teamflow-feel-like-a-team-again-with-your-own-virtual-office | <a href="https://web.archive.org/web/*/https://www.teamflowhq.com/blog/announcing-teamflow-feel-like-a-team-again-with-your-own-virtual-office">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Remote work is the most underrated generational shift in the world.</p><p>It saves everyone one hour per day in commute. It creates the biggest labor market in the world — a city in the cloud with hundreds of millions of people. It unlocks opportunity for everyone, regardless of where they live. It gives people more flexibility in working hours. The list goes on and on.</p><p>Remote work would be an unqualified panacea, if it wasn’t for one downside: it makes it harder to work together.</p><p>There’s less alignment than before. Conversations that used to take half an hour now stretch over days filled with Zoom meetings. And most importantly — work is less <em>fun</em> than it used to be. There’s less camaraderie, as it’s become harder to build culture and relationships between coworkers.</p><p>That’s certainly borne by the data. Buffer’s survey of 3,500 remote workers found that the two biggest struggles of remote workers are loneliness and “collaboration and communication.” And that was <em>before</em> the pandemic.</p><figure id="w-node-791ec061a5f0-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff4ffaaacc8fb2ac2c890bc_Biggest%20Struggle.png" loading="lazy" alt=""></p></figure><p>Beers on Friday evenings have been replaced by awkward “Zoom happy hours.” It’s become harder to build culture and camaraderie — the friction to jump onto a call is high enough to kill 90% of the chats that would have happened in the office.</p><p>‍</p><figure id="w-node-529857530ec2-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff5111a5c10c36583323985_Graph.png" loading="lazy" alt=""></p></figure><p>Taken individually, none of these interactions are very important. They’re of the “how’s it going?” variety. But collectively, they’re what culture is made of.</p><p>Ignoring the problem can be tempting. Work is still happening, after all. But it would be hard to overstate how important this issue actually is. There’s a reason why management books emphasize culture and team bonding so much — few things are more important, since everything else depends on this. In Brian Chesky’s words, “<a href="https://medium.com/@bchesky/dont-fuck-up-the-culture-597cde9ee9d4">Don’t fuck up the culture.</a>”</p><p>This too is supported by the data. <a href="https://hbr.org/2012/04/the-new-science-of-building-great-teams">An MIT study of 2,500 white-collar workers</a> found that: (emphasis mine)</p><blockquote><em>“</em><strong><em>35% of the variation in a team’s performance can be accounted for simply by the number of face-to-face exchanges among team members.</em></strong><em> [… T]he least valuable forms of communication are e-mail and texting.”</em></blockquote><h3>Virtual offices: how to have our cake and eat it too<br></h3><p>Fortunately, we think there is a way to have our cake and eat it too — to have all the upside of remote, and none of the downside.</p><p><strong>We believe we can make collaboration software that’s so powerful that remote work becomes not only as good, but significantly better than being in the office.</strong></p><p>We’ve called it Teamflow.</p><p>Teamflow is a virtual office for remote teams. It recreates the casual, unplanned chats and the seamless collaboration that people miss from physical offices.</p><p>Here’s how it works: you see your video in a bubble on a virtual floor plan. You can move that bubble around, and only hear people around you. That means that, to chat with someone, you just drag your bubble over, and start talking.</p><figure><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff5138f5508e8986a0174eb_teamflow-steps.gif" loading="lazy" alt=""></p></figure><figure id="w-node-3944ae63fcff-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff4f7229abf13808ad3c99d_Steps.png" loading="lazy" alt=""></p></figure><p>We’ve been running Teamflow in private beta for the last six months, and were blown away by the response. Our NPS stands at 67, and we receive messages like those below on a daily basis.</p><figure id="w-node-f796746fc7c6-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff4f72a9286ac4b6dd6a21a_Testimonials.png" loading="lazy" alt=""></p></figure><p>We think what makes Teamflow work so well is the interplay between three fundamental parts — its:<br></p><ol role="list"><li>Spatial interface</li><li>Integrated apps</li><li>Persistent rooms<a href="#"><br></a></li></ol><div>

<div id="Waitlist-signup"><h3>Sign up to get access to Teamflow</h3>
<div><p>Thanks for signing up. We'll be in touch soon.</p></div><div><p>Oops! Something went wrong while signing up.</p></div></div></div><h3>Spatial Interface</h3><p><a href="https://darkblueheaven.com/spatialinterfaces/">John Palmer’s essay on spatial interfaces</a> is what inspired us to make space core to Teamflow.</p><p>In short, space comes intuitively to people. We had to become experts at it for our very survival — our sensorimotor skills are so good that roboticists talk of “<a href="https://en.wikipedia.org/wiki/Moravec%27s_paradox">Moravec’s Paradox</a>” to designate the fact that AI was kicking our world champions’ butts at chess as early as in the 90s, but it still can’t do things like driving, which any teenager can learn.</p><p>We were skeptical at first, but after more than 50,000 hours of meetings on Teamflow, we’ve seen spatiality deliver on its promise.</p><p>One of our customers’ new hires told me that it’s only when they started using Teamflow, a full 4 weeks after he onboarded, that he met some of his coworkers for the first time — and that’s with a company of only 25 people.</p><p>This is hardly a unique experience — people underestimate how jarring it can be to start a new job at a remote company. On their first day at work, nobody is going to click on a list of names on Slack just to introduce themselves. But when you see your coworkers’ face in the same space as you, it feels natural to drag yourself over and say hi.<br></p><h3>Integrated Apps</h3><p>The real job-to-be-done of videoconferencing tool is to help people work together — and collaboration is much more than communication. So we think it’s only natural that you’d be able to open your work tools right where your meeting is happening.<br></p><p>Teamflow lets you open apps in the space. For now, these include:<br></p><ul role="list"><li>A scratchpad</li><li>A whiteboard</li><li>A countdown timer</li><li>A universal embed app, letting you open links to your applications like Trello, Figma or Google Docs</li></ul><p>Now, don’t tell anyone, but that’s kind of our world domination plan right there. We aim to be the “meta-coordination layer” that Kevin Kwok wrote about in <a href="https://kwokchain.com/2019/08/16/the-arc-of-collaboration/">The Arc of Collaboration</a>:<br></p><blockquote><em>There is a need for a layer across all the applications. A layer for things that should be shared across the apps as well collaborative functionality across them. There is some mix of presence, collaboration, coordination, and identity that should be ubiquitous across whatever apps are being used. A layer more attached to the people doing work and what they’re trying to accomplish—than which specific app they’re in.</em><br></blockquote><p>We believe that opening all your apps in the same space as your meeting is a much more natural way of working, eliminating what we call “Cmd + Tab fatigue.”<br></p><p>It’s a more natural way of sharing, too. No more “okay, hold on one sec, I’m paaaastiiiing the link here in the chat… Can everybody see it?” You just open the link in the space, and everyone sees it immediately.<br></p><p>Finally, it’s a more natural way of collaborating. The default way people collaborate with Zoom is by screensharing, something we view as fundamentally uncollaborative — not only can only one person screenshare at a time, they’re also the only ones who can drive. It instantly makes a meeting feel like someone is speaking <em>at</em> you. This stands in contrast with Teamflow apps, which everyone can use at the same time, making for more engaging meetings.</p><figure id="w-node-be233c7bbe62-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5ff4f82741be0c3b2aa5d5f8_Illo-Persistence.png" loading="lazy" alt=""></p></figure><div>

<div id="Waitlist-signup"><h3>Sign up to get access to Teamflow</h3>
<div><p>Thanks for signing up. We'll be in touch soon.</p></div><div><p>Oops! Something went wrong while signing up.</p></div></div></div><h3>Persistent rooms</h3><p>If Zoom is our new office, it’s a peculiar one, in that it “factory resets” between each meeting, making it a permanent blank slate — the digital equivalent of <a href="https://youtu.be/GHrdvwWsK54?t=25">Pied Piper’s new office</a> in the TV show Silicon Valley:</p><figure id="w-node-9e22d5a7866a-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5fe52dcd87b80e45262887ca_image4.png" loading="lazy" alt=""></p></figure><p>I think people underestimate the impact this has on collaboration. Imagine if you couldn’t keep anything on your desk, or put anything on the walls of your office. Humans are territorial animals — we need a space to call our own.<br></p><p>At the office, when a deadline looms for an important project, it’s common to set up a “war room” — a space dedicated to the project. These war rooms are very effective — the only reason we don’t use them more often is that space is so scarce.</p><p>So it’s ironic that we’re now given a medium with <em>unlimited space</em>, and instead of taking advantage of it, we limit it <em>even more</em> than what we had previously. We could have infinite war rooms — but instead, we get zero of them.</p><figure id="w-node-937b8f368b56-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5fe52df1d588368cdb032da6_image3.png" loading="lazy" alt=""></p><figcaption>This could be us but you playing</figcaption></figure><p>‍</p><p>Teamflow takes advantage of this infinite real estate. It lets you create one room for each of your projects, and the apps you open in that room persist: they’ll still be there when you come back. Imagine your Google Docs meeting notes, your Figma design, your project’s metrics dashboard — all together in one place.</p><p>This turns the current collaboration paradigm on its head. The way our tools work today is very app-centric. But the way we think about work is <em>project</em>-centric. Google Docs, Trello, or Jira don’t matter — the projects they enable do.</p><p>These three pillars — the spatial interface, integrated apps, and persistent rooms — form a cohesive whole. Apps live in the space, and persist. And together, we think they can make remote work better than being in the office.</p><h3>Making remote better than being in the office</h3><p>It may sound like a lofty goal, but it needs not be. It’s not like the quality of in-office work was a physical constant, the speed of light of collaboration.</p><p>In fact, there are many ways in which the physical world stands in the way of collaboration — and the benefits of a virtual office become obvious when cast under that light:</p><p>‍<br></p><div>

<table>
  <tbody><tr>
    <th>Physical office</th>
    <th>Virtual office</th>
  </tr>
  <tr>
    <td>Run out of meeting rooms</td>
    <td>Unlimited real estate</td>
  </tr>
  <tr>
    <td>Run out of whiteboard space</td>
    <td>Unlimited whiteboards</td>
  </tr>
  <tr>
    <td>Have to take blurry pictures of whiteboards or risk someone wiping them</td>
    <td>Save and restore your whiteboards</td>
  </tr>
  <tr>
    <td>Wait for the elevator, run 5min late to your next meeting</td>
    <td>Teleport instantly anywhere</td>
  </tr>
  <tr>
    <td>Can’t surround yourself with your digital content</td>
    <td>Open apps in the virtual space</td>
  </tr>
</tbody></table>
</div><figure id="w-node-41bb4b027242-0b21c108"><p><img src="https://assets-global.website-files.com/5fe12e458f19d935f547424f/5fe52eadd95720793eac7c8d_image2.png" loading="lazy" alt=""></p><figcaption>Me trying to integrate Google Docs with my physical office</figcaption></figure><p>‍</p><p>Today, Teamflow is coming out of stealth and announcing its $3.9M seed round, led by Menlo Ventures and with the participation of SV Angel, Elad Gil, Balaji Srinivasan, JD Ross, Jack Altman, and many more.<br></p><p>We view the transition to virtual offices as inevitable. Historically, people have used offices for the <em>atoms</em> there — their huge computer, photocopier, stack of documents… Over the last few decades, all those have been replaced by laptops and by cloud software.<br></p><p>What’s left in the office is the <em>bits</em>. The information, the socialization, the collaboration.&nbsp;These can perfectly be handled by software, which has famously been “eating the world” for the last few decades.</p><p>The office just happens to be next.</p><div>

<div id="Waitlist-signup"><h3>Sign up to get access to Teamflow</h3>
<div><p>Thanks for signing up. We'll be in touch soon.</p></div><div><p>Oops! Something went wrong while signing up.</p></div></div></div><p>‍<br></p></div></div>]]>
            </description>
            <link>https://www.teamflowhq.com/blog/announcing-teamflow-feel-like-a-team-again-with-your-own-virtual-office</link>
            <guid isPermaLink="false">hacker-news-small-sites-25660172</guid>
            <pubDate>Wed, 06 Jan 2021 17:48:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Deleting Facebook permanently]]>
            </title>
            <description>
<![CDATA[
Score 222 | Comments 217 (<a href="https://news.ycombinator.com/item?id=25659480">thread link</a>) | @joshmanders
<br/>
January 6, 2021 | https://blog.spacehey.com/entry?id=4054 | <a href="https://web.archive.org/web/*/https://blog.spacehey.com/entry?id=4054">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <p><span><i>I have made this initially as a bulletin but they are only 10 days in length before being removed, so reposting here for posterity.</i></span></p><p><span><i>Original bulletin:</i></span></p><div><p><span>Facebook, Inc is a garbage creepy company. I do not like their business practices at all. That's not even counting the cesspool of a user base they're cultivating on the platform.</span></p><p><span>Because of those reasons I have decided after over a decade on Facebook with ~1500 friends. I am deleting it permanently come February 1st in favor of SpaceHey becoming my new non-business social network.</span></p><p><span>I encourage you all to make a post on your feed directing your friends and family to sign up to SpaceHey and friend you here too, then delete your account after a grace period.</span></p><p><span>Lets make Facebook as scared of SpaceHey as MySpace was at the rise of Facebook.</span></p></div>
    </div></div>]]>
            </description>
            <link>https://blog.spacehey.com/entry?id=4054</link>
            <guid isPermaLink="false">hacker-news-small-sites-25659480</guid>
            <pubDate>Wed, 06 Jan 2021 16:54:00 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Decoding the Peloton]]>
            </title>
            <description>
<![CDATA[
Score 155 | Comments 109 (<a href="https://news.ycombinator.com/item?id=25658490">thread link</a>) | @_ihaque
<br/>
January 6, 2021 | https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/ | <a href="https://web.archive.org/web/*/https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><strong><span>TL</span>;<span>DR</span></strong> - I’ve decoded (most of) the protocol that the Peloton bike uses to
communicate with its head unit tablet and built a device, the PeloMon, that takes that
data during a ride, without interfering with the Peloton software, to
broadcast it over Bluetooth <span>LE</span> to whatever devices you’d like — a watch, Zwift,
Wahoo, whatever. Stick around for logic analyzer traces, hardware diagrams,
cursing at Bluetooth, and some nice&nbsp;interfaces.</p>
<p>First in a series. See the <a href="https://github.com/ihaque/pelomon">project GitHub</a>, to be updated through the&nbsp;series.</p>
<ul>
<li><a href="https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/">Part I: Decoding the&nbsp;Peloton</a></li>
<li><a href="https://ihaque.org/posts/2020/12/25/pelomon-part-ib-computing-speed">Part Ib: How does the Peloton compute&nbsp;speed?</a></li>
<li><a href="https://ihaque.org/posts/2020/12/26/pelomon-part-ii-emulating-peloton">Part <span>II</span>: Emulating the&nbsp;Peloton</a></li>
<li><a href="https://ihaque.org/posts/2020/12/28/pelomon-part-iii-hardware">Part <span>III</span>: PeloMon&nbsp;Hardware</a></li>
<li><a href="https://ihaque.org/posts/2021/01/04/pelomon-part-iv-software">Part <span>IV</span>: PeloMon&nbsp;Software</a></li>
</ul>
<h2 id="table-of-contents"><a href="#table-of-contents">Table of&nbsp;Contents</a></h2>
<ul>
<li><strong><a href="#intro-to-the-pelomon-project">Intro</a></strong></li>
<li><strong><a href="#the-physical-layer-how-does-the-bike-talk-to-the-tablet">Physical Layer</a></strong> (<a href="#hardware-used">Hardware Used</a>, <a href="#mapping-the-available-signals">Mapping Signals</a>, <a href="#decoding-the-wire-protocol-with-a-logic-analyzer">Wire Protocol</a>)</li>
<li><strong><a href="#data-encoding-what-are-the-head-unit-and-bike-saying-to-each-other">Data Encoding</a></strong> (<a href="#basic-packet-structure">Packet Structure</a>, <a href="#decoding-cadence-rpm-power-and-almost-resistance">Cadence and Power</a>, <a href="#a-detour-what-happens-when-you-boot-up-the-bike">Boot Sequence</a>, <a href="#decoding-resistance-for-real-this-time">Resistance</a>)</li>
<li><strong><a href="#conclusion">Conclusion</a></strong> (<a href="#pinouts">Pinouts</a>, <a href="#protocol-description">Protocol Description</a>, <a href="#open-questions">Open Questions</a>)</li>
</ul>

<p>We have a Peloton at home. Originally, I was skeptical, but then I found
trainers I like and it’s fun to ride with friends. And really takes the edge
off all-day Zoom meetings to ride during a meeting with the camera turned&nbsp;off.</p>
<p>But, being the guy that I am, I’ve been curious about how the head unit —
which runs a lightly skinned Android — was collecting stats
from the actual bike. I was also a bit annoyed that though the Peloton software
will happily read data from an <span>HR</span> sensor, and will upload your ride data to
Strava, there was no way for it to <em>broadcast</em> data about a ride to a local
fitness appliance — which meant that although I could track the fact that I
was doing an “indoor bike” ride on my Garmin watch, the watch would see a 0
mile ride because it got no bike&nbsp;data.</p>
<p>Then a couple months ago, I came across
<a href="https://ptx2.net/posts/unbricking-a-bike-with-a-raspberry-pi/">this blog post</a>
in which someone on the Internet was able to hook up their (bricked) Flywheel
bike to Zwift using a Raspberry Pi to decode the bike sensor data and broadcast
it over Bluetooth — and I was inspired to finally give this project a shot.
What should we call a device broadcasting stats from the Peloton, monitoring it
if you will? How about&nbsp;“PeloMon”?</p>
<p>Let’s get down to&nbsp;it.</p>

<h2 id="hardware-used"><a href="#hardware-used">Hardware&nbsp;used</a></h2>
<p>Any physical layer work is going to require actual hardware!
I’ll provide links to all of the hardware involved in
the project in case you’d like to follow along. I bought from a mix of Amazon
and Adafruit; note that the Amazon links are affiliate links so if you end
up buying there I’ll get a small referral&nbsp;bonus.</p>
<table>
<tbody><tr><th>Part name</th><th>Links</th><th>Price at time of writing</th></tr>
<tr><td><span>TRRS</span> breakout board</td>
    <td><a href="https://amzn.to/3dsGuYt">Amazon</a></td>
    <td>$6.98 (qty 3)</td></tr>
<tr><td><span>USB</span> logic analyzer 24MHz 8ch</td>
    <td><a href="https://amzn.to/319svlj">Amazon</a></td>
    <td>$12.49</td></tr>
<tr><td>6” stereo headphone splitter cable</td>
    <td><a href="https://amzn.to/341FG9D">Amazon</a></td>
    <td>$4.91</td></tr>
<tr><td>3ft aux cable</td>
    <td><a href="https://amzn.to/2IzVhFi">Amazon</a></td>
    <td>$3.99</td></tr>
<tr><td>2.1mm <span>DC</span> barrel jack splitter</td>
    <td><a href="https://www.adafruit.com/product/1351">Adafruit</a></td>
    <td>$2.95</td></tr>

</tbody></table>

<h2 id="mapping-the-available-signals"><a href="#mapping-the-available-signals">Mapping the available&nbsp;signals</a></h2>
<p>There are only two cables that plug into the tablet: a barrel jack carrying
<span>DC</span> power @ 12V (coming from the power brick), and a <span>TRRS</span> connector —
think “stereo aux cable”. So the data is clearly coming in on the latter.
Since I only wanted to observe the traffic between the <span>HU</span> and the bike,
not interrupt it, I used a headphone splitter cable to split the cable from the bike with an extra jack, and connected an aux cable from that extra jack
to the breakout. Such a connection might disrupt some high-speed communications
protocols, but my guess was that a) there wasn’t going to be that much traffic
to require anything fancy, b) nothing fast would be running over 3.5mm <span>TRRS</span>, and
c) this interface would be engineered with pretty wide tolerances for stability 
in a home environment. (Spoiler alert: all of these were&nbsp;true.)</p>
<p>The first step was to identify the pinout from the jack as best
as possible. Probing the leads with a <span>DMM</span> with the bike active showed that
Ring2 was at ground (0V with respect to the power supply’s ground)
with -5.5-6V between tip or ring1 and ground. Sleeve also appears to be
at ground, but it and Ring2 may not quite be the same (more on this later).
The negative voltages with respect
to ground are a pretty strong sign that we’re going to see <span>RS</span>-232&nbsp;signaling.</p>
<h2 id="decoding-the-wire-protocol-with-a-logic-analyzer"><a href="#decoding-the-wire-protocol-with-a-logic-analyzer">Decoding the wire protocol with a logic&nbsp;analyzer</a></h2>
<p>(If you’d like to load a PulseView trace to see the data for yourself, one session
file from a test ride is located in <code>peloton_decoding/resistance-stepped-10s.sr</code>
in <a href="https://github.com/ihaque/pelomon">the PeloMon GitHub repository</a>.)</p>
<p>Normally I’d wire up the breakout and hack something together on the Arduino
I have sitting around, but it turns out that logic analyzers have gotten
<em>really really cheap</em> so I splurged on a $12.50 one and thought I’d give it
a whirl — turned out to be a great idea that made it <span>WAY</span> easier to decode
the signals. With complete abandon regarding ground isolation and the voltage
tolerances of the <span>LA</span> (is it supposed to be able to handle negative voltage?),
I hooked it up to see what I’d get. These cheapo LAs emulate a Saleae Logic
analyzer and work fine in the open-source <a href="https://sigrok.org/wiki/PulseView">PulseView</a>&nbsp;software.</p>
<p><img alt="Hooking up the LA with D0 on tip, D4 on ring1, D5 on sleeve, and GND on ring2" src="https://ihaque.org/static/img/2020/10/20201015-pinout-0tip-4ring1-5sleeve-gndring2.png">
</p><center><strong>Hooking up the <span>LA</span> with D0 on tip, D4 on ring1, D5 on sleeve, and <span>GND</span> on ring2</strong></center>
<p><img alt="D0 on tip, D2 on ring1, D4 on ring2, and GND on sleeve" src="https://ihaque.org/static/img/2020/10/20201015-pinout-0tip-2ring1-4ring2-gndsleeve.png">
</p><center><strong>D0 on tip, D2 on ring1, D4 on ring2, and <span>GND</span> on sleeve</strong></center>
<p>There’s pretty clearly serial signaling going on over these wires! One
party seems to be sending requests on Tip every 100ms, and the other
party responds about a millisecond later on Ring1. While it wasn’t obvious
from the <span>DMM</span> whether signaling <span>GND</span> should be on Ring2 or Sleeve, from the <span>LA</span>
traces, it looks like there is less glitching on the response line if Ring2 is
used as <span>GND</span> - so we’ll do that. The narrow pulses are probably single bits,
so sampling at a high rate (a few hundred kHz) lets us measure the bit
rate as&nbsp;19200bps:</p>
<p><img alt="Counting samples in the LA shows a 19.2kHz signal" src="https://ihaque.org/static/img/2020/10/20201015-pinout-19200bps.png">
</p><center><strong>Counting samples in the <span>LA</span> shows a 19.2kHz signal</strong></center>
<p>PulseView also lets you add protocol decoders to particular wires. I put a <span>UART</span>
decoder on with D0 as “<span>RX</span>” and D4 as “<span>TX</span>”, and saw data, but with a ton of
low-level serial protocol errors. UARTs invert the signal going out on the wire
with the expectation that there will be another <span>UART</span> at the other end to
re-invert. Since we don’t have that second <span>UART</span>, we have to turn the “Invert <span>RX</span>”
and “Invert <span>TX</span>” options on in PulseView, and then we see clean data! I also
experimented with other serial options (data, parity, and stop bits), but the
first guess of 8N1 turned out&nbsp;correct.</p>
<p><img alt="Without inversion enabled, we see framing errors and break conditions" src="https://ihaque.org/static/img/2020/10/20201015-missing-inversion.png">
</p><center><strong>Without inversion enabled, we see framing errors and break conditions</strong></center>
<p><img alt="Turning on the inversion in software, we see data with no serial errors!" src="https://ihaque.org/static/img/2020/10/20201015-fixed-inversion.png">
</p><center><strong>Turning on the inversion in software, we see data with no serial errors!</strong></center>
<p>Following the data streams, we see that the data stream on the
Tip wire during a ride always consists of one of three different four-byte
packets, repeated round-robin every 100ms, with the responses on Ring1 to these
requests being longer, different in length depending on the request type, and
variable in content.
It seems likely then that the Tip shows us signaling from the head unit to the
bike, and Ring1 is the bike responding to the head unit with information
about variables like current speed, resistance, or power&nbsp;output.</p>
<p><strong>Thus, we’ve worked out the physical layer protocol for the Peloton
communications: <span>RS</span>-232 at 5.5V and 19200bps 8N1 encoding, with <span>HU</span>-to-bike
communications on Tip, bike-to-<span>HU</span> on Ring1, <span>GND</span> on Ring2, and something
ground-like on&nbsp;Sleeve.</strong></p>

<p>To investigate the encoding between the head unit and the bike, I used the
logic analyzer to capture a trace of the communications during a ride. (Shoutout
to Ben Alldis and his Ministry of Sound ride series!)
The data dump and scripts are available in the GitHub repository for this project
at https://github.com/ihaque/pelomon/, in the <code>peloton_decoding</code> subdirectory.)</p>
<h2 id="basic-packet-structure"><a href="#basic-packet-structure">Basic packet&nbsp;structure</a></h2>
<p>(To follow along, run <code>peloton_decoding/decoder_plots.py</code> from the
<a href="https://github.com/ihaque/pelomon">PeloMon Github repository</a>.)</p>
<p>During a ride, about every 100ms (100.66-100.8ms) the <span>HU</span> sends a request
to the bike, and the bike responds about 300us (i.e., 0.3ms) from the end
of the <span>HU</span>’s request. The <span>HU</span> sends three different request packets round robin.
Each request type has a different response length from the&nbsp;bike:</p>
<table> 
<tbody><tr><th><span>HU</span> Request</th><th>Bike Response Length</th><th>Example Bike Response</th></tr>
<tr><td><tt>F5 41 36 F6</tt></td><td>8 bytes</td><td><tt>F1 41 03 30 30 30 C5 F6</tt></td></tr>
<tr><td><tt>F5 44 39 F6</tt></td><td>10 bytes</td><td><tt>F1 44 05 30 30 30 30 30 2A F6</tt></td></tr>
<tr><td><tt>F5 4A 3F F6</tt></td><td>9 bytes</td><td><tt>F1 4A 04 38 36 36 30 13 F6</tt></td></tr>
</tbody></table>

<p>A few things are evident from simple inspection of the&nbsp;bytes:</p>
<ul>
<li>The first byte is a header - seems to be F5 from the <span>HU</span> and F1 from the&nbsp;bike.</li>
<li>All packets end in&nbsp;F6.</li>
<li>The second byte that the <span>HU</span> sends seems to be a request type, and is mirrored in the second byte in the bike’s&nbsp;response.</li>
<li>The third byte of the bike response is the length of the full packet minus 5 — probably indicates the length of the data payload following&nbsp;it.</li>
<li>Serial packets often carry a checksum, and here the second-to-last byte from either the <span>HU</span> or the bike seems to be that: it’s the sum (modulo 256) of all the bytes preceding&nbsp;it.</li>
</ul>
<p>Thus, the packet format seems to&nbsp;be:</p>
<ul>
<li><span>HU</span>: <code>F5 [request type] [checksum] F6</code></li>
<li>Bike: <code>F1 [request type] [payload length] [response bytes 1-n] [checksum] F6</code></li>
</ul>
<p>We can now throw together a quick plot of each response byte to look for&nbsp;patterns.</p>
<p><img alt="Bytewise plot of Peloton response data for common request packets during part of a ride" src="https://ihaque.org/static/img/2020/10/20201015-peloton-bytewise.png">
</p><center><strong>Bytewise plot of Peloton response data for common request packets during part of a ride</strong></center>
<p>It appears that every byte ranges from 0x30 to 0x39 — which is exactly the
<span>ASCII</span> range for decimal digits 0 through 9. Furthermore, the earlier bytes in
each packet appear to vary more quickly than the later ones through a ride,
suggesting that the least-significant digit comes first. <strong>The Peloton bike
is encoding its responses as little-endian <span>ASCII</span> digits.</strong> It’s easy enough
to dump a plot of these values per response type now that we know the&nbsp;encoding:</p>
<p><img alt="Decoded values sent by bike to head unit during a ride" src="https://ihaque.org/static/img/2020/10/20201015-peloton-ascii.png">
</p><center><strong>Decoded values sent by bike to head unit during a ride</strong></center>
<h2 id="decoding-cadence-rpm-power-and-almost-resistance"><a href="#decoding-cadence-rpm-power-and-almost-resistance">Decoding cadence (<span>RPM</span>), power, and (almost)&nbsp;resistance</a></h2>
<p>(To follow along, run <code>peloton_decoding/decode_resistance.py</code> from the
<a href="https://github.com/ihaque/pelomon">PeloMon Github repository</a>.)</p>
<p>Glancing at these graphs it’s pretty clear that we have ride data of the Peloton
trifecta — cadence, power, and resistance — with a couple weird things thrown in
for flavor. Comparing to the Peloton ride stats, <strong>request type 0x41 seems to directly
return cadence in rpm and request type 0x44 returns 10 times power in watts (i.e.,
current power output in deciwatts)</strong>. However, while the …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/">https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/</a></em></p>]]>
            </description>
            <link>https://ihaque.org/posts/2020/10/15/pelomon-part-i-decoding-peloton/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25658490</guid>
            <pubDate>Wed, 06 Jan 2021 15:23:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I’ve Learned in 45 Years in the Software Industry]]>
            </title>
            <description>
<![CDATA[
Score 1211 | Comments 348 (<a href="https://news.ycombinator.com/item?id=25658216">thread link</a>) | @FauxDemure
<br/>
January 6, 2021 | https://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/ | <a href="https://web.archive.org/web/*/https://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>BTI360 teammate Joel Goldberg recently retired after working in the software industry for over four decades. When he left he shared with our team some of the lessons he learned over his career. With his permission, we reshare his wisdom here.</h2><hr><p><a href="http://www.bti360.com/wp-content/uploads/2021/01/goldberg-early.png"><img data-attachment-id="4299" data-permalink="https://www.bti360.com/?attachment_id=4299" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/goldberg-early.png" data-orig-size="235,341" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="goldberg-early" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/goldberg-early.png" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/goldberg-early.png" loading="lazy" src="https://www.bti360.com/wp-content/uploads/2021/01/goldberg-early.png" alt="" width="235" height="341"></a>Looking back on four decades in the software industry, I’m struck by how much has changed. I started my career with punch cards and I am ending in the era of cloud computing. Despite all this change, many principles that have helped me throughout my career haven’t changed and continue to be relevant. As I step away from the keyboard, I want to share six ideas I’ve learned from my career as a software engineer.</p><h2>1. Beware of the Curse of Knowledge</h2><p>When you know something it is almost impossible to imagine what it is like&nbsp;<em>not</em>&nbsp;to know that thing. This is the curse of knowledge, and it is the root of countless misunderstandings and inefficiencies. Smart people who are comfortable with complexity can be especially prone to it!</p><p>If you don’t guard against the curse of knowledge it has the potential to obfuscate all forms of communication, including code. The more specialized your work, the greater the risk that you will communicate in ways that are incomprehensible to the uninitiated. Fight the curse of knowledge. Work to understand your audience. Try to imagine what it would be like to learn what you are communicating for the first time.</p><h2>2. Focus on the Fundamentals</h2><p>Technology constantly changes, but some fundamental approaches to software development transcend these trends. Here are six fundamentals that will continue to be relevant for a long time.</p><ul><li><strong>Teamwork</strong>&nbsp;— Great teams build great software. Don’t take teamwork for granted.</li><li><strong>Trust&nbsp;</strong>— Teams move at the speed of trust. Be the kind of dependable person you would want to work with.</li><li><strong>Communication</strong>&nbsp;— Communicate honestly and proactively. Avoid the curse of knowledge.</li><li><strong>Seek Consensus</strong>&nbsp;— Take the time to bring your whole team along. Let discussion and disagreement bring you to the best solution.</li><li><strong>Automated Testing</strong>&nbsp;—&nbsp; Well-tested code allows your team to move fast with confidence.</li><li><strong>Clean, understandable, and navigable code and design</strong>&nbsp;— Think of the next engineer that will take over your code as your customer.&nbsp; Build code that your successor won’t have any trouble reading, maintaining, and updating.</li></ul><h2>3. Simplicity</h2><p>Fighting complexity is a never-ending cause. Solutions should be as simple as possible. Assume the next person to maintain your code won’t be as smart as you. When you can use fewer technologies, do so.</p><figure><blockquote><p><em>“A designer knows he has achieved perfection not when there is nothing left to add, but when there is nothing left to take away.”</em></p><p><cite><em>Antoine de Saint-Exupery</em></cite></p></blockquote></figure><h2>4. Seek First to Understand</h2><p>One of Stephen Covey’s seven habits is, “Seek First To Understand, Then To Be Understood.” This maxim has helped me more than any other advice to become a good listener and teammate. If you want to influence and work effectively with others, you first need to understand them. Actively listen to understand their feelings, ideas, and point of view before you begin trying to make your own thoughts known.</p><p><a href="http://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237.jpg"><img data-attachment-id="4305" data-permalink="https://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/bti360-2019-237-2/" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237.jpg" data-orig-size="600,388" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bti360-2019-237" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237-400x259.jpg" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237.jpg" loading="lazy" src="https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237.jpg" alt="" width="600" height="388" srcset="https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237.jpg 600w, https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237-400x259.jpg 400w, https://www.bti360.com/wp-content/uploads/2021/01/bti360-2019-237-564x365.jpg 564w" sizes="(max-width: 600px) 100vw, 600px"></a></p><h2>5. Beware of Lock-In</h2><p>There will always be the next hot productivity product that will promise to revolutionize how software is built. Computer Assisted Software Engineering (CASE) tools, COTS, Enterprise Resource Planning products like Peoplesoft and SAP and, yes, even Ruby. They claim amazing reductions in cost and time if you buy into their holistic development philosophy. What is not always as obvious is the significant up-front costs or the constraints you may be committing yourself to. Lock-in used to primarily happen with vendors, but now it can happen with frameworks too. Either way, lock-in means significant cost to change. Choose wisely. New is not always better!</p><h2>6. Be Honest and Acknowledge When You Don’t Fit the Role</h2><p>At some point in your career you may find yourself in a role that isn’t a good fit. A bad fit isn’t a character flaw, but it’s a problem you shouldn’t ignore. There may be more than one solution to such a dilemma: you can evolve or the role can evolve. The key is to have the self-knowledge to recognize what is happening and get yourself out of an unhealthy spot. Being unhappy is in no-one’s best interests, and BTI360 recognizes this.</p><p>When I was at GM, you were a failure if your next move was not&nbsp;<em>up</em>—managing more people or taking on bigger, more complex projects. For many, this made for a miserable career path (see the&nbsp;<a href="https://en.wikipedia.org/wiki/Peter_principle">Peter Principle</a>). At EDS, the culture wasn’t like this. People moved in and out of management roles. There was no stigma associated with moving from roles with greater scope, like strategic planner, to roles with more narrow scope, like PM or project-level developer. I was one of the people who took advantage of this flexibility, moving from a role at the top of the technical pyramid back to being a project-level developer. I never looked back.</p><h2>Final Thoughts<img data-attachment-id="4294" data-permalink="https://www.bti360.com/?attachment_id=4294" data-orig-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" data-orig-size="230,230" data-comments-opened="0" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Goldberg_Joel_2_circ-230" data-image-description="" data-medium-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" data-large-file="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" loading="lazy" src="https://www.bti360.com/wp-content/uploads/2021/01/Goldberg_Joel_2_circ-230.png" alt="" width="230" height="230"></h2><p>Even before I joined BTI360 I knew enough about the culture to know that it was a place that valued the kinds of principles I’ve described above. I hope each of you will take ownership of maintaining a strong engineering culture that will continue to make BTI360 a great place to build software.</p><hr><h2><em>In addition to his varied technical experience, Joel worked with a lot of interesting characters over his career, including W. Edwards Deming and Ross Perot. Next week we will share an interview where he tells more about those encounters and other interesting experiences over 4 decades in the tech industry.</em></h2><p><strong>Like What You Hear? Work Here!</strong><br> Are you a software engineer, interested in joining a software company that invests in its teammates and promotes a strong engineering culture? Then you’re in the right place! Check out our current&nbsp;<a href="https://www.bti360.com/careers/#apply-now">Career Opportunities</a>. We’re always looking for like-minded engineers to join the BTI360 family.</p></div></div>]]>
            </description>
            <link>https://www.bti360.com/what-ive-learned-in-45-years-in-the-software-industry/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25658216</guid>
            <pubDate>Wed, 06 Jan 2021 14:51:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Unix shell pipelines have two usage patterns]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25658186">thread link</a>) | @todsacerdoti
<br/>
January 6, 2021 | https://utcc.utoronto.ca/~cks/space/blog/unix/ShellPipesTwoUsages | <a href="https://web.archive.org/web/*/https://utcc.utoronto.ca/~cks/space/blog/unix/ShellPipesTwoUsages">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Unix shell pipelines have two usage patterns</h2>

	<p><small>January  6, 2021</small></p>
</div><div><p>I've seen a variety of recommendations for safer shell scripting
that use Bash and set its 'pipefail' option (for example, <a href="https://vaneyckt.io/posts/safer_bash_scripts_with_set_euxo_pipefail/">this
one from 2015</a>).
This is a good recommendation in one sense, but it exposes a conflict;
this option works great for one usage pattern for pipes, and
potentially terribly for another one.</p>

<p>To understand the problem, let's start with what Bash's pipefail does.
To quote the <a href="https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html">Bash manual</a>:</p>

<blockquote><p>The exit status of a pipeline is the exit status of the last command
in the pipeline, unless the <code>pipefail</code> option is enabled.  If
<code>pipefail</code> is enabled, the pipelineâ€™s return status is the value of
the last (rightmost) command to exit with a non-zero status, or zero
if all commands exit successfully. [...]</p>
</blockquote>

<p>The reason to use <code>pipefail</code> is that if you don't, a command failing
unexpectedly in the middle of a pipeline won't normally be detected
by you, and won't abort your script if you used '<code>set -e</code>'. You can
go out of your way to carefully check everything with <code>$PIPESTATUS</code>,
but that's a lot of extra work.</p>

<p>Unfortunately, this is where <a href="https://utcc.utoronto.ca/~cks/space/blog/linux/BashPipes">our old friend <code>SIGPIPE</code></a> comes into the picture. What <code>SIGPIPE</code> does
in pipelines is force processes to exit if they write to a closed
pipe. This happens if a later process in a pipeline doesn't consume
all of its input, for example if you only want to process the first
thousand lines of output of something:</p>


<blockquote><pre>generate --thing | sed 1000q | gronkulate
</pre>
</blockquote>

<p>The <code>sed</code> exits after a thousand lines and closes the pipe that
<code>generate</code> is writing to, <code>generate</code> gets <code>SIGPIPE</code> and by default
dies, and suddenly its exit status is non-zero, which means that
with <code>pipefail</code> the entire pipeline 'fails' (and with '<code>set -e</code>',
your script will normally exit).</p>

<p>(Under some circumstances, <a href="https://utcc.utoronto.ca/~cks/space/blog/unix/ShellPipelineIndeterminate">what happens can vary from run to run due
to process scheduling</a>. It can also depend
on how much output early processes are producing compared to what later
processes are filtering; if <code>generate</code> produces 1000 lines or less,
<code>sed</code> will consume all of them.)</p>

<p>This leads to two shell pipeline usage patterns. In one usage pattern,
all processes in the pipeline consume their entire input unless
something goes wrong. Since all processes do this, no process should
ever be writing to a closed pipe and <code>SIGPIPE</code> will never happen. In
another usage pattern, at least one process will stop processing its
input early; often such processes are in the pipeline specifically to
stop at some point (as <code>sed</code> is in my example above). These pipelines
will sometimes or always generate <code>SIGPIPE</code>s and have some processes
exiting with non-zero statuses.</p>

<p>Of course, you can deal with this in an environment where you're using
<code>pipefail</code>, even with '<code>set -e</code>'. For instance, you can force one
pipeline step to always exit successfully:</p>

<blockquote><pre>(generate --thing || true) | sed 1000q | gronkulate
</pre>
</blockquote>

<p>However, you have to remember this issue and keep track of what commands
can exit early, without reading all of their input. If you miss some,
your reward is probably errors from your script. If you're lucky,
they'll be regular errors; if you're unlucky, they'll be sporadic errors
that happen when one command produces an unusually large amount of
output or another command does its work unusually soon or fast.</p>

<p>(Also, it would be nice to only ignore <code>SIGPIPE</code> based failures, not
other failures. If <code>generate</code> fails for other reasons, we'd like the
whole pipeline to be seen as having failed.)</p>

<p>My informal sense is that the 'consume everything' pipeline pattern
is far more common than the 'early exit' pipeline pattern, although
I haven't attempted to inventory my scripts. It's certainly the
natural pattern when you're filtering, transforming, and examining
all of something (for example, to count or summarize it).</p>
</div></div>]]>
            </description>
            <link>https://utcc.utoronto.ca/~cks/space/blog/unix/ShellPipesTwoUsages</link>
            <guid isPermaLink="false">hacker-news-small-sites-25658186</guid>
            <pubDate>Wed, 06 Jan 2021 14:47:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Incremental learning of polynomials (and other LIP models) with IRMA]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25657402">thread link</a>) | @MrBusch
<br/>
January 6, 2021 | http://buschermoehle.org/andreas/irma.htm | <a href="https://web.archive.org/web/*/http://buschermoehle.org/andreas/irma.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://buschermoehle.org/andreas/irma.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25657402</guid>
            <pubDate>Wed, 06 Jan 2021 13:10:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Simulating the PIN cracking scene in Terminator 2]]>
            </title>
            <description>
<![CDATA[
Score 427 | Comments 112 (<a href="https://news.ycombinator.com/item?id=25656827">thread link</a>) | @fanf2
<br/>
January 6, 2021 | https://bert.org/2021/01/04/t2-pin-cracking/ | <a href="https://web.archive.org/web/*/https://bert.org/2021/01/04/t2-pin-cracking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>In the beginning of <a href="https://www.imdb.com/title/tt0103064/">Terminator 2: Judgement Day</a>, John Connor uses a laptop to crack the PIN of a stolen debit card.</p>



<p>I don’t think I saw Terminator 2 in the theater. I probably watched it years later on LaserDisc but the scene left quite an impression on me. I had a similar reaction to the war dialer in <a href="https://www.imdb.com/title/tt0086567/">WarGames</a> and the black box in <a href="https://www.imdb.com/title/tt0105435/">Sneakers</a>.</p>

<figure>
    <img src="https://bert.org/assets/posts/pinid/wargames.jpg" alt="War Dialer in WarGames (1983)">
    <figcaption>War Dialer in WarGames (1983)</figcaption>
</figure>

<figure>
    <img src="https://bert.org/assets/posts/pinid/sneakers.jpg" alt="Black Box in Sneakers (1992)">
    <figcaption>Black Box in Sneakers (1992)</figcaption>
</figure>

<p>Anyways, I was thinking about that scene from Terminator 2 recently which led me to googling, “What’s that laptop in Terminator 2?”</p>

<p>It’s an <a href="https://en.wikipedia.org/wiki/Atari_Portfolio">Atari Portfolio</a>, the world’s first palmtop computer. It was released in June 1989.</p>

<p><img src="https://bert.org/assets/posts/pinid/portfolio.png" alt="Atari Portfolio"></p>

<p>It had a monochrome LCD with 240x64 pixels or 40 characters x 8 lines and ran off 3 AA batteries.</p>

<p>The next thing I wondered was, “How difficult would it be to write that program?” Not a program that actually cracks PIN numbers from debit cards, I don’t think you can actually do that with a serial cable and some aluminum foil wrapped around a debit card, but a program that can simulate the output of the palmtop in that scene.</p>

<p>Let’s gather some product requirements!</p>

<p>If we watch the video again, the first thing that happens is that it displays a banner for the program.</p>

<p><img src="https://bert.org/assets/posts/pinid/pinip.jpg" alt="banner"></p>

<p>The image is clear enough that you can copy the banner easily.</p>

<div><div><pre><code>PPPPP   IIIIIII   N    N
P   PP     I      NN   N IDENTIFICATION
P   PP     I      N N  N
PPPPP      I      N  N N   PROGRAM
P          I      N   NN
P       IIIIIII   N    N

Strike a key when ready ...
</code></pre></div></div>

<p>At this point, John hits Enter and the numbers start scrolling. If we look a few frames in:</p>

<p><img src="https://bert.org/assets/posts/pinid/firstline.jpg" alt="first line"></p>

<p>We can see that the first line of numbers is:</p>

<div><div><pre><code>12345678901234567890123457890123456780
</code></pre></div></div>

<p>One might assume that this is just the digits 1 through 0 repeated four times, but upon closer look, it’s only 38 digits long. In the third set, the number 6 is omitted, and the last set, the number 9 is omitted.</p>

<p>The way the numbers decrease isn’t obvious either, but it seems like it prints about 5 lines at a certain length before decreasing the length by 1, but after the next set it decreases the length by 2 and then alternates back and forth until it identifies the 4-digit PIN code and dumps him back to a prompt.</p>

<p>Well, that seems pretty straightforward. I’ve been trying to get better at Python so here’s a script I wrote in Python 3:</p>

<div><div><pre><code><span>#!/usr/bin/env python3
</span><span>import</span> <span>time</span>
<span>import</span> <span>random</span>

<span>delay</span> <span>=</span> <span>0.025</span>

<span>print</span><span>(</span><span>"PPPPP   IIIIIII   N    N"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
<span>print</span><span>(</span><span>"P   PP     I      NN   N IDENTIFICATION"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
<span>print</span><span>(</span><span>"P   PP     I      N N  N"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
<span>print</span><span>(</span><span>"PPPPP      I      N  N N   PROGRAM"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
<span>print</span><span>(</span><span>"P          I      N   NN"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
<span>print</span><span>(</span><span>"P       IIIIIII   N    N"</span><span>)</span>
<span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>

<span>print</span><span>(</span><span>''</span><span>)</span>
<span>input</span><span>(</span><span>"Strike a key when ready ..."</span><span>)</span>

<span>print</span><span>(</span><span>"</span><span>\n\n</span><span>12345678901234567890123457890123456780"</span><span>)</span>

<span>lines</span> <span>=</span> <span>1</span>

<span>length</span> <span>=</span> <span>38</span>
<span>decrease</span> <span>=</span> <span>1</span>
<span>while</span> <span>True</span><span>:</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>0</span><span>,</span> <span>length</span><span>):</span>
        <span>print</span><span>(</span><span>random</span><span>.</span><span>randint</span><span>(</span><span>0</span><span>,</span><span>9</span><span>),</span> <span>end</span><span>=</span><span>''</span><span>)</span>
    <span>print</span><span>(</span><span>''</span><span>)</span>
    <span>time</span><span>.</span><span>sleep</span><span>(</span><span>delay</span><span>)</span>
    <span>lines</span> <span>+=</span> <span>1</span>
    <span>if</span> <span>(</span><span>lines</span> <span>==</span> <span>5</span><span>):</span>
        <span>lines</span> <span>=</span> <span>0</span>
        <span>length</span> <span>-=</span> <span>decrease</span>
        <span>if</span> <span>(</span><span>decrease</span> <span>==</span> <span>1</span><span>):</span>
            <span>decrease</span> <span>=</span> <span>2</span>
        <span>else</span><span>:</span>
            <span>decrease</span> <span>=</span> <span>1</span>
    <span>if</span> <span>(</span><span>length</span> <span>&lt;=</span> <span>4</span><span>):</span>
        <span>break</span>
<span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>0</span><span>,</span> <span>10</span><span>):</span>
    <span>print</span><span>(</span><span>"9003"</span><span>)</span>

<span>print</span><span>(</span><span>"</span><span>\n</span><span>PIN IDENTIFICATION NUMBER: 9003"</span><span>)</span>

<span>print</span><span>(</span><span>"</span><span>\n</span><span>a&gt;"</span><span>,</span> <span>end</span><span>=</span><span>''</span><span>)</span>
</code></pre></div></div>

<p>The script runs really quickly so I added a delay between lines so that you can see the same progression as in the clip. I’m sure there are other optimizations that can be made, but if I were administering this as a bad coding challenge for a tech interview, I’d pass myself.</p>

<p>Using Google Image Search, I found a site selling OEM plastic bezels for the Atari Portfolio which had this nice graphic of the front of the screen:</p>

<p><img src="https://bert.org/assets/posts/pinid/bezel.jpg" alt="screen bezel"></p>

<p>After playing around with <a href="https://github.com/nbedos/termtosvg">termtosvg</a> a bit, in particular the <a href="https://github.com/nbedos/termtosvg/blob/develop/man/termtosvg-templates.md">SVG templates</a> feature, I managed to produce this crazy SVG:</p>

<p>Despite running <a href="https://html5zombo.com/">html5zombo.com</a> for over 10 years now, I’m not sure I really appreciated what SVGs were capable of until I built this one. They can embed images? CSS? Javascript? Any site that allows users to upload arbitrary SVGs and <a href="https://github.com/bertrandom/pinid">renders them</a> now has my utmost respect.</p>

<p>While I enjoyed making my little self-contained SVG, it bugged me that my Python code could never actually run on an Atari Portfolio. The Atari Portfolio runs “DIP Operating System 2.11” (DIP DOS) which is “mostly compatible” with MS-DOS.</p>

<p>In junior high, before anybody paid me to write software professionally, I used to write BBS software, mods, and door games in my spare time in a mix of Turbo Pascal and a scripting language called PCBoard Programming Language which was similar to BASIC. Based on my minimal research, if I could write this in Turbo Pascal and compile it, it’d probably run on an Atari Portfolio.</p>

<p>I haven’t written Turbo Pascal in about 25 years, but do you ever really forget?</p>

<p>I like a fork of DOSBox called <a href="https://dosbox-x.com/">DOSBox-X</a>, so I downloaded and installed the most recent SDL2 variant for OS X. Then I found a copy of Borland Turbo Pascal 7.0, which I’ll put <a href="https://bert.org/assets/posts/pinid/tp7.zip">here</a> because it was kind of a pain to find.</p>

<p>You’ll find 4 files in that ZIP which are images of floppy disks. If you put them in a directory like <code>~/tp</code>, after you start DOSBox-X and mount a C Drive, you can mount them to the A Drive like this:</p>

<div><div><pre><code>imgmount a ~/tp/Disk01.img ~/tp/Disk02.img ~/tp/Disk03.img ~/tp/Disk04.img -floppy
</code></pre></div></div>

<p>and then switch over to the A: drive and run INSTALL:</p>



<p><img src="https://bert.org/assets/posts/pinid/install_000.png" alt="turbo pascal install"></p>

<p><img src="https://bert.org/assets/posts/pinid/install_001.png" alt="turbo pascal install"></p>

<p><img src="https://bert.org/assets/posts/pinid/install_002.png" alt="turbo pascal install"></p>

<p><img src="https://bert.org/assets/posts/pinid/install_003.png" alt="turbo pascal install"></p>

<p>At some point in the installation, you’ll have to change floppy disks, because it’s 1992.</p>

<p><img src="https://bert.org/assets/posts/pinid/install_004.png" alt="turbo pascal install"></p>

<p>You can do this by selecting <strong>Drive</strong> -&gt; <strong>A</strong> -&gt; <strong>Swap disk</strong> in DOSBox-X. It’ll go from Disk 1 to Disk 2. Then just keep doing that and pressing enter until you’ve installed all four disks.</p>

<p>After the installation is done, it’ll ask you to configure your <code>CONFIG.SYS</code> and <code>AUTOEXEC.BAT</code> because again, 1992.</p>

<p><img src="https://bert.org/assets/posts/pinid/install_005.png" alt="turbo pascal install"></p>

<p>Neither of these are strictly necessary. DOSBox-X already sets the FILES higher than the recommendation and adding it to the path only really lets you run TURBO from anywhere. When it’s done, you can run:</p>



<p><img src="https://bert.org/assets/posts/pinid/turbo_000.png" alt="turbo pascal"></p>

<p><img src="https://bert.org/assets/posts/pinid/turbo_001.png" alt="turbo pascal"></p>

<p>I’d spent so much time looking at this IDE when I was a kid that it made me a bit nostalgic. But then I started porting my Python script to Pascal and that nostalgia faded quickly. I’d like to say that I wrote the whole thing in here but at a certain point I had to switch to VSCode and then copy the file back into the DOS directory. To the people that still run <a href="http://www.columbia.edu/~em36/wpdos/">WordPerfect for DOS</a>, I get it, but I also don’t get it.</p>

<p>Here’s the script I landed on after spending a lot of time on this <a href="https://wiki.freepascal.org/Basic_Pascal_Tutorial">Pascal tutorial</a>:</p>

<div><div><pre><code>program pinid;
uses crt;

var i: byte;
var pos: byte;
var lines: byte;
var length: byte;
var decrease: byte;
var delay_amount: integer;

begin
     randomize;

     delay_amount := 25;

     clrscr;

     writeln('PPPPP   IIIIIII   N    N');
     delay(delay_amount);
     writeln('P   PP     I      NN   N IDENTIFICATION');
     delay(delay_amount);
     writeln('P   PP     I      N N  N');
     delay(delay_amount);
     writeln('PPPPP      I      N  N N   PROGRAM');
     delay(delay_amount);
     writeln('P          I      N   NN');
     delay(delay_amount);
     writeln('P       IIIIIII   N    N');
     delay(delay_amount);
     writeln('');

     write('Strike a key when ready ...');
     readln;

     writeln('');
     writeln('');
     writeln('12345678901234567890123457890123456780');

     pos := 0;
     lines := 1;

     length := 38;
     decrease := 1;

     while true do
     begin
          for i:= 1 to length do 
               write(random(9));
          writeln('');
          delay(delay_amount);
          lines := lines + 1;
          if (lines = 5) then
          begin
               lines := 0;
               length := length - decrease;
               if (decrease = 1) then
                   decrease := 2
               else
                   decrease := 1;
          end;
          if (length &lt;= 4) then
               break;
     end;

     for i:= 1 to 10 do
     begin
          writeln('9003');
          delay(delay_amount);
     end;

     writeln('');
     writeln('PIN IDENTIFICATION NUMBER: 9003');
     writeln('');

end.
</code></pre></div></div>

<p>Some quick explanations:</p>
<ul>
  <li>Pascal has type declarations. A byte can be a number from 0-255.</li>
  <li>files start with <code>program</code> and the name of the program, presumably because all modules share the same namespace but the filename is irrelevant</li>
  <li>modules are imported with the word <code>uses</code>. <code>crt</code> is a module for manipulating the screen</li>
  <li>:= is the syntax for variable assignment, so you can compare with = and differentiate between the two.</li>
  <li>If blocks are longer than one line, you have to wrap them with <code>begin</code> and <code>end</code> instead of brackets or relying upon whitespace.</li>
  <li>If you don’t run <code>randomize</code> at the beginning of your script, hilariously it always seeds random numbers with the same seed and the output is the same.</li>
  <li>WRITE writes a string, WRITELN writes a string with a newline. READLN accepts input until a newline is received.</li>
</ul>

<p>Does it work? Here’s the program running in DOSBox-X:</p>



<p>In the spirit of owning less stuff, I’ve gone through the mental exercise of what it would take to make the rest of this a reality but will not follow through on any of it:</p>

<ol>
  <li>Buy an Atari Portfolio on Ebay.</li>
  <li>Buy an <a href="http://www.best-electronics-ca.com/portfoli.htm">Atari Portfolio parallel interface and probably a new screen bezel</a> because it’s likely scratched.</li>
  <li>Find a parallel cable in my box of cables.</li>
  <li>Find a PC or laptop with a parallel port, install MS-DOS v6.22 on it.</li>
  <li>Download <a href="http://ftp.pigwa.net/stuff/mirror/www.umich.edu/%257Earchive/atari/Portfolio/Telecomm/index.html">FT.COM</a> and put it on the PC.</li>
  <li>Build the EXE in Dosbox-X and transfer it to the Atari Portfolio.</li>
  <li>Steal a debit card.</li>
  <li>Wrap part of the card in aluminum foil, buy an Atari Portfolio serial interface, run a cable to the card.</li>
  <li>Run the program.</li>
  <li>Easy money!</li>
</ol>

  </div>
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://bert.org/2021/01/04/t2-pin-cracking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25656827</guid>
            <pubDate>Wed, 06 Jan 2021 11:43:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Introduction to Window Functions in SQL]]>
            </title>
            <description>
<![CDATA[
Score 194 | Comments 45 (<a href="https://news.ycombinator.com/item?id=25656583">thread link</a>) | @adilkhash
<br/>
January 6, 2021 | https://khashtamov.com/en/sql-window-functions/ | <a href="https://web.archive.org/web/*/https://khashtamov.com/en/sql-window-functions/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
                    
                    
                        <p>It is interesting that many people working with data have no clue about window functions in SQL. During the long period of time instead of using window functions I prefered coding on Python and <a href="https://khashtamov.com/en/pandas-data-analysis/">pandas</a>. Today I would like to introduce you to the concept of "window" and how it is related to data extraction from a SQL database.</p>

<p><strong>Window functions</strong> are applied to a subset/window of rows related to one another. In comparison to <code>GROUP BY</code> operation, window functions do not decrease the number of rows. Aggregate functions like <code>AVG</code>, <code>SUM</code>, <code>COUNT</code> could be used as window functions as well. Usually window functions are used to do analytical tasks. The following examples of queries will be performed on PostgreSQL database.</p>
<h2>Syntax</h2>
<pre><code>&lt;function&gt;(&lt;expression&gt;) OVER (
  &lt;window&gt;
  &lt;sorting&gt;
  &lt;window range&gt; -- optional
)</code></pre>
<p>Looks creepy 😲 We need more practice. Let's assume that we have a salary table:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/salary_table_1.png" width="80%" data-image="atvi5p4igh4g"></figure>
<p><!--more-->One day your boss approaches you, he wants to know who is the highest paid employee by department. We can use the <code>MAX</code> function to select the highest salary by each department.</p>
<pre><code>SELECT
    department,
    MAX(gross_salary) as max_salary
FROM Salary
GROUP BY 1;
</code></pre>
<p>The result is:</p>

<ins data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-3273608550190378" data-ad-slot="9434009847"></ins>


<figure><img src="https://khashtamov.com/uploads/redactor/department_max_salary.png" width="80%" data-image="department_max_salary.png"></figure>
<p>In order to select the person with the highest salary by department we can use a subquery and <code>JOIN</code>:</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    t.gross_salary
FROM Salary
JOIN (
    SELECT
        department,
        MAX(gross_salary) as gross_salary
    FROM Salary
    GROUP BY 1
) t USING(gross_salary, department);
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/highest_paid_employees.png" width="80%" data-image="highest_paid_employees.png"></figure>
<p>But the query looks verbose and dirty, maybe we can do the same with window functions? Sure. All you need to do is to set up a window for <code>MAX</code> aggregate function: </p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    MAX(gross_salary) OVER (PARTITION BY department) as max_gross_salary
FROM Salary;
</code></pre>
<p>The column <code>department</code> is a window. It means that employees from the same department is a subset or window of related rows. The result of the query:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/window_functions_highest_salary.png" width="80%" data-image="window_functions_highest_salary.png"></figure>
<p>As you can see we have the new column called <code>max_gross_salary</code> which shows the highest salary in each department. In order to retrieve the list of most paid employees we do the following:</p>
<pre><code>SELECT *
FROM (
         SELECT id,
                first_name,
                department,
                gross_salary,
                MAX(gross_salary) OVER (PARTITION BY department) as max_gross_salary
         FROM Salary
     ) t
WHERE max_gross_salary = gross_salary
ORDER BY id;
</code></pre>
<p>Now your boss asks you to prepare the report which shows the ratio of salaries by department and by the total wage fund because some departments have relatively low-income employees in comparison with other departments. You can solve it using subqueries:</p>
<pre><code>WITH gross_by_departments AS (
    SELECT
        department,
        SUM(gross_salary) as dep_gross_salary
    FROM Salary
    GROUP BY 1
)
SELECT
    id,
    first_name,
    department,
    gross_salary,
    ROUND(CAST(gross_salary AS numeric(9, 2)) / dep_gross_salary * 100, 2) as dep_ratio,
    ROUND(CAST(gross_salary AS numeric(9, 2)) / (SELECT SUM(gross_salary) FROM Salary) * 100, 2) as total_ratio
FROM Salary
JOIN gross_by_departments USING(department)
ORDER BY department, dep_ratio DESC
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/subqueries_salary_ratios.png" width="80%" data-image="subqueries_salary_ratios.png"></figure>
<p>As you can see Нина earns 71.4% out of HR department, but it is only 10.7% out of total wage fund. Аркадий on the other hand has 21.4% out of total wage fund and 41% out of IT department. Can we refactor the query to make it smaller and more readable? Yes! <strong>Window functions</strong>!</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    ROUND(CAST(gross_salary AS numeric(9,2)) / SUM(gross_salary) OVER (PARTITION BY department) * 100, 2) as dep_ratio,
    ROUND(CAST(gross_salary AS numeric(9,2)) / SUM(gross_salary) OVER () * 100, 2) as total_ratio
FROM Salary
ORDER BY department, dep_ratio DESC; 
</code></pre>
<p>The expression <code>OVER()</code> means that the "window" is all rows.</p>
<h2>Window functions only</h2>
<p>We used the aggregate functions <code>MAX</code> &amp; <code>SUM</code> as window functions above. But SQL standard consists of functions which cannot be used as aggregates hence no way to apply them during grouping. Here is the list of them:

</p>
<ul>
<li>first_value</li>
<li>last_value</li>
<li>lead</li>
<li>lag</li>
<li>rank</li>
<li>dense_rank</li>
<li>row_number</li>
</ul>
<p>The comprehensive list of all window functions supported in PostgreSQL you can find <a href="https://www.postgresql.org/docs/current/functions-window.html" target="_blank">here</a>.</p>
<h3>Using window functions</h3>
<p>Let's use the <code>first_value</code> function in order to solve the very first problem where we were asked to get the name of the highest paid employee by each department. The function returns the very first values according to the provided window.</p>
<pre><code>SELECT
    id,
    first_name,
    department,
    gross_salary,
    first_value(first_name) OVER (PARTITION BY department ORDER BY gross_salary DESC ) as highest_paid_employee
FROM Salary
</code></pre>
<p>We are sorting the rows in our window by salary in a descending order, it means that the very first row will be a person with the highest salary.</p>
<p>Now let's use <code>last_value</code>. It does the opposite of what <code>first_value</code> does.</p>
<pre><code>SELECT id,
       first_name,
       department,
       gross_salary,
       last_value(first_name)
       OVER (PARTITION BY department ORDER BY gross_salary DESC) AS lowest_paid_employee
FROM Salary
</code></pre>
<p>The result is:</p>
<figure><img src="https://khashtamov.com/uploads/redactor/lowest_paid_employees_last_value_window_function.png" width="80%" data-image="lowest_paid_employees_last_value_window_function.png"></figure>
<p>If you look at the table you will see that the result is wrong. Why? Because of window ranges. By default if you provide the <code>ORDER BY</code> clause the window range is all preceding rows and current row, in SQL terms it is <code>ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW</code>. It means that the <code>last_value</code> for a particular column in a particular row is a column in the same row. In order to fix this problem we need to change the range to <code>ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING</code>:</p>
<pre><code>SELECT id,
       first_name,
       department,
       gross_salary,
       last_value(first_name)
       OVER (
           PARTITION BY department
           ORDER BY gross_salary DESC
           ROWS BETWEEN
               UNBOUNDED PRECEDING
               AND UNBOUNDED FOLLOWING
           ) as lowest_paid_employee
FROM Salary
</code></pre>
<p>This is how it looks visually:</p>
<figure><span id="selection-marker-start">﻿</span><span id="selection-marker-end">﻿</span><img src="https://khashtamov.com/uploads/redactor/unbounded_preceding_current_row_unbounded_following.png" data-image="r9u3sqk8i9v7"><span id="selection-marker-start">﻿</span><span id="selection-marker-end">﻿</span></figure>
<p>The possible values:</p>
<ul>
<li>N PRECEDING, N number of rows until current row</li>
<li>CURRENT ROW</li>
<li>UNBOUNDED PRECEDING</li>
<li>UNBOUNDED FOLLOWING</li>
<li>N FOLLOWING**, N number of rows following current row</li>

</ul>
                </article></div>]]>
            </description>
            <link>https://khashtamov.com/en/sql-window-functions/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25656583</guid>
            <pubDate>Wed, 06 Jan 2021 11:02:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Chained Tuple Types]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25655382">thread link</a>) | @mpoteat
<br/>
January 5, 2021 | https://mpote.at/post/programming/chained-tuple-types/ | <a href="https://web.archive.org/web/*/https://mpote.at/post/programming/chained-tuple-types/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
	<article>
		<div>
			<p>With Typescript 4.1, it’s now possible to use variadic tuple types to construct large types with what appears to be runtime code. The general idea is that we will utilize a chaining pattern, where each operation on the chain returns an expanded version of the chain’s type.</p>
<p>To motivate the example, let us consider a <code>Set</code> class. Our <code>Set</code> is a chaining class, where you may insert, remove, and check for the existence of numbers. To end the chain, you call <code>.value()</code> which returns an array of numbers.</p>
<p>Here is an example of how you might use <code>Set</code>:</p>
<div><pre><code data-lang="ts"><span>const</span> <span>set</span> <span>=</span> <span>new</span> Set()
  .insert(<span>2</span>)
  .insert(<span>4</span>)
  .insert(<span>8</span>)

<span>const</span> hasTwo <span>=</span> <span>set</span>.has(<span>2</span>) <span>// true
</span><span></span>
<span>const</span> value <span>=</span> <span>set</span>.remove(<span>2</span>).value() <span>// [4, 8]
</span></code></pre></div><blockquote>
<p><a href="https://www.typescriptlang.org/play?#code/PQKgBApgzgNglgOwC4FoAmcoEMBGMKSyKoDGA9gLYUTJTAbZ4Qo274oAOWcATmCMABQoMAHUCaMggDkSMFhJIArlhgwAnpAAeSGmjBIAFgQDmMMjlVgAyhDkWAVhEUAaMFDJgAZqqjMOZFBwSHAAbhAAXPxCItDwyOiYbAQIZChKfiw6eigIWCHhwKnpmRDZCGi5+WEEAoLCICCC-GAAYnAwunxkSnIQ4TyaEPjUyGAU+SSGiCZgAHJgiAbGBkoc+GAAKgB0zXVI6hwE7Z0QPAA8m9q6FVBgSggA1qkA7ggA2gC6bnMAfGAAXi21z0dy+zTAAH4wOCwGAolcyjc0GDEF4zmAABJuba4tEYgBKnwh0MxINu8whcOhJy65wJP1+VPhMOxYFx21pZ3pjOJcIRAG56qAmi0ACJ2M4URAEF7GIwYrAIIYjGhIO4TJBTGbzbSYORLBWrdYEHZgACSXjALwIXkQaD2YCkEDcPDsSh4CEgWB4Gm2YAAFFBDGQeKReCQlMEAJR7IQHI5gACiWn1UEu5JR9yerw+33m-yBiPKWdhUO8vggEIRmdRCHRfDZHPxfCJJKxtcpcOpBh4Sir3ZZKbTPIL1bAODIZHwSqFDVF4E2K2IZzyMAMhwIWCgHhIcHyEH0L2ChnkXsQUCQSpIBDIVqwNjsu2igjKATDG8TtiQ5oQl+vEDnEmqq0J2CBKBQOBnF8gIwp8hZgAA3hCF5nEg5zWEce52iQABqqj9mBEFQTwvwBsyWhRJhzhwDh+EwP2ELRlRdi-v+CA3uc7wclyFzARAozqm41HYXAeEERAvzCVhtFifR-bwXOcJuhQZDhBhMl0RJRGQWcZEUVRmlyRJTEsT+f5XhxgG8UBIFCTYRniQxkm-EpYCGNuGk0Vpzk6SR+mDpRDnecZzmmcmqaXum-GCVA0khU5-aufUcKhBJAbMcmdlQEKAC+c4io6S4EN+YDkBZfaKKGn4QP64jWjwWAcMsBAXpZN41YsXqhmgGJIJ4HBuuEyCOqEmBwDgHTBJod7jHYIb6F4DyKHAUg1XcUFeKGBDlZelUhGtHl3GQJCRjwbpoM+dRvqGcgJiVdiwchcIIBALyBpl35se1EB5QVjRFSspV9sgcDUGVMDbncYMmoJ1RSG4vWhGQcD6LN0wmMYPAoPg4Trvd0PdTwvU8I6-XjFgjwEEaIMhOD5C9fIdwkDOfDbmAAQ7hNGzk26WCXXGgi7XIpVAgGLNQ0hEKDWEB7uHYUTgbpPAwUCXxuRwSh4GJXV+GGAZBUrJHRlLg5GJg2x+HIascubUCW0+dqnDwAYBuoJsAv8mgAIQAkCWjRm4WifEKg5usonrLJgodgLlKUc1r8AkGAKlqRABuK8RZwm893Z2w71tR-bVvbE7XSu+7gJe2Avv+9GMfKe6kd2zHcfS4nOtHRnYBG9npt59MxdPogLNKL1UAG-XzLhx6XotxCbdwpr2vJ2lzkZf3jcR163G4vnVshwvgi5Uz2bPGQbwm+z37-QuYAoA-j9P8-L+v2-78f5-b+OnCKZYBQJo7jADAGKHgNQ+AAGEyC9UdF-OB8CEGIKfnUecjo-4AI2AARgRGsDYbE0KrQQILe6EVMEAH0ADyYCTCICsGrAATG4AALG4AAHIfEhKZyFzDejFNUsFMEAAYhQ3Q-JwrQ5CCTQCUJ0JUSAACC50sCaBtriLhlDqG0JgG4dRPCXh8OQIfVBLR0EmjAPQhEm4cb9GGI+OQ+CwyEMFqIuQwsIr0Ngq9d634MrbFQvreh0Y-F-jQgGJhQS179gyrfNBWh-5mIAMw4LMVI1Sa9iGbgigkjRcAaFrlgu8RhYAWFgHYSIrQ747qZJTNkqRUAZGWQUUolRbQOh0hqTkvJqg3D0OSsY8ApiNhMMsUcaxeM7FgFSWpVQziKm3TKlIS8EUmGeLenY3x-ikABkCcEvWWzwnbFTuEbZET0pT36RFeJGwACsIzmC41sQYuQw5Lw0A6hA4wJBHhQAyYmFM1yyGYIKUUkpZTXxzLEdUrQALyGYm3K0HofAgQvPVEBaFgLmGuTAMAYBSA+xVnBZUzq-yyEeKBL3FWh8XHEvRfQshcKoAIo9LBFF0V0WYMxQKbFwDJzTggEqYUAMTFxIwQQAAbHcsZtjSooreQQD5zhHgzEFm4klQLyVrJ8UEzZJzdmhIOTq1hQSu7hK5Ti3sjFqWqtpas7xdgNkhICUEo56cdld0CWa4BPgYB+EEEAA">Note: all of this code is on <strong>TS Playground</strong> :)</a></p>
</blockquote>
<p>It would be interesting to have a version of <code>Set</code> which can infer that the final <code>value</code> type is the tuple type <code>[4, 8]</code>. This is what we will attempt to do.</p>
<h2 id="baldis-basics">Baldi’s Basics</h2>
<p>Let’s begin with a specification of the <code>Set</code> type which obeys our chaining constraints, such that the <code>insert</code> and <code>remove</code> method returns an instance of <code>Set</code>:</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set <span>=</span> {
  <span>new</span> ()<span>:</span> Set;
  insert(x: <span>number</span>)<span>:</span> Set;
  remove(x: <span>number</span>)<span>:</span> Set;
  has(x: <span>number</span>)<span>:</span> <span>boolean</span>;
  value()<span>:</span> <span>number</span>[]
};
</code></pre></div><p>The <code>new (): T</code> syntax specifies a constructor, and allows the <code>new</code> keyword to be used, which in this case is an ergonomic choice.</p>
<p>The next improvement we will make is to add a tuple type parameter to <code>Set</code>, which extends an array of numbers. We will additionally make the default value of that type parameter the empty array. This type parameter represents the current contents of <code>Set</code>.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;
  insert(x: <span>number</span>)<span>:</span> Set&lt;<span>Elements</span>&gt;;
  remove(x: <span>number</span>)<span>:</span> Set&lt;<span>Elements</span>&gt;;
  has(x: <span>number</span>)<span>:</span> <span>boolean</span>;
  value()<span>:</span> Elements
};
</code></pre></div><p>In preparation, let us next specify that each member function which takes in a number, additionally takes in an inferred type based on the value which it is passed. Each of these types represent the specific value which was passed in.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;
  insert&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> Set&lt;<span>Elements</span>&gt;;
  remove&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> Set&lt;<span>Elements</span>&gt;;
  has&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> <span>boolean</span>;
  value()<span>:</span> Elements;
};
</code></pre></div><h2 id="tuple-insertion">Tuple Insertion</h2>
<p>In the following example, we can see how to represent the addition of a new element into an existing tuple type. This uses a recently developed tuple destructuring syntax. We could also prepend elements by switching the positions of <code>Ex1_Original</code> and <code>Ex1_NewElement</code> on the last line.</p>
<div><pre><code data-lang="ts"><span>type</span> Ex1_Original <span>=</span> [<span>2</span>, <span>4</span>, <span>8</span>];
<span>type</span> Ex1_NewElement <span>=</span> <span>10</span>;
<span>type</span> Ex1_ResultantArray <span>=</span> [...Ex1_Original, Ex1_NewElement]; <span>// [2, 4, 8, 10]
</span></code></pre></div><p>We can use the above simple example to finish our <code>insert</code> method type, by specifying that <code>insert</code> returns an instance of <code>Set</code> with the type of our specific value appended to the current tuple type. We will additionally introduce some whitespace to reduce visual noise.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;

  insert&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set<span>&lt;</span>[...Elements, SpecificValue]<span>&gt;</span>;

  remove&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> Set&lt;<span>Elements</span>&gt;;

  has&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> <span>boolean</span>;

  value()<span>:</span> Elements;
};
</code></pre></div><p>At this point, we may use the <code>insert</code> and <code>value()</code> methods and expect they will infer the transient types automatically. This general approach for continually building up types in a “runtime-fashion” is very useful for writing easy-to-use and type-safe libraries.</p>
<div><pre><code data-lang="ts"><span>const</span> Ex2_Array <span>=</span> <span>new</span> Set().insert(<span>2</span>).insert(<span>4</span>).value(); <span>// [2, 4]
</span></code></pre></div><h2 id="tuple-removal">Tuple Removal</h2>
<p>As of yet, there is no built-in operation for tuple removal. However, it can be implemented using a recursive loop on the type level, the mechanics of which would detract from this article. Of note - at the time of writing, <code>ts-toolbelt</code> uses a less modern variant than the following, and will not work. I may attempt to explain tuple type loops in another article.</p>
<div><pre><code data-lang="ts"><span>type</span> Filter&lt;<span>T</span> <span>extends</span> <span>unknown</span><span>[],</span> <span>N</span>&gt; <span>=</span> T <span>extends</span> []
  <span>?</span> []
  <span>:</span> T <span>extends</span> [<span>infer</span> H, ...<span>infer</span> R]
  <span>?</span> H <span>extends</span> N
    <span>?</span> Filter&lt;<span>R</span><span>,</span> <span>N</span>&gt;
    <span>:</span> [H, ...Filter&lt;<span>R</span><span>,</span> <span>N</span>&gt;]
  <span>:</span> T;

<span>type</span> Ex3_Original <span>=</span> [<span>2</span>, <span>4</span>, <span>8</span>];
<span>type</span> Ex3_ResultantArray <span>=</span> Filter&lt;<span>Ex3_Original</span><span>,</span> <span>2</span>&gt;; <span>// [4, 8]
</span></code></pre></div><p>We can deputize this ability to empower our <code>remove</code> method to remove the corresponding element types from our tuple type.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;

  insert&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set<span>&lt;</span>[...Elements, SpecificValue]<span>&gt;</span>;

  remove&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set&lt;<span>Filter</span><span>&lt;</span><span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;<span>&gt;</span>;

  has&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> <span>boolean</span>;

  value()<span>:</span> Elements;
};
</code></pre></div><p>At this point, we are able to insert, remove, and get the array value of the numbers we place into our <code>Set</code> object:</p>
<div><pre><code data-lang="ts"><span>const</span> Ex4 <span>=</span> <span>new</span> Set().insert(<span>2</span>).insert(<span>4</span>).remove(<span>2</span>).value(); <span>// [4]
</span></code></pre></div><h2 id="tuple-insertion-2---duplicate-edge-case">Tuple Insertion #2 - Duplicate Edge Case</h2>
<p>Readers following along very closely may have noticed an issue with our <code>insert</code> method type - namely, that multiple insertions of the same value will emplace duplicates on the type level. Since <code>Set</code> is a set, this is not wanted.</p>
<p>Luckily, with our <code>Filter</code> utility type available, we can ensure no duplicates exist by first filtering out that value type.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;

  insert&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set<span>&lt;</span>[...Filter&lt;<span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;, SpecificValue]<span>&gt;</span>;

  remove&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set&lt;<span>Filter</span><span>&lt;</span><span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;<span>&gt;</span>;

  has&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(x: <span>SpecificValue</span>)<span>:</span> <span>boolean</span>;

  value()<span>:</span> Elements;
};
</code></pre></div><p>Note that we could have just as well determined whether or not the value was already present, and decided whether or not to insert it. This underlines the isomorphism between the value-level and the type-level - specifically that in a lot of cases, any given operation you could think of has both a value-level component and a type-level component, including array operations, arithmetic, graph operations, etc.</p>
<p>As well, any given type specification will have multiple possible representations, with differing efficiency, albeit with respect to compilation time and memory in lieu of runtime cost.</p>
<h2 id="tuple-existence-checks">Tuple Existence Checks</h2>
<p>For existence check, we need another, similar type-level recursive tuple loop. With some meditation, you may be able to notice the similar structure between <code>Exists</code> and <code>Filter</code> - they operate on the same principle.</p>
<p>By design, we choose to say that in the case of a generic type <code>number[]</code>, any given number may or may not exist - which we represent via returning <code>boolean</code> rather than explicitly true or false.</p>
<div><pre><code data-lang="ts"><span>type</span> Exists&lt;<span>T</span> <span>extends</span> <span>unknown</span><span>[],</span> <span>N</span>&gt; <span>=</span> T <span>extends</span> []
  <span>?</span> <span>false</span>
  <span>:</span> T <span>extends</span> [<span>infer</span> H, ...<span>infer</span> R]
  <span>?</span> H <span>extends</span> N
    <span>?</span> <span>true</span>
    <span>:</span> Exists&lt;<span>R</span><span>,</span> <span>N</span>&gt;
  <span>:</span> <span>boolean</span>;

<span>type</span> Ex5_1 <span>=</span> [<span>2</span>, <span>4</span>, <span>8</span>];
<span>type</span> Ex5_1_HasFour <span>=</span> Exists&lt;<span>Ex5_1</span><span>,</span> <span>4</span>&gt;; <span>// true
</span><span></span>
<span>type</span> Ex5_2 <span>=</span> <span>number</span>[];
<span>type</span> Ex5_2_HasFour <span>=</span> Exists&lt;<span>Ex5_1</span><span>,</span> <span>4</span>&gt;; <span>// boolean
</span></code></pre></div><p>We now have enough code to finish our type specification of <code>Set</code>, complete with a type-safe existence check.</p>
<div><pre><code data-lang="ts"><span>export</span> <span>type</span> Set&lt;<span>Elements</span> <span>extends</span> <span>number</span><span>[]</span> <span>=</span> <span>[]</span>&gt; <span>=</span> {
  <span>new</span> ()<span>:</span> Set&lt;<span>Elements</span>&gt;;

  insert&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set<span>&lt;</span>[...Filter&lt;<span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;, SpecificValue]<span>&gt;</span>;

  remove&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Set&lt;<span>Filter</span><span>&lt;</span><span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;<span>&gt;</span>;

  has&lt;<span>SpecificValue</span> <span>extends</span> <span>number</span>&gt;(
    x: <span>SpecificValue</span>
  )<span>:</span> Exists&lt;<span>Elements</span><span>,</span> <span>SpecificValue</span>&gt;;

  value()<span>:</span> Elements;
};
</code></pre></div><p>And we can finish the section with a few examples of existence checking. Even if we insert an element, remove it, and then check, we still get the correct result. In general, this will work until the compiler no longer has patience, which is an internal implementation detail. In that case, the compiler will claim that our <code>Set</code> contains <code>number[]</code>. Though for reasonable examples, our <code>Set</code> type checking works as we expect:</p>
<div><pre><code data-lang="ts"><span>const</span> Ex5_1 <span>=</span> <span>new</span> Set().insert(<span>2</span>).insert(<span>4</span>).insert(<span>8</span>).has(<span>4</span>); <span>// true
</span><span></span><span>const</span> Ex5_2 <span>=</span> <span>new</span> Set().insert(<span>2</span>).remove(<span>2</span>).has(<span>2</span>); <span>// false
</span></code></pre></div><h2 id="value-level">Value-Level</h2>
<p>A value-level implementation of <code>Set</code> is provided below, mostly to demonstrate the separation between value-level implementation and type-level specification, which is sometimes wise with more involved types.</p>
<div><pre><code data-lang="ts"><span>const</span> Set <span>=</span> (<span>class</span> {
  <span>private</span> <span>set</span><span>:</span> <span>number</span>[] <span>=</span> [];

  <span>public</span> insert(x: <span>number</span>) {
    <span>this</span>.<span>set</span> <span>=</span> [...<span>this</span>.<span>set</span>.filter((y) <span>=&gt;</span> y <span>!==</span> x), x];
    <span>return</span> <span>this</span>;
  }

  <span>public</span> remove(x: <span>number</span>) {
    <span>this</span>.<span>set</span> <span>=</span> <span>this</span>.<span>set</span>.filter((y) <span>=&gt;</span> y <span>!==</span> x);
    <span>return</span> <span>this</span>;
  }

  <span>public</span> has(x: <span>number</span>) {
    <span>this</span>.<span>set</span>.includes(x);
    <span>return</span> <span>this</span>;
  }

  <span>public</span> value() {
    <span>return</span> [...<span>this</span>.<span>set</span>];
  }
} <span>as</span> <span>unknown</span>) <span>as</span> Set;
</code></pre></div><p>The downside is that we now are not doing any compile-checks against the implementation of <code>Set</code> - namely, we are not checking that <code>Set</code> actually does what the types says it will do. The issue with attempting that is that while that approach is possible, it would require every sub-function e.g. <code>includes</code>, etc. to also be just as type-safe. Essentially, for libraries in Typescript it’s my opinion that it’s safer and more readable to keep the type specification and the value-level separate. Application-side code should endeavor to do the opposite however.</p>
<p>It may be possible to automatically extract a simplified type of <code>Set</code> which we can validate our runtime implementation against, but it would be hard.</p>
<p>Final note: For pedagogic reasons, I have glossed over some nuance with respect to <code>new ()</code> - really, a wrapper type is needed to hide the member functions until the class is actually constructed, which is demonstrated on the TS Playground version of the code.</p>

		</div>
		
	</article>
</div></div>]]>
            </description>
            <link>https://mpote.at/post/programming/chained-tuple-types/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25655382</guid>
            <pubDate>Wed, 06 Jan 2021 07:20:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I Use Instead of Google]]>
            </title>
            <description>
<![CDATA[
Score 278 | Comments 206 (<a href="https://news.ycombinator.com/item?id=25654222">thread link</a>) | @kmclean
<br/>
January 5, 2021 | https://kiramclean.com/blog/what-i-use-now-instead-of-google/ | <a href="https://web.archive.org/web/*/https://kiramclean.com/blog/what-i-use-now-instead-of-google/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

<p>I made a goal for myself in January 2020 to stop using Google products by the end of the year. That might sound like way too generous a timeline, but Google owned pretty much all of my data at that point, so it was a fairly large project. Plus I'm a slow and steady kind of person. I know if I give myself a generous enough timeline I can accomplish even things that seem too hard for me at first.</p>
<h2>First, Why</h2>
<p>Since I got into programming about 5 years ago, I kept hearing all these bad things about Google and how horrible of a company it is from other tech people. It always seemed a bit exaggerated to me, but the evidence has been piling up over the years. Learning about <a href="https://gizmodo.com/google-is-helping-the-pentagon-build-ai-for-drones-1823464533">their involvement</a> with the US military's <a href="https://dodcio.defense.gov/Portals/0/Documents/Project%20Maven%20DSD%20Memo%2020170425.pdf">Algorithmic Warfare Cross-Functional Team (Project Maven)</a> was the last straw for me <sup id="footnote-1"><a href="https://kiramclean.com/blog/what-i-use-now-instead-of-google/#footnote-1-text">1</a></sup>, but even before I learned about that I was pretty uncomfortable with a lot of what I heard. In Google's defence they eventually did <a href="https://web.archive.org/web/20210101083904/https://www.nytimes.com/2018/06/01/technology/google-pentagon-project-maven.html">pull out of the project</a> after <a href="https://web.archive.org/web/20201231204850/https://www.nytimes.com/2018/04/04/technology/google-letter-ceo-pentagon-project.html">massive backlash by thousands of employees</a>.</p>
<p>Still, I'm pretty convinced now that their continued existence is a catastrophe not only for public safety, but also for <a href="https://www.vox.com/recode/2020/1/3/21030688/google-amazon-ai-oil-gas">the environment</a>, <a href="https://www.nytimes.com/2018/11/01/technology/google-walkout-sexual-harassment.html">gender equity</a>, <a href="https://www.telegraph.co.uk/technology/google/9739039/Googles-tax-avoidance-is-called-capitalism-says-chairman-Eric-Schmidt.html">the economy</a>, <a href="https://www.vice.com/en/article/jgexe8/google-fired-an-engineer-who-wrote-code-telling-googlers-they-had-a-right-to-organize">fair labour practices</a>, <a href="https://www.stallman.org/google.html#surveillance">privacy</a>, <a href="https://www.nature.com/articles/s41562-020-00954-0">journalism</a>, <a href="https://www.judiciary.senate.gov/download/epstein-testimony">democracy</a>, <a href="https://www.vox.com/2018/4/3/17168256/google-racism-algorithms-technology">race relations</a>, and the <a href="https://www.scientificamerican.com/article/big-tech-out-of-control-capitalism-and-the-end-of-civilization/">project of civilization itself</a>. But anyway, the point of this post isn't to motivate you to also quit Google. I'll tell you how I really feel some other time.</p>
<p>The rest of this post is about the tools and services I replaced all the Google things with. I did mostly accomplish my goal, with a few caveats which I describe in the relevant sections.</p>
<h2>Replacements</h2>
<p>Here's the short version:</p>
<ul>
<li>GMail → <a href="https://protonmail.com/signup">ProtonMail</a></li>
<li>Chrome → <a href="https://www.mozilla.org/en-US/firefox/developer/">Firefox developer edition</a></li>
<li>Google search → <a href="https://duckduckgo.com/">DuckDuckGo</a></li>
<li>Google Drive → <a href="https://www.sync.com/">Sync</a> and <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze</a></li>
<li>Google DNS → <a href="https://blog.cloudflare.com/announcing-1111/">Cloudflare DNS</a></li>
<li>Maps → Apple maps</li>
<li>YouTube → Netflix, <a href="https://www.ted.com/">TED talks</a>, conference archives, and still a little YouTube (anonymously in a <a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Firefox container</a>)</li>
<li>Google Analytics → <a href="https://usefathom.com/">Fathom</a></li>
<li>Everything else (calendar, reminders, photos, docs, video chat, news feeds) → <a href="https://nextcloud.com/signup/">Nextcloud</a>, running <a href="https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">on my own instance</a></li>
</ul>
<p>And here's the long version:</p>
<h3>GMail → <a href="https://protonmail.com/signup">ProtonMail</a></h3>
<p>ProtonMail has free accounts, but I pay for the lowest level that allows use of a custom domain with it (€48/year) so I don't have to change my email address ever again if I want to switch providers. It was quite a pain to change my email address all over the place, but I started in May and just did it slowly over time. I highly recommend decoupling your email address from your email provider if you're considering switching. First of all an email from a custom domain seems more, not less, serious than a gmail address to most people. But the main reason is just so you don't have to change your email address ever again if (when) you want to switch to some newer, better email provider.</p>
<p>I set up forwarding from my old GMail account to my new email address then filtered my mail for anything sent to the old address. If it was someone or some place I wanted to continue hearing from, I updated my email address with them. If not I unsubscribed. This turned out to be a wonderful opportunity to purge my newsletter and other email subscriptions. Also I'm happy to report most companies are now (finally) respecting unsubscribe requests. Two (looking at you Geektastic and Rakuten) continued to spam me after I requested they stop, so now I filter out all their mail as spam.</p>
<h3>Chrome → Firefox developer edition</h3>
<p>I primarily use <a href="https://www.mozilla.org/en-US/firefox/developer/">Firefox developer edition</a> now for my browser, including for work. The developer tools are just as good as Chrome's for the kind of work I do.</p>
<p>There are some web apps that literally or effectively only work in Chrome, which ironically perfectly illustrates the impetus for this whole undertaking. For those I use this <a href="https://github.com/Eloston/ungoogled-chromium#downloads">ungoogled Chromium</a> browser, installed via homebrew.</p>
<p>I still have Chrome installed on my computer because I need it for some work things. We use chromedriver for some integration tests and it wasn't trivially easy to trick it into using my Chromium installation instead of looking for Chrome. Replacing chromedriver is a headache, and also not my call to make at work. But it's also not really the point for me. If Google was reduced to a browser that developers can easily launch and control programmatically, I'd be satisfied. I don't use it for anything other than running automated tests at work now.</p>
<h3>Google search → <a href="https://duckduckgo.com/">DuckDuckGo</a></h3>
<p>I mostly love DuckDuckGo, but there are certain categories of searches where Google returns better results. DuckDuckGo doesn't seem to return many results from forums (like stack overflow or other stack exchange sites), which is where there the answers to a lot of my questions are, unfortunately. So I still use Google Search sometimes, but I do it in a <a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Firefox container</a> without being logged in to a Google account, which at least helps to avoid some of Google's incessant stalking.</p>
<p>DuckDuckGo does seem to return better results when the answer is an image, video, or regular web page, which is cool, and I suspect means it would be a perfectly fine replacement for most people. For example this blog is easier to find via DuckDuckGo than Google, which is impressive because I share a name with a small-time TV celebrity who typically dominates search results. We even look sort of similar, it's wild.</p>
<h3>Google Drive → <a href="https://www.sync.com/">Sync</a> and <a href="https://www.backblaze.com/b2/cloud-storage.html">Backblaze</a></h3>
<p>I use Sync to make my most used files available anywhere, and I've started moving a huge backlog of documents and notes I don't need to access often but don't want to throw away to Backblaze for longer term storage, just because it's cheaper. So far I just use their web UI to upload things in bulk and browse my files, but I'm looking into ways to do that more efficiently. I really need to de-clutter my digital life. I'm a major hoarder when it comes to digital files. I have scarcely deleted a document in the last 10 years, it's getting a bit ridiculous. But that's a goal for another year 🙂. For now I'm just putting all those files I don't really need to access but don't want to throw away in Backblaze to deal with later.</p>
<p>Between Sync and Backblaze I got 15GB of free storage, which is plenty for now, though as I move more and more or my scattered files over I'll have to start paying. Backblaze offers some of the cheapest object storage there is, at least.</p>
<h3>DNS → Cloudflare DNS</h3>
<p>I used to use Google's DNS servers (8.8.8.8 and 8.8.4.4), now I use <a href="https://blog.cloudflare.com/announcing-1111/">Cloudflare's</a> (1.1.1.1 and 1.0.0.1).</p>
<h3>Maps, YouTube</h3>
<p>These ones are harder to replace. I use Apple maps now most of the time, but I still use Waze (which was acquired by Google) for directions sometimes if I'm driving somewhere. For media I mostly watch Netflix, but I also watch a lot of <a href="https://www.ted.com/">TED talks</a>. I used to also watch conference videos on YouTube. Now I check conference websites for those, and a lot of them have the recordings, although they're often hosted on YouTube anyway. And I also do still use YouTube sometimes, mostly for home workout videos, but also anonymously in an isolated container.</p>
<h3>Analytics → <a href="https://usefathom.com/">Fathom</a></h3>
<p>It's been a while since I used Google Analytics, but I wanted to set up a basic hit counter for this blog and found Fathom. They provide simple privacy-focused analytics that work well enough for me. One really useful feature they have that I consider necessary now is being able to log analytics with a custom domain. Without this, visitors using ad-blockers don't get counted, which most estimates figure is now something like 40% of people, and probably more among tech-type people, like the ones most likely to find this blog.</p>
<p>I tried Cloudflare's new server-side analytics for a month, but the data didn't make as much sense (it showed the overwhelming number of visits to my homepage, even though the other analytics I had set up showed them going to one post that did well on Hacker News, which makes way more sense). Anyway, the numbers didn't seem to add up. I guess to be fair I <a href="https://twitter.com/kiraemclean/status/1340530206516387840">don't quite understand</a> how Fathom's numbers add up yet either, but their support has been helpful checking it out with me to try to help me reach some interpretation that makes sense. Fathom's dashboard is really simple, at least, which I like because it's easy to understand.</p>
<h3>Calendar, reminders, photos, docs, video chat, news feeds → <a href="https://nextcloud.com/signup/">Nextcloud</a></h3>
<p>For everything else I use Nextcloud now. I <a href="https://kiramclean.com/blog/how-to-set-up-your-own-nextcloud-server/">run my own instance</a> of it, but there are lots of providers where you can just sign up for a simple account like anything else if you're not an insufferable nerd who enjoys maintaining servers, like me.</p>
<p>This is where I have another caveat to mention. I haven't migrated all of my photos off of Google Photos yet because I have about 50,000 of them and it's just a really slow process. I estimated it would take me something like 70 hours to move them all manually, so I'm looking into better ways to do it. I'm confident I can find or maybe build something easier than manually downloading and uploading 50k files in less than 70 hours.</p>
<p>Nextcloud does the job of automatically syncing photos from my phone, though, which is all I needed to be able to delete Google Photos from my devices. I'm not sure I'll actually stick with Nextcloud for photos in the long run. The gallery is a bit lacking. It looks like <a href="https://piwigo.org/get-piwigo">Piwigo</a> might be a good alternative. Either way, I'm actually storing my photos in Backblaze, so I'll continue looking around for a different client for a bucket full of photos next year as I work on slowly culling my photos collection and migrating it to a new home.</p>
<h2>Total Cost</h2>
<p>I feel like I've won a lot by doing all this. I own my data now, so Google can't <a href="https://www.businessinsider.com/google-users-locked-out-after-years-2020-10">arbitrarily take it away from me</a>, which gives me peace of mind. I'm no longer part of their ad ecosystem, being tracked all around the internet and having my attention sold to the highest bidder. And I also feel good about "voting with my feet", so to speak. The fewer people use Google's free products, the lower their ability to sustain their unethical business model based on selling mass surveillance data.</p>
<p>But I also lost some. Specifically a few …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kiramclean.com/blog/what-i-use-now-instead-of-google/">https://kiramclean.com/blog/what-i-use-now-instead-of-google/</a></em></p>]]>
            </description>
            <link>https://kiramclean.com/blog/what-i-use-now-instead-of-google/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25654222</guid>
            <pubDate>Wed, 06 Jan 2021 02:54:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Designing Modern Retro Computer Terminals]]>
            </title>
            <description>
<![CDATA[
Score 52 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25653802">thread link</a>) | @armadillu
<br/>
January 5, 2021 | https://uri.cat/projects/modern-retro-terminal/ | <a href="https://web.archive.org/web/*/https://uri.cat/projects/modern-retro-terminal/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-2357">
					<tbody><tr>
<!--					<td class="entry-aside"></td> 
-->
						<td>
							
<p>The goal for this project is to design, 3D-print and assemble the enclosures for several small desktop computers. This series was created during the covid19 pandemic, to get familiar with modern parametric 3D design tools, the limits of 3D printing and fabrication. </p>



<p>A screen size is chosen first, together with the desired components, and then an enclosure is designed around all the constrains (including FDM 3D printing limitations). </p>



<p>All of these have been designed in Autodesk Fusion360 and printed at home on an inexpensive Creality Ender 3.</p>







<h2>4:3 10″ LCD Terminal</h2>



<p>Designed around a 10″ 1024 x 768 IPS LCD. Raspberry PI 4, Ducky One SF Keyboard, black PLA.</p>















<h2>16:9 5″ LCD Terminal</h2>



<p>Designed around a 5″ 800 x 480 LCD. Raspberry Pi 3, Official Raspberry Pi keyboard, black PLA. </p>















<h2>16:9 5″ LCD Terminal v2</h2>



<p>Revised for a more modern look and a smaller footprint. It runs a Raspberry Pi 4, printed on orange PLA. Wireless USB keyboard from ali-express.</p>















<h2>UltraWide 8.8″ LCD Terminal</h2>



<p>Designed around an ultrawide 8.8″ 1920 x 480 LCD, with a rather exotic 4:1 aspect ratio. As this exceeds my 3D printer bed size, I had to figure out a way to split the design in two parts, and how to assemble them effectively. This one is powered by an Nvidia Jetson Nano 2GB, allowing it to run OpenGL natively. Ducky One2 SF keyboard. Printed on “copper” PLA.</p>















<h2>Minimal 4:3 8″ Terminal</h2>



<p>1024 x 768 8″ IPS LCD. Designed with the goal of the smallest possible footprint, leaving components out in plain sight. Raspberry pi 4, official Raspberry Pi Keyboard. Printed on neon yellow transparent PLA.</p>















<h2>Other Concepts</h2>



<p>Some rejects I produced along the way…</p>







<p>Retro TV</p>







<p> Macintosh Classic inspired design</p>



<figure><ul><li><figure><a target="_blank" href="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-34-38pm-000_customizedview8576530636/"><img loading="lazy" width="640" height="360" src="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360.jpg" alt="" data-id="2512" data-full-url="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636.jpg" data-link="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-34-38pm-000_customizedview8576530636/" srcset="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360.jpg 640w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1400x788.jpg 1400w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-312x176.jpg 312w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-768x432.jpg 768w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1536x864.jpg 1536w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-2048x1152.jpg 2048w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-300x169.jpg 300w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-640x360@2x.jpg 1280w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1400x788@2x.jpg 2800w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-312x176@2x.jpg 624w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-1536x864@2x.jpg 3072w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-34-38PM-000_CustomizedView8576530636-300x169@2x.jpg 600w" sizes="(max-width: 640px) 100vw, 640px"></a></figure></li><li><figure><a target="_blank" href="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-35-58pm-000_customizedview48438323474/"><img loading="lazy" width="640" height="360" src="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360.jpg" alt="" data-id="2513" data-full-url="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474.jpg" data-link="https://uri.cat/projects/modern-retro-terminal/phone_booth_terminal_sharp_2021-jan-04_11-35-58pm-000_customizedview48438323474/" srcset="https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360.jpg 640w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1400x788.jpg 1400w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-312x176.jpg 312w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-768x432.jpg 768w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1536x864.jpg 1536w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-2048x1152.jpg 2048w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-300x169.jpg 300w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-640x360@2x.jpg 1280w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1400x788@2x.jpg 2800w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-312x176@2x.jpg 624w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-1536x864@2x.jpg 3072w, https://uri.cat/wp-content/uploads/2021/01/phone_booth_terminal_Sharp_2021-Jan-04_11-35-58PM-000_CustomizedView48438323474-300x169@2x.jpg 600w" sizes="(max-width: 640px) 100vw, 640px"></a></figure></li></ul></figure>



<p>Faceted design test</p>







<p>Phone-booth inspired design</p>
							
									

							<!-- .entry-utility -->
						</td>
					</tr>
				</tbody></div></div>]]>
            </description>
            <link>https://uri.cat/projects/modern-retro-terminal/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25653802</guid>
            <pubDate>Wed, 06 Jan 2021 01:39:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Move from Gradle to Maven]]>
            </title>
            <description>
<![CDATA[
Score 31 | Comments 40 (<a href="https://news.ycombinator.com/item?id=25653455">thread link</a>) | @foxgrover
<br/>
January 5, 2021 | https://blog.astradot.com/why-we-moved-from-gradle-to-maven/ | <a href="https://web.archive.org/web/*/https://blog.astradot.com/why-we-moved-from-gradle-to-maven/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            


            <section>
                <div>
                    <p>Lets get one thing out of the way, declaring dependencies like this:</p><pre><code>implementation 'org.apache.tapestry:commons:5.5.0'
</code></pre><p>is waaaaay better than declaring them like this:</p><pre><code>&lt;dependency&gt;
  &lt;groupId&gt;org.apache.tapestry&lt;/groupId&gt;
  &lt;artifactId&gt;commons&lt;/artifactId&gt;
  &lt;version&gt;5.5.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><p>This is where the positives for Gradle end.</p><p>First off, you cannot <em>not</em> learn Maven. The entire Java world is built using Maven conventions. Every artifact published on Maven Central has a maven <code>pom.xml</code> file. So using Gradle means you learn both Maven and Gradle.</p><p>Learning Gradle also means that you have to understand Groovy at some level, to understand how your build script is being composed. But Gradle adds it own DSL to the mix making it impossible to decipher what Groovy language constructs are being used for a particular line in a Gradle script. &nbsp;For example, one can't just define a global variable and use it in the script. Instead it has to be in an <code>ext</code> block.</p><h3 id="we-don-t-need-the-advanced-features">We don't need the advanced features</h3><p>Astradot's Java projects are small microservices. All we need from a build tool is to download dependencies, compile, jar and run a few basic tests. All the advanced, mindbending, quantum-entangling caching features that Gradle has are simply not needed.</p><p>Maven is old and robust. All editors understand it. Intellij's support for it is flawless. The XML while verbose is easily understood.</p><h3 id="there-is-an-exception-though-">There is an exception though...</h3><p>Wait, there actually <em>is</em> a place we use Gradle. That is for our Java Tracing Agent. The requirements for putting together the agent are not like your typical Java jar. Neither Maven nor Gradle could build it out of the box. Our initial thinking was to write a custom build tool for it. However, this is where we found that Gradle absolutely shines. Doing a completely custom build, where you are taking full advantage of the dynamism of having groovy as a full-fledged programming language as opposed to just a declaration format made Gradle the perfect tool for the job.</p><h3 id="that-said">That said</h3><p>For everything else, we saw no reason to choose Gradle over Maven. We do miss those single-line dependency declarations though.</p>
                </div>
            </section>



        </article>

    </div>
</div></div>]]>
            </description>
            <link>https://blog.astradot.com/why-we-moved-from-gradle-to-maven/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25653455</guid>
            <pubDate>Wed, 06 Jan 2021 00:49:27 GMT</pubDate>
        </item>
    </channel>
</rss>
