<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 10 Jul 2020 08:17:31 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 10 Jul 2020 08:17:31 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Git commit accepts several message flags (-m) to allow multiline commits]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 61 (<a href="https://news.ycombinator.com/item?id=23767866">thread link</a>) | @stefanjudis
<br/>
July 8, 2020 | https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/ | <a href="https://web.archive.org/web/*/https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>When you use git on the command line you might have used the message flag (<code>-m</code>). It allows developers to define commit messages inline when calling git commit. </p>
<pre><code>git commit -m "my commit message"</code></pre><p>I'm not the biggest fan of this approach because I prefer to edit the commit message in vim (which I only use for writing commit messages). It gives me the opportunity to double-check the files I'm committing.</p>
<p>Today I learned that the git commit command accepts multiple message flags. <span role="img" aria-label="Astonished Face" tabindex="0">üò≤</span></p>
<p>It turns out that you can use the <code>-m</code> option multiple times. <a href="https://git-scm.com/docs/git-commit#Documentation/git-commit.txt--mltmsggt">The git documentation</a> includes the following paragraph:</p>
<blockquote>
<p>If multiple -m options are given, their values are concatenated as separate paragraphs</p>
</blockquote>
<p>If you run the following command</p>
<pre><code>git co -m "commit title" -m "commit description"</code></pre><p>it will result in this commit.</p>
<pre><code>Author: stefan judis <stefanjudis @gmail.com="">
Date:   Tue Jul 7 21:53:21 2020 +0200

    commit title

    commit description

 test.txt | 0
 1 file changed, 0 insertions(+), 0 deletions(-)</stefanjudis></code></pre><p>You can use multiple <code>-m</code> flags to create "multiline commits", and I have to admit that this can be very handy in some cases.</p>
<p><em>Edited</em>: Several people pointed out that you can achieve the same commit structure including a title and body (multiple lines) by opening quotes, pressing enter and closing the commit with quotes again.</p>
<pre><code>git commit -m "commit title
&gt;
&gt; commit description"
[master 2fe1ef8] commit title
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 test-2.txt</code></pre><hr>
<p>If you want to see this command in action, <a href="https://twitter.com/stefanjudis/status/1280493911434297344?s=20">I shared a short terminal session on Twitter with a little video</a>.</p>
<p>And thanks to <a href="https://twitter.com/zcei_GER">Stephan Schneider</a> who shared that little git tip in our company slack. <span role="img" aria-label="undefined" tabindex="0">üôá‚Äç‚ôÇÔ∏è</span></p>
</div></div>]]>
            </description>
            <link>https://www.stefanjudis.com/today-i-learned/git-commit-accepts-several-message-flags-m-to-allow-multiline-commits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767866</guid>
            <pubDate>Wed, 08 Jul 2020 07:58:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Project mouSTer ‚Äì The ultimate mouse adapter for retrocomputers]]>
            </title>
            <description>
<![CDATA[
Score 20 | Comments 7 (<a href="https://news.ycombinator.com/item?id=23767760">thread link</a>) | @retrohax
<br/>
July 8, 2020 | https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/ | <a href="https://web.archive.org/web/*/https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-11481">

<div>
<p>‚Ä¶ or it took a while to get here üòÄ</p>
<h4>Origins</h4>
<p>This project is fully lead by Willy/Lamers with my minor participation.</p>
<p>It all started with an idea to create the most convenient modern USB mouse adapter for as many retro machines as possible.</p>
<p>Willy started working on it in his spare-time six years ago. The project goals were simple.</p>
<ul><li>small, smooth and not expensive design</li><li>reliable</li><li>quadrature encoder mouse support</li><li>easy to use and maintain</li><li>easy to personalize/configure</li><li>quick firmware upgrade</li></ul>
<p>The project came about quite quickly and Willy ordered the first batch. Unfortunately, It met almost all conditions but one ‚Äì reliability. The design was based on the FTDI Vinculum2 chip. Although the layout is not bad, the toolchain is terribly underdeveloped (at least it was at that time). There were memory leaks all over the place, debugging was almost impossible, mainly due to the processor for which there is no documentation. In addition, the configuration saved from time to time destroyed the config itself ‚Ä¶<br>It was too much. The project has been abandoned. If you are a strong-willed person you can try it yourself. All work that was done on it, is accessible <a href="http://jil.guru/16bit/projects/abbannddonnedd/hid2st.rar">HERE</a>. You can view or use it if you have the energy to break through the unfinished, wrong and undocumented code</p>
<h4>The new hope</h4>
<p>In the meantime, the design was repeatedly unearthed from a drawer, but unfortunately without much effect. Some of the original goals turned out to be impossible to fulfill.</p>
<p>Up to <a href="http://sillyventure.eu/pl/">Silly Venture 2019</a> which turned out to be a breakthrough. the demand for a functional Atari ST adapter turned out to be quite large. The mouSTer project was born.</p>
<p>The project received a new name ‚ÄúThe mouSTer‚Äù and <a href="http://www.ha.art.pl/wydawnictwo/autorzy/5334-piotr-kroll-mietniowski.html">Kroll</a> (translator required) became its godfather. I hope he doesn‚Äôt mind :). Kroll is the best tester of an Atari equipment around.</p>
<p>The project has gained a new shape and new strengths.</p>
<p>Some early prototype pics:</p>
<figure><img src="https://i1.wp.com/i.imgur.com/j2aoKg8.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/j2aoKg8.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/coaNtK4.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/coaNtK4.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>At the moment, the current size has been reduced to a minimum ‚Äì DB9 plug size + USB-A socket</p>
<p>Below some highlights:</p>
<ul><li>it works with every mouse and with every Game USB pad</li><li>PS4 pad support ‚Äì USB </li><li>config via USB flash drive ‚Äì INI file + default config</li><li>config transfer via USB flash drive</li><li>firmware upgrade via USB flash drive (takes 3 seconds, of which 2 seconds is the time the bootloader needs to recognize the flash drive)</li><li>tested with flash drives from 32MB to 32GB</li><li>mouse emulation mode defaults ‚Äì Amiga, Atari ST, joystick/gamepad</li></ul>
<h4>Current state</h4>
<p>Finally, after a few months of testing in laboratory conditions, everything works rock-solid. Changing the firmware and configuration works confidently and is trouble-free.</p>
<figure><img src="https://i0.wp.com/i.imgur.com/AOlmlqO.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/i.imgur.com/AOlmlqO.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p>Some pics:</p>
<figure><img src="https://i2.wp.com/i.imgur.com/dFQUg7w.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/dFQUg7w.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/jLADB2v.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/jLADB2v.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/33MeOuo.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/33MeOuo.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i2.wp.com/i.imgur.com/2fUFUUt.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/i.imgur.com/2fUFUUt.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<figure><img src="https://i1.wp.com/i.imgur.com/CAefEa5.png?w=900&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/i.imgur.com/CAefEa5.png?w=900&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></figure>
<p><br>What‚Äôs left to be done<mark id="annotation-text-c72ef339-eeed-462d-a5c9-61b4fb1fb90d"></mark>:</p>
<ul><li>making a test batch in the target size ‚Äì closing the plant due to COVID19 did not help at all üôÅ</li><li>configuration file tuning</li><li>creating a poly-urethane case</li><li>adding config options for Commodore 64/128, Spectrum, and every other possible retro machine.</li><li>PS4 pad full support for all platforms.</li><li>8-bit Atari will receive a special mode that will cover all the PS4 pad functions, mouse and other HID class devices</li><li>testing, testing, testing ‚Ä¶</li></ul>
<p><strong>What has to be highlighted is that mouSTer started as an ATARI add-on but it aims to be multi-platform adapter!!</strong></p>
<h4>Outro</h4>
<p>If you want to get retro gear or hardware modules, please visit <a href="https://retrohax.net/shop/">our shop</a> -&gt; https://retrohax.net/shop/</p>
<p>Please support our work by commenting here and on <a href="https://www.facebook.com/Retrohax.net">Facebook</a> or <a href="https://twitter.com/RetrohaxN">Twitter</a></p>
 </div>

</article></div>]]>
            </description>
            <link>https://retrohax.net/project-mouster-the-ultimate-mouse-adapter-for-retrocomputers/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767760</guid>
            <pubDate>Wed, 08 Jul 2020 07:35:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Curry Before Columbus]]>
            </title>
            <description>
<![CDATA[
Score 37 | Comments 28 (<a href="https://news.ycombinator.com/item?id=23767747">thread link</a>) | @Thevet
<br/>
July 8, 2020 | https://contingentmagazine.org/2020/06/25/curry-before-columbus/ | <a href="https://web.archive.org/web/*/https://contingentmagazine.org/2020/06/25/curry-before-columbus/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-69820" itemscope="" itemtype="https://schema.org/Article">

	
	<header>

		
		
				

		
<meta itemprop="description" content="Well before there was heat, there was hing. 

					{
					  " @context"="" :="" "http:="" schema.org",="" "@type"="" "person",="" "name"="" "nishant="" batsha",="" "url"="" "",="" "sameas"="" [="" ]="" }="" nishant="" batshanishant="" batsha="" is="" a="" writer="" of="" fiction="" and="" histories.="" his="" writing="" has="" previously="" appeared="" in="" narrative,="" triquarterly,="" the="" believer,="" among="" others.="" he="" currently="" revising="" debut="" novel."="">
<meta itemprop="datePublished" content="2020-06-25T16:49:41-04:00">
<meta itemprop="dateModified" content="2020-06-25T18:50:18-04:00">
<meta itemprop="image" content="https://i1.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-2-e1593118602130.jpg?resize=140%2C140&amp;ssl=1">
	</header><!-- / entry header -->

	
	
	<section itemprop="articleBody">
		
		<p>I have a confession to make: I can‚Äôt eat spicy food.</p>
<p>As a person of South Asian descent, it‚Äôs incongruous, I know. I‚Äôm left adrift with the certain type of person who orders food Indian spicy. While my dining companions make an effort to signal their identity as capsaicin-consuming, I wonder if I should order my food white-guy mild. It‚Äôs not like I don‚Äôt enjoy the stinging heat or the bleary-eyed trip of something made extra hot‚Äîit‚Äôs just that I can‚Äôt digest it.</p>
<div id="attachment_69825"><p><img src="https://i1.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03.jpg?resize=771%2C1124&amp;ssl=1" alt="" width="771" height="1124" srcset="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?resize=771%2C1124&amp;ssl=1 771w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?resize=336%2C490&amp;ssl=1 336w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?w=1756&amp;ssl=1 1756w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/IMAGE03-scaled.jpg?w=1542&amp;ssl=1 1542w" sizes="(max-width: 771px) 100vw, 771px" data-recalc-dims="1"></p><p>Sir Joseph Paxton, <a href="https://commons.wikimedia.org/wiki/File:Paxton%27s_Magazine_of_Botany_and_Register_of_Flowering_Plants_(1838)_(14764888245).jpg">‚ÄúCapsicum ustulatum,‚Äù</a> Paxton‚Äôs Magazine of Botany and Register of Flowering Plants, 1838.</p></div>
<p>I blame dysentery. A bout of it when I was three left two lasting effects on my life: it introduced me to my oldest friendship through a circuitous game of chance (a story for another time), and it rendered my digestive system subject to pains that feel like someone is reaching into me to wring out my guts like wet laundry.</p>
<p>I‚Äôm often told by well-meaning people how much they love Indian food, and then asked if I cook it at home. I never know quite how to respond. Does roti count‚Äîespecially if it‚Äôs the buss-up shut <i>parƒÅthƒÅ</i> of Trinidad? Where do Bihari staples like <i>satt≈´</i> (ground-up roasted gram) or <i>ch≈çkha</i> (mashed and roasted eggplant) fit into this understanding? But their question isn‚Äôt an interrogation of the narrowness of national cuisines. Their question isn‚Äôt a question at all‚Äîit‚Äôs a chance to share. The woman who loves her corner Indian restaurant. The man who just took an Indian-cooking class through adult education. The reasons are usually the same: they love the heat, the fieriness, the spice.</p>
<p>All the things I‚Äôm doomed to avoid.</p>

<p>This all had me wondering: what‚Äôs Indian food without the heat? The historian in me has an answer: spiciness is historically contingent. In 1492, Columbus sailed the ocean blue and the entire world changed: slavery, war, disease, colonization, and an immense transfer of wealth to Europe. And with that wealth too came New World nightshades‚Äîpotatoes, tomatoes, tobacco, peppers of all kinds. It took some time for these fruits and vegetables to plant themselves into European cuisine. The tomato, for example, wasn‚Äôt widely used in Italian cuisine until the eighteenth century.<span id="easy-footnote-1-69820"></span><span><a href="#easy-footnote-bottom-1-69820" title="David Gentilecore, <i>Pomodoro! A History of the Tomato in Italy</i> (New York: Columbia University Press, 2010), 45‚Äì68."><sup>1</sup></a></span> But what about food further out from Europe? What about India?</p>
<p>Soon after Columbus‚Äô first expedition, the treaties of Tordesillas and Saragossa divided the oceans of the newly-known world. The Portuguese effectively took the Atlantic and Indian oceans, while the Spanish took the Pacific. With that, the Portuguese established forts and trading posts along India‚Äôs Malabar coast. In time, <i>aloo</i> (potato), <i>tamƒÅtar</i> (tomato), and <i>mirchƒ´</i> (chilies) were available on the western coast of the Indian subcontinent. Later, the English set up their first trading posts in India in the eastern Gangetic plain, bringing these same staples into North India.<span id="easy-footnote-2-69820"></span><span><a href="#easy-footnote-bottom-2-69820" title="K.T. Achaya, <i>Indian Food: A Historical Companion</i> (Delhi: Oxford University Press, 1998), 225‚Äì27."><sup>2</sup></a></span></p>
<p>So what was curry like before Columbus? Well, <i>curry</i> didn‚Äôt exist.</p>
<p>In these cases, I find it useful to consult my <i>Hobson-Jobson</i>, the nineteenth-century dictionary of Anglo-Indian loan words. According to that source, curry comes from the Portuguese word <i>karil (caril)</i> via the Tamil word <i>kari</i> (sauce, relish for rice). In the sixteenth century, this was transliterated into English as caril, but by the 1680s entered English as <i>carrees</i>, perhaps from <i>caris</i>, an Anglicized plural form of the Portuguese.<span id="easy-footnote-3-69820"></span><span><a href="#easy-footnote-bottom-3-69820" title="Sir Henry Yule, ‚ÄúCurry,‚Äù in <a href=&quot;https://dsalsrv04.uchicago.edu/cgi-bin/app/hobsonjobson_query.py?page=281&quot;><i>Hobson-Jobson: A Glossary of Colloquial Anglo-Indian Words and Phrases, and of Kindred Terms, Etymological, Historical, Geographical and Discursive</i></a>, ed. William Crooke, B.A (London: J Murray, 1903), 281."><sup>3</sup></a></span> It‚Äôs a circle: I‚Äôm back to Tordesillas and Saragossa.</p>
<p>It looks like the curry too came after Columbus. And not only that: it‚Äôs a meaningless word in the context of daily life. Indian food is cipher, built upon a matrix of regionalism, religion, and caste. A Dalit from Mararashtra‚Äôs Marathwada region might mix bovine blood with <i>yesur</i> (a local spice mix) to make <i>lakuti</i>, while a Tamil Brahmin might mix eight spices with <i>tur dƒÅl</i> and onions to make a <i>sambar</i>.<span id="easy-footnote-4-69820"></span><span><a href="#easy-footnote-bottom-4-69820" title="Shahu Patole, <a href=&quot;http://www.expressfoodie.com/main-course/why-i-wrote-a-book-on-dalit-food/&quot;>‚ÄúWhy I Wrote a Book on Dalit Food,‚Äù</a> <i>Express Foodie</i>, September 10, 2016."><sup>4</sup></a></span> Beyond the hyper-regionalism is a blunt truth as well: there are actual words for the plethora of regional dishes that can be reduced to a curry.</p>
<p>Still, curry can be a somewhat useful concept. It‚Äôs an outsider‚Äôs perspective, a shorthand glossing over an entire subcontinent‚Äôs worth of food. It‚Äôs the type of concept that takes what it wants from the original, and mixes in whatever else is ready-to-hand.</p>
<p>I went to the source: the first example of a curry recipe found in a Western cookbook. Hannah Glasse‚Äôs 1747 <i>The Art of Cookery Made Plain and Easy</i> featured a recipe ‚ÄúTo make a Currey the Indian way‚Äù alongside one ‚ÄúTo make a Pellow the Indian way.‚Äù<span id="easy-footnote-5-69820"></span><span><a href="#easy-footnote-bottom-5-69820" title="Hannah Glasse, <i>The Art of Cookery, New</i> (London: L. Wangford, 1777), 74."><sup>5</sup></a></span></p>
<p><img src="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=771%2C372&amp;ssl=1" alt="" width="771" height="372" srcset="https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=771%2C372&amp;ssl=1 771w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=336%2C162&amp;ssl=1 336w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=768%2C370&amp;ssl=1 768w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=1536%2C741&amp;ssl=1 1536w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=2048%2C987&amp;ssl=1 2048w, https://i2.wp.com/contingentmagazine.org/wp-content/uploads/2020/06/ArtofCookery.png?resize=1170%2C564&amp;ssl=1 1170w" sizes="(max-width: 771px) 100vw, 771px" data-recalc-dims="1"></p>
<p>Upon first glance, I can‚Äôt tell how this recipe differs from a fricasseed chicken. But it‚Äôs there: ‚Äúan ounce of Turmerick [turmeric], a large spoonful of ginger and beaten pepper.‚Äù What makes this curry in an Indian way is not the chicken or the cream, but these three spices taken mixed together and served.</p>
<p>Before spicy came spice: the history of curry before Columbus is a history of spice. And so I wonder: what spices were used? In what quantities?</p>
<p>The best spice to help answer these questions might be asafetida (also spelled asafetida). Known in Hindi as <i>hƒ´ng</i>, it‚Äôs the dried resin taken from the root of the Ferula herb, and is used throughout Indian cuisine in nearly all Indian regions. When fried in oil, it adds a lovely umami flavor to any dish, one reminiscent of garlic or onions.</p>
<p>I‚Äôve also known it as an extremely smelly spice.</p>

<p>I had never heard of it until I was an adult. Family lore says that my father hated the smell so much, he told my mother early in their marriage to keep it out of the spice cabinet forever. But it wasn‚Äôt just him‚Äîthe smell has a noxious reputation across the world, going back centuries. The Portuguese physician and naturalist Garcia de Orta wrote in his sixteenth-century <i>Col√≥quios</i> that ‚Äúthe nastiest smell in the world for me is Assa-fetida [sic].‚Äù But he also wrote that ‚Äúthe thing most used throughout India, and in all parts of it, is that Assa-fetida.‚Äù<span id="easy-footnote-6-69820"></span><span><a href="#easy-footnote-bottom-6-69820" title="Garcia da Orta, <i>Colloquies on the Simples and Drugs of India</i>, ed. Conde de Ficalho, trans. Sir Clements Markham, New Lisbon Edition (London: Henry Sotheran and Co, 1913), 44‚Äì45."><sup>6</sup></a></span></p>
<p>This was as true in the twelfth century as it was in the sixteenth. One of the earliest South Asian texts that featured non-medicinal recipes was the Sanskrit <i>MƒÅnasollƒÅsa</i>. Written in 1129 CE by Someshvara III, king of the Western Chalukya Empire in the western Deccan and South India, the book is an encyclopedic treatise on all aspects of life in his kingdom. One of those most common ingredients found in its chapter on the enjoyment of food is asafetida.<span id="easy-footnote-7-69820"></span><span><a href="#easy-footnote-bottom-7-69820" title="Colleen Taylor Sen, <i>Feasts and Fasts: A History of Food in India</i>, Overdrive (eBook) edition (London: Reaktion Books, 2015), chap. 7."><sup>7</sup></a></span></p>
<p>For example, his general practices or preparing meat dishes called for the following:</p>
<blockquote><p>For getting good smell, dry coriander seeds, jeera, and hingu; for giving colour haridra; for good taste the powder of saindhvam, visvamarichim are sprinkled over the food and covered with a clean cloth and mixed slightly with oil.<span id="easy-footnote-8-69820"></span><span><a href="#easy-footnote-bottom-8-69820" title="P. Arundhati, trans., <i>Royal Life in MƒÅnas√¥llƒÅsa</i> (New Delhi: Sundeep Prakashan, 1994), 120."><sup>8</sup></a></span></p></blockquote>
<p>Various other recipes, including those for <i>dƒÅl</i>, meat dishes, and fish were also spiced with asafetida.<span id="easy-footnote-9-69820"></span><span><a href="#easy-footnote-bottom-9-69820" title="Sen, chap. 7."><sup>9</sup></a></span> My first inclination when I saw this was to question it: of course a king would spice his food. Spices were a luxury, and it goes without saying that a king could afford to command his kitchen to use whatever spices were available to him.</p>

<p>But a century prior to the publication of the <i>MƒÅnasollƒÅsa</i> came the <i>Lokopakara</i> (roughly translates to ‚ÄúFor the benefit of the people‚Äù). Written in 1025 by the Jain scholar Chavundaraya II, the<i> Lokopakara</i> featured a section on cooking with a recipe for <i>dƒÅl </i>that recommended a garnish of mustard, cumin seeds, asafetida, and curry leaves.<span id="easy-footnote-10-69820"></span><span><a href="#easy-footnote-bottom-10-69820" title="Sen, chap. 7."><sup>10</sup></a></span></p>
<p>Asafetida too made an appearance in recipes dating from the Sultanate era. From 1206 to 1526, a succession of Islamic dynasties known as the Delhi Sultanate ruled northern India. Nasir ud-Din Shah, a ruler of the Malwa Sultanate (a breakaway state from one of the Delhi Sultanate dynasties) produced the <i>Ni‚Äômatnama</i> (‚ÄúThe Book of Delights‚Äù). The book contained some of the recipes loved by his father, the Sultan Ghiyath Shah. Interestingly enough, the book contains a handful of recipes considered rustic or common‚Äîfood for the common folk.</p>
<p>One recommends to:</p>
<blockquote><p>take root vegetables and boil them well, then take them off and fry them in ghee flavoured with sesame and asafetida.</p>
<p>Add lime juice, salt and burned vegetable oil and mix it as explained above. Take some of it, flavor it and cook it.<span id="easy-footnote-11-69820"></span><span><a href="#easy-footnote-bottom-11-69820" title="Norah M. Titley, ed., <i>The Ni‚Äômatnama Manuscript of the Sultans of Mandu: The Sultan‚Äôs Book of Delights</i> (London: Routledge, 2004), 44‚Äì45."><sup>11</sup></a></span></p></blockquote>
<p>I‚Äôm not sure how burned vegetable oil would taste, but I‚Äôm sure the asafetida would make up for it. Maybe.</p>
<p>Humble <i>hƒ´ng</i> too made an appearance in the royal accounts of the Mughals. The Mughal Emperor Akbar reigned from 1556 to 1605. His court historian, Abu‚Äôl-Fazl ‚ÄòAllami, dutifully chronicled his reign in <i>Ain-i-Akbari</i> (‚ÄúAdministration of Akbar‚Äù). The work remains a quintessential source for the workings of Akbar‚Äôs government. It also contains a repertoire of recipes. For example, a recipe for <i>bƒÅdinjƒÅn</i> (eggplant) asks for:</p>
<blockquote><p>10 s. [<i>sƒ´r</i>, approximately 640 grams] rice; 1 ¬Ω s. g‚Äôh√≠ [ghee], 3 ¬æ s. onions; ¬º s. ginger and lime juice; pepper and coriander seed, 5 m. [misqal, approximately 6 grams] of each; cloves, cardamums [cardamom], and assafoetida, each ¬Ω m.<span id="easy-footnote-12-69820"></span><span><a href="#easy-footnote-bottom-12-69820" title="Abu‚Äôl-Fazl ‚ÄôAllami, <i>The Ain I Akbari</i>, trans. Henry Blochmann, vol. 1 (Calcutta: Rouse, 1873), 59."><sup>12</sup></a></span></p></blockquote>
<p>Strangely enough, the recipe for eggplant lacks any mention of eggplant. But regardless, there it is: a half <i>misqal</i> of asafetida.<span id="easy-footnote-13-69820"></span><span><a href="#easy-footnote-bottom-13-69820" title="A unit of mass equal to 4.25 grams. Misqal is sometimes written as mithqƒÅl."><sup>13</sup></a></span> Even the kitchens of the Mughal court were filled with the wondrous odors of <i>hƒ´ng</i>.</p>
<p>The history of curry before Columbus is truly a history of spice. There are, of course, more spices to find in the archives: turmeric, coriander, and cumin come to mind. These are spices that cross region and class, the staples thrown into the pot in meal after meal. But ubiquitous, smelly, resinous <i>hƒ´ng</i> gives a chance to take a peek into the flavors of Indian food prior to the Columbian exchange. Perhaps there should be a new way to order something, not Indian spicy, but Indian spiced, with plenty of asafetida. I‚Äôll hold my nose and ask for a generous portion, just like all those food chroniclers over the past millennium.</p>
<ol><li><span id="easy-footnote-bottom-1-69820"></span>David Gentilecore, <i>Pomodoro! A History of the Tomato in Italy</i> (New York: Columbia University Press, 2010), 45‚Äì68.<a href="#easy-footnote-1-69820"></a></li><li><span id="easy-footnote-bottom-2-69820"></span>K.T. Achaya, <i>Indian Food: A Historical Companion</i> (Delhi: Oxford University Press, 1998), ‚Ä¶</li></ol></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://contingentmagazine.org/2020/06/25/curry-before-columbus/">https://contingentmagazine.org/2020/06/25/curry-before-columbus/</a></em></p>]]>
            </description>
            <link>https://contingentmagazine.org/2020/06/25/curry-before-columbus/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23767747</guid>
            <pubDate>Wed, 08 Jul 2020 07:33:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BattlEye Client Emulation]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766828">thread link</a>) | @todsacerdoti
<br/>
July 7, 2020 | https://secret.club/2020/07/06/bottleye.html | <a href="https://web.archive.org/web/*/https://secret.club/2020/07/06/bottleye.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody"><p>The popular anti-cheat <a href="https://battleye.com/">BattlEye</a> is widely used by modern online games such as <a href="https://www.escapefromtarkov.com/">Escape from Tarkov</a> and is considered an industry standard anti-cheat by many. In this article I will demonstrate a method I have been utilizing for the past year, which enables you to play any BattlEye-protected game online without even having to install BattlEye.</p><p>BattlEye is dynamically loaded by the respective game on startup to initialize the software service (‚ÄúBEService‚Äù) and kernel driver (‚ÄúBEDaisy‚Äù). These two components are critical in ensuring the integrity of the game, but the most critical component by far is the usermode library (‚ÄúBEClient‚Äù) that the game interacts with directly. This module exports two functions: <code>GetVer</code> and more importantly <code>Init</code>.</p><p>The <em>Init</em> routine is what the game will call, but this functionality has never been documented before, as people mostly focus on BEDaisy or their <a href="https://secret.club/tags#battleye">shellcode</a>. Most important routines in <em>BEClient</em>, including <em>Init</em>, are protected and virtualised by <a href="https://vmpsoft.com/">VMProtect</a>, which we are able to devirtualise and reverse engineer thanks to <a href="https://github.com/vtil-project">vtil</a> by secret club member <a href="https://secret.club/author/can1357">Can Boluk</a>, but the inner workings of <em>BEClient</em> is a topic for a later part of this series, so here is a quick summary.</p><p><em>Init</em> and its arguments have the following definitions:</p><pre><code><span>// BEClient_x64!Init</span>
<span>__declspec</span>(dllexport)
battleye<span>::</span>instance_status Init(std<span>::</span><span>uint64_t</span> integration_version,
                               battleye<span>::</span>becl_game_data<span>*</span> game_data,
                               battleye<span>::</span>becl_be_data<span>*</span> client_data);
  
<span>enum</span> instance_status
{
    NONE,
    NOT_INITIALIZED,
    SUCCESSFULLY_INITIALIZED,
    DESTROYING,
    DESTROYED
};

<span>struct</span> <span>becl_game_data</span>
{
    <span>char</span><span>*</span>         game_version;
    std<span>::</span><span>uint32_t</span> address;
    std<span>::</span><span>uint16_t</span> port;

    <span>// FUNCTIONS</span>
    <span>using</span> print_message_t <span>=</span> <span>void</span>(<span>*</span>)(<span>char</span><span>*</span> message);
    print_message_t print_message;

    <span>using</span> request_restart_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint32_t</span> reason);
    request_restart_t request_restart;

    <span>using</span> send_packet_t <span>=</span> <span>void</span>(<span>*</span>)(<span>void</span><span>*</span> packet, std<span>::</span><span>uint32_t</span> length);
    send_packet_t send_packet;

    <span>using</span> disconnect_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length, <span>char</span><span>*</span> reason);
    disconnect_peer_t disconnect_peer;
};

<span>struct</span> <span>becl_be_data</span>
{
    <span>using</span> exit_t <span>=</span> <span>bool</span>(<span>*</span>)();
    exit_t exit;

    <span>using</span> run_t <span>=</span> <span>void</span>(<span>*</span>)();
    run_t run;

    <span>using</span> command_t <span>=</span> <span>void</span>(<span>*</span>)(<span>char</span><span>*</span> command);
    command_t command;

    <span>using</span> received_packet_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> received_packet, std<span>::</span><span>uint32_t</span> length);
    received_packet_t received_packet;

    <span>using</span> on_receive_auth_ticket_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> ticket, std<span>::</span><span>uint32_t</span> length);
    on_receive_auth_ticket_t on_receive_auth_ticket;

    <span>using</span> add_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length);
    add_peer_t add_peer;

    <span>using</span> remove_peer_t <span>=</span> <span>void</span>(<span>*</span>)(std<span>::</span><span>uint8_t</span><span>*</span> guid, std<span>::</span><span>uint32_t</span> guid_length);
    remove_peer_t remove_peer;
};
</code></pre><p>As seen, these are quite simple containers for interopability between the game and <em>BEClient</em>. <code>becl_game_data</code> is defined by the game and contains functions that <em>BEClient</em> needs to call (for example, send_packet) while <code>becl_be_data</code> is defined by <em>BEClient</em> and contains callbacks used by the game after initialisation (for example, received_packet). Note that these two structures slightly differ in some games that have special functionality, such as the recently introduced packet encryption in <em>Escape from Tarkov</em> that we‚Äôve already <a href="https://secret.club/2020/06/19/battleye-packet-encryption.html">cracked</a>. Older versions of BattlEye (DayZ, Arma, etc.) use a completely different approach with function pointer swap hooks to intercept traffic communication, and therefore these structures don‚Äôt apply.</p><p>A simple <em>Init</em> implementation would look like this:</p><pre><code><span>// BEClient_x64!Init</span>
<span>__declspec</span>(dllexport)
battleye<span>::</span>instance_status Init(std<span>::</span><span>uint64_t</span> integration_version,
                               battleye<span>::</span>becl_game_data<span>*</span> game_data,
                               battleye<span>::</span>becl_be_data<span>*</span> client_data)
{
    <span>// CACHE RELEVANT FUNCTIONS</span>
    battleye<span>::</span>delegate<span>::</span>o_send_packet    <span>=</span> game_data<span>-&gt;</span>send_packet;

    <span>// SETUP CLIENT STRUCTURE</span>
    client_data<span>-&gt;</span>exit                   <span>=</span> battleye<span>::</span>delegate<span>::</span>exit;
    client_data<span>-&gt;</span>run                    <span>=</span> battleye<span>::</span>delegate<span>::</span>run;
    client_data<span>-&gt;</span>command                <span>=</span> battleye<span>::</span>delegate<span>::</span>command;
    client_data<span>-&gt;</span>received_packet        <span>=</span> battleye<span>::</span>delegate<span>::</span>received_packet;
    client_data<span>-&gt;</span>on_receive_auth_ticket <span>=</span> battleye<span>::</span>delegate<span>::</span>on_receive_auth_ticket;
    client_data<span>-&gt;</span>add_peer               <span>=</span> battleye<span>::</span>delegate<span>::</span>add_peer;
    client_data<span>-&gt;</span>remove_peer            <span>=</span> battleye<span>::</span>delegate<span>::</span>remove_peer;

    <span>return</span> battleye<span>::</span>instance_status<span>::</span>SUCCESSFULLY_INITIALIZED;
}
</code></pre><p>This would allow our custom BattlEye client to receive packets sent from the game server‚Äôs <em>BEServer</em> module.</p><p>The function <code>received_packet</code> is by far the most important routine used by the game, as it handles incoming packets from the BattlEye server component. BattlEye communication is extremely simple compared to how important the integrity of it is. In recent versions of BattlEye, packets follow the same general structure:</p><pre><code><span>#pragma pack(push, 1)
</span><span>struct</span> <span>be_fragment</span>
{
    std<span>::</span><span>uint8_t</span> count;
    std<span>::</span><span>uint8_t</span> index;
};

<span>struct</span> <span>be_packet_header</span>
{
    std<span>::</span><span>uint8_t</span> id;
    std<span>::</span><span>uint8_t</span> sequence;
};

<span>struct</span> <span>be_packet</span> <span>:</span> be_packet_header
{
    <span>union</span> 
    {
        be_fragment fragment;

        <span>// DATA STARTS AT body[1] IF PACKET IS FRAGMENTED</span>
        <span>struct</span>
        {
            <span>std</span><span>::</span><span>uint8_t</span> no_fragmentation_flag;
            std<span>::</span><span>uint8_t</span> body[<span>0</span>];
        };
    };
    <span>inline</span> <span>bool</span> fragmented()
    {
        <span>return</span> <span>this</span><span>-&gt;</span>fragment.count <span>!=</span> <span>0x00</span>;
    }
};
<span>#pragma pack(pop)
</span></code></pre><p>All packets have an identifier and a sequence number (which is used by the requests/response communication and the heartbeat). Requests and responses have a fragmentation mode which allows <em>BEServer</em> and <em>BEClient</em> to send packets in chunks of <code>0x400</code> bytes (seemingly arbitrary) instead of sending one big packet.</p><p>In the current iteration of BattlEye, the following packets are used for communication:</p><h3 id="init-00"> <a href="#init-00">INIT (<code>00</code>)</a></h3><p>This packet is sent to the <em>BEClient</em> module as soon as the connection with the game server has been established. This packet is only transmitted once, contains no data besides the packet id <code>00</code> and the response to this packet is simply <code>00 05</code>.</p><h3 id="start-02"> <a href="#start-02">START (‚Äò02‚Äô)</a></h3><p>This packet is sent right after the ‚ÄòINIT‚Äô packets have been exchanged, and contains the server-generated guid of the client. The response of this packet is simply the header: <code>02 00</code></p><h3 id="request-04--response-05"> <a href="#request-04--response-05">REQUEST (<code>04</code>) / RESPONSE (<code>05</code>)</a></h3><p>This type of packet is sent from <em>BEServer</em> to <em>BEClient</em> to request (and in rare cases, simply transmit) data, and <em>BEClient</em> will send back data for that request using the <code>RESPONSE</code> packet type.</p><p>The first request contains crucial information such as service- and integration version, not responding to it will get you disconnected by the game server. Afterwards, requests are game specific.</p><h3 id="heartbeat-09"> <a href="#heartbeat-09">HEARTBEAT (<code>09</code>)</a></h3><p>This type of packet is used by the <em>BEServer</em> module to ensure that the connection hasn‚Äôt been dropped. It is sent every 30 seconds using a sequential index, and if the client doesn‚Äôt respond with the same packet, the client is disconnected from the game server. This heartbeat packet is only three bytes long, with the sequential index used for synchronization being incremental and therefore easily emulated. An example heartbeat could be: <code>09 01 00</code>, which is the second heartbeat (sequence starts at zero) transmitted.</p><p>With this knowledge, it is possible by emulating the entire BattlEye anti-cheat with only two proprietary points of data: the responses for request sequence one and two. These can be intercepted using a tool such as wireshark and replayed as many times as you want for the respective game, because the packet encryption used by BattlEye is static and contextless.</p><p>Emulating the <code>INIT</code> packet is as stated simply responding with the sequence number five:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>INIT<span>:</span>
{
    <span>auto</span> info_packet <span>=</span> battleye<span>::</span>be_packet{};
    info_packet.id       <span>=</span> battleye<span>::</span>packet_id<span>::</span>INIT;
    info_packet.sequence <span>=</span> <span>0x05</span>;

    battleye<span>::</span>delegate<span>::</span>o_send_packet(<span>&amp;</span>info_packet, <span>sizeof</span>(info_packet));
    <span>break</span>;
}
</code></pre><p>Emulating the <code>START</code> packet is done by replying with the received packet‚Äôs header:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>START<span>:</span>
{
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, <span>sizeof</span>(battleye<span>::</span>be_packet_header));
    <span>break</span>;
}
</code></pre><p>Emulating the <code>HEARTBEAT</code> packets is done by replying with the received packet:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>HEARTBEAT<span>:</span>    
{
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, length);
    <span>break</span>;
}
</code></pre><p>Emulating the <code>REQUEST</code> packets can be done by replaying previously generated responses, which can be logged with code hooks or man-in-the-middle software. These packets are game specific and some games might disconnect you for not handling a specific request, but most games only require the first two requests to be handled, afterwards simply replying with the packet header is enough to not get disconnected by the game server. It is important to notice that all <code>REQUEST</code> packets are immediately responded to with the header, to let the server know that the client is aware of the request. This is how BottlEye emulates them:</p><pre><code><span>case</span> battleye:<span>:</span>packet_id<span>::</span>REQUEST<span>:</span>
{
    <span>// IF NOT FRAGMENTED RESPOND IMMEDIATELY, ELSE ONLY RESPOND TO THE LAST FRAGMENT</span>
    <span>const</span> <span>auto</span> respond <span>=</span> 
        <span>!</span>header<span>-&gt;</span>fragmented() <span>||</span> 
        (header<span>-&gt;</span>fragment.index <span>==</span> header<span>-&gt;</span>fragment.count <span>-</span> <span>1</span>);

    <span>if</span> (<span>!</span>respond)
        <span>return</span>;

    <span>// SEND BACK HEADER</span>
    battleye<span>::</span>delegate<span>::</span>o_send_packet(received_packet, <span>sizeof</span>(battleye<span>::</span>be_packet_header));

    <span>switch</span> (header<span>-&gt;</span>sequence)
    {
    <span>case</span> <span>0x01</span>:
    {
        battleye<span>::</span>delegate<span>::</span>respond(header<span>-&gt;</span>sequence,
            {
                <span>// REDACTED BUFFER</span>
            });
        <span>break</span>;
    }
    <span>case</span> <span>0x02</span>:
    {
        battleye<span>::</span>delegate<span>::</span>respond(header<span>-&gt;</span>sequence, 
            {    
                <span>// REDACTED BUFFER</span>
            });
        <span>break</span>;
    }
    <span>default:</span>
        <span>break</span>;
    }
    <span>break</span>;
}
</code></pre><p>Which uses the following helper function for responses:</p><pre><code><span>void</span> battleye<span>::</span>d‚Ä¶</code></pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://secret.club/2020/07/06/bottleye.html">https://secret.club/2020/07/06/bottleye.html</a></em></p>]]>
            </description>
            <link>https://secret.club/2020/07/06/bottleye.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766828</guid>
            <pubDate>Wed, 08 Jul 2020 04:12:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Paycheck Protection Program Recipient Map]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766743">thread link</a>) | @miles
<br/>
July 7, 2020 | https://www.quiverquant.com/sources/sbaloans | <a href="https://web.archive.org/web/*/https://www.quiverquant.com/sources/sbaloans">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.quiverquant.com/sources/sbaloans</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766743</guid>
            <pubDate>Wed, 08 Jul 2020 03:52:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why ‚ÄúI don‚Äôt have time‚Äù is a lie]]>
            </title>
            <description>
<![CDATA[
Score 19 | Comments 43 (<a href="https://news.ycombinator.com/item?id=23766342">thread link</a>) | @hackernewsreadr
<br/>
July 7, 2020 | https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/ | <a href="https://web.archive.org/web/*/https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Everyone has the same amount of time in a day, except for the day they are born and the day that they die. Those days are started late and ended early, respectively. Every other day is the same, 24 hours. </p>



<p>Most of what happens within our days are the results of choices, concious or otherwise. I may choose to sleep 8 hours while someone else chooses only to sleep 5. I am sure you have often heard people respond to something that they say they want to do with ‚ÄúI don‚Äôt have time‚Äù. ‚ÄúI know I should work out but I don‚Äôt have time ‚Ä¶ I wish I spent more time with my kids but I don‚Äôt have time ‚Ä¶ I love to read but I just don‚Äôt have time anymore.‚Äù These people are either lying to you, or more likely, they are lying to themselves. </p>



<p>Most of us feel we do not have time for things but in reality we do not have the relative desire for them. We may want them, but we do not want them as much as the other things we are doing with our time. If we did, we would do them instead. Importantly, I am not referring to a spoken want but an actual one. I can say I want six pack abs but if I am not willing to put in the physical work to get there I don‚Äôt really want that more than the other things I spend my time doing during my days.</p>



<p>Most of the time, most people don‚Äôt truly want hardly anything as much as they want to check Instagram or Twitter or email. Of course, these are not the things they want directly but a means towards getting them. A dopamine hit from an Instagram like, a bite size piece of information or entertainment from a Tweet, or a sense of purpose through a feeling that one is needed, good at their job, and therefore good at something because they are known to respond to their emails in less than 10 minutes no matter the hour or the day. I know these things from experience.</p>



<p>The fact is that when one truly wants something and wants it more than everything else competing for the time in their day, one will absolutely make the time for that thing. Time does not come out of thin air. It comes from the other things we occupy ourselves doing. Everything is a trade-off. We operate based on a descending list of the things we care about whether we know them are not. </p>



<p>To understand what a real want feels like, it is helpful to think about and experience the fundamentals. Years ago, I watched <a href="https://www.youtube.com/watch?v=GLcJHC9J7l4">an awesome motivational speech by a guy named Eric Thomas</a> where he tells his students they will be successful when they want it as badly as a person who is drowning wants to breathe (if you want to watch the first 3 minutes you will get the gist). Occasionally, I run several miles without a water bottle and I am reminded in the last couple of miles what it feels like to be truly thirsty, to want nothing but water. When you are sick, you usually want nothing but to feel better. When you are starving, all you want to do is eat. You will make time for what you want most. We can only do so much at a time and more distractions than ever are competing for our attention. This is why so many people feel there is not enough time in the day. </p>



<p>Next time you think about something you want to do or know you should do but ‚Äúdon‚Äôt have time‚Äù for, think again. You have the time, you just don‚Äôt care enough. In many cases, you will be content with that realization. In others, you will want to change it. Fortunately, you can. It is not about time. It is about you.</p>
	</div></div>]]>
            </description>
            <link>https://blogofjake.com/2020/07/06/why-i-dont-have-time-is-a-lie/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766342</guid>
            <pubDate>Wed, 08 Jul 2020 02:26:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The true cost of ‚Äúfree‚Äù YouTube (2019)]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23766285">thread link</a>) | @nathanyz
<br/>
July 7, 2020 | https://buzz.swarmify.com/true-cost-of-youtube-video-player/ | <a href="https://web.archive.org/web/*/https://buzz.swarmify.com/true-cost-of-youtube-video-player/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <p>When running your business, you engage with the services of many different suppliers. This can range from your power company to your web hosting service. In all of these arrangements, your business is buying a specific service at an agreed upon price.</p><p>For example, when you pay a web hosting provider, they are managing your server, your website content management system <em>(like WordPress)</em>, backups, availability, and security. This simplifies all of that for your business and the monthly fee you pay them is a fair exchange of value for the services they provide.</p><p>Now let's look at YouTube. Everyone knows the power of embedding marketing videos on their website. YouTube greatly simplifies this, allowing you to easily add videos to help build your business. In return for this life-bettering service, you pay YouTube‚Ä¶ <strong>nothing (?)</strong>. </p><!--kg-card-begin: markdown--><p><mark>Sounds like a great deal, except when you think about it, would <em>your</em> business provide its service for free?</mark></p>
<!--kg-card-end: markdown--><p>Most businesses are built to, ultimately, exchange risk and hard work <em>(what it takes to build a business)</em> for financial return. While it might be nice to give away services for free, most business owners can‚Äôt afford to do so and keep the doors open due to all the costs associated with keeping those doors open.</p><p>So when YouTube offers their service to you for free, it doesn't mean they aren't looking to do the same things with their business as you are doing with yours. It just means that <strong>you aren't the customer</strong>.</p><p>So who <em>is</em> the customer? <em>Someone </em>must be paying YouTube for the service that they provide. We know it's not you the business owner embedding videos using their player on your website. Who is paying their bills?</p><p>Here's the answer: <strong>YouTube's customers are the advertisers</strong> who pay for access to the large audience and detailed targeting data that YouTube provides them. This is similar to the way advertisers pay for the ability to show commercials on television networks, or banners on media websites. These advertisers are the <em>real </em>customers, therefore, YouTube's business model is optimized to solve for the problems and needs of these paying customers.</p><p>So what does this mean for you, the web guy or small business owner that embeds videos using YouTube on your website? It means that YouTube is offering that free service to you in order to serve their actual customer the advertisers. Let's go through a couple of the ways that YouTube ends up benefiting from your video embed that you may not have thought about.</p><h3 id="showing-ads-">Showing Ads üëÄ</h3><p>The simplest, most direct way is that each video embed is a source of your customer/leads‚Äô eyeballs that YouTube can now show ads to. This is in the form of inserting video commercials into your content, banner overlays on top of the video, and suggesting other videos after the user watches your video. </p><p>These are all fairly obvious and they <em>do </em>offer switches to turn some of this off during the embed process. However, the difficulty lies in keeping up with this as <strong>YouTube continually adds new ways to monetize these free video views on your website</strong>. So while you may believe you have ads on your videos turned off <em>today</em>, when YouTube introduces a new banner format, icon, or related videos format <em>tomorrow</em>, you‚Äôll need to figure out how to turn them off all over again. You must continually stay on top of these changes and keep adjusting your embeds, otherwise, what you thought would be a clean video promoting your business ends up showcasing ads for other products. Or worse... ads for <strong>your competitors</strong>.</p><!--kg-card-begin: html--><p>At Swarmify, our mission is to bring an accelerated, distraction-free video experience to websites of all sizes. Whether you‚Äôre a  <a href="https://swarmify.com/pricing/"><strong>website owner</strong></a>, <a href="https://swarmify.com/agencies/"><strong>an agency</strong></a>, or you just want to get in on <a href="https://swarmify.com/affiliate-program/"><strong>our affiliate program</strong></a>, we have a plan for you!</p><!--kg-card-end: html--><h3 id="user-siphoning">User Siphoning</h3><!--kg-card-begin: markdown--><p>This is a much more subtle cost but one that can have an incredible impact on your business. If you have ever watched a video on YouTube, you‚Äôve most definitely seen related videos appear at the end of the video you watched. These related videos are personalized to each user‚Äôs behavior and fine-tuned with the strength of a million Google AI servers to pull them into watching more content. <mark>To be blunt, this is weaponized AI</mark> being used to maximize YouTube's chances of convincing a user on your website who watched your video, to watch additional videos chosen by YouTube. And with each of these videos watched, YouTube is able to serve more ads and make more revenue. That's the payoff on their end. Get your customers/leads to watch more YouTube videos and show them more ads.</p>
<!--kg-card-end: markdown--><figure><img src="https://buzz.swarmify.com/content/images/2019/05/xtraffic_funnel-1.png.pagespeed.ic.x-xBpQW1fh.png" alt="YouTube costs you customers"></figure><!--kg-card-begin: markdown--><p>In addition to related videos, there's the not-so-subtle YouTube logo shown overtop your video. This means you are contributing to the company‚Äôs branding with every single watch of content on your website. By the time a user finishes watching one of your videos, it can be hard to tell who gets more benefit; your business or YouTube with all of the branding they throw on top.</p>
<!--kg-card-end: markdown--><h3 id="secret-weapon-detailed-targeting-">Secret Weapon: Detailed Targeting üéØ</h3><p>As discussed above, part of what YouTube is selling are the eyeballs to watch advertiser videos. But what becomes just as important for advertisers is the ability to target ideal potential customers. <strong>Showing ads for dog food to people without pets would be a huge waste of money</strong>. So YouTube needs to be able to deliver as much detail as possible on the motivations, demographics, and current needs each user has in order to better target ads for their advertisers.</p><p>The latest in AI-powered targeting is called <em>"in-market targeting"</em>. It uses AI to attempt to determine which users are likely to be ready to purchase some category of goods or services. This makes sense as we are all in-market for various goods or services at a given time. We might be tired of fixing our old car and so we are ready to start looking for a new one, but it might also be lunchtime and we are hungry and trying to figure out what food to get delivered. We are constantly <em>"in-market"</em> for purchases both large and small. Allowing an advertiser to show us their ad for a healthy and convenient chicken sandwich when we are ready to head out for lunch can be <em>devastatingly effective</em> at driving our behavior. Whereas showing us that same ad late in the evening when we are about ready to go to sleep would be almost useless.</p><p>Great. So <em>"in-market targeting"</em> is the greatest thing since sliced bread for YouTube's advertisers. How does this matter to your website where you simply embed a video showing off your beautiful dental office and smiling, friendly staff? Maybe it‚Äôs hit you how this ties together. <strong>YouTube is tracking the audience that views your website and feeding that into AI servers</strong> to determine what each user is in-market for. What that means, using the example of the dentist, is YouTube now knows these users are in the market for dental services. It learned that because they came to your dental website and watched your office promo video.</p><!--kg-card-begin: markdown--><p>Now the value for advertisers kicks in. Those users will start seeing ads for other dental offices nearby as you have just clued YouTube (Google) into very valuable potential leads for your competitors. Every dentist using Google or YouTube ads can now start showing banner and video ads around the web talking about why they should choose their office over yours. <mark>By embedding a simple video on your website, you have just given all of your competitors access to your hard-earned leads</mark> who were highly likely to buy from you since they were already on your website. But now, they start researching or second guessing as they suddenly see ads for other options at every turn. All of us have been the victim of viewing a certain product and then, suddenly, every ad across the Internet seems consumed with selling variations or alternatives to that product. Now you know how it works. Its all enabled by an unassuming, <em>‚Äúfree‚Äù</em> video player.</p>
<!--kg-card-end: markdown--><h3 id="other-options">Other Options</h3><p>At least now you know the <em>actual </em>cost of that video player. Part of the reason YouTube seems like such a great bargain for you is because of the imbalance in understanding the amount of value they get every time a business like yours uses their player. If you are fine trading off some of your leads and customers in return for the free price, then YouTube may work for you.</p><p>On the other hand, if the cost of leads and customers being siphoned away seems too high, then there are other options. Just like your web hosting and other services, there are providers that will give you simple tools to embed videos just as easily as YouTube. You pay a small monthly fee in exchange for a video player that is focused on delivering your video to your customers and keeping those high value leads on your website where they belong. Matching your site‚Äôs look, feel, and color scheme, with no obnoxious logos or branding to distract from your message.</p><p>We provide unlimited video hosting at <a href="https://swarmify.com/">Swarmify</a>, but there are many other providers depending on your needs.</p><!--kg-card-begin: markdown--><p><a href="https://swarmify.com/pricing/#pricing-table"><img src="https://buzz.swarmify.com/content/images/2020/06/xbottom-cta.png.pagespeed.ic.l6DzEnm0ti.png" alt="Try SmartVideo today!"></a></p>
<!--kg-card-end: markdown-->
            </section></div>]]>
            </description>
            <link>https://buzz.swarmify.com/true-cost-of-youtube-video-player/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23766285</guid>
            <pubDate>Wed, 08 Jul 2020 02:13:06 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to become a Bayesian (2016)]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 2 (<a href="https://news.ycombinator.com/item?id=23765580">thread link</a>) | @noch
<br/>
July 7, 2020 | https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/ | <a href="https://web.archive.org/web/*/https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
			
		<div>
		<main id="main" role="main">

					<div>
				
<article id="post-2255">
	<!-- .entry-header -->

	<div>
		<h3>How to become a Bayesian in eight easy steps: An annotated reading list</h3>
<p><em>(TLDR: We wrote an annotated reading list to get you started in learning Bayesian statistics. <span><a href="https://link.springer.com/article/10.3758%2Fs13423-017-1317-5" target="_blank" rel="noopener">Published version</a></span>. <span><a href="https://www.researchgate.net/publication/301981861_How_to_become_a_Bayesian_in_eight_easy_steps_An_annotated_reading_list" target="_blank" rel="noopener">Researchgate</a>. <a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">PsyArxiv</a></span>.)</em></p>
<p>It can be hard to know where to start when you want to learn about&nbsp;Bayesian statistics.&nbsp;I am frequently asked&nbsp;to share&nbsp;my favorite&nbsp;introductory resources to Bayesian statistics, and my go-to answer has been to share a dropbox folder with a bunch of PDFs that aren‚Äôt really sorted or cohesive. In some sense&nbsp;I was acting as&nbsp;little&nbsp;more than a glorified Google Scholar search bar.</p>
<p>It seems like there is&nbsp;some&nbsp;tension out there with regard to Bayes, in that many people want to know more about it, but when they pick up, say, Andrew Gelman and colleagues‚Äô&nbsp;<em>Bayesian Data Analysis</em> they get totally overwhelmed. And then they just think, ‚ÄúScrew this esoteric B.S.‚Äù and give up because it doesn‚Äôt seem like it is worth their time or effort.</p>
<p>I think this&nbsp;happens a lot. Introductory Bayesian texts usually assume a level of training in mathematical statistics that most researchers simply don‚Äôt have time (or otherwise don‚Äôt need) to learn. There are actually&nbsp;a lot of accessible Bayesian resources&nbsp;out there that don‚Äôt require much math stat background at all, but it just so happens&nbsp;that they are not consolidated anywhere so people don‚Äôt necessarily know about them.</p>
<h3>Enter the eight step program</h3>
<p>Beth Baribault, Peter Edelsbrunner (<span><a href="https://twitter.com/peter1328" target="_blank" rel="noopener">@peter1328</a></span>), Fabian Dablander (<span><a href="https://twitter.com/fdabl" target="_blank" rel="noopener">@fdabl</a></span>), Quentin Gronau, and I have just finished <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">a&nbsp;new paper</a></span> that tries to&nbsp;remedy this situation, titled, ‚ÄúHow to become a Bayesian in eight easy steps: An annotated reading list.‚Äù We were invited to submit this paper for a special issue on Bayesian statistics for&nbsp;<em>Psychonomic Bulletin and Review</em>.&nbsp;Each paper in the special issue addresses a specific question we often hear about Bayesian statistics, and ours was the following:</p>
<blockquote><p>I am a reviewer/editor handling a manuscript that uses Bayesian methods; which articles should I read to get a quick idea of what that means?</p></blockquote>
<p>So <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>‚Äòs goal is not so much to teach readers how to actually&nbsp;<em>perform</em> Bayesian data analysis ‚Äî there are other papers in the special issue for that ‚Äî but to facilitate readers in their quest to understand basic Bayesian concepts. We think it will&nbsp;serve as a nice introductory reading list for any interested researcher.</p>
<p>The format of <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span> is straightforward. We highlight&nbsp;eight papers that had a big impact on our own understanding of Bayesian statistics, as well as short descriptions of an additional 28 resources in the&nbsp;<em>Further reading </em>appendix. The first four papers&nbsp;are focused on theoretical introductions, and the second four&nbsp;have a&nbsp;slightly more applied focus.</p>
<p>We also give every resource&nbsp;a ranking from 1‚Äì9 on two dimensions: Focus (theoretical vs. applied) and Difficulty (easy vs. hard). We tried to provide a wide range of resources, from easy&nbsp;applications (#14: Wagenmakers, Lee, and Morey‚Äôs ‚ÄúBayesian benefits for the pragmatic researcher‚Äù) to challenging&nbsp;theoretical discussions (#12: Edwards, Lindman and Savage‚Äôs ‚ÄúBayesian statistical inference for psychological research‚Äù) and others&nbsp;in between.</p>
<p>The figure below (Figure A1, available on the last page of <span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>) summarizes our rankings:</p>
<p><img data-attachment-id="2338" data-permalink="https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/readinglist/#main" data-orig-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png" data-orig-size="1100,1000" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Readinglist" data-image-description="" data-medium-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=300" data-large-file="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700" src="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700" alt="Readinglist.png" srcset="https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=700 700w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=150 150w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=300 300w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=768 768w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png?w=1024 1024w, https://nicebrain.files.wordpress.com/2016/02/readinglist.png 1100w" sizes="(max-width: 700px) 100vw, 700px"></p>
<p>The emboldened numbers (1‚Äì8) are the papers that we‚Äôve commented on&nbsp;in detail, numbers in light text (9‚Äì30) are papers we briefly describe in the appendix, and the italicized numbers (31‚Äì36) are our recommended introductory books (also listed in the appendix).</p>
<p>This is how we chose to frame&nbsp;<span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span>,</p>
<blockquote><p>Overall, the guide is designed such that a researcher might be able to read all eight of the highlighted articles and some supplemental readings within a few days. After readers acquaint themselves with these sources, they should be well-equipped both to interpret existing research and to evaluate new research that relies on Bayesian methods.</p></blockquote>
<h3>The list</h3>
<p>Here‚Äôs the list of papers we chose to cover&nbsp;in detail:</p>
<ol>
<li>&nbsp;Lindley (1993):&nbsp;The analysis of experimental data: The appreciation of tea and wine. <span><a href="http://tinyurl.com/lindley1993" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Kruschke (2015, chapter 2):&nbsp;Introduction: Credibility, models, and parameters. <span><a href="https://sites.google.com/site/doingbayesiandataanalysis/sample-chapter" target="_blank" rel="noopener">Available on the DBDA website</a></span>.</li>
<li>Dienes (2011): Bayesian versus orthodox statistics: Which side are you on? <span><a href="http://tinyurl.com/dienes2011" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Rouder, Speckman, Sun, Morey, &amp; Iverson (2009): Bayesian&nbsp;<em>t</em> tests for accepting and rejecting the null hypothesis. <span><a href="http://tinyurl.com/rouder2009" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Vandekerckhove, Matzke, &amp; Wagenmakers (2014): Model comparison and the principle of parsimony. <span><a href="http://tinyurl.com/vandekerckhove2015" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>van de Schoot, Kaplan, Denissen, Asendorpf, Neyer, &amp; Aken (2014):&nbsp;A gentle introduction to Bayesian analysis:&nbsp;Applications to developmental research. <span><a href="http://tinyurl.com/vandeschoot" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Lee and Vanpaemel (from the same special issue): Determining priors for cognitive models. <span><a href="https://webfiles.uci.edu/mdlee/LeeVanpaemel2015.pdf" target="_blank" rel="noopener">PDF</a></span>.</li>
<li>Lee (2008):&nbsp;Three case studies in the Bayesian analysis of cognitive models. <span><a href="http://tinyurl.com/lee2008cognitive" target="_blank" rel="noopener">PDF</a></span>.</li>
</ol>
<p>You‚Äôll have to check out&nbsp;<span><a href="https://psyarxiv.com/ph6sw" target="_blank" rel="noopener">the paper</a></span> to see our commentary&nbsp;and to find out what other articles we&nbsp;included in the&nbsp;<em>Further reading</em> appendix. We provide urls (web archived when possible;&nbsp;<span><a href="http://archive.org/web/" target="_blank" rel="noopener">archive.org/web/</a></span>) to PDFs of the eight main papers (except #2, that‚Äôs on the DBDA website), and wherever possible for the rest of the resources (some did not have free copies online;&nbsp;see&nbsp;the <em>References</em>).</p>
<p>I thought this was a fun&nbsp;paper&nbsp;to write, and if you think you might want to learn some Bayesian basics I hope you will consider reading it.</p>
<p>Oh, and I should mention that we wrote the whole paper collaboratively on <span><a href="https://www.overleaf.com/signup?ref=19f671ddd62a" target="_blank" rel="noopener">Overleaf.com</a></span>. It is a great site that makes it easy to&nbsp;get started using&nbsp;LaTeX, and I highly recommend trying it out.</p>
<p>This is the fifth post in the&nbsp;<span><em><a href="https://alexanderetz.com/understanding-bayes/" target="_blank" rel="noopener">Understanding Bayes</a></em></span> series. Until next time,</p>
<p><img data-attachment-id="2420" data-permalink="https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/bill-murray-youre-awesome/#main" data-orig-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg" data-orig-size="817,1046" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bill-murray-youre-awesome" data-image-description="" data-medium-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234" data-large-file="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=700" src="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234&amp;h=300" alt="bill-murray-youre-awesome" width="234" height="300" srcset="https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=234&amp;h=300 234w, https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=468&amp;h=600 468w, https://nicebrain.files.wordpress.com/2016/02/bill-murray-youre-awesome.jpg?w=117&amp;h=150 117w" sizes="(max-width: 234px) 100vw, 234px"></p>
			</div><!-- .entry-content -->

	<!-- .entry-meta -->
</article><!-- #post-## -->
			</div>

				<nav role="navigation" id="nav-below">
		

	
				
	
	</nav><!-- #nav-below -->
	
			
<!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

					<!-- #secondary -->
	
	</div></div>]]>
            </description>
            <link>https://alexanderetz.com/2016/02/07/understanding-bayes-how-to-become-a-bayesian-in-eight-easy-steps/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23765580</guid>
            <pubDate>Tue, 07 Jul 2020 23:48:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stripe Atlas includes $5k in AWS credits ‚Äì we recevied $1k]]>
            </title>
            <description>
<![CDATA[
Score 48 | Comments 28 (<a href="https://news.ycombinator.com/item?id=23764785">thread link</a>) | @CoreSet
<br/>
July 7, 2020 | https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got | <a href="https://web.archive.org/web/*/https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A few months ago we wrote about "<a href="https://formcake.com/blog/our-experience-with-stripe-atlas">Our Experience with Stripe Atlas</a>" and what it was like to use them to start a small internet business (tldr; generally good).</p>
<p>One of the perks of Stripe Atlas is that they offer a heap of credits for multiple cloud platforms. From the Stripe site:</p>
<p>"Stripe Atlas founders can access free credits, exclusive access to free products, and discounted pricing from our partners, including $5,000 in credits from Amazon Web Services and $10,000 in credits from DigitalOcean."</p>
<p>There's always an understanding with services like this that credit offers come with a lot of hand-waving and "caveat emptor"-ing: notice founders "<em>have access to</em>" free credits (emphasis ours), which could imply that some founders have the capacity to call on those funds, but not all. But still, the language does seem very direct and makes it easy to believe signing up includes $5,000 in AWS credits.</p>
<p>We have not received $5,000 in AWS credits. But now the good news: We <em>have</em> still received <strong>$1,000 in AWS credits</strong>.</p>
<p>$1,000 is still very generous, and a great gift from Stripe. No business filing with Stripe Atlas should ever depend on $1,000 of AWS credits as some kind of life-or-death runway, and for everyone receiving it it's more a small bonus than some kind of critical seed money.</p>
<p>But I do think it's useful to note, if you're an entrepreneur considering Stripe Atlas, what general figures you can expect. We're not a high capital-intensive operation of course, so if you're in a similar micro-saas space, then you also probably won't get the full 5k.</p>
<p>We're not sure what path you should take <em>to get</em> that possible $5,000 in AWS credits. There's not much communication about what criteria Stripe uses to arrive at the number they finalize on.</p>
<p>But you heard it from us: Take that 5,000 number with a grain of salt. It's a great gift - just maybe not as great as you think.</p>
</div></div>]]>
            </description>
            <link>https://formcake.com/blog/stripe-atlas-includes-five-thousand-credits-this-is-what-we-got</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764785</guid>
            <pubDate>Tue, 07 Jul 2020 22:18:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No leap second will be introduced at the end of December 2020]]>
            </title>
            <description>
<![CDATA[
Score 21 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23764571">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60 | <a href="https://web.archive.org/web/*/https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://hpiers.obspm.fr/iers/bul/bulc/bulletinc.60</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764571</guid>
            <pubDate>Tue, 07 Jul 2020 21:58:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I got 400 signups with a video of a product that didn‚Äôt exist]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 40 (<a href="https://news.ycombinator.com/item?id=23764098">thread link</a>) | @semy
<br/>
July 7, 2020 | https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/ | <a href="https://web.archive.org/web/*/https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>In this blog post, I would like to show you a practical example of a ‚Äúfake it till you make it‚Äù approach to product development. To my mind, it basically means that you are trying to stay a few steps ahead of your current situation. You are ‚Äúfaking‚Äù the idea that you have progressed more, but you actually haven‚Äôt. This approach gave me invaluable answers for my product which were hard to get otherwise.</p><h2 id="here-is-my-story">Here is my story:</h2><p>3 years ago, my former manager came to me and told me to do around 1500 banner ads. The company I worked for got new products and they wanted to market them in different countries. We got 6 products in 5 colors and the aim was to create ad banners for 3 countries. The goal was to create 15 formats of each banner ad. It was a nightmare for the graphic department. And I was its team leader.</p><p>When I imagined myself doing 1500 banner ads, I wanted to cry. This scenario of creating thousands of banners could happen easily every month. It is possible to do manually 1500 ad banners, but it is just‚Ä¶ too boring! I wanted to be a creator, not a generator.</p><p>I started immediately googling how I can automate the process of creating banners sets. I found some solutions but they were pretty useless. They weren‚Äôt flexible enough.</p><p>I decided to create my own solution. I experimented with Photoshop, more specifically with the ‚ÄúActions‚Äù feature there. Basically, the Actions feature was recording my steps in Photoshop. So, I could record how I manually generated banners, then play it again and&nbsp;generate the banners. It was pretty simple: Yet powerful. With this script I created, I was able to automate some parts of the process and help our department to be faster.</p><p>I was interested in a community of graphic designers who had the same problem. With my friend <a href="https://twitter.com/iChangeTheWay" target="_blank" rel="noreferrer">Ivan</a>, I created a landing page in a few hours. <a href="https://twitter.com/tmvst" target="_blank" rel="noreferrer">Tomas</a> sketched the logo in 5 minutes, then we came up with pricing. I created a video of the script and‚Ä¶</p><p>I posted it to a local Facebook designers‚Äô community group.</p><p>And this is what happened:</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/f4429/a85fdc4a-a52b-200a-d884-31ab650ffc31.webp 530w" sizes="(max-width: 530px) 100vw, 530px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/dd866/a85fdc4a-a52b-200a-d884-31ab650ffc31.png 530w" sizes="(max-width: 530px) 100vw, 530px" type="image/png">
        <img src="https://www.lunadio.com/static/95d0df87d8da034d24483b75d2251286/dd866/a85fdc4a-a52b-200a-d884-31ab650ffc31.png" alt="Bannerium Alpha post to a local Facebook designers‚Äô community group.
">
      </picture>
    </span>
<em>My post to a local Facebook designers‚Äô community group.</em></p><p>I was amazed by how many people had the same problem as us. What was more amazing was that 5 people bought the script. It wasn‚Äôt cheap, it cost around 110‚Ç¨. Looking back retrospectively, I think it was‚Ä¶ a miracle. It showed me that the problem was there and people were willing to pay for the solution.</p><p>At that time I didn‚Äôt know anything about building a product, selling, consumer behavior, or SaaS (Software as a Service). Well, I knew the theory, but just from videos, friends, or lectures. But I didn‚Äôt have any tangible experience.</p><h2 id="i-started-with-experimentation">I started with experimentation.</h2><p>I created <strong>a free version of a Photoshop ad generator as a Freemium model,</strong> which could automate only 6 banner formats in contrast to the full version which could automate 20 formats. I gave it for free to people in exchange for getting feedback from them.</p><p>To be honest‚Ä¶</p><p>0 people bought the full version after they tried the free version.</p><p>Frankly put, it failed. I was overly optimistic&nbsp;and thought that the product would do better. On the other hand, It motivated me to ask people what was not working for them and how I could get better. I even gave the full professional freelancers version, which cost 110‚Ç¨, for free in exchange for feedback.</p><p>And what happened?</p><p><strong>Nobody wrote me back.</strong></p><p>It sucked. I didn‚Äôt know what to do next.</p><p>At that time I let it go. I didn‚Äôt have money to build the product and I didn‚Äôt feel that I had enough experience to build the software from scratch.</p><h2 id="after-more-than-a-year-break">After more than a year break</h2><p>After a year and a half, I decided to explore this topic again. I learned new things from Product Management, User Experience design, I was closer to friends who were dealing with product development on a daily basis. So I gave it a try.</p><p>The last script didn‚Äôt work for all graphics of banners, it worked only for a few specific graphics. It was good, but once you wanted to generate some complicated banner, this script did not work smoothly. Meanwhile, Photoshop developed a few other features, which changed the game. My game.</p><h2 id="little-technical-context">Little technical context</h2><p>Scripts are technically the easiest to do however, they are quite limited. I decided to learn more about what was feasible in Photoshop. I‚Äôd learned about plugins, which seemed like the right way to do things. However, to do a plugin, I needed a front end developer, because I couldn‚Äôt code on a sufficient level.</p><p>The problem is that building something with a developer is the most expensive thing to do. And I didn‚Äôt even know if people were still interested in the solution. The only thing I knew was that I wanted to improve generating ad banners as much as I could, but how it should work? I had no clue.</p><h2 id="just-do-it">Just do it!</h2><p>But I had something that I believed was powerful. Designer superpower. Really, Sam? Superpower?‚Ä¶ Yes, superpower. Let me explain.</p><p>If I want to get rid of generating, what should I do? I could&nbsp; just hit some magic button and everything would be set. But how would it work? It‚Äôs time for ü•Å designer superpower, (which I believe is a designers‚Äô toolset).</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/a35e2/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/84019/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/8f073372c757154040975d2e8aa7322b/84019/1c0d2543-eaab-1927-33e6-ed8ad4e8921b.png" alt="Designer superpower - designers' toolset">
      </picture>
    </span>
<em>Designer superpower - designers<!-- -->‚Äô<!-- --> toolset</em></p><p>I realized that I could ‚Äúfake‚Äù the whole plugin and interactions in it. The reason for faking the plugin was that I needed to see if people were still interested in my solution.</p><p>I knew that the demo of the plugin would serve me as a great tool for explaining graphic designers the power of that extension and could give developers a vision of what to build.</p><h2 id="so-i-started">So I started:</h2><p>I created basic wireframes of Photoshop plugin in Sketch.</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/a35e2/e4527606-43e4-1ce6-dd0c-6af52bf6536a.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/84019/e4527606-43e4-1ce6-dd0c-6af52bf6536a.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/45430bd91642a28ebc94468ffd5d724f/84019/e4527606-43e4-1ce6-dd0c-6af52bf6536a.png" alt="First ketch wireframes of Photoshop plugin Bannerium - Photoshop plugin for generating ads.">
      </picture>
    </span>
<em>Preparation for video.</em></p><p>Then I needed somehow to fake the algorithm of generating banners. So I recorded screen videos and I got rid of some parts. I removed these parts where I needed to manually re-organize components in banners. In the end, these screen recordings looked like a great generating algorithm.</p><p>Now the final part. I needed to connect these parts. For this purpose I used Adobe After Effects.</p><p>And this is the final video which took me 2 weeks to do:</p><p><a href="https://youtu.be/JWApMjQ3-jE" target="_blank" rel="noreferrer">https://youtu.be/JWApMjQ3-jE</a></p><p>I showed this video to friends of mine and they thought that I had learned how to code. At that point, I knew I had done it well.</p><p><strong>üóíSide note:</strong> When you think of that, this is a superpower. With some tools, you can show people (in my case graphic designers) the future them and spark imagination. You can take some ideas and make them look real. Suddenly, all the people can see how your product should behave and what it should do. Isn‚Äôt that powerful?</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/a35e2/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.webp 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/84019/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.png 970w" sizes="(max-width: 970px) 100vw, 970px" type="image/png">
        <img src="https://www.lunadio.com/static/5ae22898c4f073ca65670bb6bedda258/84019/549e8b44-33ab-3699-1a5a-e2fa3ef7862e.png" alt="Picture showing how to understand your solution. Ultimate goal is to solve the user's problem.">
      </picture>
    </span>
<em>Ultiimate goal of your product is to solve user<!-- -->‚Äô<!-- -->s problem</em></p><p>After the video was complete, I created a landing page and posted the plugin into local facebook design/marketing communities</p><p><span>
      <span></span>
  <picture>
        <source srcset="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/30224/bb768f3f-f15f-dae9-1565-9cbe4f966957.webp 547w" sizes="(max-width: 547px) 100vw, 547px" type="image/webp">
        <source srcset="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/bb683/bb768f3f-f15f-dae9-1565-9cbe4f966957.png 547w" sizes="(max-width: 547px) 100vw, 547px" type="image/png">
        <img src="https://www.lunadio.com/static/1d266b5754999b47d6d0fac1a66e9883/bb683/bb768f3f-f15f-dae9-1565-9cbe4f966957.png" alt="Facebook post with faked video. I got valuable 400 signups">
      </picture>
    </span>
<em>Facebook post with video which gave me 400 signups</em></p><p>I added my <a href="https://www.bannerium.com/" target="_blank" rel="noreferrer">landing page</a> in the post, then I shared it to other groups/forums and I got 400 signups.</p><p>I even got some deal with a design agency, which told me that they would give us some money to develop a plugin. Moreover, I even had 2 meetings with them. Just based on the video.</p><p>In the end, nothing came from this deal. That was reasonable. Here is why: The truth was, that I had just released the video. I didn‚Äôt have anything else. Just some parts connected with duct tape. At that time, I had no clue how close we could get with the real code.</p><p><strong>üí°Lesson learned</strong></p><p>Showing a ‚Äúfake‚Äù video is powerful for sharing a vision and testing if there is a need for a solution. On the other hand, if the video is too ambitious, people will take it as a norm and will base their expectations on the video. If the real product doesn‚Äôt match the video afterward, they will probably be unsatisfied because the product is&nbsp;incomplete. This thing happened to me when I had a call with a user during beta testing. She expected that the complete product should work as it was on the video. So sometimes it is better to be realistic. Otherwise, you will create unhappy initial users. But I believe it is a trade-off and you need to count on that.</p><p>Once I saw that the product was still in demand I found a programmer called Petr and we started with the development of the plugin. The video was also a great tool for how to communicate what I wanted to achieve. Of course, video showed happy path&nbsp;and I needed to design ‚Äúwhat if‚Äù scenarios, afterwards. But it served my expectations&nbsp;perfectly.</p><p>Then we went through beta testing, which 50 people joined. Nowadays the <a href="https://bannerium.com/" target="_blank" rel="noreferrer">product is live.&nbsp;</a></p><h2 id="summary">Summary:</h2><h3 id="a-designer-toolset-is-a-superpower-you-can-easily-create-something-that-was-not-on-the-market-before-and-validate-your-idea-just-in-a-week">A Designer toolset is a superpower. You can easily create something that was not on the market before and validate your idea. Just in a week.</h3><ul><li>Creating a video is a powerful tool but if it is too ambitious, you will create unhappy first users.</li><li>Count on the trade-off that some people will think that product is actually working, but are unsure. I suggest you create beta testers out of them. It can bring you value afterward, <a href="https://www.lunadio.com/blog/4-cognitive-bias-examples-you-should-be-aware-of-as-a-designer" target="_blank" rel="noreferrer">as I wrote in my previous article.</a></li></ul><p>After this example, I would use a fake demo of the product more sensitively. I still believe it can save you a lot of money, help you validate your idea and get you traction in your idea.</p><p>I hope this example will show designers how powerful they are. Furthermore, it will show non-designers what they can achieve with designers onboard.</p><p>If you are interested in my future content about building products through designer eyes, feel free to join the newsletter below.</p></div></article></div>]]>
            </description>
            <link>https://www.lunadio.com/blog/i-got-400-signups-with-a-video-of-a-product-that-didnt-exist/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23764098</guid>
            <pubDate>Tue, 07 Jul 2020 21:09:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Library of Growth Marketing Strategies]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23763907">thread link</a>) | @pallavkaushish
<br/>
July 7, 2020 | https://academy.pallav.io/marketing-strategies/ | <a href="https://web.archive.org/web/*/https://academy.pallav.io/marketing-strategies/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><img height="1" width="1" src="https://www.facebook.com/tr?id=331091714105481&amp;ev=PageView&amp;noscript=1">
<!-- End Facebook Pixel Code -->


		<a href="#content">Skip to content</a>

	<div id="boxed-wrapper">
		
		<div id="wrapper">
			
			
			<header>
				
				
			</header>
						
			
		
				
			
			

						<main id="main">
				<div>
<section id="content">
					<div id="post-1801" class="page">
			<span>Library of Growth Marketing Strategies</span><span><span><a href="https://academy.pallav.io/author/pallavkaushish/" title="Posts by Pallav Kaushish" rel="author">Pallav Kaushish</a></span></span><span>2020-07-09T22:05:12+05:30</span>						<div>
				<div><div><div><div data-bg-url=""><div><p><span>Get new strategies in your inbox every week</span></p>
</div></div></div></div></div><div><div><div id="strategy-list"><div data-bg-url=""><div><p><a href="https://www.producthunt.com/posts/library-of-marketing-strategies?utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-library-of-marketing-strategies" target="_blank" rel="noopener noreferrer"><img src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=214430&amp;theme=light" alt="Library of Marketing Strategies - Marketing Strategies To Grow Your Startup From 1K to 1M | Product Hunt Embed" width="250px" height="54px"></a></p>
</div><div><div><div id="pt-cv-view-dba7745f0m"><div data-id="pt-cv-page-1" data-cvc="3" data-cvct="2" data-cvcm="1">






<div data-pid="ad-0"><div><p>No more guesswork! Get new marketing strategies every week to accelerate your business.</p>


		  <!-- .wpforms-container --></div></div>










<div data-pid="ad-1"><div><p>Get proven marketing strategies in your inbox every week.</p>


		  <!-- .wpforms-container --></div></div>










</div></div>
</div>			
			
</div></div></div></div></div>
<span></span>							</div>
												</div>
	</section>
						
					</div>  <!-- fusion-row -->
				</main>  <!-- #main -->
				
				
								
					
		 <!-- fusion-footer -->

		
					

												</div> <!-- wrapper -->
		</div> <!-- #boxed-wrapper -->
		
		
		
		<a></a>

		<div>
						
			
		<div id="cp_popup_id_2112" data-style="cp_style_2112" data-module-type="modal_popup" data-class-id="2112" data-styleslug="exit-intent-v1">

							<div>
			
			<div>
				<div>

					
				
					<div data-entry-animation="cp-fadeIn" data-overlay-click="1" data-title="Exit Intent v1 (Desktop)" data-module-type="modal_popup" data-step="1" data-width="900" data-mobile-width="320" data-height="520" data-mobile-height="185" data-mobile-break-pt="480" data-mobile-responsive="yes">
												
					<div>                             
						<div id="cp_heading-1-2112" data-type="cp_heading"><div><div name="cp_heading-1"><p>CLAIM YOUR FREE CHECKLIST &amp; MORE</p></div></div>
</div><div id="cp_image-1-2112" data-type="cp_image" data-action="none" data-step="1">
	<div>
		<div><img data-cp-src="https://academy.pallav.io/wp-content/uploads/2020/04/checklist-page-v1-193x300.jpg" name="cp_image-1" alt="" src="https://academy.pallav.io/wp-content/uploads/2020/04/checklist-page-v1-193x300.jpg">
			
		</div>
		
	</div>
</div><div id="cp_paragraph-1-2112" data-type="cp_paragraph" data-field-title="Paragraph"><div><div name="{{name}}"><p>The Ultimate Pre-Publishing Checklist is one of many resources available with the free membership of <strong><a href="https://academy.pallav.io/" target="_blank" rel="noopener">Kaushish Academy</a></strong>.</p>

<p>And when you sign up you get access to our <span>exclusive Facebook group</span> + <span>priority access</span> to every upcoming resource.</p></div></div>
</div><div id="cp_close_image-1-2112" data-type="cp_close_image" data-field-title="Close Image" data-action="close">	
	<div>
		<div><img data-cp-src="https://academy.pallav.io/wp-content/plugins/convertpro/assets/admin/img/close1.png" alt="" name="cp_close_image-1" value="" src="https://academy.pallav.io/wp-content/plugins/convertpro/assets/admin/img/close1.png">
			
		</div>
		
	</div>
</div>							</div>              
														
						</div><!-- .cp-popup-content -->
						      
		
		
		
		
						</div>
							</div><!-- .cp-popup-wrapper -->
			
							</div><!-- Overlay -->
				

					</div><!-- Modal popup container -->
			
		

		
	
	



































































































































































	
			
				<!-- WooCommerce JavaScript -->


				<!-- This is minified version of cp-ga-front.js file located at convertpro-addon/analytics/assets/js/cp-ga-front.js if you want to make changes to this, edit cp-ga-front.js file, minify it and paste code here -->

				
								
						</div>
	

</div>]]>
            </description>
            <link>https://academy.pallav.io/marketing-strategies/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763907</guid>
            <pubDate>Tue, 07 Jul 2020 20:51:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Help Message for Shell Scripts]]>
            </title>
            <description>
<![CDATA[
Score 412 | Comments 106 (<a href="https://news.ycombinator.com/item?id=23763166">thread link</a>) | @reconquestio
<br/>
July 7, 2020 | https://samizdat.dev/help-message-for-shell-scripts/ | <a href="https://web.archive.org/web/*/https://samizdat.dev/help-message-for-shell-scripts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
<article>
    <p>Have you ever thought how good it would be to have a help message for your shell script
that you wrote a month ago and already forgot what it is supposed to do?</p>
<p>Yeah, there is always a way to show a message using cat (meow) or a bunch of echo
calls.</p>
<p>But there is a neat trick.</p>
<p>Add your message with all the required information on top of your file, just right
after the shebang.</p>
<div><pre><code data-lang="bash"><span>#!/bin/bash
</span><span></span><span>###</span>
<span>### my-script ‚Äî does one thing well</span>
<span>###</span>
<span>### Usage:</span>
<span>###   my-script &lt;input&gt; &lt;output&gt;</span>
<span>###</span>
<span>### Options:</span>
<span>###   &lt;input&gt;   Input file to read.</span>
<span>###   &lt;output&gt;  Output file to write. Use '-' for stdout.</span>
<span>###   -h        Show this message.</span>
</code></pre></div><p>Halfway done, now need to get this message in runtime with sed.</p>
<div><pre><code data-lang="bash">help<span>()</span> <span>{</span>
    sed -rn <span>'s/^### ?//;T;p'</span> <span>"</span><span>$0</span><span>"</span>
<span>}</span>
</code></pre></div><p><code>$0</code> means a filename of a file that is being executed.</p>
<p>A bit about the magic that is going here:</p>
<ul>
<li><code>s</code> ‚Äî stands for substitute the following pattern;</li>
<li><code>/</code> ‚Äî keyword to define start/end of the pattern;</li>
<li><code>^### ?</code> ‚Äî match a string starting with ### and an optional space after;</li>
<li><code>//</code> ‚Äî there could be something between the slashes, but since nothing is here, replace
the pattern with an empty string;</li>
<li><code>T</code> ‚Äî Jumps to the end of sed-script if no s/// has done a successful substitution;</li>
<li><code>p</code> ‚Äî Prints the result of the substitution.</li>
</ul>
<p>Now just call the <code>help</code> function if an arg <code>-h</code> or no args passed.</p>
<div><pre><code data-lang="bash"><span>if</span> <span>[[</span> <span>$#</span> <span>==</span> <span>0</span> <span>]]</span> <span>||</span> <span>[[</span> <span>"</span><span>$1</span><span>"</span> <span>==</span> <span>"-h"</span> <span>]]</span><span>;</span> <span>then</span>
    <span>help</span>
    <span>exit</span> <span>1</span>
<span>fi</span>
</code></pre></div><p>Hope it helps, cheers!</p>
<p>Full gist is available on GitHub: <a href="https://gist.github.com/kovetskiy/a4bb510595b3a6b17bfd1bd9ac8bb4a5">https://gist.github.com/kovetskiy/a4bb510595b3a6b17bfd1bd9ac8bb4a5</a></p>
</article>

        </div></div>]]>
            </description>
            <link>https://samizdat.dev/help-message-for-shell-scripts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763166</guid>
            <pubDate>Tue, 07 Jul 2020 19:40:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This Month in Rust GameDev #11 ‚Äì June 2020]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23763075">thread link</a>) | @ozkriff
<br/>
July 7, 2020 | https://rust-gamedev.github.io/posts/newsletter-011 | <a href="https://web.archive.org/web/*/https://rust-gamedev.github.io/posts/newsletter-011">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
            
    <article itemscope="" itemtype="http://schema.org/BlogPosting">
        

        <div itemprop="articleBody">
            <p>Welcome to the eleventh issue of the Rust GameDev Workgroup‚Äôs
monthly newsletter.
<a href="https://rust-lang.org/">Rust</a> is a systems language pursuing the trifecta:
safety, concurrency, and speed.
These goals are well-aligned with game development.
We hope to build an inviting ecosystem for anyone wishing
to use Rust in their development process!
Want to get involved? <a href="https://github.com/rust-gamedev/wg#join-the-fun">Join the Rust GameDev working group!</a></p>
<p>You can follow the newsletter creation process
by watching <a href="https://github.com/rust-gamedev/rust-gamedev.github.io/issues?q=label%3Acoordination">the coordination issues</a>.
Want something mentioned in the next newsletter?
<a href="https://github.com/rust-gamedev/rust-gamedev.github.io">Send us a pull request</a>.
Feel free to send PRs about your own projects!</p>
<p>Table of contents:</p>
<ul>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#legion-game-jam">Legion Game Jam</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#game-updates">Game Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#learning-material-updates">Learning Material Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#library-tooling-updates">Library &amp; Tooling Updates</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#popular-workgroup-issues-in-github">Popular Workgroup Issues in Github</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#meeting-minutes">Meeting Minutes</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#requests-for-contribution">Requests for Contribution</a></li>
<li><a href="https://rust-gamedev.github.io/posts/newsletter-011/#bonus">Bonus</a></li>
</ul>
<!--
Ideal section structure is:

```
### [Title]

![image/GIF description](image link)

A paragraph or two with a summary and [useful links].

_Discussions:
[/r/rust](https://reddit.com/r/rust/todo),
[twitter](https://twitter.com/todo/status/123456)_

[Title]: https://first.link
[useful links]: https://other.link
```

Discussion links are added only if they contain
some actual interesting discussions.

If needed, a section can be split into subsections with a "------" delimiter.
-->
<h2 id="legion-game-jam"><a href="https://itch.io/jam/legion-jam-rustlang">Legion Game Jam</a>&nbsp;
</h2>
<p><a href="https://wikipedia.org/wiki/Roman_Empire"><img src="https://rust-gamedev.github.io/posts/newsletter-011/roman-empire.jpeg" alt="The Roman Empire at its greatest extent"></a></p>
<p>The "Legion" game jam by <a href="https://itch.io/profile/laticoda">Laticoda</a> is about
<a href="https://wikipedia.org/wiki/Roman_Empire">the Roman Empire</a> for the background theme
and ECS paradigm for the technical side.
The conditions are:</p>
<ul>
<li>Open-source &amp; Rust only.</li>
<li>Projects should use some ECS library
(you can choose <a href="https://github.com/TomGillen/legion">Legion</a> if you don't have one).</li>
<li>Team working and recycling old assets are allowed.</li>
</ul>
<blockquote>
<p>Submissions open to August 1st 2020.</p>
<p>It can be RPG, strategic, arcade or else; multi or solo. What you want.
Just try to include a little bit of history and culture taste.
Don't be afraid, it is not ranked.</p>
</blockquote>
<p>Also, participants are encouraged to
<a href="https://itch.io/jam/legion-jam-rustlang/community">document the development process at the event's forum</a>.</p>
<h2 id="game-updates">Game Updates&nbsp;
</h2>
<h3 id="way-of-rhea"><a href="https://www.anthropicstudios.com/way-of-rhea">Way of Rhea</a>&nbsp;
</h3>
<p><a href="https://youtube.com/watch?v=eVrbZss_B3g"><img src="https://rust-gamedev.github.io/posts/newsletter-011/way-of-rhea.jpeg" alt="Way of Rhea Trailer"></a></p>
<p>^ <em>Click to see the latest version of the game's trailer</em></p>
<p><a href="https://www.anthropicstudios.com/way-of-rhea">Way of Rhea</a> (<a href="https://store.steampowered.com/app/1110620/Way_of_Rhea">steam</a>)
is an upcoming puzzle platformer that takes place in a world
where you can only interact with objects that match your current color.
It's being built in a custom engine, and custom scripting language both written
in Rust by <a href="https://twitter.com/masonremaley">Mason Remaley</a>. This month's updates:</p>
<ul>
<li>A demo was released as part of the
<a href="https://store.steampowered.com/sale/gamefestival">Steam Game Festival</a>!
The festival has since ended, so the demo is no longer available.</li>
<li><a href="https://twitter.com/masonremaley">@masonremaley</a> ran An AMA <a href="https://reddit.com/r/rust_gamedev/comments/hc7vex/i_just_released_a_demo">at /r/rust_gamedev</a>
and <a href="https://reddit.com/r/IndieDev/comments/hc7mf2/i_just_released_a_demo">/r/IndieDev</a> about the development of the game.</li>
<li>The studio hosted a <a href="https://steamcommunity.com/app/1110620/discussions/0/2569815696856844856">speedrun competition</a> as part
of the Steam festival, <a href="https://youtu.be/AmYU0TXc4Ls">here's the winning run</a>.</li>
<li>A colorblind friendly mode was added to the game,
and <a href="https://store.steampowered.com/newshub/app/1110620/view/2445966074565244552">a couple other changes</a> were made in response
to feedback from the festival.</li>
</ul>
<p>Follow development updates on <a href="https://twitter.com/anthropicst">the game's Twitter</a>
or <a href="https://www.anthropicstudios.com/newsletter/signup/tech">subscribe to its newsletter</a>.</p>
<h3 id="a-b-street-adjust-traffic-patterns-in-real-cities"><a href="https://abstreet.org/">A/B Street</a> - Adjust Traffic Patterns in Real Cities&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/abstreet-evaluating-impacts.gif" alt="Measuring the effects of changes"></p>
<p>^ <em>Measuring the effects of some changes</em></p>
<p><a href="https://abstreet.org/">A/B Street</a> is a traffic simulation game exploring how
small changes to roads affect cyclists, transit users, pedestrians, and drivers.</p>
<p>June highlights:</p>
<ul>
<li>Alpha release with a <a href="https://www.youtube.com/watch?v=LxPD4n_1-LU">trailer</a>, an excited reaction from
<a href="https://old.reddit.com/r/Seattle/comments/hdtucd/ab_street_think_you_can_fix_seattles_traffic/">r/seattle</a>, and some
<a href="https://www.thestranger.com/slog/2020/06/29/43999454/ab-streets-game-lets-you-create-the-seattle-street-grid-of-your-dreams">local press coverage</a></li>
<li>Support for parking lots, automatically inferring the number and position of
individual slots from OpenStreetMap geometry</li>
<li>Names of roads shown in-game, in a way that doesn't cause clutter with agents
moving nearby</li>
<li>Work starting on light rail and restricting through-traffic to zones</li>
</ul>
<p>A/B Street uses a <a href="https://github.com/dabreegster/abstreet/tree/master/ezgui/">custom GUI library</a>, leveraging <code>glium</code>, <code>usvg</code>, and
<code>lyon</code>. Help with Rust and visual/game design is always welcome! Check out the
<a href="https://github.com/dabreegster/abstreet/blob/master/docs/roadmap.md">roadmap</a> and <a href="https://github.com/dabreegster/abstreet/issues?q=is%3Aopen+is%3Aissue+label%3A%22good+first+issue%22">good first issues</a>.</p>
<h3 id="crate-before-attack"><a href="https://cratebeforeattack.com/">Crate Before Attack</a>&nbsp;
</h3>
<p><a href="https://youtu.be/LLAc9_cOR9o"><img src="https://rust-gamedev.github.io/posts/newsletter-011/crate_before_attack.gif" alt="In-game visual scripting prototype"></a></p>
<p>^ <em>In-game visual scripting prototype</em></p>
<p><a href="https://cratebeforeattack.com/">Crate Before Attack</a> by <a href="https://twitter.com/CrateAttack">koalefant (@CrateAttack)</a>
is a skill-based grappling hook multiplayer game where frogs combat their friends
while navigating the landscape with their sticky tongues.</p>
<p>A summary of recent changes:</p>
<ul>
<li>Visuals: added two new artist-painted levels:
<a href="https://youtu.be/IOmD1LRJ6NA">Space</a>
and <a href="https://youtu.be/UgIBNolI7Wo">Dinosaurs</a>.</li>
<li>Gameplay: <a href="https://youtu.be/IUBZgusI7aI">AI can now play all game modes</a>,
added Quick Game option,</li>
<li>In-game <a href="https://youtu.be/LLAc9_cOR9o">visual scripting prototype</a>.</li>
<li>Physics tweaks and <a href="https://youtu.be/r5BAe03MRZo">improved terrain normal sampling</a></li>
<li>Multiplayer: added in-game chat, private matches with secret links,
improved game setup UI. Numerous bugfixes and tweaks</li>
<li><a href="https://cratebeforeattack.com/play">Playable Browser build</a>.</li>
</ul>
<p>More details in <a href="https://cratebeforeattack.com/posts/20200630-june-update/">June Update DevLog-entry</a>
and on <a href="https://youtube.com/channel/UC_xMilPTLuuE5iLs1Ml9zow">the YouTube channel</a>.</p>
<h3 id="garden-june-devlog"><a href="https://epcc.itch.io/garden">Garden</a>: June Devlog&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/garden.jpeg" alt="screenshot: concrete &amp; trees"></p>
<p><a href="https://epcc.itch.io/garden">Garden</a> is an upcoming game centered around growing realistic plants.
Some of the updates from <a href="https://cyberplant.xyz/posts/june">the June devlog</a>:</p>
<ul>
<li>Soil collision detection &amp; changes to the soil column generation.</li>
<li>Plant sim &amp; terrain updates happen at different times &amp; separately.</li>
<li>Proper Global Illumination research.</li>
<li>Automatic in-game texture reloading.</li>
</ul>
<h3 id="veloren"><a href="https://veloren.net/">Veloren</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren-wolf.gif" alt="Animation improvements"></p>
<p>^ <em>Animation improvements</em></p>
<p><a href="https://veloren.net/">Veloren</a> is an open world, open-source voxel RPG inspired by Dwarf
Fortress and Cube World.</p>
<p>In June, Veloren did a big interview with GamingOnLinux, be sure to <a href="https://www.gamingonlinux.com/2020/06/interviewed-veloren-an-upcoming-foss-multiplayer-voxel-rpg">check it
out</a>! Veloren's lead artist also started a weekly blog
about his work on Veloren, which you can see <a href="https://www.patreon.com/posts/weekly-blog-no-1-37819335">here</a>. Veloren recently
reached the <a href="https://gitlab.com/explore/projects/starred">first page</a> of most starred projects on Gitlab! The
<a href="https://www.youtube.com/channel/UCmRjlnKnSRRihWPPNasl_Qw">Veloren Youtube channel</a> also reached 1000
subscribers.</p>
<p>A lot has been done over the last month towards 0.7, which is slated to release
at the beginning of August. Lots of work has been done improving UI and
animations. These will help towards the goal of 0.7 being the "progression"
update. Many improvements have been made to the continuous integration system to
make it more reliable and faster. Mac support was added to Airshipper, the
Veloren launcher. Significant work was done on the world simulation front. This
includes economic simulations that will represent trade and resource pricing in
settlements and cities. Castle generation is also now in the works.</p>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren2.jpeg" alt="Work on castle generation"></p>
<p>Test coverage and documentation has started to improve, and a workflow around it
is being developed. The project is now hosting a <a href="https://docs.veloren.net/veloren_voxygen/index.html">proper documentation
site</a> that is updated with each merge. A #ux working group was
created to facilitate discussions on improvements to player interactions in
Veloren. Lots of translations were merged, including Swedish, Polish, and
Brazilian Portugese. The skill system is moving on to implementation, being a
coordinated effort between the game design, art, and combat working groups.</p>
<p>You can read more about some specific topics from June:</p>
<ul>
<li><a href="https://veloren.net/devblog-70#mod-analysis-by-bottledbyte">Mod Analysis</a></li>
<li><a href="https://veloren.net/devblog-70#improving-ci-by-xmac94x">Improving CI</a></li>
<li><a href="https://veloren.net/devblog-72#economic-research-by-zesterer">Economic Research</a></li>
<li><a href="https://veloren.net/devblog-72#compilation-improvements-by-xmac94x">Compilation Improvements</a></li>
<li><a href="https://veloren.net/devblog-73#improving-test-coverage-by-angelonfira">Improving Test Coverage</a></li>
<li><a href="https://veloren.net/devblog-74#skill-system-work-by-xvar">Skill System Work</a></li>
<li><a href="https://veloren.net/devblog-74#animation-updates">Animation updates</a></li>
</ul>
<p>June's full weekly devlogs: "This Week In Veloren...":
<a href="https://veloren.net/devblog-70">#70</a>,
<a href="https://veloren.net/devblog-71">#71</a>,
<a href="https://veloren.net/devblog-72">#72</a>,
<a href="https://veloren.net/devblog-73">#73</a>,
<a href="https://veloren.net/devblog-74">#74</a>.</p>
<p>In July, work will be done to complete the progression systems. There will be
financial meetings held to discuss how funds from the project's Open Collective
will be distributed.</p>
<hr>
<p>Also, check out <a href="https://youtube.com/watch?v=aS26sqT09Pw">a talk about open source and Veloren</a>:</p>
<p><a href="https://youtube.com/watch?v=aS26sqT09Pw"><img src="https://rust-gamedev.github.io/posts/newsletter-011/veloren-talk.jpeg" alt="Veloren talk"></a></p>
<h3 id="zero-to-game"><a href="https://zerotoga.me/">Zero to Game</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/zerotogame-destruction.gif" alt="ships with greater thrust explode"></p>
<p>^ <em>The initial destruction prototype applied across different thrust levels</em></p>
<p><a href="https://zerotoga.me/">Zero to Game</a> is a project that documents
the creation of an independent space game from zero.</p>
<blockquote>
<p>My plan for this website is to narrate my independent development
of a computer game in the Rust programming language.
I've never done this before, and so I hope to be able to show you
the progression right from zero all the way up to a game.</p>
<ul>
<li>Zero game programming experience.</li>
<li>Zero experience in the Rust programming language.</li>
<li>Zero experience making assets, images, sounds, models, etcetera.</li>
</ul>
</blockquote>
<p>Currently published posts:</p>
<ul>
<li><a href="https://zerotoga.me/dev/findingzero">#1 "Finding Zero"</a>
- where the game development journey is beginning.</li>
<li><a href="https://zerotoga.me/dev/inspiringdesign">#2 "Inspiring Design"</a>
- how Factorio, Screeps, and Space Station 13 are inspiring the game's design.</li>
<li><a href="https://zerotoga.me/dev/pickingtechnology">#3 "Picking Technology"</a>
- researching a technology path for the game project to start out on.</li>
<li><a href="https://zerotoga.me/dev/leadingdesignchallenges">#4 "Leading Design Challenges"</a>
- the spacetime issues with combining gameplay inside and outside of spaceships.</li>
<li><a href="https://zerotoga.me/dev/fastspaceshipphysics">#5 "Fast Spaceship Physics"</a>
- prototyping a spaceship physics simulation aimed at speed.</li>
<li><a href="https://zerotoga.me/dev/physicaldestruction">#6 "Physical Destruction"</a>
- the structure and implementation of a spaceship destruction prototype.</li>
<li><a href="https://zerotoga.me/dev/renderinginrust">#7 "Rendering in Rust"</a>
- working through from tutorial code to meet the needs
of the game's first Rust scene render.</li>
</ul>
<h3 id="pont"><a href="https://pont.mattkeeter.com/">Pont</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/pont_screenshot.png" alt="Screenshot of the Pont board game"></p>
<p>Pont is a multiplayer online board game based on
<a href="https://en.wikipedia.org/wiki/Qwirkle">Qwirkle</a>, implemented by <a href="https://twitter.com/impraxical">Matt Keeter</a>.
Both the client and server are written in Rust,
using WebAssembly to run the client in the browser
without any Javascript (besides a small shim).</p>
<p>It can be played online <a href="https://pont.mattkeeter.com/">here</a>!</p>
<p>The system architecture is described in a <a href="https://mattkeeter.com/projects/pont">blog post</a>
and the source is available <a href="https://github.com/mkeeter/pont">on Github</a></p>
<p><em>Discussions:
<a href="https://www.reddit.com/r/rust/comments/gu1bq5/pont_a_board_game_in_rust_webassembly/">/r/rust</a>,
<a href="https://news.ycombinator.com/item?id=23649369">Hacker News</a></em></p>
<h3 id="scale"><a href="https://github.com/Uriopass/Scale">Scale</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/scale.png" alt="Scale screenshot"></p>
<p><a href="https://github.com/Uriopass/Scale">Scale</a>'s objective is to become a granular society simulation,
filled with fully autonomous agents interacting with their world in real time.</p>
<p>The 4th <a href="http://douady.paris/blog/scale_4.html">devlog</a> was published, talking about
the new renderer based on <a href="https://github.com/gfx-rs/wgpu-rs">wgpu-rs</a>, pathfinding, parking,
curved roads and a new crate extracted from the project called <a href="https://crates.io/crates/flat_spatial">flat_spatial</a>.</p>
<p><em>Discussions:
<a href="https://www.reddit.com/r/rust_gamedev/comments/henx2n/scale_devblog_4/">/r/rust_gamedev</a></em></p>
<h3 id="runner"><a href="https://github.com/jayrave/runner">runner</a>&nbsp;
</h3>
<p><a href="https://vimeo.com/428851779"><img src="https://rust-gamedev.github.io/posts/newsletter-011/runner_gameplay_sample.png" alt="Runner gameplay sample"></a></p>
<p><a href="https://github.com/jayrave/runner">runner</a> is a simple side-scrolling endless runner game that takes place in
a bright world that only has our fearless adventurer &amp; a few pesky beings
that are bent on keeping her from running! It uses <a href="https://github.com/amethyst/specs">specs</a> for <a href="https://en.wikipedia.org/wiki/Entity_component_system">ECS</a>
and has multiple frontends: <a href="https://github.com/Rust-SDL2/rust-sdl2">sdl2</a> &amp; <a href="https://github.com/ryanisaacg/quicksilver">quicksilver</a>.
Between the two frontends it can target the majority of the platforms:
Web, Mac, Linux, Windows (untested) &amp; possible even iOS &amp; Android.</p>
<h3 id="animal-chess"><a href="https://github.com/netcan/AnimalChess">Animal Chess</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/animal-chess.jpeg" alt="Part of the game map"></p>
<p>^ <em>Part of the game map</em></p>
<p><a href="https://github.com/netcan/AnimalChess">Animal Fight Chess</a> (ÊñóÂÖΩÊ£ã, "Doe Show Chee") by <a href="https://github.com/netcan">@netcan</a>
is a Rust implementation of a popular Chinese game.</p>
<p>To win the game, one player must successfully move any animal into
the Den(ÂÖΩÁ©¥) of the opponent or eat all animals of the opponent.
The basic move is just one space either forward, backward, left, or right.
The pieces never move diagonally.
Each player has eight pieces,
<a href="http://ancientchess.com/graphics-rules/dou_shou_qi_jungle_game-pieces-values.jpg">different animals with different degrees of power</a>,
a larger power piece can eat a little power piece, but rat can eat elephant.
Here's a picture of the pieces, their English names,
and relative powers indicated by a number.
See full rules at <a href="http://ancientchess.com/page/play-doushouqi.htm">ancientchess.com</a>
or <a href="https://en.wikipedia.org/wiki/Jungle_(board_game)">Wikipedia</a>.</p>
<p>The project uses alpha beta pruning algorithm for AI and provides
a python module to use AlphaZero algorithm for training.</p>
<h3 id="rs-type"><a href="https://github.com/akiross/rs-type">rs-type</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/rs-type.png" alt="screenshot: planets and words"></p>
<p><a href="https://github.com/akiross/rs-type">rs-type</a> is a WIP typing game
inspired by <a href="https://zty.pe/">zty.pe</a>.
It can load <a href="https://github.com/KDE/ktouch/tree/master/data/courses">KTouch courses</a>
and also has a built-in basic vector drawing tool for painting backgrounds.</p>
<h3 id="guacamole-runner"><a href="https://github.com/EllenNyan/guacamole-runner">Guacamole Runner</a>&nbsp;
</h3>
<p><img src="https://rust-gamedev.github.io/posts/newsletter-011/guacamole.gif" alt="gif"></p>
<p><a href="https://github.com/EllenNyan/guacamole-runner">Guacamole Runner</a> is a small game made with
<a href="https://github.com/17cupsofcoffee/Tetra">Tetra</a> and <a href="https://github.com/leudz/shipyard">Shipyard</a> in approximately 2 days
by <a href="https://twitter.com/EllenNyan0214">@EllenNyan</a>.
The game's concept is that the player is constantly falling
and must jump off planes to stay in the air.
When they go over the top of the dirt tiles
they plant flowers which gives them points.</p>
<h3 id="wooting-snake"><a href="https://github.com/TanTanDev/wooting_snake">Wooting Snake</a>&nbsp;</h3></div></article></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://rust-gamedev.github.io/posts/newsletter-011">https://rust-gamedev.github.io/posts/newsletter-011</a></em></p>]]>
            </description>
            <link>https://rust-gamedev.github.io/posts/newsletter-011</link>
            <guid isPermaLink="false">hacker-news-small-sites-23763075</guid>
            <pubDate>Tue, 07 Jul 2020 19:29:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pattern Matching, Racial Diversity and the Hypocrisy of Big Tech Media]]>
            </title>
            <description>
<![CDATA[
Score 130 | Comments 82 (<a href="https://news.ycombinator.com/item?id=23762876">thread link</a>) | @OoTheNigerian
<br/>
July 7, 2020 | https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/ | <a href="https://web.archive.org/web/*/https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<h2><em>It‚Äôs Time to Watch the Watchmen ‚Äì The Diversity Report of TechCrunch, Recode, The Information, Business Insider and Protocol.</em></h2>



<div><figure><img src="https://lh4.googleusercontent.com/QTSx6MgSrYd5pwZwobk89Xec66X0GkNbYOHlVXsLtIl7k72caVj3WcuYrYU5eWrBc_LqSI2hj7n9-Z-5crONenrK8bPF6nQjAbPYgsXtnAppymJwHTVpYzXR0OR6M7FcKGRnjhwV" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption><strong>The Big Dogs of Big Tech Media.</strong> <br>Clockwise from top left: Lessin of The Information, Swisher of Recode (Vox), Panzarino of TechCrunch, Shontell of Business Insider and Pierce of Protocol are Editors-in-Chief of the most influential tech publications in the world.</figcaption></figure></div>



<h2>Prelude</h2>



<p><em>I have been writing about </em><a href="https://oonwoye.com/2010/04/05/black-founders/"><em>Diversity in Tech for over a decade now</em></a><em> ‚Äì a long time. However, my self-published posts have never really got the audience it was targeted at, which is, the Silicon Valley Main Street. This time around, I wanted to do something different with regard to distribution.&nbsp;</em></p>



<p><em>Since I completed this post over two weeks ago, I‚Äôve hawked it as an Op-Ed to </em><strong><em>ALL</em></strong><em> main street US (Tech) media ‚Äì 22 of them. Sadly, but unsurprisingly and understandably, I‚Äôve had no takers. It is a big request to ask anyone, including journalists, to give a dissenting voice an audience, so I have decided to self-publish again, but this time around, I hope the primary intended audience gets to see it and the conversation happens. <strong>Abeg (please), share it</strong> as you wish me luck holding these very powerful people to account.</em></p>



<h2>Introduction</h2>



<p>No thanks to the brutal execution of George Floyd and more importantly, thanks to the persistence of protesters, the conversation about institutional racism in various parts of American life is back to the fore and has been sustained. The tech industry has not been exempted.</p>



<p>As with previous cycles, it has cast blame towards the typical suspects: Big Tech and Venture Capital. And as with previous conversation cycles, one key player in the diversity deficient tech world is wriggling away unscathed, yet again. Silicon Valley Big Tech Media.</p>



<h2>Pattern Matching in Tech</h2>



<p><em>Pattern matching</em> is a colloquial terminology in the tech industry that refers to the propensity for established players in tech e.g. Venture Capitalists, taking superficial patterns of successful founders (young white boys who have dropped out of Stanford or Harvard) and using them to determine future investment decisions.</p>



<blockquote><p>‚ÄúI can be tricked by anyone who looks like Mark Zuckerberg‚Äù</p><cite><em>Paul Graham (According to The New York Times)</em></cite></blockquote>



<p>Though <a href="http://www.paulgraham.com/tricked.html">eventually clarified by Paul Graham</a>, that attributed quote articulately captures the spirit of Pattern Matching. Since how one ‚Äúlooks‚Äù is one of the obvious patterns one can observe in a human, it is believed that pattern matching disproportionally affects ‚Äúpeople of colour‚Äù (why do we use this term?).</p>



<p>I have no problem with pattern matching. In psychology it is known as <a href="https://en.wikipedia.org/wiki/Pattern_recognition_(psychology)">pattern recognition</a>, which is natural and critical for survival. It is how human beings recognise things and make vital decisions quickly, with little data.</p>



<p>My first memory of Pattern Matching was while playing football (the real one) as a kid. The guys with the bow-legged swagger, wearing boots and a shin guard were always picked first. It was almost automatic because they looked like talented footballers. And that‚Äôs how I learned to pick my teams. After missing out on some straight legged barefoot talents and picking several kitted-out clowns, I adjusted and used more sensible parameters.</p>



<p>I learned something from that though: Pattern matching is all well and good until it receives contradicting data. It‚Äôs all about the data.</p>



<h2>The Role of Big Tech Media in Pattern Matching</h2>



<p>In the past decade, Big Tech Media has rightfully shone the light on racial inequality in the ranks of Big Corporations and Venture Capital in the tech industry. The Diversity Reports ‚Äî as they are known, of Big Tech and VC have been published routinely.</p>



<p>The media are very powerful. It is through them we learn and understand the world beyond ourselves. Their importance and power in shaping opinions cannot be overstated as they are very key in providing the data which influences patterns that lead to decisions.&nbsp;</p>



<p>In Tech, when it comes to personnel, a lot of that data comes in the form of presence. The Big Tech Media controls it all via narrative and coverage in their publications and mega conferences. It is through the media that every player ‚Äì VCs, Tech Executives, Founders etc learn about the tech world that exists outside of their immediate spheres.</p>



<p>However, when it comes to the diversity in tech debate, I wonder: how have Big Tech Media, the primary opinion shapers of the tech industry, escaped any scrutiny? Then it hit me: when you are busy pointing your torch at others, you forget to point it at yourself.</p>



<p>Since Big Tech Media remains a critical piece if we are to rejig the data to alter diversity-deficient patterns in tech, it‚Äôs high-time we shone the light on Big Tech Media.</p>



<p><em>[RANDOM: Watching the film </em><a href="https://www.imdb.com/title/tt4846340/"><em>Hidden Figures</em></a><em> made me almost cry. I had </em><strong><em>absolutely no idea</em></strong><em> that in the 60s, there were Black women mathematicians and programmers who were good enough to work for the NASA Space Program. Imagine if this was always common knowledge. I can only imagine how many more black folks it would have influenced to take up a career in Computer Science and Technology].</em></p>



<h2>Diversity Report of (Silicon Valley) Big Tech Media</h2>



<p>In 2015, I looked at <a href="https://oonwoye.com/2015/10/15/where-are-the-black-tech-foundersexecutive-speakers-at-major-tech-conferences/">the racial makeup of the largest tech conferences in the world</a>. The results were damning. I wondered how these organisers could be so oblivious. It then occurred to me to check out the people making these decisions, and it was clear why they were colour blind; they didn‚Äôt have the right ‚Äòlenses‚Äô i.e., makeup of the editorial/media team, to notice the absence of certain colours.</p>



<p>In this report card, I will look at the racial diversity makeup of both speaker line-ups and the editorial teams of Big Tech Media ‚Äì who are mostly in Silicon Valley, and contrast their 2015 with today.</p>



<h2>The Candidates</h2>



<h3><strong>TechCrunch</strong></h3>



<p>TechCrunch, owned by AOL/Verizon has been the Big Dog of tech startup chronicling and commentary since 2005. More so, they host arguably the largest and most influential startup conference called Disrupt. I have followed TechCrunch since 2007 and experienced the startup evolution through them.</p>



<h3><strong>Recode</strong></h3>



<p>In the past decade, Recode has evolved from being All Things Digital at WSJ to being Independent to now being a unit at Vox Media. One constant throughout its evolution has been the very formidable Kara Swisher, who is arguably the single most influential person in Big Tech Media.&nbsp;</p>



<h3><strong>The Information</strong></h3>



<p>This subscription-based tech publication is high up the list in shaping opinion among Venture Capitalists in Silicon Valley. It was started by Jessica Lessin who is a formidable reporter and an Alumnus of WSJ. They have a <a href="https://www.theinformation.com/vc-diversity-index">VC Diversity Index</a>.&nbsp;</p>



<h3><strong>Business Insider</strong></h3>



<p>Based in New York and founded by the great Henry Blodget, Business Insider is a top 3 tech voice in the tech industry.</p>



<h3><strong>Protocol</strong></h3>



<p>Backed by a bunch of heavyweights, this publication launched this year with a lot of panache.&nbsp;</p>



<p>How well have they done?</p>



<h2>Racial Diversity Report Card of Major US/Silicon Valley Tech Media</h2>



<figure><img src="https://lh4.googleusercontent.com/Zd5PvX7kGrFnUadYJgep593NbaDVe1T6PYMlXsDtanuGqwQyV7qBIsH9SUo8e2vdWelOEfqmzDYcv8VyV-U909zgRSOcL3c2J7QQgNrsEr5CQbZ3zh6iNZdeuXbYdHwXDqIa8pzG" alt="" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><figcaption>The diversity report of Big Tech Media</figcaption></figure>



<p><a href="https://docs.google.com/spreadsheets/d/1l6Bmj3M1sgqCR3PijCsyoYF5OrovGUDFEEujYSItZb0/edit?usp=sharing">Here is the data for this table</a> in spreadsheet format and links to sources.</p>







<p>It is good to highlight problems but better to proffer solutions. But first, do these people recognise that there is a problem? Do they want to solve it?&nbsp;</p>



<p>In 2015 when I wrote my previous post, I had the impression some did. In my <a href="https://twitter.com/OoTheNigerian/status/738076047539896321">Twitter engagement with Kara Swisher</a> after my first post, Aunty Kara gave the patronising response by referencing ‚Äúthe adept use of social media‚Äù as a representation of Black in Tech, I offered to engage privately (I threw in my<a href="https://twitter.com/OoTheNigerian/status/802151006754795520"> beer diplomacy</a> for good measure). It came to nought.</p>



<p><em>[Shalaye (Explanation): Aunty Kara took me up on the offer. As agreed, I reached out on 3 subsequent trips to the US and Silicon Valley. After sending about half a dozen emails, initially replied with excuses, Kara went cold and stopped responding. She is not the first Silicon Valley person whose Twitter (public) position contrasts with their private ones, so I haven‚Äôt taken it personally. I‚Äôd be more than happy to grab that beer if she‚Äôs open to it]</em></p>



<p>If Big Tech companies especially the media wish to change things, they have to first stop being colour-blind and get competent people who have eyes for the blind spots. A deliberate, sincere effort will yield good fruit.</p>



<p><strong>If you are a privileged person in the tech industry who wants to be a true ‚Äúally‚Äù and see things improve, here are some actionable things to do:&nbsp;</strong></p>



<ol><li>If you are on yet another panel and you notice the absence of accomplished Black tech players, speak up. Make recommendations. I am happy for you to ask me if your black network isn‚Äôt that vast. See Appendix (<strong>Note:</strong> Black folks have great competence about things outside the diversity topic).</li><li>If you are a VC and you are in on a good deal, try to work with the founder and carve out an allocation for those good black investors that aren‚Äôt as opportune to have your network. We all know the deal flow is the <em>koko (main thing).</em> If you want to help, share the deal.</li><li>If you are recruiting for a senior role in your executive team or board, you can take a book from the NFL beyond Colin Kaepernick‚Äôs brave kneeling protest; the <a href="https://en.wikipedia.org/wiki/Rooney_Rule">Rooney Rule</a>. Just make sure you have a qualified black person in your interview shortlist. That‚Äôs not too much of an ask.&nbsp;</li></ol>



<p>I wrote in an email to my white founder friend recently: <em>I see many organisations ‚Äúfighting‚Äù systemic racism by opening their cheque books. A donation here, a freebie there. It makes them feel good, perhaps. It‚Äôs like a retweet but with money.</em></p>



<p>So, decide if you want to show concern or effect change. I prefer both.</p>







<ol><li>Every company (including Big Tech Media) has the prerogative to invite or cover anyone they like. However, the proprietors of Tech Media cannot play watchmen and feign concern about the diversity in tech debate while their actions are in direct contrast.</li><li>In this post, I focused on these ‚Ä¶</li></ol></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/">https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/</a></em></p>]]>
            </description>
            <link>https://oonwoye.com/2020/07/06/diversity-and-big-tech-media/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762876</guid>
            <pubDate>Tue, 07 Jul 2020 19:08:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Analysis of all YouTube trending videos in US for 2019]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 38 (<a href="https://news.ycombinator.com/item?id=23762180">thread link</a>) | @ammar_x
<br/>
July 7, 2020 | https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us | <a href="https://web.archive.org/web/*/https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-cover.png"></p>

<p>Around 1.5 years ago, I did an <a href="https://www.kaggle.com/ammar111/youtube-trending-videos-analysis">analysis of YouTube trending videos</a> in US. That analysis was performed on trending videos of some months in 2017 and 2018. The analysis received a lot of interest on <a href="https://www.kaggle.com/ammar111/youtube-trending-videos-analysis">Kaggle</a> and <a href="https://www.reddit.com/r/datascience/comments/9kpmcn/i_analyzed_more_than_40000_youtube_trending/">Reddit</a>; I also received some emails praising the work done. That was 1.5 years ago.</p>

<p><strong>Today</strong>, I present an improved and expanded version of that analysis. This analysis is more advanced and contains new interesting elements. In this analysis, <strong>All trending videos for the whole year of 2019</strong> were analyzed (More than <strong>70,000</strong> videos).</p>

<p>Titles, descriptions, thumbnails, tags, views, likes/dislikes, and comments were all analyzed to produce the results shown in this post. Continue reading to know more about the analysis and the data or you can <a href="#analysis-res">jump directly to the results section</a>.</p>

<ul id="markdown-toc">
  <li><a href="#what-are-youtube-trending-videos" id="markdown-toc-what-are-youtube-trending-videos">What are YouTube Trending Videos?</a></li>
  <li><a href="#goals-of-the-analysis" id="markdown-toc-goals-of-the-analysis">Goals of the Analysis</a></li>
  <li><a href="#tools-used" id="markdown-toc-tools-used">Tools Used</a>    <ul>
      <li><a href="#code-used" id="markdown-toc-code-used">Code Used</a></li>
    </ul>
  </li>
  <li><a href="#data-source" id="markdown-toc-data-source">Data Source</a></li>
  <li><a href="#data-size-and-description" id="markdown-toc-data-size-and-description">Data Size and Description</a></li>
  <li><a href="#analysis-results" id="markdown-toc-analysis-results">Analysis Results</a>    <ul>
      <li><a href="#trending-videos-and-views" id="markdown-toc-trending-videos-and-views">Trending Videos and Views</a>        <ul>
          <li><a href="#how-many-views-videos-had-when-they-first-became-trending" id="markdown-toc-how-many-views-videos-had-when-they-first-became-trending">How Many Views Videos Had When they First Became Trending?</a></li>
        </ul>
      </li>
      <li><a href="#trending-for-30-days" id="markdown-toc-trending-for-30-days">Trending for 30 days!</a></li>
      <li><a href="#trending-videos-titles" id="markdown-toc-trending-videos-titles">Trending Videos Titles</a>        <ul>
          <li><a href="#number-of-fully-uppercase-words-in-titles" id="markdown-toc-number-of-fully-uppercase-words-in-titles">Number of Fully-Uppercase Words in Titles</a></li>
          <li><a href="#what-are-the-most-common-words-in-video-titles" id="markdown-toc-what-are-the-most-common-words-in-video-titles">What are the Most Common Words in Video Titles?</a></li>
          <li><a href="#what-are-the-most-common-2-grams-in-video-titles" id="markdown-toc-what-are-the-most-common-2-grams-in-video-titles">What are the Most Common 2-Grams in Video Titles?</a></li>
          <li><a href="#titles-lengths" id="markdown-toc-titles-lengths">Titles Lengths</a></li>
        </ul>
      </li>
      <li><a href="#trending-channels" id="markdown-toc-trending-channels">Trending Channels</a></li>
      <li><a href="#trending-videos-categories" id="markdown-toc-trending-videos-categories">Trending Videos Categories</a></li>
      <li><a href="#when-were-trending-videos-published" id="markdown-toc-when-were-trending-videos-published">When were Trending Videos Published?</a></li>
      <li><a href="#trending-videos-and-comments" id="markdown-toc-trending-videos-and-comments">Trending Videos and Comments</a>        <ul>
          <li><a href="#how-many-comments-videos-had-when-they-first-became-trending" id="markdown-toc-how-many-comments-videos-had-when-they-first-became-trending">How Many Comments Videos Had When they First Became Trending?</a></li>
        </ul>
      </li>
      <li><a href="#trending-videos-and-likes-and-dislikes" id="markdown-toc-trending-videos-and-likes-and-dislikes">Trending Videos and Likes.. and Dislikes</a></li>
      <li><a href="#how-long-does-it-take-a-video-to-become-trending" id="markdown-toc-how-long-does-it-take-a-video-to-become-trending">How Long Does it Take a Video to Become Trending?</a></li>
      <li><a href="#trending-videos-descriptions" id="markdown-toc-trending-videos-descriptions">Trending Videos Descriptions</a>        <ul>
          <li><a href="#how-long-is-the-description" id="markdown-toc-how-long-is-the-description">How Long is the Description?</a></li>
          <li><a href="#most-common-words-in-trending-videos-descriptions" id="markdown-toc-most-common-words-in-trending-videos-descriptions">Most Common Words in Trending Videos Descriptions</a></li>
          <li><a href="#does-trending-videos-descriptions-contain-hashtags" id="markdown-toc-does-trending-videos-descriptions-contain-hashtags">Does Trending Videos Descriptions Contain Hashtags?</a></li>
        </ul>
      </li>
      <li><a href="#trending-videos-tags" id="markdown-toc-trending-videos-tags">Trending Videos Tags</a>        <ul>
          <li><a href="#most-common-words-in-trending-videos-tags" id="markdown-toc-most-common-words-in-trending-videos-tags">Most Common Words in Trending Videos Tags</a></li>
        </ul>
      </li>
      <li><a href="#correlations-of-trending-videos" id="markdown-toc-correlations-of-trending-videos">Correlations of Trending Videos</a></li>
      <li><a href="#what-are-the-most-used-colors-in-trending-videos-thumbnails" id="markdown-toc-what-are-the-most-used-colors-in-trending-videos-thumbnails">What are the Most Used Colors in Trending Videos Thumbnails?</a></li>
      <li><a href="#whats-inside-trending-videos-thumbnails" id="markdown-toc-whats-inside-trending-videos-thumbnails">What‚Äôs Inside Trending Videos Thumbnails?</a></li>
      <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
    </ul>
  </li>
</ul>
<h2 id="what-are-youtube-trending-videos">What are YouTube Trending Videos?</h2>

<p>YouTube, as you know, is the most popular and most used video platform in the world today. YouTube has <a href="https://www.youtube.com/feed/trending">a list of <strong>trending videos</strong></a>. I‚Äôll quote the description of trending videos from <a href="https://support.google.com/youtube/answer/7239739?hl=en">YouTube itself</a>:</p>

<blockquote>
  <p>Trending helps viewers see what‚Äôs happening on YouTube and in the world. Trending aims to surface videos that a wide range of viewers would find interesting. Some trends are predictable, like a new song from a popular artist or a new movie trailer. Others are surprising, like a viral video. Trending isn‚Äôt personalized and displays the same list of trending videos in each country to all users.</p>

  <p>The list of trending videos is updated roughly every 15 minutes. With each update, videos may move up, down, or stay in the same position in the list.</p>
</blockquote>

<h2 id="goals-of-the-analysis">Goals of the Analysis</h2>

<p>The main goal of the analysis is to find interesting facts and patterns by exploring the data and by using effective visualizations.</p>

<p>Some of the questions the analysis will answer:</p>

<ul>
  <li>What is the average/minimum/maximum view count for 2019‚Äôs trending videos?</li>
  <li>Which videos appeared on the trending list the most (because some videos might appear on the trending list for more than one day)?</li>
  <li>What are the most common words in the titles/descriptions/tags of trending videos?</li>
  <li>What are the title lengths of the trending videos? What is the average/minimum/maximum title length?</li>
  <li>Which channels have more trending videos than others?</li>
  <li>What are the top categories of trending videos? Are ‚ÄúEntertainment‚Äù videos more trending than ‚ÄúGaming‚Äù videos?</li>
  <li>How many views/comments/likes trending videos have when first appearing on the trending list?</li>
  <li>How many days are between publishing a video and its first appearance on the trending list?</li>
  <li>How long are the descriptions/tags of trending videos?</li>
  <li>What are the most used colors in the thumbnails of trending videos?</li>
  <li>What are the most common objects in the thumbnails of trending videos? (Running AI object detection algorithm on all thumbnails)</li>
</ul>

<p>The analysis covers much more topics as you will see soon.</p>



<p>This analysis was performed using Python and a powerful group of Python libraries including Pandas, Matplotlib, NLTK, ImageAI, WordCloud, and more.</p>

<p>The analysis were performed in a Jupyter Notebook.</p>

<h3 id="code-used">Code Used</h3>

<p>You can find all the code used for this analysis in a Jupyter notebook <a href="https://github.com/ammar1y/YouTube-Trending-Videos-Analysis-2019">on this link</a>. Feel free to read the code and re-use it however you want. Also note that the notebook contains more analyses than the ones shown here in this post, so if you want to see everything, refer to the notebook after you finish reading this post.</p>

<h2 id="data-source">Data Source</h2>

<p>The data used in this analysis was retrieved using YouTube API. A script was scheduled to run <strong>each day throughout 2019 and fetch data from YouTube API about the trending videos of that day</strong>. The script would then process the data received from YouTube and store them in text files.</p>

<p>The scraping script is not my work. It can be found on Github: <a href="https://github.com/mitchelljy/Trending-YouTube-Scraper"> Trending-YouTube-Scraper</a>. I put the script on a AWS EC2 instance and scheduled it‚Äîusing Crontab‚Äîto run every day at a specific time.</p>

<p>After 2019 ended, I connected to the AWS instance using FileZilla application and downloaded all the data produced by the script. There was a file for each day of 2019. To perform the analysis, I needed to process the data in order to merge the files into a single CSV file.</p>

<p>If you want to <strong>download the data used in this analysis</strong> which describes 2019's trending videos in the United States, you can buy it securely on Gumroad <u><strong><a href="https://gum.co/qEzKK" target="_blank">on this link</a></strong></u> or by using the button below. Along with United States, you'll also get trending-videos data for United Kingdom, Canada, Denmark, Malaysia, Saudi Arabia, and other countries as well.</p>

<h2 id="data-size-and-description">Data Size and Description</h2>

<p><strong>In this post, United-States trending videos will be analyzed</strong>, which constitute a total of <strong>72,994</strong> videos. YouTube usually place 200 videos in the trending list each day which would mean that we should have 73,000 (365 x 200) videos. We have 72,994. This is probably because on a few days, the number of Trending videos was slightly less than 200.</p>

<p>So we have data on 72,994 trending videos to analyze. On YouTube, <strong>the same video might appear on the trending list for many days. This means that the 72,994 videos are not unique videos</strong>. In fact, among the 72,994 videos, <strong>we have 11,177 unique videos</strong>.</p>

<p>In other words, 11,177 videos showed on the trending list throughout 2019. Some of them might have stayed on the list for 10 days, some for 20 days, etc. We will see later in the analysis more info about this.</p>

<p>The following table shows an example of <strong>the data that we have for each video</strong>:</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-data.png" alt=""></p>

<p><br>
As we can see, we have the ID of the video which is a unique value for the video across YouTube (No two videos have the same ID). We also have the title of the video, its publishing date and time, the channel that published it, its category, and its description and tags. We also have the number of the views, likes, dislikes, and comments of the video. There are also a few more data shown in the table.</p>

<p>We can see that there is a field named ‚Äútrending_date‚Äù. This field specifies the date on which this video was trending. As we said earlier, the same video might appear on the trending-videos list for more than one day. This means that we might find another record in the data for the same video ID but with different ‚Äútrending_date‚Äù and maybe different number of views, comments, likes, etc. (because those numbers are likely to increase from one day to another).</p>



<h2 id="analysis-results">Analysis Results</h2>

<p>Now let‚Äôs start the best part of this post, let‚Äôs see the analysis results.</p>

<p><span id="note-uniq"></span><strong>Please note</strong> that for the following analyses, <strong>unless otherwise stated</strong>, we applied the analysis on all of the <strong>72,994</strong> trending videos, <strong>not</strong> on the unique trending videos only. The reasoning behind this is that we are interested in videos considered trending by YouTube. So if a video is considered trending for 3 days, then we believe that it has more trending power and more trending characteristics than a video that was trending for 1 day only; thus, it should have more weight. So <strong>we include the 3 occurrences of that video in the analysis</strong>.</p>

<p>For some analyses, considering only unique videos is more appropriate. When that is the case, you will see a note telling you about that.</p>

<h3 id="trending-videos-and-views">Trending Videos and Views</h3>

<p><strong>The Trending Video with the Highest Number of Views</strong> is a song by BTS band named ‚ÄúBoy With Luv‚Äù. The video was published on 12/April/2019 and on 23/04/2019, it appeared on the trending list with 195,376,667 views which is the highest number of views a trending video had in 2019.</p>

<p>In the table below, you can see <strong>the top 3 trending videos based on the number of views</strong>. These trending videos had views when they appeared on the trending list more than any other trending video. This table was produced by considering unique trending videos only (<a href="#note-uniq">For more</a>).</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-top-views.png" alt=""></p>



<p>And now we will look at the distribution of views for trending videos. The histogram below shows this distribution:</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-view-dist.png" alt=""></p>



<p><em>Notice that the y-axis is <a href="https://www.mathsisfun.com/definitions/logarithmic-scale.html">log scaled</a>. It is 10, 100, 1000‚Ä¶ not 10, 20, 30‚Ä¶</em></p>

<p>We can see that the vast majority of trending videos had less than 20 million views when they became trending. In fact, when they became trending, around <strong>94% of trending videos had less than 10 million views</strong> and around 99.9% had less than 100 million views.</p>

<p>Now, we might ask: <strong>What are the trending videos with the least amount of views?</strong> The table below shows the 3 trending videos with the lowest number of views when appearing on the trending list. This table was produced by considering unique trending videos only (<a href="#note-uniq">For more</a>).</p>



<p><img src="https://ammar-alyousfi.com/assets/images/2020/yta2-least-views.png" alt=""></p>



<p>You can see that these three videos appeared on the trending list on the same day they were published on. Maybe they received a high number of views in the first few hours after they were published which sent them to the trending list.</p>

<h4 id="how-many-views-videos-had-when-they-first-became-trending">How Many Views Videos Had When they First Became Trending?</h4>

<p>We mentioned earlier that there were many videos that appeared on the trending list on more than one day. We now want to consider the first appearance only of each video. We ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us">https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us</a></em></p>]]>
            </description>
            <link>https://ammar-alyousfi.com/2020/youtube-trending-videos-analysis-2019-us</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762180</guid>
            <pubDate>Tue, 07 Jul 2020 18:07:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Dune: The Battle for Arrakis ‚Äì Extended Reference (2003)]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 96 (<a href="https://news.ycombinator.com/item?id=23762027">thread link</a>) | @tosh
<br/>
July 7, 2020 | http://ledmeister.com/dunexref.htm | <a href="https://web.archive.org/web/*/http://ledmeister.com/dunexref.htm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://ledmeister.com/dunexref.htm</link>
            <guid isPermaLink="false">hacker-news-small-sites-23762027</guid>
            <pubDate>Tue, 07 Jul 2020 17:54:36 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Common Lisp style guide]]>
            </title>
            <description>
<![CDATA[
Score 188 | Comments 86 (<a href="https://news.ycombinator.com/item?id=23761346">thread link</a>) | @fanf2
<br/>
July 7, 2020 | https://google.github.io/styleguide/lispguide.xml | <a href="https://web.archive.org/web/*/https://google.github.io/styleguide/lispguide.xml">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div title="Google Common Lisp Style Guide">


<p>

Revision 1.28
</p>


<address>
Robert Brown
</address>
<address>
  <a href="mailto:tunes@google.com">Fran√É¬ßois-Ren√É¬© Rideau</a>
</address>

<address>
   In memoriam Dan Weinreb
</address>

<p>
<cite>Patterns mean "I have run out of language."</cite> √¢‚Ç¨‚Äù Rich Hickey
</p>


<overview>
<category title="Important Note">
  <stylepoint title="Note: Displaying Hidden Details in this Guide">
     <summary>
       This style guide contains many details
       that are initially hidden from view.
       They are marked by the triangle icon, which you see here on your left.
       Click it now. You should see "Hooray" appear below.
     </summary>
     
       <p>
        Hooray!  Now you know you can expand points to get more details.
        Alternatively, there's an "expand all" at the top of this document.
       </p>
     
  </stylepoint>
</category>
<category title="Background">
  <p>
    Common Lisp is a powerful multiparadigm programming language.
    With great power comes great responsibility.
  </p>
  <p>
    This guide recommends formatting and stylistic choices
    designed to make your code easier for other people to understand.
    For those internal applications and free software libraries that
    we develop at Google,
    you should keep within these guidelines when making changes.
    Note however that each project has its own rules and customs
    that complement or override these general guidelines;
    the speed-oriented QPX low fare search engine notably
    has a very different style and feel from the QRes reservation system.
  </p>
  <p>
    If you're writing Common Lisp code outside Google,
    we invite you to consider these guidelines.
    You may find some of them useful
    where they don't conflict with other priorities you have.
    We welcome remarks and constructive feedback
    on how to improve our guide, and
    on what alternate styles work for you and why.
  </p>
  
  <p>
    This guide is not a Common Lisp tutorial.
    For basic information about the language, please consult
    <a href="http://www.gigamonkeys.com/book/">Practical Common Lisp</a>.
    For a language reference, please consult the
    <a href="http://www.lispworks.com/documentation/HyperSpec/Front/index.htm">Common Lisp HyperSpec</a>.
    For more detailed style guidance, take (with a pinch of salt)
    a look at Peter Norvig and Kent Pitman's
    <a href="http://norvig.com/luv-slides.ps">style guide</a>.
  </p>
</category>
</overview>
<category title="Meta-Guide">
  <stylepoint title="Must, Should, May, or Not">
    <summary>
      Each guideline's level of importance is indicated
      by use of the following keywords and phrases, adapted from
      <a href="https://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>.
    </summary>
    
      <table>
        <tbody><tr>
          <th>MUST</th>
          <td>
            <p>
              This word, or the terms "REQUIRED" or "SHALL",
              means that the guideline is an absolute requirement.
              You must ask permission to violate a MUST.
            </p>
          </td>
        </tr>
        <tr>
          <th>MUST NOT</th>
          <td>
            <p>
              This phrase, or the phrase "SHALL NOT",
              means that the guideline is an absolute prohibition.
              You must ask permission to violate a MUST NOT.
            </p>
          </td>
        </tr>
        <tr>
          <th>SHOULD</th>
          <td>
            <p>
              This word, or the adjective "RECOMMENDED", means that
              there may exist valid reasons in particular circumstances
              to ignore the demands of the guideline, but
              the full implications must be understood and carefully weighed
              before choosing a different course.
              You must ask forgiveness for violating a SHOULD.
            </p>
          </td>
        </tr>
        <tr>
          <th>SHOULD NOT</th>
          <td>
            <p>
              This phrase, or the phrase "NOT RECOMMENDED", means that
              there may exist valid reasons in particular circumstances
              to ignore the prohibitions of this guideline, but
              the full implications should be understood and carefully weighed
              before choosing a different course.
              You must ask forgiveness for violating a SHOULD NOT.
            </p>
          </td>
        </tr>
        <tr>
          <th>MAY</th>
          <td>
            <p>
              This word, or the adjective "OPTIONAL",
              means that an item is truly optional.
            </p>
          </td>
        </tr>
      </tbody></table>
      <p>
        Unlike RFCs, we don't capitalize every instance of one of the above
        keywords when it is used.
      </p>
    
  </stylepoint>
  <stylepoint title="Permission and Forgiveness">
    <summary>
      There are cases where transgression of some of these rules
      is useful or even necessary.
      In some cases, you must seek permission or obtain forgiveness
      from the proper people.
    </summary>
    
      <p>
        Permission comes from the owners of your project.
      </p>
      
      <p>
        Forgiveness is requested in a comment
        near the point of guideline violation,
        and is granted by your code reviewer.
        The original comment should be signed by you, and
        the reviewer should add a signed approval to the comment at review time.
      </p>
      
    
  </stylepoint>
  <stylepoint title="Conventions">
    <summary>
      You MUST follow conventions. They are not optional.
    </summary>
    
      <p>
        Some of these guidelines are motivated by universal principles of good programming.
        Some guidelines are motivated by technical peculiarities of Common Lisp.
        Some guidelines were once motivated by a technical reason,
        but the guideline remained after the reason subsided.
        Some guidelines, such those about as comments and indentation,
        are based purely on convention, rather than on clear technical merit.
        Whatever the case may be, you must still follow these guidelines,
        as well as other conventional guidelines
        that have not been formalized in this document.
      </p>
      <p>
        You MUST follow conventions.
        They are important for readability.
        When conventions are followed by default,
        violations of the convention are a signal
        that something notable is happening and deserves attention.
        When conventions are systematically violated,
        violations of the convention are a distracting noise
        that needs to be ignored.
      </p>
      <p>
        Conventional guidelines <em>are</em> indoctrination.
        Their purpose is to make you follow the mores of the community,
        
        so you can more effectively cooperate with existing members.
        It is still useful to distinguish the parts that are technically motivated
        from the parts that are mere conventions,
        so you know when best to defy conventions for good effect,
        and when not to fall into the pitfalls that the conventions are there to help avoid.
      </p>
    
  </stylepoint>
  <stylepoint title="Old Code">
    <summary>
      Fix old code as you go.
    </summary>
    
      <p>
        A lot of our code was written before these guidelines existed.
        You should fix violations as you encounter them
        in the course of your normal coding.
      </p>
      <p>
        You must not fix violations en masse
        without warning other developers and coordinating with them,
        so as not to make the merging of large branches
        more difficult than it already is.
      </p>
    
  </stylepoint>
  <stylepoint title="Future Topics">
    <summary>
      There are many topics for additional standardization
      not covered by current version of this document,
      but deferred to future versions.
    </summary>
    
      <ul>
        <li>
          File and directory structure
        </li>
        <li>
          Packages and modularity
        </li>
        <li>
          Threads and locking
        </li>
        <li>
          How to add configurable components
        </li>
        <li>
          CLOS style: initforms, slot and accessor names, etc.
        </li>
        <li>
          Recommendations on max number of slots per class.
        </li>
        <li>
          More concrete examples of good code:
          <ul>
            <li>
              exceptions
            </li>
            <li>
              transactions, with retry
            </li>
            <li>
              XML
            </li>
            <li>
              typing
            </li>
            <li>
              encapsulation / abstraction
            </li>
            <li>
              class and slot names
            </li>
            <li>
              etc.
            </li>
          </ul>
        </li>
        <li>
          When (not) to use conditional compilation:
          <ul>
            <li>
              modifying the product
            </li>
            <li>
              conditional debugging/console output/etc.
            </li>
            <li>
              "temporarily" commenting-out blocks of code
            </li>
            <li>
              etc.
            </li>
          </ul>
        </li>
      </ul>
    
  </stylepoint>
  </category>
<category title="General Guidelines">
  <stylepoint title="Principles">
    <summary>
      There are some basic principles for team software development
      that every developer must keep in mind.
      Whenever the detailed guidelines are inadequate, confusing or contradictory,
      refer back to these principles for guidance:
      <ul>
        <li>
          Every developer's code must be easy for another developer
          to read, understand, and modify
          √¢‚Ç¨‚Äù even if the first developer isn't around to explain it.
          (This is the "hit by a truck" principle.)
        </li>
        <li>
          Everybody's code should look the same.
          Ideally, there should be no way to look at lines of code
          and recognize it as "Fred's code" by its style.
        </li>
        <li>
          Be precise.
        </li>
        <li>
          Be concise.
        </li>
        <li>
          KISS √¢‚Ç¨‚Äù Keep It Simple, Stupid.
        </li>
        <li>
          Use the smallest hammer for the job.
        </li>
        <li>
          Use common sense.
        </li>
        <li>
          Keep related code together.
          Minimize the amount of jumping around
          someone has to do to understand an area of code.
        </li>
      </ul>
    </summary>
    
    
  </stylepoint>
  <stylepoint title="Priorities">
    <summary>
      <p>
        When making decisions about how to write a given piece of
        code, aim for the following -ilities in this priority order:
      </p>
      <ul>
        <li>
          Usability by the customer
        </li>
        <li>
          Debuggability/Testability
        </li>
        <li>
          Readability/Comprehensibility
        </li>
        <li>
          Extensibility/Modifiability
        </li>
        <li>
          Efficiency (of the Lisp code at runtime)
        </li>
      </ul>
    </summary>
    
      <p>
        Most of these are obvious.
      </p>
      <p>
        Usability by the customer means that the system has to do what the
        customer requires; it has to handle the customer's transaction
        volumes, uptime requirements; etc.
      </p>
      <p>
        For the Lisp efficiency point,
        given two options of equivalent complexity,
        pick the one that performs better.
        (This is often the same as the one that conses less,
        i.e. allocates less storage from the heap.)
      </p>
      <p>
        Given two options where one is more complex than the other,
        pick the simpler option and revisit the decision only if
        profiling shows it to be a performance bottleneck.
      </p>
      <p>
        However, avoid premature optimization.
        Don't add complexity to speed up something that runs rarely,
        since in the long run, it matters less whether such ‚Ä¶</p></stylepoint></category></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://google.github.io/styleguide/lispguide.xml">https://google.github.io/styleguide/lispguide.xml</a></em></p>]]>
            </description>
            <link>https://google.github.io/styleguide/lispguide.xml</link>
            <guid isPermaLink="false">hacker-news-small-sites-23761346</guid>
            <pubDate>Tue, 07 Jul 2020 17:07:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cyral launches data breach detection]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=23760892">thread link</a>) | @bpetrin
<br/>
July 7, 2020 | https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/ | <a href="https://web.archive.org/web/*/https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h3><em>New platform extends ‚ÄúZero Trust‚Äù to the data layer and accelerates customer adoption with more than 60 third-party cloud and data store native integrations</em></h3><p>Cyral, provider of the first cloud security platform for the data layer, today announced general availability of its data layer security platform.</p><p>‚ÄúCyral pioneered the concept of a security platform for the data layer and has closed scores of new customer trials and production deployments since announcing our funding in January 2020,‚Äù&nbsp; said Manav Mital, founder and CEO of Cyral. ‚ÄúThe new GA platform gives customers security directly at the data layer. It is cloud native, fast and light, and lets organizations install and deploy with one-click native integrations to the most popular enterprise tools without requiring changes to any applications.‚Äù</p><p>Cyral provides data layer security protection across an enterprise, providing immediate benefits for security, DevOps and IT and data governance teams.</p><p><strong>CISOs:</strong></p><ul><li>Enhance cloud security with granular data access policies;</li><li>Extend Zero Trust to the data layer;</li><li>Protect your organization from data breaches;</li><li>Increase trust with your customers and provide assurance.</li></ul><p><strong>IT &amp; Data Governance:</strong></p><ul><li>Simplify user management for databases and data warehouses;</li><li>Discover and enforce least privileges across all data endpoints;</li><li>Meet compliance requirements for data activity monitoring;</li><li>Continuous change management compliance through security as code.</li></ul><p><strong>Security Operations:</strong></p><ul><li>Use data layer context to respond to incidents faster and reduce alert fatigue;</li><li>Detect and prevent exfil attacks using advanced policies not possible elsewhere;</li><li>Alert on high-severity anomalies and analyze suspicious behavior patterns</li><li>Integrate with existing tools and leverage the MITRE ATT&amp;CK framework.</li></ul><p><strong>DevOps</strong></p><ul><li>Automate data security to provide security SLAs and enforce business policies;</li><li>Monitor resource usage, trace data flows and resolve issues with data layer visibility;</li><li>Use monitoring, management and orchestration tools of your choice;</li><li>Integrate into your CI/CD workflow to enable policies as code.</li></ul><p>As databases, pipelines and data warehouses move to the cloud, the concept of infrastructure as code is now the defacto model for most enterprises today. While proving a boon for productivity and agility, these changes also make it much harder for security and DevOps teams to keep track of their data, making it nearly impossible to know who has access to what data and what they are doing with it. Cyral provides DevOps and security teams unmatched visibility and control without any changes to their production applications.&nbsp;</p><p>‚ÄúAt Uplift, data is a key asset and its security is paramount, said Stu Kelly, CTO of Uplift. ‚ÄúFor us, a security solution must strike the right balance between agility and effectiveness. We needed efficient access controls that allow us to do more with our data while simultaneously eliminating risk and enabling teams to move forward with the greatest speed. With Cyral, we found a solution that does just that.‚Äù</p><p>Cyral‚Äôs GA security platform now supports native and seamless integration of more than <a aria-label="undefined (opens in a new tab)" href="http://cyral.com/integrations?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" rel="noreferrer noopener">60 leading enterprise software tools and datastores</a> broadly used among Global 2000 enterprises. Cyral‚Äôs pioneering data layer security <a href="http://cyral.com/platform?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">platform</a> has now been proven in production deployments across multiple major verticals.&nbsp;</p><p><a aria-label="undefined (opens in a new tab)" href="http://cyral.com/white-papers/cyral-product-brief?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target="_blank" rel="noreferrer noopener">Download the product brief</a> to learn more, and please visit <a href="http://cyral.com/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">www.cyral.com</a> to register.</p><p><a href="http://cyral.com/white-papers/cyral-product-brief?utm_campaign=ga072020&amp;utm_medium=pr&amp;utm_source=pr&amp;utm_content=&amp;utm_term=" target=""><span>Download the Product Brief</span><i></i></a></p><p><strong>About Cyral</strong></p><p><a href="http://cyral.com/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">Cyral</a> is the first cloud-native platform providing security as code for the modern data layer. DevOps and security teams get granular visibility and policy enforcement across all data endpoints for an unmatched unified view of any organization‚Äôs data layer activity.&nbsp; Cyral is venture-backed by Redpoint, A.Capital and Costanoa. Follow us at @cyralinc</p></div></div>]]>
            </description>
            <link>https://cyral.com/news/cloud-based-data-layer-security-startup-cyral-announces-general-availability-of-enterprise-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760892</guid>
            <pubDate>Tue, 07 Jul 2020 16:35:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Reclaim ‚Äì an adaptive calendar app that plans time for your routines]]>
            </title>
            <description>
<![CDATA[
Score 103 | Comments 41 (<a href="https://news.ycombinator.com/item?id=23760278">thread link</a>) | @Lightbody
<br/>
July 7, 2020 | https://reclaim.ai/daily-habits/ | <a href="https://web.archive.org/web/*/https://reclaim.ai/daily-habits/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
<!-- bloc-menu -->
<div id="bloc-menu">
	<div>
		<div>
			<div>
				<nav role="navigation">
					<a href="https://reclaim.ai/"><img src="https://reclaim.ai/img/Primary_FullColor.svg" alt="Reclaim"></a>
					
					
					
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- bloc-menu END -->

<!-- bloc-hero -->
<div id="bloc-hero">
	<div>
		<div>
			<div>
				<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/undraw_healthy_habit_bh5w.svg" alt="PersonalityIcon"></p>
				<h2>
					Habits is a better way to ensure you always get time during the week for the things you do most often.<p>In just a few steps, Reclaim will find and defend time on your calendar for anything you want to do regularly.
				</p></h2>
				<div>
					<p><a href="https://app.reclaim.ai/signup">Get started for free</a></p><p>
						* We may occasionally contact you with product-related updates when you sign up. No spam, we promise.
					</p>
				</div>
			</div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/undraw_healthy_habit_bh5w.svg" alt="PersonalityIcon">
			</p>
		</div>
	</div>
</div>
<!-- bloc-hero END -->

<!-- bloc-63 -->

<!-- bloc-63 END -->

<!-- bloc-get-instant-insights -->
<div id="bloc-get-instant-insights">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/HabitsList.svg" alt="Reclaim">
			</p>
			<div>
				<h2>
					<strong>Make time for work (and life)</strong>
				</h2>
				<p>
					With Habits, you can tell Reclaim things that you want to get done regularly, give a rough idea of when you want them to happen, and Reclaim finds the time to get them done.<br>
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-get-instant-insights END -->

<!-- bloc-rapidly-map-priorities -->
<div id="bloc-rapidly-map-priorities">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Reclaimv2.svg" alt="Habits">
			</p>
			<div>
				<h2>
					<strong>Keep your schedule agile</strong>
				</h2>
				<p>
					Habits aren‚Äôt just recurring events ‚Äî they‚Äôre intelligent, adaptive calendar events that automatically move and change status as your week changes.&nbsp;
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-rapidly-map-priorities END -->

<!-- bloc-identify-additional-time -->
<div id="bloc-identify-additional-time">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/HabitEdit.svg" alt="Tasks">
			</p>
			<div>
				<h2>
					<strong>Set rules for time defense</strong>
				</h2>
				<p>
					With every Habit you create, you can tell Reclaim the ideal times for it to happen as well as define how aggressively you want to defend the time on your calendar.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-identify-additional-time END -->

<!-- bloc-67 -->
<div id="bloc-67">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Interruptions.svg" alt="PersonalSyncOnTravelOnv2">
			</p>
			<div>
				<h2>
					<strong>Avoid duplication &amp; interruptions</strong>
				</h2>
				<p>
					Just like an Out-of-Office event, you can tell Reclaim to decline interruptions that interfere with your Habits. You can also give Reclaim a list of words to look for on your calendar and avoid duplicating the Habit if it‚Äôs already on your calendar.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-67 END -->

<!-- bloc-68 -->
<div id="bloc-68">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/SlackIntegrationHabits.png" data-src="../img/SlackIntegrationHabits.png" alt="LunchOnv2">
			</p>
			<div>
				<h2>
					<strong>Stay on track in Slack</strong>
				</h2>
				<p>
					With Reclaim‚Äôs Slack integration, your Habits are only a click away. You can view which Habits are scheduled, decide to delay ones that you don‚Äôt want to do that day, and modify Habits on-the-fly.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-68 END -->

<!-- bloc-69 -->

<!-- bloc-69 END -->

<!-- bloc-70 -->
<div id="bloc-70">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_01.png" data-src="../img/HIW_01.png" alt="SlackIntegrationTask">
			</p>
			<div>
				<h2>
					<strong>1. Communicate your routines</strong>
				</h2>
				<p>
					You can add anything you want to get done regularly ‚Äî exercise, coding, reading, taking a walk, or whatever matters to you ‚Äî to Reclaim as a Habit.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-70 END -->

<!-- bloc-71 -->
<div id="bloc-71">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_02.png" data-src="../img/HIW_02.png" alt="Logos">
			</p>
			<div>
				<h2>
					<strong>2. Tell us when to block them</strong>
				</h2>
				<p>
					Give Reclaim a rough idea of when you‚Äôd like the the Habit to happen, a range for how long you‚Äôd like to spend on it, and set how aggressively you want Reclaim to defend the time on your calendar.&nbsp;
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-71 END -->

<!-- bloc-72 -->
<div id="bloc-72">
	<div>
		<div>
			<p><img src="https://reclaim.ai/img/HIW_03.png" data-src="../img/HIW_03.png" alt="SlackIntegrationTask">
			</p>
			<div>
				<h2>
					<strong>3. Your routines get defended</strong>
				</h2>
				<p>
					Reclaim starts to add your Habit to your calendar! Reclaim will look ahead at your schedule and determine how busy your week looks. If your week is pretty free, the blocks will initially be added as Free time and then change to Busy as your days fill up.
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-72 END -->

<!-- bloc-73 -->

<!-- bloc-73 END -->

<!-- bloc-74 -->

<!-- bloc-74 END -->

<!-- bloc-75 -->

<!-- bloc-75 END -->

<!-- bloc-76 -->
<div id="bloc-76">
	<div>
		<div>
			<div>
				<p>
					<i>‚ÄúReclaim takes a ton of methods I‚Äôve been using at work for years -- blocking time for tasks, mapping my calendar to my priorities, and safeguarding time for personal events -- and makes them 10x easier to implement. It‚Äôs like they read my mind and built a product out of it.‚Äù</i>
				</p>
				<p>
					<strong>- Jade Rubick, VP of Engineering, Gremlin</strong>
				</p>
			</div>
			<div>
				<p>
					<i>‚ÄúReclaim keeps my calendar aligned with my priorities, plain and simple. It‚Äôs a whole new way to visualize my schedule and understand where my time is going every week.‚Äù</i>
				</p>
				<p>
					<strong>- James Ferguson, Head of Design, Atlassian</strong>
				</p>
			</div>
			<div>
				<p>
					<i>"I‚Äôve introduced Reclaim to the entire Packet team and now they spend less time tinkering with their calendars and are able to focus more, prioritize what really matters and carve out time for their own mental and personal health.‚Äù</i><br>
				</p>
				<p>
					<strong>- Zac Smith, Managing Director, Equinix and Founder of Packet</strong><br>
				</p>
			</div>
		</div>
	</div>
</div>
<!-- bloc-76 END -->

<!-- bloc-77 -->

<!-- bloc-77 END -->

<!-- bloc-13 -->
<div id="bloc-13">
	<div>
		<div>
			<div>
				<nav role="navigation">
					<a href="https://reclaim.ai/"><img src="https://reclaim.ai/img/lazyload-ph.png" data-src="../img/Primary_FullColor.svg" alt="Reclaim"></a>
					
					
				</nav>
			</div>
		</div>
	</div>
</div>
<!-- bloc-13 END -->

</div></div>]]>
            </description>
            <link>https://reclaim.ai/daily-habits/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760278</guid>
            <pubDate>Tue, 07 Jul 2020 15:34:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[HelloSign Scaled Traffic 1,308%]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23760032">thread link</a>) | @KaiserSanchez
<br/>
July 7, 2020 | https://www.yesoptimist.com/saas-content-marketing-framework/ | <a href="https://web.archive.org/web/*/https://www.yesoptimist.com/saas-content-marketing-framework/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				
				
				
<p>It was a frigid cold day in Des Moines on January 28, 2019.&nbsp;<br></p>



<p>Like most January days, I was just hoping to hold on a few more weeks until the early signs of Spring would start to thaw things out and give me that yearly boost of energy.</p>



<p>But, it turned out that I was going to get a different kind of jolt.</p>



<p>‚Äú<a href="https://www.hellosign.com/blog/a-letter-from-our-ceo-were-joining-dropbox" target="_blank" rel="noreferrer noopener" aria-label="Dropbox Acquires HelloSign for $230mm (opens in a new tab)">Dropbox Acquires HelloSign for $230mm</a>,‚Äù the headline read in my push notifications.<br></p>



<p>I stared at it for a long time.</p>



<p>A combination of shock and elation took hold as I bounded out of bed.<br></p>



<p>HelloSign and Optimist had been working together for nearly two years at this point. But I had no idea that the acquisition was in play. The whole deal has been basically kept under wraps. Most of the team only found out about it right before it was finalized.<br></p>



<p>It was a momentous achievement for their team.<br></p>



<p>When we first started working with HelloSign, they had just raised their Series A and were on a path to rapidly expand their eSignature solution, roll out HelloWorks, and move upmarket with HelloSign integrations and API.<br></p>



<p>There was a lot to do and a lot of content and strategy to figure out.&nbsp;<br></p>



<p><em>We had our work cut out for us.</em><br></p>



<p>Luckily, our team and the HelloSign team are both full of outrageously smart people. We dug in and put together a strategy.<br></p>



<figure><img src="https://lh4.googleusercontent.com/IcibgJc6j5tpYXEm_m_ik9W_YNLIIrvzZmHTBHmriqbihYkO2NXDz9SogzmE-H203ML1Ju0uP7cRPqUx1tfIZVWA1m96_8xdxPLSvlIP7m05Ej7q9o3kuaEoE_oESJVNPETObhOq" alt="HelloSign's Organic Traffic Growth (October 2017 to January 2019)"></figure>



<p>Over the previous 17 months (and to this day), we worked closely with the HelloSign team to drive 1,308% growth in targeted organic traffic. This growth correlated almost perfectly with the growth of their business and the acquisition that took place in January.<br></p>



<p>Through this process and in working with many other SaaS companies over the years, we have developed and refined some key strategies and tactics that we use to drive growth for all of our clients and other SaaS businesses in particular.<br></p>



<p>From that, we‚Äôve distilled those strategies into a core framework that defines how we achieve specific results and reach key goals.&nbsp;<br></p>



<p>This article is about that framework.</p>



<h2>Content Marketing for SaaS: Driving User Signups</h2>



<p>Nearly all SaaS companies have pretty straightforward goals for their content marketing:<br></p>



<ol><li>Drive product sign-ups and trials</li><li>Everything else. (Traffic, brand awareness,&nbsp;leads, emails, etc)</li></ol>



<p>HelloSign is no different.&nbsp;<br></p>



<p>Although they have a number of market focuses and products that were in play, the ultimate business objective of our work together was‚Äìunsurprisingly‚Äìto grow users.&nbsp;<br></p>



<p>So, that‚Äôs what we set out to do.&nbsp;<br></p>



<p>The question, of course, is how you use content as a lever for both capturing the right audience, convincing them of the value of the product, and ultimately converting them into customers.<br></p>



<figure><img src="https://lh4.googleusercontent.com/NE0svR6j4qHgtXc2V0wxw-XR_jXTW2e6L1PcoXncPqUFLJJf-5yorAWPbmSo7GTA0rQ1AVPBM5L13O3khI7G6SyuyCWMJdKTaxAHrwyqa1jQ8A24fTUK7JHuZ6iz4crHUrOTLlkI" alt=""></figure>



<p>In most instances, these goals feel at odds with one another. The content that is most valuable to you as a business (most product-focused) is often less valuable to a reader who is trying to learn about a topic or solve a problem broadly.<br></p>



<p>As with most content marketing frameworks, we find that the key is to unpack the specific moving parts and build a strategy that addresses each specific goal as part of a broader strategy.&nbsp;<br></p>



<p>In other words, break it down and solve for each piece independently. Then pull everything together into a cohesive framework.</p>



<h2>The SaaS Content Funnel Paradox</h2>



<p>Most SaaS product signups (trials, leads, etc) come from the middle of the funnel.<br></p>



<p>In other words, a prospect has researched their problem, discovered a general solution, and they begin researching products that offer it. In most cases, few prospects read content that‚Äôs at the top of the funnel and immediately hop into a product‚Äìit‚Äôs rare.&nbsp;<br></p>



<p>This means that in order for a SaaS content marketing strategy to be successful, you need to put a lot of emphasis on driving solution-aware traffic to content and pages that are in the middle of the funnel.<br></p>



<p><em>But there‚Äôs a challenge</em>.&nbsp;<br></p>



<p>The pages on your site that are most relevant to a middle-of-the-funnel searcher are your core product pages‚Äìfeatures, integrations, solutions, etc.&nbsp;<br></p>



<p>These are notoriously difficult pages to rank (especially in a crowded market like esignatures) because there are very few ways for them to naturally accrue links or promote such product-focused content directly to a prospect.&nbsp;<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1.png" alt="HelloSign's Product Marketing site is full of targeted landing pages" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1-980x521.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-05-1024x544-1-480x255.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>This creates a paradox.&nbsp;<br></p>



<p>The pages that you care most about ranking and generating traffic to are also, often, the most difficult to rank and drive traffic to.&nbsp;<br></p>



<p>So, how do you overcome this obstacle, resolve the paradox, and restore order to the universe? (Okay, maybe just that first part.)<br></p>



<p>The solution is to <a href="http://yesoptimist.com/frameworks">create a framework</a> that leverages <em>top of the funnel content</em> as a means to generate not just traffic, but also links (domain and topical authority) that helps these important pages rank over time.<br></p>



<p>This has become the basis for our work with most SaaS clients.</p>



<h2>The Optimist SaaS Content Marketing Framework</h2>



<p>Before we get into the specifics of how we executed this strategy, I want to reveal the framework that we use to shape our thinking and our approach.&nbsp;<br></p>



<p>This framework builds on our trifecta strategy that we originally developed from my work scaling College Raptor from <a href="https://www.yesoptimist.com/content-marketing-seo-case-study-the-trifecta-strategy/">0 to 100,000 organic searches/mo</a>.&nbsp;<br></p>



<p>But, given the specific nuances of the SaaS business model and the extended B2B buyer‚Äôs journey, it‚Äôs not a simple cut-and-paste process.&nbsp;<br></p>



<figure><img src="https://lh6.googleusercontent.com/JdENWX5eN_LOMVx2I778zGXks82Eu5MkC92ktCgboJrcur7JAo8f4fL_h--FFGUsYwsffYMq9_RderLzTycXIEcGwE4gZKm9WyTrHe2w27jUojSYaRNlB8-e_WwMoQj5rkKBiHG0" alt=""></figure>



<p>The framework that we developed integrates key insights about how buyers interact with SaaS businesses and which strategies are most effective for driving actual conversions.<br></p>



<p>For our work with HelloSign, we applied a framework similar to this. Ultimately, we‚Äôve found that most SaaS businesses have similar goals and thus, the overall approach to content marketing is a variation of this general framework.&nbsp;<br></p>



<p>It‚Äôs not one-size-fits-all, but it‚Äôs about as close as you can get when you‚Äôre talking about true strategy.<br></p>



<p>Let‚Äôs step through all of the types of content that were part of HelloSign‚Äôs massive growth.</p>



<h2>Pre-Funnel Content: Targeting the Right Buyers</h2>



<p>Before we dive into the actual funnel and the buyer‚Äôs journey, I want to begin with what we call pre-funnel or persona-qualified content.&nbsp;<br></p>



<p>Although it‚Äôs often at least one step removed from a buying cycle, pre-funnel content can serve an important supporting role in a SaaS content marketing strategy. The idea here is to create content that attracts your target buyer <em>broadly</em>, even if they aren‚Äôt problem-aware.<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-1024x544.png" alt="Thought leadership content attracts relevant buyers, even if they are pre-funnel." srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-1024x544.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-980x521.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-06-480x255.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>Case in point: HelloSign speaks a lot to sales leaders in their content. We created a lot of content that was aimed at generally helping this persona do their job better, even if that didn‚Äôt involve using HelloSign‚Äôs products to do it.<br></p>



<p>This allows us to accomplish a number of things:&nbsp;<br></p>



<ol><li>Expand search/social footprint</li><li>Build brand awareness and familiarity with our target personas</li><li>Drive retargeting and email marketing</li></ol>



<p>But, keep in mind that this content, while valuable if used strategically, can also be a distraction from the key objective. It rarely leads to a product conversion.&nbsp;<br></p>



<p>Don‚Äôt let it become the center of your approach unless you have already built out every other part of the funnel in full.</p>



<h2>Top of the Funnel Content: Helping Prospects Solve Problems</h2>



<p>The top of the funnel is often misunderstood in the world of content marketing generally and SaaS, especially.&nbsp;<br></p>



<p>Our take is simple: <em>The top of the funnel starts when a buyer begins to actively learn about or seek a solution to problem that could lead to a purchase.</em><br></p>



<p>In the world of HelloSign, we see this as the pain point that the user is looking to solve that <em>could </em>ultimately lead to a product conversion.<br></p>



<p>If the buyer is a VP of Sales or Sales Operations Director, then they may begin their journey by looking to accelerate their sales cycle‚Äìcut down the days between contract and close.&nbsp;<br></p>



<p><em>One solution to this problem is to implement esignatures.</em><br></p>



<p>So, from a content perspective, we target this initial need as an opportunity to capture the buyer at the point where they are looking for solutions to a problem. In my <a href="https://www.yesoptimist.com/saas-seo-strategy/">post about SaaS SEO</a>, I talked about our process of using a JTBD framework to identify and map these specific pain points to key product use cases and features.&nbsp;<br></p>



<p>Within the top of the funnel content, we break down our content strategy into <a href="http://yesoptimist.com/100k">3 key types of content that each serve a specific purpose</a>. I‚Äôve outlined this approach before, but it allows us to get very specific and tactical while staying strategic in our content planning and creation.&nbsp;</p>



<h3>1. Social-viral content (Thought leadership)</h3>



<p>For HelloSign, what we pursue as social-viral content is strong thought leadership content that‚Äôs likely to generate a lot of shares and buzz around a particular topic.&nbsp;<br></p>



<p>What we have found is that the more of a strong stance we are willing to take topics related to work, culture, and operations, the more reaction we generate among our target readers. Of course, this approach can be polarizing as well.<br></p>



<p>The key to our approach here is to be thoughtful about where we plant a flag.<br></p>



<p>Knowing that readers who align with specific thinking are most likely to become users and customers, we can draw a line in the sand to help attract like-minded buyers who feel strongly about the nature of work and productivity.&nbsp;<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-1024x679.png" alt="Social-viral style content aimed at agitating common problems and generating product demand for HelloSign's eSignature software" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-1024x679.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-980x650.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-01-480x318.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>Keep in mind that the search (SEO) opportunity for this content may not be enormous.<br></p>



<p>That‚Äôs okay.&nbsp;<br></p>



<p>The role of this content is to reach prospects through channels other than search; social and community channels. We want to generate a buzz and demand based on the content and drive problem awareness. That means that this topics often have a short shelf life.&nbsp;<br></p>



<p>They‚Äôre perennial rather than evergreen. We can circle back to them every few months or every year and use them to drive traffic through key channels.</p>



<h3>2. Evergreen content</h3>



<p>The meat and potatoes of our SaaS content marketing framework‚Äìthe workhorse‚Äìis evergreen content.<br></p>



<figure><img src="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-1024x679.png" alt="Evergreen content targeted prospective buyers based on need at the top of the funnel" srcset="https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-1024x679.png 1024w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-980x650.png 980w, https://mk0yesoptimist0enhkg.kinstacdn.com/wp-content/uploads/2020/06/HS-case-study-screenshots-03-480x318.png 480w" sizes="(min-width: 0px) and (max-width: 480px) 480px, (min-width: 481px) and (max-width: 980px) 980px, (min-width: 981px) 1024px, 100vw"></figure>



<p>This topical, keyword-focused content ranks for the ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.yesoptimist.com/saas-content-marketing-framework/">https://www.yesoptimist.com/saas-content-marketing-framework/</a></em></p>]]>
            </description>
            <link>https://www.yesoptimist.com/saas-content-marketing-framework/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23760032</guid>
            <pubDate>Tue, 07 Jul 2020 15:09:56 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Ten Paradoxes of Technology ‚Äì great essay for all technologists [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23759860">thread link</a>) | @Gigamouse
<br/>
July 7, 2020 | https://www.sfu.ca/~andrewf/paradoxes.pdf | <a href="https://web.archive.org/web/*/https://www.sfu.ca/~andrewf/paradoxes.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.sfu.ca/~andrewf/paradoxes.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-23759860</guid>
            <pubDate>Tue, 07 Jul 2020 14:53:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Supercharge Your Shallow ML Models with Hummingbird]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758867">thread link</a>) | @klarahorton
<br/>
July 7, 2020 | https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird | <a href="https://web.archive.org/web/*/https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="project"><div><div><div><div><div><p>Jul 3, 2020</p><!-- --><p> by</p><!-- --> <p><span>Anthony Agnone for Deepnote</span><span><a target="_blank" rel="noopener noreferrer" href="https://medium.com/@anthonyagnone"><span><svg viewBox="0 0 16 16" version="1.1"><defs></defs><g id="Icons" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Artboard" transform="translate(-493.000000, -25.000000)"><path d="M501,25 C496.6,25 493,28.6 493,33 C493,37.4 496.6,41 501,41 C505.4,41 509,37.4 509,33 C509,28.6 505.4,25 501,25 L501,25 Z M500.2,39.32 C497.08,38.92 494.6,36.2 494.6,33 C494.6,32.52 494.68,32.04 494.76,31.56 L498.6,35.4 L498.6,36.2 C498.6,37.08 499.32,37.8 500.2,37.8 L500.2,39.32 L500.2,39.32 Z M505.72,37.32 C505.48,36.68 504.92,36.2 504.2,36.2 L503.4,36.2 L503.4,33.8 C503.4,33.32 503.08,33 502.6,33 L497.8,33 L497.8,31.4 L499.4,31.4 C499.88,31.4 500.2,31.08 500.2,30.6 L500.2,29 L501.8,29 C502.68,29 503.4,28.28 503.4,27.4 L503.4,27.08 C505.72,28.04 507.4,30.36 507.4,33 C507.4,34.68 506.76,36.2 505.72,37.32 L505.72,37.32 Z" id="Shape"></path></g></g></svg></span></a></span></p></div></div><p>With Hummingbird, your ML pipelines will start to look cleaner. You'll know that, regardless of algorithm, you end up with a model that creates its predictions via tensor computations. Not only that, these tensor computations will be run by the same deep learning framework of choice that your organization has likely already given allegiance to.

All of this from one function call. Not a bad deal in my book!</p><p><img src="https://storage.googleapis.com/published-content/supercharge-your-shallow-ml-models-with-hummingbird/levi-jones-grRhpfQbBZI-unsplash.jpg" alt="Supercharge Your Shallow ML Models With Hummingbird - preview image"></p></div><div><div><div><div><div><div><div><p><span>&lt;</span>span<span>&gt;</span>Photo by <span>[</span>Levi Jones<span>]</span><span>(</span>https<span>:</span><span>//</span>unsplash<span>.</span>com<span>/</span>@levidjones?utm_source<span>=</span>unsplash<span>&amp;</span>amp<span>;</span>utm_medium<span>=</span>referral<span>&amp;</span>amp<span>;</span>utm_content<span>=</span>creditCopyText<span>)</span> on <span>[</span>Unsplash<span>]</span><span>(</span>https<span>:</span><span>//</span>unsplash<span>.</span>com<span>/</span>s<span>/</span>photos<span>/</span>hummingbird?utm_source<span>=</span>unsplash<span>&amp;</span>amp<span>;</span>utm_medium<span>=</span>referral<span>&amp;</span>amp<span>;</span>utm_content<span>=</span>creditCopyText<span>)</span><span>&lt;</span><span>/</span>span<span>&gt;</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Since the most recent resurgence of deep learning <span>in</span> <span>2012</span><span>,</span> a lion's share of new ML libraries <span>and</span> frameworks have been created<span>.</span> 
The ones that have stood the test of time <span>(</span>PyTorch<span>,</span> Tensorflow<span>,</span> ONNX<span>,</span> etc<span>)</span> are backed by _massive_ corporations<span>,</span> <span>and</span> likely aren't going away anytime soon<span>.</span> 

This also presents a problem<span>,</span> however<span>,</span> <span>as</span> the deep learning community has diverged <span>from</span> popular traditional ML software libraries like scikit<span>-</span>learn<span>,</span> XGBoost<span>,</span> <span>and</span> LightGBM<span>.</span> 
When it comes time <span>for</span> companies to bring multiple models <span>with</span> different software <span>and</span> hardware assumptions into production<span>,</span> things get<span>.</span><span>.</span><span>.</span>hairy<span>.</span> 
<span>-</span> How do you keep ML inference code <span>[</span>DRY<span>]</span><span>(</span>https<span>:</span><span>//</span>en<span>.</span>wikipedia<span>.</span>org<span>/</span>wiki<span>/</span>Don<span>%</span>27t_repeat_yourself<span>)</span> when some models are tensor<span>-</span>based <span>and</span> others are vector<span>-</span>based?
<span>-</span> How do you keep the inference runtime efficiency of your traditional models competitive<span>,</span> <span>as</span> GPU<span>-</span>based neural networks start to run circles around them?
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
I know<span>,</span> I know<span>.</span> Using microservices <span>in</span> Kubernetes can solve the design pattern issue to an extent by keeping things de<span>-</span>coupled<span>.</span><span>.</span><span>.</span><span>if</span> that's even what you want?

But<span>,</span> I think that really just ignores the problem<span>.</span> What <span>if</span> you want to seamlessly deploy either an XGBoost regressor <span>or</span> fully<span>-</span>connected DNN <span>as</span> your service's main output? 
Sure<span>,</span> you could hot<span>-</span>swap the hardware your service launches onto<span>.</span> How about the code? 

Are you going to ram <span>in</span> a dressed<span>-</span>up version of an <span>if</span><span>-</span><span>else</span> switch to use one software framework vs the other<span>,</span> depending on the model <span>type</span>? 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Well<span>,</span> <span>for</span> a lot of use cases<span>,</span> _it is_<span>.</span> 
However<span>,</span> there's still a huge gap between problems requiring neural nets <span>and</span> problems that can be sufficiently solved <span>with</span> more traditional models<span>.</span> 
For the more traditional models<span>,</span> don<span>'t you still want to be able to use the latest and greatest computational frameworks to power your model'</span>s predictions? 
This would allow you to scale your model _up_ more before you need to resort to scaling it _out_ via redundant instances<span>.</span>

</p></div></div></div></div></div></div><div><div><div><div><div><div><p>Microsoft research has introduced `hummingbird` to bridge this gap between CPU<span>-</span>oriented models <span>and</span> tensor<span>-</span>oriented models<span>.</span> 
The library simply takes <span>any</span> of our already<span>-</span>trained traditional models <span>and</span> returns a version of that model built on tensor computations<span>.</span> 
Hummingbird aims to solve two core concerns <span>with</span> current ML applications<span>:</span>

<span>1</span><span>.</span> Traditional <span>and</span> deep learning software libraries have different abstractions of their basic computational unit <span>(</span>vector vs tensor<span>)</span><span>.</span>
<span>2</span><span>.</span> As a result of this difference<span>,</span> traditional ML libraries do <span>not</span> receive the same performance gains <span>as</span> hardware accelerators <span>(</span>read<span>:</span> GPUs<span>)</span> improve<span>.</span>
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>With Hummingbird<span>,</span> your ML pipelines will start to look cleaner<span>.</span> 
You'll know that<span>,</span> regardless of algorithm<span>,</span> you end up <span>with</span> a model that creates its predictions via tensor computations<span>.</span> 
Not only that<span>,</span> these tensor computations will be run by the same deep learning framework of choice that your organization has likely already given allegiance to<span>.</span> 

All of this <span>from</span> one function call<span>.</span> Not a bad deal <span>in</span> my book!

Let's see it <span>in</span> action<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>Let's get this part out of the way<span>.</span> You know the drill<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>!pip install seaborn
!pip install hummingbird_ml
!pip install hummingbird<span>-</span>ml<span>[</span>extra<span>]</span>
!pip install torch torchvision
!pip install onnxruntime<span>-</span>gpu
!pip install onnxmltools<span>&gt;=</span><span>1.6</span><span>.0</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>import</span> torch
<span>import</span> numpy <span>as</span> np
<span>import</span> pandas <span>as</span> pd
<span>import</span> matplotlib<span>.</span>pyplot <span>as</span> plt
<span>import</span> seaborn <span>as</span> sns
<span>import</span> mpl_toolkits
<span>from</span> sklearn<span>.</span>datasets <span>import</span> make_classification
<span>from</span> sklearn<span>.</span>model_selection <span>import</span> train_test_split
<span>from</span> sklearn<span>.</span>ensemble <span>import</span> RandomForestRegressor
<span>from</span> hummingbird<span>.</span>ml <span>import</span> convert

<span>print</span><span>(</span><span>'GPU available: %s'</span> <span>%</span> torch<span>.</span>cuda<span>.</span>is_available<span>(</span><span>)</span><span>)</span>

<span>%</span>matplotlib inline</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Let's control randomness <span>in</span> Numpy <span>and</span> PyTorch <span>with</span> <span>[</span>the answer to everything <span>in</span> the universe<span>.</span><span>]</span><span>(</span>https<span>:</span><span>//</span>www<span>.</span>dictionary<span>.</span>com<span>/</span>e<span>/</span>slang<span>/</span><span>42</span><span>/</span><span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>RND_SEED <span>=</span> <span>42</span>
np<span>.</span>random<span>.</span>seed<span>(</span>RND_SEED<span>)</span>
torch<span>.</span>manual_seed <span>=</span> RND_SEED
torch<span>.</span>backends<span>.</span>cudnn<span>.</span>deterministic <span>=</span> <span>True</span>
torch<span>.</span>backends<span>.</span>cudnn<span>.</span>benchmark <span>=</span> <span>False</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Let's define a quick helper to quickly make some classification data<span>,</span> <span>and</span> create some data sets <span>with</span> it<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>def</span> <span>make_data</span><span>(</span>n_samples<span>=</span><span>1000</span><span>)</span><span>:</span>
    <span>"""
    Return some synthetic classification data from sklearn.datasets.

    @param int n_samples: number of samples the data set should have.
    @param int n_features: number of features the data set should have.
    @return tuple:
        [0]: numpy.ndarray data set of shape (n_samples, n_features)
        [1]: numpu.ndarray labels of shape (n_samples, )
    """</span>
    X<span>,</span> y <span>=</span> make_classification<span>(</span>
        n_samples<span>=</span><span>int</span><span>(</span>n_samples<span>)</span><span>,</span> n_features<span>=</span><span>20</span><span>,</span>
        n_informative<span>=</span><span>8</span><span>,</span> n_redundant<span>=</span><span>2</span><span>,</span> n_repeated<span>=</span><span>0</span><span>,</span> n_classes<span>=</span><span>2</span><span>,</span> n_clusters_per_class<span>=</span><span>2</span><span>,</span>
        shuffle<span>=</span><span>True</span><span>,</span> random_state<span>=</span><span>42</span>
    <span>)</span>
    <span>return</span> X<span>.</span>astype<span>(</span><span>'|f4'</span><span>)</span><span>,</span> y
</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>X_train<span>,</span> y_train <span>=</span> make_data<span>(</span>n_samples<span>=</span><span>1e3</span><span>)</span>
X_test<span>,</span> y_test <span>=</span> make_data<span>(</span>n_samples<span>=</span><span>1e4</span><span>)</span>

clf <span>=</span> RandomForestRegressor<span>(</span>n_estimators<span>=</span><span>250</span><span>,</span> max_depth<span>=</span><span>10</span><span>)</span>
clf<span>.</span>fit<span>(</span>X_train<span>,</span> y_train<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>Thanks to Deepnote<span>,</span> I don't have to take up half of this notebook just printing out data shapes <span>and</span> distributions <span>for</span> you<span>.</span> 
These notebooks come <span>with</span> a feature<span>-</span>packed variable explorer which provides most of the basic EDA<span>-</span>style questions you will have about your data<span>.</span> 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Now<span>,</span> the one<span>-</span>liner to get your model transformed into tensor computations via Hummingbird <span>is</span> `convert<span>(</span>clf<span>,</span> <span>'pytorch'</span><span>)</span>`<span>.</span> 

That<span>'s it. That'</span>s Hummingbird<span>.</span> 

Just to make our comparisons even easier<span>,</span> let<span>'s make a quick method on top of that to automatically move it to a GPU when it'</span>s available<span>.</span> 
As some final added sugar<span>,</span> we'll take <span>in</span> a flag that forces keeping the model on CPU<span>,</span> should the need arise<span>.</span> 
Keep <span>in</span> mind though<span>,</span> the single call to `convert<span>(</span><span>)</span>` <span>is</span> the only interface you need to have <span>with</span> Hummingbird<span>;</span> it does <span>all</span> of its magic under the hood of that single function call<span>.</span> 
Once you get the model returned to you<span>,</span> you call `predict<span>(</span><span>)</span>` on it like <span>any</span> other traditional pythonic ML model<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>def</span> <span>compile_pytorch</span><span>(</span>model<span>,</span> force_cpu<span>=</span><span>False</span><span>)</span><span>:</span>
    <span>"""
    Use Hummingbird to compile a PyTorch model, moving it to a GPU if available.

    @param Model model: trained ML model which has a predict() method for inference.
    @param bool force_cpu: whether to keep the model on CPU, regardless of the presence of a GPU.
    @return Model: augmented ML model, which uses tensor computations to perform inference
    """</span>
    model <span>=</span> convert<span>(</span>clf<span>,</span> <span>'pytorch'</span><span>,</span> extra_config<span>=</span><span>{</span><span>"tree_implementation"</span><span>:</span><span>"gemm"</span><span>}</span><span>)</span>
    <span>if</span> torch<span>.</span>cuda<span>.</span>is_available<span>(</span><span>)</span> <span>and</span> <span>not</span> force_cpu<span>:</span>
        <span>print</span><span>(</span><span>'Moving model to GPU'</span><span>)</span>
        model<span>.</span>to<span>(</span><span>'cuda'</span><span>)</span>
    <span>else</span><span>:</span>
        <span>print</span><span>(</span><span>'Keeping model on CPU'</span><span>)</span>
    <span>return</span> model
</p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>print</span><span>(</span><span>'Creating CPU Hummingbird model\n\t'</span><span>,</span> end<span>=</span><span>''</span><span>)</span>
clf_cpu <span>=</span> compile_pytorch<span>(</span>clf<span>,</span> force_cpu<span>=</span><span>True</span><span>)</span>

<span>print</span><span>(</span><span>'Creating GPU Hummingbird model\n\t'</span><span>,</span> end<span>=</span><span>''</span><span>)</span>
clf_gpu <span>=</span> compile_pytorch<span>(</span>clf<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>
Alright<span>,</span> it<span>'s time to benchmark! Don'</span>t worry about a flurry of imports <span>or</span> method wrappers<span>.</span> 
Let's keep it simple here <span>with</span> the `<span>%</span><span>%</span>timeit` magic command<span>.</span> 
This magic command will automatically run the code <span>in</span> the cell multiple times<span>,</span> reporting out the mean <span>and</span> standard deviation of the runtime samples<span>.</span> 
First<span>,</span> we'll time the `sklearn` model <span>as</span><span>-</span><span>is</span><span>.</span> 
Then<span>,</span> we'll see how the Hummingbird on<span>-</span>CPU <span>and</span> on<span>-</span>GPU models compare<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf_cpu<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>!<span>[</span><span>]</span><span>(</span>https<span>:</span><span>//</span>storage<span>.</span>googleapis<span>.</span>com<span>/</span>published<span>-</span>content<span>/</span>supercharge<span>-</span>your<span>-</span>shallow<span>-</span>ml<span>-</span>models<span>-</span><span>with</span><span>-</span>hummingbird<span>/</span>giphy<span>-</span>turtle<span>-</span>mAwCycImTr7JC<span>.</span>gif<span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>Yikes!

Well<span>.</span><span>.</span><span>.</span>that was unexpected<span>.</span> There's no two ways about this one<span>:</span> Hummingbird might run slower on CPU <span>for</span> certain data sets<span>.</span>
This can even be seen by some of their current example notebooks <span>in</span> the Hummingbird <span>[</span>Github repo<span>]</span><span>(</span>https<span>:</span><span>//</span>github<span>.</span>com<span>/</span>microsoft<span>/</span>hummingbird<span>)</span><span>.</span> 
Also<span>,</span> I did mention that the runtime <span>is</span> slower _on certain data sets_ <span>with</span> intention<span>,</span> <span>as</span> it does outperform <span>for</span> others<span>.</span>  

That being said<span>,</span>this side effect shouldn<span>'t have anyone running for the door -- remember the library'</span>s goal! 
The main reason <span>for</span> converting a model to tensor computations <span>is</span> to leverage hardware that _excels_ <span>in</span> that area<span>.</span> 

Spoiler alert<span>:</span> I'm talking about GPUs! 
This Deepnote notebook comes powered by an <span>[</span>NVIDIA T4 Tensor Core<span>]</span> GPU<span>.</span> 
Let's see how the model runs on _that_<span>.</span>

 </p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p><span>%</span><span>%</span>timeit
clf_gpu<span>.</span>predict<span>(</span>X_test<span>)</span></p></div></div></div></div></div></div></div></div><div><div><div><div><div><div><p>There we go! 
Now<span>,</span> we <span>not</span> only have a <span>73</span><span>%</span> mean speedup over the original<span>,</span> but also an _order of magnitude_ tighter variance<span>.</span> 
The original standard deviation of runtime <span>is</span> <span>1.1</span><span>%</span> of its mean<span>,</span> <span>and</span> the GPU runtime's standard deviation <span>is</span> <span>0.18</span><span>%</span>! 
</p></div></div></div></div></div></div><div><div><div><div><div><div><p>!<span>[</span>Courtesy of Giphy<span>]</span><span>(</span>https<span>:</span><span>//</span>storage<span>.</span>googleapis<span>.</span>com<span>/</span>published<span>-</span>content<span>/</span>supercharge<span>-</span>your<span>-</span>shallow<span>-</span>ml<span>-</span>models<span>-</span><span>with</span><span>-</span>hummingbird<span>/</span>giphy<span>-</span>B1uajA01vvL91Urtsp<span>.</span>gif<span>)</span></p></div></div></div></div></div></div><div><div><div><div><div><div><p>
Hold <span>in</span> your excitement <span>for</span> now<span>,</span> though<span>.</span> Your model could have the fastest runtime <span>in</span> the world<span>;</span> <span>if</span> it doesn't maintain its accuracy through the conversion<span>,</span> it could be utterly useless<span>.</span>
Let's see how the predictions compare between the original model <span>and</span> both transformed models<span>.</span>
For this<span>,</span> we turn to one of my favorite visualization libraries<span>,</span> `seaborn`<span>.</span></p></div></div></div></div></div></div><div><div><div><div><div><div><div data-cy="code-cell"><div><p>
y_pred <span>=</span> clf<span>.</span>predict<span>(</span>X_test<span>)</span>
y_pred_cpu <span>=</span> clf_cpu<span>.</span>predict<span>(</span>X_test<span>)</span>
y_pred_gpu <span>=</span> clf_gpu<span>.</span>predict<span>(</span>X_test<span>)</span>


<span>def</span> <span>plot_distributions</span><span>(</span>data_label_pairs<span>,</span> title<span>=</span><span>'Score Distribution(s)'</span><span>)</span><span>:</span>
    <span>"""
    Plot the distribution of a list of prediction vectors.

    @param List data_label_pairs:
    """</span>
    plt<span>.</span>figure<span>(</span>figsize<span>=</span><span>(</span><span>12</span><span>,</span> <span>6</span><span>)</span><span>)</span>
    <span>for</span> data<span>,</span> label <span>in</span> data_label_pairs<span>:</span>
        sns<span>.</span>distplot<span>(</span>data<span>,</span> hist<span>=</span><span>False</span><span>,</span> label<span>=</span>label<span>)</span>
    plt<span>.</span>legend<span>(</span><span>)</span></p></div></div></div></div></div></div></div></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird">https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird</a></em></p>]]>
            </description>
            <link>https://beta.deepnote.com/article/supercharge-your-shallow-ml-models-with-hummingbird</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758867</guid>
            <pubDate>Tue, 07 Jul 2020 13:15:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Free blockchain storage ‚Äì Tale of a bug in Substrate's FRAME runtime]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758626">thread link</a>) | @z3phyr
<br/>
July 7, 2020 | https://mudit.blog/free-blockchain-storage-bug-substrate/ | <a href="https://web.archive.org/web/*/https://mudit.blog/free-blockchain-storage-bug-substrate/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-635" itemtype="https://schema.org/CreativeWork" itemscope="itemscope"><div><div itemprop="text"><p><img src="https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720.jpg" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720.jpg 960w, https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720-300x180.jpg 300w, https://mudit.blog/wp-content/uploads/2020/07/cyber-security-3400555_960_720-768x461.jpg 768w" sizes="(max-width: 960px) 100vw, 960px"></p><p>This is the story of a simple bug in the FRAME runtime of Parity‚Äôs Substrate blockchain framework. The bug allowed attackers to do infinitely large transactions without paying any extra fees. The vulnerability was the result of a buggy implementation of fee calculation in the FRAME runtime of Substrate. By exploiting this vulnerability, an attacker could‚Äôve added their manga collection to the payload of a simple transaction without paying any extra fees. This would‚Äôve resulted in the manga collection becoming a part of the blockchain, forever. Cheapest decentralized blockchain storage!</p><p>Sample fees for a 2 megabyte payload before the bug-fix:<br><img src="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18.png" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18.png 494w, https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-50-18-300x86.png 300w" sizes="(max-width: 494px) 100vw, 494px"><br></p><p>Sample fees for a 2 megabyte payload after the bug-fix:<br><img src="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32.png" alt="" srcset="https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32.png 439w, https://mudit.blog/wp-content/uploads/2020/07/Screenshot-from-2020-07-05-10-52-32-300x98.png 300w" sizes="(max-width: 439px) 100vw, 439px"></p><p>Please note that this bug is now fixed and a runtime upgrade has been deployed to Kusama, Polkadot and Polymesh Aldebaran testnet.</p><h3>Bug details</h3><p>The transaction fee is supposed to increase as the size of the transaction increases. There‚Äôs a constant <code>TransactionByteFee</code> that is supposed to be added to the total fee for every byte of data contained in the transaction. This would‚Äôve prevented the above exploit from working but due to a very tiny bug in the code, this fee was not being applied under certain circumstances.</p><p>The fee was being calculated as:</p><pre><code>fee = base_fee + targeted_fee_adjustment * (len_fee + weight_fee);</code></pre><ul><li><code>base_fee</code> is a static fee applied to all transactions (analogous to the 21k gas fee in Ethereum).</li><li><code>targeted_fee_adjustment</code> is a fee multiplier that is based on recent activity on the chain. If the recent blocks have been full, this multiplier will increase and if the recent blocks have been empty, this multiplier will decrease.</li><li><code>len_fee</code> is the extra fee charged for the size of a transaction. Transactions with bigger payloads will have a bigger <code>len_fee</code>.</li><li><code>weight_fee</code> is based on the compute requirements of a transaction. A more resource-intensive transaction will have a higher <code>weight_fee</code>.</li></ul><p>There are two problems here. Firstly, the <code>len_fee</code> is being affected by the <code>targeted_fee_adjustment</code> multiplier. However, as per the <a aria-label="undefined (opens in a new tab)" href="https://research.web3.foundation/en/latest/polkadot/Token%20Economics.html#setting-transaction-fees" target="_blank" rel="noreferrer noopener">W3F docs</a>, it should not be. The second problem is that the <code>targeted_fee_adjustment</code> multiplier was allowed to go as low as zero. The combined result of these two problems is that when the chain is not busy, no <code>len_fee</code>, and <code>weight_fee</code> are charged and anyone can submit large transactions to inflate the blockchain size.</p><h3>Reproduction steps</h3><p>The vulnerability was very easy to exploit. All you had to do was to send a huge payload alongside a valid transaction. Sample reproduction steps are as follows:</p><ol><li>Open the Polkadot UI ‚Äì <a aria-label="undefined (opens in a new tab)" href="https://polkadot.js.org/apps/#/explorer" target="_blank" rel="noreferrer noopener nofollow"></a><a href="https://polkadot.js.org/apps">https://polkadot.js.org/apps</a>.</li><li>Click on the ‚ÄúExtrinsics‚Äù tab on the left.</li><li>Select the ‚Äúremark‚Äù extrinsic from the ‚Äúsystem‚Äù frame.</li><li>Click on ‚Äúfile upload‚Äù on the right and upload your payload (anything you want to put on the blockchain).</li><li>Submit the transaction.</li></ol><h3>Resolution</h3><p>The <a aria-label="undefined (opens in a new tab)" href="https://github.com/paritytech/substrate/pull/6334" target="_blank" rel="noreferrer noopener">fix</a> was twofold but simple. Firstly, the <code>len_fee</code> was moved out so that it was not affected by the <code>targeted_fee_adjustment</code> multiplier. The new fee formula is</p><pre><code>fee = base_fee + len_fee + targeted_fee_adjustment * weight_fee;</code></pre><p>In addition, the <code>targeted_fee_adjustment</code> was adjusted so that the minimum multiplier is one instead of zero. This brings the implementation closer to what the W3F research suggested. It makes exploit like the one mentioned in this post impossible.</p><h3>Timeline</h3><ul><li>Reported ‚Äì 17/06/2020</li><li>Acknowledged ‚Äì 17/06/2020</li><li>Fixed ‚Äì 17/06/2020</li></ul><h3>Addendum</h3><p>I‚Äôd like to thank Parity Technologies for being responsive and fixing the bug within hours of the report. Kusama and Polkadot were upgraded soon after the bug fix. Parity offered me a 250 USD bug bounty for this disclosure which they have kindly donated to the <a aria-label="undefined (opens in a new tab)" href="https://www.smilefoundationindia.org/" target="_blank" rel="noreferrer noopener">Smile Foundation</a> on my behalf. I‚Äôd like to thank them for that as well.</p><p>Everyone is welcome to try their hands on Kusama and report any bugs to Parity. Below is a direct quote from Fredrik, CTO at parity:</p><blockquote><p>We are thankful to Mudit for reporting this to us. We created Kusama for this specific purpose of testing the underlying economic assumptions before they reach Polkadot and are happy that it worked in this case. We encourage everyone to continue hunting bugs on Kusama and reporting them to us!</p><cite>Fredrik Harrysson, CTO at Parity</cite></blockquote><p>Happy hacking!</p></div></div></article></div>]]>
            </description>
            <link>https://mudit.blog/free-blockchain-storage-bug-substrate/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758626</guid>
            <pubDate>Tue, 07 Jul 2020 12:48:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Go's Error Handling Is Awesome]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 90 (<a href="https://news.ycombinator.com/item?id=23758509">thread link</a>) | @michaelanckaert
<br/>
July 7, 2020 | https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html | <a href="https://web.archive.org/web/*/https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  
  
  
  
  <p>Published on 06 Jul 2020</p>
  
  <p>Go‚Äôs <a href="https://github.com/golang/go/issues/32825">infamous error handling</a> has caught quite the attention from outsiders to the programming language, often touted as one of the language‚Äôs most questionable design decisions. If you look into any project on Github written in Go, it‚Äôs almost a guarantee you‚Äôll see the lines more frequently than anything else in the codebase:</p>

<div><div><pre><code><span>if</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>return</span><span> </span><span>err</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>
<p>Although it may seem redundant and unnecessary for those new to the language, the reason errors in Go are treated as first-class citizens (values) has a deeply-rooted history in programming language theory and the main goal of Go as a language itself. Numerous efforts have been made to change or improve how Go deals with errors, but so far, one proposal is winning above all others:</p>

<p><img src="https://i.imgur.com/QvF1AbH.png" alt="Image"></p>

<p>- <a href="https://github.com/golang/go/issues/32825">Leave if err != nil alone!</a></p>

<h2 id="gos-error-philosophy">Go‚Äôs error philosophy</h2>

<p>Go‚Äôs philosophy regarding error handling forces developers to incorporate errors as first class citizens of most functions they write. Even if you ignore an error using something like:</p>

<div><div><pre><code><span>func</span><span> </span><span>getUserFromDB</span><span>()</span><span> </span><span>(</span><span>*</span><span>User</span><span>,</span><span> </span><span>error</span><span>)</span><span> </span><span>{</span><span> </span><span>...</span><span> </span><span>}</span><span>

</span><span>func</span><span> </span><span>main</span><span>()</span><span> </span><span>{</span><span>
    </span><span>user</span><span>,</span><span> </span><span>_</span><span> </span><span>:=</span><span> </span><span>getUserFromDB</span><span>()</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>
<p>Most linters or IDEs will catch that you‚Äôre ignoring an error, and it will certaintly be visible to your teammates during code review. However, in other languages, it may not be clear that your code is not handling a potential exception in a <code>try catch</code> code block, being completely opaque about handling your control flow.</p>

<p>If you handle errors in Go the standard way, you get the benefits of:</p>

<ol>
  <li>No hidden control-flows</li>
  <li>No unexpected <code>uncaught exception</code> logs blowing up your terminal (aside from actual program crashes via panics)</li>
  <li>full-control of errors in your code as <em>values</em> you can handle, return, and do anything you want with</li>
</ol>

<p>Not only is the syntax of <code>func f() (value, error)</code> easy to teach to a newcomer, but also a standard in any Go project which ensures consistency.</p>

<p>It‚Äôs important to note Go‚Äôs error syntax does not <strong>force</strong> you to handle every error your program may throw. Go simply provides a pattern to ensure you think of errors as critical to your program flow, but not much else. At the end of your program, if an error occurs, and you find it using <code>err != nil</code>, and your application doesn‚Äôt do something actionable about it, you‚Äôre in trouble either way - <strong>Go can‚Äôt save you</strong>. Let‚Äôs take a look at an example:</p>

<div><div><pre><code><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>criticalDatabaseOperation</span><span>();</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>// Only logging the error without returning it to stop control flow (bad!)</span><span>
    </span><span>log</span><span>.</span><span>Printf</span><span>(</span><span>"Something went wrong in the DB: %w"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>

</span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>saveUser</span><span>(</span><span>user</span><span>);</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"Could not save user: %w"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>If something goes wrong and <code>err != nil</code> in calling <code>criticalDatabaseOperation()</code>, we‚Äôre not doing anything with the error aside from logging it! We might have data corruption or an otherwise unexpected issue that we are not handling intelligently, either via retrying the function call, canceling further program flow, or in worst-case scenario, shutting down the program. Go isn‚Äôt magical and can‚Äôt save you from these situations. Go only provides a standard approach for returning and using errors as values, but you still have to figure out how to handle the errors yourself.</p>

<h3 id="how-other-languages-do-it-throwing-exceptions">How other languages do it: throwing exceptions</h3>

<p>In something like the Javascript Node.js runtime, you can structure your programs as follows, known as throwing <code>exceptions</code>:</p>

<div><div><pre><code><span>try</span> <span>{</span>
    <span>criticalOperation1</span><span>();</span>
    <span>criticalOperation2</span><span>();</span>
    <span>criticalOperation3</span><span>();</span>
<span>}</span> <span>catch</span> <span>(</span><span>e</span><span>)</span> <span>{</span>
    <span>console</span><span>.</span><span>error</span><span>(</span><span>e</span><span>);</span>
<span>}</span>
</code></pre></div></div>

<p>If an error occurs in any of these functions, the stack trace for the error will pop up at runtime and will be logged to the console, but there is no explicit, programmatic handling of what went wrong.</p>

<p>Your <code>criticalOperation</code> functions don‚Äôt need to explicitly handle error flow, as any exception that occurs within that try block will be raised at runtime along with a stack trace of what went wrong.
A benefit to exception-based languages is that, compared to Go, even an unhandled exception will still be raised via a stack trace at runtime if it occurs. In Go, it is possible to not handle a critical error at all, which can arguably be much worse. Go offers you full control of error handling, but also <strong>full responsibility</strong>.</p>

<p>EDIT: Exceptions are definitely not the only way other languages deal with errors. Rust,  for example, has a good compromise of using option types and pattern matching to find error conditions, leveraging some nice syntactic sugar to achieve similar results.</p>

<h3 id="why-go-doesnt-use-exceptions-for-error-handling">Why Go doesn‚Äôt use exceptions for error handling</h3>

<h4 id="the-zen-of-go">The Zen of Go</h4>

<p>The Zen of Go mentions two important proverbs:</p>

<ol>
  <li>Simplicity matters</li>
  <li>Plan for failure, not success</li>
</ol>

<p>Using the simple <code>if err != nil</code> snippet to all functions which return <code>(value, error)</code> helps ensure failure in your programs is thought of <em>first and foremost</em>. You don‚Äôt need to wrangle with complicated, nested <code>try catch</code> blocks which appropriately handle all possible exceptions being raised.</p>

<h4 id="exception-based-code-can-often-be-opaque">Exception-based code can often be opaque</h4>

<p>With exception-based code, however, you‚Äôre forced to be aware of every situation in which your code could have exceptions without actually handling them, as they‚Äôll be caught by your <code>try catch</code> blocks. That is, it encourages programmers to never check errors, knowing that at the very least, some exception will be handled automatically at runtime if it occurs.</p>

<p>A function written in an exception-based programming language may often look like this:</p>

<div><div><pre><code><span>item</span> <span>=</span> <span>getFromDB</span><span>()</span>
<span>item</span><span>.</span><span>Value</span> <span>=</span> <span>400</span>
<span>saveToDB</span><span>(</span><span>item</span><span>)</span>
<span>item</span><span>.</span><span>Text</span> <span>=</span> <span>'price changed'</span>
</code></pre></div></div>

<p>This code does nothing to ensure exceptions are properly handled. Perhaps the difference between making the code above become aware of exceptions is to switch the order of <code>saveToDB(item)</code> and <code>item.Text = 'price changed</code>, which is <strong>opaque</strong>, hard to reason about, and can encourage some lazy programming habits. In functional programming jargon, this is known as the fancy term: <a href="https://stackoverflow.com/questions/28992625/exceptions-and-referential-transparency/28993780#28993780">violating referential transparency</a>. This <a href="https://devblogs.microsoft.com/oldnewthing/?p=36693">blog post</a> from Microsoft‚Äôs engineering blog in 2005 still holds true today, namely:</p>

<blockquote>
  <p>My point isn‚Äôt that exceptions are bad.
My point is that exceptions are too hard and I‚Äôm not smart
enough to handle them.</p>
</blockquote>

<h2 id="benefits-of-gos-error-syntax">Benefits of Go‚Äôs error syntax</h2>

<h3 id="easy-creation-of-actionable-error-chains">Easy creation of actionable error chains</h3>

<p>A superpower of the pattern <code>if err != nil</code> is how it allows for easy error-chains to traverse a program‚Äôs hierarchy all the way to where they need to be handled. For example, a common Go error handled by a program‚Äôs <code>main</code> function might read as follows:</p>

<p>[2020-07-05-9:00] ERROR: Could not create user: could not check if user already exists in DB: could not establish database connection: no internet</p>

<p>The error above is (a) clear, (b) actionable, (c) has sufficient context as to what layers of the application went <em>wrong</em>. Instead of blowing up with an unreadable, cryptic stack trace, errors like these that are a result of factors we can add human-readable context to, and should be handled via clear error chains as shown above.</p>

<p>Moreover, this type of error chain arises naturally as part of a standard Go program‚Äôs structure, likely looking like this:</p>

<div><div><pre><code><span>// In controllers/user.go</span><span>
</span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>db</span><span>.</span><span>CreateUser</span><span>(</span><span>user</span><span>);</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
    </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"could not create user: %w"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
</span><span>}</span><span>

</span><span>// In database/user.go</span><span>
</span><span>func</span><span> </span><span>(</span><span>db</span><span> </span><span>*</span><span>Database</span><span>)</span><span> </span><span>CreateUser</span><span>(</span><span>user</span><span> </span><span>*</span><span>User</span><span>)</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>ok</span><span>,</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>db</span><span>.</span><span>DoesUserExist</span><span>(</span><span>user</span><span>)</span><span>
    </span><span>if</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"could not check if user already exists in db: %w"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>

</span><span>func</span><span> </span><span>(</span><span>db</span><span> </span><span>*</span><span>Database</span><span>)</span><span> </span><span>DoesUserExist</span><span>(</span><span>user</span><span> </span><span>*</span><span>User</span><span>)</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>err</span><span> </span><span>:=</span><span> </span><span>db</span><span>.</span><span>Connected</span><span>();</span><span> </span><span>err</span><span> </span><span>!=</span><span> </span><span>nil</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>fmt</span><span>.</span><span>Errorf</span><span>(</span><span>"could not establish db connection: %w"</span><span>,</span><span> </span><span>err</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>

</span><span>func</span><span> </span><span>(</span><span>db</span><span> </span><span>*</span><span>Database</span><span>)</span><span> </span><span>Connected</span><span>()</span><span> </span><span>error</span><span> </span><span>{</span><span>
    </span><span>if</span><span> </span><span>!</span><span>hasInternetConnection</span><span>()</span><span> </span><span>{</span><span>
        </span><span>return</span><span> </span><span>errors</span><span>.</span><span>New</span><span>(</span><span>"no internet connection"</span><span>)</span><span>
    </span><span>}</span><span>
    </span><span>...</span><span>
</span><span>}</span><span>
</span></code></pre></div></div>

<p>The beauty of the code above is that each of these errors are completely namespaced by their respective function, are informative, and only handle responsibility for what they are aware of. This sort of error chaining using <code>fmt.Errorf("something went wrong: %w", err)</code> makes it trivial to build awesome error messages that can tell you <em>exactly</em> what went wrong based on how <em>you</em> defined it.</p>

<p>On top of this, if you want to also attach a stack trace to your functions, you can utilize the fantastic <a href="https://godoc.org/github.com/pkg/errors">github.com/pkg/errors</a> library, giving you functions such as:</p>

<div><div><pre><code><span>errors</span><span>.</span><span>Wrapf</span><span>(</span><span>err</span><span>,</span><span> </span><span>"could not save user with email %s"</span><span>,</span><span> </span><span>email</span><span>)</span><span>
</span></code></pre></div></div>

<p>which print out a stack trace <em>along</em> with the human-readable error chain you created through your code. If I could summarize the most important pieces of advice I‚Äôve received regarding writing idiomatic error handling in Go:</p>

<ol>
  <li>
    <p><strong>Add stack traces when your errors are actionable to developers</strong></p>
  </li>
  <li>
    <p><strong>Do something with your returned errors, don‚Äôt just bubble them up to main, log them, and forget them</strong></p>
  </li>
  <li>
    <p><strong>Keep your error chains unambiguous</strong></p>
  </li>
</ol>

<p>When I write Go code, error handling is the one thing I <em>never</em> worry about, because errors themselves are a central aspect of every function I write, giving me full control in how I handle them safely, in a readable manner, and responsibly.</p>

<blockquote>
  <p>‚Äúif ‚Ä¶; err != nil‚Äù is something you‚Äôll probably type if you write go. I don‚Äôt think it‚Äôs a plus or a negative. It gets the job done, it‚Äôs easy to understand, and it empowers the programmer to do the right thing when the program fails. The rest is up to you.</p>
</blockquote>

<p>- From <a href="https://news.ycombinator.com/item?id=20303468">Hacker News</a></p>

<h2 id="key-readings">Key Readings</h2>

<ul>
  <li><a href="https://github.com/golang/go/issues/32825">Leave if err != nil alone!</a></li>
  <li><a href="https://godoc.org/github.com/pkg/errors">Go pkg errors</a></li>
</ul>

</div></div>]]>
            </description>
            <link>https://rauljordan.com/2020/07/06/why-go-error-handling-is-awesome.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758509</guid>
            <pubDate>Tue, 07 Jul 2020 12:33:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fractally Broken]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 4 (<a href="https://news.ycombinator.com/item?id=23758256">thread link</a>) | @NiallBunting
<br/>
July 7, 2020 | https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html | <a href="https://web.archive.org/web/*/https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">

    <article>

        

<!--         <header class="post-header">
            <a id="blog-logo" href="https://www.niallbunting.com/">
                
                    <span class="blog-title">Niall Bunting</span>
                
            </a>
        </header> -->

        <!-- <span class="post-meta">
            <time datetime="2020-06-18">18 Jun 2020</time>
            
                on fractally, broken, and daily
            
        </span> -->

        <!-- <h1 class="post-title">Fractally Broken</h1> -->

        <section>
            <p>Fractally broken a definition.</p>

<p><strong>Fractal</strong>: <em>A never ending pattern.</em><br><strong>Broken</strong>: <em>Not functioning properly.</em></p>

<p>This is a phrase I heard from <a href="https://kragniz.eu/">Louis Taylor</a> a few years ago and I absolutely love it. <em>Edit: I have been told that the original source may have been <a href="https://eev.ee/blog/2012/04/09/php-a-fractal-of-bad-design/">https://eev.ee</a>.</em></p>

<p>It means that however much you zoom in or out from a thing it has faults. In an almost recursive manner.</p>

<p>It really sums up some projects. You look at the whole system and think some very bad words. Then you look at a component and think the same. Finally, you end up reading individual lines of code and the words continue flowing.</p>

<p>I also composed a limerick:</p>

<blockquote>
  <p>There once was a very bad project,</p>

  <p>With a fixed cost, scope and budget,</p>

  <p>It grew fractally broken,</p>

  <p>And the severs began smokin‚Äô,</p>

  <p>so none of the dev‚Äôs wanted to touch it.</p>
</blockquote>


        </section>

        


<!--
        <section id="more-work">
            
            <div class="left">
                <a class="equalize" href="/wii/balance/board/alarm/clock/daily/2020/06/17/wii-balance-board-alarm-clock-part-one.html" title="Previous Post: Wii Balance Board Alarm Clock">
                    <div>
                        <h6> ‚Üê Previous Project </h6>
                        <h4> Wii Balance Board Alarm Clock </h4>
                    </div>
                </a>
            </div>
        
            
            <div class="right">
                <a class="equalize" href="/covid/alone/daily/2020/06/19/covid-thoughts.html" title="next Post: Living alone during COVID">
                    <div>
                        <h6> Next Project ‚Üí</h6>
                        <h4> Living alone during COVID</h4>
                    </div>
                </a>
            </div>
        </section>
-->

        

    </article>

</div></div>]]>
            </description>
            <link>https://niallbunting.com/fractally/broken/daily/2020/06/18/fractally-broken.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758256</guid>
            <pubDate>Tue, 07 Jul 2020 11:59:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Guided Tour of the Plane-Based Geometric Algebra PGA]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 3 (<a href="https://news.ycombinator.com/item?id=23758179">thread link</a>) | @enkimute
<br/>
July 7, 2020 | https://bivector.net/PGA4CS.html | <a href="https://web.archive.org/web/*/https://bivector.net/PGA4CS.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="three">
				<div>
				        <div><p>
				        PGA is a <b>plane-based geometric algebra</b> which appears eminently suited for the description and computation of operations in <b>3D Euclidean geometry</b>. 
It naturally contains, in a real framework, efficient motion representations like homogeneous coordinates and  dual quaternions, fully integrated with oriented object models. 
PGA's encoding of primitives and operators in blocks of four coordinates makes it very suitable for <b>fast GPU
implementation</b>.</p><p>

To satisfy the curiosity raised by the <a href="https://www.youtube.com/watch?v=tX4H_ctggYo&amp;t=1080s" target="blank"><b>2019 SIGGRAPH</b></a> presentation on PGA, Leo Dorst decided to upgrade
<b>Chapter 11</b> of the 2007 book <a href="http://geometricalgebra.net/" target="blank"><b>Geometric Algebra for Computer Science (GA4CS)</b></a> to treat these new developments in a similarly precise but accessible style.
</p>
<p>

The present text assumes some <b>basic geometric algebra</b> knowledge (though it could be read without that, as a motivational inspiration to acquire that knowledge). 
Throughout, we try to be no more mathematical than required, and provide <b>illustrations</b> and links to <b>software demonstrations</b>.
</p><p>

This text takes care to propagate <b>orientational signs</b> and <b>scaling factors</b> through all its operations, since the author believes that PGA allows for such a consistently <b>oriented Euclidean geometry</b>. 
Guessing signs afterwards should no longer be required...</p><p>

Enjoy! We plan to post updates on new developments on this page, and in upgraded versions of this '<a href="https://bivector.net/PGA4CS.pdf">Guided Tour to the Plane-Based Geometric Algebra PGA</a>'.</p><p>

Leo Dorst<br>
Steven De Keninck</p><p>

July 2020
				        </p></div>
					
                                </div>
                        </section></div>]]>
            </description>
            <link>https://bivector.net/PGA4CS.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758179</guid>
            <pubDate>Tue, 07 Jul 2020 11:46:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Statically sized higher-kinded polymorphism]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23758147">thread link</a>) | @fanf2
<br/>
July 7, 2020 | http://blog.ielliott.io/sized-hkts/ | <a href="https://web.archive.org/web/*/http://blog.ielliott.io/sized-hkts/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section> <article>
    

    <p>07 July 2020</p>

    <div>
  <div>
    <p>
        Memory-sensitive languages like C++ and Rust use compile-time information to calculate
        sizes of datatypes. These sizes are used to inform alignment, allocation, and calling conventions in ways
        that improve runtime performance. Modern languages in this setting support generic types, but so far
        these languages only allow parameterisation over types, not type constructors. In this article I describe
        how to enable parameterisation over arbitrary type constructs, while still retaining compile-time calculation
        of datatype sizes.
    </p>
    <p>
        The code for this project can be found <a href="https://github.com/LightAndLight/sized-hkts">here</a>.
    </p>
  </div>

  
</div>

<h2 id="background">Background</h2>

<h3 id="generics">Generics</h3>

<p>Many typed languages support some form of generic (parameterised) datatypes. This ability to abstract
over types is known as ‚Äòparametric polymorphism‚Äô (polymorphism for short). In Rust, for example, one
can define type of polymorphic pairs as <code>struct Pair&lt;A, B&gt;(fst: A, snd: B)</code>. In this definition, <code>A</code> and <code>B</code> are type 
variables (or type parameters), and can be substituted for other types: 
<code>Pair&lt;bool, bool&gt;</code>, <code>Pair&lt;bool, char&gt;</code>, and <code>Pair&lt;String, int32&gt;</code> are all valid pairs.</p>

<p>The name of a type, without any parameters, is known as a type constructor. <code>Pair</code> is not a type on its own; 
<code>Pair&lt;A, B&gt;</code> (for some types <code>A</code> and <code>B</code>) is. The number of types required to ‚Äòcomplete‚Äô a type constructor is known
as its arity (so <code>Pair</code> has arity 2). The arity of a type constructor must always be respected; it‚Äôs an error to 
provide greater or fewer type parameters than are expected. For example, <code>Pair&lt;bool&gt;</code> and 
<code>Pair&lt;char, int32, String&gt;</code> are invalid.</p>

<h3 id="sizing">Sizing</h3>

<p>When using C++ or Rust, the compiler will calculate how many bytes of memory each datatype requires. Simple
types like <code>int32</code> and <code>bool</code> have a constant size; 4 bytes and 1 byte respectively. The size of datatypes 
built using of other simple types is easy to calculate. The simplest way to calculate the size of a struct 
is to sum the sizes of the fields, and the simplest way to calculate the size of an enum (or tagged union)
is to find the largest variant, and add 1 (for a tag byte). This is rarely the exact formula used by production
compilers, because they take <a href="https://en.wikipedia.org/wiki/Data_structure_alignment">alignment</a> into account.
This article will assume the simple sizing formula, because the results can easily be adapted to more nuanced
formulae.</p>

<p>The size of a datatype like <code>struct TwoInts(x: int32, y: int32)</code> is known immediately at its definition. <code>TwoInts</code>
requires 8 bytes of memory. On the other hand, the size of a generic datatype is not always known at its definition.
What is the size of <code>struct Pair&lt;A, B&gt;(fst: A, snd: B)</code>? It‚Äôs the size of <code>A</code> plus the size of <code>B</code>, for some 
unknown <code>A</code> and <code>B</code>.</p>

<p>This difficulty is usually addressed by only generating code for datatypes and functions when all the generic
types have been replaced with concrete types. This process is known as monomorphisation. If the program contains a 
<code>Pair(true, true)</code>, then the compiler will generate
a new type <code>struct PairBoolBool(fst: bool, snd: bool)</code> whose size is statically known. If <code>Pair(true, true)</code>
is passed to a function <code>fn swap&lt;A, B&gt;(p: Pair&lt;A, B&gt;) -&gt; Pair&lt;B, A&gt;</code>, then the compiler generates a new
function <code>fn swapBoolBool(p: PairBoolBool) -&gt; PairBoolBool</code>. Because this new function only uses types with known
sizes, the code for memory allocation and calling conventions can be generated correctly.</p>

<p>There are also generic types that <em>don‚Äôt</em> depend on the size of their parameters. An example of
this is the pointer, commonly known in Rust as <code>Box&lt;A&gt;</code>. A pointer has the same size (often 4 or 8 bytes depending
on your CPU) regardless of what it points to. But in order to allocate a new pointer, the size of the item must
be known.</p>

<p>For each generic datatype or function, the compiler keeps track of which type variables are important for sizing
calculations. The specifics of this is discussed in the <a href="#type-classes">Type Classes</a> section.</p>

<h3 id="kinds">Kinds</h3>

<p>A consequence of all this is that in these languages, type variables can only stand for types. But there
are good reasons to have type variables that stand for type constructors, too:</p>

<div><div><pre><code><span>struct</span> <span>One</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>One</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>One</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>

<span>struct</span> <span>Two</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>,</span> <span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>Two</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Two</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>

<span>struct</span> <span>Three</span><span>&lt;</span><span>A</span><span>&gt;</span><span>(</span><span>A</span><span>,</span> <span>A</span><span>,</span> <span>A</span><span>)</span>

<span>impl</span> <span>&lt;</span><span>A</span><span>&gt;</span> <span>Three</span><span>&lt;</span><span>A</span><span>&gt;</span><span>{</span>
  <span>map</span><span>&lt;</span><span>B</span><span>,</span> <span>F</span><span>:</span> <span>Fn</span><span>(</span><span>A</span><span>)</span> <span>-&gt;</span> <span>B</span><span>&gt;</span><span>(</span><span>self</span><span>,</span> <span>f</span><span>:</span> <span>F</span><span>)</span> <span>-&gt;</span> <span>Three</span><span>&lt;</span><span>B</span><span>&gt;</span> <span>{</span> <span>...</span> <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here are some 1-arity container types. The only difference between these datatypes is the number of elements
they contain. They all support a <code>map</code> operation, which applies a function to all the datatype‚Äôs elements. Functions
that use <code>map</code> need to be implemented once for each type, even when their implementations are identical:</p>

<div><div><pre><code><span>fn</span> <span>incrOne</span><span>(</span><span>x</span><span>:</span> <span>One</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>One</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>

<span>fn</span> <span>incrTwo</span><span>(</span><span>x</span><span>:</span> <span>Two</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>Two</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>

<span>fn</span> <span>incrThree</span><span>(</span><span>x</span><span>:</span> <span>Three</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>Three</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span>
</code></pre></div></div>

<p>To remedy this, there must first be a way to abstract over the type constructors, so that the code can
be written <em>once</em> and for all:</p>

<div><div><pre><code><span>fn</span> <span>incr</span><span>&lt;</span><span>F</span><span>&gt;</span><span>(</span><span>x</span><span>:</span> <span>F</span><span>&lt;</span><span>int32</span><span>&gt;</span><span>)</span> <span>-&gt;</span> <span>F</span><span>&lt;</span><span>int32</span><span>&gt;</span> <span>{</span> <span>x</span><span>.map</span><span>(|</span><span>n</span><span>|</span> <span>n</span> <span>+</span> <span>1</span><span>)</span> <span>}</span> <span>// when F&lt;A&gt; has map, for all types A</span>
</code></pre></div></div>

<p>Then, there must be some way to rule out invalid types. For example, replacing <code>F</code> with <code>bool</code> in <code>F&lt;int32&gt;</code>
is invalid, because <code>bool&lt;int32&gt;</code> is not a type. This is the job of kinds<sup id="fnref:1"><a href="#fn:1">1</a></sup>.</p>

<p>Kinds describe the ‚Äòshape‚Äô of types (and type constructors) in the same way that types describe the ‚Äòshape‚Äô 
of values. A type‚Äôs kind determines whether or not it takes any parameters. Here‚Äôs the syntax of kinds:</p>

<div><div><pre><code>kind ::=
  Type
  kind -&gt; kind
</code></pre></div></div>

<p>Types that take no arguments (like <code>bool</code>, <code>char</code>, and <code>String</code>) have kind <code>Type</code>. Types that take one argument,
like <code>One</code>, have kind <code>Type -&gt; Type</code>. In the code for <code>incr</code> above, <code>F</code> implicitly has kind <code>Type -&gt; Type</code>. Types
that take more than one argument are represented in <a href="https://en.wikipedia.org/wiki/Currying">curried form</a>. This
means that <code>Two</code> has kind <code>Type -&gt; Type -&gt; Type</code>, not <code>(Type, Type) -&gt; Type</code>. <code>Three</code> has kind <code>Type -&gt; Type -&gt; Type -&gt; Type</code>,
and so on.</p>

<p>Curried type constructors are standard in this setting, but not <em>necessary</em>. The results in this article could
also be applied to a setting with uncurried type constructors, at cost to expressiveness or implementation complexity.</p>

<p>Kinds put types and type constructors on equal footing. For the remainder of the article, both concepts will be
referred to as types. The kind becomes the distinguishing feature. For example, ‚Äútype constructor of arity 2‚Äù would
be replaced by ‚Äútype of kind <code>Type -&gt; Type -&gt; Type</code>‚Äù.</p>

<p>Some final jargon: types with a kind other than <code>Type</code> are known as ‚Äòhigher-kinded types‚Äô, and parameterising
over higher-kinded types is known as ‚Äòhigher-kinded polymorphism‚Äô.</p>

<h3 id="type-classes">Type Classes</h3>

<p>Rust uses <a href="https://blog.rust-lang.org/2015/05/11/traits.html">traits</a> to coordinate sizing calculations. Each
datatype implicitly receives an implementation of the <code>Sized</code> trait, and every type variable that is relevant for
a sizing calculation is given a <code>Sized</code> bound. This means that trait resolution, an already useful feature, can
be re-used to perform size calculations.</p>

<p>Closely related to traits is the functional programming concept of type classes<sup id="fnref:1:1"><a href="#fn:1">1</a></sup>. There are differences between the two,
but those differences don‚Äôt impact the results of this article. Type classes will prove a more convenient language
in which to discuss these ideas.</p>

<p>A type class (or trait) can be considered a predicate on types. A type class constraint (or trait bound) is an assertion
that the predicate must be true. For each constraint that is satisfied, there is corresponding ‚Äòevidence‚Äô that the
predicate is true.</p>

<p>When a type <code>T</code> has a <code>Sized</code> constraint, it is being asserted that the statement ‚Äú<code>T</code> has a known size‚Äù is true. For
brevity, this will be written as <code>Sized T</code>. When this statement satisfied (for instance, when <code>T</code> is <code>int32</code>), the
evidence is produced is <em>the actual size</em> of <code>T</code> (when <code>Sized int32</code> is satisfied, the evidence
is the number <code>4</code> - the size of <code>int32</code>).</p>

<p>Generic types like <code>Two&lt;A&gt;</code> have a size that depends on their type parameter. In terms of constraints, it can
be said that <code>Sized A</code> <em>implies</em> <code>Sized Two&lt;A&gt;</code>. If <code>A</code> is <code>int32</code>, then its size is <code>4</code>, which implies that
<code>Two&lt;int32&gt;</code> has a size of <code>4 + 4 = 8</code>. Similarly, of <code>Pair</code> it can be said that <code>Sized A</code> implies [ <code>Sized B</code> implies 
<code>Sized Pair&lt;A, B&gt;</code> ]. There is a choice between a curried an uncurried version; it could also be said that
[ <code>Sized A</code> <em>and</em> <code>Sized B</code> ] implies <code>Sized Pair&lt;A, B&gt;</code>, but the curried version will be used for convenience.</p>

<p>Note that type <em>constructors</em> don‚Äôt have a size. In other words, only types of kind <code>Type</code> have a size. A type constructor
such as <code>Two</code> (of kind <code>Type -&gt; Type</code>) has a size <em>function</em>. Given the sizes of the type constructor‚Äôs parameters,
a size function computes the size of the resulting datatype. <code>Two</code>‚Äôs size function is <code>\a -&gt; a + a</code>. <code>Pair</code>‚Äôs size
function <code>\a -&gt; b -&gt; a + b</code> (it could also be <code>\(a, b) -&gt; a + b</code> in an uncurried setting).</p>

<h3 id="problem-statement">Problem Statement</h3>

<p>With the background out of the way, the specific problem can be stated:</p>

<p>When a type of kind <code>Type</code> is relevant for a size calculation, it is given a <code>Sized</code> constraint, which will be
satisfied with a concrete size as evidence. What is the equivalent notion of constraint and evidence for
higher-kinded types that contribute to size calculations?</p>

<h2 id="solution">Solution</h2>

<p>An elegant solution to this problem can found by introducing quantified class constraints<sup id="fnref:2"><a href="#fn:2">2</a></sup>. Quantified constraints 
are an extension to type classes that add implication and quantification to the language of constraints, and corresponding
notions of evidence.</p>

<p>Here‚Äôs new syntax of quantified size constraints:</p>

<div><div><pre><code>constraint ::=
  Sized type               (size constraint)
  constraint =&gt; constraint (implication constraint)
  forall A. constraint     (quantification constraint)
</code></pre></div></div>

<p>The evidence for a constraint <code>c1 =&gt; c2</code> is a function that takes evidence for <code>c1</code> and produces evidence for <code>c2</code>, and the
evidence for <code>forall A. c</code> is just the evidence for <code>c</code>. The evidence for quantification constraints is a bit more nuanced
in general, but this description is accurate when only ‚Ä¶</p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://blog.ielliott.io/sized-hkts/">http://blog.ielliott.io/sized-hkts/</a></em></p>]]>
            </description>
            <link>http://blog.ielliott.io/sized-hkts/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23758147</guid>
            <pubDate>Tue, 07 Jul 2020 11:43:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Concurrency Cost Hierarchy]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=23757786">thread link</a>) | @signa11
<br/>
July 7, 2020 | https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html | <a href="https://web.archive.org/web/*/https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    
<!-- boilerplate 
page.assets: /assets/concurrency-costs
assetpath: /assets/concurrency-costs
tablepath: /misc/tables/concurrency-costs
-->

<h2 id="introduction">Introduction</h2>

<p>Concurrency is hard to get <em>correct</em>, at least for those of us unlucky enough to be writing in languages which expose directly the guts of concurrent hardware: threads and shared memory. Getting concurrency correct <em>and</em> fast is hard, too. Your knowledge about single-threaded optimization often won‚Äôt help you: at a micro (instruction) level we can‚Äôt simply apply the usual rules of Œºops, dependency chains, throughput limits, and so on. The rules are different.</p>

<p>If that first paragraph got your hopes up, this second one is here to dash them: I‚Äôm not actually going to do a deep dive into the very low level aspects of concurrent performance. There are a lot of things we just don‚Äôt know about how atomic instructions and fences execute, and we‚Äôll save that for another day.</p>

<p>Instead, I‚Äôm going to describe a higher level taxonomy that I use to think about concurrent performance. We‚Äôll group the performance of concurrent operations into six broad <em>levels</em> running from fast to slow, with each level differing from its neighbors by roughly an order of magnitude in performance.</p>

<p>I often find myself thinking in terms of these categories when I need high performance concurrency: what is the best level I can practically achieve for the given problem? Keeping the levels in mind is useful both during initial design (sometimes a small change in requirements or high level design can allow you to achieve a better level), and also while evaluating existing systems (to better understand existing performance and evaluate the path of least resistance to improvements).</p>

<h3 id="a-real-world-example">A ‚ÄúReal World‚Äù Example</h3>

<p>I don‚Äôt want this to be totally abstract, so we will use a real-world-if-you-squint<sup id="fnref:realworld"><a href="#fn:realworld">1</a></sup> running example throughout: safely incrementing an integer counter across threads. By <em>safely</em> I mean without losing increments, producing out-of-thin air values, frying your RAM or making more than a minor rip in space-time.</p>

<h3 id="source-and-results">Source and Results</h3>

<p>The source for every benchmark here is <a href="https://github.com/travisdowns/concurrency-hierarchy-bench">available</a>, so you can follow along and even reproduce the results or run the benchmarks on your own hardware. All of the results discussed here (and more) are available in the same repository, and each plot includes a <code>[data table]</code> link to the specific subset used to generate the plot.</p>

<h3 id="hardware">Hardware</h3>

<p>All of the performance results are provided for several different hardware platforms: Intel Skylake, Ice Lake, Amazon Graviton and Graviton 2. However except when I explicitly mention other hardware, the prose refers to the results on Skylake. Although the specific numbers vary, most of the qualitative relationships hold for the hardware too, but <em>not always</em>. Not only does the hardware vary, but the OS and library implementations will vary as well.</p>

<p>It‚Äôs almost inevitable that this will be used to compare across hardware (‚Äúwow, Graviton 2 sure kicks Graviton 1‚Äôs ass‚Äù), but that‚Äôs not my goal here. The benchmarks are written primarily to tease apart the characteristics of the different levels, and <em>not</em> as a hardware shootout.</p>

<p>Find below the details of the hardware used:</p>

<table>
  <thead>
    <tr>
      <th>Micro-architecture</th>
      <th>ISA</th>
      <th>Model</th>
      <th>Tested Frequency</th>
      <th>Cores</th>
      <th>OS</th>
      <th>Instance Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Skylake</td>
      <td>x86</td>
      <td>i7-6700HQ</td>
      <td>2.6 GHz</td>
      <td>4</td>
      <td>Ubuntu 20.04</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Ice Lake</td>
      <td>x86</td>
      <td>i5-1035G4</td>
      <td>3.3 GHz</td>
      <td>4</td>
      <td>Ubuntu 19.10</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>Graviton</td>
      <td>AArch64</td>
      <td>Cortex-A72</td>
      <td>2.3 GHz</td>
      <td>16</td>
      <td>Ubuntu 20.04</td>
      <td>a1.4xlarge</td>
    </tr>
    <tr>
      <td>Graviton 2</td>
      <td>AArch64</td>
      <td>Neoverse N1</td>
      <td>2.5 GHz</td>
      <td>16<sup id="fnref:g2cores"><a href="#fn:g2cores">2</a></sup></td>
      <td>Ubuntu 20.04</td>
      <td>c6g.4xlarge</td>
    </tr>
  </tbody>
</table>

<h2 id="level-2-contended-atomics">Level 2: Contended Atomics</h2>

<p>You‚Äôd probably expect this hierarchy to be introduced from fast to slow, or vice-versa, but we‚Äôre all about defying expectations here and we are going to start in the <em>middle</em> and work our way outwards. The middle (rounding down) turns out to be <em>level 2</em> and that‚Äôs where we will jump in.</p>

<p>The most elementary way to safely modify any shared object is to use a lock. It mostly <em>just works</em> for any type of object, no matter its structure or the nature of the modifications. Almost any mainstream CPU from the last thirty years has some type of locking<sup id="fnref:parisc"><a href="#fn:parisc">3</a></sup> instruction accessible to userspace.</p>

<p>So our baseline increment implementation will use a simple mutex of type <code>T</code> to protect a plain integer variable:</p>

<div><div><pre><code><span>T</span> <span>lock</span><span>;</span>
<span>uint64_t</span> <span>counter</span><span>;</span>

<span>void</span> <span>bench</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>std</span><span>::</span><span>lock_guard</span><span>&lt;</span><span>T</span><span>&gt;</span> <span>holder</span><span>(</span><span>lock</span><span>);</span>
        <span>counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>We‚Äôll call this implementation <em><abbr title="Uses a std::mutex and std::lock_guard to protect a plain integer counter.">mutex add</abbr></em>, and on my 4 CPU Skylake-S i7-6700HQ machine, when I use the vanilla <code>std::mutex</code> I get the following results for 2 to 4 threads:</p>



<p>The reported value is the median of all trials, and the vertical black error lines at the top of each bar indicate the <em>interdecile range</em>, i.e., the values at the 10th and 90th percentile. Where the error bars don‚Äôt show up, it means there is no difference between the p10 and p90 values at all, at least within the limits of the reporting resolution (100 picoseconds).</p>

<p>This shows that the baseline contended cost to modify an integer protected by a lock starts at about 125 nanoseconds for two threads, and grows somewhat with increasing thread count.</p>

<p>I can already hear someone saying: <em>If you are just modifying a single 64-bit integer, skip the lock and just directly use the atomic operations that most ISAs support!</em></p>

<p>Sure, let‚Äôs add a couple of variants that do that. The <code>std::atomic&lt;T&gt;</code> template makes this easy: we can wrap any type meeting some basic requirements and then manipulate it atomically. The easiest of all is to use <code>std::atomic&lt;uint64&gt;::operator++()</code><sup id="fnref:post"><a href="#fn:post">4</a></sup> and this gives us <em><abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>atomic_counter</span><span>{};</span>

<span>void</span> <span>atomic_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>atomic_counter</span><span>++</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>The other common approach would be to use <a href="https://en.wikipedia.org/wiki/Compare-and-swap">compare and swap (<abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>)</a> to load the existing value, add one and then <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> it back if it hasn‚Äôt changed. If it <em>has</em> changed, the increment raced with another thread and we try again.</p>

<p>Note that even if you use increment at the source level, the assembly might actually end up using <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> if your hardware doesn‚Äôt support atomic increment<sup id="fnref:atomicsup"><a href="#fn:atomicsup">5</a></sup>, or if your compiler or runtime just don‚Äôt take advantage of atomic operations even though they are available (e.g., see what even the newest version of <a href="https://godbolt.org/z/5h4K7y">icc does</a> for atomic increment, and what Java did for years<sup id="fnref:java"><a href="#fn:java">6</a></sup>). This caveat doesn‚Äôt apply to any of our tested platforms, however.</p>

<p>Let‚Äôs add a counter implementation that uses <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> as described above, and we‚Äôll call it <em><abbr title="Uses a CAS loop to increment a single shared counter.">cas add</abbr></em>:</p>

<div><div><pre><code><span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>uint64_t</span><span>&gt;</span> <span>cas_counter</span><span>;</span>

<span>void</span> <span>cas_add</span><span>(</span><span>size_t</span> <span>iters</span><span>)</span> <span>{</span>
    <span>while</span> <span>(</span><span>iters</span><span>--</span><span>)</span> <span>{</span>
        <span>uint64_t</span> <span>v</span> <span>=</span> <span>cas_counter</span><span>.</span><span>load</span><span>();</span>
        <span>while</span> <span>(</span><span>!</span><span>cas_counter</span><span>.</span><span>compare_exchange_weak</span><span>(</span><span>v</span><span>,</span> <span>v</span> <span>+</span> <span>1</span><span>))</span>
            <span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>

<p>Here‚Äôs what these look like alongside our existing <code>std::mutex</code> benchmark:</p>



<p>The first takeaway is that, at least in this <em>unrealistic maximum contention</em> benchmark, using <abbr title="Uses an atomic increment on a single shared counter.">atomic add</abbr> (<a href="https://www.felixcloutier.com/x86/xadd"><code>lock xadd</code></a> at the hardware level) is significantly better than <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr>. The second would be that <code>std::mutex</code> doesn‚Äôt come out looking all that bad on Skylake. It is only slightly worse than the <abbr title="Compare-and-swap: an atomic operation implemented on x86 and other CPUs">CAS</abbr> approach at 2 cores and beats it at 3 and 4 cores. It is slower than the atomic increment approach, but less than three times as slow and seems to be scaling in a reasonable way.</p>

<p>All of these operations are belong to <em>level 2</em> in the hierarchy. The primary characteristic of level 2 is that they make a <em>contended access</em> to a shared variable. This means that at a minimum, the line containing the data needs to move out to the caching agent that manages coherency<sup id="fnref:l3"><a href="#fn:l3">7</a></sup>, and then back up to the core that will receive ownership next. That‚Äôs about 70 cycles minimum just for that operation<sup id="fnref:inter"><a href="#fn:inter">8</a></sup>.</p>

<p>Can it get slower? You bet it can. <em>Way</em> slower.</p>

<h3 id="level-3-system-calls">Level 3: System Calls</h3>

<p>The next level up (‚Äúup‚Äù is not good here‚Ä¶) is level 3. The key characteristic of implementations at this level is that they make a <em>system call on almost every operation</em>.</p>

<p>It is easy to write concurrency primitives that make a system call <em>unconditionally</em> (e.g., a lock which always tries to wake waiters via a <code>futex(2)</code> call, even if there aren‚Äôt any), but we won‚Äôt look at those here. Rather we‚Äôll take a look at a case where the fast path is written to avoid a system call, but the design or way it is used implies that such a call usually happens anyway.</p>

<p>Specifically, we are going to look at some <em>fair locks</em>. Fair locks allow threads into the critical section in the same order they began waiting. That is, when the critical section becomes available, the thread that has been waiting the longest is given the chance to take it.</p>

<p>Sounds like a good idea, right? Sometimes yes, but as we will see it can have significant performance implications.</p>

<p>On the menu are three different fair locks.</p>

<p>The first is a <a href="https://en.wikipedia.org/wiki/Ticket_lock">ticket lock</a> with a <code>sched_yield</code> in the spin loop. The idea of the yield is to give other threads which may hold the lock time to run. This <code>yield()</code> approach is publicly frowned upon by concurrency experts<sup id="fnref:notwhat"><a href="#fn:notwhat">9</a></sup>, who then sometimes go right ahead and use it anyway.</p>

<p>We will call it <abbr title="A ticket lock that calls sched_yield in a spin loop while waiting for its turn.">ticket yield</abbr> and it looks like this:</p>



<div><div><pre><code><span>/**
 * A ticket lock which uses sched_yield() while waiting
 * for the ticket to be served.
 */</span>
<span>class</span> <span>ticket_yield</span> <span>{</span>
    <span>std</span><span>::</span><span>atomic</span><span>&lt;</span><span>size_t</span><span>&gt;</span> <span>dispenser</span><span>{},</span> <span>serving</span><span>{};</span>

<span>public:</span>
    <span>void</span> <span>lock</span><span>()</span> <span>{</span>
        <span>auto</span> <span>ticket</span> <span>=</span> <span>dispenser</span><span>.</span><span>fetch_add</span><span>(</span><span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_relaxed</span><span>);</span>

        <span>while</span> <span>(</span><span>ticket</span> <span>!=</span> <span>serving</span><span>.</span><span>load</span><span>(</span><span>std</span><span>::</span><span>memory_order_acquire</span><span>))</span>
            <span>sched_yield</span><span>();</span>
    <span>}</span>

    <span>void</span> <span>unlock</span><span>()</span> <span>{</span>
        <span>serving</span><span>.</span><span>store</span><span>(</span><span>serving</span><span>.</span><span>load</span><span>()</span> <span>+</span> <span>1</span><span>,</span> <span>std</span><span>::</span><span>memory_order_release</span><span>);</span>
    <span>}</span>
<span>};</span>
</code></pre></div></div>

<p>Let‚Äôs plot the performance results for this lock alongside the existing approaches:</p>



<p>This is level 3 visualized: it is an order of magnitude slower than the level 2 approaches. The slowdown comes from the <code>sched_yield</code> call: this is a system call and these are generally on the order of 100s of nanoseconds<sup id="fnref:spectre"><a href="#fn:spectre">10</a></sup>, and it shows in the results.</p>

<p>This lock <em>does</em> have a fast path where <code>sched_yield</code> isn‚Äôt called: if the lock is available, no spinning occurs and <code>sched_yield</code> is never called. However, the combination of being a <em>fair</em> lock and the high contention in this test means that a lock convoy quickly forms (we‚Äôll describe this in more detail later) and so the spin loop is entered basically ‚Ä¶</p></div></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html">https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</a></em></p>]]>
            </description>
            <link>https://travisdowns.github.io/blog/2020/07/06/concurrency-costs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757786</guid>
            <pubDate>Tue, 07 Jul 2020 10:51:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Snapchat Detection on iOS (2019)]]>
            </title>
            <description>
<![CDATA[
Score 81 | Comments 35 (<a href="https://news.ycombinator.com/item?id=23757666">thread link</a>) | @mpweiher
<br/>
July 7, 2020 | https://aeonlucid.com/Snapchat-detection-on-iOS/ | <a href="https://web.archive.org/web/*/https://aeonlucid.com/Snapchat-detection-on-iOS/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>Previously we took a look at <a href="https://aeonlucid.com/Snapchat-detection-on-Android/">Snapchat‚Äôs root detection methods on Android</a>. This time we are taking a look at how they detect jailbreaks, tweaks and hooks on iOS.</p>



<p>All the research in this post is based on Snapchat 10.65.0.66 (832559634).</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_login_message.png" alt="Login Message">
</p>

<p>This is the message you see when you try to login with a detected tweak, although not all tweaks trigger this message. Two examples that trigger this message are <a href="http://cydia.saurik.com/package/com.johncoates.flex3/">Flex 3</a> and <a href="https://www.reddit.com/r/jailbreak/comments/9baacc/release_wraith_snapchatphantom_replacement/">Wraith</a>. Some just flag your account and will get you banned later in a ban wave if you are unlucky.</p>

<h2 id="avoiding-bans">Avoiding bans</h2>

<p>So obviously the first thing we want to look at is, what has the community tried so far to stay hidden? If you google around a bit you will most likely end up with these result. For a few of them, I will list the most notable features.</p>

<ul>
  <li>NoSub (or variants)
    <ul>
      <li>Disable Cydia Substrate / Substitute entirely for specific apps.</li>
      <li>Only if you can find an updated version and don‚Äôt want to use tweaks on Snapchat.</li>
    </ul>
  </li>
  <li><a href="https://github.com/NepetaDev/UnSub/blob/master/Tweak/Tweak.xm">UnSub</a>
    <ul>
      <li>Hooks and filters libc file system calls.</li>
      <li>Spoofs the libc getenv to remove the <code>DYLD_INSERT_LIBRARIES</code> variable.</li>
      <li>Spoofs <code>_dyld_image_count</code> and <code>_dyld_get_image_name</code> to hide tweak related dylibs.</li>
    </ul>
  </li>
  <li><a href="https://github.com/jjolano/shadow/blob/master/Tweak.xm">Shadow</a>
    <ul>
      <li>Too much to list.. it hooks way too much.</li>
      <li>Still misses lots of stuff for Snapchat specifically.</li>
    </ul>
  </li>
</ul>

<p>Even <a href="https://support.snapchat.com/en-US/a/jailbroken-iphone">Snapchat themselves recommend NoSub</a>..</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_snapchat_jailbroken_support.png" alt="Login Message">
</p>

<p>But it seems that nobody knows what Snapchat is <strong>exactly</strong> doing to detect everything. Which is why I am writing this post. Only one that I have seen <a href="https://twitter.com/cokepokes/status/1023114963550797824">publicly making efforts</a> to figure this out is the developer of Phantom, CokePokes.</p>

<h2 id="how-are-they-doing-it">How are they doing it?</h2>

<p>I will try my best to explain every check they do in Snapchat 10.65.0.66.</p>

<p>When you launch the app they create a new thread using <a href="http://man7.org/linux/man-pages/man3/pthread_create.3.html">pthread_create</a> that runs all the checks. At the end of these checks an integer is stored with flags of everything that was detected on the device. Some of these checks are then ran every 31 seconds.</p>

<p>All the code executed for these checks is obfuscated with <a href="https://www.crunchbase.com/organization/strong-codes">Snapchats in-house obfuscation tools</a> and thus very annoying to look at using tools such as IDA.</p>

<h3 id="code-signature-checks">Code signature checks</h3>

<p>One of the first things they do is checking and storing stuff from the code signature. This happens using the <code>sys_csops(169)</code> syscall, which is pretty much undocumented but is very similar to the code here.</p>

<ul>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops">xnu/bsd/kern/kern_proc.c.html#csops</a></li>
  <li><a href="https://fergofrog.com/code/cbowser/xnu/bsd/kern/kern_proc.c.html#csops_internal">xnu/bsd/kern/kern_proc.c.html#csops_internal</a></li>
</ul>

<p>They execute the following operations:</p>

<ul>
  <li><code>CS_OPS_STATUS</code></li>
  <li><code>CS_OPS_CDHASH</code></li>
  <li><code>CS_OPS_ENTITLEMENTS_BLOB</code></li>
</ul>

<p>The most important one of this is the <code>CS_OPS_STATUS</code>, this retrieves the current codesigning status of the process. A jailbroken device can respond with messy status flags. Such as:</p>

<ul>
  <li><code>CS_GET_TASK_ALLOW</code></li>
  <li><code>CS_INSTALLER</code></li>
  <li><code>CS_PLATFORM_BINARY</code></li>
  <li><code>CS_DEBUGGED</code> (Process was debugged / is being debugged)</li>
  <li>Or missing <code>CS_VALID</code>.</li>
</ul>

<p>A normal device would have these flags:</p>

<ul>
  <li><code>CS_VALID</code></li>
  <li><code>CS_HARD</code></li>
  <li><code>CS_KILL</code></li>
  <li><code>CS_ENFORCEMENT</code></li>
  <li><code>CS_REQUIRE_LV</code></li>
  <li><code>CS_DYLD_PLATFORM</code></li>
  <li><code>CS_SIGNED</code></li>
</ul>

<p>For all available flags and their descriptions, see <a href="https://fergofrog.com/code/cbowser/xnu/BUILD/obj/EXPORT_HDRS/osfmk/kern/cs_blobs.h.html#_M/CS_VALID">this page</a>.</p>

<p>The result of <code>CS_OPS_STATUS</code> and <code>CS_OPS_CDHASH</code> are stored and later sent to the Snapchat servers, encrypted.</p>

<h3 id="bundle-check">Bundle check</h3>

<p>This is a simple check but quite effective if not noticed by a tweak developer. Pseudo code looks like this.</p>

<div><div><pre><code>x0 = CFBundleGetMainBundle()
x1 = CFBundleGetIdentifier(x0)
x2 = CFStringGetCStringPtr(x1)
strncmp("com.toyopagroup.picaboo", x2)
</code></pre></div></div>

<h3 id="dyld-check">Dyld check</h3>

<p>Snapchat has two methods to iterate all loaded dylibs.</p>

<h4 id="first-attempt">First attempt</h4>

<p>One way is using <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L48">dyld_get_image_header</a> and <a href="http://man7.org/linux/man-pages/man3/dladdr1.3.html">dladdr</a>. They iterate over <code>dyld_get_image_header</code> until it returns null and checks if it has seen everything with <a href="https://github.com/theos/sdks/blob/master/iPhoneOS11.2.sdk/usr/include/mach-o/dyld.h#L47">dyld_image_count</a>. The <code>dladdr</code> method provides them with the path of the dylib. These are checked against a few unknown strings but removing everything substrate related from the dyld list fixes this check.</p>

<h4 id="second-attempt">Second attempt</h4>

<p>The other method they use is calling <a href="https://developer.apple.com/documentation/kernel/1537934-task_info">task_info</a> with flavor <code>TASK_DYLD_INFO</code>. This also gives them a list of all loaded dylibs and must be fixed separately from the first dyld check.</p>

<h3 id="file-system-checks">File system checks</h3>

<p>There are a couple of file system checks, of which all use the <code>sys_access(33)</code> syscall.</p>

<h4 id="first-list">First list</h4>

<ul>
  <li>/Library/Application Support/PhLite/phlite.bundle/AuthAPI.pem</li>
  <li>/private/var/tmp/cydia.log</li>
  <li>/bin/bash</li>
  <li>/usr/sbin/sshd</li>
  <li>/usr/libexec/ssh-keysign</li>
  <li>/usr/libexec/sftp-server</li>
  <li>/etc/ssh/sshd_config</li>
  <li>/.installed_yaluX</li>
  <li>/Library/LaunchDaemons/dropbear.plist</li>
  <li>/usr/local/bin/dropbear</li>
  <li>/System/Library/Caches/com.apple.dyld/enable-dylibs-to-override-cache</li>
  <li>/.cydia_no_stash</li>
  <li>/var/log/jailbreakd-stdout.log</li>
  <li>/etc/motd</li>
  <li>/usr/lib/libsubstitute.dylib</li>
  <li>/var/tmp/slide.txt</li>
</ul>

<h4 id="second-list">Second list</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Ghay</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/Snapchat.crc</li>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/embedded.mobileprovision</li>
</ul>

<h4 id="last-one-and-expected-to-exist">Last one (and expected to exist)</h4>

<ul>
  <li>/private/var/containers/Bundle/Application/AD659AF8-68C3-4E4B-BF02-236E1F733005/Snapchat.app/PlugIns</li>
</ul>

<p>The last one makes it a bit harder to fix, since you can not simply replace the arm instructions with something that makes it always return false. Thus requiring an inline hook as replacement for the syscall so you gain full control over it.</p>

<h3 id="obj-c---class-checks">Obj-C - Class checks</h3>

<p>A lot of classes are checked from a lot of different tweaks. This is done using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a>.</p>

<ul>
  <li><code>SCOthmanPrefs</code></li>
  <li><code>SCOthmanSnapSaver</code></li>
  <li><code>SCOFiltersOthman</code></li>
  <li><code>SCSnapchPrefs</code></li>
  <li><code>SCSnapchLocation</code></li>
  <li><code>SCOFiltersSnapch</code></li>
  <li><code>PHSnapSaver</code></li>
  <li><code>PHRegisterViewController</code></li>
  <li><code>phlite</code></li>
  <li><code>dfnvrknsv</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>PHMainSettingsVC</code></li>
  <li><code>SCPPrivacySettings</code></li>
  <li><code>SCPSettings</code></li>
  <li><code>SCPSavedMediaSettings</code></li>
  <li><code>SNAPCHAT_SCPSnapUsageSettings</code></li>
  <li><code>SNAPCHAT_SCPSegmentedController</code></li>
  <li><code>SNAPCHAT_CZPickerView</code></li>
  <li><code>CTAdBase</code></li>
  <li><code>CTRequestModel</code></li>
  <li><code>CTBannerView</code></li>
  <li><code>CPAdManager</code></li>
  <li><code>MMNativeAdController</code></li>
  <li><code>TweakBoxStartupManager</code></li>
  <li><code>SNAPCHAT_GPHelper</code></li>
  <li><code>SCKsausaPrefs</code></li>
  <li><code>SCSCGoodSnapSaver</code></li>
  <li><code>SNAPCHAT_XXXXXXX_GPHelper</code></li>
  <li><code>SCOFiltersHelper</code></li>
  <li><code>_xxx</code></li>
  <li><code>PHSSaver</code></li>
  <li><code>SIGMAPOINT_GPHelper</code></li>
  <li><code>SCS     SnapSaver</code></li>
  <li><code>SCW    wSnapSaver</code></li>
  <li><code>CYJSObject</code></li>
  <li><code>P         D</code></li>
  <li><code>R              t</code></li>
  <li><code>AVCameraViewControlIer</code></li>
  <li><code>SCAppDeIegate</code></li>
  <li><code>FLEXManager</code></li>
  <li><code>oJXM</code></li>
  <li><code>fJWs</code></li>
  <li><code>yytp</code></li>
  <li><code>FLManager</code></li>
  <li><code>DecryptScriptAlertView</code></li>
  <li><code>DzAdsManager</code></li>
</ul>

<h3 id="obj-c---method-checks">Obj-C - Method checks</h3>

<p>They also check methods. This happens using <a href="https://developer.apple.com/documentation/objectivec/1418952-objc_getclass">objc_getClass</a> and then <a href="https://developer.apple.com/documentation/objectivec/1418530-class_getinstancemethod">class_getInstanceMethod</a>. If any exists, you get flagged.</p>

<ul>
  <li><code>NSMutableString</code>
    <ul>
      <li><code>a</code></li>
      <li><code>b</code></li>
      <li><code>c</code></li>
    </ul>
  </li>
  <li><code>SCAppDelegate</code>
    <ul>
      <li><code>MZ42SGH98C:</code></li>
    </ul>
  </li>
  <li><code>SCOperaPageViewController</code>
    <ul>
      <li><code>saveButtonPressed</code></li>
    </ul>
  </li>
  <li><code>UIViewController</code>
    <ul>
      <li><code>dzDidTapGalleryButton</code></li>
    </ul>
  </li>
</ul>

<h3 id="obj-c---method-integrity-checks">Obj-C - Method integrity checks</h3>

<p>Next up is Snapchats own methods. For the classes listed below they first call <a href="https://developer.apple.com/documentation/objectivec/1418490-class_copymethodlist">class_copyMethodList</a>. Then for every <a href="https://developer.apple.com/documentation/objectivec/method?language=objc">Method</a> they check if the <code>IMP</code> pointer (address of the function) is within its own <code>__text</code> segment. This is how they detect whether a method has been hooked.</p>

<ul>
  <li><code>SCAppDelegate</code></li>
  <li><code>MainViewController</code></li>
  <li><code>SCChatMainViewController</code></li>
  <li><code>SCChatViewControllerV3</code></li>
  <li><code>SCScreenshotDetector</code></li>
  <li><code>SCBaseMediaOperaPresenter</code></li>
  <li><code>SCOperaPageViewController</code></li>
  <li><code>SCLoginService</code></li>
  <li><code>SCAdsHoldoutExperimentContext</code></li>
  <li><code>SCExperimentManager</code></li>
  <li><code>SCCaptionDefaultTextView</code></li>
  <li><code>SCChatTypingHandler</code></li>
  <li><code>Story</code></li>
  <li><code>SCChatMessageV3</code></li>
  <li><code>SCOperaViewersLayer</code></li>
</ul>

<p>Thanks to <code>dzan</code> for telling me to check the <code>__text</code> segment. :-)</p>

<h3 id="symbol-checks">Symbol checks</h3>

<p>They also check for a couple of symbols using <a href="https://linux.die.net/man/3/dlsym">dlsym</a>. If the result is not null, you get flagged.</p>

<ul>
  <li><code>MSHookMessageEx</code></li>
  <li><code>MSHookFunction</code></li>
  <li><code>_Z17replaced_readlinkPKcPcm</code></li>
  <li><code>hooksArray</code></li>
  <li><code>_OBJC_METACLASS_$__xxx</code></li>
  <li><code>_OBJC_CLASS_$_PHSSaverV2</code></li>
  <li><code>plist</code></li>
  <li><code>flexBreakPoint</code></li>
  <li><code>convert_coordinates_from_device_to_interface</code></li>
  <li><code>OBJC_METACLASS_$_DzSnapHelper</code></li>
  <li><code>ChKey2</code></li>
</ul>

<h3 id="symbol-hook-checks">Symbol hook checks</h3>

<p>A few symbols are resolved using <a href="https://linux.die.net/man/3/dlsym">dlsym</a> to check whether they have been hooked. They first resolve <code>dlsym</code> using <code>dlsym</code>.. yeah.. That result gets used for the <code>dlsym</code> of the symbols below. For every address returned, the first 4 bytes are checked for common hook related instructions.</p>

<ul>
  <li><code>dlsym</code></li>
  <li><code>objc_getClass</code></li>
  <li><code>class_getInstanceMethod</code></li>
  <li><code>sel_registerName</code></li>
  <li><code>class_copyMethodList</code></li>
  <li><code>_dyld_image_count</code></li>
  <li><code>_dyld_get_image_header</code></li>
  <li><code>dladdr</code></li>
</ul>

<h3 id="environment-variables">Environment variables</h3>

<p>I need to be honest, this is a very annoying way how they check for injection because it is annoying to fix. Instead of using <a href="http://man7.org/linux/man-pages/man3/getenv.3.html">getenv</a> they use the <a href="http://sourceware.org/git/?p=glibc.git;a=blob;f=posix/environ.c">environ</a> variable. Since it is a variable, you can not ‚Äúhook‚Äù it.</p>

<p>At least the following variables are detected.</p>

<ul>
  <li><code>DYLD_INSERT_LIBRARIES=/usr/lib/TweakInject.dylib</code></li>
  <li><code>_MSSafeMode=0</code></li>
</ul>

<h3 id="sandbox-check">Sandbox check</h3>

<p>Probably not an issue for anyone.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_sandbox.png" alt="iOS sandbox">
</p>

<h3 id="fingerprinting">Fingerprinting</h3>

<p>Not much detection done here but still relevant, using <code>sys_sysctl(202)</code> they request at least the following properties.</p>

<ul>
  <li><code>kern.version</code></li>
  <li><code>kern.osversion</code></li>
  <li><code>kern.proc.pid.&lt;PID&gt;</code></li>
  <li><code>hw.machine</code></li>
</ul>

<h3 id="other">Other</h3>

<p>The syscall <code>sys_proc_info(33)</code> is also called a couple of times, which could reveal stuff that is ptracing the process. They also use <code>sys_open(5)</code>, <a href="http://man7.org/linux/man-pages/man2/mmap.2.html">mmap</a>, <code>sys_close(6)</code> and <code>sys_lstat64(340)</code> on the <code>Snapchat</code> binary. Probably to check for modifications or generating a checksum.</p>

<h2 id="how-all-this-stuff-was-found">How all this stuff was found</h2>

<p>A lot of the work was done using a small iOS emulator build on top of <a href="https://github.com/unicorn-engine/unicorn">Unicorn</a>. Using an emulator you can see everything they do. Building this was also teached me a lot about the CoreFoundation library of iOS.</p>

<p><img src="https://aeonlucid.com/images/snapchat/ios_emulator.png" alt="iOS emulator">
</p>

<p>Later I implemented a counter for all of my discoveries in a tweak called <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> while carefully keeping track of how my changes modified the detection flags and slowly getting rid of all of them. You can easily find fixes for checks mentioned in this blog post in the ‚ÄúDetections‚Äù directory.</p>

<p>You could alternatively trace the syscalls using any of the methods discussed in the WhoYouGonnaSyscall talk by <a href="https://twitter.com/hexploitable">Hexploitable</a>. Slides of the talk can be found <a href="https://github.com/radareorg/r2con2019/blob/master/talks/WhoYouGonnaSyscall/Hex-r2con2019-WhoYouGonnaSyscall.pdf">here</a>.</p>

<h3 id="a-story-on-how-i-wasted-hours-on-fixing-syscalls">A story on how I wasted hours on fixing syscalls</h3>

<p>Let‚Äôs take <code>sys_access(33)</code> as an example. It‚Äôs implementation looks like <a href="http://man7.org/linux/man-pages/man2/access.2.html">this</a>. In short, when a file exists and permission is granted, return <code>0</code>. Otherwise return <code>-1</code>. First thing I did was force both of the results in my emulator but I saw no changes happening to the detection flags.</p>

<p>Later when implementing a fix for this in the <a href="https://github.com/AeonLucid/SnapHide">SnapHide</a> tweak, I was unable to have it fail. The arm instructions look like this:</p>

<div><div><pre><code>MOV             X0, X27 ; path
MOV             X1, #0  ; mode
MOV             X16, #0x21
SVC             0x80    ; SYS_access
MOV             X0, #0xFFFFFFFFFFFFFFFF
CSEL            X0, X0, XZR, CS
MOV             X27, X0 ; Use result
</code></pre></div></div>

<p>In ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://aeonlucid.com/Snapchat-detection-on-iOS/">https://aeonlucid.com/Snapchat-detection-on-iOS/</a></em></p>]]>
            </description>
            <link>https://aeonlucid.com/Snapchat-detection-on-iOS/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757666</guid>
            <pubDate>Tue, 07 Jul 2020 10:35:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What I Learnt From Reviewing 22 CVs]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 74 (<a href="https://news.ycombinator.com/item?id=23757585">thread link</a>) | @bryanrasmussen
<br/>
July 7, 2020 | https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html | <a href="https://web.archive.org/web/*/https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>I was recently asked to look over some CVs. It‚Äôs a while since I‚Äôve done this, so I thought that noting down my immediate reactions as I went through the CVs might help anyone having to circulate their own CV at the moment.</p>

<!--snip-->

<p><img src="https://youknowfordevs.com/images/uploads/christopher-sardegna-iRyGmA_no2Q-unsplash.jpg" alt="Photo by Christopher Sardegna on Unsplash"></p>

<p>I‚Äôm not for a moment saying I‚Äôm right or wrong in the following views, and this is definitely not one of those posts about ‚Äòhow to write your CV to land your dream job‚Äô. I‚Äôm merely laying out the responses I had and more importantly what I felt these reponses told me about the person behind the CV. My ‚Äògut reaction‚Äô may well be similar to others‚Äô and if they are, it might be worth bearing them in mind when you share your CV.</p>

<h2 id="looks-count-more-than-i-thought">Looks Count More Than I Thought</h2>

<p>First, it wasn‚Äôt until I reached the ninth CV that I realised how much a CV‚Äôs appearance makes a difference. When viewing numbers one to eight I hadn‚Äôt been thinking ‚Äòthese look terrible‚Äô, but when I reached the ninth, a part of my brain said: ‚ÄòFinally! A CV that looks good.‚Äô</p>

<p>I think if the role was for a C++ programmer then I probably would have simply smiled to myself, ignored my response, and moved on. That‚Äôs not to say that appearance doesn‚Äôt matter‚Äìor that C++ programmers don‚Äôt worry about their appearance‚Äìbut if I was trying to decide between two C++ programmers it wouldn‚Äôt be the look of their CV that was the deciding factor.</p>

<p>But the role for which I was reviewing this batch of CVs was a React developer and there are lots of very talented React developers out there. And when lots of people have worked with GraphQL and Docker and cloud services and D3 then it may well come down to whether or not you have made an effort to convey that you like things to ‚Äòlook nice‚Äô.</p>

<p>It‚Äôs worth saying too that the CVs that looked good didn‚Äôt go overboard; all they did was have a pleasing font, perhaps two columns instead of one for the layout, maybe a couple of icons and some colour, and probably didn‚Äôt span more than a couple of pages. But that was enough to convince me that these were people who would ensure that a bad-looking product didn‚Äôt get deployed.</p>

<h2 id="attention-to-detail">Attention to Detail</h2>

<p>Probably in the same vein, typos really jump out at you when you are looking at a lot of CVs. Again I‚Äôm not saying I‚Äôm right or wrong on whether this should be an important criteria, but the fact that my subconcscious reaction was to be turned off if I saw a spelling mistake‚Äìor a technology name that had been capitalised incorrectly‚Äìshows that somewhere in our psyches this stuff counts for something.</p>

<p>As with the previous point about looks, I‚Äôd probably see this as more relevant for front-end people.</p>

<p>And it might be worth saying that it‚Äôs usually not difficult to differentiate between those who have just not bothered to check their CV and those that have difficulty with spelling. I‚Äôve worked with people in the latter camp, both senior managers and junior programmers, and it‚Äôs not a big deal‚Äìyou can work with it and it would not stop me from hiring someone.</p>

<p>But to keep with the theme of my ‚Äòinitial reaction‚Äô, I can‚Äôt help that when I see someone write ‚ÄòGraphql‚Äô I‚Äôm going to doubt whether the applicant really has that much experience with ‚ÄòGraphQL‚Äô; maybe it‚Äôs worth just double-checking the website of the technologies you use one last time, before sending off that CV.</p>

<h2 id="approaches-v-technologies">Approaches v. Technologies</h2>

<p>One other thing that I hadn‚Äôt expected was that I was drawn to mark people more highly if they gave some indication of the <em>approach</em> they took to their coding and development. For example, a few people mentioned having experience with TDD, which I thought was good. That doesn‚Äôt mean I‚Äôd rule out someone who didn‚Äôt have TDD experience, but it‚Äôs an approach that people need to be aware of.</p>

<p>However, more importantly than TDD, only a handful indicated that they liked to get involved in code reviews and saw them as a good way to share knowledge and build a consistent and high quality codebase. Again, I would not rule out someone who didn‚Äôt mention code reviews, mentoring, and so on, provided they were relatively inexperienced; but I probably <em>would</em> rule out someone who clearly has experience, but hasn‚Äôt thought to mention these things.</p>

<h3 id="approach-from-technologies">Approach From Technologies</h3>

<p>What I was also surprised by was how the list of technologies on a person‚Äôs CV led to me forming an impression of the kind of coder that person was. If I saw GraphQL in the mix then I found myself thinking ‚Äòmodern tech stack‚Äô. It may be unfair, especially since GraphQL wasn‚Äôt mentioned in the job description that was circulated; but after reviewing all of the CVs I found that it was a pretty accurate indicator of the types of projects someone had been involved in.</p>

<p>There were other technologies that were similarly indicative, such as mention of ‚Äòmicroservices‚Äô, or use of MongoDB, Elasticsearch, Redis, RabbitMQ, and so on. But there were very few CVs where these technologies appeared without GraphQL.</p>

<p>There is probably no general rule here, since the technologies that differentiate will be different in each cohort of CVs; if every CV included GraphQL then it may have been the presence of something like Docker and/or Kubernetes that told you something about the kind of people you were looking at.</p>

<h2 id="public-profile">Public Profile</h2>

<p>This last point may also be controversial, but I‚Äôm going to describe it so that you can do whatever you like with the information; if someone was not on LinkedIn or didn‚Äôt have a public Git account, I found myself thinking ‚Äòwell, what exactly do they do?‚Äô</p>

<p>From this batch of 22 CVs, only one had answered any questions on Stack Overflow, and only one‚Äìa different person‚Äìhad done any talks at Meetups. A couple had GitHub accounts, a couple were on LinkedIn and a couple had blogs.</p>

<p>This is no doubt unfair, so again, blame my subconscious. But I can‚Äôt help think that if I‚Äôm going to work with some people day after day, I want to be with people that are sharing links to things they‚Äôve read, people who are trying out new technologies and languages, people who have weekend projects, or who are contributing bug fixes back to open source projects.</p>

<p>And although I‚Äôm not particularly a big fan of LinkedIn, I always quite like it when I see people who are at the early stages of their career making connections with everyone they met at last night‚Äôs Meetup.</p>

<p>None of this is to ignore the current discussion about work/life balance‚Äìto demand that people do their own education in their own time, spend all waking hours coding, attend Meetups every night of the week. But it is to recognise that we are in a fast-moving industry, and if you want your CV to be picked from amongst that batch of 22, then it‚Äôs going to be important to think about how you come across.</p>

<h2 id="qualifications">Qualifications</h2>

<p>One final thing has just occurred to me‚Ä¶I didn‚Äôt consider the qualifications of <em>anyone</em>, which I imagine is down to the role that the CVs were for. You‚Äôd certainly be interested in degrees and PhDs if you were hiring a data scientist or someone to write an operating system; in these spaces theory is a major element. But for fast-moving technologies like front-end development, you can probably tell everything about a person from their experience.</p>

<h2 id="conclusion">Conclusion</h2>

<p>I haven‚Äôt had to look at CVs for quite a while, so it was interesting to examine my own responses to reviewing this batch. What became clear is that I quickly ‚Äòmerged‚Äô the CV and the person in my mind. If there were mistakes in the CV I couldn‚Äôt help but imagine someone who lacked attention to detail. If there was a little bit of colour in the CV or the person had spoken at a Meetup then I couldn‚Äôt help but think that this was a person who was prepared to go the extra mile. And if the person had a public Git account then my spontaneous reaction was that this was someone who wanted to keep learning, and really enjoyed the work they do.</p>

<p>I may be wrong in my judgements or harsh in my conclusions, but if you‚Äôre about to send your CV out, at least you now have a couple more insights that might help you decide how your CV is representing you.</p>

  </div>
  
  
</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://youknowfordevs.com/2020/07/04/what-i-learnt-from-reviewing-22-cvs.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757585</guid>
            <pubDate>Tue, 07 Jul 2020 10:22:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Complete Spectrum ROM Disassembly]]>
            </title>
            <description>
<![CDATA[
Score 105 | Comments 52 (<a href="https://news.ycombinator.com/item?id=23757449">thread link</a>) | @MindGods
<br/>
July 7, 2020 | https://speccy.xyz/rom/ | <a href="https://web.archive.org/web/*/https://speccy.xyz/rom/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://speccy.xyz/rom/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23757449</guid>
            <pubDate>Tue, 07 Jul 2020 10:01:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: I built a desktop radiation monitor with Raspberry Pi, brass and wood]]>
            </title>
            <description>
<![CDATA[
Score 349 | Comments 63 (<a href="https://news.ycombinator.com/item?id=23756964">thread link</a>) | @chrisys
<br/>
July 7, 2020 | https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/ | <a href="https://web.archive.org/web/*/https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
            <p>I was always a fan of the steampunk style, and having also had experience building steam engines in the past, there was only one real direction this project could go. Once I had my radiation detector kit hooked up to my Raspberry Pi running InfluxDB and Grafana, I found myself woodworking, machining, and fabricobbling an enclosure out of mahogany, brass, copper, toggle switches and, because it just had to be done, nixie tubes.</p>

<p>Read the story of the almost year-long journey (<em>cough</em> some other stuff cropped up‚Ä¶) I went on to make my steampunk vision a reality below, and if you want to get up and running quickly, find out how to <a href="https://www.balena.io/blog/build-a-simple-radiation-monitor-using-a-raspberry-pi-influxdb-and-grafana/">build your own simple version right here</a>!</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/geiger-main.jpg" onclick="openModal();currentSlide(56)">  
</p>

<iframe width="100%" height="500" src="https://www.youtube.com/embed/lEL_XkN69n8" frameborder="0" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<hr>

<h2 id="contents">Contents</h2>

<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#inspiration">Inspiration &amp; Design</a></li>
<li><a href="#build">The build</a>
<ul><li><a href="#panel">The front panel</a></li>
<li><a href="#wood">Working with wood</a></li>
<li><a href="#brass">Top brass</a></li>
<li><a href="#dekatrons">Imitation Dekatrons</a></li>
<li><a href="#fasteners">Fussy about fasteners</a></li>
<li><a href="#pi">Plumbing in a Pi project</a></li>
<li><a href="#nixie">Nixie tubes</a></li>
<li><a href="#counter">Electrifying a mechanical counter</a></li>
<li><a href="#electronics">Electronics</a></li>
<li><a href="#geiger">Relocating the Geiger tube</a></li></ul></li>
<li><a href="#final">Final assembly</a></li>
<li><a href="#software">Programming and software</a></li>
<li><a href="#end">You have come to the end of your journey</a></li>
</ul>

<hr>

<h2 id="introductionspanidintrospan">Introduction <span id="intro"></span></h2>

<p>Low cost radiation monitors and Geiger counter kits have been available online for around $30-50US/¬£25-45 for a while, but standing alone they don‚Äôt do much other than make the recognizable ‚Äúclicking‚Äù sound we all know from movies and TV. I decided to up the ante by connecting one to a Raspberry Pi, storing the data with InfluxDB, and showing the readings with a Grafana dashboard.</p>



<p>I updated the tech, gave it a web interface, added remote management, and built a custom mahogany housing with brass and copper fittings to show everything off, because it‚Äôs important to look suitably <em>hip</em> when sitting on the desk next to your <a href="https://www.balena.io/blog/build-a-raspberry-pi-powered-train-station-oled-sign-for-your-desk/">train sign</a>‚Ä¶ right?</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/header.jpg" onclick="openModal();currentSlide(58)">  
</p>

<p>Anyway, I‚Äôm gonna show what I built to hopefully provide some inspiration, then show you how to get up and running with a simpler version of the project that anyone can build at home without any special tools. Let‚Äôs hit this.</p>

<hr>

<h2 id="inspirationdesignspanidinspirationspan">Inspiration &amp; design <span id="inspiration"></span></h2>

<p>I‚Äôve always found the idea of radiation fascinating; how there are invisible particles moving around at incredibly high speeds, crashing into things and flipping bits all around us. Due to my fascination, it doesn‚Äôt take a lot to capture my interest when it comes to this field.</p>

<p>One day last year I was reminiscing over the <a href="https://www.bbc.co.uk/news/business-44606771">now defunct</a> UK-based electronics retailer Maplin, and how they sold all sorts of interesting kits for the aspiring engineer. This led me to <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudhar‚Äôs blog</a> where he tells the story of the <em>Maplin Geiger Counter</em>.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/mudhar-example.png" alt="An excerpt and image from Richard Mudhar's post"></p>

<figure>  
The original Maplin Geiger Counter. Perhaps some of the design cues are visible here?! (Credit: <a href="https://www.richardmudhar.com/blog/2019/09/maplin-geiger-counter/">Richard Mudhar</a>)  
</figure>

<p>The kit that Richard has built above features both an electromechanical counter on the left, and two rings of LEDs reminiscent of <a href="https://en.wikipedia.org/wiki/Dekatron">dekatron tubes</a> on the right. This display has the neat design feature that as the rate of count increases, the display becomes more noticeable.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/dekatron.gif" alt=""></p>

<figure>  
The spinning light effect of the Dekatron is something I wanted to replicate. By Hellbus - Own work, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=4741470">https://commons.wikimedia.org/w/index.php?curid=4741470</a>.  
</figure>

<p>I liked the idea of combining the modern technology on the inside (Raspberry Pi, Grafana, etc.) with the timeless look of brass, copper, toggle switches, dark hardwood, and glass on the outside. The idea was now to build something that looked old and had that distinctive steampunk style, but was up to date and Internet-connected.</p>

<p>In addition to the total absolute count like the old Maplin counter, I wanted to offer a live display of the counts per minute (CPM) reading, and what better way to do this than with <a href="https://en.wikipedia.org/wiki/Nixie_tube">Nixie tubes</a>, to get that nice warm orange glow and keep things looking cosy.</p>

<p>I started scribbling down ideas and thoughts of materials I wanted to use alongside shopping lists for parts, and possible designs for the case.</p>

<p><img src="https://www.balena.io/blog/content/images/2020/07/notes.jpg" alt="Original shop notes!"></p>

<figure>  
Notes don‚Äôt survive well in a machine shop, but these are what‚Äôs left of my original sketches.  
</figure>

<p>This process was very much led by an image I had in my mind about how the thing should look and feel and so I just had to make it real‚Ä¶ somehow.</p>

<hr>

<h2 id="thebuildspanidbuildspan">The build <span id="build"></span></h2>

<p>With some thoughts and ideas scribbled down it was time to get started. As this is for the most part going to be a bespoke, hand-built item, and made up as I go along, it‚Äôs not necessary to put everything in CAD. There are of course some core items that exist already and cannot change size; the Raspberry Pi and radiation detector board, for example. These are off-the-shelf parts that have to fit in the box no matter what, and start to dictate the size of the final unit.</p>

<p>Almost all other parts are completely hand made, machined and fabricated. This was necessitated by the desire to make everything authentic; I didn‚Äôt want to build things just for looks, I wanted any design choices made for aesthetic reasons to also be functional; by this I mean when I put 18 screws in something to make it look good, they are going to be 18 <em>real</em> screws that you have to take out to gain access!</p>

<p><strong>NOTE:</strong> Each of the build log images link to a separate gallery when clicked. You can look through the images that way if you prefer, or read on in full detail.</p>

<h3 id="thefrontpanelspanidpanelspan">The front panel <span id="panel"></span></h3>

<p>I started with the front panel of the housing, I knew I wanted two toggle switches; one for power and one for sound (to disable the clicking noise), along with 3 nixie tubes to display the CPM up to 999. Normal background radiation is in the range of about 25-75 CPM, so I figured if background radiation is above 999 CPM, we have bigger problems than worrying about enough digits on the counter.</p>



<p>The two front panel pieces are made from 6mm thick mild steel plate, cut to size with an angle grinder and then milled to dimension with the help of Bridget, the Bridgeport. Holes are then cut for the nixies and the toggle switches.</p>



<p>I manufactured labels for each by hand-punching lettering into 0.5mm thick brass sheet, polishing and fixing with M2 screws. The steel pieces are coated with a clear lacquer to prevent corrosion.</p>

<h3 id="workingwithwoodspanidwoodspan">Working with wood <span id="wood"></span></h3>

<p>Wood isn‚Äôt my favourite material to work with, I mean it just changes shape of its own accord! Who can work with that?! Anyhow, it‚Äôs very pretty, and so it was decided that the outer box should be made of hardwood. I started with a scrap piece of mahogany, cut it to halve the thickness on the bandsaw, and then set about planing and shaping the sides of the box to fit the dimensions of the Raspberry Pi (3A+) and the radiation detector.</p>



<p>The dimensions of the front panel along with the steel faceplates were planned out in Fusion 360 so that I could print a cutting and drilling template. This was taped onto the planed piece of mahogany, the holes for screws were drilled, and the openings for components cut out.</p>



<p>The pieces were cut at 45 degree angles to enable a mitre joint in each corner. The joints were reinforced with biscuits (mmm biscuits), and then the 4 sides were glued and clamped and allowed to cure overnight.</p>



<p>The top and bottom of the case are made from the same scrap mahogany, but planed a lot thinner - approximately 6mm, the same as the steel plate.</p>

<h3 id="topbrassspanidbrassspan">Top brass <span id="brass"></span></h3>

<p>I had the idea that it would look good to hold the box together with a totally unnecessary amount of screws, 36 to be exact; 18 on top and 18 on the bottom. To prevent the screws damaging the wood surface and to add some extra detail to the top of the case I decided to make a brass plate that the screws all go through to clamp the top cover down.</p>



<p>Some pieces of 2mm brass strip were cut, mitred on the corners and soldered together. Once soldered, sanded and polished, the joints are barely visible.</p>



<p>Holes for screws were then drilled, and the brass plate used to secure the oversize lid to the box whilst it was sanded to size on a drum sander. I later learned that using a drum sander for this was a mistake as it marked the sides of the box, but you live and learn!</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/top-brass-7.jpg" onclick="openModal();currentSlide(22)"></p><figure>  
Finished case and lid woodwork with brass frame temporarily fitted  
</figure>

</div>

<h3 id="imitationdekatronsspaniddekatronsspan">Imitation Dekatrons <span id="dekatrons"></span></h3>

<p>My attempt at imitating the Dekatron tube effect starts with a piece of 50mm stainless steel (or aluminium) bar. The bar is turned on a lathe down to 40mm, and to have a cavity for the electronics. The work is removed from the lathe and parted off on a bandsaw before being returned to the lathe to have a hole drilled in the rear for cabling to drive the LEDs.</p>



<p>The part is then put on the milling machine to have 10 holes drilled and M2 <del>taps snapped off in the holes</del> threaded ready to fasten the faceplate.</p>



<p>The brass faceplate is made from the same 0.5mm thick brass sheet as the labels from the faceplates. Each piece is drilled with 20 holes (10 for LEDs, 10 for fasteners), and then hand stamped with the numbering for each LED.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/dekatrons-7.jpg" onclick="openModal();currentSlide(29)"></p><figure>  
The wired LED faceplate ready to be screwed into the housing.  
</figure>  
</div>

<p>The LEDs are wired with a common ground and connected using a piece of recycled floppy disk drive ribbon cable. All the work is then carried out a second time for the ‚ÄòX10‚Äô display. The eagle-eyed readers will notice that the second display is made from a different material than the first - this is due to the fact I snapped both a drill bit and a tap off in the M2 holes - working with stainless steel with these small tools is very difficult! I ended up making the second from aluminium, which machines like butter, in comparison.</p>



<p>Throughout the development of this project I found myself continually swapping fasteners and trying different combinations to see what looks best. The end result is a mix of M2 and M3 metric machine screws in both brass and stainless steel, cheese head and countersunk head, all slotted. You may notice that in earlier photos some of the parts were assembled with Allen-head cap screws but these were later swapped out. Ebay is usually a great place to get small quantities of fasteners of all different shapes and sizes.</p>

<div>  
    <p><img src="https://www.balena.io/blog/content/images/2020/07/screws.jpg" onclick="openModal();currentSlide(30)"></p><figure>  
A mix of fastener types used for this project - various M3 and M2 machine screws.  
</figure>  
</div>

<p>The wood screws used for the top and ‚Ä¶</p></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/">https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</a></em></p>]]>
            </description>
            <link>https://www.balena.io/blog/show-tell-a-steampunk-desktop-background-radiation-monitor/</link>
            <guid isPermaLink="false">hacker-news-small-sites-23756964</guid>
            <pubDate>Tue, 07 Jul 2020 08:33:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google offers free fabbing for 130nm open-source chips]]>
            </title>
            <description>
<![CDATA[
Score 955 | Comments 346 (<a href="https://news.ycombinator.com/item?id=23755693">thread link</a>) | @tomcam
<br/>
July 6, 2020 | https://fossi-foundation.org/2020/06/30/skywater-pdk | <a href="https://web.archive.org/web/*/https://fossi-foundation.org/2020/06/30/skywater-pdk">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
          <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>Did you ever dream about creating your own chip?
I mean, a physical chip.
One which you can hold in your hand, and which does exactly what you‚Äôve designed it to do?</p>

<p>Until today, there were two major road blocks: you had to get access to a process design kit (PDK) from a chip manufacturing house (a foundry), and you had to have enough money to actually pay for the manufacturing.
These times are over.
Today.</p>

<p>Today, in a FOSSi Dial-Up talk, Tim Ansell of Google announced <a href="https://github.com/google/skywater-pdk">SkyWater PDK</a>, the first manufacturable, open source <a href="https://en.wikipedia.org/wiki/Process_design_kit">process design kit</a>.
What differentiates this PDK from previous attempts is the fact that it is manufacturable: with this PDK, you can actually produce chips with the <a href="https://www.skywatertechnology.com/">SkyWater foundry</a> in the 130nm node.</p>

<p>That leaves you as chip designer only with one road block: money.
Manufacturing chips is expensive ‚Äì even for more than a decade old nodes like the 130nm node, you need to spend at least a couple thousand dollars.</p>

<p>You know what?
Don‚Äôt worry ‚Äì Google and efabless have got you covered!
They are providing <strong>completely free of cost</strong> chip manufacturing runs: one in November this year, and multiple more in 2021.
All open source chip designs qualify, no further strings attached!</p>

<p>Learn more about all of that by re-watching <a href="https://www.youtube.com/watch?v=EczW2IWdnOM">Tim‚Äôs Dial-Up talk</a> or click through the <a href="https://docs.google.com/presentation/d/e/2PACX-1vRtwZPc8ykkkgtUkHkoJZrP9jKOo3FYdKqbg-So0ic6_kx7ha1vHnxrWmuxWkTc9GfC8xl0TfEpMLwK/pub?start=false&amp;loop=false&amp;delayms=3000">slides</a>.</p>

<p>This is certainly a dream come true for us at the FOSSi Foundation.
We helped the Free and Open Source Silicon community, our community, grow and tackle huge challenges over the years.
An open, manufacturable PDK was the main blocker in a fully open flow between RTL and a physical chip, and we‚Äôre extremely excited to see that blocker removed.</p>

<p>As always, removing one roadblock only highlights more challenges:
RAM, ROM and flash compilers, analog blocks, optimizations to various tools, and much, much more.
Now is the perfect time to get involved in the Free and Open Source Silicon ecosystem ‚Äì or learn more about the accomplishments and challenges ahead of us.
A good starting point are the next Dial-Up talks.</p>

<p>Head over to the <a href="https://fossi-foundation.org/dial-up/">Dial-Up web site</a> for a listing of the upcoming talks on OpenROAD, cell design, OpenRAM, and Magic, an old, but surprisingly up-to-date tool!
To stay up-to-date with the latest developments in the FOSSi ecosystem <a href="https://librecores.us17.list-manage.com/subscribe?u=5d525b453672149a60c198960&amp;id=1241c8638b">subscribe to El Correo Libre</a>, our monthly newsletter bringing all the important news bits directly to your inbox (or <a href="https://medium.com/librecores">read it online</a>).</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/EczW2IWdnOM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

  </div>

</article>

	</div></div>]]>
            </description>
            <link>https://fossi-foundation.org/2020/06/30/skywater-pdk</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755693</guid>
            <pubDate>Tue, 07 Jul 2020 04:26:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Faces of Microsoft (2017)]]>
            </title>
            <description>
<![CDATA[
Score 137 | Comments 64 (<a href="https://news.ycombinator.com/item?id=23755238">thread link</a>) | @beefhash
<br/>
July 6, 2020 | https://www.typemag.org/post/the-faces-of-microsoft | <a href="https://web.archive.org/web/*/https://www.typemag.org/post/the-faces-of-microsoft">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

		
			<figure data-blockname="pull_quote">
				<p>‚ÄòWhy do we need more fonts?‚Äô asked Bill Gates. ‚ÄòWe‚Äôve got a	serif, a sans, and a monospace font. Why do we need more?‚Äô...</p>
				
			</figure>
			
			<header data-blockname="article_title">

				
				<h2><a href="https://www.typemag.org/category/3">History of type</a></h2>
				

				

				<p>The people and the rich story of type at the first big tech company.</p>

			</header>
			
			
			
			<figure data-blockname="single_image">
				<a data-lightbox="type-mag-slideshow" data-title="Steven Shaiman, the first program manager for type at Microsoft. He‚Äôs been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children." href="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"><img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-05-Shaiman-Steve-47.jpg"></a>
				
				<figcaption>Steven Shaiman, the first program manager for type at Microsoft. He‚Äôs been on his own since 2010, living in the Pacific Northwest and working on family enterprises with his wife and five children.</figcaption>
			</figure>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-datetime.png" alt="" height="300" width="300"></span>Gates was having an informal meeting with Steve Shaiman, a cheerful gnome of a man with a head of frizzy hair who was general manager of Microsoft‚Äôs hardware division, and with Raleigh Roark one of the two people who had started the division. They were talking about fonts and applications, especially Word.</p>

<p>Roark gave Gates his answer: For printers, basically. This was the era of desktop publishing and proliferating office applications, and users needed more than just the bitmapped system fonts on their computers to get their work done. Courier, Tms Rmn, and Helv were not going to be enough. </p>

<p>Bill Gates is known for asking hard questions, but also for accepting hard answers and acting on them. As soon as he got his answer, he pointed at Steve and told him: ‚ÄúNow you run type!‚Äù</p>

<p>That‚Äôs the way things worked at Microsoft in those days, says Shaiman: whoever knew the most about a subject tended to end up in charge of it. So he ended up starting Microsoft‚Äôs first fonts group. It was Spring, 1989.</p>
			</section>
			

			





			
			<section data-blockname="sub_heading_1">
				<h2>The conquest of TrueType</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-phone.png" alt="" height="300" width="300"></span>STEVE SHAIMAN was on a business trip to Atlanta with Nathan Myhrvold, Microsoft‚Äôs celebrated head of advanced technology, when they got an unexpected phone call. Myhrvold had with him a satellite phone‚Äîan early mobile phone, ‚Äúwhich in those days,‚Äù as Shaiman put it, ‚Äúmeant something you‚Äôd carry in a suitcase.‚Äù The unexpected call was from Apple.</p>

<p>At that time, Adobe Systems dominated the digital font market, with its PostScript technology built into Apple‚Äôs LaserWriter printers, and with PostScript firmly established as the preferred format for high-quality fonts. Microsoft needed to find its own format and its own fonts if it didn‚Äôt want to be dependent on Adobe.</p>

<p>Like Microsoft, Apple was trying to find ways to license the PostScript language from Adobe, or to find an alternative. The Apple call was about font technology: Apple was developing its own font format, TrueType, as an alternative to PostScript, while Microsoft acquired a program called TrueImage, a potential PostScript clone, which Apple was interested in. How about a trade?</p>

<p>Shaiman says that his and Nathan Myhrvold‚Äôs reaction was immediate: ‚ÄúSure!‚Äù</p>

<p>Ironically, once Microsoft got hold of TrueType, they loved the concept but didn‚Äôt like the way it was implemented. Although they ended up only making slight modifications to the version that shipped with Windows 3.1, when it came time for the next version of Windows, they ended up ‚Äúthrowing out Apple‚Äôs code and rewriting it from scratch.‚Äù</p>

<p>When Microsoft and Apple publicly announced their collaboration on TrueType at the Seybold conference in September 1989, the announcement was handled in a contentious and aggressive manner that antagonized Adobe and famously brought Adobe‚Äôs John Warnock to tears of frustration. Steve Shaiman feels now that it was a poor way to do it: ‚ÄúWe couldn‚Äôt have done worse.‚Äù Although they were demonstrating what they felt was better technology, they made the mistake of shoving it in Adobe‚Äôs face. ‚ÄúWhat we really needed,‚Äù he says, ‚Äúwas a good PR person who could have helped us come up with a less aggressive approach.‚Äù But the deed was done. The ‚Äúfont wars‚Äù were in full swing.</p>

<p>The key developer of Microsoft‚Äôs new code was Eliyezer Kohen, whom Myhrvold met at a conference in Switzerland. Eliyezer was, as Steve Shaiman put it, ‚Äúreally, really smart.‚Äù He had a PhD from ETH Zurich, where he studied with Hans Eduard Meyer, the designer of the font Syntax, and Niklaus Wirth, designer of the Pascal language; and he developed his own technology for creating scalable fonts. Eliyezer, according to Shaiman, was ‚Äúa Turkish Jew with a German wife, who wanted to move to the United States, as one or the other of them wasn‚Äôt welcome in any country in Europe where they might find decent working conditions.‚Äù Microsoft happily brought him in.</p>
			</section>
			
			<figure data-blockname="single_image">
				<img data-src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg" alt="" src="https://www.typemag.org/images/uploads/MS-Type-Mag-2017-03-Hitchcock-Greg-135.jpg">
				<figcaption>Greg Hitchcock‚Äôs journey to Microsoft was a bit circuitous ‚Äîhe studied geography with a focus on computer cartography, and immersed himself in computer science.</figcaption>
			</figure>
			
			<section data-blockname="sub_heading_1">
				<h2>Even a DOS screen needs a font</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-dosscreen.png" alt="" height="300" width="300"></span>GREG HITCHCOCK was one of the early members of what he calls the ‚Äúvirtual team‚Äù that Shaiman and Dennis Adler put together in early 1990 to deal with fonts. Hitchcock is tall, blond, and slow-spoken; he doesn‚Äôt fit the image of the high-energy Microsoft employee, and he may seem unassertive, almost tentative, if you see him only in a neutral context. But when you see his attention snap to the subjects he knows and cares about, he is forceful and precise, and very, very knowledgeable. His memory is encyclopedic, and he has been at the heart of Microsoft‚Äôs typographic development for more than a quarter century. Today he manages Microsoft‚Äôs Advanced Reading Technologies (ART) team.</p>

<p>Although Microsoft had been dealing with fonts in one way or another from the very beginning (even a DOS screen needs a font to display its text), Hitchcock feels that the story of typography at Microsoft really begins here: When the first outline fonts were created for Windows 3.1, in 1990.</p>

<p>It was all brand-new technology. All fonts up until then had been bitmap fonts, crude forms made up of coarse screen pixels in a vague approximation of what real letters looked like. Although Microsoft‚Äôs new effort was driven by purely practical needs‚Äîmapping the screen fonts on a computer system to the fonts available on a printer‚ÄîHitchcock feels that it was also the beginning of thinking about screen fonts as something useful and readable in themselves.</p>

<p>The members of the virtual team came from all over Microsoft: Dennis Adler (Fonts), Jean-Fran√ßois Peyroux (OS/2, and later Windows), Michel Suignard (Windows International), Greg Hitchcock (OS/2), Eliyezer Kohen (Fonts), David Weise (Windows), Tim McCaffery (Windows), Raleigh Roark (Hardware), Gabe Newell (Printing), and later Ben Bauermeister, an outside consultant, whose ‚ÄúPANOSE system‚Äù for classifying typefaces by their visual characteristics (rather than their historical roots) might provide a roadmap between screen and print.</p>
			</section>
			
			<section data-blockname="sub_heading_1">
				<h2>Monotype send out S.O.S.</h2>
			</section>
			
			<section data-blockname="body_copy">
				<p><span><img src="https://www.typemag.org/images/uploads/win31-shake.png" alt="" height="300" width="300"></span>STEVE SHAIMAN hired Dennis Adler to manage the fonts groups.&nbsp; Together, they talked with several potential sources of font libraries and font technologies, including most of the big guns in the field. Linotype, the venerable manufacturer of hot-metal typesetting equipment, which owned the rights to, among others, the very popular typeface Helvetica, was being hard-nosed. ‚ÄúFonts were seen as incredibly valuable at the time,‚Äù says Shaiman, ‚Äúand Linotype‚Äôs attitude was, ‚ÄòWhat‚Äôs Microsoft going to do for us?‚Äô‚Äù So they were asking an enormous price for licensing the fonts. And Microsoft didn‚Äôt want to license the fonts; it wanted to own the rights. (When Shaiman told me this, he laughed and proclaimed: ‚ÄúMicrosoft doesn‚Äôt rent things!‚Äù)</p>

<p>Monotype, on the other hand, was much more receptive. Monotype was Linotype‚Äôs great rival; between them, the two companies had essentially created the business of mechanical typesetting in the late 19th century, with their competing hot-metal composition machines. But the Monotype Corporation had fallen on hard times. The typography division, the only part of the company working on digital fonts, was making money, but the larger machinery business was hemorrhaging cash, and the parent company was about to declare bankruptcy.</p>

<p>Out of that debacle rose a new type-only company, Monotype Typography Ltd, which was essentially the old typography division reconstituted as an independent business.</p>

<p>The new company, with its focus on digital fonts and information technology, was headed by a German, Rene Kerfante, who had joined Monotype in 1987 to head up the typography division, and an American, Ira Mirochnik, who had been Monotype‚Äôs chief financial officer. They were both quite ready to negotiate a deal with Microsoft.</p>

<p>So it was Monotype that began developing a set of ‚Äúcore fonts‚Äù for Microsoft: Scalable TrueType fonts that could be shipped with Windows and used freely by every Windows customer. The new fonts had to mimic the established core set of PostScript fonts, which included Times Roman and Helvetica. Since Monotype had originally developed the Times fonts back in the hot-metal days, that part was easy. To compete with Helvetica, though, they chose to adapt an earlier Monotype design with similar characteristics, called Arial.</p>

<p>Designing the outlines for these typefaces was the kind of task that the Monotype drawing office excelled at. The hard part was the hinting, the software instructions that control the rendering on various devices. That was what would make the fonts look good on screen.</p>

<p>Monotype had a team in the UK working on font hinting, but they were running into trouble. Although they had an auto-hinting program, called TypeMan, developed by Apple‚Äôs principal TrueType developer, Sampo Kaasila, the process was proving to be long, slow, and laborious. As Greg Hitchcock describes it, Monotype in desperation Monotype ‚Äúsent out the bat signal.‚Äù In response, in September 1990, he and Eliyezer made the first of many trips to the UK to provide hands-on help and supervision. This was the start of a back-and-forth pattern for Greg‚Äîthree weeks in the UK, one week in Redmond‚Äîthat lasted for the next nine months. Their main job was hinting type, working in little rooms in archaic buildings at the old Monotype works. ‚Ä¶</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.typemag.org/post/the-faces-of-microsoft">https://www.typemag.org/post/the-faces-of-microsoft</a></em></p>]]>
            </description>
            <link>https://www.typemag.org/post/the-faces-of-microsoft</link>
            <guid isPermaLink="false">hacker-news-small-sites-23755238</guid>
            <pubDate>Tue, 07 Jul 2020 02:53:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It's Talos all the way down]]>
            </title>
            <description>
<![CDATA[
Score 61 | Comments 17 (<a href="https://news.ycombinator.com/item?id=23754536">thread link</a>) | @classichasclass
<br/>
July 6, 2020 | https://www.talospace.com/2020/06/its-talos-all-way-down.html | <a href="https://web.archive.org/web/*/https://www.talospace.com/2020/06/its-talos-all-way-down.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<div id="post-body-6179143665681918893"><p>
Still can't bear the sticker shock of your very own Talos II, or even a itty bitty Blackbird? Why not do what we all do for the machines we can't own and emulate one instead? (And then decide you like it a lot, and save your pennies?)
</p><p>
QEMU 5.0.0 offers a machine model for the bare-metal PowerNV profile, to which the Raptor systems and other OpenPOWER POWER8 and POWER9 designs intended for Linux (i.e., not PowerVM machines) belong. Using the Talos II firmware image (mostly: one snag to be mentioned), you can boot the machine in QEMU and from there bring up an operating system in emulation. In this article we'll prove it works by bringing up <a href="https://voidlinux-ppc.org/">Void Linux for Power</a> (hi, Daniel!) in a variety of configurations. A set-up like this might be enough to test that your software or open-source package builds and runs on OpenPOWER, even if you don't own one yet. In a future article we'll talk about how you can boot your own code on the metal so you can port your favourite OS or build a unikernel.
</p><p>
(For the purposes of this article I'll assume an audience that isn't as familiar with OpenPOWER terminology as our usual readership. Kindly humour me.)
</p><p>
The emulation is imperfect, both if you're emulating it on a real Raptor family system or on an icky PC. While QEMU can emulate an AST2500 (i.e., the ARM-based Baseboard Management Controller, which acts as the service processor and provides the video framebuffer), and QEMU can also emulate a PowerNV system, it doesn't do both at the same time. That means the very lowest levels are actually being simulated here -- you can't watch Raptor's pretty Hostboot display, for example, and only the barest functions of the BMC are simulated enough to allow bring-up, not including the framebuffer. In fact, the hardware profiles we will use here do not in general match a real Raptor system either: we're just virtually plugging in PCI devices that give us necessary functionality, though of course none of the peripheral devices in a Raptor system is Raptor-proprietary. Finally, even though I have tagged this entry with KVM, KVM currently doesn't work right with the QEMU PowerNV machine model even though I'm pretty sure it should be technically possible. Sadly, I tried in vain to do so, could never get KVM-HV to be happy, and ended up kernel panicking the machine with KVM-PR. <a href="https://gist.github.com/classilla/0b95d7bea3e9a270385a2360fbcf7f40">See if you can triumph where I have failed</a>. In the meantime, naturally you can do everything here on a T2 or Blackbird as well because that's how I did it writing this article, but there is no special acceleration for those systems right now.
</p><p>
The first order of business is the first order of business with any emulator: get the ROMs. Fortunately, no one is going to bust you for pirating a set of these because we're an open platform, remember?
</p><p>
The two pieces required are Skiboot and Petitboot, both of which live in the system's PNOR flash. <a href="https://github.com/open-power/skiboot">Skiboot</a> contains OPAL, the OpenPOWER Abstraction Layer. It comes in after the BMC has turned on main power and started the Power CPUs' self-boot engines, which then IPL ("initial program load") Hostboot for the second-stage power-on sequence. When Hostboot completes, it chains into Skiboot, which initializes the PCIe host bus controllers (PHBs) and provides all the basic hardware calls needed by a guest kernel to support the platform. You can think of it as something like an overgrown BIOS. This is the lowest firmware level of an OpenPOWER system that QEMU currently supports emulating.
</p><p>
Skiboot lives only to service a kernel, so it immediately starts one. This initial payload is the bootloader for <a href="https://github.com/open-power/petitboot">Petitboot</a>, which is also stored in firmware. Petitboot has a small Linux root (Skiroot) and acts as a boot menu, finding bootable volumes on attached devices or over the network. Having found one (or you select one), it chains into it to start the main OS, and from then on Skiboot will provide platform services via OPAL for this final guest until the system is shut down or restarted. Because it's in firmware, Petitboot is always available, which can come in really handy when you're trying to do system recovery.
</p><p>
The first, best and most dedicated way is to <a href="https://github.com/open-power/op-build">build Skiboot and Petitboot yourself</a>. They are open-source and the process is relatively well documented and automated, and you should know how to do this if you own an OpenPOWER machine anyhow. If you aren't doing this on a real OpenPOWER machine you'll need a cross-compiler, but most Linux distros offer such a package nowadays. Do keep in mind that if it looks like you're building a tiny Linux distro, well, that's because that's exactly what you're doing. The advantage here is you can fool around with the firmware at your leisure, but it requires a bit of an investment in disk space and time.
</p><p>
The second way assumes you have a more casual interest and would prefer to go with something prefab. It's possible if you (or, you know, your "friend") has a Raptor-family system to extract the necessary components right from the BMC prompt. Log into the BMC over SSH (or via <a href="https://www.talospace.com/2020/04/what-to-do-when-bmc-wont-talk-to-you.html">direct serial connection</a>) and type <tt>pflash -i</tt>. You'll see a list of all the partitions stored in the PNOR flash. The ones we want are <tt>PAYLOAD</tt> (which contains Skiboot) and <tt>BOOTKERNEL</tt> (which contains Skiroot and Petitboot). The exact addresses may vary from system to system and firmware to firmware.
</p><p>
<tt>root@bmc:~# pflash -P PAYLOAD -r /tmp/pnor.PAYLOAD --skip=4096<br>
Reading to "/tmp/pnor.PAYLOAD" from 0x021a1000..0x022a1000 !<br>
[==================================================] 100%<br>
root@bmc:~# pflash -P BOOTKERNEL -r /tmp/pnor.BOOTKERNEL --skip=4096<br>
Reading to "/tmp/pnor.BOOTKERNEL" from 0x022a1000..0x03821000 !<br>
[==================================================] 100%
</tt></p><p>
We skip the first 4K page to avoid the wrapping around each partition. <tt>pnor.PAYLOAD</tt> is actually compressed and needs to be uncompressed prior to use, so:
</p><p>
<tt>root@bmc:~# cd /tmp<br>
root@bmc:/tmp# xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Finally, <tt>scp</tt> both <tt>skiboot.lid</tt> and <tt>pnor.BOOTKERNEL</tt> to your desired system from the BMC.
</p><p>
Admittedly we just talked at length about the two ways most of you <em>won't</em> get the firmware, so let's talk about the third method and the way most of you will, i.e., you'll just download it. Currently there is an irregularity about Raptor's present Skiboot build for this purpose: it only boots if you are emulating a single <em>POWER8</em>. That's not a typo. If you use it to boot an emulated POWER9, the guest will simply panic, and the guest will go into a bootloop if you are emulating multiple POWER8 CPUs (necessary if you need a larger number of PCIe devices). This is undoubtedly a QEMU deficiency which will be corrected in future releases. In the meantime, if you just care about playing around using a single POWER8 on a terminal, then Raptor's builds (either from BMC flash or downloaded) will suffice. However, if you intend to emulate a POWER9 or SMP POWER8 system, <a href="https://github.com/qemu/qemu/blob/master/pc-bios/skiboot.lid">download QEMU's own pre-built <tt>skiboot.lid</tt></a> and use that instead.
</p><p>
For Petitboot, we will extract that directly from Raptor's PNOR images. Assuming you didn't get it using the process above, <a href="https://wiki.raptorcs.com/wiki/Talos_II/Firmware">download the current Talos II PNOR image</a> and decompress it. In the <tt>shell_upgrade</tt> directory you will see the <tt>bzip2</tt>-compressed PNOR image. Uncompress that, leaving you with a filename like <tt>talos-ii-v2.00.pnor</tt>. <a href="https://gist.github.com/classilla/4a2c907d0acec5b537cd4992a00801c3">Download my <tt>pnorex</tt> extractor tool</a> (it's in Perl, because I'm one of <em>those</em> people) and run it on the PNOR image:
</p><p>
<tt>% pnorex talos-ii-v2.00.pnor<br>
Version 1 PNOR archive with 33 entries.<br>
Extracting PAYLOAD at offset 8601.<br>
This is a xz format image.<br>
Wrote 1020K successfully.<br>
Extracting BOOTKERNEL at offset 8857.<br>
This is an ELF executable image.<br>
Wrote 22012K successfully.<br>
Extracted 2 partitions successfully.
</tt>
</p><p>
If you will be using Raptor's Skiroot, then uncompress <tt>pnor.PAYLOAD</tt> to <tt>skiroot.lid</tt> as above: <tt>xz -d &lt; pnor.PAYLOAD &gt; skiboot.lid</tt>
</p><p>
Now, with <tt>skiroot.lid</tt> (for this first example, either Raptor's or QEMU's) and <tt>pnor.BOOTKERNEL</tt> in the same folder, grab an ISO you want to boot. I used the prefab one Daniel offers on the <a href="https://voidlinux-ppc.org/">Void Linux for Power site</a> since I know it boots fine on OpenPOWER hardware. For our first example let's do a simple example of booting Void from a CD image on a POWER8 using the serial port. Our QEMU command line:
</p><p>
<tt>
qemu-system-ppc64 -M powernv8 -m 4G -cpu power8 \<br>
        -nographic \<br>
        -bios ./skiboot.lid \<br>
        -kernel ./pnor.BOOTKERNEL \<br>
        -device ich9-ahci,id=ahci0 \<br>
        -drive id=cd0,media=cdrom,file=void-live-ppc64le-musl-20200411.iso,if=none \<br>
        -device ide-cd,bus=ahci0.0,drive=cd0
</tt>
</p><p>
This configures a single-processor POWER8 system with 4GB of RAM, no graphics, and an Intel AHCI host controller with a single CD-ROM drive attached. The serial output should go to your terminal. It goes a little like this:
</p><p><a href="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://3.bp.blogspot.com/-3VII_RkIwcE/XvFb7tRycOI/AAAAAAAABs0/yyvLDu_1liEFaU2wpoZWtrf-au1P1YiDACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-44-48.png" width="287"></a></p>
<p>
Here we are with Skiboot chaining into Petitboot. You can ignore the errors; there will be a lot of them since the platform is still incomplete. It will take a little bit of time to decompress the kernel (much slower than it would be on a regular system). You will notice a single device attached to the three available PCIe host bridges on the single POWER8 CPU, i.e., the host controller itself. Don't you just love that the vendor code for Intel is <tt>8086</tt>?
</p><p><a href="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://4.bp.blogspot.com/-3IKOOE6kD80/XvFb7uxi8sI/AAAAAAAABss/yKU2WHvBCbgDmXPvyFdSvsCu7yLHnnGuACLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-08.png" width="287"></a></p>
<p>
This is Petitboot. When the bootable choices appear, cursor up to the starred option and press E before it autoboots, because we need to tell Void its console is the on-board serial port (otherwise it uses a VGA console: not sure whose bug that is).
</p><p><a href="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/--dDE00hPAsk/XvFb7k5ug4I/AAAAAAAABsw/KD1kofJkAdIusk9rtl8WyjlknApxQRouQCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-45-43.png" width="287"></a></p>
<p>
Add <tt>console=hvc0</tt> at the end, cursor down to <tt>OK</tt> and hit RETURN/ENTER a couple times to boot.
</p><p><a href="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s1600/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" imageanchor="1"><img data-original-height="645" data-original-width="578" height="320" src="https://2.bp.blogspot.com/-h6UHepGrXLo/XvFb8GHW5jI/AAAAAAAABs4/STBtGNaljU4-3EvsmhlstoBbIpU0aLaKgCLcBGAsYHQ/s320/Screenshot%2Bfrom%2B2020-06-22%2B16-47-38.png" width="287"></a></p>
<p>
A successful login on your emulated baby POWER8. Ta-daa! To rudely pull the plug on the QEMU session, press Ctrl-A, and then X (<tt>QEMU: Terminated</tt>).
</p><p>
Let's now load out the POWER8. We would like to add a video card, an Ethernet card and a USB controller to our existing system, but POWER8 Turismo chips only offer enough PHBs for three PCI endpoints. How do we solve this problem? Easy: we'll add another processor!
</p><p>
At this point ‚Ä¶</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.talospace.com/2020/06/its-talos-all-way-down.html">https://www.talospace.com/2020/06/its-talos-all-way-down.html</a></em></p>]]>
            </description>
            <link>https://www.talospace.com/2020/06/its-talos-all-way-down.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-23754536</guid>
            <pubDate>Tue, 07 Jul 2020 01:03:15 GMT</pubDate>
        </item>
    </channel>
</rss>
