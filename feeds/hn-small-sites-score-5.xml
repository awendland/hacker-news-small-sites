<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Wed, 11 Nov 2020 16:31:40 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Wed, 11 Nov 2020 16:31:40 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[The myriad meanings of pwd in Unix systems]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 10 (<a href="https://news.ycombinator.com/item?id=25044131">thread link</a>) | @quyleanh
<br/>
November 10, 2020 | https://qmacro.org/2020/11/08/the-meaning-of-pwd-in-unix-systems/ | <a href="https://web.archive.org/web/*/https://qmacro.org/2020/11/08/the-meaning-of-pwd-in-unix-systems/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p><em>Last week I ran a poll on Twitter to see what people considered with respect to the meaning of ‘pwd’ in Unix and Linux systems. The results were varied, for perhaps good reason.</em></p>

<p>At the end of Oct 2020 I ran a <a href="https://twitter.com/qmacro/status/1322567992551624705">brief poll on Twitter</a>, on which 82 people voted. Here’s that poll, and the results. They’re quite mixed, which at first might seem surprising. But there are reasons for that, as we’ll find out.</p>

<p><img src="https://qmacro.org/content/images/2020/11/twitter-poll-pwd.png" alt="Poll on Twitter: &quot;Fun Saturday afternoon shell poll. In Unix (and Linux), what do you think the P in $PWD (or pwd) stand for?&quot;"></p>

<p><strong>Print working directory</strong></p>

<p>The most popular option was “print working directory”. At first sight it seems logical: “print out the current working directory, i.e. where I am right now”. Moreover, the description in various versions of the manual for <code>pwd</code> help to drive home that notion. Typically we see sentences like “<a href="https://linux.die.net/man/1/pwd">print name of current/working directory</a>” or “<a href="https://www.mankier.com/1/pwd">print the current directory</a>”.</p>

<p>But there are lots of commands that print stuff, and are described in that way too. Take the <code>id</code> command. Here’s what one man page says: “<a href="https://man7.org/linux/man-pages/man1/id.1.html">print real and effective user and group IDs</a>”. There’s “print” again. But the command isn’t <code>pid</code>, it’s <code>id</code>. When you think about it, many, many commands in Unix send information to STDOUT, i.e. to the terminal. That’s sort of the point of many of them.</p>

<p>This time arguably only superficially definitive, it would seem, the Wikipedia entry states, on the <a href="https://en.wikipedia.org/wiki/Pwd">page for <code>pwd</code></a>: “the pwd command (print working directory) writes the full pathname of the current working directory to the standard output”. As if to underline the hopeful authority of this statement, there are five (!) footnotes that supposedly link to resources that back this up.</p>

<p>Unfortunately, the first footnote points to a Wayback Machine copy of the <a href="https://web.archive.org/web/20050520231659/http://cm.bell-labs.com/7thEdMan/v7vol1.pdf">UNIX PROGRAMMERS MANUAL - Seventh Edition, Volume 1 - January, 1979</a>, wherein there are actually zero references to <code>pwd</code> being short for “print working directory”:</p>

<p><img src="https://qmacro.org/content/images/2020/11/programmers-manual-pwd.png" alt="excerpt from UNIX PROGRAMMERS MANUAL on pwd"></p>

<p>I don’t know about you, but this historic document carries more weight for me than other sources I’ve come across, and it only serves here to undermine the credibility of the Wikipedia entry.</p>

<p>The rest of the footnote links seem dubious at best, except for the one pointing to the <a href="https://www.gnu.org/software/coreutils/manual/coreutils.html#pwd-invocation">GNU Coreutils manual on pwd</a> which has it as “print working directory”. But everything else I’ve seen so far makes me think that this is a misunderstanding that has spread for obvious and innocent reasons. In addition, the one footnote in the Wikipedia page that is not used to back this claim up is a pointer to <a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pwd.html">The Open Group Base Specifications Issue 7, 2018 edition’s information on pwd</a>, which almost seems like it’s actually avoiding using the word “print” at all: “return working directory name” … “The pwd utility shall write to standard output an absolute pathname of the current working directory, which does not contain the filenames dot or dot-dot.”. Very specific, very not-print.</p>

<p>So I’m thinking that “print working directory” isn’t what <code>pwd</code> stands for. In fact, “print working directory” may be common to some man pages, but on this macOS machine, with its <a href="https://en.wikipedia.org/wiki/Berkeley_Software_Distribution">BSD</a> heritage, we have, instead: “pwd – return working directory name”. Moreover, it goes on to say “The pwd utility writes the absolute pathname of the current working directory to the standard output”.</p>

<p><strong>Pathname of working directory</strong></p>

<p>So perhaps it really is “pathname of working directory”. That would, at least to me, make more sense. Not only does it eschew the redundancy of “print”, it also is more specific about the output - if I’m in <code>/home/dja/</code> for example, then invoking pwd will tell me that, i.e. where I am, including the whole path, and not just <code>dja</code>:</p>



<p><strong>Process working directory</strong></p>

<p>As for the other options, I do favour “process working directory”, mostly because it makes a lot of sense to me; every process in Unix has the concept of a current working directory, and that’s exactly what I’m asking for when I’m in my shell process and enter <code>pwd</code> - there’s a part in the video <a href="https://youtu.be/hgFBRZmwpSM?t=165">Unix terminals and shells</a> that explains this very well.</p>

<p>I’d love to be able to point to some old Unix sources that definitively explain the answer, but unfortunately that search has come up with very little - the <code>pwd</code> source in both the <a href="https://minnie.tuhs.org/cgi-bin/utree.pl?file=V5/usr/source/s2/pwd.c">5th</a> and <a href="https://github.com/yisooan/unix-v6/blob/master/source/s2/pwd.c">6th</a> Editions of Unix shed no light on this whatsoever.</p>

<p><strong>Present working directory</strong></p>

<p>What about “present working directory”? Well, that option seems to have legs, in the form of the Korn shell. While <a href="https://northstar-www.dartmouth.edu/doc/solaris-forte/ipe-help/dbx/dbx88cc.html">one source</a> implies that the answer might well be “pathname of current working directory”, in that <code>pwd</code> just emits the value of the <code>$PWD</code> environment variable (and a variable called “print working directory” makes no sense at all) … it would seem that in ksh-land, at least, “present working directory” is what <code>pwd</code> represents. Take, for example, the <a href="https://osr507doc.xinuos.com/en/man/html.C/ksh.C.html">ksh man page</a> which states “PWD - The present working directory set by the cd command”.</p>

<p>There’s a ton of discussion, both direct and indirect, on this very question. Take for example these two entries in the Unix &amp; Linux Stack Exchange forum: <a href="https://unix.stackexchange.com/questions/399026/etymology-of-pwd">Etymology of $PWD</a> and <a href="https://unix.stackexchange.com/questions/174990/what-is-pwd-vs-current-working-directory">What is $PWD? (vs current working directory)</a>. Of course, perhaps the definitive answer will never be found, as computing history is nothing if not varied and prone to forking.</p>

<p><strong>Multics and print_wdir</strong></p>

<p>Talking of history, we could go further back to pre-Unix roots, in the form of Multics, which indirectly gave rise to Unix (originally “Unics”). In the <a href="https://multicians.org/multics-commands.html">list of Multics Commands</a>, we see, nestled amongst other similarly named commands, something that jumps out at us:</p>

<div><div><pre><code>print_mail (pm)	display mail in a mailbox
print_messages (pm)	display interactive messages in a mailbox
print_motd (pmotd)	display message of the day (source)
print_proc_auth (ppa)	display process's sensitivity level and compartments
print_request_types (prt)	display list of I/O daemon request types
print_search_paths (psp)	display search paths
print_search_rules (psr)	display ready messages
print_wdir (pwd)	display working directory
</code></pre></div></div>

<p>There’s <code>pwd</code>, and in fact, just like its sibling <code>pmotd</code>, for example, which is short for <code>print_motd</code>, it’s short for <code>print_wdir</code>. Now, given the context of the original poll being set to Unix and Linux, perhaps we must discount this information. But as someone who is fascinated with Unix history in general - how can I?</p>

<p>I guess there are few things to conclude. The history is rich and diverse, and maybe we’ll never know for sure. Perhaps, in fact, the answer will depend on whom we ask. In the grand scheme of things, it doesn’t really matter … but to those who delight in minutiae, it’s a fun topic worth exploring.</p>

  </div>

</article>

      </div>
    </div></div>]]>
            </description>
            <link>https://qmacro.org/2020/11/08/the-meaning-of-pwd-in-unix-systems/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25044131</guid>
            <pubDate>Tue, 10 Nov 2020 09:30:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[This is how I git]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 28 (<a href="https://news.ycombinator.com/item?id=25043731">thread link</a>) | @ingve
<br/>
November 10, 2020 | https://daniel.haxx.se/blog/2020/11/09/this-is-how-i-git/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/11/09/this-is-how-i-git/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Every now and then I get questions on how to work with git in a smooth way when developing, bug-fixing or extending curl – or how I do it. After all, I <a href="https://daniel.haxx.se/blog/2020/10/26/working-open-source/" data-type="post" data-id="14901">work on open source full time</a> which means I have very frequent interactions with git (and GitHub). Simply put, I work with git all day long. Ordinary days, I issue git commands several hundred times.</p>



<p>I have a very simple approach and way of working with git in curl. This is how it works.</p>



<h2>command line</h2>



<p>I use git almost exclusively from the command line in a terminal. To help me see which branch I’m working in, I have this little bash helper script.</p>



<pre>brname () {
  a=$(<code>git rev-parse --abbrev-ref HEAD 2&gt;/dev/null</code>)
  if [ -n "$a" ]; then
    echo " [$a]"
  else
    echo ""
  fi
}
PS1="\u@\h:\w\$(brname)$ "</pre>



<p>That gives me a prompt that shows username, host name, the current working directory and the current checked out git branch.</p>



<p>In addition: I use Debian’s <a href="https://salsa.debian.org/debian/bash-completion/-/blob/master/README.md">bash command line completion</a> for git which is also really handy. It allows me to use tab to complete things like git commands and branch names. </p>



<h2>git config</h2>



<p>I of course also have my customized <code>~/.gitconfig</code> file to provide me with some convenient aliases and settings. My most commonly used git aliases are:</p>


<pre title="">st = status --short -uno
ci = commit
ca = commit --amend
caa = commit -a --amend
br = branch
co = checkout
df = diff
lg = log -p --pretty=fuller --abbrev-commit
lgg = log --pretty=fuller --abbrev-commit --stat
up = pull --rebase
latest = log @^{/RELEASE-NOTES:.synced}..
</pre>


<p>The ‘latest’ one is for listing all changes done to curl since the most recent RELEASE-NOTES “sync”. The others should hopefully be rather self-explanatory.</p>



<p>The config also sets <code>gpgsign = true</code>, enables mailmap and a few other things.</p>



<h2>master is clean and working</h2>



<p>The main curl development is done in the single <a href="https://github.com/curl/curl">curl/curl</a> git repository (primarily hosted on GitHub). We keep the master branch the bleeding edge development tree and we work hard to always keep that working and functional. We do our releases off the master branch when that day comes (every eight weeks) and we provide “<a href="https://curl.haxx.se/snapshots/">daily snapshots</a>” from that branch, put together – yeah – daily.</p>



<p>When merging fixes and features into master, we avoid merge commits and use rebases and fast-forward as much as possible. This makes the branch very easy to browse, understand and work with – as it is 100% linear.</p>



<h2>Work on a fix or feature</h2>



<p>When I start something new, like work on a bug or trying out someone’s patch or similar, I first create a local branch off master and work in that. That is, I don’t work directly in the master branch. Branches are easy and quick to do and there’s no reason to shy away from having loads of them!</p>



<p>I typically name the branch prefixed with my GitHub user name, so that when I push them to the server it is noticeable who is the creator (and I can use the same branch name locally as I do remotely).</p>



<pre>$ git checkout -b bagder/my-new-stuff-or-bugfix</pre>



<p>Once I’ve reached somewhere, I commit to the branch. It can then end up one or more commits before I consider myself “done for now” with what I was set out to do.</p>



<p>I try not to leave the tree with any uncommitted changes – like if I take off for the day or even just leave for food or an extended break. This puts the repository in a state that allows me to easily switch over to another branch  when I get back – should I feel the need to. Plus, it’s better to commit and explain the change <em>before</em> the break rather than having to recall the details again when coming back.</p>



<h2>Never stash</h2>



<p>“git stash” is therefore not a command I ever use. I rather create a new branch and commit the (temporary?) work in there as a potential new line of work.</p>



<h2>Show it off and get reviews</h2>



<p>Yes I am the lead developer of the project but I still maintain the same work flow as everyone else. All changes, except the most minuscule ones, are done as pull requests on GitHub.</p>



<p>When I’m happy with the functionality in my local branch. When the bug seems to be fixed or the feature seems to be doing what it’s supposed to do and the test suite runs fine locally.</p>



<p>I then clean up the commit series with “<code>git rebase -i</code>” (or if it is a single commit I can instead use just “<code>git commit --amend</code>“).</p>



<p>The commit series should be a set of logical changes that are related to this change and not any more than necessary, but kept separate if they are separate. Each commit also gets its own proper commit message. Unrelated changes should be split out into its own separate branch and subsequent separate pull request.</p>



<pre>git push origin bagder/my-new-stuff-or-bugfix</pre>



<h2>Make the push a pull request</h2>



<p>On GitHub, I then make the newly pushed branch into a <a href="https://github.com/curl/curl/pulls">pull request</a> (aka “a PR”). It will then become visible in the list of pull requests on the site for the curl source repository, it will be announced in the #curl IRC channel and everyone who follows the repository on GitHub will be notified accordingly.</p>



<p>Perhaps most importantly, a pull request kicks of a flood of CI jobs that will build and test the code in numerous different combinations and on several platforms, and the results of those tests will trickle in over the coming hours. When I write this, we have around 90 different CI jobs – per pull request – and something like 8 different code analyzers will scrutinize the change to see if there’s any obvious flaws in there.</p>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/Screenshot_2020-11-05-curl-Project-status-dashboard.png"><img loading="lazy" width="2686" height="1510" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/Screenshot_2020-11-05-curl-Project-status-dashboard.png" alt=""></a><figcaption>CI jobs per platform over time. Graph snapped on November 5, 2020</figcaption></figure>



<h2>A branch in the actual curl/curl repo</h2>



<p>Most contributors who would work on curl would not do like me and make the branch in the curl repository itself, but would rather do them in their own forked version instead. The difference isn’t that big and I <em>could</em> of course also do it that way.</p>



<h2>After push, switch branch</h2>



<p>As it will take some time to get the full CI results from the PR to come in (generally a few hours), I switch over to the next branch with work on my agenda. On a normal work-day I can easily move over ten different branches, polish them and submit updates in their respective pull-requests.</p>



<p>I can go back to the&nbsp;master branch again with ‘<code>git checkout master</code>‘ and there I can “<code>git pull</code>” to get everything from upstream – like when my fellow developers have pushed stuff in the mean time.</p>



<h2>PR comments or CI alerts</h2>



<p>If a reviewer or a CI job find a mistake in one of my PRs, that becomes visible on GitHub and I get to work to handle it. To either fix the bug or discuss with the reviewer what the better approach might be.</p>



<p>Unfortunately, flaky CI jobs is a part of life so very often there ends up one or two red markers in the list of CI jobs that can be ignored as the test failures in them are there due to problems in the setup and not because of actual mistakes in the PR…</p>



<p>To get back to my branch for that PR again, I “<code>git checkout bagder/my-new-stuff-or-bugfix</code>“, and fix the issues.</p>



<p>I normally start out by doing follow-up commits that repair the immediate mistake and push them on the branch:</p>



<pre>git push origin <code>bagder/my-new-stuff-or-bugfix</code></pre>



<p>If the number of fixup commits gets large, or if the follow-up fixes aren’t small, I usually end up doing a squash to reduce the number of commits into a smaller, simpler set, and then force-push them to the branch.</p>



<p>The reason for that is to make the patch series easy to review, read and understand. When a commit series has too many commits that changes the previous commits, it becomes hard to review.</p>



<h2>Ripe to merge?</h2>



<p>When the pull request is ripe for merging (independently of who authored it), I switch over to the master branch again and I merge the pull request’s commits into it. In special cases I cherry-pick specific commits from the branch instead. When all the stuff has been yanked into master properly that should be there, I push the changes to the remote.</p>



<p>Usually, and especially if the pull request wasn’t done by me, I also go over the commit messages and polish them somewhat before I push everything. Commit messages should follow our style and mention not only which PR that it closes but also which issue it fixes and properly give credit to the bug reporter and all the helpers – using the right syntax so that our automatic tools can pick them up correctly!</p>



<p>As already mentioned above, I merge fast-forward or rebased into master. No merge commits.</p>



<h2>Never merge with GitHub!</h2>



<p>There’s a button GitHub that says “rebase and merge” that could theoretically be used for merging pull requests. I <em>never</em> use that (and if I could, I’d disable/hide it). The reasons are simply:</p>



<ol><li>I don’t feel that I have the proper control of the commit message(s)</li><li>I can’t select to squash a subset of the commits, only all or nothing</li><li>I often want to cleanup the author parts too before push, which the UI doesn’t allow</li></ol>



<p>The downside with not using the merge button is that the message in the  PR says “closed by [hash]” instead of “merged in…” which causes confusion to a fair amount of users who don’t realize it means that it actually means the same thing! I consider this is a (long-standing) GitHub UX flaw.</p>



<h2>Post merge</h2>



<p>If the branch has nothing to be kept around more, I delete the local branch again with “<code>git branch -d [name]</code>” and I remove it remotely too since it was completely merged there’s no reason to keep the work version left.</p>



<p>At any given point in time, I have some 20-30 different local branches alive using this approach so things I work on over time all live in their own branches and also submissions from various people that haven’t been merged into master yet exist in branches of various maturity levels. Out of those local branches, the number of concurrent pull requests I have in progress can be somewhere between just a few up to ten, twelve something.</p>



<h2>RELEASE-NOTES</h2>



<p>Not strictly related, but in order to keep interested people informed about what’s happening in the tree, we sync the <a href="https://github.com/curl/curl/blob/master/RELEASE-NOTES">RELEASE-NOTES</a> file every once in a while. Maybe every 5-7 days or so. It …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://daniel.haxx.se/blog/2020/11/09/this-is-how-i-git/">https://daniel.haxx.se/blog/2020/11/09/this-is-how-i-git/</a></em></p>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/11/09/this-is-how-i-git/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25043731</guid>
            <pubDate>Tue, 10 Nov 2020 08:08:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AppleCrate II: A New Apple II-Based Parallel Computer (2015)]]>
            </title>
            <description>
<![CDATA[
Score 79 | Comments 9 (<a href="https://news.ycombinator.com/item?id=25042551">thread link</a>) | @aresant
<br/>
November 9, 2020 | http://michaeljmahon.com/AppleCrateII.html | <a href="https://web.archive.org/web/*/http://michaeljmahon.com/AppleCrateII.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<b><span face="Arial, helvetica" size="4"><p>AppleCrate II:  A New Apple II-Based Parallel Computer</p>
</span><span face="Arial, helvetica" size="2"><p>
Michael J. Mahon – July 26, 2008<br>
Revised – September 23, 2015</p>

<p><img src="http://michaeljmahon.com/CrateII.jpg" width="500" height="612"></p>

</span><span face="Arial, helvetica"><p>Introduction</p>
</span></b><span face="Arial, helvetica" size="2"><p>
In 2004 I built the first <a href="http://michaeljmahon.com/Applecrate.html">AppleCrate</a>, an 8-board system, as an inexpensive, easy to program
vehicle for experiments in parallel programming—a kind of "blade server" for the Apple II, if
you will!  AppleCrate I (at the time I didn't realize that it was number "I" ;-) was great fun, and it
enabled some very interesting experiments, but over time I discovered some of its shortcomings.</p>

<p>First and foremost, since the boards were supported by only two edges and not clamped in place, it
was relatively fragile and hard to transport.  Second, I had come across situations in which more
than 8 slave processors would have been useful.  Third, my arrangement for collecting audio signals
synthesized by the slaves was quite makeshift and delivered sound with lots of digital "hash"
as background noise.  And finally, the original AppleCrate made no provision for plugging I/O cards
into any of its boards, so it had to be hosted by a separate Apple II, adding to the problem of
transporting it for demonstrations.</p>

<p>The AppleCrate II is designed to be significantly improved in all of the areas that were
problems for the AppleCrate I.</p>

<b></b></span><b><span face="Arial, helvetica"><p>Description</p>
</span></b><span face="Arial, helvetica" size="2">

<p>The AppleCrate II is made from 17 Enhanced Apple //e main boards.  (Fifteen of these boards were
obtained in the same eBay auction that netted the eight unenhanced boards for the original AppleCrate.)
Because they are enhanced ROMs, the original NadaNet boot ROM code would not fit and a new
boot protocol had to be developed, as described below.</p>

<p>Instead of mounting the cards vertically in a frame, as in the original, I decided to mount them
horizontally in a stack secured with standoffs—3/4" long hexagonal rods, each with a screw protruding from
one end and a tapped hole in the other.  The AppleCrate II has nine "columns" of these standoffs—six
metal columns at the back and corners of the boards and three nylon columns interior to the boards
to add stiffness, as shown in the photo below at the 2-board construction stage:</p>

<p><img src="http://michaeljmahon.com/TwoBoards.jpg" width="800" height="554"></p>

<p>This "hi-rise" construction makes the "stack" quite rigid and sturdy, while eliminating the need
for a space-consuming exoskeleton.  It also has the advantage of leaving the top board unobstructed
so that I/O cards can be plugged in, allowing it to serve as the host machine for the AppleCrate.  (In fact,
I used 17 boards so that the top board can serve as master and leave 16 slave machines for parallel
programs.)</p>

<p>The Pushbutton 1 input and Annunciator 1 output bus wires and the AN2-to-PB2 GETID daisy chain wires are connected to
machined-pin sockets inserted into the 16-pin game port connector.  These connections support <a href="http://michaeljmahon.com/NadaNet.html">NadaNet</a>,
which is the only signal connection between the boards.  The network adapter (described below) is shown
with its mounting bracket under what will be the third board.  The power bus card is supported by a
similar angle bracket, and the standoffs immediately beneath them are filed down to accomodate the
bracket thickness.</p>

<p>The boards are powered by a PC AT power supply.  The average power consumed by an Apple //e
board is about 4.2 watts, so the whole 17-board crate consumes only about 70 watts in total,
and both the AppleCrate and the power supply run only a few degrees above ambient temperature.</p>

<p>I decided to use #12 copper bus wires
to distribute power to all boards (visible on the right side of the first photo).  I would have preferred
a connectorized approach, but I could not come up with a connector scheme with a
reasonable mating/unmating force.  As a result, I decided to go with soldered power connections.
(It's a good thing that Apple //e's are so reliable, since replacing one in the middle of the
stack would be relatively difficult!)</p>

<p>The top board is used as the "master" machine with I/O cards and an external keyboard plugged into it.
The Master boots the 16 slave Apples in the AppleCrate II and uses them to run parallel programs.
Once they have been booted and started, they can run independently of the master—though they are clearly
I/O-constrained!</p>

<b></b></span><b><span face="Arial, helvetica"><p>Indicators</p>
</span></b><span face="Arial, helvetica" size="2">

<p>It has proven useful to have some real-time indication of each board's activity.  The stock board contains a
red "power" LED (at the right) and a red "speaker" LED at the left.  Both are easily visible from the back of the
boards (the "front" of the AppleCrate).  The function of the power LED is fixed, but the speaker LED is usable
as an indicator that software running on the board can operate, just by toggling the speaker.  For example,
printing a "beep"—CHR$(07)—causes the speaker LED to flash for 0.1 second, and can be used to indicate some
condition in the software.  (The speaker LED will not light when a speaker is installed, but AppleCrate
boards have no speakers attached.)</p>

<p>Although the Applecrate network interface described below incorporates an LED to show global network activity,
it is very useful to be able to see when any particular board is sending on the network.  This need is met by
using the PDL 3 timer to "stretch" each packet send operation into a visible flash of a green rectangular LED.</p>

<p><img src="http://michaeljmahon.com/SendLED.jpg" width="762" height="263"></p>

<p>These photos show the modification made to the 558 timer chip, in which a 267-ohm resistor (just what I
had handy—any value between 220 and 560 ohms is fine) is connected
between pins 5 and 8, and the "send" signalling LED is connected between pin 8 and ground, with pin 8 going to the
anode.  The rectangular LED is carefully pressed between the cassette input and output jacks.  On some boards,
the jacks were so close together that it was necessary to "shave" the upper plastic swage on the side of the input
jack with an Exacto knife to make room for the LED to press fit between them.  (Note that in these photos the red
wire connected to the anode of the LED has not yet been soldered.)</p>

</span><b><span face="Arial, helvetica"><p>Network Boot in NadaNet 3.x</p>
</span></b><span face="Arial, helvetica" size="2">

<p>Since AppleCrate machines have no I/O capabilities other than
the network, they must be booted from the network.  This requires that the ROMs on the boards be replaced with
EPROMs containing modified RESET code to perform the network boot.</p>

<p>As with the AppleCrate I, replacement of the self-test code was the easiest path, since it is self-contained,
contiguous, and is executed upon power-on reset if no keyboard is connected.  However, the Enhanced //e ROM contains
only $200 bytes of self-test code, just half the size of the unenhanced //e self-test, requiring a new
design for the network boot.</p>

<p>The AppleCrate I used an "active" boot protocol, in which each board enabled by the "GETID daisy chain" (connected from
AN2 of the previous machine to PB2 of the current machine) continuously sent GETID requests to ID 1, until it was assigned
a permanent ID and received a NadaNet boot image.  The complexity of this protocol, requiring both sending and receiving
packets over the network, resulted in a boot ROM requirement of almost $400 bytes—which fit in an <b>Unenhanced</b> //e ROM.</p>

<p>Since the <b>Enhanced</b> //e ROM has only $200 bytes available, a new "passive" boot protocol had to be devised.
The <a href="http://michaeljmahon.com/PASSIVEBOOT.ROM.pdf">new ROM code</a> continuously monitors the network for a broadcast BOOTREQ control packet
containing  the load address and length of the immediately following boot code data.  When the boot image has been correctly
read from the network, control is passed to its starting address.  This passive boot code only needs to <b>read</b> packets from the
net, and so occupies just $190 bytes, which comfortably fits in place of the Enhanced //e ROM self-test code at $C600.</p>

<p>The new boot protocol capitalizes on the fact that boot code is sent as a broadcast transaction, so the
machines being booted do not need IDs to receive boot code.  A page of "second-stage boot" code is added at the
front of the slave machine boot image.  This code is given control immediately after the boot image is received, and,
when enabled by the "GETID daisy chain", it sends a GETID request to the machine that &amp;BOOTed it, making use of the
code in the full NadaNet boot image to do so (see the BOOT2 code in the <a href="http://michaeljmahon.com/NADA.CRATE.pdf">NADA.CRATE</a>
listing for details).</p>

<p>The GETID daisy chain functions just as it did in the AppleCrate I.  The "first" machine is permanently enabled
by connecting its PB2 to ground.  AN2 of each machine is connected
to PB2 of the "next" machine.  The second-stage boot code running in each machine initially sets its AN2.
Then it waits until it sees its PB2 go low, enabling it to send its GETID request.  When its GETID is successful
it drops its AN2, enabling the next machine.  Then it clears its video display, writes a banner showing the
machine ID, and enters its server loop.</p>

<p>This results in permanent
IDs being assigned in the fixed order of the physical daisy chain, while allowing all ROMs to be identical.
An LED on the AppleCrate II NadaNet adapter board is wired to the last machine's AN2, so that when the last
machine drops its AN2, the red LED extinguishes, signalling that all machines have booted successfully.</p>

<p>When a network-booting machine is reset, it first checks the network state.  If the network is low (ZERO),
it performs a cold start.  If the network is being held high (ONE), it checks page 3 to see if it is being cold started or warm reset.  If it is
a warm reset, it re-enters its Server loop.  If it is a cold start, it initializes and enters the ROM boot code, again waiting
for a BOOTREQ packet.  (This approach has the advantage of reliably forcing a reboot on a power cycle, while
still permitting boards to be warm reset while holding the network high.)</p>

<p>As of NadaNet 3.1, all AppleCrate boot ROMs must be <a href="http://michaeljmahon.com/PASSIVEBOOT.ROM.pdf">NadaNet 3.x capable</a>.</p>

</span><b><span face="Arial, helvetica"><p>AppleCrate II NadaNet Interface</p>
</span></b><span face="Arial, helvetica" size="2">
<p><a href="http://michaeljmahon.com/NadaNet.html">NadaNet</a> is a TTL-level serial network in which logic high is represented by a voltage greater than +2 volts
and logic low is represented by a voltage less than +0.7 volts.  The fanout capability of a TTL annunciator output
is sufficient to  drive a dozen or so TTL pushbutton inputs if they are not otherwise …</p></span></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://michaeljmahon.com/AppleCrateII.html">http://michaeljmahon.com/AppleCrateII.html</a></em></p>]]>
            </description>
            <link>http://michaeljmahon.com/AppleCrateII.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25042551</guid>
            <pubDate>Tue, 10 Nov 2020 03:23:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Best Practices for Writing Clean Interfaces in Go]]>
            </title>
            <description>
<![CDATA[
Score 42 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25042085">thread link</a>) | @lanecwagner
<br/>
November 9, 2020 | https://qvault.io/2020/03/15/best-practices-for-writing-clean-interfaces-in-go/ | <a href="https://web.archive.org/web/*/https://qvault.io/2020/03/15/best-practices-for-writing-clean-interfaces-in-go/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://qvault.io/2020/03/15/best-practices-for-writing-clean-interfaces-in-go/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25042085</guid>
            <pubDate>Tue, 10 Nov 2020 01:53:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Debunking an election fraud claim using open data and Dolt]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 21 (<a href="https://news.ycombinator.com/item?id=25041998">thread link</a>) | @proverbialbunny
<br/>
November 9, 2020 | https://www.dolthub.com/blog/2020-11-09-debunking-election-fraud/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2020-11-09-debunking-election-fraud/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://www.dolthub.com/blog/2020-11-09-debunking-election-fraud/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25041998</guid>
            <pubDate>Tue, 10 Nov 2020 01:34:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Try Design Thinking]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25041961">thread link</a>) | @gbasin
<br/>
November 9, 2020 | https://garybasin.com/try-design-thinking/ | <a href="https://web.archive.org/web/*/https://garybasin.com/try-design-thinking/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://garybasin.com/try-design-thinking/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25041961</guid>
            <pubDate>Tue, 10 Nov 2020 01:27:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Ladders of Wealth Creation]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25041361">thread link</a>) | @davefreiburger
<br/>
November 9, 2020 | https://gradually.co/roadmap-to-building-wealth/ | <a href="https://web.archive.org/web/*/https://gradually.co/roadmap-to-building-wealth/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://gradually.co/roadmap-to-building-wealth/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25041361</guid>
            <pubDate>Mon, 09 Nov 2020 23:47:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Recalculate a Spreadsheet]]>
            </title>
            <description>
<![CDATA[
Score 272 | Comments 64 (<a href="https://news.ycombinator.com/item?id=25039393">thread link</a>) | @todsacerdoti
<br/>
November 9, 2020 | https://lord.io/blog/2020/spreadsheets/ | <a href="https://web.archive.org/web/*/https://lord.io/blog/2020/spreadsheets/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Let’s say I’m ordering burritos for my two friends while they quar up in Jersey City, and want to calculate the total price of my order:</p>
<p><img alt="screenshot of spreadsheet; burrito price is listed as $7, burrito price w ship as burrito price plus $3, num burritos is 2, and total is num burritos times burrito price w ship, for a total of $20" src="https://lord.io/images/2020/anchors_0.png"></p>
<p>It’s a little confusing to follow the flow of data in a spreadsheet when it’s written like that, so I hope you don’t mind this equivalent diagram that represents it as a graph:</p>
<p><img alt="the previous spreadsheet represented as a graph, with arrows from one cell to another replacing the spreadsheet cell references" src="https://lord.io/images/2020/anchors_1.png"></p>
<p>We’re rounding the cost of an El Farolito super vegi burrito to $8, so assuming the per-burrito delivery toll remains at just $2 per burrito, it looks like the total for our two burritos will be $20.</p>
<p>Oh no, I completely forgot! One of my friends loves to wolf down multiple burritos at a time, so I actually want to place an order for three burritos. If I update <code>Num Burritos</code>, a naïve spreadsheet engine might recompute the entire document, recalculating first the cells with no inputs, and then recalculating any cell whose inputs are ready until we’ve finished every cell. In this case, we’d first calculate <code>Burrito Price</code> and <code>Num Burritos</code>, then <code>Burrito Price w Ship</code>, and then a new final <code>Total</code> of $30.</p>
<p><img alt="same as previous graph, but num burritos is updated to 3, and every cell is tagged as &quot;recalc&quot;" src="https://lord.io/images/2020/anchors_2.png"></p>
<p>This simple strategy of recalculating the whole document may sound wasteful, but it’s actually already <em>better</em> than VisiCalc, the first spreadsheet software ever made, and the first so-called “killer app”, responsible for popularizing the Apple II. VisiCalc would repeatedly recalculate cells from left-to-right and top-to-bottom, sweeping over them again and again until none of them changed. Despite this “interesting” algorithm, VisiCalc remained the dominant spreadsheet software for four years. Its reign ended in 1983, when Lotus 1-2-3 swept the market with “natural-order recalculation”, <a href="https://aresluna.org/attached/computerhistory/articles/spreadsheets/tenyearsofrowsandcolumns">as described by Tracy Robnett Licklider in Byte Magazine</a>:</p>
<blockquote>
<p>Lotus 1-2-3 exploited natural-order recalculation, although it also supported VisiCalc’s row- and column-order modes. Natural-order recalculation maintained a cell dependency list and recalculated a cell before recalculating cells that depended on it.</p>
</blockquote>
<p>Lotus 1-2-3 implemented the “recalculate everything” strategy we’ve shown above, and for the first decade of spreadsheets, that was as good as it got. Yes, we recalculate every cell in the document, but at least we only recalculate every cell once.</p>
<h2>but what about “burrito price w ship”</h2>
<p>Great point, header 2. In my three burrito example there’s no reason to recompute <code>Burrito Price w Ship</code>, because changing the number of burritos we order can’t possibly influence the per-burrito price. In 1989, one of Lotus’ competitors realized this, and created SuperCalc5, presumably naming it after the theory of super burritos at the core of this algorithm. SuperCalc5 recalculated “only cells dependent on changed cells”, which would make updating the burrito count look more like this:</p>
<p><img alt="same as prior graph, with burrito count updated from 2 to 3, but now only the two affected cells &quot;num burritos&quot; and &quot;total&quot; are tagged as recalc" src="https://lord.io/images/2020/anchors_3.png"></p>
<p>By only updating a cell when one of its inputs changes, we can avoid recalculating <code>Burrito Price w Ship</code>. In this case, it saves just a single addition, but on larger spreadsheets it can save quite a bit of time! Unfortunately, we now have another problem. Let’s say my friends now want meat burritos, which cost a dollar more, and simultaneously El Farolito adds a $2 fee paid per-order, regardless of how many burritos you order. Before any formula outputs are recalculated, our graph might look like this:</p>
<p><img alt="same as prior graph (after burrito count update finished calculation), but now burrito price is being updated from $8 to $9, and simultaneously total is updated from &quot;burrito price w ship * num burritos&quot; to &quot;burrito price w ship * num burritos + $2 fee&quot;" src="https://lord.io/images/2020/anchors_4.png"></p>
<p>Since there are two updated cells here, we have a problem. Should we recalculate <code>Burrito Price</code> first, or <code>Total</code>? Ideally, we first calculate <code>Burrito Price</code>, notice that its output has changed, then recalculate <code>Burrito Price w Ship</code>, and finally recalculate <code>Total</code>. However, if we instead recalculate <code>Total</code> first, we’ll have to recalculate it a second time once the new $9 burrito price propagates down. If we don’t calculate cells in the right order, this algorithm isn’t better than recalculating the whole document. In some cases, it’s as slow as VisiCalc!</p>
<p>Clearly, it’s important for us to figure out the right order to update our cells. Broadly, there are two solutions to this problem: dirty marking and topological sorting.</p>
<p>This first solution involves marking all cells downstream from an edit as dirty. For instance, when we update <code>Burrito Price</code>, we would mark the downstream cells <code>Burrito Price w Ship</code> and <code>Total</code> as dirty, even before doing any recalculations:</p>
<p><img alt="same as prior graph with the two updates, but now three nodes are tagged as dirty: &quot;burrito price&quot;, &quot;burrito price w ship&quot;, and &quot;total&quot;. would also like to apologize for the rather confusing image alt text so far; it's really hard to write these for graph diagrams!! if you are a screen reader user and have advice on better ways to do this, would love to hear from you." src="https://lord.io/images/2020/anchors_5.png"></p>
<p>Then, in a loop, we find a dirty cell that has no dirty inputs, and recalculate it. When there are no dirty cells left, we’re done! This solves our ordering problem. There’s one downside though — if a cell is recalculated and we find its new output to be the same as its previous output, we’ll still recalculate downstream cells! A little bit of extra logic can avoid actually running the formula trouble in this case, but we unfortunately still waste time marking and unmarking a lot of cells as dirty.</p>
<p>The second solution is topological sorting. If a cell has no inputs, we mark its height as 0. If a cell has inputs, we mark its height as the maximum of the heights of its inputs, plus one. This guarantees all cells have a greater height than any of their inputs, so we just keep track of all cells with a changed input, always choosing the cell with the lowest height to recalculate first:</p>
<p><img alt="same as prior graph with the two updates, but instead of dirty tags, now every node has a height tag. &quot;burrito price&quot; and &quot;num burritos&quot;, the two cells with no in-nodes, have height 0. &quot;burrito price w ship&quot; has height 1. &quot;total&quot; has height 2." src="https://lord.io/images/2020/anchors_6.png"></p>
<p>In our double-update example, <code>Burrito Price</code> and <code>Total</code> would be initially added to the recalculation heap. <code>Burrito Price</code> has lesser height, and would be recalculated first. Since its output changes, we then would add <code>Burrito Price w Ship</code> to the recalculation heap, and since it too has less height than <code>Total</code>, it would be recalculated before we finally recalculate <code>Total</code>.</p>
<p>This has a big advantage over the first solution: no cell is ever marked dirty unless one of its inputs actually change. However, it requires we keep all cells pending recalculation in sorted order. If we use a heap, this results in an <code>O(n log n)</code> slowdown, so in the worst case, asymptotically slower than Lotus 1-2-3’s strategy of recalculating everything.</p>
<p>Modern-day Excel uses <a href="https://docs.microsoft.com/en-us/office/client-developer/excel/excel-recalculation">a combination of dirty marking and topological sorting</a>, which you can read more about in their docs.</p>
<h2>demand-driven complications</h2>
<p>We’ve now more or less reached the algorithms used in modern-day spreadsheet recalculation. Unfortunately, I suspect there is basically no business case to be made for ever improving it further. The few people with the problem “my Excel spreadsheet is too slow” have already written enough Excel formulas that migration to any other platform is impossible. Fortunately, I have no understanding of business, and so we’re going to look at further improvements anyway.</p>
<p>Beyond caching, one of the cool aspects of a spreadsheet-style computation graph is we can only calculate the cells that we’re interested in. This is sometimes called lazy computation, or demand-driven computation. As a more concrete example, here’s a slightly expanded burrito spreadsheet graph. This example is the same as before, but we’ve added what is best described as “salsa calculations”. Each burrito contains 40 grams of salsa, and we perform a quick multiplication to know how much salsa is in our entire order. In this case, since our order has three burritos, there’s a total of 120 grams of salsa in our entire order.</p>
<p><img alt="a new graph. similar structure to the old graph, but there are two new nodes: &quot;salsa per burrito&quot;, which is set to the constant &quot;40 grams&quot;, and &quot;salsa in order&quot;, which is &quot;salsa per burrito&quot; times &quot;num burritos&quot;" src="https://lord.io/images/2020/anchors_7.png"></p>
<p>Of course, astute readers will have spotted the problem here already: knowing the total weight of salsa in an order is a pretty useless measurement. Who cares that it’s 120 grams? What am I supposed to do with this information?? Unfortunately, a regular spreadsheet would waste cycles calculating <code>Salsa In Order</code>, even if we don’t want it recalculated most of the time.</p>
<p>This is where demand-driven recalculation can help. If we could somehow specify that we’re only interested in the output of <code>Total</code>, we could only recompute that cell and its dependencies, and skip touching <code>Salsa In Order</code> and <code>Salsa Per Burrito</code>. Let’s call <code>Total</code> an <em>observed</em> cell, since we’re trying to look at its output. We can also call both <code>Total</code> and its three dependencies <em>necessary</em> cells, since they’re necessary to compute some observed cell. <code>Salsa In Order</code> and <code>Salsa Per Burrito</code> would be aptly described as <em>unnecessary</em>.</p>
<p>Some folks on the Rust team created the <a href="https://github.com/salsa-rs/salsa">Salsa</a> framework to solve this problem, clearly naming it after the unnecessary salsa calculations their computers were wasting cycles on. Salsa is really cool, and I’m sure <a href="https://www.youtube.com/watch?v=i_IhACacPRY">they can explain</a> how it works better than I can. Very roughly, they use revision numbers to track whether a cell needs recalculation. Any mutation to a formula or input increments the global revision number, and every cell tracks two revisions: <code>verified_at</code> to track the revision its output was last brought up-to-date, and <code>changed_at</code> to track the revision its output last actually changed.</p>
<p><img alt="our new graph, but now there's a title of &quot;current revision: R6&quot;. each cell is tagged with a change revision and verified at revision. all change revisions are R1, except &quot;salsa per burrito&quot;, which is R6. all verified at revisions are R6, except &quot;salsa in order&quot;, which is R1." src="https://lord.io/images/2020/anchors_8.png"></p>
<p>When the user indicates they’d like a fresh value for <code>Total</code>, we’d first recursively recalculate any cell necessary to <code>Total</code>, skipping cells if their <code>last_updated</code> revision is equal to the global revision. Once the dependencies of <code>Total</code> are up-to-date, we only rerun the actual formula in <code>Total</code> if either <code>Burrito Price w Ship</code> or <code>Num Burrito</code> have a <code>changed_at</code> revision greater than the <code>verified_at</code> revision of <code>Total</code>. This is great for Salsa’s purposes in the rust-analyzer, where simplicity is important and each cell takes a significant amount of time to compute. However, we can see the disadvantages in our burrito graph above — if <code>Salsa Per Burrito</code> constantly changes, our global revision number will frequently tick up. This will make each observation of <code>Total</code> walk the three cells necessary to it, even though none of those cells have actually changed. No formulas will be recalculated, but if the graph is large, repeatedly walking all of a cell’s dependencies could get expensive.</p>
<h2>faster demand-driven solutions</h2>
<p>Instead of inventing new algorithms for demand-driven spreadsheets, what if we instead draw from the two classical spreadsheet algorithms mentioned earlier: dirty marking and topological sorting? As you might imagine, a demand-driven model complicates both of these, but both are still viable.</p>
<p>Let’s first look at dirty marking. As before, when we change a cell’s formula, we mark all downstream cells as …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://lord.io/blog/2020/spreadsheets/">https://lord.io/blog/2020/spreadsheets/</a></em></p>]]>
            </description>
            <link>https://lord.io/blog/2020/spreadsheets/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25039393</guid>
            <pubDate>Mon, 09 Nov 2020 20:19:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How does consciousness even make sense?]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25039045">thread link</a>) | @algoholix
<br/>
November 9, 2020 | http://niklasbuehler.com/blog/consciousness.html | <a href="https://web.archive.org/web/*/http://niklasbuehler.com/blog/consciousness.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">

<header>

<span><a href="http://niklasbuehler.com/">Home</a> / <a href="http://niklasbuehler.com/rss.xml">RSS</a> / <a href="http://niklasbuehler.com/contact.html">Contact me</a></span>
</header>
<p><em>08.11.2020</em></p>
<!--
## How does consciousness even make sense?
<a id='1604845992' href='/log/#1604845992'>#1604845992 2020 Nov 08, 15:33</a>
-->
<p>I don’t think the current state of “artificial intelligence” really has proven that it earns the great title of <em>intelligence</em>, as I believe it’s all still just a sophisticated application of statistics on large amounts of data. I prefer the title “machine learning”, as in my opinion that describes the process of adjusting the parameters of statistical methods based on the given data adequately.</p>
<p>I’m not even sure if intelligence and consciousness can be simulated by a computer. Because if they could, then the speed of execution surely wouldn’t matter to that fact, right? And if speed didn’t matter, one could just as well represent the (deterministic!) calculations of a finite computer on a piece of paper or by arranging some stones on a large field. Granted, it’d be somewhat slower than a modern computer and the paper would have to be sufficiently large, but in the end flipping bits, drawing on paper, and moving rocks in a systematic way is just the same when it comes to representing computation. So that’d mean if we arranged a bunch of stones on a large field in a certain pattern and then used some fancy (but deterministic) rules to move them around, we’d create consciousness?! I can’t really believe that’s true.</p>
<p><em>But how is a human brain any different??</em> In the end it’s also just biological wires exchanging electricity (+ some chemistry added to the process)…<br>
I can’t really grasp that. Do my thoughts make sense? Where’s the flaw?</p>
<hr>
<h3 id="join-the-discussion-on-hacker-news">Join the discussion on Hacker News</h3>
<p>There’s an interesting discussion about this text on <a href="https://news.ycombinator.com/item?id=25039045">Hacker News</a>.</p>

<hr>

<h3>Want to leave a comment?</h3>
<p>
If you want to give me some feedback or share your opinion, please contact me via <a href="mailto:hi@niklasbuehler.com?subject=Comment%20on%20Blog:%20consciousness" target="_blank">email</a>.
</p>

<hr>

<p>
<span>© Niklas Bühler, 2020</span>
<span><a href="http://niklasbuehler.com/rss.xml">RSS</a> / <a href="http://niklasbuehler.com/contact.html">Contact me</a></span>
</p>



</div>]]>
            </description>
            <link>http://niklasbuehler.com/blog/consciousness.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25039045</guid>
            <pubDate>Mon, 09 Nov 2020 19:48:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AWS Security Maturity Roadmap [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 74 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25038422">thread link</a>) | @sciurus
<br/>
November 9, 2020 | https://summitroute.com/downloads/aws_security_maturity_roadmap-Summit_Route.pdf | <a href="https://web.archive.org/web/*/https://summitroute.com/downloads/aws_security_maturity_roadmap-Summit_Route.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://summitroute.com/downloads/aws_security_maturity_roadmap-Summit_Route.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25038422</guid>
            <pubDate>Mon, 09 Nov 2020 19:07:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A hidden gem in sound symmetry]]>
            </title>
            <description>
<![CDATA[
Score 176 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25037784">thread link</a>) | @gbh444g
<br/>
November 9, 2020 | https://soundshader.github.io/hn/acf/index.html | <a href="https://web.archive.org/web/*/https://soundshader.github.io/hn/acf/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      
      

      

<blockquote>
  <p><em><a href="https://pages.mtu.edu/~suits/autocorrelation.html">Autocorrelation</a> is used to compare a signal with a time-delayed version of itself. If a signal is periodic, then the signal will be perfectly correlated with a version of itself if the time-delay is an integer number of periods. That fact, along with related experiments, has implicated autocorrelation as a potentially important part of signal processing in human hearing.</em></p>
</blockquote>

<p>ACF is a simple method to visualize music that produces surprisingly good results. Perhaps the most unexpected property of ACF is that it accurately transfers the subjective “harmony level” from music to images. It’s almost an unreasonable property, if you think about it. Images below are ACF height maps in polar coordinates.</p>

<table>
  <thead>
    <tr>
      <th>Female vocal</th>
      <th>David Parsons</th>
      <th>Piano</th>
      <th>Bird</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://soundshader.github.io/pics/song-2.jpg" alt=""></td>
      <td><img src="https://soundshader.github.io/pics/bowl-3.jpg" alt=""></td>
      <td><img src="https://soundshader.github.io/pics/piano-p.jpg" alt=""></td>
      <td><img src="https://soundshader.github.io/pics/bird-2.jpg" alt=""></td>
    </tr>
  </tbody>
</table>

<p>More examples: <a href="https://soundshader.github.io/gallery/">soundshader.github.io/gallery</a> (beware of large images).</p>

<p>Live demo: <a href="https://soundshader.github.io/">soundshader.github.io</a></p>



<p>Contrary to what you might think, our ears don’t seem to rely on an FFT-like process to extract isolated frequencies. Instead, our ears detect periodic parts in the signal, although in most cases those periodic parts closely match the FFT frequencies. There is a simple <a href="https://auditoryneuroscience.com/pitch/missing-fundamental-stimuli">experiment</a> that proves this point:</p>

<p><img src="https://auditoryneuroscience.com/sites/default/files/missingFundamental2.png" alt=""></p>

<p>As can be clearly seen on the FFT image, the A signal is a pure sinusoidal tone, while B is a mix of tones. Despite each tone in B is higher than A, our ears perceive B as a lower tone. If we plot both waveforms, we’ll see that A has about 9 peaks in a 20 ms window, while B has only 5. The definition of “peak” is moot, but it doesn’t stop our ears from counting them and using the “number of peaks per second” as a proxy to the tone height.</p>

<p>ACF detects those peaks. ACF sees that there are 5 equally spaced time shifts where <code>B[t] * B[t + shift]</code> reaches the maximum, so on the ACF output we’ll see those 5 peaks.</p>

<blockquote>
  <p>Given that I’ve shamelessly stolen the experiment’s illustration above, I feel obligated to recommend the book where the illustration came from: <a href="https://auditoryneuroscience.com/book-preview">Auditory Neuroscience</a>.</p>
</blockquote>

<p>One downside of ACF is that it drops the phase component of the input signal, and thus ACF is not reversible. This means that images that only render ACF, lose about 50% of the information from the sound and those 50% are important, e.g. dropping the phase from recorded speech makes that speech indiscernible. Real world sounds, such as voice, heavily use nuanced amplitude and phase modulation. ACF captures the former, but ignores the latter.</p>



<p>ACF of a sound sample <code>X[0..N-1]</code> can be computed with two FFTs:</p>

<div><div><pre><code>S = |FFT[X]|^2
ACF[X] = FFT[S]
</code></pre></div></div>

<p>And thus ACF contains exactly the same information as the spectral density <code>S</code> (the well known spectrogram).</p>

<blockquote>
  <p>If you’re familiar with the ACF definition, you’ll notice that I should’ve used the inverse FFT in the last step. There is no mistake. The inverse FFT can be computed as <code>FFT[X*]*</code>, where <code>X*</code> is complex conjugate, but since <code>S[i]</code> is real-valued (and positive, in fact), the conjugate has no effect on it, and since ACF is also real valued in this case, the second conjugate has no effect either.</p>
</blockquote>

<p>ACF is a periodic and even function and so it can be naturally rendered in polar coordinates. In most cases, ACF has a very elaborate structure. Below are some examples, where red = ACF &gt; 0 and blue = ACF &lt; 0.</p>

<table>
  <thead>
    <tr>
      <th>conventional music</th>
      <th>a bird song</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://soundshader.github.io/pics/acf-c-1.jpg" alt=""></td>
      <td><img src="https://soundshader.github.io/pics/acf-c-3.jpg" alt=""></td>
    </tr>
  </tbody>
</table>

<p>Looking at the first example, we can tell that there are 5 prominent peaks in a 20 ms sound sample, which corresponds to 250 Hz. This means that our ears would necesserarily perceive this sound as a 250 Hz tone, regardless of what its spectrogram says. If it was a pure 250 Hz tone, we’d see perfectly round shapes of the <code>r = cos(250Hz * t)</code> line, but it’s not the case here: we see that the 5 peaks are modulated with small wavelets: there is one big wavelet in the middle (which consists of 3 smaller wavelets) and 4 smaller wavelets. Our ears would hear the big wavelet as the 2nd harmonic of the 250 Hz tone (i.e. it would be a 500 Hz tone with a smaller amplitude) and the 4 small wavelets as the 5th harmonic (1000 Hz) at barely discernible volume. In addition to that, the 500 Hz harmonic is also modulated by the 3 tiny wavelets, which means we’d hear a 1500 Hz tone, almost inaudible. We can say all this without even looking at the spectrogram or hearing the sound.</p>



<p>Music is a temporal ornament. There are many types of ornaments, e.g. the 17 types of wallpaper tesselations, but few of them look like music. However there is one particular type of ornament that resembles music a lot - I mean those “mandala” images. I don’t know how and why those are produced, but I noticed a connection between those images and music:</p>

<ul>
  <li>The 1st obvious observation is that a mandala is drawn in polar coordinates and is <code>2*PI</code> periodic. Sound is periodic too, so I thought the two facts are related.</li>
  <li>The 2nd observation is that patterns on those images evolve over the radial axis. Ans so is music is a sequence of evolving sound patterns.</li>
  <li>The 3rd observation is that a <code>2*PI</code> periodic function trivially corresponds to a set of frequencies. We usually use FFT to extract the frequencies and another FFT to restore the <code>2*PI</code> periodic function. Thus, a single radial slice of a mandala could encode a set of frequencies. If this is correct, a mandala is effectively an old school vinyl disk.</li>
</ul>

<p>Putting these observations together we naturally arrive with the ACF idea.</p>



<p>Open an issue on github or shoot me a email at ssgh@aikh.org</p>



<p>AGPLv3</p>


      
    </div></div>]]>
            </description>
            <link>https://soundshader.github.io/hn/acf/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25037784</guid>
            <pubDate>Mon, 09 Nov 2020 18:19:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[An Illustrated Guide to Superlearning]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25037740">thread link</a>) | @prostoalex
<br/>
November 9, 2020 | https://www.khstats.com/blog/sl/superlearning/ | <a href="https://web.archive.org/web/*/https://www.khstats.com/blog/sl/superlearning/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      


<blockquote>
<p>Why use <em>one</em> machine learning algorithm when you could use all of them?! This post contains a step-by-step walkthrough of how to build a superlearner prediction algorithm in <code>R</code>.</p>
</blockquote>


<title>
HTML Image as link
</title>


<p><img alt="cheatsheet" src="https://www.khstats.com/img/Superlearning.jpg" width="100%&quot;"></p><figcaption>
<strong><em>A Visual Guide…</em></strong> Over the winter, I read <a href="https://www.springer.com/gp/book/9781441997814"><em>Targeted Learning</em></a> by Mark van der Laan and Sherri Rose. This “visual guide” I made for <em>Chapter 3: Superlearning</em> by Rose, van der Laan, and Eric Polley is a condensed version of the following tutorial. It is available as an <a href="https://github.com/hoffmakl/CI-visual-guides/blob/master/visual-guides/Superlearner.pdf">8.5x11" pdf on Github</a>, should you wish to print it out for reference (or desk decor).
</figcaption>



<div id="supercuts-of-superlearning">

<ul>
<li><p><strong>Superlearning</strong> is a technique for prediction that involves <strong>combining many individual statistical algorithms</strong> (commonly called “data-adaptive” or “machine learning” algorithms) to <strong>create a new, single prediction algorithm</strong> that is expected to <strong>perform at least as well as any of the individual algorithms</strong>.</p></li>
<li><p>The superlearner algorithm “decides” how to combine, or weight, the individual algorithms based upon how well each one <strong>minimizes a specified loss function</strong>, for example, the mean squared error (MSE). This is done using cross-validation to avoid overfitting.</p></li>
<li><p>The motivation for this type of “ensembling” is that <strong>a mix of multiple algorithms may be more optimal for a given data set than any single algorithm</strong>. For example, a tree based model averaged with a linear model (e.g.&nbsp;random forests and LASSO) could smooth some of the model’s edges to improve predictive performance.</p></li>
<li><p>Superlearning is also called stacking, stacked generalizations, and weighted ensembling by different specializations within the realms of statistics and data science.</p></li>
</ul>
<p><img src="https://www.khstats.com/img/spiderman_meme.jpg"></p>
</div>
<div id="superlearning-step-by-step">

<p>First I’ll go through the algorithm one step at a time using a simulated data set.</p>
<div id="initial-set-up-load-libraries-set-seed-simulate-data">
<h2>Initial set-up: Load libraries, set seed, simulate data</h2>
<p>For simplicity I’ll show the concept of superlearning using only four variables (AKA features or predictors) to predict a continuous outcome. Let’s first simulate a continuous outcome, <code>y</code>, and four potential predictors, <code>x1</code>, <code>x2</code>, <code>x3</code>, and <code>x4</code>.</p>
<pre><code>library(tidyverse)
library(knitr)
set.seed(7)</code></pre>
<pre><code>n &lt;- 5000
obs &lt;- tibble(
  id = 1:n,
  x1 = rnorm(n),
  x2 = rbinom(n, 1, plogis(10*x1)),
  x3 = rbinom(n, 1, plogis(x1*x2 + .5*x2)),
  x4 = rnorm(n, mean=x1*x2, sd=.5*x3),
  y = x1 + x2 + x2*x3 + sin(x4)
)
kable(head(obs), digits=3, caption = "Simulated data set")</code></pre>
<table>
<caption><span id="tab:unnamed-chunk-2">Table 1: </span>Simulated data set</caption>
<thead>
<tr>
<th>id</th>
<th>x1</th>
<th>x2</th>
<th>x3</th>
<th>x4</th>
<th>y</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2.287</td>
<td>1</td>
<td>1</td>
<td>1.385</td>
<td>5.270</td>
</tr>
<tr>
<td>2</td>
<td>-1.197</td>
<td>0</td>
<td>0</td>
<td>0.000</td>
<td>-1.197</td>
</tr>
<tr>
<td>3</td>
<td>-0.694</td>
<td>0</td>
<td>0</td>
<td>0.000</td>
<td>-0.694</td>
</tr>
<tr>
<td>4</td>
<td>-0.412</td>
<td>0</td>
<td>1</td>
<td>-0.541</td>
<td>-0.928</td>
</tr>
<tr>
<td>5</td>
<td>-0.971</td>
<td>0</td>
<td>0</td>
<td>0.000</td>
<td>-0.971</td>
</tr>
<tr>
<td>6</td>
<td>-0.947</td>
<td>0</td>
<td>1</td>
<td>-0.160</td>
<td>-1.107</td>
</tr>
</tbody>
</table>


<h2>
<strong>Step 1: Split data into K folds
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step1.png">
The superlearner algorithm relies on K-fold cross-validation (CV) to avoid overfitting. We will start this process by splitting the data into 10 folds. The easiest way to do this is by creating indices for each CV fold.</p>
<pre><code>k &lt;- 10 # 10 fold cv
cv_index &lt;- sample(rep(1:k, each = n/k)) # create indices for each CV fold. We need each fold K to contain n (all the rows of our data set) divided by k rows. in our example this is 5000/10 = 500 rows in each fold</code></pre>


<h2>
<strong>Step 2: Fit base learners for first CV-fold
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step2.png"></p>
<p>Recall that in K-fold CV, each fold serves as the validation set one time. In this first round of CV, we will train all of our base learners on all the CV folds (k = 1,2,…,9) <em>except</em> for the very last one: <code>cv_index == 10</code>.</p>
<p>The individual algorithms or <strong>base learners</strong> that we’ll use here are three linear regressions with differently specified parameters:</p>
<ol>
<li><p><strong>Learner A</strong>: <span>\(Y=\beta_0 + \beta_1 X_2 + \beta_2 X_4 + \epsilon\)</span></p></li>
<li><p><strong>Learner B</strong>: <span>\(Y=\beta_0 + \beta_1 X_1 + \beta_2 X_2 + \beta_3 X_1 X_3 + \beta_4 sin(X_4) + \epsilon\)</span></p></li>
<li><p><strong>Learner C</strong>: <span>\(Y=\beta_0 + \beta_1 X_1 + \beta_2 X_2 + \beta_3 X_3 + \beta_4 X_1 X_2 + \beta_5 X_1 X_3 + \beta_6 X_2 X_3 + \beta_7 X_1 X_2 X_3 + \epsilon\)</span></p></li>
</ol>
<pre><code>cv_train_1 &lt;- obs[-which(cv_index == 10),] # make a data set that contains all observations except those in k=1
fit_1a &lt;- glm(y ~ x2 + x4, data=cv_train_1) # fit the first linear regression on that training data
fit_1b &lt;- glm(y ~ x1 + x2 + x1*x3 + sin(x4), data=cv_train_1) # second LR fit on the training data
fit_1c &lt;- glm(y ~ x1*x2*x3, data=cv_train_1) # and the third LR</code></pre>
<p>I am <em>only</em> using the linear regressions so that code for running more complicated regressions does not take away from understanding the general superlearning algorithm.</p>
<p>Superlearning actually works best if you use a diverse set, or <strong>superlearner library</strong>, of base learners. For example, instead of three linear regressions, we could use a least absolute shrinkage estimator (LASSO), random forest, and multivariate adaptive splines (MARS). Any parametric or non-parametric supervised machine learning algorithm can be included as a base learner.</p>


<h2>
<strong>Step 3: Obtain predictions for first CV-fold
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step3.png"></p>
<p>We can then get use our validation data, <code>cv_index == 10</code>, to obtain our first set of cross-validated predictions.</p>
<pre><code>cv_valid_1 &lt;- obs[which(cv_index == 10),] # make a data set that only contains observations except in k=10
pred_1a &lt;- predict(fit_1a, newdata = cv_valid_1) # use that data set as the validation for all the models in the SL library
pred_1b &lt;- predict(fit_1b, newdata = cv_valid_1) 
pred_1c &lt;- predict(fit_1c, newdata = cv_valid_1)</code></pre>
<p>Since we have 5000 <code>obs</code>ervations, that gives us three vectors of length 500: a set of predictions for each of our Learners A, B, and C.</p>
<pre><code>length(pred_1a) # double check we only have n/k predictions ...we do :-)</code></pre>
<pre><code>## [1] 500</code></pre>
<pre><code>knitr::kable(head(cbind(pred_1a, pred_1b, pred_1c)), digits= 2, caption = "First CV round of predictions") </code></pre>
<table>
<caption><span id="tab:unnamed-chunk-6">Table 2: </span>First CV round of predictions</caption>
<thead>
<tr>
<th>pred_1a</th>
<th>pred_1b</th>
<th>pred_1c</th>
</tr>
</thead>
<tbody>
<tr>
<td>-1.39</td>
<td>-0.77</td>
<td>-0.40</td>
</tr>
<tr>
<td>-1.27</td>
<td>-0.34</td>
<td>-0.11</td>
</tr>
<tr>
<td>2.16</td>
<td>1.32</td>
<td>1.10</td>
</tr>
<tr>
<td>4.27</td>
<td>4.26</td>
<td>3.98</td>
</tr>
<tr>
<td>3.31</td>
<td>3.98</td>
<td>3.78</td>
</tr>
<tr>
<td>2.29</td>
<td>2.42</td>
<td>2.83</td>
</tr>
</tbody>
</table>


<h2>
<strong>Step 4: Obtain CV predictions for entire data set
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step4.png"></p>
<p>We’ll want to get those predictions for <em>every</em> fold. So, using your favorite <code>for</code> loop, <code>apply</code> statement, or <code>map</code>ping function, fit the base learners and obtain predictions for each of them, so that there are 1000 predictions – one for every point in <code>obs</code>ervations.</p>
<p>The way I chose to code this was to make a generic function that combines Step 2 (base learners fit to the training data) and Step 3 (predictions on the validation data), then use <code>map_dfr()</code> from the <code>purrr</code> package to repeat over all 10 CV folds. I saved the results in a new data frame called <code>cv_preds</code>.</p>
<pre><code>cv_folds &lt;- as.list(1:k)
names(cv_folds) &lt;- paste0("fold",1:k)

get_preds &lt;- function(fold){   # function that does the same procedure as step 2 and 3 for any CV fold
  cv_train &lt;- obs[-which(cv_index == fold),]  # make a training data set that contains all data except fold k
  fit_a &lt;- glm(y ~ x2 + x4, data=cv_train)  # fit all the base learners to that data
  fit_b &lt;- glm(y ~ x1 + x2 + x1*x3 + sin(x4), data=cv_train)
  fit_c &lt;- glm(y ~ x1*x2*x3, data=cv_train)
  cv_valid &lt;- obs[which(cv_index == fold),]  # make a validation data set that only contains data from fold k
  pred_a &lt;- predict(fit_a, newdata = cv_valid)  # obtain predictions from all the base learners for that validation data
  pred_b &lt;- predict(fit_b, newdata = cv_valid)
  pred_c &lt;- predict(fit_c, newdata = cv_valid)
  return(data.frame("obs_id" = cv_valid$id, "cv_fold" = fold, pred_a, pred_b, pred_c))  # save the predictions and the ids of the observations in a data frame
}

cv_preds &lt;- purrr::map_dfr(cv_folds, ~get_preds(fold = .x)) # map_dfr loops through every fold (1:k) and binds the rows of the listed results together

cv_preds %&gt;% arrange(obs_id) %&gt;% head() %&gt;% kable(digits=2, caption = "All CV predictions for all three base learners") </code></pre>
<table>
<caption><span id="tab:unnamed-chunk-7">Table 3: </span>All CV predictions for all three base learners</caption>
<thead>
<tr>
<th></th>
<th>obs_id</th>
<th>cv_fold</th>
<th>pred_a</th>
<th>pred_b</th>
<th>pred_c</th>
</tr>
</thead>
<tbody>
<tr>
<td>1…1</td>
<td>1</td>
<td>4</td>
<td>3.73</td>
<td>5.42</td>
<td>5.28</td>
</tr>
<tr>
<td>1…2</td>
<td>2</td>
<td>8</td>
<td>-0.77</td>
<td>-1.19</td>
<td>-1.20</td>
</tr>
<tr>
<td>1…3</td>
<td>3</td>
<td>2</td>
<td>-0.78</td>
<td>-0.81</td>
<td>-0.69</td>
</tr>
<tr>
<td>1…4</td>
<td>4</td>
<td>10</td>
<td>-1.39</td>
<td>-0.77</td>
<td>-0.40</td>
</tr>
<tr>
<td>1…5</td>
<td>5</td>
<td>6</td>
<td>-0.78</td>
<td>-1.01</td>
<td>-0.97</td>
</tr>
<tr>
<td>1…6</td>
<td>6</td>
<td>7</td>
<td>-0.96</td>
<td>-1.04</td>
<td>-0.94</td>
</tr>
</tbody>
</table>


<h2>
<strong>Step 5: Choose and compute loss function of interest via metalearner
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step5.png"></p>
<blockquote>
<p>This is the key step of the superlearner algorithm: we will use a new learner, a <strong>metalearner</strong>, to take information from all of the base learners and create that new algorithm.</p>
</blockquote>
<p>Now that we have cross-validated predictions for every observation in the data set, we want to merge those CV predictions back into our main data set…</p>
<pre><code>obs_preds &lt;- 
  full_join(obs, cv_preds, by=c("id" = "obs_id"))</code></pre>
<p>…so that we can minimize a final loss function of interest between the true outcome and each CV prediction. This is how we’re going to optimize our overall prediction algorithm: we want to make sure we’re “losing the least” in the way we combine our base learners’ predictions to ultimately make final predictions. We can do this efficiently by choosing a new learner, a metalearner, which reflects the final loss function of interest.</p>
<p>For simplicity, we’ll use another linear regression as our metalearner. Using a linear regression as a metalearner will minimize the Cross-Validated Mean Squared Error (CV-MSE) when combining the base learner predictions. Note that we could use a variety of parametric or non-parametric regressions to minimize the CV-MSE.</p>
<p>No matter what metalearner we choose, the predictors will always be the cross-validated predictions from each base learner, and the outcome will always be the true outcome, <code>y</code>.</p>
<pre><code>sl_fit &lt;- glm(y ~ pred_a + pred_b + pred_c, data = obs_preds)
kable(broom::tidy(sl_fit), digits=3, caption = "Metalearner regression coefficients") </code></pre>
<table>
<caption><span id="tab:unnamed-chunk-9">Table 4: </span>Metalearner regression coefficients</caption>
<thead>
<tr>
<th>term</th>
<th>estimate</th>
<th>std.error</th>
<th>statistic</th>
<th>p.value</th>
</tr>
</thead>
<tbody>
<tr>
<td>(Intercept)</td>
<td>-0.003</td>
<td>0.002</td>
<td>-1.447</td>
<td>0.148</td>
</tr>
<tr>
<td>pred_a</td>
<td>-0.017</td>
<td>0.004</td>
<td>-4.739</td>
<td>0.000</td>
</tr>
<tr>
<td>pred_b</td>
<td>0.854</td>
<td>0.007</td>
<td>128.241</td>
<td>0.000</td>
</tr>
<tr>
<td>pred_c</td>
<td>0.165</td>
<td>0.005</td>
<td>30.103</td>
<td>0.000</td>
</tr>
</tbody>
</table>
<p>This metalearner provides us with the coefficients, or weights, to apply to each of the base learners. In other words, if we have a set of predictions from Learner A, B, and C, we can obtain our best possible predictions by starting with an intercept of -0.003, then adding -0.017 <span>\(\times\)</span> predictions from Learner A, 0.854 <span>\(\times\)</span> predictions from Learner B, and 0.165 <span>\(\times\)</span> predictions from Learner C.</p>
<p><em>For more information on the metalearning step, check out the <a href="#appendix">Appendix</a>.</em></p>


<h2>
<strong>Step 6: Fit base learners on entire data set
</strong></h2><p><img src="https://www.khstats.com/img/sl_steps/step6.png"></p>
<p>After we fit the metalearner, we officially have our superlearner algorithm, so it’s time to input data and …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.khstats.com/blog/sl/superlearning/">https://www.khstats.com/blog/sl/superlearning/</a></em></p>]]>
            </description>
            <link>https://www.khstats.com/blog/sl/superlearning/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25037740</guid>
            <pubDate>Mon, 09 Nov 2020 18:16:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Rust Is the Future of Game Development]]>
            </title>
            <description>
<![CDATA[
Score 152 | Comments 224 (<a href="https://news.ycombinator.com/item?id=25037147">thread link</a>) | @adamnemecek
<br/>
November 9, 2020 | https://thefuntastic.com/blog/why-rust-is-the-future-game-dev? | <a href="https://web.archive.org/web/*/https://thefuntastic.com/blog/why-rust-is-the-future-game-dev?">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-10b1bd0a="" data-v-2ae295f5=""><p><em>Rust, not related to the video game also called Rust, is a promising systems programming language with novel features ideally suited for game development. Exposure and awareness within the game developer community, however, remains limited. In this post, I provide a gentle introduction to Rust and attempt to justify its place on your radar.</em></p>
<h2 id="a-short-history-lesson">A Short History Lesson</h2>
<p>What is Rust, and where did it come from? In <a href="https://www.youtube.com/watch?v=HiWkMFE8uRE" target="_blank" rel="nofollow noopener noreferrer">this fantastic talk</a>, James Munns gives us a detailed oral history. Way back around 2010, Mozilla was frustrated by the state of development in Firefox, a massive software project  written mostly in C++. Despite best practices and an abundance of engineering talent, writing high-performance, parallelised, and memory-safe code, at that scale of complexity, remained fraught and error-prone.</p>
<p>Bear in mind, this predates the advent of C++11 (aka the 2011 edition) which heralded efforts to somewhat modernise the language. Even so, manual memory manipulation is easy to get wrong, and <a href="https://msrc-blog.microsoft.com/2019/07/18/we-need-a-safer-systems-programming-language/" target="_blank" rel="nofollow noopener noreferrer">research</a> from <a href="https://www.zdnet.com/article/chrome-70-of-all-security-bugs-are-memory-safety-issues/" target="_blank" rel="nofollow noopener noreferrer">multiple vendors</a> describes this category of error as responsible for 70% of security vulnerabilities. </p>
<p>Into this context steps Graydon Hoare, a Mozilla employee, introducing <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)#History" target="_blank" rel="nofollow noopener noreferrer">a potential solution</a> to the roadblock: Rust, the hobby language he'd been tinkering with since 2006. In 2012, Mozilla would formally announce Servo, an experimental research project to re-imagine a browser engine built with memory safety and concurrency as first principles. And alongside it, Rust, the companion language to make it all possible.</p>
<p>These early days of Rust are described as a Cambrian explosion of ideas and wild experimentation. Concepts were liberally stolen from other languages, from C++ to OCaml, Haskell, Erlang, ML, C#, Ruby and more, reflecting the diverse pool of engineers working on the language at the time. Still, most in the industry, while admiring the optimism in taking such an ambitious moon shot, <a href="http://dtrace.org/blogs/bmc/2018/09/18/falling-in-love-with-rust/" target="_blank" rel="nofollow noopener noreferrer">remained pessimistic</a> about the prospects of success. </p>
<p>2015 saw a major milestone, with the release of Rust v1.0. Perhaps as significant as the feature list, was the number of failed experiments left behind on the cutting room floor, the team unafraid to pare down the language to its quintessential elements. This was also the first time stability guarantees would be offered, a quality notoriously absent before. </p>
<p>Soon after, in 2016, Firefox <a href="https://hacks.mozilla.org/2016/07/shipping-rust-in-firefox/" target="_blank" rel="nofollow noopener noreferrer">shipped its first production Rust code</a>. The industry and community started to take notice, and Rust began its impressive, and as yet unbroken, <del>four</del> <a href="https://stackoverflow.blog/2020/01/20/what-is-rust-and-why-is-it-so-popular/" target="_blank" rel="nofollow noopener noreferrer">five year streak</a> as Stack Overflow's most beloved language. [<em>Thank you James Munns for pointing out it's now actually five years</em>]. </p>
<p>Right from the outset, Rust set out with a clear focus on   building an inclusive community. They, in turn, have contributed to Rust's impressive technical aptitude, but have also fostered a sense of reverence and fondness not often witnessed in other languages. Are they crazy zealots or onto something?</p>
<h2 id="why-rust">Why Rust?</h2>
<blockquote>
<p><em>The performance of C++ with the convenience of C#</em></p>
</blockquote>
<p>This was the first time Rust hijacked my attention. C++ enjoys a long-standing ubiquity, in part, due to its ability to express zero cost abstractions. As explained by Bjarne Stroustrup, the creator of C++:</p>
<blockquote>
<p><em>What you don't use, you don't pay for. And further: What you do use, you couldn't hand code any better.</em></p>
</blockquote>
<p>It's easy to spot the relevancy to games. Making frame-rate while simulating entire worlds is a daunting performance challenge. Indeed, C++ underpins the bulk of game engines. There simply is <a href="https://www.youtube.com/watch?v=ltCgzYcpFUI" target="_blank" rel="nofollow noopener noreferrer">no other industrial language</a> that offers the same speed and low-level control, whilst writing programs in the large. </p>
<p>C++, however, suffers from the weight of its legacy. The accumulation of features over 40 years makes for a complex and intricate language. In the last decade modernisation of the standard has done well to uplift it from its C roots, but the experienced programmer must build up an arcane lore of which features are blessed, and which machinery is dangerous. As Stroustrup again describes:  </p>
<blockquote>
<p>Within C++, there is a much smaller and cleaner language struggling to get out.   </p>
</blockquote>
<p>This makes the language daunting and difficult to approach for beginners. In <a href="https://boats.gitlab.io/blog/post/zero-cost-abstractions/" target="_blank" rel="nofollow noopener noreferrer">this blog post</a>, Rust contributor <em>withoutboats</em> defines an import quality about abstraction:  </p>
<blockquote>
<p>A zero cost abstraction, like all abstractions, must actually offer a better experience than the alternative.</p>
</blockquote>
<p>So yes, of course, C++ offers a better time than your own hand wrought assembly. However, this is making the subtle point that it's competing against a secondary force: a more expensive abstraction that justifies its cost by being more comfortable and convenient.</p>
<p>We see this writ large in the rise of popular game engines that eschew the complexity of C++, the most notable being Unity. End users write code in C#, a more forgiving and ergonomic language, creating a boon in developer productivity and a reduction in iteration time.  </p>
<p><img src="https://thefuntastic.com/blog/2020-10-Unity-Interest.png" title="Unity interest over time in search trends"></p>
<p>In large codebases though, near the edge of the performance envelope, this trade-off begins to bite. The garbage collector eliminates an entire category of errors by removing responsibility for memory management from the end-user. However as its workload grows, so do periodic performance spikes antithetical to smooth gameplay.  </p>
<p><img src="https://thefuntastic.com/blog/2020-11-GC-spikes.png" title="Unity interest over time in search trends"></p>
<p>The experienced developer can still create a performant experience, however, this demands plugging the leaks in the abstraction. They must build a mental model of the machinery behind the curtain, a collection of arcane wisdom that bans many of the original conveniences, lest they disturb the garbage collector. </p>
<p>So development teams face a choice. Better resourced AAA studios generally choose Unreal or in-house engine tech built on C++, able to absorb the overhead for long term gain. Less resourced studios optimise for time to market, choosing Unity, or one of the many other accessible game making tools (Godot, Haxe, Game Maker, etc.). They often postpone performance concerns until after business eligibility is secured.   </p>
<p>Rust, however, for the first time, promises a third way. A world where it's possible to write zero cost abstractions without sacrificing higher-order elegance. </p>
<h3 id="ownership-based-memory">Ownership based memory</h3>
<p>To understand Rust's special sauce, we're going have to talk about ownership and how it handles memory. This is only a simple sketch, but <a href="http://intorust.com/tutorial/ownership/" target="_blank" rel="nofollow noopener noreferrer">in-depth resources</a> exist for the curious. </p>
<p>Writing optimised code is often about taking the way we, as humans, naturally think of an idea or algorithm, and instead expressing it in terms that favour the computer. This act often harms the legibility and understanding of a program, which makes it much harder for us, the humans, to reason about its correctness. </p>
<p>In a manually managed language, like C, the hapless programmer is left responsible for the machinations of the machine. They must take great care to ensure data is appropriately loaded into memory before operation, and then responsibly disposed of afterwards. A difficult dance in which missteps either cause dramatic crashes or else subtle and hard to detect vulnerabilities. But these are the very same tools that allow careful users to tune performance.  </p>
<p>At the other end of the spectrum, garbage collection promises the programmer it will automatically deal with the problem on their behalf. They are now free to express code naturally, but in doing so, it ties hands behind their back. They no longer have, at least not without indirection, the levers needed to wring out maximal performance.</p>
<p>Rust begins from a different premise. Rather than hiding this complexity, it accepts that computers are hard for humans, and instead tries to save us from the dangerous bits. Users can still tune the machine, but with less rope to wrap around their necks. </p>
<p>In the same way that static typing exists, very clever people have figured out how to make the compiler eliminate a whole category of memory and concurrency errors. To achieve this, Rust makes a bargain with the developer: </p>
<blockquote>
<p>"I'm going to keep track of the lifetime of every piece of memory in your program for you. This way, I can detect the moment you're no longer using it and safely free it on your behalf. But in return, I'm going to need you to follow <a href="https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html" target="_blank" rel="nofollow noopener noreferrer">strict rules</a> about the ownership of that memory. If you try to use it outside of the scope that owns it, my humourless friend here, the borrow checker, is going to make sure you don't hurt yourself."</p>
</blockquote>
<p>However, like static typing, this lunch isn't free. Rust is known to have a steep learning curve, "fighting the borrow checker" becomes a right of passage. It takes time to learn this new paradigm. Ownership makes some familiar patterns difficult or impossible and demands new ones be learnt in their place. Perhaps we should revise our earlier statement as: "The performance of C++ with the <del>convenience</del> safety of C#"</p>
<h2 id="unpacking-rusts-popularity">Unpacking Rust's Popularity</h2>
<p>Early adopters have a selfish reason to extol the virtues of their chosen technology, as widespread adoption enhances the return on their risky investment. In this respect, while interest is high but opportunities for real-world exposure are limited, is it possible that Rust is cresting a wave of unearned hype? <a href="https://matklad.github.io/2020/09/20/why-not-rust.html" target="_blank" rel="nofollow noopener noreferrer">Not every javascript or python developer</a> interested in the language, for example, has a use case that merits the additional complexity.</p>
<p>To a developer standing on the shores of 2010, <code>git</code>, a new version control system with a steep learning curve, may have seemed like a risky investment. But, in the ensuing world of Github, it's hard to argue the effort was wasted, even if some workloads (i.e. large games) still require alternatives.</p>
<p>In a similar vein, how can we qualify Rust's popularity as a meaningful signal? Ultimately, we will only know by the volume of mud we've dug through in the trenches, and admittedly, it is far too early to collect this data for games. </p>
<p>In other industries, though, early reports of Rust are effusive. <a href="https://medium.com/the-innovation/how-microsoft-is-adopting-rust-e0f8816566ba" target="_blank" rel="nofollow noopener noreferrer">Mircosoft</a>, <a href="https://developers.libra.org/docs/community/coding-guidelines" target="_blank" rel="nofollow noopener noreferrer">Facebook</a>, <a href="https://aws.amazon.com/blogs/opensource/aws-sponsorship-of-the-rust-project/" target="_blank" rel="nofollow noopener noreferrer">Amazon</a>, <a href="https://www.wired.com/2016/03/epic-story-dropboxs-exodus-amazon-cloud-empire/" target="_blank" rel="nofollow noopener noreferrer">Dropbox</a>, <a href="https://blog.cloudflare.com/tag/rust/" target="_blank" rel="nofollow noopener noreferrer">Cloudflare</a> all have Rust deployed in production. The <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-Kernel-Rust-Path-LPC2020" target="_blank" rel="nofollow noopener noreferrer">Linux Kernel</a> and <a href="https://www.chromium.org/Home/chromium-security/memory-safety/rust-and-c-interoperability" target="_blank" rel="nofollow noopener noreferrer">Chrom…</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thefuntastic.com/blog/why-rust-is-the-future-game-dev?">https://thefuntastic.com/blog/why-rust-is-the-future-game-dev?</a></em></p>]]>
            </description>
            <link>https://thefuntastic.com/blog/why-rust-is-the-future-game-dev?</link>
            <guid isPermaLink="false">hacker-news-small-sites-25037147</guid>
            <pubDate>Mon, 09 Nov 2020 17:27:40 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Canadian government pledges to connect 98% of Canadians via High-Speed Internet]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 80 (<a href="https://news.ycombinator.com/item?id=25037074">thread link</a>) | @aDfbrtVt
<br/>
November 9, 2020 | https://www.cbc.ca/news/politics/broadband-internet-1.5794901 | <a href="https://web.archive.org/web/*/https://www.cbc.ca/news/politics/broadband-internet-1.5794901">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>The Liberal government is promising to spend more than a billion dollars to connect most Canadian to high-speed internet by 2026.</p><div><figure><div><p><img loading="lazy" alt="" srcset="" sizes="" src="https://i.cbc.ca/1.4962390.1546282434!/cpImage/httpImage/image.jpg_gen/derivatives/16x9_780/broadband-expansion.jpg"></p></div><figcaption>The Liberal government has been promising to do something to approve broadband internet service in rural areas.<!-- --> <!-- -->(Toby Talbot/Associated Press)</figcaption></figure><p><span><p>After some pandemic-related delays, the Liberal government says it's now&nbsp;on track to connect 98 per cent of Canadians to high-speed internet by 2026.</p>  <p>The announcement comes as more Canadians find themselves living online while stuck at home due to COVID-19 restrictions.</p>  <p>Prime Minister Justin Trudeau and a handful of cabinet ministers&nbsp;held a news conference in Ottawa to launch the $1.75 billion universal broadband fund — a program unveiled in the federal government's 2019 budget and highlighted on the campaign trail and in&nbsp;September's throne speech. Most of the money&nbsp;was&nbsp;announced in last year's budget.</p>  <p>"We were ready to go&nbsp;in March&nbsp;with the new Universal Broadband Fund and then the pandemic hit,"&nbsp;Rural Economic Development Minister Maryam Monsef told reporters.</p>  <p>The prime minister said the government is now on track to connect&nbsp;98 per cent of Canadians&nbsp;to high-speed&nbsp;by 2026 — an increase over&nbsp;the previously promised 95 per cent benchmark — and to link up&nbsp;the rest by 2030.</p>  <p>"These are ambitious targets&nbsp;and we're ready to meet them,"&nbsp;Trudeau said.</p>  <p><em><strong>WATCH |&nbsp;Trudeau announces a large investment in broadband services for rural Canadians</strong></em></p>  <p><span><span><div><div role="button" tabindex="0" title="Trudeau announces a large investment in broadband services for rural Canadians"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/573/747/ftr%20TRUDEAU%20broadband_frame_0.jpg" alt=""></p></div></div></div><span>Prime Minister Justin Trudeau spoke with reporters during a media briefing in Ottawa on Monday.<!-- --> <!-- -->2:47</span></span></span></p>  <p>About&nbsp;$150 million from the fund will be freed up to fund projects aimed at getting communities connected by next fall.</p>  <p>Senior officials with the department of&nbsp;Innovation, Science and Economic Development&nbsp;said applications will be reviewed on an ongoing basis until Jan. 15, 2021, with a goal of having projects completed by mid-November, 2021.</p>  <p>Deciding who gets upgraded connectivity first will depend on the service providers applying, they said.</p>  <p>Josh Tabish is&nbsp;corporate communications manager at the Canadian Internet Registration Authority, the not-for-profit agency that manages the .ca internet domain. He said he's hoping&nbsp;that a&nbsp;rapid build will bring relief to many Canadians over the next year.</p>    <p>"In terms of action, I think&nbsp;this is great news for Canadians who are stuck at home suffering from slow, crappy internet," he said.&nbsp;</p>  <p>But Tabish also said he hopes the government will look at need when deciding which projects should get approval first.&nbsp;His group has been working to identify the&nbsp;communities that&nbsp;have the slowest&nbsp;rates in Canada.</p>  <p>"What we really want to see happen is communities who are suffering with slow, sluggish connectivity get those upgrades first," he said.</p>  <p>The prime minister said the government also&nbsp;has reached a $600 million agreement with Telesat for satellite capacity to improve broadband service in remote areas and in the North.</p>    <p>"Good reliable internet isn't a luxury. It's a basic service," he said.</p>  <p>"Now more than ever, a video chat cutting out during a meeting or a connection that's too slow to upload a school assignment — that's not just a hassle, that's a barrier."</p>  <h2>Tories call out timelines</h2>  <p>The Opposition Conservatives criticized the government's timelines, arguing Canadians need better access now more than ever.</p>  <p>"This is absolutely unacceptable and a slap in the face to the nearly one million Canadians who don't have internet access at home, much less a reliable cell phone signal," said MP John Nater, Conservative critic&nbsp;for rural economic development.</p>  <p>"For months, Canada's Conservatives have been demanding concrete action to connect Canadians.&nbsp;We will continue to advocate for lower cell phone prices and for real improvements to broadband internet services, so that Canadians living in rural and remote areas have consistent access to these essential services."</p>  <p>The&nbsp;CRTC <a href="https://www.cbc.ca/news/politics/crtc-internet-essential-service-1.3906664">declared</a> broadband internet a basic telecommunications service in 2016.&nbsp;But its data suggest&nbsp;just&nbsp;<a href="https://crtc.gc.ca/eng/internet/internet.htm">40.8 per cent of rural Canadian households have access to </a>download speeds of&nbsp;at least 50 megabits per second (Mbps) and upload speeds of&nbsp;10 Mbps.</p>  <p>The government said those speeds will allow Canadians to work and learn online and access telehealth services.</p>  <p><em><strong>WATCH | Rural Canadians react to today's announcement</strong></em></p>  <p><span><span><div><div role="button" tabindex="0" title="Liberals promise to connect 98% of Canadians by 2030"><div><p><img src="https://thumbnails.cbc.ca/maven_legacy/thumbnails/732/431/politics_THURTON_broadband_money_7000kbps_1280x720_1817544259879.jpg" alt=""></p></div></div></div><span>After some pandemic-related delays, the Liberal government says it's now on track to connect 98 per cent of Canadians to high-speed internet by 2026. The announcement comes as more Canadians find themselves living online while stuck at home due to COVID-19 restrictions.<!-- --> <!-- -->1:47</span></span></span></p>  </span></p></div></div>]]>
            </description>
            <link>https://www.cbc.ca/news/politics/broadband-internet-1.5794901</link>
            <guid isPermaLink="false">hacker-news-small-sites-25037074</guid>
            <pubDate>Mon, 09 Nov 2020 17:21:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Converting Utzoo-Wiseman Usenet Tapes to PostgreSQL Back End Using Python]]>
            </title>
            <description>
<![CDATA[
Score 40 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25036780">thread link</a>) | @kxrm
<br/>
November 9, 2020 | https://www.joe0.com/2020/10/07/converting-utzoo-wiseman-netnews-archive-to-postgresql-using-python-3-8/ | <a href="https://web.archive.org/web/*/https://www.joe0.com/2020/10/07/converting-utzoo-wiseman-netnews-archive-to-postgresql-using-python-3-8/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="content" role="main" itemprop="mainEntityOfPage" itemscope="itemscope" itemtype="http://schema.org/Blog"> <article id="post-4678" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost"><div> <!-- .entry-header --><div itemprop="articleBody"><p>Recently, I came across a resource that allowed me to download the entire collection of UTZOO NetNews Archive of the earliest USENET posts. These were essentially the earliest available discussions posted to the Internet by people working at various Universities who were already connected to the Internet. There were approximately 2.1 million posts in these archives created between Feb 1981 and June of 1991. This article describes the journey of converting those tapes into fully searchable PostgreSQL database and later also into the <a href="https://usenetarchives.com/groups.php?c=utzoo" target="_blank" rel="noopener noreferrer">usenetarchives.com</a> website.</p><p>Until 2001, these early Usenet discussions were considered being lost, but miraculously <a href="https://en.wikipedia.org/wiki/Henry_Spencer" target="_blank" rel="noopener noreferrer">Henry Spencer</a> from the University of Toronto, Department of Zoology was backing it up onto magnetic tapes and kept them stored for all these years (apparently at a great cost).</p><p><a href="https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15.png"><img loading="lazy" src="https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15.png" alt="" width="325" height="259" srcset="https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15.png 1282w, https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15-300x239.png 300w, https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15-768x613.png 768w, https://www.joe0.com/wp-content/uploads/2019/02/2019-02-17_9-14-15-1024x817.png 1024w" sizes="(max-width: 325px) 100vw, 325px"></a>H. Spencer had altogether 141 of these magnetic tapes, but there were of no use, so eventually, him and a couple of motivated people such as David Wiseman (who dragged 141 tapes back and forth in his a pickup truck), Lance Bailey, Bruce Jones, Bob Webber, Brewster Kahle, and Sue Thielen; embarked on a process of converting all of these tapes into the regular format, accessible to everyone.</p><p>And that’s the copy I downloaded. What a treasure, right?</p><p>Well, not so fast, once I unzipped the data, I realized that the TGZ format contains literally millions of small text files (each post in its own file). While it was certainly nice to have, it wasn’t something that I or anyone else could read. Certainly not in a forum like discussion format. It wasn’t obvious which post is the one that starts the discussion or which ones are the replies to the thread. And forget about searching through these files, that was utterly not possible. Just to put things into perspective, it took me over 5 hours to un-tar the archives.</p><p>That said, it didn’t take long for me to decide to develop a Python-based converter that would allow me to convert the entire collection from millions of flat files into a fully searchable PostgreSQL database. The following post talks about the process and also includes the Python code of the solution released as open source.</p><p>The UTZOO Usenet archive can be downloaded here:</p><ul><li>http://www.skrenta.com/rt/utzoo-usenet/</li><li>http://shiftleft.com/mirrors/utzoo-usenet/</li><li>https://ipfs.io/ipfs/QmTo7fRxpXwxv6Uw4TAAtyLWEmvugKaggrHSKNBTRHzWcA/</li><li>Or using this torrent: <a href="https://www.joe0.com/wp-content/uploads/2020/10/utzoo-wiseman-usenet-archive_archive.zip">utzoo-wiseman-usenet-archive_archive</a></li></ul><p>Once downloaded you’ll see that archive contains 161 x TAR Archive files. It looks like this:</p><p><a href="https://www.joe0.com/wp-content/uploads/2019/02/img_5c69574363b87.png"><img loading="lazy" src="https://www.joe0.com/wp-content/uploads/2019/02/img_5c69574363b87.png" alt="" width="596" height="531" srcset="https://www.joe0.com/wp-content/uploads/2019/02/img_5c69574363b87.png 832w, https://www.joe0.com/wp-content/uploads/2019/02/img_5c69574363b87-300x268.png 300w, https://www.joe0.com/wp-content/uploads/2019/02/img_5c69574363b87-768x685.png 768w" sizes="(max-width: 596px) 100vw, 596px"></a></p><p>So, I grabbed a copy of the 7-Zip archiver from <a href="https://www.7-zip.org/">https://www.7-zip.org</a> and started decompressing the files.</p><p>I ended up with over <strong>2,104,828</strong>&nbsp;flat text files in <strong>56,988</strong> folders, which was the entire copy of Henry Spencer’s Usenet archive.</p><p>For those who like numbers, here is each Utzoo tape along with its size, number of files and folders:</p><p id="MLqhONH"><img loading="lazy" width="602" height="2294" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e6e422f3ee.png" alt="" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e6e422f3ee.png 602w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e6e422f3ee-79x300.png 79w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e6e422f3ee-269x1024.png 269w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e6e422f3ee-403x1536.png 403w" sizes="(max-width: 602px) 100vw, 602px"></p><h3>File Issues</h3><p>While examining the extract, I realized that Magnetic Tape 118 is uncompressed in \utzoo-wiseman-usenet-archive\news118f1 folder, named tape118, so I had rename it to tape118.tar and extracted it manually, only to realize it’s a copy of files which I already have. Someone creating the original archive forgotten to remove that file. There are 3 files in these folders that need to have.tar extension added and decompressed as well:</p><ul><li>\utzoo-wiseman-usenet-archive\news118f1\tape118</li><li>\utzoo-wiseman-usenet-archive\news120f1\tape120</li><li>\utzoo-wiseman-usenet-archive\news121f1\tape121</li></ul><p>If you opened one of the folders and navigated down to one of the many subfolders, you’d find a file that contained the message. For example, going into&nbsp;\utzoo-wiseman-usenet-archive\news006f1\b15\net\aviation folder, I was now apparently in the <strong>net.aviation</strong> Usenet group. But the only way to find out was to open one of the files and look at the content. Here I highlighted what it looked like.&nbsp;As you can see, each file seems to consist of a header, then a single empty line and the body of the message:</p><p id="RYYsysr"><a href="https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c.png"><img loading="lazy" src="https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c.png" alt="" width="1110" height="759" srcset="https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c.png 1110w, https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c-300x205.png 300w, https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c-768x525.png 768w, https://www.joe0.com/wp-content/uploads/2019/02/img_5c6967453ae2c-1024x700.png 1024w" sizes="(max-width: 1110px) 100vw, 1110px"></a></p><p>So, I decided to build a Python parser, that went through all these files reading the header portion of each message and grouping all unique results together, giving me all the possible headers such as (From, Subject, Newsgroup, etc.). I found that there were about 79 x different types of headers. So it appeared that not all messages adhered to the same basic structure. Going through the headers, all had the standard set that was common across all posts.</p><p>Once I had the common field, I’ve created a Postgres database called ‘utzoo’</p><pre>create database utzoo;</pre><p>And a new schema called all_messages</p><pre>create schema all_messages;


</pre><p>The above database and schema were the pre-requisites. Everything else, like table creation, inserting the posts, etc. is part of the Python script and fully automated.</p><p>In terms of table creation, the script automatically creates 5 tables for each detected newsgroup:</p><ul><li>headers – parsed headers</li><li>references – references for each message</li><li>body – text of the message</li><li>from – who posted the message</li><li>subjects – list of unique subject lines</li></ul><p>This is what the script auto-creates for each unique Group name:</p><pre>create table all_messages.<strong>GroupName_headers</strong>
(
    id         bigserial not null
        constraint GroupName_headers_pk primary key,
    dateparsed timestamp,
    subj_id    bigint,
    ref        smallint,
    msg_id     text,
    msg_from   bigint,
    enc        text,
    contype    text,
    processed  timestamp default CURRENT_TIMESTAMP
);
alter table all_messages.GroupName_headers
    owner to postgres;


create table all_messages.<strong>GroupName_refs</strong>
(
    id      bigint,
    ref_msg text default null
);
alter table all_messages.GroupName_refs
    owner to postgres;

create table all_messages.<strong>GroupName_body</strong>
(
    id   bigint primary key,
    data text default null
);
alter table all_messages.GroupName_body
    owner to postgres;

create table all_messages.<strong>GroupName_from</strong>
(
    id   serial not null
        constraint GroupName_from_pk primary key,
    data text
);
alter table all_messages.GroupName_from
    owner to postgres;

create table all_messages.<strong>GroupName_subjects</strong>
(
    id      serial not null
        constraint GroupName_subjects_pk primary key,
    subject text
);
alter table all_messages.GroupName_subjects
    owner to postgres;</pre><p>Those will be the tables where the Python parser will dump all the data and make sure posts are properly lined up between tables.</p><p>The python script also creates indexes to make the inserting and later reading of the posts faster:</p><pre>create unique index GroupName_headers_uiidx on all_messages.GroupName_headers(id);
create unique index GroupName_headers_umidx on all_messages.GroupName_headers(msg_id);
create unique index GroupName_body_idx on all_messages.GroupName_body(id);; 
create unique index GroupName_from_idx on all_messages.GroupName_from(data);
create unique index GroupName_subjects_idx on all_messages.GroupName_subjects(subject);

</pre><p>Once created, the structure per group looks like this:</p><p id="kdsmyQE"><img loading="lazy" width="362" height="703" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3e7d98df4.png" alt="" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3e7d98df4.png 362w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3e7d98df4-154x300.png 154w" sizes="(max-width: 362px) 100vw, 362px"></p><p>The following screenshot explains how it’s all wired up. I didn’t do any hardcoded relationships, but you can change the script if you want that.</p><p id="THgecCD"><img loading="lazy" width="601" height="496" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e40111a6ef.png" alt="" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e40111a6ef.png 601w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e40111a6ef-300x248.png 300w" sizes="(max-width: 601px) 100vw, 601px"></p><p>The date is an integral part of each message and I had to do some data conversion massaging in Python to get the proper date, as dates were coming in a variety of formats. I’ve tried various libraries but dateutil.parser.parse standard date and time library for Python did the best job.</p><p>However, I still needed to account for various labelling of data fields in the headers, so if data wasn’t found in the ‘date’ header, I had to look into other header parts such as ‘NNTP-Posting-Date’, ‘X-Article-Creation-Date’,&nbsp;‘Posted’,&nbsp;or ‘Received’ fields.</p><p>Well and then it was all about creating a Python parser, start the PostgreSQL, point it to an archive directory, and wait :)</p><p>At the bottom of this article is the code of the Python solution. It’s about 1,000 lines, and it took altogether about 1 day to create and test it. The script is smart enough to keep the track of where it started, so if it needs to be interrupted, it’ll know where to continue from to get the job done.</p><p>The source code is available on GitHub as open-source under MIT license:</p><p><a href="https://github.com/JozefJarosciak/python_mbox_parser/blob/master/utzoo2postgres.py" target="_blank" rel="noopener noreferrer">https://github.com/JozefJarosciak/python_mbox_parser/blob/master/utzoo2postgres.py</a></p><p>The final solution artifact is called ‘<strong>utzoo2postgres.py</strong>‘ , and it was tested on Python 3.8.</p><p>Open the script and define the path to un-tared Utzoo archive directories.</p><p>Examples:</p><pre># for Windows
positionFilePath = "E:\\Usenet\\Utzoo\\"
# for linux:
# positionFilePath = "/Usenet/Utzoo/"</pre><p>Also, define the particulars of your PostgreSQL database:</p><pre>db_connection = psycopg2.connect(host="localhost", user="", password="", port="5432", database="utzoo")</pre><p>And then just execute the script!</p><pre>python 3 utzoo2postgres.py</pre><p><em>Note: In case you need to stop the program and run it later, the script is smart to resume from the last spot it was processing.</em></p><p>The script will process all Utzoo Archive messages in about 6 hours (depending on the speed of your machine).</p><p>Screenshot from processing:</p><p id="UwdOjId"><img loading="lazy" width="713" height="585" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7dc52b05827.png" alt="" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7dc52b05827.png 713w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7dc52b05827-300x246.png 300w" sizes="(max-width: 713px) 100vw, 713px"></p><p>Here is a screenshot of the database after only a couple of minutes of conversion:</p><p id="JQYnVLo"><img loading="lazy" width="432" height="642" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3dc6ce1c7.png" alt="" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3dc6ce1c7.png 432w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e3dc6ce1c7-202x300.png 202w" sizes="(max-width: 432px) 100vw, 432px"></p><p>As you can see, the conversion utility produces a database with 5 tables per group where messages are linked to each other through auto-created indexes.</p><p id="kdsmyQE">Let’s say we want to look up all discussions in the<strong> net.physics</strong> discussions; and sort them out by the number of replies.</p><p>This is how you can do that:</p><p id="ymEaJie"><a href="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b.png"><img loading="lazy" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b.png" alt="" width="1198" height="625" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b.png 1198w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b-300x157.png 300w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b-1024x534.png 1024w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e48cfddb5b-768x401.png 768w" sizes="(max-width: 1198px) 100vw, 1198px"></a></p><p>Now, we can look up a particular discussion by the ID. For example, we want the ID: 1648 from the screenshot above, the discussion with the subject: “<strong>Question on FTL and quantum mechanics</strong>“. That’s not so hard either:</p><p id="rcwUUqq"><a href="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d.png"><img loading="lazy" src="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d.png" alt="" width="1697" height="847" srcset="https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d.png 1697w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d-300x150.png 300w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d-1024x511.png 1024w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d-768x383.png 768w, https://www.joe0.com/wp-content/uploads/2020/10/img_5f7e49dfdfd6d-1536x767.png 1536w" sizes="(max-width: 1697px) 100vw, 1697px"></a></p><p>It’s nice to have a database full of posts, but it’s hardly usable that way. I needed something that would allow me to easily access these posts.</p><p>So, once everything was done, I built a PHP script around this code and registered <a href="http://usenetarchives.com/" target="_blank" rel="noopener noreferrer">https://usenetarchives.com</a> to make all these archives available online, in an easy to read and search (forum-like) web site.</p><p>The PHP code is not part of this article, but you can head over to <a href="https://usenetarchives.com/groups.php?c=utzoo" target="_blank" rel="noopener noreferrer"><strong>https://usenetarchives.…</strong></a></p></div></div></article></main></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.joe0.com/2020/10/07/converting-utzoo-wiseman-netnews-archive-to-postgresql-using-python-3-8/">https://www.joe0.com/2020/10/07/converting-utzoo-wiseman-netnews-archive-to-postgresql-using-python-3-8/</a></em></p>]]>
            </description>
            <link>https://www.joe0.com/2020/10/07/converting-utzoo-wiseman-netnews-archive-to-postgresql-using-python-3-8/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25036780</guid>
            <pubDate>Mon, 09 Nov 2020 16:56:39 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Separating User Database and Authorization from Apps with Istio and FusionAuth]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25035985">thread link</a>) | @mooreds
<br/>
November 9, 2020 | https://reachablegames.com/oidc-fusionauth-istio/ | <a href="https://web.archive.org/web/*/https://reachablegames.com/oidc-fusionauth-istio/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://reachablegames.com/content/images/size/w300/2020/11/security.jpg 300w,
                            https://reachablegames.com/content/images/size/w600/2020/11/security.jpg 600w,
                            https://reachablegames.com/content/images/size/w1000/2020/11/security.jpg 1000w,
                            https://reachablegames.com/content/images/size/w2000/2020/11/security.jpg 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://reachablegames.com/content/images/size/w2000/2020/11/security.jpg" alt="Separating your User Database and Authorization from Applications with Istio and FusionAuth">
            </figure>

            <section>
                <div>
                    <p>Kubernetes is a tremendously powerful cluster management system. &nbsp;There are many pluggable technologies to choose from that exhibit the features you desire, which is great because you have options--but also comes with the down-side that the likelihood someone else has done exactly what you are trying to do is slim. &nbsp;Eventually, there will be some consolidation as developers gather around the best solutions, but for the moment, there are lots of interesting projects to choose from (and not a ton of great examples for certain configs). Today, I'm sharing a slightly challenging setup and hoping it helps the community.</p><p>I am using Istio as my L7 ingress and routing controller, which is based on Envoy. &nbsp;It is a highly scalable L7 proxy with excellent performance characteristics and relatively mature feature set. When it came time to implement a basic <code>/admin</code> route on a project, I came up with the list of features that I wanted to achieve. &nbsp;My desired config:</p><ul><li>Applications should not have access to user passwords or necessarily email</li><li>Applications should not re-implement role-based access control (RBAC) security, as every application will need it</li><li>Users should be able to login without creating yet another username/password to remember, but support it if they prefer</li><li>Users should be able to self-register, password reset if necessary, and manage what remote authentications are associated with their account without needing support (Google keyword CIAM)</li><li>Application Admins should be able to edit the role of users, either explicitly or by group permissions, with a visual interface for non-technical people to control access</li><li>K8s Ops should be able to change what RBAC rules protect individual routes to applications without a redeploy</li><li>Fully self-hosted, to limit external dependencies and have auditable security around user data</li></ul><p>The simplest way to get started is to follow the excellent walkthrough on <a href="https://www.blog.jetstack.io/blog/istio-oidc/">Jetstack.io</a> that explains in reasonably good detail how to cover your whole ingress with JWT handling. &nbsp;I won't go over all that detail here. &nbsp;Instead, I will present the exact YAML manifests necessary to directly deploy a working config, as well as show screenshots of relevant bits in FusionAuth of exactly how to configure the application so it communicates properly with these manifests.</p><h3 id="why-fusionauth">Why FusionAuth?</h3><p>I usually try out two or three alternative technologies before settling into one I like. Although I did start with KeyCloak, it felt a little unpolished and left a lot to be desired when it came to explaining how to configure it if the terminology wasn't familiar (eg. people who aren't security professionals). &nbsp;I studied several other options and it came down to Gluu or FusionAuth. &nbsp;The main deciding factor for me in favor of FusionAuth was the amount of documentation and tutorials (with much appreciated touches of humor). &nbsp;There is also a clear effort made by the developers to provide official docker images and Kubernetes examples that show real world use. &nbsp;I have been remarkably satisfied with this decision.</p><h3 id="quick-architecture-overview">Quick Architecture Overview</h3><p>Ok, so let's talk about the architecture of how this works together. &nbsp;Like any other traffic using Istio, a request will come into an application by following the routing rules of a <code>VirtualService</code> to a <code>Service</code>, then to a Deployment's <code>Pod</code>. &nbsp;To use the Istio security features, this pod needs to have the Sidecar Proxy running, otherwise the rules don't do anything. (This is unfortunate, as it has been my experience that the sidecar can cause connectivity issues with certain workloads, so just be aware it can cause side effects and you may need to explicitly create and configure the <code>Sidecar</code> for this namespace). The easiest way to get this working is to enable automatic sidecar proxy injection on a new <code>Namespace</code> and deploy the application there. &nbsp;By declaring a <code>RequestAuthentication</code> rule, we configure Istio to refuse any traffic that doesn't have a validly signed Json Web Token (JWT). &nbsp;And by declaring an <code>AuthorizationPolicy</code> rule, we configure Istio to accept or deny traffic by matching specific HTTP paths or user roles, etc. &nbsp;That's great! &nbsp;Right?</p><p>Well, Istio isn't quite mature enough to speak Open ID Connect. &nbsp;It's only smart enough to expect a validly decoded JWT and do some simple pattern matching against its contents. &nbsp;When those rules fail, you just get <code>RBAC: access denied</code> as a response to your request. &nbsp;There's no redirection logic to send the browser to the auth server login page. &nbsp;So, let's teach it to do that with a simple <code>EnvoyFilter</code> rule that is injected on <code>SIDECAR_INBOUND</code>. This lets us target specific applications to protect only the routes we care about without impacting anything else. </p><p>A few critical details: <code>RequestAuthentication</code> only accepts a &nbsp;JWT that is signed with an RSA key, because HMAC is a symmetrical key and anyone who can decode it can also sign it. &nbsp;This means it needs to know where to get the public RSA key, which is supplied in the <code>issuer</code> field. &nbsp;Assuming this checks out, Istio then looks at any <code>AuthorizationPolicy</code> rules and either <code>ALLOW</code> or <code>DENY</code> traffic based on matching or non-matching details. &nbsp;In this case, I have provided a basic rule that allows anyone who has been verified to have an account with this application, and further restrict the <code>/admin/</code> path to accounts that have the <code>admin</code> role. &nbsp;Should anything go wrong, Istio just says <code>RBAC: access denied</code> . &nbsp;To diagnose, just delete these rules and try hitting the endpoint to see what errors pop up. &nbsp;If these rules are removed and you are still getting Unauthorized messages, it's oauth2-proxy refusing the user--check the config and logging to see why.</p><p>Here's the YAML we've all been waiting for. &nbsp;This fully describes a working config where the <code>VirtualService</code> is in the default namespace but everything else is in <code>auth</code> just to keep it away from everything else. &nbsp;The application is hosted at <code>https://auth-example.reachablegames.com</code>. &nbsp;Certain difficult and undocumented details that cause problems if not configured properly have been commented below--please pay attention before changing or simplifying things.</p><pre><code># create namespace where applications can have sidecar injection
apiVersion: v1
kind: Namespace
metadata:
  labels:
    app: auth
    istio-injection: enabled
  name: auth
---
# This rule makes sure the JWT is decoded and passed through to the web server as HTTP_PAYLOAD base64 encoded.
apiVersion: security.istio.io/v1beta1
kind: RequestAuthentication
metadata:
  name: auth-example
  namespace: auth
spec:
  selector:
    matchLabels:
      app: auth-example
  jwtRules:
  - issuer: "https://fusionauth.reachablegames.com"
    # this passes the full bearer token as the "authorization" header
    forwardOriginalToken: true        
    # this passes just the decoded JWT as "payload" header
    outputPayloadToHeader: "payload"  
---
# This rule verifies the user is an authenticated user (requestPrincipals) and also authorized (request.auth.claims)
apiVersion: security.istio.io/v1beta1
kind: AuthorizationPolicy
metadata:
  name: auth-example
  namespace: auth
spec:
  selector:
    matchLabels:
      app: auth-example
  action: ALLOW
  rules:
  - from:  # limit admin path to users with admin role
    - source:
        requestPrincipals: ["*"]
    to:
    - operation:
        paths: ["/admin/*"]
    when:
    - key: request.auth.claims[roles]
      values: ["admin"]
  - from:  # allow anyone who is authorized to access the site to access anything other than /admin
    - source:
        requestPrincipals: ["*"]
    to:
    - operation:
        notPaths: ["/admin/*"]
---
# This intercepts and sends the traffic directly to the oauth2-proxy if there isn't a JWT cookie in the header.
apiVersion: networking.istio.io/v1alpha3
kind: EnvoyFilter
metadata:
  name: auth-example
  namespace: auth
spec:
  workloadSelector:
    labels:
      app: auth-example
  configPatches:
  - applyTo: HTTP_FILTER
    match:
      context: SIDECAR_INBOUND
      listener:
        portNumber: 80
        filterChain:
          filter:
            name: envoy.http_connection_manager
            subFilter:
              name: envoy.filters.http.jwt_authn
    patch:
      operation: INSERT_BEFORE
      value:
        name: envoy.filters.http.ext_authz
        typed_config:
          "@type": type.googleapis.com/envoy.config.filter.http.ext_authz.v2.ExtAuthz
          http_service:
            server_uri: # Note, this absolutely must be the FQDN for the service.  Does not work as a shortname.
              uri: http://auth-example-oauthproxy.auth.svc.cluster.local:8081
              cluster: outbound|8081||auth-example-oauthproxy.auth.svc.cluster.local
              timeout: 10s
            authorizationRequest:
              allowedHeaders:
                patterns:
                - exact: cookie
            authorizationResponse:
              allowedUpstreamHeaders:
                patterns:
                - exact: authorization
---
# Critical: spell out the FQDN because this VirtualService is in "default" but the Service is in "auth"
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: auth-example
  namespace: default
  labels:
    app: auth-example
spec:
  hosts:
  - "auth-example.reachablegames.com"
  gateways:
  - istio-gw
  http:
  - route:
    - destination:
        host: auth-example.auth.svc.cluster.local  # this refers to a Service with name="auth-example"
        port:
          number: 80
---
# Sends traffic to the auth-example deployment pods, which is our application we are trying to secure
apiVersion: v1
kind: Service
metadata:
  name: auth-example
  namespace: auth
  labels:
    app: auth-example
spec:
  ports:
  - port: 80
    name: http-web
    targetPort: http-web
    protocol: TCP
  selector:
    app: auth-example  # send traffic to the auth-example pods
  sessionAffinity: None
  type: ClusterIP
---
# Sends …</code></pre></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://reachablegames.com/oidc-fusionauth-istio/">https://reachablegames.com/oidc-fusionauth-istio/</a></em></p>]]>
            </description>
            <link>https://reachablegames.com/oidc-fusionauth-istio/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035985</guid>
            <pubDate>Mon, 09 Nov 2020 15:51:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Oneapi.jl – Native Julia Support for Intel GPUs]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25035875">thread link</a>) | @KenoFischer
<br/>
November 9, 2020 | https://juliagpu.org/2020-11-05-oneapi_0.1/ | <a href="https://web.archive.org/web/*/https://juliagpu.org/2020-11-05-oneapi_0.1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><main id="main"><i data-feather="calendar"></i><time datetime="2020-11-05">Nov 5, 2020</time><br><i data-feather="edit-2"></i>Tim Besard<p>We’re proud to announce the first version of oneAPI.jl, a Julia package for programming
accelerators with the <a href="https://www.oneapi.com/">oneAPI programming model</a>. It is currently
available for select Intel GPUs, including common integrated ones, and offers a similar
experience to CUDA.jl.</p><p>The initial version of this package, v0.1, consists of three key components:</p><ul><li>wrappers for the oneAPI Level Zero interfaces;</li><li>a compiler for Julia source code to SPIR-V IR;</li><li>and an array interface for convenient data-parallel programming.</li></ul><p>In this post, I’ll briefly describe each of these. But first, some essentials.</p><h2 id="installation">Installation</h2><p>oneAPI.jl is currently only supported on 64-bit Linux, using a sufficiently recent kernel,
and requires Julia 1.5. Furthermore, it currently only supports a limited set of Intel GPUs:
Gen9 (Skylake, Kaby Lake, Coffee Lake), Gen11 (Ice Lake), and Gen12 (Tiger Lake).</p><p>If your Intel CPU has an integrated GPU supported by oneAPI, you can just go ahead and
install the oneAPI.jl package:</p><pre><code>pkg&gt; add oneAPI
</code></pre><p>That’s right, no additional drivers required! oneAPI.jl ships its own copy of the <a href="https://github.com/intel/compute-runtime">Intel
Compute Runtime</a>, which works out of the box on
any (sufficiently recent) Linux kernel. The initial download, powered by Julia’s artifact
subsystem, might take a while to complete. After that, you can import the package and start
using its functionality:</p><pre><code>julia&gt; using oneAPI

julia&gt; oneAPI.versioninfo()
Binary dependencies:
- NEO_jll: 20.42.18209+0
- libigc_jll: 1.0.5186+0
- gmmlib_jll: 20.3.2+0
- SPIRV_LLVM_Translator_jll: 9.0.0+1
- SPIRV_Tools_jll: 2020.2.0+1

Toolchain:
- Julia: 1.5.2
- LLVM: 9.0.1

1 driver:
- 00007fee-06cb-0a10-1642-ca9f01000000 (v1.0.0, API v1.0.0)

1 device:
- Intel(R) Graphics Gen9
</code></pre><h2 id="the-onearray-type">The <code>oneArray</code> type</h2><p>Similar to CUDA.jl’s <code>CuArray</code> type, oneAPI.jl provides an array abstraction that you can
use to easily perform data parallel operations on your GPU:</p><pre><code>julia&gt; a = oneArray(zeros(2,3))
2×3 oneArray{Float64,2}:
 0.0  0.0  0.0
 0.0  0.0  0.0

julia&gt; a .+ 1
2×3 oneArray{Float64,2}:
 1.0  1.0  1.0
 1.0  1.0  1.0

julia&gt; sum(ans; dims=2)
2×1 oneArray{Float64,2}:
 3.0
 3.0
</code></pre><p>This functionality builds on the <a href="https://github.com/JuliaGPU/GPUArrays.jl/">GPUArrays.jl</a>
package, which means that a lot of operations are supported out of the box. Some are still
missing, of course, and we haven’t carefully optimized for performance either.</p><h2 id="kernel-programming">Kernel programming</h2><p>The above array operations are made possible by a compiler that transforms Julia source code
into SPIR-V IR for use with oneAPI. Most of this work is part of
<a href="https://github.com/JuliaGPU/GPUCompiler.jl">GPUCompiler.jl</a>. In oneAPI.jl, we use this
compiler to provide a kernel programming model:</p><pre><code>julia&gt; function vadd(a, b, c)
           i = get_global_id()
           @inbounds c[i] = a[i] + b[i]
           return
       end

julia&gt; a = oneArray(rand(10));

julia&gt; b = oneArray(rand(10));

julia&gt; c = similar(a);

julia&gt; @oneapi items=10 vadd(a, b, c)

julia&gt; @test Array(a) .+ Array(b) == Array(c)
Test Passed
</code></pre><p>Again, the <code>@oneapi</code> macro resembles <code>@cuda</code> from CUDA.jl. One of the differences with the
CUDA stack is that we use OpenCL-style built-ins, like <code>get_global_id</code> instead of
<code>threadIdx</code> and <code>barrier</code> instead of <code>sync_threads</code>. Other familiar functionality, e.g. to
reflect on the compiler, is available as well:</p><pre><code>julia&gt; @device_code_spirv @oneapi vadd(a, b, c)
; CompilerJob of kernel vadd(oneDeviceArray{Float64,1,1},
;                            oneDeviceArray{Float64,1,1},
;                            oneDeviceArray{Float64,1,1})
; for GPUCompiler.SPIRVCompilerTarget

; SPIR-V
; Version: 1.0
; Generator: Khronos LLVM/SPIR-V Translator; 14
; Bound: 46
; Schema: 0
               OpCapability Addresses
               OpCapability Linkage
               OpCapability Kernel
               OpCapability Float64
               OpCapability Int64
               OpCapability Int8
          %1 = OpExtInstImport "OpenCL.std"
               OpMemoryModel Physical64 OpenCL
               OpEntryPoint Kernel
               ...
               OpReturn
               OpFunctionEnd
</code></pre><h2 id="level-zero-wrappers">Level Zero wrappers</h2><p>To interface with the oneAPI driver, we use the <a href="https://github.com/oneapi-src/level-zero">Level Zero
API</a>. Wrappers for this API is available under the
<code>oneL0</code> submodule of oneAPI.jl:</p><pre><code>julia&gt; using oneAPI.oneL0

julia&gt; drv = first(drivers())
ZeDriver(00000000-0000-0000-1642-ca9f01000000, version 1.0.0)

julia&gt; dev = first(devices(drv))
ZeDevice(GPU, vendor 0x8086, device 0x1912): Intel(R) Graphics Gen9
</code></pre><p>This is a low-level interface, and importing this submodule should not be required for the
vast majority of users. It is only useful when you want to perform very specific operations,
like submitting an certain operations to the command queue, working with events, etc. In
that case, you should refer to the <a href="https://spec.oneapi.com/level-zero/latest/index.html">upstream
specification</a>; The wrappers in the
<code>oneL0</code> module closely mimic the C APIs.</p><h2 id="status">Status</h2><p>Version 0.1 of oneAPI.jl forms a solid base for future oneAPI developments in Julia. Thanks
to the continued effort of generalizing the Julia GPU support in packages like GPUArrays.jl
and GPUCompiler.jl, this initial version is already much more usable than early versions of
CUDA.jl or AMDGPU.jl ever were.</p><p>That said, there are crucial parts missing. For one, oneAPI.jl does not integrate with any
of the vendor libraries like oneMKL or oneDNN. That means several important operations, e.g.
matrix-matrix multiplication, will be slow. Hardware support is also limited, and the
package currently only works on Linux.</p><p>If you want to contribute to oneAPI.jl, or run into problems, check out the GitHub
repository at <a href="https://github.com/JuliaGPU/oneAPI.jl">JuliaGPU/oneAPI.jl</a>. For questions,
please use the <a href="https://discourse.julialang.org/c/domain/gpu">Julia Discourse forum</a> under
the GPU domain and/or in the #gpu channel of the <a href="https://julialang.org/community/">Julia
Slack</a>.</p></main></div></div>]]>
            </description>
            <link>https://juliagpu.org/2020-11-05-oneapi_0.1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035875</guid>
            <pubDate>Mon, 09 Nov 2020 15:42:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Architecture Playbook]]>
            </title>
            <description>
<![CDATA[
Score 237 | Comments 46 (<a href="https://news.ycombinator.com/item?id=25035752">thread link</a>) | @yarapavan
<br/>
November 9, 2020 | https://nocomplexity.com/documents/arplaybook/index.html | <a href="https://web.archive.org/web/*/https://nocomplexity.com/documents/arplaybook/index.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <p>
        
          By Maikel Mardjan<br>
        
            © Copyright 2018,2019, 2020 BM-Support.org. Created by Maikel Mardjan. This work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International License (cc-by-sa).<br>
      </p>
  </div></div>]]>
            </description>
            <link>https://nocomplexity.com/documents/arplaybook/index.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035752</guid>
            <pubDate>Mon, 09 Nov 2020 15:31:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I don't care what Elon Musk thinks anymore]]>
            </title>
            <description>
<![CDATA[
Score 58 | Comments 66 (<a href="https://news.ycombinator.com/item?id=25035658">thread link</a>) | @avthar
<br/>
November 9, 2020 | https://avthar.com/blog/dont-outsource-thinking | <a href="https://web.archive.org/web/*/https://avthar.com/blog/dont-outsource-thinking">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-block-type="2" id="block-f18334b57a4385ee2a76"><div><p><em>This blog originally appeared in my </em><a href="https://avthar.substack.com/"><em>weekly newsletter</em></a><em>, where I share ideas I’m reflecting upon, experiments I’m trying and lessons I’ve learned, all to help you level up your own life. To get posts like this straight to your inbox, </em><a href="https://avthar.substack.com/"><em>subscribe here</em></a><em>.</em></p><p>—</p><p>Youtube recommended to me&nbsp;<a href="https://www.youtube.com/watch?v=vVnDE8wSrVo">what Elon Musk would work on if he was 22 years old today</a>. The video has almost 3 million views. In the past, I would’ve immediately watched the whole video, gotten inspired by what Elon thought were industries important to the future of humanity and then spent a ton of time working on that and telling everyone about it. All because Elon Musk thought it was important.&nbsp;</p><p><strong>This is outsourcing your thinking</strong>. This trick served me well in highschool and throughout college, but it’s not sustainable for long term success and happiness.&nbsp;</p><p>There are two problems with outsourcing your thinking. Continuing with the example of past me, there are things I’m already interested in, have&nbsp;<a href="https://nav.al/specific-knowledge">specific knowledge</a>&nbsp;about or possess a competitive advantage in, that won’t be mentioned on Elon’s list. Consequently, the first problem is that I will look down on those things as less meaningful and important and not pursue them, despite my better suitability and chances of success in those areas.</p><p>The second problem with outsourcing your thinking is that once the novelty of the problem fades away, I’d be faced with navigating difficulty, naysayers and the friction of creating something new, without an internal compass to guide me toward the correct paths to take. Put simply, Elon Musk isn’t there to talk me through what he thinks the path forward to be. This all stems from the issue that I pursued something, not because I had interest in that thing, actually enjoyed it or thought it was important, but because Elon Musk (or whoever else) thought it was important to work on. And I followed his thinking, rather than thinking for myself.</p><p>The reason this is important is because most success in business is having&nbsp;<strong>product-market-founder fit</strong>, not just about working on what’s world changing or hot. It’s about building a product that solves a burning problem for the right market and&nbsp;<strong>being the right person, with the right intuition</strong>&nbsp;to bring that product to market, operate that company and delight those customers. Even if you’re working on an important problem, if you don’t have conviction that comes from your own mental models, you’ll get burned when chaos hits. Just ask all the crypto ‘experts’ of 2016/17.&nbsp;<strong>It’s better to build something that’s an expression of yourself, rather than something others think is smart.</strong></p><p>Outsourcing your thinking is a manifestation of the error of trusting others more than we trust ourselves.&nbsp;<a href="https://avthar.com/blog/jw-curation">Josh Waitzkin</a>&nbsp;talks about how this phenomenon of outsourcing your thinking happens all the time in the investing world:</p><blockquote><p>“<em>If you take investors, there might be an investment, which one from the outside we think is objectively good. But it really isn't objectively good. It has to fit into one's portfolio of investments in a way that emerges from one's own mental models. Otherwise, it is not a form of self expression. Then, when you enter volatility, you're not gonna know what to do with it.</em>” -&nbsp;<a href="https://avthar.com/blog/jw-curation">Josh Waitzkin</a></p></blockquote><p>Elon Musk is a placeholder for anyone telling you what you should do or think. That could be entrepreneurs or VCs you idolize or maybe your parents (especially true if you’re brown). The reality is that you should not care what Elon Musk or anyone else says is important, you should decide for yourself what you should work on, based on following your own curiosity and interest.&nbsp;<strong>Do the hard work of experimenting, exploring and thinking for yourself. Don’t outsource your thinking.</strong></p><p><a href="https://avthar.substack.com/"><em>Subscribe here</em></a><em> to get posts like this straight to your inbox, </em></p></div></div></div>]]>
            </description>
            <link>https://avthar.com/blog/dont-outsource-thinking</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035658</guid>
            <pubDate>Mon, 09 Nov 2020 15:21:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A US Visa in 937 Days]]>
            </title>
            <description>
<![CDATA[
Score 286 | Comments 142 (<a href="https://news.ycombinator.com/item?id=25035307">thread link</a>) | @caution
<br/>
November 9, 2020 | https://daniel.haxx.se/blog/2020/11/09/a-us-visa-in-937-days/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/11/09/a-us-visa-in-937-days/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		
<p>Here’s the complete timeline of events. From my first denial to travel to the US until I eventually received a tourist visa. And then I can’t go anyway.</p>



<h2>December 5-11, 2016</h2>



<p>I spent a week on Hawaii with Mozilla – my employer at the time. This was my 12th visit to the US over a period of 19 years. I went there on ESTA, the visa waiver program Swedish citizens can use. I’ve used it many times, there was nothing special this time. The typical procedure with ESTA is that we apply online: fill in a form, pay a 14 USD fee and get a confirmation within a few days that we’re good to go.</p>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/hawaii-2016.jpg"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/hawaii-2016.jpg" alt="" width="558" height="414"></a><figcaption>I took this photo at the hotel we stayed at during the Mozilla all-hands on Hawaii 2016.</figcaption></figure>



<h2>June 26, 2017</h2>



<p>In the early morning one day by the check-in counter at Arlanda airport in Sweden, I was refused to board my flight. Completely unexpected and out of the blue! I thought I was going to San Francisco via London with British Airways, but instead I had to turn around and go back home – slightly shocked. According to the lady behind the counter there was “something wrong with my ESTA”. I used the same ESTA and passport as I used just fine back in December 2016. They’re made to last two years and it had not expired.</p>



<figure><a href="https://twitter.com/bagder/status/879198063998513152"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/Screenshot_2020-11-06-Twitter-Publish.png" alt="" width="553" height="199"></a><figcaption>Tweeted by me, minutes after being stopped at Arlanda.</figcaption></figure>



<p>People engaged by Mozilla to help us out could not figure out or get answers about what the problem was (questions and investigations were attempted both in the US and in Sweden), so we put our hopes on that it was a human mistake somewhere and decided to just try again next time.</p>



<h2>April 3, 2018</h2>



<p>I missed the following meeting (in December 2017) for other reasons but in the summer of 2018 another Mozilla all-hands meeting was coming up (in Texas, USA this time) so I went ahead and applied for a new ESTA in good time before the event – as I was a bit afraid there was going to be problems. I was right and I got denied ESTA very quickly. “Travel Not Authorized”.</p>



<figure><img loading="lazy" src="https://daniel.haxx.se/media/ESTA-travel-not-authorized.png" alt="" width="642" height="458"><figcaption>Rejected from the ESTA program.</figcaption></figure>



<h2>Day 0 – April 17, 2018</h2>



<p><strong>Gaaah</strong>. It meant it was no mistake last year, they actually mean this. I switched approach and instead applied for a tourist visa. I paid 160 USD, filled in a ridiculous amount of information about me and my past travels over the last 15 years and I visited the US embassy for an in-person interview and fingerprinting.</p>



<figure><img loading="lazy" src="https://daniel.haxx.se/media/Administrative-Processing.png" alt="" width="577" height="289"></figure>



<p>This is day 0 in the <a href="https://daniel.haxx.se/blog/2018/07/28/administrative-purgatory/" data-type="post" data-id="11076">visa process</a>, 296 days after I was first stopped at Arlanda.</p>



<h2>Day 90 – July 2018</h2>



<p>I missed the all-hands meeting in San Francisco when I didn’t get the visa in time.</p>



<h2>Day 240 – December 2018</h2>



<p>I <a href="https://daniel.haxx.se/blog/2018/11/18/im-leaving-mozilla/">quit Mozilla</a>, so I then had no more reasons to go to their company all-hands…</p>



<h2>Day 365 – April 2019</h2>



<p><a href="https://daniel.haxx.se/blog/2019/04/17/one-year-in-still-no-visa/" data-type="post" data-id="12216">A year passed</a>. “someone is working on it” the embassy email person claimed when I asked about progress.</p>



<h2>Day 651- January 28, 2020</h2>



<p>I emailed the embassy to query about the process</p>



<figure><img loading="lazy" src="https://daniel.haxx.se/media/651-days-email.png" alt="" width="611" height="166"><figcaption>Screenshotted email</figcaption></figure>



<p>The reply came back quickly:</p>



<blockquote><p>Dear Sir, </p><p>All applications are processed in the most expeditious manner possible. While we understand your frustration, we are required to follow immigration law regarding visa issuances. This process cannot be expedited or circumvented. Rest assured that we will contact you as soon as the administrative processing is concluded.</p></blockquote>



<h2>Day 730 – April 2020</h2>



<p><a href="https://daniel.haxx.se/blog/2020/04/17/two-years-in/" data-type="post" data-id="13456">Another year had passed</a> and I had given up all hope. Now it turned into a betting game and science project. How long can they actually drag out this process without saying either yes or no?</p>



<h2>Day 871 – September 3, 2020</h2>



<p>A friend of mine, a US citizen, contacted his Congressman – <a href="https://en.wikipedia.org/wiki/Gerry_Connolly">Gerry Connolly</a> – about my situation and asked for help. His office then subsequently sent a question to the US embassy in Stockholm asking about my case. While the response that arrived on September 17 was rather negative…</p>



<pre>your case is currently undergoing necessary administrative processing and regrettably it is not possible to predict when this processing will be completed.</pre>



<p>… I think the following turn of events indicates it had an effect. It unclogged something.</p>



<h2>Day 889 – September 22, 2020</h2>



<p>After 889 days since my interview on the embassy (only five days after the answer to the congressman), the embassy contacted me over email. <em> For the first time since that April day in 2018.</em></p>



<pre>Your visa application is still in administrative processing. However, we regret to inform you that because you have missed your travel plans, we will require updated travel plans from you.</pre>



<p>My travel plans – that had been out of date for the last 800 days or so – suddenly needed to be updated! As I was already so long into this process and since I feared that giving up now would force me back to square one if I would stop now and re-attempt this again at a later time, I decided to arrange myself some updated travel plans. After all, I work for an American company and I have a friend or two there.</p>



<h2>Day 900 – October 2, 2020</h2>



<p>I replied to the call for travel plan details with an official invitation letter attached, inviting me to go visit my colleagues at <a href="https://www.wolfssl.com/">wolfSSL</a> signed by our CEO, Larry. I really want to do this at some point, as I’ve never met most of them so it wasn’t a made up reason. I could possibly even get some other friends to invite me to get the process going but I figured this invite should be enough to keep the ball rolling.</p>



<h2>Day 910 – October 13, 2020</h2>



<p>I got another email. Now at 910 days since the interview. The embassy asked for my passport “for further processing”.</p>



<h2>Day 913 – October 16, 2020</h2>



<p>I posted my passport to the US embassy in Stockholm. I also ordered and paid for “return postage” as instructed so that they would ship it back to me in a safe way.</p>



<h2>Day 934 – November 6, 2020</h2>



<p>At 10:30 in the morning my phone lit up and showed me a text telling me that there’s an incoming parcel being delivered to me, shipped from “the Embassy of the United State” (bonus points for the typo).</p>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/embassy-text.png"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/embassy-text.png" alt="" width="496" height="211"></a></figure>



<h2>Day 937 – November 9, 2020</h2>



<p>I received my passport. Inside, there’s a US visa that is valid for ten years, until November 2030.</p>



<div><figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/VISA.jpg"><img loading="lazy" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/11/VISA.jpg" alt="" width="441" height="221"></a><figcaption>The upper left corner of the visa page in my passport…</figcaption></figure></div>



<p>As a bonus, the visa also comes with a NIE (National Interest<br>Exception) that allows me a single entry to the US during the PP (Presidential Proclamations) – which is restricting travels to the US from the European Schengen zone. In other words: I am actually allowed to travel right away!</p>



<p>The timing is fascinating. The last time I was in the US, Trump hadn’t taken office yet and I get the approved visa in my hands just days after Biden has been announced as the next president of the US.</p>



<h2>Will I travel?</h2>



<p>Covid-19 is still over us and there’s no end in sight of the pandemic. I will of course not travel to the US or any other country until it can be deemed safe and sensible.</p>



<p>When the pandemic is under control and traveling becomes viable, I am sure there will be opportunities. Hopefully the situation will improve before the visa expires.</p>



<h2>Thanks to</h2>



<p>All my family and friends, in the US and elsewhere who have supported me and cheered me up through this entire process. Thanks for keeping inviting me to fun things in the US even though I’ve not been able to participate. Thanks for pushing for events to get organized outside of the US! I’m sorry I’ve missed social gatherings, a friend’s marriage and several conference speaking opportunities. Thanks for all the moral support throughout this long journey of madness.</p>



<p>A special thanks go to David (you know who you are) for contacting Gerry Connolly’s office. I honestly think this was the key event that finally made things move in this process.</p>
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/11/09/a-us-visa-in-937-days/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035307</guid>
            <pubDate>Mon, 09 Nov 2020 14:47:46 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Apache Kafka – 8 things to check before going live]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 3 (<a href="https://news.ycombinator.com/item?id=25035239">thread link</a>) | @ariskk
<br/>
November 9, 2020 | https://ariskk.com/kafka-8-things | <a href="https://web.archive.org/web/*/https://ariskk.com/kafka-8-things">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p><span>
      <span></span>
  <img alt="A Kafka System" title="A Kafka System" src="https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/18e3b/kafka-system.jpg" srcset="https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/46946/kafka-system.jpg 240w,https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/55489/kafka-system.jpg 480w,https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/18e3b/kafka-system.jpg 960w,https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/60e21/kafka-system.jpg 1440w,https://ariskk.com/static/89caf78b2f29f9e66a1780486740f932/198e7/kafka-system.jpg 1485w" sizes="(max-width: 960px) 100vw, 960px" loading="lazy">
    </span></p><p>Apache Kafka is a beautiful system. It scales well, it is stable and it provides phenomenal system architecture flexibility.
After 5 years of running production Kafka clusters, I have collected a list of tips and pitfalls. Some of them were learnt the hard way.
If you work in a small team rolling out Kafka to production, those might prove useful.
The article assume familiarity with basic Kafka concepts, such as brokers, topics, producers and consumers.
What is more, the following points should be valid for up to Kafka 2.6.0.
Without further ado.</p><h3>1. Key all the messages!</h3><p>Kafka topics consist of a (configurable) number of partitions.
If the partition number is not provided by the user, <code>KafkaProducer</code>
chooses the partition for the message using the <code>key</code> in the <code>ProducerRecord</code> instance passed to it.</p><p>Check out the default <a href="https://github.com/apache/kafka/blob/2.6.0/clients/src/main/java/org/apache/kafka/clients/producer/internals/DefaultPartitioner.java#L65">implementation</a>:
It checks if the key is <code>null</code>, and if it isn't it, computes a <code>murmur2</code> hash modulo the number of partitions.
This is consistent; it will yield the same result for messages sharing the same key.
If the key is <code>null</code> though, it uses a <a href="https://github.com/apache/kafka/blob/2.6.0/clients/src/main/java/org/apache/kafka/clients/producer/internals/StickyPartitionCache.java#L60">sticky partitioner</a>
that chooses a partition randomly at every batch.
In practical terms, if no key is passed, the producer will choose the partition randomly.</p><p>This has important implications because <strong>Kafka only provides delivery ordering guarantees within a partition</strong>.
Messages in the same partition will be delivered in the order they were committed.
Messages in different partitions will be delivered in non-deterministic order.
If the messages have any form of <strong>causal relationship</strong> between them, and they are <strong>not</strong> in the same partition,
then any downstream consumer will have to collect all messages for a key before processing them, else causal consistency might be violated; whatever <em>all</em> means in the context of
an infinite stream.</p><p>As a simple example to illustrate the above, think of a simple event like the following:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>case class EmailSubscription(</span></p><p><span>2</span><span>  email: Email,</span></p><p><span>3</span><span>  active: Boolean,</span></p><p><span>4</span><span>  createdOn: DateTime</span></p><p><span>5</span><span>)</span></p><p><span>6</span><span></span></p><p><span>7</span><span>def storeToDB(sub: EmailSubscription) = ???</span></p><p><span>8</span><span>val events: Stream[EmailSubscription] = ???</span></p></pre></div><p>If emails arrive in causal order, then we can map the events statelessly:</p><p>If per-email causal order is not guaranteed though, we need to maintain enough state to know
if the event we see is indeed the latest. Else if the order is reversed, we might send an email to a user who
has unsubscribed.
For example:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>events</span></p><p><span>2</span><span>  .groupMapReduce(_.email)(identity)(</span></p><p><span>3</span><span>    (e1, e2) =&gt; if (e1.createdOn.isAtfer(e2.createdOn)) e1 else e2</span></p><p><span>4</span><span>  )</span></p><p><span>5</span><span>    .values</span></p><p><span>6</span><span>    .map(storeToDB)</span></p></pre></div><p>If we key messages using <code>email</code>, then Kafka will deliver all messages for a single email in the order they were inserted.
Our consumer can be completely stateless; it can fetch messages from Kafka and store them to a datastore.
If the key is <code>null</code> (none provided), our stateless consuer will happily store a message from the past.
To mitigate that, at the very minimum we need to maintain the latest <code>createdOn</code> date for every email.
Relying on wall clocks for causality <a href="https://github.com/aphyr/distsys-class#clocks">is a very bad idea</a>.</p><p>Assuming per key ordering can be guaranteed, downstream reducer bounds can be reduced from a <code>Semilattice</code> to a <code>Semigroup</code>.
In practical terms, by taking advantage of this property we can drop the commutativity requirement which unlocks easier implementations.
If designing reducers for Kafka consumers sounds interesting, let me know and I will write about it.</p><h3>2. Ensure all producers are using the same partitioner</h3><p>Providing a key is not enough. Partitioners (ie the function f: (key) =&gt; partition) are configurable.
Kafka provides a few and users can roll out their own. Do <strong>NOT</strong> assume all producers are using the same partitioner.</p><p>In a complex system where Go services, Python services, Spark and other wild animals all share the same Kafka cluster, all sorts of different implementations might exist.
If different services are pushing data to the same topics, an integration test would be very useful.
If things go wrong, delivery to consumers will be non-deterministic and debugging it can be pure hell.</p><h3>3. Topic versioning</h3><p>The beauty of Kafka is that data can be reprocessed as many times as needed.
This forgives a lot of errors. To illustrate this one, let's assume the same dummy model:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>case class EmailSubscription(</span></p><p><span>2</span><span>  email: Email,</span></p><p><span>3</span><span>  active: Boolean,</span></p><p><span>4</span><span>  createdOn: DateTime</span></p><p><span>5</span><span>)</span></p></pre></div><p>Let's now assume messages are serialized to <code>json</code> before being pushed to Kafka.
Due to a json serialization bug, the following is pushed to the <code>emailsubscriptions</code> topic:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>{</span></p><p><span>2</span><span>  "email": {</span></p><p><span>3</span><span>    "value": "aris@aris.com"</span></p><p><span>4</span><span>  },</span></p><p><span>5</span><span>  "active": false,</span></p><p><span>6</span><span>  "createdOn": 1600000000</span></p><p><span>7</span><span>}</span></p></pre></div><p>Instead of the expected:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>{</span></p><p><span>2</span><span>  "email": "aris@aris.com",</span></p><p><span>3</span><span>  "active": false,</span></p><p><span>4</span><span>  "createdOn": 1600000000</span></p><p><span>5</span><span>}</span></p></pre></div><p>Downstream consumers try to deserialize the message and fail. What can be done?</p><p>One solution would be to create a custom deserializer for those buggy instances and to add it to all the consumers.
That's non trivial and error prone code; useful just for this instance.</p><p>Another solution would be to implement a consumer that would read from <code>emailsubscriptions-1</code>, fix the issue, and write to <code>emailsubscriptions-2</code>.
Once the offsets of the two topics are identical, producers and consumers can switch from <code>emailsubscriptions-1</code> to <code>emailsubscriptions-2</code> without having to update any code.
What's great about this is that those migrations can fail with no major consequences. If <code>emailsubscriptions-2</code> is no good, we can run again and produce <code>emailsubscriptions-3</code> and so on.
This trick also works for non-trivial schema changes, migrations and other data enrichments.
Avro and Profobuf can help in some cases, but bugs will occur and requirements will evolve in unpredictable ways.
In any case, "fixing" a topic's data by reading from it and publishing to it is rarely a good idea.
Topics should be immutable and versioning them can help in many situations where a topic's content have been corrupted.</p><h3>4. Treat ZooKeeper like royalty</h3><p>Up until at least 2.6.0, Kafka relies on ZooKeeper.
Losing connection to ZooKeeper means no ISRs (In-Sync-Replicas, more on that later), no partition leader election and eventually the brokers shut down.
Thankfully <a href="https://twitter.com/fpjunqueira?lang=en">@fpjunqueira</a> and his team who created ZooKeeper are real pros, and that won't happen without reason.
In fact, ZooKeeper is one of the most reliable distributed systems (that I have seen at least).</p><p>The two following mess ups have occurred though:</p><ol><li>Due to a bug in the provisioning Ansible script, 2/3rds of a cluster ended up in the same availability zone, with sequential IPs (that usually means in the same rack on AWS).
They all disappeared at the same time. No consensus, hell broke loose.</li><li>A QA environment ran for long enough for all nodes to run out of disk space (ZooKeeper creates backup snapshots of the transaction log over time and someone/something external has to deal with deleting them).
At the same time. Bringing this env back to life required editing znodes manually, and still data was lost.</li></ol><p>To clean up older transaction log snapshots in ZooKeeper 3.4.x, ZooKeeper provides the following tool:</p><div data-language=""><pre data-linenumber="true"><p><span>1</span><span>java -cp zookeeper-3.4.x.jar:lib/*:conf org.apache.zookeeper.server.PurgeTxnLog \</span></p><p><span>2</span><span>  /var/lib/zookeeper /var/lib/zookeeper -n 5</span></p></pre></div><p>Ideally on a cron.</p><p>Those are just two examples. A lot more can go wrong. Because of the consequences of failure, proper JMX metric monitoring and real time log aggregation,
all hooked up to a form of PagerDuty, are very highly recommended.</p><h3>5. Unclean elections and minimum ISRs</h3><p>This is essentially a trade off between availability and durability. Let's start with unclean elections.</p><p>Let's assume we have a topic with a single partition and a single replica. Data is happily flowing in.
If the replica is "in-sync" (aka identical to the leader and in the ISR set in ZooKeeper),
then if the leader partition becomes unavailable (eg the broker crashes) then the replica can pick up, accept writes and continue with no downtime.
If the replica lags behind though, the leader will remove it from the ISRs in ZooKeeper. If then the leader goes down, there are two options:</p><ol><li>The lagging replica picks up, accepts writes and whatever excess writes the old leader had are <em>lost</em>. Essentially, the replica gets elected as leader without being in-sync. This is the "unclean" part.</li><li>The partition becomes unavailable and new writes are rejected.</li></ol><p>It entirely depends on the kind of data the topic holds. If the topic holds system metrics,
then maybe the most recent data is more valuable and thus losing some older writes might be acceptable.
If the topic contains bank transactions, going down until a human intervenes might be a better option.
This is a broker level config that can be overridden per topic.</p><p>The second part of this equation is <code>min.insync.replicas</code>, which represents the minimum number of replicas that have to be in-sync for a write to go through.
This is configurable at the broker level, topic level and even at the producer level (ie <code>acks</code>). Same considerations as above,
if the topic holds payments, having just 1 replica with all the data might be risky.</p><p>Legendary distributed systems researcher Kyle Kingsbury, aka Aphyr, did an <a href="https://aphyr.com/posts/293-call-me-maybe-kafka">excellent analysis on Kafka's replication mechanism</a> some 7 years ago.
If you wish to dig deeper into this trade off, reading Aphyr's piece is very highly recommeneded. As far as I understand, the basic trade offs discussed still hold true today.</p><h3>6. Memory Maps</h3><p>Kafka uses a LOT of those. Running out of them leads to a fatal runtime exception that will kill the broker.
If the OS defaults are used, it is extremely likely that those will be reached as soon as the cluster has a few tens of thousand segments per broker.
What's worse is that in a well balanced cluster where brokers hold similar numbers of partitions, those failures will occur roughly at the same time.
Let's look a bit closer:</p><p><code>vm.max_map_count</code>: is the maximum number of memory map areas a process can have.</p><p>From the linux kernel <a href="https://www.kernel.org/doc/html/latest/admin-guide/sysctl/vm.html?highlight=max_map_count#max-map-count">docs</a>:</p><blockquote><p>max_map_count:<br>
<!-- -->This file contains the maximum number of memory map areas a process
may have. Memory map areas are used as a side-effect of …</p></blockquote></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ariskk.com/kafka-8-things">https://ariskk.com/kafka-8-things</a></em></p>]]>
            </description>
            <link>https://ariskk.com/kafka-8-things</link>
            <guid isPermaLink="false">hacker-news-small-sites-25035239</guid>
            <pubDate>Mon, 09 Nov 2020 14:39:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[No Free Features]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 83 (<a href="https://news.ycombinator.com/item?id=25034809">thread link</a>) | @alangibson
<br/>
November 9, 2020 | https://landshark.io/2020/11/09/no-free-features.html | <a href="https://web.archive.org/web/*/https://landshark.io/2020/11/09/no-free-features.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<p><a href="https://news.ycombinator.com/item?id=25032105">This thread recently hit the top of Hacker news</a>.</p>

<blockquote>
  <p>No More Free Work from Marak: Pay Me or Fork This</p>

  <p>Respectfully, I am no longer going to support Fortune 500s
( and other smaller sized companies ) with my free work.</p>
</blockquote>

<p>The gist is that Marak, who’s on the brink of homelessness after his apartment building caught fire, is no longer interested in doing unpaid work for businesses using his <a href="https://github.com/Marak/faker.js">faker.js</a> project. He seems to be getting a lot of support from the open source developer community.</p>

<h2 id="unpaid-interns">Unpaid Interns</h2>

<p>The foundational principle of open source is “fix your problem, then give the world a copy of the solution.” So let’s get one thing straight: <em>open source developers are not volunteering to fix your problem.</em> They are fixing their own problems, then letting you use the solution too because it costs them nothing. That near-zero cost of replicating software is why open source works.</p>

<p>Because of this, I don’t think developers claiming to do open source should expect compensation for features that they need for themselves. But developing a new feature that they don’t need is something different entirely. In IT we call that a Change Request, and CRs come with a fee to cover them. ‘Near-zero cost’ doesn’t apply anymore because now they’re taking on a lot of work they otherwise wouldn’t have done.</p>

<p>Not recognizing this difference has led to a situation where for-profit entities are using open-source devs as unpaid interns. Well it’s worse really: at least interns get resume filler.</p>

<h2 id="no-more-free-features">No More Free Features</h2>

<p>I look forward to a day when asking anyone to do unpaid labor is considered unethical by our industry. That goes for feature requests on open source projects, on unpaid internships, and on unpaid ‘take home’ interview assignments.</p>

<p>Requesting work in an economic context without offering compensation in some form is morally indefensible. It’s wrong because unpaid labor is wrong. It’s wrong because presuming on anyone’s helpful nature is wrong. We shouldn’t be using bounties to move our change requests to the head of the line because we shouldn’t even be making requests without a bounty attached.</p>

<p>(<a href="https://news.ycombinator.com/item?id=25034809">Official Hacker News discussion thread</a>)</p>

</div></div>]]>
            </description>
            <link>https://landshark.io/2020/11/09/no-free-features.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25034809</guid>
            <pubDate>Mon, 09 Nov 2020 13:55:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Good Writing Is About Logic, Not Words]]>
            </title>
            <description>
<![CDATA[
Score 15 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25034706">thread link</a>) | @anacleto
<br/>
November 9, 2020 | https://pulseasync.com/operators/share-written-ideas/ | <a href="https://web.archive.org/web/*/https://pulseasync.com/operators/share-written-ideas/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="article"><p>Today it's almost obvious to state that good written communication creates a business advantage.</p>
<p>I've probably read more articles on written communication in the workplace in the last two months than over the last 10 years. </p>
<p>Most of these essays gave tips on how to become better writers.</p>
<p>I couldn't help but notice that many (if not all) of them questioned the same thing: the prose.</p>
<p>Everyone advised to keep sentences short and to the point, use active voice and not passive&nbsp;voice, use fewer commas and more periods, avoid acronyms, etc.</p>
<p>Let's be clear: none of these are mistaken or wrong by any means. But this made me realize how huge the misconceptions are on what good business writing actually means.</p>
<p>In fact, what separates most people from good writing has very little to do with style, grammar, local sentences structure, word selection, or even content per se.&nbsp;</p>
<p>Most people can't write well because they don't know how to control the logical sequence in which they present their ideas.</p>
<p>And that is the single most important act necessary to clear writing.</p>
<p>In this essay we're going to dig into how you can effectively share written ideas in a way that value time and effort for others.</p>
<hr>
<h2 id="understanding-how-we-think"><a href="#understanding-how-we-think" aria-label="understanding how we think permalink"></a>Understanding How We Think</h2>
<p>Writing an idea is always the result of two macro-steps. First, decide the point that we want want to make, and then put into words.</p>
<p>To understand how we can effectively share written ideas, we need to understand first how we formulate them in the first place.</p>
<p>Deciding the point you want to make is the result of a 5-step process.</p>
<ul>
<li><em>Unbundling</em> a concept</li>
<li><em>Noticing</em> something</li>
<li><em>Articulating</em>/<em>Developing</em> an idea</li>
<li><em>Re-Bundling</em>&nbsp;</li>
<li><em>Reframing</em></li>
</ul>
<p><img src="https://pulseasync.com/assets/generate-idea-thinking-process.png" alt="State diagram to share the 5-step process one use to generate an idea."></p>
<h3 id="unbundling-a-concept"><a href="#unbundling-a-concept" aria-label="unbundling a concept permalink"></a>Unbundling A Concept</h3>
<p>Every idea begins with an unbundling process. Unbundling is an act of exploration that leads to the decoupling of all the individual items of a certain subject.</p>
<p>Unbundling something doesn't imply a deep understanding of it. It's more a perception of full awareness.</p>
<p>In fact, you might not even know how every individual piece works, but you know they all exist in separate forms. No hidden parts.</p>
<h3 id="noticing-something"><a href="#noticing-something" aria-label="noticing something permalink"></a>Noticing Something</h3>
<p>Unbundling enhances our ability to observe, and this can lead us to noticing something. This can be a pattern, an insight, a novelty, or even a minor detail.</p>
<p>If <em>unbundling</em> is the flint, <em>noticing</em> is the spark that really makes the fire.</p>
<h3 id="articulatingdeveloping-an-idea"><a href="#articulatingdeveloping-an-idea" aria-label="articulatingdeveloping an idea permalink"></a>Articulating/Developing An Idea</h3>
<p>Only when we notice something can we start developing an idea. That's where the creative part begins. That's where you try to develop your initial cue into a fully formed idea.&nbsp;</p>
<p>For instance, if you noticed that something was unnecessary or too complicated, you might run a simplification process. If you noticed something was missing, you go through an addition or reinforcement process.</p>
<h3 id="re-bundling-and-reframing"><a href="#re-bundling-and-reframing" aria-label="re bundling and reframing permalink"></a>Re-bundling And Reframing</h3>
<p>Once you finish including your idea, you go through re-bundling. This is a reconstruction process. This is where you try to recompose a world that now contemplates your newly inserted idea.&nbsp;</p>
<p>Bundling is a fundamental part because it's where you can verify if the your new world still holds up. If not, that's a signal you need to put more work in the articulation phase or what you noticed didn't lead to anything meaningful at all.</p>
<p>If at the end of the re-bundling process your world does hold up, you go through a reframing process.</p>
<p>On paper, this seems to be a very logical and clear process, but in reality it's much more complicated as you constantly repeat these steps of of unbundling, editing your idea, and re-bundling until you find a viable path.</p>
<p><img src="https://pulseasync.com/assets/generate-idea-complexity.png" alt="The complex process of idea generation"></p>
<p>Now that you have an idea, you need to decide how to put it into words that you can share with others.</p>
<h2 id="understanding-how-we-write"><a href="#understanding-how-we-write" aria-label="understanding how we write permalink"></a>Understanding How We Write</h2>
<p>From a broader point, the single goal of writing is to get some information into someone's head.</p>
<p>Think about it. It's almost a simulation act.</p>
<p>You need to reproduce your reader's thinking process using your brain. And know how to build up your information in a way that feels logical and makes sense to them.</p>
<p>This process has very little to do with what you went through when you came up with the idea in the first place. In fact, forcing the reader through the exact same original path you took will have the opposite effect and create more confusion.</p>
<p>Here's how it often goes:</p>
<ol>
<li>You have an idea <em>x</em></li>
<li>You write down a set of words <em>m</em> that lead you to <em>x</em></li>
<li>Because of the pre-existing narrative that led you to the idea, you associate <em>m -&gt; x</em></li>
<li>When you proofread it, you mentally get it. Not because <em>m -&gt; x</em> but because of all the pre-existing associations.</li>
</ol>
<p>This is how most people write. And it's exactly why most people's writing sucks.</p>
<p>Not because they use too many passive forms or weak verbs (that doesn't help either), but because they aren't able to write from the reader's perspective. Most writings lacks the basic logical order and structure.</p>
<h2 id="what-is-good-business-writing"><a href="#what-is-good-business-writing" aria-label="what is good business writing permalink"></a>What is Good Business Writing</h2>
<p>Good business writing is a combination of two things:</p>
<ul>
<li>Information Context</li>
<li>Information Resolution</li>
</ul>
<h3 id="how-to-build-context-the-scqa-framework"><a href="#how-to-build-context-the-scqa-framework" aria-label="how to build context the scqa framework permalink"></a>How to build Context: The SCQA Framework</h3>
<p>Context is the "<em>you're here</em>" red arrow that you can see on almost any maps. Good information context helps the reader set the frame to understand what they're about to read next.</p>
<p>Shared context helps the participants make judgments calls using the same pair of lenses.</p>
<p>A lack of a shared understanding on the basic principles can easily result in a partial understanding or conflict on what follows.</p>
<p>What's the best way to build information context?</p>
<p>Barbara Minto, a McKinsey consultant in the 70s, solved this problem with what she called the <em>SCQA framework</em>.</p>
<p>She named this framework the <em>Situation — Complication — Question — Answer</em> framework. You can unpack more on this topic in her book “The Pyramid Principle”.</p>
<p>According to Minto, context is the result of these four sub-ingredients:</p>
<ol>
<li>Situation,</li>
<li>A Complication,</li>
<li>A Question,</li>
<li>... and an Answer.</li>
</ol>
<p>The <strong>Situation</strong> is a non-controversial statement on a subject that you know the reader will agree because it's something he already knows. By summarizing what he already knows, the situation establishes the relevance of the questions that your document is going to answer.&nbsp;</p>
<p>The <strong>Complication</strong> describes an alteration of a stable situation. Keep in mind, this alteration is purely fact-based. The Situation-Complication combination should lead the reader to an immediate question.</p>
<p>The <strong>Question</strong> represents an intuitive response to the complication. The best Situation-Complication scenario makes the question sound totally superfluous to state. The best questions aren't posed, they emerge.</p>
<p>The <strong>Answer</strong> is the summary of your main idea. Beware, it's the solution, not the explanation of it. Good answers are typically represented by 3/4 bullet points. No more.</p>
<p>If you squint at it, you realise that the SCQA framework turned out initial schema upside down.</p>
<p>Ideas comes up in a bottom-up fashion, but they need to be told top-down.</p>
<p>This is not how we think. But it's how we should write.</p>
<p><img src="https://pulseasync.com/assets/scqa-reversed-thinking-frmework.png" alt="SCQA reversed thinking framework"></p>
<p>Another interesting benefit of building information context using the SCQA framework is that once you've gotten the initial part out of the way, you can focus all your energy on making and supporting the case for why it's true.</p>
<h3 id="how-to-increase-resolution-whyhow-dialogues"><a href="#how-to-increase-resolution-whyhow-dialogues" aria-label="how to increase resolution whyhow dialogues permalink"></a>How to increase Resolution: Why/How Dialogues</h3>
<p>Ensuring you and your reader are in the same place before you lead him through your thinking is a necessary but non-sufficient condition. </p>
<p>Once he's aware of the gist of your main idea (Answer), you need to argue and support it. That's when you need to focus on information resolution.</p>
<p>Think of <em>information resolution</em> as the density level of details that you're able to provide to the reader. The bolder the answer, the higher resolution levels it requires.</p>
<p>If you gloss over key important passages, people will not follow your thinking and might have a partial understanding of the message.</p>
<p>How do you increase information resolution?</p>
<p>You support your initial <em>Answer</em> using the form of Why/How dialogues. Making an initial statement that the reader doesn't know will automatically raise a logical question in his mind. <em>How is that possible?</em> <em>Why do you say that?</em> In your following answers, you're likely to tell him other details he doesn't know and this will raise further questions that you're going to answer. And so on.</p>
<p>The author will continue to write, raising and answering questions, until he reaches a point at which he judges the reader will have no more logical questions.</p>
<p>The vertical relationship of a why/how dialogue helps capture the reader's attention. It permits you, as an author, to establish an inner dialog that will pull him with great interest through your reasoning. The reader will be forced to respond logically to your ideas.</p>
<p>As you can see we've not made a full circle. We're now in the (previously discussed) unbundling part.</p>
<h2 id="examples-of-good-business-writing"><a href="#examples-of-good-business-writing" aria-label="examples of good business writing permalink"></a>Examples of Good Business Writing</h2>
<p>Armed with our SCQA framework and the Why/How vertical development, let's look at the skeleton of some real examples.</p>

<p>It's one of the most common examples. common examples. A salesperson, after speaking with a customers, irrupts in the #product or #engineering Slack channels requesting the implementation of a given feature.</p>
<p>If you've been in this position, here's how you can Minto-ize an internal feature request for your product:</p>
<blockquote>
<p><em>Situation:</em>
We have never allowed customers to customize XYZ in order to keep complexity low.</p>
<p><em>Complication:</em>
However, competitor X has now shipped such a customization feature, and we’ve been losing deals because of that.</p>
<p><em>Questions:</em>
We now need to decide whether we want to allow some kind of customization as well.</p>
<p><em>Answer:</em>
[...]</p>
</blockquote>

<p>Directives are the most common internal memo. Executives write them to request something of someone.</p>
<blockquote>
<p><em>Situation:</em>&nbsp;
As you know we're repositioning product <em>x</em> for mid-sized enterprise. We need to teach you how to see <em>x</em> for organizations between 100 and 200 employees.</p>
<p><em>Complication:</em>
We've never sold to this type of customer before. Hence, we need to construct a new customer profile from scratch</p>
<p><em>Questions:</em> (How can we do the profile?)</p>
<p><em>Answer:</em>
We're going to host:</p>
<ol>
<li>A …</li></ol></blockquote></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pulseasync.com/operators/share-written-ideas/">https://pulseasync.com/operators/share-written-ideas/</a></em></p>]]>
            </description>
            <link>https://pulseasync.com/operators/share-written-ideas/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25034706</guid>
            <pubDate>Mon, 09 Nov 2020 13:44:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When remote work doesn't cut it]]>
            </title>
            <description>
<![CDATA[
Score 63 | Comments 47 (<a href="https://news.ycombinator.com/item?id=25034037">thread link</a>) | @FlyingSnake
<br/>
November 9, 2020 | https://samkhawase.com/blog/remote-work/ | <a href="https://web.archive.org/web/*/https://samkhawase.com/blog/remote-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                <p>The COVID-19 crisis, while disrupting the global world unlike anything before, has opened up an unexpected window to remote work. Nearly all major<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>tech<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> giants<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> have<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> allowed their workers to do home office. Many people are considering this as a sign of the advent of <strong>Work 2.0</strong>, where physical offices spaces will be irrelevant, and people can work from their cozy dens. There are however significant challenges in adoption of generalized remote work and things will be back as usual once the COVID-19 ends.</p>
<p>The <strong>challenges surrounding remote work outweigh it’s promises</strong>. Not every company is a FAANG, and companies will struggle to transition given their limited resources.</p>
<h2 id="regulations">Regulations</h2>
<p>The most significant hurdle in hiring a global remote team is <strong>regulation</strong>. Labor regulations are wildly different amongst countries, and could be cumbersome for some companies. Some major hurdles include:</p>
<ul>
<li>
<p><strong>Payroll taxes</strong>, retirement bonuses: Germany has rentenversicherung, sozialversicherung whereas USA has 401k contributions. Can a German company afford to <strong>setup payroll</strong> taxes for a remote workers hired from India, Chile or US? Or will it lead to worker abuse through <strong>laissez-faire abuse</strong> through freelance contracts?</p>
</li>
<li>
<p><strong>Notice periods</strong>: Europeans (on average) have 3 months notice period while US Americans have 2 weeks. How would a US company deal with it? On top of that, several countries have <strong>protection against unlawful termination</strong>, and how can a Slovakian employee avail that benefit against a German company?</p>
</li>
<li>
<p><strong>IP protection</strong>: It’s hard to <strong>protect IP</strong> if employees are not in the same jurisdiction. A company operation from Czechia would find it hard to settle trade disputes with a remote worker from South Africa. Another example is of <strong>TISAX compliance</strong> that is required for specialized hardware projects for Automotive industries. Remote work fails to make a dent in this situation.</p>
</li>
</ul>
<h2 id="hardware-cant-remote">Hardware can’t remote</h2>
<p>Patio11’s law<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> states that the <strong>economy is much bigger than you think</strong>. There are companies which have widely different business models and they often have a hardware related product. My <a href="https://www.salonlab-server.de/en-GB/">current project</a> is an IoT device that talks to an iPad app. The <strong>hardware team</strong> needs <strong>specialized tools</strong> to work on the IoT device, and these tools can’t be moved to home office. Remote work is a strict no-no for such products.</p>
<h2 id="swim-against-the-tide">Swim against the tide</h2>
<p>The biggest hurdle employees face in remote/home offices is <strong>lack of focus and direction</strong>. Humans have evolved over thousands of years to collaborate based on interpersonal cues, and a video call simply does not have the same effect. Humans need <strong>feedback</strong> and <strong>constructive communication</strong> whereas isolation kills the spirit. People who are new to remote work often feel <strong>rudderless</strong> because <strong>self discipline is hard</strong> when there’s no structure. I’m doing remote work on-and-off since 2018, and it took me a lot of discipline to get productive. The simple fact is that remote work is not natural, and not suited for all work streams in a typical company. Add to it the fact that many <strong>families</strong> simply don’t have space to work from home, and on top of that there might be kids around.</p>
<p>Remote work might be one of the few positive outcomes of the COVID-19 crisis but unless we tend to it carefully, we’ll end up creating a unhappy and unproductive workspace.</p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://www.wsj.com/articles/facebook-to-shift-permanently-toward-more-remote-work-after-coronavirus-11590081300">https://www.wsj.com/articles/facebook-to-shift-permanently-toward-more-remote-work-after-coronavirus-11590081300</a> <a href="#fnref:1" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://www.cnbc.com/2020/08/07/atlassian-tells-employees-they-can-work-from-home-indefinitely.html">https://www.cnbc.com/2020/08/07/atlassian-tells-employees-they-can-work-from-home-indefinitely.html</a> <a href="#fnref:2" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a href="https://www.wsj.com/articles/google-to-keep-employees-home-until-summer-2021-amid-coronavirus-pandemic-11595854201">https://www.wsj.com/articles/google-to-keep-employees-home-until-summer-2021-amid-coronavirus-pandemic-11595854201</a> <a href="#fnref:3" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:4" role="doc-endnote">
<p><a href="https://www.buzzfeednews.com/article/alexkantrowitz/twitter-will-allow-employees-to-work-at-home-forever">https://www.buzzfeednews.com/article/alexkantrowitz/twitter-will-allow-employees-to-work-at-home-forever</a> <a href="#fnref:4" role="doc-backlink">↩︎</a></p>
</li>
<li id="fn:5" role="doc-endnote">
<p><a href="https://secondbreakfast.co/patio11-s-law">https://secondbreakfast.co/patio11-s-law</a> <a href="#fnref:5" role="doc-backlink">↩︎</a></p>
</li>
</ol>
</section>

            </div></div>]]>
            </description>
            <link>https://samkhawase.com/blog/remote-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25034037</guid>
            <pubDate>Mon, 09 Nov 2020 12:28:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[OpenBSD Router Guide]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25033925">thread link</a>) | @upofadown
<br/>
November 9, 2020 | https://www.unixsheikh.com/tutorials/openbsd-router-guide/ | <a href="https://web.archive.org/web/*/https://www.unixsheikh.com/tutorials/openbsd-router-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
<table>
    <tbody><tr>
        <td><img src="https://www.unixsheikh.com/includes/img/openbsd-icon.png" alt="OpenBSD icon"></td>
        <td>
            
            <h4>Network segmenting firewall, DHCP, DNS with Unbound, domain blocking and much more<br>
                <span>OpenBSD: 6.8 · Published: 2020-11-05 · Updated: 2020-11-11 · Version: 1.3.4</span>
            </h4>
        </td>
    </tr>
</tbody></table>

<h2>Introduction</h2>

<div><p>In this guide we're going to take a look at how we can use cheap and "low end" hardware to build an amazing OpenBSD router with firewalling capabilities, segmented local area networks, DNS with domain blocking, DHCP and more.</p><p>We will use a setup in which the router segments the local area network (LAN) into three separate networks, one for the grown-ups in the house, one for the children, and one for public facing servers, such as a private web server or mail server. We will also look at how we can use DNS to block out ads, porn, and other websites on the Internet. The OpenBSD router can also be used on small to mid-size offices.</p></div>

<p>Table of contents</p>
<ul>
    <li><a href="#why-a-firewall">Why a firewall?</a></li>
    <li><a href="#the-hardware">The hardware</a></li>
    <li><a href="#why-openbsd">Why OpenBSD?</a></li>
    <li><a href="#the-network">The network</a>
    <ul>
        <li><a href="#setting-up-the-network">Setting up the network</a></li>
    </ul>
    </li>
    <li><a href="#dhcp">DHCP</a></li>
    <li><a href="#a-packet-filtering-firewall">PF - A packet filtering firewall</a>
    <ul>
        <li><a href="#pf-setup">PF setup</a></li>
        <li><a href="#clarifications">Clarifications</a></li>
        <li><a href="#pf-domain-name-resolution">Domain name or hostname resolution</a></li>
        <li><a href="#the-ruleset">The ruleset</a>
            <ul>
                <li><a href="#whitelist">The children's whitelist</a>
                    <ul>
                        <li><a href="#persistent-table">Using a persistent table</a></li>
                    </ul>
                </li>
            </ul>
        </li>
        <li><a href="#loading-ruleset">Loading the rules</a></li>
        <li><a href="#logging">Logging and monitoring</a></li>
    </ul>
    </li>
    <li><a href="#domain-name-service">DNS</a>
    <ul>
        <li><a href="#unbound">I present to you, Unbound</a></li>
        <li><a href="#blocking-with-dns">Blocking with DNS</a>
            <ul>
                <li><a href="#nxdomain">NXDOMAIN vs redirecting</a></li>
            </ul>
        </li>
        <li><a href="#doh">The problem with DNS over HTTPS (DoH)</a></li>
        <li><a href="#unbound-setup">Setting up Unbound</a>
            <ul>
                <li><a href="#basic-settings">Basic settings</a></li>
                <li><a href="#lets-block-some-domains">Let's block some domains!</a></li>
            </ul>
        </li>
        <li><a href="#dns-security">DNS security</a>
            <ul>
                <li><a href="#dns-hijacking">DNS hijacking</a>
                    <ul>
                        <li><a href="#dns-hijacking-prevention">DNS hijacking prevention</a></li>
                    </ul>
                </li>
                <li><a href="#dns-spoofing">DNS spoofing</a>
                    <ul>
                        <li><a href="#dns-spoofing-prevention">DNS spoofing prevention</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    </li>
    <li><a href="#appendix">Appendix</a>
        <ul>
            <li><a href="#inspecting-doh">Inspecting DNS over HTTPS (DoH)</a></li>
            <li><a href="#blocking-doh">Blocking DNS over HTTPS (DoH)</a></li>
            <li><a href="#recommended-reading">Recommended reading</a></li>
            <li><a href="#how-to-contribute">How to contribute to the guide?</a></li>
            <li><a href="#todo">TODO</a></li>
        </ul>
    </li>
</ul>

<h2 id="why-a-firewall">Why a firewall?</h2>
<p>Almost no matter how you connect to the Internet from your home or office, you need a real firewall between you and the modem or router that your ISP has provided you with.</p>
<p>Very rarely do consumer-grade modems or routers get firmware updates and they are often vulnerable to <a href="https://en.wikipedia.org/wiki/Home_router#Security">network attacks</a> that turns these devices into <a href="https://en.wikipedia.org/wiki/Botnet">botnets</a>, such like the <a href="https://en.wikipedia.org/wiki/Mirai_(malware)">Mirai malware</a>. Many consumer-grade modems and routers is to blame for some of the largest <a href="https://en.wikipedia.org/wiki/Distributed_denial_of_service_attack">distributed denial of service (DDoS) attacks</a>.</p>
<p>A firewall between you and your ISP modem or router cannot protect your modem or router device against attacks, but it can protect your computers and devices on the inside of the network, and it can help you monitor and control the traffic that comes and goes to and from your local network.</p>
<p>Without a firewall between your local network and the ISP modem or router you could basically consider this an open door policy, like leaving the door to your house wide open, because you cannot trust the equipment from your ISP.</p>
<p>It is always a really good idea to put a real firewall between your local network and the Internet, and with OpenBSD you get an very solid solution.</p>
<p><b>NOTE:</b><br>Currently this guide only deals with IPv4 as most people still don't use IPv6 and many ISPs also still only use IPv4, but IPv6 is planned for a future update of the guide.</p>

<h2 id="the-hardware">The hardware</h2>
<p>You don't have to buy expensive hardware to get an effective router and firewall for your house or office. Even with cheap and "low end" hardware you can get a very solid solution.</p>
<p>I have build multiple solutions with the <a href="https://www.asrock.com/mb/Intel/Q1900DC-ITX/">ASRock Q1900DC-ITX</a> motherboard that comes with an Intel Quad-Core Celeron processor.</p>
<p><img src="https://www.unixsheikh.com/includes/img/asrock-q1900dc-itx.png" alt="ASRock Q1900DC-ITX motherboard"></p>
<p>I'll admit, it's a pretty "crappy" motherboard, but it gets the job done and I have several builds that have run very solid for many years on gigabit networks with full saturation and the firewall, DNS, etc. working "overtime" and the CPU hardly breaks a sweat.</p>
<p>The ASRock Q1900DC-ITX motherboard has the advantage that it comes with a DC-In Jack that is compatible with a 9~19V power adapter, making it very power saving. Unfortunatly the ASRock Q1900DC-ITX motherboard is no longer made, but I'm just using it as an example, I have used several other cheap boards as well.</p>
<p>I have also used the ASRock Q1900-ITX (it doesn't come with the DC-In Jack) combined with a PicoPSU.</p>
<p><img src="https://www.unixsheikh.com/includes/img/picopsu.png" alt="PicoPSU power supply"></p>
<p>You can find different brands and versions of the PicoPSU, some are better quality than others. I have two different brands, the original and a cheaper knockoff, both performs very well and they save quite a bit of power contrary to running with a normal power supply.</p>
<p>Last, I am using a cheap Intel knockoff quad port NIC found on Ebay like this one:</p>
<p><img src="https://www.unixsheikh.com/includes/img/intel-quad-nic.png" alt="Intel Quad NIC"></p>
<p>I know it is better to use quality hardware, especially on a network that you care about, but this tutorial is about how you can get away with using fairly cheep hardware and still get an extremely useful product that will continue to serve you well for many years - at least that is my experience.</p>
<p>I recommend that you look for a low power mini ITX board with hardware <a href="https://www.openbsd.org/amd64.html">supported by OpenBSD</a>, such as an Intel Celeron or Intel i3 processor. These boards are typically cheap, less power hungry, and they don't take up much space. I don't recommend using the Intel Atom CPU if you have a gigabit network as they usually choke because they can't handle the amount of traffic, but your mileage may vary.</p>
<p>You might also need a couple of cheap gigabit switches for the segmented local network, at least if you have more than one computer you want to connect to the same LAN :)</p>

<h2 id="why-openbsd">Why OpenBSD?</h2>
<p>In truth, you can get a similar setup with one of the other <a href="https://en.wikipedia.org/wiki/Comparison_of_BSD_operating_systems">BSD flavors</a> or one of the many different <a href="https://en.wikipedia.org/wiki/Linux_distribution">Linux distribution</a>, but <a href="https://www.openbsd.org/">OpenBSD</a> is specifically very well suited and designed for this kind of task. Not only does it come with all the needed software in the base install, but it also has significantly better security and tons of improved mitigations already build-in into the operating system. I <a href="https://www.unixsheikh.com/articles/openbsd-is-fantastic.html">highly recommend</a> OpenBSD over any other operating system for this kind of task.</p>
<p>This guide is not going to show you how to install OpenBSD. If you haven't done that before I recommend you spin up some kind of virtual machine or see if you have some unused and supported hardware laying around you can play with. OpenBSD is one of the easiest and quickest operating systems to install. Don't be afraid of the non-gui approach, once you have tried it you will really appreciate the simplicity. Use the default settings when in doubt.</p>
<p>Before you endeavor on this journey make sure to reference the OpenBSD documentation! Not only is everything very well documented, but you will most likely find all the answers you need right there. Read the <a href="https://www.openbsd.org/faq/index.html">OpenBSD FAQ</a> and take a look at the different <a href="https://man.openbsd.org/">manual pages</a> for the software we're going to use.</p>
<p>Another really useful place to find general information about OpenBSD is the <a href="https://marc.info/?l=openbsd-misc">OpenBSD mailing list archives</a>. Also make sure to stay up to date with relevant information by subscribing to the <a href="https://www.openbsd.org/mail.html">Announcements and security advisories</a> mailing list.</p>
<p>Last, but not least, please consider <a href="https://www.openbsd.org/donations.html">supporting OpenBSD</a>! Even if you don't use OpenBSD on a daily basis, but perhaps make use of <a href="https://www.openssh.com/">OpenSSH</a> on Linux, then you're really using software from the OpenBSD project. Consider making a small, but steady donation to support the further development of all the great software the OpenBSD developers make!</p>

<h2 id="the-network">The network</h2>
<p>A router is basically a device that regulate network traffic between two or more separate networks. The router will ensure that network traffic intended for the local network doesn't run out into the wild on the Internet, and traffic on the Internet, that is not intended for your local network, stays on the Internet.</p>
<p><b>NOTE:</b><br>A router is sometimes also referred to as a gateway, which generally is alright, but in truth a real gateway joins dissimilar systems, while a router joins similar networks. An example of a gateway would be a device that joins a PC network with a telecommunications network.</p>
<p>In this tutorial we're building a router and we have 4 networks of the same type to work with. One is the Internet and the other three are the internally segmented local area networks (LANs). Some people prefer to work with virtual LANs, but in this tutorial we're going to use the quad port NIC from the illustration above. You can achieve the same result by using multiple one port NICs if you prefer that, you just have to make sure that you have enough room and free PCI slots on the motherboard. You can also use the Ethernet port on the motherboard itself, but it depends on the driver and support for the device. I have had no problems using the Realtek PCI gigabit Ethernet controller that normally comes with many motherboards even though I recommend Intel over Realtek.</p>
<p>Of course you don't have to segment the network into several parts if you don't need that, and it will be very easy to change the settings from this guide, but I have decided to use this approach in order to show you how you can protect your children by segmenting their network into a separate LAN that not only gets ad and porn blocking using DNS blocking (all the segments gets that), but you can even whitelist the parts of the Internet you want them to have access to. The last part about whitelisting is difficult and generally not recommended unless your children requires only very limited access, but it is doable with some work, and the guide is going to show you one way you can do that.</p>
<p>This is an illustration of the network we're going to setup:</p>
<pre><code>
                       Internet
                          |
                    xxx.xxx.xxx.xxx
                    ISP Modem (WAN)
                      10.24.0.23
                          |
                       OpenBSD
                      10.24.0.50
                  (router/firewall)
                          |
     -------------------------------------------
     |                    |                    |
    NIC1                 NIC2                 NIC3
192.168.1.1          192.168.2.1          192.168.3.1
LAN1 switch          LAN2 switch          LAN3 switch
     |                    |                    |
     -- 192.168.1.x       -- …</code></pre></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.unixsheikh.com/tutorials/openbsd-router-guide/">https://www.unixsheikh.com/tutorials/openbsd-router-guide/</a></em></p>]]>
            </description>
            <link>https://www.unixsheikh.com/tutorials/openbsd-router-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033925</guid>
            <pubDate>Mon, 09 Nov 2020 12:13:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Hand-drawn animated tram ride (web experiment)]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25033545">thread link</a>) | @parisianka
<br/>
November 9, 2020 | https://alexanderperrin.com.au/paper/shorttrip/ | <a href="https://web.archive.org/web/*/https://alexanderperrin.com.au/paper/shorttrip/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="credits">
<div>
<p>
<strong>Short Trip - Alexander Perrin, 2017</strong>
</p>
<p>Hold left or right to move.</p>
<p>Read more about the project
<a href="http://alexanderperrin.com.au/portfolio/short-trip/" target="_blank">here.</a>
</p>
<p>Thank you to
<a href="https://twitter.com/domwillmott" target="_blank">Dom Willmott</a> for
<br>audio support.</p>
<p>If you would like to support Short Trip, you're welcome (but not obliged) to make a contribution
<a href="https://paypal.me/alexanderperrin">here.</a>
</p>
<p>Quality Mode:
<span id="default-button">Default</span>
<span id="eco-button">Eco</span>
</p>
<p>Sound:
<span id="mute-off">On</span>
<span id="mute-on">Off</span>
</p>
</div>
</div></div>]]>
            </description>
            <link>https://alexanderperrin.com.au/paper/shorttrip/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033545</guid>
            <pubDate>Mon, 09 Nov 2020 11:10:10 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The power of HTTP headers and examples]]>
            </title>
            <description>
<![CDATA[
Score 53 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25033398">thread link</a>) | @loweisz
<br/>
November 9, 2020 | https://www.lorenzweiss.de/the_power_of_http_headers_with_four_examples/ | <a href="https://web.archive.org/web/*/https://www.lorenzweiss.de/the_power_of_http_headers_with_four_examples/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Almost everything in the web is sent with <strong>http</strong> and even non-developers have seen it when using the internet as keyword
inside urls or links.</p>
<p>Http stands for <strong>Hypertext Transfer Protocol</strong> and gives us the ability to transfer hypertext between a browser and a server.
This is a great technology that has been around almost since the invention of the web and is constantly evolving and
<a href="https://en.wikipedia.org/wiki/HTTP/2">offering more and more great features</a></p>

<p>As a developer you probably heard of http headers, at least in the moment you heard about the CORS policy.
This is a problem you must have heard about when developing websites.
But what exactly are http headers and what other ways are there to use them?</p>
<p>Let us first find out what they do and how you could use them. </p>
<p>When a browser requests a resource, for example a page of this blog, it asks the server with a request.
This request looks something like this: </p>
<div data-language="js"><pre><code><span>fetch</span><span>(</span><span>"https://www.lorenzweiss.de/race_conditions_explained/"</span><span>,</span> <span>{</span>
  credentials<span>:</span> <span>"include"</span><span>,</span>
  headers<span>:</span> <span>{</span>
    accept<span>:</span>
      <span>"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3"</span><span>,</span>
    <span>"accept-language"</span><span>:</span> <span>"en,en-US;q=0.9,de-DE;q=0.8,de;q=0.7"</span><span>,</span>
    <span>"cache-control"</span><span>:</span> <span>"max-age=0"</span><span>,</span>
    <span>"sec-fetch-mode"</span><span>:</span> <span>"navigate"</span><span>,</span>
    <span>"sec-fetch-site"</span><span>:</span> <span>"same-origin"</span><span>,</span>
    <span>"sec-fetch-user"</span><span>:</span> <span>"?1"</span><span>,</span>
    <span>"upgrade-insecure-requests"</span><span>:</span> <span>"1"</span><span>,</span>
  <span>}</span><span>,</span>
  referrerPolicy<span>:</span> <span>"no-referrer-when-downgrade"</span><span>,</span>
  body<span>:</span> <span>null</span><span>,</span>
  method<span>:</span> <span>"GET"</span><span>,</span>
  mode<span>:</span> <span>"cors"</span><span>,</span>
<span>}</span><span>)</span><span>;</span></code></pre></div>
<p>So you can see the URL or location of the resource, some information about the request and also a lot of headers with some information about the request.
This is how your browser tells the server some more information about the request. For example what kind of data type it accepts or
how the client is handling the cache.</p>
<p>After sending the request, the server replies, and it also sets some headers in the reply, which could look like this: </p>
<div data-language="text"><pre><code>:authority: www.lorenzweiss.de
:method: GET
:path: /race_conditions_explained/
:scheme: https
accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3
accept-encoding: gzip, deflate, br
accept-language: en,en-US;q=0.9,de-DE;q=0.8,de;q=0.7
cache-control: max-age=0
cookie: _ga=GA1.2.1173972759.1584812492; _gid=GA1.2.2076192721.1594044231
sec-fetch-mode: navigate
sec-fetch-site: same-origin
sec-fetch-user: ?1
upgrade-insecure-requests: 1
user-agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 Safari/537.36</code></pre></div>
<p>There is also some information that the server wants to tell the browser what to do with the resource, for example
if there are cookies, it must be determined which encoding was used, etc</p>
<p>Basically, in the http-context the headers for the communication of the browser and the server are used to extend the simple
Requests for resources. You could see it as the sheet of paper that is added on top of a package that you oder from an online store,
giving you more information about the context and the resource that you ordered.
Most of the headers have quite good defaults which you don't need to think of, but there are some headers that
can get quite important, like CORS headers. But there are so much more headers that you might never heard of which are very useful
and good to know how to use. </p>

<p>Do not worry, this article will not deal with CORS headers. The following http headers are those that are rarely used, but
can be really powerful and helpful to significantly improve the communication between a server and the browser. </p>
<p>So let's dig into it. Here are some headers that you can set and that are very useful and practical.</p>
<h2 id="if-range"><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/If-Range">If-Range</a><a href="#if-range" aria-label="if range permalink"></a></h2>
<h3>What and why?</h3>
<p>Imagine you start downloading a large resource, such as a video, an image, etc., and stop in between because of connection problems.
With <code>If-Range</code> you can tell the server if the representation is unchanged, to send the part(s) that are requested in Range.
Which means only the parts that were missing and not again the whole thing.</p>
<p>This can be very helpful when dealing with large resources and often bad connections as with mobile devices.
Because the resource can be downloaded in parts even if the connection is interrupted in between. </p>
<h4>How to use</h4>
<p>It can either be used with a date when the resources were last modified, or with an <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag">ETag</a>, which is a key to help if the resources was invalidated</p>
<div data-language="text"><pre><code>If-Range: &lt;day-name&gt;, &lt;day&gt; &lt;month&gt; &lt;year&gt; &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt; GMT
If-Range: &lt;etag&gt;</code></pre></div>
<h4>Example</h4>
<div data-language="text"><pre><code>If-Range: Wed, 21 Oct 2015 07:28:00 GMT </code></pre></div>
<h2 id="vary"><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Vary">Vary</a><a href="#vary" aria-label="vary permalink"></a></h2>
<p><code>Vary</code> Comes from a time when the web or http was used for a variety of things and not just for web pages.<br>
It is based on the idea of using http to exchange information in many different formats.
How does it do that? Well, it tells the server in which header to find the information, how to present the information. </p>
<p>Nowadays it can be really helpful if you have different resources for different customers, for example
mobile, tablet or desktop.
Imagine three different images for the same resource are stored on the server, depending on the device.
Then you can simply use the <code>Vary</code> header to tell the server to check the device and then decide which image size to send. </p>
<h4>Example</h4>
<p>For the example with the device dependent images, you can simply pass the 'user agent' to tell the server
that it should check the user-agent for device information. </p>

<h4>How to use</h4>

<p>Just enter the header, the server must check before deciding which resource to send.</p>
<h2 id="content-disposition"><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Content-Disposition">Content-Disposition</a><a href="#content-disposition" aria-label="content disposition permalink"></a></h2>
<p>If we go back to the example of a request to a server, for example to load this website, it is clear to the browser,
that it must <strong>display</strong> the resource of the answer.
But it can also be the case that the server sends a resource that the browser should automatically download to the user's computer,
like a picture or pdf etc.
A server can tell the browser what the browser should do with the attached resource via the <code>Content Disposition</code> header.</p>
<h4>Example</h4>
<p>With defining the <code>Content-disposition</code> to <code>attachment</code> the browser knows that this is a resource to download instead of just
show. </p>
<div data-language="text"><pre><code>Content-Disposition: attachment; filename="data.pdf"</code></pre></div>
<h4>How to use</h4>
<p>You can define the header as <code>inline</code> or <code>attachment</code>, where `inline is always the default.  </p>
<div data-language="text"><pre><code>Content-Disposition: &lt;inline | attachment&gt;</code></pre></div>
<h2 id="feature-policy"><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Feature-Policy">Feature-Policy</a><a href="#feature-policy" aria-label="feature policy permalink"></a></h2>
<p>This is a fairly new header and therefore only supported by modern browsers (sorry to all IE users). However
I want to mention this anyway because I think it can be really helpful for some use cases.<br>
Basically, the <code>feature-policy tells the browser which features or apis the browser should provide to the document and its</code>iframes` to be used. </p>
<p>For example, it can ban all scripts or iframes etc. within this website to allow sensitive apis like the camera or microphone.</p>
<h4>How to use</h4>
<div data-language="text"><pre><code>Feature-Policy: &lt;directive&gt; &lt;allowlist&gt;</code></pre></div>
<p>The <code>directive</code> is the name of the feature. You can see the full <a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Feature-Policy#Directives">list of features here</a>
The <code>allowlist</code> defines the origins which are allowed to use the directive.</p>
<h3>Example</h3>
<p>Suppose we want our website to use neither the microphone nor the camera. With this header the
document or a contained iframe cannot access these functions.</p>
<div data-language="text"><pre><code>Feature-Policy: microphone 'none'; camera 'none'</code></pre></div>
<h3>More Headers:</h3>
<p>Here are some more headers that are worth mentioning: </p>
<ul>
<li><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Upgrade-Insecure-Requests">Upgrade-Insecure-Requests</a></li>
<li><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Age">Age</a></li>
<li><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Trailer">Trailer</a></li>
<li><a href="https://developer.mozilla.org/de/docs/Web/HTTP/Headers/Location">Location</a></li>
</ul>
<h2 id="conclusion">Conclusion<a href="#conclusion" aria-label="conclusion permalink"></a></h2>
<p>Https headers are great and also very useful! But sometimes they can be quite complex, and it's really hard to get an overview of what headers are available and what benefits they bring.
Also when developing a website, especially in the frontend, you don't come in contact with them too often, except maybe with the CORS headers.
But I think that this missed some possibilities. http headers represent the communication between the server and the
customers much better, and we all know that communication is the key to a good relationship.</p>
<p>I hope I could shed some light on the darkness of http headers for you. In case I missed a good and helpful header,
please do not hesitate to send me a mail or contact me in any way.</p></div></div>]]>
            </description>
            <link>https://www.lorenzweiss.de/the_power_of_http_headers_with_four_examples/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033398</guid>
            <pubDate>Mon, 09 Nov 2020 10:44:51 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Zero-Days in Desktop Web Browsers]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 73 (<a href="https://news.ycombinator.com/item?id=25033290">thread link</a>) | @svenfaw
<br/>
November 9, 2020 | https://www.radsix.com/dashboard1/ | <a href="https://web.archive.org/web/*/https://www.radsix.com/dashboard1/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.radsix.com/dashboard1/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033290</guid>
            <pubDate>Mon, 09 Nov 2020 10:24:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Rust Is the Future of Game Development]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25033247">thread link</a>) | @TheFuntastic
<br/>
November 9, 2020 | https://thefuntastic.com/blog/why-rust-is-the-future-game-dev | <a href="https://web.archive.org/web/*/https://thefuntastic.com/blog/why-rust-is-the-future-game-dev">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-v-10b1bd0a="" data-v-2ae295f5=""><p><em>Rust, not related to the video game also called Rust, is a promising systems programming language with novel features ideally suited for game development. Exposure and awareness within the game developer community, however, remains limited. In this post, I provide a gentle introduction to Rust and attempt to justify its place on your radar.</em></p>
<h2 id="a-short-history-lesson">A Short History Lesson</h2>
<p>What is Rust, and where did it come from? In <a href="https://www.youtube.com/watch?v=HiWkMFE8uRE" target="_blank" rel="nofollow noopener noreferrer">this fantastic talk</a>, James Munns gives us a detailed oral history. Way back around 2010, Mozilla was frustrated by the state of development in Firefox, a massive software project  written mostly in C++. Despite best practices and an abundance of engineering talent, writing high-performance, parallelised, and memory-safe code, at that scale of complexity, remained fraught and error-prone.</p>
<p>Bear in mind, this predates the advent of C++11 (aka the 2011 edition) which heralded efforts to somewhat modernise the language. Even so, manual memory manipulation is easy to get wrong, and <a href="https://msrc-blog.microsoft.com/2019/07/18/we-need-a-safer-systems-programming-language/" target="_blank" rel="nofollow noopener noreferrer">research</a> from <a href="https://www.zdnet.com/article/chrome-70-of-all-security-bugs-are-memory-safety-issues/" target="_blank" rel="nofollow noopener noreferrer">multiple vendors</a> describes this category of error as responsible for 70% of security vulnerabilities. </p>
<p>Into this context steps Graydon Hoare, a Mozilla employee, introducing <a href="https://en.wikipedia.org/wiki/Rust_(programming_language)#History" target="_blank" rel="nofollow noopener noreferrer">a potential solution</a> to the roadblock: Rust, the hobby language he'd been tinkering with since 2006. In 2012, Mozilla would formally announce Servo, an experimental research project to re-imagine a browser engine built with memory safety and concurrency as first principles. And alongside it, Rust, the companion language to make it all possible.</p>
<p>These early days of Rust are described as a Cambrian explosion of ideas and wild experimentation. Concepts were liberally stolen from other languages, from C++ to OCaml, Haskell, Erlang, ML, C#, Ruby and more, reflecting the diverse pool of engineers working on the language at the time. Still, most in the industry, while admiring the optimism in taking such an ambitious moon shot, <a href="http://dtrace.org/blogs/bmc/2018/09/18/falling-in-love-with-rust/" target="_blank" rel="nofollow noopener noreferrer">remained pessimistic</a> about the prospects of success. </p>
<p>2015 saw a major milestone, with the release of Rust v1.0. Perhaps as significant as the feature list, was the number of failed experiments left behind on the cutting room floor, the team unafraid to pare down the language to its quintessential elements. This was also the first time stability guarantees would be offered, a quality notoriously absent before. </p>
<p>Soon after, in 2016, Firefox <a href="https://hacks.mozilla.org/2016/07/shipping-rust-in-firefox/" target="_blank" rel="nofollow noopener noreferrer">shipped its first production Rust code</a>. The industry and community started to take notice, and Rust began its impressive, and as yet unbroken, <del>four</del> <a href="https://stackoverflow.blog/2020/01/20/what-is-rust-and-why-is-it-so-popular/" target="_blank" rel="nofollow noopener noreferrer">five year streak</a> as Stack Overflow's most beloved language. [<em>Thank you James Munns for pointing out it's now actually five years</em>]. </p>
<p>Right from the outset, Rust set out with a clear focus on   building an inclusive community. They, in turn, have contributed to Rust's impressive technical aptitude, but have also fostered a sense of reverence and fondness not often witnessed in other languages. Are they crazy zealots or onto something?</p>
<h2 id="why-rust">Why Rust?</h2>
<blockquote>
<p><em>The performance of C++ with the convenience of C#</em></p>
</blockquote>
<p>This was the first time Rust hijacked my attention. C++ enjoys a long-standing ubiquity, in part, due to its ability to express zero cost abstractions. As explained by Bjarne Stroustrup, the creator of C++:</p>
<blockquote>
<p><em>What you don't use, you don't pay for. And further: What you do use, you couldn't hand code any better.</em></p>
</blockquote>
<p>It's easy to spot the relevancy to games. Making frame-rate while simulating entire worlds is a daunting performance challenge. Indeed, C++ underpins the bulk of game engines. There simply is <a href="https://www.youtube.com/watch?v=ltCgzYcpFUI" target="_blank" rel="nofollow noopener noreferrer">no other industrial language</a> that offers the same speed and low-level control, whilst writing programs in the large. </p>
<p>C++, however, suffers from the weight of its legacy. The accumulation of features over 40 years makes for a complex and intricate language. In the last decade modernisation of the standard has done well to uplift it from its C roots, but the experienced programmer must build up an arcane lore of which features are blessed, and which machinery is dangerous. As Stroustrup again describes:  </p>
<blockquote>
<p>Within C++, there is a much smaller and cleaner language struggling to get out.   </p>
</blockquote>
<p>This makes the language daunting and difficult to approach for beginners. In <a href="https://boats.gitlab.io/blog/post/zero-cost-abstractions/" target="_blank" rel="nofollow noopener noreferrer">this blog post</a>, Rust contributor <em>withoutboats</em> defines an import quality about abstraction:  </p>
<blockquote>
<p>A zero cost abstraction, like all abstractions, must actually offer a better experience than the alternative.</p>
</blockquote>
<p>So yes, of course, C++ offers a better time than your own hand wrought assembly. However, this is making the subtle point that it's competing against a secondary force: a more expensive abstraction that justifies its cost by being more comfortable and convenient.</p>
<p>We see this writ large in the rise of popular game engines that eschew the complexity of C++, the most notable being Unity. End users write code in C#, a more forgiving and ergonomic language, creating a boon in developer productivity and a reduction in iteration time.  </p>
<p><img src="https://thefuntastic.com/blog/2020-10-Unity-Interest.png" title="Unity interest over time in search trends"></p>
<p>In large codebases though, near the edge of the performance envelope, this trade-off begins to bite. The garbage collector eliminates an entire category of errors by removing responsibility for memory management from the end-user. However as its workload grows, so do periodic performance spikes antithetical to smooth gameplay.  </p>
<p><img src="https://thefuntastic.com/blog/2020-11-GC-spikes.png" title="Unity interest over time in search trends"></p>
<p>The experienced developer can still create a performant experience, however, this demands plugging the leaks in the abstraction. They must build a mental model of the machinery behind the curtain, a collection of arcane wisdom that bans many of the original conveniences, lest they disturb the garbage collector. </p>
<p>So development teams face a choice. Better resourced AAA studios generally choose Unreal or in-house engine tech built on C++, able to absorb the overhead for long term gain. Less resourced studios optimise for time to market, choosing Unity, or one of the many other accessible game making tools (Godot, Haxe, Game Maker, etc.). They often postpone performance concerns until after business eligibility is secured.   </p>
<p>Rust, however, for the first time, promises a third way. A world where it's possible to write zero cost abstractions without sacrificing higher-order elegance. </p>
<h3 id="ownership-based-memory">Ownership based memory</h3>
<p>To understand Rust's special sauce, we're going have to talk about ownership and how it handles memory. This is only a simple sketch, but <a href="http://intorust.com/tutorial/ownership/" target="_blank" rel="nofollow noopener noreferrer">in-depth resources</a> exist for the curious. </p>
<p>Writing optimised code is often about taking the way we, as humans, naturally think of an idea or algorithm, and instead expressing it in terms that favour the computer. This act often harms the legibility and understanding of a program, which makes it much harder for us, the humans, to reason about its correctness. </p>
<p>In a manually managed language, like C, the hapless programmer is left responsible for the machinations of the machine. They must take great care to ensure data is appropriately loaded into memory before operation, and then responsibly disposed of afterwards. A difficult dance in which missteps either cause dramatic crashes or else subtle and hard to detect vulnerabilities. But these are the very same tools that allow careful users to tune performance.  </p>
<p>At the other end of the spectrum, garbage collection promises the programmer it will automatically deal with the problem on their behalf. They are now free to express code naturally, but in doing so, it ties hands behind their back. They no longer have, at least not without indirection, the levers needed to wring out maximal performance.</p>
<p>Rust begins from a different premise. Rather than hiding this complexity, it accepts that computers are hard for humans, and instead tries to save us from the dangerous bits. Users can still tune the machine, but with less rope to wrap around their necks. </p>
<p>In the same way that static typing exists, very clever people have figured out how to make the compiler eliminate a whole category of memory and concurrency errors. To achieve this, Rust makes a bargain with the developer: </p>
<blockquote>
<p>"I'm going to keep track of the lifetime of every piece of memory in your program for you. This way, I can detect the moment you're no longer using it and safely free it on your behalf. But in return, I'm going to need you to follow <a href="https://doc.rust-lang.org/book/ch04-01-what-is-ownership.html" target="_blank" rel="nofollow noopener noreferrer">strict rules</a> about the ownership of that memory. If you try to use it outside of the scope that owns it, my humourless friend here, the borrow checker, is going to make sure you don't hurt yourself."</p>
</blockquote>
<p>However, like static typing, this lunch isn't free. Rust is known to have a steep learning curve, "fighting the borrow checker" becomes a right of passage. It takes time to learn this new paradigm. Ownership makes some familiar patterns difficult or impossible and demands new ones be learnt in their place. Perhaps we should revise our earlier statement as: "The performance of C++ with the <del>convenience</del> safety of C#"</p>
<h2 id="unpacking-rusts-popularity">Unpacking Rust's Popularity</h2>
<p>Early adopters have a selfish reason to extol the virtues of their chosen technology, as widespread adoption enhances the return on their risky investment. In this respect, while interest is high but opportunities for real-world exposure are limited, is it possible that Rust is cresting a wave of unearned hype? <a href="https://matklad.github.io/2020/09/20/why-not-rust.html" target="_blank" rel="nofollow noopener noreferrer">Not every javascript or python developer</a> interested in the language, for example, has a use case that merits the additional complexity.</p>
<p>To a developer standing on the shores of 2010, <code>git</code>, a new version control system with a steep learning curve, may have seemed like a risky investment. But, in the ensuing world of Github, it's hard to argue the effort was wasted, even if some workloads (i.e. large games) still require alternatives.</p>
<p>In a similar vein, how can we qualify Rust's popularity as a meaningful signal? Ultimately, we will only know by the volume of mud we've dug through in the trenches, and admittedly, it is far too early to collect this data for games. </p>
<p>In other industries, though, early reports of Rust are effusive. <a href="https://medium.com/the-innovation/how-microsoft-is-adopting-rust-e0f8816566ba" target="_blank" rel="nofollow noopener noreferrer">Mircosoft</a>, <a href="https://developers.libra.org/docs/community/coding-guidelines" target="_blank" rel="nofollow noopener noreferrer">Facebook</a>, <a href="https://aws.amazon.com/blogs/opensource/aws-sponsorship-of-the-rust-project/" target="_blank" rel="nofollow noopener noreferrer">Amazon</a>, <a href="https://www.wired.com/2016/03/epic-story-dropboxs-exodus-amazon-cloud-empire/" target="_blank" rel="nofollow noopener noreferrer">Dropbox</a>, <a href="https://blog.cloudflare.com/tag/rust/" target="_blank" rel="nofollow noopener noreferrer">Cloudflare</a> all have Rust deployed in production. The <a href="https://www.phoronix.com/scan.php?page=news_item&amp;px=Linux-Kernel-Rust-Path-LPC2020" target="_blank" rel="nofollow noopener noreferrer">Linux Kernel</a> and <a href="https://www.chromium.org/Home/chromium-security/memory-safety/rust-and-c-interoperability" target="_blank" rel="nofollow noopener noreferrer">Chrom…</a></p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://thefuntastic.com/blog/why-rust-is-the-future-game-dev">https://thefuntastic.com/blog/why-rust-is-the-future-game-dev</a></em></p>]]>
            </description>
            <link>https://thefuntastic.com/blog/why-rust-is-the-future-game-dev</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033247</guid>
            <pubDate>Mon, 09 Nov 2020 10:16:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Think Piece on Privacy and Big Data]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25033030">thread link</a>) | @Rohitha_Perera
<br/>
November 9, 2020 | https://talk.hyvor.com/blog/privacy-and-big-data/ | <a href="https://web.archive.org/web/*/https://talk.hyvor.com/blog/privacy-and-big-data/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p><span></span>
<span>115</span>
</p>
<p>The majority of us in the present and in the immediate future <a href="https://www.beyondtrust.com/blog/entry/exactis-data-breach-paving-road-data-dystopia-us-gdpr">will face the issue of Privacy</a>. Consider this basic thought, which may sound like science fiction, but is actually quite present today: Thanks to the devices we wear now, <a href="https://www.beyondtrust.com/blog/entry/exactis-data-breach-paving-road-data-dystopia-us-gdpr">the harvesting of our biometric data</a> is a possibility. It is this thought process that led to this think piece on privacy and big data.</p>
<p>Corporations can get to know us far better than we know ourselves. They can then not just predict our feelings but also manipulate our feelings. Monitoring of our biometrics can make episodes like that of Cambridge Analytica’s data hacks prehistoric in comparison. </p>
<p>Remember that <a href="https://www.cheatsheet.com/money-career/heres-much-google-facebook-really-think-youre-worth.html/">you are worth quite a bit of money to the social channels </a>you use. The podcast detailing the <a href="https://podcasts.google.com/?feed=aHR0cHM6Ly9mZWVkcy5zaW1wbGVjYXN0LmNvbS9IY09mTE41Mg&amp;ep=14&amp;episode=MjM0YjM1OTgtZTQ1Mi00NGZhLTkzYjUtMTQxMGJjZTY1NGE4">Congressional Antitrust Investigation on Tech Monopolies: Google, Facebook, Amazon, and Apple</a> gives a serious look at how powerful these big data companies are. The scale is astronomical. Amazon captures 70% of all retails in the United States. They literally have seven times the revenue of their next largest competitor. </p>
<p>Now imagine their cloud computing capabilities. Take stock of the number of iPhones that are there. We know that what you share on social media, and the information that you surrender is a Big Data Issue; and, consider the number of search results Google controls. There’s information about you being harvested. You should know how your information is being used. </p>
<h2>Some Background</h2>
<p>We hear of how <a href="https://www.theguardian.com/us-news/2018/mar/22/steve-bannon-on-cambridge-analytica-facebook-data-is-for-sale-all-over-the-world">Steve Bannon used Facebook</a> to change politics and change culture. Facebook data, algorithms and narratives were his key weapons. These tools were used by the <a href="https://www.reuters.com/article/us-facebook-cambridge-analytica-kogan-idUSKBN1GX2F6">Cambridge Analytica team to identify the dark triad</a> — Narcissism, Machiavellianism and Psychopathy — in people. We now know about the Russian interference in American politics. We know how data had been manipulated to channel the latent proclivities of racism and anti-Semitism within America to divide it. </p>
<p>The same podcast makes mention of a great knowledge-infused book, which is Shoshana Zuboff’s <a href="https://youtu.be/QL4bz3QXWEo">The Age of Surveillance Capitalism</a>. In this book, Zuboff details the rise of a new form of power which will forever change our lives. By collecting behavioral data from their users, corporations have amassed an incomprehensibly large and detailed picture of our personal lives. They use this data to expand their corporate power and profitability. This, of course, has tremendous consequences for our privacy, but also for our political system.</p>
<figure><img src="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/big-5-personality.jpg" alt="" data-src="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/big-5-personality.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><figcaption>Surveillance Capitalism talks of <a href="https://www.simplypsychology.org/big-five-personality.html">The Five Factor Personality Test</a>, which helps companies like Facebook infer our political proclivities and sexuality. This is based on the predictive signals based on the punctuation we use on a Facebook status. </figcaption></figure>
<p>Surveillance Capitalism is where it universally claims our private human experience as their free source of raw material. They take the rich predictive signals in our behavior and convert it into data. We hear of <a href="https://arstechnica.com/information-technology/2017/05/facebook-helped-advertisers-target-teens-who-feel-worthless/#:~:text=Leaked%202017%20document%20reveals%20FB,exploit%20teens'%20words%2C%20images.&amp;text=Facebook's%20secretive%20advertising%20practices%20became,of%20the%20company's%20Australian%20office.">Facebook executives who promote&nbsp;advertising campaigns that exploit Facebook users’ emotional states</a>. Facebook’s algorithms can determine, and&nbsp;allow&nbsp;advertisers to pinpoint, “moments when young people need a confidence boost.”&nbsp;97% of Facebook’s revenue comes from its online targeted advertising markets. These are wholly-owned and operated in this surveillance capitalist economic logic. </p>
<p>Readers of Cathy O’Neil’s Weapons of Math Destruction will be compelled to believe the potential dangers of big data. O’Neil, a mathematician, analyses how the use of big data and algorithms in a variety of fields. These include insurance, advertising, education, and policing. They can lead to decisions that harm the poor, reinforce racism, and amplify inequality. Mathematicians and statisticians were for a very long time studying our desires, movements, and spending power. This is the Big Data economy we are living in. </p>
<h2>Trust is Important </h2>
<p>Consumers are more conscious of their data privacy than ever. A recent <a href="https://tealium.com/resource/whitepaper/how-brands-can-prioritize-privacy-in-the-age-of-data/">Tealium study</a> on consumer data privacy found that 97% of consumers surveyed said they are somewhat or very concerned about protecting their data. <a href="https://www.accenture.com/t20171220T024439Z__w__/us-en/_acnmedia/PDF-68/Accenture-Global-Anthem-POV.pdf#zoom=50">Research by Accenture</a>&nbsp;shows that&nbsp;88% of<strong> </strong>consumers say companies that provide personalized experiences without compromising their trust are more appealing and can relate to their needs better than others.</p>
<p>We are focusing on Facebook on this particular blog post to quite a degree since it is the one singular social medium that is growing exponentially. One of the ways in which Facebook garners your data is with you revealing your data and your intentions via the act of publishing status updates and even commenting. You see, the act of commenting fulfills just one touchpoint in the process of these tech giants harvesting of data. Facebook built&nbsp;<a rel="noreferrer noopener" href="https://developers.facebook.com/docs/plugins/comments/" target="_blank">comments plugin</a>&nbsp;to allow users to leave comments on websites, blogs and forums through their Facebook accounts. It was expected to provide high-quality conversations over the internet but instead ended up spamming popular sites.</p>
<p>If you do use the Facebook Comments plugin, remember that your comments are a valuable content asset that shouldn’t be subject to <a href="https://ducttapemarketing.com/how-and-why-i-use-the-facebook-comments-plugin/">Facebook’s Terms of Service</a>, which basically says they can do whatever they want with them. An increasing amount of spam raises questions about how well the policy of malicious content online is going on. There are many misleading and offensive comments, usually attracting and persuading users towards a specific link to click it. These comments are often repetitive and can easily be identified as spam.</p>
<p>According to an estimation by&nbsp;<a href="https://www.similartech.com/technologies/facebook-comments">Similartech</a>&nbsp;more than 360,000 unique domains have installed Facebook Comments plugin. It is still not clear why and how the spam filters of Facebook failed to filter spam comments. <a href="https://www.similartech.com/technologies/facebook-comments">In 2015</a>, one of the security firms, Symantec reported scammers had been trying to affect the comments sections of Facebook to spread malware. </p>
<p>For more than two years now, Facebook has been working on its content-moderation efforts and the spamming in Facebook Comment boxes shows that problematic content still finds its way to escape the loopholes. Moreover, <a href="https://www-dailymail-co-uk.cdn.ampproject.org/v/s/www.dailymail.co.uk/sciencetech/article-2525227/amp/Facebook-tracks-type-DONT-post-update-comment.html?amp_js_v=a6&amp;amp_gsa=1&amp;usqp=mq331AQFKAGwASA%3D#aoh=16034519192504&amp;referrer=https%3A%2F%2Fwww.google.com&amp;amp_tf=From%20%251%24s&amp;ampshare=https%3A%2F%2Fwww.dailymail.co.uk%2Fsciencetech%2Farticle-2525227%2FFacebook-tracks-type-DONT-post-update-comment.html">Facebook can track what </a><a href="https://www-dailymail-co-uk.cdn.ampproject.org/v/s/www.dailymail.co.uk/sciencetech/article-2525227/amp/Facebook-tracks-type-DONT-post-update-comment.html?usqp=mq331AQFKAGwASA%3D&amp;amp_js_v=0.1#aoh=16034519192504&amp;referrer=https%3A%2F%2Fwww.google.com&amp;amp_tf=From%20%251%24s&amp;ampshare=https%3A%2F%2Fwww.dailymail.co.uk%2Fsciencetech%2Farticle-2525227%2FFacebook-tracks-type-DONT-post-update-comment.html">you</a><a href="https://www-dailymail-co-uk.cdn.ampproject.org/v/s/www.dailymail.co.uk/sciencetech/article-2525227/amp/Facebook-tracks-type-DONT-post-update-comment.html?amp_js_v=a6&amp;amp_gsa=1&amp;usqp=mq331AQFKAGwASA%3D#aoh=16034519192504&amp;referrer=https%3A%2F%2Fwww.google.com&amp;amp_tf=From%20%251%24s&amp;ampshare=https%3A%2F%2Fwww.dailymail.co.uk%2Fsciencetech%2Farticle-2525227%2FFacebook-tracks-type-DONT-post-update-comment.html"> type</a>, even if you never post it.&nbsp;Data scientists can determine that a status or comment has been typed by tracking code in the HTML form element of each page.</p>
<h2>Read The Terms and Conditions</h2>
<p>We live in a world where the concept of privacy already seems outdated. But that is largely because we’ve decided not to inquire about what happens when we trade it for convenience. The more connected you, and billions of others, are to Facebook, the more money Facebook makes by selling your personal information, and the more powerful it becomes.</p>
<p>The terms of service state,&nbsp;<em>We use the data we have — for example, about the connections you make, the choices and settings you select, and what you share and do on and off our Products — to personalize your experience.</em></p>
<figure><img loading="lazy" width="746" height="634" src="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC.jpg" alt="" srcset="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC.jpg 746w, https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC-300x255.jpg 300w" sizes="(max-width: 746px) 100vw, 746px" data-srcset="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC.jpg 746w, https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC-300x255.jpg 300w" data-src="https://talk.hyvor.com/blog/wp-content/uploads/2020/10/DcrJMbSW0AAxJXC.jpg" data-old-src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="><figcaption><a href="https://qz.com/1266835/facebooks-terms-of-service-translated-so-you-understand-your-data-and-privacy-settings/">Be wary of nebulous terms and promises</a></figcaption></figure>
<p>Basically, this means that Facebook uses every bit of personal information it can, collected&nbsp;<a href="https://www.consumerreports.org/privacy/how-facebook-tracks-you-even-when-youre-not-on-facebook/">both on and off Facebook</a>, to entice advertisers. The better the company knows you through the personal information you share with your friends and family, the more likely they are to be able to sell you stuff you want.</p>
<h2>Choose The Right to Privacy</h2>
<p>Big data is big business and value is created from customer insight. But, where is the moral line? What happens when companies cross that line? What if consumers could flip the equation to offer their data directly to the companies they trust? The future could be customer-monetized data.</p>
<p>We are the authors of our own destruction here since we don’t choose to be aware. If you participate in Facebook, should you not have some semblance of an expectation of privacy. The former Federal Trade Commission Chairperson Jon Leibowitz publicly stated, “We all agree that consumers don’t read privacy policies.”</p>
<p><a href="https://talk.hyvor.com/docs/gdpr">Ensure you choose privacy</a> and are aware of how technology plans on using your data. The only solution is being non-participatory. The solution is choosing not to be part of a pernicious agenda that can be defined as Surveillance Capitalism. </p>
<div><div><div><h4>
Need a privacy-focused commenting platform for your website?
</h4>

</div></div></div> </div></div>]]>
            </description>
            <link>https://talk.hyvor.com/blog/privacy-and-big-data/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25033030</guid>
            <pubDate>Mon, 09 Nov 2020 09:37:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pijul: Towards 1.0]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 102 (<a href="https://news.ycombinator.com/item?id=25032956">thread link</a>) | @lelf
<br/>
November 9, 2020 | https://pijul.org/posts/2020-11-07-towards-1.0/ | <a href="https://web.archive.org/web/*/https://pijul.org/posts/2020-11-07-towards-1.0/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <p>
                We are looking for <strong>VC funding</strong>. If you are interested in helping us build the future of collaboration (for code and other documents), shoot us an email at <a href="mailto:contact@pijul.org">contact@pijul.org</a>.
                
            </p>


<p>Saturday, November 7, 2020</p>
<p>After fixing the performance and scalability problems, we’re on our way to getting a stable Pijul. In this post, I explain what I’ve been up to in the recent months.</p>
<h2 id="context">Context</h2>
<p>Pijul has always been advertised as a research project, trying to implement a theory of patches that would be sound and fast. This is an ambitious goal, and became even more ambitious than initially envisioned.</p>
<p>One of the hardest challenges is that source code is by essence stateful, which makes it much harder to iterate over algorithm designs, like normal research projecst need to. For example, in order to get from our last published version to our current design, we have gone through many different variants, and there wasn’t much to publish.</p>
<p>Moreover, the UX aspect is what matters most in the end, and testing it on a real world project is the only way to get it there. However, unlike in a compiler, where bootstrapping is done one step at a time, and previous versions are always available to compile your current one, a version control system has the additional problem that the previous versions might not always be easily accessible if there is a bug.</p>
<p>One of the criticisms I’ve heard since I realised that better datastructures were possible is that I was “working secretely”. I certainly understand this feeling, but this is based on a misunderstanding of how research works. When I first had the idea that I’m explaining in this post, I realised that a complete rewrite would be needed. But for a very long time, almost nothing other than unusable, unreadable prototypes happened.</p>
<p>Back then, there wasn’t much to show, since it wasn’t even clear that the basic datastructure would work. And even when they started working at a large enough scale, it took me quite a bit of testing on large repositories before they started actually working.</p>
<p>This also implies that there wasn’t much to show for quite a while, since the new algorithm wasn’t usable until very recently, and any repository started before now would have become obsolete in a matter of days.</p>
<p>There were also <a href="#a-personal-note">persoprofessional reasons</a> for this silence, described at the end of this post.</p>

<p>Pijul depends on two other projects I’ve started.</p>
<h3 id="sanakirja">Sanakirja</h3>
<p>One of these projects is Sanakirja, which is “just” a key-value store, but has the extra feature that databases can be cloned efficiently. I would have loved to just use an existing library, but there just isn’t any that has this cloning feature. However, the scope of Sanakirja is still quite modest, it does one thing and does it well. Obviously, it took some time to find the memory-management bugs, but I have good confidence that this is now done.</p>
<p>In previous releases of Pijul, databases were implemented with a single mmapped file containing the binary representation of B Trees. Despite their lower writing performance (compared to alternatives such as <em>Log-structured merge-trees</em>), and the complexity of the code for deletions, B Trees are very well suited to this use case: indeed, since they are trees, reference-counting the nodes is enough to implement efficient clones.</p>
<p>One of the remaining issues was that in order to grow the database, we needed to un-mmapped the file, grow it, and mmap it again. Since applying a single change in Pijul must be an atomic operation, we needed to cancel the transaction when that happened, and restart it with a bigger file.</p>
<p>Another issue is that I wanted the next libpijul to compile on platforms that don’t have mmap, such as WASM. However, if reallocating an mmapped file has a very low complexity (even though it does have a non-zero cost in terms of system calls), reallocating a chunk of memory often requires copying everything. This completely defeats the point of the algorithms in Pijul, which rely on a particular representation of the datastructures on the disk.</p>
<p>The main innovation in Sanakirja 0.13 is to use a vector of memory blocks (either in memory or mmapped from a file), of exponentially-increasing size. The overhead is just one extra indirection, the complexity of adding items is the same (since the operation of creating an extra block is $O(1)$). The exponentially-increasing sizes mean that the allocated memory is always at least half-full.</p>
<h3 id="thrussh">Thrussh</h3>
<p>The other one is Thrussh. That library implements the SSH protocol, and tries to handle a number of key formats. The former is a surprisingly easy goal, and keeping up with Tokio versions has historically been the hardest bit, while the latter is the most horrendous hydra-like task, with new heads and legacy formats showing up every time you think you’re done.</p>
<h2 id="how-repositories-used-to-work-and-still-do-to-some-extent">How repositories used to work (and still do, to some extent)</h2>
<p>Old-style repositories represented a single file by a directed graph $G = (V, E)$ of lines, where each vertex $v\in V$ represented a line, and an edge from $u \in V$ to $v\in V$, labelled by some change (also called patch) number $c$, could be read as “according to change $c$, line $u$ comes before $v$”.</p>
<p>This means that changes could introduce vertices and lines, as in the following example, where a line $D$ is introduced between $A$ and $B$:</p>
<p><img src="https://pijul.org/img/repos-line-add.svg">
</p>
<p>Here, the thick line represents the change from the file containing the lines $A$, $B$, $C$ to the file with the new line $D$.
An important feature to note is that <strong>vertices are uniquely identified</strong>, by the hash of the change that introduced them, along with a position in that change. This means that two lines with the same content, introduced by different changes, will be different. It also means that a lines keeps its identity, even if the change is applied in a totally different context.</p>
<p>Moreover, this system is append-only, in the sense that <em>deletions</em> are handled by a more sophisticated labelling of the edges. In the example above, if we want to delete line $D$, we just need to make a change mapping the edge introduced by $c_0$ to a deleted edge, which we label by the name $c_1$ of the change that introduces it:</p>
<p><img src="https://pijul.org/img/repos-line-del.svg">
</p>
<p>From now on, we call the full edges <strong>alive</strong>, and the dashed ones <strong>dead</strong>.</p>
<p>We have just described the two basic kinds of actions in Pijul. There are no other. One kind adds vertices to the graph, along with “alive” edges around them, and the other kind maps an existing edge label onto a different one.
In order to fully described the system, I also need to mention that the edge labels are given by two parameters: their status (alive, deleted, and a few others related to multiple files and technical details explained below) and the change that introduced them.</p>
<h3 id="dependencies">Dependencies</h3>
<p>This scheme allows to defines dependencies between changes:</p>
<ul>
<li>
<p>If a change $c$ adds a vertex, we must have its <em>“context”</em>, i.e. the lines before and after it, hence the changes that introduced these lines are in the dependencies of $c$.</p>
</li>
<li>
<p>If a change $c$ deletes a vertex, or in other words maps an existing edge introduced by a change $d$, then $c$ must depend on $d$.</p>
</li>
</ul>
<p>Of course, this is just the minimal set of dependencies needed to make sense of the text edits. Hooks and scripts may add extra language-dependent dependencies based on semantics.</p>
<h3 id="are-edge-labels-minimal">Are edge labels minimal?</h3>
<p>Our goals is to find the smallest possible system, both for reasons of mathematical aesthetics (why store useless stuff?) and the other one for performance. Therefore, one immediate question comes to mind: why even keep the change number on the edges?</p>
<p>In order to answer that question, suppose we don’t keep the labels, meaning that the maps happen between statuses only. Then, consider the following two situations:</p>
<ul>
<li>
<p><strong>Change inverses</strong></p>
<p>The first issue happens when two authors delete a line in parallel, and one of the authors reverts their change. Applying these changes yields the following diagram, where the two deletions get merged into one, and the inverse applies to both:</p>
 <p><img src="https://pijul.org/img/inverse2.svg">
 </p>
<p>However, this is not what we expect, since one of the authors explicitly reverted the deletion, while the other performed the same deletion in parallel.
By keeping the labels, this is what we get instead:</p>
 <p><img src="https://pijul.org/img/inverse3.svg">
 </p>
</li>
<li>
<p><strong>Missing contexts</strong></p>
<p>For the sake of clarity, in the rest of this post, we name two users Alice (with pronouns “she/her”) and Bob (with pronouns “he/his”).</p>
<p>This situation, where Alice writes something in the middle of a paragraph $p$, while Bob deletes $p$ in parallel.
One issue here, is that the situation is not symmetric: when Bob applies Alice’s change, he can tell immediately that something is wrong, because the context of Alice’s edits is labelled as deleted in his repository.</p>
 <p><img src="https://pijul.org/img/known-vertices1.svg">
 </p>
<p>However, Alice’s situation is different: indeed, consider the case where instead of deleting $p$ <em>in parallel</em> of her changes, Bob deleted $p$ after applying Alice’s change. The edges deleted are exactly the same, but this is not a conflict, as shown in the following diagram:</p>
 <p><img src="https://pijul.org/img/known-vertices2.svg">
 </p>
<p>The situation is further complicated by the fact that this system doesn’t behave symmetrically with the contexts above and below the new line. Indeed, if Bob deleted the <em>down context</em> of the line (i.e. if he deleted line $C$) instead of the <em>up context</em> (line $B$), Alice could detect the conflict, since in that case, $C$ would have both an alive and a dead edge pointing to it ($C$ is called a “zombie vertex” internally), as shown in the following diagram:</p>
 <p><img src="https://pijul.org/img/known-vertices0.svg">
 </p>
<p>Keeping the change identifiers on each edge allows us to solve this. In Pijul 0.12, Bob would add the labels of all the edges around the deleted lines to the dependencies of his change. Then, Alice can tell whether Bob knows of her change before applying it. The changes are conflict if and only if Bob doesn’t know of the new lines.</p>
<p>However, this behaviour was counter-intuitive, <a href="https://discourse.pijul.org/t/why-these-patches-dont-commute/449">as noted by @tae</a>.</p>
<p>A finer analysis of what dependencies are led to a different behaviour in the new Pijul. Changes now have two different sets of …</p></li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pijul.org/posts/2020-11-07-towards-1.0/">https://pijul.org/posts/2020-11-07-towards-1.0/</a></em></p>]]>
            </description>
            <link>https://pijul.org/posts/2020-11-07-towards-1.0/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25032956</guid>
            <pubDate>Mon, 09 Nov 2020 09:24:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[On the Beauty of Python's ExitStack (2015)]]>
            </title>
            <description>
<![CDATA[
Score 124 | Comments 29 (<a href="https://news.ycombinator.com/item?id=25032924">thread link</a>) | @polm23
<br/>
November 9, 2020 | https://www.rath.org/on-the-beauty-of-pythons-exitstack.html | <a href="https://web.archive.org/web/*/https://www.rath.org/on-the-beauty-of-pythons-exitstack.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>I believe Python's <a href="http://docs.python.org/3/library/contextlib.html#contextlib.ExitStack">ExitStack</a> feature does not get the recognition
it deserves. I think part of the reason for this is that its
documentation is somewhere deep down in the (already obscure)
<a href="http://docs.python.org/3/library/contextlib.html">contextlib</a> module because formally ExitStack is just one of many
available context managers for Python's <a href="http://docs.python.org/3/reference/compound_stmts.html#the-with-statement">with statement</a>. But
ExitStack deserves far more prominent notice than that. This post will
hopefully help with that.</p>
<p>So what makes ExitStack so important? In short, it's the best way to
handle allocation and release of external resources in Python.</p>
<div id="the-problem">
<h2>The Problem</h2>
<p>The main challenge with external resources is that you have to release
them when you don't need them anymore -- and in particular you must
not forget to do so in all the alternate execution paths that may be
entered in case of error conditions.</p>
<p>Most languages implement error conditions as "exceptions" that can be
"caught" and handled (Python, Java, C++), or as special return values
that you need to check to determine if an error occured (C, Rust,
Go). Typically, code that needs to acquire and release external
resources then looks like this:</p>
<div><pre><span></span><span>res1</span> <span>=</span> <span>acquire_resource_one</span><span>()</span>
<span>try</span><span>:</span>
    <span># do stuff with res1</span>
    <span>res2</span> <span>=</span> <span>acquire_resource_two</span><span>()</span>
    <span>try</span><span>:</span>
        <span># do stuff with res1 and res2</span>
    <span>finally</span><span>:</span>
        <span>release_resource</span><span>(</span><span>res2</span><span>)</span>
<span>finally</span><span>:</span>
   <span>release_resource</span><span>(</span><span>res1</span><span>)</span>
</pre></div>
<p>or, if the language doesn't have exceptions:</p>
<div><pre><span></span><span>res1</span> <span>=</span> <span>acquire_resource_one</span><span>();</span>
<span>if</span><span>(</span><span>res</span> <span>==</span> <span>-</span><span>1</span><span>)</span> <span>{</span>
   <span>retval</span> <span>=</span> <span>-</span><span>1</span><span>;</span>
   <span>goto</span> <span>error_out1</span><span>;</span>
<span>}</span>
<span>// do stuff with res1</span>
<span>res2</span> <span>=</span> <span>acquire_resource_two</span><span>();</span>
<span>if</span><span>(</span><span>res</span> <span>==</span> <span>-</span><span>1</span><span>)</span> <span>{</span>
   <span>retval</span> <span>=</span> <span>-</span><span>2</span><span>;</span>
   <span>goto</span> <span>error_out2</span><span>;</span>
<span>}</span>
<span>// do stuff with res1 and res2</span>
<span>retval</span> <span>=</span> <span>0</span><span>;</span> <span>// ok</span>

<span>error_out2</span><span>:</span>
  <span>release_resource</span><span>(</span><span>res2</span><span>);</span>
<span>error_out1</span><span>:</span>
  <span>release_resource</span><span>(</span><span>res1</span><span>);</span>
<span>return</span> <span>retval</span><span>;</span>
</pre></div>
<p>This approach has three big problems:</p>
<ol>
<li>The cleanup code is far away from the allocation code.</li>
<li>When the number of resources increases, indentation levels (or jump
labels) accumulate, making things hard to read.</li>
<li>Managing a dynamic number of resources this way is impossible.</li>
</ol>
<p>In Python, some of these issues can be alleviated by using the
<tt>with</tt> statement:</p>
<div><pre><span></span> <span>@contextlib.contextmanager</span>
 <span>def</span> <span>my_resource</span><span>(</span><span>id_</span><span>):</span>
     <span>res</span> <span>=</span> <span>acquire_resource</span><span>(</span><span>id_</span><span>)</span>
     <span>try</span><span>:</span>
         <span>yield</span> <span>res</span>
     <span>finally</span><span>:</span>
         <span>release_source</span><span>(</span><span>res</span><span>)</span>

<span>with</span> <span>my_resource</span><span>(</span><span>RES_ONE</span><span>)</span> <span>as</span> <span>res1</span><span>,</span> \
   <span>my_resource</span><span>(</span><span>RES_TWO</span><span>)</span> <span>as</span> <span>res2</span><span>:</span>
    <span># do stuff with res1</span>
    <span># do stuff with res1 and res2</span>
</pre></div>
<p>However, this solution is far from optimal: you need to implement
resource-specific context managers (note that in the above example we
silently assumed that both resources can be acquired by the same
function), you can get rid of extra indentation only if you allocate
all the resources at the same time and live with an ugly continuation
line (no parenthesis allowed in this context), and you still need to
know the number of required resources ahead of time.</p>
<p>Over in the world of exception-less programming languages (no pun
intended), <a href="http://www.golang.org/">Go</a> has developed a different remedy: the <a href="http://golang.org/ref/spec#Defer_statement">defer statement</a>
defers execution of an expression until the enclosing
function returns. Using <tt>defer</tt>, the above example can be written
as:</p>
<div><pre><span></span><span>res1</span> <span>=</span> <span>acquire_resource_one</span><span>()</span>
<span>if</span><span>(</span><span>res</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>return</span> <span>-</span><span>1</span>
<span>}</span>
<span>defer</span> <span>release_resource</span><span>(</span><span>res1</span><span>)</span>
<span>// do stuff with res1</span>
<span>res2</span> <span>=</span> <span>acquire_resource_two</span><span>()</span>
<span>if</span><span>(</span><span>res</span> <span>==</span> <span>NULL</span><span>)</span> <span>{</span>
    <span>return</span> <span>-</span><span>2</span>
<span>}</span>
<span>defer</span> <span>release_resource</span><span>(</span><span>res2</span><span>)</span>
<span>// do stuff with res1 and res2</span>
<span>return</span> <span>0</span>
</pre></div>
<p>This is pretty nice: allocation and cleanup are kept close together,
no extra indentation or jump labels are required, and converting this
to a loop that dynamically acquires multiple resources would be
straightforward. But there are still some drawbacks:</p>
<ul>
<li>To control when exactly a group of resources is getting released you
have to factor out into separate functions all parts of code that
access the respective resources.</li>
<li>You cannot "cancel" a deferred expression, so there is no way to
e.g. return a resource to the caller if no error occured.</li>
<li>There is no way to handle errors from the cleanup functions.</li>
<li><tt>defer</tt> is available in Go, but not in Python.</li>
</ul>
</div>
<div id="exitstack-to-the-rescue">
<h2>ExitStack to the rescue</h2>
<p><a href="http://docs.python.org/3/library/contextlib.html#contextlib.ExitStack">ExitStack</a> fixes all of the above issues, and adds some benefits on
top of it. An ExitStack is (as the name suggests) a stack of clean-up
functions. Adding a callback to the stack is the equivalent of calling
Go's <tt>defer</tt> statement. However, clean-up functions are not executed
when the function returns, but when execution leaves the <tt>with</tt>
block - and until then, the stack can also be emptied again.</p>
<p>Finally, clean-up functions itself may raise exceptions without
affecting execution of other clean-up functions. Even if multiple
clean-ups raise exceptions, you are will get a usable stacktrace.</p>
<p>Here's how to acquire multiple resources:</p>
<div><pre><span></span><span>with</span> <span>ExitStack</span><span>()</span> <span>as</span> <span>cm</span><span>:</span>
    <span>res1</span> <span>=</span> <span>acquire_resource_one</span><span>()</span>
    <span>cm</span><span>.</span><span>callback</span><span>(</span><span>release_resource</span><span>,</span> <span>res1</span><span>)</span>
    <span># do stuff with res1</span>
    <span>res2</span> <span>=</span> <span>acquire_resource_two</span><span>()</span>
    <span>cm</span><span>.</span><span>callback</span><span>(</span><span>release_resource</span><span>,</span> <span>res2</span><span>)</span>
    <span># do stuff with res1 and res2</span>
</pre></div>
<p>Note that</p>
<ul>
<li>acquisition and release are close to each other</li>
<li>there's no extra indentation,</li>
<li>the pattern and it easily scales up to many resources (including a
dynamic number that's acquired in a loop)</li>
</ul>
<p>If there already is a context manager for your resource, there's also
a shortcut function:</p>
<div><pre><span></span><span>with</span> <span>ExitStack</span><span>()</span> <span>as</span> <span>cm</span><span>:</span>
    <span>res1</span> <span>=</span> <span>cm</span><span>.</span><span>enter</span><span>(</span><span>open</span><span>(</span><span>'first_file'</span><span>,</span> <span>'r'</span><span>))</span>
    <span># do stuff with res1</span>
    <span>res2</span> <span>=</span> <span>cm</span><span>.</span><span>enter</span><span>(</span><span>open</span><span>(</span><span>'second_file'</span><span>,</span> <span>'r'</span><span>))</span>
    <span># do stuff with res1 and res2</span>
</pre></div>
<p>To open a bunch of files and return them to the caller (without
leaking already opened files if a subsequent open fails):</p>
<div><pre><span></span><span>def</span> <span>open_files</span><span>(</span><span>filelist</span><span>):</span>
    <span>fhs</span> <span>=</span> <span>[]</span>
    <span>with</span> <span>ExitStack</span><span>()</span> <span>as</span> <span>cm</span><span>:</span>
        <span>for</span> <span>name</span> <span>in</span> <span>filelist</span><span>:</span>
            <span>fhs</span><span>.</span><span>append</span><span>(</span><span>cm</span><span>.</span><span>enter</span><span>(</span><span>open</span><span>(</span><span>name</span><span>,</span> <span>'r'</span><span>)))</span>
        <span>cm</span><span>.</span><span>pop_all</span><span>()</span>
        <span>return</span> <span>fhs</span>
</pre></div>
<p>Disclaimer: the <a href="https://bugs.python.org/issue13585">original idea for ExitStack</a> came from me.</p>
</div>
</div></div>]]>
            </description>
            <link>https://www.rath.org/on-the-beauty-of-pythons-exitstack.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25032924</guid>
            <pubDate>Mon, 09 Nov 2020 09:19:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Time Loop Software (2013)]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25032563">thread link</a>) | @netgusto
<br/>
November 9, 2020 | https://marak.com/blog/2013-05-13-time-loop-software | <a href="https://web.archive.org/web/*/https://marak.com/blog/2013-05-13-time-loop-software">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div>
<p>What if it were possible to write software capable of time travel? What if we could write software that was able to retrieve results from a computation solved sometime in the near future? What would this software look like? What problems could be solved?</p>
<p><a href="https://en.wikipedia.org/wiki/Novikov_self-consistency_principle#Time_loop_logic">Time loop logic</a> is a hypothetical system of computation that exploits the <a href="https://en.wikipedia.org/wiki/Novikov_self-consistency_principle">Novikov self-consistency principle</a>. In this system the computer is able to send the result of a computation backwards through time and rely upon the self-consistency principle to force the sent result to be correct. This futuristic concept might seem impossible now but I'd imagine trying to explain nuclear fission to a 3rd century blacksmith would seem equally impossible.</p>
<h2 id="writing-time-loop-software">Writing time loop software</h2>
<p>Building on the concept of time loop logic we are able to implement theoretical programming constructs to help better understand the concept of time travel in software. In the following examples we demonstrate what a time loop logic program might look like.</p>
<h3 id="an-event-loop">An event loop</h3>
<p>In the follow examples we'll be using the JavaScript programing language. JavaScript provides a single thread of execution for code to run in. The JavaScript virtual machine is constantly running an event loop. Each tick of this event loop represents a single cycle of code execution. Once this cycle is completed the next tick in the event loop will occur. In the popular <a href="https://nodejs.org/">Node.js</a> framework <a href="https://nodejs.org/api/process.html#process_process_nexttick_callback">an API is provided</a> to defer the execution of a block of code until the nextTick of the event loop occurs.</p>
<h4 id="node-js-process-nexttick-example">node.js process.nextTick() example</h4>
<pre><code><span><span>function</span> <span>foo</span>(<span></span>) </span>{
  <span>console</span>.log(<span>'foo'</span>);
}

process.nextTick(foo);
<span>console</span>.log(<span>'bar'</span>);
</code></pre><p>This will output:</p>
<pre><code><span>bar
</span><span>foo</span>
</code></pre><p>The same effect of <code>process.nextTick</code> can also be achieved using JavaScript's setTimeout command</p>
<pre><code>setTimeout<span>(<span>foo</span>, <span>0</span>)</span>
</code></pre><h4 id="node-js-process-prevtick-example">node.js process.prevTick() example</h4>
<p>Now let's imagine that instead of deferring a line of code until the next tick of the event loop we could instead push that code <em>backwards</em> to the <em>previous</em> tick of the event loop.</p>
<pre><code><span><span>function</span> <span>foo</span>(<span></span>) </span>{
  <span>console</span>.log(<span>'foo'</span>);
}

<span>console</span>.log(<span>'bar'</span>);
process.prevTick(foo);
</code></pre><p>Outputs:</p>
<pre><code><span>foo</span>
bar
</code></pre><p>The same effect of <code>process.prevTick</code> can also be achieved using setTimeout with a negative value</p>
<pre><code>setTimeout<span>(<span>foo</span>, <span>-1</span>)</span>
</code></pre><p>Since all we are doing is logging a simple string to the console, this is a contrived example. However; building on the concept of <code>process.prevTick</code> we can begin to implement more complex time loop programs.</p>
<h2 id="brute-force-cracking-with-time-loops">Brute force cracking with time loops</h2>
<p>Let's assume a simple <a href="https://en.wikipedia.org/wiki/Brute-force_search">brute-force search</a> password cracking scenario. Imagine there is a login function which expects a password. We have access to a very large word dictionary in which our cracking software will sequentially attempt logins using every word in the dictionary as a password until a match is found.</p>
<p>Here is the code for our brute-force program</p>
<p><em>Note: It's important to remember that Novikov's self-consistency principle guarantees that the sequence of events generating the paradox in the following code has zero probability.</em></p>


<h2 id="prime-factors-with-time-loops">Prime Factors with time loops</h2>
<p>Using time-loop logic  prime factors can be calculated in polynomial time.</p>


<h2 id="zero-lag-instant-communication">Zero-lag / Instant Communication</h2>
<p>The theoretical application of time-loop logic is endless. Imagine a time-loop based communication protocol. This would mean zero millisecond latency. Imagine gaming, video broadcasting, and file sharing with instantaneous transfer and zero lag. Through exploiting self-consistency we know that data will be sent in the immediate future ( since the data has begun transferring from the source ) and that eventually the transmission will arrive at it's destination. As long as the data will eventually be received, we are able to send the result back from the future into the immediate present, removing the notion of latency or lag.</p>
<h2 id="time-loop-logic-and-novikov-s-self-consistency-principle">Time Loop Logic and Novikov's Self-Consistency Principle</h2>
<p>How is it actually possible to program a time loop? Based on the self-consistency principle and continuing advancements in quantum entanglement these types of mind-bending constructs are not very far away. It's very possible we'll see this type of software actively being developed within the next hundred years.</p>
<p>Time loop logic was first written about by <a href="https://en.wikipedia.org/wiki/Hans_Moravec">Hans Moravec</a> who is best known for his work in robotics and artificial intelligence at Carnegie Mellon University. You can find Hans' original paper from 1991, "Time Travel and Computing", here: <a href="https://frc.ri.cmu.edu/~hpm/project.archive/general.articles/1991/TempComp.html">https://frc.ri.cmu.edu/~hpm/project.archive/general.articles/1991/TempComp.html</a>. I recommend reading the entire paper.</p>
<p>What we know from <a href="https://en.wikipedia.org/wiki/Closed_timelike_curve#General_relativity">general relativity</a> is that at a quantum level backwards time-travel is mathematically possible in certain solutions containing <a href="https://en.wikipedia.org/wiki/Closed_timelike_curve">closed timelike curves</a>. A closed timelike curve is a <a href="https://en.wikipedia.org/wiki/World_line">world-line</a> in a <a href="https://en.wikipedia.org/wiki/Lorentzian_manifold#Lorentzian_manifold">Lorentzian manifold</a>. </p>
<p>Closed timelike curves ( CTCs ) pose a problem for physicists. The existence of CTCs introduces the notion of time travel being possible. If time travel is possible, we have now introduced the notion of <a href="https://en.wikipedia.org/wiki/Grandfather_paradox">time travel paradoxes</a> which can violate <a href="https://en.wikipedia.org/wiki/Causality_(physics)">causality</a>. Since it's generally accepted that we cannot violate causality in our universe we must be able to explain how closed time-like curves can exist.</p>
<p>In his self-consistency principle Novikov asserts that if an event exists that would give rise to a paradox, or to any "change" to the past whatsoever, then the probability of that event is zero. In short, it says that it is impossible to create time travel paradoxes. You can find the original paper here: <a href="http://authors.library.caltech.edu/3737">http://authors.library.caltech.edu/3737</a>. I recommend starting with reading the <a href="https://en.wikipedia.org/wiki/Novikov_self-consistency_principle#History_of_the_principle">history of the principle</a>.</p>

<p>In order for time loop logic to return an answer instantaneously, we <em>must</em> ensure that the problem will run long enough into the future to <em>actually</em> calculate the result. If a problem takes sixty seconds to solve, the program must run for at least sixty seconds. Time-loop logic does <em>not</em> violate causality. We are able to retrieve the answer instantly because we have committed to spending sixty seconds in the future calculating the answer and sending it back.</p>
<p>This turns debugging time-loop logic into somewhat of an impossibility. Any bugs in a time loop indicate that sometime in the future a problem has occurred. <strong>This event may or may not be related to software.</strong> </p>
<p>Imagine a computer that utilized a time loop to brute force crack passwords ( as our code posted above did). I turn the machine on and request it cracks the password. The program doesn't work. Frustrated, I turn off the machine and complain to my co-worker Josh.</p>
<p>Josh turns on the machine and requests the password. The software works instantly cracking the password in under 1ms.</p>
<p>Bewildered, I ask Josh why the machine worked for him but not for me.</p>
<p>Josh replies, "It's actually quite simple. Using that computer it's going to take approximately 400 hours to brute force the password. After that 400 hours the CPU must recursively return the cracked password back in time until it reaches right now. I was able to get the answer instantly because I have decided to not turn this computer off for another 399 hours and 59 minutes. Simply put, you turned off the computer too quickly"</p>
<p><em>The consequences of unplugging the computer</em></p>
</div></div></div>]]>
            </description>
            <link>https://marak.com/blog/2013-05-13-time-loop-software</link>
            <guid isPermaLink="false">hacker-news-small-sites-25032563</guid>
            <pubDate>Mon, 09 Nov 2020 08:27:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Productivity vs. Privacy]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25032481">thread link</a>) | @jessems
<br/>
November 9, 2020 | https://jessems.com/productivity-vs-privacy | <a href="https://web.archive.org/web/*/https://jessems.com/productivity-vs-privacy">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><div><p>In recent years there's been a steady growth in privacy focused companies. Some examples that have reached large-scale adoption are <a href="https://protonmail.com/">ProtonMail</a>, <a href="https://signal.com/">Signal</a>, and <a href="https://duckduckgo.com/">DuckDuckGo</a>. These are companies that have put privacy front and center to their value proposition and can be considered <em>privacy-preserving products</em>. I've come to beleive a goal of preserving user privacy is often inherently in tension with the goal of advancing user productivity.</p><p>What these services have in common is that they promise their users a higher degree of privacy relative to their competitors. Instead of the usual encryption in transit (protection from eavesdroppers) and encryption at rest (protection against unauthorized users), services like Signal and ProtonMail enable their users to hide data from anyone except the intended recipient, which — crucially — includes the service providers themselves.</p><p>This category of encryption is known as end-to-end encryption (e2e) and has found adopters in anyone from principled libertarians to journalists and human rights activitists whose lives may depend on their conversations remaining unwiretapped.</p><h2>Early privacy-preserving software was too difficult to use</h2><p>The canonical implementation of e2e for email is known as Pretty Good Privacy (PGP) and its reference implementation is GPG. GPG never reached mass adoption and there seems to be a myriad of reasons for that. The most salient reason, however, seems to be that to this day, it continues to be difficult to use. As the founder of Signal, Moxie Marlinspike <a href="https://moxie.org/2015/02/24/gpg-and-me.html">explains</a>, the spirit behind GPG was the following:</p><blockquote><p>Instead of developing opinionated software with a simple interface, GPG was written to be as powerful and flexible as possible.</p></blockquote><p>Powerful, flexible software written by nerds, unfortunately also tends to be prohibitively complex for normal users. Combined with the fact that <a href="https://signal.org/blog/the-ecosystem-is-moving/">decentralized technology seems unable to quickly adapt to change</a>, the result has been a clunky solution that has, quite frankly, stayed clunky. With no feasible privacy-preserving alternative <!-- -->[1]<!-- -->, non-privacy preserving email providers became the norm.</p><h2>Surveillance capitalist companies will not encrypt your data, because they rely on being able to read it</h2><p>One such email provider, Gmail by Google, gained millions of users by offering a free plan. Their initial monetization strategy was scanning your emails and serving you personalized ads. Although they've stopped personalizing the ads, they're still scanning your email's contents to serve you a better experience across their services. Similarly, Facebook tracks what you do to shape your experience and keep you glued (they would say 'engaged') to their platform.</p><p>What unites platforms like Google and Facebook, is described by Professor Shoshana Zuboff as “<a href="https://en.wikipedia.org/wiki/Surveillance_capitalism">surveillance capitalism</a>”. The business model of surveillance capitalist companies is to harvest personal data about you to build a model that predicts your behavior. These prediction models are packaged and sold as advertisement opportunities to companies eager to buy your attention. You might be the user, but you're not the customer — the advertisers are.</p><p>It should come as no surprise then, that none of these platforms has shipped with end-to-end encryption by default. Doing so would go against the incentives that undergird their very business model. Their ability to predict your behavior, and sell ads based on those predictions, hinges on their ability to harvest your data.</p><h2>Data is also collected to improve the service</h2><p>A company like Google has other business models of course. Google Workspace, aimed at businesses, is a collection of collaboration and productivity tools. This ranges from Google Docs, to chat, to video conferencing, and more. By offering this as a paid service, Google exposes itself to a different incentive, one where the customer and the user are now one and the same.</p><p>Even if you're both the user and the customer, your data is still being harvested. This data might not feed into personalized ads (because that’s no longer the primary business model) but rather into improving your experience. But as a business user, when does your experience improve? And as a service provider, how do you know what improves the experience?</p><h2>Improvements are productivity gains</h2><p>There's an inclination to think of improvements as things that help you do the thing you want to do quicker, better and/or with less frustration. We can go one step further and borrow some of the thinking used in economics and treat productivity simply as the ratio between outputs (salaries and corporate profits) and inputs (hours worked). Productivity increases if inputs can be decreased (for equal outputs) or outputs can be increased (for equal inputs). What's more, we would expect this quantity to improve along with advances in technology.</p><p>How does technology lead to increases in productivity? One obvious way is by making us more efficient. If some new technology saves us time doing a certain task (decreased input), all other things being equal, we’ll end up seeing those gains reflected in our outputs.</p><h2>Productivity gains are discovered, not planned</h2><p>What exactly are the things that increase efficiency? Here's where it gets tricky. In the realm of knowledge work, we don't always know where the gains will come from — that is, before they are made. We are still discovering new ways in which we can be more productive and especially so in the domain of collaborative productivity. An illustrative example of how productivity gains are discovered comes from Kevin A. Kwok's description of Figma's road to success.</p><p>In "Why Figma Wins", <a href="https://kwokchain.com/2020/06/19/why-figma-wins/">Kwok details</a> how the product team discovered a way to enable more efficient collaboration in the design process. That this potential existed wasn't at all  obvious to even those within the scene. While Sketch had broken new ground with their vector based design tool geared towards product designers, Figma took it to another level by taking many of the same (dare I say revolutionary) UX patterns and offering them in a web-native, multiplayer web application.</p><blockquote><p>The core insight of Figma is that design is larger than just designers. Design is all of the conversations between designers and PMs about what to build. It is the mocks and prototypes and the feedback on them. It is the handoff of specs and assets to engineers and how easy it is for them to implement them.</p></blockquote><p>As Kevin explains, Figma brought together the disparate disciplines that are involved in a design process into a synced browser window for everybody. This helped democratize design and remove a lot of friction that had existed before.</p><p>Not only did Figma push the frontier of productivity into new territory, it wasn’t obvious beforehand what that territory would look like. The lesson is that productivity improvements are won through a process of <em>discovery</em>. Kevin explains:</p><blockquote><p>As disciplines evolve, they figure out the social norms needed to operate better, build tools that can be shared across the industry, and invent abstractions that allow offloading more and more of the workload. They learn how to collaborate better, not just with each other but with all the other functions as well.</p></blockquote><p>Although there's some inherent uncertainty about what the productivity gains will look like (and where to look for them), there's no uncertainty about whether they will be made at all. If one thing can be counted on, it's the tech industry's relentless march towards higher productivity. The big tech platforms know this and don't shy away from investing heavily in innovation (discovery) in that direction.</p><h2>Productivity gains are unlocked by harvesting data</h2><p>Although there is some inherent tension between preserving privacy vs. allowing for a multiplayer mode like Figma, we can find even stronger tensions when it comes to harvesting data in favor of productivity gains.</p><p>A search feature relies on indexing your data. A recommendation feature relies on mining your browsing history. An autocomplete feature relies on what you (or other users) typed before.</p><p>All these potential features which are made possible through harvesting your user data are not available to privacy-preserving products. The user data isn't readable to them — and that's the whole point.</p><p>This creates a trade-off from the user's perspective. Whatever your particular motivation might be, as soon as you opt for a privacy-preserving service you're opting for a service that is not able to read your data, and by extension, not able to harvest it. Because the harvesting of data is what is driving many of the improvements in productivity, in choosing to preserve user privacy, these services are forgoing their ability to provide additional gains in productivity.</p><p>Historically, as we saw with the origins of GPG, there has always been additional friction involved in replicating a workflow in a privacy-preserving manner. Although using e2e services such as Signal and ProtonMail has become nearly frictionless, they lack many features their non-privacy preserving counterparts offer.</p><h2>The productivity gap between privacy-preserving and non-preserving services</h2><p>If you compare the productivity gains between privacy-preserving and non-preserving products from the perspective of the user, it's hard not to arrive at the conclusion that there’s a gap between the two — and it appears to be growing.</p><p>There is perhaps no better example of a feature which hinges on the ability to read user data than search. Although ProtonMail is reminiscent of Gmail in many ways, one area where it falls short is the absence of any ability to  search the contents of your emails. Search only works if the provider of such functionality can scan and index your content. It works even better if the provider is able to harvest search queries and use those to build predictive models (e.g. autocomplete and smart suggestions). These are features which make Gmail users more productive but aren't available to ProtonMail users <!-- -->[3]<!-- -->.</p><p>The absence of search might not be a dealbreaker for a …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jessems.com/productivity-vs-privacy">https://jessems.com/productivity-vs-privacy</a></em></p>]]>
            </description>
            <link>https://jessems.com/productivity-vs-privacy</link>
            <guid isPermaLink="false">hacker-news-small-sites-25032481</guid>
            <pubDate>Mon, 09 Nov 2020 08:13:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Structured Concurrency]]>
            </title>
            <description>
<![CDATA[
Score 44 | Comments 12 (<a href="https://news.ycombinator.com/item?id=25032133">thread link</a>) | @ingve
<br/>
November 8, 2020 | https://ericniebler.com/2020/11/08/structured-concurrency/ | <a href="https://web.archive.org/web/*/https://ericniebler.com/2020/11/08/structured-concurrency/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>TL;DR: <strong>“Structured concurrency” refers to a way to structure async computations so that child operations are guaranteed to complete before their parents, just the way a function is guaranteed to complete before its caller.</strong> This sounds simple and boring, but in C++ it’s anything but. Structured concurrency — most notably, C++20 coroutines — has profound implications for the correctness and the simplicity of async architecture. It brings the <a href="https://docs.microsoft.com/en-us/cpp/cpp/welcome-back-to-cpp-modern-cpp?view=msvc-160">Modern C++ style</a> to our async programs by making async lifetimes correspond to ordinary C++ lexical scopes, eliminating the need for reference counting to manage object lifetime.</p>
<h2>Structured Programming and C++</h2>
<p>Back in the 1950’s, the nascent computing industry discovered structured programming: that high-level programming languages with lexical scopes, control structures, and subroutines resulted in programs that were far easier to read, write, and maintain than programming at the assembly level with test-and-jump instructions and <code>goto</code>. The advance was such a quantum leap that nobody talks about structured programming anymore; it’s just “programming”.</p>
<p>C++, more so than any other language, leverages structured programming to the hilt. The semantics of object lifetime mirror — and are tied to — the strict nesting of scopes; i.e., the <em>structure</em> of your code. Function activations nest, scopes nest, and object lifetimes nest. Objects’ lifetimes end with a scope’s closing curly brace, and objects are destroyed in the reverse order of their construction to preserve the strict nesting.</p>
<p>The Modern C++ programming style is built on this structured foundation. Objects have <em>value semantics</em> — they behave like the ints — and resources are cleaned up in destructors deterministically, which guarantees structurally that resources aren’t used after their lifetimes have ended. This is <em>very</em> important.</p>
<p>When we abandon this strict nesting of scopes and lifetimes — say, when we reference count an object on the heap, or when we use the singleton pattern — we are fighting against the strengths of the language rather than working with them.</p>
<h2>The Trouble With Threads</h2>
<p>Writing correct programs in the presence of concurrency is far more difficult than in single-threaded code. There are lots of reasons for this. One reason is that threads, like singletons and dynamically allocated objects, scoff at your puny nested scopes. Although you can use the Modern C++ style <em>within</em> a thread, when logic and lifetimes are scattered across threads, the hierarchical structure of your program is lost. The tools we use to manage complexity in single-threaded code — in particular, nested lifetimes tied to nested scopes — simply don’t translate to async code.</p>
<p>To see what I mean, let’s look at what happens when we take a simple synchronous function and make it asynchronous.</p>
<pre>void computeResult(State &amp; s);

int doThing() {
  State s;
  computeResult(s);
  return s.result;
}
</pre>
<p><code>doThing()</code> is simple enough. It declares some local state, calls a helper, then returns some result. Now imagine that we want to make both functions async, maybe because they take too long. No problem, let’s use Boost futures, which support continuation chaining:</p>
<pre>boost::future&lt;void&gt; computeResult(State &amp; s);

boost::future&lt;int&gt; doThing() {
  State s;
  auto fut = computeResult(s);
  return fut.then(
    [&amp;](auto&amp;&amp;) { return s.result; }); // OOPS
}
</pre>
<p>If you’ve programmed with futures before, you’re probably screaming, <em>“Nooooo!”</em> The <code>.then()</code> on the last line queues up some work to run after <code>computeResult()</code> completes. <code>doThing()</code> then returns the resulting future. The trouble is, when <code>doThing()</code> returns, the lifetime of the <code>State</code> object ends, <em>and the continuation is still referencing it</em>. That is now a dangling reference, and will likely cause a crash.</p>
<p>What has gone wrong? Futures let us compute with results that aren’t available yet, and the Boost flavor lets us chain continuations. But the continuation is a separate function with a separate scope. We often need to share data across those separate scopes. No more tidy nested scopes, no more nested lifetimes. We have to manage the lifetime of the state manually, something like this:</p>
<pre>boost::future&lt;void&gt;
computeResult(shared_ptr&lt;State&gt; s); // addref
                                    // the state

boost::future&lt;int&gt; doThing() {
  auto s = std::make_shared&lt;State&gt;();
  auto fut = computeResult(s);
  return fut.then(
    [s](auto&amp;&amp;) { return s.result; }); // addref
                                       // the state
}
</pre>
<p>Since both async operations refer to the state, they both need to share responsibility to keep it alive.</p>
<p>Another way to think about this is: <em>what is the lifetime of this asynchronous computation?</em> It starts when <code>doThing()</code> is called, but it doesn’t end until the continuation — the lambda passed to <code>future.then()</code> — returns. <em>There is no lexical scope that corresponds to that lifetime.</em> And that is the source of our woes.</p>
<h2>Unstructured Concurrency</h2>
<p>The story gets more complicated yet when we consider executors. Executors are handles to executions contexts that let you schedule work onto, say, a thread or thread pool. Many codebases have some notion of an executor, and some let you schedule things with a delay or with some other policy. This lets us do cool things, like move a computation from an IO thread pool to a CPU thread pool, or retry an async operation with a delay. Handy, but like <code>goto</code> it is a very low-level control structure that tends to obfuscate rather than clarify.</p>
<p>For instance, I recently came across an algorithm that uses executors and callbacks (called Listeners here) that retries the async allocation of some resource. Below is a greatly abridged version. It is described after the break.</p>
<pre>// This is a continuation that gets invoked when
// the async operation completes:
struct Manager::Listener : ListenerInterface {
  shared_ptr&lt;Manager&gt; manager_;
  executor executor_;
  size_t retriesCount_;

  void onSucceeded() override {
    /* ...yay, allocation succeeded... */
  }
  void onFailed() override {
    // When the allocation fails, post a retry
    // to the executor with a delay
    auto alloc = [manager = manager_]() {
      manager-&gt;allocate();
    };
    // Run "alloc" at some point in the future:
    executor_.execute_after(
      alloc, 10ms * (1 &lt;&lt; retriesCount_));
  }
};

// Try asynchronously allocating some resource
// with the above class as a continuation
void Manager::allocate() {
  // Have we already tried too many times?
  if (retriesCount_ &gt; kMaxRetries) {
    /* ...notify any observers that we failed */
    return;
  }

  // Try once more:
  ++retriesCount_;
  allocator_.doAllocate(
    make_shared&lt;Listener&gt;(
      shared_from_this(),
      executor_,
      retriesCount_));
}
</pre>
<p>The <code>allocate()</code> member function first checks to see if the operation has already been retried too many times. If not it calls a helper <code>doAllocate()</code> function, passing in a callback to be notified on either success or failure. On failure, the handler posts deferred work to the executor, which will call <code>allocate()</code> back, thus retrying the allocation with a delay.</p>
<p>This is a heavily stateful and rather circuitous async algorithm. The logic spans many functions and several objects, and the control and data flow is not obvious. Note the intricate ref-counting dance necessary to keep the objects alive. Posting the work to an executor makes it even harder. Executors in this code have no notion of continuations, so errors that happen during task execution have nowhere to go. The <code>allocate()</code> function can’t signal an error by throwing an exception if it wants any part of the program to be able to recover from the error. Error handling must be done manually and out-of-band. Ditto if we wanted to support cancellation.</p>
<p>This is <strong>unstructured concurrency</strong>: we queue up async operations in an <em>ad hoc</em> fashion; we chain dependent work, use continuations or “strand” executors to enforce sequential consistency; and we use strong and weak reference counts to keep data alive until we are certain it’s no longer needed. There is no formal notion of task A being a child of task B, no way to enforce that child tasks complete before their parents, and no one place in the code that we can point to and say, “Here is the algorithm.”</p>
<blockquote>
<p><strong>If you don’t mind the analogy, the hops through the executor are a bit like <code>goto</code> statements that are non-local in both time and space: “Jump to this point in the program, <em>X</em> milliseconds from now, on this particular thread.”</strong></p>
</blockquote>
<p>That non-local discontinuity makes it hard to reason about correctness and efficiency. Scale unstructured concurrency up to whole programs handling lots of concurrent real-time events, and the incidental complexity of manually handling out-of-band asynchronous control and data flow, controlling concurrent access to shared state, and managing object lifetime becomes overwhelming.</p>
<h2>Structured Concurrency</h2>
<p>Recall that in the early days of computing, unstructured programming styles rapidly gave way to structured styles. With the addition of coroutines to C++, we are seeing a similar phase shift happening today to our asynchronous code. If we were to rewrite the above retry algorithm in terms of coroutines (using Lewis Baker’s popular <a href="https://github.com/lewissbaker/cppcoro">cppcoro</a> library), it might look something like this:</p>
<pre>// Try asynchronously allocating some resource
// with retry:
cppcoro::task&lt;&gt; Manager::allocate() {
  // Retry the allocation up to kMaxRetries
  // times:
  for (int retriesCount = 1;
       retriesCount &lt;= kMaxRetries;
       ++retriesCount) {
    try {
      co_await allocator_.doAllocate();
      co_return; // success!
    } catch (...) {}

    // Oops, it failed. Yield the thread for a
    // bit and then retry:
    co_await scheduler_.schedule_after(
      10ms * (1 &lt;&lt; retriesCount));
  }

  // Error, too many retries
  throw std::runtime_error(
    "Resource allocation retry count exceeded.");
}
</pre>
<blockquote>
<p>Aside: This replaces the <code>executor_</code> with a <code>scheduler_</code> that implements cppcoro’s <a href="https://github.com/lewissbaker/cppcoro#delayedscheduler-concept">DelayedScheduler</a> concept.</p>
</blockquote>
<p>Let’s …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://ericniebler.com/2020/11/08/structured-concurrency/">https://ericniebler.com/2020/11/08/structured-concurrency/</a></em></p>]]>
            </description>
            <link>https://ericniebler.com/2020/11/08/structured-concurrency/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25032133</guid>
            <pubDate>Mon, 09 Nov 2020 07:15:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I'm going to experiment by being Blind and Alone for 24 Hours]]>
            </title>
            <description>
<![CDATA[
Score 82 | Comments 75 (<a href="https://news.ycombinator.com/item?id=25031774">thread link</a>) | @Osiris30
<br/>
November 8, 2020 | https://dormin.org/2020/11/08/the-blind-alone-and-confused-for-24-hours-challenge/ | <a href="https://web.archive.org/web/*/https://dormin.org/2020/11/08/the-blind-alone-and-confused-for-24-hours-challenge/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-896">

	
	<!-- .entry-header -->


			<div>

			
<figure><img data-attachment-id="901" data-permalink="https://dormin.org/bird-box/" data-orig-file="https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg" data-orig-size="2000,1050" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="bird-box" data-image-description="" data-medium-file="https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=300" data-large-file="https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=760" src="https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=1024" alt="" srcset="https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=1024 1024w, https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=150 150w, https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=300 300w, https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg?w=768 768w, https://dorminorg.files.wordpress.com/2020/11/bird-box.jpg 2000w" sizes="(max-width: 1024px) 100vw, 1024px"></figure>



<p>For 24 hours I will be blind and alone in my apartment. I eventually want to try being blind for a week, but I’ll need seven days with no other obligations, and I won’t have that for a while. For now, I’ll suffice with a smaller-scale experiments with a few extra provisions for added difficulty.</p>







<ol type="1"><li>I must leave my blindfold on for 24 hours.<ul><li>If I remove the blindfold, I have failed the experiment</li><li>If the blindfold falls off or I can get partial sight, I have failed the experiment.</li><li>I am only allowed to readjust my blindfold if I can see light.</li></ul></li><li>I must not be in contact with any other people for 24 hours.<ul><li>I cannot answer my phone or any other messaging system.</li><li>I cannot receive in-person visitors.</li><li>If someone knocks at the door, I cannot answer verbally or physically.</li></ul></li><li>I will set an alarm for 24 hours. I cannot set any other alarms or use any other means to ascertain the time.<ul><li>It is up to me to keep my phone charged so the alarm goes off.</li></ul></li><li>I cannot leave my apartment.</li></ol>











<p>I have no good reason. I just want to see if I am capable of doing it and what will happen. Some things I’m curious about:</p>



<ul><li>Do I have the willpower to get through the experiment?</li><li>Will I become disoriented from losing all sense of time?</li><li>Will I be able to stave off boredom with podcasts, audiobooks, and music on my phone?</li><li>Will I enter some sort of meditative state due to a lack of sensory input?</li><li><a href="https://www.discovermagazine.com/the-sciences/scientists-made-people-wear-blindfolds-for-4-days-the-resulting-hallucinations-were-incredible">Will I hallucinate</a>?</li><li>Will my non-sight senses heighten?</li><li>Will I hurt myself by falling or banging into something?</li><li>Will I sleep?</li><li>Will I eat? Is consuming caffeine a good idea (for entertainment) or a bad idea (energy with no direction)?</li><li>Will this experience make me more interested in being blind for a week? Or less?</li></ul>



<figure><img src="https://digitalimpact.io/wp-content/uploads/2014/08/Blind.png" alt="Modern CEOs Are Blindfolded - Digital Impact"></figure>







<p>Attempt One started at 10:30 AM and failed at 1:13 PM. I purposefully took off my blindfold because I was worried that my multiple failures to input my Iphone’s password had resulted in a permanent lock or data wipe. But the password screen was just locked for a minute and all was well.</p>



<p>Given that I failed in the early afternoon, I considered restarting the experiment on another day in the morning. But I had already carved out a 24 hour period when I wouldn’t do any work or be disturbed, and it might have been a week or two longer before I got that opportunity again.</p>



<p>So I checked my messages, briefly went on Reddit, and then restarted.</p>



<div><figure><img data-attachment-id="903" data-permalink="https://dormin.org/t86752/" data-orig-file="https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg" data-orig-size="521,610" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;CSA Images \/ CSA Images&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;Blindfolded Woman&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;\u00a9 CSA Images \/ CSA Images&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;T86752&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="T86752" data-image-description="" data-medium-file="https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg?w=256" data-large-file="https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg?w=521" src="https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg?w=521" alt="" srcset="https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg 521w, https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg?w=128 128w, https://dorminorg.files.wordpress.com/2020/11/blindfold-2.jpg?w=256 256w" sizes="(max-width: 521px) 100vw, 521px"></figure></div>







<p>Attempt Two was successful. I put on my blindfold at 1:23 PM on Thursday, November 5, 2020. I removed it at 1:28 PM on Friday, November 6.</p>



<p>It was an… interesting experience. I don’t recommend it, but I’m glad I did it. I’m not sure where to begin in describing it, especially since I couldn’t take notes, and part of the challenge was being confused. But I’ll do my best to break down the experience.</p>



<div><figure><img src="https://cdn.shopify.com/s/files/1/0818/3417/products/Les_Sublimes_Cashmere_Scarf_Dark_Blue_packshot_2048x.jpg?v=1539973736" alt="Large Cashmere Scarf in Dark Blue | Les Sublimes" width="427" height="427"></figure></div>



<h2><strong><span>Blindfold</span></strong></h2>



<p>To simulate blindness, I used a dark blue scarf as a blindfold. One layer wasn’t quite dark enough, so I folded it in half for extra light defense.</p>



<p>With the blindfold securely on, my vision was the same whether my eyes were open or closed. I kept my eyes closed 99.9% of the time since it was usually more comfortable and helped limit light. I occasionally opened my eyes to check the brightness level and to… I guess you could call it <em>stretch my eyelids.</em> They don’t feel good if you leave them closed for too long.</p>



<p>I couldn’t get a perfect scarf seal around my eyes, so sometimes when I tilted my head back while sitting I noticed a little light come into the bottom of my vision. To limit this, I often pinched the scarf around my nose in that position. But many/most blind people can see some light anyway, so I don’t think this was a significant violation of the experiment.</p>



<p>My eyes got quite dry under the scarf, so I applied moisturizer to this lids and sockets four or five times. I wanted to use eyedrops too, but there was no way to do so without failing the experiment.</p>



<figure><img loading="lazy" data-attachment-id="906" data-permalink="https://dormin.org/image/" data-orig-file="https://dorminorg.files.wordpress.com/2020/11/image.jpeg" data-orig-size="225,225" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="image" data-image-description="" data-medium-file="https://dorminorg.files.wordpress.com/2020/11/image.jpeg?w=225" data-large-file="https://dorminorg.files.wordpress.com/2020/11/image.jpeg?w=225" src="https://dorminorg.files.wordpress.com/2020/11/image.jpeg?w=225" alt="BLACK N BLACK - #blackouttuesday ✊🏻✊🏼✊🏽✊🏾✊🏿 | Facebook" width="786" height="786" srcset="https://dorminorg.files.wordpress.com/2020/11/image.jpeg 225w, https://dorminorg.files.wordpress.com/2020/11/image.jpeg?w=150 150w" sizes="(max-width: 786px) 100vw, 786px"></figure>



<h2><strong><span>Blindness</span></strong></h2>



<p>Initially, everything was black, but as the day went on and the sun went down, I could tell it was nighttime even through two layers of scarf and my eyelids. I’m not sure if I could tell because my eyes had adjusted to become extremely sensitive to light, or if there were other subtle signals (ie. noises, air temperature, circadian rhythms, etc.) which my body picked up on. As evidence of the latter, I could not see any difference between the tv being on or off, nor the refrigerator being opened or closed, even when I was sitting right in front of either.</p>



<p>What I saw depended on how I applied my focus. If I did focus on my vision, I’d see the typical blackness you get from closing your eyes, but it was never perfectly black nor uniform; there was always some odd movement and occasional coloring (whiteness, pale blue, or sometimes red). The most common distortions were a swirling or flowing whiteness, sort of like cream in coffee. I hoped that being blindfolded for so long would make the distortions more extreme, but for the most part it looked no different than what you’d see if you closed your eyes right now for ten minutes.</p>



<p>There was one exception. It must have been about 20+ hours into the experiment, and my eyes were itching, so I rubbed both of them at the same time over the scarf. If you rub your closed eyes and focus on your sight any time you can see some weird stuff, but this was far more extreme than usual. I remember my entire vision filling up with white bubbles which then broke and briefly returned to black. Then white lightning bolt shapes stretched across my sight, expanded to make my vision purely white, and then slowly faded back to black. The strangest thing about it was the <em>brightness</em>. I literally felt like I was staring into lights despite being blindfolded in a dark room. Unfortunately, it only lasted about 30 seconds, but my heart was racing.</p>



<p>More notable than what I saw was what I didn’t see. By default, I was lost in thought and I focused on nothing. In such a state, I didn’t even register my vision or notice the darkness. I <em>think</em> this made my imagination and mental visualization more acute. On occasion, I’d be deep in thought and I’d get the <em>brightness</em> sensation again because I’d be mentally picturing something so vividly that the inevitable return to darkness felt like shutting off the lights in my brain. I’ll explain more about this in the <strong>Three Phases</strong> section.</p>



<p>Sadly, I did not hallucinate, or at least not as far as I could tell.</p>



<figure><img src="https://i1.wp.com/www.intelligentliving.co/wp-content/uploads/2014/07/sloth-sleeping.jpg?fit=1024%2C698&amp;ssl=1" alt="Fighting Bacteria With Sloth Fur"></figure>



<h2><strong><span>Energy</span></strong></h2>



<p>This was the most surprising aspect of the experiment.</p>



<p>I read that <a href="https://abcnews.go.com/Health/story?id=117902&amp;page=1#:~:text=Without%20light%20cues%20that%20the,as%20a%20result%2C%20researchers%20say.">blind people have trouble getting to sleep</a> because they don’t access any/enough light for their circadian rhythms. I seem to have the exact opposite problem. Without light, my body always thinks it’s time to sleep and has trouble doing anything else. Throughout most of the experiment, I felt extremely lethargic, lazy, and had to fight to stay awake.</p>



<p>I started my first failed experiment attempt at 10:30 AM. I had gotten 7.5 solid hours of sleep, I hadn’t done anything tiring the previous day, and I generally felt fine. Then I put on my blindfold, and within thirty minutes I was nodding off. I semi-slept for two hours before deciding to get an energy drink to get myself out of the funk. That worked, but as soon as it wore off, I was back in semi-sleep mode.</p>



<p>Even when I was firmly awake, I generally felt weak and lethargic. Movement around the apartment was annoying of course, but made so much more difficult by my energy levels. I ended up lying perfectly still in my comfy computer chair with my feet on a table 95% of the time. That is, when I wasn’t lying in bed.</p>



<p>On the other hand, when I removed my blindfold after 24 hours, I experienced a <em>burst</em> of energy. Seriously, it was like I had downed a double shot of espresso. It was like a switch had been flicked. The haziness and cobwebs were gone in an instant, and I felt the energy coursing through my body. I guess light has a big impact on me.</p>



<div><figure><img data-attachment-id="908" data-permalink="https://dormin.org/blind-man-2/" data-orig-file="https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg" data-orig-size="615,479" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;1604789422&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;1&quot;}" data-image-title="blind-man-2" data-image-description="" data-medium-file="https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg?w=300" data-large-file="https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg?w=615" src="https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg?w=615" alt="" srcset="https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg 615w, https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg?w=150 150w, https://dorminorg.files.wordpress.com/2020/11/blind-man-2.jpg?w=300 300w" sizes="(max-width: 615px) 100vw, 615px"></figure></div>



<h2><strong><span>Movement</span></strong></h2>



<p>I moved exactly how you’d expect… clumsily.</p>



<p>For the most part, I slowly walked around my apartment with a hand out to feel for walls and edges. Sometimes I’d get lazy and crawl just so it was easier. I know my apartment well enough that it wasn’t hard to get around, but every once in awhile I’d lose track of where I was and would be left slowly swinging my arm around searching for anything. It’s not a pleasant sensation.</p>



<p>Before the experiment, I had planned to pace around for fun, or maybe even do some exercise with the free time. But the confusion and especially the lethargy stopped all that. I just sat in my chair and didn’t move unless I needed to get a drink, go to the bathroom, or sleep.</p>



<p>I kind of wish I had done the experiment in an unfamiliar environment to add to the movement challenge, but oh well.</p>



<div><figure><img src="https://secure.img1-fg.wfcdn.com/im/99629273/compr-r85/1167/116715839/dual-flush-elongated-one-piece-toilet-seat-included.jpg" alt="DeerValley Dual-Flush Elongated One-Piece Toilet (Seat Included) &amp; Reviews  | Wayfair" width="729" height="729"></figure></div>



<h2><strong><span>Necessities</span></strong></h2>



<p>For food, I ate a big lunch at 10 AM before the experiment and then munched on dark chocolate throughout the night. I felt the heavy lethargy well before the lack of calories was an issue. I probably should have put some prepackaged meals in my fridge to eat, but I was worried about making a mess and not being able to clean up. Do I want ants? Because that’s how I get ants.</p>



<p>For drinks, I could manage to get to the kitchen and fill a cup with water when I needed to. I never took a full cup back to my chair just in case I knocked it over (clean up would be a nightmare). I also had some diet coke to serve as entertainment and put a little caffeine in me.</p>



<p>For the bathroom, I (a man) peed sitting down. I’m not ashamed to admit it.</p>



<div><figure><img src="https://imgaz2.staticbg.com/thumb/large/oaupload/banggood/images/F2/09/b934b522-e3e3-491d-b758-d0b92c259f0c.jpg" alt="Novel surreal melting distorted wall clock surrealist salvador dali style  wall clock amazing home decoration gift Sale - Banggood.com" width="802" height="801"></figure></div>



<h2><strong><span>Time</span></strong></h2>



<p>As part of the experiment, I never knew what time it was. This was intended to confuse me throughout the 24 hours, and it did, but it may have helped too. With no sense of time, it was easy to sit back and not think about it. Time drifted by and I existed. That was that.</p>



<p>I actually did ask Siri for the time once… it was late in the experiment, and it felt like I had put on the blindfold forever ago. As you’d expect, …</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://dormin.org/2020/11/08/the-blind-alone-and-confused-for-24-hours-challenge/">https://dormin.org/2020/11/08/the-blind-alone-and-confused-for-24-hours-challenge/</a></em></p>]]>
            </description>
            <link>https://dormin.org/2020/11/08/the-blind-alone-and-confused-for-24-hours-challenge/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25031774</guid>
            <pubDate>Mon, 09 Nov 2020 05:39:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Start with pen and paper]]>
            </title>
            <description>
<![CDATA[
Score 159 | Comments 86 (<a href="https://news.ycombinator.com/item?id=25031483">thread link</a>) | @sethetter
<br/>
November 8, 2020 | https://sethetter.com/posts/start-with-pen-and-paper/ | <a href="https://web.archive.org/web/*/https://sethetter.com/posts/start-with-pen-and-paper/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">
            


<article>
    
    <section>
        <p>tl;dr — If you feel unfocused, grab a pen and paper and start writing your thoughts down.</p>
<p>Is there a question you are stuck on? A ambiguous goal you're trying to accomplish? Maybe a task you know you need to do but from which you keep getting distracted?</p>
<p><strong>Nothing will provide focus like pen and paper.</strong></p>
<p>It's all too easy these days to have a clear intention only to be sidetracked by the whirlpool of apps and services clawing for our attention on our devices.</p>
<p>It helps to take the time to groom our notification settings for importance and timeliness, but a digital device that we can use to complete nearly any task will never stand up to pen and paper in terms of it's ability to provide focus.</p>
<p>My thoughts are a constant whirlwind, I'm certainly more distractible than most, and interacting with nearly any online service only fuels that fire. So how can I get anything done if I'm unable to control my focus?</p>
<p><strong>Pen and paper.</strong> Whenever I catch myself stuck in the whirlpool, feeling not-great because I <em>know</em> I'm not doing what I want to be doing, or what I should be doing, I step away, grab pen and paper, and start writing.</p>
<p>The simple act of writing can focus my thoughts and attention in a way that nothing else can. Free from distractions, just a canvas to pour my thoughts into, and turn them into something with a sense of direction and purpose.</p>
<p>Writing is like a superpower to me. If there's any task I want to accomplish, the first step is always to write it down. Anytime I need to recenter myself on that task, I simply return to paper.</p>
<p>Throughout my life I've found that the simplest solutions are often the most powerful. So far I've found no simpler solution to start tackling any problem than to simply write it down, and then keep on writing.</p>

    </section>
</article>


        </div></div>]]>
            </description>
            <link>https://sethetter.com/posts/start-with-pen-and-paper/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25031483</guid>
            <pubDate>Mon, 09 Nov 2020 04:33:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Cool Machine Learning Books]]>
            </title>
            <description>
<![CDATA[
Score 238 | Comments 15 (<a href="https://news.ycombinator.com/item?id=25031455">thread link</a>) | @ridddle
<br/>
November 8, 2020 | http://matpalm.com/blog/cool_machine_learning_books/ | <a href="https://web.archive.org/web/*/http://matpalm.com/blog/cool_machine_learning_books/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    
  <p>awhile ago i posted
   <a href="http://matpalm.com/blog/2010/08/06/my-list-of-cool-machine-learning-books/">my list of cool machine learning books</a>,
   but it's been awhile so it's probably time to update it...
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/mml.jpg"></p>
<p><b><a href="https://mml-book.github.io/">Mathematics for Machine Learning</a>
   by Marc Peter Deisenroth, A. Aldo Faisal &amp; Cheng Soon Ong.</b>
</p>
<p>this is my personal favorite book on the general math required for machine learning,
   the way things are described really resonate with me.
   available as a free pdf but i got a paper copy to support the authors after reading the
   first half.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/laalfd.jpg"></p>
<p><b><a href="http://math.mit.edu/~gs/learningfromdata/">Linear Algebra and Learning from Data</a>
   by Gilbert Strang.</b>
</p>
<p>this is gilbert's most recent work. it's really great, he's such a good teacher, and
   <a href="https://ocw.mit.edu/courses/mathematics/18-065-matrix-methods-in-data-analysis-signal-processing-and-machine-learning-spring-2018/">his freely available lectures</a>
   are even better. it's a shorter text than his other classic intro below with
   more of a focus on how things are connected to modern machine learning techniques.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/itla.jpg"></p>
<p><b><a href="https://math.mit.edu/~gs/linearalgebra/">Introduction to Linear Algebra</a>
   by Gilbert Strang.</b>
</p>
<p>this was my favorite linear algebra book for a long time before his 'learning from
   data' came out. this is a larger book with a more comprehensive view of linear algebra.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/ts.jpg"></p>
<p><b><a href="https://greenteapress.com/wp/think-stats-2e/">Think Stats: Probability and Statistics for Programmers</a> by Allen Downey.</b>
</p>
<p>this book focuses on practical computation methods for probability and statistics.
   i got a lot out of working through this one.
   it's all in python and available for free.
   ( exciting update! as part of writing this post i've discovered there's a new edition
   to read!)
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/dbda.jpg"></p>
<p><b><a href="https://sites.google.com/site/doingbayesiandataanalysis/">Doing Bayesian Data Analysis</a>
   by John Kruscgke</b>
</p>
<p>on the bayesian side of things this is the book i've most enjoyed working through.
   i've only got the first edition which was R and
   <a href="https://en.wikipedia.org/wiki/OpenBUGS">BUGS</a> but i see
   the second edition is R,
   <a href="http://mcmc-jags.sourceforge.net/">JAGS</a> and
   <a href="https://mc-stan.org/">Stan</a>.
   it'd be fun i'm sure to work through it doing
   everything in <a href="https://github.com/pyro-ppl/numpyro">numpyro</a>. i might do that in all
   my free time. haha. "free time" hahaha. sob.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/eosl.jpg"></p>
<p><b><a href="https://web.stanford.edu/~hastie/ElemStatLearn/">The Elements of Statistical Learning</a>
   by Hastie, Tibshirani and Friedman</b>
</p>
<p>this is still one of the most amazing fundamental machine learning books i've ever had.
   in fact i've purchased this book <em>twice</em> and given it away both times :/ i might buy another
   copy some time soon, even though it's been freely available to download for ages. an
   amazing piece of work.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/pgm.jpg"></p>
<p><b>
   <a href="https://mitpress.mit.edu/books/probabilistic-graphical-models">Probabilistic Graphical Models</a>
   by Daphne Koller &amp; Nir Friedman</b>
</p>
<p>this is an epic textbook that i'd love to understand better. i've read a couple of sections in
   detail but not the entire tome yet.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/praml.jpg"></p>
<p><b>
   <a href="https://www.microsoft.com/en-us/research/people/cmbishop/prml-book/">Pattern Recognition and Machine Learning</a>
   by Christopher Bishop</b>
</p>
<p>this is probably the best overall machine learning text book i've ever read. such a beautiful book
   and <a href="https://www.microsoft.com/en-us/research/uploads/prod/2006/01/Bishop-Pattern-Recognition-and-Machine-Learning-2006.pdf">the pdf is FREE FOR DOWNLOAD!!!</a>
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/mlapp.jpg"></p>
<p><b><a href="https://mitpress.mit.edu/books/machine-learning-1">Machine Learning: A Probabilistic Perspective</a> by Kevin Murphy</b>
</p>
<p>this is my second favorite general theory text on machine learning.
   i got kevin to sign my copy when he was passing my desk once but
   someone borrowed it and never gave it back :(
   so if you see a copy with my name on the spine let me know!
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/homl.jpg"></p>
<p><b><a href="https://www.oreilly.com/library/view/hands-on-machine-learning/9781492032632/">Hands-On Machine Learning with Scikit-Learn, Keras, and TensorFlow</a> by Aurélien Géron</b>
</p>
<p>this is the book i point most people to when they are interested in getting up
   to speed with modern applied machine learning without too much concern for the
   theory. it's very up to date (as much as a book can be) with the latest libraries
   and, most importantly, provides a good overview of not just neural stuff but fundamental
   <a href="https://scikit-learn.org/stable/">scikit-learn</a> as well.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/mle.jpg"></p>
<p><b><a href="http://www.mlebook.com/wiki/doku.php">Machine Learning Engineering</a> by Andriy Burkov</b>
</p>
<p>a great book focussing on the operations side of running a machine learning system. i'm a bit
   under half way through the free online version and very likely to buy a physical copy to finish
   it and support the author. great stuff and, in many ways, a more impactful book than any of
   the theory books here.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/itdm.jpg"></p>
<p><b><a href="https://www-users.cs.umn.edu/~kumar001/dmbook/index.php">Introduction to Data Mining</a>
   by Pang-Ning Tan, Michael Steinbach &amp; Vipin Kumar</b>
</p>
<p>this is another one that was also on my list from ten years ago and though it's section
   on neural networks is a bit of chuckle these days there is still a bunch of really
   great fundamental stuff in this book. very practical and easy to digest. i also see there's
   a second edition now. i reckon this would compliment the "hands on" book above very well.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/salp.jpg"></p>
<p><b><a href="https://web.stanford.edu/~jurafsky/slp3/">Speech and Language Processing</a>
   by Dan Jurafsky &amp; James Martin</b>
</p>
<p>still the best overview of NLP there is (IMHO). can't wait to read the 3rd edition which
   apparently will cover more modern stuff (e.g. transformers) but until then, for the
   love of god though, please don't be one of those "this entire book is
   irrelevant now! just fine tune BERT" people :/
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/no.jpg"></p>
<p><b><a href="https://link.springer.com/book/10.1007/978-0-387-40065-5">Numerical Optimization</a>
   by Jorge NocedalStephen J. Wright</b>
</p>
<p>this book is super hard core and maybe more an operations
   research book than machine learning. though i've not read it cover to cover the
   couple of bits i've worked through really taught me a lot. i'd love to understand
   the stuff in this text better; it's so so fundamental to machine learning (and more)
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/dl.jpg"></p>
<p><b><a href="https://www.deeplearningbook.org/">Deep Learning</a>
   by Ian Goodfellow</b>
</p>
<p>writing a book specifically on deep learning is very dangerous since things move so fast but
   if anyone can do it, ian can... i think ian's approach to explaining neural networks
   from the ground up is one of my favorites. i got the first edition hardback but it's free to
   download from the website.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/pr.jpg"></p>
<p><b><a href="https://mitpress.mit.edu/books/probabilistic-robotics">Probabilistic Robotics</a>
   by Sebastian Thrun, Wolfram Burgard and Dieter Fox</b>
</p>
<p>when i first joined a robotics group i bought a stack of ML/robotics books and this
   was by far the best. it's good intro stuff, and maybe already dated in places given
   it's age (the 2006 edition i have) but i still got a bunch from it.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/tml.jpg"></p>
<p><b><a href="https://www.oreilly.com/library/view/tinyml/9781492052036/">TinyML</a>
   by Pete Warden &amp; Daniel Situnayake</b>
</p>
<p>this was a super super fun book to tech review! neural networks on microcontrollers?!?
   yes please!
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/ec.jpg"></p>
<p><b><a href="https://www.wiley.com/en-us/Evolutionary+Computation%3A+Toward+a+New+Philosophy+of+Machine+Intelligence%2C+3rd+Edition-p-9780471669517">Evolutionary Computation</a> by David Fogel</b>
</p>
<p>this is still by favorite book on evolutionary algorithms; i've had this for a loooong
   time now. i still feel like evolutionary approaches are due for a big big comeback
   any time soon....
</p>
<hr>


<h2>in the mail...</h2>
<p>the good thing about writing a list is you get people telling you cool ones you've missed :)
</p>
<p>the top three i've chosen (that are in the mail) are...
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/ciis.jpg"></p>
<p><b><a href="http://bayes.cs.ucla.edu/PRIMER/">Causal Inference in Statistics</a> by
   Judea Pearl, Madelyn Glymour &amp; Nicholas P. Jewell</b>
</p>
<p>recommended by <a href="https://twitter.com/animesh_garg">animesh</a> who quite rightly points out
   the lack of causality in machine learning books in the books above.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/itiala.jpg"></p>
<p><b><a href="https://www.cambridge.org/au/academic/subjects/computer-science/pattern-recognition-and-machine-learning/information-theory-inference-and-learning-algorithms?format=HB&amp;isbn=9780521642989">Information Theory, Inference and Learning Algorithms</a> by David MacKay</b>
</p>
<p>i've seen this book mentioned a number of times and was most recently recommended by
   my colleague <a href="https://twitter.com/danesherbs">dane</a> so it's time to get it.
</p>
<hr>
   <p><img src="http://matpalm.com/blog/imgs/2020/mlb/bmlpa.jpg"></p>
<p><b><a href="https://www.oreilly.com/library/view/building-machine-learning/9781492045106/">Building Machine Learning Powered Applications</a> by Emmanuel Ameisen</b>
</p>
<p>a number of people i worked with have enjoyed this. first recommended by another
   colleague <a href="https://twitter.com/davidcolls">dave</a>.
   looks to be on the practical side rather than the theory but that's ok some times :)
</p>

  </div></div>]]>
            </description>
            <link>http://matpalm.com/blog/cool_machine_learning_books/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25031455</guid>
            <pubDate>Mon, 09 Nov 2020 04:26:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How does the event loop work in JavaScript? [video]]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25031384">thread link</a>) | @krayonatan
<br/>
November 8, 2020 | https://yonatankra.com/how-does-the-event-loop-work/ | <a href="https://web.archive.org/web/*/https://yonatankra.com/how-does-the-event-loop-work/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="primary"><main id="main" role="main"><article id="post-599"><div><!-- .entry-meta --><div> <p><span><span>Estimated Reading Time: </span> <span>&lt; 1</span> <span>minute</span></span></p><figure><p><span><iframe width="640" height="360" data-src="https://www.youtube.com/embed/Nqx3rtv_dko?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span></p><figcaption>The event loop and your code talk from WarsawJS</figcaption></figure><p>On august 2020 I spoke at <a rel="noreferrer noopener" href="https://warsawjs.com/" data-type="URL" data-id="https://warsawjs.com/" target="_blank">WarsawJS</a>, explaining about the event loop and how it works.  I hope you will enjoy this talk.</p><p>If you prefer to read – <a href="https://yonatankra.com/the-event-loop-and-your-code/" data-type="post" data-id="299">here’s the blog post this talk is based on</a>.</p><p id="jp-relatedposts"><h3><em>Related</em></h3></p></div><!-- .entry-content --><!-- .entry-footer --></div></article><!-- #post-## --><p><h3>Enjoyed the article?</h3><h4>Sign up to my newsletter to enjoy more content:</h4></p>  <nav role="navigation" aria-label="Posts"><h2>Post navigation</h2></nav><!-- #comments --></main><!-- #main --></div></div>]]>
            </description>
            <link>https://yonatankra.com/how-does-the-event-loop-work/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25031384</guid>
            <pubDate>Mon, 09 Nov 2020 04:12:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A fun website that simulates fluid]]>
            </title>
            <description>
<![CDATA[
Score 302 | Comments 47 (<a href="https://news.ycombinator.com/item?id=25031304">thread link</a>) | @svikashk
<br/>
November 8, 2020 | https://paveldogreat.github.io/WebGL-Fluid-Simulation/ | <a href="https://web.archive.org/web/*/https://paveldogreat.github.io/WebGL-Fluid-Simulation/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                        <p>Try Fluid Simulation app!</p>
                        <p><a id="apple_link" target="_blank">
                                <img alt="Download on the App Store" src="https://paveldogreat.github.io/WebGL-Fluid-Simulation/app_badge.png">
                            </a>
                            <a id="google_link" target="_blank">
                                <img alt="Get it on Google Play" src="https://paveldogreat.github.io/WebGL-Fluid-Simulation/gp_badge.png">
                            </a>
                        </p>
                    </div></div>]]>
            </description>
            <link>https://paveldogreat.github.io/WebGL-Fluid-Simulation/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25031304</guid>
            <pubDate>Mon, 09 Nov 2020 03:54:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Attention Is My Most Valuable Asset for Productivity as a Software Developer]]>
            </title>
            <description>
<![CDATA[
Score 602 | Comments 237 (<a href="https://news.ycombinator.com/item?id=25030938">thread link</a>) | @zwbetz
<br/>
November 8, 2020 | https://zwbetz.com/attention-is-my-most-valuable-asset-for-productivity-as-a-software-developer/ | <a href="https://web.archive.org/web/*/https://zwbetz.com/attention-is-my-most-valuable-asset-for-productivity-as-a-software-developer/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main-content">
      <div>
        <div>
          <div>
            
  
  
  <p>
    
    
    
    <strong>Published: </strong>2020-11-08

    
    
      
      
        • <strong>Lastmod: </strong>2020-11-09

      
    
    
    
    
      <br>
      <span>
        <strong>Tags: </strong>
        
          
          
          
        
          
          
          
        
          
          
          
        
        <a href="https://zwbetz.com/tags/life/">life</a> • <a href="https://zwbetz.com/tags/attention/">attention</a> • <a href="https://zwbetz.com/tags/productivity/">productivity</a>
      
    </span>
  </p>
  
  
  
  

<p>Like a tightly written function, I prefer to exit early if no work should be done. So, if you disagree with these definitions and assumptions, now’s a good time to stop reading.</p>
<ul>
<li><strong>Sustainable productivity:</strong> The maximum rate of quality work output, without loss to the wellbeing of the developer</li>
<li><strong>Quality work:</strong> Software that meets requirements, is valuable to users, is maintainable, and is as bug free as possible</li>
<li><strong>Attention:</strong> The limited mental capacity to focus on a task</li>
<li>Sustainable productivity is desired</li>
<li>Attention is essential to sustainable productivity</li>
</ul>
<p>My high-level workflow looks something like this: identify the problem to solve; think on the problem and let ideas percolate; research, discuss, and experiment with these ideas; implement and test the solution; deliver and maintain the solution.</p>
<p>This cycle could repeat many times in a day. Or I could spend days stuck on a single cycle step. Every step in this cycle requires attention. The more attention I can devote, the more cycles I can complete, and the more productive I am.</p>
<p>How long you can focus on a task varies by person. Some people are very good at it out of the box, some people, not so much. Regardless of the hand you were dealt, I believe that focus (the act of devoting your attention) is a skill, and like any skill, can be improved with practice.</p>
<p>So, how can you increase your attention reserves? The most bang for your buck is to organize your outside world in such a way that it’s distraction free as possible. Once you do that, you’ll have more time to practice, and therefore more time to get better.</p>
<p><strong>Build physical strength.</strong> The damage done by sitting 8+ hours a day is underrated. You need a way to offset this damage, especially if you plan to work in this field for decades. Opinions abound on this topic, but I personally prefer deadlifts. There are few movements more primal than picking a heavy object off the ground and standing up with it. You can <a href="https://www.youtube.com/watch?v=wYREQkVtvEc">learn correct technique in little time</a>. I most like deadlifts because you can do them safely, at high weights, into old age. I also like the hand, back, and hip strength they give, to make it that much harder for sitting damage to have its way with you.</p>
<p><strong>Make your place of work boring and tidy.</strong> My office is a spare bedroom. The walls are blank. There’s no tv. There’s a desk, chair, laptop, laptop stand, keyboard, mouse, and mouse pad. There’s a window, which lets enough light in so that I don’t feel like I’m missing a beautiful day, but not too much light to cause screen glare. If I need to work with paper, it’s immediately filed somewhere when done. Like I said, boring and tidy.</p>
<p><strong>Make your smart phone dumb.</strong> My phone has all notifications disabled, except for calls and text messages. Well, and National Hurricane Center alerts, since I live in Louisiana. Unless you’re my wife, you know that I don’t respond to text messages immediately, that’s just how it is. I disabled my social media accounts some time ago. But if you have them, turning off notifications should help curve the urge to compulsively check them.</p>
<p><strong>Be an OS minimalist.</strong> Apps I use less commonly are a keypress combo away. Given this, my dock has only the apps I use on a daily basis:</p>
<ul>
<li>File system explorer</li>
<li>Internet browser</li>
<li>Terminal</li>
<li>Text editor for front-end code and notes</li>
<li>IDE for back-end code</li>
<li>IDE for database</li>
<li>Visual file differ for version control</li>
<li>Email client</li>
<li>Instant message client</li>
</ul>
<p>My desktop alternates between clean and dirty states. Files I’m currently working with live on the desktop. Then they’re filed away into sensible folders when done.</p>
<p><strong>Organize your browser bookmarks.</strong> When I read something useful that I may need to reference later, I file it under a general archive folder. Then more specific items get their own folders. Frequently accessed links are visible on my bookmarks bar under their own folder.</p>
<p><strong>Minimize meetings.</strong> Look, I know some things make sense to discuss face to face, or voice to voice. But if they don’t, then you don’t need a meeting. An email or instant message will suffice.</p>
<p><strong>Finally, use the <a href="https://en.wikipedia.org/wiki/Time_management#The_Eisenhower_Method">The Eisenhower Method</a> to categorize your tasks.</strong> Imagine a grid of 4 quadrants:</p>
<ul>
<li>Important and Urgent</li>
<li>Important and Not Urgent</li>
<li>Not Important and Urgent</li>
<li>Not Important and Not Urgent</li>
</ul>
<p>Important and Urgent tasks have to be dealt with. For me, these are usually major production issues.</p>
<p>Important and Not Urgent tasks should absorb the bulk of your time. For me, this is the plain old development work of implementing features, fixing bugs, and making existing code more maintainable and performant. Also included are building relationships with others and planning ahead.</p>
<p>Not Important and Urgent tasks are nasty attention thieves. They shout out to you in immediacy, but offer little value in return. You know what these are for you. For me, these are most often lazily asked questions, where the asker did not do their due diligence, and expects a top-notch answer immediately. Also included are last-minute meetings, and over-talkative coworkers.</p>
<p>Not Important and Not Urgent tasks are usually not known to your users. Take internal documentation updates as an example. Thing is, they’re an investment in yourself, which means a more productive future “you”. So don’t forget to show them some love in your spare moments.</p>
<p><strong>Further reading.</strong> If you don’t know who Cal Newport is, you’re missing out. He has a whole blog dedicated to this type of thing, and has written books such as <em>Deep Work</em> and <em>Digital Minimalism</em>. Here are some of my favorite articles by him:</p>
<ul>
<li><a href="https://www.calnewport.com/blog/2009/02/04/have-we-lost-our-tolerance-for-a-little-boredom/">Have We Lost Our Tolerance For a Little Boredom?</a></li>
<li><a href="https://www.calnewport.com/blog/2010/06/10/is-allowing-your-child-to-study-while-on-facebook-morally-equivalent-to-drinking-while-pregnant/">Is Allowing Your Child to Study While on Facebook Morally Irresponsible?</a></li>
<li><a href="https://www.calnewport.com/blog/2008/04/07/monday-master-class-how-to-reduce-stress-and-get-more-done-by-building-an-autopilot-schedule/">Monday Master Class: How to Reduce Stress and Get More Done By Building an Autopilot Schedule</a></li>
<li><a href="https://www.calnewport.com/blog/2009/11/24/are-passions-serendipitously-discovered-or-painstakingly-constructed/">Are Passions Serendipitously Discovered or Painstakingly Constructed?</a></li>
<li><a href="https://www.calnewport.com/blog/2018/06/08/jerry-seinfelds-closed-door/">Jerry Seinfeld’s Closed Door</a></li>
</ul>



  
  
  

  
  




          </div>
        </div>
      </div>
    </div></div>]]>
            </description>
            <link>https://zwbetz.com/attention-is-my-most-valuable-asset-for-productivity-as-a-software-developer/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25030938</guid>
            <pubDate>Mon, 09 Nov 2020 02:39:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Windows 10 Installer Dystopia]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25030752">thread link</a>) | @brenns10
<br/>
November 8, 2020 | https://brennan.io/2020/11/08/windows-10-nightmare-edition/ | <a href="https://web.archive.org/web/*/https://brennan.io/2020/11/08/windows-10-nightmare-edition/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

  
<p><em>Stephen Brennan • 08 November 2020</em></p><p>A few days ago I had the displeasure of helping a friend reinstall Windows on
their laptop, which had previously contained Ubuntu. The reason for their switch
isn’t that important – although I helpfully suggested keeping Linux, it was
their machine and their decision. I didn’t expect the process to be particularly
difficult. After all, I work on operating systems for a living now, so I didn’t
expect any trouble. But to my surprise, I encountered a nearly dystopian
situation before I even got to the desktop.</p>

<p>I started the process by creating a bootable USB from the ISO downloaded from
Microsoft’s <a href="https://www.microsoft.com/en-us/software-download/windows10ISO">download page</a>. It feels weird writing that, but yes, the ISO
seems to be freely, easily downloaded. No product key was required to download,
or even install. The USB creation process was not easy (Microsoft suggests using
Windows to create the bootable USB, a chicken-and-egg problem if ever there was
one). It seems that the standard <code>dd</code> process used by every Linux vendor does
not work here – instead you need to get the correct magic incantations of
partition types and filesystems, and then copy files from the ISO file into the
USB. I ended up falling back to a tool called <a href="https://github.com/slacka/WoeUSB">WoeUSB</a> to do this process,
after three failed manual attempts.</p>

<p>The real fun started after I (finally) successfully booted from the USB and
started through the installation wizard. Cortana loudly greeted me, telling me
she’d walk me through the installation process using my voice. I must say that,
while I don’t really care to have a voice assistant guide me through OS
installation, I can see it helping a lot of folks out there, if it works
properly (I did not test it). I’m glad that Microsoft is at least trying this
out!</p>

<p>I went through the (impressively quick) installation process, and the laptop
automatically rebooted. It prompted me to connect to the Internet, which I
foolishly did. Directly after connecting to WiFi, the wizard asked me to login
with a Microsoft account!</p>

<p>I chuckled internally. “Classic Microsoft, asking for a silly cloud login just
to use Windows,” I thought. I don’t know my friend’s MS account login, and even
if I did I wouldn’t link their OS account to some cloud account!</p>

<p>I searched for the cancel button, but couldn’t find one. I tried to submit the
form with empty username and password, but that didn’t work. Realizing that I
might be trapped, I got my phone and fired up Google.  Surely, Microsoft
wouldn’t make it <em>impossible</em> to setup a new PC without linking it to their
cloud, right?</p>

<p>I found an <a href="https://helpdeskgeek.com/windows-10/how-to-setup-windows-10-without-a-microsoft-account/">article</a> which said that, by disabling the Internet connection I
had just configured, I could skip the login process. So, I hit the back button
on the installer. The wizard animated for a moment as if it was working, and
then showed me the same login screen. No matter how many times I hit the back
button, the wizard did not let me go back to the Internet configuration page!</p>

<p>“They haven’t got me yet,” I thought. I held down the power button and rebooted
the computer. Certainly on reboot I would restart the process, and could skip
the Internet configuration, right?</p>

<p>The laptop rebooted to a Microsoft Account login page.</p>

<p>So, I did what any self-respecting, conscientious friend would do for a friend:
<strong>I reinstalled Windows all over again.</strong>  This time, during the setup wizard
after the reboot, I skipped configuring an Internet connection. I was greeted
with this page:</p>

<p><img src="https://brennan.io/images/win10-nointernet.png" alt="win10-nointernet"></p>

<p>This, to me, felt kind of chilling. After all, it’s not like I asked not to use
a MS account. All I did was decide not to configure Internet on my first boot,
which has nothing to do with linking a MS account. After all, maybe I just don’t
have Internet access at the moment, or maybe I forgot the WiFi password.  Why
should the installer lecture me about the benefits of a MS account when simply I
did not configure WiFi? It felt obvious that this was a bald-faced statement:
“we know you’re avoiding our login process, and in a few years we’ll get rid of
this loophole too. Welcome to the future!”</p>

<p>I clicked the text (which wasn’t highlighted as a link or as a button) which
said “Continue with limited setup”. This was an odd phrasing, given that none of
the operating system features I’m familiar with (scheduling processes, providing
a unified interface to hardware devices, etc) requires a cloud account.</p>

<p>At this point, I was allowed to create a “local account” for my friend, and
finish the setup. I was presented with a list of preferences, all helpfully
enabled by default:</p>

<p><img src="https://brennan.io/images/win10-privacy.png" alt="win10-privacy"></p>

<p>The irony here is beautiful. Ads “may be less relevant to you”. The only entity
this harms is Microsoft, being able to avertise at you less (within your very
<em>operating system</em>, no less). Why should they bill this as a negative?</p>

<p>After disabling all of the toggles, the desktop loaded for the first time, I
noticed the following at the bottom right:</p>

<p><img src="https://brennan.io/images/win10-edge.png" alt="win10-edge"></p>

<p>I used MS Edge to install Firefox, and closed it out. On reboot, the login
screen contained two advertisements (!!!) for MS Edge. I returned the laptop to
my friend, grateful I didn’t have to use this horror show of an operating
system.</p>

<h2 id="why-does-this-even-matter">Why does this even matter?</h2>

<p>I spend my workday working on operating systems. Don’t get me wrong, I’m new to
the field, and I have a lot to learn. But as far as I know, <strong>there is no
feature in a modern operating system which requires a cloud account login.</strong> (I
would love to be educated if this claim is false, please get in touch!)</p>

<p>I used to spend my career working on machine learning and data analysis. One
thing I remember from my “past life” is that <strong>there’s nothing better than
linking different types of identifiers together.</strong> If Microsoft can track you by
your “Windows installation ID” and also by your “Microsoft Account”, then <em>of
course</em> they want to link those two identifiers together.</p>

<p>More links means more data about you. What applications you run, what sites you
visit, etc. An operating system as at the root of what you trust when you use a
computer. Do you use online banking? Your operating system can read the password
to your bank account, the balances, and more, directly out of memory! I’m not
suggesting that Windows does that – I just want to illustrate the sort of trust
you implicitly use every time you login to your bank account on Windows (or Mac
OS for that matter). But maybe Microsoft just looks at how frequently you login
to your computer, or what sites you’re interested in. What DNS queries does your
OS resolve? What IP addresses have you used in the last 90 days?</p>

<p>All of the data which is obvious to your operating system, can be linked to your
personal identity when you connect it to a cloud account. Don’t get me wrong,
even if you don’t connect it to a cloud account, you still are getting
incredible amounts of telemetry and tracking recording your every move. But why
would you voluntarily give more links and data to Microsoft?</p>

<p>I don’t think most people understand the sort of data they’re giving over to
Microsoft when they login and use Windows. These dark patterns that Microsoft
employs are sickeningly obvious, and really difficult to avoid. Why would I
trust a company that tries to manipulate its customers into such total data
collection, to be responsible with the data it receives?</p>

<p>I can’t imagine how frustrating it must be to be an operating system developer
at Microsoft. I have a lot of respect for the operating system kernel they make.
It seems to be one of the few major non-Unix like kernels out there. It seems
fascinating and I’d love to learn more about it. But it must be frustrating to
see the product of your hard work go out packaged with software capable of
collecting and tracking your users’ every move, and thrown together with an
installer intent on forcing them to submit to this data collection.</p>



<hr>



  
  

  </div></div>]]>
            </description>
            <link>https://brennan.io/2020/11/08/windows-10-nightmare-edition/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25030752</guid>
            <pubDate>Mon, 09 Nov 2020 02:02:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Big-O]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25030390">thread link</a>) | @dleskosky
<br/>
November 8, 2020 | https://www.danielleskosky.com/big-o/ | <a href="https://web.archive.org/web/*/https://www.danielleskosky.com/big-o/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article aria-label="Big-O"><div>
<div><figure><img loading="lazy" width="2240" height="1260" src="https://www.danielleskosky.com/wp-content/uploads/media-uploads/bigO/bigo-banner.png" alt="Big O Banner"></figure></div>


<p>Big-O is pretty important.&nbsp; It is the metric that is used to describe the efficiency of algorithms.&nbsp; Having a thorough understanding of Big-O is crucial for ensuring that algorithms are as efficient as possible.&nbsp; Let’s learn more about this fundamental computer science topic.</p>


<h2>What is Big-O?</h2>


<p>Imagine that there is a ship builder.&nbsp; Her name is Andrea.&nbsp; She makes big ships and small ships for a port city.&nbsp; She can make the small ships pretty quickly, but the bigger ships take longer.&nbsp; The amount of&nbsp;<strong>time</strong> that it takes her to build a ship is proportional to the&nbsp;<strong>size</strong> of the ship.&nbsp;&nbsp;</p>
<p>Andrea is also a pirate.&nbsp; She is known to steal other peoples’ ships.&nbsp; She usually does her pirating in a port town that is 10 days worth of travel by land and 5 days of travel back with the stolen ship, so 15 days round trip.&nbsp; The port town that she pirates from always has the ship size that she is looking for.&nbsp;</p>
<p>If a customer asks Andrea to build a ship, she has two options.&nbsp; She can either build the ship or she could put on her pirate hat and go steal a ship.&nbsp;&nbsp;</p>
<p>So if someone wants Andrea to build a ship for them, which option should Andrea choose?&nbsp; That’s right!&nbsp; It depends.</p>
<ul>
<li><strong>Build the Ship: O(s):</strong>&nbsp; where s is the size of the ship.&nbsp; This is <strong>linear</strong> time.&nbsp; The time that it takes to build the ship increases linearly depending on the size of the ship.&nbsp;</li>
<li><strong>Steal the Ship: O(1):&nbsp;&nbsp;</strong>this is <strong>constant</strong> time.&nbsp; It doesn’t matter how big or small the ship is.&nbsp; It will always take Andrea 15 days to get the ship back to the customer.&nbsp;&nbsp;</li>
</ul>
<p>So Andrea should build the ship if she can get it done in less than 15 days.&nbsp; If the ship is big enough that it would take longer than 15 days to build, then Andrea should go steal the ship.&nbsp;</p>
<p>On a side note, this blog does not condone stealing and Andrea should really rethink her life of crime.</p>
<p>Here is a graph that represents the relationship between linear O(s) and constant O(1) time:</p>


<div><figure><img loading="lazy" width="532" height="484" src="https://www.danielleskosky.com/wp-content/uploads/media-uploads/bigO/constant-linear.png" alt="Constant v linear"></figure></div>


<p>There are many more possible runtimes that can occur besides linear and constant.&nbsp; Here is a graph that shows some of the more commonly-used runtimes:</p>


<figure><img loading="lazy" width="1618" height="1130" src="https://www.danielleskosky.com/wp-content/uploads/media-uploads/bigO/complexity-chart.png" alt="Complexity Chart"></figure>


<p>The above complexity chart comes from the <a href="https://www.bigocheatsheet.com/" target="_blank" rel="noopener noreferrer">Big-O Cheatsheet</a> website.&nbsp; Definitely a useful resource!</p>


<h2>The Three Cases</h2>


<p>Let’s use quick sort as an example.&nbsp; Quick sort picks a random element as a pivot and then swaps the values so that the elements less than the pivot appear before the elements that are greater than the pivot.&nbsp; Then it uses recursion to further sort the left and right sides.&nbsp; Learn more about quick sort <a href="https://www.geeksforgeeks.org/quick-sort/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<ul>
<li><strong>Best Case:</strong>&nbsp; The best case means that the algorithm is given the most ideal data.&nbsp; If all elements are equal in the array then quick sort will just have to traverse the array once.&nbsp; Traversing an array of <strong>N</strong> elements will give a runtime of&nbsp;<strong>O(N)</strong>.</li>
<li><strong>Worst Case:</strong>&nbsp; The worst case means that the algorithm is given the least ideal data.&nbsp; With quick sort, it could happen that the pivot is repeatedly the biggest element in the array.&nbsp; If this were to happen then instead of the subarray being recursively divided in half each time, the subbarray would only be reduced by one element.&nbsp; This would give a runtime of&nbsp;<strong>O(<b><i>N</i><sup>&nbsp;2</sup></b>)</strong>.</li>
<li><strong>Expected Case:</strong>&nbsp; Typically instead of having a worst case or a best case you are more likely to have an expected case.&nbsp; Sometimes the pivot will be high and sometimes the pivot will be low, but over time they will average each other out.&nbsp; This will give a runtime more close to&nbsp;<strong>O(N log N)</strong>.</li>
</ul>
<p>The best case runtime usually isn’t of too much interest when analyzing an algorithm.&nbsp; The&nbsp;<strong>worst</strong> and&nbsp;<strong>expected&nbsp;</strong>cases are the ones that need to be considered.</p>


<h2>Space Complexity</h2>


<p>Space complexity is used to describe the total amount of memory that an algorithm uses in respect to the input size of the algorithm.&nbsp;&nbsp;</p>
<p>If an algorithm requires an array of size <em>n</em>, this will require O(n) space.&nbsp; If there is a two dimensional array of size&nbsp;<em>n </em>by <em>n, </em>then O(n<sup>2</sup>) space is required.</p>


<h2>Some Useful Big-O Tips</h2>


<p>There are a couple of tips that you should keep in the back of your mind when you are working on finding the Big-O.&nbsp; Here they are:</p>
<ul>
<li><strong>No constants</strong></li>
<li><strong>No non-dominant terms</strong></li>
<li><strong>Consider multiple runtimes</strong></li>
</ul>


<h2>No Constants</h2>


<p>With Big-O time the constants are not taken into consideration.&nbsp;</p>
<blockquote>
<p>Big-O notation doesn’t care about constants because Big-O notation only describes the long-term growth rate of functions, rather than their absolute magnitudes.”&nbsp;&nbsp;</p>
</blockquote>
<p>An algorithm that might seem to be <em>O(2N)</em> is actually only <em>O(N).&nbsp; </em>Here is a <a href="https://stackoverflow.com/questions/22188851/why-is-the-constant-always-dropped-from-big-o-analysis#:~:text=Big%2DO%20notation%20doesn't,rather%20than%20their%20absolute%20magnitudes.&amp;text=A%20function%20whose%20runtime%20is%20n2%20%2F%202%20will%20be,runtime%20is%20just%20n2." target="_blank" rel="noopener noreferrer">Stack Overflow post</a> that does a pretty good job of describing it.&nbsp;</p>
<p>Take a look at some code:</p>

<pre title="">int min = Integer.MAX_VALUE;
int max = Integer.MIN_VALUE;
for (int x : array) {
    if (x &lt; min) {
        min = x;
    }
    if (x &gt; max) {
        max = x;
    }
}
</pre>

<p>The runtime is O(array.length) or O(N).&nbsp;</p>
<p>Let’s take look at some more code:</p>

<pre title="">int min = Integer.MAX_VALUE;
int max = Integer.MIN_VALUE;
for (int x : array) {
    if (x &lt; min) {
        min = x;
    }
}
for (int x : array) {
    if (x &gt; max) {
        max = x;
    }
}
</pre>

<p>Your first intuition might to be assume that because there are two for loops that iterate the length of the array that the runtime must be O(2N).&nbsp; Don’t fall into this trap!&nbsp; The runtime is O(N).&nbsp; Remember to drop the constant!</p>


<h2>No Non-Dominant Terms</h2>


<p>What if you get a runtime like O(<i>N</i><sup>&nbsp;2</sup> + N)?&nbsp; What should we do then?&nbsp; Well, if you were able to deduce that we should drop the non-dominant term, then congratulations!&nbsp;&nbsp;</p>
<p>Consider the runtime O(<i>N</i><sup>&nbsp;2</sup> + <i>N</i><sup>&nbsp;2</sup>).&nbsp; This is the same as O(2<i>N</i><sup>&nbsp;2</sup>).&nbsp; We know that we should not include constants in our runtimes.&nbsp; So if one of the <i>N</i><sup>&nbsp;2</sup> terms is ignored then we can ignore the N in O(<i>N</i><sup>&nbsp;2</sup> + N) as well.&nbsp;&nbsp;</p>
<ul>
<li>O(<i>N</i><sup>&nbsp;2</sup> + N) becomes O(<i>N</i><sup> 2</sup>).</li>
<li>O(N + logN) becomes O(N).</li>
<li>O(5*2<sup>N</sup> + 1000N<sup>100</sup>) becomes O(2<sup>N</sup>).</li>
</ul>


<h2>Consider Multiple Runtimes</h2>


<p>If we had to iterate through two arrays of the same length N then we could say that the runtime was O(N) (remember to drop constants!).&nbsp; However what happens if the arrays are of different lengths?&nbsp;&nbsp;</p>
<p>Take a look at some code:</p>

<pre title="">for (int a : arrA) {
    print(a);
}

for (int b : arrB) {
    print(b);
}
</pre>

<p>We are iterating through two arrays of different lengths.&nbsp; The runtime is O(A + B).&nbsp; Both runtime lengths must be considered!</p>
<p>Let’s take a look at some more code:</p>

<pre title="">for (int a : arrA) {
    for (int b : arrB) {
        print(a + "," + b);
    }
}
</pre>

<p>If the arrays were of equal length we could say that the runtime was O(<i>N</i><sup>&nbsp;2</sup>).&nbsp; However, the arrays are different lengths.&nbsp; This means that for every element of A, arrB will be iterated through.&nbsp; This results in a runtime of <br>O(A * B).</p>


<h2>Thanks!</h2>


<p>Thanks for reading my post.&nbsp; I hope that you found it useful.&nbsp; Once you understand the material presented here, be sure to continue your learning about Big-O.</p>
<p>Here are some topics that you should explore next:</p>
<ul>
<li><a href="https://hackernoon.com/what-does-the-time-complexity-o-log-n-actually-mean-45f94bb5bfbf" target="_blank" rel="noopener noreferrer">Log N Runtimes</a></li>
<li><a href="https://yourbasic.org/algorithms/time-complexity-recursive-functions/" target="_blank" rel="noopener noreferrer">Recursive Runtimes</a></li>
<li><a href="https://yourbasic.org/algorithms/amortized-time-complexity-analysis/" target="_blank" rel="noopener noreferrer">Amortized Time</a></li>
</ul>
<p>Thanks again!</p><!--<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
			xmlns:dc="http://purl.org/dc/elements/1.1/"
			xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
		<rdf:Description rdf:about="https://www.danielleskosky.com/big-o/"
    dc:identifier="https://www.danielleskosky.com/big-o/"
    dc:title="Big-O"
    trackback:ping="https://www.danielleskosky.com/big-o/trackback/" />
</rdf:RDF>-->
</div></article></div>]]>
            </description>
            <link>https://www.danielleskosky.com/big-o/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25030390</guid>
            <pubDate>Mon, 09 Nov 2020 00:35:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mapping the Underground: Supervised Discovery of Cybercrime Supply Chains [pdf]]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25030329">thread link</a>) | @stjo
<br/>
November 8, 2020 | https://damonmccoy.com/papers/ecrime2019.pdf | <a href="https://web.archive.org/web/*/https://damonmccoy.com/papers/ecrime2019.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to retrieve article]]>
            </description>
            <link>https://damonmccoy.com/papers/ecrime2019.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25030329</guid>
            <pubDate>Mon, 09 Nov 2020 00:23:34 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Onboarding is not a one way street]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25030054">thread link</a>) | @bored_hacker
<br/>
November 8, 2020 | https://boredhacking.com/onboarding-is-not-a-one-way-street/ | <a href="https://web.archive.org/web/*/https://boredhacking.com/onboarding-is-not-a-one-way-street/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><header><h3><a href="https://boredhacking.com/">Bored Hacking</a></h3></header><main><p>November 08, 2020<!-- --> | <b>4<!-- --> min read</b></p><div><p>Onboarding can be a very hectic and stressful time when you are starting a new job. New coworkers to meet, new codebases to learn, new languages to learn, new technologies, new processes, and the list can go on and on. Good onboarding materials and processes can go a long way when you’re first starting out. However, it shouldn’t just be a one way street. Onboarding should be a collaborative and incremental process that every new hire(and employee) actively contributes to. Things change from onboarding class to onboarding class, especially in a fast moving startup. It is therefore not only up to the existing members but also the new hires to contribute to the onboarding experience and documentation to keep it up to date and make it better overtime. Here are some recommendations for making onboarding not only productive for you but also better for future new hires.</p>
<h2>Take Your Time to Onboard</h2>
<p>Onboarding isn’t a race to the finish line. It can feel like you need to onboard as quickly as possible and be productive right away. However, you have to remember that Rome wasn’t built in a day and this time is important to build a good foundation for the rest of your time at the company. You don’t want to jump in before you’re ready and struggle to keep up. Take your time to properly onboard, and learn as much as you can during this time. Your team will be understanding that you are onboarding and shouldn’t feel like you need to be productive from day 1. Although there is generally a set time period for new hires to still be onboarding, the first month or two generally depending on your company. Take full advantage of your expected onboarding period. When you run into something you don’t know or haven’t seen before, take the time to really dig into it and learn it. Do your own research or ask teammates about it and make sure you fully understand it. Once again, this will pay off in the future and help you compound your knowledge as you continue to learn and work at the company.</p>
<h2>Write and Update Documentation</h2>
<p>As you are onboarding hopefully there is already some documentation on how to at the very least setup local development. Depending on your company, you may also have documentation on team specific information, common tasks, etc. Find out what your company uses to store documentation(Google Drive, Github, Notion, Confluence, Dropbox Paper, etc.) and look through it for even more documents. As you go through this documentation, if there’s anything that doesn’t make sense or is outdated make sure to update the documentation. And if you realize there isn’t any documentation for something you encountered then you should write it! Anything you do while onboarding that didn’t have clear directions or documentation, feel free to write it up yourself. Even once you are done onboarding, you should continue this. Every little improvement will benefit someone else down the road and make them productive quicker, multiplying your effect and increasing overall productivity.</p>
<h2>Take Notes During Onboarding</h2>
<p>Take notes of things that went well during your onboarding and things that could have gone better. These will be important for improving the situation for the next hire(s). Take these notes to your manager and talk through the good and bad. This will help the organization understand what they are doing well and what they can do to make it better for the next hire on your team. Your manager will want to make sure they are doing everything they can to help you onboard better and improve the situation for the future.</p>
<h2>Ask Questions</h2>
<p>Asking questions and getting good answers is incredibly important during onboarding. You may get blocked often while onboarding because there are a lot of unknowns and that’s okay. But don’t wait too long to unblock yourself. One big thing to remember is, you should never hesitate to reach out to someone because they seem too busy. They may be busy but they will normally make the time to help onboard new people. Although not all onboarding buddies may be okay with constant interruptions, it is reasonable that you should try and limit their context shifting. Therefore, setup time to talk with your onboarding buddy or teammate. Setting up time can help limit this but also ensure you get your questions answered. At first this should probably be a set time daily for the first week, but as you continue to onboard it can be less often.</p>
<h2>Good Onboarding and Helping Out New Hires is a 10X Situation</h2>
<p>The 10x engineer is often talked about in tech and seen as a unicorn of sorts. For those not familiar, it was commonly thought that a 10x engineer performed 10 times as efficiently as other engineers, performing the work of 10 engineers. However, I don’t think that a 10x engineer should only be more efficient but I think 10x engineers are engineers who help 10X the learning of other engineers as well. A 10x engineer helps their whole team be more efficient by teaching and mentoring them. This applies directly to onboarding and new hires. The faster new hires onboard the faster they can be productive. Spreading information to more people makes everyone better and creates a cycle of spreading information, which can lead not only to a 10x situation but a 100x situation where multiple people within your org are increasing their knowledge and productivity by 10x. The real “unicorn” engineers are the ones who lift up the whole organization or team, and onboarding is a key component of that. Everyone should realize the importance of a good onboarding period for new hires and how it can help the organization as a whole.</p></div><hr><ul><li><a rel="prev" href="https://boredhacking.com/starting-a-new-elixir-project/">Starting a new Elixir Project</a></li><li></li></ul></main></div></div>]]>
            </description>
            <link>https://boredhacking.com/onboarding-is-not-a-one-way-street/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25030054</guid>
            <pubDate>Sun, 08 Nov 2020 23:26:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Restoring a 37 Year-Old IBM F Mechanical Keyboard]]>
            </title>
            <description>
<![CDATA[
Score 143 | Comments 75 (<a href="https://news.ycombinator.com/item?id=25029571">thread link</a>) | @opsdisk
<br/>
November 8, 2020 | https://blog.opsdisk.com/restoring-a-37-year-old-ibm-model-f-mechanical-keyboard.html | <a href="https://web.archive.org/web/*/https://blog.opsdisk.com/restoring-a-37-year-old-ibm-model-f-mechanical-keyboard.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <p>I wanted to share my journey from start to finish to restore a 1983 IBM Model F XT mechanical keyboard to it's former glory.  It includes the steps, mistakes, and additional hardware required to make it functional with a modern computer.  This blog post is dedicated to my dad for teaching me about computers.</p>
<p><img alt="original.jpg" src="https://blog.opsdisk.com/images/keyboard/original.jpg"></p>

<p>A few months ago, my dad asked if I was interested in taking ownership of his <a href="https://en.wikipedia.org/wiki/IBM_Personal_Computer">IBM model 5150 PC</a>.  Without hesitation, I said "yes!".  The first project I wanted to tackle was to restore the
<a href="https://en.wikipedia.org/wiki/Model_F_keyboard">1983 Model F XT mechanical keyboard</a> keyboard.  In a sentimental and
journeyman/apprentice-sense, it felt like my dad was passing on the tools of his craft to continue the family line of
computer work and I couldn't pass that up.</p>
<p><img alt="datestamp.jpg" src="https://blog.opsdisk.com/images/keyboard/datestamp.jpg"></p>

<p>For those of you unfamiliar with the IBM Model F, <a href="https://www.modelfkeyboards.com/">modelfkeyboards.com</a> summarizes it
nicely:</p>
<blockquote>
<p>The IBM Model F keyboards not only used the best switches, the materials used in their production (well over 5lbs of
steel and other metals) means they will be working as good as new when it’s time to pass it on to your grandchildren.
The problem...they just aren't made that way any more.  The IBM Model F was discontinued in the 1980's.  If you do
find a Model F, it will be some combination of dirty, broken and/or expensive, requiring hours of work to get it
working again!</p>
</blockquote>
<p>This tank of a keyboard weighs in at over 6 pounds, sounds like <a href="https://youtu.be/XTVeSCqYSmE?t=7">this</a>, and at the
time of production, retailed for $300-400 in 1982 ($800-1000 dollars adjusted in today's dollars!) according to this
<a href="https://www.youtube.com/watch?v=y9Jds326gks">review</a>.</p>
<p>The restoration did take a few hours and fortunately none of it involved a soldering iron or replacing any of the
electrical or physical components because it was already in great functioning shape...a true testament to the design.
Even cooler, this blog post was typed up using the restored Model F keyboard!</p>

<p>Before beginning the project, I discovered <a href="https://www.clickykeyboards.com/">ClickyKeyboards</a>, a site "Specializing in
the restoration and collection of model M keyboards", the successor to the Model F.  On ClickyKeyboards, there is a
section dedicated to the adapters and converters that may be required to make older 5-pin DIN plug keyboards compatible
with modern USB ports.  One of the companies mentioned on ClickyKeyboards is
<a href="https://www.hagstromelectronics.com/">Hagstrom Electronics</a>, which sells keyboard encoders and protocol converters.
Without looking too closely at the other products, I quickly purchased the
<a href="https://www.hagstromelectronics.com/keyboard-encoder-ke18-xtat-ps2-shp.html">KE18-XTAT-PS/2</a> which "converts an XT
keyboard into a PS/2 protocol keyboard" for $55.  I was ecstatic that there was at least something to get me into PS/2
land, because at that point I knew I could easily find a PS/2 to USB converter.</p>
<p>After the KE18-XTAT-PS/2 arrived, I quickly fired up an ancient box (yes, that is Windows 2000!) with a PS/2 input on
the motherboard.  I tested all the keys to ensure they still worked and they did!  With confirmation that the keyboard
still worked, it was time to start the restoration.</p>
<p><img alt="win2000.jpg" src="https://blog.opsdisk.com/images/keyboard/win2000.jpg"></p>

<p><img alt="original2.jpg" src="https://blog.opsdisk.com/images/keyboard/original2.jpg"></p>
<p>The first step was to remove the metal casing and see what the state of the board was underneath the keys.  There was
years worth of debris, coffee stains, and gunk that had to be removed.  In addition, there were a few spots with
corrosion on the board that needed to be addressed.</p>
<p><img alt="preclean.jpg" src="https://blog.opsdisk.com/images/keyboard/preclean.jpg"></p>
<p>Once the casing was off, I utilized compressed air to clean out the key bunkers and get rid of any loose nastiness.
Next, I tried using rubbing alcohol and Q-tips to try and remove some of the stickier stuff, but that didn't
really work.</p>

<p>I borrowed a rotary tool to buff out the corrosion.  I used one of the provided bits that had soft plastic tentacles to
try and buff out the corroded spots as gently as possible.  There are likely better and more appropriate bits, but it
did the job.  The rotary tool's power and RPMs were a bit overkill even on the lowest setting.  Ideally, I would have
used one with fewer minimum RPMs and a more precise bit to get all the spots.</p>
<p><img alt="buffing_tool_and_bit.jpg" src="https://blog.opsdisk.com/images/keyboard/buffing_tool_and_bit.jpg"></p>
<p><img alt="bit.jpg" src="https://blog.opsdisk.com/images/keyboard/bit.jpg"></p>
<p>I was using the rotary tool under a bright overhead desk lamp, and with the way the light was reflecting, I didn't
notice it was taking off the black finish and revealing the silver metal base.  At that point, I just decided to buff
off the finish where I could to make it look more uniform.  The silver metal is visible when the keys and cover are back
on it, but it looks fine.  Unfortunately, with the rotary head and bit size, I wasn't able to buff every last square
inch of the board, but I knew it'd be covered so I wasn't too concerned with it looking perfect.</p>
<p><img alt="allbuffed.jpg" src="https://blog.opsdisk.com/images/keyboard/allbuffed.jpg"></p>

<p><img alt="postbuffing.jpg" src="https://blog.opsdisk.com/images/keyboard/postbuffing.jpg"></p>
<p>There was still some residue stuck to the board that I wanted to remove.  I started out using a small eye glass
screwdriver to scrape it off, but it took some of the black finish off as well and didn't look that nice.  At that point,
a chemical pivot was required and I reached for the <a href="https://googone.com/">Goo Gone</a>, which I should have done from the
beginning.  The Goo Gone and a bit of elbow grease with Q-Tips did the trick in removing the stubborn gunk on the board.</p>
<p><img alt="postgoogone.jpg" src="https://blog.opsdisk.com/images/keyboard/postgoogone.jpg"></p>

<p>With the board in good shape, it was time to tackle the actual keys.  I first gave them a good wipe-down using desk
cleaning wipes, which removed most of the discoloration and stains.  However, they still didn't look as good as they
could, and I read that just soaking them in a bowl of dish soap and water for a few hours can do wonders...and it did.
They keys look brand new.</p>
<p><img alt="keybath.jpg" src="https://blog.opsdisk.com/images/keyboard/keybath.jpg"></p>
<p>One mistake I made after washing them was to not let them completely dry on the inside.  I placed the keys back on the
board too soon, and some water leaked onto a few of the springs causing a small amount of rusting (slightly visible in
the post-Goo Gone image).  I gave them another soap soak and used the compressed air to really get out the water.  I
also let them air dry for 1-2 days before putting them back on the board.</p>

<p>After successfully testing the actual keyboard and the restoration almost complete, it was time to search for a PS/2 to
USB cable.  On a whim, I was back on the Hagstrom Electronic site and noticed they already had a small box, the
<a href="https://www.hagstromelectronics.com/ke-xtusb-keyboard-encoder-shp.html">KE-XTUSB</a>, that converted the XT signal to USB,
and it was the same price.  They graciously allowed me to return the KE18-XTAT-PS/2 in exchange for the KE-XTUSB which
was the same price.  A few days later the KE-XTUSB arrived in the mail and I eagerly connected it to my current computer.</p>
<p><img alt="xtusb.jpg" src="https://blog.opsdisk.com/images/keyboard/xtusb.jpg"></p>

<p>Everything worked beautifully except for two keys.  The "s" key's spring mechanism would either not detect a key press
or would be stuck in the depressed state blasting "sssssssssssssssssssssssssssssssssssss" across the screen.  With a
bit of finagling, I got the key cap placed correctly so now it works like a champ.  The other key that has issues is the
accountant's "+" near the 10 key pad.  The spring had come off somehow and I super glued it back, but something still
isn't right and it fails to register key strokes.  Not a huge loss since "+" can be achieved with another key
combination.</p>
<p>Overall, I'm really impressed with how it looks and, when comparing it to <a href="https://www.youtube.com/watch?v=E2bAhxK76hc">this</a>
unboxing video of a never before opened Model F, it looks about the same!</p>
<p>If you have any questions or comments, hit me up on Twitter <a href="https://twitter.com/opsdisk">@opsdisk</a>.</p>
<p><img alt="final.jpg" src="https://blog.opsdisk.com/images/keyboard/final.jpg"></p>
            </section></div>]]>
            </description>
            <link>https://blog.opsdisk.com/restoring-a-37-year-old-ibm-model-f-mechanical-keyboard.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25029571</guid>
            <pubDate>Sun, 08 Nov 2020 22:09:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Took a Break from Ham Radio and Why I Came Back]]>
            </title>
            <description>
<![CDATA[
Score 17 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25029459">thread link</a>) | @parsecs
<br/>
November 8, 2020 | https://www.kj7nzl.net/blog/3-reasons-why-i-took-a-break-from-ham-radio-why-i-came-back/ | <a href="https://web.archive.org/web/*/https://www.kj7nzl.net/blog/3-reasons-why-i-took-a-break-from-ham-radio-why-i-came-back/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section id="content-pane">
  <div>
    
    <p>About three months ago I unconsciously or perhaps consciously lost interest in ham radio. This isn’t the first time this has happened to me, in fact this was what lead me to allow my license to lapse the first time in 2016. If it weren’t for a new coworker of mine showing interest in ham radio again after a twenty-five year absent; I presumably wouldn’t be writing this post now. His excitement about all of the recent advances that have been made since he was first license reminded me of the things I missed about ham radio. This forced me to reflect on the reasons that I stepped away from the hobby for nearly three months. After some time I narrowed it down to three primary reasons. Without further ado I present to you my three reasons I took a break from ham radio.</p>
<h2 id="1-2020-amsat-board-of-directors-election">1. 2020 AMSAT Board of Directors Election</h2>
<p>I love satellite operations! It was my primary reason for returning to the hobby earlier this year. Shortly after becoming licensed I joined AMSAT to support amateur radio in space. Little did I know there was an ongoing dispute among two newly elected board members and the rest of the board of directors. Apparently the dispute was over the access of to AMSAT’s finical records with the lengthy ordeal playing out like some pollical scandal with lawyers and secret audio recordings. The board of directors went as far as <a href="https://www.amsat.org/amsat-leadership-explains-2018-2020-legal-expenses/">releasing a statement</a> that was full of contempt for the two new directors. In turn Patrick Stoddard WD9EWK, one of the individuals at that center of this controversy <a href="http://amsat.wd9ewk.net/">released his own statement</a> on the events that transpired. All of this drama culminated with those who sided with Mr. Stoddard attempting replace three of the existing board members with there of their own candidates. Ultimately they were unsuccessful in their coup attempt, and I’ve exhausted all interest in being a part of AMSAT.</p>
<figure>
    <img src="https://www.kj7nzl.net/img/satellites/amsat-fm-0001.webp" alt="KJ7NZL working AO-92."> <figcaption>
            <p>KJ7NZL working AO-92</p>
        </figcaption>
</figure>

<h2 id="2-limited-radio-budget--limited-operating-options">2. Limited Radio Budget = Limited Operating Options</h2>
<p>Whether you want to admit it or not, ham radio is an expensive hobby. Sure you can purchase a Baofeng handheld for thirty-five dollars, but to really take advantage of all your license privileges you need to shell out some cold hard cash for either an HF rig or an all mode VHF/UHF radio. Initially, I wanted to get on the air as quickly and cheaply as possible to try my hand at working a few of the FM satellites, as a result I purchased an Arrow Antenna II and the Wouxun KG-UV8D Plus. To make a long story short, the Wouxun radio was garbage. Don’t believe me <a href="https://www.kj7nzl.net/blog/wouxun-kg-uv8d-plus-fm-satellites/">check out my review of the Wouxun KG-UV8D Plus</a>. After some time of fooling around with that dumb thing, I decided to purchase a Yaesu FT3D and I’m glad I did. On a side note, I should absolutely do a review of that thing since I’ve had it for about three months now and I’ve explored most everything the radio has to offer. With the KG-UV8D I was limited in how I could operate. With just supporting FM I really only could use the thing for satellites outside of using it to connect to any of the local repeaters in the area. On the other hand the Yaesu FT3D allowed me the ability to expore APRS and C4FM AKA System Fussion. This however came at the cost of three times the price of the KG-UV8D. All told, even after selling my KG-UV8D, I am about $600 into the hobby with an Arrow Antenna II, Yaesu FT3D, and Comet Dual Band HT antenna. Even with this setup I’m only able play around with FM satellites, APRS, and simplex/repeaters. I would have loved exploring some of the other areas of the hobby when I jumped back in the spring of this year, but discretionary funds were spread out among different things at the time.</p>
<figure>
    <img src="https://www.kj7nzl.net/img/aprs/aprs-001.webp" alt="KJ7NZL's Trip to Antelope Island State Park"> <figcaption>
            <p>KJ7NZL’s Trip to Antelope Island State Park</p>
        </figcaption>
</figure>

<h2 id="3-life-just-got-in-the-way">3. Life Just Got in the Way</h2>
<p>This year 2020 has been an unusual year for me. Between a global pandemic and finishing some of my basement, I’ve been very busy. As a result I’ve had little free time. What free time I’ve possessed has been divided between multiple hobbies with amateur radio taking a back seat most of the time. It’s my own fault really since I set out earlier this year with the goal of exclusively working FM satellites. I initial assumed it would be effortless to make time through out my day for a quick ten to fifteen minute pass. It made sense at the time; take a brief break, make a couple of contacts, and back to what I was doing before hand. But it turns out that FM satellite QSOs are hard work This in turn lead me to get frustrated very quickly and wish I could operate at my own pace whenever I felt like it. Just so you know, rarely do two FM satellite passes line up back to back when you want them two giving you a thirty to forty minute window of time in which to have fun. Looking back on my journey into ham radio, both the first time and second time, I should have just gone the HF route from the get go. Since I didn’t, I feel like I set myself up for disappointment. With very little motivation and other competing priorities it’s no wonder why I stepped away from ham radio as long I did.</p>
<figure>
    <img src="https://www.kj7nzl.net/img/radios/yaesu-ftdx-3000.webp" alt="Yaesu FTDX 3000"> <figcaption>
            <p>Yaesu FTDX 3000</p>
        </figcaption>
</figure>

<h3 id="moving-forward">Moving Forward</h3>
<p>So what does the future hold for me now that I’m interested in ham radio again? Well, Santa is coming to town, and he’s going to have a new Yaesu FTDX 3000 wrapped up under three for me. I’ll finally be able to dive head first into the world of HF. I have some ambitious plans too. I’d like to explore some of the lesser used digital modes like Hellschreiber, Olivia, and Contestia. I’ll still jump on the FT8 bandwagon, but ultimately I want to explore all the digital modes. I also want to <a href="https://www.kj7nzl.net/blog/learning-morse-code-series/">learn morse code</a>, which I’ve unsuccessfully started and begin working som CW. The Yaesu FTDX 3000 contains some exceptionally attractive features for CW operations that I really want to take advantage of. Another area that I’m going to focus on coming up soon will be building a MMDVM hotspot. Sure I could merely purchase a prebuilt one, but what the fun in that? All in all I think the rest of this year and next year is shaping up to be a excellent time for me to get back into ham radio.</p>

  </div>
</section></div>]]>
            </description>
            <link>https://www.kj7nzl.net/blog/3-reasons-why-i-took-a-break-from-ham-radio-why-i-came-back/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25029459</guid>
            <pubDate>Sun, 08 Nov 2020 21:56:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting Started with VMware ESXi on ARM with a Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25029404">thread link</a>) | @todsacerdoti
<br/>
November 8, 2020 | https://www.servethehome.com/getting-started-with-vmware-esxi-on-arm-with-a-raspberry-pi/ | <a href="https://web.archive.org/web/*/https://www.servethehome.com/getting-started-with-vmware-esxi-on-arm-with-a-raspberry-pi/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <!-- image --><div><figure><a href="https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735.jpg" data-caption="Raspberry Pi"><img width="696" height="522" src="https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-696x522.jpg" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-696x522.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-400x300.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-800x600.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-1068x801.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-560x420.jpg 560w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-80x60.jpg 80w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735-265x198.jpg 265w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151735.jpg 1163w" sizes="(max-width: 696px) 100vw, 696px" alt="Raspberry Pi" title="Raspberry Pi"></a><figcaption>Raspberry Pi</figcaption></figure></div>
            <!-- content --><p>Last month VMWare released what they have called <a href="https://blogs.vmware.com/vsphere/2020/10/announcing-the-esxi-arm-fling.html">ESXi Arm-fling.</a> This new release allows you to install the same ESXi you know and love on an ARM processor. VMWare has certified a few systems for datacenter use. They also have certified it for the Raspberry Pi 4, but only for what they call “Far Edge”.</p>
<p>Today we are going to perform the installation on a Raspberry Pi 8GB and do some testing. While we generally feel <a href="https://www.servethehome.com/introducing-project-tinyminimicro-home-lab-revolution/">ProjectTinyMiniMicro</a> may be a better option for some, there are many enthusiasts who sing the praises of the Raspberry Pi. The Pi has exceptional power efficiency, scalability, and a small footprint.<span id="more-48249"></span></p>
<figure id="attachment_48251" aria-describedby="caption-attachment-48251"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1-800x670.jpg" alt="Raspberry Pi 4" width="696" height="583" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1-800x670.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1-358x300.jpg 358w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1-696x583.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1-502x420.jpg 502w, https://www.servethehome.com/wp-content/uploads/2020/11/IMG_20201107_151215-1.jpg 1014w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48251">Raspberry Pi 4 CanaKit and a LovePI PoE HAT</figcaption></figure>
<p>Before we continue, it is worth noting that this installation is a little bit different than other Raspberry Pi installations. We will need a total of <strong>three</strong> different pieces of storage to complete this installation. You need a microSD card for the firmware, but in this guide that is ALL the microSD card will be used for. Then you will need a USB thumb drive to act as your VMWare installer. Finally, you will need a place to install VMWare to. While it is possible to install it to your microSD card, that is not officially supported. Instead, you want to look at a USB based solution or a network solution such as PXE or iSCSI.</p>
<h2>Preparing our Pi for ESXi</h2>
<p>You will need to grab the<a href="https://www.raspberrypi.org/downloads/noobs/"> NOOBS </a>image and&nbsp;burn it to your microSD card if you did not buy a kit with it preinstalled as we had. To do so you can utilize the <a href="https://www.raspberrypi.org/downloads/">Raspberry Pi Imager</a>.</p>
<p>When the NOOBs installer boots up, select the Raspberry Pi OS Lite (32-bit) option. You do not need the full desktop version. We are only using the OS to update the EEPROM and get some other updates out of the way.</p>
<figure id="attachment_48252" aria-describedby="caption-attachment-48252"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS-800x501.png" alt="N" width="696" height="436" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS-800x501.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS-400x251.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS-696x436.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS-670x420.png 670w, https://www.servethehome.com/wp-content/uploads/2020/11/NOOBS.png 921w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48252">NOOBS Selecting Raspberry Pi OS 32-bit</figcaption></figure>
<p>When the installation is completed, run the following commands:</p>
<pre><code>sudo rpi-eeprom-update -a
sudo reboot</code></pre>
<p>After you have completed the EEPROM update, we need to now update the firmware and switch to the community UEFI firmware. First, start by going to the Raspberry Pi <a href="https://github.com/raspberrypi/firmware">Github page</a> and download the latest firmware. Next, go to pftf’s UEFI <a href="https://github.com/pftf/RPi4">Github page</a>, and download it as well.</p>
<p>Safely shutdown your Pi and take the microSD card out. Next, plug your microSD card into a computer and prepare to update the files on it. To get started, we need to format the RECOVERY partition and rename it UEFI:</p>
<figure id="attachment_48259" aria-describedby="caption-attachment-48259"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/format.png" alt="Format" width="251" height="460" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/format.png 251w, https://www.servethehome.com/wp-content/uploads/2020/11/format-164x300.png 164w, https://www.servethehome.com/wp-content/uploads/2020/11/format-229x420.png 229w" sizes="(max-width: 251px) 100vw, 251px"><figcaption id="caption-attachment-48259">SD CARD Format for UEFI</figcaption></figure>
<p>Next, drag and drop the new files from the <strong>boot folder in the firmware-master</strong> onto the <strong>SD card</strong>. Start by going to the firmware-master folder and selecting everything. Once completed, you must remove the four files starting with the name “kernel”:</p>
<figure id="attachment_48260" aria-describedby="caption-attachment-48260"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/kernel.png" alt="Kernel" width="605" height="87" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/kernel.png 605w, https://www.servethehome.com/wp-content/uploads/2020/11/kernel-400x58.png 400w" sizes="(max-width: 605px) 100vw, 605px"><figcaption id="caption-attachment-48260">VMware ESXi Raspberry Pi Kernel in firmware-master</figcaption></figure>
<p>Next, do the same thing for the files from the <strong>UEFI firmware</strong>. Make sure you <strong>replace/overwrite</strong>&nbsp;the files with the updated ones.</p>
<figure id="attachment_48255" aria-describedby="caption-attachment-48255"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-800x347.png" alt="UEFI" width="696" height="302" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-800x347.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-400x173.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-1536x666.png 1536w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-696x302.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-1068x463.png 1068w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI-969x420.png 969w, https://www.servethehome.com/wp-content/uploads/2020/11/UEFI.png 1829w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48255">VMware ESXi Raspberry Pi UEFI Setup</figcaption></figure>
<p>Now, open the config.txt file in the UEFI drive. We need to modify it by adding a line</p>
<pre><code>gpu_mem=32</code></pre>
<p>You can now put the SD card back into your RPI.</p>
<h2>Setting up ESXi for ARM</h2>
<p>To get started you will need to navigate to <a href="https://flings.vmware.com/esxi-arm-edition#summary">VMware’s page</a> for ESXi for ARM. Once there you will need to create an account and download the ISO. You will need to burn this ISO to a separate USB thumb drive. To burn it to the drive, you can utilize <a href="https://rufus.ie/">Rufus</a>.</p>
<figure id="attachment_48258" aria-describedby="caption-attachment-48258"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/esxi.png" alt="Esxi" width="352" height="485" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/esxi.png 419w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-218x300.png 218w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-305x420.png 305w" sizes="(max-width: 352px) 100vw, 352px"><figcaption id="caption-attachment-48258">Rufus Esxi for Raspberry Pi</figcaption></figure>
<p>After you have burned the ISO to your thumb drive, you need to plug it into your Pi and turn it on. You will see a new UEFI boot menu, press escape, and get into the UEFI to make any changes.</p>
<p>Click on&nbsp;<strong>Device Manager&nbsp;</strong>and then click <strong>Limit Ram to 3GB</strong> and change it to <strong>Disabled</strong>.</p>
<figure id="attachment_48262" aria-describedby="caption-attachment-48262"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-800x557.png" alt="Unlimited RAM" width="696" height="485" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-800x557.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-400x279.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-696x485.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-603x420.png 603w, https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM-100x70.png 100w, https://www.servethehome.com/wp-content/uploads/2020/11/Unlimited-RAM.png 1034w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48262">Unlimited RAM</figcaption></figure>
<p>Press <strong>F10</strong> and save the change you made. Exit the UEFI and press <strong>Enter</strong> to boot to the USB drive. The system will then boot into the ESXi installer. One option for installing ESXi to an SSD, using something like a <a href="https://www.amazon.com/StarTech-com-SATA-USB-Cable-USB3S2SAT3CB/dp/B00HJZJI84/ref=sr_1_1_sspa?dchild=1&amp;keywords=usb+to+sata+startech&amp;qid=1604788276&amp;sr=8-1-spons&amp;psc=1&amp;spLa=ZW5jcnlwdGVkUXVhbGlmaWVyPUEySDJEUE9JUUgxQzlQJmVuY3J5cHRlZElkPUEwNTM2MTQ1RDA0VFA3V0lJUUZYJmVuY3J5cHRlZEFkSWQ9QTA3MzMzOTgzUzAwNTNCQkxWSk9XJndpZGdldE5hbWU9c3BfYXRmJmFjdGlvbj1jbGlja1JlZGlyZWN0JmRvTm90TG9nQ2xpY2s9dHJ1ZQ==">Startech USB3.0 to SATA adapter</a>. Another option is to install it to another USB thumb drive and use iSCSI storage for your VMs.</p>
<figure id="attachment_48263" aria-describedby="caption-attachment-48263"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/SSD-800x600.jpg" alt="SSD" width="696" height="522" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/SSD-800x600.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD-400x300.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD-696x522.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD-560x420.jpg 560w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD-80x60.jpg 80w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD-265x198.jpg 265w, https://www.servethehome.com/wp-content/uploads/2020/11/SSD.jpg 1000w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48263">Intel DC S3500 SATA SSD with StarTech USB adapter</figcaption></figure>
<p>Select your disk, it has to be one other than the USB installer drive or the microSD card. Once you have selected your disk, the installer will format it and destructively remove all data. You need only to assign a password and installation will begin. When you are done, simply remove the installation media and reboot.</p>
<h2>Getting Started in VMware ESXi on the Pi</h2>
<p>To get started, open a web browser on another computer and point it to the IP of your Pi. Once there, you should see the familiar ESXi home page. For more information on setting up ESXi, please see our <a href="https://www.servethehome.com/building-a-lab-part-3-configuring-vmware-esxi-and-truenas-core/">Building a Lab series</a>.</p>
<figure id="attachment_48264" aria-describedby="caption-attachment-48264"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-800x450.png" alt="Esxi Home" width="696" height="392" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-800x450.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-400x225.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-696x392.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-1068x601.png 1068w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home-746x420.png 746w, https://www.servethehome.com/wp-content/uploads/2020/11/esxi-home.png 1276w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48264">VMware Esxi Home with VMware ESXi on Arm Fling Label</figcaption></figure>
<p>The first step we should do is to add our NTP servers. Go to&nbsp;<strong>Manage&nbsp;</strong>then to <strong>System</strong><strong>&nbsp;</strong>and finally to <strong>Time and Date. </strong>Add some NTP servers, then click on&nbsp;<strong>Services&nbsp;</strong>and start the <strong>ntpd</strong> service.</p>
<figure id="attachment_48265" aria-describedby="caption-attachment-48265"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date-800x399.png" alt="Time And Date" width="696" height="347" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date-800x399.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date-400x200.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date-696x347.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date-842x420.png 842w, https://www.servethehome.com/wp-content/uploads/2020/11/time-and-date.png 1034w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48265">VMware ESXi on Arm Fling Time And Date</figcaption></figure>
<p>If you wanted to add iSCSI storage you can. For my testing, I added a 1TiB iSCSI LUN from my production TrueNAS Core box.</p>
<figure id="attachment_48267" aria-describedby="caption-attachment-48267"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/iscsi-800x256.png" alt="Iscsi" width="696" height="223" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/iscsi-800x256.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/iscsi-400x128.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/iscsi-696x223.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/iscsi-1068x342.png 1068w, https://www.servethehome.com/wp-content/uploads/2020/11/iscsi.png 1281w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48267">VMware ESXi on Arm Fling iSCSI</figcaption></figure>
<p>Additionally, you can add it to a vCenter just like a normal ESXi host. You simply right-click on a datacenter, press <strong>A</strong><strong>dd Host,&nbsp;</strong>type your IP address, credentials and select a license.</p>
<figure id="attachment_48266" aria-describedby="caption-attachment-48266"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-800x402.png" alt="Vsphere" width="696" height="350" srcset="https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-800x402.png 800w, https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-400x201.png 400w, https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-696x349.png 696w, https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-1068x536.png 1068w, https://www.servethehome.com/wp-content/uploads/2020/11/vsphere-837x420.png 837w, https://www.servethehome.com/wp-content/uploads/2020/11/vsphere.png 1281w" sizes="(max-width: 696px) 100vw, 696px"><figcaption id="caption-attachment-48266">VMware ESXi on Arm Fling vSphere</figcaption></figure>
<p>At this point, you are basically ready to get going with the VMware ESXi on Arm Fling using your Raspberry Pi.</p>
<h2>A Word on Some Limitations</h2>
<p>There are some limitations to this setup, however. As one example, ESXi on Arm cannot run X86 compatible operating systems. As a result, you will not be able to install Windows in the traditional sense. At this time Windows 10 for ARM is not supported. You will be able to install operating systems compiled for Arm, however. As a result, we see Ubuntu Server being a more popular guest OS than Windows Server.</p>
<p>Using ESXi on a Raspberry Pi in conjunction with something like Kubernetes makes for an interesting solution, however. This gives us tinkerers the ability to build an entire three node cluster on a single Raspberry Pi. While I certainly would not suggest doing this in production, it is a fantastic opportunity for learning and development.</p>
<h2>Final Words</h2>
<p>As Patrick stated in his piece <a href="https://www.servethehome.com/of-bbq-and-virtualization-large-nodes/">of BBQ and Virtualization</a>, large nodes make sense. With the advent of ESXi on Arm, we get to look at the other side of that picture. If you need a highly available solution for a lightweight application, you can use a cluster of Raspberry Pis to build a vSAN capable of obtaining that goal. Alternatively, if you are new to this world and just trying to learn, having ESXi available gives you access to what is used in the enterprise.</p>
<p>One of the coolest possibilities for this platform is for the Raspberry Pi to become a witness node for a cluster in vCenter. If you have two production x86 servers and are planning to build a vSAN, a RaspberryPi can be added as a witness node. This will effectively save you a ton of money by not having to buy a full-blown third server. Using a small node like this in the future can lower both up-front as well as operating costs over time due to the low power consumption. A note of warning, however. That is not an officially supported topology by VMWare, but it is certainly interesting! For those using other virtualization setups such as standard KVM on Linux clusters, this is a great use case as well.</p>
<figure id="attachment_47443" aria-describedby="caption-attachment-47443"><a href="https://www.servethehome.com/nvidia-bluefield-2-and-bluefield-2x-dpu-offerings-launched/nvidia-dpu-roadmap/" rel="attachment wp-att-47443"><img loading="lazy" src="https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap.jpg" alt="NVIDIA DPU Roadmap" width="1721" height="911" srcset="https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap.jpg 1721w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-400x212.jpg 400w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-800x423.jpg 800w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-1536x813.jpg 1536w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-696x368.jpg 696w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-1068x565.jpg 1068w, https://www.servethehome.com/wp-content/uploads/2020/10/NVIDIA-DPU-Roadmap-793x420.jpg 793w" sizes="(max-width: 1721px) 100vw, 1721px"></a><figcaption id="caption-attachment-47443"><a href="https://www.servethehome.com/nvidia-shows-dpu-roadmap-combining-arm-cores-gpu-and-networking/">NVIDIA DPU</a> Roadmap</figcaption></figure>
<p>With Apple switching to Arm, NVIDIA looking to <a href="https://www.servethehome.com/nvidia-to-acquire-arm-in-major-shift/">acquire</a> Arm, and <a href="https://www.servethehome.com/an-arm-opportunity-with-cloud-service-providers/2/">Cloud Providers</a> looking more at Arm, VMWare has made a strong move here. To be clear, it needed to do this as it was falling behind in the edge. Likewise, VMware is many years behind Amazon AWS in the <a href="https://www.servethehome.com/what-is-a-dpu-a-data-processing-unit-quick-primer/">DPU</a> architecture but is catching up with <a href="https://www.servethehome.com/vmware-project-monterey-esxi-on-arm-on-dpu/">VMware Project Monterey ESXi on Arm on DPU</a>. It may be harder to buy a DPU today to work with ESXi on Arm, but it is relatively low-cost to simply get a Raspberry Pi. I am personally excited to see what happens next.</p>
        </div></div>]]>
            </description>
            <link>https://www.servethehome.com/getting-started-with-vmware-esxi-on-arm-with-a-raspberry-pi/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25029404</guid>
            <pubDate>Sun, 08 Nov 2020 21:49:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Adding OpenStreetMaps to Matplotlib]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25028727">thread link</a>) | @jhrabb
<br/>
November 8, 2020 | https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/ | <a href="https://web.archive.org/web/*/https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><header><p>Adding context to thousands of dots</p><p> published:&nbsp; <time datetime="2020-10-21T00:00:00+00:00"> 21 October 2020 </time></p></header><p>Adding a map to your visuals is a great way to quickly understand the geographic information you're trying to investigate. Thankfully there are quite a few packages and libraries (like <a href="https://geopandas.org/">geopandas</a>, <a href="https://scitools.org.uk/cartopy/docs/latest/">cartopy</a>, <a href="https://github.com/rossant/smopy">smopy</a>, <a href="https://github.com/python-visualization/folium">folium</a>, <a href="https://github.com/MatthewDaws/TileMapBase">tilemapbase</a>, or <a href="https://ipyleaflet.readthedocs.io/en/latest/">ipyleaflet</a>) that can make creating these visuals fairly straightforward and easy in your jupyter notebooks or whatever stack you're using.</p><p>For this essay though, I'll walk through the process of adding a base-map from OpenStreetMap to you're matplotlib visuals without using any of these libraries. In the end, we'll have a visual much like this (very messy) scatter-plot of buses as they service route 16 in New Orleans.</p><img alt="A plot of the ~466,000 position reports for buses servicing route 16 as they work their way up and down South Claiborne Avenue, between South Carrollton Avenue and Harrah's near the French Quarter." src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/route-16-plot.png"><div id="how-it-works"><h2>How it Works</h2><p>The ability to add our base-map to our <a href="https://matplotlib.org/">matplotlib</a> visuals relies on matplotlib's <a href="https://matplotlib.org/3.2.1/api/_as_gen/matplotlib.pyplot.imshow.html">imshow() function</a>, which internally uses the <a href="https://python-pillow.org/">Pillow library</a> to display images, or any other two dimensional scalar data we want (like <a href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html">numpy arrays</a>).</p><p>For example, if we download <a href="https://bryanbrattlof.com/pages/hi/profile.png">my self-portrait</a>, we can add the image to a plot using code like this:</p><div><pre><span></span><span>from</span> <span>matplotlib</span> <span>import</span> <span>pyplot</span> <span>as</span> <span>plt</span>

<span>img</span> <span>=</span> <span>plt</span><span>.</span><span>imread</span><span>(</span><span>'path/to/my/self-portrait.png'</span><span>)</span>
<span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>

<span>plt</span><span>.</span><span>show</span><span>()</span>
</pre></div><p>Resulting in a matplotlib visual that looks like this:</p><p><img alt="A matplotlib plot of a self portrait (stick figure drawing) of Bryan Brattlof" src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/self-portrait-plot.png"></p></div><div id="creating-the-map"><h2>Creating the Map</h2><p>The easiest way to generate the base-map for <code>plt.imshow()</code> is to use a mapping service. These mapping services use enormous amounts of raw computing power to take the <a href="https://wiki.openstreetmap.org/wiki/Planet.osm">terabytes of map data</a> and render a map for us. Today there are quite a few services available online. The one I enjoy working with (and the one we will be using in this essay) is a free, community maintained service called <a href="https://www.openstreetmap.org/about">OpenStreetMap</a>.</p></div><div id="tile-servers"><h2>Tile Servers</h2><p>To make updating and sharing their work easier, OpenStreetMap (and virtually all other mapping services) have split their maps into billions of tiny (256 pixel) sections, called tiles, that we can download individually from their tile servers.</p><p>OpenStreetMap has <a href="https://wiki.openstreetmap.org/wiki/Tile_servers">quite a few tile servers</a> that style or prioritize different map features with some having a slightly different <a href="https://en.wikipedia.org/wiki/API">API</a> to request tiles. For example the <a href="http://maps.stamen.com/toner/#12/29.9722/-90.1167">Stamen Toner Map</a> that I used in the first visual and prefer for it's simple color pallet.</p><p>For this essay though, we'll use the default tile server's API to request tiles:</p><div><pre><span></span>URL = "https://tile.openstreetmap.org/{z}/{x}/{y}.png".format
</pre></div><p>This string formatting function will replace the <code>{z}</code>, <code>{x}</code>, and <code>{y}</code> with the tile coordinates and zoom level of the tile we want to download, where:</p><ul><li><code>{z}</code> is the "zoom" level ranging from 0 to 18. Zoom 0 being the most "zoomed out" and needs only one tile to depict <a href="https://tile.openstreetmap.org/0/0/0.png">the entire world</a> at that level.</li><li><code>{x}</code> is the number of tiles from the left most tile of the map.</li><li>and <code>{y}</code> is the number of tiles from the top most tile of the map.</li></ul><p>Both <code>{x}</code> and <code>{y}</code> depend on the zoom level <code>{z}</code> we've chosen, with larger zoom levels requiring more tiles to render the map. To understand how to calculate which tiles we need for our data-set, we'll need to understand how mapping projections work.</p></div><div id="map-projections"><h2>Map Projections</h2><p>Without going too deep into mapping projections, OpenStreetMap (along with many other mapping services) needed a way to convert <span>(<i>lat</i>, <i>lon</i>)</span> coordinates into planer <span>(<i>x</i>, <i>y</i>)</span> coordinates which work with their maps. Sadly there is no perfect way to do this.</p><p>Google (and everyone else eventually) settled on a variant of the <a href="https://en.wikipedia.org/wiki/Mercator_projection">Mercator Projection</a> called the <a href="https://en.wikipedia.org/wiki/Web_Mercator_projection">Web Mercator Projection</a> which simplifies the conversion by assuming the earth is a perfect sphere (it's not). This can (and does) lead to confusion in the final visuals and why many official bodies refuse to accept this standard.</p><p>The advantage of assuming the earth is a perfect sphere is that the equation to convert our GPS coordinates into Web Mercator coordinates is fairly straightforward. The <a href="https://wiki.openstreetmap.org/wiki/Main_Page">OpenStreetMap Wiki</a> has the algorithm available in <a href="https://wiki.openstreetmap.org/wiki/Mercator">multiple programming languages</a>. Here is the one for Python:</p><div><pre><span></span><span>import</span> <span>math</span>
<span>TILE_SIZE</span> <span>=</span> <span>256</span>

<span>def</span> <span>point_to_pixels</span><span>(</span><span>lon</span><span>,</span> <span>lat</span><span>,</span> <span>zoom</span><span>):</span>
    <span>"""convert gps coordinates to web mercator"""</span>
    <span>r</span> <span>=</span> <span>math</span><span>.</span><span>pow</span><span>(</span><span>2</span><span>,</span> <span>zoom</span><span>)</span> <span>*</span> <span>TILE_SIZE</span>
    <span>lat</span> <span>=</span> <span>math</span><span>.</span><span>radians</span><span>(</span><span>lat</span><span>)</span>

    <span>x</span> <span>=</span> <span>int</span><span>((</span><span>lon</span> <span>+</span> <span>180.0</span><span>)</span> <span>/</span> <span>360.0</span> <span>*</span> <span>r</span><span>)</span>
    <span>y</span> <span>=</span> <span>int</span><span>((</span><span>1.0</span> <span>-</span> <span>math</span><span>.</span><span>log</span><span>(</span><span>math</span><span>.</span><span>tan</span><span>(</span><span>lat</span><span>)</span> <span>+</span> <span>(</span><span>1.0</span> <span>/</span> <span>math</span><span>.</span><span>cos</span><span>(</span><span>lat</span><span>)))</span> <span>/</span> <span>math</span><span>.</span><span>pi</span><span>)</span> <span>/</span> <span>2.0</span> <span>*</span> <span>r</span><span>)</span>

    <span>return</span> <span>x</span><span>,</span> <span>y</span>
</pre></div></div><div id="downloading-a-tile"><h2>Downloading A Tile</h2><p>Now we can use the <code>point_to_pixels()</code> function to calculate the number of pixels from the top-left corner of the OSM map from the GPS coordinates in our data-set at any <code>zoom</code> level, for example the French Quarter of New Orleans:</p><div><pre><span></span><span>zoom</span> <span>=</span> <span>16</span>
<span>x</span><span>,</span> <span>y</span> <span>=</span> <span>point_to_pixels</span><span>(</span><span>-</span><span>90.064279</span><span>,</span> <span>29.95863</span><span>,</span> <span>zoom</span><span>)</span>
</pre></div><p>Dividing the number of pixels by <code>TILE_SIZE</code> will then give us the <code>{x}</code> and <code>{y}</code> that we need for the <code>URL()</code> function we created <a href="#tile-servers">a few sections ago</a> for the OpenStreetMap API.</p><div><pre><span></span><span>x_tiles</span><span>,</span> <span>y_tiles</span> <span>=</span> <span>int</span><span>(</span><span>x</span> <span>/</span> <span>TILE_SIZE</span><span>),</span> <span>int</span><span>(</span><span>y</span> <span>/</span> <span>TILE_SIZE</span><span>)</span>
</pre></div><p>That we can then use, along with the <a href="https://requests.readthedocs.io/en/master/">requests</a> and <a href="https://python-pillow.org/">Pillow</a> libraries, to download a tile from the OpenStreetMap tile servers:</p><div><pre><span></span><span>from</span> <span>io</span> <span>import</span> <span>BytesIO</span>
<span>from</span> <span>PIL</span> <span>import</span> <span>Image</span>
<span>import</span> <span>requests</span>

<span># format the url</span>
<span>url</span> <span>=</span> <span>URL</span><span>(</span><span>x</span><span>=</span><span>x_tiles</span><span>,</span> <span>y</span><span>=</span><span>y_tiles</span><span>,</span> <span>z</span><span>=</span><span>zoom</span><span>)</span>

<span># make the request</span>
<span>with</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>url</span><span>)</span> <span>as</span> <span>resp</span><span>:</span>
    <span>img</span> <span>=</span> <span>Image</span><span>.</span><span>open</span><span>(</span><span>BytesIO</span><span>(</span><span>resp</span><span>.</span><span>content</span><span>))</span>

<span># plot the tile</span>
<span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
<span>plt</span><span>.</span><span>show</span><span>()</span>
</pre></div><p>Producing a tile of Jackson Square in the French Quarter of New Orleans:</p><p><img alt="the tile" src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/french-quarter-plot.png"></p></div><div id="stitching-tiles-together"><h2>Stitching Tiles Together</h2><p>To download all the tiles needed for our visual, we'll need to calculate the limits of the data we'll be using in our visual. There are many ways we can do this, all of them are valid. For simplicity though, I'll calculate the <span><i>min</i></span> and <span><i>max</i></span> of both the <code>lat</code> and <code>lon</code> columns in my <a href="https://pandas.pydata.org/">pandas</a> DataFrame:</p><div><pre><span></span><span>top</span><span>,</span> <span>bot</span> <span>=</span> <span>df</span><span>.</span><span>lat</span><span>.</span><span>max</span><span>(),</span> <span>df</span><span>.</span><span>lat</span><span>.</span><span>min</span><span>()</span>
<span>lef</span><span>,</span> <span>rgt</span> <span>=</span> <span>df</span><span>.</span><span>lon</span><span>.</span><span>min</span><span>(),</span> <span>df</span><span>.</span><span>lon</span><span>.</span><span>max</span><span>()</span>
</pre></div><p>This gives us a bounding box (in GPS coordinates) that encompasses our entire data-set.</p><p>Next, just like we did in <a href="#downloading-a-tile">the last section</a>, we'll use the <code>point_to_pixels()</code> function to convert our GPS coordinates into Web Mercator coordinates.</p><div><pre><span></span><span>zoom</span> <span>=</span> <span>13</span>
<span>x0</span><span>,</span> <span>y0</span> <span>=</span> <span>point_to_pixels</span><span>(</span><span>lef</span><span>,</span> <span>top</span><span>,</span> <span>zoom</span><span>)</span>
<span>x1</span><span>,</span> <span>y1</span> <span>=</span> <span>point_to_pixels</span><span>(</span><span>rgt</span><span>,</span> <span>bot</span><span>,</span> <span>zoom</span><span>)</span>
</pre></div><p>That we can then divide by <code>TILE_SIZE</code> to calculate the minimum and maximum number of tiles we'll need to download for both the <code>{x}</code> and <code>{y}</code> arguments for the API:</p><div><pre><span></span><span>x0_tile</span><span>,</span> <span>y0_tile</span> <span>=</span> <span>int</span><span>(</span><span>x0</span> <span>/</span> <span>TILE_SIZE</span><span>),</span> <span>int</span><span>(</span><span>y0</span> <span>/</span> <span>TILE_SIZE</span><span>)</span>
<span>x1_tile</span><span>,</span> <span>y1_tile</span> <span>=</span> <span>math</span><span>.</span><span>ceil</span><span>(</span><span>x1</span> <span>/</span> <span>TILE_SIZE</span><span>),</span> <span>math</span><span>.</span><span>ceil</span><span>(</span><span>y1</span> <span>/</span> <span>TILE_SIZE</span><span>)</span>
</pre></div><p>As a precaution, we'll add an <code>assert</code> statement to limit the number of tiles we can download and save us from the embarrassment of accidentally burdening OpenStreetMap tile servers.</p><div><pre><span></span><span>assert</span> <span>(</span><span>x1_tile</span> <span>-</span> <span>x0_tile</span><span>)</span> <span>*</span> <span>(</span><span>y1_tile</span> <span>-</span> <span>y0_tile</span><span>)</span> <span>&lt;</span> <span>50</span><span>,</span> <span>"That's too many tiles!"</span>
</pre></div><p>Now that we've calculated which tiles we need to download from OpenStreetMap, we can use the built-in <a href="https://docs.python.org/3/library/itertools.html">itertools</a><code>product()</code> function to loop through every tile, downloading and saving the tiles to a single large pillow image using <a href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.paste">Pillow's paste() function</a>:</p><div><pre><span></span><span>from</span> <span>itertools</span> <span>import</span> <span>product</span>

<span># full size image we'll add tiles to</span>
<span>img</span> <span>=</span> <span>Image</span><span>.</span><span>new</span><span>(</span><span>'RGB'</span><span>,</span> <span>(</span>
    <span>(</span><span>x1_tile</span> <span>-</span> <span>x0_tile</span><span>)</span> <span>*</span> <span>TILE_SIZE</span><span>,</span>
    <span>(</span><span>y1_tile</span> <span>-</span> <span>y0_tile</span><span>)</span> <span>*</span> <span>TILE_SIZE</span><span>))</span>

<span># loop through every tile inside our bounded box</span>
<span>for</span> <span>x_tile</span><span>,</span> <span>y_tile</span> <span>in</span> <span>product</span><span>(</span><span>range</span><span>(</span><span>x0_tile</span><span>,</span> <span>x1_tile</span><span>),</span> <span>range</span><span>(</span><span>y0_tile</span><span>,</span> <span>y1_tile</span><span>)):</span>
    <span>with</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>URL</span><span>(</span><span>x</span><span>=</span><span>x_tile</span><span>,</span> <span>y</span><span>=</span><span>y_tile</span><span>,</span> <span>z</span><span>=</span><span>zoom</span><span>))</span> <span>as</span> <span>resp</span><span>:</span>
        <span>tile_img</span> <span>=</span> <span>Image</span><span>.</span><span>open</span><span>(</span><span>BytesIO</span><span>(</span><span>resp</span><span>.</span><span>content</span><span>))</span>

    <span># add each tile to the full size image</span>
    <span>img</span><span>.</span><span>paste</span><span>(</span>
        <span>im</span><span>=</span><span>tile_img</span><span>,</span>
        <span>box</span><span>=</span><span>((</span><span>x_tile</span> <span>-</span> <span>x0_tile</span><span>)</span> <span>*</span> <span>TILE_SIZE</span><span>,</span> <span>(</span><span>y_tile</span> <span>-</span> <span>y0_tile</span><span>)</span> <span>*</span> <span>TILE_SIZE</span><span>))</span>

<span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
<span>plt</span><span>.</span><span>show</span><span>()</span>
</pre></div><p>Resulting in a plot like this:</p><p><img alt="A plot of New Orleans using the script we just developed to stitch multiple tiles together into one continuous map that we can place under our scatter plot in the next section." src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/the-basemap.png"></p><p>The eagle-eyed among us will notice the image is too large for the visual we want to create. This is because of the <code>math.ceil()</code> and <code>int()</code> functions we used to round the pixel coordinates into <code>{x}</code> and <code>{y}</code> tiles we used above. To get our image back to size we'll need to crop out the fractions of tiles not inside our bounding box.</p></div><div id="cropping-the-basemap"><h2>Cropping the Basemap</h2><p>To help my human-eyed brethren, I added some lines to our previous graphic to help understand what's going on. Essentially some fraction of each tile we've downloaded (outlined in black) will be used in our final visual (outlined in red) that we calculated in <a href="#stitching-tiles-together">the last section</a>. Our goal for this section is to trim the fraction of tiles outside of our red square.</p><p><img alt="A plot of New Orleans with black lines outlining each tile we downloaded from the tile servers overlaid with a red line representing the section of the map we wish to keep after we crop the image." src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/basemap-cropping-lines.png"></p><p>To curtail our oversize image, we'll use pillow's <a href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.crop">Image.crop()</a> function, which takes a tuple <code>(left, top, right, bottom)</code> measured in pixels from the top left corner to crop our image.</p><p><a href="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/StitchingTilesTogether">From our work above</a>, we know the pixel coordinates of the red square is defined as <code>x0, y0</code> and <code>x1, y1</code>. We can then multiply the tile coordinates <code>x0_tile, y0_tile</code> by <code>TILE_SIZE</code> to find the pixel coordinates for the top-left corner of the current (oversize) basemap:</p><div><pre><span></span><span>x</span><span>,</span> <span>y</span> <span>=</span> <span>x0_tile</span> <span>*</span> <span>TILE_SIZE</span><span>,</span> <span>y0_tile</span> <span>*</span> <span>TILE_SIZE</span>
</pre></div><p>It is a simple process of subtracting the edges of our red square from the pixel coordinates we just calculated for our oversize image to crop it to our desired size:</p><div><pre><span></span><span>img</span> <span>=</span> <span>img</span><span>.</span><span>crop</span><span>((</span>
    <span>int</span><span>(</span><span>x</span> <span>-</span> <span>x0</span><span>),</span>  <span># left</span>
    <span>int</span><span>(</span><span>y</span> <span>-</span> <span>y0</span><span>),</span>  <span># top</span>
    <span>int</span><span>(</span><span>x</span> <span>-</span> <span>x1</span><span>),</span>  <span># right</span>
    <span>int</span><span>(</span><span>y</span> <span>-</span> <span>y1</span><span>)))</span> <span># bottom</span>

<span>plt</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>)</span>
<span>plt</span><span>.</span><span>show</span><span>()</span>
</pre></div><p>Resulting in our final (properly sized) basemap for our visual:</p><p><img alt="A, now properly sized, plot of New Orleans using the cropping script we just developed to resize our basemap to the proper size for our visual." src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/basemap-cropped.png"></p></div><div id="plotting-the-data"><h2>Plotting The Data</h2><p>Finally, with our basemap created, we can plot our data just like any other visual with some key exceptions. We can start by setting a <a href="https://matplotlib.org/3.3.1/api/_as_gen/matplotlib.pyplot.subplot.html">matplotlib subplots()</a> and a <a href="https://matplotlib.org/3.3.1/api/_as_gen/matplotlib.axes.Axes.scatter.html">scatter()</a> plot for the <code>lat</code> and <code>lon</code> columns in our pandas DataFrames:</p><div><pre><span></span><span>fig</span><span>,</span> <span>ax</span> <span>=</span> <span>plt</span><span>.</span><span>subplots</span><span>()</span>
<span>ax</span><span>.</span><span>scatter</span><span>(</span><span>df</span><span>.</span><span>lon</span><span>,</span> <span>df</span><span>.</span><span>lat</span><span>,</span> <span>alpha</span><span>=</span><span>0.1</span><span>,</span> <span>c</span><span>=</span><span>'red'</span><span>,</span> <span>s</span><span>=</span><span>1</span><span>)</span>
</pre></div><p>Then we'll add an extra argument to the <code>imshow()</code> function to properly locate our image in the final visual. The <code>extent</code> argument is used to move a image to a <a href="https://matplotlib.org/3.3.1/tutorials/intermediate/imshow_extent.html">particular region in dataspace</a>.</p><div><pre><span></span><span>ax</span><span>.</span><span>imshow</span><span>(</span><span>img</span><span>,</span> <span>extent</span><span>=</span><span>(</span><span>lef</span><span>,</span> <span>rgt</span><span>,</span> <span>bot</span><span>,</span> <span>top</span><span>))</span>
</pre></div><p>Next, we'll lock down the <span><i>x</i></span> and <span><i>y</i></span> axes to the limits we defined <a href="#stitching-tiles-together">a few sections ago</a> by using the <code>set_ylim()</code> and <code>set_xlim()</code> functions.</p><div><pre><span></span><span>ax</span><span>.</span><span>set_ylim</span><span>(</span><span>bot</span><span>,</span> <span>top</span><span>)</span>
<span>ax</span><span>.</span><span>set_xlim</span><span>(</span><span>lef</span><span>,</span> <span>rgt</span><span>)</span>
</pre></div><p>All of this work will produce a simple graphic with a (gorgeous) basemap of buses servicing New Orleans' Route 16.</p><p><img alt="The final visual we've been working to depicting the roughly 400,000 position reports of buses as they service route 16 of New Orleans." src="https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/final-visual.png"></p></div></div></div>]]>
            </description>
            <link>https://bryanbrattlof.com/adding-openstreetmaps-to-matplotlib/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25028727</guid>
            <pubDate>Sun, 08 Nov 2020 20:32:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[About iSH’s pending removal from the App Store]]>
            </title>
            <description>
<![CDATA[
Score 692 | Comments 454 (<a href="https://news.ycombinator.com/item?id=25028252">thread link</a>) | @tbodt
<br/>
November 8, 2020 | https://ish.app/app-store-removal | <a href="https://web.archive.org/web/*/https://ish.app/app-store-removal">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
        

<p><strong><span>Update</span></strong>: We got a call this evening from someone who runs App Review. They apologized for the experience we had, then told us they've accepted our appeal and won't be removing iSH from the store tomorrow. We'll stay in contact with them to work out details. Thanks everyone for your support!
</p>


<p>On Monday, October 26th, just four days after we launched iSH on the App Store, we received a call from Apple informing us that they had found our app noncompliant with section 2.5.2 of the App Store Review Guidelines and that they would remove the app from sale if we did not submit a satisfactory update within two weeks. Despite our best efforts, we do not believe we will be able to bring iSH into compliance by tomorrow, the conclusion of this 14 day period, and we expect iSH to no longer be available to download from the App Store after that time. We are working our hardest to get iSH back on the App Store as soon as possible and hope for your understanding and support as we navigate our next steps in this process.</p>

<p>Thanks for using iSH!<br>
Theodore Dubois, Saagar Jha &amp; Martin Persson</p>

<h2 id="why-is-ish-being-removed">Why is iSH being removed?</h2>
<p>Apple believes iSH is not compliant with section 2.5.2 of the App Store Review Guidelines, which governs applications which download and run executable code. Specifically, they believe that iSH “is not self-contained and has remote package updating functionality”, and suggest that we should “remove the remote network activity functionality which could allow for remote code importing into the app, such as wget or curl, or other remote network commands”. Additional communication with Apple has indicated that they believe that iSH is a security concern if we allow any sort of code importing by the user.</p>

<p><strong>We believe iSH is fully compliant with the App Store Review Guidelines.</strong> <a href="https://saagarjha.com/blog/2020/11/08/fixing-section-2-5-2/">Saagar has written</a> a more detailed analysis of why we believe this rejection is incorrect, how we believe Apple has misinterpreted and misapplied this rule to our app, and describe how 2.5.2’s poor wording coupled with the review team being unable to review functionality of scripting applications leads to mistaken classifications like these. At a high level, Apple has selectively targeted iSH using section 2.5.2 without fullying understanding our application, their own guidelines, or the consequences of what they are asking and how they affect the App Store ecosystem as a whole. <strong>Consistent enforcement of Apple’s incorrect interpretation would require the removal of all scripting apps, including many of the most popular applications in the App Store and some of Apple’s own applications.</strong></p>

<h2 id="what-have-we-done-to-get-ish-back-on-the-app-store">What have we done to get iSH back on the App Store?</h2>
<p>We’ve been working for the last two weeks to try to keep iSH available without interruptions. We have drafted numerous appeals, requests for clarifications, rule modifications, and explanatory emails. We’ve been on the phone with Apple for hours. Unfortunately, even with this we have been unable to resolve the issue, and the process has been significantly more stressful than we would have liked it to be. Theodore, the primary iSH liaison to Apple, <a href="https://tbodt.com/2020/11/08/app-review-experiences.html">has written about</a> how this process should be improved.</p>

<p>Our first interaction with the App Store review team actually dates back to May, not October: we wanted to know what Apple thought of iSH, since we weren’t sure how the rules would be enforced for it. Of course, iSH complies with the letter of the guidelines, but review found it to violate 2.5.2 because it could download Linux executable code. The problem appeared that apk lets you install packages, so we decided to remove it and work on other features to make the app more useful in its absence. We submitted this updated build in October and this was what is currently on the App Store.</p>

<p>After our build was flagged for noncompliance, we went through the usual review process: we first asked for clarification, and then after we realized that the rule was being misapplied we submitted a rule change request and of course appealed the decision as well. As the deadline approached we sent off an email to Phil Schiller as well detailing our situation. Unfortunately none of this led anywhere, which brings up to our current situation today.</p>

<h2 id="does-this-mean-i-cant-use-ish-anymore">Does this mean I can’t use iSH anymore?</h2>
<p>No, not at all. However, it will mean that you will no longer be able to get iSH from the App Store, which is something which we would still like to be able to provide. The App Store remains the easiest and most popular method of software distribution on iOS, and we’re working hard to save iSH’s listing because we think the app should have a permanent spot there for users who prefer this method of distribution.</p>

<p>Removal of iSH’s listing on the App Store should not affect your use of iSH if you download the app before it is removed. We have not received any compliance messages from Apple regarding <a href="https://testflight.apple.com/join/97i7KM8O">our TestFlight beta</a>, so we plan to continue offering prerelease versions of iSH there for up to 10,000 beta testers.</p>

<p>Precompiled builds of iSH (distributed as IPA files) will <a href="https://github.com/ish-app/ish/releases">remain available on GitHub</a> for <a href="https://ish.app/altstore">installation through AltStore</a> and for jailbroken users. Advanced users are welcome to <a href="https://github.com/ish-app/ish#build-for-ios">build iSH</a> themselves—it’s free and open source and always will be!</p>

<p><strong><span>Update</span>: <a href="https://twitter.com/a_Shell_iOS/status/1325526061099196416">a-Shell has mentioned</a> that they have received a similar rejection notice. Apple may be running extra review for scripting apps.</strong></p>

        <hr>
        <p><a href="https://ish.app/">Return home</a> | 2020-11-08</p>
    

</div>]]>
            </description>
            <link>https://ish.app/app-store-removal</link>
            <guid isPermaLink="false">hacker-news-small-sites-25028252</guid>
            <pubDate>Sun, 08 Nov 2020 19:33:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[We Pay for Software]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25027907">thread link</a>) | @aberoham
<br/>
November 8, 2020 | https://adamwiggins.com/making-computers-better/pay | <a href="https://web.archive.org/web/*/https://adamwiggins.com/making-computers-better/pay">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    <h3>how we pay for software</h3>

    <p>Quality software costs money to make.</p>

    <p>The tech industry has backed itself into a corner in the last couple decades by implying to users that software doesn’t cost much. Google led the charge here, by providing a series of useful and well-made applications like Gmail, Google Maps, and its core search product for free. They aren’t free, of course: users ”pay“ with their attention and personal data for advertisements.</p>

    <p>Paying with attention and personal data is probably a good trade for search and maps, maybe less so for email. But it’s not a model that fits professional and creative tools.</p>

    <p>Here are three proven models for paying for software:</p>

    <ul>
      <li><p><strong>Ad-supported software.</strong> Only really appropriate for pure-consumer products that are attention-oriented to begin with (e.g. social media). Requires huge scale since <a href="https://www.quora.com/What-is-Twitters-ARPU-average-revenue-per-user">each user is only worth a few bucks</a>. Because the user is the product rather than the customer, the user’s needs are not the priority of the business.</p></li>
      <li><p><strong>Software bundled with hardware or content.</strong> End users seem to be fine with paying directly for hardware (smartphone, laptop) or content (Netflix, Spotify). In these examples the software is a huge part of what you’re paying for—a Mac without macOS is just an overpriced PC, and Netflix without its excellent browsing and playback software is just cloud storage media stocked with MP4 files. Yet few people think of themselves as paying for macOS or Netflix’s app.</p></li>
    </ul>

    <figure>
      <img src="https://adamwiggins.com/making-computers-better/spotify-pricing.png" alt="pricing page for Spotify">

      <figcaption>
        <svg width="50" height="10" viewBox="0 0 50 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="50" height="10" rx="2.5" fill="#298070"></rect>
        </svg>

        <p><a href="https://www.spotify.com/us/premium/">Spotify’s pricing</a> demonstrates the common price range for individually-purchased subscriptions: $5/month on the low end, $15/month on the high end.</p>
      </figcaption>
    </figure>

    <ul>
      <li><p><strong>B2B SaaS.</strong> ”Business-to-business software-as-a-service“ is a mouthful, but represents a a beautiful, pure, and simple payment model for software. A business has a problem; a software creator offers a web-based product that solves the problem; the business purchases directly from the creator, and continues to pay as long as they have the problem and the product is good. Interests are aligned, and the no-middleman nature of the web means software creators have a direct relationship with their customers. Everybody wins. That’s why there’s so many success stories here: Slack, GitHub, Mailchimp, Atlassian, Zoom, Notion, and Carta just to name a few.</p></li>
    </ul>

    <p>I seek a world with a great diversity of lovingly-crafted software for niche audiences. But niche is not possible with ad-supported which requires huge scale to work, and hardware and content licensing have massive up-front capital costs that imply financing models not compatible with small-scale.</p>

    <p>Happily, B2B SaaS is having its <a href="https://microconf.com/">revolution for small independents</a> right now. So what’s the equivalent of that for pro creator tools like <a href="http://www.telestream.net/screenflow/overview.htm">video editing</a> or <a href="https://www.literatureandlatte.com/scrivener/overview">writing</a> or <a href="https://www.devontechnologies.com/apps/devonthink">knowledge management</a>? Can we have something as beautiful and pure as B2B SaaS but for individuals as well as businesses, and for desktop, mobile, and other native apps?</p>

    <p>And indeed there does seem to be movement toward subscription-priced prosumer products in the $5 –&nbsp;$15/month range. See
      established players like
      <a href="https://www.dropbox.com/individual/plans-comparison">Dropbox</a>,
      <a href="https://evernote.com/compare-plans">Evernote</a>,
      <a href="https://ulysses.app/get/">Ulysses</a> and
      <a href="https://www.omnigroup.com/omnifocus/buy/">OmniFocus</a>;
      plus up-and-comers like
      <a href="https://hey.com/pricing/">HEY</a>,
      <a href="https://roamresearch.com/">Roam</a>,
      <a href="https://www.descript.com/pricing">Descript</a>, and my own venture <a href="https://museapp.com/">Muse</a>.
    </p>

    <figure>
      <img src="https://adamwiggins.com/making-computers-better/calendly-pricing.png" alt="pricing for Calendly">

      <figcaption>
        <svg width="50" height="10" viewBox="0 0 50 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="50" height="10" rx="2.5" fill="#298070"></rect>
        </svg>

        <p><a href="https://calendly.com/pages/pricing">Calendly’s pricing</a> is similar to other prosumer products.</p>
      </figcaption>
    </figure>

    <p>As a <strike>user</strike> customer, I like the idea of finding a few great tools that empower my work and paying for them directly. That gives me confidence the product will serve my needs long-term, because I’m the customer.</p>

    <p>And this doesn’t mean a bigger budget for my tech product purchases overall: I can subtract these subscriptions from the money I previously spent on a new phone and laptop every two years, then buy new hardware a little less often. Right now I think great software is more important than hardware advances, much as I love shiny new devices.</p>

    <p>As a software creator, I love the idea of serving a niche of customers who are deeply connected with the product I’m making and get lots of value from it. It has that pure, direct, and personal relationship we see in B2B SaaS, but maybe even more initimate because these are personal tools.</p>

    <p>Ok sounds good—but now the next problem with a direct-payment model. If we’re going to make software subscriptions work, we as creators have to address the sharp edges and <a href="https://www.matthewball.vc/all/misnomers">subscription fatigue</a> people may experience maintaining a stack of software subscriptions.</p>

    <p>Individuals are cautious about recurring billing due to poorly-designed—even <a href="https://help.nytimes.com/hc/en-us/articles/360003499613-Cancel-your-subscription">borderline scammy</a>—subscription buying, renewal, and canceling experiences. The reference worst-case scenario are gym memberships or mobile phone contracts: being trapped in a recurring payment that no longer fits your needs, and being forced to navigate a customer service maze to try to downgrade or cancel.</p>

    <p>So how can we give customers a great experience with subscriptions? A few proposals:</p>

    <ul>
      <li><p>Treat the <strong>buying experience as part of your product</strong>. Make it easy for prospective customers to see what they will get; making buying easy and fun; show them love afterward, not just a ”you’re all set“ dialog and nothing else.</p></li>
    </ul>

    <figure>
      <img src="https://adamwiggins.com/making-computers-better/gumroad-pay.png" alt="paying for a product on Gumroad">

      <figcaption>
        <svg width="50" height="10" viewBox="0 0 50 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="50" height="10" rx="2.5" fill="#298070"></rect>
        </svg>

        <p><a href="https://gumroad.com/">Gumroad</a> offers <a href="https://gumroad.com/l/NlhpD">a great buying experience</a> with a minimum of fuss.</p>
      </figcaption>
    </figure>

    <ul>
      <li><p>Make it <strong>easy to cancel</strong> at any moment. Canceling should be as smooth as purchasing initially. For bonus points, give a refund for any unused portion of purchased time.</p></li>
      <li><p>For longer-cycle payments (e.g. annual), give <strong>heads-up notifications before payment</strong> so that users are not surprised. Direct them on how they can cancel with just a couple of clicks. You shouldn’t want any money from someone who is no longer getting value from your product.</p></li>
    </ul>

    <figure>
      <img src="https://adamwiggins.com/making-computers-better/hey-cancel.png" alt="canceling your subscription on HEY">

      <figcaption>
        <svg width="50" height="10" viewBox="0 0 50 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="50" height="10" rx="2.5" fill="#298070"></rect>
        </svg>

        <p>HEY makes canceling easy: just two clicks. The confirmation dialog is clear on exactly what happens next.</p>
      </figcaption>
    </figure>

    <ul>
     <li><p>Don’t lock users out of their data, even if their trial runs out or their subscription ends. Make it easy to <strong>get at their data and export</strong> for use in other places.</p></li>
      <li><p>Don’t treat lapsed or canceled subscriptions as strangers or defectors. Instead, <strong>consider them alumni and offer them your respect</strong> and maybe even some extra perks. They’ve been customers in the past, so be thankful for that. Remember they might return as a customer in the future or refer other potential customers.</p></li>
    </ul>

    <figure>
      <img src="https://adamwiggins.com/making-computers-better/slack-credit.png" alt="a credit for inactive users on Slack">

      <figcaption>
        <svg width="50" height="10" viewBox="0 0 50 10" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="50" height="10" rx="2.5" fill="#298070"></rect>
        </svg>

        <p>Slack delights and surprises with their <a href="https://slack.com/intl/en-de/help/articles/218915077-Fair-Billing-Policy">fair billing policy</a>.</p>
      </figcaption>
    </figure>

    <p>Beyond prosumer subscriptions, I’m happy to see products experimenting with models appropriate to their domain, like the ski app <a href="https://twitter.com/parrots/status/1314192830500347906">Slopes offering</a> packs of day passes; time-based notes app <a href="https://medium.com/@drewmccormack/cash-cow-revisited-4c2185e2b3d8">Agenda</a> with feature unlock based on subscription time windows; and <a href="https://www.komoot.com/product">Komoot</a> with hiking region budles for sale.</p>

    <p>One last one I find especially promising is the half-crowdfunding, half-early-purchase model that’s seen success with <a href="https://store.steampowered.com/earlyaccessfaq/?snr=1_200_200_Early+Access">video games</a>, <a href="https://www.studiobinder.com/blog/kickstarter-film-projects/">films</a>, and <a href="https://www.futurefonts.xyz/about">typefaces</a>. This blurs the distinctions between customer, investor, and donor. When you buy a Steam Early Access game you’re saying not just ”I want to purchase this product“ but also ”I believe in this product and the team behind it; I want it to exist; and I’m willing to risk a bit of my money to make that happen.“ And maybe: ”I like getting to give early feedback and influence the outcome of the finished product.“ <a href="https://wikimediafoundation.org/support/">Wikipedia with its pure patronage model</a> and <a href="https://www.are.na/roadmap">Are.na with its earnings transparency</a> are variations on this theme.</p>

    <p><strong>The world we have:</strong> Almost all software is paid for by (1) ads and selling personal data (2) bundling software with hardware or content or (3) business-purchased subscriptions. As a result, the type of software we have is limited to what will fit in those boxes.</p>

    <p><strong>The world I want:</strong> A wide diversity of funding and payment models for pure software products. Prosumer subscriptions are commonplace; users feel great about buying tools that matter to them; and they get a great experience when buying and canceling. Crowdfunding, patronage, and many other models flourish and individual products can choose the model that best fits them and their customers.</p>
  </article></div>]]>
            </description>
            <link>https://adamwiggins.com/making-computers-better/pay</link>
            <guid isPermaLink="false">hacker-news-small-sites-25027907</guid>
            <pubDate>Sun, 08 Nov 2020 18:51:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[It’s OK to Not Care About Politics]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 49 (<a href="https://news.ycombinator.com/item?id=25027906">thread link</a>) | @freediver
<br/>
November 8, 2020 | https://www.meta-nomad.net/its-ok-to-not-care-about-politics/ | <a href="https://web.archive.org/web/*/https://www.meta-nomad.net/its-ok-to-not-care-about-politics/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1182">

	<!-- .entry-header -->

	
	<div>

		<p><span>During recent research into the life of Machiavelli something began to become quite clear to me. We weren’t always, universally, socially, communally or even personally, political. That is to say, it’s only recently that it’s become commonplace to declare oneself as left, right, Republican, Democrat, Labour, Conservative, Centrist, Reactionary, Socialist, Red, Blue, x-pilled, y-pilled etc. In terms of human history this way of </span><span><em><span>being</span></em></span><span> – as a political-being, or even as homo-politicus – is </span><span><em><span>extremely</span></em></span><span> new. The very idea of a left/right split/spectrum comes from where people sat during the French Revolution, when members of the National Assembly divided themselves into those in support of the king (right) and supporters of the Revolution (left). Arguably this is one and only time that the idea of a left/right spectrum has ever made sense. Since then </span><span><em><span>both</span></em></span><span> ‘directions’ signal virtue to various camps and striate one into relatively specific ways of thinking. The year we’re roughly talking about here is 1789, that’s round that all up and say – for clarity’s sake – we’ve been political ‘beings’ for just over 200 years. Once again, humans in their current evolutionary iteration have been around for 200,000 years. So we’ve had this political chip on our shoulders for roughly 0.1% of our entire lifetime. Of course, you could argue that for a large amount of that time we haven’t exactly had the infrastructure to allow for what we now commonly understand as politics or political economy, but we </span><span><em><span>have</span></em></span><span> had that for a few thousand years at least, so even going by that metric, the notion of a political-being or of a political-human is still quite new. </span></p>
<p><span>It seems to me the reason for the original (non) position, wherein man wasn’t apolitical, nor anti-political, but simply detached from the political, wasn’t due to some oppression (though some would argue otherwise)[1], nor was it really to do with any ignorance; it was largely because in relation to man’s daily life, the specific political on-goings didn’t matter to him. I would argue that this is still true, we’re just all caught up in status and popularity games. </span></p>
<p><span>The very idea that within contemporary (Western) society one could be ‘detached’ from politics seems absurd, that’s how tight of a grasp it has on our lives. A grasp which is ever-tightened by the popular rhetoric surrounding politics. Society in general seems to unconsciously believe that they now have some kind of duty to </span><span><em><span>be</span></em></span><span> political, they must be in a certain camp, they must have certain opinions on various matters, and most of all, they must </span><span><em><span>care</span></em></span><span> in a specifically political way. I’m here to say that this way of thinking and being is complete bullshit, and it slowly leads one to misery and submission. There are a lot of factors as to why someone might feel compelled to constantly </span><span><em><span>be</span></em></span><span> political, largely emanating from one’s perpetual attachment to media. The two most heinous forms of media are – of course – social and mainstream. Primarily because, once you actually begin to think about what these terms actually mean, like most things in modernity, they no longer make any sense whatsoever. Let’s begin with ‘social media’.</span></p>
<p><span>We all apparently ‘know’ what social media is, which is another way of saying we understand it. I’ll admit, I don’t really understand social media, and I never have. The basic reasons as to why it’s so popular are of course clear, on average humans quite like attention, they quite like having a say and they quite like boasting about their lives. However, I would ask this? If it wasn’t </span><span><em><span>for</span></em></span><span> social media, and its invasive societally pressuring structures, would you actually </span><span><em><span>want</span></em></span><span> to express certain opinions? Would you even have them? Would you have even thought about them? Maybe you would, maybe you wouldn’t, be honest with yourself. If no one was looking, and you had no proof anyone </span><span><em><span>had</span></em></span><span> looked, would you expend energy on the various political and social tasks you do? Ok, so this then begs the question, why the hell </span><span><em><span>do</span></em></span><span> we want to express these opinions? Well, for that you need a mainstream current which tells you the correct, conventional and confirmative way to </span><span><em><span>be.</span></em></span><span> Enter the mainstream media. Such an idea of a ‘mainstream’ is already idiotic. There can’t be such a thing because we all live in different areas of the world, within different cultures, within different families, with different values, within different contexts, and so, the job the mainstream media then is to subsume all of these alternative ways of being and differing value systems into one relatively homogenous lump, which is then there’s to mold as they wish. I’d insert here Ted Kaczynski’s ‘critique’ of ‘multiculturalism’, though it’s less a critique and more of a deconstruction. Kaczynski’s point is that there isn’t really any such thing as ‘multiculturalism’ as it’s sold to us. The overt idea is that multiple diverse cultures live amongst one another, learn from each other and share their cultures for the betterment of all. Kaczynski makes it clear that this is </span><span><em><span>not</span></em></span><span> what happens within contemporary multiculturalism, all that really happens is that every culture is subsumed into the exact same culture of middle-class consumerist aspiration, and perhaps allowed to retain any cultural aesthetic which might be deemed profitable by their new culture of consumerist aspiration. The exact same thing happens with mainstream media. One begins with a variety of views, opinions, values, outlooks, perspectives and contexts which have been grown organically, from their local surroundings and upbringing, these are then pushed through the conformity thresher of mainstream media, cherry-picked for their applicability for submission, and what’s left are deemed dangerous, archaic, bad, fascist, radical, silly, absurd, weird, not-normal, odd or perhaps just too common-sensical for them to remain.</span></p>
<p><span>Now, the </span><span><em><span>exact</span></em></span><span> same process happens with the idea of a ‘political-human’ with a few minor alterations. Much like homo-criminalis, or homo-economicus, once the suffix is assumed </span><span><em><span>a priori</span></em></span><span> as a </span><span><em><span>way</span></em></span><span> of being – man </span><span><em><span>can</span></em></span><span> be a criminal, or man </span><span><em><span>can</span></em></span><span> be economical. There’s no longer such a thing as a man detached entirely from criminality or the economy, there is only a man who is </span><span><em><span>not</span></em></span><span> a criminal, or a man who acts within the economy in a </span><span><em><span>different</span></em></span><span> way than what is preferred. The exact same thing happens with political man. Once a political-outlook, a political-perspective or a political-reality is assumed as the given reality, everything is then filtered through politics in some manner. Then there is no longer such a thing as a entirely unpolitical man, only a man who is deemed ignorant of politics, someone who is seen as turning a blind eye or as simply too lazy to investigate that which they </span><span><em><span>should</span></em></span><span> be. The language here is the problem. Foucault makes this point clear with homo-criminalis and homo-economicus, once the ontology is taken as a given, no one is </span><span><em><span>not</span></em></span><span> of it, but simply seen as not part of a certain section of it. Men are not men, they are either criminals or </span><span><em><span>not-</span></em></span><span>criminals, we are not ourselves we are either economizing or </span><span><em><span>not-</span></em></span><span>economizing, either way, we’re still tethered to a way of being we had no say in.</span></p>
<p><span>Well I’m here to say that this is complete and utter crap. If you want to go get involved in politics, then be my guest, but do NOT assume that just because I don’t care about a certain topic, opinion or perspective that I am immediately the antagonist of that position. There is a difference between a hostile apathy, in which one truly doesn’t care about the plight of others and a detachment within one simply is not involved. Of course, any </span><span><em><span>involved</span></em></span><span> are going to disagree. ‘It’s your duty!’ they will cry. ‘Do you not care about the world!’ they will shriek. ‘How can you just do nothing?’ they will plead. Actually, I am doing something, I’m not expending my energy on a status game which largely exists to inflate various egos and create jobs. Lest we forget that politicians are </span><span><em><span>workers</span></em></span><span>, to be a politician is a </span><span><em><span>job</span></em></span><span>, and by the looks of it, quite a cushy one at that. </span></p>
<p><span>Being </span><span><em><span>detached</span></em></span><span> from politics isn’t </span><span><em><span>not caring</span></em></span><span> about those things you left behind, in fact, it’s arguably the opposite. As soon as a charitable organization, a communal effort or a group event becomes politicized, I am instantly skeptical of its agenda, why? Well, because since when did helping others, loving thy neighbor or creating something helpful </span><span><em><span>have</span></em></span><span> to be seen through a political lens. Call me a soppy-sod, but buying a homeless person some food, donating to a local charity or helping out in a local event isn’t – and doesn’t have to be – a specifically political move or motivation, and if it is, you’re doing so to cater to your own narcissism. What </span><span><em><span>are</span></em></span><span> these acts then? Well, they are what they are. You help someone because they need help, you do something because it needs doing, you create because something needs creating; once sincere acts are filtered through the malicious gauze of politics they are usually lost entirely, abused into a self-congratulatory mutation. </span></p>
<p><span>Ok, maybe you’re with me, but you’re starting to think…’Ok, so what do I…</span><span><em><span>do?</span></em></span><span>‘ Isn’t that the point? Up until now, for many people, each and every act they undertook was done primarily from a political position as opposed to the multitude of other (healthier) perspectives that exist. What do you do? Do what you’d like and what you understand to be right. </span></p>
<p><span>“Ah yes Meta, but if we ‘do nothing’ as you propose, wont we be simply bolstering support for whichever party is in the running to win?” You’re still thinking politically, why does it </span><span><em><span>actually</span></em></span><span> matter to you? If I support X I’ve entered into a system which is so unfathomably corrupt, confused and rife with personality that I will never </span><span><em><span>truly</span></em></span><span> know what it is my vote is doing. It is NOT an apathy, an ignorance or a superiority. It is a detachment. It is one unclipping themselves from a perspective they never asked for in the first place. The years upon years spent drooling …</span></p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.meta-nomad.net/its-ok-to-not-care-about-politics/">https://www.meta-nomad.net/its-ok-to-not-care-about-politics/</a></em></p>]]>
            </description>
            <link>https://www.meta-nomad.net/its-ok-to-not-care-about-politics/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25027906</guid>
            <pubDate>Sun, 08 Nov 2020 18:51:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[When “Progress” Is Backwards]]>
            </title>
            <description>
<![CDATA[
Score 29 | Comments 26 (<a href="https://news.ycombinator.com/item?id=25027462">thread link</a>) | @pmarin
<br/>
November 8, 2020 | https://sabotage-linux.github.io/blog/8 | <a href="https://web.archive.org/web/*/https://sabotage-linux.github.io/blog/8">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>When "progress" is backwards</h2>

<p>20 Oct 2020 15:58 UTC</p>
<p>Lately I see many developments in the linux FOSS world that sell themselves as progress, but are actually hugely annoying and counter-productive.</p>

<p>Counter-productive to a point where they actually cause major regressions, costs, and as in the case of GTK+3 ruin user experience and the possibility that we'll ever enjoy "The year of the Linux desktop".</p>

<h2>Showcase 1: GTK+3</h2>

<p>GTK+2 used to be <em>the</em> GUI toolkit for Linux desktop applications.
It is highly customizable, reasonably lightweight and programmable from C, which means almost any scripting language can interface to it too.</p>

<p>Rather than improving the existing toolkit code in a backwards-compatible manner, <a href="https://www.freedesktop.org/">its developers</a> decided to introduce many breaking API changes which require a major porting effort to make an existing codebase compatible with the successor GTK+3, and keeping support for GTK+2 while supporting GTK+3 at the same time typically involves a lot of #ifdef clutter in the source base which not many developers are willing to maintain.</p>

<p>Additionally GTK+3 made away with a lot of user-customizable themeing options, effectively rendering useless most of the existing themes that took considerable developer effort for their creation.
Here's a <a href="https://ubuntu-mate.community/t/gtk3-regressions-from-a-gtk2-perspective/19511">list of issues</a> users are complaining about.</p>

<p>Due to the effort required to port a GTK+2 application to use GTK+3, many finished GUI application projects will never be ported due to lack of manpower, lost interest of the main developer or his untimely demise.
An example of such a program is the excellent audio editor <a href="http://www.metadecks.org/software/sweep/">sweep</a> which has seen its last release in 2008.
With Linux distros removing support for GTK+2, these apps are basically lost in the void of time.</p>

<p>The other option for distros is to keep both the (unmaintained) GTK+2 and GTK+3 in their repositories so GTK+2-only apps can still be used, however that causes the user of these apps to require basically the double amount of disk and RAM space as both toolkits need to live next to each other. Also this will only work as long as there are no breaking changes in the Glib library which both toolkits are built upon.</p>

<p>Even worse, due to the irritation the GTK+3 move caused to developers, many switched to QT4 or QT5, which requires use of C++, so a typical linux distro now has a mix of GTK+2, GTK+3, GTK+4, QT4 and QT5 applications, where each toolkit consumes considerable resources.</p>

<p>Microsoft (TM) knows better and sees backwards compatibility as the holy grail and underlying root cause of its success and market position. Any 25 year old Win32 GUI application from the Win95 era still works without issues on the latest Windows (TM) release. They even still support 16bit MS-DOS apps using some built-in emulator.</p>

<p>From MS' perspective, the freedesktop.org decision makers played into their hands when they decided to make GTK+3 a completely different beast.
Of course, we are <a href="https://en.wikipedia.org/wiki/Hanlon%27s_razor">taught to never believe in malice but in stupidity</a>, so it is unthinkable that there was actually a real conspiracy and monetary compensations behind this move.
Otherwise we would be conspiracy theorist nuts, right ?</p>

<h2>Showcase 2: python3</h2>

<p>Python is a hugely successful programming/scripting language used by probably millions of programmers.</p>

<p>Whereas python2 development has been very stable for many years, python3 changes at the blink of an eye. It's not uncommon to find that after an update of python3 to the next release, existing code no longer works as expected.</p>

<p>Many developers such as myself prefer to use a stable development environment over one that is as volatile as python3.</p>

<p>With the decision to <a href="https://mail.python.org/archives/list/python-announce-list@python.org/thread/OFCIETIXLX34X7FVK5B5WPZH22HXV342/">EOL python2</a> thousands of py2-based applications will experience the same fate as GTK+2 applications without maintainer: they will be rendered obsolete and disappear from the distro repositories. This may happen quicker than one would expect, as python by default provides bindings to the system's OpenSSL library, which has a history of making backwards-incompatible changes. At the very least, once the web agrees on a new TLS standard, python2 will be rendered completely useless.</p>

<p>Porting python2 to python3 isn't usually as involving as GTK+2 to GTK+3, but due to the dynamic nature of python the syntax checker can't catch all code issues automatically so many issues will be experienced at runtime in cornercases, causing the ported application to throw a backtrace and stopping execution, which can have grave consequences.</p>

<p>Many companies have <a href="https://www.techrepublic.com/article/jpmorgans-athena-has-35-million-lines-of-python-code-and-wont-be-updated-to-python-3-in-time/">millions of line of code still in python2</a> and will have to produce quite some sweat and expenses to make it compatible to python3.</p>

<h2>Showcase 3: ip vs ifconfig</h2>

<p>Once one had learned his handful of ifconfig and route commands to configure a Linux' box network connections, one could comfortably manage this aspect across all distros. Not any longer, someone had the glorious idea to declare ifconfig and friends obsolete and provide a new, more "powerful" tool to do its job: <code>ip</code>.</p>

<p>The command for bringing up a network device is now <code>ip link set dev eth1 up</code> vs the older <code>ifconfig eth1 up</code>. Does this really look like progress?
Worst, the documentation of the tool is non-intuitive so one basically has to google for examples that show the translation from one command to the other.</p>

<p>The same critics apply to <code>iw</code> vs <code>iwconfig</code>.</p>

<h2>Showcase 4: ethernet adapter renaming by systemd/udev</h2>

<p>Latest systemd-based distros come up with network interface names such as <code>enx78e7d1ea46da</code> or <code>vethb817d6a</code>, instead of the traditional <code>eth0</code>.
The interface names assigned by default on Ubuntu 20 are so long a regular human can't even remember them, any configuration attempt requires one to copy/paste the name from <code>ip a</code> output.
Yet almost every distro goes along with this <a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/">Poettering/freedesktop.org-dictated</a> nonsense.</p>

<h2>Showcase 5: CMake, meson, and $BUILDSYSTEMOFTHEDAY</h2>

<p>While the traditional buildsystem used on UNIX, <code>autoconf</code>, has its warts, it was designed in such a way that only the application developer required the full set of tools, whereas the consumer requires only a POSIX compatible shell environment and a <code>make</code> program.</p>

<p>More "modern" build systems like <code>cmake</code> and <code>meson</code> don't give a damn about the dependencies a user has to install, in fact according to <a href="https://kevstras.com/programming/2017/12/18/meson.html">this</a>, <code>meson</code> authors claimed it to be one of their goals to force users to have a bleeding edge version of python3 installed so it can be universally assumed as a given.</p>

<p><code>CMake</code> is written in C++, consists of 70+ MB of extracted sources and requires an impressive amount of time to build from source. Built with debug information, it takes up 434 MB of my harddisk space as of version 3.9.3.
It's primary raison-d'etre is its support for the Microsoft (TM) Visual Studio (R) (TM) solution files, so Windows (TM) people can compile stuff from source with a few clicks.</p>

<p>The two of them have in common that they threw over board the well-known user interface to configure and make and invented their own NIH solution, which requires the user to learn yet another way to build his applications.</p>

<p>Both of these build systems seem to have either acquired a cult following just like systemd, or someone is paying trolls to show up on github with pull requests to replace GNU autoconf with either of those, for example <a href="https://github.com/containers/crun/issues/495">1</a> <a href="https://github.com/karelzak/util-linux/pull/968">2</a> .
Interestingly also, GNOME, which is tightly connected to freedesktop.org, has made it one of its goals to <a href="https://wiki.gnome.org/Initiatives/GnomeGoals/MesonPorting">switch all components to meson</a>.
Their porting effort involves almost every key component in the Linux desktop stack, including cairo, pango, fontconfig, freetype, and dozens of others. What might be the agenda behind this effort?</p>

<h2>Conclusion</h2>

<p>We live in an era where in the FOSS world one constantly has to relearn things, switch to new, supposedly "better", but more bloated solutions, and is generally left with the impression that someone is pulling the rug from below one's feet.
Many of the key changes in this area have been rammed through by a small set of decision makers, often closely related to Red Hat/Gnome/freedesktop.org.
We're buying this "progress" at a high cost, and one can't avoid asking oneself whether there's more to the story than meets the eye.
Never forget, Red Hat and Microsoft (TM) are <a href="https://www.redhat.com/en/partners/microsoft">partners</a> and might even have the same shareholders.</p>
</div></div>]]>
            </description>
            <link>https://sabotage-linux.github.io/blog/8</link>
            <guid isPermaLink="false">hacker-news-small-sites-25027462</guid>
            <pubDate>Sun, 08 Nov 2020 18:02:02 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How active noise cancellation for automotive works]]>
            </title>
            <description>
<![CDATA[
Score 59 | Comments 68 (<a href="https://news.ycombinator.com/item?id=25026841">thread link</a>) | @giuliomagnifico
<br/>
November 8, 2020 | https://www.silentium.com/advanced-broad-band-active-noise-cancellation-now-available-in-cars/ | <a href="https://web.archive.org/web/*/https://www.silentium.com/advanced-broad-band-active-noise-cancellation-now-available-in-cars/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<div id="mk-page-id-6588">
					<div itemprop="mainEntityOfPage">
							
	<article id="6588" itemscope="itemscope" itemprop="blogPost" itemtype="http://schema.org/BlogPosting">

	<div><p><a title="Advanced, broad-band active noise cancellation now available in cars" href="https://www.silentium.com/wp-content/uploads/2020/11/silentium-anc-system.jpg">&nbsp;</a><img alt="Advanced, broad-band active noise cancellation now available in cars" title="Advanced, broad-band active noise cancellation now available in cars" src="https://www.silentium.com/wp-content/uploads/bfi_thumb/dummy-transparent-oj3yxgsoeorp9werpevcwqrlmj5p4y57n6vjhiqmq0.png" data-mk-image-src-set="{&quot;default&quot;:&quot;https://www.silentium.com/wp-content/uploads/2020/11/silentium-anc-system.jpg&quot;,&quot;2x&quot;:&quot;&quot;,&quot;mobile&quot;:&quot;&quot;,&quot;responsive&quot;:&quot;true&quot;}" width="800" height="500" itemprop="image"></p></div>				
	





<div itemprop="mainEntityOfPage">
	<p>Silentium has introduced advanced, broad-band active road noise cancellation to the auto industry for the first time.</p>
<p>After several years in development, Jaguar and Land Rover are the first carmakers to integrate Silentium’s ‘Active Acoustics’ software in three of their new vehicles, meaning the technology is now available for car buyers to experience. Active road noise cancellation removes 90% of unwanted noise across a broad band of frequencies – from 20Hz up to 1kHz – providing a quieter and more refined experience for occupants, and therefore preventing driver fatigue.</p>
<p>In addition to wellbeing benefits, Silentium’s Active Acoustics technology offers vehicle manufacturers a way to reduce their reliance on costly passive noise damping and insulation materials, and reduce vehicle weight – an increasingly important R&amp;D factor as the industry enters a new era of electro-mobility.</p>
<p>Anthony Manias, Head of Automotive at Silentium, commented: “<em>Active Acoustics will change the way car manufacturers reduce, cancel and enhance sound inside their vehicles, and how customers perceive and interact with these sounds. Silentium has proven that it can make broadband in-car noise cancellation work – now the duty is on carmakers to adopt the technology and ensure their customers can enjoy the benefits.”</em></p>
<p><img src="https://www.silentium.com/wp-content/uploads/2020/11/graphic-silentium1.jpg" alt="" width="1000" height="756" srcset="https://www.silentium.com/wp-content/uploads/2020/11/graphic-silentium1.jpg 1000w, https://www.silentium.com/wp-content/uploads/2020/11/graphic-silentium1-300x227.jpg 300w, https://www.silentium.com/wp-content/uploads/2020/11/graphic-silentium1-768x581.jpg 768w" sizes="(max-width: 1000px) 100vw, 1000px"></p>
<p><strong>How active noise cancellation works</strong></p>
<p>Silentium’s industry-first technology is similar to that found in a pair of high-end noise-cancelling headphones, but more advanced as it manipulates a larger amount of air. Up to six strategically positioned accelerometers on a vehicle’s chassis monitor unwanted road noise and send a signal to an on-board control unit with Silentium’s software, which plays an equivalent anti-noise signal through the vehicle’s speaker system. The pressure waves from both the unwanted exterior noise and manufactured anti-noise reach occupants’ eardrums at exactly the same time and cancel each other out.</p>
<p>Silentium’s Active Acoustics software can reduce, cancel and enhance sound inside any vehicle, improving occupant comfort, safety and wellbeing, and creating a more enjoyable environment for all.</p>
<p><iframe title="Silentium Active Acoustics on road noise" width="1140" height="641" src="https://www.youtube.com/embed/5x9NEpfRZuc?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
<p><iframe title="Silentium Active Acoustics with road noise and music" width="1140" height="641" src="https://www.youtube.com/embed/uDzSkaWBD7E?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></p>
</div>



</article>

							
											</div>
										
				</div>
			</div></div>]]>
            </description>
            <link>https://www.silentium.com/advanced-broad-band-active-noise-cancellation-now-available-in-cars/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026841</guid>
            <pubDate>Sun, 08 Nov 2020 16:35:05 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Alfred to open your GitHub repositories in the browser]]>
            </title>
            <description>
<![CDATA[
Score 80 | Comments 31 (<a href="https://news.ycombinator.com/item?id=25026757">thread link</a>) | @mmazzarolo
<br/>
November 8, 2020 | https://mmazzarolo.com/blog/2020-09-28-alfred-github-repos/ | <a href="https://web.archive.org/web/*/https://mmazzarolo.com/blog/2020-09-28-alfred-github-repos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section><p>One thing I do multiple times a day is browsing my company’s GitHub organization repositories.<br>
My process for opening these repositories in the browser is:</p>
<ul>
<li>Open Chrome</li>
<li>Press <kbd>Command</kbd> + <kbd>L</kbd> to focus the address bar</li>
<li>Start typing the GitHub repository name</li>
<li>Look for the page suggestion and click on it</li>
</ul>
<p>This flow works well for repositories that I have starred as bookmarks or that I browsed recently…<br>
…But because I’m a total sucker for Alfred, today I wasted almost an hour moving this process into an Alfred workflow.</p>
<p><span>
      <span></span>
  <img alt="alfred" title="alfred" src="https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/fcda8/alfred.png" srcset="https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/12f09/alfred.png 148w,
https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/e4a3f/alfred.png 295w,
https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/fcda8/alfred.png 590w,
https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/efc66/alfred.png 885w,
https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/c83ae/alfred.png 1180w,
https://mmazzarolo.com/static/f6b79b275f646159f864ae32c3d83508/7ef4c/alfred.png 1748w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p>
<h2>The Action Plan</h2>
<p>Knowing that:</p>
<ul>
<li>The entire repository list is huge and doesn’t change often</li>
<li>I wanted the Alfred repository search result to be instant</li>
</ul>
<p>Making an API request to filter the repositories each time I invoke the Alfred workflow wasn’t an option.</p>
<p>So I decided to 1) download the entire repository list into a JSON file, 2) transform it into an Alred-compatible format, and 3) use the <a href="https://github.com/deanishe/alfred-fuzzy" target="_blank" rel="nofollow noopener noreferrer">Alfred’s fuzzy search helper</a> to filter the results.</p>
<h2>Creating the GitHub repository list</h2>
<p>First of all, I <a href="https://github.com/settings/tokens/new" target="_blank" rel="nofollow noopener noreferrer">created a GitHub API token with a scope to access the repositories list</a>.</p>
<p><span>
      <span></span>
  <img alt="github repo access" title="github repo access" src="https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/fcda8/github-repo-access.png" srcset="https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/12f09/github-repo-access.png 148w,
https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/e4a3f/github-repo-access.png 295w,
https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/fcda8/github-repo-access.png 590w,
https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/efc66/github-repo-access.png 885w,
https://mmazzarolo.com/static/5debf06855fa8eef2379c163d8d95943/69476/github-repo-access.png 926w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></p>
<blockquote>
<p>TIL: Selecting all the “repo” sub-scopes is not the same as selecting the entire scope — which is needed to use the API token to get the list of all the private repositories.</p>
</blockquote>
<p>The GitHub API pagination has a limit of 200 items per page. I needed to fetch way more than 200 repositories, so I modified <a href="https://gist.github.com/mbohun/b161521b2440b9f08b59" target="_blank" rel="nofollow noopener noreferrer">this cool (but outdated) bash script</a> to fetch all of them in a single command and print them out to the console:</p>
<div data-language="bash"><pre><code><span>#!/bin/bash</span>

<span>if</span> <span>[</span> <span>${<span>#</span>@}</span> -lt <span>2</span> <span>]</span><span>;</span> <span>then</span>
    <span>echo</span> <span>"usage: <span>$0</span> [your github credentials as 'user:token'] [REST expression]"</span>
    <span>exit</span> <span>1</span><span>;</span>
<span>fi</span>

<span>GITHUB_CREDENTIALS</span><span>=</span><span>$1</span>
<span>GITHUB_API_REST</span><span>=</span><span>$2</span>

<span>GITHUB_API_HEADER_ACCEPT</span><span>=</span><span>"Accept: application/vnd.github.v3+json"</span>

<span>temp</span><span>=</span><span><span>`</span><span>basename</span> $0<span>`</span></span>
<span>TMPFILE</span><span>=</span><span><span>`</span>mktemp /tmp/$<span>{</span>temp<span>}</span>.XXXXXX<span>`</span></span> <span>||</span> <span>exit</span> <span>1</span>

<span>function</span> <span>rest_call</span> <span>{</span>
    <span>curl</span> -s -u <span>$GITHUB_CREDENTIALS</span> <span>$1</span> -H <span>"<span>${GITHUB_API_HEADER_ACCEPT}</span>"</span> <span>&gt;&gt;</span> <span>$TMPFILE</span>
<span>}</span>


<span>last_page</span><span>=</span><span><span>`</span><span>curl</span> -s -I -u $GITHUB_CREDENTIALS <span>"https://api.github.com<span>${GITHUB_API_REST}</span>?per_page=200"</span> -H <span>"<span>${GITHUB_API_HEADER_ACCEPT}</span>"</span> <span>|</span> <span>grep</span> <span>'^Link:'</span> <span>|</span> <span>sed</span> -e <span>'s/^Link:.*page=//g'</span> -e <span>'s/&gt;.*$//g'</span><span>`</span></span>


<span>if</span> <span>[</span> -z <span>"<span>$last_page</span>"</span> <span>]</span><span>;</span> <span>then</span>
    
    rest_call <span>"https://api.github.com<span>${GITHUB_API_REST}</span>?per_page=200"</span>
<span>else</span>
    
    <span>for</span> <span>p</span> <span>in</span> <span><span>`</span><span>seq</span> <span>1</span> $last_page<span>`</span></span><span>;</span> <span>do</span>
        rest_call <span>"https://api.github.com<span>${GITHUB_API_REST}</span>?per_page=200&amp;page=<span>$p</span>"</span>
    <span>done</span>
<span>fi</span>

<span>cat</span> <span>$TMPFILE</span></code></pre></div>
<p>I named the script <code>githubapi-get.sh</code> and used it this way:</p>
<div data-language="bash"><pre><code>
githubapi-get.sh <span>"{USERNAME}:{TOKEN}"</span> <span>"/orgs/{ORGANIZATION}/repos"</span> <span>&gt;</span> ~/my-company-repos.txt</code></pre></div>
<p>FYI, you can also run it this way to get all the repositories you have access to (both on your personal account and on other organization accounts):</p>
<div data-language="bash"><pre><code>
githubapi-get.sh <span>"{USERNAME}:{TOKEN}"</span> <span>"/user/repos"</span> <span>&gt;</span> ~/my-github-repos.txt</code></pre></div>
<h2>Making the repository list compatible with Alfred</h2>
<p>To populate the Alfred list filter, for each repo I extracted the following information:</p>
<ul>
<li><code>uid</code>: Unique identifier for the item which allows Alfred to learn about this item for subsequent sorting and ordering of the user’s actioned results. I used the repository ID (<code>id</code>).</li>
<li><code>arg</code>: The argument which is passed through the workflow to open it in the browser. I used the repository URL (<code>html_url</code>).</li>
<li><code>title</code>: The title displayed in the result row. I used the repository name (<code>name</code>).</li>
<li><code>subtitle</code>: The subtitle displayed in the result row. I used the repository description (<code>description</code>).</li>
</ul>
<p>Using the following <code>jq</code> script:</p>
<div data-language="bash"><pre><code><span>cat</span> ~/my-company-repos.txt <span>|</span> jq -s <span>'.[] | map({ arg: .html_url, uid: .id, title: .name, subtitle: .description }) | { items: . }'</span> <span>&gt;</span> ~/my-company-repos.json</code></pre></div>
<p>The <code>jq</code> script generates a <code>~/my-company-repos.json</code> file compatible with the <a href="https://www.alfredapp.com/help/workflows/inputs/script-filter/json/" target="_blank" rel="nofollow noopener noreferrer">Alfred Script Filter JSON format</a>.</p>
<h2>Creating the Alfred workflow</h2>
<p>The Alfred standard script filtering doesn’t have a good fuzzy search option — which I really wanted given the huge amount of repositories.</p>
<p>As a workaround, I used <a href="https://github.com/deanishe/alfred-fuzzy" target="_blank" rel="nofollow noopener noreferrer">alfred-fuzzy</a>, a Python helper script for Alfred that replaces the “Alfred filters results” option with fuzzy search.</p>
<p>Here’s what I did, step by step:</p>
<ol>
<li>Create a new empty Alfred workflow</li>
<li>Right-click on the created workflow ⭢ “Open in Finder”</li>
<li>In the workflow directory, copy and paste both <a href="https://raw.githubusercontent.com/deanishe/alfred-fuzzy/master/fuzzy.py" target="_blank" rel="nofollow noopener noreferrer">fuzzy.py</a> and <code>my-company-repos.json</code>.</li>
<li>In the workflow, create the following “Script Filter”:
<span>
      <span></span>
  <img alt="workflow 0" title="workflow 0" src="https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/fcda8/workflow-0.png" srcset="https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/12f09/workflow-0.png 148w,
https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/e4a3f/workflow-0.png 295w,
https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/fcda8/workflow-0.png 590w,
https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/efc66/workflow-0.png 885w,
https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/c83ae/workflow-0.png 1180w,
https://mmazzarolo.com/static/79ea20fa5f1577ca4cb07a0fd9329861/2b608/workflow-0.png 1540w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></li>
<li>In the workflow, create the following “Open URL” action:
<span>
      <span></span>
  <img alt="workflow 1" title="workflow 1" src="https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/fcda8/workflow-1.png" srcset="https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/12f09/workflow-1.png 148w,
https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/e4a3f/workflow-1.png 295w,
https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/fcda8/workflow-1.png 590w,
https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/efc66/workflow-1.png 885w,
https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/c83ae/workflow-1.png 1180w,
https://mmazzarolo.com/static/5f157cd5f9d5e2e8f928074cc6d37708/7960f/workflow-1.png 1274w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></li>
<li>In the workflow, connect the “Script Filter” to the “Open URL” action:
<span>
      <span></span>
  <img alt="workflow 2" title="workflow 2" src="https://mmazzarolo.com/static/ca9a91ea4b4aed993050fc92f0780f4d/fcda8/workflow-2.png" srcset="https://mmazzarolo.com/static/ca9a91ea4b4aed993050fc92f0780f4d/12f09/workflow-2.png 148w,
https://mmazzarolo.com/static/ca9a91ea4b4aed993050fc92f0780f4d/e4a3f/workflow-2.png 295w,
https://mmazzarolo.com/static/ca9a91ea4b4aed993050fc92f0780f4d/fcda8/workflow-2.png 590w,
https://mmazzarolo.com/static/ca9a91ea4b4aed993050fc92f0780f4d/8ae3e/workflow-2.png 756w" sizes="(max-width: 590px) 100vw, 590px" loading="lazy">
    </span></li>
</ol>
<p>That’s it.
I can now invoke the workflow using the keyword set in the “Script Filter” action and fuzzy search the repo I’m interested in.</p>
<p>Alfred is also smart enough to keep track of my workflow usage, surfacing the most clicked results to the top of the list 💥</p>
<blockquote>
<p>Yes, the workflow can be improved in several ways (e.g.: auto-update the repository list after n days)… but I’m happy enough with the current result for now.</p>
</blockquote></section></div>]]>
            </description>
            <link>https://mmazzarolo.com/blog/2020-09-28-alfred-github-repos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026757</guid>
            <pubDate>Sun, 08 Nov 2020 16:24:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I made a website to guess tomorrow’s Covid-19 case count]]>
            </title>
            <description>
<![CDATA[
Score 22 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25026666">thread link</a>) | @nathell
<br/>
November 8, 2020 | http://blog.danieljanus.pl/2020/11/08/coronalotto/ | <a href="https://web.archive.org/web/*/http://blog.danieljanus.pl/2020/11/08/coronalotto/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><h2>Before</h2><p>It seems so obvious in hindsight. Here in Poland, people have been guessing it ever since the pandemic breakout: in private conversations, in random threads on social media, in comments under governmental information outlets. It seemed a&nbsp;matter of time before someone came up with something like this. In fact, on one Sunday evening in October, I&nbsp;found myself flabbergasted that apparently no one yet has.</p><p>I&nbsp;doled out $4 for a&nbsp;domain, <a href="http://koronalotek.pl/">koronalotek.pl</a> (can be translated as “coronalotto” or “coronalottery” – occurrences of the name on Twitter date back at least as far as April), and fired up a&nbsp;REPL. A&nbsp;few hours and 250 Clojure LOCs later, the site was up.</p><p>I&nbsp;wanted it to&nbsp;be as simple as possible. A&nbsp;form with two fields: “your name” and “how many cases tomorrow?” A&nbsp;top-ten list of today’s winners, sorted by the absolute difference between the guess and the actual number of cases, as <a href="https://twitter.com/mz_gov_pl">reported daily on Twitter</a> by the Polish Ministry of Health. The official number, prominently displayed. And that’s all.</p><p><img src="http://blog.danieljanus.pl/img/blog/koronalotek.png"></p><p>On 17 October, I&nbsp;posted the link on my Facebook and Twitter feeds, and waited. The stream of guesses started to&nbsp;trickle in.</p><h2>After</h2><p>It never grew to&nbsp;be more than a&nbsp;stream, but it hasn’t gone completely unnoticed either.</p><p><img src="http://blog.danieljanus.pl/img/blog/koronalotek-g1.png"></p><p>The above plot shows daily number of accepted guesses (i.e., those that were used to&nbsp;generate the next day’s winners) over time – a&nbsp;metric of popularity. Each day’s number means guesses cast in the 24 hours up until 10:30 (Warsaw time) on that day, which is when the official numbers are published by the Ministry of Health.</p><p>I’ve been filtering out automated submissions, as well as excess manual submissions by the same IP that seemed to&nbsp;skew the results too much – I’ve arbitrarily set the “excess” threshold at 10. The missing datapoint for 19 October is not a&nbsp;zero, but a&nbsp;N/A: I’ve lost that datapoint due to&nbsp;a&nbsp;glitch. More on this below.</p><p>The interest peaked on October 23, with more than a&nbsp;thousand guesses for that day (I&nbsp;think it was reposted by someone with a&nbsp;significant outreach back then), and has been slowly declining since.</p><p>I&nbsp;have privately received some feedback. One person has pointed out that they found the site distasteful and that making fun of pandemic tragedies made them uncomfortable. (I&nbsp;empathise; for me it’s not so much making fun as it is a&nbsp;coping mechanism—a&nbsp;way to&nbsp;put distance between my thoughts and the difficult times we’re in and to&nbsp;keep fears at bay.) Some people, however, have thanked me for making them smile when they guessed more or less correctly.</p><p>Back to&nbsp;data. Being a&nbsp;data junkie, I&nbsp;looked at what I&nbsp;had been collecting. First things first: how accurate is the collective predictive power of the guessers?</p><p><img src="http://blog.danieljanus.pl/img/blog/koronalotek-g2.png"></p><p>Quite accurate, in fact! Data for this plot has only been slightly preprocessed, by filtering out “unreasonable” guesses that don’t fall within the range <code>[100; 50000]</code>.</p><p>People have over- and underguesstimated the number of new cases, but not by much. There were only a&nbsp;few occasions where the actual case count didn’t fall within one standard deviation of the mean of guesses (represented by the whiskers around blue bars on the plot). Granted, the daily standard deviation tends to&nbsp;be large (on the order of a&nbsp;few thousand), but still, I’m impressed. A&nbsp;paper on estimating the growth of pandemic based on coronalottery results coming soon to&nbsp;a&nbsp;journal near you! ;-)</p><p>Just for the heck of it, I’ve also been looking at individual votes. Specifically, names. Here’s a&nbsp;snapshot of unique guessers’ names sorted by decreasing length, on 23 October. (NSFW warning: expletives ahead!)</p><p><img src="http://blog.danieljanus.pl/img/blog/koronalotek-names.jpg"></p><p>Let me translate a&nbsp;few of these for those of you who don’t speak Polish:</p><p>1 is “Sasin has fucked over 70 million zlotys for elections that didn’t take place and was never held responsible.” This alludes to&nbsp;the <a href="https://notesfrompoland.com/2020/05/27/70-million-zloty-bill-for-polands-abandoned-presidential-election/">ghost election in Poland</a> from May. This news had gone memetic, going so far as Minister Sasin’s name being ironically used as a&nbsp;dimensionless unit of 70 million (think Avogadro’s number). You’ll discover the same theme in #2, #3, #5, and others.</p><p>6 is “CT {Constitutional Tribunal}, you focking botch, stop repressing my abortion”. Just a&nbsp;day before, the Polish constitutional court (whose current legality is <a href="https://en.wikipedia.org/wiki/Constitutional_Tribunal_(Poland)#2015%E2%80%93present:_Polish_Constitutional_Court_crisis">disputed at best</a>) has <a href="https://notesfrompoland.com/2020/10/22/constitutional-court-ruling-ends-almost-all-legal-abortion-in-poland/">decreed a&nbsp;ban on almost all legal abortion</a> in Poland, giving rise to&nbsp;<a href="https://edition.cnn.com/2020/10/31/europe/poland-abortion-protests-scli-intl/index.html">the biggest street protests in decades</a>.</p><p>Not all is political: 4 is “Why study for the exam if we’re not gonna survive until November anyway?”. I&nbsp;hope whoever wrote this is alive and well.</p><p>Corollary? Give people a&nbsp;text field, and they’ll use it to&nbsp;express themselves: politically or otherwise.</p><p>In fact, I&nbsp;have taken the liberty of chiming in. Shortly after, I&nbsp;altered the thank-you page (which used to&nbsp;just say “thanks for guessing”) to&nbsp;proudly display one of the emblems of the Women’s Strike, along with a&nbsp;link to&nbsp;a&nbsp;<a href="https://zrzutka.pl/kasa-na-aborcyjny-dream-team-55g5gx">crowdfounding campaign</a> for an NGO that supports women needing abortion.</p><p><img src="http://blog.danieljanus.pl/img/blog/koronalotek-thanks.jpg"></p><h2>Inside out</h2><p>I’m not much of a&nbsp;DevOps person, so I&nbsp;deployed it the quick and dirty way, not caring about scalability or performance. The maxim “make it as simple as possible” permeates the setup.</p><p>I&nbsp;just started a&nbsp;REPL within a&nbsp;<code>screen</code> session on the tiny Scaleway C1 server that also hosts this blog and some of my other personal stuff. I&nbsp;launched a&nbsp;Jetty server within it, and set up a&nbsp;nginx proxy. And that’s pretty much it. I&nbsp;liberally tinker with the app’s state in “production,” evaluating all kinds of expressions when I&nbsp;feel like it.</p><p>Code changes are deployed by <code>git pull</code>ing new developments and doing <code>(require 'koronalotek.core :reload)</code> in the REPL.</p><p>Someone tried a&nbsp;SQL injection attack. This is doomed to&nbsp;fail because there’s no SQL involved. In fact, there’s no database at all. The entire state is kept in an in-memory atom and periodically synced out to&nbsp;an EDN file. In addition, state is reset and archived daily at the time of announcing winners. (I’ve added the archiving after forgetting it on one occasion – hence the lack of data for 19 October.)</p><p>I&nbsp;also don’t yet have a&nbsp;mechanism of automatically pulling in the Ministry of Health’s data. Every morning, I&nbsp;spend two minutes checking if there’s excess automatic votes, removing them if any, and then filling in the blanks:</p><pre><code>(new-data! #inst "2020-11-08T10:30+01:00" 24785)
</code></pre><p>For all the violations of good practices in this setup, it has worked out surprisingly well so far. I’ve resorted to&nbsp;removing automated votes a&nbsp;handful of times, and blacklisting IPs of voting bots in the nginx setup twice, but otherwise it’s been a&nbsp;low-maintenance toy. People seem to&nbsp;be willing to&nbsp;have fun, and I’m just not interfering.</p><h2>Takeaways</h2><ol><li>You should call on your country’s authorities to&nbsp;exert pressure on the Polish government to&nbsp;respect women’s choices and stop actively repressing them.</li><li>Give people a&nbsp;text field, and they’ll use it to&nbsp;express themselves.</li><li>Release early, release often.</li></ol></div></div>]]>
            </description>
            <link>http://blog.danieljanus.pl/2020/11/08/coronalotto/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026666</guid>
            <pubDate>Sun, 08 Nov 2020 16:13:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Problem Solving Techniques]]>
            </title>
            <description>
<![CDATA[
Score 183 | Comments 23 (<a href="https://news.ycombinator.com/item?id=25026561">thread link</a>) | @denvaar
<br/>
November 8, 2020 | https://denvaar.github.io/articles/problem_solving_example.html | <a href="https://web.archive.org/web/*/https://denvaar.github.io/articles/problem_solving_example.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>âœ�ï¸� Going meta - Working through a programming problem to understand problem solving techniques.</p><div>
        <p>The technical skills of computer programming fall under two broad categories, in my opinion.</p>
<p>The first category includes things like learning language syntax, constructs, and patterns. I would summarize it as the ability to connect and utilize the myriad, "tools of the trade" -- languages, frameworks, APIs, libraries -- to create software. There's usually tutorials for these things.</p>
<p>The second category includes things that are a little bit harder to put your finger on, but can probably be best described as problem solving. It's the ability to analyze, troubleshoot, debug, or solve a problem. It's the ability to reason with abstract ideas and turn them into code.</p>
<p>There is for sure some overlap between these two categories, but this is how I like to think about it.</p>
<p>It's hard to be specific about what it takes to be good at problem solving. I believe that's because we all have a slightly different perception of the world around us. Everyone learns differently. There must, however, be at least some techniques that I might learn from you, and vice versa.</p>
<p>Problems like the one I am about to share can be great tools for learning about problem solving. This one's from Project Euler. My intention is not to simply spoil the answer. I want to share my process of figuring it out, with the hope of being able to pinpoint some specific strategies that can be used to solve all kinds of problems.</p>
<h2 id="thechallenge">The challenge</h2>
<p>You can find the original problem statement <a href="https://projecteuler.net/problem=79">here</a>. It's short, so take a moment to read through.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_0.png" alt=""></p>
<p>The challenge is to determine what the shortest possible secret number is. Here's an excerpt from the keylogger file.</p>
<pre><code>...
160
689
716
731
736
...
</code></pre>
<h2 id="firststeps">First steps</h2>
<p>I began by sitting down with pencil and paper to write some numbers from the list. Writing helps me begin to think about the problem.</p>
<p>I thought about what these numbers in the list could tell me about the secret number. Maybe I could find a way to at least figure out its length. There are about fifty numbers in the list, so maybe that number is somehow correlated to the secret number.</p>
<p>These were a few of the questions going through my head. If the answers seem super obvious to you, then congratulations, you might be smarter than me. What's most important during the first steps is that you ask questions.</p>
<p>I realized pretty quickly that no, the length of the list I was given didn't tell me much, but you've got to start somewhere. Next, my thoughts turned to the fact that each number was three digits long.</p>
<p><em>What if I was given a list of two-digit numbers, or even a list of just one-digit numbers? What could that tell me about the length of the secret number? Is there something special about three-digit numbers in particular?</em> These were valuable questions to ask, because it helped me to simplify the problem.</p>
<p>I made a list of one-digit numbers and tried to think about how I might be able to solve the same problem with that instead.</p>
<pre><code>6
2
1
0
</code></pre>
<p>Given a list like this as clues, I could say for certain that the secret number has at least a 6,2,1, and 0, but I also loose essential information about the problem: The order that the numbers appear in. A list of one-digit numbers is too ambiguous. The secret number could be <code>6210</code>, <code>2601</code>, or any other combination, and I would have no way of knowing which one is correct.</p>
<p>A list of two-digit numbers might be nice. It's less to think about, yet is still able to convey the needed information. From this point forward, I decided to think about the list as two-digit numbers, rather than three-digit numbers.</p>
<h2 id="possibleoptionmaintainasortedarray">Possible option: Maintain a sorted array</h2>
<p>At this point, I still wasn't sure how to solve the problem on paper, so I decided to try and work backwards. I wrote down a random number and then picked a few pairs of digits from it to try and reconstruct my own version of the problem. I decided to go through each number in the list and write down the digits as if they were being inserted into some kind of array.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_1.png" alt=""></p>
<p>I realized an approach like this would not be very practical because it still leaves room for ambiguity.</p>
<p>In the example above, its clear that 5 is before 2, but if I continue to add the digits from the next number, I can't tell if the 1 should come before or after the 5. It's the same problem for the 8: I know it should come before the 2, but the data says nothing about if it should be before or after the 1, or the 5.</p>
<p>Even if I had another data point to disambiguate the clues -- <code>51</code>, for example -- sure, it would tell me that the 1 is in the correct spot between 5 and 2, but I already get the feeling that trying to write code to account for switching numbers around in an array is not going to be practical, and that there is probably an easier way.</p>
<p>Writing it out this way helped me realize that the help of some sort of data structure would be useful for solving this problem.</p>
<p>So now the question is, <em>what kind of data structure could help model this problem?</em> To help with this decision, I thought about what data is actually provided in the problem. Using the example above, the list of numbers reads as:</p>
<ul>
<li>5 "comes before" 2</li>
<li>1 "comes before" 2</li>
<li>8 "comes before" 2</li>
</ul>
<p>Each number in the list provides helpful clues, but the problem is that it's difficult to keep track of how each clue ultimately fits together. I tried to think of some kind of data structure that would be able to represent each clue individually, but also as a whole.</p>
<p>A directed graph seems to be a pretty natural fit to represent this information. Each node could be a digit, and the edges between nodes could represent the relationship between them.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_2.png" alt=""></p>
<p>I felt good about using a graph to solve the problem, but there were still some questions that I had to figure out.</p>
<ul>
<li>How would I know when the graph has enough information to to be able to get the secret number? In other words, how can I know when my answer is conclusive?</li>
<li>How could the graph be read or interpreted programmatically to produce the secret number?</li>
<li>What if a secret number had more than one of the same digit? Would that ruin my approach?</li>
</ul>
<h2 id="howtoknowwhentheanswerisconclusive">How to know when the answer is conclusive</h2>
<p>To help answer this question I used the same technique of creating a simplified version of the problem and working backwards. Pretend now that 157 is the secret number. How many edges between the nodes would it take to definitively say that 1 comes before both 5 and 7, and 5 comes before 7? The answer is three edges for this particular graph.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_3.png" alt=""></p>
<p>In this example, the order is known when number of edges are equal to the number of nodes. <em>Is it that simple? Can we know what the secret number is if the number of edges are equal to the number of nodes?</em></p>
<p>In this example, yes, but it doesn't hold true for the general case. By creating more examples, I start to find a relationship between the number of nodes, and the number of edges. Have a look at what four and five-digit secret numbers look like as a graph:</p>
<p><img src="https://denvaar.github.io/assets/secret_number_4.png" alt=""></p>
<p><img src="https://denvaar.github.io/assets/secret_number_5.png" alt=""></p>
<p>After drawing a few of these, I could begin to see a pattern emerge. As the number of nodes increase, the number of edges increase like, <code>1, 3, 6, 10, 15, 21, 28, ..</code>.</p>
<p>It can be helpful to look for patterns, because it means that there's an equation which can be used to represent some aspect of the problem. Here the pattern showed me what condition to use in order to know when my answer could be considered conclusive. This is the equation that represents that pattern, where n is the number of nodes in the graph.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_6.png"></p>
<h2 id="readingthegraphtofindtheanswer">Reading the graph to find the answer</h2>
<p>A hand-drawn graph helps to visualize the approach of solving this problem, but I knew that I would also need to keep in mind how the graph could be represented with code. Specifically, how to programmatically traverse the graph to produce a result.</p>
<p>After staring at the examples for a bit longer, I realized an obvious and helpful property about the graph.</p>
<p>The nodes with the most outward edges come before those with less outward edges. Additionally, the number of edges for each node differ by exactly one. This means that the first digit of the secret number should have the most outward edges, while the last digit would not have any outward edges.</p>
<p>This property made logical sense to me, and was something that could be easily translated into code.</p>
<h2 id="duplicatedigits">Duplicate digits</h2>
<p>A secret number with more than one of the same digit could cause problems with my approach. This was something that worried me as I was working, because it was not clear how to know which two nodes to put the edge between. For example, take a look at 1030 as the secret number, and imagine the digits given in the following order:</p>
<p><img src="https://denvaar.github.io/assets/secret_number_7.png" alt=""></p>
<p>There are multiple ways to draw the graph because there are two 0's. There should still be only one "correct" way. Creating a correct graph might depend on the order in which the digits are given. I might need to think of some way to backtrack and re-connect nodes in order to end up with the correct graph.</p>
<p>The correct and incorrect graphs can be compared to understand how exactly they differ. The incorrect graph has a circular dependency: 3 comes before both the orange and blue 0's, but then the blue 0 comes before 3, which is contradictory.</p>
<p>Another difference is that the correct version is the only one that satisfies the property mentioned above, where the number of each node's edges differ by exactly one. This property should always be true for any secret number modeled with the graph.</p>
<p><img src="https://denvaar.github.io/assets/secret_number_8.png" alt=""></p>
<p>At this point, I decided to put the question of duplicate digits on hold. It looked like this would break the approach that I had planned to use. I think its possible to figure out, but it was unclear if this use case needed to be supported at all.</p>
<p>My plan was now to turn my ideas into code to see if it would produce the correct answer.</p>
<h2 id="translateideastocode">Translate ideas to code</h2>
<p>This part went by pretty quickly because I had formed a good understanding of the problem, as well as an approach for how to solve it. I picked Python for no particular reason, …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://denvaar.github.io/articles/problem_solving_example.html">https://denvaar.github.io/articles/problem_solving_example.html</a></em></p>]]>
            </description>
            <link>https://denvaar.github.io/articles/problem_solving_example.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026561</guid>
            <pubDate>Sun, 08 Nov 2020 15:57:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Making a programming language using Rust]]>
            </title>
            <description>
<![CDATA[
Score 195 | Comments 25 (<a href="https://news.ycombinator.com/item?id=25026419">thread link</a>) | @azhenley
<br/>
November 8, 2020 | https://arzg.github.io/lang/ | <a href="https://web.archive.org/web/*/https://arzg.github.io/lang/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>A series about making a programming language called <a href="https://github.com/arzg/eldiro">Eldiro</a> using the <a href="https://rust-lang.org/">Rust</a> programming language.</p><p><a href="https://arzg.github.io/lang/9/">Part Nine: Function Calls</a></p><p><a href="https://arzg.github.io/lang/8/">Part Eight: Function Definitions</a></p><p><a href="https://arzg.github.io/lang/7/">Part Seven: A REPL</a></p><p><a href="https://arzg.github.io/lang/6/">Part Six: Blocks</a></p><p><a href="https://arzg.github.io/lang/5/">Part Five: Binding Usages</a></p><p><a href="https://arzg.github.io/lang/4/">Part Four: Backtracking</a></p><p><a href="https://arzg.github.io/lang/3/">Part Three: Defining Variables</a></p><p><a href="https://arzg.github.io/lang/2/">Part Two: Whitespace Support</a></p><p><a href="https://arzg.github.io/lang/1/">Part One: A Basic Parser</a></p><p><a href="https://arzg.github.io/lang/0/">Part Zero: Getting set up</a></p></div></div>]]>
            </description>
            <link>https://arzg.github.io/lang/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026419</guid>
            <pubDate>Sun, 08 Nov 2020 15:41:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Google Cloud IAM for Security Teams]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25026227">thread link</a>) | @gbrindisi
<br/>
November 8, 2020 | https://cloudberry.engineering/article/google-cloud-iam-security-guide/ | <a href="https://web.archive.org/web/*/https://cloudberry.engineering/article/google-cloud-iam-security-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
    <div>
        <div>
            <p>Identity and Access Management (IAM) is an important piece of the cloud puzzle and it’s usually a source of headaches from a security point of view. Let’s try to give some pointers from a blue team perspective.</p>

<p>If you are a security team that just inherited a bunch of Google Cloud Platform (GCP) accounts, this guide is for you.</p>

<h2 id="identities-and-roles">Identities and Roles</h2>

<p>IAM revolves around the concept of <strong>identity</strong>: an (authenticated) entity to which authorization grants are applied.</p>

<h3 id="members">Members</h3>

<p>In Google Cloud, identities are called <strong>members</strong> and are the following:</p>

<ul>
<li>A <strong>User</strong>: defined by a Google Account</li>
<li>A <strong>Group</strong>: defined by a Google Group</li>
<li>A <strong>domain</strong>: a super group representing all accounts under a gsuite/workspace domain</li>
<li>A <strong>Service Account</strong>: an account for an application rather than an end user</li>
</ul>

<p>To make things spicier, there are also two special members that you are going to hate and you want to make sure they will <em>never be used</em> (unless valid business reasons):</p>

<ul>
<li><strong>allAuthenticatedUsers</strong>: a special group comprised of everyone on earth with a google account (yes)</li>
<li><strong>allUser</strong>: anyone on the internet, authenticated or not</li>
</ul>


<div><p>
Pro Tip:</p>

<ul>
<li>scan your IAM policies and make sure that <code>allAuthenticatedUsers</code> and <code>allUsers</code> are never used</li>
<li>or even better, set up an organizational policy to only allow members from your gsuite/workspace domain</li>
</ul>
</div>


<h3 id="roles">Roles</h3>

<p>You assign (bind) a Role to a Member to grant that identity access to a resource. An example role is  <code>resourcemanager.projectCreator</code>:</p>

<pre><code>$ gcloud iam roles list
…
---
description: Access to create new GCP projects.
etag: AA==
name: roles/resourcemanager.projectCreator
stage: GA
title: Project Creator
---
…
</code></pre>

<p>Roles are a set of <em>permissions</em> grouped together, each one representing a fine grained operation. You can’t assign permissions directly to members.</p>

<p>An example permission would be <code>resource manager.projects.create</code>:</p>

<pre><code>$ gcloud iam roles describe roles/resourcemanager.projectCreator
description: Access to create new GCP projects.
etag: AA==
includedPermissions:
- resourcemanager.organizations.get
- resourcemanager.projects.create
name: roles/resourcemanager.projectCreator
stage: GA
title: Project Creator
</code></pre>

<p>Usually, every cloud service will come with a dedicated set of Roles (<a href="https://cloudberry.engineering/article/stricter-access-control-to-gcr/">not for Google Container Registry</a>).</p>

<h3 id="custom-roles">Custom Roles</h3>

<p>As a rule of thumb <strong>stick to standard roles</strong>, but if you have to bind a role to a member in a high level policy you might want to <a href="https://cloud.google.com/iam/docs/creating-custom-roles">use a custom role</a>. Custom Roles allows you to group together the specific set of permissions you need.</p>

<p>They are helpful to maintain least privilege because a role bind on a high level policy (like the Organization one) will affect way more resources.</p>


<div><p>
Pro Tip:</p>

<ul>
<li>Use standard roles when the number of affected resources is limited</li>
<li>Use custom roles when the authorization grant affect too many resources</li>
</ul>
</div>


<h3 id="primitive-roles">Primitive Roles</h3>

<p>There are a bunch of roles you should be wary of: <em>primitive roles</em>. These are <code>Owner</code>, <code>Editor</code> and <code>Viewer</code>. When they are bind on the Project IAM policy they translate to admin, write and read access to everything inside that project.</p>

<p>You want to be wary for two reasons:</p>

<ol>
<li>The set of permissions change over time: when Google release new cloud services, permissions for such services are included in the primitive roles. This means <strong>you have an authorization grant that change over time and you have no control over</strong>. No bueno.</li>
<li><strong>They are a bridge to <a href="https://cloud.google.com/storage/docs/access-control/lists">Access Control List</a></strong> (ACL). ACL are the legacy authorization system for some storage services such as Buckets and Bigquery. In such resources you can assign ACL grants to whoever is bind to a primitive role in the Project. This relationship <strong>adds complexity when trying to understand the <a href="https://cloudberry.engineering/article/lateral-movement-cloud/">blast radius</a></strong> of a member.</li>
</ol>

<p>If you can’t escape using a primitive role, bind them to members that you will use only in “break the glass” scenarios. In practice, you don’t want a team doing their day to day operations as <code>Owners</code>.</p>


<div><p>
Pro Tip:</p>

<ul>
<li>Avoid primitive roles</li>
<li>Do not use Access Control Lists (ACL)</li>
</ul>
</div>


<h2 id="iam-policies-and-where-to-find-them">IAM Policies (and where to find them)</h2>

<p>Roles are bind to members in an IAM Policy. Policies are organized in hierarchical layers (from top to bottom):</p>

<ul>
<li><strong>Organization</strong></li>
<li><strong>Folder</strong></li>
<li><strong>Project</strong></li>
<li>Specific Resources.</li>
</ul>

<p>Bindings will be inherited from top to bottom.</p>

<p>So if you assign <code>Storage Admin</code> to a service account in the Organization IAM Policy, the same grant will be applied to everything down (don’t do that).</p>

<p>You obviously want to be extra careful when binding roles high in the hierarchy as the authorization grant will be quite large. That’s why it’s a good idea to use custom roles to shrink it to just the permissions you need.</p>

<p>Some specific cloud resources, such as Buckets, have their own IAM policy. These are easy to overlook because they don’t have a consistent place in the google cloud admin interface.</p>

<p>The best way to <strong>get visibility over all IAM policies</strong> is to <a href="https://cloud.google.com/asset-inventory/">create a Cloud Asset Inventory (CAI) dump</a>. CAI is, in my opinion, <strong>the most useful thing in GCP</strong>. It’s an API that will generate a json (or bigquery) dump of all the resources and IAM Policies you are currently running.</p>

<p>The best thing you can do on day one is to set up periodical CAI dumps, and then build your detections on top of them.</p>

<h3 id="maintain-the-principle-of-least-privilege">Maintain the principle of least privilege</h3>

<p>The second best thing is to <a href="https://cloud.google.com/iam/docs/recommender-overview">use the IAM Recommender</a>: a service that monitors how role bindings are actually used to make sure you are not over granting them.</p>

<p>Another helpful trick to know is that you can <a href="https://cloud.google.com/iam/docs/conditions-overview">attach conditions to role bindings</a>. For example you can set an expiration time, or you can scope down the binding to affect only certain resources matching a pattern.</p>


<div><p>
Pro Tip:</p>

<ul>
<li>The higher in the IAM hierarchy, the wider the scope of the authorization grant: use sporadically, be a gatekeeper.</li>
<li>Set up Cloud Asset Inventory to not miss anything</li>
<li>Use the IAM Recommender</li>
<li>Use IAM Conditions</li>
</ul>
</div>


<h2 id="notes-on-service-accounts">Notes on Service Accounts</h2>

<p>Service accounts can be of two types: google managed and user managed.</p>

<p>A user managed service account is one you manually create. To use it, you need to create a private key and embed it into your application. A service account can have multiple keys.</p>

<p><strong>Service Account keys lifecycle is your responsibility</strong>: they never really expires, are hard to audit (you don’t see which key has been used from the audit logs). From day one you should start thinking how to keep track of them.</p>

<p>Personally I am a fan of wrapping keys creation into an internal service for your developers to use, but I understand it’s not always possible.</p>

<p>The best alternative is to <strong>use google managed service accounts</strong>. For example each project will come with a default service account that is used by Google Compute Engine (GCE) services (if the GCE API is enabled).</p>

<p>This means that virtual machines will transparently be identified by that service account, and they are authorized to request short-lived authorization tokens from the internal metadata service. You can configure them to use a service account of your choice and <strong>no keys are involved</strong>.</p>


<div><p>
Pro tip:</p>

<ul>
<li>Become a gatekeeper for provisioning Service Accounts keys</li>
<li>Use the identity of the virtual machines whenever possible</li>
<li>Are you running Google Kubernetes Engine (GKE)? Take a look at <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity">Workload Identity</a></li>
<li>Follow <a href="https://cloudberry.engineering/article/google-cloud-service-accounts-security-best-practices/">service accounts best practices</a></li>
</ul>
</div>


<h2 id="conclusion">Conclusion</h2>

<p>To recap:</p>

<ul>
<li>scan your IAM policies and make sure that <code>allAuthenticatedUsers</code> and <code>allUsers</code> are never used</li>
<li>or even better, set up an organizational policy to only allow members from your gsuite/workspace domain</li>
<li>Use standard roles when the number of affected resources is limited</li>
<li>Use custom roles when the authorization grant affect too many resources</li>
<li>Avoid primitive roles</li>
<li>Do not use Access Control Lists (ACL)</li>
<li>The higher in the IAM hierarchy, the wider the scope of the authorization grant: use sporadically, be a gatekeeper.</li>
<li>Set up Cloud Asset Inventory to not miss anything</li>
<li>Adhere to the least privilege principle with the IAM Recommender and IAM Conditions</li>
<li>Become a gatekeeper for provisioning Service Accounts keys</li>
<li>Use the identity of the virtual machines whenever possible</li>
<li>Are you running Google Kubernetes Engine (GKE)? Take a look at <a href="https://cloud.google.com/kubernetes-engine/docs/how-to/workload-identity">Workload Identity</a></li>
<li>Follow <a href="https://cloudberry.engineering/article/google-cloud-service-accounts-security-best-practices/">service accounts best practices</a></li>
</ul>

<p>There is a lot more to say about IAM governance and security best practices. This article’s purpose is to give a high level overview of the main security considerations.</p>

<p>If you are looking for specific advices, <a href="mailto:hello@cloudberry.engineering">let me know</a>. I might have some.</p>

<p>Finally, I highly recommend this <a href="https://www.youtube.com/watch?v=YGT_AmCA-eA&amp;feature=youtu.be">fantastic talk by Kat Traxler</a> about primitive roles and IAM quirks in GCP.</p>
        </div>
        
    </div>
</section></div>]]>
            </description>
            <link>https://cloudberry.engineering/article/google-cloud-iam-security-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026227</guid>
            <pubDate>Sun, 08 Nov 2020 15:13:26 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[BGP Lego Bricks]]>
            </title>
            <description>
<![CDATA[
Score 86 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25026189">thread link</a>) | @bitcynth
<br/>
November 8, 2020 | https://blog.cynthia.re/post/bgp-lego | <a href="https://web.archive.org/web/*/https://blog.cynthia.re/post/bgp-lego">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<h3>Nov 8 2020</h3>


<p>Since I was 7 years old, I have wanted a LEGO Mindstorms robot. I will admit that in the later years it was mainly that I wanted to prove to myself that I got somewhere as it seemed so infinitely expensive back when I was younger…</p>

<p><a href="https://twitter.com/bitcynth/status/1319956429252513792" title="Tweet about it"><img src="https://blog.cynthia.re/asset/g1ZkG7sMAD" alt="LEGO Robot Inventor"></a></p>

<p>Well I finally got one!</p>

<p>I knew this thing had some capability to run <a href="https://micropython.org/">MicroPython</a> since that was mentioned in the product description quite predominantly, which sounded like a pretty hackable platform.</p>

<p>However, shortly after opening the box, I realized that this wasn’t at all just an update to the <a href="https://www.lego.com/en-us/product/lego-mindstorms-ev3-31313">Mindstorms EV3</a>. Apparently the Robot Inventor was a slightly more expensive thing with less features and using a LiPo battery instead of AA cells.</p>

<p>Luckily I ordered it via the store’s website which means that by law I can return it within 14 days for any reason, and it allows me to open the box for inspection.</p>

<p>So after convincing some stubborn store employee that this is not a consumable product (which would remove my right to open the box), I got it returned and ordered the EV3.</p>

<p>Then two days later I finally had the thing which I have wanted for so long.</p>

<p>While I was waiting for the EV3, I was looking around at how it did MicroPython as it had this paragraph on the downloads page.</p>

<pre><code>You can now use your EV3 Brick to unleash the power of Python programming using MicroPython. Simply install the EV3 MicroPython image onto any micro SD card and boot up your EV3 Brick from it to start programming straight away. 
</code></pre>

<p>After just a few minutes of searching I found <a href="https://www.ev3dev.org/">ev3dev</a> which is an open source community project that allows you to run Debian on it!</p>

<p>It appears to be really well made and apparently good enough for LEGO to provide <a href="https://education.lego.com/en-us/support/mindstorms-ev3/python-for-ev3">official builds</a> of it, which is what they use for MicroPython support.</p>

<p>So I just went ahead and downloaded and flashed the disk image to a microSD card with <code>dd</code>.
I then plugged in the microSD card into the EV3 controller and turned it on…</p>

<p><img src="https://blog.cynthia.re/asset/rC3JqPiBNA" alt="EV3 kernel dmesg"></p>

<p>To my surprise, after applying power I was pleased to see kernel dmesg output scrolling out on the LCD of the EV3 on the first try!</p>

<pre><code>robot@ev3dev:~$ uname -a
Linux ev3dev 4.14.117-ev3dev-2.3.5-ev3 #1 PREEMPT Sat Mar 7 12:54:39 CST 2020 armv5tejl GNU/Linux

robot@ev3dev:~$ cat /etc/os-release 
PRETTY_NAME="ev3dev-stretch"
NAME="ev3dev-stretch"
ID=ev3dev
ID_LIKE=debian
HOME_URL="http://www.ev3dev.org"
SUPPORT_URL="http://www.ev3dev.org/support"
BUG_REPORT_URL="https://github.com/ev3dev/ev3dev/issues"
</code></pre>

<p>After playing around with it for about two minutes, I realized something… this thing runs Debian with a pretty damn complete package repository (it has ~64000 packages and normal amd64 Debian has ~66000 packages), can this thing run BIRD?</p>

<p>I assumed that if the ARM926EJ-S CPU can run Debian and stuff it can probably run a very minimal BIRD config, however I wasn’t so sure about the 56MB of RAM.</p>

<p>But well you won’t know if you don’t try :p</p>

<p>So I just went ahead and typed <code>sudo apt install bird</code> and pressed enter…</p>

<pre><code>robot@ev3dev:~$ sudo apt install bird
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Suggested packages:
  bird-doc
</code></pre>

<p>(this was actually painfully slow as this thing doesn’t have a powerful CPU in the slightest)</p>

<p>As soon as I saw <code>bird-doc</code> I realized that yes it did at least have BIRD in the repo so that was a good first step.</p>

<p>I am only installing BIRD 1.6.3 here as it will probably use less resources than BIRD 2 if I only run the IPv6 daemon and disable the IPv4 daemon.</p>

<p>I then wrote a <a href="https://blog.cynthia.re/asset/gv3GvwzBGH">quick little bird config</a> to let the EV3 (AS202314) announce 2a0d:1a45:666::/48 to my home router (AS210089), and the home router will then deal with the rest.</p>

<p>I applied that and wrote the other end of the config on my home router and applied that too.</p>

<p>Then I went to the <a href="http://lg.ring.nlnog.net/">NLNOG RING Looking Glass</a> and I saw the /48 show up as announced by AS202314!</p>

<p><img src="https://blog.cynthia.re/asset/KVCU9bynjB" alt="NLNOG RING Looking Glass"></p>

<p>I then sent it to a friend who pointed out only about half of his sources could see the route, and well turns out I forgot to give AS202314 an <a href="https://en.wikipedia.org/wiki/Resource_Public_Key_Infrastructure">RPKI ROA</a> for the prefix, so I added that.</p>

<p>Then just for demo purposes I installed nginx which worked surprisingly well, so then I had a website I could access at http://[2a0d:1a45:666::]/ <sup><a href="#fn1">[1]</a></sup>.</p>

<p>This was surprisingly easy to get working. Hats off to the <a href="https://www.ev3dev.org/">ev3dev</a> people for making this Debian derivative for the EV3.</p>

<p>While having the EV3 sitting there announcing a /48 of IPv6 is not useful in itself, this shows off how flexible the platform is. The fact that I can do this silly thing means that I can do much cooler things that don’t involve BGP on this, like running web servers and other things.</p>

<hr>

<p>If this was to your liking then maybe you will find my other posts interesting, and you can also find my smaller projects and ramblings on twitter: <a href="https://twitter.com/bitcynth">@bitcynth</a>.</p>

<p>Thank you to <a href="https://twitter.com/Benjojo12">Ben Cox</a> and <a href="https://www.mollymiller.net/">Molly Miller</a> for the help in editing this blog post.</p>

<p><sup><a name="fn1">[1]</a></sup>: no longer online</p>

</div></div>]]>
            </description>
            <link>https://blog.cynthia.re/post/bgp-lego</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026189</guid>
            <pubDate>Sun, 08 Nov 2020 15:06:49 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[macOS file diff app, Kaleidoscope, acquired by Letter Opener GmbH]]>
            </title>
            <description>
<![CDATA[
Score 84 | Comments 66 (<a href="https://news.ycombinator.com/item?id=25026070">thread link</a>) | @dplgk
<br/>
November 8, 2020 | https://kaleidoscope.app/release-notes | <a href="https://web.archive.org/web/*/https://kaleidoscope.app/release-notes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="macos"><h3>Kaleidoscope 2.3.4<p>November 6 2020</p></h3><p>build 1444 (Direct)</p><ul><li>Fixed some potential bugs hiding behind warnings.</li><li>Fixed missing update functionality of version 2.3.2.</li><li><strong>Note:</strong> If you installed version 2.3.2 please download manually the latest version.</li></ul><h3>Kaleidoscope 2.3.3<p>October 24 2020</p></h3><p>build 1443.1 (Mac App Store)</p><ul><li>Update contact information to support@kaleidoscope.app, don't be shy and say hi!</li><li>Fixed newsletter sign-up in the Help &gt; Getting Started window.</li></ul><h3>Change of ownership<p>October 9 2020</p></h3><ul><li>Letter Opener GmbH acquired Kaleidoscope from Hypergiant LLC.</li></ul><h3>Kaleidoscope 2.3.2<p>April 17 2020</p></h3><p>build 1442 (Direct) / 1442.1 (Mac App Store)</p><ul><li><strong>Note:</strong> build 1442 (Direct) was pulled because it is missing update functionality. If you installed version 2.3.2 please download manually the latest version.</li><li>Fixed bug in integration window</li></ul><h3>Kaleidoscope 2.3.1<p>April 7 2020</p></h3><p>build 1441 (Direct) / 1441.2 (Mac App Store)</p><ul><li>Fixed a crash caused by opening a zero-length text file</li><li>Improved scrolling performance when using Find to search for text</li><li>Minor bug fixes</li></ul><h3>Kaleidoscope 2.3<p>February 21 2020</p></h3><p>build 1438 (Direct)</p><ul><li>Improved macOS Catalina compatibility</li><li>Notarized builds for improved security</li><li>Fixed blurred scrollbar endcap issue on Retina displays</li><li>Updated crash analytics package</li><li>Minor bug fixes</li></ul><h3>Kaleidoscope 2.2.2<p>November 7 2017</p></h3><p>build 1376 (Direct) / 1376.01 (Mac App Store)</p><ul><li>Bug Fixes.</li></ul><h3>Kaleidoscope 2.2.1<p>August 9 2017</p></h3><p>build 1158 (Direct) / 1158.01 (Mac App Store)</p><ul><li><strong>Note:</strong> Kaleidoscope now requires macOS 10.12 or above.</li><ul><li>Fixed crashes related to future macOS releases.</li><li>Fixed an issue where the user is unnecessarily prompted to update ksdiff.</li><li>Updated documentation.</li><li>Added analytics to help our developers improve future releases.</li></ul></ul><h3>Kaleidoscope 2.2<p>May 3 2017</p></h3><p>build 439 (Direct) / 439.01 (Mac App Store)</p><ul><li><strong>New:</strong> Added support for recent macOS updates.</li><ul><li>Overhauled the interface to better reflect the contemporary Mac environment.</li><li>Added stability with multiple under-the-hood improvements.</li><li>Modernized the codebase to make future work more manageable.</li><li>Fixed various issues related to macOS Sierra.</li></ul></ul><h3>Kaleidoscope 2.1.1<p>June 9 2015</p></h3><p>build 219 (Direct)</p><ul><li><strong>Note:</strong> We are working to get version 2.1.1 into the Mac App Store. For now, please <a href="http://www.kaleidoscopeapp.com/download">download</a> the direct sale version. Your purchase will carry over.</li><li>Fixed a couple issues with our Bazaar integration instructions.</li><li>⌘-D now triggers the Don't Resolve button when dismissing a merge warning.</li><li>Improved automatic graphics switching support (Early 2011 or newer MacBooks Pro): Kaleidoscope will now only use the discrete GPU when necessary.</li><li>Updated our mechanism for purchasing a Kaleidoscope registration.</li></ul><h3>Kaleidoscope 2.1<p>April 30 2014</p></h3><p>build 134 (Direct) / 133.01 (Mac App Store)</p><ul><li><strong>New Feature:</strong> Added support for ignoring whitespace (leading, trailing and line ending) in text comparisons.</li><li><strong>New Feature:</strong> Added an indicator to display remaining unresolved conflicts in a merge document.</li><li><strong>Text Scope</strong><ul><li>Added dropdown menus on either side of Choose Left/Choose Right buttons to make “Choose Both” options more discoverable.</li><li>Added better tooltips for the “Copy to” buttons when in Unified view.</li><li>Fixed various issues with Dark Theme which made text difficult to read.</li><li>Fixed issue where selecting different text scope views on one window could affect copy right/left buttons on other windows.</li><li>Fixed issue where holding option to modify the behavior of copy right/left buttons on one window could affect other windows.</li><li>Fixed issue that could prevent Kaleidoscope from picking up changes made to a document open in more than one window.</li><li>Fixed issue that could prevent Kaleidoscope from picking up changes made to documents externally, especially on the MAS build.</li></ul></li><li><strong>Folder Scope</strong><ul><li>Fixed issue where sometimes Folder Scope copies would not show up correctly after the copy had taken place.</li><li>Fixed issue where Folder Scope would not pick up external additions of empty files or directories.</li><li>Fixed issue that caused the app to reject dragging of folders to the dock icon.</li></ul></li><li><strong>Integration</strong><ul><li>Fixed issue that caused git integration to fail on 10.9 Mavericks.</li><li>Fixed issue where ksdiff was sometimes not able to connect to Kaleidoscope after reboots with window restoration enabled.</li><li>Fixed issue that where Kaleidoscope would not allow quitting when choosing “Review Conflicts” on a modified document.</li></ul></li><li><strong>General Improvements</strong><ul><li>Updated Automator actions to categorize correctly in Automator.</li><li>Added support for copy/paste shortcuts in the crash reporter window.</li><li>Kaleidoscope now avoids saving files without changes.</li><li>Kaleidoscope will now disallow edits to files that can be read but not written to (e.g. docx files).</li><li>Kaleidoscope now better remembers size and position of your windows.</li><li>Fixed issue that stopped the comparison windows from minimizing when double clicking their title bar.</li><li>Fixed issue where the path bar area could fail to update correctly when switching tabs.</li><li>Fixed issue where clicking the dock icon would not restore minimized documents.</li><li>Fixed issue where dragging a group of files that were already open in Kaleidoscope could cause issues resulting in not all new files being added.</li><li>Fixed issue that made it possible for the comparison window to grow vertically offscreen on 10.9 leaving you with a window you could not reposition afterwards.</li><li>Fixed issue that made it impossible to bring up the open dialog by clicking on an empty tab when fullscreen in 10.9.</li><li>Fixed issue where sometimes full-screen windows would not be full-screen.</li><li>Fixed small visual issues with the Ignored Files dialog window.</li><li>Fixed documentation issues with ksdiff help.</li><li>Improved Help Documentation.</li><li>Various performance and stability fixes.</li></ul></li></ul><h3>Kaleidoscope 2.0.2<p>October 23 2013</p></h3><p>build 116</p><ul><li>Improved compatibility with OS X 10.9 Mavericks</li><li>Improved stability</li></ul><h3>Kaleidoscope 2.0.1<p>February 19 2013</p></h3><p>build 114</p><ul><li><strong>Text Scope</strong><ul><li>Tweaked the visual appearance of the change count stepper in Text Scope.</li><li>Fixed the "Reset Selection" menu item in Text Scope to enable and disable properly.</li><li>The Save menu is now properly disabled when comparing text snippets.</li><li>Fixed a bug where the summary text in document titles and tabs might not properly update.</li><li>The Resolved document in Three Way Blocks now has better alignment with similar content in A and B.</li><li>Kaleidoscope can now properly diff .textClipping documents.</li></ul></li><li><strong>Folder Scope</strong><ul><li>User-defined system date formats will now be properly used.</li><li>Fixed a bug that prevented Folder Scope from having the correct keyboard focus by default.</li></ul></li><li><strong>Image Scope</strong><ul><li>Kaleidoscope now handles different color spaces more reliably in Image Scope.</li><li>Kaleidoscope now properly accounts for camera orientation when displaying images in Image Scope.</li></ul></li><li><strong>Changesets</strong><ul><li>Improved keyboard navigation in changesets.</li><li>Unsaved files will now be properly marked as dirty in changesets.</li><li>Changesets now properly select the list of files on the left when opening, allowing you to quickly review changes.</li></ul></li><li><strong>General Improvements</strong><ul><li>Direct Sale fulfillment emails will now properly activate Kaleidoscope for users with diacritics in their names.</li><li>Kaleidoscope will no longer move itself to ~/Applications if that folder exists. It will now move to /Applications in all cases.</li><li>Fixed a bug that caused temporary licenses to expire one day earlier than they should have.</li><li>Fixed a bug that caused the corner radii of windows in Full Screen to not match.</li><li>Fixed an issue that sometimes led to poor vertical alignment in the File Shelf.</li><li>Dragging files to Kaleidoscope will properly open to a comparison document and will no longer leave the launch window open in the background.</li><li>Fixed a bug that caused accessing files from the Recents list to sometimes stop working.</li><li>Improved the messaging if Kaleidoscope is unable to open a document that was previously available via AFP.</li></ul></li></ul><h3>Kaleidoscope 2.0<p>January 17, 2013</p></h3><p>build 107</p><ul><li>Resets trial period for users whose trial period expired during beta</li></ul><h3>Kaleidoscope 2.0<p>January 17, 2013</p></h3><p>build 104</p><ul><li><strong>New Feature:</strong> Added support for merging text documents using a Two-Way interface in Text Scope.</li><li><strong>New Feature:</strong> Added version control integration for merging and resolving conflicts using a Three-Way interface in Text Scope.</li><li><strong>New Feature:</strong> Folder Scope — now you can spot the differences between folders and copy files and folders between them. Double click any row to open a new comparison and look at any pair of files or folders more closely.</li><li><strong>New Feature:</strong> Kaleidoscope Snippets and Services</li><ul><li>You can now drag text and images directly into the Kaleidoscope window, or the Kaleidoscope dock icon, to create Snippets. This lets you quickly compare content without having to save and name files. Try dragging images or text directly from Safari or an email message!</li><li>Kaleidoscope now includes OS X System Services to make you more productive. They are enabled by default, but you can manually turn them On or Off in the Keyboard section of System Preferences. You can also set global keyboard shortcuts for them in the Keyboard pane of System Preferences if you want to get to these even faster.</li><li>Open in Kaleidoscope: Right click on any files or folders in Finder, and compare them in a single Kaleidoscope tab. This is the easiest way to compare folders!</li><li>Text and Image Compare: Right click on text or images and send them directly to Kaleidoscope as Snippets. Try this by selecting and right clicking on any text in TextEdit, then select “Compare Text in Kaleidoscope” from the Services menu.</li></ul><li><strong>New Feature:</strong> Clipboard Support</li><ul><li>You can use the new "Edit -&gt; Paste as File" and "File -&gt; New from Clipboard" menu items to compare directly from the Clipboard. This works similarly to the drag and drop Snippets functionality. Use this to quickly create a new comparison document or to add existing text or images to an open document.</li></ul><li><strong>New Feature:</strong> Kaleidoscope now supports resolving merge conflicts for images.</li><li><strong>New Feature:</strong> Added support for Full Screen on Lion and Mountain Lion.</li><li>Full support for Macs with Retina displays.</li><li>Substantially updated and modernized user interface.</li><li>Added support for sending arbitrary changesets and partial changsets with ksdiff.</li><li>Added support for arbitrary merges and diffs using ksdiff.</li><li>Integration with third-party tools now requires installation of the ksdiff command-line tool from the Integration …</li></ul></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://kaleidoscope.app/release-notes">https://kaleidoscope.app/release-notes</a></em></p>]]>
            </description>
            <link>https://kaleidoscope.app/release-notes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026070</guid>
            <pubDate>Sun, 08 Nov 2020 14:44:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to Collect Log for SIEM?]]>
            </title>
            <description>
<![CDATA[
Score 10 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25026039">thread link</a>) | @gunal2
<br/>
November 8, 2020 | https://letsdefend.io/blog/how-to-collect-log-for-siem/?q=hackernews | <a href="https://web.archive.org/web/*/https://letsdefend.io/blog/how-to-collect-log-for-siem/?q=hackernews">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>

		<div>

			
<h2>Log Collection</h2>



<p>It contains a basic log, time, source system and a message. For example, when we look at the content of the “/var/log/auth.log” file on an Ubuntu server, we can see the source, time and message information.</p>



<figure><img src="https://letsdefend.io/blog/wp-content/uploads/2020/11/log.png" alt="" srcset="https://letsdefend.io/blog/wp-content/uploads/2020/11/log.png 685w, https://letsdefend.io/blog/wp-content/uploads/2020/11/log-300x22.png 300w, https://letsdefend.io/blog/wp-content/uploads/2020/11/log-330x24.png 330w" sizes="(max-width: 685px) 100vw, 685px"></figure>



<p>Logs are generally collected in the following 2 ways:</p>



<ul><li>Log Agents</li><li>Agentless</li></ul>



<p>We created online lab for investigation SIEM alerts. If you are interested, you can try for free on <a href="https://letsdefend.io/" target="_blank" aria-label="undefined (opens in a new tab)" rel="noreferrer noopener">letsdefend.io</a></p>



<h3>Log Agents</h3>



<p>In order to implement this method, a log agent software is required. Agents often have parsing, log rotation, buffering, log integrity, encryption, conversion features. In other words, this agent software can take action on the logs it collects before forwarding them to the target.</p>



<p>For example, with the agent software, we can divide a log with “username: LetsDefend; account: Administrator” into 2 parts and forward it as:</p>



<ul><li>message1 = “username: LetsDefend”&nbsp;</li><li>message2 = “account: Administrator”</li></ul>



<p><strong>Syslog</strong></p>



<p>It is a very popular network protocol for log transfers. It can work with both UDP and TCP, and can optionally be encrypted with TLS. Some devices that support syslog: Switch, Router, IDS, Firewall, Linux, Mac, Windows devices can become syslog supported with additional software.</p>



<p>If you want to forward your log with Syslog, you will need to parsing in syslog format.</p>



<p>Syslog Format:</p>



<p>Timestamp – Source Device – Facility – Severity – Message Number – Message Text</p>



<figure><img src="https://letsdefend.io/blog/wp-content/uploads/2020/11/09fig02.gif" alt=""><figcaption><em>https://flylib.com/books/1/297/1/html/2/images/1587051583/graphics/09fig02.gif</em></figcaption></figure>



<p>Also, the maximum packet size that can be sent with Syslog UDP is 1024 bytes. For TCP it is 4096 bytes.</p>



<p><strong>3. Party Agents</strong></p>



<p>Most SIEM products have their own agent software. 3rd party agents have more capabilities than syslog because of the features they support. Some agents:</p>



<p><strong>Splunk: </strong>universal forwarder</p>



<p><strong>ArcSight</strong>: ArcSight Connectors</p>



<p>These agents are easy to integrate into SIEM and have parsing features.</p>



<p><strong>Open Source Agents</strong></p>



<p>They are generally agents that provide basic needs comfortably. However, it may not be as effective as the agent of the SIEM product itself. (Ease of installation, integration, additional features etc.)</p>



<p>Popular open source agents:</p>



<ul><li><a aria-label="undefined (opens in a new tab)" href="https://www.elastic.co/beats/" target="_blank" rel="noreferrer noopener">Beats </a></li><li><a aria-label="undefined (opens in a new tab)" href="https://nxlog.co/" target="_blank" rel="noreferrer noopener">NXLog </a></li></ul>



<h3>Agentless</h3>



<p>Agentless log sending process is sometimes preferred as there is no installation and update cost. Usually, logs are sent by connecting to the target with SSH or WMI.</p>



<p>For this method, the username and password of the log server are required, therefore there is a risk of the password being stolen.</p>



<p>Easier to prepare and manage than the agent method. However, it has limited capabilities and credentials are wrapped in the network.</p>



<h3>Manual Collection</h3>



<p>Sometimes there are logs that you cannot collect with existing agent software. For example, if you cannot read the logs of a cloud-based application with the agent, you may need to write your own script</p>



<h3>Summary</h3>



<p>As you can see, there are various ways to collect logs. These are agents and agentless. In cases where the agents on the market are not sufficient, you should write your own scripts.</p>





		</div><!-- .entry-content -->

	</div></div>]]>
            </description>
            <link>https://letsdefend.io/blog/how-to-collect-log-for-siem/?q=hackernews</link>
            <guid isPermaLink="false">hacker-news-small-sites-25026039</guid>
            <pubDate>Sun, 08 Nov 2020 14:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Can we talk about failure?]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25025819">thread link</a>) | @mqsley
<br/>
November 8, 2020 | https://www.mquinn.online/blog/can-we-talk-about-failure | <a href="https://web.archive.org/web/*/https://www.mquinn.online/blog/can-we-talk-about-failure">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>For the longest time felt like I didn’t fail at things. I was brought up with the mindset that if something is doable, it cannot be hard. A mindset which compels you to find harder and harder challenges.</p><p>That all changed when Flex, the Techstars company I co-founded didn’t work out. It broke me.&nbsp;</p></div><div><p>What surprised me was that the network, “give first” and all of the opportunity that comes with it is great when you’re on the up but awkward, uncomfortable and at times “crickets” on the down.</p><p>Part of this I now realise is because when you’re in failure mode, you’re insufferable to everyone around you.</p><p>You carry this huge weight on your shoulders that you put on others every time you meet like a wounded animal, limping around looking to be put down.</p><p>I’m not sure if everyone has gone through this, but for me I suffered through thoughts like:<br>Will I be ever successful?<br>Will I ever be happy?<br>Will I ever have another good idea?<br>Was my idea good?<br>Can I have good Ideas?<br>Can I be good at anything?</p><p>I came to learn these can be called cognitive distortions, and the best way to stop them is to write them down and use reason and logic to disprove them.</p><p>Everyone just tells you its okay, put in their perspective, you’ll work it out - This whole experience was incredibly frustrating, how could a non founder possibly relate to the level of aspiration I had taken away from me. What is a well meaning attempt at helping often comes across as people shrugging you off.</p><p>There was a limit to what my coach could do because I convinced myself he hadn’t experienced it. How could he possibly understand what was left behind after this huge emotional debt bubble deflated.</p><p>I sought out others who’s companies had died, or who had been ousted from their own boards but it was hard to match with other failures because it was either a sufferfest of two people feeling sorry for themselves or one of you values success more than the other and you judge the others’ failure.</p><p>I didn't grieve, I tried to re-inflate the bubble inside me.</p><p>I didn’t get angry, I just wanted to get better, I just wanted to feel better without putting in the work.</p><p>I turned to reading, thinking that with over a century of modern business practices surely titans have recovered from this. Reading a gazillion business biographies, literature I now know to pop science schlop, did not help. In fact it made it worse.&nbsp;</p><p>I remember reading Lean In and it slid me into depression. How did Sheryl Sandberg career magically line up at the end? Was I on the right track? How do I get on track? Where is the track? What is the track?</p><p>I would openly talk about imposter syndrome to explain why I approached work and decisions the way I did, and came to learn that:</p><ul><li>Outside of tech many people have never heard of the concept<br></li><li>People who had, did not understand it<br></li><li>Many people thought imposter syndrome was in fact the Dunning Kruger effect and thus I was admitting to them I was a fraud.&nbsp;</li></ul><p>For me, the voices in my head eventually did die off. Normalcy came about a year later when I realised I was talking about and writing about my experiences from a perspective of wisdom rather than re-hashing scar tissue.</p><p>Serendipitously after this point, I was gifted the book - <a href="https://www.amazon.com/When-Smart-People-Fail-Rebuilding/dp/0140178112" target="_blank">When Smart People Fail </a>by another Techstars founder whose grandmother had gifted her the book after she had experienced a set back. A set back which ultimately led to the founding of her Techstars company.</p><p>Where was this book when I failed? While a subjectively unnecessary read, I read it anyway. In my personal opinion, it was probably the best thing I’ve ever read on dealing with personal failure.</p><p>I think it would have saved me months of anguish had I read it earlier, and while I truly love helping entrepreneurs and makers - my goto advice now, when someone has experienced failure and is looking for guidance is - read this book.</p><p>I think Techstars should gift this to every founder that fails, whether they leave their company, are forced out or go insolvent.</p><p>Between stories of failure, to understanding the core stages of grief that one must go through - there is something in the book for everyone.&nbsp;</p></div><div><p>Key things the book taught me:</p><ul><li>Failure is subjective to the victim</li><li>Failure has stages of grief that you must go through - if you skip any, you will experience prolonged pain. I can first hand attest to this.</li><li>If we treat success as a binary outcome, everything we sacrifice in the pursuit of success is meaningless when we fail.</li></ul><p>The third point is something I embraced over the year that followed. Clearly others think I have experience/advice/wisdom/ideas to share so there is value there and it made it all much less painful. If success is binary, those of us who don’t make it, lose many years of our lives for nothing.</p><p>This is a stance I fully reject and I thank Jen and the book for really teaching me this.</p><p>In full realisation of this final point - <a href="https://www.mquinn.online/failures.html">I’m committing to my failures in public.</a> We’ll see how long I can keep it up for, but for every project that didn’t hit the goal, the ideas that crash landed and the products that went unloved I’m keeping a record because these failures are not a waste of life, they are the stepping stones that when looking back in 20 years will all make sense.</p><p>Show me someone without failure and I’ll show you someone without learning.&nbsp;</p></div><div><p>Thanks to everyone that listened to me moan for a year about my failures.</p><p>A special thanks to fellow Techstars founder Sarah Tuneberg who gave me perspective through the journey, <span>Techstars founder&nbsp;</span>Jen Saxton who gifted me “When smart people fail” and my wife for supporting me while I put myself back together.&nbsp;</p></div></div>]]>
            </description>
            <link>https://www.mquinn.online/blog/can-we-talk-about-failure</link>
            <guid isPermaLink="false">hacker-news-small-sites-25025819</guid>
            <pubDate>Sun, 08 Nov 2020 13:54:12 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How Python bytecode is executed]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25025451">thread link</a>) | @r4victor
<br/>
November 8, 2020 | https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/ | <a href="https://web.archive.org/web/*/https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<!-- /.post-info -->      <p>We started this series with <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-1-how-the-cpython-vm-works/">an overview of the CPython VM</a>. We learned that to run a Python program, CPython first compiles it to bytecode, and we studied how the compiler works in <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-2-how-the-cpython-compiler-works/">part two</a>. <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-3-stepping-through-the-cpython-source-code/">Last time</a> we stepped through the CPython source code starting with the <code>main()</code> function until we reached the evaluation loop, a place where Python bytecode gets executed. The main reason why we spent time studying these things was to prepare for the discussion that we start today. The goal of this discussion is to understand how CPython does what we tell it to do, that is, how it executes the bytecode to which the code we write compiles.</p>
<p><strong>Note</strong>: In this post I'm referring to CPython 3.9. Some implementation details will certainly change as CPython evolves. I'll try to keep track of important changes and add update notes.</p>
<h3>Starting point</h3>
<p>Let's briefly recall what we learned in the previous parts. We tell CPython what to do by writing Python code. The CPython VM, however, understands only Python bytecode. This is the job of the compiler to translate Python code to bytecode. The compiler stores bytecode in a code object, which is a structure that fully describes what a code block, like a module or a function, does. To execute a code object, CPython first creates a state of execution for it called a frame object. Then it passes a frame object to a frame evaluation function to perform the actual computation. The default frame evaluation function is <code>_PyEval_EvalFrameDefault()</code> defined in <a href="https://github.com/python/cpython/blob/3.9/Python/ceval.c#L889">Python/ceval.c</a>. This function implements the core of the CPython VM. Namely, it implements the logic for the execution of Python bytecode. So, this function is what we're going to study today.</p>
<p>To understand how <code>_PyEval_EvalFrameDefault()</code> works, it is crucial to have an idea of what its input, a frame object, is. A frame object is a Python object defined by the following C struct:</p>
<div><pre><span></span><span>// typedef struct _frame PyFrameObject; in other place</span>
<span>struct</span> <span>_frame</span> <span>{</span>
    <span>PyObject_VAR_HEAD</span>
    <span>struct</span> <span>_frame</span> <span>*</span><span>f_back</span><span>;</span>      <span>/* previous frame, or NULL */</span>
    <span>PyCodeObject</span> <span>*</span><span>f_code</span><span>;</span>       <span>/* code segment */</span>
    <span>PyObject</span> <span>*</span><span>f_builtins</span><span>;</span>       <span>/* builtin symbol table (PyDictObject) */</span>
    <span>PyObject</span> <span>*</span><span>f_globals</span><span>;</span>        <span>/* global symbol table (PyDictObject) */</span>
    <span>PyObject</span> <span>*</span><span>f_locals</span><span>;</span>         <span>/* local symbol table (any mapping) */</span>
    <span>PyObject</span> <span>**</span><span>f_valuestack</span><span>;</span>    <span>/* points after the last local */</span>
    <span>/* Next free slot in f_valuestack.  Frame creation sets to f_valuestack.</span>
<span>       Frame evaluation usually NULLs it, but a frame that yields sets it</span>
<span>       to the current stack top. */</span>
    <span>PyObject</span> <span>**</span><span>f_stacktop</span><span>;</span>
    <span>PyObject</span> <span>*</span><span>f_trace</span><span>;</span>          <span>/* Trace function */</span>
    <span>char</span> <span>f_trace_lines</span><span>;</span>         <span>/* Emit per-line trace events? */</span>
    <span>char</span> <span>f_trace_opcodes</span><span>;</span>       <span>/* Emit per-opcode trace events? */</span>

    <span>/* Borrowed reference to a generator, or NULL */</span>
    <span>PyObject</span> <span>*</span><span>f_gen</span><span>;</span>

    <span>int</span> <span>f_lasti</span><span>;</span>                <span>/* Last instruction if called */</span>
    <span>int</span> <span>f_lineno</span><span>;</span>               <span>/* Current line number */</span>
    <span>int</span> <span>f_iblock</span><span>;</span>               <span>/* index in f_blockstack */</span>
    <span>char</span> <span>f_executing</span><span>;</span>           <span>/* whether the frame is still executing */</span>
    <span>PyTryBlock</span> <span>f_blockstack</span><span>[</span><span>CO_MAXBLOCKS</span><span>];</span> <span>/* for try and loop blocks */</span>
    <span>PyObject</span> <span>*</span><span>f_localsplus</span><span>[</span><span>1</span><span>];</span>  <span>/* locals+stack, dynamically sized */</span>
<span>};</span>
</pre></div>


<p>The <code>f_code</code> field of a frame object points to a code object. A code object is also a Python object. Here's its definition:</p>
<div><pre><span></span><span>struct</span> <span>PyCodeObject</span> <span>{</span>
    <span>PyObject_HEAD</span>
    <span>int</span> <span>co_argcount</span><span>;</span>            <span>/* #arguments, except *args */</span>
    <span>int</span> <span>co_posonlyargcount</span><span>;</span>     <span>/* #positional only arguments */</span>
    <span>int</span> <span>co_kwonlyargcount</span><span>;</span>      <span>/* #keyword only arguments */</span>
    <span>int</span> <span>co_nlocals</span><span>;</span>             <span>/* #local variables */</span>
    <span>int</span> <span>co_stacksize</span><span>;</span>           <span>/* #entries needed for evaluation stack */</span>
    <span>int</span> <span>co_flags</span><span>;</span>               <span>/* CO_..., see below */</span>
    <span>int</span> <span>co_firstlineno</span><span>;</span>         <span>/* first source line number */</span>
    <span>PyObject</span> <span>*</span><span>co_code</span><span>;</span>          <span>/* instruction opcodes */</span>
    <span>PyObject</span> <span>*</span><span>co_consts</span><span>;</span>        <span>/* list (constants used) */</span>
    <span>PyObject</span> <span>*</span><span>co_names</span><span>;</span>         <span>/* list of strings (names used) */</span>
    <span>PyObject</span> <span>*</span><span>co_varnames</span><span>;</span>      <span>/* tuple of strings (local variable names) */</span>
    <span>PyObject</span> <span>*</span><span>co_freevars</span><span>;</span>      <span>/* tuple of strings (free variable names) */</span>
    <span>PyObject</span> <span>*</span><span>co_cellvars</span><span>;</span>      <span>/* tuple of strings (cell variable names) */</span>
    <span>/* The rest aren't used in either hash or comparisons, except for co_name,</span>
<span>       used in both. This is done to preserve the name and line number</span>
<span>       for tracebacks and debuggers; otherwise, constant de-duplication</span>
<span>       would collapse identical functions/lambdas defined on different lines.</span>
<span>    */</span>
    <span>Py_ssize_t</span> <span>*</span><span>co_cell2arg</span><span>;</span>    <span>/* Maps cell vars which are arguments. */</span>
    <span>PyObject</span> <span>*</span><span>co_filename</span><span>;</span>      <span>/* unicode (where it was loaded from) */</span>
    <span>PyObject</span> <span>*</span><span>co_name</span><span>;</span>          <span>/* unicode (name, for reference) */</span>
    <span>PyObject</span> <span>*</span><span>co_lnotab</span><span>;</span>        <span>/* string (encoding addr&lt;-&gt;lineno mapping) See</span>
<span>                                   Objects/lnotab_notes.txt for details. */</span>
    <span>void</span> <span>*</span><span>co_zombieframe</span><span>;</span>       <span>/* for optimization only (see frameobject.c) */</span>
    <span>PyObject</span> <span>*</span><span>co_weakreflist</span><span>;</span>   <span>/* to support weakrefs to code objects */</span>
    <span>/* Scratch space for extra data relating to the code object.</span>
<span>       Type is a void* to keep the format private in codeobject.c to force</span>
<span>       people to go through the proper APIs. */</span>
    <span>void</span> <span>*</span><span>co_extra</span><span>;</span>

    <span>/* Per opcodes just-in-time cache</span>
<span>     *</span>
<span>     * To reduce cache size, we use indirect mapping from opcode index to</span>
<span>     * cache object:</span>
<span>     *   cache = co_opcache[co_opcache_map[next_instr - first_instr] - 1]</span>
<span>     */</span>

    <span>// co_opcache_map is indexed by (next_instr - first_instr).</span>
    <span>//  * 0 means there is no cache for this opcode.</span>
    <span>//  * n &gt; 0 means there is cache in co_opcache[n-1].</span>
    <span>unsigned</span> <span>char</span> <span>*</span><span>co_opcache_map</span><span>;</span>
    <span>_PyOpcache</span> <span>*</span><span>co_opcache</span><span>;</span>
    <span>int</span> <span>co_opcache_flag</span><span>;</span>  <span>// used to determine when create a cache.</span>
    <span>unsigned</span> <span>char</span> <span>co_opcache_size</span><span>;</span>  <span>// length of co_opcache.</span>
<span>};</span>
</pre></div>


<p>The most important field of a code object is <code>co_code</code>. It's a pointer to a Python bytes object representing the bytecode. The bytecode is a sequence of two-byte instructions: one byte for an opcode and one byte for an argument.</p>
<p>Don't worry if some members of the above structures are still a mystery to you. We'll see what they are used for as we move forward in our attempt to understand how the CPython VM executes the bytecode.</p>
<h3>Overview of the evaluation loop</h3>
<p>The problem of executing Python bytecode may seem a no-brainer to you. Indeed, all the VM has to do is to iterate over the instructions and to act according to them. And this is what essentially <code>_PyEval_EvalFrameDefault()</code> does. It contains an infinite <code>for (;;)</code> loop that we refer to as the evaluation loop. Inside that loop there is a giant <code>switch</code> statement over all possible opcodes. Each opcode has a corresponding <code>case</code> block containing the code for executing that opcode. The bytecode is represented by an array of 16-bit unsigned integers, one integer per instruction. The VM keeps track of the next instruction to be executed using the <code>next_instr</code> variable, which is a pointer to the array of instructions. At the start of each iteration of the evaluation loop, the VM calculates the next opcode and its argument by taking the least significant and the most significant byte of the next instruction respectively and increments <code>next_instr</code>. The <code>_PyEval_EvalFrameDefault()</code> function is nearly 3000 lines long, but its essence can be captured by the following simplified version:</p>
<div><pre><span></span><span>PyObject</span><span>*</span>
<span>_PyEval_EvalFrameDefault</span><span>(</span><span>PyThreadState</span> <span>*</span><span>tstate</span><span>,</span> <span>PyFrameObject</span> <span>*</span><span>f</span><span>,</span> <span>int</span> <span>throwflag</span><span>)</span>
<span>{</span>
    <span>// ... declarations and initialization of local variables</span>
    <span>// ... macros definitions</span>
    <span>// ... call depth handling</span>
    <span>// ... code for tracing and profiling</span>

    <span>for</span> <span>(;;)</span> <span>{</span>
        <span>// ... check if the bytecode execution must be suspended,</span>
        <span>// e.g. other thread requested the GIL</span>

        <span>// NEXTOPARG() macro</span>
        <span>_Py_CODEUNIT</span> <span>word</span> <span>=</span> <span>*</span><span>next_instr</span><span>;</span> <span>// _Py_CODEUNIT is a typedef for uint16_t</span>
        <span>opcode</span> <span>=</span> <span>_Py_OPCODE</span><span>(</span><span>word</span><span>);</span>
        <span>oparg</span> <span>=</span> <span>_Py_OPARG</span><span>(</span><span>word</span><span>);</span>
        <span>next_instr</span><span>++</span><span>;</span>

        <span>switch</span> <span>(</span><span>opcode</span><span>)</span> <span>{</span>
            <span>case</span> <span>TARGET</span><span>(</span><span>NOP</span><span>)</span> <span>{</span>
                <span>FAST_DISPATCH</span><span>();</span> <span>// more on this later</span>
            <span>}</span>

            <span>case</span> <span>TARGET</span><span>(</span><span>LOAD_FAST</span><span>)</span> <span>{</span>
                <span>// ... code for loading local variable</span>
            <span>}</span>

            <span>// ... 117 more cases for every possible opcode</span>
        <span>}</span>

        <span>// ... error handling</span>
    <span>}</span>

    <span>// ... termination</span>
<span>}</span>
</pre></div>


<p>To get a more realistic picture, let's discuss some of the omitted pieces in more detail.</p>
<h4>reasons to suspend the loop</h4>
<p>From time to time, the currently running thread stops executing the bytecode to do something else or to do nothing. This can happen due to one of the four reasons:</p>
<ul>
<li>There are signals to handle. When you register a function as a signal handler using <a href="https://docs.python.org/3/library/signal.html#signal.signal"><code>signal.signal()</code></a>, CPython stores this function in the array of handlers. The function that will actually be called when a thread receives a signal is <code>signal_handler()</code> (it's passed to the <a href="https://www.man7.org/linux/man-pages/man2/sigaction.2.html"><code>sigaction()</code></a> library function on Unix-like systems). When called, <code>signal_handler()</code> sets a boolean variable telling that the function in the array of handlers corresponding to the received signal has to be called. Periodically, the main thread of the main interpreter calls the tripped handlers.</li>
<li>There are pending calls to call. Pending calls is a mechanism that allows to schedule a function to be executed from the main thread. This mechanism is exposed by the Python/C API via the <a href="https://docs.python.org/3/c-api/init.html#c.Py_AddPendingCall"><code>Py_AddPendingCall()</code></a> function.</li>
<li>The asynchronous exception is raised. The asynchronous exception is an exception set in one thread from another. This can be done using the <a href="https://docs.python.org/3/c-api/init.html#c.PyThreadState_SetAsyncExc"><code>PyThreadState_SetAsyncExc()</code></a> function provided by the Python/C API.</li>
<li>The currently running thread is requested to drop the GIL. When it sees such a request, it drops the GIL and waits until it acquires the GIL again.</li>
</ul>
<p>CPython has indicators for each of these events. The variable indicating that there are handlers to call is a member of <code>runtime-&gt;ceval</code>, which is a <code>_ceval_runtime_state</code> struct:</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/">https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/</a></em></p>]]>
            </description>
            <link>https://tenthousandmeters.com/blog/python-behind-the-scenes-4-how-python-bytecode-is-executed/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25025451</guid>
            <pubDate>Sun, 08 Nov 2020 12:48:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clues to identify a destructive leader]]>
            </title>
            <description>
<![CDATA[
Score 255 | Comments 113 (<a href="https://news.ycombinator.com/item?id=25025363">thread link</a>) | @BossingAround
<br/>
November 8, 2020 | https://articles.tilt365.com/identify-destructive-leadership-patterns/ | <a href="https://web.archive.org/web/*/https://articles.tilt365.com/identify-destructive-leadership-patterns/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main">
    <div>

        <article>

            

            <figure>
                <img srcset="https://articles.tilt365.com/content/images/size/w300/2020/11/sharks-in-the-water-1.png 300w,
                            https://articles.tilt365.com/content/images/size/w600/2020/11/sharks-in-the-water-1.png 600w,
                            https://articles.tilt365.com/content/images/size/w1000/2020/11/sharks-in-the-water-1.png 1000w,
                            https://articles.tilt365.com/content/images/size/w2000/2020/11/sharks-in-the-water-1.png 2000w" sizes="(max-width: 800px) 400px,
                        (max-width: 1170px) 1170px,
                            2000px" src="https://articles.tilt365.com/content/images/size/w2000/2020/11/sharks-in-the-water-1.png" alt="4 Clues to Identify a Destructive Leader">
            </figure>

            <section>
                <div>
                    <p>In many aspects of our lives, we rely on those in positions of power to lead us. The role of leaders becomes especially salient in times of uncertainty. Throughout your life, you’ve probably seen several ways leaders can respond to challenging and ambiguous situations. A transformational leader can see the opportunities in turmoil and inspire people to follow them to a better future. On the other hand, an incompetent leader will leave you to deal with everything alone. In the worst-case scenario, a destructive leader will see the potential for self-enhancement and exploit others to maximize their gain. </p><figure><img src="https://articles.tilt365.com/content/images/2020/11/four-patterns-of-destructive-leadership.png" alt="" srcset="https://articles.tilt365.com/content/images/size/w600/2020/11/four-patterns-of-destructive-leadership.png 600w, https://articles.tilt365.com/content/images/size/w1000/2020/11/four-patterns-of-destructive-leadership.png 1000w, https://articles.tilt365.com/content/images/2020/11/four-patterns-of-destructive-leadership.png 1069w" sizes="(min-width: 720px) 720px"><figcaption>4 Clues to Identify a Destructive Leader</figcaption></figure><h3 id="people-leave-managers-not-companies-">People leave managers, not companies.</h3><p>Incompetent and destructive leaders both create negative consequences, but the distinction between the two is essential. An incompetent leader may lack the compelling charisma to engage others to follow, but we wouldn’t call someone lacking charisma actively destructive. A <a href="https://www.oxfordhandbooks.com/view/10.1093/oxfordhb/9780199755615.001.0001/oxfordhb-9780199755615-e-014">destructive leader</a> intentionally and systematically behaves in a way that violates the organization’s members and stakeholders’ best interests. The extent of damage that a destructive leader can cause often goes unnoticed until it is too late (e.g., Enron), but there are clues you can look for to help you identify destructive leaders earlier. These clues reflect behaviors and attitudes that can reveal the destructive nature of an otherwise seemingly competent leader.</p><h3 id="what-causes-destructive-leadership-patterns">What causes destructive leadership patterns?</h3><p>Everyone has some characteristics that are annoying to someone who prefers a different way of behaving and working. These characteristics are inherited in our DNA and influenced by the environment in which we grew up. The genetic influence was passed down from generation to generation and is a product of evolution that helped your ancestors survive the environments they encountered. And they can help you too, as long as they don’t become distorted from early experiences of chronic fear. </p><p>In destructive leadership, typical behavior patterns become distorted into extremes powered by the brain’s more primitive parts under such circumstances. When this happens, we are in fear-mode, and a blend of fear reactions becomes our norm. These distorted patterns become habitual, and our responses to others become unhealthy. For example, suppose we experienced excessive criticism in our early development. In that case, our ego will record a perception of being diminished by important caregivers and sense that our very survival depends on not being criticized. In this case, we may learn to strive excessively for superiority to alleviate the fear of feeling inferior in our assessment of ourselves.</p><p>While a reactive pattern like this helped us survive the precise environment we were born into, in a global world, that same pattern may not. The brain’s brilliant design constructs a set of behaviors that will ensure our survival in whatever we experience in the development years to maturity. But if we move to an entirely new environment as an adult, the patterns that served us before may not translate into helpful practices somewhere else. </p><h3 id="the-reason-anxiety-and-stress-are-at-an-all-time-high-">The reason anxiety and stress are at an all-time high.</h3><p>In the last century, this phenomenon has become even more complicated. With the advancement of technology comes exposure to human systems all over the world. Transportation enables moving to any part of the globe in a day or two. As we move about rapidly from one culture to another, we find ourselves unable to understand why we are perceived positively in one environment and the opposite in another. No wonder anxiety and stress are at an all-time high, especially for those who interact in global companies. Adaptation to other cultures becomes a necessity, making self-awareness and emotional intelligence some of the most critical skill sets of our time. </p><h3 id="first-look-for-the-underlying-intention-">First, look for the underlying intention.</h3><p>Because all human systems are imperfect, and most parents do the best they can do, many of us have traces of fear behaviors that can drive others nuts. There are a few prototypical examples of these types of behaviors, including, but not limited to </p><ul><li>The constant worrier who is always second-guessing themselves,</li><li>The storyteller who seems to live in an ideal world no one else can relate to,</li><li>The dominant driver who wants everything to go their way,</li><li>The prideful judge who doesn’t realize they can’t possibly know everything there is to know about everything. </li></ul><p>When we’re talking about destructive leadership, we’re not merely referring to annoying habits unless they have become very extreme or painfully frequent. Destructive leaders have little interest in how they are perceived, so they are rarely interested in how they could improve. </p><h3 id="destructive-leaders-are-single-mindedly-self-interested-">Destructive leaders are single-mindedly self-interested.</h3><p>Generally, healthy leaders may have annoying habits, but when you look beneath the surface, two things are different: </p><ol><li>They adopt a mindset that conveys they care about their impact on others and are willing to listen, learn, and exert the choice and character to change.</li><li>They hold a positive intention toward others and work for the good of the mission and the enterprise they serve. </li></ol><p>On the other hand, destructive leaders are either:</p><ol><li>Un-coachable because they adopt a rigid mindset that conveys they don’t care about their impact on others and will use their authority to manipulate others to bend to their will. They imply, “I am who I am, so deal with it.”</li><li>They have a hidden ulterior motive for wanting and using power to serve themselves at the expense of others, the mission, or the enterprise. </li></ol><p>So, as we lay out the four clues of destructive leaders, keep two things in mind. Do you have a hunch that they are well-intended, and are they willing to work on themselves? If the answer to both is affirmative, they are probably not destructive, but just like you and me, they are trying to serve their company and grow as best they can. In these circumstances, we can mind our own business and work on our self-improvement plan rather than thinking about how annoying they are. After all, it’s temporary unless they are genuinely destructive. And then you must do everything in your power to remove them from your company, or they could take the whole thing down. </p><h3 id="clue-1-behaviors-or-words-that-imply-i-m-kind-of-a-big-deal-">Clue 1: Behaviors or words that imply “I’m kind of a big deal!”</h3><p><strong>Excessive fabrication and exaggeration that is nowhere near the truth. </strong></p><p>This destructive pattern arises from an inner identity that seeks to resolve a childhood dilemma about not getting enough attention from caregivers, so they do not feel special. This dilemma results in insatiable attention-seeking and an inflated need to be special, unique, or novel. The inner fear is feeling trapped in the loneliness or sadness of not being “special” enough to those who matter. Because they perceive being attention-deprived or unworthy, they feel shame, and it becomes so painful, they rebel from authority figures whom they believe could not be trusted. Instead of following appropriately, they become rebellious and provocative, conning others to go along with their fantastic plans. </p><h3 id="clues-you-will-notice-">Clues you will notice: </h3><ul><li>Exaggeration of the truth to the point of fantasy</li><li>Unapologetic self-promoting and self-aggrandizing</li><li>Excessive talking to dominate others</li><li>Pontification and fabrication of elaborate stories</li><li>Disrespect for authority figures</li><li>Disregard for rules that are contrary to their aims</li><li>Automatically dismiss ideas from others</li><li>An insatiable need to be the center of attention</li><li>Terminally individualistic, unique, or novel</li><li>External image is unusually extreme in some way</li></ul><h3 id="results-in-a-chaotic-climate">Results in a Chaotic Climate</h3><p>These destructive leaders are challenging to work with because they demand attention but don’t want the restrictions that come with being front and center. When they are in the limelight, it can be exceedingly uncomfortable because they also unconsciously fail to believe they are impressive enough. So they attract attention, initiate excessive activity, and then thwart the attention this draws. This pattern makes them unpredictable, so the shadow of the climate they create around them is chaotic and confusing for others. </p><h3 id="clue-2-behaviors-or-words-that-imply-none-of-this-is-my-fault-">Clue 2: Behaviors or words that imply “None of this is my fault!”</h3><p><strong>Excessive conflict-avoidance by deflecting personal responsibility. </strong></p><p>This destructive pattern arises from an inner identity that seeks to resolve a childhood dilemma about not getting enough approval and acceptance. This dilemma results in insatiable approval-seeking and an excessive need to be liked by everyone, even strangers. The inner fear is to be rejected or ridiculed by others as unlovable by those who matter. Because they perceive being unacceptable to others, they feel powerless and unworthy of care. This experience can become painful and they are unable to communicate or ask others for what they need because they don’t feel they deserve it. They defer to those in authority roles and suffer quietly in dependence, hopelessness, and seen as “needy” for any shred of approval. </p><h3 id="clues-you-will-notice--1">Clues you will notice:</h3><ul><li>Complaining, blaming, gossiping about others</li><li>Disgruntled resentment of those in authority</li><li>Giving up their power and being dependent on others</li><li>Come across as “needy” and draining</li><li>Asking others to decide and then resenting it</li><li>Avoiding leadership to avoid culpability later</li><li>Unconsciously inviting others to dominate them</li><li>Blaming others for being the “bully”</li><li>Desire to be the “nice” or “good” one</li><li>An insatiable need to be liked, accepted, included</li></ul><h3 id="results-in-a-conflict-averse-climate">Results in a Conflict Averse Climate </h3><p>These destructive leaders are challenging to work with because they put extreme energy into taking care of or helping others with an unstated expectation that there will be a reward in return. For example, they take care of someone with the expectation that the other person will take the responsibility of making decisions for them. However, they may not tell the other person this expectation. There is an unconscious …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://articles.tilt365.com/identify-destructive-leadership-patterns/">https://articles.tilt365.com/identify-destructive-leadership-patterns/</a></em></p>]]>
            </description>
            <link>https://articles.tilt365.com/identify-destructive-leadership-patterns/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25025363</guid>
            <pubDate>Sun, 08 Nov 2020 12:30:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Digital sound processing tutorial]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25024835">thread link</a>) | @cunidev
<br/>
November 8, 2020 | http://yehar.com/blog/?p=121 | <a href="https://web.archive.org/web/*/http://yehar.com/blog/?p=121">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<p>In 1998, I had some extra time while others were reading for final exams of the senior high school, and got into digital signal processing. I wrote as I learned, and here is the result. It is not entirely accurate in places but may serve as a nice tutorial into the world of audio DSP. Previously this document was called Yehar's digital sound processing tutorial for the braindead, but I have kinda grown out of  my scene identity over the years. Enjoy the ASCII art!</p>
<p>Chapters:</p>
<ul>
<li><a href="#dspstuff_1">Foreword</a></li>
<li><a href="#dspstuff_2">About sampled sound</a></li>
<li><a href="#dspstuff_3">Adding two sine waves together</a></li>
<li><a href="#dspstuff_4">What's a filter?</a></li>
<li><a href="#dspstuff_5">Filter types: FIR and IIR</a></li>
<li><a href="#dspstuff_6">Interpolation of sampled sound</a></li>
<li><a href="#dspstuff_7">About filter design</a></li>
<li><a href="#dspstuff_8">Pole-zero IIR filter design</a></li>
<li><a href="#dspstuff_9">Some pole-zero IIR filters</a></li>
<li><a href="#dspstuff_10">Windowed FIR filter design</a></li>
<li><a href="#dspstuff_11">Filter implementation</a></li>
<li><a href="#dspstuff_12">Positive and negative frequencies</a></li>
<li><a href="#dspstuff_13">Frequency shifting</a></li>
<li><a href="#dspstuff_14">Nature of sound and music</a></li>
<li><a href="#dspstuff_15">Flanger </a></li>
<li><a href="#dspstuff_16">Wavetable synthesis</a></li>
</ul>
<p>Bonus chapters:</p>
<ul>
<li><a href="#dspstuff_17">Shuffling IIR equations</a></li>
<li><a href="#dspstuff_18">A collection of IIR filters</a></li>
<li><a href="#dspstuff_19">A collection of FIR filters</a></li>
</ul>
<h2><a name="dspstuff_1">Foreword</a></h2>
<p>This is written for the audio digital signal processing enthusiasts (as the title suggests ;) and others who need practical information on the subject. If you don't have this as a "linear reading experience" and encounter difficulties, check if there's something to help you out in the previous chapters.</p>
<p>In filter frequency response plots, linear frequency and magnitude scales are used. Page changes are designed for 60+ lines/page printers.</p>
<p>Chapter "Shuffling IIR equations" is written by my big brother Kalle. And, thanks to Timo Tossavainen for sharing his DSP knowledge!</p>
<p>Copy and use this text freely.</p>
<p>by Olli Niemitalo, o@iki.fi</p>
<h2><a name="dspstuff_2">About sampled sound</a></h2>
<p>Note that "sample" can mean (1) a sampled sound or (2) a samplepoint!</p>
<p>Sampled sound data is a pile of samples, amplitude values taken from the actual sound wave. Sampling rate is the frequency of the "shots". For example, if the frequency is 44100, 44100 samples have been taken in one second.</p>
<p>Here's an example of sampling:</p>
<pre>                                           _0---0_
                                         _/       --0__
        0_                __0---0__    _0              -0---0___
          \_          _-0-         -0--                         0-__
        +---0==-+--=0---+---+---+---+---+---+---+---+---+---+---+---0==-+---+
               -0--                                                    -0_
                                                                          --0
                                            &lt;---&gt;
                                        1/Samplerate</pre>
<p>The original sound is the curve, and "0"s are the sampled points. The horizontal straight line is the zero level.</p>
<p>A sampled sound can only represent frequencies up to half the samplerate. This is called the Nyquist frequency. An easy proof: You need to have stored at least two samplepoints per wave cycle, the top and the bottom of the wave to be able to reconstruct it later on:</p>
<pre>        0\     /0\     /0\     /0\     /0\     /0\     /0\     /0\     /0\
          |   |   |   |   |   |   |   |   |   |   |   |   |   |   |   |   |
        +-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+-|-+
          |   |   |   |   |   |   |   |   |   |   |   |   |   |   |   |   |
           \0/     \0/     \0/     \0/     \0/     \0/     \0/     \0/     \0</pre>
<p>If you try to include above Nyquist frequencies in your sampled sound, all you get is extra distortion as they appear as lower frequencies.</p>
<h2><a name="dspstuff_3">Adding two sine waves together</a></h2>
<p>A Sound consists of frequency components. They all look exactly like sine waves, but they have different frequencies, phases and amplitudes. Let's look at a single frequency:</p>
<pre>                | __        __        __        __      |
                |/  \      /  \      /  \      /  \     |
                /----\----/----\----/----\----/----\----/
                |     \__/      \__/      \__/      \__/|
                |                                       |</pre>
<p>Now, we take the same frequency from another sound and notice that it has the same amplitude, but the opposite (rotated 180 degrees) phase.</p>
<pre>                |      __        __        __        __ |
                |     /  \      /  \      /  \      /  \|
                \----/----\----/----\----/----\----/----\
                |\__/      \__/      \__/      \__/     |
                |                                       |</pre>
<p>Merging two signals is done simply by adding them together. If we do the same with these two sine waves, the result will be:</p>
<pre>                |                                       |
                |                                       |
                +=======================================+
                |                                       |
                |                                       |</pre>
<p>It gets silent. If we think of other cases, where the phase difference is less than 180 degrees, we get sine waves that all have different amplitudes and phases, but the same frequency.</p>
<p>Here's the way to calculate the phase and the amplitude of the resulting sinewave... Convert the amplitude and phase into one complex number, where angle is the phase, and absolute value the amplitude.</p>
<pre>        amplitude*e^(i*phase) = amplitude*cos(phase)+i*amplitude*sin(phase)</pre>
<p>If you do this to both of the sinewaves, you can add them together as complex numbers.</p>
<p>Example:</p>
<pre>        (Wave A) amplitude 1, phase 0, (Wave B) amplitude 1, phase 90 degrees

                   _---|---_         _---0---_         _---|---_ 0
                  /    |    \       /    |    \       /    |    \
                 |     |     |     |     |     |     |     |     |
                -|-----+-----0- + -|-----+-----|- = -|-----+-----|-
                 |     |     |     |     |     |     |     |     |
                  \_   |   _/       \_   |   _/       \_   |   _/
                    ---|---           ---|---           ---|---</pre>
<p>As you see, the phase of the new sine wave is 45 degrees and the amplitude sqrt(1^2+1^2) = sqrt(2) = about 1.4</p>
<p>It is very important that you understand this, because in many cases, it is more practical to present the amplitude and the phase of a frequency as a complex number.</p>
<p>When adding two sampled sounds together, you may actually wipe out some frequencies, those that had opposite phases and equal amplitudes. The average amplitude of the resulting sound is (for independent originals) sqrt(a^2+b^2) where a and b are the amplitudes of the original signals.</p>
<h2><a name="dspstuff_4">What's a filter?</a></h2>
<p>The main use of a filter is to scale the amplitudes of the frequency components in a sound. For example, a "lowpass filter" mutes all frequency components above the "cutoff frequency", in other words, multiplies the amplitudes by 0. It lets through all the frequencies below the cutoff frequency unattenuated.</p>
<h3>Magnitude</h3>
<p>If you investigate the behaviour of a lowpass filter by driving various sinewaves of different frequencies through it, and measure the amplifications, you get the "magnitude frequency response". Here's a plot of the magnitude frequency response curve of a lowpass filter:</p>
<pre>                1-+----------------------_                              |
                  |                       \                             |
                  |       Audible          |          Inaudible         |
                  |                        |                            |
                  |                        |                            |
                  |                         \_                          |
                0-+---------------------------===========================
                  |                        |                            |
                 0Hz                Cutoff frequency                   max</pre>
<p>Frequency is on the "-" axis and amplification on the "|" axis. As you see, the amplification (= scaling) of the frequencies below the cutoff frequency is 1. So, their amplitudes are not affected in any way. But the amplitudes of frequencies above the cutoff frequency get multiplied by zero so they vanish.</p>
<p>Filters never add any new frequency components to the sound. They can only scale the amplitudes of already existing frequencies. For example, if you have a completely quiet sample, you can't get any sound out of it by filtering. Also, if you have a sine wave sample and filter it, the result will still be the same sine wave, only maybe with different amplitude and phase - no other frequencies can appear.</p>
<h3>Phase</h3>
<p>Professionals never get tired of reminding us how important it is not to forget the phase. The frequency components in a sound have their amplitudes and... phases. If we take a sine wave and a cosine wave, we see that they look alike, but they have a phase difference of pi/2, one fourth of a full cycle. Also, when you play them, they sound alike. But, try wearing a headset and play the sinewave on the left channel and the cosine wave on the right channel. Now you hear the difference!</p>
<p>Phase itself doesn't contain important information for us so it's not heard, but the phase difference, of a frequency, between the two ears can be used in estimating the position of the origin of the sound so it's heard.</p>
<p>Filters have a magnitude frequency response, but they also have a phase frequency response. Here's an example curve that could be from a lowpass filter:</p>
<pre>              +pi-+-----------------------------------------------------+
                  |                    ___                              |
                  |      _________-----   \                             |
                0-+======------------------|---------====================
                  |                         \___-----                   |
                  |                                                     |
              -pi-+-----------------------------------------------------+
                  |                        |                            |
                 0Hz                Cutoff frequency                   max</pre>
<p>If you filter a sound, the values from the phase frequency response …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="http://yehar.com/blog/?p=121">http://yehar.com/blog/?p=121</a></em></p>]]>
            </description>
            <link>http://yehar.com/blog/?p=121</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024835</guid>
            <pubDate>Sun, 08 Nov 2020 10:51:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[One Week of NixOS]]>
            </title>
            <description>
<![CDATA[
Score 244 | Comments 168 (<a href="https://news.ycombinator.com/item?id=25024639">thread link</a>) | @jaemoe
<br/>
November 8, 2020 | https://jae.moe/blog/2020/11/one-week-of-nixos/ | <a href="https://web.archive.org/web/*/https://jae.moe/blog/2020/11/one-week-of-nixos/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
            <h4>One week of NixOS</h4><p>
            Reading time: 4 minutes.
            </p><p>As you may have seen I on Mastodon, I am testing NixOS for over a week now and here is a few comments about how the distro works and what doesn’t work for me.</p>










<p>First, everything is NixOS is declared in a configuration file located at <code>/etc/nixos/configuration.nix</code> where you declare packages you want to install, services to start, udev rules, ECT, you get it.</p>
<p>This is the first very weird thing as you don’t really install packages with the CLI directly (even if you can), instead you modify the config file and rebuild the system with <code>nixos-rebuild switch</code>.</p>
<p>NixOS is made in such a way that everything aims to be reproducible. An example: if you want to get the exact same setup as I have, you can just take <a href="https://forge.tedomum.net/jae/nixos-configs">my configs repo</a>, clone it on your NixOS installation, run <code>nixos-rebuild switch</code> and voilà, you will have the exact same programs as me installed in the same way with the same version (roughly).</p>
<p>In this distro, adding a user is really easy and goes like this:</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span></code></pre></td>
<td>
<pre><code data-lang="nixos"><span>{</span> <span>config</span><span>,</span> <span>pkgs</span><span>,</span> <span>...</span> <span>}:</span>

<span>{</span>

    <span>users</span><span>.</span><span>groups</span><span>.</span><span>plugdev</span> <span>=</span> <span>{};</span>

    <span>users</span><span>.</span><span>users</span><span>.</span><span>jae</span> <span>=</span> <span>{</span>
        <span>isNormalUser</span> <span>=</span> <span>true</span><span>;</span>
        <span>extraGroups</span> <span>=</span> <span>[</span> <span>"wheel"</span> <span>"docker"</span> <span>"adbusers"</span> <span>"plugdev"</span> <span>];</span>
        <span>shell</span> <span>=</span> <span>pkgs</span><span>.</span><span>zsh</span><span>;</span>
        <span>packages</span> <span>=</span> <span>with</span> <span>pkgs</span><span>;</span> <span>[</span>
            <span># Games</span>
            <span>minetest</span> <span>stepmania</span> <span>lutris-free</span> <span>pcsx2</span>
            <span># Misc audio / video / image</span>
            <span>pulseeffects</span> <span>ffmpeg-full</span> <span>obs-studio</span> <span>inkscape</span> <span>krita</span>
            <span># Useful software</span>
            <span>mumble</span> <span>qbittorrent</span> <span>libreoffice</span> <span>ledger-live-desktop</span>
            <span># Dev</span>
            <span>jetbrains</span><span>.</span><span>idea-community</span> <span>lazygit</span> <span>gnome3</span><span>.</span><span>zenity</span> <span>insomnia</span> <span>jetbrains</span><span>.</span><span>rider</span> <span>mono</span> <span>msbuild</span> <span>dotnet-sdk_3</span> <span>ganttproject-bin</span> <span>kubectx</span>
            <span># SDR</span>
            <span>rtl-sdr</span> <span>gqrx</span> <span>gpredict</span> <span>noaa-apt</span> <span>welle-io</span>
        <span>];</span>
    <span>};</span>
    <span>users</span><span>.</span><span>extraGroups</span><span>.</span><span>vboxusers</span><span>.</span><span>members</span> <span>=</span> <span>[</span> <span>"jae"</span> <span>];</span>
<span>}</span></code></pre></td></tr></tbody></table>
</div>
</div>
<p>Let’s see what everything does!</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span></code></pre></td>
<td>
<pre><code data-lang="nixos"> <span>users</span><span>.</span><span>groups</span><span>.</span><span>plugdev</span> <span>=</span> <span>{};</span></code></pre></td></tr></tbody></table>
</div>
</div><p>
Creates a group named <code>plugdev</code>, don’t pay attention to it, it is just a test for the Ledger Live application.</p>
<p>
Tells the os that the current user is a normal one. It will create a home folder and set the default shell.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span>1
</span></code></pre></td>
<td>
<pre><code data-lang="nixos"> <span>extraGroups</span> <span>=</span> <span>[</span> <span>"wheel"</span> <span>"docker"</span> <span>"adbusers"</span> <span>"plugdev"</span> <span>];</span></code></pre></td></tr></tbody></table>
</div>
</div><p>
Here, we are setting the groups the user is in to grant special permissions.</p>
<p>
As you may have guessed it, we are setting the default user shell to ZSH.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span></code></pre></td>
<td>
<pre><code data-lang="nixos"> <span>packages</span> <span>=</span> <span>with</span> <span>pkgs</span><span>;</span> <span>[</span>
            <span># Games</span>
            <span>minetest</span> <span>stepmania</span> <span>lutris-free</span> <span>pcsx2</span>
            <span># Misc audio / video / image</span>
            <span>pulseeffects</span> <span>ffmpeg-full</span> <span>obs-studio</span> <span>inkscape</span> <span>krita</span>
            <span># Useful software</span>
            <span>mumble</span> <span>qbittorrent</span> <span>libreoffice</span> <span>ledger-live-desktop</span>
            <span># Dev</span>
            <span>jetbrains</span><span>.</span><span>idea-community</span> <span>lazygit</span> <span>gnome3</span><span>.</span><span>zenity</span> <span>insomnia</span> <span>jetbrains</span><span>.</span><span>rider</span> <span>mono</span> <span>msbuild</span> <span>dotnet-sdk_3</span> <span>ganttproject-bin</span> <span>kubectx</span>
            <span># SDR</span>
            <span>rtl-sdr</span> <span>gqrx</span> <span>gpredict</span> <span>noaa-apt</span> <span>welle-io</span>
        <span>];</span></code></pre></td></tr></tbody></table>
</div>
</div><p>
There, we are installing per-user packages because yes, NixOS supports that, any user can have its own packages that others users can’t access.</p>
<blockquote>
<p>Correction from <em>hvdijk</em> on Hacker News, “<em>Other users can access those packages if they want to. Those packages won’t show up in other users' $PATH, so other users will not be affected by them, but they could see what’s in /nix/store if they wanted to. This matters when you’re thinking of putting private data (such as an encryption key) in a package: it’s vital that you don’t do that on a multi-user system.</em>”</p>
</blockquote>
<p>Configuring NixOS for a daily use is at the end very easy (although I am getting some trouble to get Ledger Live working; which is the biggest problem I’ve had so far).</p>
<p>Now, let’s talk about where I got some trouble.
As you may know it, I am a dev and every day I need to compile, test, run and so on.
NixOS gave me some trouble to only run some programs from source such as <a href="https://element.io/">Element Desktop</a> or <a href="https://img.tedomum.net/">TeDomum IMG</a> as the way the system is built, lots of directories are read-only and programs can’t be installed globally through NPM or PIP.
I ended up using Docker to build the apps (even if it took a bit more time).</p>
<p>Needless to say, almost every other project worked.
If you want NodeJS to start a project for instance, you can just do <code>nix-shell -p nodejs</code> and here you go, a shell with nodejs installed, ready to do what you want.</p>
<p>At the end, NixOS brings very interesting concepts such as a really great reproducibility but new users can feel lost as its way to work is really different from conventional Linux distributions.
I’ll give NixOS more time and write a follow-up in some time to see how everything went.</p>
<p>If you want to give it a shot, the <a href="https://nixos.org/">official NixOS website awaits you</a>!</p>
<p>That’s all for today,
I’ll see you next time!
If you like my content, <a href="https://jae.moe/blog/index.xml">don’t forget to subscribe through RSS</a>!</p>

            
                <p><a href="https://news.ycombinator.com/item?id=25024639">Talk about it on Hacker News!</a>
            
        </p></div></div>]]>
            </description>
            <link>https://jae.moe/blog/2020/11/one-week-of-nixos/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024639</guid>
            <pubDate>Sun, 08 Nov 2020 10:17:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pro Rata and User Centric Distribution Models: A Comparative Study (2017)]]>
            </title>
            <description>
<![CDATA[
Score 83 | Comments 86 (<a href="https://news.ycombinator.com/item?id=25024552">thread link</a>) | @iamacyborg
<br/>
November 8, 2020 | http://www.digitalmedia.fi/wp-content/uploads/2018/02/UC_report_final_171213.pdf | <a href="https://web.archive.org/web/*/http://www.digitalmedia.fi/wp-content/uploads/2018/02/UC_report_final_171213.pdf">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://www.digitalmedia.fi/wp-content/uploads/2018/02/UC_report_final_171213.pdf</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024552</guid>
            <pubDate>Sun, 08 Nov 2020 10:01:33 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Pongmechanik]]>
            </title>
            <description>
<![CDATA[
Score 33 | Comments 7 (<a href="https://news.ycombinator.com/item?id=25024499">thread link</a>) | @remix2000
<br/>
November 8, 2020 | http://cyberniklas.de/pongmechanik/indexen.html | <a href="https://web.archive.org/web/*/http://cyberniklas.de/pongmechanik/indexen.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://cyberniklas.de/pongmechanik/indexen.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024499</guid>
            <pubDate>Sun, 08 Nov 2020 09:52:09 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[PostgreSQL Configuration for Humans]]>
            </title>
            <description>
<![CDATA[
Score 256 | Comments 40 (<a href="https://news.ycombinator.com/item?id=25024224">thread link</a>) | @sharjeelsayed
<br/>
November 8, 2020 | https://postgresqlco.nf/en/doc/param/ | <a href="https://web.archive.org/web/*/https://postgresqlco.nf/en/doc/param/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
  <div>
    <div id="welcome">
      
      <div lang="en">
        <h4><p>Your postgresql.conf documentation and recommendations.</p><p>Our mission is to help you tune and optimize your PostgreSQL configuration.</p><p>With around 270 configuration parameters in <span>postgresql.conf</span>, plus all the knobs in pg_hba.conf, it is definitely a difficult task!</p><p>How many parameters do you tune? 1? 8? 32? Ever tuned more than 64? We aim to make PostgreSQL configuration possible for HUMANS.</p></h4>
      </div>
    </div>
  </div>
</div></div>]]>
            </description>
            <link>https://postgresqlco.nf/en/doc/param/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024224</guid>
            <pubDate>Sun, 08 Nov 2020 08:52:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Migrating My Blog to Zola]]>
            </title>
            <description>
<![CDATA[
Score 8 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25024170">thread link</a>) | @todsacerdoti
<br/>
November 8, 2020 | https://mrkaran.dev/posts/migrating-to-zola/ | <a href="https://web.archive.org/web/*/https://mrkaran.dev/posts/migrating-to-zola/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

<section>
    
    <article>
        <p>I've been writing on this blog for about 2 years now. This has been the longest I've stuck on to the same <em>technology stack</em> for my blog. I've previously jumped from a Jekyll based static site to a Medium blog before finally settling for <a href="https://gohugo.io/">Hugo</a>.</p>
<p>I've been using Hugo since 2018 but I don't recall as to <em>why</em> I went ahead with it. Maybe it was increasingly popular at that time and everyone touted Hugo as <em>the</em> solution to Static Site Generator (referred to as SSG from here on). There are 1000s of SSGs and at least a dozen of websites which lists all the SSGs out there. This is crazy by any standards. Hugo started as a generic blog generator but over the years it has become a <em>website generator</em>. It's no longer aimed at people who just want to have a small little static website/blog but supports all the use cases for people building full-fledged static websites. IMHO these two goals are overarching however this has resulted in a simple project to become incredibly complex over time.</p>
<h3 id="tipping-point">Tipping Point</h3>
<p>Anyway, so I wanted to change the look of the homepage on my website so I decided to look at Hugo's documentation. Hugo's documentation is great for someone who knows what exactly are they looking for. The documentation is so huge that you simply cannot grok it in one evening. I had zero ideas on how to customise the damn homepage of my blog and after spending hours buried in the documentation I was able to kind of figure the solution but it was unintuitive, to say the least. Apparently, to override any template from the theme, you have to mirror the directory structure of the theme in your root directory. Which meant, I needed to look at the source code of the theme, figure out the project structure, copy-paste all the folder names and put my override of <code>index.html</code> there. Which, BTW <strong>magically</strong> overrides it. This whole magic thing is BS and I am being strongly opinionated here.</p>
<p>There is more than one way to do something in Hugo. Different theme authors use different styles, which makes the whole thing even more complex. It also means for my customisations to work across themes, well you guessed it right: <strong>it's impossible</strong>.</p>
<p>Recently I discovered that I was unable to preview my Hugo website locally without internet because I had a Twitter <a href="https://gohugo.io/content-management/shortcodes/#tweet">shortcode</a> in one of my blog post (which makes an API call to Twitter to render a nice card preview). The site completely failed to render instead of just logging a warning. Bollocks.</p>
<p>The tipping point for me, however, was when the theme I was using stopped working with the latest version of Hugo at that point. So, picture this -- You make dozens of custom changes and then one update just <em>breaks</em> your website. Now not only you have to fix your shit but the theme you were using, you've to make upstream changes to the theme or maintain your own fork. And no, this is not a one-off experience. Hugo upgrades are a joke, they are known to break very very often.</p>
<p>I was done at this point. I didn't want to deal with this BS of continuously fighting the generator for my blog.</p>
<h3 id="a-fresh-change">A fresh change</h3>
<p>Being a practitioner of <a href="https://projects.csail.mit.edu/gsb/old-archive/gsb-archive/gsb2000-02-11.html">Yak Shaving</a>, I discussed the idea of a "tinyhugo" with <a href="https://nadh.in/">Kailash</a> and <a href="https://www.saratchandra.in/">Sarat</a>. We'd arrived at a spec and I started writing some code to pander to my NIH syndrome.</p>
<p>However, I was still not convinced that a simpler solution doesn't exist. I spent countless hours exploring other alternatives. I'd used <a href="https://www.getlektor.com/">Lektor</a>, <a href="https://blog.getpelican.com/">Pelican</a>, <a href="https://www.11ty.dev/">Eleventy</a> before finally stumbling upon <a href="https://www.getzola.org/">Zola</a> from HN/Lobster discussions. I've got to say, the landing page gave a <em>fresh</em> feeling - one that I've not seen with any other alternatives. In fact quite opposite to the Eleventy landing page which looks like an over-engineered piece of software to generate websites (Not hating on it, there might be use cases for it, but the JS tooling and dependency system is something that I would not want to touch with a 10ft pole).</p>
<p>Zola's primary appeal to me was that like Hugo it's extremely fast and comes as a single binary no dependency package. I looked at the docs the first impression was they are concise enough to get a basic idea. Zola is strongly opinionated, even to the extent of dictating a project structure and sometimes filenames too. I actually preferred this over the <em>magic</em> Hugo does. In less than 2 hours I was able to port the home page of my blog (and tweak it to my liking) in Zola. I decided to abandon my own <code>tinyhugo</code> attempt because for the very fact Zola fits my needs very well.</p>
<p>The thing that I really loved about Zola is how it enforces a separation between <a href="https://www.getzola.org/documentation/content/section/">Section</a> and <a href="https://www.getzola.org/documentation/content/page/">Pages</a>. The section represents a "collection" of posts. So a <em>blog</em> can be a section, and I can have another section called "Book Reviews". I could easily tell Zola where to look for the templates by specifying the same in <code>content/book_reviews/_index.md</code>. I don't have to read Hugo docs or do <em>Google-fu</em> to figure this out, it's right there in the docs and very apparent.</p>
<p>For the record, I still don't know how to customise different templates for different sections in Hugo, but I couldn't care less.</p>
<h3 id="migration">Migration</h3>
<p>The migration was pretty straightforward -- I had to copy the <code>content folder</code>s of my blog (which are just a bunch of <code>.md</code> fikes) and replace <code>YAML</code> frontmatter to <code>TOML</code>. There were a few variable changes that I needed to do manually but since they were a manageable 20-25 posts, I did it by hand. I could potentially automate but then rabbit deep in the rabbit hole of Yak Shaving. The good part was that I was able to retain the same URL structure for my new blog because the URL scheme was based on the file paths.</p>
<p>I spent some time porting <a href="https://github.com/knadh/hugo-ink">hugo-ink</a> to Zola and did minor CSS tweaks to it. Zola uses the Terra language for templating and it's much more pleasing to eyes than the Go Template syntax. Zola comes with pretty neat features like Search, RSS/Atom Feeds, Syntax Highlighting and SASS-&gt;CSS Processors.</p>
<p>What took me time however was to figure out how to get <code>opengraph</code> tags in each page. Hugo provides nifty <a href="https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/opengraph.html">template</a> for this use case but Zola is pretty barebones like that. People who care a lot about SEO need to spend some extra efforts here.</p>
<h3 id="future">Future</h3>
<p>Zola is still a pretty new kid on the block but the author shares the same frustration about Hugo:</p>
<blockquote>
<p>it personally drives me insane, to the point of writing my own template engine and static site generator. Yes, this is a bit biased. -- <a href="https://github.com/getzola/zola#-explanations">Source</a></p>
</blockquote>
<p>This also reflects in the issues/PRs I've seen for Zola and the author is opinionated about not adding features which would make Zola complicated. Overall I am very happy with the switch and it was long due. I feel more confident in tweaking certain sections of my website. I plan to open-source the current theme in the next few days.</p>
<p>You can read the <a href="https://git.mrkaran.dev/karan/website">Source Code</a> of this website if you'd like to explore how this website is built.</p>
<p>Fin!</p>

    </article>
</section>
</article></div>]]>
            </description>
            <link>https://mrkaran.dev/posts/migrating-to-zola/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25024170</guid>
            <pubDate>Sun, 08 Nov 2020 08:39:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Embed Gravity programming language into your code]]>
            </title>
            <description>
<![CDATA[
Score 35 | Comments 8 (<a href="https://news.ycombinator.com/item?id=25023836">thread link</a>) | @creolabs
<br/>
November 7, 2020 | https://marcobambini.github.io/gravity/#/embedding | <a href="https://web.archive.org/web/*/https://marcobambini.github.io/gravity/#/embedding">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://marcobambini.github.io/gravity/#/embedding</link>
            <guid isPermaLink="false">hacker-news-small-sites-25023836</guid>
            <pubDate>Sun, 08 Nov 2020 07:25:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Parsing the Infamous Japanese Postal CSV]]>
            </title>
            <description>
<![CDATA[
Score 165 | Comments 40 (<a href="https://news.ycombinator.com/item?id=25023673">thread link</a>) | @polm23
<br/>
November 7, 2020 | https://www.dampfkraft.com/posuto.html | <a href="https://web.archive.org/web/*/https://www.dampfkraft.com/posuto.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Late last year I released <a href="https://github.com/polm/posuto">posuto</a>, a package presenting Japanese postal code
data in an easy-to-use format. It's based on <a href="https://www.post.japanpost.jp/zipcode/dl/kogaki-zip.html">data released by Japan
Post</a>, which is infamous for being widely used but hard to parse.</p>
<figure><a href="https://www.dampfkraft.com/by-id/806ae69c/postcharacter.png"><img src="https://www.dampfkraft.com/by-id/806ae69c/img/postcharacter.png.l.png"></a><figcaption>This adorable character by <a href="https://www.irasutoya.com/2019/08/blog-post_590.html">Irasutoya</a> is cute, but the raw postal CSV data is not.
</figcaption></figure>
<p>I first became aware of the postal data when I entered my postal code in an
online form and it auto-completed my address as "XXX-borough (except the
following buildings)". I had no idea what that parenthetical was referring to,
so I looked for a common source of postal data, found the CSV, and found the
issue.  It turns out the CSV file contains parenthetical notes for anyone
reading the CSV file and makes reference to the order of the rows.</p>
<p>This causes problems. The data is mainly useful one row at a time, where the
parenthetical is meaningless. Since CSV is a field-delimited format, there's
also no need for parentheticals - you could just add a note field.</p>
<p>This is only one of many issues with <code>ken_all.csv</code>. You can find people
complaining about it regularly <a href="https://twitter.com/search?q=ken_all.csv&amp;src=typed_query&amp;f=live">on Twitter</a>, and there was
even briefly <a href="http://ken-all.hatenadiary.com/">a blog</a> just collecting posts from all over the web
about it. A <a href="https://twitter.com/bulkneets/status/1259457777862184966">particularly amusing tweet</a> describes people who expect
computers to bend to the will of humans being punished in Hell by having to
parse <code>ken_all.csv</code> forever.</p>
<p>The <a href="https://www.post.japanpost.jp/zipcode/dl/readme.html">README</a> for the file explains that lines with overly long fields will be
broken up into multiple lines. Specifically, if the neighborhood name is over
38 characters, or if the half-width katakana (<em>half-width katakana</em>)
pronunciation field is over 76 characters, the line will be split into two
lines. The overly-long neighborhood field will be continued and all other
fields will be duplicated. This is an abbreviated sample of what that looks
like:</p>
<pre><code>12345,Tokyo,Minato,This place name is really
12345,Tokyo,Minato,very long it didn't fit in
12345,Tokyo,Minato,a single line so we had to 
12345,Tokyo,Minato,split it
</code></pre>
<p>The motivation for this is not explained. Maybe there was a fixed-width buffer
for storing a line somewhere thirty years ago. I used to process CSV and other
files from hundreds of different providers at an old job and I saw many
horrors, but I've never seen this particular formatting choice anywhere else.
It should also be noted that while the length limits are as stated, the
location where line breaks are inserted in long lines appears random, occurring
neither at the character limit nor at normal word boundaries.</p>
<p>It's worth noting not all the issues with the CSV are inherently technical;
postal codes are always complicated. The postal code with the most rows in the
CSV - a stunning 66 - is 〒452-0961, which refers to the <a href="https://ja.wikipedia.org/wiki/%E6%98%A5%E6%97%A5%E7%94%BA_(%E6%84%9B%E7%9F%A5%E7%9C%8C)">Haruhi region</a> of
Kiyosu City in Aichi Prefecture. This has that many lines because every
neighborhood gets a separate line. (This particular case may be related to Haruhi
having been the smallest town by area in Japan from 2006 until 2009, when it
was incorporated into Kiyosu City.)</p>
<p>In contrast, the longest <em>continued</em> line, using the line break rules above, is
the entry for 〒602-8368 or 〒602-8374, both with eight lines. These are both in
one of a few areas in Kyoto that uses <a href="https://en.wikipedia.org/wiki/Japanese_addressing_system#Kyoto">a unique, bizarre system of
intersection-based addressing</a>. The entry looks a bit like this:</p>
<pre><code>12345,Kyoto,Kyoto,"North Town (Up Lower Godsroad from"
12345,Kyoto,Kyoto,"the West, Down Turtle Street from the"
12345,Kyoto,Kyoto,"East, Up Old Temple Road from the"
12345,Kyoto,Kyoto,"West)"
</code></pre>
<p>I have used quoted fields here, but the actual CSV doesn't quote fields and
instead uses a different kind of comma.</p>
<p>There are other issues. There are catch-all postal codes for many areas, where
the neighborhood is given as "except the following", and the only thing to do
is look for that exact string and exclude it. There's a variety of similar
strings, and it's hard to be sure I've caught them all.</p>
<p>An example of another comment is 一円. Normally this would mean "one yen", but
it also means "the area surrounding", and is a note in the CSV that should be
removed from neighborhood names, <em>except</em> for exactly one neighborhood in Shiga where
that's actually the name (〒522-0317).</p>
<p>There's also a <a href="https://www.post.japanpost.jp/zipcode/dl/roman.html">separate romaji file</a> offered by JP Post. It's updated
less frequently than the main files, is often out of sync, and the provided
romaji are extremely low quality. For the moment I'm still providing the data
in posuto in the name of consistency, but honestly you should just use
<a href="https://www.dampfkraft.com/nlp/cutlet-python-romaji-converter.html">cutlet</a>. To give an example of bad romaji:</p>
<pre><code>大手町 JAビル
OTEMACHI JIEIEIBIRU
</code></pre>
<p>What's happening here is that "JA" is being converted to the phonetic reading
in Japanese, "ジェイエイ". Then ジェ, which is written "large ji small e" but
pronounced "je", is being converted to "jie" by treating the small character as
though it were large, and the other characters are translated as-is, turning
something already in the latin alphabet into alphabet soup. For contrast,
cutlet has no problem converting "JAビル" into "JA building" (case handling
admittedly needs some work still). Similar issues turn "Roppongi Hills" into
"Roppongihiruzu", and "Sweden Hills" into "Suedenhiruzu".</p>
<p>Anyway, dealing with the file was a humbling lesson in the amount of complexity
it's possible to pack into one place. I've glossed over many details, but you
can find them covered in posuto's README.</p>
<p>You can use <a href="https://github.com/polm/posuto">posuto</a> as a library, or if you're not using Python, just
download the pre-processed JSON and make use of that. If you find a good use
for it I'd be delighted to hear about it.</p>
<p>Oh, and if you need a Win3.1 or DOS program to copy the data onto an IBM H
floppy disk, just check the bottom of <a href="https://www.post.japanpost.jp/zipcode/dl/kogaki-zip.html">JP Post's page</a> - they've
got you covered. Ψ</p>
</div></div>]]>
            </description>
            <link>https://www.dampfkraft.com/posuto.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25023673</guid>
            <pubDate>Sun, 08 Nov 2020 06:52:19 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I wrote JavaScript to avoid JavaScript]]>
            </title>
            <description>
<![CDATA[
Score 71 | Comments 58 (<a href="https://news.ycombinator.com/item?id=25023594">thread link</a>) | @asaaki
<br/>
November 7, 2020 | https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/ | <a href="https://web.archive.org/web/*/https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Web technologies have come so far, that you realize: not everything needs to be done in JavaScript nowadays anymore.</p><blockquote><p><em>»Life is really simple, but we insist on making it complicated.« — Confucius</em></p></blockquote><p>My initial headline would have been:</p><p><em>How I wrote more JavaScript in the backend to eliminate JavaScript in the frontend.</em></p><p>But that's already a mouthful and also would have revealed too much and you might not have clicked my slightly clickbait-y title, right?</p><p>So here is my Public Service Announcement:</p><p> 📣 <strong>This site does not use any frontend JavaScript.<sup>*</sup></strong></p><p><em><small>*) There are only tiny exceptions on 2 pages, but for a good reason. More on that later.</small></em></p><p>First of all I am not against JavaScript (<span>JS</span>) at all. If you're building a web <strong>application</strong>, then this is not only totally fine but most likely a core requirement.</p><p>But I do have my pet peeve with <span>JS</span> for plain websites and blogs. Currently there is still such a strong draught in the static site generator world, telling us all our sites should be some kind of React or other frontend framework based project (looking at you, Gatsby, Next, Nuxt, VuePress, …). That you need to have that plentyful of code running in the browser of your visitors to have a smooth and <em>feels like a native app</em> user experience. That a site should be a <em>Single Page Application (SPA).</em> I can tell you, a plain HTML+CSS website does it really well, too. Surprise!</p><p>While on one hand the browser vendors add more and more <a href="https://developer.mozilla.org/en-US/docs/Web/API">Web APIs</a>, we also got a lot of improvement in the HTML and CSS area. Usually there is no big hype train around them, unless you are very enthusiastic and live in that niche.</p><p>Take a look at <a href="https://caniuse.com/">caniuse.com</a> to get an idea what is possible today and what might come tomorrow. <em>Did you know that HTML5 is still iterated on and we're moving towards <a href="https://www.w3.org/TR/html53/">version 5.3</a>?</em> On the other hand »HTML 5« is also used as an umbrella term for a <a href="https://spec.whatwg.org/" title="WHATWG Standards">wide variety of standards</a>. Also for CSS the story got very interesting: while CSS until 2.1 was a single specification, since CSS 3 there is a whole potpourri of recommendations and drafts. The <a href="https://wiki.csswg.org/spec">wiki of the CSS Working Group</a> might be a good starting point for further discovery.</p><p>But I want to give you some more practical examples and an experience report:</p><h2 id="sticky-navigation-bar">Sticky navigation bar</h2><p>This is something you can observe here on this blog:</p><video autoplay="" loop="" muted="" playsinline=""><source src="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/pos-sticky.hvec.mp4" type="video/mp4; codecs=hvc1"><source src="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/pos-sticky.hvec.mp4" type="video/mp4; codecs=hevc"><source src="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/pos-sticky.h264.mp4" type="video/mp4; codecs=avc1"><source src="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/pos-sticky.webm" type="video/webm; codecs=vp9"></video><p>The key ingredient is the CSS <code>position: sticky</code> <a href="https://caniuse.com/css-sticky">🛈</a>. Even though most of them are labeled as <em>partial support,</em> this property value can be used in most scenarios except in some table related cases. If you want a sticky menu after scrolling and use only elements like <code>div</code> everything is just fine. I could throw away all the code for that after I realized that none of the common and modern browsers had any blocking issues. So I did. The only real latecomers were the web view components, no big deal for me here.</p><h3 id="before">Before</h3><h4 id="javascript">JavaScript</h4><pre><code><span>const </span><span>navbar </span><span>= </span><span>document</span><span>.querySelector(</span><span>'.navbar'</span><span>);
</span><span>let </span><span>sticky </span><span>= </span><span>navbar.offsetTop;
</span><span>const </span><span>navbarScroll </span><span>= </span><span>() </span><span>=&gt; </span><span>{
  </span><span>if </span><span>(</span><span>window</span><span>.pageYOffset </span><span>&gt;= </span><span>sticky) {
    navbar.classList.add(</span><span>'sticky'</span><span>)
  } </span><span>else </span><span>{
    navbar.classList.remove(</span><span>'sticky'</span><span>);
  }
};

</span><span>window</span><span>.onscroll </span><span>= </span><span>navbarScroll;
</span></code></pre><h4 id="stylesheet">Stylesheet</h4><pre><code><span>.navbar </span><span>{
  </span><span>position</span><span>: </span><span>relative</span><span>;
}
</span><span>.sticky </span><span>{
  </span><span>position</span><span>: </span><span>fixed</span><span>;
  </span><span>top</span><span>: </span><span>0</span><span>;
  </span><span>left</span><span>: </span><span>0</span><span>;
}
</span></code></pre><h3 id="after">After</h3><h4 id="javascript-1">JavaScript</h4><pre><code><span>// nope
</span></code></pre><h4 id="stylesheet-1">Stylesheet</h4><pre><code><span>.navbar </span><span>{
  </span><span>position</span><span>: </span><span>sticky</span><span>;
  </span><span>top</span><span>: </span><span>0</span><span>; </span><span>/* it does not reposition right away,
             but determines at which point it sticks */
</span><span>}
</span></code></pre><h3 id="resolution">Resolution</h3><p>The workaround with <span>JS</span> is no more. Yay!</p><p>Also notice how little code is actually needed now? Two CSS properties and the job is done.</p><hr><h2 id="service-workers">Service Workers</h2><p>Also in 2018 I played with <a href="https://markentier.tech/posts/2018/04/progressive-web-app/">Progressive Web Apps (PWA)</a>. The whole blog was one. A few days ago I teared down all of it. At the core of PWAs sit <a href="https://serviceworke.rs/">Service Workers (SW)</a>, though you can use SW also without building an app. And that's what I was aiming for, but in the end my home-grown dynamic cache solution was more annoying to me than helpful for anyone else. Every time I updated anything here, I had to wait and/or force refresh to see the result. I'm sure some people probably see visual inconsistencies due to a still running service worker in their browser. If you do, try to force clear all data for this website.</p><p>Long story short: if you do not build a web <strong>app</strong>, you most likely do not need service workers. So yet another thing down from the <span>JS</span> list.</p><p>No <em>before/after</em> comparison here, but several precious kilobytes of JavaScript shaved off by removing them.</p><hr><h2 id="sqip-svg-lqip">SQIP (SVG LQIP)</h2><p><em>Woa, what are all these random acronyms here?</em> Don't worry, the simple answer is:</p><p>If you have images and they are not very small in file size, you maybe want to provide a temporary placeholder with very low resolution and quality. This is pretty useful for slow internet connections; living here in Germany I know how difficult this situation can be. That thing called internet is still very Neuland to us. 🤦</p><p>Anyway, <code>SQIP</code> can be translated with »<code>SVG</code>-based <code>LQIP</code>.«</p><p><code>SVG</code> are Scalable Vector Graphics, an image format I really love a lot, my logo is done with it (<a href="https://markentier.tech/posts/2018/05/minimalism-focus-clean-redesign/">I wrote about it a while ago</a>).</p><p>LQIP finally stands for <em>»Low Quality Image Placeholders«</em> and is based on an algorithm to find primitive shapes to describe the source image. Basically try to find only a few triangles, rectangles, circles, ellipsis, and other low poly shapes. It is also an art form in its own, you can enjoy some <a href="https://github.com/fogleman/primitive#static-animation">nice examples there</a>. The advantage of SVG is that it is made to encode such figures in very few characters of human readable text, so a less complex image for a placeholder can be written in one kilobyte or less.</p><p>Compared to the original high resolution image which can easily weigh half a megabyte and more this is great. You can reserve the space in your page and very early in the loading process display some visual hint that there will be a proper picture soon. Especially for types which do not support progessive loading (as JPEG can) using SQIP/LQIP placeholders makes a lot of sense.</p><p>In this scenario at first it was not really about saving frontend <span>JS</span>, more about saving it on the backend site and replacing it with something else. Unfortunately in between some code creeped into the frontend anyway.</p><p>But what happened that this beautiful technique fell out of favor with me?</p><h3 id="picture"><code>&lt;picture&gt;</code></h3><p>Enter another interesting HTML tag combo: <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture"><code>&lt;picture&gt;</code></a> with <code>&lt;source&gt;</code>.</p><p>So one reason to use small low quality placeholders is because before such tags became a thing we solely relied on a single <code>&lt;img&gt;</code> and some trickery with CSS (and sometimes aided by sprinkles of JavaScript). I tried to avoid <span>JS</span> completely, but of course I had to use some styling hacks eventually.</p><p>The essence of it was some style attached to the image in question:</p><pre><code><span>&lt;</span><span>img </span><span>src</span><span>=</span><span>"highres-and-heavy.png"
     </span><span>style</span><span>=</span><span>"</span><span>background-size</span><span>: </span><span>cover</span><span>;
            </span><span>background-image</span><span>: </span><span>url</span><span>(</span><span>'data:image/svg+xml;base64,PHN2…'</span><span>);</span><span>"</span><span>&gt;
</span><span>&lt;!-- Usually in some post processing all style attributes were collected
     into a &lt;style&gt; tag or CSS file. --&gt;
</span></code></pre><p>The JavaScript entered this scenery at one point: after I used images with transparency. Sadly with this background image workaround you would've seen the low quality placeholder through the transparent parts, and this was extremly ugly to be honest. I could not stand it and deployed some snippet to trigger a background removal once the actual image was loaded:</p><pre><code><span>// remove the background image styling, so transparent images won't have
// strange SQIP artefacts shining through
</span><span>document</span><span>.querySelectorAll(
  </span><span>"img[loading=lazy][class]:not(.thumbnail):not(.loaded)"
</span><span>).forEach((</span><span>img</span><span>) </span><span>=&gt; </span><span>{
  </span><span>img</span><span>.</span><span>onload </span><span>= </span><span>(</span><span>_event</span><span>) </span><span>=&gt; </span><span>img.className </span><span>= </span><span>"loaded"</span><span>;
});
</span><span>document</span><span>.querySelectorAll(
  </span><span>"img[loading=lazy].thumbnail:not(.loaded)"
</span><span>).forEach((</span><span>img</span><span>) </span><span>=&gt; </span><span>{
  </span><span>img</span><span>.</span><span>onload </span><span>= </span><span>(</span><span>_event</span><span>) </span><span>=&gt; </span><span>img.className </span><span>= </span><span>"thumbnail loaded"</span><span>;
});
</span></code></pre><p>Theoretically it would have been tolerable, but I noticed some strange behaviour once I started wrapping my images into <code>picture</code> tags.</p><p>Let's <a href="https://en.wiktionary.org/wiki/yak_shaving">shave the yak</a> a bit further to understand why.</p><h4 id="webp-and-avif">WEBP and AVIF</h4><p><em>Come on, more acronyms?</em> I'm sorry, the web is a place with a lot of them.</p><p>All you need to know for now is that both of them are pretty modern image formats with quite good (lossy) compression rates while keeping a respectable quality. <a href="https://caniuse.com/webp"><code>WEBP</code></a> has been around for some time and most of the browsers do support it. <a href="https://caniuse.com/avif"><code>AVIF</code></a> is extremly new and right now only Chrome since version 85 and Opera 71 can display them. Firefox has a configuration flag, maybe they will enable it by default pretty soon.</p><p>So the current situation is that I have my original image (PNG or JPEG in most cases), a WEBP version, an AVIF version, and the SQIP placeholder. How do I deal with it? Back to our <code>&lt;picture&gt;</code> tag:</p><pre><code><span>&lt;</span><span>picture</span><span>&gt;
  &lt;</span><span>source </span><span>srcset</span><span>=</span><span>"./cover.avif" </span><span>type</span><span>=</span><span>"image/avif"</span><span>&gt;
  &lt;</span><span>source </span><span>srcset</span><span>=</span><span>"./cover.webp" </span><span>type</span><span>=</span><span>"image/webp"</span><span>&gt;
  &lt;</span><span>img </span><span>src</span><span>=</span><span>"./cover.png"
       </span><span>style</span><span>=</span><span>"</span><span>/* SQIP data: see example above */</span><span>"</span><span>&gt;
&lt;/</span><span>picture</span><span>&gt;
</span></code></pre><p>You can also use source sets for different view sizes based on media queries, but in my case I'm mainly concerned about supporting different image formats. My idea is to prioritize the formats with the smallest file size first, and given the compression ratios the order is usually: AVIF, WEBP, PNG/JPG. Not in every case will this be true; WEBP does not always have better savings then a decently compressed JPEG for example. AVIF has not disappointed so far, but sadly a part of my visitors will not see the effect yet.</p><p>What did not really happen anymore was a display of the placeholder before the final image was loaded. I experimented for quite some time until I realized that I do not want to spent more energy any further.</p><p><picture><source srcset="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/sizes-png-webp-avif.w.avif" type="image/avif"><source srcset="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/sizes-png-webp-avif.w.webp" type="image/webp"><img src="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/sizes-png-webp-avif.w.png" alt="Size comparison of an example image; PNG original (22 KB), WEBP (14 KB, 37% saved), AVIF (7.3 KB, 67% saved)" width="1024" height="120" loading="lazy"></picture></p><p>I made a <em>risk-return tradeoff</em> compromise and got rid of SQIP altogether. For the growing number of AVIF support the images are sometimes significantly smaller which makes it acceptable to allow for some display delay anyway.</p><p>In the following screenshot the JPEG was the source photo. The PNG was created for some transparency stuff; of course, for photos this format does not really make a lot of sense in general. Sadly also WEBP fails to compete in this scenario. That's why I have to make this picture group generation a bit smarter soon to reorder based on the actual file …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/">https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/</a></em></p>]]>
            </description>
            <link>https://markentier.tech/posts/2020/10/wrote-javascript-to-avoid-javascript/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25023594</guid>
            <pubDate>Sun, 08 Nov 2020 06:30:13 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[QR Codes Aren't Magic]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25022738">thread link</a>) | @allending
<br/>
November 7, 2020 | https://blog.snappymob.com/qr-codes-arent-actually-magic | <a href="https://web.archive.org/web/*/https://blog.snappymob.com/qr-codes-arent-actually-magic">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
        <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><p>Especially after COVID-19 began plaguing the planet, QR codes have been a big part of our daily lives. In this day and age, it’s quite impossible for one to have never seen a QR code, or used one. Even before the pandemic, QR codes had been around us for a while, but many of us — having grown up in the Digital Age — simply accept new technology into our lives without wondering too much about how they work. For most of us, QR codes just look like... square pixelated versions of the alien heptapod symbols in Arrival (2016), that somehow, magically (and really quickly) bring us to a different screen when we scan them.</p>
<!--more-->
<p>So what are these cryptic codes? Are they magic? Clearly they’re not, but how do they work? Before we take you in for the ride, let’s get the basics down.&nbsp;</p>
<p>QR stands for <em>Quick Response</em>, and a QR code is pretty much a barcode (which has been around since the 1950s) except two-dimensional. Because it’s 2D, it can contain more data than a barcode. It can encode over 7000 characters, which is a vast improvement from the standard barcode with a limited capacity of about 20 alphanumeric characters.</p>
<h2>How did they come about?&nbsp;</h2>
<p>In Japan circa 1990s, Denso Wave Incorporated was contacted by manufacturing sites and asked if it was possible to come up with a faster barcode scanning system. This presented a problem as barcodes had a limited capacity, which made the scanning process time consuming for workers no matter how efficient the scanner was. To tackle this, Denso Wave began developing a compact code that can contain more data, including Kanji and Kana characters. The launch of the QR code was later announced in 1994.</p>
<h2>What are they used for?</h2>
<p>The QR code was first used by the auto industry to track parts and products shipped around the globe. Then, gradually, other industries all over the world began joining in. Today, QR codes are used by nearly every physical and digital establishment for quick check-ins, displaying geolocation or contact info, redirecting customers to their websites, etc.</p>
<h2>How do they work?</h2>
<p>Grasping how a QR code works would require understanding the functions of its different parts. With the help of the labelled diagram, we hope to make this palatable for the layman. Let’s break it down.</p>
<p><img src="https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=715&amp;name=QR%20Structure.png" alt="QR Structure, modules, separators, alignment, timing, format info, version, labels, black and white" width="715" srcset="https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=358&amp;name=QR%20Structure.png 358w, https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=715&amp;name=QR%20Structure.png 715w, https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=1073&amp;name=QR%20Structure.png 1073w, https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=1430&amp;name=QR%20Structure.png 1430w, https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=1788&amp;name=QR%20Structure.png 1788w, https://blog.snappymob.com/hs-fs/hubfs/QR%20Structure.png?width=2145&amp;name=QR%20Structure.png 2145w" sizes="(max-width: 715px) 100vw, 715px"></p>
<p>(Image Source: techspot.com)</p>
<p>The tiny squares in a QR code are called <em><strong>modules</strong></em> - black squares would be considered foreground modules, and white ones would be background modules. They don’t always have to be black and white, though, they could be in color too. Most QR codes are in black and white only so decoder softwares easily distinguish the contrast between the background and foreground. If you want your QR code to be colorful, you just have to make sure that the contrast is retained when it is in grayscale / black and white.</p>
<p>The bigger the code, the more rows and columns of modules it will contain. Yup, just like humankind, QR codes come in different shapes, sizes and colors (although there are standards to follow).</p>
<p>There are 40 preset sizes (or, <em><strong>versions</strong></em>) to choose from. Version 1 being the smallest type with 21 rows and 21 columns, and Version 40 being the largest with 177 rows and 177 columns. When a generator produces a code for you, it will determine the suitable QR code version number for you depending on the amount of data you are encoding.</p>
<p>The 3 big squares on 3 corners of the QR code are <em><strong>finder patterns</strong></em>, which help your device camera determine the boundaries of the code and its correct orientation. This is so if the code is rotated, or upside-down, decoders would still be able to read it. These finder patterns are surrounded by a single-module spacing called <em><strong>separators</strong></em> which help decoders separate the finder patterns from the code data.</p>
<p>Connecting each finder pattern are <em><strong>timing patterns</strong></em> that alternate between black and white. These lines tell your decoder software how big the data cells are within the code.</p>
<p>The smaller square (that is distinctively not a finder pattern) on the fourth corner is an <em><strong>alignment pattern</strong></em> that helps the decoder prevent image distortions. Level 1 QR codes (the smallest size of QR codes) do not contain alignment patterns. The bigger the code, however, the more alignment patterns are added.&nbsp;</p>
<p>The 15 bits beside the separators are <em><strong>format and version strings</strong></em> which contain information on the code’s error correction level and the chosen mask pattern for the particular code. Hold on… information on the what and what?</p>
<p><em><strong>Error correction</strong></em> code makes sure that the code is still readable if up to 30% of the code is corrupt. Designers or generators of a code can decide how many levels of error correction they want to include in the code. The higher the level of error correction, the higher percentage of corruption a decoder can read past. However, the higher the level of error correction, the more space it takes up on the QR code, leaving less space for data. In other words, the more space the error correction code takes up, the lower the max numerical characters a QR code can fit. How much error correction a QR code needs probably will depend on where it will be displayed. E.g. A QR code on a paper flyer would need higher error correction than one on a laminated poster placed indoors, and a digital QR code could do with none because it is unlikely to be damaged.</p>
<p>The code is also overlaid by a <em><strong>mask pattern</strong></em>, inverting and retaining certain data areas to “mix it up” / conceal it. Decoder softwares detect the mask type from the format information and demask the QR code before reading the rest of the data. Of course this happens in a matter of milliseconds.</p>
<p><em><strong>Encoded characters </strong></em>- The black and white modules read in a fixed zigzaggy direction (as shown in the image), starting from the bottom right corner, gives the decoder a sequence of data bits that goes something like 001010111…&nbsp;&nbsp;&nbsp;</p>
<p><img src="https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=447&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png" alt="QR code, zigzag sequence, binary sequence, pattern" width="447" srcset="https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=224&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 224w, https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=447&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 447w, https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=671&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 671w, https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=894&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 894w, https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=1118&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 1118w, https://blog.snappymob.com/hs-fs/hubfs/Google%20Drive%20Integration/Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png?width=1341&amp;name=Copy%20of%20(Writeup)%20QR%20codes%20arent%20actually%20magic-2.png 1341w" sizes="(max-width: 447px) 100vw, 447px"><br>(Image Source: nayuki.io)</p>
<p>Different binary sequences represent different codewords, which include symbols, lowercase letters, uppercase letters, etc. For example, the binary sequence 01110111 represents the letter ‘w’, 00100001 represents the exclamation point ‘!’, and 00100000 represents a space.</p>
<h2><strong>How can you make a QR code?</strong></h2>
<p><span><img src="https://lh3.googleusercontent.com/Mi8ate-UiC0ZpKEoRFn8EUpe5bZDS5O6ggTSK96wPR1OTHx_zoKu_dbS5NvJDpPRsDAt9qdHXkQdfo1sm8Jun4Id0dpS3JjSnmOO51mXv6NT1ql7rb5P0DJc01k-kuw9RYw5vMF2" alt="QR code, generated QR code, snappymob website" width="297"></span></p>
<p>Here’s a QR code generated with <a href="http://www.qr-code-generator.com/"><span>www.qr-code-generator.com</span></a>. Do the patterns make a lot more sense to you now? If you can’t answer in confidence, that’s okay. You’re not going to have to make one by hand, ever. (Unless you want to.)&nbsp;</p>
<p>There are plenty of offline and online QR code generators free for use. All you have to do is key in what you want to encode in the QR code, be it a link to a coupon redemption page, a YouTube video, your social media sites, your contact details, or simply a website homepage.&nbsp;</p>
<p>Most free QR code generators, though, require you to sign up or subscribe to a plan to gain access to more design options and features, such as error correction levels and insights tracking.&nbsp;</p>
<h2><strong>How can QR codes help you?</strong></h2>
<p>Whether you own a business or simply have a web page to share, a QR code could help people reach you easily and quickly. In case you were looking for ideas, here are some of the ways in which using a QR code could greatly benefit you:</p>
<h4><strong>Webpages and Location</strong></h4>
<p>Your customers can get to your website, social media platforms, or map location in a matter of seconds. They don’t have to manually type your website URL, usernames, or addresses into their browsers or maps. They simply need to whip out their phones and scan the QR code to be redirected to you.</p>
<h4><strong>Payment</strong></h4>
<p>Payment is also made easy with QR codes. Most stores enable QR codes for quick payment via e-wallets so customers don’t have to fumble through their wallets for cash and keep others waiting. Some good examples would be GrabPay or ShopeePay, which are enabled at many on and offline merchants in Malaysia.</p>
<p><img src="https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=648&amp;name=grabpayshopeepay.jpg" alt="grabpay, shopeepay, qr code, merchant, scan to pay, app" width="648" srcset="https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=324&amp;name=grabpayshopeepay.jpg 324w, https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=648&amp;name=grabpayshopeepay.jpg 648w, https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=972&amp;name=grabpayshopeepay.jpg 972w, https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=1296&amp;name=grabpayshopeepay.jpg 1296w, https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=1620&amp;name=grabpayshopeepay.jpg 1620w, https://blog.snappymob.com/hs-fs/hubfs/grabpayshopeepay.jpg?width=1944&amp;name=grabpayshopeepay.jpg 1944w" sizes="(max-width: 648px) 100vw, 648px"><br>(Image Source: help.shopee.com.my, grab.com)</p>
<h4><strong>Email and Direct Messaging</strong></h4>
<p>You can embed URL links that lead straight to a ‘compose email’ or ‘compose direct message’ page (for instance, <a href="mailto:hello@snappymob.com">mailto:hello@snappymob.com</a>) into your QR code. For email, this saves your customers up to 10 seconds because it helps them skip the process of opening their email app, tapping on compose email, and typing your email address manually into the recipient bar. For social media, this saves them the effort of opening the app, typing your username into the search bar, and tapping on the message button. This might literally be “a matter of seconds” which seems small, but it keeps people who are interested in your services or products, well, interested. Making things quicker and easier for your patrons is always a good move.</p></span></p><p><label>app insights</label></p>
        
      </div></div>]]>
            </description>
            <link>https://blog.snappymob.com/qr-codes-arent-actually-magic</link>
            <guid isPermaLink="false">hacker-news-small-sites-25022738</guid>
            <pubDate>Sun, 08 Nov 2020 03:48:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Stack Videos Horizontally, Vertically, in a Grid With FFmpeg]]>
            </title>
            <description>
<![CDATA[
Score 218 | Comments 47 (<a href="https://news.ycombinator.com/item?id=25022665">thread link</a>) | @rrao84
<br/>
November 7, 2020 | https://ottverse.com/stack-videos-horizontally-vertically-grid-with-ffmpeg/ | <a href="https://web.archive.org/web/*/https://ottverse.com/stack-videos-horizontally-vertically-grid-with-ffmpeg/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<figure>
<amp-img src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/11/stacking-videos.png?resize=678%2C381&amp;ssl=1" alt="stack videos using ffmpeg" title="stacking-videos" width="678" height="381" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://i0.wp.com/ottverse.com/wp-content/uploads/2020/11/stacking-videos.png?resize=678%2C381&amp;ssl=1" alt="stack videos using ffmpeg" title="stacking-videos" width="678" height="381" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzM4MScgd2lkdGg9JzY3OCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2ZXJzaW9uPScxLjEnLz4="></amp-img>
</figure>


<p>Often times, when you want to compare two videos side-by-side or you want to create an effect during post-processing, you might want to stack videos together. It can get expensive if you end up buying a tool to do this, but, guess what? </p>



<p><strong>FFmpeg offers a variety of tools to help stack videos together – horizontally, vertically, or in a grid fashion. In this tutorial, let’s learn about FFmpeg’s <code>hstack</code> and <code>vstack</code> filters for stacking videos. </strong></p>



<hr data-amp-original-style="height:50px">




<h2><span id="How_to_Stack_Videos_Horizontally_using_FFmpeg"></span><strong>How to Stack Videos Horizontally using FFmpeg?</strong><span></span></h2>



<p>“Horizontally stacking videos” refers to placing videos side-by-side (one on the left and the other on the right). </p>



<p>Before you do this, there are a couple of points that you need to consider. </p>



<ol><li>The videos that you want to stack need to have the same height. </li><li> The videos need to have the same pixel format. </li></ol>



<p>The command line is shown below where we try and stack two <code>mp4</code> videos. </p>



<pre><code>ffmpeg -i input0.mp4 -i input1.mp4&nbsp;-filter_complex hstack=inputs=2 horizontal-stacked-output.mp4</code></pre>



<p>The <code>hstack</code> filter has a simple format. You need to specify the number of inputs and it parses that from the beginning portion of the commandline. The order of stacking follows the order of inputs. </p>



<p>Here is a screenshot of what it looks like. </p>



<figure><amp-img src="https://lh6.googleusercontent.com/4FwbqByqDpDpOGTNvpSWSOh6RVE9yzesrQyAyGvaOF1ZjVsycKOlQUjrTmdJRFJWblHjC9gF6zMds0s5w2Yy2w6CVXXme-H-zF8nYoJ496khN0aHXHaWbnwEe41BYmu6c2mdoQb8" alt="stack videos using ffmpeg" width="1600" height="423" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://lh6.googleusercontent.com/4FwbqByqDpDpOGTNvpSWSOh6RVE9yzesrQyAyGvaOF1ZjVsycKOlQUjrTmdJRFJWblHjC9gF6zMds0s5w2Yy2w6CVXXme-H-zF8nYoJ496khN0aHXHaWbnwEe41BYmu6c2mdoQb8" alt="stack videos using ffmpeg" width="1600" height="423" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzQyMycgd2lkdGg9JzE2MDAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJy8+"></amp-img></figure>



<p>And, here is a video! </p>











<p>Here is another use case. Companies or teams working on video compression often like to compare videos side-by-side in the lab or showcase their work in conferences. FFmpeg’s horizontal stacking is an easy way to do this and achieve a very good result. </p>



<p>Below are two videos encoded at different video quality settings and stacked horizontally. Comparison made simple, right? <em>(note: Vimeo’s choise of bitrate might mess with the comparison, but, when done offline (downloaded), the <code>hstack</code> filter makes comparisons easy!)</em></p>







<hr data-amp-original-style="height:50px">



<h2><span id="Stacking_Videos_Vertically_using_FFmpeg"></span><strong>Stacking Videos Vertically using FFmpeg</strong><span></span></h2>



<p>“Vertically stacked videos” results in placing videos one below the other. Unlike in horizontal stacking, inputs need to be having the same width. The command is as shown.&nbsp;</p>



<p>For vertical stacking, we need to use the <code>vstack</code> filter whose syntax is similar to the <code>hstack</code> filter we used in the previous horizontal stacking example.</p>



<pre><code>ffmpeg -i input0.mp4 -i input1.mp4&nbsp;-filter_complex vstack=inputs=2 vertical-stack-output.mp4</code></pre>



<figure><amp-img src="https://lh5.googleusercontent.com/qtyxioWFR54pqwZhX7jgX6HkSG7gCw840GdK78HGHHP7X3sv3fr3Pou9hOMFu2O-e6O7nmCith3U6CM1SpDanhwmIFIBzZUQyaG4T0BJaF9QCdMIPrmMmH0qc9WTK5f-5Nf4-92y" alt="stack videos using ffmpeg" width="1248" height="1400" layout="intrinsic" i-amphtml-layout="intrinsic"><img src="https://lh5.googleusercontent.com/qtyxioWFR54pqwZhX7jgX6HkSG7gCw840GdK78HGHHP7X3sv3fr3Pou9hOMFu2O-e6O7nmCith3U6CM1SpDanhwmIFIBzZUQyaG4T0BJaF9QCdMIPrmMmH0qc9WTK5f-5Nf4-92y" alt="stack videos using ffmpeg" width="1248" height="1400" data-old-src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9JzE0MDAnIHdpZHRoPScxMjQ4JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScvPg=="></amp-img></figure>



<p>Both functions pretty much use the same commands with a simple distinction, the <a href="https://ffmpeg.org/ffmpeg-filters.html#hstack" target="_blank" rel="noopener"><code>hstack</code></a> and the <a href="https://ffmpeg.org/ffmpeg-filters.html#vstack" target="_blank" rel="noopener"><code>vstack</code></a> under the <code>-filter_complex</code> argument.&nbsp;</p>



<p>Here’s a video of stacking two videos vertically using FFmpeg. </p>







<hr data-amp-original-style="height:50px">



<h2><span id="Stacking_Videos_of_Different_Lengths"></span><strong>Stacking Videos of Different Lengths</strong><span></span></h2>



<p>Well, there’s a really nifty ability for both of these to prioritize the length of the shortest video. And as luck would have it the parameter is named <code>shortest</code>, and it’s applicable to both the horizontal and vertical stacking filters. Using <code>shortest=1</code> ensures the shortest length is used. </p>



<p>For example – </p>



<pre><code>ffmpeg -i input0.mp4 -i input1.mp4 -filter_complex hstack=inputs=2:shortest=1 shortest-output.mp4</code></pre>



<p>As a <b>side note</b>, if you run into an error that claims frames are being duplicated, the easiest workaround is to slip the <code>vsync 2</code> parameter into your command, and it worked like a charm.</p>



<h3><span id="Stacking_Videos_of_Different_Lengths_Without_the_shortest_parameter"></span>Stacking Videos of Different Lengths Without the <code>shortest</code> parameter<span></span></h3>



<p>To test what happens in this situation, let’s stack two videos vertically – a 10 second clip and an 18 second clip. You’ll see that the shorter clip just stops after it completes, but the output video continues till the longest of the input clips complete.  </p>















<p>If you want to truncate the clips to the length of the shortest clip, then you need to use the <code>shortest=1</code> parameter. Let’s look at that in the next section.</p>



<h3><span id="Stacking_Videos_of_Different_Lengths_With_the_shortest=1_parameter"></span>Stacking Videos of Different Lengths With the <code>shortest=1</code> parameter<span></span></h3>



<p>In this example, we use the <code>shortest=1</code> command-line parameter and as you can see, the length of the final video is truncated to the length of the shortest of the inputs. </p>







<hr data-amp-original-style="height:50px">



<h2><span id="2%C3%972_Grid_of_Videos_using_FFmpeg"></span><strong><strong>2×2 Grid of Videos using FFmpeg</strong></strong><span></span></h2>



<p>We can achieve a 2×2 grid of videos using a combination of the <code>hstack</code> and <code>vstack</code> filters. Let’s start by looking at the command-line and then break it down. It’s actually pretty simple! </p>



<pre><code>ffmpeg \
-i input0.mp4 -i input1.mp4 -i input2.mp4 -i input3.mp4 \
-filter_complex \
"[0:v][1:v]hstack=inputs=2[top]; \
[2:v][3:v]hstack=inputs=2[bottom]; \
[top][bottom]vstack=inputs=2[v]" \
-map "[v]" \
finalOutput.mp4</code></pre>



<p>What’s happening here?</p>



<ul><li>firstly, you need to provide 4 input videos with the same height and width</li><li>next, you stack the first two videos horizontally and call it “top” i.e. <code>[0:v][1:v]hstack=inputs=2[top]</code></li><li>then, you you stack the next two videos horizontally and call it “bottom” i.e. <code>[2:v][3:v]hstack=inputs=2[bottom]</code></li><li>then, you stack <code>top</code> and <code>bottom</code> vertically to create a 2×2 grid. — <code>[top][bottom]vstack=inputs=2[v]</code></li><li>then using the <code>map</code> command, we can extract and push the video track to the output container. </li></ul>



<p>Here is what the video looks like. </p>







<hr data-amp-original-style="height:50px">



<h2><span id="3%C3%972_Grid_of_Videos_using_FFmpeg"></span><strong>3×2 Grid of Videos using FFmpeg</strong><span></span></h2>



<p>Along the same lines, here is a 3×2 grid of videos using <code>hstack</code> and <code>vstack</code> filters. </p>



<pre><code>ffmpeg \
-i input0.mp4 -i input1.mp4 \
-i input2.mp4 -i input3.mp4 \
-i input4.mp4 -i input5.mp4 \
-filter_complex \
"[0:v][1:v][2:v]hstack=inputs=3[top];\
[3:v][4:v][5:v]hstack=inputs=3[bottom];\
[top][bottom]vstack=inputs=2[v]" \
-map "[v]" \
finalOutput.mp4</code></pre>







<hr data-amp-original-style="height:50px">



<h2><span id="Conclusion"></span>Conclusion<span></span></h2>



<p>That’s it folks. Now you know how to stack videos together horizontally, vertically, and in a grid. This is very useful in comparing videos and also creating fun effects along the way! </p>



<p data-amp-original-style="background-color:#f8da89">If you enjoyed this post, do check out the rest of<a href="https://ottverse.com/category/ffmpeg/"> <strong>OTTVerse’s FFmpeg tutorials</strong></a> to learn more about this amazing media editing and compression software!  </p>

	</div></div>]]>
            </description>
            <link>https://ottverse.com/stack-videos-horizontally-vertically-grid-with-ffmpeg/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25022665</guid>
            <pubDate>Sun, 08 Nov 2020 03:36:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Remote Work: How the alternative has become the new norm]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25021471">thread link</a>) | @martin_crd
<br/>
November 7, 2020 | https://remoteworkers.net/blog/remote-work-how-alternative-has-become-new-norm | <a href="https://web.archive.org/web/*/https://remoteworkers.net/blog/remote-work-how-alternative-has-become-new-norm">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>The debate on the impact telework has on employee productivity &amp; morale is one that has slowly aged with the improvement of technology, but never so important to discuss than in the current global pandemic state the world is faced with.</p><p>For decades the working class has enjoyed, and even thrived in the conventional 9-to-5 office workday with very little contention. In fact, most of the well-known productivity techniques are centered around the premise that employees can only maximize team cohesion &amp; communication when working in a controlled work environment like the office.</p><p>But with the rise of the digital age and need to travel, the world has started to realize the value and need for remote work and set in place internal measures to promote alternative work methods that benefit the workforce.<br>
&nbsp;</p><h2>Reimagining the 9-to-5 workday could improve productivity</h2><p>The contemporary 9-to-5, eight-hour workday was imagined by American labor unions in the 1800s and normalized by Henry Ford in the 1920s. Most employees today simply accept this narrative because it’s what they have gotten so acquainted with. But despite the growing popularity in the demand for remote and flexible work, the need for a change in work culture has been met with much skepticism from managers. A recent study conducted by Remote Workplace Study explores the prime obstacles to implementing a flexible workplace policy:&nbsp;</p><ul><li>Company’s long-standing resistance to change &nbsp;</li><li>Privacy</li><li>Lack of understanding about the benefits of remote work</li><li>Fear of how it will impact the overall company culture</li><li>Technology requirements</li><li>Data security</li></ul><p>Understandably, managers have reservations about changing traditional work culture. Most concerns center around losing control of assessing team cohesiveness and potential reduction in employee productivity &amp; focus. But despite this, change is inevitable. In fact, most studies confirm an increase in productivity, working “smarter” and willingness to work over-time when employees are given the flexibility to choose when and how to work.&nbsp;</p><h2>Millennials are driving the demand for flexible and remote work&nbsp;</h2><p>As of today, millennials (those born between 1981 and 1996) account for almost 50% of the global workforce and are expected to grow to 75% by 2025. This means that the need for companies to adopt flexible and remote work policies is more compelling today than ever before in order to attract and retain a younger, skilled workforce.&nbsp;</p><h2>There are equal benefits to jumping on the remote-work bandwagon for both companies and employees:</h2><p>There are equal benefits to jumping on the remote-work bandwagon for both companies and employees:</p><h3>For Companies</h3><ul><li>Cost savings (office &amp; overhead costs)</li><li>Increase in productivity</li><li>Employee retention &amp; reduced turnover</li><li>Profitability (companies save avg. $11, 000 &nbsp;per part-time telecommuter)</li><li>Environmental benefits (less commuting to work reduces carbon footprint)</li><li>Improved inclusivity and diversity (easier reach and accessibility to skilled talent from different demographics, races, and people with disabilities from all over the world)</li></ul><h3>For Employees</h3><ul><li>Improved work-life balance</li><li>Flexible schedule</li><li>No commute (time and cost savings)</li><li>Location independence (work from home/travel while working)</li><li>More time to spend with family</li><li>Expense savings (transportation, gas, &amp; freedom &nbsp;to live in low-cost cities) &nbsp;</li></ul><h2>The world’s largest firms have endorsed remote working policies in the wake of Covid19</h2><p>It’s no secret that the novel Coronavirus pandemic has played an integral role in the sudden surge of remote work policies implemented across companies worldwide. Big corporations such as Twitter, Facebook, Google, Amazon, &amp; Microsoft have adopted such changes with Twitter and Square CEO Jack Dorsey announcing that his employees can work remotely indefinitely.&nbsp;</p><blockquote><p>“... the work-from-home revolution is shaping the future of the workplace.”</p></blockquote><p>Improved inclusivity and diversity (easier reach and accessibility to skilled talent from different demographics, races, and people with disabilities from all over the world)</p><p>In closing, albeit reservations from conservative and outdated work practices, the future of the work environment is remote and flexible work. In the age of the internet, connecting with skilled professionals has become easier and accessible. Thanks to online professional platforms like remoteworkers.net, companies have access to a wider pool of highly experienced talent and job-seekers can find their ideal remote jobs. Companies would be wise to evolve with the growth in remote work trends in order to become more competitive &amp; improve productivity.</p><h2>Looking for a remote job?</h2><p>Thanks to the internet, connecting skilled professionals with remote-friendly companies has never been easier. Whether you’re an experienced professional looking for your dream remote job or a remote-friendly company looking to hire the best talent, join <a href="https://remoteworkers.net/signup">Remote Workers</a>&nbsp;today!&nbsp;</p></div></div>]]>
            </description>
            <link>https://remoteworkers.net/blog/remote-work-how-alternative-has-become-new-norm</link>
            <guid isPermaLink="false">hacker-news-small-sites-25021471</guid>
            <pubDate>Sun, 08 Nov 2020 00:36:28 GMT</pubDate>
        </item>
    </channel>
</rss>
