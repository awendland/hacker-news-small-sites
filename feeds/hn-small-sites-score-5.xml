<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Fri, 19 Feb 2021 08:34:43 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Fri, 19 Feb 2021 08:34:43 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Kill the Alarm Clock (2017)]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 72 (<a href="https://news.ycombinator.com/item?id=26163691">thread link</a>) | @aminozuur
<br/>
February 16, 2021 | https://supermemo.guru/wiki/Kill_the_alarm_clock | <a href="https://web.archive.org/web/*/https://supermemo.guru/wiki/Kill_the_alarm_clock">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><p><small>This text is part of: "<i><a href="https://supermemo.guru/wiki/Science_of_sleep" title="Science of sleep">Science of sleep</a></i>" by <a href="https://supermemo.guru/wiki/Piotr_Wozniak" title="Piotr Wozniak">Piotr Wozniak</a> (2017)</small>
</p>


<h2><span id="Kill_the_alarm_clock.21">Kill the alarm clock!</span></h2>
<h3><span id="Alarm_clock_epidemic">Alarm clock epidemic</span></h3>
<p>Few upwardly mobile people in the modern rat-race society can live without an alarm clock. With a shot of strong coffee and round-the-clock stress, most people learn to live and survive with an alarm clock. Half of the population wakes up with an alarm, 9% are woken by a partner, 4% by pets, 3% by children, etc. That leaves a minority that wake up naturally. Increasingly, time becomes the most precious commodity in society where achievement is often associated with speed and perfect time-management. However, alarm clocks introduce harmful side effects: stress, sleep debt, and worst of all, disruption of the natural physiological sleep function. At worst, those factors will result in physical damage to the brain (e.g. such sensitive structures as the hippocampus, your memory switchboard, may literally <a href="https://supermemo.guru/wiki/If_you_do_not_sleep,_you_die!" title="If you do not sleep, you die!">lose neurons as a result of disrupted sleep</a>).
</p><p>The art of time-management makes it possible to live at a high speed with an alarm clock at your side, and still be free from <a href="https://supermemo.guru/wiki/Factors_that_affect_sleep#Stress" title="Factors that affect sleep">stress</a>. However, the societal damage inflicted by alarm clocks and <a href="https://supermemo.guru/wiki/Sleep_deprivation" title="Sleep deprivation">sleep deprivation</a> is unforgivable. An alarm clock that interrupts your sleep damages your memories, your ability to learn, your creativity, your mood and temper, your relationships with other people, your ability to focus, and your overall intellectual performance!
</p><p>Dr Robert Stickgold has shown that people who learn a skill during the day do not show significant improvement until they get 7-8 hours of good sleep<sup id="cite_ref-stickgold-2005_1-0"><a href="#cite_note-stickgold-2005-1">[1]</a></sup>. There was a noticeable correlation between the degree of improvement and the quality of sleep received. My own work with <a href="https://supermemo.guru/wiki/Sleep_habits#SleepChart_in_SuperMemo" title="Sleep habits">SleepChart</a> also shows that the <a href="https://supermemo.guru/wiki/Sleep_and_learning#Alarm_clock_vs._learning" title="Sleep and learning">use of alarm clocks can dramatically reduce memory recall and consolidation</a>. Forgetting is so painless that we rarely notice its effects. In a natural way, forgetting will proceed even if you get as much sleep as you need, and it is difficult to point to specific memories lost as a result of not sleeping enough. Moreover, <a href="https://supermemo.guru/wiki/Memory_optimization_in_sleep#Neural_optimization_in_sleep" title="Memory optimization in sleep">sleep deprivation may leave your memories intact while their storage will be sub-optimum</a>. The difference may be impossible to spot without measurement. We are more likely to notice sleepiness, reduced mental agility, or bad mood.
</p><p>Disrespect for sleep has reached biblical proportions. This is most noticeable in the US and other highly industrialized nations. <i>Men's Health's</i> Dan Vergano writing for <i>ABC News</i> in <i>"No More Rude Awakenings"</i> suggests a seven-day system for fighting sleepiness: <i>"The secret is to fuel that arousal system so it can <b>beat the pants off the sleep system</b>. By creating the kind of feel-good expectations that trigger hormones to wake the brain, you‚Äôll override the need to sleep and be able to jump out of bed like a man on fire"</i>. The article suggests a "fresh" mind method that capitalizes on the fact that stress hormones help keep you alert. However, the only rational remedy for <i>"rude awakenings"</i> is simple: get enough sleep! Jumping <i>like a man on fire</i> is not likely to have a positive effect on your creative potential!
</p><p>You may often notice that waking up with an alarm clock gives you a jumpstart for the day. You may then come to believe that using the alarm clock might help you stay alert later in the day. This is not the case. The alarm signal simply scares your brain into wakefulness, disrupting the carefully planned process of <a href="https://supermemo.guru/wiki/Memory_optimization_in_sleep#Neural_optimization_in_sleep" title="Memory optimization in sleep">neural optimization</a> that occurs in sleep. As a result, you get an immediate injection of <a href="http://en.wikipedia.org/wiki/Adrenaline">adrenaline</a> and your levels of <a href="http://en.wikipedia.org/wiki/ACTH">ACTH</a> and <a href="http://en.wikipedia.org/wiki/Cortisol">cortisol</a> also increase. This is cortisol that peaks at awakening in natural sleeping rhythm that provides you with the fresh-mind impression. With passing time, this cheaply gained alertness will wear thin unless you continue abusing your physiology with more "remedies". You may use more scare tactics for keeping yourself alert, abuse caffeine, or even get a more profound effect with <a href="http://en.wikipedia.org/wiki/Modafinil">modafinil</a>, <a href="http://en.wikipedia.org/wiki/Cocaine">cocaine</a>, or <a href="http://en.wikipedia.org/wiki/Amphetamines">amphetamines</a>. Alertness should be achieved with the help of sufficient sleep, not despite the lack of sleep! Apart from your reduced ability to learn new things, all unnatural anti-drowsiness methods will produce a great deal of side effects that can be pretty damaging to your health in the long run.
</p><p>All efforts to overcome sleepiness by means other than sleep itself can be likened to a chase of the first high in the use of psychoactive substances. If you drink buckets of coffee, do pushups, pour cold water over your head, or slap your face, you only dip into the last reserves of your alertness hormones that only worsen the effects of deprivation after the effects of the stimulation wear off, which is usually a matter of minutes. Rarely can you get a boost lasting more than an hour, and the more you perk up, the lower you fall in the aftermath.
</p>
<h3><span id="Insomnia_trap">Insomnia trap</span></h3>
<p>If your life without an alarm clock may seem like an impossibility, you will probably need to use all methods in the book to be sure you get enough sleep and minimize the damage. If you need to wake up early at the cost of your brain, avoid the <b><a href="https://supermemo.guru/wiki/Insomnia" title="Insomnia">insomnia trap</a></b>! Insomnia trap is a vicious circle of:
</p>
<ol><li> going to sleep too early to get more sleep,</li>
<li> failing to fall asleep in time (or worse, waking up prematurely),</li>
<li> feeling even more tired on the next day, and</li>
<li> going to sleep even earlier on the next day to catch up with the lost sleep.</li></ol>
<p>It is better to go to sleep at a natural hour (i.e. a bit later), wake up early, suffer a degree of sleep deprivation, and hope for a phase reset that will make it possible to continue on the <a href="http://www.stevepavlina.com/blog/2005/05/how-to-become-an-early-riser/">designer schedule</a>. For a solution to the insomnia trap see: <a href="https://supermemo.guru/wiki/Curing_DSPS_and_insomnia" title="Curing DSPS and insomnia">Curing DSPS and insomnia</a>.
</p><p>If you cannot reset your phase and still feel tired when getting up early on a regular basis, consider choosing a job that is acceptable for your body, not the other way around. Your long-term health and well-being is at stake. If you absolutely cannot live without an alarm clock, you can at least start from changing your mindset about the importance of sleep and ensure you do not impose wrong habits on your children. Perhaps the young ones will be lucky enough to work in a flex-time system that will make it possible to get sufficient amount of undisturbed sleep. At least, do not set a bad example!
</p>
<h3><span id="Wake_up_the_President">Wake up the President</span></h3>
<p>President Bill Clinton was woken up twice by telephone during the night of April 22, 2000 before the infamous I.N.S. raid on the home of Miami relatives of the young Cuban exile Elian Gonzales. He was probably the most often disrupted and sleep deprived president in history. Only after a heart surgery did Clinton take diet, sleep and (real) exercise seriously. Those interrupted nights would definitely influence his performance and the quality of his decisions! Has anybody thought of a rule: <i>Do not wake up the president?</i> A rule that could only be revoked in a true national emergency? President G. W. Bush (b. 1946) was woken up when an American spy plane landed in China in 2001. He was also woken up after a suicide bombing in Jerusalem in 2002. George H. W. Bush (b. 1924) and Hilary Clinton made "waking up in the middle of the night" part of their presidential campaign and prowess. It seems that only Ronald Reagan had pretty strong rules for protecting his own sleep. He also famously napped during some cabinet meetings. He slept through a couple of international events without an apparent negative impact on his somewhat delayed decision-making. Critics would say he slept through the entire <a href="http://en.wikipedia.org/wiki/Iran%E2%80%93Contra_affair">Iran-Contra affair</a>. Was Reagan so protective of sleep because he understood the role of sleep better, or perhaps he was just a bit lazier than other presidents? I don't know. However, he sure set a good example.
</p>
<h3><span id="Alarm_clock_monsters">Alarm clock monsters</span></h3>
<p>Andrea K. wrote to me with skepticism: 
</p>
<blockquote><p><i>"Take the alarm clock away from a typical person and they won't just wake up on their own at their desired time and they will miss work, school, or whatever. An alarm clock can't be that bad for you because of the simple fact that most people use it and I never noticed any problem with them&nbsp;:) Everyone in my family has been using one since they were children, and no one suddenly went crazy or began to mutate into a monster (yet)!"</i></p></blockquote> 
<p>When you use an alarm early in the morning in order to get to work or to school, you cut off the later stages of sleep. If the intrusion into natural sleep is not large (e.g. from minutes to an hour), the damage may be limited and hard to notice. Alarm clock will do far more damage if it cuts deep into the middle of the night sleep. You can compare the use of alarm clocks to smoking or eating hot dogs. The harm is not great enough to be instantly noticeable. It took the public many years to largely accept that "smoking is bad" or "fast food is bad". It is hard to quantify the degree of damage. However, as we move to knowledge society where our intellectual performance becomes increasingly important, the effects of <a href="https://supermemo.guru/wiki/Sleep_deprivation" title="Sleep deprivation">sleep deprivation</a> will come under closer scrutiny and alarm clocks are bound to gradually fall out of favor. Unlike hot dogs, they are already universally hated by their users. Most people are able to somewhat adapt their sleep to their schedules if their routines are regular enough. When those people need to resort to the use of the alarm clock, they cut less of their sleep and the damage is proportionally smaller. Nevertheless, we should always strive at eliminating alarm clocks altogether. Most of all, we should protect our kids from suffering interrupted sleep!
</p>
<h2><span id="References">References</span></h2>
<ol>
<li id="cite_note-stickgold-2005-1"><span><a href="#cite_ref-stickgold-2005_1-0">‚Üë</a></span> <span>Stickgold R., "<a href="http://www.nature.com/nature/journal/v437/n7063/full/nature04286.html">Sleep-dependent memory consolidation</a>," Nature / Volume 437 (October 27, 2005): 1272-1278</span>
</li>
</ol>

<!-- 
NewPP limit report
Cached time: 20210219073239
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.031 seconds
Real time usage: 0.035 seconds
Preprocessor visited node count: 56/1000000
Preprocessor generated node count: 158/1000000
Post‚Äêexpand include size: 1541/2097152 bytes
Template argument size: 438/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   14.983      1 - -total
 24.36%    3.650      1 - Template:Excerpt
 18.13%    2.716      1 - ArticleSleep
-->

<!-- Saved in parser cache with key supermem_kool_kids:pcache:idhash:1062-0!*!0!!en!*!* and timestamp 20210219073239 and revision id 14432
 -->
</div></div>]]>
            </description>
            <link>https://supermemo.guru/wiki/Kill_the_alarm_clock</link>
            <guid isPermaLink="false">hacker-news-small-sites-26163691</guid>
            <pubDate>Wed, 17 Feb 2021 07:28:17 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Database Inside Your Codebase]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 60 (<a href="https://news.ycombinator.com/item?id=26160186">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | https://feifan.blog/posts/the-database-inside-your-codebase | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/the-database-inside-your-codebase">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/joshua-sortino-LqKhnDzSF-8-unsplash.jpg">
      </p>
<p>
Navigating codebases of any meaningful size is difficult. Most of a programmer‚Äôs time is spent jumping through the codebase, reading or skimming to build a mental model of the constructs and conventions within it. These constructs ‚Äî among them: the DSLs, interfaces, and taxonomy of types that exist ‚Äî are arguably the most important precursor to understanding where and how to make changes. But these constructs only exist in programmers‚Äô heads. It‚Äôs difficult or impossible to navigate most codebases through the lens of those constructs; programmers lack ‚Äúcode browsers‚Äù that present the underlying code independently of files and the filesystem hierarchy. Yet code browsers that can do so ‚Äî and we‚Äôll look at some examples below ‚Äî would be incredibly useful. This is because instances of these constructs can be thought of as records in a database, albeit an ad-hoc, poorly-specified database that can only be queried through carefully-crafted regexes<a href="#fn:1" id="fnref:1" title="see footnote">1</a>.</p>
<p>
In simple cases, some constructs manifest as naming conventions: prefixes in a name may be a rudimentary way to namespace classes<a href="#fn:2" id="fnref:2" title="see footnote">2</a>, while suffixes may be a rudimentary way to group classes or identify their type<a href="#fn:3" id="fnref:3" title="see footnote">3</a>. But these are easy examples; many patterns are much more subtle.</p>
<h2>
‚ÄúWhere is this used?‚Äù</h2>
<p>
Imagine figuring out ‚Äúwhere is this used?‚Äù, for various types of ‚Äúthis‚Äù:</p>
<p>
Most code editors (perhaps paired with a <a href="https://microsoft.github.io/language-server-protocol/">language server</a>) can show you where local variables are used. This usually also works for finding where methods are invoked ‚Äî although perhaps less reliably in dynamic-dispatch languages, or languages without types.</p>
<p>
What if you want to find where instances of a particular model get created? There may be multiple ways to create a model, so this isn‚Äôt super simple. In Rails, for example, there‚Äôs two built-in ways to create a model: you can either call <code>.new</code> to create a new instance in memory followed by <code>.save</code> to persist it to the database, or call <code>.create</code> to automatically do both. Your particular codebase might have additional wrappers for doing this that you‚Äôre supposed to use. Even worse, imagine that sometimes you create a <code>.new</code> instance, then set some properties on it over the next few lines, then finally call <code>.save</code>. Something like this:</p>
<pre><code>user = User.new
user.email = '<a href="https://feifan.blog/cdn-cgi/l/email-protection" data-cfemail="fa929f969695ba9f829b978a969fd4999597">[email&nbsp;protected]</a>' unless self.anonymous?
user.save</code></pre>
<p>
Conceptually, that‚Äôs still code that creates an instance of a particular model. But with the intervening syntax, this would be a difficult case to find with <code>grep</code>.</p>
<h2>
Static config</h2>
<p>
At <a href="https://stripe.com/">Stripe</a>, where I work, we have a lot of code for jobs that need to run at certain times each day. For example, we might need to move funds from one financial partner to another at noon UTC each day. Each of these jobs has configuration code describing when and how it should be run, implemented as a <a href="https://www.jetbrains.com/mps/concepts/domain-specific-languages/">DSL</a>. This config might look something like this:</p>
<pre><code>run_config RunConfig.new(
  job_name: 'partner-daily-funding',
  env_vars: self.config_env,
  cron: RunConfig::Cron.new(
    schedule: { hour: 12, minute: 0 }
  ),
  owning_team: Company::Team::Liquidity
)</code></pre>
<p>
In our codebase, we have hundreds of these jobs, each with their own <code>run_config</code>. If you look at this codebase as a database, you can imagine these jobs being rows in a <code>jobs</code> table, where the fields on each row correspond to the parameters provided to the <code>RunConfig</code> class. </p>
<p>
Wouldn‚Äôt it be great to be able to browse all these jobs in a table? Maybe you could perform some basic operations on this data: searching for specific jobs by name or owning team; sorting by the time-of-day they‚Äôre scheduled to run; filtering for jobs owned by your team that have errored in the past week. Maybe you could edit the <code>run_config</code> from that interface (like you might edit a spreadsheet) and have it automatically make the corresponding change in the source code (or open a PR). Maybe you could even compute some aggregations on this data ‚Äî for example, if you‚Äôre introducing a new job that requires some expensive computation, maybe you‚Äôd like to know which hours have the fewest other jobs scheduled. And of course, this job browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each entry that shows the code for the job inline or opens the corresponding code in your editor.</p>
<h2>
Diffused concepts</h2>
<p>
Codebases typically contain logical concepts that are implemented across multiple pieces of code. This is often the case when you need to create multiple files to implement a particular feature.</p>
<p>
For example, in Rails, a ‚Äúresource‚Äù is collectively implemented across a line in the router, a model file, a controller file, and a bunch of view files. Rails even ships with a code generator to <a href="https://github.com/rails/rails/blob/5f3ff60084ab5d5921ca3499814e4697f8350ee7/railties/lib/rails/generators/rails/resource/USAGE">create some of these files</a> for you. But despite resources being a core concept when working with Rails, there‚Äôs no good way to browse the resources in your codebase<a href="#fn:4" id="fnref:4" title="see footnote">4</a>. There‚Äôs no good way to filter or query your codebase either ‚Äî you can‚Äôt, for example, see which resources support JSON vs XML params. </p>
<p>
For another example, consider pubsub (aka emitter-consumer) pipelines. In web services, when you have processing that can happen ‚Äúin the background‚Äù, one service will publish an event; another service subscribes to that event and will do the background processing on its own when it receives the event. Often, these will form event ‚Äúpipelines‚Äù or trees where an event consumer will emit additional events that are consumed by yet other services. These pipelines are concepts that developers talk about (as in, the ‚Äúaccount creation pipeline‚Äù or ‚Äúfunding reconciliation pipeline‚Äù), but in most codebases the pipeline itself isn‚Äôt declared or reified anywhere in the code.</p>
<p>
If you‚Äôre looking at code that emits an event, how do you find the consumers? If you‚Äôre lucky, the event has a unique, literal name and the consumer uses that name literally as well. But maybe some subscribers are using wildcard event names, or names generated by string concatenation, and that becomes a lot harder to grep for. Likewise, if you‚Äôre looking at a consumer of an event, how do you find the locations in the codebase that could emit that event<a href="#fn:5" id="fnref:5" title="see footnote">5</a>?</p>
<p>
Wouldn‚Äôt it be great to be able to browse those pipelines in a table or perhaps a directed graph<a href="#fn:6" id="fnref:6" title="see footnote">6</a>? Maybe that graph would support some basic operations on this data: searching for specific publishers or subscribers by class name or event name; filtering for pipelines that have run into errors; maybe even showing the flow of a particular event given an event ID<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. And of course, this pipeline browser should be bidirectional with respect to the codebase ‚Äî there should be a button beside each graph node that shows the code for the publisher or subscriber inline or opens the corresponding code in your editor.</p>
<p>
For a final example, consider code that has functionality inherited from elsewhere. Some environments let you see a <a href="https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html">list of inherited properties</a> or methods, but this isn‚Äôt possible for more specialized cases. At Stripe, we have code that implements shell scripts that can take command-line arguments and flags. These arguments are defined via a DSL in the implementing code, but these commands can be subclassed, and there‚Äôs no way to see what the available arguments are while working in the subclass.</p>
<h2>
Philosophy</h2>
<p>
I think it‚Äôs important to consider these problems not as disparate cases in need of bespoke tooling, but as a <em>class</em> of problems characterized by a lack of access to the data structures embedded within codebases. Just like SQL databases and spreadsheets provide a singular querying abstraction and a set of visualization primitives that can be applied to any kind of data, programming environments need a singular querying abstraction and set of visualization primitives that can be applied to the concepts lurking in codebases. Getting there does <em>not</em> mean using proprietary drag-and-drop visual programming interfaces where the introspection capabilities are limited to whatever the programming environment happens to have implemented. Just the opposite ‚Äî you should still be able to do whatever you want with your code (including treating it as plain-text files), <em>and also</em> have access to more advanced introspection tools that can query and slice your code ‚Äî tools that let you easily understand and navigate complex codebases to reduce the <em>incidental complexity</em> of building software.</p>
<h2>
Solutions</h2>
<p>
I don‚Äôt have a solution to sell you here (at least, not yet!). But <a href="https://twitter.com/hirday_g/status/1356657607381946369">by popular demand</a> I think it‚Äôs worthwhile to at least discuss principles that solutions should embody and directionally-related prior art. </p>
<p>
To start with a simple example, see <a href="https://ihp.digitallyinduced.com/">IHP</a>, a full-stack web framework similar to Rails. It comes with a web interface for manipulating your project‚Äôs codebase and database schema. <a href="https://youtu.be/UbDtS_mUMpI?t=102">One point in the introduction video</a> showed changes being made in the visual schema editor being automatically reflected in the SQL code that describes the database schema ‚Äî and changes being made to the SQL code being bidirectionally reflected in the visual schema editor. </p>
<p>
For a more in-depth example, consider <a href="https://pharo.org/">Pharo</a>, a Smalltalk environment. ‚ÄúEnvironment‚Äù in this case means that it feels like you‚Äôre using a custom OS (including global menus, idioms, and keyboard and mouse conventions) designed specifically for browsing, writing, and debugging programs in the Smalltalk programming language<a href="#fn:8" id="fnref:8" title="see footnote">8</a>. The holistic integration of these tools is important. Unlike the programming environments we cobble for ourselves today ‚Äî where the editor is agnostic of the language and runtime and other tools like debuggers, inspectors, and code browsers are tacked on (if they exist at all) ‚Äî it‚Äôs worth thinking about what an entire computing experience <em>for</em> writing and building custom tools might look like<a href="#fn:9" id="fnref:9" title="see footnote">9</a>.</p>
<p>
Pharo is also interesting because of its Class Browser, which looks like this:</p>
<p>
  <img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/database-codebase-pharo-browser.png" alt="Pharo class browser">
</p>
<p>
This browser breaks free from the source code <em>file</em> as the atomic unit of browsing; instead, it allows the user to browse one method at a time. Making the ‚Äúunit of browsing‚Äù ‚Ä¶</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://feifan.blog/posts/the-database-inside-your-codebase">https://feifan.blog/posts/the-database-inside-your-codebase</a></em></p>]]>
            </description>
            <link>https://feifan.blog/posts/the-database-inside-your-codebase</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160186</guid>
            <pubDate>Tue, 16 Feb 2021 23:27:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Uber loses (another) $6.8b [is not viable; will never turn a profit]]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26160076">thread link</a>) | @samizdis
<br/>
February 16, 2021 | https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter | <a href="https://web.archive.org/web/*/https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="post-1884">
	<!-- .entry-header -->

	
	
	<div>
		<p><!--
Tags:
uber, bezzle, prop22, doordash, softbank, lapd, blacklivesmatter, public private partnerships, surveillance, blm, la, sf, los angeles, san francisco, protest,

Summary:
Uber loses (another) $6.8b; Ring helped LAPD spy on BLM protests

URL:
https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/

Title:
Pluralistic: 16 Feb 2021 ring-ring-lapd-calling

Bullet:
üëéüèº

Separator:
_,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,__,.-'~'-.,_

Top Sources:
None

--><br>
<a href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/"><img src="https://i2.wp.com/craphound.com/images/16Feb2021.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i2.wp.com/craphound.com/images/16Feb2021.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></a></p>

<ul>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">Uber loses (another) $6.8b</a>: The market can stay predatory longer than you can stay angry.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#ring">Ring helped LAPD spy on BLM protests</a>: The public-private surveillance partnership from hell.
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#retro">This day in history</a>: 2001, 2006, 2011, 2016
</li>
<li attrs="{'class': ['xToC']}"><a attrs="{'href': '#xslug'}" href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#bragsheet">Colophon</a>: Recent publications, upcoming/recent appearances, current writing projects, current reading
</li>
</ul>

<hr>
<p><a name="uber-unter"></a><br>
<img src="https://i1.wp.com/craphound.com/images/La_Brea_Tar_Pits_Elephant_Statues_1990_right-2.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i1.wp.com/craphound.com/images/La_Brea_Tar_Pits_Elephant_Statues_1990_right-2.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>In late 2020, a coalition of predatory, money-losing, private-equity backed companies ran a $200m disinformation campaign that resulted in the passage of California's Prop 22, legalizing worker misclassification and mass-scale labor law violations.</p>
<p><a href="https://pluralistic.net/2020/10/14/final_ver2/#prop-22">https://pluralistic.net/2020/10/14/final_ver2/#prop-22</a></p>
<p>Almost immediately, the passage of Prop 22 led to the loss of unionized jobs paying a living wage and offering basic worker protections, especially for people of color ‚Äì only to have them replaced by "gig work" that lacked any of the above.</p>
<p><a href="https://pluralistic.net/2021/01/05/manorialism-feudalism-cycle/#prop22">https://pluralistic.net/2021/01/05/manorialism-feudalism-cycle/#prop22</a></p>
<p>One of the primary funders ‚Äì and beneficiaries ‚Äì of Prop 22 was Uber, which pioneered worker misclassification. Uber is now pushing the EU to "harmonize" its regulations in a game of transatlantic pingpong where each volley makes things worse.</p>
<p><a href="https://www.cnbc.com/2021/02/15/uber-proposes-california-style-gig-work-reforms-in-europe.html">https://www.cnbc.com/2021/02/15/uber-proposes-california-style-gig-work-reforms-in-europe.html</a></p>
<p>The irony? Uber is a "bezzle" ‚Äì JK Galbraith's name for "the magic interval when a confidence trickster knows he has the money he has appropriated but the victim does not yet understand that he has lost it." Uber is a scam and it will never be profitable.</p>
<p>Uber is a product of Softbank, the Saudi-backed Japanese investment fund that has $100b to spend on helping the Saudi royals find a revenue stream to replace oil. Softbank is a pioneer of accounting frauds that make stupid businesses look profitable.</p>
<p><a href="https://pluralistic.net/2020/05/19/larval-pegasi/#long-con">https://pluralistic.net/2020/05/19/larval-pegasi/#long-con</a></p>
<p>From Wework to Uber to Doordash and beyond, Softbank makes two kinds of bets: first, that they can achieve a monopoly by doing illegal or quasi-illegal things so quickly that they become faits accompli before they get shut down.</p>
<p>And second, that the companies that fail to achieve a monopoly can be unloaded on suckers ("investors") who assume that a money-losing company that has been around for a decade or more must have a path to profitability ("a pile of shit this big <em>must</em> have a pony under it!").</p>
<p>Uber will never, ever be profitable. The company admitted as much on its S1 IPO filing, where it said that profitability depended on every public transit system in the world being replaced with Uber. The company lost <em>$4b</em> in the first half of 2020,</p>
<p><a href="https://pluralistic.net/2020/08/10/folksy-monopolists/#bezzled">https://pluralistic.net/2020/08/10/folksy-monopolists/#bezzled</a></p>
<p>If you think the first half of 2020 was bad, you should see the second half of 2020: <em>Uber lost $6.8b more!</em> As usual, transportation analyst Hubert Horan has the absolute best context on the company's haemorrhagic losses.</p>
<p><a href="https://www.nakedcapitalism.com/2021/02/hubert-horan-can-uber-ever-deliver-part-twenty-four-uber-loses-another-6-8-billion.html">https://www.nakedcapitalism.com/2021/02/hubert-horan-can-uber-ever-deliver-part-twenty-four-uber-loses-another-6-8-billion.html</a></p>
<p>He points out that things are even worse than they seem for Uber. For many years, the pony-under-all-this-shit show required that Uber spend billions on the doomed pretense that they would someday replace drivers with autonomous vehicles.</p>
<p>$2.5B later, Uber's "self-driving" cars could go a whopping <em>0.25 miles</em> before crashing. They had to <em>pay</em> someone $400m to take the division off their hands. Even so, ditching the business-unit produced a gain for Uber's H2-2020 balance-sheet.</p>
<p><a href="https://pluralistic.net/2020/12/08/required-reading/#goober">https://pluralistic.net/2020/12/08/required-reading/#goober</a></p>
<p>Now, Uber <em>did</em> experience massive growth in H2-2020, in their food delivery division. However, that growth led to massive losses for them, because every delivery loses the company money, by design (more expensive pony-under-the-pile theatrics):</p>
<p><a href="https://pluralistic.net/2020/05/18/code-is-speech/#schadenpizza">https://pluralistic.net/2020/05/18/code-is-speech/#schadenpizza</a></p>
<p>But Uber's food delivery long con doesn't just victimize its investors: the primary harms accrue to the restaurants the company nonconsensually opts into its delivery services (with help from Google), draining them until they collapse.</p>
<p><a href="https://pluralistic.net/2020/09/19/we-are-beautiful/#man-in-the-middle">https://pluralistic.net/2020/09/19/we-are-beautiful/#man-in-the-middle</a></p>
<p>Uber claims that it is just consuming every beloved restaurant in the world in order to attain liftoff for "ghost kitchens" ‚Äì literally shipping containers stuffed with precarious chefs <em>paying</em> to cook in unsafe working conditions.</p>
<p>This is what we mean when we talk about "financialization." Uber is a finance shell-game, one that can only be sustained by the destruction of all public transit, all restaurants, basic worker protections and the minimum wage.</p>
<p>And once it has taken that brutal toll on workers and the real economy, once it has fleeced the last investor lured into paying to excavate a little more of the pile of shit, it will collapse.</p>
<p>You can't lost $10b/year forever. $10b here, $10b there, pretty soon you're talking real money.</p>
<p>(<i>Image: <a href="https://en.wikipedia.org/wiki/File:La_Brea_Tar_Pits_Elephant_Statues_1990_right.jpg">Tarcil</a>, <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en">CC BY-SA</a>, modified</i>)</p>
<hr>
<p><a name="ring"></a><br>
<img src="https://i0.wp.com/craphound.com/images/2020-10-04_-_hughs_art_in_williams_2.jpg?w=840&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/2020-10-04_-_hughs_art_in_williams_2.jpg?w=840&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>Ring ‚Äì Amazon's surveillance doorbell division ‚Äì has 4,000 "partnerships" with US police ("public safety") orgs. The company has lied about how these work for years, but the basic deal is that they give cops free stuff to buzz-market their products.</p>
<p><a href="https://www.vice.com/en/article/j5wyjy/amazon-told-police-it-has-partnered-with-200-law-enforcement-agencies">https://www.vice.com/en/article/j5wyjy/amazon-told-police-it-has-partnered-with-200-law-enforcement-agencies</a></p>
<p>Ring tells its customers that they get to choose whether to share the footage from their street-facing cameras with cops, but that's a lie, too. If you say no, the cops still get to look through your camera.</p>
<p><a href="https://www.vice.com/en/article/43kga3/amazon-is-coaching-cops-on-how-to-obtain-surveillance-footage-without-a-warrant">https://www.vice.com/en/article/43kga3/amazon-is-coaching-cops-on-how-to-obtain-surveillance-footage-without-a-warrant</a></p>
<p>That's why cops debase themselves to serve as buzz-marketers for Ring ‚Äì in exchange, they get an off-the-books, free-to-use, warrantless, city-scale, video surveillance grid.</p>
<p>It's an investment that pays off. Back in July, EFF documented how the San Francisco Police Department was able to commandeer 200 Avigilon cameras to produce surveillance data on BLM protesters:</p>
<p><a href="https://www.eff.org/deeplinks/2020/07/san-francisco-police-accessed-business-district-camera-network-spy-protestors">https://www.eff.org/deeplinks/2020/07/san-francisco-police-accessed-business-district-camera-network-spy-protestors</a></p>
<p>And in a new blockbuster report, EFF's Dave Maass and Matthew Guariglia document how the LAPD did the same thing, fraudulently using "unusual occurance" protocols to gain access to last summer's BLM protests.</p>
<p><a href="https://www.eff.org/deeplinks/2021/02/lapd-requested-ring-footage-black-lives-matter-protests">https://www.eff.org/deeplinks/2021/02/lapd-requested-ring-footage-black-lives-matter-protests</a></p>
<p>Ring has a terrible track record, kicking off its marketing by sending out deceptive news-bulletins to convince people that they lived in high-crime areas and needed its products:</p>
<p><a href="https://www.theatlantic.com/ideas/archive/2019/05/amazon-owned-ring-wants-report-crime-news/588394/">https://www.theatlantic.com/ideas/archive/2019/05/amazon-owned-ring-wants-report-crime-news/588394/</a></p>
<p>They lied about their facial recognition program:</p>
<p><a href="https://www.buzzfeednews.com/article/nicolenguyen/amazon-ring-facial-recognition-ukraine">https://www.buzzfeednews.com/article/nicolenguyen/amazon-ring-facial-recognition-ukraine</a></p>
<p>A program that included a plan to make "watch lists" of people who'd be tracked from camera to camera:</p>
<p><a href="https://theintercept.com/2019/11/26/amazon-ring-home-security-facial-recognition/">https://theintercept.com/2019/11/26/amazon-ring-home-security-facial-recognition/</a></p>
<p>Far from keeping its customers safe, Ring exposed them to real harm, leaking their home addresses:</p>
<p><a href="https://gizmodo.com/ring-s-hidden-data-let-us-map-amazons-sprawling-home-su-1840312279">https://gizmodo.com/ring-s-hidden-data-let-us-map-amazons-sprawling-home-su-1840312279</a></p>
<p>Allowing third parties to hack their cameras, spy on them, and scream abuse at them:</p>
<p><a href="https://www.vice.com/en/article/z3bbq4/podcast-livestreams-hacked-ring-cameras-nulledcast">https://www.vice.com/en/article/z3bbq4/podcast-livestreams-hacked-ring-cameras-nulledcast</a></p>
<p>Not just hackers, either! Multiple Ring employees got caught spying on Ring owners and their families, including their children:</p>
<p><a href="https://www.vice.com/en/article/y3mdvk/ring-fired-employees-abusing-video-data">https://www.vice.com/en/article/y3mdvk/ring-fired-employees-abusing-video-data</a></p>
<p>As Maass and Guariglia point out, Ring made some improvements to user privacy over the past year, adding end-to-end encryption. But at the same time, Ring has cemented its relationship with American police forces, leading to far more police requests for Ring owners' footage.</p>
<p>These "requests" start to feel a lot more like coercion, and, as with other coercive law-enforcement requests, "like police 'asking' to search your phone during a traffic stop," they should be bound by strict limits.</p>
<p>EFF proposes four rules for coercive electronic searches:</p>
<p>I. Requests must be specific, targeting a particular time and place where there is reasonable suspicion that crime has happened (rather than general requests)</p>
<p>II. Police must collect and publish statistics about their consent searches of electronic devices, to deter and detect racial profiling</p>
<p>III. Police and reviewing courts must narrowly construe the scope of a person‚Äôs consent to search their device.</p>
<p>IV. Before an officer attempts to acquire footage from a person‚Äôs Ring camera, the officer must notify the person of their legal right to refuse.</p>
<p>The public-private surveillance partnership between Ring and the cops epitomizes the paradox of the American privacy debate.</p>
<p>When I talk to military, intelligence and government audiences about surveillance, they say, "Look, Uncle Sam already knows everything about me, but those scumbags in Silicon Valley would sell their mothers for a nickel."</p>
<p>And when I talk to tech audiences, they say, "Google just wants to show me better ads, big deal. But cops and spooks? They're the thickwitted sociopaths who were too stupid to get a job at a tech company. No <em>way</em> I want them spying on me."</p>
<p>But the reason companies like Ring are allowed to conduct such indiscriminate surveillance (a one mile walk in DC puts you under the gaze of 13 Ring cameras!) is that governments are wholly dependent on requisitioning their footage.</p>
<p>Rather than warning people about the dangers of Ring cameras ‚Äì or agitating for ordinances banning them ‚Äì cops served as street-teams marketing Ring's products. Private surveillance depends on government complicity, and spying governments depend on private surveillance.</p>
<hr>
<p><a name="retro"></a><br>
<img src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;ssl=1" data-recalc-dims="1" data-lazy-src="https://i0.wp.com/craphound.com/images/wayback-machine-hed-796x416.png?resize=796%2C416&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"></p>

<p>#20yrsago  P2P Goes in Search of 'Doogle' <a href="https://web.archive.org/web/20021019060759/https://www.wired.com/news/technology/0,1282,41850,00.html">https://web.archive.org/web/20021019060759/https://www.wired.com/news/technology/0,1282,41850,00.html</a></p>
<p>#15yrsago Tech ‚Ä¶</p></div></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter">https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter</a></em></p>]]>
            </description>
            <link>https://pluralistic.net/2021/02/16/ring-ring-lapd-calling/#uber-unter</link>
            <guid isPermaLink="false">hacker-news-small-sites-26160076</guid>
            <pubDate>Tue, 16 Feb 2021 23:17:28 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Clubhouse Bio Generator]]>
            </title>
            <description>
<![CDATA[
Score 191 | Comments 70 (<a href="https://news.ycombinator.com/item?id=26159405">thread link</a>) | @ChrisArchitect
<br/>
February 16, 2021 | https://perchance.org/owh9gelu4t | <a href="https://web.archive.org/web/*/https://perchance.org/owh9gelu4t">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://perchance.org/owh9gelu4t</link>
            <guid isPermaLink="false">hacker-news-small-sites-26159405</guid>
            <pubDate>Tue, 16 Feb 2021 22:11:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Simtel.net MS-DOS Collection]]>
            </title>
            <description>
<![CDATA[
Score 119 | Comments 36 (<a href="https://news.ycombinator.com/item?id=26157165">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | http://www.lanet.lv/simtel.net/msdos/index-msdos.html | <a href="https://web.archive.org/web/*/http://www.lanet.lv/simtel.net/msdos/index-msdos.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p><table>
<tbody><tr><th></th><th><a name="0"> - 0 - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/00_info.html">00_info</a></b></td><td>Simtel.Net MS-DOS documentation, indexes</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/00_start.html">00_start</a></b></td><td>Essential info and utilities for beginners</td></tr>
<tr><th></th><th><a name="4"> - 4 - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/4dos.html">4dos</a></b></td><td>4DOS shell - replacement for COMMAND.COM</td></tr>
<tr><th></th><th><a name="A"> - A - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ada.html">ada</a></b></td><td>Ada programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ai.html">ai</a></b></td><td>Artificial Intelligence programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/animate.html">animate</a></b></td><td>Animation programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/apl.html">apl</a></b></td><td>The APL mathematics programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/arcers.html">arcers</a></b></td><td>Archiving and compressing programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/arcutils.html">arcutils</a></b></td><td>Utilities for using archives</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/asm_mag.html">asm_mag</a></b></td><td>The Assembly Language 'magazine'</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/asmutl.html">asmutl</a></b></td><td>Assembly language utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/astronmy.html">astronmy</a></b></td><td>Astronomical programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/autocad.html">autocad</a></b></td><td>Programs for Auto-CAD</td></tr>
<tr><th></th><th><a name="B"> - B - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/basic.html">basic</a></b></td><td>BASIC programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/batchutl.html">batchutl</a></b></td><td>Batch utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbs.html">bbs</a></b></td><td>BBS systems and support programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbsdoors.html">bbsdoors</a></b></td><td>BBS 'door' interfaces</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bbslists.html">bbslists</a></b></td><td>BBS lists</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bible.html">bible</a></b></td><td>Bible and searching tools</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/binaryed.html">binaryed</a></b></td><td>Binary file editors</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/biology.html">biology</a></b></td><td>Biology programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/bootutil.html">bootutil</a></b></td><td>Controlling the booting process</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/borland.html">borland</a></b></td><td>Borland product support</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/business.html">business</a></b></td><td>Business-related Programs</td></tr>
<tr><th></th><th><a name="C"> - C - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/c.html">c</a></b></td><td>C programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cad.html">cad</a></b></td><td>Computer Aided Design</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/calculte.html">calculte</a></b></td><td>Calculators for math, finance, etc.</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/catalog.html">catalog</a></b></td><td>Disk catalog utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cdrom.html">cdrom</a></b></td><td>CD-ROM utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/chemstry.html">chemstry</a></b></td><td>Chemistry programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/clipper.html">clipper</a></b></td><td>Clipper programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/clocks.html">clocks</a></b></td><td>Computer time utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/commprog.html">commprog</a></b></td><td>Terminal and file transfer programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/compress.html">compress</a></b></td><td>Compression utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/cpluspls.html">cpluspls</a></b></td><td>C++ programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/crossasm.html">crossasm</a></b></td><td>Cross-Assemblers</td></tr>
<tr><th></th><th><a name="D"> - D - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/database.html">database</a></b></td><td>Databases and programs to create them</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dayo.html">dayo</a></b></td><td>DAYO business and accounting software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/decode.html">decode</a></b></td><td>Encode/decode binary files to/from text</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/deskaces.html">deskaces</a></b></td><td>Handy Desk-Top utilities and programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/deskpub.html">deskpub</a></b></td><td>Desktop publishing</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/desqview.html">desqview</a></b></td><td>DESQview utilities and programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dirutl.html">dirutl</a></b></td><td>Directory utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/disasm.html">disasm</a></b></td><td>Disassemblers: Convert executables to ASM</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/diskutil.html">diskutil</a></b></td><td>Disk utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/dv_x.html">dv_x</a></b></td><td>Programs and utilities for DESQview-X</td></tr>
<tr><th></th><th><a name="E"> - E - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/editor.html">editor</a></b></td><td>Text editors</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/educate.html">educate</a></b></td><td>Programs for education</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/eel.html">eel</a></b></td><td>Epsilon editor EEL extensions</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/electrcl.html">electrcl</a></b></td><td>Electrical engineering programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/emulate.html">emulate</a></b></td><td>Emulators</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/engin.html">engin</a></b></td><td>Engineering Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/envutil.html">envutil</a></b></td><td>Manipulating environment variables</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/execomp.html">execomp</a></b></td><td>Compress EXE and COM files to save disk space</td></tr>
<tr><th></th><th><a name="F"> - F - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fileutil.html">fileutil</a></b></td><td>File management and conversion utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/finance.html">finance</a></b></td><td>Financial software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/flowchrt.html">flowchrt</a></b></td><td>Flowchart Generators</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/foods.html">foods</a></b></td><td>Food recipes</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/forms.html">forms</a></b></td><td>Form Generators and Forms Entry Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/forth.html">forth</a></b></td><td>Forth programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fortran.html">fortran</a></b></td><td>FORTRAN programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/fossil.html">fossil</a></b></td><td>FOSSIL drivers and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/freemacs.html">freemacs</a></b></td><td>Emacs-like editor (small)</td></tr>
<tr><th></th><th><a name="G"> - G - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/genealgy.html">genealgy</a></b></td><td>Genealogy programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/geogrphy.html">geogrphy</a></b></td><td>Geography programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/geology.html">geology</a></b></td><td>Geology programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/gif.html">gif</a></b></td><td>Programs to make/view/print/convert GIF files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/graph.html">graph</a></b></td><td>Graphing programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/graphics.html">graphics</a></b></td><td>Graphics programs</td></tr>
<tr><th></th><th><a name="H"> - H - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/hamradio.html">hamradio</a></b></td><td>Ham Radio programs and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/handicap.html">handicap</a></b></td><td>Programs for the handicapped</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/health.html">health</a></b></td><td>Health, Fitness, and Medical</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/html.html">html</a></b></td><td>HTML Tools</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/hypertxt.html">hypertxt</a></b></td><td>Hyper-Text files and programs</td></tr>
<tr><th></th><th><a name="I"> - I - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/imail.html">imail</a></b></td><td>IMAIL FidoNet echomail processor</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/info.html">info</a></b></td><td>Information and documentation files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/install.html">install</a></b></td><td>Program installation utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/internet.html">internet</a></b></td><td>Programs and utils for use on the Internet</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/io_utils.html">io_utils</a></b></td><td>I/O Utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/irit.html">irit</a></b></td><td>Polygonal solid modeler &amp; C++ source</td></tr>
<tr><th></th><th><a name="K"> - K - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/keyboard.html">keyboard</a></b></td><td>Keyboard utilities</td></tr>
<tr><th></th><th><a name="L"> - L - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/lan.html">lan</a></b></td><td>Programs for use on Local Area Networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/langtutr.html">langtutr</a></b></td><td>Tutorials on foreign languages</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/laser.html">laser</a></b></td><td>Laser printer utilities and fonts</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/legal.html">legal</a></b></td><td>Law-related programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/lingstcs.html">lingstcs</a></b></td><td>Linguistics</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/literatr.html">literatr</a></b></td><td>Teach/learn literature</td></tr>
<tr><th></th><th><a name="M"> - M - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mailnews.html">mailnews</a></b></td><td>E-mail and Usenet News programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mapping.html">mapping</a></b></td><td>Map programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/math.html">math</a></b></td><td>Mathematics programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mcintosh.html">mcintosh</a></b></td><td>Convert Macintosh files to DOS format</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/memutil.html">memutil</a></b></td><td>Computer memory info and management utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/menu.html">menu</a></b></td><td>Creating and using menus</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/microsft.html">microsft</a></b></td><td>Microsoft product support</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/misclang.html">misclang</a></b></td><td>Misc. program languages</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mmedia.html">mmedia</a></b></td><td>Multimedia Programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mormon.html">mormon</a></b></td><td>The Book of Mormon</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/mouse.html">mouse</a></b></td><td>Utilities for the mouse</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/music.html">music</a></b></td><td>Programs for writing and playing music</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/muslum.html">muslum</a></b></td><td>The Holy Book of Muslum</td></tr>
<tr><th></th><th><a name="N"> - N - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/naplps.html">naplps</a></b></td><td>NAPLPS drawing program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ncsatlnt.html">ncsatlnt</a></b></td><td>NCSA Telnet TCP/IP package</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/nettamer.html">nettamer</a></b></td><td>Net-Tamer DOS PPP dial up access program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/network.html">network</a></b></td><td>Utilities for computer networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/neurlnet.html">neurlnet</a></b></td><td>Neural Networks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/nfs.html">nfs</a></b></td><td>Network File System utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/notabene.html">notabene</a></b></td><td>Notabene word processor utils</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/novell.html">novell</a></b></td><td>Novell LAN utilities</td></tr>
<tr><th></th><th><a name="P"> - P - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/packet.html">packet</a></b></td><td>Programs for Packet Radio</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pascal.html">pascal</a></b></td><td>Pascal programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pcboard.html">pcboard</a></b></td><td>PC Board BBS software</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pcmag.html">pcmag</a></b></td><td>'PC Magazine' listings and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pctech.html">pctech</a></b></td><td>'PC Tech Journal' listings and utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/perl.html">perl</a></b></td><td>Perl programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pgmtips.html">pgmtips</a></b></td><td>Programming Tips &amp; Tricks Magazine</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pgmutl.html">pgmutl</a></b></td><td>Programming utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/pktdrvr.html">pktdrvr</a></b></td><td>TCP/IP/IPX/ODI packet drivers</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/plot.html">plot</a></b></td><td>Programs for plotters</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/postscrp.html">postscrp</a></b></td><td>PostScript view/print utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/printer.html">printer</a></b></td><td>Printer utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/progjorn.html">progjorn</a></b></td><td>Programmers Journal</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/projmgmt.html">projmgmt</a></b></td><td>Project Management programs</td></tr>
<tr><th></th><th><a name="Q"> - Q - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qbasic.html">qbasic</a></b></td><td>Quick BASIC and QBasic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qmodem.html">qmodem</a></b></td><td>Qmodem comm program &amp; utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/qtrdeck.html">qtrdeck</a></b></td><td>Quarterdeck utilities and technical notes</td></tr>
<tr><th></th><th><a name="R"> - R - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ramdisk.html">ramdisk</a></b></td><td>Memory resident disks</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/rbbs.html">rbbs</a></b></td><td>RBBS-PC BBS and support utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/recreatn.html">recreatn</a></b></td><td>Recreation and passtime-related programs</td></tr>
<tr><th></th><th><a name="S"> - S - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/satelite.html">satelite</a></b></td><td>Communication satellite programs and listings</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/schedule.html">schedule</a></b></td><td>Schedule automatic program runs (like cron)</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/science.html">science</a></b></td><td>Miscellaneous science related material</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/screen.html">screen</a></b></td><td>Video screen utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/security.html">security</a></b></td><td>Improve computer security</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/semware.html">semware</a></b></td><td>SemWare editors, utilities and support files</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/simulatn.html">simulatn</a></b></td><td>Simulation programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sound.html">sound</a></b></td><td>Computer sound programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sports.html">sports</a></b></td><td>Sports programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/spredsht.html">spredsht</a></b></td><td>Spreadsheet programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/statstcs.html">statstcs</a></b></td><td>Statistics programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/surfmodl.html">surfmodl</a></b></td><td>Surface modeling programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/swap.html">swap</a></b></td><td>Free working memory by swaping to high mem</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sysinfo.html">sysinfo</a></b></td><td>Computer system information display programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/sysutl.html">sysutl</a></b></td><td>System utilities</td></tr>
<tr><th></th><th><a name="T"> - T - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tcpip.html">tcpip</a></b></td><td>TCP/IP programs (ka9q, etc.)</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/teaching.html">teaching</a></b></td><td>Programs to assist teachers</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/telegard.html">telegard</a></b></td><td>Telegard BBS program &amp; utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/telix.html">telix</a></b></td><td>Telix communications program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/termnate.html">termnate</a></b></td><td>Terminate Terminal/Communications program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tex.html">tex</a></b></td><td>TeX type setting program</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tiff.html">tiff</a></b></td><td>TIFF graphics format programs and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/torah.html">torah</a></b></td><td>Torah-related programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/travel.html">travel</a></b></td><td>Travel planning and information</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/tsrutil.html">tsrutil</a></b></td><td>Terminate and stay resident utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbo_c.html">turbo_c</a></b></td><td>Borland Turbo C programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbobas.html">turbobas</a></b></td><td>Borland's Turbo Basic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbopas.html">turbopas</a></b></td><td>Borland Turbo Pascal programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/turbovis.html">turbovis</a></b></td><td>Turbo Vision programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/txtutl.html">txtutl</a></b></td><td>Text utilities</td></tr>
<tr><th></th><th><a name="U"> - U - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/ubasic.html">ubasic</a></b></td><td>UBASIC: Ultra high-precision BASIC for math</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/uemacs.html">uemacs</a></b></td><td>MicroEmacs text editor</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/uucp.html">uucp</a></b></td><td>Unix to Unix Copy for MS-DOS</td></tr>
<tr><th></th><th><a name="V"> - V - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/vga.html">vga</a></b></td><td>VGA monitor utilities</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/virus.html">virus</a></b></td><td>Virus detection and removal programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/visbasic.html">visbasic</a></b></td><td>Visual Basic programming language</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/viscii.html">viscii</a></b></td><td>Vietnamese character programs</td></tr>
<tr><th></th><th><a name="W"> - W - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/waffle.html">waffle</a></b></td><td>Waffle bulletin board system</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/weather.html">weather</a></b></td><td>Weather forecasting</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/wordperf.html">wordperf</a></b></td><td>WordPerfect word processing</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/worldmap.html">worldmap</a></b></td><td>A digitized map of the world</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/wwiv.html">wwiv</a></b></td><td>WWIV BBS</td></tr>
<tr><th></th><th><a name="X"> - X - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/x_10.html">x_10</a></b></td><td>X-10 Powerhouse computer programs</td></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/xwindows.html">xwindows</a></b></td><td>X Windows Server and Support Programs</td></tr>
<tr><th></th><th><a name="Z"> - Z - </a></th></tr>
<tr><td><b><a href="http://www.lanet.lv/simtel.net/msdos/zmodem.html">zmodem</a></b></td><td>Zmodem file transfer protocol</td></tr>
</tbody></table></p></div>]]>
            </description>
            <link>http://www.lanet.lv/simtel.net/msdos/index-msdos.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-26157165</guid>
            <pubDate>Tue, 16 Feb 2021 18:36:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[AirPods as a Platform]]>
            </title>
            <description>
<![CDATA[
Score 121 | Comments 127 (<a href="https://news.ycombinator.com/item?id=26156881">thread link</a>) | @sc90
<br/>
February 16, 2021 | https://julian.digital/2020/04/19/airpods-as-a-platform/ | <a href="https://web.archive.org/web/*/https://julian.digital/2020/04/19/airpods-as-a-platform/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
 		
<p><span>01</span> Intro</p>



<p>One of the favorite activities of tech analysts, VCs and similar Twitter armchair experts is to predict what the next big technology platform might be.</p>



<p>The usual suspects that come up in these conversations are VR/AR, crypto, smart speakers and similar IoT devices. A new contestant that I‚Äôve <a href="https://twitter.com/BrianNorgard/status/1108755070642880512">seen</a> <a href="https://www.aboveavalon.com/notes/2019/11/19/airpods-are-becoming-a-platform">come up</a> <a href="https://twitter.com/chrismessina/status/1177619897884368904">more</a> <a href="https://twitter.com/HarryStebbings/status/1215425809944543240">frequently</a> in these debates recently are Apple‚Äôs AirPods.</p>



<p>Calling AirPods ‚Äúthe next big platform‚Äù is interesting because at the moment, they are not even a small platform. They are no platform at all. They are just a piece of hardware. </p>



<p>But that doesn‚Äôt mean they can‚Äôt become platform.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/platform.png"></p><p><span>02</span> What is a platform?</p>



<p>Let‚Äôs first take a look at what a platform actually is.</p>



<p>At its core, a platform is something that others can build on top of. A classic example would be an operating system like iOS: By providing a set of APIs, Apple created a playground for developers to build and run applications on. In fact, new input capabilities such as the touch interface, gyroscope sensor and camera allowed developers to create unique applications that weren‚Äôt possible before. </p>



<p>Platforms are subject to network effects: More applications attract more users to the platform, while more users in turn attract more developers who build more apps. </p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/flywheel.png"></p><p>It‚Äôs a classic flywheel effect that creates powerful winner-takes-all dynamics. This explains why there are only two (meaningful) mobile operating systems ‚Äì iOS and Android. </p>



<p>It also explains why everyone is so interested in upcoming platforms ‚Äì and why Apple might be interested in making AirPods a platform.</p>



<p><span>03</span> Why AirPods aren‚Äôt a platform</p>



<p>In their current form, AirPods are not a platform. They don‚Äôt provide any unique input or output functionalities that developers could leverage. Active Noise Cancellation and Transparency Mode are neat but not new or Airpods-exclusive features ‚Äì other headphones offer exactly the same. In either case, developers don‚Äôt have any control over them and thus can‚Äôt build applications that use these functionalities.</p>



<p>Some say that AirPods will give rise to more audio apps because they are ‚Äúalways in‚Äù which in turn will lead to more (and perhaps new forms of) audio content. That might be true ‚Äì content providers are always looking for <a href="http://julian.digital/2020/01/26/newsletters-and-alternative-trade-routes/">alternative routes</a> to get consumers‚Äô attention ‚Äì but, again, it does not make AirPods a platform. You can use any other pair of headphones to use these audio apps as well.</p>



<p>If Apple wants to make AirPods a platform, it needs to open up some part of the AirPods experience to developers so that they can build new things on top of it.</p>



<p><span>04</span> On Siri &amp; Voice Platforms</p>



<p>The most obvious choice here is Siri, which is already integrated into every pair of AirPods.</p>



<p>In contrast to other voice assistants like Alexa and Google Assistant, Apple has never really opened up Siri for 3rd-party developers. If they did, it would create a new platform that could have its own ecosystem of apps and developers.</p>



<p>But I‚Äôm not convinced that this is Apple‚Äôs best option.<br>Let me explain why.</p>



<p>Opening up Siri wouldn‚Äôt make AirPods a platform, it would make Siri a platform. This might sound like a technicality, but I think it‚Äôs an important difference. As <a href="https://twitter.com/einkoenig">Jan K√∂nig</a> <a href="https://context-first.com/alexa-please-send-this-to-my-screen-6f4839eb415a">brilliantly summarized in this article</a>, voice isn‚Äôt an interface for <em>one</em> device ‚Äì it‚Äôs an interface <em>across</em> devices. It‚Äôs more of a meta-layer that should tie different products together to enable multi-device experiences.</p>



<p>This means Apple has little interest in making Siri an AirPods-exclusive. Voice-based computing works best when it‚Äôs everywhere. It‚Äôs about reach, not exclusivity. This is part of the reason why Google and Amazon excel at it.</p>



<p>At the moment, Siri‚Äôs capabilities are considerably behind those of Google Assistant and Alexa. Again, this isn‚Äôt overly surprising: Google‚Äôs and Amazon‚Äôs main job is finding the right answers to users‚Äô questions. The required ML capabilities for a smart assistant are among the core competencies of these two companies.</p>



<p>But even Amazon and Google haven‚Äôt really figured out the platform part yet, as indicated by the lack of breakout 3rd-party voice applications. It seems like the two platforms are still looking for their product-market-fit beyond being just cheap speakers that you can also control with your voice.</p>



<p>This is partly because the above-mentioned use case of voice as a cross-device layer isn‚Äôt something developers can build with the current set of APIs. </p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/voiceonlyinterfaces-3.png"></p><p>The other big reason I see is that people are mistaking voice as a replacement for other interfaces. Movies like <a href="https://www.youtube.com/watch?v=ne6p6MfLBxc">Her</a> paint a future where human-computer-interaction primarily occurs via voice-powered smart assistants, but in reality, voice isn‚Äôt great as a primary or stand-alone interface. It works best as an *additional* input/output channel that augments whatever else you are doing.</p>



<p>Let me give you an example: Saying ‚ÄúHey Google, turn up the volume‚Äù takes 10x longer than simply pressing the volume-up button on your phone. It only makes sense when your hands are busy doing other things (kitchen work, for example).</p>



<p>The most convincing voice app I have seen to date was at a hackathon where a team <a href="https://upsidelab.io/blog/design-voice-user-interface-starcraft/">used the StarCraft API to build voice-enabled game commands</a>. Not to replace your mouse and keyboard but to give you an additional input mechanism. Actual multitasking.</p>



<p><span>05</span> What Apple Should Build</p>



<p>I‚Äôm not against Apple opening Siri for developers. On the contrary, given that AirPods are meant to be worn all the time, a voice interface for situations that require multitasking is actually a very good idea. But voice input should remain the exceptional case. And it shouldn‚Äôt be what makes AirPods a platform.</p>



<p>Instead of voice, I‚Äôd love to see other input mechanisms that allow developers to build new ways for users to interact with the audio content they consume.</p>



<p>Most headsets currently on the market offer the following actions with one (or multiple) clicks of a physical button:</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/earpodsremote-1.png"></p><p>These inputs were invented a long time ago and there has been almost zero innovation since. <strong>Why has no one thought about additional buttons or click mechanisms that allow users to interact with the actual content?</strong></p>



<p>For example, when listening to podcasts I often find myself wanting to bookmark things that are being talked about. It would be amazing if I could simply tap a button on my headphones which would add a timestamp to a bookmarks section of my podcast app. <span>(Or better even, a transcript of the ~15 seconds of content before I pressed the button, which are then also automatically added to my notes app via an Apple Shortcut.)</span></p>



<p>Yes, you could build the same with voice as the input mechanism, but as we discussed earlier, saying <em>‚ÄúHey Siri, please bookmark this!‚Äù</em> just doesn‚Äôt seem very convenient.</p>



<p>While podcast apps might use the additional button as a bookmarking feature, Spotify could make it a Like button to quickly add songs to your Favorites playlist. Other developers could build completely new applications: Think about interactive audiobooks or similar two-way audio experiences, for example. </p>



<p>This is the beauty of platforms: You just provide developers with a set of tools and they will come up with use cases you hadn‚Äôt even thought about. Crowdsourced value creation.</p>



<p><span>06</span> Closing Thoughts</p>



<p>(1) The input mechanism I describe doesn‚Äôt have to be a physical button. In fact, gesture-based inputs might be even more convenient. If AirPods had built-in accelerometers, users could interact with audio content by nodding or shaking their heads. Radar-based sensors like Google‚Äôs Motion Sense could also create an interesting new interaction language for audio content.</p>



<p>(2) You could also think about the Apple Watch as the main input device. In contrast to the AirPods, Apple opened the Watch for developers from the start, but it hasn‚Äôt really seen much success as a platform. Perhaps a combination of Watch and AirPods has a better chance of creating an ecosystem with its own unique applications?</p>



<p>(3) One thing to keep in mind is that Apple doesn‚Äôt really have an interest in making AirPods a standalone platform. The iPhone (or rather iOS) will always be the core platform that Apple cares about. Instead of separate iPhone, Watch and AirPods ecosystems, think about Apple‚Äôs strategy as more of a multi-platform bundle. Even as a platform, AirPods will remain more of an accessory that adds stickiness to the existing iPhone ecosystem.</p>



<p><img src="https://julian.digital/wp-content/uploads/2020/04/fullcycle.png"></p>



<p>Do you have thoughts or feedback on this post?<br>If so, <a href="https://twitter.com/lehrjulian/status/1251919017721421827">I‚Äôd love to hear it</a>!</p>



<p><span><i>Thanks to <a href="https://twitter.com/einkoenig">Jan K√∂nig</a> for reading drafts of this post.</i></span>
 	</p></div></div>]]>
            </description>
            <link>https://julian.digital/2020/04/19/airpods-as-a-platform/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26156881</guid>
            <pubDate>Tue, 16 Feb 2021 18:11:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Peer-to-Peer Machine Learning]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=26155257">thread link</a>) | @YumaRao
<br/>
February 16, 2021 | https://www.bittensor.com/metagraph | <a href="https://web.archive.org/web/*/https://www.bittensor.com/metagraph">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://www.bittensor.com/metagraph</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155257</guid>
            <pubDate>Tue, 16 Feb 2021 16:11:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Bitcoin‚Äôs Overnight Collapse Probability Is About 50%]]>
            </title>
            <description>
<![CDATA[
Score 101 | Comments 209 (<a href="https://news.ycombinator.com/item?id=26155158">thread link</a>) | @dgellow
<br/>
February 16, 2021 | http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/ | <a href="https://web.archive.org/web/*/http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content">

	<section id="primary">
		<main id="main">

			
<article id="post-1154">
	
	<div>
		
<p>If you ever had a look at <a href="https://www.cmegroup.com/trading/equity-index/us-index/bitcoin_quotes_globex.html">CME‚Äôs Bitcoin futures</a>, you might have noticed that there are multiple contracts ‚Äì one for each month, and that they have different prices. Systematically, the futures contracts for months that are further away, are more expensive than those with closer expiration, and also cheaper than spot. When this happens for a commodity like oil, we‚Äôre talking about contango.</p>



<p>This is usually due to the fact that there‚Äôs a risk premium on the uncertainty of the future, and it costs a little bit to be sure of the price that you‚Äôll pay for something three months from now. But for futures on financial products, it‚Äôs very rare. Currently, the premium for Bitcoin is a whopping 2% per month, and it‚Äôs a red warning sign.</p>



<h3>Term structure of Bitcoin futures</h3>



<p>The reason contango for commodities like oil is normal, is that you can‚Äôt arbitrage it. The way to arbitrage contango is to buy spot, short the future, wait till expiry, and collect the premium. But you can‚Äôt simply ‚Äúwait‚Äù when you buy thousands of barrels of oil ‚Äì you have to store those barrels somewhere, and it will cost you an arm and a leg. The storage costs will eat up your contango premium, plus some.</p>



<p>There were occurrences in the past where traders were able to arbitrage this premium, but the contango needed to be absolutely off-the-charts (‚Äúsuper-contango‚Äù). For instance, after the 2008 financial panic, the spread between spot and futures in the oil market was so big, <a href="https://doc.rero.ch/record/323428/files/TDIBM_Loris_Beltramello.pdf">traders would literally rent tankers and use them as storage facilities</a> for oil, waiting for their futures leg to mature.</p>



<p>The reason contango for financial products isn‚Äôt normal, is that you can arbitrage it very easily, as you don‚Äôt have storage costs. You buy Bitcoin spot, sell an April future for 4% more than spot, and simply wait two months.</p>



<figure><img src="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35.png" alt="" srcset="http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35.png 952w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35-300x79.png 300w, http://www.tr0lly.com/wp-content/uploads/2021/02/Screen-Shot-2021-02-16-at-13.42.35-768x203.png 768w" sizes="(max-width: 952px) 100vw, 952px"></figure>



<p>At expiry, you‚Äôll sell your Bitcoin at a certain price, while the future will settle at the exact same price, and you‚Äôll collect the premium. Your only cost is the carry, i.e. the interest you have forfeited on the cash you used to buy Bitcoin, but this is virtually zero today.</p>



<p>Why the premium, then? Why don‚Äôt hedge funds with hundreds of billions of dollars to spare don‚Äôt arbitrage the Bitcoin contango down to zero?</p>



<h3>Credit risk?</h3>



<p>One quick answer would be that you aren‚Äôt guaranteed to close your trade because of counterparty risk. This is what happened when Lehman went bust ‚Äì all the hedge funds that had OTC derivatives positions with Lehman as one leg of a trade, suddenly saw the ‚ÄúLehman leg‚Äù disappear, while the other leg was still there. Lehman going bust single handedly destroyed the convertible bonds market, as hedge funds who had bought convertible bonds and hedged their risks (credit, volatility, equity risks ‚Äì you name it) with Lehman, suddenly were out of hedges, and had to sell their cash position (their convertible bonds) at literally any price.</p>



<p>But there is no counterparty risk here. You can‚Äôt lose your Bitcoins ‚Äì you just keep them on chain, and no exchange going bust will affect your position. CME can‚Äôt go bust ‚Äì it has margin calls, initial margin deposits, has a guarantee fund, and is almost explicitly guaranteed by the Fed because of its critical importance to financial markets.</p>



<p>So, again, why is nobody picking those hundred dollar bills lying on the street?</p>



<h3>Systemic risk</h3>



<p>There is one risk that you can‚Äôt edge ‚Äì that of the world collapsing overnight, when there‚Äôs nobody left to pay you even if you win your bet. Imagine shorting USDT on Binance. What happens if you‚Äôre right and USDT goes to zero? Do you really think Binance will still be around to pay you?</p>



<p>You can always say, ‚Äúbah, I‚Äôll see it coming, the moment shit starts to hit the fan, I‚Äôll close my positions‚Äù. But what if you don‚Äôt have the time to do so? What if a black swan event happens overnight?</p>



<p>This is the risk with Bitcoin. A whim from regulators, like passing the STABLE act, and all USDT exchanges go bust. What will happen to Bitcoin futures then? CME uses the ‚Äú<a href="https://www.cmegroup.com/trading/cryptocurrency-indices.html">Bitcoin Reference Rate</a>‚Äù (BRR) to calculate the spot for its Bitcoin futures, which is a weighted average of the spots taken from multiple crypto exchanges, the list of which changes over time. What happens if the Bitcoin ecosystem collapses, the prices of Bitcoin on half of those exchanges go to 100,000 on paper because those exchanges become insolvent and people rush for the exits by buying Bitcoin to try and send it to their own wallets (as happened with MtGox)? Futures skyrocket because of a technicality, CME is slow to react, and you get wiped out on your ‚Äúshort futures‚Äù leg ‚Äì while you can‚Äôt really sell the ‚Äúlong Bitcoin‚Äù leg either, because every exchange is on fire and nobody processes redemption requests.</p>



<h3>Implied probability of default</h3>



<p>This risk is rewarded handsomely ‚Äì a big fat 2% per month. With interest rates at zero, we can borrow a formula from the Credit Default Swaps market to calculate the <a href="https://quant.stackexchange.com/questions/15986/how-to-compute-the-implied-probability-of-default-from-a-cds-spread#:~:text=Risk%2Dneutral%20default%20probability%20implied,R%20is%20the%20recovery%20rate.&amp;text=Hulls%20equation%20is%20a%20gross,works%20for%20all%20tenor%20points.">implied probability of default</a>, which we‚Äôll <a href="http://nzz-files-prod.s3-website-eu-west-1.amazonaws.com/files/4/1/2/cds+deutsche+bank+161214_1.18446412.pdf">simplify to the extreme</a>:</p>



<p><strong>p = S/(1-R)</strong></p>



<p>Where p is the probability of default, S the annual ‚Äúswap rate‚Äù that compensates for that probability, and R the recovery rate, i.e. how much you can expect to recoup from your investment if a default occurs.</p>



<p>In our case, S = 24% (12 months in a year, at 2% for each month), and R ‚âà 50% based on what happened after MtGox collapsed. This means that we assume you‚Äôll be able to cash out in the event of an apocalypse with an average 50% loss. Remember, this is assuming that you are hedged!</p>



<p>This gives us an implied probability of default p ‚âà 50% over the next year. Again, that‚Äôs the probability of the whole Bitcoin ecosystem collapsing overnight, not giving you the time to close your positions, cutting you off from exchanges, and where CME futures no longer trade.</p>



<p>This is the risk as it‚Äôs being priced by the market, on relatively liquid financial instruments. So the next time someone tries to explain to you that ‚ÄúBitcoin is a store of value‚Äù, when the chances of it getting utterly destroyed overnight before the year is over are around 50/50, try not to shoot coffee through your nose laughing.</p>
	</div><!-- .entry-content -->

	<!-- .entry-footer -->

			
</article><!-- #post-${ID} -->

	<nav role="navigation">
		<h2>Post navigation</h2>
		
	</nav>
<!-- #comments -->

		</main><!-- #main -->
	</section><!-- #primary -->


	</div></div>]]>
            </description>
            <link>http://www.tr0lly.com/bitcoin/bitcoins-overnight-collapse-probability-is-about-50/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26155158</guid>
            <pubDate>Tue, 16 Feb 2021 16:04:35 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Computers Aren't Fun Anymore (2020)]]>
            </title>
            <description>
<![CDATA[
Score 72 | Comments 71 (<a href="https://news.ycombinator.com/item?id=26154754">thread link</a>) | @hacksilver
<br/>
February 16, 2021 | https://feifan.blog/posts/computers-arent-fun-anymore | <a href="https://web.archive.org/web/*/https://feifan.blog/posts/computers-arent-fun-anymore">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div role="main">
<div>
  <article>
    
      <p><img src="https://files.tanagram.app/file/tanagram-data/prod-feifans-blog/penny-farthing.jpeg">
      </p>
<p>
Throughout <a href="https://www.amazon.com/Dream-Machine-M-Mitchell-Waldrop/dp/1732265119"><em>The Dream Machine</em></a>, a history of the early days of computing, tinkering and having fun was a recurring theme throughout the decades. I wasn‚Äôt around to experience the early days of computers myself, but they seemed to be genuinely exciting and rewarding. In the words of MIT sociologist Sherry Turkle: computers empowered their users, making them feel smart[er], ‚Äúin control‚Äù, and ‚Äúmore fully participant in the future‚Äù. </p>
<p>
Those feel like odd descriptions for the modern computing experience. Using computers today doesn‚Äôt feel likeÔøº an empowering experienceÔøº. Sometimes it‚Äôs mindless and distracting. Sometimes, when a redesign rolls out, or laptop doesn‚Äôt wake from sleep mode,Ôøº it‚Äôs downright hostile. The experience of using a computer in 2020 is a concoction of data silos, dinging notifications and reinvented wheels, presented in gratuitously bubble-wrapped UIs hyper-optimized by persnickety product managers and soulless A/B tests. </p>
<p>
For most people, the computing experience is <a href="https://feifan.blog/2020/06/22/no-one-cares-about-software-quality/">clicking around a lot</a>, typing into disparate apps in which your data is trapped except through narrowly-defined, bespoke integrations, and struggling to find <em>that thing you were just reading a few days ago</em> among all the silos. This doesn‚Äôt make anyone feel smarter or more in control. It‚Äôs simply frustrating.</p>
<p>
Software <em>development</em> is stuck in the doldrums too. A massive amount of cumulative engineering effort is spent rebuilding the same primitives<a href="#fn:1" id="fnref:1" title="see footnote">1</a> because the software engineering industry hasn‚Äôt convincingly developed platforms at higher levels of abstraction<a href="#fn:2" id="fnref:2" title="see footnote">2</a>. A significant portion of development effort goes to placating not-invented-here-ness, where companies feel the need to build their own version of every feature, each slightly different (user familiarity be damned). A lot of software is little more than looking up API documentation and plugging one into another. There‚Äôs a dearth of creativity, of joy and discovery, of inventing something interesting and new. </p>
<p>
To be fair, computers ‚Äî both the desktop kind and various mobile kinds ‚Äî enable<a href="#fn:3" id="fnref:3" title="see footnote">3</a> seemingly-impossible<a href="#fn:4" id="fnref:4" title="see footnote">4</a> things<a href="#fn:5" id="fnref:5" title="see footnote">5</a>. But it feels frustrating to see the pioneering spirit that originally led to the development of modern computers giving way to uninspired flat interfaces<a href="#fn:6" id="fnref:6" title="see footnote">6</a> and <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> SaaS apps. The things you can do are limited to bespokely-implemented features, dribbled out only as fast as a small team of designers and developers can think of and build them. Of course you have an extensive list of things you <em>wish</em> your phone/computer/most-used apps could do; everyone does. You know the majority of it will remain a wishlist; there‚Äôs almost no hope of the feature you really want being implemented<a href="#fn:7" id="fnref:7" title="see footnote">7</a>. This isn‚Äôt empowering. What‚Äôs more, new features tend to be one-off improvements and ungainly new ways for you to do more work<a href="#fn:8" id="fnref:8" title="see footnote">8</a> rather than adding or improving functionality in a generalized way so you can remix functionality and do things faster.</p>
<p>
For the people who‚Äôve figured out the right incantations to type and buttons-buried-in-submenus to click, computers can automate administrivia, surface information, and make them feel ‚Äúmore fully participant in the future‚Äù. But getting there is an arduous journey, and many people get in a place where computers just make things harder. The experience of using computers is, in various ways, awkward and frustrating (and maybe even dangerous<a href="#fn:9" id="fnref:9" title="see footnote">9</a>) for everyone. Computers were supposed to be bicycles for the mind. So far we only have penny-farthings.</p>

  </article>
</div>
    </div></div>]]>
            </description>
            <link>https://feifan.blog/posts/computers-arent-fun-anymore</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154754</guid>
            <pubDate>Tue, 16 Feb 2021 15:30:01 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Why Is Esbuild Fast?]]>
            </title>
            <description>
<![CDATA[
Score 294 | Comments 150 (<a href="https://news.ycombinator.com/item?id=26154509">thread link</a>) | @mef
<br/>
February 16, 2021 | https://esbuild.github.io/faq/#why-is-esbuild-fast | <a href="https://web.archive.org/web/*/https://esbuild.github.io/faq/#why-is-esbuild-fast">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
      
      <p>This is a collection of common questions about esbuild. You can also ask questions on the <a href="https://github.com/evanw/esbuild/issues">GitHub issue tracker</a>.</p>
      <ul>
        <li><a href="#why-is-esbuild-fast">Why is esbuild fast?</a></li>
        <li><a href="#benchmark-details">Benchmark details</a></li>
        <li><a href="#upcoming-roadmap">Upcoming roadmap</a></li>
        <li><a href="#production-readiness">Production readiness</a></li>
      </ul>
      <h2 id="why-is-esbuild-fast">
        <a href="#why-is-esbuild-fast">#</a>
        Why is esbuild fast?
      </h2>
      <p>Several reasons:</p>
      <ul><li><p> It's written in <a href="https://golang.org/">Go</a> and compiles to native code. </p> <p> Most other bundlers are written in JavaScript, but a command-line application is a worst-case performance situation for a JIT-compiled language. Every time you run your bundler, the JavaScript VM is seeing your bundler's code for the first time without any optimization hints. While esbuild is busy parsing your JavaScript, node is busy parsing your bundler's JavaScript. By the time node has finished parsing your bundler's code, esbuild might have already exited and your bundler hasn't even started bundling yet. </p> <p> In addition, Go is designed from the core for parallelism while JavaScript is not. Go has shared memory between threads while JavaScript has to serialize data between threads. Both Go and JavaScript have parallel garbage collectors, but Go's heap is shared between all threads while JavaScript has a separate heap per JavaScript thread. This seems to cut the amount of parallelism that's possible with JavaScript worker threads in half <a href="https://github.com/evanw/esbuild/issues/111#issuecomment-719910381">according to my testing</a>, presumably since half of your CPU cores are busy collecting garbage for the other half. </p></li><li><p> Parallelism is used heavily. </p> <p> The algorithms inside esbuild are carefully designed to fully saturate all available CPU cores when possible. There are roughly three phases: parsing, linking, and code generation. Parsing and code generation are most of the work and are fully parallelizable (linking is an inherently serial task for the most part). Since all threads share memory, work can easily be shared when bundling different entry points that import the same JavaScript libraries. Most modern computers have many cores so parallelism is a big win. </p></li><li><p> Everything in esbuild is written from scratch. </p> <p> There are a lot of performance benefits with writing everything yourself instead of using 3rd-party libraries. You can have performance in mind from the beginning, you can make sure everything uses consistent data structures to avoid expensive conversions, and you can make wide architectural changes whenever necessary. The drawback is of course that it's a lot of work. </p> <p> For example, many bundlers use the official TypeScript compiler as a parser. But it was built to serve the goals of the TypeScript compiler team and they do not have performance as a top priority. Their code makes pretty heavy use of <a href="https://mrale.ph/blog/2015/01/11/whats-up-with-monomorphism.html">megamorphic object shapes</a> and unnecessary <a href="https://github.com/microsoft/TypeScript/issues/39247">dynamic property accesses</a> (both well-known JavaScript speed bumps). And the TypeScript parser appears to still run the type checker even when type checking is disabled. None of these are an issue with esbuild's custom TypeScript parser. </p></li><li><p> Memory is used efficiently. </p> <p> Compilers are ideally mostly O(n) complexity in the length of the input. So if you are processing a lot of data, memory access speed is likely going to heavily affect performance. The fewer passes you have to make over your data (and also the fewer different representations you need to transform your data into), the faster your compiler will go. </p> <p> For example, esbuild only touches the whole JavaScript AST three times: </p> <ol> <li>A pass for lexing, parsing, scope setup, and declaring symbols</li> <li>A pass for binding symbols, minifying syntax, JSX/TS to JS, and ESNext-to-ES2015</li> <li>A pass for minifying identifiers, minifying whitespace, generating code, and generating source maps</li> </ol> <p> This maximizes reuse of AST data while it's still hot in the CPU cache. Other bundlers do these steps in separate passes instead of interleaving them. They may also convert between data representations to glue multiple libraries together (e.g. string‚ÜíTS‚ÜíJS‚Üístring, then string‚ÜíJS‚Üíolder JS‚Üístring, then string‚ÜíJS‚Üíminified JS‚Üístring) which uses more memory and slows things down. </p> <p> Another benefit of Go is that it can store things as compactly in memory, which enables it to use less memory and fit more in the CPU cache. All object fields have types and fields are packed tightly together so e.g. several boolean flags only take one byte each. Go also has value semantics and can embed one object directly in another so it comes "for free" without another allocation. JavaScript doesn't have these features and also has other drawbacks such as JIT overhead (e.g. hidden class slots) and inefficient representations (e.g. non-integer numbers are heap-allocated with pointers). </p></li></ul>
      <p>Each one of these factors is only a somewhat significant speedup, but together they can result in a bundler that is multiple orders of magnitude faster than other bundlers commonly in use today.</p>
      <h2 id="benchmark-details">
        <a href="#benchmark-details">#</a>
        Benchmark details
      </h2>
      <p>Here are the details about each benchmark:</p>
      <figcaption>JavaScript benchmark</figcaption>
      <figure>
        <div>
          
          
          
          
          
          
          
          
          <p>0.37s</p>
          
          
          
          <p>1.54s</p>
          
          
          
          <p>36.00s</p>
          
          
          
          <p>41.91s</p>
          
          
          
          <p>54.50s</p>
          
          
          
          <p>56.71s</p>
          
          
          
          <p>118.51s</p>
          <p>0s</p>
          <p>30s</p>
          <p>60s</p>
          <p>90s</p>
          <p>120s</p>
        </div>
      </figure>
      <p>This benchmark approximates a large JavaScript codebase by duplicating the <a href="https://github.com/mrdoob/three.js">three.js</a> library 10 times and building a single bundle from scratch, without any caches. The benchmark can be run with <code>make bench-three</code> in the <a href="https://github.com/evanw/esbuild">esbuild repo</a>.</p>
      <table>
      <thead>
      <tr>
      <th>Bundler</th>
      <th>Time</th>
      <th>Relative slowdown</th>
      <th>Absolute speed</th>
      <th>Output size</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>esbuild</td>
      <td>0.37s</td>
      <td>1x</td>
      <td>1479.6 kloc/s</td>
      <td>5.80mb</td>
      </tr>
      <tr>
      <td>esbuild (1 thread)</td>
      <td>1.54s</td>
      <td>4x</td>
      <td>355.5 kloc/s</td>
      <td>5.80mb</td>
      </tr>
      <tr>
      <td>rollup + terser</td>
      <td>36.00s</td>
      <td>97x</td>
      <td>15.2 kloc/s</td>
      <td>5.81mb</td>
      </tr>
      <tr>
      <td>webpack 4</td>
      <td>41.91s</td>
      <td>113x</td>
      <td>13.1 kloc/s</td>
      <td>5.97mb</td>
      </tr>
      <tr>
      <td>webpack 5</td>
      <td>54.50s</td>
      <td>147x</td>
      <td>10.0 kloc/s</td>
      <td>5.84mb</td>
      </tr>
      <tr>
      <td>parcel 2</td>
      <td>56.71s</td>
      <td>153x</td>
      <td>9.7 kloc/s</td>
      <td>5.92mb</td>
      </tr>
      <tr>
      <td>parcel 1</td>
      <td>118.51s</td>
      <td>320x</td>
      <td>4.6 kloc/s</td>
      <td>5.89mb</td>
      </tr>
      </tbody>
      </table>
      <p>Each time reported is the best of three runs. I'm running esbuild with <code>--bundle <wbr>--minify <wbr>--sourcemap</code> (the single-threaded version uses <code>GOMAXPROCS=1</code>). I used the <code>rollup-<wbr>plugin-<wbr>terser</code> plugin because Rollup itself doesn't support minification. Webpack uses <code>--mode=<wbr>production <wbr>--devtool=<wbr>sourcemap</code>. Parcel uses the default options. Absolute speed is based on the total line count including comments and blank lines, which is currently 547,441. The tests were done on a 6-core 2019 MacBook Pro with 16gb of RAM.</p>
      <p>Caveats:</p>
      <ul><li>Parcel 1: The bundle crashes at run time with <code>TypeError: <wbr>Cannot <wbr>redefine <wbr>property: <wbr>dynamic</code></li></ul>
      <figcaption>TypeScript benchmark</figcaption>
      <figure>
        <div>
          
          
          
          
          
          
          
          
          <p>0.09s</p>
          
          
          
          <p>0.37s</p>
          
          
          
          <p>18.38s</p>
          
          
          
          <p>18.76s</p>
          
          
          
          <p>25.12s</p>
          
          
          
          <p>42.32s</p>
          <p>0s</p>
          <p>10s</p>
          <p>20s</p>
          <p>30s</p>
          <p>40s</p>
        </div>
      </figure>
      <p>This benchmark uses the <a href="https://github.com/facebookexperimental/rome">Rome</a> build tool to approximate a large TypeScript codebase. All code must be combined into a single minified bundle with source maps and the resulting bundle must work correctly. The benchmark can be run with <code>make bench-rome</code> in the <a href="https://github.com/evanw/esbuild">esbuild repo</a>.</p>
      <table>
      <thead>
      <tr>
      <th>Bundler</th>
      <th>Time</th>
      <th>Relative slowdown</th>
      <th>Absolute speed</th>
      <th>Output size</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>esbuild</td>
      <td>0.09s</td>
      <td>1x</td>
      <td>1464.8 kloc/s</td>
      <td>0.97mb</td>
      </tr>
      <tr>
      <td>esbuild (1 thread)</td>
      <td>0.37s</td>
      <td>4x</td>
      <td>356.3 kloc/s</td>
      <td>0.97mb</td>
      </tr>
      <tr>
      <td>webpack 4</td>
      <td>18.38s</td>
      <td>204x</td>
      <td>7.2 kloc/s</td>
      <td>1.26mb</td>
      </tr>
      <tr>
      <td>parcel 1</td>
      <td>18.76s</td>
      <td>208x</td>
      <td>7.0 kloc/s</td>
      <td>1.56mb</td>
      </tr>
      <tr>
      <td>webpack 5</td>
      <td>24.57s</td>
      <td>273x</td>
      <td>5.4 kloc/s</td>
      <td>1.26mb</td>
      </tr>
      <tr>
      <td>parcel 2</td>
      <td>42.32s</td>
      <td>470x</td>
      <td>3.1 kloc/s</td>
      <td>1.68mb</td>
      </tr>
      </tbody>
      </table>
      <p>Each time reported is the best of three runs. I'm running esbuild with <code>--bundle <wbr>--minify <wbr>--sourcemap <wbr>--platform=<wbr>node</code> (the single-threaded version uses <code>GOMAXPROCS=1</code>). Webpack uses <code>ts-loader</code> with <code>transpileOnly: <wbr>true</code> and <code>--mode=<wbr>production <wbr>--devtool=<wbr>sourcemap</code>. Parcel 1 uses <code>--target <wbr>node --bundle-<wbr>node-<wbr>modules</code>. Parcel 2 uses <code>"engines": <wbr>"node"</code> in <code>package.json</code> and needs the <code>@parcel/<wbr>transformer-<wbr>typescript-<wbr>tsc</code> transformer to be able to handle the TypeScript code used in the benchmark. Absolute speed is based on the total line count including comments and blank lines, which is currently 131,836. The tests were done on a 6-core 2019 MacBook Pro with 16gb of RAM.</p>
      <p>The results don't include Rollup because I couldn't get it to work. I tried <code>rollup-<wbr>plugin-<wbr>typescript</code>, <code>@rollup/<wbr>plugin-<wbr>typescript</code>, and <code>@rollup/<wbr>plugin-<wbr>sucrase</code> and they all didn't work for different reasons relating to TypeScript compilation.</p>
      <h2 id="upcoming-roadmap">
        <a href="#upcoming-roadmap">#</a>
        Upcoming roadmap
      </h2>
      <p>These features are already in progress and are first priority:</p>
      <ul><li>Code splitting (<a href="https://github.com/evanw/esbuild/issues/16">#16</a>, <a href="https://esbuild.github.io/api/#splitting">docs</a>)</li><li>CSS content type (<a href="https://github.com/evanw/esbuild/issues/20">#20</a>, <a href="https://esbuild.github.io/content-types/#css">docs</a>)</li><li>Plugin API (<a href="https://github.com/evanw/esbuild/issues/111">#111</a>)</li></ul>
      <p>These are potential future features but may not happen or may happen to a more limited extent:</p>
      <ul><li>HTML content type (<a href="https://github.com/evanw/esbuild/issues/31">#31</a>)</li><li>Lowering to ES5 (<a href="https://github.com/evanw/esbuild/issues/297">#297</a>)</li><li>Bundling top-level await (<a href="https://github.com/evanw/esbuild/issues/253">#253</a>)</li></ul>
      <p>After that point, I will consider esbuild to be relatively complete. I'm planning for esbuild to reach a mostly stable state and then stop accumulating more features. This will involve saying "no" to requests for adding major features to esbuild itself. I don't think esbuild should become an all-in-one solution for all frontend needs. In particular, I want to avoid the pain and problems of the "webpack config" model where the underlying tool is too flexible and usability suffers.</p>
      <p>For example, I am <em>not</em> planning to include these features in esbuild's core itself:</p>
      <ul><li>Support for other frontend languages (e.g. <a href="https://elm-lang.org/">Elm</a>, <a href="https://svelte.dev/">Svelte</a>, <a href="https://vuejs.org/">Vue</a>, <a href="https://angular.io/">Angular</a>)</li><li>TypeScript type checking (just run <code>tsc</code> separately)</li><li>An API for custom AST manipulation</li><li>Hot-module reloading</li><li>Module federation</li></ul>
      <p>I hope that the extensibility points I'm adding to esbuild (<a href="https://esbuild.github.io/plugins/">plugins</a> and the <a href="https://esbuild.github.io/api/">API</a>) will make esbuild useful to include as part of more customized build workflows, but I'm not intending or expecting these extensibility points to cover all use cases. If you have very custom requirements then you should be using ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://esbuild.github.io/faq/#why-is-esbuild-fast">https://esbuild.github.io/faq/#why-is-esbuild-fast</a></em></p>]]>
            </description>
            <link>https://esbuild.github.io/faq/#why-is-esbuild-fast</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154509</guid>
            <pubDate>Tue, 16 Feb 2021 15:07:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to instrument JVM bytecode for fuzzing (open-source)]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=26154490">thread link</a>) | @fhenneke
<br/>
February 16, 2021 | https://blog.code-intelligence.com/engineering-jazzer | <a href="https://web.archive.org/web/*/https://blog.code-intelligence.com/engineering-jazzer">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
      <div>
        <div>
          <p><span id="hs_cos_wrapper_post_body" data-hs-cos-general-type="meta_field" data-hs-cos-type="rich_text"><article id="grip-content">
<p>Jazzer is a coverage-guided fuzzer for the Java Virtual Machine (JVM). It works on the bytecode level and can thus not only be applied directly to compiled Java applications, but also to targets in other JVM-based languages such as Kotlin or Scala.</p>
<!--more-->
<p>Jazzer consists of two main components:</p>
<ul>
<li>The <strong>Jazzer driver</strong> is a native binary that links in <a href="https://llvm.org/docs/LibFuzzer.html" rel="nofollow">libFuzzer</a> and runs a Java fuzz target through the Java Native Interface (JNI).</li>
<li>The <strong>Jazzer agent</strong> is a <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/instrument/package-summary.html" rel="nofollow">Java agent</a> that runs in the same JVM as the fuzz target and applies instrumentation at runtime. The information obtained through this instrumentation is fed back to libFuzzer <span>just as it would be for a compile-time instrumented native binary.&nbsp;</span></li>
</ul>
<p>Taken together, the driver and the agent make it seem to libFuzzer as if it were fuzzing an ordinary native binary. Our goal is to make all of libFuzzer's features work with Jazzer <span>out of the box</span>. In the following, we want to highlight some of the most interesting aspects of the engineering effort required to achieve this goal.</p>
<h2>Instrumenting JVM bytecode for fuzzing</h2>
<p>The JVM bytecode of a compiled Java class is much more higher-level than the machine code of an equivalent C/C++ binary. This makes it possible to instrument a JVM application at runtime rather than at build-time, which means that neither the code nor the build script requires any changes. The Jazzer agent, which is written in Kotlin, instruments the classes right as <span>they are being loaded</span> by the JVM.</p>
<p>To obtain coverage information from the JVM fuzz target, the Jazzer agent inserts bytecode instructions together with a unique ID at the beginning of every basic block. When we enter a block, the previous basic block‚Äôs shifted ID is XORed with the current ID to obtain an identifier for the control flow edge between the two blocks.&nbsp;This idea to obtain edge-level coverage information from basic block instrumentation originated in <a href="https://lcamtuf.coredump.cx/afl/technical_details.txt" rel="nofollow">AFL</a> and has already featured in the early AFL-based Java fuzzer <a href="https://github.com/isstac/kelinci">Kelinci</a>. By relying on memory shared directly between the JVM and the Jazzer driver through a <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html" rel="nofollow">direct <code>ByteBuffer</code></a> as well as implementing a branch-free saturating counter increment, we found this approach to coverage instrumentation to be very efficient in practice (take a look at <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/agent/src/main/java/com/code_intelligence/jazzer/instrumentor/AFLCoverageMapInstrumentor.kt">AFLCoverageMapInstrumentor.kt</a> if you want to know how this is done).</p>
<p>Since coverage is not the only type of information that is used by libFuzzer to guide its exploration of the fuzz target, Jazzer also instruments other JVM constructs (see <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/agent/src/main/java/com/code_intelligence/jazzer/instrumentor/TraceDataFlowInstrumentor.kt">TraceDataFlowInstrumentor.kt</a>):</p>
<ul>
<li>bytecode-level compares, such as the <span><code>lcmp</code></span>, <span><code>if_*</code></span>, and <span><code>if*</code></span> opcodes</li>
<li>higher-level method-based compares, such as <span><code>String#equal</code></span> or <span><code>Arrays#compare</code></span></li>
<li><code><span>switch</span></code> statements (corresponding to the <span><code>lookupswitch</code></span> and <span><code>tableswitch</code></span> opcodes)</li>
<li>integer divisions (corresponding to the <span><code>idiv</code></span> and <span><code>ldiv</code></span> opcodes and the <span><code>divideUnsigned</code></span> methods)</li>
<li>constant array indices (corresponding to the <span><code>*aload</code></span> opcodes and <span><code>get*</code></span> methods on array-like objects)</li>
</ul>
<p>In all these cases, interesting observed values are forwarded to libFuzzer callbacks such as <span><code>__sanitizer_cov_trace_cmp4</code></span> (for comparisons of 32-bit integral types) and <span><code>__sanitizer_weak_hook_strcmp</code></span> (for string comparisons). The values populate libFuzzer's table of recent compares and will be incorporated into the fuzzer input bytes via random mutations.</p>
<h2>Value profile support</h2>
<p>The table of recent compares is usually quite effective at letting the fuzzer progress through simple compares in which the required input can be obtained directly by inserting bytes reported via the compare hooks. But real-world fuzz targets are rarely that simple. For example, a function might encode the input into Base64 or apply a simple, non-cryptographic checksum function, followed by a comparison. In these cases, the relation between the input required to explore the fuzz target further and the bytes reported via callbacks is highly non-trivial.</p>
<p>libFuzzer's <a href="https://llvm.org/docs/LibFuzzer.html#id33" rel="nofollow">value profile</a>, which can be enabled with the runtime flag <span><code>-use_value_profile=1</code></span>, can be very helpful in this situation. In this mode, for every comparison between two values<span></span>, an extra set of coverage counters will be incremented for every matching bit position in <span><code>A</code></span> and <code><span>B</span></code>. This allows the fuzzer to track its partial progress in getting <span><code>A</code></span> and <span><code>B</code></span> to match, thereby simplifying the problem from brute force (exponential time) to a linear search (linear time).</p>
<p>Since Jazzer builds on libFuzzer and reports string comparisons using <span><code>__sanitizer_weak_hook_strcmp</code></span>, basic value profile support is automatic.&nbsp;Allowing the value profile to track comparisons between integral types is a more difficult task as the relevant fuzzer hooks such as <span><code>__sanitizer_cov_trace_cmp4</code></span> do not take the address of the compare instruction as an argument. Instead, these hooks retrieve the return address from the stack via the <span><code>__builtin_return_address</code></span> compiler intrinsic.</p>
<p>While this is a very natural approach for instrumented native binaries, our calls to the callbacks all go through the JNI and will thus have the same native return address somewhere in the JNI dispatcher. This would mean that the fuzzer would not be able to distinguish between different compare instructions, which would render the value profile <span>largely useless for non-string types</span>. We initially considered submitting a patch to LLVM that would add variants of the compare callbacks that take a call site address as an additional argument, but then found a way to provide full value profile support even without upstream changes.</p>
<p>A small piece of inline assembly in the Jazzer driver implements a "trampoline" that can invoke any of the libFuzzer callbacks with an arbitray fake return address <span><code>addr</code></span>, e.g., a unique ID assigned to a bytecode instruction (see <a href="https://github.com/CodeIntelligenceTesting/jazzer/blob/v0.9/driver/sanitizer_hooks_with_pc.cpp">sanitizer_hooks_with_pc.cpp</a> for the implementation). The trampoline first pushes an address pointing to the <span><code>addr &amp; 0xFFF</code></span>-th entry in a "sled" of <span><code>0xFFF + 1=4096</code></span>&nbsp;ASM <span><code>ret</code> </span>instructions to the (native) stack and then performs a direct jump (also called a "tail call") to the sanitizer callback.&nbsp;The callback will see the address of the <code>ret</code> corresponding to the lower 12 bits of the synthetic address <span><code>addr</code> </span>as the return address via <span><code>__builtin_return_address</code> </span>and associate the bit-wise progress made in the comparison with it in the value profile map.&nbsp;Since libFuzzer only uses the lower 12 bits of an address for the purpose of the value profile, this allows for fast and complete value profile support also for integral types.</p>
<h2>FuzzedDataProvider</h2>
<p>Both libFuzzer and Google‚Äôs Python fuzzer <a href="https://github.com/google/atheris" rel="noopener">Atheris</a> provide convenience functions that transform the raw byte input received from the fuzzer into useful primitive types, such as strings, integers, and arrays. While working on Jazzer's analogue of such a <span><code>FuzzedDataProvider</code></span>, we found the two prior implementations to differ in <span>quite a few relevant ways</span>. Adding our own experience with building fuzzers to the mix, we arrived at the following design decisions:</p>
<ul>
<li>Jazzer's <span><code>FuzzedDataProvider</code> </span>turns raw fuzzer input bytes into valid JVM strings by carefully applying the least number of bit changes required to turn the input bytes into valid UTF-8. This differs from the approach taken by Atheris, which randomly chooses between ASCII, UTF-16 and UTF-32. We found the fuzzing to be more stable if a consistent, ASCII-compatible encoding is used throughout the <span><code>FuzzedDataProvider</code> </span>and the libFuzzer callbacks. This however comes at the cost of added complexity in the implementation of the string generation functions: The JNI internally uses an encoding that historically predates UTF-8 and is best described as "UTF-16 code points encoded using UTF-8, with special handling of zero bytes". <span>We found this additional complexity</span> to be worth it based on the increased fuzzing efficiency.</li>
<li>The provider distinguishes between "data byte" and "choice bytes". More complex data which is likely to be parsed by the fuzz target, such as strings or arrays of primitive types, is consumed from the beginning of the fuzzer input. Small primitive types such as single integers, floats, and booleans, which are more likely to guide control-flow, are consumed from the end of the fuzzer input. This idea goes back to libFuzzer's <span><code>FuzzedDataProvider</code> </span>and has two key benefits: It makes the consumed fuzzed data more stable under the typical mutations applied by libFuzzer<span>and also ensures</span> that corpus entries preserve the structure of valid input files (e.g., JSON, PDF, or JPEG files) as much as possible.</li>
<li>Reproducing crashes in fuzz targets using a <span><code>FuzzedDataProvider</code></span> would be challenging if it always required running the crashing input through the driver. For this reason Jazzer, in addition to the crashing input dumped by libFuzzer, creates a Java-only reproducer for every crash. This reproducer contains all values consumed from the <span><code>FuzzedDataProvider</code> </span>in serialized form and can be run like any other Java program without any native dependencies.</li>
</ul>
<h2>Custom method hooks</h2>
<p><a href="https://alexgaynor.net/2020/may/27/science-on-memory-unsafety-and-security/" rel="nofollow">Experience shows</a> that roughly 65% of all serious security bugs found in projects using languages without memory-safety guarantees stem from incorrect memory handling. For the most part this high percentage is likely explained by how difficult memory handling can get if memory-safety is not built into the language from the ground up. However, there is another part to this story: With the likes of AddressSanitizer, MemorySanitizer, and UndefinedBehaviorSanitizer, there is excellent tooling available to detect such bugs with fuzzing.</p>
<p>While there is no need to detect violations of memory-safety for Java applications (at least those without native libraries), <span>other vulnerabilities </span>such as SQL injections, path traversals, or infinite loops occur in JVM-based languages just as often as they do in C/C++. One of the core ideas behind Jazzer is that the higher-level structure of JVM bytecode compared to native binaries coupled with suitable "sanitizers" should make these bugs detectable via fuzzing. For this purpose, Jazzer includes a flexible <a href="https://codeintelligencetesting.github.io/jazzer-api/com/code_intelligence/jazzer/api/MethodHook.html" rel="nofollow">annotation-based mechanism to hook methods</a>, regardless of ‚Ä¶</p></article></span></p></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.code-intelligence.com/engineering-jazzer">https://blog.code-intelligence.com/engineering-jazzer</a></em></p>]]>
            </description>
            <link>https://blog.code-intelligence.com/engineering-jazzer</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154490</guid>
            <pubDate>Tue, 16 Feb 2021 15:06:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What Makes Building Safe AI So Hard?]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26154312">thread link</a>) | @dh00608000
<br/>
February 16, 2021 | https://david-haber.github.io/posts/ai-challenges/ | <a href="https://web.archive.org/web/*/https://david-haber.github.io/posts/ai-challenges/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>

    

    
      

    

    <p>Creating a traditional computer program involves a fixed sequence of steps. First, we need to understand the problem and translate it into formal logic. Then, we implement that in code. Often surprisingly, the implementation of a program‚Äôs logic is comparatively easy. The challenging part is understanding and translating the problem.</p>
<p>The more complex systems become, the more brainpower we spend to understand them. It becomes necessary to distill the problem and its logic into components, which are easier to work with. Given an input to a component, we know which output to expect. Even before writing a single line of code, we formalize these expectations in <em>contracts</em>. These contracts describe how various components interact with each other. And ultimately, how the overall system interacts with the real world. Once the software is written, we can ensure that the contracts hold. This process makes the concept of failure transparent and clearly defined.</p>
<p>This way, we have managed to build <em>extremely</em> safe software systems that can operate in real-world environments. For example, software autopilots for airplanes, which have been in use for half a century<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>, don‚Äôt fail even once in a billion flight hours. To put this in perspective, think about flying a Boeing 747 around Earth 22 million times<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>. We don‚Äôt expect it to fail once in that time! Flying is the safest mode of transport<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup> for a good reason. It is designed with failure in mind.</p>
<h2 id="the-new-era-of-machine-learning">The New Era of Machine Learning</h2>
<p>But things have changed over the past decade. More recently, the idea of letting a computer learn program behavior with data has heralded a new era of <em>machine learning</em>. It is now one of the most powerful tools of our age.</p>
<p>Machine learning can leverage statistical dependencies in data to learn complex input-output mappings. The program behavior is deduced from data. Therefore, we no longer need to distill the logic and implement it in code. Instead, the computer does so from data. We no longer have to translate the problem into formal logic. Instead, the computer does so from data. To some extent, we don‚Äôt even have to understand the problem anymore ‚Äì or at least we are fooled into believing that we don‚Äôt.</p>
<p>Through machine learning, a computer can learn behaviors that are much more complex than anything humans can describe with hand-written rules. On well-designed datasets, or sometimes even in well-controlled environments, we can now do things that we couldn‚Äôt even imagine with traditional software.</p>
<figure>
    <img src="https://david-haber.github.io/images/aisafetyreqs.png" alt="AI systems have all of the developmental and operational problems of traditional code, plus a vast additional set of AI-specific issues. AI software typically operates with more uncertainty, and it is challenging to demonstrate its safety and compliance."> <figcaption>
            <p>AI systems have all of the developmental and operational problems of traditional code, plus a vast additional set of AI-specific issues. AI software typically operates with more uncertainty, and it is challenging to demonstrate its safety and compliance.</p>
        </figcaption>
</figure>

<p>Traditionally, we left the difficult parts ‚Äì like understanding and translating the problem ‚Äì to humans. We explicitly defined the behavior of traditional programs. Now machine learning solves this for us. It automatically distills the problem and its assumptions into a model. As a result, we can learn much more complicated program behaviors. But, at the same time, the understanding and behavioral guarantees of traditional software are lost. The contracts, which we previously relied on, no longer exist. This makes it much more difficult to analyze AI behavior, let alone to demonstrate its safety.</p>
<h2 id="a-new-mindset-for-ai-development">A New Mindset for AI Development</h2>
<p>AI systems have the same developmental and operational problems as traditional software, plus a vast set of AI-specific issues. As a result, <a href="https://david-haber.github.io/posts/ai-discipline/" target="_blank">companies can create impressive demos but fail to translate them into real products</a>. Or even worse, they operate AI software with a lot more uncertainty. This has already led to catastrophic consequences.</p>
<p>Regulatory organizations, industry-specific working groups, and researchers are investigating how existing safety standards can be extended to cover the additional challenges of AI software. With decades of experience certifying traditional software, they know that safety <em>follows</em> from adopting a system-level view. Moreover, it requires a mindset that holds all stages of the development process accountable, from requirements collection to end-user interaction.</p>
<p>AI development teams must adopt a similar top-down approach. Crucially, this means a development workflow that looks beyond the model. We need to systematically combine the best practices from traditional software with the tools specific to AI. Only then can we reestablish the contracts that traditional software relies on, reduce the uncertainty around AI applications, and achieve the failure rates that mission-critical applications require.</p>
<p>With quickly evolving regulatory standards and improving machine learning tools, we now have a chance to get this right. Both sides of the table, regulators and industry, need to work together to create frameworks that support innovation, not stifle it.</p>
<p><em>Thanks to <a href="https://www.linkedin.com/in/matthias-kraft-5b1229a1/" target="_blank">Matthias</a>, <a href="https://www.linkedin.com/in/mateor/" target="_blank">Mateo</a>, <a href="https://ruieduardo.com/" target="_blank">Rui</a>, <a href="https://www.linkedin.com/in/annalipkina10/" target="_blank">Anna</a>, <a href="https://www.linkedin.com/in/alex-garcia-01/" target="_blank">Alex</a> and Ina for reading and commenting on drafts of this article.</em></p>
<section role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a target="_blank" href="https://ntrs.nasa.gov/api/citations/19960016374/downloads/19960016374.pdf">Human-Centered Aviation
Automation: Principles and Guidelines (Charles E. Billings, February 1996)</a> <a href="#fnref:1" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p>Assuming that planet Earth has a circumference of roughly 40km, and a Boeing 747 has a cruise speed of around 900km/h, it takes us 45 hours to get around once, and so we need to repeat that roughly 22 million times to be airborne for a billion hours. <a href="#fnref:2" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
<li id="fn:3" role="doc-endnote">
<p><a target="_blank" href="https://www.iata.org/en/iata-repository/publications/economic-reports/flying-is-by-far-the-safest-form-of-transport/">IATA Economics' Chart of the Week (IATA, 23 February 2018)</a> <a href="#fnref:3" role="doc-backlink">‚Ü©Ô∏é</a></p>
</li>
</ol>
</section>


</article></div>]]>
            </description>
            <link>https://david-haber.github.io/posts/ai-challenges/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26154312</guid>
            <pubDate>Tue, 16 Feb 2021 14:50:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[FreeBSD and I2C]]>
            </title>
            <description>
<![CDATA[
Score 12 | Comments 0 (<a href="https://news.ycombinator.com/item?id=26153811">thread link</a>) | @todsacerdoti
<br/>
February 16, 2021 | https://blog.tyk.nu/blog/freebsd-and-i2c/ | <a href="https://web.archive.org/web/*/https://blog.tyk.nu/blog/freebsd-and-i2c/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    

                    <!-- Author -->
                    <p>
                        by <a href="https://blog.tyk.nu/about/">Tykling</a>
                    </p>
                    <hr>
                    
                    <!-- Date/Time -->
                    <p><span></span> 06. feb 2021 15:54 UTC</p>

                    <hr>

                    <!-- Post Content -->
                    <p><code>I2C</code> is a communication protocol which was originally designed and used for inter-board communications between peripherals, like the processor talking to an EEPROM in a system. These days it is also used for short distance communication with sensors - not what it was designed for, but it works anyway. Wikipedia has this to say about <code>I2C</code>:</p>

<p><i>I2C (Inter-Integrated Circuit), pronounced I-squared-C, is a synchronous, multi-master, multi-slave, packet switched, single-ended, serial communication bus invented in 1982 by Philips Semiconductor (now NXP Semiconductors). It is widely used for attaching lower-speed peripheral ICs to processors and microcontrollers in short-distance, intra-board communication. Alternatively, I2C is spelled I2C (pronounced I-two-C) or IIC (pronounced I-I-C).</i> (thanks <a href="https://en.wikipedia.org/wiki/I%C2%B2C">Wikipedia</a>!)</p>


<p>I've been playing around with some <code>I2C</code> based sensors from SparkFun. They have <a href="https://www.sparkfun.com/qwiic">QWIIC</a> connectors making it easy to speak to them from SparkFuns <a href="https://www.sparkfun.com/products/16832">OpenLog Artemis</a>. The OpenLog Artemis can log sensor data to SD card and also presents itself as a serial device where it streams data from the sensors in a CSV-like format. It works great and I can highly recommend the whole <code>QWIIC</code> ecosystem.</p>

<p>Occationally I need to use one of the <code>QWIIC</code> sensors from some FreeBSD based system, without the <code>OpenLog Artemis</code>. In this case I am using a <code>Raspberry PI Zero</code> with FreeBSD a 13-CURRENT from December. This is easy because the <code>QWIIC</code> system is just plain <code>I2C</code> underneath, so it is easy to hook a sensor up directly to the <code>GPIO</code> pins of the RPI with <a href="https://www.sparkfun.com/products/14988">one of these</a>.</p>

<p>In FreeBSD land we have <a href="https://www.freebsd.org/cgi/man.cgi?query=i2c&amp;sektion=8">i2c(8)</a> which is a userspace utility for reading and writing to <code>I2C</code> devices. I will start by going over basic usage before diving deeper into the actual sensors I am playing with in this learning session.</p>

<p>My test rig for this blogpost looks like this:</p>

<p><a href="https://people.bornhack.org/tyk/i2c/IMG_20210206_201331.jpg"><img src="https://people.bornhack.org/tyk/i2c/IMG_20210206_201331.jpg" width="500"></a></p>

<h3>Basic I2C on FreeBSD</h3>
<p>First things first, I need some hardware with an <code>I2C</code> bus which is exposed to FreeBSD. I am using a <code>Raspberry PI Zero</code> and the <code>I2C</code> bus looks like this in <code>dmesg</code>:</p>

<pre>[root@pizero1 ~]# grep I2C /var/run/dmesg.boot 
iicbus0: &lt;OFW I2C bus&gt; on iichb0
iic0: &lt;I2C generic I/O&gt; on iicbus0
[root@pizero1 ~]# 
</pre>

<p>The first sensor I've hooked up is a SparkFun <code>TMP117</code> temperature sensor. According to the <a href="https://learn.sparkfun.com/tutorials/qwiic-tmp117-high-precision-digital-temperature-sensor-hookup-guide">hookup guide</a> the default <code>I2C</code> address of this sensor is <code>0x48</code> which matches what I am seeing after hooking up the hardware and running <code>i2c(8)</code> with the <code>-s</code> flag to make it scan the <code>I2C</code> bus for devices:</p>

<pre>[root@pizero1 ~]# i2c -s
Hardware may not support START/STOP scanning; trying less-reliable read method.
Scanning I2C devices on /dev/iic0: 48 
[root@pizero1 ~]# 
</pre>

<p>After connecting an additional sensor which has a default <code>I2C</code> address of <code>0x60</code> the bus scan can see that device too:</p>

<pre>[root@pizero1 ~]# i2c -sv
dev: /dev/iic0, addr: 0x0, r/w: r, offset: 0x00, width: 8, count: 1
Hardware may not support START/STOP scanning; trying less-reliable read method.
Scanning I2C devices on /dev/iic0: 48 60 
[root@pizero1 ~]# 
</pre>

<h3>Reading From I2C Devices</h3>
<p>Reading from the sensor is straightforward. I specify that I want to read with <code>-d r</code> (meaning <code>read</code>), the length of data to get with <code>-c 2</code> (meaning 2 bytes) and the address of the device to read from with <code>-a 48</code>:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr
0d 67 
[root@pizero1 ~]# while true; do date; i2c -a 48 -d r -c 2 -m tr; sleep 1; done
Sun Dec 20 00:51:45 UTC 2020
0d 67 
Sun Dec 20 00:51:46 UTC 2020
0d 67 
Sun Dec 20 00:51:48 UTC 2020
0d 66 
Sun Dec 20 00:51:49 UTC 2020
0d 66 
^C
[root@pizero1 ~]# 
</pre>

<p>After some trial and error I also add <code>-m tr</code> to set the <code>addressing mode</code> to <code>complete-transfer</code> which is needed on this I2C bus to make everything work.</p>

<p>The reading shown is a hex value, exactly two bytes as requested with <code>-c 2</code>.</p>

<p>When reading temperature from this sensor I don't need to add <code>-o</code> to the <code>i2c(8)</code> command to specify an offset, since the temperature is stored in the first register in the device. If I wanted to read from the next register (which for the <code>TMP117</code> is where the configuration is stored) I would use <code>-o 1</code>:

</p><pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 1
22 20 
[root@pizero1 ~]# 
</pre>

<p>All the registers in the <code>TMP117</code> are 16 bits (or two bytes), but the <code>I2C</code> command can read or write any number of bytes, just specify the width with <code>-c</code>.</p>

<p>Trying to read more data than the register size just results in FF bytes being returned:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr
0c bc 
[root@pizero1 ~]# i2c -a 48 -d r -c 4 -m tr
0c bc ff ff 
[root@pizero1 ~]# i2c -a 48 -d r -c 40 -m tr
0c bd ff ff ff ff ff ff ff ff ff ff ff ff ff ff 
ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff 
ff ff ff ff ff ff ff ff 
[root@pizero1 ~]# 
</pre>


<h3>Writing To I2C Devices</h3>
<p>The <code>i2c(8)</code> utility also makes it easy to write values back to the device. The <code>TMP117</code> sensor has a programmable low and high thresholds in registers 2 and 3. The first one defaults to <code>0x6000</code> and changing it is much like reading, except we want the bytes to be written on <code>stdin</code>:</p>

<pre>[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 00 
[root@pizero1 ~]# echo -en "\x60\x01" | i2c -a 48 -d w -c 2 -m tr -o 2
[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 01 
[root@pizero1 ~]# echo -en "\x60\x00" | i2c -a 48 -d w -c 2 -m tr -o 2
[root@pizero1 ~]# i2c -a 48 -d r -c 2 -m tr -o 2
60 00 
[root@pizero1 ~]# 
</pre>


<h3>Understanding Readings From the TMP117 Sensor</h3>
<p>Reading the <a href="https://cdn.sparkfun.com/assets/9/e/5/1/8/tmp117.pdf">datasheet</a> for the <code>TMP117</code> sensor I learned that the temperature readings are stored in the first register, as a 16-bit value, which means I use <code>-c 2</code> for <code>i2c(8)</code> so it reads two bytes (16 bits) from the sensor.</p>

<p>The datasheet for the <code>TMP117</code> has this to say about the register where the temperature is stored: <code>The data in the result register is in two's complement format, has a data width of 16 bits and a resolution of 7.8125m ¬∞C.</code>.</p>


<h3>Two's Complement Format</h3>
<p><a href="https://en.wikipedia.org/wiki/Two%27s_complement">Two's complement</a> is a widely used and convenient way to work with signed (negative) numbers in binary. Basically the most significant bit is used to indicate if what follows is a positive or a negative binary number.</p>

<p>The following table is from the <code>TMP117</code> datasheet, it shows some sample temperatures in celcius and what those readings translate to in decimal, two's complement binary, and hex:</p>

<table>
<caption>TMP117 Two's Complement Example Readings</caption>
<thead>
<tr>
<th rowspan="2">Temperature (¬∞C decimal)</th>
<th colspan="3">Sensor register value (0.0078125¬∞C resolution)</th>
</tr>
<tr>
<th>Decimal</th>
<th>Binary</th>
<th>Hex</th>
</tr>
</thead>

<tbody>
<tr><td>‚Äì256</td><td>-32768</td><td>1000000000000000</td><td>8000</td></tr>
<tr><td>-25</td><td>-3200</td><td>1111001110000000</td><td>F380</td></tr>
<tr><td>‚Äì0.125</td><td>-16</td><td>1111111111110000</td><td>FFF0</td></tr>
<tr><td>‚Äì0.0078125</td><td>-1</td><td>1111111111111111</td><td>FFFF</td></tr>
<tr><td>0</td><td>0</td><td>0000000000000000</td><td>0000</td></tr>
<tr><td>0.0078125</td><td>1</td><td>0000000000000001</td><td>0001</td></tr>
<tr><td>0.125</td><td>16</td><td>0000000000010000</td><td>0010</td></tr>
<tr><td>1</td><td>128</td><td>0000000010000000</td><td>0080</td></tr>
<tr><td>25</td><td>3200</td><td>0000110010000000</td><td>0C80</td></tr>
<tr><td>100</td><td>12800</td><td>0011001000000000</td><td>3200</td></tr>
<tr><td>255.9921</td><td>32767</td><td>0111111111111111</td><td>7FFF</td></tr>
</tbody>
</table>

<p>I haven't worked much with <a href="https://en.wikipedia.org/wiki/Two%27s_complement">two's complement format</a>, so I started out by familiarising myself with it in Python. I borrowed the following function from <a href="https://stackoverflow.com/questions/1604464/twos-complement-in-python/37075643#37075643">SO</a> and started out by reproducing the values in the above table:</p>

<pre>[root@pizero1 ~]# cat twos.py 
#!/usr/bin/env python3
import sys

def twos(binary_str, bytecount):
    integer = int(binary_str, bytecount)
    bytes = integer.to_bytes(bytecount, byteorder="big", signed=False)
    return int.from_bytes(bytes, byteorder="big", signed=True)

print(twos(sys.argv[1], int(sys.argv[2])))
[root@pizero1 ~]#
</pre>

<p>Trying it out with the values from the table:</p>
<pre>[root@pizero1 ~]# echo "$(python twos.py 1000000000000000 2) * 0.0078125" | bc
-256.0000000
[root@pizero1 ~]# echo "$(python twos.py 1111001110000000 2) * 0.0078125" | bc
-25.0000000
[root@pizero1 ~]# echo "$(python twos.py 1111111111110000 2) * 0.0078125" | bc
-.1250000
[root@pizero1 ~]# echo "$(python twos.py 1111111111111111 2) * 0.0078125" | bc
-.0078125
[root@pizero1 ~]# echo "$(python twos.py 0000000000000000 2) * 0.0078125" | bc
0
[root@pizero1 ~]# echo "$(python twos.py 0000000000000001 2) * 0.0078125" | bc
.0078125
[root@pizero1 ~]# echo "$(python twos.py 0000000000010000 2) * 0.0078125" | bc
.1250000
[root@pizero1 ~]# echo "$(python twos.py 0000000010000000 2) * 0.0078125" | bc
1.0000000
[root@pizero1 ~]# echo "$(python twos.py 0000110010000000 2) * 0.0078125" | bc
25.0000000
[root@pizero1 ~]# echo "$(python twos.py 0011001000000000 2) * 0.0078125" | bc
100.0000000
[root@pizero1 ~]# echo "$(python twos.py 0111111111111111 2) * 0.0078125" | bc
255.9921875
[root@pizero1 ~]# 
</pre>

<p>Looks like it works perfectly. Going from a reading to celcius is also easy, I tested with the values from the table again:</p>

<pre>[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("8000"), byteorder="big", signed=True) * 0.0078125, 8))'
-256.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("F380"), byteorder="big", signed=True) * 0.0078125, 8))'
-25.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("FFF0"), byteorder="big", signed=True) * 0.0078125, 8))'
-0.125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("FFFF"), byteorder="big", signed=True) * 0.0078125, 8))'
-0.0078125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0000"), byteorder="big", signed=True) * 0.0078125, 8))'
0.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0001"), byteorder="big", signed=True) * 0.0078125, 8))'
0.0078125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0010"), byteorder="big", signed=True) * 0.0078125, 8))'
0.125
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0080"), byteorder="big", signed=True) * 0.0078125, 8))'
1.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("0C80"), byteorder="big", signed=True) * 0.0078125, 8))'
25.0
[root@pizero1 ~]# python -c 'print(round(int.from_bytes(bytearray.fromhex("3200"), byteorder="big", signed=True) * ‚Ä¶</pre></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.tyk.nu/blog/freebsd-and-i2c/">https://blog.tyk.nu/blog/freebsd-and-i2c/</a></em></p>]]>
            </description>
            <link>https://blog.tyk.nu/blog/freebsd-and-i2c/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153811</guid>
            <pubDate>Tue, 16 Feb 2021 13:46:59 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Behold z, the unsung jewel that rethinks shell navigation]]>
            </title>
            <description>
<![CDATA[
Score 116 | Comments 47 (<a href="https://news.ycombinator.com/item?id=26153401">thread link</a>) | @aymericbeaumet
<br/>
February 16, 2021 | https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation | <a href="https://web.archive.org/web/*/https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div aria-label="Content">
<div>
<article itemscope="" itemtype="http://schema.org/BlogPosting">

<div itemprop="articleBody">
<p>I spend a fair amount of time wandering around in the terminal. The chances
are that you are too since you dared to open this story. My daily activities
led me to contribute to various kinds of projects (professional, personal and
open-source). For my sanity, I tend to follow strict rules to organize my
workspace, which helps me keep things tidied up and easily reachable. Or so I
thought.</p>
<p>I decided to arrange my projects by following the <a href="https://golang.org/doc/code.html#Workspaces">Go
philosophy</a>: make the
arborescence mirrors the urls where they are reachable. e.g.,
<code>~/Workspace/src/github.com/aymericbeaumet/dotfiles</code> would contain the
project <a href="https://github.com/aymericbeaumet/dotfiles">dotfiles</a> owned by
<a href="https://github.com/aymericbeaumet">@aymericbeaumet</a> and accessible at
<a href="https://github.com/">github.com</a>. That‚Äôs great, but I am now facing a complex
directory structure tedious to navigate quickly. Making it, in the end,
harder to access the resources I need.</p>
<div><div><pre><code><span>$ </span><span>pwd</span>
/Users/aymericbeaumet/Workspace/src/github.com/brigad/back-end
</code></pre></div></div>
<p><em>Nobody wants to manually deal with this.</em></p>
<p>Remembering and typing the location of each project (even while leveraging
autocomplete) is time-consuming. Creating shell aliases is not scalable.
Instead, I would like to rely on the pseudo-unicity of each project name to
find it among all the directories on my computer.</p>
<h2 id="z">z?</h2>
<p>Several tools exist to tackle this problem. My favorite is
<a href="https://github.com/rupa/z"><em>z</em></a>. It follows the Unix philosophy by being
small, focused and interoperable. <em>z</em> allows jumping around swiftly,
automatically learning from your habits. The entries are ranked based on the
<a href="https://en.wikipedia.org/wiki/Frecency">frecency</a> at which you access the
directories.</p>
<p>Let‚Äôs walk through the basics of this tool. Below is how I advise to install
it for Zsh on macOS (the install process should be similar for other shells
and operating systems):</p>
<div><div><pre><code><span>$ </span>brew <span>install </span>z
<span>$ </span><span>echo</span> <span>"source '</span><span>$(</span>brew <span>--prefix</span> z<span>)</span><span>/etc/profile.d/z.sh'"</span> <span>&gt;&gt;</span> ~/.zshenv
</code></pre></div></div>
<p><em>Install z for Zsh on macOS.</em></p>
<p>Note how installing <em>z</em> is not enough to start using it. You have to source
<code>z.sh</code> at the beginning of each shell session to activate it. The <code>~/.zshenv</code>
configuration file is appropriate as Zsh <a href="http://zsh.sourceforge.net/Intro/intro_3.html">loads it in most
circumstances</a>, making the
tool accessible in a wide-variety of contexts (terminals, editors, IDEs,
scripts, etc.).</p>
<h2 id="lets-play">Let‚Äôs play</h2>
<p>Once the install and setup are complete: start a new shell session, <code>cd</code>
through some folders and execute <code>z</code> to confirm it has been accurately
tracking your activity:</p>
<div><div><pre><code><span>$ </span>z | <span>sort</span> <span>-rn</span> | <span>head</span> <span>-3</span>
5331.72    /Users/aymericbeaumet/Workspace/src/github.com/brigad/back-end
637.255    /Users/aymericbeaumet/Workspace/src/github.com/brigad/ops
386.198 /Users/aymericbeaumet/.config/dotfiles
</code></pre></div></div>
<p><em>Top 3 directories based on frecency.</em></p>
<p>As shown above, I spend quite some time navigating through
<a href="https://github.com/brigad">Brigad</a> projects, but it seems I also often
access my <a href="https://github.com/aymericbeaumet/dotfiles">dotfiles</a> to tweak
some configuration. The ranking score is volatile, and one could observe
significant changes in a brief amount of time.</p>
<p>Now that <em>z</em> has accumulated some knowledge try it by navigating to one of
the tracked folders. Navigating is as simple as executing the <code>z</code> command
followed by the directory name:</p>
<div><div><pre><code><span>$ </span>z dotfiles
<span>$ </span><span>pwd</span>
/Users/aymericbeaumet/.config/dotfiles
</code></pre></div></div>
<p><em>Navigating by matching with a whole directory name.</em></p>
<p>As a matter of facts, I do prefer to leverage partial matching (imagine <code>**</code>
surrounding your search pattern) to type fewer characters. Hence, <code>z dot</code> is
valid and should produce a similar behavior as <code>z dotfiles</code> (modulo possible
name collisions, but you get the idea). This works because <em>z</em> relies on
regular expressions. For example, the snippet below will navigate to the
directory ending with the letters ‚Äútmp‚Äù (with the highest score):</p>
<div><div><pre><code><span>$ </span>z tmp<span>$</span>
<span>$ </span><span>pwd</span>
/private/tmp
</code></pre></div></div>
<p><em>Navigating by matching with a regular expression.</em></p>
<p>Neat right? I guess you start seeing the possibilities of this tool. And we
have only scratched the surface of its capabilities. I suggest you dive in
its <a href="https://github.com/rupa/z/blob/master/README">documentation</a> to get an
idea of its full potential. Features such as autocomplete, subdirectories
matching, consecutive matching, etc. are a game changer.</p>
<h2 id="conclusion">Conclusion</h2>
<p><em>z</em> is tremendous. This tool saves me a non-trivial amount of time every
single day. When one starts relying on it, there is no going back. And I hope
it‚Äôs going to fit your workflow as well as mine.</p>
<p>I would be grateful to hear any of your time-saving tricks. Feel free to
share your experiences!</p>
</div>


</article>
</div>
</div></div>]]>
            </description>
            <link>https://aymericbeaumet.com/behold-z-the-unsung-jewel-that-rethinks-shell-navigation</link>
            <guid isPermaLink="false">hacker-news-small-sites-26153401</guid>
            <pubDate>Tue, 16 Feb 2021 12:54:43 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[All about thread-local storage]]>
            </title>
            <description>
<![CDATA[
Score 50 | Comments 10 (<a href="https://news.ycombinator.com/item?id=26150512">thread link</a>) | @MaskRay
<br/>
February 15, 2021 | https://maskray.me/blog/2021-02-14-all-about-thread-local-storage | <a href="https://web.archive.org/web/*/https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody">
      
        <p>Thread-local storage (TLS) provides a mechanism allocating distinct objects for different threads. It is the usual implementation for GCC extension <code>__thread</code>, C11 <code>_Thread_local</code>, and C++11 <code>thread_local</code>, which allow the use of the declared name to refer to the entity associated with the current thread. This article will describe thread-local storage on ELF platforms in detail, and touch on other related topics, such as: thread-specific data keys and Windows/macOS TLS.</p>
<p>An example usage of thread-local storage is POSIX <code>errno</code>:</p>
<blockquote>
<p>Each thread has its own thread ID, scheduling priority and policy, errno value, floating point environment, thread-specific key/value bindings, and the required system resources to support a flow of control.</p>
</blockquote>
<p>Different threads have different <code>errno</code> copies. <code>errno</code> is typically defined as a function which returns a thread-local variable.</p>
<p>For each architecture, the authoritative ELF ABI document is the processor supplement (psABI) to the System V ABI (generic ABI). These documents usually reference <em>The ELF Handling for Thread-Local Storage</em> by Ulrich Drepper. The document, however, mixes general specifications and glibc internals.</p>
<h2 id="representation">Representation</h2>
<h3 id="assembler-behavior">Assembler behavior</h3>
<p>The compiler usually defines thread-local variables in <code>.tdata</code> and <code>.tbss</code> sections (which have the section flag <code>SHF_TLS</code>). The symbols representing thread-local variables have type <code>STT_TLS</code> (representing thread-local storage entities). In GNU as syntax, you can give <code>a</code> the type <code>STT_TLS</code> with <code>.type a, @tls_object</code>. The <code>st_value</code> value of a TLS symbols is the offset relative to the defining section.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br><span>4</span><br><span>5</span><br><span>6</span><br><span>7</span><br><span>8</span><br><span>9</span><br><span>10</span><br></pre></td><td><pre><span>.section .tbss,"awT",@nobits</span><br><span>.globl a, b</span><br><span>.type a, @tls_object</span><br><span>.type b, @tls_object</span><br><span>a:</span><br><span>  .zero 4</span><br><span>  .size a, .-a</span><br><span>b:</span><br><span>  .zero 4</span><br><span>  .size b, .-b</span><br></pre></td></tr></tbody></table></figure>
<p>In this example, <code>st_value(a)=0</code> while <code>st_value(b)=4</code>.</p>
<p>In Clang and GCC produced assembly, thread-local variables are annotated as <code>.type a, @object</code> (<code>STT_OBJECT</code>). When the assembler sees that such symbols are defined in <code>SHF_TLS</code> sections or referenced by TLS relocations, <code>STT_NOTYPE</code>/<code>STT_OBJECT</code> will be upgraded to <code>STT_TLS</code>.</p>
<p>GNU as supports an directive <code>.tls_common</code> which defines <code>STT_TLS SHN_COMMON</code> symbols. This is an obsecure feature. It is not clear whether GCC still has a code path which emits <code>.tls_common</code> directives. LLVM integrated assembler does not support <code>.tls_common</code>.</p>
<h3 id="linker-behavior">Linker behavior</h3>
<p>The linker combines <code>.tdata</code> input sections into a <code>.tdata</code> output section. <code>.tbss</code> input sections are combined into a <code>.tbss</code> output section. The two <code>SHF_TLS</code> output sections are placed into a <code>PT_TLS</code> program header.</p>
<ul>
<li><code>p_offset</code>: the file offset of the TLS initialization image</li>
<li><code>p_vaddr</code>: the virtual address of the TLS initialization image</li>
<li><code>p_filesz</code>: the size of the TLS initialization image</li>
<li><code>p_memsz</code>: the total size of the thread-local storage. The last <code>p_memsz-p_filesz</code> bytes will be zeroed by the dynamic loader.</li>
<li><code>p_align</code>: alignment</li>
</ul>
<p>The <code>PT_TLS</code> program header is contained in a <code>PT_LOAD</code> program header. Conceptually <code>PT_TLS</code> and <code>STT_TLS</code> symbols are like in a separate address space. The dynamic loader should copy the <code>[p_vaddr,p_vaddr+p_filesz)</code> of the TLS initialization image to the corresponding static TLS block.</p>
<p>In executable and shared object files, <code>st_value</code> normally holds a virtual address. For a <code>STT_TLS</code> symbol, <code>st_value</code> holds an offset relative to the virtual address of the <code>PT_TLS</code> program header. The first byte of <code>PT_TLS</code> is referenced by the TLS symbol with <code>st_value==0</code>.</p>
<p>GNU ld treats <code>STT_TLS SHN_COMMON</code> symbols as defined in <code>.tcommon</code> sections. Its internal linker script places such sections into the output section <code>.tdata</code>. LLD does not support <code>STT_TLS SHN_COMMON</code> symbols.</p>
<h3 id="dynamic-loader-behavior">Dynamic loader behavior</h3>
<p>The dynamic loader collects <code>PT_TLS</code> program headers from the main executable and immediately loaded shared objects (via transitive <code>DT_NEEDED</code>), and allocates static TLS blocks, one block for each <code>PT_TLS</code>. For each <code>PT_TLS</code>, the dynamic loader copies <code>p_filesz</code> bytes from the TLS initialization image to the TLS block and sets the trailing <code>p_memsz-p_filesz</code> bytes to zeroes.</p>
<p>For the static TLS block of the main executable, the module ID is one and the TP offset of a TLS symbol is a link-time constant. The linker and the dynamic loader share the same formula.</p>
<p>For a shared object loaded at program start, the offset from the thread pointer to its static TLS block is a fixed value at program start, albeit not a link-time constant. The offset can be referenced by a GOT dynamic relocation used by the initial-exec TLS model.</p>
<p><em>The ELF Handling for Thread-Local Storage</em> describes two TLS variants and specifies their data structures. However, only the TP offset of the static TLS block of the main executable is a hard requirement. Nevertheless, libc implementations usually place static TLS blocks together, and allocate a space for both the thread control block and the static TLS blocks.</p>
<p>For a new thread created by <code>pthread_create</code>, the static TLS blocks are usually allocated as part of the thread stack. Without a guard page between the largest address of the stack and the thread control block, this could be considered as vulnerable as stack overflow can overwrite the thread control block.</p>
<h2 id="models">Models</h2>
<h3 id="local-exec-tls-model-executable-non-preemptible">Local exec TLS model (executable &amp; non-preemptible)</h3>
<p>This is the most efficient TLS model. It applies when the TLS symbol is defined in the executable.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is</p>
<ul>
<li>a definition</li>
<li>or a declaration with a non-default visibility.</li>
</ul>
<p>The first condition is obvious. The second condition is becuase a non-default visibility means the variable must be defined by another translation unit in the executable.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span>_Thread_local <span>int</span> def;</span><br><span>__attribute__((visibility(<span>"hidden"</span>))) <span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> def + ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span># x86-64</span><br><span>movl %fs:def@TPOFF, %eax</span><br></pre></td></tr></tbody></table></figure>
<p>For the static TLS block of the main executable, the TP offset of a TLS symbol is a link-time constant. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_LE32</code></li>
<li>aarch64:
<ul>
<li>-mtls-size=12: <code>R_AARCH64_TLSLE_ADD_TPREL_LO12</code></li>
<li>-mtls-size=24 (default): <code>R_AARCH64_TLSLE_ADD_TPREL_HI12</code>, <code>R_AARCH64_TLSLE_ADD_TPREL_LO12_NC</code></li>
<li>-mtls-size=32: <code>R_AARCH64_TLSLE_MOVW_TPREL_G1</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
<li>-mtls-size=48: <code>R_AARCH64_TLSLE_MOVW_TPREL_G2</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G1_NC</code>, <code>R_AARCH64_TLSLE_MOVW_TPREL_G0_NC</code></li>
</ul></li>
<li>i386: <code>R_386_TLS_LE</code></li>
<li>x86-64: <code>R_X86_64_TPOFF32</code></li>
<li>mips: <code>R_MIPS_TPREL_HI16</code>, <code>R_MIPS_TPREL_LO16</code></li>
<li>ppc32: <code>R_PPC_TPREL_HA</code>, <code>R_PPC_TPREL_LO</code></li>
<li>ppc64: <code>R_PPC64_TPREL_HA</code>, <code>R_PPC64_TPREL_LO</code></li>
<li>riscv: <code>R_RISCV_TPREL_HI20</code>, <code>R_RISCV_TPREL_LO12_I</code>, <code>R_RISCV_TPREL_LO12_S</code></li>
</ul>
<p>For RISC architectures, because an instruction typically has 4 bytes and cannot encode a 32-bit offset, it usually takes two instructions to materialize a TP offset.</p>
<p>In <a target="_blank" rel="noopener" href="https://reviews.llvm.org/D93331">https://reviews.llvm.org/D93331</a>, I patched LLD to reject local-exec TLS relocations in <code>-shared</code> mode. In GNU ld, at least arm, riscv and x86's ports have the similar diagnostics, but aarch64 and ppc64 do not error.</p>
<h3 id="initial-exec-tls-model-executable-preemptible">Initial exec TLS model (executable &amp; preemptible)</h3>
<p>This model is less efficient than local exec. It applies when the TLS symbol is defined in the executable or a shared object available at program start. The shared object can be due to <code>DT_NEEDED</code> or <code>LD_PRELOAD</code>.</p>
<p>The compiler picks this model in <code>-fno-pic/-fpie</code> modes if the variable is a declaration with default visibility. The idea is that a symbol referenced by the executable must be defined by an immediately loaded shared object, instead of a dlopen loaded shared object. The linker enforces this as well by defaulting to <code>-z defs</code> for a <code>-no-pie/-pie</code> link.</p>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br></pre></td><td><pre><span><span>extern</span> <span>thread_local</span> <span>int</span> ref;</span><br><span><span><span>int</span> <span>foo</span><span>()</span> </span>{ <span>return</span> ref; }</span><br></pre></td></tr></tbody></table></figure>
<figure><table><tbody><tr><td><pre><span>1</span><br><span>2</span><br><span>3</span><br></pre></td><td><pre><span># x86-64</span><br><span>movq ref@GOTTPOFF(%rip), %rax</span><br><span>movl %fs:(%rax), %eax</span><br></pre></td></tr></tbody></table></figure>
<p>Because the offset from the thread pointer to the start of a static block is fixed at program start, such an offset can be encoded by a GOT relocation. Such relocation types typically have <code>GOT</code> and <code>TPREL/TPOFF</code> in their names. Here is a list of common relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_IE32</code></li>
<li>aarch64: <code>R_AARCH64_TLSIE_ADR_GOTTPREL_PAGE21</code>, <code>R_AARCH64_TLSIE_LD64_GOTTPREL_LO12_NC</code></li>
<li>i386: <code>R_386_TLS_IE</code></li>
<li>x86-64: <code>R_X86_64_GOTTPOFF</code></li>
<li>ppc32: <code>R_PPC_GOT_TPREL16</code></li>
<li>ppc64: <code>R_PPC64_GOT_TPREL16_HA</code>, <code>R_PPC64_GOT_TPREL16_LO_DS</code></li>
<li>riscv: <code>R_RISCV_TLS_GOT_HI20</code>, <code>R_RISCV_PCREL_LO12_I</code></li>
</ul>
<p>If the TLS symbol does not satisfy initial-exec to local-exec relaxation requirements, the linker will allocate a GOT entry and emit a dynamic relocation. Here is a list of dynamic relocation types:</p>
<ul>
<li>arm: <code>R_ARM_TLS_TPOFF32</code></li>
<li>aarch64: <code>R_AARCH64_TLS_TPREL64</code></li>
<li>mips32: <code>R_MIPS_TLS_TPREL32</code></li>
<li>mips64: <code>R_MIPS_TLS_TPREL64</code></li>
<li>i386: <code>R_386_TPOFF</code></li>
<li>x86-64: <code>R_X86_64_TPOFF64</code></li>
<li>ppc32: <code>R_PPC_TPREL32</code></li>
<li>ppc64: <code>R_PPC64_TPREL64</code></li>
<li>riscv: <code>R_RISCV_TLS_TPREL64</code></li>
</ul>
<p>While they have <code>TPREL</code> or <code>TPOFF</code> in their names, these dynamic relocations have the same bitwidth as the word size. This is a good way to distinguish them from the local-exec relocation types used in object files.</p>
<p>If you add the <code>__attribute((tls_model("initial-exec")))</code> attribute, a thread-local variable can use this model in <code>-fpic</code> mode. If the object file is linked into an executable, everything is fine. If the object file is linked into a shared object, the shared object generally needs to be an immediately loaded shared object. The linker sets the <code>DF_STATIC_TLS</code> flag to annotate a shared object with initial-exec TLS relocations.</p>
<p>glibc ld.so reserves some space in static TLS blocks and allows dlopen on such a shared object if its TLS size is small. There could be an obscure reason for using such an attribute: general dynamic and local dynamic TLS models are not async-signal-safe in glibc. However, other libc implementations may not reserve additional TLS space for dlopen'ed initial-exec shared objects, e.g. musl will error.</p>
<h3 id="general-dynamic-and-local-dynamic-tls-models-dso">General dynamic and local dynamic TLS models (DSO)</h3>
<p>The two modes are used when the TLS symbol may be defined by a shared object. They do not assume the TLS symbol is backed by a static TLS block. Instead, they assume that the thread-local storage of the module may be dynamically allocated, making the models suitable for dlopen usage. The dynamically allocated TLS storage is usually referred to as dynamic TLS.</p>
<p>Each TLS symbol is ‚Ä¶</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://maskray.me/blog/2021-02-14-all-about-thread-local-storage">https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</a></em></p>]]>
            </description>
            <link>https://maskray.me/blog/2021-02-14-all-about-thread-local-storage</link>
            <guid isPermaLink="false">hacker-news-small-sites-26150512</guid>
            <pubDate>Tue, 16 Feb 2021 03:14:38 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[US Presidential Election $25k Database Bounty Review]]>
            </title>
            <description>
<![CDATA[
Score 144 | Comments 35 (<a href="https://news.ycombinator.com/item?id=26149511">thread link</a>) | @mjangle1985
<br/>
February 15, 2021 | https://www.dolthub.com/blog/2021-02-15-election-bounty-review/ | <a href="https://web.archive.org/web/*/https://www.dolthub.com/blog/2021-02-15-election-bounty-review/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div data-cy="blog-post-text"><p>On December 14, we launched <a href="https://www.dolthub.com/blog/2020-12-16-data-bounties/">our first data bounty</a> to <a href="https://www.dolthub.com/blog/2020-12-14-make-money-data-wrangling/">earn a share of $25,000 by wrangling US Presidential Precinct-level data</a>. The bounty ended yesterday. How did it go? This blog entry will answer that question.</p>
<p><a href="https://www.doltdb.com/">Dolt</a> is a SQL database with Git-style versioning. It's the first SQL database you can branch and merge. <a href="https://www.dolthub.com/">DoltHub</a> is a place on the internet to share and collaborate on Dolt databases. Without both, data bounties would not be possible.</p>

<p>We built the <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results">best open database of US Precinct-level Election results</a> on the internet. </p>
<p>Here's some statistics:</p>
<ul>
<li>15.5M cells edited. 1.7GB of data collected</li>
<li><a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+COUNT%28distinct%28state%29%29%0AFROM+%60vote_tallies%60+where+election_year%3D2016%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">All 51 "states" covered for 2016</a>. <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+COUNT%28distinct%28state%29%29%0AFROM+%60vote_tallies%60+where+election_year%3D2020%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">38 states covered for 2020</a>. </li>
<li><a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+sum%28votes%29%2F136669276%0AFROM+%60vote_tallies%60+where+election_year%3D2016%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">100% of the vote covered for 2016</a>. <a href="https://www.dolthub.com/repositories/dolthub/us-president-precinct-results/query/master?q=SELECT+sum%28votes%29%2F159633396%0AFROM+%60vote_tallies%60+where+election_year%3D2020%0ALIMIT+200%3B%0A%0A%0A%0A%0A%0A%0A&amp;active=Tables">78% for 2020</a>.</li>
<li>75 Pull Requests (PRs) accepted across 6 bounty participants. </li>
<li>Top bounty participant earned over $10,000.</li>
</ul>
<p><span>
      <a href="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Final Scoreboard" title="Final Scoreboard" src="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png" srcset="https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/a48b3/first-bounty-final-scoreboard.png 214w,
https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/47730/first-bounty-final-scoreboard.png 428w,
https://www.dolthub.com/blog/static/4e02e3f4498d3a6b5bc56bd9f85cad81/0fcea/first-bounty-final-scoreboard.png 851w" sizes="(max-width: 851px) 100vw, 851px" loading="lazy">
  </a>
    </span></p>
<p>We're very excited to mail the checks to all the folks who worked hard to make this bounty a success.</p>
<p><span>
      <a href="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/2ad33/fat-check.jpg" target="_blank" rel="noopener">
    <span></span>
  <img alt="Fat Check" title="Fat Check" src="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/79a4e/fat-check.jpg" srcset="https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/606a2/fat-check.jpg 214w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/65a3f/fat-check.jpg 428w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/79a4e/fat-check.jpg 856w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/99aeb/fat-check.jpg 1284w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/e88f6/fat-check.jpg 1712w,
https://www.dolthub.com/blog/static/9791bedbcbd3ed06e15435f17a7ff195/2ad33/fat-check.jpg 3851w" sizes="(max-width: 856px) 100vw, 856px" loading="lazy">
  </a>
    </span></p>

<p>Now that the bounty is complete, we must figure out what to do with this data. How do we get the most out of our investment in the data?</p>
<h2>Clean up the data we got</h2>
<p>Given the heavily keyed nature of this data, we decided early on to not accept PRs for standardization or normalization of things like party names. Because most columns are part of the primary key, any change looks like a deletion and corresponding addition to Dolt. Thus, changes like that give the corrector credit for the whole row in the bounty instead of just the cell he or she changed. We queued up a number of these types of changes and we'll execute them now that the bounty is over.</p>
<h2>Find some users</h2>
<p>We collected the best US presidential Precinct level results on the internet. Now, we want people to use it. We think potentially the data is good enough that an open data community could be bootstrapped around it. The people who use it would have incentive to finish it as new state level data is released. We will reach out to the people at <a href="http://openelections.net/">Open Elections</a> and <a href="https://electionlab.mit.edu/">MIT Elections Lab</a> and start a conversation. If you know anyone else who could use this data, <a href="https://discord.com/invite/RFwfYpu">come let us know in our Discord</a>.</p>
<h2>Run another bounty?</h2>
<p>We're still missing 12 states and about 22% of the vote from 2020. If we want to get complete data and an open data community can't be bootstrapped, we may run another bounty in a couple months to finish the dataset. Let us know if you'd be interested in another bounty or the complete dataset.</p>

<p>We think <a href="https://www.dolthub.com/bounties">DoltHub Bounties</a> may be the fastest, cheapest way to build databases from open data. For $25,000 and 8 weeks, we were able to assemble a 1.7GB database of election results. </p>
<p>Our plan is to run at least one bounty per month for the rest of the year across a number of distinct data disciplines. We're running a <a href="https://www.dolthub.com/blog/2021-01-14-hopsital-prices-bounty/">hospital price transparency bounty</a> right now. We'll be launching two more over the next month or so. Hang out in <a href="https://discord.com/invite/RFwfYpu">our Discord</a> to keep up to date. Start wrangling data as your new side hustle.</p></div></div>]]>
            </description>
            <link>https://www.dolthub.com/blog/2021-02-15-election-bounty-review/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149511</guid>
            <pubDate>Tue, 16 Feb 2021 00:20:16 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Building Rich Terminal Dashboards]]>
            </title>
            <description>
<![CDATA[
Score 483 | Comments 116 (<a href="https://news.ycombinator.com/item?id=26149488">thread link</a>) | @lumpa
<br/>
February 15, 2021 | https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/ | <a href="https://web.archive.org/web/*/https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
    

    
<p><a href="https://github.com/willmcgugan/rich">Rich</a> has become a popular (20K stars on GH) way of beautifying CLIs, and I'm pleased to see a number of projects using it.</p>
<p>Since Rich is mature and battle-tested now, I had considered winding-down development. Until, I saw this tweet:</p>
<h2>The Tweet</h2>
<blockquote><div lang="en" dir="ltr"><p>Do you want to see something really cool you can do with <a href="https://twitter.com/willmcgugan?ref_src=twsrc%5Etfw">@willmcgugan</a> 's rich library? </p><p>Checkout ghtop <a href="https://t.co/mn7oLbpw8e">https://t.co/mn7oLbpw8e</a>. It's a really fun CLI tool that demonstrates the power of rich (and other things).</p><p>Examples below üßµüëá (1/8)</p></div>‚Äî Hamel Husain (@HamelHusain) <a href="https://twitter.com/HamelHusain/status/1357771218095546368?ref_src=twsrc%5Etfw">February 5, 2021</a></blockquote> 
<p><a href="https://twitter.com/HamelHusain">@HamelHusain</a> and <a href="https://twitter.com/jeremyphoward">@jeremyphoward</a> used Rich to enhance <a href="https://github.com/nat/ghtop">ghtop</a> (a repo owned by the CEO of Github, no less). Ghtop shows a realtime a stream of events from the Github platform. And it looks good! So good that I realised how much potential Rich has for these type of htop-like applications.</p>
<p>Hamel and Jeremy had to overcome a few technical hurdles to make that work. Fortunately this will no longer be required as the latest version of Rich has first-class support for full-screen interfaces via a new Layout system.</p>
<h2>Full-screen terminal interface</h2>
<p>Here's a video demonstration of a terminal interface built with Layout:</p>
<p>
<iframe width="auto" src="https://www.youtube.com/embed/slrdSojCvlk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p>
<h2>Layout API</h2>
<p>The API to create a flexible layout is surprisingly simple. You construct a <code>Layout()</code> object, then call <code>split()</code> to create sub-layouts. These sub-layouts may then be further divided. Layouts have a small number of settings which define their size relative to the terminal window. It's a simple system that can create terminal interfaces that almost resemble modern web apps.</p>
<div><figure> <img width="1140" height="724" title="layout_vscode.png" name="layout_vscode" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="2100" data-width="3308" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout_vscode" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44.png/a7ab7ab6-6fb0-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>A Rich layout in VSCode</p>


</figcaption>

</figure>
</div>
<h2>Finally, some code</h2>
<p>Here's how you would create a basic layout with a header, a footer, and two side-panels.</p>
<pre><code>from rich.console import Console
from rich.layout import Layout

console = Console()
layout = Layout()

# Divide the "screen" in to three parts
layout.split(
    Layout(name="header", size=3),
    Layout(ratio=1, name="main"),
    Layout(size=10, name="footer"),
)
# Divide the "main" layout in to "side" and "body"
layout["main"].split(
    Layout(name="side"),
    Layout(name="body", ratio=2),
    direction="horizontal"
)
# Divide the "side" layout in to two
layout["side"].split(Layout(), Layout())

console.print(layout)
</code></pre>
<p>Running the code above produces the following output:</p>
<div><figure> <img width="1140" height="739" title="layout.png" name="layout" data-md="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg" data-square="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.square.7.jpeg" data-xlg2x="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg2x.2.jpeg" data-lg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg" data-xlg="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.xlg.8.jpeg" data-author="¬© 2021 Will McGugan<br>all rights reserved" data-og_preview="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.og.preview.2.jpeg" data-height="1464" data-width="2258" data-toggle="tooltip" data-details=" " data-sm="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg" data-blur="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.blur.6.jpeg" data-slug="layout" sizes="(min-width: 1200px) 1170px, (min-width: 992px) 970px, (min-width: 768px) 750px" srcset="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg 1170w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.md.3.jpeg 970w, https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.sm.3.jpeg 750w" src="https://media.moyaproject.com/willmcgugan/uploads/thumbnails/techblog/98f8e5f8-6fab-11eb-bc8d-f23c91845b44.png/98f8e5f8-6fab-11eb-bc8d-f23c91845b44png.lg.3.jpeg"> 
<figcaption>
<p>¬© 2021 Will McGugan</p>


<p>Terminal split in to 5 sub-layouts. The boxes are placeholders, you can insert any content in their place.</p>


</figcaption>

</figure>
</div>
<p>Any renderable (text, table, progress bars etc) may be placed inside those sub-layouts.</p>
<p>We can now use the <a href="https://rich.readthedocs.io/en/latest/live.html">Live</a> class to create an application that adapts itself to the terminal window:</p>
<pre><code>from rich.live import Live
from time import sleep

with Live(layout, screen=True):
    while True:
        sleep(1)
</code></pre>
<p>In a real app, that do-nothing loop will be doing something useful like pulling data from the network to update contents.</p>
<p>See the <a href="https://rich.readthedocs.io/en/latest/layout.html">layout docs</a> for an in-depth tutorial.</p>
<h2>What's next?</h2>
<p>I think it's clear that Rich is acquiring more TUI (text user interface) features, and I've decided not to fight it. Rich's core purpose is still to beautify CLI output, but I think there is an opportunity here for a new way to create terminal apps. Ultimately it will be less like curses and more like HTML in a browser.</p>
<p>There are a number of things to do before Rich could replace a full TUI library (keyboard and mouse input for one) but the potential is there. Stay tuned for progress.</p>
<p>Follow <a href="https://twitter.com/willmcgugan">@willmcgugan</a> for more Rich related news.</p>



</article></div>]]>
            </description>
            <link>https://www.willmcgugan.com/blog/tech/post/building-rich-terminal-dashboards/</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149488</guid>
            <pubDate>Tue, 16 Feb 2021 00:16:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Performance Optimization Contest]]>
            </title>
            <description>
<![CDATA[
Score 26 | Comments 2 (<a href="https://news.ycombinator.com/item?id=26149436">thread link</a>) | @robfig
<br/>
February 15, 2021 | https://easyperf.net/blog/2019/02/02/Performance-optimization-contest | <a href="https://web.archive.org/web/*/https://easyperf.net/blog/2019/02/02/Performance-optimization-contest">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
				<p><strong>Contents:</strong></p>
<ul id="markdown-toc">
  <li><a href="#about-this-contest" id="markdown-toc-about-this-contest">About this contest</a></li>
  <li><a href="#qa" id="markdown-toc-qa">Q&amp;A</a>    <ul>
      <li><a href="#q0-why-the-hell-on-earth-i-should-participate-in-this-contest" id="markdown-toc-q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></a></li>
      <li><a href="#q1-what-benchmarks-are-taken-into-the-contest" id="markdown-toc-q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></a></li>
      <li><a href="#q2-what-is-the-machineenvironment-we-will-be-optimizing-for" id="markdown-toc-q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></a></li>
      <li><a href="#q3-what-if-i-dont-have-the-environment-you-are-using" id="markdown-toc-q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></a></li>
      <li><a href="#q4-how-i-should-find-performance-headrooms" id="markdown-toc-q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></a></li>
      <li><a href="#q5-what-optimizations-are-allowed" id="markdown-toc-q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></a></li>
      <li><a href="#q6-whats-not-allowed" id="markdown-toc-q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></a></li>
      <li><a href="#q7-how-should-the-submission-look-like" id="markdown-toc-q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></a></li>
      <li><a href="#q8-how-i-will-test-your-solutions" id="markdown-toc-q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></a></li>
      <li><a href="#q9-how-i-will-select-the-winner" id="markdown-toc-q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></a></li>
    </ul>
  </li>
  <li><a href="#how-to-get-started" id="markdown-toc-how-to-get-started">How to get started?</a></li>
  <li><a href="#hints" id="markdown-toc-hints">Hints</a></li>
  <li><a href="#list-of-contest-editions" id="markdown-toc-list-of-contest-editions">List of contest editions</a></li>
</ul>

<hr>
<p><strong>Subscribe to my <a href="https://mailchi.mp/4eb73720aafe/easyperf">mailing list</a>, support me on <a href="https://www.patreon.com/dendibakh">Patreon</a> or by PayPal <a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=TBM3NW8TKTT34&amp;currency_code=USD&amp;source=url">donation</a>.</strong></p>

<hr>

<h3 id="about-this-contest">About this contest</h3>

<p>Hello everybody!</p>

<p>I decided to try new thing at the beginning of 2019. You probably heard about competitive programming and about popular web-sites like <a href="https://www.topcoder.com/">Topcoder</a>, <a href="https://www.codility.com/">Codility</a> and others. The idea is that you can try yourself in solving programming puzzles. Usually it‚Äôs not enough to just solve the puzzle, your solution must qualify for certain criterias such as algorithmic complexity and memory usage. Also on a real challenges it is improtant how fast you solved the problem.</p>

<p>Those sort of challenges usually test your problem solving skills as well as your knowledge of algorithms and data structures. It is a kind of tasks we usually see on programming job interviews. You need to write the code from scratch to a complete solution.</p>

<p>What I am starting is also a form of contest but aims at developing different set of skills. <strong>We will train to optimize already optimized code</strong>. We will learn hardware optimizations. This is briefly how it will look like: I will pick one existing benchmark of my choice and will send it to all my subscribers. You will have the time to play with the benchmark and find all performance headrooms you can find. You then send all your findings to me (modified sources/assemblies/compiler patches?/whatever speeds up the benchmark) and I check it and run on my hardware. At the end I will anounce the winners.</p>

<p>Before I explain it in more details I feel a need of writing disclaimer:</p>

<blockquote>
  <p><strong>Disclaimer</strong>: This is absolutely non-profit effort. I‚Äôm not looking for make any money from it or using someone‚Äôs knowledge in my own purposes. I will not use submissions to extract any intellectual property they might have. Also this is not aiming to advertise any particular software product including benchmarks/compilers. That‚Äôs why all the benchmarks and compilers I will use require to be open sourced. Neither it aims to advertise any particular HW.</p>
</blockquote>

<p>In this contest I try to emulate the situation in performance critical projects on the final stages. When all the functionality is delivered and tested. But before shipping the binary to the customers you were asked to tune the app to it‚Äôs peak performance. You know the hardware it will be deployed to. You have the sources in your hands and freedom to modify it (without introducing any bugs :) ). You are the build master, so you can add any compiler flags you want.</p>

<p>For the challenges that I will send I‚Äôm not looking for optimizations that fall into the category: ‚ÄúOh, I just used quicksort instead of bubblesort‚Äù. Expect the benchmark to be already optimized to some degree. Your task is to tune it for particular hardware to the peak performance.</p>

<h3 id="qa">Q&amp;A</h3>

<h4 id="q0-why-the-hell-on-earth-i-should-participate-in-this-contest">Q0: <em>Why <del>the hell</del> on earth I should participate in this contest?</em></h4>

<p><strong>A0</strong>: You will learn/practice how to do optimizations for HW. This might include eliminating cache misses by inserting prefetch instructions, getting rid of <a href="https://easyperf.net/blog/2018/01/18/Code_alignment_issues">Code alignment issues</a>, improving performance by helping compiler to vectorize/unroll the loop better. You will learn different techniques as you go.</p>

<hr>
<h4 id="q1-what-benchmarks-are-taken-into-the-contest">Q1: <em>What benchmarks are taken into the contest?</em></h4>

<p><strong>A1</strong>: It will be open sourced benchmark written in C/C++. Usually several source files. It should be easy to build, require minimal dependencies. Preferably it should have some form of validation.</p>

<hr>
<h4 id="q2-what-is-the-machineenvironment-we-will-be-optimizing-for">Q2: <em>What is the machine/environment we will be optimizing for?</em></h4>

<p><strong>A2</strong>: Most likely it will be 64 bit Linux with Intel x86 CPU (probably Haswell architecture). For a start I will not bother with disabling CPU <a href="https://en.wikipedia.org/wiki/Dynamic_frequency_scaling">dynamic frequency scaling</a> features or setting <a href="https://en.wikipedia.org/wiki/Processor_affinity">thread affinity</a>. I might do this in future.</p>

<hr>
<h4 id="q3-what-if-i-dont-have-the-environment-you-are-using">Q3: <em>What if I don‚Äôt have the environment you are using?</em></h4>

<p><strong>A3</strong>: It doesn‚Äôt matter much. If you don‚Äôt have Intel CPU or you are on Windows/Mac, just optimize for whatever you have. I would be happy to know about optimizations that help other CPUs, operating systems, etc.
<strong>I don‚Äôt have real prizes to give, so it‚Äôs mostly practicing and learning</strong>.</p>

<hr>
<h4 id="q4-how-i-should-find-performance-headrooms">Q4: <em>How I should find performance headrooms?</em></h4>

<p><strong>A4</strong>: Use all of your knowledge. Start with profiling the benchmark. You can browse through posts on this blog. Additionally I will write a separate post that might help begginers.</p>

<hr>
<h4 id="q5-what-optimizations-are-allowed">Q5: <em>What optimizations are allowed?</em></h4>

<p><strong>A5</strong>: Good news! <strong>All the dirty tricks allowed</strong>! The goal of this contest is to learn how to squeeze as much performance as possible from the hardware using any means available. You can modify sources and insert any compiler hints like pragmas, builtins, function attributes, etc. Also you can generate assembly listing (<code>-S</code> compiler option) and modify it. Finally, you can add some compiler option that might speed up the benchmark.</p>

<hr>
<h4 id="q6-whats-not-allowed">Q6: <em>What‚Äôs NOT allowed</em></h4>

<p><strong>A6</strong>: 1) Do not rewrite the benchmark completely or introduce major changes in algorithms. The good judging rule is ‚Äúeverything interesting should be calculated in runtime‚Äù.</p>

<p>2) Do not manually parallelize the benchmark, e.g converting it from single- to multi-threaded or offload computations to the GPU. I mean, I‚Äôm glad that you can do it and I will be happy to take a look what you did, but it‚Äôs not the intent of the contest.</p>

<p>3) Using <a href="https://en.wikipedia.org/wiki/Profile-guided_optimization">PGO</a> is allowed, however you can use it only for driving you optimizations, not for the submission. So, you can check how the benchmark gets better with PGO and understand why. And then make this optimization manually. Again, the purposes is practicing and learning.</p>

<hr>
<h4 id="q7-how-should-the-submission-look-like">Q7: <em>How should the submission look like?</em></h4>

<p><strong>A7</strong>: 1) I will not accept binaries for security reasons.</p>

<p>2) You can send patch files that I can apply to the sources of the benchmark or just assembly listing. If you did multiple optimizations please split them in separate patches. <code>git format-patch</code> is the right tool for that. This will save me a lot of time.</p>

<p>3) If you send assembly listing files please do also include diff file from the baseline (what you changed in the assembly). If you provide modified assembly listings it should be genearted only with open-sourced C/C++ compilers like gcc and clang. You can of course cheat and generate assembly with some other compiler that is better for the benchmark, but I will probably easily detect that. And it‚Äôs not about tricking, it‚Äôs about learning.</p>

<p>4) Make sure you specify clearly the compiler options if they are different from the baseline.</p>

<p>5) If you are capable of hacking compiler that‚Äôs also acceptable. You can send me patches for gcc/llvm compilers which I can apply and use for building the benchmark. Please use the top of tree revisions because it will be easier for me to apply them. We can then use it for improving our open source compilers. Also it would be very nice if you can send me textual description of all the optimizations you made.</p>

<hr>
<h4 id="q8-how-i-will-test-your-solutions">Q8: <em>How I will test your solutions?</em></h4>

<p><strong>A8</strong>: I will take your sources, build them on my machine and run the benchmark. I will run your binary multiple times (depends on the running time) and <a href="http://blog.kevmod.com/2016/06/benchmarking-minimum-vs-average/">take the minimum</a>. I‚Äôm thinking about testing all the solutions on some cloud machine, but that‚Äôs not settled yet.</p>

<hr>
<h4 id="q9-how-i-will-select-the-winner">Q9: <em>How I will select the winner?</em></h4>

<p><strong>A9</strong>: I will calculate your score as a ratio between execution time of the binary with your optimizations and the baseline.</p>

<hr>
<p>I know there is a lot more concerns you might have. This is just a first attempt with focus on learning how to do HW optimizations. In the end I don‚Äôt have real prizes to give out. :) After each contest I will share all the findings people did, so there is a big opportunity to learn from others! I know that a number of really experienced guys read this blog, so I encourage everyone to participate. Everyone is welcome!</p>

<p>All communication (including sending benchmarks and score submissions) will happen through emails, so <strong>make sure to subscribe</strong> using the form at the bottom of the page! I am planning to start first contest in the end of February 2019.</p>

<p>Let me know what you think about it or if you have any ideas or comments. You can also vote if you like it using the buttons below.</p>

<h3 id="how-to-get-started">How to get started?</h3>

<ol>
  <li>Collect the baseline (use <code>time</code> or analogs).</li>
  <li>Find the hotspot (use <code>perf record</code>).</li>
  <li>Find performance headroom
    <ul>
      <li>Take a look at the assembly and try to guess how you can do better.</li>
      <li>Run through <a href="https://easyperf.net/blog/2019/02/09/Top-Down-performance-analysis-methodology">TMAM</a> process.</li>
    </ul>
  </li>
  <li>Build the benchmark, run it and compare against baseline.</li>
</ol>

<h3 id="hints">Hints</h3>

<ul>
  <li>Do not try to understand the whole benchmark. For some people (including me) it‚Äôs crucial to understand how every peace of code works. For the purposes of optimizing it will be wasted effort. There are CPU benchmarks with thousands LOC (like <a href="http://spec.org/cpu2017/">SPEC2017</a>) it‚Äôs absoultely impossible to understand them in a reasonable time. What you need to familiarize yourself with are hotspots. That‚Äôs it. You most likely need to understand one function/loop which is not more than 100 LOC.</li>
  <li>You have specific workload for which you optimize the benchmark. You don‚Äôt need to optimize it for any other input/workload. The main principle behind <a href="https://en.wikipedia.org/wiki/Data-oriented_design">Data-oriented design</a> is that you know the data of your application.</li>
</ul>

<p>Information presented in llvm documentation: <a href="https://llvm.org/docs/Benchmarking.html">Benchmarking tips</a> migth also be helpful.</p>

<h3 id="list-of-contest-editions">List of contest editions</h3>

<ul>
  <li><a href="https://easyperf.net/blog/2019/02/16/Performance-optimization-contest-1">Contest #1</a> - 16 Feb 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/04/10/Performance-analysis-and-tuning-contest-2">Contest #2</a> - 10 Apr 2019.</li>
  <li><a href="https://easyperf.net/blog/2019/05/28/Performance-analysis-and-tuning-contest-3">Contest #3</a> - 28 May 2019.</li>
  <li><a href="https://easyperf.net/blog/2021/02/05/Performance-analysis-and-tuning-contest-4">Contest #4</a> - 05 Feb 2021.</li>
</ul>

			</div></div>]]>
            </description>
            <link>https://easyperf.net/blog/2019/02/02/Performance-optimization-contest</link>
            <guid isPermaLink="false">hacker-news-small-sites-26149436</guid>
            <pubDate>Tue, 16 Feb 2021 00:09:28 GMT</pubDate>
        </item>
    </channel>
</rss>
