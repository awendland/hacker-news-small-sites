<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>
<![CDATA[Hacker News - Small Sites - Score >= 5]]>
        </title>
        <description>
<![CDATA[Hacker News stories from domains that aren't in the top 1M and that have a score of at least 5. Updated nightly via https://github.com/awendland/hacker-news-small-sites]]>
        </description>
        <link>https://news.ycombinator.com</link>
        <generator>RSS for Node</generator>
        <lastBuildDate>Mon, 28 Dec 2020 20:36:43 GMT</lastBuildDate>
        <atom:link href="https://raw.githubusercontent.com/awendland/hacker-news-small-sites/generated/feeds/hn-small-sites-score-5.xml" rel="self" type="application/rss+xml"></atom:link>
        <pubDate>Mon, 28 Dec 2020 20:36:43 GMT</pubDate>
        <language>
<![CDATA[en-US]]>
        </language>
        <managingEditor>
<![CDATA[me@alexwendland.com (Alex Wendland)]]>
        </managingEditor>
        <ttl>240</ttl>
        <item>
            <title>
<![CDATA[Start Contributing to Open Source Software]]>
            </title>
            <description>
<![CDATA[
Score 9 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25547724">thread link</a>) | @fagnerbrack
<br/>
December 26, 2020 | https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now | <a href="https://web.archive.org/web/*/https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><figure> <figcaption>I know you want to. - Photo by Author </figcaption></figure> <p>You might not be aware of it, but you use some form of open source software every single day.</p> <p>Every time you start an app on your phone or launch a program on your computer, you profit from the code that someone has written for free.</p> <p>WordPress, the largest and most well-known content management system, is used by <a href="https://w3techs.com/technologies/details/cm-wordpress" rel="nofollow">38% of all websites</a> worldwide. It is open source and free to use.</p> <p>Linux is powering <a href="https://w3techs.com/technologies/details/os-linux" rel="nofollow">30% of all websites</a> globally. It is open source and free to use.</p> <p>These are just two examples out of a myriad of projects which were created to solve a problem or serve a use case.</p> <p>These projects became highly popular as communities formed around them. They tried to deliver the best product possible in terms of user experience, stability, security, and more.</p> <p>But not only the usage of open source projects is rising. The participation in the open source movement as a whole is growing as well.</p> <p>According to the <a href="https://octoverse.github.com/" rel="nofollow">State of the Octoverse report</a> by GitHub, out of more than 40 million developers on GitHub, 10 million new&nbsp;users joined in 2019 alone!</p> <p>The open source movement is growing quickly and you should become a part of it too.</p> <p>Whenever I see a new update for my operating system or new software releases of tools that I actively use every day, it makes me smile. I enjoy the thought of products continuously getting better and more sophisticated.</p> <p>Do you feel the same way?</p> <p>Here is why I am convinced that you should start contributing to open source software right now.</p> <h2>You can learn a lot from the source code</h2> <p>Since the source code in open source projects is available for anyone to read, that means that a large number of developers can battle-test and improve a project.</p> <p>Developers point out privacy or security issues, update the documentation, and improve source code to the newest web development standards all the time.</p> <p>Especially when you go through the code of projects with hundreds or even thousands of contributors, you can gain immense knowledge about best practices and code quality.</p> <p>Not only is reviewing the code itself a learning experience, but also the structure and folder hierarchy in larger projects is well thought-out and works well in the long run.</p> <h2>You will work with the smartest people</h2> <p>Compared to a company that has a limited number of employees to work on feature requests and bug fixes, you have the brightest minds working in open source development.</p> <p>In my imagination, I see it as swarm intelligence, which can solve every problem that arises.</p> <p>The more people that join a community, the better a project can scale. It can be like a buzzing beehive, where you could have pull requests to a codebase from users all around the world 24/7, non-stop.</p> <p>A good example is the well-known code editor <a href="https://github.com/microsoft/vscode" rel="nofollow">Visual Studio Code</a> which got very popular with a total of 1,200+ contributors on GitHub.</p> <p>You won’t see a single day without any pull requests on GitHub and the monthly release cycles always bring out new amazing features.</p> <p>When you participate in a project and submit a pull request, you will receive extremely helpful feedback from highly experienced maintainers. You can then implement that feedback to grow as a developer.</p> <h2>Your own code could be used globally</h2> <p>Since some software development projects are used by millions of users daily, it can be very rewarding to see your own code helping so many people.</p> <p>I wrote lint rules for the JavaScript projects called <a href="https://github.com/sindresorhus/eslint-plugin-unicorn" rel="nofollow">eslint-plugin-unicorn</a> and <a href="https://github.com/sveltejs/svelte" rel="nofollow">svelte</a>. It’s a great feeling knowing that my pull request will improve the code quality of many developers all around the world.</p> <p>From my personal experience, it is also motivating to get positive feedback in the form of a thankful comment.</p> <h2>Open source projects are inclusive</h2> <p>A great advantage of free open source software is that no one is excluded from using the product because they can’t afford it.</p> <p>While some open source projects cost money to use, most do not.</p> <p>Also, when you’re contributing to a project on GitHub, many of the bigger repositories have a code of conduct. These make sure that every contributor feels welcome and accepted in a project.</p> <h2>Projects are starting to become sustainable</h2> <p>The main goal of a company is to become profitable - which often leads to questionable decisions. But open source software focuses on solving the needs of its users as the highest priority.</p> <p>Most projects are entirely volunteer-supported, and project maintainers will unfortunately never see any financial reward. But there are great ways nowadays that you can help make these projects sustainable.</p> <p>With websites like <a href="https://opencollective.com/" rel="nofollow">OpenCollective</a>&nbsp;or <a href="https://github.com/sponsors" rel="nofollow">GitHub Sponsors</a>, you can donate to speed up the development of projects that you like.</p> <p>Personally, I think that it would be great if every company donated at least a small sum to open source software projects because they profit from these tools daily. Such support would reduce the stress for a lot of maintainers and some could even take up the work full-time.</p> <h2>How to contribute to open source</h2> <p>Contributing to open source development sounds more scary than it really is. There are plenty of projects out there on GitHub which encourage first time contributors and newbies to take action by labeling issues as “Good first issue”, “Beginner friendly” or “Help wanted”.</p> <p>Don’t know where to start?</p> <p>Ask yourself: what is an application that you enjoy using every day and where you would want to give back?</p> <p>It can be as simple as searching for that application on GitHub and looking through the open issues.</p> <p>It doesn’t have to be a code contribution, either - you can also help out by creating a pull request to update the documentation, fix typos that you find, or by doing a thorough code review.</p> <p>The <code>README.md</code> file of a project usually includes a passage of how to contribute.</p> <p>If you decide to contribute to a project, I recommend reading my article about&nbsp;<a href="https://markushatvan.com/blog/contributing-to-open-source-projects-the-right-way">Contributing To Open Source Projects The Right Way</a>. It’s a detailed step-by-step guide about the contribution workflow.</p> <p>I wrote it to be very beginner friendly, so don’t worry about becoming overwhelmed. You will be able to find your first project and submit a contribution in no time!</p> <h2>Wrapping up</h2> <p>It always impressed me that everyone in the world can join an open source software project and work on it.</p> <p>And open source software only works as a collaborative effort. The goal is to produce the best product or service without compromising on important factors like stability, security, or user privacy.</p> <p>I hope you understand the importance of open source software and that you value its benefits. No matter what your reasons are for giving back to the open source community, just know that you are highly appreciated!</p> <p>Many projects can only thrive with support and contributions from developers like you.</p> <h2>Helpful resources</h2> <ul><li><a href="https://octoverse.github.com/" rel="nofollow">The State of the Octoverse</a></li> <li><a href="https://opensource.com/resources/what-open-source" rel="nofollow">What is open source?</a></li> <li><a href="https://clearcode.cc/blog/why-developers-contribute-open-source-software/" rel="nofollow">What Motivates a Developer to Contribute to Open-Source Software?</a></li></ul> <div><p><b>If you liked this post, share it:</b></p> <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Facebook"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" key="path-0"></path> </svg></a> <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now&amp;title=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now&amp;summary=The%20open%20source%20movement%20is%20growing%20quickly%20and%20you%20should%20become%20a%20part%20of%20it%20too.&amp;source=LinkedIn" rel="noopener noreferrer" target="_blank" title="Share on LinkedIn"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 448 512" width="21"> <path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" key="path-0"></path> </svg></a> <a href="https://twitter.com/intent/tweet?text=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now&amp;url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Twitter"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" key="path-0"></path> </svg></a> <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now&amp;title=Why%20You%20Should%20Start%20Contributing%20to%20Open%20Source%20Software%20Right%20Now" rel="noopener noreferrer" target="_blank" title="Share on Reddit"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 512 512" width="24"> <path d="M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z" key="path-0"></path> </svg></a> <a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fmarkushatvan.com%2Fblog%2Fwhy-you-should-start-contributing-to-open-source-software-right-now" rel="noopener noreferrer" target="_blank" title="Share on Pinterest"><svg height="24" role="presentation" style="font-size:1.5em" version="1.1" viewBox="0 0 496 512" width="23.25"> <path d="M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z" key="path-0"></path> </svg></a></div>   </article></div>]]>
            </description>
            <link>https://markushatvan.com/blog/why-you-should-start-contributing-to-open-source-software-right-now</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547724</guid>
            <pubDate>Sun, 27 Dec 2020 00:40:24 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[API pagination design]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 61 (<a href="https://news.ycombinator.com/item?id=25547716">thread link</a>) | @fagnerbrack
<br/>
December 26, 2020 | https://solovyov.net/blog/2020/api-pagination-design/ | <a href="https://web.archive.org/web/*/https://solovyov.net/blog/2020/api-pagination-design/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="content"><p>Returning all results for a given query could be a challenge for an API, especially if there are thousands of results. It puts a load on a server, on a client, on a network, and often is unnecessary. Thus people invented pagination.</p>
<p>The usual way to paginate is an offset or a page number. So you make a request like that:</p>
<pre><code>GET /api/products?page=10
{"items": [...100 products]}
</code></pre>
<p>and to continue you make a request like that:</p>
<pre><code>GET /api/products?page=11
{"items": [...another 100 products]}
</code></pre>
<p>In case of a simple offset it’ll look like <code>?offset=1000</code> and <code>?offset=1100</code> — it’s the same old soup, just reheated. It’ll either go straight into SQL query like <code>OFFSET 1000 LIMIT 100</code> or will be multiplied by page size (that <code>LIMIT</code> value). In any case, it’s a suboptimal solution, since every database has to skip that 1000 rows. And to skip them it needs to identify them. It does not matter if it’s PostgreSQL, or ElasticSearch, or MongoDB, it’ll have to order them, count them, and throw them away.</p>
<p>This is a kind of work which no one needs. But it repeats over and over again since it’s <em>easy</em> to implement — you directly map your API onto your query to a database.</p>
<p>What do you do then? We could look at what databases do! They have this concept, called <a href="https://en.wikipedia.org/wiki/Cursor_(databases)">cursor</a> — it’s a pointer to a row. So you can say to a database “return me 100 rows after <strong>that</strong> one”. And it’s much easier for a database to do since there is a good chance that you’ll identify the row by a field with an index. And suddenly you don’t need to fetch and skip those rows, you’ll go directly past them.</p>
<p>An example:</p>
<pre><code>GET /api/products
{"items": [...100 products],
 "cursor": "qWe"}
</code></pre>
<p>API returns an (opaque) string, which you can use then to retrieve the next page:</p>
<pre><code>GET /api/products?cursor=qWe
{"items": [...100 products],
 "cursor": "qWr"}
</code></pre>
<p>Implementation-wise there are many options. Generally, you have some ordering criteria, for example, product id. In this case, you’ll encode your product id with some reversible algorithm (let’s say <a href="https://hashids.org/">hashids</a>). And on receiving a request with the cursor you decode it and generate a query like <code>WHERE id &gt; :cursor LIMIT 100</code>.</p>
<p>Just a little performance comparison, look at how offsets work:</p>
<pre><code>=# explain analyze select id from product offset 10000 limit 100;
                                                           QUERY PLAN                                                            
---------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=1114.26..1125.40 rows=100 width=4) (actual time=39.431..39.561 rows=100 loops=1)
   -&gt;  Seq Scan on product  (cost=0.00..1274406.22 rows=11437243 width=4) (actual time=0.015..39.123 rows=10100 loops=1)
 Planning Time: 0.117 ms
 Execution Time: 39.589 ms
</code></pre>
<p>And how where works:</p>
<pre><code>=# explain analyze select id from product where id &gt; 10000 limit 100;
                                                          QUERY PLAN                                                          
------------------------------------------------------------------------------------------------------------------------------
 Limit  (cost=0.00..11.40 rows=100 width=4) (actual time=0.016..0.067 rows=100 loops=1)
   -&gt;  Seq Scan on product  (cost=0.00..1302999.32 rows=11429082 width=4) (actual time=0.015..0.052 rows=100 loops=1)
         Filter: (id &gt; 10000)
 Planning Time: 0.164 ms
 Execution Time: 0.094 ms
</code></pre>
<p>That is a difference of several orders of magnitude! Of course, the actual numbers depend on a size of a table, on your filters and on a store implementation. There <a href="https://use-the-index-luke.com/no-offset">a great article</a> with more technical information - there are slides embedded, see slide 42 for performance comparison.</p>
<p>Of course, nobody orders products by an id — you usually order them by some relevancy (and then by id as a <a href="https://stackoverflow.com/a/17330992/46854">tie breaker</a>). In the real world, you’ll have to look at your data to determine what to do. Orders can be ordered by id (as it’s monotonically increasing). Wishlist items can be ordered like that as well — by wishlisting time. In our case products come from ElasticSearch, which naturally supports this cursor stuff.</p>
<p>One deficiency you can see is that it’s impossible to generate a “previous page” link with a stateless API. So in case of a user-facing pagination, if it’s important to have prev/next and “go directly to page 10” buttons there is no way around this offset/limit stuff. But in other cases using cursor-based pagination can greatly improve performance, especially on really big tables with really deep pagination.</p>
</div></div>]]>
            </description>
            <link>https://solovyov.net/blog/2020/api-pagination-design/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547716</guid>
            <pubDate>Sun, 27 Dec 2020 00:38:53 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[How to backup and decrypt Signal for iPhone message history]]>
            </title>
            <description>
<![CDATA[
Score 18 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25547699">thread link</a>) | @jonnytran
<br/>
December 26, 2020 | https://cight.co/backup-signal-ios-jailbreak/ | <a href="https://web.archive.org/web/*/https://cight.co/backup-signal-ios-jailbreak/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
                <div>
                    <p>I started using Signal 5 years ago as I became increasingly conscious of my data footprint. Around the same time, I closed my Facebook and Instagram accounts, and later, my Google Account.</p><h2 id="the-problem-with-signal">The problem with Signal</h2><p>Signal makes it very difficult, and in most cases, impossible, for one to back up, export, or migrate message data. The Signal team insists these restrictions are meant to protect users’ privacy. However, backup and migration policies differ for each official Signal client and sometimes contradict each other.</p><p>For example, while iOS offers no official backups process, Android backups are built into the app. At the same time, iOS users can migrate their data to a new device (as long as their phone number hasn’t changed), but this is impossible on Android. Meanwhile, decrypting messages from the desktop client is trivial, but linking one’s phone and desktop client only syncs messages forward in time.</p><h2 id="why-export-signal-s-message-history">Why export Signal's message history</h2><p>Because it’s my fucking data.</p><p>The road to exporting my data was long, frustrating and filled with dead ends – it took over a year to get here. What's paradoxical is that someone else's phone turned out to be the key to my data. </p><p>In recent years, I moved most of my conversations to Signal, including those with family and close friends. Shortly after we started dating, I asked my partner to switch to Signal, and we’ve used it exclusively ever since. At some point, I thought it would be nice to export our conversation history – a sort of time capsule of our relationship. “Easy,” I thought. I was wrong.</p><p>Since we started dating, I had switched from a OnePlus 2 to an iPhone XS Max. And since migrating from Android to iOS isn’t possible, part of our conversation history was locked on my old phone. Jailbreaking the iPhone was out of the question since my version of iOS had not been jailbreaken. The Signal Desktop client could have offered an easy avenue to decrypt our chat history, but there was a period of several months during which I had not linked my iPhone to the Signal desktop client.</p><p>I opened a <a href="https://community.signalusers.org/t/ios-backups-through-the-desktop-client/8123">thread about this in the Signal Community Forum</a> in June of 2019. It quickly became apparent that backing up my Signal data would be an uphill battle. </p><p>Luckily, my partner had an iPhone 7, which she recently replaced with a company phone. Her old iPhone contained our entire message history in one place and was easy to jailbreak. Jackpot.</p><p>One important lesson I learned during this process:<strong> to ensure access to your conversation history, install the Desktop client and link it to your mobile device as soon as you start using Signal. </strong>The Signal database and encryption key are both accessible on your computer, allowing for easy decryption. Linking the desktop client later will only sync messages forward in time from the moment the devices are linked.</p><h2 id="tips-to-increase-your-chances-of-exporting-your-signal-database">Tips to increase your chances of exporting your Signal database</h2><p>If you haven’t linked the desktop client and extracting the iOS database is your only option, this guide is for you. If you've decided to embark upon this journey, here's some advice. </p><h3 id="stop-updating-ios">Stop updating iOS</h3><p>Your best chance of jailbreaking iOS is on older firmware versions. Turn off automatic updates and decline prompts to update iOS.</p><h3 id="backup-shsh-blobs-with-every-new-ios-update">Backup SHSH blobs with every new iOS update</h3><p><a href="https://en.wikipedia.org/wiki/SHSH_blob">SHSH blobs</a> are the digital signatures that Apple generates and uses to personalize iOS firmware files for each iOS device. Apple only signs firmware updates for a limited time after release. Having these signatures handy allows one to install versions of iOS after Apple stops signing them – like when a jailbreak becomes available for that version. In some cases, you may be able to downgrade iOS to a previous version.</p><p>Backup SHSH blobs every time Apple releases a new version of iOS (e.g., 14.0, 14.1, 14.1.1). I personally use the <a href="https://github.com/airsquared/blobsaver">blobsaver</a> app, but <a href="https://tsssaver.1conan.com/v2/">TSS Saver</a> is a popular alternative.</p><h3 id="learn-about-jailbreaking-and-stay-up-to-date-on-developments">Learn about jailbreaking and stay up to date on developments</h3><p>Developers and hackers are constantly working to break the security of iOS, and new methods to jailbreak iPhones are frequently made public. Stay informed on jailbreak releases by following the <a href="https://www.reddit.com/r/jailbreak/">/r/jailbreak subreddit</a>.</p><p>This <a href="https://docs.google.com/spreadsheets/d/11DABHIIqwYQKj1L83AK9ywk_hYMjEkcaxpIg6phbTf0/edit#gid=1014970938">exhaustive list of jailbreak compatibility</a> by device and iOS version is also a great resource.</p><p>It's also useful to understand the difference between <a href="https://www.theiphonewiki.com/wiki/Untethered_jailbreak">untethered</a>, <a href="https://www.theiphonewiki.com/wiki/Semi-untethered_jailbreak">semi-untethered</a>, <a href="https://www.theiphonewiki.com/wiki/Semi-tethered_jailbreak">semi-tethered</a>, and <a href="https://www.theiphonewiki.com/wiki/Tethered_jailbreak">tethered</a> jailbreaks.</p><h3 id="recognize-that-this-may-not-work">Recognize that this may not work</h3><p>Depending on your iPhone, you might never be able to jailbreak it or extract Signals decryption key from the iOS Keychain. Apple is making it increasingly difficult to jailbreak iOS devices – improvements to hardware and software are leaving fewer cracks for hackers to exploit.</p><p>Ok, let's get our hands dirty. </p><h2 id="how-to-maybe-backup-signal-for-iphone">How to (maybe) backup Signal for iPhone </h2><p>This guide explains how I was able to backup and extract data from Signal's encrypted SQLite database on an iPhone 7 with iOS 13.6.1. </p><h3 id="prerequisites">Prerequisites </h3><ul><li>Physical access to the iPhone with Signal still installed</li><li>An original iPhone cable</li><li>A Mac or Linux computer</li><li>Patience and a bit of luck</li></ul><p>Shell environments will be differentiated as such. </p><pre><code>// Host machine
$ &lt;command&gt;

// iPhone 
root# &lt;command&gt;</code></pre><h3 id="step-1-jailbreak-ios">Step 1: Jailbreak iOS</h3><p>For iOS 13.6.1 on an iPhone 7, I used <strong>checkra1n</strong> which offers a straight forward semi-tethered jailbreak. Depending on the iPhone device and version of iOS, a jailbreak may or may not be available. </p><p>See this <a href="https://docs.google.com/spreadsheets/d/11DABHIIqwYQKj1L83AK9ywk_hYMjEkcaxpIg6phbTf0/edit#gid=1014970938">updated list of iOS jailbreaks</a> for device compatibility and instructions. </p><h3 id="step-2-ssh-into-the-iphone">Step 2: SSH into the iPhone </h3><p>Cydia usually comes with OpenSSH installed and enabled, allowing shell access over IP or USB. If SSH access isn't activated, launch Cydia and install OpenSSH. </p><p><strong>As always, the root password on iOS is <code>alpine</code>.</strong></p><p>If the iPhone and the host machine are on the same network, SSH into the phone using its IP address. It may be found in the phone's WiFi settings. </p><pre><code>$ ssh root@[iphone ip] -p 22</code></pre><p>If SSH over the air isn't possible, USB may be an alternative. However, this involves enabling a proxy service on the host machine.</p><p>First, install <em><em>libimobiledevice</em></em> on the host machine. </p><pre><code>$ brew install libimobiledevice</code></pre><p>Then, edit <em><em>com.usbmux.iproxy.plist</em></em> and append the following XML to the file. </p><pre><code>$ nano ~/Library/LaunchAgents/com.usbmux.iproxy.plist</code></pre><pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
&lt;dict&gt;
&lt;key&gt;Label&lt;/key&gt;
&lt;string&gt;com.usbmux.iproxy&lt;/string&gt;
&lt;key&gt;ProgramArguments&lt;/key&gt;
&lt;array&gt;
&lt;string&gt;/usr/local/bin/iproxy&lt;/string&gt;
&lt;string&gt;2222&lt;/string&gt;
&lt;string&gt;22&lt;/string&gt;
&lt;/array&gt;
&lt;key&gt;RunAtLoad&lt;/key&gt;
&lt;true/&gt;
&lt;key&gt;KeepAlive&lt;/key&gt;
&lt;true/&gt;
&lt;/dict&gt;</code></pre><p>And finally, launch the proxy on the host machine. </p><pre><code>$ launchctl load ~/Library/LaunchAgents/com.usbmux.iproxy.plist</code></pre><p>It should now be possible to SSH into the iPhone over USB on port <code>2222</code>.</p><pre><code>$ ssh root@localhost -p 2222</code></pre><h3 id="step-3-install-required-packages">Step 3: Install required packages </h3><p>Once logged into to the iPhone's shell, install the following packages as they will come in handy. </p><pre><code>root# apt install zip unzip nano wget</code></pre><h3 id="step-4-backup-the-signal-data-directory">Step 4: Backup the Signal data directory</h3><p><strong>Locate Signal's data directory</strong></p><p>Much like macOS, iOS stores application data in a <em>Library</em>-like directory. In iOS&nbsp;13, its located here <code>/private/var/mobile/Containers/Shared/AppGroup/</code>. </p><p>Signal's data directory contains the encrypted SQLite database file in <code>./grdb/signal.sqilte</code> and attachments, such as images and videos in <code>./Attachments</code>.</p><p>The data directory may be found by searching the filesystem for Signal's encrypted database file, <code>signal.sqlite</code>.</p><pre><code>root# find / -type f -iname "signal.sqlite"</code></pre><p>That should return something which looks like this:<br><code>/private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/grdb/signal.sqlite</code> </p><p>The Signal directory is: <code>/private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/</code></p><p><strong>Zip the Signal directory</strong></p><p>It is recommended to zip the entire directory, not only the database file, as it also contains images and other message attachments. This archive can reach several gigabytes.</p><pre><code>root# cd /private/var/mobile/Containers/Shared/AppGroup/
root# zip -r signal-backup.zip &lt;Signal directory&gt;

# ex: zip -r signal-backup.zip /private/var/mobile/Containers/Shared/AppGroup/01484069-3446-4CC0-8BE7-7464E7D08FDF/</code></pre><p><strong>Retrieve the backup on the host machine</strong></p><p>In a new terminal session on the host machine, use <code>scp</code> to copy the backup. </p><pre><code>$ scp -P 22 root@localhost:/private/var/mobile/Containers/Shared/AppGroup/signal-backup.zip ~/</code></pre><p>Once complete, verify that the backup has fully transferred by unpacking it.</p><p>This is the most complex part of this operation and it helps to have a basic understanding of core iOS development concepts.</p><p><strong>Understanding iOS Entitlements </strong></p><p>From the <a href="https://developer.apple.com/documentation/bundleresources/entitlements">Apple Developer Documentation</a>: </p><blockquote>An entitlement is a right or privilege that grants an executable particular capabilities. For example, an app needs the HomeKit Entitlement — along with explicit user consent — to access a user’s home automation network. An app stores its entitlements as key-value pairs embedded in the code signature of its binary executable.</blockquote><p><strong>Enter Keychain Dumper</strong></p><p>We will use <a href="https://github.com/ptoomey3/Keychain-Dumper"><strong>Keychain-Dumper</strong></a> to attempt extracting the Signal encryption key. It requires entitlements to access Keychain data for any particular app. </p><p>Reading through Keychain-Dumper's GitHub issues, I learned that entitlements changed in iOS 13.5 – prior to this version, an application <a href="https://github.com/ptoomey3/Keychain-Dumper/issues/52#issuecomment-638174691">could be given wildcard entitlements</a>. Changes in 13.5 made it such that apps need specific entitlements. Thankfully, it's possible to update an executable's entitlements, even as a binary.</p><p>The <code>keychain_dumper</code> binary included in its <a href="https://github.com/ptoomey3/Keychain-Dumper">GitHub repo</a> has wildcard entitlements. We'll need to update them in order to give it permission to decrypt the Signal key.</p><p><strong>Install Keychain Dumper on the iPhone</strong></p><p>Back on the iPhone, download and extract the <a href="https://github.com/ptoomey3/Keychain-Dumper/releases/tag/1.0.0">keychain_dumper binary</a>, and move it to <code>/usr/bin</code>.</p><pre><code>root# wget https://github.com/ptoomey3/Keychain-Dumper/releases/download/1.0.0/keychain_dumper-1.0.0.zip
root# unzip keychain_dumper-1.0.0.zip
root# mv keychain_dumper /usr/bin</code></pre><p><strong>Update <em>keychain_dumper</em>'s …</strong></p></div></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://cight.co/backup-signal-ios-jailbreak/">https://cight.co/backup-signal-ios-jailbreak/</a></em></p>]]>
            </description>
            <link>https://cight.co/backup-signal-ios-jailbreak/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547699</guid>
            <pubDate>Sun, 27 Dec 2020 00:36:15 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Kit FUI – User interfaces found in films]]>
            </title>
            <description>
<![CDATA[
Score 96 | Comments 17 (<a href="https://news.ycombinator.com/item?id=25547352">thread link</a>) | @ChrisArchitect
<br/>
December 26, 2020 | https://www.saji8k.com/kit-fui/ | <a href="https://web.archive.org/web/*/https://www.saji8k.com/kit-fui/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<div>
				
				<p>User interfaces from film, television, video games and the designers that created them.</p>
				<p>Keep track of updates to Kit FUI on my <a href="https://www.saji8k.com/blog/">blog</a> or by following me on <a href="https://twitter.com/saji8k">Twitter</a> or <a href="https://www.facebook.com/saji8k">Facebook</a>.</p>
				<p>If you have suggestions for the site or would like to submit your work, send me a <a href="https://twitter.com/saji8k">tweet</a>.</p>
			</div>
		</div><div>
			<div>
				<h3>What is FUI?</h3>
				<p>Fantasy User Interfaces, Fictional User Interfaces, Fake User Interfaces, Futuristic User Interfaces, Film User Interfaces, Future User Interfaces. Regardless of what the F stands for, they all represent the same thing, the user interfaces (UIs) and heads up displays (HUDs) found in many popular movies and television shows.</p>
				<p>Most FUIs are not actual computer programs but simply animations being played back at the correct time or added in post production. These graphics and animations are designed in applications like Adobe Illustrator, Adobe After Effects and Maxon Cinema 4D.</p>
			</div>
		</div></div>]]>
            </description>
            <link>https://www.saji8k.com/kit-fui/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547352</guid>
            <pubDate>Sat, 26 Dec 2020 23:34:03 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Run More Stuff in Docker]]>
            </title>
            <description>
<![CDATA[
Score 139 | Comments 178 (<a href="https://news.ycombinator.com/item?id=25547205">thread link</a>) | @psxuaw
<br/>
December 26, 2020 | https://jonathan.bergknoff.com/journal/run-more-stuff-in-docker/ | <a href="https://web.archive.org/web/*/https://jonathan.bergknoff.com/journal/run-more-stuff-in-docker/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
	
	<h6>
		<span>2020-03-10</span>

		
		<span>
			
			<a href="https://jonathan.bergknoff.com/tags/tech/">tech</a>
			
			<a href="https://jonathan.bergknoff.com/tags/programming/">programming</a>
			
		</span>
		
	</h6>
	<hr>
	<p>In 2020, <strong>Docker is the best medium for distributing and running most developer-facing software</strong>. It’s widely accepted that Docker is great for building and deploying the artifacts for your enterprise web app, but this is less well known when it comes to things like developer tools. However, running tools in containers has many benefits over installing and running them in the conventional way, and we should all start doing it more.</p>
<h2 id="why">Why?</h2>
<p>I install very few things on either my personal or work computer. I don’t have <code>terraform</code>, <code>aws</code>, <code>node</code>, or <code>pip</code> installed, but I use them all the time. I have a Docker image for each, and I run them in containers with minimal privileges. I’m definitely <a href="https://github.com/jessfraz/dockerfiles">not the only one</a>, but it’s not as popular as it should be. None of these tools actually need full access to my computer to do their work, but that is normally how they’re run.</p>
<p>Here are some benefits of running these tools in Docker.</p>
<h4 id="cross-platform">Cross-platform</h4>
<p>At this point in time, Docker is ubiquitous and you get cross-platform support for free, thanks to Docker Inc’s investments in that area (Docker for Mac &amp; Windows). This is useful both for people developing/distributing tools, and for people working on a team that needs to share tooling. You have one Docker image and it will run pretty much everywhere. OS package managers can be great, but they’re very much not cross-platform. Things like <code>pip install</code> will sometimes work cross-platform, but have other serious drawbacks.</p>
<p>While every platform has its own sandboxing mechanisms, running with Docker lets you specify runtime context and enforce a sandbox in a cross-platform way, which is useful when you expect anybody else to run the same command as you.</p>
<h4 id="sandboxed">Sandboxed</h4>
<p>When you <code>docker run</code>, you have to be explicit about privileges. A container is mostly sandboxed and unprivileged by default. It doesn’t have access to ambient environment variables. It doesn’t have access to the host system’s disk. A tool like <code>jq</code> just needs to read stdin and print to stdout. It doesn’t need access to my shell’s environment variables (or, if it does, I explicitly pass those through to the container). <code>yarn</code> should be fine operating on just the working directory, and maybe a cache directory. I don’t want it to have access to my ~/.aws directory (for <a href="https://securityboulevard.com/2020/01/malicious-npm-package-exfiltrating-data-from-unix-systems/">obvious reasons</a>).</p>
<p>Some tools do need access to things. I want my <code>aws</code> CLI to be able to read ~/.aws, so I grant that explicitly. This makes running the tool more verbose but less magical.</p>
<h4 id="simple-uniform-interface">Simple, uniform interface</h4>
<p>Running a program in a container is a lot like running it normally, but the user doesn’t need to jump through hoops to configure the system, build and install. The developer of the image jumps through those hoops and produces a runnable artifact with a simple interface. That interface is the same whether the tool was written in Python or Rust or C or anything else.</p>
<p>Downloading a pre-compiled binary is almost like this, except with worse odds. Maybe there’s a build for your architecture. If it was statically linked, you’re golden. Otherwise, use <code>ldd</code> to reverse engineer the fact that you need to install <code>libjpeg</code>.</p>
<p>A Docker image “just works”. It comes bundled with what it needs to run.</p>
<p>If you think about it, it’s pretty strange to execute <a href="https://github.com/aws/aws-cli/tree/0b3d9a4260fdda5c6a8b736439e0776bc2252f41#installation"><code>pip install awscli</code></a>. It’s immaterial to an end user that the tool is written in Python, and requiring him or her to set up and use Python tooling doesn’t make sense. I don’t mean to pick on <code>pip</code> or <code>awscli</code> in particular, but this is a poor mechanism for distributing non-library software. It leaves <a href="https://github.com/aws/aws-cli/issues?q=is%3Aissue+pip">far too much to chance</a>. It’s a clumsy and leaky interface for tool distribution. So is <code>npm install</code>. So is telling somebody to install your tool by installing golang, and then running <code>go build</code>. No, thanks. If I’m hacking on the project, then by all means. But don’t foist that on end users.</p>
<h4 id="facilitates-version-pinning">Facilitates version pinning</h4>
<p>When collaborating, it’s important that people run the same versions of software to get consistent results. Version pinning is essential to that. Pinning dependency manifests is good, but it’s not enough: it only covers the one situation of installing things with a language package manager. It may not cover using the same linter version, or the same version of <code>node</code>, <code>aws</code>, <code>ansible</code>, <code>terraform</code>, or any libraries installed at the OS level. Invoking <code>docker run node:13.10.1</code>, instead of whatever the user happens to have installed as <code>node</code>, solves this problem in general. Having the ability to specify the versions at the point of use, rather than out-of-band as part of some other installation process, is also convenient and tidy.</p>
<p>It’s easy to run different versions of a tool side by side with Docker. Docker solves this more generally than things like virtualenv for Python, rvm for Ruby, etc. You specify what version of the tool to use when you’re invoking it, and it pins a whole lot of context more than just the tool’s version, which is always preferable for reproducibility.</p>
<p>In one recent situation at work, we had a test case start failing when we upgraded our runtime from Python 3.6.5 to Python 3.6.8. Having the ability to easily run the tests with any version of Python made it easy to bisect and identify a change in 3.6.7 as the cause. This could have been debugged without Docker, but it was particularly natural and easy with Docker.</p>
<h4 id="reproducible">Reproducible</h4>
<p>Invoking a tool with <code>docker run</code> should specify everything needed to reproducibly run it somewhere else. It’s running some specific version of the tool? Okay. It needs my AWS credentials? Okay. It needs some specific combination of environment variables set? Okay.</p>
<p>I cringe when I see a Makefile or build instructions saying to run <code>yarn</code> or <code>terraform</code> or <code>go</code>. What version? What’s being assumed about my environment? Maybe this worked on your <a href="https://martinfowler.com/bliki/SnowflakeServer.html">unique snowflake of a machine</a> 18 months ago, but good luck with it now. (My laptop is a unique snowflake too. Everyone’s is, until we all figure out how to use NixOS.)</p>
<p>Running tools in Docker, there are few expectations of the runtime environment beyond having Docker installed. All the other requirements should be made explicit in the <code>docker run</code> command. The command that you’re running locally will work the same on your colleague’s machine, and in any CI with minimal configuration (or none). This is absolutely critical, especially when working on a team. This is a far more robust approach than expecting (requiring) anybody’s system, or a CI slave, to be set up “just so”.</p>
<h4 id="minimizes-global-state">Minimizes global state</h4>
<p>I have very few things installed on my host system beyond the base OS. There’s less to remember when setting up a new machine, fewer things to go wrong during upgrades, and fewer opportunities for conflicts over shared libraries.</p>
<h2 id="examples">Examples</h2>
<h4 id="one-offs">One-offs</h4>
<p>I have bash aliases for a bunch of tools that I run all the time. These are just for my own convenience. For anything shared with other people, I’d use a project’s Makefile (see below).</p>
<ul>
<li>
<p><strong>Some basics</strong></p>
<pre><code>alias aws='docker run --rm -v ~/.aws:/.aws -v "$(pwd)":"$(pwd)" -w "$(pwd)" -u 1000:1000 -e AWS_PROFILE mikesir87/aws-cli:1.18.11 aws'
alias jq='docker run -i --rm jess/jq jq'
alias terraform='docker run -it --rm -v ~/.aws:/.aws -v "$(pwd)":"$(pwd)" -w "$(pwd)" -u 1000:1000 hashicorp/terraform:0.12.23'
</code></pre><p>With these aliases, I can <code>AWS_PROFILE=... aws sts get-caller-identity | jq -r .Arn</code> as if they were “really” installed.</p>
</li>
<li>
<p><strong>zoom</strong></p>
<p>Here’s zoom (video conferencing):</p>
<pre><code>alias zoom='xhost +local:docker \
    &amp;&amp; docker run -it --rm -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY \
    --device /dev/video0 --device /dev/snd:/dev/snd --device /dev/dri -v /dev/shm:/dev/shm \
    -v ~/.config/zoom/.zoom:/root/.zoom -v ~/.config/zoom/.config/zoomus.conf:/root/.config/zoomus.conf \
    jess/zoom-us'
</code></pre><p>Notice that <a href="https://medium.com/bugbountywriteup/zoom-zero-day-4-million-webcams-maybe-an-rce-just-get-them-to-visit-your-website-ac75c83f4ef5">port 19421</a> remains stubbornly closed unless we explicitly let the container claim it on the host.</p>
</li>
<li>
<p><strong>Snes9x</strong></p>
<p>I do this with other stuff, too. Here’s Snes9x (can you imagine <a href="http://www.snes9x.com/phpbb3/viewtopic.php?t=23603">installing it</a>?):</p>
<pre><code>alias snes9x='docker run -it --rm -u 1000:1000 -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY \
    -v /run/dbus:/run/dbus -v /dev/shm:/dev/shm \
    --device /dev/snd --device /dev/dri --device /dev/input/js0 \
    -e PULSE_SERVER=unix:$XDG_RUNTIME_DIR/pulse/native -v $XDG_RUNTIME_DIR/pulse/native:$XDG_RUNTIME_DIR/pulse/native \
    --group-add $(getent group audio | cut -d: -f3) \
    -v ~/.config/snes9x:/.snes9x/ -v ~/Games/SNES:/SNES -v ~/.local/share:/.local/share \
    danniel/snes9x'
</code></pre></li>
</ul>
<h4 id="projects">Projects</h4>
<p>For things that are project-specific, or in a team setting, all useful commands should be codified in something like a Makefile. This wraps the complexity and verbosity of the <code>docker run</code> incantations, makes it possible to share them easily, and makes them passably ergonomic.</p>
<ul>
<li>
<p><strong>hugo</strong></p>
<p>When I’m writing an article for this site, I run <code>make hugo-watch</code> and load http://localhost:1313 in a web browser:</p>
<pre><code>hugo = docker run --rm -u $$(id -u):$$(id -g) -v "$$(pwd)":/src -v "$$(pwd)"/output:/target $(2) klakegg/hugo:0.54.0-ext-alpine $(1)

hugo-watch:
    mkdir -p output
    $(call hugo, server, -it -p 1313:1313)
</code></pre></li>
<li>
<p><strong>prettier</strong></p>
<p>To format a JavaScript project, we might have the make targets</p>
<pre><code>prettier = docker run -i --rm -v "$$(pwd)":"$$(pwd)" -w "$$(pwd)" elnebuloso/prettier:1.19.1 $(1) "src/**/*.js"

format:
    $(call prettier)

format-check:
    $(call prettier, --check)
</code></pre><p>We would run <code>make format</code> to format the code and <code>make format-check</code> to check the style. It runs on my Linux box, it runs on my colleague’s Mac, and it runs in any Docker-equipped CI. None of those machines need to have <code>node</code>, <code>npm</code>, or <code>prettier</code> installed. We completely trivialize the issues of versioning and of synchronizing our environments: the version is specified once, here in the Makefile, and it’s obeyed everywhere.</p>
<p>In a language like Python, where libraries are forced to fight to the death for control of transitive dependency versions, lifting a tool like <code>black</code> or <code>flake8</code> out of the project’s requirements.txt, and into a self-contained Docker image, can be a big …</p></li></ul></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://jonathan.bergknoff.com/journal/run-more-stuff-in-docker/">https://jonathan.bergknoff.com/journal/run-more-stuff-in-docker/</a></em></p>]]>
            </description>
            <link>https://jonathan.bergknoff.com/journal/run-more-stuff-in-docker/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547205</guid>
            <pubDate>Sat, 26 Dec 2020 23:10:21 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lost nuclear device atop of Nanda Devi]]>
            </title>
            <description>
<![CDATA[
Score 164 | Comments 75 (<a href="https://news.ycombinator.com/item?id=25547123">thread link</a>) | @hudvin
<br/>
December 26, 2020 | https://www.livehistoryindia.com/cover-story/2020/09/18/nanda-devi-nuclear-device | <a href="https://web.archive.org/web/*/https://www.livehistoryindia.com/cover-story/2020/09/18/nanda-devi-nuclear-device">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                    <section>
                        <div id="container">
                          
  <div>
    


<div id="story-f889b712-c891-4d7d-b740-a08c112f512d" data-public-preview="">
  <article data-story-url="" data-story-content-id="f889b712-c891-4d7d-b740-a08c112f512d" data-story-version-id="f2394ab5-e6e4-492d-a5d0-8de23eb757bc" data-story-headline="Nanda Deviâ€™s Nuclear Secret and a Botched CIA Operation" data-loader="story">
    
          <div>
    <figure>
        <img src="https://images.assettype.com/indynetwork%2F2020-09%2Fde00724b-9ea2-4f38-82dc-ca78b3e6dee0%2FImage_9.jpg?w=1500">
    </figure>
</div>
<div>
  <div>
    
    <div itemprop="articleBody" data-story-content-id="f889b712-c891-4d7d-b740-a08c112f512d" data-story-version-id="f2394ab5-e6e4-492d-a5d0-8de23eb757bc">
      
                        
              <div data-card-content-id="efdfb573-ba3e-4852-b9ee-0486b7498411" data-card-version-id="49dda451-df77-4ea6-9f9b-3d28a0f6cf13">
        
      <div id="inf-card-b26a2f55-462c-4ea2-bbd2-fa63429051da" data-story-element-id="b26a2f55-462c-4ea2-bbd2-fa63429051da" data-story-element-type="text">
          <div>
    <p>The past few months have seen a rise in volatility along the Indo-Tibetan border, with the forces of both India and China coming to blows. While these events are extraordinary in present times, the border has witnessed far more heated exchanges, most notably during the 1962 <a href="https://www.livehistoryindia.com/in-the-news/2020/06/21/across-the-karakorams">Indo-China</a> War.</p><p>The unforgiving terrain that marks the frontier creates an additional dimension to the already complex nature of these clashes, whether in regard to more conventional manoeuvres, or other irregular military activity which is far more frequent. This is the story of the latter kind of action, that of daring espionage against Communist China, played for the highest stakes with the greatest risks.</p>
  </div>
</div>



      <div id="inf-card-33d483b8-2c77-4958-ae3b-52863623292b" data-story-element-id="33d483b8-2c77-4958-ae3b-52863623292b" data-story-element-type="text">
          <div>
    <p>Cold, harsh, inviolate. Straddling between the <a href="https://www.livehistoryindia.com/snapshort-histories/2017/06/21/kumaon-echoes-of-the-past">Kumaon</a> and Garhwal districts of Uttarakhand, deep in the Himalayas, stands Nanda Devi. The second-highest mountain in India, towering at an astonishing 25,646 feet, it is named after the patron goddess of Uttarakhandâ€” the mountain being her temporal manifestation.</p><p>Its unique topographical environment makes it one of the most inaccessible places on Earth. Surrounded on three sides by massive mountain rampartsâ€”its natural fortifications measuring at no point below 17,000 feetâ€” only the narrow and dangerously steep Rishi Ganga river gorge allows access to it. The mountain in itself is a citadel of rock and ice, with steep, angled faces and avalanche-prone ridges guarding its summit. Its immense proportions make it far tougher to climb than Everest. It is at once a supremely magnificent and terrifyingly intimidating mountain.</p>
  </div>
</div>



      <div id="inf-card-67773953-dcf2-46a7-97f1-a20310e389b8" data-story-element-id="67773953-dcf2-46a7-97f1-a20310e389b8" data-story-element-type="image">
  <div>
  <figure>
    <img alt="Map of the Nanda Devi Sanctuary, the thick hachures marking the semi-circular natural fortifications in the form of mountains that surround most of the Nanda Devi" src="https://images.assettype.com/indynetwork%2F2020-09%2F65d1a1da-2c67-4059-aeb0-c5437f7f191d%2FImage_3.jpg?w=1170">
  </figure>
              
  
</div></div>



      <div id="inf-card-ec4beaa1-a291-4fc9-9b8c-2d33f3d21e38" data-story-element-id="ec4beaa1-a291-4fc9-9b8c-2d33f3d21e38" data-story-element-type="text">
          <div>
    <p>For much of the 19th and early 20th century, before it was finally summited in 1936, it was considered to be the third pole â€“ a point of virtual inaccessibility. However, this awe-inspiring creation of nature shelters a device, abhorrent to nature, manufactured by man. Somewhere high on the harrowing slopes of Nanda Devi, buried deep in snow, lies a lost nuclear listening device slowly depleting its plutonium cores. Containing 5kg of plutonium â€“ 1 kg less than the nuclear bomb dropped on Nagasaki â€“ with a predicted lifespan of 900 years, this nuclear trespasser has been forfeited to the mountain forever.</p><p>This is the story behind one of the most audacious acts of espionage in the 20th century.</p>
  </div>
</div>



  </div>

              <div data-card-content-id="5350a04d-7e5b-48a5-9ccc-0c0b06771394" data-card-version-id="b82a93e5-a227-4175-b91c-b1fe616b5c7c">
        
      <div id="inf-card-d8876be2-71a7-431c-833b-2d0c39d14b6e" data-story-element-id="d8876be2-71a7-431c-833b-2d0c39d14b6e" data-story-element-type="text">
          <div>
    <p><strong>Cold War In High Places</strong></p><p>The year was 1965, and the Cold War was reaching its apogee, with America stretching its geopolitical reach to all corners of the world in order to counter the communist influence. Closer to home, the War of â€™62 had left India intensely wary of its neighbour, China. To add fuel to simmering embers, China carried out its first nuclear test in 1964 in Xinjiang, a province that borders the northern tip of India. In this atmosphere of intense mutual suspicion and paranoia, the Pentagon began concocting a plan that would help both India and America keep a closer eye on China, especially with regard to its nuclear programme.</p><p>With satellites that could gather useful photographic intelligence still a few years away, Americaâ€™s Central Intelligence Agency (CIA) along with the Indian Intelligence Bureau (IB) planned on placing a powerful listening device at a point of extreme prominence along the Indo-Tibetan border. The site where the device would be placed was key as it would need to have uninterrupted access in order to intercept Chinese radio signals. This meant it would have to be positioned on a mountain that was high as well as close to the Tibetan plateau. With an unparalleled height advantage and an unobstructed view of China from its summit, there was no better choice than Nanda Devi.</p>
  </div>
</div>



      <div id="inf-card-21631012-ab2e-4940-a233-267421b9382d" data-story-element-id="21631012-ab2e-4940-a233-267421b9382d" data-story-element-type="text">
        <div>
     <hr>
  <div>
    <blockquote>To ensure the longevity and endurance of the device, which was supposed to work at an altitude of nearly 26,000 feet, it was decided that it would be nuclear-powered. </blockquote>
  </div>
  <hr>
</div>
  </div>



      <div id="inf-card-ac913b24-39b9-4cc4-9553-78b1b163d63d" data-story-element-id="ac913b24-39b9-4cc4-9553-78b1b163d63d" data-story-element-type="text">
          <div>
    <p>A System for Nuclear Auxiliary Power (SNAP) generator was designed so that it would power the telemetry functions of the device, a power unit similar to the ones being used in space at the time.</p><p>It was within the SNAP that seven plutonium fuel rods would be stored, made from a compound of Pu-238 and Pu-239. Once activated, the SNAP would constantly be converting radioactive heat energy created by the rods into electricity, which would power the multiple-sensor device as well as its six-foot-long antenna.</p><p>With the technical aspect settled, the question of who would carry and set up all this equipment remained. Only two expeditions had summited the mountain up until then, and more than a few climbers had died. There was no doubt that only the very best mountaineers could be trusted to carry a nuclear payload up one of the most difficult mountains in the world.</p>
  </div>
</div>



  </div>

              <div data-card-content-id="5aeaa671-5f93-450a-971d-b5690e92888f" data-card-version-id="58f0cfc2-71cc-46c3-a836-d90e638e4071">
        
      <div id="inf-card-a3cc2b9a-78bd-4006-bf8a-64632fc034d2" data-story-element-id="a3cc2b9a-78bd-4006-bf8a-64632fc034d2" data-story-element-type="text">
          <p><strong>League of Extraordinary Climbers</strong></p>
</div>



      <div id="inf-card-44cd66b4-c4c0-4956-b7f2-a5354b09a54c" data-story-element-id="44cd66b4-c4c0-4956-b7f2-a5354b09a54c" data-story-element-type="image">
  <div>
  <figure>
    <img alt="Captain MS Kohli AVSM, leader of the covert climbing expeditions, now at the ripe old age of 88. " src="https://images.assettype.com/indynetwork%2F2020-09%2Faea6959e-2270-436f-bbd2-426467f4f81b%2FImage_8.jpg?w=1170">
  </figure>
              
  
</div></div>



      <div id="inf-card-9a85c853-4586-48c3-95f7-70072afd02f2" data-story-element-id="9a85c853-4586-48c3-95f7-70072afd02f2" data-story-element-type="text">
          <div>
    <p>A group of 14 American and four Indian mountaineers was assembled. In totality, they represented the cream of a mountaineering generation. Among the Americans, some of the more famous climbers were Dr Robert Schaller, Tom Frost and Jim McCarthy. The Indian contingent consisted of Captain M S Kohli, Sonam Wangyal, H C S Rawat and G S Bhangu. All four had been members of the successful 1965 Indian Everest Expedition, which had put a record nine climbers on the summit. They were in fact enlisted for this covert expedition just a few days after returning from Everest. Together, the entire group was no less than a mountaineering dream team.</p><p>After having sworn their respective oaths of secrecy, the climbing team was flown to Mount McKinley in Alaska, the highest mountain in North America, to prepare for the arduous expedition ahead. While all of them were without doubt among the most experienced climbers at the time, they were rather new to the more idiosyncratic aspect of the expedition â€“ that of dealing with nuclear material.</p><p>American climber Jim McCarthy was appointed as the designated member of the team who would handle the plutonium rods. Through the summer of 1965, officials from Americaâ€™s Atomic Energy Commission trained McCarthy to load and unload the device without disturbing its deadly occupant. Other team members were briefed on the dangers of their special load as well, and ways to ensure minimum exposure to the deadly radioactive isotopes.</p><p>All climbers were going to be paid $1,000 per month, a hefty amount in the 1960s. While there would be personal gratification from having been of service to their respective nations, they were on no account to tell anyone about the nature of their expedition. The cover for the entire team was that they were a joint Indo-American mountaineering team conducting research for high-altitude flight for the American Air Force. Before departing for India, the covert operation was finally given its official codename: Operation Hat.</p>
  </div>
</div>



      <div id="inf-card-368b8863-5e90-4a6b-8a7e-47a26beda04f" data-story-element-id="368b8863-5e90-4a6b-8a7e-47a26beda04f" data-story-element-type="image">
  <div>
  <figure>
    <img alt="A Nanda Devi Temple at Munsiyari. This particular temple, and itâ€™s idol inside, is among the oldest of Uttarakhand" src="https://images.assettype.com/indynetwork%2F2020-09%2F49dfca8c-132b-43f5-b063-81b86f25e855%2FImage_5.jpg?w=1170">
  </figure>
              
  
</div></div>



      <div id="inf-card-5a316079-59a0-4a73-9dd2-5edab677f0f6" data-story-element-id="5a316079-59a0-4a73-9dd2-5edab677f0f6" data-story-element-type="text">
          <div>
    <p><strong>Into the Sanctuary of the Goddess</strong></p><p>In an effort to attract minimal attention, most of the mountaineers were flown into base camp by helicopter in September 1965. However, the climbing equipment, rations, and of course the listening device itself â€” stored inside a solid lead casket â€” were transported in the time-honoured fashion, carried by nearly 150 <em>dotial</em> porters through the Rishi Ganga gorge. The special load did not go unnoticed among the porters, and apart from its unusual weight, many of them alleged to have felt heat emanating from the casket. Mounted on poles, some climbers later noted its uncanny resemblance to the Biblical Ark of the Covenant, in the manner it was transported as well as the supreme power it possessed.</p><p>After having established themselves at the base of the mountain, the mountaineers methodically began making their way up Nanda Devi. Establishing a series of camps along the climbing route, the team was finally positioned to make an attempt on the summit in the middle of October. It was then that catastrophe struck.</p><p>A violent storm hit the mountain and made it impossible to continue. The summit team, along with the device, was encamped just 2,000 feet below their objective. The extreme conditions, however, greatly endangered their position. Keeping in mind the extreme volatility of such storms, Captain Kohli â€” the leader of the climbing team â€” called for an immediate retreat.</p>
  </div>
</div>



  </div>

              <div data-card-content-id="65e7e1e4-a3b0-4ec4-9aaa-c4696502703a" data-card-version-id="344b6037-e7b7-4181-b199-8bea1745da05">
        
      <div id="inf-card-6d7e221c-28e2-4bd3-ac8f-475267b102e9" data-story-element-id="6d7e221c-28e2-4bd3-ac8f-475267b102e9" data-story-element-type="text">
          <div>
    <p>Carrying the 56 kg listening device in deteriorating weather conditions at 23,000 feet was going to be a Herculean task. Prioritising the need for a quick descent to minimise the risk to the lives of his fellow climbers, Kohli decided to ditch the equipment in the high camp. He reasoned that another expedition could always be mounted when weather conditions improved, in order to retrieve the device. On the other hand, the life of a fellow climber was irreplaceable.</p><p>Thus, with all the climbers having safely descended, the expedition came to an end. Being late in the year, the weather window to climb Nanda Devi was now closed. Any new expedition would have to bide their time till the following year. The nuclear device too, abandoned on a high precipice of the mountain, would have to wait.</p><p><strong>Plan B</strong></p><p>With the arrival of spring in 1966, a second expedition was launched to locate the equipment, and most importantly the nuclear device, that had been left the previous autumn. The composition of the climbing team was more or less the same, and soon they were scouring the slopes of Nanda Devi, trying to find their highly valuable and potentially dangerous belongings. But it was all …</p></div></div></div></div></div></div></article></div></div></div></section></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.livehistoryindia.com/cover-story/2020/09/18/nanda-devi-nuclear-device">https://www.livehistoryindia.com/cover-story/2020/09/18/nanda-devi-nuclear-device</a></em></p>]]>
            </description>
            <link>https://www.livehistoryindia.com/cover-story/2020/09/18/nanda-devi-nuclear-device</link>
            <guid isPermaLink="false">hacker-news-small-sites-25547123</guid>
            <pubDate>Sat, 26 Dec 2020 22:58:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I Made a Covid-19 Vaccine in My Kitchen and It Worked – Science Still Sucks]]>
            </title>
            <description>
<![CDATA[
Score 28 | Comments 28 (<a href="https://news.ycombinator.com/item?id=25546796">thread link</a>) | @emre
<br/>
December 26, 2020 | http://www.josiahzayner.com/2020/12/i-made-covid-19-vaccine-in-my-kitchen.html | <a href="https://web.archive.org/web/*/http://www.josiahzayner.com/2020/12/i-made-covid-19-vaccine-in-my-kitchen.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="post-body-9192139371851934751" itemprop="description articleBody">
<p><b><span><p><a href="https://1.bp.blogspot.com/-LHnH4HuYWBY/X9OyNLp5gfI/AAAAAAAAhjE/vuWyJAJ93qw38EegX5RH5_IaFtAXABxLgCLcBGAsYHQ/s2048/logo1.png"><img data-original-height="1809" data-original-width="2048" height="283" src="https://1.bp.blogspot.com/-LHnH4HuYWBY/X9OyNLp5gfI/AAAAAAAAhjE/vuWyJAJ93qw38EegX5RH5_IaFtAXABxLgCLcBGAsYHQ/w320-h283/logo1.png" title="Central Dogma Collective" width="320"></a></p><br>I hate science. It's so elitist.&nbsp;</span></b></p><p>I have an internal dialogue going all the time trying to convince myself that I don't want my work to be called science. What I do is completely different, more sacred, honest and open and yes sometimes flawed. Sometimes I hide the fact that I have a Ph.D. because I don’t want it to be a symbol of authority or intelligence for myself. It also feels douchey to tell people I have a Ph.D. I want to be judged by my actions, not where I went to school, which can be primarily determined by your parents financial status and education level. I grew up on a farm in rural Indiana. We ate eggs from our chickens and drank dehydrated milk. Up until even high school my family was dirt poor. We had our electricity shut-off and had to take cold showers. When we couldn't afford the phone bill, I walked to 7-11 and used the payphone to call my friends. Violence, evictions, car repossessions — you name it, I’ve lived it. Starting undergrad at SIU I was homeless and lived out of my car and slept on the dorm room floors of people I knew.&nbsp;</p><p>When I was in graduate school, 99% of my peers did not come from a similar background. It was abundantly clear that the practice of science and medicine is only accessible to the upper crust. That’s an issue in itself, but the <b><i>f</i></b><i><b>ucking humongous gigantic bigger problem</b></i> is that cutting-edge medicines are also only available to the societal elite. Time and time again throughout this pandemic, we’ve watched as the wealthy and powerful get all the unapproved drugs to treat their covid, while all of us peasants sit back and do our best not to die without them. The 108 Regeneron antibody cocktails all went to Washington DC.</p><p>That’s why I left academia. Why I quit my job at NASA and started doing science as a biohacker. I want everyone to be able to do science without any gatekeepers. The single greatest impediment to diversity in science is access to knowledge and information that is being held tighter than Ric Flair’s Figure Four Leg Lock.</p><p><b><span>Biohackers are setting knowledge free.</span></b></p><p>In May 2020, an article came out in <a href="https://science.sciencemag.org/content/369/6505/806">science magazine</a> where researchers showed that by using a DNA vaccine that codes for the SARS-COV2 spike protein, they could create antibodies that provide protection from covid-19 in macaque monkeys without harmful side-effects. Getting good monkey data is basically the best pre-human data you can ever hope to get. Most people only have experimental data from mouse tests. When I see a paper like this the gears in my brain begin to spin because there is a good chance the FDA would approve this for human testing.</p><p>So, I decided to test it myself. The project perfectly fit a niche where biohackers have an experimental advantage over academia and industry. With enough knowledge and skill, we could perform quick but data-laden experiments to show whether the same DNA vaccine tested on monkeys would be promising in humans. And instead of taking months or years we could have results in as little as a few weeks.&nbsp;</p><p>I brought up the idea with David Ishee and Dariia Dantseva, fellow members of the biohacking group the <a href="http://the-cdc.com/" target="_blank">Central Dogma Collective (CDC)</a>. They also thought that based on the data this would be a fucking crazy project. We decided <a href="https://youtube.com/playlist?list=PLNAhY1w2w78rSeNQo_e0dQ2w8mmGEg7Mr">we would live-stream</a> every step so that people could learn how to do advanced biomedical research like this in their own home. If one were to replicate the experiment from scratch, the total individual cost would end up being around $3500, the major costs being $1600 for DNA synthesis and $1200 for the kits to measure coronavirus spike protein antibodies.</p><p>What I really wanted was to show people how to do the science. I didn't really care if it worked or not but I tend to be pessimistic about my own experiments anyway. While testing and creating a successful coronavirus vaccine would send a powerful message to the world, teaching people how to do advanced biomedical research will change it.&nbsp;</p><p>In the end, the experiment worked. All three of us developed SARS-CoV2 spike protein neutralizing antibodies. I still can't fucking believe it. Not only did we create and test a successful vaccine, we showed that we could get a gene therapy to work (a DNA vaccine changes the DNA in your cells and so is a gene therapy also). <a href="https://docs.google.com/document/d/1WTuRBuy74KlaBzLrd0aTZl852nhPNCWL06aB7wY1JKk/edit?usp=sharing" target="_blank">Here is a summary of the experimental details and results</a> if you are interested. We didn't create the vaccine to sell it. We made the <a href="https://drive.google.com/drive/folders/1SracILuRbiZt4f7EVH2JBvefaHmsOUsC?usp=sharing" target="_blank">nucleotide sequence and genetic design data open and free</a> so that anyone can easily recreate it. All in a state-of-the-art lab. I'm kidding, my lab is a tiny bedroom in a house in West Oakland, David's is in a shed in rural Mississippi and Dariia's is an old building she converted in Ukraine. If your mind isn't blown, you either already knew about the project or you don't understand what I just told you.&nbsp;</p><p><b><span>If you want to know why I created and tested a coronavirus vaccine on myself, it’s because I am at War.&nbsp;</span></b></p><p>I know it sounds a bit dramatic but there really is a class war going on. There is a group of people who are actively making choices that cause a disproportionate amount of deaths among those in lower social classes. New gene therapies cost over a million dollars. That’s right. Your life, your child’s life, your mother, your loved one depends on how much money you make. The government and Pharma companies aren’t going to help you when you can’t afford it either. Most of these gene therapies aren't even available outside the US either because most countries with socialized medicine won't pay for them. So don't tell me how your country's healthcare is better.</p><p>Considering that if you are reading this there is a 99% chance you are not part of the top 1%, let me ask you this — why are we letting the wealthy and powerful get away with this?&nbsp;</p><p>Those who have a monopoly on the understanding and use of biotechnology have all the power. If I, if we can teach people how do it themselves then we win back power.</p><p>This is why biohackers are needed in society.&nbsp;</p><p>Now in Dec. 2020, many people are still holed up waiting for a vaccine. The problem is when a vaccine for covid comes around it won't be the 99% that receive it first. Your life isn't worth that much. You're not important or wealthy or powerful. The people who will receive it first are the same people who can sit out a pandemic in the comfort of their home and have their necessities delivered by the working class. They tell everyone else to social distance and wear a mask but won’t do it themselves. Fucking Gavin Newsom.</p><p>Still, we are losing this class war as people continue to fight against their best interest. They believe lying politicians, lying scientists, and are manipulated by the news media. We are told to wait and trust while hundreds of thousands of people in the US die. While small businesses close at an unprecedented rate, but large corporations make billions.</p><p>What the fuck. They are killing us and taken what we own. Why are we still putting up with this?</p><p><b><span>We can take back what belongs to us by creating for ourselves.&nbsp;</span></b></p><p><b><span>Science and medicine belong to us not them.&nbsp;</span></b><b><span>Biohack the fucking planet</span></b></p>

</div></div>]]>
            </description>
            <link>http://www.josiahzayner.com/2020/12/i-made-covid-19-vaccine-in-my-kitchen.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25546796</guid>
            <pubDate>Sat, 26 Dec 2020 22:03:47 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Dunning-Kruger Effect Is Probably Not Real]]>
            </title>
            <description>
<![CDATA[
Score 63 | Comments 61 (<a href="https://news.ycombinator.com/item?id=25546787">thread link</a>) | @ingve
<br/>
December 26, 2020 | https://www.mcgill.ca/oss/article/critical-thinking/dunning-kruger-effect-probably-not-real | <a href="https://web.archive.org/web/*/https://www.mcgill.ca/oss/article/critical-thinking/dunning-kruger-effect-probably-not-real">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><div><p>I want the Dunning-Kruger effect to be real. First described in<a href="https://doi.apa.org/doiLanding?doi=10.1037%2F0022-3514.77.6.1121"> a seminal 1999 paper</a> by David Dunning and Justin Kruger, this effect has been the darling of journalists who want to explain why dumb people don’t know they’re dumb. There’s even<a href="https://youtu.be/BdnH19KsVVc"> video of a fantastic pastiche</a> of Turandot’s famous aria, <i>Nessun dorma,</i> explaining the Dunning-Kruger effect. “They don’t know,” the opera singer belts out at the climax, “that they don’t know.”</p>

<p>I was planning on writing a very short article about the Dunning-Kruger effect and it felt like shooting fish in a barrel. Here’s the effect, how it was discovered, what it means. End of story.</p>

<p>But as I double-checked the academic literature, doubt started to creep in. While trying to understand the criticism that had been leveled at the original study, I fell down a rabbit hole, spoke to a few statistics-minded people, corresponded with Dr. Dunning himself, and tried to understand if our brain really was biased to overstate our competence in activities at which we suck... or if the celebrated effect was just a mirage brought about by the peculiar way in which we can play with numbers.</p>

<p>Have we been overstating our confidence in the Dunning-Kruger effect?</p>

<h5><b>A misunderstood effect</b></h5>

<p>The most important mistake people make about the Dunning-Kruger effect, according to Dr. Dunning, has to do with who falls victim to it. “The effect is about us, not them,” he wrote to me. “The lesson of the effect was always about how we should be humble and cautious about ourselves.” The Dunning-Kruger effect is not about dumb people. It’s mostly about all of us when it comes to things we are not very competent at.</p>

<p>In a nutshell, the Dunning-Kruger effect was originally defined as a bias in our thinking. If I am terrible at English grammar and am told to answer a quiz testing my knowledge of English grammar, this bias in my thinking would lead me, according to the theory, to believe I would get a higher score than I actually would. And if I excel at English grammar, the effect dictates I would be likely to slightly underestimate how well I would do. I might predict I would get a 70% score while my actual score would be 90%. But if my actual score was 15% (because I’m terrible at grammar), I might think more highly of myself and predict a score of 60%. This discrepancy is the effect, and it is thought to be due to a specific problem with our brain’s ability to assess its skills.</p>

<p>This is what student participants went through for Dunning and Kruger’s research project in the late 1990s. There were assessments of grammar, of humour, and of logical reasoning. Everyone was asked how well they thought they did and everyone was also graded objectively, and the two were compared.</p>

<p>Since then, many studies have been done that have reported this effect in other domains of knowledge. Dr. Dunning tells me he believes the effect “has more to do with being <i>misinformed</i> rather than uninformed.” If I am asked the boiling point of mercury, it is clear my brain does not hold the answer. But if I am asked what is the capital of Scotland, I may think I know enough to say Glasgow, but it turns out it’s Edinburgh. That’s misinformation and it’s pushing down on that confidence button in my brain.</p>

<p>So case closed, right? On the contrary. In 2016 and 2017, two papers were published in a mathematics journal called <i>Numeracy</i>. In them, the authors argued that the Dunning-Kruger effect was a mirage. And I tend to agree.</p>

<h5><b>The effect is in the noise</b></h5>

<p>The<a href="https://scholarcommons.usf.edu/numeracy/vol9/iss1/art4/"> two</a><a href="https://scholarcommons.usf.edu/numeracy/vol10/iss1/art4/"> papers</a>, by Dr. Ed Nuhfer and colleagues, argued that the Dunning-Kruger effect could be replicated by using random data. “We all then believed the [1999] paper was valid,” Dr. Nuhfer told me via email. “The reasoning and argument just made so much sense. We never set out to disprove it; we were even fans of that paper.” In Dr. Nuhfer’s own papers, which used both computer-generated data and results from actual people undergoing a science literacy test, his team disproved the claim that most people that are unskilled are unaware of it (“a small number are: we saw about 5-6% that fit that in our data”) and instead showed that both experts and novices underestimate and overestimate their skills with the same frequency. “It’s just that experts do that over a narrower range,” he wrote to me.</p>

<p>Wrapping my brain around all this took weeks. I recruited a husband-and-wife team, Dr. Patrick E. McKnight (from the Department of Psychology at George Mason University, also on the advisory board of Sense About Science and STATS.org) and Dr. Simone C. McKnight (from Global Systems Technologies, Inc.), to help me understand what was going on. Patrick McKnight not only believed in the existence of the Dunning-Kruger effect: he was teaching it to warn his students to be mindful of what they actually knew versus what they thought they knew. But after replicating Dr. Nuhfer’s findings using a different platform (the statistical computing language R instead of Nuhfer’s Microsoft Excel), he became convinced the effect was just an artefact of how the thing that was being measured was indeed measured.</p>

<p>We had long conversations over this as I kept pushing back. As a skeptic, I am easily enticed by stories of the sort “everything you know about this is wrong.” That’s my bias. To overcome it, I kept playing devil’s advocate with the McKnights to make sure we were not forgetting something. Every time I felt my understanding crystallize, doubt would creep in the next day and my discussion with the McKnights would resume.</p>

<p>I finally reached a point where I was fairly certain the Dunning-Kruger effect had not been shown to be a bias in our thinking but was just an artefact. Here then is the simplest explanation I have for why the effect appears to be real.</p>

<p>For an effect of human psychology to be real, it cannot be rigorously replicated using random noise. If the human brain was predisposed to choose heads when a coin is flipped, you could compare this to random predictions (heads or tails) made by a computer and see the bias. A human would call more heads than the computer would because the computer is making random bets whereas the human is biased toward heads. With the Dunning-Kruger effect, this is not the case. Random data actually mimics the effect really well.</p>

<p>The effect as originally described in 1999 makes use of a very peculiar type of graph. “This graph, to my knowledge, is quite unusual for most areas of science,” Patrick McKnight told me. In the original experiment, students took a test and were asked to guess their score. Therefore, each student had two data points: the score they thought they got (self-assessment) and the score they actually got (performance). In order to visualize these results, Dunning and Kruger separated everybody into quartiles: those who performed in the bottom 25%, those who scored in the top 25%, and the two quartiles in the middle. For each quartile, the average performance score and the average self-assessed score was plotted. This resulted in the famous Dunning-Kruger graph.</p>

<p><img height="627" width="725" src="https://www.mcgill.ca/oss/files/oss/figure_1_3.png" alt=""></p>

<p>Plotted this way, it looks like those in the bottom 25% thought they did much better than they did, and those in the top 25% underestimated their performance. This observation was thought to be due to the human brain: the unskilled are unaware of it. But if we remove the human brain from the equation, we get this:</p>

<p><img height="451" width="1086" src="https://www.mcgill.ca/oss/files/oss/figure_2_1.png" alt=""></p>

<p>The above Dunning-Kruger graph was created by Patrick McKnight using computer-generated results for both self-assessment and performance. The numbers were random. There was no bias in the coding that would lead these fictitious students to guess they had done really well when their actual score was very low. And yet we can see that the two lines look eerily similar to those of Dunning and Kruger’s seminal experiment. A<a href="https://www.sciencedirect.com/science/article/pii/S019188690100174X"> similar simulation</a> was done by Dr. Phillip Ackerman and colleagues three years after the original Dunning-Kruger paper, and the results were similar.</p>

<p>Measuring someone’s perception of anything, including their own skills, is fraught with difficulties. How well I think I did on my test today could change if the whole thing was done tomorrow, when my mood might differ and my self-confidence may waver. This measurement of self-assessment is thus, to a degree, unreliable. This unreliability--sometimes massive, sometimes not--means that any true psychological effect that does exist will be measured as smaller in the context of an experiment. This is called attenuation due to unreliability. “Scores of books, articles, and chapters highlight the problem with measurement error and attenuated effects,” Patrick McKnight wrote to me. In his simulation with random measurements, the so-called Dunning-Kruger effect actually becomes <i>more</i> visible as the measurement error increases. “We have no instance in the history of scientific discovery,” he continued, “where a finding improves by increasing measurement error. None.”</p>

<h5><b>Breaking the spell</b></h5>

<p>When I plug “Dunning-Kruger effect” into Google News, I get over 8,500 hits from media outlets like <i>The New York Times</i>, <i>New Scientist</i>, and the CBC. So many simply endorse the effect as a real bias of the brain, so it’s no wonder that people are not aware of the academic criticism that has existed since the effect was first published. It’s not just Dr. Nuhfer and his <i>Numeracy </i>papers. Other academic critics have pointed the finger, for example, at regression to the mean.</p>

<p>But as Patrick McKnight points out, regression to the mean occurs when the same measure is taken over time and we track its evolution. If I take my temperature every morning and one day spike a fever, that same measure will (hopefully) go down the next day and return to its mean value as my fever abates. That’s regression to the mean. But in the context of the Dunning-Kruger effect, nothing is measured over time, and self-assessment and performance are different measures entirely, so regression to the mean should not apply. The unreliability of the self-assessment …</p></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.mcgill.ca/oss/article/critical-thinking/dunning-kruger-effect-probably-not-real">https://www.mcgill.ca/oss/article/critical-thinking/dunning-kruger-effect-probably-not-real</a></em></p>]]>
            </description>
            <link>https://www.mcgill.ca/oss/article/critical-thinking/dunning-kruger-effect-probably-not-real</link>
            <guid isPermaLink="false">hacker-news-small-sites-25546787</guid>
            <pubDate>Sat, 26 Dec 2020 22:02:45 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Getting rid of NPM scripts]]>
            </title>
            <description>
<![CDATA[
Score 65 | Comments 38 (<a href="https://news.ycombinator.com/item?id=25546460">thread link</a>) | @efortis
<br/>
December 26, 2020 | https://blog.uidrafter.com/engineering/getting-rid-of-npm-scripts | <a href="https://web.archive.org/web/*/https://blog.uidrafter.com/engineering/getting-rid-of-npm-scripts">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="main">

<article>
<header>


</header>
<p>
In 2016, Sam Saccone <a rel="noopener" target="_blank" href="https://www.kb.cert.org/vuls/id/319816">discovered a vulnerability</a> that
allows adversaries to run arbitrary scripts when installing an NPM package of
theirs. As mitigation, NPM co-founder Laurie Voss <a rel="noopener" target="_blank" href="https://blog.npmjs.org/post/141702881055/package-install-scripts-vulnerability">
suggests</a>:
</p>
<ul>
<li>
<b>Option 1</b>: adding <code>--ignore-scripts</code> when running <code><span>npm</span>
install</code>
</li>
<li>
<b>Option 2</b>: permanently adding <code>ignore-scripts=true</code> to <code>.npmrc</code>
</li>
</ul>
<p>
UI Drafter uses the latter because it avoids having to
remember the flag everytime. But that option disables NPM
<code>"scripts"</code>. Therefore, we end up with two alternatives:
</p>
<ul>
<li>
<b>Option A</b>: overriding: <code><span>npm</span> run --ignore-scripts=false
<b>test</b></code>
</li>
<li>
<b>Option B</b>: using this shell script or a <a href="#-Makefile">Makefile</a>:
</li>
</ul>
<pre><span>#!/bin/sh</span>

<span>case</span> <span>$1</span> <span>in</span>
  <b>dev</b>)   ./make-dev.js <span>;;</span>
  <b>test</b>)  mocha <span>"src/**/*.test.js"</span><span></span> <span>;;</span>
  <b>lint</b>)  eslint src <span>;;</span>
  <b>slint</b>) stylelint <span>"src/**/*.css"</span><span></span> <span>;;</span>

  <b>prod</b>)  <span>time</span> ./make-production.js <span>;;</span>
  <b>all</b>)   <span>$0</span> <b>test</b> &amp;&amp; <span>$0</span> <b>lint</b> &amp;&amp; <span>$0</span> <b>slint</b> &amp;&amp; <span>$0</span> <b>prod</b> <span>;;</span>

  *)     <span>echo</span> <span>"Invalid task: <span>$1</span>"</span><span>;</span> <span>exit</span> <span>1</span> <span>;;</span>
<span>esac</span>
</pre>
<p>Which can be ran as:</p>
<pre>./<span>make</span> <b>test</b>
</pre>
<p>
If the package is not globally installed, prefix the path. For example:
</p>
<pre><b>lint</b>) <span>node_modules/.bin/</span>eslint src <span>;;</span>
</pre>
<h3>Overriding at installation</h3>
<p>
If you need to install packages that install binary dependencies, or rely
on running an NPM script, override the <code>.npmrc</code>:
</p>
<pre><span>npm</span> install <span>--ignore-scripts=false</span> <i>package-name</i>
</pre>

<p>
EDIT: (Dec/27/2020) As suggested in the <a rel="noopener" target="_blank" href="https://news.ycombinator.com/item?id=25546460">Hacker News thread</a>:
</p>
<a id="-Makefile"></a>
<details>
<summary>
<h3>
Makefile
</h3>
</summary>
<pre><b>dev</b>:
	./make-dev.js
<b>test</b>:
	mocha <span>"src/**/*.test.js"</span>
<b>lint</b>:
	eslint src
<b>slint</b>:
	stylelint <span>"src/**/*.css"</span>

<b>prod</b>:
	sh -c 'time ./make-production.js'

<b>all</b>: test lint slint prod

<span>.PHONY: dev test lint slint prod all</span>
</pre>
<pre><span>make</span> <b>test</b>
</pre>
</details>
</article>
<article>
<hr>
<h2>Engineering Blog</h2>
<ul>
<li><a rel="noopener" href="https://blog.uidrafter.com/engineering/isolated-tls-certificate-creation">Isolated Creation of Let's Encrypt TLS Certificates</a></li>
<li><a rel="noopener" href="https://blog.uidrafter.com/engineering/bitwise-table-lookup">Bitwise Table Lookup</a></li>
<li><a rel="noopener" href="https://blog.uidrafter.com/engineering">More…</a></li>
</ul>
</article>
</div></div>]]>
            </description>
            <link>https://blog.uidrafter.com/engineering/getting-rid-of-npm-scripts</link>
            <guid isPermaLink="false">hacker-news-small-sites-25546460</guid>
            <pubDate>Sat, 26 Dec 2020 21:06:31 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Mastering Pinterest SEO: An insider's guide]]>
            </title>
            <description>
<![CDATA[
Score 92 | Comments 46 (<a href="https://news.ycombinator.com/item?id=25546430">thread link</a>) | @jmilinovich
<br/>
December 26, 2020 | https://blog.aesthetic.com/blog/pinterest-guide/ | <a href="https://web.archive.org/web/*/https://blog.aesthetic.com/blog/pinterest-guide/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="__next"><div><div><div><div><p>Pinterest is an extraordinarily powerful tool for consumers, but is still misunderstood by marketers. I worked at Pinterest for 2 years helping build their core content understanding technology, and learned a lot about what makes for a successful Pinterest marketing strategy. I hope this guide helps demystify how marketers can get the most from Pinterest as a marketing channel. </p><p>If you have any questions, please <a href="https://twitter.com/intent/tweet?text=Hey%20@jmilinovich">Tweet @jmilinovich</a>! </p><ol><li><a href="#Why-is-Pinterest-marketing-important">Why is Pinterest marketing important?</a></li><li><a href="#How-does-Pinterest-marketing-work">How does Pinterest marketing work?</a></li><li><a href="#How-to-create-a-Pinterest-marketing-plan">How to create a Pinterest marketing plan?</a></li><li><a href="#How-to-make-Pinterest-pins">How to make Pinterest pins?</a></li><li><a href="#How-to-make-Pinterest-Pins-popular">How to make Pinterest Pins popular?</a></li><li><a href="#Conclusion">Conclusion</a></li></ol><h2>Pinterest as a distribution channel</h2><p>Pinterest is a powerful tool that helps people all over the world discover ideas for things to do in their lives. Whether it’s finding recipes, figuring out what to wear, finding new beauty tips or literally any other use case imaginable… people are doing it on Pinterest.</p><p>While search engines like Google focus on the bottom of the purchase funnel (ie, once someone knows that they have a need and are actively looking for it) and social networks like Facebook and Instagram focus on the top of the funnel (ie, when customers are passively looking to consume content with no intent), Pinterest is the only place on the internet that lets marketers reach consumer in the consideration phase. </p><p><img src="https://d33wubrfki0l68.cloudfront.net/2514c6be4877df4b7599580c5af4d1c3c2f54f86/453eb/img/posts/pinterest-guide/consideration.png" alt="The marketing consideration funnel"></p><p>This creates a big opportunity for businesses to get their products, goods and services in front of potential buyers while they’re deciding what they want to buy, but haven’t made the decision yet. That’s one of the most powerful things about Pinterest- people go there to find ideas, not just to make purchasing decisions. This means that marketers are able to reach consumers before they’ve made up their mind on what they’re looking to do.</p><h2>Pinterest as a source of inbound links</h2><p>While the most clear first-order effect to a strong Pinterest presence is creating a powerful new referral traffic source, there’s also a misunderstood but very powerful second-order effect: creating more inbound links to your website. </p><p>Have you noticed how no matter what you search for, it seems that you almost always see Pinterest results on the first page of Google? Pinterest’s core growth strategy has been about getting excellent at SEO, or search engine optimization. Practically speaking this means that the company has spent a lot of effort creating millions of high quality landing pages with the explicit purpose of being indexed by Google. Each of these landing pages shows dozens of Pins, and each contains a link to that Pin’s page on Pinterest. </p><p>As your content becomes more popular, it will begin showing up on more of Pinterest’s SEO pages, which means that it will be more readily indexed by Google. Since Google gives Pinterest’s domain a high authority and quality score, this means that over time you will start to accumulate some of this authority if your Pins are shown in prominent places. So, getting good at Pinterest doesn’t just help improve your Pinterest referral traffic, it can also improve your traffic from places like Google! </p><p><img src="https://d33wubrfki0l68.cloudfront.net/bbc3082cbd708936207fcc8fed30415b5077ee03/32add/img/posts/pinterest-guide/pinterest-results.png" alt="Example of Pinterest landing pages"></p><h2>Pinterest is a search engine</h2><p>The most important thing to understand about Pinterest is that at its core it’s a search engine, not a social network.  People don’t use Pinterest to “follow” specific brands but rather to follow interests and search for ideas. A “Pin” is simply a visual bookmark to a webpage, and under the hood Pinterest’s technology stack is focused on figuring out what interests a Pin is about, and which users are interested in which interests. Content on Pinterest isn’t temporal like other social networks, but evergreen like on Google.</p><h2>Help Pinterest understand your content</h2><p>This means that the most important thing to get right for Pinterest marketing is helping Pinterest understand what interests your Pins are about. This means that the key underlying concept for Pinterest marketing is to create Pins for all of your web content, and then make sure that Pinterest has a clear understanding of what interests they align to. </p><p>Once Pinterest understands what a given Pin is about, it can start showing it to users to see how they interact with it. If they engage with it (ie, Save it to one of their boards or Click on it to see the underlying content), Pinterest uses this as a positive sign that this is quality content and will begin showing it to more people. </p><p>As such, one of the most important things to get right is having a clear strategy for how to communicate to Pinterest what your Pins are about and getting engagement signals on the Pins early. </p><p><img src="https://d33wubrfki0l68.cloudfront.net/db6e047a9650880cd7f0be4c4718c0791790c2e0/18ef8/img/posts/pinterest-guide/pinterest-interests.png" alt="Example of Pinterest interests"></p><h2>Choose your Interests</h2><p>The most critical thing to get right in your Pinterest marketing plan is determining what Interests are most important to your business. There are <a href="https://docs.google.com/spreadsheets/d/1HxL-0Z3p2fgxis9YBP2HWC3tvPrs1hAuHDRtH-NJTIM/edit#gid=118370875">over 10,000 interests on Pinterest today</a>, ranging from highly broad to highly specific. Start by brainstorming what interests your target audience has today, as well as what interests your content is actually about. Look for the overlap of these two sets and choose the 10-15 that have the most promise to focus in on first. </p><h2>Create your Boards</h2><p>Once you’ve chosen the interests that you want to focus on, the next step is to decide on the architecture of your Pinterest for Business account. Pinterest accounts for users and businesses alike are defined by the boards that they create and post Pins to. You can think of a board as a folder of visual bookmarks that are public by default. When someone looks at your Pinterest account, the fastest way that they will understand what you’re about is by the names of the boards that you create. </p><p>Start by creating boards whose names are the same as the 10-15 interests you chose to focus on. It’s OK if they have more words in them as well, but make sure that the Interest name itself is very prominent. Make sure that each board has a very specific description that explains the core ideas that you’ll be pinning to the board.</p><p><img src="https://d33wubrfki0l68.cloudfront.net/dadf2e2890dde22bbff64a7ded8e0dcf6b592fe9/31afa/img/posts/pinterest-guide/boards.png" alt="Example of Pinterest boards"></p><p>Next, you need to decide what content to start posting onto these boards. </p><h2>Pinning existing content</h2><p>There are only two kinds of Pins on Pinterest: Pins from your own website, and Pins from other people’s websites. Both are equally important to a strong Pinterest strategy. The first thing you should do is to fill your boards with Pins that are already on Pinterest and were created by other people. Spend some time saving 20-30 Pins to each of your boards. As you do this, Pinterest will also begin recommending new Pins in your homefeed that are related to what you’ve been Pinning. </p><p>The reason you’re seeing the Pins that Pinterest is recommending to you is because Pinterest already knows a lot about them and has a high confidence that users like you will find them interesting. When you save them to your boards, you’re giving Pinterest even more signal about what your board is about. This is extremely important, because Pinterest learns a lot about new Pins based on the other Pins that it shows up on boards with. </p><p><img src="https://d33wubrfki0l68.cloudfront.net/a3580f834d291668bd22cae46f7854ddb0106853/de8da/img/posts/pinterest-guide/existing-pin.png" alt="Example of Pinterest pins"></p><p>Each week you should also continue to save new, existing content to your boards to keep giving Pinterest more signal and context for what your Pins are about. </p><h2>Pinning your own content</h2><p>Once you create a good base of existing Pins on your boards, you can start to plan your strategy for getting your own original content into Pinterest. First, go through all of your existing website content and map out what content would be relevant for the Pinterest audience. Generally speaking, the best content will be things like blog posts or eCommerce product landing pages. You should skip things like your homepage, about page, contact us page or other informational pages that don’t provide highly specific and useful content about a specific concept. </p><p>On social networks, it’s important that you have a steady pace of posting content into your feed so that you stay top of mind and also don’t inundate followers by posting 100 things at once. Pinterest is much more like Google, however, where you want them to know about your content upfront and all at once. </p><p>You should post all of your existing, relevant content to Pinterest upfront and then consistently add new content as it’s published online. Save it to the most relevant board to give Pinterest a clear understanding of what your content’s about. You can also post it to more than one board if it’s relevant to multiple categories. </p><p>The Pins that perform best on Pinterest have been created specifically for Pinterest following their <a href="https://business.pinterest.com/en-gb/content/creative-best-practices/">creative best practices</a>. Practically speaking this means that each Pin will require some editing work within a graphics editor tool. Generally speaking, each Pin can take anywhere from 5-20 minutes to create by hand if using a tool like Photoshop, Canva or Adobe Spark. This can be quite burdensome, especially if you’re trying to create dozens or hundreds of Pins for your site. </p><p><a href="https://www.aesthetic.com/?utm_source=blog&amp;utm_medium=post&amp;utm_campaign=pinterest-guide">Aesthetic’s software</a> is able to generate on-brand Pinterest Pins from a company’s website automatically. Simply enter a URL, and our app will create dozens of variations of graphics to promote that webpage, including several that follow Pinterest’s best practices guide. We’ve seen our users cut down the time it takes to create a Pin by 95% using our tool. </p><p>Once you’ve created your Pin graphics, you can upload them into the Pinterest system. Add the URL for each Pin along with a detailed description that touches upon what the Pins about and ideally mentions the specific interests that it’s related to. Post these to the right boards, and you’re off to the races! </p><p><img src="https://d33wubrfki0l68.cloudfront.net/4ab1dd02738de6695f0118fd169a78c4e10d21bb/09e8b/img/posts/pinterest-guide/aesthetic-pins.png" alt="Example of Pinterest pins made with Aesthetic"></p><p>Once you’ve uploaded your content to Pinterest, you will see the impressions slowly start to trickle in as the system understands more about what your content’s about. Generally speaking it can take months for new content on Pinterest to get enough exposure for Pinterest to determine whether it’s sufficiently interesting enough for it to be promoted more widely within the system.</p><p>Another option to fast track the distribution of your Pins is to run small budget ads for your own Pins, targeting the Interests that they’re related …</p></div></div></div></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://blog.aesthetic.com/blog/pinterest-guide/">https://blog.aesthetic.com/blog/pinterest-guide/</a></em></p>]]>
            </description>
            <link>https://blog.aesthetic.com/blog/pinterest-guide/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25546430</guid>
            <pubDate>Sat, 26 Dec 2020 21:01:07 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Fun with IP address parsing]]>
            </title>
            <description>
<![CDATA[
Score 424 | Comments 113 (<a href="https://news.ycombinator.com/item?id=25545967">thread link</a>) | @mr_tyzic
<br/>
December 26, 2020 | https://blog.dave.tf/post/ip-addr-parsing/ | <a href="https://web.archive.org/web/*/https://blog.dave.tf/post/ip-addr-parsing/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	<div>
		<p><span>Written by</span>
        David Anderson
        <br>
        <span>on&nbsp;</span><time datetime="2020-12-25 00:00:00 +0000 UTC">December 25, 2020</time>
</p>
		


		

		<p>In my quest to write a fast IPv4+6 parser, I wrote a
slow-but-I-think-correct parser, to use as a base of comparison. In
doing so, I discovered more cursed IP address representations that I
was previously unaware of. Let’s explore together!</p>

<p>We start out simple, with IPv4 and IPv6 in what I’ll call their
“canonical form”: <code>192.168.0.1</code> and <code>1:2:3:4:5:6:7:8</code>. Various specs
call these “dotted quad” (more specifically, “dotted decimal”),
dot-separated fields each representing 1 byte; and “colon-hex”,
colon-separated fields each representing 2 bytes.</p>

<p>The first bits of complexity come from IPv6. In canonical form, common
addresses would end up with long runs of zeros in the middle. So, <code>::</code>
allows you to elide 1 or more 16-bit blocks of zeros: <code>1:2::3:4</code> means
<code>1:2:0:0:0:0:3:4</code></p>

<p>Next up, for cursed historical reasons, IPv6 permits you to write the
final 32 bits of the address in dotted quad form. Effectively, you can
splat an IPv4 address onto the end of IPv6 addresses!
<code>1:2:3:4:5:6:77.77.88.88</code> means <code>1:2:3:4:5:6:4d4d:5858</code>.</p>

<p>And of course, you can combine the two! <code>fe80::1.2.3.4</code> means <code>fe80:0:0:0:0:0:102:304</code></p>

<p>The existence of <code>::</code> introduces an annoying edge case in parsing: the
<code>::</code> can be at the start or end of the address, and the “empty” side
of the address is not one of the 16-bit fields. <code>::1</code> means
<code>0:0:0:0:0:0:0:1</code>, <code>1::</code> means <code>1:0:0:0:0:0:0:0</code>, and <code>::</code> means
<code>0:0:0:0:0:0:0:0</code>. This is a natural consequence of the <code>::</code> rule, but
it makes the parser slightly more annoying to write.</p>

<p>One final rule for IPv6: technically, each colon-hex field is 4 hex
digits, but you can elide leading zeros, as I’ve been doing so
far. Fully canonically, <code>::</code> is
<code>0000:0000:0000:0000:0000:0000:0000:0000</code>. My apologies to trypophobic
readers.</p>

<p>That’s it for IPv6, mostly. Now, on to IPv4!</p>

<p>Fun fact, the textual representation of IPv4 was never standardized in
any document before IPv6 needed a grammar for its weirdo “trailing
dotted quad” notation. So, it’s a de-facto standard that boils down to
mostly “what did 4.2BSD understand?”, and “what did other OSes keep
when they copied 4.2BSD?”</p>

<p>And hoo boy, strap yourselves in, because 4.2BSD sure had some whacky
opinions! Let’s use <code>192.168.140.255</code> as an example. That’s an IPv4
address that people would look at and go “yes, that sure is an IPv4
address.” How else can we write that exact same address?</p>

<p>This is the same IP address: <code>3232271615</code>. You get that by
interpreting the 4 bytes of the IP address as a big-endian unsigned
32-bit integer, and print that. This leads to a classic parlor trick:
if you try to visit <a href="http://192.168.140.255/">http://3232271615</a> , Chrome will load
<a href="http://192.168.140.255/">http://192.168.140.255</a>.</p>

<p>Okay, but that’s sort-of sensible, right? An IPv4 address is 4 bytes,
so printing it as a single number is a bit human-unfriendly, but
broadly plausible, right?</p>

<p>How about <code>0300.0250.0214.0377</code> ? That’s still the same
address. Dotted quad, except each field is written out in octal.</p>

<p>And if octal is supported, you might be wondering about hex. And you’d
be right! <code>192.168.140.255</code> is also <code>0xc0.0xa8.0x8c.0xff</code>, according
to 4.2BSD.</p>

<p>Now, remember before we had CIDR (Classless Inter-Domain Routing) ?
IPv4 addresses were Class A, Class B or Class C. It was a weird time.</p>

<p>And that weird time made it into IP addresses! The familiar
<code>192.168.140.255</code> notation is technically the “Class C” notation. You
can also write that address in “class B” notation as <code>192.168.36095</code>,
or in “Class A” notation as <code>192.11046143</code>. What we’re doing is
coalescing the final bytes of the address into either a 16-bit or a
24-bit integer field.</p>

<p>This, by the way, is why utilities like <code>ping</code> will accept weird
looking addresses like <code>127.1</code> for <code>127.0.0.1</code>. Unlike IPv6, it’s not
doing some kind of “missing fields are zero” expansion. <code>127.1</code> is the
Class A notation for “host 1 of network 127”, where the 1 is a 24-bit
number.</p>

<p>And finally, we come to one last bit of unspecified behavior: do IPv4
addresses permit an unlimited number of leading zeros in each quad? Or
is there a maximum of 3 digits? <code>001.002.003.004</code> is universally
recognized as valid. What about
<code>0000000001.0000000002.0000000003.000000004</code>?</p>

<p>You might also be wondering if either of these numbers should be read
in as octal, since we said earlier that a leading zero might be
interpreted as octal. It depends! There are implementations that do
both, but <em>most</em> modern implementations have abandoned the octal and
hex notation, and treat leading 0s as decimal.</p>

<p>The leading zero debate also infects IPv6, to some extent. Is
<code>000001::00001.00002.00003.00004</code> is a valid IPv6 address (“common”
form <code>1::1.2.3.4</code>, or <code>1::102:304</code>)? Most modern parsers seem to allow
an unlimited amount of leading zeros in their representations,
probably because they’re leaning on some “parse integer” library that
implements that behavior.</p>

<p>And so, we reach the bitter end. If you want to <em>truly</em> parse IP
addresses, this is the bullshit you have to put up with.</p>

<p>Currently, my slow reference parser jettisons a lot of old baggage,
and sticks to what I think is a sensible subset of these
possibilities. It understands:</p>

<ul>
<li>Classic v4 dotted decimal, with any number of leading zeros.</li>
<li>It does not process Class A/B notation, or hex or octal notation.</li>
<li>It does not process the “uint32 to the knee” representation.</li>
<li>For IPv6, it understands canonical colon-hex form, as well as ::
and trailing-IPv4 style (where the trailing IPv4 follows the same
rules as the previous tweet). Each field is allowed any number of
leading zeros.</li>
</ul>

<p>I’m on the fence about that last one, the “IPv6 with an embedded
dotted decimal” form. My reference parser (Go’s <code>net.ParseIP</code>)
understands it, but it’s not really that useful any more in the real
world. At the dawn of IPv6, the idea was that you could upgrade an
address to IPv6 by prepending a pair of colons, as in <code>::1.2.3.4</code>, but
modern transition mechanisms no longer offer anything as clear-cut as
this, so the notation doesn’t really show up in the wild.</p>

		
	</div>

	
</div></div>]]>
            </description>
            <link>https://blog.dave.tf/post/ip-addr-parsing/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25545967</guid>
            <pubDate>Sat, 26 Dec 2020 19:56:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Partial order and non-Boolean logic]]>
            </title>
            <description>
<![CDATA[
Score 46 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25545543">thread link</a>) | @okaleniuk
<br/>
December 26, 2020 | https://wordsandbuttons.online/partial_order_and_non_boolean_logic.html | <a href="https://web.archive.org/web/*/https://wordsandbuttons.online/partial_order_and_non_boolean_logic.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
	

	<p>
Numbers. Numbers are easy. All you need to know to sort them out is that
	</p>
	<ul>
	<li>
if 1 ≤ 2 and 2 ≤ 3 then 1 ≤ 3;
	</li>
	<li>
either 4 ≤ 5 or 5 ≤ 4...
	</li>
	<li>
...or both, but if 6 ≤ 6 and 6 ≤ 6 then 6 = 6.
	</li>
	</ul>
	<p>
Oh, shit! I forgot to put a smart face on. Let's start over.
	</p>
	<p>
A <b><span id="index_total_order">total order</span></b>, also known as <b><span id="index_linear_order">linear order</span></b> is a relation “≤” on a set <span>S</span>. For <span>a, b, c ∈ S</span>, the three properties hold.
	</p>
	<p>
The first one is called <b><span id="index_transitivity">transitivity</span></b>.
	</p>
	<p>
a ≤ b ∧ b ≤ c ⇒ a ≤ c.
	</p>
	<p>
The second one is <b><span id="index_connexity">connexity</span></b>.
	</p>
	<p>
a ≤ b ∨ b ≤ a
	</p>
	<p>
And the third one is <b><span id="index_antisymmetry">antisymmetry</span></b>.
	</p>
	<p>
a ≤ b ∧ b ≤ a ⇒ a = b
	</p>
	<p>
With rules established for <span>≤</span>, we can also tell either <span>a &lt; b</span> or <span>a &gt; b</span> or <span>a = b</span> for every <span>a</span> and <span>b</span>.
	</p>
	
	
<br>

<table>
<tbody><tr><th>Predicate</th><th>Result</th></tr>
<tr><td>a = b</td>		<td id="e"></td></tr>
<tr><td>a &lt; b</td>	<td id="l"></td></tr>
<tr><td>a &gt; b</td>	<td id="g"></td></tr>
<tr><td>a ≠ b</td>	<td id="ne"></td></tr>
<tr><td>a ≤ b</td>	<td id="le"></td></tr>
<tr><td>a ≥ b</td>	<td id="ge"></td></tr>
</tbody></table>
	<p>
Real numbers are comparable. That implies that you can sort them. Of course, not only numbers are comparable. Names are comparable and sortable in alphabetical order. Skyscrapers are comparable and sortable by height. A lot of things are comparable and sortable.
	</p>
	<p>
But a few things aren't. Like the <a href="https://wordsandbuttons.online/yet_another_alternative_to_floating_point_numbers.html">intervals, we use to represent numbers with errors</a>. We use them when we don't know the exact number <span>x</span> but we know its error <span>ε</span> and therefore have all the reasons to believe that it's jammed somewhere between <span>x<sub>1</sub></span> and <span>x<sub>2</sub></span> where
	</p>
	<p>
x<sub>1</sub> = x − ε
<br>
x<sub>2</sub> = x + ε
	</p>
	<p>
These intervals are helpful when we want to measure a computational error of some calculation or to see if some algorithm is stable enough. They aren't comparable or truly sortable though.
	</p>
	<p>
Consider two overlapping intervals. Let's say, <span>[3, 6]</span> and <span>[5, 8]</span>. We know that the fist interval actually means a number between  <span>3</span> and  <span>6</span>. The second — another number between <span>5</span> and <span>8</span>. Intuitively, the latter should be greater than the former. But what if it is  <span>5</span> and the former is  <span>6</span>? Then it's obviously less. There is a chance they are even equal. 
	</p>
	<p>
So there is some kind of order, for instance, <span>[6, 8]</span> is definitely greater than  <span>[3, 5]</span>. But this order doesn't hold for every possible pair of intervals.
	</p>
	<p>
This makes things unpleasant. For the very least, we can't now use binary logic since all the comparisons now return three states. E. g. <span>a ≤ b</span> can now be <span>true</span>, <span>false</span> or <span>none of the above</span>.
	</p>
	<p>
Consequently, this means the conventional <span>if... else</span> statement now has to be redesigned. And all the algorithms that use it.
	</p>
	<p>
We wouldn't have to give up binary logic completely if we agree to “split” the semantics of the predicates into two. For every predicate on the two intervals, we can still say whether the numbers they represent definitely suffice the predicate, or whether they possibly do so.
	</p>
	<p>
For instance, <span>[3, 5]</span> is definitely less than <span>[6, 8]</span>, and <span>[3, 6]</span> is possibly less than <span>[5, 8]</span>. The most unpleasant case for us is when intervals overlap. Everything is indefinite, and everything is possible then.
	</p>
<br>
	
	
<br>

<table>
<tbody><tr><th>Predicate</th><th>Deffinitely</th><th>Possibly</th></tr>
<tr><td>a = b</td>		<td id="de"></td>		<td id="pe"></td></tr>
<tr><td>a &lt; b</td>	<td id="dl"></td>		<td id="pl"></td></tr>
<tr><td>a &gt; b</td>	<td id="dg"></td>		<td id="pg"></td></tr>
<tr><td>a ≠ b</td>	<td id="dne"></td>	<td id="pne"></td></tr>
<tr><td>a ≤ b</td>	<td id="dle"></td>	<td id="ple"></td></tr>
<tr><td>a ≥ b</td>	<td id="dge"></td>	<td id="pge"></td></tr>
</tbody></table>

	<p>
Still, every <span>if... else</span> works. Within its semantics that is. However, the algebra behind the logic isn't yet Boolean. Now <span>¬ (a &lt; b) ≢ a ≥ b</span>. Computational algorithms may be technically built using the same building blocks as if the intervals were numbers but that's it.
	</p>

	<p>
Speaking of building stuff. Let's talk about programming. Programming non-Boolean interval logic in C++ or Python is fairly easy. You have to reimplement every predicate for the interval type — and you're golden!
	</p>
	<pre id="code_1">struct Interval {
    Number lb; // lower bound
    Number ub; // upper bound
}

// Interval-specific predicates.
bool coincide(const Interval&amp; l, const Interval&amp; r){
    return l.lb == r.lb &amp;&amp; l.ub == r.ub;
}

bool intersect(const Interval&amp; l, const Interval&amp; r){
    return (l.ub &gt;= r.lb &amp;&amp; l.lb &lt;= r.ub)
        || (r.ub &gt;= l.lb &amp;&amp; r.lb &lt;= l.ub);
}

// The "definite" interval logic.
// The relation should keep for every number in l and in r.
bool operator==(const Interval&amp; l, const Interval&amp; r){
    return l.lb == l.ub &amp;&amp; coincide(l, r);
}

bool operator&lt;(const Interval&amp; l, const Interval&amp; r){
    return l.ub &lt; r.lb;
}

bool operator&gt;(const Interval&amp; l, const Interval&amp; r){
    return r &lt; l;
}

bool operator&lt;=(const Interval&amp; l, const Interval&amp; r){
    return l.lb &lt; r.ub &amp;&amp; l.ub == r.lb;
}

bool operator&gt;=(const Interval&amp; l, const Interval&amp; r){
    return r &lt;= l;
}

bool operator!=(const Interval&amp; l, const Interval&amp; r){
    return r &lt; l || l &lt; r;
}</pre>
	<p>
Nobody cares about the relationship between predicates being Boolean-ish. They are all just some arbitrary functions so with them, you can easily define either the “definite” logic or the “possible” one. You can have both if you define them for different but interchangeable types. It's all a little verbose but doable.
	</p>
	<p>
It gets a little bit more tricky in Rust which relies on the notion of order pretty much.
	</p>
	<p>
The comparison operators for a custom type are usually introduced using an <a href="https://doc.rust-lang.org/std/cmp/trait.Ord.html">std::cmp::Ord</a> trait. It requires that:
	</p>
	<p>
∀ a, b: (a &lt; b) ⊕ (a = b) ⊕ (a &gt; b)
<br>
a ≤ b ∧ b ≤ c ⇒ a ≤ c.
	</p>
	<p>
The first reads as for every <span>a</span> and <span>b</span>, one and only one is true: either <span>(a &lt; b)</span> or <span>(a = b)</span> or <span>(a &gt; b)</span>. This doesn't work for us. When intervals intersect, in “definite” logic none of the predicates are true. And in the “possible” logic, they all are.
	</p>
	<p>
Luckily, there is another more relaxed trait that represents not total order, but <span id="index_partial_order">partial order</span>: <a href="https://doc.rust-lang.org/std/cmp/trait.PartialOrd.html">std::cmp::PartialOrd</a>. Which only requires <b><span id="index_asymmetry">asymmetry</span></b> (not even antisymmetry) and transitivity (we've seen it before):
	</p>
	<p>
a &lt; b ⇒ ¬(a &gt; b)
<br>
a ≤ b ∧ b ≤ c ⇒ a ≤ c.
	</p>
	<p>
Аnd for the “definite” logic, this works.
	</p>
	<pre id="code_2">impl std::cmp::PartialEq for RB32{
    // the same as operator == in C++ or __eq__(self, other) in Python
    fn eq(&amp;self, other: &amp;Self) -&gt; bool {
        self.lb == other.lb &amp;&amp; self.ub == other.ub
    }
}

impl std::cmp::PartialOrd for RB32{
    // this is usually enough to replace all the rest
    fn partial_cmp(&amp;self, other: &amp;Self) -&gt; Option&lt;std::cmp::Ordering&gt; {
        if self.ub &lt; other.lb {
            Some(std::cmp::Ordering::Less)
        } else if self.lb &gt; other.ub {
            Some(std::cmp::Ordering::Greater)
        } else if self.lb == other.lb &amp;&amp; self.ub == other.ub {
            Some(std::cmp::Ordering::Equal)
        } else {
            None // this is what differentiates Ord and PartialOrd
        }
    }

    // but since in out logic, (a &lt; b) ∨ (a = b) ≢ a ≤ b,
    // we have to define ≤ and ≥ explicitly.
    fn le(&amp;self, other: &amp;Self) -&gt; bool {
        (self.lb == other.lb &amp;&amp; self.lb == self.ub) ||
        (self.ub == other.ub &amp;&amp; other.lb == other.ub)
    }
    fn ge(&amp;self, other: &amp;Self) -&gt; bool {
        (self.ub == other.ub &amp;&amp; self.lb == self.ub) ||
        (self.lb == other.lb &amp;&amp; other.lb == other.ub)
    }
}</pre>

	<p>
The code is less verbose than in C++ or Python, and it would have been even less so if we were relying on Boolean algebra. With it, you don't even have to write <span>le</span> or <span>ge</span> methods explicitly, <span>cmp</span> is enough. With Boolean algebra, Rust can deduce the rest for you.
	</p>
	<p>
Ok, but that was the “definite” logic. But what about the “possible”?
	</p>
	<p>
I'm afraid, for this particular task, Rust comes short. In the “possible” interval logic, the intersecting intervals may be <span>a &lt; b</span>, and <span>a = b</span>, and <span>a &gt; b</span>, all at the same time. Every predicate is true since everything is possible. You can't program that with Rust <a href="https://doc.rust-lang.org/std/cmp/enum.Ordering.html">Ordering</a>. However, this is not a flaw, this is a design choice.
	</p>
	<p>
Non-Boolean logics are rare, and relations more general than partial order are almost never useful. If you really really want this kind of logic, you can still implement it using functions and not operators. At the same time, you can expect that if a class implements the <span>std::cmp::Ord</span> trait, then all the sorting algorithms will work with it correctly. While in C++, a sorting algorithm will run on anything with the <span>operator&lt;</span> reloaded with no correctness guaranteed or even pinky-promised.
	</p>
	<h2>
Conclusion
	</h2>
	<p>
Non-Boolean logics are rare but not extinct. Interval logic is one example. Sometimes, you can implement a logic you want within total order or partial order but sometimes even that isn't enough and you need an even more general relation. With operator overloading, you have the freedom to go there but you also have less assurance when working within the total order.
	</p>

	


	
	</div></div>]]>
            </description>
            <link>https://wordsandbuttons.online/partial_order_and_non_boolean_logic.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25545543</guid>
            <pubDate>Sat, 26 Dec 2020 19:02:52 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[What’s the best non-smart TV sold today?]]>
            </title>
            <description>
<![CDATA[
Score 208 | Comments 241 (<a href="https://news.ycombinator.com/item?id=25544831">thread link</a>) | @thomas
<br/>
December 26, 2020 | https://helpatmyhome.com/best-non-smart-tv/ | <a href="https://web.archive.org/web/*/https://helpatmyhome.com/best-non-smart-tv/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><main id="genesis-content"><article aria-label="What’s The Best Non-Smart TV Sold Today?"><div itemprop="text">
<p>With the industry-wide transition to smart TVs many of us have felt like there is no option but to get one. And the walls are closing in — it seems like almost every TV sold today is a smart one, which means a lack of control of what’s happening on our device, the possibility of the company deciding one day to show us ads (as Samsung as done), and the certainty that our viewing and usage data is being sent off to all sorts of third parties. </p>



<p>The solution? Buy a dumb TV!</p>



<h2><span id="What_Is_A_Dumb_TV">What Is A Dumb TV?</span></h2>



<p>The alternative to Smart TVs are, of course, non-smart TVs or, as people have taken to calling them, dumb TVs. These are televisions without an internet connection, without built-in HBO Max or Disney, without Amazon Alexa, and lacking apps of any kind. A dumb TV is the television equivalent of a flip phone. </p>



<p>Just because your TV is dumb doesn’t mean you can’t use Roku or Apple TV, etc. In this case you are simply opting to plug those devices into your TV via HDMI rather than having them built in. In almost all cases the plugged in device is better than having the software version built into your TV, so you are making your TV be smart instead of being forced to have one. </p>



<h2><span id="Why_Not_Buy_An_Old_TV">Why Not Buy An Old TV?</span></h2>



<p>You can definitely buy an old TV to solve this problem instead of hunting around for an increasingly rare non-smart in 2021. Televisions age pretty well, so as long as you can find something relatively high quality and made in the last 8 (or so) years you are good to go. </p>



<p>You’ll mainly need to ensure that your older model is in good physical condition, has enough HDMI ports to suit a current user, has no burn-in or wear issues, has a working remote, doesn’t have cracked or wrecked speakers, and that the color hasn’t gone crazy over time. You’ll also want to make sure your TV is an LED TV, so it’s power efficient and looks great, instead of using an outdated technology (like plasma). </p>



<p>For example, I have a Samsung dumb TV from 2012 (or so) that works perfectly well, has sufficient volume, and completely gets the job done. It was a good TV when I bought it, and it’s a great TV now, because it doesn’t have any of the features that I don’t want — and can’t avoid — today. </p>



<h2><span id="Just_Dont_Connect_It_To_the_Internet">Just Don’t Connect It To the Internet</span></h2>



<p>A smart TV can’ the smart without an internet connection so one thing you can do to get a dumb TV is to simply not connect it to your WiFi network. Your TV will will work since it’s connect through coax but the rest of the data cannot flow because the television doesn’t have an internet connection!</p>



<p>You can then go ahead and add a Nvidia Shield or Apple TV and connect that to the internet. This way the auxiliary devices will have internet connection <em>while you are using them</em>, but the TV itself (the hypervisor in this scenario) stays blissfully unaware of that internet connection. </p>



<p>Note, there have been scattered reports of some TVs, including those from Samsung, simply searching for open WiFi signals and attempting to connect to them, but this is an extreme and user-hostile example that hopefully won’t be repeated (assuming its true in the first place).</p>



<p>Some smart TV will force you to connect them to the internet for firmware updates and will resort to frequent nagging to get you to do this, but very few will force you to do it or not work entirely without the connection (yet). </p>



<h2><span id="Best_Dumb_TVs">Best Dumb TVs</span></h2>



<p>Here are some intelligent picks in non-smart TVs. </p>



<figure><img loading="lazy" src="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter-1024x606.jpg" alt="" width="433" height="256" srcset="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter-1024x606.jpg 1024w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter-350x207.jpg 350w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter-768x454.jpg 768w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter-1536x908.jpg 1536w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/scapter.jpg 1782w" sizes="(max-width: 433px) 100vw, 433px"></figure><h2><span id="Sceptre_50-inch_4K_LED_TV">Sceptre 50-inch 4K LED TV</span></h2>



<p>Sceptre has generally been considered a mid-tier TV company, but they have done a good job of not transitioning entirely to Smart TVs. The <a href="https://amzn.to/3mZUDAp" target="_blank" rel="noreferrer noopener nofollow external" title="https://amzn.to/3mZUDAp" data-wpel-link="external">Sceptre U518CV-UM</a> is a 50-inch 4K that’s completely non-smart TV that is from the 2019 model year, so you are getting recent tech without the connectivity features that you don’t want.</p>



<ul><li>4K Television (3840×2160, UHD resolution)</li><li>Dimensions: 44.6 x 28.5 x 10.8 inches</li><li>Weight: 29.3 pounds</li></ul><p>Sceptre has the same non-smart TV in larger sizes as well, <a href="https://amzn.to/2VGHSyD" target="_blank" rel="noreferrer noopener nofollow external" title="https://amzn.to/2VGHSyD" data-wpel-link="external">up to 65-inches</a> if you need the extra size or have a big room to fill. </p>



<div><figure><img loading="lazy" src="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/insing-1024x622.jpg" alt="" width="341" height="207" srcset="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/insing-1024x622.jpg 1024w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/insing-350x213.jpg 350w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/insing-768x466.jpg 768w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/insing.jpg 1258w" sizes="(max-width: 341px) 100vw, 341px"></figure></div>



<h3><span id="Insignia_55-inch_Class_LED">Insignia 55-inch Class LED</span></h3>



<p>If you live near a Best Buy then you will have access to their house brand, Insignia. The Insignia 55-inch (NS-55D420NA20) is a LED-lit 1080p television that sells for about $300. It’s devoid of smart features but it has three HDMI ports and was first released in 2019. </p>



<p>This line of Insignia dumb TVs is sold from 19 inches up to 58 inches so there will be a TV for every room size. </p>



<div><figure><img loading="lazy" src="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/smasungbuns-1024x625.jpg" alt="" width="451" height="275" srcset="https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/smasungbuns-1024x625.jpg 1024w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/smasungbuns-350x214.jpg 350w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/smasungbuns-768x469.jpg 768w, https://125mq93n6tbi2g5emb29ys7u-wpengine.netdna-ssl.com/wp-content/uploads/2020/12/smasungbuns.jpg 1170w" sizes="(max-width: 451px) 100vw, 451px"></figure></div>



<h2><span id="Samsung_Business_BER_43-Inch">Samsung Business BER 43-Inch </span></h2>



<p>This <a href="https://amzn.to/2VFc4di" target="_blank" rel="noreferrer noopener nofollow external" title="https://amzn.to/2VFc4di" data-wpel-link="external">Samsung Business line TV</a> (model BE43R) is a full HD (1080p) LED TV that is part of Samsung’s commercial line, but doesn’t have the crazy price tag to reflect it. Commercial TV’s can get super experience for what seems like a normal TV — and for what will function like a normal TV if you are simply using it like one! The smartest feature this TV has is the ability to play images from a USB stick.</p>



<p>This TV has all the features you’d expect from a normal television, like HDMI input, and isn’t missing anything obvious. For example it still has integrated speakers and 1080p (1920×1080) resolution.</p>



<p>If you are open to commercial TVs there <a href="https://amzn.to/3gdIm8R" target="_blank" rel="noreferrer noopener nofollow external" title="https://amzn.to/3gdIm8R" data-wpel-link="external">are a huge number to explore</a>.</p>



<h2><span id="Dumb_TV_Alternatives">Dumb TV Alternatives</span></h2>



<p>Of course there are other ways to avoid a smart TV. Here are some bright ideas…</p>



<ul><li><strong>Projector:</strong> The smart device revolution has really come to projectors yet, so you can watch your TV and movies through a projector without having to worry about your privacy or ads</li><li><strong>Monitor:</strong> Computer monitors haven’t gotten smart (since they are connected to something smart) so if you watch television on a computer monitor you’ll have no need to worry about built-in Alexa or Google Home</li><li><strong>Business TV (aka Commercial Display):</strong> A <a href="https://www.neweggbusiness.com/s/commercial-tvs/id-3672" target="_blank" rel="noreferrer noopener nofollow external" title="https://www.neweggbusiness.com/s/commercial-tvs/id-3672" data-wpel-link="external">business-focused TV</a> (something you’d see hung in an office or airport and playing CNN all day on mute) is designed for simplicity and long-lasting performance. These haven’t yet gotten smart and will likely stay dumb for years as they need to have error- and update-free operation for years on end</li><li><strong>Outdoor TV:</strong> For some reason outdoor and weatherproof televisions have yet to go smart. Here is a <a href="https://amzn.to/3lMr0B0" target="_blank" rel="noreferrer noopener nofollow external" title="https://amzn.to/3lMr0B0" data-wpel-link="external">good example of one from Furrion</a>.</li></ul><h2><span id="FAQs">FAQs</span></h2>


<div><ol><li><strong>Can I use PiHole or a similar device to block the ads and privacy leaks from my smart TV?</strong><p>You'd think this would work, but manufacturers have gotten wise to the PiHole and other methods of blocking tracking and advertising injection so, no, you really can't. At this point many manufacturers will take measures like building ads into the core technology of their software so blocking ads will break other features. Also many manufacturers will hardcode their DNS to their preferred vendor, not allowing you to override their option with your PiHole. </p></li></ol></div></div></article></main></div></div></div>]]>
            </description>
            <link>https://helpatmyhome.com/best-non-smart-tv/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25544831</guid>
            <pubDate>Sat, 26 Dec 2020 17:26:42 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Is PHP still relevant in 2021?]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 4 (<a href="https://news.ycombinator.com/item?id=25544627">thread link</a>) | @karakanb
<br/>
December 26, 2020 | https://saasstarterkit.app/blog/is-php-still-relevant-2021 | <a href="https://web.archive.org/web/*/https://saasstarterkit.app/blog/is-php-still-relevant-2021">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="site-main" role="main">
<div>
<article>

<figure>
</figure>
<section>
<div>
<p>As one of the poster childs for bad programming languages, PHP has always been in the top 5 “worst programming languages”; however, as of 2021, is that still a thing?</p>

<p>PHP was developed by <a href="https://en.wikipedia.org/wiki/Rasmus_Lerdorf">Rasmus Lerdorf</a> in 1994. Lerdorf developed a bunch of scripts to track the visits to his online resume, and named them as “Personal Home Page Tools”, which then evolved into being called as “PHP Tools”. He kept adding more tools to this suite, and at some point pulled off a rewrite of the tools, including added functionality for database interactions and more, turning it into a more complete framework. From that point on, the tools have evolved into a more complex primitives and kept gaining more users after it is <a href="https://groups.google.com/g/comp.infosystems.www.authoring.cgi/c/PyJ25gZ6z7A/m/M9FkTUVDfcwJ?pli=1">open-sourced</a> in 1995. A more detailed history of the language can be found in <a href="https://www.php.net/manual/en/history.php.php">the official PHP website</a>.</p>
<p>As of now, the latest version of the PHP language is 8.0.</p>

<p>The language has had a target on its back for years now, and people are rightfully calling out the bad taste they have with the language, especially with the older versions. The language has been developed with the intention of being a templating language, rather than being a full-blown programming language; therefore, there are some downsides with it that made it especially harder to maintain larger apps.</p>
<h2 id="weak-typing">Weak Typing</h2>
<p>One part of the language that I personally dislike is the weak typing that allows combining different types and casts them implicitly. Consider the following example:</p>
<div><div><pre><code><span>echo</span> <span>"1"</span> <span>+</span> <span>3</span><span>;</span>
<span>echo</span> <span>1</span> <span>+</span> <span>"3"</span><span>;</span>
<span>echo</span> <span>"1"</span> <span>+</span> <span>"3"</span><span>;</span>
</code></pre></div></div>
<p>The results of all these operations are <code>4</code>, which means the language casts the numbers in the string to integers in the context of the addition operator. This might be desirable in some cases or it might save a few lines of code here and there, but the larger a project gets, the harder it becomes to maintain it.</p>
<p>The more recent versions of the language have started introducing warnings for these kinds of weird and invalid operations, which means that they are either deprecated or already on their way to be deprecated.</p>
<h2 id="lack-of-namespaces">Lack of Namespaces</h2>
<p>The support for namespaces has been introduced in PHP by the version 5.3, which means that all the older projects have had to build their own kind of namespacing, which usually relied on adding namespaces to the class and method names, requiring absurdly long names everywhere. For projects that were developed with the prior versions, it is very common to see classes named like <code>Payments_Provider_ProcessorProvider_SomeExternalServiceProvider</code> whereas it could have been named like <code>SomeExternalServiceProvider</code> simply. This results in very verbose code in most of the cases, and it makes it harder to read and skim through the code.</p>
<p>The more recent versions of the language doesn’t have this problem though.</p>
<h2 id="inconsistent-standard-library-functions">Inconsistent Standard Library Functions</h2>
<p>I am not saying the standard library of the language is bad, but one could argue that it could have been better. To be fair, the language has been improving quite a lot, but the early versions of the standard library, which is already being used, referenced and supported due to backwards compatibility results, were lacking consistency. Although a small disturbance, this meant that many of the standard library functions had different naming conventions, argument names and ordering, making it harder to assume the defaults and the behavior.</p>
<p>Here are some naming inconsistencies with the string methods:</p>
<ul>
<li><a href="https://www.php.net/manual/en/function.strpos.php"><code>strpos(string $haystack, string $needle, int $offset = 0): int|false</code></a>: Find the position of the first occurrence of a substring in a string.</li>
<li><a href="https://www.php.net/manual/en/function.str-split.php"><code>str_split(string $string, int $length = 1): array</code></a>: Convert a string to an array.</li>
<li><a href="https://www.php.net/manual/en/function.explode.php"><code> explode(string $separator, string $string, int $limit = PHP_INT_MAX): array</code></a>: Split a string by a string.</li>
</ul>
<p>Three different functions, one with a <code>str</code> prefix, another with <code>str_</code> prefix, and the third with no prefix. The <code>$string</code> argument is the first argument for <code>str_split</code>, but the second one for the <code>explode</code> one. You can check out all the string methods <a href="https://www.php.net/manual/en/ref.strings.php">in the documentation</a>, and each of these patterns have many functions following similar patterns, meaning that there is not much of a consistency with these functions.</p>
<h2 id="superglobals">Superglobals</h2>
<p>More of personal choice, but I hate the use of the globals, and consequently <a href="https://www.php.net/manual/en/language.variables.superglobals.php">superglobals</a>. Especially if you run into some home-baked old projects, it is highly likely that you’ll run into the famous variables like <code>$_SERVER</code> or <code>$_REQUEST</code>. Don’t get me wrong, these are very helpful sometimes and will need to be used eventually; however, encapsulating these into reusable classes should be done as one of the first steps in order to be able to use these values safely. If not, touching these values or doing any change in a slightly larger project gets a very complicated experience where there are many hidden dependencies on these values.</p>

<p>Even though it had left a bad taste in many people’s mouth, the language itself has been improving quite a lot in the last few years. With the release of PHP 7, the language has gone through a modernization process where many nice features were introduced to the language basics, the speed was improved, and the usability has increased quite a lot.</p>
<h2 id="type-hints">Type-hints</h2>
<p>This is one of my favorite ways of modernizing legacy PHP code: using non-enforced type-hints that handle type casting as well as providing documentation for the code. Check out the following simple function:</p>
<div><div><pre><code><span>function</span> <span>isValueSomething</span><span>(</span><span>$value</span><span>)</span> <span>{}</span>
</code></pre></div></div>
<p>If you include the type hints, it becomes something like this:</p>
<div><div><pre><code><span>function</span> <span>isValueSomething</span><span>(</span><span>string</span> <span>$value</span><span>)</span><span>:</span> <span>bool</span> <span>{}</span>
</code></pre></div></div>
<p>Just by looking at the signature, we are able to tell it expects a string value, and it will return a boolean result. One could claim that the naming convention could have been useful here as well, but these type-hints reassure that the values will be of those types, as well as giving the IDE a lot of power for auto-complete and static analysis with warnings and stuff.</p>
<p>Since PHP 7.4, PHP allows defining typed properties for classes as well:</p>
<div><div><pre><code><span>class</span> <span>Person</span> <span>{</span>
    <span>public</span> <span>string</span> <span>$firstName</span><span>;</span>

    <span>public</span> <span>string</span> <span>$lastName</span><span>;</span> 

    <span>public</span> <span>int</span> <span>$age</span><span>;</span>

    <span>public</span> <span>?</span><span>string</span> <span>$job</span><span>;</span>
<span>}</span>
</code></pre></div></div>
<p>This means your <code>Person</code> objects will have string first and last names, an integer age, and a nullable string value for the job. Being able to define this becomes very useful the more classes you have.</p>
<h2 id="syntax-improvements">Syntax Improvements</h2>
<p>PHP now has bunch of syntactical improvements:</p>
<ul>
<li><a href="https://www.php.net/manual/en/functions.arrow.php">Arrow functions</a>: <code>fn ($x, $y) =&gt; $x + $y;</code></li>
<li>Null coalescing operator: <code>$value = $array['key'] ?? 'default value';</code></li>
<li>Null coalescing assignment: <code>return $cache['key'] ??= computeSomeValue('key')</code>;</li>
<li>Array spreading: <code>$first = ['a', 'b']; $second = ['c', 'd']; $final = [...$first, ...$second];</code></li>
<li><a href="https://www.php.net/manual/en/functions.arguments.php#functions.named-arguments">Named arguments</a>: <code>array_fill(start_index: 0, num: 100, value: 50);</code></li>
<li>Numeric literal separator: <code>299_792_458</code></li>
</ul>
<p>In addition to these syntactical improvements, it also includes stuff for more complex improvements.</p>
<h3 id="constructor-promotion"><a href="https://www.php.net/manual/en/language.oop5.decon.php#language.oop5.decon.constructor.promotion">Constructor Promotion</a></h3>
<p>Look at the following Person class:</p>
<div><div><pre><code><span>class</span> <span>Person</span> <span>{</span>
    <span>private</span> <span>string</span> <span>$firstName</span><span>;</span>

    <span>private</span> <span>string</span> <span>$lastName</span><span>;</span> 

    <span>protected</span> <span>int</span> <span>$age</span><span>;</span>

    <span>public</span> <span>?</span><span>string</span> <span>$job</span><span>;</span>

    <span>public</span> <span>function</span> <span>__construct</span><span>(</span>
        <span>string</span> <span>$firstName</span><span>,</span>
        <span>string</span> <span>$lastName</span><span>,</span>
        <span>int</span> <span>$age</span><span>,</span>
        <span>?</span><span>string</span> <span>$job</span>
    <span>){</span>
        <span>$this</span><span>-&gt;</span><span>firstName</span> <span>=</span> <span>$firstName</span><span>;</span>
        <span>$this</span><span>-&gt;</span><span>lastName</span> <span>=</span> <span>$lastName</span><span>;</span>
        <span>$this</span><span>-&gt;</span><span>age</span> <span>=</span> <span>$age</span><span>;</span>
        <span>$this</span><span>-&gt;</span><span>job</span> <span>=</span> <span>$job</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>
<p>Instead of having this unnecessarily verbose code, PHP 8 supports writing the following code:</p>
<div><div><pre><code><span>class</span> <span>Person</span> <span>{</span>
    <span>public</span> <span>function</span> <span>__construct</span><span>(</span>
        <span>private</span> <span>string</span> <span>$firstName</span><span>,</span>
        <span>private</span> <span>string</span> <span>$lastName</span><span>,</span>
        <span>protected</span> <span>int</span> <span>$age</span><span>,</span>
        <span>public</span> <span>?</span><span>string</span> <span>$job</span>
    <span>){}</span>
<span>}</span>
</code></pre></div></div>
<h3 id="nullsafe-operator"><a href="https://www.php.net/manual/en/language.oop5.basic.php#language.oop5.basic.nullsafe">Nullsafe Operator</a></h3>
<p>This is something that had existed in some other languages like Javascript but PHP didn’t have the support for this. Take a look at the following code which I grabbed from the PHP docs:</p>
<div><div><pre><code><span>if</span> <span>(</span><span>is_null</span><span>(</span><span>$repository</span><span>))</span> <span>{</span>
    <span>$result</span> <span>=</span> <span>null</span><span>;</span>
<span>}</span> <span>else</span> <span>{</span>
    <span>$user</span> <span>=</span> <span>$repository</span><span>-&gt;</span><span>getUser</span><span>(</span><span>5</span><span>);</span>
    <span>if</span> <span>(</span><span>is_null</span><span>(</span><span>$user</span><span>))</span> <span>{</span>
        <span>$result</span> <span>=</span> <span>null</span><span>;</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>$result</span> <span>=</span> <span>$user</span><span>-&gt;</span><span>name</span><span>;</span>
    <span>}</span>
<span>}</span>
</code></pre></div></div>
<p>This was how the logic would be written with the older PHP versions with respect to null-checks. The new nullsafe operator allows converting this to simply:</p>
<div><div><pre><code><span>$result</span> <span>=</span> <span>$repository</span><span>?-&gt;</span><span>getUser</span><span>(</span><span>5</span><span>)</span><span>?-&gt;</span><span>name</span><span>;</span>
</code></pre></div></div>
<p>Isn’t it gorgeous?</p>
<h3 id="union-types"><a href="https://www.php.net/manual/en/language.types.declarations.php#language.types.declarations.union">Union Types</a></h3>
<p>Even though this is a less favorite feature of mine, it is still valuable for the cases where there is already multiple possible types and we don’t type-hint anything. Union types simply allow defining multiple types for a value as options. Thanks to the union types, the following code becomes valid:</p>
<div><div><pre><code><span>function</span> <span>doSomething</span><span>(</span><span>int</span><span>|</span><span>string</span> <span>$value</span><span>)</span><span>:</span> <span>bool</span><span>|</span><span>array</span> <span>{}</span>
</code></pre></div></div>
<p>Usually having multiple return types indicate an opportunity for improvement, but previous versions of PHP didn’t allow us to define types for cases like these at all, so having this is still an improvement.</p>
<h2 id="performance">Performance</h2>
<p>I don’t have any hard numbers compared to other languages, but PHP has improved significantly over time compared to the previous versions. In addition to the jump PHP 7 brought over PHP 5.6, all the consecutive releases have brought several percent-point improvements at least and the trend is continuing. Some benchmarks <a href="https://www.phoronix.com/scan.php?page=article&amp;item=php-74-benchmarks&amp;num=2">done by Phoronix</a> show that the latest PHP 8 is more than 3x faster than PHP 5.6. There are more detailed tests in the original posts, make sure to give it a look.</p>
<p><img src="https://saasstarterkit.app/blog/assets/images/posts/is-php-still-relevant/php-benchmark-1.png" alt="PHP Benchmark 1"></p>
<p>In addition to those benchmarks, Kinsta has also conducted some real-world benchmarks with tools like Wordpress, <a href="https://kinsta.com/blog/php-benchmarks/#">full article here</a>. Here’s the result for Wordpress 5.3:</p>
<p><img src="https://saasstarterkit.app/blog/assets/images/posts/is-php-still-relevant/php-benchmark-2.png" alt="PHP Benchmark 2"></p>
<p>The numeric results they have shared are:</p>
<ul>
<li>WordPress 5.3 PHP 5.6 benchmark: <code>97.71 req/sec</code></li>
<li>WordPress 5.3 PHP 7.0 benchmark results: <code>256.81 req/sec</code></li>
<li>WordPress 5.3 PHP 7.1 benchmark results: <code>256.99 req/sec</code></li>
<li>WordPress 5.3 PHP 7.2 benchmark results: <code>273.07 req/sec</code></li>
<li>WordPress 5.3 PHP 7.3 benchmark results: <code>305.59 req/sec</code></li>
<li>WordPress 5.3 PHP 7.4 benchmark results: <code>313.42 req/sec</code></li>
</ul>
<p>These benchmarks do not include PHP 8 yet, but the 7.4 is capable of handling 3x requests of 5.6, which is a pretty significant improvement.</p>

<p>Overall, PHP has improved quite a lot over …</p></div></section></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://saasstarterkit.app/blog/is-php-still-relevant-2021">https://saasstarterkit.app/blog/is-php-still-relevant-2021</a></em></p>]]>
            </description>
            <link>https://saasstarterkit.app/blog/is-php-still-relevant-2021</link>
            <guid isPermaLink="false">hacker-news-small-sites-25544627</guid>
            <pubDate>Sat, 26 Dec 2020 16:59:32 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Lawyers automate this, so why don't airlines?]]>
            </title>
            <description>
<![CDATA[
Score 178 | Comments 145 (<a href="https://news.ycombinator.com/item?id=25543861">thread link</a>) | @leejo
<br/>
December 26, 2020 | https://leejo.github.io/2020/12/26/EZY1952/ | <a href="https://web.archive.org/web/*/https://leejo.github.io/2020/12/26/EZY1952/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
			<p>
				<center>Lawyers Automate This, So Why Don't Airlines?</center>
			</p>
			<div>
				<center>
				
				
				

				December 26, 2020 (
				
				
					<a href="https://leejo.github.io/2020/11/19/some_kind_of_paypal_refund_scam/">Prev</a>
				
				/
				
					Next
				
			)

			
				</center>
			</div>
			<p>My working title for this blog post was “Why I’ll Never Fly With easyJet Again”, but that was far too clickbaity. Also it’s probably worth prefixing this post with two things. The first being the caveat that whether or not i ever fly with easyJet again is immaterial to their business, given that the model of budget airlines is one of opportunistic sales. Their loyalty programmes are minimal to non-existent<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup> (although that may change in the near future<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup>) because the nature of their passengers is not one of loyalty. When you’re looking for a short haul cheap flight you’re unlikely to be attracted to schemes that only benefit you after years, or hundreds of thousands of air miles, worth of loyalty.</p>

<p>The reality of the budget airlines is they don’t have to worry about losing future passengers, thousands of them even, because there will always be enough replacement passengers. Budget airlines’ flights average above a 90% occupancy rate<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>.</p>

<p>So the point of me never flying with easyJet again is not because i am under any illusion that it will be detrimental to their business, it won’t, but rather to protect <em>myself</em> should the situation happen again. They’re not the first airline to make my “list”, but the others have reasons that aren’t interesting enough to require a blog post.</p>

<p>What i am hoping with this post is that it gives the reader enough information that, should they find themselves in a similar situation, they are more informed as to their options and the potential ramifications of the choice they make. This is going to affect more travelers when the UK leaves the EU.</p>

<p>The second prefix is that easyJet recently posted their first year of losses<sup id="fnref:10" role="doc-noteref"><a href="#fn:10">4</a></sup>, due to the current global situation. I started writing this post sometime in 2019, way before the pandemic royally fucked the airline industry. It’s arguable that the airline industry being royally fucked was only a matter of time, and the consequences of <em>that</em> could mean the details here are now even more relevant - It may become even harder to claim refunds and compensation from them in the future. Airline companies will probably double down on their approach to handling compensation claims to avoid yet more financial loss.</p>

<p><strong>EZY1952</strong></p>

<p>On 23rd December 2018 my partner and I were due to fly from Geneva to Manchester on easyJet flight EZY1952, aircraft registration G-EZRU, which was scheduled to depart at 16:50 CET and arrive at 17:50 GMT. I had booked these flights a couple of months earlier, which combined with the date of our departure and return lead to a total cost of 619.38 CHF.</p>

<p>The 600+ CHF didn’t include any of the optional extras, priority boarding, seat choice, checked bags, etc. It was the “basic” cost of the “cheap” flights. This cost is four to five times more than the normal cost of this route, as I said due to the relatively late booking (two months in advance) and the dates of the flights. This route is normally far cheaper:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/EZY1952/typical_cost.png"></p>

<p>Anyway, given the alternatives and the limited options for our dates these were the flights we settled on and decide the cost was worth it to spend Xmas with the family. The flight was delayed by just a few minutes, which isn’t unusual for this route, but then took off as normal at 17:14:05 CET.</p>

<p>A few moments after take off, the literal wheels no longer being on the ground part of it, I felt my ears pop quite suddenly. That might not be taken as unusual either, but I live at altitude and my ears don’t normally pop on flights. The plane then spent several minutes in low cloud, another unusual thing given the cloud line is normally cut through quicker. I turned to my partner and suggested that something was off.</p>

<p>A couple of minutes later the pilot informed us that the flight would be returning to Geneva airport as the cabin pressure system, and its backup, had failed. Given the potentially catastrophic consequences of the cabin pressure system failing at cruising altitude, I considered that everyone on the plane had been very lucky.</p>

<p>The plane landed safely at Geneva airport at 17:41:00 CET, meaning a total flight time of about 25 minutes<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">5</a></sup>. I contacted my parents to let them know we wouldn’t be arriving as planned and would keep them informed as to any updates:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/EZY1952/messages_to_mum.png"></p>

<p>We remained on the plane, after the pilot informed us that the technical crew were going to look into the issue. We were then told the parts would be replaced/fixed and this would take three to four hours. At this point I knew that we would not be flying until the next day as a) it was now 19:00 and Geneva airport has strict limitations on flights after 22:00, and b) it would be massively irresponsible of the airline to let this plane fly without a more comprehensive test that would probably take longer than the three to four hour estimate<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup>.</p>

<p>Since it was going to take a few hours all passengers disembarked and returned to the departure gate. I’m not sure how long we were on the plane, while it was on the ground, but looking at the evidence I kept afterwards it appears that we were on it for approximately one hour fifteen minutes. This is from the time it landed to receiving a text message from easyJet apologising for the delay:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/EZY1952/sorry_for_delay.png"></p>

<p>As soon as we got back into the gate I sat down and checked to see if there were any other flights available. Sure enough there was: we could get a one way easyJet flight to Liverpool, so I booked two seats for a total of 189.26 CHF. This flight would depart at 21:25 CET and arrive at 22:20 GMT, four hours and thirty minutes after our original arrival time.</p>

<p>It should be said at this point I was reasonably confident of a few things:</p>

<ul>
  <li>It was highly unlikely the original fight was going to depart that night</li>
  <li>In fact, it would probably be delayed until the next afternoon</li>
  <li>We would have all the inconvenience of that, and lose one third of our time in the UK</li>
  <li>Given the original arrival time was delayed by more than three hours we were covered by EU Regulation 261/2004</li>
  <li>So the airline would have to compensate €250 for each of us, which would at least cover the alternate flights I had booked</li>
</ul>

<p>I was correct on four out of five of these:</p>

<p><img width="625px" src="https://leejo.github.io/images/2020/EZY1952/delayed_overnight.png"></p>

<p>Our flight to Liverpool went without issue, and we weren’t the only people to have rebooked from the delayed flight as we overheard some other passengers explaining their situation to the cabin crew<sup id="fnref:7" role="doc-noteref"><a href="#fn:7">7</a></sup>.</p>

<p><strong>Contacting easyJet Customer Service</strong></p>

<p>The next day I used easyJet’s contact form to submit a claim under EC261/2004 regulations. I knew this was going to take a long time so figured I may as well start the process as soon as possible. My claim was made on the basis that the original flight had been delayed overnight and I had booked alternate travel arrangements to get to my destination.</p>

<p>I considered the cost of the original flights a sunk cost. I wasn’t actually interested in compensation and I just wanted the cost of the alternate flights refunded, which came in at less than half the amount of compensation EC261/2004 would give considering the length of the delay to the original flight.</p>

<p>The response from easyJet came back quickly, the next day: <em>As you were a no show on the flight we would not be able t reimburse the costs for alternate transport.</em> - well that didn’t read like a response by someone/thing that had actually looked into the details. We had shown up for the flight, given we were on it when the pressure systems failed, and clearly we wouldn’t show up for the <em>rescheduled</em> flight if we arranged alternate transport as we can’t be in two places at once.</p>

<p>I assumed this was just a first level response of “refuse all claims, through a semantic dispute, because this will cause a not insignificant number of people to give up”<sup id="fnref:8" role="doc-noteref"><a href="#fn:8">8</a></sup>. The contact form doesn’t have a place to describe the reason for the claim in detail so I needed to call easyJet to explain.</p>

<p><strong>EU Regulation 261/2004</strong></p>

<p>I’ll spare you too much detail, as you can search for it if you want to (or read a summary on <a href="https://en.wikipedia.org/wiki/Flight_Compensation_Regulation">Wikipedia</a>). Essentially - EU 261/2004 allows compensation if your flight is from or to an EU/EAA area and is either delayed or cancelled [less than one week before the flight date]. The level of compensation depends on the distance of the flight.</p>

<p>In this particular case the delay was more than four hours, and the flight was less than 1,500km, so would qualify for €250 compensation (per passenger).</p>

<p>The regulation also says the passengers must be given assistance, and in this particular case of the flight being delayed overnight would mean hotel accommodation and transport between the airport and the hotel. This was Geneva two days from Xmas, so that would probably mean another €250.</p>

<p>So a reasonable estimate is easyJet would be paying in the region of €750 per passenger on this delayed flight. Given it was full (at least to my recollection) easyJet were looking at a bill of at least €100,000 for compensation + accommodation expenses<sup id="fnref:9" role="doc-noteref"><a href="#fn:9">9</a></sup>.</p>

<p>To go off on a tangent slightly - all of this is going to be up in the air when the UK leaves the EU. Of course that depends what the UK government <a href="https://en.wikipedia.org/wiki/Flight_Compensation_Regulation#Brexit_and_British_Consumers">decide to do about it</a>. Given everything else on their plate don’t be surprised if this one gets forgotten about until the claims start to appear.</p>

<p><strong>Contacting easyJet Customer Service Again</strong></p>

<p>As my claim, via easyJet’s web form, was rejected relatively quickly I decided to pick up the phone and see if speaking to someone would make a difference. I explained the situation and they agreed to pass this on to someone who would look at it in more detail, given the time of year this would take a few days at the least.</p>

<p>A couple of weeks later I received an email stating “Unfortunately as you were a no show on the transferred flight there is no reimbursement for EUC216 Compensation”. But also “As a goodwill gesture I have created a flight voucher to the value of the 51.90 GBP”.</p>

<p>Slightly odd - no …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://leejo.github.io/2020/12/26/EZY1952/">https://leejo.github.io/2020/12/26/EZY1952/</a></em></p>]]>
            </description>
            <link>https://leejo.github.io/2020/12/26/EZY1952/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25543861</guid>
            <pubDate>Sat, 26 Dec 2020 15:08:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[They want us to be compliant, not secure]]>
            </title>
            <description>
<![CDATA[
Score 191 | Comments 165 (<a href="https://news.ycombinator.com/item?id=25543818">thread link</a>) | @_wldu
<br/>
December 26, 2020 | https://www.go350.com/posts/they-want-us-to-be-compliant-not-secure/ | <a href="https://web.archive.org/web/*/https://www.go350.com/posts/they-want-us-to-be-compliant-not-secure/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><p>Some years ago, I worked for an organization that was involved in federally funded research. Occasionally, government IT auditors (or contractors that they hired) would visit our facilities to audit our systems.</p><p>We used a wide variety of operating systems on several different hardware platforms. Windows, Mac, Linux and Unix systems were scattered throughout our buildings running on desktops, laptops, workstation, servers and embedded devices. We ran several different Linux distributions, multiple Unixes and had standardized on <a href="https://en.wikipedia.org/wiki/Bcrypt">bcrypt</a> hashes to store user passwords.</p><p>Bcrypt was released in 1999 and is based on <a href="https://www.schneier.com/academic/blowfish/">Blowfish</a>. Blowfish is a fast, unpatented block cipher that was developed by <a href="https://en.wikipedia.org/wiki/Bruce_Schneier">Bruce Schneier</a> in 1993. It’s been in the mainline Linux kernel since the 2.6 release.</p><p>Bcrypt is a fast and efficient password hash yet strong and hard to attack. At the time, it was the strongest password hash that we could use and as an added bonus, it worked on all of our Linux and Unix systems.</p><p>One particular year, the IT auditors realized that we were using bcrypt hashes to store user passwords. They said that it was not a <a href="https://csrc.nist.gov/publications/detail/fips/180/4/final">FIPS approved algorithm</a> and by using bcrypt hashes, we were noncompliant. They insisted that we switch to a SHA-2 based hash function right away.</p><p>We ran several tests that demonstrated how the SHA-2 hashes were much easier to crack than the bcrypt hashes (see below for a performance comparison on a semi-modern GPU). But the auditors were adamant. They did not care that the approved algorithms were weaker. Nothing would change their decision.</p><p>In their minds, it was a simple matter. Bcrypt was not on the list. It was not an approved hashing function. They would not discuss it further.</p><p>To satisfy the auditors, we switched all the systems to an approved SHA-2 hash function. This action probably made our systems more vulnerable to cyber attacks.</p><p>A colleague said, <em>“They want us to be compliant, not secure.”</em></p><div><pre><code data-lang="bash">$ hashcat -b -m <span>1800</span>
hashcat <span>(</span>v5.1.0<span>)</span> starting in benchmark mode...

OpenCL Platform <span>#1: NVIDIA Corporation</span>
<span>======================================</span>
* Device <span>#1: GeForce GTX 1060 6GB, 1519/6077 MB allocatable, 10MCU</span>

Benchmark relevant options:
<span>===========================</span>
* --optimized-kernel-enable

Hashmode: <span>1800</span> - sha512crypt $6$, SHA512 <span>(</span>Unix<span>)</span> <span>(</span>Iterations: 5000<span>)</span>

Speed.#1.........:    <span>78810</span> H/s <span>(</span>51.36ms<span>)</span> @ Accel:512 Loops:128 Thr:32 Vec:1
</code></pre></div><div><pre><code data-lang="bash">$ hashcat -b -m <span>3200</span>
hashcat <span>(</span>v5.1.0<span>)</span> starting in benchmark mode...

OpenCL Platform <span>#1: NVIDIA Corporation</span>
<span>======================================</span>
* Device <span>#1: GeForce GTX 1060 6GB, 1519/6077 MB allocatable, 10MCU</span>

Benchmark relevant options:
<span>===========================</span>
* --optimized-kernel-enable

Hashmode: <span>3200</span> - bcrypt $2*$, Blowfish <span>(</span>Unix<span>)</span> <span>(</span>Iterations: 32<span>)</span>

Speed.#1.........:     <span>7570</span> H/s <span>(</span>41.13ms<span>)</span> @ Accel:16 Loops:8 Thr:8 Vec:1
</code></pre></div><ul><li><a href="https://www.go350.com/tags/compliance">compliance</a></li><li><a href="https://www.go350.com/tags/passwords">passwords</a></li></ul></div></div>]]>
            </description>
            <link>https://www.go350.com/posts/they-want-us-to-be-compliant-not-secure/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25543818</guid>
            <pubDate>Sat, 26 Dec 2020 14:56:14 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Executable PNGs]]>
            </title>
            <description>
<![CDATA[
Score 219 | Comments 39 (<a href="https://news.ycombinator.com/item?id=25543191">thread link</a>) | @todsacerdoti
<br/>
December 26, 2020 | https://djharper.dev/post/2020/12/26/executable-pngs/ | <a href="https://web.archive.org/web/*/https://djharper.dev/post/2020/12/26/executable-pngs/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<article>

<p>
<time datetime="2020-12-26">Saturday, December 26, 2020</time>
</p>
<figure>
<a href="https://djharper.dev/img/peek.webm"><video src="https://djharper.dev/img/peek.webm" loop="true" width="100%" title="The pixels have been adjusted in colour slightly." autoplay=""></video></a>
<figcaption><br>It's an image <i>and</i> a program</figcaption>
</figure>
<p>A few weeks ago I was reading about <a href="https://www.lexaloffle.com/pico-8.php">PICO-8</a>, a fantasy games console with limited constraints. What really piqued my interest about it was the novel way games are distributed, you encode them into a PNG image. This includes the game code, assets, everything. The image can be whatever you want, screenshots from the game, cool artwork or just text. To load them you pass the image as input to the PICO-8 program and start playing.</p>
<p>This got me thinking, wouldn’t it be cool if you could do that for programs on Linux? No! I hear you cry, that’s a dumb idea, but whatever, herein lies an overview of possibly the dumbest things I’ve worked on this year.</p>
<h2 id="encoding">Encoding</h2>
<p>I’m not entirely sure what PICO-8 is actually doing, but at a guess it’s probably use <a href="https://en.wikipedia.org/wiki/Steganography">Steganography</a> techniques to ‘hide’ the data within the raw bytes of the image. There are a lot of resources out there that explain how Steganography works, but the crux of it is quite simple, your image your want to hide data into is made up of bytes, an image is made up of pixels. Pixels are made up of 3 Red Green and Blue (RGB) values, represented as 3 bytes. To hide your data (the “payload”) you essentially “mix” the bytes from your payload with the bytes from the image.</p>
<p>If you just replaced each byte in your cover image with the bytes from your payload, you would end up with sections of the image looking distorted as the colours probably wouldn’t match with what your original image was. The trick is to be as subtle as possible, or <em>hide in plain sight</em>. This can be achieved by <em>spreading</em> your payload bytes over the bytes of the cover image by using the <em>least significant bits</em> to hide them in. In other words, make subtle adjustments to the byte values so the colour changes are not drastic enough to be perceptive by the human eye.</p>
<p>For example if your payload was the letter <code>H</code>, represented as <code>01001000</code> in binary (72), and your image contained a series of black pixels</p>
<figure>
<a href="https://djharper.dev/img/byte-replace1.png"><img src="https://djharper.dev/img/byte-replace1.png" title="The bits from the input bytes are spread across 8 output bytes by hiding them in the least significant bit"></a>
<figcaption><br>The bits from the input bytes are spread across 8 output bytes by hiding them in the least significant bit</figcaption>
</figure>
<p>The output is two-and-a-bit pixels that are slightly less black than before, but can you tell the difference?</p>
<figure>
<a href="https://djharper.dev/img/pixels1.png"><img src="https://djharper.dev/img/pixels1.png" title="The pixels have been adjusted in colour slightly."></a>
<figcaption><br>The pixels have been adjusted in colour slightly.</figcaption>
</figure>
<p>Well, an exceptionally trained colour connoisseur might be able to, but in reality these subtle shifts can really only be noticed by a machine. Retrieving your super secret <code>H</code> is just a matter of reading 8 bytes from the resulting image and re-assembling them back into 1 byte. Obviously hiding a single letter is lame, but this can scale to anything you want, a super secret sentence, a copy of <em>War and Peace</em>, a link to your soundcloud, the go compiler, the only limit is the amount of bytes available in your cover image as you’ll require at least 8x whatever your input is.</p>
<h2 id="hiding-programs">Hiding programs</h2>
<p>So, back to the whole linux-executables-in-an-image thing, that old chestnut. Well, seeing as executables are just bytes, they can be hidden in images. Just like in the PICO-8 thing.</p>
<p>Before I could achieve this I decided to write my own <a href="https://github.com/djhworld/steg">Steganography library</a> and <a href="https://github.com/djhworld/stegtool">tool</a> to support encoding and decoding data into PNGs. Yes, there are lots of steganography libraries and tools out there but I learn better by building.</p>
<figure>
<div><pre><code data-lang="bash">$ stegtool encode <span>\
</span><span></span>--cover-image htop-logo.png <span>\
</span><span></span>--input-data /usr/bin/htop <span>\
</span><span></span>--output-image htop.png
$
$ <span>echo</span> <span>"Super secret hidden message"</span> | stegtool encode <span>\ </span>
--cover-image image.png <span>\
</span><span></span>--output-image image-with-hidden-message.png
$ stegtool decode --image image-with-hidden-message.png
Super secret hidden message</code></pre></div>
</figure>
<p>As it’s all written in <a href="https://www.rust-lang.org/">Rust</a> it wasn’t that difficult to compile to WASM, so feel free to play with it here:</p>

<p>Anyway, now that can embed data, including executables into an image, how do we run them?</p>
<h2 id="get-it-running">Get it running</h2>
<p>The simple option would be to just run the tool above, <code>decode</code> the data into a new file, <code>chmod +x</code> it and then run it. It works but that’s not fun enough. What I wanted was something similar to the PICO-8 experience, you pass something a PNG image and it takes care of the rest.</p>
<p>However, as it turns out, you can’t just load some arbitrary set of bytes into memory and tell Linux to jump to it. Well, not in a direct way anyway, but you <em>can</em> use some cheap tricks to fudge it.</p>
<h2 id="memfd-create">memfd_create</h2>
<p>After reading <a href="https://magisterquis.github.io/2018/03/31/in-memory-only-elf-execution.html">this blogpost</a> it became apparent to me you can create an in-memory file and mark it as executable</p>
<blockquote>
<p>Wouldn’t it be cool to just grab a chunk of memory, put our binary in there, and run it without monkey-patching the kernel, rewriting execve(2) in userland, or loading a library into another process?</p>
</blockquote>
<p>This method uses the syscall <a href="https://man7.org/linux/man-pages/man2/memfd_create.2.html">memfd_create(2)</a> to create a file under the <code>/proc/self/fd</code> namespace of your process and load any data you want in it using <code>write</code>. I spent quite a while messing around with the <a href="https://crates.io/crates/libc">libc</a> bindings for Rust to get this to work, and had a lot of trouble understanding the data types you pass around, the documentation for these Rust bindings doesn’t help much.</p>
<p>I got something working eventually though</p>
<figure>
<div><pre><code data-lang="rust"><span>unsafe</span><span> </span>{<span>
</span><span>    </span><span>let</span><span> </span>write_mode<span> </span><span>=</span><span> </span><span>119</span>;<span> </span><span>// w
</span><span></span><span>    </span><span>// create executable in-memory file
</span><span></span><span>    </span><span>let</span><span> </span>fd<span> </span><span>=</span><span> </span>syscall(libc::SYS_memfd_create,<span> </span><span>&amp;</span>write_mode,<span> </span><span>1</span>);<span>
</span><span>    </span><span>if</span><span> </span>fd<span> </span><span>==</span><span> </span><span>-</span><span>1</span><span> </span>{<span>
</span><span>        </span><span>return</span><span> </span><span>Err</span>(<span>String</span>::from(<span>"memfd_create failed"</span>));<span>
</span><span>    </span>}<span>
</span><span>
</span><span>    </span><span>let</span><span> </span>file<span> </span><span>=</span><span> </span>libc::fdopen(fd,<span> </span><span>&amp;</span>write_mode);<span> 
</span><span>
</span><span>    </span><span>// write contents of our binary
</span><span></span><span>    </span>libc::fwrite(<span>
</span><span>        </span>data.as_ptr()<span> </span><span>as</span><span> </span><span>*</span><span>mut</span><span> </span>libc::c_void,<span> 
</span><span>        </span><span>8</span><span> </span><span>as</span><span> </span><span>usize</span>,<span>
</span><span>        </span>data.len()<span> </span><span>as</span><span> </span><span>usize</span>,<span>
</span><span>        </span>file,<span>
</span><span>    </span>);<span>
</span><span></span>}<span>
</span></code></pre></div>
</figure>
<p>Invoking <code>/proc/self/fd/&lt;fd&gt;</code> as a child process from the parent that created it is enough to run your binary.</p>
<figure>
<div><pre><code data-lang="rust"><span>let</span><span> </span>output<span> </span><span>=</span><span> </span>Command::new(format<span>!</span>(<span>"/proc/self/fd/{}"</span>,<span> </span>fd))<span>
</span><span>    </span>.args(args)<span>
</span><span>    </span>.stdin(std::process::Stdio::inherit())<span>
</span><span>    </span>.stdout(std::process::Stdio::inherit())<span>
</span><span>    </span>.stderr(std::process::Stdio::inherit())<span>
</span><span>    </span>.spawn();<span>
</span></code></pre></div>
</figure>
<p>Given these building blocks, I wrote <a href="https://github.com/djhworld/pngrun">pngrun</a> to run the images. It essentially…</p>
<ol>
<li>Accepts an image that has had our binary embedded in it from the steganography tool, and any arguments</li>
<li>Decodes it (i.e. extracts and re-assembles the bytes)</li>
<li>Creates an in-memory file using <code>memfd_create</code></li>
<li>Puts the bytes of the binary into the in-memory file</li>
<li>Invokes the file <code>/proc/self/fd/&lt;fd&gt;</code> as a child process, passing any arguments from the parent</li>
</ol>
<p>So you can run it like this</p>
<figure>
<div><pre><code data-lang="bash">$ pngrun htop.png
&lt;htop output&gt;
$ pngrun go.png run main.go
Hello world!</code></pre></div>
</figure>
<p>Once <code>pngrun</code> exits the in-memory file is destroyed.</p>
<h2 id="binfmt-misc">binfmt_misc</h2>
<p>It’s annoying having to type <code>pngrun</code> every time though, so my last cheap trick to this pointless gimmick was to use <a href="https://en.wikipedia.org/wiki/Binfmt_misc">binfmt_misc</a>, a system that allows you to “execute” files based on its file types. I think it was mainly designed for interpreters/virtual machines, like Java. So instead of typing <code>java -jar my-jar.jar</code> you can just type <code>./my-jar.jar</code> and it will invoke the <code>java</code> process to run your JAR. The caveat is your file <code>my-jar.jar</code> needs to be marked as executable first.</p>
<p>So adding an entry to binfmt_misc for <code>pngrun</code> to attempt to run any <code>png</code> files that have the <code>x</code> flag set was as simple as</p>
<figure>
<div><pre><code data-lang="bash">$ cat /etc/binfmt.d/pngrun.conf
:ExecutablePNG:E::png::/home/me/bin/pngrun:
$ sudo systemctl restart binfmt.d
$ chmod +x htop.png
$ ./htop.png
&lt;output&gt;</code></pre></div>
</figure>
<h2 id="what-s-the-point">What’s the point</h2>
<p>Well, there isn’t one really. I was seduced by the idea of making PNG images run programs and got a bit carried away with it, but it was fun none the less. There’s something amusing to me about distributing programs as an image, remember the ridiculous cardboard boxes PC software used to come in with artwork on the front, why not bring that back! (lets not)</p>
<p>It’s really dumb though and comes with a lot of caveats that make it completely pointless and impractical, the main one being needing the stupid <code>pngrun</code> program on your machine. But I also noticed some weird stuff around programs like <code>clang</code>. I encoded it into this fun LLVM logo and while it runs OK, it fails when you try to compile something.</p>
<figure>
<a href="https://djharper.dev/img/DragonMedium.png"><img src="https://djharper.dev/img/DragonMedium.png" title="Clang/LLVM logo"></a>
</figure>
<figure>
<div><pre><code data-lang="bash">$ ./clang.png --version
clang version <span>11</span>.0.0 <span>(</span>Fedora <span>11</span>.0.0-2.fc33<span>)</span>
Target: x86_64-unknown-linux-gnu
Thread model: posix
InstalledDir: /proc/self/fd
$ ./clang.png main.c
error: unable to execute command: Executable <span>""</span> doesn<span>'</span>t exist!</code></pre></div>
</figure>
<p>This is probably a product of the anonymous file thing, which can probably be overcome if I could be bothered to investigate.</p>
<h3 id="additional-reasons-why-this-is-dumb">Additional reasons why this is dumb</h3>
<p>A lot of binaries are quite large, and given the constraints of needing to fit them into an image, sometimes these need to be <em>big</em>, meaning you end up with comically large files.</p>
<p>Also most software isn’t just one executable so the dream of just distributing a PNG kinda falls flat for more complex software like games.</p>
<h2 id="conclusion">Conclusion</h2>
<p>This is probably the dumbest project I’ve worked on all year but it’s been fun, I’ve learned about Steganography, <code>memfd_create</code>, <code>binfmt_misc</code> and played a little more with Rust.</p>
</article>
</div></div>]]>
            </description>
            <link>https://djharper.dev/post/2020/12/26/executable-pngs/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25543191</guid>
            <pubDate>Sat, 26 Dec 2020 13:04:08 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[China vs. Democracy: A Handbook for Democracies]]>
            </title>
            <description>
<![CDATA[
Score 14 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25542990">thread link</a>) | @tillulen
<br/>
December 26, 2020 | https://halifaxtheforum.org/china-handbook/en/ | <a href="https://web.archive.org/web/*/https://halifaxtheforum.org/china-handbook/en/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">

	<div id="content">





	<div id="fullwidth">
		<main id="main" role="main">

<article id="post-6532" class="page">
	<!-- .entry-header -->


<div>
<div>

<h3>A HANDBOOK FOR DEMOCRACIES</h3>

<p>Modern-day China has emerged as the most powerful authoritarian state in the history of the world.</p>
<p>The HFX Handbook for Democracies contributes to building a common understanding of the serious challenge that China poses.</p>
<p>The handbook features the <em><a href="https://hfxchinahandbook.s3.amazonaws.com/EN_HFX+China+Principles.pdf">HFX China Principles</a> </em>that defend the values that underpin democratic societies.</p>
<blockquote><p><strong><em>“THE REAL CHINA CHALLENGE FOR THE WORLD’S DEMOCRACIES IS HOW TO COOPERATE EFFECTIVELY WITH EACH OTHER.”</em></strong></p></blockquote>
<p><strong><a href="https://halifaxtheforum.org/china-handbook/cn/">点击这里查看中文</a> | <a href="https://halifaxtheforum.org/china-handbook/fr/">Cliquez ici pour le français</a></strong></p>
<h2>7/8 Campaign</h2>
<h3><b>Help HFX defend democratic values.</b></h3>
<p>Support the 7 HFX China Principles with a donation of $8 and together we will strengthen your government’s resolve to stand up to China.</p>
<p><a href="https://halifaxtheforum.org/china-handbook/donate-en">Donate $8</a></p>
</div>





</div></article></main></div>






	
	
	
					<!-- #main -->
	</div><!-- #primary -->
	
	


	</div></div>]]>
            </description>
            <link>https://halifaxtheforum.org/china-handbook/en/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25542990</guid>
            <pubDate>Sat, 26 Dec 2020 12:15:11 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Hacker News Daily – Lightweight glance over the past best stories]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25542226">thread link</a>) | @lopespm
<br/>
December 26, 2020 | https://lopespm.github.io/hackernews-daily | <a href="https://web.archive.org/web/*/https://lopespm.github.io/hackernews-daily">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<a href="https://news.ycombinator.com/item?id=25547448">
						
							
								<p>"This reminds me of “The Bell Jar” by Sylvia Plath, which has a quote Aziz Ansari used in his series “Master of None”:&gt; "I saw my life branching out before me like the green fig tree in the story. From the tip of every branch, like a fat purple fig, a wonderful future beckoned and winked. One fig was a husband and a happy home and children, and another fig was a famous poet and another fig was a brilliant professor, and another fig was Ee Gee, the amazing editor, and another fig was Europe and Africa and South America, and another fig was Constantin and Socrates and Attila and a pack of other lovers with queer names and offbeat professions, and another fig was an Olympic lady crew champion, and beyond and above these figs were many more figs I couldn't quite make out. I saw myself sitting in the crotch of this fig tree, starving to death, just because I couldn't make up my mind which of the figs I would choose. I wanted each and every one of them, but choosing one meant losing all the rest, and, as I sat there, unable to decide, the figs began to wrinkle and go black, and, one by one, they plopped to the ground at my feet.""</p>
							
						
							
								<p>"Much of my life hasn't played out how I expected. I had dreams like many people in high school and none of them came true. Instead of finishing college I joined the military after the stock market collapse in 2008/9. Impressions were left on me throughout my early life that I only came to know as an adult. My family got sick, I ruined the relationship that I'd worked for, and at times I alienated people close to me out of my own sense of self-defense. I pushed myself to the brink repeatedly. My twenties were filled with stress, frustration, confusion, and at times anger. These things taught me acceptance and forgiveness of both myself and others. Looking back, I would not trade them for an easier or more prestigious life.When I came back from Afghanistan I had to scratch, claw, and climb a ladder without a degree thanks in much part to people who saw in me what I could only hoped to have seen in myself. I looked around me when I arrived and I saw Ivy League and top school graduates with multi-million dollar homes, Teslas, and their own literal fig trees in their back yards that complained about everything in life. I've now had the opportunity to live in multiple cultures with varying degrees of prosperity. These things taught me to know my value but to have perspective on what I'm really asking for.Here I am considering selling all my belongings, buying a truck and an RV to go embrace the new open road that is remote work. Life isn't about looking back. It isn't even about getting what you want. It's about navigating the road in front of you and making the best of the opportunities in front of you and for everyone around you. All that to say, I've embraced the idea that whatever lies ahead is where I'm supposed to be and I needn't look at what my neighbors value or what they have because I don't care. This life is mine to live."</p>
							
						
							
								<p>"This is a fascinating subject. It looks like many people are commenting about alternative realities and that exploring them is a fool's game (BTW. I concur with that).The thing which bothers me is upbeat comments about living here and now and planting the seeds for future changes. It feels like current problems (and desire to wish them away via woulda/counda/shoulda) didn't happen entirely randomly. These problems are a result of systematic behavior/decision making.As an example, it's too easy to say to yourself, "I will start doing sport tomorrow". However, you wake up tomorrow and notice that your day is so busy that you don't have time to do sport until 9pm and by that time you are exhausted and can't do sport. And you repeat the cycle saying, "maybe tomorrow". You start teasing your day apart and find that to squeeze in sport won't require you just to add it, but also to kick something out. And that all the things you have the energy for in the day, you implicitly regarded as more important than sport. And as a result, you are stuck in the loop wishing to do something better but being limited by your other priorities.And frankly, this bothers me way more. The immutability of the past is normal. Being so set in your ways that you can't change the future - this is what scares the shit out of me."</p>
							
						
						</a>
					</div>
				</div></div>]]>
            </description>
            <link>https://lopespm.github.io/hackernews-daily</link>
            <guid isPermaLink="false">hacker-news-small-sites-25542226</guid>
            <pubDate>Sat, 26 Dec 2020 08:51:41 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Manga Guide to Lisp]]>
            </title>
            <description>
<![CDATA[
Score 131 | Comments 13 (<a href="https://news.ycombinator.com/item?id=25541919">thread link</a>) | @joubert
<br/>
December 25, 2020 | http://lambda.bugyo.tk/cdr/mwl/ | <a href="https://web.archive.org/web/*/http://lambda.bugyo.tk/cdr/mwl/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>http://lambda.bugyo.tk/cdr/mwl/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25541919</guid>
            <pubDate>Sat, 26 Dec 2020 06:57:48 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Backdoor in Zyxel Products]]>
            </title>
            <description>
<![CDATA[
Score 162 | Comments 47 (<a href="https://news.ycombinator.com/item?id=25539876">thread link</a>) | @ta988
<br/>
December 25, 2020 | https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html | <a href="https://web.archive.org/web/*/https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
					<div>
						<div>
							<p>TL;DR: If you have a Zyxel USG, ATP, VPN, ZyWALL or USG FLEX you should update to the latest firmware version today. You can find the full list of affected devices <a href="https://businessforum.zyxel.com/discussion/5252/zld-v4-60-revoke-and-wk48-firmware-release">here</a> and the Zyxel advisory <a href="https://www.zyxel.com/support/CVE-2020-29583.shtml">here</a>.</p>
                            <p>Zyxel is a popular brand for firewalls that are marketed towards small and medium businesses. Their Unified Security Gateway (USG) product line is often used as a firewall or VPN gateway. As a lot of us are working from home, VPN-capable devices have been quite selling well lately.</p>
                            <p>When doing some research (rooting) on my Zyxel USG40, I was surprised to find a user account 'zyfwp' with a password hash in the latest firmware version (4.60 patch 0). The plaintext password was visible in one of the binaries on the system. I was even more surprised that this account seemed to work on both the SSH and web interface.</p>
                            <pre>$ ssh <a href="https://www.eyecontrol.nl/cdn-cgi/l/email-protection" data-cfemail="5822213e2f281869616a76696e607669766a6d6a">[email&nbsp;protected]</a>
Password: Pr*******Xp
Router&gt; show users current
No: 1
  Name: zyfwp
  Type: admin
(...)
Router&gt;</pre>
                            <p>The user is not visible in the interface and its password cannot be changed. I checked the previous firmware version (4.39) and although the user was present, it did not have a password. It seemed the vulnerability had been introduced in the latest firmware version. Even though older versions do not have this vulnerability, they do have others (such as this <a href="https://www.zyxel.com/us/en/support/Zyxel-security-advisory-for-buffer-overflow-vulnerability.shtml">buffer overflow</a>) so you should still update.</p>
                            <p>As SSL VPN on these devices operates on the same port as the web interface, a lot of users have exposed port 443 of these devices to the internet. Using publicly available data from Project Sonar, I was able to identify about 3.000 Zyxel USG/ATP/VPN devices in the Netherlands. Globally, more than 100.000 devices have exposed their web interface to the internet.</p>
                            <p>In our experience, most users of these devices will not update the firmware very often. Zyxel devices do not expose their firmware version to unauthenticated users, so determining if a device is vulnerable is a bit more difficult. We wanted to get an idea of the amount of affected devices, but simply trying the password is not really an option (ethically and legally). Luckily, some javascript and css files can be requested from the web interface of these devices without authentication. These files seem to change with every firmware release. Using this information, we can obtain a unique fingerprint of the vulnerable firmware version. We used this information to identify the firmware version of 1.000 devices in The Netherlands and found that around 10% of devices are running the affected firmware version. Zyxel does offer automatic updates, but these are not enabled by default. Luckily, we were able to find this vulnerability just a few weeks after it had been introduced, or the number of affected devices could have been much larger.</p>
                            <p>As the zyfwp user has admin privileges, this is a serious vulnerability. An attacker could completely compromise the confidentiality, integrity and availability of the device. Someone could for example change firewall settings to allow or block certain traffic. They could also intercept traffic or create VPN accounts to gain access to the network behind the device.  Combined with a vulnerability like Zerologon this could be devastating to small and medium businesses.</p>
                            <p>Because of the seriousness of the vulnerability and it being so easy to exploit, we have decided not to release the password for this account at this time. We do expect others to find and release it, which is why we suggest you install the updated firmware as soon as possible.</p>
                            <p>I quickly sent out a mail to Zyxel to report the undocumented user account. According to Zyxel, the account was designed to deliver automatic firmware updates for access points via FTP. They released a fixed firmware version less than two weeks later. You can find the release notes for the USG40 <a href="ftp://ftp.zyxel.com/USG40/firmware/USG40_4.60(AALA.1)C0_2.pdf">here</a>.</p>
                            <p>This is the entry in the release notes that describes this vulnerability:</p>
                            <pre>[BUG FIX][CVE-2020-29583]
a. Vulnerability fix for undocumented user account.</pre>
                            <p>We would like to thank the Zyxel Security Team for their quick response and patch.</p>
                            <p><b>Disclosure timeline</b></p>
                            <p>2020-11-29: EYE reports vulnerability to Zyxel security</p>
                            <p>2020-11-30: Zyxel acknowledges receipt</p>
                            <p>2020-12-02: Zyxel requests more information about how the vulnerability was discovered</p>
                            <p>2020-12-03: EYE sends more details</p>
                            <p>2020-12-08: Zyxel releases beta firmware 4.60-WK48 and removes the vulnerable firmware version from their site</p>
                            <p>2020-12-15: Zyxel releases firmware 4.60 patch 1 for most devices</p>
                            <p>2020-12-18: Zyxel releases firmware 4.60 patch 1 for all remaining devices</p>
                            <p>2020-12-23: Zyxel publishes <a href="https://www.zyxel.com/support/CVE-2020-29583.shtml">advisory</a></p>

						</div>
						
					</div>
                </div></div>]]>
            </description>
            <link>https://www.eyecontrol.nl/blog/undocumented-user-account-in-zyxel-products.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25539876</guid>
            <pubDate>Fri, 25 Dec 2020 23:15:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Complete Guide to LLVM for Programming Language Creators]]>
            </title>
            <description>
<![CDATA[
Score 391 | Comments 44 (<a href="https://news.ycombinator.com/item?id=25539797">thread link</a>) | @mseri
<br/>
December 25, 2020 | https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/ | <a href="https://web.archive.org/web/*/https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article><h3>Creating the Bolt Compiler: Part 8</h3><p><h3>December 24, 2020</h3><h3>12 min read</h3></p><nav><h2>Series: Creating the Bolt Compiler</h2><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><strong>Part 8: A Complete Guide to LLVM for Programming Language Creators</strong></li><li><em>Part 9: Concurrency is a Runtime Feature, Not a Compiler Feature*</em></li><li><em>Part 10: Inheritance and method overriding in Bolt*</em></li><li><em>Part 11: Generics - adding polymorphism to Bolt*</em></li><p>*coming soon! </p></ul></nav><hr><p><strong>Update</strong>: this post has now taken off on <a href="https://news.ycombinator.com/item?id=25539797">Hacker News</a> and <a href="https://www.reddit.com/r/programming/comments/kjjijf/a_complete_guide_to_llvm_for_programming_language/">Reddit</a>. Thank you all!</p><p>I have a small request:</p><div><div><div> <h3>Share This On Twitter</h3><p>If you find this useful, please share on Twitter, thank you!</p></div></div></div><h2 id="whos-this-tutorial-for"><a href="#whos-this-tutorial-for" aria-label="whos this tutorial for permalink"></a>Who’s this tutorial for?</h2><p>This series of compiler tutorials is for people who don’t just want to create a <em>toy</em> language.
You want objects. You want polymorphism. You want concurrency. You want garbage collection. Wait you don’t want GC? Okay, no worries, we won’t do that :P</p><p>If you’ve just joined the series at this stage, here’s a quick recap. We’re designing a Java-esque concurrent object-oriented programming language <em>Bolt</em>. We’ve gone through the compiler frontend, where we’ve done the parsing, type-checking and dataflow analysis. We’ve <a href="https://mukulrathi.co.uk/create-your-own-programming-language/lower-language-constructs-to-llvm/">desugared our language to get it ready for LLVM</a> - the main takeaway is that objects have been desugared to structs, and their methods desugared to functions.</p><p>Learn about LLVM and you’ll be the envy of your friends. Rust uses LLVM for its backend, so it must be cool. You’ll beat them on all those performance benchmarks, without having to hand-optimise your code or write machine assembly code. Shhhh, I won’t tell them.</p><h2 id="just-give-me-the-code"><a href="#just-give-me-the-code" aria-label="just give me the code permalink"></a>Just give me the code!</h2><p>All the code can be found in the <a href="https://github.com/mukul-rathi/bolt">Bolt compiler repository</a>.</p><p>The C++ class definitions for our desugared representation (we call this <em>Bolt IR</em>) can be found in <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/deserialise_ir">deserialise_ir</a> folder. The code for this post (the LLVM IR generation) can be found in the <a href="https://github.com/mukul-rathi/bolt/tree/master/src/llvm-backend/llvm_ir_codegen">llvm_ir_codegen</a> folder. The repo uses the Visitor design pattern and ample use of <code>std::unique_ptr</code> to make memory management easier.</p><p>To cut through the boilerplate, to find out how to generate LLVM IR for a particular language expression, search for the <code>IRCodegenVisitor::codegen</code> method that takes in the corresponding <code>ExprIR</code> object. e.g. for if-else statements:</p><div><div><pre><p><span>Value </span><span>*</span><span>IRCodegenVisitor</span><span>::</span><span>codegen</span><span>(</span><span>const</span><span> ExprIfElseIR </span><span>&amp;</span><span>expr</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>.</span><span>.</span><span>.</span><span> </span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="understanding-llvm-ir"><a href="#understanding-llvm-ir" aria-label="understanding llvm ir permalink"></a>Understanding LLVM IR</h2><p>LLVM sits in the <strong>middle-end</strong> of our compiler, <em>after</em> we’ve desugared our language features, but <em>before</em> the backends that target specific machine architectures (x86, ARM etc.)</p><p>LLVM’s IR is pretty low-level, it can’t contain language features present in some languages but not others (e.g. classes are present in C++ but not C). If you’ve come across instruction sets before, LLVM IR is a <a href="https://en.wikipedia.org/wiki/Reduced_instruction_set_computer#:~:text=A%20reduced%20instruction%20set%20computer,instruction%20set%20computer%20(CISC).">RISC</a> instruction set.</p><p>The upshot of it is that LLVM IR looks like a more <em>readable</em> form of assembly. As LLVM IR is <strong>machine independent</strong>, we don’t need to worry about the number of registers, size of datatypes, calling conventions or other machine-specific details.</p><p>So instead of a fixed number of physical registers, in LLVM IR we have an unlimited set of <em>virtual</em> registers (labelled <code>%0</code>, <code>%1</code>, <code>%2</code>, <code>%3</code>… we can write and read from. It’s the backend’s job to map from virtual to physical registers.</p><p>And rather than allocating specific sizes of datatypes, we retain <strong>types</strong> in LLVM IR. Again, the backend will take this type information and map it to the size of the datatype. LLVM has types for different sizes of <code>int</code>s and floats, e.g. <code>int32</code>, <code>int8</code>, <code>int1</code> etc. It also has derived types: like <strong>pointer</strong> types, <strong>array</strong> types, <strong>struct</strong> types, <strong>function</strong> types. To find out more, check out the <a href="https://llvm.org/doxygen/classllvm_1_1Type.html">Type</a> documentation.</p><p>Now, built into LLVM are a set of optimisations we can run over the LLVM IR e.g. <a href="https://en.wikipedia.org/wiki/Dead_code_elimination">dead-code elimination</a>, <a href="https://en.wikipedia.org/wiki/Inline_expansion">function inlining</a>, <a href="https://cran.r-project.org/web/packages/rco/vignettes/opt-common-subexpr.html">common subexpression elimination</a> etc. The details of these algorithms are irrelevant: LLVM implements them for us.</p><p>Our side of the bargain is that we write LLVM IR in <a href="https://en.wikipedia.org/wiki/Static_single_assignment_form">Static Single Assignment (SSA) form</a>, as SSA form makes life easier for optimisation writers. SSA form sounds fancy, but it just means we define variables before use and assign to variables <strong>only once</strong>. In SSA form, we cannot reassign to a variable, e.g. <code>x = x+1</code>; instead we assign to a fresh variable each time (<code>x2 = x1 + 1</code>).</p><p>So in short: LLVM IR looks like assembly with <strong>types</strong>, minus the messy machine-specific details. LLVM IR must be in SSA form, which makes it easier to optimise. Let’s look at an example!</p><h3 id="an-example-factorial"><a href="#an-example-factorial" aria-label="an example factorial permalink"></a>An example: Factorial</h3><p>Let’s look at a simple factorial function in our language Bolt:</p><div><p><span>factorial.bolt</span></p><div><pre><p><span>function </span><span>int</span><span> </span><span>factorial</span><span>(</span><span>int</span><span> n</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>if</span><span> </span><span>(</span><span>n</span><span>==</span><span>0</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>1</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span>  </span><span>else</span><span>{</span><span></span></p><p><span>    n </span><span>*</span><span> </span><span>factorial</span><span>(</span><span>n </span><span>-</span><span> </span><span>1</span><span>)</span><span></span></p><p><span>  </span><span>}</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>The corresponding LLVM IR is as follows:</p><div><p><span>factorial.ll</span></p><div><pre><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>eq </span><span>=</span><span> icmp eq i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>0</span><span>   </span><span></span></p><p><span>  br i1 </span><span>%</span><span>eq</span><span>,</span><span> label </span><span>%</span><span>then</span><span>,</span><span> label </span><span>%</span><span>else</span><span></span></p><p><span>then</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span></span><span>else</span><span>:</span><span>                                             </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>entry</span></p><p><span>  </span><span>%</span><span>sub </span><span>=</span><span> sub i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>1</span><span>   </span><span></span></p><p><span>  </span><span>%</span><span>2</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>%</span><span>sub</span><span>)</span><span> </span><span></span></p><p><span>  </span><span>%</span><span>mult </span><span>=</span><span> mul i32 </span><span>%</span><span>0</span><span>,</span><span> </span><span>%</span><span>2</span><span>  </span><span></span></p><p><span>  br label </span><span>%</span><span>ifcont</span></p><p><span>ifcont</span><span>:</span><span>                                           </span><span>;</span><span> preds </span><span>=</span><span> </span><span>%</span><span>else</span><span>,</span><span> </span><span>%</span><span>then</span></p><p><span>  </span><span>%</span><span>iftmp </span><span>=</span><span> phi i32 </span><span>[</span><span> </span><span>1</span><span>,</span><span> </span><span>%</span><span>then </span><span>]</span><span>,</span><span> </span><span>[</span><span> </span><span>%</span><span>mult</span><span>,</span><span> </span><span>%</span><span>else</span><span> </span><span>]</span><span></span></p><p><span>  ret i32 </span><span>%</span><span>iftmp</span></p><p><span></span><span>}</span></p></pre></div></div><p>Note the <code>.ll</code> extension is for <strong>human-readable</strong> LLVM IR output. There’s also <code>.bc</code> for bit-code, a more compact machine representation of LLVM IR.</p><p>We can walk through this IR in 4 levels of detail:</p><h4 id="at-the-instruction-level"><a href="#at-the-instruction-level" aria-label="at the instruction level permalink"></a>At the Instruction Level:</h4><p>Notice how LLVM IR contains assembly instructions like <code>br</code> and <code>icmp</code>, but abstracts the machine-specific messy details of function calling conventions with a single <code>call</code> instruction.</p><p><span>
      <a href="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial instructions" title="Factorial instructions" src="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png" srcset="https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/222b7/factorial-instructions.png 163w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/ff46a/factorial-instructions.png 325w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/a6d36/factorial-instructions.png 650w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/e548f/factorial-instructions.png 975w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/3c492/factorial-instructions.png 1300w,https://mukulrathi.co.uk/static/f987ee45552570ad7aa513f6d3fc19a7/565cc/factorial-instructions.png 1806w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-control-flow-graph-level"><a href="#at-the-control-flow-graph-level" aria-label="at the control flow graph level permalink"></a>At the Control Flow Graph Level:</h4><p>If we take a step back, you can see the IR defines the <strong>control flow graph</strong> of the program. IR instructions are grouped into labeled <strong>basic blocks</strong>, and the <code>preds</code> labels for each block represent incoming edges to that block. e.g. the <code>ifcont</code> basic block has predecessors <code>then</code> and <code>else</code>:</p><p>At this point, I’m going to assume you have come across Control Flow Graphs and basic blocks. We introduced Control Flow Graphs in a previous post in the series, where we used them to perform different dataflow analyses on the program. I’d recommend you go and check the <a href="http://mukulrathi.co.uk/create-your-own-programming-language/data-race-dataflow-analysis/#control-flow-graph">CFG section of that dataflow analysis post</a> now. I’ll wait here :)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial control flow graph" title="Factorial control flow graph" src="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png" srcset="https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/222b7/factorial-cfg.png 163w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/ff46a/factorial-cfg.png 325w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/a6d36/factorial-cfg.png 650w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/e548f/factorial-cfg.png 975w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/3c492/factorial-cfg.png 1300w,https://mukulrathi.co.uk/static/6a6edf6d916150ea4de92c0fc1a68e1a/11864/factorial-cfg.png 2034w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>The <code>phi</code> instruction represents <strong>conditional assignment</strong>: assigning different values depending on which preceding basic block we’ve just come from. It is of the form <code>phi type [val1, predecessor1], [val2, predecessor2], ...</code> In the example above, we set <code>%iftmp</code> to 1 if we’ve come from the <code>then</code> block, and <code>%mult</code> if we’ve come from the <code>else</code> block. Phi nodes must be at the <strong>start</strong> of a block, and include one entry for each predecessor.</p><h4 id="at-the-function-level"><a href="#at-the-function-level" aria-label="at the function level permalink"></a>At the Function Level:</h4><p>Taking another step back, the overall structure of a function in LLVM IR is as follows:</p><p><span>
      <a href="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="Factorial fn" title="Factorial fn" src="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png" srcset="https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/222b7/factorial-fn.png 163w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/ff46a/factorial-fn.png 325w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/a6d36/factorial-fn.png 650w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/e548f/factorial-fn.png 975w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/3c492/factorial-fn.png 1300w,https://mukulrathi.co.uk/static/c80bbba94459a0ac84429c53299823b2/b2b2c/factorial-fn.png 1708w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><h4 id="at-the-module-level"><a href="#at-the-module-level" aria-label="at the module level permalink"></a>At the Module Level:</h4><p>An LLVM <strong>module</strong> contains all the information associated with a program file. (For multi-file programs, we’d link together their corresponding modules.)</p><p><span>
      <a href="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png" target="_blank" rel="noopener">
    <span></span>
  <img alt="LLVM Module" title="LLVM Module" src="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png" srcset="https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/222b7/module.png 163w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/ff46a/module.png 325w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/a6d36/module.png 650w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/e548f/module.png 975w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/3c492/module.png 1300w,https://mukulrathi.co.uk/static/e21edb9623d8fb7bc23f57db23b93cf8/cad61/module.png 1988w" sizes="(max-width: 650px) 100vw, 650px" loading="lazy">
  </a>
    </span></p><p>Our <code>factorial</code> function is just one function definition in our module. If we want to execute the program, e.g. to compute <code>factorial(10)</code> we need to define a
<code>main</code> function, which will be the entrypoint for our program’s execution. The <code>main</code> function’s signature is a hangover from C (we return 0 to indicate successful execution):</p><div><p><span>example_program.c</span></p><div><pre><p><span></span><span>int</span><span> </span><span>main</span><span>(</span><span>)</span><span>{</span><span></span></p><p><span>  </span><span>factorial</span><span>(</span><span>10</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>0</span><span>;</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><p>We specify that we want to compile for an Intel Macbook Pro in the module target info:</p><div><p><span>example_module.ll</span></p><div><pre><p><span>source_filename </span><span>=</span><span> </span><span>"Module"</span><span></span></p><p><span>target triple </span><span>=</span><span> </span><span>"x86_64-apple-darwin18.7.0"</span><span></span></p><p><span></span><span>.</span><span>.</span><span>.</span><span></span></p><p><span>define i32 @</span><span>factorial</span><span>(</span><span>i32</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>.</span><span>.</span><span>.</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span>define i32 @</span><span>main</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>entry</span><span>:</span><span></span></p><p><span>  </span><span>%</span><span>0</span><span> </span><span>=</span><span> call i32 @</span><span>factorial</span><span>(</span><span>i32 </span><span>10</span><span>)</span><span></span></p><p><span>  ret i32 </span><span>0</span><span></span></p><p><span></span><span>}</span></p></pre></div></div><h2 id="the-llvm-api-key-concepts"><a href="#the-llvm-api-key-concepts" aria-label="the llvm api key concepts permalink"></a>The LLVM API: Key Concepts</h2><p>Now we’ve got the basics of LLVM IR down, let’s introduce the LLVM API. We’ll go through the key concepts, then introduce more of the API as we explore LLVM IR further.</p><p>LLVM defines a whole host of classes that map to the concepts we’ve talked about.</p><ul><li><code>Value</code></li><li><code>Module</code></li><li><code>Type</code></li><li><code>Function</code></li><li><code>BasicBlock</code></li><li><code>BranchInst</code>
…</li></ul><p>These are all in the namespace <code>llvm</code>. In the Bolt repo, I chose to make this namespacing explicit by referring to them as <code>llvm::Value</code>, <code>llvm::Module</code> etc.)</p><p>Most of the LLVM API is quite mechanical. Now you’ve seen the diagrams that define modules, functions and basic blocks, the relationship between their corresponding classes in the API falls out nicely. You can query a <code>Module</code> object to get a list of its <code>Function</code> objects, and query a <code>Function</code> to get the list of its <code>BasicBlock</code>s, and the other way round: you can query a <code>BasicBlock</code> to get its parent <code>Function</code> object.</p><p><code>Value</code> is the base class for any value computed by the program. This could be a function (<code>Function</code> subclasses <code>Value</code>), a basic block (<code>BasicBlock</code> also subclasses <code>Value</code>), an instruction, or the result of an intermediate computation.</p><p>Each of the expression <code>codegen</code> methods returns a <code>Value *</code>: the result of executing that expression. You can think of these <code>codegen</code> methods as generating the IR for that expression and the <code>Value *</code> representing the virtual register containing the expression’s result.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.h#L64-L84"> <!-- -->ir_codegen_visitor.h</a></span></p><div><pre><p><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIntegerIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprBooleanIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprIdentifierIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprConstructorIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprLetIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span><span></span></p><p><span></span><span>virtual</span><span> Value </span><span>*</span><span>codegen</span><span>(</span><span>const</span><span> ExprAssignIR </span><span>&amp;</span><span>expr</span><span>)</span><span> override</span><span>;</span></p></pre></div></div><p>How do we generate the IR for these expressions? We create a <strong>unique</strong> <code>Context</code> object to tie our whole code generation together. We use this <code>Context</code> to get access to core LLVM data structures e.g LLVM modules and <code>IRBuilder</code> objects.</p><p>We’ll use the context to create just one module, which we’ll imaginatively name <code>"Module"</code>.</p><div><p><span><a href="https://github.com/mukul-rathi/bolt/blob/master/src/llvm-backend/llvm_ir_codegen/ir_codegen_visitor.cc#L17-L19"> <!-- -->ir_codegen_visitor.cc</a></span></p><div><pre><p><span>context </span><span>=</span><span> make_unique</span><span>&lt;</span><span>LLVMContext</span><span>&gt;</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>builder </span><span>=</span><span> std</span><span>::</span><span>unique_ptr</span><span>&lt;</span><span>IRBuilder</span><span>&lt;</span><span>&gt;&gt;</span><span>(</span><span>new</span><span> IRBuilder</span><span>&lt;</span><span>&gt;</span><span>(</span><span>*</span><span>context</span><span>)</span><span>)</span><span>;</span><span></span></p><p><span>module </span><span>=</span><span> make_unique</span><span>&lt;</span><span>Module</span><span>&gt;</span><span>(</span><span>"Module"</span><span>,</span><span> </span><span>*</span><span>context</span><span>)</span><span>;</span></p></pre></div></div><h3 id="irbuilder"><a href="#irbuilder" aria-label="irbuilder permalink"></a>IRBuilder</h3><p>We use the <code>IRBuilder</code> object to incrementally build up our IR. It is intuitively the equivalent of a file pointer when reading/writing a file - it carries around <em>implicit</em> state, e.g. the last instruction added, the basic block of that …</p></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/">https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</a></em></p>]]>
            </description>
            <link>https://mukulrathi.co.uk/create-your-own-programming-language/llvm-ir-cpp-api-tutorial/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25539797</guid>
            <pubDate>Fri, 25 Dec 2020 23:03:50 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[NixOS on ARM/Raspberry Pi]]>
            </title>
            <description>
<![CDATA[
Score 115 | Comments 19 (<a href="https://news.ycombinator.com/item?id=25538764">thread link</a>) | @botayhard
<br/>
December 25, 2020 | https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi | <a href="https://web.archive.org/web/*/https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr">
<div>
<table>
<tbody><tr>
<th colspan="2">Raspberry Pi Family
</th></tr>
<tr>
<td colspan="2"><a href="https://nixos.wiki/wiki/File:Raspberry_pi_3_glamour.jpg" title="A Raspberry Pi 3 with enclosure."><img alt="A Raspberry Pi 3 with enclosure." src="https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x256px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.oggU_vQtmX.jpg" width="256" height="204" srcset="https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x384px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.Jh6nwVCkVn.jpg 1.5x, https://nixos.wiki/images/thumb/4/40/Raspberry_pi_3_glamour.jpg/x512px-Raspberry_pi_3_glamour.jpg.pagespeed.ic.oXV576JEG6.jpg 2x"></a>
</td></tr>
<tr>
<th colspan="2">Raspberry Pi
</th></tr>
<tr>
<th>Architecture
</th>
<td>ARMv6
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 2
</th></tr>
<tr>
<th>Architecture
</th>
<td>ARMv7
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 3
</th></tr>
<tr>
<th>Architecture
</th>
<td>AArch64 + ARMv7
</td></tr>
<tr>
<th colspan="2">Raspberry Pi 4
</th></tr>
<tr>
<th>Architecture
</th>
<td>AArch64 + ARMv7
</td></tr></tbody></table>
</div>
<p>The Raspberry Pi family of devices is a series of single-board computers made by the Raspberry Pi Foundation. They are all based on Broadcom System-on-a-chip (SOCs). 
</p>


<h2><span id="Status"></span>Status</h2>
<p>Only the <i>Raspberry Pi 3 Family</i> is supported upstream, with the AArch64 effort.
</p><p>The Raspberry Pi 4B is not <em>supported</em> by NixOS, though a beta-quality disk image specific for it is produced. It will be supported the same as the Pi 3 family once the mainline kernel and mainline U-Boot boot fine through the generic mainline image.
</p><p>Other Raspberry Pis (0, 1, and 2) are part of diverse community porting efforts to ARMv6 and ARMv7.
</p><p>The Linux kernel in use, except for the Raspberry Pi 1 family, is the mainline Linux kernel, and not the Raspberry Pi Foundation's fork. This could reduce compatibility with some add-on boards or third-party libraries<sup>[expanded explanation needed]</sup>.
</p><p>The following table is intended to be updated by the NixOS contributors with the current status of the boards. For a list of products, <a rel="nofollow" href="https://www.raspberrypi.org/products/">see the <i>Products Archive</i></a>.
</p>
<table>

<tbody><tr>
<th> Board name
</th>
<th> Architecture
</th>
<th> Support
</th></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;1
</th></tr>
<tr>
<td> Raspberry Pi 1 Model B
</td>
<td rowspan="5"> armv6
</td>
<td> C
</td></tr>
<tr>
<td> Raspberry Pi 1 Model A+
</td>
<td> C*
</td></tr>
<tr>
<td> Raspberry Pi 1 Model B+
</td>
<td> C
</td></tr>
<tr>
<td> Raspberry Pi Zero
</td>
<td> C*
</td></tr>
<tr>
<td> Raspberry Pi Zero W
</td>
<td> C
</td></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;2
</th></tr>
<tr>
<td> Raspberry Pi 2 Model B
</td>
<td> armv7
</td>
<td> C
</td></tr>
<tr>
<th colspan="3">Raspberry&nbsp;Pi&nbsp;3
</th></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model B</a>
</td>
<td rowspan="3"> AArch64<br> <i>+&nbsp;armv7</i>
</td>
<td> YES
</td></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model B+</a>
</td>
<td> YES
</td></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3 Model A+</a>
</td>
<td>&nbsp;?
</td></tr>
<tr>
<th colspan="3">Raspberry Pi 4
</th></tr>
<tr>
<td> <a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_4" title="NixOS on ARM/Raspberry Pi 4">Raspberry Pi 4 Model B</a>
</td>
<td> AArch64<br> <i>+ armv7</i>
</td>
<td> YES* (<a rel="nofollow" href="https://github.com/NixOS/nixpkgs/issues/63720">GitHub issue</a>)
</td></tr></tbody></table>
<p><i>Support</i>
</p>
<ul><li> YES: Supported architecture by Nixpkgs downstream and tested to be working.</li>
<li> YES*: Available in Nixpkgs downstream but experimental.</li>
<li> C: Community supported, and tested to be working.</li>
<li> C*: Community supported, unverified but should be working.</li>
<li>&nbsp;?&nbsp;: Unverified, unknown if it will work.</li></ul>
<p>The Raspberry Pi 3 Family is only supported as <b>AArch64</b>. Use as armv7 is community supported.
</p>
<h2><span id="Board-specific_installation_notes"></span>Board-specific installation notes</h2>
<p>First follow the <a href="https://nixos.wiki/wiki/NixOS_on_ARM#Installation" title="NixOS on ARM">generic installation steps</a> to get the installer image and install using the <a href="https://nixos.wiki/wiki/NixOS_on_ARM#NixOS_installation_.26_configuration" title="NixOS on ARM">installation and configuration steps</a>.
</p>
<h3><span id="Raspberry_Pi_.281.29"></span>Raspberry Pi (1)</h3>
<p>The ARMv6 image boots out-of-the-box.
</p>
<h3><span id="Raspberry_Pi_2"></span>Raspberry Pi 2</h3>
<p>The ARMv7 image should boot out-of-the-box, though the author hasn't personally tested this.
</p>
<h3><span id="Raspberry_Pi_3_.2F_3B.2B"></span>Raspberry Pi 3 / 3B+</h3>
<p><a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_3#Board-specific_installation_notes" title="NixOS on ARM/Raspberry Pi 3">Raspberry Pi 3#Board-specific installation notes</a>
</p>
<h3><span id="Raspberry_Pi_4B"></span>Raspberry Pi 4B</h3>
<p><a href="https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi_4#Board-specific_installation_notes" title="NixOS on ARM/Raspberry Pi 4">Raspberry Pi 4#Board-specific installation notes</a>
</p>
<h2><span id="Serial_console"></span>Serial console</h2>
<p>Your <code>configuration.nix</code> will need to add <code>console=ttyS1,115200n8</code> to the <code>boot.kernelParams</code> configuration to use the serial console.
</p>
<p><img alt="Breeze-text-x-plain.png" src="https://nixos.wiki/images/e/ef/xBreeze-text-x-plain.png.pagespeed.ic.CzagNXRrGf.png" width="16" height="16"></p><pre>/etc/nixos/configuration.nix
</pre><div dir="ltr"><pre><span>{</span> config<span>,</span> pkgs<span>,</span> lib<span>,</span> <span>...</span> <span>}:</span>
<span>{</span>
  boot<span>.</span><span>kernelParams =</span> <span>[</span>
    <span>"console=ttyS1,115200n8"</span>
  <span>];</span>
<span>}</span>
</pre></div>
<p>If the Raspberry Pi downstream kernel is used the serial interface is named <code>serial0</code> instead.
</p>
<h2><span id="Binary_Cache"></span>Binary Cache</h2>
<p>Depending on the architecture used, binary caches availability varies. Binary caches instructions are on the main <a href="https://nixos.wiki/wiki/NixOS_on_ARM#Binary_cache" title="NixOS on ARM">NixOS on ARM</a>&nbsp;page. The following table describes the architectures supported by each board. 
</p>
<table>

<tbody><tr>
<th> Raspberry Pi 1
</th>
<td> armv6
</td></tr>
<tr>
<th> Raspberry Pi 2
</th>
<td> armv7
</td></tr>
<tr>
<th rowspan="2">Raspberry Pi 3
</th>
<td> armv7
</td></tr>
<tr>
<td> AArch64
</td></tr>
<tr>
<th rowspan="2">Raspberry Pi 4
</th>
<td> armv7
</td></tr>
<tr>
<td> AArch64
</td></tr></tbody></table>
<h2><span id="Notes_about_the_boot_process"></span>Notes about the boot process</h2>
<p>The custom bootloader, part of the Raspberry Pi firmware, is abstracted away for NixOS by making it boot U-Boot instead.
</p><p>U-Boot gives us the ability to provide a generation selection menu during the boot process, in addition to storing the boot files on the main partition, rather than on the firmware partition.
</p>
<h3><span id="Raspberry_Pi_.28all_versions.29"></span>Raspberry Pi (all versions)</h3>
<p>USB keyboards and HDMI displays should work, though some issues have been reported (see Troubleshooting below).
</p><p>Using the 3.3v serial port via the pin headers (exact location depends on hardware version) will get u-boot output and, when configured, a Linux kernel console.
</p>
<h2><span id="Troubleshooting"></span>Troubleshooting</h2>
<h3><span id="Power_issues"></span>Power issues</h3>
<p>Especially with the newer power-hungry Raspberry Pi families (3, 4), it is important to have a <a rel="nofollow" href="https://www.raspberrypi.org/documentation/hardware/raspberrypi/power/README.md">sufficient enough power supply</a> or <i>weirdness</i> may happen. Weirdness may include:
</p>
<ul><li> Lightning bolt on HDMI output "breaking" the display.</li>
<li> Screen switching back to u-boot text
<ul><li> Fixable temporarily when power is sufficient by switching VT (alt+F2 / alt+F1)</li></ul></li>
<li> Random hangs</li></ul>
<p>This problem is a hard problem. It is caused by the Raspberry Pi warning about power issues, but the current drivers (as of 
Linux 4.14) have a hard time dealing with it properly. If the power supply is rated properly AND the cable is not incurring too much power losses, it may be required to disable the lightning bolt indicator so the display driver isn't messed up.<sup id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> The lightning bolt indicator can be disabled by adding the line <code>avoid_warnings=1</code> in config.txt<sup id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</p>
<p><strong> Note: </strong>A <i>properly rated</i> USB power supply, AND a good cable are necessary. The cable has to be short enough to not incur power losses through the length. Do note that thin and cheap cables usually have thinner copper wires, which in turn accentuates power losses.</p>
<h3><span id="Additional_Troubleshooting"></span>Additional Troubleshooting</h3>
<p>Additional troubleshooting information may be found <a rel="nofollow" href="https://elinux.org/R-Pi_Troubleshooting">at elinux.org</a>.
</p>
<hr><ol>
<li id="cite_note-1"><span><a href="#cite_ref-1">↑</a></span> <span><a rel="nofollow" href="https://logs.nix.samueldr.com/nixos/2017-12-20#1513784657-1513784714">https://logs.nix.samueldr.com/nixos/2017-12-20#1513784657-1513784714</a>;</span>
</li>
<li id="cite_note-2"><span><a href="#cite_ref-2">↑</a></span> <span><a rel="nofollow" href="https://www.raspberrypi.org/documentation/configuration/config-txt/README.md">https://www.raspberrypi.org/documentation/configuration/config-txt/README.md</a></span>
</li>
</ol>

<!-- 
NewPP limit report
Cached time: 20201118204625
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.016 seconds
Real time usage: 0.019 seconds
Preprocessor visited node count: 144/1000000
Preprocessor generated node count: 456/1000000
Post‐expand include size: 1767/2097152 bytes
Template argument size: 866/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.785      1 -total
 26.47%    1.796      1 Template:Note
 17.97%    1.219      1 Template:File
 17.95%    1.218      1 Template:META_Box_Blue
 10.17%    0.690      1 Template:META_Box
  8.31%    0.564      1 Template:ARM/breadcrumb
-->

<!-- Saved in parser cache with key nixoswiki-nixos:pcache:idhash:290-0!*!0!!en!5!* and timestamp 20201118204625 and revision id 4737
 -->
</div></div>]]>
            </description>
            <link>https://nixos.wiki/wiki/NixOS_on_ARM/Raspberry_Pi</link>
            <guid isPermaLink="false">hacker-news-small-sites-25538764</guid>
            <pubDate>Fri, 25 Dec 2020 20:22:54 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Show HN: Mountain Peaks in WebGL]]>
            </title>
            <description>
<![CDATA[
Score 275 | Comments 39 (<a href="https://news.ycombinator.com/item?id=25537377">thread link</a>) | @pheelicks
<br/>
December 25, 2020 | https://felixpalmer.github.io/peaks-of-austria/ | <a href="https://web.archive.org/web/*/https://felixpalmer.github.io/peaks-of-austria/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/>Unable to extract article]]>
            </description>
            <link>https://felixpalmer.github.io/peaks-of-austria/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537377</guid>
            <pubDate>Fri, 25 Dec 2020 16:37:30 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Aliens Likely Annihilated Themselves Through Progress]]>
            </title>
            <description>
<![CDATA[
Score 39 | Comments 43 (<a href="https://news.ycombinator.com/item?id=25537049">thread link</a>) | @elorant
<br/>
December 25, 2020 | https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416 | <a href="https://web.archive.org/web/*/https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div itemprop="articleBody" id="v_main"><p>There are many people who strongly believe that aliens are real and they are living somewhere far from the blue planet, Earth. But a new scientific study suggested that such civilizations destroyed themselves through progress.</p><p>NASA Jet Propulsion Laboratory and California Institute of Technology researchers have surmised in a study that the galaxy might be home to alien civilizations that destroyed themselves through technological advancements that eventually lead to destruction and biological degeneration.</p><p>According to <a href="https://arxiv.org/ftp/arxiv/papers/2012/2012.07902.pdf" rel="nofollow" target="_blank">the paper</a>, "A Statistical Estimation of the Occurrence of Extraterrestrial Intelligence in the Milky Way Galaxy", any intelligent alien life that lived in the Milky Way before humans did likely already killed itself off.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="800px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=800 800w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i44626" src="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg?w=736" alt="Milky Way Galaxy" title="Milky Way Galaxy" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/44626/milky-way-galaxy.jpg"><meta itemprop="width" content="800"><meta itemprop="height" content="450">
<figcaption>
<span itemprop="caption">Alien life in Milky Way</span>
<span itemprop="copyrightHolder">Pikrepo</span>
</figcaption></div>
</figure><h3><strong>Dead Alien Civilization </strong></h3><p>The researchers behind this study, Xiang Cai, Jonathan H. Jiang, Kristen A. Fahy, and Yuk L. Yung, explained in the paper that "if intelligent life is likely to destroy themselves, it is not surprising that there is little or no intelligent life elsewhere".</p><p>If people are wondering why humans, the most intelligent living being on planet Earth and on the solar system, might still be alive, it is because the species are billions of years behind these now-extinct alien civilizations. The intelligent species or aliens probably noticed life form around eight billion years after the formation of the Milky Way, whereas humans did not reach until 13.5 billion years after the creation. This means the humans are almost over five billion years behind.</p><p>According to Jiang, the NASA Jet Propulsion Laboratory astrophysicist, since Carl Sagan's time, there has been lots of research on alien life, especially when the Hubble Space Telescope and Kepler Space Telescope were created. "We have lots of knowledge about the densities in the Milky Way galaxy and star formation rates and exoplanet formation...and the occurrence rate of supernova explosions. We actually know some of the numbers," he <a href="https://www.livescience.com/milky-way-alien-life-map.html" rel="nofollow">added</a>.</p>
<figure itemscope="" itemprop="associatedMedia image" itemtype="https://schema.org/ImageObject"><div>
<picture>
<!--[if IE 9]><video
style="display: none;"><![endif]--><source media="(min-width: 1280px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 1024px)" sizes="980px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=980 980w"><source media="(min-width: 768px)" sizes="736px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736 736w"><source media="(min-width: 480px)" sizes="480px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=480 480w"><source media="(min-width: 0px)" sizes="400px" srcset="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=400 400w"><!--[if IE 9]></video><![endif]-->                    <img id="i28417" src="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg?w=736" alt="Center of the Milky Way Galaxy" title="Center of the Milky Way Galaxy" width="736" itemprop="contentUrl">
</picture><meta itemprop="url" content="https://data.ibtimes.sg/en/full/28417/center-of-the-milky-way-galaxy.jpg"><meta itemprop="width" content="1041"><meta itemprop="height" content="738">
<figcaption>
<span itemprop="caption">Photo of the Milky Way's center taken by the Spitzer Space Telescope</span>
<span itemprop="copyrightHolder">NASA, JPL-Caltech, Susan Stolovy SSC/Caltech et al.</span>
</figcaption></div>
</figure><p>The numbers are actually related to the mystery variables that the American astronomer and the planetary scientist Segan referred to in his Cosmos miniseries in which he discussed the Drake equation. This formula proposed by American astrophysicist Frank Drake estimates N, the number of transmitting societies in the Milky Way galaxy. It is actually the equation that may give the scientists an idea about how many alien societies exist and are detectable.</p><p>Because of the scientific limitations at that time, Drake and Sagan included variables that could not be identified more precisely. But now Jiang and the team of scientists have learned about some of those numbers which Drake and Segan failed to identify. The paper says when and where life is most likely to flourish in the Milky Way and it identifies the most important factor affecting its prevalence that is intelligent creatures' tendency toward self-annihilation.</p><p>Understanding the factors helped the team of scientists believe that advanced alien civilizations did exist at one point in the galaxy, but they likely destroyed themselves by way of progress. However, according to some scientific theories, there might be <a href="https://www.syfy.com/syfywire/there-might-be-36-alien-races-in-the-milky-way" rel="nofollow">36</a> extraterrestrial races among the stars.</p><p>Earlier in 2018, scientists claimed that the galaxy used to be the home to aliens but it was the effect of climate change that vanished all the life forms, as per a <a href="https://www.forbes.com/sites/brucedorminey/2018/12/31/galaxy-may-be-littered-with-dead-aliens-blindsided-by-natural-climate-change/?sh=497bde101955" rel="nofollow" target="_blank">report</a> from Forbes. In the recently released paper, the researchers said, "The simulated age distributions also suggest that most of the intelligent life in our galaxy are young, thus making observation or detection difficult."</p><p>They also found that even if the galaxy reached its civilizational peak over five billion years ago, most of the civilizations that were around that time have likely self-annihilated. However, the paper has been submitted to a journal for publication and it is currently awaiting peer review.</p></div></div>]]>
            </description>
            <link>https://www.ibtimes.sg/aliens-likely-annihilated-themselves-through-progress-suggests-new-extraterrestrial-research-54416</link>
            <guid isPermaLink="false">hacker-news-small-sites-25537049</guid>
            <pubDate>Fri, 25 Dec 2020 15:42:25 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Switching from Apple to Lenovo]]>
            </title>
            <description>
<![CDATA[
Score 91 | Comments 85 (<a href="https://news.ycombinator.com/item?id=25536216">thread link</a>) | @ynv
<br/>
December 25, 2020 | https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html | <a href="https://web.archive.org/web/*/https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
<p>Some of my friends have been telling me that Windows machines got a lot better. I decided to give it a try, and bought a top of the line Lenovo X1 Carbon Gen 8. For all of you thinking about doing the same switch, you might want to read this first.</p>

<p>Even though Apple is known for overpricing, and taking advantage of their customer base, they do it in a larger scheme of things, and do not engage in business practices which have a low customer experience. Unfortunately, you can’t say the same about the Lenovo universe.</p>

<p>Just go to their <a href="https://www.lenovo.com/">website</a> for a minute. Try to figure out which Laptop to buy, without getting the feeling you are being scammed. Everything seems to be on sale all the time, there are laptops of different generations of the same product line being advertised to you. They lie to your face about the battery life-times. People who are buying these machines got used to this experience, and are proud of being able to navigate such websites. You really need to do your homework before buying anything.</p>

<p>For example: I bought the X1 with their standard FHD screen, and it feels older than my 7 years old MBP. When trying to figure out why, I found out that Lenovo has a “<a href="https://www.notebookcheck.net/Lenovo-s-Panel-Lottery-continues-with-3-different-14-inch-LowPower-displays.426538.0.html">panel lottery</a>”: They use different suppliers with remarkable quality differences for their displays. Which one you get is just based on luck. Turns out the panel I got is the same they use for their cheapest product line. This means I have a ghosting mouse pointer on a $2000 brand new machine. Nice.</p>

<p>Even if you are lucky with the screen: it does not come color calibrated out of the box! Good luck trying to find the correct color profile, unless you want to spend money on a calibration tool you’re only going to use once.
Then comes Windows:</p>

<p>Yeah, it got better, but wow, do they carry a lot of baggage around. When trying to calibrate the display I found out that Windows has no less than three different system configuration UIs, which are also intertwined in unexpected ways. On top of that Lenovo installed their own buggy configuration tool. Configuring Windows feels like walking on ice. Even with all this configuration might, it still was not possible to get the exact serial number of my display panel without installing a third party tool.</p>

<p>Microsoft is also constantly nagging you about something that marginally helps their bottom line, but costs you a lot of your user experience. Like their constant push to trick people into giving them their data, or the fact that they try to force you to use their browser whenever they can.</p>

<p>I’m still not sure if I ticked the right boxes so that Microsoft does not get my browsing behaviour. I feel stressed every time Microsoft wants something from me. How are they trying to scam me this time?</p>

<p>For me this reinforces my belief that people who like Windows are simply used to it, because they need it for work or playing games. There is no point arguing with this, as their added value is their own experience, and the fact they know the tools and tricks to make the system usable to them.</p>

<p>One friend even told me that one of his favourite improvements in newer Windows versions is that they made it a lot easier to completely reset the operation system. My Apple machine has never been reset since I bought it almost a decade ago, and works flawlessly.  His statement seems like a subtle warning as to what is expecting me in the near future using my new  machine.</p>

</div></div>]]>
            </description>
            <link>https://ayedo.github.io/hardware/2020/12/25/switching-from-apple-to-lenovo.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536216</guid>
            <pubDate>Fri, 25 Dec 2020 13:01:37 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Mystery of Mistletoe’s Missing Genes]]>
            </title>
            <description>
<![CDATA[
Score 64 | Comments 2 (<a href="https://news.ycombinator.com/item?id=25536070">thread link</a>) | @dnetesn
<br/>
December 25, 2020 | http://abstractions.nautil.us/article/656/the-mystery-of-mistletoes-missing-genes | <a href="https://web.archive.org/web/*/http://abstractions.nautil.us/article/656/the-mystery-of-mistletoes-missing-genes">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article>
        <p><span>H</span>oliday-season traditions stretching back for centuries have linked wintertime romance to decorative&nbsp;sprigs of mistletoe. The way that the plantâ€™s rounded evergreen leaves and white berries tightly hug the branches of the trees on which it grows probably inspired that association. The truth&nbsp;about this botanical intimacy is&nbsp;less romantic: Mistletoe is a kind of parasite. Its leaves produce sugars by photosynthesis, but instead of roots, it has structures that pierce the host treeâ€™s vital tissues to suck out nutrients and water.</p>

<p>But that interdependence goes even deeper, and scientists are just starting to realize the ways in which mistletoes are unique at the molecular level because of it. The cells of all multicellular organisms rely on the organelles called mitochondria to make their biochemical fuel—all multicellular organisms except mistletoes, that is. Not only do their mitochondria produce little if any of this fuel, theyâ€™ve lost many of the genes needed to make it. In the few years since botanists discovered this anomaly, scientists worldwide have tried with no more than limited success to figure out how mistletoes pull off this trick.</p>
<p><strong>Cellular Powerhouses Go Offline</strong></p>
<p>The first hint that mistletoes were truly&nbsp;<em>sui generis</em>&nbsp;was presented in 2015 at the International Conference for Plant Mitochondrial Biology in WrocÅ‚aw, Poland, by&nbsp;<a href="https://scholar.google.com/citations?user=-zvgjbUAAAAJ&amp;hl=en" target="_blank">Elizabeth Skippington</a>, then a postdoctoral fellow in&nbsp;<a href="https://biology.indiana.edu/about/faculty/palmer-jeffrey.html" target="_blank">Jeffrey Palmer</a>â€™s lab at Indiana University. She astounded the small scientific audience with evidence later&nbsp;<a href="https://www.pnas.org/content/112/27/E3515" target="_blank">published in&nbsp;</a><a href="https://doi.org/10.1073/pnas.1504491112" target="_blank"><em>Proceedings of the National Academy of Sciences</em></a>&nbsp;that one mistletoe species (<em>Viscum scurruloideum</em>) had an extremely tiny mitochondrial genome and lacked key proteins thought to be required for respiration — the chemical pathway that enables mitochondria to make adenosine triphosphate (ATP), cellsâ€™ molecular fuel.</p>
<p>â€œIt felt like everybody was holding their breath,â€� said&nbsp;<a href="https://www.genetik.uni-hannover.de/en/institute/people/people/epv/section-v-plant-proteomics/graduate-teachingresearch-assistant/jennifer-senkler/?tx_t3luhepv_t3luhepvoe%5BdisablePersHomepages%5D=" target="_blank">Jennifer Senkler</a>, a plant biochemist with Leibniz University in Germany, who attended the talk. â€œIn the next break, everybody was chatting excitedly about this and speculating on how this could work.â€�</p>
<p>They wondered if perhaps Skippington missed the genes because they had become unrecognizable, or if there was some error in her methods. Or maybe the genes had moved into the nuclear genome—thatâ€™s something that can happen with mitochondrial genes, after all, and mistletoesâ€™ enormous&nbsp;genomes (about 24 times the size of ours) have thus far impeded whole-genome sequencing. Everyone was eager to solve the mystery of the missing genes.</p>
<p>â€œWe started joking about researchers falling off trees in the attempt to get their hands on mistletoe plants,â€� Senkler wrote in an email to&nbsp;<em>Quanta.</em>&nbsp;Indeed, as soon as she and her colleagues returned to Germany, â€œwe bought a long branch cutter and started collecting mistletoes.â€�<br></p>
<p>They werenâ€™t the only ones. Not far from Senklerâ€™s lab in Hannover, at the Max Planck Institute of Molecular Plant Physiology in Potsdam-Golm, the biochemist&nbsp;<a href="https://blogs.urz.uni-halle.de/cellphysiology/more-about-etienne/" target="_blank">Etienne Meyer</a>&nbsp;started some investigating of his own. And at the John Innes Center in Norwich, England,&nbsp;<a href="https://www.jic.ac.uk/people/janneke-balk/" target="_blank">Janneke Balk</a>&nbsp;similarly decided to dig into mistletoe mitochondria. Balkâ€™s team soon reached out to Meyerâ€™s, and the two labs joined forces, though they kept running their experiments in parallel for the most part to ensure the results were replicated. â€œThatâ€™s what makes the story even more solid,â€� Meyer said.<br></p>
<p>In the end, all three research teams came to&nbsp;<a href="https://doi.org/10.1016/j.cub.2018.03.036" target="_blank">the same conclusion</a>: Mistletoe mitochondria donâ€™t perform the same ATP-generating process as the mitochondria of all other plants, fungi and animals. The genes Skippington spoke of are truly gone, not mutated or repositioned. And as yet, no one knows how mistletoes survive without them.</p>
<p><strong>Metabolic Misers</strong></p>
<p>In all other multicellular life studied to date—and in most single-celled eukaryotes, for that matter—mitochondria produce ATP in a five-step process. Each step is performed by a separate suite of proteins, complexes I-V. â€œAnd one of these, the very first complex, is totally missing in mistletoes,â€� said&nbsp;<a href="https://www.su.se/english/profiles/gipe0376-1.379971" target="_blank">Gitte Petersen</a>, a botanist at Stockholm University in Sweden.</p>
<p>Trained as a plant systematist, Petersen at first thought that maybe this loss of complex I might be common. But when she and her colleagues&nbsp;<a href="https://doi.org/10.1186/s12862-019-1401-8" target="_blank">checked nine other parasitic plant groups</a>, the rest were normal. Something special seemingly happened in the mistletoes alone.</p>
<blockquote>â€œIn the next break, everybody was chatting excitedly about this and speculating on how this could work,â€� says&nbsp;Jennifer Senkler of&nbsp;Leibniz University.</blockquote>

<p>As for how mistletoes compensate for the loss of these incredibly important genes, â€œwe can only speculate,â€� Meyer said.</p>
<p>Experiments show that mistletoes make some ATP; itâ€™s just unclear whether their mitochondria play a large part in that. Meyer and Balkâ€™s collaboration found that the plants do produce more proteins&nbsp;<a href="https://doi.org/10.1016/j.cub.2018.03.036" target="_blank">for use in glycolysis</a>, an inefficient method of splitting apart sugars to make ATP thatâ€™s found in all cells. However, the scientists couldnâ€™t determine exactly how much ATP the plants generate that way.</p>
<p>Still, ramping up glycolysis enough to rival mitochondriaâ€™s usual ATP output would take a lot more sugar. Meyerâ€™s hunch is that the mistletoes steal sugar from their host, along with&nbsp;water and minerals. They might even photosynthesize more feverishly than other plants to make extra sugars to burn, although Meyer labels that idea â€œextremely hypothetical.â€�</p>
<p>Mistletoes may&nbsp;also just use energy with Scrooge-like miserliness. Both Senkler and Petersen pointed out that a parasitic lifestyle and slow growth could&nbsp;enable mistletoes to subsist on low amounts of ATP. In fact, â€œmistletoe might teach us a lesson on how to survive at energy-limiting conditions,â€� Senkler said.</p>
<p><strong>Too Complex to Keep?</strong></p>
<p>However mistletoes get by with their deficient mitochondria, the big unanswered question is why these plants did away with something so seemingly useful.</p>
<blockquote>â€œ[M]istletoe might teach us a lesson on how to survive at energy-limiting conditions,â€� says&nbsp;Jennifer Senkler of&nbsp;Leibniz University.
</blockquote>
<p>Senklerâ€™s suspicion is that complex I was too burdensome to keep. It consists of about 50 proteins that have to be made in different subcompartments of the cell, assembled and fit into the inner membrane of the mitochondria. The energy cost of all that is considerable, even if it means more energy in the long run, and â€œmistletoes seem to avoid processes that require much energy,â€� she said.</p>
<p>Ditching energy-expensive traits, or â€œreductive evolution,â€� is a common theme in parasites, Meyer noted. And losing this particular suite of proteins might have additional benefits. Because complex I spews highly reactive molecules that can cause cellular damage, losing it could make the plants more resilient to stress. Similar mitochondrial gene losses are frequently seen in cancer cells, which is partly why malignant cells can often survive conditions that other cells wouldnâ€™t.</p>
<p>But Petersen isnâ€™t convinced the loss is beneficial at all. It could be that something like a catastrophic mutation befell the mistletoes early in their groupâ€™s evolution, something that accidentally wiped out their ability to make complex I. â€œAnd then mistletoe just managed to cope with what happened,â€� she said, perhaps because mistletoeâ€™s parasitic lifestyle offered ways to compensate. She is curious about whether additional genetic sequencing might let researchers suss out when the loss happened and whether the plants were already parasitic.</p>
<p>If it does turn out that the plantsâ€™ loss of complex I was random bad luck, then perhaps mistletoes are just like the rest of us: Theyâ€™re doing whatever it takes to survive the holidays.</p>

<ul><li> is an award-winning science writer who trained as a molecular biologist. She the author of Venomous. </li></ul>
<p>Lead image:&nbsp;During the holiday season, sprigs of mistletoe appear everywhere as traditional decorations. Scientists have recently discovered a metabolic quirk of mistletoes that sets them apart from all other multicellular life. Credit:&nbsp;Nigel Cattlin / Science Source</p>





                    <p>Reprinted with permission from <a href="https://www.quantamagazine.org/">Quanta Magazine</a>'s <a href="https://www.quantamagazine.org/category/abstractions/">Abstractions blog</a>.</p>
            </article></div>]]>
            </description>
            <link>http://abstractions.nautil.us/article/656/the-mystery-of-mistletoes-missing-genes</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536070</guid>
            <pubDate>Fri, 25 Dec 2020 12:25:58 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Using Types to Guarantee Domain Invariants]]>
            </title>
            <description>
<![CDATA[
Score 13 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536010">thread link</a>) | @lukastyrychtr
<br/>
December 25, 2020 | https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/ | <a href="https://web.archive.org/web/*/https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><section>
  <article>
    
      
      
<ul id="frontmatter">
    <li>
        <time datetime="2020-12-11T15:00:10.47Z">December 11, 2020</time>
    </li>
    <span></span>
    <li> 6504 words </li>
    <span></span>
    <li> 33 min </li>
</ul>

      <p><em><a href="https://zero2prod.com/"><strong>Zero To Production In Rust</strong></a> is an opinionated introduction to backend development in Rust.<br>
You can pre-order the book on <a href="https://zero2prod.com/">zero2prod.com</a>.<br>
<a href="https://www.lpalmieri.com/subscribe">Subscribe to the newsletter</a> to be notified when a new episode is published.</em></p>

<ol>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#1-requirements">Requirements</a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#11-domain-constraints">1.1. Domain Constraints</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#12-security-constraints">1.2. Security Constraints</a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#2-first-implementation">First Implementation</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#3-validation-is-a-leaky-cauldron">Validation Is A Leaky Cauldron</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#4-type-driven-development">Type-Driven Development</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#5-ownership-meets-invariants">Ownership Meets Invariants</a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#51-asref">5.1. <code>AsRef</code></a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#6-panics">Panics</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#7-error-as-values---result">Errors As Values - <code>Result</code></a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#71-converting-parse-to-return-result">7.1. Converting <code>parse</code> To Return <code>Result</code></a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#8-insightful-assertion-errors-claim">Insightful Assertion Errors: <code>claim</code></a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#9-unit-tests">Unit Tests</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#10-handling-a-result">Handling A <code>Result</code></a>
<ul>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#101-map_err">10.1. <code>map_err</code></a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#102-the--operator">10.2. The <code>?</code> Operator</a></li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#103-400-bad-request">10.3. 400 Bad Request</a></li>
</ul>
</li>
<li><a href="https://lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/#11-summary">Summary</a></li>
</ol>
<p>Our newsletter API is live, hosted on a Cloud provider.<br>
We have a basic set of instrumentation to troubleshoot issues that might arise.<br>
There is an exposed endpoint (<code>POST /subscriptions</code>) to subscribe to our content.</p>
<p>We have come a long way!</p>
<p>But we have cut a few corners along the way: <code>POST /subscriptions</code> is fairly... permissive.<br>
Our input validation is extremely limited: we just ensure that both the name and the email fields are provided, nothing else.</p>
<p>We can add a new integration test to probe our API with some "troublesome" inputs:</p>
<pre><code><span>//! tests/health_check.rs
// [...]

</span><span>#[</span><span>actix_rt</span><span>::</span><span>test</span><span>]
async </span><span>fn </span><span>subscribe_returns_a_200_when_fields_are_present_but_empty</span><span>() {
    </span><span>// Arrange
    </span><span>let</span><span> app = </span><span>spawn_app</span><span>().await;
    </span><span>let</span><span> client = reqwest::Client::new();
    </span><span>let</span><span> test_cases = vec![
        ("</span><span>name=&amp;email=ursula_le_guin%40gmail.com</span><span>", "</span><span>empty name</span><span>"),
        ("</span><span>name=Ursula&amp;email=</span><span>", "</span><span>empty email</span><span>"),
        ("</span><span>name=Ursula&amp;email=definitely-not-an-email</span><span>", "</span><span>invalid email</span><span>"),
    ];

    </span><span>for </span><span>(body, description) in test_cases {
        </span><span>// Act
        </span><span>let</span><span> response = client
            .</span><span>post</span><span>(&amp;format!("</span><span>{}</span><span>/subscriptions</span><span>", &amp;app.address))
            .</span><span>header</span><span>("</span><span>Content-Type</span><span>", "</span><span>application/x-www-form-urlencoded</span><span>")
            .</span><span>body</span><span>(body)
            .</span><span>send</span><span>()
            .await
            .</span><span>expect</span><span>("</span><span>Failed to execute request.</span><span>");

        </span><span>// Assert
        </span><span>assert_eq!(
            </span><span>200</span><span>,
            response.</span><span>status</span><span>().</span><span>as_u16</span><span>(),
            "</span><span>The API did not return a 200 OK when the payload was {}.</span><span>",
            description 
        );
    }
}
</span></code></pre>
<p>The new test, unfortunately, passes.<br>
Although all those payloads are clearly invalid, our API is gladly accepting them, returning a <code>200 OK</code>.<br>
Those troublesome subscriber details end up straight in our database, ready to give us problems down the line when it is time to deliver a newsletter issue.</p>
<p>We are asking for two pieces of information when subscribing to our newsletter: a name and an email.<br>
This chapter will focus on name validation: what should we look out for?</p>
<blockquote>
<p><em>Discuss the article on HackerNews or <a href="https://www.reddit.com/r/rust/comments/kbddrq/zero_to_production_in_rust_part_six_using_types/">r/rust</a></em>.</p>
</blockquote>

<h2 id="1-1-domain-constraints">1.1. Domain Constraints</h2>
<p>It turns out that names are complicated<sup><a href="#patio-names">1</a></sup>.<br>
Trying to nail down what makes a name <em>valid</em> is a fool's errand. Remember that we chose to collect a name to use it in the opening line of our emails - we do not need it to match the real identity of a person, whatever that means in their geography. It would be totally unnecessary to inflict the pain of incorrect or overly prescriptive validation on our users.</p>
<p>We could thus settle on simply requiring the name field to be non-empty (as in, it must contain at least a non-whitespace character).</p>
<h2 id="1-2-security-constraints">1.2. Security Constraints</h2>
<p>Unfortunately, not all people on the Internet are good people.<br>
Given enough time, especially if our newsletter picks up traction and becomes successful, we are bound to capture the attention of malicious visitors.<br>
Forms and user inputs are a primary attack target - if they are not properly sanitised, they might allow an attacker to mess with our database (<a href="https://en.wikipedia.org/wiki/SQL_injection">SQL injection</a>), execute code on our servers, crash our service and other nasty stuff.<br>
Thanks, but no thanks.</p>
<p>What is likely to happen in our case? What should we brace for in the wild range of possible attacks?<sup><a href="#threat-modelling">2</a></sup><br>
We are building an email newsletter, which leads us to focus on:</p>
<ul>
<li>denial of service - e.g. trying to take our service down to prevent other people from signing up. A common threat for basically any online service;</li>
<li>data theft - e.g. steal a huge list of email addresses;</li>
<li>phishing - e.g. use our service to send what looks like a legitimate email to a victim to trick them into clicking on some links or perform other actions.</li>
</ul>
<p>Should we try to tackle all these threats in our validation logic?<br>
Absolutely not!<br>
But it is good practice to have a layered security approach<sup><a href="#defense-in-depth">3</a></sup>: by having mitigations to reduce the risk for those threats at multiple levels in our stack (e.g. input validation, parametrised queries to avoid SQL injection, escaping parametrised input in emails, etc.) we are less likely to be vulnerable should any of those checks fail us or be removed later down the line.</p>
<p>We should always keep in mind that software is a living artifact: holistic understanding of a system is the first victim of the passage of time.<br>
You have the whole system in your head when writing it down for the first time, but the next developer touching it will not - at least not from the get-go. It is therefore possible for a load-bearing check in an obscure corner of the application to disappear (e.g. HTML escaping) leaving you exposed to a class of attacks (e.g. phishing).<br>
Redundancy reduces risk.</p>
<p>Let's get to the point - what validation should we perform on names to improve our security posture given the class of threats we identified?<br>
I suggest:</p>
<ul>
<li>Enforcing a maximum length. We are using <code>TEXT</code> as type for our email in Postgres, which is virtually unbounded - well, until disk storage starts to run out. Names come in all shapes and forms, but 256 characters should be enough for the greatest majority of our users<sup><a href="#longest-name">4</a></sup> - if not, we will politely ask them to enter a nickname.</li>
<li>Reject names containing troublesome characters. <code>/()"&lt;&gt;\{}</code> are fairly common in URLs, SQL queries and HTML fragments - not as much in names<sup><a href="#xkcd">5</a></sup>. Forbidding them raises the complexity bar for SQL injection and phishing attempts.</li>
</ul>

<p>Let's have a look at our request handler, as it stands right now:</p>
<pre><code><span>//! src/routes/subscriptions.rs
</span><span>use </span><span>actix_web::{web, HttpResponse};
</span><span>use </span><span>chrono::Utc;
</span><span>use </span><span>sqlx::PgPool;
</span><span>use </span><span>uuid::Uuid;

#[</span><span>derive</span><span>(serde::Deserialize)]
</span><span>pub struct </span><span>FormData {
    </span><span>email</span><span>: String,
    </span><span>name</span><span>: String,
}

#[</span><span>tracing</span><span>::</span><span>instrument</span><span>(
    name = "</span><span>Adding a new subscriber</span><span>",
    </span><span>skip</span><span>(form, pool),
    </span><span>fields</span><span>(
        email = %form.email,
        name = %form.name
    )
)]
</span><span>pub</span><span> async </span><span>fn </span><span>subscribe</span><span>(
    </span><span>form</span><span>: web::Form&lt;FormData&gt;,
    </span><span>pool</span><span>: web::Data&lt;PgPool&gt;,
) -&gt; Result&lt;HttpResponse, HttpResponse&gt; {
    </span><span>insert_subscriber</span><span>(&amp;pool, &amp;form)
        .await
        .</span><span>map_err</span><span>(|_| HttpResponse::InternalServerError().</span><span>finish</span><span>())?;
    Ok(HttpResponse::Ok().</span><span>finish</span><span>())
}

</span><span>// [...]
</span></code></pre>
<p>Where should our new validation live?</p>
<p>A first sketch could look somewhat like this:</p>
<pre><code><span>//! src/routes/subscriptions.rs
 
// An extension trait to provide the `graphemes` method 
// on`String` and `&amp;str`
</span><span>use </span><span>unicode_segmentation::UnicodeSegmentation;
</span><span>// [...]

</span><span>pub</span><span> async </span><span>fn </span><span>subscribe</span><span>(
    </span><span>form</span><span>: web::Form&lt;FormData&gt;,
    </span><span>pool</span><span>: web::Data&lt;PgPool&gt;,
) -&gt; Result&lt;HttpResponse, HttpResponse&gt; {
    </span><span>if </span><span>!</span><span>is_valid_name</span><span>(&amp;form.name) {
        </span><span>return </span><span>Err(HttpResponse::BadRequest().</span><span>finish</span><span>());
    }
    </span><span>insert_subscriber</span><span>(&amp;pool, &amp;form)
        .await
        .</span><span>map_err</span><span>(|_| HttpResponse::InternalServerError().</span><span>finish</span><span>())?;
    Ok(HttpResponse::Ok().</span><span>finish</span><span>())
}

</span><span>/// Returns `true` if the input satisfies all our validation constraints 
/// on subscriber names, `false` otherwise.
</span><span>pub fn </span><span>is_valid_name</span><span>(</span><span>s</span><span>: &amp;</span><span>str</span><span>) -&gt; </span><span>bool </span><span>{
    </span><span>// `.trim()` returns a view over the input `s` without trailing 
    // whitespace-like characters.
    // `.is_empty` checks if the view contains any character.
    </span><span>let</span><span> is_empty_or_whitespace = s.</span><span>trim</span><span>().</span><span>is_empty</span><span>();

    </span><span>// A grapheme is defined by the Unicode standard as a "user-perceived" 
    // character: `å` is a single grapheme, but it is composed of two characters 
    // (`a` and `̊`).
    //
    // `graphemes` returns an iterator over the graphemes in the input `s`.
    // `true` specifies that we want to use the extended grapheme definition set,
    // the recommended one.
    </span><span>let</span><span> is_too_long = s.</span><span>graphemes</span><span>(</span><span>true</span><span>).</span><span>count</span><span>() &gt; </span><span>256</span><span>;

    </span><span>// Iterate over all characters in the input `s` to check if any of them matches 
    // one of the characters in the forbidden array.
    </span><span>let</span><span> forbidden_characters = ['</span><span>/</span><span>', '</span><span>(</span><span>', '</span><span>)</span><span>', '</span><span>"</span><span>', '</span><span>&lt;</span><span>', '</span><span>&gt;</span><span>', '</span><span>\\</span><span>', '</span><span>{</span><span>', '</span><span>}</span><span>'];
    </span><span>let</span><span> contains_forbidden_characters = s.</span><span>chars</span><span>().</span><span>any</span><span>(|</span><span>g</span><span>| forbidden_characters.</span><span>contains</span><span>(&amp;g));

    </span><span>// Return `false` if any of our conditions has been violated 
    </span><span>!(is_empty_or_whitespace || is_too_long || contains_forbidden_characters)
}
</span></code></pre>
<p>To compile the new function successfully we will have to add the <code>unicode-segmentation</code> crate to our dependencies:</p>
<pre><code><span>cargo</span><span> add unicode-segmentation
</span></code></pre>
<p>While it <em>looks like</em> a perfectly fine solution (assuming we add a bunch of tests), functions like <code>is_valid_name</code> give us a false sense of safety.</p>

<p>Let's shift our attention to <code>insert_subscriber</code>.<br>
Let's imagine, for a second, that it requires <code>form.name</code> to be non-empty otherwise something horrible is going to happen (e.g. a panic!).</p>
<p>Can <code>insert_subscriber</code> safely assume that <code>form.name</code> will be non-empty?<br>
Just by looking at its <em>type</em>, it cannot: <code>form.name</code> is a <code>String</code>. There is no guarantee about its content.<br>
If you were to look at our program in its entirety you might say: we are checking that it is non-empty at the edge, in the request handler, therefore we can safely assume that <code>form.name</code> will be non-empty every time <code>insert_subscriber</code> is invoked.</p>
<p>But we had to shift from a <em>local</em> approach (let's look at this function's parameters) to a <em>global</em> approach (let's scan the whole codebase) to make such a claim.<br>
And while it might be feasible for a small project such as ours, examining all the calling sites of a function (<code>insert_subscriber</code>) to ensure that a certain validation step has been performed beforehand quickly becomes unfeasible on larger projects.</p>
<p>If we are to stick with <code>is_valid_name</code>, the only viable approach is validating <em>again</em> <code>form.name</code> inside <code>i…</code></p></article></section></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/">https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/</a></em></p>]]>
            </description>
            <link>https://www.lpalmieri.com/posts/2020-12-11-zero-to-production-6-domain-modelling/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536010</guid>
            <pubDate>Fri, 25 Dec 2020 12:09:57 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[A Minimum Complete Tutorial of CPU Power Management, C-states and P-states]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25536006">thread link</a>) | @usr1106
<br/>
December 25, 2020 | https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/ | <a href="https://web.archive.org/web/*/https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><nav id="TableOfContents"></nav><p>How does CPU save powerÂ&nbsp;? You will learn all the basics about the CPU power management in this post.</p><p>The processor/CPU is designed to operate forever under a specific load. As almost none of us are doing a <code>24x7</code> calculation employing all the resources of the CPU continuously, it is most of the time not operating in its designed maximum. So what is the point of keeping the whole CPU powered on at its full capacityÂ&nbsp;? This is the point of CPU power management. The power management topic covers much more than this, including the RAM, GPU etc., but I am going to tell you only about the CPU side of the story in this post.</p><p>If you know about C-states and P-states and how CPU enters to and exits from these states, probably there is nothing new in this post for you. If not, continue reading.</p><p>I was planning to include a few real-world examples from Linux, but the post was getting longer and taking even more time to finish, so I will do that in another post.</p><p>The general information in this post is applicable to all modern CPUs but the details can be very specific to the individual CPU (esp. to the processor family) and I am using an IntelÂ® XeonÂ® E3-1245 v5 @ 3.50GHz, this is a Xeon E3â€“1200 v5 series (formerly Skylake) processor (model number 0x5e).</p><p>The main references used in this post are:</p><ul><li><a href="https://www.intel.com/content/www/us/en/processors/xeon/xeon-technical-resources.html">Intel(R) Xeon Processor E3â€“1200 v5 Product Family Datasheets</a></li><li><a href="https://ark.intel.com/products/88173/Intel-Xeon-Processor-E3-1245-v5-8M-Cache-3_50-GHz">Intel(R) Xeon Processor E3â€“1245 v5 Product Specification</a></li><li><a href="https://www.intel.com/content/dam/doc/white-paper/energy-efficient-platforms-2011-white-paper.pdf">Sofware Impact to Platform Energy-Efficiency (Intel White Paper)</a></li><li><a href="https://software.intel.com/sites/default/files/managed/39/c5/325462-sdm-vol-1-2abcd-3abcd.pdf">Intel(R) 64 and IA-32 Architectures Software Developer’s Manual</a></li><li><a href="http://www.uefi.org/sites/default/files/resources/ACPI_6_2.pdf">ACPI Specification v6.2</a></li><li><a href="https://en.wikipedia.org/wiki/Advanced_Configuration_and_Power_Interface">ACPI page on Wikipedia</a></li><li>Linux Kernel Sources version 4.13.0</li></ul><p>Unless otherwise noted, all original figures and tables are from the datasheet.</p><ul><li>2019/03/01: Added CoreFreq output to last section.</li></ul><p>On its <a href="https://ark.intel.com/products/52274/Intel-Xeon-Processor-E3-1245-8M-Cache-3_30-GHz">official product page</a>, my CPU has the following features listed:</p><ul><li>Idle States</li><li>Enhanced Intel SpeedStepÂ® Technology</li></ul><p>You can see on the page that “Idle States (C-states) are used to save power when the processor is idle.” and “Intel SpeedStepÂ® Technology switches both voltage and frequency in tandem between high and low levels in response to processor load.”</p><p>You will learn what both of these descriptions mean throughout this post.</p><p>On a production CPU (so not considering the things that can be done while designing the CPU), to save power, you can do two things. You can:</p><ul><li>eliminate the power consumption of a subsystem (a core or other resources like clock or cache) by completely powering it down (so cutting down the voltage, reducing it to zero)</li></ul><p>or</p><ul><li>decrease the power consumption by decreasing the voltage and/or the frequency of the subsystem and/or the whole processor</li></ul><p>The first one is simple to understand, if you shut down the power, you do not consume any power.</p><p>The second requires a bit more explanation. The power consumption of an integrated circuit (such as a processor) is proportional linearly to frequency and quadratically to voltage.</p><p>P ~ f VÂ²</p><blockquote><p>Note for those of you knowing more about digital electronics:</p></blockquote><blockquote><p>Pcpu is actually = Pdynamic + Psc + Pleak</p></blockquote><blockquote><p>On an active CPU, Pdynamic is the most important part, it is the part I mention here, being proportional to the frequency and quadratically to the voltage.</p></blockquote><blockquote><p>Psc=Pshort-circuit is proportional to the frequency.</p></blockquote><blockquote><p>Pleak is proportional to the voltage.</p></blockquote><p>Also, the voltage and frequency is not independent, and seems to have a linear relationship. (<a href="http://async.org.uk/tech-reports/NCL-EEE-MICRO-TR-2015-197.pdf">http://async.org.uk/tech-reports/NCL-EEE-MICRO-TR-2015-197.pdf</a>)</p><p>Higher (serial) performance requires both higher frequency and higher voltage, thus having even a larger effect on the power consumption.</p><p>This depends a lot on the processor but E3â€“1245 v5 @ 3.50 Ghz has Thermal Design Power (TDP) of 80 Watts. This is an average value the CPU can sustain forever (Power Limit/PL1 in the figure below) and it is usually the value that the cooling solutions should be designed at for reliability. Actual power CPU consumes can temporarily go higher (as shown as PL2, PL3 and PL4 in the figure below). TDP is measured under a high-complexity (~worst case) load with all cores active at the base frequency (of 3.50 Ghz).</p><figure><img data-src="https://metebalci.com/img/blog/cpu-package-power-control-figure-5-1.png" alt="CPU Package Power Control" src="https://metebalci.com/img/blog/cpu-package-power-control-figure-5-1.png"><figcaption><p>CPU Package Power Control</p></figcaption></figure><p>You can see in the figure above that the CPU can consume more power than TDP at PL2 for up to 100 seconds, that is actually quite a long duration.</p><p>The two ways to decrease the power consumption of a processor:</p><ul><li>powering down subsystems</li><li>voltage/frequency reduction</li></ul><p>is accomplished by using:</p><ul><li>C-states</li><li>P-states</li></ul><p>respectively.</p><p>C-states describe the first case, so they are the idle (power saving) states. In order to power down a subsystem, that subsystem should not be running anything, so it should be at idle, doing nothing, executing nothing. So C-state x, Cx, means one or more subsystems of the CPU is at idle, powered down.</p><p>On the other hand, P-states describe the second case, so they are the executing (power saving) states. The subsystem is actually running but it does not require full performance so the voltage and/or frequency it operates is decreased. So P-state x, Px, means the subsystem it refers to (e.g. a CPU core) is operating at a specific (frequency, voltage) pair.</p><p>Because most modern CPUs have multiple cores in a single package, C-states are further divided into core C-states (CC-states) and package C-states (PC-states). The reason for PC-states is there are other (shared) components in the processor that can also be powered down after all cores using them are powered down (e.g. the shared cache). However, as a user or programmer, we cannot control these, since we do not interact with the package directly, but we interact with the individual cores. So we can only affect the CC-states directly, PC-states are indirectly affected based on the CC-states of the cores.</p><p>The states are numbered starting from zero like C0, C1â€¦ and P0, P1… The higher the number is the more power is saved. C0 means no power saving by shutting down something, so everything is powered on. P0 means maximum performance, thus maximum frequency, voltage and power used.</p><p>The basic C-states (defined by ACPI) are:</p><ul><li>C0: Active, CPU/Core is executing instructions. P-states are relevant here, CPU/Core may be operating at its maximum performance (thus at P0) or at a lower performance/power (thus at anything other than P0).</li><li>C1: Halt, nothing is being executed, but it can return to C0 instantenously. Since it is not working (but halted), P-states are not relevant for C1 or any Cx other than C0.</li><li>C2: Stop-Clock, similar to C1 but it takes longer time to go back to C0.</li><li>C3: Sleep. It can go back to C0, but it will take considerably longer time.</li></ul><p>Many modern CPUs have plenty more C-states and according to its datasheet IntelÂ® XeonÂ® E3-1200 v5 Family has C0, C1, C1E (C1 Enhanced), C2, C3, C6, C7 and C8. C1 and C1E are CC-states only, and C2 is only a PC-state. All others are both a CC-state and a PC-state.</p><blockquote><p>Note: There are also thread level C-states because of Intel Hyper-Threading. However, the individual threads can only request C-states but power saving action only takes place when the core enters to that C-state. I will in general omit talking about Thread C-states and Hyper-Threading in this post.</p></blockquote><p>The descriptions of these states from the datasheet are:</p><figure><img data-src="https://metebalci.com/img/blog/processor-ia-core-package-state-support-table-4-2.png" alt="Processor IA Core / Package State Support Table" src="https://metebalci.com/img/blog/processor-ia-core-package-state-support-table-4-2.png"><figcaption><p>Processor IA Core / Package State Support Table</p></figcaption></figure><blockquote><p>Note: LLC above refers to Last Level Cache, meaning the shared L3 cache in the processor.</p></blockquote><p>and here there is a visual description:</p><figure><img data-src="https://metebalci.com/img/blog/flexible-c-states-to-select-idle-power-level-vs-responsiveness-figure-4.png" alt="Flexible C-states to select Idle Power Level vs. Responsiveness (from Software Impact to Platform Energy-Efficiency White Paper)" src="https://metebalci.com/img/blog/flexible-c-states-to-select-idle-power-level-vs-responsiveness-figure-4.png"><figcaption><p>Flexible C-states to select Idle Power Level vs. Responsiveness (from Software Impact to Platform Energy-Efficiency White Paper)</p></figcaption></figure><p>A very basic timeline of power saving using C-states is:</p><ul><li>The normal operation is at C0.</li><li>First, the clocks of idle core is stopped. (C1)</li><li>Then, the local caches (L1/L2) of the core is flushed and the core is powered down. (C3)</li><li>Then, when all the cores are powered down, the shared cache (L3/LLC) of the package is flushed and at the end the package/whole CPU can be (almost) powered down. I said almost because I guess there has to be something powered on to return back to C0.</li></ul><p>As you might guess, CC-states and PC-states are not independent, so some combinations are impossible. Figure below summarizes this:</p><figure><img data-src="https://metebalci.com/img/blog/processor-package-and-ia-core-c-states-figure-4-2.png" alt="Processor Package and IA Core C-States of Intel Xeon E3â€“1200 v5 Product Family" src="https://metebalci.com/img/blog/processor-package-and-ia-core-c-states-figure-4-2.png"><figcaption><p>Processor Package and IA Core C-States of Intel Xeon E3â€“1200 v5 Product Family</p></figcaption></figure><p>Obviously, if a core is running (C0), the package cannot be in a state other than C0. On the other hand, if a core is completely powered down (C8), the package can still be at C0 if any other core is still running.</p><blockquote><p>Note: Intel Software Developer’s Manual mentions sub C-states, or substates, meaning a C-state (type) actually contains one or more sub C-states. After checking the intel_idle driver code in the Linux kernel, I understand for example C1 and C1E has the same state type C1, but they are subtypes 0 and 1.</p><p>The number of subtypes of the eight C-state types (0..7) for C1..C8 is discovered by CPUID instruction. Looking at my CPU, cpuid program output returns:</p></blockquote><pre><code>MONITOR/MWAIT (5):
      smallest monitor-line size (bytes)       = 0x40 (64)
      largest monitor-line size (bytes)        = 0x40 (64)
      enum of Monitor-MWAIT exts supported     = true
      supports intrs as break-event for MWAIT  = true
      number of C0 sub C-states using MWAIT    = 0x0 (0)
      number of C1 sub C-states using MWAIT    = 0x2 (2)
      number of C2 sub C-states using MWAIT    = 0x1 (1)
      number of C3 sub C-states using MWAIT    = 0x2 (2)
      number of C4 sub C-states using MWAIT    = 0x4 (4)
      number of C5 sub C-states using MWAIT    = 0x1 (1)
      number of C6 sub C-states using MWAIT    = 0x0 (0)
      number of C7 sub C-states using MWAIT    = 0x0 (0)
</code></pre><blockquote><p>Also note from the Intel manual: “The definition of C0 through C7 states for MWAIT extension are processor-specific C-states, not ACPI Cstates”. So do not confuse these with the ACPI C-states I mentioned before, they are obviously related and there is a mapping between but they are not exactly same.</p></blockquote><p>I have created the chart below from the <code>intel_idle</code> driver source code for my cpu (model 0x5e). The horizontal axis labels indicate the C-state name:processor specific state:processor …</p></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/">https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/</a></em></p>]]>
            </description>
            <link>https://metebalci.com/blog/a-minimum-complete-tutorial-of-cpu-power-management-c-states-and-p-states/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25536006</guid>
            <pubDate>Fri, 25 Dec 2020 12:08:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Some Differences Between macOS and Common Unix Systems]]>
            </title>
            <description>
<![CDATA[
Score 170 | Comments 71 (<a href="https://news.ycombinator.com/item?id=25535971">thread link</a>) | @dongyx
<br/>
December 25, 2020 | https://www.dyx.name/posts/macunix.html | <a href="https://web.archive.org/web/*/https://www.dyx.name/posts/macunix.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>Discuss some differences between macOS and common Unix systems to help Unix users get familiar with macOS sooner.</p><div>
				
<h2 id="users-and-groups">Users and Groups</h2>

<p>macOS manages users and groups by directory services instead of <code>/etc/passwd</code> and  <code>/etc/group</code>.  Consider a local network, for example, the one in your office, there’re many computers in the network and each has its own files, accounts, etc. A directory service organizes these distributed resources into one single index and makes them look like a directory hierarchy.</p>

<p>For example, <code>/Hosts/PC1</code> represents a host in the network and <code>/Users/Smith</code> represents a user in the network.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1">1</a></sup></p>

<p>macOS uses the <code>dscl</code> command to interact with directory services.</p>

<p>To list all users on the system, we could run the following.</p>



<p>The first argument sets which datasource we want to retrieve from. A dot means the local datasource.</p>

<div><div><pre><code># List groups
dscl . -list /Groups
</code></pre></div></div>

<p>The <code>-list</code> option lets <code>dscl</code> print subitems of a resource.  Subitems of <code>/Users</code> are all users. Subitems of <code>/Groups</code> are all groups.</p>

<p>If we want to check the information about the resource instead of listing subitems we should use <code>-read</code>. For example, we could check the information of the user <code>Smith</code> like
the following.</p>

<div><div><pre><code># Retrieve the information of Smith
dscl . -read /Users/Smith
</code></pre></div></div>

<p><code>-read</code> prints keys and values of the specified resource. We could also specify the keys we want.</p>

<div><div><pre><code># Get the primary group ID and default shell of Smith
dscl . -read /Users/Smith PrimaryGroupID UserShell
</code></pre></div></div>

<p>To add a resource, we use <code>dscl . -create</code>. The following command adds a new user <code>belson</code>.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson
</code></pre></div></div>

<p>It seems ok but it’s actually not. If we try to set a password for <code>belson</code> using <code>sudo passwd belson</code>, <code>passwd</code> will tell us the user doesn’t exist. Because <code>dscl</code> just adds a record to the data source but is doesn’t check the integrity. It doesn’t even assign a UID for <code>belson</code>. We must assign a UID and a primary group for <code>belson</code> after adding it to the datasource by ourselves.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson UniqueID 511	# UID 511 for example
sudo dscl . -create /Users/belson PrimaryGroupID 20	# The staff group
</code></pre></div></div>

<p>Now, <code>belson</code> is a Unix user and you can set a password for him using <code>passwd</code>. However, you still can’t login as <code>belson</code> for we don’t assign him a shell.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson UserShell /bin/bash
</code></pre></div></div>

<p>Well we can login as <code>belson</code> now but he doesn’t have a home directory. We must create the directory and specify it with <code>dscl</code>.</p>

<div><div><pre><code>sudo dscl . -create /Users/belson NFSHomeDirectory /Users/belson
sudo mkdir /User/belson
sudo chmod -R belson:staff /User/belson
</code></pre></div></div>

<p>Sounds hell right? But it’s not over. Run <code>dscl . -read /Groups/staff</code> and you will find that
neither the <code>GroupMembers</code> nor the <code>GroupMembership</code> attribute has any information about <code>belson</code>.  We have specified his primary group to <code>staff</code>. But as mentioned above, <code>dscl</code> doesn’t check the integrity. Bidirectional relationships must be maintained manually. This is the real hell.</p>

<p>To solve the user-group relationship problem, we could use <code>dseditgroup</code>. The following command adds <code>belson</code> to the <code>staff</code> group and it takes care of the integrity.<sup id="fnref:2" role="doc-noteref"><a href="#fn:2">2</a></sup></p>

<div><div><pre><code>sudo dseditgroup -o edit -a belson -t user staff
</code></pre></div></div>

<p>We should make a summary here. To create a user <code>belson</code> in the group <code>staff</code>, we need:</p>

<div><div><pre><code>sudo dscl . -create /Users/belson
sudo dscl . -create /Users/belson UniqueID 511	# UID 511 for example
sudo dscl . -create /Users/belson PrimaryGroupID 20	# The staff group
sudo dscl . -create /Users/belson UserShell /bin/bash
sudo dscl . -create /Users/belson NFSHomeDirectory /Users/belson
sudo dseditgroup -o edit -a belson -t user staff
sudo mkdir /User/belson
sudo chmod -R belson:staff /User/belson
</code></pre></div></div>

<p>It is painful for a system administrator to type so many commands just to create a new user. You must miss <code>adduser</code> and <code>addgroup</code> in Debian so much.</p>

<p>Luckily, since Mac OS X 10.10, the <code>sysadminctl</code> command is provided. It’s a high-level interface of <code>dscl</code>. Type <code>sysadminctl</code> in the terminal to see its usage<sup id="fnref:3" role="doc-noteref"><a href="#fn:3">3</a></sup>.</p>

<div><div><pre><code>Usage: sysadminctl
	-deleteUser &lt;user name&gt; [-secure || -keepHome] (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-newPassword &lt;new password&gt; -oldPassword &lt;old password&gt; [-passwordHint &lt;password hint&gt;]
	-resetPasswordFor &lt;local user name&gt; -newPassword &lt;new password&gt; [-passwordHint &lt;password hint&gt;] (interactive] || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-addUser &lt;user name&gt; [-fullName &lt;full name&gt;] [-UID &lt;user ID&gt;] [-shell &lt;path to shell&gt;] [-password &lt;user password&gt;] [-hint &lt;user hint&gt;] [-home &lt;full path to home&gt;] [-admin] [-picture &lt;full path to user image&gt;] (interactive] || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-secureTokenStatus &lt;user name&gt;
	-secureTokenOn &lt;user name&gt; -password &lt;password&gt; (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-secureTokenOff &lt;user name&gt; -password &lt;password&gt; (interactive || -adminUser &lt;administrator user name&gt; -adminPassword &lt;administrator password&gt;)
	-guestAccount &lt;on || off || status&gt;
	-afpGuestAccess &lt;on || off || status&gt;
	-smbGuestAccess &lt;on || off || status&gt;
	-automaticTime &lt;on || off || status&gt;
	-filesystem status
	-screenLock &lt;immediate || off&gt; -password &lt;password&gt;

Pass '-' instead of password in commands above to request prompt.
'-adminPassword' used mostly for scripted operation. Use '-' or 'interactive' to get the authentication string interactivly. This preferred for security reasons
</code></pre></div></div>

<p>We use <code>sysadminctl</code> to delete <code>belson</code> first.</p>

<div><div><pre><code>sudo sysadminctl -deleteUser belson -secure
</code></pre></div></div>

<p>Using <code>dscl</code> to check the directory service, we could find that everything we did is removed.</p>

<p>Now, we add <code>belson</code> again with <code>sysadminctl</code>:</p>

<div><div><pre><code>sudo sysadminctl -addUser belson
sudo dseditgroup -o edit -a belson -t user staff
</code></pre></div></div>

<p>Two commands finish the job.</p>

<h2 id="filesystem-hierarchy">Filesystem Hierarchy</h2>

<p>If you check the root directory, you will see some traditional Unix things like <code>/usr</code>, <code>/var</code>, and <code>/etc</code>. You may also find mac-specified things like <code>/Library</code> <code>/Applications</code>, and <code>/cores</code>.</p>

<p>A list of mac-specified directories with their purposes in the root directory is here<sup id="fnref:4" role="doc-noteref"><a href="#fn:4">4</a></sup>.</p>

<table>
  <thead>
    <tr>
      <th>Directory</th>
      <th>Purpose</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/private</td>
      <td>Contains the tmp, var, etc, directories. <code>/tmp</code>, <code>/var</code>, <code>/etc</code> are symbolic links to these subdirectories</td>
    </tr>
    <tr>
      <td>/Library</td>
      <td>Contains support files for locally installed applications, among other things.</td>
    </tr>
    <tr>
      <td>/System</td>
      <td>Contains a subdirectory, Library, that holds support files for the system and system applications, among other things.</td>
    </tr>
    <tr>
      <td>/Network</td>
      <td>Contains network-mounted Application, Library, and Users directories, as well as a Servers directory that contains directories mounted by the auto mount daemon.</td>
    </tr>
    <tr>
      <td>/Users</td>
      <td>Contains home directories for the users on the system. The root user’s home directory is /var/root (actually /private/var/root).</td>
    </tr>
    <tr>
      <td>/Volumes</td>
      <td>Contains all visible mounted filesystems, including removable media and mounted disk images.</td>
    </tr>
  </tbody>
</table>

<p>We could make a list to compare some of them with Linux.</p>

<table>
  <thead>
    <tr>
      <th>macOS</th>
      <th>Linux</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>/System/Library</td>
      <td>/lib</td>
    </tr>
    <tr>
      <td>/Library</td>
      <td>/usr/lib, /usr/local/lib</td>
    </tr>
    <tr>
      <td>/Users</td>
      <td>/home</td>
    </tr>
    <tr>
      <td>/Volumes</td>
      <td>/mnt, /media</td>
    </tr>
  </tbody>
</table>

<p>You may be confused here for the difference between <code>/Library</code> and <code>/usr/lib</code>. Which directory should we put libraries into?</p>

<p><code>/Library</code> is for macOS-specified softwares, like the data of things you download from the App Store, and BSD programs shipped with macOS, like modules of pre-installed Perl and of pre-installed Python.</p>

<p><code>/usr/lib</code> and <code>/usr/local/lib</code> are for Unix programs installed by yourself.</p>

<h2 id="booting">Booting</h2>

<p>In modern Linux, the first program launched by the kernel is <code>systemd</code>. In macOS it’s <code>launchd</code><sup id="fnref:5" role="doc-noteref"><a href="#fn:5">5</a></sup>.</p>

<p><code>launchd</code> manages two types of services, <code>LaunchDaemon</code> and <code>LaunchAgent</code>. <code>LaunchDaemon</code> will be launched after the system is booted. <code>LaunchAgent</code> will be launched after a user is logged-in.</p>

<p>If a program needs to be launched after the system is booted, a <code>.plist</code> file is required to be placed into <code>/Library/LaunchDaemons</code> or <code>/System/LaunchDaemons</code>.</p>

<p>If a program needs to be launched after a user logged-in, a <code>.plist</code> file is required to be placed into <code>/Library/LaunchAgents</code> or <code>/System/LaunchAgents</code>, or <code>~/Library/LaunchAgents</code> of the user.</p>

<p>The <code>launchctl</code> command is used to control services of <code>launchd</code>.</p>

<div><div><pre><code># to enable sshd
sudo launchctl load -w /System/Library/LaunchDaemons/ssh.plist

# to disable sshd
sudo launchctl unload -w /System/Library/LaunchDaemons/ssh.plist
</code></pre></div></div>

<h2 id="development">Development</h2>

<p>You bought a Mac for development. People told you that you need to do the following two things:</p>

<ul>
  <li>
    <p>Install Xcode from the app store</p>
  </li>
  <li>
    <p>Install command line tools using <code>xcode-select --install</code></p>
  </li>
</ul>

<p>You finished them, opened the terminal and found everything is familiar. You decided to write a classic Hello World with C to celebrate.</p>

<div><div><pre><code>#include &lt;stdio.h&gt;

int main(void)
{
	printf("%s\n", "hello, world");
	return 0;
}
</code></pre></div></div>

<p>If you’re using a 3rd party compiler, the compiler may tell you that <code>stdio.h</code> can’t be found.</p>

<p>No such fundamental file? You want to check <code>/usr/include</code> and you will find that even <code>/usr/include</code> doesn’t exist.</p>

<p>The reason is that header files are put into the package of Xcode in newer Xcode like Xcode 10. You can run <code>xcrun --show-sdk-path</code> to print the path<sup id="fnref:6" role="doc-noteref"><a href="#fn:6">6</a></sup>.</p>

<div><div><pre><code>$ xcrun --show-sdk-path
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk
</code></pre></div></div>

<p>Then you can use <code>-isysroot</code> to specify the path for the compiler, for example:</p>

<div><div><pre><code>gcc -isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk hello.c
</code></pre></div></div>

<h2 id="package-manager">Package Manager</h2>

<p>The first package installed to the system is usually a package manager. However, macOS has no default package manager. If you search online, you will find that <a href="https://brew.sh/">Homebrew</a> is the most popular package manager for macOS.</p>

<p>Homebrew is good for many people but not for one who wants things to go more like common Unix systems.</p>

<p>Homebrew can’t run as root. If you want to install python, you run <code>brew install python</code> instead of <code>sudo brew install python</code>. Homebrew installs packages to <code>/usr/local</code>. To achieve its goal about sudo-free, Homebrew changes the owner of all files and subdirectories under <code>/usr/local</code> to the user who installed Homebrew.</p>

<p>This brings security issues. Considering a malware …</p></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://www.dyx.name/posts/macunix.html">https://www.dyx.name/posts/macunix.html</a></em></p>]]>
            </description>
            <link>https://www.dyx.name/posts/macunix.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535971</guid>
            <pubDate>Fri, 25 Dec 2020 12:00:20 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Planner 2.6 – An open-source Todoist alternative for Linux]]>
            </title>
            <description>
<![CDATA[
Score 238 | Comments 42 (<a href="https://news.ycombinator.com/item?id=25535822">thread link</a>) | @rayrag
<br/>
December 25, 2020 | https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/ | <a href="https://web.archive.org/web/*/https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
		<h2 id="board-view-is-here">Board View is here</h2>

<p>For Todoist users, the Board View was introduced in this new update, a more visual way to organize your Planner projects. This new layout makes it easy to see the big picture of your projects and make progress from start to finish.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/board.png" alt="Planner 2.6 Planner Board"></p>

<p>To see your projects in the <b>Board View</b>, press the three dots icon in the top right, and select <b>View as board</b>. You’ll be able to rearrange your sections, create new ones, and drag your tasks to anywhere on your board.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/board-settings.png" alt="Planner 2.6 Planner Board 2"></p>

<h2 id="sub-project">Sub-project</h2>
<p>One of the most requested features comes to Planner 2.6, keep your ever-growing project list neat and organized with sub-projects.</p>

<p>You can collapse sub-projects under their “parent” projects to temporarily hide them from view. This helps to focus on the right projects at the right time, without getting distracted by everything else.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/sub-project.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="how-to-turn-a-project-into-a-sub-project">How to turn a project into a sub-project</h3>

<ol>
  <li>Right click on a project.</li>
  <li>Select the <b>Move</b> option.</li>
  <li>Select a project.</li>
</ol>

<h2 id="new-features">New Features</h2>
<h3 id="quick-search">Quick Search</h3>

<p>A big update for the Quick Find feature is here, with new views and feactures.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/Quick%20Search.png" alt="Planner 2.6 Planner Board 2"></p>

<ul>
  <li>Quick Search now saves your last searches, so you can hop around without even typing.</li>
  <li>Added new <b>Tomorrow</b> view.</li>
  <li>Now it is possible to search between <b>Sections</b></li>
</ul>

<h3 id="task-defaults">Task defaults</h3>

<p>Added a new view in <b>Preferences</b> to edit task defaults.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/tasks-defaults.png" alt="Planner 2.6 Planner Board 2"></p>

<ul>
  <li>New tasks on top: Indicate the position where the new tasks were created.</li>
  <li>Underline completed tasks.</li>
  <li>Default priority: Select the default priority when creating a task.</li>
</ul>

<h3 id="add-tasks-projects-sections-asynchronously">Add tasks, projects, sections asynchronously</h3>

<p>Adding a task, project or section is a quick process but sometimes this process stops or does not respond mainly to problems with the internet connection. Planner 2.6 creates the tasks asynchronously with the possibility of being able to cancel the process at any time.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/AsyncTask.gif" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="filter-your-projects-by-labels">Filter your projects by labels</h3>
<p>It is now possible to filter the tasks within a project by labels.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/filter-labels.gif" alt="Planner 2.6 Planner Board 2"></p>


<p>Labels have been added in the sidebar to make the use of filter by labels much faster.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/label-sidebar.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="more-customization">More customization</h3>

<p>It is now possible to sort the position <b>Inbox</b>, <b>Today</b> and <b>Upcoming</b> by 
Drag &amp; Drop.</p>

<p><img src="https://useplanner.com/images/blogs/2020-12-24-merry-christmas-everyone-planner-2-6-is-here/ActionMoved.png" alt="Planner 2.6 Planner Board 2"></p>

<h3 id="code-cleanup--performance-improvement">Code cleanup &amp; performance improvement</h3>
<p>A giant code cleanup was done and resource usage was improved. Now Planner is faster and works much better.</p>

<p>Planner 2.6 is available for download now on <a href="https://appcenter.elementary.io/com.github.alainm23.planner/">AppCenter</a> and <a href="https://flathub.org/apps/details/com.github.alainm23.planner">Flathub</a>. We hope you’ll enjoy these improvements.</p>

<p>Planner is being developed with ❤️ and passion for Open Source. However, if you like Planner and want to support its development, consider donating to via:</p>
<ul>
  <li><a href="https://www.patreon.com/alainm23">Patreon</a></li>
  <li><a href="https://www.paypal.me/alainm23">PayPal</a></li>
</ul>



		<!-- <div class="author">
			
			
			<div class="square-image"><img src="https://avatars0.githubusercontent.com/u/33765137?v=4
" alt="Alain"/></div>
			<p class="blurb">Alain likes to discover and create new things.</p>
		</div> -->

		

		
			
			
			
		
	</div></div>]]>
            </description>
            <link>https://useplanner.com/release/2020/12/24/merry-christmas-everyone-planner-2-6-is-here/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535822</guid>
            <pubDate>Fri, 25 Dec 2020 11:19:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Outer Orbit – old school Spacewar-for-one game]]>
            </title>
            <description>
<![CDATA[
Score 57 | Comments 15 (<a href="https://news.ycombinator.com/item?id=25535626">thread link</a>) | @masswerk
<br/>
December 25, 2020 | https://www.masswerk.at/outerorbit/ | <a href="https://web.archive.org/web/*/https://www.masswerk.at/outerorbit/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="about">
		<p><strong>About Outer Orbit</strong><br>
		<em>Outer Orbit</em> is an attempt to create a “Spacewar!-for-one” as a tribute to the line of heritage of digital video games. It combines elements of the most classic shooter games, <em>Spacewar!</em> (1961/62) <a href="https://www.masswerk.at/spacewar/">[1]</a>, the first known video game on a digital computer, <em>Computer Space</em> (1971) <a href="https://www.masswerk.at/rc2017/04/02.html" target="_blank">[2]</a> <a href="https://www.masswerk.at/icss/" target="_blank">[3]</a> <a href="https://en.wikipedia.org/wiki/Computer_Space" target="_blank" rel="noopener">[4]</a>, the first coin-operated digital video game, and <em>Asteroids</em> (1979) <a href="https://en.wikipedia.org/wiki/Asteroids_(video_game)" target="_blank" rel="noopener">[5]</a>:</p>
		<ul>
			<li>From <em>“<a href="https://www.masswerk.at/spacewar/" target="_blank">Spacewar!</a>”</em> it borrows the comic book spaceship, the central star, gravity and orbital mechanics,</li>
			<li>from <em>“<a href="https://www.masswerk.at/icss/" target="_blank">Computer Space</a>”</em> the game mechanics of the saucer opponents and the time-based gameplay,</li>
			<li>from <em>“<a href="https://en.wikipedia.org/wiki/Asteroids_(video_game)" target="_blank" rel="noopener">Asteroids</a>”,</em> well, the asteroids, which serve here just as additional obstacles to make the game a bit trickier.</li>
		</ul>
		<p>Enjoy!</p>
		<p><strong>Note:</strong> A wave has a fixed duration of 80 seconds. You may progress to the next wave/level, if you manage to outscore the saucers in a given level, i.e. shoot the saucers more often than your ship crashes, by this maintaining a positive balance. Mind that the balance is reset to zero at the start of each level.</p>
		<p><strong>Tip:</strong> Like in <em>Spacewar!</em> enter an orbit around the gravitational star by aligning your spaceship perpendicular to its center and firing your thruster for two or three seconds. — Do not attempt to destroy asteroids, dodge them.</p>
		<p><strong>Implementation Notes:</strong> The sound-scape is for the most a homage to <em>Computer Space,</em> less the background hum. The display font is based on definitions for a PDP-1 font renderer (early 1960s) and implemented in software. In order to bring the iterative machanics of a gravity based game to the modern age of asynchronous rendering, the game is computed internally in fixed time slices of an 1/100<sup>th</sup> of a second and the display rendered on demand.</p>
		<p><strong>Setting an Initial Level:</strong> Experienced players may want to select the initial level by specifying a wave as an URL-parameter, as in <a href="https://www.masswerk.at/outerorbit/?wave=30">https://www.masswerk.at/outerorbit/?wave=30</a> for a game starting at wave #30.</p>
		<p>© 2017–2020 Norbert Landsteiner, <a href="https://www.masswerk.at/">www.masswerk.at</a>.</p>
	</div></div>]]>
            </description>
            <link>https://www.masswerk.at/outerorbit/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535626</guid>
            <pubDate>Fri, 25 Dec 2020 10:33:18 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Linux Hardening Guide]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535489">thread link</a>) | @ignoramous
<br/>
December 25, 2020 | https://madaidans-insecurities.github.io/guides/linux-hardening.html | <a href="https://web.archive.org/web/*/https://madaidans-insecurities.github.io/guides/linux-hardening.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page">
    

    <p><i><time datetime="2020-12-25">Last edited: December 25, 2020</time></i></p>

    <div>
      <p><a href="https://madaidans-insecurities.github.io/linux.html">Linux is not a secure operating system</a>. However, there are steps you can take to improve it. This guide aims to explain
      how to harden Linux as much as possible for security and privacy. This guide attempts to be distribution-agnostic and is not tied to any specific one. </p><p>
      
      DISCLAIMER: Do not attempt to apply anything in this article if you do not know exactly what you are doing. This guide is focused purely on security and privacy,
      not performance, usability, or anything else. </p><p>
      
      All commands listed in this guide will require root privileges. Words beginning with "$" sign indicate a variable that may differ between users as to suit their
      setup.
    </p></div>

    <h2>Contents</h2>

    

    <h2 id="choosing-the-right-distro"><a href="#choosing-the-right-distro">1. Choosing the right Linux distribution</a></h2>

    <p>
      There are many factors that go into choosing a good Linux distribution.
    </p>

    <ul>
      <li>
        Avoid distributions that freeze packages as <a href="https://madaidans-insecurities.github.io/linux.html#debian">they are often quite behind on security updates</a>.
      </li>

      <li>
        Use a distribution with an init system other than <a href="https://systemd.io/">systemd</a>. systemd contains a lot of unnecessary
        attack surface; <a href="https://ewontfix.com/14/">it attempts to do far more things than necessary</a> and goes beyond what an
        init system should do. An init system should not need many lines of code to function properly.
      </li>

      <li>
        Use <a href="https://musl.libc.org/">musl</a> as the default C library. musl is heavily focused on minimality which <a href="https://github.com/NixOS/nixpkgs/issues/90147#issuecomment-643473182">results in very small attack surface</a> whereas other C libraries
        such as glibc are overly complex and prone to vulnerabilities. For example, <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-72/product_id-767/GNU-Glibc.html">
        over a hundred vulnerabilities in glibc have been publicly disclosed</a> compared to the <a href="https://www.cvedetails.com/vulnerability-list/vendor_id-16859/product_id-39652/Musl-libc-Musl.html">
        very few in musl</a>. While counting CVEs by itself is often an inaccurate statistic, it can sometimes be used to represent an overaching issue such as
        in this case. musl also has <a href="https://www.dustri.org/b/security-features-of-musl.html"> decent exploit mitigations</a>, particularly its
        <a href="https://www.openwall.com/lists/musl/2020/05/13/1">new hardened memory allocator</a>.
      </li>

      <li>
        Preferably use a distribution that utilizes <a href="https://www.libressl.org/">LibreSSL</a> by default rather than <a href="https://www.openssl.org/">
        OpenSSL</a>. <a href="https://arstechnica.com/information-technology/2014/04/openssl-code-beyond-repair-claims-creator-of-libressl-fork/">OpenSSL contains
        tremendous amounts of totally unnecessary attack surface and follows poor security practices</a>. For example, it still maintains OS/2 and VMS support —
        ancient operating systems that are multiple decades old. These abhorrent security practices are what led to the dreaded <a href="https://en.wikipedia.org/wiki/Heartbleed">Heartbleed vulnerability</a>. LibreSSL is a fork of OpenSSL by the OpenBSD team that applies
        <a href="https://en.wikipedia.org/wiki/LibreSSL#Changes">superior programming practices</a> and <a href="https://opensslrampage.org/">eradicates
        a lot of attack surface</a>. Within LibreSSL's first year, <a href="https://www.openbsd.org/papers/libtls-fsec-2015/mgp00005.html">it mitigated a
        large number of vulnerabilities, including a few high severity ones</a>.
      </li>
    </ul>

    <div><p>
      The best distribution to use as a base for your hardened operating system would be <a href="https://www.gentoo.org/">Gentoo Linux</a> as it allows you to configure
      your system exactly how you want it to be which will be extremely useful, especially when we come to <a href="#hardened-compilation-flags">more secure compilation
      flags</a> later in the guide. </p><p>
      
      However, Gentoo may not be feasible for many people due to its significant usability pitfalls. In this case, <a href="https://voidlinux.org/">Void Linux</a>'s musl
      build is a good compromise.
    </p></div>

    <h2 id="kernel"><a href="#kernel">2. Kernels</a></h2>

    <p>
      The kernel is the core of the operating system and is unfortunately very prone to attacks. As Brad Spengler has once said, <a href="https://grsecurity.net/huawei_hksp_introduces_trivially_exploitable_vulnerability">it can be thought of as the largest,
      most vulnerable setuid root binary on the system</a>. Thus, it is very important for the kernel to be hardened as much as possible.
    </p>

    <h3 id="stable-vs-lts"><a href="#stable-vs-lts">2.1 Stable vs. LTS kernels</a></h3>

    <div><p>
      The Linux kernel is released under two main forms: stable and long-term support (LTS). Stable releases are more recent whereas LTS
      releases are an older stable release that is being supported for a long time. <a href="https://www.grsecurity.net/the_truth_about_linux_4_6">
      There are many consequences to choosing either of the aforementioned releases</a>. </p><p>
      
      The Linux kernel <a href="https://grsecurity.net/reports_of_cves_death_greatly_exaggerated">does not use CVEs to identify security
      vulnerabilities properly</a>. This means that fixes for most security vulnerabilities are not able to be backported to LTS kernels;
      but stable releases contain all security fixes made so far. </p><p>
      
      With those fixes however, a stable kernel includes a lot more new features, therefore vastly increasing the attack surface of the
      kernel and introducing a large amount of new bugs. On the contrary, LTS kernels have less attack surface because these features are
      not being constantly added. </p><p>
      
      Additionally, stable kernels include newer hardening features to mitigate certain exploits which LTS kernels do not. A few examples
      of such features are the <a href="https://mjg59.dreamwidth.org/55105.html">Lockdown LSM</a> and <a href="https://a13xp0p0v.github.io/2018/11/04/stackleak.html">STACKLEAK GCC plugin</a>. </p><p>
      
      To conclude, there is a trade-off when choosing a stable or LTS kernel. LTS kernels have less hardening features and not all public bug fixes
      at that point have been backported, but it generally has less attack surface and potentially a smaller chance of introducing unknown bugs.
      Stable kernels have more hardening features and all known bug fixes are included but it also has more attack surface and greater chances of
      introducing more unknown bugs. In the end though, a more recent LTS branch such as the 4.19 kernel would be preferred due to the much smaller
      attack surface.
    </p></div>

    <h3 id="sysctl"><a href="#sysctl">2.2 Sysctl</a></h3>

    <p>
      Sysctl is a tool that allows the user to configure certain kernel settings and enable various security features or disable dangerous
      features to reduce attack surface. To change settings temporarily you can execute:
    </p>

    <pre><code>sysctl -w $tunable = $value</code></pre>

    <div><p>
      To change sysctls permanently you can add the one you want to change to <code>/etc/sysctl.conf</code> or the corresponding files within
      <code>/etc/sysctl.d</code>, depending on your Linux distribution. </p><p>
      
      The following are the recommended sysctl settings that you should change.
    </p></div>

    <h4 id="sysctl-kernel"><a href="#sysctl-kernel">2.2.1 Kernel self-protection</a></h4>

    <pre><code>kernel.kptr_restrict=2</code></pre>

    <p>
      A kernel pointer points to a specific location in kernel memory. <a href="https://kernsec.org/wiki/index.php/Bug_Classes/Kernel_pointer_leak">
      These can be very useful in exploiting the kernel</a> but kernel pointers are not hidden by default — it is easy to uncover them by, for example,
      reading the contents of <code>/proc/kallsyms</code>. This setting aims to mitigate kernel pointer leaks. Alternatively, you can set
      <code>kernel.kptr_restrict=1</code> to only hide kernel pointers from processes without the <code>CAP_SYSLOG</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.dmesg_restrict=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Dmesg">dmesg</a> is the kernel log. It exposes a large amount of useful kernel debugging information but this
      can often leak sensitive information such as kernel pointers. Changing the above sysctl restricts the kernel log to the <code>CAP_SYSLOG</code>
      <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.printk=3 3 3 3</code></pre>

    <p>
      Despite the value of <code>dmesg_restrict</code>, the kernel log will still be displayed in the console during boot. Malware that is
      able to record the screen during boot may be able to abuse this to gain higher privileges. This option prevents those information
      leaks. This must be used in combination with certain boot parameters <a href="#boot-kernel">described below</a> to be fully effective.
    </p>

    <pre><code>kernel.unprivileged_bpf_disabled=1
net.core.bpf_jit_harden=2</code></pre>

    <p>
      <a href="https://madaidans-insecurities.github.io/linux.html#kernel">eBPF exposes quite large attack surface</a>. As such, it must be restricted. These sysctls restrict eBPF
      to the <code>CAP_BPF</code> <a href="#capabilities">capability</a> (<code>CAP_SYS_ADMIN</code> on kernel versions prior to 5.8) and enable
      JIT hardening techniques such as <a href="https://github.com/torvalds/linux/blob/9e4b0d55d84a66dbfede56890501dc96e696059c/include/linux/filter.h#L1039-L1070">constant blinding</a>.
    </p>

    <pre><code>dev.tty.ldisc_autoload=0</code></pre>

    <p>
      This <a href="https://lkml.org/lkml/2019/4/15/890">restricts loading TTY line disciplines</a> to the <code>CAP_SYS_MODULE</code>
      <a href="#capabilities">capability</a> to prevent unprivileged attackers from loading vulnerable line disciplines with the <code>TIOCSETD</code>
      ioctl which <a href="https://a13xp0p0v.github.io/2017/03/24/CVE-2017-2636.html">has been abused in a number of exploits before</a>.
    </p>

    <pre><code>vm.unprivileged_userfaultfd=0</code></pre>

    <p>
      The <code><a href="https://man7.org/linux/man-pages/man2/userfaultfd.2.html">userfaultfd()</a></code> syscall is <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=cefdca0a86be517bc390fc4541e3674b8e7803b0">often</a> <a href="https://duasynt.com/blog/linux-kernel-heap-spray">abused</a> to exploit use-after-free flaws. Due to this, this sysctl is used to restrict
      this syscall to the <code>CAP_SYS_PTRACE</code> <a href="#capabilities">capability</a>.
    </p>

    <pre><code>kernel.kexec_load_disabled=1</code></pre>

    <p>
      <a href="https://en.wikipedia.org/wiki/Kexec">kexec is a system call that is used to boot another kernel during runtime</a>. This functionality can
      be abused to load a malicious kernel and gain arbitrary code execution in kernel mode so this sysctl disables it.
    </p>

    <pre><code>kernel.sysrq=4</code></pre>

    <p>
      The <a href="https://www.kernel.org/doc/html/latest/admin-guide/sysrq.html">SysRq key</a> exposes a lot of potentially dangerous debugging functionality
      to unprivileged users. Contrary to common assumptions, SysRq is not only an issue for physical attacks as <a href="https://github.com/xairy/unlockdown">
      it can also be triggered remotely</a>. The value of this sysctl makes it so that a user can only use the <a href="https://www.kernel.org/doc/Documentation/SAK.txt">
      secure attention key</a> which will be necessary for <a href="#accessing-root-securely">accessing root securely</a>. Alternatively, you can simply set the
      value to <code>0</code> to disable SysRq completely.
    </p>

    <pre><code>kernel.unprivileged_userns_clone=0</code></pre>

    <div><p>
      User namespaces are a feature in the kernel which aim to improve sandboxing and make it easily accessible for unprivileged users however, <a href="https://madaidans-insecurities.github.io/linux.html#kernel">this feature exposes significant kernel attack surface for privilege escalation</a> so this sysctl restricts the
      usage of user namespaces to the <code>CAP_SYS_ADMIN</code> <a href="#capabilities">capability</a>. For unprivileged sandboxing,
      it is instead recommended to use a setuid binary with little attack surface to minimize the potential for privilege escalation. This topic is
      covered further in the <a href="#application-sandboxing">sandboxing section</a>. </p><p>
      
      Be aware though that this sysctl only exists on certain Linux distributions as it requires a kernel patch. If your kernel does not include
      this patch, you can alternatively disable user namespaces completely (including for root) by setting <code>user.max_user_namespaces=0</code>.
    </p></div>

    <pre><code>kernel.perf_event_paranoid=3</code></pre>

    

    <h4 id="sysctl-network"><a href="#sysctl-network">2.2.2 Network</a></h4>

    <pre><code>net.ipv4.tcp_syncookies=1</code></pre>

    <p>
      This helps protect against <a href="https://en.wikipedia.org/wiki/SYN_flood">SYN flood attacks</a> which are a form of denial of service attack
      in which an attacker sends a large amount of bogus SYN requests in an attempt to consume enough resources to make the system unresponsive to
      legitimate traffic.
    </p>

    <pre><code>net.ipv4.tcp_rfc1337=1</code></pre>

    <p>
      This protects against <a href="https://tools.ietf.org/html/rfc1337">time-wait assassination</a>…</p></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://madaidans-insecurities.github.io/guides/linux-hardening.html">https://madaidans-insecurities.github.io/guides/linux-hardening.html</a></em></p>]]>
            </description>
            <link>https://madaidans-insecurities.github.io/guides/linux-hardening.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535489</guid>
            <pubDate>Fri, 25 Dec 2020 09:59:44 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Trading Time for Money]]>
            </title>
            <description>
<![CDATA[
Score 184 | Comments 147 (<a href="https://news.ycombinator.com/item?id=25535366">thread link</a>) | @nicbou
<br/>
December 25, 2020 | https://nicolasbouliane.com/blog/trading-time-for-money | <a href="https://web.archive.org/web/*/https://nicolasbouliane.com/blog/trading-time-for-money">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
                            <div>
        <article>
            <p>
                Posted on <time datetime="2020-12-24 09:53:00">December 24, 2020</time>
            </p>
                        <p>According to conventional wisdom, if you earn 31€/hour, and a task costs less than that to outsource, then you should always pay someone else to do it. For example, if your cleaning person charges 15€/hour, you save 16€ for every hour you spend at work instead of cleaning your house.</p>
<p>I've encountered this advice quite often, particularly among the wealthier, productivity porn-loving, <em>4-Hour Work Week</em>-thumping entrepreneur crowd.<br></p>
<p>I don't think that advice is quite right.</p>
<h2>Your time is worth less than you think</h2>
<p>There is a hefty tax on converting time to money. In Germany, if you earned the average income (42 421€ per year)<sup><a href="https://www.statista.com/statistics/416207/average-annual-wages-germany-y-on-y-in-euros/">1</a></sup>, you'd lose roughly a quarter of it to income tax<sup><a href="http://www.parmentier.de/steuer/index.php?site=einkommensteuerrechnerjava">1</a></sup>. Your 31€/hour salary<sup><a href="https://www.statista.com/statistics/416207/average-annual-wages-germany-y-on-y-in-euros/">1</a>, <a href="https://clockify.me/working-hours">2</a></sup> is actually worth 24€/hour after taxes.</p>
<p>But there is more to account for: health insurance (7.3%), unemployment insurance (1.25%), public pension (9.3%) and nursing care insurance (1.775%)<sup><a href="http://www.parmentier.de/steuer/index.php?site=lohnsteuerrechnerjava">1</a></sup> are also deducted from your salary. When it's all said and done, you take home about 20€/hour. If you also pay church tax and get the most expensive health insurance, you keep 19€/hour.</p>
<p>So again, if you earn the average 31€/hour, and work the average 1386 hours per year, you save about 4€ per hour - not 16€ - by hiring a cleaning person who charges half your rate.</p>
<p>Taxes aren't the only thing that whittle away your disposable income. You also have some unavoidable expenses, namely rent, groceries and utilities. That's 550€, 150€ and 100€ per month for a single, thrifty Berliner. That's 35% of your take-home salary, so you're left with 12.50€/hour in disposable income. At this point, I'm including decimals, because they start to matter.</p>
<p>In other words, you must sell 72 minutes of your life to buy 60 minutes of your cleaning person's life, even though you earn twice as much.</p>
<p>Here's a recap for the mathematically inclined:</p>
<pre>hourly_disposable income = (
    (gross_income - income_tax)
    - health_insurance
    - unemployment_insurance
    - pension_insurance
    - nursing_care_insurance
    - (rent + groceries + utilities) * 12
) / hours_worked_per_year</pre>
<p>Keep in mind that this describes the reality in Germany, where people work much less, but pay higher taxes. You will get wildly different results in your own country.</p>
<h2>Outsourcing costs more than you think</h2>
<p>Eating out is often used as an example of trading money for time. It's faster than cooking your own food: no shopping, no cooking, no cleaning.<br></p>
<p>In Berlin, you can get a square meal for 10€. A croissant, a coffee and two square meals would set you back 20€ a day. By comparison, my grocery bill is 5€ a day. That's a 450€/month difference, or 37.5 hours of your time (see above), but you'd probably spend that much time between the supermarket and the kitchen anyway.<br></p>
<p>However, getting to&nbsp;the restaurant, ordering, waiting for your food, then waiting for the bill takes time too. Personally, I&nbsp;find cooking every other day more convenient  than eating out twice a day. Eating out only makes sense when I'm too tired to cook.<br></p>
<p>This also applies to hiring professionals. You still need time to find one and to work with their schedule. I can change the oil or the brakes on my motorcycle in about 30 minutes. It takes me about as long to drop my bike off at the dealership, but I&nbsp;have to do it during office hours, and wait a few days to get it back.<br></p>
<p>In short, outsourcing your work does not always make life easier. It can lighten your mental load, but so does working less by having lower expenses.<br> </p>
<h2>Time is not a liquid asset</h2>
<p>In practice, you don't get to choose how much of your time you sell.&nbsp;If your expenses are covered, you just can't stop going to work. If you need more money, you could work more, but rarely on your own terms, just when you need to. You couldn't sell an extra 2 hours of programming on a Thursday night, because you have nothing else going on.&nbsp; There's also a limit on how much time you can sustainably sell, regardless of demand - about 60 hours a week.<br></p>
<p>You can't choose which time you sell either. Most employers will only buy your office hours. You can't decide to work night shifts, or to work 80 hour weeks in the winter, then take the summer off. You can't even decide where to allocate the time you <em>didn't</em> sell. Your employer usually decides when you take your lunch breaks, and when you can use your holidays. If you're on call, even your free time isn't quite yours.</p>
<p>In other words, you don't really trade more time at the office for less time cleaning your house. You're stuck at the office for 40 hours a week regardless, so you're just using some of your fixed budget. However, if you <em>don't</em> hire a cleaning person, and you don't spend your money, then you can buy some&nbsp;of your time back later, either as a gap year, or as an early retirement.</p>
<p>As a freelancer, you have much more control over what time you sell, and in which amount. Nonetheless, you are still bound to standard contract lengths, to the limits of your body, and to cyclical demand in your industry. A freelance accountant likely won't take time off during tax season. A freelance developer will mostly find 3 to 6 month contracts.<br></p>
<p>Put shortly, time is not a liquid asset. You can't easily  sell more or less of it according to your needs.</p>
<h2>Time does not have a fixed value</h2>
<p>Let's pretend that your boss lets you work for as long as you need, whenever you need to. You could spend an extra hour at the office, and pay someone to save you an hour of cleaning.</p>
<p>I'd make that deal. Swearing at my computer brings me joy, but doing the dishes doesn't. I'd gladly trade a few hours of programming for a few hours of cleaning.</p>
<figure><img src="https://nicolasbouliane.com/images/_fullWidth2x/good-time.jpg" alt=""><figcaption>My definition of a good time</figcaption></figure>
<p>After 30 hours a week, I'd start to value my time at the office a bit more. I'd rather spend that time at home, sipping a beer on my balcony with a pie in the oven, so I&nbsp;wouldn't be so keen to sell it.</p>
<p>After 50 hours, I'd be selling my time at a much higher price. There's a point where work takes a toll on your body, and seeps into other aspects of your life.&nbsp;By then, menial work feels like a release, rather than a chore.</p>
<p>Unless you&nbsp;<em>really</em> like your job, there comes a point where you'd rather do something else, even if has a lower market value than your profession.<br></p>
<h2>The hidden benefits of doing it yourself</h2>
<p>The most understated benefit of doing things yourself is the skills and the tools you acquire along the way. Your cooking gets better and more diversified with every meal you cook. Bike repairs get cheaper and easier with every attempt. Those skills stay with you, and over time, the benefits compound. You can tackle bigger and bigger projects, and the results look better and better.</p>
<figure><img src="https://nicolasbouliane.com/images/_fullWidth2x/level-up.jpg" alt=""></figure>
<p>Outsourcing, on the other hand, doesn't get better and cheaper. It either gets better and more expensive, or cheaper and worse. This ties your quality of life to a single variable: your income. Your lifestyle is much more reliant on your ability to stay employed, because it's the only thing you can do.<br></p>
<p>Beyond that, doing things yourself is immensely rewarding. Wrenching on your own motorcycle feels good. Delighting your guests with a home-cooked meal feels good. Using shelves you built yourself feels good. These are direct products of your hard work, and symbols of the control you have over your environment.</p>
<p>I'd also argue that it gives you a greater appreciation for the world you live in. It allows you to see things beyond the surface. Musicians appreciate music on a different level,
 and the same can be said for gardeners, machinists, architects and 
every other kind of enthusiast. My fledgling interest in gardening quite literally made me see the forest for the trees.<br></p>
<p>Paying someone else to do it robs you of this joy. Climbing through the career ladder provides its own rewards, but those always felt too abstract to me. If I  indirectly make my company a little leaner, I&nbsp;get 4% more disposable income. Big whoop.</p>
<h2>Caveats</h2>
<p>Some tasks don't develop useful skills. They don't get easier, cheaper or more enjoyable with time. Chores are chores, and some work is just plain tedious. No matter how good I&nbsp;get at painting walls, I still hate it with a passion.&nbsp;My father fixed cars his entire life, and he won't change his oil in the winter, when the car is caked in&nbsp;slush.</p>
<p>Life is short, and the 40 hour work week isn't going anywhere, so it's okay to spare your free time for things you enjoy. That's worth paying a premium for.</p>
<p>Even if you enjoy doing something, the timing isn't always right.&nbsp;I found that my motorcycle's front rim was bent just before leaving for a 3 month trip. I already had a lot on my plate with work and trip preparations, so I paid a mechanic to do it. Outsourcing lets you solve multiple problems in parallel.</p>
<p>In some cases, the upfront cost of doing things yourself is just too high. I won't resurface my motorcycle's cylinder head at home, because the tools cost more than my net worth, and highly trained machinists will do it for 100€.&nbsp;Sometimes, it's better to let economies of scale do their thing.</p>
<p>In other cases, the running costs are too high. All those things you maintain will chip away at your free time. In aggregate, they can swallow your evenings. For example, think twice about running your own server to save a few euros per month. These needy buggers tend to require your attention at the most inopportune times. Outsourcing means someone else is taking care of it, and invoicing you once a month.</p>
<p>Sometimes, the risk isn't worth the potential savings. It's important to learn how to do things yourself, but don't bite off more than you can chew. Don't cause hundreds of euros worth of damage to save a few euros. Hire a professional, and let them do their job.&nbsp;If they cock up, <em>they</em> are liable to fix the mess, not you.</p>
<h2>Conclusion</h2>
<p>Yes, outsourcing has its time and place, but it's more expensive than it appears. Sometimes, it's better to do things yourself, and acquire useful skills …</p></article></div></div></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://nicolasbouliane.com/blog/trading-time-for-money">https://nicolasbouliane.com/blog/trading-time-for-money</a></em></p>]]>
            </description>
            <link>https://nicolasbouliane.com/blog/trading-time-for-money</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535366</guid>
            <pubDate>Fri, 25 Dec 2020 09:30:04 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[I've Never Been a Businessman]]>
            </title>
            <description>
<![CDATA[
Score 6 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25535171">thread link</a>) | @Tomte
<br/>
December 25, 2020 | https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html | <a href="https://web.archive.org/web/*/https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="screen">

<div>
<div>
    
    <section>
        <h2>Mit Werbung weiterlesen</h2>
        <p>Besuchen Sie Golem.de wie gewohnt mit Werbung und Tracking, indem Sie der Nutzung aller Cookies zustimmen.
            Details zum Tracking finden Sie
            <!-- in der <a target="_blank" href="https://www.golem.de/sonstiges/Datenschutz.html">Datenschutz&shy;erkl&auml;rung</a> und -->
            im <span id="gsptextpc1">Privacy Center</span>.
        </p>
        <p id="loadhint">
                Skript wurde nicht geladen. Informationen zur Problembehandlung finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
        </p>
        <div>
            
            <p id="gspcookiehint">Um der Nutzung von Golem.de mit Werbung zustimmen zu können,
                müssen Cookies in Ihrem Browser aktiviert sein. Weitere Informationen finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
            </p>
            <p id="gspiframehint">Die Zustimmung in einem iFrame ist nicht möglich.<br>
                <a href="#" onclick="GolemConsent.redirectBack(true);">Seite in eigenem Fenster öffnen</a>.
            </p>
            <p id="fallbackhint">Der Zustimmungs-Dialog konnte nicht korrekt geladen werden,
                eine Zustimmung gilt nur vorläufig. Informationen zur Problem­behandlung finden Sie
                <a href="https://www.golem.de/sonstiges/techinfo.html" target="_blank">hier</a>.
            </p>
        </div>
        <p>
            Die Möglichkeit zum Widerruf finden Sie
            in unserer <a target="_blank" href="https://www.golem.de/sonstiges/Datenschutz.html#Widerruf">Datenschutz­erklärung</a>
            oder über den Link <span id="gsptextpc2">Cookies &amp; Tracking</span> am Ende jeder Seite.
        </p>
    </section>
    
    <section>
        <h2>… oder Golem pur bestellen</h2>
        <p>Mit Golem pur ab 3 Euro pro Monat können Sie Golem.de ohne Analyse- und
            Werbe­cookies nutzen, es kommen nur für unser Angebot erforderliche Cookies zum Einsatz.
        </p>
        <a target="_blank" href="https://redirect.golem.de/nl.php?id=account_cta_cmp">Zu Golem pur</a>
        <p id="loginhint">
        Bereits Pur-Leser?
        <a href="https://account.golem.de/user/login?redirect=https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html">Hier anmelden</a>.            <span id="nosubhint">Kein aktives Abo vorhanden.</span>
        </p>
    </section>
    <div>
        
        <div>
            <details>
                <summary>Informationen auf einem Gerät speichern und/oder abrufen</summary>
                <p>Für die Ihnen angezeigten Verarbeitungszwecke können Cookies, Geräte-Kennungen
                    oder andere Informationen auf Ihrem Gerät gespeichert oder abgerufen werden.
                </p>
            </details>
            <details>
                <summary>Personalisierte Anzeigen und Inhalte, Anzeigen- und Inhaltsmessungen, Erkenntnisse über Zielgruppen und Produktentwicklungen</summary>
                <p>Anzeigen und Inhalte können basierend auf einem Profil personalisiert werden.
                    Es können mehr Daten hinzugefügt werden, um Anzeigen und Inhalte besser zu personalisieren.
                    Die Performance von Anzeigen und Inhalten kann gemessen werden.
                    Erkenntnisse über Zielgruppen, die die Anzeigen und Inhalte betrachtet haben, können abgeleitet werden.
                    Daten können verwendet werden, um Benutzerfreundlichkeit, Systeme und Software aufzubauen oder zu verbessern.
                </p>
            </details>
            <details>
                <summary>Genaue Standortdaten verwenden</summary>
                <p>Es können genaue Standortdaten verarbeitet werden,
                    um sie für einen oder mehrere Verarbeitungszwecke zu nutzen.
                </p>
            </details>
        </div>
    </div>
    
</div><!-- c2_content -->
</div><!-- c2_wrapper -->

</div></div>]]>
            </description>
            <link>https://www.golem.de/news/interview-with-david-harris-i-ve-never-been-a-businessman-2012-152533.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25535171</guid>
            <pubDate>Fri, 25 Dec 2020 08:44:29 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Improving Communication in Development Teams]]>
            </title>
            <description>
<![CDATA[
Score 11 | Comments 1 (<a href="https://news.ycombinator.com/item?id=25534925">thread link</a>) | @stebunovd
<br/>
December 24, 2020 | https://teamplify.com/blog/improving-communication/ | <a href="https://web.archive.org/web/*/https://teamplify.com/blog/improving-communication/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div>
    <div>
      
  

  <p>
    <span>December 7, 2020</span>
    <span>●</span>
    
  </p>

  <p>
    In software development, communicating productively is as important as
    writing quality code quickly. Maybe even more important - studies show that
    most problems in software projects are in fact communication problems.
  </p>

  
  <h2 id="why-focus-on-communication">
    <a href="#why-focus-on-communication">Why focus on communication?</a>
  </h2>


  <p>
    On the Internet, you can find many articles and studies about
    <a href="https://www.google.com/search?q=why+software+projects+fail" rel="noopener noreferrer" target="_blank">
      why software projects fail
    </a>. They cite different reasons, for example:
  </p>

  <ul>
    <li>Lack of understanding of business needs;</li>
    <li>Vague or poorly communicated requirements;</li>
    <li>Unrealistic timelines or expectations;</li>
    <li>False belief that scope can be defined upfront;</li>
    <li>Inadequate planning;</li>
    <li>Too many or too few people assigned to a project;</li>
    <li>Poor reporting of project status;</li>
    <li>Unmanaged risks;</li>
    <li>... and so on.</li>
  </ul>

  <p>
    If you look closer, you'll notice that these reasons point to one thing in
    common: a disconnect between management and developers. So removing this
    disconnect should yield great returns.
  </p>

  
  <h2 id="does-it-mean-we-should-talk-more">
    <a href="#does-it-mean-we-should-talk-more">Does it mean we should talk more?</a>
  </h2>


  <p>
    What would improve communication between developers and management? This is
    a broad topic, but one idea's obvious: they must communicate frequently
    enough to be on the same page about goals, requirements, priorities, work
    progress, project challenges, and risks.
  </p>

  <p>
    This creates another problem though: to be productive, developers need
    prolonged periods of quiet time. They need to do focused work, without
    distractions. Meetings distract developers from writing code. And waiting
    for the meeting can be even worse. If people know they'll be interrupted
    soon, they'll feel discouraged from starting anything big. Paul Graham
    wrote a great article about this -
    <a href="http://www.paulgraham.com/makersschedule.html" rel="noopener noreferrer" target="_blank">
      Maker's Schedule, Manager's Schedule
    </a>.
  </p>

  <p>
    Ok, so on one hand we need to talk to developers, but on the other we
    shouldn't distract them so much that they can't be productive. Finding this
    delicate balance may be hard, but we can make the job easier by removing
    trivial questions from the discussion. Below I'll give some examples of how
    well organized processes and technology can help us talk less, but do more.
  </p>

  
  <h2 id="stop-asking-whos-working-on-what">
    <a href="#stop-asking-whos-working-on-what">Stop asking who's working on what</a>
  </h2>


  <p>
    One such trivial question is “Who's working on what?” Isn't that what the
    task tracker's for? All task trackers incorporate concepts like Assignee
    and Status. When tasks are accurately assigned with up-to-date statuses,
    you'll have immediate visibility about who's working on what and how long
    they've been working on it. Besides that, you may occasionally need to
    return to old completed tasks. Having an accurate task history helps you
    return easily.
  </p>

  <p>
    Though task tracking sounds simple, in practice it requires a manager's
    effort to keep your task tracker in good shape. People may forget to switch
    task statuses, or assign tasks to themselves. Someone might not have a task
    in progress at all. Someone else might have multiple tasks in progress,
    which once again, doesn't tell us what exactly they're working on.
  </p>

  <p>
    That's why we created these "In progress"
    <a href="https://teamplify.com/notification-types/">notifications</a>
    in Teamplify:
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/no-issues-in-progress.webp?3490 1x, https://cdn.teamplify.com/blog/img/no-issues-in-progress@2x.webp?3490 2x" type="image/webp">
      <img alt="No issues in progress" src="https://cdn.teamplify.com/blog/img/no-issues-in-progress.png?3490" srcset="https://cdn.teamplify.com/blog/img/no-issues-in-progress@2x.png?3490 2x" width="494" height="106">
    </picture>
  </p>

  <p>
    Teamplify connects to your task tracker, like Jira or Trello. If it's not
    clear what developers are working on, it will politely ask, in Slack or
    over email, to update their task status. These notifications are smart and
    unobtrusive. They also take all kinds of non-working days into
    consideration, so they won't disturb your teammates on their vacation.
    More on that later.
  </p>

  
  
  <h2 id="make-work-progress-visible">
    <a href="#make-work-progress-visible">Make work progress visible</a>
  </h2>


  <p>
    Today, almost every development team uses at least some version of these
    collaboration tools:
  </p>

  <ul>
    <li>code hosting - for example, GitHub or GitLab;</li>
    <li>task tracker - Jira, Trello, or similar;</li>
    <li>chat - many teams use Slack;</li>
    <li>video conferencing software, such as Zoom.</li>
  </ul>

  <p>
    These tools are usually shared with the whole team, so any team member can
    take a look and learn something about work progress. Unfortunately,
    looking over each tool is not a convenient way to learn what the team has
    been busy on. Because the information is fragmented, not everyone will be
    willing to dig through it. It's much easier to ask about the status in a
    meeting.
  </p>

  <p>
    That's why we created the Team Calendar view, which collects all the work
    activity from your team tools and puts it in one place. It also shows
    national holidays, vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a>:
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/team-calendar.webp?3490 1x, https://cdn.teamplify.com/blog/img/team-calendar@2x.webp?3490 2x" type="image/webp">
      <img alt="Team Calendar" src="https://cdn.teamplify.com/blog/img/team-calendar.png?3490" srcset="https://cdn.teamplify.com/blog/img/team-calendar@2x.png?3490 2x" width="704" height="458">
    </picture>
  </p>

  <p>
    The calendar displays the most important types of team work activity,
    including code commits, task updates, and communication over video and chat.
    It also automatically detects when someone mentions a task in chat messages
    and code commits. For example, if a task was discussed somewhere in Slack,
    you'll see it, and be able to click directly to that discussion.
  </p>

  <p>
    Better visibility into work progress means better informed managers, with
    less need for meetings and less developer distractions.
  </p>

  
  <h2 id="make-time-off-visible">
    <a href="#make-time-off-visible">Make time-off visible</a>
  </h2>


  <p>
    Time off plays an important role in short-term project planning. Even in
    small organizations, people don't always remember who's going on vacation
    next week. And if your team is distributed, it's quite easy to forget about
    other country's national holidays.
  </p>

  <p>
    When someone's absence is a surprise, it's not good for your project.
    Making time-off clearly visible helps people better plan around it.
  </p>

  <p>
    That's why we added time-off management to Teamplify. National holidays,
    vacations, sick days, and other
    <a href="https://teamplify.com/member-status/">member statuses</a> are visible on the
    <a href="#make-work-progress-visible">Team Calendar</a> mentioned above.
    You can also configure notifications for Slack or email:
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/slack-sick-day.webp?3490 1x, https://cdn.teamplify.com/blog/img/slack-sick-day@2x.webp?3490 2x" type="image/webp">
      <img alt="Sick day notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-sick-day.png?3490" srcset="https://cdn.teamplify.com/blog/img/slack-sick-day@2x.png?3490 2x" width="552" height="344">
    </picture>
  </p>

  <p>
    Even if people miss the notification and mention someone who is absent
    today, Teamplify will politely remind them:
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/slack-friendly-reminder.webp?3490 1x, https://cdn.teamplify.com/blog/img/slack-friendly-reminder@2x.webp?3490 2x" type="image/webp">
      <img alt="Time off friendly reminder" src="https://cdn.teamplify.com/blog/img/slack-friendly-reminder.png?3490" srcset="https://cdn.teamplify.com/blog/img/slack-friendly-reminder@2x.png?3490 2x" width="537" height="212">
    </picture>
  </p>

  <p>
    You can also request a vacation or add another status via the Teamplify
    Slack bot, so you can manage off time without leaving Slack.
  </p>

  
  <h2 id="identify-stuck-progress">
    <a href="#identify-stuck-progress">Identify stuck progress</a>
  </h2>


  <p>
    Even the best and brightest developers get stuck sometimes. There may be an
    unexpected technical problem, or maybe the task turns out to be more
    difficult than previously thought. In such cases, brainstorming with
    colleagues may help find a solution or an alternative path and boost the
    progress significantly.
  </p>

  <p>
    If we haven't seen any code activity from a developer in a while, it
    doesn't necessarily mean that they're stuck, but it might signal a good
    time to check if everything's alright.
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/slack-no-recent-commits.webp?3490 1x, https://cdn.teamplify.com/blog/img/slack-no-recent-commits@2x.webp?3490 2x" type="image/webp">
      <img alt="No recent commits notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-no-recent-commits.png?3490" srcset="https://cdn.teamplify.com/blog/img/slack-no-recent-commits@2x.png?3490 2x" width="534" height="74">
    </picture>
  </p>

  <p>
    Stuck communication is just another form of stuck progress. This could be a
    lengthy discussion without any productive decision. More often, it's just a
    question that's been waiting too long for an answer:
  </p>

  <p>
    <picture>
      <source srcset="https://cdn.teamplify.com/blog/img/slack-pending-questions.webp?3490 1x, https://cdn.teamplify.com/blog/img/slack-pending-questions@2x.webp?3490 2x" type="image/webp">
      <img alt="Pending questions notification in Slack" src="https://cdn.teamplify.com/blog/img/slack-pending-questions.png?3490" srcset="https://cdn.teamplify.com/blog/img/slack-pending-questions@2x.png?3490 2x" width="666" height="154">
    </picture>
  </p>

  <p>
    If a bot can politely remind your correspondent about your pending
    question, it means you don't have to. Besides that, bot notifications are
    sometimes better perceived. If a person reminds you every day about pending
    questions, it might be annoying. But if a bot does the same - it's probably
    okay, because, you know, it's just a bot.
  </p>

  
  <h2 id="bottom-line">
    <a href="#bottom-line">Bottom line</a>
  </h2>


  <p>
    When communication improvements add up, the result is a more productive
    work environment, where people are better informed and spend less time on
    discussing trivial questions. We have a lot of complex problems to solve,
    let's focus on them instead.
  </p>

    </div>
  </div></div>]]>
            </description>
            <link>https://teamplify.com/blog/improving-communication/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534925</guid>
            <pubDate>Fri, 25 Dec 2020 07:32:55 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The impact of Apple Silicon Macs on Broadway]]>
            </title>
            <description>
<![CDATA[
Score 240 | Comments 279 (<a href="https://news.ycombinator.com/item?id=25534863">thread link</a>) | @da02
<br/>
December 24, 2020 | https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/ | <a href="https://web.archive.org/web/*/https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="container"><main><article role="article"><div><p>In a previous life, I was an electronic music designer working on Broadway shows in New York City. Broadway shows look glamorous and expensive on the outside, but it’s often quite the opposite on the inside –&nbsp;at least for the music department. One of the toughest parts of my job as an electronic music designer was to find the best performance-to-cost ratio for computer rigs powering keyboards, guitars, playback tracks, and more.</p><p>Over the past decade, Broadway has replaced large sections of traditional orchestras with synthesizers, playback systems, and electronic drum pads. I’m not in support of that, but that’s a story for another day. The point here is that Broadway’s reliance on computer-driven rigs has increased, while the typical budget required to build high-end stable rigs hasn’t increased at the same rate.</p><p>Some shows I’ve worked at set aside a $10,000-$12,000 budget for two keyboard rigs. That sounds like a lot of money at first, but it’s not. For live shows, it’s usually best to have a 1:1 backup in case the main rig fails. That fact alone means you have to design a rig that fits within 50% of the proposed budget. Furthermore, a high-quality keyboard controller alone is $1,500-2,000 –&nbsp;so that means there’s $3,000 left for a computer and everything else.</p><p>Due to budget constraints, many shows end up using Mac minis. Historically speaking, the Mac mini’s computing power has been a bottleneck for electronic music designers on Broadway. In a perfect world, we’d all like to use the best-sounding sample libraries for our work, but that was never feasible with the Mac mini. Thus, the compromise was always to reduce sound quality to fit within the Mac mini’s compute constraints.</p><p>Apple Silicon changes everything for Broadway electronic music designers. The new M1 Mac mini is capable of running high-end sample libraries and virtual instruments in a stable manner, and it’s only going to get better with M2, M3, and M4-series chips in the future. The performance per dollar characteristics of Apple Silicon machines are going to have a huge impact on Broadway’s sound, and I’m very excited to see, or hear, what happens.</p></div></article></main></div></div>]]>
            </description>
            <link>https://brianli.com/2020/12/the-impact-of-apple-silicon-macs-on-broadway/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534863</guid>
            <pubDate>Fri, 25 Dec 2020 07:14:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Learning to Play the Chaos Game]]>
            </title>
            <description>
<![CDATA[
Score 139 | Comments 6 (<a href="https://news.ycombinator.com/item?id=25534794">thread link</a>) | @hardmath123
<br/>
December 24, 2020 | https://hardmath123.github.io/chaos-game-fractal-foliage.html | <a href="https://web.archive.org/web/*/https://hardmath123.github.io/chaos-game-fractal-foliage.html">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><article id="postcontent">
            <section>
                
                <center><em><p>I, Thomasina Coverly, have found a truly wonderful method whereby all the forms of nature must give up their numerical secrets and draw themselves through number alone…</p>
</em></center>
                <h4>Friday, December 25, 2020 · 7 min read</h4>
<p>It’s Christmastime again! Shall we talk about trees? This post is about my new
holiday hobby: hallucinating tree-shaped fractals using our old friend,
gradient descent.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/tree-building.gif" alt="Christmas tree"></p>
<hr>
<p>But — let me start at the beginning. For a variety of reasons, the cover
image of Douglas Hofstadter’s <a href="https://en.wikipedia.org/wiki/I_Am_a_Strange_Loop"><em>I am a Strange
Loop</em></a> has been on my mind
this month. I have been thinking a lot about this wonderful image created by
pointing a camera at a projector that displays what the camera is seeing. In
modern terms: what happens if you screen-share the screen sharing window? This
happens:</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/strange-loop.png" alt="from the cover of the book"></p>
<p>Such “feedback loop” recursions often rapidly converge to breathtaking
fixed-points. The NYC MoMath even has an <a href="https://momath.org/25-feedback-fractals-1/">art
installation</a> that lets you play
with a camera-and-projector setup to make <a href="https://twitter.com/momath1/status/824740594564075520">wonderful
patterns</a>.</p>
<p>As you can imagine, there is a mathematical theory here. At risk of ruining the
mystery, I will tell you about it, though without writing any equations. :-)
The theory is the theory of <a href="https://en.wikipedia.org/wiki/Iterated_function_system">Iterated Function
Systems</a>, which is
almost exactly what it sounds like. Start with a set of affine functions
(affine because that’s what camera-projector-systems do) and repeatedly apply
them to a set of points, taking the union at each step. Regardless of where you
start, you will soon end up with a fractal structure which is the fixed point
of the system. Why fractal? —because the self-similarity comes from the
infinitely-nested composition of the affine functions.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Ifs-construction.png" alt="from Wikipedia"></p>
<p>There are theorems that ensure convergence towards and uniqueness of this fixed
point in the limit, but… it’s believable enough, don’t you think? Following
your intuition, you can build Sierpinski Triangles and <a href="https://en.wikipedia.org/wiki/Barnsley_fern">Barnsley
Ferns</a> and all sorts of other
beautiful structures using an IFS. I refer you to Section 8.2 of <a href="http://algorithmicbotany.org/papers/#abop"><em>The
Algorithmic Beauty of Plants</em> by Prusinkiewicz and Lindenmayer (yes, <em>that</em>
Lindenmayer)</a> for more botanical
connections.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Fractal_fern_explained.png" alt="from Wikipedia"></p>
<hr>
<p>Now here is the question that has been on my mind: if I give you a picture of a
fractal-fern, can you give me a set of affine functions whose fixed point is
that fern? This is the <a href="https://en.wikipedia.org/wiki/Iterated_function_system#The_inverse_problem"><em>inverse
problem</em></a>
for IFSes. According to Wikipedia, this problem has real-world applications in
image compression, but it is <em>hard</em> to do in general.</p>
<p>Hmm. Interesting. Can our favorite tool, gradient descent, come to the rescue?
At least in an approximate sense? Recall that a two-dimensional affine function
is really just a 3x3 matrix (with 6 free parameters) that encodes the details
of the transformation. If we could easily compute images of IFS fixed points
from a set of matrices, then perhaps we could try to optimize the parameters of
these matrices to make the fixed point look the way we want it to.</p>
<p>The challenge, of course, is efficiently <em>finding</em> the fixed point —
repeatedly rasterizing and compositing affine transformations on images sounds
expensive — and doing so differentiably sounds like a scalability nightmare!
But there is a wonderful solution to this problem, which is to play the
so-called “<a href="https://en.wikipedia.org/wiki/Chaos_game">chaos game</a>.” Instead of
<em>densely</em> applying all the functions to all the points on the plane, you can
<em>sparsely</em> approximate the fixed point as follows: Start with a point — any
point! — and <em>randomly</em> select one of the affine functions of the IFS and
apply it to the point. Repeat this process with the new point. It turns out
that in the limit, the “trail” left behind by this wandering point converges to
the fixed point of the IFS. (This, too, is a theorem, but again I think it is
believable enough that I will not demand a proof.) This is what the “chaos
game” looks like for the Sierpinski triangle; notice how the salt-and-pepper
spattering of points soon converges boldly into the fractal we know and love
(it’s an animation — stare for a few seconds).</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/Sierpinski_chaos_animated.gif" alt="from Wikipedia"></p>
<p>So here is the plan: we start with a point, and play the chaos game with our
current IFS matrices to obtain a <em>point cloud</em> that stochastically approximates
the fixed-point. Then, we compare this <em>point cloud</em> to our target fern-image
to obtain a “loss.” Finally, we update our IFS matrix parameters to minimize
this loss, until at last the fixed-point converges to the target image. It’s
just “machine learning,” really: we’re learning to play the chaos game!</p>
<p>Here is an outline of the algorithm (with some details elided):</p>
<pre><code># initialize IFS
F = [random_3x3_affine() for _ in range(4)]
o = torch.optim.Adam(F, lr=0.0001)

for step in range(100_000):
    o.zero_grad()
    # start at origin
    v = torch.tensor([0., 0., 1.])

    # play the chaos game once
    trace = []
    for _ in range(200):
          # applying an affine function is just
        # a matrix multiplication!
        v = torch.matmul(random.choice(F), v)
        trace.append(v)

    # treat the trace as a point cloud
    loss = compare(target_image, trace)

    # update parameters
    loss.backward()
    o.step()
</code></pre>
<p>Ah! Actually, there is <em>one</em> detail that I <em>should</em> explain: how do you compare
a point cloud and an image? My idea is to convert the target image to a
<em>second</em> point cloud by uniformly sampling points from it, for example by
rejection-sampling. Then you can compare the two point clouds by the so-called
“chamfer distance,” which is the mean distance from each point to its nearest
neighbor in the opposite point cloud. This is quadratic-time to compute, and
the most expensive part of the whole operation, but with ~100 points in each
set it is quite doable.</p>
<blockquote>
<p>A pedagogical aside: notice that the “trick” here is really a <em>change in
representation.</em> This optimization problem is easier to solve on point clouds
than on raster images! An important lesson, that applies across the
ML-for-graphics domain… and more broadly to all differentiable programming
enterprises.</p>
</blockquote>
<hr>
<p>Remarkably, this zany scheme works quite well! Let’s try it with a heart. (A
heart, because it’s an easy low-entropy shape, but also because it felt
symbolically appropriate in relation to Hofstadter’s broader philosophical
project of souls-within-souls-within-souls.)</p>
<p>When we initialize the system with 4 random affine transformations, the trail
left behind by the chaos game is very unimpressive. The sparsity is because I
simulate only 200 steps of the chaos game for each step of gradient descent —
there’s a tradeoff between noise and computation time, of course, as there is
with any form of SGD.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-samples-early.png" alt="chaos game on a heart"></p>
<p>Okay. Time to optimize! Here is what it looks like after 100K steps of
optimization with an Adam optimizer (that’s about 40 minutes of wall-time
computation on my old MacBook). It looks pretty good, don’t you think? The
chamfer distance scheme works!</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-samples.png" alt="chaos game on a heart"></p>
<p>Now we can export the four affine matrices out from PyTorch and work out the
“true” fixed point with a more expensive offline computation (for example, by
simulating a few <em>million</em> steps of the chaos game). It looks like this — not
perfect, and indeed quite crayon-scribble-ey, but clearly <em>something</em>
interesting has happened, and the result is convincingly heartlike.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart-fractal.png" alt="extended chaos game on a heart"></p>
<p>Where is the fractal structure hidden in this heart? This needs some
vizualization tooling to see clearly. After a bit of JS-canvas-hacking: here is
a GIF of the heart that reveals its fixed-point structure.
Hearts-in-hearts-in-hearts!</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/heart.gif" alt="Heart"></p>
<p>I will admit to blinking a few times when I first saw this animation play out
in full — I did <em>not</em> expect it to work, and even now I find myself marveling
at this creation? discovery? of a heart encoded in 24 numbers.</p>
<hr>
<p>But it still doesn’t look <em>quite right</em> — the fractalness isn’t <em>obvious</em>.
How come? It’s because our affine transformations stretch and squash the heart
into almost unrecognizable blobs. A final, natural improvement is to force our
affine transformations to be <em>rigid</em>, so that there isn’t any squishing or
skewing in the fractal. This is actually not too bad to implement: the solution
to problems of constraint are typically reparametrizations, and indeed in this
case we can simply reparametrize the matrices in terms of a rotation, an
(isotropic) scale, and a translation. Now we’re down from 6 parameters per
matrix to just 4 — even more magical! The result is a much more “obviously”
fractal-ey fixed point, simply because your eye can more easily pick out the
structural recursion when it is made of rigid motions.</p>
<p>Let’s take it for a — pardon — <em>spin!</em></p>
<p>Since I promised you trees, here is some fractal foliage. The target image was
a picture of a maple leaf! I’d never thought about this before, but indeed a
maple leaf contains within it an echo of the whole tree. (Full disclosure: it
takes a couple of randomized restarts to get a really impressive result — the
low dimensionality of the fractal’s parametrization leads to the same
stuck-in-a-local-optimum woes that differentiable rendering folks face all the
time…)</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/foliage.gif" alt="Leaf"></p>
<p>This one uses just three matrices — experimentally, three matrices tend to be
enough to get really good results, and more just lead to very busy and crowded
fractals. (I don’t know if there is a word for number-of-maps–in-an-IFS, but
let’s call it the IFS’s <em>arity</em>. In this terminology, I like <em>ternary</em> IFSes.)</p>
<p>And finally, since I promised you Christmas trees…</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/christmas-tree.gif" alt="Christmas tree"></p>
<p>This last animation is actually absolutely <em>baffling</em> to me. In part, this is
because of how <em>treelike</em> the fractal turned out — here it is overlayed
against the silhouette I optimized against. Can you imagine this is encoded by
just 12 parameters? Odd.</p>
<p><img src="https://hardmath123.github.io/static/chaos-game/christmas-tree-match.png" alt="Tree vs. silhouette"></p>
<p>But even more bafflingly: the actual geometry of the recursion is <em>nothing</em>
like the tree recursion geometry you and I are used to from CS106! Compare the
GIF above to Barnsley’s Fern: while Barnsley turns each full leaf into two
smaller leaves with “semantic” affine maps, this Christmas tree does all sorts
of <em>bizarre</em> uninterpretable cartwheels and somehow almost magically works
itself out in the end. It is mesmerizing to me, …</p></section></article></div>
<br/><p><em>Article truncated for RSS feed. Read the full article at <a href="https://hardmath123.github.io/chaos-game-fractal-foliage.html">https://hardmath123.github.io/chaos-game-fractal-foliage.html</a></em></p>]]>
            </description>
            <link>https://hardmath123.github.io/chaos-game-fractal-foliage.html</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534794</guid>
            <pubDate>Fri, 25 Dec 2020 06:55:23 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The aftermath of “No, 'Open Source' does not mean 'Includes Free Support'”]]>
            </title>
            <description>
<![CDATA[
Score 32 | Comments 16 (<a href="https://news.ycombinator.com/item?id=25534492">thread link</a>) | @EMIRELADERO
<br/>
December 24, 2020 | https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/ | <a href="https://web.archive.org/web/*/https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><p>
      Got some hilarious reactions. Gotta share.
    </p><div>

<p>Well, <a href="https://raccoon.onyxbits.de/blog/bugreport-free-support">my last post hit it big</a>. Poor blog had a couple social media death hugs on that day. Gosh, people were fuming about me (supposedly) stating that I would not accept their hand-laced, gold-edged, rose scented bug reports without prior payment. How dare I?! Well, I simply do. </p><figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/problem.png">
  </a>
  
</figure>
                             
                             

<p>The statement was actually that I ignore support requests from non-customers, <strong>especially</strong> when they come <u>disguised</u> as bugreports in order to avoid my fee. I don’t deliberately delete bug reports from my inbox, I simply risk loosing genuine ones because they are drowned out.</p>

<p>But hey, social media. Fast paced universe. Gotta comment while it’s hot, no time to (properly) read the original article. Some people hold some hilarious opinions, though!</p>

<h2 id="what-people-wrote">What people wrote</h2>

<blockquote>
<p>Bugs must be fixed!</p>
</blockquote>

<p>No, they don’t. Have you read the license agreement? Search for the phrase “AS IS”. Every <a href="https://opensource.org/licenses">OSI approved license</a> contains it (usually in caps). It means, I am under no obligation to provide any further work and you are not entitled to it.</p>

<p>Of course, there’s a simple way to make me owe you a service (and I’m even offering it): put money in my bank account.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>The bug was your fault in the first place!</p>
</blockquote>

<p>So? Oh wait. Is this going to be one of those conspiracy theories where I deliberately put bugs into my code in order to make you pay for removing them? Nice idea, but…</p>

<ul>
<li>That plan does not scale. There are only so many bugs I could plant.</li>
<li>Fixing bugs is the most time consuming form of support. I’m making a loss on that (in particular when considering the time required to design a good bug that some<u>one</u> might pay for getting removed).</li>
<li>I gave you the source, that takes the leverage out of my hands.</li>
</ul>

<p>The choice to use my software was yours. The disclaimer that it might not work is in the license agreement. I did not put myself in the position of being your only option to solve the issue.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>My bug reports are a work of art, you prick! I spent MY TIME on helping YOU to improve YOUR software!</p>
</blockquote>

<p>Your bug doesn’t bother me. If it did, I’d have fixed it myself. When submitting a bug report, you are not working for me, you are working for yourself and the user community. The same way I was, when making the original software available free of charge (whether or not you want to do it is entirely your choice, I’m not asking you to). Does your bug report include a patch? If yes, then the problem’s solved for you, if not, then you are expecting me to come up with a fix. That’s a work order, here’s my bill.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Ignoring bug reports is stupid!</p>
</blockquote>

<p>Why? If I look at the mail, I’ll be tempted to act on it, giving someone a free ride. That’s unfair to those who paid for it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>But I’ll have to pay and get no guarantee that my bug will be fixed.</p>
</blockquote>

<p>No, but you are guaranteed, that I will be listening to you and give you a definitive answer in a timely manner. That’s something you don’t get from public bugtrackers. See the problem here? You base your risk assessment on your experience with developers you don’t pay and who therefore have no incentive to help you. When I take your money, you are a customer.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Every other open source project accepts free bug reports</p>
</blockquote>

<p>I don’t care.</p>

<ul>
<li>If some other developer wants to self exploit and thinks his time is only worth cheers, that’s their choice.</li>
<li>If the project(s) you are talking about are mission critical (and are otherwise funded), then yes, running a community support forum is a sensible choice.</li>
</ul>

<p>Whatever the reason, I don’t tend to jump off bridges, just because someone else does it.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You hypocrite! You advertise your software as a solution to MY problem on your website</p>
</blockquote>

<p>Part of letting you use my solution is letting you know what problem I solve (by the way, that’s a service, saving you from reading the code in order to figure out what it does - you’re welcome). The conclusion that we both have the same problem was yours to draw. And yes, my software has long since grown beyond my own needs. But guess what, that still doesn’t compel me to work for you for free.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You can avoid hosting costs by publishing on platform X</p>
</blockquote>

<p>Hey, remember SourceForge? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owners added shady <a href="https://en.wikipedia.org/wiki/SourceForge#Controversies">monetization practices</a>. Developers had a choice: leave and lose your backlinks or stay and have your reputation tarnished.</p>

<p>Hey, remember Github? Used to be <strong>the</strong> hosting platform for open source projects. Got sold. New owner is Microsoft! The queen of vendor lock-in and shady monetization practices. Developers had a choice: leave and lose your backlinks or stay and see what Microsoft will pull out of their hat in the coming years.</p>

<p>Hey, do you know Gitlab? It is <strong>the</strong> hosting platform for open source projects! <small>Until it will get sold!</small>
</p>

<p>Do you <a href="https://raccoon.onyxbits.de/blog/why-not-use-github/">see the pattern here</a>?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You made yourself the sole address for support. At least provide a community support forum!</p>
</blockquote>

<p>Outsource self-exploitation while eating up the infrastructure cost? Sounds like a plan. <strong>NOT!</strong> Get your ass out of your echo chamber. The idea of community support is one of the big criticisms <strong>against</strong> open source. When people have a problem, they want someone to talk to and they want their problem fixed in a timely manner. They don’t want to sign up for forum accounts and they don’t want to monitor them for weeks in the hopes that some community member might eventually come up with an answer.</p>

<p>When it comes to my software, I’m the most competent person to talk to. So whether I like to or not, people will (try to) contact me. As a developer, that puts a choice on your table:</p>

<ul>
<li>Stop your spare time being eaten up with tech support by pulling the software.</li>
<li>Start accepting payment and realize that you are now running a business that creates additional overhead cost.</li>
</ul>

<p>Yes, I made myself the sole address for support. That is the only logical conclusion. If I’m running a business, why should I let it be cannibalized by running a public support forum / bug tracker? That’s just adding infrastructure cost to choke profit.</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>Offering free support helps your project to grow!</p>
</blockquote>

<p>Math wiz ey? Ever tried applying a scaling factor to a project where the expenses exceed the revenue?</p>

<figure>
  <a href="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg">
    <img src="https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/spacer.svg" alt="spacer">
  </a>
  
</figure>
                             
                             

<blockquote>
<p>You should have a donation button instead!</p>
</blockquote>

<p>Great idea! How often do you click those?</p>

<p>Seriously, I’m not a registered charity and only those may accept donations. For everyone else it’s just mislabelled, but still taxable income. The moment you put up a “donation” button, you are running a business, which automatically generates overhead costs. Getting five bucks once every blue moon with the implication of having to kiss the generous donor’s feet is simply not sustainable.</p>

<p>I’m not running a charity and I don’t want your “support”. I want, same as you, being paid for the work I do. I find it utterly dishonest to put my work under an open source license, then spend a ridiculous amount of extra work on guilt tripping my users in order to collect alms.</p>

<p>If the license says, “the software is free to use”, then that’s the deal. You get exactly that. Nothing more, nothing less. Everything else is extra and billable.</p>
</div></div>]]>
            </description>
            <link>https://raccoon.onyxbits.de/blog/reactions-bugreport-free-support/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534492</guid>
            <pubDate>Fri, 25 Dec 2020 05:41:27 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[The Curl Year 2020]]>
            </title>
            <description>
<![CDATA[
Score 7 | Comments 0 (<a href="https://news.ycombinator.com/item?id=25534338">thread link</a>) | @pabs3
<br/>
December 24, 2020 | https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/ | <a href="https://web.archive.org/web/*/https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div id="page">
		
	
	<!-- #masthead -->

	<div id="main">

	<div id="primary">
		<div id="content" role="main">
			
<article id="post-15375">
	
		<p><img width="672" height="372" src="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg" alt="" loading="lazy" srcset="https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-672x372.jpg 672w, https://daniel.haxx.se/blog/wp-content/uploads/2017/12/fireworks-180553_1920-1038x576.jpg 1038w" sizes="(max-width: 672px) 100vw, 672px">		</p>

		
	<!-- .entry-header -->

		<div>
		
<p>As we’re approaching the end of the year, I just want to sum up the curl year with a few words.</p>



<p>2020 has been another glorious year in the curl project. We’ve seen a series of accomplishments and introductions of new things during this the year of the plague.</p>



<h2>Accomplishments</h2>



<p>I personally have done more commits in the git repository since any year after 2004 (890 so far).</p>



<p>The total number of commits done in git is the largest since 2014 (1445 plus some).</p>



<p>The number of published curl related CVEs is the lowest since 2013 (6). For the ones we announced, we could reward record amounts in our bug bounty program!</p>



<p>139 authors wrote commits that were merged (so far).</p>



<p>We did nine curl releases, out of which two unfortunately were quicker “panic releases” that patched up problems in the previous release.</p>



<h2>Seven changes to remember</h2>



<p>We’ve logged no less than <strong>905 bug-fixes</strong> and <strong>30 changes</strong> in the releases of this year, but the seven perhaps most memorable things we’ve introduced in 2020 are…</p>



<ul><li><a href="https://daniel.haxx.se/blog/2019/07/22/curl-goez-parallel/" data-type="post" data-id="12568">Parallel transfers</a> with curl</li><li><a href="https://daniel.haxx.se/blog/2020/04/14/curl-mqtt-true/" data-type="post" data-id="13836">MQTT</a>://</li><li><a href="https://daniel.haxx.se/blog/2020/11/03/hsts-your-curl/" data-type="post" data-id="11415">HSTS</a></li><li><a href="https://daniel.haxx.se/blog/2020/09/04/curl-help-remodeled/" data-type="post" data-id="14601"><code>--help</code> refined</a></li><li><a href="https://daniel.haxx.se/blog/2020/08/19/curl-7-72-0-more-compression/" data-type="post" data-id="14463">Zstd</a></li><li><a href="https://daniel.haxx.se/blog/2020/03/17/curl-write-out-json/" data-type="post" data-id="13740">JSON output</a> in -w</li><li><a href="https://daniel.haxx.se/blog/2020/01/12/curl-even-more-wolfed/" data-type="post" data-id="13130">wolfSSH backend</a></li></ul>



<h2>Videos</h2>



<p>This year I’ve introduced the concept of doing a “release presentation” for every release. Those are videos where I go through and discuss the changes, the security releases and some interesting bug-fixes. Each release links to those from <a href="https://curl.se/changes.html">the changelog page</a> on the website.</p>



<h2>New home</h2>



<p>This is the year when we finally got ourselves a curl domain. <a href="https://daniel.haxx.se/blog/2020/11/04/the-journey-to-a-curl-domain/" data-type="post" data-id="14930">curl.se is our new home</a>.</p>



<h2>What didn’t happen</h2>



<p>We cancelled curl up 2020 due to Covid-19. It was planned to happen in Berlin. We did it purely online instead. We’re not planning any new physical curl up for 2021 either. Let’s just wait and see what happens with the pandemic next year and hope that we might be able to go back and have a physical meetup in 2022…</p>



<h2>It is a curl world</h2>



<figure><a href="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg"><img loading="lazy" width="2000" height="1125" src="https://daniel.haxx.se/blog/wp-content/uploads/2020/12/slide-a-curl-world-2020.jpg" alt=""></a></figure>




	</div><!-- .entry-content -->
	
	</article><!-- #post-15375 -->
		<nav role="navigation">
		
		<!-- .nav-links -->
		</nav><!-- .navigation -->
		
<!-- #comments -->
		</div><!-- #content -->
	</div><!-- #primary -->

<!-- #content-sidebar -->
<div id="secondary">
		<h2>tech, open source and networking</h2>
	
	
		<!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<!-- #colophon -->
	</div></div>]]>
            </description>
            <link>https://daniel.haxx.se/blog/2020/12/24/the-curl-year-2020/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25534338</guid>
            <pubDate>Fri, 25 Dec 2020 05:05:22 GMT</pubDate>
        </item>
        <item>
            <title>
<![CDATA[Programming Languages as Objects in Nature]]>
            </title>
            <description>
<![CDATA[
Score 24 | Comments 5 (<a href="https://news.ycombinator.com/item?id=25533846">thread link</a>) | @alokrai
<br/>
December 24, 2020 | https://parentheticallyspeaking.org/articles/pls-nature/ | <a href="https://web.archive.org/web/*/https://parentheticallyspeaking.org/articles/pls-nature/">archive.org</a>
<br/><!-- hnss:readable-content --><hr/><div id="readability-page-1" class="page"><div><div><p>In the early 1990s, the programming languages research community was in an
optimistic mood. In the recent past, two of its paradigmatic languages—<wbr>Scheme
and ML—<wbr>had formalized their semantics. For ML, it took the form of a whole
book by Milner, et al. Scheme provided a denotational semantics in its
standard. Surely, it seemed, it was only a matter of time before all languages
went in this direction.</p><p>What went wrong?</p><blockquote><p>If you’re a working programmer without a theoretical background, you might
wonder why a formal semantics matters at all. It’s actually for reasons you can
understand easily. When you write programs against code that someone else
wrote, you like having an interface, or <span>API</span>, to program against. It mediates
your conversation with the remote code, and anchors conversations about whom to
blame if something doesn’t work as expected.</p><p>The formal semantics of a language does exactly the same thing. The language
itself is the “remote code” you’re programming against. What it does should
be pinned down as precisely as possible—<wbr>but also as understandably as
possible!—<wbr>for you to work with.</p><p>The semantics isn’t just an interface for the user of a language. It’s also a
crucial interface for tool authors, who must (also) otherwise guess at the
behavior of the language. If you want an example of how even the relatively
simple act of a variable rename refactoring can go wrong, see Appendix 2 of
our <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pmmwplck-python-full-monty/">Python semantics</a>. A semantics
doesn’t guarantee those kinds of errors won’t occur, but its absence makes them
far more likely to.</p></blockquote><p>For many researchers, it’s a given that programming languages are
<span>mathematical</span> objects. This is a natural and attractive view. Languages
are formal objects, after all; they are therefore amenable to codification by
everything from logic to topology and more. (Formal) Specification is a natural
consequence of this worldview.</p><p>The world, however, is full of programming languages that do not fit this
model.<span><span><span>Some may even have been created by programming language
semanticists, which is worth pondering.</span></span></span> Created by the ostensibly unwashed,
they rudely announce their arrival with nothing more than an
implementation. People pick them up, find them useful, do worthwhile things
with them, and a million lines later, the next big “scripting language” is
born. Let’s call these <span>informal</span> languages.</p><p>Informal languages are, of course, also amenable to formal specification. However,
a crucial difference governs these two types of languages. Suppose we observe a
difference between what the specification says and what the implementation
does. In the case of Standard ML, for instance, one can approach the
implementor, walk through the reasoning in the specification, and explain why
the implementation is wrong. If the implementor agrees with your reasoning, no
matter how unhappy this makes them, they must admit to and eventually fix their
implementation.</p><p>The implementor of an informal language faces no such constraint. Faced with a
mismatch between an ostensible specification and their implementation, they are
free to simply laugh, question the specification’s parentage, and exit stage
right. The specification can <span>at best</span> track what “the language is
doing”, not really dictate its behavior.</p><p>Specification still serves a role. It can:
</p><div><ul><li><p>Shed light on what is happening inside a large and otherwise opaque
implementation.</p></li><li><p>Point out complex designs that would warrant being simplified.</p></li><li><p>Highlight design aspects that are prone to cause programmer error,
security violations, and so on.</p></li><li><p>Serve all the other uses of a specification, such as serving as a basis
for building tools.</p></li></ul></div><p>To do all these things <span>usefully</span>, however, the specification must take
significant steps to show its conformance to the reality of the informal
language, such as by running the same test suites as the implementations.</p><p>An informal language, then, is much more like an object found in nature:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/rock.jpg" alt="A rock."></p><p>We can push at it, poke it, and prod it, and hope that it will yield its
secrets. But we can never be certain—<wbr>without the help of the
implementors—<wbr>that we have properly characterized all of it.</p><p>That doesn’t mean we can’t approach the problem systematically. Geologists,
confronted with a rock, don’t flail helplessly. In high-school chemistry, I was
taught to approach unknown substances with the <span>SCODS</span> test: check for its
state, color, odor, density, and solubility.<span><span><span>They never included a letter
for “taste”, a reflection perhaps more of their aspiration than of the
reality in a high school chemistry lab.</span></span></span> That is, we identify some of
dimensions of classification, and proceed along the principal axes.</p><p>We have these axes for programming languages, too. We can talk about their
scope rules, their evaluation semantics, their type system, and so on. Indeed,
because so much of a programmer’s career will be spent confronting informal
languages and having to rapidly make sense out of them, I’ve long felt that how
we <span>teach</span> programming languages should
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/sk-teach-pl-post-linnaean/">also be divided along these
dimensions</a>.</p><p>The problem of informal languages will not go away, so long as a dedicated
amateur can scare up a new language’s implementation. Indeed, the size of our
informal language space grows ever-bigger, and vastly so, than that of
mathematical languages. In 2015, I made this slide:</p><p><img src="https://parentheticallyspeaking.org/articles/pls-nature/stack.png" alt="Our programming stack." width="560" height="420"></p><p>It shows the stack atop which a typical client-side Web program of the day
resided. What it actually shows is something much more subtle and important:</p><p><span>Programmers do not program in “languages”.</span></p><p>Rather, they program in some complex combination of languages, libraries,
frameworks (which can impose their own operational behavior—<wbr>e.g., seemingly
turn a call-by-value language into a reactive one), and more. What a programmer
needs is a semantics not just for the language sitting near the bottom, but
rather for the mountain on top of which their program resides.</p><p>For illustrative examples of what such semantics might look like, see our work
on the <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lckqk-model-reason-dom-events/">operational semantics of
the <span>DOM</span></a> (it’s a giant control operator, y’all!), and
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/lelk-types-jquery-programs/">the type structure of jQuery</a>. But
these are just a tiny sliver of a tiny sliver. How do we make real progress up
the mountain and keep our position there as it keeps thrusting further out of
the ground?</p><p>We can’t expect the date-picker library’s author to also be a semanticist. But
we shouldn’t therefore resignedly conclude that we can never get there. Rather,
we should acknowledge that there are useful divisions of labor. Instead of
scolding informal language designers for their practices, semanticists need to
find methods to bridge that gap, keeping in mind:</p><blockquote><p><span>One can’t proceed from the informal to the formal by formal means.Alan Perlis</span></p></blockquote><p>Whatever we propose needs to be:
</p><div><ul><li><p>Reasonable (in terms of skill) for the implementor to produce.</p></li><li><p>Useful for them to produce.</p></li><li><p>Useful for us to consume and work with.</p></li></ul></div><p>One especially good intermediate proxy is a test suite of some sort. Tests
don’t always get the respect they deserve, but they too are a form of
specification. I like to call them “specifications from below”, precisely
defining what should happen in individual cases, whereas the typical formal
specification is “specification from above”, defining what happens across a
family of cases. Ultimately, of course, we need specifications “from above”,
but it’s worth noting that specifications “from below” are both useful to
developers and something they are skilled at producing. The recent trend in
languages of producing “confirmance suites” or “litmus tests” is especially
promising in this regard. (Our work on formalizing the
<a href="https://cs.brown.edu/~sk/Publications/Papers/Published/pclpk-s5-semantics/">strict mode of of ECMAScript 5.1</a>,
for instance, made use of the ECMAScript conformance suite.)</p><p>How we use them remains a little bit of an open question. The most obvious use
is to test our semantics: what <a href="https://ccs.neu.edu/~arjunguha/main/home/">Arjun Guha</a> and I, to perhaps the horror
of some, called a <span>tested semantics</span>. But we might also be able to
generalize these tests, from “below” to “above”, i.e., it’s a synthesis
problem. This requires some structure to produce a semantics that is also
meaningful. Our paper on <a href="https://cs.brown.edu/~sk/Publications/Papers/Published/kle-next-700-semantics//">The Next 700
Semantics</a> describes some of the contours for this line of work to consider.</p></div></div></div>]]>
            </description>
            <link>https://parentheticallyspeaking.org/articles/pls-nature/</link>
            <guid isPermaLink="false">hacker-news-small-sites-25533846</guid>
            <pubDate>Fri, 25 Dec 2020 03:06:02 GMT</pubDate>
        </item>
    </channel>
</rss>
